<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 10 Dec 2025 20:30:01 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Auto-grading decade-old Hacker News discussions with hindsight (129 pts)]]></title>
            <link>https://karpathy.bearblog.dev/auto-grade-hn/</link>
            <guid>46220540</guid>
            <pubDate>Wed, 10 Dec 2025 17:23:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://karpathy.bearblog.dev/auto-grade-hn/">https://karpathy.bearblog.dev/auto-grade-hn/</a>, See on <a href="https://news.ycombinator.com/item?id=46220540">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    

    

    
        

        <p>
            <i>
                <time datetime="2025-12-10T15:00Z">
    10 Dec, 2025
</time>
            </i>
        </p>
    

    <p><img src="https://bear-images.sfo2.cdn.digitaloceanspaces.com/karpathy/hnhero.webp" alt="hnhero"></p>
<p>TLDR: <a href="https://karpathy.ai/hncapsule/">https://karpathy.ai/hncapsule/</a></p>
<hr>
<p>Yesterday I stumbled on this HN thread <a href="https://news.ycombinator.com/item?id=46205632">Show HN: Gemini Pro 3 hallucinates the HN front page 10 years from now</a>, where Gemini 3 was hallucinating the frontpage of 10 years from now. One of the comments struck me a bit more though - Bjartr linked to the <a href="https://news.ycombinator.com/front?day=2015-12-09">HN frontpage from exactly 10 years ago</a>, i.e. December 2015. I was reading through the discussions of 10 years ago and mentally grading them for prescience when I realized that an LLM might actually be a lot better at this task. I copy pasted one of the article+comment threads manually into ChatGPT 5.1 Thinking and it gave me a beautiful analysis of what people thought + what actually happened in retrospect, even better and significantly more detailed than what I was doing manually. I realized that this task is actually a really good fit for LLMs and I was looking for excuses to vibe code something with the newly released Opus 4.5, so I got to work. I'm going to get all the front pages of December (31 days, 30 articles per day), get ChatGPT 5.1 Thinking to do the analysis, and present everything in a nice way for historical reading.</p>
<p>There are two macro reasons for why I think the exercise is interesting more generally:</p>
<ol>
<li>I believe it is quite possible and desirable to train your forward future predictor given training and effort.</li>
<li>I was reminded again of my tweets that said <em>"Be good, future LLMs are watching"</em>. You can take that in many directions, but here I want to focus on the idea that future LLMs <strong>are</strong> watching. Everything we do today might be scrutinized in great detail in the future because doing so will be "free". A lot of the ways people behave currently I think make an implicit "security by obscurity" assumption. But if intelligence really does become too cheap to meter, it will become possible to do a perfect reconstruction and synthesis of everything. LLMs are watching (or humans using them might be). Best to be good.</li>
</ol>
<p>Vibe coding the actual project was relatively painless and took about 3 hours with Opus 4.5, with a few hickups but overall very impressive. The repository is on GitHub here: <a href="https://github.com/karpathy/hn-time-capsule">karpathy/hn-time-capsule</a>. Here is the progression of what the code does:</p>
<ul>
<li>Given a date, download the frontpage of 30 articles</li>
<li>For each article, download/parse the article itself and the full comment thread using Algolia API.</li>
<li>Package up everything into a markdown prompt asking for the analysis. Here is the prompt prefix I used:</li>
</ul>
<div><pre><span></span>The following is an article that appeared on Hacker News 10 years ago, and the discussion thread.

Let's use our benefit of hindsight now in 6 sections:

1. Give a brief summary of the article and the discussion thread.
2. What ended up happening to this topic? (research the topic briefly and write a summary)
3. Give out awards for "Most prescient" and "Most wrong" comments, considering what happened.
4. Mention any other fun or notable aspects of the article or discussion.
5. Give out grades to specific people for their comments, considering what happened.
6. At the end, give a final score (from 0-10) for how interesting this article and its retrospect analysis was.

As for the format of Section 5, use the header "Final grades" and follow it with simply an unordered list of people and their grades in the format of "name: grade (optional comment)". Here is an example:

Final grades
- speckx: A+ (excellent predictions on ...)
- tosh: A (correctly predicted this or that ...)
- keepamovin: A
- bgwalter: D
- fsflover: F (completely wrong on ...)

Your list may contain more people of course than just this toy example. Please follow the format exactly because I will be parsing it programmatically. The idea is that I will accumulate the grades for each account to identify the accounts that were over long periods of time the most prescient or the most wrong.

As for the format of Section 6, use the prefix "Article hindsight analysis interestingness score:" and then the score (0-10) as a number. Give high scores to articles/discussions that are prominent, notable, or interesting in retrospect. Give low scores in cases where few predictions are made, or the topic is very niche or obscure, or the discussion is not very interesting in retrospect.

Here is an example:
Article hindsight analysis interestingness score: 8
---
</pre></div>
<ul>
<li>Submit prompt to GPT 5.1 Thinking via the OpenAI API</li>
<li>Collect and parse the results</li>
<li>Render the results into static HTML web pages for easy viewing</li>
<li>Host the html result pages on my website: <a href="https://karpathy.ai/hncapsule/">https://karpathy.ai/hncapsule/</a></li>
<li>Host all the intermediate results of the <code>data</code> directory if someone else would like to play. It's the file <code>data.zip</code> under the exact same url prefix (intentionally avoiding a direct link).</li>
</ul>
<p>I spent a few hours browsing around and found it to be very interesting. A few example threads just for fun:</p>
<ul>
<li>December 3 2015 <a href="https://karpathy.ai/hncapsule/2015-12-03/index.html#article-10669891">Swift went open source</a>.</li>
<li>December 6 2015 <a href="https://karpathy.ai/hncapsule/2015-12-06/index.html#article-10685407">Launch of Figma</a></li>
<li>December 11 2015 <a href="https://karpathy.ai/hncapsule/2015-12-11/index.html#article-10720176">original announcement of OpenAI</a> :').</li>
<li>December 16 2015 <a href="https://karpathy.ai/hncapsule/2015-12-16/index.html#article-10744206">geohot is building Comma</a></li>
<li>December 22 2015 <a href="https://karpathy.ai/hncapsule/2015-12-22/index.html#article-10774865">SpaceX launch webcast: Orbcomm-2 Mission</a></li>
<li>December 28 2015 <a href="https://karpathy.ai/hncapsule/2015-12-28/index.html#article-10799261">Theranos struggles</a></li>
</ul>
<p>And then when you navigate over to the <a href="https://karpathy.ai/hncapsule/hall-of-fame.html">Hall of Fame</a>, you can find the top commenters of Hacker News in December 2015, sorted by imdb-style score of their grade point average. In particular, congratulations to pcwalton, tptacek, paulmd, cstross, greglindahl, moxie, hannob, 0xcde4c3db, Manishearth, johncolanduoni - GPT 5.1 Thinking found your comments very insightful and prescient. You can also scroll all the way down to find the noise of HN, which I think we're all familiar with too :)</p>
<p>My <a href="https://github.com/karpathy/hn-time-capsule">code</a> (wait, Opus' code?) on GitHub can be used to reproduce or tweak the results. Running 31 days of 30 articles through GPT 5.1 Thinking meant <code>31 * 30 =</code> 930 LLM queries and cost about $58 and somewhere around ~1 hour. The LLM megaminds of the future might find this kind of a thing a lot easier, a lot faster and a lot cheaper.</p>


    

    
        

        
            


        

        
            
        
    


  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Valve: HDMI Forum Continues to Block HDMI 2.1 for Linux (250 pts)]]></title>
            <link>https://www.heise.de/en/news/Valve-HDMI-Forum-Continues-to-Block-HDMI-2-1-for-Linux-11107440.html</link>
            <guid>46220488</guid>
            <pubDate>Wed, 10 Dec 2025 17:20:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.heise.de/en/news/Valve-HDMI-Forum-Continues-to-Block-HDMI-2-1-for-Linux-11107440.html">https://www.heise.de/en/news/Valve-HDMI-Forum-Continues-to-Block-HDMI-2-1-for-Linux-11107440.html</a>, See on <a href="https://news.ycombinator.com/item?id=46220488">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

        

        <p>The HDMI Forum, responsible for the HDMI specification, continues to stonewall open source. Valve's Steam Machine theoretically supports HDMI 2.1, but the <a href="https://www.heise.de/news/Linux-Konsole-Valve-kuendigt-neue-Steam-Machine-an-11076221.html?from-en=1">mini-PC is software-limited to HDMI 2.0</a>. As a result, more than 60 frames per second at 4K resolution are only possible with limitations.</p>
<!-- RSPEAK_STOP -->




  


<!-- RSPEAK_START -->

<p>In a statement to <a href="https://arstechnica.com/gaming/2025/12/why-wont-steam-machine-support-hdmi-2-1-digging-in-on-the-display-standard-drama/" rel="external noopener" target="_blank">Ars Technica, a Valve spokesperson confirmed</a> that HDMI 2.1 support is "still a work-in-progress on the software side." "We’ve been working on trying to unblock things there."</p>
<p>The Steam Machine uses an AMD Ryzen APU with a Radeon graphics unit. Valve strictly adheres to open-source drivers, but the HDMI Forum is unwilling to disclose the 2.1 specification. According to Valve, they have validated the HDMI 2.1 hardware under Windows to ensure basic functionality.</p>
<!-- RSPEAK_STOP -->

  




<!-- RSPEAK_START -->

<h3 id="nav_no_change_after__0">No Change After Almost Two Years</h3>
<p>The restriction imposed by the HDMI Forum <a href="https://www.heise.de/news/AMD-HDMI-Forum-verhindert-HDMI-2-1-unter-Linux-9643729.html?from-en=1">was already criticized in early 2024 by an AMD employee responsible for Linux</a>. Even then, according to AMD, they had submitted a functional, HDMI 2.1-compatible driver, which the HDMI Forum rejected.</p>
<p>"Unfortunately, the HDMI Forum rejected our proposal," it was stated at the time. "At this time an open source HDMI 2.1 implementation is not possible without running afoul of the HDMI Forum requirements."</p>
<p>Only HDMI 2.1 offers sufficient bandwidth for 120 or 144 Hertz at 3840&nbsp;× 2160 pixels without compression. Furthermore, this version introduced manufacturer-independent variable refresh rates (HDMI VRR). Valve enables 4K and 120 Hertz using chroma subsampling, a compression technique that is particularly noticeable with text. VRR functions in the form of AMD's Freesync, which requires compatible displays.</p>
<!-- RSPEAK_STOP -->


  



  




<!-- RSPEAK_START -->

<p>Alternatively, interested parties can use an active adapter from DisplayPort 1.4 to HDMI 2.1 to increase the frame rate without compression. However, they do not officially support VRR. Popular variants from Club3D are no longer available; <a data-teaser-tracking-content="textlink-pvg" data-teaser-tracking-id="textlink-pvg-pvg_a2664995-1" data-teaser-tracking-name="pvg_a2664995: Lindy DisplayPort 1.4 Stecker auf HDMI 2.1 Buchse, Adapter (41094)" data-teaser-tracking-rank="11107440: Valve: HDMI Forum Continues to Block HDMI 2.1 for…" href="https://preisvergleich.heise.de/lindy-displayport-1-4-stecker-auf-hdmi-2-1-buchse-41094-a2664995.html?cs_id=1206858352&amp;ccpid=hocid-newsticker" rel="external noopener" target="_blank">offers from less well-known providers (starting from 35,67 €)</a> are still available in price comparisons.</p>


<!-- RSPEAK_STOP -->

<!-- RSPEAK_START -->
<p>

<!-- RSPEAK_STOP -->
<span>(<a href="mailto:mma@heise.de" title="Mark Mantel">mma</a>)</span>
<!-- RSPEAK_START -->
</p>
<div>
    <p>
      Don't miss any news – follow us on
      <a href="https://www.facebook.com/heiseonlineEnglish">Facebook</a>,
      <a href="https://www.linkedin.com/company/104691972">LinkedIn</a> or
      <a href="https://social.heise.de/@heiseonlineenglish">Mastodon</a>.
    </p>
    <p>
      <em>This article was originally published in
      
        <a href="https://www.heise.de/news/Valve-HDMI-Forum-blockiert-weiter-HDMI-2-1-fuer-Linux-11107364.html">German</a>.
      
      It was translated with technical assistance and editorially reviewed before publication.</em>
    </p>
  </div>



        

        
        <!-- RSPEAK_STOP -->
        

<a-gift has-access="">
    
</a-gift>


        
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[DeepSeek uses banned Nvidia chips for AI model, report says (226 pts)]]></title>
            <link>https://finance.yahoo.com/news/china-deepseek-uses-banned-nvidia-131207746.html</link>
            <guid>46219853</guid>
            <pubDate>Wed, 10 Dec 2025 16:34:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://finance.yahoo.com/news/china-deepseek-uses-banned-nvidia-131207746.html">https://finance.yahoo.com/news/china-deepseek-uses-banned-nvidia-131207746.html</a>, See on <a href="https://news.ycombinator.com/item?id=46219853">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main-content-wrapper">  <article data-testid="article-content-wrapper">     <div data-testid="article-body">   <figure data-testid="article-figure-image"><div> <p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Photographer: Lam Yik/Bloomberg" loading="eager" height="641" width="960"></p></div> <figcaption><!-- HTML_TAG_START -->Photographer: Lam Yik/Bloomberg<!-- HTML_TAG_END -->  </figcaption> </figure>   <p><!-- HTML_TAG_START --><span>(Bloomberg) --</span> Chinese artificial intelligence startup DeepSeek has relied on Nvidia Corp. chips that are banned in the country to develop an upcoming AI model, according to a new report in The Information.<!-- HTML_TAG_END --></p>   <p><!-- HTML_TAG_START -->Nvidia’s Blackwell chips were smuggled into China through countries that permitted their sale, The Information reported, citing unnamed sources. More specifically, DeepSeek tapped chips that were installed in data centers in unspecified countries, then dismantled and shipped to China after clearing inspection by companies developing server equipment, The Information said. <!-- HTML_TAG_END --></p>      <p><!-- HTML_TAG_START -->Most Read from Bloomberg<!-- HTML_TAG_END --></p>   <ul><li> <p><!-- HTML_TAG_START --><a href="https://www.bloomberg.com/news/articles/2025-12-08/nj-suburb-montclair-goes-through-with-school-system-staff-cuts?utm_campaign=bn&amp;utm_medium=distro&amp;utm_source=yahooUS" rel="nofollow noopener" target="_blank" data-ylk="slk:NJ’s Montclair Cuts School Staff and Mulls March Tax-Hike Vote;elm:context_link;itc:0;sec:content-canvas">NJ’s Montclair Cuts School Staff and Mulls March Tax-Hike Vote</a><!-- HTML_TAG_END --></p> </li><li> <p><!-- HTML_TAG_START --><a href="https://www.bloomberg.com/news/articles/2025-12-09/aviva-seeks-partner-for-new-city-of-london-skyscraper-project?utm_campaign=bn&amp;utm_medium=distro&amp;utm_source=yahooUS" rel="nofollow noopener" target="_blank" data-ylk="slk:Aviva Seeks Partner for New City of London Skyscraper Project;elm:context_link;itc:0;sec:content-canvas">Aviva Seeks Partner for New City of London Skyscraper Project</a><!-- HTML_TAG_END --></p> </li><li> <p><!-- HTML_TAG_START --><a href="https://www.bloomberg.com/news/articles/2025-12-09/democrats-seek-probe-of-trump-officials-dealings-with-immigration-contractors?utm_campaign=bn&amp;utm_medium=distro&amp;utm_source=yahooUS" rel="nofollow noopener" target="_blank" data-ylk="slk:Democrats Want Probe of Trump Officials and Immigration Deals;elm:context_link;itc:0;sec:content-canvas">Democrats Want Probe of Trump Officials and Immigration Deals</a><!-- HTML_TAG_END --></p> </li> </ul>   <p><!-- HTML_TAG_START -->The US bans the sale of these advanced semiconductors to China, which has led AI developers there to access the hardware through data centers located outside of the mainland or subterfuge. In November, US prosecutors charged two Chinese nationals and two US citizens with a scheme to ship chips to China by way of Malaysia using a fake real estate business.<!-- HTML_TAG_END --></p>   <p><!-- HTML_TAG_START -->A representative for DeepSeek didn’t immediately respond to a request for comment.<!-- HTML_TAG_END --></p>   <p><!-- HTML_TAG_START -->DeepSeek drew global attention in January when it debuted an AI model that was competitive with Silicon Valley’s best and said it had built it at a fraction of the cost. The startup was funded by the Chinese hedge fund High-Flyer, which had amassed 10,000 Nvidia GPUs in 2021, prior to US bans on exports of sophisticated Nvidia chips and other graphics processing units.<!-- HTML_TAG_END --></p>      <p><!-- HTML_TAG_START -->Earlier this week, President Donald Trump granted Nvidia permission to ship to China an older version of its AI accelerators, the H200. An export ban on its more powerful Blackwell version remains in place.<!-- HTML_TAG_END --></p>   <p><!-- HTML_TAG_START -->Beijing has meanwhile pushed Chinese technology companies to rely on domestic equipment to develop AI. DeepSeek released a new model in September and indicated that it was working with Chinese chipmakers on the model.<!-- HTML_TAG_END --></p>   <p><!-- HTML_TAG_START -->Nvidia told The Information that it hasn’t seen “any substantiation or received tips” about smuggling through data centers outside of China.<!-- HTML_TAG_END --></p>   <p><!-- HTML_TAG_START -->(Updates with more details on reported chip smuggling starting in the third paragraph)<!-- HTML_TAG_END --></p>   <p><!-- HTML_TAG_START -->Most Read from Bloomberg Businessweek<!-- HTML_TAG_END --></p>   <ul><li> <p><!-- HTML_TAG_START --><a href="https://www.bloomberg.com/news/features/2025-12-09/albright-college-budget-cuts-are-eliminating-many-traditional-majors?utm_campaign=bw&amp;utm_medium=distro&amp;utm_source=yahooUS" rel="nofollow noopener" target="_blank" data-ylk="slk:Why a College Fighting for Survival Is Slashing Econ and Physics Majors;elm:context_link;itc:0;sec:content-canvas">Why a College Fighting for Survival Is Slashing Econ and Physics Majors</a><!-- HTML_TAG_END --></p> </li><li> <p><!-- HTML_TAG_START --><a href="https://www.bloomberg.com/news/features/2025-12-09/argentina-s-richest-man-marcos-galperin-on-stepping-down-as-mercadolibre-ceo?utm_campaign=bw&amp;utm_medium=distro&amp;utm_source=yahooUS" rel="nofollow noopener" target="_blank" data-ylk="slk:Argentina’s Richest Man: ‘Real Power Is Choosing When to Step Away’;elm:context_link;itc:0;sec:content-canvas">Argentina’s Richest Man: ‘Real Power Is Choosing When to Step Away’</a><!-- HTML_TAG_END --></p> </li><li> <p><!-- HTML_TAG_START --><a href="https://www.bloomberg.com/news/features/2025-12-09/nuclear-energy-fossil-fuel-interests-join-forces-against-renewable-energy?utm_campaign=bw&amp;utm_medium=distro&amp;utm_source=yahooUS" rel="nofollow noopener" target="_blank" data-ylk="slk:Nuclear and Fossil Fuels Join Forces to Undermine Renewables;elm:context_link;itc:0;sec:content-canvas">Nuclear and Fossil Fuels Join Forces to Undermine Renewables</a><!-- HTML_TAG_END --></p> </li><li> <p><!-- HTML_TAG_START --><a href="https://www.bloomberg.com/news/features/2025-12-08/grand-canyon-glacier-joshua-tree-national-park-workers-rally-to-unionize?utm_campaign=bw&amp;utm_medium=distro&amp;utm_source=yahooUS" rel="nofollow noopener" target="_blank" data-ylk="slk:How Trump Pushed US Park Rangers to the Breaking Point—and a Union Drive;elm:context_link;itc:0;sec:content-canvas">How Trump Pushed US Park Rangers to the Breaking Point—and a Union Drive</a><!-- HTML_TAG_END --></p> </li><li> <p><!-- HTML_TAG_START --><a href="https://www.bloomberg.com/news/articles/2025-12-03/ai-slop-youtube-videos-for-kids-pretend-to-be-educational?utm_campaign=bw&amp;utm_medium=distro&amp;utm_source=yahooUS" rel="nofollow noopener" target="_blank" data-ylk="slk:YouTube Creators Find a New Consumer for AI Slop: Babies;elm:context_link;itc:0;sec:content-canvas">YouTube Creators Find a New Consumer for AI Slop: Babies</a><!-- HTML_TAG_END --></p> </li> </ul>   <p><!-- HTML_TAG_START -->©2025 Bloomberg L.P.<!-- HTML_TAG_END --></p>   </div> <span> </span>  </article>     <hr> <ul><li data-testid="seamlessscroll-6f99d87c-7474-3d64-b2e5-19edaf0c66ef"> </li><li data-testid="seamlessscroll-3e7395ca-6ae7-3e6e-9226-a1df04934c4b"> </li><li data-testid="seamlessscroll-4b18cf2c-f118-392a-aa62-695ba93376df"> </li><li data-testid="seamlessscroll-7416125b-ea22-3ad7-bd27-9434d427e188"> </li><li data-testid="seamlessscroll-c848c1fa-973e-35e4-9051-b71406386dac"> </li><li data-testid="seamlessscroll-e6c25bb8-8cef-3d9b-9ee8-ee448aba48be"> </li><li data-testid="seamlessscroll-bdcba08a-56a4-306e-9e56-04cce3f29951"> </li></ul> <section><header> </header>   </section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Qwen3-Omni-Flash-2025-12-01：a next-generation native multimodal large model (130 pts)]]></title>
            <link>https://qwen.ai/blog?id=qwen3-omni-flash-20251201</link>
            <guid>46219538</guid>
            <pubDate>Wed, 10 Dec 2025 16:13:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://qwen.ai/blog?id=qwen3-omni-flash-20251201">https://qwen.ai/blog?id=qwen3-omni-flash-20251201</a>, See on <a href="https://news.ycombinator.com/item?id=46219538">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Size of Life (761 pts)]]></title>
            <link>https://neal.fun/size-of-life/</link>
            <guid>46219346</guid>
            <pubDate>Wed, 10 Dec 2025 16:02:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://neal.fun/size-of-life/">https://neal.fun/size-of-life/</a>, See on <a href="https://news.ycombinator.com/item?id=46219346">Hacker News</a></p>
Couldn't get https://neal.fun/size-of-life/: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[In New York City, congestion pricing leads to marked drop in pollution (382 pts)]]></title>
            <link>https://e360.yale.edu/digest/new-york-congestion-pricing-pollution</link>
            <guid>46218725</guid>
            <pubDate>Wed, 10 Dec 2025 15:25:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://e360.yale.edu/digest/new-york-congestion-pricing-pollution">https://e360.yale.edu/digest/new-york-congestion-pricing-pollution</a>, See on <a href="https://news.ycombinator.com/item?id=46218725">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
                  
<div>

  <figure>

    <div>
      
                  
      <p><a href="https://yale-threesixty.transforms.svdcdn.com/production/NY-Street_Pexels.jpg?w=1200&amp;h=800&amp;auto=compress%2Cformat&amp;fit=crop&amp;dm=1765283167&amp;s=0cbefdad5bd8aac05b696a3ccd664a41" data-caption="" data-credit="Pexels">
  
  
  
    
  
  
  
      
    
                
    
                
    
                
    
                
    
                        
  <img sizes="(min-width: 1450px) 832px, (min-width: 620px) 620px, 100vw" srcset="https://yale-threesixty.transforms.svdcdn.com/production/NY-Street_Pexels.jpg?w=1200&amp;h=800&amp;auto=compress%2Cformat&amp;fit=crop&amp;dm=1765283167&amp;s=0cbefdad5bd8aac05b696a3ccd664a41 1200w, https://yale-threesixty.transforms.svdcdn.com/production/NY-Street_Pexels.jpg?w=200&amp;auto=compress%2Cformat&amp;fit=clip&amp;dm=1765283167&amp;s=ce71b84136fe60ca9ab40e66fe6e62f0 200w, https://yale-threesixty.transforms.svdcdn.com/production/NY-Street_Pexels.jpg?w=400&amp;auto=compress%2Cformat&amp;fit=clip&amp;dm=1765283167&amp;s=514435a5842d6a703560bc3e8dcf8a84 400w, https://yale-threesixty.transforms.svdcdn.com/production/NY-Street_Pexels.jpg?w=600&amp;auto=compress%2Cformat&amp;fit=clip&amp;dm=1765283167&amp;s=6dec6ff9eef4bf5345d6ff07f9de00d5 600w, https://yale-threesixty.transforms.svdcdn.com/production/NY-Street_Pexels.jpg?w=800&amp;auto=compress%2Cformat&amp;fit=clip&amp;dm=1765283167&amp;s=6ec63769954ae19251cc99827541364e 800w, https://yale-threesixty.transforms.svdcdn.com/production/NY-Street_Pexels.jpg?w=1000&amp;auto=compress%2Cformat&amp;fit=clip&amp;dm=1765283167&amp;s=22956faaf223e612682176b0f9ac41a9 1000w" src="https://yale-threesixty.transforms.svdcdn.com/production/NY-Street_Pexels.jpg?w=400&amp;auto=compress%2Cformat&amp;fit=clip&amp;dm=1765283167&amp;s=514435a5842d6a703560bc3e8dcf8a84" alt="">
</a>
      </p>
          </div>

        <figcaption>
              <p><span></span>
          <span>Pexels</span></p>
    </figcaption>
    
  </figure>

</div> <!-- imageBlock -->
            

<div>
  <p>A new toll applied to cars driving in parts of New York City has led to a measurable drop in traffic, and with it, a 22 percent decline in particulate pollution, according to a new study.</p><p>Congestion pricing came into effect in January, with cars paying $9 to drive through busy parts of Manhattan during peak hours. In the first six months of the program, traffic in the congestion zone dropped by 11 percent, accidents by 14 percent, and complaints of excessive honking or other noise by 45 percent, <a href="https://www.cbsnews.com/newyork/news/congestion-pricing-first-6-months/">officials said</a>.&nbsp;</p><p>A new study from Cornell has now tallied the impact on particulate pollution. Particulates issued from tailpipes can aggravate asthma and heart disease and increase the risk of lung cancer and heart attack. Globally, they are a leading risk factor for premature death.</p><p>Analyzing data on air quality, traffic, and weather conditions, researchers determined that in the first half of this year, particulate pollution was down 22 percent in parts of Manhattan affected by congestion pricing.&nbsp;</p><p>The decline seen in New York was greater than in other cities with congestion pricing, such as Stockholm and London, researchers note. And the effect extended beyond Lower Manhattan. Pricing led to a drop in pollution across the greater metropolitan area, according to the <a href="https://www.nature.com/articles/s44407-025-00037-2">study</a>, published in the journal <i>npj Clean Air.</i></p><p>“It’s really exciting to me that air quality improved throughout the entire metro area,” <a href="https://news.cornell.edu/stories/2025/12/congestion-pricing-improved-air-quality-nyc-and-suburbs">said lead author</a> Timothy Fraser, of Cornell University. “This tells us that congestion pricing didn’t simply relocate air pollution to the suburbs by rerouting traffic. Instead, folks are likely choosing cleaner transportation options altogether, like riding public transportation or scheduling deliveries at night. This thins traffic and limits how smog compounds when many cars are on the road.”</p><h2><strong>ALSO ON YALE E360</strong></h2><p><a href="https://e360.yale.edu/features/free-parking-reform"><i><strong>How Parking Reform Is Helping Transform American Cities</strong></i></a></p>
</div>
                </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Israel used Palantir technologies in pager attack in Lebanon (257 pts)]]></title>
            <link>https://the307.substack.com/p/revealed-israel-used-palantir-technologies</link>
            <guid>46218640</guid>
            <pubDate>Wed, 10 Dec 2025 15:18:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://the307.substack.com/p/revealed-israel-used-palantir-technologies">https://the307.substack.com/p/revealed-israel-used-palantir-technologies</a>, See on <a href="https://news.ycombinator.com/item?id=46218640">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!2lf3!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!2lf3!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp 424w, https://substackcdn.com/image/fetch/$s_!2lf3!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp 848w, https://substackcdn.com/image/fetch/$s_!2lf3!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp 1272w, https://substackcdn.com/image/fetch/$s_!2lf3!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/$s_!2lf3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp" width="1200" height="630" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:630,&quot;width&quot;:1200,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:65810,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://the307.substack.com/i/181105265?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!2lf3!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp 424w, https://substackcdn.com/image/fetch/$s_!2lf3!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp 848w, https://substackcdn.com/image/fetch/$s_!2lf3!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp 1272w, https://substackcdn.com/image/fetch/$s_!2lf3!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5818e140-0706-4518-9e7c-80ca32bccee0_1200x630.webp 1456w" sizes="100vw" fetchpriority="high"></picture></div></a></figure></div><p><span>In September of 2024, Israel blew up boobie trapped pagers belonging to Hezbollah figures in public places in Lebanon, </span><a href="https://www.hrw.org/news/2024/09/18/lebanon-exploding-pagers-harmed-hezbollah-civilians" rel="">killing 12 people, </a><span>including two children and two healthcare workers, and injuring 2,800. </span></p><p><span>The attack was followed </span><a href="https://apnews.com/projects/israel-gaza-war-pager-attack-survivors-hezbollah/" rel="">by another attack</a><span> using explosives in walkie-talkies that killed 25 people and injured another 600. </span></p><p>The Associated Press reported that the attacks “wounded many civilians” and that survivors are left “with missing eyes, faces laced with scars, hands with missing fingers”. </p><p><span>The United Nations at the time </span><a href="https://www.ohchr.org/en/press-releases/2024/09/exploding-pagers-and-radios-terrifying-violation-international-law-say-un" rel="">noted that</a><span> the attacks “constitute war crimes of murder, attacking civilians, and launching indiscriminate attacks, in addition to violating the right to life” adding that, “Around 500 people suffered severe eye injuries, including a diplomat. Others suffered grave injuries to their faces, hands and bodies” and that “It is also a war crime to commit violence intended to spread terror among civilians, including to intimidate or deter them from supporting an adversary, A climate of fear now pervades everyday life in Lebanon”. </span></p><p><span>At the time, when asked about the attacks, former CIA director Leon Panetta </span><a href="https://www.yahoo.com/news/surprising-figure-calling-israel-terrorism-155610359.html" rel="">said</a><span>, “I don’t think there’s any question that it’s a form of terrorism”. </span></p><p>Now, a new book quietly reveals that Israel carried out the terrorist attack with the help of the AI surveillance firm Palantir, led by Alex Karp and Peter Thiel. </p><p><span>In the new </span><a href="https://www.amazon.com/Philosopher-Valley-Palantir-Surveillance-State-ebook/dp/B0D54L7Q4W" rel="">biography </a><span>of Palantir co-founder Alex Karp, “The Philosopher in the Valley: Alex Karp, Palantir, and the Rise of the Surveillance State,” by New York Times journalist Michael Steinberger, he writes that prior to the genocide in Gaza,  “the Mossad had been using Palantir technology,” adding that the Shin Bet and IDF, “ sought to obtain Palantir’s software in the wake of Ocotber 7th”. </span></p><p>He goes on to write that, “The demand for Palantir’s assistance was so great that the company dispatched a a team of engineers from London to help get Israeli users online,” adding, “Palantir ended up having to rent a second-floor building that housed its Tel Aviv office, to accommodate the intelligence analysts who needed tutorials”. </p><p>Revealing what Israel used the AI-powered software for, Michael Steinberger notes, “Its software was used by the Israeli military in several raids in Gaza” and goes on to write that, “The company’s technology was deployed by the Israelis during military operations in Lebanon in 2024 that decimated Hezbollah’s top leadership” adding that, “It was also used in Operation Grim Beeper, in which hundreds of Hezbollah fighters were injured and maimed when their pagers and walkie-talkies exploded (the Israelis had booby trapped the devices)”. </p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!H4CQ!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!H4CQ!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png 424w, https://substackcdn.com/image/fetch/$s_!H4CQ!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png 848w, https://substackcdn.com/image/fetch/$s_!H4CQ!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png 1272w, https://substackcdn.com/image/fetch/$s_!H4CQ!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/$s_!H4CQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png" width="811" height="263" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:263,&quot;width&quot;:811,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:82999,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://the307.substack.com/i/181105265?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!H4CQ!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png 424w, https://substackcdn.com/image/fetch/$s_!H4CQ!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png 848w, https://substackcdn.com/image/fetch/$s_!H4CQ!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png 1272w, https://substackcdn.com/image/fetch/$s_!H4CQ!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad25c5da-bb42-4622-b9ad-8cde1a5e8068_811x263.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>Francesca Albanese, the United Nations’ Special Rapporteur on the situation of human rights in the Palestinian Territory, occupied since 1967, </span><a href="https://www.ohchr.org/sites/default/files/documents/hrbodies/hrcouncil/sessions-regular/session59/advance-version/a-hrc-59-23-aev.pdf" rel="">documented </a><span> Palantir’s role in the genocide in Gaza, noting, “In January 2024, Palantir announced a new strategic partnership with Israel and held a board meeting in Tel Aviv “in solidarity”; in April 2025, Palantir’s Chief Executive Officer responded to accusations that Palantir had killed Palestinians in Gaza by saying, ‘mostly terrorists, that’s true’. Both incidents are indicative of executive-level knowledge and purpose vis-à-vis the unlawful use of force by Israel, and failure to prevent such acts or withdraw involvement.”</span></p><p>Now it is revealed that the AI software was used in Israel’s terrorist attack in Lebanon as well. </p><p><span>In a recent </span><a href="https://www.middleeastmonitor.com/20251030-ex-mossad-chief-behind-icj-blackmail-campaign-brags-israel-has-installed-a-global-sabotage-network/" rel="">interview, the former head of </a><span>the Israeli Mossad, Yossi Cohen, revealed that Israel has similar “booby-trapped and spy-manipulated equipment” in “all the countries you can imagine”. </span></p><p>The fact that a company as influential as Palantir was involved in the terrorist attacks makes these comments even more concerning. </p><p><em>Note to readers: </em><span>The Dissident is a reader-supported outlet. If you liked this article, consider becoming a paid subscriber.</span></p></div></article></div><div><div id="discussion"><h4>Discussion about this post</h4></div><div><h3>Ready for more?</h3></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[US could ask foreign tourists for five-year social media history before entry (105 pts)]]></title>
            <link>https://www.bbc.co.uk/news/articles/c1dz0g2ykpeo</link>
            <guid>46217026</guid>
            <pubDate>Wed, 10 Dec 2025 12:37:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bbc.co.uk/news/articles/c1dz0g2ykpeo">https://www.bbc.co.uk/news/articles/c1dz0g2ykpeo</a>, See on <a href="https://news.ycombinator.com/item?id=46217026">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-component="text-block"><p><b>Tourists from dozens of countries including the UK could be asked to provide a five-year social media history as a condition of entry to the United States, under a new proposal unveiled by American officials.</b></p><p>The new condition would affect people from dozens of countries who are eligible to visit the US for 90 days without a visa, as long as they have filled out an Electronic System for Travel Authorization (ESTA) form.</p><p>Since returning to the White House in January, President Donald Trump has moved to toughen US borders more generally - citing national security as a key reason.</p><p>Analysts say the new plan could pose an obstacle to potential visitors, or harm their digital rights.</p></div><div data-component="text-block"><p>The US expects a major influx of foreign tourists next year, as it hosts the men's football World Cup alongside Canada and Mexico, and for the 2028 Olympics in Los Angeles.</p><p>The proposal document was filed by Customs and Border Protection (CBP) and the Department of Homeland Security (DHS), of which the agency is part.</p><p>US media reported that it appeared in the Federal Register, which is the official journal of the US government. The BBC has asked DHS for comment.</p><p>The proposal says "the data element will require <a href="https://esta.cbp.dhs.gov/">ESTA applicants<span>, <!-- -->external</span></a> to provide their social media from the last 5 years", without giving further details of which specific information will be required.</p><p>The existing ESTA requires a comparatively limited amount of information from travellers, as well as a one-off payment of $40 (£30). It is accessible to citizens of about 40 countries - including the UK, Ireland, France, Australia and Japan - and allows them to visit the US multiple times during a two-year period.</p><p>As well as the collection of social media information, the new document proposes the gathering of an applicant's telephone numbers and email addresses used over the last five and 10 years respectively, and more information about their family members.</p><p>The text cites an executive order from Trump in January, titled "Protecting the United States From Foreign Terrorists and Other National Security and Public Safety Threats".</p></div><div data-component="text-block"><p>The Trump administration previously announced it would examine social media accounts when vetting foreign nationals who apply for student visas or H1B visas for skilled workers.</p><p>The state department said it will conduct "online presence" reviews for applicants and their dependents, and that privacy settings on all social media profiles must be made "public" so this screening can take place.</p><p>An announcement on the website for the US Embassy and Consulate in Mexico states certain visa applicants must list all social media usernames or handles of every platform they have used in the last five years.</p><p>It warns that if any social media information is not listed, it could lead to both current and future visas being denied.</p><p>A senior state department official said of the student visa policy: "It is an expectation from American citizens that their government will make every effort to make our country safer, and that is exactly what the Trump Administration is doing every single day." </p><p>Officers were instructed to screen for those "who advocate for, aid, or support designated foreign terrorists and other threats to national security; or who perpetrate unlawful anti-Semitic harassment or violence".</p><p>As part of the administration's broader effort to toughen borders, officials recently said an existing travel ban - affecting 19 countries in Africa, the Middle East and the Caribbean - could soon be expanded. </p><p>That move was announced in the wake of a shooting attack on two National Guard members in Washington DC, in which an Afghan man has been named as the suspect. </p><p>The new proposal regarding ESTA data collection for tourists invites views from the public for 60 days. </p><p>Sophia Cope, of digital rights organisation the Electronic Frontier Foundation, criticised the plan, telling the New York Times that it could "exacerbate civil liberties harms".</p><p>Meanwhile, immigration law practice Fragomen suggested there could be practical impacts as applicants could face longer waits for ESTA approvals.</p><p>Experts have previously suggested that the changes to travel policies introduced under Trump have had an impact on the American tourism industry. </p><p>Earlier this year, the World Travel &amp; Tourism Council said the US was the only one of 184 economies that it analysed that was expected to see a decline in international visitor spending in 2025.</p><p>Other Trump administration policies have also appeared to impact tourism to the country, such as many Canadians boycotting US travel as a form of protest against Trump's tariffs.</p><p>October marked the 10th straight month of decline in the number of Canadian travellers to the US. In the past, Canadians have made up about a quarter of all international visitors to the US, spending more than $20bn (£15.1bn) a year, according to the US Travel Association.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Stop Breaking TLS (136 pts)]]></title>
            <link>https://www.markround.com/blog/2025/12/09/stop-breaking-tls/</link>
            <guid>46214950</guid>
            <pubDate>Wed, 10 Dec 2025 07:06:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.markround.com/blog/2025/12/09/stop-breaking-tls/">https://www.markround.com/blog/2025/12/09/stop-breaking-tls/</a>, See on <a href="https://news.ycombinator.com/item?id=46214950">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
        <header>
          
          


          
  <p><strong> Updated:</strong> <time datetime="2025-12-09T08:40:51+00:00">December 9, 2025</time></p>


        </header>
      

      <section itemprop="text">
        


        
        <p><a href="https://news.ycombinator.com/item?id=46214950">Discussion on Hacker News</a>  <a href="https://lobste.rs/s/h7a3xy/stop_breaking_tls">Discussion on lobste.rs</a></p>

<p>Rant ahead: I hate TLS “Inspection” software with a burning passion and I wish we collectively as an industry would just knock it the <em>fuck</em> off and stop pretending it’s some great security benefit. Every time I encounter it, in whatever form, it’s a gigantic headache that makes everyone’s life worse off and as far as I am concerned offers next to zero tangible benefits.</p>

<p>For those blissfully unaware, this is a class of “security” software or appliance that is supposed to let organisations monitor all encrypted traffic. It does this by inserting itself in the middle of traffic, stripping the encryption off so it can inspect it and then re-signing it with its own certificate. If that sounds familiar, it’s because it’s a widely known class of attack - the Man In The Middle attack. Great stuff, we’re literally deploying the exact attack vector that TLS was designed to prevent, but slapping a “security” label on it.</p>

<p>Firstly, it undermines one of the most important protocols of the modern Internet as it deliberately breaks all the guarantees that TLS encryption is supposed to offer. If the MITM certificate is installed everywhere, your company can intercept and monitor everything you say and do. Consider the ramifications of that - confidential messages to HR, medical information, insider trading information, your banking sessions - would you feel happy BCC’ing every single email to your IT department? Would you print out your therapy notes and pin them to the kitchen notice board?</p>

<p>But even ignoring the philosophical arguments about privacy and trust, I argue it actively makes your security <em>worse</em>. Consider this - what is the likelihood of every certificate authority on the Internet having their private keys compromised simultaneously? I’d wager that’s almost at the whatever is the statistics equivalent of the Planck length level of probability.¹</p>

<p>On the other hand, what’s the chance of your company’s MITM private key getting compromised by an attacker? Even if you completely trust your IT team and vendor (and if you do, you clearly haven’t been paying attention to any tech news for oh… the last few decades), you have to admit that chance is a lot higher. And depending on the vendor or tech stack involved, it could be a LOT higher. One disgruntled employee, one unpatched vulnerability, one phishing email to the right admin and choo-choo, it’s all aboard the FAIL train. Now an attacker could have the keys to your entire kingdom.</p>

<p>Then there’s the practicalities of it. It’s simply a massive hassle. Different Operating Systems expect certificates in different formats (PEM? DER? PFX? P7B?) installed in different places with different tooling to manage it all. <code>update-ca-certificates</code> vs <code>update-ca-trust</code> is just the tip of the iceberg - and that’s just the OS level. You then have language runtimes (Java keystore anyone?) and the applications themselves that all need to be configured.</p>

<p>And the problem is compounded with modern cloud-native apps. In a Kubernetes cluster, as well as having to handle updating the node VM images and container runtimes, you’ll have dozens if not hundreds of different base images each of which has their own standards. Alpine uses a different certificate path than Ubuntu. Your Node app expects them somewhere else entirely. The various CRDs or Helm charts you are using may or may not support custom CA bundles, and if they do there’s no agreed-on standard.</p>

<p>Now I’m not saying that because a problem is hard we should simply give up, but even if the benefits were worth it the simple fact is even with the best tooling and automation, you are <strong>guaranteed</strong> to miss something. Whether it’s some obscure tool that has a custom keystore and non-standard tooling, a quick “one off” command in an ephemeral container, some app that uses certificate pinning or an aging switch firmware that doesn’t even support custom certificate bundles, <em>something</em> will slip through the cracks. And when it does, guess what happens?</p>

<p>Which brings me to my biggest peeve: it normalizes bad security practices. Given that you will never have 100% coverage of your CA certificate installation - particularly amongst your technical teams who will be using a multitude of different tools and platforms - you get developers and sysadmins used to TLS errors. Instead of treating each one as an anomaly and something to be investigated, you get used to just running with <code>--insecure</code> or <code>curl -k</code> because you just need to get shit done. Turning off certificate verification becomes a routine troubleshooting step. “Oh, it’s probably just the corporate proxy again” becomes the reflexive response to any TLS error. You’ve just trained your entire technical staff to ignore one of the most important security warnings on the Internet!</p>

<p>And don’t even get me started on the performance and availability implications. All your traffic now has to be decrypted and re-encrypted by your magic box. Hope you sized that appliance correctly! Hope it doesn’t become a single point of failure! Hope it supports all the latest TLS versions and cipher suites!</p>

<p>There are a multitude of ways to protect yourself that are not only less invasive but are often <em>more</em> effective because they’re designed for how modern infrastructure actually works. Anomaly detection, Zero Trust network architecture, EDR, Netflow analysis… You don’t need to create single points of failure, and you can actually work with modern cloud-native infrastructure instead of fighting it. Plus, y’know, there’s this AI thing which as it turns out is actually quite useful at analysing metadata and spotting odd behavioral patterns.</p>

<p>In my experience: TLS <del>Inspection</del> MITM is a gigantic administrative burden, it normalizes bad practice, it creates bottlenecks and availability risks, and actively worsens your security posture.</p>

<p>Just stop it already.</p>

<p><strong>NOTE :</strong> This was a particularly cathartic rant, and I didn’t expect it to blow up and hit the front page of Hacker News! While I was venting away, I do appreciate that there is actually some nuance at play here so for a fuller discussion with some dissenting opinions, please do check out the <a href="https://news.ycombinator.com/item?id=46214950">comment thread</a>.</p>

<p>¹ = In particular, I worded this poorly. What I was thinking of was more along the lines of being able to do this without detection via CT logs etc. A commenter on HN <a href="https://news.ycombinator.com/item?id=46214950#46215764">pointed out</a> that you only need one trusted CA to be compromised which is of course true.</p>

        
      </section>

      

      

      
  

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Revisiting "Let's Build a Compiler" (229 pts)]]></title>
            <link>https://eli.thegreenplace.net/2025/revisiting-lets-build-a-compiler/</link>
            <guid>46214693</guid>
            <pubDate>Wed, 10 Dec 2025 06:22:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://eli.thegreenplace.net/2025/revisiting-lets-build-a-compiler/">https://eli.thegreenplace.net/2025/revisiting-lets-build-a-compiler/</a>, See on <a href="https://news.ycombinator.com/item?id=46214693">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                
                <p>There's an old compiler-building tutorial that has become part of the field's
lore: the <a href="https://compilers.iecc.com/crenshaw/">Let's Build a Compiler</a>
series by Jack Crenshaw (published between 1988 and 1995).</p>
<p>I <a href="https://eli.thegreenplace.net/2003/07/29/great-compilers-tutorial">ran into it in 2003</a>
and was very impressed, but it's now 2025 and this tutorial is still being mentioned quite
often <a href="https://hn.algolia.com/?dateRange=pastYear&amp;page=0&amp;prefix=true&amp;query=crenshaw&amp;sort=byDate&amp;type=all">in Hacker News threads</a>.
Why is that? Why does a tutorial from 35
years ago, built in Pascal and emitting Motorola 68000 assembly - technologies that
are virtually unknown for the new generation of programmers - hold sway over
compiler enthusiasts? I've decided to find out.</p>
<p>The tutorial is <a href="https://compilers.iecc.com/crenshaw/">easily available and readable online</a>, but
just re-reading it seemed insufficient. So I've decided on meticulously
translating the compilers built in it to Python and emit a more modern target -
WebAssembly. It was an enjoyable process and I want to share the outcome and
some insights gained along the way.</p>
<p>The result is <a href="https://github.com/eliben/letsbuildacompiler">this code repository</a>.
Of particular interest is the <a href="https://github.com/eliben/letsbuildacompiler/blob/main/TUTORIAL.md">TUTORIAL.md file</a>,
which describes how each part in the original tutorial is mapped to my code. So
if you want to read the original tutorial but play with code you can actually
easily try on your own, feel free to follow my path.</p>
<div id="a-sample">
<h2>A sample</h2>
<p>To get a taste of the input language being compiled and the output my compiler
generates, here's a sample program in the KISS language designed by Jack
Crenshaw:</p>
<div><pre><span></span>var X=0

 { sum from 0 to n-1 inclusive, and add to result }
 procedure addseq(n, ref result)
     var i, sum  { 0 initialized }
     while i &lt; n
         sum = sum + i
         i = i + 1
     end
     result = result + sum
 end

 program testprog
 begin
     addseq(11, X)
 end
 .
</pre></div>
<p>It's from part 13 of the tutorial, so it showcases procedures along with control
constructs like the <tt>while</tt> loop, and passing parameters both by value and by
reference. Here's the WASM text generated by my compiler for part 13:</p>
<div><pre><span></span><span>(</span><span>module</span>
  <span>(</span><span>memory</span> <span>8</span><span>)</span>
  <span>;; Linear stack pointer. Used to pass parameters by ref.</span>
  <span>;; Grows downwards (towards lower addresses).</span>
  <span>(</span><span>global</span> <span>$__sp</span> <span>(</span><span>mut</span> <span>i32</span><span>)</span> <span>(</span><span>i32.const</span> <span>65536</span><span>))</span>

  <span>(</span><span>global</span> <span>$X</span> <span>(</span><span>mut</span> <span>i32</span><span>)</span> <span>(</span><span>i32.const</span> <span>0</span><span>))</span>

  <span>(</span><span>func</span> <span>$ADDSEQ</span> <span>(</span><span>param</span> <span>$N</span> <span>i32</span><span>)</span> <span>(</span><span>param</span> <span>$RESULT</span> <span>i32</span><span>)</span>
    <span>(</span><span>local</span> <span>$I</span> <span>i32</span><span>)</span>
    <span>(</span><span>local</span> <span>$SUM</span> <span>i32</span><span>)</span>
    <span>loop</span> <span>$loop1</span>
      <span>block</span> <span>$breakloop1</span>
        <span>local.get</span> <span>$I</span>
        <span>local.get</span> <span>$N</span>
        <span>i32.lt_s</span>
        <span>i32.eqz</span>
        <span>br_if</span> <span>$breakloop1</span>
        <span>local.get</span> <span>$SUM</span>
        <span>local.get</span> <span>$I</span>
        <span>i32.add</span>
        <span>local.set</span> <span>$SUM</span>
        <span>local.get</span> <span>$I</span>
        <span>i32.const</span> <span>1</span>
        <span>i32.add</span>
        <span>local.set</span> <span>$I</span>
        <span>br</span> <span>$loop1</span>
      <span>end</span>
    <span>end</span>
    <span>local.get</span> <span>$RESULT</span>
    <span>local.get</span> <span>$RESULT</span>
    <span>i32.load</span>
    <span>local.get</span> <span>$SUM</span>
    <span>i32.add</span>
    <span>i32.store</span>
  <span>)</span>

  <span>(</span><span>func</span> <span>$main</span> <span>(</span><span>export</span> <span>"main"</span><span>)</span> <span>(</span><span>result</span> <span>i32</span><span>)</span>
    <span>i32.const</span> <span>11</span>
    <span>global.get</span> <span>$__sp</span>      <span>;; make space on stack</span>
    <span>i32.const</span> <span>4</span>
    <span>i32.sub</span>
    <span>global.set</span> <span>$__sp</span>
    <span>global.get</span> <span>$__sp</span>
    <span>global.get</span> <span>$X</span>
    <span>i32.store</span>
    <span>global.get</span> <span>$__sp</span>    <span>;; push address as parameter</span>
    <span>call</span> <span>$ADDSEQ</span>
    <span>;; restore parameter X by ref</span>
    <span>global.get</span> <span>$__sp</span>
    <span>i32.load</span> <span>offset</span><span>=</span><span>0</span>
    <span>global.set</span> <span>$X</span>
    <span>;; clean up stack for ref parameters</span>
    <span>global.get</span> <span>$__sp</span>
    <span>i32.const</span> <span>4</span>
    <span>i32.add</span>
    <span>global.set</span> <span>$__sp</span>
    <span>global.get</span> <span>$X</span>
  <span>)</span>
<span>)</span>
</pre></div>
<p>You'll notice that there is some trickiness in the emitted code w.r.t. handling
the by-reference parameter (my <a href="https://eli.thegreenplace.net/2025/notes-on-the-wasm-basic-c-abi/">previous post</a>
deals with this issue in more detail). In general, though, the emitted code is
inefficient - there is close to 0 optimization applied.</p>
<p>Also, if you're very diligent you'll notice something odd about the global
variable <tt>X</tt> - it seems to be implicitly returned by the generated <tt>main</tt>
function. This is just a testing facility that makes my compiler easy to test.
All the compilers are extensively tested - usually by running the
generated WASM code <a href="#footnote-1" id="footnote-reference-1">[1]</a> and verifying expected results.</p>
</div>
<div id="insights-what-makes-this-tutorial-so-special">
<h2>Insights - what makes this tutorial so special?</h2>
<p>While reading the original tutorial again, I had on opportunity to reminisce on
what makes it so effective. Other than the very fluent and conversational
writing style of Jack Crenshaw, I think it's a combination of two key
factors:</p>
<ol>
<li>The tutorial builds a recursive-descent parser step by step, rather than
giving a long preface on automata and table-based parser generators. When
I first encountered it (in 2003), it was taken for granted that if you want
to write a parser then lex + yacc are the way to go <a href="#footnote-2" id="footnote-reference-2">[2]</a>. Following the
development of a simple and clean hand-written
parser was a revelation that wholly changed my approach to the subject;
subsequently, hand-written recursive-descent parsers have been my go-to approach
<a href="https://eli.thegreenplace.net/tag/recursive-descent-parsing">for almost 20 years now</a>.</li>
<li>Rather than getting stuck in front-end minutiae, the tutorial goes straight
to generating working assembly code, from very early on. This was also a
breath of fresh air for engineers who grew up with more traditional courses
where you spend 90% of the time on parsing, type checking and other semantic
analysis and often run entirely out of steam by the time code generation
is taught.</li>
</ol>
<p>To be honest, I don't think either of these are a big problem with modern
resources, but back in the day the tutorial clearly hit the right nerve with
many people.</p>
</div>
<div id="what-else-does-it-teach-us">
<h2>What else does it teach us?</h2>
<p>Jack Crenshaw's tutorial takes the <a href="https://en.wikipedia.org/wiki/Syntax-directed_translation">syntax-directed translation</a>
approach, where code is emitted <em>while parsing</em>, without having to divide the
compiler into explicit phases with IRs. As I said above, this is a fantastic
approach for getting started, but in the latter parts of the tutorial it starts
showing its limitations. Especially once we get to types, it becomes painfully
obvious that it would be very nice if we knew the types of expressions <em>before</em>
we generate code for them.</p>
<p>I don't know if this is implicated in Jack Crenshaw's abandoning the tutorial
at some point after part 14, but it may very well be. He keeps writing how
the emitted code is clearly sub-optimal <a href="#footnote-3" id="footnote-reference-3">[3]</a> and can be improved, but IMHO it's
just not that easy to improve using the syntax-directed translation strategy.
With perfect hindsight vision, I would probably use Part 14 (types) as a turning
point - emitting some kind of AST from the parser and then doing simple type
checking and analysis on that AST prior to generating code from it.</p>
</div>
<div id="conclusion">
<h2>Conclusion</h2>
<p>All in all, the original tutorial remains a wonderfully readable introduction
to building compilers. This post and the <a href="https://github.com/eliben/letsbuildacompiler">GitHub repository</a>
it describes are a modest
contribution that aims to improve the experience of folks reading the original
tutorial today and not willing to use obsolete technologies. As always, let
me know if you run into any issues or have questions!</p>
<hr>
<table id="footnote-1">
<colgroup><col><col></colgroup>
<tbody>
<tr><td><a href="#footnote-reference-1">[1]</a></td><td>This is done using the <a href="https://pypi.org/project/wasmtime/">Python bindings to wasmtime</a>.</td></tr>
</tbody>
</table>
<table id="footnote-2">
<colgroup><col><col></colgroup>
<tbody>
<tr><td><a href="#footnote-reference-2">[2]</a></td><td>By the way, gcc switched from YACC to hand-written recursive-descent
parsing in the 2004-2006 timeframe, and Clang has been implemented with
a recursive-descent parser from the start (2007).</td></tr>
</tbody>
</table>
<table id="footnote-3">
<colgroup><col><col></colgroup>
<tbody>
<tr><td><a href="#footnote-reference-3">[3]</a></td><td><p>Concretely: when we compile <tt>subexpr1 + subexpr2</tt> and the two sides have different
types, it would be mighty nice to know that <em>before</em> we actually generate
the code for both sub-expressions. But the syntax-directed translation
approach just doesn't work that way.</p>
<p>To be clear: it's easy to generate <em>working</em> code; it's just not easy
to generate optimal code without some sort of type analysis that's
done before code is actually generated.</p>
</td></tr>
</tbody>
</table>
</div>

            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA['Source available' is not open source (and that's okay) (124 pts)]]></title>
            <link>https://dri.es/source-available-is-not-open-source-and-that-is-okay</link>
            <guid>46213709</guid>
            <pubDate>Wed, 10 Dec 2025 03:33:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dri.es/source-available-is-not-open-source-and-that-is-okay">https://dri.es/source-available-is-not-open-source-and-that-is-okay</a>, See on <a href="https://news.ycombinator.com/item?id=46213709">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    
            <p>This week, Ruby on Rails creator David Heinemeier Hansson and WordPress founding developer Matt Mullenweg started fighting about what "open source" means. I've spent twenty years working on open source sustainability, and I have some thoughts.</p>
<p>David Heinemeier Hansson (also known as DHH) released a new kanban tool, Fizzy, this week and <a href="https://world.hey.com/dhh/fizzy-is-our-fun-modern-take-on-kanban-and-we-made-it-open-source-54ac41b6">called it open source</a>.</p>
<p>People quickly pointed out that the <a href="https://www.fizzy.do/license">O'Saasy license</a> that Fizzy is released under blocks others from offering a competing SaaS version, which violates the <a href="https://opensource.org/osd">Open Source Initiative's definition</a>. When challenged, he brushed it off on X and said, "You know this is just some shit people made up, right?". He followed with "Open source is when the source is open. Simple as that".</p>
<p>This morning, <a href="https://ma.tt/2025/12/dhh-open-source/">Matt Mullenweg rightly pushed back</a>. He argued that you can't ignore the Open Source Initiative definition. He compared it to North Korea calling itself a democracy. A clumsy analogy, but the point stands.</p>
<p>Look, the term "open source" has a specific, shared meaning. It is not a loose idea and not something you can repurpose for marketing. Thousands of people shaped that definition over decades. Ignoring that work means benefiting from the community while setting aside its rules.</p>
<p>This whole debate becomes spicier knowing that <a href="https://www.youtube.com/watch?v=vagyIcmIGOQ">DHH was on Lex Fridman's podcast</a> only a few months ago, appealing to the spirit and ethics of open source to <a href="https://youtube.com/watch?v=vagyIcmIGOQ&amp;t=20506">criticize Matt's handling of the WP Engine dispute</a>. If the definition is just "shit people made up", what spirit was Matt violating?</p>
<p>The definition debate matters, but the bigger issue here is sustainability. DHH's choice of license reacts to a real pressure in open source: many companies make real money from open source software while leaving the hard work of building and maintaining it to others.</p>
<p>This tension also played a role in <a href="https://dri.es/solving-the-maker-taker-problem">Matt's fight with WP Engine</a>, so he and DHH share some common ground, even if they handle it differently. We see the same thing in Drupal, where contributions from the biggest companies in our ecosystem is extremely uneven.</p>
<p>DHH can experiment because Fizzy is new. He can choose a different license and see how it works. Matt can't as WordPress has been licensed under the GPL for more than twenty years. Changing that now is virtually impossible.</p>
<p>Both conversations are important, but watching two of the most influential people in open source argue about definitions while we all wrestle with <a href="https://dri.es/scaling-open-source-communities">free riders</a> feels a bit like firefighters arguing about hose lengths during a fire.</p>
<p>The definition debate matters because open source only works when we agree on what the term means. But sustainability decides whether projects like Drupal, WordPress, and Ruby on Rails keep thriving for decades to come. That is the conversation we need to have.</p>
<p>In Drupal, we are experimenting with contribution credits and with guiding work toward companies that support the project. These ideas have helped, but also have not solved the imbalance.</p>
<p>Six years ago I wrote in <a href="https://dri.es/balancing-makers-and-takers-to-scale-and-sustain-open-source">my Makers and Takers blog post</a> that I would love to see new licenses that "encourage software free riding", but "discourage customer free riding". O'Saasy is exactly that kind of experiment.</p>
<p>A more accurate framing would be that Fizzy is <a href="https://en.wikipedia.org/wiki/Source-available_software">source available</a>. You can read it, run it, and modify it. But DHH's company is keeping the SaaS rights because they want to be able to build a sustainable business. That is defensible and generous, but it is <em>not</em> open source.</p>
<p>I still do not have the full answer to the open source sustainability problem. I have been wrestling with it for more than twenty years. But I do know the solution is not renaming the problem.</p>
<p>Some questions are worth asking, and answering:</p>
<ul>
<li>How do we distinguish between companies that can't contribute and those that won't?</li>
<li>What actually changes corporate behavior: shame, self-interest, punitive action, exclusive benefits, or regulation?</li>
</ul>
<p>If this latest fight nudges us away from word games and toward these questions, some good may come from it.</p>

      
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The end of the kernel Rust experiment (903 pts)]]></title>
            <link>https://lwn.net/Articles/1049831/</link>
            <guid>46213585</guid>
            <pubDate>Wed, 10 Dec 2025 03:15:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lwn.net/Articles/1049831/">https://lwn.net/Articles/1049831/</a>, See on <a href="https://news.ycombinator.com/item?id=46213585">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>[Posted December 10, 2025 by corbet]
               </p></div><div><p>
The topic of the Rust experiment was just discussed at the annual
Maintainers Summit.  The consensus among the assembled developers is that
Rust in the kernel is no longer experimental — it is now a core part of the
kernel and is here to stay.  So the "experimental" tag will be coming off.
Congratulations are in order for all of the Rust for Linux team.
</p><p>
(Stay tuned for details in our Maintainers Summit coverage.)<br clear="all"></p><hr>
            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[NYC congestion pricing cuts air pollution by a fifth in six months (160 pts)]]></title>
            <link>https://airqualitynews.com/cars-freight-transport/nyc-congestion-pricing-cuts-air-pollution-by-22-in-six-months/</link>
            <guid>46213504</guid>
            <pubDate>Wed, 10 Dec 2025 02:58:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://airqualitynews.com/cars-freight-transport/nyc-congestion-pricing-cuts-air-pollution-by-22-in-six-months/">https://airqualitynews.com/cars-freight-transport/nyc-congestion-pricing-cuts-air-pollution-by-22-in-six-months/</a>, See on <a href="https://news.ycombinator.com/item?id=46213504">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
																				
														<p><strong>In its first six months, New York City’s controversial congestion pricing scheme has reduced air pollution by 22% in Manhattan’s toll zone, while improving air quality across the entire metropolitan region, according to new research.</strong></p>
<p>The Cornell University study analysed data from 42 air quality monitors throughout the New York area between January 2024 and June 2025, tracking PM2.5 concentrations before and after the January 2025 launch of the Congestion Relief Zone (CRZ).</p>
<p><a target="_blank" href="https://airqualitynews.com/wp-content/uploads/sites/2/2025/12/ahygosiiqo4.jpg"><img fetchpriority="high" decoding="async" src="https://airqualitynews.com/wp-content/uploads/sites/2/2025/12/ahygosiiqo4.jpg" alt="yellow cab on road during daytime" width="800" height="508" srcset="https://airqualitynews.com/wp-content/uploads/sites/2/2025/12/ahygosiiqo4.jpg 1600w, https://airqualitynews.com/wp-content/uploads/sites/2/2025/12/ahygosiiqo4-300x191.jpg 300w, https://airqualitynews.com/wp-content/uploads/sites/2/2025/12/ahygosiiqo4-1024x650.jpg 1024w, https://airqualitynews.com/wp-content/uploads/sites/2/2025/12/ahygosiiqo4-768x488.jpg 768w, https://airqualitynews.com/wp-content/uploads/sites/2/2025/12/ahygosiiqo4-1536x975.jpg 1536w" sizes="(max-width: 800px) 100vw, 800px"></a><br>
The findings provide the first rigorous evidence that charging drivers to enter Manhattan’s core delivers substantial public health benefits.</p>
<p>Within the CRZ, which covers Manhattan streets at or below 60th Street, average daily peak concentrations of PM2.5 dropped by 3.05 µg/m³. For context, background pollution levels in the region typically hover around 8-9 µg/m³, making this reduction particularly significant for public health.</p>
<p>Notably, the benefits were found to extend far beyond the toll zone itself. Across New York City’s five boroughs, pollution levels fell by an average of 1.07 µg/m³, while the broader metropolitan area saw reductions of 0.70 µg/m³. This refutes claims that congestion pricing merely pushes traffic and its associated pollution to neighboring communities.</p>
<p>The improvements grew stronger over time, suggesting drivers are increasingly adapting their behavior. In the CRZ’s first week, pollution reductions within the toll zone averaged just 0.8 µg/m³. By the 20th week, that figure had grown to 4.9 µg/m³, suggesting commuters were switching to public transit, rescheduling trips or finding alternative routes.</p>
<p>Indeed, traffic data supports this. Between January and June 2025, vehicle entries into the toll zone dropped approximately 11% overall, with heavy-duty truck traffic falling by 18% and passenger cars declining by 9%. The disproportionate reduction in truck traffic appears particularly important, as these vehicles contribute heavily to urban air pollution despite representing a smaller share of total traffic.</p>
<p>The results exceed outcomes from similar programs in European cities. Stockholm’s congestion pricing reduced air pollution by 5-15% over several years, while London’s Ultra Low Emission Zone achieved roughly a 7% citywide decline. The researchers suggest that New York’s comparatively larger impact reflects the city’s exceptional transit infrastructure and the high volume of discretionary trips that drivers can easily shift to subways and buses.</p>
<p>The findings arrive as other American cities, including San Francisco and Los Angeles, consider implementing their own congestion pricing systems. New York’s experience suggests such programs can deliver rapid environmental benefits while generating revenue for transit improvements – a dual outcome that urban planners have long sought but rarely achieved.</p>
<p>Senior author Oliver Gao said: ‘Our overall conclusion is that congestion pricing in New York City, like many other cities in the world that have implemented it, helped not only improve traffic, but also helped reduce air pollutant concentration, improve air quality and should be good for public health.’</p>
<p>The study’s co-lead author Timothy Fraser added: ‘It’s really exciting to me that air quality improved throughout the entire metro area. This tells us that congestion pricing didn’t simply relocate air pollution to the suburbs by rerouting traffic. Instead, folks are likely choosing cleaner transportation options altogether, like riding public transportation or scheduling deliveries at night. This thins traffic and limits how smog compounds when many cars are on the road.’</p>

<p><strong>Photo</strong>: Franz Boccalatte / Unsplash</p>

											</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Django: what’s new in 6.0 (361 pts)]]></title>
            <link>https://adamj.eu/tech/2025/12/03/django-whats-new-6.0/</link>
            <guid>46210240</guid>
            <pubDate>Tue, 09 Dec 2025 20:33:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://adamj.eu/tech/2025/12/03/django-whats-new-6.0/">https://adamj.eu/tech/2025/12/03/django-whats-new-6.0/</a>, See on <a href="https://news.ycombinator.com/item?id=46210240">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><time datetime="2025-12-03">2025-12-03</time><img alt="Django 6.0: codename “mosaic”" title="Django 6.0: codename “mosaic”" src="https://adamj.eu/tech/assets/2025-12-03-django-mosaic.webp"><p>Django 6.0 was <a href="https://www.djangoproject.com/weblog/2025/dec/03/django-60-released/">released today</a>, starting another release cycle for the loved and long-lived Python web framework (now 20 years old!). It comes with a <em>mosaic</em> of new features, contributed to by many, some of which I am happy to have helped with. Below is my pick of highlights from <a href="https://docs.djangoproject.com/en/stable/releases/6.0/">the release notes</a>.</p><div id="upgrade-with-help-from-django-upgrade"><h2>Upgrade with help from django-upgrade<a title="Permalink to this headline" href="#upgrade-with-help-from-django-upgrade"></a></h2><p>If you’re upgrading a project from Django 5.2 or earlier, please try my tool <a href="https://django-upgrade.readthedocs.io/en/latest/">django-upgrade</a>. It will automatically update old Django code to use new features, fixing some deprecation warnings for you, including five fixers for Django 6.0. (One day, I’ll propose django-upgrade to become an official Django project, when energy and time permit…)</p></div><div id="template-partials"><h2>Template partials<a title="Permalink to this headline" href="#template-partials"></a></h2><p>There are four headline features in Django 6.0, which we’ll cover before other notable changes, starting with this one:</p><blockquote>The Django Template Language now supports <a href="https://docs.djangoproject.com/en/stable/ref/templates/language/#template-partials">template partials</a>, making it easier to encapsulate and reuse small named fragments within a template file.</blockquote><p>Partials are sections of a template marked by the new <code>{% partialdef %}</code> and <code>{% endpartialdef %}</code> tags. They can be reused within the same template or rendered in isolation. Let’s look at examples for each use case in turn.</p><div id="reuse-partials-within-the-same-template"><h3>Reuse partials within the same template<a title="Permalink to this headline" href="#reuse-partials-within-the-same-template"></a></h3><p>The below template reuses a partial called <code>filter_controls</code> within the same template. It’s defined once at the top of the template, then used twice later on. Using a partial allows the template avoid repetition without pushing the content into a separate include file.</p><div><pre><span></span><span>&lt;</span><span>section</span> <span>id</span><span>=</span><span>videos</span><span>&gt;</span>
  <span>{%</span> <span>partialdef</span> <span>filter_controls</span> <span>%}</span>
    <span>&lt;</span><span>form</span><span>&gt;</span>
      <span>{{</span> <span>filter_form</span> <span>}}</span>
    <span>&lt;/</span><span>form</span><span>&gt;</span>
  <span>{%</span> <span>endpartialdef</span> <span>%}</span>

  <span>{%</span> <span>partial</span> <span>filter_controls</span> <span>%}</span>

  <span>&lt;</span><span>ul</span><span>&gt;</span>
    <span>{%</span> <span>for</span> <span>video</span> <span>in</span> <span>videos</span> <span>%}</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>
        <span>&lt;</span><span>h2</span><span>&gt;</span><span>{{</span> <span>video.title</span> <span>}}</span><span>&lt;/</span><span>h2</span><span>&gt;</span>
        ...
      <span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>{%</span> <span>endfor</span> <span>%}</span>
  <span>&lt;/</span><span>ul</span><span>&gt;</span>

  <span>{%</span> <span>partial</span> <span>filter_controls</span> <span>%}</span>
<span>&lt;/</span><span>section</span><span>&gt;</span>
</pre></div><p>Actually, we can simplify this pattern further, by using the <code>inline</code> option on the <code>partialdef</code> tag, which causes the definition to also render in place:</p><div><pre><span></span><span>&lt;</span><span>section</span> <span>id</span><span>=</span><span>videos</span><span>&gt;</span>
  <span>{%</span> <span>partialdef</span> <span>filter_controls</span> <span>inline</span> <span>%}</span>
    <span>&lt;</span><span>form</span><span>&gt;</span>
      <span>{{</span> <span>filter_form</span> <span>}}</span>
    <span>&lt;/</span><span>form</span><span>&gt;</span>
  <span>{%</span> <span>endpartialdef</span> <span>%}</span>

  <span>&lt;</span><span>ul</span><span>&gt;</span>
    <span>{%</span> <span>for</span> <span>video</span> <span>in</span> <span>videos</span> <span>%}</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>
        <span>&lt;</span><span>h2</span><span>&gt;</span><span>{{</span> <span>video.title</span> <span>}}</span><span>&lt;/</span><span>h2</span><span>&gt;</span>
        ...
      <span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>{%</span> <span>endfor</span> <span>%}</span>
  <span>&lt;/</span><span>ul</span><span>&gt;</span>

  <span>{%</span> <span>partial</span> <span>filter_controls</span> <span>%}</span>
<span>&lt;/</span><span>section</span><span>&gt;</span>
</pre></div><p>Reach for this pattern any time you find yourself repeating template code within the same template. Because partials can use variables, you can also use them to de-duplicate when rendering similar controls with different data.</p></div><div id="render-partials-in-isolation"><h3>Render partials in isolation<a title="Permalink to this headline" href="#render-partials-in-isolation"></a></h3><p>The below template defines a <code>view_count</code> partial that’s intended to be re-rendered in isolation. It uses the <code>inline</code> option, so when the whole template is rendered, the partial is included.</p><p>The page uses <a href="https://htmx.org/">htmx</a>, via my <a href="https://django-htmx.readthedocs.io/en/latest/">django-htmx package</a>, to periodically refresh the view count, through the <code><span>hx-*</span></code> attributes. The request from htmx goes to a dedicated view that re-renders the <code>view_count</code> partial.</p><div><pre><span></span><span>{%</span> <span>load</span> <span>django_htmx</span> <span>%}</span>
<span>&lt;!doctype html&gt;</span>
<span>&lt;</span><span>html</span><span>&gt;</span>
  <span>&lt;</span><span>body</span><span>&gt;</span>
    <span>&lt;</span><span>h1</span><span>&gt;</span><span>{{</span> <span>video.title</span> <span>}}</span><span>&lt;/</span><span>h1</span><span>&gt;</span>
    <span>&lt;</span><span>video</span> <span>width</span><span>=</span><span>1280</span> <span>height</span><span>=</span><span>720</span> <span>controls</span><span>&gt;</span>
      <span>&lt;</span><span>source</span> <span>src</span><span>=</span><span>"</span><span>{{</span> <span>video.file.url</span> <span>}}</span><span>"</span> <span>type</span><span>=</span><span>"video/mp4"</span><span>&gt;</span>
      Your browser does not support the video tag.
    <span>&lt;/</span><span>video</span><span>&gt;</span>

    <span>{%</span> <span>partialdef</span> <span>view_count</span> <span>inline</span> <span>%}</span>
    <span>&lt;</span><span>section</span>
      <span>class</span><span>=</span><span>view-count</span>
      <span>hx-trigger</span><span>=</span><span>"every 1s"</span>
      <span>hx-swap</span><span>=</span><span>outerHTML</span>
      <span>hx-get</span><span>=</span><span>"</span><span>{%</span> <span>url</span> <span>'video-view-count'</span> <span>video.id</span> <span>%}</span><span>"</span>
    <span>&gt;</span>
      <span>{{</span> <span>video.view_count</span> <span>}}</span> views
    <span>&lt;/</span><span>section</span><span>&gt;</span>
    <span>{%</span> <span>endpartialdef</span> <span>%}</span>

    <span>{%</span> <span>htmx_script</span> <span>%}</span>
  <span>&lt;/</span><span>body</span><span>&gt;</span>
<span>&lt;/</span><span>html</span><span>&gt;</span>
</pre></div><p>The relevant code for the two views could look like this:</p><div><pre><span></span><span>from</span> <span>django.shortcuts</span> <span>import</span> <span>render</span>


<span>def</span> <span>video</span><span>(</span><span>request</span><span>,</span> <span>video_id</span><span>):</span>
    <span>...</span>
    <span>return</span> <span>render</span><span>(</span><span>request</span><span>,</span> <span>"video.html"</span><span>,</span> <span>{</span><span>"video"</span><span>:</span> <span>video</span><span>})</span>


<span>def</span> <span>video_view_count</span><span>(</span><span>request</span><span>,</span> <span>video_id</span><span>):</span>
    <span>...</span>
    <span>return</span> <span>render</span><span>(</span><span>request</span><span>,</span> <span>"video.html#view_count"</span><span>,</span> <span>{</span><span>"video"</span><span>:</span> <span>video</span><span>})</span>
</pre></div><p>The initial <code>video</code> view renders the full template <code>video.html</code>. The <code>video_view_count</code> view renders just the <code>view_count</code> partial, by appending <code>#view_count</code> to the template name. This syntax is similar to how you’d reference an HTML fragment by its ID in a URL.</p></div><div id="history"><h3>History<a title="Permalink to this headline" href="#history"></a></h3><p>htmx was the main motivation for this feature, as promoted by htmx creator Carson Gross in <a href="https://htmx.org/essays/template-fragments/">a cross-framework review post</a>. Using partials definitely helps maintain “Locality of behaviour” within your templates, easing authoring, debugging, and maintenance by avoiding template file sprawl.</p><p>Django’s support for template partials was initially developed by Carlton Gibson in the <a href="https://pypi.org/project/django-template-partials/">django-template-partials package</a>, which remains available for older Django versions. The integration into Django itself was done in a Google Summer of Code project this year, worked on by student Farhan Ali and mentored by Carlton, in <a href="https://code.djangoproject.com/ticket/36410">Ticket #36410</a>. You can read more about the development process in <a href="https://www.farhana.li/blog/my-gsoc25-journey-django">Farhan’s retrospective blog post</a>. Many thanks to Farhan for authoring, Carlton for mentoring, and Natalia Bidart, Nick Pope, and Sarah Boyce for reviewing!</p></div></div><div id="tasks-framework"><h2>Tasks framework<a title="Permalink to this headline" href="#tasks-framework"></a></h2><p>The next headline feature we’re covering:</p><blockquote>Django now includes a built-in Tasks framework for running code outside the HTTP request–response cycle. This enables offloading work, such as sending emails or processing data, to background workers.</blockquote><p>Basically, there’s a new API for defining and enqueuing background tasks—very cool!</p><p>Background tasks are a way of running code outside of the request-response cycle. They’re a common requirement in web applications, used for sending emails, processing images, generating reports, and more.</p><p>Historically, Django has not provided any system for background tasks, and kind of ignored the problem space altogether. Developers have instead relied on third-party packages like <a href="https://docs.celeryq.dev/en/stable/">Celery</a> or <a href="https://django-q2.readthedocs.io/en/master/">Django Q2</a>. While these systems are fine, they can be complex to set up and maintain, and often don’t “go with the grain” of Django.</p><p>The new Tasks framework fills this gap by providing an interface to define background tasks, which task runner packages can then integrate with. This common ground allows third-party Django packages to define tasks in a standard way, assuming you’ll be using a compatible task runner to execute them.</p><p>Define tasks with the new <a href="https://docs.djangoproject.com/en/stable/ref/tasks/#django.tasks.task"><code>@task</code></a> decorator:</p><div><pre><span></span><span>from</span> <span>django.tasks</span> <span>import</span> <span>task</span>


<span>@task</span>
<span>def</span> <span>resize_video</span><span>(</span><span>video_id</span><span>):</span> <span>...</span>
</pre></div><p>…and enqueue them for background execution with the <a href="https://docs.djangoproject.com/en/stable/ref/tasks/#django.tasks.Task.enqueue"><code>Task.enqueue()</code></a> method:</p><div><pre><span></span><span>from</span> <span>example.tasks</span> <span>import</span> <span>resize_video</span>


<span>def</span> <span>upload_video</span><span>(</span><span>request</span><span>):</span>
    <span>...</span>
    <span>resize_video</span><span>.</span><span>enqueue</span><span>(</span><span>video</span><span>.</span><span>id</span><span>)</span>
    <span>...</span>
</pre></div><div id="execute-tasks"><h3>Execute tasks<a title="Permalink to this headline" href="#execute-tasks"></a></h3><p>At this time, Django does not include a production-ready task backend, only two that are suitable for development and testing:</p><ul><li><a href="https://docs.djangoproject.com/en/stable/topics/tasks/#immediate-execution"><code>ImmediateBackend</code></a> - runs tasks synchronously, blocking until they complete.</li><li><a href="https://docs.djangoproject.com/en/stable/topics/tasks/#dummy-backend"><code>DummyBackend</code></a> - does nothing when tasks are enqueued, but allows them to be inspected later. Useful for tests, where you can assert that tasks were enqueued without actually running them.</li></ul><p>For production use, you’ll need to use a third-party package that implements one, for which <a href="https://pypi.org/project/django-tasks/">django-tasks</a>, the reference implementation, is the primary option. It provides <code>DatabaseBackend</code> for storing tasks in your SQL database, a fine solution for many projects, avoiding extra infrastructure and allowing atomic task enqueuing within database transactions. We may see this backend merged into Django in due course, or at least become an official package, to help make Django “batteries included” for background tasks.</p><p>To use django-tasks’ <code>DatabaseBackend</code> today, first install the package:</p><p><strong>Second,</strong> add these two apps to your <code>INSTALLED_APPS</code> setting:</p><div><pre><span></span><span>INSTALLED_APPS</span> <span>=</span> <span>[</span>
    <span># ...</span>
    <span>"django_tasks"</span><span>,</span>
    <span>"django_tasks.backends.database"</span><span>,</span>
    <span># ...</span>
<span>]</span>
</pre></div><p><strong>Third,</strong> configure <code>DatabaseBackend</code> as your tasks backend in the <a href="https://docs.djangoproject.com/en/stable/ref/settings/#tasks">new <code>TASKS</code> setting</a>:</p><div><pre><span></span><span>TASKS</span> <span>=</span> <span>{</span>
    <span>"default"</span><span>:</span> <span>{</span>
        <span>"BACKEND"</span><span>:</span> <span>"django_tasks.backends.database.DatabaseBackend"</span><span>,</span>
    <span>},</span>
<span>}</span>
</pre></div><p><strong>Fourth,</strong> run migrations to create the necessary database tables:</p><p><strong>Finally,</strong> to run the task worker process, use the package’s <code>db_worker</code> management command:</p><div><pre><span></span>$<span> </span>./manage.py<span> </span>db_worker
Starting<span> </span>worker<span> </span><span>worker_id</span><span>=</span>jWLMLrms3C2NcUODYeatsqCFvd5rK6DM<span> </span><span>queues</span><span>=</span>default
</pre></div><p>This process runs indefinitely, polling for tasks and executing them, logging events as it goes:</p><div><pre><span></span>Task id=10b794ed-9b64-4eed-950c-fcc92cd6784b path=example.tasks.echo state=RUNNING
Hello from test task!
Task id=10b794ed-9b64-4eed-950c-fcc92cd6784b path=example.tasks.echo state=SUCCEEDED
</pre></div><p>You’ll want to run <code>db_worker</code> in production, and also in development if you want to test background task execution.</p></div><div id="history-1"><h3>History<a title="Permalink to this headline" href="#history-1"></a></h3><p>It’s been a long path to get the Tasks framework into Django, and I’m super excited to see it finally available in Django 6.0. Jake Howard started on the idea for Wagtail, a Django-powered CMS, back in 2021, as they have a need for common task definitions across their package ecosystem. He upgraded the idea to target Django itself in 2024, when he proposed <a href="https://github.com/django/deps/blob/main/accepted/0014-background-workers.rst">DEP 0014</a>. As a member of the Steering Council at the time, I had the pleasure of helping review and accept the DEP.</p><p>Since then, Jake has been leading the implementation effort, building pieces first in the separate <a href="https://pypi.org/project/django-tasks/">django-tasks package</a> before preparing them for inclusion in Django itself. This step was done under <a href="https://code.djangoproject.com/ticket/35859">Ticket #35859</a>, with <a href="https://github.com/django/django/pull/18627">a pull request</a> that took nearly a year to review and land. Thanks to Jake for his perseverance here, and to all reviewers: Andreas Nüßlein, Dave Gaeddert, Eric Holscher, Jacob Walls, Jake Howard, Kamal Mustafa, @rtr1, @tcely, Oliver Haas, Ran Benita, Raphael Gaschignard, and Sarah Boyce.</p><p>Read more about this feature and story in <a href="https://theorangeone.net/posts/django-dot-tasks-exists/">Jake’s post celebrating when it was merged</a>.</p></div></div><div id="content-security-policy-support"><h2>Content Security Policy support<a title="Permalink to this headline" href="#content-security-policy-support"></a></h2><p>Our third headline feature:</p><blockquote>Built-in support for the <a href="https://docs.djangoproject.com/en/stable/topics/security/#security-csp">Content Security Policy (CSP)</a> standard is now available, making it easier to protect web applications against content injection attacks such as cross-site scripting (XSS). CSP allows declaring trusted sources of content by giving browsers strict rules about which scripts, styles, images, or other resources can be loaded.</blockquote><p>I’m really excited about this, because I’m a bit of a security nerd who’s been deploying CSP for client projects for years.</p><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Guides/CSP">CSP</a> is a security standard that can protect your site from cross-site scripting (XSS) and other code injection attacks. You set a <code><span>content-security-policy</span></code> header to declare which content sources are trusted for your site, and then browsers will block content from other sources. For example, you might declare that only scripts your domain are allowed, so an attacker who manages to inject a <code>&lt;script&gt;</code> tag pointing to evil.com would be thwarted, as the browser would refuse to load it.</p><p>Previously, Django had no built-in support for CSP, and developers had to rely on building their own, or using a third-party package like the very popular <a href="https://django-csp.readthedocs.io/en/latest/">django-csp</a>. But this was a little bit inconvenient, as it meant that other third-party packages couldn’t reliably integrate with CSP, as there was no common API to do so.</p><p>The new CSP support provides all the core features that django-csp did, with a slightly tidier and more Djangoey API. To get started, <strong>first</strong> add <a href="https://docs.djangoproject.com/en/stable/ref/middleware/#django.middleware.csp.ContentSecurityPolicyMiddleware"><code>ContentSecurityPolicyMiddleware</code></a> to your <code>MIDDLEWARE</code> setting:</p><div><pre><span></span><span>MIDDLEWARE</span> <span>=</span> <span>[</span>
    <span># ...</span>
    <span>"django.middleware.csp.ContentSecurityPolicyMiddleware"</span><span>,</span>
    <span># ...</span>
<span>]</span>
</pre></div><p>Place it next to <a href="https://docs.djangoproject.com/en/stable/ref/middleware/#django.middleware.security.SecurityMiddleware"><code>SecurityMiddleware</code></a>, as it similarly adds security-related headers to all responses. (You <em>do</em> have <code>SecurityMiddleware</code> enabled, right?)</p><p><strong>Second,</strong> configure your CSP policy using the new settings:</p><ul><li><a href="https://docs.djangoproject.com/en/stable/ref/settings/#secure-csp"><code>SECURE_CSP</code></a> to configure the <code><span>content-security-policy</span></code> header, which is your actively enforced policy.</li><li><a href="https://docs.djangoproject.com/en/stable/ref/settings/#secure-csp-report-only"><code>SECURE_CSP_REPORT_ONLY</code></a> to configure the <code><span>content-security-policy-report-only</span></code> header, which sets a non-enforced policy for which browsers report violations to a specified endpoint. This option is useful for testing and monitoring a policy before enforcing it.</li></ul><p>For example, to adopt the nonce-based strict CSP <a href="https://web.dev/articles/strict-csp">recommended by web.dev</a>, you could start with the following setting:</p><div><pre><span></span><span>from</span> <span>django.utils.csp</span> <span>import</span> <span>CSP</span>

<span>SECURE_CSP_REPORT_ONLY</span> <span>=</span> <span>{</span>
    <span>"script-src"</span><span>:</span> <span>[</span><span>CSP</span><span>.</span><span>NONCE</span><span>,</span> <span>CSP</span><span>.</span><span>STRICT_DYNAMIC</span><span>],</span>
    <span>"object-src"</span><span>:</span> <span>[</span><span>CSP</span><span>.</span><span>NONE</span><span>],</span>
    <span>"base-uri"</span><span>:</span> <span>[</span><span>CSP</span><span>.</span><span>NONE</span><span>],</span>
<span>}</span>
</pre></div><p>The <a href="https://docs.djangoproject.com/en/stable/ref/csp/#django.utils.csp.CSP"><code>CSP</code></a> enum used above provides constants for CSP directives, to help avoid typos.</p><p>This policy is quite restrictive and will break most existing sites if deployed as-is, because it requires nonces, as covered next. That’s why the example shows starting with the report-only mode header, to help track down places that need fixing before enforcing the policy. You’d later change to setting the <code>SECURE_CSP</code> setting to enforce the policy.</p><p>Anyway, those are the two basic steps to set up the new CSP support!</p><div id="nonce-generation"><h3>Nonce generation<a title="Permalink to this headline" href="#nonce-generation"></a></h3><p>A key part of the new feature is that <strong>nonce generation</strong> is now built-in to Django, when using the CSP middleware. Nonces are a security feature in CSP that allow you to mark specific <code>&lt;script&gt;</code> and <code>&lt;style&gt;</code> tags as trusted with a <code>nonce</code> attribute:</p><div><pre><span></span><span>&lt;</span><span>script</span> <span>src</span><span>=</span><span>/static/app.js</span> <span>type</span><span>=</span><span>module</span> <span>nonce</span><span>=</span><span>55vsH4w7ATHB85C3MbPr_g</span><span>&gt;&lt;/</span><span>script</span><span>&gt;</span>
</pre></div><p>The nonce value is randomly generated per-request, and included in the CSP header. An attacker performing content injection couldn’t guess the nonce, so browsers can trust only those tags that include the correct nonce. Because nonce generation is now part of Django, third-party packages can depend on it for their <code>&lt;script&gt;</code> and <code>&lt;style&gt;</code> tags and they’ll continue to work if you adopt CSP with nonces.</p><p>Nonces are the recommended way to use CSP today, avoiding problems with previous allow-list based approaches. That’s why the above recommended policy enables them. To adopt a nonce-based policy, you’ll need to annotate your <code>&lt;script&gt;</code> and <code>&lt;style&gt;</code> tags with the nonce value through the following steps.</p><p><strong>First,</strong> add the new <a href="https://docs.djangoproject.com/en/stable/ref/templates/api/#django.template.context_processors.csp"><code>csp</code></a> template context processor to your <code>TEMPLATES</code> setting:</p><div><pre><span></span><span>TEMPLATES</span> <span>=</span> <span>[</span>
    <span>{</span>
        <span>"BACKEND"</span><span>:</span> <span>"django.template.backends.django.DjangoTemplates"</span><span>,</span>
        <span>"OPTIONS"</span><span>:</span> <span>{</span>
            <span>"context_processors"</span><span>:</span> <span>[</span>
                <span># ...</span>
                <span>"django.template.context_processors.csp"</span><span>,</span>
            <span>],</span>
        <span>},</span>
    <span>},</span>
<span>]</span>
</pre></div><p><strong>Second,</strong> annotate your <code>&lt;script&gt;</code> and <code>&lt;style&gt;</code> tags with <code><span>nonce="{{</span> csp_nonce }}"</code>:</p><div><pre><span></span><span>-   &lt;script src="{% static 'app.js' %}" type="module"&gt;&lt;/script&gt;</span>
<span>+   &lt;script src="{% static 'app.js' %}" type="module" nonce="{{ csp_nonce }}"&gt;&lt;/script&gt;</span>
</pre></div><p>This can be tedious and error-prone, hence using the report-only mode first to monitor violations might be useful, especially on larger projects.</p><p>Anyway, deploying CSP right would be another post in itself, or even a book chapter, so we’ll stop here for now. For more info, check out <a href="https://web.dev/articles/strict-csp">that web.dev article</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">the MDN CSP guide</a>.</p></div><div id="history-2"><h3>History<a title="Permalink to this headline" href="#history-2"></a></h3><p>CSP itself was proposed for browsers way back in 2004, and was first implemented in Mozilla Firefox version 4, released 2011. That same year, <a href="https://code.djangoproject.com/ticket/15727">Django Ticket #15727</a> was opened, proposing adding CSP support to Django. Mozilla created <a href="https://django-csp.readthedocs.io/en/latest/">django-csp</a> from 2010, before the first public availability of CSP, using it on their own Django-powered sites. The first comment on Ticket #15727 pointed to django-csp, and the community basically rolled with it as the de facto solution.</p><p>Over the years, CSP itself evolved, as did django-csp, with <a href="https://rob.cogit8.org/">Rob Hudson</a> ending up as its maintainer. Focusing on the package motivated to finally get CSP into Django itself. He made a draft PR and posted on Ticket #15727 in 2024, which I enjoyed helping review. He iterated on the PR over the next 13 months until it was finally merged for Django 6.0. Thanks to Rob for his heroic dedication here, and to all reviewers: Benjamin Balder Bach, Carlton Gibson, Collin Anderson, David Sanders, David Smith, Florian Apolloner, Harro van der Klauw, Jake Howard, Natalia Bidart, Paolo Melchiorre, Sarah Boyce, and Sébastien Corbin.</p></div></div><div id="email-api-updates"><h2>Email API updates<a title="Permalink to this headline" href="#email-api-updates"></a></h2><p>The fourth and final headline feature:</p><blockquote>Email handling in Django now uses Python’s modern email API, introduced in Python 3.6. This API, centered around the <a href="https://docs.python.org/3/library/email.message.html#email.message.EmailMessage"><code>email.message.EmailMessage</code></a> class, offers a cleaner and Unicode-friendly interface for composing and sending emails.</blockquote><p>This is a major change, but it’s unlikely to affect projects using basic email features. You can still use Django’s <a href="https://docs.djangoproject.com/en/stable/topics/email/#django.core.mail.send_mail"><code>send_mail()</code> function</a> and <a href="https://docs.djangoproject.com/en/stable/topics/email/#django.core.mail.EmailMessage"><code>EmailMessage</code> class</a> as before, like:</p><div><pre><span></span><span>from</span> <span>django.core.mail</span> <span>import</span> <span>EmailMessage</span>

<span>email</span> <span>=</span> <span>EmailMessage</span><span>(</span>
    <span>subject</span><span>=</span><span>"🐼 Need more bamboo"</span><span>,</span>
    <span>body</span><span>=</span><span>"We are desperately low, please restock before the pandas find out!"</span><span>,</span>
    <span>from_email</span><span>=</span><span>"zookeeper@example.com"</span><span>,</span>
    <span>to</span><span>=</span><span>[</span><span>"supplies@example.com"</span><span>],</span>
<span>)</span>
<span>email</span><span>.</span><span>attach_file</span><span>(</span><span>"/media/bamboo_cupboard.jpg"</span><span>)</span>
<span>email</span><span>.</span><span>send</span><span>()</span>
</pre></div><p>The key change is that, under-the-hood, when you call <code>send()</code> on a Django <code>EmailMessage</code> object, it now translates itself into a Python’s newer <code>email.message.EmailMessage</code> type before sending.</p><p>Modernizing provides these benefits:</p><ol><li><strong>Fewer bugs</strong> - many edge case bugs in Python’s old email API have been fixed in the new one.</li><li><strong>Django is less hacky</strong> - a bunch of workarounds and security fixes in Django‘s email code have been removed.</li><li><strong>More convenient API</strong> - the new API supports some niceties, like the below inline attachment example.</li></ol><div id="easier-inline-attachments-with-mimepart"><h3>Easier inline attachments with <code>MIMEPart</code><a title="Permalink to this headline" href="#easier-inline-attachments-with-mimepart"></a></h3><p>Django’s <a href="https://docs.djangoproject.com/en/stable/topics/email/#django.core.mail.EmailMessage"><code>EmailMessage.attach()</code></a> method allows you to attach a file as an attachment. Emails support images as <strong>inline attachments</strong>, which can be displayed within the HTML email body.</p><p>While you could previously use <code>EmailMessage.attach()</code> to add inline attachments, it was a bit fiddly, using a legacy class. Now, you can call the method with a Python <a href="https://docs.python.org/3/library/email.message.html#email.message.MIMEPart"><code>email.message.MIMEPart</code></a> object to add an inline attachment in a few steps:</p><div><pre><span></span><span>import</span> <span>email.utils</span>
<span>from</span> <span>email.message</span> <span>import</span> <span>MIMEPart</span>
<span>from</span> <span>django.core.mail</span> <span>import</span> <span>EmailMultiAlternatives</span>

<span>message</span> <span>=</span> <span>EmailMultiAlternatives</span><span>(</span>
    <span>subject</span><span>=</span><span>"Cute Panda Alert"</span><span>,</span>
    <span>body</span><span>=</span><span>"Here's a cute panda picture for you!"</span><span>,</span>
    <span>from_email</span><span>=</span><span>"cute@example.com"</span><span>,</span>
    <span>to</span><span>=</span><span>[</span><span>"fans@example.com"</span><span>],</span>
<span>)</span>
<span>with</span> <span>open</span><span>(</span><span>"panda.jpg"</span><span>,</span> <span>"rb"</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
    <span>panda_jpeg</span> <span>=</span> <span>f</span><span>.</span><span>read</span><span>()</span>

<span>cid</span> <span>=</span> <span>email</span><span>.</span><span>utils</span><span>.</span><span>make_msgid</span><span>()</span>
<span>inline_image</span> <span>=</span> <span>MIMEPart</span><span>()</span>
<span>inline_image</span><span>.</span><span>set_content</span><span>(</span>
    <span>panda_jpeg</span><span>,</span>
    <span>maintype</span><span>=</span><span>"image"</span><span>,</span>
    <span>subtype</span><span>=</span><span>"jpeg"</span><span>,</span>
    <span>disposition</span><span>=</span><span>"inline"</span><span>,</span>
    <span>cid</span><span>=</span><span>cid</span><span>,</span>
<span>)</span>
<span>message</span><span>.</span><span>attach</span><span>(</span><span>inline_image</span><span>)</span>
<span>message</span><span>.</span><span>attach_alternative</span><span>(</span>
    <span>f</span><span>'&lt;h1&gt;Cute panda baby alert!&lt;/h1&gt;&lt;img src="cid:</span><span>{</span><span>cid</span><span>[</span><span>1</span><span>:</span><span>-</span><span>1</span><span>]</span><span>}</span><span>"&gt;'</span><span>,</span>
    <span>"text/html"</span><span>,</span>
<span>)</span>
</pre></div><p>It’s not the simplest API, but it does expose all the power of the underlying email system, and it’s better than the past situation.</p></div><div id="history-3"><h3>History<a title="Permalink to this headline" href="#history-3"></a></h3><p>The new email API was added to Python as provisional <a href="https://docs.python.org/3/whatsnew/3.4.html#email">in version 3.4 (2014)</a>, and made stable <a href="https://docs.python.org/3/whatsnew/3.6.html#email">in version 3.6 (2016)</a>. The legacy API, however, was never planned for deprecation, so there was never any deadline to upgrade Django’s email handling.</p><p>In 2024, Mike Edmunds <a href="https://groups.google.com/g/django-developers/c/2zf9GQtjdIk">posted on the (old) django-developers mailing list</a>, proposing the upgrade with strong reasoning and planning. This conversation led to <a href="https://code.djangoproject.com/ticket/35581">Ticket #35581</a>, which he worked on for eight months until it was merged. Many thanks to Mike for leading this effort, and to Sarah Boyce for reviewing! Email is not a glamorous feature, but it’s a critical communication channel for nearly every Django project, so props for this.</p></div></div><div id="positional-arguments-in-django-core-mail-apis"><h2>Positional arguments in <code>django.core.mail</code> APIs<a title="Permalink to this headline" href="#positional-arguments-in-django-core-mail-apis"></a></h2><p>We’re now out of the headline features and onto the “minor” changes, starting with this deprecation related to the above email changes:</p><blockquote><p><a href="https://docs.djangoproject.com/en/stable/topics/email/#module-django.core.mail"><code>django.core.mail</code></a> APIs now require keyword arguments for less commonly used parameters. Using positional arguments for these now emits a deprecation warning and will raise a <code>TypeError</code> when the deprecation period ends:</p><ul><li>All optional parameters (<code>fail_silently</code> and later) must be passed as keyword arguments to <code>get_connection()</code>, <code>mail_admins()</code>, <code>mail_managers()</code>, <code>send_mail()</code>, and <code>send_mass_mail()</code>.</li><li>All parameters must be passed as keyword arguments when creating an <code>EmailMessage</code> or <code>EmailMultiAlternatives</code> instance, except for the first four (<code>subject</code>, <code>body</code>, <code>from_email</code>, and <code>to</code>), which may still be passed either as positional or keyword arguments.</li></ul></blockquote><p>Previously, Django would let you pass all parameters positionally, which gets a bit silly and hard to read with long parameter lists, like:</p><div><pre><span></span><span>from</span> <span>django.core.mail</span> <span>import</span> <span>send_mail</span>

<span>send_mail</span><span>(</span>
    <span>"🐼 Panda of the week"</span><span>,</span>
    <span>"This week’s panda is Po Ping, sha-sha booey!"</span><span>,</span>
    <span>"updates@example.com"</span><span>,</span>
    <span>[</span><span>"adam@example.com"</span><span>],</span>
    <span>True</span><span>,</span>
<span>)</span>
</pre></div><p>The final <code>True</code> doesn’t provide any clue what it means without looking up the function signature. Now, using positional arguments for those less-commonly-used parameters raises a deprecation warning, nudging you to write:</p><div><pre><span></span><span>from</span> <span>django.core.mail</span> <span>import</span> <span>send_mail</span>

<span>send_mail</span><span>(</span>
    <span>subject</span><span>=</span><span>"🐼 Panda of the week"</span><span>,</span>
    <span>body</span><span>=</span><span>"This week’s panda is Po Ping, sha-sha booey!"</span><span>,</span>
    <span>from_email</span><span>=</span><span>"updates@example.com"</span><span>,</span>
    <span>[</span><span>"adam@example.com"</span><span>],</span>
    <span>fail_silently</span><span>=</span><span>True</span><span>,</span>
<span>)</span>
</pre></div><p>This change is appreciated for API clarity, and Django is generally moving towards using keyword-only arguments more often. django-upgrade can automatically fix this one for you, via its <a href="https://django-upgrade.readthedocs.io/en/latest/fixers.html#mail-api-kwargs"><code>mail_api_kwargs</code> fixer</a>.</p><p>Thanks to Mike Edmunds, again, for making this improvement in <a href="https://code.djangoproject.com/ticket/36163">Ticket #36163</a>.</p></div><div id="extended-automatic-shell-imports"><h2>Extended automatic <code>shell</code> imports<a title="Permalink to this headline" href="#extended-automatic-shell-imports"></a></h2><p>Next up:</p><blockquote>Common utilities, such as django.conf.settings, are now automatically imported to the shell by default.</blockquote><p>One of the headline features back in Django 5.2 was <a href="https://adamj.eu/tech/2025/04/07/django-whats-new-5.2/#automatic-model-imports-in-the-shell">automatic model imports in the shell</a>, making <code>./manage.py shell</code> import all of your models automatically. Building on that DX boost, Django 6.0 now also imports other common utilities, for which we can find the full list by running <code>./manage.py shell</code> with <code><span>-v</span> 2</code>:</p><div><pre><span></span><span>$ </span>./manage.py<span> </span>shell<span> </span>-v<span> </span><span>2</span>
<span>6 objects imported automatically:</span>

<span>  from django.conf import settings</span>
<span>  from django.db import connection, models, reset_queries</span>
<span>  from django.db.models import functions</span>
<span>  from django.utils import timezone</span>

<span>...</span>
</pre></div><p>(This is from a project without any models, so only the utilities are listed.)</p><p>So that’s:</p><ul><li><p><a href="https://docs.djangoproject.com/en/stable/topics/settings/#using-settings-in-python-code"><code>settings</code></a>, useful for checking your runtime configuration:</p> <div><pre><span></span><span>In</span> <span>[</span><span>1</span><span>]:</span> <span>settings</span><span>.</span><span>DEBUG</span>
<span>Out</span><span>[</span><span>1</span><span>]:</span> <span>False</span>
</pre></div></li><li><p><a href="https://docs.djangoproject.com/en/5.2/topics/db/sql/#executing-custom-sql-directly"><code>connection</code></a> and <code>reset_queries()</code>, great for <a href="https://docs.djangoproject.com/en/stable/faq/models/#how-can-i-see-the-raw-sql-queries-django-is-running">checking the executed queries</a>:</p> <div><pre><span></span><span>In</span> <span>[</span><span>1</span><span>]:</span> <span>Book</span><span>.</span><span>objects</span><span>.</span><span>select_related</span><span>(</span><span>'author'</span><span>)</span>
<span>Out</span><span>[</span><span>1</span><span>]:</span> <span>&lt;</span><span>QuerySet</span> <span>[]</span><span>&gt;</span>

<span>In</span> <span>[</span><span>2</span><span>]:</span> <span>connection</span><span>.</span><span>queries</span>
<span>Out</span><span>[</span><span>2</span><span>]:</span>
<span>[{</span><span>'sql'</span><span>:</span> <span>'SELECT "example_book"."id", "example_book"."title", "example_book"."author_id", "example_author"."id", "example_author"."name" FROM "example_book" INNER JOIN "example_author" ON ("example_book"."author_id" = "example_author"."id") LIMIT 21'</span><span>,</span>
  <span>'time'</span><span>:</span> <span>'0.000'</span><span>}]</span>
</pre></div></li><li><p><a href="https://docs.djangoproject.com/en/stable/topics/db/models/#defining-models"><code>models</code></a> and <a href="https://docs.djangoproject.com/en/stable/ref/models/database-functions/#module-django.db.models.functions"><code>functions</code></a>, useful for advanced ORM work:</p> <div><pre><span></span><span>In</span> <span>[</span><span>1</span><span>]:</span> <span>Book</span><span>.</span><span>objects</span><span>.</span><span>annotate</span><span>(</span>
   <span>...</span><span>:</span>   <span>title_lower</span><span>=</span><span>functions</span><span>.</span><span>Lower</span><span>(</span><span>"title"</span><span>)</span>
   <span>...</span><span>:</span> <span>)</span><span>.</span><span>filter</span><span>(</span>
   <span>...</span><span>:</span>   <span>title_lower__startswith</span><span>=</span><span>"a"</span>
   <span>...</span><span>:</span> <span>)</span><span>.</span><span>count</span><span>()</span>
<span>Out</span><span>[</span><span>1</span><span>]:</span> <span>71</span>
</pre></div></li><li><p><a href="https://docs.djangoproject.com/en/stable/ref/utils/#module-django.utils.timezone"><code>timezone</code></a>, useful for using Django’s timezone-aware date and time utilities:</p> <div><pre><span></span><span>In</span> <span>[</span><span>1</span><span>]:</span> <span>timezone</span><span>.</span><span>now</span><span>()</span>
<span>Out</span><span>[</span><span>1</span><span>]:</span> <span>datetime</span><span>.</span><span>datetime</span><span>(</span><span>2025</span><span>,</span> <span>12</span><span>,</span> <span>1</span><span>,</span> <span>23</span><span>,</span> <span>42</span><span>,</span> <span>22</span><span>,</span> <span>558418</span><span>,</span> <span>tzinfo</span><span>=</span><span>datetime</span><span>.</span><span>timezone</span><span>.</span><span>utc</span><span>)</span>
</pre></div></li></ul><p>It remains possible to extend the automatic imports with whatever you’d like, as documented in <a href="https://docs.djangoproject.com/en/stable/howto/custom-shell/">How to customize the <code>shell</code> command</a> documentation page.</p><p>Salvo Polizzi contributed the original automatic shell imports feature in Django 5.2. He’s then returned to offer these extra imports for Django 6.0, in <a href="https://code.djangoproject.com/ticket/35680">Ticket #35680</a>. Thanks to everyone that contributed to the forum discussion agreeing on which imports to add, and to Natalia Bidart and Sarah Boyce for reviewing!</p></div><div id="dynamic-field-refresh-on-save"><h2>Dynamic field refresh on <code>save()</code><a title="Permalink to this headline" href="#dynamic-field-refresh-on-save"></a></h2><p>Now let’s discuss a series of ORM improvements, starting with this big one:</p><blockquote><code>GeneratedField</code>s and fields assigned expressions are now refreshed from the database after <code>save()</code> on backends that support the <code>RETURNING</code> clause (SQLite, PostgreSQL, and Oracle). On backends that don’t support it (MySQL and MariaDB), the fields are marked as deferred to trigger a refresh on subsequent accesses.</blockquote><p>Django models support having the database generate field values for you in three cases:</p><ol><li><p>The <a href="https://docs.djangoproject.com/en/stable/ref/models/fields/#django.db.models.Field.db_default"><code>db_default</code></a> field option, which lets the database generate the default value when creating an instance:</p> <div><pre><span></span><span>from</span> <span>django.db</span> <span>import</span> <span>models</span>
<span>from</span> <span>django.db.models.functions</span> <span>import</span> <span>Now</span>


<span>class</span> <span>Video</span><span>(</span><span>models</span><span>.</span><span>Model</span><span>):</span>
    <span>...</span>
    <span>created</span> <span>=</span> <span>models</span><span>.</span><span>DateTimeField</span><span>(</span><span>db_default</span><span>=</span><span>Now</span><span>())</span>
</pre></div></li><li><p>The <a href="https://docs.djangoproject.com/en/stable/ref/models/fields/#django.db.models.GeneratedField"><code>GeneratedField</code></a> field type, which is always computed by the database based on other fields in the same instance:</p> <div><pre><span></span><span>from</span> <span>django.db</span> <span>import</span> <span>models</span>
<span>from</span> <span>django.db.models.functions</span> <span>import</span> <span>Concat</span>


<span>class</span> <span>Video</span><span>(</span><span>models</span><span>.</span><span>Model</span><span>):</span>
    <span>...</span>
    <span>full_title</span> <span>=</span> <span>models</span><span>.</span><span>GeneratedField</span><span>(</span>
        <span>models</span><span>.</span><span>TextField</span><span>(),</span>
        <span>expression</span><span>=</span><span>Concat</span><span>(</span>
            <span>"title"</span><span>,</span>
            <span>models</span><span>.</span><span>Value</span><span>(</span><span>" - "</span><span>),</span>
            <span>"subtitle"</span><span>,</span>
        <span>),</span>
    <span>)</span>
</pre></div></li><li><p>Assigning expression values to fields before saving:</p> <div><pre><span></span><span>from</span> <span>django.db</span> <span>import</span> <span>models</span>
<span>from</span> <span>django.db.models.functions</span> <span>import</span> <span>Now</span>


<span>class</span> <span>Video</span><span>(</span><span>models</span><span>.</span><span>Model</span><span>):</span>
    <span>...</span>
    <span>last_updated</span> <span>=</span> <span>models</span><span>.</span><span>DateTimeField</span><span>()</span>


<span>video</span> <span>=</span> <span>Video</span><span>.</span><span>objects</span><span>.</span><span>get</span><span>(</span><span>id</span><span>=</span><span>1</span><span>)</span>
<span>...</span>
<span>video</span><span>.</span><span>last_updated</span> <span>=</span> <span>Now</span><span>()</span>
<span>video</span><span>.</span><span>save</span><span>()</span>
</pre></div></li></ol><p>Previously, only the first method, using <code>db_default</code>, would refresh the field value from the database after saving. The other two methods would leave you with only the old value or the expression object, meaning you’d need to call <a href="https://docs.djangoproject.com/en/stable/ref/models/instances/#django.db.models.Model.refresh_from_db"><code>Model.refresh_from_db()</code></a> to get any updated value if necessary. This was hard to remember and it costs an extra database query.</p><p>Now Django takes advantage of the <code>RETURNING</code> SQL clause to save the model instance and fetch updated dynamic field values in a single query, on backends that support it (SQLite, PostgreSQL, and Oracle). A <code>save()</code> call may now issue a query like:</p><div><pre><span></span><span>UPDATE</span><span> </span><span>"example_video"</span>
<span>SET</span><span> </span><span>"last_updated"</span><span> </span><span>=</span><span> </span><span>NOW</span><span>()</span>
<span>WHERE</span><span> </span><span>"example_video"</span><span>.</span><span>"id"</span><span> </span><span>=</span><span> </span><span>1</span>
<span>RETURNING</span><span> </span><span>"example_video"</span><span>.</span><span>"last_updated"</span>
</pre></div><p>Django puts the return value into the model field, so you can read it immediately after saving:</p><div><pre><span></span><span>video</span> <span>=</span> <span>Video</span><span>.</span><span>objects</span><span>.</span><span>get</span><span>(</span><span>id</span><span>=</span><span>1</span><span>)</span>
<span>...</span>
<span>video</span><span>.</span><span>last_updated</span> <span>=</span> <span>Now</span><span>()</span>
<span>video</span><span>.</span><span>save</span><span>()</span>
<span>print</span><span>(</span><span>video</span><span>.</span><span>last_updated</span><span>)</span>  <span># Updated value from the database</span>
</pre></div><p>On backends that don’t support <code>RETURNING</code> (MySQL and MariaDB), Django now marks the dynamic fields as deferred after saving. That way, the later access, as in the above example, will automatically call <code>Model.refresh_from_db()</code>. This ensures that you always read the updated value, even if it costs an extra query.</p><div id="history-4"><h3>History<a title="Permalink to this headline" href="#history-4"></a></h3><p>This feature was proposed in <a href="https://code.djangoproject.com/ticket/27222">Ticket #27222</a> way back in 2016, by Anssi Kääriäinen. It sat dormant for most of the nine years since, but ORM boss Simon Charette picked it up earlier this year, found an implementation, and pushed it through to completion. Thanks to Simon for continuing to push the ORM forward, and to all reviewers: David Sanders, Jacob Walls, Mariusz Felisiak, nessita, Paolo Melchiorre, Simon Charette, and Tim Graham.</p></div></div><div id="universal-stringagg-aggregate"><h2>Universal <code>StringAgg</code> aggregate<a title="Permalink to this headline" href="#universal-stringagg-aggregate"></a></h2><p>The next ORM change:</p><blockquote>The new <a href="https://docs.djangoproject.com/en/stable/ref/models/aggregates/#django.db.models.StringAgg"><code>StringAgg</code></a> aggregate returns the input values concatenated into a string, separated by the <code>delimiter</code> string. This aggregate was previously supported only for PostgreSQL.</blockquote><p>This aggregate is often used for making comma-separated lists of related items, among other things. Previously, it was only supported on PostgreSQL, as part of <a href="https://docs.djangoproject.com/en/stable/ref/contrib/postgres/"><code>django.contrib.postgres</code></a>:</p><div><pre><span></span><span>from</span> <span>django.contrib.postgres.aggregates</span> <span>import</span> <span>StringAgg</span>
<span>from</span> <span>example.models</span> <span>import</span> <span>Video</span>

<span>videos</span> <span>=</span> <span>Video</span><span>.</span><span>objects</span><span>.</span><span>annotate</span><span>(</span>
    <span>chapter_ids</span><span>=</span><span>StringAgg</span><span>(</span><span>"chapter"</span><span>,</span> <span>delimiter</span><span>=</span><span>","</span><span>),</span>
<span>)</span>

<span>for</span> <span>video</span> <span>in</span> <span>videos</span><span>:</span>
    <span>print</span><span>(</span><span>f</span><span>"Video </span><span>{</span><span>video</span><span>.</span><span>id</span><span>}</span><span> has chapters: </span><span>{</span><span>video</span><span>.</span><span>chapter_ids</span><span>}</span><span>"</span><span>)</span>
</pre></div><p>…which might give you output like:</p><div><pre><span></span>Video 104 has chapters: 71,72,74
Video 107 has chapters: 88,89,138,90,91,93
</pre></div><p>Now this aggregate is available on all database backends supported by Django, imported from <code>django.db.models</code>:</p><div><pre><span></span><span>from</span> <span>django.db.models</span> <span>import</span> <span>StringAgg</span><span>,</span> <span>Value</span>
<span>from</span> <span>example.models</span> <span>import</span> <span>Video</span>

<span>videos</span> <span>=</span> <span>Video</span><span>.</span><span>objects</span><span>.</span><span>annotate</span><span>(</span>
    <span>chapter_ids</span><span>=</span><span>StringAgg</span><span>(</span><span>"chapter"</span><span>,</span> <span>delimiter</span><span>=</span><span>Value</span><span>(</span><span>","</span><span>)),</span>
<span>)</span>

<span>for</span> <span>video</span> <span>in</span> <span>videos</span><span>:</span>
    <span>print</span><span>(</span><span>f</span><span>"Video </span><span>{</span><span>video</span><span>.</span><span>id</span><span>}</span><span> has chapters: </span><span>{</span><span>video</span><span>.</span><span>chapter_ids</span><span>}</span><span>"</span><span>)</span>
</pre></div><p>Note the <code>delimiter</code> argument now requires a <a href="https://docs.djangoproject.com/en/stable/ref/models/expressions/#django.db"><code>Value()</code></a> expression wrapper for literal strings, as above. This change allows you to use database functions or fields as the delimiter if desired.</p><p>While most Django projects stick to PostgreSQL, having this aggregate available on all backends is a nice improvement for cross-database compatibility, and it means third-party packages can use it without affecting their database support.</p><div id="history-5"><h3>History<a title="Permalink to this headline" href="#history-5"></a></h3><p>The PostgreSQL-specific <code>StringAgg</code> was added way back in Django 1.9 (2015) by Andriy Sokolovskiy, in <a href="https://code.djangoproject.com/ticket/24301">Ticket #24301</a>. In <a href="https://code.djangoproject.com/ticket/35444">Ticket #35444</a>, Chris Muthig proposed adding the <code>Aggregate.order_by</code> option, something used by <code>StringAgg</code> to specify the ordering of concatenated elements, and as a side effect this made it possible to generalize <code>StringAgg</code> to all backends.</p><p>Thanks to Chris for proposing and implementing this change, and to all reviewers: Paolo Melchiorre, Sarah Boyce, and Simon Charette.</p></div></div><div id="bigautofield-as-the-default-primary-key-type"><h2><code>BigAutoField</code> as the default primary key type<a title="Permalink to this headline" href="#bigautofield-as-the-default-primary-key-type"></a></h2><p>Next up:</p><blockquote><code>DEFAULT_AUTO_FIELD</code> setting now defaults to <code>BigAutoField</code></blockquote><p>This important change helps lock in scalable larger primary keys.</p><p>Django 3.2 (2021) introduced <a href="https://docs.djangoproject.com/en/stable/ref/settings/#default-auto-field">the <code>DEFAULT_AUTO_FIELD</code> setting</a> for changing the default primary key type used in models. Django uses this setting to add a primary key field called <code>id</code> to models that don’t explicitly define a primary key field. For example, if you define a model like this:</p><div><pre><span></span><span>from</span> <span>django.db</span> <span>import</span> <span>models</span>


<span>class</span> <span>Video</span><span>(</span><span>models</span><span>.</span><span>Model</span><span>):</span>
    <span>title</span> <span>=</span> <span>models</span><span>.</span><span>TextField</span><span>()</span>
</pre></div><p>…then it will have two fields: <code>id</code> and <code>title</code>, where <code>id</code> uses the type defined by <code>DEFAULT_AUTO_FIELD</code>.</p><p>The setting can also be overridden on a per-app basis by defining <a href="https://docs.djangoproject.com/en/stable/ref/applications/#django.apps.AppConfig.default_auto_field"><code>AppConfig.default_auto_field</code></a> in the app’s <code>apps.py</code> file:</p><div><pre><span></span><span>from</span> <span>django.apps</span> <span>import</span> <span>AppConfig</span>


<span>class</span> <span>ChannelConfig</span><span>(</span><span>AppConfig</span><span>):</span>
    <span>name</span> <span>=</span> <span>"channel"</span>
    <span>default_auto_field</span> <span>=</span> <span>"django.db.models.BigAutoField"</span>
</pre></div><p>A key motivation for adding the setting was to allow projects to switch from <code>AutoField</code> (a 32-bit integer) to <code>BigAutoField</code> (a 64-bit integer) for primary keys, without needing changes to every model. <code>AutoField</code> can store values up to about 2.1 billion, which sounds large but it becomes easy to hit at scale. <code>BigAutoField</code> can store values up to about 9.2 quintillion, which is “more than enough” for every practical purpose.</p><p>If a model using <code>AutoField</code> hits its maximum value, it can no longer accept new rows, a problem known as <strong>primary key exhaustion</strong>. The table is effectively blocked, requiring an urgent fix to switch the model from <code>AutoField</code> to <code>BigAutoField</code> via a locking database migration on a large table. For a great watch on how Kraken is fixing this problem, see <a href="https://www.youtube.com/watch?v=kZ4q0k_FNhw">Tim Bell’s DjangoCon Europe 2025 talk</a>, detailing some clever techniques to proactively migrate large tables with minimal downtime.</p><p>To stop this problem arising for new projects, Django 3.2 made new projects created with <code>startproject</code> set <code>DEFAULT_AUTO_FIELD</code> to <code>BigAutoField</code>, and new apps created with <code>startapp</code> set their <code>AppConfig.default_auto_field</code> to <code>BigAutoField</code>. It also added a system check to ensure that projects set <code>DEFAULT_AUTO_FIELD</code> explicitly, to ensure users were aware of the feature and could make an informed choice.</p><p>Now Django 6.0 changes the actual default values of the setting and app config attribute to <code>BigAutoField</code>. Projects using <code>BigAutoField</code> can remove the setting:</p><div><pre><span></span><span>-DEFAULT_AUTO_FIELD = "django.db.models.BigAutoField"</span>
</pre></div><p>…and app config attribute:</p><div><pre><span></span>from django.apps import AppConfig

<span> </span>class ChannelConfig(AppConfig):
<span> </span>    name = "channel"
<span>-    default_auto_field = "django.db.models.BigAutoField"</span>
</pre></div><p>The default <code>startproject</code> and <code>startapp</code> templates also no longer set these values. This change reduces the amount of boilerplate in new projects, and the problem of primary key exhaustion can fade into history, becoming something that most Django users no longer need to think about.</p><div id="history-6"><h3>History<a title="Permalink to this headline" href="#history-6"></a></h3><p>The addition of <code>DEFAULT_AUTO_FIELD</code> in Django 3.2 was proposed by Caio Ariede and implemented by Tom Forbes, in <a href="https://code.djangoproject.com/ticket/31007">Ticket #31007</a>. This new change in Django 6.0 was proposed and implemented by ex-Fellow Tim Graham, in <a href="https://code.djangoproject.com/ticket/36564">Ticket #36564</a>. Thanks to Tim for spotting that this cleanup was now possible, and to Jacob Walls and Clifford Gama for reviewing!</p></div></div><div id="template-variable-forloop-length"><h2>Template variable <code>forloop.length</code><a title="Permalink to this headline" href="#template-variable-forloop-length"></a></h2><p>Moving on to templates, let’s start with this nice little addition:</p><blockquote>The new variable forloop.length is now available within a for loop.</blockquote><p>This small extension makes it possible to write a template loop like this:</p><div><pre><span></span><span>&lt;</span><span>ul</span><span>&gt;</span>
  <span>{%</span> <span>for</span> <span>goose</span> <span>in</span> <span>geese</span> <span>%}</span>
    <span>&lt;</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>strong</span><span>&gt;</span><span>{{</span> <span>forloop</span><span>.counter</span> <span>}}</span>/<span>{{</span> <span>forloop</span><span>.length</span> <span>}}</span><span>&lt;/</span><span>strong</span><span>&gt;</span>: <span>{{</span> <span>goose.name</span> <span>}}</span>
    <span>&lt;/</span><span>li</span><span>&gt;</span>
  <span>{%</span> <span>endfor</span> <span>%}</span>
<span>&lt;/</span><span>ul</span><span>&gt;</span>
</pre></div><p>Previously, you’d need to refer to the length in an another way, like <code>{{ geese|length }}</code>, which is a bit less flexible.</p><p>Thanks to Jonathan Ströbele for contributing this idea and implementation in <a href="https://code.djangoproject.com/ticket/36186">Ticket #36186</a>, and to David Smith, Paolo Melchiorre, and Sarah Boyce for reviewing.</p></div><div id="querystring-template-tag-enhancements"><h2><code>querystring</code> template tag enhancements<a title="Permalink to this headline" href="#querystring-template-tag-enhancements"></a></h2><p>There are two extensions to <a href="https://docs.djangoproject.com/en/stable/ref/templates/builtins/#django-template">the <code>querystring</code> template tag</a>, which was added in Django 5.1 to help with building links that modify the current request’s query parameters.</p><ol><li><p>Release note:</p> <blockquote><p>The <code>querystring</code> template tag now consistently prefixes the returned query string with a <code>?</code>, ensuring reliable link generation behavior.</p></blockquote> <p>This small change improves how the tag behaves when an empty mapping of query parameters are provided. Say you had a template like this:</p> <div><pre><span></span><span>&lt;</span><span>a</span> <span>href</span><span>=</span><span>"</span><span>{%</span> <span>querystring</span> <span>params</span> <span>%}</span><span>"</span><span>&gt;</span>Reset search<span>&lt;/</span><span>a</span><span>&gt;</span>
</pre></div> <p>…where <code>params</code> is a dictionary that may sometimes be empty. Previously, if <code>params</code> was empty, the output would be:</p> <div><pre><span></span><span>&lt;</span><span>a</span> <span>href</span><span>=</span><span>""</span><span>&gt;</span>Reset search<span>&lt;/</span><span>a</span><span>&gt;</span>
</pre></div> <p>Browsers treat this as a link to the same URL <em>including the query parameters</em>, so it would not clear the query parameters as intended. Now, with this change, the output will be:</p> <div><pre><span></span><span>&lt;</span><span>a</span> <span>href</span><span>=</span><span>"?"</span><span>&gt;</span>Reset search<span>&lt;/</span><span>a</span><span>&gt;</span>
</pre></div> <p>Browsers treat <code>?</code> as a link to the same URL <em>without any query parameters</em>, clearing them as the user would expect.</p> <p>Thanks to Django Fellow Sarah Boyce for spotting this improvement and implementing the fix in <a href="https://code.djangoproject.com/ticket/36268">Ticket #36268</a>, and for Django Fellow Natalia Bidart for reviewing!</p></li><li><p>Release note:</p> <blockquote><p>The <code>querystring</code> template tag now accepts multiple positional arguments, which must be mappings, such as <code>QueryDict</code> or <code>dict</code>.</p></blockquote> <p>This enhancement allows the tag to merge multiple sources of query parameters when building the output. For example, you might have a template like this:</p> <div><pre><span></span><span>&lt;</span><span>a</span> <span>href</span><span>=</span><span>"</span><span>{%</span> <span>querystring</span> <span>request.GET</span> <span>super_search_params</span> <span>%}</span><span>"</span><span>&gt;</span>Super search<span>&lt;/</span><span>a</span><span>&gt;</span>
</pre></div> <p>…where <code>super_search_params</code> is a dictionary of extra parameters to add to make the current search “super”. The tag merges the two mappings, with later mappings taking precedence for duplicate keys.</p> <p>Thanks again to Sarah Boyce for proposing this improvement in <a href="https://code.djangoproject.com/ticket/35529">Ticket #35529</a>, to Giannis Terzopoulos for implementing it, and to Natalia Bidart, Sarah Boyce, and Tom Carrick for reviewing!</p></li></ol></div><div id="fin"><h2>Fin<a title="Permalink to this headline" href="#fin"></a></h2><p>That’s a wrap! Thank you for reading my highlights. There are plenty more changes to read about in <a href="https://docs.djangoproject.com/en/stable/releases/6.0/">the release notes</a>.</p><p>Also, there are always many more behind-the-scenes improvements and bug fixes that don’t make it into the release notes. Optimizations and micro-improvements get merged all the time, so don’t delay, upgrade today!</p><p>Thank you to <strong>all 174 people</strong> who contributed to Django 6.0, as counted in <a href="https://gist.github.com/felixxm/99501cdbf6ed5a69295b4cb3f8c21d80">this list</a> by Mariusz Felisiak.</p><p>May your upgrade be swift, smooth, safe, and secure,</p><p>—Adam</p></div><hr><p>😸😸😸 Check out my new book on using GitHub effectively, <strong><a href="https://adamj.eu/tech/2025/11/11/boost-your-github-dx-out-now/">Boost Your GitHub DX</a></strong>! 😸😸😸</p><hr><p><small>One summary email a week, no spam, I pinky promise.</small></p><p><strong>Related posts:</strong></p><ul><li><a href="https://adamj.eu/tech/2025/04/07/django-whats-new-5.2/">Django: what’s new in 5.2</a></li></ul><p><strong>Tags:</strong> <a href="https://adamj.eu/tech/tag/django/" rel="tag">django</a></p></article></div>]]></description>
        </item>
    </channel>
</rss>