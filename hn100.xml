<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Mon, 06 Nov 2023 14:00:11 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[The first stable release of a memory safe sudo implementation (121 pts)]]></title>
            <link>https://www.memorysafety.org/blog/sudo-first-stable-release/</link>
            <guid>38161016</guid>
            <pubDate>Mon, 06 Nov 2023 10:58:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.memorysafety.org/blog/sudo-first-stable-release/">https://www.memorysafety.org/blog/sudo-first-stable-release/</a>, See on <a href="https://news.ycombinator.com/item?id=38161016">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><header><p>Josh Aas<br>Aug 29, 2023</p></header><article><p>Prossimo is pleased to announce the <a href="https://crates.io/crates/sudo-rs">first stable release</a> of <a href="https://github.com/memorysafety/sudo-rs">sudo-rs</a>, our Rust rewrite of the critical sudo utility.</p><p>The sudo utility is one of the most common ways for engineers to cross the privacy boundary between user and administrative accounts in the ubiquitous Linux operating system. As such, its security is of the utmost importance.</p><p>The <a href="https://www.memorysafety.org/initiative/sudo-su/">sudo-rs project</a> improves on the security of the original sudo by:</p><ul><li><p>Using a memory safe language (Rust), as it's estimated that one out of three security bugs in the original sudo have been memory management issues</p></li><li><p>Leaving out less commonly used features so as to reduce attack surface</p></li><li><p>Developing an extensive test suite which even managed to <a href="https://ferrous-systems.com/blog/testing-sudo-rs/">find bugs in the original sudo</a></p></li></ul><p>The Wolfi Linux OS already includes sudo-rs and we hope that others will follow their lead. "When we first set out to build Wolfi, making sure it was memory safe was always a top priority," said Dan Lorenc, CEO and Co-founder at Chainguard. "The sudo utility is a perfect example of a security-critical tool that's both pervasive and under-appreciated. Security improvements to tools like this will have an outsized impact on the entire industry. The work that went into building the first sudo-rs release is a great step forward in eliminating potential security issues by adopting memory safe languages like Rust. This is critical for upholding and maintaining Wolfi as the secure-by-default foundation for developers who want to address most modern supply chain threats."</p><p>A joint team from <a href="https://tweedegolf.nl/">Tweede Golf</a> and <a href="https://ferrous-systems.com/">Ferrous Systems</a> built sudo-rs under contract with Prossimo. We're pleased with how much progress they've made since <a href="https://www.memorysafety.org/blog/sudo-and-su/">starting this project</a> in December, 2022. An external security audit of the sudo-rs code is scheduled to start in September 2023. After that, the team will start on Milestone 4 of our <a href="https://www.memorysafety.org/initiative/sudo-su/sudo-su-work-plan/">work plan</a>, which focuses on enterprise features.</p><p>The original <a href="https://www.sudo.ws/">C-based sudo utility</a> has been maintained by Todd C. Miller for many years now, and we're grateful to him for taking on this huge and important task. We're also grateful that Todd has made time to offer us excellent advice on implementing sudo-rs.</p><p>Prossimo is able to take on the challenging work of rewriting critical components of the Internet thanks to our community of funders from around the world. We’d like to thank the NLnet Foundation for their funding of the audit of Sudo-rs. We'd also like to thank Amazon Web Services for supporting this work and supporting the transition to memory safe software.</p><p>ISRG is a 501(c)(3) nonprofit organization that is 100% supported through the generosity of those who share our vision for ubiquitous, open Internet security. If you'd like to support our work, please consider <a href="https://www.abetterinternet.org/getinvolved/">getting involved</a>, <a href="https://www.abetterinternet.org/donate/">donating</a>, or encouraging your company to <a href="https://www.abetterinternet.org/sponsor/">become a sponsor</a>.</p></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[FFmpeg is getting better with multithreaded transcoding pipelines (129 pts)]]></title>
            <link>https://twitter.com/FFmpeg/status/1721275669336707152</link>
            <guid>38160703</guid>
            <pubDate>Mon, 06 Nov 2023 10:12:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/FFmpeg/status/1721275669336707152">https://twitter.com/FFmpeg/status/1721275669336707152</a>, See on <a href="https://news.ycombinator.com/item?id=38160703">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="ScriptLoadFailure"><form action="" method="GET"><div><p><span>Something went wrong, but don’t fret — let’s give it another shot.</span></p><br></div></form></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Wikipedia admin unmasks self as sockpuppet of other admin banned in 2015 (128 pts)]]></title>
            <link>https://en.wikipedia.org/wiki/Wikipedia:Wikipedia_Signpost/2023-11-06/Arbitration_report</link>
            <guid>38160425</guid>
            <pubDate>Mon, 06 Nov 2023 09:29:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://en.wikipedia.org/wiki/Wikipedia:Wikipedia_Signpost/2023-11-06/Arbitration_report">https://en.wikipedia.org/wiki/Wikipedia:Wikipedia_Signpost/2023-11-06/Arbitration_report</a>, See on <a href="https://news.ycombinator.com/item?id=38160425">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

<p>A <a href="https://en.wikipedia.org/wiki/Wikipedia:Wikipedia_Signpost/2015-02-18/Arbitration_report" title="Wikipedia:Wikipedia Signpost/2015-02-18/Arbitration report">2015 arbitration report</a> in this very periodical said "it was a matter of deep concern" that an abusive editor who had obtained administrator privileges "was able to fool the community for so long". At that time, they were banned by the Arbitration Committee following a long case. We are sad to report that, not only did the abuse not stop in 2015, but the same person managed to obtain a second administrator account, and was just discovered a few days ago.
</p>
<h3><span id="November_1_case_request_and_startling_admission" data-mw-thread-id="h-November_1_case_request_and_startling_admission-signpost-article-title"><span data-mw-comment-start="" id="h-November_1_case_request_and_startling_admission-signpost-article-title"></span>November 1 case request and startling admission<span data-mw-comment-end="h-November_1_case_request_and_startling_admission-signpost-article-title"></span></span></h3>
<p><a href="https://en.wikipedia.org/wiki/User:Beeblebrox" title="User:Beeblebrox">Beeblebrox</a> opened a request for arbitration against administrator <a href="https://en.wikipedia.org/wiki/User:Lourdes" title="User:Lourdes">Lourdes</a> on 1 November, claiming misdeeds including <q>administrative blackmail</q> — bullying other less-privileged editors over their votes during a recent request for adminship. With the case request around one day old, on 2 November, the respondent suddenly <a href="https://en.wikipedia.org/wiki/Special:Diff/1183105704" title="Special:Diff/1183105704">stated</a> that they are the site-banned former admin, Wifione. The case request was <a href="https://en.wikipedia.org/wiki/Special:Diff/1183170493" title="Special:Diff/1183170493">closed as moot</a> following Lourdes' admission. 
</p><p>One of the contributors to the case, <a href="https://en.wikipedia.org/wiki/User:Kurtis" title="User:Kurtis">Kurtis</a>, asked "Is this an ArbCom case request or an M. Night Shyamalan movie?" Others, like arbitrator Moneytrees in the quote above, were more to-the-point.
</p>
<h3><span id="Wifione_background" data-mw-thread-id="h-Wifione_background-signpost-article-title"><span data-mw-comment-start="" id="h-Wifione_background-signpost-article-title"></span>Wifione background<span data-mw-comment-end="h-Wifione_background-signpost-article-title"></span></span></h3>
<p>If you have read our <a href="https://en.wikipedia.org/wiki/Wikipedia:Wikipedia_Signpost/2015-02-18/Arbitration_report#In_depth:_Wifione" title="Wikipedia:Wikipedia Signpost/2015-02-18/Arbitration report">prior coverage</a> of how the Wifione siteban came to be, amidst allegations of paid editing while holding the admin bit, you can probably skip over this section. 
</p><p>According to the 2015 Arbcom case, the <a href="https://en.wikipedia.org/wiki/Wikipedia:Arbitration/Requests/Case/Wifione#Sock_puppetry" title="Wikipedia:Arbitration/Requests/Case/Wifione">oldest known account</a> used by the individual also known as Wifione was created in 2006. They created dozens of sock accounts, which were revealed by a <a href="https://en.wikipedia.org/wiki/Wikipedia:Requests_for_checkuser/Case/Mrinal_Pandey" title="Wikipedia:Requests for checkuser/Case/Mrinal Pandey">2008 checkuser request</a>.
</p><p>That prior account was later linked to another account called Wifione, which was created in 2009 and that had become a Wikipedia admin in 2010. The Arbitration committee case found that Wifione was engaging in search engine optimization related to an Indian educational firm. Wifione was <a href="https://en.wikipedia.org/wiki/Wikipedia:SBAN" title="Wikipedia:SBAN">sitebanned</a> as part of the case resolution.
</p>
<h3><span id="An_admin_called_.22Lourdes.22"></span><span id="An_admin_called_&quot;Lourdes&quot;" data-mw-thread-id="h-An_admin_called_&quot;Lourdes&quot;-signpost-article-title"><span data-mw-comment-start="" id="h-An_admin_called_&quot;Lourdes&quot;-signpost-article-title"></span>An admin called "Lourdes"<span data-mw-comment-end="h-An_admin_called_&quot;Lourdes&quot;-signpost-article-title"></span></span></h3>
<p>This <a href="https://en.wikipedia.org/wiki/Wikipedia:LTA" title="Wikipedia:LTA">long-term abuser</a> created the Lourdes account in late 2015, initially under a different name. In 2016 they renamed the account. They were most active in 2016–17, and ran an unsuccessful, self-nominated request for adminship in early 2017; a second attempt in 2018 <a href="https://en.wikipedia.org/wiki/Special:PermanentLink/827679457" title="Special:PermanentLink/827679457">was successful</a> with 207 in favor and 3 opposed. The account went mostly unused for 2020 through 2022, with many months of total editorial inactivity, although it continued to perform admin actions. In 2023, they returned to regularly editing the English Wikipedia.
</p><p>Throughout their tenure, they made 2,282 admin actions, according to <a href="https://en.wikipedia.org/wiki/User:JamesR/AdminStats" title="User:JamesR/AdminStats">User:JamesR/AdminStats</a>.
</p><p>The <a href="https://en.wikipedia.org/wiki/Special:PermanentLink/1183169230" title="Special:PermanentLink/1183169230">arbitration case request</a> filed this month alleged that Lourdes engaged in egregious abuse of their administrator status during a recent request for adminship, including the following (described by one of the contributors to the request as "the kind of thinly veiled threat you'd expect to hear in <i>The Godfather</i>"):
</p>
<blockquote><p>Because I remember having acted on your complaints at ANI a few times, and on the basis of that connect and support that I gave you, I am requesting you to reconsider your stand
<br><span>—&nbsp;Lourdes, at <a href="https://en.wikipedia.org/wiki/Special:PermanentLink/1181782012" title="Special:PermanentLink/1181782012">the case request</a></span></p></blockquote>
<p>In response, they gave an admission nobody expected:
</p>
<blockquote><p>I am <a href="https://en.wikipedia.org/wiki/User:Wifione" title="User:Wifione">User:Wifione</a>, the admin who got blocked years ago. 
</p><p>My RL identity has nothing to do with any celebrity or anyone like that. I am not writing this to have any final laugh. It's just that I feel it appropriate to place it here specially for Beeblebrox, who I almost emotionally traumatised over the years with the aforementioned double sleight -- aka, pulling him around for revealing my so-called identity. It also required double-doxxing myself on at least one external project, namely Wikipediocracy, which even placed mentions of my name in the private section to protect my identity.
</p>
<p><br><span>—&nbsp;Lourdes, at <a href="https://en.wikipedia.org/wiki/Special:Diff/1183105704" title="Special:Diff/1183105704">the case request</a></span></p></blockquote>
<p>And blocked themselves indefinitely:
</p>
<blockquote><p><span><a href="https://en.wikipedia.org/w/index.php?title=Special:Log&amp;logid=154542088">2023-11-01T22:47:55</a> <a href="https://en.wikipedia.org/wiki/User:Lourdes" title="User:Lourdes">User:Lourdes</a> (<a href="https://en.wikipedia.org/wiki/User_talk:Lourdes" title="User talk:Lourdes">talk</a> | <a href="https://en.wikipedia.org/wiki/Special:Contributions/Lourdes" title="Special:Contributions/Lourdes">contribs</a>) blocked <a href="https://en.wikipedia.org/wiki/User:Lourdes" title="User:Lourdes">User:Lourdes</a> (<a href="https://en.wikipedia.org/wiki/User_talk:Lourdes" title="User talk:Lourdes">talk</a> | <a href="https://en.wikipedia.org/wiki/Special:Contributions/Lourdes" title="Special:Contributions/Lourdes">contribs</a>) with an expiration time of indefinite (account creation blocked, email disabled) (Abusing <a href="https://en.wikipedia.org/wiki/Wikipedia:Sockpuppetry" title="Wikipedia:Sockpuppetry">multiple accounts</a>)</span>
</p></blockquote>
<p>All of the details of the request and the statements made there — which arbitrators voted to decline as pointless soon after the revelations and the self-block — can be seen at <a href="https://en.wikipedia.org/wiki/Special:PermanentLink/1183169230" title="Special:PermanentLink/1183169230">its last revision link</a>.
</p>
<h3><span id="Aftermath" data-mw-thread-id="h-Aftermath-signpost-article-title"><span data-mw-comment-start="" id="h-Aftermath-signpost-article-title"></span>Aftermath<span data-mw-comment-end="h-Aftermath-signpost-article-title"></span></span></h3>
<p>Nobody is quite sure what to make of this. How did they get away with this for so long? How did they conceal it this well? How did nobody notice? What was the point of spending years as a productive administrator, making tens of thousands of edits and logging thousands of actions, to implode the whole thing over a pointless argument on an RfA talk page?
</p><p><i>The Signpost</i>'s sources have confirmed that the particular <a href="https://en.wikipedia.org/wiki/Wikipedia:BADSITES" title="Wikipedia:BADSITES">BADSITE</a> mentioned in Lourdes' final message has indeed discussed this issue, and that both Beeblebrox and the disgraced LTA have posted more about the events, but the <a rel="nofollow" href="https://wikipediocracy.com/forum/viewtopic.php?f=38&amp;t=13187">thread over there</a> doesn't make a whole lot of sense either.
</p><p>In short: what?
</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Firefox Development Is Moving from Mercurial to Git (179 pts)]]></title>
            <link>https://groups.google.com/a/mozilla.org/g/firefox-dev/c/QnfydsDj48o/m/8WadV0_dBQAJ</link>
            <guid>38160161</guid>
            <pubDate>Mon, 06 Nov 2023 08:50:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://groups.google.com/a/mozilla.org/g/firefox-dev/c/QnfydsDj48o/m/8WadV0_dBQAJ">https://groups.google.com/a/mozilla.org/g/firefox-dev/c/QnfydsDj48o/m/8WadV0_dBQAJ</a>, See on <a href="https://news.ycombinator.com/item?id=38160161">Hacker News</a></p>
<div id="readability-page-1" class="page"><div jsname="yjbGtf" aria-labelledby="i4" role="region"><p>FIREFOX DEVELOPMENT IS MOVING FROM MERCURIAL TO GIT</p><p>For a long time Firefox Desktop development has supported both Mercurial and</p><p>Git users. This dual SCM requirement places a significant burden on teams which</p><p>are already stretched thin in parts. We have made the decision to move Firefox</p><p>development to Git.</p><p>- We will continue to use Bugzilla, moz-phab, Phabricator, and Lando</p><p>- Although we'll be hosting the repository on GitHub, our contribution workflow</p><p>&nbsp; will remain unchanged and we will not be accepting Pull Requests at this time</p><p>- We're still working through the planning stages, but we're expecting at least</p><p>&nbsp; six months before the migration begins</p><p>APPROACH</p><p>In order to deliver gains into the hands of our engineers as early as possible,</p><p>the work will be split into two components: developer-facing first, followed by</p><p>piecemeal migration of backend infrastructure.</p><p>Phase One - Developer Facing</p><p>&nbsp; &nbsp; We'll switch the primary repository from Mercurial to Git, at the same time</p><p>&nbsp; &nbsp; removing support for Mercurial on developers' workstations. &nbsp;At this point</p><p>&nbsp; &nbsp; you'll need to use Git locally, and will continue to use moz-phab to submit</p><p>&nbsp; &nbsp; patches for review.</p><p>&nbsp; &nbsp; All changes will land on the Git repository, which will be unidirectionally</p><p>&nbsp; &nbsp; synchronised into our existing Mercurial infrastructure.</p><p>Phase Two - Infrastructure</p><p>&nbsp; &nbsp; Respective teams will work on migrating infrastructure that sits atop</p><p>&nbsp; &nbsp; Mercurial to Git. &nbsp;This will happen in an incremental manner rather than</p><p>&nbsp; &nbsp; all at once.</p><p>&nbsp; &nbsp; By the end of this phase we will have completely removed support of</p><p>&nbsp; &nbsp; Mercurial from our infrastructure.</p><div dir="auto"><p>glob ∙&nbsp;moz://a</p><p>Senior Engineering Manager ∙ Engineering Workflow &amp; Release Management</p></div>
<br></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Kai Fu Lee's New AI Company: Yi-Open Source (102 pts)]]></title>
            <link>https://www.01.ai/en</link>
            <guid>38158554</guid>
            <pubDate>Mon, 06 Nov 2023 03:37:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.01.ai/en">https://www.01.ai/en</a>, See on <a href="https://news.ycombinator.com/item?id=38158554">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><ul><li id="section-83b3ab1e-21fc-48ac-9eec-95b73f4e7c20"><div id="64a71cca-12df-4861-84cf-0f9f73e11c90" position="0,0" columnssize="1" elementssize="1" data-react-style="{&quot;backgroundColor&quot;:&quot;#003525&quot;}"><p><img src="https://user-assets.sxlcdn.com/images/987821/FkCwWkFUb_d93PjUIfYIwWki4dD0.gif?imageMogr2/strip/auto-orient/thumbnail/1200x9000%3E/quality/90!/format/gif" alt="broken image" title="" data-description="" data-image-link="javascript:void(0);"></p></div></li><li id="section-3bb9892a-9007-454c-ac41-7492aa7bbadf"><div data-react-style="{&quot;backgroundColor&quot;:&quot;#000000&quot;}"><div id="155e1491-8740-499d-868c-ff8352a4b8c2" position="1,0" columnssize="1" elementssize="3"><p><img src="https://user-assets.sxlcdn.com/images/987821/Fkj1pEMm88-sUC0W7w8JhfoHoJ-Q.png?imageMogr2/strip/auto-orient/thumbnail/1200x9000%3E/format/png" alt="broken image" title="" data-description="" data-image-link="javascript:void(0);"></p></div><div id="d03ea64d-9bff-4831-be3e-43275ecd859d" position="1,2" columnssize="1" elementssize="3"><p><img src="https://user-assets.sxlcdn.com/images/987821/FhXBhNGg0Cls51eqMfKPHIo-yvYJ.png?imageMogr2/strip/auto-orient/thumbnail/1200x9000%3E/format/png" alt="broken image" title="" data-description="" data-image-link="javascript:void(0);"></p></div><div id="32b27323-6c5b-4d24-9ba8-63d914f6526b" position="1,3"><div id="21470431-72ed-41e0-9494-8761232197af" position="1,3,0" columnssize="3" elementssize="1"><p>Yi-34B pretrained model delivers excellent performance in multiple evaluations, including MMLU and a set of comprehensive LLM capability measurements.</p></div><div id="73acbe89-b622-4417-8ace-7cb211a58229" position="1,3,1" columnssize="3" elementssize="1"><p>Yi-34B outperforms much larger models like LLaMA2-70B and Falcon-180B. Also Yi-34B’s size can support applications cost-effectively, thereby enabling developers to build fantastic projects!</p></div><div id="0745e680-4bb6-43fd-85b7-644d528d23e6" position="1,3,2" columnssize="3" elementssize="1"><p>All versions of the Yi series models are fully open for academic research. Developers can apply for free commercial use.</p><p><span><span><span>&gt; </span><a target="_blank" href="https://www.lingyiwanwu.com/yi-license"><span>Commercial License</span></a></span></span></p></div></div><div id="4a0fe476-4420-488d-b41d-bf199157cb37" position="1,4"><div id="2858b09d-f4be-4437-803d-c9ba9daf4d61" position="1,4,0,1" columnssize="1" elementssize="5"><p><img src="https://user-assets.sxlcdn.com/images/987821/Fu2kBMBQrPElij2FdMSun3Ui-Gb9.png?imageMogr2/strip/auto-orient/thumbnail/1200x9000%3E/format/png" alt="broken image" title="" data-description="" data-image-link="javascript:void(0);"></p></div><div id="c98537cd-fa81-4769-9b5e-9bf4f2127cb0" position="1,4,0,3" columnssize="1" elementssize="5"><p><img src="https://user-assets.sxlcdn.com/images/987821/FqwjU_vNVvo6Uo9MarqN7tiv6Y1i.png?imageMogr2/strip/auto-orient/thumbnail/1200x9000%3E/quality/90!/format/png" alt="broken image" title="" data-description="" data-image-link="javascript:void(0);"></p></div><div id="67da4755-1023-4dfe-9373-ac70b3e9c8df" position="1,4,0,4" columnssize="1" elementssize="5"><p>Global open-source LLM English/Chinese benchmarks (November 5, 2023)</p></div></div></div></li><li id="section-c5db0e7f-4cdb-42af-be9d-725b3b937e33"><div data-bg="//user-assets.sxlcdn.com/images/987821/FlQXgR2MjQD17tsL8yeyjAGx9cLE.png?imageMogr2/strip/auto-orient/thumbnail/2000x1500>/quality/90!/format/png" data-react-style="{&quot;backgroundRepeat&quot;:&quot;no-repeat&quot;,&quot;backgroundSize&quot;:&quot;cover&quot;,&quot;backgroundColor&quot;:&quot;#000000&quot;,&quot;backgroundPosition&quot;:&quot;50% 50%&quot;}"><div id="a55919fc-c601-404c-b4c2-982420285556" position="2,0" columnssize="2" elementssize="1"><p><h2><span>About 01.AI</span></h2></p></div><div id="d8c7eb61-2eaa-4c3a-8aab-29d17f9d6d2c" position="2,1" columnssize="2" elementssize="1"><h3><div><p><span>01.AI vision: AI will effectively enhance human productivity, hence creating significant economic and societal values, realizing 01.AI’s aspiration of “Human + AI” that technology empowers and amplifies our humankind. We hope to be able to contribute to this new AI 2.0 ecosystem.</span></p></div></h3></div><div id="c72928b5-fcf1-459f-8f89-24a39aab72a3" position="2,2"><div id="c0615baa-46f8-4e99-aafe-bf0bc9e2c783" position="2,2,2,0" columnssize="3" elementssize="4"><p><span>The team behind 01.AI firmly believes that the new AI 2.0 driven by foundation model breakthrough is revolutionizing technology, platforms, and applications at all levels.</span></p></div><div id="24988c38-fff9-4551-9f77-346511dc5816" position="2,2,2,1" columnssize="3" elementssize="4"><p><span>We predict that AI 2.0 will create a platform opportunity ten times larger than the mobile internet, rewriting all software and user interfaces.</span></p></div><div id="9f091b73-8989-4e33-8a76-4b71d03de383" position="2,2,2,2" columnssize="3" elementssize="4"><p><span>This trend will give rise to the next wave of AI-first applications and AI-empowered business models, fostering AI 2.0 innovations over time.</span></p><p><span><span><span>&gt; </span><a target="_blank" href="https://www.lingyiwanwu.com/yi-license"><span>Commercial License</span></a></span></span></p><p><span>&gt; </span><a target="_blank" href="https://www.lingyiwanwu.com/contact"><span>Contact Us</span></a></p></div></div></div></li><li id="section-82161611-ab4b-481d-b857-efbebe3a317b"></li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Racket branch of Chez Scheme merging with mainline Chez Scheme (179 pts)]]></title>
            <link>https://groups.google.com/g/chez-scheme/c/D7g6mIcYLNU</link>
            <guid>38158529</guid>
            <pubDate>Mon, 06 Nov 2023 03:35:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://groups.google.com/g/chez-scheme/c/D7g6mIcYLNU">https://groups.google.com/g/chez-scheme/c/D7g6mIcYLNU</a>, See on <a href="https://news.ycombinator.com/item?id=38158529">Hacker News</a></p>
<div id="readability-page-1" class="page"><div jsname="yjbGtf" aria-labelledby="i4" role="region"><p>Hi everyone,</p><p>I have been working with long-term Chez Scheme maintainers to bring the <a href="https://github.com/cisco/ChezScheme" target="_blank" rel="nofollow" data-saferedirecturl="https://www.google.com/url?hl=en-US&amp;q=https://github.com/cisco/ChezScheme&amp;source=gmail&amp;ust=1699347605468000&amp;usg=AOvVaw2MWin4YJopVRJGPo5-pfZj">https://github.com/cisco/ChezScheme</a> and <a href="https://github.com/racket/ChezScheme" target="_blank" rel="nofollow" data-saferedirecturl="https://www.google.com/url?hl=en-US&amp;q=https://github.com/racket/ChezScheme&amp;source=gmail&amp;ust=1699347605468000&amp;usg=AOvVaw0wkB91Z0PV9Pz1der5_xhq">https://github.com/racket/ChezScheme</a> branches together. We are just about ready to merge! Merging will change the code in cisco/ChezScheme to v9.9.9-pre-release.20, which is a step toward a v10.0 release.<br></p><p>After the merge, the content of the main branch at cisco/ChezScheme will be almost the same as the current content of the racket/ChezScheme branch. In other words, we're merging all of the racket/ChezScheme functionality to cisco/ChezScheme. We've worked to ensure that the changes in racket/ChezScheme are not Racket-specific and that the changes preserve Chez Scheme's coherence, character, and quality.</p><p>By "content" of the branch being the same as racket/ChezScheme, I mean the content of a checkout using the most recent commit of cisco/ChezScheme after the merge, but the history from both branches will be preserved. Tip: Clone the cisco/ChezScheme repo with `git clone 
--filter=blob:none` to avoid eagerly downloading large boot files for 
older versions. (That's a useful approach already, even before the merge,
 and this tip will appear at the top of the new "README".)<br></p><p>The only substantial difference from the current racket/ChezScheme content is that the merged cisco/ChezScheme will not refer to a Git submodule for pb (portable bytecode) boot files. Instead, pb boot files will be part of the cisco/ChezScheme repo, continuing the way some platform-specific boot files have historically been checked into the cisco/ChezScheme.<br></p><p>Matthew</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[milliForth (157 pts)]]></title>
            <link>https://github.com/fuzzballcat/milliForth</link>
            <guid>38158309</guid>
            <pubDate>Mon, 06 Nov 2023 03:03:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/fuzzballcat/milliForth">https://github.com/fuzzballcat/milliForth</a>, See on <a href="https://news.ycombinator.com/item?id=38158309">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" id="user-content-milliforth" dir="auto"><a href="#milliforth">milliForth</a></h2>
<p dir="auto">A FORTH in 422 bytes — the smallest real programming language ever, as of yet.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/57006511/280563430-ef3d48cf-1581-4574-8625-8d97b00acaca.gif"><img src="https://user-images.githubusercontent.com/57006511/280563430-ef3d48cf-1581-4574-8625-8d97b00acaca.gif" alt="milliFORTH_justhelloworld" data-animated-image=""></a>
<em>The code in the above gif, that of <code>hello_world.FORTH</code>, is a modified version of the hello world program used by sectorFORTH (see below)</em></p>
<h2 tabindex="-1" id="user-content-bytes" dir="auto"><a href="#bytes">bytes?</a></h2>
<p dir="auto">Yes, bytes.  This is a FORTH so small it fits in a 512-byte boot sector.  This isn't new — sectorFORTH<sup><a href="#user-content-fn-1-ca0e2d025690a38fea87f7733d8b4297" id="user-content-fnref-1-ca0e2d025690a38fea87f7733d8b4297" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup> successfully fit a FORTH within the boot sector.  However, milliFORTH appears to be <em>the smallest</em> programming language implementation ever, beating out sectorLISP<sup><a href="#user-content-fn-2-ca0e2d025690a38fea87f7733d8b4297" id="user-content-fnref-2-ca0e2d025690a38fea87f7733d8b4297" data-footnote-ref="" aria-describedby="footnote-label">2</a></sup>, a mind-blowing 436 byte implementation of LISP, by 14 bytes.</p>
<h2 tabindex="-1" id="user-content-language" dir="auto"><a href="#language">Language</a></h2>
<p dir="auto">sectorFORTH<sup><a href="#user-content-fn-1-ca0e2d025690a38fea87f7733d8b4297" id="user-content-fnref-1-2-ca0e2d025690a38fea87f7733d8b4297" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup> was an extensive guide throughout the process of implementing milliFORTH, and milliFORTH's design actually converged on sectorFORTH unintentionally in a few areas.  That said, the language implemented is intentionally very similar, being the 'minimal FORTH'.</p>
<p dir="auto">FORTH itself will not be explained here (prior understanding assumed).  Being so small, milliFORTH contains just a handful of words:</p>
<table>
<thead>
<tr>
<th>Word</th>
<th>Signature</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@</code></td>
<td><code>( addr -- value )</code></td>
<td>Get a value at an address</td>
</tr>
<tr>
<td><code>!</code></td>
<td><code>( value addr -- )</code></td>
<td>Store a value at an address</td>
</tr>
<tr>
<td><code>sp@</code></td>
<td><code>( -- sp )</code></td>
<td>Get pointer to top of the data stack</td>
</tr>
<tr>
<td><code>rp@</code></td>
<td><code>( -- rp )</code></td>
<td>Get pointer to top of the return stack</td>
</tr>
<tr>
<td><code>0=</code></td>
<td><code>( value -- flag )</code></td>
<td>Check if a value equals zero (-1 = TRUE, 0 = FALSE)</td>
</tr>
<tr>
<td><code>+</code></td>
<td><code>( a b -- a+b )</code></td>
<td>Sum two numbers</td>
</tr>
<tr>
<td><code>nand</code></td>
<td><code>( a b -- aNANDb )</code></td>
<td>NAND two numbers</td>
</tr>
<tr>
<td><code>exit</code></td>
<td><code>( r:addr -- )</code></td>
<td>Pop from the return stack, resume execution at the popped address</td>
</tr>
<tr>
<td><code>key</code></td>
<td><code>( -- key )</code></td>
<td>Read a keystroke</td>
</tr>
<tr>
<td><code>emit</code></td>
<td><code>( char -- )</code></td>
<td>Print out an ASCII character</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>( -- state )</code></td>
<td>The state of the interpreter (0 = compile words, 1 = execute words)</td>
</tr>
<tr>
<td><code>&gt;in</code></td>
<td><code>( -- &gt;in )</code></td>
<td>The current offset into the terminal input buffer</td>
</tr>
<tr>
<td><code>here</code></td>
<td><code>( -- here )</code></td>
<td>The pointer to the next available space in the dictionary</td>
</tr>
<tr>
<td><code>latest</code></td>
<td><code>( -- latest )</code></td>
<td>The pointer to the most recent dictionary space</td>
</tr>
</tbody>
</table>
<p dir="auto">milliFORTH is effectively the same FORTH as implemented by sectorFORTH, with a few modifications:</p>
<ul dir="auto">
<li>Words don't get hidden while you are defining them.  This doesn't really hinder your actual ability to write programs, but rather makes it possible to hang the interpreter if you do something wrong in this respect.</li>
<li>There's no <code>tib</code> (terminal input buffer) word, because <code>tib</code> always starts at <code>0x0000</code>, so you can just use <code>&gt;in</code> and don't need to add anything to it.</li>
<li>In the small (production) version, the delete key doesn't work.  I think this is fair since sectorLISP doesn't handle backspace either; even if you add it back, milliFORTH is still smaller by a few bytes.</li>
<li>Error handling is even sparser.  Successful input results in nothing (no familiar <code>ok.</code>).  Erroneous input prints an extra blank line between the previous input and the next prompt.</li>
</ul>
<h2 tabindex="-1" id="user-content-use" dir="auto"><a href="#use">Use</a></h2>
<p dir="auto">sector.bin is an assembled binary of sector.asm.  You can run it using <code>qemu-system-i386 -fda sector.bin</code> (as found in the makefile), or by using any emulator of your choice.</p>
<p dir="auto">Alternatively, <code>make</code> will reassemble sector.asm, then run the above qemu emulator.</p>
<p dir="auto"><strong>Included in this repo is a pyautogui script</strong> which can be run to automatically type in the <code>hello_world.FORTH</code> file into your qemu emulator.  A very useful tool.  It is self-explaining, but usage involves simply starting the QEMU emulator, running the python script, and putting your cursor into the QEMU emulator again.</p>
<p dir="auto"><code>make sizecheck</code> is a utility which assembles sector.asm and then lists files including size.  This is useful for checking binary size.  Note that it will always return 512, as bootloaders must have a fixed size of 512 bytes; to view the true size, the following two lines must be commented at the end of sector.asm:</p>
<div data-snippet-clipboard-copy-content="; times 510-($-$$) db 0
; db 0x55, 0xaa"><pre><code>; times 510-($-$$) db 0
; db 0x55, 0xaa
</code></pre></div>
<h2 tabindex="-1" id="user-content-references" dir="auto"><a href="#references">References</a></h2>
<section data-footnotes="">
<ol dir="auto">
<li id="user-content-fn-1-ca0e2d025690a38fea87f7733d8b4297">
<p dir="auto">The immensely inspirational sectorForth, to which much credit is due: <a href="https://github.com/cesarblum/sectorforth/">https://github.com/cesarblum/sectorforth/</a>. <a href="#user-content-fnref-1-ca0e2d025690a38fea87f7733d8b4297" data-footnote-backref="" aria-label="Back to reference 1">↩</a> <a href="#user-content-fnref-1-2-ca0e2d025690a38fea87f7733d8b4297" data-footnote-backref="" aria-label="Back to reference 1-2">↩<sup>2</sup></a></p>
</li>
<li id="user-content-fn-2-ca0e2d025690a38fea87f7733d8b4297">
<p dir="auto">Mind-blowing sectorLISP: <a href="https://justine.lol/sectorlisp2/">https://justine.lol/sectorlisp2/</a>, <a href="https://github.com/jart/sectorlisp">https://github.com/jart/sectorlisp</a>. <a href="#user-content-fnref-2-ca0e2d025690a38fea87f7733d8b4297" data-footnote-backref="" aria-label="Back to reference 2">↩</a></p>
</li>
</ol>
</section>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: LLaVaVision: An AI "Be My Eyes"-like web app with a llama.cpp backend (107 pts)]]></title>
            <link>https://github.com/lxe/llavavision</link>
            <guid>38157524</guid>
            <pubDate>Mon, 06 Nov 2023 00:55:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/lxe/llavavision">https://github.com/lxe/llavavision</a>, See on <a href="https://news.ycombinator.com/item?id=38157524">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" id="user-content-llavavision" dir="auto"><a href="#llavavision">LLaVaVision</a></h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/lxe/llavavision/blob/main/screenshot.gif"><img src="https://github.com/lxe/llavavision/raw/main/screenshot.gif" alt="Screenshot" data-animated-image=""></a></p>
<p dir="auto">A simple "Be My Eyes" web app with a llama.cpp/llava backend created in about an hour using ChatGPT, Copilot, and some minor help from me, <a href="https://twitter.com/lxe" rel="nofollow">@lxe</a>. It describes what it sees using <a href="https://huggingface.co/SkunkworksAI/BakLLaVA-1" rel="nofollow">SkunkworksAI BakLLaVA-1</a> model via <a href="https://github.com/ggerganov/llama.cpp">llama.cpp</a> and narrates the text using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API" rel="nofollow">Web Speech API</a>.</p>
<p dir="auto">Inspired by <a href="https://github.com/Fuzzy-Search/realtime-bakllava">Fuzzy-Search/realtime-bakllava</a>.</p>
<h3 tabindex="-1" id="user-content-getting-started" dir="auto"><a href="#getting-started">Getting Started</a></h3>
<p dir="auto">You will need a machine with about ~5 GB of RAM/VRAM for the q4_k version.</p>
<h4 tabindex="-1" id="user-content-set-up-the-llamacpp-server" dir="auto"><a href="#set-up-the-llamacpp-server">Set up the llama.cpp server</a></h4>
<p dir="auto">(Optional) Install the CUDA toolkit:</p>
<div data-snippet-clipboard-copy-content="sudo apt install nvidia-cuda-toolkit"><pre><code>sudo apt install nvidia-cuda-toolkit
</code></pre></div>
<p dir="auto">Build llama.cpp (build instructions for various platforms at <a href="https://github.com/ggerganov/llama.cpp#build">llama.cpp build</a>):</p>
<div data-snippet-clipboard-copy-content="git clone https://github.com/ggerganov/llama.cpp
cd llama.cpp
mkdir build
cd build
cmake .. -DLLAMA_CUBLAS=ON # Remove the flag if CUDA is unavailable
cmake --build . --config Release"><pre><code>git clone https://github.com/ggerganov/llama.cpp
cd llama.cpp
mkdir build
cd build
cmake .. -DLLAMA_CUBLAS=ON # Remove the flag if CUDA is unavailable
cmake --build . --config Release
</code></pre></div>
<p dir="auto">Download the models from <a href="https://huggingface.co/mys/ggml_bakllava-1/tree/main" rel="nofollow">ggml_bakllava-1</a>:</p>
<div data-snippet-clipboard-copy-content="wget https://huggingface.co/mys/ggml_bakllava-1/resolve/main/mmproj-model-f16.gguf
wget https://huggingface.co/mys/ggml_bakllava-1/resolve/main/ggml-model-q4_k.gguf # Choose another quant if preferred"><pre><code>wget https://huggingface.co/mys/ggml_bakllava-1/resolve/main/mmproj-model-f16.gguf
wget https://huggingface.co/mys/ggml_bakllava-1/resolve/main/ggml-model-q4_k.gguf # Choose another quant if preferred
</code></pre></div>
<p dir="auto">Start the server (server options detailed <a href="https://github.com/ggerganov/llama.cpp/blob/master/examples/server/README.md">here</a>):</p>
<div data-snippet-clipboard-copy-content="./bin/server -m ggml-model-q4_k.gguf --mmproj mmproj-model-f16.gguf -ngl 35 -ts 100,0 # For GPU-only, single GPU
# ./bin/server -m ggml-model-q4_k.gguf --mmproj mmproj-model-f16.gguf # For CPU"><pre><code>./bin/server -m ggml-model-q4_k.gguf --mmproj mmproj-model-f16.gguf -ngl 35 -ts 100,0 # For GPU-only, single GPU
# ./bin/server -m ggml-model-q4_k.gguf --mmproj mmproj-model-f16.gguf # For CPU
</code></pre></div>
<h4 tabindex="-1" id="user-content-launch-llavavision" dir="auto"><a href="#launch-llavavision">Launch LLaVaVision</a></h4>
<p dir="auto">Clone and set up the environment:</p>
<div data-snippet-clipboard-copy-content="git clone https://github.com/lxe/llavavision
cd llavavision
python3 -m venv venv 
. ./venv/bin/activate
pip install -r requirements.txt"><pre><code>git clone https://github.com/lxe/llavavision
cd llavavision
python3 -m venv venv 
. ./venv/bin/activate
pip install -r requirements.txt
</code></pre></div>
<p dir="auto">Create dummy certificates and start the server. HTTPS is required for mobile video functionality:</p>
<div data-snippet-clipboard-copy-content="openssl req -newkey rsa:4096 -x509 -sha256 -days 365 -nodes -out cert.pem -keyout key.pem
flask run --host=0.0.0.0 --key key.pem --cert cert.pem --debug"><pre><code>openssl req -newkey rsa:4096 -x509 -sha256 -days 365 -nodes -out cert.pem -keyout key.pem
flask run --host=0.0.0.0 --key key.pem --cert cert.pem --debug
</code></pre></div>
<p dir="auto">Access <a href="https://your-machine-ip:5000/" rel="nofollow">https://your-machine-ip:5000</a> from your mobile device. Optionally, start a local tunnel with ngrok or localtunnel:</p>
<div data-snippet-clipboard-copy-content="npx localtunnel --local-https --allow-invalid-cert --port 5000"><pre><code>npx localtunnel --local-https --allow-invalid-cert --port 5000
</code></pre></div>
<h3 tabindex="-1" id="user-content-acknowledgements-and-inspiration" dir="auto"><a href="#acknowledgements-and-inspiration">Acknowledgements and Inspiration</a></h3>
<ul dir="auto">
<li><a href="https://github.com/Fuzzy-Search/realtime-bakllava">Fuzzy-Search/realtime-bakllava</a></li>
<li><a href="https://github.com/ggerganov/llama.cpp/issues/3332" data-hovercard-type="issue" data-hovercard-url="/ggerganov/llama.cpp/issues/3332/hovercard">Multimodal LLama.cpp</a></li>
<li><a href="https://llava-vl.github.io/" rel="nofollow">llava-vl.github.io</a></li>
<li><a href="https://huggingface.co/SkunkworksAI/BakLLaVA-1" rel="nofollow">SkunkworksAI/BakLLaVA-1</a></li>
</ul>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Nrsc5: Receive NRSC-5 digital radio stations using an RTL-SDR dongle (165 pts)]]></title>
            <link>https://github.com/theori-io/nrsc5</link>
            <guid>38157466</guid>
            <pubDate>Mon, 06 Nov 2023 00:47:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/theori-io/nrsc5">https://github.com/theori-io/nrsc5</a>, See on <a href="https://news.ycombinator.com/item?id=38157466">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" id="user-content-nrsc5" dir="auto"><a href="#nrsc5">nrsc5</a></h2>
<p dir="auto">This program receives NRSC-5 digital radio stations using an RTL-SDR dongle. It offers a command-line interface as well as an API upon which other applications can be built. Before using it, you'll first need to compile the program using the build instructions below.</p>
<h2 tabindex="-1" id="user-content-building-on-ubuntu-debian-or-raspbian" dir="auto"><a href="#building-on-ubuntu-debian-or-raspbian">Building on Ubuntu, Debian or Raspbian</a></h2>
<div data-snippet-clipboard-copy-content="$ sudo apt install git build-essential cmake autoconf libtool libao-dev libfftw3-dev librtlsdr-dev
$ git clone https://github.com/theori-io/nrsc5.git
$ cd nrsc5
$ mkdir build
$ cd build
$ cmake [options] ..
$ make
$ sudo make install
$ sudo ldconfig"><pre><code>$ sudo apt install git build-essential cmake autoconf libtool libao-dev libfftw3-dev librtlsdr-dev
$ git clone https://github.com/theori-io/nrsc5.git
$ cd nrsc5
$ mkdir build
$ cd build
$ cmake [options] ..
$ make
$ sudo make install
$ sudo ldconfig
</code></pre></div>
<p dir="auto">Available build options:</p>
<div data-snippet-clipboard-copy-content="-DUSE_NEON=ON            Use NEON instructions. [ARM, default=OFF]
-DUSE_SSE=ON             Use SSSE3 instructions. [x86, default=OFF]
-DUSE_FAAD2=ON           AAC decoding with FAAD2. [default=ON]
-DLIBRARY_DEBUG_LEVEL=1  Debug logging level for libnrsc5. [default=5]
-DBUILD_DOC=ON           Generate html API documentation [default=OFF]"><pre><code>-DUSE_NEON=ON            Use NEON instructions. [ARM, default=OFF]
-DUSE_SSE=ON             Use SSSE3 instructions. [x86, default=OFF]
-DUSE_FAAD2=ON           AAC decoding with FAAD2. [default=ON]
-DLIBRARY_DEBUG_LEVEL=1  Debug logging level for libnrsc5. [default=5]
-DBUILD_DOC=ON           Generate html API documentation [default=OFF]
</code></pre></div>
<p dir="auto">You can test the program using the included sample capture:</p>
<div data-snippet-clipboard-copy-content="$ xz -d < ../support/sample.xz | src/nrsc5 -r - 0"><pre><code>$ xz -d &lt; ../support/sample.xz | src/nrsc5 -r - 0
</code></pre></div>
<h2 tabindex="-1" id="user-content-building-on-fedora" dir="auto"><a href="#building-on-fedora">Building on Fedora</a></h2>
<p dir="auto">Follow the Ubuntu instructions above, but replace the first command with the following:</p>
<div data-snippet-clipboard-copy-content="$ sudo dnf install make patch cmake autoconf libtool libao-devel fftw-devel rtl-sdr-devel libusb-devel"><pre><code>$ sudo dnf install make patch cmake autoconf libtool libao-devel fftw-devel rtl-sdr-devel libusb-devel
</code></pre></div>
<h2 tabindex="-1" id="user-content-building-on-macos-using-homebrew" dir="auto"><a href="#building-on-macos-using-homebrew">Building on macOS using </a><a href="https://brew.sh/" rel="nofollow">Homebrew</a></h2>
<div data-snippet-clipboard-copy-content="$ curl https://raw.githubusercontent.com/theori-io/nrsc5/master/nrsc5.rb > /tmp/nrsc5.rb
$ brew install --HEAD -s /tmp/nrsc5.rb"><pre><code>$ curl https://raw.githubusercontent.com/theori-io/nrsc5/master/nrsc5.rb &gt; /tmp/nrsc5.rb
$ brew install --HEAD -s /tmp/nrsc5.rb
</code></pre></div>
<h2 tabindex="-1" id="user-content-building-for-windows" dir="auto"><a href="#building-for-windows">Building for Windows</a></h2>
<p dir="auto">To build the program for Windows, you can either use <a href="http://www.msys2.org/" rel="nofollow">MSYS2</a> on Windows, or else use a cross-compiler on an Ubuntu, Debian or macOS machine. Scripts are provided to help with both cases.</p>
<h3 tabindex="-1" id="user-content-building-on-windows-with-msys2" dir="auto"><a href="#building-on-windows-with-msys2">Building on Windows with MSYS2</a></h3>
<p dir="auto">Install <a href="http://www.msys2.org/" rel="nofollow">MSYS2</a>. Open a terminal using the "MSYS2 MinGW 32-bit" shortcut. (Or use the 64-bit shortcut if you prefer a 64-bit build.)</p>

<p dir="auto">If this is the first time running pacman, you will be told to close the terminal window. After doing so, reopen using the same shortcut as before.</p>
<div data-snippet-clipboard-copy-content="$ pacman -Su
$ pacman -S git
$ git clone https://github.com/theori-io/nrsc5.git
$ nrsc5/support/msys2-build"><pre><code>$ pacman -Su
$ pacman -S git
$ git clone https://github.com/theori-io/nrsc5.git
$ nrsc5/support/msys2-build
</code></pre></div>
<p dir="auto">You can test your installation using the included sample file:</p>
<div data-snippet-clipboard-copy-content="$ cd ~/nrsc5/support
$ xz -d sample.xz
$ nrsc5.exe -r sample 0"><pre><code>$ cd ~/nrsc5/support
$ xz -d sample.xz
$ nrsc5.exe -r sample 0
</code></pre></div>
<p dir="auto">If the sample file does not work, make sure you followed all of the instructions. If it still doesn't work, file an issue with the error message. Please put "[Windows]" in the title of the issue.</p>
<p dir="auto">Once everything is built, you can run nrsc5 independently of MSYS2. Copy the following files from your MSYS2/mingw32 directory (e.g. C:\msys64\mingw32\bin):</p>
<ul dir="auto">
<li>libnrsc5.dll</li>
<li>nrsc5.exe</li>
</ul>
<h3 tabindex="-1" id="user-content-cross-compiling-for-windows-from-ubuntu--debian" dir="auto"><a href="#cross-compiling-for-windows-from-ubuntu--debian">Cross-compiling for Windows from Ubuntu / Debian</a></h3>
<div data-snippet-clipboard-copy-content="$ sudo apt install mingw-w64
$ support/win-cross-compile 32"><pre><code>$ sudo apt install mingw-w64
$ support/win-cross-compile 32
</code></pre></div>
<p dir="auto">Replace <code>32</code> with <code>64</code> if you want a 64-bit build. Once the build is complete, copy <code>*.dll</code> and <code>nrsc5.exe</code> from the <code>build-win32/bin</code> (or <code>build-win64/bin</code>) folder to your Windows machine.</p>
<h3 tabindex="-1" id="user-content-cross-compiling-for-windows-from-macos" dir="auto"><a href="#cross-compiling-for-windows-from-macos">Cross-compiling for Windows from macOS</a></h3>
<div data-snippet-clipboard-copy-content="$ brew install mingw-w64
$ support/win-cross-compile 32"><pre><code>$ brew install mingw-w64
$ support/win-cross-compile 32
</code></pre></div>
<p dir="auto">Replace <code>32</code> with <code>64</code> if you want a 64-bit build. Once the build is complete, copy <code>*.dll</code> and <code>nrsc5.exe</code> from the <code>build-win32/bin</code> (or <code>build-win64/bin</code>) folder to your Windows machine.</p>
<h2 tabindex="-1" id="user-content-usage" dir="auto"><a href="#usage">Usage</a></h2>
<h3 tabindex="-1" id="user-content-command-line-options" dir="auto"><a href="#command-line-options">Command-line options:</a></h3>
<div data-snippet-clipboard-copy-content="frequency                       center frequency in MHz or Hz
                                  (do not provide frequency when reading from file)
program                         audio program to decode
                                  (0, 1, 2, or 3)
-g gain                         gain
                                  (example: 49.6)
                                  (automatic gain selection if not specified)
-d device-index                 rtl-sdr device
-p ppm-error                    rtl-sdr ppm error
-H rtltcp-host                  rtl_tcp host with optional port
                                  (example: localhost:1234)
-r iq-input                     read IQ samples from input file
-w iq-output                    write IQ samples to output file
-o audio-output                 write audio to output file
-t audio-type                   type of audio output (wav or raw)
                                  (default is wav. used in conjunction with -o)
-q                              disable log output
-l log-level                    set log level
                                  (1 = DEBUG, 2 = INFO, 3 = WARN)
-v                              print the version number and exit
--am                            receive AM signals
                                  (default is FM)
-T                              enable bias-T
-D direct-sampling-mode         enable direct sampling
                                  (1 = I-ADC input, 2 = Q-ADC input)
--dump-aas-files dir-name       dump AAS files
                                  (WARNING: insecure)
--dump-hdc file-name            dump HDC packets"><pre><code>frequency                       center frequency in MHz or Hz
                                  (do not provide frequency when reading from file)
program                         audio program to decode
                                  (0, 1, 2, or 3)
-g gain                         gain
                                  (example: 49.6)
                                  (automatic gain selection if not specified)
-d device-index                 rtl-sdr device
-p ppm-error                    rtl-sdr ppm error
-H rtltcp-host                  rtl_tcp host with optional port
                                  (example: localhost:1234)
-r iq-input                     read IQ samples from input file
-w iq-output                    write IQ samples to output file
-o audio-output                 write audio to output file
-t audio-type                   type of audio output (wav or raw)
                                  (default is wav. used in conjunction with -o)
-q                              disable log output
-l log-level                    set log level
                                  (1 = DEBUG, 2 = INFO, 3 = WARN)
-v                              print the version number and exit
--am                            receive AM signals
                                  (default is FM)
-T                              enable bias-T
-D direct-sampling-mode         enable direct sampling
                                  (1 = I-ADC input, 2 = Q-ADC input)
--dump-aas-files dir-name       dump AAS files
                                  (WARNING: insecure)
--dump-hdc file-name            dump HDC packets
</code></pre></div>
<h3 tabindex="-1" id="user-content-examples" dir="auto"><a href="#examples">Examples:</a></h3>
<p dir="auto">Tune to 107.1 MHz and play audio program 0:</p>

<p dir="auto">Tune to 107.1 MHz and play audio program 0. Manually set gain to 49.0 dB and save raw IQ samples to a file:</p>
<div data-snippet-clipboard-copy-content="$ nrsc5 -g 49.0 -w samples1071 107.1 0"><pre><code>$ nrsc5 -g 49.0 -w samples1071 107.1 0
</code></pre></div>
<p dir="auto">Read raw IQ samples from a file and play back audio program 0:</p>

<p dir="auto">Tune to 90.5 MHz and convert audio program 0 to WAV format for playback in an external media player:</p>
<div data-snippet-clipboard-copy-content="$ nrsc5 -o - 90.5 0 | mplayer -"><pre><code>$ nrsc5 -o - 90.5 0 | mplayer -
</code></pre></div>
<h3 tabindex="-1" id="user-content-keyboard-commands" dir="auto"><a href="#keyboard-commands">Keyboard commands:</a></h3>
<p dir="auto">To switch between audio programs at runtime, press <kbd>0</kbd> through <kbd>7</kbd>.</p>
<p dir="auto">To quit, press <kbd>Q</kbd>.</p>
<h3 tabindex="-1" id="user-content-rtl-sdr-drivers-on-windows" dir="auto"><a href="#rtl-sdr-drivers-on-windows">RTL-SDR drivers on Windows</a></h3>
<p dir="auto">If you get errors trying to access your RTL-SDR device, then you may need to use <a href="http://zadig.akeo.ie/" rel="nofollow">Zadig</a> to change the USB driver. Once you download and run Zadig, select your RTL-SDR device, ensure the driver is set to WinUSB, and then click "Replace Driver". If your device is not listed, enable "Options" -&gt; "List All Devices".</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Intel 80386, a Revolutionary CPU (247 pts)]]></title>
            <link>https://www.xtof.info/intel80386.html</link>
            <guid>38156486</guid>
            <pubDate>Sun, 05 Nov 2023 22:48:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.xtof.info/intel80386.html">https://www.xtof.info/intel80386.html</a>, See on <a href="https://news.ycombinator.com/item?id=38156486">Hacker News</a></p>
<div id="readability-page-1" class="page"><article itemscope="" itemtype="http://schema.org/BlogPosting">

    <div itemprop="articleBody">

      <div><p><img src="https://www.xtof.info/386_Intel-i386-logo.svg" alt="Logo of the 80386"></p></div>

<p>What is the most important CPU that Intel ever produced?</p>

<ul>
  <li>The Pentium? The chip was no slouch, and was also a brand that was heavily marketed by Intel, putting the firm on a map for many computer illiterate consumers.</li>
  <li>The Pentium Pro? It could rival the RISC chips of its time and was the core architecture of all Intel processors for around ten years.</li>
  <li>The 8088? It won the IBM PC market, paving the way for a bright future to its descendants.</li>
</ul>

<p>In my opinion, there is no doubt that the crown has to go to the <strong>Intel 80386</strong>. It is indeed the first 32-bit CPU in the x86 family. But it is way more than that.<br>
Despite being less “elegant” than its nemesis the Motorola 68030, and less powerful that the countless RISC chips that began to emerge around the same time period, I will dare to say that the 80386 is not only the most important CPU Intel ever produced, but also one of the most important CPU ever produced, period. It triggered a revolution.</p>

<p>Here is why.</p>

<h2 id="the-birth-of-the-80386">The birth of the 80386</h2>

<h3 id="designing-the-80386">Designing the 80386</h3>

<p>The i386 was not planned nor wanted by Intel.</p>

<p>In the late 70s, the most important project at Intel was the iAPX 432, a very ambitious CPU that was intended to be Intel's major design for the 1980s. The intention was to build a chip very well suited to the high level languages of the time, such as ADA, by offering niceties like object-oriented programming and storage allocation in hardware. A very ambitious design that would take years to mature, so Intel launched a stop-gap design in 1976: the 8086.</p>

<p>The rest is history: the 8086 family won the IBM PC contract, while the iAPX 432 was introduced very late, in 1981, and with very disappointing performances. In benchmarks, it performed at ¼ the speed of the much cheaper 80286 running at the same frequency.</p>

<p><img src="https://www.xtof.info/386_IBM5150.png" alt="IBM PC 5150">
<em>The IBM PC 5150. The very first PC equipped with a 4.77MHz Intel 8088</em></p>

<p>Needless to say, the 432 did not sell very well…</p>

<p>In 1982, Intel still did not recognize the importance of the PC platform and the binary compatibility with its software. The 80286 was another gap-filler CPU and had a slow start, so Intel was not very keen to pour more money into yet another x86.<br>
By that time, Intel engineers finally understood that the 432 line was doomed; they began to work on a brand new 32-bit RISC architecture code-named <strong>P7</strong>.</p>

<p>In the meantime <em>Bob Childs</em>, one of the architects of the 286, worked underground to lay out some ideas of what could be a 32-bit extension to the 286. After about six months, Intel knew that it would need another iteration in the x86 family before the P7 was ready, and the work on the 386 got the green light; albeit with a very small team and on a shoestring. The team conducted extensive research about the needs of the x86 customers and it quickly appeared that everyone hated the segmented memory scheme of the 8086, and that they regretted that the 80286 was a missed opportunity to get rid of it. UNIX was also becoming a thing in more affordable workstations, and the 386 team wanted to design a chip well suited for it.<br>
Thus, being able to address a “flat memory” space was considered top priority. In order to help keep compatibility with prior x86, the 386 would be still segmented. But as each segment could be 4GiB long, it became irrelevant. Paging and the ability to provide virtual memory was also decided around that time. The address unit was very carefully designed to play well with the pipeline so the address computation would not impact performance. This was very beneficial to the 386, as we will see later on.</p>

<p>Early-on, it was also decided that the 386 would be a full 32-bit CPU. In order to preserve the binary compatibility, the existing instruction set and registers were simply extended to 32-bits, instead of designing a very different instruction set behind a “mode header”. The price to pay was that the tiny number of registers, a drawback of the x86 CPUs, could not be increased.</p>

<p>For a time, Intel considered using the brand new bus that was designed for the P7. However, it was very different from the 286’s bus and would require an extensive redesign of the motherboards and the support chips. So it was abandoned in favor of a less ambitious 32-bit extension of the existing bus.</p>

<p>Around 1984, the PC market was blossoming and Intel finally understood the importance of the x86 line and the completion of the 80386 became top-priority. As stated by <em>Jim Slager</em>, from the original team:</p>

<blockquote>
  <p><em>[…] probably over a 12-month period we went from stepchild to king. It was amazing because the money started pouring in from the PC world and just changed everything</em></p>
</blockquote>

<p>In order not to steal sales from the 80386, P7 project, which will give birth to the <strong>i960</strong> in 1988, was retargeted to the embedded market.</p>

<p><img src="https://www.xtof.info/386_i960.png" alt="The Intel i960 CPU">
<em>The Intel i960</em></p>

<h3 id="sole-sourcing-the-386">Sole sourcing the 386</h3>

<p>The 386 was introduced in October of 1985.</p>

<p>Back in the time, it was common that chip designing companies such as Intel provided licenses for other companies to produce their CPUs in order to “second source” them. It was very important to win computer designs as the customer could be confident that in case of catastrophic yields from the “primary source”, they would not suffer a shortage of CPUs. Intel had a long partnership with AMD, dating back to the 8085. AMD and Intel cross-licensed their products, so each one could be the second source of the other one. Starting from 1983, IBM itself had a license to directly produce 808x and 80286 chips at the condition they still bought some CPUs from Intel and did not sell their production to third parties.</p>

<p>But with the 80386, everything was about to change.</p>

<p>In 1984, IBM introduced the model 5170 also known as the PC/AT. Its main plus-value compared to its predecessor was its 286 CPU. Intel understood that if it could impose itself as the sole source of the CPUs it could have full control of the most valuable part of the PCs.</p>

<p><img src="https://www.xtof.info/386_IBM5170.png" alt="The IBM 5170, the PC/AT">
<em>The IBM 5170 “PC/AT”</em></p>

<p>As IBM was not much interested in the future 386 and wanted to invest massively into the 286 instead, an opportunity arose. IBM preferred to produce as many CPUs for their own usage as possible, only keeping Intel as an insurance in case of production troubles. The agreement between the two companies was renegotiated to please IBM concerning the 286, but it would not be permitted to produce 386 chips.</p>

<p>In 1985, without the support from IBM which was entirely focused on the 286, the prospects for the 386 were not rosy. AMD was not very interested in producing it, so the second sourcing agreement with them was not extended to the 386.</p>

<p><strong>Thus, Intel became the sole source of 386 chips</strong>!</p>

<p>Around the same time, judges ruled in a NEC vs Intel case that the micro-code was copyrighted and that nobody could copy it without a specific license from Intel. If NEC was able to reverse the 8086’s microcode, the 386 would be nearly impossible due to its complexity.</p>

<p>From that point, Intel was in position to control the future of the PC market, along with Microsoft.</p>

<h3 id="the-clone-wars">The Clone Wars</h3>

<p>When IBM designed the PC, it was in a hurry. It could not wait too long before introducing its micro-computer line or it risked missing the market. Thus, instead of spending years designing every single component necessary to build it, it relied on off the shelf parts. On the plus side, the IBM PC could be commercialized very quickly. On the other hand, everyone could build a compatible machine by buying the same parts…</p>

<p>The most successful and ambitious of those clone companies was <em>Compaq</em>. At the time, it was the fastest company ever to reach $100 million in revenue. Still a dwarf compared to IBM, but a resourceful company nonetheless.</p>

<p>In September 1986, almost a full year after Intel launched the 80386, Compaq introduced the <em>Deskpro 386</em>. This first 386 computer was also the very first PC that did not follow the lead of IBM, which was trying to regain the control of the PC market with its 286 based PC/AT.</p>

<p>The impact was immense.</p>

<p><img src="https://www.xtof.info/386_CompaqDeskpro386.png" alt="Compaq Deskpro 386">
<em>The Compaq Deskpro 386, model 2570</em></p>

<p>According to <em>Bill Gates</em>:</p>

<blockquote>
  <p><em>A big milestone [in the history of the personal computer industry] was that the folks at IBM didn't trust the 386. They didn't think it would get done. So we encouraged Compaq to go ahead and just do a 386 machine. That was the first time people started to get a sense that it wasn't just IBM setting the standards, that this industry had a life of its own, and that companies like Compaq and Intel were in there doing new things that people should pay attention to.</em></p>
</blockquote>

<p>While the Compaq Deskpro 386 was initially very expensive, its sales were honorable. More than that, it meant that IBM was not in the lead seat anymore.</p>

<p>It will take IBM almost one year to propose their first 386 computer, the PS/2 model 80. The PS/2 line tried to regain control by introducing a new proprietary bus, which was really advanced for the time, almost on-par with the later PCI bus. But IBM was not in position to impose its views anymore, and the PS/2 line would never fulfill this mission.</p>

<p>The clones had won.</p>

<h2 id="the-386-against-competition">The 386 against competition</h2>

<p>In 1985, the main challengers to the Intel x86 line were the 680x0. Most people, even at Intel, considered the 68000 as a very superior chip to the 8086, and that the 80286 was a missed opportunity to evolve towards a clean architecture. Meanwhile, the 68020 was the natural 32-bit evolution of Motorola’s CPUs.<br>
And while the 68K was chosen for many designs, in micro-computing but also for workstation or electronic appliances, the x86 were not very successful outside the PC market.</p>

<p>With the 80386, Intel finally had a serious contender.</p>

<p>It could even target the lucrative workstation market, with its integrated MMU and its 4GiB flat address space. But times were changing, and the workstation market, Intel and Mororola were not alone anymore and many companies were introducing <strong>RISC</strong> designs to power their workstations.</p>

<p>RISC was indeed really compelling, promising to be faster and cheaper to produce. Whereas the 386 was a very “CISCy” design, relying on a fat microcode to handle the complex x86 instruction set, in particular the very peculiar 80286 addressing modes.</p>

<p>In the benchmarks, the 386 was an average performer.</p>

<table>
  <tbody><tr>
    <th><b>CPU</b></th>
    <th><b>Frequency (MHz)</b></th>
    <th><b>Introduction of the CPU</b></th>
    <th><b>MIPS (<u>claimed</u>)</b></th>
  </tr>
  <tr>
    <td>Intel 80286</td>
    <td>16</td>
    <td>1982</td>
    <td>2.5</td>
  </tr>
  <tr>
    <td>Intel 80386</td>
    <td>16</td>
    <td>1985</td>
    <td>4</td>
  </tr>
  <tr>
    <td>Intel 80386</td>
    <td>25</td>
    <td>1985</td>
    <td>6</td>
  </tr>
  <tr>
    <td>Intel i960CA*</td>
    <td>33</td>
    <td>1990</td>
    <td>66</td>
  </tr>
  <tr>
    <td>Motorola 68020</td>
    <td>16</td>
    <td>1984</td>
    <td>2</td>
  </tr>
  <tr>
    <td>Motorola 68030</td>
    <td>25</td>
    <td>1987</td>
    <td>6</td>
  </tr>
  <tr>
    <td>Motorola 88000</td>
    <td>16</td>
    <td>1988</td>
    <td>17</td>
  </tr>
  <tr>
    <td>Mips R2000</td>
    <td>16</td>
    <td>1986</td>
    <td>16</td>
  </tr>
  <tr>
    <td>Sun SPARC</td>
    <td>16.7</td>
    <td>1986</td>
    <td>10</td>
  </tr>
  <tr>
    <td>Acorn ARM2</td>
    <td>8</td>
    <td>1987</td>
    <td>4.5</td>
  </tr>
</tbody></table>

<p><sub><sup><em>Source: <a href="http://www.roylongbottom.org.uk/mips.htm">http://www.roylongbottom.org.uk/mips.htm</a>\
(*) The i960 is the CPU resulting from the “P7” project, which competed with the 386 to become the main 32-bit architecture at Intel</em></sup></sub></p>

<p>But at least it had the features required to compete on a level-ground.</p>

<p>Now fully committed to the 386, Intel introduced the 386SX in 1988. This cheaper version was internally identical to the original 386, renamed 386DX. But it only had a 16-bit external data bus and came in a cheap plastic package. As it could be plugged in cheap 16-bit motherboards, its main goal was to replace the similarly priced 286, for which there were still second source providers…</p>

<p>In the early 90s, the 386 park was large enough that more and more software providers could take advantage of its 32-bitness and modern feature set.</p>

<p>Because the most important thing was that every 386, even the low end ones, came with an <strong>integrated MMU</strong>.</p>

<h2 id="the-real-importance-of-the-386">The real importance of the 386</h2>

<h3 id="what-is-a-mmu">What is a MMU?</h3>

<p>MMU stands for Memory Management Unit.</p>

<p>Early programs could see the whole address space of the machine. It was manageable as it was a tiny space. Programs could also write anywhere, except on a small ROM area hosting the few functions provided by the (primitive) “system”. But as the address space became bigger and the underlying systems evolved, many programs could run simultaneously.</p>

<p>As the operating system could no longer be served from a slow and tiny ROM, how could it isolate its code from the programs? And how could it separate the programs from each other? Another problem was that 16-bit allows only addressing 64KWords of memory. How could larger addresses be efficiently computed?</p>

<p>One of the early answers was <strong>segmentation</strong>. One register will serve as the base address of the segment. When a program accesses an address, its 16-bit value is automatically added to the segment register to form the physical address, which is then emitted on the address bus. A limit can be set to define the <strong>segment</strong>’s size. If a program tries to access beyond it, a “page fault” is emitted. The programs are thus effectively isolated one from each-other. Segmentation was the design choice for the 8086 memory accesses.</p>

<p>A <strong>Memory Management Unit</strong>, a.k.a MMU, is a piece of hardware that will automatically handle memory translation from a “virtual address” to a physical address. We could say that the 8086 integrated hardware supporting the segmentation is a kind of primitive, and limited, MMU. The Motorola 68000 and 68010 could be paired with an external MMU, the MC68451, that also relied on segmentation schemes to translate addresses and isolate programs.</p>

<p><img src="https://www.xtof.info/386_MC68451.png" alt="The MC68451, an external MMU">
<em>The Motorola MC68451</em></p>

<p>The 80286 came with a feature-rich segmented MMU, allowing a much more complex memory management than the 8086 and able to access up to 16MiB of memory. OS2 1.x, intended to be the successor of MS-DOS on PCs, made good use of this MMU to provide a more modern experience.</p>

<p>But as PC programmers knew very well, segmented memory has limitations and can be a pain to manage. So other memory management schemes were devised.</p>

<p>A more modern way to design a MMU is around <strong>pagination</strong>. The MMU divides the virtual address space into <strong>pages</strong> of fixed sizes. When a program accesses a location inside a page, the MMU reads a <em>page descriptor</em> that contains all the information required to do the translation to the physical address. This page descriptor is usually also located in memory, so in order to stay fast enough, paged based MMU have a small cache, the TLB, containing the last descriptors that were accessed. In most cases, it is enough to keep excellent performances.</p>

<p><img src="https://www.xtof.info/386_MMU-Pagination.svg" alt="Illustration of the principle of a MMU">
<em>Very simple illustration of an integrated paged MMU</em></p>

<p>A MMU works in close relationship with the operating system which configures it and handles the page faults. The nature and feature set of a MMU is important to address the expectations of the OSes. While OS/2 1.x was designed around the segmented schemes supported by the 286, most other modern OSes ran better with pagination.<br>
Such was the case with many ports of UNIX, although it was not mandatory. 68000 based workstations, such as SUN’s, ditched the MC68451 and came with a custom paginated external MMU. In order to recapture this market, Motorola introduced its own external MMU with pagination support, the 68851, to accompany their new 68020.</p>

<p>And what about Intel? As it decided to make the 80386 a good match for modern UNIX, the same kind of MMU was also mandatory. The difference with the 68020 was that it came integrated into the 386. This changed everything!</p>

<h3 id="the-80386-mmu">The 80386 MMU</h3>

<p>The 386 had to solve two problems: be suitable for modern OSes such as UNIX, while staying compatible with the 8086, the 80286 and all their existing and future programs and OSes. That meant that the 386’s MMU would have to support the complex paginated schemes introduced by the 286 while offering pagination, required by modern OSes.</p>

<p>In order to overcome the challenge, the 386’s MMU is made of two units that are almost two distinct MMUs, one for the paginated mode and one for the segmented mode. These two units are cascaded: first the logical address goes through the segmentation unit that uses the segment descriptor to compute the linear address. If paging is not enabled, this address is the physical address and the paging unit doesn’t modify it. Otherwise, the address is still considered as a logical one, and the corresponding page descriptor is retrieved from the TLB or memory and the real physical address is generated.</p>

<p><img src="https://www.xtof.info/386_i386Architecture.png" alt="The internal architecture of the 80386 with an emphasis on the MMU">
<em>Internal architecture of the 386: the two almost independent MMU units are apparent</em></p>

<p>The segmentation unit cannot be deactivated, but the whole memory space can be represented with a 4GiB segment register beginning at the address 0, providing the equivalent of a flat memory space. The paging unit divides segments into 4KiB pages. A control block checks the privilege at the page level. Indeed, the 80386 introduces four privilege levels, called <em>rings</em>, that are used to protect “privileged” memory from “unprivileged” reads / writes. This is another basic block on which modern protected OSes build from.</p>

<p>The MMU is also involved in the “Virtual 8086” operating mode, which is a kind of hardware supported virtual machine to run 8086 programs in real mode. These programs have the illusion of having full control of an 8086, with up to one MiB of memory. Many V86 VMs can operate at the same time, with their virtual space translated to physical space by the MMU. If they try to operate on protected resources, such as accessing MMIOs, an interrupt is triggered that will be handled by the privileged software managing the VMs.</p>

<p>The MMU was designed to be an integral and streamlined part of the 80386. Under ideal conditions memory accesses are not impacted, on the contrary to the MC68851 that always introduces at least one cycle of latency.</p>

<p>In the 68000 line, the MMU is not always present. We have seen that the 68020 had to be supported by an external chip, while the low cost “EC” versions of the 68030 and even the 68040 did not come with the integrated MMU. On the contrary, the MMU was always included inside all models of 80386, even the low cost 386SX. This made a huge difference, as programs taking advantage of the MMU and advanced operating modes could run on any 386.</p>

<h3 id="new-oses">New OSes</h3>

<p>More than raw power, the 386 paved the way to new modern OSes that could run for the first time on an x86 personal computer.</p>

<h4 id="xenix">Xenix</h4>

<p>Xenix was one of the first UNIX ports for micro-computers, born from a partnership between Microsoft and SCO. In 1980 a port for the 8086 was announced. But without a true MMU, it could not protect the memory so user-space was not separated from kernel-space. A better 286 version took advantage of the “protected mode” of operation to behave more like its brethren running on workstations. And in 1987 a port to the 386 closed the gap by making use of pagination and became the first modern 32-bit OS to run on an x86.</p>

<p><img src="https://www.xtof.info/386_Xenix.png" alt="Screen capture of Microsoft Xenix"></p>

<h4 id="os2">OS/2</h4>

<p>OS/2 was at first a joint development of Microsoft and IBM, before Microsoft left it to focus exclusively on Windows. Although released in 1987, the first versions targeted the 286 as it was primarily intended for the PS/2 line of IBM computers, most of them sporting this CPU. It made good usage of the protected mode and was considered as an advanced OS for the time. But it is only with version 2.0, in 1992, that OS/2 became a 32-bit OS. In the meantime, it suffered from the segmented memory scheme and the lack of Virtual 8086 mode: its support of uttermost important DOS applications was not good and was lagging even against Windows/386.<br>
Nevertheless, OS/2 2.0 was the first widely used 32-bit OS on a personal computer.</p>

<p><img src="https://www.xtof.info/386_OS2.png" alt="Screen capture of OS/2 2.0">
<em>OS/2 2.0</em></p>

<h4 id="windows">Windows</h4>

<p>Windows began providing an “operating environment” specific to the 80386 as soon as 1987 with Windows/386, quickly followed by the 2.0 release. It was still a 16-bit OS and did not expose the 32-bit flat memory space, but it made good use of the 386 to virtualize DOS sessions into the Virtual 8086 mode. Those sessions could run in parallel without being aware of the other ones. This was critical for many businesses still relying on DOS software for their day to day operations. And thanks to the MMU, extended memory was also provided through a protected mode driver emulating EMS.<br>
This was of course refined by Windows 3.0 and Windows 3.1, which was a tremendous success. In 1993, Windows for Workgroups 3.11 dropped support for anything lesser than the 386 and file access and many drivers were now 32-bit.</p>

<p><img src="https://www.xtof.info/386_Windows386.png" alt="Screen capture of Microsoft Windows/386">
<em>Windows/386, first version of Windows supporting the features of the 386</em></p>

<p>The transition was finally completed by Windows 95, which made full usage of the 386 MMU, exposing the flat memory space, making use of paging and virtual memory and so on… Some code was still 16-bit, but DOS was reduced to little more than a bootloader and it gave the taste of a modern fully fledged 32-bit system to millions of users.</p>

<h4 id="nt">NT</h4>

<p>The first version of Windows NT was released in July 1993. Whereas Windows 95 grew from Windows 3.11 and kept some legacy 16-bit code, NT was developed from a clean slate to become the first “pure” 32-bit version of Windows. Although one of its main features was hardware independence, the most important port was of course for the 80386 and made full usage of pagination, supervisor mode and memory protection. Sharing almost the same API that Windows 95, NT could run countless Win32 applications while being as robust as any OS could be at this time. It had tremendous success and Windows NT4 started to make a dent in the Workstation *NIX market of the mid-90s. Today’s Windows 11 is its direct descendant and still runs on the NT kernel.</p>

<p><img src="https://www.xtof.info/386_NT31.png" alt="Screen capture of Microsoft Windows NT 3.1">
*Windows NT made its debut with a 32-bit version of “Program Manager” as its shell</p>

<p><em>Windows NT 3.1</em></p>

<h4 id="linux">Linux</h4>

<p>But the most important OS born on a 386 is none of those above.<br>
The prodigal OS is <strong>Linux</strong>, whose birth is intimately linked to the 386. Around January 1991, Linus Torvalds, a Finnish student, bought a brand new 386 PC.</p>

<blockquote>
  <p><em>Like any good computer purist raised on a 68008 chip, I despised PCs. But when the 386 came out in 1986, PCs started to look, well, attractive. They were able to do everything the 68020 did, and by 1990, mass-market production and the introduction of inexpensive clones would make them a great deal cheaper. I was very money-conscious because I didn’t have any.</em></p>
</blockquote>

<p>This machine was a good match to run Minix, a small UNIX clone designed to teach the inner side of operating systems to students. But Linus was not satisfied by the terminal emulator of Minix. The need for a good one was crucial to him, as he used it to connect to the computers at university. So Linus started to write his own terminal emulation program, bare-metal in order to also learn how the 386 hardware worked. His terminal could read the keyboard and of course also display text on the monitor. He designed it around two independent threads, so he had to write a small “task switcher”.</p>

<blockquote>
  <p><em>A 386 had hardware to support this process. I found it was a cool idea.</em></p>
</blockquote>

<p>As Linus wanted to download programs, he had to write a disk driver to store them. That’s how, one functionality after another, what would later be known as Linux was on its way to becoming a fully fledged operating system. Mid-91 Linus asked for a copy of the POSIX specifications and on the 25^th^ of August 1991 he announced on the newsgroup <em>comp.os.minix</em> that he was working on a new operating system: “just a hobby, won’t be big and professional like gnu”.</p>

<p>The rest is history.</p>

<p><img src="https://www.xtof.info/386_Linux.png" alt="TUX, ready to conquer the world"></p>

<h2 id="conclusion">Conclusion</h2>

<p>The 80386 really is the most important CPU of the x86 line.</p>

<p>Technically, the 80386 was a fine chip. Performance wise, it was nothing groundbreaking and behind its RISC contemporaries. But it was very feature complete with its modern and fast MMU and its different modes of operation which allowed it to access 4GiB of flat memory while staying compatible with all software written for the x86. This allowed Windows to gently transition into modernity. Actually, the 386’s abilities regarding memory handling were good enough so that its successors, while becoming ever more powerful, did not add anything major in this regard for almost 20 years.</p>

<p>The main branch of Linux only dropped i386 support in 2013!</p>

<p>But it was commercially that the 386 had the most importance. While Intel did not initially believe that there was demand for a 32-bit x86, they realized that the x86 was their future. This change of stance convinced the market that the x86 was here to stay. The adoption of the 386 by the major cloners put IBM aside and demonstrated that there was a credible and open alternative. Meanwhile, Intel became the only source of the most powerful x86 CPU, a major step in its journey to dominate the CPU market.</p>

<p>Mass produced, the prices quickly fell and the 386 based machines became more affordable than any other, and democratized the access to a MMU. Making good use of those abilities, Windows introduced millions of people to modern computing, the NT kernel demonstrated that a robust OS could run on cheap “beige” PC, while we can say with confidence that Linux would not exist without the 386.</p>

<p>That is why I say that the 80386 is the most important chip ever designed by Intel.</p>

<p>Hail to the 386!</p>

<h2 id="on-the-same-subject">On the same subject</h2>

<ul>
  <li><a href="https://www.xtof.info/inside-windows3.html">Inside Windows 3</a></li>
  <li><a href="https://www.xtof.info/the-640k-memory-limit-of-ms-dos">The 640K memory limit of MS-DOS</a></li>
</ul>

<h2 id="bibliography">Bibliography</h2>

<ul>
  <li><a href="https://www.righto.com/2023/07/the-complex-history-of-intel-i960-risc.html">The complex history of Intel i960 RISC</a></li>
  <li><a href="https://archive.computerhistory.org/resources/text/Oral_History/Intel_386_Design_and_Dev/102702019.05.01.acc.pdf">Intel 386 Microprocessor Design and Development - Oral History Panel</a></li>
  <li><a href="https://archive.computerhistory.org/resources/text/Oral_History/Intel_386_Design_and_Dev/102702019.05.01.acc.pdf">Intel 386 Business Strategy - Oral History Panel</a></li>
  <li><a href="http://marc.retronik.fr/motorola/68K/68000/Memory_Management_Units_for_68000_Architectures_%5bBYTE_1986_9p%5d.pdf">Memory Management Units for 68000 Architectures</a></li>
  <li><a href="https://archive.org/details/bitsavers_intel80386mSoftwareWritersGuide1987_11188798/page/n5/mode/2up">80386 System Software Writer/’s Guide</a></li>
  <li><a href="https://archive.org/details/justforfunstoryo0000torv">Just for Fun: The Story of an Accidental Revolutionary</a></li>
</ul>


    </div>

</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A brain injury removed my ability to perceive time (257 pts)]]></title>
            <link>https://www.salon.com/2023/11/05/a-brain-injury-removed-my-ability-to-perceive-time-heres-what-its-like-in-a-world-without-it/</link>
            <guid>38156030</guid>
            <pubDate>Sun, 05 Nov 2023 21:53:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.salon.com/2023/11/05/a-brain-injury-removed-my-ability-to-perceive-time-heres-what-its-like-in-a-world-without-it/">https://www.salon.com/2023/11/05/a-brain-injury-removed-my-ability-to-perceive-time-heres-what-its-like-in-a-world-without-it/</a>, See on <a href="https://news.ycombinator.com/item?id=38156030">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
								
																	
																
								<p>I slumped in a wheelchair in my doctor’s office. The clock above the door ticked erratically, as if someone outside the room was winding the gears forward and then turning them back every few seconds. The words Dr. W spoke seemed to fall from her mouth, then slowly float across the room one by one. To my ears, her speech was devoid of any cadence. Unable to hear the pauses that indicated the ends of her sentences, I kept interrupting her.</p>
<p>A month before this doctor’s appointment, <a href="https://medlineplus.gov/lupus.html">lupus</a>, the chronic autoimmune disease I had lived with for the past four years, had spiraled out of control. In rare cases like mine, lupus can cause severe brain inflammation called lupus cerebritis. I’d first realized I was seriously ill when I stood up after teaching a violin lesson and forgot how to walk. My legs didn’t hurt — they simply refused to lift from the floor.&nbsp;</p>

<p>Over the next few weeks, my brain quickly unraveled, despite the high doses of immunosuppressants and IV steroids my doctor prescribed. I lost sensation in my left arm. I forgot that my favorite color was red and even whether or not I liked yogurt. I no longer remembered telling ghost stories around a campfire with my family as a child or the day I left for college. My emotions vacillated from fury to giddiness to crushing depression on an hourly basis. I hallucinated fireworks onto my bedroom ceiling and stared as the air around me appeared to ripple like water. Due to problems with my short-term memory, I repeated myself over and over — that is, when I remembered enough of my vocabulary to actually speak.</p>
<p>Unable to walk, communicate or think coherently, I lay in bed for months, wondering if my mind would ever be the same. But as a classically-trained string musician, one of the cognitive abilities I grieved the most was my ability to comprehend time.</p>
<p>Due to problems with my short-term memory, I repeated myself over and over — that is, when I remembered enough of my vocabulary to actually speak.</p>
<p>At the core of any orchestra or string quartet is synchrony: a diverse, often eclectic mix of individuals with the finely-tuned ability to play in time with each other, to move together, and even to breathe together. An orchestra of well-trained musicians can accelerate the tempo or slow it down, pause to let a beautiful chord ring throughout a concert hall, then restart exactly together. When each instrument in an orchestra plays precisely in time with each other, the result is a seemingly effortless command of time that can only be achieved through many years of rigorous study.</p>
<p>I had fallen in love with the viola as an elementary school student. Over many hours of private lessons, orchestra rehearsals and practice, I’d built my career as a professional musician. That the many years I’d spent honing my skill as a musician could vanish in a month terrified me.</p>
<p>Whether we’re managing a demanding career, caring for children, or both, most of us have dreamt of not being bound to the metaphorical hourglass through which our day seems to slip. But what we actually want is more time, not the absence of time altogether. Being unaware of the passage of time felt like being trapped in a single chaotic moment that never ends. I had no way of knowing how long I’d been sick for, when my caretakers would bring me dinner, or how long my recovery might take. Without a sense of time, seconds stretched indefinitely into the future. When I asked my caretakers for food or coffee, they seemed to disappear for hours before they returned.</p>
<hr>
<p><strong><em>Want more health and science stories in your inbox? Subscribe to Salon's weekly newsletter <a href="https://salon.us8.list-manage.com/subscribe?u=71cb3e8a6e9639c81023cd427&amp;id=5deda2aaa7">Lab Notes</a>.</em></strong></p>
<hr>
<p>In addition to my difficulty perceiving short spans of time, my comprehension of longer periods of time was also affected. I referred to every past event in my life, whether it was my doctor’s appointment the day before or an audition I’d taken years ago, as having happened “yesterday.” I couldn’t remember what date, month or even year it was. I forgot what times of day were appropriate to call friends and family on the phone, and I didn’t understand what people meant when they said they were “busy.” Bedridden and unable to comprehend time, my illness seemed to drag on for eternity with no end in sight.</p>
<p>Even while bedridden, I tried to piece together the meaning behind my brain’s dysfunction. Learning about neuroscience helped me come to terms with my disease. I learned that no one area of the brain is solely responsible for measuring time. Rather, “the entire brain is critically dependent on the timing of neural transmissions throughout,” explains <a href="https://sites.smu.edu/des/registrar/RetiredFaculty/?a=bio&amp;pid=84&amp;name=Alan%20Brown">Dr. Alan Brown</a>, former chair of psychology and associate dean of the College of Arts and Sciences at Southern Methodist University. “The information that we receive from the outer world is sent through our neurons in waves or pulses, and this is how the brain processes everything (the smell of a rose, the color red, a rough touch). So, literally, we have several trillion small temporal processing units in our brain.”</p>
<p>"The entire brain is critically dependent on the timing of neural transmissions throughout."</p>
<p>Unlike more concrete and specific brain functions with designated areas within the brain, like our sense of smell, sight or touch, the brain’s perception of time is abstract. A combination of external input (like seeing the streetlights outside our house flick on), internal sensory input (like feeling tired), and memory (like groaning when we remember we have an early work meeting ) might lead our brains to determine that it’s time to go to bed.</p>
<p>“Most recent brain research has found that the brain is a lot less localized than we previously thought. That is, a specific piece of information (i.e., your grandmother’s face) does not reside in a precise location in the brain, but may involve tens of thousands of different small processing sites throughout the brainstem and cortex,” says Dr. Brown.</p>
<p>A 2020<a href="https://neuro.psychiatryonline.org/doi/10.1176/appi.neuropsych.19120342"> report</a> in the <em>Journal of Neuropsychiatry</em> cites meta-analysis of MRIs and PET scans in determining the collaboration between different areas of the brain in processing time. “These studies support the presence of a widespread network of cortical and subcortical areas that are variably recruited based on specific task parameters and demands,” the authors write.</p>
<p>Neuroscientists have long known that the human brain is capable of measuring units of time under ten seconds more or less accurately due to a <a href="https://norwegianscitechnews.com/2018/08/how-your-brain-experiences-time/">group of time-keeping cells in the hippocampus</a>. But in a <a href="https://www.nature.com/articles/s41586-018-0459-6">2018 study</a> published in the journal <em>Nature</em>, researchers at Norwegian University of Science and Technology’s Kavli Institute for Systems Neuroscience believe they made a breakthrough discovery in determining exactly how the brain measures longer periods of time<strong>.</strong></p>

<p>“Our study reveals how the brain makes sense of time as an event (that) is experienced. The network does not explicitly encode time. What we measure is rather a subjective time derived from the ongoing flow of experience,” says the <a href="https://pubmed.ncbi.nlm.nih.gov/30158699/">Kavli Institute’s Dr. Albert Tsao</a>, the study’s lead author. “The primary function of episodic time is to record the order of events within experience, which does not require a precise representation of metric time,” Dr. Tsao’s and his colleagues explain. A <a href="https://pubmed.ncbi.nlm.nih.gov/33158958/">2021 study</a> in PubMed confirmed that the creation of episodic memories shapes our sense of time, and that the hippocampus “binds features of an event to its context.”</p>
<p>As we move through our day, our brains react to our environment in the form of thousands of tiny observations. The rumble of the coffee machine, the drop of milk that splashes from our cereal bowl onto the tablecloth and the crunch of cornflakes between our teeth are all observations that our brain makes about our environment without us consciously thinking about it. The observations our brains record occur in a continuous flow. This input from our environment then is encoded, or stored, in our memory. Certain events, particularly those that indicate changes in our environment, serve as boundaries between experiences. These boundaries help our brain organize encoded memories into segments, or episodes. For example, the sensory input above might be grouped into an episode labeled “breakfast.” Groupings of memories that were formed in the same environment are referred to as episodic memories.</p>
<p>“The primary function of episodic time is to record the order of events within experience, which does not require a precise representation of metric time.”</p>
<p>The accumulation of episodic memories form the neural clock at the crux of Dr. Tsao and his team’s discovery, and are responsible for helping humans gauge how much time has passed. The <em>Journal of Neuropsychiatry</em> study reached a similar conclusion: “There is evidence that events that occurred in different episodes are perceived as happening farther apart in time, and events occurring within an episode are perceived as happening closer in time.”</p>
<p>While no single area of the brain controls humans’ abstract concept of time, particular networks of neurons play a role in our brain’s perception of time by aiding in the formation of episodic memories.</p>
<p>Two years after my brain first became inflamed, I stood next to three of my colleagues on a stage holding my viola. After bowing to the audience, we sat facing each other, our musical instruments ready. After a quick cue from the first violinist, we launched into motion, the synchronized voices of our instruments blending precisely together.</p>
<p>Recovery from brain trauma is complicated and varies from patient to patient, Dr. Brown explained, adding, “Many variables could be involved, with the most important being how the damage occurred.” My own recovery had felt like scaling a mountain: exhausting and grueling, but worth it when I finally reached the summit and saw how far I’d come.</p>
<p>For much of the first year I spent recovering, I was too mentally and physically exhausted to practice more than a few minutes. I returned to playing the violin before the viola. Because the violin is much lighter than the viola, my atrophied arm muscles were able to hold it. When I was well enough to begin seriously practicing the viola, I worked extensively with a metronome, a device that musicians use to keep a steady beat.</p>

<p>Interestingly, the <em>Journal of Neuropsychiatry</em> study confirms that using a metronome can help brain trauma patients recover their sense of timing. “The therapeutic value of temporally based interventions (e.g., rhythmic cueing, slow rhythmic drumming) has been demonstrated for multiple neuropsychiatric conditions.”</p>
<p>Six years after my recovery, my memory overall is not as sharp as it was before my illness. I use to-do lists to keep myself on track. I triple-check the rehearsal dates on emails I send my students to make sure I haven’t listed the wrong day or month, although sometimes mistakes still slip through. I also sometimes struggle to remember how far back events in my past happened. I’ll catch myself wondering if I had the oil in my car changed three months ago or a year ago. But every time I take my viola out of its case, I feel grateful to be able to think like a musician again.</p>
<p>While performing in the viola section of an orchestra recently, my mind drifted briefly to the complex method through which the brain comprehends time. Sensory input becomes tiny memories, which then become encoded into episodes that the brain uses to estimate how much time has passed. Then my mind returned to the musicians on stage moving in time: many voices blending together to create a moment, a phrase, then an entire symphony.</p>
<div>
<div>
<p>Read more</p>
<p>about neuroscience</p>
</div>
<ul>
<li><strong><a href="https://www.salon.com/2023/09/25/your-brain-is-powered-by-literal-emotional-energy-an-expert-explains-how-to-find-the-right-balance/" target="_blank">Your brain is powered by literal emotional energy. An expert explains how to find the right balance</a></strong></li>
<li><strong><a href="https://www.salon.com/2023/10/06/why-your-brain-is-hungry-for-more-play-according-to-a-child-development-expert/" target="_blank">Why your brain is hungry for more play, according to a child development expert</a></strong></li>
<li><strong><a href="https://www.salon.com/2023/09/20/dopamine-is-a-brain-chemical-famously-linked-to-mood-and-pleasure-but-this-is-often-oversimplified_partner/" target="_blank">Dopamine is a brain chemical famously linked to mood and pleasure, but this is often oversimplified</a></strong></li>
</ul>
</div>
							</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Big landlords are colluding to raise rents, D.C. lawsuit alleges (153 pts)]]></title>
            <link>https://www.axios.com/2023/11/02/dc-housing-rent-antitrust-lawsuit</link>
            <guid>38155840</guid>
            <pubDate>Sun, 05 Nov 2023 21:29:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.axios.com/2023/11/02/dc-housing-rent-antitrust-lawsuit">https://www.axios.com/2023/11/02/dc-housing-rent-antitrust-lawsuit</a>, See on <a href="https://news.ycombinator.com/item?id=38155840">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-cy="au-image"><img data-cy="StoryImage" alt="Illustration of apartment doorbells in the shape of an eight." fetchpriority="high" width="1920" height="1080" decoding="async" data-nimg="1" sizes="100vw" srcset="https://images.axios.com/0dxMM-GlOGmad14k7XCbvrDYfkM=/0x0:1920x1080/320x180/2023/11/01/1698869533081.jpg?w=320 320w, https://images.axios.com/0dxMM-GlOGmad14k7XCbvrDYfkM=/0x0:1920x1080/320x180/2023/11/01/1698869533081.jpg?w=320 320w, https://images.axios.com/36wCH8LFfMa4fF6XgF5Z35PyqSQ=/0x0:1920x1080/640x360/2023/11/01/1698869533081.jpg?w=640 640w, https://images.axios.com/36wCH8LFfMa4fF6XgF5Z35PyqSQ=/0x0:1920x1080/640x360/2023/11/01/1698869533081.jpg?w=640 640w, https://images.axios.com/fk0HHneJFLMruoR6uIkM-LKLezk=/0x0:1920x1080/768x432/2023/11/01/1698869533081.jpg?w=768 768w, https://images.axios.com/fk0HHneJFLMruoR6uIkM-LKLezk=/0x0:1920x1080/768x432/2023/11/01/1698869533081.jpg?w=768 768w, https://images.axios.com/kxKcAoh1a-BDLL-Dv4G2iTskjBk=/0x0:1920x1080/1024x576/2023/11/01/1698869533081.jpg?w=1024 1024w, https://images.axios.com/kxKcAoh1a-BDLL-Dv4G2iTskjBk=/0x0:1920x1080/1024x576/2023/11/01/1698869533081.jpg?w=1024 1024w, https://images.axios.com/e6xZjUo3FaekEzAv_elNgJI8-MQ=/0x0:1920x1080/1366x768/2023/11/01/1698869533081.jpg?w=1366 1366w, https://images.axios.com/e6xZjUo3FaekEzAv_elNgJI8-MQ=/0x0:1920x1080/1366x768/2023/11/01/1698869533081.jpg?w=1366 1366w, https://images.axios.com/3qU_M6O_RVitHK6qqmTtOq1hnMo=/0x0:1920x1080/1600x900/2023/11/01/1698869533081.jpg?w=1600 1600w, https://images.axios.com/3qU_M6O_RVitHK6qqmTtOq1hnMo=/0x0:1920x1080/1600x900/2023/11/01/1698869533081.jpg?w=1600 1600w, https://images.axios.com/s9WNa7UhwpUvk9nR_OWxYjZEpHU=/0x0:1920x1080/1920x1080/2023/11/01/1698869533081.jpg?w=1920 1920w, https://images.axios.com/s9WNa7UhwpUvk9nR_OWxYjZEpHU=/0x0:1920x1080/1920x1080/2023/11/01/1698869533081.jpg?w=1920 1920w" src="https://images.axios.com/s9WNa7UhwpUvk9nR_OWxYjZEpHU=/0x0:1920x1080/1920x1080/2023/11/01/1698869533081.jpg?w=1920"><figcaption><p>Illustration: Brendan Lynch/Axios</p></figcaption></div><div><p>A lawsuit filed in D.C. on Wednesday alleges that some of the city's biggest property managers are colluding to artificially raise <a data-vars-link-text="rents" data-vars-click-url="https://www.axios.com/2023/03/14/smaller-apartments-flooding-market" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.axios.com/2023/03/14/smaller-apartments-flooding-market" target="_self">rents</a> — and it's not just a D.C. phenomenon.</p><p><strong>Why it matters: </strong>The lawsuit could illuminate one factor behind the <a data-vars-link-text="surge" data-vars-click-url="https://www.axios.com/2022/08/20/america-rental-housing-affordable-homeownership" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.axios.com/2022/08/20/america-rental-housing-affordable-homeownership" target="_self">surge</a> in rental prices across the U.S. The lawsuit alleges that rather than competing on price, big landlords are effectively outsourcing pricing decisions to an algorithm that uses data from them and their top competitors. The result is higher rents across the board.</p><p><strong>Driving the news:</strong> <a data-vars-link-text="D.C." data-vars-click-url="https://www.axios.com/local/washington-dc" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.axios.com/local/washington-dc" target="_self">D.C.</a> Attorney General <a data-vars-link-text="Brian Schwalb is suing" data-vars-click-url="https://oag.dc.gov/sites/default/files/2023-11/DC%20OAG%20RealPage%20Complaint%20-%20Filed.pdf" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://oag.dc.gov/sites/default/files/2023-11/DC%20OAG%20RealPage%20Complaint%20-%20Filed.pdf" target="_blank">Brian Schwalb is suing</a> 14 of the city's biggest landlords, which he dubbed a "cartel," for allegedly inflating rent costs based on calculations from RealPage Revenue Management Software.</p><ul><li>"By demanding unlawfully high cartel rents, Defendants have inflicted real harm on neighborhoods across the District," the antitrust lawsuit claims.</li><li>"Every dollar of increased rent that the cartel illegally squeezes from District renters contributes to widening wealth gaps, forces hardworking residents to forgo other uses of their money, and pushes residents out of a District whose housing they increasingly cannot afford."</li></ul><p><strong>The other side: </strong>RealPage will "vigorously defend" the case, said Jennifer Bowcock, the company's senior vice president for communications. She said the lawsuit is wrong in its facts and application of the law.</p><ul><li>"In seeking to draw a causal connection between revenue management software like ours and increases in market-wide rents, this copycat suit repeats the inaccuracies of predecessor cases."</li></ul><p><strong>How it works: </strong>RealPage's software estimates the supply and demand for housing and generates a price that maximizes landlord revenue, according to the lawsuit.</p><ul><li>The landlords being sued all agreed to use RealPage-generated rents, the lawsuit says. They upload their demographic and geographic information to RealPage's database and also help in the recruitment of new landlords to the system.</li><li>The software company actively "polices" landlords to ensure that they comply with the rent cost it generates, the lawsuit alleges. Failure to impose the RealPage rents could lead to landlords being expelled from the organization, according to the suit. </li><li>RealPage's software has set the rent at more than 30% of apartments in multifamily buildings in D.C. and 60% of units in large multifamily buildings, per the lawsuit. The percentages are even higher for the broader D.C. metro area.</li></ul><p><strong>Between the lines:</strong> The data landlords are providing to RealPage would otherwise be private to each company, but now it's being used to help those landlords and their competitors set their prices, the lawsuit asserts.</p><ul><li>"RealPage's dominant market position stems directly from its unrivaled access to proprietary data," the lawsuit contends. "RealPage possesses not only a massive amount of data, but also extraordinarily detailed data."</li><li>"It pushed up pricing across the board," a former RealPage director said, according to the lawsuit.</li></ul><p><strong>Zoom out: </strong>Renting <a data-vars-link-text="has become increasingly" data-vars-click-url="https://www.axios.com/2023/06/16/rent-growth-crisis" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.axios.com/2023/06/16/rent-growth-crisis" target="_self">has become increasingly</a> more <a data-vars-link-text="expensive" data-vars-click-url="https://www.axios.com/2022/08/16/rent-increases-nyc-california-us" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.axios.com/2022/08/16/rent-increases-nyc-california-us" target="_self">expensive</a> for Americans, due in large part to a shortage of available units. </p><ul><li>There were <a data-vars-link-text="49.5 million" data-vars-click-url="https://www.hud.gov/press/press_releases_media_advisories/hud_no_22_242#:~:text=Below%20are%20highlights%20from%20the,contain%2049.5%20million%20rental%20units" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.hud.gov/press/press_releases_media_advisories/hud_no_22_242#:~:text=Below%20are%20highlights%20from%20the,contain%2049.5%20million%20rental%20units" target="_blank">49.5 million</a> rental units in the U.S. as of 2022, according to data from the U.S. Department of Housing and Urban Development.</li><li>RealPage in 2020 said its software served <a data-vars-link-text="19.7 million" data-vars-click-url="https://www.sec.gov/Archives/edgar/data/1286225/000128622521000007/rp-20201231.htm#:~:text=Our%20total%20revenues%20were%20approximately,2019%2C%20and%202018%2C%20respectively" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.sec.gov/Archives/edgar/data/1286225/000128622521000007/rp-20201231.htm#:~:text=Our%20total%20revenues%20were%20approximately,2019%2C%20and%202018%2C%20respectively" target="_blank">19.7 million</a> rental units of all types in the U.S. — more than a third of all rental units nationwide.</li><li><strong>Yes, but: </strong>Landlords aren't just increasing rents because of the software they're using. They're passing on their own rising costs to renters, and <a data-vars-link-text="capitalizing on the fact" data-vars-click-url="https://www.axios.com/2022/08/16/rent-increases-nyc-california-us" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.axios.com/2022/08/16/rent-increases-nyc-california-us" target="_self">capitalizing on the fact</a> that demand for housing is outstripping supply.</li></ul><p><strong>State of play: </strong>U.S. Senators Amy Klobuchar (D-Mn.), Richard Durbin (D-Il.) and Cory Booker (D-N.J.) in a letter last November <a data-vars-link-text="asked the" data-vars-click-url="https://www.documentcloud.org/documents/23309884-08c76dea4bc4f963258bc401335e6569letter-to-aag-kanter-re-realpage-11422?responsive=1&amp;title=1" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.documentcloud.org/documents/23309884-08c76dea4bc4f963258bc401335e6569letter-to-aag-kanter-re-realpage-11422?responsive=1&amp;title=1" target="_blank">asked the</a> Justice Department to investigate "anticompetitive concerns" around RealPage.</p><ul><li><a data-vars-link-text="The Wall Street Journal reported" data-vars-click-url="https://www.wsj.com/real-estate/commercial/thanks-to-big-data-landlords-know-how-to-squeeze-the-most-out-of-renters-eb7e5f02" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.wsj.com/real-estate/commercial/thanks-to-big-data-landlords-know-how-to-squeeze-the-most-out-of-renters-eb7e5f02" target="_blank">The Wall Street Journal reported</a> last month that the DOJ is investigating RealPage and is considering taking enforcement action.</li><li>Lawsuits have previously been filed in federal courts in Tennessee and Washington against RealPage and Yardi Systems, another company that offers similar services, per the WSJ.</li></ul><p><strong>What they're saying: </strong>One of the property management companies, William C. Smith &amp; Co., had not received official court papers as of Wednesday afternoon, company vice president of public relations and corporate initiatives Don Montouri told Axios. </p><ul><li>Another company, JBG Smith, does not comment on active litigation, a spokesperson said.</li><li>Representatives of the 12 other property management companies named in the suit did not respond to requests for comment prior to publication.</li></ul><p><strong>Go deeper: </strong></p><ul><li><a data-vars-link-text="These lawsuits could upend the real estate market" data-vars-click-url="https://www.axios.com/2023/10/23/lawsuit-trial-broker-fees-real-estate-news" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.axios.com/2023/10/23/lawsuit-trial-broker-fees-real-estate-news" target="_self">These lawsuits could upend the real estate market</a></li><li><a data-vars-link-text="Rent growth is slowing, but that doesn't mean rents are affordable" data-vars-click-url="https://www.axios.com/2023/06/16/rent-growth-crisis" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.axios.com/2023/06/16/rent-growth-crisis" target="_self">Rent growth is slowing, but that doesn't mean rents are affordable</a></li><li><a data-vars-link-text="High rents and mortgage rates squeeze Gen Z" data-vars-click-url="https://www.axios.com/2023/10/21/gen-z-rent-income-housing" data-vars-content-id="739bf83d-c907-4405-b2cb-20b9b1df6a19" data-vars-headline="Big landlords are colluding to raise rents, D.C. lawsuit alleges" data-vars-event-category="story" data-vars-sub-category="story" data-vars-item="in_content_link" href="https://www.axios.com/2023/10/21/gen-z-rent-income-housing" target="_self">High rents and mortgage rates squeeze Gen Z</a></li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Solar energy storage breakthrough could make households self-sufficient (152 pts)]]></title>
            <link>https://sifted.eu/articles/solar-energy-breakthrough-solid-hydrogen</link>
            <guid>38155723</guid>
            <pubDate>Sun, 05 Nov 2023 21:16:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sifted.eu/articles/solar-energy-breakthrough-solid-hydrogen">https://sifted.eu/articles/solar-energy-breakthrough-solid-hydrogen</a>, See on <a href="https://news.ycombinator.com/item?id=38155723">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><p data-block="p">One of the biggest issues with solar energy is that it is inconsistent over days and over seasons. Many startups have focused on trying to smooth energy supply over the day — saving up energy during the day for use during the night-time or outside peak hours.</p><p data-block="p">But few have tackled interseasonal storage of solar energy. What if homes could save abundant solar energy created in sunny months to be used for heat and electricity in winter?</p><p data-block="p">So far, this vision has been impossible to achieve. Batteries are too expensive and have short lifespans, and high costs and poor efficiency have crossed <a href="https://sifted.eu/articles/hydrogen-renewable-energy-debate/">hydrogen</a>, which does not emit greenhouse gases when burned, off the list of solutions.</p><p data-block="p">Now, one startup from Norway — a country in a region that probably hopes it could save a little sunlight for cold winters — says it could bring a solution to market in the next couple of years, using solid hydrogen.</p><h3>The hydrogen lab</h3><p data-block="p">The startup, Photoncycle, has a space in the basement of an accelerator in the Oslo Science Park. It’s more lab than office; on the floor is a chair-size copper cylinder with a thick styrofoam wrapping around it. This is Photoncycle’s breakthrough technology.</p><p data-block="p">The company wants to install a larger model of the cylinder — about three cubic meters large — in the ground a few yards from residential properties. The cylinder contains a patented solution of solid hydrogen, which has more efficient storage capabilities than batteries or liquid hydrogen.</p><p data-block="p">Solar panels on the roofs of the nearby buildings will feed the system with energy to be stored in the unit. Excess energy will be sold to the grid.</p><p data-block="p">A lack of storage for solar power generated in the summer creates a “significant mismatch” between when electricity is produced and when it is consumed: “This is one of the big challenges around how to get the renewable energy system to work properly,” says Photoncycle’s founder, Bjørn Brandtzaeg.</p><p data-block="p">Houses are currently likely to only use about 50% of what is produced, he says.</p><p data-block="p">“The other 50% increasingly has no value, because when it's produced it's basically going to be dumped or curtailed. If you can store that surplus, and then release it during the winter or when you actually have demand for energy, then you have a real possibility to make a difference.”</p><h3>Partnering with academia</h3><p data-block="p">Brandtzaeg is a seasoned infrastructure entrepreneur. The previous two companies he founded were large — one was an energy <a href="https://sifted.eu/articles/infrastructure-startups-climate-tech/">infrastructure company</a> in Georgia, the other is Norwegian renewable energy company Clean Energy Group. In contrast, Photoncycle has just nine employees and has been financed with Brandtzaeg's own capital and funding from Startup Lab for the last two years.</p><p data-block="p">The idea for the company began when Brandtzaeg was a visiting fellow at MIT in the US, and part of the team looking at the future of energy storage and how to balance an energy grid made up of 100% renewable energy. The entrepreneur, who does not have a technical background, has partnered with people in academia to come up with a non-flammable solution that doesn’t lose a lot of energy in the conversion process.</p><figure><p><img alt="Picture of Bjørn Brandtzæg, founder of energy storage startup Photoncycle." loading="lazy" width="1024" height="689" decoding="async" data-nimg="1" sizes="(max-width: 378px) 90vw, (max-width: 768px) 80vw, (max-width: 1200px) 60vw, 40vw" srcset="https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=256&amp;q=75 256w, https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=384&amp;q=75 384w, https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=640&amp;q=75 640w, https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=750&amp;q=75 750w, https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=828&amp;q=75 828w, https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=1080&amp;q=75 1080w, https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=1200&amp;q=75 1200w, https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=1920&amp;q=75 1920w, https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=2048&amp;q=75 2048w, https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=3840&amp;q=75 3840w" src="https://images.sifted.eu/wp-content/uploads/2023/10/22184209/brandtzaeg.jpg?auto=format&amp;fit=max&amp;w=3840&amp;q=75"></p><figcaption> Bjørn Brandtzæg, founder of Photoncycle</figcaption></figure><p data-block="p">Brandtzaeg holds up a chalk-looking substance: “With this, you can store electricity 20 times as densely as in a lithium battery.”</p><p data-block="p">“We're locking up the hydrogen molecules in a solid to basically fix them. We're using a reversible, high-temperature fuel cell, so we're assisting a fuel cell which both can produce hydrogen and electricity in the same cell,” he says.</p><p data-block="p">That means no need to cool the hydrogen down, making it non-flammable and giving it a higher density than an ion-lithium battery.</p><h3>The energy losses used for heating</h3><p data-block="p">No storage solution is 100% energy efficient, and neither is Photoncycle’s system.</p><p data-block="p">“Everyone knows that when you're turning hydrogen in and out of this fuel cell, there will be losses. In our system, the losses are effectively heat,” Brandtzaeg says.</p><p data-block="p">Photoncycle wants to capture this heat and use it to heat houses.</p><p data-block="p">“You can actually use the surplus heat to effectively provide energy to the household — and 70% of energy needs in the household are heating related," he says.</p><p data-block="p">The system, including solar panels, is connected straight to the existing infrastructure and can then replace natural gas with renewable energy in a combined heat and power system. Brandtzaeg says it takes about one day to install.</p><h3>Denmark as a test market</h3><p data-block="p">One would assume a Norwegian company would start off with testing the product in Norway. However, with Norway being one of the cheapest countries in Europe when it comes to energy — it’s not going to have the same cost-saving effects on users.</p><p data-block="p">Instead, Brandtzaeg has picked neighbouring country Denmark, which has some of the highest energy prices in Europe, to roll out the tech first.</p><p data-block="p">“Denmark is a suitable launch market with around 400k households that use natural gas and oil for heating,” he says.</p><p data-block="p">Denmark has also decided that gas heating is to be phased out by 2030, which gives people an incentive to find a new heating source, according to Brandtzaeg.</p><p data-block="p">Consumers will be offered the fully integrated power station on a subscription model for a fixed monthly fee — an equivalent of an energy cost of less than €0.10 per kilowatt hour. As for the energy produced and sold on the grid, Photoncycle has set up a profit-sharing scheme with the consumers, which will entitle them to half of the income of energy sold.</p><p data-block="p">With enough units set up and connected, Brandtzaeg says it could become a virtual power plant that can start trading energy on the European energy markets.</p><p data-block="p">“Then you can both be selling energy as a service to the customer but also you can become a very big energy player in the energy markets.”</p><p data-block="p">The founder wants to triple the team with the goal of selling 10k units in Denmark in 2025, and to have them installed in 2027.</p><h3>So why has no one done it before?</h3><p data-block="p">According to Brandtzaeg, the idea of using solid hydrogen for energy storage emerged a few years ago, but companies have not been using it for residential purposes.</p><p data-block="p">“The solid oxide fuel cells that we use, they're just about to be commercialised. So people have used them mainly for larger applications, industrial applications.”</p><p data-block="p">With the <a href="https://www.europarl.europa.eu/legislative-train/package-repowereu-plan/file-eu-solar-strategy#:~:text=The%20installation%20of%20rooftop%20solar,new%20residential%20buildings%20by%202029.">EU Solar Energy Strategy</a>, installation of rooftop solar panels is likely to increase further in the region. The plan is to make it compulsory for all existing public and commercial buildings larger than 250 m2 by 2027, and all new residential buildings by 2029 — a strong tailwind for Photoncycle.</p><p data-block="p">“What Elon Musk understood was that in order to beat the gasoline car, you need to put in something which is more attractive for people as a replacement. I think that's the fundamental thing you also need to think about around renewable energy,” he says.</p></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: WireHub – easily create and share WireGuard networks (263 pts)]]></title>
            <link>https://www.wirehub.org/</link>
            <guid>38155544</guid>
            <pubDate>Sun, 05 Nov 2023 20:54:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wirehub.org/">https://www.wirehub.org/</a>, See on <a href="https://news.ycombinator.com/item?id=38155544">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <h2>What is WireHub?</h2>
            <p>
                WireHub is a WireGuard configuration generator —
                it supports multiple networks and devices,
                label-based access rules,
                invitations and permissions,
                and secure storage of WireGuard PrivateKeys.
            </p>
            <p>
                PrivateKeys can be generated in-browser
                or imported if you already have them.
                If provided, PrivateKeys are encrypted in-browser
                using WebCrypto with a password of your choice.
                WireHub never receives nor stores your password.
            </p>
            <p>
                Peering between network devices is defined with label-based rules.
                Labels are applied to devices and
                are then used in connection rules, covering all your
                Peer, AllowedIPs, and PreSharedKey needs.
            </p>
            <p>
                Network members may be invited as Guests, Members, Managers or Admins —
                Guests don't even have to create an account with WireHub.
                Managers and Admins can generate and manage the keys for any device,
                while Members and Guests can only manage their assigned devices.
            </p>
            <p>
                Other than the in-browser PrivateKey encryption/decryption mechanism,
                all functionality of WireHub is accessible without JavaScript.
            </p>
            <p>
                Read on to find out more
                or
                <a href="https://www.wirehub.org/accounts/signup/">
    Join the Beta!

    <i></i>
</a>

            </p>
        </div><div>
            <h2>
                
                Features
            </h2>
            
            <div>
                <h3>1. Networks</h3>
                <p><img src="https://www.wirehub.org/static/images/networks2.png"></p><h4>
                    Connect multiple devices over one or more WireGuard Virtual Private Networks (VPN).
                </h4>
                <p>
                    For example, a network called <code>Home</code> may be used
                    for all your family's personal devices,
                    and a network called <code>Office</code> may be used
                    for all your work-related devices.
                </p>
                <p>
                    A network-level <mark>CIDR</mark> of your own choosing,
                    like <code>10.10.0.0/24</code>, is used to automatically assign
                    unique IP addresses to peers added to the network.
                </p>
                <p>
                    You can even specify default <mark>DNS</mark> settings to be applied to all
                    connected devices.
                </p>
            </div>
            <div>
                <h3>2. Devices</h3>
                <p><img src="https://www.wirehub.org/static/images/devices.png"></p><h4>
                    Add your laptops, phones, servers or any other WireGuard-enabled device.
                </h4>
                <p>
                    Each device automatically gets an IP addresses
                    from the network CIDR, like <code>10.10.0.5/32</code>,
                    and you may also specify additional addresses, like <code>192.168.65.5/32</code>.
                </p>
                <p>
                    Using custom <mark>labels</mark> like <code>pihole</code>, <code>media</code>,
                    <code>server:app-1</code>, etc you can easily group and filter your devices.
                </p>
            </div>
            <div>
                <h3>3. Connections</h3>
                <p><img src="https://www.wirehub.org/static/images/connections.png" alt="Screenshot of Connections preview interface, showing how labels are used to define peers"></p><h4>
                    <mark>Label-based Access Controls</mark>,
                    using device labels to define network peers.
                </h4>
                
                <p>
                    Peering between devices is achieved via
                    uni-directional label-based connection rules —
                    both devices need to specify the connection
                    using the labels applied to them.
                </p>
                <p>
                    You can also specify the AllowedIPs to be used for each connection
                    using keywords such as <em>peers</em> (only the IPs of the two peers),
                    <em>network</em> (the network CIDR),
                    and <em>all</em> (all traffic, <code>0.0.0.0/24</code>).
                    For direct peer-to-peer connections,
                    <mark>PreShared</mark> keys are automatically generated
                    and shared between the peers by default.
                </p>
                <p>
                    And you can specify pass-through connections to describe
                    <strong>Hub/Site topologies</strong>,
                    <strong>Web Proxies</strong>,
                    or <strong>VPN exit nodes</strong>.
                </p>
            </div>
            <div>
                <h3>4. Members</h3>
                <p><img src="https://www.wirehub.org/static/images/members.png" alt="Screenshot of Members preview UI, showing multiple members with different roles, some of which have joined the network while others are still Pending."></p><h4>Invite friends, teammates and co-workers to claim their devices.</h4>
                <p>
                    Simple <mark>Role-Based Access Controls</mark>
                    to specify who gets to do what in your network.
                </p>
                <p>
                    <strong>Guests</strong>
                    — for when you just want to securely share WireGuard Configuration files.
                    Guests can only view devices assigned to them.
                    <em>No WireHub account required.</em>
                </p>
                <p>
                    <strong>Members</strong>
                    — for when you want people to manage their own devices.
                    Members can add their own devices and view other network devices,
                    but can only modify their own devices or those assigned to them.
                </p>
                <p>
                    <strong>Managers &amp; Admins</strong>
                    — when you want others to manage the network.
                    Managers and Admins can invite new members, revoke memberships,
                    create or modify connections, and make changes to network configuration.
                </p>
                <p>
                    Managers and Admins can also <mark>preview</mark> their networks
                    from the perspective of other members to
                    make sure everything's all right.
                </p>
            </div>
            <div>
                <h3>5. Interfaces</h3>
                <p><img src="https://www.wirehub.org/static/images/wg-keys.png"></p><h4>Securely store and manage your Private/Public Keys.</h4>
                <p>
                    Interfaces represent the <code>[Interface]</code> section
                    of a WireGuard configuration file
                    — most importantly the <mark>Private/Public Keys</mark>.
                    As such, Interfaces are considered private to the user
                    that created them.
                </p>
                <p>
                    Once an Interface is assigned to a network Device,
                    either by a network Manager or the device owner,
                    its Public Key and Endpoint (if any) are shared
                    with the Device's peers.
                </p>
                <p>
                    Private Keys, <em>if shared with WireHub</em>, are
                    <strong>client-side encrypted</strong> using <mark>WebCrypto</mark>
                    and <strong>password protected</strong> with a password
                    that does not leave your browser —
                    you really own your private keys.
                </p>
            </div>
        </div><div>
        <div>
            <h2>Here's what you get</h2>
            <p>
                This is an interactive example WireGuard Configuration Preview UI
                for the Hub device in my Home network
                where the Hub connects to all available devices.
                <br>
                <strong>Try it out!</strong>
            </p>
            
<div data-wg-name="home__hub.conf" data-wg-config="[Interface]
# Name = admin/home-hub
# PrivateKey = ********
# PublicKey = DHlM/s59bdfP4/sKj6eyPesWKsc2Y5QNd8kMlMzPOSI=

# Device = home/hub
Address = 10.10.10.1

[Peer]
# Name = home/iphone
PublicKey = GkCpbysgq35AUCDGqJ5O0a086fdTbG85b3Ces2iVFCQ=
PresharedKey = PMeoZ/E1/I7lg7xF5zNtJV+3MZnfXoBi4KiGXFzFwgI=
AllowedIPs = 10.10.10.4/32

[Peer]
# Name = home/home-server
PublicKey = Y6vLxZNeGC2y9mpo0g9QCm2yuAu7UDTT77pEdgiOASg=
PresharedKey = ZfZMWyeEYs6swPfY5gpxL6CRuxeNS73h6LLGHNfZQKQ=
AllowedIPs = 10.10.10.2/32
AllowedIPs = 192.168.68.24/32

[Peer]
# Name = home/ipad
PublicKey = ygoa+Y44zbQg9loEqofkMIiKVXYhNbunVbY+KClwkys=
PresharedKey = fB689E6GqReGknOEu1RrtXWmjUPA59+IZLoludmYV7k=
AllowedIPs = 10.10.10.3/32

[Peer]
# Name = home/macbook
PublicKey = 1TgSkmCdHRyARlZy3DZ8r8/p/LbXHvb/REhiRlGj2yY=
PresharedKey = YihQc9YZVvA2LSb0h6uw0FIyseRsZkMuGmZ81P3mCTE=
AllowedIPs = 10.10.10.5/32
" data-wg-privkey="eyJzYWx0IjoiMmMyMTAwZGY2MWI5MmU4ZDFkYjVhYTU1ZGNkYzQzNDgiLCJpdiI6IjRhM2U1OTFhNGY5ZGU4MzVkMWQ5MGUxNTc0YWYwNzllIiwiY2lwaGVyIjoiOWJiNWU3OTA3Y2RhYTUzY2M1YjYxZWJlOTY1MjkyZTdjMzZjYTU5Nzk3ZGI2NGE4ODdkNTVhMGZkYjAwNWFmYzVjNjYyNGY0OWYwY2MyMDExOWU5MDczZThhZDRjYjI5Njg0MmFjZTMyMjEyNDI2NzY1NWNjNzUwMGVkM2U5ODYifQ==" data-wg-passhint="The password is: 1">
            <ol>
                <li>
                    <i></i>
                    Viewing configuration for <em>Home Network</em>.
                </li>
                <li>
                    <pre>[Interface]
# Name = admin/home-hub
# PrivateKey = ********
# PublicKey = DHlM/s59bdfP4/sKj6eyPesWKsc2Y5QNd8kMlMzPOSI=</pre>
                </li>
                <li>
                    <pre># Device = home/hub
Address = 10.10.10.1</pre>
                </li>

                    <li>
                        <pre>[Peer]
# Name = home/iphone
PublicKey = GkCpbysgq35AUCDGqJ5O0a086fdTbG85b3Ces2iVFCQ=
PresharedKey = PMeoZ/E1/I7lg7xF5zNtJV+3MZnfXoBi4KiGXFzFwgI=
AllowedIPs = 10.10.10.4/32</pre>
                    </li>

                    <li>
                        <pre>[Peer]
# Name = home/home-server
PublicKey = Y6vLxZNeGC2y9mpo0g9QCm2yuAu7UDTT77pEdgiOASg=
PresharedKey = ZfZMWyeEYs6swPfY5gpxL6CRuxeNS73h6LLGHNfZQKQ=
AllowedIPs = 10.10.10.2/32
AllowedIPs = 192.168.68.24/32</pre>
                    </li>

                    <li>
                        <pre>[Peer]
# Name = home/ipad
PublicKey = ygoa+Y44zbQg9loEqofkMIiKVXYhNbunVbY+KClwkys=
PresharedKey = fB689E6GqReGknOEu1RrtXWmjUPA59+IZLoludmYV7k=
AllowedIPs = 10.10.10.3/32</pre>
                    </li>

                    <li>
                        <pre>[Peer]
# Name = home/macbook
PublicKey = 1TgSkmCdHRyARlZy3DZ8r8/p/LbXHvb/REhiRlGj2yY=
PresharedKey = YihQc9YZVvA2LSb0h6uw0FIyseRsZkMuGmZ81P3mCTE=
AllowedIPs = 10.10.10.5/32</pre>
                    </li>

            </ol>

    </div>


        </div>
        <p>
            <a href="https://www.wirehub.org/accounts/signup/">
    Join the Beta!

    <i></i>
</a>

            <br>
            <span>Free</span>
            <br>
            <span>
                Existing member? <strong><a href="https://www.wirehub.org/accounts/login/">Login</a></strong>
            </span>
        </p>
    </div><div>
        <div>
            <p>
                Made by <a href="https://twitter.com/rudasn" rel="nofollow noreferrer">Nicolas Rudas</a>.
                All rights reserved.
            </p>
            <p>
                "WireGuard" and the "WireGuard" logo are
                registered trademarks of Jason A. Donenfeld.
            </p>
        </div>
        <nav>
            <ol>
                <li>
                    <a href="https://www.wirehub.org/pages/security/">Security</a>
                </li>
                <li>
                    <a href="https://www.wirehub.org/pages/privacy/">Privacy</a>
                </li>
                <li>
                    <a href="https://www.wirehub.org/pages/terms/">Terms</a>
                </li>
            </ol>
        </nav>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Beej's Quick Guide to GDB (2009) (194 pts)]]></title>
            <link>https://beej.us/guide/bggdb/</link>
            <guid>38155541</guid>
            <pubDate>Sun, 05 Nov 2023 20:53:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://beej.us/guide/bggdb/">https://beej.us/guide/bggdb/</a>, See on <a href="https://news.ycombinator.com/item?id=38155541">Hacker News</a></p>
<div id="readability-page-1" class="page">


<i>Release 2 (2009 Jun 14)</i>

<p>Translations:
</p><ul>
<li><a href="https://paintingvalley.com/ru-bggdb">Russian</a>
</li></ul>

<p>This is a very quick-and-dirty guide meant to get you started with
the GNU Debugger, <b>gdb</b>, from the command line in a
terminal.  Often times <b>gdb</b> is run via an IDE, but
many people out there shun IDEs for a variety of reasons, and this
tutorial is for you!</p>

<p>Again, this is only a getting-started guide.  There's much much MUCH
more to learn about what the debugger does than is written in these few
short paragraphs.  Check out your "man" pages or the online resources
listed below for more info.</p>

<p>This tutorial is meant to be read in order, up to, but not including,
the "Misc" section.</p>

<!-- ================================================================ -->
<h2>Contents</h2>
<ul>
<li><a href="#compiling">Compiling to use a debugger</a>
</li><li><a href="#more">More Information</a>
</li><li><a href="#license">License</a>
</li><li><a href="#starting">Starting <b>gdb</b> and getting to <tt>main()</tt></a>
</li><li><a href="#breakpoints">Breakpoints</a>
</li><li><a href="#stepping">Stepping Around</a>
</li><li><a href="#exvars">Examining Variables</a>
</li><li><a href="#misc">Misc Stuff</a>
	<ul>
	<li><a href="#stackman">Stack Manipulation</a>
	</li><li><a href="#morestep">Additional Stepping Methods</a>
	</li><li><a href="#jump">Jumping to an Arbitrary Section of Code</a>
	</li><li><a href="#varmod">Changing Variables and Values at Runtime</a>
	</li><li><a href="#hardwatch">Hardware Watchpoints</a>
	</li><li><a href="#attach">Attach to a Running Process</a>
	</li><li><a href="#coredump">Using Coredumps for Postmortem Analysis</a>
	</li><li><a href="#window">Window Functions</a>
	</li><li><a href="#regasm">Display Registers and Assembly</a>
	</li><li><a href="#frontend">Writing a Front-End</a>
	</li></ul>
</li><li><a href="#qref">Quick Reference Cheat Sheet</a>
</li></ul>

<!-- ================================================================ -->
<a name="compiling"></a>
<h2>Compiling</h2>

<p>You have to tell your compiler to compile your code with symbolic
debugging information included.  Here's how to do it with <b>gcc</b>, with the <b>-g</b> switch:</p>

<pre>
$ <b>gcc -g hello.c -o hello</b>

$ <b>g++ -g hello.cpp -o hello</b>

</pre>

<p>Once you've done that, you should be able to view program listings in
the debugger.</p>

<!-- ================================================================ -->
<a name="more"></a>
<h2>More Information</h2>

<p>Check out the <a target="_blank" href="http://www.gnu.org/software/gdb/documentation/">Official GDB
Documentation</a> for more information than you can shake a stick
at!</p>

<p>Also, a good GNU GDB front-end is <a target="_blank" href="http://www.gnu.org/software/ddd/">DDD, the
DataDisplayDebugger</a>.</p>

<!-- ================================================================ -->
<a name="license"></a>
<h2>License</h2>

<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/us/" target="_blank"><img alt="Creative Commons License" src="https://beej.us/guide/bggdb/88x31.png"></a><p><span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/Text" property="dc:title" rel="dc:type">Beej's Quick Guide to GDB</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://beej.us/guide/bggdb/" property="cc:attributionName" rel="cc:attributionURL">Brian "Beej Jorgensen" Hall</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/us/" target="_blank">Creative Commons Attribution-Noncommercial-No Derivative Works 3.0 United States License</a>.</p>

<!-- ================================================================ -->
<a name="starting"></a>
<h2>Starting The Debugger</h2>

<p>First things first: you can enter <b>help</b> at
any <b>gdb</b> prompt and get more information.  Also,
you can enter <b>quit</b> to quit the debugger.
Finally, just hitting <b>RETURN</b> will repeat the
last command entered. Now let's fire it up!</p>

<p>There are several ways to start the debugger (e.g. if you were an IDE
you might start it with a particular mode that's not so human-friendly)
but I'll mention two of them here: vanilla console mode and curses GUI
mode.  The GUI is better, but let's quickly cover the simple one, and
launch a program called <b>hello</b> in the debugger:</p>

<pre>$ <b>gdb hello</b>
GNU gdb 6.8
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i486-slackware-linux"...
(gdb) <b>run</b>
Starting program: /home/beej/hello 
Hello, world!

Program exited normally.
(gdb) 
</pre>

<p>The last line is the <b>gdb</b> prompt, waiting for
you to tell it what to do.  Type <b>r</b> or <b>run</b> to run the program.  (<b>gdb</b> allows you to abbreviate commands until they
become ambiguous.)</p>

<p><b>To start in neato and highly-recommended GUI mode</b>, start the
debugger with <b>gdb -tui</b>.  (For many of the
examples, below, I show the output of <b>gdb</b>'s dumb
terminal mode, but in real life I use TUI mode exclusively.)</p>

<p>And here is a screenshot of what you'll see, approximately:</p>

<center><img src="https://beej.us/guide/bggdb/hellotui.png"></center>

<p>All the normal <b>gdb</b> commands will work in GUI
mode, and additionally the arrow keys and pgup/pgdown keys will scroll
the source window (when it has focus, which it does by default).  Also,
you can change which file or function is displayed in the source window
by giving the command <b>list</b> with a location as
an argument, for example, "<b>list hello.c:5</b> to
bring up the file <tt>hello.c</tt> on line 5.  (See "<a href="#breakpoints">Breakpoints</a>", below, for sample
locations—the same locations that work with breakpoints will work
with the <b>list</b> command.)  As a side note, <b>list</b> also works in dumb terminal mode.</p>

<p>Now, notice that we passed the name of the executable on the command
line.  Another option you have is to just start <b>gdb</b> with nothing else on the command line, then give
it the command <b>file hello</b>, and that will cause
the executable "hello" to be loaded up.</p><p>Command line arguments!  What if you have to get something into <tt>argv</tt> in your program?  Pass them as arguments to
the <b>run</b> command when you start execution:</p>

<pre>$ <b>gdb hello</b>
GNU gdb 6.8
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i486-slackware-linux"...
(gdb) <b>run arg1 arg2</b>
Starting program: /home/beej/hello arg1 arg2
Hello, world!

Program exited normally.
(gdb) 
</pre>

<p>Notice where it says "Starting Program", above, it shows the
arguments "arg1" and "arg2" being passed to "hello".</p>

<!-- ================================================================ -->
<a name="breakpoints"></a>
<h2>Breakpoints</h2>

<p>Just starting the debugger to run the program straight through isn't
very useful—we need to stop execution and get into stepping
mode.

</p><p>First, before you issue the <b>run</b> command, you
need to set a breakpoint someplace you'd like to stop.  You use the <b>break</b> or <b>b</b> command, and
specify a location, which can be a function name, a line number, or a
source file and line number.  These are examples of locations, which are
used by various other commands as well as <b>break</b>:</p>

<center><table>

<tbody><tr><td><b>break main</b></td><td>Break at the beginning of the <tt>main()</tt> function</td></tr>

<tr><td><b>break 5</b></td><td>Break at line 5 of the current file</td></tr>

<tr><td><b>break hello.c:5</b></td><td>Break at line 5 of <tt>hello.c</tt></td></tr>

</tbody></table>
</center>

<p>So for this test, let's set a breakpoint at <tt>main()</tt>, and start the program:

</p><pre>$ <b>gdb hello</b>
GNU gdb 6.8
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i486-slackware-linux"...
(gdb) <b>b main</b>
Breakpoint 1 at 0x8048395: file hello.c, line 5.
(gdb) <b>r</b>
Starting program: /home/beej/hello 

Breakpoint 1, main () at hello.c:5
5		printf("Hello, world!\n");
(gdb)
</pre>

<p>As you see, we've arrived at <tt>main()</tt> and
execution has stopped at the breakpoint we set there.  If you're running
in dumb terminal mode, <b>gdb</b> will print the line it
will execute next.  If you're running in cool GUI mode, the line it will
execute next will be highlighted in the source window.</p>

<p>To list the current breakpoints, use the <b>info</b> command, like so: "<b>info
breakpoints</b>" (or the shorter "<b>i b</b>"):</p>

<pre>(gdb) <b>b main</b>
Breakpoint 1 at 0x8048395: file hello.c, line 5.
(gdb) <b>i b</b>
Num     Type           Disp Enb Address    What
1       breakpoint     keep y   0x08048395 in main at hello.c:5
</pre>

<p>To clear a breakpoint, use the <b>clear</b> command
with the breakpoint location.  You can also clear a breakpoint by number
with the <b>delete</b> command.</p>

<p>Additionally, you can <b>enable</b> or <b>disable</b> breakpoints, though these two commands
take a breakpoint number as an argument, not a location!  The
enabled/disabled status of a breakpoint is visible under the "Enb"
column in the breakpoint listing.</p>

<pre>(gdb) <b>i b</b>
Num     Type           Disp Enb Address    What
1       breakpoint     keep y   0x08048395 in main at hello.c:5
(gdb) <b>disable 1</b>
(gdb) <b>i b</b>
Num     Type           Disp Enb Address    What
1       breakpoint     keep n   0x08048395 in main at hello.c:5
(gdb) <b>clear main</b>
Deleted breakpoint 1 
(gdb) <b>i b</b>
No breakpoints or watchpoints.
</pre>

<!-- ================================================================ -->
<a name="stepping"></a>
<h2>Stepping Around</h2>

<p>Once execution stops at a breakpoint, you can tell the debugger to do
a few things.  Let's start with the <b>next</b>
command (or <b>n</b>).  This command moves you to the
next statement in the current function (or returns to the function's
caller if you've stepped off the end of the function.)  Here's a sample
run; remember that <b>gdb</b> is printing the line <i>it
will execute next</i> just before the "(gdb)" prompt.  Also notice that
when we run <b>next</b> on the <tt>printf()</tt> line, we see the output appear.</p>

<pre>(gdb) <b>b main</b>
Breakpoint 1 at 0x8048395: file hello.c, line 5.
(gdb) <b>r</b>
Starting program: /home/beej/hello 

Breakpoint 1, main () at hello.c:5
5		printf("Hello, world!\n");
(gdb) <b>next</b>
Hello, world!
7		return 0;
(gdb) <b>next</b>
8	}
(gdb) <b>next</b>
0xb7d6c6a5 in __libc_start_main () from /lib/libc.so.6
(gdb) <b>next</b>
Single stepping until exit from function __libc_start_main, 
which has no line number information.

Program exited normally.
(gdb) 
</pre>

<p>(That weird stuff at the end about <tt>
__libc_start_main()</tt> shows you that there was another function that
called your <tt>main()</tt> function!  It wasn't
compiled with debugging information so we can't see the source, but we
can still step through it—which we do—and the program exits
normally.)</p>

<p>Now, notice that <b>next</b> <i>steps over</i>
function calls. This doesn't mean that function doesn't get called; it
means that <b>next</b> will execute the function until
it's done, and then return you to the next line in your current
function.</p>

<p>What if you have a function you want to <i>step into</i> from your
current function, and trace through that function line-by-line?  Use the
<b>step</b> (or <b>s</b>) command to
do this.  It works just like <b>next</b>, except it
steps into functions.</p>

<p>Let's say you're tired of single stepping, and just want the program
to run again.  Use the <b>continue</b> (or <b>c</b>) command to continue execution.</p><p>What if the program is running but you forgot to set breakpoints?
You can hit <b>CTRL-C</b> and that'll stop the program
wherever it happens to be and return you to a "(gdb)" prompt.  At that
point, you could set up a proper breakpoint somewhere and <b>continue</b> to that breakpoint.</p>

<p>One final shortcut is that just hitting <b>RETURN</b> will repeat the last command entered; this
will save you typing <b>next</b> over and over
again.</p>

<!-- ================================================================ -->
<a name="exvars"></a>
<h2>Examining Variables</h2>

<p>If you have some variables you wish to inspect over the course of the
run, you can <b>display</b> them, but only if the
variable is currently in scope.  Each time you step the code, the value
of the variable will be displayed (if it's in scope).</p>

<p>(The following output is missing source code output between lines for
clarity—it's what you'd see in GUI mode.  Imagine you're seeing
the highlight bar bouncing around the source code while you're running
this:)</p>

<pre>(gdb) <b>b main</b>
Breakpoint 1 at 0x8048365: file hello.c, line 5.
(gdb) <b>r</b>
Starting program: /home/beej/hello 

Breakpoint 1, main () at hello.c:5
(gdb) <b>disp i</b>
1: i = -1207447872
(gdb) <b>next</b>
1: i = 1
(gdb) <b>next</b>
1: i = 1
(gdb) <b>next</b>
1: i = 2
(gdb) <b>next</b>
1: i = 2
(gdb) <b>next</b>
1: i = 4
(gdb) <b>next</b>
1: i = 4
(gdb) <b>next</b>
1: i = 4
(gdb) 
</pre>

<p>The number to the left of "i", above, is the display number of the
variable.  Use this number to <b>undisplay</b> the
variable.  If you forget the display numbers, you can type <b>info display</b> to get them:</p>

<pre>(gdb) <b>b main</b>
Breakpoint 1 at 0x8048365: file hello.c, line 5.
(gdb) <b>r</b>
Starting program: /home/beej/hello 

Breakpoint 1, main () at hello.c:5
(gdb) <b>display i</b>
1: i = -1207447872
(gdb) <b>info display</b>
Auto-display expressions now in effect:
Num Enb Expression
1:   y  i
(gdb) <b>undisplay 1</b>
(gdb)
</pre>

<p>If you just want to one-off know the value of a variable, you can <b>print</b> it.  Here we see the value of "i" is 40:</p>

<pre>(gdb) <b>print i</b>
$1 = 40
(gdb)
</pre>

<p>(The "$" with the number after it means something, but it's not
important for beginners.)</p>

<p>There's also a handy <b>printf</b> command that you
can use to better format your output if you want to:

</p><pre>(gdb) <b>printf "%d\n", i</b>
40
(gdb) <b>printf "%08X\n", i</b>
00000028
(gdb)
</pre>

<a name="misc"></a>

<!-- ================================================================ -->
<a name="misc"></a>
<h2>Misc Stuff</h2>

<p>This is stuff that doesn't really fit in the earlier sections, but it
fun enough to list somewhere.</p>

<!-- ============================ -->
<a name="stackman"></a>
<h3>Stack Manipulation</h3>

<p>The command <b>backtrace</b> (or <b>bt</b>) will show you the current function call
stack, with the current function at the top, and the callers in order
beneath it:</p>

<pre>(gdb) <b>backtrace</b>
#0  subsubfunction () at hello.c:5
#1  0x080483a7 in subfunction () at hello.c:10
#2  0x080483cf in main () at hello.c:16
(gdb)
</pre>

<p>Type <b>help stack</b> for more info on what you
can do with this.</p>

<!-- ============================ -->
<a name="morestep"></a>
<h3>Additional Stepping Methods</h3>

<p>To exit the current function and return to the calling function, use
the <b>finish</b> command.</p>

<p>To step for a single assembly instruction, use the <b>stepi</b> command.</p>

<p>To continue to a specific location, use the <b>advance</b> command, specifying a location like those
shown in the "<a href="#breakpoints">Breakpoints</a>" section, above.
Here's an example which advances from the current location until the
function <tt>subsubfunction()</tt> is called:</p>

<pre>Breakpoint 1, main () at hello.c:15
15		printf("Hello, world!\n");
(gdb) <b>advance subsubfunction</b>
Hello, world!
subsubfunction () at hello.c:5
5		printf("Deepest!\n");
(gdb) 
</pre>

<p><b>advance</b> is just shorthand for "continue to
this temporary breakpoint."</p>

<!-- ============================ -->
<a name="jump"></a>
<h3>Jumping to an Arbitrary Section of Code</h3>

<p>The <b>jump</b> command works exactly like <b>continue</b>, except it takes a location to jump to as
an argument.  (See the the "<a href="#breakpoints">Breakpoints</a>"
section, above, for more information on locations.)</p>

<p>If you need to stop at the jump destination, set a breakpoint there
first.</p>

<!-- ============================ -->
<a name="varmod"></a>
<h3>Changing Variables and Values at Runtime</h3>

<p>You can use the <b>set variable</b> command with an
expression to evaluate, and this allows you to change the value of a
variable during the run.  You can also shorthand this by just using <b>set</b> with a parenthesized expression after it:</p>

<pre>Breakpoint 1, main () at hello.c:15
15		int i = 10;
(gdb) <b>print i</b>
$1 = -1208234304
(gdb) <b>set (i = 20)</b>
(gdb) <b>print i</b>
$2 = 20
(gdb) <b>set variable i = 40</b>
(gdb) <b>print i</b>
$3 = 40
(gdb) 
</pre>

<p>This, along with the <b>jump</b> command, can help
you repeat sections of code without restarting the program.</p>

<!-- ============================ -->
<a name="hardwatch"></a>
<h3>Hardware Watchpoints</h3>

<p>Hardware watchpoints are special breakpoints that will trigger
whenever an expression changes.  Often you just want to know when a
variable changes (is written to), and for that you can use the <b>watch</b> command:</p>

<pre>Breakpoint 1, main () at hello.c:5
5		int i = 1;
(gdb) <b>watch i</b>
Hardware watchpoint 2: i
(gdb) <b>continue</b>
Continuing.
Hardware watchpoint 2: i

Old value = -1208361280
New value = 2
main () at hello.c:7
7		while (i &lt; 100) {
(gdb) <b>continue</b>
Continuing.
Hardware watchpoint 2: i

Old value = 2
New value = 3
main () at hello.c:7
7		while (i &lt; 100) {
(gdb)
</pre>

<p>Note that <b>watch</b> takes an expression as an
argument, so you can put a variable name in there, or something more
complex like <tt>*(p+5)</tt> or <tt>a[15]</tt>.  I've even tried it with conditional
expressions like <tt>i&nbsp;&gt;&nbsp;10</tt>, but have had
mixed results.</p>

<p>You can get a list of watch points with <b>info
break</b> or <b>info watch</b>, and you can delete
them by number with the <b>delete</b> command.</p>

<p>Finally, you can use <b>rwatch</b> to detect when a
variable is read, and you can use <b>awatch</b> to
detect when a variable is either read or written.</p>

<!-- ============================ -->
<a name="attach"></a>
<h3>Attach to a Running Process</h3>

<p>If your program is already going and you want to stop it and debug,
first you'll need the process ID (PID), which will be a number.  (Get it
from Unix's <b>ps</b> command.)  Then you'll use the <b>attach</b> command with the PID to attach to (and
break) the running program.</p>

<p>For this, you can just start <b>gdb</b> with no
arguments.</p>

<p>In the following complete run, you'll notice a few things.  First I
attach to the running process, and it tells me it's in some function
deep down called <tt>__nanosleep_nocancel()</tt>, which
isn't too surprising since I called <tt>sleep()</tt> in
my code.  Indeed, asking for a <b>backtrace</b> shows
exactly this call stack.  So I say <b>finish</b> a
couple times to get back up to <tt>main()</tt>.

</p><pre>$ <b>gdb</b>
GNU gdb 6.8
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "i486-slackware-linux".
(gdb) <b>attach 3490</b>
Attaching to process 3490
Reading symbols from /home/beej/hello...done.
Reading symbols from /lib/libsafe.so.2...done.
Loaded symbols for /lib/libsafe.so.2
Reading symbols from /lib/libc.so.6...done.
Loaded symbols for /lib/libc.so.6
Reading symbols from /lib/libdl.so.2...done.
Loaded symbols for /lib/libdl.so.2
Reading symbols from /lib/ld-linux.so.2...done.
Loaded symbols for /lib/ld-linux.so.2
0xb7eab21b in __nanosleep_nocancel () from /lib/libc.so.6
(gdb) <b>backtrace </b>
#0  0xb7eab21b in __nanosleep_nocancel () from /lib/libc.so.6
#1  0xb7eab05f in sleep () from /lib/libc.so.6
#2  0x080483ab in main () at hello.c:10
(gdb) <b>finish</b>
Run till exit from #0  0xb7eab21b in __nanosleep_nocancel ()
   from /lib/libc.so.6
0xb7eab05f in sleep () from /lib/libc.so.6
(gdb) <b>finish</b>
Run till exit from #0  0xb7eab05f in sleep () from /lib/libc.so.6
0x080483ab in main () at hello.c:10
10			sleep(1);
(gdb) <b>list</b>
5	{
6		int i = 1;
7	
8		while (i &lt; 60) {
9			i++;
10			sleep(1);
11		}
12	
13		return 0;
14	}
(gdb) <b>print i</b>
$1 = 19
(gdb) <b>quit</b>
The program is running.  Quit anyway (and detach it)? (y or n) <b>y</b>
Detaching from program: /home/beej/hello, process 3490
</pre>

<p>Notice that when I get back to <tt>main()</tt>, I
print the value of <tt>i</tt> and it's 19—because in this case the
program has been running for 19 seconds, and <tt>i</tt> gets incremented
once per second.</p>

<p>Once we've quit the debugger and detached from the program, the
program returns to running normally.</p>

<p>Mix this with <b>set variable</b>, above, and
you've got some power!</p>

<!-- ============================ -->
<a name="coredump"></a>
<h3>Using Coredumps for Postmortem Analysis</h3>

<p>Let's say you build and run a program, and it dumps core on you for
some reason or another:</p>

<pre>$ <b>cc -g -o foo foo.c</b>
$ <b>./foo</b>
Segmentation fault (core dumped)
</pre>

<p>This means that a core file (with a memory snapshot from the time of
the crash) has been created with the name "core".  If you're not getting
a core file (that is, it only says "Segmentation fault" and no core file
is created), you might have your ulimit set too low; try typing <b>ulimit&nbsp;-c&nbsp;unlimited</b> at your shell
prompt.</p>

<p>You can fire up <b>gdb</b> with the <b>-c</b> option to specify a core file:</p>

<pre>$ <b>gdb -tui -c core foo</b>
</pre>

<p>And, if in TUI mode, you'll be greeted with a screen of information,
telling you why the program exited ("signal 11, Segmentation fault"),
and the highlight will be on the offending line.  (In dumb terminal
mode, the offending line is printed out.)</p>

<p>In this example, I print the variable that's causing the problem.
Indeed it is NULL:</p>

<center><img src="https://beej.us/guide/bggdb/coredump.png"></center>

<p>Even if you don't have all the source code, it's often useful to get
a <b>backtrace</b> from the point the program
crashed.</p>

<!-- ============================ -->
<a name="window"></a>
<h3>Window Functions</h3>

<p>In TUI mode, you can get a list of existing windows with the <b>info win</b> command.  You can then change which
window has focus with the <b>focus</b> (or <b>fs</b>) command.  <b>focus</b> takes
either a window name, or "prev" or "next" as an argument.  Valid window
names are "SRC" (source window), "CMD" (command window), "REGS"
(registers window), and "ASM" (assembly window).  See the next section
for how to use these other windows.</p>

<p>Note that when the SRC window has focus, the arrow keys will move the
source code, but when the CMD window has focus, the arrow keys will
select the previous and next commands in the command history.  (For the
record, the commands to move the SRC window single lines and single
pages are <b>+</b>, <b>-</b>, <b>&lt;</b>, and <b>&gt;</b>.)</p>

<pre>(gdb) <b>info win</b>
        SRC     (36 lines)  &lt;has focus&gt;
        CMD     (18 lines)
(gdb) <b>fs next</b>
Focus set to CMD window.
(gdb) <b>info win</b>
        SRC     (36 lines)
        CMD     (18 lines)  &lt;has focus&gt;
(gdb) <b>fs SRC</b>
Focus set to SRC window.
(gdb)
</pre>

<p>(Window names are case in-sensitive.)</p>

<p>The <b>winheight</b> (or <b>wh</b>) command sets the height of a particular
window, but I've had bad luck with this working well.</p>

<!-- ============================ -->
<a name="regasm"></a>
<h3>Display Registers and Assembly</h3>

<p>In TUI mode, the <b>layout</b> command controls
which windows you see.  Additionally, the <b>tui
reg</b> allows control of the register window, and will open it if it's
not already open.</p>

The commands are:

<center><table>

<tbody><tr><td><b>layout src</b></td><td>Standard layout—source on top, command window on the
bottom</td></tr>

<tr><td><b>layout asm</b></td><td>Just like the "src" layout, except it's an assembly window
on top</td></tr>

<tr><td><b>layout split</b></td><td>Three windows: source on top, assembly in the middle, and
command at the bottom</td></tr>

<tr><td><b>layout reg</b></td><td>Opens the register window on top of either source or
assembly, whichever was opened last</td></tr>

<tr><td><b>tui&nbsp;reg&nbsp;general</b></td><td>Show the general registers</td></tr>

<tr><td><b>tui reg float</b></td><td>Show the floating point registers</td></tr>

<tr><td><b>tui&nbsp;reg&nbsp;system</b></td><td>Show the "system" registers</td></tr>

<tr><td><b>tui reg next</b></td><td>Show the next page of registers—this is important
because there might be pages of registers that aren't in the "general",
"float", or "system" sets</td></tr>

</tbody></table></center>

<p>Here's a nifty screenshot to whet your appetite, showing source and
assembly in "split" mode:</p>

<center><img src="https://beej.us/guide/bggdb/gdbwinss.png"></center>

<p>Assembly code comes in two flavors on Intel machines: Intel and
AT&amp;T.  You can set which one appears in the disassembly window with
<b>set disassembly-flavor</b>.  Valid values are
"intel" and "att".  If you already have the assembly window open, you'll
have to close it and reopen it (<b>layout src</b>
followed by <b>layout split</b>, for example.)</p>

<p>To display registers in dumb terminal mode, type <b>info registers</b> for the integer registers, or <b>info all-registers</b> for everything.</p>

<!-- ============================ -->
<a name="frontend"></a>
<h3>Writing a Front-End</h3>

<p>You're thinking, "Wow, this is pretty cool, but I could write a
killer front-end for this thing that worked so much better!  How do I do
it?"</p>

<p>GDB supports what it calls the "machine interface interpreter", or
GDB/MI.  The interpreter is selected on the <b>gdb</b>
command line with the <b>--interpreter</b> switch.</p>

<p>Basically you'll launch <b>gdb</b> and read commands
and results to and from it (probably using pipes).  Pretty
straightforward.</p>

<p>See the <a target="_blank" href="http://sourceware.org/gdb/current/onlinedocs/gdb_26.html#SEC263">GDB
documentation for all the details</a>.</p>


<!-- ================================================================ -->
<a name="qref"></a>
<h2>Quick Reference</h2>

<p>Command parameters are in italics.  Optional parameters are in square
brackets.  All commands can be abbreviated until they become ambiguous.</p>

<p><i>This list is very very incomplete, and only shows things talked
about in this tutorial!</i></p>

<center><table>

<tbody><tr><td colspan="2"><b>Help Commands</b></td></tr>

<tr><td><b>help
<i>command</i></b></td><td>Get help on a certain command</td></tr>

<tr><td><b>apropos
<i>keyword</i></b></td><td>Search help for a particular
keyword</td></tr>



<tr><td colspan="2"><b>Starting and Quitting</b></td></tr>

<tr><td><b>gdb <i>[-tui]
[-c core] [exename]</i></b></td><td><b>(Unix Command)</b>
Start <b>gdb</b> on an executable or standalone; specify
"-tui" to start the TUI GUI; specify "-c" with a corefile name to see
where a crash occurred</td></tr>

<tr><td><b>run <i>[arg1] [arg2]
[...]</i></b></td><td>Run the currently loaded program with
the given command line arguments</td></tr>

<tr><td><b>quit</b></td><td>Exit the debugger</td></tr>

<tr><td><b>file
<i>exename</i></b></td><td>Load an executable file by
name</td></tr>



<tr><td colspan="2"><b>Breakpoints and Watchpoints</b></td></tr>

<tr><td><b>break
<i>location</i></b></td><td>Set a breakpoint at a location,
line number, or file (e.g. "main", "5", or "hello.c:23")</td></tr>

<tr><td><b>watch
<i>expression</i></b></td><td>Break when a variable is
written to</td></tr>

<tr><td><b>rwatch
<i>expression</i></b></td><td>Break when a variable is
read from</td></tr>

<tr><td><b>awatch
<i>expression</i></b></td><td>Break when a variable is
written to or read from</td></tr>

<tr><td><b>info break</b></td><td>Display breakpoint and watchpoint information and numbers</td></tr>

<tr><td><b>info watch</b></td><td>Same as <b>info break</b></td></tr>

<tr><td><b>clear
<i>location</i></b></td><td>Clear a breakpoint from a
location</td></tr>

<tr><td><b>delete <i>num</i></b></td><td>Delete a breakpoint or watchpoint by number</td></tr>


<tr><td colspan="2"><b>Stepping and Running</b></td></tr>

<tr><td><b>next</b></td><td>Run to the next line of this function</td></tr>

<tr><td><b>step</b></td><td>Step into the function on this line, if possible</td></tr>

<tr><td><b>stepi</b></td><td>Step a single assembly instruction</td></tr>

<tr><td><b>continue</b></td><td>Keep running from here</td></tr>

<tr><td><b>CTRL-C</b></td><td>Stop running, wherever you are</td></tr>

<tr><td><b>finish</b></td><td>Run until the end of the current function</td></tr>

<tr><td><b>advance
<i>location</i></b></td><td>Advance to a location,
line number, or file (e.g. "somefunction", "5", or "hello.c:23")</td></tr>

<tr><td><b>jump <i>location</i></b></td><td>Just like <b>continue</b>, except jump to
a particular location first.</td></tr>


<tr><td colspan="2"><b>Examining and Modifying Variables</b></td></tr>

<tr><td><b>display
<i>expression</i></b></td><td>Display the value of a
variable or expression every step of the program—the expression
must make sense in the current scope</td></tr>

<tr><td><b>info display</b></td><td>Show a list of expressions currently being displayed and
their numbers</td></tr>

<tr><td><b>undisplay
<i>num</i></b></td><td>Stop showing an expression
identified by its number (see <b>info display</b>)</td></tr>

<tr><td><b>print
<i>expression</i></b></td><td>Print the value of a variable
or expression</td></tr>

<tr><td><b>printf&nbsp;<i>formatstr</i>&nbsp;<i>expressionlist</i></b></td><td>Do some
formatted output with <tt>printf()</tt> e.g. <tt>printf&nbsp;"i&nbsp;=&nbsp;%d,&nbsp;p&nbsp;=&nbsp;%s\n",&nbsp;i,&nbsp;p</tt></td></tr>

<tr><td><b>set variable
<i>expression</i></b></td><td>Set a variable to value, e.g.
<tt>set&nbsp;variable&nbsp;x=20</tt></td></tr>

<tr><td><b>set
(<i>expression</i>)</b></td><td>Works like <b>set variable</b></td></tr>


<tr><td colspan="2"><b>Window Commands</b></td></tr>

<tr><td><b>info win</b></td><td>Shows current window info</td></tr>

<tr><td><b>focus
<i>winname</i></b></td><td>Set focus to a particular window
bby name ("SRC", "CMD", "ASM", or "REG") or by position ("next" or
"prev")</td></tr>

<tr><td><b>fs</b></td><td>Alias for <b>focus</b></td></tr>

<tr><td><b>layout <i>type</i></b></td><td>Set the window layout ("src", "asm", "split", or "reg")</td></tr>

<tr><td><b>tui reg <i>type</i></b></td><td>Set the register window layout ("general", "float",
"system", or "next")</td></tr>

<tr><td><b>winheight <i>val</i></b></td><td>Set the window height (either an absolute value, or a
relative value prefaced with "+" or "-")</td></tr>

<tr><td><b>wh</b></td><td>Alias for <b>winheight</b></td></tr>

<tr><td><b>set&nbsp;disassembly-flavor&nbsp;<i>flavor</i></b></td><td>Set the look-and-feel of the disassembly.  On Intel
machines, valid flavors are <b>intel</b> and <b>att</b></td></tr>



<tr><td colspan="2"><b>Misc Commands</b></td></tr>

<tr><td><b>RETURN</b></td><td>Hit RETURN to repeat the last command</td></tr>

<tr><td><b>backtrace</b></td><td>Show the current stack</td></tr>

<tr><td><b>bt</b></td><td>Alias for <b>backtrace</b></td></tr>

<tr><td><b>attach <i>pid</i></b></td><td>Attach to an already-running process by its PID</td></tr>

<tr><td><b>info registers</b></td><td>Dump integer registers to screen</td></tr>

<tr><td><b>info all-registers</b></td><td>Dump all registers to screen</td></tr>

<!--
<tr><td align="left" colspan="2"><b class="tableheader"></b></td></tr>
<tr><td class="rightpad" align="left"><b class="userinput"></b></td><td align="left"></td></tr>
-->
</tbody></table></center>

<hr>

<p>Copyright 2009 Brian "Beej Jorgensen" Hall 
&lt;<a href="mailto:beej@beej.us">beej@beej.us</a>&gt;</p>




</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Drunk grizzlies keep getting hit by trains in Montana (155 pts)]]></title>
            <link>https://cowboystatedaily.com/2023/11/04/63-grizzlies-some-drunk-on-fermented-grain-killed-by-trains-in-montana/</link>
            <guid>38155324</guid>
            <pubDate>Sun, 05 Nov 2023 20:29:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cowboystatedaily.com/2023/11/04/63-grizzlies-some-drunk-on-fermented-grain-killed-by-trains-in-montana/">https://cowboystatedaily.com/2023/11/04/63-grizzlies-some-drunk-on-fermented-grain-killed-by-trains-in-montana/</a>, See on <a href="https://news.ycombinator.com/item?id=38155324">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><section><p>Getting “drunk” on fermented grain has killed dozens of grizzly bears along a treacherous stretch of rail line near Glacier National Park, Montana.</p><p>Since 1980, 63 bears have been killed along a stretch of rail line that&nbsp;goes over Marias Pass and the Great Bear Wilderness, according to reports from state and federal wildlife agencies. The worst year on record was 2019, when eight grizzlies were killed by trains, and three have been killed so far this year.</p><p>Many of them likely died during a “drunken attempt” to outrun the trains, a Wyoming bear expert said.</p><p>Grain spilled from railcars along the tracks can be a tempting treat for bears, retired federal ecologist Chuck Neal of Cody told Cowboy State Daily.</p><p>With enough moisture from snow and rain, “the spilled grain actually ferments in place and becomes a de facto brewery,” he said.</p><h4><strong>Two Bear Populations</strong></h4><p>There are two major populations of grizzlies in the Lower 48, each of them estimated at more than 1,000 bears. Wyomingites are most familiar with Greater Yellowstone Ecosystem grizzles, which occupy expansive territory in Wyoming, Montana and Idaho.</p><p>The grizzlies getting killed by trains near Glacier Park belong to the Northern Continental Divide grizzly population. It’s centered in the rugged mountains for northwest Montana, but some of those bears also have been <a href="https://cowboystatedaily.com/2023/07/19/now-grizzlies-are-starting-to-move-back-to-the-prairies-of-montana/" target="_blank" rel="noopener noreferrer"><u>pushing out into Montana’s prairies</u></a>. &nbsp;</p><p>So far, the two populations have remained distinct. However, they are about only 60 miles apart in some places and could be <a href="https://cowboystatedaily.com/2023/07/23/wyoming-montana-grizzlies-close-to-meeting-up-co-mingling/" target="_blank" rel="noopener noreferrer"><u>close to comingling</u></a>, which conservationists say could be pivotal to the long-term vitality of the species in the Lower 48.</p><h4><strong>Yellowstone Bears Hit By Vehicles, Not Trains</strong></h4><p>Trains can be a threat to grizzlies in some areas, such as near Glacier Park or in parts of Canada, biologist Frank van Manen told Cowboy State Daily. He heads the U.S. Geological Survey’s Interagency Grizzly Bear Study Team in the GYE.</p><p>Luckily for GYE grizzlies, getting hit by trains hasn’t been a problem yet, he said.</p><p>“We are fortunate to not have that issue as a mortality source in the GYE,” he said. “Mortalities from train collisions are also a major issue in several Canadian parks, sometimes representing the main source of mortality.”</p><p>Vehicles have taken a toll on grizzlies the GYE.</p><p>So far this year, six grizzlies have been killed by vehicles, including one each on the North Fork and South Fork highways near Cody, and one in the Grayling Creek area of Yellowstone National Park, according to USGS reports.</p><p>One of Wyoming’s most famous bears, Grizzly 610, was struck by a vehicle on U.S. Highway 89 on Oct. 9 and languished by the roadside for several hours. Much to the relief of her worldwide fanbase, she appeared to recover fully and<a href="https://cowboystatedaily.com/2023/10/16/grizzly-610-back-with-her-cubs-moving-normally-a-week-after-hit-and-run/" target="_blank" rel="noopener noreferrer"><u> reunited with her three yearling cubs.</u></a></p><div><figure><div data-radix-aspect-ratio-wrapper=""><p><img decoding="async" loading="lazy" srcset="https://cowboystatedaily.imgix.net/Grizzly-on-railroad-tracks-11.4.23.jpg?ixlib=js-3.8.0&amp;q=75&amp;auto=format%2Ccompress&amp;fit=clip&amp;w=432 432w,
https://cowboystatedaily.imgix.net/Grizzly-on-railroad-tracks-11.4.23.jpg?ixlib=js-3.8.0&amp;q=75&amp;auto=format%2Ccompress&amp;fit=clip&amp;w=648 648w,
https://cowboystatedaily.imgix.net/Grizzly-on-railroad-tracks-11.4.23.jpg?ixlib=js-3.8.0&amp;q=75&amp;auto=format%2Ccompress&amp;fit=clip&amp;w=1280 1280w,
https://cowboystatedaily.imgix.net/Grizzly-on-railroad-tracks-11.4.23.jpg?ixlib=js-3.8.0&amp;q=75&amp;auto=format%2Ccompress&amp;fit=clip&amp;w=2048 2048w,
https://cowboystatedaily.imgix.net/Grizzly-on-railroad-tracks-11.4.23.jpg?ixlib=js-3.8.0&amp;q=75&amp;auto=format%2Ccompress&amp;fit=clip&amp;w=3840 3840w" sizes="(min-width: 768px) 80vw,(min-width: 1280px) 60vw,100vw" src="https://cowboystatedaily.imgix.net/Grizzly-on-railroad-tracks-11.4.23.jpg?ixlib=js-3.8.0&amp;q=75&amp;auto=format%2Ccompress" alt="Grizzly bears getting hit by trains isn't a big problem in Wyoming, but is still a concern for wildlife officials." uid="808a8770-58b4-4a0a-aaca-d05010653af2"></p></div><figcaption>Grizzly bears getting hit by trains isn't a big problem in Wyoming, but is still a concern for wildlife officials. (Getty Images)</figcaption></figure></div><h4><strong>Asleep On The Tracks</strong></h4><p>As for the Glacier Park bears, not enough is being done to protect them from getting hit by trains, Neal said.</p><p>And being intoxicated on fermented grains just makes things all the worse for the grizzlies.</p><p>Bears that are attracted to the fermented grain “might fall asleep right on site if they get drunk first. They can, and have, fallen asleep in a drunken stupor right on the tracks,” Neal said.</p><p>“Other times they&nbsp;loiter on the tracks until a train approaches,&nbsp;at high speed, then drunkenly attempt to outrun the train — no can do — and are smashed,” he added.</p><h4><strong>‘Bears Will Continue To Die’</strong></h4><p>Neal said he thinks the Burlington Northern Santa Fe (BNSF) rail company isn’t doing enough to protect the bears from such a terrible fate.</p><p>“BNSF have been stalling doing anything for some years believing that the grizzly is going to be delisted (from endangered species status), another reason I am against delisting, and they will not have to come up with some type of plan&nbsp;that will give them an ‘incidental take’ permit from USFWS (U.S. Fish and Wildlife Service),” Neal said.</p><p>“As for what can be done, one idea that has been tossed around is to have some type of noise maker triggered as trains approach known&nbsp;‘kill zones,’” he added. “Of course, if the bears are drunk, it is questionable how effective that would be.</p><p>“Another idea is to not load the train cars so full, an idea that BNSF does not like. Another idea is not run the trains under certain weather&nbsp;&nbsp;conditions when derailment possibilities increase, an idea that BNSF also does not like. So right now, the last word that I have is that not much has been done at all and the bears continue to die.”&nbsp;</p><p><em>Mark Heinz<!-- --> can be reached at<!-- --> <a href="mailto:mark@cowboystatedaily.com" rel="noopener noreferrer" target="_blank">mark@cowboystatedaily.com</a>.</em></p><div><p><h2>In case you missed it</h2></p></div></section></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Website is hosted on ESP32 ($3 chip) (194 pts)]]></title>
            <link>https://esp.khalsalabs.com</link>
            <guid>38154045</guid>
            <pubDate>Sun, 05 Nov 2023 18:31:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://esp.khalsalabs.com">https://esp.khalsalabs.com</a>, See on <a href="https://news.ycombinator.com/item?id=38154045">Hacker News</a></p>
<div id="readability-page-1" class="page">
<section>
    <h2> 

<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
  <!-- Outer rectangle -->
  <rect x="10" y="20" width="80" height="60" rx="10" ry="10" fill="#333"></rect>

  <!-- Inner rectangle (microchip) -->
  <rect x="20" y="30" width="60" height="40" rx="5" ry="5" fill="#bbb"></rect>

  <!-- Pins -->
  <circle cx="25" cy="25" r="3" fill="#555"></circle>
  <circle cx="35" cy="25" r="3" fill="#555"></circle>
  <circle cx="45" cy="25" r="3" fill="#555"></circle>
  <circle cx="55" cy="25" r="3" fill="#555"></circle>
  <circle cx="65" cy="25" r="3" fill="#555"></circle>
  <circle cx="75" cy="25" r="3" fill="#555"></circle>

  <circle cx="25" cy="75" r="3" fill="#555"></circle>
  <circle cx="35" cy="75" r="3" fill="#555"></circle>
  <circle cx="45" cy="75" r="3" fill="#555"></circle>
  <circle cx="55" cy="75" r="3" fill="#555"></circle>
  <circle cx="65" cy="75" r="3" fill="#555"></circle>
  <circle cx="75" cy="75" r="3" fill="#555"></circle>

</svg>



    </h2>
</section>
<section>
    <h2>This WebPage is hosted on ESP32</h2>
    <p>This website is up from November 1st, 2023.</p>
    <p>Tutorial about hosting <a href="https://khalsalabs.com/hosting-a-website-on-esp32-webserver-with-microdot-step-by-step-guide/">website on esp32</a></p>
</section>



</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why Cities: Skylines 2 performs poorly (822 pts)]]></title>
            <link>https://blog.paavo.me/cities-skylines-2-performance/</link>
            <guid>38153573</guid>
            <pubDate>Sun, 05 Nov 2023 17:54:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.paavo.me/cities-skylines-2-performance/">https://blog.paavo.me/cities-skylines-2-performance/</a>, See on <a href="https://news.ycombinator.com/item?id=38153573">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    

<article>
  <header>
    
    
    <p role="doc-subtitle">The teeth are not the only problem</p>
    
    <time datetime="2023-11-05">2023-11-05</time>
  </header>

  
  <details>
    <summary>
      Table of contents
    </summary>
    <ol>
      
      <li>
        <a href="https://blog.paavo.me/cities-skylines-2-performance/#this-is-not-a-performance-review">(This is not) a performance review</a>
        
      </li>
      
      <li>
        <a href="https://blog.paavo.me/cities-skylines-2-performance/#pulling-back-the-curtain">Pulling back the curtain</a>
        
        <ul>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#engine-and-architecture">Engine and architecture</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#attachment-issues">Attachment issues</a>
          </li>
          
        </ul>
        
      </li>
      
      <li>
        <a href="https://blog.paavo.me/cities-skylines-2-performance/#renderdoc-analysis">Renderdoc analysis</a>
        
        <ul>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#dots-instance-data-update">DOTS instance data update</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#simulation">Simulation</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#virtual-texturing-cache-update">Virtual texturing cache update</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#skybox-generation">Skybox generation</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#pre-pass">Pre-pass</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#the-teeth-controversy">The teeth controversy</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#pre-pass-continued-featuring-the-high-poly-hall-of-shame">Pre-pass continued, featuring the high poly hall of shame</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#motion-vectors">Motion vectors</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#roads-and-decals">Roads and decals</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#main-pass">Main pass</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#ambient-occlusion">Ambient occlusion</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#cascaded-shadow-mapping">Cascaded shadow mapping</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#screen-space-reflections-and-global-illumination">Screen space reflections and global illumination</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#deferred-lighting">Deferred lighting</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#weird-clothing-pass">Weird clothing pass</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#sky-rendering">Sky rendering</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#transparent-objects-pre-pass">Transparent objects pre-pass</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#water-rendering">Water rendering</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#particles-rain-and-transparent-objects">Particles, rain and transparent objects</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#vt-feedback-processing">VT feedback processing</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#bunch-of-post-processing">Bunch of post-processing</a>
          </li>
          
          <li>
            <a href="https://blog.paavo.me/cities-skylines-2-performance/#outlines-text-and-other-ui">Outlines, text and other UI</a>
          </li>
          
        </ul>
        
      </li>
      
      <li>
        <a href="https://blog.paavo.me/cities-skylines-2-performance/#summary-and-conclusions">Summary and conclusions</a>
        
      </li>
      
    </ol>
  </details>
  

  <p>One of the most highly anticipated PC games of the year <a href="https://www.paradoxinteractive.com/games/cities-skylines-ii/about">Cities: Skylines 2</a> was released last week to a <a href="https://opencritic.com/game/15195/cities-skylines-2">mixed reception</a>. My impression is that gameplay and simulation-wise it seems to be a step in the right direction, and at least on paper the game seems more well-rounded in terms of features than the original was at launch. There are however significant issues with the game, ranging from balance problems and questionable design choices to <a href="https://forum.paradoxplaza.com/forum/threads/im-export-bug-hints-symptoms-and-causes-all-resource-management-in-the-game-is-a-deception.1604434/page-4#post-29216506">bugs</a> rendering a lot of the game’s economic simulation almost pointless. Whether or not the game is a worthy successor to the original is an open question at this point, but one thing is almost universally agreed upon: the title’s performance is not up to par.</p>
<h2 id="this-is-not-a-performance-review"><a href="#this-is-not-a-performance-review" role="presentation" title="Link to subsection">
  
</a>(This is not) a performance review</h2>
<p>There were warning signs. Under a month before release date there was <a href="https://forum.paradoxplaza.com/forum/threads/cities-skylines-ii-console-release-window-faq.1600202/">an announcement</a> informing that the game’s recommended system requirements had been raised, and the console release was delayed to 2024. Quite a few YouTubers and streamers got early access to the game, but they were explicitly forbidden to talk about performance until the regular review embargo was lifted. This wasn’t exceptional as games tend to receive frequent performance optimizations and other fixes in the last few weeks before release, but it wasn’t a good sign either. Then, just a week before release Colossal Order issued <a href="https://forum.paradoxplaza.com/forum/threads/updates-on-modding-and-performance-for-cities-skylines-ii.1601865/">a statement</a> which I’d describe as a pre-emptive apology for the poor performance of the game. And then the game was released.</p>
<p>Simulation-heavy games like city builders can be surprisingly hard to run at a good framerate, but what makes Cities: Skylines 2 stand out is that on most systems and in most situations the game is <a href="https://devblogs.microsoft.com/directx/cpu-and-gpu-boundedness/">GPU-bound</a> — rather unusual for a game of this genre, as most games like this tend to be really heavy on the CPU (such as the original Cities: Skylines), but relatively light on graphics. Visually the game is an improvement on most aspects compared to the 2015 original, but nothing really justifies the game <a href="https://www.pcgameshardware.de/Cities-Skylines-2-Spiel-74219/Tests/Release-Benchmarks-Performance-Tuning-Tipps-1431613/2/">being harder to run</a> than maxed out Cyberpunk 2077 with path tracing enabled. Personally I’d even argue that C:S2 looks quite unpleasant; while individual models are relatively detailed and the sense of scale is impressive, the shading is decidedly last-gen and the screen is absolutely covered in rendering artifacts and poorly filtered textures. Comparing the game’s graphics to a relatively close competitor <a href="https://store.steampowered.com/app/916440/Anno_1800/">Anno 1800</a> (which was released in 2019) doesn’t do it any favours. Anno goes for a slightly more stylized look and in my humble opinion manages to look more polished and consistent, while <a href="https://www.guru3d.com/review/anno-1800-open-beta-pc-graphics-performance-benchmark-review/page-7/">offering decent performance</a> even on hardware that was considered low-to-mid range in 2019.</p>
<figure>
  <img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_character.jpeg" alt="A screenshot of a character in Cities: Skylines 2">
  <figcaption>There’s a lot going on this with this character: oddly smooth hair, weirdly chunky beard, suspicious moustache, 100% opaque drug dealer sunglasses, a seam between the head and the rest of the body, and painted-on clothes.</figcaption>
</figure>
<p>I’m not going to waste my time meticulously benchmarking the game because many others have done that already and to a significantly higher standard than I could. If you are interested in that, check out <a href="https://www.pcgameshardware.de/Cities-Skylines-2-Spiel-74219/Tests/Release-Benchmarks-Performance-Tuning-Tipps-1431613/2/">this written article</a> from PC Games Hardware (in German) or <a href="https://www.youtube.com/watch?v=l4DX6mUY78s">this video</a> from Gamers Nexus (in Americanese). I’ll summarize the results as such: when the settings are turned above the bare minimum (the “very low” graphics preset completely disables decadent luxuries such as shadows and fog) you need a graphics card that costs about 1000 to 2000 euros to run at the game at 60 frames per second at 1080p. As a comparison similar hardware in Alan Wake 2 — which was released the same week as C:S2 and is considered <a href="https://www.eurogamer.net/digitalfoundry-2023-alan-wake-2-optimised-settings-for-pc">by some</a> to be the best looking game of this console generation — <a href="https://www.techpowerup.com/review/alan-wake-2-performance-benchmark/8.html">reaches comparable average framerates</a> with all settings cranked <em>including path tracing</em>, either at 1440p without any upscaling magic or at 4K with some help from DLSS. I think that’s a good illustration of how bizarrely demanding C:S2 is.</p>
<figure>
  <img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_perf.png" alt="A screenshot of a CPU usage graph and utilization percentages for different aspects of hardware.">
  <figcaption>The game ran so poorly that Windows Game Bar refused to acknowledge there even was a framerate.</figcaption>
</figure>
<p>Some personal experiences to cap off this introduction: when I started the game for the first time on my relatively beefy gaming PC (equipped with an NVidia RTX 3080 graphics card, an AMD Ryzen 7 5800X CPU and a 5120x1440 super ultrawide monitor) I was greeted by a frame rate of under 10 FPS in the main menu. After tweaking the settings <a href="https://store.steampowered.com/news/app/949230/view/3744239011016263869">as instructed by the developer</a> (which involved disabling depth of field, motion blur and volumetric effects) my FPS reached almost 90. What made this especially bizarre was that the menu features just a static background image and a few buttons. Loading into an empty map gave me about 30 to 40 FPS, and the frame rate stayed around that level after playing for about an hour, with the occasional stutter. Let’s investigate.</p>
<figure>
  <img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_mainmenu.jpg" alt="A screenshot of a Cities: Skylines 2’s main menu.">
  <figcaption>100% GPU usage and 7 frames per second, everyone. Cropped from 32:9.</figcaption>
</figure>
<h2 id="pulling-back-the-curtain"><a href="#pulling-back-the-curtain" role="presentation" title="Link to subsection">
  
</a>Pulling back the curtain</h2>
<p>Cities: Skylines 2 like its predecessor is made in <a href="https://unity.com/">Unity</a>, which means the game can be decompiled and inspected quite easily using any .NET decompiler. I used <a href="https://www.jetbrains.com/decompiler/">JetBrains dotPeek</a> which has a decent Visual Studio -like UI with a large variety of search and analysis options. However static analysis doesn’t really tell us anything concrete about the rendering performance of the game. To analyze what’s going with rendering I used <a href="https://renderdoc.org/">Renderdoc</a>, an open source graphics debugger which has saved my bacon with <a href="https://blog.paavo.me/gpu-tilemap-rendering/">some of my previous GPU-y personal projects</a>.</p>
<h3 id="engine-and-architecture"><a href="#engine-and-architecture" role="presentation" title="Link to subsection">
  
</a>Engine and architecture</h3>
<p>Let’s go through some of the technical basics of the game. Cities: Skylines 2 uses <strong>Unity 2022.3.7</strong>, which is just a few months old at the time of writing. The most notable aspect of Unity 2022 was the stabilization of the <a href="https://unity.com/dots">DOTS</a> set of technologies which Unity has been working on for several years, and interestingly C:S2 seems to be largely built on top of this stuff, including the newfangled Entity Component System (ECS) implementation and Burst compiler. I’ve been interested in <a href="https://bevyengine.org/learn/book/getting-started/ecs/">the ECS architecture</a> for a few years and have experimented with implementations such as <a href="https://github.com/amethyst/specs">Specs</a>, <a href="https://github.com/amethyst/legion">Legion</a> and most recently <a href="https://bevyengine.org/">Bevy</a>, and if it weren’t for the many issues in this game I’d rather be writing about how ECS is basically the ideal architecture for a game like this. Cities: Skylines 2 seems to use DOTS to great effect as the game makes use of multiple CPU cores much more efficiently than its predecessor. Unfortunately a lot of the graphics-related issues are indirectly caused by the game’s use of DOTS. I’ll expand on that later.</p>
<figure>
  <img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_ecs.png" alt="A screenshot from dotPeek showing different ECS-related types from the game.">
  <figcaption>Judging by the code there are about 1200 different systems powering practically all of the game logic.</figcaption>
</figure>
<p>The game also utilizes a bunch of third party middleware and some custom / forked libraries. Unlike DOTS, Unity’s <a href="https://unity.com/features/ui-toolkit">UI Toolkit</a> is apparently still not ready for production as C:S2 uses HTML, CSS and JavaScript based <a href="https://coherent-labs.com/products/coherent-gameface/">Coherent Gameface</a> (what a name!) for its user interfaces. A brief glance at the JS bundle reveals that they are using React and bundling using Webpack. While this is something that is guaranteed to make the average native development purist yell at clouds and complain that the darned kids should get off their lawn, I think at least on paper this will make the game’s UIs significantly easier to maintain and modify than before. Other notable bundled libraries include <a href="https://instalod.com/">InstaLOD</a>, <a href="https://odininspector.com/odin-serializer">Odin Serializer</a>, and a DLL file for NVidia DLSS 3, even though the technology is not currently supported by the game.</p>
<p>For graphics rendering the game makes use of Direct3D 11 and Unity’s <a href="https://unity.com/srp/High-Definition-Render-Pipeline">High Definition Rendering Pipeline</a>, also known as HDRP. Unity’s regular rendering system only works with traditional <code>MonoBehaviour</code>-based game objects, so a game built using DOTS &amp; ECS needs something to bridge the gap. Unity has a package called <a href="https://docs.unity3d.com/Packages/com.unity.entities.graphics@1.1/manual/index.html">Entities Graphics</a>, but surprisingly Cities: Skylines 2 doesn’t seem to use that. The reason might be its relative immaturity and its limited set of supported rendering features; according to the <a href="https://docs.unity3d.com/Packages/com.unity.entities.graphics@1.1/manual/entities-graphics-versions.html">feature matrix</a> both skinning (used for animated models like characters) and occlusion culling (not rendering things that are behind other things) are marked as experimental, and virtual texturing (making GPU texture handling more complex but hopefully more efficient) is not supported at all. Instead it seems that Colossal Order decided to implement the glue between the ECS and the renderer by themselves, utilizing <a href="https://docs.unity3d.com/ScriptReference/Rendering.BatchRendererGroup.html"><code>BatchRendererGroup</code></a> and a lot of relatively low level code. I’ll cover this and its many implications in more detail later.</p>
<h3 id="attachment-issues"><a href="#attachment-issues" role="presentation" title="Link to subsection">
  
</a>Attachment issues</h3>
<p>Getting Renderdoc attached to a process and collecting rendering events is usually quite trivial. Normally you just need to provide Renderdoc the path of the executable, the working directory and some command line arguments, and then Renderdoc starts the binary and injects itself to the game process. However, my issue was that I had the game on Xbox Game Pass, which does some weird sandboxing and / or NTFS ownership magic to limit what you can do with the game files. Renderdoc was not allowed to read the game’s executable, even when running as administrator. Before I knew Game Pass was the problem I also tried to use <a href="https://developer.nvidia.com/nsight-graphics">NVidia Nsight Graphics</a>™️ instead (a tool similar to Renderdoc from NVidia), but it had the same issue. Ultimately I ended up solving that particular problem with my credit card: I bought the game again on Steam at full price, despite knowing it had severe issues. Sorry.</p>
<p>However, the Steam version didn’t immediately start co-operating either. This time the problem was Paradox Launcher, a little piece of bloatware used in most big budget Paradox-published titles. The launcher binary is also included in the Game Pass version, but at least on release it seemed to be completely unused. Basically when you start C:S2 from Steam it pops up Paradox Launcher, you click either Resume or Play, and then it actually runs the game binary. I tried to attach Renderdoc by running <code>Cities2.exe</code> directly but that didn’t work — it creates the game window, but then runs for a few seconds, opens the launcher and then exits. There is an option in Renderdoc called “Capture child processes” which should in theory make Renderdoc inject itself to all processes started by the target process — so it should attach itself to the launcher started by the game binary, and then get injected to the game binary again — but I think there was some extra layer of indirection which unfortunately prevented that from working. I configured Renderdoc to start Paradox Launcher directly, but in short that didn’t work either, as Steam and the launcher do some communication to select which game to start and to handle authentication / DRM thingies. Some of that communication happens through command line arguments which I was able to extract using <a href="https://learn.microsoft.com/en-us/sysinternals/downloads/process-explorer">Process Explorer</a>, but reusing the same arguments didn’t work either, so I gave up on that approach as well.</p>
<p>Ultimately I was able to finally attach Renderdoc by using the <a href="https://renderdoc.org/docs/window/capture_attach.html#global-process-hook">Global Process Hook</a> option, which the program hides by default and advices against using. It is a very invasive method of hooking as it injects a DLL to every single process that is started on the system, but hey, it worked! We can finally see what’s going on.</p>
<figure>
<blockquote>
<p>This place is a message... and part of a system of messages... pay attention to it!
Sending this message was important to us. We considered ourselves to be a powerful culture.
This place is not a place of honor... no highly esteemed deed is commemorated here... nothing valued is here.</p>
</blockquote>
<figcaption>— Renderdoc when you try to enable global process hooking.</figcaption>
</figure>
<p>I was later able to get NVidia Nsight Graphics™️ working as well. Instead of trying to start the game or the launcher, I opened Steam from Nsight and then started the game from Steam’s UI as usual. Ultimately I wasn’t able to get much more information out of Nsight than I already had from Renderdoc, as it seems that many of NSight’s profiling and performance focused features are not supported with D3D11.</p>
<h2 id="renderdoc-analysis"><a href="#renderdoc-analysis" role="presentation" title="Link to subsection">
  
</a>Renderdoc analysis</h2>
<p>I’ll preface this section by admitting that I’m not a professional graphics programmer nor even a particularly proficient hobbyist. I do graphics programming occasionally and have spent quite a lot of time toying with game engines, but I’m not an expert on either subject. I have never implemented Actual Proper Graphics Things like deferred rendering or cascaded shadow mapping, though I think I know how they should work in theory. So as difficult it might be to believe, there is a chance that I’m wrong about some of the things I’m about to say. If you think I’m wrong, please let me know!</p>
<p>Let’s begin by analyzing the following frame (click to open it as a new tab):</p>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_night.jpg" alt="A screenshot from Cities: Skylines 2 at night"></p>
<p>This is a decently complex frame, but it’s far from the scale the game can actually reach. This was captured in a town of about 1000 inhabitants under an hour into a new save. There’s rain and it’s night time, but in my experience neither moves the needle much in terms of performance. The game version was <code>1.0.11f1</code>, so the first post-release hotfix is included. It should be noted that latest patch at the time of publication (<code>1.0.12f1</code>) was released during the making of this article and it includes some improvements for the issues I’m about to describe, but it’s far from having solved all of them.</p>
<p>Renderdoc reports that the frame took about 87.8 milliseconds to render, which would average to about 11.4 FPS. The game was running at 30-40 FPS on average at the time, so either this frame is an outlier (which — as we’ve learned <a href="https://youtu.be/l4DX6mUY78s?t=546">from the Gamers Nexus video</a> — is ironically quite common) or perhaps more likely Renderdoc adds a bit of overhead in a way that affects the measurements, as all of the frames I’ve captured have reported slightly higher frame times than what I’ve seen in-game when playing normally. I’m making the assumption that even if Renderdoc does add some overhead, it adds it in a way that doesn’t completely invalidate the measurements, like making specific API calls take 10x longer than they normally would.</p>
<p>For reference, at consistent 60 FPS the frametime should always be about <code>1000 / 60 = 16.666...</code> milliseconds.</p>
<p>Here are some basic rendering statistics reported by Renderdoc:</p>
<pre><code><span>Draw calls: 6705
Dispatch calls: 191
API calls: 53361
Index/vertex bind calls: 8724
Constant bind calls: 25006
Sampler bind calls: 563
Resource bind calls: 13451
Shader set calls: 1252
Blend set calls: 330
Depth/stencil set calls: 301
Rasterization set calls: 576
Resource update calls: 1679
Output set calls: 739
API:Draw/Dispatch call ratio: 7.73796

342 Textures - 3926.25 MB (3924.10 MB over 32x32), 180 RTs - 2327.51 MB.
Avg. tex dimension: 1611.08x2212.36 (2133.47x2984.88 over 32x32)
4144 Buffers - 446.59 MB total 6.48 MB IBs 43.35 MB VBs.
6700.34 MB - Grand total GPU buffer + texture load.
</span></code></pre>
<p>There’s not much we can deduce from these figures alone. 6705 draw calls and over 50000 API calls both sound like a lot, but without further context their cost is hard to evaluate. 6.7 gigabytes of used video memory is a lot for a relatively simple scene like this, especially considering there are still current generation mid-tier graphics cards with only 8 gigabytes of VRAM.</p>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/renderdoc_events.png" alt="A screenshot from Renderdoc, showing API calls grouped by rendering pass."></p>
<p>Since the game uses HDRP <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@17.0/manual/rendering-excecution-order.html">its documentation</a> might serve as a good starting point for understanding the different rendering and compute passes the game perform on each frame. I’m not going to do a fancy graphics study like these legendary ones for <a href="http://www.adriancourreges.com/blog/2016/09/09/doom-2016-graphics-study/">DOOM 2016</a> and <a href="http://www.adriancourreges.com/blog/2015/11/02/gta-v-graphics-study/">GTA V</a>, but I’ll go through most of the rendering process step by step and highlight some of the more interesting things along the way.</p>
<h3 id="dots-instance-data-update"><a href="#dots-instance-data-update" role="presentation" title="Link to subsection">
  
</a>DOTS instance data update</h3>
<p>Almost every draw call the game makes uses <a href="https://learnopengl.com/Advanced-OpenGL/Instancing">instancing</a>, which is required in a game of this scale. To make instancing work the game has a single large buffer of instance data which contains everything necessary for rendering any and all objects. The contents and size of per-instance data varies by the type of entity but it seems that regular game objects like buildings take about 50 floats per instance, roads significantly more. I haven’t fully figured out how the buffer is managed because it’s a very complex system, but essentially the instance data for every visible object is updated to the buffer each frame, and the changes are then uploaded to the GPU. The buffer starts at about 60 megabytes, and is reallocated to a larger size when necessary.</p>
<p>The buffer is used for practically every draw call the game makes, and according to Renderdoc it’s at least available in every vertex and pixel shader, though I would assume it’s primarily only used in vertex shaders. It would be interesting to know how this buffer affects GPU’s cache as I would assume instances are not laid out in the buffer in the same order they are rendered and that could be a problem for caching, but I lack the expertise to figure that out. Regardless there is a certain cost associated with looking up data from this buffer for every vertex, and it might explain some of the issues regarding high poly meshes I’ll get to soon.</p>
<h3 id="simulation"><a href="#simulation" role="presentation" title="Link to subsection">
  
</a>Simulation</h3>
<p>Several compute shaders are used for graphics-related simulations, such as water, snow and particles, as well as skeletal animation. These take about 1.5 milliseconds in total, which is under 2% of frame time.</p>
<p>One early theory regarding the game’s poor performance was that maybe it was offloading a lot of the actual game simulation to the GPU, saving CPU time but taking processing power away from rendering. However, I can conclude based on both decompiled code and GPU calls that this is simply not the case.</p>
<h3 id="virtual-texturing-cache-update"><a href="#virtual-texturing-cache-update" role="presentation" title="Link to subsection">
  
</a>Virtual texturing cache update</h3>
<p>Remember how I mentioned that virtual texturing is not supported by Entities Graphics? Well, it seems that C:S2 implements its own virtual texturing / texture streaming system. I first assumed that the game is using <a href="https://unity.com/products/granite-sdk">Unity’s built-in solution</a> for that, but in traditional Unity fashion even though it was added to the engine in 2020 following an acquisition it remains as <a href="https://docs.unity3d.com/Manual/svt-streaming-virtual-texturing.html">experimental and unsupported</a> as ever (<a href="https://forum.unity.com/threads/feedback-wanted-streaming-virtual-texturing.849133/page-5#post-8371560">if not more so</a>).</p>
<p>What is virtual texturing, anyway? My understanding is that virtual texturing is an approach for loading and managing texture data in a potentially more memory efficient way than the méthode traditionnelle of using one GPU texture per texture asset. Textures are stored in texture atlases, which are basically fancier versions of sprite sheets (which I also happened to cover in my <a href="https://blog.paavo.me/gpu-tilemap-rendering/#shader-method-summarised-with-more-words-and-less-detail-than-the-original-article">GPU tile mapping article</a>). Atlases consist of tiles of a fixed size, and each tile can contain one or more textures. The trick which can save memory is that large textures can be split into multiple tiles, so if you have a large texture that is only visible in a small portion of the screen, you only need to load the tiles that are actually visible. Virtual texture visibility information is produced as a side product of normal rendering in a later pass, and the visibility information is used on the CPU side to determine which tiles need to be loaded and which can be unloaded. If you want to know more, <a href="https://docs.unrealengine.com/5.3/en-US/streaming-virtual-texturing-in-unreal-engine/">Unreal Engine’s documentation</a> seems to offer a great description of the technique in more detail. The game seems to use virtual texturing for all static 3D objects except the terrain.</p>
<figure>
  <img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_tiles.jpg" alt="A screenshot from Renderdoc, showing a virtual texture tile atlas.">
  <figcaption>One of the tile atlases used in the rendering of my example frame. Massively downscaled; the original is 16368x8448.</figcaption>
</figure>
<p>This approach to texturing is quite elegant in theory but it comes with many tradeoffs, and the game’s implementation still has some teething issues, such as high resolution textures sometimes failing to load even when the surface is close to the camera. The use of virtual texturing is also likely the culprit for the game’s lack of support for <a href="https://www.pcgamingwiki.com/wiki/Glossary:Anisotropic_filtering_(AF)">anisotropic texture filtering</a>, a standard feature in PC games since the beginning of the millennium.</p>
<p>The pass took about 0.5 milliseconds.</p>
<h3 id="skybox-generation"><a href="#skybox-generation" role="presentation" title="Link to subsection">
  
</a>Skybox generation</h3>
<p>The game uses Unity HDRP’s <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@17.0/manual/create-a-physically-based-sky.html">built-in sky system</a>, so it generates a skybox texture (a <a href="https://en.wikipedia.org/wiki/Cube_mapping">cubemap</a>) every frame. This takes about 0.65 milliseconds which is not a lot compared to everything else, but if the game was targeting 60 FPS it would be almost 4% of the total frame time budget.</p>
<h3 id="pre-pass"><a href="#pre-pass" role="presentation" title="Link to subsection">
  
</a>Pre-pass</h3>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_prepass.jpg" alt="A screenshot from Renderdoc, showing the normal/roughness buffer of my example frame."></p>
<p>Now we get to the actual rendering. C:S2 uses <a href="https://learnopengl.com/Advanced-Lighting/Deferred-Shading">deferred rendering</a>, which basically means that rendering is done in many phases and using several different intermediate render targets. The first phase is the pre-pass, which produces per-pixel depth, normal and (presumably) smoothness information into two separate textures.</p>
<p>This pass is surprisingly heavy as it takes about 8.2 milliseconds, or roughly about far too long, and this is where some of the biggest issues with the game’s rendering start to appear. But first we need to talk about <strong>THE TEETH</strong>.</p>
<h3 id="the-teeth-controversy"><a href="#the-teeth-controversy" role="presentation" title="Link to subsection">
  
</a>The teeth controversy</h3>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_mouth.png" alt="A screenshot from Renderdoc, showing a simply shaded mesh of a character’s mouth."></p>
<p>One bizarre yet popular talking point about Cities: Skylines 2’s performance is the fact that the character models have fully modelled teeth, even though there’s literally no way to see them in-game, unless we count using the photo mode and clipping the camera inside a character’s head. Reddit user Hexcoder0 did some digging using NVidia Nsight Graphics™️ and posted their findings in to <a href="https://www.reddit.com/r/CitiesSkylines/comments/17gfq13/the_game_does_render_individual_teeth_with_no_lod/">a thread</a> in the official subreddit (which inspired me to do my own research and write this pointlessly long article). It was revealed that not only does the game have fully modelled teeth, they are rendered <em>literally all the time</em> at maximum quality. More importantly this is the case for everything related to characters: none of the character meshes have any <a href="https://en.wikipedia.org/wiki/Level_of_detail_(computer_graphics)">LOD</a> variants. Colossal Order <a href="https://www.pcgamer.com/cities-skyline-2-dev-says-yes-our-characters-have-teeth-no-the-characters-teeth-are-not-affecting-performance/">was quick</a> to acknowledge this publicly, and they even referenced broader problems with LOD handling. Ignore all the weird rambling about simulating citizens’s teeth and whatnot; this is not <a href="https://www.pcgamer.com/how-cats-get-drunk-in-dwarf-fortress-and-why-its-creators-havent-figured-out-time-travel-yet/">Dwarf Fortress</a> so they are not doing that, and even if they were that obviously wouldn’t require rendering the teeth.</p>
<p>Colossal Order has also <a href="https://forum.paradoxplaza.com/forum/developer-diary/behind-the-scenes-5-citizen-characters.1602554/">told us that</a> that they are using a middleware called <a href="https://www.didimo.co/">Didimo Popul8</a> to generate the character models. If I recall correctly the teeth controversy began even before the game was released when someone noticed that the Didimo <a href="https://developer.didimo.co/docs/mesh">character specification</a> includes separate meshes for things like teeth and eyelashes. I had originally assumed that the game is using Didimo’s default character meshes — because to be honest they look very generic and soulless — but now I’m not so sure. The meshes in the game in fact have even more polygons than Didimo’s defaults: the infamous mouth / teeth model for example consists of 6108 vertices, significantly more than the default mesh’s 1060. A single character <em>even before we add hair, clothing and accessories</em> is about 56 thousand vertices, which is a lot. For context the average low-density residential building uses less than 10 thousand vertices before yard props and other details are added.</p>
<p>In this example frame the game renders 13 sets of teeth, and their visual impact on the frame is zero: not a single pixel is affected. Even the characters themselves contribute basically nothing to the frame except for noise and artifacts.</p>
<figure>
  <img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_citizen.png" alt="A screenshot from Renderdoc highlighting the impact a single charater has on the final image.">
  <figcaption>At this distance and rendering resolution an individual character (the purple Tetris block) affects a literal handful of pixels. Scaled 4x to make the individual pixels visible.</figcaption>
</figure>
<h3 id="pre-pass-continued-featuring-the-high-poly-hall-of-shame"><a href="#pre-pass-continued-featuring-the-high-poly-hall-of-shame" role="presentation" title="Link to subsection">
  
</a>Pre-pass continued, featuring the high poly hall of shame</h3>
<p>The egregiously unoptimized character models are not the sole cause of the game’s poor performance (because it’s never that easy), but they are an indicator of the broader issues with the game’s assets and rendering. The game regularly draws too many objects with too many polygons that have quite literally zero impact on the final image. This is not specific to the pre-pass, as the same issues seem to affect all rendering passes which rasterize geometry. I think there are two main causes for this:</p>
<ol>
<li>Some models don’t have any LOD variants at all.</li>
<li>The game’s culling system is not very advanced; the custom rendering code only implements frustum culling and there’s no sign of occlusion culling at all. There is some culling based on distance but it’s not very aggressive, which is great for avoiding pop-in but bad for performance.</li>
</ol>
<p>Here are a few other examples besides the character models.</p>
<figure>
    <p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_gastank_frame.png" alt="The pixels affected by a pallet of gas tanks">
<img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_gastank_mesh.png" alt="The gas tank pallet mesh">
    </p>
    
    <figcaption>This highly detailed pallet of gas tanks consists of over 17K vertices.</figcaption>
    
</figure>
<figure>
    <p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_clotheslines_frame.png" alt="The pixels affected by several instances of a clotheslines mesh">
<img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_clotheslines_mesh.png" alt="The clotheslines mesh">
<img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_clotheslines_clothespins.png" alt="Closeup of the clotheslines mesh">
<img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_clotheslines_mesh2.png" alt="An alternative clotheslines mesh">
    </p>
    
    <figcaption>These densely packed clotheslines are made from 25K vertices per piece and feature dozens of individually modelled clothespins, or <em>laundry boys</em> as we call them in Finland. There’s also an even more dense variant featuring over 30K vertices.</figcaption>
    
</figure>
<figure>
    <p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_parkingbooth_mesh1.png" alt="The parking booth mesh">
<img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_parkingbooth_mesh2.png" alt="The parking booth mesh">
<img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_parkingbooth_mesh3.png" alt="The parking booth mesh">
    </p>
    
    <figcaption>This parking booth mesh is technically not used in my example frame’s pre-pass, but it is still present in the scene and later used in the shadow mapping pass. This mesh consists of over 40K vertices with no LODs, and features luxurious details you don’t even get in most AAA games, like individually modelled cables connecting screens and keyboards. They are even routed through a (relatively round) hole in the desk! Combining the building and the furniture into one mesh saves on draw calls, but it also means that the props can’t be culled individually.</figcaption>
    
</figure>
<figure>
  <img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_logs_mesh.png" alt="A pile of logs">
  <figcaption>This mesh of a pile of logs is similarly only used in the shadow rendering pass, and features <strong>over 100K</strong> vertices. It is the highest poly model in the game I’ve encountered so far, though I haven’t played for more than a few hours.</figcaption>
</figure>
<p>Now you might say that these are just cherry-picked examples, and that modern hardware handles models like these just fine. And you would be broadly correct in that, but the problem is that all of these relatively small costs start to add up, especially in a city builder where one unoptimized model might get rendered a few hundred times in a single frame. Rasterizing tens of thousands of polygons per instance per frame and literally not affecting a single pixel is just wasteful, whether or not the hardware can handle it. The issues are luckily quite easy to fix, both by creating more LOD variants and by improving the culling system. It will take some time though, and it remains to be seen if CO and Paradox want to invest that time, especially if it involves going through most of the game’s assets and fixing them one by one.</p>
<p>To be clear having highly detailed models is not a problem in itself, especially if you are intending to make a self-proclaimed next generation city builder. The problem is that the game is struggling to handle this level of detail, and that polygons are used inefficiently and inconsistently. For every character model with opulently modelled nostril hairs there are common props with surprisingly low polycounts. I think if the game ran well people would be celebrating these highly detailed models and making hyperbolic social media posts and clickbait videos titled “OMG the devs thought of EVERYTHING 🤯🤯🤯” and “I can’t believe they modelled the cables in the parking booth 😱😱😱” and “CITY SKYLINES 2 MOST DETAILED GAME EVER CONFIRMED?”. Instead we are here.</p>
<p>Oh yeah I was talking about rendering at some point, wasn’t I? Let’s continue.</p>
<h3 id="motion-vectors"><a href="#motion-vectors" role="presentation" title="Link to subsection">
  
</a>Motion vectors</h3>
<p>The game renders per-pixel motion vectors as a separate pass, which can be used for anti-aliasing and motion blur. I think motion vectors are slightly broken now, which is also the reason the game doesn’t support DLSS or FSR2 at the time of writing. There is a temporal anti-aliasing option hidden in the advanced settings menu and it improves the rendering quality to some extent, but things animated using vertex shaders like trees are just covered in artifacts and ghosting.</p>
<p>This pass takes about 0.6 milliseconds.</p>
<h3 id="roads-and-decals"><a href="#roads-and-decals" role="presentation" title="Link to subsection">
  
</a>Roads and decals</h3>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_lawn.jpg" alt="The decal buffer of my example frame."></p>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_lawn_closeup.png" alt="A closeup of the decal buffer."></p>
<p>Now we are finally rendering something recognizable: roads! And lawns, and other things that follow the surface of the terrain.</p>
<p>This pass takes about 1 millisecond.</p>
<h3 id="main-pass"><a href="#main-pass" role="presentation" title="Link to subsection">
  
</a>Main pass</h3>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_main_pass.jpg" alt="The albedo buffer of the main pass."></p>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_main_pass_closeup.png" alt="A closeup of the albedo buffer."></p>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_main_pass_normal.jpg" alt="The normal buffer of the main pass."></p>
<p>This is the meat (vegan alternatives are available) of the deferred rendering process. This pass takes in all the intermediate render targets produced so far alongside the virtual texture caches and some seemingly hardcoded textures and produces several more buffers, including ones for albedo, normals, different PBR properties and depth. It also produces the virtual texture visibility information I mentioned earlier. It is rendered at half horizontal resolution, presumably as an optimization. Terrain doesn’t use virtual texturing, so it is rendered at full resolution and with a constant color regardless of the actual terrain texture.</p>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_vt_feedback.png" alt="The virtual texture visibility buffer."></p>
<p>This pass takes 16.7 milliseconds, or about as long the entire frame should take if we were aiming for 60 frames per second. The pass rasterizes all of the geometry again, so the same reasons for the pre-pass being slow apply here as well. The additional cost is probably explained by the number of additional outputs, plus the cost of virtual texture cache lookups and texture mapping itself.</p>
<h3 id="ambient-occlusion"><a href="#ambient-occlusion" role="presentation" title="Link to subsection">
  
</a>Ambient occlusion</h3>
<p>Next the game produces an ambient occlusion buffer using motion vectors, normals and the depth buffer plus copies of the last two from the previous frame. Judging by the debug names of the shaders the algorithm is <a href="https://www.activision.com/cdn/research/Practical_Real_Time_Strategies_for_Accurate_Indirect_Occlusion_NEW%20VERSION_COLOR.pdf">GTAO</a>. This takes about 1.6 milliseconds.</p>
<h3 id="cascaded-shadow-mapping"><a href="#cascaded-shadow-mapping" role="presentation" title="Link to subsection">
  
</a>Cascaded shadow mapping</h3>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_shadowmap.jpg" alt="The shadow map buffer."></p>
<p>C:S2 uses <a href="https://learn.microsoft.com/en-us/windows/win32/dxtecharts/cascaded-shadow-maps">cascaded shadow mapping</a>, and in my opinion not very well. Shadows are full of artifacts and constantly flickering especially when either the sun or any foliage are moving (and they are, all of the time). Even when the screen isn’t completely covered with artifacts, the resolution of the shadows is quite low, and the jump in quality between the different shadow cascades is very noticeable.</p>
<p>The game uses four cascades with a resolution of 2048x2048 pixels per cascade. There’s a directional shadow map resolution setting in the advanced graphics settings menu, but at the time of writing it’s not connected to anything in the code; neither the individual setting nor the overall shadow quality setting alters the resolution of the shadow map. This is the reason why the medium and the high shadow setting presets are literally identical. I don’t know whether this is an oversight or if the setting was hastily disabled because it was causing issues. The low preset differs from medium and high in that it disables shadows cast by the terrain.</p>
<p>Despite the low quality, it is by far the slowest rendering pass, taking about 40 milliseconds or almost half of total frametime. It also dwarfs all other passes in terms of the number of draw calls: in my test frame 4828 out of 6705 draw calls were for shadow mapping, a staggering 72%. This is why there’s such a huge performance gain when shadows are disabled.</p>
<p>The reasons behind this pass’s slowness are mostly the same as with the pre-pass and the main pass: too much unnecessary geometry rendered with way too many draw calls. Renderdoc’s performance counters view indicates that many of the draw calls affect between zero and under 100 pixels in the shadow map, and the teeth are back again. The game seems to treat every single 3D object as a potential shadow caster on all quality settings regardless of size or distance. There’s a lot of room for optimization here, and in theory general improvements to LODs and culling should have a large impact on shadow mapping performance as well. Hopefully after performance has been improved CO (or modders) can turn the shadow quality setting back up, and raise the shadow map resolution to something more 2023.</p>
<p>Let’s end this part on a positive side note: when digging into shadow handling code I stumbled upon the fact that the game computes the positions of the sun and the moon using the current date, time and coordinates of the city. That’s a really neat detail!</p>
<h3 id="screen-space-reflections-and-global-illumination"><a href="#screen-space-reflections-and-global-illumination" role="presentation" title="Link to subsection">
  
</a>Screen space reflections and global illumination</h3>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_ssr.jpg" alt="The screen space reflection buffer."></p>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_gi_buffer.jpg" alt="The screen space global illumination buffer."></p>
<p>The game uses Unity HDRP’s built-in implementations of <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@17.0/manual/Override-Screen-Space-Reflection.html">screen space reflections</a> (SSR) and <a href="https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@17.0/manual/Override-Screen-Space-GI.html">screen space global illumination</a> (SSGI). I won’t be covering them in detail because Unity’s documentation is already decently comprehensive, plus I’m not going to pretend I fully understand them. Global illumination uses ray-marching and is evaluated by default at half resolution. Denoising and temporal accumulation are used to improve the quality. It would be nice if the game as a self-proclaimed next generation city builder supported hardware accelerated ray tracing in addition to these screen space solutions, but I’m not holding my breath.</p>
<p>These two effects combined took about 3 milliseconds.</p>
<h3 id="deferred-lighting"><a href="#deferred-lighting" role="presentation" title="Link to subsection">
  
</a>Deferred lighting</h3>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_lit.jpg" alt="The results of deferred lighting"></p>
<p>This is where it all comes together. Most of the intermediate buffers produced so far are combined to render the near-final image. Not much more to say about this pass, except that it takes about 2.1 milliseconds.</p>
<h3 id="weird-clothing-pass"><a href="#weird-clothing-pass" role="presentation" title="Link to subsection">
  
</a>Weird clothing pass</h3>
<p>There’s a small rendering pass just for the clothes of the Didimo characters, in this case 3 dresses, 1 jumpsuit and 1 set of suit trousers. The remaining 8 characters are either naked or their clothes use different shaders. This pass affects almost no pixels at this zoom level. Luckily it takes just 0.2 milliseconds.</p>
<h3 id="sky-rendering"><a href="#sky-rendering" role="presentation" title="Link to subsection">
  
</a>Sky rendering</h3>
<p>The sky is rendered next using the previously generated skybox texture, though it is not visible in my example frame. This pass takes about 0.3 milliseconds.</p>
<h3 id="transparent-objects-pre-pass"><a href="#transparent-objects-pre-pass" role="presentation" title="Link to subsection">
  
</a>Transparent objects pre-pass</h3>
<p>Traditional deferred rendering doesn’t work with transparent objects, so they are rendered separately. Transparent objects are rendered in two phases, starting with this pre-pass which only updates the normal and depth buffers. There are not many unique transparent objects in the frame, so this pass takes about 0.12 milliseconds.</p>
<h3 id="water-rendering"><a href="#water-rendering" role="presentation" title="Link to subsection">
  
</a>Water rendering</h3>
<p>The game does some pre-processing in compute shaders to prepare for water rendering and then produces several downscaled and blurred versions of the almost-final image. These inputs are fed to the main water rendering shader which renders the water surface. This takes about 1 millisecond.</p>
<h3 id="particles-rain-and-transparent-objects"><a href="#particles-rain-and-transparent-objects" role="presentation" title="Link to subsection">
  
</a>Particles, rain and transparent objects</h3>
<p>This pass handles most things transparent, including particles, weather effects and 3D objects made of glass and other transparent materials. No particles are visible in the frame, but the game still tries to render the smoke from the industrial zone’s chimneys, as well as the stream of goop produced by the sewage pipe. Rain is rendered next, using 20 instances of 12K vertices each. Interestingly the remaining transparent objects are rendered after the rain, causing some weirdness when transparent objects (like greenhouses and power lines) and rain overlap. All of this takes about 0.56 milliseconds.</p>
<h3 id="vt-feedback-processing"><a href="#vt-feedback-processing" role="presentation" title="Link to subsection">
  
</a>VT feedback processing</h3>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_vt_feedback_2.png" alt="The virtual texture feedback buffer."></p>
<p>The virtual texture visibility buffer we got earlier is processed with a compute shader, resulting in an output texture 1/16th of the original resolution. For the visualization I nearest neighbor scaled the output 8x to make it more readable. This is the information the game ultimately gets back from the GPU to decide which texture tiles to load and unload. Renderdoc reported very little time spent on this, well under 0.1 milliseconds.</p>
<h3 id="bunch-of-post-processing"><a href="#bunch-of-post-processing" role="presentation" title="Link to subsection">
  
</a>Bunch of post-processing</h3>
<p>The game uses many of Unity’s built-in post-processing effects, including temporal AA (which is a bit broken as I previously mentioned), bloom and tonemapping, plus DOF and motion blur if enabled. I can’t be bothered to sum up the timings of all of these, but it’s about 1 to 2 milliseconds in total.</p>
<h3 id="outlines-text-and-other-ui"><a href="#outlines-text-and-other-ui" role="presentation" title="Link to subsection">
  
</a>Outlines, text and other UI</h3>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_sdf_text.png" alt="Road names are rendered using SDF"></p>
<p>The last remaining draw calls are used to render all of the different UI elements, both the ones that are drawn into the world as well as the more traditional UI elements like the bottom bar and other controls. Quite a lot of draw calls are used for the Gameface-powered UI elements, though ultimately these calls are very fast compared to the rest of the rendering process. The names of roads are rendered into the scene using 2D <a href="https://libgdx.com/wiki/graphics/2d/fonts/distance-field-fonts">signed distance fields</a>. The depth buffer is used to blend the text with the scene if the text is behind a building or other object, which is a nice touch. This final pass takes an irrelevant amount of time.</p>
<p>And we are done!</p>
<p><img src="https://blog.paavo.me/cities-skylines-2-performance/cs2_night.jpg" alt="A screenshot from Cities: Skylines 2 at night"></p>
<p>I tried not to make this into an in-depth graphics study, but I think I failed. Hope you learned something new.</p>
<h2 id="summary-and-conclusions"><a href="#summary-and-conclusions" role="presentation" title="Link to subsection">
  
</a>Summary and conclusions</h2>
<p>So why is Cities: Skylines 2 so incredibly heavy on the GPU? The short answer is that the game is throwing so much unnecessary geometry at the graphics card that the game manages to be largely limited by the available rasterization performance. The cause for unnecessary geometry is both the lack of simplified LOD variants for many of the game’s meshes, as well as the simplistic and seemingly untuned culling implementation. And the reason why the game has its own culling implementation instead of using Unity’s built in solution (which should at least in theory be much more advanced) is because Colossal Order had to implement quite a lot of the graphics side themselves because Unity’s integration between DOTS and HDRP is still very much a work in progress and arguably unsuitable for most actual games. Similarly Unity’s virtual texturing solution remains eternally in beta, so CO had to implement their own solution for that too, which still has some teething issues.</p>
<p>Here’s what I think that happened (a.k.a this is speculation): Colossal Order took a gamble on Unity’s new and shiny tech, and in some ways it paid off massively and in others it caused them a lot of headache. This is not a rare situation in software development and is something I’ve experienced myself as well in my dayjob as a web-leaning developer. They chose DOTS as the architecture to fix the CPU bottlenecks their previous game suffered from and to increase the scale &amp; depth of the simulation, and largely succeeded on that front. CO started the game when DOTS was still experimental, and it probably came as a surprise how much they had to implement themselves even when DOTS was officially considered production ready. I wouldn’t be surprised if they started the game with Entities Graphics but then had to pivot to custom solutions for culling, skeletal animation, texture streaming and so on when they realized Unity’s official solution was not going to cut it. Ultimately the game had to be released too early when these systems were still unpolished, likely due to financial and / or publisher pressure. None of these technical issues were news for the developers on release day, and I don’t believe their claim that the game was intended to target 30 FPS from the beginning — no purebred PC game has done that since the early 2000s, and the graphical fidelity doesn’t justify it.</p>
<p>While I did find a lot to complain about the game’s technology, this little investigation which has been consuming a large share of my free time for the past 1.5 weeks has also made me appreciate the game’s lofty goals and sympathize more with the developers of this technically ambitious yet troubled game. I’ve learned a lot about how Cities: Skylines 2 &amp; Unity HDRP work under the hood, and I’ve also gotten some good practice with Renderdoc.</p>
<p>If you liked this article, good for you! I don’t have anything to sell you. Write a comment or something to the media aggregator or social media of your choice. Subscribe to my Atom feed if it still works. Stay tuned for my next article in a couple of years.</p>

</article>


  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[What is Glamorous Toolkit v1.0? (153 pts)]]></title>
            <link>https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/</link>
            <guid>38153318</guid>
            <pubDate>Sun, 05 Nov 2023 17:30:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/">https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/</a>, See on <a href="https://news.ycombinator.com/item?id=38153318">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          
          <main>
            
              <!-- page content start -->
              <p>
<a href="https://gtoolkit.com/">Glamorous Toolkit</a> (GT) is the Moldable Development Environment. Version 1.0 embodies more than 6 years of development and is the result of some 14 years of research. Our goal is to make systems explainable by means of custom tools created for each problem. Glamorous Toolkit makes this possible by making the creation of custom tools inexpensive and seamless.
  </p>
<p>
"Ok, but what is it really? I see programming in Smalltalk. I see knowledge management. I see visualizations. But I also see that you can explore data and APIs, and you can work with other languages. So, what exactly is Glamorous Toolkit?"
  </p>
<p>
Ah. Keen observations. These do not even list everything. There are significantly more things you can do with the environment. And indeed, one way to evaluate Glamorous Toolkit is through what it can visibly do out of the box. It's not our preferred way, but that's what people do regardless. So, let's get quickly through a few of those visible things.
  </p>
<p>
  <h2>
What Glamorous Toolkit is typically perceived as
  </h2>
</p>
<p>
  <h3>
Glamorous Toolkit for Pharo development
  </h3>
</p>
<p>
Glamorous Toolkit is primarily implemented in <a href="https://pharo.org/">Pharo</a> and offers a complete development experience for Pharo, too. But with a few twists.
  </p>
<p>
Take a look at the picture below. We see a Coder on the left hand side opened on a class with a  method expanded. Inside the method we see another expanded editor for one of the messages. In the  middle we see a filter tool showing the references to our method. Each of the methods can be expanded separately. One of the methods is an example, which is like a test that returns an object, a concept popularized in GT. Every example is executable and can be based on other examples. In our case, executing the example shows an inspector with the resulting object. The inspector shows a custom view.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6biy57x6nu5od1d14n26nb.png"><figcaption>A Coder on the left. Browsing the references to a message in the middle. Inspecting the result of an example method on the right.</figcaption>
</figure>
<p>
This is a small example of a flow in GT but it already shows how rather distinct the experience is as compared with a typical Smalltalk system.
  </p>
<p>
  <h3>
Glamorous Toolkit for system documentation
  </h3>
</p>
<p>
A central component in GT is <a href="https://lepiter.io/feenk/introducing-lepiter--knowledge-management--e2p6apqsz5npq7m4xte0kkywn/">Lepiter</a>, the knowledge management system. Indeed, with it we can handle various needs. The documentation of Glamorous Toolkit itself is offered as a book inside the environment (<a href="https://book.gtoolkit.com/">or online</a>). The screenshot below shows an excerpt from the book showing about the same object you see above.  Only this time the result of the example is embedded in the documentation.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bj222d6lbm0vr97e3sljl.png"><figcaption>An excerpt from the Glamorous Toolkit book.</figcaption>
</figure>
<p>
Indeed, each snippet is programmable and can define its own language and user interface. At the same time it's possible to link from and to arbitrary snippets.
  </p>
<p>
  <h3>
Glamorous Toolkit for personal knowledge management
  </h3>
</p>
<p>
The knowledge management engine can be the entry point for all work, including for personal note taking or prototyping.
  </p>
<p>
For example, here we see on the left a page from a personal knowledge base with a few snippets with text and pictures. These snippets represent the source from which I posted a <a href="https://bsky.app/profile/tudorgirba.com/post/3k647mgz7vx2n">BlueSky thread</a> about Glamorous Toolkit. On the right we see another page linked from the first one which happens to be the very page from which this very post was published.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bixielgml72rz84d2gyee.png"><figcaption>Excerpts from a private knowledge base.</figcaption>
</figure>
<p>
  <h3>
Glamorous Toolkit for browsing APIs
  </h3>
</p>
<p>
In a world of services, browsing associated APIs is a pervasive activity. Of course, a properly integrated experience should accommodate such a pervasive activity seamlessly. And indeed, in GT, it is quite seamless.
  </p>
<p>
Here is an example of <a href="https://lepiter.io/feenk/gt4atproto--a-dedicated-environment-for-at-7kcp8pwy6dcnomlljmtvl3wx2/">browsing BlueSky posts through the AT Protocol API</a>. On the left we see a dedicated Lepiter snippet for logging into BlueSky. Once logged in, we get an object that shows the posts of a user. Executing a query in context gets a remote stream of posts.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bizmvhq0bm9edlpdf4on6.png"><figcaption>Exploring BlueSky posts through the AT Protocol API.</figcaption>
</figure>
<p>
The integration is seamless. All this navigation is handled through inspector extensions over domain objects that wrap the remote calls and their results. That's it.
  </p>
<p>
  <h3>
Glamorous Toolkit for exploring data
  </h3>
</p>
<p>
You do not need to access data through an API to explore it. Data is data, regardless of where it comes from, and in GT you treat it equally the same.
  </p>
<p>
Above we see a case of exploring the data from a social network through an API. Below we get an exploration of the downloaded data from another social network. They are treated similarly.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bj0n96hoqyirfsflboq4m.png"><figcaption>Exploring user data downloaded from Twitter.</figcaption>
</figure>
<p>
  <h3>
Glamorous Toolkit for code analysis
  </h3>
</p>
<p>
Everything about a software system is made out of data, including code, logs or configurations. As such, these artifacts can be manipulated as data, too.
  </p>
<p>
For example, here we see on the left a query for the React components of an application. In the middle we see the dependencies between these components. Selecting a component shows it highlighted in the code to the right.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bizqtiqok6k815kix5sqd.png"><figcaption>Exploring the dependencies of a React Native application.</figcaption>
</figure>
<p>
  <h3>
Glamorous Toolkit for domain discovery
  </h3>
</p>
<p>
Ok, we've a few use cases of exploring vairous data sources. But what about building new systems? It turns out that there is something in here about the discovery of new domains as well.
  </p>
<p>
Take a look at this example about a restaurant automation system. On the top left we have a manual sketch about how the core of the system should work. A program produces an object that has a view showing a similar diagram, only this time produced out of the running system.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6biyve5xzqrih75uahq97n.png"><figcaption>Exploring a domain: a manual sketch on the top left, a system visualization on the right.</figcaption>
</figure>
<p>
What gets people excited when looking at this? It's the idea that the system can display itself in a way that non-technical people can reason about.
  </p>
<p>
  <h3>
Glamorous Toolkit as a graphical environment
  </h3>
</p>
<p>
The environment's graphical stack is another point that attracts people's attention. We understand. It's hard not to be attracted by live nested editors or visual scenes with arbitrary elements.
  </p>
<p>
Consider this screenshot showing the interactive explanation of the Smalltalk syntax. It shows the typical example used to explain the Smalltalk syntax. Except that here we have a different take. There is an editor on the right with a method. On the left of it we see the list of syntax constructs. Hovering over the construct links the construct to the occurrences in the code. Live.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6biymipvcrzciaaarfmk5v.png"><figcaption>An interactive explanation of the Smalltalk syntax.</figcaption>
</figure>
<p>
The above interface is possible because the whole environment in drawn in a single rendering tree at all times. For example, the words in the editor, the lines from outside the editor into the editor and the index on the right hand side are all elements that tree. This allows us to combine arbitrary visual elements creating the premise for new interfaces.
  </p>
<p>
  <h3>
Glamorous Toolkit for GemStone development
  </h3>
</p>
<p>
GemStone is a Smalltalk object-oriented database. And guess what? You can interact with it from Glamorous Toolkit.
  </p>
<p>
For example, here we see a couple of inspectors over remote GemStone objects related to locations and trajectories. The views in the first two panes are defined remotely as well. The map one in the third pane is retrieved on the client side by connecting to OpenStreetMap. Furthermore, in the first pane we have a script that executes remotely in GemStone, too.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6biyzjxuowgdjyo0kfj7cy.png"><figcaption>An inspection session over GemStone objects.</figcaption>
</figure>
<p>
  <h3>
Glamorous Toolkit for developing in other languages
  </h3>
</p>
<p>
The editing, debugging and inspecting abilities are not limited to Smalltalk languages either. Glamorous Toolkit itself is based on Rust-based plugins, so naturally we wanted to develop these plugins from the environment, too. In the screenshot below we see an environment opened on the sources of a Rust-based plugin.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bj43ephovvwq7st0oia20.png"><figcaption>Editing Rust code with completion and code search support. </figcaption>
</figure>
<p>
  <h2>
Glamorous Toolkit is the Moldable Development Environment
  </h2>
</p>
<p>
"Aha. So Glamorous Toolkit is a collection of different tools?"
  </p>
<p>
No. While all of the above perspectives describe correctly what Glamorous Toolkit can do, they are all also wrong.
  </p>
<p>
Glamorous Toolkit is the Moldable Development Environment. Moldable Development is a new perspective on programming through which we create custom tools for every development problem. We find that this ability changes the very nature of programming.
  </p>
<p>
Indeed, as we can only perceive details related to a software system through tools, it follows that the tools are essential to the act of programming. At the same time, because software is highly contextual, for tools to be effective they also have to be contextual.
  </p>
<p>
The above examples are all quite different. In fact, each could be considered as a separate vertical in the software engineering tooling space. Yet, they were all expressed uniformly in the same environment. This shows that these tools are not distinct and that they can be combined and customized arbitrarily.
  </p>
<p>
There is just a fluid environment. We do not go to tools. Tools come to us. And we can make them come to us in our terms, in our context. That's the premise of Moldable Development.
  </p>
<p>
When practicing Moldable Development, we approach all problems in software development through of custom tools. This typically leads to thousands of tools per system. We created Glamorous Toolkit to evaluate how far can Moldable Development go, and we've learnt that it is applicable to all system development problems at all levels of abstraction we have encountered for more than a decade.
  </p>
<p>
"All development problems at all levels of abstraction?!"
  </p>
<p>
Yes, and we do mean all of them. Hard to believe, we know. 
  </p>
<p>
"But what do you mean exactly?"
  </p>
<p>
Let's look at a couple of scenarios.
  </p>
<p>
  <h3>
A DevOps scenario: Making sense of our build logs
  </h3>
</p>
<p>
We build and deploy Glamorous Toolkit on every commit using Jenkins. Like any meaningful delivery pipeline, it requires maintenance for various reasons. Often we look at the build system when errors appear. But there are other considerations as well. For example, we might want to optimize the build performance.
  </p>
<p>
All these are development activities and require tools which should naturally be integrated in the development environment. Indeed, we do not go to the Jenkins interface for answering questions about our build systems. We get the Jenkins views in our environment.
  </p>
<p>
Take a look below. On the left we have an inspector on an object representing a Jenkins pipeline node responsible with building a Glamorous Toolkit image from sources. The pipeline node shows the list of steps with the distinct command lines. In the middle we see the specific step concerned with loading the source code. The middle inspector shows a view with the console output. Only with a twist: The console highlights problems that are specific to Glamorous Toolkit. Let's ponder on this for a second.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bizs5deg6y51ubtn9b6t3.png"><figcaption>Exploring the Jenkins job that builds Glamorous Toolkit.</figcaption>
</figure>
<p>
The console output of a build is generic to any system. But the problems that appear in a specific system are only known in that context. Thus, if we want tools to highlight system specific-issues, we have to make them aware of the context. And that's exactly what happens here. The view encodes that context. For example, the text highligted in red shows an exception. The build is green because the exception is recoverable.
  </p>
<p>
Highlighting text is nice already, but we wanted more. To the very right we see a performance report produced based on parsing the log. The view shows a flame chart with nested durations of loading different parts of the system which we used to focus on optimization opportunities.
  </p>
<p>
Looking back, how would you name this tool? An API browser? A console viewer? A performance tool?
  </p>
<p>
"Difficult to say... it kind of depends on the point of view?!"
  </p>
<p>
Indeed, depending on the point of view all of them might fit. But those details do not matter. What matters is the experience. And this experience was put together out of a few inspectors and some views concatenated dynamically.
  </p>
<p>
  <h3>
A debugging scenario: Identifying a text editor bug
  </h3>
</p>
<p>
Tools like those described here can appear attractive. Still the magic is not in their shape. The magic happens when the contextual needs drive the tool.
  </p>
<p>
For quite some time we had <a href="https://lepiter.io/feenk/identifying-an-editor-bug-by-inspecting-wr-8h6nyolv2izfv43bg8kczno66/">an issue</a>  in the text editor related to the cursor getting stuck when it was at the end of a paragraph. It was annoying, but we did not know how to address it and it stayed open for half a year. That part of the code depended on Pharo objects that were wrapping Rust objects. It was only when we added the ability to inspect Rust objects that we found problem.
  </p>
<p>
Take a look at the screenshot. We have a Pharo object representing a text paragraph on the left. This object wraps a Rust object. shown in the middle pane. The inspector of the Rust object shows also the list of line ranges. You can see that the first line end index is <code>27</code>, and the second line start index is also <code>27</code>. It took seconds to realize that a line interval cannot include both ends and from this realization came the solution.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6biy00sblnstefv6irbn5z.png"><figcaption>Inspecting a mixture of Pharo and Rust objects.</figcaption>
</figure>
<p>
The view that revealed the problem is not fancy. It's just a list. Still, it was exactly what we needed to identify the solution. That's where the magic lies. Of course, how tools look does matter, but it's secondary to how effective they are. And this effectiveness depends on how well they capture the context. It's this effectiveness that's at the heart of Moldable Development.
  </p>
<p>
  <h3>
An editing scenario: Modifying baseline configurations
  </h3>
</p>
<p>
"Ok, so it seems that these custom tools are for reading software?"
  </p>
<p>
The need of custom tooling is not only visible for reading use cases. It is meaningful for editing situations as well.
  </p>
<p>
For example, the packages and project dependencies of Glamorous Toolkit are defined in so called baselines. These baselines are expressed in a fluent API through which the names of packages and projects are specified in strings. However, because of an extension that understands the semantics of the fluent API and it can offer completion inside the strings.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bj1jq7nds7zna1fhpfmt4.png"><figcaption>Custom completion inside strings.</figcaption>
</figure>
<p>
Furthermore, in the same way the editor offers expanders to browse the dependencies in place. For example, here we expanded the <code>GToolkitVirtualMachine</code> baseline to reveal the local method defining that project. Inside that method we expanded the definition of a package to reveal the details of the locally loaded package.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bj29nslnvzx1d0lx79xuo.png"><figcaption>Expanding nested baseline configurations</figcaption>
</figure>
<p>
This editing support makes it much easier to work with elaborated baselines, as is the case with the baseline of Glamorous Toolkit itself.
  </p>
<p>
  <h2>
Moldable Development beyond tools
  </h2>
</p>
<p>
The above scenarios show how changing the tool changes the problem. Indeed, Moldable Development can only be practiced through tools. Because tools are front and center in any demonstration of the approach it can be difficult at first to distinguish the concepts from their concrete incarnation.
  </p>
<p>
So, instead of demonstrations, let's take a broader view using a <a href="https://medium.com/wardleymaps">Wardley Map</a>.
  </p>
<p>
It all starts with some challenge which can concern anything, from a narrow technical detail to a broad business concern. Regardless of the scope, every such challenge relates to a specific problem and requires a decision.
  </p>
<p>
Each decision requires information. Today, much information is gathered through manual inspection and put together manually, too. Instead, we want generated views that are contextual. This can only happen through specific coding.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6bj0iwkrdc6q7rzb3c5nnf.png">
</figure>
<p>
To make this economically viable, we need tools that can be quickly put together in context. A moldable development environment stands in contrast to the typical rigid ones in use today in that custom tools can be created quickly and during development.
  </p>
<p>
"Why do you call existing tools rigid? Don't they have plugin mechanisms?"
  </p>
<p>
Many environments offer some extensibility, but the emphasis is on     <i>
some
    </i>
. There is a large difference between     <i>
some
    </i>
 problems and     <i>
all
    </i>
 problems. Moldable Development is applicable to every problem, from the narrowest technical issues, to the broadest strategic ones. As long as a decision refers to a system, it needs accurate and timely information about that system. You can get to this accurate information only by embedding the creation of tools in the development flow.
  </p>
<p>
The principle is that whenever a problem is not comfortable enough, you build a tool that makes it comfortable. This can happen multiple times a day even for a single developer. To put it in perspective, in a typical IDE today, you might have dozens of extensions. When practicing Moldable Development, you can easily get to thousands of tools per system.
  </p>
<p>
"Thousands of tools per system?"
  </p>
<p>
Yes. These tools offer contextual views that summarize parts of the system from some perspectives. The availability of contextual views on demand changes decision making fundamentally, and with it, the very act of programming.
  </p>
<p>
"But who creates all those tools?"
  </p>
<p>
Moldable Development involves two distinct roles, each with its own set of skills. The facilitator (in blue on the map) is a technical role that is concerned with the technical part of building tools. But that alone is not enough. The stakeholder (in red) is at least as important. Tools are only meaningful when the relate to a question or hypothesis that is tied to value. That's the job of the stakeholder.
  </p>
<p>
"And who exactly should be a stakeholder?"
  </p>
<p>
Everyone with a stake in the system. From developers to board members. If they have a question concerning the system, they should have the right to be informed. Of course, the specific needs will not the same for different stakeholders. But the process to get to the answer can be. That's the magic of Moldable Development.
  </p>
<p>
  <h2>
Glamorous Toolkit is a vehicle. Moldable Development is a journey
  </h2>
</p>
<p>
We can talk about the theory of Moldable Development all we want, but at the end you need to practice it to understand it. For that, you need a practical environment. That is where Glamorous Toolkit comes into play. It is the first environment in which to practice Moldable Development and us it in various practical situations, as the above examples aim to show.
  </p>
<p>
But Glamorous Toolkit is also an environment in which to learn Moldable Development. You see, Glamorous Toolkit itself was created following Moldable Develpoment. It comes with thousands of little extensions and examples.
  </p>
<p>
The treemap below shows all classes from Glamorous Toolkit grouped in packages. The blue rectangles denote classes that specify at least an environment extension. The green ones contain examples.
  </p>
<figure>
<img src="https://lepiter.io/feenk/what-exactly-is-glamorous-toolkit-v1-0--7sex44dze2dqlocqxwfz8ju0i/gt-figures/41n6biyy7c3u3amfozu6l36cr.png"><figcaption>The classes from Glamorous Toolkit grouped by packages and arranged in a treemap. In blue we have classes that have at least one extension. In green we have classes that contain examples.</figcaption>
</figure>
<p>
This visualization shows that the need for custom tools is pervasive. It literally touches the entire system. These are not demos. They are tools we created and used as part of our development, and they allowed us to replace reading as the main means to figure systems out, <a href="https://lepiter.io/feenk/developers-spend-most-of-their-time-figuri-9q25taswlbzjc5rsufndeu0py/">the largest cost in software development</a>. The implications do not stop here. For example, these tools <a href="https://lepiter.io/feenk/moldable-development-leads-to-compressed-c-cetx8ad89agbsx6yb7d8tvcam/">compress communication</a> which then unlocks new ways to discover and create value.
  </p>
<p>
After more than a decade of researching and practicing Moldable Development on a daily basis, we can still say that we are learning. The seamingly simple idea of customizing the tools through which to experience our systems opens up a large field with many implications. I strongly believe we are at the beginning of the journey. Glamorous Toolkit is not the end solution. It is merely the evidence that the field exists. At the same time, it is the only environment today in which to learn and practice Moldable Development.
  </p>
<p>
  <h2>
Getting started
  </h2>
</p>
<p>
"It sounds great, but it also sounds like a big change compared to how we work today. That's a bit scary. How do I even get started?"
  </p>
<p>
Moldable Development is best evaluated in concrete situations. That is why suggest to start the exploration with Glamorous Toolkit from a concrete problem you care about.
  </p>
<p>
"Ok, what kind of problems are possible?"
  </p>
<p>
The examples from this post provide some hints of what can be achieved. The <a href="https://book.gtoolkit.com/case-studies-of-moldable-development-59974yyx38w1jgov9kp63wtqf">case studies section from the book</a> provide some more. The specific area of the initial problem matters less because, in the end, any situation should be addressable through custom tools. It's more important for the problem to mean something to you.
  </p>
<p>
On the practical side, it is important to note that Glamorous Toolkit should be learnt more as a language rather than a tool. That is because much of the experience in the environment is made out of interactive and visual operators. Furthermore, all individual pieces area programmable and most of this programming happens in the underlying Pharo programming language. <a href="https://book.gtoolkit.com/get-started-ejn67l0sdt6csob78xjfb8kf4">Read more practical details about Glamorous Toolkit in the book</a>.
  </p>
              <!-- page content end -->
            </main>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[See the History of a Method with Git log -L (112 pts)]]></title>
            <link>https://calebhearth.com/git-method-history</link>
            <guid>38153309</guid>
            <pubDate>Sun, 05 Nov 2023 17:28:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://calebhearth.com/git-method-history">https://calebhearth.com/git-method-history</a>, See on <a href="https://news.ycombinator.com/item?id=38153309">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>

<p>Git can “trace the evolution” of a specific method when passed <code>-L</code> using the <code>:&lt;funcname&gt;</code> variant. Let’s take a look at the history of this blog’s posts’ <code>published</code> scope, which is used in most places that articles are listed out. You can see that git is able to identify the boundaries of the method even as the length changes and it prints out the full method with diff from each commit in the log, which is filtered to changes to that method.</p>
<div><pre><code>$ git log -L :self.published:app/models/post.rb -n3
<span>commit d1fbdf3b9a5bd37dd49d61c61ee0f51c75fdb806
Author: Caleb Hearth &lt;caleb@calebhearth.com&gt;
Date:   Thu Feb 2 16:36:34 2023 -0700
</span><span>
</span>    Decree, LFW, new homepage, RSS-only posts
<span>
</span><span>diff --git a/app/models/post.rb b/app/models/post.rb
</span><span>--- a/app/models/post.rb
</span><span>+++ b/app/models/post.rb
</span><span>@@ -15,6 +15,6 @@</span>
   def self.published
     all
<span>-      .reject { _1.frontmatter[:draft] }
</span><span>+      .reject { _1.frontmatter[:draft] || _1.tags.include?("rss-only") }
</span>       .select { _1.date &lt;= Date.today }
   end
<span>

</span><span>commit 37a830b625db4e60e0ffbfec881d693369706169
Author: Caleb Hearth &lt;caleb@calebhearth.com&gt;
Date:   Fri Nov 12 11:39:48 2021 -0600
</span><span>
</span>    Publish posts published today
<span>
</span><span>diff --git a/app/models/post.rb b/app/models/post.rb
</span><span>--- a/app/models/post.rb
</span><span>+++ b/app/models/post.rb
</span><span>@@ -15,6 +15,6 @@</span>
   def self.published
     all
       .reject { _1.frontmatter[:draft] }
<span>-      .select { _1.date &lt; Date.today }
</span><span>+      .select { _1.date &lt;= Date.today }
</span>   end
<span>

</span><span>commit b1ed34a897af9ff2f882e140132a6e6045257b10
Author: Caleb Hearth &lt;caleb@calebhearth.com&gt;
Date:   Mon Nov 1 10:33:13 2021 -0500
</span><span>
</span>    Don't filter out all posts
<span>
</span><span>diff --git a/app/models/post.rb b/app/models/post.rb
</span><span>--- a/app/models/post.rb
</span><span>+++ b/app/models/post.rb
</span><span>@@ -12,6 +15,6 @@</span>
   def self.published
     all
<span>-      .reject { |post| post.frontmatter[:draft] }
-      .reject { |post| post.frontmatter[:date] &lt; Date.today }
</span><span>+      .reject { _1.frontmatter[:draft] }
+      .select { _1.date &lt; Date.today }
</span>   end
</code></pre></div>
<p>If you got excited and tried this on your own, you may have been disappointed to see a message like</p>
<div><pre><code><span>fatal: -L parameter 'self.published' starting at line 1: no match
</span></code></pre></div>
<p>While Git knows how to do this for some languages (mostly the C family), it needs a bit of help for a lot of others including Ruby and Swift. Fortunately it’s as simple as adding one these lines (you only need the one relevant to your project’s language) to your project’s .gitattributes</p>
<div><pre><code>*.rb diff=ruby
*.swift diff=swift
</code></pre></div>
<p>If you’d like this to be global so you don’t get that error in each new project, you can set up a global .gitattributes file for yourself like this:</p>
<div><pre><code><span>$ </span>git config <span>--global</span> core.attributesfile ~/.gitattributes
</code></pre></div>
<p>Then add the above lines to ~/.gitattributes.</p>
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Brits make Amazon, Meta stop using third-party data to undercut rivals (152 pts)]]></title>
            <link>https://www.theregister.com/2023/11/04/amazon_meta_cma/</link>
            <guid>38153091</guid>
            <pubDate>Sun, 05 Nov 2023 17:10:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theregister.com/2023/11/04/amazon_meta_cma/">https://www.theregister.com/2023/11/04/amazon_meta_cma/</a>, See on <a href="https://news.ycombinator.com/item?id=38153091">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="body">
<p>Amazon and Meta have agreed to not use data collected from their marketplaces to unfairly benefit themselves, the UK's Competition and Markets Authority announced on Friday.</p>
<p>The monopoly watchdog launched <a href="https://www.theregister.com/2022/07/07/cma/">separate</a> <a href="https://www.theregister.com/2023/05/26/meta_facebook_marketplace_cma/">investigations</a> into both internet giants' business practices, and accused the Big Tech duo of not only gathering up information about sellers using their respective online souks, they also - surprise, surprise - exploited that info to get a commercial advantage.</p>
<p>In Amazon's case, the e-commerce giant used vendors' sales figures to decide which items it should sell, and how much to price products to get an edge over everyone else. The internet behemoth also promoted its own products with its <a target="_blank" href="https://www.theregister.com/2022/10/20/amazon_uk_buy_box_tribunal/">Buy Box</a> feature and it further cut into retailers' margins by charging extra costs if they wanted to use Amazon's Prime delivery services, the CMA said.&nbsp;</p>

    

<p>Now Amazon has committed to doing less of that. The CMA <a href="https://www.gov.uk/government/news/cma-secures-improvements-in-ways-amazon-and-meta-treat-competitors-benefitting-customers" rel="nofollow">said</a> the online souk will be prevented from using third-party seller data that gives it an unfair commercial advantage, and will allow rivals to negotiate rates with independent delivery contractors working on behalf of Amazon.&nbsp;</p>

        


        

<p>Merchants' items will also be better supported by the Buy Box too, according to the CMA, instead of Amazon-led products or those from sellers that have bought into the company's packing and delivery services.&nbsp;</p>
<p>"We have engaged constructively with the CMA and we welcome this resolution which will preserve our ability to serve both our customers and the over 100,000 small and medium-sized businesses selling through our UK store," a spokesperson for Amazon told <em>The Register</em> in a statement.</p>

        

<p>Amazon also promised to appoint a neutral "independent trustee" that will have to be approved by British officials to assess its compliance with the aforementioned agreements.</p>
<ul>

<li><a href="https://www.theregister.com/2023/10/20/cma_cloud_monopoly_remedies/">Imagine a world without egress fees or cloud software license disparities</a></li>

<li><a href="https://www.theregister.com/2022/07/07/cma/">Competition regulators probe Amazon's Marketplace and Microsoft's buy of Activision Blizzard</a></li>

<li><a href="https://www.theregister.com/2023/05/26/meta_facebook_marketplace_cma/">Meta promises UK it won't pilfer rivals' ad data to build Facebook Marketplace</a></li>
</ul>
<p>Meanwhile, similar agreements have been negotiated between the CMA and Facebook's parent biz Meta too.&nbsp;</p>
<p>The social media mega-corp was accused of exploiting advertisers hawking wares on Facebook Marketplace, and using competitors' data to improve its own products or services.&nbsp;</p>
<p>"Going forward, competitors of Facebook Marketplace that advertise on Meta platforms can 'opt out' of their data being used to improve Facebook Marketplace. Without these measures in place, Meta risks having an unfair competitive advantage that could distort competition," the CMA said.</p>
<p>"Having assessed the commitments and the feedback received, including from sellers, advertisers and customers, we believe both sets of commitments address the specific competition concerns we had here in the UK," Ann Pope, the watchdog's senior director for antitrust enforcement, concluded.</p>

        

<p><em>The Register</em> has asked Meta for comment. ®</p>                                
                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Dengue rates plunged after release of lab-altered mosquitoes (287 pts)]]></title>
            <link>https://www.dw.com/en/dengue-rates-plummeted-in-colombia-after-lab-infected-mosquito-release/a-67268943</link>
            <guid>38152534</guid>
            <pubDate>Sun, 05 Nov 2023 16:24:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.dw.com/en/dengue-rates-plummeted-in-colombia-after-lab-infected-mosquito-release/a-67268943">https://www.dw.com/en/dengue-rates-plummeted-in-colombia-after-lab-infected-mosquito-release/a-67268943</a>, See on <a href="https://news.ycombinator.com/item?id=38152534">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Mosquitoes infected with Wolbachia bacteria may be associated with a 97% drop in <a href="https://www.dw.com/en/tropical-diseases/a-60816035">dengue infections</a> in three cities in Colombia's Aburra Valley.&nbsp;</p>

<p>Researchers for the non-profit World Mosquito Program released the results at the annual meeting of the American Society of Tropical Medicine and Hygiene in late October.&nbsp;</p>

<p>The World Mosquito Program is looking to <a href="https://www.dw.com/en/scientists-weaponize-mosquitoes-in-fight-against-dengue-fever/a-45152945">stop the spread</a> of a number of life-threatening vector-borne diseases — among them dengue, <a href="https://www.dw.com/en/dengue-and-zika-virus-can-make-you-smell-tastier-to-mosquitoes/a-62382119">Zika virus</a> and yellow fever — by dispersing millions of Wolbachia bacteria-infected mosquitoes in places where these diseases are common.&nbsp;</p>

<figure><img data-format="MASTER_LANDSCAPE" data-id="66791415" data-url="https://static.dw.com/image/66791415_${formatId}.jpg" data-aspect-ratio="16/9" alt="Bangladesch Dengue-Fieber Ausbruch" src="https://static.dw.com/image/66791415_$%7BformatId%7D.jpg"><figcaption>Dengue fever outbreaks come in waves<small>Image: Mortuza Rashed/DW</small></figcaption></figure>

<h2>How does the Wolbachia bacteria prevent dengue?</h2>

<p>The Wolbachia bacteria significantly reduces <em>Aedes aegypti</em> mosquitoes' ability to spread disease.</p>

<p><em>Aedes aegypti</em> is one of the most notorious spreaders of harmful vector-borne diseases.</p>

<p>After a 2015 pilot release in the Colombian city of Bello, the researchers expanded their operations to the nearby cities of Medellíin and Itagua. Although researchers have conducted experiments like this across the world, these releases marked the program's largest yet.</p>

<p>By April 2022, they found that around 80% of all mosquitoes in Bello and Itagui had been infected by the Wolbachia mosquitoes (through cross-breeding), and around 60% in Medellíin.&nbsp;</p>

<p>To see whether this infiltration had actually impacted <a href="https://www.dw.com/en/dengue-fever-the-small-but-lethal-mosquito-bite/a-50006727">dengue levels</a> in the three cities, the researchers evaluated the number of cases reported over the course of the releases until July 2022.&nbsp;</p>

<p>They found that the introduction of the infected mosquitoes into local mosquito populations was "associated with a significant reduction"&nbsp;in dengue of up to 97% in each city compared to ten years prior to the start of the experiment.</p>

<p>They also conducted a case control study in Medellín. There, they said they found a causal association between the deployment of the infected mosquitoes and reduced cases of dengue.&nbsp;</p>

<p>The researchers said results showed a 47% drop in dengue in neighborhoods where the mosquitoes had been released.</p>

<p>They added that this was the largest contiguous implementation of these infected mosquito releases. The positive results "highlight the operational feasibility and real-world effectiveness of … deployment in large urban settings, and the reproducibility of the public health benefit across different ecological settings."</p>

<figure><img data-format="MASTER_LANDSCAPE" data-id="65399955" data-url="https://static.dw.com/image/65399955_${formatId}.jpg" data-aspect-ratio="16/9" alt="World Mosquito Program | Schools in Yogyakarta city look at wolbachia mosquitoes" src="https://static.dw.com/image/65399955_$%7BformatId%7D.jpg"><figcaption>Children look at Wolbachia mosquitoes in Indonesia, where similar experiments have taken place<small>Image: World Mosquito Program</small></figcaption></figure>

<h2>One and done?</h2>

<p>Although the Colombia releases mark the largest yet conducted, World Mosquito Program researchers have been facilitating similar experiments around the world. Earlier studies found that in Yogyakarta in Indonesia, for example, dengue cases were reduced through the program's method by 77%, while in Brazil, the disease burden was reduced by 38% (so far).</p>

<p>Scientists are currently testing <a href="https://www.dw.com/en/genetically-modified-mosquitoes-breed-in-brazil/a-50414340">many ways</a> to eliminate vector-borne diseases like dengue. Experts say the "one-and-done"&nbsp;nature of the World Mosquito Program's method is a plus.</p>

<p>"Once you introduce the Wolbachia mosquitoes into the native mosquito populations, they stay there. You don't have to release more mosquitoes," Biologist Rafael Maciel de Freitas, who works at the Brazilian Oswaldo Cruz Foundation and the Bernhard Nocht Institute for Tropical Medicine, told DW in April 2023.</p>

<p>However, Freitas told DW, there is concern the method won't work forever, given the high possibility the dengue pathogen will find a way to adapt to — and circumvent — the Wolbachia bacteria. "The virus will probably find a way to overcome the Wolbachia effect," Freitas said.&nbsp;</p>

<p>"I wouldn't say the Wolbachia method is the solution to dengue, but I think we have a better answer to the disease this way," Freitas added.</p>

<figure><img data-format="MASTER_LANDSCAPE" data-id="59682657" data-url="https://static.dw.com/image/59682657_${formatId}.jpg" data-aspect-ratio="16/9" alt="Indonesien - World Mosquitoes Program (WMP) " src="https://static.dw.com/image/59682657_$%7BformatId%7D.jpg"><figcaption>Mosquito eggs infected with the Wolbachia bacteria <small>Image: Dwi Oblo/REUTERS</small></figcaption></figure>

<h2>More work to be done</h2>

<p>Sounds like good news, and it could be. There are some caveats, however: one is that the World Mosquito Program's methods are expensive to implement.&nbsp;</p>

<p>And at this point, it is still unclear whether the dengue declines detected in Colombia and elsewhere can be attributed solely to the Wolbachia-infected mosquitoes. <a href="https://www.dw.com/en/dengue-a-closer-look-at-a-spreading-fever/a-18951298">Dengue comes in waves</a> — sometimes a city in a dengue-prone area will go years without seeing an outbreak.&nbsp;</p>

<p>Finally, there are certain areas where the Wolbachia-infected <a href="https://www.dw.com/en/the-mosquito-the-worlds-smallest-biggest-killer/a-19017493">mosquitoes</a> don't seem to cause a decline in dengue cases, or cause a much smaller decline than in other areas. Scientists still aren't sure what makes some areas appear resistant to the approach and others not.&nbsp;</p>

<p>The World Mosquito Program is looking to scale up operations in the coming decade — it announced plans earlier this year to build a factory in Brazil that would infect some 5 billion mosquitoes with Wolbachia annually.</p>

<div><h2 aria-label="Embedded video — Breeding mosquitos to fight dengue fever in Brazil"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g fill-rule="evenodd"><path d="M14.114 7.599H13.5l.002 4.706h.601l4.582 3.25-.005-11.11zM11.084 4.444l-9.007.002-1.336.797.002 9.514 1.334.793 9.007.006 1.509-.799-.004-9.516z"></path></g></svg>Breeding mosquitos to fight dengue fever in Brazil</h2><video id="video-65496382" controls="" playsinline="" preload="none" poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" data-id="65496382" data-posterurl="https://static.dw.com/image/65420569_605.webp" data-duration="03:30"><source src="https://hlsvod.dw.com/i/dwtv_video/flv/je/je20230503_bacteriaWebvideo_,AVC_480x270,AVC_512x288,AVC_640x360,AVC_960x540,AVC_1280x720,AVC_1920x1080,.mp4.csmil/master.m3u8" type="application/x-mpegURL"><source src="https://tvdownloaddw-a.akamaihd.net/dwtv_video/flv/je/je20230503_bacteriaWebvideo_AVC_1920x1080.mp4" type="video/mp4"><p>To view this video please enable JavaScript, and consider upgrading to a web browser that <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a></p></video></div>

<p><em>Edited by: Derrick Williams</em></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Montreal’s new rapid transit line saved millions per mile (184 pts)]]></title>
            <link>https://www.bloomberg.com/news/articles/2023-10-30/how-montreal-s-new-rapid-transit-line-saved-millions-per-mile</link>
            <guid>38152475</guid>
            <pubDate>Sun, 05 Nov 2023 16:19:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bloomberg.com/news/articles/2023-10-30/how-montreal-s-new-rapid-transit-line-saved-millions-per-mile">https://www.bloomberg.com/news/articles/2023-10-30/how-montreal-s-new-rapid-transit-line-saved-millions-per-mile</a>, See on <a href="https://news.ycombinator.com/item?id=38152475">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
    <section>
        <h3>Why did this happen?</h3>
        <p>Please make sure your browser supports JavaScript and cookies and that you are not
            blocking them from loading.
            For more information you can review our <a href="https://www.bloomberg.com/notices/tos">Terms of
                Service</a> and <a href="https://www.bloomberg.com/notices/tos">Cookie Policy</a>.</p>
    </section>
    <section>
        <h3>Need Help?</h3>
        <p>For inquiries related to this message please <a href="https://www.bloomberg.com/feedback">contact
            our support team</a> and provide the reference ID below.</p>
        <p>Block reference ID:</p>
    </section>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Teflon is still toxic to birds (134 pts)]]></title>
            <link>https://www.teflon.com/en/consumers/teflon-coatings-cookware-bakeware/safety/bird-safety</link>
            <guid>38152272</guid>
            <pubDate>Sun, 05 Nov 2023 16:01:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.teflon.com/en/consumers/teflon-coatings-cookware-bakeware/safety/bird-safety">https://www.teflon.com/en/consumers/teflon-coatings-cookware-bakeware/safety/bird-safety</a>, See on <a href="https://news.ycombinator.com/item?id=38152272">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
                        <div>
                    <figure>
                        <p><img src="https://www.teflon.com/en/-/media/images/teflon/pd/pair-of-parakeets-kissing-in-a-cage-1-5-1-8-1.jpg?rev=6ca162c6c95a4c0cb1357cbd36f8dbc8" alt="pair of parakeets kissing in a cage">
                        </p>
                    </figure>
            </div>
    <section>
<h2>Keep Feathered Friends Safe</h2>
<p>While the kitchen may be the heart of the home, it’s not necessarily the best place for your feathered friends to live. Cooking fumes, smoke, and odors that have little-to-no effect on people can quickly sicken and even kill some birds—and it can happen very quickly.</p>
<p>Unattended cookware that overheats—or cookware that’s heated up without anything added to the pan—can release fumes that are toxic to birds. To keep them safe:</p>
<ul>
    <li>Keep them out of the kitchen when you’re cooking.</li>
    <li>Don’t leave heated cookware unattended.</li>
    <li>Don’t preheat cookware on high heat settings.</li>
    <li>Always open a window or turn on the exhaust fan for ventilation when you’re cooking.</li>
</ul>
<p><a href="https://www.teflon.com/en/-/media/files/teflon/bird-safety-tips.pdf?rev=20df9169a867459f97679256c6499a87&amp;hash=E80083AC4E9BCAED118E7B176F0BACD0">Read more about cooking safety tips for bird owners</a>.</p>    </section>

            </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Sshx, a web-based collaborative terminal (208 pts)]]></title>
            <link>https://github.com/ekzhang/sshx</link>
            <guid>38152109</guid>
            <pubDate>Sun, 05 Nov 2023 15:44:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/ekzhang/sshx">https://github.com/ekzhang/sshx</a>, See on <a href="https://news.ycombinator.com/item?id=38152109">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" id="user-content-sshx" dir="auto"><a href="#sshx">sshx</a></h2>
<p dir="auto">A secure web-based, collaborative terminal.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3b98abad6ae9b4cf72eaaf56ce2517d2f0e3c9eb418244ace3479021227f1db5/68747470733a2f2f692e696d6775722e636f6d2f5133714b4148572e706e67"><img src="https://camo.githubusercontent.com/3b98abad6ae9b4cf72eaaf56ce2517d2f0e3c9eb418244ace3479021227f1db5/68747470733a2f2f692e696d6775722e636f6d2f5133714b4148572e706e67" alt="" data-canonical-src="https://i.imgur.com/Q3qKAHW.png"></a></p>
<p dir="auto"><strong>Features:</strong></p>
<ul dir="auto">
<li>Run a single command to share your terminal with anyone.</li>
<li>Resize, move windows, and freely zoom and pan on an infinite canvas.</li>
<li>See other people's cursors moving in real time.</li>
<li>Connect to the nearest server in a globally distributed mesh.</li>
<li>End-to-end encryption with Argon2 and AES.</li>
<li>Automatic reconnection and real-time latency estimates.</li>
<li>Predictive echo for faster local editing (à la Mosh).</li>
</ul>
<p dir="auto">Visit <a href="https://sshx.io/" rel="nofollow">sshx.io</a> to learn more.</p>
<h2 tabindex="-1" id="user-content-installation" dir="auto"><a href="#installation">Installation</a></h2>
<p dir="auto">Just run this command to get the <code>sshx</code> binary for your platform.</p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -sSf https://sshx.io/get | sh"><pre>curl -sSf https://sshx.io/get <span>|</span> sh</pre></div>
<p dir="auto">Supports Linux and MacOS, on both x86_64 and arm64 architectures. The
precompiled Linux binaries are statically linked.</p>
<h3 tabindex="-1" id="user-content-cicd" dir="auto"><a href="#cicd">CI/CD</a></h3>
<p dir="auto">You can also use sshx in continuous integration workflows to help debug tricky
issues, like in GitHub Actions.</p>
<div dir="auto" data-snippet-clipboard-copy-content="name: CI
on: push

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      # ... other steps ...

      - run: curl -sSf https://sshx.io/get | sh &amp;&amp; sshx
      #      ^
      #      └ This will open a remote terminal session and print the URL. It
      #        should take under a second."><pre><span>name</span>: <span>CI</span>
<span>on</span>: <span>push</span>

<span>jobs</span>:
  <span>build</span>:
    <span>runs-on</span>: <span>ubuntu-latest</span>
    <span>steps</span>:
      - <span>uses</span>: <span>actions/checkout@v3</span>

      <span><span>#</span> ... other steps ...</span>

      - <span>run</span>: <span>curl -sSf https://sshx.io/get | sh &amp;&amp; sshx</span>
      <span><span>#</span>      ^</span>
      <span><span>#</span>      └ This will open a remote terminal session and print the URL. It</span>
      <span><span>#</span>        should take under a second.</span></pre></div>
<p dir="auto">We don't have a prepackaged action because it's just a single command. It works
anywhere: GitLab CI, CircleCI, CI on your Raspberry Pi, etc.</p>
<h2 tabindex="-1" id="user-content-development" dir="auto"><a href="#development">Development</a></h2>
<p dir="auto">Here's how to work on the project, if you want to contribute.</p>
<h3 tabindex="-1" id="user-content-building-from-source" dir="auto"><a href="#building-from-source">Building from source</a></h3>
<p dir="auto">To build the latest version of the client from source, clone this repository and
run, with <a href="https://rust-lang.com/" rel="nofollow">Rust</a> installed:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo install --path crates/sshx"><pre>cargo install --path crates/sshx</pre></div>
<p dir="auto">This will compile the <code>sshx</code> binary and place it in your <code>~/.cargo/bin</code> folder.</p>
<h3 tabindex="-1" id="user-content-workflow" dir="auto"><a href="#workflow">Workflow</a></h3>
<p dir="auto">First, start service containers for development.</p>

<p dir="auto">Install <a href="https://www.rust-lang.org/" rel="nofollow">Rust 1.70+</a>,
<a href="https://nodejs.org/" rel="nofollow">Node v18</a>, <a href="https://www.npmjs.com/" rel="nofollow">NPM v9</a>, and
<a href="https://github.com/pvolok/mprocs">mprocs</a>. Then, run</p>

<p dir="auto">This will compile and start the server, an instance of the client, and the web
frontend in parallel on your machine.</p>
<h2 tabindex="-1" id="user-content-deployment" dir="auto"><a href="#deployment">Deployment</a></h2>
<p dir="auto">The application servers are deployed on <a href="https://fly.io/" rel="nofollow">Fly.io</a>.</p>

</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Can solar and wind power Britain? An update of David MacKay's numbers (151 pts)]]></title>
            <link>https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain</link>
            <guid>38151453</guid>
            <pubDate>Sun, 05 Nov 2023 14:33:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain">https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain</a>, See on <a href="https://news.ycombinator.com/item?id=38151453">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p><span>This Substack was inspired by the work of</span><strong> </strong><a href="https://en.wikipedia.org/wiki/David_J._C._MacKay" rel="">Sir David MacKay</a><span>. I wrote about this on the blog’s </span><a href="https://www.sustainabilitybynumbers.com/about" rel="">About page</a><span>.</span></p><p>Debates around climate, energy and sustainability are often charged with emotion. That’s fine. But we also need to put the numbers on these problems.&nbsp;</p><p><span>This is what David MacKay did for energy: in his book ‘Sustainable energy – without the hot air’ [which is </span><a href="https://www.withouthotair.com/" rel="">online for free</a><span>] he used back-of-the-envelope engineering and maths to work out if Britain could power itself from renewables. His answer in 2008 was, unfortunately, no. Far from it. In his final interview – he sadly passed away from cancer – he said the “idea that renewable energy can power the UK is an appalling delusion”. It should focus on nuclear and carbon capture and storage instead.</span></p><p>But the world has changed a lot since 2008. Costs have plummeted in the last decade. New wind designs have come online. And public support for climate action and clean energy has shifted.</p><p>David’s approach is still invaluable, but his numbers are out-of-date. This sector is moving quickly, and we can’t use analyses from 2008 to guide policy decisions.</p><p><span>I’ve always wanted to do an update, but thankfully someone else did the hard work for me. Last month, Brian O’Callaghan and colleagues from the University of Oxford </span><a href="https://www.smithschool.ox.ac.uk/sites/default/files/2023-09/Could-Britains-energy-demand-be-met-entirely-by-wind-and-solar-SSEE-working-paper.pdf" rel="">published a policy paper</a><span> looking at the potential for solar and wind to meet Great Britain’s energy needs.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-1-138388488" href="https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain#footnote-1-138388488" target="_self" rel="">1</a></span><span> Here’s </span><a href="https://www.smithschool.ox.ac.uk/sites/default/files/2023-09/Policy-brief-Britains-energy-demand-could-be-met-entirely-by-wind-and-solar.pdf" rel="">their summary</a><span>.</span></p><p>Far from being an “appaling delusion” they think that its “wind and solar resources are more than sufficient to meet all its energy needs, both practically and economically”.</p><div><p><span>In this post I’m going to work through their numbers, and how they compare to MacKay’s.</span></p><p><span>I’ll try to explain clearly where their numbers come from so that you can pick them apart for yourself. I think it’s important that we get some solid numbers because it really does affect policy decisions and public perceptions. I’d be interested to hear your strongest criticisms of the paper.</span></p></div><p><span>Let’s start with the </span><a href="https://www.smithschool.ox.ac.uk/sites/default/files/2023-09/Could-Britains-energy-demand-be-met-entirely-by-wind-and-solar-SSEE-working-paper.pdf" rel="">headline results</a><span> from O’Callaghan et al. (2023).</span></p><p>They estimate that it could produce 2,895 TWh of electricity each year from solar and wind. That’s almost double its estimate for final energy demand in 2050. See the chart below.</p><p>Both of these numbers are said to be conservative (the supply number is conservatively low, and the demand number is high).</p><p><span>We can see this when we look at other estimates of energy demand from the literature. The National Grid FES projects that Britain will need just 900 TWh in 2050. The UK’s Department for Industrial Strategy says 1250 TWh.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-2-138388488" href="https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain#footnote-2-138388488" target="_self" rel="">2</a></span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png" width="506" height="404.8695054945055" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1165,&quot;width&quot;:1456,&quot;resizeWidth&quot;:506,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24943c12-7f5f-4fe9-9cec-22f699a4ce92_1600x1280.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>Total </span><em>final</em><span> energy demand today is 1599 TWh. We would expect this to fall with the energy transition because electrification and decarbonisation </span><a href="https://link.springer.com/article/10.1007/s12053-021-09982-9" rel="">result in</a><span> large efficiency gains.</span></p><p>O’Callaghan says that their 1500 TWh demand figure – which is basically unchanged from today – is conservative. It would leave room for new demand for the production of cultivated meats, direct air capture, or intensive manufacturing. I also think it’s important to leave room for hydrogen production for industries that can’t be electrified. Green hydrogen production needs low-carbon electricity: it’s just not the final product.</p><p>In any case, they think that Britain could produce more than enough solar and wind to meet this demand.</p><p>This wouldn’t come for free. We’d need land (and some ocean) to do it. How much?</p><p>The summary of these sources is in the table below.</p><p>They think there is a large potential for offshore wind. This would be spread over 10% of the UK’s exclusive economic zone. Onshore wind could be used on 5% of British lands, and combined with farmland. 2% of British land would be used for solar PV, and could also be combined with farmland using a technique called ‘agrivoltaics’. Rooftop solar doesn’t add much – the output is quite small, even if 8% of British rooftops are covered. Definitely still a good option for individuals, but maybe not for the nation as a whole.</p><p>You might think some of these requirements are too optimistic. That’s fine: you can quickly adjust the numbers to something more reasonable. If you think the public would only accept 1% being used for solar, half the 544 TWh to 272 TWh. If you think only 4% of the UK’s exclusive economic zone would be usable for floating offshore wind, half the output to around 800 TWh.</p><p>Above, our supply was double our 2050 demand, so you could technically half every number in this table and solar and wind would still be sufficient.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png" width="672" height="255.23076923076923" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/cc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:553,&quot;width&quot;:1456,&quot;resizeWidth&quot;:672,&quot;bytes&quot;:117875,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcc3c3fc8-262e-456d-95e2-aff3d5ae7c5b_1510x574.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Later I’ll go through each of the technologies one-by-one to explain O’Callaghan et al.’s assumptions, and how they differ from MacKay’s. But let’s first compare the big picture.</p><p>MacKay calculated figures for Britain’s ‘technical’ resource. He then calculated its ‘practical’ resource once costs and public acceptability were taken into account. This is actually where the main source of difference comes from.</p><p><span>His stack of resources (which includes other renewables, not just solar and wind) </span><em>was</em><span> close to meeting demand (which was too high, as I’ll explain later). This is on the left.</span></p><p><span>But he concluded that almost all of it was practically unfeasible. Solar PV was removed for being too expensive. No one would accept a wind farm near them. Britain could not have offshore wind due to concerns about birds. I think these were reasonable presumptions at the time (although the way he decided to cut them was a bit “hand wavy”). Solar PV </span><em>was</em><span> expensive in 2008. And there was not the public support for renewables that there is today.</span></p><p>In the end, he concluded that Britain could deploy just one-seventh of its technical resources.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png" width="446" height="460.59424083769636" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:789,&quot;width&quot;:764,&quot;resizeWidth&quot;:446,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e935911-2300-4b4d-aafa-1e053ab14ab7_764x789.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Here’s the comparison to the recent update. MacKay’s technical resource is very similar to what O’Callaghan thinks is practical.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png" width="536" height="387.1859296482412" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:575,&quot;width&quot;:796,&quot;resizeWidth&quot;:536,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa58917-0bc8-4d62-99f9-8f90125688ca_796x575.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>And here’s the comparison of different sources. O’Callaghan et al. (2023) think that floating offshore wind is now feasible, so that’s much higher. But MacKay’s technical resources for every other source are bigger.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png" width="604" height="391.81636726546907" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/67feac93-a2f8-426e-be0e-610808179887_1002x650.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:650,&quot;width&quot;:1002,&quot;resizeWidth&quot;:604,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67feac93-a2f8-426e-be0e-610808179887_1002x650.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>What has changed, then, since MacKay’s book in 2008?</p><ol><li><div><p><strong>Energy demand will be much lower</strong><span>. MacKay primarily used primary energy demand – which includes all of the inefficiencies that would disappear with electrification and thermal inefficiencies from burning fossil fuels.</span></p><p><span>By my calculations, his ‘demand’ stack totalled up to 2700 TWh for the UK (around 2600 TWh for Great Britain).</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-3-138388488" href="https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain#footnote-3-138388488" target="_self" rel="">3</a></span><span> That’s 2 to 2.5-times the expected demand for 2050. Energy demand in the UK has </span><a href="https://ourworldindata.org/explorers/energy?tab=chart&amp;facet=none&amp;country=~GBR&amp;Total+or+Breakdown=Total&amp;Energy+or+Electricity=Primary+energy&amp;Metric=Per+capita+consumption" rel="">already fallen</a><span> by around one-quarter since 2008, and that’s before mass electrification.</span></p><p><span>Later in the book he does look at consumption scenarios in 2050: these add up to around 1700 TWh of energy demand.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-4-138388488" href="https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain#footnote-4-138388488" target="_self" rel="">4</a></span></p></div></li><li><div><p><strong>Solar and wind costs have plummeted. </strong><span>In the last decade the cost of solar power has fallen by around 90%, and wind by 70%. They have gone from being very expensive to being cheap.</span></p><p><span>These technologies are not just cheaper, they’re better. Solar panels are more efficient, and bigger and more effective turbines have been developed.</span></p></div></li><li><div><p><strong>Support for renewables is higher. </strong><span>In the </span><a href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/1140685/BEIS_PAT_Winter_2022_Energy_Infrastructure_and_Energy_Sources.pdf" rel="">latest survey</a><span> by the UK Government, 85% of the public supported wind and solar projects. Only 1% were opposed to renewables. Three-quarters think renewables are good for the economy.</span></p><p><span>Just 12% said they would be unhappy about having an onshore wind farm in their area, and just 7% for a solar farm.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-5-138388488" href="https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain#footnote-5-138388488" target="_self" rel="">5</a></span></p></div></li><li><p><strong>Renewables are being paired with farmland. </strong><span>In the past, there was often the assumption that renewables would have to be placed on new, additional land. We’d have to ‘give up’ farms or other land uses to make space for them. But, wind power is now being combined with farmland, and solar on farmland (agrivoltaics) has growing support.</span><br></p></li></ol><p>If MacKay had written his book in 2023, he wouldn’t have waved away as much solar PV for being ‘too expensive’ or wind power for NIMBYism (“not-in-my-backyard”).</p><p>At this point, I’m going to go through each of these technologies one-by-one. Some of you might not be interested in the specific details. If so, feel free to drop off here.</p><p>The conclusion you should take away from this update is that the prospects for renewable energy in Britain are not as bleak as they were in 2008. Solar and wind power could outstrip our demand – and we wouldn’t need to cover the country with turbines and panels.</p><p>This is true, even if you think the updated numbers are too optimistic. You could assume that there was no floating offshore wind, and supply would still match demand.</p><p><strong>To be clear: </strong><span>this does not mean that this is the ‘optimal’ electricity mix in 2050. Not least because energy storage costs would be very high. We would probably want to diversify a bit, not least to help with grid balancing. Before all of the nuclear fans get mad: I think there’s room for nuclear in there too.</span></p><p>But the point still stands: it seems we have a lot of untapped solar and wind resources and they could make up a large chunk of our grid, even if they’re not 100% of it.</p><p><span>Recent updates suggest that our potential for offshore wind is much higher than David MacKay estimated. This is because of the development of </span><em>floating</em><span> offshore wind.</span></p><p><span>A major limitation to fixed offshore wind is water depth: they can’t be installed in very deep waters because they need to be fixed to the seabed. Instead, floating offshore wind is built on a platform, which is then anchored to the seabed. Here’s an idea of </span><a href="https://www.researchgate.net/figure/a-Fixed-Offshore-Wind-Turbines-b-Floating-Offshore-Wind-Turbines-Wiser-R-et-al_fig3_265795516" rel="">what they look like</a><span>. This means we can have wind farms further offshore, where there is even more wind potential.</span></p><p>The differences in estimates are shown in the chart below.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png" width="506" height="365.5150753768844" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:575,&quot;width&quot;:796,&quot;resizeWidth&quot;:506,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a7f81cd-6288-4627-8b5c-dc6661b4f2fa_796x575.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>First, let’s start with MacKay’s numbers. He assumed that 120,000 km</span><sup>2</sup><span> of water was available for offshore wind. He removed two-thirds of this area because it conflicted with shipping corridors and other possible uses. That means 40,000 km</span><sup>2</sup><span> as his technical estimate.</span></p><p><span>He then reduced this to 5,000 km</span><sup>2</sup><span> as his practical estimate as a result of cost and poor public support. Why he divided by 8 to get this final figure is not clear.</span></p><p><span>O’Callaghan et al. (2023) estimate that there is between 2,500 to 12,000 km</span><sup>2</sup><span> available for fixed offshore wind, and 62,000 km</span><sup>2</sup><span> for floating offshore. For their fixed offshore estimates, they removed any farms within 25 miles of the shore due to the visual impact.</span></p><p>That equates to 2% of the UK’s exclusive economic zones for fixed offshore wind, and 8% for floating offshore.</p><p>The differences in area estimates are given in the table below.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png" width="1456" height="293" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:293,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:86619,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d8c6562-13a8-4ac3-b72f-22cd4e509506_1550x312.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>The authors give three reasons for their discrepancy with MacKay’s estimates.</p><ol><li><p><strong>Improved fixed turbine technologies. </strong><span>MacKay described all waters deeper than 30 metres as “not economically feasible”. But fixed turbines could soon be commercially feasible to around 80 metres of depth.</span></p></li><li><p><strong>Floating offshore turbines. </strong><span>The advent of floating turbines means that these can extend into much deeper waters. Note that O’Callaghan et al. (2023) already account for many other competing uses such as fishing areas, military zones, shipping routes, and low-wind areas.</span></p></li><li><p><strong>Improved social and political support. </strong><span>O’Callaghan et al. (2023) assume there is less public resistance to offshore wind, which seems appropriate.</span><strong><br></strong></p></li></ol><p>Finally, a few details on how O’Callaghan et al. (2023) calculate their wind output. They assume an average capacity factor of 50%, a turbine size of 15 MW, and a spacing of 7 times the turbine diameter between them.</p><p>David MacKay estimated that around 10% of British land could technically power wind turbines. That would produce around 449 TWh per year. Based on concerns about public support, he reduced this to 1.5% for his ‘practical’ estimate. That gives 67 TWh. See the chart below.</p><p><span>Various studies have suggested that much more of Britain has sufficient wind potential: ranging from 18% to 44% of land.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-6-138388488" href="https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain#footnote-6-138388488" target="_self" rel="">6</a></span></p><p>In their update, O’Callaghan et al. (2023) take a conservative estimate of 5% of British lands having wind farms – all of this would be on shared agricultural land. That would mean one-thirteenth of the country’s farmlands would be shared with wind projects.</p><p>To get this 5% figure, they did the following. Took the average of previous studies looking at the area of land with high wind potential: that gave 23% of land. They then cut this figure by three-quarters to account for the fact that many landowners would be resistant to the installation of wind, and some local communities would oppose it too.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png" width="490" height="353.9572864321608" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1d603edd-6105-4483-b86b-a2323a29d465_796x575.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:575,&quot;width&quot;:796,&quot;resizeWidth&quot;:490,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d603edd-6105-4483-b86b-a2323a29d465_796x575.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Most of the ‘land’ used for farming is actually open space: it’s the unused spacing between the turbines. The amount physically impacted by the installation of the turbines, roads, and infrastructure would only be 0.05% of British land. For context, around 0.9% of land in English is used for quarrying.</p><p>Finally, a few details on how O’Callaghan et al. (2023) calculate their wind output. They assume an average capacity factor of 38%, a turbine size of 7 MW, and a spacing of 6 times the turbine diameter between them.</p><p>Solar PV has developed rapidly since 2008. Cells have become more efficient and prices have plummeted.</p><p><span>For his technical estimate, MacKay assumed that 10% of British land was used for panels with a 10% efficiency. Irradiance in the UK was assumed to be 110 W/m</span><sup>2</sup><span>. For rooftop solar, he assumed 10% efficient cells on south-facing roofs.</span></p><p>As you can see in the chart, his ‘practical’ estimate was reduced to almost zero. He thought solar was far too expensive (which was true in 2008, but not today).</p><p><span>O’Callaghan et al. (2023) assume that 2% of British lands could be used for solar. This would be combined with agricultural lands – ‘agrivoltaics’. The average solar irradiance in the UK is 101 W/m</span><sup>2</sup><span>. This accounts for night-time and cloud cover. The authors cut this 101 by 55% to account for the spacing of the panels and added 15% to adjust for optimal tilt. That gave them 52 W/m</span><sup>2</sup><span>. They assumed a panel efficiency of 25%, covering 2% of British land, which is 4,740 km</span><sup>2</sup><span>.</span></p><p>Multiply these numbers together, and the number of hours in a year (8,760) and we get 544 TWh. For rooftop solar, they estimate just 25 TWh.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png" width="466" height="408.4603658536585" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:575,&quot;width&quot;:656,&quot;resizeWidth&quot;:466,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F24f0ee2a-9f19-420a-a5ec-d96b4137d5e0_656x575.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>What are the major differences to MacKay?</p><ol><li><p><strong>Lower cost: </strong><span>the price of solar PV has fallen by 90% in the last decade. MacKay’s main concern was it was too expensive: this is not the case today.</span><br></p></li><li><p><strong>Improved cell efficiency: </strong><span>MacKay used a cell efficiency of 10%, and thought an efficiency of 30% would be “quite remarkable”. Last year, Fraunhofer ISE achieved 47.6%. Efficiencies greater than 30% have also been achieved using perovskite solar cells. O’Callaghan uses a cell efficiency of 25%. See the footnote for a chart showing the differences in efficiency over time.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-7-138388488" href="https://www.sustainabilitybynumbers.com/p/can-solar-and-wind-power-britain#footnote-7-138388488" target="_self" rel="">7</a></span><strong><br></strong></p></li><li><p><strong>Combined use with agriculture: </strong><span>MacKay assumed an inherent trade-off between agricultural land and solar. He thought the Brits would never give up farmland for solar panels. But this trade-off does not always exist: there are </span><a href="https://www.carbonbrief.org/factcheck-is-solar-power-a-threat-to-uk-farmland/" rel="">now a range of projects</a><span> where solar and agriculture work in tandem (‘agrivoltaics’).</span></p></li></ol><p>Regardless of how much potential solar and wind have, we are still very far away from a low-carbon energy mix.</p><p><span>In the chart below I’ve compared the UK’s electricity generation from low-carbon energy sources (which is broader than solar and wind – it has decent amounts of nuclear and bioenergy) in 2022, to the various estimates of final energy demand in 2050. Supply data comes from </span><a href="https://ember-climate.org/" rel="">Ember Climate</a><span>.</span></p><p>We need to produce 5 to 7 times as much low-carbon energy as we do today. Better get building quickly.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png" width="502" height="420.7725947521866" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:575,&quot;width&quot;:686,&quot;resizeWidth&quot;:502,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ba3e752-53b1-4a3b-b6ad-6a3942daca81_686x575.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p data-attrs="{&quot;url&quot;:&quot;https://amzn.to/3MdaOci&quot;,&quot;text&quot;:&quot;Pre-order my forthcoming book&quot;,&quot;action&quot;:null,&quot;class&quot;:null}" data-component-name="ButtonCreateButton"><a href="https://amzn.to/3MdaOci" rel=""><span>Pre-order my forthcoming book</span></a></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png" width="610" height="122" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:220,&quot;width&quot;:1100,&quot;resizeWidth&quot;:610,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F112cef2d-7712-4f79-bee6-12be05e4ae46_1100x220.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I like gentoo's package deprecation process (139 pts)]]></title>
            <link>https://artemis.sh/2023/11/05/gentoo-mask-process.html</link>
            <guid>38151286</guid>
            <pubDate>Sun, 05 Nov 2023 14:15:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://artemis.sh/2023/11/05/gentoo-mask-process.html">https://artemis.sh/2023/11/05/gentoo-mask-process.html</a>, See on <a href="https://news.ycombinator.com/item?id=38151286">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
            <header>
                
                <time datetime="2023-11-05 00:00:00 +0000">2023-11-05</time>
            </header>
            <p>Gentoo’s process for removing packages from the main gentoo package repository is designed to make me aware of it and give me time to react, and I really appreciate that.</p>

<p>So when a package gets dropped from the gentoo repo, this happens in a few steps.</p>

<p>First, the package is masked by a <code>package.mask</code>. This does two things:</p>

<ul>
  <li>It prevents any new users from installing the package (this can be overridden, but its a conscious configuration change to do so).</li>
  <li>It alerts anyone with the package already installed that they have a masked package installed, along with a comment as to <em>why</em> it’s masked.</li>
</ul>

<p>Here’s an example. I had <code>dev-util/catalyst-3.0.22-r1</code> installed, which is masked:</p>

<div><pre><code>!!! The following installed packages are masked:
- dev-util/catalyst-3.0.22-r1::gentoo (masked by: package.mask)
/var/db/repos/gentoo/profiles/package.mask:
# Andreas K. Hüttel &lt;dilfridge@gentoo.org&gt; (2023-07-12)
# The catalyst-3 branch is outdated and not used by Gentoo
# Release Engineering anymore. Please either use git master
# (9999) as all Release Engineering build machines or wait
# for catalyst-4. Questions or bug reports about catalyst-3
# may or may not lead to useful results.
</code></pre></div>

<p>I’ve got info in the comment on why it’s masked and what I might want to do in response. In this case I just removed the package because I don’t actually use catalyst. In other cases I might decide to copy the package into my own personal repo and continue maintaining it there, accepting the maintainership burden for myself. Or I need to find a way to migrate to an alternative.</p>

<p>Catalyst isn’t really an example of what a package removal from the main repo looks like though, since it’s just that version which is masked. Here’s another one which <em>is</em> a full removal:</p>

<div><pre><code>- media-gfx/gmic-3.2.6::gentoo (masked by: package.mask)
/var/db/repos/gentoo/profiles/package.mask:
# Marek Szuba &lt;marecki@gentoo.org&gt; (2023-10-26)
# Upstream uses a massive home-made Makefile which has since the beginning
# required massive amounts of patching to make it behave reasonably
# (as well as to fix the problems which ostensibly led upstream to
# abandoning CMake, and which they immediately re-introduced in their NIH
# solution) and which if anything have only got worse since then. One,
# optional, reverse dependency in the tree.
# Removal on 2023-11-26. Bug #916289.
</code></pre></div>

<p>Maintainer doesn’t want to keep patching a difficult to work with build system. Fair enough.</p>

<p>Note <code>Removal on 2023-11-26</code>, one month after the mask date. If I run any package manager operations between the mask date and one month after the mask date, I’ll get this comment telling me the package is masked. After a month though, the package will get removed from tree along with the package mask (no need to mask a package which isn’t there anymore). So I won’t get the helpful message if I happen to go more than a month between system updates. Which I think is a fairly generous window.</p>

<p>Anyways this contrasts to me with my experience with packages getting removed from the repos with Arch Linux.</p>

<p>On Arch, packages just kinda vanish from the repos it seems like. They just stop getting updates and I don’t notice, until I try to install them on another arch machine and realize they’re gone. Or someone re-adds them to the AUR and suddenly I’m updating what used to be an official package from AUR when I run an AUR update (which is how I’ve learned about a large number of package removals).</p>

<p>I think that’s kinda the usual story too across other distributions. I’m not really sure what happens to packages that get dropped during major debian upgrade though to be honest, but I don’t think I’ve ever been notified about a package that used to be in the repos and isn’t anymore.</p>

<p>But yeah, I like that Gentoo has a system for telling me about these things and giving me time to decide what I want to do about it.</p>

        </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Berlin's famed nightclubs, losing customers, face an uncertain future (118 pts)]]></title>
            <link>https://www.npr.org/2023/11/03/1209865472/berlin-clubs-tourism-nightlife-germany-economy</link>
            <guid>38151205</guid>
            <pubDate>Sun, 05 Nov 2023 14:05:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.npr.org/2023/11/03/1209865472/berlin-clubs-tourism-nightlife-germany-economy">https://www.npr.org/2023/11/03/1209865472/berlin-clubs-tourism-nightlife-germany-economy</a>, See on <a href="https://news.ycombinator.com/item?id=38151205">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="storytext">
      <div id="res1210478849">
            <div data-crop-type="">
        <picture>
            <source srcset="https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s400-c85.webp 400w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s600-c85.webp 600w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s800-c85.webp 800w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s900-c85.webp 900w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1200-c85.webp 1200w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1600-c85.webp 1600w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1800-c85.webp 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/webp">
            <source srcset="https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s400-c85.jpeg 400w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s600-c85.jpeg 600w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s800-c85.jpeg 800w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s900-c85.jpeg 900w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1200-c85.jpeg 1200w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1600-c85.jpeg 1600w,
https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1800-c85.jpeg 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/jpeg">
            <img src="https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1100-c50.jpeg" alt="" loading="lazy">
        </picture>
        
</div>
<div>
    <div>
        <p>
                People dancing on the dance floor at Club Re:mise in Berlin on Oct. 7, 2023.
                <b aria-label="Image credit">
                    
                    Fabian Sommer/picture alliance via Getty Images
                    
                </b>
                <b><b>hide caption</b></b>
            </p>


            <p><b><b>toggle caption</b></b>
    </p></div>

    <p><span aria-label="Image credit">
        
        Fabian Sommer/picture alliance via Getty Images
        
    </span>
</p></div>
<div>
        <picture>
            <source data-original="https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1200.webp" type="image/webp">
            <source data-original="https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1200.jpeg" type="image/jpeg">
            <img data-original="https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1200.jpeg" alt="" src="https://media.npr.org/assets/img/2023/11/03/gettyimages-1722133934_slide-a77f90bce9d913f13f9fab134c8c7e2b48f439ac-s1200.jpeg">
        </picture>
    </div>
<div>
        <p>People dancing on the dance floor at Club Re:mise in Berlin on Oct. 7, 2023.</p>
        <p><span aria-label="Image credit">
            
            Fabian Sommer/picture alliance via Getty Images
            
        </span>
    </p></div>
   </div>
   <p>BERLIN — For those who haven't experienced it, a night at a club in Berlin can be reduced to a math equation whose first variable is the best club you've been to.</p>   <p>"Berlin nightlife is, let's say, what you've experienced, multiply that by 10," says Zak Khutoretsky, otherwise known by his DJ pseudonym, DVS1.</p>   <p>"Berlin nightlife is very free," he says. "It's trying to push artistic boundaries. It's trying to push personal boundaries. It's trying to let people experience music, art and culture with some rules. But those rules are created to have no rules."</p>   <p>Khutoretsky, who holds a residency at the Berlin club <a href="https://www.berghain.berlin/en/">Berghain</a>, says he's heard complaints lately from club owners and promoters in Berlin about declining numbers of club-goers. Even Berghain, typically an anomaly because it draws crowds from around the world, has raised its cover charge to deal with rising costs. He thinks fewer Europeans are making quick clubbing trips to the city due to the financial hit of the pandemic.</p>   
   <p>"So where a casual weekend to Berlin before the pandemic was a simple decision and paying the cover and eating food and taking taxis and then getting home before you have to go to work on Monday was a really easy thing to do within Europe," reasons Khutoretsky, "I think it became harder after the pandemic."</p>   <p><a href="https://www.clubcommission.de/">Berlin Clubcommission</a> chair Lutz Leichsenring says before the pandemic, a third of tourists came for the city's nightclubs, and they typically spent $1.6 billion per year while they were here.</p>   <div id="res1210416124">
            <div data-crop-type="">
        <picture>
            <source srcset="https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s400-c85.webp 400w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s600-c85.webp 600w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s800-c85.webp 800w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s900-c85.webp 900w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1200-c85.webp 1200w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1600-c85.webp 1600w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1800-c85.webp 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/webp">
            <source srcset="https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s400-c85.jpeg 400w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s600-c85.jpeg 600w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s800-c85.jpeg 800w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s900-c85.jpeg 900w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1200-c85.jpeg 1200w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1600-c85.jpeg 1600w,
https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1800-c85.jpeg 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/jpeg">
            <img src="https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1100-c50.jpeg" alt="" loading="lazy">
        </picture>
        
</div>
<div>
    <div>
        <p>
                Lutz Leichsenring, chair of the Berlin Clubcommission, says Berlin clubs are losing revenue due to inflation, minimum wage increases and the cost of energy. He's in talks with the city of Berlin to seek help.
                <b aria-label="Image credit">
                    
                    Rob Schmitz/ NPR
                    
                </b>
                <b><b>hide caption</b></b>
            </p>


            <p><b><b>toggle caption</b></b>
    </p></div>

    <p><span aria-label="Image credit">
        
        Rob Schmitz/ NPR
        
    </span>
</p></div>
<div>
        <picture>
            <source data-original="https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1200.webp" type="image/webp">
            <source data-original="https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1200.jpeg" type="image/jpeg">
            <img data-original="https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1200.jpeg" alt="" src="https://media.npr.org/assets/img/2023/11/03/2_slide-a407f19a4bfd61d17d0f2c0d0349f590ca0cfc8c-s1200.jpeg">
        </picture>
    </div>
<div>
        <p>Lutz Leichsenring, chair of the Berlin Clubcommission, says Berlin clubs are losing revenue due to inflation, minimum wage increases and the cost of energy. He's in talks with the city of Berlin to seek help.</p>
        <p><span aria-label="Image credit">
            
            Rob Schmitz/ NPR
            
        </span>
    </p></div>
   </div>
   <p>In 2021-2022, 5.5 million tourists came to Berlin,<a href="https://berlinspectator.com/2022/09/09/berlin-the-cool-and-hip-city-is-back-on-track-in-regard-to-tourism/"> 30% fewer than pre-pandemic numbers</a>.</p>   <p>But declining tourism isn't the only problem.</p>   <p>"You have inflation, you have an energy crisis and you have also the rise of the minimum wage," says Leichsenring, whose group represents Berlin's clubs, is funded by them and acts as a lobbying body for them in front of the city and federal government. "There's also less demand because fewer people are in the city. People don't spend so much money because of the inflation. It's a very critical time."</p>   <p>A critical time, too, because of how Berlin is developing as a European metropolis.</p>   <p>"I think that in Berlin, much more than in other big cities, there's a deep connection between the nightlife and urban development," says Tobias Rapp, a culture writer for <em>Der Spiegel</em> and author of the book, <em>Lost and Sound: Berlin, Techno and the Easyjet Set.</em></p>   
   <p>Rapp says Berlin's club scene is an outgrowth of how the city developed after the fall of the Berlin Wall and Germany's reunification more than three decades ago.</p>   <p>"In the years after reunification, one-third of East Berlin was empty," recalls Rapp. "There was nobody living there. It was a ghost town. So young people like me and others, we took spaces. You have an empty warehouse or an old factory that is empty, and you go in and you squatted, and you say, 'This is ours.' And you have this huge space and you say, 'What can I do with this?' You make a party."</p>   <h3>Berlin's clubs evolved from life on the margins to trendsetting culture destinations</h3>   <p>In the early 1990s in East Berlin, nightclubs popped up in abandoned breweries, power stations and bomb shelters. None of this was safe, and Rapp considers it a minor miracle there wasn't a horrible fire or other accident inside one of these makeshift clubs.</p>   <p>Eventually, investors and the city began to take note — they worked together to build legal, licensed clubs and other businesses began to arrive, too.</p>   <p>"The side effect was it was good for the value of the properties," says Rapp, "because in lots of areas that were rundown, that were empty, that were not nice, that didn't have a good reputation, you suddenly had galleries, bars, nightclubs that gave these areas certain value."</p>   <p>And with that came young renters who turned into middle-aged homeowners with children. And as housing prices have risen, Berlin's transformed, gentrified neighborhoods have become less comfortable with the city's clubs and their subculture.</p>   <p>Just down the block from Berlin's infamous fetish and sex club, the <a href="https://kitkatclub.org/">KitKatClub</a>, Undine, a resident who's critical of the club and would only give her first name for fear of retribution from club-goers and the club owner, points out the detritus of the previous evening.</p>   
   <p>"You should take a photo of all this trash the clubbers have left behind," she says with a sour face. "Nobody picks it up. Nobody cares. I've complained several times to the police about the noise and rowdiness in the early hours of the morning from this club."</p>   <p>Complaints like this are on the rise in Berlin as the city's housing prices go up and urban spaces become tighter. But for Zak Khutoretsky, the DJ, it's clear who should get a free pass.</p>   <p>"Who was there first?" he asks. "If the club was there first, why can't the club be protected in the same way that if an apartment building was there first and a club moved in? Well, in this case, the clubs were there first. The culture was there first. And I think it's important to protect those things."</p>   <p>The Berlin Clubcommission is, in fact, seeking the type of protection that the city offers its museums, opera houses and other cultural institutions, so that it can survive its current and any future downturns. Such protection includes city subsidies and tax breaks.</p>   <p>Near midnight on a Thursday at Berlin's Berghain club, there is no line. Maybe it's too early; maybe times are tough. Despite this, when Andrea Sibaja and her friends approach the bouncer, he shakes his head, directing them to the way out.</p>   <div id="res1210415891">
            <div data-crop-type="">
        <picture>
            <source srcset="https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s400-c85.webp 400w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s600-c85.webp 600w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s800-c85.webp 800w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s900-c85.webp 900w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1200-c85.webp 1200w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1600-c85.webp 1600w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1800-c85.webp 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/webp">
            <source srcset="https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s400-c85.jpeg 400w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s600-c85.jpeg 600w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s800-c85.jpeg 800w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s900-c85.jpeg 900w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1200-c85.jpeg 1200w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1600-c85.jpeg 1600w,
https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1800-c85.jpeg 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/jpeg">
            <img src="https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1100-c50.jpeg" alt="" loading="lazy">
        </picture>
        
</div>
<div>
    <div>
        <p>
                Andrea Sibaja, Jordan Inijuez and Darian Chacon, friends from Costa Rica, outside Berghain, Berlin's most famous club. Sibaja and Inijuez, visiting from Boston, had always wanted to experience Berghain, but on this day, bouncers at the door rejected them, sending them on their way.
                <b aria-label="Image credit">
                    
                    Rob Schmitz/NPR
                    
                </b>
                <b><b>hide caption</b></b>
            </p>


            <p><b><b>toggle caption</b></b>
    </p></div>

    <p><span aria-label="Image credit">
        
        Rob Schmitz/NPR
        
    </span>
</p></div>
<div>
        <picture>
            <source data-original="https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1200.webp" type="image/webp">
            <source data-original="https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1200.jpeg" type="image/jpeg">
            <img data-original="https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1200.jpeg" alt="" src="https://media.npr.org/assets/img/2023/11/03/1_slide-7d99d4ab60948ab648f9755a831161c2195734e7-s1200.jpeg">
        </picture>
    </div>
<div>
        <p>Andrea Sibaja, Jordan Inijuez and Darian Chacon, friends from Costa Rica, outside Berghain, Berlin's most famous club. Sibaja and Inijuez, visiting from Boston, had always wanted to experience Berghain, but on this day, bouncers at the door rejected them, sending them on their way.</p>
        <p><span aria-label="Image credit">
            
            Rob Schmitz/NPR
            
        </span>
    </p></div>
   </div>
   <p>They're Costa Ricans who live in Boston, and they flew to Berlin because Berghain was on their bucket list.</p>   <p>"I'm one of those people that usually wears black and I feel like, oh, maybe I'm part of that. I want to hang out with people that have the same vibe as me and.... Rejected!" Sibaja says, shaking her head.</p>   <p>Sibaja is still in a state of shock and lingers outside in the cold, watching others casually walk inside, past the bouncers who just turned her and her friends away. When she hears that Berlin clubs are complaining about fewer club-goers, she drops her jaw.</p>   
   <p>"But at the same time, they reject you," she says. "So you're like, well, what's the point? I'm coming all the way here for this, and then they're turning their back on you. I'm just going to spend my money somewhere else now."</p>   <p><em>Esme Nicholson contributed to this report from Berlin.</em></p>
</div></div>]]></description>
        </item>
    </channel>
</rss>