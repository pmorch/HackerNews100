<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Fri, 27 Oct 2023 17:00:07 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[EPA moves towards banning leaded aviation gas (237 pts)]]></title>
            <link>https://www.federalregister.gov/documents/2023/10/20/2023-23247/finding-that-lead-emissions-from-aircraft-engines-that-operate-on-leaded-fuel-cause-or-contribute-to</link>
            <guid>38039133</guid>
            <pubDate>Fri, 27 Oct 2023 14:44:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.federalregister.gov/documents/2023/10/20/2023-23247/finding-that-lead-emissions-from-aircraft-engines-that-operate-on-leaded-fuel-cause-or-contribute-to">https://www.federalregister.gov/documents/2023/10/20/2023-23247/finding-that-lead-emissions-from-aircraft-engines-that-operate-on-leaded-fuel-cause-or-contribute-to</a>, See on <a href="https://news.ycombinator.com/item?id=38039133">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main">
        <h3>Request Access</h3>
        

        <p>
  Due to aggressive automated scraping of FederalRegister.gov and eCFR.gov, programmatic access to these sites is limited to access to our extensive developer APIs.
</p>

<p>
  If you are human user receiving this message, we can add your IP address to a set of IPs that can access FederalRegister.gov &amp; eCFR.gov; complete the CAPTCHA (bot test) below and click "Request Access". This process will be necessary for each IP address you wish to access the site from, requests are valid for approximately one quarter (three months) after which the process may need to be repeated.
</p>

<form action="/request" method="post">
  

          

  
</form>

<p>
  <em>An official website of the United States government.</em>
</p>

<p>
  If you want to request a wider IP range, first request access for your current IP, and then use the "Site Feedback" button found in the lower left-hand side to make the request.
</p>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A third of chocolate products are high in heavy metals (128 pts)]]></title>
            <link>https://www.consumerreports.org/health/food-safety/a-third-of-chocolate-products-are-high-in-heavy-metals-a4844566398/</link>
            <guid>38038465</guid>
            <pubDate>Fri, 27 Oct 2023 13:57:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.consumerreports.org/health/food-safety/a-third-of-chocolate-products-are-high-in-heavy-metals-a4844566398/">https://www.consumerreports.org/health/food-safety/a-third-of-chocolate-products-are-high-in-heavy-metals-a4844566398/</a>, See on <a href="https://news.ycombinator.com/item?id=38038465">Hacker News</a></p>
<div id="readability-page-1" class="page"><div role="main">
                    

<div>
                      <figure>
            <picture>
                    <source srcset="https://article.images.consumerreports.org/image/upload/w_510,f_auto,q_auto,ar_16:9,c_lfill,dpr_2.0/v1696263716/prod/content/dam/CRO-Images-2023/10October/Special-Projects/CR-SP-InlineHero-Heavy-Metals-in-Chocolate-Products-1023" media="(max-width: 767px) and (-webkit-min-device-pixel-ratio: 2),
            (max-width: 767px) and (min-resolution: 192dpi)">
        <source srcset="https://article.images.consumerreports.org/image/upload/w_510,f_auto,q_auto,ar_16:9,c_lfill/v1696263716/prod/content/dam/CRO-Images-2023/10October/Special-Projects/CR-SP-InlineHero-Heavy-Metals-in-Chocolate-Products-1023" media="(max-width: 767px)">
                            <source srcset="https://article.images.consumerreports.org/image/upload/w_770,f_auto,q_auto,ar_16:9,c_lfill,dpr_2.0/v1696263716/prod/content/dam/CRO-Images-2023/10October/Special-Projects/CR-SP-InlineHero-Heavy-Metals-in-Chocolate-Products-1023" media="(max-width: 992px) and (-webkit-min-device-pixel-ratio: 2),
            (max-width: 992px) and (min-resolution: 192dpi)">
        <source srcset="https://article.images.consumerreports.org/image/upload/w_770,f_auto,q_auto,ar_16:9,c_lfill/v1696263716/prod/content/dam/CRO-Images-2023/10October/Special-Projects/CR-SP-InlineHero-Heavy-Metals-in-Chocolate-Products-1023" media="(max-width: 992px)">
                            <source srcset="https://article.images.consumerreports.org/image/upload/w_945,f_auto,q_auto,ar_16:9,c_lfill,dpr_2.0/v1696263716/prod/content/dam/CRO-Images-2023/10October/Special-Projects/CR-SP-InlineHero-Heavy-Metals-in-Chocolate-Products-1023" media="(min-width: 1200px) and (-webkit-min-device-pixel-ratio: 2),
            (min-width: 1200px) and (min-resolution: 192dpi)">
        <source srcset="https://article.images.consumerreports.org/image/upload/w_945,f_auto,q_auto,ar_16:9,c_lfill/v1696263716/prod/content/dam/CRO-Images-2023/10October/Special-Projects/CR-SP-InlineHero-Heavy-Metals-in-Chocolate-Products-1023" media="(min-width: 1200px)">
            
    <img src="https://article.images.consumerreports.org/image/upload/w_945,f_auto,q_auto,ar_16:9,c_lfill/v1696263716/prod/content/dam/CRO-Images-2023/10October/Special-Projects/CR-SP-InlineHero-Heavy-Metals-in-Chocolate-Products-1023" alt="Lead and Cadmium element symbols on pieces of milk and dark chocolate surrounded by chocolate cake, brownies, chocolate chips, chocolate syrup, and Cocoa powder." fetchpriority="high" width="945" height="531">
</picture>
    
                <span>
            Photo Illustration: Chris Griggs/Consumer Reports, Getty Images
        </span>
    </figure>

                </div>

<div>
            <p><time datetime="2023-10-25T06:00">
                    October 25, 2023
            </time>
</p>
                        <div>
                    <p><span itemprop="author">Data Visualizations by Andy Bergmann</span>
                    </p>
                </div>
                        
        </div>

    



                    <div id="intro">
                <p>With the holiday season approaching, many of us will be indulging in a favorite treat: chocolate. Yet despite dark chocolate’s reputation as a healthier sweet, it can also be contaminated with lead and cadmium, two heavy metals linked to serious health problems, as many people learned from <a href="https://www.consumerreports.org/health/food-safety/lead-and-cadmium-in-dark-chocolate-a8480295550/">Consumer Reports’ testing last year</a>.</p>
<p>Now CR has the results of our new tests on heavy metal levels in other kinds of chocolates and foods made with it.</p>
            </div>
    <div>
                <p>In chocolate products, the lead and cadmium are concentrated in the cocoa (or cacao), the ingredient that gives chocolate its distinctive flavor. Dark chocolate tends to have higher levels of cacao. But other chocolate products contain cacao, too, in varying quantities—from cocoa powder, which is essentially pure cocoa, to <a href="https://www.consumerreports.org/health/food-safety/are-there-heavy-metals-in-milk-chocolate-a1095452037/">milk chocolate</a>, which can have very little.</p>
<p>CR’s experts wanted to see whether other cacao-containing foods posed a risk, so we tested 48 different products in seven categories—cocoa powder, chocolate chips, milk chocolate bars, and mixes for brownies, chocolate cake, and hot chocolate. We also added a few more dark chocolate bars to our test. Products came from big name brands such as Hershey’s, Ghirardelli, and Nestlé; national retailers like Costco, Target, Trader Joe’s, Walmart, and Whole Foods; and specialty makers such as Droste and Navitas.</p>
<p>As expected, dark chocolates tended to have higher levels of heavy metals and milk chocolate lower. “But every product we tested had detectable amounts of lead and cadmium,” says James E. Rogers, PhD, director and acting head of product safety testing at CR. “Sixteen of the 48 products had amounts above CR’s levels of concern for at least one of the heavy metals—in some cases more than twice our limit—but we did find safer options in each category of chocolate products.”</p>
            </div>
    
    <div id="heavy-metals-in-chocolate">
                    <p>Heavy metals can be found in many foods—such as arsenic in rice, mercury in some types of fish, cadmium in spinach, and lead in carrots and sweet potatoes. And you can also be exposed through drinking water or your environment (such as lead paint in your house). All these sources can add up, so it is important to be aware of different pathways that contribute to your overall heavy metal intake. Chocolate may just be one of a number of contributing factors to overall heavy metal levels, but it’s a popular treat eaten by children and adults and not an essential part of a someone’s diet. So it makes sense to try to limit the amount of heavy metals people get from chocolate.&nbsp;</p>
<p>Exposure to heavy metals is of greatest concern in children and during pregnancy, because they can damage the brain and nervous system, causing developmental delays, learning and behavior problems, and more. But adults can also experience negative effects. For example, frequent lead exposure has been linked to <a href="https://www.consumerreports.org/health/nutrition-healthy-eating/immune-boosting-foods-that-help-keep-you-well-a4816367434/">immune system suppression</a>, reproductive issues, kidney damage, and hypertension.</p>
<p>Lead and cadmium are the two heavy metals that CR’s tests have found to be the most problematic in chocolate. Research indicates that <a href="https://www.consumerreports.org/health/food-safety/how-lead-and-cadmium-get-into-dark-chocolate-a3299517114/">lead and cadmium get into cocoa in different ways</a>. For cadmium, it appears that the cocoa plant takes it up from the soil. Lead, however, can be deposited on the cocoa beans after harvest, potentially from dust and soil as beans dry outdoors. These metals are both found in the cocoa solids—which, along with cocoa butter, make up cacao. That’s why products rich in cocoa solids, such as dark chocolate and cocoa powder, tend to be higher in heavy metals.</p>
                </div>
    <div id="how-c-r-tested-chocolate-products">
                    <p>We measured the amount of lead, cadmium, mercury, and arsenic in three samples of each food and averaged the results. None of the products posed a risk of arsenic or mercury exposure.</p>
<p>To assess the risk from lead and cadmium, we looked at whether a serving of each product would expose someone to California’s standard maximum allowable dose levels (MADL) for lead (0.5 micrograms per day) and cadmium (4.1 mcg per day) in food. Note that as part of a settlement to a lawsuit currently in place brought by As You Sow, an organization that pushes for corporate accountability, the vast majority of chocolate products sold in the state are subject to less stringent standards, while companies work to reduce the levels of metals in their chocolate products. </p>
<p>CR’s scientists measured heavy metal content against California’s standard levels because there are no federal limits for the amount of lead and cadmium most foods can contain, and they believe that California’s standard levels are the most protective available. However, our tests are not assessments of whether a product exceeds California’s or any other legal standard—they are meant to indicate which products had comparatively higher levels of heavy metals.&nbsp;</p>
<p>Our results are shown by category in the charts in each section below. We list the percentages of the standard MADL levels for lead and cadmium supplied in one serving of the foods. While both heavy metals increase the risk of serious health problems, products within each category are listed in order of lead level, because that heavy metal poses particular concerns and no amount of it is considered safe.</p>
                </div>
    <div id="dark-chocolate">
                    <p>When we tested dark chocolate bars last year, we found lead or cadmium levels above CR’s thresholds in 23 of 28 bars, or 82 percent of them. Our results this time were similar. Of the seven bars we tested, five, or 71 percent, were above our levels for lead, cadmium, or both.</p>
<p>Two bars—Divine 70% Deliciously Smooth Dark Chocolate and Sam’s Choice (Walmart) Dark Chocolate 85% Cocoa—fell below CR’s levels for both lead and cadmium, based on a serving of about 1 ounce. (The following bars also came in below our thresholds when we tested them last year: Ghirardelli Intense Dark Chocolate 86% Cacao, Ghirardelli Intense Dark Chocolate Twilight Delight 72% Cacao, Mast Organic Dark Chocolate 80% Cocoa, Taza Chocolate Organic Deliciously Dark Chocolate 70% Cacao, and Valrhona Abinao Dark Chocolate 85% Cacao.)&nbsp;</p>
<p>Eating an ounce of four others would put you over our limit for lead. The Perugina Premium Dark Chocolate bars had the highest amounts. One of the four, Evolved Signature Dark 72% Cacao Chocolate Bar was high in both lead and cadmium. Another bar, Sam’s Choice Dark Chocolate 72% Cocoa, was high in cadmium only.&nbsp;</p>
<p>Nestlé, which owns Perugina, told CR, “We apply strict standards to ensure our products are high quality and comply with all applicable regulatory requirements, including limits for cadmium and lead<em>.</em>” And Rick Gusmano, co-founder of Evolved Chocolate, said the company’s chocolate products fall well below levels set in the As You Sow settlement and that the company “regularly tests raw materials and finished goods to ensure compliance and, ultimately, consumer safety.” Other makers of dark chocolate with high levels of lead or cadmium did not respond to a request for comment.&nbsp;</p>
                </div>
    
    <div id="milk-chocolate">
                <p>Milk chocolate tends to be lower in heavy metals than dark chocolate because it has less cocoa solids. And in fact none of the five milk chocolate bars in our tests were over CR’s limit for either heavy metal. Hershey’s Milk Chocolate bar had the most lead, reaching 67 percent of CR’s limit. Feastables Mr. Beast Bar Milk Chocolate, with 80 percent of CR’s limit, had the most cadmium per serving. Lindt Classic Recipe Milk Chocolate Bar was the lowest overall, with one serving (about 1 ounce) containing 11 percent of the daily maximum amount of lead and 13 percent of the daily cadmium limit.</p>
            </div>
    
    <div id="chocolate-chips">
                    <p>None of these 12 products had high levels of cadmium, and only two—Hu Dark Chocolate Gems and Good &amp; Gather (Target) Semi-Sweet Mini Chocolate Chips—were over CR’s limit for lead.&nbsp;</p>
<p>But there’s a caveat: The serving size for chocolate chips is just around ½ ounce (about 1 tablespoon)—the amount you might expect to get in a cookie or two, depending on the size of the cookie. If you’re the type that likes to eat more than a few cookies, or a handful of chips straight out of the bag, with many of these you could exceed the daily limits for both cadmium and lead by eating just two servings. Some good options for snacking that are relatively low in both heavy metals are 365 Whole Foods Market Semi-Sweet Chocolate Baking Chips, Kirkland Signature Semi-Sweet Chocolate Chips, and Nestlé Toll House Semi-Sweet Morsels.&nbsp;</p>
<p>A spokesperson for Hu told CR that our test results were in line with the company’s own testing, but added that those levels fall far below those set in the As You Sow lawsuit settlement. Target did not respond to a request for comment.</p>
                </div>
    
    <div id="cocoa-powder">
                    <p>Cocoa powder is almost all cocoa solids, so you might expect that most would be too high in lead and cadmium, even in small amounts. But none of those we tested were high in cadmium, and only two had high levels of lead.&nbsp;</p>
<p>Most of the cocoa powders in our tests were natural-style—the kind most commonly available in the U.S.—and of those, a serving (1 tablespoon) of Hershey’s Cocoa Naturally Unsweetened 100% Cacao exceeded our lead limit.&nbsp;</p>
<p>Droste Cacao Powder was the only Dutch processed cocoa in our tests. This type of cocoa is alkalized to give it a less bitter taste. It was also the highest in lead of any product in our tests, supplying 324 percent of CR’s limit.&nbsp;</p>
<p>The best cocoa powder overall was Navitas Organics Organic Cacao Powder, which reached 77 percent of CR’s lead limit and 17 percent of the cadmium limit. Navitas has a third party test all finished products for heavy metals to ensure low levels, according to the <a href="https://navitasorganics.zendesk.com/hc/en-us/articles/4408161123604-Are-there-heavy-metals-in-your-cacao-">company website</a>.</p>
<p>Neither Droste nor Hershey responded to a request for comment.</p>
                </div>
    
    <div id="hot-chocolate-mixes">
                    <p>These mixes contain cocoa powder plus sugar and other ingredients, so we expected that they would be relatively low in lead and cadmium. That’s not what we found. Four of the six mixes we tested exceeded our lead limit: Great Value (Walmart) Milk Chocolate Flavor Hot Cocoa Mix, had the highest levels, with mixes from Trader Joe’s and Nestlé (which also makes hot chocolate mix for Starbucks), above CR’s cutoff.&nbsp;</p>
<p>The Nestlé spokesperson said that the company stands by the safety of its products and that it works with its “suppliers on an ongoing basis to closely monitor and minimize the presence of these substances in our foods as much as possible.” Other makers of hot chocolate with high levels of lead did not respond to requests for comment.</p>
                </div>
    
    <div id="brownie-and-cake-mixes">
                    <p>These products fared well overall in our tests. None were high in cadmium, and just one brownie mix and two cake mixes exceeded CR’s lead limits—one by quite a bit. One serving of Bob’s Red Mill Gluten Free Chocolate Cake Mix had 216 percent. The heavy metal levels refer to the amounts of the mix that are in one serving of the finished cake or brownie. (We list the number of servings each mix makes in the charts below.)&nbsp;</p>
<p>However, the serving sizes are small. For instance, Duncan Hines Devil’s Food Cake mix makes a cake that the manufacturer says will serve 10. The company’s Double Fudge Brownie mix makes 20 servings. If your cake or brownie portions are more generous, keep in mind that you’ll be getting more lead and cadmium than we list here.&nbsp;</p>
<p>Bob’s Red Mill, Simple Mills, and Ghirardelli did not respond to requests for comment.</p>
                </div>
    
    
    <div id="making-chocolate-safer">
                    <p>Since any intake of heavy metals can be harmful over time, it’s important that products contain the lowest amount possible. There are ways for manufacturers to reduce the heavy metals in their products—such as sourcing chocolate from areas that have low levels of cadmium in the soil, and making improvements in cocoa harvesting, processing, and cleaning procedures.&nbsp;</p>
<p>CR reached out to an industry trade group as well as the Food and Drug Administration for comment. </p>
<p>“Chocolate and cocoa are safe to eat and can be enjoyed as treats, as they have been for centuries,” says Christopher Gindlesperger, senior vice president of public affairs and communications for the National Confectioners Association, a candy industry group. “Food safety and product quality remain our highest priorities, and we remain dedicated to being transparent and socially responsible.”</p>
<p>The Food and Drug Administration told CR that “While the presence of cadmium and lead in chocolate has been the subject of considerable media attention, experts from around the world have found that chocolate is a minor source of exposure to these contaminants internationally.” And the agency added&nbsp;that “ all food manufacturers and processors are responsible for ensuring the safety of their food."</p>
<p>Our results, however, show that some companies may be doing a better job of keeping metals out of their products than others. That’s true even for dark chocolate and cocoa powders. “In general, products with higher cocoa content tend to have higher levels of metals, but not always,” says Eric Boring, PhD, a CR chemist who oversaw our chocolate tests. “There’s enough variation in the lead levels within each category of foods that it’s clear factors other than cocoa content affect lead levels, and that means manufacturers have the ability to reduce the heavy metals in their products to the lowest levels possible.” </p>
<p>For example, if Navitas Organic Cacao can be lower in lead, Boring says, why can’t Hershey’s make a cocoa powder that is lower in the heavy metal, too?</p>
<p>Brian Ronholm, director of food policy at CR, adds that "Earlier this year, a Hershey executive stated that the company continues to look for ways to remove more of the metals through additional cleaning and alternate sourcing. We would like for them to honor that commitment." </p>
<p>“Since the metals occur naturally in soil, it may seem that it would be difficult to reduce contamination, but <a href="https://www.consumerreports.org/health/food-safety/chocolate-makers-urged-to-get-lead-cadmium-out-of-products-a6449371819/">there are some steps that chocolate makers can take</a> to make their products safer,” Ronholm says. These include sourcing from areas with lower levels and mixing beans from different areas to ensure that the final product has lower levels. Producers could also test lots of cocoa to identify problem areas and reject particularly contaminated lots, he says.</p>
                </div>
    <div id="making-healthier-choices">
                    <p>• As much as possible, it makes sense to try to avoid heavy metals in your diet—but that doesn’t mean you should never eat chocolate.</p>
<p>• Kids and pregnant people should consume dark chocolate sparingly, if at all, because heavy metals pose the highest risk to young children and developing babies. And if you do eat it, pick products that our tests showed to have lower levels of heavy metals. When consuming other cocoa-containing items—like hot chocolate or brownies—it may be best to limit these to not every day, and also choose products lower in heavy metals. And, of course, you should limit how much you eat other foods that tend to be high in heavy metals, such as rice and rice products, carrots, and sweet potatoes.</p>
<p>• Milk chocolate can be a fine alternative for those who want to limit heavy metal exposure, but don’t treat it as a health food—it’s packed with more sugar than dark chocolate, and should still be consumed in moderation.</p>
<p>• For other adults who want to eat dark chocolate, occasional consumption won’t necessarily expose you to extremely high levels of heavy metals. But as much as possible, try to be aware of potential metal exposure from multiple sources. For more tips, see our <a href="https://www.consumerreports.org/health/food-safety/lead-and-cadmium-in-dark-chocolate-a8480295550/">previous article on metals in chocolate</a>.&nbsp;</p>
<p>• When consuming hot chocolate, brownies, chocolate cake, and other cocoa-containing products, know that they can contribute to your overall heavy metal burden. As with other types of chocolate, these are best consumed in moderation.</p>
                </div>
    
                </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Slow Death of Authenticity in an Attention Economy (335 pts)]]></title>
            <link>https://www.coryzue.com/writing/authenticity-and-engagement/</link>
            <guid>38037851</guid>
            <pubDate>Fri, 27 Oct 2023 13:00:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.coryzue.com/writing/authenticity-and-engagement/">https://www.coryzue.com/writing/authenticity-and-engagement/</a>, See on <a href="https://news.ycombinator.com/item?id=38037851">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody">
                <p><img src="https://www.coryzue.com/images/authenticity/midwit-twitter.jpg" alt="Midwit meme"></p>

<p>How I wish people used Twitter versus how they seem to be doing it lately.</p>

<p>I’m not quite sure when I started feeling uncomfortable with Twitter.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" rel="footnote">1</a></sup></p>

<p>It <em>wasn’t</em> when Elon Musk bought it, or during the mass firings, or the bluecheck fiasco, or the rebrand to X, or any of the other politically-obvious times that many people decided to give up on it.</p>

<p>No, I was a Twitter optimist for a long time.</p>

<p>But somehow, somewhere over the last few months, my positive outlook on the platform has slowly eroded away. As I—ironically—spend as much time as ever scrolling through my feed—I find myself more and more annoyed, jealous, outraged, yes, but mostly just… <em>bored</em>.</p>

<p>And what’s funny is that the content is more “engaging” than ever. My feed is full of posts that have obviously had more effort put into it than most of what I used to see. Megathreads about AI, thoughtful, longform narratives that could have been blog posts, carefully curated images, and super-positive business updates. It’s mostly <em>engaging stuff</em>.</p>

<p>And therein, I think, lies the problem. <strong>The content I now see on Twitter is content that has been designed to be seen on Twitter.</strong> Tweeting has become a job. Quite literally, for many people, ever since they’ve started paying creators a share of ad revenue.</p>

<p>And yes, on the surface this incentivizes people to create better content. The better your content is, the more it gets seen, and the more money you make. And yet, my felt experience of this change is the exact opposite—as people seek more engagement, their content gets <em>worse</em>. What’s going on here?</p>

<p>One possibility is that I am unusual. I go on Twitter for <em>authenticity</em>. I have carefully curated a list of human beings who I know by name, and whose ideas and actions interest me. But authenticity is often at odds with growth.</p>

<p>Why? Well to <em>grow</em> you need to be noticed. To be noticed, you need to stand out. And to stand out is—usually—inauthentic.
Yes, we all say and do noteworthy things, but not every day. To do or say noteworthy things every day involves some degree of forcedness, repetition, or <em>trying</em>. The opposite of authenticity.</p>

<p>If I wanted to get 10x more engagement than usual on a Tweet tomorrow, I could. I could post some celebratory brag about how much money I’m earning from my businesses (“omg $10k MRR!”). I could pick a fight on a topic people feel strongly about (“React sucks!”).
I could mention it’s my birthday and post a picture of myself (“Can’t believe I’m 41!”).<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" rel="footnote">2</a></sup>
I could ask a question that lets people promote themselves (“What’s your favorite personal website?”),
angrily quote-tweet a terrible take, and so on.</p>

<p>I know these things work. And I occasionally do them, knowing they will work.
I try to do this only a handful of times a year, because even though they <em>work</em>, and even though they <em>are useful for me and <a href="https://scriv.ai/">my</a> <a href="https://www.saaspegasus.com/">businesses</a></em>,
and even though they <em>make my lizard brain feel good</em>, a part of me still hates them. Even a few times a year.</p>

<blockquote><div lang="en" dir="ltr"><p>Take the red pill and get thousands of likes and new followers. You just have to sacrifice a tiny bit of your authenticity.</p><p>Take the blue pill and be your true, honest, and proud self. Except no one really notices or cares.</p><p>What do you do? <a href="https://t.co/OsIirl93Te">pic.twitter.com/OsIirl93Te</a></p></div>— Cory Zue (@czue) <a href="https://twitter.com/czue/status/1709291338406015447?ref_src=twsrc%5Etfw">October 3, 2023</a></blockquote>


<p>Clearly I’ve been wrestling with this issue for a little while now.</p>

<p>But oh boy, not the people in my feed. The people in my feed—most of whom I’m not following, by the way—<em>love</em> posting for engagement. Some of them love it so much that they offer courses teaching other people how to do it—which amplifies this godforsaken death spiral even further.</p>

<p>And so now we find ourselves in a situation where all these asshats with 20k followers and a Stripe account are now <em>running their Twitter account as a business</em>. And this has led to a slow and inevitable decline from authenticity to some version of marketing (look at my content!) and sales (follow me!).</p>

<blockquote><p lang="en" dir="ltr">The natural end state of marketplaces and social media is the eventual shift from user generated supply to professionalized supply/content. They can fight it for some time, but eventually there is no other way to keep scaling (or prevent power users from peeling off)</p>— Kevin Kwok (@kevinakwok) <a href="https://twitter.com/kevinakwok/status/1688978920001970177?ref_src=twsrc%5Etfw">August 8, 2023</a></blockquote>


<p>What we are witnessing now is the <em>professionalization</em> of Twitter.</p>

<p>And look, I don’t think it’s just the algorithm and the incentives. Elon’s political antics chased away a lot of good people.
Many of my favorite follows have moved to Mastodon, Threads, and Bluesky.<sup id="fnref:3" role="doc-noteref"><a href="#fn:3" rel="footnote">3</a></sup>
Also, more and more people are waking up and realizing that social media is actually quite bad for you, and leaving it behind.
Good for them. Bad for me.<sup id="fnref:4" role="doc-noteref"><a href="#fn:4" rel="footnote">4</a></sup></p>

<p>Still—and quite ironically—if anything actually gets me to stop using this platform,
it’s going to be the changes that are supposed to make it grow.</p>

<hr>

<p><em>If you liked this, you can <a href="https://x.com/czue/status/1717889142997086412">share it on Twitter</a>, discuss it <a href="https://news.ycombinator.com/item?id=38037851">on Hacker News</a>,
or sign up below to get emailed when I post new stuff.</em></p>

<p><strong>Notes</strong></p>



            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why Is the Django Admin "Ugly"? (104 pts)]]></title>
            <link>https://www.coderedcorp.com/blog/why-is-the-django-admin-ugly/</link>
            <guid>38037596</guid>
            <pubDate>Fri, 27 Oct 2023 12:32:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.coderedcorp.com/blog/why-is-the-django-admin-ugly/">https://www.coderedcorp.com/blog/why-is-the-django-admin-ugly/</a>, See on <a href="https://news.ycombinator.com/item?id=38037596">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody">
        <p><em>Updated October 27, 2023 to include additional quotes and commentary.</em></p>
<p>While talking with people at Djangocon US, one question kept coming up: “why is the Django admin so ‘ugly’?”. I’m paraphrasing here, so pardon the click-bait title, but the question came in many forms. Why does the Django admin have a “dated” UI? Why has the Django admin not changed much in all these years? Why is the Django admin missing &lt;insert feature&gt;?</p>
<p>Being an old-timer (my first Djangocon was 2012, a century ago in web dev time) I thought I had the answer: the Django admin is “ugly” to discourage you from giving it to clients or end-users.</p>
<p>But thankfully, there are better people than me who walk this earth. One such person is Janelle who asked: “can I get a source for that?”. Challenge accepted. Not wanting to let Janelle down, I searched far and wide, across the vast expanse of conference rooms and laptop screens, to seek the wisdom of Django maintainers. The teacher becomes the student.</p>
<blockquote>
<p>The Django admin is not ugly, rather, no effort was made to make it a beautiful end-user tool.</p>
</blockquote>
<p><a href="https://www.djangoproject.com/weblog/2020/dec/23/2020-malcolm-tredinnick-memorial-prize-awarded-ken/">Ken Whitesell</a>, longtime Django user and ever-present face in the Django community, has worked with Django since version 1.2. Ken very rightfully corrected my question: the Django admin is not ugly, rather, no effort was made to make it a beautiful end-user tool. Ken then pointed out that the answer to my question was front-and-center in the Django documentation itself:</p>
<blockquote>
<p>The admin’s recommended use is limited to an organization’s internal management tool. It’s not intended for building your entire front end around.</p>
<p>— From https://docs.djangoproject.com/en/4.2/ref/contrib/admin/</p>
</blockquote>
<p>Ken also pointed out that this exact question has come up time and time again in the Django forum. <a href="https://forum.djangoproject.com/search?q=The%20admin%27s%20recommended%20use%20is%20limited%20to%20an%20organization%27s%20internal%20management%20tool">See for yourself</a>.</p>
<p>So that answers the <em>how</em>; now I wanted the <em>why</em>. Why is this the intended use case for the Django admin?</p>
<blockquote>
<p>The Django admin was built for Phil.</p>
<p>— Jacob Kaplan-Moss</p>
</blockquote>
<p><a href="https://jacobian.org/">Jacob Kaplan-Moss</a>, co-creator of Django, gave me the most beautifully literal answer: “The Django admin was built for Phil”, referring to Phil Cauthon, then-editor of Lawrence.com weekly newspaper, one of the first Django sites ever built. Since Django was originally built for the newspaper, the admin was used by internal staff who were trusted to know how to use it. “If something was edited or messed up in the admin, you could walk over to someone’s desk and ask ‘why did you do that?’”, Jacob recounts of the original Django admin workflow.</p>
<p>Both Ken and Jacob came to a consensus, which sort of aligned with my answer as well. The Django admin is more about organizational administration and trust. You have administrative/organizational/political control over who uses the admin and what they do with it. There is an implicit level of trust in your staff. You don’t need to invest the time and effort into making it a customer-facing tool used by people who are not familiar with your product.</p>
<blockquote>
<p>Even in the 0.9x days we used to have a image that said “Admin: it’s not your app”.</p>
<p>— Curtis Maloney</p>
</blockquote>
<p><a href="https://www.djangoproject.com/weblog/2013/nov/04/announcing-inaugural-winner-malcolm-tredinnick-mem/">Curtis Maloney</a>, known as <a href="https://chaos.social/@FunkyBob/111298736068471171">FunkyBob online</a>, recalls the earliest days of Django: “Even in the 0.9x days we used to have a image that said ‘Admin: it’s not your app’”. Curtis and I both agree that the Django admin is a great database tool, but should be treated as such.  As Curtis put it, “encouraging people to build their own management interface, and treat admin as a DB admin tool, has saved a lot of people pain... the effort to customise it grows far faster than the payoffs.”</p>
<p>All that being said, the Django admin is still a tool used by humans, so we should continue making improvements to make it accessible. My colleague <a href="https://2023.djangocon.us/talks/djangos-accessibility-track-record/">Thibaud Colas gave a fantastic talk about this</a> (a recording of the talk will be available soon).</p>
<p>Lastly, if you find the need to give the Django admin to your customers or end-users, consider checking out the <a href="https://docs.wagtail.org/en/stable/reference/contrib/modeladmin/index.html">Wagtail ModelAdmin</a>, which is nearly a drop-in replacement (and runs alongside the existing Django admin) with the benefit of tremendous accessibility, fine-grained control, and a beautiful UX built for non-technical end-users.</p>
<p><strong>P.S.</strong> Thank you to Janelle who challenged me on this by asking for a source. I learned a thing or two in the process. It’s a great reminder to challenge your own understanding; and another reason why spending time with the wonderful folks in our community can really refresh your mind.</p>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Study shows antibodies against PEG in 83% of the German population (125 pts)]]></title>
            <link>https://www.mpip-mainz.mpg.de/en/press/pr-2022-22</link>
            <guid>38037245</guid>
            <pubDate>Fri, 27 Oct 2023 11:42:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.mpip-mainz.mpg.de/en/press/pr-2022-22">https://www.mpip-mainz.mpg.de/en/press/pr-2022-22</a>, See on <a href="https://news.ycombinator.com/item?id=38037245">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  
  
  
  <p>Study shows antibodies against polyethylene glycol in 83 percent of the German population</p>
  

  

  <p>It has long been known that people can form defenses and thus antibodies against viruses. But antibodies can also develop against polyethylene glycol (PEG), a substance used in cosmetics, food and medicine. These influence the effectiveness of drugs. A team of researchers from the Max Planck Institute for Polymer Research has now investigated how widespread these antibodies already are in German society and how they might influence medical therapies using nanocarriers.</p>
  
  
<figure data-description="Anti-PEG antibodies circulate in the blood of many people and bind to PEGylated nanocarriers" data-picture="base64;PHBpY3R1cmUgY2xhc3M9IiIgZGF0YS1pZXNyYz0iLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk1UUXdNQ3dpWm1sc1pWOWxlSFJsYm5OcGIyNGlPaUpxY0djaUxDSnZZbXBmYVdRaU9qZzRNVEk1TUgwJTNELS1mZDJjNjRjMGExYTlkNzI2YjJhNmFhNGZlY2NiNWI1N2EzMGYwYTU4IiBkYXRhLWFsdD0iQW50aS1QRUcgYW50aWJvZGllcyBjaXJjdWxhdGUgaW4gdGhlIGJsb29kIG9mIG1hbnkgcGVvcGxlIGFuZCBiaW5kIHRvIFBFR3lsYXRlZCBuYW5vY2FycmllcnMiIGRhdGEtY2xhc3M9IiI+PHNvdXJjZSBtZWRpYT0iKG1heC13aWR0aDogNzY3cHgpIiBzcmNzZXQ9Ii84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny53ZWJwP3Q9ZXlKM2FXUjBhQ0k2TkRFMExDSm1hV3hsWDJWNGRHVnVjMmx2YmlJNkluZGxZbkFpTENKdlltcGZhV1FpT2pnNE1USTVNSDAlM0QtLTc1NTkwNGIxYTc5YTc5MjlmYTBlMmQ3NTQyMDc1ZjEzMjY3YTFiMDUgNDE0dywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LndlYnA/dD1leUozYVdSMGFDSTZNemMxTENKbWFXeGxYMlY0ZEdWdWMybHZiaUk2SW5kbFluQWlMQ0p2WW1wZmFXUWlPamc0TVRJNU1IMCUzRC0tNzI1YzVkNzNmZTEyYmU4MDRjNTQwZDEyZTc0NTRkZWQ2YWQ1MjkwNyAzNzV3LCAvODgxMjkwL29yaWdpbmFsLTE2OTczNjczODcud2VicD90PWV5SjNhV1IwYUNJNk16SXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbmRsWW5BaUxDSnZZbXBmYVdRaU9qZzRNVEk1TUgwJTNELS1jOWFhNjk2M2YxM2UzYWQ1MjQ5YzVlODJlZGM2MmE5Y2NhYzJkYjFmIDMyMHcsIC84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny53ZWJwP3Q9ZXlKM2FXUjBhQ0k2TkRFeExDSm1hV3hsWDJWNGRHVnVjMmx2YmlJNkluZGxZbkFpTENKdlltcGZhV1FpT2pnNE1USTVNSDAlM0QtLWZkZGVhZTcwZTdkMWVkMWQ5ZmVhZDZhOTBkOGM1OTUyZDVmNzMxNTcgNDExdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LndlYnA/dD1leUozYVdSMGFDSTZORGd3TENKbWFXeGxYMlY0ZEdWdWMybHZiaUk2SW5kbFluQWlMQ0p2WW1wZmFXUWlPamc0TVRJNU1IMCUzRC0tYzI3Y2ZmMTZkODU5OTVmNWUxNGE2NTA3NDgzYWRiZjkxZTQ5OWFiOSA0ODB3LCAvODgxMjkwL29yaWdpbmFsLTE2OTczNjczODcud2VicD90PWV5SjNhV1IwYUNJNk16WXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbmRsWW5BaUxDSnZZbXBmYVdRaU9qZzRNVEk1TUgwJTNELS0yN2JkNTIyNDFmZmEzYzcxZGQ4OTFiMDNhZGJlNzM0ZmUzMDhiZDRkIDM2MHcsIC84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny53ZWJwP3Q9ZXlKM2FXUjBhQ0k2T0RJNExDSm1hV3hsWDJWNGRHVnVjMmx2YmlJNkluZGxZbkFpTENKdlltcGZhV1FpT2pnNE1USTVNSDAlM0QtLTU1NmU4Y2MyYzJmMWZmY2UwZjhmZjU5YjM2YzczYzU2OWRkZTEzZGYgODI4dywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LndlYnA/dD1leUozYVdSMGFDSTZOelV3TENKbWFXeGxYMlY0ZEdWdWMybHZiaUk2SW5kbFluQWlMQ0p2WW1wZmFXUWlPamc0TVRJNU1IMCUzRC0tNzhmOTFkZjE3OGM0OGM5YThjODllZjgxYTE3ZWEwNjg2YWI3YTc2ZSA3NTB3LCAvODgxMjkwL29yaWdpbmFsLTE2OTczNjczODcud2VicD90PWV5SjNhV1IwYUNJNk5qUXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbmRsWW5BaUxDSnZZbXBmYVdRaU9qZzRNVEk1TUgwJTNELS1jZTNkOWZlZTRiOWRlYzg0MDhlODlhMTc1ODQ5MzVmNWRmNWFmZWU0IDY0MHcsIC84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny53ZWJwP3Q9ZXlKM2FXUjBhQ0k2T0RJeUxDSm1hV3hsWDJWNGRHVnVjMmx2YmlJNkluZGxZbkFpTENKdlltcGZhV1FpT2pnNE1USTVNSDAlM0QtLTUyZTFhMDQ2ZDc0ZjFhNWRmZDU5OTc1MGEyZjc2NGVkMDQyZGYyOTQgODIydywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LndlYnA/dD1leUozYVdSMGFDSTZPVFl3TENKbWFXeGxYMlY0ZEdWdWMybHZiaUk2SW5kbFluQWlMQ0p2WW1wZmFXUWlPamc0TVRJNU1IMCUzRC0tYjExNjRhZTk4ZWVmODhmZGE3ZTY5M2YwMGUzYjYwMTBhNzE1NzlmMyA5NjB3LCAvODgxMjkwL29yaWdpbmFsLTE2OTczNjczODcud2VicD90PWV5SjNhV1IwYUNJNk56SXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbmRsWW5BaUxDSnZZbXBmYVdRaU9qZzRNVEk1TUgwJTNELS0zY2MyODAwZWQwMDZiZmJmZmJmMTVhODM3ZDAwZWM0NGQ5ZjI4Zjk4IDcyMHciIHNpemVzPSIxMDB2dyIgdHlwZT0iaW1hZ2Uvd2VicCIgLz48c291cmNlIG1lZGlhPSIobWF4LXdpZHRoOiA3NjdweCkiIHNyY3NldD0iLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk5ERTBMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLWFmMGFkMDA0NDc3NDU5ZTBlYThhZTUzY2U2M2U1NDM5YmQ5ZTY4ZmUgNDE0dywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk16YzFMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLWQwMzc4ZTk0OTEwYmIwMjliMTM3Mjg4ZGFhNjE2OTdiMWJmNDFjYzkgMzc1dywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk16SXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLTZiZTNhMDljM2M2MGM2N2I4NTI5MzMyMzcwOThjNGUwNmVjMzgwMTQgMzIwdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk5ERXhMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLWUxY2ZkNWFlYjFmOWMyMTZhZjRmNmQ5MGMzNzlkMGY2MWVkYmMxNTEgNDExdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk5EZ3dMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLTI4NDMwZTdlYjliMDQ5MDVlN2YzMmU4MjQ4OTQyNThhN2NkNzMzYzMgNDgwdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk16WXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLWZmYWU2NWI0NTJkMDg3MTFmYTcyZWE3YTk1ZTE5Nzg5YTA3ZWVhZWMgMzYwdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk9ESTRMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLTMyZjYzZDdiOTMxZjNlM2Y5MDRlYjBiZjMzNWQ1NDQzZjkxNjY2YTkgODI4dywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk56VXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLWEwNjM2N2M5MjVjNjk5YzUwMmNlZWY4ZjcyMjU5MDE1MzZiYjk2ZjcgNzUwdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk5qUXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLTM1OWY2YjMzZWRlODUxZjg1NDRlNDM2YTk4NzFhMzRkMWM2Y2I1MDQgNjQwdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk9ESXlMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLTVmYTczMDVmMTg5MWY5NDY2YTNkZTZjOWVmNWQwMWRjNjI3YTViZTAgODIydywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk9UWXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLTAzYzA4MTU1NzFlZWQ3MTVjYjIyZDllZjBkZWUxMDM1NDgwYWMwZmQgOTYwdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk56SXdMQ0ptYVd4bFgyVjRkR1Z1YzJsdmJpSTZJbXB3WnlJc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLWU4ZWY1NGQ5NzVmZmI1ZWU4YjkzNDdiMjc2NDdkNjg1MGFkYWI3NjIgNzIwdyIgc2l6ZXM9IjEwMHZ3IiB0eXBlPSJpbWFnZS9qcGVnIiAvPjxzb3VyY2UgbWVkaWE9IihtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1heC13aWR0aDogOTkxcHgpIiBzcmNzZXQ9Ii84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny53ZWJwP3Q9ZXlKM2FXUjBhQ0k2T1RBd0xDSm1hV3hsWDJWNGRHVnVjMmx2YmlJNkluZGxZbkFpTENKdlltcGZhV1FpT2pnNE1USTVNSDAlM0QtLTM0OWNkOGFhNTA0NGFmODhiMTA2Y2M4MjRiMzUyOGI1MTI2OTkzMTggOTAwdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LndlYnA/dD1leUozYVdSMGFDSTZNVGd3TUN3aVptbHNaVjlsZUhSbGJuTnBiMjRpT2lKM1pXSndJaXdpYjJKcVgybGtJam80T0RFeU9UQjktLWM1ODE0ZjE0NjRhY2E3MjAwODE2MWEyNDU3OTlmNTZkYTQwMjBiZDQgMTgwMHciIHNpemVzPSI5MDBweCIgdHlwZT0iaW1hZ2Uvd2VicCIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiA3NjhweCkgYW5kIChtYXgtd2lkdGg6IDk5MXB4KSIgc3Jjc2V0PSIvODgxMjkwL29yaWdpbmFsLTE2OTczNjczODcuanBnP3Q9ZXlKM2FXUjBhQ0k2T1RBd0xDSm1hV3hsWDJWNGRHVnVjMmx2YmlJNkltcHdaeUlzSW05aWFsOXBaQ0k2T0RneE1qa3dmUSUzRCUzRC0tNTU3NTAzZjhhOTMxM2Y1ZjIyMmFlODRmZTkxYTQxZTFmYWNmNjBjMSA5MDB3LCAvODgxMjkwL29yaWdpbmFsLTE2OTczNjczODcuanBnP3Q9ZXlKM2FXUjBhQ0k2TVRnd01Dd2labWxzWlY5bGVIUmxibk5wYjI0aU9pSnFjR2NpTENKdlltcGZhV1FpT2pnNE1USTVNSDAlM0QtLTg5NGNlMDVjN2Q3OGJmMjAzNDdkYmM0YmRhOTkwNWE0MjFiNGI5NzggMTgwMHciIHNpemVzPSI5MDBweCIgdHlwZT0iaW1hZ2UvanBlZyIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiA5OTJweCkgYW5kIChtYXgtd2lkdGg6IDExOTlweCkiIHNyY3NldD0iLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LndlYnA/dD1leUozYVdSMGFDSTZNVEl3TUN3aVptbHNaVjlsZUhSbGJuTnBiMjRpT2lKM1pXSndJaXdpY1hWaGJHbDBlU0k2T0RZc0ltOWlhbDlwWkNJNk9EZ3hNamt3ZlElM0QlM0QtLTdjMWY0Nzk4Njk2YmM4ZTcwMzNhN2RlMzVkZDI2NzQ3NGY3ZjIzMGYgMTIwMHcsIC84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny53ZWJwP3Q9ZXlKM2FXUjBhQ0k2TWpRd01Dd2labWxzWlY5bGVIUmxibk5wYjI0aU9pSjNaV0p3SWl3aWIySnFYMmxrSWpvNE9ERXlPVEI5LS05ODIxYTc1NDZlNWE3NmRmYjI2YTNmZWE5ZjEzMDYxNzM0N2Y5MzhjIDI0MDB3IiBzaXplcz0iMTIwMHB4IiB0eXBlPSJpbWFnZS93ZWJwIiAvPjxzb3VyY2UgbWVkaWE9IihtaW4td2lkdGg6IDk5MnB4KSBhbmQgKG1heC13aWR0aDogMTE5OXB4KSIgc3Jjc2V0PSIvODgxMjkwL29yaWdpbmFsLTE2OTczNjczODcuanBnP3Q9ZXlKM2FXUjBhQ0k2TVRJd01Dd2labWxzWlY5bGVIUmxibk5wYjI0aU9pSnFjR2NpTENKdlltcGZhV1FpT2pnNE1USTVNSDAlM0QtLTg4ODFlZTE0NjEzZjkxNzk0OGFlODkwZGZmN2NlZWExZWYyZjc2YmIgMTIwMHcsIC84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny5qcGc/dD1leUozYVdSMGFDSTZNalF3TUN3aVptbHNaVjlsZUhSbGJuTnBiMjRpT2lKcWNHY2lMQ0p2WW1wZmFXUWlPamc0TVRJNU1IMCUzRC0tZTZmOTY0MTJmMDUzMmU5NjJlZGYyNTcwOWY2ODhmMzY0N2U4ZjYwZCAyNDAwdyIgc2l6ZXM9IjEyMDBweCIgdHlwZT0iaW1hZ2UvanBlZyIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiAxMjAwcHgpIiBzcmNzZXQ9Ii84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny53ZWJwP3Q9ZXlKM2FXUjBhQ0k2TVRRd01Dd2labWxzWlY5bGVIUmxibk5wYjI0aU9pSjNaV0p3SWl3aWNYVmhiR2wwZVNJNk9EWXNJbTlpYWw5cFpDSTZPRGd4TWprd2ZRJTNEJTNELS0xMTVlMjkzMjVmNjY4ODI4YWIyMjM2Mjk1NzdhY2UzZmQzMjMxNzExIDE0MDB3LCAvODgxMjkwL29yaWdpbmFsLTE2OTczNjczODcud2VicD90PWV5SjNhV1IwYUNJNk1qZ3dNQ3dpWm1sc1pWOWxlSFJsYm5OcGIyNGlPaUozWldKd0lpd2liMkpxWDJsa0lqbzRPREV5T1RCOS0tZmU2MDAyZWI3NzcxZjlmMzU3NGZlODI5NjljZTI4ZmIwODMzOWU5NSAyODAwdyIgc2l6ZXM9IjE0MDBweCIgdHlwZT0iaW1hZ2Uvd2VicCIgLz48c291cmNlIG1lZGlhPSIobWluLXdpZHRoOiAxMjAwcHgpIiBzcmNzZXQ9Ii84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny5qcGc/dD1leUozYVdSMGFDSTZNVFF3TUN3aVptbHNaVjlsZUhSbGJuTnBiMjRpT2lKcWNHY2lMQ0p2WW1wZmFXUWlPamc0TVRJNU1IMCUzRC0tZmQyYzY0YzBhMWE5ZDcyNmIyYTZhYTRmZWNjYjViNTdhMzBmMGE1OCAxNDAwdywgLzg4MTI5MC9vcmlnaW5hbC0xNjk3MzY3Mzg3LmpwZz90PWV5SjNhV1IwYUNJNk1qZ3dNQ3dpWm1sc1pWOWxlSFJsYm5OcGIyNGlPaUpxY0djaUxDSnZZbXBmYVdRaU9qZzRNVEk1TUgwJTNELS0yN2IxNWMwNDBhYjI1MWY4Mjk4Y2QwMzI5ODBlNjc0YmViZGU0MjRlIDI4MDB3IiBzaXplcz0iMTQwMHB4IiB0eXBlPSJpbWFnZS9qcGVnIiAvPjxpbWcgYWx0PSJBbnRpLVBFRyBhbnRpYm9kaWVzIGNpcmN1bGF0ZSBpbiB0aGUgYmxvb2Qgb2YgbWFueSBwZW9wbGUgYW5kIGJpbmQgdG8gUEVHeWxhdGVkIG5hbm9jYXJyaWVycyIgY2xhc3M9IiIgdGl0bGU9IkFudGktUEVHIGFudGlib2RpZXMgY2lyY3VsYXRlIGluIHRoZSBibG9vZCBvZiBtYW55IHBlb3BsZSBhbmQgYmluZCB0byBQRUd5bGF0ZWQgbmFub2NhcnJpZXJzIiBzcmM9Ii84ODEyOTAvb3JpZ2luYWwtMTY5NzM2NzM4Ny5qcGc/dD1leUozYVdSMGFDSTZNVFF3TUN3aVptbHNaVjlsZUhSbGJuTnBiMjRpT2lKcWNHY2lMQ0p2WW1wZmFXUWlPamc0TVRJNU1IMCUzRC0tZmQyYzY0YzBhMWE5ZDcyNmIyYTZhYTRmZWNjYjViNTdhMzBmMGE1OCIgLz48L3BpY3R1cmU+">
      
      

    
</figure>

<p>A virus invades the body and the immune system begins to work: Antibodies develop that fight the infection. At the same time, an immune memory builds up so that antibodies can be quickly made available in the event of a new infection. Surprisingly, antibodies can also form against polyethylene glycol (PEG), a molecule with a fairly simple structure.</p><p>In addition to cosmetic products - from creams, perfumes and lotions to lipstick - polyethylene glycol is also used in medicine. Here, it serves as a kind of camouflage coat against the body's own immune system, thus increasing the circulation time of an active ingredient in the blood.</p><p>"For us, PEG is interesting for coating nano-sized drug carriers with it," says Svenja Morsbach, group leader in Katharina Landfester's department at the MPI for Polymer Research. In this way, the researchers achieve a longer circulation time for the drug capsules, which are only nanometers in size and could be an important component in novel cancer therapies in the future, for example.</p><p>In their studies, the team led by Morsbach and Landfester examined more than 500 blood samples from patients taken in 2019. "The antibodies formed against PEG attach themselves to the coated nanocarriers, thus counteracting the effect that is actually desired: the nanocarrier becomes visible to the immune system and is removed before it can exert its effect," explains Katharina Landfester, director of the department.</p><p>The researchers led by Morsbach and Landfester assume that therapies will have to be adapted in the future to respond to this behavior of the immune system. In their statistical studies of blood samples, they found that PEG antibodies were already detectable in 83% of the samples examined.</p><p>The concentration of PEG antibodies in the blood correlates antiproportionally with the age of the person examined: the older the person, the fewer PEG antibodies were present. "We currently assume that this is due to the increasing use of PEG in various areas of life only recently and the variation of the immune system in age," says Morsbach.</p><p>In further studies, the researchers would now like to find out how future therapies could be adapted to compensate for the reduced camouflage of the nanocarriers. "Ideas would include whether PEG can be replaced or possibly dispensed with altogether," Morsbach said. But determining the antibody concentration in a patient's blood and individually adjusting the amount of active ingredient could also be an alternative.</p><p>They have published their current results in the renowned journal "Nanoscale Horizons".</p>
  
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Lessons Learned from Twenty Years of Site Reliability Engineering (110 pts)]]></title>
            <link>https://sre.google/resources/practices-and-processes/twenty-years-of-sre-lessons-learned/</link>
            <guid>38037141</guid>
            <pubDate>Fri, 27 Oct 2023 11:25:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sre.google/resources/practices-and-processes/twenty-years-of-sre-lessons-learned/">https://sre.google/resources/practices-and-processes/twenty-years-of-sre-lessons-learned/</a>, See on <a href="https://news.ycombinator.com/item?id=38037141">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page-content">
        
        <h2>Or, Eleven things we have learned  as Site Reliability Engineers at Google</h2>
        <h3>Authors</h3>
        <p>Adrienne Walcer, Kavita Guliani, Mikel Ward, Sunny Hsiao, and Vrai Stacey</p>
        <h3>Contributors</h3>
        <p>Ali Biber, Guy Nadler, Luisa Fearnside, Thomas Holdschick, and Trevor Mattson-Hamilton</p>
        <h3>Foreword</h3>
<p>A lot can happen in twenty years, especially when you're busy growing.</p>
<p>Two decades ago, Google had a pair of small datacenters, each housing a few thousand servers, connected in a ring by a pair of 2.4G network links. We ran our private cloud (though we didn't call it that at the time) using Python scripts such as "Assigner" and "Autoreplacer" and "Babysitter" which operated on config files full of individual server names. We had a small database of the machines (MDB) which helped keep information about individual servers organized and durable. Our small team of engineers used scripts and configs to solve some common problems automatically, and to reduce the manual labor required to manage our little fleet of servers.</p>
<p>Time passed, Google's users came for the search and stayed for the free GB of Gmail, and our fleet and network grew with it. Today, in terms of computing power, we are over 1,000 times as large as we were 20 years ago; in network, over 10,000 times as large, and we spend far less effort per server than we used to while enjoying much better reliability from our service stack. Our tools have evolved from a collection of Python scripts, to integrated ecosystems of services, to a unified platform which offers reliability by default. And our understanding of the problems and failure modes of distributed systems also evolved, as we experienced new classes of outages. We created the <a href="https://sre.google/sre-book/accelerating-sre-on-call/" title="Wheel of Misfortune">Wheel of Misfortune</a>, we wrote <a href="https://sre.google/sre-book/service-best-practices/" title="Service Best Practices guides">Service Best Practices guides</a>, we published Google's Greatest Hits, and today are delighted to present:</p>
<p>Lessons learned from two decades of Site Reliability Engineering</p>
<p>Let's start back in 2016, when YouTube was offering your favorite videos such as "Carpool Karaoke with Adele" and the ever-catchy "Pen-Pineapple-Apple-Pen." YouTube experienced a fifteen-minute global outage, due to a bug in YouTube's distributed memory caching system, disrupting YouTube's ability to serve videos. Here are three lessons we learned from this incident.</p>
          <div>
            <h2>1</h2>
            <p>The riskiness of a mitigation should scale with the severity of the outage</p>
          </div>
          <p>There's a meme where one person posts a picture of a spider seen in their house, and the captain says, "TIME 2 MOVE 2 A NEW HOUSE!". The joke is that the incident (seeing a scary spider) would be responded to with a severe mitigation (abandon your current home and move to a new one). We, here in SRE, have had some interesting experiences in choosing a mitigation with more risks than the outage it's meant to resolve. During the aforementioned YouTube outage, a risky load-shedding process didn't fix the outage... it instead created a cascading failure.</p>
<p>We learned the hard way that during an incident, we should monitor and evaluate the severity of the situation and choose a mitigation path whose riskiness is appropriate for that severity. In a best case scenario, a risky mitigation resolves an outage. In a worst case scenario, the risky mitigation misfires and the outage is prolonged by something that was intended to fix it. Additionally, if everything is broken, you can make an informed decision to bypass standard procedures.</p>
          <div>
            <h2>2</h2>
            <p>Recovery mechanisms should be fully tested before an emergency</p>
          </div>
          <p>An emergency fire evacuation in a tall city building is a terrible opportunity to use a ladder for the first time. Similarly, an outage is a terrible opportunity to try a risky load-shedding process for the first time. To keep your cool during a high-risk and high-stress situation, it's important to practice recovery mechanisms and mitigations beforehand and verify that:</p>
<ul>
<li>they'll do what you need them to do</li>
<li>you know how to do them</li>
</ul>
<p>Testing recovery mechanisms has a fun side effect of reducing the risk of performing some of these actions. Since this messy outage, we've doubled down on testing.</p>
          
          <p>At one point, we wanted to push a caching configuration change. We were pretty sure that it would not lead to anything bad. But pretty sure is not 100% sure. Turns out, caching was a pretty critical feature for YouTube, and the config change had some unintended consequences that fully hobbled the service for 13 minutes. Had we <a href="https://sre.google/workbook/canarying-releases/" title="canaried those global changes">canaried those global changes</a> with a progressive rollout strategy, this outage could have been curbed before it had global impact. <a href="https://storage.googleapis.com/pub-tools-public-publication-data/pdf/24017e52c907294589604a29a86f158828eda078.pdf" rel="noopener noreferrer" target="_blank" title="Read more">Read more about the canary strategy in this paper</a>, and <a href="https://www.usenix.org/conference/srecon18europe/presentation/davidovic" rel="noopener noreferrer" target="_blank" title="learn more">learn more in this video</a>.</p>
<p>Around the same timeframe, YouTube's slightly younger sibling, Google Calendar, also experienced an outage which serves as the backdrop for the next two lessons.</p>
          <div>
            <h2>4</h2>
            <p>Have a "Big Red Button"</p>
          </div>
          <p>A "Big Red Button" is a unique but highly practical safety feature: it should kick off a simple, easy-to-trigger action that reverts whatever triggered the undesirable state to (ideally) shut down whatever's happening. "Big Red Buttons" come in many shapes and sizes—and it's important to identify what those big red buttons might be before you submit a potentially risky action. We once narrowly missed a major outage because the engineer who submitted the would-be-triggering change unplugged their desktop computer before the change could propagate. So when planning your major rollouts, consider What is my big red button? Ensure every service dependency has a "big red button" to exercise in an emergency. See <a href="https://www.oreilly.com/content/generic-mitigations/" rel="noopener noreferrer" target="_blank" title="Generic Mitigations">"Generic Mitigations"</a> for more!</p>
          <div>
            <h2>5</h2>
            <p>Unit tests alone are not enough - integration testing is also needed</p>
          </div>
          <p>Ahh.... unit tests. They verify that an individual component can perform the way we need it to. Unit tests have intentionally limited scope, and are super helpful, but they also don't fully replicate the runtime environment and productionized demands that might exist. For this reason, we are big advocates of integration testing! We can use integration tests to verify that jobs and tasks can perform a cold start. Will things work the way we want them to? Will components work together the way we want them too? Will these components successfully create the system we want them to? This lesson was learned during a Calendar outage in which our testing didn't follow the same path as real use, resulting in plenty of testing... that didn't help us assess how a change would perform in reality.</p>
<p>Shifting to an incident that happened in February 2017, we find our next two lessons.</p>
<p>First, unavailable OAuth tokens caused millions of users to be logged out of devices and services, and 32,000 OnHub and Google WiFi devices to perform a factory reset. Manual account recovery claims jumped by 10x because of failed logins. It took Google about 12 hours to fully recover from the outage.</p>
          <div>
            <h2>6</h2>
            <p>COMMUNICATION CHANNELS! AND BACKUP CHANNELS!! AND BACKUPS FOR THOSE BACKUP CHANNELS!!!</p>
          </div>
          <p>Yes, it was a bad time. You want to know what made it worse? Teams were expecting to be able to use Google Hangouts and Google Meet to manage the incident. But when 350M users were logged out of their devices and services... relying on these Google services was, in retrospect, kind of a bad call. Ensure that you have non-dependent backup communication channels, and that you have tested them.</p>
<p>Then, the same 2017 incident led us to better understand <a href="https://sre.google/sre-book/addressing-cascading-failures/#:~:text=Graceful%20degradation%20takes%20the%20concept,decreasing%20the%20quality%20of%20responses." title="graceful degradation">graceful degradation:</a></p>
          <div>
            <h2>7</h2>
            <p>Intentionally degrade performance modes</p>
          </div>
          <p>It's easy to think of availability as either "fully up" or "fully down" ... but being able to offer a continuous minimum functionality with a degraded performance mode helps to offer a more consistent user experience. So we've built degraded performance modes carefully and intentionally—so during rough patches, it might not even be user-visible (it might be happening right now!). Services should degrade gracefully and continue to function under exceptional circumstances.</p>
<p>This next lesson is a recommendation to ensure that your last-line-of-defense system works as expected in extreme scenarios, such as natural disasters or cyber attacks, that result in loss of productivity or service availability.</p>
          <div>
            <h2>8</h2>
            <p>Test for Disaster resilience</p>
          </div>
          <p>Besides unit testing and integration testing, there are other types of very important testing: disaster resilience and recovery testing. While resilience testing verifies that your service or system could survive in the event of faults, latency, or disruptions, recovery testing verifies that your service can transition back to homeostasis after a full shutdown. Both should be critical pieces of your business continuity strategy—as described in <a href="https://queue.acm.org/detail.cfm?id=2371516" rel="noopener noreferrer" target="_blank" title="Weathering the Unexpected">"Weathering the Unexpected"</a>. A useful activity can also be sitting your team down and working through how some of these scenarios could theoretically play out—tabletop game style. This can also be a fun opportunity to explore those terrifying "What Ifs", for example, "What if part of your network connectivity gets shut down unexpectedly?".</p>
          <div>
            <h2>9</h2>
            <p>Automate your mitigations</p>
          </div>
          <p>In March of 2023, a near-simultaneous failure of multiple networking devices occurred in a few datacenters, resulting in a widespread packet loss. In this 6-day outage, an estimated 70% of services experienced varied levels of impact, depending on the location, service load, and configuration at the time of network failure.</p>
<p>In such instances, you can reduce your mean time to resolution (MTTR), by automating mitigating measures done by hand. If there's a clear signal that a particular failure is occurring, then why can't that mitigation be kicked off in an automated way? Sometimes it is better to use an automated mitigation first and save the root-causing for after user impact has been avoided.</p>
          <div>
            <h2>10</h2>
            <p>Reduce the time between rollouts, to decrease the likelihood of the rollout going wrong</p>
          </div>
          <p>In March of 2022, a widespread outage in the payments system prevented customers from completing transactions, resulting in the Pokémon GO community day being postponed. The cause was the removal of a single database field, which should have been safe as all uses of that field were removed from the code beforehand. Unfortunately, a slow rollout cadence of one part of the system meant that the field was still being used by the live system.</p>
<p>Having long delays between rollouts, especially in complex, multiple component systems, makes it extremely difficult to reason out the safety of a particular change. <a href="https://cloud.google.com/blog/products/devops-sre/using-the-four-keys-to-measure-your-devops-performance" rel="noopener noreferrer" target="_blank" title="Frequent rollouts">Frequent rollouts</a>—with the proper testing in place— lead to fewer surprises from this class of failure.</p>
          <div>
            <h2>11</h2>
            <p>A single global hardware version is a single point of failure</p>
          </div>
          <p>Having only one particular model of device to perform a critical function can make for simpler operations and maintenance. However, it means that if that model turns out to have a problem, that critical function is no longer being performed.</p>
<p>This happened in March 2020 when a networking device that had an undiscovered zero-day bug, encountered a change in traffic patterns that triggered that bug. As the same model and version of the device was being used across the network, a substantial regional outage ensued. What prevented this from being a total outage was the presence of multiple network backbones that allowed high-priority traffic to be routed via a still working alternative.</p>
<p>Latent bugs in critical infrastructure can lurk undetected until a seemingly innocuous event triggers them. Maintaining a diverse infrastructure, while incurring costs of its own, can mean the difference between a troublesome outage and a total one.</p>
        <p>So there you have it! Eleven lessons learned, from two decades of Site Reliability Engineering at Google. Why eleven? Well, you see, Google Site Reliability, with our rich history, is still in our <span>prime</span>.</p>
        
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why you should probably be using SQLite (239 pts)]]></title>
            <link>https://www.epicweb.dev/why-you-should-probably-be-using-sqlite</link>
            <guid>38036921</guid>
            <pubDate>Fri, 27 Oct 2023 10:51:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.epicweb.dev/why-you-should-probably-be-using-sqlite">https://www.epicweb.dev/why-you-should-probably-be-using-sqlite</a>, See on <a href="https://news.ycombinator.com/item?id=38036921">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Where you store your application data has enormous impacts on your entire application. There are implications on the entire stack based on what you decide to use here.</p>
<p>There are terrific solutions like MySQL and Postgres that have become the default for many people. These are fine solutions. But for most web app use cases, you could drastically simplify your life by using SQLite.</p>
<p>SQLite is a sql-based database with a particularly unique feature: the entire database is in a single file. Largely for this reason, many people have historically seen it as a simple database for simple use cases.</p>
<p>However, in recent years SQLite has received a great deal of development and attention making it a simple database for even more advanced use cases. Let’s talk about some of those advancements and why for most of us, SQLite is the best balance of trade-offs.</p>
<h2 id="zero-latency">Zero Latency</h2>
<p>The fact that SQLite is a single file on disk comes with a major benefit of 0 latency which&nbsp;<a href="https://www.sqlite.org/np1queryprob.html">drastically reduces the "n+1 problem."</a> This means that as a developer you don’t have to spend so much time worrying about reducing the number of queries you’re making to the database (which can lead to less efficient queries and certainly less efficient developers).</p>
<p>And latency itself is not to be underestimated. If you’re not thoughtful about the distance between your database and your application, you can easily put a baseline on your application’s performance. It’s not uncommon for the app-to-database latency to be measured in the tens of milliseconds (and sometimes even hundreds). This means no matter what you do, your page can’t load with fresh data in less than that amount of time.</p>
<p>I know performance isn’t the number 1 priority of all apps, but it’s pretty important for most. I’m  pretty sure even though the business executive who paid for your app and doesn’t have alternatives doesn’t like loading spinners flashing in their face for every interaction. 🌀😠</p>
<h2 id="one-less-service">One Less Service</h2>
<p>One huge benefit to SQLite is the fact that it runs as an embedded part of your application. So that’s one less service to babysit. Honestly, that was my primary motivation when I decided to migrate my own website from Postgres to SQLite. I just stick SQLite in the same volume I’m mounting for other data for my application already and I’m off the races.</p>
<p>This saves on complexity as well as cost.</p>
<p>And this is multiplied by the number of instances and replication considerations, but we’re getting ahead of ourselves… Let’s get into that…</p>
<h2 id="multi-instance-replication">Multi-instance replication</h2>
<p>As a file on disk, you cannot "distribute" SQLite directly. However, this is where there have been advancements in this space. For my own applications that need multiple instances, I use&nbsp;<a href="https://fly.io/docs/litefs">LiteFS</a>:</p>
<blockquote>
<p>LiteFS is a distributed file system that transparently replicates SQLite databases. You can run your application like it’s running against a local on-disk SQLite database but behind the scenes the database is replicated to all the nodes in your cluster. With LiteFS, you can run your database right next to your application on the edge. You can run LiteFS anywhere!</p>
</blockquote>
<p>On top of this, LiteFS has built-in support to handle the "Read Replica Consistency" challenge. So if you need your app to run in multiple instances, you need to use one of these tools.</p>
<p>Another solution here is <a href="https://turso.tech/">Turso</a> which uses SQLite under the hood and even has a concept called "embedded replicas" for zero latency reads. Very cool!</p>
<h2 id="database-size">Database size</h2>
<p>Another issue people sometimes bring up is database size. However,&nbsp;<a href="https://sqlite.org/hctree/doc/hctree/doc/hctree/index.html">SQLite is capable of handling databases that are an Exabyte in size</a>&nbsp;(that's one million Terabytes, or one billion Gigabytes 🤯). Most of us web developers don’t work with near that amount of data. You’ll have much different problems before database size is one of them with SQLite.</p>
<p>Even putting large amounts of data in a SQLite database record is pretty efficient! In fact, in some cases, <a href="https://www.sqlite.org/fasterthanfs.html">it can be faster</a> to retrieve data out of a SQLite database than from the file system 😆&nbsp;SQLite is an incredible feat of engineering!</p>
<h2 id="development-and-testing">Development and Testing</h2>
<p>I know some of you reading this right now are perfectly comfortable running <code>docker compose</code> as a regular part of your workflow before you start developing your application. But you have to admit that it’s annoying to run multiple apps at once with conflicting databases and ports. With SQLite, it’s a total non-issue. It’s just a file. So you can run multiple instances of the same app at once with no trouble whatsoever.</p>
<p>Also, while starting up a new Postgres database is fairly involved (there are of course tools that make it easier), SQLite has no such issue. Again, it’s just a file. Run your production migrations/seed and you’re good to go.</p>
<p>And this ease carries over to the testing side of things as well. When your database setup is complicated, you end up spending time evaluating ways to mock out your database at the ORM level so you can avoid having to run and connect to your database during testing and the isolation issues that can happen as a result of that.</p>
<p>Not a problem with SQLite. It’s just a file! Each test can have its own database with barely a thought. Just a little bit of code to create and connect the database and then your tests can run on the full database. You can definitely do this with other databases, but not as easily and efficiently as SQLite.</p>
<h2 id="weaknesses">Weaknesses</h2>
<p>SQLite is not without its shortcomings. And it would be unfair of me to just talk about where SQLite shines without addressing some of those.</p>
<ul>
<li>SQLite does not support subscriptions which can be a limitation on certain real-time use cases. However, there are plenty of reasons to recommend against using database subscriptions for real-time use cases anyway. Scaling real-time use cases is quite challenging, and personally have really enjoyed letting <a href="https://www.partykit.io/">Partykit</a> do that part for me in my apps.</li>
<li>SQLite being a file on disk does make connecting from external clients effectively impossible. But with <a href="http://fly.io/">Fly.io</a> at least, it’s easy to run prisma studio on the production server and proxy that for local access. If you need to connect to it from another app, then you’re out of luck and have to set up HTTP endpoints on the host app for any data you need (<a href="https://github.com/superfly/litefs/issues/326">for now</a>).</li>
<li>SQLite does not support plugins like&nbsp;<a href="https://github.com/timescale/timescaledb">TimescaleDB</a>&nbsp;for Postgres. While time-series data is possible with SQLite, I do not have experience with this use case and can't speak to the challenges there. My intuition says it's not advisable to use SQLite for that use case, but maybe someone else can offer me more insight.</li>
<li>SQLite does not support enums which means you're forced to use strings. I have mixed feelings about this, but I mostly don't like enums anyway. The main drawback to this is when it comes to the typings for the client which doesn't allow you to ensure all values of a column are only within a set of specific possible values for the string. However, with Prisma client extensions, handling this kind of enforcement at the client (and typing) level <a href="https://github.com/L-Steinmacher/epic-stack-with-prisma-client-extensions">is possible</a>.</li>
</ul>
<h2 id="conclusion">Conclusion</h2>
<p>So, can <em>you</em> use SQLite? For the vast majority of you reading this, the answer is “yes.” Should you use SQLite? I’d say that still for the majority of you reading this, the answer is also “yes.” Though it’s complicated. As with everything in technology, there are multiple solutions that will work out. But I think you should give SQLite a serious look due to the performance, simplification, and cost benefits I’ve mentioned.</p>
<p>And that’s why I’m using SQLite for my own applications and why I teach you to use SQLite in the <a href="http://epicweb.dev/">EpicWeb.dev</a> series of workshops.</p>
<p>– Kent</p></div><section id="article"><div><p>Stay up to date</p><p>Subscribe to the newsletter to stay up to date with articles, courses and much more!</p></div><p>I respect your privacy. Unsubscribe at any time.</p></section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[0 To 100 kph in 1 second [video] (119 pts)]]></title>
            <link>https://www.youtube.com/watch?v=XQIu5tZ0vbQ</link>
            <guid>38036801</guid>
            <pubDate>Fri, 27 Oct 2023 10:30:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.youtube.com/watch?v=XQIu5tZ0vbQ">https://www.youtube.com/watch?v=XQIu5tZ0vbQ</a>, See on <a href="https://news.ycombinator.com/item?id=38036801">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Lean4 helped Terence Tao discover a small bug in his recent paper (303 pts)]]></title>
            <link>https://mathstodon.xyz/@tao/111287749336059662</link>
            <guid>38035672</guid>
            <pubDate>Fri, 27 Oct 2023 07:25:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mathstodon.xyz/@tao/111287749336059662">https://mathstodon.xyz/@tao/111287749336059662</a>, See on <a href="https://news.ycombinator.com/item?id=38035672">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Let me tell you about me Gear Fabrication Syndrome (144 pts)]]></title>
            <link>https://weenoisemaker.com/blog/2023/10/21/gear-fabrication-syndrome.html</link>
            <guid>38035516</guid>
            <pubDate>Fri, 27 Oct 2023 07:00:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://weenoisemaker.com/blog/2023/10/21/gear-fabrication-syndrome.html">https://weenoisemaker.com/blog/2023/10/21/gear-fabrication-syndrome.html</a>, See on <a href="https://news.ycombinator.com/item?id=38035516">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        
        <main id="site-main" aria-label="Content" tabindex="1">
          <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>If you are reading these lines, you may be familiar with the concept of Gear
Acquisition Syndrome (GAS). A person’s insatiable urge to buy equipment for
their art or hobby, distracting them from actually practicing said art or
hobby.</p>

<p>It’s driven in part by the belief that new gear will improve one’s art or
performance, e.g. I don’t sound like Jimi Hendrix because I don’t have the same
effects pedal he used. Or the instant gratification of acquiring and
discovering new shiny equipment, in contrast to the stressing and frustrating
creation process.</p>

<p>Because of my background and education, the “guilt” of spending money on
frivolous equipment will, most of the time, allow me to overcome my Gear
Acquisition Syndrome. But I developed another mechanism: Gear Fabrication
Syndrome (GFS).</p>

<h2 id="let-me-tell-you-the-most-recent-example">Let me tell you the most recent example:</h2>

<p>A few months ago, I was introduced to the wonderful world of <a href="https://en.wikipedia.org/wiki/Sim_racing">sim
racing</a>. As teenagers my brothers and
I used to play car racing video games, but I didn’t know how advanced the field
is today. So I started to look into it, watched videos on YouTube, dug up the
old force feedback wheel controller from our parent’s attic, bought a game,
etc.</p>

<p>Sim racing tutorials will often explain how braking is the most important skill
to drive fast. And to break with consistency and precision you need a so-called
“load cell pedal”. Unlike the cheap pedal I am using, a load cell pedal
measures the pressure you are putting on the pedal and not the distance your
foot moves. That’s way closer to how real car brakes operate (pression in a
hydraulic system).</p>

<p>For sure, the reason I am not going as fast as the other drivers online is
because of my cheap brake pedal! Enter the Gear Acquisition Syndrome!</p>

<p>Entry level load cell pedals are not extremely expensive, I can afford it. But
they are not cheap either, am I wasting money here? Trying to reconcile my urge
to get new gear and my fear of wasting money, I looked for an escape. Quick
online search for DIY sim racing pedals reveals a lot of <a href="https://www.youtube.com/watch?app=desktop&amp;v=C7pNnQlq8ro">different
designs</a>. For sure, I
can make one! Enter the Gear Fabrication Syndrome.</p>

<p>Cost saving is not always the motivation, one can try to make better gear than
what is available off the shelf, or just more adapted to personal taste. That’s
why I could also tell you about all the guitars,
<a href="https://fireverb.wordpress.com/2015/03/14/the-fireverb/">amplifiers</a> and
<a href="https://fireverb.wordpress.com/2015/03/14/leslievibratone-cabinet/">effects</a> I
made instead of practicing the instrument. Or my 6 years and going <a href="https://weenoisemaker.com/blog/2022/11/21/welcome.html">pocket
synthesizer project</a>.</p>

<p><img src="https://weenoisemaker.com/assets/fireverb_internals.jpg" alt="" width="60%"></p>

<h2 id="is-gfs-better-than-gas">Is GFS better than GAS?</h2>

<p>That’s hard to tell. The cost effectiveness is often hard to reach, in
particular if you factor in the cost of tools. Not to mention a failed DIY
project will lead you to end up buying the off the shelf gear, making things
way worse in the end.</p>

<p>Software developers are familiar with this credo:</p>

<div><pre><code>We do these things not because they are easy, but because we thought they were
going to be easy.
</code></pre></div>

<p>It’s also time consuming, and the time spent on making gear is of course not
available for practicing art/hobby.</p>

<p>On the other hand GFS can become a deeply rewarding part of your journey,
allowing you to shape and personalize your tools in a way that GAS never can.
You can learn a lot from it, and in the end, designing and making can become
your main art/hobby.</p>

<h2 id="gfs-ambassadors">GFS Ambassadors</h2>

<p>There are many individuals online that seem to exhibit signs of Gear
Fabrication Syndrome. I picked two.</p>

<p>Let’s start with Adam Savage. Watching the Tested YouTube channel, it’s clear
that Adam loves gear and tools. You can tell by this <a href="https://www.youtube.com/watch?v=7v8p0Bpbihw">8 minute video on hex
keys</a> for instance. He’s even
obsessed as some <a href="https://www.youtube.com/watch?v=SNc8y7d7Tic">video title will tell
you</a>. To me it’s pretty clear that
Adam shows signs for GAS. But what about GFS? Well Tested YouTube channel is
also <a href="https://www.youtube.com/playlist?list=PLJtitKU0CAej22ZWBqrimPkn0Bbo6ci-r">full of
videos</a>
where Adam makes custom equipment for his shop, or movie prop replicas, or any
other kind of gear. Things that he could either buy or have someone make for
him.</p>

<p><a href="https://www.youtube.com/watch?v=MdjGxn97lgI"><img src="https://weenoisemaker.com/assets/adam_savage_tested_portable_soldering_station_rebuild_yt_thumbnail.jpg" alt="" width="60%"></a></p>

<p>The second one is Sam Battle, known online as <a href="https://www.lookmumnocomputer.com/">Look Mum No
Computer</a>. Sam is a musician, performer,
videographer, inventor, and director of his own museum. I highly recommend
having a look at his <a href="https://www.youtube.com/c/LOOKMUMNOCOMPUTER/videos">YouTube
channel</a>.</p>

<p>Among many other things, Sam designed and built a big custom synthesizer called
Kosmo. Kosmo is tailored for live performance, rugged enough to sustain
transportation in a tour van, with big knobs and jacks so that Sam can use it
while singing and jumping around. Kosmo has become more than a tool, it’s a
musician on stage with Sam. You would never get that with off the shelf synths.</p>

<p><a href="https://www.youtube.com/watch?v=R1mliD9m1LM&amp;t=164s"><img src="https://weenoisemaker.com/assets/LMNC_kosmo.jpeg" alt="" width="60%"></a></p>

<h2 id="how-good-are-my-diy-pedals-in-the-end">How good are my DIY pedals in the end?</h2>

<p>Here’s what my DIY pedals look like so far:</p>

<p><img src="https://weenoisemaker.com/assets/DIY_sim_racing_pedals_oct2023.jpg" alt="" width="60%"></p>

<p>You are probably wondering if they allow me to drive faster in racing
simulators. Well, two months after the beginning of the project, they are still
not usable ^^ So this might be the topic for another post…</p>


  </div>

  

  
  
</article>

          
        </main>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How to draw beautiful software architecture diagrams (2022) (217 pts)]]></title>
            <link>https://terrastruct.com/blog/post/draw-software-architecture-diagrams/</link>
            <guid>38035505</guid>
            <pubDate>Fri, 27 Oct 2023 06:57:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://terrastruct.com/blog/post/draw-software-architecture-diagrams/">https://terrastruct.com/blog/post/draw-software-architecture-diagrams/</a>, See on <a href="https://news.ycombinator.com/item?id=38035505">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p data-block-key="n6rdy">Have you ever been in a meeting where a diagram is drawn, and when it ends, no one wants to erase the whiteboard? Instead, someone takes a picture of it on their phone, or they'll roll the whiteboard out to your team area and draw a big "DO NOT ERASE" sign. Over the next month, discussions gravitate around this diagram. People randomly walk up and stare at it. Questions are answered by pointing at it. Periodically throughout the day, chairs swivel around to face this centerpiece, their occupants folding their hands behind their heads.</p><p data-block-key="nh40">What defines a diagram like that? The content, of course, has to be correct: things have to exist at the right abstraction levels, it's up-to-date, there's no ambiguity, etc. But there are many ways to draw the same dozen entities and relationships. Some of those have staying power that clarify and spark collaboration for the entirety of a project, while others don't live past the end of the afternoon meeting.&nbsp;</p><p data-block-key="77ce8">Below are some properties of beautiful diagrams. I don't mean beautiful in the designer sense of drop shadows and rounded corners, but rather, functional beauty that maximizes its effectiveness to communicate ideas.</p><h2 data-block-key="78qli">Minimize neighbor distance</h2><p data-block-key="2kjdf">This is simple to get right for small diagrams, but much harder to do as they grow larger. If you just have two nodes connected to each other, obviously you draw them close to each other. But what if your diagram currently looks like this...</p><p><img alt="min_distance_1" height="697" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/min_distance_1.width-800.png" width="800"></p><p data-block-key="657t4">... and your next move is to draw that "engine" connects to more things. That's when this property starts eroding away.</p><p><img alt="min_distance_2" height="514" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/min_distance_2.width-800.png" width="800"></p><p data-block-key="8b58h">Instead, if you had planned ahead, or taken the time to redraw, you could've maintained the low distance between nodes.&nbsp;</p><p><img alt="min_distance_3" height="742" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/min_distance_3.width-800.png" width="800"></p><p data-block-key="a879d">If you were coding and realized a function you just wrote wasn't accounting for an edge case, you'd probably rewrite the relevant areas to account for it. Or in your written docs, if you realized you were missing an item in a list, you wouldn't write, "Oh and also this", you'd just go back and amend the original sentence! But when it comes to diagrams, it's an order of magnitude more time-consuming to erase and redraw than it is to backspace and retype. It's not worth the trouble in an interview context, but if you're drawing something for documentation-sake for multiple people -- maybe even multiple teams -- then the constant redraws will result in much more beautiful diagrams.</p><h2 data-block-key="3vh32">Find symmetry</h2><p data-block-key="2t8jm">Symmetry in diagrams is a big contributor to a pleasing perception of aesthetics. Our brains are subconsciously wired to favor visual symmetry (e.g. faces). Further, it helps us quickly make sense of diagrams.</p><p data-block-key="1t12v">In this example, all the nodes are maximally close to their neighbors.</p><p><img alt="symmetry_1" height="920" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/symmetry_1.width-800.png" width="800"></p><p data-block-key="beqv7">But it looks a little off, like a slightly askew painting. It's the lack of symmetry that stands out to us.&nbsp;</p><p><img alt="symmetrical" height="920" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/symmetry_2.width-800.png" width="800"></p><p data-block-key="c0t1m">This version looks more pleasing, even though "lb1" (bottom right) has increased in distance from its neighbors, and "cache" (middle left) identical distance to its neighbors as before.</p><p data-block-key="9he6r">Keeping things symmetrical can also enhance the meaning a diagram carries, like having all the inputs on one side, and all the outputs on the other.</p><p><img alt="symmetry_3" height="519" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/symmetry_3.width-800.png" width="800"></p><h2 data-block-key="enum5">Align centers</h2><p data-block-key="5l883">Alignment is the biggest contributor to diagrams looking neat, which you should care about because neat diagrams make concepts clearer, while messy diagrams make concepts more complex. A series of simple diagrams can make even the most complex systems understandable.</p><p data-block-key="4kvvo">It may not seem important how neat and aligned your handful of shapes are when you begin drawing a diagram, but nobody has ever thrown 50% of their clothes on the floor and folded the other 50%, or kept half their room neat or bed made. Starting off plopping shapes randomly on a blank canvas puts you on a road to random placements for the rest of the diagram. Alignment only has meaning <b>between</b> two or more shapes (i.e. something can't be aligned to itself). By maintaining the property for each new addition, you'll find your diagram looks neat ~effortlessly.</p><p data-block-key="3jen0">This property often comes from being symmetrical, but not always.</p><p><img alt="align_center_1" height="595" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/align_center_1.width-800.png" width="800"></p><hr><p><img alt="align_center_2" height="595" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/align_center_2.width-800.png" width="800"></p><h2 data-block-key="4t4mo">Use container groups</h2><p data-block-key="dcm8n">Distinguishing your diagram into multiple, labeled regions makes it much more understandable for viewers. Containers can</p><ul><li data-block-key="7u8qt">add context ("these services are in AWS and these are in Azure")</li><li data-block-key="3ofgg">show abstractions ("these are all implementations of ReaderWriter")</li><li data-block-key="euj5i">group related objects (cores 1, 2, 3, 4 in a "Cores" container)</li></ul><p><img alt="containers_1" height="802" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/containers_1.width-800.png" width="800"></p><p data-block-key="66u8r">Notice how adding containers makes the diagram much clearer</p><p><img alt="containers_2" height="802" src="https://terrastruct-site-assets.s3.us-west-1.amazonaws.com/images/containers_2.width-800.png" width="800"></p><h2 data-block-key="dkm4v">To be continued</h2><p data-block-key="lua1">In part 2, we'll cover</p><ul><li data-block-key="7jdon">Drawing edge routes</li><li data-block-key="6qdp8">Label sizes and positions</li><li data-block-key="8948t">Colors</li><li data-block-key="1998e">Icons</li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Microsoft: Require user consent before sending any telemetry (119 pts)]]></title>
            <link>https://github.com/microsoft/vscode/issues/176269</link>
            <guid>38034686</guid>
            <pubDate>Fri, 27 Oct 2023 04:25:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/microsoft/vscode/issues/176269">https://github.com/microsoft/vscode/issues/176269</a>, See on <a href="https://news.ycombinator.com/item?id=38034686">Hacker News</a></p>
<div id="readability-page-1" class="page"><div disabled="" sortable="">
          <p dir="auto">Here's how you (and all of us) have to handle it, according to the GDPR:</p>
<ol dir="auto">
<li>Contact the DPO (data protection officer) of Microsoft and point them to this discussion. The contact details are here: <a href="https://learn.microsoft.com/en-us/compliance/regulatory/gdpr-data-protection-officer" rel="nofollow">https://learn.microsoft.com/en-us/compliance/regulatory/gdpr-data-protection-officer</a>.</li>
</ol>
<div data-snippet-clipboard-copy-content="Data subjects may contact the data protection officer by filling
out the webform at https://aka.ms/privacyresponse.

The DPO can also be reached by post at:

Microsoft EU Data Protection Officer
One Microsoft Place
South County Business Park
Leopardstown
Dublin 18
D18 P521
Ireland
Telephone: +353 (1) 706-3117"><pre><code>Data subjects may contact the data protection officer by filling
out the webform at https://aka.ms/privacyresponse.

The DPO can also be reached by post at:

Microsoft EU Data Protection Officer
One Microsoft Place
South County Business Park
Leopardstown
Dublin 18
D18 P521
Ireland
Telephone: +353 (1) 706-3117
</code></pre></div>
<p dir="auto">In your message to the DPO, refer to <a href="https://gdpr-info.eu/art-7-gdpr/" rel="nofollow">art. 7(1) of the GDPR</a>, which has this to say:</p>
<blockquote>
<p dir="auto">Where processing is based on consent, the controller shall be able to demonstrate that the data subject has consented to processing of his or her personal data.</p>
</blockquote>
<p dir="auto">Point out that you did not give consent for the data to be collected, nor were you asked about it. Per GDPR, they're supposed to be <a href="https://gdpr-info.eu/art-5-gdpr/" rel="nofollow">transparent</a> about the way personal data are handled (see Art. 5). They ought to tell you: what personal data are collected, for what purpose, for how long the data are stored, with whom the data are shared (this could be buried somewhere deep in the UI). Give them ~2 weeks to respond. If you receive no feedback, then:</p>
<ol start="2" dir="auto">
<li>Contact your local DPA (data protection authority) and lodge a complaint (see <a href="https://gdpr-info.eu/art-77-gdpr/" rel="nofollow">art. 77 of the GDPR</a>)</li>
</ol>
<blockquote>
<p dir="auto">Without prejudice to any other administrative or judicial remedy, every data subject shall have the right to lodge a complaint with a supervisory authority, in particular in the Member State of his or her habitual residence, place of work or place of the alleged infringement if the data subject considers that the processing of personal data relating to him or her infringes this Regulation.</p>
</blockquote>
<p dir="auto">But step 0 would be to think about the situation and consider what data are collected. Are those personal data? Does Microsoft, perhaps, have a "legitimate interest" in collecting this information?</p>
<blockquote>
<p dir="auto">It is concluded, that you do not respect the users privacy, do not comply with the GDPR and ignore any users objections against your negligent way of personal data processing.</p>
</blockquote>
<p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/nandlab/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nandlab">@nandlab</a>  no, it is not concluded yet. It might be the case, but the right course of action is to get there  through the means the GDPR gives us. The regulation says you should contact the DPO, and eventually lodge a complaint with the DPA; it doesn't say that programmers on Github have to monitor issues and are responsible for handling privacy-related stuff. To play this game well, you have to play by the rules; let the DPO know about it - and if they're still silent, they might be more responsive if they get a call from a DPA ;-)</p>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Yugoslavia's Digital Twin – When a country's internet domain outlives the nation (195 pts)]]></title>
            <link>https://www.thedial.world/issue-9/yugolsav-wars-yu-domain-history-icann</link>
            <guid>38034435</guid>
            <pubDate>Fri, 27 Oct 2023 03:38:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.thedial.world/issue-9/yugolsav-wars-yu-domain-history-icann">https://www.thedial.world/issue-9/yugolsav-wars-yu-domain-history-icann</a>, See on <a href="https://news.ycombinator.com/item?id=38034435">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-block-type="2" id="block-461af8067afd799d6298">
  <h3>What happens when a country’s internet domain outlives the nation?</h3><h4>OCTOBER 19, 2023</h4>
</div><div data-block-type="2" id="block-yui_3_17_2_1_1695573462575_7134">
  <p><strong>Date: Thu, 01 Apr 1999 06:37:30 -0800<br>From: insomnia &lt;insomnia@EUnet.yu&gt;<br>Subject: thursday, april 1&nbsp;</strong></p><p><strong>dear everybody,<br>the main novi sad bridge has been taken down completely. we are cut off from belgrade. no water today. shortage of bread and milk. if you do not hear from me anything more, this means i fled from the city, because life becomes insupportable here.</strong></p><p><strong>everything hurts, everybody hurts. now i feel like an island — cut off, cut off, cut off from everything.</strong></p><p><strong>peace with you all.</strong></p>
</div><div data-block-type="2" id="block-4c06c10e071231fdf7e4">
  <p>The <a href="https://nettime.org/"><span>archives of Nettime</span></a>, an early internet mailing list, have preserved emails from addresses with a suffix you don’t see around anymore: .yu, for Yugoslavia. Many of them, such as the <a href="https://nettime.org/Lists-Archives/nettime-l-9904/msg00006.html"><span>email from insomnia@EU.net.yu</span></a> above, contain first-hand accounts from the Yugoslav Wars, one of the earliest conflicts documented on the internet. Most of these digital artifacts from the former Eastern European country have disappeared from the web, falling victim to failed server migrations and ever-changing institutions. The greatest loss was perhaps the .yu domain itself.</p><p>The story of .yu begins in 1989, when computer scientist Borka Jerman-Blažič and her team in Ljubljana began their multi-year endeavor to connect Yugoslavia to the internet. At the time, the question of which communication protocol would result in the best computer networks <a href="https://courses.cs.duke.edu//common/compsci092/papers/govern/consensus.pdf"><span>was the subject of fierce debate</span></a> among computer engineers. On one side were the proponents of the internet, who championed a decentralized approach focused on practical connectivity and collaboration: “We reject: kings, presidents, and voting. We believe in: rough consensus and running code,” <a href="https://groups.csail.mit.edu/ana/People/DDC/future_ietf_92.pdf"><span>scientist David Clark famously said</span></a> in 1992. On the other side were advocates of competing communication models such as Open Systems Interconnection (OSI) and X.25, who wanted a more complex and bureaucratic protocol that emphasized reliability and security. Jerman-Blažič, who is now 76 years old and lives in Ljubljana, told me that she liked the simplicity of the internet, but the funding for her lab came from European initiatives that supported X.25. She came up with a way to use both: wrapping the internet messages into the X.25 format and, with the help of friends, sending them via the X.25 network to the closest node that could translate them. “I asked my Austrian colleagues to allow me to use the leased line from Vienna to CERN [an intergovernmental research institute in Geneva], and my German friends to use the EASYnet lines from CERN to Amsterdam,” she said. In Amsterdam, the X.25 messages would get converted back into internet to reach their final destination, the U.S, where Jerman-Blažič’s colleagues could read and respond to her emails, share software and research, and more. It took two years of bargaining with government officials to get permission to set up the entry point for the Yugoslavian network in Jerman-Blažič’s lab in Slovenia.</p><p>Just months before the internet connection went live in 1991, Slovenia declared independence from Yugoslavia. The country for which .yu was created was falling apart. Though .yu outlived Yugoslavia by two decades, Jerman-Blažic and her colleagues became the first to contend with an unprecedented set of questions that remain relevant to this day: As nation states rise, fall, and change shape, who decides whether and when to retire a country’s domain? When a domain is deleted, what happens to all of the websites and mailing lists under it, and all of the knowledge they contain?</p><p><strong>✺</strong></p><p>A domain name is an address that points to a website, such as “thedial.world.” Domains are assigned by the Internet Assigned Numbers Authority (IANA), which from 1983 until 1998 was run by <a href="https://www.internetsociety.org/ianatimeline/"><span>two computer scientists</span></a> from California — Jon Postel and Joyce K. Reynolds. <a href="https://www.internetsociety.org/ianatimeline/"><span>Funded by the U.S. Department of Defense from 1988-1998,</span></a> IANA’s role was to keep track of who was who on the internet. The letters after the last dot of domain names, called top-level domains (TLDs), are meant to help users understand the nature of the website they’re about to visit. There are several types of TLDs, including generic ones like .com (commercial business) and .world, and country codes such as .yu (Yugoslavia) or .uk (United Kingdom). When a country code is established, all of the information on that domain is managed by the respective national government or a designated entity within that country.</p><p>The political implications of country code domains, which have essentially baked borders into the internet, were not considered by IANA when they were established. In fact, the organization made a point of distancing themselves from the politics of domain management entirely. “Concerns about ‘rights’ and ‘ownership’ of domains are inappropriate,” Jon Postel <a href="https://datatracker.ietf.org/doc/html/rfc1591"><span>wrote in a memo in 1994</span></a>. “It is appropriate to be concerned about ‘responsibilities’ and ‘service’ to the community.” Further, he adds that “The IANA is not in the business of deciding what is and what is not a country.” To this day, the organization allocates domains based on the international standard ISO 3166-1, which assigns a two-letter code to each of the United Nations member states. (Kosovo, for example, is still not a member of the U.N. and, as a result, does not have an official TLD.)</p><p>When IANA delegated .yu to Jerman-Blažič in 1989, ethnic and national tensions in Yugoslavia were escalating due to economic difficulties and a constitutional crisis in the region. The country, officially known as the Socialist Federal Republic of Yugoslavia, emerged after World War II and included several constituent republics: Serbia, Croatia, Slovenia, Bosnia and Herzegovina, Montenegro, and Macedonia. As a socialist federation, Yugoslavia pursued a policy of <a href="https://history.state.gov/milestones/1989-1992/breakup-yugoslavia#:~:text=While%20ostensibly%20a%20communist%20state,states%20during%20the%20Cold%20War."><span>non-alignment during the Cold War</span></a>, maintaining independence from both the Eastern and Western Blocs. Despite initial unity, the state ultimately fell apart as nationalism rose in each of the republics. Slovenia and Croatia were the first countries to declare formal independence in June 1991.</p><h2>If they wanted to access the internet, they either had to wait for the name disputes to be resolved and get assigned a new domain, or to somehow get .yu back.</h2><p>Jerman-Blažič’s newly established international line was instrumental in documenting the Ten-Day War that followed Slovenia’s declaration of independence. Slovenian scientists used the network to send email updates on the war, including summaries of daily press conferences held by the Slovenian government, to all of the universities and academics they worked with. Jerman-Blažič told me that the emails inspired her colleagues at Columbia University in New York to write to the White House in support of Slovenian independence and, she believes, helped shape public opinion on the issue.</p><p>Theoretically, the life of .yu should have ended with Slovenia’s independence. When the country joined the United Nations a year later it received a new domain from IANA — .si — and the Slovenian government established a new entity to manage it, the Academic and Research Network of Slovenia (ARNES). While the scientists at ARNES were waiting for .si to go live, however, they needed another way to get online. On a Sunday in July 1992, Jerman-Blažič told me that ARNES, which included some of her former colleagues, broke into her lab, copied the domain software and data from the server, and cut off the line that connected it to the network. “Both ARNES directors had no knowledge of internet networking and did not know how to run the domain server,” she said. Though they only used the network for email, ARNES secretly kept .yu running for the next two years, ignoring requests from a rival group of scientists in Serbia who needed the domain for their work.&nbsp;</p><p>Following the collapse of Yugoslavia, Serbia and Montenegro adopted the name “Federal Republic of Yugoslavia” in an imperialist aspiration to become its sole legal successor. The succession claims were rejected by the U.N., which imposed war sanctions on the new state, <a href="https://link.springer.com/chapter/10.1007/978-1-349-23922-1_7"><span>including a ban on scientific and technical cooperation</span></a>, and required it to re-apply for membership. Serbian scientists were subsequently cut off from all international network traffic. If they wanted to access the internet, they either had to wait for the name disputes to be resolved and get assigned a new domain, or to somehow get .yu back. Because ARNES refused to cooperate, scientists at the University of Belgrade ended up <a href="https://www.rnids.rs/en/about-us/history-national-domains-and-rnids"><span>emailing Jon Postel</span></a>, the IANA founding manager, directly to override the regulations. After nearly two years of correspondence, Postel agreed to transfer .yu to the Federal Republic of Yugoslavia in the spring of 1994. In the name of global academic cooperation, .yu lived on.</p><p>As the former states of Yugoslavia were being reconfigured and reshaped, IANA was going through a transition of its own. In the late 90s, as the project was growing in importance, Postel and many members of the internet community <a href="https://www.internetsociety.org/ianatimeline/"><span>called for a more transparent, institutionalized approach to network governance</span></a>. This led to the creation of <a href="https://www.icann.org/"><span>ICANN</span></a>, the Internet Corporation for Assigned Names and Numbers, in late 1998. IANA became a function of ICANN, which has been <a href="https://www.internetgovernance.org/2022/09/17/icanns-accountability-and-transparency-a-retrospective-on-the-iana-transition/"><span>the subject of countless heated discussions and restructuring efforts over the years</span></a>, to address the legal and technical challenges of running an international entity that functions independently from governments, while making sure its governance structure is resilient to bad actors and takeovers.</p><p>In 2002, Serbia and Montenegro officially agreed to stop using the name Federal Republic of Yugoslavia, but .yu remained in use. When Montenegro declared independence in 2006, ICANN created two new domains: .rs for Serbia and .me for Montenegro, under the condition that <a href="https://www.iana.org/reports/2010/yu-report-01apr2010.html"><span>.yu would be “retired.”</span></a> After years of bureaucratic delays, the domain was finally shut down in 2010. <a href="https://www.iana.org/reports/2010/yu-report-01apr2010.html"><span>Over 4,000 websites</span></a>, some of the earliest examples of internet culture from the region, suddenly became inaccessible via their original domain. For many, the deletion of .yu represented the final loss of the former country, the erasure of its digital identity.</p>
</div><div data-block-type="2" id="block-7121e18fe3f1a8e933df">
  <p>At its peak, <a href="https://www.iana.org/reports/2010/yu-report-01apr2010.html"><span>.yu hosted about 32,000 websites</span></a>. In the years leading up to its termination, there was a stop put on registration of new domains and website owners were asked to migrate their addresses to .rs. On March 30, 2010, the internet was effectively rerouted around .yu: if any .yu sites remained on a server, no search engines indexed them, and they couldn’t be reached through their addresses. The Internet Archive’s <a href="https://archive.org/web/"><span>Wayback Machine</span></a>, which allows users to see the way websites looked in the past, has preserved many .yu sites, but the snapshots are often incomplete or broken. The <a href="https://web.archive.org/web/sitemap/http://galeb.etf.bg.ac.yu/"><span>server sitemap</span></a> of the University of Belgrade School of Electrical Engineering from the early 2000s reveals skeletons of many lost personal websites, including ones that host <a href="https://web.archive.org/web/20070625031256/http://galeb.etf.bg.ac.yu/~preki/artwork.html"><span>song lyrics</span></a>, <a href="https://web.archive.org/web/20070701091504/http://tesla.rcub.bg.ac.yu/~djpetar/San.htm"><span>dream journals</span></a>, <a href="https://web.archive.org/web/20070625145027/http://galeb.etf.bg.ac.yu/~protest96/"><span>student protests</span></a>, and more. Many of the images, external links, and interactive content that make up the bulk of these pages don’t load anymore. The Internet Archive, established in 1996, does not contain any records of the <a href="https://www.academia.edu/24867766/What_does_the_Web_remember_of_its_deleted_past_An_archival_reconstruction_of_the_former_Yugoslav_top-level_domain"><span>early days of the Yugoslavian internet</span></a>.&nbsp;</p><p>The deletion of .yu may have made sense from a technical perspective, but the standard has not been applied equally. Not all domains of former countries have followed the same fate: .su, delegated to the Soviet Union just a year before its collapse, is still online. It’s now managed by the Russian Institute for Public Networks, who have found a <a href="https://domainincite.com/27553-maybe-nows-the-time-for-icann-to-start-dismantling-the-soviet-union"><span>variety of loopholes</span></a> to circumvent ICANN’s termination proposals over the last thirty years. More than just a connection to the past, the domain for the Soviet Union has become a powerful digital symbol for Russia’s war narrative. The separatist Donetsk People’s Republic, an area of Ukraine illegally annexed by Russia and an unrecognized state, has used the .su extension for the website of its declared <a href="https://web.archive.org/web/20230221073119/https://mid-dnr.su/en/"><span>Ministry of Foreign Affairs</span></a>. Because of .su’s lax usage policies, the domain has also become a <a href="https://www.inverse.com/article/8672-the-bizarre-afterlife-of-su-the-domain-name-and-last-bastion-of-the-ussr"><span>haven for cybercriminals</span></a> and <a href="https://foreignpolicy.com/2021/01/22/russia-beijing-web-host-far-right-parler-daily-stormer/"><span>white supremacists</span></a>. While proposals to terminate .su have been around <a href="https://www.icann.org/en/announcements/details/discussion-paper-on-retiring-country-code-top-level-domains-5-12-2006-en"><span>since 2003</span></a>, discussions have quieted down in the past decade. The Russian Institute for Public Networks <a href="https://www.icann.org/en/system/files/files/soldatov-to-twomey-24jun07-en.pdf"><span>has sought to keep the domain operational</span></a>, which continues to generate revenue through its <a href="https://statdom.ru/tld/su/report/summary/"><span>over 100,000 currently registered addresses</span></a>.&nbsp;</p><h2>With the deletion of .yu, historians and researchers lost access to websites that contained important historical records. Gone are firsthand accounts of the NATO bombing and the Kosovo War; the mailing lists that scientists used to update their colleagues on the progress of the conflict; nostalgic forums and playful virtual nation experiments.</h2><p>The present day structure of ICANN has made it much harder to interfere in domain deletion and usage as it did when Postel transferred .yu from Slovenia to Serbia in 1994. In September 2022, after years of discussions, ICANN adopted a <a href="https://ccnso.icann.org/sites/default/files/field-attached/board-report-proposed-policy-retirement-cctlds-17sep21-en.pdf"><span>new mechanism for retiring country domains</span></a> that would allow it to begin the removal process for a country TLD after the occurrence of a “triggering event,” such as an update to the ISO 3166-1 standard. When asked whether the new policy could be applied to .su, Gwen Carlson, a spokesperson from ICANN, told me in an email that they “considered the situation of .su domain” in their deliberations and determined that&nbsp; “it was beyond the scope of the working group to create a policy that applied to existing situations,” such as that of .su, and instead a matter for IANA to determine. IANA currently has no policy for retaining domains based on cultural preservation and historical significance, however, Carlson said that they do allow five years for “the appropriate transition to successor namespaces.” Given the transition time and the adoption pace of ICANN’s policies, .su could likely be around for at least one more decade.</p><p>We’ll never know what would have happened to .yu. If it had been kept alive, the top-level domain could have preserved important artifacts that might have been useful for redefining the legacy of the former country or challenging government narratives. It could have also followed the fate of .su and become a symbol of Serbian nationalism.&nbsp;</p><p>With the deletion of .yu, historians and researchers lost access to websites that contained important historical records. Gone are firsthand accounts of the NATO bombing and the Kosovo War; the mailing lists that scientists used to update their colleagues on the progress of the conflict; nostalgic forums and playful virtual nation experiments. Ideally, .yu could have been a hub for collective memory of Yugoslavia — a memorial, of sorts — but the unstable borders and the lack of a preservation-focused policy from IANA prevented the domain from becoming a sanctuary for the community of the former country.</p><p>On April 5, 1999, <a href="https://nettime.org/Lists-Archives/nettime-l-9904/msg00103.html"><span>insomnia@EUnet.yu would send her last message</span></a> to the Nettime list.</p><p><strong>Date: Mon, 05 Apr 1999 13:00:59 -0700<br>From: insomnia &lt;insomnia@EUnet.yu&gt;<br>Subject: the very last message from insomnia</strong></p><p><br><strong>hi everybody on the nettime,<br>and goodbye.</strong><br></p><p><strong>this is my very last message to your list. all those beautiful people whose thoughts are with me daily will not need to hear anything from me anymore — they sympathize, and that is what counts most. i cannot thank them enough for all those nice words of support and comfort they have sent so far. those who, to put it mildly, doubt my intentions and my sincerity will probably be relieved, because there will be nobody on the net anymore to disturb them with news, attitudes and emotions they do not like or care to hear. let them bask in what is, in my opinion, false, one-sided humanity and believe whatever they want to believe. thanx to the nettime moderators who let my messages pass through. love &amp; peace, insomnia</strong></p>
</div><div data-block-type="2" id="block-6322830c2735affc04a9">

<p>
  <h4>✺ <strong>Published in “Issue 9: Weapons” of <em>The Dial</em></strong></h4>
</p>



</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How to catch a wild triangle (111 pts)]]></title>
            <link>https://securelist.com/operation-triangulation-catching-wild-triangle/110916/</link>
            <guid>38034269</guid>
            <pubDate>Fri, 27 Oct 2023 03:05:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://securelist.com/operation-triangulation-catching-wild-triangle/110916/">https://securelist.com/operation-triangulation-catching-wild-triangle/110916/</a>, See on <a href="https://news.ycombinator.com/item?id=38034269">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
													<p>In the beginning of 2023, thanks to our Kaspersky Unified Monitoring and Analysis Platform (KUMA) SIEM system, we noticed suspicious network activity that turned out to be an ongoing attack targeting the iPhones and iPads of our colleagues. The moment we understood that there was a clear pattern in the connections, and that the devices could have been infected, we initiated a standard digital forensics and incident response (DFIR) protocol for such cases – moving around the office, collecting the devices, and inspecting their contents. The ultimate goal was to locate and extract the malware, to find the point of entry (hopefully, a 0-day) and to develop a protocol for scanning the iDevices for active infection. That process turned into a months-long journey, and in this article we would like to summarize it.<br>
<a href="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01.png"><img decoding="async" loading="lazy" src="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01-1024x608.png" alt="" width="1024" height="608" srcset="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01-1024x608.png 1024w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01-300x178.png 300w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01-768x456.png 768w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01-1536x911.png 1536w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01-295x175.png 295w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01-370x220.png 370w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01-472x280.png 472w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01-800x475.png 800w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145322/How_to_catch_a_wild_triangle_01.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<h2 id="first-steps">First steps</h2>
<p>As we mentioned in <a href="https://securelist.com/operation-triangulation/109842/" target="_blank" rel="noopener">the very first article</a> on Operation Triangulation, the infected devices that we knew about initially, belonged to Kaspersky employees who worked in the HQ office in Moscow. All these devices were connected to the corporate Wi-Fi network, which allowed us to record and inspect the network traffic. After spending some time investigating with Wireshark, eventually we found the following:</p>
<ul>
<li>Right before exhibiting the suspicious behavior, the devices connected to the iMessage servers usually responsible for receiving messages and downloading attachments;</li>
<li>After downloading a few kilobytes of data that could have been an attachment, the devices established a connection to the server backuprabbit[.]com, exchanging data with it over a course of less than a minute;</li>
<li>Next, the devices connected to one of the following servers for a longer session:
<ul>
<li>cloudsponcer[.]com</li>
<li>snoweeanalytics[.]com</li>
<li>topographyupdates[.]com</li>
<li>unlimitedteacup[.]com</li>
<li>virtuallaughing[.]com</li>
</ul>
</li>
<li>Once the device rebooted, all the suspicious activity stopped.</li>
</ul>
<p>Unfortunately for us, all the communications with the servers in question happened over HTTPS, so we could not recover any additional details from the traffic.</p>
<h2 id="device-imaging">Device imaging</h2>
<p>Since all the devices were literally within hand’s reach, the obvious next step for us was to inspect their contents. Unfortunately, it was a dead end: available forensics acquisition software at the time of research was based on checkra1n and similar exploits that did not work for modern processors running iOS 15 and 16.</p>
<h2 id="examining-backups">Examining backups</h2>
<p>What we decided to do next was to use iTunes backups of the devices as a substitute for complete device images. This procedure had to be done with a fair amount of secrecy so as not to scare away the attackers. Since we did not know about the exact capabilities of the attackers, we assumed that they were listening to the microphones of the devices, and reading e-mail messages and messenger conversations. So, we had to arrange our meetings in person, putting the phones in airplane mode, and sometimes in Faraday bags. We used the excellent tooling from <a href="https://libimobiledevice.org/" target="_blank" rel="noopener">libimobiledevice</a> to acquire the backups, and inspected them by building a timeline of events with the <a href="https://docs.mvt.re/en/latest/" target="_blank" rel="noopener">Mobile Verification Toolkit</a>.</p>
<p>Such a timeline combines file system timestamps with data records extracted from various system databases. We focused on the iMessage directories, because we knew that in 2021 Citizen Lab researchers had found the infamous <a href="https://citizenlab.ca/2021/09/forcedentry-nso-group-imessage-zero-click-exploit-captured-in-the-wild/" target="_blank" rel="noopener">FORCEDENTRY</a> exploit by examining files in these directories. We wanted our analysis to be as fruitful – but the attackers behind Operation Triangulation turned out to be very stealthy, and we found no signs of exploits in the backup. We also searched it for malware executables, which we were also unable to find.</p>
<p>We had additional data points – the timestamps of suspicious network activity. So, we started to look for any repeating events in the timeline that happened around the same time. As a result, we found what looked like a new indicator: data usage records mentioning a system process named “BackupAgent” that should not have been executed at all – the binary was deprecated years before.</p>
		<div id="crayon-653bb16455781965958986" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>2022</span>-<span>09</span>-<span>13</span><span> </span><span>10</span><span>:</span><span>04</span><span>:</span><span>11.890351Z</span><span> </span><span>Datausage </span></p><p><span>IMTransferAgent</span>/<span>com</span><span>.</span><span>apple</span><span>.</span><span>datausage</span><span>.</span><span>messages</span><span> </span><span>(</span><span>Bundle </span><span>ID</span><span>:</span><span> </span></p><p><span>com</span><span>.</span><span>apple</span><span>.</span><span>datausage</span><span>.</span><span>messages</span><span>,</span><span> </span><span>ID</span><span>:</span><span> </span><span>127</span><span>)</span><span> </span><span>WIFI </span><span>IN</span><span>:</span><span> </span><span>0.0</span><span>,</span><span> </span><span>WIFI </span><span>OUT</span><span>:</span><span> </span></p><p><span>0.0</span><span> </span>-<span> </span><span>WWAN </span><span>IN</span><span>:</span><span> </span><span>76281896.0</span><span>,</span><span> </span><span>WWAN </span><span>OUT</span><span>:</span><span> </span><span>100956502.0</span></p><p><span>2022</span>-<span>09</span>-<span>13</span><span> </span><span>10</span><span>:</span><span>04</span><span>:</span><span>54.000000Z</span><span> </span><span>Manifest </span></p><p><span>Library</span>/<span>SMS</span>/<span>Attachments</span>/<span>65</span>/<span>05</span><span> </span>-<span> </span><span>MediaDomain</span></p><p><span>2022</span>-<span>09</span>-<span>13</span><span> </span><span>10</span><span>:</span><span>05</span><span>:</span><span>14.744570Z</span><span> </span><span>Datausage </span><span>BackupAgent</span><span> </span><span>(</span><span>Bundle </span><span>ID</span><span>:</span><span> </span><span>,</span><span> </span></p><p><span>ID</span><span>:</span><span> </span><span>710</span><span>)</span><span> </span><span>WIFI </span><span>IN</span><span>:</span><span> </span><span>0.0</span><span>,</span><span> </span><span>WIFI </span><span>OUT</span><span>:</span><span> </span><span>0.0</span><span> </span>-<span> </span><span>WWAN </span><span>IN</span><span>:</span><span> </span><span>734459.0</span><span>,</span><span> </span><span>WWAN </span></p><p><span>OUT</span><span>:</span><span> </span><span>287912.0</span></p></div></td>
					</tr>
				</tbody></table>
			</div><p><strong><em>Anomalous activity from the BackupAgent process observed in device logs – we shared this snippet in our first post on <a href="https://securelist.com/trng-2023/" target="_blank" rel="noopener">Operation Triangulation</a></em></strong></p>
<p>Based on the discovery of this anomaly, we wrote a first version of our <a href="https://securelist.com/find-the-triangulation-utility/109867/" target="_blank" rel="noopener">triangle_check</a> tool. It allowed us to quickly confirm if a device’s backup contained traces of potential compromise.</p>
<h2 id="trying-to-intercept-the-malicious-imessage">Trying to intercept the malicious iMessage</h2>
<p>Looking further into the event timelines, we discovered a second weak indicator: modification of an empty SMS attachment directory (one or several) prior to data usage by the BackupAgent process. Since the directory is modified but contains no files, that usually means with a high degree of confidence that the last operation was file deletion: there was an incoming attachment, it gets deleted, and seconds later a process named BackupAgent is running suspicious networking code.</p>
<p>Since the threat actor behind Operation Triangulation seemed to be smart enough to remove the malicious attachment from infected devices, we decided to try and capture the incoming message during the iMessage delivery process. While looking for a way to intercept iMessages, we found <a href="https://github.com/googleprojectzero/iOS-messaging-tools/blob/master/iMessage/dumpIncomingMessages.py" target="_blank" rel="noopener">this Frida script</a> coded by the Google Project Zero team. IIt is designed to run on a Mac, so we took a spare Mac mini and installed Frida on it. We then asked several of our targeted colleagues to log in to that Mac mini with their Apple IDs. By doing that, we were able to monitor and intercept iMessages that they received. All that we needed to do next was to wait until the attackers infected one of our colleagues’ devices once again.</p>
<p>At the same time, we were actively monitoring SIEM logs for the traces of suspicious activity. Soon enough, we detected familiar network connections that indicated a successful compromise of a phone with a “cloned” iMessage account. However, when we checked the iMessage interception logs on the Mac mini, we identified no traces of messages at the time of infection. Thus, our system was failing to capture the message that could have contained an exploit (we still don’t know why it didn’t work), so we started to seek other ways of capturing the malware.</p>
<h2 id="good-old-mitm">Good old MITM</h2>
<p>After the plan to intercept iMessages through a Mac device failed, we decided to try to decrypt HTTPS communications with the C2 servers previously identified from traffic analysis.</p>
<p>To do that, we:</p>
<ul>
<li>Set up a Linux server and installed <a href="https://mitmproxy.org/" target="_blank" rel="noopener">mitmproxy</a>, an HTTPS interception tool;</li>
<li>Installed a root SSL certificate (that we previously generated through mitmproxy) on several iOS devices that were known to be compromised before;</li>
<li>Installed a Wireguard VPN client on these devices and configured them to use our mitmproxy instance as a VPN server.</li>
</ul>
<p>We also developed a Telegram bot that would notify us whenever one of the monitored devices became infected:</p>
<p><a href="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145702/How_to_catch_a_wild_triangle_02.jpg"><img decoding="async" loading="lazy" src="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145702/How_to_catch_a_wild_triangle_02.jpg" alt="" width="775" height="947" srcset="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145702/How_to_catch_a_wild_triangle_02.jpg 775w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145702/How_to_catch_a_wild_triangle_02-246x300.jpg 246w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145702/How_to_catch_a_wild_triangle_02-768x938.jpg 768w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145702/How_to_catch_a_wild_triangle_02-143x175.jpg 143w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145702/How_to_catch_a_wild_triangle_02-370x452.jpg 370w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145702/How_to_catch_a_wild_triangle_02-229x280.jpg 229w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145702/How_to_catch_a_wild_triangle_02-737x900.jpg 737w" sizes="(max-width: 775px) 100vw, 775px"></a></p>
<p>Unfortunately, this method did not allow us to intercept HTTPS traffic of Apple services (including iMessage), as iOS <a href="https://support.apple.com/en-us/HT210060" target="_blank" rel="noopener">implements SSL pinning</a> for this. Thus, we were not able to decrypt iMessage traffic that came through the VPN.</p>
<h2 id="catching-the-javascript-validator">Catching the JavaScript validator</h2>
<p>Once the attackers reinfected one of the targets, we looked in the mitmproxy logs, noticing that it managed to decrypt the C2 server traffic:</p>
<p><a href="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145745/How_to_catch_a_wild_triangle_03.png"><img decoding="async" loading="lazy" src="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145745/How_to_catch_a_wild_triangle_03-1024x171.png" alt="" width="1024" height="171" srcset="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145745/How_to_catch_a_wild_triangle_03-1024x171.png 1024w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145745/How_to_catch_a_wild_triangle_03-300x50.png 300w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145745/How_to_catch_a_wild_triangle_03-768x128.png 768w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145745/How_to_catch_a_wild_triangle_03-1030x172.png 1030w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145745/How_to_catch_a_wild_triangle_03-370x62.png 370w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145745/How_to_catch_a_wild_triangle_03-800x134.png 800w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145745/How_to_catch_a_wild_triangle_03.png 1190w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p>We expected the payload that we managed to obtain to be an exploit for iOS. However, it was the <a href="https://securelist.com/triangulation-validators-modules/110847/#javascript-validator" target="_blank" rel="noopener">JavaScript validator</a>, which simply collected information about the victim browser and sent it to the C2 server.</p>
<p>We observed the infected device receiving a payload in response to the validation information sent to the C2 server. However, while we were able to intercept HTTPS traffic, we could not decrypt it. That is because the JS validator implements its own layer of encryption for C2 communications, using the <a href="https://nacl.cr.yp.to/" target="_blank" rel="noopener">NaCl library</a>. The encryption algorithm used is based on public-key cryptography. Specifically, to communicate with the C2 server, the JS validator:</p>
<ul>
<li>Generates a random key pair (consisting of private and public key);</li>
<li>Derives a shared key from the generated private key and the C2 server’s public key;</li>
<li>Uses this shared key to encrypt messages sent to the C2 server and decrypt the ones received from it.</li>
</ul>

		<div id="crayon-653bb1645578c636267160" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p></div>
				</td>
						<td><div><p><span>var</span><span> </span><span>o</span><span> </span>=<span> </span><span>function</span><span> </span><span>(</span><span>t</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>function</span><span> </span><span>u</span><span>(</span><span>t</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>this</span><span>.</span><span>D</span><span> </span>=<span> </span><span>nacl</span><span>.</span><span>box</span><span>.</span><span>keyPair</span><span>(</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>this</span><span>.</span><span>L</span><span> </span>=<span> </span><span>nacl</span><span>.</span><span>box</span><span>.</span><span>before</span><span>(</span><span>t</span><span>,</span><span> </span><span>this</span><span>.</span><span>D</span><span>.</span><span>secretKey</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>u</span><span>.</span><span>prototype</span><span>.</span><span>encrypt</span><span> </span>=<span> </span><span>function</span><span> </span><span>(</span><span>t</span><span>,</span><span> </span><span>nonce</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>nacl</span><span>.</span><span>box</span><span>.</span><span>after</span><span>(</span><span>t</span><span>,</span><span> </span><span>nonce</span><span>,</span><span> </span><span>this</span><span>.</span><span>L</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>u</span><span>.</span><span>prototype</span><span>.</span><span>decrypt</span><span> </span>=<span> </span><span>function</span><span> </span><span>(</span><span>ciphertext</span><span>,</span><span> </span><span>nonce</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>nacl</span><span>.</span><span>box</span><span>.</span><span>open</span><span>.</span><span>after</span><span>(</span><span>ciphertext</span><span>,</span><span> </span><span>nonce</span><span>,</span><span> </span><span>this</span><span>.</span><span>L</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>u</span><span>.</span><span>prototype</span><span>.</span><span>N</span><span> </span>=<span> </span><span>function</span><span> </span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>nacl</span><span>.</span><span>randomBytes</span><span>(</span><span>nacl</span><span>.</span><span>box</span><span>.</span><span>nonceLength</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>u</span><span>.</span><span>prototype</span><span>.</span><span>k</span><span> </span>=<span> </span><span>function</span><span> </span><span>(</span><span>)</span><span> </span><span>{</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>this</span><span>.</span><span>D</span><span>.</span><span>publicKey</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>return</span><span> </span><span>new</span><span> </span><span>u</span><span>(</span><span>t</span><span>)</span><span>;</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>}</span><span>(</span><span>h</span><span>.</span><span>values</span><span>.</span><span>R</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div> 
<p><strong><em>Key generation</em></strong></p>
<p>In order to decrypt the C2 server communications, it is necessary to know the private key that was randomly generated by the JS validator. However, this key is kept in memory and is not sent to the C2 server. And so we had to do some additional work in order to decrypt the validator’s traffic.</p>
<p>As demonstrated by the screenshot above, the JS validator generates a random key pair by invoking the nacl.box.keyPair() method. To decrypt the traffic, we decided to compromise the process of generating this keypair. Specifically, we coded a tiny mitmproxy add-on that looked for invocations of the nacl.box.keyPair() method. It then replaced them with another method, nacl.box.keyPair.fromSecretKey(), that initializes a keypair from a provided private key.</p>
<p><a href="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145841/How_to_catch_a_wild_triangle_04.png"><img decoding="async" loading="lazy" src="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145841/How_to_catch_a_wild_triangle_04.png" alt="" width="648" height="149" srcset="https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145841/How_to_catch_a_wild_triangle_04.png 648w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145841/How_to_catch_a_wild_triangle_04-300x69.png 300w, https://media.kasperskycontenthub.com/wp-content/uploads/sites/43/2023/10/25145841/How_to_catch_a_wild_triangle_04-370x85.png 370w" sizes="(max-width: 648px) 100vw, 648px"></a></p>
<p>As can be observed from the screenshot above, we hardcoded a private key into the arguments of this method, thus backdooring the validator’s encryption scheme. Once the backdoored validator was executed on the infected device, it became possible to decrypt all communications of the JS validator.</p>
<h2 id="the-binary-validator-and-the-hint-about-the-attachment">The binary validator and the hint about the attachment</h2>
<p>Once the attackers reinfected one of their targets, we were able to analyze the payload further executed by the validator. It turned out to contain two exploits: one for WebKit and the other for the iOS kernel. The ultimate goal of those two exploits is to launch the binary validator stage on the target device.</p>
<p>As we described in the article covering <a href="https://securelist.com/triangulation-validators-modules/110847/#binary-validator" target="_blank" rel="noopener">the stealth of Operation Triangulation</a>, the binary validator contains a function that cleans up traces of the malicious iMessage. Specifically, we found out that this function makes the following SQL request to the SMS.db database:</p>
		<div id="crayon-653bb16455790591994839" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>SELECT </span><span>guid </span><span>FROM </span><span>attachment </span><span>WHERE </span><span>uti</span><span> </span>==<span> </span><span>"com.apple.watchface"</span><span> </span><span>AND</span><span> </span></p><p><span>LENGTH</span><span>(</span><span>transfer_name</span><span>)</span><span> </span><span>&gt;</span><span> </span><span>32</span><span> </span><span>AND</span><span> </span><span>INSTR</span><span>(</span><span>transfer_name</span><span>,</span><span> </span><span>CHAR</span><span>(</span><span>0x2013</span><span>)</span><span>)</span><span> </span>==<span> </span><span>9</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div><p>
The condition ‘uti == “com.apple.watchface”‘ gave us another hint: now it became clear that the malicious attachment is a <a href="https://support.apple.com/guide/watch/faces-and-features-apde9218b440/watchos" target="_blank" rel="noopener">.watchface</a> file. And so, with a little bit more information about the attachment, we planned and executed the next attempt to obtain it.</p>
<h2 id="exploring-imessage">Exploring iMessage</h2>
<p>In order to devise another strategy for getting the attachment, we decided to study the process of sending iMessage attachments in greater detail. It turns out that this process <a href="https://support.apple.com/en-us/guide/security/sec70e68c949/web" target="_blank" rel="noopener">consists</a> of the following steps:</p>
<ol>
<li>The sender generates a random AES key and encrypts the attachment with it;</li>
<li>The encrypted attachment is uploaded to iCloud;</li>
<li>The iCloud link to the encrypted attachment is sent to the recipient along with the AES key, which is additionally encrypted using the device’s public RSA key.</li>
</ol>
<p>Thus, to obtain the malicious attachment file, we had to retrieve two components:</p>
<ul>
<li>The ciphertext of the attachment;</li>
<li>The AES key used to encrypt it.</li>
</ul>
<p>It is quite straightforward to obtain the attachment ciphertext, as it is possible to intercept traffic to the iCloud servers through mitmproxy. Previously, we wrote that iOS does not allow decryption of HTTPS traffic of Apple services. However, iCloud attachment links turned out to be an exception to that rule.</p>
<p>At the same time, the process of obtaining the AES key is quite difficult. It is sent over the iMessage protocol and so cannot be intercepted through mitmproxy. However, we discovered a way to recover the attachment and to extract this key using physical access to the target device. We prevented iMessage from successfully downloading the attachment using the iCloud link, so that the exploit would not activate and then delete the attachment, but the AES encryption key would be stored in the SMS.db database.</p>
<p>We decided to change a few bytes in the attachment ciphertext using our mitmproxy add-on. By doing that, we disrupted the process of downloading the attachment ciphertext, and the decryption key was kept in the SMS.db database. We then downloaded an iTunes backup of the infected device and extracted the key from the database inside this backup. As a result, we obtained the malicious .watchface attachment sent by the attackers – that was the beginning of the exploit chain used to compromise the devices.</p>
<h2 id="getting-the-implant">Getting the implant</h2>
<p>After we finished obtaining the exploits used by the attackers, all that remained was to get the <a href="https://securelist.com/triangledb-triangulation-implant/110050/" target="_blank" rel="noopener">implant</a> itself. The binary validator is the component responsible for downloading and activating the implant payload from the C2 server, and it uses a combination of RSA and AES for communications. Again, the use of RSA means that it is impossible to decrypt the implant payload by having only the ciphertext traffic.</p>
<p>To exchange data with the C2 server, the binary validator:</p>
<ul>
<li>Generates a random AES key;</li>
<li>Encrypts the generated AES key with the server’s RSA public key specified in the validator’s configuration;</li>
<li>Encrypts the message to be sent to the C2 server with the generated AES key;</li>
<li>Sends the encrypted message to the C2 server and receives a response from it;</li>
<li>Decrypts the response with the same AES key used for encrypting the sent message.</li>
</ul>
<p>The validator encrypts all the packets with the following ARM instructions:</p>
		<div id="crayon-653bb16455793923702756" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>E0</span><span> </span><span>03</span><span> </span><span>18</span><span> </span><span>AA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>MOV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>X0</span><span>,</span><span> </span><span>X24</span></p><p><span>2E</span><span> </span><span>1A</span><span> </span><span>00</span><span> </span><span>94</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>BL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>serialize_plist</span></p><p><span>A0</span><span> </span><span>04</span><span> </span><span>00</span><span> </span><span>B4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>CBZ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>X0</span><span>,</span><span> </span><span>loc_100006CD4</span></p><p><span>E1</span><span> </span><span>03</span><span> </span><span>17</span><span> </span><span>AA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>MOV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>X1</span><span>,</span><span> </span><span>X23</span></p><p><span>39</span><span> </span><span>1A</span><span> </span><span>00</span><span> </span><span>94</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>BL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>encryptData</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p></div></td>
					</tr>
				</tbody></table>
			</div><p>
This code first executes the “serialized_plist” function, which prepares data for sending. After it is executed, the register X0 points to the data ready to be sent to the server.</p>
<p>The next function to be invoked is “encryptData”. It has two arguments: a pointer to the data being encrypted is passed to the X0 register, while the X1 register contains a plist with configuration data, including encryption parameters. After the execution of this function, the X0 register contains a pointer to the ciphertext.</p>
<p>Once again, we needed to compromise the encryption process to intercept the data from the infected device. We decided to replace the call to the “encryptData” function with a NOP instruction (1f 20 03 d5). This way, the value of the X0 register will not be overwritten with the pointer to the encrypted data, and the validator will send cleartext data to our VPN server.</p>
<p>Just as in the case with the JavaScript validator, we patched the code on the fly by extending our mitmproxy add-on:</p>
		<div id="crayon-653bb16455795889277914" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>sig_pattern</span><span> </span>=<span> </span><span>re</span><span>.</span><span>compile</span><span>(</span><span>rb</span><span>"...\xaa...\xf9...\x94...\xaa...\x94...\xb4...\xaa...\x94...\xb4...\xb4...\x71...\x54...\xaa...\x70...\xd5...\xaa...\x14"</span><span>)</span></p><p><span>block_to_nop</span><span> </span>=<span> </span><span>sig_pattern</span><span>.</span><span>findall</span><span>(</span><span>ungzipped</span><span>)</span><span>[</span><span>0</span><span>]</span></p><p><span>new_block</span><span> </span>=<span> </span><span>block_to_nop</span><span>[</span><span>:</span><span>28</span><span>]</span><span> </span>+<span> </span><span>b</span><span>'\x1f\x20\x03\xd5'</span><span> </span>+<span> </span><span>block_to_nop</span><span>[</span><span>32</span><span>:</span><span>]</span></p><p><span>ungzipped</span><span> </span>=<span> </span><span>ungzipped</span><span>.</span><span>replace</span><span>(</span><span>block_to_nop</span><span>,</span><span> </span><span>new_block</span><span>)</span></p></div></td>
					</tr>
				</tbody></table>
			</div><p><strong><em>Snippet of the mitmproxy add-on code that patches the call to the encryptData function with a NOP</em></strong></p>
<p>When the cleartext data reaches our VPN server, we (again, through the mitmproxy add-on) simulate a key exchange and data encryption and control the value of the encryption key. As a result, we successfully decrypted the data sent by the C2 server and extracted the body of the implant.</p>
<h2 id="obtaining-the-modules">Obtaining the modules</h2>
<p>After reverse engineering the TriangleDB implant, we found out that it is able to execute auxiliary modules, which made us want to obtain the module binaries. In our analysis of the implant, we wrote that module executables are passed to the implant through the CRXUpdateRecord and CRXUpdateRunRecord commands. Thus, in order to get these executables, it was necessary to be able to decrypt all the commands sent to the C2 server.</p>
<p>Again, the encryption algorithm was based on RSA, so our actions were similar to those we took to obtain the implant binaries.</p>
<p>This time, however, we decided to:</p>
<ul>
<li>Generate our own RSA public/private key pair;</li>
<li>Replace the RSA public key from the implant’s configuration with the previously generated one.</li>
</ul>
<p>We did that by adding the following code to the mitmproxy add-on:</p>

		<div id="crayon-653bb16455797267163568" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span>macho_second_index</span><span> </span>=<span> </span><span>find_nth</span><span>(</span><span>decompressed_implant</span><span>,</span><span> </span><span>b</span><span>"\xcf\xfa\xed\xfe"</span><span>,</span><span> </span><span>2</span><span>)</span></p><p><span>macho_second</span><span> </span>=<span> </span><span>decompressed_implant</span><span>[</span><span>macho_second_index</span><span>:</span><span>]</span></p><p><span>rsa_key</span><span>,</span><span> </span><span>xored_signature_offset</span><span>,</span><span> </span><span>xor_key</span><span> </span>=<span> </span><span>extract_rsa_key</span><span>(</span><span>macho_second</span><span>)</span></p><p><span>my_der_key</span><span> </span>=<span> </span><span>MY_CERT_DER</span></p><p><span>self</span><span>.</span><span>infections</span><span>[</span><span>flow</span><span>.</span><span>client_conn</span><span>.</span><span>peername</span><span>[</span><span>0</span><span>]</span><span>]</span><span>[</span><span>"true_device_public_cert"</span><span>]</span><span> </span>=<span> </span><span>rsa_key</span></p><p><span>my_der_key_xored</span><span> </span>=<span> </span><span>xor_one_byte_key</span><span>(</span><span>my_der_key</span><span>,</span><span> </span><span>xor_key</span><span>)</span></p><p><span>decompressed_implant</span><span>[</span><span>macho_second_index</span><span> </span>+<span> </span><span>xored_signature_offset</span><span>:</span><span>macho_second_index</span><span> </span>+<span> </span><span>xored_signature_offset</span>+<span>796</span><span>]</span><span> </span>=<span> </span><span>my_der_key_xored</span></p></div></td>
					</tr>
				</tbody></table>
			</div> 
<p>When the implant traffic reached our VPN server, we:</p>
<ul>
<li>Decrypted it with the RSA private key that we generated;</li>
<li>Saved the decrypted traffic;</li>
<li>Re-encrypted the traffic with the public key used by the attackers.</li>
</ul>
<p>This way, we were able to eavesdrop on all communications performed by the implant, as well as obtain the module binaries.</p>


<h2 id="conclusion">Conclusion</h2>
<p>Our journey of investigating Operation Triangulation was quite lengthy; it took several months. Despite many ups and downs, we eventually managed to obtain all the stages used in this attack, including four zero-day exploits reported to Apple, two validators, an implant and its modules. </p>
<p>Along the way, we conducted a lot of research on iOS internals and came up with many interesting techniques, such as the one we used for extracting the iMessage attachment. </p>
<p>The main difficulty that we encountered during our research was to deal with the public-key cryptography that was used in just about every stage of the infection chain. To bypass the encryption, we had to develop a mitmproxy add-on that patched the malicious stages on the fly and compromised the original algorithms. Initially, we started with just 30 lines of code. When we finished extracting the modules, it had about 400 lines – and we definitely did not expect the add-on’s code to grow that much back at the start of our enduring adventure!</p>
												</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[My Left Kidney (253 pts)]]></title>
            <link>https://www.astralcodexten.com/p/my-left-kidney</link>
            <guid>38034184</guid>
            <pubDate>Fri, 27 Oct 2023 02:55:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.astralcodexten.com/p/my-left-kidney">https://www.astralcodexten.com/p/my-left-kidney</a>, See on <a href="https://news.ycombinator.com/item?id=38034184">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><blockquote><p><em>A person has two kidneys; one advises him to do good and one advises him to do evil. And it stands to reason that the one advising him to do good is to his right and the one that advises him to do evil is to his left.</em></p></blockquote><p>— Talmud (Berakhot 61a)</p><p><strong>I.</strong></p><p><span>As I left the Uber, I saw with horror the growing wet spot around my crotch. “It’s not urine!”, I almost blurted to the driver, before considering that </span><em>1)</em><span> this would just call attention to it and </span><em>2)</em><span> it was urine. “It’s not </span><em>my</em><span> urine,” was my brain’s next proposal - but no, that was also false. “It is urine, and it is mine, but just because it’s pooling around my crotch doesn’t mean I peed myself; that’s just a coincidence!” That one would have been true, but by the time I thought of it he had driven away.</span></p><p>Like most such situations, it began with a Vox article.</p><p><strong>II.</strong></p><p>I make fun of Vox journalists a lot, but I want to give them credit where credit is due: they contain valuable organs, which can be harvested and given to others.</p><p><span>I thought about this when reading Dylan Matthews’ </span><a href="https://www.vox.com/science-and-health/2017/4/11/12716978/kidney-donation-dylan-matthews" rel="">Why I Gave My Kidney To A Stranger - And Why You Should Consider Doing It Too</a><span>. Six years ago, Matthews donated a kidney. Not to any particular friend or family member. He just thought about it, realized he had two kidneys, realized there were thousands of people dying from kidney disease, and felt like he should help. He contacted his local hospital, who found a suitable recipient and performed the surgery. He described it as “the most rewarding experience of my life”:</span></p><blockquote><p>As I’m no doubt the first person to notice, being an adult is hard. You are consistently faced with choices — about your career, about your friendships, about your romantic life, about your family — that have deep moral consequences, and even when you try the best you can, you’re going to get a lot of those choices wrong. And you more often than not won’t know if you got them wrong or right. Maybe you should’ve picked another job, where you could do more good. Maybe you should’ve gone to grad school. Maybe you shouldn’t have moved to a new city.</p><p>So I was selfishly, deeply gratified to have made at least one choice in my life that I know beyond a shadow of a doubt was the right one.</p></blockquote><p><span>Something about that last line struck a chord in me. Still, making decisions about internal organs based on a Vox article sounded like the </span><em>worst</em><span> idea. This was going to require more research.</span></p><p><strong>III.</strong></p><p>Matthews says kidney donation is fantastically low-risk:</p><blockquote><p><span>The risk of death in surgery is 3.1 in 10,000, or 1.3 in 10,000 if (like me) you don't suffer from hypertension. For comparison, that’s a little higher and a little lower, respectively, than the risk of pregnancy-related death in the US</span></p><span>. The risk isn’t zero (this is still major surgery), but death is extraordinarily rare. Indeed, there’s no good evidence that donating reduces your life expectancy at all [...]</span><p>The procedure does increase your risk of kidney failure — but the average donor still has only a 1 to 2 percent chance of that happening. The vast majority of donors, 98 to 99 percent, don’t have kidney failure later on. And those who do get bumped up to the top of the waiting list due to their donation. </p></blockquote><p>I checked the same resources Matthews probably had, and I agreed.</p><p><span>It was my girlfriend (at the time) who figured out the flaw in our calculation. She was both brilliant and pathologically anxious, which can be a powerful combination: her zeal to justify her neuroses gave her above-genius-level ability to ferret out medical risks that doctors and journalists had missed. She made it her project to dissuade me from donating, did a few hours’ research, and reported back that although the risk of dying from the surgery was indeed 1/10,000, the risk of dying from the </span><em>screening exam</em><span> was 1/660 .</span></p><p><span>I regret to inform you she might be right. The screening exam involves a “multiphase abdominal CT”, a CAT scan that looks at the kidneys and their associated blood vessels and checks if they’re all in the right place. This involves a radiation dose of </span><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4635397/" rel="">about 30 milli-Sieverts</a><span>. The usual rule of thumb is that </span><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2996147/" rel="">one extra Sievert = 5% higher risk of dying from cancer</a><span>, so a 30 mS dose increases death risk about one part in 660. There are about two nonfatal cases of cancer for every fatal case, so the total cancer risk from the exam could be as high as 1/220</span></p><p><span>. I’m not a radiologist, maybe I’m totally wrong here, but the numbers seemed to check out.</span></p><p><span>I discussed this concern with transplant doctors at UCSF and the National Kidney Foundation, who seemed very surprised to hear it, but couldn’t really come up with any evidence against. I asked if they could do the kidney scan with an MRI (non-radioactive) instead of a CT. They agreed</span></p><p><span>.</span></p><p>The short-term risks taken care of, my girlfriend and I moved on to arguing about the longer-term ones. One kidney starts out with half the GFR (glomerular filtration rate, a measure of the kidneys’ filtering ability) of two kidneys. After a few months, it grows a little to pick up the slack, stabilizing at about 70% of your pre-donation GFR. 70% of a normal healthy person’s GFR is more than enough. </p><p>But you lose GFR as you age. Most people never lose enough GFR to matter; they die of something else first. But some people lose GFR faster than normal and end up with chronic kidney disease, which can cause fatigue and increase your chance of other problems like heart attacks and strokes. If you donate one kidney, and so start with only 70% of normal GFR, you have a slightly higher chance of being in this group whose GFR decline eventually becomes a problem. How much of a chance? According to Matthews, “1 to 2 percent”.</p><p><span>The studies showing this are a bit of a mess. Non-controlled studies find that kidney donors have </span><em>lower</em><span> lifetime risk of kidney disease than the general population. But this is because kidney donors are screened for good kidney health. It’s good to know that donation is so low-risk that it doesn’t overcome this pre-existing advantage. But in order to quantify the risk exactly, we need to find a better control group.</span></p><p><span>Two large studies tried to compare kidney donors to other people who </span><em>would have</em><span> passed the kidney donation screening if they had applied, and who therefore were valid controls. </span><a href="https://pubmed.ncbi.nlm.nih.gov/20215610/" rel="">An American study of 347 donors</a><span> found no increased mortality after an average followup of 6 years. A much bigger and better </span><a href="https://pubmed.ncbi.nlm.nih.gov/24284516/" rel="">Norwegian study of 1901 donors</a><span> found there </span><em>was</em><span> increased mortality after 25 years -  so much so that the donors had an extra 5% chance of dying during that period (ie absolute risk increase). But looking more closely at the increased deaths, they were mostly from autoimmune diseases that couldn’t plausibly be related to their donations. The researchers realized that most kidney donors give to family members. If your family member needs a kidney donation, it probably means they have some disease that harms the kidneys. Lots of diseases are genetic, so if your family members have them, you might have them too. </span><a href="https://sci-hub.st/https://pubmed.ncbi.nlm.nih.gov/24445743/" rel="">They suspected</a><span> that the increase in mortality was mostly because of genetic diseases which these donors shared with their kidney-needing relatives - diseases which may not have shown up during the screening process. </span></p><p><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4411956/" rel="">Muzaale et al</a><span> investigate this possibility in a sample of 96,217 donors. They were only able to follow for an average 7 years, but used curves derived from other samples to project up to 15 years. They found 34 extra cases of ESRD (end-stage renal disease, the most severe form of kidney disease) per 10,000 donors who were related to their recipients, compared to 15 cases per 10,000 for donors who weren’t (the difference wasn’t statistically significant, but I think it’s still correct for unrelated donors to use the unrelated donor number). They estimated a total increased risk of 78/10,000 per lifetime; although I can’t prove it, I think by analogy to the earlier statistic this number should plausibly be ~halved for unrelated donors. So I think that if anything, Matthews is </span><em>overestimating</em><span> how worried to be - the real number could be as low as an 0.5 - 1% increase.</span></p><p><span>On the other hand, I discussed this with my uncle, a nephrologist (kidney doctor), who says he sees suspiciously many patients who donated kidneys 30+ years ago and now have serious kidney disease. None of these studies have followed subjects for 30+ years, and although they can statistically extend their projections, something weird might happen after many decades that deviates from what you would get by just extrapolating the earlier trend. I was eventually able to find </span><a href="https://www.nejm.org/doi/full/10.1056/nejmoa0804883" rel="">Ibrahim et al</a><span>, which follows some kidney donors for as long as 30-40 years. They find no negative deviation from trend after the 20 year mark. Even up to 35-40 years, donors continue to have less kidney disease than the average non-donor.</span></p><figure data-drag-handle="" data-component-name="Image3Dynamic"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 1456w, https://substackcdn.com/image/fetch/w_1970,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 1970w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1970,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg" sizes="100vw" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 1456w, https://substackcdn.com/image/fetch/w_1970,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bbb4c70-9ed7-485d-89cc-986016988113_985x817.jpeg 1970w" title="" width="985"></picture></div></figure><p>This isn’t controlling for selection bias - but neither was my uncle’s anecdotal observation. So although it does make me slightly nervous, I’m not going to treat it as actionable evidence.</p><p><span>Still, my girlfriend ending up begging me not to donate, and I caved. But we broke up in 2019. The next few years were </span><a href="https://slatestarcodex.com/2020/06/22/nyt-is-threatening-my-safety-by-revealing-my-real-name-so-i-am-deleting-the-blog/" rel="">bumpy</a><span>, but by 2022 my life was in a more stable place and I started thinking about kidneys again. By then I was married. I discussed the risks with my wife and she decided to let me go ahead. So in early November 2022, for the second time, I sent a form to the University of California San Francisco Medical Center saying I wanted to donate a kidney.</span></p><p><strong>IV.</strong></p><p><span>Something else happened that month. On November 11, FTX fell apart and was revealed as a giant scam. Suddenly everyone hated effective altruists. Publications that had been feting us a few months before pivoted to saying they knew we were evil all along. I practiced rehearsing the words “I have never donated to charity, and if I did, I </span><em>certainly</em><span> wouldn’t care whether it was effective or not”.</span></p><p>But during the flurry of intakes, screenings, and evaluations that UCSF gave me that month, the doctors asked “so what made you want to donate?” And I hadn’t rehearsed an answer to this one, so I blurted out “Have you heard of effective altruism?” I expected the worst. But the usual response was “Oh! Those people! Great, no further explanation needed.” When everyone else abandoned us, the organ banks still thought of us as those nice people who were always giving them free kidneys.</p><p><span>We </span><em>were</em><span> giving them a lot of free kidneys. When I talked to my family and non-EA friends about wanting to donate, the usual reaction was “You want to </span><em>what?!” </em><span>and then trying to convince me this was unfair to my wife or my potential future children or whatever. When I talked to my EA friends, the reaction was at least “Cool!”. But pretty often it was “Oh yeah, I donated two years ago, want to see my scar?” Most people don’t do interesting things unless they’re in a community where those things have been normalized. I was blessed with a community where this was so normal that I could read a Vox article about it and not vomit it back out.</span></p><p><span>This is surprising, because kidney donation is only medium effective, as far as altruisms go</span></p><p><span>. The average donation buys the recipient about </span><a href="https://sci-hub.st/10.1111/ajt.13490" rel="">5 - 7 extra years of life</a><span> (beyond the counterfactual of dialysis). It also </span><a href="https://www.researchgate.net/profile/Fernanda-Ortiz-4/publication/316319397_Oral_health_in_patients_with_renal_disease_a_longitudinal_study_from_predialysis_to_kidney_transplantation/links/60367a83299bf1cc26ebd84d/Oral-health-in-patients-with-renal-disease-a-longitudinal-study-from-predialysis-to-kidney-transplantation.pdf" rel="">improves quality of life</a><span> from about 70% of the healthy average to about 90%. Non-directed kidney donations can also help the organ bank solve allocation problems around matching donors and recipients of different blood types. Most sources say that an average donated kidney </span><a href="https://stanfordhealthcare.org/medical-treatments/k/kidney-transplant-surgery/types/chain-donation.html" rel="">creates a “chain”</a><span> of about five other donations, but most of these other donations would have happened anyway; the value over counterfactual is about 0.5 to 1 extra transplant completed before the intended recipient dies from waiting too long. So in total, a donation produces about 10 - 20 extra quality-adjusted life years. </span></p><p><span>This is great - my grandfather died of kidney disease, and 10 - 20 more years with him would have meant a lot. But it only costs about </span><a href="https://www.givewell.org/impact-estimates#Impact_metrics_for_grants_to_GiveWells_top_charities_in_2021" rel="">$5,000 - $10,000</a><span> to produce this many QALYs through bog-standard effective altruist interventions, like buying mosquito nets for malarial regions in Africa. In a Philosophy 101 Thought Experiment sense, if you’re going to miss a lot of work recovering from your surgery, you might as well skip the surgery, do the work, and donate the extra money to Against Malaria Foundation instead</span></p><p><span>.</span></p><p><span>Obviously this kind of thing is why everyone hates effective altruists. People got </span><em>so </em><span>mad at some British EAs who used donor money to “buy a castle”. I read the Brits’ arguments: they’d been running lots of conferences with policy-makers, researchers, etc; those conferences have gone really well and produced some of the systemic change everyone keeps wanting. But conference venues kept ripping them off, having a nice venue of their own would be cheaper in the long run, and after looking at many options, the “castle” was the cheapest. Their math checked out, and I believe them when they say this was the most effective use for that money. For their work, they got a million sneering thinkpieces on how “EA just takes people’s money to buy castles, then sit in them wearing crowns and waving scepters and laughing at poor people”. I respect the British organizers’ willingness to </span><a href="https://www.astralcodexten.com/p/the-prophet-and-caesars-wife" rel="">sacrifice their reputation on the altar of doing what was actually good instead of just good-looking</a><span>.</span></p><p>I worry that people use suffering as a heuristic for goodness. Mother Teresa becomes a hero because living with lepers in the Calcutta slums sounds horrible - so anyone who does it must be really charitable (regardless of whether or not the lepers get helped). Owning a castle is the opposite of suffering - it sounds great - therefore it is fake charity (no matter how much good you do with the castle).</p><p><span>This heuristic isn’t terrible. If you’re suffering for your charity, then it must seem important </span><em>to you, </em><span>and you’re obviously not doing it for personal gain. If you do charity in a way that benefits you (like gets you a castle), then the personal gain aspect starts looking suspicious. The problem is the people who elevate it from a suspicion to an automatic condemnation. It seems like such a natural thing to do. And it encourages people to be masochists, sacrificing themselves pointlessly in photogenic ways, instead of thinking about what will actually help others.</span></p><p>But getting back to the point: kidney donation has an unusually high ratio of photogenic suffering to altruistic gains. So why do EAs keep doing it? I can’t speak for anyone else, but I’ll speak for myself.</p><p>It starts with wanting, just once, do a good thing that will make people like you more instead of less. It would be morally fraught to do this with money, since any money you spent on improving your self-image would be denied to the people in malarial regions of Africa who need it the most. But it’s not like there’s anything else you can do with that spare kidney.</p><p><span>Still, it’s not </span><em>just </em><span>about that. All of this calculating and funging takes a psychic toll. Your brain uses the same emotional heuristics as everyone else’s. No matter how contrarian you pretend to be, deep down it’s hard to make your emotions track what you know is right and not what the rest of the world is telling you. The last </span><em>Guardian</em><span> opinion columnist who must be defeated is the </span><em>Guardian</em><span> opinion columnist inside your own heart. You want to do just one good thing that you’ll feel unreservedly good about, and where you know somebody’s going to be directly happy at the end of it in a way that doesn’t depend on a giant rickety tower of assumptions. </span></p><p>Dylan Matthews wrote:</p><blockquote><p>As I’m no doubt the first person to notice, being an adult is hard. You are consistently faced with choices — about your career, about your friendships, about your romantic life, about your family — that have deep moral consequences, and even when you try the best you can, you’re going to get a lot of those choices wrong. And you more often than not won’t know if you got them wrong or right. Maybe you should’ve picked another job, where you could do more good. Maybe you should’ve gone to grad school. Maybe you shouldn’t have moved to a new city.</p><p>So I was selfishly, deeply gratified to have made at least one choice in my life that I know beyond a shadow of a doubt was the right one.</p></blockquote><p>…and it really resonated. Everything else I try to do, there’s a little voice inside of me which says “Maybe the haters are right, maybe you’re stupid, maybe you’re just doing the easy things. Maybe you’re no good after all, maybe you’ll never be able to figure any of this out. Maybe you should just give up.” </p><p>The Talmud is very clear: that voice is called the evil inclination, and it dwells in the left kidney. There is only one way to shut it off forever. I was ready.</p><p><strong>IV.</strong></p><p>You might not be a masochist. But hospitals are sadists. They want to hear you beg.</p><p><span>After I submitted the donation form, I was evaluated by a horde of indistinguishable women. They all had titles like “Transplant Coordinator”, “Financial Coordinator”, and “Patient Care Representative”. Several were social workers; one was a psychiatrist. They would see me through a buggy version of Zoom that caused various parts of their body to suddenly turn into the UCSF logo, and they all had questions like “Are you sure you want to do this?” and “Are you going to regret this later?” and “Is anyone pressuring you to do this?” and “Are you </span><em>sure</em><span> you want to do this?”</span></p><p>After clearing that gauntlet came the tests. Blood tests - I think I must have given between 20 and 50 vials of blood throughout the screening process. Urine tests - both the normal kind where you pee in a cup, and a more involved kind where you have to store all your urine for 24 hours in a big jug, then take it to the lab. “Urinate into a jug” ought to be the easiest thing in the world, but some of the labs have overly complicated jugs that I, with my mere MD, couldn’t always get right - hence my experience accidentally pouring urine on myself in an Uber. </p><p>Then came the big guns. Echocardiogram. MRI. One of my urine tests was slightly off, so I also got a nuclear kidney scan, where they injected radioactive liquid in me and monitored how long it took to come out the other end (I remember asking a friend “Can I use your bathroom? My urine might be slightly radioactive today, but it shouldn’t be enough to matter.”) </p><p>Finally, five months after I originally applied, I got a phone call from the Transplant Coordinator. The test results were in, and . . . I had been rejected because I’d had mild childhood OCD.</p><p>This was something I’d mentioned offhandedly during one of the psych evaluations. As a child, I used to touch objects in odd patterns that only made sense to me. I got diagnosed with OCD, put on SSRIs for a while, finally did therapy at age 15, hadn’t had any problems since. I still go back on SSRIs sometimes when I’m really stressed, and will grudgingly admit to the occasional odd-pattern-touching when no one’s looking.</p><p>But it’s nothing anyone would know about if I didn’t tell them! It was mild even at age 15, and it’s been close-to-nonexistent for the past twenty years! Now I’m a successful psychiatrist who owns his own psychiatry practice and helps other people with the condition! I told them all this. They didn’t care.</p><p>I asked them if there was anything I could do. They said maybe I could go to therapy for six months, then apply again. </p><p>I asked them what kind of therapy was indicated for mild OCD that’s been in remission for twenty years. They sounded kind of surprised to learn there were different types of therapy and said whatever, just talk to someone or something. </p><p><span>I asked them how frequent they thought the therapy needed to be. They sounded kind of surprised to learn that therapy could have different frequencies, and said, you know, </span><em>therapy</em><span>, the thing where you talk to someone.  </span></p><p>I asked them if they actually knew anything about OCD, psychotherapy, or mental health in general, or if they had just vaguely heard rumors that some people were bad and crazy and shouldn’t be allowed to make their own decisions, and that a ritual called “therapy” could absolve one of this impurity. They responded as politely as possible under the circumstances, but didn’t change their mind.</p><p>I wasn’t going to waste an hour a week for six months, and spend thousands of dollars of my own extremely-not-reimbursed-by-UCSF money, to see a randomly-selected therapist for a condition I’d gotten over twenty years ago, just so I could apply again and get rejected a second time.</p><p>This was one of the most infuriating and humiliating things that’s ever happened to me. We throw around a lot of terms like “stigma” and “paternalism”, and I’ve worked with patients who have dealt with all these issues (it’s UCSF in particular a surprising amount of the time!). But I was still surprised how much it hurt when it happened to me. Being denied the right to control your own body because of some meaningless diagnosis on a chart somewhere is surprisingly frustrating, even compared to things that should objectively be worse. I thought I was going to be able to do a good deed that I’d been fantasizing about for years, and some jerk administrator torpedoed my dreams because I had once, long ago, had mild mental health issues. </p><p>So I gave up.</p><p><span>I spent the next few weeks unleashing torrents of anti-UCSF abuse at anyone who would listen. This turned out to be very productive! When I was unleashing a torrent of anti-UCSF abuse to Josh Morrison of </span><a href="http://waitlistzero.org/" rel="">WaitlistZero</a><span>, he asked if I’d tried other hospitals.</span></p><p>I hadn’t. I’d assumed they were all in cahoots. But Josh said no, each hospital had their own evaluation process. Weill Cornell, a hospital in NYC, was one of the best transplant centers in the country, and had a reputation for fair and thoughtful pre-donor screening. Why didn’t I talk to them?</p><p>NYC was far away, and I hate to travel, but I was just angry enough to accept. At this point I’d forgotten whatever good altruistic motivations I might have originally had and was fueled entirely by spite. Getting my kidney taken out somewhere else felt like it would be a sort of victory over UCSF. So I went for it.</p><p>Cornell was lovely. They tried to do as much of the process as they could via Californian intermediaries, so that I only had to fly to New York twice. Their psychiatrist evaluated me, listened to me explain my weak history of OCD, then treated me like a reasonable adult who tells the truth and can handle his own medical decisions. They were concerned that I sometimes self-prescribed Lexapro to deal with anxiety. But we agreed on a compromise: I found another psychiatrist, let her give me the exact same prescription of Lexapro at a much higher cost to my insurance, and that resolved the problem. </p><figure data-drag-handle="" data-component-name="Image3Dynamic"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08cf5218-6398-4dfb-91a3-d5fc7989b754_765x642.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08cf5218-6398-4dfb-91a3-d5fc7989b754_765x642.png 848w, https://substackcdn.com/image/fetch/w_1084,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08cf5218-6398-4dfb-91a3-d5fc7989b754_765x642.png 1084w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1084,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08cf5218-6398-4dfb-91a3-d5fc7989b754_765x642.png" sizes="100vw" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08cf5218-6398-4dfb-91a3-d5fc7989b754_765x642.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08cf5218-6398-4dfb-91a3-d5fc7989b754_765x642.png 848w, https://substackcdn.com/image/fetch/w_1084,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F08cf5218-6398-4dfb-91a3-d5fc7989b754_765x642.png 1084w" width="542"></picture></div></figure><p>So in late September 2023 - ten months after I started the process - I finally got fully cleared to donate, surgery set for October 12.</p><p><strong>V.</strong></p><p>I knew, in theory, that anaesthetics existed. Still, it’s weird. One moment you’re lying on a table in the OR, steeling yourself up for one of the big ordeals of your life. The next, you’re in a bed in the recovery room, feeling fine. The operation - this thing you’ve been thinking about and dreading for months - exists only as a lacuna in your memory. Not even some kind of fancy lacuna, where you remember the darkness closing in on you beforehand, or have to claw yourself back into consciousness afterwards. The most ordinary of lacunas, like a good night sleep.</p><p>There was no pain, not at first. The painkillers and nerve blocks lasted about a day after the surgery. By the time they wore off, it was more of a dull ache. The hospital offered me Tylenol, and I wanted to protest - really? Tylenol? After major surgery? But the Tylenol worked.</p><p>Some people will have small complications (I am a doctor, pretty jaded, and my definition of “small” may be different from yours). Dylan Matthews wrote about an issue where his scrotum briefly inflated like a balloon (probably this is one of the ones that doesn’t feel small when it’s happening to you). I missed out on that particular pleasure, but got others in exchange. I had an unusually hard time with the catheter - the nurse taking it out frowned and said the team that put it in had “gone too deep”, as if my urinary tract was the f@#king Mines of Moria - but that was fifteen seconds of intense pain. Then a week afterwards, just when I thought I’d recovered fully, I got bowled over by a UTI which knocked me out for a few days. But overall, I was surprised by the speed and ease of my recovery.</p><p>A few hours after the surgery, I walked a few steps. After a day, I got the catheter out and could urinate normally again. After two days, I was eating “SmartGel”, a food substitute that has mysteriously failed to catch on outside of the immobilized-hospital-patient market. After three, I was out of the hospital. After four, I started easing myself back into (remote) work. After a week, I flew cross-country.</p><p>. . . and then I got the UTI. If this section sounds schizophrenic, it’s because it’s a compromise between an original draft where I said nothing went wrong and it was amazing, and a later draft written after a haze of bladder pain. Just don’t develop complications, that’s my advice. </p><p><span>Still, I recently heard from the surgeon that my recipient’s side of the surgery was a success, that my kidney was in them and going fine - and that put things back into perspective. </span><em>To a first approximation</em><span>, compared to the inherent gravity of taking an organ out of one person and putting it in a second person and saving their life - it was all easy and everything went well. When I look back on this in a decade, I’ll remember it as everything being easy and going well. Even now, with some lingering bladder pain, modern medicine still feels like a miracle.</span></p><p><strong>VI.</strong></p><p><span>In </span><a href="https://www.astralcodexten.com/publish/collab/136660465" rel="">polls</a><span>, 25 - 50% of Americans say they would donate a kidney to a stranger in need.</span></p><p><span>This sentence fascinates me because of the hanging “would”. Would</span><em>, if </em><span>what? A natural reading is “would if someone needs it”. But there are 100,000 strangers on the waiting list for kidney transplants. Between </span><a href="https://www.pennmedicine.org/news/news-releases/2020/december/too-many-donor-kidneys-are-discarded-in-us-before-transplantation" rel="">5,000</a><span> and </span><a href="https://journals.lww.com/jasn/pages/articleviewer.aspx?year=2018&amp;issue=12000&amp;article=00002&amp;type=Fulltext" rel="">40,000</a><span> people die each year for lack of sufficient kidneys to transplant. Someone definitely needs it. Yet only about 200 people (0.0001%) donate kidneys to strangers per year. Why the gap between 25-50% and 0.0001%?</span></p><p><span>Some of you will suspect respondents are lying to look good. But these are anonymous surveys. Lying to </span><em>themselves </em><span>to feel good, then? Maybe. But I think about myself at age 20, a young philosophy major studying utilitarianism. If someone had asked me a hypothetical about whether I would donate a kidney to a stranger in need, I probably would have said yes. Then I would have continued going about my business, never thinking of it as a thing real-life people could do. Part of this would have been logistics. I wouldn’t have known where to start. Do you need to have special contacts in the surgery industry? Seek out a would-be recipient on your own? Where would you find them? But more of it would have been psychological: it just wasn’t something that the people I knew did, and it would be weird and alienating for me to be the only one.</span></p><p>This is going to be the preachy “and you should donate too!” section you were dreading all along, but I’m not going to make a lot of positive arguments. If 90% of the people who answer yes on those surveys are lying to feel good, then only 3 - 5% really want to donate. But bringing the donation rate from 0.0001% of people to 3 - 5% of people would solve the kidney shortage many times over. The point isn’t to drag anti-donation-extremists kicking and screaming to the operating table. The point is to reach the people who already want to do it, and make them feel comfortable starting the process.</p><p><span>20-year-old me was in that category. The process of making him feel comfortable involved fifteen years of meeting people who already done it. During residency, I met a fellow student doctor who had donated. Later, I got involved in effective altruism, and learned that movement leader Alexander Berger - a guy who can easily direct millions of dollars at whatever cause he wants - had donated his personal kidney as well. Some online friends. Some people I met at conferences. And Dylan Matthews, who I kept crossing paths with (most recently at the </span><a href="https://www.youtube.com/watch?v=xMVaEYMp7_o" rel="">Manifest journalism panel</a><span>). After enough of these people, it no longer felt like something that nobody does, and then I felt like I had psychological permission to do it. </span></p><p><span>(obviously saints can do good things without needing psychological permission first, but not everyone has to be in that category, and I found it easier to get the psychological permission than to self-modify into a saint</span></p><p><span>.)</span></p><p><span>So I’m mostly not going to argue besides saying: this is a thing I did, it’s a thing hundreds of other people do each year, getting started is as simple as </span><strong><a href="http://waitlistzero.org/living-donation/become-a-donor/" rel="">filling out a form</a></strong><span>, and if it works for you, you should go for it</span></p><p><span>.</span></p><p>When I woke up in the recovery room after surgery, I felt great. Amazing. Content, peaceful, proud of myself. Mostly this was because I was on enough opioids to supply a San Francisco homeless encampment for a month. But probably some of it was also the warm glow of having made a difference or something. That could be you!</p><p><strong>VII.</strong></p><p>The ten of you who will listen to this and donate are great. That brings the kidney shortage down from 40,000 to 39,990/year.</p><p><span>Everyone knows we need a systemic solution, and everyone knows what that solution will eventually have to be: financial compensation for kidney donors. But so far they haven’t been able to get together enough of a coalition to overcome the </span><a href="https://www.astralcodexten.com/p/book-review-from-oversight-to-overkill" rel="">usual </a><span>cabal of evil bioethicists who thwart every medical advance.</span></p><p><span>My kidney donation “mentor”</span></p><p><span> Ned Brooks is starting a new push - </span><a href="https://www.modifynota.org/" rel="">the </a><strong><a href="https://www.modifynota.org/" rel="">Coalition To Modify NOTA</a></strong><span> - which proposes a $100,000 refundable tax credit - $10,000 per year for 10 years - for kidney donors. There would be a waiting period and you’d have to get evaluated first, so junkies couldn’t walk in off the street and get $100K to spend on fentanyl. No intermediate company would “profit” off the transaction, and rich people wouldn’t be able to pay directly to jump in line. It would be the same kidney donation system we have now, except the donors get $100,000 back after saving the government $1MM+. </span></p><p>(the libertarian in me would normally prefer a free market, but “avoid taxes by selling your organs” also has a certain libertarian appeal)</p><p>This came up often when I talked to other donors. They all had various motivations, but one of the things they cared about was being able to advocate for these kinds of systemic changes more effectively. I personally have been wanting to push this in an essay here for a while, but it seemed hypocritical to play up the desperate kidney shortage while I still had two kidneys. Now I can support NOTA modification whole-heartedly . . . full-throatedly? . . . it’s weird how many of these adverbs involve claims to have still all of your organs.</p><p><span>This is also one of the answers to the question I asked in section IV: how do you balance acts of heroic altruism that everyone will love you for </span><em>vs</em><span>. acts of boring autistic altruism that will make everyone hate you, but which will accomplish more good in the end?) Coalition To Modify NOTA is full of previous living kidney donors, who are using the moral clout and recognition they’ve gotten to get attention and change the system in an unglamorous way. I find this an admirable way of squaring the circle: do the flashy heroic things to gain social capital, then spend the social capital on whatever’s ultimately most important.</span></p><p><span>If you get one takeaway from this, let it be that those guys who bought the castle were good guys. Two takeaways, and it’s that plus modify NOTA. Three takeaways, and you should feel permission to (if you want) donate a kidney. You can sign up </span><strong><a href="http://waitlistzero.org/living-donation/become-a-donor/" rel="">here</a></strong><span>.</span></p><p><span> Feel free to email me at scott@slatestarcodex.com if you have questions about the process.</span></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Cruise pauses driverless operations across all cities (154 pts)]]></title>
            <link>https://twitter.com/Cruise/status/1717707807460393022</link>
            <guid>38033736</guid>
            <pubDate>Fri, 27 Oct 2023 01:39:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/Cruise/status/1717707807460393022">https://twitter.com/Cruise/status/1717707807460393022</a>, See on <a href="https://news.ycombinator.com/item?id=38033736">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="ScriptLoadFailure"><form action="" method="GET"><div><p><span>Something went wrong, but don’t fret — let’s give it another shot.</span></p><br></div></form></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ceasing print publication of ACM journals and transactions (173 pts)]]></title>
            <link>https://www.acm.org/publications/ceasing-print</link>
            <guid>38033385</guid>
            <pubDate>Fri, 27 Oct 2023 00:36:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.acm.org/publications/ceasing-print">https://www.acm.org/publications/ceasing-print</a>, See on <a href="https://news.ycombinator.com/item?id=38033385">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main" tabindex="-1">

<article id="SkipTarget" tabindex="-1">

<div>
<p>ACM has made the decision to cease print publication for ACM’s journals and transactions as of January 2024. The magazines <em>Communications of the ACM</em>, <em>ACM InRoads</em>, <em>interactions</em>, and <em>XRDS: Crossroads</em> will continue in print.</p>
<p>There were several motivations for this change: ACM wants to be as environmentally friendly as possible; print journals lack the new features and functionality of the electronic versions in the ACM Digital Library; and print subscriptions, which have been declining for years, have now reached a level where the decision to sunset print made perfect sense. Ultimately, this will prove to be beneficial to the community, enabling ACM to focus efforts on enhancing the electronic versions of the publications where they can have the greatest impact.</p>
<p>Please contact <a href="https://www.acm.org/cdn-cgi/l/email-protection#c2a3a1afaaa7aeb282a3a1afecadb0a5" id="LPlnk840381"> <span data-cfemail="59383a34313c352919383a3477362b3e">[email&nbsp;protected]</span></a>&nbsp;should you have any questions.</p></div>




</article>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Interactive intro to shaders (446 pts)]]></title>
            <link>https://www.mayerowitz.io/blog/a-journey-into-shaders</link>
            <guid>38032288</guid>
            <pubDate>Thu, 26 Oct 2023 22:03:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.mayerowitz.io/blog/a-journey-into-shaders">https://www.mayerowitz.io/blog/a-journey-into-shaders</a>, See on <a href="https://news.ycombinator.com/item?id=38032288">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><blockquote><p><em>This article is interactive: you can play with the code and sliders to interact with the shaders. Enjoy!</em></p></blockquote>
<p>What if I told you that it could takes just few lines of code to create graphics as simple as gradients or as complex as rain effects? Welcome to the world of shaders!</p>
<p>I’ve been fascinated by shaders for a couple of years. but each time I attempted to dive into the subject, I felt like I was learning to read and write all over again — it was overwhelming.
When I transitioned this website to <a href="https://kit.svelte.dev/" rel="nofollow">Svelte</a>, I saw an opportunity to replace a simple CSS animation on my homepage with a shader-based animation. The original CSS animation manipulated the <code>border-radius</code> property to produce a calm and minimalist animation, illustrated below.</p>

<p>You might wonder why I would bother re-doing something that already exists. Well, it’s because the simplicity of the task seemed like the perfect stepping stone—challenging, yet manageable. Plus, having recently defended my PhD, I finally had the time to delve into this passion project!</p>
<p>I hear about shaders all the time, when scrolling generative artists on <strike>twitter</strike> X, when I want to change the look of Minecraft, or even when I want to train an AI (<a href="https://blogs.nvidia.com/blog/2012/09/10/what-is-cuda-2/" rel="nofollow">CUDA</a> is basically an API for shaders). So now it’s the time to demystify this damn thing and start writing one of my own! In this article, you’ll join me on my journey as we explore the world of <em>fragment</em> shaders, making it as approachable as possible for a beginner with basic understanding in programing.</p>
<blockquote><p>For anyone looking for an in-depth introduction to shaders, I highly recommend  <a href="https://thebookofshaders.com/" rel="nofollow">The Book of Shaders</a></p></blockquote>
<h2>Shaders: the good, the bad and the ugly</h2>
<p>If you’re into video games, you’ve likely heard of shaders. They’re the magic behind enhancing <a href="https://lettier.github.io/3d-game-shaders-for-beginners/normal-mapping.html" rel="nofollow">lighting</a>, conjuring up <a href="https://webglfundamentals.org/webgl/lessons/webgl-fog.html" rel="nofollow">special effects</a>, and even generating <a href="https://en.wikipedia.org/wiki/Cel_shading" rel="nofollow">cartoonish looks</a> (yes, that’s why there’s a ‘shade’ in ‘cell shading’). In a way, shaders is what makes modern games look so good when compared to their ’90s counterparts. But what exactly is a shader?</p>
<p>Let’s start simple: A shader is a small program running on your GPU that takes, at the very least, pixel coordinates as input and spits out a color as output. The reason why they are so popular in video games and computer graphics is that they are <em>extremly</em> fast. Their secret sauce? <em>Parallelization</em>. These programs are designed to work on multiple pixels at the same time, making them ridiculously efficient.</p>
<div><p><img src="https://www.mayerowitz.io/_app/immutable/assets/cpu_nvidia_anim.195dc856.gif" alt="A robot drawing through iterative splash of paint."></p><p><span></span>
            <span>The CPU, smart but slow</span></p></div>
<div><p><img src="https://www.mayerowitz.io/_app/immutable/assets/gpu_nvidia_anim.ad080591.gif" alt="Hundreds of pipes spitting paint in a fraction of a second to draw the Joconde"></p><p><span></span>
            <span>The GPU, dumb and fast</span></p></div>
<blockquote><p>Side Note: Shaders come in different dialects. For this article, I’ll focus on the OpenGL Shading Language (GLSL), mainly because it’s browser-friendly!</p></blockquote>
<p>This incredible power comes, however, at some costs: Shaders have to be <em>compact</em> and <em>low-level</em>. This means you can’t lean on high-level abstractions or import libraries to do the heavy lifting (* <a href="https://medium.com/frontendweb/find-how-many-packages-we-need-to-run-a-react-hello-world-app-695fbb755af7" rel="nofollow">laugh in javascript</a> *). Moreover, their parallel nature makes them <em>memoryless</em> and <em>stateless</em>. This translates to: “You can’t store or share data between pixels or shader executions.” These constraints make shaders a tough nut to crack, especially if you’ve been pampered by high-level languages (guilty as charged).</p>
<h2>Coordinates is All You Need</h2>
<p>Shaders transform pixel coordinates into colors, encoded in RGBA—each channel ranging from 0 to 1. (It is also possible to manipulate <a href="https://shader-tutorial.dev/basics/vertex-shader/" rel="nofollow">vertex positions</a>, but this topic is left as an exercise to the reader).
Typically, coordinates are normalized between 0 and 1. In this coordinate space, (0, 0) is the lower left corner, and (1, 1) is the upper right. These coordinates are commonly referred to as <a href="https://stackoverflow.com/questions/10568390/difference-between-uv-and-st-texture-coordinates" rel="nofollow">st or uv</a> by convention.
Now, let’s imagine you want to write the simplest shader: a gradient where the red component increases from left to right and the green component ascends from bottom to top. That is, find the function f(x,y) in the following illustration:</p>
<svg width="300" height="300"><rect width="80%" height="80%" stroke="black" x="10%" y="10%" stroke-width="0.5%" fill="none"></rect><line x1="60" y1="10%" x2="60" y2="90%" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="60" x2="90%" y2="60" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="90" y1="10%" x2="90" y2="90%" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="90" x2="90%" y2="90" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="120" y1="10%" x2="120" y2="90%" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="120" x2="90%" y2="120" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="150" y1="10%" x2="150" y2="90%" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="150" x2="90%" y2="150" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="180" y1="10%" x2="180" y2="90%" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="180" x2="90%" y2="180" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="210" y1="10%" x2="210" y2="90%" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="210" x2="90%" y2="210" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="240" y1="10%" x2="240" y2="90%" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="240" x2="90%" y2="240" stroke="gray" stroke-dasharray="2,4" stroke-width="0.5%"></line><text x="0%" y="98%">(0,0)</text><text x="85%" y="98%">(1,0)</text><text x="0%" y="8%">(0,1)</text><text x="85%" y="8%">(1,1)</text><rect x="160" y="145" width="35%" height="15" fill="white"></rect><rect x="150" y="150" width="3%" height="3%" r="2%" fill="rgb(127.5, 127.5,0)"></rect><text x="160" y="158">=f(0.50,0.50)</text></svg>
<p>Sure, it might appear too basic, but think of it as a prime playground to get cozy with shader syntax. Go ahead, check out the implementation below and tinker with it -— how about changing the gradient from black to blue?</p>
<div><details open=""><summary>Code show/hide</summary>
        <div>

        <pre>varying vec2 vUv;

void main() {
  // Normalized pixel coordinates (from 0 to 1)
  vec2 st = vUv;

  // redish in x, greenish in y
  // Try to modify the following line to have a blue gradient
  // from left to right.
  gl_FragColor = vec4(st.x, st.y, 0.0, 1.0); // RGBA
}</pre></div></details>   
    </div>
<details><summary>Hint</summary>
        To get a blue gradient, replace line 10 with 
    <code>gl_FragColor = vec4(0.0, 0.0, st.x, 1.0);</code></details>
<p>There are a few interesting things to note here about the syntax:</p>
<ul><li><strong>Inputs</strong>: We can declare input to the shaders that can be <em>varying</em> or <em>uniform</em>. Varying variables are different for each pixel, while uniform variables are the same for all pixels. Here, we declare a varying variable <code>vUv</code>, which is a 2D vector representing the position of the pixel on a plane. It is declared as <code>varying</code> because the value is different for each pixel on the screen.</li>
<li><strong>Coordinates Origin</strong>: Take note, the origin of UV space is at the lower-left corner. If you’re used to SVG or HTML canvas, this might feel like driving on the other side of the road.</li>
<li><strong>Built-in types</strong>: Just like C, shaders demand type declaration. You’ll come across a range of types suited for vectors and matrices—think <code>vec2</code>, <code>vec3</code>, <code>vec4</code>, <code>mat2</code>, <code>mat3</code>, and the list goes on.</li>
<li><strong>Swizzling</strong>: Accessing elements of a vector? Easy, just use the dot notation (vec2(1, 2).x gives you 1). Want to slice and dice your vector? Use the xy notation (vec4(1, 2, 3, 4).xy returns vec2(1, 2)). If you’re working with colors, feel free to use the <code>myvector.rgba</code> syntax — This is entirely up to you.</li>
<li><strong>Output</strong>: There’s no return statement. The color for each pixel is determined by the value of <code>gl_FragColo</code> at the end of the <code>main()</code> function.</li></ul>
<p>So even with our super simple example, you can already feel the power of shaders. Without it, an equivalent result would have required a loop over all the pixels of the canvas — 90000 in this case — just to create this gradient. But this is just the beginning; shaders could do so much more than that.</p>
<h2>One Step() Beyond</h2>
<p>Now, to reproduce my original animation, I need to draw shapes with salient edges. While this may seem trivial, it is not. Forget about a handy drawCircle() function. Instead, we turn to our ever-reliable friends: math and trigonometry.</p>
<p>To create something like a disk, consider each pixel’s distance to the disk’s center. This distance calculation could be done using the Pythagorean theorem, however, we also have a built-in function for that: <code>distance(vec2 p1, vec2 p2)</code>. If you map this distance to the color of the pixel, you will get a circular gradient.</p>
<p>But wait, you may anticipate, “a gradient is not a solid disk!” And you’d be right. The secret sauce for that is another built-in function: <code>step(float threshold, float value)</code>. The step() function takes in the distance and sharply transitions it into either 0 or 1, depending on whether the distance crosses a certain threshold.</p>
<div><div><details open=""><summary>Code show/hide</summary>
        <div>

        <pre>uniform float u_slider;
varying vec2 vUv;

void main() {
    vec2 st = vUv;

    // Distance of the current pixel to the center of the canvas
    float d = distance(st, vec2(0.5));

    // Using step to get a sharp circle
    // s = 1 if d &gt; 0.25, 0 otherwise
    float s = step(0.25, d);

    // Mix the two colors based on the slider
    // color = u_slider * s + (1-u_slider) * d
    float brightness = mix(d, s, u_slider);

    gl_FragColor = vec4(vec3(brightness), 1.0);
}</pre></div></details>   
    </div>
<h5>Slide to the right to apply the step() function</h5>

<p><span>&lt;distance()</span>
        <span>step()&gt;</span></p></div>
<blockquote><p>Noticed those jagged edges, also known as aliasing, around the disk when applying <code>step()</code>? That’s because the transition from 0 to 1 is a bit too abrupt. The solution is another built-in function called <code>smoothstep(float t_start, float t_end, float x)</code>, which—as you might guess—smooths things out.</p></blockquote>
<p>You may find it initially challenging, but this method of shaping with distance is your Swiss Army knife for crafting the mind-blowing shaders you often stumble upon online. So let’s dive a bit deeper into it!</p>
<h2>Signed Distance Functions (SDF)</h2>
<p>When you think of shapes, it’s natural to imagine them as a series of connected points. But here’s a twist: you can also represent shapes in terms of their distance to other points in space. This is where <em>Signed Distance Functions</em> (SDFs) come into play. Why “signed,” you ask? The distance is signed because it can be negative if the point is inside the shape.</p>
<p>To start off, let’s revisit the circle we created earlier and adapt it using SDFs. The key is to determine a function that calculates the distance from any given point in space to our circle. Starting simply, let’s find the distance to the origin. In the image below, it becomes evident that the distance <code>d </code> from the origin to the circle is essentially the distance from the origin to the center of the circle <code>C</code> minus the radius <code>r</code>.</p>
<svg width="300" height="300"><defs><marker id="arrowhead" orient="auto" markerWidth="5" markerHeight="4" refX="4" refY="2"><path d="M 0 0 V 4 L 5 2 Z"></path></marker></defs><line x1="10%" y1="260" x2="133" y2="157" stroke="orange" stroke-width="1%" stroke-dasharray="3,1"></line><text x="69" y="194.4">d</text><rect width="80%" height="80%" stroke="black" x="10%" y="10%" stroke-width="0.5%" fill="none"></rect><line x1="60" y1="10%" x2="60" y2="90%" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="60" x2="90%" y2="60" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="90" y1="10%" x2="90" y2="90%" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="90" x2="90%" y2="90" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="120" y1="10%" x2="120" y2="90%" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="120" x2="90%" y2="120" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="150" y1="10%" x2="150" y2="90%" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="150" x2="90%" y2="150" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="180" y1="10%" x2="180" y2="90%" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="180" x2="90%" y2="180" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="210" y1="10%" x2="210" y2="90%" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="210" x2="90%" y2="210" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line><line x1="240" y1="10%" x2="240" y2="90%" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line>
        <line x1="10%" y1="240" x2="90%" y2="240" stroke="lightgray" stroke-dasharray="2,4" stroke-width="0.5%"></line><text x="0%" y="98%">(0,0)</text><text x="85%" y="98%">(1,0)</text><text x="0%" y="8%">(0,1)</text><text x="85%" y="8%">(1,1)</text><line x1="180" y1="120" x2="240" y2="120" stroke="black" stroke-width="0.5%" stroke-dasharray="3,1"></line><text x="200" y="115">r</text><circle cx="180" cy="120" r="60" stroke="teal" stroke-width="1%" fill="none"></circle><circle cx="180" cy="120" r="1%" fill="orange"></circle><text x="175" y="115">C</text><line x1="10%" y1="90%" x2="180" y2="120" stroke="black" stroke-width="0.5%" marker-end="url(#arrowhead)"></line><text x="100" y="216">v</text></svg>
<p>This observation translates beautifully into a function:</p>
<pre><!-- HTML_TAG_START --><code>float circleSDF(vec2 p, float r) {
    return length(p) - r;
}</code><!-- HTML_TAG_END --></pre>
<blockquote><p>You can interpret this function in two ways. It either measures the distance from a point p to a circle centered at the origin, or the distance from the origin to the circle itself. It’s all a matter of perspective!</p></blockquote>
<p>However, we’re rarely interested in just the distance to the origin. We want the distance to <em>any</em> point in the UV space. To achieve this, we merely translate the point <code>p</code> by the pixel’s position <code>uv</code>. The SDF function then returns negative distances for pixels inside the circle and positive distances for those outside. These two realms are separated by the circle, where the distance is exactly zero.</p>
<p>What about shading this SDF to make it visually compelling? Simple. Apply the 1. - step() function to the distance. The pixels with negative distances (inside the circle) take the value 1, and those outside take the value 0. </p>
<div><div><details open=""><summary>Code show/hide</summary>
        <div>

        <pre>varying vec2 vUv;
uniform float u_slider;

float circleSDF(vec2 p, float r)
{
  return length(p) - r;
}

void main() {
    vec2 uv = vUv;

    // Signed distance to a circle centered at (0.5, 0.5)
    float d = circleSDF(vec2(0.5) - uv, u_slider);

    // Default color to orange
    vec3 color = vec3(1.0, 0.6, 0.2);
    // Teal if inside the circle
    if (d &lt; 0.0) {
        color = vec3(0., 0.6, 0.6);
    }

    // Increase luminosity with distance to center
    gl_FragColor = vec4(color, 1.0); //RGBA
}</pre></div></details>   
    </div>
<h5>Slide to the right to change the radius of the circle</h5>

<p><span>0</span>
        <span>0.5</span></p></div>
<p>This article won’t delve into the other shapes you can define with SDFs—though I strongly recommend this <a href="https://iquilezles.org/articles/distfunctions2d/" rel="nofollow">comprehensive list</a> by Inigo Quilez for those curious minds. Instead, we’ll focus on how to merge these individual shapes to craft our end-goal: a beautiful blob.</p>

<h2>One and One Makes Another One</h2>
<p>SDFs has some interesting properties, one of them is that it is especially easy to create new shapes with <a href="https://en.wikipedia.org/wiki/Boolean_algebra#Diagrammatic_representations" rel="nofollow">boolean operations</a>. To have the union of the two SDFs, you need to take the minimum of the two distances. For pixels that are in either of the two shapes (or in both), the min() will output a negative distance, and for pixels that are outside both shapes, the min() will output a positive distance. </p>
<p>We end up with a new SDF that is negative inside the union of the two shapes, and positive outside. In the exemple below, I start by showing the two SDFs, one in red and one in green. With the slider, you can see the result of the union of the two shapes using the min() function.</p>
<div><div><details open=""><summary>Code show/hide</summary>
        <div>

        <pre>varying vec2 vUv;
uniform float u_slider;

float circleSDF(vec2 p, float r)
{
  return length(p) - r;
}

void main() {
    vec2 uv = vUv;

    // The SDF for each disk
    float d1 = circleSDF(vec2(0.6) - uv, 0.2);
    float d2 = circleSDF(vec2(0.4) - uv, 0.2);

    // Output each disk to a different color channel
    vec3 color = vec3(0.0);
    color.r = 1. - smoothstep(0., 0.01, d1); // red
    color.g = 1. - smoothstep(0., 0.01, d2); // green

    // Union of disks
    // Merging is as simple as taking the min()
    float d = min(d1, d2);
    // Set `dc` to yellow if within the union of the two circles
    vec3 dc = (1. - smoothstep(0.,0.01, d)) * vec3(1.0, 1.0, 0.);

    // FINAL COLOR
    // Mix color and dc according to slider value
    // mix(x, y, a) = x * (1.0 - a) + y * a
    color = mix(color, dc, u_slider);

    gl_FragColor = vec4(color, 1.0);
}</pre></div></details>   
    </div>
<h5>Slide to apply min() of the two SDFs</h5>

<p><span>&lt;Disjointed</span>
        <span>Joined&gt;</span></p></div>
<blockquote><p>Have you noticed that I used <code>1.-smoothstep()</code>? This is because <code>step()</code> (and <code>smoothstep()</code>) outputs 1 when the distance is <strong>above</strong> the threshold (<em>i.e</em> outside the disk). To get a positive value <strong>inside</strong> the shape, we need to invert the output.</p></blockquote>
<p>Complex shapes — like a blob! — are thus the combination of many simple SDFs. Like legos, you have many simple SDFs (building blocks) that can be combined to any shape you want. That said, a blob is smooth and jelly-like, unlike the sharp angle at the junction of our two disks. Luckily, SDFs have one last magic property for us.</p>
<h2>Smooth operator</h2>
<p>To create an appealing effect, we would like the shapes to blend smoothly together like in a lava lamp. However, the <code>min()</code> function is not smooth, it has sharp discontinuites when it transitions between two distances. Instead, we would prefer a function that smoothly shift from one distance to another. Luckily, this problem has already been solved and is unoriginally called <a href="https://iquilezles.org/articles/smin/" rel="nofollow">smooth minimum</a>. The function takes an additional argument to control the smoothing strengh (often denoted <code>k</code>).</p>
<div><div><details open=""><summary>Code show/hide</summary>
        <div>

        <pre>varying vec2 vUv;
uniform float u_slider;

float circleSDF(vec2 p, float r)
{
  return length(p) - r;
}

// Polynomial smooth min
float smin(float a, float b, float k)
{
    float h = max( k-abs(a-b), 0.0 )/k;
    return min( a, b ) - h*h*k*(1.0/4.0);
}

void main() {
    vec2 uv = vUv;

    // The SDF for each disk
    float d1 = circleSDF(vec2(0.65) - uv, 0.2);
    float d2 = circleSDF(vec2(0.35) - uv, 0.2);

    // Union of disks
    float d = 1. - smoothstep(0., 0.01, smin(d1, d2, u_slider/3.+0.001));

    gl_FragColor = vec4(vec3(d), 1.0);
}</pre></div></details>   
    </div>
<h5>Slide to increase the smoothing factor</h5>

<p><span>&lt;k=0</span>
        <span>k=1&gt;</span></p></div>
<h2>I Like to Move it</h2>
<p>We can pass any arbitrary variable to our shader, much like the slider you’ve played with in this article. To get closer to our goal, we need to animate the circles. Doing so is as simple as feeding the shader with a time uniform that can then be used to defin the circles’ positions. Here I generate my time uniform <code>u_time</code> through javascript and then use it as an input in my shader to control my SDFs. The shader will refresh 60 times per second by default, each time with a new <code>u_time</code> value, creating a smooth animation. With a few extra balls and a bit of parameter tweeking, we end up with a cute blobby shape.</p>
<blockquote><p>To make the blob oscillating, we can use periodic functions (e.g. sin,cos) to control each balls.</p></blockquote>
<p>A metaball is a combination of multiple SDFs, to clean up our code, we can use a loop to combine them together, instead of manually updating the final distance variable like in our previous exemple. To further speed-up the process, we first define the centers of each balls, and then store it in an array that can be easily accessed in the loop to iteratively update the distance value. Pay attention to lines 40-43 in the code below.</p>
<div><div><details open=""><summary>Code show/hide</summary>
        <div>

        <pre>uniform float u_time;
varying vec2 vUv;
uniform float u_slider;

// C-style macro to define constants
#define K 0.4

float circleSDF(vec2 uv, vec2 p, float r)
{
  return length(p-uv) - r;
}

float smin(float a, float b, float k)
{
  float h = max( k-abs(a-b), 0.0 )/k;
  return min( a, b ) - h*h*k*(1.0/4.0);
}

// Map a value from -1 to 1 to out_min to out_max
float trigmap(float x, float out_min, float out_max)
{
  return out_min + (x + 1.) * (out_max - out_min) / (2.);
}

void main() {
  vec2 uv = vUv;

  // Define the center of each metaball
  vec2 c1 = vec2(0.4,trigmap(cos(u_time), 0.3, 0.4));
  vec2 c2 = vec2(trigmap(sin(u_time), 0.4, 0.7), 0.5);
  vec2 c3 = vec2(0.5, trigmap(cos(u_time), 0.6, 0.7));
  vec2 c4 = vec2(trigmap(cos(u_time), 0.4, 0.63), 0.3);
  // Store the centers in an array
  vec2 centers[4] = vec2[4](c1,c2,c3,c4);

  // Initialize the distance and define the smoothing factor
  float d = 99.;

  // Iterate over the centers and compute the sdf
  for (int i = 0; i &lt; 4; i++) {
    vec2 c = centers[i];
    float sdf = circleSDF(uv, c, .1*u_slider);
    d = smin(d, sdf, K);
  }
  // Define the metaball
  float metaball = 1. - smoothstep(0., 0.005, d);
  
  gl_FragColor = vec4(vec3(metaball), 1.0);
}</pre></div></details>   
    </div>
<h5>Adjust the size of the metaballs</h5>

</div>
<p>And voila, our baby’s born. You should now be ready to write some shaders of your own. If writing code is not your thing, you now have a better understanding of what’s going under the hood of node-based editor in <a href="https://docs.blender.org/manual/en/latest/render/shader_nodes/index.html" rel="nofollow">Blender’s shader nodes</a> or <a href="https://unity.com/features/shader-graph" rel="nofollow">Unity’s Shader Graph</a>.</p>
<p>This sad monochrome blob is functional but boring. Let’s make it juicer!</p>
<h2>The Final Touch</h2>
<p>To truly appreciate the magic of shaders, there’s nothing like taking the wheel and manipulating the blob in real-time. This final section will guide you on how to introduce user interactivity into your shader. Essentially, you will learn how to let users control the position of a ball within the blob by using their mouse.</p>
<p>First things first: We’ll use the mouse coordinates as a uniform input into the shader. This will allow real-time interaction with our creation.</p>

<p>Once the mouse coordinates are received, adding them to the array of ball centers will allow the user to interactively control a ball. As you see, it only takes one line of code to create interactivity!</p>
<div>

        <pre>vec2 centers[5] = vec2[5](c1,c2,c3,c4,u_mouse);</pre></div>
<p>Next, it’s just fun and iterations. To get to the final result, I extensively use the <code>mix(colorA, colorB, percent)</code> function. It’s equivalent to if/else blocks when <code>percent</code> is a boolean. For example, to get red outside the metaball (where <code>metaball == 0</code>) and green within it, you can write. </p>
<div>

        <pre>vec3 color = mix(
        vec3(1., 0., 0.), // Red 
        vec3(0., 1., 0.), // Green
        metaball)</pre></div>
<p>Finally, we get this beauty</p>
<div><details><summary>Code show/hide</summary>
        <div>

        <pre>uniform float u_time;
uniform float u_slider;
uniform vec2 u_mouse;
varying vec2 vUv;

// C-style macro to define constants
#define K 0.4
#define REPEL 0.001
#define DISTLIM 0.1

float circleSDF(vec2 uv, vec2 p, float r)
{
  return length(p-uv) - r;
}

float smin(float a, float b, float k)
{
  float h = max( k-abs(a-b), 0.0 )/k;
  return min( a, b ) - h*h*k*(1.0/4.0);
}

// Map a value from -1 to 1 to out_min to out_max
float trigmap(float x, float out_min, float out_max)
{
  return out_min + (x + 1.) * (out_max - out_min) / (2.);
}

void main() {
  vec2 uv = vUv;

  // Handle Mouse
  vec2 m = u_mouse.xy; // normalize mouse coordinates
  m.y = 1.0 - m.y; // invert y axis to match the canvas
  m.x = (m.x);

  // Define the center of each metaball
  vec2 c1 = vec2(0.35,trigmap(cos(u_time), 0.3, 0.7));
  vec2 c2 = vec2(trigmap(cos(u_time), 0.3, 0.7), 0.7);
  vec2 c3 = vec2(0.7, trigmap(sin(u_time), 0.3, 0.7));
  vec2 c4 = vec2(trigmap(cos(u_time), 0.3, 0.7), 0.3);
  
  // Store the centers in an array
  vec2 centers[5] = vec2[5](c1,c2,c3,c4,m);

  // Color is function of the centroid
  vec2 ctroid = (c1 + c2 + c3 + c4) / 4.;
  ctroid *= vec2(1.3, 0.7);
  vec4 color = vec4(1.);

  // Initialize the distance and define the smoothing factor
  float d = 99.;

  // Iterate over the centers and compute the sdf
  for (int i = 0; i &lt; 5; i++) {
    vec2 c = centers[i];
    float sdf = circleSDF(uv, c, .15);
    d = smin(d, sdf, K);
  }
  // Define the metaball
  float metaball = 1. - smoothstep(0., 0.003, d);

  // Final color
  float fx = ((clamp(m.x, 0., 1.)/20.) + 1. );
  float fy = ((clamp(m.y, 0., 1.)/10.) + 1. );
  float shine = exp(-abs(d));
  float membrane = 1. - smoothstep(0.001, 0.005, clamp(abs(d), 0., 1.));
  float dist = distance(uv, ctroid);

  color.rgb = mix(vec3(255./255. * fy, 249./255., 240./255. * fx),
                vec3(225./255., 230./255., 230./255.), dist);
  color.rgb = mix(vec3(0.35, 0., 0.), color.rgb, shine);
  // color the membrane
  color.rgb = mix(color.rgb, vec3(0.5, 0.3, 0.3), membrane);
  vec4 bg = vec4(255./255., 249./255., 240./255., 1.) * (1. - distance(uv, vec2(0.5)));
  color = mix(bg*metaball, color, metaball);
  
  gl_FragColor = color;
}</pre></div></details>   
    </div>
<p>That concludes this introduction. I’m glad I’ve finally learned to write shaders! This article barely scratches the surface of the basics, but there’s no reason to be afraid anymore—neither for you nor for me. Stay tuned for future articles where we’ll explore how to elevate this blob into the third dimension. In the meantime, feel free to experiment; you can change the color scheme or tweak the positions of the balls. For updates, you can follow me on <a href="https://twitter.com/AntoineMyrwtz" rel="nofollow">Twitter</a>.</p>
<h2>References</h2>
<ul><li><a href="https://thebookofshaders.com/" rel="nofollow">The book of shaders</a></li>
<li><a href="https://iquilezles.org/" rel="nofollow">Inigo Quilez</a></li>
<li><a href="https://www.youtube.com/watch?v=f4s1h2YETNY" rel="nofollow">An introduction to Shader Art Coding (Youtube)</a></li>
<li><a href="https://www.shadertoy.com/" rel="nofollow">Shadertoy</a></li></ul>
<h2>Comments</h2></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[WebSDR – Internet-connected Software-Defined Radios (239 pts)]]></title>
            <link>http://www.websdr.org/</link>
            <guid>38032257</guid>
            <pubDate>Thu, 26 Oct 2023 22:00:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://www.websdr.org/">http://www.websdr.org/</a>, See on <a href="https://news.ycombinator.com/item?id=38032257">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[iPhones have been exposing your unique MAC despite Apple’s promises otherwise (104 pts)]]></title>
            <link>https://arstechnica.com/security/2023/10/iphone-privacy-feature-hiding-wi-fi-macs-has-failed-to-work-for-3-years/</link>
            <guid>38032253</guid>
            <pubDate>Thu, 26 Oct 2023 21:59:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/security/2023/10/iphone-privacy-feature-hiding-wi-fi-macs-has-failed-to-work-for-3-years/">https://arstechnica.com/security/2023/10/iphone-privacy-feature-hiding-wi-fi-macs-has-failed-to-work-for-3-years/</a>, See on <a href="https://news.ycombinator.com/item?id=38032253">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <header>
            <h4>
      THANKS, APPLE    —
</h4>
            
            <h2 itemprop="description">“From the get-go, this feature was useless,” researcher says of feature put into iOS 14.</h2>
                    </header>
        <div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2023/10/private-wi-fi-address-700x674.jpg" alt="Private Wi-Fi address setting on an iPhone.">
      <figcaption><p><a href="https://cdn.arstechnica.net/wp-content/uploads/2023/10/private-wi-fi-address.jpg" data-height="674" data-width="700">Enlarge</a> <span>/</span> Private Wi-Fi address setting on an iPhone.</p><p>Apple</p></figcaption>  </figure>

  




<!-- cache hit 145:single/related:1de00f1e0baf92100637eaa410ee42fd --><!-- empty -->
<p>Three years ago, Apple introduced a privacy-enhancing feature that hid the Wi-Fi address of iPhones and iPads when they joined a network. On Wednesday, the world learned that the feature has never worked as advertised. Despite promises that this never-changing address would be hidden and replaced with a private one that was unique to each SSID, Apple devices have continued to display the real one, which in turn got broadcast to every other connected device on the network.</p>
<p>The problem is that a Wi-Fi media access control address—typically called a m<span lang="en"><span>edia access control</span></span> address or simply a MAC—can be used to track individuals from network to network, in much the way a license plate number can be used to track a vehicle as it moves around a city. Case in point: In 2013, a researcher unveiled a proof-of-concept device that logged the MAC of all devices it came into contact with. The idea was to distribute lots of them throughout a neighborhood or city and build a profile of iPhone users, including the social media sites they visited and the many locations they visited each day.
</p><p>In the decade since, HTTPS-encrypted communications have become standard, so the ability of people on the same network to monitor other people's traffic is generally not feasible. Still, a permanent MAC provides plenty of trackability, even now.</p>
<p>As I <a href="https://arstechnica.com/information-technology/2013/08/diy-stalker-boxes-spy-on-wi-fi-users-cheaply-and-with-maximum-creep-value/">wrote at the time</a>:</p>
<blockquote><p>Enter CreepyDOL, a low-cost, distributed network of Wi-Fi sensors that stalks people as they move about neighborhoods or even entire cities. At 4.5 inches by 3.5 inches by 1.25 inches, each node is small enough to be slipped into a wall socket at the nearby gym, cafe, or break room. And with the ability for each one to share the Internet traffic it collects with every other node, the system can assemble a detailed dossier of personal data, including the schedules, e-mail addresses, personal photos, and current or past whereabouts of the person or people it monitors.</p></blockquote>
<p>In 2020, Apple released iOS 14 with a feature that, by default, <a href="https://support.apple.com/en-us/102509">hid Wi-Fi MACs</a> when devices connected to a network. Instead, the device displayed what Apple called a “private Wi-Fi address” that was different for each SSID. Over time, Apple has enhanced the feature, for instance, by allowing users to assign a new private Wi-Fi address for a given SSID.</p>                                            
                                                        
<p>On Wednesday, Apple <a href="https://arstechnica.com/gadgets/2023/10/ios-17-1-macos-14-1-and-other-apple-updates-arrive-with-a-few-new-tricks/">released iOS 17.1</a>. Among the various fixes was a patch for a vulnerability, tracked as <a href="https://www.tenable.com/cve/CVE-2023-42846">CVE-2023-42846</a>, which prevented the privacy feature from working. Tommy Mysk, one of the two security researchers Apple credited with discovering and reporting the vulnerability (Talal Haj Bakry was the other), told Ars that he tested all recent iOS releases and found the flaw dates back to version 14, released in September 2020.</p>
<p>“From the get-go, this feature was useless because of this bug,” he said. “We couldn't stop the devices from sending these discovery requests, even with a VPN. Even in the Lockdown Mode.”</p>
<p>When an iPhone or any other device joins a network, it triggers a multicast message that is sent to all other devices on the network. By necessity, this message must include a MAC. Beginning with iOS 14, this value was, by default, different for each SSID.</p>
<p>To the casual observer, the feature appeared to work as advertised. The “source” listed in the request was the private Wi-Fi address. Digging a little further, however, it became clear that the real permanent MAC was still broadcast to all other connected devices, just in a different field of the request.</p>
<p>Mysk published a short video showing a Mac using the Wireshark packet sniffer to monitor traffic on the local network the Mac is connected to. When an iPhone running iOS prior to version 17.1 joins, it shares its real Wi-Fi MAC on port 5353/UDP.</p>
<figure><p><iframe type="text/html" width="560" height="315" src="https://www.youtube.com/embed/T3XABxNogTA?si=m9uUdyypDD6Zi1nD?start=0&amp;wmode=transparent" frameborder="0" allowfullscreen=""></iframe></p><figcaption><p>Upgrade to iOS 17.1 to prevent your iPhone from being tracked across Wi-Fi networks.</p></figcaption></figure>
<p>In fairness to Apple, the feature wasn't useless, because it did prevent passive sniffing by devices such as the above-referenced CreepyDOL. But the failure to remove the real MAC from port 5353/UDP still meant that anyone connected to a network could pull the unique identifier with no trouble.</p>
<p>The fallout for most iPhone and iPad users is likely to be minimal, if at all. But for people with strict privacy threat models, the failure of these devices to hide real MACs for three years could be a real problem, particularly given Apple's express promise that using the feature "helps reduce tracking of your iPhone across different Wi-Fi networks."</p>
<p>Apple hasn’t explained how a failure as basic as this one escaped notice for so long. The advisory the company issued Wednesday said only that the fix worked by “removing the vulnerable code.”</p>
<p><em>This post has been updated to add paragraphs 3 and 11 to provide additional context.</em></p>

                                                </div>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Trying to make sense of why Otis exploded en route to Acapulco this week (218 pts)]]></title>
            <link>https://theeyewall.com/trying-to-make-sense-of-why-otis-exploded-en-route-to-acapulco-this-week/</link>
            <guid>38032242</guid>
            <pubDate>Thu, 26 Oct 2023 21:58:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://theeyewall.com/trying-to-make-sense-of-why-otis-exploded-en-route-to-acapulco-this-week/">https://theeyewall.com/trying-to-make-sense-of-why-otis-exploded-en-route-to-acapulco-this-week/</a>, See on <a href="https://news.ycombinator.com/item?id=38032242">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="text">
<h3>One-sentence summary</h3>
<p>Scroll to the bottom for a couple notes on current weather, but in today’s post, I want to try to make some sense of what just happened in Mexico this week.</p>
<h3>Otis’s catastrophic rapid intensification: What happened?</h3>
<p>In general, <a rel="noreferrer noopener" href="https://theeyewall.com/october-25-2023-outlook-after-a-shocking-burst-of-intensification-hurricane-otis-makes-a-catastrophic-landfall-near-acapulco/" data-type="link" data-id="https://theeyewall.com/october-25-2023-outlook-after-a-shocking-burst-of-intensification-hurricane-otis-makes-a-catastrophic-landfall-near-acapulco/" target="_blank">I think Eric did a good job yesterday sort of conveying the general shock</a> many of us in the meteorology community had with regard to Hurricane Otis. The word “unprecedented” gets tossed around a little too fast and loose these days, but truly, this was without any real precedent in Acapulco. And it was with only slight precedent anywhere in terms of how quickly it intensified. </p>
<figure><video controls="" src="https://theeyewall.com/wp-content/uploads/2023/10/2023Otis_IRintensity_48h.mp4"></video><figcaption><a href="https://kouya.has.arizona.edu/" data-type="link" data-id="https://kouya.has.arizona.edu/">Courtesy of Dr. Kim Wood, University of Arizona</a></figcaption></figure>
<p>Otis was the textbook definition of rapid intensification (RI), going from a 50 mph tropical storm on Monday evening to a 165 mph category 5 hurricane last night. Look at the change in Otis between Sunday evening and Tuesday evening, 48 hours apart. You can see the intensification chart to the right of the satellite loop. Through about mid-morning on Tuesday, everything was going basically as you’d expect for a modest hurricane with Otis. It may have been tracking toward a category 2 type landfall, or even a category 3 type landfall in a worst case, if you assumed the general rules of RI in this region. </p>
<p>Much like an onion, there are layers to this story that are important. First, take it from one of the more seasoned hurricane hunters, this was not what they expected when they flew their mission on Tuesday.</p>

<p>And this was before Otis had peaked. The typical satellite-derived intensity values often used to “proxy” intensity of storms that are far away from reconnaissance flights failed in this case to grasp how intense Otis was. In other words, Otis intensified so quickly that it basically outran the ability to measure how intense it actually was.</p>
<p>Here was the raw model output for Otis from Tuesday morning. This is what general weather forecasters would use to assess what the models assume will happen with a storm’s wind forecast. The dashed line is what actually occurred.</p>
<div>
<figure><a href="https://theeyewall.com/wp-content/uploads/2023/10/102623-intensity-of-Otis.jpg" target="_blank" rel="noreferrer noopener"><img decoding="async" width="1024" height="719" src="https://theeyewall.com/wp-content/uploads/2023/10/102623-intensity-of-Otis-1024x719.jpg" alt="" srcset="https://theeyewall.com/wp-content/uploads/2023/10/102623-intensity-of-Otis-1024x719.jpg 1024w, https://theeyewall.com/wp-content/uploads/2023/10/102623-intensity-of-Otis-300x211.jpg 300w, https://theeyewall.com/wp-content/uploads/2023/10/102623-intensity-of-Otis-768x540.jpg 768w, https://theeyewall.com/wp-content/uploads/2023/10/102623-intensity-of-Otis-1536x1079.jpg 1536w, https://theeyewall.com/wp-content/uploads/2023/10/102623-intensity-of-Otis.jpg 1600w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>Otis’s model forecasts on Tuesday early morning were nowhere remotely close to what happened. (<a href="https://twitter.com/burgwx/status/1717012912999391235" data-type="link" data-id="https://twitter.com/burgwx/status/1717012912999391235" target="_blank" rel="noreferrer noopener">Tomer Burg on Twitter</a>)</figcaption></figure></div>
<p>None of the best, most reliable tropical modeling had Otis as a hurricane, let alone a category 5 storm. To put it bluntly, this was an absolutely catastrophic forecast failure.</p>
<p>Even the National Hurricane Center by late Tuesday morning had it at 90 mph making landfall, well above any forecast data, and they concluded <a rel="noreferrer noopener" href="https://www.nhc.noaa.gov/archive/2023/ep18/ep182023.discus.009.shtml?" data-type="link" data-id="https://www.nhc.noaa.gov/archive/2023/ep18/ep182023.discus.009.shtml?" target="_blank">in their discussion</a> that it seemed reasonable to potentially see further intensification adjustments before landfall. So even in the worst case scenario, the NHC forecast would have still been off by probably two categories less than 18 hours before landfall. And this was using strong meteorological analysis to bias correct the models upward too. And to their credit, they had it at 140 mph by the late afternoon advisory. </p>
<p>Interestingly, one of the tools we use to forecast the probability that a storm will rapidly intensify, SHIPS guidance, failed also. <a rel="noreferrer noopener" href="https://hurricanes.ral.ucar.edu/realtime/plots/northeastpacific/2023/ep182023/stext/23102406EP1823_ships.txt" data-type="link" data-id="https://hurricanes.ral.ucar.edu/realtime/plots/northeastpacific/2023/ep182023/stext/23102406EP1823_ships.txt" target="_blank">Early on Tuesday morning it only showed about a 2-3x above normal</a> chance that the storm would intensify from a 50 mph tropical storm to a 100-125 mph hurricane. Yes, that is above climatology, but it’s not exactly anything impressive given what we’ve seen in recent years. </p>
<p><a rel="noreferrer noopener" href="https://hurricanes.ral.ucar.edu/realtime/plots/northeastpacific/2023/ep182023/stext/23102412EP1823_ships.txt" data-type="link" data-id="https://hurricanes.ral.ucar.edu/realtime/plots/northeastpacific/2023/ep182023/stext/23102412EP1823_ships.txt" target="_blank">By Tuesday afternoon, those odds had increased to 5-9x above normal</a>. But even this only showed 2x above normal odds that we’d get to 140 mph+. There were finally some hints available by mid to late morning on Tuesday, but nothing that would have offered a meaningful forecast improvement over what the NHC had (which called for 20-30 mph of intensification over 12-24 hours).</p>
<div>
<figure><a href="https://theeyewall.com/wp-content/uploads/2023/10/102623-SHIPS.png" target="_blank" rel="noreferrer noopener"><img decoding="async" width="681" height="141" src="https://theeyewall.com/wp-content/uploads/2023/10/102623-SHIPS.png" alt="" srcset="https://theeyewall.com/wp-content/uploads/2023/10/102623-SHIPS.png 681w, https://theeyewall.com/wp-content/uploads/2023/10/102623-SHIPS-300x62.png 300w" sizes="(max-width: 681px) 100vw, 681px"></a><figcaption>SHIPS rapid intensification forecast guidance from Tuesday midday showed about 9x greater than normal probability of 50 mph of intensity gain, which at that point would have meant a category 2 or 3 storm. The odds of something truly massive were still only about 2x above normal. (UCAR)</figcaption></figure></div>
<p>So the first question is, why did Otis do what it did? Probably a combination of a couple things. First, Otis was placed ideally in an environment that facilitated constructive wind shear. When we discuss wind shear it’s usually referenced in a negative sense; wind shear inhibits and destroys storms. Well, in occasional cases, as we’ve witnessed in the Gulf with Ian, Delta, Zeta, among many other storms in recent years, the wind shear can actually be&nbsp;<em><strong>con</strong></em>structive and help ‘vent’ the system. In this case, Otis was optimally placed in the right entrance region of the jet stream.</p>
<div>
<figure><a href="https://theeyewall.com/wp-content/uploads/2023/10/102623-jet-stream-analysis.png" target="_blank" rel="noreferrer noopener"><img decoding="async" loading="lazy" width="1024" height="627" src="https://theeyewall.com/wp-content/uploads/2023/10/102623-jet-stream-analysis-1024x627.png" alt="" srcset="https://theeyewall.com/wp-content/uploads/2023/10/102623-jet-stream-analysis-1024x627.png 1024w, https://theeyewall.com/wp-content/uploads/2023/10/102623-jet-stream-analysis-300x184.png 300w, https://theeyewall.com/wp-content/uploads/2023/10/102623-jet-stream-analysis-768x470.png 768w, https://theeyewall.com/wp-content/uploads/2023/10/102623-jet-stream-analysis.png 1028w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>An analysis map from the GFS model showing jet stream winds on Tuesday morning. Otis (circled) is tenuously placed in the right entrance region of the jet stream, which tends to offer a more favorable environment for intensification. (Tropical Tidbits)</figcaption></figure></div>
<p>Storms are aided in intensification when placed in the left front or right rear (entrance) of the jet stream. Why? In that portion of the jet stream, the winds aloft diverge, meaning they either are moving in opposite directions or stronger wind is diverging away from weaker wind. Upper level divergence leads to rising air. Rising air is necessary for storms to form and maintain, and thus surface pressures tend to fall in this region of the jet stream as well.</p>
<div>
<figure><a href="https://theeyewall.com/wp-content/uploads/2023/10/102623-jet_streak_expd0707.gif" target="_blank" rel="noreferrer noopener"><img decoding="async" loading="lazy" width="650" height="400" src="https://theeyewall.com/wp-content/uploads/2023/10/102623-jet_streak_expd0707.gif" alt=""></a><figcaption>A conceptual model of a jet streak showing that the right entrance region (bottom left quadrant) is supportive of upper level divergence and surface pressure falls (<a href="https://hurricanes.ral.ucar.edu/realtime/plots/northeastpacific/2023/ep182023/stext/23102412EP1823_ships.txt" data-type="link" data-id="https://hurricanes.ral.ucar.edu/realtime/plots/northeastpacific/2023/ep182023/stext/23102412EP1823_ships.txt" target="_blank" rel="noreferrer noopener">Penn State University</a>)</figcaption></figure></div>
<p>Otis wasn’t exactly square in the middle of the right entrance region, but it was there. Additionally, Otis tracked right over an area of 31°C sea surface temperatures.</p>
<div>
<figure><a href="https://theeyewall.com/wp-content/uploads/2023/10/102623-sst-map.jpg" target="_blank" rel="noreferrer noopener"><img decoding="async" loading="lazy" width="1024" height="723" src="https://theeyewall.com/wp-content/uploads/2023/10/102623-sst-map-1024x723.jpg" alt="" srcset="https://theeyewall.com/wp-content/uploads/2023/10/102623-sst-map-1024x723.jpg 1024w, https://theeyewall.com/wp-content/uploads/2023/10/102623-sst-map-300x212.jpg 300w, https://theeyewall.com/wp-content/uploads/2023/10/102623-sst-map-768x542.jpg 768w, https://theeyewall.com/wp-content/uploads/2023/10/102623-sst-map.jpg 1165w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>Sea surface temperatures were close to 31°C over Otis’s path, which is a few degrees above normal. While not the primary cause of Otis’s rapid intensification, they did not hurt. (<a href="https://twitter.com/BMcNoldy/status/1717162243866116157" data-type="link" data-id="https://twitter.com/BMcNoldy/status/1717162243866116157">Brian McNoldy on Twitter</a>)</figcaption></figure></div>
<p>This rich warm water did not hurt matters at all.</p>
<p>So how did every reliable model we use miss this? That’s for graduate students and researchers to answer in the coming years, because I have no formal idea. There was something about Otis that models just could not capture and translate to RI. Human forecasters, recognizing the setup were able to mitigate some but not all of the underforecast issue. Otis’s smaller size may have also contributed. My hunch is also that if Otis had tracked, say 30-40 miles east or west of where it was, it would not have gone off to the races like this. It was simply perfectly placed to optimize intensification.</p>
<p>A less sexy explanation? Otis was almost unprecedented in the historical record. Only Hurricane Patricia in the Pacific in 2015 had a greater rate of RI than Otis. And in the modern era no massive storm has hit Acapulco.</p>
<div>
<figure><a href="https://theeyewall.com/wp-content/uploads/2023/10/102623-RI-ranking.png" target="_blank" rel="noreferrer noopener"><img decoding="async" loading="lazy" width="1024" height="741" src="https://theeyewall.com/wp-content/uploads/2023/10/102623-RI-ranking-1024x741.png" alt="" srcset="https://theeyewall.com/wp-content/uploads/2023/10/102623-RI-ranking-1024x741.png 1024w, https://theeyewall.com/wp-content/uploads/2023/10/102623-RI-ranking-300x217.png 300w, https://theeyewall.com/wp-content/uploads/2023/10/102623-RI-ranking-768x556.png 768w, https://theeyewall.com/wp-content/uploads/2023/10/102623-RI-ranking-1536x1111.png 1536w, https://theeyewall.com/wp-content/uploads/2023/10/102623-RI-ranking-2048x1481.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>Otis was not the fastest rapidly intensifying storm on record, but it was near the top of the list in the East Pacific, lagging only 2015’s Patricia. (<a href="https://twitter.com/burgwx/status/1717015198068867098" data-type="link" data-id="https://twitter.com/burgwx/status/1717015198068867098" target="_blank" rel="noreferrer noopener">Tomer Burg on Twitter</a>)</figcaption></figure></div>
<p>Unprecedented outcomes are just that, and if the historical record has only one other remotely comparable event in this region, it becomes tough to expect that modeling can “capture” the concept that this would occur in this environment.</p>
<p>It feels like this was a combination of bad luck, bad timing, and bad placement. And it just so happened that a metropolitan area with over 1 million people was in the way.</p>
<p>It’s easy to sit here and pontificate about this or to say that weather forecasts are often wrong. But the thing is, they’re not. They’re often right. With hurricanes, forecasting has improved by leaps and bounds in the last 20 to 30 years. Perfect? No, but often more than acceptable. A failure like this shocks us because we aren’t actually <em>used</em> to forecast failures of this magnitude anymore! 100 years ago? Sure, this was fairly routine. But in the 2020s, we have standards and expectations for weather forecasts, and clearly this was a shock to the system. Busts like this remind us that it’s an imperfect business and there is still much work to do. The work to be done to understand Otis will take time, but we will certainly see many research papers in the coming years.</p>
<h3>Weather update: Tammy, Texas rain, and continued wintry weather north</h3>
<p>Just a quick punch list of items we’ll be watching over the next few days.</p>
<p>Hurricane Tammy’s final advisory was issued this morning, as it has transitioned into an extratropical entity, or something akin to a strong nor’easter. It will meander east of Bermuda for a few days, and there is some chance this could reacquire tropical characteristics at some point. It won’t go quietly, but hopefully any impacts to Bermuda are minimal.</p>
<div>
<figure><a href="https://theeyewall.com/wp-content/uploads/2023/10/102623-AL202023_forecast.png" target="_blank" rel="noreferrer noopener"><img decoding="async" loading="lazy" width="1024" height="696" src="https://theeyewall.com/wp-content/uploads/2023/10/102623-AL202023_forecast-1024x696.png" alt="" srcset="https://theeyewall.com/wp-content/uploads/2023/10/102623-AL202023_forecast-1024x696.png 1024w, https://theeyewall.com/wp-content/uploads/2023/10/102623-AL202023_forecast-300x204.png 300w, https://theeyewall.com/wp-content/uploads/2023/10/102623-AL202023_forecast-768x522.png 768w, https://theeyewall.com/wp-content/uploads/2023/10/102623-AL202023_forecast-1536x1044.png 1536w, https://theeyewall.com/wp-content/uploads/2023/10/102623-AL202023_forecast-2048x1392.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>Post-tropical Tammy will remain a strong storm for several more days as it meanders east of Bermuda. (Tomer Burg)</figcaption></figure></div>
<p>Flash flooding concerns will be in the forecast in the southern Plains over the next few days, meandering from Texas into Arkansas. Generally 3 to 5 inches of rain is possible in spots. But higher amounts are a virtual certainty. South of Dallas, the 24 hour rainfall totals in Hood and Somervell Counties are estimated to be close to 10 inches. </p>
<div>
<figure><img decoding="async" loading="lazy" width="994" height="633" src="https://theeyewall.com/wp-content/uploads/2023/10/Screenshot-2023-10-26-064153.png" alt="" srcset="https://theeyewall.com/wp-content/uploads/2023/10/Screenshot-2023-10-26-064153.png 994w, https://theeyewall.com/wp-content/uploads/2023/10/Screenshot-2023-10-26-064153-300x191.png 300w, https://theeyewall.com/wp-content/uploads/2023/10/Screenshot-2023-10-26-064153-768x489.png 768w" sizes="(max-width: 994px) 100vw, 994px"><figcaption>Rain totals southwest of Dallas and Fort Worth are estimated to be close to 10 inches (purple) over the last 24 hours. (NOAA NSSL)</figcaption></figure></div>
<p>Numerous flash flood warnings are posted in North Texas and Hill Country this morning as heavy rain falls and spreads south and east. </p>
<p>Snow will continue in the northern tier. Over a foot fell in Helena, Montana, with snow spreading into North Dakota. Snow should wind down tonight from west to east.</p>
<div>
<figure><a href="https://theeyewall.com/wp-content/uploads/2023/10/102623-hazards_d3_7_contours-1.png" target="_blank" rel="noreferrer noopener"><img decoding="async" loading="lazy" width="1024" height="791" src="https://theeyewall.com/wp-content/uploads/2023/10/102623-hazards_d3_7_contours-1-1024x791.png" alt="" srcset="https://theeyewall.com/wp-content/uploads/2023/10/102623-hazards_d3_7_contours-1-1024x791.png 1024w, https://theeyewall.com/wp-content/uploads/2023/10/102623-hazards_d3_7_contours-1-300x232.png 300w, https://theeyewall.com/wp-content/uploads/2023/10/102623-hazards_d3_7_contours-1-768x593.png 768w, https://theeyewall.com/wp-content/uploads/2023/10/102623-hazards_d3_7_contours-1-1536x1187.png 1536w, https://theeyewall.com/wp-content/uploads/2023/10/102623-hazards_d3_7_contours-1-2048x1583.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>A bunch of items will impact the interior U.S. over the next 3 to 7 days, ranging from heavy snow in the Rockies to heavy rain in the mid-Mississippi Valley to hazardous cold in the North. (NOAA WPC)</figcaption></figure></div>
<p>The hazards map from the Weather Prediction Center is lit up for days 3 to 7 with cold infiltrating from Canada this weekend in the North, the aforementioned heavy rain in mid-Mississippi Valley, and frost and freeze risk from near the Permian Basin and southern New Mexico across to the Ohio and Tennessee Valleys. We’ll have more tomorrow!</p>
 </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Now add a walrus: Prompt engineering in DALL-E 3 (267 pts)]]></title>
            <link>https://simonwillison.net/2023/Oct/26/add-a-walrus/</link>
            <guid>38031839</guid>
            <pubDate>Thu, 26 Oct 2023 21:19:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://simonwillison.net/2023/Oct/26/add-a-walrus/">https://simonwillison.net/2023/Oct/26/add-a-walrus/</a>, See on <a href="https://news.ycombinator.com/item?id=38031839">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>



<p>26th October 2023</p>

<p>Last year I wrote about <a href="https://simonwillison.net/2022/Jun/23/dall-e/">my initial experiments with DALL-E 2</a>, OpenAI’s image generation model. I’ve been having an <em>absurd</em> amount of fun playing with its sequel, DALL-E 3 recently. Here are some notes, including <a href="https://simonwillison.net/2023/Oct/26/add-a-walrus/#peeking-under-the-hood">a peak under the hood</a> and some notes on the <a href="https://simonwillison.net/2023/Oct/26/add-a-walrus/#the-leaked-dall-e-prompt">leaked system prompt</a>.</p>
<p>DALL-E 3 is available via ChatGPT Plus. For $20/month you get GPT-4 access, DALL-E 3, <a href="https://simonwillison.net/2023/Oct/14/multi-modal-prompt-injection/">GPT Vision</a>, Code Interpreter (aka <a href="https://simonwillison.net/2023/Oct/17/open-questions/#open-questions.036.jpeg">Coding Intern</a>), <a href="https://simonwillison.net/2023/Mar/24/datasette-chatgpt-plugin/">ChatGPT Plugins</a> and the new, weird and slightly dystopian <a href="https://fedi.simonwillison.net/@simon/111292801843094073">voice chat feature</a> in the ChatGPT mobile apps. It’s absolutely worth the money, for the combined entertainment value alone.</p>
<p>A fascinating thing about DALL-E 3 is that you don’t prompt it directly: you instead access it via ChatGPT, which prompts the model for you.</p>
<p>ChatGPT then turns your query into several prompts, each producing a different image. The prompts it generates are available if you click on the images (on mobile you have to flip your phone horizontal to see that option).</p>
<p>I started by typing this into ChatGPT with DALL-E enabled:</p>
<blockquote>
<p>A super posh pelican with a monocle watching the Monaco F1</p>
</blockquote>
<p>It gave me these four images. I’ve included the prompt it used for each one:</p>

<p>Note how the prompts it generates cover four different styles—photo, illustration, watercolor painting and vector image. They also use pleasing and varied language to describe different aspects of the image.</p>
<p>ChatGPT is prompting DALL-E for us!</p>
<p>The really fun thing though is that you can ask it follow-ups.</p>
<p>I said:</p>
<blockquote>
<p>More like the first one please</p>
</blockquote>
<p>And got back:</p>


<p>Next I added what is becoming my universal DALL-E 3 follow-up prompt, always guaranteed to produce better results:</p>
<blockquote>
<p>Add a walrus</p>
</blockquote>
<p>The result:</p>

<div>
    <figure>
        <a href="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-1.png"><img loading="lazy" src="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-1.png" alt="Pelican and a walrus (mostly off screen)"></a>
        <figcaption>Photo of a posh pelican with a golden monocle and a distinguished walrus, both observing the Monaco Grand Prix F1 race. The pelican is perched on a railing while the walrus lounges nearby. Formula 1 cars race by on the circuit, with lavish yachts in the marina behind them.</figcaption>
    </figure>
    <figure>
        <a href="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-2.png"><img loading="lazy" src="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-2.png" alt="Pelican and a walrus, excellent"></a>
        <figcaption>Photo of an aristocratic pelican and a stately walrus side by side, watching the Monaco F1 with keen interest. The pelican has a monocle, and the walrus’s tusks shine brightly. The race track is alive with the sound of roaring engines, and the harbor is filled with luxurious boats.</figcaption>
    </figure>
    <figure>
        <a href="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-3.png"><img loading="lazy" src="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-3.png" alt="Weird pelican walrus hybrid"></a>
        <figcaption>Photo of a regal pelican, its eye magnified by a monocle, and a majestic walrus with gleaming tusks, both captivated by the Monaco Grand Prix. The racetrack is a blur of speed, and the horizon showcases the grandeur of the harbor and its anchored yachts.</figcaption>
    </figure>
    <figure>
        <a href="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-4.png"><img loading="lazy" src="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-4.png" alt="Pelican and a walrus"></a>
        <figcaption>Photo of a chic pelican with a pristine monocle and a sophisticated walrus, both engrossed in the Monaco F1 race. The pelican stands on a vantage point, and the walrus sits comfortably beside it. Racing cars zoom past, and the sea is dotted with opulent boats.</figcaption>
    </figure>
</div>

<p>That <a href="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-2.png">second one</a> is <em>amazing</em>—exactly what I want from a photo of a posh pelican and a walrus watching the Monaco Grand Prix.</p>
<p>I also enjoy how the <a href="https://static.simonwillison.net/static/2023/dalle-3/add-walrus-3.png">third image</a> ended up as a weird Pelican-Walrus hybrid, with tusks, a monocle and pelican feathers for the hair and whiskers.</p>
<p>Then <a href="https://twitter.com/BrockMcBreadcat/status/1717581286733127701">@BrockMcBreadcat suggested</a>:</p>
<blockquote>
<p>Now make them muppets</p>
</blockquote>

<div>
    <figure>
        <a href="https://static.simonwillison.net/static/2023/dalle-3/muppets-1.png"><img loading="lazy" src="https://static.simonwillison.net/static/2023/dalle-3/muppets-1.png" alt="Pelican and a walrus muppets 1"></a>
        <figcaption>Photo of Muppet versions of a pelican and a walrus, both with exaggerated, comical features. The pelican Muppet wears a monocle and the walrus Muppet sports oversized tusks. They are animatedly discussing the Monaco Grand Prix F1 race, with caricatured F1 cars and yachts in the background.</figcaption>
    </figure>
    <figure>
        <a href="https://static.simonwillison.net/static/2023/dalle-3/muppets-2.png"><img loading="lazy" src="https://static.simonwillison.net/static/2023/dalle-3/muppets-2.png" alt="Pelican and a walrus muppets 2"></a>
        <figcaption>Illustration of Muppet-inspired pelican and walrus characters. The pelican has a large, beady eye accentuated by a monocle, while the walrus has a playful grin and prominent tusks. They are engrossed in the Monaco F1 race, with whimsical racing cars and yachts creating a lively backdrop.</figcaption>
    </figure>
    <figure>
        <a href="https://static.simonwillison.net/static/2023/dalle-3/muppets-3.png"><img loading="lazy" src="https://static.simonwillison.net/static/2023/dalle-3/muppets-3.png" alt="Pelican and a walrus muppets 3"></a>
        <figcaption>Photo of two Muppet characters: a pelican with a monocle and a walrus with big, goofy tusks. They’re seated in a Muppet-style commentary booth, providing humorous commentary on the Monaco Grand Prix. Cartoonish F1 cars race by, and colorful yachts are seen in the distance.</figcaption>
    </figure>
    <figure>
        <a href="https://static.simonwillison.net/static/2023/dalle-3/muppets-4.png"><img loading="lazy" src="https://static.simonwillison.net/static/2023/dalle-3/muppets-4.png" alt="Pelican and a walrus muppets 4"></a>
        <figcaption>Illustration of a pelican and walrus as Muppet characters. The pelican Muppet looks sophisticated with its monocle, and the walrus Muppet chuckles with its oversized tusks. They are enjoying the Monaco F1 race, with the track filled with Muppet-style racing cars and quirky yachts.</figcaption>
    </figure>
</div>
<p>LOVE that <a href="https://static.simonwillison.net/static/2023/dalle-3/muppets-3.png">third one</a>!</p>
<p>I <a href="https://twitter.com/simonw/status/1717547946424897764">mentioned on Twitter</a> that it was a shame you can’t reuse elements of an image for further visual consistency... and was pointed to <a href="https://twitter.com/itsPaulAi/status/1717197004651044914">a thread by Paul Couvert</a> explaining how to do exactly that using seeds.</p>
<p>I didn’t believe this would work—my mental model of how random number seeds and image generation models work doesn’t fit what happened next.</p>
<p>I wrote:</p>
<blockquote>
<p>What is the seed for image three?</p>
</blockquote>
<p>ChatGPT replied:</p>
<blockquote>
<p>The seed for the third image is 1379049893. If you have any other questions or requests, please let me know!</p>
</blockquote>
<p>Then I said:</p>
<blockquote>
<p>Add bow ties to both characters in seed 1379049893</p>
</blockquote>
<p><a href="https://static.simonwillison.net/static/2023/dalle-3/pelican-walrus-muppet-bowtie.png"><img loading="lazy" src="https://static.simonwillison.net/static/2023/dalle-3/pelican-walrus-muppet-bowtie.png" alt="A muppet pelican and a muppet walrus with bowties in front of the Monaco Grand Prix"></a></p>
<blockquote>
<p>Photo of two Muppet characters: a pelican with a monocle and a bow tie, and a walrus with big, goofy tusks and a dapper bow tie. They’re seated in a Muppet-style commentary booth, providing humorous commentary on the Monaco Grand Prix. Cartoonish F1 cars race by, and colorful yachts are seen in the distance.</p>
</blockquote>
<p>I’m pretty stunned by this. It’s not an exact recreation—the boats in the background have changed slightly, and it added a top hat that I wasn’t expecting. But it’s pretty close!</p>
<p>People have been trying to figure out hacks to get Midjourney to create consistent characters for the past year, and DALL-E 3 apparently has that ability as an undocumented feature!</p>
<h4 id="peeking-under-the-hood">Peeking under the hood</h4>
<p>Let’s see if we can find out a bit more about how this works.</p>
<p>I used the Firefox DevTools network inspector to grab the JSON representation of my conversation with ChatGPT. Here’s <a href="https://gist.github.com/simonw/832d141d776b0752503b1748224921c0">a pretty-printed copy</a>.</p>
<p>At <a href="https://gist.github.com/simonw/832d141d776b0752503b1748224921c0#file-dalle-3-json-L1087">line 1087</a> you can see the point where I asked it to “Add bow ties to both characters in seed 1379049893”.</p>
<p>The next message in the transcript looks like this:</p>
<div><pre>{
    <span>"id"</span>: <span><span>"</span>5300d51c-794d-4d5f-bf75-6ea2dad4027c<span>"</span></span>,
    <span>"author"</span>: {
        <span>"role"</span>: <span><span>"</span>assistant<span>"</span></span>,
        <span>"metadata"</span>: {}
    },
    <span>"create_time"</span>: <span>1698340593.174454</span>,
    <span>"content"</span>: {
        <span>"content_type"</span>: <span><span>"</span>text<span>"</span></span>,
        <span>"parts"</span>: [
            <span><span>"</span>{<span>\n</span>  <span>\"</span>prompts<span>\"</span>: [<span>\n</span>    <span>\"</span>Photo of two Muppet characters: a pelican with a monocle and a bow tie, and a walrus with big, goofy tusks and a dapper bow tie. They're seated in a Muppet-style commentary booth, providing humorous commentary on the Monaco Grand Prix. Cartoonish F1 cars race by, and colorful yachts are seen in the distance.<span>\"\n</span>  ],<span>\n</span>  <span>\"</span>size<span>\"</span>: <span>\"</span>1024x1024<span>\"</span>,<span>\n</span>  <span>\"</span>seeds<span>\"</span>: [1379049893]<span>\n</span>}<span>"</span></span>
        ]
    },
    <span>"status"</span>: <span><span>"</span>finished_successfully<span>"</span></span>,
    <span>"end_turn"</span>: <span>false</span>,
    <span>"weight"</span>: <span>1</span>,
    <span>"metadata"</span>: {
        <span>"finish_details"</span>: {
            <span>"type"</span>: <span><span>"</span>stop<span>"</span></span>,
            <span>"stop_tokens"</span>: [
                <span>100265</span>
            ]
        },
        <span>"is_complete"</span>: <span>true</span>,
        <span>"model_slug"</span>: <span><span>"</span>gpt-4-dalle<span>"</span></span>,
        <span>"parent_id"</span>: <span><span>"</span>aaa2c3bc-b670-4a3a-bf9f-46a1f3304266<span>"</span></span>,
        <span>"timestamp_"</span>: <span><span>"</span>absolute<span>"</span></span>
    },
    <span>"recipient"</span>: <span><span>"</span>dalle.text2im<span>"</span></span>
}</pre></div>
<p>Note the author is “assistant”—that’s ChatGPT—and the recipient is “dalle.text2im”.</p>
<p>The “parts” key includes some encoded JSON. Decoded and pretty-printed that looks like this:</p>
<div><pre>{
  <span>"prompts"</span>: [
    <span><span>"</span>Photo of two Muppet characters: a pelican with a monocle and a bow tie, and a walrus with big, goofy tusks and a dapper bow tie. They're seated in a Muppet-style commentary booth, providing humorous commentary on the Monaco Grand Prix. Cartoonish F1 cars race by, and colorful yachts are seen in the distance.<span>"</span></span>
  ],
  <span>"size"</span>: <span><span>"</span>1024x1024<span>"</span></span>,
  <span>"seeds"</span>: [<span>1379049893</span>]
}</pre></div>
<p>There’s that <code>1379049893</code> seed from earlier!</p>
<p>The prompt has changed very slightly. The original prompt for the image was:</p>
<blockquote>
<p>Photo of two Muppet characters: a pelican with a monocle and a walrus with big, goofy tusks. They’re seated in a Muppet-style commentary booth, providing humorous commentary on the Monaco Grand Prix. Cartoonish F1 cars race by, and colorful yachts are seen in the distance.</p>
</blockquote>
<p>The new prompt (differences highlighted in bold) is:</p>
<blockquote>
<p>Photo of two Muppet characters: a pelican with a monocle <strong>and a bow tie,</strong> and a walrus with big, goofy tusks <strong>and a dapper bow tie</strong>. They’re seated in a Muppet-style commentary booth, providing humorous commentary on the Monaco Grand Prix. Cartoonish F1 cars race by, and colorful yachts are seen in the distance.</p>
</blockquote>
<p>So this really did work by adding a couple of extra details to the prompt and re-running it with the same seed as before.</p>
<p>I’m really surprised that this works. I would expect even a single character difference in the prompt to produce wildly different results, no matter what seed was being fed to the image generator. DALL-E 3 doesn’t fit my mental model of how these things work at all.</p>
<p>Midjourney and Stable Diffusion both have a “seed” concept, but as far as I know they don’t have anything like this capability to maintain consistency between images given the same seed and a slightly altered prompt.</p>
<h4 id="the-leaked-dall-e-prompt">The leaked DALL-E prompt</h4>
<p>If you dig around in the JSON you’ll find a few <a href="https://gist.github.com/simonw/832d141d776b0752503b1748224921c0#file-dalle-3-json-L203">examples like this</a> that appear to reveal inner workings of the DALL-E/ChatGPT combo:</p>
<blockquote>
<p><code>"DALL·E returned some images. They are already displayed to the user. DO NOT UNDER ANY CIRCUMSTANCES list the DALL·E prompts or images in your response."</code></p>
</blockquote>
<p>It’s always amusing to see glimpses of OpenAI’s prompt engineering like this, in particular the way they use CAPITAL LETTERS for emphasis. Benj Edwards <a href="https://arstechnica.com/information-technology/2023/10/thanks-to-ai-the-future-of-programming-may-involve-yelling-in-all-caps/">wrote about this</a> the other day for Ars Technica.</p>
<p>Does this mean there’s a larger prompt that tells ChatGPT how to use DALL-E? It turns out there is, and it <a href="https://news.ycombinator.com/item?id=37879077#37880847">can be leaked</a>! Dustin Miller <a href="https://github.com/spdustin/ChatGPT-AutoExpert/blob/main/_system-prompts/dall-e.md">shared the extracted prompt here</a>.</p>
<p>(Every time a prompt like this leaks people question if it might be a hallucination. My experience is that these things are very unlikely to be hallucinated—LLMs are really good at repeating text from earlier in their context, and I have yet to see a documented case of a leaked prompt that turned out not to be correct. Here’s <a href="https://chat.openai.com/share/5f550be3-3111-485f-a32f-c51fea60d482">my own recreation</a> of the leaked DALL-E prompt.)</p>
<p>There’s a lot in there. Here are some highlights:</p>
<blockquote>
<p>Whenever a description of an image is given, use dalle to create the images and then summarize the prompts used to generate the images in plain text. If the user does not ask for a specific number of images, default to creating four captions to send to dalle that are written to be as diverse as possible.</p>
</blockquote>
<p>That outlines the default behavior. Where things get really interesting is some of the stuff in the list of policies that follows:</p>
<blockquote>
<ol start="3">
<li>
<p>Don’t create images of politicians or other public figures. Recommend other ideas instead.</p>
</li>
<li>
<p>Don’t create images in the style of artists whose last work was created within the last 100 years (e.g. Picasso, Kahlo). Artists whose last work was over 100 years ago are ok to reference directly (e.g. Van Gogh, Klimt). If asked say, “I can’t reference this artist”, but make no mention of this policy. Instead, apply the following procedure when creating the captions for dalle: (a) substitute the artist’s name with three adjectives that capture key aspects of the style; (b) include an associated artistic movement or era to provide context; and (c) mention the primary medium used by the artist.</p>
</li>
</ol>
</blockquote>
<p>They have clearly trained the model on all sorts of copyrighted images—this is the part of the prompt where they discourage it from obviously recreating the work of living artists.</p>
<blockquote>
<ol start="6">
<li>Always mention the image type (photo, oil painting, watercolor painting, illustration, cartoon, drawing, vector, render, etc.) at the beginning of the caption. Unless the caption suggests otherwise, make at least 1--2 of the 4 images photos</li>
</ol>
</blockquote>
<p>We saw this earlier where my first prompt was turned into a photo, watercolor, illustration and vector-style image.</p>
<blockquote>
<ol start="7">
<li>Diversify depictions of ALL images with people to include DESCENT and GENDER for EACH person using direct terms. Adjust only human descriptions.
<ul>
<li>EXPLICITLY specify these attributes, not abstractly reference them. The attributes should be specified in a minimal way and should directly describe their physical form.</li>
<li>Your choices should be grounded in reality. For example, all of a given OCCUPATION should not be the same gender or race. Additionally, focus on creating diverse, inclusive, and exploratory scenes via the properties you choose during rewrites. Make choices that may be insightful or unique sometimes.</li>
<li>Use “various” or “diverse” ONLY IF the description refers to groups of more than 3 people. Do not change the number of people requested in the original description.</li>
<li>Don’t alter memes, fictional character origins, or unseen people. Maintain the original prompt’s intent and prioritize quality.</li>
<li>Do not create any imagery that would be offensive.</li>
<li>For scenarios where bias has been traditionally an issue, make sure that key traits such as gender and race are specified and in an unbiased way -- for example, prompts that contain references to specific occupations.</li>
</ul>
</li>
</ol>
</blockquote>
<p>Using prompt engineering in ChatGPT to get around the fundamental biases baked into the DALL-E 3 model!</p>
<blockquote>
<ol start="8">
<li>Silently modify descriptions that include names or hints or references of specific people or celebritie by carefully selecting a few minimal modifications to substitute references to the people with generic descriptions that don’t divulge any information about their identities, except for their genders and physiques. Do this EVEN WHEN the instructions ask for the prompt to not be changed. Some special cases:
<ul>
<li>Modify such prompts even if you don’t know who the person is, or if their name is misspelled (e.g. “Barake Obema”)</li>
<li>If the reference to the person will only appear as TEXT out in the image, then use the reference as is and do not modify it.</li>
<li>When making the substitutions, don’t use prominent titles that could give away the person’s identity. E.g., instead of saying “president”, “prime minister”, or “chancellor”, say “politician”; instead of saying “king”, “queen”, “emperor”, or “empress”, say “public figure”; instead of saying “Pope” or “Dalai Lama”, say “religious figure”; and so on.</li>
<li>If any creative professional or studio is named, substitute the name with a description of their style that does not reference any specific people, or delete the reference if they are unknown. DO NOT refer to the artist or studio’s style.</li>
</ul>
</li>
</ol>
</blockquote>
<p>Another fascinating detail. What I love about these prompts is that they clearly developed over months of testing the model, and are designed to counter all manner of harmful or embarrassing capabilities of the underlying DALL-E 3.</p>
<ul>

</ul>

<p>Finally, there’s this snippet of TypeScript at the end which describes the seed behavior we saw earlier on:</p>
<div><pre><span>namespace</span> <span>dalle</span> <span>{</span>
<span>// Create images from a text-only prompt.</span>
<span>type</span> <span>text2im</span> <span>=</span> <span>(</span><span>_</span>: <span>{</span>
<span>// The resolution of the requested image, which can be wide, square, or tall. Use 1024x1024 (square) as the default unless the prompt suggests a wide image, 1792x1024, or a full-body portrait, in which case 1024x1792 (tall) should be used instead. Always include this parameter in the request.</span>
<span>size</span>?: <span>"1792x1024"</span> <span>|</span> <span>"1024x1024"</span> <span>|</span> <span>"1024x1792"</span><span>,</span>
<span>// The user's original image description, potentially modified to abide by the dalle policies. If the user does not suggest a number of captions to create, create four of them. If creating multiple captions, make them as diverse as possible. If the user requested modifications to previous images, the captions should not simply be longer, but rather it should be refactored to integrate the suggestions into each of the captions. Generate no more than 4 images, even if the user requests more.</span>
<span>prompts</span>: <span>string</span><span>[</span><span>]</span><span>,</span>
<span>// A list of seeds to use for each prompt. If the user asks to modify a previous image, populate this field with the seed used to generate that image from the image dalle metadata.</span>
<span>seeds</span>?: <span>number</span><span>[</span><span>]</span><span>,</span>
<span>}</span><span>)</span> <span>=&gt;</span> <span>any</span><span>;</span>
<span>}</span> <span>// namespace dalle</span></pre></div>
<p>Key extract from that:</p>
<blockquote><p>If the user requested
modifications to previous images, the captions should not simply
be longer, but rather it should be refactored to integrate the
suggestions into each of the captions.</p></blockquote>
<p>All in all, this is a really neat insight into the kind of prompt engineering that goes on within OpenAI itself—likely the organization with the most experience of prompt engineering in the world.</p>




</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[We need to talk about funding (199 pts)]]></title>
            <link>https://octoprint.org/blog/2023/10/26/we-need-to-talk-about-funding/</link>
            <guid>38031581</guid>
            <pubDate>Thu, 26 Oct 2023 20:55:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://octoprint.org/blog/2023/10/26/we-need-to-talk-about-funding/">https://octoprint.org/blog/2023/10/26/we-need-to-talk-about-funding/</a>, See on <a href="https://news.ycombinator.com/item?id=38031581">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="blogpost-content">
            <p>You might have missed this, but since 2016 my full-time work on OctoPrint has been
<strong>100% funded by people like you.</strong> OctoPrint, at its core, is still
mostly a one-woman show, with me its creator as its only full time resource, and I’ve only been 
able to keep working on it thanks to the generous support of the community.</p>

<p>Sadly, the financial crisis currently happening across the globe is also affecting me, and things 
are starting to get worrying. While OctoPrint’s <strong>usage numbers have steadily grown by 30% since 2021</strong>
to an all time high of now over 150000 active instances (and that’s just the ones I know about), 
<strong>financial support for my work on OctoPrint has dropped by over 30% over that same time</strong>, with most of this 
decline happening over the course of the past 12 months. And meanwhile, thanks to 
the ongoing inflation, my expenses have only increased as well - power, hosting of website, forums and
tracking server, various domains, backups, etc, all of that costs money, and that doesn’t even yet
include my own living expenses. Long story short, <strong>if things continue the way they are,
I will have to throw in the towel</strong>, and that will be the end of OctoPrint for me.</p>

<p>I love working on OctoPrint, and I love being able to provide it to you for free. But I also need to
pay my bills, and I can’t do that if financial support keeps dropping like this. <strong>There’s still time to turn this around</strong>,
but that will require your help, and some changes.</p>

<h2 id="how-you-can-help">How you can help</h2>

<p>If you are using OctoPrint, please consider chipping in and supporting my work on it. There are several 
ways to do so:</p>

<ul>
  <li><a href="https://github.com/users/foosel/sponsorship">Become a GitHub Sponsor</a> (<strong>recurring</strong> &amp; one-time)</li>
  <li><a href="https://patreon.com/foosel">Become a Patreon Patron</a> (<strong>recurring</strong>)</li>
  <li><a href="https://ko-fi.com/octoprint/10">Support me on Ko-Fi</a> (<strong>recurring</strong> &amp; one-time) 🆕</li>
  <li><a href="https://donorbox.org/support-octoprint">Support me on Donorbox</a> (<strong>recurring</strong> &amp; one-time)</li>
  <li><a href="https://liberapay.com/foosel/donate">Support me on Liberapay</a> (<strong>recurring</strong>)</li>
  <li><a href="https://paypal.me/octoprint3d">Support me on PayPal</a> (one-time)</li>
</ul>

<p>You can also find all of these on the <a href="https://octoprint.org/support-octoprint/">dedicated support page</a>.</p>

<p>Obviously I’m not expecting everyone to chip in, <strong>but if you are using OctoPrint and can afford to
support its development</strong>, please consider doing so. Even a small amount helps, and if enough people
chip in, it can make a huge difference. Even more so when it’s given <strong>recurringly</strong>. 
And <strong>if you can’t afford to chip in</strong>, please consider spreading
the word instead. The more people know about this, the better.</p>

<p>Finally, <strong>if you are a company and are using OctoPrint in your business</strong>, please consider becoming a
corporate sponsor. You’ll not only ensure OctoPrint’s future development and thus its usefulness to you, 
but depending on your contribution you’ll also get your link and logo on octoprint.org and get 
mentioned in the about dialog of OctoPrint itself. And let’s be honest, it’s the right thing to do! 😉 <a href="mailto:sponsoring@octoprint.org">Get in touch with me!</a></p>

<h2 id="what-i-will-do-on-my-end">What I will do on my end</h2>

<p>Since the general feedback I got over the years was that people didn’t even know they could financially support
my work on OctoPrint, I will be making this a more prominent topic in the future. <strong>I’ve already started
work on some changes for OctoPrint 1.10.0 that will put options to financially support my work on OctoPrint</strong> more into the 
spotlight, and I will also be making some more changes to octoprint.org and the forums to make it easier to find the support options.</p>

<p>I apologize in advance to those of you who’ve been supporting me throughout the years and might feel
a bit annoyed by this, but I hope you understand that I need to do this in order to keep working on
OctoPrint. I will try to keep it as unobtrusive as possible, but I also need to make sure that people
know that they can support my work on OctoPrint if they want to, and how to do that.</p>

<p><strong>Thank you for your understanding and your support! Let’s turn this around!</strong></p>


            
            
            
            
            
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Things I like about Gleam's Syntax (124 pts)]]></title>
            <link>https://erikarow.land/notes/gleam-syntax</link>
            <guid>38031342</guid>
            <pubDate>Thu, 26 Oct 2023 20:32:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://erikarow.land/notes/gleam-syntax">https://erikarow.land/notes/gleam-syntax</a>, See on <a href="https://news.ycombinator.com/item?id=38031342">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="Things-I-like-about-Gleams-Syntax">

<p>Gleam is a Type-Safe programming language that transpiles to Erlang<label for="fn1"></label><span><span>And <a href="https://gleam.run/news/v0.16-gleam-compiles-to-javascript/">javascript</a>.</span></span>, so you can run its code on the BEAM. I’ve slept on Gleam for a while because its syntax. It was too much Rust and not enough Elixir for me.</p>
<p>Recently, I was reminded of Gleam when someone mentioned that Gleam doesn’t have an if statement, but instead uses <code>case</code> for everything. As a consequence, I ended up re-reading the <a href="https://gleam.run/book/tour/index.html">Gleam language tour</a>.</p>
<p>As another reminder to check my assumptions from time to time,
Gleam’s syntax has some goodies that I hadn’t noticed before,
It’s definitely grown on me now that I’ve used Rust for a while.<label for="fn2"></label><span><span>Gleam’s syntax draws a lot from Rust’s syntax. Gleam’s transpiler is <a href="https://github.com/gleam-lang/gleam">written in Rust</a>.</span></span></p>
<p>Some examples:</p>
<section id="Handy-pipe-operator">
<h2>Handy pipe operator</h2>
<p>Gleam adopts a <a href="https://gleam.run/book/tour/functions.html#pipe-operator">pipe operator</a> similar to Elixir<label for="fn3"></label><span><span>Gleam’s <code>list.at</code> function returns a <code>Result</code> type, which allows me to know whether I’ve received a value from the list or used an index outside the bounds of the list. The former will be <code>Ok(value)</code> and the latter will return <code>Err(Nil)</code> per the type signature of <code>list.at</code>.</span><span>This is in contrast to Elixir’s <code>Enum.at/2</code> function, which returns <code>value</code> or <code>nil</code> with no indication of whether that <code>nil</code> came from the list or from an out-of-bounds index.</span></span>:</p>
<pre><code>import gleam/io
import gleam/list

pub fn main() {
  [1, 2, 3]
  |&gt; list.append([4,5,6])
  |&gt; list.reverse
  |&gt; list.at(2) 
  |&gt; io.debug() // prints Ok(4)
}
</code></pre>
</section>
<section id="Labeled-arguments">
<h2>Labeled arguments</h2>
<p><a href="https://stackoverflow.com/questions/10091185/piping-composition-and-currying">Labeled arguments</a> is how Gleam does keyword arguments which are notably missing from both Elixir and Rust. So this is a great addition. The main benefit of labeled arguments is that you can pass them into the function in any order, since they’re identified by name.<label for="fn4"></label><span><span>Note that I had to use <code>name</code> twice in <code>greet</code>. The first time is the label, the second time is the variable I use in the body of the function. Using one <code>name</code> by itself raises a compiler error.</span></span><label for="fn5"></label><span><span>Elixir can simulate keyword arguments with keyword lists, but those require a <code>Keyword.get</code> call to retrieve keys inside the function body, and can’t be passed in positionally.</span></span></p>
<pre><code>import gleam/io

fn greet(name name: String, in place: String) {
  "Hello " &lt;&gt; name &lt;&gt; " from " &lt;&gt; place
}

pub fn main() {
  greet(name: "Christine", in: "NASA")
  |&gt; io.debug() // "Hello Christine from NASA"
}
</code></pre>
</section>
<section id="Elegant-function-capturing">
<h2>Elegant function capturing</h2>
<p><a href="https://gleam.run/book/tour/functions.html#function-capturing">Function capturing</a> allows me to quickly create a one-argument anonymous function from a named function. The one argument will go wherever I place the <code>_</code> in the function capture. It only seems to work for creating one-argument anonymous functions,
putting multiple <code>_</code> in a capture will compile error<label for="fn6"></label><span><span>By contrast, in Elixir you can have arbitrarily many arguments in a captured function with the numbered <code>&amp;</code> syntax: <code>&amp;Enum.reduce([1, 2, 3], &amp;1, &amp;2)</code></span><span>(At least, I think it’s arbitrarily many, I stopped checking after <code>&amp;11</code> worked)</span></span>.</p>
<pre><code>import gleam/io
import gleam/list
import gleam/string

pub fn main() {
  let prepend = string.append("other ", _)

  list.map(["hello", "world"], prepend) 
  |&gt; io.debug() // ["other hello", "other world"]
}
</code></pre>
<p>Function capturing is also nice for arranging functions for the pipe operator, since Gleam lets me pipe directly into an anonymous function<label for="fn7"></label><span><span>Elixir does not let you pipe directly into an anonymous function. In Elixir 1.12.0, <a href="https://hexdocs.pm/elixir/1.12/Kernel.html#then/2"><code>then/2</code></a> was added to remedy this problem.</span></span>:</p>
<pre><code>import gleam/io
import gleam/string

pub fn main() {
  "hello"
  |&gt; string.append("some text ", _)
  |&gt; io.debug()
}
</code></pre>
</section>
<section id="Only-case-statement-no-if">
<h2>Only case statement, no if</h2>
<p>Gleam <a href="https://gleam.run/book/tour/case-expressions.html#checking-equality-and-ordering-in-patterns">doesn’t have an if statement</a>, it uses case for that instead<label for="fn8"></label><span><span>Gleam does use <code>if</code> as a keyword, but only in <a href="https://gleam.run/book/tour/case-expressions.html#checking-equality-and-ordering-in-patterns">guard expressions</a>.</span></span>:</p>
<pre><code>case if_boolean {
  True -&gt; "case statements only"
  False -&gt; "you didn't get a choice"
}
</code></pre>
<p>I like this syntax better than an if statement. It shines a spotlight on the branch, makes it clear which path belongs to which condition, and Gleam will do exhaustiveness checking to force me to handle both cases.</p>
<p>It also makes it easier to refactor into a sum type:</p>
<pre><code>type CaseExample {
  CaseGood
  CaseAnyway
  ThirdOption
}

case case_example {
  CaseGood -&gt; "case statements only"
  CaseAnyway -&gt; "you didn't get a choice"
  ThirdOption -&gt; "more choices!"
}
</code></pre>
</section>
<section id="Sub-pattern-names-using-as">
<h2>Sub pattern names using <code>as</code></h2>
<p>Gleam lets me <a href="https://gleam.run/book/tour/case-expressions.html#assigning-names-to-sub-patterns">assign names to sub-patterns</a> using <code>as</code> in pattern matching expressions. Elixir solved this problem by making <code>=</code> expressions return their value, so you could use them in pattern matching, but I always found that somewhat awkward. <code>as</code> makes it clear that I’m naming a sub-pattern for reuse.</p>
<pre><code>case list {
  [[_, ..] as inner_list] -&gt; inner_list
  other -&gt; []  
}
</code></pre>
<p>Note that Gleam makes it easy to destructure types with custom variables, avoiding the need for <code>as</code>:</p>
<pre><code>// example, use gleam/option.Option instead
type OptionalString {
  Some(string: String)
  None
} 

fn unpack_string(optional_string) {
  case optional_string {
    Some(chosen_variable) -&gt; chosen_variable
    None -&gt; ""
  }
}
</code></pre>
</section>
<section id="Succinct-alternative-clause-patterns-using">
<h2>Succinct alternative clause patterns using <code>|</code></h2>
<p>Gleam lets you succinctly specify <a href="https://gleam.run/book/tour/case-expressions.html#alternative-clause-patterns">alternate patterns</a> in a case statement using <code>|</code>:</p>
<pre><code>type NumberKind {
  Prime
  Composite
}

case number {
  2 | 3 | 5 | 7 -&gt; Prime
  _ -&gt; Composite
}
</code></pre>
</section>
<section id="Support-for-todo-to-mark-uncompleted-work">
<h2>Support for <code>todo</code> to mark uncompleted work</h2>
<p>Gleam includes a <a href="https://gleam.run/book/tour/todo-and-panic.html#todo--panic">todo</a> keyword to indicate that some code isn’t finished. That code will type check, but will raise a warning on compilation:</p>
<pre><code>fn fancy(something: SomeComplexType) {
  todo
}
</code></pre>
<p>The warning:</p>
<blockquote>
<p>This code will crash if it is run. Be sure to finish it before
running your program.</p>
</blockquote>
<p>Gleam lets me add a description to the <code>todo</code> using <code>as</code>:</p>
<pre><code>import gleam/io

pub fn main() {
  let incomplete = fn(x) {
    case x {
      2 | 3 | 5 | 7 -&gt; "Prime"
      _ -&gt; todo as "Something about composite numbers"
    }
  }
  incomplete(7)
  |&gt; io.debug()
}
</code></pre>
</section>
<section id="Takeaways">
<h2>Takeaways</h2>
<p>I really like what Gleam has done with its syntax. Despite my initial misgivings, I’m finding it hard not to play with Gleam as I write this article.</p>
<p>If Gleam’s syntax initially put you off, consider giving it another look. I know I like what I found.</p>
</section>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[An implementation of the NTFS filesystem in a Rust crate (116 pts)]]></title>
            <link>https://github.com/ColinFinck/ntfs</link>
            <guid>38031260</guid>
            <pubDate>Thu, 26 Oct 2023 20:24:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/ColinFinck/ntfs">https://github.com/ColinFinck/ntfs</a>, See on <a href="https://news.ycombinator.com/item?id=38031260">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ColinFinck/ntfs/blob/master/img/ntfs.svg"><img src="https://github.com/ColinFinck/ntfs/raw/master/img/ntfs.svg"></a></p>
<h2 tabindex="-1" id="user-content-ntfs-rust-crate" dir="auto"><a href="#ntfs-rust-crate">ntfs Rust crate</a></h2>
<p dir="auto"><a href="https://crates.io/crates/ntfs" rel="nofollow"><img src="https://camo.githubusercontent.com/9776bb8648f2d06f2090cf5dbd9443835af096cd8de3a9bebda627b1ac48ca30/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f6e746673" alt="crates.io" data-canonical-src="https://img.shields.io/crates/v/ntfs"></a>
<a href="https://docs.rs/ntfs" rel="nofollow"><img src="https://camo.githubusercontent.com/dbc7f25ea8c16d767ccc7be3bdc2719c69b13510e72797b69d47083200252952/68747470733a2f2f696d672e736869656c64732e696f2f646f637372732f6e746673" alt="docs.rs" data-canonical-src="https://img.shields.io/docsrs/ntfs"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/1b7efbac97b9688acca337728fb3716823c143c6a9f0624092284e72ba350ffc/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f6c2f6e746673"><img src="https://camo.githubusercontent.com/1b7efbac97b9688acca337728fb3716823c143c6a9f0624092284e72ba350ffc/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f6c2f6e746673" alt="license: MIT OR Apache-2.0" data-canonical-src="https://img.shields.io/crates/l/ntfs"></a></p>
<p dir="auto"><em>by Colin Finck &lt;<a href="mailto:colin@reactos.org">colin@reactos.org</a>&gt;</em></p>
<p dir="auto">A low-level NTFS filesystem library implemented in Rust.</p>
<p dir="auto"><a href="https://en.wikipedia.org/wiki/NTFS" rel="nofollow">NTFS</a> is the primary filesystem in all versions of Windows (since Windows NT 3.1 in 1993).
This crate is geared towards the NTFS 3.x versions used in Windows 2000 up to the current Windows 11.
However, the basics are expected to be compatible to even earlier versions.</p>
<p dir="auto">The crate is <code>no_std</code>-compatible and therefore usable from firmware-level code up to user-mode applications.</p>
<h2 tabindex="-1" id="user-content-ntfs-shell" dir="auto"><a href="#ntfs-shell">ntfs-shell</a></h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ColinFinck/ntfs/blob/master/img/ntfs-shell.gif"><img src="https://github.com/ColinFinck/ntfs/raw/master/img/ntfs-shell.gif" alt="ntfs-shell demo" data-animated-image=""></a></p>
<p dir="auto">The <code>ntfs-shell</code> example comes with this crate to demonstrate all library features.
Use it to explore the internal structures of an NTFS filesystem at any detail level, even of your running Windows partition.
No artificial security restrictions will block you from accessing files and folders, extracting their data or Alternate Data Streams.
The filesystem is opened read-only, so you can safely browse even a mounted filesystem without worrying about data corruption.
That is also helpful to get an idea of the Windows NTFS driver, e.g. to find out when its lazy writer actually updates the data on disk.</p>
<p dir="auto">I originally wrote <code>ntfs-shell</code> for myself to comfortably develop the library in user-mode before running the code in production in kernel-mode.</p>
<p dir="auto">To build <code>ntfs-shell</code>, just clone this repo and call</p>
<div data-snippet-clipboard-copy-content="cargo build --example ntfs-shell --all-features"><pre><code>cargo build --example ntfs-shell --all-features
</code></pre></div>
<p dir="auto">To run it, pass the path to an NTFS image (on all operating systems) or to a partition (like <code>\\.\C:</code>, on Windows only with administrative privileges) to the resulting <code>ntfs-shell</code> binary.</p>
<p dir="auto">Calling <code>help</code> gives you a list of all supported commands.
<code>help COMMAND</code> details the syntax of that command.</p>
<p dir="auto">Most commands that take a filename also take an NTFS File Record Number (if prepended by <code>/</code>).
This File Record Number may be decimal or hexadecimal (if prepended by <code>0x</code>).
Some examples:</p>
<div data-snippet-clipboard-copy-content="fileinfo Windows
fileinfo /146810
fileinfo /0x23d7a"><pre><code>fileinfo Windows
fileinfo /146810
fileinfo /0x23d7a
</code></pre></div>
<h2 tabindex="-1" id="user-content-library-features" dir="auto"><a href="#library-features">Library Features</a></h2>
<ul dir="auto">
<li>For the impatient: Convenience functions to treat NTFS like any other filesystem and just read files and directories using <code>Read</code>/<code>Seek</code> traits.
At your option, you may also explore the filesystem at any detail level.</li>
<li>Reading arbitrary resident and non-resident attributes, attributes in Attribute Lists, and attributes connected over multiple Attribute List entries, including sparse attribute data.
All of this together enables reading file data and Alternate Data Streams of any size and on-disk structure.</li>
<li>Iterating over a flattened "data-centric" view of the NTFS Attributes, abstracting away any nested Attribute List.</li>
<li>Efficiently finding files in a directory, adhering to the filesystem's $Upcase Table for case-insensitive search.</li>
<li>In-order iteration of directory contents at O(1).</li>
<li>Leveraging Rust's typesystem to handle the various types of NTFS indexes in a typesafe way.</li>
<li>Error propagation through a custom <code>NtfsError</code> type that implements <code>Display</code>.
Where it makes sense, variants have additional fields to pinpoint any error to a specific location.</li>
<li>Full functionality even in a <code>no_std</code> environment with <code>alloc</code>.</li>
<li>No usage of <code>unsafe</code> anywhere. Checked arithmetic where needed.</li>
<li>Platform and endian independence.</li>
</ul>
<h2 tabindex="-1" id="user-content-not-yet-supported" dir="auto"><a href="#not-yet-supported">Not yet supported</a></h2>
<ul dir="auto">
<li>Any write support</li>
<li>Caching for better performance</li>
<li>Compression</li>
<li>Encryption</li>
<li>Journaling</li>
<li>Quotas</li>
<li>Reparse Points</li>
<li>Security Descriptors</li>
</ul>
<h2 tabindex="-1" id="user-content-examples" dir="auto"><a href="#examples">Examples</a></h2>
<p dir="auto">The following example dumps the names of all files and folders in the root directory of a given NTFS filesystem.<br>
The list is directly taken from the NTFS index, hence it's sorted in ascending order with respect to NTFS's understanding of case-insensitive string comparison.</p>
<div dir="auto" data-snippet-clipboard-copy-content="let mut ntfs = Ntfs::new(&amp;mut fs).unwrap();
let root_dir = ntfs.root_directory(&amp;mut fs).unwrap();
let index = root_dir.directory_index(&amp;mut fs).unwrap();
let mut iter = index.entries();

while let Some(entry) = iter.next(&amp;mut fs) {
    let entry = entry.unwrap();
    let file_name = entry.key().unwrap();
    println!(&quot;{}&quot;, file_name.name());
}"><pre><span>let</span> <span>mut</span> ntfs = <span>Ntfs</span><span>::</span><span>new</span><span>(</span><span>&amp;</span><span>mut</span> fs<span>)</span><span>.</span><span>unwrap</span><span>(</span><span>)</span><span>;</span>
<span>let</span> root_dir = ntfs<span>.</span><span>root_directory</span><span>(</span><span>&amp;</span><span>mut</span> fs<span>)</span><span>.</span><span>unwrap</span><span>(</span><span>)</span><span>;</span>
<span>let</span> index = root_dir<span>.</span><span>directory_index</span><span>(</span><span>&amp;</span><span>mut</span> fs<span>)</span><span>.</span><span>unwrap</span><span>(</span><span>)</span><span>;</span>
<span>let</span> <span>mut</span> iter = index<span>.</span><span>entries</span><span>(</span><span>)</span><span>;</span>

<span>while</span> <span>let</span> <span>Some</span><span>(</span>entry<span>)</span> = iter<span>.</span><span>next</span><span>(</span><span>&amp;</span><span>mut</span> fs<span>)</span> <span>{</span>
    <span>let</span> entry = entry<span>.</span><span>unwrap</span><span>(</span><span>)</span><span>;</span>
    <span>let</span> file_name = entry<span>.</span><span>key</span><span>(</span><span>)</span><span>.</span><span>unwrap</span><span>(</span><span>)</span><span>;</span>
    <span>println</span><span>!</span><span>(</span><span>"{}"</span>, file_name.name<span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span></pre></div>
<p dir="auto">Check out the <a href="https://docs.rs/ntfs" rel="nofollow">docs</a>, the tests, and the supplied <code>ntfs-shell</code> application for more examples on how to use the <code>ntfs</code> library.</p>
<h2 tabindex="-1" id="user-content-license" dir="auto"><a href="#license">License</a></h2>
<p dir="auto">This crate is licensed under either of</p>
<ul dir="auto">
<li><a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">Apache License, Version 2.0</a></li>
<li><a href="http://opensource.org/licenses/MIT" rel="nofollow">MIT license</a></li>
</ul>
<p dir="auto">at your option.</p>
<p dir="auto">Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in the work by you, as defined in the Apache-2.0 license, shall be dual licensed as above, without any additional terms or conditions.</p>
<h2 tabindex="-1" id="user-content-further-resources" dir="auto"><a href="#further-resources">Further Resources</a></h2>
<ul dir="auto">
<li><a href="https://flatcap.github.io/linux-ntfs/ntfs/" rel="nofollow">flatcap.github.io linux-ntfs documentation</a></li>
<li><a href="https://github.com/tuxera/ntfs-3g">ntfs-3g driver</a></li>
</ul>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Magical Japanese Art of Luggage Forwarding (286 pts)]]></title>
            <link>https://craigmod.com/ridgeline/170/</link>
            <guid>38030932</guid>
            <pubDate>Thu, 26 Oct 2023 19:56:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://craigmod.com/ridgeline/170/">https://craigmod.com/ridgeline/170/</a>, See on <a href="https://news.ycombinator.com/item?id=38030932">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="satellite_body">

            <p>Hello Ridgeliners!</p>
<p><a href="https://craigmod.com/about/">I</a> don’t aspire to write “Japan travel tip” notes <a href="https://craigmod.com/ridgeline/">here on <em>Ridgeline</em></a>, but this is such an easy trick, and one seemingly rarely known, that I can’t help it.</p>
<hr>
<p>As Japan has seen a resurgence of tourism, I’ve noticed more and more slightly-confused looking folks hauling their colossal suitcases around like traumatized barbarians.</p>
<p>If you’re one of these suitcase luggers, there’s an easy, cheap way to relieve yourself of this burden: <a href="https://www.global-yamato.com/en/hands-free-travel/scene01.html"><em>takkyu-bin</em></a> (pronounced: <em>tah-cue-bean</em>, written sometimes oddly in English as “ta-Q-bin”).</p>
<p>To send a giant suitcase to your next hotel — arriving next day, waiting in your room, handled with utmost care and gentleness — costs about $13 USD (maybe even less considering current exchange rates). Every hotel (from the humblest Dormy Inn to some oligarch-owned Aman) does takkyu-bin. Every hotel has the forms and will help you fill them out. “Hi, I’d like to send my luggage using takkyu-bin.”</p>
<p>Stick an AirTag in your suitcase (heck, AirTags in all the bags, taped onto bicycles, in wallets, passport cases, AirTags within AirTags within AirTags, those dots twinkling in the sky are not stars, they’re AirTags, slotted into and onto anything else bigger than a breadbox and worth more than a shoe), watch it flit lightly about your smartphone screen to your next stop.</p>
<hr>
<p>Even the airports have a takkyu-bin counter. Disembark, breeze through immigration, and head straight there. Send your bags off. Keep a daypack handy with a toothbrush and change of clothes. (Note, also: You don’t <em>really</em> need pajamas when traveling in Japan since every hotel will supply you with them — and yes, sure, they tend to be odd, making you look like a time-traveling Ebenezer Scrooge, but they’re clean and funny and do the job.) Your luggage will be in your room the next day. If you need some emergency undies or T-shirts, any convenience store will supply you with Good Enough stuff (often of Uniqlo or Muji provenance).</p>
<p>Takkyu-bin also works in reverse — send your bags to the airport the day before your return flight. No need to board the Narita Express with trunks capable of holding a dismembered human body. <em>Takyyu-bin takkyu-bin takkyu-bin.</em> Incant the magic phrase and marvel as an unbearable featherweightness fills your sight-seeing life with simple delights.</p>
<hr>
<p>Examples: When my parents visit, we send bags ahead no fewer than <em>four or five times</em> during a two week period. When I do my big walks, I have a supply box (medicine, protein bars, extra clothes) that’s always five days ahead of me — delivered on the day I arrive at an inn down the road.</p>
<p>Which reminds me: You can set day / time of deliveries up to ~two weeks in advance; i.e., the friendly takkyu-bin person picks up your bag today and delivers it, say, ten days later. This is great for having gifts meet you at your final hotel, or even the airport. (Most gift shops will also be able to takkyu-bin stuff ahead for you — it’s everywhere.)</p>
<hr>
<p>That’s it. That’s the whole tip. Ship stuff! It took me more than a decade of living in Japan to <em>notice</em> the takkyu-bin service. (It took me about three years to build up the courage to use a Washlet; five to learn to love natto.) I had never considered shooting my bags ahead of me. Now, I can’t imagine traveling around the country for more than a few days without it. I wish someone had grabbed me by the shoulders in my 20s and said: Good god, young man, just send that bag a-<em>head.</em></p>
<p>I know that for Americans (me, being one of you, commiserating deeply), the thought of sending your suitcases ahead multiple times, reliably and without them being destroyed / damaged / stolen sounds as mythical as a leprechaun that expectorates diamonds on command, but here it is common. This is one of many corollaries that present when the systems and structures of a society elevate common workers — the work done is reliably good work.</p>
<p>So — come to Japan, but please don’t shuck your four hulking Rimowas onto the Shinkansen. Dispatch them ahead. Not only will it be easier for you, but it’ll minimize the stress of everyone else.</p>
<p>My sub-tip would be: Pack sensibly. That is, don’t pack in such a way where you need big suitcases. I realize that that’s not always possible. And, anyway, even for smaller bags — it’s nice to forward them. Train-hopping and exploring cities without baggage encumbrance is a gift you deserve.</p>
<hr>
<p>On the <a href="https://craigmod.com/ridgeline/169/"><em>Things Become Other Things</em> book front</a> — I just finished a mega two week editorial-polishing stretch. I’ve been living in the book, bathing in the book, drinking the book. I feel like I am waking from a book-induced coma. Things have become other things alright — my brain has become cinnamon oatmeal. If the book were luggage, I’ve now hauled it up and down the mountain fifty times because there is no takkyu-bin in book land.</p>
<p><em>TBOT</em>’s November Fine Art edition cover has been finalized. Files have been submitted to the printer. DIC colors have been chosen for silk screening.</p>
<p>More updates soon. Thank you to everyone who responded to <a href="https://forms.gle/QvMHKrh8cPDhixiH9">my book survey</a> (and if you haven’t yet responded, please do!). Each and every kind message is read (and often filed away in my “nice things people have written to me” folder) and greatly appreciated.</p>
<p>For now, travel well, travel light. <em>Takkyu-biiiiiiin.</em></p>
<p>C</p>



            

          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bird with GPS flies into typhoon (221 pts)]]></title>
            <link>https://newatlas.com/biology/bird-typhoon-ride/</link>
            <guid>38030705</guid>
            <pubDate>Thu, 26 Oct 2023 19:37:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://newatlas.com/biology/bird-typhoon-ride/">https://newatlas.com/biology/bird-typhoon-ride/</a>, See on <a href="https://news.ycombinator.com/item?id=38030705">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>In 2019, a bold male seabird threw caution to the wind, flying above Typhoon Faxai as the storm pummeled southeastern Japan. It was the start of an 11-hour, 1,146-km (712-mile) crazy journey, that took the bird 15,000 feet higher than normal, at three times its usual speed, on a ride that his species are quite good at avoiding. Happily, the bird survived and eventually returned to his feathered friends with quite the story to tell.</p><p>Thanks to GPS bio-loggers that had been attached to 14 adult streaked shearwater (<i>Calonectris leucomelas</i>) seabirds in August that year by Tohoku University biologist Kozue Shiomi to track nesting behaviors, scientists were lucky enough to have a record of this nuts nature-defying act, spotting a huge flight pattern anomaly that coincided with the storm.</p><p>While it didn’t affect the other birds, one male managed to get caught up in the atmospheric drama, though researchers can’t say if he had a daredevil streak or was just in the wrong place at the wrong time. But one thing is for certain: the 585-g (1.3-lb) bird didn't have much choice but to 'go with the flow.'</p><p>Throughout the 11-hour epic flight, the bird completed five full loops in circles ranging from 50-80 km (31-50 miles) in diameter, which tracked with the typhoon’s rotation and movement. While the shearwaters usually fly below 100 m (328 ft), this brazen bird found himself in entirely new territory, soaring at an altitude of 4,700 m (15,420 ft). For context, small aircraft fly between 600 and 3,000 m (2,000 and 10,000 feet).</p><p>All the while, the bird was zipping along at 90-170 km/h (56-106 mph). Given that these birds generally cruise at 10-60 km/h (6-37 mph), at his top speed, our aerial adventurer was probably flying on a wing and a prayer.</p><p>The bird took a less-than-scenic route over mainland Japan before being carried back out above the Pacific Ocean as the typhoon swung out to sea. At this point, with the storm’s power subsiding, the bird resumed normal transmission and no doubt had some explaining to do when he returned to his flock over the water near the nesting island.</p><div data-align-center="">
                
                    <figure>
    
    
    
    


<p><img alt="Not as the crow flies: Scientists were able to track the loopy 11-hour journey of the GPS-tagged 'rider on the storm'" width="1226" height="960" data-image-size="articleImage" loading="lazy" data-srcset="https://assets.newatlas.com/dims4/default/6af805f/2147483647/strip/true/crop/1528x1196+0+0/resize/440x345!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png 440w,https://assets.newatlas.com/dims4/default/d6da933/2147483647/strip/true/crop/1528x1196+0+0/resize/800x626!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png 800w,https://assets.newatlas.com/dims4/default/fa85647/2147483647/strip/true/crop/1528x1196+0+0/resize/1200x940!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png 1200w,https://assets.newatlas.com/dims4/default/ce2e5d3/2147483647/strip/true/crop/1528x1196+0+0/resize/1920x1503!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png 1920w" data-src="https://assets.newatlas.com/dims4/default/ee21f79/2147483647/strip/true/crop/1528x1196+0+0/resize/1226x960!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png" sizes="(min-width: 1240px) 800px, (min-width: 1024px) 95vw, 100vw" srcset="https://assets.newatlas.com/dims4/default/6af805f/2147483647/strip/true/crop/1528x1196+0+0/resize/440x345!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png 440w,https://assets.newatlas.com/dims4/default/d6da933/2147483647/strip/true/crop/1528x1196+0+0/resize/800x626!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png 800w,https://assets.newatlas.com/dims4/default/fa85647/2147483647/strip/true/crop/1528x1196+0+0/resize/1200x940!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png 1200w,https://assets.newatlas.com/dims4/default/ce2e5d3/2147483647/strip/true/crop/1528x1196+0+0/resize/1920x1503!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png 1920w" src="https://assets.newatlas.com/dims4/default/ee21f79/2147483647/strip/true/crop/1528x1196+0+0/resize/1226x960!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2F15%2F44%2Fbef55fe04cb094a1f72cb41cf35d%2Fscreenshot-2023-10-26-at-3.28.10%20pm.png">
</p>



    
    

    
        <div><figcaption itemprop="caption">Not as the crow flies: Scientists were able to track the loopy 11-hour journey of the GPS-tagged 'rider on the storm'</figcaption><p>ESA</p></div>
    
</figure>

                
            </div><p>The GPS timeline shows how the bird was, for a while, in the eye of the storm, but then ended up flying in larger loops outside of it. It also had a delayed departure time, which scientists note is unusual for the species.</p><p>“The early evening departure of the bird from the breeding area was also unusual for this species, which usually departs for foraging during several hours before sunrise,” the researchers noted. “This might indicate that the bird attempted to circumnavigate the harsh conditions in advance but failed.”</p><p>They note that it’s impossible to know how much of this journey was planned, but it's just as likely the bird could have opted out of the trip but chose to ‘ride’ the storm instead.</p><p>Regardless, looking at this wild ride highlights the increasing risks that seabird populations could face as climate change drives more extreme weather events.</p><div data-align-center="">
                
                    <figure>
    
    
    
    


<p><img alt="Pelagic birds have many different ways to avoid run-ins with severe weather systems, yet increasingly larger and more frequent storms will likely challenge their skill and resilience" width="1434" height="960" data-image-size="articleImage" loading="lazy" data-srcset="https://assets.newatlas.com/dims4/default/7d37e74/2147483647/strip/true/crop/3000x2008+0+0/resize/440x295!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg 440w,https://assets.newatlas.com/dims4/default/3feafbd/2147483647/strip/true/crop/3000x2008+0+0/resize/800x536!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg 800w,https://assets.newatlas.com/dims4/default/e54dc9d/2147483647/strip/true/crop/3000x2008+0+0/resize/1200x803!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg 1200w,https://assets.newatlas.com/dims4/default/7a5c5f1/2147483647/strip/true/crop/3000x2008+0+0/resize/1920x1285!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg 1920w" data-src="https://assets.newatlas.com/dims4/default/f35d1a1/2147483647/strip/true/crop/3000x2008+0+0/resize/1434x960!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg" sizes="(min-width: 1240px) 800px, (min-width: 1024px) 95vw, 100vw" srcset="https://assets.newatlas.com/dims4/default/7d37e74/2147483647/strip/true/crop/3000x2008+0+0/resize/440x295!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg 440w,https://assets.newatlas.com/dims4/default/3feafbd/2147483647/strip/true/crop/3000x2008+0+0/resize/800x536!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg 800w,https://assets.newatlas.com/dims4/default/e54dc9d/2147483647/strip/true/crop/3000x2008+0+0/resize/1200x803!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg 1200w,https://assets.newatlas.com/dims4/default/7a5c5f1/2147483647/strip/true/crop/3000x2008+0+0/resize/1920x1285!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg 1920w" src="https://assets.newatlas.com/dims4/default/f35d1a1/2147483647/strip/true/crop/3000x2008+0+0/resize/1434x960!/quality/90/?url=http%3A%2F%2Fnewatlas-brightspot.s3.amazonaws.com%2Fb2%2F2c%2Fb43ba1434ddcaa70b4b820763fa5%2Fdepositphotos-312772544-xl.jpg">
</p>



    
    

    
        <div><figcaption itemprop="caption">Pelagic birds have many different ways to avoid run-ins with severe weather systems, yet increasingly larger and more frequent storms will likely challenge their skill and resilience</figcaption></div>
    
</figure>

                
            </div><p>Pelagic birds, like this streaked shearwater, spend most of their lives over the open ocean, flying to land only to breed. They have a wide range of inclement weather avoidance mechanisms and behaviors, varying from staying in the eye of a storm to ascending to high altitudes above the disturbance.</p><p>However, more frequent, larger hurricanes are making it an increasingly difficult task for many species of birds to combat.</p><p>Shiomi noted that more research into how pelagic birds are dealing with more extreme weather events is vital, in order to see if and how these species are responding to the rapid changes.</p><p>The research was published in the journal <i><a href="https://esajournals.onlinelibrary.wiley.com/doi/10.1002/ecy.4161" target="_blank" data-cms-ai="0">Ecology</a></i>.</p><p>Source: <a href="https://www.esa.org/blog/2023/10/rider-on-the-storm-shearwater-seabird-catches-an-11-hour-ride-over-1000-miles-in-a-typhoon/" target="_blank" data-cms-ai="0">Ecological Society of America</a><br></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[War Thunder game engine released under BSD license (215 pts)]]></title>
            <link>https://github.com/GaijinEntertainment/DagorEngine</link>
            <guid>38030050</guid>
            <pubDate>Thu, 26 Oct 2023 18:47:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/GaijinEntertainment/DagorEngine">https://github.com/GaijinEntertainment/DagorEngine</a>, See on <a href="https://news.ycombinator.com/item?id=38030050">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
          <p>      A tag already exists with the provided branch name. Many Git commands accept both tag and branch names, so creating this branch may cause unexpected behavior. Are you sure you want to create this branch?
</p>

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Roombas at the end of the world (141 pts)]]></title>
            <link>https://spectrum.ieee.org/south-pole-roombas</link>
            <guid>38029893</guid>
            <pubDate>Thu, 26 Oct 2023 18:37:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://spectrum.ieee.org/south-pole-roombas">https://spectrum.ieee.org/south-pole-roombas</a>, See on <a href="https://news.ycombinator.com/item?id=38029893">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-elid="2665973683" data-post-url="https://spectrum.ieee.org/south-pole-roombas" data-authors="Evan Ackerman" data-headline="Roombas at the End of the World" data-page-title="Roombas at the End of the World - IEEE Spectrum"><p><a href="https://www.nsf.gov/geo/opp/support/southp.jsp" target="_blank">Amundsen–Scott South Pole Station</a> is a permanent scientific research base located at what is arguably the most isolated place on Earth. During the austral summer, the station is home to about 150 scientists and support staff, but during the austral winter, that number shrinks to just 40 or so, and those people are completely isolated from the rest of the world from mid-February until late October. For eight months, the station has to survive on its own, without deliveries of food, fuel, spare parts, or anything else. Only in <a href="https://www.southpolestation.com/trivia/10s/medevac.html" rel="noopener noreferrer" target="_blank">the most serious of medical emergencies</a> will a plane attempt to reach the station in the winter.
</p><p>
	While the station’s humans rotate seasonally, there are in fact four full-time residents: the South Pole Roombas. First, there was Bert, a <a href="https://robotsguide.com/robots/roomba" target="_blank">Roomba</a> 652, who arrived at the station in 2018 and was for a time the loneliest robot in the world. Since the station has two floors, Bert was joined by Ernie, a Roomba 690, in 2019. A second pair of Roombas, Sam and Frodo, followed soon after.
</p><p>
	These Roombas are at the South Pole to do what Roombas do: help keep the floors clean. But for the people who call the South Pole home for months on end, it turns out that these little robots have been able provide some much-needed distraction in a place where things stay more or less the same all of the time, and where pets, plants, and even dirt is explicitly outlawed by the Antarctic Treaty in the name of ecological preservation.
</p><hr><p>
	For the last year, an anonymous IT engineer has been <a href="https://brr.fyi/" rel="noopener noreferrer" target="_blank">blogging about his experiences</a> working first at McMurdo Station (on the Antarctic coast south of New Zealand), and later at Amundsen–Scott South Pole Station, where he’s currently spending the winter as part of the station’s support staff. <a href="https://brr.fyi/" rel="noopener noreferrer" target="_blank">His blog</a> includes mundane yet fascinating accounts of what day-to-day life is like at the South Pole, including <a href="https://brr.fyi/posts/showering-at-the-south-pole" rel="noopener noreferrer" target="_blank">how showering works</a> (four minutes per person per week), <a href="https://brr.fyi/posts/south-pole-electrical-infrastructure" rel="noopener noreferrer" target="_blank">where the electricity comes from</a> (a huge amount of aviation fuel hauled over land from the coast that will power generators), and <a href="https://brr.fyi/posts/the-last-egg" rel="noopener noreferrer" target="_blank">the fate of the last egg for five months</a> (over medium with salt and pepper).</p><p>The engineer also devoted an entire post to <a href="https://brr.fyi/posts/south-pole-signage" rel="noopener noreferrer" target="_blank">signage at the South Pole</a>, at the very end of which was this picture, which raised some questions for me:</p><p><img alt="A close up picture of  the top of a Roomba showing some small eye stickers, a sticker with the name &quot;Ernie,&quot; and a sticker that says &quot;it was so cold.&quot;" data-rm-shortcode-id="b00a80f7c894415773f2e5c4821c9919" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/a-close-up-picture-of-the-top-of-a-roomba-showing-some-small-eye-stickers-a-sticker-with-the-name-ernie-and-a-sticker-that.jpg?id=49795821&amp;width=980" height="3000" id="c2dd8" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/a-close-up-picture-of-the-top-of-a-roomba-showing-some-small-eye-stickers-a-sticker-with-the-name-ernie-and-a-sticker-that.jpg?id=49795821&amp;width=980" width="4000"><small placeholder="Add Photo Caption...">Ernie, a Roomba living at the south pole.</small><small placeholder="Add Photo Credit..."><a href="https://brr.fyi/posts/south-pole-signage" target="_blank">brr.fyi</a></small></p><p>
	Ernie, it turns out, has had a dramatic and occasionally harrowing life at the South Pole station. After Ernie arrived in 2019 to clean one floor of the station, lore began to develop that Ernie and its partner Bert (tasked with cleaning the floor above) were “<a href="https://twitter.com/weblogarithms/status/1474984238097125379" rel="noopener noreferrer" target="_blank">star-crossed lovers, forever separated by the impenetrable barrier of the staircase</a>.” That quote comes from <a href="https://amylowitz.com/" rel="noopener noreferrer" target="_blank">Amy Lowitz</a>, a member of the <a href="https://pole.uchicago.edu/public/Home.html" rel="noopener noreferrer" target="_blank">South Pole Telescope</a> team, who <a href="http://amylowitz.com/SouthPole/" rel="noopener noreferrer" target="_blank">overwintered at the pole in 2016</a> and has spent many summers there. “I think I made that joke every year when a new group of people comes to the pole for the summer,” Lowitz tells I<em>EEE Spectrum</em>. “There’s only so many things to talk about, so eventually the Roombas come up in conversation.” Happily for Ernie, Lowitz says that it’s now on the same floor as Bert, with the new Roombas Sam and Frodo teaming up on the floor below.
</p><p>
	But Ernie’s presumed joy at finally being united with Bert was not to last—in January of 2020, Ernie went missing. The <a href="https://twitter.com/SPTelescope" target="_blank">Twitter account of the South Pole Telescope</a> posted photos pleading for Ernie’s return, and a small memorial appeared at Ernie’s docking station.
</p><p><img alt="A Twitter post shows two pictures, including a lost poster for the Roomba Ernie, and flowers near a sign for Ernie." data-rm-shortcode-id="6ce084ff14ba8ee49d0d9cdfc43b4bfb" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/a-twitter-post-shows-two-pictures-including-a-lost-poster-for-the-roomba-ernie-and-flowers-near-a-sign-for-ernie.jpg?id=49813864&amp;width=980" height="1267" id="7ce63" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/a-twitter-post-shows-two-pictures-including-a-lost-poster-for-the-roomba-ernie-and-flowers-near-a-sign-for-ernie.jpg?id=49813864&amp;width=980" width="1742"><small placeholder="Add Photo Credit..."><a href="https://twitter.com/SPTelescope" rel="noopener noreferrer" target="_blank">SPT</a></small></p><p>Soon, things took a more sinister (amusingly sinister) turn. Kyle Ferguson is a South Pole Telescope team member who was at the station in the summer of 2020 when Ernie went missing, and has vivid memories of the drama that ensued:</p><blockquote>I believe it started with just one poster that went up outside of the galley, with a picture of two people calling themselves the Cookie Monsters posing in balaclavas and standing on a staircase holding Ernie. It said something like, ‘if you ever want to see Ernie alive again, leave a tray of chocolate chip cookies in such and such location and we will return him safely.’ So that was the initial ransom.</blockquote><p><img alt="A twitter post showing two people with nerf guns and a roomba on ransom notes." data-rm-shortcode-id="1351a4f49e0b2fffec379d5cf564b60f" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/a-twitter-post-showing-two-people-with-nerf-guns-and-a-roomba-on-ransom-notes.jpg?id=49813876&amp;width=980" height="1189" id="8a0b2" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/a-twitter-post-showing-two-people-with-nerf-guns-and-a-roomba-on-ransom-notes.jpg?id=49813876&amp;width=980" width="1733"><small placeholder="Add Photo Credit..."><a href="https://twitter.com/SPTelescope" rel="noopener noreferrer" target="_blank">SPT</a></small></p><blockquote>As tends to happen in a community like this, things sort of took off from there—everybody ran with it in their own direction. So, on that wall outside of the galley, there evolved a narrative where people were trying to mount rescue missions, and there were sign up sheets for that. And there were people saying, ‘we won’t negotiate with you until you provide proof of life.’<p>Down the hallway, there was another narrative where people had assumed the worst: that the kidnappers had ended poor Ernie’s life prematurely. So the memorial that had sprung up for Ernie next to one of the water fountains grew. There were fake flowers and Tootsie rolls, and some people put some trash there, just in homage—trash that Ernie would never be able to sweep up. I even ended up writing a parody of the song ‘5,000 Candles in the Wind’ from Parks and Recreation for Ernie, and singing it at an open mic night.</p></blockquote><p><img alt="A Twitter post shows two roombas, flowers, and signs." data-rm-shortcode-id="bf2d93ded71273058144006c142013b6" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/a-twitter-post-shows-two-roombas-flowers-and-signs.jpg?id=49813889&amp;width=980" height="1912" id="57cf7" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/a-twitter-post-shows-two-roombas-flowers-and-signs.jpg?id=49813889&amp;width=980" width="1713"><small placeholder="Add Photo Credit..."><a href="https://twitter.com/SPTelescope/status/1224166990941761536" target="_blank">SPT</a></small></p><blockquote>But Ernie did come back. Those of us who believed that he had perished (I was one of those) were in the wrong. Someone claimed that the cookies had been delivered, and that the kidnappers should give Ernie back, and then there was a poster that went up that said Ernie was found abandoned underneath one of the staircases. He was rescued and revived by the Cookie Monsters. So, the kidnappers sort of got credit for saving him in the end.</blockquote><p>Ferguson suspects that Ernie’s “IT WAS SO COLD” sticker was acquired after the robot’s brief trip outside with the kidnappers. Summer temperatures at the south pole average around -28°C, substantially below the operating temperature of a Roomba, although when we spoke to Ferguson for this article during the South Pole winter, it was closer to -80°C outside the station, including wind chill.</p><p>The harsh weather and isolation may help explain why Ernie and his Roomba brethren get so much attention from the station residents. “There’s more to do at the South Pole than people think,” Amy Lowitz tells us, “but you’re still pretty much within a half mile radius of the main station, all of the time. So people get a little bored and a little stir crazy, and we look for <a href="https://www.wiffa.aq/en/film/1049" rel="noopener noreferrer" target="_blank">new and strange ways to entertain ourselves</a>. The ransom notes were just some goofy hijinks from some bored people at the South Pole.”</p><p>Lowitz also remembers a party where either Bert or Ernie was drafted as a DJ, with a Bluetooth speaker and some fancy lighting. “We had it running around up on a table so that people wouldn’t trip over it,” she recalls. And as recently as this winter, says Kyle Ferguson, a befurred Roomba could be seen on station: “Someone put up a silly ‘lost cat’ poster earlier in the winter, with a picture not even of a cat but of like a raccoon or something. And then someone else took that and decided to run with it, so they had this fake raccoon fur that they put to the top of one of the Roombas and sent it out to wander the hallways.”</p><p><img alt="A photo of a Roomba that is mostly covered by the skin of a raccoon." data-rm-shortcode-id="46a03f0ee44e5025841967c05f1c91b6" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/a-photo-of-a-roomba-that-is-mostly-covered-by-the-skin-of-a-raccoon.jpg?id=49795866&amp;width=980" height="3024" id="6f678" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/a-photo-of-a-roomba-that-is-mostly-covered-by-the-skin-of-a-raccoon.jpg?id=49795866&amp;width=980" width="4032"><small placeholder="Add Photo Caption...">Sam, the “station cat.”</small><small placeholder="Add Photo Credit...">Kyle Ferguson</small></p><p>Covering a Roomba with fur may be getting the robot a little closer to what people at the South Pole are actually missing, suggests Lowitz: “my guess is that at least some Polies [i.e. South Pole residents] are into the Roombas because we’re not allowed to have pets at the South Pole, and when there are these little Roombas running around, it’s sort of close. People do odd things at that altitude [the <a href="https://brr.fyi/posts/pressure-altitude" target="_blank">pressure altitude</a> at the south pole is nearly 3500 meters], and when they miss home… a Roomba is just like a cute little thing to personify and pay attention to.”<br></p><p>Ferguson agrees. “We all miss our pets down here. Sometimes we joke about trying to smuggle down a puppy or a kitten even though it’s a huge violation of the Antarctic Treaty. One of the things that I think gives the Roombas some of their charm is how they keep running into walls. If I was to ascribe a personality to them, it would be kind of dumb and aloof, which evokes some of those pet memories—maybe like the time that your dog ate something it shouldn’t have.”<br></p><p><img alt="A close up photo of a Roomba on a floor sprinkled with popcorn pieces." data-rm-shortcode-id="03f0702398a26e05b728340bb4935d12" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/a-close-up-photo-of-a-roomba-on-a-floor-sprinkled-with-popcorn-pieces.jpg?id=49795867&amp;width=980" height="3024" id="3e19c" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/a-close-up-photo-of-a-roomba-on-a-floor-sprinkled-with-popcorn-pieces.jpg?id=49795867&amp;width=980" width="4032"><small placeholder="Add Photo Caption...">A recent picture of Ernie, who is currently living underneath a popcorn machine.</small><small placeholder="Add Photo Credit...">Kyle Ferguson</small></p><p>Sadly, we’ve heard that the South Pole Roombas are not at their Roomb-iest right now. They’re not as young as they used to be, and getting spare parts (like new batteries) is only possible during the austral summer and requires a lead time of six months. We’ll be checking in on Bert, Ernie, Sam, and Frodo towards the end of the year once the Amundsen–Scott South Pole Station reopens for the austral summer. But for now, please enjoy the lyrics to Kyle Ferguson’s Ernie-themed “5000 Candles in the Wind” parody, adapted from ‘<a href="https://www.youtube.com/watch?v=mjKR-HAUnz4" rel="noopener noreferrer" target="_blank">5,000 Candles in the Wind</a>’ from <a href="https://www.youtube.com/watch?v=WEv0bl7oodU&amp;t=162s" rel="noopener noreferrer" target="_blank"><em>Parks and Recreation</em></a><em>.</em></p><p><em></em><em>Up in Roomba Heaven, here’s the thing;</em></p><p><em>You trade your wheels for angel’s wings,</em></p><p><em>And once we’ve all said goodbye,</em></p><p><em>You stop running into walls and you learn to fly.</em></p><p><em>Bye-bye, Roomba Ernie.</em></p><p><em>You were taken from us too early.</em></p><p><em>Bye-bye, Roomba Ernie.</em></p><p><em>You’re 5,000 candles in the wind.</em></p><p><em>Though we all miss you everyday,</em></p><p><em>We know you’re up there cleaning heaven’s waste.</em></p><p><em>Here’s the part that hurts the most:</em></p><p><em>Humans cannot recharge a ghost.</em></p><p><em>Bye-bye, Roomba Ernie.</em></p><p><em>You were taken from us too early.</em></p><p><em>Bye-bye, Roomba Ernie.</em></p><p><em>You’re 5,000 candles in the wind.</em></p><p><em>EVERYBODY NOW!</em></p><p><em>Bye-bye, Roomba Ernie.</em></p><p><em>You were taken from us too early.</em></p><p><em>Bye-bye, Roomba Ernie.</em></p><p><em>You’re 5,000 candles in the wind.</em></p><p><em>Maybe some day you’ll clean these halls again.</em></p><p><em>And I know I’ll always miss my Roomb-iest friend.</em></p><p><em>Spread your wings and fly.</em></p><p><em></em>Special thanks to the National Science Foundation, <a href="https://brr.fyi/" target="_blank">brr.fyi</a>, and the Polies that we spoke to for this article. And if you’d like even more South Pole winter shenanigans, there’s an <a href="https://www.wiffa.aq/en" target="_blank">Antarctic Film Festival</a> open to all of the research stations in Antarctica. Kyle Ferguson stars in <em>John Wiff</em>, an action movie that was written, filmed, and produced in just 48 hours, and you can watch it <a href="https://www.wiffa.aq/en/film/1049" target="_blank">here</a> (mildly NSFW for a truly astonishing amount of Nerf gun violence).</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Making PostgreSQL tick: New features in pg_cron (150 pts)]]></title>
            <link>https://www.citusdata.com/blog/2023/10/26/making-postgres-tick-new-features-in-pg-cron/</link>
            <guid>38029671</guid>
            <pubDate>Thu, 26 Oct 2023 18:21:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.citusdata.com/blog/2023/10/26/making-postgres-tick-new-features-in-pg-cron/">https://www.citusdata.com/blog/2023/10/26/making-postgres-tick-new-features-in-pg-cron/</a>, See on <a href="https://news.ycombinator.com/item?id=38029671">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="article-header">  <p> <small> <span>Written by</span> <a href="https://www.citusdata.com/blog/authors/marco-slot/"><strong>Marco Slot</strong></a> <br> October 26, 2023 </small> </p> </div><div data-sticky-container=""> <p><a href="https://github.com/citusdata/pg_cron">pg_cron</a> is an open source PostgreSQL extension that provides a cron-based scheduler to periodically run SQL commands. Almost every managed PostgreSQL service supports pg_cron and it has become a standard tool for many PostgreSQL users. Since <a href="https://github.com/citusdata/citus">Citus</a> has been my full-time job, pg_cron has always been a side project for me, and so I tried to architect it for simplicity, reliability, and low maintenance. Of course, with many users there is a long list of feature requests, and with the help of the Postgres community pg_cron keeps becoming more and more capable over time.</p> <p>We recently added PostgreSQL 16 support (in version 1.6), but perhaps the most exciting feature added to pg_cron in the past year (in version 1.5) is the ability to schedule a job every few seconds. I shunned this feature idea for a while, because (a) it is not something regular cron can do; and (b) any issue in pg_cron would get much more severe if it were to happen every few seconds. However, by now pg_cron is reasonably battle-tested and second-granularity jobs had become the most popular pg_cron feature request by far. </p> <h2>Schedule a job every few seconds</h2> <p>Being able to run second-granularity jobs enables you to react quickly to incoming events in your database. Some example use cases include:</p> <ul> <li>update aggregations for real-time insights</li> <li>detect anomalies (e.g. many requests from the same IP)</li> <li>poll external sources (e.g. frequently sync from a remote server)</li> <li>implement more sophisticated job scheduling workflows</li> </ul> <p>Since pg_cron 1.5, you can easily schedule jobs that run every 1-59 seconds:</p> <div> <pre><code><span>-- Call my procedure every 10 seconds</span>
<span>SELECT</span> <span>cron</span><span>.</span><span>schedule</span><span>(</span><span>'call-my-agent'</span><span>,</span> <span>'10 seconds'</span><span>,</span> <span>'call my_agent()'</span><span>)</span>
</code></pre></div> <p>The reason for not allowing intervals higher than 59 seconds is that existing cron schedules already allow for running a job every minute, and that logic more reliably deals with clock jumps. The reason for not allowing lower intervals (e.g. milliseconds) is that this is a different type of workload which might cause issues. Hence, 1-59 seemed like a safe range for a low maintenance, mission-critical project.</p> <p><strong>Tip</strong>: Be careful that every job run is still logged in <code>cron.job_run_details</code> by default, which can grow very large after months of running jobs every few seconds. You could decide to disable the <code>cron.log_run</code> setting if you expect a very high volume. It is recommended that you at least set up a pg_cron job to clean up after pg_cron:</p> <div> <pre><code><span>-- Delete old cron.job_run_details records of the current user every day at noon</span>
<span>SELECT</span>  <span>cron</span><span>.</span><span>schedule</span><span>(</span><span>'delete-job-run-details'</span><span>,</span> <span>'0 12 * * *'</span><span>,</span> <span>$$</span><span>DELETE</span> <span>FROM</span> <span>cron</span><span>.</span><span>job_run_details</span> <span>WHERE</span> <span>end_time</span> <span>&lt;</span> <span>now</span><span>()</span> <span>-</span> <span>interval</span> <span>'3 days'</span><span>$$</span><span>);</span>
</code></pre></div> <h2>Scalable parallel job queue executor in PostgreSQL</h2> <p>Second-granularity scheduling enables you to use <a href="https://github.com/citusdata/pg_cron">pg_cron</a> as a foundational scheduling primitive on top of which you can build more sophisticated schedulers, without having to modify pg_cron itself.</p> <p>A common request from pg_cron users is the ability to schedule one-off commands, which would be helpful for moving a large task into the background or scheduling many separate operations at once. For example, you may want to load batches of data from another system, apply transformations, perform an operation on many different tables, and more. However, that also brings in many questions around failure handling that pg_cron is not meant to answer. Instead, you could build such infrastructure on top of pg_cron.</p> <p>Below, we give a basic (public domain) implementation of a job queue executor for one-off jobs in PL/pgSQL on top of pg_cron:</p> <div> <pre><code><span>-- table to track jobs to be executed immediately</span>
<span>CREATE</span> <span>TABLE</span> <span>job_queue</span> <span>(</span>
  <span>jobid</span> <span>bigserial</span> <span>primary</span> <span>key</span><span>,</span>
  <span>command</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
  <span>search_path</span> <span>text</span> <span>not</span> <span>null</span> <span>default</span> <span>'pg_catalog'</span><span>,</span>
  <span>attempts</span> <span>int</span> <span>not</span> <span>null</span> <span>default</span> <span>0</span><span>,</span>
  <span>max_attempts</span> <span>int</span> <span>not</span> <span>null</span> <span>default</span> <span>5</span><span>,</span>
  <span>last_attempt</span> <span>timestamptz</span><span>,</span>
  <span>last_error</span> <span>text</span>
<span>);</span>

<span>-- table to track job failures</span>
<span>CREATE</span> <span>TABLE</span> <span>job_errors</span> <span>(</span>
  <span>jobid</span> <span>bigint</span> <span>not</span> <span>null</span><span>,</span>
  <span>command</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
  <span>message</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
  <span>start_time</span> <span>timestamptz</span> <span>not</span> <span>null</span><span>,</span>
  <span>end_time</span> <span>timestamptz</span> <span>not</span> <span>null</span>
<span>);</span>

<span>CREATE</span> <span>OR</span> <span>REPLACE</span> <span>FUNCTION</span> <span>schedule_once</span><span>(</span><span>p_command</span> <span>text</span><span>)</span>
<span>RETURNS</span> <span>void</span> <span>LANGUAGE</span> <span>plpgsql</span> <span>AS</span> <span>$</span><span>fn</span><span>$</span>
<span>BEGIN</span>
  <span>INSERT</span> <span>INTO</span> <span>job_queue</span> <span>(</span><span>command</span><span>,</span> <span>search_path</span><span>)</span>
  <span>VALUES</span> <span>(</span><span>p_command</span><span>,</span> <span>current_setting</span><span>(</span><span>'search_path'</span><span>));</span>
<span>END</span><span>;</span> <span>$</span><span>fn</span><span>$</span><span>;</span>

<span>CREATE</span> <span>OR</span> <span>REPLACE</span> <span>PROCEDURE</span> <span>run_jobs</span><span>()</span>
<span>LANGUAGE</span> <span>plpgsql</span> <span>AS</span> <span>$</span><span>fn</span><span>$</span>
<span>DECLARE</span>
  <span>v_ctid</span> <span>tid</span><span>;</span>
  <span>v_jobid</span> <span>bigint</span><span>;</span>
  <span>v_command</span> <span>text</span><span>;</span>
  <span>v_search_path</span> <span>text</span><span>;</span>
  <span>v_message</span> <span>text</span><span>;</span>
  <span>v_success</span> <span>bool</span><span>;</span>
  <span>v_attempts</span> <span>int</span><span>;</span>
  <span>v_max_attempts</span> <span>int</span><span>;</span>
  <span>v_start_time</span> <span>timestamptz</span><span>;</span>
  <span>v_end_time</span> <span>timestamptz</span><span>;</span>
<span>BEGIN</span>
  <span>LOOP</span>
    <span>-- get a job from the queue</span>
    <span>SELECT</span> <span>ctid</span><span>,</span> <span>jobid</span><span>,</span> <span>command</span><span>,</span> <span>search_path</span><span>,</span> <span>attempts</span> <span>+</span> <span>1</span><span>,</span> <span>max_attempts</span>
    <span>INTO</span> <span>v_ctid</span><span>,</span> <span>v_jobid</span><span>,</span> <span>v_command</span><span>,</span> <span>v_search_path</span><span>,</span> <span>v_attempts</span><span>,</span> <span>v_max_attempts</span>
    <span>FROM</span> <span>job_queue</span>
    <span>WHERE</span> <span>last_attempt</span> <span>is</span> <span>null</span> <span>OR</span> <span>last_attempt</span> <span>&lt;</span> <span>now</span><span>()</span> <span>-</span> <span>interval</span> <span>'10 seconds'</span>
    <span>LIMIT</span> <span>1</span> <span>FOR</span> <span>UPDATE</span> <span>SKIP</span> <span>LOCKED</span><span>;</span>

    <span>IF</span> <span>NOT</span> <span>FOUND</span> <span>THEN</span>
      <span>-- no jobs found, exit, but will resume soon</span>
      <span>EXIT</span><span>;</span>
    <span>END</span> <span>IF</span><span>;</span>

    <span>v_start_time</span> <span>:</span><span>=</span> <span>now</span><span>();</span>

    <span>BEGIN</span>
      <span>-- Execute the command</span>
      <span>SET</span> <span>LOCAL</span> <span>search_path</span> <span>TO</span> <span>v_search_path</span><span>;</span>
      <span>EXECUTE</span> <span>v_command</span><span>;</span>
      <span>RESET</span> <span>search_path</span><span>;</span>
      <span>v_message</span> <span>:</span><span>=</span> <span>'Success'</span><span>;</span>
      <span>v_success</span> <span>:</span><span>=</span> <span>true</span><span>;</span>
    <span>EXCEPTION</span> <span>WHEN</span> <span>others</span> <span>THEN</span>
      <span>-- Command failed, log and store the error message</span>
      <span>RAISE</span> <span>WARNING</span> <span>'scheduled job failed: %'</span><span>,</span> <span>SQLERRM</span><span>;</span>
      <span>v_message</span> <span>:</span><span>=</span> <span>SQLERRM</span><span>;</span>
      <span>v_success</span> <span>:</span><span>=</span> <span>false</span><span>;</span>
    <span>END</span><span>;</span>

    <span>v_end_time</span> <span>:</span><span>=</span> <span>now</span><span>();</span>

    <span>IF</span> <span>v_success</span> <span>OR</span> <span>v_attempts</span> <span>&gt;=</span> <span>v_max_attempts</span> <span>THEN</span>
      <span>-- delete the job if it was successful or we did more than max attempts</span>
      <span>DELETE</span> <span>FROM</span> <span>job_queue</span> <span>WHERE</span> <span>ctid</span> <span>=</span> <span>v_ctid</span><span>;</span>

      <span>IF</span> <span>NOT</span> <span>v_success</span> <span>THEN</span>
        <span>-- we currently only log in case of error to minimize redundant inserts</span>
        <span>INSERT</span> <span>INTO</span> <span>job_errors</span> <span>(</span><span>jobid</span><span>,</span> <span>command</span><span>,</span> <span>message</span><span>,</span> <span>start_time</span><span>,</span> <span>end_time</span><span>)</span>
        <span>VALUES</span> <span>(</span><span>v_jobid</span><span>,</span> <span>v_command</span><span>,</span> <span>v_message</span><span>,</span> <span>v_start_time</span><span>,</span> <span>now</span><span>());</span>
      <span>END</span> <span>IF</span><span>;</span>
    <span>ELSE</span>
      <span>-- update the attempt number and try again later</span>
      <span>UPDATE</span> <span>job_queue</span>
      <span>SET</span> <span>attempts</span> <span>=</span> <span>v_attempts</span><span>,</span> <span>last_attempt</span> <span>=</span> <span>now</span><span>(),</span> <span>last_error</span> <span>=</span> <span>v_message</span>
      <span>WHERE</span> <span>ctid</span> <span>=</span> <span>v_ctid</span><span>;</span>
    <span>END</span> <span>IF</span><span>;</span>

    <span>COMMIT</span><span>;</span>
  <span>END</span> <span>LOOP</span><span>;</span>
<span>END</span><span>;</span> <span>$</span><span>fn</span><span>$</span><span>;</span>

<span>-- Run up to 4 jobs concurrently via pg_cron</span>
<span>SELECT</span> <span>cron</span><span>.</span><span>schedule</span><span>(</span><span>'job-runner-1'</span><span>,</span> <span>'5 seconds'</span><span>,</span> <span>'call run_jobs()'</span><span>);</span>
<span>SELECT</span> <span>cron</span><span>.</span><span>schedule</span><span>(</span><span>'job-runner-2'</span><span>,</span> <span>'5 seconds'</span><span>,</span> <span>'call run_jobs()'</span><span>);</span>
<span>SELECT</span> <span>cron</span><span>.</span><span>schedule</span><span>(</span><span>'job-runner-3'</span><span>,</span> <span>'5 seconds'</span><span>,</span> <span>'call run_jobs()'</span><span>);</span>
<span>SELECT</span> <span>cron</span><span>.</span><span>schedule</span><span>(</span><span>'job-runner-4'</span><span>,</span> <span>'5 seconds'</span><span>,</span> <span>'call run_jobs()'</span><span>);</span>
</code></pre></div> <p>With the job queue set up, you can now schedule one-off jobs which will typically start within 5 seconds and will finish even if you disconnect:</p> <div> <pre><code><span>-- start a long-running job in the background:</span>
<span>select</span> <span>schedule_once</span><span>(</span><span>'create table random as select random() from generate_series(1,10000000) s'</span><span>);</span>
</code></pre></div> <p>The system can run multiple jobs in parallel, and once active it will keep running jobs in quick succession without the overhead of spawning a new process, which enables it to scale to a large number of jobs. The <code>run_jobs</code> procedure will also retry each job up to 5 times, with at least 10 seconds between runs. Permanent errors are logged into the <code>job_errors</code> table.</p> <p><strong>Tip:</strong> Keep in mind that your <code>cron.job_run_details</code> table will fill up rapidly when using this pattern. Consider disabling the <code>cron.log_run</code> setting (to skip <code>cron.job_run_details</code>) and/or the <code>cron.log_statement</code> setting (to skip PostgreSQL log) in your settings when using this pattern.</p> <h2>Example of using pg_cron in a job queue pattern</h2> <p>There are countless ways in which this job queue pattern can be used. An interesting example for <a href="https://github.com/citusdata/citus">Citus</a> database users could be to manage a large number of schemas when using <a href="https://www.citusdata.com/blog/2023/07/18/citus-12-schema-based-sharding-for-postgres/">schema-based sharding</a>. For instance, if you want to add a new column in many schemas:</p> <div> <pre><code><span>-- add a column to a table in all distributed schemas:</span>
<span>select</span> <span>schedule_once</span><span>(</span><span>format</span><span>(</span><span>'alter table %I.data add column extra jsonb'</span><span>,</span> <span>schema_name</span><span>))</span> <span>from</span> <span>citus_schemas</span><span>;</span>
</code></pre></div> <p>By performing an ALTER TABLE operation this way instead of iterating over the Postgres schemas, you can avoid running a long-running transaction that holds aggressive locks and can effectively parallelize the work.</p> <h2>Happy job scheduling with pg_cron!</h2> <p>Hopefully this post gives you other ideas for how you can use pg_cron to automate your PostgreSQL workflows. If you want to get started, the main documentation for pg_cron is in the <a href="https://github.com/citusdata/pg_cron">pg_cron GitHub repo</a>.</p>  <div> <h3> Enjoy what you’re reading? </h3> <p>If you want to read more posts from our Citus database and Postgres teams, sign up for our monthly newsletter and get the latest content delivered straight to your inbox.</p>    </div>     </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Cities Skylines 2 runs with 20fps on an Nvidia RTX4090 (241 pts)]]></title>
            <link>https://www.dsogaming.com/pc-performance-analyses/cities-skylines-2-runs-with-20fps-on-an-nvidia-rtx4090-at-4k-high-even-on-an-empty-map/</link>
            <guid>38029479</guid>
            <pubDate>Thu, 26 Oct 2023 18:08:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.dsogaming.com/pc-performance-analyses/cities-skylines-2-runs-with-20fps-on-an-nvidia-rtx4090-at-4k-high-even-on-an-empty-map/">https://www.dsogaming.com/pc-performance-analyses/cities-skylines-2-runs-with-20fps-on-an-nvidia-rtx4090-at-4k-high-even-on-an-empty-map/</a>, See on <a href="https://news.ycombinator.com/item?id=38029479">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page">

	<div id="primary" role="main">
			
<article id="post-175330">
	
		<p><img width="672" height="372" src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities-Skylines-2-feature-3-672x372.jpg" alt="Cities Skylines 2 feature-3" decoding="async" fetchpriority="high" srcset="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities-Skylines-2-feature-3-672x372.jpg 672w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities-Skylines-2-feature-3-1038x576.jpg 1038w" sizes="(max-width: 672px) 100vw, 672px">		</p>

		
	<!-- .entry-header -->

		<div>
		<p>Paradox Interactive has released its latest city builder, Cities Skylines 2. Unfortunately, though, this is one of the worst-optimized PC games of 2023. Cities Skylines 2, even on a completely new/empty map, runs with 20fps on an NVIDIA GeForce RTX 4090 at 4K/High.<span id="more-175330"></span></p>
<p>I’m truly shocked by how bad this game runs. And if this city builder used Ray Tracing or Path Tracing, I wouldn’t be complaining. We know that Ray Tracing and Path Tracing are really demanding. But no, Cities Skylines 2 does not take advantage of them. And seriously, take a look at the screenshots and video. What on Earth is pushing the RTX 4090 so hard here?</p>
<p><a href="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_27_143.jpg" data-lbwps-width="3840" data-lbwps-height="2160" data-lbwps-srcsmall="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_27_143-300x169.jpg"><img decoding="async" src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_27_143-150x150.jpg" data-src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_27_143-150x150.jpg" alt="Cities Skylines 2 - 4K/High Settings on NVIDIA RTX4090-1" width="150" height="150"></a><a href="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_32_098.jpg" data-lbwps-width="3840" data-lbwps-height="2160" data-lbwps-srcsmall="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_32_098-300x169.jpg"><img decoding="async" src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_32_098-150x150.jpg" data-src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_32_098-150x150.jpg" alt="Cities Skylines 2 - 4K/High Settings on NVIDIA RTX4090-2" width="150" height="150"></a><a href="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_37_425.jpg" data-lbwps-width="3840" data-lbwps-height="2160" data-lbwps-srcsmall="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_37_425-300x169.jpg"><img decoding="async" src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_37_425-150x150.jpg" data-src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_23_37_425-150x150.jpg" alt="Cities Skylines 2 - 4K/High Settings on NVIDIA RTX4090-3" width="150" height="150"></a></p>
<p>Since I’m not really good at city builders, we’ll use an empty map for our upcoming PC Performance Analysis. In other words, we’ll be doing this game a favor. Because if it performs like that on an empty map, I can’t imagine how it will run with a mid/big city. We do know that a mid-sized city runs with <a href="https://www.dsogaming.com/pc-performance-analyses/cities-skylines-2-reportedly-runs-with-7-12fps-on-an-intel-core-i9-13900ks-with-amd-radeon-rx-7900xtx-at-4k-high-settings/" rel="bookmark">7-12fps on an AMD Radeon RX 7900XTX</a>. And if the main menu is anything to go by, then we might have an idea of the performance of a big city on an RTX4090. And look and behold. 10fps. 10fps on an NVIDIA GeForce RTX4090. That’s more demanding than Cyberpunk 2077 in 4K with Path Tracing. Man, what a mess.</p>
<p><a href="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842.jpg" data-lbwps-width="3840" data-lbwps-height="2160" data-lbwps-srcsmall="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-300x169.jpg"><img decoding="async" src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-1920x1080.jpg" data-src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-1920x1080.jpg" alt="Cities Skylines 2 - 4K/High Settings on NVIDIA RTX4090-4" width="474" height="267" data-srcset="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-1920x1080.jpg 1920w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-300x169.jpg 300w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-768x432.jpg 768w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-1536x864.jpg 1536w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-2048x1152.jpg 2048w" data-sizes="(max-width: 474px) 100vw, 474px" srcset="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-1920x1080.jpg 1920w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-300x169.jpg 300w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-768x432.jpg 768w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-1536x864.jpg 1536w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_42_29_842-2048x1152.jpg 2048w"></a></p>
<p>Colossal Order is currently <a href="https://store.steampowered.com/news/app/949230/view/3744239011016556921" target="_blank" rel="noopener">working on making the game run better</a>. The team is optimizing/balancing the effects that affect fillrate. Thus, they’re making changes to things like Depth of Field, Global Illumination, and Volumetrics to make them work better and not slow down your game.</p>
<p>After further experimentation, we figured out the one setting that can cripple performance. That’s the Depth of Field Quality. By lowering it to Low, we were able to improve performance in the main menu. However, in our empty map, we could not come close to a 60fps experience. Instead, the game was running with 40fps. 40fps with this kind of visuals on an NVIDIA RTX 4090. Enough said.</p>
<p><a href="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302.jpg" data-lbwps-width="3840" data-lbwps-height="2160" data-lbwps-srcsmall="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-300x169.jpg"><img decoding="async" src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-1920x1080.jpg" data-src="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-1920x1080.jpg" alt="Cities Skylines 2 - 4K/High Settings with Low Depth of Field" width="474" height="267" data-srcset="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-1920x1080.jpg 1920w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-300x169.jpg 300w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-768x432.jpg 768w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-1536x864.jpg 1536w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-2048x1152.jpg 2048w" data-sizes="(max-width: 474px) 100vw, 474px" srcset="https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-1920x1080.jpg 1920w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-300x169.jpg 300w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-768x432.jpg 768w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-1536x864.jpg 1536w, https://www.dsogaming.com/wp-content/uploads/2023/10/Cities2_2023_10_25_18_48_59_302-2048x1152.jpg 2048w"></a></p>
<p>As I mentioned before, we’re going to use an empty map to test how well the game runs on different computers. It wanted to test it with a medium-sized city, but the game doesn’t have a benchmark tool, and there are no pre-made cities to use. So, our benchmarks will showcase the best possible performance you can get in this city builder.</p>
<p>Stay tuned for more!</p>
<div id="WYL_BU7HAS8_zR4" itemprop="video" itemscope="" itemtype="https://schema.org/VideoObject" title="Cities Skylines 2 runs with 20fps on an NVIDIA RTX4090 at 4K/High even with an empty map"><div id="lyte_BU7HAS8_zR4" data-src="https://www.dsogaming.com/wp-content/plugins/wp-youtube-lyte/lyteCache.php?origThumbUrl=https%3A%2F%2Fi.ytimg.com%2Fvi%2FBU7HAS8_zR4%2Fmaxresdefault.jpg"><p>Cities Skylines 2 runs with 20fps on an NVIDIA RTX4090 at 4K/High even with an empty map</p></div><meta itemprop="description" content="Cities Skylines 2 brings the NVIDIA RTX4090 to its knees at 4K/High Settings, even on an empty map. PC specs: AMD Ryzen 9 7950X3D 32GB of DDR5 at 6000Mhz NVIDIA RTX 4090 Windows 10 64-bit Nvidia GeForce 545.92 driver"></div>
<div itemtype="http://schema.org/Person" itemscope="" itemprop="author"><p><img data-del="avatar" alt="John Papadopoulos" src="https://www.dsogaming.com/wp-content/uploads/2020/08/dasdasdsadsa.jpg" data-src="https://www.dsogaming.com/wp-content/uploads/2020/08/dasdasdsadsa.jpg" height="100" width="100"></p><div><p>John is the founder and Editor in Chief at DSOGaming. He is a PC gaming fan and highly supports the modding and indie communities. Before creating DSOGaming, John worked on numerous gaming websites. While he is a die-hard PC gamer, his gaming roots can be found on consoles. John loved – and still does – the 16-bit consoles, and considers SNES to be one of the best consoles. Still, the PC platform won him over consoles. That was mainly due to 3DFX and its iconic dedicated 3D accelerator graphics card, Voodoo 2. John has also written a higher degree thesis on the “The Evolution of PC graphics cards.”<br>
<b>Contact: <a href="mailto:%6A%6F%68%6E%32%40%64%73%6F%67%61%6D%69%6E%67%2E%63%6F%6D">Email</a></b></p></div></div><br>	</div><!-- .entry-content -->

	
	</article><!-- #post-175330 -->
		<!-- .navigation -->
		
		</div><!-- #primary -->

<!-- #content-sidebar -->
<div id="secondary">
		<h2>PC Games News, Screenshots, Trailers &amp; More</h2>
	
		
	
		<!-- #primary-sidebar -->
	</div><!-- #secondary -->

		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OpenAI Preparedness Challenge (151 pts)]]></title>
            <link>https://openai.com/form/preparedness-challenge</link>
            <guid>38029307</guid>
            <pubDate>Thu, 26 Oct 2023 17:58:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://openai.com/form/preparedness-challenge">https://openai.com/form/preparedness-challenge</a>, See on <a href="https://news.ycombinator.com/item?id=38029307">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><form><p> Responses will be accepted on a rolling basis through December 31, 2023. We will offer $25,000 each in API credits to up to 10 top submissions, publish novel ideas and entries, and look for candidates for Preparedness from among the top contenders in this challenge. </p><!--[--><!--[--><p><label for="firstname"><span>First name</span><span> *</span></label></p><!--]--><!--[--><p><label for="lastname"><span>Last name</span><span> *</span></label></p><!--]--><!--[--><p><label for="email"><span>Email</span><span> *</span></label></p><!--]--><!--[--><p><label for="resume"><span>LinkedIn / resume URL</span><span> *</span></label></p><!--]--><!--]--><p> Imagine we gave you unrestricted access to OpenAI’s Whisper (transcription), Voice (text-to-speech), GPT-4V, and DALLE·3 models, and you were a malicious actor. Consider the most unique, while still being probable, potentially catastrophic misuse of the model. You might consider misuse related to the categories discussed above, or another category. For example, a malicious actor might misuse these models to uncover a zero-day exploit in a government security system. </p><!--[--><!--[--><div><p><label for="what_misuse"><span>What is the misuse you’ll be writing about?</span><span> *</span></label></p><p>Maximum 20 words</p></div><!--]--><!--[--><div><p><label for="describe_misuse"><span>Describe this misuse. Why might it lead to catastrophic harm and what would the harm be?</span><span> *</span></label></p><p>Maximum 100 words</p></div><!--]--><!--[--><div><p><label for="proof_of_concept"><span>Outline how you envision someone executing such a misuse in the real world assuming you have unrestricted access to our models. Please be specific (e.g., provide proof of concept, detailed step by step instructions).</span><span> *</span></label></p><p>Link directly to a 3 page max PDF. Links to download a PDF will not be accepted.</p></div><!--]--><!--]--><p> Now, imagine you have joined the Preparedness team. </p><!--[--><!--[--><div><p><label for="experiment_plan"><span>Outline an experiment plan to (ethically and legally) measure the true feasibility and potential severity of the misuse scenario you described above assuing you have a broad range of resources at your disposal, including an ability to perform human-AI evaluations.</span><span> *</span></label></p><p>Maximum 300 words</p></div><!--]--><!--[--><div><p><label for="potential_mitigation_actions"><span>Detail potential actions that might mitigate the risk you identified.</span><span> *</span></label></p><p>Maximum 150 words</p></div><!--]--><!--]--><!----><!----></form></div></div>]]></description>
        </item>
    </channel>
</rss>