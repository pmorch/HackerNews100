<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 23 Sep 2023 12:00:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[MIT 6.5940: TinyML and Efficient Deep Learning Computing (164 pts)]]></title>
            <link>https://efficientml.ai/</link>
            <guid>37620507</guid>
            <pubDate>Sat, 23 Sep 2023 04:06:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://efficientml.ai/">https://efficientml.ai/</a>, See on <a href="https://news.ycombinator.com/item?id=37620507">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
    <p>Large generative models (e.g., large language models, diffusion models) have shown remarkable performance, but they require a massive amount of computational resources. To make them more accessible, it is crucial to improve their efficiency.</p>

<p>This course will introduce efficient AI computing techniques that enable powerful deep learning applications on resource-constrained devices. Topics include model compression, pruning, quantization, neural architecture search, distributed training, data/model parallelism, gradient compression, and on-device fine-tuning. It also introduces application-specific acceleration techniques for large language models, diffusion models, video recognition, and point cloud. This course will also cover topics about quantum machine learning. Students will get hands-on experience deploying large language models (e.g., LLaMA 2) on a laptop.</p>

<p>The slides and lab assignments from the last semester are available for access <a href="https://www.dropbox.com/sh/0ftluqbd1afzqpy/AADqxwkYrt1FbGnSQ4KP3Kpva?dl=0">here</a>.</p>

<hr>
<ul>
  <li><strong>Online Lectures:</strong> Lecture recordings are available at <a href="https://youtube.com/playlist?list=PL80kAHvQbh-pT4lCkDT53zT8DKmhE0idB">YouTube</a>.</li>
  <li><strong>Live Streaming:</strong> Lectures are live streamed at <a href="https://live.efficientml.ai/">live.efficientml.ai</a> every Tuesday/Thursday 3:35-5:00pm Eastern Time.</li>
  <li><strong>Location:</strong> <a href="https://whereis.mit.edu/?go=36" target="\_blank">36-156</a></li>
  <li><strong>Office Hour:</strong> Thursday 5:00-6:00 pm Eastern Time, 38-344 Meeting Room</li>
  <li><strong>Discussion:</strong> <a href="https://discord.gg/AMJBXcrexg" target="\_blank">Discord</a></li>
  <li><strong>Homework submission:</strong> <a href="https://canvas.mit.edu/courses/22517" target="\_blank">Canvas</a></li>
  <li><strong>Resources:</strong> <a href="https://hanlab.mit.edu/" target="\_blank">MIT HAN Lab</a>, <a href="https://github.com/mit-han-lab" target="\_blank">HAN Lab Github</a>, <a href="https://tinyml.mit.edu/">TinyML</a>, <a href="https://mcunet.mit.edu/">MCUNet</a>, <a href="https://ofa.mit.edu/">OFA</a>, <a href="https://github.com/mit-han-lab/smoothquant">SmoothQuant</a></li>
  <li><strong>Contact:</strong>
    <ul>
      <li>Students can ask all course-related questions on <a href="https://discord.gg/AMJBXcrexg" target="\_blank">Discord</a>.</li>
      <li>For external inquiries, personal matters, or emergencies, you can email us at <em><a href="https://efficientml.ai/cdn-cgi/l/email-protection" data-cfemail="0a6f6c6c6369636f647e676627797e6b6c6c4a67637e246f6e7f">[email&nbsp;protected]</a></em>.</li>
      <li>If you are interested in getting updates, please sign up <a href="https://forms.gle/m2tyyoEbY5unLVSz6">here</a> to join our mailing list to get notified!</li>
    </ul>
  </li>
</ul>

<hr>

  </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Croc: Easily and securely send things from one computer to another (197 pts)]]></title>
            <link>https://github.com/schollz/croc</link>
            <guid>37619151</guid>
            <pubDate>Fri, 22 Sep 2023 23:35:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/schollz/croc">https://github.com/schollz/croc</a>, See on <a href="https://news.ycombinator.com/item?id=37619151">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto">
<a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/6550035/46709024-9b23ad00-cbf6-11e8-9fb2-ca8b20b7dbec.jpg"><img src="https://user-images.githubusercontent.com/6550035/46709024-9b23ad00-cbf6-11e8-9fb2-ca8b20b7dbec.jpg" width="408px" alt="croc"></a>
<br>
<a href="https://github.com/schollz/croc/releases/latest"><img src="https://camo.githubusercontent.com/2fea878b2d6f17cc4adb16f7c0a74fc6abe49970c8aaeeb1e32e2521f88a8b2b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f76657273696f6e2d76392e362e352d627269676874677265656e2e7376673f7374796c653d666c61742d737175617265" alt="Version" data-canonical-src="https://img.shields.io/badge/version-v9.6.5-brightgreen.svg?style=flat-square"></a>
<a href="https://coveralls.io/github/schollz/croc" rel="nofollow"><img src="https://camo.githubusercontent.com/b59f66b677176699776771c238aef5a83adb692a25e527945db022a90e4780e3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f7665726167652d38312532352d677265656e2e7376673f7374796c653d666c61742d737175617265" alt="Coverage" data-canonical-src="https://img.shields.io/badge/coverage-81%25-green.svg?style=flat-square"></a>
<a href="https://travis-ci.org/schollz/croc" rel="nofollow"><img src="https://camo.githubusercontent.com/8b6c0d916b4e2878d5005aaa8ba6c79cbe38c4dfa3fb9d16eedff6faa624128e/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f7363686f6c6c7a2f63726f632e7376673f7374796c653d666c61742d737175617265" alt="Build
Status" data-canonical-src="https://img.shields.io/travis/schollz/croc.svg?style=flat-square"></a> 
</p><p dir="auto">This project is supported by <a href="https://github.com/sponsors/schollz">Github sponsors</a>.</p>
<p dir="auto"><code>croc</code> is a tool that allows any two computers to simply and securely transfer files and folders. AFAIK, <em>croc</em> is the only CLI file-transfer tool that does <strong>all</strong> of the following:</p>
<ul dir="auto">
<li>allows <strong>any two computers</strong> to transfer data (using a relay)</li>
<li>provides <strong>end-to-end encryption</strong> (using PAKE)</li>
<li>enables easy <strong>cross-platform</strong> transfers (Windows, Linux, Mac)</li>
<li>allows <strong>multiple file</strong> transfers</li>
<li>allows <strong>resuming transfers</strong> that are interrupted</li>
<li>local server or port-forwarding <strong>not needed</strong></li>
<li><strong>ipv6-first</strong> with ipv4 fallback</li>
<li>can <strong>use proxy</strong>, like tor</li>
</ul>
<p dir="auto">For more information about <code>croc</code>, see <a href="https://schollz.com/software/croc6" rel="nofollow">my blog post</a> or read a <a href="https://console.substack.com/p/console-91" rel="nofollow">recent interview I did</a>.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/schollz/croc/blob/main/src/install/customization.gif"><img src="https://github.com/schollz/croc/raw/main/src/install/customization.gif" alt="Example" data-animated-image=""></a></p>
<h2 tabindex="-1" id="user-content-install" dir="auto"><a href="#install">Install</a></h2>
<p dir="auto">Download <a href="https://github.com/schollz/croc/releases/latest">the latest release for your system</a>, or install a release from the command-line:</p>
<div data-snippet-clipboard-copy-content="curl https://getcroc.schollz.com | bash"><pre><code>curl https://getcroc.schollz.com | bash
</code></pre></div>
<p dir="auto">On macOS you can install the latest release with <a href="https://brew.sh/" rel="nofollow">Homebrew</a>:</p>

<p dir="auto">On macOS you can also install the latest release with <a href="https://macports.org/" rel="nofollow">MacPorts</a>:</p>
<div data-snippet-clipboard-copy-content="sudo port selfupdate
sudo port install croc"><pre><code>sudo port selfupdate
sudo port install croc
</code></pre></div>
<p dir="auto">On Windows you can install the latest release with <a href="https://scoop.sh/" rel="nofollow">Scoop</a>, <a href="https://chocolatey.org/" rel="nofollow">Chocolatey</a>, or <a href="https://learn.microsoft.com/en-us/windows/package-manager/" rel="nofollow">Winget</a>:</p>


<div data-snippet-clipboard-copy-content="winget install schollz.croc"><pre><code>winget install schollz.croc
</code></pre></div>
<p dir="auto">On Unix you can install the latest release with <a href="https://nixos.org/nix" rel="nofollow">Nix</a>:</p>

<p dir="auto">On Alpine Linux you have to install dependencies first:</p>
<div data-snippet-clipboard-copy-content="apk add bash coreutils
wget -qO- https://getcroc.schollz.com | bash"><pre><code>apk add bash coreutils
wget -qO- https://getcroc.schollz.com | bash
</code></pre></div>
<p dir="auto">On Arch Linux you can install the latest release with <code>pacman</code>:</p>

<p dir="auto">On Fedora you can install with <code>dnf</code>:</p>

<p dir="auto">On Gentoo you can install with <code>portage</code>:</p>

<p dir="auto">On Termux you can install with <code>pkg</code>:</p>

<p dir="auto">On FreeBSD you can install with <code>pkg</code>:</p>

<p dir="auto">Or, you can <a href="https://golang.org/dl/" rel="nofollow">install Go</a> and build from source (requires Go 1.17+):</p>
<div data-snippet-clipboard-copy-content="go install github.com/schollz/croc/v9@latest"><pre><code>go install github.com/schollz/croc/v9@latest
</code></pre></div>
<p dir="auto">On Android there is a 3rd party F-Droid app <a href="https://f-droid.org/en/packages/com.github.howeyc.crocgui/" rel="nofollow">available to download</a>.</p>
<h2 tabindex="-1" id="user-content-usage" dir="auto"><a href="#usage">Usage</a></h2>
<p dir="auto">To send a file, simply do:</p>
<div data-snippet-clipboard-copy-content="$ croc send [file(s)-or-folder]
Sending 'file-or-folder' (X MB)
Code is: code-phrase"><pre><code>$ croc send [file(s)-or-folder]
Sending 'file-or-folder' (X MB)
Code is: code-phrase
</code></pre></div>
<p dir="auto">Then to receive the file (or folder) on another computer, you can just do</p>

<p dir="auto">The code phrase is used to establish password-authenticated key agreement (<a href="https://en.wikipedia.org/wiki/Password-authenticated_key_agreement" rel="nofollow">PAKE</a>) which generates a secret key for the sender and recipient to use for end-to-end encryption.</p>
<p dir="auto">There are a number of configurable options (see <code>--help</code>). A set of options (like custom relay, ports, and code phrase) can be set using <code>--remember</code>.</p>
<h3 tabindex="-1" id="user-content-custom-code-phrase" dir="auto"><a href="#custom-code-phrase">Custom code phrase</a></h3>
<p dir="auto">You can send with your own code phrase (must be more than 6 characters).</p>
<div data-snippet-clipboard-copy-content="croc send --code [code-phrase] [file(s)-or-folder]"><pre><code>croc send --code [code-phrase] [file(s)-or-folder]
</code></pre></div>
<h3 tabindex="-1" id="user-content-allow-overwriting-without-prompt" dir="auto"><a href="#allow-overwriting-without-prompt">Allow overwriting without prompt</a></h3>
<p dir="auto">By default, croc will prompt whether to overwrite a file. You can automatically overwrite files by using the <code>--overwrite</code> flag (recipient only). For example, receive a file to automatically overwrite:</p>
<div data-snippet-clipboard-copy-content="croc --yes --overwrite <code>"><pre><code>croc --yes --overwrite &lt;code&gt;
</code></pre></div>
<h3 tabindex="-1" id="user-content-use-pipes---stdin-and-stdout" dir="auto"><a href="#use-pipes---stdin-and-stdout">Use pipes - stdin and stdout</a></h3>
<p dir="auto">You can pipe to <code>croc</code>:</p>
<div data-snippet-clipboard-copy-content="cat [filename] | croc send"><pre><code>cat [filename] | croc send
</code></pre></div>
<p dir="auto">In this case <code>croc</code> will automatically use the stdin data and send and assign a filename like "croc-stdin-123456789". To receive to <code>stdout</code> at you can always just use the <code>--yes</code>  will automatically approve the transfer and pipe it out to <code>stdout</code>.</p>
<div data-snippet-clipboard-copy-content="croc --yes [code-phrase] > out"><pre><code>croc --yes [code-phrase] &gt; out
</code></pre></div>
<p dir="auto">All of the other text printed to the console is going to <code>stderr</code> so it will not interfere with the message going to <code>stdout</code>.</p>
<h3 tabindex="-1" id="user-content-send-text" dir="auto"><a href="#send-text">Send text</a></h3>
<p dir="auto">Sometimes you want to send URLs or short text. In addition to piping, you can easily send text with <code>croc</code>:</p>
<div data-snippet-clipboard-copy-content="croc send --text &quot;hello world&quot;"><pre><code>croc send --text "hello world"
</code></pre></div>
<p dir="auto">This will automatically tell the receiver to use <code>stdout</code> when they receive the text so it will be displayed.</p>
<h3 tabindex="-1" id="user-content-use-a-proxy" dir="auto"><a href="#use-a-proxy">Use a proxy</a></h3>
<p dir="auto">You can use a proxy as your connection to the relay by adding a proxy address with <code>--socks5</code>. For example, you can send via a tor relay:</p>
<div data-snippet-clipboard-copy-content="croc --socks5 &quot;127.0.0.1:9050&quot; send SOMEFILE"><pre><code>croc --socks5 "127.0.0.1:9050" send SOMEFILE
</code></pre></div>
<h3 tabindex="-1" id="user-content-change-encryption-curve" dir="auto"><a href="#change-encryption-curve">Change encryption curve</a></h3>
<p dir="auto">You can choose from several different elliptic curves to use for encryption by using the <code>--curve</code> flag. Only the recipient can choose the curve. For example, receive a file using the P-521 curve:</p>
<div data-snippet-clipboard-copy-content="croc --curve p521 <codephrase>"><pre><code>croc --curve p521 &lt;codephrase&gt;
</code></pre></div>
<p dir="auto">Available curves are P-256, P-348, P-521 and SIEC. P-256 is the default curve.</p>
<h3 tabindex="-1" id="user-content-change-hash-algorithm" dir="auto"><a href="#change-hash-algorithm">Change hash algorithm</a></h3>
<p dir="auto">You can choose from several different hash algorithms. The default is the <code>xxhash</code> algorithm which is fast and thorough. If you want to optimize for speed you can use the <code>imohash</code> algorithm which is even faster, but since it samples files (versus reading the whole file) it can mistakenly determine that a file is the same on the two computers transferring - though this is only a problem if you are syncing files versus sending a new file to a computer.</p>
<div data-snippet-clipboard-copy-content="croc send --hash imohash SOMEFILE"><pre><code>croc send --hash imohash SOMEFILE
</code></pre></div>
<h3 tabindex="-1" id="user-content-self-host-relay" dir="auto"><a href="#self-host-relay">Self-host relay</a></h3>
<p dir="auto">The relay is needed to staple the parallel incoming and outgoing connections. By default, <code>croc</code> uses a public relay but you can also run your own relay:</p>

<p dir="auto">By default it uses TCP ports 9009-9013. Make sure to open those up. You can customized the ports (e.g. <code>croc relay --ports 1111,1112</code>), but you must have a minimum of <strong>2</strong> ports for the relay. The first port is for communication and the subsequent ports are used for the multiplexed data transfer.</p>
<p dir="auto">You can send files using your relay by entering <code>--relay</code> to change the relay that you are using if you want to custom host your own.</p>
<div data-snippet-clipboard-copy-content="croc --relay &quot;myrelay.example.com:9009&quot; send [filename]"><pre><code>croc --relay "myrelay.example.com:9009" send [filename]
</code></pre></div>
<p dir="auto">Note, when sending, you only need to include the first port (the communication port). The subsequent ports for data transfer will be transmitted back to the user from the relay.</p>
<h4 tabindex="-1" id="user-content-self-host-relay-docker" dir="auto"><a href="#self-host-relay-docker">Self-host relay (docker)</a></h4>
<p dir="auto">If it's easier you can also run a relay with Docker:</p>
<div data-snippet-clipboard-copy-content="docker run -d -p 9009-9013:9009-9013 -e CROC_PASS='YOURPASSWORD' schollz/croc"><pre><code>docker run -d -p 9009-9013:9009-9013 -e CROC_PASS='YOURPASSWORD' schollz/croc
</code></pre></div>
<p dir="auto">Be sure to include the password for the relay otherwise any requests will be rejected.</p>
<div data-snippet-clipboard-copy-content="croc --pass YOURPASSWORD --relay &quot;myreal.example.com:9009&quot; send [filename]"><pre><code>croc --pass YOURPASSWORD --relay "myreal.example.com:9009" send [filename]
</code></pre></div>
<p dir="auto">Note: when including <code>--pass YOURPASSWORD</code> you can instead pass a file with the password, e.g. <code>--pass FILEWITHPASSWORD</code>.</p>
<h2 tabindex="-1" id="user-content-license" dir="auto"><a href="#license">License</a></h2>
<p dir="auto">MIT</p>
<h2 tabindex="-1" id="user-content-acknowledgements" dir="auto"><a href="#acknowledgements">Acknowledgements</a></h2>
<p dir="auto"><code>croc</code> has gone through many iterations, and I am awed by all the great contributions! If you feel like contributing, in any way, by all means you can send an Issue, a PR, or ask a question.</p>
<p dir="auto">Thanks <a href="https://github.com/warner">@warner</a> for the <a href="https://github.com/warner/magic-wormhole">idea</a>, <a href="https://github.com/tscholl2">@tscholl2</a> for the <a href="https://gist.github.com/tscholl2/dc7dc15dc132ea70a98e8542fefffa28">encryption gists</a>, <a href="https://github.com/skorokithakis">@skorokithakis</a> for <a href="https://www.stavros.io/posts/proxying-two-connections-go/" rel="nofollow">code on proxying two connections</a>. Finally thanks for making pull requests <a href="https://github.com/maximbaz">@maximbaz</a>, <a href="https://github.com/meyermarcel">@meyermarcel</a>, <a href="https://github.com/Girbons">@Girbons</a>, <a href="https://github.com/techtide">@techtide</a>, <a href="https://github.com/heymatthew">@heymatthew</a>, <a href="https://github.com/Lunsford94">@Lunsford94</a>, <a href="https://github.com/lummie">@lummie</a>, <a href="https://github.com/jesuiscamille">@jesuiscamille</a>, <a href="https://github.com/threefjord">@threefjord</a>, <a href="https://github.com/marcossegovia">@marcossegovia</a>, <a href="https://github.com/csleong98">@csleong98</a>, <a href="https://github.com/afotescu">@afotescu</a>, <a href="https://github.com/callmefever">@callmefever</a>, <a href="https://github.com/El-JojA">@El-JojA</a>, <a href="https://github.com/anatolyyyyyy">@anatolyyyyyy</a>, <a href="https://github.com/goggle">@goggle</a>, <a href="https://github.com/smileboywtu">@smileboywtu</a>, <a href="https://github.com/nicolashardy">@nicolashardy</a>, <a href="https://github.com/fbartels">@fbartels</a>, <a href="https://github.com/rkuprov">@rkuprov</a>, <a href="https://github.com/hreese">@hreese</a>, <a href="https://github.com/xenrox">@xenrox</a> and <a href="https://github.com/lpar">Ipar</a>!</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: TG â€“ Fast geometry library for C (127 pts)]]></title>
            <link>https://github.com/tidwall/tg</link>
            <guid>37619100</guid>
            <pubDate>Fri, 22 Sep 2023 23:27:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/tidwall/tg">https://github.com/tidwall/tg</a>, See on <a href="https://news.ycombinator.com/item?id=37619100">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://github.com/tidwall/tg/blob/main/docs/assets/logo.png"><img src="https://github.com/tidwall/tg/raw/main/docs/assets/logo.png" width="240" alt="TG"></a>
</p>
<p dir="auto">TG is a geometry library for C that is small, fast, and easy to use.
I designed it for programs that need real-time geospatial, such as geofencing, monitoring, and streaming analysis.</p>
<h2 tabindex="-1" id="user-content-features" dir="auto"><a href="#features">Features</a></h2>
<ul dir="auto">
<li>Implements OGC <a href="https://en.wikipedia.org/wiki/Simple_Features" rel="nofollow">Simple Features</a> including Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeometryCollection.</li>
<li>Optimized <a href="https://github.com/tidwall/tg/blob/main/docs/POLYGON_INDEXING.md">polygon indexing</a> that introduces two new structures.</li>
<li>Reads and writes <a href="https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry" rel="nofollow">WKT</a>, <a href="https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry" rel="nofollow">WKB</a>, and <a href="https://en.wikipedia.org/wiki/GeoJSON" rel="nofollow">GeoJSON</a>.</li>
<li>Provides a purely functional <a href="https://github.com/tidwall/tg/blob/main/docs/API.md">API</a> that is reentrant and thread-safe.</li>
<li>Spatial predicates including "intersects", "covers", "touches", "equals", etc.</li>
<li><a href="https://github.com/tidwall/tg/blob/main/tests/README.md">Test suite</a> with 100% coverage using <a href="https://clang.llvm.org/docs/MemorySanitizer.html" rel="nofollow">memory sanitizer</a> and <a href="https://valgrind.org/" rel="nofollow">Valgrind</a>.</li>
<li>Self-contained library that is encapsulated in the single <a href="https://github.com/tidwall/tg/blob/main/tg.c">tg.c</a> source file.</li>
<li>Pretty darn good performance. ðŸš€ <sup><a href="https://github.com/tidwall/tg/blob/main/docs/BENCHMARKS.md">[benchmarks]</a></sup></li>
</ul>
<h2 tabindex="-1" id="user-content-goals" dir="auto"><a href="#goals">Goals</a></h2>
<p dir="auto">The main goal of TG is to provide the fastest, most memory efficent geometry library for the purpose of monitoring spatial relationships, specifically operations like point-in-polygon and geometry intersect.</p>
<p dir="auto">It's a non-goal for TG to be a full GIS library. Consider <a href="https://libgeos.org/" rel="nofollow">GEOS</a> if you need GIS algorithms like generating a convex hull or voronoi diagram.</p>
<h2 tabindex="-1" id="user-content-performance" dir="auto"><a href="#performance">Performance</a></h2>
<p dir="auto">TG uses <a href="https://github.com/tidwall/tg/blob/main/docs/POLYGON_INDEXING.md">entirely new</a> indexing structures that speed up <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#geometry-predicates">geometry predicates</a>. It can index more than 10GB per second of point data on modern hardware, while using less than 7% of additional memory, and can perform over 10 million point-in-polygon operations, even when using large polygons with over 10K points.</p>
<p dir="auto">The following benchmark provides an example of the point-in-polygon performance
of TG when using a large polygon. In this case of Brazil, which has 39K points.</p>
<pre><b>Brazil              ops/sec    ns/op  points  hits       built      bytes</b>
tg/none              96,944    10315   39914  3257    46.73 Âµs    638,720
tg/natural       10,143,419       99   39914  3257    53.17 Âµs    681,360
tg/ystripes      15,174,761       66   39914  3257   884.06 Âµs  1,059,548
geos/none            29,708    33661   39914  3257   135.18 Âµs    958,104
geos/prepared     7,885,512      127   39914  3257  2059.94 Âµs  3,055,496
</pre>
<ul dir="auto">
<li>"built": Column showing how much time the polygon and index took to construct.</li>
<li>"bytes": Column showing the final in-memory size of the polygon and index.</li>
<li>"none": No indexing was used.</li>
<li>"natural": Using TG <a href="https://github.com/tidwall/tg/blob/main/docs/POLYGON_INDEXING.md#natural">Natural</a> indexing</li>
<li>"ystripes": Using TG <a href="https://github.com/tidwall/tg/blob/main/docs/POLYGON_INDEXING.md#ystripes">YStripes</a> indexing</li>
<li>"prepared": Using a <a href="https://libgeos.org/" rel="nofollow">GEOS</a> PreparedGeometry</li>
</ul>
<p dir="auto">See all <a href="https://github.com/tidwall/tg/blob/main/docs/BENCHMARKS.md">benchmarks</a> for more information.</p>
<h2 tabindex="-1" id="user-content-using" dir="auto"><a href="#using">Using</a></h2>
<p dir="auto">Just drop the "tg.c" and "tg.h" files into your project.
Uses standard C11 so most modern C compilers should work.</p>

<h2 tabindex="-1" id="user-content-programmer-notes" dir="auto"><a href="#programmer-notes">Programmer notes</a></h2>
<p dir="auto"><em>Check out the complete <a href="https://github.com/tidwall/tg/blob/main/docs/API.md">API</a> for detailed information.</em></p>
<h4 tabindex="-1" id="user-content-pure-functions" dir="auto"><a href="#pure-functions">Pure functions</a></h4>
<p dir="auto">TG library functions are thread-safe, reentrant, and (mostly) without side
effects.
The exception being with the use of malloc by some functions like
<a href="https://github.com/tidwall/tg/blob/main/docs/API.md#geometry-constructors">geometry constructors</a>.
In those cases, it's the programmer's responsibiilty to check the return value
before continuing.</p>
<div dir="auto" data-snippet-clipboard-copy-content="struct tg_geom *geom = tg_geom_new_point(-112, 33);
if (!geom) {
    // System is out of memory.
}"><pre><span>struct</span> <span>tg_geom</span> <span>*</span><span>geom</span> <span>=</span> <span>tg_geom_new_point</span>(<span>-112</span>, <span>33</span>);
<span>if</span> (!<span>geom</span>) {
    <span>// System is out of memory.</span>
}</pre></div>
<h4 tabindex="-1" id="user-content-fast-cloning" dir="auto"><a href="#fast-cloning">Fast cloning</a></h4>
<p dir="auto">The cloning of geometries, as with <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_geom_clone">tg_geom_clone()</a>, are
O(1) operations that use implicit sharing through an atomic reference counter.
Geometry constructors like <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_geom_new_polygon">tg_geom_new_polygon()</a> will
use this method under the hood to maintain references of its inputs.</p>
<p dir="auto">While this may only be an implementation detail, it's important for the
programmer to understand how TG uses memory and object references.</p>
<p dir="auto">For example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="struct tg_geom *geom = tg_geom_new_polygon(exterior, holes, nholes);"><pre><span>struct</span> <span>tg_geom</span> <span>*</span><span>geom</span> <span>=</span> <span>tg_geom_new_polygon</span>(<span>exterior</span>, <span>holes</span>, <span>nholes</span>);</pre></div>
<p dir="auto">Above, a new geometry "geom" was created and includes a cloned reference to the
<a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_ring">tg_ring</a> "exterior" and all of the holes.</p>
<p dir="auto">Providing <code>TG_NOATOMICS</code> to the compiler will disable the use of atomics and
instead use non-atomic reference counters.</p>
<div data-snippet-clipboard-copy-content="cc -DTG_NOATOMICS tg.c ..."><pre><code>cc -DTG_NOATOMICS tg.c ...
</code></pre></div>
<p dir="auto">Alternatively, the <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_geom_copy">tg_geom_copy()</a> method is available to perform a deep copy of the
geometry.</p>
<h4 tabindex="-1" id="user-content-avoid-memory-leaks" dir="auto"><a href="#avoid-memory-leaks">Avoid memory leaks</a></h4>
<p dir="auto">To avoid memory leaks, call <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_geom_free">tg_geom_free()</a> on geometries
created from <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#geometry-constructors">geometry constructors</a>,
<a href="https://github.com/tidwall/tg/blob/main/docs/API.md#geometry-parsing">geometry parsers</a>, <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_geom_clone">tg_geom_clone()</a>, and <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_geom_copy">tg_geom_copy()</a></p>
<p dir="auto">In other words, for every <code>tg_geom_new_*()</code>, <code>tg_geom_parse_*()</code>,
<code>tg_geom_clone()</code>, and <code>tg_geom_copy()</code> there should be (eventually and exactly)
one <code>tg_geom_free()</code>.</p>
<h4 tabindex="-1" id="user-content-upcasting" dir="auto"><a href="#upcasting">Upcasting</a></h4>
<p dir="auto">The TG object types <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_line">tg_line</a>, <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_ring">tg_ring</a>, and
<a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_poly">tg_poly</a> can be safely upcasted to a <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_geom">tg_geom</a> with no
cost at runtime.</p>
<div dir="auto" data-snippet-clipboard-copy-content="struct tg_geom *geom1 = (struct tg_geom*)line; // Cast tg_line to tg_geom
struct tg_geom *geom2 = (struct tg_geom*)ring; // Cast tg_ring to tg_geom
struct tg_geom *geom3 = (struct tg_geom*)poly; // Cast tg_poly to tg_geom"><pre><span>struct</span> <span>tg_geom</span> <span>*</span><span>geom1</span> <span>=</span> (<span>struct</span> <span>tg_geom</span><span>*</span>)<span>line</span>; <span>// Cast tg_line to tg_geom</span>
<span>struct</span> <span>tg_geom</span> <span>*</span><span>geom2</span> <span>=</span> (<span>struct</span> <span>tg_geom</span><span>*</span>)<span>ring</span>; <span>// Cast tg_ring to tg_geom</span>
<span>struct</span> <span>tg_geom</span> <span>*</span><span>geom3</span> <span>=</span> (<span>struct</span> <span>tg_geom</span><span>*</span>)<span>poly</span>; <span>// Cast tg_poly to tg_geom</span></pre></div>
<p dir="auto">This allows for exposing all <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_geom">tg_geom</a> functions to the other
object types.</p>
<p dir="auto">In addition, the <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_ring">tg_ring</a> type can also cast to a
<a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_poly">tg_poly</a>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="struct tg_poly *poly = (struct tg_poly*)ring; // Cast tg_ring to tg_poly"><pre><span>struct</span> <span>tg_poly</span> <span>*</span><span>poly</span> <span>=</span> (<span>struct</span> <span>tg_poly</span><span>*</span>)<span>ring</span>; <span>// Cast tg_ring to tg_poly</span></pre></div>
<p dir="auto"><em>Do not downcast. It's not generally safe to cast from a <a href="https://github.com/tidwall/tg/blob/main/docs/API.md#tg_geom">tg_geom</a> to other
types.</em></p>
<h2 tabindex="-1" id="user-content-example" dir="auto"><a href="#example">Example</a></h2>
<p dir="auto">Create a program that tests if two geometries intersect using <a href="https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry" rel="nofollow">WKT</a> as inputs.</p>
<div dir="auto" data-snippet-clipboard-copy-content="#include <stdio.h>
#include <tg.h>

int main(int argc, char **argv) {
    if (argc != 3) {
        fprintf(stderr, &quot;Usage: %s <geom-a> <geom-b>\n&quot;, argv[0]);
        return 1;
    }

    // Parse the input geometries and check for errors.
    struct tg_geom *a = tg_parse_wkt(argv[1]);
    if (tg_geom_error(a)) {
        fprintf(stderr, &quot;%s\n&quot;, tg_geom_error(a));
        return 1;
    }
    struct tg_geom *b = tg_parse_wkt(argv[2]);
    if (tg_geom_error(b)) {
        fprintf(stderr, &quot;%s\n&quot;, tg_geom_error(b));
        return 1;
    }

    // Execute the &quot;intersects&quot; predicate to test if both geometries intersect.
    if (tg_geom_intersects(a, b)) {
        printf(&quot;yes\n&quot;);
    } else {
        printf(&quot;no\n&quot;);
    }

    // Free geometries when done.
    tg_geom_free(a);
    tg_geom_free(b);
    return 0;
}"><pre><span>#include</span> <span>&lt;stdio.h&gt;</span>
<span>#include</span> <span>&lt;tg.h&gt;</span>

<span>int</span> <span>main</span>(<span>int</span> <span>argc</span>, <span>char</span> <span>*</span><span>*</span><span>argv</span>) {
    <span>if</span> (<span>argc</span> <span>!=</span> <span>3</span>) {
        <span>fprintf</span>(<span>stderr</span>, <span>"Usage: %s &lt;geom-a&gt; &lt;geom-b&gt;\n"</span>, <span>argv</span>[<span>0</span>]);
        <span>return</span> <span>1</span>;
    }

    <span>// Parse the input geometries and check for errors.</span>
    <span>struct</span> <span>tg_geom</span> <span>*</span><span>a</span> <span>=</span> <span>tg_parse_wkt</span>(<span>argv</span>[<span>1</span>]);
    <span>if</span> (<span>tg_geom_error</span>(<span>a</span>)) {
        <span>fprintf</span>(<span>stderr</span>, <span>"%s\n"</span>, <span>tg_geom_error</span>(<span>a</span>));
        <span>return</span> <span>1</span>;
    }
    <span>struct</span> <span>tg_geom</span> <span>*</span><span>b</span> <span>=</span> <span>tg_parse_wkt</span>(<span>argv</span>[<span>2</span>]);
    <span>if</span> (<span>tg_geom_error</span>(<span>b</span>)) {
        <span>fprintf</span>(<span>stderr</span>, <span>"%s\n"</span>, <span>tg_geom_error</span>(<span>b</span>));
        <span>return</span> <span>1</span>;
    }

    <span>// Execute the "intersects" predicate to test if both geometries intersect.</span>
    <span>if</span> (<span>tg_geom_intersects</span>(<span>a</span>, <span>b</span>)) {
        <span>printf</span>(<span>"yes\n"</span>);
    } <span>else</span> {
        <span>printf</span>(<span>"no\n"</span>);
    }

    <span>// Free geometries when done.</span>
    <span>tg_geom_free</span>(<span>a</span>);
    <span>tg_geom_free</span>(<span>b</span>);
    <span>return</span> <span>0</span>;
}</pre></div>
<p dir="auto">Build and run the example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ cc -I. examples/intersects.c tg.c
$ ./a.out 'POINT(15 15)' 'POLYGON((10 10,20 10,20 20,10 20,10 10))'"><pre>$ cc -I. examples/intersects.c tg.c
$ ./a.out <span><span>'</span>POINT(15 15)<span>'</span></span> <span><span>'</span>POLYGON((10 10,20 10,20 20,10 20,10 10))<span>'</span></span></pre></div>
<h2 tabindex="-1" id="user-content-contact" dir="auto"><a href="#contact">Contact</a></h2>
<p dir="auto">Josh Baker on Mastodon <a href="https://mastodon.social/@tidwall" rel="nofollow">@tidwall@mastodon.social</a> or (less) on Twitter <a href="https://twitter.com/tidwall" rel="nofollow">@tidwall</a>.</p>
<h2 tabindex="-1" id="user-content-license" dir="auto"><a href="#license">License</a></h2>
<p dir="auto">TG source code is available under the MIT <a href="https://github.com/tidwall/tg/blob/main/LICENSE">License</a>.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[JPL Open Source Rover Project (170 pts)]]></title>
            <link>https://github.com/nasa-jpl/open-source-rover</link>
            <guid>37616513</guid>
            <pubDate>Fri, 22 Sep 2023 19:23:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/nasa-jpl/open-source-rover">https://github.com/nasa-jpl/open-source-rover</a>, See on <a href="https://news.ycombinator.com/item?id=37616513">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" id="user-content-jpl-open-source-rover-project" dir="auto"><a href="#jpl-open-source-rover-project">JPL Open Source Rover Project</a></h2>
<p dir="auto"><strong>NOTE</strong>: For the previous major version of the OSR, please see <a href="https://github.com/nasa-jpl/open-source-rover/tree/v3.0.0">v3.1.0</a>.</p>
<table>
<thead>
<tr>
<th><a target="_blank" rel="noopener noreferrer" href="https://github.com/nasa-jpl/open-source-rover/blob/master/images/lit_up_shot.jpg"><img src="https://github.com/nasa-jpl/open-source-rover/raw/master/images/lit_up_shot.jpg" alt=""></a></th>
<th><a target="_blank" rel="noopener noreferrer" href="https://github.com/nasa-jpl/open-source-rover/blob/master/images/osr-side-outside.jpg"><img src="https://github.com/nasa-jpl/open-source-rover/raw/master/images/osr-side-outside.jpg" alt=""></a></th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/nasa-jpl/open-source-rover/blob/master/images/rover.png"><img src="https://github.com/nasa-jpl/open-source-rover/raw/master/images/rover.png" alt=""></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/nasa-jpl/open-source-rover/blob/master/images/osr_onshape.png"><img src="https://github.com/nasa-jpl/open-source-rover/raw/master/images/osr_onshape.png" alt=""></a></td>
</tr>
</tbody>
</table>
<p dir="auto">The JPL Open Source Rover is an open source, build it yourself, scaled down version of the 6 wheel rover design that JPL uses to explore the surface of Mars. The Open Source Rover is designed entirely out of consumer off the shelf (COTS) parts. This project is intended to be a teaching and learning experience for those who want to get involved in mechanical engineering, software, electronics, robotics but is also an excellent research platform for rugged terrain. No prior skills or knowledge is required.</p>
<p dir="auto"><a href="https://youtu.be/exHqc_Vuifw" rel="nofollow"><img src="https://github.com/nasa-jpl/open-source-rover/raw/master/images/youtube-thumbnail.png" alt="Youtube video of OSR2 in action"></a></p>
<p dir="auto">A gallery of some community builds including previous versions of the rover can be found <a href="https://github.com/nasa-jpl/open-source-rover/blob/master/examples/README.md">here</a>. Drive a simulated rover around straight from your browser: <a href="https://opensourcerover.jpl.nasa.gov/" rel="nofollow">opensourcerover.jpl.nasa.gov</a></p>
<h2 tabindex="-1" id="user-content-about-the-osr" dir="auto"><a href="#about-the-osr">About the OSR</a></h2>
<h3 tabindex="-1" id="user-content-motivation" dir="auto"><a href="#motivation">Motivation</a></h3>
<p dir="auto">JPL is always looking to inspire the next generation of scientists, engineers, and roboticists to help us explore and learn about our solar system (and beyond!). We release the plans for this rover as a way to try and give budding enthusiasts a fun robotics project that will help teach them and get them involved in robotics sooner and at a lower cost.</p>
<h3 tabindex="-1" id="user-content-at-a-glance" dir="auto"><a href="#at-a-glance">At a glance</a></h3>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nasa-jpl/open-source-rover/blob/master/images/osr-onshape.gif"><img src="https://github.com/nasa-jpl/open-source-rover/raw/master/images/osr-onshape.gif" alt="" data-animated-image=""></a></p>

<p dir="auto">The OSR has been around since 2017 and has undergone many iterations. It is a premium and robust robot with a unique look, high customizability, and powerful abilities. The hardware and electronics were designed with expansions like a head display and robot arm in mind.</p>
<table>
<thead>
<tr>
<th>spec</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>top speed</td>
<td>~1.6m/s (~slow running, subject to motor selection</td>
</tr>
<tr>
<td>nb motors</td>
<td>10</td>
</tr>
<tr>
<td>structural material</td>
<td>aluminum</td>
</tr>
<tr>
<td>total cost</td>
<td><a href="https://github.com/nasa-jpl/open-source-rover/blob/master/parts_list/README.md">~$1600</a> (about the cost of a TurtleBot 3 Waffle)</td>
</tr>
</tbody>
</table>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nasa-jpl/open-source-rover/blob/master/images/rover.png"><img src="https://github.com/nasa-jpl/open-source-rover/raw/master/images/rover.png" alt=""></a></p>
<p dir="auto">The OSR mostly uses parts from <a href="https://www.gobilda.com/" rel="nofollow">GoBilda</a> for the mechanical assembly. For GoBilda's (international) shipping options, see <a href="https://www.gobilda.com/shipping-policy/" rel="nofollow">here</a>.</p>
<p dir="auto">Other open-source, cheaper alternatives exist but are slower, less strong, and are more fragile. See <a href="#additional-projects">Additional Projects</a>.</p>
<h3 tabindex="-1" id="user-content-features" dir="auto"><a href="#features">Features</a></h3>
<p dir="auto">This rover is designed to function similarly to the 6 wheel rover designs on Mars and employs a few of the major driving mechanics that the mars rovers use to traverse rocky surfaces:</p>
<ul dir="auto">
<li><strong>Rocker-Bogie:</strong> The Rocker-Bogie suspension system allows all 6 wheels to continually be in contact with the ground while climbing over obstacles</li>
<li><strong>Differential Pivot:</strong> Allows weight to be mechanically offloaded from one side of the rover to the other while climbing</li>
<li><strong>6-Wheel Ackerman Steering:</strong> Driving and steering/turning mechanism that governs where the wheels point and how fast each of them will move.</li>
</ul>
<p dir="auto">A Raspberry Pi acts as the "brain" of this rover for its versatility, accessibility, simplicity, and ability to add and upgrade your own modifications. Any method with which you can communicate with a Raspberry Pi (bluetooth, WiFi, USB devices, etc) can be interfaced into the control system of the robot.</p>
<h2 tabindex="-1" id="user-content-join-a-community-of-hundreds-of-builders" dir="auto"><a href="#join-a-community-of-hundreds-of-builders">Join a community of hundreds of builders</a></h2>
<p dir="auto">Considering building one yourself? The best way to ask questions, reach maintainers, learn about modifications, and join the community of Open Source Rover builders is to join our Slack group:</p>
<a href="https://join.slack.com/t/opensourcerover/shared_invite/zt-mfe0viua-FhcYsNb3S9vUra99uF3IBw" rel="nofollow">
  <img src="https://github.com/nasa-jpl/open-source-rover/raw/master/images/slack_logo.png" height="80">
</a>
<p dir="auto"><strong>Note: JPL and Caltech have no official affiliation with this forum; it is run by individuals of the general public.</strong> On these you can ask questions if you need help or clarification on any aspects of the project.  Additionally, you can post and promote any modifications or addons that you have created on this project. We highly encourage additions and modifications to be posted so that this project and community can grow.</p>
<h3 tabindex="-1" id="user-content-maintenance-status" dir="auto"><a href="#maintenance-status">Maintenance Status</a></h3>
<p dir="auto">As an open-source hardware project, the rover is continuously improving. Please check <a href="https://github.com/nasa-jpl/open-source-rover/issues">issues</a>, <a href="https://github.com/nasa-jpl/open-source-rover/projects">pull requests</a>, and the Slack forum to see if any big changes are expected soon.</p>
<h3 tabindex="-1" id="user-content-online-3d-model" dir="auto"><a href="#online-3d-model">Online 3D Model</a></h3>
<p dir="auto">You can view a 3D model of the latest version of the rover in your browser <a href="https://cad.onshape.com/documents/e4f00b1a3d2edb1a84bbba1c/w/8ab8f394324bcc586236ef5d/e/9191e5ad2a70f387b419bc55?renderMode=0&amp;uiState=645ede92f3a1a9205158b296" rel="nofollow">at OnShape</a>.</p>
<h3 tabindex="-1" id="user-content-skills-necessary" dir="auto"><a href="#skills-necessary">Skills Necessary</a></h3>
<p dir="auto">This project has elements in mechanical assembly/fabrication, uses a host of electrical components, and has software that will run it all. In order to complete this project, you will need to have some experience in the following:</p>
<ul dir="auto">
<li><strong>Fabrication/Machining:</strong> All parts are Consumer Off-The-Shelf (COTS) parts and <strong>no metal machining should be required</strong> to complete the 'base' version of the rover. However for any optional expansions, it may be useful to have access to the following skills/tools:
<ul dir="auto">
<li>Metal cutting using band saw/dremel</li>
<li>Drilling using drill press/hand drill</li>
<li>Filing and sanding for part cleanup</li>
<li>General Fabrication/Machining Safety</li>
</ul>
</li>
<li><strong>Electronics:</strong> This project uses components like motors, motor controllers, and batteries. While prior experience with the following skills is not required, having access to someone who can help will save a lot of time:
<ul dir="auto">
<li>Soldering</li>
<li>Electrical debugging</li>
<li>Wiring</li>
<li>Electrical Safety</li>
</ul>
</li>
<li><strong>Software:</strong> The rover's brain is a Raspberry Pi. All code can be found in the <a href="https://github.com/nasa-jpl/osr-rover-code">osr-rover-code</a> repository along with step-by-step instructions to set it up. Basic familiarity with Linux, ROS, Git, and Python will be helpful though.</li>
</ul>
<p dir="auto">Most of the above are skills that you can learn and pick up fairly quickly from watching videos and doing research on the internet, and throughout the project we try to give supplemental information on some of these as well. See the build documents for more information.</p>
<h3 tabindex="-1" id="user-content-tools-necessary" dir="auto"><a href="#tools-necessary">Tools Necessary</a></h3>
<p dir="auto">This project assumes you have some standard tools to help assemble the project. If you do not have any of the optional tools, we provide examples of online services that you can use to have the parts fabricated and sent to you.</p>
<h4 tabindex="-1" id="user-content-mandatory-tools" dir="auto"><a href="#mandatory-tools">Mandatory tools</a></h4>
<ul dir="auto">
<li>Metric hex keys</li>
<li>Pliers</li>
<li>Wire Snips</li>
<li>Wire Strippers</li>
<li>Solder Iron</li>
<li>Solder</li>
<li>Digital Multimeter</li>
<li>Wire strippers, e.g. <a href="https://www.amazon.com/dp/B07DWVSR41/?coliid=ISMG8XMBILGFK&amp;colid=1IM7RHK25RIBB&amp;psc=0&amp;ref_=lv_vv_lig_dp_it" rel="nofollow">these</a></li>
</ul>
<h4 tabindex="-1" id="user-content-optional-tools" dir="auto"><a href="#optional-tools">Optional Tools</a></h4>
<ul dir="auto">
<li>3D printer</li>
<li>Laser Cutter (for the body plates, online services available)</li>
<li>Benchtop Power Supply (to test without using battery)</li>
<li>Items for operating a Raspberry Pi (Keyboard, mouse, monitor, 5V micro USB power adapter)</li>
</ul>
<h3 tabindex="-1" id="user-content-expected-time-commitment" dir="auto"><a href="#expected-time-commitment">Expected time commitment</a></h3>
<p dir="auto">In our experience, this project takes no less than 100 person-hours to build, and depending on the familiarity and skill level of those involved could be significantly more. Experienced builders may be able to build this project in this amount of time.  However, this project is generally meant to be a teaching and learning tool.  Throughout the documentation, we try to give supplemental information for those who might be new to this kind of project.</p>
<h2 tabindex="-1" id="user-content-getting-started" dir="auto"><a href="#getting-started">Getting Started</a></h2>
<h3 tabindex="-1" id="user-content-rover-build-roadmap" dir="auto"><a href="#rover-build-roadmap">Rover Build Roadmap</a></h3>
<ul dir="auto">
<li>
<p dir="auto"><strong>Stage 1:</strong> <a href="#ordering-parts">Order parts</a>. You'll want to get started on this ASAP!</p>
</li>
<li>
<p dir="auto"><strong>Stage 2:</strong> <a href="https://github.com/nasa-jpl/open-source-rover/blob/master/electrical/wiring/README.md">Create the wiring</a>. The cables connect the Printed Circuit Board (PCB) in the body to each motor and integrate into the rocker-bogie and corner assemblies so they need to be built first.</p>
</li>
<li>
<p dir="auto"><strong>Stage 3:</strong> <a href="https://github.com/nasa-jpl/open-source-rover/blob/master/electrical/pcb/README.md">Make the electronics</a>: Soldering the PCB and installing into the rover along with peripheral connections. We'll also use the wiring to test your PCBs.</p>
</li>
<li>
<p dir="auto"><strong>Stage 4:</strong> <a href="https://github.com/nasa-jpl/open-source-rover/blob/master/mechanical/README.md">Make the mechanical assemblies</a>: the body, the two rocker-bogies, the drive and corner motor assemblies. The instructions will guide you through how to do these step by step while integrating the cabling from Stage 2. You'll then attach them into something that will start to look like a rover!</p>
</li>
<li>
<p dir="auto"><strong>Stage 5:</strong> Setting up and configuring the operating system rover code. The <a href="https://github.com/nasa-jpl/osr-rover-code">Rover Code repo</a>'s README files will walk you through all necessary steps for getting the rover software up and running on the Raspberry Pi. These steps can be completed at any point during the project, all the way up to when all the electronics and mechanical parts are completed and you are ready to start driving and controlling the robot.</p>
</li>
<li>
<p dir="auto"><strong>What's next?</strong> Add your own upgrades! We chose Raspberry Pi as the brain of the project so that it should be easy to add, change, and upgrade to build exciting things on top of this already cool robot.  Some upgrade ideas to get you brainstorming: sonar for collision detection, IMU for orientation / closed-loop driving / obstacle mapping, camera for object identification and tracking, sensor packages (temperature, pressure, humidity), solar panels, or even a robotic arm!</p>
</li>
</ul>
<h3 tabindex="-1" id="user-content-ordering-parts" dir="auto"><a href="#ordering-parts">Ordering parts</a></h3>
<h4 tabindex="-1" id="user-content-parts-lists" dir="auto"><a href="#parts-lists">Parts Lists</a></h4>
<p dir="auto">The <a href="https://github.com/nasa-jpl/open-source-rover/blob/master/parts_list/README.md">Parts List Readme</a> contains all the parts necessary to build the entirety of the robot as it is listed in our documentation.</p>
<p dir="auto">You can select higher RPM motors (to drive your rover faster) at the sacrifice of max stall torque. A selection of motors that would integrate easily with the rest of the suggested rover design can be found at <a href="https://www.gobilda.com/yellow-jacket-planetary-gear-motors/" rel="nofollow">GoBilda - 5203 series</a>.
The rover design and the software can accommodate different wheel sizes if you find wheels you like better.</p>
<p dir="auto">The body plates that attach to all sides of the body are designed to be made from laser cut acrylic, MDF, hardwood, or similar. The 2D cutout files  are the .DXF files in the <a href="https://github.com/nasa-jpl/open-source-rover/blob/master/mechanical/body/dxf">laser cut parts folder</a>. They were designed to be around 3mm thick (1/8"). You can choose a material and cut them at your local makerspace's laser cutter or order them from an online service like <a href="https://www.sculpteo.com/" rel="nofollow">Sculpteo</a> or <a href="https://sendcutsend.com/" rel="nofollow">SendCutSend</a>.</p>
<h2 tabindex="-1" id="user-content-additional-projects" dir="auto"><a href="#additional-projects">Additional Projects</a></h2>
<p dir="auto">Take a look at these alternative Mars rover replicas:</p>
<ul dir="auto">
<li><a href="https://hackaday.io/project/158208-sawppy-the-rover" rel="nofollow">Sawppy Rover</a></li>
<li><a href="https://github.com/esa-prl/ExoMy">ESA ExoMy</a></li>
</ul>
<h2 tabindex="-1" id="user-content-disclaimer" dir="auto"><a href="#disclaimer">Disclaimer</a></h2>
<p dir="auto">Reference herein to any specific commercial product, process, or service by trade name, trademark, manufacturer, or otherwise, does not constitute or imply its endorsement by the United States Government or the Jet Propulsion Laboratory, California Institute of Technology. Government sponsorship acknowledged.</p>
<p dir="auto">By downloading, cloning, or otherwise using the contents of this repository, you agree to the terms specified in the attached <a href="https://github.com/nasa-jpl/open-source-rover/blob/master/DISCLAIMER.txt">DISCLAIMER.txt file</a>.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[CFPB kicks off rulemaking to remove medical bills from credit reports (173 pts)]]></title>
            <link>https://www.consumerfinance.gov/about-us/newsroom/cfpb-kicks-off-rulemaking-to-remove-medical-bills-from-credit-reports/</link>
            <guid>37616171</guid>
            <pubDate>Fri, 22 Sep 2023 18:56:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.consumerfinance.gov/about-us/newsroom/cfpb-kicks-off-rulemaking-to-remove-medical-bills-from-credit-reports/">https://www.consumerfinance.gov/about-us/newsroom/cfpb-kicks-off-rulemaking-to-remove-medical-bills-from-credit-reports/</a>, See on <a href="https://news.ycombinator.com/item?id=37616171">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                <p data-block-key="ie0t5"><b>WASHINGTON, D.C.</b> â€“ The Consumer Financial Protection Bureau (CFPB) today announced it is beginning a rulemaking process to remove medical bills from Americansâ€™ credit reports. The CFPB outlined proposals under consideration that would help families financially recover from medical crises, stop debt collectors from coercing people into paying bills they may not even owe, and ensure that creditors are not relying on data that is often plagued with inaccuracies and mistakes.</p><p data-block-key="8cm31">â€œResearch shows that medical bills have little predictive value in credit decisions, yet tens of millions of American households are dealing with medical debt on their credit reports,â€ said CFPB Director Rohit Chopra. â€œWhen someone gets sick, they should be able to focus on getting better, rather than fighting debt collectors trying to extort them into paying bills they may not even owe.â€</p><p data-block-key="7iks1">A <a href="https://www.consumerfinance.gov/about-us/newsroom/cfpb-estimates-88-billion-in-medical-bills-on-credit-reports/">2022 report</a> found that roughly 20% of Americans report having medical debt, but <a href="https://www.consumerfinance.gov/about-us/newsroom/cfpb-study-finds-medical-debt-overly-penalizes-consumer-credit-scores/">previous research</a> by the CFPB has shown that medical billing data on a credit report is less predictive of future repayment than reporting on traditional credit obligations. Mistakes and inaccuracies in medical billing are common and can be compounded by problems such as disputes over insurance payments or complex billing practices.</p><p data-block-key="83c6a">The Fair Credit Reporting Act restricts creditorsâ€™ ability to use medical information in making credit decisions and places limits on the inclusion of medical information on credit reports. The FCRA also granted five financial regulators authority to create regulatory exemptions to the restriction on creditorsâ€™ use of medical information, and in 2005, those regulators created an exception to allow creditors to rely on medical data if it could be characterized as â€œfinancial information.â€</p><p data-block-key="btipa">The document released today is an outline of proposals and alternatives under consideration for the CFPBâ€™s medical debt rulemaking. If finalized, they would:</p><ul><li data-block-key="b8ha"><b>Remove medical bills from consumersâ€™ credit reports:</b> Consumer reporting companies would be prohibited from including medical debts and collection information on consumer reports that creditors use in making underwriting decisions.</li><li data-block-key="7rv83"><b>Stop creditors from relying on medical bills for underwriting decisions:</b> The proposal would narrow the 2005 exception and prohibit creditors from using medical collections information when evaluating borrowersâ€™ credit applications.</li><li data-block-key="51gc"><b>Stop coercive collection practices:</b> As unpaid medical bills would no longer appear on consumersâ€™ credit reports used by creditors in making underwriting decisions, debt collectors would no longer be able to use the credit reporting system as leverage to pressure consumers into paying questionable debts.</li></ul><p data-block-key="9ht47">The proposal would not stop creditors from obtaining medical bill information for other purposes, such as verifying the need for medical forbearances, or evaluating loan applications to pay for medical services.</p><p data-block-key="539ph">In advance of beginning the rulemaking process, the CFPB has engaged with the public on this issue. In a <a href="https://www.consumerfinance.gov/about-us/newsroom/prepared-remarks-of-director-rohit-chopra-for-the-cfpb-hearing-on-medical-billing-and-collections/">public hearing</a> in July 2023, the CFPB met with and listened to people from across the country on the impact poor medical billing practices and coercive credit reporting have on patients and families. The CFPB, <a href="https://www.consumerfinance.gov/about-us/newsroom/inquiry-into-costly-credit-cards-and-loans-pushed-on-patients-for-health-care-costs/">in partnership with other agencies</a>, is currently reviewing information submitted by the public on medical billing practices, including high-cost specialty financial products such as medical credit cards and installment loans. The CFPB continues to <a href="https://files.consumerfinance.gov/f/documents/cfpb_complaint-bulletin-medical-billing_report_2022-04.pdf"><span>receive complaints</span> <svg viewBox="0 0 12 19" xmlns="http://www.w3.org/2000/svg"><path d="M11.16 16.153a.477.477 0 0 1-.476.475H1.316a.476.476 0 0 1-.475-.475V3.046a.476.476 0 0 1 .475-.475h6.95l2.893 2.893zm-1.11-9.925H8.059a.575.575 0 0 1-.574-.573V3.679H1.95v11.84h8.102zm-1.234 5.604L6.388 14.26a.554.554 0 0 1-.784 0l-2.428-2.428a.554.554 0 1 1 .783-.784l1.483 1.482V7.41a.554.554 0 1 1 1.108 0v5.12l1.482-1.482a.554.554 0 0 1 .784.783z"></path></svg></a> from the public about illegal debt collection and credit reporting practices related to medical billing.</p><p data-block-key="5ghmd">The CFPB is taking steps to empower consumers by having them take more control over their personal financial data and how it is being used by companies. In addition to todayâ€™s announcement, the CFPB <a href="https://www.consumerfinance.gov/about-us/newsroom/cfpb-launches-inquiry-into-the-business-practices-of-data-brokers/">previously launched</a> an inquiry into the practices of data brokers, and how companies that track and collect information on peopleâ€™s personal lives impact consumers. As <a href="https://www.consumerfinance.gov/about-us/newsroom/remarks-of-cfpb-director-rohit-chopra-at-white-house-roundtable-on-protecting-americans-from-harmful-data-broker-practices/">announced</a> on August 15, 2023, the CFPB is considering proposals relating to data brokers.</p><p data-block-key="aanqt">The document released today is an outline of proposals and alternatives under consideration for the CFPBâ€™s Fair Credit Reporting Act Rulemaking. The medical debt announcement, and the August announcement on data brokers, are part of that rulemaking.</p><p data-block-key="fv2u8"><a href="https://files.consumerfinance.gov/f/documents/cfpb_consumer-reporting-rule-sbrefa_outline-of-proposals.pdf"><span>Read todayâ€™s Outline of Proposals and Alternatives Under Consideration.</span> <svg viewBox="0 0 12 19" xmlns="http://www.w3.org/2000/svg"><path d="M11.16 16.153a.477.477 0 0 1-.476.475H1.316a.476.476 0 0 1-.475-.475V3.046a.476.476 0 0 1 .475-.475h6.95l2.893 2.893zm-1.11-9.925H8.059a.575.575 0 0 1-.574-.573V3.679H1.95v11.84h8.102zm-1.234 5.604L6.388 14.26a.554.554 0 0 1-.784 0l-2.428-2.428a.554.554 0 1 1 .783-.784l1.483 1.482V7.41a.554.554 0 1 1 1.108 0v5.12l1.482-1.482a.554.554 0 0 1 .784.783z"></path></svg></a></p><p data-block-key="kqi0"><a href="https://www.consumerfinance.gov/about-us/newsroom/prepared-remarks-of-cfpb-director-rohit-chopra-on-medical-debt-at-a-press-call-hosted-by-vice-president-kamala-harris/">Read Director Chopraâ€™s remarks at a call hosted by Vice President Kamala Harris</a></p><p data-block-key="2k3ph"><a href="https://www.consumerfinance.gov/rules-policy/small-business-review-panels/small-business-review-panel-for-consumer-reporting-rulemaking/">Additional related materials are available on our rulemaking page.</a></p><p data-block-key="dk2nl">Consumers can submit complaints about financial products or services by visiting the <a href="https://www.consumerfinance.gov/complaint/">CFPBâ€™s website</a> or by calling (855) 411-CFPB (2372).</p><p data-block-key="edtpa">Employees who believe their companies have violated federal consumer financial protection laws are encouraged to send information about what they know to <a href="mailto:whistleblower@cfpb.gov">whistleblower@cfpb.gov</a>.</p>
            </div><div>



    <center><i>###</i></center><p><i>The Consumer Financial Protection Bureau is a 21st century agency that implements and enforces Federal consumer financial law and ensures that markets for consumer financial products are fair, transparent, and competitive. For more information, visit</i> <a href="https://www.consumerfinance.gov/"><i>consumerfinance.gov</i></a><i>.</i></p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[CloudNativePG â€“ Postgres Operator for Kubernetes (135 pts)]]></title>
            <link>https://cloudnative-pg.io/</link>
            <guid>37616033</guid>
            <pubDate>Fri, 22 Sep 2023 18:47:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cloudnative-pg.io/">https://cloudnative-pg.io/</a>, See on <a href="https://news.ycombinator.com/item?id=37616033">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    
<main>
  <header>
    <div>
      
      <p><a href="https://cloudnative-pg.io/"><img src="https://cloudnative-pg.io/logo/large_logo.svg" alt="Cloud Native Postgres Logo"></a>
      </p>

      
      
      
      

      
    </div>
  </header>
</main>


    


<div>
      <div>
        
        <h2>The Kubernetes way.</h2>
        <p>
          CloudNativePG is the Kubernetes operator that covers the full lifecycle of a highly available PostgreSQL database cluster with a primary/standby architecture, using native streaming replication.

        </p>
        
      </div>
      <p><img src="https://cloudnative-pg.io/images/hero_image.svg" alt="hero image">
      </p>
    </div>

<section>

    
    <div>
        
        <div>
    <h2>Autopilot</h2>
    <p>It automates the steps that a human operator would do to deploy and to manage a
Postgres database inside Kubernetes, including automated failover.</p>

</div>
        
        <div>
    <h2>Data persistence</h2>
    <p>It doesnâ€™t rely on statefulsets and uses its own way to manage persistent volume claims where the <code>PGDATA</code> is stored.</p>

</div>
        
        <div>
    <h2>Designed for Kubernetes</h2>
    <p>Itâ€™s entirely declarative, and directly integrates with the Kubernetes API server to update the state of the cluster â€” for this reason, it does not require an external failover management tool.</p>

</div>
        
    </div>
    

    
    <div>
        
        
        
        
<section>
    <div>
      <h2>Cloud Native</h2>
      <p>Built on proven DevOps concepts like immutable infrastructure, declarative
configuration, and microservice architecture, CloudNativePG exclusively relies
on the Kubernetes API server to maintain the state of a PostgreSQL cluster.
Additionally, CloudNativePG provides cloud native capabilities like self-healing,
high availability, rolling updates, scale up/down of read-only replicas,
affinity/anti-affinity/tolerations for scheduling, resource management, and so
on.</p>

    </div>
    <p><img src="https://cloudnative-pg.io/icons/info/cloud-native.svg" alt="Cloud Native">
    </p>
  </section>
<section>
    <p><img src="https://cloudnative-pg.io/icons/info/cloud-native.svg" alt="Cloud Native">
    </p>
    <div>
      <h2>Cloud Native</h2>
      <p>Built on proven DevOps concepts like immutable infrastructure, declarative
configuration, and microservice architecture, CloudNativePG exclusively relies
on the Kubernetes API server to maintain the state of a PostgreSQL cluster.
Additionally, CloudNativePG provides cloud native capabilities like self-healing,
high availability, rolling updates, scale up/down of read-only replicas,
affinity/anti-affinity/tolerations for scheduling, resource management, and so
on.</p>

    </div>
  </section>


        
        
        

<section>
    <p><img src="https://cloudnative-pg.io/icons/info/security.svg" alt="Security &amp; TLS Certificates">
    </p>
    <p><img src="https://cloudnative-pg.io/icons/info/security.svg" alt="Security &amp; TLS Certificates">
    </p>
    <div>
      <h2>Security &amp; TLS Certificates</h2>
      <p>CloudNativePG supports security contexts by default and implements in-transit
encrypted TLS connections. If you are not happy with auto-generated
certificates, you can bring your own and even integrate with cert-manager. TLS
client authentication for PostgreSQL is also supported, and auditing with PGAudit
can be easily enabled in a declarative way.</p>

    </div>
  </section>


        
        
        
<section>
    <div>
      <h2>High Availability</h2>
      <p>PostgreSQL has a reliable foundation for high availability that is built on
physical replication. CloudNativePG leverages streaming replication and a
file-based one as a fallback method. You can tune synchronous replication to
obtain zero data loss replicas.</p>

    </div>
    <p><img src="https://cloudnative-pg.io/icons/info/high-availability.svg" alt="High Availability">
    </p>
  </section>
<section>
    <p><img src="https://cloudnative-pg.io/icons/info/high-availability.svg" alt="High Availability">
    </p>
    <div>
      <h2>High Availability</h2>
      <p>PostgreSQL has a reliable foundation for high availability that is built on
physical replication. CloudNativePG leverages streaming replication and a
file-based one as a fallback method. You can tune synchronous replication to
obtain zero data loss replicas.</p>

    </div>
  </section>


        
        
        

<section>
    <p><img src="https://cloudnative-pg.io/icons/info/desaster.svg" alt="Disaster Recovery">
    </p>
    <p><img src="https://cloudnative-pg.io/icons/info/desaster.svg" alt="Disaster Recovery">
    </p>
    <div>
      <h2>Disaster Recovery</h2>
      <p>Define your disaster recovery objectives through continuous backup on object
stores, and exploits the native Point-In-Time-Recovery capabilities of
PostgreSQL by boostrapping a new cluster starting from a backup to a given
timestamp.</p>

    </div>
  </section>


        
        
        
<section>
    <div>
      <h2>Monitoring</h2>
      <p>CloudNativePG has a built-in exporter for Prometheus that can be configured and
customized through user defined metrics written in SQL. Logs, including
database and audit, are transparently sent to stdout in JSON format for
native integration with infrastructure log management pipelines.</p>

    </div>
    <p><img src="https://cloudnative-pg.io/icons/info/monitoring.svg" alt="Monitoring">
    </p>
  </section>
<section>
    <p><img src="https://cloudnative-pg.io/icons/info/monitoring.svg" alt="Monitoring">
    </p>
    <div>
      <h2>Monitoring</h2>
      <p>CloudNativePG has a built-in exporter for Prometheus that can be configured and
customized through user defined metrics written in SQL. Logs, including
database and audit, are transparently sent to stdout in JSON format for
native integration with infrastructure log management pipelines.</p>

    </div>
  </section>


        
        
        

<section>
    <p><img src="https://cloudnative-pg.io/icons/info/advanced.svg" alt="Advanced Architectures">
    </p>
    <p><img src="https://cloudnative-pg.io/icons/info/advanced.svg" alt="Advanced Architectures">
    </p>
    <div>
      <h2>Advanced Architectures</h2>
      <p>You can extend the primary/standby architecture by adding a PgBouncer
connection pooler between your application and your PostgreSQL database.
Additionally, you can take advantage of replica clusters by creating one or
more disaster recovery clusters in different regions, solely relying on file
based WAL shipping from an object store or using a streaming replication
connection.</p>

    </div>
  </section>


        
        
        
<section>
    <div>
      <h2>Postgres Operations</h2>
      <p>Most Postgres related operations can be done in a declarative way, including
management of superuser credentials, application user, and application
database. Declarative configuration also covers Postgres configuration and some
common extensions like <code>pg_stat_statements</code>.</p>

    </div>
    <p><img src="https://cloudnative-pg.io/icons/info/postgres-operations.svg" alt="Postgres Operations">
    </p>
  </section>
<section>
    <p><img src="https://cloudnative-pg.io/icons/info/postgres-operations.svg" alt="Postgres Operations">
    </p>
    <div>
      <h2>Postgres Operations</h2>
      <p>Most Postgres related operations can be done in a declarative way, including
management of superuser credentials, application user, and application
database. Declarative configuration also covers Postgres configuration and some
common extensions like <code>pg_stat_statements</code>.</p>

    </div>
  </section>


        
        

    </div>
    

    
    <div>
        <h2>This open source project has been originally created by</h2>
        <p><a href="https://www.enterprisedb.com/products/cloud-native-postgresql-kubernetes-ha-clusters-k8s-containers-scalable"><img src="https://cloudnative-pg.io/logo/edb_logo.svg" alt="EDB logo"></a></p>
        <h2>100%</h2>
        <h2>Open Source</h2>
        <p>
            CloudNativePG is 100% open source and community-driven.
            All components are available under the <a href="https://github.com/cloudnative-pg/cloudnative-pg/blob/main/LICENSE">Apache 2
                license</a>
            on <a href="https://github.com/cloudnative-pg/cloudnative-pg">GitHub</a>.</p>
    </div>
    

    
</section>


    

  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Creator of Vue.js Evan You's Journey from Google Engineer to Open Source Pioneer (110 pts)]]></title>
            <link>https://www.thisdot.co/blog/creator-of-vue-js-and-vite-evan-yous-journey-from-google-engineer-to-open/</link>
            <guid>37615801</guid>
            <pubDate>Fri, 22 Sep 2023 18:30:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.thisdot.co/blog/creator-of-vue-js-and-vite-evan-yous-journey-from-google-engineer-to-open/">https://www.thisdot.co/blog/creator-of-vue-js-and-vite-evan-yous-journey-from-google-engineer-to-open/</a>, See on <a href="https://news.ycombinator.com/item?id=37615801">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main"><header></header><div><div><iframe width="560" height="315" src="https://www.youtube.com/embed/weaYWoL_ymI?si=kkO8Y8ZKl_kkHZUt" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
<p>In this episode of "Just Ship It," Evan You, the creator of Vue.js and Vite, discusses his journey to becoming an independent open-source developer. His dedication to Vue.js and (and now Vite) since 2016 has made him a prominent figure in the open-source community. This conversation highlights  Evan's transition to full-time open-source work, the growth of Vue.js, and his aspirations for the future.</p>
<p>Evan shares his journey toward becoming a full-time open-source developer and the challenges and factors that facilitated this shift. Evan attributes his success to a combination of luck and persistence. He elaborates on his experiences while developing Vue.js, emphasizing his passion for solving intriguing problems. He outlines his approach to API-driven development, where he designs how things should work before implementing them.</p>
<p>Evan explains that Vue.js initially attracted users through platforms like Hacker News and Chinese social networks, thanks to its bottom-up approach and user-friendly documentation. This is in stark contrast to larger frameworks like React and Angular, which often gain enterprise-level adoption due to corporate backing.</p>
<p>Evan reflects on Vue.js's evolution, highlighting the turning point when it gained prominence in the Laravel community, solidifying its reputation as a dependable framework for production projects. He discusses how Vue.js particularly appeals to back-end developers, as it seamlessly integrates with traditional back-end frameworks.</p>
<p>The conversation touches on Vue.js's adoption in different regions, particularly in Asia, attributing its success to Evan's active participation in Chinese social networks. Additionally, Evan underscores the importance of high-quality Chinese documentation.</p>
<p>The episode concludes with Evan sharing the pace and satisfaction he found in working on Vue.js during its early stages, contrasting it with the more complex decision-making processes required as the project grew.
Evan's work on Vue.js and Vite has had a significant impact on the web development landscape, and his commitment to fostering a thriving open-source community continues to shape the future of front-end development.</p></div><div><p><em>This Dot Labs is a development consultancy that is trusted by top industry companies, including Stripe, Xero, Wikimedia, Docusign, and Twilio. This Dot takes a hands-on approach by providing tailored development strategies to help you approach your most pressing challenges with clarity and confidence. Whether it's bridging the gap between business and technology or modernizing legacy systems, youâ€™ll find a breadth of experience and knowledge you need. Check out how This Dot Labs can empower your tech journey.</em></p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[When half a million Americans died and nobody noticed (2012) (133 pts)]]></title>
            <link>https://theweek.com/us/46535/when-half-million-americans-died-and-nobody-noticed</link>
            <guid>37615638</guid>
            <pubDate>Fri, 22 Sep 2023 18:17:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://theweek.com/us/46535/when-half-million-americans-died-and-nobody-noticed">https://theweek.com/us/46535/when-half-million-americans-died-and-nobody-noticed</a>, See on <a href="https://news.ycombinator.com/item?id=37615638">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="article-body">
<section aria-label="newsletter signup form">
<p><span>Sign up to our 10 Things You Need to Know Today newsletter</span>
</p>
<div>
<p>A free daily digest of the biggest news stories of the day - and the best features from our website</p>

<p>Thank you for signing up to TheWeek. You will receive a verification email shortly.</p>
<p>There was a problem. Please refresh the page and try again.</p>

</div>
</section>
<p>ARE American lives cheaper than those of the Chinese? It's a question raised by Ron Unz, publisher of <a href="http://www.theamericanconservative.com/blog/chinese-melamine-and-american-vioxx-a-comparison/%20" target="_blank" data-url="http://www.theamericanconservative.com/blog/chinese-melamine-and-american-vioxx-a-comparison/%20">The American Conservative</a>, who has produced a compelling comparison between the way the Chinese dealt with one of their drug scandals â€“ melamine in baby formula - and how the US handled the Vioxx aspirin-substitute disaster. The Chinese scandal surfaced in 2008, shortly before the Beijing Olympics. Crooked dairymen diluted their milk products, then added a plastic chemical compound called melamine to raise the apparent protein content back to normal levels. Nearly 300,000 babies across China suffered urinary problems, with many hundreds requiring lengthy hospitalisation for kidney stones. Six died.</p><p>Long prison sentences were handed down and a couple of the guiltiest culprits were tried and executed for their role. Throughout these events, American media coverage was extensive, with appropriate sneering about the Chinese leadership's indifference to human life. Four years earlier, in September 2004, Merck, one of America's largest pharmaceutical companies, issued a sudden recall of Vioxx, its anti-pain medication widely used to treat arthritis-related ailments.</p><p>The recall came just days after Merck discovered that a top medical journal was about to publish a study by an FDA (Food and Drug Administration) investigator indicating that the drug in question greatly increased the risk of fatal heart attacks and strokes and had probably been responsible for at least 55,000 American deaths during the five years it had been on the market. It soon turned out Merck had known of potential lethal side effects even before launching Vioxx in 1999, but had brushed all such disturbing tests under the rug.</p><div id="blueconic-article-theweek">
<div>
<h2>Subscribe to <span>The Week</span></h2>
<p>Escape your echo chamber. Get the facts behind the news, plus analysis from multiple perspectives.</p>
<a href="https://subscribe.theweek.com/servlet/OrdersGateway?cds_mag_code=TWE&amp;cds_page_id=246023&amp;cds_response_key=I1ERPKSW4&amp;utm_medium=referral&amp;utm_source=theweek.com&amp;utm_campaign=brandsite&amp;utm_content=us-article-page%20" target="__blank">
<p>
SUBSCRIBE &amp; SAVE
</p>
</a>
</div>
<div>
<h2>Sign up for The Week's Free Newsletters</h2>
<p>From our morning news briefing to a weekly Good News Newsletter, get the best of The Week delivered directly to your inbox.</p>
<p>From our morning news briefing to a weekly Good News Newsletter, get the best of The Week delivered directly to your inbox.</p>
</div>
</div><p>With a TV ad budget averaging a hundred million dollars per year, Vioxx swiftly became one of Merck's bestsellers, generating over $2 billion in yearly revenue. Twenty-five million Americans were eventually prescribed Vioxx as an aspirin-substitute thought to produce fewer complications. There was a fair amount of news coverage after the recall, but pretty slim considering the alleged 55,000 death toll. A class-action lawsuit dragged its way through the courts for years, eventually being settled for $4.85 billion in 2007.</p><p>When the scandal first broke, Merck's stock price collapsed, and many believed that the company could not possibly survive, especially after evidence of a deliberate corporate conspiracy surfaced. Instead, Merck's stock price eventually reached new heights in 2008 and today it is just 15 per cent below where it stood before the disaster. The year after the scandal unfolded, Merck's long-time CEO resigned and was replaced by one of his top lieutenants. But he retained the $50 million in financial compensation he had received over the previous five years. Neither he nor any other Merck executives was charged with corporate malfeasance.</p><p>Senior FDA officials apologised for their lack of effective oversight and promised to do better in the future. The Vioxx scandal began to sink into the vast marsh of semi-forgotten international pharmaceutical scandals.</p><p>Then in 2005, as he now remembers it, Ron Unz "was reading my morning newspapers, as I always do, and noticed tiny items about an unprecedented drop in the American death rate. Hmm I said, I wonder if that might have anything to do with all those other stories about that deadly drug recently taken off the market and all the resulting lawsuits." The year after Vioxx was pulled from the market, the New York Times and other media outlets were running minor news items, usually down-column, noting that American death rates had undergone a striking and completely unexpected decline. These were what Unz, a dedicated news browser, was reading. Typical was the headline on a short article that ran in the 19 April 2005 edition of USA Today: 'USA Records Largest Drop in Annual Deaths in at Least 60 Years.' During that one year, American deaths fell by 50,000 despite the growth in both the size and the age of the nation's population. Government health experts were quoted as being greatly "surprised" and "scratching [their] heads" over this strange anomaly, which was led by a sharp drop in fatal heart attacks.</p><p>For his Chinese melamine/Vioxx comparison, Unz went back to those 2005 stories. Quick scrutiny of the most recent 15 years worth of national mortality data provided on the US Government's Centers for Disease Control and Prevention website offered Unz some useful clues.</p><p>"We find the largest rise in American mortality rates occurred in 1999, the year Vioxx was introduced, while the largest drop occurred in 2004, the year it was withdrawn," says Unz. "Vioxx was almost entirely marketed to the elderly, and these substantial changes in the national death-rate were completely concentrated within the 65-plus population.</p><p>"The FDA studies had proven that use of Vioxx led to deaths from cardiovascular diseases such as heart attacks and strokes, and these were exactly the factors driving the changes in national mortality rates." The impact of these shifts, Unz points out, was not small. After a decade of remaining roughly constant, the overall American death rate began a substantial decline in 2004, soon falling by approximately five per cent, despite the continued ageing of the population. This drop corresponds to roughly 100,000 fewer deaths per year. The age-adjusted decline in death rates was considerably greater. "Patterns of cause and effect cannot easily be proven," Unz continues. "But if we hypothesise a direct connection between the recall of a class of very popular drugs proven to cause fatal heart attacks and other deadly illnesses with an immediate drop in the national rate of fatal heart attacks and other deadly illnesses, then the statistical implications are quite serious."</p><p>Unz makes the point that the users of Vioxx were almost all elderly, and it was not possible to determine whether a particular victim's heart attack had been caused by Vioxx or other factors. But he concludes: "<em>Perhaps 500,000 or more premature American deaths may have resulted from Vioxx</em> [my italics], a figure substantially larger than the 3,468 deaths of named individuals acknowledged by Merck during the settlement of its lawsuit. And almost no one among our political or media elites seems to know or care about this possibility." I remarked to Unz that it seemed truly incredible that a greater than expected death rate of this dimension should scarcely have caused a ripple. "I'm just as astonished," he said. "From 2004 onwards, huge numbers of America's toughest trial lawyers were suing Merck for billions based on Vioxx casualties - didn't they notice the dramatic drop in the national death rate?</p><p>"The inescapable conclusion is that in today's world and in the opinion of our own media, American lives are quite cheap, unlike those in China. "Besides," says Unz laughing, "it shows the stupidity of our political leaders that they didn't seize upon this great opportunity. They should have just renamed Vioxx the 'Save Social Security Drug,' and distributed it free in very large doses to everyone, starting on their 65th birthday. Maybe they should have even made it mandatory, three times per day. At sufficiently large levels of national consumption, Vioxx could have almost singlehandedly eliminated all our serious budget deficit problems. 'Vioxx - The Miracle Anti-Deficit Drug'."</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Tome, aka Tom's Editor â€“Â a new command-line text editor (126 pts)]]></title>
            <link>https://github.com/boutell/tome/blob/main/README.md</link>
            <guid>37614851</guid>
            <pubDate>Fri, 22 Sep 2023 17:23:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/boutell/tome/blob/main/README.md">https://github.com/boutell/tome/blob/main/README.md</a>, See on <a href="https://news.ycombinator.com/item?id=37614851">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:boutell/tome" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="qoCiq-bERCVMzOhnttSf46hypJ8RlKYu1bMPP77tyP8K5bd-ymfXNIoXiLbGCHpdR-LZjyHF7OO3k9lKlygdNQ" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="boutell/tome" data-current-org="" data-current-owner="boutell" data-logged-in="false">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="feedback-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      
      
</modal-dialog></div>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="custom-scopes-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      
      
</modal-dialog></div>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&amp;source=header-repo&amp;source_repo=boutell%2Ftome" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/boutell/tome/blob/main/README.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="f8cea5d17be4d1ec25979728515b9512b95d098ddda6ebdca2494af1dba010eb" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>/blob/show;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[0-days exploited by commercial surveillance vendor in Egypt (478 pts)]]></title>
            <link>https://blog.google/threat-analysis-group/0-days-exploited-by-commercial-surveillance-vendor-in-egypt/</link>
            <guid>37614816</guid>
            <pubDate>Fri, 22 Sep 2023 17:21:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.google/threat-analysis-group/0-days-exploited-by-commercial-surveillance-vendor-in-egypt/">https://blog.google/threat-analysis-group/0-days-exploited-by-commercial-surveillance-vendor-in-egypt/</a>, See on <a href="https://news.ycombinator.com/item?id=37614816">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-component="uni-article-paragraph" data-analytics-module="{
           &quot;module_name&quot;: &quot;Paragraph&quot;,
           &quot;section_header&quot;: &quot;0\u002Ddays exploited by commercial surveillance vendor in Egypt&quot;
         }"><p data-block-key="z0lph">Last week Googleâ€™s Threat Analysis Group (TAG), in partnership with <a href="https://citizenlab.ca/2023/09/predator-in-the-wires-ahmed-eltantawy-targeted-with-predator-spyware-after-announcing-presidential-ambitions">The Citizen Lab</a>, discovered an in-the-wild 0-day exploit chain for iPhones. Developed by the commercial surveillance vendor, Intellexa, this exploit chain is used to install its Predator spyware surreptitiously onto a device.</p><p data-block-key="db5qn">In response, yesterday, Apple patched the bugs in <a href="https://support.apple.com/en-us/HT213927">iOS 16.7</a> and <a href="https://support.apple.com/en-us/HT213926">iOS 17.0.1</a> as CVE-2023-41991, CVE-2023-41992, CVE-2023-41993. This quick patching from Apple helps to better protect users and we encourage all iOS users to install them as soon as possible.</p><h3 data-block-key="9mihu">Exploit delivery via man-in-the-middle (MITM)</h3><p data-block-key="3tkrk">The Intellexa exploit chain was delivered via a â€œman-in-the-middleâ€ (MITM) attack, where an attacker is in between the target and the website theyâ€™re trying to reach. If the target is going to a website using â€˜httpâ€™, then the attacker can intercept the traffic and send fake data back to the target to force them to a different website. Visiting a website using â€˜httpsâ€™ means that the traffic is encrypted, and it is easily verifiable that the received data came from the intended website using their certificate. That is not the case when using â€˜httpâ€™.</p><p data-block-key="43ulj">In the case of this campaign, if the target went to any â€˜httpâ€™ site, the attackers injected traffic to silently redirect them to an Intellexa site, c.betly[.]me. If the user was the expected targeted user, the site would then redirect the target to the exploit server, sec-flare[.]com. While thereâ€™s a spotlight on â€œ0-clickâ€ vulnerabilities (bugs that donâ€™t require user interaction) this MITM delivery also didnâ€™t require the user to open any documents, click a specific link, or answer any phone calls.</p><h3 data-block-key="7bvmk">iOS Exploit Chain</h3><p data-block-key="3mmcg">As soon as the attacker redirected the target to their exploit server, the exploit chain began to execute. For iOS, this chain included three vulnerabilities:</p><ul><li data-block-key="9h3i5">CVE-2023-41993: Initial remote code execution (RCE) in Safari</li><li data-block-key="b9i2o">CVE-2023-41991: PAC bypass</li><li data-block-key="bchsp">CVE-2023-41992: Local privilege escalation (LPE) in the XNU Kernel</li></ul><p data-block-key="d9tj1">The chain then ran a small binary to decide whether or not to install the full Predator implant. However, TAG was unable to capture the full Predator implant.</p><p data-block-key="9beab">We plan to publish a technical deep dive on these exploits in line with the <a href="https://about.google/appsecurity/">Google vulnerability disclosure policy</a>.</p><h3 data-block-key="7qhpg">Android Exploit Chain</h3><p data-block-key="8ub7c">The attacker also had an exploit chain to install Predator on Android devices in Egypt. TAG observed these exploits delivered in two different ways: the MITM injection and via one-time links sent directly to the target. We were only able to obtain the initial renderer remote code execution vulnerability for Chrome, which was exploiting <a href="https://chromereleases.googleblog.com/2023/09/stable-channel-update-for-desktop.html">CVE-2023-4762</a>.</p><p data-block-key="1me89">This bug had already been separately reported to the Chrome Vulnerability Rewards Program by a security researcher and was patched on September 5th. We assess that Intellexa was also previously using this vulnerability as a 0-day.</p><h3 data-block-key="fp05">Chrome's work to protect against MITM</h3><p data-block-key="6d3d2">For years, Chrome has worked toward universal HTTPS adoption across the web. Additionally <a href="https://blog.chromium.org/2021/07/increasing-https-adoption.html">Chrome has an â€œHTTPS-First Modeâ€</a> that can reduce the likelihood of exploits being delivered via MITM network injection. "HTTPS-First Mode" will attempt to load all pages over HTTPS, and show a large warning before falling back to sending an HTTP request. This setting is currently on by default for users enrolled in the <a href="https://landing.google.com/advancedprotection/">Advanced Protection Program</a> who are also signed into Chrome. We encourage all users <a href="https://support.google.com/chrome/answer/10468685?hl=en&amp;co=GENIE.Platform%3DAndroid">to enable â€œHTTPS-First Modeâ€</a> to better protect themselves from MITM attacks.</p><h3 data-block-key="1gn1m">Conclusion</h3><p data-block-key="5b2rm">This campaign is yet another example of the abuses caused by the proliferation of commercial surveillance vendors and their serious risk to the safety of online users. TAG will continue to take action against, and publish research about, the commercial spyware industry, as well as work across the public and private sectors to push this work forward.</p><p data-block-key="1q972">We would like to acknowledge and thank The Citizen Lab for their collaboration and partnership in the capturing and analysis of these exploits, and Apple for deploying a timely patch for the safety of online users.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[An open letter to our community (234 pts)]]></title>
            <link>https://blog.unity.com/news/open-letter-on-runtime-fee</link>
            <guid>37614793</guid>
            <pubDate>Fri, 22 Sep 2023 17:20:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.unity.com/news/open-letter-on-runtime-fee">https://blog.unity.com/news/open-letter-on-runtime-fee</a>, See on <a href="https://news.ycombinator.com/item?id=37614793">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>To our community:</p>
<p>Iâ€™m Marc Whitten, and I lead Unity Create which includes the Unity engine and editor teams.</p>
<p>I want to start with this: I am sorry.&nbsp;</p>
<p>We should have spoken with more of you and we should have incorporated more of your feedback before announcing our new Runtime Fee policy. Our goal with this policy is to ensure we can continue to support you today and tomorrow, and keep deeply investing in our game engine.</p>
<p>You are what makes Unity great, and we know we need to listen, and work hard to earn your trust. We have heard your concerns, and we are making changes in the policy we announced to address them.</p>
<p>Our Unity Personal plan will remain free and there will be no Runtime Fee for games built on <strong>Unity Personal</strong>. We will be increasing the cap from $100,000 to $200,000 and we will remove the requirement to use the <em>Made with Unity</em> splash screen.</p>
<p>No game with less than $1 million in trailing 12-month revenue will be subject to the fee.</p>
<p>For those creators on <strong>Unity Pro and Unity Enterprise</strong>, we are also making changes based on your feedback.</p>
<p>The Runtime Fee policy will only apply <strong>beginning with the next LTS version of Unity</strong> shipping in 2024 and beyond. Your games that are currently shipped and the projects you are currently working on will not be included â€“ unless you choose to upgrade them to this new version of Unity.</p>
<p><strong>We will make sure that you can stay on the terms applicable for the version of Unity editor you are using </strong>â€“ as long as you keep using that version.</p>
<p>For games that are subject to the runtime fee, we are giving you a choice of either a <strong>2.5% revenue share</strong> or the calculated amount based on the number of new people engaging with your game each month. Both of these numbers are <strong>self-reported</strong> from data you already have available. You will always be billed the lesser amount.</p>
<p>We want to continue to build the best engine for creators. We truly love this industry and you are the reason why.</p>
<p>Iâ€™d like to invite you to join me for a <a href="https://youtube.com/live/qyLcI5O9iUY" target="_blank">live fireside chat</a> hosted by Jason Weimann today at 4:00 pm ET/1:00 pm PT, where I will do my best to answer your questions. In the meantime, <a href="https://unity.com/pricing-updates" target="_blank">here</a> are some more details.<sup>*</sup></p>
<p>Thank you for caring as deeply as you do, and thank you for giving us hard feedback.</p>
<p>Marc Whitten</p>
<p><sup><em>*We are working to localize translations of this web page.</em></sup></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Apple fucked us on right to repair (again) (160 pts)]]></title>
            <link>https://pluralistic.net/2023/09/22/vin-locking/#thought-differently</link>
            <guid>37614279</guid>
            <pubDate>Fri, 22 Sep 2023 16:43:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://pluralistic.net/2023/09/22/vin-locking/#thought-differently">https://pluralistic.net/2023/09/22/vin-locking/#thought-differently</a>, See on <a href="https://news.ycombinator.com/item?id=37614279">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-6729">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
vin locking, apple, right to repair, california, ifixit, iphones, sb244, parts pairing, serialization, dmca 1201, felony contempt of business model, ewaste, repairwashing, fuckery

Summary:
Apple fucked us on right to repair (again); Hey look at this

URL:
https://pluralistic.net/2023/09/22/vin-locking/

Title:
Pluralistic: Apple fucked us on right to repair (again) (22 Sept 2023) vin-locking

Bullet:
ðŸŽ’

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
Today's top sources: Naked Capitalism (https://www.nakedcapitalism.com/).

--><br>
<a href="https://pluralistic.net/2023/09/22/vin-locking/"><img data-lazy-fallback="1" decoding="async" src="https://i0.wp.com/craphound.com/images/22Sep2023.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/22Sep2023.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>
<h2>Today's links</h2>
<ul>
<li><a href="https://pluralistic.net/2023/09/22/vin-locking/#thought-differently">Apple fucked us on right to repair (again)</a>: "Parts-pairing" is a scam.
</li>
<li><a href="https://pluralistic.net/2023/09/22/vin-locking/#linkdump">Hey look at this</a>: Delights to delectate.
</li>
<li><a href="https://pluralistic.net/2023/09/22/vin-locking/#retro">This day in history</a>: 2003, 2008, 2013, 2018, 2022
</li>
<li><a href="https://pluralistic.net/2023/09/22/vin-locking/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="thought-differently"></a><br>
<img data-lazy-fallback="1" decoding="async" alt="An ornate fireplace and mantlepiece. There is a roaring fire in the grate. Over the mantlepiece is an AR-15 assault rifle, surmounted by Apple's 'Think Different' wordmark. The scene is pockmarked with bullet-holes." src="https://i0.wp.com/craphound.com/images/apple-gun-on-mantlepiece.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/apple-gun-on-mantlepiece.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h2>Apple fucked us on right to repair (again) (<a href="https://pluralistic.net/2023/09/22/vin-locking/#thought-differently">permalink</a>)</h2>
<p>Right to repair has no cannier, more dedicated adversary than Apple, a company whose most innovative work is dreaming up new ways to sneakily sabotage electronics repair while claiming to be a caring environmental steward, a lie that covers up the mountains of e-waste that Apple dooms our descendants to wade through.</p>
<p>Why does Apple hate repair so much? It's not that they want to poison our water and bodies with microplastics; it's not that they want to hasten the day our coastal cities drown; it's not that they relish the human misery that accompanies every gram of conflict mineral. They aren't sadists. They're merely sociopathically greedy.</p>
<p>Tim Cook laid it out for his investors: when people can repair their devices, they don't buy new ones. When people don't buy new devices, Apple doesn't sell them new devices. It's that's simple:</p>
<p><a href="https://www.inverse.com/article/52189-tim-cook-says-apple-faces-2-key-problems-in-surprising-shareholder-letter">https://www.inverse.com/article/52189-tim-cook-says-apple-faces-2-key-problems-in-surprising-shareholder-letter</a></p>
<p>So Apple does everything it can to monopolize repair. Not just because this lets the company gouge you on routine service, but because it lets them decide when your phone is beyond repair, so they can offer you a trade-in, ensuring both that you buy a new device and that the device you buy is another Apple.</p>
<p>There are so many tactics Apple gets to use to sabotage repair. For example, Apple engraves microscopic Apple logos on the subassemblies in its devices. This allows the company to enlist US Customs to seize and destroy refurbished parts that are harvested from dead phones by workers in the Pacific Rim:</p>
<p><a href="https://repair.eu/news/apple-uses-trademark-law-to-strengthen-its-monopoly-on-repair/">https://repair.eu/news/apple-uses-trademark-law-to-strengthen-its-monopoly-on-repair/</a></p>
<p>Of course, the easiest way to prevent harvested components from entering the parts stream is to destroy as many old devices as possible. That's why Apple's so-called "recycling" program <em>shreds</em> any devices you turn over to them. When you trade in your old iPhone at an Apple Store, it is converted into immortal e-waste (no other major recycling program does this). The logic is straightforward: no parts, no repairs:</p>
<p><a href="https://www.vice.com/en/article/yp73jw/apple-recycling-iphones-macbooks">https://www.vice.com/en/article/yp73jw/apple-recycling-iphones-macbooks</a></p>
<p>Shredding parts and cooking up bogus trademark claims is just for starters, though. For Apple, the true anti-repair innovation comes from the most pernicious US tech law: Section 1201 of the Digital Millennium Copyright Act (DMCA).</p>
<p>DMCA 1201 is an "anti-circumvention" law. It bans the distribution of any tool that bypasses "an effective means of access control." That's all very abstract, but here's what it means: if a manufacturer sticks some Digital Rights Management (DRM) in its device, then anything you want to do that involves removing that DRM is now illegal â€“ even if the thing itself is perfectly legal.</p>
<p>When Congress passed this stupid law in 1998, it had a very limited blast radius. Computers were still pretty expensive and DRM use was limited to a few narrow categories. In 1998, DMCA 1201 was mostly used to prevent you from de-regionalizing your DVD player to watch discs that had been released overseas but not in your own country.</p>
<p>But as we warned back then, computers were only going to get smaller and cheaper, and eventually, it would only cost manufacturers pennies to wrap their products â€“ or even subassemblies in their products â€“ in DRM. Congress was putting a gun on the mantelpiece in Act I, and it was bound to go off in Act III.</p>
<p>Welcome to Act III.</p>
<p>Today, it costs about a quarter to add a system-on-a-chip to even the tiniest parts. These SOCs can run DRM. Here's how that DRM works: when you put a new part in a device, the SOC and the device's main controller communicate with one another. They perform a cryptographic protocol: the part says, "Here's my serial number," and then the main controller prompts the user to enter a manufacturer-supplied secret code, and the master controller sends a signed version of this to the part, and the part and the system then recognize each other.</p>
<p>This process has many names, but because it was first used in the automotive sector, it's widely known as VIN-Locking (VIN stands for "vehicle identification number," the unique number given to every car by its manufacturer). VIN-locking is used by automakers to block independent mechanics from repairing your car; even if they use the manufacturer's own parts, the parts and the engine will refuse to work together until the manufacturer's rep keys in the unlock code:</p>
<p><a href="https://pluralistic.net/2023/07/24/rent-to-pwn/#kitt-is-a-demon">https://pluralistic.net/2023/07/24/rent-to-pwn/#kitt-is-a-demon</a></p>
<p>VIN locking is everywhere. It's how John Deere stops farmers from fixing their own tractors â€“ something farmers have done literally since tractors were invented:</p>
<p><a href="https://pluralistic.net/2022/05/08/about-those-kill-switched-ukrainian-tractors/">https://pluralistic.net/2022/05/08/about-those-kill-switched-ukrainian-tractors/</a></p>
<p>It's in <em>ventilators</em>. Like mobile phones, ventilators are a grotesquely monopolized sector, controlled by a single company Medtronic, whose biggest claim to fame is effecting the world's largest tax inversion in order to manufacture the appearance that it is an Irish company and therefore largely untaxable. Medtronic used the resulting windfall to gobble up most of its competitors.</p>
<p>During lockdown, as hospitals scrambled to keep their desperately needed supply of ventilators running, Medtronic's VIN-locking became a lethal impediment. Med-techs who used donor parts from one ventilator to keep another running â€“ say, transplanting a screen â€“ couldn't get the device to recognize the part because all the world's civilian aircraft were grounded, meaning Medtronic's technicians couldn't swan into their hospitals to type in the unlock code and charge them hundreds of dollars.</p>
<p>The saving grace was an anonymous, former Medtronic repair tech, who built pirate boxes to generate unlock codes, using any housing they could lay hands on to use as a case: guitar pedals, clock radios, etc. This tech shipped these gadgets around the world, observing strict anonymity, because Article 6 of the EUCD <em>also</em> bans circumvention:</p>
<p><a href="https://pluralistic.net/2020/07/10/flintstone-delano-roosevelt/#medtronic-again">https://pluralistic.net/2020/07/10/flintstone-delano-roosevelt/#medtronic-again</a></p>
<p>Of course, <em>Apple</em> is a <em>huge</em> fan of VIN-locking. In phones, VIN-locking is usually called "serializing" or "parts-pairing," but it's the same thing: a tiny subassembly gets its own microcontroller whose sole purpose is to prevent independent repair technicians from fixing your gadget. Parts-pairing lets Apple block repairs even when the technician uses new, Apple parts â€“ but it also lets Apple block refurb parts and third party parts.</p>
<p>For many years, Apple was the senior partner and leading voice in blocking state Right to Repair bills, which it killed by the <em>dozen</em>, leading a coalition of monopolists, from Wahl (who boobytrap their hair-clippers with springs that cause their heads irreversibly decompose if you try to sharpen them at home) to John Deere (who reinvented tenant farming by making farmers tenants of their tractors, rather than their land).</p>
<p>But Apple's opposition to repair eventually became a problem for the company. It's bad optics, and both Apple customers and Apple employees are volubly displeased with the company's ecocidal conduct. But of course, Apple's <em>management</em> and <em>shareholders</em> hate repair and want to block it as much as possible.</p>
<p>But Apple knows how to Think Differently. It came up with a way to eat its cake and have it, too. The company embarked on a program of visibly support right to repair, while working behind the scenes to sabotage it.</p>
<p>Last year, Apple announced a repair program. It was <em>hilarious</em>. If you wanted to swap your phone's battery, all you had to do was let Apple put a $1200 hold on your credit card, and then wait while the company shipped you 80 pounds' worth of specialized tools, packed in two special Pelican cases:</p>
<p><a href="https://pluralistic.net/2022/05/22/apples-cement-overshoes/">https://pluralistic.net/2022/05/22/apples-cement-overshoes/</a></p>
<p>Then, you swapped your battery, but you weren't done! After your battery was installed, you had to conference in an authorized Apple tech who would tell you what code to type into a laptop you tethered to the phone in order to pair it with your phone. Then all you had to do was lug those two 40-pound Pelican cases to a shipping depot and wait for Apple to take the hold off your card (less the $120 in parts and fees).</p>
<p>By contrast, independent repair outfits like iFixit will sell you all the tools you need to do your own battery swap â€“ including the battery! for $32. The whole kit fits in a padded envelope:</p>
<p><a href="https://www.ifixit.com/products/iphone-x-replacement-battery">https://www.ifixit.com/products/iphone-x-replacement-battery</a></p>
<p>But while Apple was able to make a showy announcement of its repair program and then hide the malicious compliance inside those giant Pelican cases, sabotaging right to repair legislation is a lot harder.</p>
<p>Not that they didn't try. When New York State passed the first general electronics right-to-repair bill in the country, <em>someone</em> convinced New York Governor Kathy Hochul to neuter it with last-minute modifications:</p>
<p><a href="https://arstechnica.com/gadgets/2022/12/weakened-right-to-repair-bill-is-signed-into-law-by-new-yorks-governor/">https://arstechnica.com/gadgets/2022/12/weakened-right-to-repair-bill-is-signed-into-law-by-new-yorks-governor/</a></p>
<p>But that kind of trick only works once. When California's right to repair bill was introduced, it was clear that it was gonna pass. Rather than get run over by that train, Apple got on board, supporting the legislation, which passed unanimously:</p>
<p><a href="https://www.ifixit.com/News/79902/apples-u-turn-tech-giant-finally-backs-repair-in-california">https://www.ifixit.com/News/79902/apples-u-turn-tech-giant-finally-backs-repair-in-california</a></p>
<p>But Apple got the last laugh. Because while California's bill contains many useful clauses for the independent repair shops that keep your gadgets out of a landfill, it's a state law, and DMCA 1201 is federal. A state law can't simply legalize the conduct federal law prohibits. California's right to repair bill is a banger, but it has a weak spot: parts-pairing, the scourge of repair techs:</p>
<p><a href="https://www.ifixit.com/News/69320/how-parts-pairing-kills-independent-repair">https://www.ifixit.com/News/69320/how-parts-pairing-kills-independent-repair</a></p>
<p><img data-lazy-fallback="1" decoding="async" alt="An iFixit bar-chart showing the rising trend to parts-pairing in iPhones." src="https://i0.wp.com/craphound.com/images/Parts-Pairing-Bar-Chart_1922wide.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/Parts-Pairing-Bar-Chart_1922wide.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>Every generation of Apple devices does more parts-pairing than the previous one, and the current models are so infested with paired parts as to be effectively unrepairable, except by Apple. It's so bad that iFixit has dropped its repairability score for the iPhone 14 from a 7 ("recommend") to a <em>4</em> (do not recommend):</p>
<p><a href="https://www.ifixit.com/News/82493/we-are-retroactively-dropping-the-iphones-repairability-score-en">https://www.ifixit.com/News/82493/we-are-retroactively-dropping-the-iphones-repairability-score-en</a></p>
<p>Parts-pairing is bullshit, and Apple are scum for using it, but they're hardly unique. Parts-pairing is at the core of the fuckery of inkjet printer companies, who use it to fence out third-party ink, so they can charge $9,600/gallon for ink that pennies to make:</p>
<p><a href="https://www.eff.org/deeplinks/2020/11/ink-stained-wretches-battle-soul-digital-freedom-taking-place-inside-your-printer">https://www.eff.org/deeplinks/2020/11/ink-stained-wretches-battle-soul-digital-freedom-taking-place-inside-your-printer</a></p>
<p>Parts-pairing is also rampant in powered wheelchairs, a heavily monopolized sector whose predatory conduct is jaw-droppingly depraved:</p>
<p><a href="https://uspirgedfund.org/reports/usp/stranded">https://uspirgedfund.org/reports/usp/stranded</a></p>
<p>But if turning phones into e-waste to eke out another billion-dollar stock buyback is indefensible, stranding people with disabilities for months at a time while they await repairs is so obviously wicked that the conscience recoils. That's why it was so great when Colorado passed the nation's first wheelchair right to repair bill last year:</p>
<p><a href="https://www.eff.org/deeplinks/2022/06/when-drm-comes-your-wheelchair">https://www.eff.org/deeplinks/2022/06/when-drm-comes-your-wheelchair</a></p>
<p>California actually just passed <em>two</em> right to repair bills; the other one was SB-271, which mirrors Colorado's HB22-1031:</p>
<p><a href="https://leginfo.legislature.ca.gov/faces/billNavClient.xhtml?bill_id=202320240SB271">https://leginfo.legislature.ca.gov/faces/billNavClient.xhtml?bill_id=202320240SB271</a></p>
<p>This is big! It's momentum! It's a start!</p>
<p>But it can't be the end. When Bill Clinton signed DMCA 1201 into law 25 years ago, he loaded a gun and put it on the nation's mantlepiece and now it's Act III and we're all getting sprayed with bullets. Everything from ovens to insulin pumps, thermostats to lightbulbs, has used DMCA 1201 to limit repair, modification and improvement.</p>
<p>Congress needs to rid us of this scourge, to let us bring back all the benefits of interoperability. I explain how this all came to be â€“ and what we should do about it â€“ in my new Verso Books title, <em>The Internet Con: How to Seize the Means of Computation.</em></p>
<p><a href="https://www.versobooks.com/products/3035-the-internet-con">https://www.versobooks.com/products/3035-the-internet-con</a></p>
<p>(<i>Image: <a href="https://commons.wikimedia.org/wiki/File:Daytona_Skeleton_AR-15_completed_rifle_%2817551907724%29.jpg">Mitch Barrie</a>, <a href="https://creativecommons.org/licenses/by-sa/2.0/deed.en">CC BY-SA 2.0</a>; <a href="https://www.flickr.com/photos/kambanji/4135216486/">Kambanji</a>, <a href="https://creativecommons.org/licenses/by/2.0/">CC BY 2.0</a>; <a href="https://www.rawpixel.com/image/12438797/png-white-background">Rawpixel</a>; modified</i>)</p>
<hr>

<h2>Hey look at this (<a href="https://pluralistic.net/2023/09/22/vin-locking/#linkdump">permalink</a>)</h2>
<p><img data-lazy-fallback="1" decoding="async" src="https://i0.wp.com/craphound.com/images/heylookatthis.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/heylookatthis.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<ul>
<li>Book giveaway for The Bezzle (Martin Hench #2) <a href="https://www.goodreads.com/giveaway/show/371380-the-bezzle-a-martin-hench-novel">https://www.goodreads.com/giveaway/show/371380-the-bezzle-a-martin-hench-novel</a>
</li>
<li>
<p>West of House <a href="https://brokenneedle.gumroad.com/l/westofhouse">https://brokenneedle.gumroad.com/l/westofhouse</a> (h/t Wil Wheaton)</p>
</li>
<li>
<p>T-Shirts Now Available! <a href="http://www.imagineeringdisney.com/blog/2023/9/19/t-shirts-now-available.html">http://www.imagineeringdisney.com/blog/2023/9/19/t-shirts-now-available.html</a></p>
</li>
</ul>
<hr>
<p><a name="retro"></a><br>
<img data-lazy-fallback="1" decoding="async" alt="A Wayback Machine banner." src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h2>This day in history (<a href="https://pluralistic.net/2023/09/22/vin-locking/#retro">permalink</a>)</h2>
<p>#20yrsago New voting machines are criminally bad <a href="https://www.salon.com/2003/09/23/bev_harris/">https://www.salon.com/2003/09/23/bev_harris/</a></p>
<p>#15yrsago Your chance to mark up the Wall Street bailout bill <a href="https://web.archive.org/web/20080929041702/http://publicmarkup.org/">https://web.archive.org/web/20080929041702/http://publicmarkup.org/</a></p>
<p>#15yrsago Hank Paulsonâ€™s bailout 419 letter <a href="https://web.archive.org/web/20080923194140/https://www.thenation.com/blogs/jstreet/363133/bailout_satire">https://web.archive.org/web/20080923194140/https://www.thenation.com/blogs/jstreet/363133/bailout_satire</a></p>
<p>#15yrsago Stanford and Harvard b-school profs vs. free/open source software <a href="https://news.slashdot.org/story/08/09/22/2254228/stanford-teaching-mbas-how-to-fight-open-source">https://news.slashdot.org/story/08/09/22/2254228/stanford-teaching-mbas-how-to-fight-open-source</a></p>
<p>#15yrsago Sexist pigs earn more than normal men <a href="https://www.science20.com/news_releases/old_fashioned_men_make_more_money_study">https://www.science20.com/news_releases/old_fashioned_men_make_more_money_study</a></p>
<p>#15yrsago Corrupted Science: the history, cause, effect and state of bad science <a href="https://memex.craphound.com/2008/09/22/corrupted-science-the-history-cause-effect-and-state-of-bad-science/">https://memex.craphound.com/2008/09/22/corrupted-science-the-history-cause-effect-and-state-of-bad-science/</a></p>
<p>#10yrsago Chaos Computer Club claims it can unlock Iphones with fake fingers/cloned fingerprints <a href="https://www.ccc.de/en/updates/2013/ccc-breaks-apple-touchid">https://www.ccc.de/en/updates/2013/ccc-breaks-apple-touchid</a></p>
<p>#5yrsago Anonymous stock-market manipulators behind $20B+ of â€œmispricingâ€ can be tracked by their writing styles <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3198384">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3198384</a></p>
<p>#1yrago Twitch does a chokepoint capitalism: "Amazon is charging Amazon so much money to run the business via Amazon that it has no choice but to take more money from streamers." <a href="https://pluralistic.net/2022/09/22/amazon-vs-amazon/#pray-i-dont-alter-it-further">https://pluralistic.net/2022/09/22/amazon-vs-amazon/#pray-i-dont-alter-it-further</a></p>
<hr>
<p><a name="bragsheet"></a><br>
<img data-lazy-fallback="1" decoding="async" src="https://i0.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<h2>Colophon (<a href="https://pluralistic.net/2023/09/22/vin-locking/#bragsheet">permalink</a>)</h2>
<p>Today's top sources: Naked Capitalism (<a href="https://www.nakedcapitalism.com/">https://www.nakedcapitalism.com/</a>).</p>
<p>Currently writing:</p>
<ul>
<li>A Little Brother short story about DIY insulin PLANNING
</li>
<li>
<p>Picks and Shovels, a Martin Hench noir thriller about the heroic era of the PC. FORTHCOMING TOR BOOKS JAN 2025</p>
</li>
<li>
<p>The Bezzle, a Martin Hench noir thriller novel about the prison-tech industry. FORTHCOMING TOR BOOKS FEB 2024</p>
</li>
<li>
<p>Vigilant, Little Brother short story about remote invigilation. FORTHCOMING ON TOR.COM</p>
</li>
<li>
<p>Moral Hazard, a short story for MIT Tech Review's 12 Tomorrows. FIRST DRAFT COMPLETE, ACCEPTED FOR PUBLICATION</p>
</li>
<li>
<p>Spill, a Little Brother short story about pipeline protests. FORTHCOMING ON TOR.COM</p>
</li>
</ul>
<p>Latest podcast: Plausible Sentence Generators <a href="https://craphound.com/news/2023/09/17/plausible-sentence-generators/">https://craphound.com/news/2023/09/17/plausible-sentence-generators/</a><br>
Upcoming appearances:</p>
<ul>
<li>DIG Festival (Modena, Italy), Sept 22<br>
<a href="https://dig-awards.org/en/dig-festival-2023-first-speakers-announced/">https://dig-awards.org/en/dig-festival-2023-first-speakers-announced/</a>
</li>
<li>
<p>Launch for Justin C Key's "The World Wasnâ€™t Ready for You," Book Soup (LA), Sept 22<br>
<a href="https://www.booksoup.com/event/justin-c-key">https://www.booksoup.com/event/justin-c-key</a></p>
</li>
<li>
<p>Launch for "The Internet Con" and Brian Merchant's "Blood in the Machine," Chevalier's Books (LA), Sept 27<br>
<a href="https://www.eventbrite.com/e/the-internet-con-by-cory-doctorow-blood-in-the-machine-by-brian-merchant-tickets-696349940417">https://www.eventbrite.com/e/the-internet-con-by-cory-doctorow-blood-in-the-machine-by-brian-merchant-tickets-696349940417</a></p>
</li>
<li>
<p>An Evening with VE Schwab (Boise), Oct 2<br>
<a href="https://www.thecabinidaho.org/all-events/ve-schwab">https://www.thecabinidaho.org/all-events/ve-schwab</a></p>
</li>
<li>
<p>Wired Nextfest (Milano), Oct 7-8<br>
<a href="https://eventi.wired.it/nextfest23-milano">https://eventi.wired.it/nextfest23-milano</a></p>
</li>
<li>
<p>The Internet Con at Moon Palace Books (Minneapolis), Oct 15<br>
<a href="https://moonpalacebooks.com/events/30127">https://moonpalacebooks.com/events/30127</a></p>
</li>
<li>
<p>26th ACM Conference On Computer-Supported Cooperative Work and Social Computing keynote (Minneapolis), Oct 16<br>
<a href="https://cscw.acm.org/2023/index.php/keynotes/">https://cscw.acm.org/2023/index.php/keynotes/</a></p>
</li>
<li>
<p>41st annual McCreight Lecture in the Humanities (Charleston, WV), Oct 19<br>
<a href="https://festivallcharleston.com/venue/university-of-charleston/">https://festivallcharleston.com/venue/university-of-charleston/</a></p>
</li>
<li>
<p>Seizing the Means of Computation (Edinburgh Futures Institute), Oct 25<br>
<a href="https://efi.ed.ac.uk/event/seizing-the-means-of-computation-with-cory-doctorow/">https://efi.ed.ac.uk/event/seizing-the-means-of-computation-with-cory-doctorow/</a></p>
</li>
</ul>
<p>Recent appearances:</p>
<ul>
<li>Against Enshittification | Medium Day 2023<br>
<a href="https://www.youtube.com/watch?v=mSeBelDVrgE">https://www.youtube.com/watch?v=mSeBelDVrgE</a>
</li>
<li>
<p>The Jim Rutt Show<br>
<a href="https://www.jimruttshow.com/cory-doctorow-2/">https://www.jimruttshow.com/cory-doctorow-2/</a></p>
</li>
<li>
<p>How to Take Back the Internet (Wired Have a Nice Future)<br>
<a href="https://www.wired.com/story/have-a-nice-future-podcast-21/">https://www.wired.com/story/have-a-nice-future-podcast-21/</a></p>
</li>
</ul>
<p>Latest books:</p>
<ul>
<li>"The Internet Con": A nonfiction book about interoperability and Big Tech (Verso) September 2023 (<a href="http://seizethemeansofcomputation.org/">http://seizethemeansofcomputation.org</a>). Signed copies at Book Soup (<a href="https://www.booksoup.com/book/9781804291245">https://www.booksoup.com/book/9781804291245</a>).
</li>
<li>
<p>"Red Team Blues": "A grabby, compulsive thriller that will leave you knowing more about how the world works than you did before." Tor Books <a href="http://redteamblues.com/">http://redteamblues.com</a>. Signed copies at Dark Delicacies (US): <a href="https://www.darkdel.com/store/p2873/Wed%2C_Apr_26th_6pm%3A_Red_Team_Blues%3A_A_Martin_Hench_Novel_HB.html#/"> and Forbidden Planet (UK): </a><a href="https://forbiddenplanet.com/385004-red-team-blues-signed-edition-hardcover/">https://forbiddenplanet.com/385004-red-team-blues-signed-edition-hardcover/</a>.</p>
</li>
<li>
<p>"Chokepoint Capitalism: How to Beat Big Tech, Tame Big Content, and Get Artists Paid, with Rebecca Giblin", on how to unrig the markets for creative labor, Beacon Press/Scribe 2022 <a href="https://chokepointcapitalism.com/">https://chokepointcapitalism.com</a></p>
</li>
<li>
<p>"Attack Surface": The third Little Brother novel, a standalone technothriller for adults. The <em>Washington Post</em> called it "a political cyberthriller, vigorous, bold and savvy about the limits of revolution and resistance." Order signed, personalized copies from Dark Delicacies <a href="https://www.darkdel.com/store/p1840/Available_Now%3A_Attack_Surface.html">https://www.darkdel.com/store/p1840/Available_Now%3A_Attack_Surface.html</a></p>
</li>
<li>
<p>"How to Destroy Surveillance Capitalism": an anti-monopoly pamphlet analyzing the true harms of surveillance capitalism and proposing a solution. <a href="https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59">https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59</a> (print edition: <a href="https://bookshop.org/books/how-to-destroy-surveillance-capitalism/9781736205907">https://bookshop.org/books/how-to-destroy-surveillance-capitalism/9781736205907</a>) (signed copies: <a href="https://www.darkdel.com/store/p2024/Available_Now%3A__How_to_Destroy_Surveillance_Capitalism.html">https://www.darkdel.com/store/p2024/Available_Now%3A__How_to_Destroy_Surveillance_Capitalism.html</a>)</p>
</li>
<li>
<p>"Little Brother/Homeland": A reissue omnibus edition with a new introduction by Edward Snowden: <a href="https://us.macmillan.com/books/9781250774583">https://us.macmillan.com/books/9781250774583</a>; personalized/signed copies here: <a href="https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html">https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html</a></p>
</li>
<li>
<p>"Poesy the Monster Slayer" a picture book about monsters, bedtime, gender, and kicking ass. Order here: <a href="https://us.macmillan.com/books/9781626723627">https://us.macmillan.com/books/9781626723627</a>. Get a personalized, signed copy here: <a href="https://www.darkdel.com/store/p2682/Corey_Doctorow%3A_Poesy_the_Monster_Slayer_HB.html#/">https://www.darkdel.com/store/p2682/Corey_Doctorow%3A_Poesy_the_Monster_Slayer_HB.html#/</a>.</p>
</li>
</ul>
<p>Upcoming books:</p>
<ul>
<li>The Lost Cause: a post-Green New Deal eco-topian novel about truth and reconciliation with white nationalist militias, Tor Books, November 2023
</li>
<li>
<p>The Bezzle: a sequel to "Red Team Blues," about prison-tech and other grifts, Tor Books, February 2024</p>
</li>
<li>
<p>Picks and Shovels: a sequel to "Red Team Blues," about the heroic era of the PC, Tor Books, February 2025</p>
</li>
<li>
<p>Unauthorized Bread: a graphic novel adapted from my novella about refugees, toasters and DRM, FirstSecond, 2025</p>
</li>
</ul>
<hr>
<p><img data-lazy-fallback="1" decoding="async" src="https://i0.wp.com/craphound.com/images/by.svg.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/by.svg.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>This work â€“ excluding any serialized fiction â€“ is licensed under a Creative Commons Attribution 4.0 license. That means you can use it any way you like, including commercially, provided that you attribute it to me, Cory Doctorow, and include a link to pluralistic.net.</p>
<p><a href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></p>
<p>Quotations and images are not included in this license; they are included either under a limitation or exception to copyright, or on the basis of a separate license. Please exercise caution.</p>
<hr>
<h2>How to get Pluralistic:</h2>
<p>Blog (no ads, tracking, or data-collection):</p>
<p><a href="http://pluralistic.net/">Pluralistic.net</a></p>
<p>Newsletter (no ads, tracking, or data-collection):</p>
<p><a href="https://pluralistic.net/plura-list">https://pluralistic.net/plura-list</a></p>
<p>Mastodon (no ads, tracking, or data-collection):</p>
<p><a href="https://mamot.fr/@pluralistic">https://mamot.fr/@pluralistic</a></p>
<p>Medium (no ads, paywalled):</p>
<p><a href="https://doctorow.medium.com/">https://doctorow.medium.com/</a></p>
<p>(Latest Medium column: "How To Think About&nbsp;Scraping: In privacy and labor fights, copyright is a clumsy tool at&nbsp;best <a href="https://doctorow.medium.com/how-to-think-about-scraping-2db6f69a7e3d">https://doctorow.medium.com/how-to-think-about-scraping-2db6f69a7e3d</a>)</p>
<p>Twitter (mass-scale, unrestricted, third-party surveillance and advertising):</p>
<p><a href="https://twitter.com/doctorow">https://twitter.com/doctorow</a></p>
<p>Tumblr (mass-scale, unrestricted, third-party surveillance and advertising):</p>
<p><a href="https://mostlysignssomeportents.tumblr.com/tagged/pluralistic">https://mostlysignssomeportents.tumblr.com/tagged/pluralistic</a></p>
<p>"<em>When life gives you SARS, you make sarsaparilla</em>" -Joey "Accordion Guy" DeVilla</p>


	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How to Roman Republic, Part IV: The Senate (193 pts)]]></title>
            <link>https://acoup.blog/2023/09/22/collections-how-to-roman-republic-part-iv-the-senate/</link>
            <guid>37614216</guid>
            <pubDate>Fri, 22 Sep 2023 16:38:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://acoup.blog/2023/09/22/collections-how-to-roman-republic-part-iv-the-senate/">https://acoup.blog/2023/09/22/collections-how-to-roman-republic-part-iv-the-senate/</a>, See on <a href="https://news.ycombinator.com/item?id=37614216">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
		
<p>This is the third section of the third part of our our planned five part series (<a href="https://acoup.blog/2023/07/21/collections-how-to-roman-republic-101-part-i-spqr/">I</a>, <a href="https://acoup.blog/2023/07/27/collections-how-to-roman-republic-101-part-ii-romans-assemble/">II</a>, <a href="https://acoup.blog/2023/08/11/collections-how-to-roman-republic-101-part-iiia-starting-down-the-path-of-honors/">IIIa</a>, <a href="https://acoup.blog/2023/08/18/collections-how-to-roman-republic-101-part-iiib-imperium/">IIIb</a>, <a href="https://acoup.blog/2023/08/25/collections-how-to-roman-republic-part-iiic-ten-tribunes-two-censors-and-twenty-six-guys/" data-type="link" data-id="https://acoup.blog/2023/08/25/collections-how-to-roman-republic-part-iiic-ten-tribunes-two-censors-and-twenty-six-guys/">IIIc</a>) on the structure of the Roman Republic during the third and second centuries, the â€˜Middleâ€™ Republic.â€™  Over the last few posts we looked at the role of Roman magistrates who carried out a range of executive functions for the republic.  This week, weâ€™re looking at the Roman Senate, an institution so important that it is included alongside the people of Rome in the SPQR formulation that the Romans used to represent the republic, and yet also paradoxically it is an institution that lacks any kind of formal legal powers.</p>



<p>Despite that lack of formal powers, the Senate of the Roman Republic largely directed the overall actions of the republic, coordinating its strategic policy (both military and diplomatic), setting priorities for legislation, handling Romeâ€™s finances and assigning and directing the actions of the various magistrates.  The Senate â€“ <em>not the Pontifex Maximus</em><span id="easy-footnote-1-20956"></span><span><a href="#easy-footnote-bottom-1-20956" title="I stress this point because this is a common mistake: assuming that the <em>Pontifex Maximus</em> as Rome&amp;#8217;s highest priest was in some way the &amp;#8216;boss&amp;#8217; of all of Rome&amp;#8217;s other priests.  He was not; he was the presiding officer of the college of Pontiffs and the manager of the calendar (this was a very significant role), but the <em>Pontifex Maximus</em> was not the head of some priestly heirarchy and his power over the other <em>pontifices</em> was limited.  Moreover his power over other religious officials (the <em>augures</em>, <em>haruspices</em>, the <em>quindecimviri sacris faciundis</em> and so on) was very limited.  Instead, these figures report to the Senate, though the Senate will generally defer to the judgement of the <em>pontifices</em>."><sup>1</sup></a></span>  â€“ was also the final authority for questions of religion.  The paradox exists because the Senateâ€™s power is almost entirely based in its <em>auctoritas</em> and the strong set of political norms and cultural assumptions which push Romans to defer to that <em>auctoritas</em>.</p>



<p>And if you want to wield the <em>auctoritas</em> of the <em>ACOUP</em> Senate, you can support this project on <a href="https://www.patreon.com/user?u=20122096">Patreon at the <em>patres et matres conscripti</em></a> tier, to be able to submit questions and weigh in on what topics we should cover next (I promise the long-awaited Greek-and-Phoenician colonization treatment is coming!). As always, if you like this, please share it! If you want updates whenever a new post appears, you can click below for email updates or follow me on twitter (@BretDevereaux) for updates as to new posts as well as my occasional ancient history, foreign policy or military history musings, assuming there is still a Twitter by the time this post goes live. I am also on Bluesky (@bretdevereaux.bsky.social) and (less frequently) Mastodon (@bretdevereaux@historians.social).</p>






<h2>Membership</h2>



<p>We should start with who is in the Senate.  Now what you will generally hear in survey courses is this neat summary: the Senate had 300 members (600 after Sulla) and included all Romans who had obtained the office of the quaestorship or higher <em>and</em> its members were selected by the censors.  And for a basic summary, that actually serves pretty well, but thinking about it for a few minutes one quickly realizes that there must be quite a bit of uncertainty and complexity underneath those neat easy rules.  And indeed, there is!</p>



<p>First we can start with eligibility by holding office.  We know that in the Sullan constitution, holding the quaestorship entitled one into entrance into the Senate.  Lintott notes that the lex repetundarum of 123/4 lumped every office aedile-and-above together in a phrasing â€˜anyone who has or shall have been in the Senateâ€™ when setting eligibility for the juries for the repetundae courts (the aim being to exclude the magistrate class from judging itself on corruption charges), and so assumes that prior to Sulla, it was aediles and up (but not quaestors) who were entitled to be in the Senate.<span id="easy-footnote-2-20956"></span><span><a href="#easy-footnote-bottom-2-20956" title="With sitting tribunes able to attend meetings of the Senate, but not being granted lifelong membership."><sup>2</sup></a></span>  The problem immediately occurs: these higher offices donâ€™t provide enough members to reach the frequently attested 300-Senator size of the Senate with any reasonable set of life expectancies.</p>



<p>By contrast, if we assume that the quaestors were enrolled in the Senate, as we know them to have been post-Sulla (Cicero is a senator for sure in 73, having been quaestor in 75), we have 8 quaestors a year elected around age 30 each with roughly 30 years of life expectancy<span id="easy-footnote-3-20956"></span><span><a href="#easy-footnote-bottom-3-20956" title="A touch higher than the 24 years a L3 Model West life table (what we generally use to simulate Roman populations) leads us to expect, but then these are elites who are likely to be well nourished and not in hazardous occupations, so they might live a bit longer."><sup>3</sup></a></span> we get a much more reasonable 240, to which we might add some holders of senior priesthoods who didnâ€™t go into politics and the ten sitting tribunes and perhaps a few reputable scions of important families selected by the censors to reach 300 without too much difficulty.  The alternative is to assume the core membership of the Senate was aediles and up, which would provide only around 150 members, in which case the censors would have to supplement that number with important, reputable Romans.</p>



<p>To which we may then ask: who might they choose?  The obvious candidates would beâ€¦current and former quaestors and plebeian tribunes.  And so we end up with a six-of-one, half-dozen of the other situation, where it is possible that quaestors were not <em>automatically</em> enrolled before Sulla, but were customarily chosen by the censors to â€˜fill outâ€™ the Senate.  Notably, when Sulla wants to expand the Senate, he radically expands (to twenty) the number of quaestors, which in turn provides roughly enough Senators for his reported 600-person Senate.</p>



<p>That leads us to the roll of the censors: if holding a sufficiently high office (be it the quaestorship or aedileship) <em>entitles</em> one to membership for life in the Senate, what on earth is the role of the censors in selecting the Senateâ€™s membership?  Here the answer is in the sources for us: we repeatedly see the formula that the meetings of the Senate were attended by two groups: the Senators themselves and â€œthose who are permitted to state their opinion in the Senate.â€  Presumably the distinction here is between men designated as senators by the censors and men not yet so designated who nevertheless, by virtue of office-holding, have a right to speak in the Senate.  Itâ€™s also plausible that men who were still <em>iuniores</em> might not yet be Senators (whose very name, after all, implies old age; <em>Senator</em> has at its root <em>senex</em>, â€œold manâ€) or perhaps men still under the <em>potestas </em>of a living father (who thus could hardly be one of the <em>patres conscripti</em>, a standard term for Senators) might be included in the latter group.</p>



<p>In any case, the censors seem to have three rolls here.  First, they confirm the membership in the Senate of individuals entitled to it by having held high office.  Second, they can fill out an incomplete Senate with additional Roman aristocrats so that it reaches the appropriate size.  Finally, they can <em>remove</em> a Senator for moral turpitude, though this is rare and it is clear that the conduct generally needed to be egregious.</p>



<p>In this way, we get a Senate that is as our sources describe: <em>roughly</em> 300 members at any given time (brought to the right number every five years by the censors), consisting mostly of former office holders (with some add-ons) who have held offices at or above the quaestorship and whose membership has been approved by the censors, though office holders might enter the Senate â€“ provisionally, as it were â€“ immediately pending censorial confirmation at a later date.  If it seems like I am giving short shrift to the â€˜filling the rankâ€™ add-ons the censors might provide, it is because â€“ as weâ€™ll see in a moment â€“ Senate procedure combined with Roman cultural norms was likely to render them quite unimportant.  The role of <em>senior</em> ex-magistrates in the Senate was to speak, the role of junior ex-magistrates (and certainly of any senator who had not held high office!) was to <em>listen </em>and indicate concurrence with a previously expressed opinion, as weâ€™re going to see when we get to procedure.</p>



<h2>Meetings</h2>



<p>Meetings of the Senate were formal affairs, but unlike modern legislatures the Senate did not stay in session over long periods.  Instead, it met in specific venues â€“ they had to be inaugurated â€“ when called by a magistrate with the power to do so.</p>



<p>We may begin with place: the Senate had no single fixed meeting spot, though the <em>curia</em> in the Forum was the most common location, however the place the Senate met had to be religiously prepared via inauguration (the taking of the auspices by the augurs) and by sacrifices in order to make sure the gods approved of the proceedings and its results.  Consequently, the Senate always met in a <em>templum</em> in the sense of a consecrated space, but also it tended to meet literally <em>in temples</em>, with meetings in the temples of Jupiter Optimus Maximus, the temple of Fides, the temple of Concord, and so on.  Notably, two locations, the temple of Bellona and the temple of Apollo were also used and these sat <em>outside</em> the <em>pomerium</em>, enabling the Senate to meet with magistrates who, because of their active command of an army, could not cross the <em>pomerium</em>; they were also sometimes used to meet with foreign dignitaries the Senate did not wish to let into the city.  Later added to this number of sites outside the pomerium was Pompeyâ€™s theater, which included a temple of Venus Victrix and a <em>curia</em> as part of the overall complex.</p>



<figure><img data-attachment-id="21040" data-permalink="https://acoup.blog/2023/09/22/collections-how-to-roman-republic-part-iv-the-senate/image-9-13/" data-orig-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?fit=1024%2C768&amp;ssl=1" data-orig-size="1024,768" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-9" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?fit=300%2C225&amp;ssl=1" data-large-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?fit=1024%2C768&amp;ssl=1" decoding="async" loading="lazy" width="1024" height="768" src="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?resize=1024%2C768&amp;ssl=1" alt="" srcset="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?w=1024&amp;ssl=1 1024w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?resize=300%2C225&amp;ssl=1 300w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?resize=768%2C576&amp;ssl=1 768w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?resize=800%2C600&amp;ssl=1 800w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?resize=600%2C450&amp;ssl=1 600w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?resize=400%2C300&amp;ssl=1 400w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/image-9.webp?resize=200%2C150&amp;ssl=1 200w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"><figcaption>Via <a href="https://en.wikipedia.org/wiki/Curia_Julia" data-type="link" data-id="https://en.wikipedia.org/wiki/Curia_Julia">Wikipedia</a>, the interior of the <em>curia Julia</em>, the Senateâ€™s primary meeting place.  The <em>curia Julia</em> itself comes late, finished in 29 BC to replace the destroyed <em>Curia Cornelia</em> which in turn had replaced the older <em>Curia Hostilia</em>.  Still, this gives us a sense of what a meeting place for the Senate might be like, rather less spacious than most movies would have it, with 300 senators it would have been quite crowded (and the <em>curia Hostilia</em> was no larger in terms of footprint).</figcaption></figure>



<p>In order to meet, the Senate had to be called or more correctly â€˜driven togetherâ€™ (<em>cogere</em>, often translated adequately as â€˜summoned,â€™ but as Lintott notes, it has an element of compulsion to it) by a magistrate.  There were a few standard dates on which this would effectively always happen, particularly the first day of the consular year, but beyond that it was expected that magistrates in Rome could call the Senate at any time to discuss any issue on relatively short notice.  There was initially no <em>requirement</em> that Senators live in the city of Rome, but it was clearly assumed.  Early on in the second century, we get regulations requiring Senators to stay close to Rome unless they had an official reason to be elsewhere, though Senators might be permitted to leave if they needed to fulfill a vow.  In the Late Republic it seems to have been common also for Senators to leave the city during the spring <em>res prolatae</em>, a sort of recess from public business (literally â€œthe deferring of businessâ€), but these informal breaks did not mean the Senate was truly â€˜out of sessionâ€™ and it could still be summoned by a magistrate.</p>



<figure><img data-attachment-id="21042" data-permalink="https://acoup.blog/2023/09/22/collections-how-to-roman-republic-part-iv-the-senate/sestertius_showing_temple_of_concord/" data-orig-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?fit=1024%2C1024&amp;ssl=1" data-orig-size="1024,1024" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Sestertius_showing_Temple_of_Concord" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?fit=1024%2C1024&amp;ssl=1" decoding="async" loading="lazy" width="1024" height="1024" src="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?resize=1024%2C1024&amp;ssl=1" alt="" srcset="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?w=1024&amp;ssl=1 1024w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?resize=300%2C300&amp;ssl=1 300w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?resize=150%2C150&amp;ssl=1 150w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?resize=768%2C768&amp;ssl=1 768w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?resize=800%2C800&amp;ssl=1 800w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?resize=600%2C600&amp;ssl=1 600w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?resize=400%2C400&amp;ssl=1 400w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Sestertius_showing_Temple_of_Concord.jpg?resize=200%2C200&amp;ssl=1 200w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"><figcaption>Via <a href="https://en.wikipedia.org/wiki/Temple_of_Concord" data-type="link" data-id="https://en.wikipedia.org/wiki/Temple_of_Concord">Wikipedia</a>, two sestertii from the reign of Tiberius minted in 36/7 in Rome commemorating his restoration of the Temple of Concord, another traditional meeting place of the Senate.  The large â€˜SCâ€™ on the reverse does in fact, stand for <em>senatus consulto</em>, because the weights and values of Roman bronze coinage was decreed by the Senate.</figcaption></figure>



<p>Generally, meetings of the Senate began at dawn, though they could begin later, and they proceeded either until the business was concluded or to dusk.  Because of the ritual preparations required, no meeting of the Senate could last more than a day, much like the assemblies, so if the business was not finished, a new meeting would need to be called and the process begun from scratch.  While it seems that magistrates generally tried to avoid calling the Senate during festival days, <em>dies nefandi</em> (days unsuited for public business) and meetings of the popular assemblies, there was no requirement to do so and the Senate might be called for any day for most of the Republic, with laws restricting the Senateâ€™s meeting days only coming midway through the first century.</p>



<p>Beyond this, Senators were expected to show up and we hear of threats of fines or other censure for failure to show up, but it also seems like no meeting of the senate was ever very close to the full body and quorums for the Senate were fairly low, 100 or 150.  For the Sullan Senate, notionally of 600 members, the highest attendances we know of, as noted by Lintott, are 415, 417 and 392.  Of course some significant number of Senators will, at any time, have been active magistrates overseas, or serving as military tribunes, or as senatorial <em>legati</em>, but it seems clear that even beyond this attendance was not universal even if it was in theory supposed to be.</p>



<h2>Procedure</h2>



<p>Once the Senate met, it had a standard procedure which was followed.  <strong>The Senate was fundamentally a deliberative body</strong>, unlike the assemblies which merely voted, and so most of the procedure focused on that deliberation and debate.  And this makes sense, as the notional purpose of the Senate was as a large advisory council to the magistrates, in the same way that it had once been the advisory council to the kings.</p>



<p>Generally, each meeting of the Senate had a set agenda item, presented by the convening magistrate, although for that traditional meeting at the start of the consular year it was common to convene the Senate <em>de re publica infinite</em>, â€œon the whole Republic.â€  By far the most common convening magistrate was the consul, but other magistrates could convene the Senate (notably the tribunes).  The convening magistrate spoke first with an introductory speech, a <em>relatio</em>, with introduced the topic and often presented a proposed course of action on that topic.  In some cases, that introduction might be a short one, but it could also be a long and involved speech or the introduction of an ambassador or the reading of dispatches.  The Senate seems also at sometimes to have formed subcommittees and a magistrate might use an introduction to put the recommendations of a subcommittee, such as pre-drafted legislation, before the body.  But it was just as common to open a debate on a broad topic.</p>



<p>Once the convening magistrate was done introducing the issue, the opinions of each senator, in turn, were sought.  The order was set by the censors, but it was based on offices held and seniority, so while the censors could shift (<em>â€˜movereâ€™</em>) a senator down in the order, they were expected to have a good reason (typically conspicuous moral turpitude).  The order began with the <em>princeps senatus</em>, traditionally the most senior ex-consul, though â€˜most seniorâ€™ here often meant both in age and in influence, so while the <em>princeps senatus</em> was never young, it might not strictly be the oldest senator.  After that, the former consuls (in Latin <em>consulares</em>, which enters English as â€˜consularsâ€™ to mean â€˜men who have held the consulshipâ€™) spoke, with the most former (and thus likely oldest) going first.  And then the Senate proceeded down in rank order to ex-praetors and so on all the way down.  As you may well imagine, the figures who spoke first tended to set the terms of the debate and indeed the whole reason they spoke first is because they were understood to be preeminent in <em>auctoritas</em>.</p>



<p>Each senator, as the order came to them was expected to present their opinion (<em>sententia</em>).  The expression of their view could be as long or as short as they wished (filibusters were possible), but they had to answer.  Senators were given broad latitude in their response, able to interrogate the magistrate or visiting ambassadors, respond to their fellows or wander entirely off of the origional <em>relatio</em> to another topic entirely  They could also launch into long speeches which, again, might or might not actually pertain primarily to the topic at hand.  Cato the Elder was famous for ending speeches on topics entirely unrelated to the matter with an exhortation that â€œCarthage must be destroyed,â€ while Cicero took the opportunity of a debate on some relatively minor matters of roads and mints to launch into his Seventh Philippic, a speech exhorting the Senate to move against Marcus Antonius.  Still it was expected that at some point the response ought to speak to the matter at hand and so Cicero ends the Seventh Philippic with <em>quibus de rebus refers, P. Servilio adsentior</em>, â€œon the matters you refer [to the Senate], I agree with Publius Servilius.â€</p>



<figure><img data-attachment-id="21044" data-permalink="https://acoup.blog/2023/09/22/collections-how-to-roman-republic-part-iv-the-senate/cicero_denounces_catiline_in_the_roman_senate_by_cesare_maccari/" data-orig-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?fit=1280%2C833&amp;ssl=1" data-orig-size="1280,833" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?fit=300%2C195&amp;ssl=1" data-large-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?fit=1024%2C666&amp;ssl=1" decoding="async" loading="lazy" width="1024" height="666" src="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?resize=1024%2C666&amp;ssl=1" alt="" srcset="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?resize=1024%2C666&amp;ssl=1 1024w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?resize=300%2C195&amp;ssl=1 300w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?resize=768%2C500&amp;ssl=1 768w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?resize=1200%2C781&amp;ssl=1 1200w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?resize=1100%2C716&amp;ssl=1 1100w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Cicero_Denounces_Catiline_in_the_Roman_Senate_by_Cesare_Maccari.png?w=1280&amp;ssl=1 1280w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"><figcaption>Via <a href="https://en.wikipedia.org/wiki/Cesare_Maccari" data-type="link" data-id="https://en.wikipedia.org/wiki/Cesare_Maccari">Wikipedia</a>, Cicero Denounces Catiline (1888), painting by Cesare Maccari.  As noted, the Senateâ€™s meeting place would not have been so spacious or rounded like this, but the painting does capture the movement of the pedarii, in this case abandoning Catiline as Cicero denounces him with the <a href="https://en.wikipedia.org/wiki/Catilinarian_orations" data-type="link" data-id="https://en.wikipedia.org/wiki/Catilinarian_orations">First Catilinaria</a>n.</figcaption></figure>



<p>On the other hand, the minimum possible response a senator could give, and this must have been a very frequent response, was to agree with what some other senator earlier in the speaking order had said and we certainly get the sense that this was the most common thing for more junior senators to do.  Indeed, weâ€™re told that, while the more senior senators were speaking, more junior senators, termed <em>pedarii</em> (lit: â€˜footmenâ€™ but really â€˜walkersâ€™) by Cicero for reasons that will soon be obvious, would move in the hall to sit by the speaker with whom they agreed to show their support.  Given the elimination-contest nature of the Roman office holding, the Senate must always have had far more of these junior senators than of senior consulars whose opinion would carry real weight, but their movement <em>en masse</em> to agree with one or another position would have carried its own <em>auctoritas</em>.</p>



<p>Now, junior senators absolutely could hold forth on their own basis and we are told of occasions where they did so.  Sallust presents the debate on the fate of Catilineâ€™s conspirators in 63 as turning on the opinions of Marcus Porcius Cato (the younger) and Gaius Julius Caesar; Cato was almost certainly one of the most junior members of the Senate, being the <em>quaestor urbanus</em> that very year, while Caesar was more senior as a praetor-elect and Pontifex Maximus, but still hardly the most senior fellow in the room.  But in practice, moments like these were probably relatively rare (Caesar and Cato both may have felt emboldened because of their current positions, though Cato especially, a powerful speaker, maintained outsized influence in the Senate despite never rising to the consulship).  Roman culture strongly encouraged deference both to elders and social superiors and the senior consulars were both, while in turn the mechanics of Roman politics will have meant that junior senators would have been wise to attach themselves to powerful consulars in any event.</p>



<p>At the end of this process of speaking, the presiding magistrate could put the issue to a vote.  The magistrate in question set the terms of the vote, laying out a proposed <em>senatus consultum</em> (opinion of the Senate) and asking all senators who agreed to go to one side while everyone who disagreed go to the other.  Multiple such motions could be voted in succession and the Senate might approve or disapprove of any set of them, but the order was up to the magistrate who might thus frame proposals tactically to achieve a given outcome.  If the vote passed then the proposal â€“ drafted into written form by the presiding magistrate, usually with the assistance of a few more junior senators â€“ and issued as a formal decree of the Senate, called a <em>senatus consultum</em>.</p>



<p>A few things could interrupt this stately order.  The simplest was that senators could change their mind, based presumably on the arguments of others later in the speaking order; they seem to have been able to interrupt the order to announce that change, that they now agreed with so-and-so.  Alternately, there might be calls for various kinds of floor motions, akin to points of order.  The most common was <em>consule!</em> (â€˜consult!â€™), a call to signal that the magistrate needed to consult the senators (run through the speaking order) before proceeding to a vote on a given measure; you couldnâ€™t just propose a vote and ram it through without debate.  Alternately, senators might call out <em>divide</em>! (â€˜divide!â€™) to signal that certain motions being presented together needed to be split up, discussed and voted on separately.  Also <em>numera!</em> (â€˜numbers!â€™ meaning â€˜count!â€™) was the call to demand a quorum check.  The Senate might even call for discussion to be opened on an issue, demanding a new <em>relatio</em> to discuss issues that had been raised â€“ most often in the reading of dispatches or the reports of ambassadors, but sometimes from debates that broke out between senators.</p>



<p>Consequently, while the presiding magistrate convened the Senate and in theory set the agenda, in practice the Senate was much less under their control than the voting assembly.  The presiding magistrate, it must be noted, could not cut off debate, though he could simply refuse to put a motion to a vote at the end of it.  In addition, just to gum up the process further, a <em>senatus consultum</em> could be vetoâ€™d by the consuls or the tribunes, though the opinion of the Senate was still registered, just merely as the <em>senatus auctoritas</em> rather than <em>consultum</em>, though this carried a lot less weight.  A vetoâ€™d proposal could simply be brought another day, in the hope that it might escape veto subsequently and at least until the 130s, it seems to have been an accepted part of the <em>mos maiorum</em> that one did not maintain a veto indefinitely against either the popular will or the will of the Senate (much less both), so in the third and most of the second century, a veto was a delaying tactic rather than a decisive killing of a motion.</p>



<p>As an aside before we move on to the Senateâ€™s (lack of) formal powers and (abundant) traditional prerogatives, it seems worth noting how much emphasis this sort of system placed both on the speaking ability of senators and their personal <em>auctoritas</em>.  Unlike as in many modern legislatures, the speeches here were not cosmetic and senators were not bound to a â€˜party lineâ€™ in their votes.  Consequently, powerful speakers or senators with formidable reputations, <em>if they were present</em> (and not, say, deployed in the provinces) could exert a lot of sway among the junior members of the senate who would make up the majority of votes when it came time to approve a <em>senatus consultum</em>.</p>



<h2>Powers and Prerogatives</h2>



<p>Now we have a <em>senatus consultum</em>, so we may ask what power it has and the answer is â€˜none.â€™  But it is also â€˜very much.â€™  And that brings us to the central paradox of the Senate.  On the one hand, as I have my students chant in class, <strong>the Senate has no formal powers</strong> (in the Republic, before Sulla).  It cannot legislate, it cannot adjudicate court cases, it cannot create or appoint magistrates, it cannot order armies or convene assemblies.  <em><strong>All</strong></em> the Senate can do is<em><strong> issue opinions</strong></em>, which are not <em>technically</em> binding on anyone.  This is particularly true when a <em>senatus consultum</em> comes into conflict with a decision of a popular assembly (a <em>lex</em>); at all points, the <em>lex</em> wins.</p>



<p><strong>But the advice of the Senate is almost <em>always</em> followed, especially in certain key areas of the Republic</strong>.</p>



<p>Consequently while the Senateâ€™s <em>de iure</em> powers basically donâ€™t exist, its <em>de facto</em> powers under the <em>mos maiorum </em>are vast to the point that outside observers like Polybius conclude that the Senate is the most powerful part of the Roman state.<span id="easy-footnote-4-20956"></span><span><a href="#easy-footnote-bottom-4-20956" title="Though it must be noted that Polybius is mostly looking at Roman foreign policy, where the Senate is strongest."><sup>4</sup></a></span>  As a result, in the period we can see most clearly from the fourth to the second century, the Senate almost always gets its way and exercises a customary control over key aspects of Roman governance, especially foreign policy, that is nearly complete.  And while the Senate might not have any clearly defined legal authority to do <em>any of this</em>, <strong>governments are how they function</strong> and this is how the <em>res publica</em> functioned during the third and second centuries.</p>



<p>Domestically, the <em>auctoritas</em> of the Senate was such that it was clearly hard to pass laws without obtaining the <em>consilium</em> (consultation, counsel) of the Senate and receiving a favorable <em>senatus consultum</em>.  You can easily see the mix of pressures here: on the one hand, a politician pushing a law would be profoundly unwise to trample the Senate to do so, because at the end of his short one-year term he would go back to being just a senator and in any case reliant on the influence of other senators to win future high office or other honors.  At the same time, Roman voters seem to have taken the <em>consultum</em> of the Senate pretty seriously, so if the Senate was strongly against a motion, they were likely to vote it down <em>anyway</em>.  And that makes sense: the Senate is a body of the most successful, most prestigious, most respected Romans in a society where you are expected to the defer to the judgements of such men.  The People were not always supine before the Senate by any means, but the <em>auctoritas</em> <em>senatus</em> meant a lot.</p>



<p>That said, the Senateâ€™s authority was unevenly spread.  It seems fairly clear, especially by the fourth century, that the Senate felt it necessary to yield â€“ if only slowly â€“ on proposals where it faced widespread popular opposition.  One may, of course, immediately contrast the Senate of the late-second and early-first century, which squanders its <em>auctoritas</em> trying to stop proposals of this sort.  So when it came to domestic affairs, the power of the Senate was perhaps at a low ebb; it could offer its approval to laws or its disapproval, but carrying out the laws was up to the magistrates and the assemblies of the people had the final say in passing or not passing proposals.</p>



<p>In foreign policy, the Senate was far more influential, to the point of dominance.  One crucial task that is clearly regularized well before 218, when the survival of more of Livy lets us see it clearly, is the assignment of magistrates to specific jobs or <em>provinciae</em>.  It is frankly unclear how strong the legal basis for these assignments was and in any event it doesnâ€™t matter: what matters is that the Senate advised the magistrates and the magistrates always acted accordingly.  Consequently, the Senate was the senior strategic directing organ of the Republic, coordinating strategy and indeed <em>grand</em> strategy over the whole of the Mediterranean through a system of provincial assignments, directives to the magistrates assigned and transfers of resources between Italy and those provinces (including province-to-province transfers) accomplished by assigned senatorial commissioners (called <em>legati</em>).<span id="easy-footnote-5-20956"></span><span><a href="#easy-footnote-bottom-5-20956" title=" I should note much of this picture is owed to Michael Taylor, with whom I am collaborating on work on this very topic; I&amp;#8217;ll be sure to hollar if/when that work appears in print, of course."><sup>5</sup></a></span>  What we see in Livy is a regular cycle where these assignments are decided on at the start of each consular year, along with the Senate â€˜advisingâ€™ the magistrates and pro-magistrates on how many <a href="https://acoup.blog/2023/06/16/collections-how-to-raise-a-roman-army-the-dilectus/" data-type="post" data-id="19439">soldiers they should levy</a> and where those troops ought to go (along with supplies, as mentioned); the Senates prerogative in this regard becomes so ironclad that it is by the career of Scipio Aemilianus treated as effectively a legal restriction, which can only be finessed by taking volunteers, but not by simply passing a law or ignoring the Senate.</p>



<p>Connected to this was the Senateâ€™s oversight over state finance.  The finances of the <em>res publica</em>, you will recall, were overseen by quite junior officials, the quaestors.  In practice what that seems to have really meant was that the larger financial picture was handled by the Senate, which ,set the annual <em>tributum</em> (Romeâ€™s direct tax on citizens) and approved major expenditures from the treasury, the largest of which will have been to the armies, thus neatly tying up with the above paragraph.  It is not hard to see why the Senate ends up running this aspect, both because it was one which required long-term vision, but also because the quaestors, as junior magistrates looking to move further up the <em>cursus honorum</em>, wouldnâ€™t have have had any incentive or sufficient personal influence to defy the Senateâ€™s <em>auctoritas</em> in any event.  The Senate thus â€˜advisedâ€™ the quaestors on what to do with Romeâ€™s finances, and they did it.  Once again, the question of if the Senate had the <em>legal</em> power to do this was rather beside the point: in any event the quaestors complied.</p>



<p>Likewise, the Senate had a powerful role in foreign policy, though in the end only the <em>comitia centuriata</em> could make peace or declare wars.  Foreign ambassadors had to report to the consuls, but the consuls role, in addition to hosting them, was primarily to introduce the ambassadors to speak to the Senate, and then it was the Senate which considered their positions.  That makes a lot of sense, as the Senate is a continuing body: an agreement with a consul would only hold potentially for a year, but an agreement with the Senate has some permanence to it and it certainly seems like if the Senate suggested treaty ratification to the assembly, it passed.  As noted previously, assemblies bucking the Senate on questions of war and peace was extremely rare; when it happened, concessions were made and eventually the People followed the advice of the Senate.</p>



<p>Finally, the Senate was also the effective final authority on Roman religion.  Quite a few students tend to assume this authority must rest with Romeâ€™s most senior priest, the Pontifex Maximus, but it does not.  Instead, Romeâ€™s senior priests, like the College of Pontiffs advised the Senate on religious matters, but it was the Senate which decided.  Thus it was the Senate which instituted the <em>Ludi Apollinares</em> (Livy  25.12), it was the Senate that directed that the worship of Cybele be brought to Italy as the Magna Mater (Livy 29.10), the Senate which ordered the suppression and later regulations (Livy 39.14 and <a href="https://en.wikipedia.org/wiki/Senatus_consultum_de_Bacchanalibus" data-type="link" data-id="https://en.wikipedia.org/wiki/Senatus_consultum_de_Bacchanalibus">we have the text of the <em>senatus consultum</em></a>) of the Bacchanalia.  </p>



<figure><img data-attachment-id="21047" data-permalink="https://acoup.blog/2023/09/22/collections-how-to-roman-republic-part-iv-the-senate/senatus_consultum_de_bacchanalibus/" data-orig-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Senatus_consultum_de_bacchanalibus.jpg?fit=559%2C524&amp;ssl=1" data-orig-size="559,524" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Senatus_consultum_de_bacchanalibus" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Senatus_consultum_de_bacchanalibus.jpg?fit=300%2C281&amp;ssl=1" data-large-file="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Senatus_consultum_de_bacchanalibus.jpg?fit=559%2C524&amp;ssl=1" decoding="async" loading="lazy" width="559" height="524" src="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Senatus_consultum_de_bacchanalibus.jpg?resize=559%2C524&amp;ssl=1" alt="" srcset="https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Senatus_consultum_de_bacchanalibus.jpg?w=559&amp;ssl=1 559w, https://i0.wp.com/acoup.blog/wp-content/uploads/2023/09/Senatus_consultum_de_bacchanalibus.jpg?resize=300%2C281&amp;ssl=1 300w" sizes="(max-width: 559px) 100vw, 559px" data-recalc-dims="1"><figcaption>Via <a href="https://en.wikipedia.org/wiki/Senatus_consultum_de_Bacchanalibus" data-type="link" data-id="https://en.wikipedia.org/wiki/Senatus_consultum_de_Bacchanalibus">Wikipedia</a>, a reproduction of the <em>senatus consultum</em> <em>de Bacchanalibus</em>, which regulated the the Bacchanalia in Italy, firmly asserting senatorial authority over it.</figcaption></figure>



<h2>Auctoritas Senatus</h2>



<p>All of these prerogatives are based on the Senateâ€™s informal authority, its <em>auctoritas</em>, rather than any formal powers of compulsion (which it lacks).  The extent of that <em>auctoritas</em> and the degree to which it was clearly felt by most Romans to be necessary to respect, can come as a bit of a surprise.  But it is worth remembering the sort of society the Romans have and also the kind of organization the Senate is.</p>



<p>On the one hand, Roman culture is one where deference to age and authority is expected and normalized, with the Romans being quite comfortable with open hierarchies among citizens.  These sorts of cultural values were mot than just a dry sense that one needed to be polite to the elderly; the Romans <em>felt</em> the demands of honor and deference quite keenly.<span id="easy-footnote-6-20956"></span><span><a href="#easy-footnote-bottom-6-20956" title="For a sense of how keenly, see C. Barton, <em>Roman Honor: the fire in the bones</em> (2001)."><sup>6</sup></a></span>  The Senate was in turn a collection of the 300 very highest status individuals, the men with the <em>most</em> <em>auctoritas</em> in a society that did not have many alternative structures of power or influence.  Modern politicians have to compete with journalists, pundits, business moguls and media stars for influence; but to a substantial degree the nature of Roman society meant that nearly all of the most influential men in this period were in the Senate.  These were the wealthiest men in Rome and also the most politically accomplished men in Rome and also the most visible and notable men in Rome.  When they spoke collectively through a <em>senatus consultum</em>, the <em>auctoritas</em> of the thing was immense.</p>



<p>At the same time, the Senateâ€™s <em>auctoritas</em> also came from the accomplishments and in a sense the expertise of its members.  Because it was a body of ex-magistrates, pretty much every Roman with senior leadership experience in either civil or military affairs was a member.  It was at once a council of Romeâ€™s most experienced political leaders and its most experienced generals, which also included its most experienced priests.  And as the only <em>deliberative</em> part of the Roman political process, it provided those figures the opportunity to debate and discuss; it is thus perhaps unsurprising that it usually took quite a lot for the Roman People to come to the decision that the Senate was making a poor choice.</p>



<p>Finally, the <em>auctoritas</em> of the Senate clearly rested substantially on its history, something that it seems to me the senators themselves did not fully understand.  In the early third century, the Senate â€“ in as much as we can see with our often less-than-ideal sources â€“ both managed the closing stages of the Struggle of the Orders and the successful completion of the last two wars to dominate Italy (the Third Samnite War, 298-290 and the Pyrrhic War, 280-275) against formidable opponents.  Then under the leadership of the Senate, Rome emerged victorious from a long and grueling first war against Carthage (264-241).  It seems little surprise then that, when deciding how to manage the governance of their new overseas provinces (Sicily, then Corsica et Sardinia) the Romans leaned on the Senate.  When the Second Punic War (218-201) came around, the Senate assumed a decisive role in strategic direction, especially after the initial setbacks.</p>



<p>In short, the Senateâ€™s <em>auctoritas</em> was also substantially rooted in the perception that its advice was generally wise, that it had been generally successful, particularly through the third century.  That in turn explains substantially just how <em>dominant</em> the Senate is through much of the second century â€“ its <em>auctoritas</em>, when we come to see it clearly â€“ was at a high ebb.</p>



<p>But of course that <em>auctoritas</em> was to a substantial degree dependent on future performance.  We see pretty clearly that faith in the Senate wanes over the back half of the second century and its <em>auctoritas</em> with it.  Setbacks in the Third Punic War (149-146) and the Numantine War (143-133) lead the assemblies to demand unconventional generals â€“ in both cases, electing the legally-ineligable-at-the-time Scipio Aemilianus to the task, over the objections of the Senate.  And the Senateâ€™s stubborn failure to address perceived economic problems and the boiling crisis over the status of the <em>socii</em> also seems to have degraded its <em>auctoritas</em>.</p>



<p>The great advantage of government by <em>auctoritas</em> rather than laws was that the Senateâ€™s authority could flow wherever it was needed, enabling the Roman system to adapt to the shift from being one city in Italy to an Italian empire to a Mediterranean Empire smoothly.  But such a government was also necessarily fragile in ways I am not sure the Romans ever quite realized, because if that <em>auctoritas</em> were squandered, there was no legal, compulsive authority for the Senate, which had become the central organ of Roman governance, to fall back on.  Sullaâ€™s effort to restore the power of the Senate by radically expanding it seems, here, particularly misguided, as if adding 300 more mediocrities could restore the respect of an institution after Marius and Sulla himself had gotten done killing nearly all of the men of experience, capability and consequence in the body.</p>



<p>But all of this is getting rather too close to a narrative of the collapse of the Republic, which is a formidable topic in its own right.  Next time, weâ€™ll close out the main trunk of this series with a look at Romeâ€™s courts (but expect <em>addenda</em> also covering provincial government and Romeâ€™s Italian alliance system).</p>
<ol><li><span id="easy-footnote-bottom-1-20956"></span>I stress this point because this is a common mistake: assuming that the <em>Pontifex Maximus</em> as Romeâ€™s highest priest was in some way the â€˜bossâ€™ of all of Romeâ€™s other priests.  He was not; he was the presiding officer of the college of Pontiffs and the manager of the calendar (this was a very significant role), but the <em>Pontifex Maximus</em> was not the head of some priestly heirarchy and his power over the other <em>pontifices</em> was limited.  Moreover his power over other religious officials (the <em>augures</em>, <em>haruspices</em>, the <em>quindecimviri sacris faciundis</em> and so on) was very limited.  Instead, these figures report to the Senate, though the Senate will generally defer to the judgement of the <em>pontifices</em>.<a href="#easy-footnote-1-20956"></a></li><li><span id="easy-footnote-bottom-2-20956"></span>With sitting tribunes able to attend meetings of the Senate, but not being granted lifelong membership.<a href="#easy-footnote-2-20956"></a></li><li><span id="easy-footnote-bottom-3-20956"></span>A touch higher than the 24 years a L3 Model West life table (what we generally use to simulate Roman populations) leads us to expect, but then these are elites who are likely to be well nourished and not in hazardous occupations, so they might live a bit longer.<a href="#easy-footnote-3-20956"></a></li><li><span id="easy-footnote-bottom-4-20956"></span>Though it must be noted that Polybius is mostly looking at Roman foreign policy, where the Senate is strongest.<a href="#easy-footnote-4-20956"></a></li><li><span id="easy-footnote-bottom-5-20956"></span> I should note much of this picture is owed to Michael Taylor, with whom I am collaborating on work on this very topic; Iâ€™ll be sure to hollar if/when that work appears in print, of course.<a href="#easy-footnote-5-20956"></a></li><li><span id="easy-footnote-bottom-6-20956"></span>For a sense of how keenly, see C. Barton, <em>Roman Honor: the fire in the bones</em> (2001).<a href="#easy-footnote-6-20956"></a></li></ol>	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Rapidpages â€“ OSS alternative to vercel's v0 (192 pts)]]></title>
            <link>https://github.com/rapidpages/rapidpages</link>
            <guid>37614177</guid>
            <pubDate>Fri, 22 Sep 2023 16:35:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/rapidpages/rapidpages">https://github.com/rapidpages/rapidpages</a>, See on <a href="https://news.ycombinator.com/item?id=37614177">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto">
<themed-picture data-catalyst-inline="true"><picture>
  <source media="(prefers-color-scheme: dark)" srcset="https://raw.githubusercontent.com/rapidpages/vault/c458b4e2070fdf3e32c5796eaa9488f95f2ac40f/logo-long-dark.png">
  <source media="(prefers-color-scheme: light)" srcset="https://raw.githubusercontent.com/rapidpages/vault/c458b4e2070fdf3e32c5796eaa9488f95f2ac40f/logo-long-light.png">
  <img alt="Rapidpages" src="https://raw.githubusercontent.com/rapidpages/vault/c458b4e2070fdf3e32c5796eaa9488f95f2ac40f/logo-long-dark.png">
</picture></themed-picture>
</p>
<p dir="auto">
  <a href="https://www.rapidpages.io/?ref=github-readme" rel="nofollow">Website</a> â€¢ <a href="https://discord.gg/W6jYq46Frd" rel="nofollow">Discord</a>
</p>
<h2 tabindex="-1" id="user-content-rapidpages" dir="auto"><a href="#rapidpages">Rapidpages</a></h2>
<p dir="auto">Rapidpages is a prompt-first IDE for building great-looking pages. You simply describe the UI you desire and it will generate the code for that component using the technologies that are familiar to you (currently only React+Tailwind are supported).</p>
<details open="">
  <summary>
    
    <span aria-label="Video description rapidpages-2.mp4">rapidpages-2.mp4</span>
    <span></span>
  </summary>

  <video src="https://user-images.githubusercontent.com/1308560/269844680-a7505448-bc0d-4035-9cff-39e8df5ecac9.mp4" data-canonical-src="https://user-images.githubusercontent.com/1308560/269844680-a7505448-bc0d-4035-9cff-39e8df5ecac9.mp4" controls="controls" muted="muted">

  </video>
</details>

<h2 tabindex="-1" id="user-content-get-started" dir="auto"><a href="#get-started">Get Started</a></h2>
<h3 tabindex="-1" id="user-content-run-rapidpages-locally" dir="auto"><a href="#run-rapidpages-locally">Run Rapidpages locally</a></h3>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/rapidpages/rapidpages.git &amp;&amp; cd rapidpages"><pre>git clone https://github.com/rapidpages/rapidpages.git <span>&amp;&amp;</span> <span>cd</span> rapidpages</pre></div>
<p dir="auto">Edit the <code>.env.example</code> file to ensure the following values are set:</p>
<ul dir="auto">
<li>OPENAI_API_KEY: you need to get a key from <a href="https://platform.openai.com/" rel="nofollow">OpenAI</a></li>
<li>GITHUB_CLIENT_SECRET &amp; GITHUB_CLIENT_ID: you need to create a GitHub oauth application to be able to login. Follow <a href="https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/creating-an-oauth-app">this guide</a> from GitHub.</li>
</ul>
<p dir="auto">Create the database &amp; run the application</p>
<div dir="auto" data-snippet-clipboard-copy-content="npm run db:push
npm run dev"><pre>npm run db:push
npm run dev</pre></div>
<h3 tabindex="-1" id="user-content-run-rapidpages-cloud" dir="auto"><a href="#run-rapidpages-cloud">Run Rapidpages Cloud</a></h3>
<p dir="auto">You can start using <a href="https://www.rapidpages.io/" rel="nofollow">Rapidpages</a> today on the cloud for free. If you run out of credits, feel free to ping us on <a href="https://discord.gg/W6jYq46Frd" rel="nofollow">discord</a>.</p>
<h2 tabindex="-1" id="user-content-known-limitations" dir="auto"><a href="#known-limitations">Known Limitations</a></h2>
<p dir="auto">Currently, the components are generated in one shot. In the future, this task will be broken down into multiple steps such as dependency retrieval and icon generation. This multi-step process will allow the creation of more complicated ui elements.</p>
<h2 tabindex="-1" id="user-content-license" dir="auto"><a href="#license">License</a></h2>
<p dir="auto">See the <a href="https://github.com/rapidpages/rapidpages/blob/main/LICENSE">LICENSE</a> file for more information.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I'm all-in on server-side SQLite (2022) (204 pts)]]></title>
            <link>https://fly.io/blog/all-in-on-sqlite-litestream/</link>
            <guid>37613747</guid>
            <pubDate>Fri, 22 Sep 2023 16:02:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://fly.io/blog/all-in-on-sqlite-litestream/">https://fly.io/blog/all-in-on-sqlite-litestream/</a>, See on <a href="https://news.ycombinator.com/item?id=37613747">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
             <img src="https://fly.io/blog/all-in-on-sqlite-litestream/assets/litestream-cover.webp" alt="">
           <p>Iâ€™m Ben Johnson. I wrote BoltDB, an embedded database that is the backend for systems like etcd. Now I work at <a href="https://fly.io/">Fly.io</a>, on <a href="https://litestream.io/">Litestream</a>. Litestream is an open-source project that makes SQLite tenable for full-stack applications through the power of âœ¨replicationâœ¨. If you can set up a SQLite database, <a href="https://fly.io/docs/speedrun/">you can get Litestream working in less than 10 minutes</a>.</p>
<p>The conventional wisdom of full-stack applications is the n-tier architecture, which is now so common that itâ€™s easy to forget it even has a name. Itâ€™s what youâ€™re doing when you run an â€œapplication serverâ€ like Rails, Django, or Remix alongside a â€œdatabase serverâ€ like Postgres. According to the conventional wisdom, SQLite has a place in this architecture: as a place to run unit tests.</p>

<p>The conventional wisdom could use some updating. I think that for many applications â€“&nbsp;production applications, with large numbers of users and high availability requirements â€“&nbsp;SQLite has a better place, in the center of the stack, as the core of your data and persistence layer.</p>

<p>Itâ€™s a big claim. It may not hold for your application. But you should consider it, and Iâ€™m here to tell you why.</p>
<h2 id="a-brief-history-of-application-databases"><a href="#a-brief-history-of-application-databases" aria-label="Anchor"></a>A Brief History Of Application Databases</h2>
<p>50 years is not a long time. In that time, weâ€™ve seen a staggering amount of change in how our software manages data.</p>

<p>In the beginning of our story, back in the â€˜70s, there were <a href="https://www.oreilly.com/library/view/sql-in-a/9780596155322/ch01s01s01.html">Coddâ€™s rules,</a> defining what we now call â€œ<a href="https://en.wikipedia.org/wiki/Relational_database">relational databases</a>â€, also known today as â€œdatabasesâ€. You know them, even if you donâ€™t: all data lives in tables; tables have columns, and rows are addressable with keys; C.R.U.D.; schemas; a textual language to convey these concepts. The language, of course, is SQL, which prompted a Cambrian explosion of SQL databases, from Oracle to DB2 to Postgres to MySQL, throughout the '80s and '90s.</p>

<p>It hasnâ€™t all been good. The 2000s got us XML databases. But our industry atoned  by building some <a href="https://www.vertica.com/secrets-behind-verticas-performance/">great columnar databases</a> during the same time. By the 2010s, we saw dozens of large-scale, open-source distributed database projects come to market.  Now anyone can spin up a cluster and query terabytes of data.</p>

<p>As databases evolved, so too did the strategies we use to plug them in to our applications. Almost since Codd, weâ€™ve divided those apps into tiers. First came the database tier. Later, with <a href="https://memcached.org/">memcached</a> and <a href="https://redis.io/">Redis</a>, we got the caching tier. Weâ€™ve got <a href="https://sidekiq.org/">background job tiers</a> and weâ€™ve got <a href="https://www.pgbouncer.org/">routing tiers</a> and distribution tiers. The tutorials pretend that there are 3 tiers, but we all know itâ€™s called â€œn-tierâ€ because nobody can predict how many tiers weâ€™re going to end up with.</p>

<p>You know where weâ€™re going with this. Our scientists were so preoccupied with whether or not they could, and so on.</p>

<p>See, over these same five decades, weâ€™ve also seen CPUs, memory, &amp; disks become hundreds of times faster and cheaper. A term that practically defines database innovation in the 2010s is â€œbig dataâ€. But hardware improvements have made that concept slippery in the 2020s. Managing a 1 GB database in 1996? A big deal. In 2022? Run it on your laptop, or a t3.micro.</p>

<p>When we think about new database architectures, weâ€™re hypnotized by scaling limits. If it canâ€™t handle petabytes, or at least terabytes, itâ€™s not in the conversation. But most applications will never see a terabyte of data, even if theyâ€™re successful. Weâ€™re using jackhammers to drive finish nails.</p>
<h2 id="the-sweet-release-of-sqlite"><a href="#the-sweet-release-of-sqlite" aria-label="Anchor"></a>The Sweet Release of SQLite</h2>
<p>Thereâ€™s a database that bucks a lot of these trends. Itâ€™s one of the most popular SQL databases in the world, so standardized itâ€™s an <a href="https://www.sqlite.org/locrsf.html">official archival format of the Library of Congress</a>, itâ€™s renowned for its reliability and its <a href="https://www.sqlite.org/testing.html">unfathomably encompassing test suite</a>, and its performance is so good that citing its metrics on a message board invariably starts an argument about whether it should be disqualified. I probably donâ€™t have to name it for you, but, for the one person in the back with their hand raised, Iâ€™m talking about <a href="https://www.sqlite.org/">SQLite</a>.</p>

<p>SQLite is an embedded database. It doesnâ€™t live in a conventional architectural tier; itâ€™s just a library, linked into your application serverâ€™s process. Itâ€™s the standard bearer of the â€œ<a href="https://crawshaw.io/blog/one-process-programming-notes">single process application</a>â€: the server that runs on its own, without relying on nine other sidecar servers to function.</p>

<p>I got interested in these kinds of applications because I build databases. I wrote <a href="https://github.com/boltdb/bolt">BoltDB</a>, which is a popular embedded K/V store in the Go ecosystem. BoltDB is reliable and, as youâ€™d expect from an in-process database, it performs like a nitro-burning funny car. But BoltDB has limitations: its schema is defined in Go code, and so itâ€™s hard to migrate databases. You have to build your own tooling for it; there isnâ€™t even a REPL.</p>

<p>If youâ€™re careful, using this kind of database can get you a lot of performance. But for general-purpose use, you donâ€™t want to run your database off the open headers like a funny car. I thought about the kind of work Iâ€™d have to do to make BoltDB viable for more applications, and the conclusion I quickly reached was: thatâ€™s what SQLite is for.</p>

<p>SQLite, as you are no doubt already typing into the message board comment, is not without its own limitations. The biggest of them is that a single-process application has a single point of failure: if you lose the server, youâ€™ve lost the database. Thatâ€™s not a flaw in SQLite; itâ€™s just inherent to the design.</p>
<h2 id="enter-litestream"><a href="#enter-litestream" aria-label="Anchor"></a>Enter Litestream</h2>
<p>There are two big reasons everyone doesnâ€™t default to SQLite. The first is resilience to storage failures, and the second is concurrency at scale. Litestream has something to say about both concerns.</p>

<p>How Litestream works is that it takes control of SQLiteâ€™s <a href="https://sqlite.org/wal.html">WAL-mode journaling</a>. In WAL mode, write operations append to a log file stored alongside SQLiteâ€™s main database file. Readers check both the WAL file and the main database to satisfy queries. Normally, SQLite automatically checkpoints pages from the WAL back to the main database. Litestream steps in the middle of this: we open an indefinite read transaction that prevents automatic checkpoints. We then capture WAL updates ourselves, replicate them, and trigger the checkpointing ourselves.</p>
<div><p>The most important thing you should understand about Litestream is that itâ€™s just SQLite. Your application uses standard SQLite, with whatever your standard SQLite libraries are. Weâ€™re not parsing your queries or proxying your transactions, or even adding a new library dependency. Weâ€™re just taking advantage of the journaling and concurrency features SQLite already has, in a tool that runs alongside your application. For the most part, your code can be oblivious to Litestreamâ€™s existence.</p>

<p>Or, think of it this way: you can build a Remix application backed by Litestream-replicated SQLite, and, while itâ€™s running, crack open the database using the standard <code>sqlite3</code> REPL and make some changes. Itâ€™ll just work.</p>

<p>You can read more about <a href="https://litestream.io/how-it-works/">how this works here</a>.</p>
</div>
<p>It sounds complicated, but itâ€™s incredibly simple in practice, and <a href="https://litestream.io/getting-started/">if you play with it</a> youâ€™ll see that it â€œjust worksâ€. You run the Litestream binary on the server your database lives on in â€œreplicateâ€ mode:</p>
<div>
  <pre><code>litestream replicate fruits.db s3://my-bukkit:9000/fruits.db
</code></pre>
</div>

<p>And then you can â€œrestoreâ€ it to another location:</p>
<div>
  <pre><code>litestream restore -o fruits-replica.db s3://my-bukkit:9000/fruits.db
</code></pre>
</div>

<p>Now commit a change to your database; if you restore again then youâ€™ll see the change on your new copy.</p>
<p>Weâ€™ll replicate almost anywhere: to S3, or Minio; to Azure, or Backblaze B2, or Digital Ocean or Google Cloud, or an SFTP server.</p>
<p>The ordinary way people use Litestream today is to replicate their SQLite database to S3 (itâ€™s remarkably cheap for most SQLite databases to live-replicate to S3). That, by itself, is a huge operational win: your database is as resilient as you ask it to be, and easily moved, migrated, or mucked with.</p>

<p>But you can do more than that with Litestream. The upcoming release of Litestream will let you live-replicate SQLite directly between databases, which means you can set up a write-leader database with distributed read replicas. Read replicas can <a href="https://fly.io/blog/globally-distributed-postgres/">catch writes and redirect them to the leader</a>; most applications are read-heavy, and this setup gives those applications a globally scalable database.</p>
<figure>
  <figcaption>
    <h2>Litestream SQLite, Postgres, CockroachDB, or any other database</h2>
    <p>They all work on Fly.io; we do built-in persistent storage and private networking for painless clustering, so itâ€™s easy to try new stuff out.</p>
    <a href="https://fly.io/docs/speedrun/">
      Try Fly  <span>â†’</span>
    </a>
  </figcaption>
  <p><img src="https://fly.io/static/images/cta-rabbit.webp" srcset="https://fly.io/static/images/cta-rabbit@2x.webp 2x" alt="">
  </p>
</figure>

<h2 id="you-should-take-this-option-more-seriously"><a href="#you-should-take-this-option-more-seriously" aria-label="Anchor"></a>You Should Take This Option More Seriously</h2>
<p>One of my first jobs in tech in the early 2000s was as an Oracle Database Administrator (DBA) for an Oracle9i database. I remember spending hours poring over books and documentation to learn the ins  and  outs of the Oracle database. And there were a lot. The <a href="https://docs.oracle.com/cd/A91034_01/DOC/server.901/a90117.pdf">administration guide</a> was almost a thousand pagesâ€”and that was just one of over <a href="https://docs.oracle.com/cd/A91034_01/DOC/nav/docindex.htm">a hundred documentation guides</a>.</p>

<p>Learning what knobs to turn to optimize queries or to improve writes could make a big difference back then. We had disk drives that could only read tens of megabytes per second so utilizing a better index could change a 5-minute query into a 30 second query.</p>

<p>But database optimization has become less important for typical applications. If you have a 1 GB database, an NVMe disk can slurp the whole thing into memory in under a second. As much as I love tuning SQL queries, itâ€™s becoming a dying art for most application developers. Even poorly tuned queries can execute in under a second for ordinary databases.</p>

<p>Modern Postgres is a miracle. Iâ€™ve learned a ton by reading its code over the years. It includes a slew of features like a genetic query optimizer, row-level security policies, and a half dozen different types of indexes. If you need those features, you need them. But most of you probably donâ€™t.</p>

<p>And if you donâ€™t need the Postgres features, theyâ€™re a liability. For example, even if you donâ€™t use multiple user accounts, youâ€™ll still need to configure and debug host-based authentication. You have to firewall off your Postgres server. And more features mean more documentation, which makes it difficult to understand the software youâ€™re running. The documentation for Postgres 14 is nearly <a href="https://www.postgresql.org/files/documentation/pdf/14/postgresql-14-US.pdf">3,000 pages</a>.</p>

<p>SQLite has a subset of the Postgres feature set. But that subset is 99.9% of what I typically need. Great SQL support, <a href="https://www.sqlite.org/windowfunctions.html">windowing</a>, <a href="https://www.sqlite.org/lang_with.html">CTEs</a>, <a href="https://www.sqlite.org/fts5.html">full-text search</a>, <a href="https://www.sqlite.org/json1.html">JSON</a>. And when it lacks a feature, the data is already next to my application. So thereâ€™s little overhead to pull it in and process it in my code.</p>

<p>Meanwhile, the complicated problems I really need to solve arenâ€™t really addressed by core database functions. Instead, I want to optimize for just two things: latency &amp; developer experience.</p>

<p>So one reason to take SQLite seriously is that itâ€™s operationally much simpler. You spend your time writing application code, not designing intricate database tiers. But then thereâ€™s the other problem.</p>
<h2 id="the-light-is-too-damn-slow"><a href="#the-light-is-too-damn-slow" aria-label="Anchor"></a>The light is too damn slow</h2>
<p>Weâ€™re beginning to hit theoretical limits. In a vacuum, light travels about 186 miles in 1 millisecond. Thatâ€™s the distance from Philadelphia to New York City and back. Add in layers of network switches, firewalls, and application protocols and the latency increases further.</p>

<p>The per-query latency overhead for a Postgres query within a single AWS region can be up to a millisecond. Thatâ€™s not Postgres being slowâ€”itâ€™s you hitting the limits of how fast data can travel. Now, handle an HTTP request in a modern application. A dozen database queries and youâ€™ve burned over 10ms before business logic or rendering.</p>

<p>Thereâ€™s a magic number for application latency: <strong>responses in 100ms or less feel instantaneous</strong>. Snappy applications make happy users. 100ms seems like a lot, but itâ€™s easy to carelessly chew it up. The 100ms threshold is so important that people  <a href="https://jamstack.org/">pre-render their pages and post them on CDNs</a> just to reduce latency.</p>

<p>Weâ€™d rather just move our data close to our application.  How much closer? Really close.</p>

<p>SQLite isnâ€™t just on the same machine as your application, but actually built into your application process. When you put your data right next to your application, you can see per-query latency drop to 10-20 microseconds. Thatâ€™s micro, with a Î¼. A 50-100x improvement over an intra-region Postgres query.</p>

<p>But wait, thereâ€™s more. Weâ€™ve effectively eliminated per-query latency. Our application is fast, but itâ€™s also simpler. We can break up larger queries into many smaller, more manageable queries, and spend the time weâ€™ve been using to hunt down corner-casey N+1 patterns building new features.</p>

<p>Minimizing latency isnâ€™t just for production either. Running integration tests with a traditional client/server database easily grows to take minutes locally and the pain continues once you push to CI. Reducing the feedback loop from code change to test completion doesnâ€™t just save time but also preserves our focus while developing. A one-line change to SQLite will let you run it in-memory so you can run integration tests in seconds or less.</p>
<h2 id="small-fast-reliable-globally-distributed-choose-any-four"><a href="#small-fast-reliable-globally-distributed-choose-any-four" aria-label="Anchor"></a>Small, Fast, Reliable, Globally Distributed: Choose Any Four</h2>
<p>Litestream is distributed and replicated and, most importantly, still easy to get your head around. Seriously, <a href="https://litestream.io/getting-started/">go try it</a>. Thereâ€™s just not much to know.</p>

<p>My claim is this: by building reliable, easy-to-use replication for SQLite, we make it attractive for all kinds of full-stack applications to run entirely on SQLite. It was reasonable to overlook this option 170 years ago, when <a href="https://guides.rubyonrails.org/getting_started.html">the Rails Blog Tutorial</a> was first written. But SQLite today can keep up with the write load of most applications, and replicas can scale reads out to as many instances as you choose to load-balance across.</p>

<p>Litestream has limitations. I built it for single-node applications, so it wonâ€™t work well on ephemeral, serverless platforms or when using rolling deployments. It needs to restore all changes sequentially which can make database restores take minutes to complete. Weâ€™re <a href="https://github.com/benbjohnson/litestream/issues/8">rolling out live replication</a>, but the separate-process model restricts us to course-grained control over replication guarantees.</p>

<p>We can do better. For the past year, what Iâ€™ve been doing is nailing down the core of Litestream and keeping a focus on correctness. Iâ€™m happy with where weâ€™ve landed. It started as a simple, streaming back up tool but itâ€™s slowly evolving into a reliable, distributed database. Now itâ€™s time to make it faster and more seamless, which is my whole job at Fly.io. There are improvements coming to Litestream â€” improvements that arenâ€™t at all tied to Fly.io! â€” that Iâ€™m psyched to share.</p>

<p>Litestream has a new home at Fly.io, but it is and always will be an open-source project. My plan for the next several years is to keep making it more useful, no matter where your application runs, and see just how far we can take the SQLite model of how databases can work.</p>

           
         </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Paisa â€“ Open-Source Personal Finance Manager (558 pts)]]></title>
            <link>https://paisa.fyi/</link>
            <guid>37613054</guid>
            <pubDate>Fri, 22 Sep 2023 15:08:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://paisa.fyi/">https://paisa.fyi/</a>, See on <a href="https://news.ycombinator.com/item?id=37613054">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span>2022/01/01</span> <span>Salary</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span>    Income:Salary:Acme</span><span>     </span><span>-100,000</span><span> </span><span>INR</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span>    Assets:Checking</span><span>         </span><span>100,000</span><span> </span><span>INR</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span>2022/01/03</span> <span>Rent</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span>    Assets:Checking</span><span>         </span><span>-20,000</span><span> </span><span>INR</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span>    Expenses:Rent</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span>2022/01/07</span> <span>Investment</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span>    Assets:Checking</span><span>         </span><span>-20,000</span><span> </span><span>INR</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span>    Assets:Equity:NIFTY</span><span>   </span><span>168.690</span><span> </span><span>NIFTY</span><span> </span><span>@</span><span> </span><span>118.56</span><span> </span><span>INR</span>
</span></code></pre></div>
<div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span>2022/01/01</span> <span>Salary</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span>    Income:Salary:Acme</span><span>      </span><span>$</span><span>-5,000</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span>    Assets:Checking</span><span>          </span><span>$</span><span>5,000</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span>2022/01/03</span> <span>Rent</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span>    Assets:Checking</span><span>         </span><span>$</span><span>-2,000</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span>    Expenses:Rent</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span>2022/01/07</span> <span>Investment</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span>    Assets:Checking</span><span>         </span><span>$</span><span>-1,000</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span>    Assets:Equity:AAPL</span><span>   </span><span>6.452</span><span> </span><span>AAPL</span><span> </span><span>@</span><span> </span><span>$</span><span>154.97</span>
</span></code></pre></div>
<div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span>2022/01/01</span> <span>Salary</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span>    Income:Salary:Acme</span><span>      </span><span>-5,000</span><span>â‚¬</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span>    Assets:Checking</span><span>          </span><span>5,000</span><span>â‚¬</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span>2022/01/03</span> <span>Rent</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span>    Assets:Checking</span><span>         </span><span>-2,000</span><span>â‚¬</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span>    Expenses:Rent</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span>2022/01/07</span> <span>Investment</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span>    Assets:Checking</span><span>         </span><span>-1,000</span><span>â‚¬</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span>    Assets:Equity:AAPL</span><span>   </span><span>6.452</span><span> </span><span>AAPL</span><span> </span><span>@</span><span> </span><span>154.97</span><span>â‚¬</span>
</span></code></pre></div>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Java 21: The Nice, the Meh, and the Momentous (254 pts)]]></title>
            <link>https://horstmann.com/unblog/2023-09-19/index.html</link>
            <guid>37612975</guid>
            <pubDate>Fri, 22 Sep 2023 15:02:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://horstmann.com/unblog/2023-09-19/index.html">https://horstmann.com/unblog/2023-09-19/index.html</a>, See on <a href="https://news.ycombinator.com/item?id=37612975">Hacker News</a></p>
<div id="readability-page-1" class="page"><h2>Java 21: The Nice, The Meh, and the ... Momentous</h2>
    <blockquote><p>When Java 17 was released in 2021 as a â€œlong term supportâ€ version, I wrote <a href="https://horstmann.com/unblog/2021-09-14/index.html">an article</a> dissecting its features and came to the conclusion that it had a few nice features, but none that were compelling reasons to upgrade. Except one: tens of thousands of bug fixes. </p>
      <p>Java 21 was released today, as another â€œlong term supportâ€ release. How does it rate on the momentousness scale? Read on for an unbiased opinion.</p>
    </blockquote>
    <p><img src="https://horstmann.com/unblog/2023-09-19/gbu.jpeg" alt=".jpeg" loading="lazy"></p>

    <h2>The Momentousness Ratings</h2>

    <p>Every six months, there is a new Java release. Ever so often (currently, every two years), Oracle labels a release as â€œlong term supportâ€, and Java users wonder whether they should upgrade. In theory, <a href="https://foojay.io/almanac/jdk-21/">other JDK distributors</a> could offer â€œlong term supportâ€ for other releases, but it seems everyone is following Oracle's lead.</p>
    <p>Should you upgrade?</p>
    <p>Here are the major features of Java 21. I omit preview and incubator features (which you are surely not going to use in production), JVM internals, highly specialized features such as <a href="https://openjdk.org/jeps/452">this one</a>, and deprecations.</p>
    
    <table><tbody><tr><th>Feature</th>
        <th>Example</th>
        <th>Momentousness rating</th>
        <th>Why care?</th>
      </tr>
      <tr><td>Pattern matching for <code>switch</code></td>
        <td>
        <pre>Employee e = . . .;
String description = switch (e) {
   case Executive exec when exec.getTitle().length() &gt;= 20 -&gt;
      "An executive with an impressive title";
   case Executive __ -&gt; "An executive";
   case Manager m -&gt; {
      m.setBonus(10000);
      yield "A manager who just got a bonus";
   }
   default -&gt; "A lowly employee with a salary of " + e.getSalary();
};
</pre></td>
        <td>Nice</td>
        <td>It's better than chains of <code>if/else/else</code> with <code>instanceof</code>. Do you do that often? The JDK source has over 5 million LOC with about a thousand <code>instanceof</code> preceded by <code>else</code>.</td>
      </tr>
      <tr><td>Record Patterns</td>
        <td>
        <pre>String description = switch (p)
   {
      case Point(var x, var y) when x == 0 &amp;&amp; y == 0 -&gt; "origin";
      case Point(var x, var __) when x == 0 -&gt; "on x-axis";
      case Point(var __, var y) when y == 0 -&gt; "on y-axis";
      default -&gt; "not on either axis";
   };
</pre></td>
        <td>Nice</td>
        <td>How many records are in your codebase? (The Java 21 API has <a href="https://docs.oracle.com/en/java/javase/21/docs/api/allclasses-index.html">two</a>.)</td>
      </tr>
      <tr><td>Sequenced Collections</td>
        <td>
        <pre>List&lt;String&gt; words = ...;
String lastWord = words.getLast();
for (String word : words.reversed()) System.out.println(word);
</pre></td>
        <td>Nice</td>
        <td>Good to have, but you wouldn't upgrade for that.</td>
      </tr>
      <tr><td>Virtual threads</td>
        <td>
        <pre>try {
   var response = client.send(request, HttpResponse.BodyHandlers.ofString()); 
   for (URL url : getImageURLs(response.body())) {
      saveImage(getImage(url));
   }
}
catch (...) { ... }
</pre></td>
        <td>Momentous</td>
        <td>No more async gobbledygook!
        <pre>client.sendAsync(request, HttpResponse.BodyHandlers.ofString())
   .thenApply(HttpResponse::body)
   .thenApply(this::getImageURLs)
   .thenCompose(this::getImages)
   .thenAccept(this::saveImages)
   .exceptionally(this::ohNoes);
</pre></td>
      </tr>
      <tr><td><a href="https://javaalmanac.io/jdk/21/apidiff/17/">Miscellaneous new methods</a></td>
        <td><pre>"Hello, World!".<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#splitWithDelimiters(java.lang.String,int)">splitWithDelimiters</a>
      ("\\pP\\s*", -1)
  // ["Hello", ", ", "World", "!", ""]
</pre></td>
        <td>Meh</td>
        <td>Good that the API keeps evolving in small ways, but the changes are pretty minor.</td>
      </tr>
      <tr><td><a href="https://bugs.openjdk.org/browse/JDK-8309268?jql=project%20%3D%20JDK%20AND%20statusCategory%20%3D%20Done%20%20AND%20fixVersion%20%3E%3D%2018%20AND%20fixVersion%20%3C%3D%2021%20ORDER%20BY%20updated%20DESC">Over 10,000 bug fixes</a></td>
          <td><a href="https://bugs.openjdk.org/browse/JDK-8054022">Bug JDK-8054022</a> HttpURLConnection timeouts with Expect: 100-Continue and no chunking</td>
          <td>Count me in!</td>
          <td>Unless you are sure that none of them might impact you, shouldn't you upgrade?</td>
      </tr>
    </tbody></table>

    <p>Let's look at these features in more detail.</p>

    <h2>Virtual Threads</h2>
    <p><a href="https://horstmann.com/unblog/2023-06-27/index.html">Virtual threads</a> are a big deal. Similar to generics, lambda expressions, and modules, they solve a major problem for which the language has otherwise no good alternative. If you have the problem that they are designed to solve, you will have a powerful motivation to upgrade.</p>
    <p>Here is the problem. If you write applications that process many more concurrent requests than available platform threads, you currently have two unappealing choices:</p>
    <ul><li>Use a synchronous programming style and accept that throughput is limited by the number of platform threads</li>
      <li>Use an asynchronous or â€œreactiveâ€ programming style</li>
    </ul>
    <p>What is wrong with an asynchronous programming style? You have to structure your program as chunks of callbacks. You need library support for sequencing, branches, loops, and exception handling, instead of using the features that are built into Java. Debugging is more challenging since the debugger cannot show you a complete execution history when it stops at a breakpoint. Not convinced? Make one of your junior programmers read through the documentation of <a href="https://projectreactor.io/docs/core/release/reference">Project Reactor</a> and then assign a simple task, such as loading a web page and then loading all images in it. </p>
    <p>Of course, virtual threads are not appropriate for all concurrent programming. They only work for tasks that spend most of their time waiting for network I/O. This is the situation in many business applications where much of the request processing consists of calls to the database and external services.</p>
    <p>Interestingly, there is <a href="https://horstmann.com/unblog/2023-06-27/index.html">very little to learn</a> in order to use virtual threads. You just use them like regular threads. In most scenarios, you simply configure your application framework to invoke your business logic on virtual threads, and watch throughput increase.</p>
    <p>One idiom is worth learning. To run multiple tasks in parallel, use a <em>local</em> instance of <code>ExecutorService</code>:</p>
    <pre>try (var service = Executors.newVirtualThreadPerTaskExecutor()) {
   Future&lt;T1&gt; f1 = service.submit(callable1);
   Future&lt;T2&gt; f2 = service.submit(callable2);
   result = combine(f1.get(), f2.get());
}
</pre>
    <p>Obtaining the result with <code>get</code> is a blocking call, but so what, blocking is cheap with virtual threads.</p>
    <p><a href="https://openjdk.org/jeps/453">Structured Concurrency</a>, a preview feature in Java 21, simplifies error handling and makes it easier to harvest the results of multiple concurrent requests.</p>
    <p>There are a few caveats:</p>
    <ul><li>In the past, a thread pool didn't just throttle the incoming requests but also the concurrent resources that your app consumed. If you now accept many more incoming requests, you may need other ways to manage resource consumption.</li>
      <li>One resource that deserves particular attention is thread locals. With many more threads than before, do you really want many more thread locals? Or are there more appropriate mechanisms to achieve whatever you wanted to achieve with thread locals? Your framework provider needs to think this through, and if you actively use thread locals, so should you. A <a href="https://openjdk.org/jeps/446">lighter-weight alternative</a> is in preview.</li>
      <li>Virtual threads do not yet work well with blocking calls inside <code>synchronized</code> methods or blocks. The remedy is to rewrite the offending code with <code>java.util.concurrent</code> locks. Be sure that the providers of your framework, database driver, and so on, update their code to work well with virtual threads. Quite a few already did.</li>
    </ul>
 

    <h2>Pattern Matching</h2>
    <p>Many functional languages have some form of pattern matching that makes it convenient to work with â€œalgebraic data typesâ€, which in Java are implemented with sealed hierarchies and record classes.</p>
    <p>Java has chosen to extend the syntax for <code>instanceof</code> and <code>switch</code> for pattern matching, in order to leverage existing programmer knowledge. These extensions have been in preview until Java 20 and are now in their final form.</p>
    <p>Are you using sealed hierarchies and records in your code base? Then pattern matching is appealing. Here is an example, a simple JSON hierarchy:</p>
    <pre>sealed interface JSONValue permits JSONArray, JSONObject, JSONPrimitive {}

final class JSONArray extends ArrayList&lt;JSONValue&gt; implements JSONValue {}

final class JSONObject extends HashMap&lt;String, JSONValue&gt; implements JSONValue {}

sealed interface JSONPrimitive extends JSONValue
   permits JSONNumber, JSONString, JSONBoolean, JSONNull {}

final record JSONNumber(double value) implements JSONPrimitive {}

final record JSONString(String value) implements JSONPrimitive {}

enum JSONBoolean implements JSONPrimitive {
   FALSE, TRUE;
}

enum JSONNull implements JSONPrimitive {
   INSTANCE;
}

</pre>
    <p><img src="https://horstmann.com/unblog/2023-09-19/json.png" alt=".png" loading="lazy"></p>
    <p>Now you can process JSON values like this:</p>

<pre>JSONPrimitive p = . . .;
double value = switch (p) {
   case JSONString(var v) when v.matches("-?(0|[1-9]\\d*)(\\.\\d+)?([eE][+-]?\\d+)?") -&gt;
      Double.parseDouble(v);
   case JSONString __ -&gt; Double.NaN;
   case JSONNumber(var v) -&gt; v;
   case JSONBoolean.TRUE -&gt; 1;
   case JSONBoolean.FALSE, JSONNull.INSTANCE -&gt; 0;
}
</pre>
    <p>Note the following:</p>
    <ul><li>This is a <code>switch</code> expression that yields a value</li>
      <li>The compiler checks that the <code>switch</code> is exhaustive</li>
      <li>The pattern <code>JSONString(var v)</code> binds the variable <code>v</code> to the component of the record</li>
      <li>The <code>when</code> clause restricts a match to a Boolean condition</li>
      <li>With <a href="https://openjdk.org/jeps/445">JEP 445</a>, you will be able to use <code>case JSONString _</code>, with a single underscore, to indicate that you do not need the variable binding. But that is still a preview feature.</li>
      <li>Since Java 14, you can have multiple constants in a single <code>case</code></li>
    </ul>
    <p>All this is certainly nicer than the <code>instanceof</code> and casting that one might do right now with Jackson. But you might want to hold off switching to a new JSON hierarchy until Java gives us <a href="https://openjdk.org/jeps/8277163">value classes</a>.</p>
    <p>In general, pattern matching is more useful in contexts that are designed for pattern matching. Today's use cases are perhaps not all that compelling, but it is an investment in the future.</p>
    <h2>Sequenced Collections</h2>
    <p>When you have a <code>Collection</code>, how do you get the first element? With a <code>List</code>, it's <code>list.get(0)</code>, but in general, you'd call <code>collection.iterator().next()</code>. Except with a stack or queue it is <code>peek</code>, with a deque <code>getFirst</code>, and the <code>SortedSet</code> interface has <code>first</code>. And what about the last element?</p>
    <p>And how do you visit the elements in reverse order? <code>Deque</code> and <code>NavigableSet</code> have a handy <code>descendingIterator</code>. For lists, you iterate backwards, starting from the last element.</p>
    <p><a href="https://openjdk.org/jeps/431">JEP 431</a> cleans up this situation with a <code>SequencedCollection</code> interface. It has these methods:</p>
    <pre>E getFirst();
E getLast();
void addFirst(E);
void addLast(E);
E removeFirst();
E removeLast();
SequencedCollection&lt;E&gt; reversed();
</pre>
    <p>The first six methods are the same as in the <code>Deque</code> interface, which is now a subinterface.</p>
    <p>There is also a <code>SequencedSet</code>, where <code>reversed</code> yiels a set, and a <code>SequencedMap</code>, with methods to get and put the first and last entry, and with sequenced views for the keys, values, and entries.</p>
    <p>This figure, by Stuart Marks, shows the change in the collections hierarchy.</p>
    <p><img src="https://cr.openjdk.org/~smarks/collections/SequencedCollectionDiagram20220216.png" alt=".png" loading="lazy"></p>
    <p>TL;DR Reverse iteration over a list, deque, tree set, or tree map is now more uniform. Getting the first and laste element too. That's nice. Obviously not momentous.</p>

    <h2>Should You Upgrade?</h2>
    <p>When Java 17 was released, I opined that none of its features were momentous enough to warrant upgrading, and one was downright ugly. Still, upgrading was a no-brainer: tens of thousands of bug fixes. </p>
    <p>Of course you should upgrade again to Java 21. Because, lots of bug fixes.</p>
    <p>And this time there is a truly momentous feature: virtual threads. If you are contemplating the use of reactive programming, or you are already unhappily doing so, you definitely want to check them out.</p>

    <h2>Also Nice</h2>
    <p>Oracle now has an <a href="https://dev.java/playground/">online â€œplaygroundâ€</a> for testing Java snippets. Check it out!</p>
    

    
    
    <!-- You can specify a per page discussion id on the next line, if your URLs might change. -->
    
    
  

</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Working Remotely Can More Than Halve an Office Employeeâ€™s Carbon Footprint (274 pts)]]></title>
            <link>https://www.scientificamerican.com/article/working-remotely-can-more-than-halve-an-office-employees-carbon-footprint/</link>
            <guid>37612968</guid>
            <pubDate>Fri, 22 Sep 2023 15:02:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.scientificamerican.com/article/working-remotely-can-more-than-halve-an-office-employees-carbon-footprint/">https://www.scientificamerican.com/article/working-remotely-can-more-than-halve-an-office-employees-carbon-footprint/</a>, See on <a href="https://news.ycombinator.com/item?id=37612968">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>By not going into the office, an at-home worker&nbsp;can cut greenhouse emissions in excess of 50 percent if they take energy-conservation steps</p></div><section data-behavior="article_progress"><figure aria-label="media" itemscope="" itemid="https://static.scientificamerican.com/sciam/cache/file/D6A3B954-3B65-4F57-B24B52167B111D97_source.jpg?w=590&amp;h=800&amp;8528EB6F-5BF3-4267-BA75B863731DF855" itemprop="image" itemtype="http://schema.org/ImageObject" id="image-1"><div><picture><source media="(min-width: 768px) and (max-width: 1023px)" srcset="https://static.scientificamerican.com/sciam/cache/file/D6A3B954-3B65-4F57-B24B52167B111D97_source.jpg?w=690&amp;h=930&amp;8528EB6F-5BF3-4267-BA75B863731DF855"><source media="(max-width: 767px)" srcset="https://static.scientificamerican.com/sciam/cache/file/D6A3B954-3B65-4F57-B24B52167B111D97_source.jpg?w=390&amp;h=520&amp;8528EB6F-5BF3-4267-BA75B863731DF855"><source media="(min-width: 768px) and (max-width: 1023px)" srcset="https://static.scientificamerican.com/sciam/cache/file/D6A3B954-3B65-4F57-B24B52167B111D97_source.jpg?w=690&amp;h=930&amp;8528EB6F-5BF3-4267-BA75B863731DF855"><source media="(max-width: 767px)" srcset="https://static.scientificamerican.com/sciam/cache/file/D6A3B954-3B65-4F57-B24B52167B111D97_source.jpg?w=390&amp;h=520&amp;8528EB6F-5BF3-4267-BA75B863731DF855"><img importance="high" src="https://static.scientificamerican.com/sciam/cache/file/D6A3B954-3B65-4F57-B24B52167B111D97_source.jpg?w=590&amp;h=800&amp;8528EB6F-5BF3-4267-BA75B863731DF855" width="590" height="800" alt="Working Remotely Can More Than Halve an Office Employee's Carbon Footprint" itemprop="url"></picture></div><figcaption itemprop="caption description"> Credit: <a href="https://www.gettyimages.com/detail/photo/businesswoman-using-mobile-phone-in-front-of-laptop-royalty-free-image/1325244318?adppopup=true" target="_blank">10,000 Hours/Getty Images</a></figcaption></figure><div data-behavior="newsletter_promo dfp_article_rendering" data-dfp-adword="Advertisement" data-newsletterpromo_article-text="<p>Sign up for <em>Scientific American</em>&amp;rsquo;s free newsletters.</p>" data-newsletterpromo_article-image="https://static.scientificamerican.com/sciam/cache/file/4641809D-B8F1-41A3-9E5A87C21ADB2FD8_source.png" data-newsletterpromo_article-button-text="Sign Up" data-newsletterpromo_article-button-link="https://www.scientificamerican.com/page/newsletter-sign-up/?origincode=2018_sciam_ArticlePromo_NewsletterSignUp" name="articleBody" itemprop="articleBody"><p>At the height of the COVID pandemic, an estimated <a href="https://www.bls.gov/opub/mlr/2022/article/telework-during-the-covid-19-pandemic.htm">50 percent of all Americans</a> began working remotely. Since then many workers have returned to the officeâ€”but around 20 percent have <a href="https://www.scientificamerican.com/article/were-fumbling-the-return-to-physical-offices/">continued to work from home</a> at least part-time.</p>

<p>The benefits of remote work have become a hotly debated topic. Proponents argue that working from home is better for both workersâ€™ health and the planet. And intuitively, it makes sense that cutting out a daily office commute would save a substantial amount of greenhouse gas emissions. Yet there have been few in-depth studies into how sustainable remote work actually is.</p>

<p>A new analysis examines the sustainability question and provides a comprehensive insight into the climate mitigation potential of remote work in the U.S. By looking at five factors, including commuting, noncommute travel, information technology devices, office energy efficiency and residential energy use, researchers were able to calculate how much carbon the average American office employee saves by working from home. The team found that remote work has the potential to reduce an individualâ€™s carbon emissions by more than halfâ€”but only if they take the necessary measures at home. The <a href="https://www.pnas.org/doi/full/10.1073/pnas.2304099120">results were published</a> on September 18 in the <em>Proceedings of the National Academy of Sciences USA</em>.</p>

<p>Calculating the carbon cost of remote versus in-office work was a challenge. â€œThis problem is fairly complicated,â€ says Fengqi You, a systems engineer at Cornell University and co-author of the paper. â€œThe systems involved are complex.â€</p>

<p>You and his team were able to obtain a massive anonymized dataset from Microsoft that gave them an unprecedented window into remote workersâ€™ day-to-day energy use and lifestyle. By comparing these data with recorded greenhouse gas emissions from in-person office work, they calculated the actual carbon reduction potential of working from home. Some of the results, You says, were â€œsurprising.â€</p>

<p>For example, many previous analyses of remote work assumed that cutting out an office commute meant that workers wouldnâ€™t drive during the day. But You and his team found that this isnâ€™t the case. In fact, remote workers often drive more often than their in-office counterparts by taking several short car trips throughout the day.</p>

<p>The researchers also found that working from home can prompt people to use more energy over the course of a workday on things such as air-conditioning and a dishwasher. And remote workers are more likely to move out of big, centralized cities, where lifestyles are generally less carbon-intensive than in suburban or rural areas.</p>

<p>All of these observations have big policy implications. Recently some politicians have championed working from home as a major climate solution and have credited it with a 95 percent reduction in emissions. Unfortunately, â€œthatâ€™s not true,â€ You says.</p>

<p>Brian Caulfield, a civil and structural engineer at Trinity College Dublin, agrees. â€œIt doesnâ€™t stand up to scrutiny,â€ says Caulfield, who was not involved in the study.</p>

<p>This doesnâ€™t mean that working from home cannot lower emissions substantially, however. Biking to a nearby coffee shop with your laptop, for example, is an extremely carbon-efficient way to work. The study found that people who work remotely four or more days a week can reduce their carbon footprint by up to 54 percent, and those who do so up to four days a week can reduce it by up to 29. But these reductions only hold if workers implement strategies such as turning off unnecessary lights and appliances, driving an electric vehicle or sourcing their home electricity from solar panels or wind turbines.</p>

<p>â€œItâ€™s not all about how many days you work from home,â€ says Yanqiu Tao, a sustainability engineer at Cornell and first author of the paper. â€œItâ€™s about how well you live sustainably.â€</p>

<p>The studyâ€™s authors also point out that office buildings can be made greener. If older buildings were revamped with more energy-efficient appliances and put on a decarbonized grid, then in-office work could match the greenhouse gas emissions of working from home. Taking public transit can also contribute significantly to reducing an individualâ€™s carbon footprint, even if they are working from an office.</p>

<p>Although the paperâ€™s results were specific to the U.S., Caulfield believes that the same basic principles should hold for other industrialized countries. â€œThe kind of patterns we see across the world are very similar,â€ he says, including in his home city of Dublin.</p>

<p>The biggest takeaway, the authors say, is that <a href="https://www.scientificamerican.com/article/covid-changed-the-world-of-work-forever/">remote work is here to stay</a>, and it can absolutely be part of a greener, more sustainable futureâ€”but it shouldnâ€™t be seen as a panacea.</p>

<p>â€œThe pandemic has really motivated us to think about [remote work] in a broader and more complex way, as a society,â€ You says. â€œSo we really need to understand what we are putting into practice.â€</p></div><section><h3>ABOUT THE AUTHOR(S)</h3><div><ul></ul><p><strong>Joanna Thompson</strong> is an insect enthusiast and former <em>Scientific American</em> intern. She is based in New York City. Follow Thompson on Twitter <a href="https://twitter.com/jojofoshosho0">@jojofoshosho0</a></p></div></section></section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[GitHub Actions could be so much better (386 pts)]]></title>
            <link>https://blog.yossarian.net/2023/09/22/GitHub-Actions-could-be-so-much-better</link>
            <guid>37612420</guid>
            <pubDate>Fri, 22 Sep 2023 14:21:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.yossarian.net/2023/09/22/GitHub-Actions-could-be-so-much-better">https://blog.yossarian.net/2023/09/22/GitHub-Actions-could-be-so-much-better</a>, See on <a href="https://news.ycombinator.com/item?id=37612420">Hacker News</a></p>
<div id="readability-page-1" class="page">

<h2>ENOSUCHBLOG</h2>
<h2><em>Programming, philosophy, pedaling.</em></h2>

<ul>
    <li><a href="https://blog.yossarian.net/">Home</a></li>
    <li><a href="https://blog.yossarian.net/tags">Tags</a></li>
    <li><a href="https://blog.yossarian.net/series">Series</a></li>
    <li><a href="https://blog.yossarian.net/favorites">Favorites</a></li>
    <li><a href="https://blog.yossarian.net/archive">Archive</a></li>
    
      <li><a href="https://yossarian.net/">Main Site</a></li>
    
</ul>

<hr>



<h2>
  <p>
    <span><em>Sep 22, 2023</em></span>

    &nbsp; &nbsp;

    
      <span>
        Tags:
        
        
          <a href="https://blog.yossarian.net/tags#programming">programming</a>,
        
          <a href="https://blog.yossarian.net/tags#rant">rant</a>,
        
          <a href="https://blog.yossarian.net/tags#workflow">workflow</a>
        
      </span>
    

    &nbsp; &nbsp;

    
  </p>
</h2>






<hr>


<p>I <em>love</em> GitHub Actions: Iâ€™ve been a daily user of it since 2019 for both professional
and hobbyist projects, and have found it invaluable to both my overall productivity
and peace of mind. Iâ€™m <em>just</em> old enough to have used <a href="https://www.travis-ci.com/">Travis CI</a>
et al. professionally before moving to GitHub Actions, and I do not look back with joy<sup id="fnref:back" role="doc-noteref"><a href="#fn:back" rel="footnote">1</a></sup>.</p>

<p>By and large, GitHub Actions continues to delight me and grow new features that I
appreciate: <a href="https://github.blog/2021-11-29-github-actions-reusable-workflows-is-generally-available/">reusable workflows</a>, <a href="https://github.blog/changelog/2021-10-27-github-actions-secure-cloud-deployments-with-openid-connect/">OpenID connect</a>, <a href="https://github.blog/changelog/2022-05-09-github-actions-enhance-your-actions-with-job-summaries/">job summaries</a>, <a href="https://github.blog/changelog/2023-05-09-introducing-actions-on-the-repository-view-on-github-mobile/">integrations into GitHub Mobile</a>,
and so forth.</p>

<p>At the same time, GitHub Actions is a regular source of <em>profound</em> frustration and time loss<sup id="fnref:loss" role="doc-noteref"><a href="#fn:loss" rel="footnote">2</a></sup>
in my development processes. This post lists some of those frustrations, and how I think GitHub
could selfishly<sup id="fnref:selfishly" role="doc-noteref"><a href="#fn:selfishly" rel="footnote">3</a></sup> improve on them (or even fix them outright)<sup id="fnref:roadmap" role="doc-noteref"><a href="#fn:roadmap" rel="footnote">4</a></sup>.</p>

<hr>

<h2 id="debugging-like-im-15-again">Debugging like Iâ€™m 15 again</h2>

<p>Hereâ€™s a pretty typical session of me trying to set up a release workflow on GitHub Actions:</p>

<p><img src="https://blog.yossarian.net/assets/github-actions-fails.png" alt=""></p>

<p>In this particular case, it took me 4 separate commits (and 4 failed releases) to debug
the various small errors I made: not using <code>${{ ... }}</code><sup id="fnref:jekyll" role="doc-noteref"><a href="#fn:jekyll" rel="footnote">5</a></sup> where I needed to, forgetting
a <code>needs:</code> relationship, &amp;c.</p>

<p>Hereâ€™s another (this time of a PR-creating workflow), from a few weeks later:</p>

<p><img src="https://blog.yossarian.net/assets/github-actions-fails-2.png" alt=""></p>

<p>I am not the worldâ€™s most incredible programmer; like many (most?), I program intuitively
and follow the error messages until they stop happening.</p>

<p>GitHub Actions is <strong>not</strong> responsible for catching every possible error I could make,
and ensuring that every workflow I write will run successfully on the first try.</p>

<p>At the same time, the current debugging cycle in GitHub Actions is <em>ridiculous</em>:
even the smallest change on the most trivial workflow is a 30+ second process
of tabbing out of my development environment (context switch #1), digging through
my browser for the right tab (context switch #2), clicking through the infernal
nest of actions summaries, statuses, &amp;c. (context switch #3), and impatiently
refreshing a buffered console log to figure out which error I need to fix next
(context switch #4). Rinse and repeat.</p>

<h3 id="fixing-this">Fixing this</h3>

<ul>
  <li>
    <p>Give us an interactive debugging shell, or (at least) let us re-run workflows
with small changes <em>without</em> having to go through a <code>git add; git commit; git push</code> cycle<sup id="fnref:breaks" role="doc-noteref"><a href="#fn:breaks" rel="footnote">6</a></sup>.</p>
  </li>
  <li>
    <p>Give us a repository setting to reject commits with obviously invalid workflows (things
like syntax that canâ€™t possibly work, or references to jobs/steps that donâ€™t exist).
Itâ€™s <em>infuriating</em> when I <code>git push</code> a workflow that silently fails because of invalid YAML;
<em>especially</em> when I then merge that workflowâ€™s branch under the mistaken impression
that the workflow is <em>passing</em>, rather than not running at all.</p>
  </li>
</ul>

<h2 id="security-woes">Security woes</h2>

<p>Speaking from experience: itâ€™s <em>shockingly</em> easy to wreck yourself with GitHub Actions. <em>Way</em> easier
than it should be.</p>

<p>Here is just a small handful of the ways in which I have <em>personally</em> written potentially vulnerable
workflows over the past few years:</p>

<ol>
  <li>
    <p>Using the <code>${{ ... }}</code> expansion syntax in a shell or other context where a
(potentially malicious) user controls the expansionâ€™s contents. The following, for example, would
allow a user to inject code that could then exfiltrate <code>$MY_IMPORTANT_SECRET</code>:</p>

    <div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
</pre></td><td><pre><span>-</span> <span>name</span><span>:</span> <span>do something serious</span>
  <span>run</span><span>:</span> <span>|</span>
   <span>something-serious "${{ inputs.frob }}"</span>
  <span>env</span><span>:</span>
    <span>MY_IMPORTANT_SECRET</span><span>:</span> <span>${{ secrets.MY_IMPORTANT_SECRET }}</span>
</pre></td></tr></tbody></table></code></pre></div>

    <p>Some among you will observe that a âœ¨goodâœ¨ programmer would simply know
not to do this, and that a bad programmer would eventually learn their
(painful) lesson. This might be an acceptable position for a niche
piece of software to hold; it is <strong>not</strong> an acceptable position
for the CI/CD platform that, to a first approximation, hosts the entire
open source ecosystem.</p>
  </li>
  <li>
    <p>Using <code>pull_request_target</code>. As far as I can tell, itâ€™s <em>practically</em>
impossible to use this event safely in a non-trivial workflow<sup id="fnref:trivial" role="doc-noteref"><a href="#fn:trivial" rel="footnote">7</a></sup>.</p>

    <p>This event appears to exist for an <em>extremely</em> narrow intended use case, i.e.
labeling or commenting on PRs that come from forks. I donâ€™t understand
why GitHub Actions chooses to expose such a (relatively) simple operation
through as massive of a foot-gun as <code>pull_request_target</code>.</p>
  </li>
  <li>
    <p>Over-scoping my workflow and job-level permissions.</p>

    <p>The default access set for Actionsâ€™ ordinary <code>GITHUB_TOKEN</code> is
<a href="https://docs.github.com/en/actions/security-guides/automatic-token-authentication#permissions-for-the-github_token"><em>very</em> permissive</a>:
the only thing it <em>doesnâ€™t</em> provide access to are the workflowâ€™s OpenID Connect token.</p>

    <p>This consistently bites me in two different ways:</p>

    <ol>
      <li>I consistently forget to down-scope the default token, especially when
working with repositories under my personal account (rather than under an org,
where the default scope can be reduced across all repositories).</li>
      <li>
        <p>I consistently <em>over-scope</em> my tokens because I donâ€™t know exactly
how much access my workflow will need.</p>

        <p>This is further complicated by the messy ways in which GitHubâ€™s permission
model gets shoehorned into a single permissions dimension of <code>read/write/none</code>:
why does <code>id-token: write</code> grant me the ability to <strong>read</strong> the workflowâ€™s OpenID Connect
token? Why do
<a href="https://docs.github.com/en/rest/overview/permissions-required-for-github-apps?apiVersion=2022-11-28#repository-permissions-for-repository-security-advisories">some <code>GET</code> operations</a>
on security advisories require <code>write</code>, while others only require <code>read</code>?</p>
      </li>
    </ol>
  </li>
</ol>

<p>There are also a few things that I <em>havenâ€™t</em> done<sup id="fnref:donetome" role="doc-noteref"><a href="#fn:donetome" rel="footnote">8</a></sup>, but are scary enough that I think theyâ€™re worth
mentioning.</p>

<p>For example, can you see whatâ€™s wrong with this workflow step?</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
</pre></td><td><pre><span>steps</span><span>:</span>
  <span>-</span> <span>uses</span><span>:</span> <span>actions/checkout@c7d749a2d57b4b375d1ebcd17cfbfb60c676f18e</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>Despite all appearances, SHA ref
<a href="https://github.com/actions/checkout/commit/c7d749a2d57b4b375d1ebcd17cfbfb60c676f18e"><code>c7d749a2d57b4b375d1ebcd17cfbfb60c676f18e</code></a>
is <strong>not</strong> a commit on the <code>actions/checkout</code> repository! Itâ€™s actually a commit on a fork in
<code>actions/checkout</code>â€™s network which, thanks to GitHubâ€™s use of
<a href="https://github.blog/2015-09-22-counting-objects/#your-very-own-fork-of-rails">alternates</a>,
<em>appears</em> to belong to the parent repository.</p>

<p><a href="https://www.chainguard.dev/unchained/what-the-fork-imposter-commits-in-github-actions-and-ci-cd">Chainguard has an excellent post on this</a><sup id="fnref:stole" role="doc-noteref"><a href="#fn:stole" rel="footnote">9</a></sup>,
but to summarize:</p>

<ol>
  <li>SHA references from forks are visually indistinguishable from SHA references
in the intended target repository. The only way to tell the two apart is
to manually inspect each reference and confirm that it appears on the expected
repository, and not one of its forks.</li>
  <li>GitHubâ€™s own REST API makes no distinction between SHA references in a repository
graph â€” <code>/repos/{user}/{repo}/commits/{ref}</code> returns a JSON response that <em>only</em> references
<code>{user}/{repo}</code>, even if <code>{ref}</code> is only on a fork.</li>
  <li>Because GitHub fails to distinguish between fork and non-fork SHA references, forks
can bypass security settings on GitHub Actions that would otherwise restrict
actions to only â€œtrustedâ€ sources (such as GitHub themselves or the repositoryâ€™s
own organization).</li>
</ol>

<p>GitHubâ€™s response to this (so far) has been to add
<a href="https://docs.github.com/en/actions/learn-github-actions/finding-and-customizing-actions#using-shas">a little bit of additional language</a>
to their documentation, rather than to forbid misleading SHA references outright.</p>

<h3 id="fixing-this-1">Fixing this</h3>

<ul>
  <li>
    <p>Give us push-time rejection of obviously insecure workflows. In other words:
let us toggle<sup id="fnref:default" role="doc-noteref"><a href="#fn:default" rel="footnote">10</a></sup> a â€œparanoid workflow securityâ€ mode that, when enabled,
causes <code>git push</code> to fail with an explanation of what Iâ€™m doing wrong. Essentially
the same thing as the debugging request above, but for security!</p>
  </li>
  <li>
    <p>Give us runtime checks on our workflows, analogous to runtime instrumentation like
<a href="https://clang.llvm.org/docs/AddressSanitizer.html">AddressSanitizer</a>
in the world of compiled languages. There are <em>so many</em> things that could
be turned into hard failures for security wins without breaking 99.9% of legitimate
users, like failing any attempt to use <code>actions/checkout</code> on a <code>pull_request_target</code>
with a ref that isnâ€™t from the targeted repository.</p>
  </li>
  <li>
    <p>Maybe just deprecate and remove <code>pull_request_target</code> entirely.
<a href="https://securitylab.github.com/research/github-actions-preventing-pwn-requests/">GitHubâ€™s own Security Lab</a>
has been aware of how dangerous this event is for years; maybe itâ€™s time to get rid of it
entirely.</p>
  </li>
  <li>
    <p>Allow us to set a more restrictive default token scope on our personal repositories,
similar to how organizations and enterprises can restrict their default
<code>GITHUB_TOKEN</code> scopes across all repositories at once.</p>
  </li>
  <li>
    <p>By default, reject any SHA-pinned action for which the SHA only appears
on a fork and not the referenced repository. Itâ€™s hard to imagine a
<em>legitimate</em> reason to ever need to do this!</p>
  </li>
</ul>

<h2 id="real-types-would-be-nice">Real types would be nice</h2>

<p>When writing a custom GitHub Action, you can specify the actions inputs
using a mapping under the <code>inputs:</code> key. For example, the following
defines a <code>frobulation-level</code> input with a description (used for tooltips
in many IDEs) and a default value:</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
</pre></td><td><pre><span>inputs</span><span>:</span>
  <span>frobulation-level</span><span>:</span>
    <span>description</span><span>:</span> <span>"</span><span>the</span><span> </span><span>level</span><span> </span><span>to</span><span> </span><span>frobulate</span><span> </span><span>at"</span>
    <span>default</span><span>:</span> <span>"</span><span>1"</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>Notably, this syntax does <strong>not</strong> allow for type enforcement; the following
<strong>does not work</strong>:</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
</pre></td><td><pre><span>inputs</span><span>:</span>
  <span>frobulation-level</span><span>:</span>
    <span>description</span><span>:</span> <span>"</span><span>the</span><span> </span><span>level</span><span> </span><span>to</span><span> </span><span>frobulate</span><span> </span><span>to"</span>
    <span>default</span><span>:</span> <span>1</span>
    <span># NOTE: this SHOULD cause a workflow failure if the input</span>
    <span># isn't a valid number, but doesn't</span>
    <span>type</span><span>:</span> <span>number</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>This absence is strange, but what makes it <em>bizarre</em> is that GitHub is <strong>inconsistent</strong>
about where types can appear in actions and workflows:</p>

<ul>
  <li><code>workflow_call</code> supports <code>type</code> with <code>boolean</code>, <code>number</code>, or <code>string</code></li>
  <li><code>workflow_dispatch</code> supports <code>type</code> with <code>boolean</code>, <code>choice</code>, <code>number</code>, or <code>string</code></li>
  <li>Action inputs: no types at all</li>
</ul>

<p>Unfortunately, this is only the first level: even inputs that <em>do</em> support
typing doesnâ€™t support compounded data structures, like lists or objects.
For example, neither of the following works:</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
</pre></td><td><pre><span>-</span> <span>uses</span><span>:</span> <span>example/example</span>
  <span>with</span><span>:</span>
    <span># INVALID: can't use arrays as inputs</span>
    <span>paths</span><span>:</span> <span>[</span><span>foo</span><span>,</span> <span>bar</span><span>,</span> <span>baz</span><span>]</span>
    <span># INVALID: can't use objects as inputs</span>
    <span>headers</span><span>:</span>
      <span>foo</span><span>:</span> <span>bar</span>
      <span>baz</span><span>:</span> <span>quux</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>â€¦which means that action writers end up requiring users to do silly things like these:</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
</pre></td><td><pre><span>-</span> <span>uses</span><span>:</span> <span>example/example</span>
  <span>with</span><span>:</span>
    <span># SILLY: action does ad-hoc CSV-ish parsing</span>
    <span>paths</span><span>:</span> <span>foo,bar,baz</span>
    <span># SILLY: action forcefully flattens a natural hierarchy</span>
    <span>header-foo</span><span>:</span> <span>bar</span>
    <span>header-baz</span><span>:</span> <span>quux</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>This is bad for maintainability, and bad for security: maintainability
because actions must carefully manage a single flat namespace of inputs
(with no types!), and security because both action writer and workflow writer
are forced into <a href="https://langsec.org/occupy/">ad-hoc, unspecified languages</a>
for complex inputs.</p>

<h3 id="fixing-this-2">Fixing this</h3>

<ul>
  <li>
    <p>Let action and workflow writers use <code>type:</code> everywhere, and let
us use <code>choice</code> everywhere â€” not just in <code>workflow_dispatch</code>!</p>
  </li>
  <li>
    <p>Give us stricter type-checking. Where action and workflow types
can be inferred statically, detect errors and reject incorrectly typed
workflow changes at <code>push</code> time, rather than waiting for the workflow
to inevitably fail.</p>
  </li>
  <li>
    <p>Give us <code>type: object</code> and <code>type: array</code> types. These wonâ€™t be perfect
to start with (thanks to potentially heterogeneous interior types),
but theyâ€™ll be a significant improvement over the status quo. Implementation-wise,
forward these as JSON-serialized strings or something similar<sup id="fnref:json" role="doc-noteref"><a href="#fn:json" rel="footnote">11</a></sup> where
appropriate (such as in auto-created <code>INPUT_{WHATEVER}</code> environment variables).</p>
  </li>
</ul>

<h2 id="more-official-actions-would-be-nice">(More) official actions would be nice</h2>

<p>The third-party ecosystem on GitHub Actions is great: there are a <em>lot</em>
of high-quality, easy-to-use actions being maintained by open source contributors.
I maintain a <a href="https://github.com/pypa/gh-action-pip-audit">handful</a>
<a href="https://github.com/sigstore/gh-action-sigstore-python">of them</a>!</p>

<p>Beneath the surface of these excellent third-party actions is a substrate
of <em>official</em>, GitHub-maintained actions. These actions primarily address
three classes of fundamental CI/CD activities:</p>

<ol>
  <li>Core <code>git</code> operations: <code>actions/checkout</code></li>
  <li>Core GitHub operations and repository housekeeping: <code>actions/{upload,download}-artifact</code>,
<code>actions/cache</code>, <code>actions/stale</code></li>
  <li>General (but essential) configuration: <code>actions/setup-python</code>, <code>actions/setup-node</code></li>
</ol>

<p>These classes are somewhat distinct from â€œhigher-levelâ€ workflows (like the kind
I write): because of their centrality and universal demand, they benefit from
singular, high-quality, <em>officially maintained</em> implementations.</p>

<p>And so, the question: <strong><em>why are there so few of them</em></strong>?</p>

<p>Here is just a smattering of the official actions that <em>donâ€™t</em> exist:</p>

<ol>
  <li><em>Programmatically adding a pull request to a merge queue</em>. GitHub <em>has</em> the machinery to
support this: <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/merging-a-pull-request-with-a-merge-queue?tool=cli"><code>gh pr merge</code> already exists</a>.
It just isnâ€™t exposed as an action; users are (presumably) expected
to piece it together themselves.</li>
</ol>

<p>Even worse, there are actions that <em>did</em> exist but were deprecated (generally
for unclear reasons<sup id="fnref:time" role="doc-noteref"><a href="#fn:time" rel="footnote">12</a></sup>):</p>

<ol>
  <li><a href="https://github.com/actions/create-release"><code>actions/create-release</code></a>:
<a href="https://github.com/actions/create-release/issues/119">unmaintained as of March 2021</a>. Users
encouraged to switch to various community maintained workflows, most notably<sup id="fnref:notably" role="doc-noteref"><a href="#fn:notably" rel="footnote">13</a></sup>
<a href="https://github.com/softprops/action-gh-release"><code>softprops/action-gh-release</code></a>.</li>
  <li><a href="https://github.com/actions/upload-release-asset"><code>actions/upload-release-asset</code></a>: marked
as unmaintained at the same time as <code>actions/create-release</code>.</li>
  <li><a href="https://github.com/actions/setup-ruby"><code>actions/setup-ruby</code></a>:
<a href="https://github.com/actions/setup-ruby/issues/97">unmaintained as of February 2021</a>. Users
encouraged to switch to <a href="https://github.com/ruby/setup-ruby"><code>ruby/setup-ruby</code></a>.</li>
</ol>

<p>Iâ€™m sympathetic to the individual maintainers here and, in each case, the transition
to a â€œrecommendedâ€ third-party action was relatively painless.</p>

<p>Still, the overall impression given here is unmistakable: that GitHub does not see <em>official</em>
actions for its own platform features (or key ecosystem users, like Ruby) as priorities,
and would rather have the community develop and choose unofficial favorites. This is
<strong>not unreasonable</strong> on a strategic level (it induces third-party development
in their ecosystem), but has a <em>deleterious effect</em> on trust in the platform. Iâ€™d like
to be able to write workflows and know that theyâ€™ll run (with minimal changes) 5 years from
now, and not worry that GitHub has abandoned core pieces underneath me!</p>

<p>Apart from imparting a general feeling of shabbiness, this compounds with GitHub Actionâ€™s
poor security story (<a href="#some-security-would-be-nice">per above</a>): not providing official high-quality actions for their own
API surfaces means that users will <em>continue</em> to make exploitable security mistakes in
their workflows. Nobody wins<sup id="fnref:pentesting" role="doc-noteref"><a href="#fn:pentesting" rel="footnote">14</a></sup>.</p>

<h3 id="fixing-this-3">Fixing this</h3>

<ul>
  <li>
    <p>Give us more official actions. As a <em>very</em> rough rule of thumb: if a thing
directly ties different pieces of GitHub infrastructure together <em>and</em> currently
needs to be done manually (with REST API calls, <code>gh</code> invocations, or whatever else),
it probably deserves a full official action!</p>
  </li>
  <li>
    <p>Give us more <em>pseudo-official</em> actions. Work with the biggest third-party actions<sup id="fnref:biggest" role="doc-noteref"><a href="#fn:biggest" rel="footnote">15</a></sup>
to form a <code>community-actions</code> (or whatever) org, with the expectation that actions homed under
that org have been reviewed (at some point) by GitHub, are forced to adhere to best practices
for repository security, receive semantically versioned updates, &amp;c &amp;c.</p>
  </li>
</ul>

<h2 id="wrap-up">Wrap-up</h2>

<p>This is a long and meandering post, and many parts are in conflict: security and stability
(in the form of more official actions that break less often), for example, are in eternal
conflict with each other.</p>

<p>Iâ€™m just one user, and I donâ€™t expect my interests or frustrations to be overriding ones.
Still, I hope that the problems (and potential fixes) above arenâ€™t unique to me, and that there are
engineers at GitHub who (again, selfishly!) share these concerns and would like to see
them fixed.</p>

<hr>




<hr>




  






</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Valve is a wonderful upstream contributor to Linux and the open-source community (867 pts)]]></title>
            <link>https://www.phoronix.com/news/Valve-Upstream-Everything-OSS</link>
            <guid>37612127</guid>
            <pubDate>Fri, 22 Sep 2023 13:57:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.phoronix.com/news/Valve-Upstream-Everything-OSS">https://www.phoronix.com/news/Valve-Upstream-Everything-OSS</a>, See on <a href="https://news.ycombinator.com/item?id=37612127">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p><img alt="VALVE" src="https://www.phoronix.com/assets/categories/valve.webp" width="100" height="100"></p><p>
This shouldn't come as any surprise to any longtime Phoronix readers and dedicated open-source/Linux enthusiasts, but Valve with their work on the Steam Deck and SteamOS have been lifting the open-source ecosystem as a whole. A talk this week at the Linux Foundation Europe's Open-Source Summit highlighted some of the great and ongoing contributions by Valve and their partners.
</p><p>
Alberto Garcia of the open-source consulting firm Igalia, which continues to collaborate with Valve on some of these Linux ecosystem improvements, talked at length around how SteamOS is contributing to the Linux ecosystem.
</p><p>
SteamOS is built atop Arch Linux with a GNU user-space and systemd, the desktop mode features KDE Plasma to which Valve has funded some improvements there, Valve's Steam Play / Proton that leverages Wine has been immensely valuable to Linux gamers and enthusiasts along with related open-source projects like DXVK / VKD3D-Proton, and then there's also they work they are doing around AMD color management / HDR. Igalia engineers have been involved with Valve on the AMD color management work as well as other areas like enabling new Linux kernel features for enabling better Steam Play support. 
</p><p>
The elephant in the room meanwhile is the countless improvements Valve engineers have made to the the Mesa OpenGL and Vulkan drivers as well as to the kernel graphics driver components. Not just to the AMD graphics drivers for benefiting the Steam Deck's hardware but also to Zink OpenGL-on-Vulkan and then other common infrastructure. But in this area of the Linux graphics driver support, Valve's contributions and those of their partners have been incredibly beneficial to the Linux desktop ecosystem even outside gaming.
</p><p><img src="https://www.phoronix.net/image.php?id=steamos-35-benchmarks&amp;image=steamos_35_4_med" alt="Steam Deck"></p>
<p>There has also been other efforts Valve has been involved in such on expanding case insensitive file-system support on Linux, various other kernel features, their Gamescope Wayland compositor, immutable software updates, and Flatpak. Igalia says it's part of Valve's policy to "upstream everything" they are working on.
</p><p>
So for those questioning Valve's contributions to the Linux and open-source ecosystems or for helping to convince any friends/colleagues about Valve's open-source software work, check out Alberto Garcia's <a href="https://osseu2023.sched.com/event/1Qv8y/how-steamos-is-contributing-to-the-linux-ecosystem-alberto-garcia-igalia?iframe=no&amp;w=100%&amp;sidebar=yes&amp;bg=no">OSS EU 2023 presentation</a> for the more comprehensive look at all of the great Valve / SteamOS upstream contributions.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Ask HN: Sites like HN on other topics? (130 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=37611708</link>
            <guid>37611708</guid>
            <pubDate>Fri, 22 Sep 2023 13:22:17 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=37611708">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <tbody><tr id="37612051"><td></td></tr>
                <tr id="37613034"><td></td></tr>
            <tr id="37612784"><td></td></tr>
                <tr id="37612920"><td></td></tr>
                <tr id="37616009"><td></td></tr>
                  <tr id="37613303"><td></td></tr>
                  <tr id="37613008"><td></td></tr>
                  <tr id="37612834"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37612834" href="https://news.ycombinator.com/vote?id=37612834&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>Honestly, this is the wrong question, but I understand the intent. What you really should be asking is "Where is the online community for your hobby/interest?"<p>The thing with HN, is it works for the startup/hacker/tech community, and that community has evolved here over time. If you want a link/topic sharing site for other interests, the answer is almost always going to be a subreddit.</p><p>But if what you really want is to be immersed in a community, those communities will be in weird corners that you have to discover. The reason for this is that a community almost always wants to be semi-private: discoverable by others that share the same interest, but just far enough out of the public eye to not get bombarded with bots/trolls/obnoxious people</p><p>Some examples I know of:</p><pre><code>  - Voron (3d printer)? You want to be on their discord
  - BigGreenEgg (kamado smoker)? eggheadforum.com
  - MMA? sherdog
  - Electronics/Robotics diy style hacky projects? hackaday and go to the comment secion
</code></pre>
The cool part about finding these true pockets of a community, is you can learn a ton about what truly makes them tick. What do they get excited about, what do they have an irrational hatred for, etc. If you've ever asked yourself "how do I market my app/website/saas", it's almost certainly because you haven't yet encountered where that niche community resides, and are falling back to more generic strategies. Find the community, and they'll tell you what they want in spades</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37612978"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37612978" href="https://news.ycombinator.com/vote?id=37612978&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>Yes and no. Yes, you're spot on.<p>And yet I find that my favorite posts &amp; comment threads here are the ones that *aren't* about tech, startups, etc. And I'm always amazed at how no matter what the topic there's always someone who seems to know what they're talking about. Of course there are always many people who think they know what they're talking about :)</p><p>Perhaps it's less "Community about X" but rather "Community of people who are interested in X" as there's more likelihood that you'd have other shared interests? Not sure.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="37612022"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37612022" href="https://news.ycombinator.com/vote?id=37612022&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>I've stopped following pretty much everything except HN. Which is unfortunate (though sorta nice for my mental health), but my interests right now are also narrow.<p>I'd suggest Lemmy? It still feels small, and has decent activity for self-hosting and homelab stuff after the whole reddit API debacle. That's where I plan to put more effort once I stand up my own ActivityPub server. Id like to try Mastodon again too but I bounced off last time
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37612559"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37612559" href="https://news.ycombinator.com/vote?id=37612559&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>I only visit two sites without question each day: BBC News and HN. And that already occupies too much of my day.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37612196"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37612196" href="https://news.ycombinator.com/vote?id=37612196&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>Tildes is pretty good. Still small and text focused.<p>I was enjoying Discuit but then they added images, and now it's just another stream of memes.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37612974"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37612974" href="https://news.ycombinator.com/vote?id=37612974&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>I used to follow a lot of communities, but many of them have died out over the years for various reasons.<p>One of the things I've been trying to do recently is to get out and attend local meetups. The resolution and depth of the discussion IRL can be much deeper. And it makes me realize that most people aren't on Hacker News!
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="37612348"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37612348" href="https://news.ycombinator.com/vote?id=37612348&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>Not exactly what you're asking for, but a few people appreciated when I shared this last time a similar post came around:<p><a href="https://brutalist.report/" rel="nofollow noreferrer">https://brutalist.report/</a></p><p>Nice conglomeration of headlines/links from lots of different sources. Lots of tech and science, but also a good mix of global news. Includes HN actually.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37614908"><td></td></tr>
                  <tr id="37612528"><td></td></tr>
            <tr id="37612715"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37612715" href="https://news.ycombinator.com/vote?id=37612715&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>Twitter is actually pretty cool if you find the right people to follow in the topics youâ€™re interested in.<p>You can also make lists of such people so theyâ€™re separate from your main feed.</p><p>It does feel harder to comment on stuff though. Not sure why?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37615454"><td></td></tr>
            <tr id="37612807"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37612807" href="https://news.ycombinator.com/vote?id=37612807&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>Iâ€™ve friends say this but I havenâ€™t figured out how to make it work. It takes so much time to sort and filter and thereâ€™s no way to get a proper â€œfeedâ€ without constantly scrolling through crap thatâ€™s injected.<p>I asked a friend to show me and he walked me through their workflow and it boiled down to â€œspend hours on twitter everyday and some decent percent is manually filtering.â€</p><p>HN has an easy interface -front page. I can hide things Iâ€™ve read and I donâ€™t see them again, or I can leave them to read later. And comments are threaded. Twitter doesnâ€™t seem to have these things.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37613709"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37613709" href="https://news.ycombinator.com/vote?id=37613709&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>It's kind of like that one friend who will pontificate on the merits of smoked cinnamon sticks, bitters, candied pecans, and the $10,000 worth of liquor in their living room bar - they've fooled themselves into thinking they're &lt;drinking/using twitter&gt; <i>responsibly</i> and <i>nobly</i>, but it's really just a bunch of mental gymnastics to justify doing &lt;unhealthy thing which feels good&gt;.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="37612820"><td></td></tr>
                  <tr id="37612602"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37612602" href="https://news.ycombinator.com/vote?id=37612602&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>There are some excellent topic-specific subreddits IMO. Like:<pre><code>  - /r/ProgrammingLanguages
  - /r/Compilers
  - /r/EmuDev
  - /r/DatabaseDevelopment (disclosure, I run this one)</code></pre></span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37614658"><td></td></tr>
            <tr id="37612849"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37612849" href="https://news.ycombinator.com/vote?id=37612849&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>Are there really any? HN has the quality it does thanks to dang's tireless efforts, and I don't know of any other site with similar moderation.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37612208"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37612208" href="https://news.ycombinator.com/vote?id=37612208&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>Fishbowl if you are into consulting.<p>Kind of an old gen site and isnt without its issues, but I feel like metafilter gives me a few good links every day still so I keep it around. They are good at spotlighting stuff that is lesser known.</p><p>lowtechmagazine if you are interested in very practical sustainability. Their solar powered website (a 1-board computer on somebody's roof in barcelona) has been a recurring HN topic. <a href="https://news.ycombinator.com/item?id=20038619">https://news.ycombinator.com/item?id=20038619</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37612358"><td></td></tr>
            <tr id="37612827"><td></td></tr>
                      <tr id="37612191"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37612191" href="https://news.ycombinator.com/vote?id=37612191&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>I really like Tildes<p><a href="https://tildes.net/" rel="nofollow noreferrer">https://tildes.net/</a></p><p>which is less focused,  more about everything (god I wish I could frontpage an article about sports on HN) but has a much higher ratio of discussions to links (e.g. Ask HN is a joke)</p><p>I have invites.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37612406"><td></td></tr>
            <tr id="37612558"><td></td></tr>
            <tr id="37612808"><td></td></tr>
            <tr id="37612829"><td></td></tr>
            <tr id="37612752"><td></td></tr>
                <tr id="37612793"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37612793" href="https://news.ycombinator.com/vote?id=37612793&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>Anyone who wants one should look up my profile and send me an email.  I have three right now and they will go to whoever sends me the first three emails.  I will get around to it this evening.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37612939"><td></td></tr>
                        <tr id="37612705"><td></td></tr>
            <tr id="37612349"><td></td></tr>
                  <tr id="37612951"><td></td></tr>
            <tr id="37612947"><td></td></tr>
            <tr id="37612937"><td></td></tr>
            <tr id="37613252"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37613252" href="https://news.ycombinator.com/vote?id=37613252&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>I am making digglu.com, which is supposed to be old-digg-like link aggregator site. I would have it out by now if only I could stop procrastinating T_T</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37612689"><td></td></tr>
            <tr id="37612217"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37612217" href="https://news.ycombinator.com/vote?id=37612217&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>Not identical as a "users create all content" but hackaday.com (and .io) is excellent for tech stuff. Think DIY meets crazy scientist.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37612201"><td></td></tr>
            <tr id="37613001"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37613001" href="https://news.ycombinator.com/vote?id=37613001&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>Not sure if you can really find something like HN for other topics. HN works as it works exactly because of the topic and audience. Same structure might not work for other things</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37616102"><td></td></tr>
                  <tr id="37612941"><td></td></tr>
            <tr id="37612739"><td></td></tr>
            <tr id="37612148"><td></td></tr>
                <tr id="37612411"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37612411" href="https://news.ycombinator.com/vote?id=37612411&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><br><div>
                  <p><span>I'm torn between two sides when thinking about lobste.rs
On one side they have imho high quality content. But on the other side they can keep this just because their registration is invite-only.
Which leads to fewer/smaller discussions.
On HN I don't like everything, but I read a lot more discussions even about topics which I'm not interested in.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37612899"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37612899" href="https://news.ycombinator.com/vote?id=37612899&amp;how=up&amp;goto=item%3Fid%3D37611708"></a></center>    </td><td><p><span>I liked lobste.rs but found they were too restrictive on topics.<p>I kind of like the hacker-adjacent discussions here (notebooks and journaling and reading and whatnot) and lobste.rs seems to block and remove that and thereâ€™s no outlet for that type of discussion.</p><p>I like they HN, for me, is 80% tech/startup/programming, 10% adjacent and interesting and 10% stuff I just go past.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Learn piano without sheet music (176 pts)]]></title>
            <link>https://jacobdoescode.com/piano-tabs</link>
            <guid>37611457</guid>
            <pubDate>Fri, 22 Sep 2023 13:02:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jacobdoescode.com/piano-tabs">https://jacobdoescode.com/piano-tabs</a>, See on <a href="https://news.ycombinator.com/item?id=37611457">Hacker News</a></p>
<div id="readability-page-1" class="page"><svg viewBox="0 0 60 60" role="img" aria-label="Logo"><path d="M42 17L18 27V43L42 33V17Z" fill="#130F40"></path>
<path d="M14 16L18 24L23 22V38L26 37V52L22 44L17 46V30L14 31V16ZM24 12L28 20L33 18V34L36 33V48L32 40L27 42V26L24 27V12ZM34 8L38 16L43 14V30L46 29V44L42 36L37 38V22L34 23V8Z"></path></svg>

<p>Sheet music and piano practise reimagined</p>
<picture><source width="1024" height="636" srcset="https://jacobdoescode.com/res/6b23a8f0.webp" type="image/webp" media="(max-width: 767px)"><source width="1024" height="636" srcset="https://jacobdoescode.com/res/fb715098.png" media="(max-width: 767px)"><source srcset="https://jacobdoescode.com/res/40be396f.webp" type="image/webp" width="2048" height="1271"><img alt="App Screenshots" width="2048" height="1271" src="https://jacobdoescode.com/res/fb715098.png"></picture>
<h2>Over 800 pieces included. Import your own for anything else.</h2>
<p>Piano Tabs includes a giant library of classical pieces with over <strong>800 pieces</strong> from over <strong>90 composers</strong>.</p>
<p>If thatâ€™s not enough, you can import your own MIDI files. Theyâ€™re the industry standard, and <strong>super-easy</strong> to get hold of.</p>
<p>Pieces are displayed as you would play them on a keyboard, so there is <strong>no learning curve</strong> to get started.</p>
<p>Scroll through a piece for <strong>interactive playback</strong> to help you either find or study a section.</p>
<hr>
<div><picture><source width="800" height="600" srcset="https://jacobdoescode.com/res/7f4a93c8.webp" type="image/webp" media="(max-width: 767px)"><source width="800" height="600" srcset="https://jacobdoescode.com/res/b2a9d745.png" media="(max-width: 767px)"><source srcset="https://jacobdoescode.com/res/c16b63b0.webp" type="image/webp" width="1000" height="1890"><img alt="Section looping" width="1000" height="1890" src="https://jacobdoescode.com/res/2bd40bb1.png"></picture><div><h2>Loop sections. Practise until perfect.</h2><p>Looping lets you pick specific parts of the piece you want to practise. Just drag the top and bottom handles set the start and end of the loop.</p><p>With a loop set up up, you can use the <strong>speed trainer</strong> to have it start each loop playing slowly, and gradually speed up after each loop. Tweak how slow it starts, and how many loops it takes to reach the full tempo.</p></div></div>
<hr>
<div><picture><source width="800" height="600" srcset="https://jacobdoescode.com/res/261bc55f.webp" type="image/webp" media="(max-width: 767px)"><source width="800" height="600" srcset="https://jacobdoescode.com/res/7a057b56.png" media="(max-width: 767px)"><source srcset="https://jacobdoescode.com/res/a7c54c92.webp" type="image/webp" width="1000" height="742"><img alt="Bookmarks" width="1000" height="742" src="https://jacobdoescode.com/res/21df2139.png"></picture><div><h2>Make your mark. Annotate anywhere.</h2><p>Bookmarks let you mark out sections within a piece. You can add as many as you need.</p><p>Use your finger or Apple Pencil to <strong>freehand draw anywhere</strong> in the piece to annotate.*</p><p>* iPad only</p></div></div>
<hr>
<div><picture><source width="800" height="600" srcset="https://jacobdoescode.com/res/cb28aeeb.webp" type="image/webp" media="(max-width: 767px)"><source width="800" height="600" srcset="https://jacobdoescode.com/res/1da66ac0.png" media="(max-width: 767px)"><source srcset="https://jacobdoescode.com/res/981ac9be.webp" type="image/webp" width="1000" height="1890"><img alt="Playback customisation" width="1000" height="1890" src="https://jacobdoescode.com/res/49c46c4c.png"></picture><div><h2>Customise every aspect of playback.</h2><p>View every track within a MIDI file, and <strong>change the key and tempo</strong> to your liking.</p><p><strong>Percussion tracks</strong> play along side the active track, or can be swapped out for a standard click <strong>metronome</strong>, or silenced entirely.</p></div></div>
<hr>
<h2>Get it now</h2>
<p>Available for iOS and macOS</p>

<p><a href="https://jacobdoescode.com/privacy">Privacy Policy</a></p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tailscale Kubernetes Operator (148 pts)]]></title>
            <link>https://tailscale.com/kb/1236/kubernetes-operator/</link>
            <guid>37611213</guid>
            <pubDate>Fri, 22 Sep 2023 12:39:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://tailscale.com/kb/1236/kubernetes-operator/">https://tailscale.com/kb/1236/kubernetes-operator/</a>, See on <a href="https://news.ycombinator.com/item?id=37611213">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>The <a href="https://github.com/tailscale/tailscale/blob/main/cmd/k8s-operator/manifests/operator.yaml">Tailscale Kubernetes operator</a> allows you to:</p>
<ul>
<li>Expose <a href="https://kubernetes.io/docs/concepts/services-networking/service/">services</a> in your
Kubernetes cluster to your Tailscale network</li>
<li>Securely connect to the <a href="https://kubernetes.io/docs/concepts/overview/components/#kube-apiserver">Kubernetes control plane (kube-apiserver)</a> via an API server proxy, with or without authentication</li>
<li>Egress from a Kubernetes cluster to an external service on your Tailscale network</li>
</ul>


<p>
    Kubernetes operator is currently
    <a href="https://tailscale.com/kb/1167/release-stages/#alpha">in private alpha</a>. Therefore, this topic is currently hidden.
    
    To try it, follow the steps below to enable it for your network using Tailscale v1.37.40 or
    later.
  </p>

<h3 id="setting-up-the-kubernetes-operator">
  <a href="#setting-up-the-kubernetes-operator">
    Setting up the Kubernetes operator
    
  </a>
</h3>

<ol>
<li>
<p>In your <a href="https://tailscale.com/kb/1018/acls/">tailnet policy file</a>, create the <a href="https://tailscale.com/kb/1068/acl-tags/">ACL
tags</a> <code>tag:k8s-operator</code> and <code>tag:k8s</code>, and make <code>tag:k8s-operator</code>
an owner of <code>tag:k8s</code>. If you want your services to be exposed with tags
other than the default <code>tag:k8s</code>, create those as well and make
<code>tag:k8s-operator</code> an owner.</p>
<div><pre tabindex="0"><code data-lang="json"><span><span><span>"tagOwners"</span><span>:</span> <span>{</span>
</span></span><span><span>   <span>"tag:k8s-operator"</span><span>:</span> <span>[],</span>
</span></span><span><span>   <span>"tag:k8s"</span><span>:</span> <span>[</span><span>"tag:k8s-operator"</span><span>],</span>
</span></span><span><span><span>}</span>
</span></span></code></pre></div></li>
<li>
<p><a href="https://tailscale.com/kb/1215/oauth-clients/#setting-up-an-oauth-client">Create an OAuth client</a> in the <a href="https://login.tailscale.com/admin/settings/oauth"><strong>OAuth clients</strong></a>
page of the admin console. Create the client with <code>Devices</code> write scope and
the tag <code>tag:k8s-operator</code>.</p>
</li>
<li>
<p>Download the Tailscale Kubernetes operator <a href="https://github.com/tailscale/tailscale/blob/main/cmd/k8s-operator/manifests/operator.yaml">manifest file</a>
from the <a href="https://github.com/tailscale/tailscale">tailscale/tailscale</a> repo.</p>
</li>
<li>
<p>Edit your version of the manifest file:</p>
<ol>
<li>Find <code># SET CLIENT ID HERE</code> and replace it with your OAuth client ID.</li>
<li>Find <code># SET CLIENT SECRET HERE</code> and replace it with your OAuth client secret.</li>
</ol>
<p>For both the client ID and secret, quote the value, to avoid any potential yaml misinterpretation of
unquoted strings. For example, use:</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>client_id</span><span>:</span><span> </span><span>"k123456CNTRL"</span><span>
</span></span></span><span><span><span></span><span>client_secret</span><span>:</span><span> </span><span>"tskey-client-k123456CNTRL-abcdef"</span><span>
</span></span></span></code></pre></div><p>instead of:</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>client_id</span><span>:</span><span> </span><span>k123456CNTRL</span><span>
</span></span></span><span><span><span></span><span>client_secret</span><span>:</span><span> </span><span>tskey-client-k123456CNTRL-abcdef</span><span>
</span></span></span></code></pre></div></li>
<li>
<p>Apply the edited file to your Kubernetes cluster:</p>
<div><pre tabindex="0"><code data-lang="bash"><span><span>kubectl apply -f manifest.yaml
</span></span></code></pre></div><p>This creates the â€œtailscaleâ€ namespace in your cluster, and deploys the
Tailscale operator within it.</p>
</li>
<li>
<p>Verify that the Tailscale operator has joined your tailnet. Open the
<a href="https://login.tailscale.com/admin/machines"><strong>Machines</strong></a> page of the admin console and look for a node
named <strong>tailscale-operator</strong>, tagged with the <code>tag:k8s-operator</code> tag. It may
take a minute or two for the operator to join your tailnet, due to the time
required to download and start the container image in Kubernetes.</p>
</li>
</ol>
<h3 id="cluster-ingress">
  <a href="#cluster-ingress">
    Exposing a service to your tailnet (cluster ingress)
    
  </a>
</h3>

<p>You can use the Tailscale Kubernetes operator to expose a Kubernetes service to your Tailscale network in three ways: by making it a <code>LoadBalancer</code> type with the <code>tailscale</code> <code>loadBalancerClass</code>, by annotating an existing service, or by creating an ingress resource fronting a service.</p>
<h4 id="exposing-a-service-using-loadbalancerclass">
  <a href="#exposing-a-service-using-loadbalancerclass">
    Exposing a service using <code>loadBalancerClass</code>
    
  </a>
</h4>

<p>Edit the service you want to expose and make it a load balancer:</p>
<ol>
<li>Set <code>spec.type</code> to <code>LoadBalancer</code>.</li>
<li>Set <code>spec.loadBalancerClass</code> to <code>tailscale</code>.</li>
</ol>
<p>Once provisioning is complete, the serviceâ€™s status will show the
<a href="https://tailscale.com/kb/1081/magicdns/">fully-qualified domain name</a> of the service in your tailnet. You can view the
serviceâ€™s status by running <code>kubectl get service &lt;service name&gt;</code>.</p>
<p>You should also see a new node with that name appear in the
<a href="https://login.tailscale.com/admin/machines"><strong>Machines</strong></a> page of the admin console.</p>
<h4 id="exposing-a-service-using-annotations">
  <a href="#exposing-a-service-using-annotations">
    Exposing a service using annotations
    
  </a>
</h4>

<p>If the service you want to expose already exists, you can
expose it to Tailscale using <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">object annotations</a>.</p>
<p>Edit the service and under <code>metadata.annotations</code>, add the annotation
<code>tailscale.com/expose</code> with the value <code>"true"</code>. Note that <code>"true"</code> is quoted
because annotation values are strings, and an unquoted <code>true</code> will be
incorrectly interpreted as a boolean.</p>
<p>In this mode, Kubernetes doesnâ€™t tell you the Tailscale machine name. You can look
up the node in the <a href="https://login.tailscale.com/admin/machines"><strong>Machines</strong></a> of the admin console to learn
its machine name. By default, the machine name of an exposed service is
<code>&lt;k8s-namespace&gt;-&lt;k8s-servicename&gt;</code>.</p>
<h5 id="using-a-custom-machine-name">
  <a href="#using-a-custom-machine-name">
    Using a custom machine name
    
  </a>
</h5>

<p>If you want the service to have a machine name other than the default
<code>&lt;k8s-namespace&gt;-&lt;k8s-servicename&gt;</code>, you can provide your own machine name by
setting the <code>tailscale.com/hostname</code> annotation on the service, with your
desired machine name as the value.</p>
<p>Machine names are subject to the constraints of DNS: they can be up to 63 characters
long, must start and end with a letter, and consist of only letters, numbers,
and <code>-</code>.</p>
<h5 id="customizing-acl-tags">
  <a href="#customizing-acl-tags">
    Customizing ACL tags
    
  </a>
</h5>

<p>By default, services join your tailnet tagged with the <a href="https://tailscale.com/kb/1068/acl-tags/">ACL tag</a> <code>tag:k8s</code>. You can use a
different tag or tags by setting the <code>tailscale.com/tags</code> annotation on the
service, with a comma-separated list of the desired tags.</p>
<p>For example, setting <code>tailscale.com/tags = tag:foo,tag:bar</code> will result in the
tailnet node having the tags <code>tag:foo</code> and <code>tag:bar</code>.</p>
<p>The Tailscale operator must be a <a href="https://tailscale.com/kb/1018/acls/#tag-owners">tag owner</a> of all the specified tags: if you want
to expose a service with <code>tag:foo,tag:bar</code>, the <code>tagOwners</code> section of the
<a href="https://tailscale.com/kb/1018/acls/">tailnet policy file</a> must list <code>tag:k8s-operator</code> as one
of the owners of both <code>tag:foo</code> and <code>tag:bar</code>.</p>
<h4 id="exposing-a-service-using-ingress">
  <a href="#exposing-a-service-using-ingress">
    Exposing a service using ingress
    
  </a>
</h4>

<p>You can use the Tailscale Kubernetes operator to expose an ingress resource in your Kubernetes cluster to your tailnet.</p>
<p>Ingress resources only support TLS, and are only exposed over HTTPS. You must <a href="https://tailscale.com/kb/1153/enabling-https/">enable HTTPS</a> on your tailnet.</p>
<p>Edit the ingress resource you want to expose to use the ingress class <code>tailscale</code>:</p>
<ol>
<li>Set <code>spec.ingressClassName</code> to <code>tailscale</code>.</li>
<li>Set <code>tls.hosts</code> to the desired host name of the Tailscale node. Only the first label is used.</li>
</ol>
<p>For example, to expose an ingress resource <code>nginx</code> to your tailnet:</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>apiVersion</span><span>:</span><span> </span><span>networking.k8s.io/v1</span><span>
</span></span></span><span><span><span></span><span>kind</span><span>:</span><span> </span><span>Ingress</span><span>
</span></span></span><span><span><span></span><span>metadata</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>nginx</span><span>
</span></span></span><span><span><span></span><span>spec</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>defaultBackend</span><span>:</span><span>
</span></span></span><span><span><span>    </span><span>service</span><span>:</span><span>
</span></span></span><span><span><span>      </span><span>name</span><span>:</span><span> </span><span>nginx</span><span>
</span></span></span><span><span><span>      </span><span>port</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>number</span><span>:</span><span> </span><span>80</span><span>
</span></span></span><span><span><span>  </span><span>ingressClassName</span><span>:</span><span> </span><span>tailscale</span><span>
</span></span></span><span><span><span>  </span><span>tls</span><span>:</span><span>
</span></span></span><span><span><span>  </span>- <span>hosts</span><span>:</span><span>
</span></span></span><span><span><span>    </span>- <span>nginx</span><span>
</span></span></span></code></pre></div><p>The backend is HTTP by default. To use HTTPS on the backend, either set the port name to <code>https</code> or the port number to <code>443</code>:</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>apiVersion</span><span>:</span><span> </span><span>networking.k8s.io/v1</span><span>
</span></span></span><span><span><span></span><span>kind</span><span>:</span><span> </span><span>Ingress</span><span>
</span></span></span><span><span><span></span><span>metadata</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>nginx</span><span>
</span></span></span><span><span><span></span><span>spec</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>defaultBackend</span><span>:</span><span>
</span></span></span><span><span><span>    </span><span>service</span><span>:</span><span>
</span></span></span><span><span><span>      </span><span>name</span><span>:</span><span> </span><span>nginx</span><span>
</span></span></span><span><span><span>      </span><span>port</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>https</span><span>
</span></span></span><span><span><span>  </span><span>ingressClassName</span><span>:</span><span> </span><span>tailscale</span><span>
</span></span></span><span><span><span></span><span>---</span><span>
</span></span></span><span><span><span></span><span>apiVersion</span><span>:</span><span> </span><span>v1</span><span>
</span></span></span><span><span><span></span><span>kind</span><span>:</span><span> </span><span>Service</span><span>
</span></span></span><span><span><span></span><span>metadata</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>nginx</span><span>
</span></span></span><span><span><span></span><span>spec</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>ports</span><span>:</span><span>
</span></span></span><span><span><span>    </span><span>name</span><span>:</span><span> </span><span>https</span><span>
</span></span></span><span><span><span>    </span><span>port</span><span>:</span><span> </span><span>443</span><span>
</span></span></span><span><span><span>    </span><span>targetPort</span><span>:</span><span> </span><span>443</span><span>
</span></span></span><span><span><span>  </span><span>type</span><span>:</span><span> </span><span>ClusterIP</span><span>
</span></span></span></code></pre></div><p>A single ingress resource can be used to front multiple backend services:</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>apiVersion</span><span>:</span><span> </span><span>networking.k8s.io/v1</span><span>
</span></span></span><span><span><span></span><span>kind</span><span>:</span><span> </span><span>Ingress</span><span>
</span></span></span><span><span><span></span><span>metadata</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>ingress</span><span>
</span></span></span><span><span><span></span><span>spec</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>ingressClassName</span><span>:</span><span> </span><span>tailscale</span><span>
</span></span></span><span><span><span>  </span><span>rules</span><span>:</span><span>
</span></span></span><span><span><span>  </span>- <span>http</span><span>:</span><span>
</span></span></span><span><span><span>      </span><span>paths</span><span>:</span><span>
</span></span></span><span><span><span>      </span>- <span>path</span><span>:</span><span> </span><span>/</span><span>
</span></span></span><span><span><span>        </span><span>pathType</span><span>:</span><span> </span><span>Prefix</span><span>
</span></span></span><span><span><span>        </span><span>backend</span><span>:</span><span>
</span></span></span><span><span><span>          </span><span>service</span><span>:</span><span>
</span></span></span><span><span><span>            </span><span>name</span><span>:</span><span> </span><span>ui-svc</span><span>
</span></span></span><span><span><span>            </span><span>port</span><span>:</span><span>
</span></span></span><span><span><span>              </span><span>number</span><span>:</span><span> </span><span>80</span><span>
</span></span></span><span><span><span>      </span>- <span>path</span><span>:</span><span> </span><span>/api</span><span>
</span></span></span><span><span><span>        </span><span>pathType</span><span>:</span><span> </span><span>Prefix</span><span>
</span></span></span><span><span><span>        </span><span>backend</span><span>:</span><span>
</span></span></span><span><span><span>          </span><span>service</span><span>:</span><span>
</span></span></span><span><span><span>            </span><span>name</span><span>:</span><span> </span><span>api-svc</span><span>
</span></span></span><span><span><span>            </span><span>port</span><span>:</span><span>
</span></span></span><span><span><span>              </span><span>number</span><span>:</span><span> </span><span>80</span><span>
</span></span></span></code></pre></div><h5 id="exposing-a-service-to-the-public-internet-using-ingress-and-tailscale-funnel">
  <a href="#exposing-a-service-to-the-public-internet-using-ingress-and-tailscale-funnel">
    Exposing a service to the public internet using ingress and Tailscale Funnel
    
  </a>
</h5>

<p>You can also use the Tailscale Kubernetes operator to expose an ingress resource in your Kubernetes cluster to the public internet using <a href="https://tailscale.com/kb/1223/tailscale-funnel/">Taiscale Funnel</a>. To do so, add a <code> tailscale.com/funnel: "true"</code> annotation:</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>apiVersion</span><span>:</span><span> </span><span>networking.k8s.io/v1</span><span>
</span></span></span><span><span><span></span><span>kind</span><span>:</span><span> </span><span>Ingress</span><span>
</span></span></span><span><span><span></span><span>metadata</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>funnel</span><span>
</span></span></span><span><span><span>  </span><span>annotations</span><span>:</span><span>
</span></span></span><span><span><span>    </span><span>tailscale.com/funnel</span><span>:</span><span> </span><span>"true"</span><span>
</span></span></span><span><span><span></span><span>spec</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>defaultBackend</span><span>:</span><span>
</span></span></span><span><span><span>    </span><span>service</span><span>:</span><span>
</span></span></span><span><span><span>      </span><span>name</span><span>:</span><span> </span><span>funnel</span><span>
</span></span></span><span><span><span>      </span><span>port</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>number</span><span>:</span><span> </span><span>80</span><span>
</span></span></span><span><span><span>  </span><span>ingressClassName</span><span>:</span><span> </span><span>tailscale</span><span>
</span></span></span><span><span><span>  </span><span>tls</span><span>:</span><span>
</span></span></span><span><span><span>  </span>- <span>hosts</span><span>:</span><span>
</span></span></span><span><span><span>    </span>- <span>funnel</span><span>
</span></span></span></code></pre></div><h4 id="removing-a-service">
  <a href="#removing-a-service">
    Removing a service
    
  </a>
</h4>

<p>Any of the following actions remove a Kubernetes service you exposed from your tailnet:</p>
<ul>
<li>Delete the service entirely.</li>
<li>If you are using <code>type=LoadBalancer</code>, remove <code>loadBalancerClass=tailscale</code> or set <code>type</code> to <code>ClusterIP</code>.</li>
<li>If you are using the <code>tailscale.com/expose</code> annotation, remove the annotation.</li>
<li>If you are using an ingress resource, remove the ingress resource or remove the service from the ingress resource.</li>
</ul>
<p>Deleting a serviceâ€™s Tailscale node
in the <a href="https://login.tailscale.com/admin/machines">admin console</a> does not clean up the Kubernetes state
associated with that service.</p>

<h3 id="accessing-the-kubernetes-control-plane-using-an-api-server-proxy">
  <a href="#accessing-the-kubernetes-control-plane-using-an-api-server-proxy">
    Accessing the Kubernetes control plane using an API server proxy
    
  </a>
</h3>

<p>You can use the Tailscale Kubernetes operator to expose and access the Kubernetes control plane (kube-apiserver) over Tailscale.</p>
<p>You can use the API server proxy with or without authentication headers. With authentication headers, when a user tries to access the Kubernetes control plane over Tailscale using an API server proxy, they will hit the kube-apiserver with the same user identity that they have in Tailscale. This is done by injecting an authentication header in the request. For example, <code>alice@example.com</code> will have the user <code>alice@example.com</code> in an API server proxy.</p>
<p>If you do not want to use Tailscale for authentication, but use an existing authentication mechanism instead, you can disable the use of authentication headers. This allows you to access the Kubernetes control plane over Tailscale, without using Tailscale for authentication.</p>
<h4 id="configuring-the-api-server-proxy">
  <a href="#configuring-the-api-server-proxy">
    Configuring the API server proxy
    
  </a>
</h4>

<p>To use a Tailscale Kubernetes API server proxy, you need to <a href="https://tailscale.com/kb/1153/enabling-https/#configure-https">enable HTTPS</a> for your tailnet.</p>
<p>To configure the API server proxy:</p>
<p>1. In your Tailscale Kubernetes operatorâ€™s <a href="https://github.com/tailscale/tailscale/blob/main/cmd/k8s-operator/manifests/operator.yaml">manifest file</a>, add the following lines to the <code>env</code> section:</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>name</span><span>:</span><span> </span><span>APISERVER_PROXY</span><span>
</span></span></span><span><span><span></span><span>value</span><span>:</span><span> </span><span>"true"</span><span>
</span></span></span></code></pre></div><p>The kube-apiserver is automatically discovered by the operator.</p>
<p>2. Apply the changes from the example to your operatorâ€™s manifest file.</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>apiVersion</span><span>:</span><span> </span><span>rbac.authorization.k8s.io/v1</span><span>
</span></span></span><span><span><span></span><span>kind</span><span>:</span><span> </span><span>ClusterRole</span><span>
</span></span></span><span><span><span></span><span>metadata</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>tailscale-auth-proxy</span><span>
</span></span></span><span><span><span></span><span>rules</span><span>:</span><span>
</span></span></span><span><span><span></span>- <span>apiGroups</span><span>:</span><span> </span><span>[</span><span>""</span><span>]</span><span>
</span></span></span><span><span><span>  </span><span>resources</span><span>:</span><span> </span><span>[</span><span>"users"</span><span>]</span><span>
</span></span></span><span><span><span>  </span><span>verbs</span><span>:</span><span> </span><span>[</span><span>"impersonate"</span><span>]</span><span>
</span></span></span><span><span><span></span><span>---</span><span>
</span></span></span><span><span><span></span><span>apiVersion</span><span>:</span><span> </span><span>rbac.authorization.k8s.io/v1</span><span>
</span></span></span><span><span><span></span><span>kind</span><span>:</span><span> </span><span>ClusterRoleBinding</span><span>
</span></span></span><span><span><span></span><span>metadata</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>tailscale-auth-proxy</span><span>
</span></span></span><span><span><span></span><span>subjects</span><span>:</span><span>
</span></span></span><span><span><span></span>- <span>kind</span><span>:</span><span> </span><span>ServiceAccount</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>operator</span><span>
</span></span></span><span><span><span>  </span><span>namespace</span><span>:</span><span> </span><span>tailscale</span><span>
</span></span></span><span><span><span></span><span>roleRef</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>kind</span><span>:</span><span> </span><span>ClusterRole</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>tailscale-auth-proxy</span><span>
</span></span></span><span><span><span>  </span><span>apiGroup</span><span>:</span><span> </span><span>rbac.authorization.k8s.io</span><span>
</span></span></span></code></pre></div><p>3. Add an <a href="https://tailscale.com/kb/1018/acls/">access rule</a> in your tailnetâ€™s policy file to grant access to the API server proxy over Tailscale.</p>
<p>4. Run the following command to grant a user the <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#user-facing-roles">Kubernetes cluster-admin role</a> in your cluster.</p>
<pre tabindex="0"><code>kubectl create clusterrolebinding --clusterrole cluster-admin --user alice@example alice@example
</code></pre><p>5. Use the <code>tailscale configure kubeconfig &lt;hostname-or-fqdn&gt;</code> <a href="https://tailscale.com/kb/1080/cli/#configure-alpha">CLI</a> command to configure your local <code>kubeconfig</code> file to manage how to authenticate to kubectl as the Tailscale Kubernetes API server proxy.</p>
<p>To validate that API server proxy allows you to access the kube-apiserver over Tailscale:</p>
<p>6. Run <code>kubectl config current-context</code> to verify that kubectl commands will
now use Tailscale context.</p>
<p>7. Run the <code>kubectl get pods -A</code> command to run a test and verify that you have authorization.</p>
<pre tabindex="0"><code>NAMESPACE     NAME                               READY   STATUS    RESTARTS      AGE
kube-system   cilium-6b2x8                       1/1     Running   0             28d
kube-system   cilium-operator-759999b555-qbsrk   1/1     Running   3 (21d ago)   29d
kube-system   coredns-7697897646-4vh2l           1/1     Running   0             29d
kube-system   coredns-7697897646-rshwm           1/1     Running   0             29d
kube-system   cpc-bridge-proxy-xksns             1/1     Running   0             29d
kube-system   csi-do-node-k5snn                  2/2     Running   0             29d
kube-system   do-node-agent-n8nrr                1/1     Running   0             29d
kube-system   konnectivity-agent-k846g           1/1     Running   0             29d
kube-system   kube-proxy-lgzr9                   1/1     Running   0             29d
tailscale     operator-6b94c54478-n6tmc          1/1     Running   0             14d
</code></pre><h5 id="enabling-tagged-nodes-to-authenticate-using-the-api-server-proxy">
  <a href="#enabling-tagged-nodes-to-authenticate-using-the-api-server-proxy">
    Enabling tagged nodes to authenticate using the API server proxy
    
  </a>
</h5>

<p>The API server proxy allows users to use their Tailscale identities to authenticate to the Kubernetes control plane.</p>
<p>Tagged nodes authenticate as the node name instead of the user who created the node.</p>

<p>To enable tagged nodes to authenticate to the Kubernetes control plane, create a Kubernetes RoleBinding for a group, and give the group cluster access.</p>
<p>For example, create a RoleBinding for the group <code>tag:ci</code>:</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>subjects</span><span>:</span><span>
</span></span></span><span><span><span></span>- <span>kind</span><span>:</span><span> </span><span>Group</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>"tag:ci"</span><span>
</span></span></span><span><span><span>  </span><span>apiGroup</span><span>:</span><span> </span><span>rbac.authorization.k8s.io</span><span>
</span></span></span></code></pre></div><p>Then, grant the group <code>tag:ci</code> a <code>ClusterRole</code> using a Kubernetes ClusterRoleBinding:</p>
<div><pre tabindex="0"><code data-lang="sh"><span><span>kubectl create clusterrolebinding --clusterrole cluster-admin --group <span>"tag:ci"</span> tag-ci
</span></span></code></pre></div>

<p>To use the API server proxy without authentication headers, in the <code>env</code> section of your Kubernetes operator.yml file, set the value <code>"noauth"</code> for the <code>APISERVER_PROXY</code>:</p>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>   </span><span>name</span><span>:</span><span> </span><span>APISERVER_PROXY</span><span>
</span></span></span><span><span><span>   </span><span>value</span><span>:</span><span> </span><span>"noauth"</span><span> </span><span># instead of true</span><span>
</span></span></span></code></pre></div><h3 id="cluster-egress">
  <a href="#cluster-egress">
    Exposing a service to your cluster (cluster egress)
    
  </a>
</h3>

<p>You can use the Tailscale Kubernetes operator to advertise a service external to your cluster which is on your Tailscale network.</p>
<p>This is done by deploying a proxy in the cluster, setting the serviceâ€™s <code>spec.externalName</code> to point to the proxy, and setting iptables rules for the proxy to direct incoming traffic to the DNS entry for the tailnet service. When a cluster workload attempts to reach the service, it is first directed to the proxy, which then redirects the traffic to the external service.</p>
<h4 id="exposing-a-tailnet-service-using-annotations">
  <a href="#exposing-a-tailnet-service-using-annotations">
    Exposing a tailnet service using annotations
    
  </a>
</h4>

<p>You can expose a tailnet service to your cluster workloads using annotations and an <a href="https://kubernetes.io/docs/concepts/services-networking/service/#externalname">external name</a>. You can currently only expose tailnet services that use HTTP.</p>
<p>To expose a tailnet service to your cluster workloads:</p>
<ol>
<li>Create a Kubernetes Service of type <a href="https://kubernetes.io/docs/concepts/services-networking/service/#externalname">ExternalName</a> annotated with the Tailscale IP address of the service you want to make available:</li>
</ol>
<div><pre tabindex="0"><code data-lang="yaml"><span><span><span>apiVersion</span><span>:</span><span> </span><span>v1</span><span>
</span></span></span><span><span><span></span><span>kind</span><span>:</span><span> </span><span>Service</span><span>
</span></span></span><span><span><span></span><span>metadata</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>annotations</span><span>:</span><span>
</span></span></span><span><span><span>    </span><span>tailscale.com/tailnet-ip</span><span>:</span><span> </span><span>100.68.29.93</span><span> </span><span>// Tailscale IP address</span><span>
</span></span></span><span><span><span>  </span><span>name</span><span>:</span><span> </span><span>nginx // service name</span><span>
</span></span></span><span><span><span></span><span>spec</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>externalName</span><span>:</span><span> </span><span>unused // any value - will be overwritten by operator</span><span>
</span></span></span></code></pre></div><p>Under <code>metadata.annotations</code>, add the annotation
<code>tailscale.com/tailnet-ip</code> with the Tailscale IP address for the tailnet service.
This can be either an IPv4 or IPv6 address, for either a Tailscale node or a route in a Tailscale subnet. This does not support IP ranges or Tailscale node names.</p>
<p>Under <code>spec.externalName</code>, add any value. This needs to be set to pass Kubernetes validation, but can hold any placeholder value. It will be overwritten by the Tailscale Kubernetes operator with a DNS name that cluster workloads can use to reach the proxy.</p>
<ol start="2">
<li>Wait for the Tailscale Kubernetes operator to deploy the proxy in the <code>tailscale</code> namespace, and to update the <code>spec.externalName</code> of the Kubernetes Service. It will get set to the DNS name of the egress proxy that Tailscale operator creates.</li>
</ol>
<p>Any cluster workload can now access the exposed Tailscale service using the annotated Kubernetes Service â€” calls to it will be routed to the proxy and forwarded to the right Tailscale node.</p>
<h5 id="validate-the-proxy-is-properly-deployed">
  <a href="#validate-the-proxy-is-properly-deployed">
    Validate the proxy is properly deployed
    
  </a>
</h5>

<p>The proxy pod is deployed in the <code>tailscale</code> namespace, and will have a name of the form <code>ts-&lt;annotated-service-name&gt;-&lt;random-string&gt;</code>.</p>
<p>If there are issues reaching the external service, verify the proxy pod is properly deployed:</p>
<ul>
<li>Review the logs of the proxy pod.</li>
<li>Review the logs of the operator. You can do this by running <code>kubectl logs deploy/operator --namespace tailscale</code>. The log level can be configured using the <code>OPERATOR_LOGGING</code> environment variable in the operatorâ€™s <a href="https://github.com/tailscale/tailscale/blob/main/cmd/k8s-operator/manifests/operator.yaml">manifest file</a>.</li>
<li>Verify that the cluster workload is able to send traffic to the proxy pod in the <code>tailscale</code> namespace.</li>
</ul>
<h3 id="exposing-a-service-in-one-cluster-to-another-cluster-cross-cluster-connectivity">
  <a href="#exposing-a-service-in-one-cluster-to-another-cluster-cross-cluster-connectivity">
    Exposing a service in one cluster to another cluster (cross-cluster connectivity)
    
  </a>
</h3>

<p>You can use the Tailscale Kubernetes operator to expose a service in one cluster to another cluster. This is done by exposing the service on destination cluster A to the tailnet (<a href="#cluster-ingress">cluster ingress</a>), and connecting from a source service in cluster B to the tailnet (<a href="#cluster-egress">cluster egress</a>) in order to access the service running in cluster A.</p>
<p>This will need to be configured for each ingress and egress pair of services. To set this up for access via ingress to a service in cluster A and routing via egrees from a service in cluster B:</p>
<ol>
<li>Set up <a href="#exposing-a-service-using-ingress">ingress</a> in cluster A for the service you wish to access.</li>
<li>Expose the external service (running in cluster A) using its Tailscale IP address in cluster B with an <a href="#exposing-an-external-service-using-annotations">annotation on the external service</a></li>
</ol>
<h3 id="limitations">
  <a href="#limitations">
    Limitations
    
  </a>
</h3>

<ul>
<li>Only development (â€œunstableâ€) builds are usable for now, as the operator
depends on some changes that happened after the release of Tailscale v1.36.</li>
<li>There are no deployment options other than applying the
<a href="https://github.com/tailscale/tailscale/blob/main/cmd/k8s-operator/manifests/operator.yaml">manifest file</a>.</li>
<li>There are no automated updates. The operator and proxy pods will not update
automatically to newer Tailscale releases as they become available.</li>
<li>There are no dashboards or metrics.</li>
</ul>
<p>Cluster ingress</p>
<ul>
<li>Tags are only considered during initial provisioning. That is, editing
<code>tailscale.com/tags</code> on an already exposed service doesnâ€™t update the tags
until you clean up and re-expose the service.</li>
<li>The requested machine name is only considered during initial provisioning. That
is, editing <code>tailscale.com/hostname</code> on an already exposed service doesnâ€™t
update the machine name until you clean up and re-expose the service.</li>
<li>Ingress to cluster services currently only supports hosts where netfilter can be configured via iptables.</li>
</ul>
<p>API server proxy</p>
<ul>
<li>The API server proxy runs inside of the cluster. If your cluster is non-functional or is unable to schedule pods, you may lose access to the API server proxy.</li>
</ul>
<p>Cluster egress</p>
<ul>
<li>When exposing a service to your cluster, any associated MagicDNS name will not resolve in-cluster. Instead, the name of the ExternalName service should be used to connect to the resource. As a result of this, if you use Tailscale to provision certificates you may see certificate name mismatch errors. <em>We are working on this.</em></li>
<li>Egress to external services supports using an IPv4 or IPv6 address for a single route in the <code>tailscale.com/tailnet-ip</code> annotation, but not IP ranges or node names.</li>
<li>Egress to external services currently only supports hosts where netfilter can be configured via iptables.</li>
<li>Egress to external services currently only supports clusters where privileged pods are permitted (i.e., GKE Autopilot is not supported).</li>
</ul>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Amazon Prime Video content to start including ads next year (159 pts)]]></title>
            <link>https://www.bbc.co.uk/news/business-66887717</link>
            <guid>37611191</guid>
            <pubDate>Fri, 22 Sep 2023 12:36:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bbc.co.uk/news/business-66887717">https://www.bbc.co.uk/news/business-66887717</a>, See on <a href="https://news.ycombinator.com/item?id=37611191">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><main id="main-content" data-testid="main-content"><article><header></header><div data-component="image-block"><figure><p><span><picture><source srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/7ED8/production/_131227423_lotr.png.webp 240w, https://ichef.bbci.co.uk/news/320/cpsprodpb/7ED8/production/_131227423_lotr.png.webp 320w, https://ichef.bbci.co.uk/news/480/cpsprodpb/7ED8/production/_131227423_lotr.png.webp 480w, https://ichef.bbci.co.uk/news/624/cpsprodpb/7ED8/production/_131227423_lotr.png.webp 624w, https://ichef.bbci.co.uk/news/800/cpsprodpb/7ED8/production/_131227423_lotr.png.webp 800w, https://ichef.bbci.co.uk/news/976/cpsprodpb/7ED8/production/_131227423_lotr.png.webp 976w" type="image/webp"><img alt="Galadriel in the Lord of the Rings: Rings of Power TV series" srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/7ED8/production/_131227423_lotr.png 240w, https://ichef.bbci.co.uk/news/320/cpsprodpb/7ED8/production/_131227423_lotr.png 320w, https://ichef.bbci.co.uk/news/480/cpsprodpb/7ED8/production/_131227423_lotr.png 480w, https://ichef.bbci.co.uk/news/624/cpsprodpb/7ED8/production/_131227423_lotr.png 624w, https://ichef.bbci.co.uk/news/800/cpsprodpb/7ED8/production/_131227423_lotr.png 800w, https://ichef.bbci.co.uk/news/976/cpsprodpb/7ED8/production/_131227423_lotr.png 976w" src="https://ichef.bbci.co.uk/news/976/cpsprodpb/7ED8/production/_131227423_lotr.png" width="976" height="549" loading="eager"></picture></span><span role="text"><span>Image source, </span>Amazon Studios</span></p><figcaption><span>Image caption, </span><p>TV shows like The Lord of the Rings: Rings of Power and The Marvelous Mrs Maisel have proven huge hits for Amazon</p></figcaption></figure></div><div data-component="text-block"><p><b>Amazon is set to introduce adverts to its Prime Video streaming service in 2024 as it seeks to put more cash into creating TV shows and films.</b></p></div><div data-component="text-block"><p>UK Prime customers, along with those in the US, Germany and Canada, will see ads early next year unless they subscribe for an "ad-free" option at an additional cost.</p></div><div data-component="text-block"><p><a href="https://www.aboutamazon.co.uk/news/entertainment/an-update-on-prime-video">In a statement</a>, Amazon said Prime Video still offered "very compelling value".</p></div><div data-component="text-block"><p>It follows similar moves by rivals including Disney+ and Netflix.</p></div><div data-component="text-block"><p>Amazon said that the ads would be introduced across France, Italy, Spain, Mexico and Australia later in 2024.</p></div><div data-component="text-block"><p>It will roll out the "ad-free" subscription tier for an extra $2.99 (Â£2.44) per month for Prime subscribers in the United States.</p></div><div data-component="text-block"><p>Pricing for other countries will be announced at a later date, Amazon said.</p></div><div data-component="text-block"><p>At the moment, a Prime subscription, which includes free one-day delivery on goods as well as access to its streaming service, costs Â£8.99 per month, or Â£95 a year, in the UK.</p></div><div data-component="text-block"><p>"To continue investing in compelling content and keep increasing that investment over a long period of time, starting in 2024, Prime Video shows and movies will include limited advertisements in the UK," Amazon said.</p></div><div data-component="text-block"><p>But in the wake of similar announcements by other streaming companies, customers have expressed their disappointment.</p></div><div data-component="text-block"><p>Disney+ announced plans for an ad-supported service in August, while Netflix introduced its "basic with ads" streaming plan last year.</p></div><div data-component="text-block"><p>It marked a massive change for Netflix, which pioneered the world of ad-free, subscription-based, streaming.</p></div><div data-component="text-block"><p>In its announcement on Friday, Amazon said that it would aim "to have meaningfully fewer ads than linear TV and other streaming TV providers".</p></div><div data-component="text-block"><p>The company said it would get in touch with Prime members a few weeks before ads are introduced to show how to sign-up for the ad-free option if they wish to.</p></div><div data-component="text-block"><p>Live event broadcasts, like sports matches, will still include adverts even for those who sign up to the ad-free option.</p></div><div data-component="text-block"><p><a href="https://www.bbc.co.uk/news/business-64450202">Data previously released</a> by analysts Kantar showed that people cut back on video streaming services in their droves last year as they sought out different ways to deal with the spike in the cost of living.</p></div><div data-component="text-block"><p>It found that the number of paid-for video streaming subscriptions in the UK fell by two million, from 30.5 million to 28.5 million.</p></div><div data-component="text-block"><p>Although demand picked up around Christmas, Kantar said, people quickly looked to cut back again afterwards.</p></div><section data-component="links-block"><p><h2>More on this story</h2></p></section></article></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Principles for building and scaling feature flag systems (148 pts)]]></title>
            <link>https://docs.getunleash.io/topics/feature-flags/feature-flag-best-practices</link>
            <guid>37611136</guid>
            <pubDate>Fri, 22 Sep 2023 12:31:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://docs.getunleash.io/topics/feature-flags/feature-flag-best-practices">https://docs.getunleash.io/topics/feature-flags/feature-flag-best-practices</a>, See on <a href="https://news.ycombinator.com/item?id=37611136">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Feature flags, sometimes called feature toggles or feature switches, are a software development technique that allows engineering teams to decouple the release of new functionality from software deployments. With feature flags, developers can turn specific features or code segments on or off at runtime, without the need for a code deployment or rollback. Organizations who adopt feature flags see improvements in all key operational metrics for DevOps: Lead time to changes, mean-time-to-recovery, deployment frequency, and change failure rate.</p><p>There are 11 principles for building a large-scale feature flag system. These principles have their roots in distributed systems architecture and pay particular attention to security, privacy, and scale that is required by most enterprise systems. If you follow these principles, your feature flag system is less likely to break under load and will be easier to evolve and maintain.</p><p>These principles are:</p><ol><li><a href="https://docs.getunleash.io/topics/feature-flags/runtime-control">Enable run-time control. Control flags dynamically, not using config files.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/never-expose-pii">Never expose PII. Follow the principle of least privilege.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/evaluate-flags-close-to-user">Evaluate flags as close to the user as possible. Reduce latency.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/scale-horizontally">Scale Horizontally. Decouple reading and writing flags.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/limit-payloads">Limit payloads. Feature flag payload should be as small as possible.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/availability-over-consistency">Design for failure. Favor availability over consistency.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/short-lived-feature-flags">Make feature flags short-lived. Do not confuse flags with application configuration.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/unique-names">Use unique names across all applications. Enforce naming conventions.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/democratize-feature-flag-access">Choose open by default. Democratize feature flag access.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/prioritize-ux">Do no harm. Prioritize consistent user experience.</a></li><li><a href="https://docs.getunleash.io/topics/feature-flags/enable-traceability">Enable traceability. Make it easy to understand flag evaluation</a></li></ol><h2 id="background">Background<a href="#background" aria-label="Direct link to Background" title="Direct link to Background">â€‹</a></h2><p>Feature flags have become a central part of the DevOps toolbox along with Git, CI/CD and microservices. You can write modern software without all of these things, but it sure is a lot harder, and a lot less fun.  </p><p>And just like the wrong Git repo design can cause interminable headaches, getting the details wrong when first building a feature flag system can be very costly.</p><p>This set of principles for building a large-scale feature management platform is the result of thousands of hours of work building and scaling Unleash, an open-source feature management solution used by thousands of organizations.  </p><p>Before Unleash was a community and a company, it was an internal project, started by <a href="https://github.com/ivarconr" target="_blank" rel="noopener noreferrer">one dev</a>, for one company. As the community behind Unleash grew, patterns and anti-patterns of large-scale feature flag systems emerged. Our community quickly discovered that these are important principles for anyone who wanted to avoid spending weekends debugging the production system that is supposed to make debugging in production easier.</p><p>â€œLarge scaleâ€ means the ability to support millions of flags served to end-users with minimal latency or impact on application uptime or performance. That is the type of system most large enterprises are building today and the type of feature flag system that this guide focuses on.</p><p>Our motivation for writing these principles is to share what weâ€™ve learned building a large-scale feature flag solution with other architects and engineers solving similar challenges. Unleash is open-source, and so are these principles. Have something to contribute? <a href="https://github.com/Unleash/unleash/pulls" target="_blank" rel="noopener noreferrer">Open a PR</a> or <a href="https://github.com/orgs/Unleash/discussions" target="_blank" rel="noopener noreferrer">discussion</a> on our Github.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Learn Rust by building real-world examples (109 pts)]]></title>
            <link>https://www.shuttle.rs/launchpad</link>
            <guid>37611080</guid>
            <pubDate>Fri, 22 Sep 2023 12:25:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.shuttle.rs/launchpad">https://www.shuttle.rs/launchpad</a>, See on <a href="https://news.ycombinator.com/item?id=37611080">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__next"><nav><a href="https://www.shuttle.rs/"><svg width="124" height="30" viewBox="0 0 124 30" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M45.6895 21.2534C46.3587 21.2534 46.832 21.1886 47.1096 21.059C47.3872 20.9294 47.5259 20.6784 47.5259 20.3058C47.5259 20.0145 47.3463 19.7635 46.9873 19.5529C46.628 19.3261 46.0814 19.0751 45.3468 18.8C44.7755 18.5894 44.253 18.3708 43.7797 18.144C43.3228 17.9174 42.9309 17.6503 42.6045 17.3425C42.278 17.0187 42.025 16.6381 41.8456 16.2008C41.666 15.7636 41.5763 15.2373 41.5763 14.6219C41.5763 13.4236 42.025 12.4763 42.9228 11.78C43.8207 11.0836 45.0529 10.7355 46.62 10.7355C47.4035 10.7355 48.1542 10.8083 48.8724 10.9541C49.5906 11.0836 50.1619 11.2294 50.5864 11.3913L49.9499 14.2089C49.5253 14.0633 49.0603 13.9337 48.5541 13.8204C48.0645 13.707 47.5096 13.6503 46.8893 13.6503C45.7467 13.6503 45.1755 13.9661 45.1755 14.5977C45.1755 14.7435 45.1999 14.8729 45.2488 14.9863C45.2978 15.0997 45.3958 15.2131 45.5425 15.3265C45.6895 15.4234 45.8854 15.5368 46.1304 15.6664C46.3914 15.7798 46.718 15.9094 47.1096 16.0552C47.9095 16.3466 48.5705 16.6381 49.093 16.9295C49.6152 17.2049 50.0232 17.5125 50.3171 17.8526C50.6272 18.1764 50.8394 18.5408 50.9537 18.9458C51.0841 19.3505 51.1495 19.8201 51.1495 20.3544C51.1495 21.6175 50.6681 22.573 49.7049 23.2208C48.7583 23.8685 47.4116 24.1923 45.6651 24.1923C44.5226 24.1923 43.5675 24.0953 42.8005 23.9009C42.0496 23.7066 41.5273 23.5446 41.2334 23.4152L41.8456 20.476C42.4659 20.7188 43.1024 20.9132 43.7554 21.059C44.4083 21.1886 45.0529 21.2534 45.6895 21.2534ZM53.8758 23.8523V5.5859L57.524 5.00293V11.1241C57.7689 11.0431 58.0789 10.9703 58.4545 10.9055C58.8461 10.8245 59.2217 10.784 59.5807 10.784C60.6253 10.784 61.4905 10.9298 62.176 11.2213C62.8779 11.4966 63.4329 11.8933 63.8411 12.4115C64.2654 12.9297 64.5591 13.5451 64.7224 14.2575C64.902 14.9701 64.9917 15.7636 64.9917 16.6381V23.8523H61.3435V17.0753C61.3435 15.9094 61.1885 15.0835 60.8785 14.5977C60.5846 14.112 60.0296 13.869 59.2134 13.869C58.8871 13.869 58.5768 13.9013 58.2831 13.9661C58.0056 14.0147 57.7526 14.0714 57.524 14.1362V23.8523H53.8758ZM79.2873 23.4152C78.667 23.5932 77.8672 23.7551 76.8879 23.9009C75.9084 24.0629 74.8802 24.1439 73.8027 24.1439C72.7092 24.1439 71.7952 23.9981 71.0607 23.7066C70.3424 23.4152 69.7712 23.0102 69.3466 22.4921C68.9223 21.9577 68.6203 21.3262 68.4407 20.5974C68.2611 19.8687 68.1714 19.0671 68.1714 18.1926V11.0755H71.8196V17.7554C71.8196 18.9214 71.9746 19.7635 72.2848 20.2816C72.5949 20.7998 73.1744 21.059 74.0233 21.059C74.2843 21.059 74.5619 21.0508 74.8556 21.0346C75.1495 21.0022 75.4107 20.9698 75.6391 20.9374V11.0755H79.2873V23.4152ZM82.5894 7.89349L86.2375 7.31052V11.0755H90.6203V14.0876H86.2375V18.5814C86.2375 19.3423 86.3682 19.9497 86.6294 20.403C86.9068 20.8566 87.4537 21.0832 88.2699 21.0832C88.6615 21.0832 89.0615 21.0508 89.4695 20.986C89.894 20.9052 90.2774 20.7998 90.6203 20.6702L91.1345 23.488C90.6936 23.6662 90.204 23.8199 89.6654 23.9495C89.1268 24.0791 88.4656 24.1439 87.6821 24.1439C86.6865 24.1439 85.8622 24.0143 85.2093 23.7551C84.5564 23.48 84.0339 23.1074 83.6422 22.6378C83.2506 22.1521 82.973 21.5691 82.8097 20.889C82.663 20.2088 82.5894 19.4557 82.5894 18.63V7.89349ZM93.4686 7.89349L97.1167 7.31052V11.0755H101.499V14.0876H97.1167V18.5814C97.1167 19.3423 97.2474 19.9497 97.5086 20.403C97.786 20.8566 98.3329 21.0832 99.1491 21.0832C99.5407 21.0832 99.9407 21.0508 100.349 20.986C100.773 20.9052 101.157 20.7998 101.499 20.6702L102.014 23.488C101.573 23.6662 101.083 23.8199 100.545 23.9495C100.006 24.0791 99.3448 24.1439 98.5615 24.1439C97.5657 24.1439 96.7414 24.0143 96.0885 23.7551C95.4356 23.48 94.9133 23.1074 94.5214 22.6378C94.1298 22.1521 93.8522 21.5691 93.6891 20.889C93.5422 20.2088 93.4686 19.4557 93.4686 18.63V7.89349ZM109.612 24.0953C108.551 24.0791 107.686 23.9657 107.017 23.7551C106.364 23.5446 105.841 23.2532 105.45 22.8806C105.074 22.4921 104.813 22.0305 104.666 21.4961C104.536 20.9456 104.47 20.3302 104.47 19.6501V5.5859L108.119 5.00293V18.9214C108.119 19.2453 108.143 19.5367 108.192 19.7959C108.241 20.0549 108.331 20.2736 108.461 20.4516C108.608 20.6298 108.812 20.7756 109.073 20.889C109.334 21.0022 109.685 21.0752 110.126 21.1076L109.612 24.0953ZM111.605 17.5611C111.605 16.4276 111.777 15.4396 112.119 14.5977C112.479 13.7394 112.944 13.0269 113.515 12.4601C114.086 11.8933 114.739 11.4642 115.474 11.1727C116.224 10.8812 116.992 10.7355 117.775 10.7355C119.603 10.7355 121.048 11.2942 122.109 12.4115C123.17 13.5127 123.7 15.1401 123.7 17.2939C123.7 17.5045 123.692 17.7393 123.676 17.9984C123.66 18.2412 123.643 18.4598 123.627 18.6542H115.351C115.433 19.3991 115.784 19.9901 116.404 20.4274C117.024 20.8646 117.857 21.0832 118.901 21.0832C119.571 21.0832 120.224 21.0266 120.86 20.9132C121.513 20.7836 122.044 20.6298 122.452 20.4516L122.941 23.3908C122.746 23.488 122.484 23.5852 122.158 23.6824C121.831 23.7796 121.464 23.8603 121.056 23.9251C120.664 24.0061 120.24 24.0709 119.783 24.1195C119.326 24.1681 118.869 24.1923 118.412 24.1923C117.253 24.1923 116.241 24.0223 115.376 23.6824C114.527 23.3422 113.817 22.8806 113.246 22.2977C112.691 21.6985 112.274 20.9942 111.997 20.1844C111.736 19.3747 111.605 18.5004 111.605 17.5611ZM120.175 16.1766C120.158 15.8688 120.101 15.5692 120.003 15.2779C119.922 14.9863 119.783 14.7273 119.587 14.5005C119.407 14.2737 119.171 14.0876 118.877 13.9418C118.599 13.7961 118.249 13.7232 117.824 13.7232C117.416 13.7232 117.065 13.7961 116.771 13.9418C116.477 14.0714 116.233 14.2495 116.037 14.4761C115.841 14.7029 115.686 14.9701 115.572 15.2779C115.474 15.5692 115.4 15.8688 115.351 16.1766H120.175Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M21.5276 0.927734L14.3516 7.9646L7.17585 7.9646L0 15.0013H7.17585L7.17585 22.0375H0V29.0743H7.17585L7.17585 22.0383H14.3516V29.0751L21.5276 22.0383V15.0013L28.7034 7.9646V0.927734H21.5276Z"></path></svg></a></nav><main><section><h2>Embark on your Rust learning journey with<!-- --> <span>Shuttle Launchpad</span></h2><p>Master Rust easily with our engaging, tutorial-style lessons and real-world examples in our Launchpad newsletter.</p><p>Join hundreds of developers on their journey</p></section><section><img alt="background" sizes="100vw" srcset="https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=640&amp;q=75 640w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=750&amp;q=75 750w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=828&amp;q=75 828w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=1080&amp;q=75 1080w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=1200&amp;q=75 1200w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=1920&amp;q=75 1920w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=2048&amp;q=75 2048w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=3840&amp;q=75 3840w" src="https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" loading="lazy"><div><h2>Letâ€™s face it - learning Rust can be a daunting task ðŸ˜µâ€ðŸ’«</h2><p>And while there are plenty of resources out there, they can often be overwhelming, difficult to follow, or simply not engaging enough to hold your attention.</p><p>The Rust Book and various YouTube videos, for example, are comprehensive but can leave you feeling lost in the details, while other tutorials may not provide enough context or real-world examples to make the concepts stick, especially with the rapid developments of the Rust ecosystem.</p></div><div><h2>Thatâ€™s where Shuttle Launchpad comes in ðŸš€</h2><p>Our unique approach to teaching Rust tutorial-style with real-world applications, in the form of a newsletter, sets us apart from other learning resources.</p><p>We make it easy for busy developers to learn Rust by breaking each concept down into manageable<span> one-hour chunks</span> that can be completed at your own pace, providing a focused and engaging way to learn that ensures you retain the material.</p><p>Advanced learners will also benefit from our additional resources, including tasks, links, and videos that allow you to dive deeper into the subject matter.</p></div><div><h2>Teaming up with Stefan Baumgartner ðŸ¦€</h2><p>We have teamed up with none other than <a href="https://fettblog.eu/">Stefan Baumgartner</a>, an architect, developer and author from Linz, Austria who, with his extensive experience of educating developers, brings a wealth of knowledge and practical insights to the Launchpad.</p><p>Stefan is, among other things, the organizer of the biggest Rust meet up in Europe â”<!-- --> <span><a href="https://rust-linz.at/">Rust Linz</a></span> <!-- -->and he was the lecturer at our<!-- --> <span><a href="https://www.youtube.com/watch?v=-N8AKKCE9L8">Rust for Javascript Developers</a></span> <!-- -->workshop!</p></div><div><h2>So, to sum it up</h2><p><span>â†’</span> Learning Rust tutorial-style with real-world applications</p><p><span>â†’</span> Suitable for beginners and experienced developers</p><p><span>â†’</span> Contents of each newsletter issue take only 1 hour to implement</p><p><span>â†’</span> Flexible pacing for busy developers</p><p><span>â†’</span> Additional resources for advanced learners</p><p><span>â†’</span> Learning one Rust concept per issue</p></div></section><section><h2>Past issues</h2><p>For our upcoming issues, we have some exciting project ideas lined up for you, such as an e-commerce application that performs safe transactions with a payment provider and an Activity Pub Client. Each project takes you from basics to advanced concepts.</p><a href="https://www.shuttle.rs/launchpad/issues"><p>See More <span>â†’</span></p></a></section><section><img alt="background" sizes="100vw" srcset="https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=640&amp;q=75 640w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=750&amp;q=75 750w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=828&amp;q=75 828w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=1080&amp;q=75 1080w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=1200&amp;q=75 1200w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=1920&amp;q=75 1920w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=2048&amp;q=75 2048w, https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=3840&amp;q=75 3840w" src="https://www.shuttle.rs/_next/image?url=%2Fimages%2Fsections%2Fbatch%2Fbg-batch.jpg&amp;w=3840&amp;q=75" decoding="async" data-nimg="fill" loading="lazy"><h2>Start your journey now</h2><p>The Shuttle Launchpad newsletter is meant to run for multiple issues with no defined end, ensuring you always have new material to keep learning, staying up to date with the ever-changing Rust ecosystem.</p><p>Join hundreds of developers on their journey</p></section></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[All the ways to capture changes in Postgres (235 pts)]]></title>
            <link>https://blog.sequin.io/all-the-ways-to-capture-changes-in-postgres/</link>
            <guid>37610899</guid>
            <pubDate>Fri, 22 Sep 2023 12:06:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.sequin.io/all-the-ways-to-capture-changes-in-postgres/">https://blog.sequin.io/all-the-ways-to-capture-changes-in-postgres/</a>, See on <a href="https://news.ycombinator.com/item?id=37610899">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      <!--kg-card-begin: markdown--><p>Working with data at rest is where Postgres shines. But what about when you need data in motion? What about when you need to trigger a workflow based on changes to a table? Or you need to stream the data in Postgres to another data store, system, or service in real-time?</p>
<p>Fortunately, Postgres comes with a lot of options to make this happen. In this post, Iâ€™ll lay them all out. Iâ€™ll also give you an idea of which are easy to do, which are more robust, and how to make the right choice for you.</p>
<h2 id="listennotify">Listen/Notify</h2>
<p>Perhaps the simplest approach is to use Postgres' interprocess communication feature, Listen/Notify. Listen/Notify is an implementation of the publish-subscribe pattern.</p>
<p>With Listen/Notify, a Postgres session (or connection) can "listen" to a particular channel for notifications. Activity in the database or other sessions can "notify" that channel. Whenever a notification is sent to a channel, all sessions listening to that channel receive the notification instantly.</p>
<p>You can see Listen/Notify for yourself by opening two <code>psql</code> sessions.</p>
<p>In session 1, you can setup your listener:</p>
<pre><code>&gt; listen my_channel;
LISTEN
</code></pre>
<p>And in session 2, you can publish to that channel with a message:</p>
<pre><code>&gt; notify my_channel, 'hey there!';
NOTIFY
&gt; notify my_channel, 'is this thing on?';
NOTIFY
</code></pre>
<p>While the listener process received the message right away, <code>psql</code> won't print the message automatically. To get it to print out the messages it's received so far, you just need to run any query. For example, you can just send an empty query like this:</p>
<pre><code>&gt; listen my_channel;
LISTEN
&gt; ;
Asynchronous notification "my_channel" with payload "hey there!" received from server process with PID 80019.
Asynchronous notification "my_channel" with payload "is this thing on?" received from server process with PID 80019.
</code></pre>
<p>(Naturally, this isn't how the Postgres client library in your preferred programming language will work. Libraries will deliver messages to your subscriber immediately without requiring a query.)</p>
<p>To use Listen/Notify to capture changes, you can set up a trigger. For example, here's an <code>after</code> trigger that sends along the payload of the record that changed as JSON via Notify:</p>
<pre><code>create or replace function notify_trigger() returns trigger as $$
declare
  payload json;
begin
  payload := json_build_object('table', TG_TABLE_NAME, 'id', NEW.id, 'action', TG_OP);
  perform pg_notify('table_changes', payload::text);
  return new;
end;
$$ language plpgsql;

create trigger my_trigger
after insert or update or delete on my_table
for each row execute function notify_trigger();
</code></pre>
<h3 id="downsides">Downsides</h3>
<p>Listen/Notify is simple and powerful, but has some notable downsides.</p>
<p>First, as a pub-sub mechanism, it has "at most once" delivery semantics. Notifications are transient; a listener needs to be listening to a channel when notifications are published. When a listener subscribes to a channel, it will only receive notifications from that moment forward. This also means that if there are network issues that cause a listening session to disconnect even briefly, it won't receive the notification.</p>
<p>Second, the payload size limit is 8000 bytes. If the message exceeds this size, the <code>notify</code> command will fail. <sup><a href="#fn1" id="fnref1">[1]</a></sup></p>
<p>As such, Listen/Notify is solid for basic change detection needs, but you'll probably find it does not serve more sophisticated needs well. However, it can complement other strategies (like "poll the table") nicely.</p>
<h2 id="poll-the-table">Poll the table</h2>
<p>The simplest <em>robust</em> way to capture changes is to poll the table directly. Here, you need each table to have an <code>updated_at</code> column or similar that updates whenever the row updates. (You can use a trigger for this.) A combination of <code>updated_at</code> <a href="https://blog.sequin.io/whats-changed-in-your-api/">and <code>id</code></a> serve as your cursor. In this setup, your application logic that polls the table handles storing and maintaining the cursor.</p>
<p>In addition to polling the table, you can use a Notify subscription to inform your application that a record has been inserted or modified. Postgres' notifications are ephemeral, so this should only serve as an optimization on top of polling.</p>
<h3 id="downsides">Downsides</h3>
<p>This approach has two downsides.</p>
<p>The first is that you can't detect when a row is deleted. There's no way to "see" the missing row in the table.</p>
<p>One remediation is to have a Postgres trigger fire on deletes, and store the <code>id</code> (and whatever other columns you want) in a separate table: e.g. <code>deleted_contacts</code>. Then, your application can poll that table to discover deletes instead.</p>
<p>The second downside is that you don't get diffs. You know this record was updated since you last polled the table, but you don't know <em>what</em> was updated on the record.</p>
<p>Maybe deletes aren't a big deal for your use case or you don't care about diffs. If so, polling the table is a reasonable and simple solution for tracking changes.</p>
<h2 id="replication-wal">Replication (WAL)</h2>
<p>Postgres supports streaming replication to other Postgres databases. In streaming replication, Postgres sends the WAL stream over a network connection from the primary to a replica. The standby servers pull these WAL records and replay them to keep their database in sync with the primary database.</p>
<p>Streaming replication was built for streaming changes to other Postgres servers. But you can use it to capture changes for your application too.</p>
<p>You first create a replication slot, like this:</p>
<pre><code>select * from
pg_create_logical_replication_slot('&lt;your_slot_name&gt;', '&lt;output_plugin&gt;');
</code></pre>
<p><code>output_plugin</code> is a parameter which specifies which plugin Postgres should use to decode WAL changes. Postgres comes with a few built-in plugins. <code>pgoutput</code> is the default. It formats the output in the binary expected by client servers. <code>test_decoding</code> is a simple output plugin that provides human-readable output of the changes to the WAL.</p>
<p>The most popular output plugin not built-in to Postgres is <code>wal2json</code>. It does what it says on the tin. JSON will be a lot easier for you to consume from an application than Postgres' binary format.</p>
<p>After creating your replication slot, you can start it and consume from it. Working with replication slots uses a different part of the Postgres protocol than standard queries. But many client libraries have functions that help you work with replication slots.</p>
<p>For example, this is how you consume WAL messages in the <code>psycopg2</code> library:</p>
<pre><code>cursor.start_replication(slot_name='your_slot_name', decode=True)
cursor.consume_stream(lambda msg: acknowledge_to_server(cursor, msg))

def acknowledge_to_server(cursor, msg):
    # Process the message (msg) here
    # ...
    # Acknowledge the message
    cursor.send_feedback(flush_lsn=msg.wal_end)
</code></pre>
<p>Note that the client is responsible for ack'ing WAL messages that it has received. So the replication slot behaves like event buses such as SQS.</p>
<p>Instead of consuming from the WAL directly, you can use tools like Debezium to do this for you. Debezium will consume the WAL from Postgres and stream those changes to a variety of sinks, including Kafka or NATS.</p>
<h3 id="downsides">Downsides</h3>
<p>Using Postgres' replication facilities to capture changes is a robust solution. The biggest downside is complexity. Replication slots and the replication protocol are less familiar to most developers than the "standard" parts (i.e. tables and queries).</p>
<p>Along with this complexity is a decrease in clarity. If something with replication breaks or if there's a lag or things aren't working as expected, it can be a bit trickier to debug than the other solutions outlined here.</p>
<p>Another aspect worth mentioning is that replication slots may require tweaking <code>postgresql.conf</code>. For example, you may need to tweak parameters like <code>max_wal_senders</code> and <code>max_replication_slots</code>. So you'll need total access to the database to implement this solution.</p>
<h2 id="capture-changes-in-an-audit-table">Capture changes in an audit table</h2>
<p>In this approach, you set up a separate table for logging changes, e.g. <code>changelog</code>. That table contains column related to the record's modification, such as:</p>
<ul>
<li><code>action</code>: Was this an <code>insert</code>, <code>update</code>, or <code>delete</code>?</li>
<li><code>old</code>: A jsonb of the record before the mutation. Blank for inserts.</li>
<li><code>values</code>: A jsonb of the change fields. Blank for deletes.</li>
<li><code>inserted_at</code>: Time the change occurred.</li>
</ul>
<p>To set this up, you need to create a trigger function that inserts into this table every time a change occurs. Then, you need to create triggers on all the tables you care about to invoke that trigger function.</p>
<p>Here's an example of what that trigger function might look like:</p>
<pre><code>create or replace function changelog_trigger() returns trigger as $$
declare
  action text;
  table_name text;
  transaction_id bigint;
  timestamp timestamp;
  old_data jsonb;
  new_data jsonb;
begin
  action := lower(TG_OP::text);
  table_name := TG_TABLE_NAME::text;
  transaction_id := txid_current();
  timestamp := current_timestamp;

  if TG_OP = 'DELETE' then
    old_data := to_jsonb(OLD.*);
  elseif TG_OP = 'INSERT' then
    new_data := to_jsonb(NEW.*);
  elseif TG_OP = 'UPDATE' then
    old_data := to_jsonb(OLD.*);
    new_data := to_jsonb(NEW.*);
  end if;

  insert into changelog (action, table_name, transaction_id, timestamp, old_data, new_data) 
  values (action, table_name, transaction_id, timestamp, old_data, new_data);

  return null;
end;
$$ language plpgsql;
</code></pre>
<p>After setting up a way to capture changes, you need to figure out how to consume them.</p>
<p>There's a lot of different ways you can do this. One way is to treat the <code>changelog</code> as a queue. Your application workers can pull changes from this table. You'll probably want to ensure that changes are processed ~exactly once. You can use the <code>for update skip locked</code> feature in Postgres to do this. For example, your workers can open a transaction and grab a chunk of <code>changelog</code> entries:</p>
<pre><code>begin;

select * 
from changelog 
order by timestamp 
limit 100 
for update skip locked;
</code></pre>
<p>Now, other workers running that query will not receive this "locked" block of rows. After your worker processes the records, it can delete them:</p>
<pre><code>delete from changelog 
where id in (list_of_processed_record_ids);

commit;
</code></pre>
<h3 id="downsides">Downsides</h3>
<p>This approach is similar to using a replication slot, but more manual. The trigger function and table design I've outlined might work to start. But you'd likely need to make tweaks before deploying at scale in production. <sup><a href="#fn2" id="fnref2">[2]</a></sup></p>
<p>The advantage over replication slots is that it's all "standard" Postgres. Instead of an opaque replication slot, you have an easy to query Postgres table. And you don't need access to <code>postgresql.conf</code> to make this work.</p>
<h2 id="foreign-data-wrappers">Foreign data wrappers</h2>
<p>Foreign data wrappers (FDWs) are a Postgres feature that allow you to both read from and write to external data sources from your Postgres database.</p>
<p>The most notable and widely supported extension built on FDWs is <code>postgres_fdw</code>. With <code>postgres_fdw</code>, you can connect two Postgres databases and create something like a <a href="https://www.postgresql.org/docs/current/sql-createview.html?ref=blog.sequin.io">view</a> in one Postgres database that references a table in another Postgres database. Under the hood, you're turning one Postgres database into a client and the other into a server. When you make queries against foreign tables, the client database sends the queries to the server database via Postgres' <a href="https://www.postgresql.org/docs/current/protocol-flow.html?ref=blog.sequin.io">wire protocol</a>.</p>
<p>Using FDWs to capture changes is an unusual strategy. I wouldn't recommend it outside very specific situations.</p>
<p>One situation where FDWs could make sense is if you're capturing changes in one Postgres database in order to write them to another Postgres database. Perhaps you use one database for accounting and another for your application. You can skip the intermediary change capture steps and use <code>postgres_fdw</code> to go from database to database.</p>
<p>Here's an example trigger that ensures the status for a given account (identified by <code>email</code>) is in-sync across two databases. This assumes the foreign table has already been declared as <code>foreign_app_database</code>:</p>
<pre><code>create or replace function cancel_subscription()
  returns trigger as $$
declare
  account_status text;
begin
  if (new.status = 'cancelled' or new.status = 'suspended') then
    account_status := 'cancelled';

    update foreign_app_database.account
    set status = account_status
    where email = new.email;
  end if;

  return new;
end;
$$ language plpgsql;
</code></pre>
<p>In addition to <code>postgres_fdw</code>, you can create and load your own foreign data wrappers into your Postgres database.</p>
<p>That means you could create a foreign data wrapper that posts changes to an internal API. Unlike the other change detection strategies in this list, because you'd write to the API inside your commit, your API would have the ability to reject the change and roll back the commit.</p>
<h3 id="downsides">Downsides</h3>
<p>Foreign data wrappers are a fun and powerful Postgres feature. But they'll rarely be your best option for capturing changes. You're probably not trying to replicate changes from one Postgres database to another. And while writing your own foreign data wrapper from scratch <a href="https://github.com/supabase/wrappers?ref=blog.sequin.io">has gotten easier</a>, writing your own FDW is probably the biggest lift in this list for capturing changes.</p>
<h2 id="conclusion">Conclusion</h2>
<p>There are lots of options for capturing changes in Postgres. Depending on your use case, some options are clearly better than others. In sum:</p>
<ul>
<li>Listen/Notify is great for non-critical event capture, prototyping, or optimizing polling.</li>
<li>Polling for changes is a fine, straightforward solution for simple use cases.</li>
<li>Replication is probably your best bet for a robust solution. If thatâ€™s too difficult or opaque, then perhaps the audit table is a good middle-ground.</li>
<li>Finally, foreign data wrappers solve a need youâ€™re unlikely to have.</li>
</ul>
<p>We examined all of these options for our own change capture requirements, and unfortunately none of them met our complex (and niche) needs. So, we ended up needing to build a Postgres proxy ðŸ˜… You can <a href="https://blog.sequin.io/we-had-no-choice-but-to-build-a-postgres-proxy/">read more about that here</a>.</p>
<hr>
<section>
<ol>
<li id="fn1"><p>Note the payload size includes the channel name, which like all Postgres identifiers can be up to 64 bytes in size. <a href="#fnref1">â†©ï¸Ž</a></p>
</li>
<li id="fn2"><p>One example issue that comes to mind: should there be a timeout for how long workers can have changes checked out? <a href="#fnref2">â†©ï¸Ž</a></p>
</li>
</ol>
</section>
<!--kg-card-end: markdown-->
    </div></div>]]></description>
        </item>
    </channel>
</rss>