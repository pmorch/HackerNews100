<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Tue, 02 Jan 2024 00:00:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[PyPy has moved to Git, GitHub (142 pts)]]></title>
            <link>https://www.pypy.org/posts/2023/12/pypy-moved-to-git-github.html</link>
            <guid>38834895</guid>
            <pubDate>Mon, 01 Jan 2024 20:06:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.pypy.org/posts/2023/12/pypy-moved-to-git-github.html">https://www.pypy.org/posts/2023/12/pypy-moved-to-git-github.html</a>, See on <a href="https://news.ycombinator.com/item?id=38834895">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody text">
      <p>PyPy has moved its canonical repo and issue tracker from
<a href="https://foss.heptapod.net/pypy/pypy">https://foss.heptapod.net/pypy/pypy</a> to <a href="https://github.com/pypy/pypy">https://github.com/pypy/pypy</a>. Obviously,
this means development will now be tracked in Git rather than Mercurial.</p>
<h3 id="motivation">Motivation<a href="#motivation" title="Permalink to this heading">¶</a></h3>
<p>We still feel Mercurial is a better version control system. The named branch
model and user interface are superior. But</p>
<ul>
<li>
<p>foss.heptapod.net is not well indexed in google/bing/duckduckgo
  search, so people find it harder to search for issues in the project.</p>
</li>
<li>
<p>Since Heptapod has tightened its spam control, we get reports that
  users create issues only to have them flagged as spam.</p>
</li>
<li>
<p>Open Source has become synonymous with GitHub, and we are too small to
  change that.</p>
</li>
<li>
<p>Much of the current development comes as a reaction to fixing issues.
  Tracking interlocking issues is easier if all the code is on the same
  platform.</p>
</li>
<li>
<p>The <a href="https://doc.pypy.org/en/latest/faq.html#why-doesn-t-pypy-use-git-and-move-to-github">FAQ</a>
  presents two arguments against the move. <a href="https://git-scm.com/docs/git-notes">Github notes</a>
  solves much of point (1): the difficulty of discovering provenance of
  commits, although not entirely. But the main problem is point (2), it turns
  out that <strong>not</strong> moving to GitHub is an impediment to contribution and issue
  reporting.</p>
</li>
<li>
<p>People who wish to continue to use Mercurial can use the same method below to
  push to GitHub.</p>
</li>
<li>
<p>GitHub is more resource rich than foss.heptapod.net. We could add CI
  jobs to replace some of our aging <a href="https://buildbot.pypy.org/">buildbot
  infrastructure</a>.</p>
</li>
</ul>
<h3 id="method">Method<a href="#method" title="Permalink to this heading">¶</a></h3>
<p>The migration required two parts: migrating the code and then migrating the
issues and merge requests.</p>
<h4 id="code-migration-1-code-and-notes">Code migration 1: code and notes<a href="#code-migration-1-code-and-notes" title="Permalink to this heading">¶</a></h4>
<p>I used a <a href="https://github.com/mnauw/git-remote-hg">fork of git-remote-hg</a> to
create a local Git repo with all the changesets. Then I wanted to add a Git
note to each commit with the branch it came from. So I prepared a file with two
columns: the Git commit hash, and the corresponding branch from Mercurial.
Mercurial can describe each commit in two ways: either the commit hash or by a
number index. I used <code>hg log</code> to convert an index <code>i</code> to the Mercurial hash,
and then <code>git-hg-helper</code> from <code>git-remote-hg</code> to convert the Mercurial hash to
a Git hash:</p>
<div><pre>$(cd pypy-git; git-hg-helper git-rev $(cd ../pypy-hg; hg log -r $i -T"{node}\n"))
</pre></div>

<p>Then I used <code>hg log</code> again to print the Mercurial branch for the index <code>i</code>:</p>
<div><pre>$(cd pypy-hg; hg log -r $i -T'{branch}\n')
</pre></div>

<p>Putting these two together, I could loop over all the commits by their
numerical index to prepare the file. Then I iterated over each line in the
file, and added the Git note. Since the <code>git note add</code> command works on the
current HEAD, I needed to checkout each commit in turn and then add the note:</p>
<div><pre>git checkout -q &lt;hash&gt; &amp;&amp; git notes --ref refs/notes/branch add -m branch:&lt;branch&gt;
</pre></div>

<p>I could then use <code>git push --all</code> to push to GitHub.</p>
<h4 id="code-migration-2-prepare-the-branches">Code migration 2: prepare the branches<a href="#code-migration-2-prepare-the-branches" title="Permalink to this heading">¶</a></h4>
<p>PyPy has almost 500 open branches. The code migration created all the branch
HEADs, but <code>git push --all</code> did not push them. I needed to check them out and
push each one. So I created a file with all the branch names</p>
<div><pre>cd pypy-hg; hg branches | cut -f1 -d" " &gt; branches.txt
</pre></div>

<p>and then push each one to the GitHub repo</p>
<div><pre><span>while</span><span> </span><span>read</span><span> </span><span>branch</span><span>; do git checkout branches/$branch &amp;&amp; git push origin branches/$branch; done &lt; branches.txt</span>
</pre></div>

<p>Note that the branches were named <code>branches/XXX</code> by the migration, not <code>branch/XXX</code>. This confuses the merge request migration, more about that later.</p>
<h4 id="issue-and-merge-request-migration">Issue and merge request migration<a href="#issue-and-merge-request-migration" title="Permalink to this heading">¶</a></h4>
<p>I used the solution from
<a href="https://github.com/piceaTech/node-gitlab-2-github">node-gitlab-2-github</a> which
worked almost perfectly. It is important to do the conversion on a <strong>private
repo</strong> otherwise every mention of a sucessfully mapped user name notifies
the user about the transfer. This can be quite annoying for a repo the size of
PyPy with 600 merge requests and over 4000 issues. Issues transfered without a
problem: the script properly retained the issue numbers. However the script
does not convert the Mercurial hashes to Git hashes, so the bare hashes in
comments show up without a link to the commit. Merge requests are more of a problem:</p>
<ul>
<li>The Mercurial named branch "disappears" once it is merged, so a merge request
  to a merged branch does not find the target branch name in Git. The
  conversion creates an issue instead with the label <code>gitlab merge request</code>.</li>
<li>For some reason, the branches created by <code>git-remote-hg</code> are called
  <code>branches/XXX</code> and not <code>branch/XXX</code> as expected by GitLab. This messes up the
  merge request/PR conversion. For some of the branches (open PRs and main
  target branches) I manually created additional branches without the <code>es</code>. The
  net result is that open merge requests became open PRs, merged merge requests
  became issues, and closed-not-merged merge requests were not migrated.</li>
</ul>
<h4 id="layered-conversions">Layered conversions<a href="#layered-conversions" title="Permalink to this heading">¶</a></h4>
<p>PyPy already migrated once from Bitbucket to Heptapod. Many of the issues
reflect the multiple transitions: they have lines like "Created originally on
Bitbucket by XXX" from the first transition, and an additional line "In
Heptapod" from this transition.</p>
<h3 id="credits">Credits<a href="#credits" title="Permalink to this heading">¶</a></h3>
<p>We would like to express our gratitude to the <a href="https://octobus.net/">Octobus</a>
team who support Heptapod. The transition from Bitbucket was quite an effort,
and they have generously hosted our developement since then. We wish them all
the best, and still believe that Mercurial should have "won".</p>
<h3 id="next-steps">Next steps<a href="#next-steps" title="Permalink to this heading">¶</a></h3>
<p>While the repo at GitHub is live, there are still a few more things we need to
do:</p>
<ul>
<li>Documentation needs an update for the new repo and the build automation from
  readthedocs must be adjusted.</li>
<li>The wiki should be copied from Heptapod.</li>
<li>buildbot.pypy.org should also look at the new repo. I hope the code is up to
  the task of interacting with a Git repo.</li>
<li>speed.pypy.org tracks changes, it too needs to reference the new location</li>
<li>To keep tracking branches with Git notes on new commits, I activated a
  <a href="https://github.com/Julian/named-branch-action">github action</a> by Julian to
  add a Git branch note to each commit. Please see the README there for
  directions on using Git notes.</li>
<li>Some of the merge requests were not migrated. If someone wants to, they could
  migrate those once they figure out the branch naming problems.</li>
</ul>
<p>Additionally, now is the time for all of you to prove the move is worthwhile:</p>
<ul>
<li>Star the repo, let others know how to find it,</li>
<li>Help fix some of the open issues or file new ones,</li>
<li>Take advantage of the more familiar workflow to get involved in the project,</li>
<li>Suggest ways to improve the migration: are there things I missed or could
  have done better?</li>
</ul>
<h3 id="how-will-development-change">How will development change?<a href="#how-will-development-change" title="Permalink to this heading">¶</a></h3>
<p>Heptapod did not allow personal forks, so we were generous with a commit bit to
the main repo. Additionally, we (well, me) have been using a
commit-directly-to-main workflow. We will now be adopting a more structured
workflow. Please fork the repo and submit a pull request for any changes. We
can now add some pre-merge CI to check that the PR at least passes the first
stage of translation. The live and active branches will be:</p>
<ul>
<li>
<code>main</code>: what was "default" in Mercurial, it is the Python2.7 interpreter and
  the base of the RPython interpreter,</li>
<li>
<code>py3.9</code>: the Python3.9 interpreter, which also includes all RPython changes
  from <code>main</code>. This is exactly like on Mercurial, and</li>
<li>
<code>py3.10</code>: the Python3.10 interpreter, which also includes all RPython changes
  from <code>main</code> and all bugfixes from <code>py3.9</code>. This is exactly like on Mercurial.</li>
</ul>
<h4 id="working-between-the-repos">Working between the repos<a href="#working-between-the-repos" title="Permalink to this heading">¶</a></h4>
<h5 id="finding-commits">Finding commits<a href="#finding-commits" title="Permalink to this heading">¶</a></h5>
<p>If you want to figure out how a Mercurial commit relates to a Git commit, you
can use <code>git-hg-helper</code>. You run it in the Git repo. It takes the full long
hash from one repo and gives you the corresponding hash of the other repo:</p>
<div><pre>$<span> </span>git-hg-helper<span> </span>git-rev<span> </span>d64027c4c2b903403ceeef2c301f5132454491df
4527e62ad94b0e940a5b0f9f20d29428672f93f7
$<span> </span>git-hg-helper<span> </span>hg-rev<span> </span>4527e62ad94b0e940a5b0f9f20d29428672f93f7
d64027c4c2b903403ceeef2c301f5132454491df
</pre></div>

<h5 id="finding-branches">Finding branches<a href="#finding-branches" title="Permalink to this heading">¶</a></h5>
<p>Branches migrated from Mercurial will have a <code>branches</code> prefix, not <code>branch</code>.
While GitLab uses <code>branch</code> for its prefix, the <code>git-remote-hg</code> script uses
<code>branches</code>. New work should be in a PR targeting <code>main</code>, <code>py3.9</code> or <code>py3.10</code>.</p>
<p>Thanks for helping to make PyPy better.</p>
<p>Matti</p>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Mathematical Introduction to Deep Learning: Methods, Implementations, and Theory (198 pts)]]></title>
            <link>https://arxiv.org/abs/2310.20360</link>
            <guid>38834244</guid>
            <pubDate>Mon, 01 Jan 2024 18:46:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2310.20360">https://arxiv.org/abs/2310.20360</a>, See on <a href="https://news.ycombinator.com/item?id=38834244">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2310.20360.pdf">Download PDF</a></p><blockquote>
            <span>Abstract:</span>This book aims to provide an introduction to the topic of deep learning algorithms. We review essential components of deep learning algorithms in full mathematical detail including different artificial neural network (ANN) architectures (such as fully-connected feedforward ANNs, convolutional ANNs, recurrent ANNs, residual ANNs, and ANNs with batch normalization) and different optimization algorithms (such as the basic stochastic gradient descent (SGD) method, accelerated methods, and adaptive methods). We also cover several theoretical aspects of deep learning algorithms such as approximation capacities of ANNs (including a calculus for ANNs), optimization theory (including Kurdyka-Łojasiewicz inequalities), and generalization errors. In the last part of the book some deep learning approximation methods for PDEs are reviewed including physics-informed neural networks (PINNs) and deep Galerkin methods. We hope that this book will be useful for students and scientists who do not yet have any background in deep learning at all and would like to gain a solid foundation as well as for practitioners who would like to obtain a firmer mathematical understanding of the objects and methods considered in deep learning.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Benno Kuckuck [<a href="https://arxiv.org/show-email/87e3788f/2310.20360">view email</a>]      <br>    <strong>[v1]</strong>
        Tue, 31 Oct 2023 11:01:23 UTC (2,327 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[2024's public domain is a banger (109 pts)]]></title>
            <link>https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/</link>
            <guid>38833881</guid>
            <pubDate>Mon, 01 Jan 2024 18:13:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/">https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/</a>, See on <a href="https://news.ycombinator.com/item?id=38833881">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-7686">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
public domain, copyfight, old school, jennifer jenkins, music, books, movies, sex, bertold brecht, web dubois, tigger, marx brothers, cthulhu,

Summary:
2024's public domain is a banger; Hey look at this

URL:
https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/

Title:
Pluralistic: 2024's public domain is a banger (20 Dec 2023) em-oh-you-ess-ee

Bullet:
👩🏼‍🚒

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
None

--><br>
<a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/"><img decoding="async" src="https://i0.wp.com/craphound.com/images/20Dec2023.jpg?w=840&amp;ssl=1" data-recalc-dims="1"></a></p>
<h2>Today's links</h2>
<ul>
<li><a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/#sexytimes">2024's public domain is a banger</a>: How he got in my pajamas, I don't know.
</li>
<li><a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/#linkdump">Hey look at this</a>: Delights to delectate.
</li>
<li><a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/#retro">This day in history</a>: 2013, 2018, 2022
</li>
<li><a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="sexytimes"></a><br>
<img decoding="async" alt="A collage of works entering the public domain on January 1, 2024." src="https://i0.wp.com/craphound.com/images/PDDmontageRS.png?w=840&amp;ssl=1" data-recalc-dims="1"></p>
<h2>2024's public domain is a banger (<a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/#sexytimes">permalink</a>)</h2>
<p>They stole something from you. For decades, they stole it. That thing they stole? Your entire culture. For all of human history, works created in living memory entered the public domain every year. 40 years ago, that stopped.</p>
<p>First in 1976, and then again in 1998, Congress retroactively extended copyright's duration by 20 years, for all works, including works whose authors were unknown and long dead, whose proper successors could not be located. Many of these authors were permanently erased from history as every known copy of their works disappeared before they could be brought back into our culture through reproduction, adaptation and re-use (copyright is "strict liability," meaning that even if you pay to clear the rights to a work from someone who has good reason to believe they control those rights, if they're wrong, you are on the hook as an infringer, and the statutory damages run to six figures).</p>
<p>Works that are still in our cultural currents 50 or 70 or 90 years after their creation are an infinitesimal fraction of all the works we create as a species. But these works are – by definition – extraordinarily important to our culture. The creators who made these works were able to plunder a rich public domain of still-current works as inputs to their own enduring creations. The slow-motion arson attack on the public domain meant that two generations of creators were denied the public domain that every other creator in the history of the human race had enjoyed.</p>
<p>As 2019 drew nearer, the copyright resistance who had fought over this grew nervous, then…elated. Was Congress actually going to heed the evidence of a decades-long failed experiment and decline to extend copyright again?</p>
<p><a href="https://archive.org/details/MarybethPetersFormerUsRegisterOfCopyrightsOnTermsBeingTooLong">https://archive.org/details/MarybethPetersFormerUsRegisterOfCopyrightsOnTermsBeingTooLong</a></p>
<p>I had pitched email debates with comrades over this. Michael S Hart, visionary founder of the Project Gutenberg, was <em>certain</em> it wouldn't happen (he didn't live to see it). But then, miraculously, astoundingly, 2019 rolled around and <em>we got new works in the public domain</em>!</p>
<p><a href="https://web.law.duke.edu/cspd/publicdomainday/2019/">https://web.law.duke.edu/cspd/publicdomainday/2019/</a></p>
<p>For decades, Jennifer Jenkins from the Duke Center for the Study of the Public Domain published an annual lament for the public domain works we <em>weren't</em> getting that year. Jenkins painstakingly catalogued the materials that the public would be denied, though their creators had been only too happy to release them with the belief that the copyright would be 40 years shorter than it turned out.</p>
<p>Starting in 2019, those laments turned into celebrations, starter pistols for a generation of creators discovering a living public domain for the first time since the <em>Carter administration</em>. The 1923 works that entered the public domain in 2019 were mostly curiosities, but with each successive year, the public domain's new arrivals get ever more vibrant.</p>
<p>The public domain shipment that arrived on January 1, 2023 was a <em>banger</em>: we got some Virginia Woolf, some Hemingway, some Kafka, some Faulkner, some Agatha Christie and Edith Wharton, as well as Proust and Hesse:</p>
<p><a href="https://pluralistic.net/2022/12/20/free-for-2023/#oy-canada">https://pluralistic.net/2022/12/20/free-for-2023/#oy-canada</a></p>
<p>All of Sherlock Holmes came home to the public domain last year. We also got "Ol' Man River," "Puttin' On the Ritz" and "Mississippi Mud."</p>
<p>What we didn't get 2023? Sound recordings. The Music Modernization Act froze all sound recordings in copyright until 2024 – that is, until 11 days hence.</p>
<p>Those old 78RPM recordings exist in an odd superposition. On the one hand, they have real cultural value and bring great joy to many listeners. On the other hand, they produce either zero (in the case of out-of-print recordings) or very little revenue for labels.</p>
<p>The Internet Archive, a public library, has preserved over 400,000 of these recordings through its Great 78 Project. Like every library with a sound recording collection, the Archive lends out access to these recordings to people with library cards:</p>
<p><a href="https://great78.archive.org/">https://great78.archive.org/</a></p>
<p>But the record industry has decided to attack the library and its founder. In a lawsuit that could shut down the Internet Archive and bankrupt its founder, they claim that internet-based libraries can't do what their physical counterparts have done since literal time immemorial:</p>
<p><a href="https://blog.archive.org/2023/08/14/internet-archive-responds-to-recording-industry-lawsuit-targeting-obsolete-media/">https://blog.archive.org/2023/08/14/internet-archive-responds-to-recording-industry-lawsuit-targeting-obsolete-media/</a></p>
<p>The Big Three labels (Universal, Sony and Warner) who bought out all their rivals until three companies ended up owning <em>70%</em> of all in-copyright sound recordings do not take seriously their responsibility to preserve the recording history they bought and now would exercise eternal dominance over. Even as they attack independent efforts to preserve our culture, they fail grotesquely to preserve it on their own:</p>
<p><a href="https://www.nytimes.com/2019/06/11/magazine/universal-fire-master-recordings.html">https://www.nytimes.com/2019/06/11/magazine/universal-fire-master-recordings.html</a></p>
<p>January 1 won't change any of that: come this year's public domain day, the record labels will still own the vast majority of all the music in the world, and they'll still be indifferently preserving it, and they'll still be trying to kill the Internet Archive and the Wayback Machine, and they'll still be trying to eviscerate Brewster Kahle.</p>
<p>But at least we'll get some music in the public domain again this year. Indeed, this year's public domain is shaping up to be an even bigger banger than 2023:</p>
<p><a href="https://web.law.duke.edu/cspd/publicdomainday/2024/">https://web.law.duke.edu/cspd/publicdomainday/2024/</a></p>
<p>The majority of works entering the public domain this year are from 1928, six years before the Hays Code – a regime of self-censorship overseen by the motion picture cartel that banned sex, radical politics, queerness, and everything else good in this world for generations – came into effect. 1928 was the year that the "Magna Charta" of the movie cartel was adopted – a set of voluntary guidelines that were roundly ignored by the studios:</p>
<p><a href="https://en.wikipedia.org/wiki/Hays_Code#Pre-Code:_%22Don'ts%22_and_%22Be_Carefuls%22,_as_proposed_in_1927">https://en.wikipedia.org/wiki/Hays_Code#Pre-Code:_%22Don'ts%22_and_%22Be_Carefuls%22,_as_proposed_in_1927</a></p>
<p>The late 1920s were <em>super horny</em>. This year's public domain time-capsule from 1928 includes DH Lawrence's <em>Lady Chatterley's Lover</em>, Cole Porter's <em>Let's Do It</em>, Virginia Woolf's <em>Orlando</em>, Khan and Donaldson's <em>Makin' Whoopee</em>, and, horniest of all, Milne's <em>House at Pooh Corner</em>, featuring the first appearance of literature's greatest perennial sex-pest: Tigger.</p>
<p>Getting all this sexy stuff from 1928 in 2024 – when panicked bigots are waging war on sex in popular culture – is <em>quite</em> timely. These pietist prigs keep acting like sex in popular culture, "where the children can see it," was invented five years ago by Scholastic editors with purple hair, neopronouns and septum piercings. Earth to Moms For Liberty: the "good old days," free from sex in culture, ended 2 billion years ago when horny eukaryotes invented fucking.</p>
<p>But 1928 wasn't <em>all</em> flappers doing the horizontal Charleston with college men in the backs of jalopies. Our newly liberated cultural forebears found time to create the Marx Brothers' <em>Animal Crackers</em>, Brecht's <em>Threepenny Opera</em> (including <em>Mack the Knife</em>), and Agatha Christie's <em>The Mystery of the Blue Train</em>.</p>
<p>WEB Dubois's <em>Dark Princess</em> comes home to the public domain on Jan 1. So do Robert Frost's <em>West-Running Brook</em> and Buster Keaton's <em>The Cameraman</em>. We're getting Charlie Chaplin's <em>The Circus</em> and Leni's <em>The Man Who Laughs</em>, which Bob Kane plundered to create The Joker. You can record <em>Sonny Boy</em>, <em>I Can't Give You Anything But Love</em> or <em>I Wanna Be Loved By You</em>.</p>
<p>In addition to all the compositions entering the public domain in a few days, there's the first shipment of recordings in two years: the Charleston, <em>Yes, We Have No Bananas</em>, and Satchmo singing with King Oliver’s Creole Jazz Band on <em>Dipper Mouth Blues</em> and <em>Froggie More</em>.</p>
<p>Also noteworthy: the works of MC Escher are starting to enter the public domain. The records are fragmentary, but <em>Tower Of Babel</em> is yours for the taking on Jan 1 (this is especially satisfying given that the estate is a noteworthy bully that has sent me baseless threats).</p>
<p>There's a lot of other visual art that may be entering the public domain in 2024, but because the registration records are so poorly organized, it's hard to tell. A lot of that art may not have been registered or renewed, and already be in the public domain. 80% of the books published between 1924 and 1963 are in the public domain on this basis!</p>
<p><a href="https://www.crummy.com/2019/07/22/0">https://www.crummy.com/2019/07/22/0</a></p>
<p>Among those works that are Secretly Public Domain? HP Lovecraft's <em>Call of Cthulhu</em>, which has been public domain since <em>1956</em> (the Lovecraft estate is another one of those bullying monsters who will be put out of business soon, thanks to the reawakened public domain).</p>
<p>The main event, of course, is Mickey Mouse, who enters the public domain along with his first two short cartoon appearances: <em>Plane Crazy</em> and <em>Steamboat Willie</em>. Though there's been a lot of FUD about trademark keeping Mickey out of the public domain, it's a lie. He's all yours (mostly):</p>
<p><a href="https://pluralistic.net/2023/12/15/mouse-liberation-front/#free-mickey">https://pluralistic.net/2023/12/15/mouse-liberation-front/#free-mickey</a></p>
<p>It's wonderful to see the public domain growing again, but spare a thought for the orphan works whose copyright caging outlasted the works themselves. This year saw several silent films entering the public domain – but some of those films no longer exist in their entirety, or at all. They were set afire in the slow-motion arson attack on our culture the monopolistic entertainment industry began 40+ years ago.</p>
<p>Today, the world's worst people remain in charge of that culture, and they're still destroying it. David Zaslav, the loathsome villain of this year's writers' strike and actors' strike, has pioneered the permanent erasure of beloved movies and TV shows as a cheap way of getting tax credits for the bloated post-merger behemoth of that is Discovery-Warner:</p>
<p><a href="https://insidethemagic.net/2023/04/warner-bros-under-fire-for-destroying-history-af1/">https://insidethemagic.net/2023/04/warner-bros-under-fire-for-destroying-history-af1/</a></p>
<p>The purpose of a system is what it does. It's not that the media execs who demanded copyright extensions in the seventies and nineties failed to foresee that this was a mass cultural extinction event. It's that they didn't care. David Zaslav burning down his own company's vault is part of a multigenerational tradition in his industry. Those media execs know <em>exactly</em> what they're doing. They just don't care.</p>
<hr>

<h2>Hey look at this (<a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/#linkdump">permalink</a>)</h2>
<p><img decoding="async" src="https://i0.wp.com/craphound.com/images/heylookatthis.jpg?w=840&amp;ssl=1" data-recalc-dims="1"></p>
<ul>
<li>Search Tweaks <a href="http://searchtweaks.com/">http://searchtweaks.com/</a>
</li>
<li>
<p>Reversing Reagan: Is Wall Street Giving Up on Consolidation? <a href="https://www.thebignewsletter.com/p/reversing-reagan-is-wall-street-giving">https://www.thebignewsletter.com/p/reversing-reagan-is-wall-street-giving</a></p>
</li>
<li>
<p>Command Line Interface Guidelines <a href="https://clig.dev/">https://clig.dev</a></p>
</li>
<li>
<p>Volkswagen will reintroduce buttons to dashboards because everyone hates the touch controls <a href="https://boingboing.net/2023/12/19/volkswagen-will-reintroduce-buttons-to-dashboards-because-everyone-hates-the-touch-controls.html">https://boingboing.net/2023/12/19/volkswagen-will-reintroduce-buttons-to-dashboards-because-everyone-hates-the-touch-controls.html</a></p>
</li>
</ul>
<hr>
<p><a name="retro"></a><br>
<img decoding="async" alt="A Wayback Machine banner." src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;ssl=1" data-recalc-dims="1"></p>
<h2>This day in history (<a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/#retro">permalink</a>)</h2>
<p>#10yrsago Kansas Universities can fire faculty for tweets that are “contrary to best interest of the University” <a href="https://www.washingtonpost.com/news/monkey-cage/wp/2013/12/19/kansas-board-of-regents-restricts-free-speech-for-academics/">https://www.washingtonpost.com/news/monkey-cage/wp/2013/12/19/kansas-board-of-regents-restricts-free-speech-for-academics/</a></p>
<p>#10yrsago Judge throws out Libyan rendered by UK spooks &amp; CIA to Gaddafi for torture, because “it might embarrass America” <a href="https://www.theguardian.com/world/2013/dec/20/libyan-rendition-claim-uk-interests">https://www.theguardian.com/world/2013/dec/20/libyan-rendition-claim-uk-interests</a></p>
<p>#10yrsago NSA and GCHQ targeted NGOs, charities, EU chief, Israeli defense minister for deep surveillance <a href="https://www.theguardian.com/uk-news/2013/dec/20/gchq-targeted-aid-agencies-german-government-eu-commissioner">https://www.theguardian.com/uk-news/2013/dec/20/gchq-targeted-aid-agencies-german-government-eu-commissioner</a></p>
<p>#10yrsago Oklahoma City cops charge Keystone XL protesters with “terrorism hoax” because their banner shed some glitter <a href="https://www.vice.com/en/article/xd5dxa/two-environmentalists-were-charged-with-terrorism-hoax-for-too-much-glitter-on-their-banner">https://www.vice.com/en/article/xd5dxa/two-environmentalists-were-charged-with-terrorism-hoax-for-too-much-glitter-on-their-banner</a></p>
<p>#10yrsago Mother of three boys’ funny review for Kleenex multipacks <a href="https://www.amazon.com/review/RFWM0CFO0UMWY/?_encoding=UTF8&amp;camp=1789&amp;creative=390957&amp;linkCode=ur2&amp;tag=downandoutint-20#RFWM0CFO0UMWY">https://www.amazon.com/review/RFWM0CFO0UMWY/?_encoding=UTF8&amp;camp=1789&amp;creative=390957&amp;linkCode=ur2&amp;tag=downandoutint-20#RFWM0CFO0UMWY</a></p>
<p>#10yrsago Deriving cryptographic keys by listening to CPUs’ “coil whine” <a href="https://arstechnica.com/information-technology/2013/12/new-attack-steals-e-mail-decryption-keys-by-capturing-computer-sounds/">https://arstechnica.com/information-technology/2013/12/new-attack-steals-e-mail-decryption-keys-by-capturing-computer-sounds/</a></p>
<p>#10yrsago Chief cable lobbyist: data caps were never about network congestion, always about profit <a href="https://www.dslreports.com/shownews/Cable-Industry-Finally-Admits-Caps-Not-About-Congestion-122791">https://www.dslreports.com/shownews/Cable-Industry-Finally-Admits-Caps-Not-About-Congestion-122791</a></p>
<p>#5yrsago The audiophile MQA format really doesn’t have DRM, but that doesn’t mean it’s not on the toxic rainbow of locked tech <a href="https://www.eff.org/deeplinks/2018/12/closed-proprietary-felonious-toxic-rainbow-locked-technology">https://www.eff.org/deeplinks/2018/12/closed-proprietary-felonious-toxic-rainbow-locked-technology</a></p>
<p>#5yrsago The latest Facebook scandal might explain why Amazon wrongfully banned book-reviewers <a href="https://gizmodo.com/amazon-and-facebook-reportedly-had-a-secret-data-sharin-1831192148">https://gizmodo.com/amazon-and-facebook-reportedly-had-a-secret-data-sharin-1831192148</a></p>
<p>#5yrsago Inside the funny accounting that lets the money-losing fracking industry claim to be profitable <a href="https://www.desmog.com/2018/12/18/fracking-finances-record-oil-production-fuzzy-math/">https://www.desmog.com/2018/12/18/fracking-finances-record-oil-production-fuzzy-math/</a></p>
<p>#5yrsago Regulating Airbnb drives down local rents (as well as house prices) <a href="https://cepr.org/voxeu/columns/short-term-rentals-and-housing-market-quasi-experimental-evidence-airbnb-los-angeles">https://cepr.org/voxeu/columns/short-term-rentals-and-housing-market-quasi-experimental-evidence-airbnb-los-angeles</a></p>
<p>#5yrsago How Amazon’s crackdown on dirty sellers has made it easier for dirty sellers to kill good sellers’ accounts <a href="https://www.theverge.com/2018/12/19/18140799/amazon-marketplace-scams-seller-court-appeal-reinstatement">https://www.theverge.com/2018/12/19/18140799/amazon-marketplace-scams-seller-court-appeal-reinstatement</a></p>
<p>#5yrsago Not all “screen time” is created equal <a href="https://www.wired.com/story/year-in-review-tech-addiction-debate-all-wrong/">https://www.wired.com/story/year-in-review-tech-addiction-debate-all-wrong/</a></p>
<p>#5yrsago Master list of Facebook’s 2018 scandals <a href="https://www.wired.com/story/facebook-scandals-2018/">https://www.wired.com/story/facebook-scandals-2018/</a></p>
<p>#5yrsago 760 flights diverted from Gatwick airport after drone scare, affecting 110,000 passengers <a href="https://www.bbc.com/news/uk-england-sussex-46623754">https://www.bbc.com/news/uk-england-sussex-46623754</a></p>
<p>#1yrago 2023's public domain is a banger <a href="https://pluralistic.net/2022/12/20/free-for-2023/#oy-canada">https://pluralistic.net/2022/12/20/free-for-2023/#oy-canada</a></p>
<hr>
<p><a name="bragsheet"></a><br>
<img decoding="async" src="https://i0.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;ssl=1" data-recalc-dims="1"></p>
<h2>Colophon (<a href="https://pluralistic.net/2023/12/20/em-oh-you-ess-ee/#bragsheet">permalink</a>)</h2>
<p>Today's top sources:</p>
<p>Currently writing:</p>
<ul>
<li>A Little Brother short story about DIY insulin PLANNING
</li>
<li>
<p>Picks and Shovels, a Martin Hench noir thriller about the heroic era of the PC. FORTHCOMING TOR BOOKS JAN 2025</p>
</li>
<li>
<p>The Bezzle, a Martin Hench noir thriller novel about the prison-tech industry. FORTHCOMING TOR BOOKS FEB 2024</p>
</li>
<li>
<p>Vigilant, Little Brother short story about remote invigilation. FORTHCOMING ON TOR.COM</p>
</li>
<li>
<p>Spill, a Little Brother short story about pipeline protests. FORTHCOMING ON TOR.COM</p>
</li>
</ul>
<p>Latest podcast: The Internet’s Original Sin <a href="https://craphound.com/news/2023/12/17/the-internets-original-sin/">https://craphound.com/news/2023/12/17/the-internets-original-sin/</a>)</p>
<p>Upcoming appearances:</p>
<ul>
<li>Internet Con (Peculiar Book Club), Jan 11<br>
<a href="https://www.youtube.com/watch?v=s5UvzuJ1R4I">https://www.youtube.com/watch?v=s5UvzuJ1R4I</a></li>
</ul>
<p>Recent appearances:</p>
<ul>
<li>Enshittification: A Monopoly Story (Macro n Cheese)<br>
<a href="https://realprogressives.org/podcast_episode/episode-255-enshittification-a-monopoly-story-with-cory-doctorow">https://realprogressives.org/podcast_episode/episode-255-enshittification-a-monopoly-story-with-cory-doctorow</a>
</li>
<li>
<p>Science Fiction and the Future of Science<br>
<a href="https://council.science/podcast/science-fiction/">https://council.science/podcast/science-fiction/</a></p>
</li>
<li>
<p>AI needs to work with humans — not replace us (CBC IDEAS)<br>
<a href="https://www.cbc.ca/radio/ideas/artificial-intelligence-provocation-ideas-festival-1.7046841">https://www.cbc.ca/radio/ideas/artificial-intelligence-provocation-ideas-festival-1.7046841</a></p>
</li>
</ul>
<p>Latest books:</p>
<ul>
<li>"The Lost Cause:" a solarpunk novel of hope in the climate emergency, Tor Books (US), Head of Zeus (UK), November 2023 (<a href="http://lost-cause.org/">http://lost-cause.org</a>). Signed, personalized copies at Dark Delicacies (<a href="https://www.darkdel.com/store/p3007/Pre-Order_Signed_Copies%3A_The_Lost_Cause_HB.html#/">https://www.darkdel.com/store/p3007/Pre-Order_Signed_Copies%3A_The_Lost_Cause_HB.html#/</a>)
</li>
<li>
<p>"The Internet Con": A nonfiction book about interoperability and Big Tech (Verso) September 2023 (<a href="http://seizethemeansofcomputation.org/">http://seizethemeansofcomputation.org</a>). Signed copies at Book Soup (<a href="https://www.booksoup.com/book/9781804291245">https://www.booksoup.com/book/9781804291245</a>).</p>
</li>
<li>
<p>"Red Team Blues": "A grabby, compulsive thriller that will leave you knowing more about how the world works than you did before." Tor Books <a href="http://redteamblues.com/">http://redteamblues.com</a>. Signed copies at Dark Delicacies (US): <a href="https://www.darkdel.com/store/p2873/Wed%2C_Apr_26th_6pm%3A_Red_Team_Blues%3A_A_Martin_Hench_Novel_HB.html#/"> and Forbidden Planet (UK): </a><a href="https://forbiddenplanet.com/385004-red-team-blues-signed-edition-hardcover/">https://forbiddenplanet.com/385004-red-team-blues-signed-edition-hardcover/</a>.</p>
</li>
<li>
<p>"Chokepoint Capitalism: How to Beat Big Tech, Tame Big Content, and Get Artists Paid, with Rebecca Giblin", on how to unrig the markets for creative labor, Beacon Press/Scribe 2022 <a href="https://chokepointcapitalism.com/">https://chokepointcapitalism.com</a></p>
</li>
<li>
<p>"Attack Surface": The third Little Brother novel, a standalone technothriller for adults. The <em>Washington Post</em> called it "a political cyberthriller, vigorous, bold and savvy about the limits of revolution and resistance." Order signed, personalized copies from Dark Delicacies <a href="https://www.darkdel.com/store/p1840/Available_Now%3A_Attack_Surface.html">https://www.darkdel.com/store/p1840/Available_Now%3A_Attack_Surface.html</a></p>
</li>
<li>
<p>"How to Destroy Surveillance Capitalism": an anti-monopoly pamphlet analyzing the true harms of surveillance capitalism and proposing a solution. <a href="https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59?sk=f6cd10e54e20a07d4c6d0f3ac011af6b">https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59?sk=f6cd10e54e20a07d4c6d0f3ac011af6b</a>) (signed copies: <a href="https://www.darkdel.com/store/p2024/Available_Now%3A__How_to_Destroy_Surveillance_Capitalism.html">https://www.darkdel.com/store/p2024/Available_Now%3A__How_to_Destroy_Surveillance_Capitalism.html</a>)</p>
</li>
<li>
<p>"Little Brother/Homeland": A reissue omnibus edition with a new introduction by Edward Snowden: <a href="https://us.macmillan.com/books/9781250774583">https://us.macmillan.com/books/9781250774583</a>; personalized/signed copies here: <a href="https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html">https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html</a></p>
</li>
<li>
<p>"Poesy the Monster Slayer" a picture book about monsters, bedtime, gender, and kicking ass. Order here: <a href="https://us.macmillan.com/books/9781626723627">https://us.macmillan.com/books/9781626723627</a>. Get a personalized, signed copy here: <a href="https://www.darkdel.com/store/p2682/Corey_Doctorow%3A_Poesy_the_Monster_Slayer_HB.html#/">https://www.darkdel.com/store/p2682/Corey_Doctorow%3A_Poesy_the_Monster_Slayer_HB.html#/</a>.</p>
</li>
</ul>
<p>Upcoming books:</p>
<ul>
<li>The Bezzle: a sequel to "Red Team Blues," about prison-tech and other grifts, Tor Books, February 2024
</li>
<li>
<p>Picks and Shovels: a sequel to "Red Team Blues," about the heroic era of the PC, Tor Books, February 2025</p>
</li>
<li>
<p>Unauthorized Bread: a graphic novel adapted from my novella about refugees, toasters and DRM, FirstSecond, 2025</p>
</li>
</ul>
<hr>
<p><img decoding="async" src="https://i0.wp.com/craphound.com/images/by.svg.png?w=840&amp;ssl=1" data-recalc-dims="1"></p>
<p>This work – excluding any serialized fiction – is licensed under a Creative Commons Attribution 4.0 license. That means you can use it any way you like, including commercially, provided that you attribute it to me, Cory Doctorow, and include a link to pluralistic.net.</p>
<p><a href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></p>
<p>Quotations and images are not included in this license; they are included either under a limitation or exception to copyright, or on the basis of a separate license. Please exercise caution.</p>
<hr>
<h2>How to get Pluralistic:</h2>
<p>Blog (no ads, tracking, or data-collection):</p>
<p><a href="http://pluralistic.net/">Pluralistic.net</a></p>
<p>Newsletter (no ads, tracking, or data-collection):</p>
<p><a href="https://pluralistic.net/plura-list">https://pluralistic.net/plura-list</a></p>
<p>Mastodon (no ads, tracking, or data-collection):</p>
<p><a href="https://mamot.fr/@pluralistic">https://mamot.fr/@pluralistic</a></p>
<p>Medium (no ads, paywalled):</p>
<p><a href="https://doctorow.medium.com/">https://doctorow.medium.com/</a></p>
<p>Twitter (mass-scale, unrestricted, third-party surveillance and advertising):</p>
<p><a href="https://twitter.com/doctorow">https://twitter.com/doctorow</a></p>
<p>Tumblr (mass-scale, unrestricted, third-party surveillance and advertising):</p>
<p><a href="https://mostlysignssomeportents.tumblr.com/tagged/pluralistic">https://mostlysignssomeportents.tumblr.com/tagged/pluralistic</a></p>
<p>"<em>When life gives you SARS, you make sarsaparilla</em>" -Joey "Accordion Guy" DeVilla</p>

	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Writing a TrueType font renderer (149 pts)]]></title>
            <link>https://axleos.com/writing-a-truetype-font-renderer/</link>
            <guid>38833747</guid>
            <pubDate>Mon, 01 Jan 2024 18:01:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://axleos.com/writing-a-truetype-font-renderer/">https://axleos.com/writing-a-truetype-font-renderer/</a>, See on <a href="https://news.ycombinator.com/item?id=38833747">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main-blog-post-content-container">
<content>
<p>Text is <em>the</em> medium of digital interaction, and text rendering has an outsized impact on the overall fit and finish of any system. It therefore
pains me that axle has for years relied on a low-resolution 8x8 bitmap font. Let’s fix it!</p>
<p>Take a look at the characters composing this sentence. Note the curves, the negative space, the use of size and distance.</p>
<p>If you’ve got a magnifying glass handy, you can even see how ‘black-on-white’ text uses many shades of gray to make the text smoother on the eyes. I’ll show you:</p>
<figure><img src="https://axleos.com/writing-a-truetype-font-renderer/shades2.png" width="100%">
</figure>
<p>Font rendering comes down to telling the computer which pixels should be on or off, which should be darkened slightly for effect and which should let the background shine through.</p>
<p>The challenge comes from describing this to the computer in a way that’s <em>efficient</em> and <em>resizable</em>. Fonts shouldn’t take up too much storage, and we should be able to scale a font to any size the user requests while preserving the character✱ of the font design. Perhaps most importantly, we’ll want to satisfy these constraints while also making the text pleasant to read.</p>

<h2 id="minimalist-text-renderer">Minimalist Text Renderer</h2>
<p>Let’s do away with all of these requirements for now, and start off with the simplest viable approach to rendering characters. How might we go about coloring pixels into text?</p>
<p>Firstly, we’ll select a fixed size for each character. We’ll agree that every character will be exactly 8 pixels wide and 8 pixels high. That gives us a grid of 64 pixels per character to work with.</p>
<p>We can use a simple data format that describes whether each pixel in our 8x8 grid should be on (colored with the font color) or off (retain the background color). We can draw out our character grid like so:</p>
<div><pre tabindex="0"><code data-lang="text"><span><span>_ _ _ _ _ _ _ _
</span></span><span><span>_ _ _ _ _ _ _ _
</span></span><span><span>_ _ _ _ _ _ _ _
</span></span><span><span>_ _ _ _ _ _ _ _
</span></span><span><span>_ _ _ _ _ _ _ _
</span></span><span><span>_ _ _ _ _ _ _ _
</span></span><span><span>_ _ _ _ _ _ _ _
</span></span><span><span>_ _ _ _ _ _ _ _</span></span></code></pre></div>
<p>Since we’ve got 8 pixels in each row, and each pixel has two states, it’s natural to store each row in our grid as one byte. For example, we could represent a capital <code>A</code> using a representation like the following:</p>
<div><pre tabindex="0"><code data-lang="text"><span><span>Byte 1: 0 0 1 1 0 0 0 0
</span></span><span><span>Byte 2: 0 1 1 1 1 0 0 0
</span></span><span><span>Byte 3: 1 1 0 0 1 1 0 0
</span></span><span><span>Byte 4: 1 1 0 0 1 1 0 0
</span></span><span><span>Byte 5: 1 1 1 1 1 1 0 0
</span></span><span><span>Byte 6: 1 1 0 0 1 1 0 0
</span></span><span><span>Byte 7: 1 1 0 0 1 1 0 0
</span></span><span><span>Byte 8: 0 0 0 0 0 0 0 0</span></span></code></pre></div>
<div>
<figure><img src="https://axleos.com/writing-a-truetype-font-renderer/highlighted_bitmap3.png" width="30%">
</figure>
</div>
<p>This is equivalent to the following hexadecimal representation:</p>
<div><pre tabindex="0"><code data-lang="text"><span><span>Byte 1: 0x0c
</span></span><span><span>Byte 2: 0x1e
</span></span><span><span>Byte 3: 0x33
</span></span><span><span>Byte 4: 0x33
</span></span><span><span>Byte 5: 0x3f
</span></span><span><span>Byte 6: 0x33
</span></span><span><span>Byte 7: 0x33
</span></span><span><span>Byte 8: 0x00</span></span></code></pre></div>
<p>… and allows us to very efficiently store render maps for ASCII:</p>
<div><pre tabindex="0"><code data-lang="c"><span><span><span>uint8_t</span> <span>ascii_map</span><span>[</span><span>256</span><span>][</span><span>8</span><span>]</span> <span>=</span> <span>[</span>
</span></span><span><span>    <span>// 64 previous entries...
</span></span></span><span><span><span></span>    <span>{</span> <span>0x0C</span><span>,</span> <span>0x1E</span><span>,</span> <span>0x33</span><span>,</span> <span>0x33</span><span>,</span> <span>0x3F</span><span>,</span> <span>0x33</span><span>,</span> <span>0x33</span><span>,</span> <span>0x00</span><span>},</span> <span>// U+0041 (A)
</span></span></span><span><span><span></span>    <span>{</span> <span>0x3F</span><span>,</span> <span>0x66</span><span>,</span> <span>0x66</span><span>,</span> <span>0x3E</span><span>,</span> <span>0x66</span><span>,</span> <span>0x66</span><span>,</span> <span>0x3F</span><span>,</span> <span>0x00</span><span>},</span> <span>// U+0042 (B)
</span></span></span><span><span><span></span>    <span>{</span> <span>0x3C</span><span>,</span> <span>0x66</span><span>,</span> <span>0x03</span><span>,</span> <span>0x03</span><span>,</span> <span>0x03</span><span>,</span> <span>0x66</span><span>,</span> <span>0x3C</span><span>,</span> <span>0x00</span><span>},</span> <span>// U+0043 (C)
</span></span></span><span><span><span></span>    <span>{</span> <span>0x1F</span><span>,</span> <span>0x36</span><span>,</span> <span>0x66</span><span>,</span> <span>0x66</span><span>,</span> <span>0x66</span><span>,</span> <span>0x36</span><span>,</span> <span>0x1F</span><span>,</span> <span>0x00</span><span>},</span> <span>// U+0044 (D)
</span></span></span><span><span><span></span>    <span>{</span> <span>0x7F</span><span>,</span> <span>0x46</span><span>,</span> <span>0x16</span><span>,</span> <span>0x1E</span><span>,</span> <span>0x16</span><span>,</span> <span>0x46</span><span>,</span> <span>0x7F</span><span>,</span> <span>0x00</span><span>},</span> <span>// U+0045 (E)
</span></span></span><span><span><span></span>    <span>{</span> <span>0x7F</span><span>,</span> <span>0x46</span><span>,</span> <span>0x16</span><span>,</span> <span>0x1E</span><span>,</span> <span>0x16</span><span>,</span> <span>0x06</span><span>,</span> <span>0x0F</span><span>,</span> <span>0x00</span><span>},</span> <span>// U+0046 (F)
</span></span></span><span><span><span></span>    <span>{</span> <span>0x3C</span><span>,</span> <span>0x66</span><span>,</span> <span>0x03</span><span>,</span> <span>0x03</span><span>,</span> <span>0x73</span><span>,</span> <span>0x66</span><span>,</span> <span>0x7C</span><span>,</span> <span>0x00</span><span>},</span> <span>// U+0047 (G)
</span></span></span><span><span><span></span>    <span>{</span> <span>0x33</span><span>,</span> <span>0x33</span><span>,</span> <span>0x33</span><span>,</span> <span>0x3F</span><span>,</span> <span>0x33</span><span>,</span> <span>0x33</span><span>,</span> <span>0x33</span><span>,</span> <span>0x00</span><span>},</span> <span>// U+0048 (H)
</span></span></span><span><span><span></span>    <span>// ...
</span></span></span><span><span><span></span><span>];</span></span></span></code></pre></div>
<p>This is quite a tidy encoding! To render a character, we can directly look up its render map using its ASCII representation:</p>
<div><pre tabindex="0"><code data-lang="c"><span><span><span>fn</span> <span>render</span><span>(</span><span>ch</span><span>:</span> <span>char</span><span>)</span> <span>{</span>
</span></span><span><span>    <span>let</span> <span>ch_render_map</span><span>:</span> <span>[</span><span>u8</span><span>;</span> <span>8</span><span>]</span> <span>=</span> <span>ascii_bitmaps</span><span>[</span><span>ch</span> <span>as</span> <span>u8</span><span>];</span> <span>// Neat!
</span></span></span><span><span><span></span>    <span>for</span> <span>row</span> <span>in</span> <span>ch_render_map</span><span>.</span><span>iter</span><span>()</span> <span>{</span>
</span></span><span><span>        <span>for</span> <span>col</span> <span>in</span> <span>row</span><span>.</span><span>bits</span><span>().</span><span>iter</span><span>()</span> <span>{</span>
</span></span><span><span>            <span>if</span> <span>col</span> <span>==</span> <span>1</span> <span>{</span>
</span></span><span><span>                <span>// This pixel belongs to the character
</span></span></span><span><span><span></span>            <span>}</span>
</span></span><span><span>            <span>else</span> <span>{</span>
</span></span><span><span>                <span>// This pixel should display the background
</span></span></span><span><span><span></span>            <span>}</span>
</span></span><span><span>        <span>}</span>
</span></span><span><span>    <span>}</span>
</span></span><span><span><span>}</span></span></span></code></pre></div>
<p>Believe it or not, that’s it. axle has been using the above font rendering technique for the better part of a decade.</p>
<figure><img src="https://axleos.com/writing-a-truetype-font-renderer/old_desktop.png" width="100%">
</figure>
<p>Although the font above only natively provides 8px bitmaps, it’s pretty easy to scale it to any size we like. However, the font will always appear jagged and low-resolution.</p>
<figure><img src="https://axleos.com/writing-a-truetype-font-renderer/old_desktop_closeup.png" width="100%">
</figure>
<p>While the 8x8 bitmap font <em>works</em>, it sure isn’t pretty, and it’s quite limited: we can only use whatever font we’re willing to encode into this little 8x8 grid, and
we’re unable to use any of the many fonts available online and in the public domain. Additionally, our 8x8 grid doesn’t give us much of a good way to describe curves, which are essential in some fonts (check out this <code>a</code>!).</p>
<p>Most importantly, writing a new font renderer sounds like fun.</p>
<h2 id="truetype">TrueType</h2>
<p>For the next leap in our text rendering journey, we turn to TrueType: the de facto standard for encoding and distributing fonts. Unlike our humble 8x8 bitmaps, TrueType fonts are distributed as structured binary files (<code>.ttf</code>). We’ll need to parse these files and render their data into pixels.</p>
<p>There’s few things in this world I love more than taking an opaque binary and gradually uncovering the organization that was present all along. Dissecting the underlying and general structure of a binary is as gratifying as anything I can imagine.</p>
<p>The <a href="https://developer.apple.com/fonts/TrueType-Reference-Manual/">TrueType specification</a> gives a great introduction to the problem space (I highly recommend the overviews in <code>Digitizing Letterforms</code> and especially <code>Instructing Fonts</code>), but it doesn’t give much in the way of signposting “start parsing here”. I’ll save you the trouble.</p>
<p>TTFs are structured somewhat similarly to Mach-Os. This is quite a nice surprise, because I’ve spent <a href="https://github.com/datatheorem/strongarm/">a lot of time parsing Mach-Os</a>! Both file formats were developed at Apple✱ around the same time, so I suppose they had some design points in the air.</p>
<div>

<p>
I don’t know all the history here. Please feel welcome to correct me if I’ve got this wrong!
</p>
</div>
<p>TTFs and Mach-Os are both largely structured around a flat series of sections, each of which is described by a table of contents at the beginning of the file. In the case of TTFs, each of these sections will contain some metadata or other that we’ll need over the course of rendering the font.</p>
<figure><img src="https://axleos.com/writing-a-truetype-font-renderer/macho_ttf_comparison.png" width="100%">
</figure>
<p>Before taking a look at these sections becomes fruitful, though, we need to know the fundamental process for describing fonts used by TrueType. The specification does a great job, so I’ll keep myself brief.</p>
<p>The collection of lines and curves used to visually represent a particular letter is referred to as a <em>glyph</em>. As an example, the glyph for <code>b</code> consists of a vertical line and a semicircle.</p>
<p>Without further information, though, our renderer won’t know <em>which</em> glyph represents each character. We’ll need some additional metadata to convert from a character within a <em>character map</em> (such as ASCII or Unicode) to the <em>glyph</em> that a particular font is using to visually represent that character. The job of the TTF is dually to describe how to draw all the glyphs represented by the font, and to describe the correspondence between the character map and these glyphs.</p>
<p>TrueType describes how to draw each glyph by listing a series of points, which collectively compose the <em>outline</em> of each glyph. It’s up to the renderer to connect these points into lines, to turn these lines into curves, and to ‘color inside the lines’ as appropriate. There’s more nuance here, but that’s the bare bones.</p>
<p><img src="https://axleos.com/writing-a-truetype-font-renderer/points.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log3.png"><br>
<i>Rendering points without connecting them into lines</i>
</p>
<p>Things start to look a lot more comprehensible once you connect the dots.</p>
<p><img src="https://axleos.com/writing-a-truetype-font-renderer/log1.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log2.png">
</p>
<p>Coloring inside the lines turns out to be more difficult than you might imagine✱.</p>
<table>
<tbody><tr>
<th>
<img src="https://axleos.com/writing-a-truetype-font-renderer/log4.png">
</th>
<th>
<img src="https://axleos.com/writing-a-truetype-font-renderer/log6.png">
</th>
<th>
<img src="https://axleos.com/writing-a-truetype-font-renderer/log7.png">
</th>
</tr>
</tbody></table>
<div>

<p>
Describing and filling closed polygons was missing from axle’s Rust-based graphics stack until the TrueType renderer gave me a reason. It’s implemented <a href="https://github.com/codyd51/axle/blob/paging-demo/rust_programs/agx_definitions/src/lib.rs#L1554-L1723">here</a>.
</p>
</div>
<p>My first implementation of this renderer didn’t draw any curves, but instead directly connected the points with straight lines. My colleague Amos <a href="https://github.com/codyd51/axle/pull/47">implemented</a> the ability for the renderer to interpolate the glyph outline along the curves described in the font, which really improved the look of things. Thanks, Amos!</p>
<div>
<figure><img src="https://axleos.com/writing-a-truetype-font-renderer/bezier_curves.png" width="60%">
</figure>
<p><i>Before and after Amos's work to interpolate along curves</i>
</p></div>
<h2 id="tangled-text-tables">Tangled Text Tables</h2>
<p>Each section in the TTF is identified by a 4-character ASCII name. Different sections in the TTF contain different important metadata, such as:</p>
<ul>
<li><code>glyf</code>: The set of points for each glyph outline in the font (most important!)</li>
<li><code>hmtx</code>:✱ Spacing information, i.e. how far to advance the cursor after drawing each glyph</li>
<li><code>cmap</code>: The correspondence of Unicode✱ codepoints to glyph indexes</li>
</ul>
<div>

<p>
<code>hmtx</code> just gives the <em>horizontal metrics</em>. <code>vmtx</code> gives the metrics for the vertical direction as well.
</p>
</div>
<div>

<p>
I’m simplifying here. TTFs can contain several ‘character maps’ covering many encoding schemes, including several versions of Unicode (such as Unicode v1, Unicode v2, Unicode v2 with <em>just</em> the <a href="https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane">basic multilingual plane</a>, etc.). The data within the <code>cmap</code> section will specify which character maps are available, and it’s up to the parser to select whichever character map is convenient.
</p>
</div>
<p>Each of these sections contains a bunch of structured data describing their contents. Here, our first mini challenge presents itself. TTF was designed in an era in which neither RAM nor core cycles were cheap. Therefore, the designers of the format made sure it’d be as easy as possible for the renderer to complete its work. To this end, they offloaded two responsibilities to the font file itself:</p>
<ul>
<li>Efficient data structures that the renderer can walk to retrieve info (for example, lookup tables to map a character code to a glyph index)</li>
<li>Pre-computation of some values used during lookup (for example, scaling parameters for binary searching a character map)</li>
</ul>
<p>These optimizations aren’t so relevant today, but we’ll need to work with them nonetheless. The first one is particularly important: TTF is designed to be <em>loaded directly into memory</em> and read by the renderer <em>in-place</em>, without the renderer populating its own intermediary data structures. Inexplicably, though, the TTF stores all fields in big endian, so we’ll definitely have to do some work on our end before we can read any sane values out of font structures.</p>
<p>To be able to define and read from these font structures with minimal boilerplate and repetition, I set things up such that I could wrap any font structure fields in <code>BigEndianValue</code>. After I call <code>.into()</code>, everything is done and dusted and I can move on with my day. A little bit of structure definition upfront for some easy breezy parsing code down the line!</p>
<div onclick="window.open(&quot;https://github.com/codyd51/axle/blob/9d83c62eaad9dd0850bb7fe3641bd2821e5b84b0/rust_programs/ttf_renderer/src/parser.rs#L35-L66&quot;, '_blank');">
<p><code>rust_programs/ttf_renderer/src/parser.rs</code></p>

<div><pre tabindex="0"><code data-lang="rust"><span><span><span>/// Here, we're modelling a structure that's defined by the TTF specification
</span></span></span><span><span><span></span><span>#[repr(C, packed)]</span><span>
</span></span></span><span><span><span></span><span>#[derive(Debug, Copy, Clone)]</span><span>
</span></span></span><span><span><span></span><span>struct</span> <span>OffsetSubtableRaw</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>/// Note each field is wrapped in BigEndianValue
</span></span></span><span><span><span></span><span>    </span><span>scalar_type</span>: <span>BigEndianValue</span><span>&lt;</span><span>u32</span><span>&gt;</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>num_tables</span>: <span>BigEndianValue</span><span>&lt;</span><span>u16</span><span>&gt;</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>search_range</span>: <span>BigEndianValue</span><span>&lt;</span><span>u16</span><span>&gt;</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>entry_selector</span>: <span>BigEndianValue</span><span>&lt;</span><span>u16</span><span>&gt;</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>range_shift</span>: <span>BigEndianValue</span><span>&lt;</span><span>u16</span><span>&gt;</span><span>,</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>/// This marker trait indicates that this structure sits directly in TTF memory
</span></span></span><span><span><span></span><span>impl</span><span> </span><span>TransmuteFontBufInPlace</span><span> </span><span>for</span><span> </span><span>OffsetSubtableRaw</span><span> </span><span>{}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>/// This is our 'high-level' parsed representation
</span></span></span><span><span><span></span><span>#[derive(Debug, Copy, Clone)]</span><span>
</span></span></span><span><span><span></span><span>struct</span> <span>OffsetSubtable</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>scalar_type</span>: <span>u32</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>num_tables</span>: <span>u16</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>search_range</span>: <span>u16</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>entry_selector</span>: <span>u16</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>range_shift</span>: <span>u16</span><span>,</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>/// Convert the 'raw' TTF memory representation into our high-level representation with native byte order
</span></span></span><span><span><span></span><span>impl</span><span> </span><span>FromFontBufInPlace</span><span>&lt;</span><span>OffsetSubtableRaw</span><span>&gt;</span><span> </span><span>for</span><span> </span><span>OffsetSubtable</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>fn</span> <span>from_in_place_buf</span><span>(</span><span>raw</span>: <span>&amp;</span><span>OffsetSubtableRaw</span><span>)</span><span> </span>-&gt; <span>Self</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>Self</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>            </span><span>scalar_type</span>: <span>raw</span><span>.</span><span>scalar_type</span><span>.</span><span>into_value</span><span>(),</span><span>
</span></span></span><span><span><span>            </span><span>num_tables</span>: <span>raw</span><span>.</span><span>num_tables</span><span>.</span><span>into_value</span><span>(),</span><span>
</span></span></span><span><span><span>            </span><span>search_range</span>: <span>raw</span><span>.</span><span>search_range</span><span>.</span><span>into_value</span><span>(),</span><span>
</span></span></span><span><span><span>            </span><span>entry_selector</span>: <span>raw</span><span>.</span><span>entry_selector</span><span>.</span><span>into_value</span><span>(),</span><span>
</span></span></span><span><span><span>            </span><span>range_shift</span>: <span>raw</span><span>.</span><span>range_shift</span><span>.</span><span>into_value</span><span>(),</span><span>
</span></span></span><span><span><span>        </span><span>}</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span></span><span>}</span></span></span></code></pre></div>
</div>
<p>Ready for the payoff?</p>
<div onclick="window.open(&quot;https://github.com/codyd51/axle/blob/9d83c62eaad9dd0850bb7fe3641bd2821e5b84b0/rust_programs/ttf_renderer/src/parser.rs#L336&quot;, '_blank');">
<p><code><code><span>pub</span><span> </span><span>fn</span> <span>parse</span><span>(</span><span>&amp;</span><span>mut</span><span> </span><span>self</span><span>)</span><span> </span>-&gt; <span>Font</span></code></code>
</p>
<p><code>rust_programs/ttf_renderer/src/parser.rs</code></p>

<div><pre tabindex="0"><code data-lang="rust"><span><span><span>let</span><span> </span><span>offset_table</span><span> </span><span>=</span><span> </span><span>OffsetSubtable</span>::<span>from_in_place_buf</span><span>(</span><span>self</span><span>.</span><span>read_with_cursor</span><span>(</span><span>&amp;</span><span>mut</span><span> </span><span>cursor</span><span>));</span></span></span></code></pre></div>
</div>
<p>Oh yeah! We can parse our high-level, byte-order-corrected representation directly from the TTF memory without even needing to <em>mention</em> the raw TTF representation at the call-site. I’ll call that a win.</p>
<h2 id="parser">Parser</h2>
<p>Handy APIs in hand, we’ll parse all the section descriptions at the start of the file.</p>
<p>The <code>head</code> section (or <em>table</em>, as TTF prefers) stores some important metadata about the font as a whole. We know that TTF describes glyph outlines via a series of connected points. But if we see a point like <code>(371, 205)</code>, without further information we don’t have a reference point for understanding where this sits visually. The <code>head</code> table gives us such a reference point, by describing the <code>glyph_bounding_box</code> that all points sit within.</p>
<p>Next up, we’ll want to <a href="https://github.com/codyd51/axle/blob/paging-demo/rust_programs/ttf_renderer/src/character_map.rs#L224">parse a character map</a> to find out how we’ll correspond encoded characters to glyph indexes. Each character map will also be described in an <a href="https://github.com/codyd51/axle/blob/paging-demo/rust_programs/ttf_renderer/src/character_map.rs#L340-L357">extremely gnarly format</a> that the parser will need to know how to read.</p>
<p>And now the exciting bit: parsing glyphs! The <code>maxp</code> table will give us some metadata on how many glyphs the font contains, while the glyph data itself is stored in <code>glyf</code>.</p>
<p>Before we can parse each <code>glyf</code> entry, we’ll need to know where each entry begins. The <code>loca</code> table will give us these offsets. However, nowhere is the <em>size</em> of each glyph’s data given explicitly in the font. Instead, the size of each glyph’s data is implicitly given by the difference with the starting offset of the <em>next</em> glyph.</p>
<p>The intrepid font parser will quickly notice that some glyph descriptions appear to have <em>no</em> size. This is intentional: some glyphs, such as the one corresponding to the space character, have no visible manifestation aside from the negative space they occupy. When the renderer tries to draw one of these zero-sized glyphs, we’ll just advance the cursor based on the corresponding <code>htmx</code> size for this glyph.</p>
<p>We’ve actually got three distinct types of glyphs:</p>
<ul>
<li><em>Polygon</em> glyphs
<ul>
<li>These glyphs are the classic case, an ordered connection of edge points and control points that should be connected in a series of curves.</li>
</ul>
</li>
<li><em>Blank</em> glyphs
<ul>
<li>Special case for glyphs such as those corresponding to the space character.</li>
</ul>
</li>
<li><em>Compound</em> glyphs
<ul>
<li>Glyphs manufactured by combining and scaling other glyphs.</li>
</ul>
</li>
</ul>
<p>The third category is really interesting! The glyphs for <code>i</code> and <code>j</code> both share an identical dot on top, and there’s no need to duplicate its description in the draw instructions. Instead, we can just say that <code>i</code> and <code>j</code> are each composed of a couple of glyph fragments laid out on the canvas at specific scales and positions.</p>
<figure><img src="https://axleos.com/writing-a-truetype-font-renderer/compound_glyphs.png" width="100%">
</figure>
<p>There are all sorts of counterintuitive edge cases with compound glyphs. As an example, we know that traditional polygon glyphs specify how far the cursor should advance after drawing them via corresponding entries in the <code>hmtx</code> and <code>vmtx</code> tables. However, how far should the cursor advance for a compound glyph? Sometimes the compound glyph has its own metrics table entries, and sometimes the compound glyph is annotated with a special flag indicating that it should take its cursor advance metrics from a specific child glyph.</p>
<div onclick="window.open(&quot;https://github.com/codyd51/axle/blob/paging-demo/rust_programs/ttf_renderer/src/glyphs.rs#L218-L229&quot;, '_blank');">
<p><code>rust_programs/ttf_renderer/src/glyph.rs</code></p>

<div><pre tabindex="0"><code data-lang="rust"><span><span><span>enum</span> <span>CompoundGlyphComponentFlag</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>HeaderValuesAreWords</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>HeaderValuesAreCoordinates</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>RoundCoordinatesToGrid</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>CustomScale</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>MoreComponentsFollow</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>HasDifferentScalesForXAndY</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>HasTwoByTwoTransformation</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>HasInstructions</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>UseMetricsFromThisComponent</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>ComponentsOverlap</span><span>,</span><span>
</span></span></span><span><span><span></span><span>}</span></span></span></code></pre></div>
</div>
<p>Compound glyphs don’t always directly contain polygon glyphs. Instead, a compound glyph can be composed of a tree of other compound glyphs, all stretched and scaled and repositioned across the bounding box.</p>
<h2 id="hinting">Hinting</h2>
<p>TrueType famously defines a hinting VM that’s intended to help retain the essence of a font when rendering at low resolutions to a limited pixel grid. The job of the program running under this VM is to nudge the glyph’s control points into a specific layout on low-resolution bitmaps✱.</p>
<div>

<p>
There’s an interesting inversion here. The job of this hinting program is to <em>keep</em> the visual appeal of the font, but it accomplishes this by <em>intentionally distorting</em> the proportions of each glyph.
</p>
</div>
<p>Let’s say you’re trying to scale down a glyph’s points to fit on a small grid. If the render resolution isn’t exactly divisible by the glyph’s point spacing, you’re going to get scaling artifacts when you round each glyph point to a pixel.</p>
<table>
<tbody><tr>
<th>
<img src="https://axleos.com/writing-a-truetype-font-renderer/e_points.png">
</th>
<th>
<img src="https://axleos.com/writing-a-truetype-font-renderer/e_snapped.png">
</th>
</tr>
</tbody></table>
<p>The font can embed a little program that, when executed, nudges the glyph’s layout points to better represent the glyph within the available grid.</p>
<table>
<tbody><tr>
<th>
<img src="https://axleos.com/writing-a-truetype-font-renderer/e_nudges2.png">
</th>
<th>
<img src="https://axleos.com/writing-a-truetype-font-renderer/e_final_result.png">
</th>
</tr>
</tbody></table>
<p>Our renderer will need to implement this VM, which is always a fun endeavor.</p>
<p>The hinting VM is built around a standard (and incredibly satisfying) interpreter loop that modifies a virtual machine state based on the operations indicated by the byte stream:</p>
<div onclick="window.open(&quot;https://github.com/codyd51/axle/blob/paging-demo/rust_programs/ttf_renderer/src/hints.rs#L470-L497&quot;, '_blank');">
<p><code>rust_programs/ttf_renderer/src/hints.rs</code></p>

<div><pre tabindex="0"><code data-lang="rust"><span><span><span>0x4b</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>// Measure pixels per em in the projection vector's axis
</span></span></span><span><span><span></span><span>    </span><span>if</span><span> </span><span>operations</span><span>.</span><span>should_print</span><span>()</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>println!</span><span>(</span><span>
</span></span></span><span><span><span>            </span><span>"MPPEM</span><span>\t</span><span>Measure pixels per em in </span><span>{:?}</span><span>"</span><span>,</span><span>
</span></span></span><span><span><span>            </span><span>graphics_state</span><span>.</span><span>projection_vector</span><span>
</span></span></span><span><span><span>        </span><span>);</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span>    </span><span>if</span><span> </span><span>operations</span><span>.</span><span>should_execute</span><span>()</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>let</span><span> </span><span>val</span><span> </span><span>=</span><span> </span><span>match</span><span> </span><span>graphics_state</span><span>.</span><span>projection_vector</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>            </span><span>Axis</span>::<span>X</span><span> </span><span>=&gt;</span><span> </span><span>graphics_state</span><span>.</span><span>font_size</span><span>.</span><span>width</span><span>,</span><span>
</span></span></span><span><span><span>            </span><span>Axis</span>::<span>Y</span><span> </span><span>=&gt;</span><span> </span><span>graphics_state</span><span>.</span><span>font_size</span><span>.</span><span>height</span><span>,</span><span>
</span></span></span><span><span><span>        </span><span>};</span><span>
</span></span></span><span><span><span>        </span><span>graphics_state</span><span>.</span><span>push</span><span>(</span><span>val</span><span> </span><span>as</span><span> </span><span>u32</span><span>);</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span><span><span><span></span><span>0x50</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>// Less than
</span></span></span><span><span><span></span><span>    </span><span>let</span><span> </span><span>e2</span><span> </span><span>=</span><span> </span><span>graphics_state</span><span>.</span><span>pop</span><span>();</span><span>
</span></span></span><span><span><span>    </span><span>let</span><span> </span><span>e1</span><span> </span><span>=</span><span> </span><span>graphics_state</span><span>.</span><span>pop</span><span>();</span><span>
</span></span></span><span><span><span>    </span><span>let</span><span> </span><span>result</span><span> </span><span>=</span><span> </span><span>e1</span><span> </span><span>&lt;</span><span> </span><span>e2</span><span>;</span><span>
</span></span></span><span><span><span>    </span><span>if</span><span> </span><span>operations</span><span>.</span><span>should_print</span><span>()</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>println!</span><span>(</span><span>"LT</span><span>\t</span><span>Less than? </span><span>{e1}</span><span> &lt; </span><span>{e2}</span><span> = </span><span>{result}</span><span>"</span><span>);</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span>    </span><span>if</span><span> </span><span>operations</span><span>.</span><span>should_execute</span><span>()</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>graphics_state</span><span>.</span><span>push</span><span>(</span><span>if</span><span> </span><span>result</span><span> </span><span>{</span><span> </span><span>1</span><span> </span><span>}</span><span> </span><span>else</span><span> </span><span>{</span><span> </span><span>0</span><span> </span><span>});</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span></span><span>}</span></span></span></code></pre></div>
</div>
<p>There a slew of hilarious little engineering challenges that come up when trying to execute functions targeting a font’s operating environment.</p>
<div onclick="window.open(&quot;https://github.com/codyd51/axle/blob/paging-demo/rust_programs/ttf_renderer/src/hints.rs#L303-L310&quot;, '_blank');">
<p><code>rust_programs/ttf_renderer/src/hints.rs</code></p>

<div><pre tabindex="0"><code data-lang="rust"><span><span><span>pub</span><span>(</span><span>crate</span><span>)</span><span> </span><span>fn</span> <span>identify_functions</span><span>(</span><span>instructions</span>: <span>&amp;</span><span>[</span><span>u8</span><span>])</span><span> </span>-&gt; <span>Vec</span><span>&lt;</span><span>FunctionDefinition</span><span>&gt;</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>// We have a bootstrapping problem: Functions can't be run to 
</span></span></span><span><span><span></span><span>    </span><span>// completion without the context (arguments, etc.) from the caller, but we need to 
</span></span></span><span><span><span></span><span>    </span><span>// parse function boundaries before we can run callers since callers address functions via 
</span></span></span><span><span><span></span><span>    </span><span>// identifiers that get created when the fpgm table is executed.
</span></span></span><span><span><span></span><span>    </span><span>// To resolve this circular dependency, we use a simple heuristic to identify function 
</span></span></span><span><span><span></span><span>    </span><span>// definitions, rather than doing a full interpreter pass. 
</span></span></span><span><span><span></span><span>    </span><span>// This has the downside that our heuristic can't tell the
</span></span></span><span><span><span></span><span>    </span><span>// difference between code and data. 
</span></span></span><span><span><span></span><span>    </span><span>// If some data is pushed to the stack with the same value as the
</span></span></span><span><span><span></span><span>    </span><span>// function definition opcode, we may interpret it as a function definition.
</span></span></span><span><span><span></span><span>    </span><span>//
</span></span></span><span><span><span></span><span>    </span><span>// ...
</span></span></span><span><span><span></span><span>}</span></span></span></code></pre></div>
</div>
<h2 id="truetype-quirks">TrueType Quirks</h2>
<h3 id="occult-memorabilia">Occult Memorabilia</h3>
<p>The hinting VM is all about nudging the glyph’s outline points so that they look better on a small pixel grid. All of these points that actually compose a part of the glyph outline are in the ‘Glyph Zone’.</p>
<p>However, the VM designers realized that it was sometimes useful to have a point that wasn’t really part of the outline, but was just used as a reference when doing distance calculations. These points don’t belong in the Glyph Zone, so instead TrueType places them in a different space called… the <a href="https://developer.apple.com/fonts/TrueType-Reference-Manual/RM05/Chap5.html#SZP0">Twilight Zone</a>.</p>
<p>The TrueType designers were clearly fans of the paranormal. TrueType provides convenient support for describing emboldened and italicized versions of fonts by embedding offsets to apply to each point in a glyph outline. A font variation might need the entire bounding box of a glyph to be modified too, so there are <a href="https://learn.microsoft.com/en-us/typography/opentype/spec/tt_instructing_glyphs#phantom-points">‘phantom points’</a> corresponding to the corners of the bounding box that can be stretched and squeezed.</p>
<h3 id="implied-control-points">Implied Control Points</h3>
<p>The TrueType specification suggests to the reader, hey! Maybe it’d be possible to save space by letting the renderer deduce missing control points?</p>
<img src="https://axleos.com/writing-a-truetype-font-renderer/implied_on_curve_points.png">
<p>Despite the casual tone of observation, renderers are actually required to support this. Fonts rely on this all the time! This is the only mention of it in the whole spec! Everyone needs to detect and insert implied control points, all on the back of one introductory diagram.</p>
<h3 id="hint-assume-nothing">Hint: Assume Nothing</h3>
<p>Like we’ve seen, TrueType has sophisticated support for manipulating the rendering process in constrained font sizes. But like any good programming environment, it also provides lots of escape hatches. One such escape hatch is the <code>bloc</code> table, which essentially says “if the font size is too small, ignore the glyph curves and hinting programs and just render these tiny bitmaps instead.”</p>
<h2 id="firming-up-a-renderer">Firming Up a Renderer</h2>
<p>There’s still work to do to integrate this font renderer neatly in all the stacks that wind up displaying text on axle’s desktop, but the foundations are ready. Here’s what things looked like the last time I worked on propagating TrueType throughout the desktop.</p>
<p><img src="https://axleos.com/writing-a-truetype-font-renderer/log23.png">
</p>
<p>The source code for this renderer is <a href="https://github.com/codyd51/axle/tree/9d83c62eaad9dd0850bb7fe3641bd2821e5b84b0/rust_programs/ttf_renderer/src">here</a>. Below are some screenshots from the course of this renderer’s development.</p>
<p><img src="https://axleos.com/writing-a-truetype-font-renderer/log5.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log8.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log9.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log10.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log11.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log12.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log13.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log14.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log15.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log16.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log17.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log18.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log19.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log20.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log21.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log22.png">
<img src="https://axleos.com/writing-a-truetype-font-renderer/log24.png">
</p>
</content>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A* tricks for videogame path finding (194 pts)]]></title>
            <link>https://timmastny.com/blog/a-star-tricks-for-videogame-path-finding/</link>
            <guid>38833658</guid>
            <pubDate>Mon, 01 Jan 2024 17:52:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://timmastny.com/blog/a-star-tricks-for-videogame-path-finding/">https://timmastny.com/blog/a-star-tricks-for-videogame-path-finding/</a>, See on <a href="https://news.ycombinator.com/item?id=38833658">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>


<div id="TOC">
<ul>
<li><a href="#linear-pathing" id="toc-linear-pathing">Linear Pathing</a></li>
<li><a href="#dijkstras-algorithm" id="toc-dijkstras-algorithm">Dijkstra’s Algorithm</a></li>
<li><a href="#a-search-algorithm" id="toc-a-search-algorithm">A* Search Algorithm</a></li>
<li><a href="#a-tricks" id="toc-a-tricks">A* Tricks</a>
<ul>
<li><a href="#implicit-graph-data-structure" id="toc-implicit-graph-data-structure">Implicit Graph Data Structure</a></li>
<li><a href="#geometry-informed-heuristics" id="toc-geometry-informed-heuristics">Geometry Informed Heuristics</a></li>
</ul></li>
</ul>
</div>

<p>My wife and I decided to make an 8-bit, top-down, Zelda-like game written
for the <a href="https://github.com/15-466/15-466-f23-base1">PPU466</a>
(from <a href="http://graphics.cs.cmu.edu/courses/15-466-f23/">CMU 15-466 Computer Game Programming</a> course).
The PPU466 is a graphics API kind of like the <a href="https://www.lexaloffle.com/pico-8.php">PICO-8</a>
fantasy console, in the sense that it’s restricted to 8-bit graphics,
4 colors per tile, fixed backgrounds, and a low number of sprites.</p>
<p>As a part of the game, I wanted our monsters to chase the player.
So I spent some time exploring and implementing different pathing techniques and
I wanted to share what I discovered, especially some fun A* tricks
not covered by Wikipedia.</p>
<div id="linear-pathing">
<h2>Linear Pathing</h2>
<p>Let’s start with the most basic pathing: draw
a straight line between the monster and the player
and have the monster go in that direction.</p>
<p><img src="https://timmastny.com/blog/a-star-tricks-for-videogame-path-finding/linear-basic.gif"></p>
<p>Everything is great until the monster hits a wall
and then it stops dead. You can fix this particular issue
with <strong>wall-sliding</strong>: instead of stopping when you hit a wall,
you move along the wall.</p>
<p><img src="https://timmastny.com/blog/a-star-tricks-for-videogame-path-finding/linear-wall-slide.gif"></p>
<p>This approach works surprisingly well for pathing,
but it really shines for player movement.
Nearly every game uses this technique for player movement
(and have since Pac-Man) because it makes movement controls more responsive
near walls and edges.
(Pac-Man Championship Edition DX+ adds
sparks when the player wall-slides which is really cool)</p>
<p>One side-effect of wall-sliding in linear pathing is monster trapping:</p>
<p><img src="https://timmastny.com/blog/a-star-tricks-for-videogame-path-finding/linear-wall-slide-trap.gif"></p>
<p>This is not necessarily as bad as it looks. Many
games even use this as a feature, adding monster
trapping as a strategic element (e.g.&nbsp;<a href="https://oldschool.runescape.wiki/w/Safespot">safespotting</a>
in Runescape).
But this isn’t what I wanted for our game, so I looked
into true path-finding algorithms.</p>
</div>
<div id="dijkstras-algorithm">
<h2>Dijkstra’s Algorithm</h2>
<p>This is the algorithm everyone learns in school.
It’s straightforward to implement and
it’s guaranteed to find the shortest path.
But the problem is that it does too much work:
for the starting node, it finds the shortest
path to every other node in the graph. You can
stop once you find your destination node,
but there’s no way to direct the algorithm
to make progress towards that node in particular.
And in a videogame, the monster’s destination
changes every frame as the player moves!
And really, the monster doesn’t even need the full
path: it just needs to know which direction to go.</p>
<p>You could pre-compute the shortest path for every
pixel or tile on your map, but that’s a lot of
memory.</p>
<p>So if you are designing your game to run on a legacy
or resource-constrained platform, Dijkstra’s isn’t
going to work.</p>
<p>Luckily there’s a better way.</p>
</div>
<div id="a-search-algorithm">
<h2>A* Search Algorithm</h2>
<p>Wikipedia has an in-depth overview of the
<a href="https://en.wikipedia.org/wiki/A*_search_algorithm">algorithm</a>
(and a really nice <a href="https://en.wikipedia.org/wiki/A*_search_algorithm#/media/File:Weighted_A_star_with_eps_5.gif">animation</a>
showing how it works), so I’ll just share my intution
for how it works.</p>
<p>First, steps are weighted by the distance of the starting
node to the destination now. This means the algorithm
starts by trying to go in a straight line to the destination.
Unlike Dijkstra’s, it won’t waste a bunch of time going
in the opposite direction (unless it has to).</p>
<p>Second, if a wall is blocking the path, it will start
investigating nearby nodes to try to get around the wall.
And most importantly, it won’t get stuck:
like Dijkstra, it won’t revisit node’s it’s already seen,
so it will eventually find a way to get around the way,
even it has to backtrack a lot.</p>
<p>Here’s the algorithm in action:</p>
<p><img src="https://timmastny.com/blog/a-star-tricks-for-videogame-path-finding/a-star.gif"></p>
<p>Note that the monster does <em>not</em> get stuck behind the wall.</p>
</div>
<div id="a-tricks">
<h2>A* Tricks</h2>
<p>Here’s a few tricks to make the algorithm faster
and easier to implement.</p>
<div id="implicit-graph-data-structure">
<h3>Implicit Graph Data Structure</h3>
<p>In textbooks, graphs are represented by a list of nodes
and an adjacency matrix or adjacency list. But you can be
a little more flexible about representing adjacency nodes.</p>
<p>For example, let’s say our game screen has 256 * 240 pixels.
We’ll call the coordinates of each pixel a node. Then we can say
there are 8 adjacent pixels: up, down, left, right, and
the 4 diagonals. The cardinal directions have a weight of 1,
while the diagonals have a weight of the square root of 2 (~1.4).</p>
<p>We don’t need to create a huge adjacency list: we can
generate it on the fly. Moreover, not every pixel
is a valid position for the monster: it might be on a wall
or occupied by another sprite. In that case, we can
dynamically exclude that pixel from the adjacency list.</p>
<p>Here’s how this might look:</p>
<pre><code># suppose current is some data structure with x and y coordinates
neighbors = [current + dir for dir in [(-1, 0), (1, 0), (0, -1), (0, 1), (-1, -1), (-1, 1), (1, -1), (1, 1)]]

for neighbor in neighbors:
    if out_of_bounds(neighbor) or occupied(neighbor):
        continue
    # do something with neighbor</code></pre>
<p>So we only need to generate the adjacency list for the nodes
we are actually going to visit, and we don’t have to manually
exclude adjacent nodes with a map editor.</p>
</div>
<div id="geometry-informed-heuristics">
<h3>Geometry Informed Heuristics</h3>
<p>You can also manually tune aspects of the algorithm
based on the geometry of your map.</p>
<div id="step-size">
<h4>Step size</h4>
<p>Above I talked about using the pixels as nodes, but in a 2d
tile based game, you can use the tiles as nodes. This speeds
up the search dramatically, since the monster can find a path
to the player in fewer iterations.</p>
<p>With this method, the path really isn’t an exact sequence of
steps: your monster likely isn’t moving at a speed of
1 tile per frame. Now the path is a series of <em>directions</em> the monster should go.<a href="#fn1" id="fnref1"><sup>1</sup></a></p>
<p>And that’s okay! As I said in the Dijkstra section,
our monster doesn’t actually care about the exact path,
which is changing each frame as the player moves. It just needs
to move in a direction that could possibly reach the player
(i.e.&nbsp;not straight into a wall).</p>
</div>
<div id="iteration-depth">
<h4>Iteration depth</h4>
<p>One cool feature about A*: once a node comes off
the priority queue, we know that that node represents
the last step in the best path we’ve seen so far.
Therefore, if we stopped the algorithm at some fixed number of
iterations, we would know that the resulting path
is our best guess for the shortest path to the destination.
So we can get reasonable progress without the running the algorithm
to completion.</p>
<p>You need to tune this maximum iteration depth to the geometry of the level.
For example, if the depth is too small you can still
have monsters get stuck behind a wall:</p>
<p><img src="https://timmastny.com/blog/a-star-tricks-for-videogame-path-finding/a-star-depth.gif"></p>
<p>With a fixed iteration depth of 30 tiles, we can position the player
so the monster gets traps and can’t make progress towards the player.
How does this happen? Remember that A* is recomputed each frame.
On the first frame once reaching the wall, the monster calculates that it should move down.
But on the next frame, it calculates that it should move up.
This casuses the monster to get stuck in a loop.
However, as soon as the player moves into it’s range,
the monster is able to correctly find a path to the player.</p>
<p>You can see this effect exaggerated with a fixed depth of <code>1</code>:</p>
<pre><code>   frame 1    frame 2

4
3     | .        | m
2   p | m      p | .
1     |          |
0</code></pre>
<p>The monster always returns to pxiel 2 because it’s the shortest
(Euclidean) distance to the player.</p>
<p>If you wanted to be really fancy, you could pre-compute
the maximum depth A* needs to find a path from any position
on the map.
Unlike the pre-computed Dijkstra, you only have to
save that maximum, since you know A* will find a valid path
in real time, given that maximum depth.</p>
</div>
</div>
</div>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fish shell 3.7.0 released, the last release branch before the full Rust rewrite (113 pts)]]></title>
            <link>https://github.com/fish-shell/fish-shell/releases/tag/3.7.0</link>
            <guid>38833609</guid>
            <pubDate>Mon, 01 Jan 2024 17:46:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/fish-shell/fish-shell/releases/tag/3.7.0">https://github.com/fish-shell/fish-shell/releases/tag/3.7.0</a>, See on <a href="https://news.ycombinator.com/item?id=38833609">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-pjax="true" data-test-selector="body-content" data-view-component="true"><p>This release of fish includes a number of improvements over fish 3.6.4, detailed below. Although work continues on the porting of fish internals to the Rust programming language, that work is not included in this release. fish 3.7.0 and any future releases in the 3.7 series remain C++ programs.</p>
<h2>Notable improvements and fixes</h2>
<ul>
<li>Improvements to the history pager, including:
<ul>
<li>The history pager will now also attempt subsequence matches (<a href="https://github.com/fish-shell/fish-shell/issues/9476" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9476/hovercard">#9476</a>), so you can find a command line like <code>git log 3.6.1..Integration_3.7.0</code> by searching for <code>gitInt</code>.</li>
<li>Opening the history pager will now fill the search field with a search string if you’re already in a search (<a href="https://github.com/fish-shell/fish-shell/issues/10005" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10005/hovercard">#10005</a>). This makes it nicer to search something with <code>↑</code> and then later decide to switch to the full pager.</li>
<li>Closing the history pager with enter will now copy the search text to the commandline if there was no match, so you can continue editing the command you tried to find right away (<a href="https://github.com/fish-shell/fish-shell/issues/9934" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9934/hovercard">#9934</a>).</li>
</ul>
</li>
<li>Performance improvements for command completions and globbing, where supported by the operating system, especially on slow filesystems such as NFS (<a href="https://github.com/fish-shell/fish-shell/issues/9891" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9891/hovercard">#9891</a>, <a href="https://github.com/fish-shell/fish-shell/issues/9931" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9931/hovercard">#9931</a>, <a href="https://github.com/fish-shell/fish-shell/issues/10032" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10032/hovercard">#10032</a>, <a href="https://github.com/fish-shell/fish-shell/issues/10052" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10052/hovercard">#10052</a>).</li>
<li>fish can now be configured to wait a specified amount of time for a multi-key sequence to be completed,  instead of waiting indefinitely. For example, this makes binding <code>kj</code> to switching modes in vi mode possible.<br>
The timeout can be set via the new <code>fish_sequence_key_delay_ms</code> variable (<a href="https://github.com/fish-shell/fish-shell/issues/7401" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/7401/hovercard">#7401</a>), and may be set by default in future versions.</li>
</ul>
<h2>Deprecations and removed features</h2>
<ul>
<li><code>LS_COLORS</code> is no longer set automatically by the <code>ls</code> function (<a href="https://github.com/fish-shell/fish-shell/issues/10080" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/10080/hovercard">#10080</a>). Users<br>
that set <code>.dircolors</code> should manually import it using other means. Typically this would be <code>set -gx LS_COLORS (dircolors -c .dircolors | string split ' ')[3]</code></li>
</ul>
<h2>Scripting improvements</h2>
<ul>
<li>Running <code>exit</code> with a negative number no longer crashes fish (<a href="https://github.com/fish-shell/fish-shell/issues/9659" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9659/hovercard">#9659</a>).</li>
<li><code>fish --command</code> will now return a non-zero status if parsing failed (<a href="https://github.com/fish-shell/fish-shell/issues/9888" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9888/hovercard">#9888</a>).</li>
<li>The <code>jobs</code> builtin will now escape the commands it prints (<a href="https://github.com/fish-shell/fish-shell/issues/9808" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9808/hovercard">#9808</a>).</li>
<li><code>string repeat</code> no longer overflows if the count is a multiple of the chunk size (<a href="https://github.com/fish-shell/fish-shell/issues/9900" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9900/hovercard">#9900</a>).</li>
<li>The <code>builtin</code> builtin will now properly error out with invalid arguments instead of doing nothing and returning true (<a href="https://github.com/fish-shell/fish-shell/issues/9942" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9942/hovercard">#9942</a>).</li>
<li><code>command time</code> in a pipeline is allowed again, as is <code>command and</code> and <code>command or</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9985" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9985/hovercard">#9985</a>).</li>
<li><code>exec</code> will now also apply variable overrides, so <code>FOO=bar exec</code> will now set <code>$FOO</code> correctly (<a href="https://github.com/fish-shell/fish-shell/issues/9995" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9995/hovercard">#9995</a>).</li>
<li><code>umask</code> will now handle empty symbolic modes correctly, like <code>umask u=,g=rwx,o=</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10177" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/10177/hovercard">#10177</a>).</li>
<li>Improved error messages for errors occurring in command substitutions (<a href="https://github.com/fish-shell/fish-shell/issues/10054" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10054/hovercard">#10054</a>).</li>
</ul>
<h2>Interactive improvements</h2>
<ul>
<li><code>read</code> no longer enables bracketed paste so it doesn’t stay enabled in combined commandlines like <code>mysql -p(read --silent)</code> (<a href="https://github.com/fish-shell/fish-shell/issues/8285" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/8285/hovercard">#8285</a>).</li>
<li>Vi mode now uses <code>fish_cursor_external</code> to set the cursor shape for external commands (<a href="https://github.com/fish-shell/fish-shell/issues/4656" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/4656/hovercard">#4656</a>).</li>
<li>Opening the history search in vi mode switches to insert mode correctly (<a href="https://github.com/fish-shell/fish-shell/issues/10141" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/10141/hovercard">#10141</a>).</li>
<li>Vi mode cursor shaping is now enabled in iTerm2 (<a href="https://github.com/fish-shell/fish-shell/issues/9698" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9698/hovercard">#9698</a>).</li>
<li>Working directory reporting is enabled for iTerm2 (<a href="https://github.com/fish-shell/fish-shell/issues/9955" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9955/hovercard">#9955</a>).</li>
<li>Completing commands as root includes commands not owned by root, fixing a regression introduced in fish 3.2.0 (<a href="https://github.com/fish-shell/fish-shell/issues/9699" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9699/hovercard">#9699</a>).</li>
<li>Selection uses <code>fish_color_selection</code> for the foreground and background colors, as intended, rather than just the background (<a href="https://github.com/fish-shell/fish-shell/issues/9717" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9717/hovercard">#9717</a>).</li>
<li>The completion pager will no longer sometimes skip the last entry when moving through a long list (<a href="https://github.com/fish-shell/fish-shell/issues/9833" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9833/hovercard">#9833</a>).</li>
<li>The interactive <code>history delete</code> interface now allows specifying index ranges like “1..5” (<a href="https://github.com/fish-shell/fish-shell/issues/9736" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9736/hovercard">#9736</a>), and <code>history delete --exact</code> now properly saves the history (<a href="https://github.com/fish-shell/fish-shell/issues/10066" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/10066/hovercard">#10066</a>).</li>
<li>Command completion will now call the stock <code>manpath</code> on macOS, instead of a potential Homebrew version. This prevents awkward error messages (<a href="https://github.com/fish-shell/fish-shell/issues/9817" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9817/hovercard">#9817</a>).</li>
<li>A new bind function <code>history-pager-delete</code>, bound to <code>Shift</code> + <code>Delete</code> by default, will delete the currently-selected history pager item from history (<a href="https://github.com/fish-shell/fish-shell/issues/9454" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9454/hovercard">#9454</a>).</li>
<li><code>fish_key_reader</code> will now use printable characters as-is, so pressing “ö” no longer leads to it telling you to bind <code>\\u00F6</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9986" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9986/hovercard">#9986</a>).</li>
<li><code>open</code> can be used to launch terminal programs again, as an <code>xdg-open</code> bug has been fixed and a workaround has been removed  (<a href="https://github.com/fish-shell/fish-shell/issues/10045" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/10045/hovercard">#10045</a>).</li>
<li>The <code>repaint-mode</code> binding will now only move the cursor if there is repainting to be done. This fixes <code>Alt</code> combination bindings in vi mode (<a href="https://github.com/fish-shell/fish-shell/issues/7910" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/7910/hovercard">#7910</a>).</li>
<li>A new <code>clear-screen</code> bind function is used for <code>Ctrl</code> + <code>l</code> by default. This clears the screen and repaints the existing prompt at first,<br>
so it eliminates visible flicker unless the terminal is very slow (<a href="https://github.com/fish-shell/fish-shell/issues/10044" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10044/hovercard">#10044</a>).</li>
<li>The <code>alias</code> convenience function has better support for commands with unusual characters, like <code>+</code> (<a href="https://github.com/fish-shell/fish-shell/issues/8720" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/8720/hovercard">#8720</a>).</li>
<li>A longstanding issue where items in the pager would sometimes display without proper formatting has been fixed (<a href="https://github.com/fish-shell/fish-shell/issues/9617" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9617/hovercard">#9617</a>).</li>
<li>The <code>Alt</code> + <code>l</code> binding, which lists the directory of the token under the cursor, correctly expands tilde (<code>~</code>) to the home directory (<a href="https://github.com/fish-shell/fish-shell/issues/9954" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9954/hovercard">#9954</a>).</li>
<li>Various fish utilities that use an external pager will now try a selection of common pagers if the <code>PAGER</code> environment variable is not set, or write the output to the screen without a pager if there is not one available (<a href="https://github.com/fish-shell/fish-shell/issues/10074" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/10074/hovercard">#10074</a>).</li>
<li>Command-specific tab completions may now offer results whose first character is a period. For example, it is now possible to tab-complete <code>git add</code> for files with leading periods. The default file completions hide these files, unless the token itself has a leading period (<a href="https://github.com/fish-shell/fish-shell/issues/3707" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/3707/hovercard">#3707</a>).</li>
</ul>
<h3>Improved prompts</h3>
<ul>
<li>The default theme now only uses named colors, so it will track the terminal’s palette (<a href="https://github.com/fish-shell/fish-shell/issues/9913" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9913/hovercard">#9913</a>).</li>
<li>The Dracula theme has now been synced with upstream (<a href="https://github.com/fish-shell/fish-shell/issues/9807" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9807/hovercard">#9807</a>); use <code>fish_config</code> to re-apply it to pick up the changes.</li>
<li><code>fish_vcs_prompt</code> now also supports fossil (<a href="https://github.com/fish-shell/fish-shell/issues/9497" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9497/hovercard">#9497</a>).</li>
<li>Prompts which display the working directory using the <code>prompt_pwd</code> function correctly display directories beginning with dashes (<a href="https://github.com/fish-shell/fish-shell/issues/10169" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/10169/hovercard">#10169</a>).</li>
</ul>
<h3>Completions</h3>
<ul>
<li>Added completions for:
<ul>
<li><code>age</code> and <code>age-keygen</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9813" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9813/hovercard">#9813</a>)</li>
<li><code>airmon-ng</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10116" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10116/hovercard">#10116</a>)</li>
<li><code>ar</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9720" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9720/hovercard">#9720</a>)</li>
<li><code>blender</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9905" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9905/hovercard">#9905</a>)</li>
<li><code>bws</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10165" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10165/hovercard">#10165</a>)</li>
<li><code>calendar</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10138" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10138/hovercard">#10138</a>)</li>
<li><code>checkinstall</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10106" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10106/hovercard">#10106</a>)</li>
<li><code>crc</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10034" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10034/hovercard">#10034</a>)</li>
<li><code>doctl</code></li>
<li><code>gimp</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9904" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9904/hovercard">#9904</a>)</li>
<li><code>gojq</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9740" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9740/hovercard">#9740</a>)</li>
<li><code>horcrux</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9922" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9922/hovercard">#9922</a>)</li>
<li><code>ibmcloud</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10004" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10004/hovercard">#10004</a>)</li>
<li><code>iwctl</code> (<a href="https://github.com/fish-shell/fish-shell/issues/6884" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/6884/hovercard">#6884</a>)</li>
<li><code>java_home</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9998" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9998/hovercard">#9998</a>)</li>
<li><code>krita</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9903" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9903/hovercard">#9903</a>)</li>
<li><code>oc</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10034" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10034/hovercard">#10034</a>)</li>
<li><code>qjs</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9723" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9723/hovercard">#9723</a>)</li>
<li><code>qjsc</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9731" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9731/hovercard">#9731</a>)</li>
<li><code>rename</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10136" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10136/hovercard">#10136</a>)</li>
<li><code>rpm-ostool</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9669" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9669/hovercard">#9669</a>)</li>
<li><code>smerge</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10135" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10135/hovercard">#10135</a>)</li>
<li><code>userdel</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10056" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10056/hovercard">#10056</a>)</li>
<li><code>watchexec</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10027" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10027/hovercard">#10027</a>)</li>
<li><code>wpctl</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10043" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10043/hovercard">#10043</a>)</li>
<li><code>xxd</code> (<a href="https://github.com/fish-shell/fish-shell/issues/10137" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10137/hovercard">#10137</a>)</li>
<li><code>zabbix</code> (<a href="https://github.com/fish-shell/fish-shell/issues/9647" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9647/hovercard">#9647</a>)</li>
</ul>
</li>
<li>The <code>zfs</code> completions no longer print errors about setting a read-only variable (<a href="https://github.com/fish-shell/fish-shell/issues/9705" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9705/hovercard">#9705</a>).</li>
<li>The <code>kitty</code> completions have been removed in favor of keeping them upstream (<a href="https://github.com/fish-shell/fish-shell/issues/9750" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9750/hovercard">#9750</a>).</li>
<li><code>git</code> completions now support aliases that reference other aliases (<a href="https://github.com/fish-shell/fish-shell/issues/9992" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9992/hovercard">#9992</a>).</li>
<li>The <code>gw</code> and <code>gradlew</code> completions are loaded properly (<a href="https://github.com/fish-shell/fish-shell/issues/10127" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/10127/hovercard">#10127</a>).</li>
<li>Improvements to many other completions.</li>
<li>Improvements to the manual page completion generator (<a href="https://github.com/fish-shell/fish-shell/issues/9787" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9787/hovercard">#9787</a>, <a href="https://github.com/fish-shell/fish-shell/issues/9814" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/9814/hovercard">#9814</a>, <a href="https://github.com/fish-shell/fish-shell/issues/9961" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9961/hovercard">#9961</a>).</li>
</ul>
<h2>Other improvements</h2>
<ul>
<li>Improvements and corrections to the documentation.</li>
<li>The Web-based configuration now uses a more readable style when printed, such as for a keybinding reference (<a href="https://github.com/fish-shell/fish-shell/issues/9828" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9828/hovercard">#9828</a>).</li>
<li>Updates to the German translations (<a href="https://github.com/fish-shell/fish-shell/issues/9824" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9824/hovercard">#9824</a>).</li>
<li>The colors of the Nord theme better match their official style (<a href="https://github.com/fish-shell/fish-shell/issues/10168" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/10168/hovercard">#10168</a>).</li>
</ul>
<h2>For distributors</h2>
<ul>
<li>The licensing information for some of the derived code distributed with fish was incomplete. Though the license information was present in the source distribution, it was not present in the documentation. This has been corrected (<a href="https://github.com/fish-shell/fish-shell/issues/10162" data-hovercard-type="issue" data-hovercard-url="/fish-shell/fish-shell/issues/10162/hovercard">#10162</a>).</li>
<li>The CMake configure step will now also look for libterminfo as an alternative name for libtinfo, as used in NetBSD curses (<a href="https://github.com/fish-shell/fish-shell/issues/9794" data-hovercard-type="pull_request" data-hovercard-url="/fish-shell/fish-shell/pull/9794/hovercard">#9794</a>).</li>
</ul>
<hr>
<p><em>Download links: To download the source code for fish, we suggest the file named "fish-3.7.0.tar.xz". The file downloaded from "Source code (tar.gz)" will not build correctly. The SHA-256 sum of this file is <code>df1b7378b714f0690b285ed9e4e58afe270ac98dbc9ca5839589c1afcca33ab1</code>. A GPG signature from David Adam (key ID <code>0x7A67D962D88A709A</code>) is available as "fish-3.7.0.tar.xz.asc".</em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Woman plugging in electric car (1912) (271 pts)]]></title>
            <link>https://nyheritage.contentdm.oclc.org/digital/collection/p16694coll20/id/35/</link>
            <guid>38833497</guid>
            <pubDate>Mon, 01 Jan 2024 17:33:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nyheritage.contentdm.oclc.org/digital/collection/p16694coll20/id/35/">https://nyheritage.contentdm.oclc.org/digital/collection/p16694coll20/id/35/</a>, See on <a href="https://news.ycombinator.com/item?id=38833497">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[All DMCA Notices Filed Against TorrentFreak in 2023 Were Bogus (271 pts)]]></title>
            <link>https://torrentfreak.com/all-dmca-notices-filed-against-torrentfreak-in-2023-were-bogus-240101/</link>
            <guid>38833325</guid>
            <pubDate>Mon, 01 Jan 2024 17:09:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://torrentfreak.com/all-dmca-notices-filed-against-torrentfreak-in-2023-were-bogus-240101/">https://torrentfreak.com/all-dmca-notices-filed-against-torrentfreak-in-2023-were-bogus-240101/</a>, See on <a href="https://news.ycombinator.com/item?id=38833325">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p><a href="https://torrentfreak.com/images/tf-logo-1.png"><img decoding="async" src="https://torrentfreak.com/images/tf-logo-1.png" alt="" width="220" height="228" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20220%20228'%3E%3C/svg%3E" data-lazy-src="https://torrentfreak.com/images/tf-logo-1.png"></a>Any content creator who sees their work being used by unauthorized third-parties can file DMCA notices against platforms communicating that content to the public.</p>
<p>Platforms should respond by taking allegedly-infringing content down but in practice, some do and some don’t.</p>
<p>Full-blown pirate sites may not respond to notices at all for obvious reasons but some entirely legitimate platforms also refuse to comply in appropriate circumstances.</p>
<p>Google is one of those platforms and without the diligence of the Google Search team, at least 150 articles published on TorrentFreak.com would’ve been disappeared over the years due to bogus DMCA notices. We very much appreciate that first line of defense; since we don’t have to commit resources towards countering wrongful complaints, we can concentrate on our reporting.</p>
<p>To that end, today we can report that DMCA notices continued to be filed against us at Google, all of them demanding the deindexing of links to our news reports in Google search. We also received a few direct to us via email, more than usual in 2023. All complaints/takedown notices had something in common; 100% bogus, right across the board, and a complete waste of resources for everyone involved.</p>
<h2>New Year 2023: Peaceful for 19 Days</h2>
<p>By January 19, 2023, things were looking quite promising. No direct DMCA notices sent by email and no complaints sent to Google either, at least as far as we’re aware. On January 20, Google received a takedown demand to deindex from search results an article published <a href="https://torrentfreak.com/pikashow-police-arrest-student-after-free-piracy-app-drew-global-attention-230116/">just four days earlier</a>.</p>
<p>Due to the popularity of the software, we believed that the alleged operator of pirate app PikaShow being arrested in India was newsworthy. Sadly, India-based anti-piracy outfit Markscan (on behalf of Hotstar and/or rightsholder Novi Digital Entertainment Pvt. Ltd) decided that Google should deindex our work, as the <a href="https://lumendatabase.org/notices/30378466?access_token=HN_HoyqgRLRTwoYm7GZRTw">notice on Lumen Database reveals</a>.</p>
<center><em>One of these is not like the others</em><a href="https://torrentfreak.com/images/dont-show-pikashow.png"><img decoding="async" src="https://torrentfreak.com/images/dont-show-pikashow.png" alt="dont show pikashow" width="650" height="349" srcset="https://torrentfreak.com/images/dont-show-pikashow.png 780w, https://torrentfreak.com/images/dont-show-pikashow-300x161.png 300w" sizes="(max-width: 650px) 100vw, 650px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20650%20349'%3E%3C/svg%3E" data-lazy-srcset="https://torrentfreak.com/images/dont-show-pikashow.png 780w, https://torrentfreak.com/images/dont-show-pikashow-300x161.png 300w" data-lazy-src="https://torrentfreak.com/images/dont-show-pikashow.png"></a></center>
<p>Google’s transparency report indicates that the notice, which demanded the removal of 47 URLs, was <a href="https://transparencyreport.google.com/copyright/request/16623307">rejected in its entirety</a> but because we mentioned PikaShow by name, the takedown notices kept on coming.</p>
<p>On January 21, Markscan sent a <a href="https://lumendatabase.org/notices/30397450?access_token=DzavFq_lRqnaF9wy1CYxYA">substantially similar DMCA takedown notice</a> to Google, this time on behalf of the Disney+ Hotstar “over-the-top streaming service owned by Novi Digital Entertainment of Disney Star and operated by Disney Media and Entertainment Distribution, both divisions of The Walt Disney Company.” </p>
<p>Once again, the complaint demanded the removal of our article. The next day, January 22, Novi Digital Entertainment tried its hand with a <a href="https://lumendatabase.org/notices/30402098?access_token=JYkQJcNB9ev0QoiE0Vat5w">similar takedown notice</a> which targeted the same article once again. It enjoyed the same level of success as the first.</p>
<p>Inexplicably, on the very same day yet another anti-piracy company tried to remove exactly the same article but for different reasons. Working on behalf of Cricket Australia, India-based Copyright Integrity International <a href="https://lumendatabase.org/notices/30402079?access_token=fLswfqHiknCornwJxqTF-Q">claimed our article</a> was in direct violation of its client’s rights in content relating to cricket matches of the KFC Big Bash League.</p>
<p>There were no violations, obviously, but in the cut-and-thrust world of bulk URL disappearance, no one sends notices demanding that content stays up.</p>
<h2>Writing About House of the Dragon Infringes Warner Bros’ Rights</h2>
<p>On October 22, 2022, we <a href="https://torrentfreak.com/house-of-the-dragon-season-finale-leaks-early-on-pirate-sites-221021/">reported</a> that the season finale of HBO’s “House of the Dragon” had leaked online, two days ahead of its official premiere. </p>
<p>After almost two weeks of DMCA silence following the PikaShow debacle, the calm was interrupted by a new complaint from Markscan. Alongside demands to take down links to House of the Dragon episodes and season packs on various pirate sites, <a href="https://lumendatabase.org/notices/30597136?access_token=2pjtoeJ3o-Z8NYkHEVzRSg">this notice</a> informed Google that our report on the months-old leak infringed Warner’s copyrights. It didn’t in any way.</p>
<p>And then, adding insult to injury, Hotstar sent another DMCA takedown notice to Google, this time targeting a <a href="https://torrentfreak.com/anti-piracy-outfits-target-torrentfreak-in-pikashow-crackdown-230212/">different article</a> that also mentioned PikaShow; or ƿᵻꝄɅ§ƕɵꟺ for those who don’t want to be targeted by bogus notices seemingly reliant on basic keyword searches.</p>
<h2>Hey DMCA Bot: ████ █████████ ███████ ██ ██████████</h2>
<p>When anti-piracy companies target a platform directly, Google’s diligence doesn’t enter the equation. Any DMCA notices received must be treated as legal documents and responses must be governed accordingly. On April 3, 2023, we received an email from Turkey-based anti-piracy outfit DigiGuardians Inc. and since the title contained the words ‘Copyright Claim’ we immediately gave it our full attention.</p>
<blockquote><p><em>This is a notice in accordance with the Online Copyright Infringement Liability Limitation Act (OCILLA) a part of the Digital Millennium Copyright Act of 1998 requesting the service providers to be held strictly liable for the acts of their users &amp; immediately cease the access to copyrighted material. We have found an infringing material in your website which indeed is our movie ‘Güneşin Kızları’ released worldwide in 2015</em></p></blockquote>
<p>The notice listed three URLs which needed to be “disabled immediately” along with a statement that the “information in the notification is accurate.” Unfortunately, we were unable to comply with the takedown demands because the URLs provided were not for TorrentFreak.com but an entirely different domain that we’d never heard of, under someone else’s control. </p>
<p>We aren’t publishing the domain name here since it’s flagged as malicious by several security vendors and blocked by a laundry list of DNS providers. What we can confirm is that graphics from TF were used on this bogus platform to make it look like a news site, albeit one with our logo, authors’ names, and sundry other pieces of information removed.</p>
<p>Sixty-two minutes after receiving the takedown notice, a detailed report containing all necessary information to show why the notice shouldn’t have been sent to us, was sent back to DigiGuardians. We even included a screenshot and explanatory text using the most sophisticated font available today. </p>
<center><em>Ruthlessly ignored artwork<a href="https://torrentfreak.com/images/fake-TF.png"><img decoding="async" src="https://torrentfreak.com/images/fake-TF.png" alt="fake-TF" width="606" height="840" srcset="https://torrentfreak.com/images/fake-TF.png 606w, https://torrentfreak.com/images/fake-TF-300x416.png 300w" sizes="(max-width: 606px) 100vw, 606px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20606%20840'%3E%3C/svg%3E" data-lazy-srcset="https://torrentfreak.com/images/fake-TF.png 606w, https://torrentfreak.com/images/fake-TF-300x416.png 300w" data-lazy-src="https://torrentfreak.com/images/fake-TF.png"></a></em></center>
<p>We received no response to our detailed response addressing the bogus notice, which was also sent to a file-hosting platform that we’d never heard of, an email address listed in WHOIS records, and hosting company LeaseWeb, apparently.</p>
<h2>More DMCA Notices For Another Site</h2>
<p>On April 4, 2023, DigiGuardians sent another substantially similar DMCA takedown notice, with the domain name of the malicious site in the title, this time demanding the removal of 50 allegedly infringing URLs. Just seconds later we received yet another takedown notice demanding the removal of an additional 50 URLs, followed by another seconds after that containing a further 10 URLs.</p>
<p>“The information in the notification is accurate, and under penalty of perjury, that the complaining party is authorized to act on behalf of the owner of an exclusive right that is allegedly infringed,” the complaints added, pointlessly.</p>
<p>Then in the middle of October, DigiGuardians unexpectedly reached out, indicating they were interested in working with us to publish news on products or services, that type of thing. Nothing wrong with that of course but since TorrentFreak is a news site, we politely declined and said we’d happily take a look at anything newsworthy, should anything come up. </p>
<p>We also asked about the problematic takedown notices and noted that we’d be grateful if someone could fix the problem. Hard to say with 100% certainty that a bot responded, but the text seemed to assume we were interested in the offer. Sadly, it mentioned nothing about the copyright claims.</p>
<h2>Give That Bot a Slap</h2>
<p>After largely forgetting about the earlier run of nuisance, erroneous notices, on December 14 we started receiving them again. This time we were instructed to remove five allegedly infringing URLs pointing to the movie ‘Muhteşem İkili’ but once again a fundamental problem got in the way.</p>
<p>The infringing URLs listed in the notice were for a completely different and new domain, also nothing to do with us. </p>
<p>On December 29, when we received not one but two ‘Copyright Claims’ demanding the removal of over 50 URLs on <em>someone else’s domain, after our communications about these issues were ignored yet again</em>, inclusion in today’s list of bogus takedown notices was sealed.</p>
<p>In closing, we must acknowledge that these companies face massive challenges in their line of work and as such, mistakes will inevitably get made. We’re not unsympathetic either but when the same mistakes get made over and over again against the same site, one that is more likely to mention these disasters in public than any other online today, you do start to wonder. </p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tom Scott: After ten years, it's time to stop making videos [video] (639 pts)]]></title>
            <link>https://www.youtube.com/watch?v=7DKv5H5Frt0</link>
            <guid>38832959</guid>
            <pubDate>Mon, 01 Jan 2024 16:24:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.youtube.com/watch?v=7DKv5H5Frt0">https://www.youtube.com/watch?v=7DKv5H5Frt0</a>, See on <a href="https://news.ycombinator.com/item?id=38832959">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[OpenVoice: Versatile Instant Voice Cloning (274 pts)]]></title>
            <link>https://arxiv.org/abs/2312.01479</link>
            <guid>38832317</guid>
            <pubDate>Mon, 01 Jan 2024 15:16:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2312.01479">https://arxiv.org/abs/2312.01479</a>, See on <a href="https://news.ycombinator.com/item?id=38832317">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2312.01479.pdf">Download PDF</a>
    <a href="https://browse.arxiv.org/html/2312.01479v4">HTML (experimental)</a></p><blockquote>
            <span>Abstract:</span>We introduce OpenVoice, a versatile voice cloning approach that requires only a short audio clip from the reference speaker to replicate their voice and generate speech in multiple languages. OpenVoice represents a significant advancement in addressing the following open challenges in the field: 1) Flexible Voice Style Control. OpenVoice enables granular control over voice styles, including emotion, accent, rhythm, pauses, and intonation, in addition to replicating the tone color of the reference speaker. The voice styles are not directly copied from and constrained by the style of the reference speaker. Previous approaches lacked the ability to flexibly manipulate voice styles after cloning. 2) Zero-Shot Cross-Lingual Voice Cloning. OpenVoice achieves zero-shot cross-lingual voice cloning for languages not included in the massive-speaker training set. Unlike previous approaches, which typically require extensive massive-speaker multi-lingual (MSML) dataset for all languages, OpenVoice can clone voices into a new language without any massive-speaker training data for that language. OpenVoice is also computationally efficient, costing tens of times less than commercially available APIs that offer even inferior performance. To foster further research in the field, we have made the source code and trained model publicly accessible. We also provide qualitative results in our demo website. Prior to its public release, our internal version of OpenVoice was used tens of millions of times by users worldwide between May and October 2023, serving as the backend of MyShell.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Zengyi Qin [<a href="https://arxiv.org/show-email/0b6138f7/2312.01479">view email</a>]      <br>            <strong><a href="https://arxiv.org/abs/2312.01479v1">[v1]</a></strong>
        Sun, 3 Dec 2023 18:41:54 UTC (109 KB)<br>
            <strong><a href="https://arxiv.org/abs/2312.01479v2">[v2]</a></strong>
        Wed, 13 Dec 2023 02:25:42 UTC (110 KB)<br>
            <strong><a href="https://arxiv.org/abs/2312.01479v3">[v3]</a></strong>
        Sat, 16 Dec 2023 17:22:45 UTC (234 KB)<br>
    <strong>[v4]</strong>
        Thu, 21 Dec 2023 22:56:45 UTC (234 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Page Replica – Tool for Web Scraping, Prerendering, and SEO Boost (112 pts)]]></title>
            <link>https://github.com/html5-ninja/page-replica</link>
            <guid>38832257</guid>
            <pubDate>Mon, 01 Jan 2024 15:09:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/html5-ninja/page-replica">https://github.com/html5-ninja/page-replica</a>, See on <a href="https://news.ycombinator.com/item?id=38832257">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">Page Replica</h2>
<p dir="auto">"Page Replica" is a versatile web scraping and caching tool built with Node.js, Express, and Puppeteer. It helps prerender web app (React, Angular, Vue,...) pages, which can be served via Nginx for SEO or other purposes.</p>
<p dir="auto">The tool allows you to scrape individual web pages or entire sitemaps trough an api, selectively removing JavaScript, and caching the resulting HTML.</p>
<p dir="auto">Additionally, it features an Nginx configuration that optimally handles user and search engine bot traffic.</p>
<h2 tabindex="-1" dir="auto">Installation</h2>
<ol dir="auto">
<li>
<p dir="auto"><strong>Clone the Repository:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/html5-ninja/page-replica.git
cd page-replica"><pre>git clone https://github.com/html5-ninja/page-replica.git
<span>cd</span> page-replica</pre></div>
</li>
<li>
<p dir="auto"><strong>Install Dependencies:</strong></p>

</li>
<li>
<p dir="auto"><strong>Settings:</strong></p>
</li>
</ol>
<ul dir="auto">
<li>index.js
<div dir="auto" data-snippet-clipboard-copy-content="const CONFIG = {
baseUrl: &quot;https://example.com&quot;,
removeJS: true,
addBaseURL: true,
cacheFolder: &quot;path_to_cache_folder&quot;,
}"><pre>const CONFIG = {
baseUrl: <span><span>"</span>https://example.com<span>"</span></span>,
removeJS: true,
addBaseURL: true,
cacheFolder: <span><span>"</span>path_to_cache_folder<span>"</span></span>,
}</pre></div>
</li>
<li>app.js : set the port for your API</li>
</ul>
<ol start="4" dir="auto">
<li>
<p dir="auto"><strong>Start the API:</strong></p>

</li>
</ol>
<h2 tabindex="-1" dir="auto">Usage</h2>
<p dir="auto">By scraping a page or a sitemap, a copy of the prerendered page will be stored in the cache folder.</p>
<h3 tabindex="-1" dir="auto">Scraping Individual Pages</h3>
<p dir="auto">To scrape a single page, make a GET request to <code>/page</code> with the <code>url</code> query parameter:</p>
<div dir="auto" data-snippet-clipboard-copy-content="curl http://localhost:8080/page?url=https://example.com"><pre>curl http://localhost:8080/page<span>?</span>url=https://example.com</pre></div>
<h3 tabindex="-1" dir="auto">Scraping Sitemaps</h3>
<p dir="auto">To scrape pages from a sitemap, make a GET request to <code>/sitemap</code> with the <code>url</code> query parameter:</p>
<div dir="auto" data-snippet-clipboard-copy-content="curl http://localhost:8080/sitemap?url=https://example.com/sitemap.xml"><pre>curl http://localhost:8080/sitemap<span>?</span>url=https://example.com/sitemap.xml</pre></div>
<h2 tabindex="-1" dir="auto">Serve the Cached Pages to Bots with Nginx (My Recipe)</h2>
<p dir="auto">In this case, the cached pages are served using Nginx. You can adapt this configuration to your needs and your server.</p>
<p dir="auto">The Nginx configuration, residing in <code>nginx_config_sample/example.com.conf</code>, thoughtfully manages traffic.
It efficiently routes regular users to the main application server and redirects search engine bots to a dedicated server block for cached HTML delivery.</p>
<p dir="auto">Please review the <code>nginx_config_sample/example.com.conf</code> file to gain an understanding of its functionality.</p>
<h2 tabindex="-1" dir="auto">Contribution</h2>
<p dir="auto">We welcome contributions! If you have ideas for new features or server/cloud configurations that could enhance this tool, feel free to:</p>
<ul dir="auto">
<li>Open an issue to discuss your ideas.</li>
<li>Fork the repository and make your changes.</li>
<li>Submit a pull request with a clear description of your changes.</li>
</ul>
<h3 tabindex="-1" dir="auto">Feature Requests and Suggestions</h3>
<p dir="auto">If you have any feature requests or suggestions for server/cloud configurations beyond Nginx, please open an issue to start a discussion.</p>
<h2 tabindex="-1" dir="auto">Folder Structure</h2>
<ul dir="auto">
<li><code>nginx_config_sample</code>: Presents a sample Nginx configuration for redirecting bot traffic to the cached content server.</li>
<li><code>api.js</code>: An Express application responsible for handling web scraping requests.</li>
<li><code>index.js</code>: The core web scraping logic employing Puppeteer.</li>
<li><code>package.json</code>: Node.js project configuration.</li>
</ul>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Procrastination is connected to perfectionism (513 pts)]]></title>
            <link>https://solvingprocrastination.com/perfectionism/</link>
            <guid>38831446</guid>
            <pubDate>Mon, 01 Jan 2024 12:42:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://solvingprocrastination.com/perfectionism/">https://solvingprocrastination.com/perfectionism/</a>, See on <a href="https://news.ycombinator.com/item?id=38831446">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="text"><p><a href="https://solvingprocrastination.com/procrastination/"><em>Procrastination</em></a> is a <a href="https://solvingprocrastination.com/procrastination-statistics/">common issue</a>, which occurs when people unnecessarily postpone decisions or actions, generally despite knowing that doing so is likely to <a href="https://solvingprocrastination.com/procrastination-dangers/">cause them issues</a>.</p><p>One reason why people procrastinate is <i>perfectionism</i>. For example, perfectionistic students might be so critical of themselves for making mistakes in school assignments, that they will postpone doing homework to avoid dealing with the associated negative emotions. Similarly, perfectionistic writers might be so worried about their book being criticized, that they will delay sending the book for feedback.</p><p>The relationship between perfectionism and procrastination can have serious implications, so it’s important to understand it. As such, in the following article you will learn more about how perfectionism and procrastination are connected, and see what you can do about this in practice.</p><div id="ez-toc-container"><nav><ul><li><a href="#The_relationship_between_perfectionism_and_procrastination" title="The relationship between perfectionism and procrastination">The relationship between perfectionism and procrastination</a></li><li><a href="#Associated_psychological_mechanisms" title="Associated psychological mechanisms">Associated psychological mechanisms</a></li><li><a href="#Other_causes_of_procrastination" title="Other causes of procrastination">Other causes of procrastination</a></li><li><a href="#Perfectionistic_procrastinators" title="Perfectionistic procrastinators">Perfectionistic procrastinators</a></li><li><a href="#Dealing_with_perfectionistic_procrastination" title="Dealing with perfectionistic procrastination">Dealing with perfectionistic procrastination</a></li></ul></nav></div><h2><span id="The_relationship_between_perfectionism_and_procrastination"></span>The relationship between perfectionism and procrastination<span></span></h2><p>The relationship between perfectionism and procrastination is <a href="https://doi.org/10.3389/fpsyt.2021.736776">complex</a>, and <a href="https://doi.org/10.1007/s10942-012-0149-5">depends</a>&nbsp;on the <a href="https://doi.org/10.1002/per.2098">specific aspects</a> of perfectionism that a person has:</p><ul><li><strong>Some aspects of perfectionism generally <em>increase</em></strong><strong> procrastination.</strong> These include, most notably, <em>perfectionistic concerns</em>, which are <a href="https://doi.org/10.1002/per.2098">characterized primarily</a> by critical and negative self-evaluations, excessive preoccupation with other people’s expectations, lack of satisfaction from successful performance, excessive <a href="https://doi.org/10.1023/A:1026474715384">worry</a> over <a href="https://doi.org/10.1016/j.sbspro.2011.10.104">making mistakes</a>, and <a href="https://doi.org/10.1080/03069885.2014.896454">doubts</a> about one’s abilities and actions, often in <a href="https://doi.org/10.1037/10808-013">irrational</a> ways or to irrational degrees. Such concerns <a href="https://doi.org/10.1002/per.2098">represent</a> the more <em>maladaptive</em> side of <a href="https://doi.org/10.1016/j.lindif.2014.10.009">perfectionism</a>, since they generally lead people to experience negative outcomes, in terms of factors such as their performance and wellbeing. For example, these concerns can lead a student to unnecessarily delay submitting their assignments, because they’re excessively worried that they’ve made mistakes.</li><li><strong>Some aspects of perfectionism generally <em>decrease</em> procrastination.</strong> These include, most notably, <em>perfectionistic strivings</em>, which are <a href="https://doi.org/10.1002/per.2098">characterized primarily</a> by setting and striving for excessively high personal standards, often with a focus on attaining flawlessness in one’s work. Such strivings <a href="https://doi.org/10.1002/per.2098">represent</a> the more <em>adaptive</em> side of <a href="https://doi.org/10.1016/j.lindif.2014.10.009">perfectionism</a>, since they generally lead people to experience positive outcomes, in terms of factors such as their performance and wellbeing. For example, these strivings can lead a student to submit all their assignments on time, because they want to get a perfect grade.</li></ul><p>Furthermore, <a href="https://doi.org/10.1037/10808-013">other characteristics</a> of people’s perfectionism can also <a href="https://doi.org/10.1080/03069885.2016.1213374">play a role</a> in determining how their perfectionism influences their procrastination. For example, <em>socially-prescribed perfectionism</em>, which <a href="https://doi.org/10.1016/B978-0-12-397045-9.00166-X">involves</a> people having high standards <a href="https://doi.org/10.1007/978-1-4899-0227-6_6">set</a> for them by <a href="https://doi.org/10.2224/sbp.2008.36.6.753">others</a>, is <a href="https://doi.org/10.1037/0033-2909.133.1.65">more likely</a> to increase procrastination, whereas&nbsp;<em>self-oriented perfectionism</em>, which <a href="https://doi.org/10.1037/10808-013">involves</a> people <a href="https://doi.org/10.1016/j.lindif.2017.04.010">setting</a> high standards for <a href="https://doi.org/10.2224/sbp.1992.20.2.85">themselves</a>, is more likely to decrease procrastination.</p><p>In addition, various issues can influence people’s perfectionism, and the <a href="https://doi.org/10.2224/sbp.2008.36.6.753">relationship</a> between it and their procrastination. For example, when people receive <a href="https://doi.org/10.1080/03069885.2016.1213374">parental criticism</a>, this can exacerbate their perfectionistic concerns, which in turn can exacerbate their procrastination. Alternatively, when people have high <em><a href="https://solvingprocrastination.com/self-efficacy/">self-efficacy</a></em>, this can improve their ability to control any perfectionistic concerns that they have, which in turn can decrease their procrastination.</p><p><strong>In summary</strong>, perfectionism can either increase or decrease procrastination, depending on various factors. These factors include the aspects of perfectionism involved (e.g., concerns vs. strivings), the types of perfectionism involved (e.g., self-oriented vs. socially-prescribed), and personality traits, such as self-efficacy. This means that while perfectionism can sometimes cause procrastination, not all perfectionists procrastinate.</p><h2><span id="Associated_psychological_mechanisms"></span>Associated psychological mechanisms<span></span></h2><p>There are <a href="https://doi.org/10.1002/per.2098">various ways</a> in which perfectionism can lead to procrastination. For example, it can increase the negative emotions that people experience when they make mistakes, which leads people to delay their work as a way to <a href="https://solvingprocrastination.com/emotion-regulation/">delay</a> the associated <a href="https://doi.org/10.1007/s12144-021-02653-z">negative emotions</a>. Alternatively, perfectionism can substantially increase people’s expectations of themselves, which <a href="https://doi.org/10.1002/per.2098">increases</a> the <a href="https://doi.org/10.1016/j.paid.2017.02.059">discrepancy</a> between people’s current situation and their desired situation so much that their goals feel unattainable, which causes them to give up.</p><p>These mechanisms can <a href="https://doi.org/10.1016/j.jrp.2012.08.006">cause people</a> to enter a <a href="https://solvingprocrastination.com/procrastination-cycle/">perfectionism-procrastination cycle</a>. For example, this can happen when someone’s perfectionism makes them afraid of negative feedback, which causes them to procrastinate, which leads them to perform poorly and get negative feedback, which makes them more afraid of getting negative feedback again in the future, and so on.</p><h2><span id="Other_causes_of_procrastination"></span>Other causes of procrastination<span></span></h2><p>People can procrastinate for <a href="https://solvingprocrastination.com/why-people-procrastinate/">many reasons</a> beyond perfectionism, such as <a href="https://solvingprocrastination.com/anxiety/">anxiety</a>, <a href="https://solvingprocrastination.com/fear/">fear of failure</a>, and <a href="https://solvingprocrastination.com/depression/">depression</a>. Accordingly, although perfectionism can sometimes lead to procrastination, not all procrastinators are perfectionists, and even those who are don’t necessarily procrastinate because of their perfectionism, or <em>only</em> because of it. Nevertheless, many <a href="https://solvingprocrastination.com/why-people-procrastinate/">other causes of procrastination</a>,&nbsp;<a href="https://doi.org/10.1037/10808-013">such as</a> anxiety and fear of failure, are <a href="https://doi.org/10.1177/00332941930733pt123">associated</a> with perfectionism in <a href="https://doi.org/10.1023/A:1026474715384">various ways</a>, for example by <a href="https://doi.org/10.1080/03069885.2014.896454">co-occurring</a> with it, or by being <a href="https://doi.org/10.1007/s12144-021-02653-z">involved</a> in perfectionistic concerns.</p><h2><span id="Perfectionistic_procrastinators"></span>Perfectionistic procrastinators<span></span></h2><p>There’s no universal definition for what constitutes a <em>perfectionistic procrastinator</em>. Nevertheless, this term generally refers to people who suffer from <a href="https://solvingprocrastination.com/chronic-procrastination/">substantial procrastination</a> that’s caused primarily by their perfectionism. For example, an artist can be considered a perfectionistic procrastinator if they unnecessarily delay publishing their work for a long time, because they worry the public won’t think it’s perfect.</p><p>In addition, the term “perfectionistic procrastinator” can be when perfectionism is only one of the key causes of a person’s procrastination, in conjunction with other key causes as descriptors. For example, if someone procrastinates due to a combination of perfectionism and depression, then they may be referred to as a <em>perfectionistic and depressed procrastinator</em>.</p><h2><span id="Dealing_with_perfectionistic_procrastination"></span>Dealing with perfectionistic procrastination<span></span></h2><p>If you realize that your perfectionism is causing you to procrastinate, there are several key things that you can do about it:</p><ul><li><strong>Set reasonable goals and standards.</strong> This doesn’t mean that you should aim low, but rather that you should assess the situation, to determine what performance will be&nbsp;<em><a href="https://effectiviology.com/good-enough-is-good-enough-letting-go-of-perfectionism-to-get-things-done/">good enough</a></em> for you to achieve what you want and need to achieve.</li><li><strong>Focus on yourself, rather than on others.</strong> Many of the issues associated with perfectionism come from caring too much about what others expect of you, or about what others will say or think. If this is a problem for you, then you should instead focus on goals and standards that you set for yourself, and minimize the degree to which you care about other people’s opinions.</li><li><strong>Question and address your fears.</strong> For example, if you realize that you’re <a href="https://solvingprocrastination.com/fear/">afraid</a> of someone criticizing you for not having perfect work, you can ask yourself things such as “how likely is it that they will actually care if I make some small mistakes” or “so what if this person criticizes my work?”. When doing this, it could help to use <a href="https://effectiviology.com/self-distancing-rational-decisions/">self-distancing techniques</a>, for example by asking yourself “why should <em>you</em> care so about making small mistakes?” or by considering what advice you would give to a friend if they were in your situation.</li><li><strong>Consider the negative impact of your perfectionism.</strong> For example, you might consider how your perfectionism-driven procrastination means that you’re not getting any feedback on your work, which is preventing you from making progress.</li><li><strong>Give yourself permission to make mistakes.</strong> For example, if you’re writing a paper, accept that your work won’t be perfect, especially when it comes to the first draft. Essentially, you should <a href="https://doi.org/10.1037/10808-013">avoid</a> an&nbsp;<em>all-or-nothing</em> approach, both when it comes to your work, and when it comes to your attempts to reduce procrastination (i.e., don’t let <em>perfect</em> become the enemy of&nbsp;<em>good enough</em>).</li><li><strong>Develop self-efficacy.</strong> Specifically, this is your <a href="https://solvingprocrastination.com/self-efficacy/">belief</a> in your ability to perform the actions needed to achieve your goals. You can develop it in <a href="https://solvingprocrastination.com/self-efficacy/">various ways</a>, such as identifying the strategies that you can use to achieve your goals, and then thinking about how you can execute those strategies successfully.</li><li><strong>Develop self-compassion.</strong> Specifically, you should develop the three components of <a href="https://solvingprocrastination.com/self-compassion/">self-compassion</a>:&nbsp;<em>self-kindness</em>, which involves being nice to yourself,&nbsp;<em>common humanity</em>, which involves recognizing that everyone experiences challenges, and&nbsp;<a href="https://solvingprocrastination.com/procrastination-study-mindfulness/"><em>mindfulness</em></a>, which involves accepting your emotions in a non-judgmental manner. There are <a href="https://solvingprocrastination.com/self-compassion/">many techniques</a> for doing this, including some that are particularly relevant in the case of perfectionism, such as changing your critical self-talk to make it more positive and compassionate.</li><li><strong>Get support and encouragement from others.</strong> For example, you can talk with a professional therapist about your perfectionistic concerns, or you can ask a friend to be by your side and motivate you when it’s time to act. If you’re reluctant to ask for help because of your perfectionism, remind yourself that it’s perfectly fine and normal to ask for help, and that doing so can help you achieve better outcomes and feel better in the long term.</li></ul><p>Before choosing which of these techniques to use, you should assess your perfectionism and procrastination, to understand how they’re connected. This can help you figure out which specific aspects of your perfectionism you should address and how you should address them.</p><p>In addition, there are many other <a href="https://solvingprocrastination.com/how-to-stop-procrastinating/">anti-procrastination techniques</a> that you might benefit from using to reduce your perfectionism-driven procrastination. These include the following:</p><ul><li><strong>Break your work into small and manageable steps.</strong> For example, if you have a large project that feels overwhelming, such as writing a research paper, you can break it down into a series of small steps, such as creating an outline, finding relevant resources, and writing the introduction.</li><li><strong>Start with a tiny step.</strong> For example, commit to writing only a single sentence or exercising for only 2 minutes, while giving yourself permission to stop after taking that tiny first step, to reduce the pressure associated with getting started.</li><li><strong>Switch between tasks.</strong> For example, if you’re stuck on a task and can’t make progress, switch to a <a href="https://solvingprocrastination.com/productive-procrastination/">different task</a> until you’re ready to go back to the first one.</li><li><strong>Acknowledge and reward your progress.</strong> For example, you can treat yourself to some pleasant treat once you’ve managed to achieve your study goals for a week in a row.</li><li><strong>Schedule your work according to your productivity cycles.</strong> For example, if you find it easier to concentrate on creative tasks in the morning, then you should schedule such tasks for that time period as much as possible.</li><li><strong>Improve your work environment.</strong> For example, if your current work environment has a lot of irritating background noise, get noise-canceling headphones or go somewhere quieter.</li><li><strong>Get enough rest.</strong> For example, if you need to work hard on tasks that require deep concentration, make sure to take enough breaks that you don’t get burnt out. To encourage yourself to do this, you can remind yourself that even if getting rest can reduce your productivity in the short term, it will often be much better for you in the long term, both in terms of your productivity and in terms of your wellbeing.</li><li><strong>Forgive yourself for past procrastination.</strong> For example, if you need to get started on a task that you’ve been postponing for a long time, you can say “I shouldn’t have postponed this task in the first place, but that’s in the past, and what’s important now is to move on and just get this done”.</li></ul><p>Before using these techniques, you should figure out <a href="https://solvingprocrastination.com/why-people-procrastinate/">why you procrastinate</a>, especially if there are other reasons for your procrastination beyond perfectionism, as well as when and how you procrastinate. This will then help you find the best <a href="https://solvingprocrastination.com/how-to-stop-procrastinating/">anti-procrastination techniques</a> to use in your particular situation, and will also figure out how to use these techniques as effectively as possible.</p> </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Standard Ebooks (356 pts)]]></title>
            <link>https://standardebooks.org/</link>
            <guid>38831219</guid>
            <pubDate>Mon, 01 Jan 2024 11:51:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://standardebooks.org/">https://standardebooks.org/</a>, See on <a href="https://news.ycombinator.com/item?id=38831219">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
	<h2>Free and liberated ebooks,<br> carefully produced for the true book lover.</h2>
	<picture>
		<source srcset="https://standardebooks.org/images/devices@2x.avif 2x, https://standardebooks.org/images/devices.avif 1x" type="image/avif">
		<source srcset="https://standardebooks.org/images/devices@2x.png 2x, https://standardebooks.org/images/devices.png 1x" type="image/png">
		<img src="https://standardebooks.org/images/devices@2x.png" alt="Ereaders with a Standard Ebook open.">
	</picture>
	<p>Standard Ebooks is a volunteer-driven project that produces new editions of public domain ebooks that are lovingly formatted, open source, free of U.S. copyright restrictions, and free of cost.</p>
	<p>Ebook projects like <a href="https://www.gutenberg.org/">Project Gutenberg</a> transcribe ebooks and make them available for the widest number of reading devices. Standard Ebooks takes ebooks from sources like Project Gutenberg, formats and typesets them using a carefully designed and professional-grade style manual, fully proofreads and corrects them, and then builds them to create a new edition that takes advantage of state-of-the-art ereader and browser technology.</p>
	<p>Standard Ebooks aren’t just a beautiful addition to your digital library—they’re a high quality standard to build your own ebooks on.</p><a href="https://standardebooks.org/ebooks">Browse our library of free ebooks</a>
	<section>
		<h2>What makes Standard Ebooks different?</h2>
		<section>
			<h3>Modern &amp; consistent typography</h3>
			<div>
				<div>
					<p>Other free ebooks don’t put much effort into professional-quality typography: they use "straight" quotes instead of “curly” quotes, they ignore details like em- and en-dashes, and they look more like early-90’s web pages instead of actual books.</p>
					<p>Standard Ebooks applies a rigorous and modern <a href="https://standardebooks.org/manual">style manual</a> when developing each and every ebook to ensure they meet a professional-grade and consistent typographical standard. Our ebooks look <em>good</em>.</p>
				</div>
				<figure>
					<picture>
						<source srcset="https://standardebooks.org/images/typography-bad@2x.avif 2x, https://standardebooks.org/images/typography-bad.avif 1x" type="image/avif">
						<source srcset="https://standardebooks.org/images/typography-bad@2x.png 2x, https://standardebooks.org/images/typography-bad.png 1x" type="image/png">
						<img src="https://standardebooks.org/images/typography-bad@2x.png" alt="An example of bad typography." height="150" width="300">
					</picture>
					<picture>
						<source srcset="https://standardebooks.org/images/typography-good@2x.avif 2x, https://standardebooks.org/images/typography-good.avif 1x" type="image/avif">
						<img src="https://standardebooks.org/images/typography-good@2x.png" alt="An example of Standard Ebooks typography." height="150" width="300">
					</picture>
					<img alt="An arrow pointing from bad typography to good typography." src="https://standardebooks.org/images/arrow-down.png">
				</figure>
			</div>
		</section>
		<section>
			<h3>Full proofing with careful corrections</h3>
			<div>
				<div>
					<p>Transcriptions from other sources are often filled with typos or suffer from issues like inconsistent spelling, missing accent marks, or missing punctuation. Submitting corrections to such sources can be difficult or impossible, so errors are rarely fixed.</p>
					<p>At Standard Ebooks, we do a careful and complete readthrough of each ebook before releasing it, checking it against a scan of the original pages to fix as many typos as possible. Even if we <em>do</em> miss something, our ebooks are stored in the hugely popular Git source control system, allowing anyone to easily submit a correction.</p>
				</div>
				<figure>
					<picture>
						<source srcset="https://standardebooks.org/images/proofreading@2x.avif 2x, https://standardebooks.org/images/proofreading.avif 1x" type="image/avif">
						<source srcset="https://standardebooks.org/images/proofreading@2x.png 2x, https://standardebooks.org/images/proofreading.png 1x" type="image/png">
						<img src="https://standardebooks.org/images/proofreading@2x.png" alt="A text with proofreader’s marks." height="200" width="400">
					</picture>
				</figure>
			</div>
		</section>
		<section>
			<h3>Rich &amp; detailed metadata</h3>
			<div>
				<p>Our ebooks include complete, well-researched, and consistent metadata, including original, detailed book blurbs and links to encyclopedia sources. Perfect for machine processing or for extra-curious, technically-minded readers.</p>
				<figure>
					<picture>
						<source srcset="https://standardebooks.org/images/metadata@2x.avif 2x, https://standardebooks.org/images/metadata.avif 1x" type="image/avif">
						<source srcset="https://standardebooks.org/images/metadata@2x.png 2x, https://standardebooks.org/images/metadata.png 1x" type="image/png">
						<img src="https://standardebooks.org/images/metadata@2x.png" alt="Ebook metadata displayed in an ereader program." height="200" width="400">
					</picture>
				</figure>
			</div>
		</section>
		<section>
			<h3>State-of-the-art technology</h3>
			<div>
				<div>
					<p>Each Standard Ebook takes full advantage of the latest ereader technology, including:</p>
					<ul>
						<li>
							<p>Hyphenation support,</p>
						</li>
						<li>
							<p>Popup footnotes,</p>
						</li>
						<li>
							<p>High-resolution and scalable vector graphics,</p>
						</li>
						<li>
							<p>Ereader-compatible tables of contents,</p>
						</li>
					</ul>
					<p>and more. One of our goals is to ensure our ebooks stay up-to-date with the best reading experience technology can provide. Just because it’s a classic doesn’t mean it has to use old technology.</p>
				</div>
				<figure>
					<picture>
						<source srcset="https://standardebooks.org/images/endnote@2x.avif 2x, https://standardebooks.org/images/endnote.avif 1x" type="image/avif">
						<source srcset="https://standardebooks.org/images/endnote@2x.png 2x, https://standardebooks.org/images/endnote.png 1x" type="image/png">
						<img src="https://standardebooks.org/images/endnote@2x.png" alt="A screenshot of a popup endnote." height="150" width="300">
					</picture>
					<picture>
						<source srcset="https://standardebooks.org/images/toc@2x.avif 2x, https://standardebooks.org/images/toc.avif 1x" type="image/avif">
						<source srcset="https://standardebooks.org/images/toc@2x.png 2x, https://standardebooks.org/images/toc.png 1x" type="image/png">
						<img src="https://standardebooks.org/images/toc@2x.png" alt="A screenshot of an ebook’s table of contents." height="150" width="300">
					</picture>
				</figure>
			</div>
		</section>
		<section>
			<h3>Quality covers</h3>
			<div>
				<div>
					<p>Everyone knows a book is judged by its cover, but most free ebooks leave it to your ereader software to generate a drab default cover.</p>
					<p>Standard Ebooks draws from a vast collection of public domain fine art to create attractive, unique, appropriate, and consistent covers for each of our ebooks.</p>
				</div>
				<figure>
					<picture>
						<source srcset="https://standardebooks.org/images/covers@2x.avif 2x, https://standardebooks.org/images/covers.avif 1x" type="image/avif">
						<source srcset="https://standardebooks.org/images/covers@2x.jpg 2x, https://standardebooks.org/images/covers.jpg 1x" type="image/jpg">
						<img src="https://standardebooks.org/images/covers@2x.jpg" alt="An ebookshelf featuring Standard Ebooks covers." height="125" width="400">
					</picture>
				</figure>
			</div>
		</section>
		<section>
			<h3>Clean code &amp; semantic markup</h3>
			<div>
				<div>
					<p>Our strict coding standards allow technologists and ebook producers to use Standard Ebooks files as reliable, easy to read, and robust bases for their own work—not to mention as models of what well-crafted ebook files look like. Common code patterns are repeated through different ebooks, so the code never surprises you.</p>
					<p>Each ebook is also enhanced with careful standards-based semantic markup that opens the gateway for exciting new kinds of machine processing.</p>
				</div>
				<figure>
					<picture>
						<source srcset="https://standardebooks.org/images/code@2x.avif 2x, https://standardebooks.org/images/code.avif 1x" type="image/avif">
						<source srcset="https://standardebooks.org/images/code@2x.png 2x, https://standardebooks.org/images/code.png 1x" type="image/png">
						<img src="https://standardebooks.org/images/code@2x.png" alt="The source code for an ebook." height="200" width="400">
					</picture>
				</figure>
			</div>
		</section>
		<section>
			<h3>Free, open-source, &amp; public domain</h3>
			<div>
				<div>
					<p>We use the popular Git source control system to track each and every change made to our ebooks. Anyone can easily see a history of changes, or contribute their own changes with the click of a mouse.</p>
					<p>And while all of the ebooks we feature and the cover art we draw from are <em>already</em> believed to be in the public domain in the U.S., Standard Ebooks releases all of the work we put in to each ebook into the public domain too. That makes each and every one of our ebook files not just free, but <a href="https://en.wikipedia.org/wiki/Gratis_versus_libre">libre</a> too—because the world deserves more unrestricted culture.</p>
				</div>
				<figure>
					<img alt="The Git SCM logo." src="https://standardebooks.org/images/git.svg" height="150" width="150">
					<img alt="The no-copyright symbol." src="https://standardebooks.org/images/no-copyright.svg" height="150" width="150">
					<img alt="The anti-DRM symbol." src="https://standardebooks.org/images/no-drm.svg" height="137" width="150">
				</figure>
			</div>
		</section>
	</section>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fixing annoying blue standby lights (164 pts)]]></title>
            <link>https://www.fullcircuit.com/blog/fixing-annoying-blue-standby-lights</link>
            <guid>38830782</guid>
            <pubDate>Mon, 01 Jan 2024 09:55:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.fullcircuit.com/blog/fixing-annoying-blue-standby-lights">https://www.fullcircuit.com/blog/fixing-annoying-blue-standby-lights</a>, See on <a href="https://news.ycombinator.com/item?id=38830782">Hacker News</a></p>
<div id="readability-page-1" class="page"><div class="page" id="page-wrapper" role="main">

                      
                      <h2>You are here</h2>
                      
                                              <header>
                          
                        </header>
                      
                      
                      
                      <div id="content">  
  
  <article id="node-39" role="article">
  <div>

    
              
        
    <div>
        <div><p><img alt="JVC LT-39C740" src="https://www.fullcircuit.com/sites/default/files/images/JVC_LT-39C740.jpg" width="250" height="179"></p><p>
For reasons that escape me there seems to a trend for standby lights on home electronics to be blue "searchlights".
This "feature" is especially annoying when the electronics are in a bedroom or the home is a one room flat for that matter.  Some
manufacturers helpfully allow these to be turned on, but not all, and not on the <a href="http://www.jvc.co.uk/">JVC</a> LT-39C740
I recently bought from <a href="http://www.currys.co.uk/">Currys</a>.
</p><p>
 A bit of black will fix the problem but often, like on the LT-39C740, the
same window for the blue light is also the window for the remote control sensor so the black tape solution also disables the
remote control.  However, with a bit a lateral thinking there is a solution.  Remote controls use infra-red so adding a filter to allow
infra-red only is another solution.  The trend for using blue LEDs helps now.  A red filter will likely extend down to infra-red
but certainly block blue light.
</p><p>
Luckily Quality Street chocolates have a transparent wrapper that is a nice deep red.  I found that 2 layers
of this still allowed the remote control to work from across the room while reducing the blue light to near zero.  Pulled tight
around the square block that contains the blue LED and remote sensor and secured with a bit of sellotape round the back, out of sight,
the fix is near invisible.  Only the very observant would notice the the square block that contains the blue LED and remote sensor
is purple black rather than the same black as the rest of the plastic surround.
</p><p>
A free fix and you get to eat the chocolate.  What could be better?
</p></div><section><h2>Tags:&nbsp;</h2><ul><li><a href="https://www.fullcircuit.com/tags/blue-led">Blue LED</a></li><li><a href="https://www.fullcircuit.com/tags/standby">Standby</a></li><li><a href="https://www.fullcircuit.com/tags/home-electronics">Home Electronics</a></li></ul></section>    </div>

          <nav><ul></ul></nav>
    
    
  </div>
</article>

  </div>

                      
                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Durdraw – a modern ANSI art editor for modern Unix terminals (134 pts)]]></title>
            <link>https://github.com/cmang/durdraw</link>
            <guid>38830687</guid>
            <pubDate>Mon, 01 Jan 2024 09:33:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/cmang/durdraw">https://github.com/cmang/durdraw</a>, See on <a href="https://news.ycombinator.com/item?id=38830687">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">Durdraw</h2>
<div data-snippet-clipboard-copy-content="              __                __
            _|  |__ __ _____ __|  |_____ _____ __ __ __
           / _  |  |  |   __|  _  |   __|  _  |  |  |  |\
          /_____|_____|__|__|_____|__|___\____|________| | 
          \_____________________________________________\|  v 0.24.1"><pre><code>              __                __
            _|  |__ __ _____ __|  |_____ _____ __ __ __
           / _  |  |  |   __|  _  |   __|  _  |  |  |  |\
          /_____|_____|__|__|_____|__|___\____|________| | 
          \_____________________________________________\|  v 0.24.1
</code></pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/cmang/durdraw/blob/master/assets/durdraw-0.24.0-example.gif"><img src="https://github.com/cmang/durdraw/raw/master/assets/durdraw-0.24.0-example.gif" alt="durdraw-0 24 0-example" data-animated-image=""></a></p>
<h2 tabindex="-1" dir="auto">OVERVIEW</h2>
<p dir="auto">Durdraw is an ASCII, Unicode and ANSI art editor for UNIX-like systems (Linux,
macOS, etc). It runs in modern Utf-8 terminals and supports frame-based
animation, custom themes, 256 and 16 color modes, terminal mouse input, DOS
ANSI art viewing, CP437 and Unicode mixing and conversion, HTML output, mIRC
color output, and other interesting features.</p>
<p dir="auto">Durdraw is heavily inspired by classic ANSI editing software for MS-DOS and
Windows, such as TheDraw, Aciddraw and Pablodraw, but with a modern Unix twist.</p>
<h2 tabindex="-1" dir="auto">REQUIREMENTS</h2>
<ul dir="auto">
<li>Python 3 (3.10+ recommended)</li>
<li>Linux, macOS, or other Unix-like System</li>
</ul>
<h2 tabindex="-1" dir="auto">INSTALLATION</h2>
<p dir="auto">If you just want to run it without instalilng, scroll down to the next section.</p>
<p dir="auto">1: Download and extract, or use git to download:</p>
<div data-snippet-clipboard-copy-content="   git clone https://github.com/cmang/durdraw.git  
   cd durdraw "><pre><code>   git clone https://github.com/cmang/durdraw.git  
   cd durdraw 
</code></pre></div>
<p dir="auto">2: Install or upgrade using pip:</p>

<p dir="auto">Or run the installer:</p>

<p dir="auto">3: Optionally, install some themes and a sample configuration file for your local user into ~/.durdraw/:</p>

<p dir="auto">You should now be able to run <code>durdraw</code>. This tries to run in 256-color mode by default. To start in 16-color mode for viewing MS-DOS style ANSI art, use <code>durdraw --16color</code>.</p>
<h2 tabindex="-1" dir="auto">RUNNING WITHOUT INSTALLING</h2>
<p dir="auto">You may need to install the "PIL" or "pillow" python module first:</p>

<p dir="auto">Then you can run Durdraw with:</p>

<p dir="auto">To look at some included example animations:</p>
<div data-snippet-clipboard-copy-content="    ./start-durdraw -p examples/*.dur"><pre><code>    ./start-durdraw -p examples/*.dur
</code></pre></div>
<p dir="auto">To edit 16-color PC Scene (MS-DOS/CP437) ANSI art files in a Utf-8 terminal, use the --16colors option:</p>
<div data-snippet-clipboard-copy-content="    ./start-durdraw --16colors"><pre><code>    ./start-durdraw --16colors
</code></pre></div>
<h2 tabindex="-1" dir="auto">GALLERY</h2>
<p dir="auto"><a href="https://youtu.be/7Icf08bkJxg" rel="nofollow"><img src="https://camo.githubusercontent.com/0e301ba008c33dcf183e3a90f708e9182b28b90f1a44e14d0870a2280adb2ed4/68747470733a2f2f647572647261772e6f72672f647572647261772d796f75747562652d7468756d626e61696c2d776974682d706c61792d627574746f6e2e706e67" alt="Watch the video" data-canonical-src="https://durdraw.org/durdraw-youtube-thumbnail-with-play-button.png"></a>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/261501/293581425-4137eb2d-0de0-47ca-8789-cca0c8519e91.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzU5MDYsIm5iZiI6MTcwNDEzNTYwNiwicGF0aCI6Ii8yNjE1MDEvMjkzNTgxNDI1LTQxMzdlYjJkLTBkZTAtNDdjYS04Nzg5LWNjYTBjODUxOWU5MS5naWY_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwMTAxJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDEwMVQxOTAwMDZaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0wNzdkNTliZjcwMjhiNjQ5ZGE5ZDM0NzM2OGZjNWExZWQxYWFmZTJjNTQ2ZGYyYTQ4NjVjMmJlNTVkMDExNjE1JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.0IA4AUpAe7Fjs1O0hhwUffIQ5mamt-F8ZdAoiDqk64Q"><img src="https://private-user-images.githubusercontent.com/261501/293581425-4137eb2d-0de0-47ca-8789-cca0c8519e91.gif?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzU5MDYsIm5iZiI6MTcwNDEzNTYwNiwicGF0aCI6Ii8yNjE1MDEvMjkzNTgxNDI1LTQxMzdlYjJkLTBkZTAtNDdjYS04Nzg5LWNjYTBjODUxOWU5MS5naWY_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwMTAxJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDEwMVQxOTAwMDZaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0wNzdkNTliZjcwMjhiNjQ5ZGE5ZDM0NzM2OGZjNWExZWQxYWFmZTJjNTQ2ZGYyYTQ4NjVjMmJlNTVkMDExNjE1JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.0IA4AUpAe7Fjs1O0hhwUffIQ5mamt-F8ZdAoiDqk64Q" alt="durdraw-xmas-example" data-animated-image=""></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/261501/210064369-4c416e85-12d0-47aa-b182-db5435ae0c78.gif"><img src="https://user-images.githubusercontent.com/261501/210064369-4c416e85-12d0-47aa-b182-db5435ae0c78.gif" alt="dopetrans3" data-animated-image=""></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/261501/142838691-9eaf58b0-8a1f-4636-a41a-fe8617937d1d.gif"><img src="https://user-images.githubusercontent.com/261501/142838691-9eaf58b0-8a1f-4636-a41a-fe8617937d1d.gif" alt="durdraw-screenshot" data-animated-image=""></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/261501/161380487-ac6e2b5f-d44a-493a-ba78-9903a6a9f1ca.png"><img src="https://user-images.githubusercontent.com/261501/161380487-ac6e2b5f-d44a-493a-ba78-9903a6a9f1ca.png" alt="durdraw-linux-unicode-ansi"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/261501/210064343-6e68f88d-9e3e-415a-9792-a38684231ba0.gif"><img src="https://user-images.githubusercontent.com/261501/210064343-6e68f88d-9e3e-415a-9792-a38684231ba0.gif" alt="eye" data-animated-image=""></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/261501/210064365-e9303bee-7842-4068-b356-cd314341098b.gif"><img src="https://user-images.githubusercontent.com/261501/210064365-e9303bee-7842-4068-b356-cd314341098b.gif" alt="cm-doge" data-animated-image=""></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/261501/210064354-5c1c2adc-06a3-43c5-8e21-30b1a81db315.gif"><img src="https://user-images.githubusercontent.com/261501/210064354-5c1c2adc-06a3-43c5-8e21-30b1a81db315.gif" alt="bsd-color-new" data-animated-image=""></a></p>
<h2 tabindex="-1" dir="auto">COMMAND LINE USAGE</h2>
<p dir="auto">You can play a .dur file or series of .dur files with:</p>
<div data-snippet-clipboard-copy-content="    $ durdraw -p filename.dur
    $ durdraw -p file1.dur file2.dur file3.dur ..."><pre><code>    $ durdraw -p filename.dur
    $ durdraw -p file1.dur file2.dur file3.dur ...
</code></pre></div>
<p dir="auto">Other command-line options:</p>
<pre>usage: start-durdraw [-h] [-p PLAY [PLAY ...]] [-q | -w | -x TIMES] [--256color | --16color] [-b]
                     [-W WIDTH] [-H HEIGHT] [-m] [--nomouse] [-A] [-u UNDOSIZE] [-V] [--debug]
                     [filename]

positional arguments:
  filename              .dur or ascii file to load

optional arguments:
  -h, --help            show this help message and exit
  -p PLAY [PLAY ...], --play PLAY [PLAY ...]
                        Just play .dur file or files, then exit
  -q, --quick           Skip startup screen
  -w, --wait            Pause at startup screen
  -x TIMES, --times TIMES
                        Play X number of times (requires -p)
  --256color            Try 256 color mode
  --16color             Try 16 color mode
  -b, --blackbg         Use a black background color instead of terminal default
  -W WIDTH, --width WIDTH
                        Set canvas width
  -H HEIGHT, --height HEIGHT
                        Set canvas height
  -m, --max             Maximum canvas size for terminal (overrides -W and -H)
  --nomouse             Disable mouse support
  --cursor CURSOR       Cursor mode (block, underscore, or pipe)
  --notheme             Disable theme support
  --theme THEME         Load a custom theme file
  --cp437               Encode extended characters using Code Page 437 (IBM-PC/MS-DOS) encoding
                        instead of Utf-8. (Needs CP437 capable terminal and font)
  --export-ansi         Export loaded art to an ANSI file and exit
  -u UNDOSIZE, --undosize UNDOSIZE
                        Set the number of undo history states - default is 100. More requires more
                        RAM, less saves RAM.
  -V, --version         Show version number and exit

</pre>
<h2 tabindex="-1" dir="auto">INTERACTIVE USAGE/EDITING</h2>
<p dir="auto">Use the arrow keys (or mouse) and other keys to edit, much like a text editor.
You can use the "Esc" (or "Meta") key to access commands:</p>
<div data-snippet-clipboard-copy-content="  .. Art Editing .....................   .. About ...........................
  : F1-F10 - insert character        :   : version: {ver}                   :
  : esc-up - next fg color           :   : color mode: {colormode}          :
  : esc-down - prev fg color         :   : character encoding: {charmode}   :
  : esc-right - next bg color (16c)  :   :..................................:
  : esc-left - prev bg color         :
  : esc-/ - insert line              :   .. Animation .......................
  : esc-' - delete line              :   : esc-k - next frame               :
  : esc-. - insert column            :   : esc-j - previous frame           :
  : esc-, - delete column            :   : esc-p - start/stop payback       :
  : esc-] - next character group     :   : esc-n - clone frame              :
  : esc-[ - previous character group :   : esc-N - append empty frame       :
  : esc-S - change character set     :   : esc-d - delete frame             :
  : esc-y - eyedrop (pick up color)  :   : esc-D - set frame delay          :
  : esc-l - color character          :   : esc-+/esc-- - faster/slower      :
  : esc-c - color picker             :   : esc-R - set playback/edit range  :
  : shift-arrows - select for copy   :   : esc-g - go to frame #            :
  : esc-K - mark selection           :   : esc-M - move frame               :
  : esc-v - paste                    :   :..................................:
  :..................................:
                                         .. UI/Misc .........................
  .. File Operations .................   : esc-m - main menu                :
  : esc-C - new/clear canvas         :   : esc-t - mouse tools              :
  : esc-o - open                     :   : esc-z - undo                     :
  : esc-s - save                     :   : esc-r - redo                     :
  :..................................:   : esc-V - view mode                :
                                         : esc-i - file/canvas info         :
  .. Canvas Size .....................   : esc-I - character inspector      :
  : esc-&quot; - insert line              :   : tab - focus canvas or colors     :
  : esc-: - delete line              :   : ctrl-l - redraw screen           :
  : esc-> - insert column            :   : esc-h - help                     :
  : esc-< - delete column            :   : esc-q - quit                     :
  :..................................:   :..................................:
                                                            Prev   Next
                                                            Frame  Frame
                                                            |      |
Main   Frame     Speed     Frame   Play/Edit  Mouse   First | Play |  Last
Menu   Number      |       Delay   Range      Tools   Frame | Pause|  Frame
 |     |           |        |       |          |         |  |  |   |  |
[Menu] F: 1/8    <FPS>: 8   D: 0.00 R: 1/8   [Move]      |< << |> >> >|  "><pre><code>  .. Art Editing .....................   .. About ...........................
  : F1-F10 - insert character        :   : version: {ver}                   :
  : esc-up - next fg color           :   : color mode: {colormode}          :
  : esc-down - prev fg color         :   : character encoding: {charmode}   :
  : esc-right - next bg color (16c)  :   :..................................:
  : esc-left - prev bg color         :
  : esc-/ - insert line              :   .. Animation .......................
  : esc-' - delete line              :   : esc-k - next frame               :
  : esc-. - insert column            :   : esc-j - previous frame           :
  : esc-, - delete column            :   : esc-p - start/stop payback       :
  : esc-] - next character group     :   : esc-n - clone frame              :
  : esc-[ - previous character group :   : esc-N - append empty frame       :
  : esc-S - change character set     :   : esc-d - delete frame             :
  : esc-y - eyedrop (pick up color)  :   : esc-D - set frame delay          :
  : esc-l - color character          :   : esc-+/esc-- - faster/slower      :
  : esc-c - color picker             :   : esc-R - set playback/edit range  :
  : shift-arrows - select for copy   :   : esc-g - go to frame #            :
  : esc-K - mark selection           :   : esc-M - move frame               :
  : esc-v - paste                    :   :..................................:
  :..................................:
                                         .. UI/Misc .........................
  .. File Operations .................   : esc-m - main menu                :
  : esc-C - new/clear canvas         :   : esc-t - mouse tools              :
  : esc-o - open                     :   : esc-z - undo                     :
  : esc-s - save                     :   : esc-r - redo                     :
  :..................................:   : esc-V - view mode                :
                                         : esc-i - file/canvas info         :
  .. Canvas Size .....................   : esc-I - character inspector      :
  : esc-" - insert line              :   : tab - focus canvas or colors     :
  : esc-: - delete line              :   : ctrl-l - redraw screen           :
  : esc-&gt; - insert column            :   : esc-h - help                     :
  : esc-&lt; - delete column            :   : esc-q - quit                     :
  :..................................:   :..................................:
                                                            Prev   Next
                                                            Frame  Frame
                                                            |      |
Main   Frame     Speed     Frame   Play/Edit  Mouse   First | Play |  Last
Menu   Number      |       Delay   Range      Tools   Frame | Pause|  Frame
 |     |           |        |       |          |         |  |  |   |  |
[Menu] F: 1/8    &lt;FPS&gt;: 8   D: 0.00 R: 1/8   [Move]      |&lt; &lt;&lt; |&gt; &gt;&gt; &gt;|  
</code></pre></div>
<h2 tabindex="-1" dir="auto">CONFIGURATION</h2>
<p dir="auto">You can create a custom startup file where you can set a theme.</p>
<p dir="auto">If you did not already do so during installation, you can install a sample configuration and some themes into ~/.durdraw/ with the command:</p>

<p dir="auto">This will place durdraw.ini into ~/.durdraw/ and the themes into ~/.durdraw/themes/.</p>
<p dir="auto">Here is an example durdraw.ini file:</p>
<pre>; Durdraw 0.20 Configuration File
[Theme]
theme-16: ~/.durdraw/themes/purpledrank-16.dtheme.ini
theme-256: ~/.durdraw/themes/mutedform-256.dtheme.ini
</pre>
<p dir="auto">The option 'theme-16' sets the path to the theme file used in 16-color mode, and 'theme-256' sets the theme file used for 256-color mode.</p>
<p dir="auto">Note that you can also load a custom theme file using the --theme command-line argument and passing it the path to a theme file, or disable themes entirely with the --notheme command line option.</p>
<p dir="auto">Here is an example 16-color theme:</p>
<pre>[Theme-16]
name: 'Purple Drank'
mainColor: 6
clickColor: 3
borderColor: 6
clickHighlightColor: 5
notificationColor: 4
promptColor: 4
</pre>
<p dir="auto">and a 256-color theme:</p>
<pre>[Theme-256]
name: 'Muted Form'
mainColor: 104
clickColor: 37
borderColor: 236
clickHighlightColor: 15
notificationColor: 87
promptColor: 189
menuItemColor: 189
menuTitleColor: 159
menuBorderColor: 24
</pre>
<p dir="auto">The colors and theme options are as follows:</p>
<p dir="auto">colors for 16-color mode:
1 black
2 blue
3 green
4 cyan
5 red
6 magenta
7 yellow
8 white</p>
<p dir="auto">color codes numbers for 256-color mode can be found in Durdraw's 256-color selector.</p>
<div data-snippet-clipboard-copy-content="mainColor: the color of most text
clickColor: the color of buttons (clickable items)
clickHighlightColor: the color the button changes to for a moment when clicked
borderColor: the color of the border around a drawing
notificationColor: the color of notification messages
promptColor: the color of user prompt messages
menuItemColor: the color of menu items
menuTitleColor: the color of menu titles
menuBorderColor: the color of the border around menus"><pre><code>mainColor: the color of most text
clickColor: the color of buttons (clickable items)
clickHighlightColor: the color the button changes to for a moment when clicked
borderColor: the color of the border around a drawing
notificationColor: the color of notification messages
promptColor: the color of user prompt messages
menuItemColor: the color of menu items
menuTitleColor: the color of menu titles
menuBorderColor: the color of the border around menus
</code></pre></div>
<h2 tabindex="-1" dir="auto">OTHER TIPS</h2>
<div data-snippet-clipboard-copy-content="* To use themes, copy durdraw.ini to ~/.durdraw/ and edit it. Durdraw
  will also check in the current directory for durdraw.ini.

* The mouse can be used for moving the cursor (even over SSH) and
  clicking buttons, if your terminal supports Xterm mouse reporting.
  In iTerm2 this is under Profiles, Terminal and Terminal Emulation.

* If IBM-PC characters (-A) are not working in gnu screen, try running the
  following screen command (by pressing ctrl-a and typing):
    :utf8 off off
  then type &quot;ctrl-a l&quot; to redraw the window.
  Also see &quot;OPTIONAL INSTALLATION&quot; notes below"><pre><code>* To use themes, copy durdraw.ini to ~/.durdraw/ and edit it. Durdraw
  will also check in the current directory for durdraw.ini.

* The mouse can be used for moving the cursor (even over SSH) and
  clicking buttons, if your terminal supports Xterm mouse reporting.
  In iTerm2 this is under Profiles, Terminal and Terminal Emulation.

* If IBM-PC characters (-A) are not working in gnu screen, try running the
  following screen command (by pressing ctrl-a and typing):
    :utf8 off off
  then type "ctrl-a l" to redraw the window.
  Also see "OPTIONAL INSTALLATION" notes below
</code></pre></div>
<h2 tabindex="-1" dir="auto">OPTIONAL INSTALLATION</h2>
<p dir="auto">For PNG and animated GIF export, install Ansilove (<a href="https://ansilove.org/" rel="nofollow">https://ansilove.org/</a>) and make sure it is is in your path. PNG and GIF export only work in 16-color mode for now.</p>
<p dir="auto">If you want to try making animated IBM-PC/MS-DOS ANSI art with durdraw, you
need a terminal and font that supports ASCII encoding and IBM's Code Page 437.
You can find fonts in the "extras" directory for this purpose. Once this is done,
start Durdraw with the -A or --ibmpc command-line argument.</p>
<p dir="auto">Note that ANSI art character support is experimental (see FAQ).</p>
<p dir="auto">In Linux/X11, here is one possible way to set up a terminal for IBM-PC ANSI art:</p>
<ul dir="auto">
<li>Install mrxvt</li>
<li>Install vga.pcf by copying it to /usr/share/fonts/X11/misc and then running
these commands. This may be different on your OS:
$ mkfontdir /usr/share/fonts/X11/misc/
$ xset fp rehash</li>
<li>Give mrxvt IBM-PC colors by copying the contents of Xdefaults into your own
~/.Xdefaults file. You can create ~/.Xdefaults if it does not exist.</li>
<li>Launch mrxvt with: mrxvt -fn vga -bg black -fg grey</li>
</ul>
<p dir="auto">If you are using macOS or MacOS X and want IBM-PC ANSI art support in
Terminal.app:</p>
<ol dir="auto">
<li>Install dos437.ttf font (included) by double-clicking it.</li>
<li>Create a profile in Terminal Preferences/Settings with the following
settings (similar settings can be applied in iTerm):
<ul dir="auto">
<li>In Text tab, Font set to dos437 (I like 9pt) and "Display ANSI colors"<br>
and "Use bright colors for bold text" are checked</li>
<li>In Keyboard tab, "Use option as meta key" selected</li>
<li>In "Advanced" tab, Character encoding set to "Western (ISO Latin 1)"</li>
<li>Set background color to black (low or no transprency) and foreground
color to white</li>
</ul>
</li>
</ol>
<p dir="auto">Once this is setup, pass "-A" to durdraw's command-line to allow you to use
F1-F12 to input ANSI block characters.</p>
<h2 tabindex="-1" dir="auto">FAQ</h2>
<h4 tabindex="-1" dir="auto">Q: Don't TheDraw and some other programs already do ANSI animation?</h4>
<p dir="auto">A: Yes, but traditional ANSI animation does not provide any control over timing, instead relying on terminal baud rate to control the speed. This does not work well on modern systems without baud rate emulation. Durdraw gives the artist fine control over frame rate, and delays per frame. Traditional ANSI animation also updates the animation one character at a time, while Durdraw updates the animation a full frame at a time. This makes it less vulnerable to visual corruption from things like errant terminal characters, resized windows, line noise, etc. Finally, unlike TheDraw, which requires MS-DOS, Durdraw runs in modern Unicode terminals.</p>
<h4 tabindex="-1" dir="auto">Q: Can I run Durdraw in Windows?</h4>
<p dir="auto">A: Short answer: It's not supported, but it seems to work fine in the Windows Subsystem for Linux (WSL). Long answer: Some versions run fine in Windows Command Prompt, Windows Terminal, etc, without WSL, but it's not tested or supported. If you want to help make Durdraw work better in Windows, please help by testing, submitting bug reports and submitting patches.</p>
<h4 tabindex="-1" dir="auto">Q: Can I run Durdraw on Amiga, MS-DOS, Classic MacOS, iOS, Android, etc?</h4>
<p dir="auto">A: Probably not easily. Durdraw requires Python 3 and Ncurses. If your platform can support these, it will probably run. However, the file format for Durdraw movies is a plain text JSON format. It should be possible to support this format in different operating systems and in different applications.</p>
<h4 tabindex="-1" dir="auto">Q: Does Durdraw support IBM-PC ANSI art?</h4>
<p dir="auto">A: Yes - Kind of. Durdraw can support IBM-PC (Code Page 437) extended ASCII characters using the -A command-line option, and can export ANSI files. However, ANSI importing is not currently supported. Please see the "OPTIONAL INSTALLATION" section above for more details. If you do not pass the -A command-line option, then Unicode block characters similar to IBM-PC block characters are enabled by default.</p>
<h3 tabindex="-1" dir="auto">CREDITS</h3>
<p dir="auto">Developer: Sam Foster</p>
<p dir="auto">Home page: <a href="http://durdraw.org/" rel="nofollow">http://durdraw.org</a></p>
<p dir="auto">Development: <a href="https://github.com/cmang/durdraw">https://github.com/cmang/durdraw</a></p>
<p dir="auto">ANSI and ASCII artists: cmang, H7, LDA</p>
<h3 tabindex="-1" dir="auto">LEGAL</h3>
<p dir="auto">Durdraw is Copyright (c) 2009-2023 Sam Foster <a href="mailto:samfoster@gmail.com">samfoster@gmail.com</a>. All rights reserved.</p>
<p dir="auto">Permission to use, copy, modify, and distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.</p>
<p dir="auto">THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</p>
<p dir="auto">License for dos437.ttf font:
Copyright (c) 2011 joshua stein <a href="mailto:jcs@jcs.org">jcs@jcs.org</a></p>
<p dir="auto">Permission to use, copy, modify, and distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.</p>
<p dir="auto">THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</p>
<p dir="auto">The vga.pcf font was taken from the Dosemu project and appears to be in
the public domain. Further discussion on its copyright status can be found
at <a href="http://www.dosemu.org/docs/misc/COPYING.html" rel="nofollow">http://www.dosemu.org/docs/misc/COPYING.html</a></p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Web browser as GUI, with your preferred language in the backend (171 pts)]]></title>
            <link>https://github.com/webui-dev/webui</link>
            <guid>38830673</guid>
            <pubDate>Mon, 01 Jan 2024 09:30:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/webui-dev/webui">https://github.com/webui-dev/webui</a>, See on <a href="https://news.ycombinator.com/item?id=38830673">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><div dir="auto">
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/34311583/255631713-c92e712f-0698-486a-a460-d4acea28a4f8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNTU2MzE3MTMtYzkyZTcxMmYtMDY5OC00ODZhLWE0NjAtZDRhY2VhMjhhNGY4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTU0NGQyYjgyYzdkMjgxMTU5OGFhMWU5YzQwMTIzNDIyOTM4MjBkMDljOWVhNzU0MTBhOWMzZTAzZDA3M2UwZDgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.M-AItWwMztvSTvQQaX4Rnb_53l2nKXBSRbLtTpgikcU"><img src="https://private-user-images.githubusercontent.com/34311583/255631713-c92e712f-0698-486a-a460-d4acea28a4f8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNTU2MzE3MTMtYzkyZTcxMmYtMDY5OC00ODZhLWE0NjAtZDRhY2VhMjhhNGY4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTU0NGQyYjgyYzdkMjgxMTU5OGFhMWU5YzQwMTIzNDIyOTM4MjBkMDljOWVhNzU0MTBhOWMzZTAzZDA3M2UwZDgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.M-AItWwMztvSTvQQaX4Rnb_53l2nKXBSRbLtTpgikcU" alt="Logo"></a></p>
<h2 tabindex="-1" dir="auto">WebUI v2.4.2</h2>
<p dir="auto"><a href="https://github.com/webui-dev/webui/actions?query=branch%3Amain"><img src="https://camo.githubusercontent.com/8a61d16df3623fafe045cf586db31a25a4096cf1434fa8d3413f21eef4d72ddf/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f616374696f6e732f776f726b666c6f772f7374617475732f77656275692d6465762f77656275692f63692e796d6c3f6272616e63683d6d61696e267374796c653d666f722d7468652d6261646765266c6f676f3d676974687562616374696f6e73266c6162656c436f6c6f723d343134383638266c6f676f436f6c6f723d433043414635" alt="" data-canonical-src="https://img.shields.io/github/actions/workflow/status/webui-dev/webui/ci.yml?branch=main&amp;style=for-the-badge&amp;logo=githubactions&amp;labelColor=414868&amp;logoColor=C0CAF5"></a>
<a href="https://github.com/webui-dev/webui/pulse"><img src="https://camo.githubusercontent.com/105c7c799652397c2f6bf1afdf2a2671827070f7afed6bd66a69166c8ec784b8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6173742d636f6d6d69742f77656275692d6465762f77656275693f7374796c653d666f722d7468652d6261646765266c6f676f3d676974687562266c6f676f436f6c6f723d433043414635266c6162656c436f6c6f723d343134383638" alt="" data-canonical-src="https://img.shields.io/github/last-commit/webui-dev/webui?style=for-the-badge&amp;logo=github&amp;logoColor=C0CAF5&amp;labelColor=414868"></a>
<a href="https://github.com/webui-dev/webui/releases/latest"><img src="https://camo.githubusercontent.com/58ca673feafda0ae3bf3bfa12ecebd326b15a105f878fef1aa76f8d9afd74904/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f762f7461672f77656275692d6465762f77656275693f7374796c653d666f722d7468652d6261646765266c6f676f3d7765627472656573266c6f676f436f6c6f723d433043414635266c6162656c436f6c6f723d34313438363826636f6c6f723d373636344336" alt="" data-canonical-src="https://img.shields.io/github/v/tag/webui-dev/webui?style=for-the-badge&amp;logo=webtrees&amp;logoColor=C0CAF5&amp;labelColor=414868&amp;color=7664C6"></a>
<a href="https://github.com/webui-dev/webui/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/f13e336fcab7ef4fd19ef7c84345f6e9c35cbfe7b2bf0c2c8697096d5040f2a0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f77656275692d6465762f77656275693f7374796c653d666f722d7468652d6261646765266c6f676f3d6f70656e736f757263656861726477617265266c6162656c3d4c6963656e7365266c6f676f436f6c6f723d433043414635266c6162656c436f6c6f723d34313438363826636f6c6f723d386337336363" alt="" data-canonical-src="https://img.shields.io/github/license/webui-dev/webui?style=for-the-badge&amp;logo=opensourcehardware&amp;label=License&amp;logoColor=C0CAF5&amp;labelColor=414868&amp;color=8c73cc"></a></p>
<blockquote>
<p dir="auto">WebUI is not a web-server solution or a framework, but it allows you to use any web browser as a GUI, with your preferred language in the backend and HTML5 in the frontend. All in a lightweight portable lib.</p>
</blockquote>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/34311583/255632189-57992ef1-4f7f-4d60-8045-7b07df4088c6.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNTU2MzIxODktNTc5OTJlZjEtNGY3Zi00ZDYwLTgwNDUtN2IwN2RmNDA4OGM2LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTIzNGU5MmI0NzIzNmJmNzEwMDU0MTdjNGExMjgyMWNlZmI4MjQwMTRhZDU1ZjliYTUxYmJlZTg1ZGE5ZmRhZDImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.il6DsDlATW8Cpg08GeGl3z88DWwe4PM7fzpGbM5ixjE"><img src="https://private-user-images.githubusercontent.com/34311583/255632189-57992ef1-4f7f-4d60-8045-7b07df4088c6.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNTU2MzIxODktNTc5OTJlZjEtNGY3Zi00ZDYwLTgwNDUtN2IwN2RmNDA4OGM2LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTIzNGU5MmI0NzIzNmJmNzEwMDU0MTdjNGExMjgyMWNlZmI4MjQwMTRhZDU1ZjliYTUxYmJlZTg1ZGE5ZmRhZDImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.il6DsDlATW8Cpg08GeGl3z88DWwe4PM7fzpGbM5ixjE" alt="Screenshot"></a></p>
</div>
<h2 tabindex="-1" dir="auto">Download</h2>
<ul dir="auto">
<li><a href="https://github.com/webui-dev/webui/releases">Latest Stable Release</a></li>
<li><a href="https://github.com/webui-dev/webui/releases/tag/nightly">Nightly Build</a></li>
</ul>
<h2 tabindex="-1" dir="auto">Contents</h2>
<ul dir="auto">
<li><a href="#features">Features</a></li>
<li><a href="#showcase">Showcase</a></li>
<li><a href="#ui--the-web-technologies">UI &amp; The Web Technologies</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#build">Build</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#wrappers">Wrappers</a></li>
<li><a href="#supported-web-browsers">Supported Web Browsers</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 tabindex="-1" dir="auto">Features</h2>
<ul dir="auto">
<li>Portable (<em>Needs only a web browser at runtime</em>)</li>
<li>One header file</li>
<li>Lightweight (<em>Few Kb library</em>) &amp; Small memory footprint</li>
<li>Fast binary communication protocol</li>
<li>Multi-platform &amp; Multi-Browser</li>
<li>Using private profile for safety</li>
</ul>
<h2 tabindex="-1" dir="auto">Showcase</h2>
<p dir="auto">This <a href="https://github.com/webui-dev/webui/tree/main/examples/C/text-editor">text editor</a> is a lightweight and portable example written in C using WebUI as the GUI library.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/34311583/255719171-c1ccf29c-806a-4742-bfd7-a3dc30cab70b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNTU3MTkxNzEtYzFjY2YyOWMtODA2YS00NzQyLWJmZDctYTNkYzMwY2FiNzBiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQzN2MwMzQ3MmJkNjkxODNhYmU0Njk3NDRkMWY5ZGY2YmY4N2U0OGVmZTljMjY3YzE5ZTU5MjM2MDg2ZTRkNWMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.TJzUxRwER8e9vWrUZFDMbQTDMoI0Y1eD4I9pkSjsvmg"><img src="https://private-user-images.githubusercontent.com/34311583/255719171-c1ccf29c-806a-4742-bfd7-a3dc30cab70b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNTU3MTkxNzEtYzFjY2YyOWMtODA2YS00NzQyLWJmZDctYTNkYzMwY2FiNzBiLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWQzN2MwMzQ3MmJkNjkxODNhYmU0Njk3NDRkMWY5ZGY2YmY4N2U0OGVmZTljMjY3YzE5ZTU5MjM2MDg2ZTRkNWMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.TJzUxRwER8e9vWrUZFDMbQTDMoI0Y1eD4I9pkSjsvmg" alt="Example"></a></p>
<h2 tabindex="-1" dir="auto">UI &amp; The Web Technologies</h2>
<p dir="auto"><a href="https://ibob.bg/" rel="nofollow">Borislav Stanimirov</a> discusses using HTML5 in the web browser as GUI at the <a href="https://www.youtube.com/watch?v=bbbcZd4cuxg" rel="nofollow">C++ Conference 2019 (<em>YouTube</em>)</a>.</p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/34311583/265778796-4e830caa-4ca0-44ff-825f-7cd6d94083c8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNjU3Nzg3OTYtNGU4MzBjYWEtNGNhMC00NGZmLTgyNWYtN2NkNmQ5NDA4M2M4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWEyMWJiMzBhMDM0MTc3YmE4NDgxMGVhNDQ2MzNkOGVkOWY1OTM0YjE1ZjFkMjE5MDY1NzkxZDBmMWEzOTgzODcmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.ScTrJ9ikridfzREY7iha9LlRFTO2B1YG4bGXCJZazjw"><img src="https://private-user-images.githubusercontent.com/34311583/265778796-4e830caa-4ca0-44ff-825f-7cd6d94083c8.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNjU3Nzg3OTYtNGU4MzBjYWEtNGNhMC00NGZmLTgyNWYtN2NkNmQ5NDA4M2M4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWEyMWJiMzBhMDM0MTc3YmE4NDgxMGVhNDQ2MzNkOGVkOWY1OTM0YjE1ZjFkMjE5MDY1NzkxZDBmMWEzOTgzODcmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.ScTrJ9ikridfzREY7iha9LlRFTO2B1YG4bGXCJZazjw" alt="CPPCon"></a></p>
<p dir="auto">Web application UI design is not just about how a product looks but how it works. Using web technologies in your UI makes your product modern and professional, And a well-designed web application will help you make a solid first impression on potential customers. Great web application design also assists you in nurturing leads and increasing conversions. In addition, it makes navigating and using your web app easier for your users.</p>
<h3 tabindex="-1" dir="auto">Why Use Web Browsers?</h3>
<p dir="auto">Today's web browsers have everything a modern UI needs. Web browsers are very sophisticated and optimized. Therefore, using it as a GUI will be an excellent choice. While old legacy GUI lib is complex and outdated, a WebView-based app is still an option. However, a WebView needs a huge SDK to build and many dependencies to run, and it can only provide some features like a real web browser. That is why WebUI uses real web browsers to give you full features of comprehensive web technologies while keeping your software lightweight and portable.</p>
<h3 tabindex="-1" dir="auto">How Does it Work?</h3>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/34311583/265780957-dbde3573-3161-421e-925c-392a39f45ab3.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNjU3ODA5NTctZGJkZTM1NzMtMzE2MS00MjFlLTkyNWMtMzkyYTM5ZjQ1YWIzLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTcxNWE2N2MwOWJlNzE3NzY5MmI5Njg3ZTY2MjkwZWJhZWFjZDBmN2I2MzgyOTEzNGMwN2I2NzdkMWVjNzBmYjImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.fkDZJlVq50EyVNWJGCQHhFzXAkF4pkMGzT8lrrC_Mdg"><img src="https://private-user-images.githubusercontent.com/34311583/265780957-dbde3573-3161-421e-925c-392a39f45ab3.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQxMzk1MDQsIm5iZiI6MTcwNDEzOTIwNCwicGF0aCI6Ii8zNDMxMTU4My8yNjU3ODA5NTctZGJkZTM1NzMtMzE2MS00MjFlLTkyNWMtMzkyYTM5ZjQ1YWIzLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAxMDElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMTAxVDIwMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTcxNWE2N2MwOWJlNzE3NzY5MmI5Njg3ZTY2MjkwZWJhZWFjZDBmN2I2MzgyOTEzNGMwN2I2NzdkMWVjNzBmYjImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.fkDZJlVq50EyVNWJGCQHhFzXAkF4pkMGzT8lrrC_Mdg" alt="Diagram"></a></p>
<p dir="auto">Think of WebUI like a WebView controller, but instead of embedding the WebView controller in your program, which makes the final program big in size, and non-portable as it needs the WebView runtimes. Instead, by using WebUI, you use a tiny static/dynamic library to run any installed web browser and use it as GUI, which makes your program small, fast, and portable. <strong>All it needs is a web browser</strong>.</p>
<h3 tabindex="-1" dir="auto">Runtime Dependencies Comparison</h3>
<table>
<thead>
<tr>
<th></th>
<th>WebView</th>
<th>Qt</th>
<th>WebUI</th>
</tr>
</thead>
<tbody>
<tr>
<td>Runtime Dependencies on Windows</td>
<td><em>WebView2</em></td>
<td><em>QtCore, QtGui, QtWidgets</em></td>
<td><strong><em>A Web Browser</em></strong></td>
</tr>
<tr>
<td>Runtime Dependencies on Linux</td>
<td><em>GTK3, WebKitGTK</em></td>
<td><em>QtCore, QtGui, QtWidgets</em></td>
<td><strong><em>A Web Browser</em></strong></td>
</tr>
<tr>
<td>Runtime Dependencies on macOS</td>
<td><em>Cocoa, WebKit</em></td>
<td><em>QtCore, QtGui, QtWidgets</em></td>
<td><strong><em>A Web Browser</em></strong></td>
</tr>
</tbody>
</table>
<h2 tabindex="-1" dir="auto">Documentation</h2>
<blockquote>
<p dir="auto"><strong>Note</strong>
We are currently writing documentation.</p>
</blockquote>
<ul dir="auto">
<li><a href="https://webui.me/docs/#/c_api" rel="nofollow">Online Documentation - C</a></li>
<li><a href="https://webui.me/docs/#/cpp_api" rel="nofollow">Online Documentation - C++</a></li>
</ul>
<h2 tabindex="-1" dir="auto">Build</h2>
<ul dir="auto">
<li>
<p dir="auto"><strong>Windows</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="# GCC
mingw32-make

# MSVC
nmake"><pre><span><span>#</span> GCC</span>
mingw32<span>-</span>make

<span><span>#</span> MSVC</span>
nmake</pre></div>
<p dir="auto"><strong>Windows SSL/TLS (<em>Optional</em>)</strong></p>
<p dir="auto">Download and install the OpenSSL pre-compiled binaries for Windows:</p>
<ul dir="auto">
<li>MSVC: <a href="https://slproweb.com/download/Win64OpenSSL-3_1_3.msi" rel="nofollow">x64 OpenSSL v3.1.3</a> or <a href="https://slproweb.com/download/Win32OpenSSL-3_1_3.msi" rel="nofollow"><em>32Bit</em></a>. Please check this <a href="https://wiki.openssl.org/index.php/Binaries" rel="nofollow">Wiki list</a> for more info.</li>
<li>MinGW: <a href="https://curl.se/windows/" rel="nofollow">Curl for Windows win OpenSSL</a></li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="# GCC
mingw32-make WEBUI_USE_TLS=1 WEBUI_TLS_INCLUDE=&quot;C:\curl-xxx-xxx-mingw\curl-xxx-xxx-mingw\include&quot; WEBUI_TLS_LIB=&quot;C:\curl-xxx-xxx-mingw\curl-xxx-xxx-mingw\lib&quot;

# MSVC
nmake WEBUI_USE_TLS=1 WEBUI_TLS_INCLUDE=&quot;C:\Program Files\OpenSSL-xxx\include&quot; WEBUI_TLS_LIB=&quot;C:\Program Files\OpenSSL-xxx\lib&quot;"><pre><span><span>#</span> GCC</span>
mingw32<span>-</span>make WEBUI_USE_TLS<span>=</span><span>1</span> WEBUI_TLS_INCLUDE<span>=</span><span><span>"</span>C:\curl-xxx-xxx-mingw\curl-xxx-xxx-mingw\include<span>"</span></span> WEBUI_TLS_LIB<span>=</span><span><span>"</span>C:\curl-xxx-xxx-mingw\curl-xxx-xxx-mingw\lib<span>"</span></span>

<span><span>#</span> MSVC</span>
nmake WEBUI_USE_TLS<span>=</span><span>1</span> WEBUI_TLS_INCLUDE<span>=</span><span><span>"</span>C:\Program Files\OpenSSL-xxx\include<span>"</span></span> WEBUI_TLS_LIB<span>=</span><span><span>"</span>C:\Program Files\OpenSSL-xxx\lib<span>"</span></span></pre></div>
</li>
<li>
<p dir="auto"><strong>Linux</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="# GCC
make

# Clang
make CC=clang"><pre><span><span>#</span> GCC</span>
make

<span><span>#</span> Clang</span>
make CC=clang</pre></div>
<p dir="auto"><strong>Linux SSL/TLS (<em>Optional</em>)</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo apt update
sudo apt install libssl-dev

# GCC
make WEBUI_USE_TLS=1

# Clang
make WEBUI_USE_TLS=1 CC=clang"><pre>sudo apt update
sudo apt install libssl-dev

<span><span>#</span> GCC</span>
make WEBUI_USE_TLS=1

<span><span>#</span> Clang</span>
make WEBUI_USE_TLS=1 CC=clang</pre></div>
</li>
<li>
<p dir="auto"><strong>macOS</strong></p>

<p dir="auto"><strong>macOS SSL/TLS (<em>Optional</em>)</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="brew install openssl
make WEBUI_USE_TLS=1"><pre>brew install openssl
make WEBUI_USE_TLS=1</pre></div>
</li>
</ul>
<h2 tabindex="-1" dir="auto">Examples</h2>
<ul dir="auto">
<li><a href="https://github.com/webui-dev/webui/tree/main/examples/C">C</a></li>
<li><a href="https://github.com/webui-dev/webui/tree/main/examples/C++">C++</a></li>
</ul>
<h2 tabindex="-1" dir="auto">Wrappers</h2>
<table>
<thead>
<tr>
<th>Language</th>
<th>Status</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Go</td>
<td>✔️</td>
<td><a href="https://github.com/webui-dev/go-webui">Go-WebUI</a></td>
</tr>
<tr>
<td>Nim</td>
<td>✔️</td>
<td><a href="https://github.com/webui-dev/nim-webui">Nim-WebUI</a></td>
</tr>
<tr>
<td>Pascal</td>
<td>✔️</td>
<td><a href="https://github.com/webui-dev/pascal-webui">Pascal-WebUI</a></td>
</tr>
<tr>
<td>Python</td>
<td>✔️</td>
<td><a href="https://github.com/webui-dev/python-webui">Python-WebUI</a></td>
</tr>
<tr>
<td>Rust</td>
<td><em>not complete</em></td>
<td><a href="https://github.com/webui-dev/rust-webui">Rust-WebUI</a></td>
</tr>
<tr>
<td>TypeScript / JavaScript</td>
<td>✔️</td>
<td><a href="https://github.com/webui-dev/deno-webui">Deno-WebUI</a></td>
</tr>
<tr>
<td>V</td>
<td>✔️</td>
<td><a href="https://github.com/webui-dev/v-webui">V-WebUI</a></td>
</tr>
<tr>
<td>Zig</td>
<td><em>not complete</em></td>
<td><a href="https://github.com/webui-dev/zig-webui">Zig-WebUI</a></td>
</tr>
<tr>
<td>Odin</td>
<td><em>not complete</em></td>
<td><a href="https://github.com/webui-dev/odin-webui">Odin-WebUI</a></td>
</tr>
</tbody>
</table>
<h2 tabindex="-1" dir="auto">Supported Web Browsers</h2>
<table>
<thead>
<tr>
<th>Browser</th>
<th>Windows</th>
<th>macOS</th>
<th>Linux</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mozilla Firefox</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Google Chrome</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Microsoft Edge</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Chromium</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Yandex</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Brave</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Vivaldi</td>
<td>✔️</td>
<td>✔️</td>
<td>✔️</td>
</tr>
<tr>
<td>Epic</td>
<td>✔️</td>
<td>✔️</td>
<td><em>not available</em></td>
</tr>
<tr>
<td>Apple Safari</td>
<td><em>not available</em></td>
<td><em>coming soon</em></td>
<td><em>not available</em></td>
</tr>
<tr>
<td>Opera</td>
<td><em>coming soon</em></td>
<td><em>coming soon</em></td>
<td><em>coming soon</em></td>
</tr>
</tbody>
</table>
<h3 tabindex="-1" dir="auto">License</h3>
<blockquote>
<p dir="auto">Licensed under MIT License.</p>
</blockquote>
<h3 tabindex="-1" dir="auto">Stargazers</h3>
<p dir="auto"><a href="https://github.com/webui-dev/webui/stargazers"><img src="https://camo.githubusercontent.com/73d6a3608870dd359eaca06814d12192b61e23b37f33c6175fd807942d789c2b/68747470733a2f2f7265706f726f737465722e636f6d2f73746172732f77656275692d6465762f7765627569" alt="Stargazers repo roster for @webui-dev/webui" data-canonical-src="https://reporoster.com/stars/webui-dev/webui"></a></p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Magnitude 7.4 earthquake stikes Japan, major tsunami warning issued for Ishikawa (263 pts)]]></title>
            <link>https://www3.nhk.or.jp/nhkworld/en/news/20240101_15/</link>
            <guid>38830281</guid>
            <pubDate>Mon, 01 Jan 2024 07:41:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www3.nhk.or.jp/nhkworld/en/news/20240101_15/">https://www3.nhk.or.jp/nhkworld/en/news/20240101_15/</a>, See on <a href="https://news.ycombinator.com/item?id=38830281">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                <p>A massive magnitude-7.6 earthquake has struck Ishikawa Prefecture, in central Japan, along the Japan Sea coast.</p>
                <p>A major tsunami warning has been issued for the prefecture.</p>
                <p>Tsunami warnings were also issued for Niigata, Toyama, Yamagata, Fukui and Hyogo prefectures, also along the Japan Sea Coast.</p>
                <p>An intensity of seven on the Japanese scale of 0 to seven was observed on the Noto Peninsula, Ishikawa Prefecture.</p>
              </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Disney's Mickey Mouse enter public domain (365 pts)]]></title>
            <link>https://www.bbc.com/news/entertainment-arts-67833411</link>
            <guid>38830264</guid>
            <pubDate>Mon, 01 Jan 2024 07:35:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bbc.com/news/entertainment-arts-67833411">https://www.bbc.com/news/entertainment-arts-67833411</a>, See on <a href="https://news.ycombinator.com/item?id=38830264">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><main id="main-content" data-testid="main-content"><article><header></header><div data-component="image-block"><figure><p><span><picture><source srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg.webp 240w, https://ichef.bbci.co.uk/news/320/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg.webp 320w, https://ichef.bbci.co.uk/news/480/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg.webp 480w, https://ichef.bbci.co.uk/news/624/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg.webp 624w, https://ichef.bbci.co.uk/news/800/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg.webp 800w, https://ichef.bbci.co.uk/news/976/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg.webp 976w" type="image/webp"><img alt="A picture of Mickey Mouse in Steamboat Willie" srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg 240w, https://ichef.bbci.co.uk/news/320/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg 320w, https://ichef.bbci.co.uk/news/480/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg 480w, https://ichef.bbci.co.uk/news/624/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg 624w, https://ichef.bbci.co.uk/news/800/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg 800w, https://ichef.bbci.co.uk/news/976/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg 976w" src="https://ichef.bbci.co.uk/news/976/cpsprodpb/0A9C/production/_132161720_steamboatwillieresized.jpg" width="976" height="549" loading="eager"></picture></span><span role="text"><span>Image source, </span>Disney</span></p><figcaption><span>Image caption, </span><p>A picture of Mickey Mouse in the 1928 short film Steamboat Willie</p></figcaption></figure></div><div data-component="text-block"><p><b>It was the animation that launched the House of Mouse.</b></p></div><div data-component="text-block"><p>Steamboat Willie, a 1928 short film featuring early non-speaking versions of Mickey and Minnie, is widely seen as the moment that transformed Disney's fortunes and made cinema history.</p></div><div data-component="text-block"><p>Their images are now available to the public in the US, after Disney's copyright expired. </p></div><div data-component="text-block"><p>It means creatives like cartoonists can now rework and use the earliest versions of Mickey and Minnie.</p></div><div data-component="text-block"><p>In fact, anyone can use those versions without permission or cost.</p></div><div data-component="text-block"><p>But Disney warned that more modern versions of Mickey are still covered by copyright.</p></div><div data-component="text-block"><p>"We will, of course, continue to protect our rights in the more modern versions of Mickey Mouse and other works that remain subject to copyright," the company said.</p></div><div data-component="text-block"><p>US copyright law says the rights to characters can be held for 95 years, which means the characters in Steamboat Willie entered the public domain on Monday, 1 January 2024.</p></div><div data-component="text-block"><p>Those works can now legally be shared, performed, reused, repurposed or sampled.</p></div><div data-component="text-block"><p>The early versions of Mickey and Minnie are just two of the works entering the public domain in the US on New Year's Day.</p></div><div data-component="text-block"><p>Other famous films, books, music and characters from 1928 are now also available to the American public.</p></div><div data-component="image-block"><figure><p><span><span></span></span><span role="text"><span>Image source, </span>Getty Images</span></p><figcaption><span>Image caption, </span><p>A 1928 lobbycard, or small poster, for The Circus, which won Charlie Chaplin a special Academy Award</p></figcaption></figure></div><div data-component="text-block"><p>They include Charlie Chaplin's silent romantic comedy The Circus; English author AA Milne's book The House at Pooh Corner, which introduced the character Tigger; Virginia Woolf's Orlando; and DH Lawrence's Lady Chatterley's Lover.</p></div><div data-component="text-block"><p>The UK has its own copyright rules and different expiration dates. </p></div><div data-component="text-block"><p>Disney has faced losing the copyright over its original cartoons several times in the past.</p></div><div data-component="text-block"><p>The characters were first expected to go into the public domain in 1984, but Congress extended the term by 20 years.</p></div><div data-component="text-block"><p>Before the next expiry date came up in 2004, another 20-year extension was passed.</p></div><p data-component="subheadline-block"><h2 tabindex="-1" id="Deeply-symbolic"><span role="text">'Deeply symbolic'</span></h2></p><div data-component="text-block"><p>Disney's efforts to protect its characters have even led to the law being dubbed "the Mickey Mouse Protection Act". But the moment has finally come.</p></div><div data-component="text-block"><p>Jennifer Jenkins, director of the Duke Centre for the Study of the Public Domain, told the BBC it was a "deeply symbolic and long awaited" milestone.</p></div><div data-component="text-block"><p>"What that means for us is that as of 2024, anyone will be free to copy, share and build upon those original cartoons from 1928 and the characters within them," she said.</p></div><div data-component="text-block"><p>Jenkins said the moment was particularly significant because of Disney's "perceived role" in the extension of the copyright term, which prevented its properties from going into the public domain for so long.</p></div><div data-component="image-block"><figure><p><span><span></span></span><span role="text"><span>Image source, </span>Getty Images</span></p></figure></div><div data-component="text-block"><p>Disney still separately holds a trademark on Mickey as a brand identifier and a corporate mascot. That means there are still limits on how the public can use these images, Jenkins said.</p></div><div data-component="text-block"><p>"What I cannot do is start making merchandise and the same kinds of products that Disney sells," she said.</p></div><div data-component="text-block"><p>"So if I'm selling T-shirts with Mickey and Minnie on them, and someone seeing those T-shirts thinks erroneously that they're getting a Disney product when they're not, that's what trademark stops."</p></div><div data-component="text-block"><p>So any use of Mickey Mouse that gives the impression he belongs to a brand other than Disney would still be a trademark issue.</p></div><div data-component="text-block"><p>Jack Kendall, a 32-year-old digital content creator from Warwickshire who runs a YouTube channel for Disney news explainers, believes someone may try to give Mickey and Minnie the horror movie treatment.</p></div><div data-component="text-block"><p>He likened it to when Winnie the Pooh entered the public domain and was turned into the R-rated horror film Blood and Honey, which was <a href="https://www.rottentomatoes.com/m/winnie_the_pooh_blood_and_honey/reviews">one of this year's worst-rated films</a>.</p></div><div data-component="text-block"><p>Kendall, who has more than 168,000 subscribers to his DSNY Newscast channel, believes Disney would want to avoid any further legal fights given that the firm has become "a political lightning rod in pop culture".</p></div><div data-component="text-block"><p>"But they also want to protect their two most identifiable characters," he told the BBC.</p></div><div data-component="text-block"><p>He believes Disney's active use of the trademarked versions in Steamboat Willie merchandise, new animated shorts, and even a studios theatrical logo, is "Disney's way of safeguarding the characters if they want to go the legal route in any egregious use of the characters". </p></div><div data-component="text-block"><p>A Disney spokesperson said that ever since Mickey Mouse's first appearance in 1928, people have associated the character with the company.</p></div><div data-component="text-block"><p>"That will not change when the copyright in the Steamboat Willie film expires," they said.</p></div><div data-component="text-block"><p>"More modern versions of Mickey will remain unaffected by the expiration of the Steamboat Willie copyright, and Mickey will continue to play a leading role as a global ambassador for the Walt Disney Company in our storytelling, theme park attractions, and merchandise."</p></div><div data-component="text-block"><p>The company added that it would "work to safeguard against consumer confusion caused by unauthorised uses of Mickey and our other iconic characters".</p></div><div data-component="text-block"><p><i>Additional reporting by Leisha Chi-Santorelli</i></p></div><section data-component="links-block"><p><h2>More on this story</h2></p></section></article></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Steamboat Willie [video] (182 pts)]]></title>
            <link>https://www.youtube.com/watch?v=hmzO--ox7X0</link>
            <guid>38830223</guid>
            <pubDate>Mon, 01 Jan 2024 07:20:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.youtube.com/watch?v=hmzO--ox7X0">https://www.youtube.com/watch?v=hmzO--ox7X0</a>, See on <a href="https://news.ycombinator.com/item?id=38830223">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Git Things (173 pts)]]></title>
            <link>https://matklad.github.io/2023/12/31/git-things.html#Git-Things</link>
            <guid>38830194</guid>
            <pubDate>Mon, 01 Jan 2024 07:10:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://matklad.github.io/2023/12/31/git-things.html#Git-Things">https://matklad.github.io/2023/12/31/git-things.html#Git-Things</a>, See on <a href="https://news.ycombinator.com/item?id=38830194">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  <article>

    
<p><span>A grab bag of less frequently talked about git adjacent points.</span></p>
<section id="Not-Rocket-Science-Rule-Applies-To-Merge-Commits">

    <h2>
    <a href="#Not-Rocket-Science-Rule-Applies-To-Merge-Commits"><span>Not Rocket Science Rule Applies To Merge Commits</span> </a>
    </h2>
<p><span>Should every commit pass the tests? If it should, then your </span><a href="https://graydon2.dreamwidth.org/1597.html"><span>not rocket science</span>
<span>rule</span></a><span> implementation must be verifying this property. It</span>
<span>probably doesn</span>’<span>t, and only tests the final result of merging the feature branch into the main</span>
<span>branch.</span></p>
<p><span>That</span>’<span>s why for typical project it is useful to </span><em><span>merge</span></em><span> pull requests into the main branch </span>—<span> the</span>
<span>linear sequence of merge commits is a record of successful CI runs, and is a set of commits you want</span>
<span>to </span><code>git bisect</code><span> over.</span></p>
<p><span>Within a feature branch, not every commit necessary passes the tests (or even builds), and that is a</span>
<span>useful property! Here</span>’<span>s some ways this can be exploited:</span></p>
<ul>
<li>
<p><span>When fixing a bug, add a failing test first, as a separate commit.</span>
<span>That way it becomes easy to verify for anyone that the test indeed fails without the follow up</span>
<span>fix.</span></p>
<p><span>Related advice: often I see people commenting out tests that currently fail, or tests that are yet</span>
<span>to be fixed in the future. That</span>’<span>s bad, because commented-out code rots faster than the JavaScript</span>
<span>framework of the day. Instead, adjust the asserts such that they lock down the current (wrong)</span>
<span>behavior, and add a clear </span><code>// TODO:</code><span> comment explaining what would be the correct result. This</span>
<span>prevents such tests from rotting and also catches cases where the behavior is fixed by an</span>
<span>unrelated change.</span></p>
</li>
<li>
<p><span>To refactor an API which has a lot of usages, split the work in two commits. In the first commit,</span>
<span>change the API itself, but don</span>’<span>t touch the usages. In the second commit, mechanically adjust all</span>
<span>call sites.</span></p>
<p><span>That way during review it is trivial to separate meaningful changes from a large, but trivial</span>
<span>diff.</span></p>
</li>
<li>
<p><code>git mv</code><span> is fake. For a long time, I believed that </span><code>git mv</code><span> adds some special bit of git metadata</span>
<span>which tells it that the file was moved, such that it can be understood by </span><code>diff</code><span> or </span><code>blame</code><span>.</span>
<span>That</span>’<span>s not the case: </span><code>git mv</code><span> is essentially </span><code>mv</code><span> followed by </span><code>git add</code><span>. There</span>’<span>s nothing in git to</span>
<span>track that a file was moved specifically, the </span>“<span>moved</span>”<span> illusion is created by the diff tool when it</span>
<span>heuristically compares repository state at two points in time.</span></p>
<p><span>For this reason, if you want to reliably record file moves during refactors in git, you should do</span>
<span>two commits: the first commit </span><em><span>just</span></em><span> moves the file without any changes, the second commit applies</span>
<span>all the required fixups.</span></p>
<p><span>Speaking of moves, consider adding this to your </span><code>gitconfig</code><span>:</span></p>

<figure>


<pre><code><span>[diff]</span>
<span>  colormoved = "default"</span>
<span>  colormovedws = "allow-indentation-change"</span></code></pre>

</figure>
<p><span>This way, moved lines will be colored differently in </span><code>diff</code><span>, so that code motions not confused</span>
<span>with additions and deletions, and are easier to review. It is unclear to me why this isn</span>’<span>t the</span>
<span>default, and why this isn</span>’<span>t an option in GitHub</span>’<span>s UI.</span></p>
</li>
</ul>
<p>“<span>Merge into main, but rebase feature branches</span>”<span> might be a hard rule to wrap your head around if you</span>
<span>are new to git. Luckily, it</span>’<span>s easy to use not-rocket-science rule to enforce this property. The</span>
<span>history is as much a part of your project as is the source code. You can write a test that shells</span>
<span>out to git and checks that the only merge commits in the history are those from the merge bot. While</span>
<span>you are at it, it would be a good idea to test that no large large files are present in the</span>
<span>repository </span>—<span> the size of a repository only grows, and you can</span>’<span>t easily remove large blobs from the</span>
<span>repo later on!</span></p>
</section>
<section id="Commit-Messages">

    <h2>
    <a href="#Commit-Messages"><span>Commit Messages</span> </a>
    </h2>
<p><span>Let me phrase this in the most inflammatory way possible :)</span></p>
<p><span>If your project has great commit messages, with short and precise summary lines and long and</span>
<span>detailed bodies, this probably means that your CI and code review process suck.</span></p>
<p><span>Not all changes are equal. In a typical project, most of the changes that </span><em><span>should</span></em><span> be made are small</span>
<span>and trivial </span>—<span> some renames, visibility tightening, </span>“<span>attention to details</span>”<span> polish in user-visible</span>
<span>features.</span></p>
<p><span>However, in a typical project, landing a trivial change is slow. How long would it take you to fix</span>
<code>it's/its</code><span> typo in a comment? Probably 30 seconds to push the actual change, 30 minutes to get the</span>
<span>CI results, and 3 hours for a review roundtrip.</span></p>
<p><span>The fixed costs to making a change are tremendous. Main branch gatekeeping strongly incentivizes</span>
<span>against trivial changes. As a result, such changes either are not being made, or are tacked onto</span>
<span>larger changes as a drive by bonus. In any case, the total number of commits and PRs goes down. And</span>
<span>you are crafting a novel of a commit message because you have to wait for your previous PR to land</span>
<span>anyway.</span></p>
<p><span>What can be done better?</span></p>
<p><em><span>First</span></em><span>, make changes smaller and more frequent.</span>
<span>Most likely, this is possible for you.</span>
<span>At least, I tend to out-commit most colleagues (</span><a href="https://github.com/intellij-rust/intellij-rust/graphs/contributors"><span>example</span></a><span>).</span>
<span>That</span>’<span>s not because I am more productive </span>—<span> I just do work in smaller batches.</span></p>
<p><em><span>Second</span></em><span>, make CI asynchronous.</span>
<span>At no point in your workflow you should be waiting for CI to pass.</span>
<span>You should flag a change for merging, move on to the next thing, and only get back if CI fails.</span>
<span>This is something bors-ng does right </span>—<span> it</span>’<span>s possible to </span><code>r+</code><span> a commit immediately on submission.</span>
<span>This is something GitHub merge queue does wrong </span>—<span> it</span>’<span>s impossible to add a PR to queue until checks on the PR itself are green.</span></p>
<p><em><span>Third</span></em><span>, our review process is backwards. Review is done </span><em><span>before</span></em><span> code gets into main, but that</span>’<span>s</span>
<span>inefficient for most of the non-mission critical projects out there. A better approach is to</span>
<span>optimistically merge most changes as soon as not-rocket-science allows it, and then later review the</span>
<span>code in situ,  in the main branch. And instead of adding comments in web ui, just changint the code</span>
<span>in-place, sending a new PR ccing the original author.</span></p>

<figure>
<blockquote><ol start="14">
<li>
<span>Maintainers SHALL NOT make value judgments on correct patches.</span>
</li>
<li>
<span>Maintainers SHALL merge correct patches from other Contributors rapidly.</span>
</li>
</ol>
<p>…</p>
<ol start="18">
<li>
<span>Any Contributor who has value judgments on a patch SHOULD express these via their own patches.</span>
</li>
</ol>
</blockquote>
<figcaption><cite><a href="https://rfc.zeromq.org/spec/42/"><span>Collective Code Construction Contract</span></a></cite></figcaption>
</figure>
<p><span>I am skeptical that this exact workflow would</span>
<span>ever fly, but I am cautiously optimistic about </span><a href="https://zed.dev/"><span>Zed</span>’<span>s</span></a><span> idea about just allowing</span>
<span>two people to code in the same editor at the same time. I think that achieves a similar effect, and</span>
<span>nicely dodges unease about allowing temporarily unreviewed code.</span></p>
<p><span>Ok, back to git!</span></p>
<p><em><span>First</span></em><span>, not every project needs a clean history. Have you ever looked at the git history of your</span>
<span>personal blog or dotfiles? If you haven</span>’<span>t, feel free to use a </span><code>.</code><span> as a commit message. I do that for</span>
<span><a href="https://github.com/matklad/matklad.github.io">https://github.com/matklad/matklad.github.io</a><span>,</span></span>
<span>it works fine so far.</span></p>
<p><em><span>Second</span></em><span>, not every change needs a great commit message. If a change is really minor, I would say</span>
<code>minor</code><span> is an okay commit message!</span></p>
<p><em><span>Third</span></em><span>, some changes absolutely do require very detailed commit messages. If there </span><em><span>is</span></em><span> a context,</span>
<span>by all means, include all of it into the commit message (and spill some as comments in the source</span>
<span>code). And here</span>’<span>s a tip for this case: </span><em><span>write the commit message first!</span></em></p>
<p><span>When I work on a larger feature, I start with</span>
<code>git commit --allow-empty</code>
<span>to type out what I set to do. Most of the time, by the third paragraph of the commit message I</span>
<span>realize that there</span>’<span>s a flaw in my plan and refine it. So, by the time I get to actually writing the</span>
<span>code, I am already on the second iteration. And, when I am done, I just amend the commit with the</span>
<span>actual changes, and the commit message is already there, needing only minor adjustments.</span></p>
<p><span>And the last thing I want to touch about commit messages: </span><code>man git-commit</code><span> tells me that the summary</span>
<span>line should be shorter than 50 characters. This feels obviously wrong, that</span>’<span>s much too short!</span>
<a href="https://www.kernel.org/doc/html/v4.10/process/submitting-patches.html"><span>Kernel docs</span></a><span> suggest a much</span>
<span>more reasonable 70-75 limit! And indeed, looking at a some recent kernel commits, 50 is clearly not</span>
<span>enough!</span></p>

<figure>


<pre><code><span>&lt;---               50 characters              ---&gt;</span>
<span></span>
<span>get_maintainer: remove stray punctuation when cleaning file emails</span>
<span>get_maintainer: correctly parse UTF-8 encoded names in files</span>
<span>locking/osq_lock: Clarify osq_wait_next()</span>
<span>locking/osq_lock: Clarify osq_wait_next() calling convention</span>
<span>locking/osq_lock: Move the definition of optimistic_spin_node into osq_lock.c</span>
<span>ftrace: Fix modification of direct_function hash while in use</span>
<span>tracing: Fix blocked reader of snapshot buffer</span>
<span>ring-buffer: Fix wake ups when buffer_percent is set to 100</span>
<span>platform/x86/intel/pmc: Move GBE LTR ignore to suspend callback</span>
<span>platform/x86/intel/pmc: Allow reenabling LTRs</span>
<span>platform/x86/intel/pmc: Add suspend callback</span>
<span>platform/x86: p2sb: Allow p2sb_bar() calls during PCI device probe</span>
<span></span>
<span>&lt;---               50 characters              ---&gt;</span></code></pre>

</figure>
<p><span>Happy new year, dear reader!</span></p>
</section>
</article>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Website Impersonating a Desktop Environment (344 pts)]]></title>
            <link>https://dustinbrett.com/</link>
            <guid>38830132</guid>
            <pubDate>Mon, 01 Jan 2024 06:48:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dustinbrett.com/">https://dustinbrett.com/</a>, See on <a href="https://news.ycombinator.com/item?id=38830132">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[27 Years Ago, Steve Jobs Said the Best Employees Focus on Content, Not Process (328 pts)]]></title>
            <link>https://www.inc.com/jeff-haden/27-years-ago-steve-jobs-said-best-employees-focus-on-content-not-process-workplace-research-shows-he-was-right.html</link>
            <guid>38829845</guid>
            <pubDate>Mon, 01 Jan 2024 05:04:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.inc.com/jeff-haden/27-years-ago-steve-jobs-said-best-employees-focus-on-content-not-process-workplace-research-shows-he-was-right.html">https://www.inc.com/jeff-haden/27-years-ago-steve-jobs-said-best-employees-focus-on-content-not-process-workplace-research-shows-he-was-right.html</a>, See on <a href="https://news.ycombinator.com/item?id=38829845">Hacker News</a></p>
Couldn't get https://www.inc.com/jeff-haden/27-years-ago-steve-jobs-said-best-employees-focus-on-content-not-process-workplace-research-shows-he-was-right.html: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Beginner dev looks at how YouTube sends videos (145 pts)]]></title>
            <link>https://vincentsg.dev/dec31?</link>
            <guid>38829786</guid>
            <pubDate>Mon, 01 Jan 2024 04:45:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://vincentsg.dev/dec31?">https://vincentsg.dev/dec31?</a>, See on <a href="https://news.ycombinator.com/item?id=38829786">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>

        

        <p>The day before 2023 on of my favorite artists decided to drop a new track (link)! Amazing, I thought, I’ll add it to my Spotify playlist.</p>
        <img src="https://vincentsg.dev/images/article/dec31/Spotify.png" alt="me searching for the song on spotify">

    	<p>Unfortunately it was no where to be found, and this wasn’t the only song. Easy! I can just download the mp3 off YouTube and add it to my Spotify playlist manually. Let me just find a website.</p>
        <img src="https://vincentsg.dev/images/article/dec31/ytmp3.png" alt="mp3 downloader website">

        <p>Admittedly the website was pretty nice with only a single strange ad, however it still left a bit of a bad taste in my mouth. Downloading random files off websites like these probably isn’t the most hygienic computing practice. After all I’ve been a full stack dev for a little bit (just graduated college!) This should be no problem let’s just see what YouTube does…</p>
        <img src="https://vincentsg.dev/images/article/dec31/youtubeNetwork.png" alt="youtube network traffic">
        <p>Oh... that's ALOT of parameters</p>
        <p>wondering if anyone else had already reversed it, which led me to a hackernews post and then to this site <a href="https://tyrrrz.me/blog/reverse-engineering-youtube-revisited">https://tyrrrz.me/blog/reverse-engineering-youtube-revisited</a></p>
        <p>After reading throught the entire AMAZING post I created a fetch request in node using the android example only to get back a 403 error...Not readable. No biggie I'll switch to the embedded web player it seems much more useful anyway! I carefully extracted the decoder from the youtube player just as the blog said and prepared the request</p>

        <img src="https://vincentsg.dev/images/article/dec31/embeddedAttempt.png" alt="my fetch request to youtube using an embeded context">
        <p>I sent it off and BOOM! ....wait what? a 403?? I double cheked my code and the decryption but didn't find any faults. At this point I was pretty bummed but remembered about an open source project called invidious that Lous Rossman mentioend. I nagivated to the website and noticed that they were pulling the videos directly from youtube's rr endpoint. Exactly what I wanted to do! How is this possible? On a closer inspection of the netowrk traffic I saw the keywork ANDROID. The original method I was using, but how did they get theirs to work?</p>

        
        <p>Since the project is open source I parsed their github only to find it was in a language called crystal. Despite me being unfamilliar it was easy enough to read and reminded me of bash. Eventually I stumbeled on two functions</p>

        <img src="https://vincentsg.dev/images/article/dec31/invidiousPlayer.png" alt="invidious player source code">
        <p>This was the function I needed! Looking at the request it seems that they had additional context compared to what I had especially the html5 context. I found where the function was called and determined that they initally used and ANDROID client for the first attempt, matching what I initally saw in their network traffic. With all of this I put together my own network call and.... BOOM!!! FINALLY A STREAM. Since this wasn't using the web client I didn't need to decode the signature it was free to access.</p>

        <p>
     
            let data = { <br>
                "videoId": videoId,<br>
                "context": {<br>
                    "client": {<br>
                        "hl": "en",<br>
                        "gl": "US",<br>
                        "clientName": "ANDROID",<br>
                        "clientVersion": "17.10.35",<br>
                        "androidSdkVersion": 30,<br>
                        "osName": "Android",<br>
                        "osVersion": "12",<br>
                        "platform": "MOBILE"<br>
                    }<br>
                },<br>
                "params": "2AMBCgIQBg",<br>
                "contentCheckOk": true,<br>
                "racyCheckOk": true,<br>
                "user": {<br>
                    "lockedSafetyMode": false<br>
                },<br>
                "playbackContext": {<br>
                    "contentPlaybackContext": {<br>
                        "html5Preference": "HTML5_PREF_WANTS",<br>
                    },<br>
                },<br>
            }<br>

        </p>

        
        <p>I quickly threw together an ugly frontend and posted it to digital ocean under an express server and prepped another project to repair my broken discord bot.</p>
        <a href="https://www.yt-linkify.com/">https://www.yt-linkify.com</a>
        <p>Hopefully this is usefull to someone or just an interesting read. Big shoutout to the invidious project and tyrrrz's blog they did basically all of the heavy lifting for this new developer! </p>
        <p>If this ever makes it to Hacker News, I love you guys! I read the site multiple times a day. You all keep me motivated especially in times like this where I'm not sure if I should continue being a developer. Thanks for keeping me sane and happy new year!</p> 
        <p>If anyone is hiring check out the other links on the site to get in contact with me Cheers! </p>


    	
    </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Using a Markov chain to generate readable nonsense with 20 lines of Python (196 pts)]]></title>
            <link>https://benhoyt.com/writings/markov-chain/</link>
            <guid>38829772</guid>
            <pubDate>Mon, 01 Jan 2024 04:40:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://benhoyt.com/writings/markov-chain/">https://benhoyt.com/writings/markov-chain/</a>, See on <a href="https://news.ycombinator.com/item?id=38829772">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="container">

<p>November 2023</p>

<blockquote>
  <p><strong>Go to:</strong> <a href="#the-algorithm">Algorithm</a> | <a href="#some-better-examples">Examples</a> | <a href="#python-implementation">Python implementation</a> | <a href="#conclusion">Conclusion</a></p>
</blockquote>

<p>I recently learned how to generate text using a simple <a href="https://en.wikipedia.org/wiki/Markov_chain">Markov chain</a>. The generated text is readable but is also complete nonsense; as prose it’s not worth much, but for predicting the next word like your phone keyboard’s suggestions, it’s surprisingly useful.</p>

<p>I learned about this algorithm in chapter 3 of Kernighan and Pike’s book <a href="https://www.cs.princeton.edu/~bwk/tpop.webpage/"><em>The Practice of Programming</em></a>, where they implement such a generator in various programming languages to discuss program design and data structures.</p>

<p>Note that this algorithm is only one small use for Markov chains, which are a much more general statistical concept.</p>

<h2 id="the-algorithm">The algorithm</h2>

<p>The algorithm is easy to explain: start with an input text whose phrases will be used to generate the output. For every pair of words in the input, record a list of the possible words that come after the word pair.</p>

<p>Once you’ve built that data structure, you can generate as much or as little output as you want. Start with any pair of words that occurs in the input, and then randomly pick one of the possible third words. Then move along, so the second word in the pair is the word you just generated, randomly pick another word, and so on.</p>

<p>That’s all there is to it!</p>

<p>This algorithm uses pairs of words, also called <a href="https://en.wikipedia.org/wiki/Bigram">bigrams</a>. You could generalise the algorithm to use single words or trigrams instead of pairs. However, as <em>The Practice of Programming</em> points out:</p>

<blockquote>
  <p>Making the prefix shorter tends to produce less coherent prose; making it longer tends
to reproduce the input text verbatim. For English text, using two words to select a
third is a good compromise; it seems to recreate the flavor of the input while adding
its own whimsical touch.</p>
</blockquote>

<p>Let’s work through an example. For small inputs, you want some repetition for it to work, so as input we’ll use the last five of the Ten Commandments from the King James Bible:</p>

<blockquote>
  <p>Thou shalt not kill.</p>

  <p>Thou shalt not commit adultery.</p>

  <p>Thou shalt not steal.</p>

  <p>Thou shalt not bear false witness against thy neighbour.</p>

  <p>Thou shalt not covet thy neighbours house, thou shalt not covet thy neighbours wife, nor his manservant, nor his maidservant, nor his ox, nor his ass, nor any thing that is thy neighbours.</p>
</blockquote>

<p>Here’s what the “possible third words” data structure looks like, showing the first few entries with the word pair on the left and the possibilities separated by <code>|</code> on the right:</p>

<div><pre><code>shalt not         kill. | commit | steal. | bear | covet | covet
Thou shalt        not | not | not | not | not
nor his           manservant, | maidservant, | ox, | ass,
not covet         thy | thy
covet thy         neighbours | neighbours
thy neighbours    house, | wife,
not kill.         Thou
kill. Thou        shalt
not commit        adultery.
...
</code></pre></div>

<p>So if you start with “shalt not”, you randomly choose “kill.”, “commit”, “steal.”, “bear”, or “covet” as the next word. Because “covet” appears twice in the list of possibilities, it’s twice as likely to be chosen as the next word.</p>

<p>You can see how we’ve included capital letters and punctuation in the words. This keeps the word-splitting simpler, but it also means the generated output will automatically generate “sentences” with capitalization and punctuation that actually occurred in the input. It’s quite a neat trick!</p>

<p>What does the generated output look like? Let’s try it using the Ten Commandments input above:</p>

<blockquote>
  <p>Thou shalt not bear false witness against thy neighbour. Thou shalt
not commit adultery. Thou shalt not steal. Thou shalt not covet thy
neighbours house, thou shalt not commit adultery. Thou shalt not covet
thy neighbours house, thou shalt not steal. Thou shalt not commit
adultery. Thou shalt not steal. Thou shalt not covet thy neighbours…</p>
</blockquote>

<p>As you can see, the problem with using such a small input text is that the output is often a verbatim copy of the input text – or something randomly close to it.</p>

<p>If you use a larger input text, you get much more interesting output.</p>

<h2 id="some-better-examples">Some better examples</h2>

<p>Below are some more fun outputs using larger input texts. We’ll generate 100 words from each input. The books were sourced from <a href="https://www.gutenberg.org/">Project Gutenberg</a>.</p>

<h3 id="using-my-articles">Using my articles</h3>

<p>Using the <a href="https://benhoyt.com/writings/">articles I’ve written</a> as input:</p>

<blockquote>
  <p>Especially if you need to return a value, but are now very flat – almost 5x as fast. Still, if you need a custom exception; use built-in exceptions if appropriate. Only break backwards compatibility if you’re on Linux, this uses the x86’s SSE/SIMD instructions to process CSV using AWK, such as <code>NF</code> are read-only in AWKGo. What does “Pythonic” mean? That’s a lot of fun. My recommendation: roll your own type-safe <code>OrderedMap&lt;int&gt;</code>. But because Lox strings don’t support escape sequences, there’s no <code>null</code> or <code>undefined</code>, and you have it! A minimalist Make in one of its revenue comes from the…</p>
</blockquote>

<p>I love how it captures most of my technical interests: performance, idiomatic code, backwards compatibility, AWK, CSV, little languages, and so on. It’s no ChatGPT, but if you squint the text looks quite plausible!</p>

<p>Note how the output even includes valid Markdown from the input (though I removed a couple of links).</p>

<h3 id="using-alice-in-wonderland">Using <em>Alice in Wonderland</em></h3>

<p>Here’s one using Lewis Carroll’s <em>Alice in Wonderland</em> as input. The book is more or less nonsense to begin with, so this almost works:</p>

<blockquote>
  <p>A large rose-tree stood near the entrance of the cakes, and was
delighted to find that her flamingo was gone in a great hurry; “and
their names were Elsie, Lacie, and Tillie; and they can’t prove I did:
there’s no use denying it. I suppose Dinah’ll be sending me on
messages next!” And she opened the door began sneezing all at once.
The Dormouse had closed its eyes again, to see what was going off into
a large fan in the pool, “and she sits purring so nicely by the hand,
it hurried off, without waiting for the limited right of replacement…</p>
</blockquote>

<h3 id="using-the-old-testament-from-the-king-james-bible">Using the Old Testament (from the King James Bible)</h3>

<p>Note how the output includes (nonsensical) verse numbers, which were part of the input.</p>

<p>Look for the roast the king of Babylon gets!</p>

<blockquote>
  <p>Benjamin, Jaasiel the son of Berachiah, the son of Jehoiakim king of
Gomorrah, and toward the holy gods is in your own will. 22:30 On the
south in the porch of the sea, over against the mount out of the LORD
shall smite the waves thereof. 107:26 They mount up to mount up to
bury them, them, their children, shewing to the priest; 13:17 And the
king of Babylon roasted in the name of the dust. 18:1 Then answered
one of them, did Joshua take, and put his hand over the servants of
Saul my father nor my life from perishing by…</p>
</blockquote>

<h3 id="using-the-new-testament-from-the-king-james-bible">Using the New Testament (from the King James Bible)</h3>

<p>Kind of funny that the New Testament output starts with “Moses”, a key Old Testament figure (but whose name appears 80 times in the New Testament too).</p>

<p>My computer also seems rather heretical: “we have preached the word of the body is the will of man”.</p>

<p>And yes, <a href="https://en.wiktionary.org/wiki/throughly">“throughly”</a> is an (archaic) word.</p>

<blockquote>
  <p>Moses, ye would that we dwell in them. 2:11 Wherefore remember, that
by my voice against them. 20:20 And they said, Is not this he that
humbleth himself shall be given, and he will throughly purge his
floor, and gather the wheat into the sea, and get victuals: for we
have preached the word of the body is the will of man, it shall be:
but we have sent for me? 10:30 And Jesus went into the kingdom of God.
5:6 Let no man may say, Thou fool, that he was nigh to Joppa, and the
other side. 10:33 But whosoever shall…</p>
</blockquote>

<h3 id="using-the-war-of-the-worlds">Using <em>The War of the Worlds</em></h3>

<p>And one more, for good measure. This is using <em>The War of the Worlds</em>, by H. G. Wells.</p>

<blockquote>
  <p>At Halliford I had the appearance of that blackness looks on a Derby
Day. My brother turned down towards the iron gates of Hyde Park. I had
seen two human skeletons—not bodies, but skeletons, picked clean—and
in the pit—that the man drove by and stopped at the fugitives, without
offering to help. The inn was closed, as if by a man on a bicycle,
children going to seek food, and told him it would be a cope of lead
to him, therefore. That, indeed, was the dawn of the houses facing the
river to Shepperton, and the others. An insane resolve possessed…</p>
</blockquote>

<p>With insane resolve, let’s now look at the Python code I used to implement this.</p>

<h2 id="python-implementation">Python implementation</h2>

<p>First, here’s the full program – it’s 24 lines with blanks and comments, 16 without:</p>

<div><pre><code><span>import</span> <span>collections</span><span>,</span> <span>random</span><span>,</span> <span>sys</span><span>,</span> <span>textwrap</span>

<span># Build possibles table indexed by pair of prefix words (w1, w2)
</span><span>w1</span> <span>=</span> <span>w2</span> <span>=</span> <span>''</span>
<span>possibles</span> <span>=</span> <span>collections</span><span>.</span><span>defaultdict</span><span>(</span><span>list</span><span>)</span>
<span>for</span> <span>line</span> <span>in</span> <span>sys</span><span>.</span><span>stdin</span><span>:</span>
    <span>for</span> <span>word</span> <span>in</span> <span>line</span><span>.</span><span>split</span><span>():</span>
        <span>possibles</span><span>[</span><span>w1</span><span>,</span> <span>w2</span><span>].</span><span>append</span><span>(</span><span>word</span><span>)</span>
        <span>w1</span><span>,</span> <span>w2</span> <span>=</span> <span>w2</span><span>,</span> <span>word</span>

<span># Avoid empty possibles lists at end of input
</span><span>possibles</span><span>[</span><span>w1</span><span>,</span> <span>w2</span><span>].</span><span>append</span><span>(</span><span>''</span><span>)</span>
<span>possibles</span><span>[</span><span>w2</span><span>,</span> <span>''</span><span>].</span><span>append</span><span>(</span><span>''</span><span>)</span>

<span># Generate randomized output (start with a random capitalized prefix)
</span><span>w1</span><span>,</span> <span>w2</span> <span>=</span> <span>random</span><span>.</span><span>choice</span><span>([</span><span>k</span> <span>for</span> <span>k</span> <span>in</span> <span>possibles</span> <span>if</span> <span>k</span><span>[</span><span>0</span><span>][:</span><span>1</span><span>].</span><span>isupper</span><span>()])</span>
<span>output</span> <span>=</span> <span>[</span><span>w1</span><span>,</span> <span>w2</span><span>]</span>
<span>for</span> <span>_</span> <span>in</span> <span>range</span><span>(</span><span>int</span><span>(</span><span>sys</span><span>.</span><span>argv</span><span>[</span><span>1</span><span>])):</span>
    <span>word</span> <span>=</span> <span>random</span><span>.</span><span>choice</span><span>(</span><span>possibles</span><span>[</span><span>w1</span><span>,</span> <span>w2</span><span>])</span>
    <span>output</span><span>.</span><span>append</span><span>(</span><span>word</span><span>)</span>
    <span>w1</span><span>,</span> <span>w2</span> <span>=</span> <span>w2</span><span>,</span> <span>word</span>

<span># Print output wrapped to 70 columns
</span><span>print</span><span>(</span><span>textwrap</span><span>.</span><span>fill</span><span>(</span><span>' '</span><span>.</span><span>join</span><span>(</span><span>output</span><span>)))</span>
</code></pre></div>

<p>You can judge for yourself, but I think it’s fairly readable.</p>

<p>The program expects the number of words as a command-line argument (<code>sys.argv[1]</code>), and the input text on standard input. To run it, use a command like this:</p>

<div><pre><code>$ python3 markov.py 100 &lt;AliceInWonderland.txt 
A large rose-tree stood near the entrance of the cakes, and was
...
</code></pre></div>

<p>The code is also available as a GitHub Gist: <a href="https://gist.github.com/benhoyt/619cf3113866450aa31d8a2c1f8e01dc">markov.py</a>. This program is hardly original – I hereby give you permission to do whatever you want with it.</p>

<h2 id="conclusion">Conclusion</h2>

<p>I find it fascinating that a simple data structure and a random number generator can produce such interesting output.</p>

<p>I also think the trick of including capital letters and punctuation in the recorded “words” is quite clever. It’s not a trick at all, of course, but an elegant design choice that makes the program simpler <em>and</em> the output better. I wonder how many similar design choices are hiding in existing programs, waiting to be simplified?</p>

<p>Have fun generating text from your own inputs!</p>

<p>I’d love it if you <a href="https://github.com/sponsors/benhoyt/">sponsored me on GitHub</a> – it will motivate me to work on my open source projects and write more good content. Thanks!</p>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Meshtastic: An open source, off-grid, decentralized, mesh network (282 pts)]]></title>
            <link>https://meshtastic.org/</link>
            <guid>38829448</guid>
            <pubDate>Mon, 01 Jan 2024 02:57:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://meshtastic.org/">https://meshtastic.org/</a>, See on <a href="https://news.ycombinator.com/item?id=38829448">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__docusaurus_skipToContent_fallback"><header><div><h2></h2><p>An open source, off-grid, decentralized, mesh network built to run on affordable, low-power devices</p></div></header><main><div><h3>Connect with us.</h3></div><div><h2>Getting started with Meshtastic is as easy as 1, 2, 3!</h2><ul><div><p>Hardware you will want to consider:</p><ul><li>Radio</li><li>Battery</li><li>Case</li><li>Antenna (most devices include an antenna, but the quality can be a bit of a mixed bag from some suppliers on stock antennas)</li></ul></div><div><p>The Meshtastic Web-Based Flasher &amp; Clients can assist you in flashing the firmware and configuring settings.</p></div><div><p>Applications are available for the following systems:</p><ul><li>Android</li><li>iOS</li><li>Mac</li><li>Web Browser</li></ul></div></ul></div><br></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I Vote on Plagiarism Cases at Harvard College. Gay's Getting Off Easy (117 pts)]]></title>
            <link>https://www.thecrimson.com/article/2023/12/31/honor-council-member-gay/</link>
            <guid>38828804</guid>
            <pubDate>Mon, 01 Jan 2024 00:50:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.thecrimson.com/article/2023/12/31/honor-council-member-gay/">https://www.thecrimson.com/article/2023/12/31/honor-council-member-gay/</a>, See on <a href="https://news.ycombinator.com/item?id=38828804">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><span>I have served as a voting member of the Harvard College Honor Council, the body tasked with upholding the College’s community standards of academic integrity.</span></p><p><span>In my time on the Council, I heard dozens of cases. When students — my classmates, peers, and friends — appear before the council, they are distraught. For most, it is the worst day of their college careers. For some, it is the worst day of their lives. They often cry.</span></p><p><span>It is because I have seen first-hand how heart-wrenching these decisions can be, and still think them necessary, that I call on University President Claudine Gay to resign for her numerous and serious violations of academic ethics.</span></p><p><span>Let’s compare the treatment of Harvard undergraduates suspected of plagiarism with that of their president.</span></p><p><span>A plurality of the Honor Council’s investigations concern plagiarism. In the 2021-22 school year, the last year for which data is publicly available, <a href="https://www.thecrimson.com/article/2023/5/22/harvard-honor-council-2021-2022/">43 percent of cases involved plagiarism</a> or misuse of sources.</span></p><p><span>Omitting quotation marks, citing sources incompletely, or not citing sources at all constitutes plagiarism according to Harvard’s definitions.</span></p><p><span>In my experience, when students omit quotation marks and citations, as President Gay did, the sanction is usually one term of probation — a permanent mark on a student’s record. A student on probation is no longer considered in good standing, disqualifying them from opportunities like fellowships and study-abroad programs. Good standing is also required to receive a degree.</span></p><p><span>What is striking about the allegations of plagiarism against President Gay is that the improprieties are routine and pervasive.</span></p><p><span>She is accused of plagiarism in her dissertation and at least two of her 11 journal articles. Two sentences from the acknowledgement section of her dissertation even seem to have been copied from another work.</span></p><p><span>According to the Honor Council’s procedures, the response to a violation depends on the “seriousness of the infraction” and “extenuating circumstances, including the extent to which a student has had similar trouble before.” In other words, while a single lifted paragraph could be blamed on a lapse in judgment, a pattern is more concerning.</span></p><p><span>In my experience, when a student is found responsible for multiple separate Honor Code violations, they are generally required to withdraw — i.e., suspended — from the College for two semesters. Since the Council was established in 2015, roughly 16 percent of students who have appeared before us have been required to withdraw.</span></p><p><span>It is a serious thing for the Council to render this judgment, and I have never taken any such vote lightly. Voting to suspend a peer with whom I might share a dorm, club, or class is not easy. We have even voted to suspend seniors just about to graduate.</span></p><p><span>But strict sanctions are necessary to demonstrate that our community values academic integrity. Cheating on exams is not okay. Plagiarism is not okay.</span></p><p><span>It may be true that the plagiarism allegations against President Gay fall short of the Faculty of Arts and Sciences’ interim policy on research misconduct. She may not have “intentionally, knowingly, and recklessly” tried to represent the work of her doctoral advisor and others as her own. And there is no evidence that any of her arguments posited as original contributions were plagiarized.</span></p><p><span>But President Gay’s pattern of mistakes is serious, and the Harvard Corporation should not minimize these allegations of plagiarism, <a href="https://www.thecrimson.com/article/2023/12/12/gay-stays-in-office-corporation-support/">as it has readily done</a>.</span></p><p><span>In a Dec. 12 University-wide letter, the Corporation described the alleged plagiarism as “a few instances of inadequate citation.” The letter lauded President Gay for “proactively” correcting her articles by inserting citations and quotation marks.</span></p><p><span>By definition, Gay’s corrections were not proactive but reactive — she only made them after she was caught. And that the Corporation considers her corrections an adequate response is not fair to undergraduates, who cannot simply submit corrections to avoid penalties.</span></p><p><span>When my peers are found responsible for multiple instances of inadequate citation, they are often suspended for an academic year. When the president of their university is found responsible for the same types of infractions, the fellows of the Corporation “unanimously stand in support of” her.</span></p><p><span>There is one standard for me and my peers and another, much lower standard for our University’s president. The Corporation should resolve the double standard by demanding her resignation.</span></p><p><span><em><strong>Editor’s Note:</strong> In order to protect the author from retaliation, and because the proceedings of the Harvard College Honor Council are sensitive and confidential, we made the decision to grant this author anonymity.</em></span></p><p><span><em>Readers should also note that online commenting has been disabled for this piece in an effort to help protect the author’s identity.</em></span></p><p><span><em>—Tommy Barone and Jacob M. Miller, Editorial Chairs</em></span></p><p><span><em>—J. Sellers Hill, President</em></span></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Ask HN: What software/tech blogs/magazines should I be reading in 2024? (150 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=38828682</link>
            <guid>38828682</guid>
            <pubDate>Mon, 01 Jan 2024 00:27:12 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=38828682">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <tbody><tr id="38829907"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_38829907" href="https://news.ycombinator.com/vote?id=38829907&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>Slightly contrarian perspective: I'm trying to read less temporal (things that matter <i>now</i>) and more fundamental (stuff that mattered 1+ year ago and will still matter in 1+ year, with even wider intervals for non-tech content).<p>This does result in missing ~important things occasionally (e.g. I <i>still</i> don't know what happened with SamA at OpenAI, and yes, I am curious), but that's a small price to pay for greater intellectual sanctity and an increased attention budget to distribute across important tasks or funnel into something hyper focussed.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="38829943"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38829943" href="https://news.ycombinator.com/vote?id=38829943&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I am trying to do this as well, but being surrounded by news/social/stream outlets that just push unnecessary hype its hard to achieve this. Any recommendation on how to filter out the junk?</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="38829961"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_38829961" href="https://news.ycombinator.com/vote?id=38829961&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>Read Books, is the answer I think.<p>The entire online news chain is polluted it seems to me.</p><p>If you have access to a decent Library, I believe the benefits to the individual by using it are:</p><p>1) economic, save you money
2) social, you interact with people
3) physical, you are moving around 
4) mental health, you are using a different part of your brain and being proactive by planning to engage in new knowledge</p><p>Then hopefully you can feel positive, optimistic, and look forward to reading the books you just borrowed!</p><p>Then you reappear the cycle when you return them!
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="38830098"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_38830098" href="https://news.ycombinator.com/vote?id=38830098&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I really like this viewpoint. I can understand more now why elderly people use the library so much (beyond the obvious technical divide).</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="38830063"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_38830063" href="https://news.ycombinator.com/vote?id=38830063&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>Some tips:<p>- If material is a few years old yet still very highly regarded, it's <i>probably</i> worthy.</p><p>- Prepare yourself some content in advance that's both interesting and useful so it's low-effort to switch if you find yourself reading or scrolling out of boredom. I have rails guides bookmarked for this purpose - 5 minutes waiting for an uber gains me some useful knowledge while alleviating boredom.</p><p>- Search wide, be selective. A few good reads is better than a lot of average/bad ones. Be prepared to skip chapters if it isn't delivering value after 2-3 chapters, and quit entirely if you can't find worthy content after reading a few chapters + table of contents and skimming a few more chapters. Give it a little longer if you're unfamiliar with the topic or style.</p><p>- A lot of 200+ page books could have instead been 10 page essays. Quickly move over unimportant sections if you get the impression they're filler. Same (or, more so) for other mediums too.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="38829952"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38829952" href="https://news.ycombinator.com/vote?id=38829952&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I think a lot of good tech bloggers (and I try to be one of them) are also trying to focus on content that is less of-the-moment in nature.  See Dan Luu's blog for great examples.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="38830270"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38830270" href="https://news.ycombinator.com/vote?id=38830270&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I strongly recommend slogging through both the old and new testaments in that case. Bang for buck, you're not going to find a better lens on western paradigmatics</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="38829811"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_38829811" href="https://news.ycombinator.com/vote?id=38829811&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>Paged Out! Institute
<a href="https://pagedout.institute/" rel="nofollow">https://pagedout.institute/</a><p># What is Paged Out!?</p><p>Paged Out! is a free experimental (one article == one page) technical magazine about programming (especially programming tricks!), hacking, security hacking, retro computers, modern computers, electronics, demoscene, and other similar topics.</p><p>It's made by the community for the community. And it's not-for-profit (though in time, we hope it will be self-sustained) - this means that the issues will always be free to download, share, and print.</p><p>&gt; Reminiscent of the vintage original Freaker/Hacker Publications, though clearly devoted to one page technical articles.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="38830205"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38830205" href="https://news.ycombinator.com/vote?id=38830205&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>That’s a real little gem! I never heard of it before but I love the format and the content, thank you! Any other *zine suggestions ?</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="38830195"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38830195" href="https://news.ycombinator.com/vote?id=38830195&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>This is so cool. I wish I could read this right now but it's late so I'll have to dream about it.<p>Happy new year btw, thanks for posting this!
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="38829663"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_38829663" href="https://news.ycombinator.com/vote?id=38829663&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>None of them. Study Knuth. Study the Intel manuals. Study “The Art of Multiprocessor Programming”. Study compilers. Study TCP/IP. Study algorithms and data structures. Write lots of code for all of those things.<p>Disregard the noise. Ban yourself from reading blogs and magazines and tech news. Focus on what is fundamental to the field. Look where nobody else is looking.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="38829672"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38829672" href="https://news.ycombinator.com/vote?id=38829672&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I don't know about this. It seems that there is more demand for high level work than low level. But I hope you are right!</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="38829677"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_38829677" href="https://news.ycombinator.com/vote?id=38829677&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I think OP is saying to go off and study tech and build shit, don't waste time reading hype noise BS. I agree!</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="38829755"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_38829755" href="https://news.ycombinator.com/vote?id=38829755&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>If I did I wouldn't have seen their comment and given that perspective consideration. It's almost like...a reasonable balance is the best path. lol</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="38830312"><td></td></tr>
            <tr id="38830140"><td></td></tr>
                        <tr id="38830138"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_38830138" href="https://news.ycombinator.com/vote?id=38830138&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>Good knowledge of fundamentals translate well into high level work.<p>Understanding the timeless things deeply will serve you much better than continually trying to understand what is hyped only to have to constantly move on to the next hyped thing before being able to get more thana superficial understanding.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="38829919"><td></td></tr>
                <tr id="38830018"><td></td></tr>
                <tr id="38830094"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_38830094" href="https://news.ycombinator.com/vote?id=38830094&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>Embedded is not the only low level work there is. Databases for example require a lot of low level knowledge, but the market big enough to pay well.</span></p></div></td></tr>
        </tbody></table></td></tr>
                              <tr id="38830210"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38830210" href="https://news.ycombinator.com/vote?id=38830210&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>&gt; Study the Intel manuals.<p>Which Intel manuals in particular? How much relevance remains in Intel's content given the popularity of ARM nowadays?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="38830107"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38830107" href="https://news.ycombinator.com/vote?id=38830107&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>Guys like Sam Altman did exactly not this. They gained breadth in what was specifically relevant to the problem being solved.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="38829901"><td></td></tr>
                  <tr id="38829639"><td></td></tr>
                <tr id="38829816"><td></td></tr>
                  <tr id="38829443"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_38829443" href="https://news.ycombinator.com/vote?id=38829443&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>I've recently started reading bluesnews again after a 15+ year hiatus. I love how the site seems to be more or less exactly the same. Runs great on all my devices (crazy I have to point that out in modern times).<p>For those that don't know it's primarily a game news site but has some daily rundowns of some various tech news stories so I think it fits the criteria.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="38829769"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38829769" href="https://news.ycombinator.com/vote?id=38829769&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I second bluesnews. It reminds me of a bygone era when news aggregators like bluesnews were all curated by a person/small team and while the content is not exhaustive, it is actually enough.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="38829224"><td></td></tr>
                <tr id="38829601"><td></td></tr>
                <tr id="38829682"><td></td></tr>
                  <tr id="38829563"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38829563" href="https://news.ycombinator.com/vote?id=38829563&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>Agreed, many HN posts discussing articles/posts from the aforementioned sites have comments that give more insight than TFA and maybe even corrections. Which you would not get by reading the articles/posts alone.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="38829703"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_38829703" href="https://news.ycombinator.com/vote?id=38829703&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I frequently find myself spending as much or more time reading the HN comment section than reading the submitted article/link itself.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="38829765"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_38829765" href="https://news.ycombinator.com/vote?id=38829765&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>Agreed. I put all my effort into commenting and simply don’t read any of the articles/links themselves.</span></p></div></td></tr>
        </tbody></table></td></tr>
                              <tr id="38829622"><td></td></tr>
                <tr id="38829756"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38829756" href="https://news.ycombinator.com/vote?id=38829756&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span><a href="https://www.acm.org/publications/openaccess" rel="nofollow">https://www.acm.org/publications/openaccess</a><p><i>&gt; ACM will become fully Open Access by the end of 2025, but we have already begun that process in phases and large parts of the ACM Digital Library are already Open Access today, including the first 50 years of ACM's archive - all articles published between 1951 and 2000 have been placed in front of the ACM Digital Library subscription paywall.</i>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="38829900"><td></td></tr>
            <tr id="38829776"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_38829776" href="https://news.ycombinator.com/vote?id=38829776&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I've found a small number of indie game devlogs to be inspiring in seeing the amount of shit 1 guy can get done</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="38829793"><td></td></tr>
                <tr id="38829904"><td></td></tr>
                        <tr id="38829627"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_38829627" href="https://news.ycombinator.com/vote?id=38829627&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>In addition to the answers here, I'd recommend checking with your local library. I recently found out that mine has a subscription to Udemy. They have tech magazines as well. A great resource that can fly under the radar sometimes.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="38830069"><td></td></tr>
            <tr id="38829936"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_38829936" href="https://news.ycombinator.com/vote?id=38829936&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>NextApex -- my eclectic digest (nextapex.co) with a newsletter at nextapex.beehiiv.com -- basically covering science, tech, ai breakthrus in a 3-min rundown.  Made a dynamic link sharing site that operates like HN to go along with it and make collation easier.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="38829821"><td></td></tr>
                <tr id="38830035"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38830035" href="https://news.ycombinator.com/vote?id=38830035&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>This. Very high-quality writeups. Also, one should read Roots of Progress newsletters - I found the signal:noise ratio extremely high for these two newsletters.<p>The former is more CS x economy. The latter is more Science x history x economy.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="38829944"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38829944" href="https://news.ycombinator.com/vote?id=38829944&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><p><span>Like calling a physicist : "Neumann meets Einstein"<p>&gt; Stratechery meets Money Stuff</p><p>Couldn't imagine more glowing praise for a newsletter. Bookmarked.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="38830191"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_38830191" href="https://news.ycombinator.com/vote?id=38830191&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I want to read a ton of stuff on physics and science. The past few weeks I've read about thermodynamics,  next I want to read about quantum physics, optics, then math. Any recommendations for a beginner?</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="38830062"><td></td></tr>
            <tr id="38830122"><td></td></tr>
            <tr id="38829775"><td></td></tr>
            <tr id="38829647"><td></td></tr>
            <tr id="38829581"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_38829581" href="https://news.ycombinator.com/vote?id=38829581&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I would love any recommendations for physical magazines. I know they are mostly ads and yada yada, but I like to sit down with an actual magazine for some reason.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="38829861"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_38829861" href="https://news.ycombinator.com/vote?id=38829861&amp;how=up&amp;goto=item%3Fid%3D38828682"></a></center>    </td><td><br><div>
                  <p><span>I strongly recommend Foreign Affairs magazine (<a href="https://www.foreignaffairs.com/" rel="nofollow">https://www.foreignaffairs.com/</a>).  It's full of essays from the serious policy and academic establishment. You might disagree with them heartily, but they are well reasoned and don't hew to any particular political viewpoint (or rather, the magazine has contributions from all sides). About $60 USD per year for six issues plus an app, downloadable articles and audio, and website.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="38829614"><td></td></tr>
            <tr id="38829767"><td></td></tr>
                  <tr id="38829984"><td></td></tr>
            <tr id="38829792"><td></td></tr>
            <tr id="38829505"><td></td></tr>
            </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Nim on a Real-Time Operating System: Apache NuttX RTOS and Ox64 BL808 SBC (107 pts)]]></title>
            <link>https://lupyuen.codeberg.page/articles/nim.html</link>
            <guid>38828619</guid>
            <pubDate>Mon, 01 Jan 2024 00:15:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lupyuen.codeberg.page/articles/nim.html">https://lupyuen.codeberg.page/articles/nim.html</a>, See on <a href="https://news.ycombinator.com/item?id=38828619">Hacker News</a></p>
<div id="readability-page-1" class="page">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

        <!-- Begin scripts/rustdoc-before.html: Pre-HTML for Custom Markdown files processed by rustdoc, like chip8.md -->

    <!-- Begin Theme Picker -->
    
    
    
    <!-- Theme Picker -->

    <!-- End scripts/rustdoc-before.html -->
    

    
    <nav id="TOC"><ul>
<li><a href="#basic-nim-from-scratch">1 Basic Nim from scratch</a><ul></ul></li>
<li><a href="#blink-an-led">2 Blink an LED</a><ul></ul></li>
<li><a href="#import-nuttx-functions">3 Import NuttX Functions</a><ul></ul></li>
<li><a href="#run-nim-on-qemu">4 Run Nim on QEMU</a><ul></ul></li>
<li><a href="#nim-blinky-on-ox64">5 Nim Blinky on Ox64</a><ul></ul></li>
<li><a href="#inside-nim-on-nuttx">6 Inside Nim on NuttX</a><ul></ul></li>
<li><a href="#led-driver-for-ox64">7 LED Driver for Ox64</a><ul></ul></li>
<li><a href="#whats-next">8 What’s Next</a><ul></ul></li>
<li><a href="#appendix-build-nuttx-for-qemu">9 Appendix: Build NuttX for QEMU</a><ul></ul></li>
<li><a href="#appendix-build-nuttx-for-ox64">10 Appendix: Build NuttX for Ox64</a><ul></ul></li>
<li><a href="#appendix-opensbi-timer-for-nuttx">11 Appendix: OpenSBI Timer for NuttX</a><ul></ul></li></ul></nav><p>📝 <em>1 Jan 2024</em></p>
<p><img src="https://lupyuen.codeberg.page/images/nim-ox64.png" alt="Apache NuttX RTOS on Ox64 BL808 RISC-V SBC: Works great with Nim!"></p>
<p>Happy New Year! 2024 is here and we’re running <a href="https://www.hackster.io/lupyuen/8-risc-v-sbc-on-a-real-time-operating-system-ox64-nuttx-474358"><strong>Apache NuttX RTOS</strong></a> (Real-Time Operating System) on Single-Board Computers with <strong>plenty of RAM</strong>…</p>
<p>Like <a href="https://wiki.pine64.org/wiki/Ox64"><strong>Pine64 Ox64 BL808</strong></a> RISC-V SBC with <strong>64 MB RAM!</strong> (Pic below)</p>
<p><em>How will we use the Plentiful RAM?</em></p>
<p>In this article, we create a <strong>Blinky LED</strong> app with a Modern, Garbage-Collected Language: <a href="https://nim-lang.org/"><strong>Nim Programming Language</strong></a>.</p>
<p><a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)"><strong>Garbage-Collected</strong></a> Languages (like Nim) require <a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)#Disadvantages"><strong>a bit more RAM</strong></a> than Low-Level Languages (like C). Perfect for our roomy (and vroomy) SBC!</p>
<p><a href="https://youtube.com/shorts/KCkiXFxBgxQ">(Watch the <strong>Demo on YouTube</strong>)</a></p>
<p><em>But we need a RISC-V SBC?</em></p>
<p>No worries! We’ll run Nim + NuttX on the <strong>QEMU Emulator</strong> for 64-bit RISC-V. Which works great on Linux, macOS and Windows machines.</p>
<p>Everything that happens on Ox64 SBC, we’ll see the <strong>exact same thing</strong> in QEMU!</p>
<p><a href="https://lupyuen.codeberg.page/images/nim-blink.jpg">(Except the <strong>blinkenlight</strong>)</a></p>
<p><em>Hmmm Garbage Collection… Won’t it jitter: run-pause-run-pause?</em></p>
<p>The fine folks at <a href="https://www.wildernesslabs.co/"><strong>Wilderness Labs</strong></a> are running <a href="https://www.wildernesslabs.co/developers"><strong>.NET on NuttX</strong></a> with Garbage Collection. <a href="https://nim-lang.org/blog/2022/11/11/a-cost-model-for-nim.html"><strong>Optimising for performance</strong></a> really helps!</p>
<p><a href="https://www.mdpi.com/2079-9292/12/1/143">(See <strong>TinyGo</strong> and <strong>MicroPython</strong>)</a></p>
<p><em>How is Nim different from Rust and Zig?</em></p>
<p>We’ve tested <a href="https://lupyuen.codeberg.page/articles/rusti2c"><strong>Rust on NuttX</strong></a> and <a href="https://lupyuen.codeberg.page/articles/lvgl4"><strong>Zig on NuttX</strong></a>. <strong>Nim is different</strong> because it…</p>
<ul>
<li>
<p><strong>Compiles to C</strong> (instead of Machine Code)</p>
</li>
<li>
<p>Syntax is <strong>Python-like</strong> (but Statically Compiled)</p>
</li>
<li>
<p>Automatic <strong>Garbage Collection</strong> (no Borrow Checker)</p>
</li>
<li>
<p>And it’s <a href="https://nim-lang.org/faq.html"><strong>Memory Safe</strong></a> (like Rust)</p>
</li>
</ul>
<p>First we say hello to Nim…</p>
<p><img src="https://lupyuen.codeberg.page/images/ox64-solder.jpg" alt="Pine64 Ox64 64-bit RISC-V SBC (Sorry for my substandard soldering)"></p>
<h2 id="basic-nim-from-scratch"><a href="#basic-nim-from-scratch">1 Basic Nim from scratch</a></h2>
<p><em>(3 languages in a title heh heh)</em></p>
<p>This is the <strong>simplest Nim Program</strong> that will run on NuttX: <a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/hello_nim_async.nim#L54-L63">hello_nim_async.nim</a></p>
<div><pre><code>## Main Function in Nim.
## Will be called by NuttX, so we export to C.
proc hello_nim() {.exportc, cdecl.} =

  ## Print something
  echo "Hello Nim!"

  ## Force the Garbage Collection
  GC_runOrc()
</code></pre></div>
<p>Which looks a lot like Python!</p>
<p><em>What’s GC_runOrc?</em></p>
<p>Our Nim Program will be <strong>called by C</strong>. (Remember NuttX?)</p>
<p>And Nim works with <a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)"><strong>Garbage Collection</strong></a>. Thus we call <a href="https://nim-lang.org/blog/2022/11/11/a-cost-model-for-nim.html"><strong>GC_runOrc</strong></a> to…</p>
<ul>
<li>
<p>Force the Garbage Collection to complete</p>
</li>
<li>
<p>Clean up all remaining Nim Objects</p>
</li>
<li>
<p>Then return to C and NuttX</p>
</li>
</ul>
<p><em>What if we forget to call GC_runOrc?</em></p>
<p>Erm don’t! To make it unforgettable, we <a href="https://nim-lang.org/docs/manual.html#exception-handling-defer-statement"><strong><code>defer</code></strong></a> the Garbage Collection: <a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/hello_nim_async.nim#L54-L63">hello_nim_async.nim</a></p>
<div><pre><code>## Main Function in Nim
proc hello_nim() {.exportc, cdecl.} =

  ## On Return: Force the Garbage Collection
  defer: GC_runOrc()

  ## Print something
  echo "Hello Nim!"
</code></pre></div>
<p><a href="https://nim-lang.org/docs/manual.html#exception-handling-defer-statement"><strong><code>defer</code></strong></a> ensures that the Garbage Collection <strong>will always happen</strong>, as soon as we return from the Main Function.</p>
<p>Now we do something cool and enlightening…</p>
<p>(<a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/hello_nim_async.nim#L54-L67"><strong>hello_nim</strong></a> is called by our C Program <a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/hello_nim_main.c#L35-L42"><strong>hello_nim_main.c</strong></a>)</p>
<p><img src="https://lupyuen.codeberg.page/images/nim-code.jpg" alt="Blink an LED with Nim"></p>
<h2 id="blink-an-led"><a href="#blink-an-led">2 Blink an LED</a></h2>
<p>This is how we <strong>blink an LED</strong> with Nim on NuttX: <a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/hello_nim_async.nim#L19-L50">hello_nim_async.nim</a></p>
<div><pre><code>## Blink the LED
proc blink_led() =

  ## Open the LED Driver
  echo "Opening /dev/userleds"
  let fd = c_open("/dev/userleds", O_WRONLY)

  ## Check the File Descriptor for error
  if fd &lt; 0:
    echo "Failed to open /dev/userleds"
    return
</code></pre></div>
<p>First we call the NuttX Function <strong><code>open</code></strong> to access the <strong>LED Driver</strong>.</p>
<p>We might forget to <strong><code>close</code></strong> the LED Driver (in case of error), so we <a href="https://nim-lang.org/docs/manual.html#exception-handling-defer-statement"><strong><code>defer</code></strong></a> the closing…</p>
<div><pre><code>  ## On Return: Close the LED Driver
  defer: c_close(fd)
</code></pre></div>
<p>Next we call the NuttX Function <strong><code>ioctl</code></strong> to flip <strong>LED 0 to On</strong>…</p>
<div><pre><code>  ## Turn on LED
  echo "Set LED 0 to 1"
  var ret = c_ioctl(fd, ULEDIOC_SETALL, 1)
  if ret &lt; 0:
    echo "ioctl(ULEDIOC_SETALL) failed"
    return
</code></pre></div>
<p><a href="https://github.com/apache/nuttx/blob/master/include/nuttx/leds/userled.h#L57-L66"><strong>ULEDIOC_SETALL</strong></a> accepts a Bit Mask of LED States. The value <strong><code>1</code></strong> says that <strong>LED 0</strong> (Bit 0) will be flipped On.</p>
<p>(Other LEDs will be flipped Off)</p>
<p>We <strong>pause a while</strong>…</p>
<div><pre><code>  ## Wait a second (literally)
  ## Because 1 million microseconds = 1 second
  echo "Waiting..."
  c_usleep(1000_000)
</code></pre></div>
<p>Finally we flip <strong>LED 0 to Off</strong>…</p>
<div><pre><code>  ## Turn off LED
  echo "Set LED 0 to 0"
  ret = c_ioctl(fd, ULEDIOC_SETALL, 0)
  if ret &lt; 0:
    echo "ioctl(ULEDIOC_SETALL) failed"
    return

  ## Wait again
  echo "Waiting..."
  c_usleep(1000_000)
</code></pre></div>
<p>In our <a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/hello_nim_async.nim#L54-L67"><strong>Main Function</strong></a>: We call the above function <strong>20 times</strong> to blink our LED (pic below)…</p>
<div><pre><code>## Main Function in Nim
proc hello_nim() {.exportc, cdecl.} =

  ## On Return: Force the Garbage Collection
  defer: GC_runOrc()

  ## Blink the LED 20 times
  for loop in 0..19:
    blink_led()
</code></pre></div>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello/hello_main.c#L40-L85">(Looks mighty similar to the <strong>C Version</strong>)</a></p>
<p>And we’re almost done! Nim needs to discover our NuttX Functions…</p>
<p><img src="https://lupyuen.codeberg.page/images/nim-blink2.jpg" alt="Apache NuttX RTOS on Ox64 BL808 RISC-V SBC: Nim blinks our LED"></p>
<h2 id="import-nuttx-functions"><a href="#import-nuttx-functions">3 Import NuttX Functions</a></h2>
<p><em>How will Nim know about open, close, ioctl, usleep?</em></p>
<p>We <strong>import the NuttX Functions</strong> from C into Nim: <a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/hello_nim_async.nim#L1-L19">hello_nim_async.nim</a></p>
<div><pre><code>## Import NuttX Functions from C.
## Based on https://github.com/nim-lang/Nim/blob/devel/lib/std/syncio.nim

proc c_open(filename: cstring, mode: cint): cint {.
  importc: "open",
  header: "&lt;fcntl.h&gt;".}

proc c_close(fd: cint): cint {.
  importc: "close",
  header: "&lt;fcntl.h&gt;",
  discardable.}

proc c_ioctl(fd: cint, request: cint): cint {.
  importc: "ioctl",
  header: "&lt;sys/ioctl.h&gt;",
  varargs.}

proc c_usleep(usec: cuint): cint {.
  importc: "usleep",
  header: "&lt;unistd.h&gt;",
  discardable.}
</code></pre></div>
<p><a href="https://nim-lang.org/docs/manual.html#statements-and-expressions-discard-statement">(<strong>discardable</strong> tells Nim Compiler that the Return Value is Optional)</a></p>
<p>We do the same for <strong>NuttX Macros</strong>…</p>
<div><pre><code>## Import NuttX Macros from C.
## Based on https://github.com/nim-lang/Nim/blob/devel/lib/std/syncio.nim

var O_WRONLY {.
  importc: "O_WRONLY", 
  header: "&lt;fcntl.h&gt;".}: cint

var ULEDIOC_SETALL {.
  importc: "ULEDIOC_SETALL", 
  header: "&lt;nuttx/leds/userled.h&gt;".}: cint
</code></pre></div>
<p>We’re ready to run this!</p>
<p><img src="https://lupyuen.codeberg.page/images/nim-qemu.png" alt="Nim with Apache NuttX RTOS on QEMU RISC-V (64-bit)"></p>
<h2 id="run-nim-on-qemu"><a href="#run-nim-on-qemu">4 Run Nim on QEMU</a></h2>
<p><em>How to run Nim Blinky on QEMU Emulator?</em></p>
<p>We begin by <strong>booting NuttX RTOS</strong> on RISC-V QEMU Emulator (64-bit)…</p>
<ol>
<li>
<p>Install <a href="https://www.qemu.org/download/"><strong>QEMU Emulator for RISC-V (64-bit)</strong></a>…</p>
<div><pre><code>## For macOS:
brew install qemu

## For Debian and Ubuntu:
sudo apt install qemu-system-riscv64
</code></pre></div></li>
<li>
<p>Download <strong><code>nuttx</code></strong> from the <a href="https://github.com/lupyuen/nuttx-nim/releases/tag/qemu-1"><strong>NuttX Release</strong></a>…</p>
<p><a href="https://github.com/lupyuen/nuttx-nim/releases/download/qemu-1/nuttx"><strong>nuttx: NuttX Image for 64-bit RISC-V QEMU</strong></a></p>
<p>If we prefer to <strong>build NuttX</strong> ourselves: <a href="https://lupyuen.codeberg.page/articles/nim#appendix-build-nuttx-for-qemu"><strong>Follow these steps</strong></a></p>
</li>
<li>
<p>Start the <strong>QEMU RISC-V Emulator</strong> (64-bit) with NuttX RTOS…</p>
<div><pre><code>qemu-system-riscv64 \
  -semihosting \
  -M virt,aclint=on \
  -cpu rv64 \
  -smp 8 \
  -bios none \
  -kernel nuttx \
  -nographic
</code></pre></div>
<p><a href="https://lupyuen.codeberg.page/articles/riscv#qemu-emulator-for-risc-v">(About the <strong>QEMU Options</strong>)</a></p>
</li>
<li>
<p>NuttX is now running in the <strong>QEMU Emulator</strong>! (Pic above)</p>
<div><pre><code>NuttShell (NSH) NuttX-12.0.3
nsh&gt;
</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/09e653cbd227b9cdff7cf3cb0a5e1ffa#file-qemu-nuttx-nim-build-log-L199-L208">(See the <strong>Complete Log</strong>)</a></p>
</li>
<li>
<p>At the NuttX Prompt, enter “<strong>hello_nim</strong>”…</p>
<div><pre><code>nsh&gt; hello_nim
Hello Nim!
Opening /dev/userleds
</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/09e653cbd227b9cdff7cf3cb0a5e1ffa#file-qemu-nuttx-nim-build-log-L472-L497">(Enter “<strong>help</strong>” to see the available commands)</a></p>
</li>
<li>
<p>Nim on NuttX blinks our <strong>Simulated LED</strong>…</p>
<div><pre><code>Set LED 0 to 1
board_userled_all: led=0, val=1
Waiting...

Set LED 0 to 0
board_userled_all: led=0, val=0
Waiting...

Set LED 0 to 1
board_userled_all: led=0, val=1
Waiting...
</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/09e653cbd227b9cdff7cf3cb0a5e1ffa#file-qemu-nuttx-nim-build-log-L210-L471">(See the <strong>Complete Log</strong>)</a></p>
</li>
<li>
<p>To Exit QEMU: Press <strong><code>Ctrl-A</code></strong> then <strong><code>x</code></strong></p>
</li>
</ol>
<p>Now we step out from the Virtual World into the Real World (like “The Matrix”)…</p>
<p><img src="https://lupyuen.codeberg.page/images/nim-wiring.jpg" alt="Connect an LED to Ox64 SBC at GPIO 29, Pin 21"></p>
<h2 id="nim-blinky-on-ox64"><a href="#nim-blinky-on-ox64">5 Nim Blinky on Ox64</a></h2>
<p><em>Will Nim Blinky run on a real RISC-V SBC?</em></p>
<p>Yep! Connect an LED to Ox64 SBC at <strong>GPIO 29, Pin 21</strong> (pic above)…</p>
<div><table><thead><tr><th>Connect</th><th>To</th><th>Wire</th></tr></thead><tbody>
<tr><td><strong>Ox64 Pin 21</strong> <br><em>(GPIO 29)</em></td><td><strong>Resistor</strong> <br><em>(47 Ohm)</em></td><td>Red</td></tr>
<tr><td><strong>Resistor</strong> <br><em>(47 Ohm)</em></td><td><strong>LED +</strong> <br><em>(Curved Edge)</em></td><td>Breadboard</td></tr>
<tr><td><strong>LED -</strong> <br><em>(Flat Edge)</em></td><td><strong>Ox64 Pin 23</strong> <br><em>(GND)</em></td><td>Black</td></tr>
</tbody></table>
</div>
<p><a href="https://wiki.pine64.org/wiki/File:Ox64_pinout.png">(See the <strong>Ox64 Pinout</strong>)</a></p>
<p>(Resistor is <strong>47 Ohm</strong>, yellow-purple-black-gold, almost Karma Chameleon)</p>
<p>Follow these steps to <strong>boot NuttX RTOS</strong> on our Ox64 BL808 SBC…</p>
<ol>
<li>
<p>Flash <a href="https://lupyuen.codeberg.page/articles/ox64#flash-opensbi-and-u-boot"><strong>OpenSBI and U-Boot Bootloader</strong></a> to Ox64</p>
</li>
<li>
<p>Prepare a <strong>Linux microSD</strong> for Ox64 as described <a href="https://lupyuen.codeberg.page/articles/ox64"><strong>in the previous article</strong></a></p>
</li>
<li>
<p>Download <strong><code>Image</code></strong> from the <a href="https://github.com/lupyuen/nuttx-nim/releases/tag/ox64-1"><strong>NuttX Release</strong></a>…</p>
<p><a href="https://github.com/lupyuen/nuttx-nim/releases/download/ox64-1/Image"><strong>Image: NuttX Image for Ox64 BL808 SBC</strong></a></p>
<p>If we prefer to <strong>build NuttX</strong> ourselves: <a href="https://lupyuen.codeberg.page/articles/nim#appendix-build-nuttx-for-ox64"><strong>Follow these steps</strong></a></p>
</li>
<li>
<p>Copy the <strong><code>Image</code></strong> file and overwrite the <strong><code>Image</code></strong> in the Linux microSD</p>
</li>
<li>
<p>Insert the <a href="https://lupyuen.codeberg.page/images/ox64-sd.jpg"><strong>microSD into Ox64</strong></a> and power up Ox64</p>
</li>
<li>
<p>NuttX is now running on our <strong>Ox64 SBC</strong>! (Pic below)</p>
<div><pre><code>Starting kernel...
NuttShell (NSH) NuttX-12.0.3
nsh&gt;
</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/553c2da4ad5d119468d223e162573e96#file-ox64-nuttx-nim-blink-log-L112-L125">(See the <strong>Complete Log</strong>)</a></p>
</li>
<li>
<p>At the NuttX Prompt, enter “<strong>hello_nim</strong>”…</p>
<div><pre><code>nsh&gt; hello_nim
Hello Nim!
Opening /dev/userleds
</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/09e653cbd227b9cdff7cf3cb0a5e1ffa#file-qemu-nuttx-nim-build-log-L472-L497">(Enter “<strong>help</strong>” to see the available commands)</a></p>
</li>
<li>
<p>Nim on NuttX <a href="https://lupyuen.codeberg.page/images/nim-blink.jpg"><strong>blinks our LED</strong></a>…</p>
<div><pre><code>Set LED 0 to 1
board_userled_all: led=0, val=1
Waiting...

Set LED 0 to 0
board_userled_all: led=0, val=0
Waiting...

Set LED 0 to 1
board_userled_all: led=0, val=1
Waiting...
</code></pre></div>
<p><a href="https://youtube.com/shorts/KCkiXFxBgxQ">(Watch the <strong>Demo on YouTube</strong>)</a></p>
<p><a href="https://gist.github.com/lupyuen/553c2da4ad5d119468d223e162573e96#file-ox64-nuttx-nim-blink-log-L129-L395">(See the <strong>Complete Log</strong>)</a></p>
</li>
</ol>
<p>Nim blinks a real LED on a real RISC-V SBC! Let’s figure out how it works…</p>
<p><img src="https://lupyuen.codeberg.page/images/nim-ox64.png" alt="Apache NuttX RTOS on Ox64 BL808 RISC-V SBC: Works great with Nim!"></p>
<h2 id="inside-nim-on-nuttx"><a href="#inside-nim-on-nuttx">6 Inside Nim on NuttX</a></h2>
<p><em>Nim runs incredibly well on NuttX. How is that possible?</em></p>
<p>That’s because <strong>Nim compiles to C</strong>. As far as NuttX is concerned…</p>
<p>Nim looks like <strong>any other C Program!</strong></p>
<p><em>Whoa! How is Nim compiled to C?</em></p>
<p>Our <a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/Makefile#L37-L41"><strong>NuttX Makefile</strong></a> calls the Nim Compiler…</p>
<div><pre><code>## Compile Nim to C
export TOPDIR=$PWD/nuttx
cd apps/examples/hello_nim
nim c --header hello_nim_async.nim 
</code></pre></div>
<p>Nim Compiler compiles our <a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/hello_nim_async.nim#L54-L63"><strong>Nim Program</strong></a>…</p>
<div><pre><code>## Nim Program that prints something
proc hello_nim() {.exportc, cdecl.} =
  echo "Hello Nim!"
</code></pre></div>
<p>Into this <a href="https://gist.github.com/lupyuen/4d3f44b58fa88b17ca851decb0419b86#file-mhello_nim_async-nim-c-L198-L203"><strong>C Program</strong></a>…</p>
<div><pre><code>// Main Function compiled from Nim to C:
// echo "Hello Nim!"
N_LIB_PRIVATE N_CDECL(void, hello_nim)(void) {
  ...
  // `echo` comes from the Nim System Library
  // https://github.com/nim-lang/Nim/blob/devel/lib/system.nim#L2849-L2902
  echoBinSafe(TM__1vqzGCGyH8jPEpAwiaNwvg_2, 1);
  ...
}

// String "Hello Nim!" compiled from Nim to C
static NIM_CONST tyArray__nHXaesL0DJZHyVS07ARPRA TM__1vqzGCGyH8jPEpAwiaNwvg_2 
  = {{10, (NimStrPayload*)&amp;TM__1vqzGCGyH8jPEpAwiaNwvg_3}};

// Actual String for "Hello Nim!"
static const struct { NI cap; NIM_CHAR data[10+1]; } TM__1vqzGCGyH8jPEpAwiaNwvg_3 
  = { 10 | NIM_STRLIT_FLAG, "Hello Nim!" };
</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/4d3f44b58fa88b17ca851decb0419b86#file-mhello_nim_async-nim-c-L198-L203">(From .nimcache/@mhello_nim_async.nim.c)</a></p>
<p><a href="https://github.com/lupyuen/nuttx-nim/releases/download/ox64-1/nimcache.tar">(See the <strong>nimcache</strong>)</a></p>
<p>Hence Nim Compiler has produced a <a href="https://gist.github.com/lupyuen/4d3f44b58fa88b17ca851decb0419b86#file-mhello_nim_async-nim-c-L198-L203"><strong>perfectly valid C Program</strong></a>. That will compile with any C Compiler!</p>
<p><em>How will NuttX compile this?</em></p>
<p>Nim Compiler generates the code above into the <a href="https://github.com/lupyuen/nuttx-nim/releases/download/ox64-1/nimcache.tar"><strong><code>.nimcache</code></strong></a> folder.</p>
<p>Our <a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/examples/hello_nim/Makefile#L31-L35"><strong>NuttX Makefile</strong></a> compiles everything inside <a href="https://github.com/lupyuen/nuttx-nim/releases/download/ox64-1/nimcache.tar"><strong><code>.nimcache</code></strong></a> with the GCC Compiler…</p>
<div><pre><code>## Compile everything in the .nimcache folder
NIMPATH = $(shell choosenim show path)
CFLAGS += -I $(NIMPATH)/lib -I ../../.nimcache
CSRCS  += $(wildcard ../../.nimcache/*.c)
</code></pre></div>
<p>And links the Nim Modules (compiled by GCC) into NuttX.</p>
<p><em>So Nim Compiler is aware of NuttX?</em></p>
<p>Yep! Nim Compiler is internally wired to <strong>produce NuttX Code</strong> (that GCC will compile correctly)…</p>
<ul>
<li>
<p><a href="https://github.com/nim-lang/Nim/pull/21372/files"><strong>Nim Support for NuttX</strong></a></p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/blob/nim/config.nims"><strong>Nim Configuration for NuttX: config.nims</strong></a></p>
</li>
</ul>
<p>Kudos to <a href="https://github.com/apache/nuttx-apps/pull/1597"><strong>centurysys</strong></a> and the Nim Community for making this possible!</p>
<p><em>Everything is hunky dory with Nim on NuttX?</em></p>
<p>We made some <strong>Minor Fixes</strong>, we’ll upstream to NuttX shortly…</p>
<ul>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/pull/3/files#diff-7fb4194c7b9e7b17a2a650d4182f39fb0e932cc9bb566e9b580d22fa8a7b4307"><strong>Makefile</strong></a>: Nimcache has moved 2 folders up</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/pull/3/files#diff-be274e89063d9377278fad5fdcdd936e89d2f32efd7eb8eb8a6a83ac4c711879"><strong>config.nims</strong></a>: Add support for 64-bit RISC-V</p>
</li>
</ul>
<p>Here we see the Nim Compiler working perfectly, <a href="https://gist.github.com/lupyuen/09e653cbd227b9cdff7cf3cb0a5e1ffa#file-qemu-nuttx-nim-build-log-L55-L185"><strong>compiling our program</strong></a> for NuttX (by parsing the <a href="https://github.com/lupyuen/nuttx-nim/releases/download/ox64-1/nuttx.config"><strong>NuttX Build Config</strong></a>)…</p>
<div><pre><code>$ export TOPDIR=/workspaces/bookworm/nuttx
$ cd /workspaces/bookworm/apps/examples/hello_nim
$ nim c --header hello_nim_async.nim

read_config: /workspaces/bookworm/nuttx/.config
line=CONFIG_DEBUG_SYMBOLS=y
line=CONFIG_DEBUG_FULLOPT=y
line=CONFIG_ARCH="risc-v"
@["keyval=", "ARCH", "\"risc-v\""]
keyval[1]="risc-v"
line=CONFIG_RAM_SIZE=33554432
* arch:    riscv64
* opt:     oSize
* debug:   true
* ramSize: 33554432
* isSim:   false
Hint: used config file '/home/vscode/.choosenim/toolchains/nim-#devel/config/nim.cfg' [Conf]
Hint: used config file '/home/vscode/.choosenim/toolchains/nim-#devel/config/config.nims' [Conf]
Hint: used config file '/workspaces/bookworm/apps/config.nims' [Conf]
....................................................................................................................................
Hint: mm: orc; opt: size; options: -d:danger
92931 lines; 1.214s; 137.633MiB peakmem; proj: /workspaces/bookworm/apps/examples/hello_nim/hello_nim_async.nim; out: /workspaces/bookworm/apps/.nimcache/hello_nim_async.json [SuccessX]
</code></pre></div>
<p><em>Isn’t Nim supposed to be Memory Safe?</em></p>
<p>Yeah so far we’re doing Low-Level Coding with NuttX. And the <a href="https://nim-lang.org/faq.html"><strong>Nim Memory Safety</strong></a> doesn’t shine through.</p>
<p>Later when we write <strong>LVGL Graphical Apps</strong> in Nim, we’ll appreciate the <a href="https://github.com/mantielero/lvgl.nim/blob/main/examples/ex02_label.nim"><strong>safety and simplicity</strong></a> of Nim…</p>
<ul>
<li>
<p><a href="https://github.com/mantielero/lvgl.nim"><strong>Nim Wrapper for LVGL Graphics Library</strong></a></p>
<p><a href="https://nim-lang.org/docs/nimc.html#nim-for-embedded-systems">(More about <strong>Embedded Nim</strong>)</a></p>
<p><a href="https://nim-lang.org/docs/nimc.html">(More about <strong>Nim Compiler</strong>)</a></p>
</li>
</ul>
<p><img src="https://lupyuen.codeberg.page/images/nim-gpio.jpg" alt="GPIO 29 in BL808 Reference Manual (Page 119)"></p>
<p><a href="https://github.com/bouffalolab/bl_docs/blob/main/BL808_RM/en/BL808_RM_en_1.3.pdf"><em>GPIO 29 in BL808 Reference Manual (Page 119)</em></a></p>
<h2 id="led-driver-for-ox64"><a href="#led-driver-for-ox64">7 LED Driver for Ox64</a></h2>
<p><em>Nim Blinky needs an LED Driver for Ox64…</em></p>
<p><em>What’s the Quickest Way to create a NuttX LED Driver?</em></p>
<p><a href="https://gist.github.com/lupyuen/553c2da4ad5d119468d223e162573e96#file-ox64-nuttx-nim-blink-log-L79-L112"><strong>U-Boot Bootloader</strong></a> can help! Power up Ox64 and press Enter a few times to reveal the <strong>U-Boot Command Prompt</strong>.</p>
<p>We enter these <strong>U-Boot Commands</strong>…</p>
<div><pre><code>## Dump the GPIO 29 Register at 0x20000938 (gpio_cfg29)
$ md 0x20000938 1
20000938: 00400803                             ..@.

## Set GPIO 29 Output to 1:
## (1 &lt;&lt; 6) | (11 &lt;&lt; 8) | (0 &lt;&lt; 30) | (0 &lt;&lt; 4) | (1 &lt;&lt; 24)
## = 0x1000b40
$ mw 0x20000938 0x1000b40 1

## Dump the GPIO 29 Register to verify
$ md 020000938 1
20000938: 01000b40                             @...

## Set GPIO 29 Output to 0:
## (1 &lt;&lt; 6) | (11 &lt;&lt; 8) | (0 &lt;&lt; 30) | (0 &lt;&lt; 4) | (0 &lt;&lt; 24)
## = 0xb40
$ mw 0x20000938 0xb40 1

## Dump the GPIO 29 Register to verify
$ md 0x20000938 1
20000938: 00000b40                             @...
</code></pre></div>
<p>And our LED (GPIO 29) will <strong>flip On and Off</strong>!</p>
<p>Thus we have verified the <strong>Magic Bits</strong> for flipping our LED…</p>
<ul>
<li>
<p>Write to <strong>GPIO 29 Register</strong> at <strong><code>0x2000</code> <code>0938</code></strong> (gpio_cfg29)</p>
</li>
<li>
<p>Register Value <strong><code>0x100</code> <code>0B40</code></strong> will flip the LED On</p>
</li>
<li>
<p>Register Value <strong><code>0xB40</code></strong> will flip the LED Off</p>
</li>
</ul>
<p><em>How did we figure out the Magic Bits for GPIO 29?</em></p>
<p>From <a href="https://github.com/bouffalolab/bl_docs/blob/main/BL808_RM/en/BL808_RM_en_1.3.pdf"><strong>BL808 Reference Manual</strong></a> (Page 56), “Normal GPIO Output Mode”…</p>
<ul>
<li>
<p>Set <strong>reg_gpio_29_oe</strong> (Bit 6) to <strong><code>1</code></strong> to enable GPIO Output Mode <br>
= (1 &lt;&lt; 6)</p>
</li>
<li>
<p>Set <strong>reg_gpio_29_func_sel</strong> (Bits 8 to 12) to <strong><code>11</code></strong> to enter SWGPIO Mode <br>
= (11 &lt;&lt; 8)</p>
</li>
<li>
<p>Set <strong>reg_gpio_29_mode</strong> (Bits 30 to 31) to <strong><code>0</code></strong> to enable Normal Output Function of I/O <br>
= (0 &lt;&lt; 30)</p>
</li>
<li>
<p>Set <strong>reg_gpio_29_pu</strong> (Bit 4) and <strong>reg_gpio_29_pd</strong> (Bit 5) to <strong><code>0</code></strong> to disable Internal Pull-Up and Pull-Down functions <br>
= (0 &lt;&lt; 4)</p>
</li>
<li>
<p>Set the Pin Level (<strong><code>0</code></strong> or <strong><code>1</code></strong>) through <strong>reg_gpio_29_o</strong> (Bit 24) <br>
= Either (0 &lt;&lt; 24) Or (1 &lt;&lt; 24)</p>
</li>
</ul>
<p><a href="https://lupyuen.codeberg.page/images/nim-gpio.jpg">(<strong>GPIO Bits</strong> are listed in the pic above)</a></p>
<p>Which means…</p>
<ul>
<li>
<p><strong>Set GPIO Output to 0</strong> <br>
= (1 &lt;&lt; 6) | (11 &lt;&lt; 8) | (0 &lt;&lt; 30) | (0 &lt;&lt; 4) | (0 &lt;&lt; 24) <br>
= <strong><code>0xB40</code></strong></p>
</li>
<li>
<p><strong>Set GPIO Output to 1</strong> <br>
= (1 &lt;&lt; 6) | (11 &lt;&lt; 8) | (0 &lt;&lt; 30) | (0 &lt;&lt; 4) | (1 &lt;&lt; 24) <br>
= <strong><code>0x100</code> <code>0B40</code></strong></p>
</li>
</ul>
<p>And we write the above values to <strong>GPIO 29 Register</strong> at <strong><code>0x2000</code> <code>0938</code></strong> (gpio_cfg29)</p>
<p><em>How to flip the GPIO in our LED Driver?</em></p>
<p>We do this in our <strong>NuttX LED Driver</strong>: <a href="https://github.com/lupyuen2/wip-pinephone-nuttx/blob/nim/boards/risc-v/bl808/ox64/src/bl808_userleds.c#L176-L209">bl808_userleds.c</a></p>
<div><pre><code>// Flip the LEDs On and Off according to the LED Set
// (Bit 0 = LED 0)
void board_userled_all(uint32_t ledset) {

  // For LED 0 to 2...
  for (int i = 0; i &lt; BOARD_LEDS; i++) {

    // Get the desired state of the LED
    const bool val = ((ledset &amp; g_led_setmap[i]) != 0);

    // If this is LED 0...
    if (i == 0) {

      // Flip it On or Off?
      if (val) {

        // Flip LED 0 (GPIO 29) to On:
        // Set gpio_cfg29 to (1 &lt;&lt; 6) | (11 &lt;&lt; 8) | (0 &lt;&lt; 30) | (0 &lt;&lt; 4) | (1 &lt;&lt; 24)
        // mw 0x20000938 0x1000b40 1
        *(volatile uint32_t *) 0x20000938 = 0x1000b40;
      } else {

        // Flip LED 0 (GPIO 29) to Off:
        // Set gpio_cfg29 to (1 &lt;&lt; 6) | (11 &lt;&lt; 8) | (0 &lt;&lt; 30) | (0 &lt;&lt; 4) | (0 &lt;&lt; 24)
        // mw 0x20000938 0xb40 1
        *(volatile uint32_t *) 0x20000938 = 0xb40;
      }
    }
  }
}
</code></pre></div>
<p>That’s how we created a barebones LED Driver for Ox64!</p>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/blob/nim/boards/risc-v/bl808/ox64/src/bl808_autoleds.c">(Remember to add the <strong>Auto LED Driver</strong>)</a></p>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/pull/47/files#diff-60cc096e3a9b22a769602cbbc3b0f5e7731e72db7b0338da04fcf665ed753b64">(And update the <strong>Board Kconfig</strong>)</a></p>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/blob/nim/boards/risc-v/bl808/ox64/src/bl808_appinit.c#L167-L179">(And start our <strong>LED Driver</strong>)</a></p>
<p><em>Ahem it looks a little messy…</em></p>
<p>No Worries! Later we’ll replace the (awful) code above by the <strong>BL808 GPIO Driver</strong>. Which we’ll copy from <a href="https://github.com/apache/nuttx/blob/master/arch/risc-v/src/bl602/bl602_gpio.c"><strong>NuttX for BL602</strong></a>…</p>
<div><pre><code>// Get the desired state of LED[i]
const bool val = ((ledset &amp; g_led_setmap[i]) != 0);

// Call the BL808 GPIO Driver to flip the LED On or Off
bl808_gpio_write(  // Write to the GPIO Output...
  g_led_map[i],    // GPIO Number for LED[i]
  val              // Flip it On or Off
);
</code></pre></div>
<p><em>Anything else we patched?</em></p>
<p>We fixed the <strong>NuttX Timer</strong> for Ox64 (otherwise we can’t blink)…</p>
<ul>
<li><a href="https://lupyuen.codeberg.page/articles/nim#appendix-opensbi-timer-for-nuttx"><strong>“OpenSBI Timer for NuttX”</strong></a></li>
</ul>
<p><img src="https://lupyuen.codeberg.page/images/nim-blink.jpg" alt="Apache NuttX RTOS on Ox64 BL808 RISC-V SBC: Nim blinks our LED"></p>
<h2 id="whats-next"><a href="#whats-next">8 What’s Next</a></h2>
<p>Today we ran some Fun Experiments with <strong>Nim on NuttX</strong>…</p>
<ul>
<li>
<p>We blinked a Simulated LED on <strong>QEMU Emulator</strong></p>
</li>
<li>
<p>Then we blinked a Real LED on <strong>Ox64 BL808 RISC-V SBC</strong> (pic above)</p>
</li>
<li>
<p>We peeked <strong>inside Nim on NuttX</strong></p>
</li>
<li>
<p>To figure out how <strong>Nim compiles to C</strong></p>
</li>
<li>
<p>Even though it’s Python-like with <strong>Garbage Collection</strong></p>
</li>
<li>
<p>And <strong>Everything works OK</strong>!</p>
<p>(With minor fixes to Nim Config, LED Driver and RISC-V Timer)</p>
</li>
</ul>
<p>We’ll do more with Nim on NuttX. (Maybe <strong>LVGL</strong>?) Stay Tuned!</p>
<p>Many Thanks to my <a href="https://github.com/sponsors/lupyuen"><strong>GitHub Sponsors</strong></a> (and the awesome NuttX Community) for supporting my work! This article wouldn’t have been possible without your support.</p>
<ul>
<li>
<p><a href="https://github.com/sponsors/lupyuen"><strong>Sponsor me a coffee</strong></a></p>
</li>
<li>
<p><a href="https://news.ycombinator.com/item?id=38828619"><strong>Discuss this article on Hacker News</strong></a></p>
</li>
<li>
<p><a href="https://forum.pine64.org/showthread.php?tid=18986"><strong>Discuss this article on Pine64 Forum</strong></a></p>
</li>
<li>
<p><a href="https://bbs.bouffalolab.com/d/274-article-nim-on-a-real-time-operating-system-apache-nuttx-rtos-ox64-bl808"><strong>Discuss this article on Bouffalo Lab Forum</strong></a></p>
</li>
<li>
<p><a href="https://github.com/lupyuen/nuttx-ox64"><strong>My Current Project: “Apache NuttX RTOS for Ox64 BL808”</strong></a></p>
</li>
<li>
<p><a href="https://github.com/lupyuen/nuttx-star64"><strong>My Other Project: “NuttX for Star64 JH7110”</strong></a></p>
</li>
<li>
<p><a href="https://github.com/lupyuen/pinephone-nuttx"><strong>Older Project: “NuttX for PinePhone”</strong></a></p>
</li>
<li>
<p><a href="https://lupyuen.codeberg.page/"><strong>Check out my articles</strong></a></p>
</li>
<li>
<p><a href="https://lupyuen.codeberg.page/rss.xml"><strong>RSS Feed</strong></a></p>
</li>
</ul>
<p><em>Got a question, comment or suggestion? Create an Issue or submit a Pull Request here…</em></p>
<p><a href="https://github.com/lupyuen/lupyuen.github.io/blob/master/src/nim.md"><strong>lupyuen.github.io/src/nim.md</strong></a></p>
<p><img src="https://lupyuen.codeberg.page/images/nim-qemu.png" alt="Nim with Apache NuttX RTOS on QEMU RISC-V (64-bit)"></p>
<h2 id="appendix-build-nuttx-for-qemu"><a href="#appendix-build-nuttx-for-qemu">9 Appendix: Build NuttX for QEMU</a></h2>
<p>In this article, we compiled a Work-In-Progress Version of <strong>Apache NuttX RTOS for QEMU RISC-V (64-bit)</strong> that has Minor Fixes for Nim…</p>
<ul>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/pull/47/files#diff-dd54e0076f30825f912248f2424460e3126c2a8f4e2880709f5c68af9342ddcf"><strong>nsh64/defconfig</strong></a>: NuttX Config for QEMU</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/pull/47/files#diff-5905dc63d5fd592e0a1e25ab25783ae99e54180a7b98fb59f56a73dee79104e6"><strong>qemu_rv_autoleds.c</strong></a>
: Auto LED Driver for QEMU</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/pull/47/files#diff-a6fd389669ddef88302f00a34d401479886cb8983f7be58b32ba075699cb5bb8"><strong>qemu_rv_userleds.c</strong></a>: User LED Driver for QEMU</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/pull/47/files#diff-beeaeb03fa5642002a542446c89251c9a7c5c1681cfe915387740ea0975e91b3"><strong>qemu_rv_appinit.c</strong></a>: Start LED Driver</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/pull/3/files#diff-7fb4194c7b9e7b17a2a650d4182f39fb0e932cc9bb566e9b580d22fa8a7b4307"><strong>Makefile</strong></a>: Nimcache has moved 2 folders up</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/pull/3/files#diff-be274e89063d9377278fad5fdcdd936e89d2f32efd7eb8eb8a6a83ac4c711879"><strong>config.nims</strong></a>: Add support for 64-bit RISC-V</p>
</li>
</ul>
<p>First we install <a href="https://nim-lang.org/install_unix.html"><strong>Nim Compiler</strong></a> (only the Latest Dev Version supports NuttX)…</p>
<div><pre><code>## Install Nim Compiler: https://nim-lang.org/install_unix.html
curl https://nim-lang.org/choosenim/init.sh -sSf | sh

## Add Nim to PATH
export PATH=$HOME/.nimble/bin:$PATH

## Select Latest Dev Version of Nim. Will take a while!
choosenim devel --latest

## Version should be 2.1.1 or later:
## Nim Compiler Version 2.1.1 [Linux: amd64]
## Compiled at 2023-12-22
nim -v
</code></pre></div>
<p><a href="https://github.com/lupyuen/nuttx-nim#build-nuttx-with-debian-container-in-vscode">(Nim won’t install? Try a <strong>Linux Container</strong>)</a></p>
<p>Then we download and build NuttX for <strong>QEMU RISC-V (64-bit)</strong>…</p>
<div><pre><code>## Download the WIP NuttX Source Code
git clone \
  --branch nim \
  https://github.com/lupyuen2/wip-pinephone-nuttx \
  nuttx
git clone \
  --branch nim \
  https://github.com/lupyuen2/wip-pinephone-nuttx-apps \
  apps

## Configure NuttX for QEMU RISC-V (64-bit)
cd nuttx
tools/configure.sh rv-virt:nsh64

## Build NuttX
make

## Dump the disassembly to nuttx.S
riscv64-unknown-elf-objdump \
  --syms --source --reloc --demangle --line-numbers --wide \
  --debugging \
  nuttx \
  &gt;nuttx.S \
  2&gt;&amp;1
</code></pre></div>
<p><a href="https://lupyuen.codeberg.page/articles/release#build-nuttx-for-star64">(Remember to install the <strong>Build Prerequisites and Toolchain</strong>)</a></p>
<p><a href="https://github.com/lupyuen/nuttx-nim/releases/tag/qemu-1">(See the <strong>Build Script</strong>)</a></p>
<p><a href="https://gist.github.com/lupyuen/09e653cbd227b9cdff7cf3cb0a5e1ffa">(See the <strong>Build Log</strong>)</a></p>
<p><a href="https://github.com/lupyuen/nuttx-nim/releases/tag/qemu-1">(See the <strong>Build Outputs</strong>)</a></p>
<p>This produces the NuttX ELF Image <strong><code>nuttx</code></strong> that we may boot on QEMU RISC-V Emulator…</p>
<div><pre><code>## Start the QEMU RISC-V Emulator (64-bit) with NuttX RTOS
qemu-system-riscv64 \
  -semihosting \
  -M virt,aclint=on \
  -cpu rv64 \
  -smp 8 \
  -bios none \
  -kernel nuttx \
  -nographic
</code></pre></div>
<p>At the NuttX Prompt, enter “<strong>hello_nim</strong>”…</p>
<div><pre><code>nsh&gt; hello_nim
Hello Nim!
Opening /dev/userleds
</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/09e653cbd227b9cdff7cf3cb0a5e1ffa#file-qemu-nuttx-nim-build-log-L472-L497">(Enter “<strong>help</strong>” to see the available commands)</a></p>
<p>Nim on NuttX blinks our <strong>Simulated LED</strong>…</p>
<div><pre><code>Set LED 0 to 1
board_userled_all: led=0, val=1
Waiting...

Set LED 0 to 0
board_userled_all: led=0, val=0
Waiting...

Set LED 0 to 1
board_userled_all: led=0, val=1
Waiting...
</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/09e653cbd227b9cdff7cf3cb0a5e1ffa#file-qemu-nuttx-nim-build-log-L210-L471">(See the <strong>NuttX Log</strong>)</a></p>
<p>To Exit QEMU: Press <strong><code>Ctrl-A</code></strong> then <strong><code>x</code></strong></p>
<p><img src="https://lupyuen.codeberg.page/images/nim-ox64.png" alt="Apache NuttX RTOS on Ox64 BL808 RISC-V SBC: Works great with Nim!"></p>
<h2 id="appendix-build-nuttx-for-ox64"><a href="#appendix-build-nuttx-for-ox64">10 Appendix: Build NuttX for Ox64</a></h2>
<p>In this article, we compiled a Work-In-Progress Version of <strong>Apache NuttX RTOS for Ox64</strong> that has Minor Fixes for Nim…</p>
<ul>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/pull/47/files#diff-fa4b30efe1c5e19ba2fdd2216528406d85fa89bf3d2d0e5161794191c1566078"><strong>nsh/defconfig</strong></a>: NuttX Config for Ox64</p>
</li>
<li>
<p><a href="https://lupyuen.codeberg.page/articles/nim#appendix-opensbi-timer-for-nuttx"><strong>bl808_timerisr.c</strong></a>: RISC-V Timer for Ox64</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/pull/47/files#diff-efdf5ed87983905c7021de03a7add73932da529d4312b80f948eb199c256b170"><strong>bl808_autoleds.c</strong></a>: Auto LED Driver for Ox64</p>
</li>
<li>
<p><a href="https://lupyuen.codeberg.page/articles/nim#led-driver-for-ox64"><strong>bl808_userleds.c</strong></a>: User LED Driver for Ox64</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/pull/47/files#diff-902a3cb106dc7153d030370077938ef28c9412d8b3434888fca8bbf1a1cfbd54"><strong>bl808_appinit.c</strong></a>: Start LED Driver for Ox64</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/pull/3/files#diff-7fb4194c7b9e7b17a2a650d4182f39fb0e932cc9bb566e9b580d22fa8a7b4307"><strong>Makefile</strong></a>: Nimcache has moved 2 folders up</p>
</li>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx-apps/pull/3/files#diff-be274e89063d9377278fad5fdcdd936e89d2f32efd7eb8eb8a6a83ac4c711879"><strong>config.nims</strong></a>: Add support for 64-bit RISC-V</p>
</li>
</ul>
<p>First we install <a href="https://nim-lang.org/install_unix.html"><strong>Nim Compiler</strong></a> (only the Latest Dev Version supports NuttX)…</p>
<div><pre><code>## Install Nim Compiler: https://nim-lang.org/install_unix.html
curl https://nim-lang.org/choosenim/init.sh -sSf | sh

## Add Nim to PATH
export PATH=$HOME/.nimble/bin:$PATH

## Select Latest Dev Version of Nim. Will take a while!
choosenim devel --latest

## Version should be 2.1.1 or later:
## Nim Compiler Version 2.1.1 [Linux: amd64]
## Compiled at 2023-12-22
nim -v
</code></pre></div>
<p><a href="https://github.com/lupyuen/nuttx-nim#build-nuttx-with-debian-container-in-vscode">(Nim won’t install? Try a <strong>Linux Container</strong>)</a></p>
<p>Then we download and build NuttX for <strong>Ox64 BL808 SBC</strong>…</p>
<div><pre><code>## Download the WIP NuttX Source Code
git clone \
  --branch nim \
  https://github.com/lupyuen2/wip-pinephone-nuttx \
  nuttx
git clone \
  --branch nim \
  https://github.com/lupyuen2/wip-pinephone-nuttx-apps \
  apps

## Configure NuttX for Ox64 BL808 RISC-V SBC
cd nuttx
tools/configure.sh ox64:nsh

## Build NuttX
make

## Export the NuttX Kernel
## to `nuttx.bin`
riscv64-unknown-elf-objcopy \
  -O binary \
  nuttx \
  nuttx.bin

## Dump the disassembly to nuttx.S
riscv64-unknown-elf-objdump \
  --syms --source --reloc --demangle --line-numbers --wide \
  --debugging \
  nuttx \
  &gt;nuttx.S \
  2&gt;&amp;1

## Dump the hello_nim disassembly to hello_nim.S
riscv64-unknown-elf-objdump \
  --syms --source --reloc --demangle --line-numbers --wide \
  --debugging \
  ../apps/bin/hello_nim \
  &gt;hello_nim.S \
  2&gt;&amp;1
</code></pre></div>
<p><a href="https://lupyuen.codeberg.page/articles/release#build-nuttx-for-star64">(Remember to install the <strong>Build Prerequisites and Toolchain</strong>)</a></p>
<p>We build the <strong>Initial RAM Disk</strong> that contains NuttX Shell and NuttX Apps…</p>
<div><pre><code>## Build the Apps Filesystem
make -j 8 export
pushd ../apps
./tools/mkimport.sh -z -x ../nuttx/nuttx-export-*.tar.gz
make -j 8 import
popd

## Generate the Initial RAM Disk `initrd`
## in ROMFS Filesystem Format
## from the Apps Filesystem `../apps/bin`
## and label it `NuttXBootVol`
genromfs \
  -f initrd \
  -d ../apps/bin \
  -V "NuttXBootVol"

## Prepare a Padding with 64 KB of zeroes
head -c 65536 /dev/zero &gt;/tmp/nuttx.pad

## Append Padding and Initial RAM Disk to NuttX Kernel
cat nuttx.bin /tmp/nuttx.pad initrd \
  &gt;Image
</code></pre></div>
<p><a href="https://github.com/lupyuen/nuttx-nim/releases/tag/ox64-1">(See the <strong>Build Script</strong>)</a></p>
<p><a href="https://gist.github.com/lupyuen/578a7eb2d4d827aa252fff37c172dd18">(See the <strong>Build Log</strong>)</a></p>
<p><a href="https://github.com/lupyuen/nuttx-nim/releases/tag/ox64-1">(See the <strong>Build Outputs</strong>)</a></p>
<p>This produces the NuttX Image for Ox64: <strong><code>Image</code></strong></p>
<p>Next we prepare a <strong>Linux microSD</strong> for Ox64 as described <a href="https://lupyuen.codeberg.page/articles/ox64"><strong>in the previous article</strong></a>.</p>
<p><a href="https://lupyuen.codeberg.page/articles/ox64#flash-opensbi-and-u-boot">(Remember to flash <strong>OpenSBI and U-Boot Bootloader</strong>)</a></p>
<p>And we do the <a href="https://lupyuen.codeberg.page/articles/ox64#apache-nuttx-rtos-for-ox64"><strong>Linux-To-NuttX Switcheroo</strong></a>: Copy the <strong><code>Image</code></strong> file (from above) and overwrite the <strong><code>Image</code></strong> in the Linux microSD…</p>
<div><pre><code>## Overwrite the Linux Image
## on Ox64 microSD
cp Image \
  "/Volumes/NO NAME/Image"
diskutil unmountDisk /dev/disk2
</code></pre></div>
<p>Insert the <a href="https://lupyuen.codeberg.page/images/ox64-sd.jpg"><strong>microSD into Ox64</strong></a> and power up Ox64.</p>
<p>Ox64 boots <a href="https://lupyuen.codeberg.page/articles/sbi"><strong>OpenSBI</strong></a>, which starts <a href="https://lupyuen.codeberg.page/articles/linux#u-boot-bootloader-for-star64"><strong>U-Boot Bootloader</strong></a>, which starts <strong>NuttX Kernel</strong> and the NuttX Shell (NSH).</p>
<p>At the NuttX Prompt, enter “<strong>hello_nim</strong>”…</p>
<div><pre><code>nsh&gt; hello_nim
Hello Nim!
Opening /dev/userleds

Set LED 0 to 1
board_userled_all: led=0, val=1
Waiting...

Set LED 0 to 0
board_userled_all: led=0, val=0
Waiting...
</code></pre></div>
<p><a href="https://gist.github.com/lupyuen/09e653cbd227b9cdff7cf3cb0a5e1ffa#file-qemu-nuttx-nim-build-log-L472-L497">(Enter “<strong>help</strong>” to see the available commands)</a></p>
<p>Nim on NuttX <a href="https://lupyuen.codeberg.page/images/nim-blink.jpg"><strong>blinks our LED</strong></a>.</p>
<p><a href="https://youtube.com/shorts/KCkiXFxBgxQ">(Watch the <strong>Demo on YouTube</strong>)</a></p>
<p><a href="https://gist.github.com/lupyuen/553c2da4ad5d119468d223e162573e96">(See the <strong>NuttX Log</strong>)</a></p>
<p><img src="https://lupyuen.codeberg.page/images/privilege-title.jpg" alt="OpenSBI Supervisor Binary Interface"></p>
<h2 id="appendix-opensbi-timer-for-nuttx"><a href="#appendix-opensbi-timer-for-nuttx">11 Appendix: OpenSBI Timer for NuttX</a></h2>
<p><em>The <code>sleep</code> command hangs in NuttX Shell. How to fix it?</em></p>
<p>That’s because we haven’t implemented the <strong>RISC-V Timer</strong> for Ox64! We should call <a href="https://www.hackster.io/lupyuen/8-risc-v-sbc-on-a-real-time-operating-system-ox64-nuttx-474358#toc-bare-metal-experiments-8"><strong>OpenSBI Supervisor Binary Interface</strong></a> to handle the Timer…</p>
<ul>
<li>
<p><a href="https://github.com/lupyuen2/wip-pinephone-nuttx/commit/57ea5f000636f739ac3cb8ea1e60936798f6c3a9#diff-535879ffd6d9fc8e7d84b37a88bdeb1609c4a90e3777150939a96bed18696aee"><strong>Fix RISC-V Timer for Ox64</strong></a></p>
<p>(Ignore <a href="https://github.com/lupyuen2/wip-pinephone-nuttx/commit/57ea5f000636f739ac3cb8ea1e60936798f6c3a9#diff-922834c58227800347b4486fa310c3570cd4014f200ac5ea0cd2e40764cefac4">riscv_mtimer.c</a>)</p>
</li>
</ul>
<p>We only need to change the <strong>Timer Initialisation</strong>:&nbsp;<a href="https://github.com/lupyuen2/wip-pinephone-nuttx/blob/nim/arch/risc-v/src/bl808/bl808_timerisr.c#L44-L116">bl808_timerisr.c</a></p>
<div><pre><code>// Timer Frequency
#define MTIMER_FREQ 1000000

// This function is called during start-up to initialize the timer interrupt.
void up_timer_initialize(void) {
  struct oneshot_lowerhalf_s *lower = riscv_mtimer_initialize(
    0, 0, RISCV_IRQ_STIMER, MTIMER_FREQ);
  DEBUGASSERT(lower);
  up_alarm_set_lowerhalf(lower);
}
</code></pre></div>
<p>How it works: At startup, <a href="https://github.com/lupyuen2/wip-pinephone-nuttx/blob/nim/arch/risc-v/src/bl808/bl808_timerisr.c#L98-L116"><strong>up_timer_initialize</strong></a> (above) calls…</p>
<ul>
<li>
<p><a href="https://github.com/apache/nuttx/blob/master/arch/risc-v/src/common/riscv_mtimer.c#L318-L332"><strong>riscv_mtimer_initialize</strong></a> which calls…</p>
</li>
<li>
<p><a href="https://github.com/apache/nuttx/blob/master/arch/risc-v/src/common/riscv_mtimer.c#L136-L141"><strong>riscv_mtimer_set_mtimecmp</strong></a> which calls…</p>
</li>
<li>
<p><a href="https://github.com/apache/nuttx/blob/master/arch/risc-v/src/common/supervisor/riscv_sbi.c#L94-L107"><strong>riscv_sbi_set_timer</strong></a> which calls…</p>
</li>
<li>
<p><a href="https://github.com/apache/nuttx/blob/master/arch/risc-v/src/common/supervisor/riscv_sbi.c#L53-L76"><strong>sbi_ecall</strong></a> which makes an ecall to OpenSBI</p>
</li>
<li>
<p>Which accesses the <strong>RISC-V System Timer</strong></p>
</li>
</ul>
<p>Originally we set&nbsp;<strong>MTIMER_FREQ</strong> to <code>10000000</code>:&nbsp;<a href="https://github.com/lupyuen2/wip-pinephone-nuttx/blob/nim/arch/risc-v/src/bl808/bl808_timerisr.c#L44-L48">bl808_timerisr.c</a></p>
<div><pre><code>#define MTIMER_FREQ 10000000
</code></pre></div>
<p>But this causes the command <strong><code>sleep 1</code></strong> to pause for 10 seconds. So we divide the frequency by 10: <a href="https://github.com/lupyuen2/wip-pinephone-nuttx/blob/nim/arch/risc-v/src/bl808/bl808_timerisr.c#L44-L48">bl808_timerisr.c</a></p>
<div><pre><code>#define MTIMER_FREQ 1000000
</code></pre></div>
<p>Now the <strong><code>sleep</code></strong> command works correctly in NuttX Shell! Here’s the log (ignore the errors)…</p>
<ul>
<li><a href="https://gist.github.com/lupyuen/8aa66e7f88d1e31a5f198958c15e4393"><strong><code>sleep</code> works OK on Ox64</strong></a></li>
</ul>

    


</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Stuff we figured out about AI in 2023 (157 pts)]]></title>
            <link>https://simonwillison.net/2023/Dec/31/ai-in-2023/</link>
            <guid>38828594</guid>
            <pubDate>Mon, 01 Jan 2024 00:08:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/">https://simonwillison.net/2023/Dec/31/ai-in-2023/</a>, See on <a href="https://news.ycombinator.com/item?id=38828594">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>



<p>31st December 2023</p>

<p>2023 was the breakthrough year for Large Language Models (LLMs). I think it’s OK to call these AI—they’re the latest and (currently) most interesting development in the academic field of Artificial Intelligence that <a href="https://en.wikipedia.org/wiki/Dartmouth_workshop">dates back to the 1950s</a>.</p>
<p>Here’s my attempt to round up the highlights in one place!</p>
<ul>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#large-language-models">Large Language Models</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#easy-to-build">They’re actually quite easy to build</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#on-your-devices">You can run LLMs on your own devices</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#hobbyist-fine-tuning">Hobbyists can build their own fine-tuned models</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#cant-build-gpt4">We don’t yet know how to build GPT-4</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#vibes-based-development">Vibes Based Development</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#smart-and-dumb">LLMs are really smart, and also really, really dumb</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#gullibility-unsolved">Gullibility is the biggest unsolved problem</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#code-best-application">Code may be the best application</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#ethics-diabolically-complex">The ethics of this space remain diabolically complex</a></li>
  <li><a href="https://simonwillison.net/2023/Dec/31/ai-in-2023/#my-blog-2023">My blog in 2023</a></li>
</ul>
<h4 id="large-language-models">Large Language Models</h4>
<p>In the past 24-36 months, our species has discovered that you can take a GIANT corpus of text, run it through a pile of GPUs, and use it to create a fascinating new kind of software.</p>
<p>LLMs can do a lot of things. They can answer questions, summarize documents, translate from one language to another, extract information and even write surprisingly competent code.</p>
<p>They can also help you cheat at your homework, generate unlimited streams of fake content and be used for all manner of nefarious purposes.</p>
<p>So far, I think they’re a net positive. I’ve used them on a personal level to <a href="https://simonwillison.net/2023/Mar/27/ai-enhanced-development/">improve my productivity</a> (and entertain myself) in all sorts of different ways. I think people who learn how to use them effectively can gain a significant boost to their quality of life.</p>
<p>A lot of people are yet to be sold on their value! Some think their negatives outweigh their positives, some think they are all hot air, and some even think they represent an existential threat to humanity.</p>
<h4 id="easy-to-build">They’re actually quite easy to build</h4>
<p>The most surprising thing we’ve learned about LLMs this year is that they’re actually quite easy to build.</p>
<p>Intuitively, one would expect that systems this powerful would take millions of lines of complex code. Instead, it turns out a <a href="https://github.com/karpathy/nanoGPT/blob/master/train.py">few hundred lines of Python</a> is genuinely enough to train a basic version!</p>
<p>What matters most is the training  data. You need a <em>lot</em> of data to make these things work, and the quantity and quality of the training data appears to be the most important factor in how good the resulting model is.</p>
<p>If you can gather the right data, and afford to pay for the GPUs to train it, you can build a LLM.</p>
<p>A year ago, the only organization that had released a generally useful LLM was OpenAI. We’ve now seen better-than-GPT-3 class models produced by Anthropic, Mistral, Google, Meta, EleutherAI, Stability AI, TII in Abu Dhabi (<a href="https://falconllm.tii.ae/">Falcon</a>), Microsoft Research, xAI, Replit, Baidu and a bunch of other organizations.</p>
<p>The training cost (hardware and electricity) is still significant—initially millions of dollars, but that seems to have dropped to the tens of thousands already. Microsoft’s Phi-2 <a href="https://www.microsoft.com/en-us/research/blog/phi-2-the-surprising-power-of-small-language-models/">claims to have used</a> “14 days on 96 A100 GPUs”, which works out at around $35,000 <a href="https://lambdalabs.com/service/gpu-cloud">using current Lambda pricing</a>.</p>
<p>So training an LLM still isn’t something a hobbyist can afford, but it’s no longer the sole domain of the super-rich. I like to compare the difficulty of training an LLM to that of building a suspension bridge—not trivial, but hundreds of countries around the world have figured out how to do it.</p>
<h4 id="on-your-devices">You can run LLMs on your own devices</h4>
<p>In January of this year, I thought it would be years before I could run a useful LLM on my own computer. GPT-3 and 3.5 were pretty much the only games in town, and I thought that even if the model weights were available it would take a $10,000+ server to run them.</p>
<p>Then in February, Meta released Llama. And a few weeks later in March, Georgi Gerganov released code that got it working on a MacBook.</p>
<p>I wrote about how <a href="https://simonwillison.net/2023/Mar/11/llama/">Large language models are having their Stable Diffusion moment</a>, and with hindsight that was a very good call!</p>
<p>This unleashed a whirlwind of innovation, which was accelerated further in July when Meta <a href="https://simonwillison.net/2023/Jul/18/accessing-llama-2/">released Llama 2</a>—an improved version which, crucially, included permission for commercial use.</p>
<p>Today there are literally thousands of LLMs that can be run locally, on all manner of different devices.</p>
<p>I run a bunch of them on my laptop. I run Mistral 7B (a surprisingly great model) <a href="https://llm.mlc.ai/#ios">on my iPhone</a>. You can install several different apps to get your own, local, completely private LLM.</p>
<p>You can even <a href="https://simonwillison.net/2023/Apr/16/web-llm/">run them entirely in your browser</a> using WebAssembly and the latest Chrome!</p>
<h4 id="hobbyist-fine-tuning">Hobbyists can build their own fine-tuned models</h4>
<p>I said earlier that building an LLM was still out of reach of hobbyists. That may be true for training from scratch, but fine-tuning one of those models is another matter entirely.</p>
<p>There’s now a fascinating ecosystem of people training their own models on top of these foundations, publishing those models, building fine-tuning datasets and sharing those too.</p>
<p>The Hugging Face <a href="https://huggingface.co/spaces/HuggingFaceH4/open_llm_leaderboard">Open LLM Leaderboard</a> is one place that tracks these. I can’t even attempt to count them, and any count would be out-of-date within a few hours.</p>
<p>The best overall openly licensed LLM at any time is rarely a foundation model: instead, it’s whichever fine-tuned community model has most recently discovered the best combination of fine-tuning data.</p>
<p>This is a huge advantage for open over closed models: the closed, hosted models don’t have thousands of researchers and hobbyists around the world collaborating and competing to improve them.</p>
<h4 id="cant-build-gpt4">We don’t yet know how to build GPT-4</h4>
<p>Frustratingly, despite the enormous leaps ahead we’ve had this year, we are yet to see an alternative model that’s better than GPT-4.</p>
<p>OpenAI released GPT-4 in March, though it later turned out we had a sneak peak of it in February when Microsoft used it as part of the new Bing.</p>
<p>This may well change in the next few weeks: Google’s Gemini Ultra has big claims, but isn’t yet available for us to try out.</p>
<p>The team behind Mistral are working to beat GPT-4 as well, and their track record is <a href="https://simonwillison.net/2023/Dec/18/mistral/">already extremely strong</a> considering their first public model only came out in September, and they’ve released two significant improvements since then.</p>
<p>Still, I’m surprised that no-one has beaten the now almost year old GPT-4 by now. OpenAI clearly have some substantial tricks that they haven’t shared yet.</p>
<h4 id="vibes-based-development">Vibes Based Development</h4>
<p>As a computer scientist and software engineer, LLMS are <em>infuriating</em>.</p>
<p>Even the openly licensed ones are still the world’s most convoluted black boxes. We continue to have very little idea what they can do, how exactly they work and how best to control them.</p>
<p>I’m used to programming where the computer does exactly what I tell it to do. Prompting an LLM is decidedly not that!</p>
<p>The worst part is the challenge of evaluating them.</p>
<p>There are plenty of benchmarks, but no benchmark is going to tell you if an LLM actually “feels” right when you try it for a given task.</p>
<p>I find I have to work with an LLM for a few weeks in order to get a good intuition for it’s strengths and weaknesses. This greatly limits how many I can evaluate myself!</p>
<p>The most frustrating thing for me is at the level of individual prompting.</p>
<p>Sometimes I’ll tweak a prompt and capitalize some of the words in it, to emphasize that I <em>really</em> want it to OUTPUT VALID MARKDOWN or similar. Did capitalizing those words make a difference? I still don’t have a good methodology for figuring that out.</p>
<p>We’re left with what’s effectively Vibes Based Development. It’s vibes all the way down.</p>
<p>I’d love to see us move beyond vibes in 2024!</p>
<h4 id="smart-and-dumb">LLMs are really smart, and also really, really dumb</h4>
<p>On the one hand, we keep on finding new things that LLMs can do that we didn’t expect—and that the people who trained the models didn’t expect either. That’s usually really fun!</p>
<p>But on the other hand, the things you sometimes have to do to get the models to behave are often <em>incredibly</em> dumb.</p>
<p>Does ChatGPT <a href="https://arstechnica.com/information-technology/2023/12/is-chatgpt-becoming-lazier-because-its-december-people-run-tests-to-find-out/">get lazy in December</a>, because it’s hidden system prompt includes the current date and its training data shows that people provide less useful answers coming up to the holidays?</p>
<p>The honest answer is “maybe”! No-one is entirely sure, but if you give it a different date its answers may skew slightly longer.</p>
<p>Sometimes it omits sections of code and leaves you to fill them in, but if you tell it you can’t type because you don’t have any fingers it produces the full code for you instead.</p>
<p>There are so many more examples like this. Offer it cash tips for better answers. Tell it your career depends on it. Give it positive reinforcement. It’s all so dumb, but it works!</p>
<h4 id="gullibility-unsolved">Gullibility is the biggest unsolved problem</h4>
<p>I <a href="https://simonwillison.net/2022/Sep/12/prompt-injection/">coined the term prompt injection</a> in September last year.</p>
<p>15 months later, I regret to say that we’re still no closer to a robust, dependable solution to this problem.</p>
<p>I’ve written <a href="https://simonwillison.net/series/prompt-injection/">a ton about this already</a>.</p>
<p>Beyond that specific class of security vulnerabilities, I’ve started seeing this as a wider problem of <strong>gullibility</strong>.</p>
<p>Language Models are gullible. They “believe” what we tell them—what’s in their training data, then what’s in the fine-tuning data, then what’s in the prompt.</p>
<p>In order to be useful tools for us, we need them to believe what we feed them!</p>
<p>But it turns out a lot of the things we want to build need them <em>not</em> to be gullible.</p>
<p>Everyone wants an AI personal assistant. If you hired a real-world personal assistant who believed <em>everything</em> that anyone told them, you would quickly find that their ability to positively impact your life was severely limited.</p>
<p>A lot of people are excited about AI agents—an infuriatingly vague term that seems to be converging on “AI systems that can go away and act on your behalf”. We’ve been talking about them all year, but I’ve seen few if any examples of them running in production, despite lots of exciting prototypes.</p>
<p>I think this is because of gullibility.</p>
<p>Can we solve this? Honestly, I’m beginning to suspect that you can’t fully solve gullibility without achieving <a href="https://en.wikipedia.org/wiki/Artificial_general_intelligence">AGI</a>. So it may be quite a while before those agent dreams can really start to come true!</p>
<h4 id="code-best-application">Code may be the best application</h4>
<p>Over the course of the year, it’s become increasingly clear that writing code is one of the things LLMs are <em>most</em> capable of.</p>
<p>If you think about what they do, this isn’t such a big surprise. The grammar rules of programming languages like Python and JavaScript are massively less complicated than the grammar of Chinese, Spanish or English.</p>
<p>It’s still astonishing to me how effective they are though.</p>
<p>One of the great weaknesses of LLMs is their tendency to hallucinate—to imagine things that don’t correspond to reality. You would expect this to be a particularly bad problem for code—if an LLM hallucinates a method that doesn’t exist, the code should be useless.</p>
<p>Except... you can run generated code to see if it’s correct. And with patterns <a href="https://simonwillison.net/2023/Apr/12/code-interpreter/">like ChatGPT Code Interpreter</a> the LLM can execute the code itself, process the error message, then rewrite it and keep trying until it works!</p>
<p>So hallucination is a much lesser problem for code generation than for anything else. If only we had the equivalent of Code Interpreter for fact-checking natural language!</p>
<p>How should we feel about this as software engineers?</p>
<p>On the one hand, this feels like a threat: who needs a programmer if ChatGPT can write code for you?</p>
<p>On the other hand, as software engineers we are better placed to take advantage of this than anyone else. We’ve all been given <a href="https://simonwillison.net/2023/Oct/17/open-questions/#open-questions.036.jpeg">weird coding interns</a>—we can use our deep knowledge to prompt them to solve coding problems more effectively than anyone else can.</p>
<h4 id="ethics-diabolically-complex">The ethics of this space remain diabolically complex</h4>
<p>In September last year Andy Baio and I <a href="https://simonwillison.net/2022/Sep/5/laion-aesthetics-weeknotes/">produced the first major story</a> on the unlicensed training data behind Stable Diffusion.</p>
<p>Since then, almost every major LLM (and most of the image generation models) have also been trained on unlicensed data.</p>
<p>Just this week, the New York Times <a href="https://www.nytimes.com/2023/12/27/business/media/new-york-times-open-ai-microsoft-lawsuit.html">launched a landmark lawsuit against OpenAI and Microsoft</a> over this issue. The <a href="https://nytco-assets.nytimes.com/2023/12/NYT_Complaint_Dec2023.pdf">69 page PDF</a> is genuinely worth reading—especially the first few pages, which lay out the issues in a way that’s surprisingly easy to follow. The rest of the document includes some of the clearest explanations of what LLMs are, how they work and how they are built that I’ve read anywhere.</p>
<p>The legal arguments here are complex. I’m not a lawyer, but I don’t think this one will be easily decided. Whichever way it goes, I expect this case to have a profound impact on how this technology develops in the future.</p>
<p>Law is not ethics. Is it OK to train models on people’s content without their permission, when those models will then be used in ways that compete with those people?</p>
<p>As the quality of results produced by AI models has increased over the year, these questions have become even more pressing.</p>
<p>The impact on human society in terms of these models is already huge, if difficult to objectively measure.</p>
<p>People have certainly lost work to them—anecdotally, I’ve seen this for copywriters, artists and translators.</p>
<p>There are a great deal of untold stories here. I’m hoping 2024 sees significant amounts of dedicated journalism on this topic.</p>
<h4 id="my-blog-2023">My blog in 2023</h4>
<p>Here’s a tag cloud for content I posted to my blog in 2023 (generated <a href="https://simonwillison.net/dashboard/tag-cloud-by-year/?year=2023">using Django SQL Dashboard</a>):</p>
<p><img src="https://static.simonwillison.net/static/2023/2023-tag-cloud.jpg" alt="Tag cloud words in order of size: ai, generativeai, llms, openai, chatgpt, projects, python, datasette, ethics, llama, homebrewllms, sqlite, gpt3, promptengineering, promptinjection, llm, security, opensource, gpt4, weeknotes "></p>
<p>The top five: <a href="https://simonwillison.net/tags/ai/">ai</a> (342), <a href="https://simonwillison.net/tags/generativeai/">generativeai</a> (300), <a href="https://simonwillison.net/tags/llms/">llms</a> (287), <a href="https://simonwillison.net/tags/openai/">openai</a> (86), <a href="https://simonwillison.net/tags/chatgpt/">chatgpt</a> (78).</p>
<p>I’ve written a lot about this stuff!</p>
<p>I grabbed a screenshot of my <a href="https://plausible.io/">Plausible</a> analytics for the year, fed that to ChatGPT Vision, told it to extract the data into a table, then got it to mix in entry titles (from a SQL query it wrote) and produced this table with it. Here are my top entries this year by amount of traffic:</p>
<table>
<thead>
<tr>
<th>Article</th>
<th>Visitors</th>
<th>Pageviews</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://simonwillison.net/2023/Feb/15/bing/">Bing: “I will not harm you unless you harm me first”</a></td>
<td>1.1M</td>
<td>1.3M</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/May/4/no-moat/">Leaked Google document: “We Have No Moat, And Neither Does OpenAI”</a></td>
<td>132k</td>
<td>162k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Mar/11/llama/">Large language models are having their Stable Diffusion moment</a></td>
<td>121k</td>
<td>150k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Apr/14/worst-that-can-happen/">Prompt injection: What’s the worst that can happen?</a></td>
<td>79.8k</td>
<td>95.9k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Oct/23/embeddings/">Embeddings: What they are and why they matter</a></td>
<td>61.7k</td>
<td>79.3k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Aug/3/weird-world-of-llms/">Catching up on the weird world of LLMs</a></td>
<td>61.6k</td>
<td>85.9k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Nov/29/llamafile/">llamafile is the new best way to run a LLM on your own computer</a></td>
<td>52k</td>
<td>66k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/May/2/prompt-injection-explained/">Prompt injection explained, with video, slides, and a transcript</a></td>
<td>51k</td>
<td>61.9k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Mar/27/ai-enhanced-development/">AI-enhanced development makes me more ambitious with my projects</a></td>
<td>49.6k</td>
<td>60.1k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Jun/8/gpt-tokenizers/">Understanding GPT tokenizers</a></td>
<td>49.5k</td>
<td>61.1k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Nov/15/gpts/">Exploring GPTs: ChatGPT in a trench coat?</a></td>
<td>46.4k</td>
<td>58.5k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Mar/17/beat-chatgpt-in-a-browser/">Could you train a ChatGPT-beating model for $85,000 and run it in a browser?</a></td>
<td>40.5k</td>
<td>49.2k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Jan/13/semantic-search-answers/">How to implement Q&amp;A against your documentation with GPT3, embeddings and Datasette</a></td>
<td>37.3k</td>
<td>44.9k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/May/27/lawyer-chatgpt/">Lawyer cites fake cases invented by ChatGPT, judge is not amused</a></td>
<td>37.1k</td>
<td>47.4k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Oct/26/add-a-walrus/">Now add a walrus: Prompt engineering in DALL-E 3</a></td>
<td>32.8k</td>
<td>41.2k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Apr/16/web-llm/">Web LLM runs the vicuna-7b Large Language Model entirely in your browser, and it’s very impressive</a></td>
<td>32.5k</td>
<td>38.2k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Mar/10/chatgpt-internet-access/">ChatGPT can’t access the internet, even though it really looks like it can</a></td>
<td>30.5k</td>
<td>34.2k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Mar/13/alpaca/">Stanford Alpaca, and the acceleration of on-device large language model development</a></td>
<td>29.7k</td>
<td>35.7k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Aug/01/llama-2-mac/">Run Llama 2 on your own Mac using LLM and Homebrew</a></td>
<td>27.9k</td>
<td>33.6k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/May/4/midjourney-51/">Midjourney 5.1</a></td>
<td>26.7k</td>
<td>33.4k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Apr/02/calculator-for-words/">Think of language models like ChatGPT as a “calculator for words”</a></td>
<td>25k</td>
<td>31.8k</td>
</tr>
<tr>
<td><a href="https://simonwillison.net/2023/Oct/14/multi-modal-prompt-injection/">Multi-modal prompt injection image attacks against GPT-4V</a></td>
<td>23.7k</td>
<td>27.4k</td>
</tr>
</tbody>
</table>
<p>I also gave a bunch of talks and podcast appearances. I’ve started habitually <a href="https://simonwillison.net/2023/Aug/6/annotated-presentations/">turning my talks into annotated presentations</a>—here are my best from 2023:</p>
<ul>
<li><a href="https://simonwillison.net/2023/May/2/prompt-injection-explained/">Prompt injection explained, with video, slides, and a transcript</a></li>
<li><a href="https://simonwillison.net/2023/Aug/3/weird-world-of-llms/">Catching up on the weird world of LLMs</a></li>
<li><a href="https://simonwillison.net/2023/Aug/27/wordcamp-llms/">Making Large Language Models work for you</a></li>
<li><a href="https://simonwillison.net/2023/Oct/17/open-questions/">Open questions for AI engineering</a></li>
<li><a href="https://simonwillison.net/2023/Oct/23/embeddings/">Embeddings: What they are and why they matter</a></li>
<li><a href="https://simonwillison.net/2023/Nov/10/universe/">Financial sustainability for open source projects at GitHub Universe</a></li>
</ul>
<p>And in podcasts:</p>
<ul>
<li>
<a href="https://simonwillison.net/2023/Apr/2/what-ai-can-do-for-you/">What AI can do for you</a> on the Theory of Change</li>
<li>
<a href="https://simonwillison.net/2023/Apr/8/working-in-public/">Working in public</a> on Path to Citus Con</li>
<li>
<a href="https://simonwillison.net/2023/Apr/8/llms-break-the-internet/">LLMs break the internet</a> on the Changelog</li>
<li>
<a href="https://simonwillison.net/2023/Sep/29/llms-podcast/">Talking Large Language Models</a> on Rooftop Ruby</li>
<li>
<a href="https://simonwillison.net/2023/Nov/25/newsroom-robots/">Thoughts on the OpenAI board situation</a> on Newsroom Robots</li>
<li>
<a href="https://simonwillison.net/2023/Dec/20/mitigate-prompt-injection/">Industry’s Tardy Response to the AI Prompt Injection Vulnerability</a> on RedMonk Conversations</li>
</ul>




</div></div>]]></description>
        </item>
    </channel>
</rss>