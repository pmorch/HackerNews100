<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 21 Jan 2024 07:00:06 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Anime is a $25B industry that pays its animators pennies (289 pts)]]></title>
            <link>https://hitregbroke.com/anime/</link>
            <guid>39074062</guid>
            <pubDate>Sun, 21 Jan 2024 00:17:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://hitregbroke.com/anime/">https://hitregbroke.com/anime/</a>, See on <a href="https://news.ycombinator.com/item?id=39074062">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <p>Reaching the heights of almost $25 Billion dollars, anime is a market that has exploded in the past decade, outputting some of the most stunning stories, animations, and visuals the world has ever seen.</p><p>However, for so much success - for so much fanfare - the anime industry itself is shrouded in a fog; not because it's actually mysterious, but because people just don't particularly care enough to look through the glass.</p><p>This article expands on my <a href="https://youtu.be/BDEIPa9b3OU?ref=hitregbroke.com" rel="noreferrer">documentary piece</a> that explores how anime became an industry that pays its workers $5/day - apathetic workers that don't seem to care about the plight they're in, to a world that's ignorant, whether out of choice or not.</p><p>So - assuming you've watched the video already (or went and watched it, this article will still be here after you're done!) - let's <em>briefly</em> discuss some of the finer points that, for the sake of not overcomplicating an already 30 minute video with an 8 month production span, like </p><p>Questions like, well -</p><p>Yes.</p><p>Well - technically no, if any form of consequence is included A1 definitely did not get off scot free. The sheer amount of news headlines that the suicide made was not something to be scoffed at, even enough to make headlines in the <em>English </em>websphere - which is saying a lot.</p><p>Beyond that A1 did face legal repercussions, though probably not what you're expecting and/or hoping. The family of the deceased managed to get "workers compensation benefits" (whatever that means), and A1 was explicitly implicated in the case, but that's <em>about it</em>.</p><p>At the onset of this implication A1 said the following:</p><blockquote><em>If this decision is true, it is unexpected and we cannot comment because the reason for the judgment is unclear.</em></blockquote><p>which is up there with being one of the most corporate responses to a tragedy they <em>caused</em> as I've ever seen. In fact, I think it's made even worse when you discover this:</p><p>Japan is well known for being one of the harshest countries to work for - the saying goes if you're going to live in Japan, make sure you have a way to make money that's not actually working in the country.</p><p><em>Karoshi</em> (過労死) is officially translatable to "Death by Overwork," something that happened to our unfortunate animator at A1 alongside many others working in manga, anime, and etc. Hearing this, the first thought that probably comes to your head is that, well, <em>"The government should do something about this, right?"</em></p><p>Lucky for you, the government <em>did</em> do something about it. Though the obvious solution to solving the overwork problem (making it <em>illegal</em>) was not deployed; and admittedly would've been pretty much impossible to deploy anyways seeing how much the country seems to work. Instead the government set up a set of guidelines that outlined exactly <strong>what</strong> constituted excessive overwork, or as it's labeled - the "Death by Overwork line"</p><p>While I am not good enough at Japanese to decipher the finer details of <em>Japanese Law</em>, the line in principle is not actually there as an automatic weapon to implicate any companies caught red-handed for working their employees over this line, but more simply there to help establish a causal relationship between overwork and bodily symptoms of disease. Through the use of a satisfactory amount of overtime hours (typically 45-100+) in a certain period (typically 2-3 months) before the development of a disease (like cardiovascular or otherwise) an implication can be made - but nowhere I read actually said that the line can be used to implicate death or <em>suicide</em>. Though to be fair, I probably just missed it since I was reading summaries of the thing on <a href="https://ja.wikipedia.org/wiki/%E9%81%8E%E5%8A%B4%E6%AD%BB%E3%83%A9%E3%82%A4%E3%83%B3?ref=hitregbroke.com" rel="noreferrer">wikipedia</a> and not the actual document itself.</p><p>Needless to say though, if death/suicide wasn't included in the original law, there would be enough loopholes that exist that the chain of logic of overwork -&gt; depression -&gt; suicide could be cut before the final act as the law doesn't explicitly state any connection there <em>could </em>be made.</p><p>This would probably explain why even though A1 (and later MADHOUSE) were in gross violation of this <em>Karoshi Line</em>, that none of them actually got any significant consequence from it beside just some headlines and some money they effectively had to throw at the victims' families to make them and the courts get off their back.</p><p>Getting back into <em>my lane</em> and out of the world of a foreign country's politics, this would probably explain the quote of an anime director Daiki Nishimura who said that </p><blockquote><em>"A-1 Pictures&nbsp;is not at fault... the current state of the entire business world that includes&nbsp;A-1 Pictures&nbsp;is at fault. To denounce&nbsp;A-1 Pictures&nbsp;alone is a mistake."</em></blockquote><p>Which, is true. The entire Japanese business world is at fault here for building a system that allows this kind of stuff. But I wonder what part of denouncing A1 pictures is a <em>mistake?</em> This feels like a complicated way of saying "oh but <em>he's doing it too!</em>"<em> </em>Change starts gradually after all.</p><p>And I know that I said I'd stay out of the lawyers hair, but one more twist of irony - the Japanese Labor Laws set in <strong>1947</strong> state that</p><blockquote><a href="https://elaws.e-gov.go.jp/document?lawid=322AC0000000049&amp;ref=hitregbroke.com" rel="noreferrer"><em>Working conditions shall meet the needs of workers to lead a worthy life.</em></a></blockquote><p>Working unpaid overtime (any amount, let alone 100s of hours) doesn't seem like conditions that meets the needs to lead a worthy life do they?</p><p>Anyhow, let's move on. Of course, none of this is legal advice, go consult an actual Japanese lawyer and not some random guy across the Pacific Ocean. And as I said before, this isn't my lane anyways, so let's move our focus from the Japanese parliament to a few (many) blocks down to:</p><p>In any conversation about the topic of working in anime, one of the main problems that comes up is that there simply isn't enough time to produce an anime a week constantly into perpetuity. And so a lot of people, understandably, decide that whoever came up with it must be the villain here. And trace your way back through a few links and you'll find that the godfather of animanga himself - Osamu Tezuka - was the one that came up with this whole upload schedule.</p><p>Though to be fair, Tezuka was no angel either - he was not very nice to work with in Toei (pretty much ignoring management and everyone else's input and concern in favor of his own opinions as a <em>manga artist</em> on how <em>animation</em> should be made), and even in his own studio he was known to slack off and make his employees pick up all his slack just for Tezuka to swing down and take credit for all of it.</p><p>But for all the bad rep the guy gets, is his pushing of anime production to one a week <em>really the catalyst</em> for everything wrong with the industry?</p><p>It didn't take a genius to realize that anime was a powerful export, regardless of whether or not Tezuka pushed the industry to its weekly upload schedule - in fact, this weekly upload schedule might have been the very thing that pushed anime to the heights it's at now. Imagine if suddenly the entire anime industry told us that in order to treat their workers more fairly, they were cutting down to uploading once or twice a month? How do you think the general public would react?</p><p>The issue that stonewalled what could've potentially been a thriving and prosperous industry for higher ups and workers alike may very well have been due to the situation Japan had caught itself in in the years prior and after Tezuka's propping up of Mushi Pro.</p><p>Beyond the fact that unions weren't particularly viable because of a general culture against it that still permeates today, Japanese workers tended to be used to working for very long hours because of an economic situation that the country found itself in the immediate aftermath of WWII</p><figure><img src="https://hitregbroke.com/content/images/2023/08/GDP_per_capita_of_Japan_1870_to_1950.jpg" alt="" loading="lazy" width="1021" height="646" srcset="https://hitregbroke.com/content/images/size/w600/2023/08/GDP_per_capita_of_Japan_1870_to_1950.jpg 600w, https://hitregbroke.com/content/images/size/w1000/2023/08/GDP_per_capita_of_Japan_1870_to_1950.jpg 1000w, https://hitregbroke.com/content/images/2023/08/GDP_per_capita_of_Japan_1870_to_1950.jpg 1021w" sizes="(min-width: 720px) 720px"></figure><p>As you can see, Japanese GDP dropped by <strong>nearly half</strong> in the years of and following the WWII. This kind of ginormous economic downturn is, to put it simply, <em>not easy to deal with</em>, <em>for everyone</em> <em>involved</em>.</p><p>In this period of misfortune Japanese companies and Japanese workers seemingly formed an unsaid agreement with each other in terms of employment stability. The workers would work their asses off - and I mean <strong>work their asses off</strong> - in exchange for the company more or less guaranteeing the workers' job security. In this way the company didn't have to worry about losing its workforce, and the workers didn't have to worry about losing their <strong>job</strong>. Sounds like a pretty sweet deal.</p><p>This systematic trade off still somewhat permeates the country today. And with the entire culture revolving around the principle of working hard for your company like it's your family, it's unsurprising that the nascent anime industry also caught some of this principle in its workforce - though after a while, the company end of the bargain seemingly vanished while the workers still kept their half up.</p><p>Why? Well you already know why:</p><p>Outsourcing work isn't some kind of foreign concept to anyone who's thought of scaling anything before, and it's very likely that a lot of smaller scale domestic outsourcing was present in the anime industry before international mass outsourcing anyways.</p><p>And while I mentioned that <em>Mobile Suit Gundam</em> was one of the anime that was marked as a pioneer in this sense, you can be damn sure that a lot of studios were looking to outsource to decrease their labor costs - it just happened that Sunrise had either the capital or network to do so. So in a way, this development was as inevitable as tech companies outsourcing tech support to other countries. </p><p>Though, the dominant wave of hiring people as independent contractors instead of employees didn't actually show up anywhere in my research. Certain sources allege that political developments like the devolution of what was previous government responsibilities to private sector companies during the Junichiro Koizumi cabinet inspired this employment shift away from permanent employees to independent contractors.</p><figure><img src="https://hitregbroke.com/content/images/2023/08/Koizumi-Junichiro-2010.webp" alt="" loading="lazy" width="400" height="300"><figcaption><span>Junichiro Koizumi,. former PM of Japan</span></figcaption></figure><p>However, I'm skeptical.</p><p>For one, Junichio Koizumi was elected in <strong>2001</strong>, which was well after outsourcing first became popularized thanks to <em>Mobile Suit Gundam</em> and just a general realization by corporations that if they did that they wouldn't have to pay as much to employees. And as shitty as it sounds, well, if your only sole focus was increasing the bottom line then it's not an illogical plan.</p><p>And does what the government do really set <em>that much precedence</em> for private companies?</p><p>Anyways, the point is beyond me as well since I don't live in Japan, nor do I know anything of its politics (or particularly care to know to be honest). Even if it <em>was </em>true that Koizumi's cabinet influenced this shift, I am not the person to be confidently affirming this claim - leave that to the politicians and historians, or at least someone that lived their life in the country.</p><p>But wait - didn't I mention a political figure in the video? What was his name again...?</p><p>I mentioned in the ending credits that Taro Aso "formed" the Parliamentary League for Manga, Anime, and Games (colloquially and hereafter referred to as <em>MANGA</em>). And while everything said on that slide was true, including Hideaki Anno coming to speak at its inaugural conference, whether or not the former Prime Minister now Finance Minister of the ruling party did it out of any sort of love for <em>MANGA</em> is yet to be determined.</p><p>In fact, it's likely that this was (as expected, to be honest) a maneuver based more on politics and economic reasons alone. </p><p>Japan was already quite aware of the fact that the components of MANGA was amongst one of its strongest cultural soft power exports (and I mean, it's kind of obvious). So why wouldn't the <em>Finance Minister</em> want to prop up the industries that, let's be frank, made Japan famous in the public eye?</p><p>In fact, this movement of exporting cultural soft power, known as <em>Cool Japan,</em> was a movement that was induced by the government to literally do this exact thing all the way back in the 1980s, focused on disseminating Japan's image of "being cool" to the global markets through anime, manga, video games, JPOP, etc, etc, etc. And I think it goes without saying that it definitively worked. On you. On me. On everyone.</p><p>Whether or not this Parliamentary League actually <em>did</em> anything I don't know.</p><p>Cursory searches across the web suggest that they wanted to give tax breaks to people working in anime/manga/etc to help relieve some financial burden and also restart the bungled <a href="https://www.bunka.go.jp/english/about/index.html?ref=hitregbroke.com" rel="noreferrer">International Media Art General Center initiative</a> (I think that's the link?) that was shelved when the LDP (the party Taro Aso belongs to) was defeated. Whether or not any of this actually resulted in relief all the way on the <em>ground </em>is yet to be discovered. For now though, more and more stories keep coming out about overwork, underpay, etc. etc., so it's safe to say that the league's job is not done yet.</p><p>Though, is it even part of the league's job in the first place? Its mission is statement is simply to advance these arts in the national interest of Japan. You have to wonder if the national interest of Japan and the interest of the workers match up - hopefully they do, but there's been plenty of times where the government's goals and the plights of the people actually working don't line up completely.</p><p>Speaking of the people working on anime, what about the people that came up with the story in the first place?</p><p>This portion is going to be short, because at the end of the day manga artists, while the original creators of their stories, don't hold any power over how animators are treated. </p><p>And why would they? They're the creators of the <em>story</em>, not the people who contributed money to the actual production - they're very <em>different </em>things. If some mega rich manga artist successfully contributed his money to an anime's production directly, then he would be given the ownership share accordingly.</p><p>But manga artists don't have <em>time </em>for that. In fact, even with final power over how any creative portion of an anime should look, in the majority of cases it's the publishing company (in Jump's case, <em>Shueisha</em>) that makes decisions on behalf of the manga artist. Why? Well, manga artists have their own things to go tend to. </p><p>Like making manga. Of course, it's the manga artist's choice to dedicate his limited precious free time to going to tend to the anime - and in many cases they do - but it is <em>impossible</em> for them to pay it 100% of their attention all the time.</p><p>And if they <em>do</em> go in with final arbiting power, the people who actually funded the anime want to (if not have their own way) at least an honest discussion about it. But with so many companies funding the thing, just the discussion of it would drag out so long that it's not worth it.</p><p>Better the manga artist stay in his metaphorical lane, and the people producing the anime stay in theirs is the thought. The manga artist has no time, the companies funding the anime would rather not deal with bickering with the manga artist, and the general production system has nary a second to spare for these kinds of things since it's already so time-starved anyways.</p><p>And if the production system is so tight on time all the time - why in the world would anyone come up with the idea of having to double the workload just to get VAs their stuff earlier?</p><p>While I've done research into manga, anime, and how the two link, the third foggy branch of anime by the name of VAs is something I have done <em>no</em> research into. Absolutely none. I had a thought of making a trilogy on the topic, one concerning anime, one concerning manga, and one concerning VAs, all based on how fucked up it is to work in all three but that is a discussion for another time.</p><p>That being said, the doubling of workload to give VAs their portion first is more of a thing in the animators' ballcourt rather than the VAs. In fact, through my research it doesn't seem like the VAs had any influence at all over this seemingly superfluous doubling of workload - this was all just another thing the animating world did and another thing it shot itself in the foot with and the VAs said "Oh, uh... ok?"</p><p>The principle behind this though is, as always, benign. The "two shoot system" as it was called was started to actually draw in animators to work. Because more work means more pay - and everyone wants more pay right? Nevermind the fact that you could just pay your animators fairly, that'd make too much sense.</p><p>As you read this, you've probably thought that there was no <em>way</em> such an ineffective fix could've actually made it through without some other benefit - surely I'm leaving something out?</p><p>Nope. That was it. In exchange for paying animators more (by doubling their workload), episodes would cost 500K yen more to produce, and animators would have to do the workload twice.</p><p>...wtf?</p><p>And speaking of wtf -</p><p>JAniCA, retirement securing organization turned poster boy of anime unionization, was one of the closest ventures towards unionization the entire anime industry had seen in its history.</p><p>Sure there was the Toei union, but as I said in the video, what is a union meant for just Toei animation gonna do for the 99.9% of non-Toei animation folks out there?</p><p>There was also the <em>first</em> EISANRO union that consisted of a lot of movie companies  (assumedly including some animation companies) in the immediate aftermath of World War II, but they only managed to do a handful of things before being shutdown by... the US military? For being too... militant about their unionization efforts? I don't know why the occupying military would be concerned about some random Movie union getting too zealous when that was their idea in the first place but history acts in weird ways I suppose. The <em>second</em> EISANRO union was formed in 1965 and was mainly just for film and television, moving away from animation.</p><p>So with all that being said, how did JAniCA fail? It wasn't one particular company's fault, nor was it forcefully shutdown by a foreign military. In fact, at the time it seemed to the big buzz around as so many influential people seemingly finally came together to put an end to all this shit the anime was going through once and for all.</p><p>While I'm not particularly well versed in JAniCA's history, I can say that as much as JAniCA was an exciting prospect for many animators, for many others it was also the opposite. For reasons that are more tied to general Japanese culture than anything else, unionization has always been a taboo topic in the workplace, especially in anime. Many people don't even want to mention they gave the idea of unionization a thought because it's just not conforming to the social norm, in a country where conforming to social norm is an almost sacred principle.</p><p>However, the will for a union to <em>work</em> is just as important as people wanting to join it in the first place. And while the hype and hubbub about JAniCA was palpable at first (as always with any new happening), continuing that "hype" and actually sustaining it over the long term is an extremely difficult thing to do - especially if your founder <strong>leaves.</strong></p><p>While I never got any definitive answer to what caused Ashida to leave - whether it was infighting, age, or otherwise - I <strong>do</strong> know that he <em>did leave</em>. And regardless of whether or not the departure was adversarial or not, the fact that Ashida departed marked the beginning of the end for JAniCA, with the government it so relied on for support being voted out of power another fundamental happening that dampened JAniCA's future.</p><p>And for the existing members at the time, which, since it was originally a union meant to guarantee member retire benefits, included a lot of experienced (and assumedly influential) figures in anime, those two things were pretty much the last straw. With no leader providing a clear vision and no backing by the government, most of the older folks got jaded towards the situation becoming any better and promptly left.</p><p>Without government backing, without their founder (left and then deceased), figureheads (left and then deceased), and now without many influential members, JAniCA pretty much imploded. This is not to say that JAniCA doesn't still <em>exist</em> - it does, and if any unionization effort was to commence I'd probably give JAniCA to be the breeding ground for it - but that it's out of its prime and way out of the limelight.</p><p>Some sources also said that internally JAniCA was struggling with administrative and legal stuff as articles of incorporation were muddled, but is yet to be definitive.</p><p>Either way, the blaze to change anime burned out with JAniCA. Regardless of whether or not it was the union's fault that it failed, it reinforced the uselessness of unionizing and the hopelessness of the anime situation simultaneously. With so much money flowing to the top of the pyramid, it would have to take another cohort of influential animators to really revive the movement, which brings about the final, and probably most important question:</p><p>Tezuka is second to the Production Committee as the thing that ruined working in anime. And to be fair, it makes sense. They're the ones that are the controllers of the money - what would it hurt them to maybe take a million or two out of their ginormous buckets of profit to make it so animators can <em>eat?</em></p><p>I honestly don't see any real counter argument to that notion, and it seems like anime studios don't either and got markedly tired of it. Bocchi the Rock and Chainsaw Man were two examples of animes that were fully funded by anime studios, and achieved tremendous amounts of success. In this way the anime <em>studio</em> can confidently get all the credit and money from its own creation, and compensate its employees accordingly (hopefully accordingly)</p><p>Does that mean <em>every </em>anime funded by anime studios succeeds like that? No. Not at all. And falling prey to survivorship bias is dangerous when it comes to these cases.</p><p>However, the aforementioned "studio confidently getting all the credit and money for its own creation" is probably the most mind boggling thing for a lot of people (as well as me when I was researching the topic). How could people who worked on things like <em>Demon Slayer</em> not get tremendous amounts of money from such a giant success? </p><p>Well, besides the fact that the Production Committee owns the "stock" that is anime, the more important thing they own (that was not mentioned in the video) is actually the IP <strong>itself</strong></p><p>I'm not sure where this trend came from, and to be honest I'm not sure how it even became a concept. Through tradition, contractual obligation, or something else, most studios sell the rights to the things they create to the Production Committee. This sole action means that the studio does not receive royalties/commissions/<strong>anything else</strong> related to the success of the series. </p><p>This is also combined with the fact that anime studios are often the bottom of the command chain when it actually comes to making anime in its entirety. The Production Committee is the fundraiser and therefore the legal owner, but even TV stations and media conglomerates of the sort have more power than studios as the anime will <strong>never</strong> make the light of the day unless the stations allow it to be aired. </p><p>So with all that said (and much more <em>still</em> unsaid which I plan to cover in a livestream sometime), the ultimate question comes to bear:</p><p>To be completely honest, the video was supposed to originally be just about anime's <em>issues</em>, not about any solution - and that's pretty apparent in the relative size of the sections, with over 80% of the video just detailing anime's issues. But after looking it over and then looking at the YouTube landscape in general, I thought to myself, "Does this platform really need more pure negativity?"</p><p>The answer is no. </p><p>However, even beyond that, coming up with solutions to a problem that Miyazaki nor Satoshi Kon nor Isao Takahata nor any of the other countless numbers of actual influential people in the field could actually solve, is a bit of a tall order. </p><p>Though, this only refers to the <em>practical</em> specifics of a solution to the issue, not theoreticals. In fact, the there are only <strong>two </strong>theoretical paths that anyone could really go down in addressing the issue, the first option being:</p><p>The problem with anime comes down to the fact that people are working <em>too much</em> for <em>too little</em>. And while now we know that Tezuka was the one responsible for setting up this weekly upload norm, who's to say that we can't change it back?</p><p>Even reading that sentence likely made some of us feel uneasy, and that's for a good reason. The weekly and seasonal rotations of anime are almost synonymous with weekly uploads. </p><p><em>That's just how things are</em>.</p><p>And as mentioned before, the general public likely would not like the fact that their weekly anime is now reduced to biweekly, bimonthly, or worse.</p><p>But even beyond that, time is really the smaller of the two problems here. Investment bankers work 100+ hours a week and that's seen as completely fine. What's the difference?</p><p>Investment Bankers' sometimes $100+/hour and $150K+ a year salary is not even in the same league as animators' sometimes &lt;$1 an hour wages. Both are life-changing amounts of money no doubt, but one changes lives for the better, and the other makes people end their own.</p><p>However to be clear, the money problem is not that animators don't make anything, but that it's not <em>enough compensation. </em>In simpler terms, the <strong>pure</strong> fact that animators are making less than $1 a day would not be an issue if the daily cost of living (food, shelter, water, etc) was $0.01. However, the daily cost of living is much more than $0.01 (as you probably already know). </p><p>This is a fact that goes almost without saying - so much so that it's kind of like, well, <em>why am I bringing this up?</em></p><p>Because, the money path splits here accordingly into the two parts of the equation, one being increasing animators pay, the other reducing their expenses, so let's go over</p><p>The first path is to increase animators' pay - and to be brutally honest, this the only <em>real </em>solution of the two paths.</p><p>This is because all the problems in anime pretty much stem from the fact that no one is paid enough. Pay animators $150K+ USD a year and I don't think anyone would bat an eye.</p><p>The problem with this however, is multi-fold. And the first you can probably guess:</p><p>Companies don't like giving up money. Production Committees have operated under these current anime budgets for pretty the entirety of anime's history, and the chance is so low that you'd be able to convince any Production Committee to raise enough money to pay decent wages to every animator there is on a team that the probability of it might as well be negative.</p><p>And to be honest, there may just <em>too many animators</em> out there.</p><figure><img src="https://hitregbroke.com/content/images/2023/09/ORAFhaN.png" alt="" loading="lazy" width="1200" height="880" srcset="https://hitregbroke.com/content/images/size/w600/2023/09/ORAFhaN.png 600w, https://hitregbroke.com/content/images/size/w1000/2023/09/ORAFhaN.png 1000w, https://hitregbroke.com/content/images/2023/09/ORAFhaN.png 1200w" sizes="(min-width: 720px) 720px"><figcaption><span>The meme on animators pay that goes around (that is all too true)</span></figcaption></figure><p>What the hell does that mean? Well, it's not like all animators are equal in their positions. Just like the regular corporate world, more senior and skilled artists are put in higher positions that pay more ("more") while more junior and inexperienced artists are the ones that are dealt the whole $5/day bs that is usually the outrage that most people see. And it is coincidentally the fact that those on the bottom of the ladder are the ones that are usually the ones that are outsourced.</p><p>The actual anime production <em>process</em> wasn't actually covered in the video much as the specifics of it aren't particularly important in the grand scheme of the financial system that dictates what makes anime to be made; however, delving into the specifics of <em>paying animators more</em> <strong>does </strong>require at least a cursory knowledge of it, so let's take a brief detour (and I mean <em>really brief</em>)</p><p>To simplify the pipeline for our purposes, all we need to understand is the basic logic that drives the pipeline:</p><ol><li>What the anime looks like must be <strong>made</strong></li><li>The most important <strong>keyframes</strong> have to be drawn</li><li><strong>Every frame in between</strong> the above has to be drawn</li><li><em>Everything must look <u>consistent, correct, and satisfactory</u>.</em></li></ol><p>So let's start from the top, beginning with:</p><p>In every form of visual media, regardless of whether it's a movie, anime, cartoon, etc, etc, the most important part is someone actually <strong>deciding what it should look like</strong>.</p><p>"What it should look like" is much more than just what a character should look like or what colors we should use - in fact, in western media those are the jobs of the character designers, photography directors, color correctors, costume designers, scene compositors, etc, etc, etc. But even despite this, someone still has to <em>put together</em> the whole thing and dictate how all those environments, characters, dialogue, music, etc plays together.</p><p>This is what the director is typically responsible for, and it comes in the form of a <strong>storyboard</strong>:</p><figure><img src="https://hitregbroke.com/content/images/2023/09/storyboard-by-makoto-shinkai-vol-6-weathering-with-you-book-21.jpg" alt="" loading="lazy" width="1200" height="915" srcset="https://hitregbroke.com/content/images/size/w600/2023/09/storyboard-by-makoto-shinkai-vol-6-weathering-with-you-book-21.jpg 600w, https://hitregbroke.com/content/images/size/w1000/2023/09/storyboard-by-makoto-shinkai-vol-6-weathering-with-you-book-21.jpg 1000w, https://hitregbroke.com/content/images/2023/09/storyboard-by-makoto-shinkai-vol-6-weathering-with-you-book-21.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption><span>Two pages from an almost 500+ page storyboard of </span><i><em>WeatherING With You</em></i></figcaption></figure><p>As you can see, there is a lot going on here - from compositional shots to where light and shadow should fall to camera movements, dialogue, music, and shot time down to the <em>frame</em>, <strong><em>all of this</em></strong> is the job of the director.</p><p>The literal creation of an anime is not an <em>easy job</em>, given to only the senior and most experienced. Accordingly, the directors are compensated fairly.</p><p>Well, not particularly <em>fairly</em> as compared to their western counterparts, but directors aren't usually the people that are struggling to make ends meet. This was the group that JAniCA was originally meant to serve: those people that had been in the industry long enough to the point that they were considering retiring.</p><p>And so while anime directors' pay are very much deficient as compared to the responsibilities they shoulder, the discussion here is not particularly aimed at them. </p><p> It's everybody else:</p><p>After the directors essentially create the anime, in come the people that have to actually execute on that vision - the people who actually have to <strong>draw</strong> the frames.</p><p>The director in the storyboard laid out the keyframes of the anime, but those keyframes are pretty much <strong>never</strong> detailed enough to actually use straight up in the anime. After all, the director doesn't have the time, he has <em>everything else</em> to worry about.</p><p>The storyboard is indeed just the <em>first draft</em>. The process of getting to the second draft involves the delegation of who will do what at what time (typically job of the administrative staff) and the people who have to go in and make the keyframes that were present in the storyboard actually <em>usable.</em></p><p>These "making-keyframes-usable-for-staff" people are referred to as <strong>t</strong>he <strong>LO</strong> and the <strong>Nigen</strong> people, who are responsible for turning storyboard keyframe into a less rough keyframe and then going from less rough keyframe to detailed specific instructions on how everything should look.</p><p>In practice it looks like this - the director's storyboard frames are taken from here:</p><figure><img src="https://hitregbroke.com/content/images/2023/09/ys-11-2.webp" alt="" loading="lazy" width="580" height="322"><figcaption><i><em>Your Name</em></i></figcaption></figure><p>To here:</p><figure><img src="https://hitregbroke.com/content/images/2023/09/Tokyo_Ghoul_Layout-1.webp" alt="" loading="lazy" width="754" height="424" srcset="https://hitregbroke.com/content/images/size/w600/2023/09/Tokyo_Ghoul_Layout-1.webp 600w, https://hitregbroke.com/content/images/2023/09/Tokyo_Ghoul_Layout-1.webp 754w" sizes="(min-width: 720px) 720px"><figcaption><i><em>LO from Tokyo Ghoul</em></i></figcaption></figure><figure><img src="https://hitregbroke.com/content/images/2023/09/Genga_Example.webp" alt="" loading="lazy" width="755" height="530" srcset="https://hitregbroke.com/content/images/size/w600/2023/09/Genga_Example.webp 600w, https://hitregbroke.com/content/images/2023/09/Genga_Example.webp 755w" sizes="(min-width: 720px) 720px"><figcaption><i><em>(Ni)Genga from Iron Saga</em></i></figcaption></figure><p>Collectively, these two processes are known as <em>Genga</em> (原画). From here, the anime can actually be <em>made</em> - the directions from the nigen on where light, shadow, and color should go (the different colored circles and regions on the second picture) and the more general directions from the layout goes to the people responsible for making the anime <em>look like an anime</em>.</p><p>This invokes the job of the people generally at the bottom portions of the ladder - past the storyboard (絵えコンテ), layout (レイアウト）, genga (原画), and nigen (二原) and into the realm of the <em>douga </em>(動画）.</p><p>Douga people are the most junior people on the staff, and typically the ones that are outsourced. Sure genga, nigen, LO can all be outsourced, but those are typically key positions that <em>need</em> to have quality control or else the entire anime simply falls apart.</p><p>And as for the <em>director</em> - well, as mentioned in the end of the video <em>Satoshi Kon</em>'s movie <em>Dreaming Machine</em> is still incomplete, even though he made the storyboard for it and even part of the Genga. That should be a pretty good idea of how unacceptable outsourcing anime directors is.</p><p><em>Douga</em> though is different. After all, the douga-men are simply following instructions, whether from the LO and nigen "more-refined-drafts" or from the principles of animation that dictate how it should be drawn. This means that the douga-men are the ones that are outsourced en masse to the people who will do it for the lowest pay, and as a result are the ones who are dealt the $5/day treatment.</p><p>But aren't their jobs important too? If the director and genga-men have to get all their stuff perfect, wouldn't a botched execution just ruin it all? And if that's the case, why is this position so neglected?</p><p>Well, as you probably remember, there were not 3, but 4 points in the logic of animation production. Past all the drawings and creation of the anime, there is the extremely important facet of:</p><p>Anime production, as you may remember from the video, isn't a case of each person finishing their job and then just <em>leaving</em>. If that was the case then douga probably wouldn't be outsourced at all - with no one to QC the douga people they would have to necessarily be extremely good at it, and then be compensated better than what they're compensated at time of writing.</p><p>The only issue is that the system <em>isn't</em> like this. And honestly, it wouldn't be possible for a "go home when you're done" system to really work. The only person that knows how they want the anime director to go is the <em>anime director </em>themselves. Same with genga. Same with nigen.</p><p><em>Douga though?</em> Not so much. At the bottom of the chain and the most junior position, douga-men are never going to be expected to get everything perfect. In fact, everyone short of the executive producers and directors themselves is never going to be perfect. Of course, the executives are not perfect either by merit of being human, but their drawings is the <em>reference</em> that everyone else goes off of.</p><p>LO, Nigen, Genga, Douga, whatever terms you throw around that aren't the directors and executives, will have to be checked. The Genga by the director (of genga, LO, or the executive director himself), the douga by the genga, etc., etc.. The rule of thumb here is that if someone is below someone else on the ladder, that someone will be checked. </p><p>And while LO, nigen, and higher up people on the ladder may only be checked once or twice, douga people tend to be checked multiple times.</p><p>By the genga people. </p><p>Who now need to do their own work, check douga mistakes, and correct their own mistakes. </p><p>And because of the fact that douga is outsourced en masse with QC not even close to those of the more experienced people, this means that now the more experienced people need to check douga peoples' work (often very <em>obvious</em> and glaring mistakes) as well do their own work, and their <em>own </em>checked work.</p><p>This compounding chain of responsibility moves up the chain, meaning that now pretty much <em>everyone </em>needs to check <em>everyone else</em>, essentially brute forcing QC by way of repetition until perfection.</p><p>The whole issue of ill-trained douga-men has seen very gradual solutions, as anime studios post guides and documentation on how they want things to be done and how things <em>should </em>be done in terms of following simple animation principles.</p><p>But the issue still stands that there is not enough newbie training. And in the words of a friend who has experience in the pipeline but rather stay anonymous:</p><blockquote><em>All these people get a gig being a [douga] in an anime and they suddenly think they're hot shit, even though what they make is pretty much unusable. But they think they're hot shit, so they're terrible to work with, and their work is terrible, so...</em></blockquote><p>So.... wait, why did we go into this whole "how anime is made thing again?"</p><p>(I talked to this friend afterwards and he said that he was talking about the nigen people... which means that this problem is worse than we thought)</p><p>Japanese animators' pay, as compared to western counterparts, is hilariously deficient. It's almost not comparable.</p><p>However, the problem gets exponentially worse as you move down the chain of command until you reach the <em>douga</em>, which are the most egregious cases.</p><p>The only issue with fixing the most <em>egregious</em> cases is that there will always be someone that would be willing to do it for less. The bottom line is the thing that companies care about after all, and so even if a certain number of outsourced animators decide they want higher pay, companies will simply go to the people who are <em>willing </em>to work for that pay.</p><p>Typically, labor unions and collective action are the solution to this, but outsourcing ruins all of it because there is <em>no way</em> an international union of douga-men can function, making fixing the douga-men issue quite impossible.</p><p>Up the chain, as people get less and less outsource-able, the possibility for collective action grows - though as evident by JAniCA's failure, it's still <em>really really </em>hard.</p><p>So short of asking Production Committees and companies to "please give animators more money because it's the right thing to do" and shareholders and the stock market to "stop expecting infinite growth on a planet with finite resources," it is unbelievably difficult to reconcile the money situation at the bottom portions of the ladder. There was never <em>any </em>labor union directed at douga, and likely never will be until outsourcing is stopped completely.</p><p>So if increasing animators' pay is almost impossible, we must go to the second path:</p><p>While it's the temporary solution of the two, decreasing animators' expenses is by and aways easier to do than paying animators more money because of the current situation of... well, society.</p><p>And to this end I don't really have anything to say since you can come up with any number of ways to decrease expenses - however the most popular way it seems (historically) is to pay for animators' living expenses.</p><p>Whether it was <em>Anime Mirai</em> or another reincarnated version called <a href="https://gogetfunding.com/animator-dorm-2023/?ref=hitregbroke.com" rel="noreferrer"><em>The New Animators' Dormitory Project</em></a>, decreasing living expenses has proved the easiest since you just need to get enough money to pay for a house.</p><p>So if you want to, go ahead and donate to <a href="https://gogetfunding.com/animator-dorm-2023/?ref=hitregbroke.com" rel="noreferrer"><em>The New Animators' Dormitory Project</em></a><em>.</em> They didn't sponsor the video or this article or anything at all (I reached out to them for an interview but they never got back to me after I posted my questions...), but from what I see it's a genuinely good cause, managed by someone who used to be an animator himself.</p><p>Personally I want to eventually find an organization like that too, but based around the concept of direct dispersion of money to animators. But I'm some random college kid in the US who has never worked in anime. So.... yeah that'll probably take a while.</p><p>But if this is the solution (temporary as it may be), why didn't I mention it in the video?</p><p>Beyond the fact that I felt like plugging in a charitable foundation at the end of a video would feel like undisclosed sponsorship and just generally feel weird (even if I did explicitly mention they didn't sponsor the video), the power of the general public <em>knowing</em> about a problem is not to be trifled with.</p><p>Most problems in the world exist because there is not enough will to actually fix them. This goes for everything from climate change to animators being underpaid - whether lack of political will (due to whatever reason) or lack of will of the general public out of pure ignorance or otherwise, a problem needs to have a certain amount of people who <em>want it </em>to be fixed in order for the solution to actually come.</p><p>This is why the time path of the solutions crossroad is probably infeasible - it's not because it's impossible to do (it's as simple as flipping a switch really), but there would be <strong>no support</strong> from<em> </em>pretty much <em>anyone </em>to have anime go from weekly to biweekly or monthly or whatever.</p><p>Giving animators more money - well, there's not enough political will or will from companies to do so; but reducing animators expenses? Well there is a will, the will is just <em>too small</em> to really make a difference across the industry.</p><p>This is the principle reason why I <em>made</em> the video - not to go into the weeds and propose a detailed solution plan to a problem that people by the likes of Miyazaki, Takahata, and Kon were ill equipped to face (let alone <strong>me</strong>) - but to try to take action on the one facet of the solution that I really <em>can </em>make a difference in:</p><p>Letting people know about it.</p><p>Because at the end of the day, letting people <em>know</em> about something is half the battle to creating more public will to fix something. After all, most people don't even know that they don't know what's really happening behind the scenes. And out of the entire population of anime watchers there's a <em>very small </em>subset of them that know <strong><em>enough</em></strong> about the absolute state of anime to the point where they're motivated to act.</p><p>So at the end of the day, that video and this article serve just one purpose - exposing the issue. Only when the issue is exposed to enough people can any progress be made to reconcile this situation, because without pressure from the general public, no company or government or etc will have any incentive to change anything.</p><p>So go out there.</p><p>Tell people about the problem. About the <a href="https://youtu.be/BDEIPa9b3OU?ref=hitregbroke.com" rel="noreferrer">video</a>. About this <a href="https://hitregbroke.com/anime/" rel="noreferrer">article</a>. </p><p>And perhaps your word will spread to someone else, to someone else, to someone else, until enough people are in an uproar about the situation that the pressure forces things to change.</p><p>And <em>you'll</em> be a part of the solution as well.</p><p>(<a href="https://drive.google.com/file/d/1Tnfn1GEOFNeUihWKRzCS8bfGbv9o5XlW/view?usp=sharing&amp;ref=hitregbroke.com" rel="noreferrer">Bibliography</a>)</p>
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[So you think you know C? (2016) (135 pts)]]></title>
            <link>https://wordsandbuttons.online/so_you_think_you_know_c.html</link>
            <guid>39072319</guid>
            <pubDate>Sat, 20 Jan 2024 21:06:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://wordsandbuttons.online/so_you_think_you_know_c.html">https://wordsandbuttons.online/so_you_think_you_know_c.html</a>, See on <a href="https://news.ycombinator.com/item?id=39072319">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
	<p>This is <a href="https://wordsandbuttons.online/index.html">Words and Buttons Online</a> — a collection of&nbsp;interactive <a href="https://wordsandbuttons.online/all_tutorials.html">#tutorials</a>, <a href="https://wordsandbuttons.online/all_demos.html">#demos</a><a>, and </a><a href="https://wordsandbuttons.online/all_quizzes.html">#quizzes</a> about <a href="https://wordsandbuttons.online/all_mathematics.html">#mathematics</a>, <a href="https://wordsandbuttons.online/all_algorithms.html">#algorithms</a> and <a href="https://wordsandbuttons.online/all_programming.html">#programming</a>.</p>
	
	<p>
A lot of programmers claim they know C. Well, it has the most famous syntax, it has been there for <span id="c_years_old">44</span> years, and it’s not cluttered with obscure features. It’s easy!
	</p>
	
	<p>
I mean, it’s easy to <em>claim</em> that you know C. You probably learned it in college or on the go, you probably had some experience with it, you probably think that you know it through and through because there’s not much to know. Well, there is. C is not that simple.
	</p>
	<p>
If you think it is — take this test. It only has 5 questions. Every question is basically the same: what the return value would be? And each question has a choice of four answers, of which one and only one is right.
	</p>

	<h2>
1
	</h2>
	<pre>struct S {
  int i;
  char c;
} s;

int main(void) {
  return sizeof(*(&amp;s));
}
	</pre>
	

	<h2>
2
	</h2>
	<pre>int main(void) {
  char a = 0;
  short int b = 0;
  return sizeof(b) == sizeof(a+b);
}
	</pre>
	

	<h2>
3
	</h2>
	<pre>int main(void) {
  char a = ' ' * 13;
  return a;
}
	</pre>
	

	<h2>
4
	</h2>
	<pre>int main(void) {
  int i = 16;
  return (((((i &gt;= i) &lt;&lt; i) &gt;&gt; i) &lt;= i));
}
	</pre>
	

	<h2>
5
	</h2>
	<pre>int main(void) {
  int i = 0;
  return i++ + ++i;
}
	</pre>
	
	<p>
That's it.
	</p>
	<p>
To unscreen the right answers and to see your score, press the button below.
	</p>

	

	


	
	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Checkmate Champ – a training tool for chess tactics (113 pts)]]></title>
            <link>https://www.checkmatechamp.net/</link>
            <guid>39072079</guid>
            <pubDate>Sat, 20 Jan 2024 20:41:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.checkmatechamp.net/">https://www.checkmatechamp.net/</a>, See on <a href="https://news.ycombinator.com/item?id=39072079">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<td>

<div id="welcome_message_div">
<p>
Welcome to Checkmate Champ,
an interactive chess training tool.  Your goal is to find the sequence of
moves that leads to checkmate.  After you have solved the current problem,
click &gt;&gt; to go to the next problem.
</p>
<p>
To find out about new features and new puzzles as they are added,
please follow us on Twitter at
<a href="https://twitter.com/CheckmateChamp" target="_blank" rel="noopener">@CheckmateChamp</a>.
</p>

</div>


<img src="https://www.checkmatechamp.net/static/settings-gear.svg?1660271519.8932636" title="Settings (click to open/close)" onclick="toggle_menu_visibility()">



<div id="centered_div">
<center id="board_div"></center>




<center>
<p>To get started, choose a position from the list below, or click the dice to choose a random position.</p>
</center>

<p><span title="This line shows how many problems you have solved so far.  Your progress is saved in your browser's local storage.">
Your progress</span>:
<span id="number_solved_span">0</span>/<span id="number_total_span">?</span> solved
</p>
</div>

<p>
<b>Instructions</b>
</p>
<p>
Choose a position from the drop-down box.  Your goal
is to place your opponent in checkmate.
If the text says "White mates in X," you are playing as White.
If the text says "Black mates in X," you are playing as Black.
</p>
<p>
If you make a mistake that allows your opponent
to escape checkmate, the status will change to "Incorrect."
Click "Reset position" to try again.
When you have found the solution, the status will say "Checkmate!"
You can then select another position for more practice.
</p>
<p>
If you get stuck on a problem, click "Show hint" to see which piece you should move.
If you still cannot figure out the solution, click "Show solution."
The computer will then switch sides with you and play the solution against you.
(The sides remain switched like this until you select a new position.)
</p>
<p>
To speed up moving through the positions, the buttons labeled &lt;&lt; and &gt;&gt;
will take you to the previous and next positions respectively.
You can also click the dice to choose a random position.
Positions that you have solved
are shown with a checkbox (☑) next to them.
</p>
<p>
This page has been verified to work in recent versions of Chrome and Firefox.
If the page does not work for you, please try one of these browsers.
</p>
<hr>
<p>
<b>Acknowledgments</b>
</p>
<p>
Positions marked "1001" are taken from
Fred Reinfeld's 1955 book <i>1001 Ways to Checkmate</i>.
Only positions that are mates in five or fewer moves
have been included on this page.
</p>
<p>
The computer's moves and evaluations are supplied by
Glaurung version 2.2.
</p>
<p>
The default set of piece images is Chess Mérida by
Armando Hernández Marroquín.
The alternate set is Good Companion by
David L. Brown.
</p>
<p>
Comment icon:
<strong><em>Icon made by&nbsp;</em></strong><a href="https://www.freepik.com/home"><strong><em>Freepik</em></strong></a><strong><em>&nbsp;from&nbsp;</em></strong><strong><em><a href="http://www.flaticon.com/">www.flaticon.com</a></em></strong>
</p>
<p>
The gear icon for the settings menu was made by Zach Bogart and is licensed under Creative Commons CCBY.
<a href="https://thenounproject.com/term/settings-gear/2026814/">(source)</a>
</p>
<hr>
<p>
<b>To do</b>
</p>
<ul>
<li>Show multiple variations when the other player has more than one response that postpones mate
as long as possible.</li>
<li>Allow undo of last move.</li>
<li>Add count-up timer.</li>
<li>Add filter for mate in 1/2/3/4/5.</li>
</ul>



<hr>
<br>
<i>
Please send comments to <a id="email_link"></a> .
</i>

<img id="comment_icon" src="https://www.checkmatechamp.net/static/1380338.svg?1660271519.8932636" title="Leave a comment">


</td>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Bun Shell (205 pts)]]></title>
            <link>https://bun.sh/blog/the-bun-shell</link>
            <guid>39071688</guid>
            <pubDate>Sat, 20 Jan 2024 20:04:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bun.sh/blog/the-bun-shell">https://bun.sh/blog/the-bun-shell</a>, See on <a href="https://news.ycombinator.com/item?id=39071688">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><p>JavaScript is the world's most popular scripting language.</p><p>So why is it hard to run shell scripts in JavaScript?</p><div><pre><code><span><span>import</span><span> { spawnSync } </span><span>from</span><span> </span><span>"</span><span>child_process</span><span>"</span><span>;</span></span>
<span></span>
<span><span>// this is a lot more work than it could be</span></span>
<span><span>const</span><span> { status, stdout, stderr } </span><span>=</span><span> </span><span>spawnSync</span><span>(</span><span>"</span><span>ls</span><span>"</span><span>, [</span><span>"</span><span>-l</span><span>"</span><span>, </span><span>"</span><span>*.js</span><span>"</span><span>], {</span></span>
<span><span>  encoding</span><span>:</span><span> </span><span>"</span><span>utf8</span><span>"</span><span>,</span></span>
<span><span>});</span></span>
<span></span></code></pre></div><p>You could use APIs to do something similar:</p><div><pre><code><span><span>import</span><span> { readdir } </span><span>from</span><span> </span><span>"</span><span>fs/promises</span><span>"</span><span>;</span></span>
<span></span>
<span><span>(</span><span>await</span><span> </span><span>readdir</span><span>(</span><span>"</span><span>.</span><span>"</span><span>, { withFileTypes</span><span>:</span><span> </span><span>true</span><span> })).</span><span>filter</span><span>((</span><span>a</span><span>) </span><span>=&gt;</span></span>
<span><span>  a.name.</span><span>endsWith</span><span>(</span><span>"</span><span>.js</span><span>"</span><span>),</span></span>
<span><span>);</span></span>
<span></span></code></pre></div><p>But, that's still not quite as simple as a shell script:</p><h2 level="2" anchor-id="why-existing-shells-don-t-work-in-javascript" id="why-existing-shells-don-t-work-in-javascript"><a name="why-existing-shells-don-t-work-in-javascript"></a><a href="#why-existing-shells-don-t-work-in-javascript">Why existing shells don't work in JavaScript</a></h2><p>Shells like <code>bash</code> or <code>sh</code> have been around for decades.</p><div><p>Shells are a solved problem!!</p><ul><li>Hacker News Commenter, probably.</li></ul></div><p>But, they don't work well in JavaScript. Why?</p><p>macOS (zsh), Linux (bash), and Windows (cmd) all have slightly different shells with different syntaxes and different commands. The commands available on each platform are different, and even the same command can have different flags and behaviors.</p><p>To date, npm's solution is to rely on the community to polyfill missing commands with JavaScript implementations.</p><h3 level="3" anchor-id="rm-rf-doesn-t-work-on-windows" id="rm-rf-doesn-t-work-on-windows"><a name="rm-rf-doesn-t-work-on-windows"></a><a href="#rm-rf-doesn-t-work-on-windows"><code>rm -rf</code> doesn't work on Windows</a></h3><p><code>rimraf</code>, the cross-platform JavaScript implementation of <code>rm -rf</code>, is downloaded 60 million times per week:</p><figure><a href="https://github.com/oven-sh/bun/assets/709451/a201e61c-2131-4982-9be6-ffdf2a37db7e"><img src="https://github.com/oven-sh/bun/assets/709451/a201e61c-2131-4982-9be6-ffdf2a37db7e"></a></figure><h3 level="3" anchor-id="environment-variables-like-foo-bar-script-doesn-t-work-on-windows" id="environment-variables-like-foo-bar-script-doesn-t-work-on-windows"><a name="environment-variables-like-foo-bar-script-doesn-t-work-on-windows"></a><a href="#environment-variables-like-foo-bar-script-doesn-t-work-on-windows">Environment variables like <code>FOO=bar &lt;script&gt;</code> doesn't work on Windows</a></h3><p>Setting an environment variable is different on each platform. Instead of running <code>FOO=bar</code>, you probably use &amp; install <code>cross-env</code>:</p><figure><a href="https://github.com/oven-sh/bun/assets/709451/ab42d9b3-0fa7-4abe-beae-ca26a48e9d75"><img src="https://github.com/oven-sh/bun/assets/709451/ab42d9b3-0fa7-4abe-beae-ca26a48e9d75" alt="image" width="398"></a></figure><h3 level="3" anchor-id="which-is-where-on-windows" id="which-is-where-on-windows"><a name="which-is-where-on-windows"></a><a href="#which-is-where-on-windows"><code>which</code> is <code>where</code> on Windows</a></h3><p>Thus, another package with 60 million weekly downloads was born:</p><figure><a href="https://github.com/oven-sh/bun/assets/709451/e6659440-f322-47a8-99fe-ec9e3bec104e"><img src="https://github.com/oven-sh/bun/assets/709451/e6659440-f322-47a8-99fe-ec9e3bec104e" alt="image" width="413"></a></figure><h3 level="3" anchor-id="shells-also-take-too-long-to-start" id="shells-also-take-too-long-to-start"><a name="shells-also-take-too-long-to-start"></a><a href="#shells-also-take-too-long-to-start">Shells also take too long to start</a></h3><p>How long does it take to spawn a shell?</p><p>On a Linux x64 Hetzner Arch Linux machine, it takes about 7ms:</p><div><pre><code><span><span>$ hyperfine --warmup 3 </span><span>'</span><span>bash -c "echo hello"</span><span>'</span><span> </span><span>'</span><span>sh -c "echo hello"</span><span>'</span><span> -N</span></span>
<span></span>
<span><span>Benchmark 1: bash -c </span><span>'</span><span>echo hello</span><span>'</span></span>
<span><span>  Time (mean ± σ):       7.3 ms ±   1.5 ms    [User: 5.1 ms, System: 1.9 ms]</span></span>
<span><span>  Range (min … max):     1.7 ms …   9.4 ms    529 runs</span></span>
<span></span>
<span><span>Benchmark 2: sh -c </span><span>'</span><span>echo hello</span><span>'</span></span>
<span><span>  Time (mean ± σ):       7.2 ms ±   1.6 ms    [User: 4.8 ms, System: 2.1 ms]</span></span>
<span><span>  Range (min … max):     1.5 ms …   9.6 ms    327 runs</span></span>
<span></span></code></pre></div><p>If your intent is to run a single command, starting the shell can take longer than running the command itself. If you're running many commands in a loop, that gets expensive quickly.</p><p>You could try embedding a shell, but that's really complicated and their license may not be compatible with your project.</p><h2 level="2" anchor-id="are-all-these-polyfills-really-necessary" id="are-all-these-polyfills-really-necessary"><a name="are-all-these-polyfills-really-necessary"></a><a href="#are-all-these-polyfills-really-necessary">Are all these polyfills really necessary?</a></h2><p>In the world of 2009 - 2016, when JavaScript was still relatively new and experimental, relying on the community to polyfill missing functionality made a lot of sense. But it's 2024 now. JavaScript on the server is mature and widely adopted. The JavaScript ecosystem understands the requirements today in a way nobody did in 2009.</p><p>We can do better.</p><h2 level="2" anchor-id="introducing-the-bun-shell" id="introducing-the-bun-shell"><a name="introducing-the-bun-shell"></a><a href="#introducing-the-bun-shell">Introducing the Bun Shell</a></h2><p>The Bun Shell is a new experimental embedded language and interpreter in Bun that allows you to run cross-platform shell scripts in JavaScript &amp; TypeScript.</p><div><pre><code><span><span>import</span><span> { $ } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>// to stdout:</span></span>
<span><span>await</span><span> </span><span>$</span><span>`ls *.js`</span><span>;</span></span>
<span></span>
<span><span>// to string:</span></span>
<span><span>const</span><span> text </span><span>=</span><span> </span><span>await</span><span> </span><span>$</span><span>`ls *.js`</span><span>.</span><span>text</span><span>();</span></span>
<span></span></code></pre></div><p>You can use JavaScript variables in your shell scripts:</p><div><pre><code><span><span>import</span><span> { $ } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>const</span><span> resp </span><span>=</span><span> </span><span>await</span><span> </span><span>fetch</span><span>(</span><span>"</span><span>https://example.com</span><span>"</span><span>);</span></span>
<span></span>
<span><span>const</span><span> stdout </span><span>=</span><span> </span><span>await</span><span> </span><span>$</span><span>`gzip -c &lt; </span><span>${</span><span>resp</span><span>}</span><span>`</span><span>.</span><span>arrayBuffer</span><span>();</span></span>
<span></span></code></pre></div><p>For security, all <strong>template variables are escaped</strong>:</p><div><pre><code><span><span>const</span><span> filename </span><span>=</span><span> </span><span>"</span><span>foo.js; rm -rf /</span><span>"</span><span>;</span></span>
<span></span>
<span><span>// This will run `ls 'foo.js; rm -rf /'`</span></span>
<span><span>const</span><span> results </span><span>=</span><span> </span><span>await</span><span> </span><span>$</span><span>`ls </span><span>${</span><span>filename</span><span>}</span><span>`</span><span>;</span></span>
<span></span>
<span><span>console.</span><span>log</span><span>(results.exitCode); </span><span>// 1</span></span>
<span><span>console.</span><span>log</span><span>(results.stderr.</span><span>toString</span><span>()); </span><span>// ls: cannot access 'foo.js; rm -rf /': No such file or directory</span></span>
<span></span></code></pre></div><p>Using Bun Shell feels like regular JavaScript. You can redirect stdout to buffers:</p><div><pre><code><span><span>import</span><span> { $ } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>const</span><span> buffer </span><span>=</span><span> Buffer.</span><span>alloc</span><span>(</span><span>1024</span><span>);</span></span>
<span></span>
<span><span>await</span><span> </span><span>$</span><span>`ls *.js &gt; </span><span>${</span><span>buffer</span><span>}</span><span>`</span><span>;</span></span>
<span></span>
<span><span>console.</span><span>log</span><span>(buffer.</span><span>toString</span><span>(</span><span>"</span><span>utf8</span><span>"</span><span>));</span></span>
<span></span></code></pre></div><p>You can redirect stdout to a file:</p><div><pre><code><span><span>import</span><span> { $, file } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>// as a file()</span></span>
<span><span>await</span><span> </span><span>$</span><span>`ls *.js &gt; </span><span>${</span><span>file</span><span>(</span><span>"</span><span>output.txt</span><span>"</span><span>)</span><span>}</span><span>`</span><span>;</span></span>
<span></span>
<span><span>// or as a file path string, if you prefer:</span></span>
<span><span>await</span><span> </span><span>$</span><span>`ls *.js &gt; output.txt`</span><span>;</span></span>
<span><span>await</span><span> </span><span>$</span><span>`ls *.js &gt; </span><span>${</span><span>"</span><span>output.txt</span><span>"</span><span>}</span><span>`</span><span>;</span></span>
<span></span></code></pre></div><p>You can pipe stdout to another command:</p><div><pre><code><span><span>import</span><span> { $ } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>await</span><span> </span><span>$</span><span>`ls *.js | grep foo`</span><span>;</span></span>
<span></span></code></pre></div><p>You can even use <code>Response</code> as stdin:</p><div><pre><code><span><span>import</span><span> { $ } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>const</span><span> buffer </span><span>=</span><span> </span><span>new</span><span> </span><span>Response</span><span>(</span><span>"</span><span>bar</span><span>\n</span><span> foo</span><span>\n</span><span> bar</span><span>\n</span><span> foo</span><span>\n</span><span>"</span><span>);</span></span>
<span></span>
<span><span>await</span><span> </span><span>$</span><span>`grep foo &lt; </span><span>${</span><span>buffer</span><span>}</span><span>`</span><span>;</span></span>
<span></span></code></pre></div><p>Builtin commands like <code>cd</code>, <code>echo</code>, and <code>rm</code> are available:</p><div><pre><code><span><span>import</span><span> { $ } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>await</span><span> </span><span>$</span><span>`cd .. &amp;&amp; rm -rf node_modules/rimraf`</span><span>;</span></span>
<span></span></code></pre></div><p>It works on Windows, macOS, and Linux. We've implemented many common commands and features like globbing, environment variables, redirection, piping, and more.</p><p>It's designed as a drop-in replacement for simple shell scripts. In Bun for Windows, it will power <code>package.json</code> "scripts" in <code>bun run</code>.</p><p>For fun, you can also use it as a standalone shell script interpreter:</p><div><pre><code><span><span>echo</span><span> </span><span>"</span><span>cat package.json</span><span>"</span><span> </span><span>&gt;</span><span> script.bun.sh</span></span></code></pre></div><h3 level="3" anchor-id="how-do-i-install-it" id="how-do-i-install-it"><a name="how-do-i-install-it"></a><a href="#how-do-i-install-it">How do I install it?</a></h3><p><strong>Bun Shell is built into Bun</strong>. If you already have Bun v1.0.24 or later installed, you can use it today:</p><p>If you don't have Bun installed, you can install it with curl:</p><div><pre><code><span><span>curl -fsSL https://bun.sh/install </span><span>|</span><span> bash</span></span></code></pre></div><p>Or with npm:</p></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[1,100 Declassified U.S. Nuclear Targets (105 pts)]]></title>
            <link>https://futureoflife.org/resource/us-nuclear-targets/</link>
            <guid>39071567</guid>
            <pubDate>Sat, 20 Jan 2024 19:52:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://futureoflife.org/resource/us-nuclear-targets/">https://futureoflife.org/resource/us-nuclear-targets/</a>, See on <a href="https://news.ycombinator.com/item?id=39071567">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="div_block-436-45428"><p><span id="span-438-45428">
<p>Click here to see this page in other languages:&nbsp; <strong><a href="https://futureoflife.org/background/declassified-us-nuclear-targets-german/">German</a></strong> <a href="https://futureoflife.org/background/declassified-us-nuclear-targets-german/"><img loading="lazy" decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/06/Germany_flag.jpg" alt="Germany_flag" width="19" height="13"></a><strong> &nbsp;<a href="https://futureoflife.org/background/declassified-us-nuclear-targets-hindi">Hindi</a> <a href="https://futureoflife.org/background/declassified-us-nuclear-targets-hindi"><img loading="lazy" decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/05/India_Flag.jpg" alt="India_Flag" width="20" height="14"></a> &nbsp;<a href="https://futureoflife.org/background/declassified-us-nuclear-targets-korean/">Korean</a>&nbsp; <a href="https://futureoflife.org/background/declassified-us-nuclear-targets-korean/" target="_blank" rel="noopener noreferrer"><img loading="lazy" decoding="async" src="https://futureoflife.org/wp-content/uploads/2015/11/Flag_of_South_Korea.png" sizes="(max-width: 28px) 100vw, 28px" srcset="https://futureoflife.org/wp-content/uploads/2015/11/Flag_of_South_Korea.png 909w, https://futureoflife.org/wp-content/uploads/2015/11/Flag_of_South_Korea.png 300w, https://futureoflife.org/wp-content/uploads/2015/11/Flag_of_South_Korea.png 768w, https://futureoflife.org/wp-content/uploads/2015/11/Flag_of_South_Korea.png 495w, https://futureoflife.org/wp-content/uploads/2015/11/Flag_of_South_Korea.png 845w, https://futureoflife.org/wp-content/uploads/2015/11/Flag_of_South_Korea.png 705w, https://futureoflife.org/wp-content/uploads/2015/11/Flag_of_South_Korea.png 450w" alt="" width="28" height="22"></a>&nbsp; <a href="https://futureoflife.org/background/declassified-us-nuclear-targets-japanese/">Japanese</a>&nbsp;<a href="https://futureoflife.org/background/declassified-us-nuclear-targets-japanese/" target="_blank" rel="noopener noreferrer"><img loading="lazy" decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/02/red_circle.jpg" width="17" height="17"></a>&nbsp;<a href="https://futureoflife.org/background/declassified-us-nuclear-targets-russian/">Russian</a> <a href="https://futureoflife.org/background/declassified-us-nuclear-targets-russian/"><img loading="lazy" decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/02/Russian_Flag.jpg" sizes="(max-width: 24px) 100vw, 24px" srcset="https://futureoflife.org/wp-content/uploads/2016/02/Russian_Flag.jpg 80w, https://futureoflife.org/wp-content/uploads/2016/02/Russian_Flag.jpg 120w" alt="Russian_Flag" width="19" height="13"></a>&nbsp; <a href="https://futureoflife.org/background/declassified-us-nuclear-targets-polish/">Polish</a> <a href="https://futureoflife.org/background/declassified-us-nuclear-targets-polish/"><img loading="lazy" decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/05/Poland_Flag.jpg" alt="Poland_Flag" width="18" height="18"></a>&nbsp; <a href="https://futureoflife.org/background/declassified-us-nuclear-targets-spanish/">Spanish</a><a href="https://futureoflife.org/background/declassified-us-nuclear-targets-spanish/"><img loading="lazy" decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/02/Spain_Flag-e1465662424400.jpg" alt="Spain_Flag" width="20" height="18"></a></strong></p>
<p>The National Security Archives recently published a&nbsp;<a href="https://nsarchive.gwu.edu/nukevault/ebb538-Cold-War-Nuclear-Target-List-Declassified-First-Ever/">declassified list</a> of U.S. nuclear targets&nbsp;from 1956, which spanned 1,100 locations across Eastern Europe, Russia, China, and North Korea. The map below shows all 1,100 nuclear targets from that list, and we’ve partnered with NukeMap to demonstrate how catastrophic a nuclear exchange between the United States and Russia could be. If you click detonate from any of the dots, you can see how large an area would be destroyed by the bomb of your choice, as well as how many people could be killed.</p>
<div>
<h3>Instructions</h3>
<p>How to use the nukemap:</p>
<ol>
<li>Click on one of the dots on the map;</li>
<li>Press detonate;</li>
<li>Select what yield (explosive power) you would like to use;</li>
<li>Press the red detonate button.</li>
</ol>
</div>
<div><p><strong>NOTE:</strong> This resource is not designed for use on mobile. Please view on desktop for the best experience.</p></div>



<p>If you can no longer see the nuclear target map, please scroll up.</p>
<p><br>Even though today’s nuclear targets list is classified, it probably doesn’t look dramatically different. The United States still has about <a href="https://fas.org/issues/nuclear-weapons/status-world-nuclear-forces/">1,900 nuclear warheads deployed</a> on missiles and bombers (with thousands more on reserve), ready to be launched at a moment’s notice and able to hit their targets within 30 minutes. This unstable situation is extremely risky and has repeatedly come close to <a href="https://futureoflife.org/background/nuclear-close-calls-a-timeline/">triggering nuclear war by accident</a>. Moreover, many of today’s hydrogen&nbsp;bombs are&nbsp;hundreds of times more powerful&nbsp;than the two atom bombs dropped on Hiroshima and Nagasaki. If a nuclear war were to break out today, <a href="https://futureoflife.org/background/the-risk-of-nuclear-weapons/">nuclear winter</a> might&nbsp;kill most people on Earth.</p>
<p>This leads to an important question: Just how many nuclear weapons do we actually need? Seven&nbsp;of the nine&nbsp;nuclear&nbsp;nations&nbsp;have determined that deterrence requires fewer&nbsp;than 300 nuclear weapons, and none of them have been attacked. Yet, not only do the United States and Russia each have approximately 7,000 nuclear warheads — accounting for 90% of the world’s arsenal – both countries are currently escalating the situation, making&nbsp;massive investments to enhance their&nbsp;arsenals with more accurate and lethal&nbsp;nuclear weapons. Many military analysts agree that the U.S. and Russia could easily meet their&nbsp;deterrence needs with much fewer nuclear weapons. Even the Pentagon has stated that the U.S. needs no more than 1,000 nukes to deter a nuclear attack. But don’t take their word for it:&nbsp;play with the map yourself and see just how destructive nuclear weapons can be!</p>
<h2>1100 Nuclear Targets, Radioactive Fallout, and Weather</h2>
<p>While the maps above show a general radius of nuclear destruction, weather patterns would play a role in how many people would be affected by nuclear fallout. Given that weather can change day to day, if we drop a nuclear bomb near a border in one country on the wrong day, innocent people in a neighboring country could also suffer the effects of radioactive fallout. How far and in which direction the radioactive materials travel would depend on the size of the bomb and the local weather. In the following graphics, Alex Wellerstein simulates two terrifying possibilities (<em>We recommend viewing the following slideshows in the full-screen option to more easily see where the radioactive material will travel.</em>):</p>
<h3>1) What would have happened if all 1,100 nuclear targets were struck by a nuclear weapon of a given size on April 29, 2016?</h3>
<p>In this slideshow, the bombs grow larger, and the nuclear fallout spreads farther from the target in a direction that’s dictated by the local weather patterns. Note that this slideshow doesn’t yet show the effect of nuclear winter: if enough smoke from nuclear fires rises high into the stratosphere, it can spread across our planet and trigger a decade-long mini-ice-age and farming collapse, potentially killing most of Earth’s 7 billion people.<br></p>
<h3>2) How would the direction of radioactive fallout change if the bombs were dropped on three different days?</h3>
<p>In this case, we use weather data from April 29, April 30 and May 1 of 2016 to see how the direction of nuclear fallout changes if 100 kt bombs were dropped on the 1,100 nuclear targets (typical bombs today are many times more powerful). Different weather patterns would send nuclear fallout in different directions on each day. Pay close attention to countries like Germany, Denmark and Finland, which could get hit with radioactive fallout if the nuclear targets were struck on the wrong day.<br></p>
<h2>In the media</h2>
<p>This map was also featured in:</p>
<div>
<figure><a href="http://www.dailymail.co.uk/sciencetech/article-3588721/Is-home-risk-Terrifying-map-reveals-devastation-nuclear-fallout-cause-Europe-s-popular-cities.html"><img decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/05/mailonline_logo-80x80.jpg" alt=""></a></figure></div>
<div>
<figure><a href="http://motherboard.vice.com/read/this-is-what-nuclear-fallout-could-look-like"><img decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/05/Motherboard_logo-80x80.jpg" alt=""></a></figure></div>
<div>
<figure><a href="http://www.gizmodo.in/science/A-Terrifying-Interactive-Map-Visualizes-the-Devastation-of-Nuclear-Fallout/articleshow/52247339.cms"><img decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/05/gizmodo-logo.png" alt=""></a></figure></div>
<div>
<figure><a href="http://www.popularmechanics.com/technology/security/a20873/modern-nuclear-war-look-map/"><img decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/05/popular_mechanics_logo-80x80.png" alt=""></a></figure></div>
<div>
<figure><a href="https://news.fastcompany.com/chilling-animated-map-shows-fallout-if-a-nuclear-attack-happened-today-4007184"><img decoding="async" src="https://futureoflife.org/wp-content/uploads/2016/05/FastCompany_logo-80x80.jpeg" alt=""></a></figure></div></span></p><p>This content was first published at futureoflife.org on <span id="span-706-45428">May 12, 2016</span>.</p><div id="_rich_text-705-45428"><h3>About the Future of Life Institute</h3><p>The Future of Life Institute (FLI) is a global non-profit with a team of 20+ full-time staff operating across the US and Europe. FLI has been working to steer the development of transformative technologies towards benefitting life and away from extreme large-scale risks since it's founding in 2014. Find out more about <a href="https://futureoflife.org/our-mission/">our mission</a> or explore <a href="https://futureoflife.org/our-work/">our work</a>.</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Investigating a vanishing BIOS on the Fujitsu Lifebook AH532 (161 pts)]]></title>
            <link>https://blog.timschumi.net/2024/01/20/ah532-bios-investigation.html</link>
            <guid>39070871</guid>
            <pubDate>Sat, 20 Jan 2024 18:45:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.timschumi.net/2024/01/20/ah532-bios-investigation.html">https://blog.timschumi.net/2024/01/20/ah532-bios-investigation.html</a>, See on <a href="https://news.ycombinator.com/item?id=39070871">Hacker News</a></p>
<div id="readability-page-1" class="page"><div aria-label="Content">
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>A few months ago, I got given a laptop with a very interesting condition.
The BIOS setup menu was supposedly inaccessible, and nothing apart from the default
boot option works. Time to investigate to see what is actually happening
and what we can do about it.</p>

<h2 id="the-status-quo">The status quo</h2>

<p>When starting the laptop without doing anything special, the default option
boots just fine, as expected. However, while pressing F2 during boot causes
a beep tone, it ends up falling through to the same behavior as if nothing
was pressed. On the other hand, pressing F12 lands us in a very empty
boot menu:</p>

<p><img src="https://blog.timschumi.net/images/ah532-bios-investigation/boot-menu-broken.png" alt="The broken boot menu">
<img src="https://blog.timschumi.net/images/ah532-bios-investigation/application-menu-broken.png" alt="The broken application menu"></p>

<p>This, obviously, is not good. The boot menu should (at least) show all bootable
UEFI devices in addition to the boot entries that have been created manually.</p>



<p>Of course, the first thing that one would try is to reset the BIOS settings.
Since the CMOS battery is quite hidden behind plastic shielding, I instead
bridged the <code>CL1_CL2</code> test point that is located under the RAM slot.</p>

<p>After the BIOS reinitialized, the boot menu looks like the following:</p>

<p><img src="https://blog.timschumi.net/images/ah532-bios-investigation/boot-menu-partial.png" alt="The partially fixed boot menu">
<img src="https://blog.timschumi.net/images/ah532-bios-investigation/application-menu-partial.png" alt="The partially fixed application menu"></p>

<p>The manually created boot option is now gone, and device-based boot options
show up instead. However, trying to enter the BIOS setup menu still shows the same
fallthrough behavior as it did before.</p>

<p>Luckily, there now is the option to boot from USB storage, so the BIOS
flash utilities <a href="https://support.ts.fujitsu.com/">provided by Fujitsu</a>
are a possibility going forward. Note that (at least for the AH532)
there are multiple hardware revisions, so I had to go through the
device serial number to arrive at the correct set of downloads.</p>

<p>After flashing the BIOS and rebooting, the boot menu looks normal
and pressing F2 to enter the BIOS setup menu works like a charm:</p>

<p><img src="https://blog.timschumi.net/images/ah532-bios-investigation/boot-menu-complete.png" alt="The complete boot menu">
<img src="https://blog.timschumi.net/images/ah532-bios-investigation/application-menu-complete.png" alt="The complete application menu"></p>

<h2 id="isolating-a-reproducer">Isolating a reproducer</h2>

<p>Now that I was back in a working setup, the first thing I did was to make
a backup of the current configuration. For that, I made an image of the
Winbond 25Q32BVSIG SPI flash chip that is marked as “U35” on the motherboard,
as it contains the whole UEFI PI firmware volume including executable code
and data storage. Whenever something is broken, I can now just flash back
the image instead of going through a full reset-CMOS-and-update-firmware cycle.</p>

<p><img src="https://blog.timschumi.net/images/ah532-bios-investigation/u35-location.png" alt="Location of the U35 chip on the motherboard"></p>

<p>For easier testing, I also wanted a better reproducer than “reinstall your distribution of choice”.
Therefore, I tried the first thing that came to mind, and it immediately broke the boot menu again:</p>

<div><pre><code># efibootmgr -c
BootOrder: 0000
Boot0000* Linux
</code></pre></div>

<p><strong>Warning</strong>: Do <em>NOT</em> run this command twice. Doing so made the boot menu completely inaccessible.</p>

<h2 id="excursion-uefi-boot-entry-handling">Excursion: UEFI boot entry handling</h2>

<p>At a high level, UEFI stores data in a large key-value store that is collectively called
“UEFI variables”. Included in those variables are (among other things) boot entries and
related settings. Variable access is done through <a href="https://web.archive.org/web/20181025075625/wiki.phoenix.com/wiki/index.php/EFI_RUNTIME_SERVICES#GetNextVariableName.28.29">standardized interfaces</a>
that are documented in <a href="https://uefi.org/sites/default/files/resources/UEFI_Spec_2_10_Aug29.pdf">the UEFI specification</a>.</p>

<p>Boot entries are stored in entries named <code>BootXXXX</code>, where <code>XXXX</code> is a four digit hexadecimal
number. Boot option order is determined through the <code>BootOrder</code> entry, which lists all
four digit hexadecimal numbers in the order that they should appear in.</p>

<p>On my Framework laptop, the boot entries are set up as follows:</p>

<div><pre><code>BootOrder: 0002, 0001, 2001, 2002, 2003
Boot0001: "Windows Boot Manager"
Boot0002: "GRUB"
Boot2001: "EFI USB Device"
Boot2002: "EFI DVD/CDROM"
Boot2003: "EFI Network"
</code></pre></div>

<h2 id="putting-the-pieces-together">Putting the pieces together</h2>

<p>Suddenly, the <code>efibootmgr -c</code> output above doesn’t look all that confidence-inspiring.
The command is supposed to create a new entry and insert it at the top of the
boot entry list, but it ended up clearing the entire list instead. Running <code>efibootmgr</code>
on a fresh boot also doesn’t result in quite the expected output:</p>

<div><pre><code># efibootmgr -v
Could not read variable 'BootNext': No such file or directory
Could not read variable 'BootCurrent': No such file or directory
Could not read variable 'BootTimeout': No such file or directory
Could not read variable 'BootOrder': No such file or directory
No BootOrder is set; firmware will attempt recovery
Could not read variable 'MirrorCurrent': No such file or directory
Could not read variable 'MirrorRequest': No such file or directory
</code></pre></div>

<p>It appears that Linux is unable to read existing variables from storage, which is
immediately confirmed by inspecting the source of truth:</p>

<div><pre><code># ls -al /sys/firmware/efi/efivars/
total 0
drwxr-xr-x 2 root root 0 Jan 15 16:09 .
drwxr-xr-x 5 root root 0 Jan 15 16:09 ..
</code></pre></div>

<p><strong>Note</strong>: At this point, I checked that Windows and various other UEFI tools are
able to read the variables just fine, so Linux’ output is confirmed to be incorrect.</p>

<p>Now, this explains why the custom boot entries and the device-based boot entries
end up being gone. <code>efibootmgr</code> can’t find any existing boot entry setup and just
assumes that it can create a new setup without repercussions.</p>

<p>But why does it make the BIOS setup unusable? Using <a href="https://github.com/LongSoft/UEFITool">UEFITool</a>,
I inspected the flash image I made earlier, and reconstructed the following entries:</p>

<div><pre><code>BootOrder: 000E, 000D, 0006, 0007, 0008, 0009, 000A, 000B
Boot0000: "BIOS Setup"
Boot0001: "Boot Menu"
Boot0002: "Diagnostic Screen"
Boot0003: "Recovery and Utility"
Boot0004: "Diagnostic Program"
Boot0005: "Diagnostic Progrogram ROM"
Boot0006: "Floppy Disk Drive"
Boot0007: "Drive0 HDD"
Boot0008: "CD/DVD Drive"
Boot0009: "NETWORK"
Boot000A: "USB HDD"
Boot000B: "USB CD/DVD"
Boot000C: "Erase Disk"
Boot000D: "Windows Boot Manager"
Boot000E: "proxmox"
</code></pre></div>

<p><em>Oh, no…</em></p>

<p>“BIOS Setup” is an actual boot menu entry.</p>

<p>And it gets overwritten by the new boot entry that gets placed erroneously.</p>

<p><strong>Note</strong>: Attentive readers might have noticed the reason for why everything breaks
completely when running <code>efibootmgr -c</code> twice: The second boot entry that
is created would be <code>Boot0001</code>, which successfully replaces “Boot Menu”.</p>

<h2 id="creating-a-temporary-band-aid">Creating a temporary band-aid</h2>

<p>Now that I knew what went wrong, I was able to create a small program that resets
the boot order, as well as the BIOS setup and boot menu entries to their expected
contents.</p>

<p><strong>Note</strong>: This program is based on an UEFI dump of a Fujitsu LIFEBOOK AH532 (YLKV).
It is unlikely that it will work on any other hardware (revision) that happens to have
the same symptoms. Furthermore, the written data may also be dependent on the firmware
revision, so take caution when running this on a firmware version that is not v1.08 or
v1.09.</p>

<p><strong>Warning</strong>: I assume no liability for broken hardware or software due to correct or incorrect
usage of this tool.</p>

<div><pre><code><span>#include</span> <span>&lt;efivar/efivar.h&gt;</span><span>
</span>
<span>uint32_t</span> <span>boot_attributes</span> <span>=</span> <span>EFI_VARIABLE_NON_VOLATILE</span> <span>|</span> <span>EFI_VARIABLE_BOOTSERVICE_ACCESS</span> <span>|</span> <span>EFI_VARIABLE_RUNTIME_ACCESS</span><span>;</span>

<span>unsigned</span> <span>char</span> <span>bootorder_data</span><span>[]</span> <span>=</span> <span>{</span>
    <span>0x06</span><span>,</span> <span>0x00</span><span>,</span> <span>// Boot0006</span>
    <span>0x07</span><span>,</span> <span>0x00</span><span>,</span> <span>// Boot0007</span>
    <span>0x08</span><span>,</span> <span>0x00</span><span>,</span> <span>// Boot0008</span>
    <span>0x09</span><span>,</span> <span>0x00</span><span>,</span> <span>// Boot0009</span>
    <span>0x0A</span><span>,</span> <span>0x00</span><span>,</span> <span>// Boot000A</span>
    <span>0x0B</span><span>,</span> <span>0x00</span><span>,</span> <span>// Boot000B</span>
<span>};</span>

<span>unsigned</span> <span>char</span> <span>boot0000_data</span><span>[]</span> <span>=</span> <span>{</span>
    <span>0x00</span><span>,</span> <span>0x01</span><span>,</span> <span>0x00</span><span>,</span> <span>0x00</span><span>,</span> <span>// Attributes</span>
    <span>0x18</span><span>,</span> <span>0x00</span><span>,</span>             <span>// FilePathListLength</span>

    <span>// Description: "BIOS Setup       "</span>
    <span>0x42</span><span>,</span> <span>0x00</span><span>,</span> <span>0x49</span><span>,</span> <span>0x00</span><span>,</span> <span>0x4F</span><span>,</span> <span>0x00</span><span>,</span> <span>0x53</span><span>,</span> <span>0x00</span><span>,</span> <span>0x20</span><span>,</span> <span>0x00</span><span>,</span> <span>0x53</span><span>,</span> <span>0x00</span><span>,</span> <span>0x65</span><span>,</span> <span>0x00</span><span>,</span> <span>0x74</span><span>,</span> <span>0x00</span><span>,</span> <span>0x75</span><span>,</span> <span>0x00</span><span>,</span> <span>0x70</span><span>,</span> <span>0x00</span><span>,</span> <span>0x20</span><span>,</span> <span>0x00</span><span>,</span> <span>0x20</span><span>,</span> <span>0x00</span><span>,</span> <span>0x20</span><span>,</span> <span>0x00</span><span>,</span>
    <span>0x20</span><span>,</span> <span>0x00</span><span>,</span> <span>0x20</span><span>,</span> <span>0x00</span><span>,</span> <span>0x20</span><span>,</span> <span>0x00</span><span>,</span> <span>0x20</span><span>,</span> <span>0x00</span><span>,</span> <span>0x00</span><span>,</span> <span>0x00</span><span>,</span>

    <span>// FilePathList[0]</span>
    <span>0x04</span><span>,</span>       <span>// Type: Media Device Path</span>
    <span>0x06</span><span>,</span>       <span>// Sub-Type: PIWG Firmware File</span>
    <span>0x14</span><span>,</span> <span>0x00</span><span>,</span> <span>// Length: 4 + 0x14</span>
    <span>0x66</span><span>,</span> <span>0x8B</span><span>,</span> <span>0x1C</span><span>,</span> <span>0x72</span><span>,</span> <span>0x6C</span><span>,</span> <span>0x42</span><span>,</span> <span>0x86</span><span>,</span> <span>0x4E</span><span>,</span> <span>0x8E</span><span>,</span> <span>0x99</span><span>,</span> <span>0x34</span><span>,</span> <span>0x57</span><span>,</span> <span>0xC4</span><span>,</span> <span>0x6A</span><span>,</span> <span>0xB0</span><span>,</span> <span>0xB9</span><span>,</span>

    <span>// FilePathList[1]</span>
    <span>0x7F</span><span>,</span>       <span>// Type: End of Hardware Device Path</span>
    <span>0xFF</span><span>,</span>       <span>// Sub-Type: End Entire Device Path</span>
    <span>0x04</span><span>,</span> <span>0x00</span><span>,</span> <span>// Length: 4</span>

    <span>// OptionalData (empty)</span>
<span>};</span>

<span>unsigned</span> <span>char</span> <span>boot0001_data</span><span>[]</span> <span>=</span> <span>{</span>
    <span>0x00</span><span>,</span> <span>0x01</span><span>,</span> <span>0x00</span><span>,</span> <span>0x00</span><span>,</span> <span>// Attributes</span>
    <span>0x18</span><span>,</span> <span>0x00</span><span>,</span>             <span>// FilePathListLength</span>

    <span>// Description: "Boot Menu"</span>
    <span>0x42</span><span>,</span> <span>0x00</span><span>,</span> <span>0x6F</span><span>,</span> <span>0x00</span><span>,</span> <span>0x6F</span><span>,</span> <span>0x00</span><span>,</span> <span>0x74</span><span>,</span> <span>0x00</span><span>,</span> <span>0x20</span><span>,</span> <span>0x00</span><span>,</span> <span>0x4D</span><span>,</span> <span>0x00</span><span>,</span> <span>0x65</span><span>,</span> <span>0x00</span><span>,</span> <span>0x6E</span><span>,</span> <span>0x00</span><span>,</span> <span>0x75</span><span>,</span> <span>0x00</span><span>,</span> <span>0x00</span><span>,</span> <span>0x00</span><span>,</span>

    <span>// FilePathList[0]</span>
    <span>0x04</span><span>,</span>       <span>// Type: Media Device Path</span>
    <span>0x06</span><span>,</span>       <span>// Sub-Type: PIWG Firmware File</span>
    <span>0x14</span><span>,</span> <span>0x00</span><span>,</span> <span>// Length: 4 + 0x14</span>
    <span>0x40</span><span>,</span> <span>0x84</span><span>,</span> <span>0x48</span><span>,</span> <span>0x86</span><span>,</span> <span>0xBB</span><span>,</span> <span>0x41</span><span>,</span> <span>0xC7</span><span>,</span> <span>0x42</span><span>,</span> <span>0x93</span><span>,</span> <span>0xAC</span><span>,</span> <span>0x45</span><span>,</span> <span>0x0F</span><span>,</span> <span>0xBF</span><span>,</span> <span>0x77</span><span>,</span> <span>0x66</span><span>,</span> <span>0xBF</span><span>,</span>

    <span>// FilePathList[1]</span>
    <span>0x7F</span><span>,</span>       <span>// Type: End of Hardware Device Path</span>
    <span>0xFF</span><span>,</span>       <span>// Sub-Type: End Entire Device Path</span>
    <span>0x04</span><span>,</span> <span>0x00</span><span>,</span> <span>// Length: 4</span>

    <span>// OptionalData (empty)</span>
<span>};</span>

<span>int</span> <span>main</span><span>()</span> <span>{</span>
    <span>int</span> <span>rc</span> <span>=</span> <span>efi_set_variable</span><span>(</span><span>EFI_GLOBAL_GUID</span><span>,</span> <span>"BootOrder"</span><span>,</span> <span>bootorder_data</span><span>,</span> <span>sizeof</span><span>(</span><span>bootorder_data</span><span>),</span> <span>boot_attributes</span><span>,</span> <span>0644</span><span>);</span>
    <span>if</span> <span>(</span><span>rc</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
        <span>efi_error</span><span>(</span><span>"Resetting BootOrder failed"</span><span>);</span>
        <span>return</span> <span>1</span><span>;</span>
    <span>}</span>

    <span>rc</span> <span>=</span> <span>efi_set_variable</span><span>(</span><span>EFI_GLOBAL_GUID</span><span>,</span> <span>"Boot0000"</span><span>,</span> <span>boot0000_data</span><span>,</span> <span>sizeof</span><span>(</span><span>boot0000_data</span><span>),</span> <span>boot_attributes</span><span>,</span> <span>0644</span><span>);</span>
    <span>if</span> <span>(</span><span>rc</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
        <span>efi_error</span><span>(</span><span>"Resetting Boot0000 failed"</span><span>);</span>
        <span>return</span> <span>1</span><span>;</span>
    <span>}</span>

    <span>rc</span> <span>=</span> <span>efi_set_variable</span><span>(</span><span>EFI_GLOBAL_GUID</span><span>,</span> <span>"Boot0001"</span><span>,</span> <span>boot0001_data</span><span>,</span> <span>sizeof</span><span>(</span><span>boot0001_data</span><span>),</span> <span>boot_attributes</span><span>,</span> <span>0644</span><span>);</span>
    <span>if</span> <span>(</span><span>rc</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
        <span>efi_error</span><span>(</span><span>"Resetting Boot0001 failed"</span><span>);</span>
        <span>return</span> <span>1</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div>

<p>Naturally, this isn’t a great solution, since users will continue to brick their installations initially, just like they
did <a href="https://bugs.launchpad.net/ubuntu/+source/efibootmgr/+bug/1082418">for the last 10 years</a>. However, this is everything
that I managed to research so far, and the band-aid fix makes it reasonable for publication.</p>

<p>I will look into fixing this properly at some point in the future, and if I manage to do so this post will probably get a part
two, so stay tuned. (Apparently Jekyll supports RSS?)</p>

  </div>
</article>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[NASA loses contact with Ingenuity Mars helicopter (195 pts)]]></title>
            <link>https://www.space.com/nasa-loses-contact-ingenuity-mars-helicopter</link>
            <guid>39070784</guid>
            <pubDate>Sat, 20 Jan 2024 18:35:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.space.com/nasa-loses-contact-ingenuity-mars-helicopter">https://www.space.com/nasa-loses-contact-ingenuity-mars-helicopter</a>, See on <a href="https://news.ycombinator.com/item?id=39070784">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-widget-type="contentparsed" id="content">
<section>
<div itemprop="image" itemscope="" itemtype="https://schema.org/ImageObject">
<div>
<picture><source type="image/webp" alt="closeup of a four-rotor drone sitting on pebbly red dirt." onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" srcset="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-320-80.png.webp 320w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-480-80.png.webp 480w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-650-80.png.webp 650w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-970-80.png.webp 970w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-1024-80.png.webp 1024w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-1200-80.png.webp 1200w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-1920-80.png.webp 1920w" sizes="(min-width: 1000px) 600px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL.png"><source type="image/png" alt="closeup of a four-rotor drone sitting on pebbly red dirt." onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" srcset="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-1200-80.png 1200w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-1920-80.png 1920w" sizes="(min-width: 1000px) 600px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL.png"><img src="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-320-80.png" alt="closeup of a four-rotor drone sitting on pebbly red dirt." onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" srcset="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-1200-80.png 1200w, https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL-1920-80.png 1920w" sizes="(min-width: 1000px) 600px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL.png"></picture>
</div>
<meta itemprop="url" content="https://cdn.mos.cms.futurecdn.net/49x2gjsUvPWjb6awdAXBjL.png">
<meta itemprop="height" content="600">
<meta itemprop="width" content="338">
<figcaption itemprop="caption description">
<span>The Ingenuity helicopter, imaged on Mars by the Perseverance rover on Aug. 2, 2023.</span>
<span itemprop="copyrightHolder">(Image credit: NASA/JPL-Caltech)</span>
</figcaption>
</div>

<div id="article-body">
<p>NASA's Ingenuity Mars helicopter has gone incommunicado.</p><p><a data-analytics-id="inline-link" href="https://www.space.com/ingenuity-mars-helicopter-perseverance-rover" data-before-rewrite-localise="https://www.space.com/ingenuity-mars-helicopter-perseverance-rover">Ingenuity</a>'s handlers lost contact with the 4-pound (1.8 kilograms) chopper on Thursday (Jan. 18), toward the end of its 72nd flight on <a data-analytics-id="inline-link" href="https://www.space.com/47-mars-the-red-planet-fourth-planet-from-the-sun.html" data-before-rewrite-localise="https://www.space.com/47-mars-the-red-planet-fourth-planet-from-the-sun.html">Mars</a>.&nbsp;</p><p>"Data Ingenuity sent to the <a data-analytics-id="inline-link" href="https://www.space.com/perseverance-rover-mars-2020-mission" data-before-rewrite-localise="https://www.space.com/perseverance-rover-mars-2020-mission">Perseverance rover</a> (which acts as a relay between the helicopter and Earth) during the flight indicates it successfully climbed to its assigned maximum altitude of 40 feet (12 meters)," NASA officials wrote in an <a data-analytics-id="inline-link" href="https://mars.nasa.gov/technology/helicopter/status/508/flight-72-status-update/" target="_blank" data-url="https://mars.nasa.gov/technology/helicopter/status/508/flight-72-status-update/">update on Friday (Jan. 19)</a>.&nbsp;</p><p>"During its planned descent, communications between the helicopter and rover terminated early, prior to touchdown," they added. "The Ingenuity team is analyzing available data and considering next steps to reestablish communications with the helicopter."</p><p><strong>Related</strong>: <a data-analytics-id="inline-link" href="https://www.space.com/mars-helicopter-ingenuity-breaks-63-day-silence" data-before-rewrite-localise="https://www.space.com/mars-helicopter-ingenuity-breaks-63-day-silence">Mars helicopter Ingenuity phones home, breaking 63-day silence</a></p><p>Ingenuity and Perseverance landed together in February 2021 on the floor of the 28-mile-wide (45 kilometers) Jezero Crater, which harbored a big lake and a river delta billions of years ago.</p><p>Perseverance is hunting for evidence of past <a data-analytics-id="inline-link" href="https://www.space.com/17135-life-on-mars.html" data-before-rewrite-localise="https://www.space.com/17135-life-on-mars.html">Mars life</a> and collecting samples for <a data-analytics-id="inline-link" href="https://www.space.com/nasa-to-address-fiscal-concerns-mars-sample-return-mission" data-before-rewrite-localise="https://www.space.com/nasa-to-address-fiscal-concerns-mars-sample-return-mission">future return to Earth</a>. Ingenuity is serving as a scout for the car-sized rover, on an extended mission that NASA granted after the little chopper aced its original five-flight technology-demonstrating campaign in the spring of 2021.</p><p>It might be time for Perseverance to return the favor and help its little robotic cousin out.</p><p>"Perseverance is currently out of line-of-sight with Ingenuity, but the team could consider driving closer for a visual inspection," NASA's Jet Propulsion Laboratory in Southern California, which manages both robots' missions, <a data-analytics-id="inline-link" href="https://twitter.com/NASAJPL/status/1748511611110002728" target="_blank" data-url="https://twitter.com/NASAJPL/status/1748511611110002728">said via X on Friday</a>.</p><figure data-bordeaux-image-check=""><div><p><picture><source type="image/webp" alt="aerial view of reddish martian ground, with blue icons indicating the locations of nasa's perseverance rover and ingenuity helicopter." onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-320-80.jpg.webp 320w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-480-80.jpg.webp 480w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-650-80.jpg.webp 650w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-970-80.jpg.webp 970w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-1024-80.jpg.webp 1024w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-1200-80.jpg.webp 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd.jpg"><source type="image/jpeg" alt="aerial view of reddish martian ground, with blue icons indicating the locations of nasa's perseverance rover and ingenuity helicopter." onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-1200-80.jpg 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd.jpg"><img src="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd.jpg" alt="aerial view of reddish martian ground, with blue icons indicating the locations of nasa's perseverance rover and ingenuity helicopter." onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-1200-80.jpg 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd.jpg" srcset="https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/ErMiGh7ApRDHddjKeTLyJd-1200-80.jpg 1200w"></picture></p></div><figcaption itemprop="caption description"><span>The positions of NASA's Perseverance rover (right) and Ingenuity helicopter on Mars on Jan. 19, 2024. </span><span itemprop="copyrightHolder">(Image credit: NASA/JPL-Caltech)</span></figcaption></figure><p>Ingenuity has stayed aloft for more than 128 minutes and covered a total of 11 miles (17.7 kilometers) during its 72 Mars flights, according to <a data-analytics-id="inline-link" href="https://mars.nasa.gov/technology/helicopter/#Flight-Log" target="_blank" data-url="https://mars.nasa.gov/technology/helicopter/#Flight-Log">the mission's flight log</a>.&nbsp;</p><p>It's unclear at the moment if those numbers will continue to go up. We'll have to wait and see if Ingenuity's handlers can get back in touch with the pioneering chopper, the first vehicle ever to explore the skies of a world beyond <a data-analytics-id="inline-link" href="https://www.space.com/54-earth-history-composition-and-atmosphere.html" data-before-rewrite-localise="https://www.space.com/54-earth-history-composition-and-atmosphere.html">Earth</a>.</p>
</div>
<p><em><a href="https://forums.space.com/">Join our Space Forums</a> to keep talking space on the latest missions, night sky and more! And if you have a news tip, correction or comment, let us know at: <a href="mailto:community@space.com">community@space.com.</a></em></p>
<div data-hydrate="true" id="slice-container-newsletterForm-articleInbodyContent-6FirYknvG4qcWD5LDUo86D"><section><p>Breaking space news, the latest updates on rocket launches, skywatching events and more!</p></section></div>
<div id="slice-container-authorBio-6FirYknvG4qcWD5LDUo86D"><p>Michael Wall is a Senior Space Writer with&nbsp;<a target="_blank" href="http://space.com/">Space.com</a>&nbsp;and joined the team in 2010.&nbsp;He primarily covers exoplanets, spaceflight and military space, but has been known to dabble in the space art beat.&nbsp;His book about the search for alien life, "Out There," was published on Nov. 13, 2018. Before becoming a science writer, Michael worked as a herpetologist and wildlife biologist. He has a Ph.D. in evolutionary biology from the University of Sydney, Australia, a bachelor's degree from the University of Arizona, and a graduate certificate in science writing from the University of California, Santa Cruz. To find out what his latest project is, you can follow Michael on Twitter.</p></div>


</section>




<div id="slice-container-relatedArticles"><p><h5>Most Popular</h5></p></div>








</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Orange Pi 5 Plus (133 pts)]]></title>
            <link>https://taoofmac.com/space/blog/2024/01/20/1800</link>
            <guid>39070730</guid>
            <pubDate>Sat, 20 Jan 2024 18:31:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://taoofmac.com/space/blog/2024/01/20/1800">https://taoofmac.com/space/blog/2024/01/20/1800</a>, See on <a href="https://news.ycombinator.com/item?id=39070730">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="main" data-clarity-region="article">
<p>The <a href="https://taoofmac.com/space/links/2023/09/28/0810" rel="next">launch of the Raspberry Pi 5</a> was a bit… underwhelming, to be honest.</p>
<p>Part of that is because the Raspberry Pi Foundation favors incremental improvement and a conservative approach to hardware design, which is understandable given their target markets.</p>
<p>But there is a wider scope of use cases for <code>ARM</code> boards these days, and I’m not sure the Raspberry Pi 5 is the best “next step” beyond the 4 for what I aim to do, so I decided to take a look at the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> instead.</p>
<blockquote>
<p><strong>Disclaimer:</strong> Orange Pi sent me a review unit (for which I thank them), and this article follows my <a href="https://taoofmac.com/space/site/review_policy" rel="next">Review Policy</a>. Also, I purposely avoid doing any price comparisons with the Pi 5 (or the Pi 5 plus an equivalent set of add-ons) because I think the Orange Pi 5+ is a different beast altogether.</p>
</blockquote>
<a id="anchor-hardware-specs" href="https://taoofmac.com/space/blog/2024/01/20/1800#hardware-specs" rel="anchor"><h2 id="hardware-specs">Hardware Specs</h2></a><p>The <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> is pretty much a textbook Rockchip design, with a few interesting tidbits:</p>
<ul>
<li>An <code>RK3588</code> chipset (with 4xA76/2.4GHz cores and 4xA55/1.8GHz cores, plus a Mali-G610 MP4 <code>GPU</code> and an <code>NPU</code>)</li>
<li>An M.2 2280 PCIe 3.0x4 <code>NVMe</code> slot (leveraging the <code>PCIe 3.0</code> lanes the <code>3588</code> provides)</li>
<li>An M.2 E Key 2230 slot (for WiFi/BT)</li>
<li>Dual <code>HDMI</code> outputs (rated for 8k60)</li>
<li>One <code>HDMI</code> input (rated for 4k60)</li>
<li>DisplayPort 1.4 (8K30) via USB C</li>
<li>Dual 2.5GbE ports</li>
</ul>
<p>…plus numerous USB ports, a typical set of single-board computer connections (<code>SPI</code>, <code>MIPI</code> and a 40-pin <code>GPIO</code> header), a microphone and an IR receiver:</p>
<figure>
<img src="https://taoofmac.com/media/blog/2024/01/20/1800/ZaCCSFzAKFtMYj8QaLcc4gFxeVw=/board.jpg" title="the bare board" width="2048" height="831">
<figcaption>Both sides of the board. It's roughly twice the footprint of a Pi, but has full-size connectors for everything.</figcaption>
</figure>
<p>This makes for a very interesting board with lots of standardized I/O, and I was very curious to see how it would fare as both a thin client and (more importantly) as a server.</p>
<p>Sadly, the board I got only has 4GB of RAM, which made it impossible to test some of the things I had planned (the upper SKU right now ships with 16GB of RAM, and there is going to be a 32GB version as well).</p>
<p>Nevertheless, I went ahead and added the following:</p>
<ul>
<li>A <a href="https://www.amazon.es/gp/product/B09QV692XY/ref=as_li_tl?_encoding=UTF8&amp;tag=taoofmac-21&amp;linkCode=ur2&amp;camp=3638&amp;creative=24630" rel="external">1TB WD Black SN770 <code>NVMe</code> drive</a> (PCIe Gen 4, a bit overkill but useful for testing since it removes any I/O bottlenecks)</li>
<li>A <a href="https://www.amazon.es/gp/product/B0B5LV5K1H/ref=as_li_tl?_encoding=UTF8&amp;tag=taoofmac-21&amp;linkCode=ur2&amp;camp=3638&amp;creative=24630" rel="external">Realtek RTL8852BE WiFi 6/Bluetooth 5.2 card</a> (which I had lying around)</li>
</ul>
<p>This made for a pretty beefy setup nonetheless, and I was able to test quite a few things since I got it early this month.</p>
<a id="anchor-cooling-case-and-power" href="https://taoofmac.com/space/blog/2024/01/20/1800#cooling-case-and-power" rel="anchor"><h2 id="cooling-case-and-power">Cooling, Case and Power</h2></a><p>The sample unit came without a cooling solution, but even though there is an official heatsink (with a fan that uses the 2-pin <code>PCB</code> connector), given my dislike for fan noise I opted for hacking some purely passive cooling.</p>
<p>So I took some spare copper blocks I had gotten for other projects and used leftover thermal strips to attach them to the <code>RK3588</code>, the <code>DRAM</code> chips and a couple of other chips. This worked wonderfully and kept the CPU at a cool 39<sup>o</sup>C when idle.</p>
<p>While I waited for the <code>NVMe</code> drive to arrive, I decided to <a href="https://taoofmac.com/space/notes/2024/01/07/1800" rel="next">find and print a suitable case</a> for it:</p>
<figure>
<img src="https://taoofmac.com/media/blog/2024/01/20/1800/ZLmRL_czgujKnJo29bZTj23IEew=/case_top.jpg" title="Hexagons are the bestagons" width="2048" height="1275">
<figcaption>This was designed to be stood up, and is a nice modular design.</figcaption>
</figure>
<p>With this case closed and stood up vertically, the CPU temperature on idle slowly rose to 45<sup>o</sup>C, which is still pretty good for a passive setup.</p>
<p>After I added the <code>NVMe</code> drive (with its own heatsink) and started testing things, temperatures rose a couple of degrees, but the passive setup still worked fine<sup id="fnref:1"><a href="https://taoofmac.com/space/blog/2024/01/20/1800#fn:1" rel="anchor">1</a></sup>.</p>
<figure>
<img src="https://taoofmac.com/media/blog/2024/01/20/1800/DeH_o2JxuPs263Cn3eqzS1TpcLE=/case_bottom.jpg" title="adding an NVMe" width="2048" height="1441">
<figcaption>Another reason I picked this case is the easy access to components.</figcaption>
</figure>
<p>Power-wise, the board idles just under 5W, and I managed to get it up to 15W (measured from the wall socket) while running <a href="https://github.com/vitoplantamura/OnnxStream" rel="external">OnnxStream</a> at full tilt (more on that below, but suffice it to say that this was with all cores running inference and a lot of SSD throughput).</p>
<p>This is roughly half the power envelope of a comparable mini-PC, although I wouldn’t place much stock on the raw values without considering the overall performance of the system <em>and</em> what it is being used for.</p>
<p>But it is nice to see how efficient the board is given the amount of horsepower it has.</p>
<a id="anchor-operating-system-support" href="https://taoofmac.com/space/blog/2024/01/20/1800#operating-system-support" rel="anchor"><h2 id="operating-system-support">Operating System Support</h2></a><p>Software support is always the Achilles heel of Raspberry Pi alternatives, but Orange Pi <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/service-and-support/Orange-Pi-5-plus.html" rel="external">has various OS images available for the 5 Plus</a>. This includes their own flavors of Arch and Android, but also reasonably stock <a href="http://openwrt.org/" rel="external">OpenWRT</a>, Ubuntu and Debian images (which have <a href="https://github.com/orangepi-xunlong/orangepi-build" rel="external">build scripts available on GitHub</a>).</p>
<p>I tried a couple of those while my <code>NVMe</code> was in transit, but since I was planning on using the board as a server I decided to go with <a href="http://armbian.com/" rel="external">Armbian</a> in later tests, which is a well supported distribution that has been around for a long time and has an active community (plus a reasonable assurance of long-term updates).</p>
<p><a href="http://armbian.com/" rel="external">Armbian</a> currently provides a Debian 12 <code>bookworm</code> image as a release candidate for the Plus 5–however, since the <code>RK3588</code> support is still not fully baked for kernel 6.x, I had to install a version with kernel 5.1.</p>
<p>Not that I didn’t make an effort–the 6.7 <code>edge</code> version wouldn’t even boot, and trying to upgrade to the default 6.1 kernel also failed, forcing me to mount the SD card on another machine and restore the 5.1 kernel.</p>
<p>And, in general, right now Rockchip images are mostly kernel 5.x based, but <a href="https://gitlab.collabora.com/hardware-enablement/rockchip-3588/notes-for-rockchip-3588/-/blob/main/mainline-status.md" rel="external">given what teams like Collabora are doing</a> I expect this to improve over time.</p>
<a id="anchor-use-cases" href="https://taoofmac.com/space/blog/2024/01/20/1800#use-cases" rel="anchor"><h2 id="use-cases">Use Cases</h2></a><p>But before I settled on <a href="http://armbian.com/" rel="external">Armbian</a>, I had time to test the board in a couple different scenarios:</p>
<a id="anchor-tiny-mighty-router" href="https://taoofmac.com/space/blog/2024/01/20/1800#tiny-mighty-router" rel="anchor"><h3 id="tiny-mighty-router">Tiny, Mighty Router</h3></a><p>This was the first (and easiest) thing to test off an SD card, and it didn’t disappoint.</p>
<p>The stock <a href="http://openwrt.org/" rel="external">OpenWRT</a> image booted up fine, but since I only have gigabit fiber and gigabit LAN (and the only machine with 2.5GbE is in my server closet) I wasn’t really able to push the hardware to its limits in my office.</p>
<p>But again, I made an attempt and was able to get transfer rates of a little over 122MB/s (roughly 970Mbit/s) through it. The <code>RK3588</code> is somewhat overkill for a router, so no surprises here. I’m positive it would fare just as well with 2.5GbE traffic, and I will likely have an opportunity to test that in the future, since I plan on swapping one of my managed switches for a PoE-enabled one with 2.5GbE ports.</p>
<a id="anchor-desktop-use" href="https://taoofmac.com/space/blog/2024/01/20/1800#desktop-use" rel="anchor"><h3 id="desktop-use">Desktop Use</h3></a><p>There’s not much to say here either–I wrote the Orange Pi Debian 12 <code>XFCE</code> image to an SD card and used it as a thin client for a few days, and it worked great–for starters, it was able to cope with <em>both</em> my monitors at decent resolutions.</p>
<p>I only tested via <code>HDMI</code>, but was able to get a usable desktop across both the <a href="https://www.amazon.es/gp/product/B07VB339T5/ref=as_li_tl?_encoding=UTF8&amp;tag=taoofmac-21&amp;linkCode=ur2&amp;camp=3638&amp;creative=24630" rel="external">LG Dual Up</a> and my <a href="https://www.amazon.es/gp/product/B0798TGN2M/ref=as_li_tl?_encoding=UTF8&amp;tag=taoofmac-21&amp;linkCode=ur2&amp;camp=3638&amp;creative=24630" rel="external">LG 34WK95U-W</a>, although of course Linux still has issues with widely different display resolutions, etc. Nothing untoward here, and <code>XFCE</code> was snappy enough.</p>
<p>As a Remote Desktop Client (using <a href="https://taoofmac.com/space/blog/2024/01/20/apps/remmina" rel="nofollow">Remmina</a>), the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> beat the <a href="https://taoofmac.com/space/hw/raspberry_pi" rel="next">Raspberry Pi 4</a> figures <a href="https://taoofmac.com/space/blog/2022/10/23/1700" rel="next">I got last year</a>, but not by much–and the reason for that is simply because it is all very server-dependent, and I was using the same server for both tests.</p>
<p>But I did get a solid 60fps on <a href="https://www.testufo.com/" rel="external">the UFO test</a> rendered on a remote desktop, and <a href="https://taoofmac.com/space/blog/2024/01/20/apps/remmina" rel="nofollow">Remmina</a> was about as snappy as the official Remote Desktop client on my Mac.</p>
<p>Besides that, running Firefox, VS Code and a few other apps was a good experience, although the 4GB of RAM felt a bit cramped (some of the images I tried used <code>zram</code> swap) and SD card performance impacted loading times.</p>
<a id="anchor-benchmarks" href="https://taoofmac.com/space/blog/2024/01/20/1800#benchmarks" rel="anchor"><h2 id="benchmarks">Benchmarks</h2></a><p>Once I got the <code>NVMe</code>, I got started on the main use case I had in mind for the board–understand how it would fare as a server, and how it would compare to both the <a href="https://taoofmac.com/space/hw/raspberry_pi" rel="next">Raspberry Pi 4</a> and the <a href="https://taoofmac.com/space/blog/2023/03/11/2000" rel="next">u59</a> mini-PC I have been using as part of <a href="https://taoofmac.com/space/blog/2023/12/17/2000" rel="next">my homelab setup</a>.</p>
<p>And that typically involves two kinds of things:</p>
<ul>
<li>Heavy I/O (which is where the <code>NVMe</code> comes in)</li>
<li>Heavy CPU load (which is where the <code>RK3588</code>‘s extra cores come in)</li>
</ul>
<p>So I installed <a href="http://armbian.com/" rel="external">Armbian</a> onto a fresh SD card, booted off it, and then ran <code>armbian-config</code> and asked it to install onto <code>/dev/nvme0n1p1</code>–it cloned the SD install (merging <code>/boot</code> and <code>/</code> onto that partition) and updated the <code>SPI</code> flash (<code>mtdblock0</code>) to enable booting from the <code>NVMe</code>, which worked flawlessly.</p>
<a id="anchor-disk-i/o" href="https://taoofmac.com/space/blog/2024/01/20/1800#disk-i/o" rel="anchor"><h3 id="disk-io">Disk I/O</h3></a><p>I then used <code>fio</code> to test the <code>NVMe</code> drive, and got the following results:</p>
<div><pre><span><code><span># fio --filename=/tmp/file --size=5GB --direct=1 --rw=randrw --bs=64k --ioengine=libaio --iodepth=64 --runtime=120 --numjobs=4 --time_based --group_reporting --name=random-read-write --eta-newline=1</span>
<span>random</span><span>-</span><span>read</span><span>-</span><span>write</span><span>:</span><span> </span><span>(</span><span>groupid</span><span>=</span><span>0</span><span>,</span><span> </span><span>jobs</span><span>=</span><span>4</span><span>)</span><span>:</span><span> </span><span>err</span><span>=</span><span> </span><span>0</span><span>:</span><span> </span><span>pid</span><span>=</span><span>620</span><span>:</span><span> </span><span>Thu</span><span> </span><span>Jan</span><span> </span><span>18</span><span> </span><span>18</span><span>:</span><span>36</span><span>:</span><span>43</span><span> </span><span>2024</span>
<span>    </span><span>read</span><span>:</span><span> </span><span>IOPS</span><span>=</span><span>13.4</span><span>k</span><span>,</span><span> </span><span>BW</span><span>=</span><span>835</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>875</span><span>MB</span><span>/</span><span>s</span><span>)(</span><span>97.8</span><span>GiB</span><span>/</span><span>120015</span><span>msec</span><span>)</span>
<span>    </span><span>slat</span><span> </span><span>(</span><span>usec</span><span>)</span><span>:</span><span> </span><span>min</span><span>=</span><span>7</span><span>,</span><span> </span><span>max</span><span>=</span><span>15753</span><span>,</span><span> </span><span>avg</span><span>=</span><span>56.50</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>61.17</span>
<span>    </span><span>clat</span><span> </span><span>(</span><span>usec</span><span>)</span><span>:</span><span> </span><span>min</span><span>=</span><span>3</span><span>,</span><span> </span><span>max</span><span>=</span><span>18314</span><span>,</span><span> </span><span>avg</span><span>=</span><span>534.81</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>431.78</span>
<span>        </span><span>lat</span><span> </span><span>(</span><span>usec</span><span>)</span><span>:</span><span> </span><span>min</span><span>=</span><span>99</span><span>,</span><span> </span><span>max</span><span>=</span><span>19738</span><span>,</span><span> </span><span>avg</span><span>=</span><span>592.00</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>443.42</span>
<span>    </span><span>clat</span><span> </span><span>percentiles</span><span> </span><span>(</span><span>usec</span><span>)</span><span>:</span>
<span>        </span><span>|</span><span>  </span><span>1.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>161</span><span>],</span><span>  </span><span>5.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>217</span><span>],</span><span> </span><span>10.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>258</span><span>],</span><span> </span><span>20.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>318</span><span>],</span>
<span>        </span><span>|</span><span> </span><span>30.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>363</span><span>],</span><span> </span><span>40.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>408</span><span>],</span><span> </span><span>50.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>453</span><span>],</span><span> </span><span>60.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>502</span><span>],</span>
<span>        </span><span>|</span><span> </span><span>70.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>562</span><span>],</span><span> </span><span>80.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>660</span><span>],</span><span> </span><span>90.00</span><span>th</span><span>=</span><span>[</span><span>  </span><span>857</span><span>],</span><span> </span><span>95.00</span><span>th</span><span>=</span><span>[</span><span> </span><span>1106</span><span>],</span>
<span>        </span><span>|</span><span> </span><span>99.00</span><span>th</span><span>=</span><span>[</span><span> </span><span>1844</span><span>],</span><span> </span><span>99.50</span><span>th</span><span>=</span><span>[</span><span> </span><span>2474</span><span>],</span><span> </span><span>99.90</span><span>th</span><span>=</span><span>[</span><span> </span><span>4752</span><span>],</span><span> </span><span>99.95</span><span>th</span><span>=</span><span>[</span><span> </span><span>8586</span><span>],</span>
<span>        </span><span>|</span><span> </span><span>99.99</span><span>th</span><span>=</span><span>[</span><span>13566</span><span>]</span>
<span>    </span><span>bw</span><span> </span><span>(</span><span>  </span><span>KiB</span><span>/</span><span>s</span><span>)</span><span>:</span><span> </span><span>min</span><span>=</span><span>713365</span><span>,</span><span> </span><span>max</span><span>=</span><span>1110144</span><span>,</span><span> </span><span>per</span><span>=</span><span>100.00</span><span>%</span><span>,</span><span> </span><span>avg</span><span>=</span><span>855819.52</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>16270.31</span><span>,</span><span> </span><span>samples</span><span>=</span><span>956</span>
<span>    </span><span>iops</span><span>        </span><span>:</span><span> </span><span>min</span><span>=</span><span>11146</span><span>,</span><span> </span><span>max</span><span>=</span><span>17346</span><span>,</span><span> </span><span>avg</span><span>=</span><span>13371.99</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>254.23</span><span>,</span><span> </span><span>samples</span><span>=</span><span>956</span>
<span>    </span><span>write</span><span>:</span><span> </span><span>IOPS</span><span>=</span><span>13.4</span><span>k</span><span>,</span><span> </span><span>BW</span><span>=</span><span>835</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>875</span><span>MB</span><span>/</span><span>s</span><span>)(</span><span>97.8</span><span>GiB</span><span>/</span><span>120015</span><span>msec</span><span>);</span><span> </span><span>0</span><span> </span><span>zone</span><span> </span><span>resets</span>
<span>    </span><span>slat</span><span> </span><span>(</span><span>usec</span><span>)</span><span>:</span><span> </span><span>min</span><span>=</span><span>7</span><span>,</span><span> </span><span>max</span><span>=</span><span>15360</span><span>,</span><span> </span><span>avg</span><span>=</span><span>62.20</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>58.87</span>
<span>    </span><span>clat</span><span> </span><span>(</span><span>usec</span><span>)</span><span>:</span><span> </span><span>min</span><span>=</span><span>77</span><span>,</span><span> </span><span>max</span><span>=</span><span>38943</span><span>,</span><span> </span><span>avg</span><span>=</span><span>18504.56</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>3070.53</span>
<span>        </span><span>lat</span><span> </span><span>(</span><span>usec</span><span>)</span><span>:</span><span> </span><span>min</span><span>=</span><span>174</span><span>,</span><span> </span><span>max</span><span>=</span><span>39019</span><span>,</span><span> </span><span>avg</span><span>=</span><span>18567.47</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>3069.47</span>
<span>    </span><span>clat</span><span> </span><span>percentiles</span><span> </span><span>(</span><span>usec</span><span>)</span><span>:</span>
<span>        </span><span>|</span><span>  </span><span>1.00</span><span>th</span><span>=</span><span>[</span><span>10683</span><span>],</span><span>  </span><span>5.00</span><span>th</span><span>=</span><span>[</span><span>12387</span><span>],</span><span> </span><span>10.00</span><span>th</span><span>=</span><span>[</span><span>13566</span><span>],</span><span> </span><span>20.00</span><span>th</span><span>=</span><span>[</span><span>15795</span><span>],</span>
<span>        </span><span>|</span><span> </span><span>30.00</span><span>th</span><span>=</span><span>[</span><span>17695</span><span>],</span><span> </span><span>40.00</span><span>th</span><span>=</span><span>[</span><span>18744</span><span>],</span><span> </span><span>50.00</span><span>th</span><span>=</span><span>[</span><span>19268</span><span>],</span><span> </span><span>60.00</span><span>th</span><span>=</span><span>[</span><span>19792</span><span>],</span>
<span>        </span><span>|</span><span> </span><span>70.00</span><span>th</span><span>=</span><span>[</span><span>20317</span><span>],</span><span> </span><span>80.00</span><span>th</span><span>=</span><span>[</span><span>20841</span><span>],</span><span> </span><span>90.00</span><span>th</span><span>=</span><span>[</span><span>21627</span><span>],</span><span> </span><span>95.00</span><span>th</span><span>=</span><span>[</span><span>22152</span><span>],</span>
<span>        </span><span>|</span><span> </span><span>99.00</span><span>th</span><span>=</span><span>[</span><span>23725</span><span>],</span><span> </span><span>99.50</span><span>th</span><span>=</span><span>[</span><span>24773</span><span>],</span><span> </span><span>99.90</span><span>th</span><span>=</span><span>[</span><span>28967</span><span>],</span><span> </span><span>99.95</span><span>th</span><span>=</span><span>[</span><span>30540</span><span>],</span>
<span>        </span><span>|</span><span> </span><span>99.99</span><span>th</span><span>=</span><span>[</span><span>32900</span><span>]</span>
<span>    </span><span>bw</span><span> </span><span>(</span><span>  </span><span>KiB</span><span>/</span><span>s</span><span>)</span><span>:</span><span> </span><span>min</span><span>=</span><span>732032</span><span>,</span><span> </span><span>max</span><span>=</span><span>1106048</span><span>,</span><span> </span><span>per</span><span>=</span><span>100.00</span><span>%</span><span>,</span><span> </span><span>avg</span><span>=</span><span>855790.94</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>14574.78</span><span>,</span><span> </span><span>samples</span><span>=</span><span>956</span>
<span>    </span><span>iops</span><span>        </span><span>:</span><span> </span><span>min</span><span>=</span><span>11438</span><span>,</span><span> </span><span>max</span><span>=</span><span>17282</span><span>,</span><span> </span><span>avg</span><span>=</span><span>13371.53</span><span>,</span><span> </span><span>stdev</span><span>=</span><span>227.75</span><span>,</span><span> </span><span>samples</span><span>=</span><span>956</span>
<span>    </span><span>lat</span><span> </span><span>(</span><span>usec</span><span>)</span><span>   </span><span>:</span><span> </span><span>4</span><span>=</span><span>0.01</span><span>%</span><span>,</span><span> </span><span>10</span><span>=</span><span>0.01</span><span>%</span><span>,</span><span> </span><span>100</span><span>=</span><span>0.01</span><span>%</span><span>,</span><span> </span><span>250</span><span>=</span><span>4.54</span><span>%</span><span>,</span><span> </span><span>500</span><span>=</span><span>25.33</span><span>%</span>
<span>    </span><span>lat</span><span> </span><span>(</span><span>usec</span><span>)</span><span>   </span><span>:</span><span> </span><span>750</span><span>=</span><span>13.03</span><span>%</span><span>,</span><span> </span><span>1000</span><span>=</span><span>3.80</span><span>%</span>
<span>    </span><span>lat</span><span> </span><span>(</span><span>msec</span><span>)</span><span>   </span><span>:</span><span> </span><span>2</span><span>=</span><span>2.89</span><span>%</span><span>,</span><span> </span><span>4</span><span>=</span><span>0.34</span><span>%</span><span>,</span><span> </span><span>10</span><span>=</span><span>0.27</span><span>%</span><span>,</span><span> </span><span>20</span><span>=</span><span>30.96</span><span>%</span><span>,</span><span> </span><span>50</span><span>=</span><span>18.83</span><span>%</span>
<span>    </span><span>cpu</span><span>          </span><span>:</span><span> </span><span>usr</span><span>=</span><span>6.36</span><span>%</span><span>,</span><span> </span><span>sys</span><span>=</span><span>39.13</span><span>%</span><span>,</span><span> </span><span>ctx</span><span>=</span><span>1889178</span><span>,</span><span> </span><span>majf</span><span>=</span><span>0</span><span>,</span><span> </span><span>minf</span><span>=</span><span>101</span>
<span>    </span><span>IO</span><span> </span><span>depths</span><span>    </span><span>:</span><span> </span><span>1</span><span>=</span><span>0.1</span><span>%</span><span>,</span><span> </span><span>2</span><span>=</span><span>0.1</span><span>%</span><span>,</span><span> </span><span>4</span><span>=</span><span>0.1</span><span>%</span><span>,</span><span> </span><span>8</span><span>=</span><span>0.1</span><span>%</span><span>,</span><span> </span><span>16</span><span>=</span><span>0.1</span><span>%</span><span>,</span><span> </span><span>32</span><span>=</span><span>0.1</span><span>%</span><span>,</span><span> </span><span>&gt;=</span><span>64</span><span>=</span><span>100.0</span><span>%</span>
<span>        </span><span>submit</span><span>    </span><span>:</span><span> </span><span>0</span><span>=</span><span>0.0</span><span>%</span><span>,</span><span> </span><span>4</span><span>=</span><span>100.0</span><span>%</span><span>,</span><span> </span><span>8</span><span>=</span><span>0.0</span><span>%</span><span>,</span><span> </span><span>16</span><span>=</span><span>0.0</span><span>%</span><span>,</span><span> </span><span>32</span><span>=</span><span>0.0</span><span>%</span><span>,</span><span> </span><span>64</span><span>=</span><span>0.0</span><span>%</span><span>,</span><span> </span><span>&gt;=</span><span>64</span><span>=</span><span>0.0</span><span>%</span>
<span>        </span><span>complete</span><span>  </span><span>:</span><span> </span><span>0</span><span>=</span><span>0.0</span><span>%</span><span>,</span><span> </span><span>4</span><span>=</span><span>100.0</span><span>%</span><span>,</span><span> </span><span>8</span><span>=</span><span>0.0</span><span>%</span><span>,</span><span> </span><span>16</span><span>=</span><span>0.0</span><span>%</span><span>,</span><span> </span><span>32</span><span>=</span><span>0.0</span><span>%</span><span>,</span><span> </span><span>64</span><span>=</span><span>0.1</span><span>%</span><span>,</span><span> </span><span>&gt;=</span><span>64</span><span>=</span><span>0.0</span><span>%</span>
<span>        </span><span>issued</span><span> </span><span>rwts</span><span>:</span><span> </span><span>total</span><span>=</span><span>1602601</span><span>,</span><span>1602691</span><span>,</span><span>0</span><span>,</span><span>0</span><span> </span><span>short</span><span>=</span><span>0</span><span>,</span><span>0</span><span>,</span><span>0</span><span>,</span><span>0</span><span> </span><span>dropped</span><span>=</span><span>0</span><span>,</span><span>0</span><span>,</span><span>0</span><span>,</span><span>0</span>
<span>        </span><span>latency</span><span>   </span><span>:</span><span> </span><span>target</span><span>=</span><span>0</span><span>,</span><span> </span><span>window</span><span>=</span><span>0</span><span>,</span><span> </span><span>percentile</span><span>=</span><span>100.00</span><span>%</span><span>,</span><span> </span><span>depth</span><span>=</span><span>64</span>

<span>Run</span><span> </span><span>status</span><span> </span><span>group</span><span> </span><span>0</span><span> </span><span>(</span><span>all</span><span> </span><span>jobs</span><span>)</span><span>:</span>
<span>    </span><span>READ</span><span>:</span><span> </span><span>bw</span><span>=</span><span>835</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>875</span><span>MB</span><span>/</span><span>s</span><span>),</span><span> </span><span>835</span><span>MiB</span><span>/</span><span>s</span><span>-835</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>875</span><span>MB</span><span>/</span><span>s</span><span>-875</span><span>MB</span><span>/</span><span>s</span><span>),</span><span> </span><span>io</span><span>=</span><span>97.8</span><span>GiB</span><span> </span><span>(</span><span>105</span><span>GB</span><span>),</span><span> </span><span>run</span><span>=</span><span>120015-120015</span><span>msec</span>
<span>    </span><span>WRITE</span><span>:</span><span> </span><span>bw</span><span>=</span><span>835</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>875</span><span>MB</span><span>/</span><span>s</span><span>),</span><span> </span><span>835</span><span>MiB</span><span>/</span><span>s</span><span>-835</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>875</span><span>MB</span><span>/</span><span>s</span><span>-875</span><span>MB</span><span>/</span><span>s</span><span>),</span><span> </span><span>io</span><span>=</span><span>97.8</span><span>GiB</span><span> </span><span>(</span><span>105</span><span>GB</span><span>),</span><span> </span><span>run</span><span>=</span><span>120015-120015</span><span>msec</span>
</code></span></pre></div>
<p>This is <em>very</em> good, especially when compared to the <a href="https://taoofmac.com/space/blog/2023/03/11/2000" rel="next">u59</a> mini-PC, which has relatively cheap <code>SATA</code> SSDs:</p>
<div><pre><span><code><span>read</span><span>:</span><span> </span><span>IOPS</span><span>=</span><span>2741</span><span>,</span><span> </span><span>BW</span><span>=</span><span>171</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>180</span><span>MB</span><span>/</span><span>s</span><span>)(</span><span>20.1</span><span>GiB</span><span>/</span><span>120014</span><span>msec</span><span>)</span>
<span>write</span><span>:</span><span> </span><span>IOPS</span><span>=</span><span>2743</span><span>,</span><span> </span><span>BW</span><span>=</span><span>171</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>180</span><span>MB</span><span>/</span><span>s</span><span>)(</span><span>20.1</span><span>GiB</span><span>/</span><span>120014</span><span>msec</span><span>)</span>
</code></span></pre></div>
<p>…and to the <a href="https://taoofmac.com/space/hw/raspberry_pi" rel="next">Raspberry Pi 4</a>, which has a <code>USB 3.0</code> SSD:</p>
<div><pre><span><code><span>read</span><span>:</span><span> </span><span>IOPS</span><span>=</span><span>2001</span><span>,</span><span> </span><span>BW</span><span>=</span><span>125</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>131</span><span>MB</span><span>/</span><span>s</span><span>)(</span><span>14.7</span><span>GiB</span><span>/</span><span>120015</span><span>msec</span><span>)</span>
<span>write</span><span>:</span><span> </span><span>IOPS</span><span>=</span><span>2003</span><span>,</span><span> </span><span>BW</span><span>=</span><span>125</span><span>MiB</span><span>/</span><span>s</span><span> </span><span>(</span><span>131</span><span>MB</span><span>/</span><span>s</span><span>)(</span><span>14.7</span><span>GiB</span><span>/</span><span>120015</span><span>msec</span><span>)</span>
</code></span></pre></div>
<p>I found the <a href="https://taoofmac.com/space/blog/2023/03/11/2000" rel="next">u59</a> results weird, so I ran the same test on my Intel i7-6700 (which also has <code>SATA</code> SSDs) and got a wider sample:</p>
<table>
<thead>
<tr>
<th>Machine</th>
<th>IOPS (64K random read)</th>
<th>IOPS (64K random write)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intel N5105 (SATA SSD)</td>
<td>2741</td>
<td>2743</td>
</tr>
<tr>
<td>Intel i7-6700 (SATA SSD 1)</td>
<td>2280</td>
<td>2280</td>
</tr>
<tr>
<td>Intel i7-6700 (SATA SSD 2)</td>
<td>2328</td>
<td>2329</td>
</tr>
<tr>
<td>Orange Pi 5+ (NVMe SSD)</td>
<td>13371.99</td>
<td>13371.53</td>
</tr>
<tr>
<td>Raspberry Pi 4 (USB 3.0 SSD)</td>
<td>2001</td>
<td>2003</td>
</tr>
</tbody>
</table>
<p>I’m a bit curious as to how a Raspberry Pi 5 would fare in this kind of testing (although I’d have to get one <em>and</em> an <code>NVMe</code> HAT, which would need to be factored in cost-wise), but I strongly suspect the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> would still be faster.</p>
<blockquote>
<p><strong>Note:</strong> I got some pushback <a href="https://news.ycombinator.com/item?id=39070730" rel="external">on HN</a> that I should have used <code>NVMe</code> drives on the Intel machines for comparison. My point here is that a) I tested with what I have (and I only added the i7 because I found the u59 results strange), and b) the u59 is within the general ballpark of the Orange Pi 5+ price-wise (as would likely be the i7-6700 second-hand, really), and mine shipped with <code>SATA</code> SSDs. I’m not trying to compare apples to oranges here, just trying to get a feel for how the Orange Pi 5+ compares to other machines I have lying around. Otherwise I’d go and benchmark it against my M2/M3 Macs or <a href="https://taoofmac.com/space/blog/2023/02/18/1845" rel="next">my i7 13th gen</a>, which would be a bit silly.</p>
</blockquote>
<a id="anchor-ollama-cpu-performance" href="https://taoofmac.com/space/blog/2024/01/20/1800#ollama-cpu-performance" rel="anchor"><h3 id="ollama-cpu-performance">Ollama CPU Performance</h3></a><p>This is where things get interesting, because the <code>RK3588</code> has two sets of 4 cores and a lot of nominal horsepower, but I don’t plan on using it for conventional workloads, and most benchmarks are artificial anyway.</p>
<p>So I decided to run a few things that are more in line with what I do on a daily basis, and that I know are either CPU-bound or heavily dependent on overall system performance.</p>
<p>As it happens, <a href="https://ollama.ai/" rel="external">Ollama</a> is a great benchmark for what I have in mind:</p>
<ul>
<li>It is a “modern” real-world workload</li>
<li>It is very compute intensive (both in terms of math operations and general data processing)</li>
<li>It does not require I/O (the <code>NVMe</code> puts the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> at an unfair advantage)</li>
<li>Tokens per second (averaged over several runs) is largely irrespective of the kind of question you ask (although it is very much model-dependent)</li>
</ul>
<p>However, I had to work around the memory constraints of the 4GB board again.</p>
<p>Since none of the “normal” models would fit, I had try and use smaller models for comparable results (the Raspberry Pi 4 I’m using has 8GB of RAM, and that’s enough to run quite a few more).</p>
<p><a href="https://ollama.ai/library/tinyllama" rel="external"><code>tinyllama</code></a> is a good baseline, but I also tried <a href="https://ollama.ai/library/dolphin-phi" rel="external"><code>dolphin-phi</code></a> because it is closer to the kind of models I work with.</p>
<p>I again had to resort to my <code>i7-6700</code>@3.4GHz for comparison because the <a href="https://taoofmac.com/space/blog/2023/03/11/2000" rel="next">u59</a>‘s <code>N5105</code> CPU <a href="https://github.com/jmorganca/ollama/issues/644" rel="external">does not support all the required <code>AVX</code>/<code>AVX2</code> instructions</a>, but the results were pretty interesting nonetheless.</p>
<p>For each model, I ran the following prompt ten times<sup id="fnref:2"><a href="https://taoofmac.com/space/blog/2024/01/20/1800#fn:2" rel="anchor">2</a></sup>:</p>
<div><pre><span><code><span>for</span><span> </span>run<span> </span><span>in</span><span> </span><span>{</span><span>1</span>..10<span>}</span><span>;</span><span> </span><span>do</span><span> </span><span>echo</span><span> </span><span>"Why is the sky blue?"</span><span> </span><span>|</span><span> </span>ollama<span> </span>run<span> </span>tinyllama<span> </span>--verbose<span> </span><span>2</span>&gt;<span>&amp;</span><span>1</span><span> </span>&gt;/dev/null<span> </span><span>|</span><span> </span>grep<span> </span><span>"eval rate:"</span><span>;</span><span> </span><span>done</span>
</code></span></pre></div>
<p>Looking solely at the <code>eval rate</code> (which is what matters for gauging the LLM performance speed-wise), I got these figures:</p>
<table>
<thead>
<tr>
<th>Machine</th>
<th>Model</th>
<th>Eval Tokens/s</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="2">Intel i7-6700</td>
<td>dolphin-phi</td>
<td>7.57</td>
</tr>
<tr>
<td>tinyllama</td>
<td>16.61</td>
</tr>
<tr>
<td rowspan="2">Orange Pi 5+</td>
<td>dolphin-phi</td>
<td>4.65</td>
</tr>
<tr>
<td>tinyllama</td>
<td>11.3</td>
</tr>
<tr>
<td rowspan="2">Raspberry Pi 4</td>
<td>dolphin-phi</td>
<td>1.51</td>
</tr>
<tr>
<td>tinyllama</td>
<td>3.77</td>
</tr>
</tbody>
</table>
<p>Keeping in mind that the <code>i7</code> runs at nearly <em>six times</em> the wattage, this is pretty good<sup id="fnref:3"><a href="https://taoofmac.com/space/blog/2024/01/20/1800#fn:3" rel="anchor">3</a></sup>, and the key point here is that the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> generated the output at a usable pace–slower than what you’d get online from ChatGPT, but still fast enough that it is close to “reading speed”–whereas the Raspberry Pi 4 was too slow to be usable.</p>
<p>This also means I could probably (if I could find a suitable model that fit into 4GB RAM) use the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> as a back-end for a “smart speaker” for my home automation setup (and I will probably try that in the future).</p>
<h3 id="onnxstream-combined-cpu-and-io-performance"><a href="https://github.com/vitoplantamura/OnnxStream" rel="external">OnnxStream</a> Combined CPU and I/O Performance</h3>
<p>Next up I decided to try <a href="https://github.com/vitoplantamura/OnnxStream" rel="external">OnnxStream</a>, which made the rounds a while back for allowing people to run <a href="https://taoofmac.com/space/blog/2022/09/03/1400" rel="next">Stable Diffusion</a> on a Raspberry Pi… Zero.</p>
<p>As it turns out, it is a very interesting project, not just because it uses <code>ONNX</code> but also because it can run inference pretty much directly from storage (which is feasible for Stable Diffusion because it’s essentially scanning through the model “once” rather than doing multiple passes over various layers, which is what LLMs end up doing).</p>
<p>This is closer to the kind of workload I’m interested in, and even though it requires a lot of I/O (in which the <code>NVME</code> does give the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> an unfair advantage), it is still a good test of the CPU’s ability to run inference.</p>
<p>So I built <a href="https://github.com/vitoplantamura/OnnxStream" rel="external">OnnxStream</a> from source on my test machines (except the <a href="https://taoofmac.com/space/blog/2023/03/11/2000" rel="next">u59</a>, because <code>XNNPACK</code> really likes advanced instruction sets as well), downloaded the Stable Diffusion XL Turbo model, and ran the following command:</p>
<div><pre><span><code><span># time OnnxStream/src/build/sd --xl --turbo --rpi --models-path stable-diffusion-xl-turbo-1.0-onnxstream --steps 1 --seed 42</span>
----------------<span>[</span>start<span>]</span>------------------
positive_prompt:<span> </span>a<span> </span>photo<span> </span>of<span> </span>an<span> </span>astronaut<span> </span>riding<span> </span>a<span> </span>horse<span> </span>on<span> </span>mars
SDXL<span> </span>turbo<span> </span>doesn<span>'</span>t<span> </span>support<span> </span>negative_prompts
output_png_path:<span> </span>./result.png
steps:<span> </span><span>1</span>
seed:<span> </span><span>42</span>
...
</code></span></pre></div>
<p>You’ll notice that I only ran one step and that I used the <code>--rpi</code> flag, which <a href="https://github.com/vitoplantamura/OnnxStream/blob/master/src/sd.cpp#906" rel="external">turns off <code>fp16</code> arithmetic and splits attention</a> to make it run faster on the Raspberry Pi.</p>
<p>I also ran <code>iotop</code> to see how much I/O was going on, and during the initial stages of each run I saw a lot of activity (which is to be expected, since the model is being loaded into memory and the first inference steps are being run). </p>
<p>As I expected, the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> was able to sustain a throughput of 200MB/s when loading slices of the model, which is pretty good (the Pi 4 was only able to do about 60MB/s), but the overall run time was still partly CPU-bound, making it a more interesting test.</p>
<p>Since this took a good while to run<sup id="fnref:4"><a href="https://taoofmac.com/space/blog/2024/01/20/1800#fn:4" rel="anchor">4</a></sup> I only did it three times, and averaged the results:</p>
<table>
<thead>
<tr>
<th>Machine</th>
<th>Time</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intel i7-6700</td>
<td>00:07:05</td>
</tr>
<tr>
<td>Orange Pi 5+</td>
<td>00:14:08</td>
</tr>
<tr>
<td>Raspberry Pi 4</td>
<td>00:46:53</td>
</tr>
</tbody>
</table>
<p>Overall, the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> was <em>three times faster</em> than the <a href="https://taoofmac.com/space/hw/raspberry_pi" rel="next">Raspberry Pi 4</a> and half as fast as the Intel i7 under the same conditions, which confirms that with a little more RAM (and likely a little more patience and optimization) the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> could run other kinds of models at a decent clip and with a great power envelope.</p>
<a id="anchor-jellyfin" href="https://taoofmac.com/space/blog/2024/01/20/1800#jellyfin" rel="anchor"><h2 id="jellyfin">Jellyfin</h2></a><p>After all that, I decided to relocate the board to my server closet for a weekend and try something a bit more mundane–running a media server.</p>
<p>This is something that is of interest to most folk looking at <code>ARM</code> single board computers for home use, so I installed <code>docker</code> and set up a test <a href="https://jellyfin.org/" rel="external">Jellyfin</a> server using my <code>NAS</code> as a backend.</p>
<p>Even though <a href="https://jellyfin.org/" rel="external">Jellyfin</a> does not have any support for hardware transcoding on <code>ARM</code>, the overall experience was pretty good, at least with two simultaneous users–<a href="https://github.com/jellyfin/Swiftfin" rel="external">Swiftfin</a> and the Android TV client both worked snappily, and I was able to stream 4K content directly to both without any issues (again, this board is a bit overkill where it regards throughput).</p>
<p>Forcing transcoding on the server side was a bit more taxing, but I was able to get <code>HEVC</code> to <code>H.264</code> 1080p software transcoding going without any stuttering, and the 8 CPU cores were more than enough to handle the load–but I didn’t try more than two simultaneous streams, and I suspect that would be the limit.</p>
<a id="anchor-parenthesis-gpu-and-npu-support" href="https://taoofmac.com/space/blog/2024/01/20/1800#parenthesis-gpu-and-npu-support" rel="anchor"><h3 id="parenthesis-gpu-and-npu-support">Parenthesis: GPU and NPU support</h3></a><p>At this point it bears noting that even though the <code>RK3588</code> has a <code>Mali-G610 MP4</code> GPU and a Neural Processing Unit, neither of those have the kind of support that, say, Intel QuickSync has for streaming, and that finding <em>anything</em> with support for the <code>NPU</code> was a bit of a challenge–which was another reason for me taking a break from normal benchmarking and trying something more mundane.</p>
<p>I did manage to get <a href="https://www.hackster.io/Mixtile/how-to-change-the-rk-yolov5-demo-to-capture-real-time-camera-d24f38" rel="external">an OpenCV YOLO demo going</a> with a USB webcam, but <code>ARM</code> software is still thin on the ground, and the expertise to improve it as well. In particular, <a href="https://github.com/ggerganov/whisper.cpp/issues/1557" rel="external">this thread</a> taught me a lot about the <code>NPU</code>’s limitations. It isn’t as “wide” as a <code>GPU</code> for the kind of mainstream AI work I’m interested in, so there’s really no way to use it for LLMs or other large models. </p>
<p>But I’m positive I can get <code>whisper.cpp</code> running on it, which I’ll try via <a href="https://github.com/usefulsensors/useful-transformers" rel="external"><code>useful-transformers</code></a> once I have a little more time.</p>
<a id="anchor-running-proxmox-on-the-orange-pi-5" href="https://taoofmac.com/space/blog/2024/01/20/1800#running-proxmox-on-the-orange-pi-5" rel="anchor"><h2 id="running-proxmox-on-the-orange-pi-5">Running Proxmox on the Orange Pi 5+</h2></a><p>Now that I had a good performance baseline, I could move on to the meat of things–testing <a href="https://github.com/jiangcuo/Proxmox-Port" rel="external">Proxmox for ARM</a>. I reset the <code>SPI</code> flash, booted off the <a href="http://armbian.com/" rel="external">Armbian</a> SD card, and re-partitioned the <code>NVMe</code> like this:</p>
<div><pre><span><code>Disk<span> </span>/dev/nvme0n1:<span> </span><span>931</span>.51<span> </span>GiB,<span> </span><span>1000204886016</span><span> </span>bytes,<span> </span><span>1953525168</span><span> </span>sectors
Disk<span> </span>model:<span> </span>WD_BLACK<span> </span>SN770<span> </span>1TB<span>                      </span>
Units:<span> </span>sectors<span> </span>of<span> </span><span>1</span><span> </span>*<span> </span><span>512</span><span> </span><span>=</span><span> </span><span>512</span><span> </span>bytes
Sector<span> </span>size<span> </span><span>(</span>logical/physical<span>)</span>:<span> </span><span>512</span><span> </span>bytes<span> </span>/<span> </span><span>512</span><span> </span>bytes
I/O<span> </span>size<span> </span><span>(</span>minimum/optimal<span>)</span>:<span> </span><span>512</span><span> </span>bytes<span> </span>/<span> </span><span>512</span><span> </span>bytes
Disklabel<span> </span>type:<span> </span>dos
Disk<span> </span>identifier:<span> </span>0x1fbc6f29

Device<span>         </span>Boot<span>     </span>Start<span>        </span>End<span>    </span>Sectors<span>   </span>Size<span> </span>Id<span> </span>Type
/dev/nvme0n1p1<span>           </span><span>2048</span><span>  </span><span>134219775</span><span>  </span><span>134217728</span><span>    </span>64G<span> </span><span>83</span><span> </span>Linux
/dev/nvme0n1p2<span>      </span><span>134219776</span><span>  </span><span>142032895</span><span>    </span><span>7813120</span><span>   </span><span>3</span>.7G<span> </span><span>82</span><span> </span>Linux<span> </span>swap<span> </span>/<span> </span>Solaris
/dev/nvme0n1p3<span>      </span><span>142032896</span><span> </span><span>1953525167</span><span> </span><span>1811492272</span><span> </span><span>863</span>.8G<span> </span>8e<span> </span>Linux<span> </span>LVM
</code></span></pre></div>
<p>Again to compensate for the limited 4GB RAM on my board, I enabled <code>swap</code> for the extra partition I created and set up <code>LVM</code> on the rest of the disk.</p>
<p>From then on, installing <a href="https://taoofmac.com/space/os/linux/distributions/proxmox" rel="next">Proxmox</a> was just a matter of following <a href="https://github.com/jiangcuo/Proxmox-Port/wiki/Install-Proxmox-VE-on-Debian-bookworm" rel="external">the wiki instructions</a>, making sure the <code>LVM</code> arrangement was correct (you need to create the <code>pve</code> volume group, etc.) and joining it to my cluster:</p>
<figure>
<img src="https://taoofmac.com/media/blog/2024/01/20/1800/cwH4gn_gIIWpR5eNC8cHh0XbuJM=/console.jpg" title="ooh, colorful" width="2048" height="1213">
<figcaption>Mostly just worked, really</figcaption>
</figure>
<p>All the basics worked (other than device management, which I’ll come to in a second, it worked just as well as my other servers), and besides cloning some of the <code>ARM</code> containers I had already on my Pi I was able to set up a few new containers and VMs without any issues–although, again, the 4GB RAM was a little limiting when using VMs, so I mostly stuck to <code>LXC</code> containers.</p>
<a id="anchor-running-windows-11-arm-on-the-rk3588" href="https://taoofmac.com/space/blog/2024/01/20/1800#running-windows-11-arm-on-the-rk3588" rel="anchor"><h3 id="running-windows-11-arm-on-the-rk3588">Running Windows 11 ARM on the RK3588</h3></a><p>One thing that I absolutely wanted to test was getting Windows 11 ARM to run, since <a href="https://taoofmac.com/space/notes/2023/12/31/1545" rel="next">the Raspberry Pi 4 had some trouble</a>. It was a lot smoother (and faster) to do a fresh install on the <code>RK3588</code>, although I did have to limit the VM to 3GB RAM:</p>
<figure>
<img src="https://taoofmac.com/media/blog/2024/01/20/1800/CBUkQx2a9k7kaPU6U5wTUCj7cbU=/windows.jpg" title="after setting the clock properly" width="2048" height="1213">
<figcaption>It works a lot better with the right clock, too</figcaption>
</figure>
<p>An interesting quirk I noticed with the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> is that the emulated real-time clock was off by a couple of centuries<sup id="fnref:5"><a href="https://taoofmac.com/space/blog/2024/01/20/1800#fn:5" rel="anchor">5</a></sup>, which causes no end of trouble–CPU usage went through the roof as Windows services tripped over themselves to check certificates and other things, and the VM was very sluggish.</p>
<p>But once I set it to the correct date and time, everything worked fine and was very usable even when logging in via Remote Desktop. And, of course, the Intel emulation worked fine–I installed XMind, and it held its own even when bumping the remote window to full screen on my large displays.</p>
<a id="anchor-device-passthrough" href="https://taoofmac.com/space/blog/2024/01/20/1800#device-passthrough" rel="anchor"><h3 id="device-passthrough">Device Passthrough</h3></a><p>Thanks to the magic of <a href="https://taoofmac.com/space/os/linux/distributions/proxmox" rel="next">Proxmox</a>, migrating the Windows VM to my <a href="https://taoofmac.com/space/hw/raspberry_pi" rel="next">Raspberry Pi 4</a> and back was an automatic process, as was cloning my <a href="https://www.portainer.io/" rel="external">Portainer</a> setup from the Pi and running it on the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a>.</p>
<p>I couldn’t get <code>PCI</code> passthrough to work, though–which makes sense since Proxmox isn’t really ARM-aware right now, and I suspect that both the shipped <code>QEMU</code> version and the 5.10 kernel don’t have the necessary bits to make <code>VFIO</code> work (I’ve lost track of the kernel work for that sometime last year, and haven’t been able to find good updates).</p>
<p>So passing through network cards to a virtual router like <a href="https://ipfire.org/" rel="external">IPFire</a> is out of the question for now, although I suspect I can finagle a way to do it with the Proxmox <code>SDN</code> settings (or perhaps an USB adapter).</p>
<a id="anchor-conclusion" href="https://taoofmac.com/space/blog/2024/01/20/1800#conclusion" rel="anchor"><h2 id="conclusion">Conclusion</h2></a><p>With an <code>NVMe</code> drive, the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> is a little beast of a machine, and extremely good bang for the watt–besides my very specific interests, it is a very capable board that can be used for a lot of things, and I think a 16GB unit (let alone the new 32GB version) would be more than good enough to be a quiet, low-consumption (yet pretty powerful) homelab server.</p>
<p>And that applies even without <a href="https://taoofmac.com/space/os/linux/distributions/proxmox" rel="next">Proxmox</a>–all you’d need is <a href="https://www.portainer.io/" rel="external">Portainer</a> and a few containers, although of course you’d have to be mindful that <code>ARM</code> support for some things is still a bit spotty.</p>
<p>Given that I have been running a few VMs and a bunch of development containers on a <a href="https://taoofmac.com/space/hw/raspberry_pi" rel="next">Rasbperry Pi 4</a> for a while now, I’m certain the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> is able to handle the same workload with margin to spare (except for the 4GB RAM, of course). And it is a lot more flexible in terms of I/O and display options, although I do think a <code>SATA</code> port (or two) would be a nice addition.</p>
<p>As a thin client, it is also pretty good–just as capable as the <a href="https://taoofmac.com/space/blog/2023/03/11/2000" rel="next">u59</a> was, but with less power consumption and an equivalent set of I/O options with full-size display connectors (which is a plus for me).</p>
<p>And speaking of the <a href="https://taoofmac.com/space/blog/2023/03/11/2000" rel="next">u59</a>, I was a bit surprised that I wasn’t able to run <a href="https://ollama.ai/" rel="external">Ollama</a> on it (the lack of <code>AVX</code>/<code>AVX2</code> support caught me by surprise), and it makes me wonder how much better Intel’s new <code>N100</code> CPU would be–and how the scales would tip versus <code>ARM</code> CPUs.</p>
<p>Regardless, I expect to migrate my home automation setup to the <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5-plus.html" rel="external">Orange Pi 5+</a> in the future (once I’ve tried using it as a voice assistant and played with the <code>HDMI</code> input, which will require a side quest into setting up Android), and I’m looking forward to see if kernel 6.x support improves things further.</p>
<p>It would be so nice to have more RAM, though.</p>

</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Please don't make me use another QR code restaurant menu (193 pts)]]></title>
            <link>https://thewalrus.ca/qr-code-restaurant-menu/</link>
            <guid>39070246</guid>
            <pubDate>Sat, 20 Jan 2024 17:48:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://thewalrus.ca/qr-code-restaurant-menu/">https://thewalrus.ca/qr-code-restaurant-menu/</a>, See on <a href="https://news.ycombinator.com/item?id=39070246">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
		<!-- Ad-Auris -->
		

		<p><span>I</span> <span>recently travelled</span> to Italy, and the first pleasure of every meal there was reading the menu. Phrases like “risotto al nero di seppia, burrata e ricci di mare”— risotto with cuttlefish ink, burrata, and sea urchins—and “paccheri pestati cunzati con gamberi, pistacchi e bisque”—paccheri pasta with crushed seasonings and with shrimp, pistachio, and bisque—felt like a rich prelude to the food itself. On a rooftop patio in Florence, I was handed both the regular menu and a supplementary sheet of paper. I happened to be there during white truffle season, and the sheet of paper listed all of the dishes they made with the delicacy. I sat there, literally under the Tuscan sun, feeling like a character in a book—one that was very unlike my everyday self. </p>

<p>One of the chief pleasures I get from reading is in poring over the descriptions of <a href="https://thewalrus.ca/tag/food/">food</a>. Give me a banquet scene or a dinner party where the wine pairs perfectly with both the entrée and whatever dramatic revelation is about to come, and I am rapt. Battle scenes bore me, but reading a character’s grocery list enchants me. Maybe that’s why I love restaurant menus so much—a well-written one can feel like a piece of literature in and of itself. </p>
<p>Part of the magic of those Italian meals was not just in reading the menus but in encountering them as physical objects, feeling their weight in my hands and touching the grain of their paper. There was a world of difference from the last menu I’d encountered in North America, which had to be accessed via QR code. That meal had been at a nice restaurant, with flowers on every table and friendly service, but having to begin my meal by squinting at a smudgy screen did somewhat take away from the experience. </p>

<p>QR codes, or quick response codes, aren’t new—they’ve been around since 1994, though they weren’t initially widely adopted outside of Asia. During the pandemic, their ability to offer contact-free interactions led to a rise in their use in the rest of the world, including at restaurants. But even as more and more restrictions were dropped, many of the QR code menus stayed. Hospitality Technology’s <a href="https://hospitalitytech.com/2022-restaurant-technology-study" rel="noopener" target="_blank">2022 Restaurant Technology Study</a> reported that 66 percent of restaurants in the US used QR code menus, and 19 percent of restaurants planned on adding them. The stats for Canadian restaurants are similar, according to the <em>Toronto Star</em>, which <a href="https://www.thestar.com/business/pandemic-gives-qr-codes-a-second-wind-in-the-food-industry/article_c6a56065-81e1-582d-8f53-1755d6ea54d7.html" rel="noopener" target="_blank">pointed</a> to a Dalhousie University survey that indicated three out of every five Canadians used QR codes at restaurants or grocery stores in August 2021.</p>
<p>My complaints with QR code menus are minor but many. I love the communal aspect of dining out with friends or family, and I hate the way that QR code menus take me out of the shared moment and force me to look at my phone (which, of course, leads me down the rabbit hole of checking my various notifications). I hate the way QR code menus mean scrolling, pinching to adjust size, and sometimes juggling between multiple tabs instead of just having to glance over a page or two. </p>

<p>There are larger issues too: websites with menus on them can track consumer behaviour, one more tiny erosion of our everyday privacy. QR code menus also mean that people need access to a smart phone or some other kind of device and, if they do have one, that they possess a certain level of tech savviness, which excludes some potential patrons.      And as Bloomberg <a href="https://www.bloomberg.com/news/features/2021-06-18/did-the-pandemic-kill-off-the-restaurant-menu" rel="noopener" target="_blank">reported in 2021</a>, technology that promotes contactless dining has already been linked to job losses in the service industry.</p>
<p>I’m not alone in my dislike of QR codes. In 2022, Conor Friedersdorf wrote an <a href="https://www.theatlantic.com/ideas/archive/2022/10/qr-code-menus-restaurants-pandemic/671888/" rel="noopener" target="_blank">impassioned polemic</a> against them for <em>The Atlantic</em>, and in 2023, the <em>New York Times</em> published an article on their <a href="https://www.nytimes.com/2023/05/22/dining/restaurant-qr-code-menu.html" rel="noopener" target="_blank">alleged demise</a>, full of quotes from people who loathe them. Even a brief search for the term “QR code menu” on X (formerly known as Twitter) will show you how deeply unpopular they are—one of my favourites, from user @mlokeshceo, simply says, “Menu &gt; QR code.” Succinct and true!</p>
<p>Physical menus are more than just aesthetically pleasing; they can also serve as important historical documents. The New York Public Library has approximately 45,000 menus dating from the 1840s, a collection that they’re in the process of digitizing through their “<a href="https://menus.nypl.org/" rel="noopener" target="_blank">What’s on the menu?</a>” project, and it’s amazing how much can be gleaned from those documents. The first and most obvious piece of information is what people were eating in a particular time and place—along with how much (or little) they paid for it. One of the menus in the NYPL’s collection is from Mart Ackerman’s Saloon in Toronto, where, back in 1856, diners could get a porterhouse steak with a choice of sides for $0.50—about $12 in today’s terms—accompanied by a glass of Siberian cobbler, ladies’ fancy punch, or a cocktail simply called the eye opener, all priced $0.13—$1.50 today—or under. But there’s so much more that can be learned from these menus beyond just items and prices.</p>
<p>“I think the menus are really important because they’re archival traces of what people are eating, or what people are purchasing, or have the opportunity to purchase,” says writer and cultural historian L. Sasha Gora. “They tell so many different histories. These can be environmental histories—so, really thinking about how certain ingredients disappear, or reappear, or appear to begin with.”</p>
<p>Gora leads a research group at the University of Augsburg dedicated to the culinary environmental humanities. Among other themes, the group has explored the idea of culinary extinction—namely, what happens when the animals and plants used for a popular food go extinct because we have eaten them out of existence? Take the passenger pigeon, for example, which died out in the early twentieth century thanks to overhunting. As it was going nearly extinct, you would think it would be disappearing from restaurant menus too. And yet, as passenger pigeon numbers rapidly declined, passenger pigeon pie was still on the menu, according to Gora, at the storied Delmonico’s Restaurant in New York City. Gora says it’s possible that the pie really did contain passenger pigeon meat, but it’s also possible that it was the meat of some other, more common pigeon. Either way, the menu gave customers a perception of abundance even as their appetites decimated the ecology around them.</p>

<p>Menus can also give us insight into attitudes toward gender. One fascinating example from history is the so-called “ladies’ menu”—a menu printed without prices so that women wouldn’t know how much their dates were spending on them (the practice mostly disappeared after a California woman threatened a restaurant with a discrimination lawsuit). Gora has an example relating to gender and menus from her own life too. In an essay titled “<a href="https://ecampusontario.pressbooks.pub/foodstudies/chapter/reading-menus/" rel="noopener" target="_blank">Today’s Special: Reading Menus as Cultural Texts</a>,” she recalls working as a cook at a restaurant that served two versions of the same meal: “The Dirty Brunch” and “The Clean Brunch.” “The Dirty” came with bacon and sausages and, her boss told her, tended to be ordered by men; “The Clean,” by contrast, came with hummus and salad and tended to be ordered by women. </p>
<p>But most of all, menus tell us about things that are ephemeral: foods, yes, but also often the places that serve that food as well. “A restaurant opens, and then it can run for a while, and then it closes, and then there are very few traces left,” says Gora. “So you don’t know what foods were being served, you don’t know how they were being contextualized. But if you have a menu, it actualizes the food, it preserves what was happening in the restaurant.”</p>
<p>I can’t imagine that lunch in Florence would have been quite as thrilling if, instead of holding the leatherbound wine list in my hands and running my finger down the (extensive) inventory of options, the server had directed me toward the QR code for a digital menu. That meal was a moment—with perfect weather, a view of the Ponte Vecchio, and the strongest negroni I’ve ever had the good fortune to come across—and I’m glad that I was able to be fully in it, no screens involved. And if any future historians are wondering, the ravioli with fresh white truffles was worth every penny.</p>
<p><em>Correction, January 19, 2024: An earlier version of this article misspelled Conor Friedersdorf’s last name. The Walrus regrets the error.</em></p>
<!-- AI CONTENT END 1 -->
		<div id="sexy_author_bio_widget-2"><p><a href="https://thewalrus.ca/author/anne-theriault/" target="_top"><img alt="Anne Thériault" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2070%2070'%3E%3C/svg%3E" data-src="https://secure.gravatar.com/avatar/152eaeff97348a962792fd906bf83f22?s=70&amp;d=mm&amp;r=pg" data-srcset="https://secure.gravatar.com/avatar/152eaeff97348a962792fd906bf83f22?s=140&amp;d=mm&amp;r=pg 2x" height="70" width="70"></a></p><p>Anne Thériault is a Toronto-based writer who has contributed to the <em>Guardian</em>, <em>Chatelaine</em>, and <em>Longreads</em>.&nbsp;</p></div>	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Emergency-hired teachers without degrees as effective as licensed educators (132 pts)]]></title>
            <link>https://www.the74million.org/article/emergency-hired-teachers-do-just-as-well-as-those-who-go-through-normal-training/</link>
            <guid>39068217</guid>
            <pubDate>Sat, 20 Jan 2024 15:03:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.the74million.org/article/emergency-hired-teachers-do-just-as-well-as-those-who-go-through-normal-training/">https://www.the74million.org/article/emergency-hired-teachers-do-just-as-well-as-those-who-go-through-normal-training/</a>, See on <a href="https://news.ycombinator.com/item?id=39068217">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                    <!--Header Call to Action Content-->
                                            <p><span><p><em>Support The 74's year-end campaign. </em><a href="https://the74.fundjournalism.org/donate/?campaign=701EY0000009oWlYAI"><strong>Make a tax-exempt donation now.</strong></a></p></span></p><p>When K-12 schools closed their doors for in-person instruction in spring 2020, it had a variety of negative effects on students and teachers. It also shut off the training opportunities for future educators.&nbsp;</p>



<p>In response, states instituted a variety of short-term waivers allowing candidates to teach without fulfilling their normal requirements. Those policies helped candidates who would have otherwise been prevented from teaching, while aiding school leaders in filling open positions.</p>



<p>Were teachers worse for this lack of training?&nbsp;</p>







<p>New research from <a href="https://www.wbur.org/news/2023/11/15/report-massachusetts-teachers-emergency-license-quality?utm_source=twitter&amp;utm_campaign=wheelock_social">Massachusetts</a> and <a href="https://caldercenter.org/sites/default/files/CALDER%20WP%20286-0623.pdf">New Jersey</a> suggests maybe not. In both states, teachers who entered the profession without completing the full requirements performed no worse than their normally trained peers.</p>



<p>Starting June 2020, Massachusetts began temporarily letting anyone with a bachelor’s degree teach. According to <a href="https://wheelockpolicycenter.org/wp-content/uploads/2023/04/Emergency-License-Y1-Report.pdf">data compiled</a> by a team of researchers at Boston University, roughly 5,800 individuals received one of these emergency licenses.&nbsp;</p>



<p>Like other first-year teachers, those granted emergency credentials were disproportionately assigned to work with children with disabilities, English learners and low-income students. And, in fact, they had more such children in their classrooms. Even so, their students saw <a href="https://wheelockpolicycenter.org/wp-content/uploads/2023/11/Emergency-License-Y2-Report.pdf">about the same rate of growth</a> in math and reading as children taught by regularly licensed educators. Because most did not teach tested grades and subjects, the researchers also looked at evaluation ratings. Both groups of teachers received similar marks from their supervisors.</p>



<p>When the Boston University team asked principals and administrators why they hired emergency-certified teachers, they reported using them to fill shortage areas, especially in special education.&nbsp;</p>



<p>The teachers working under these licenses also helped diversify the state’s classrooms, as they were about twice as likely as other beginning educators to be Black, Hispanic or Asian.</p>



<p>New Jersey’s waiver policy was similar. Candidates could earn a temporary credential before passing the normal licensure exams or completing a teacher preparation program. The licenses were good for one year, at which point candidates would need to go back, pass the tests and complete their training. Still, <a href="https://caldercenter.org/sites/default/files/CALDER%20WP%20286-0623.pdf">researchers Ben Backes and Dan Goldhaber</a> found similar outcomes as in Massachusetts: Teachers without the normal training and testing were at least as effective in reading and math as other novices.&nbsp;</p>



<p>One preliminary explanation from the New Jersey study was that the emergency licensed teachers were working in schools that had a record of helping students make strong academic gains. It’s possible that the schools had supports in place, such as teacher coaching, a strong curriculum or something else that compensated for less training.&nbsp;</p>



<p>Another recent study, out of Oakland, California, backs up this theory. Parents with high school diplomas who were given 10 weeks of training on a structured literacy program <a href="https://www.the74million.org/article/oakland-study-finds-parents-as-effective-as-teachers-in-tutoring-young-readers/">helped students produce</a> strong early literacy gains, roughly on par with those made under fully credentialed teachers.&nbsp;</p>







<p>The better question now is why these temporary waivers aren’t being made permanent. The New Jersey policy <a href="https://www.nj.gov/education/covid19/teacherresources/instructionalCEtemp.shtml">expired</a> after one year, and Massachusetts is trying to <a href="https://www.doe.mass.edu/licensure/emergency/">phase</a> its version out this year. But with such promising results, policymakers might want to reconsider.&nbsp;&nbsp;</p>



<p>The results are, in fact,&nbsp;part of a pendulum swing in teacher preparation. A decade ago, states were trying to raise the bar. The supply of <a href="https://www.educationnext.org/why-are-fewer-people-becoming-teachers/">new educators</a> had risen steadily throughout the 1990s and 2000s, and there was a regular <a href="https://caldercenter.org/sites/default/files/CALDER%20Policy%20Brief%203-1116-1.pdf">surplus</a> of teacher candidates. There were regional and subject-area shortages, of course, but in general, school districts could be choosy about whom they hired.&nbsp;</p>



<p>Given this backdrop, policymakers of all stripes came together to focus on quality over quantity.&nbsp;</p>



<p>National leaders like then-Secretary of Education <a href="https://www.tc.columbia.edu/articles/2009/october/arne-duncan-full-transcript/">Arne Duncan</a> and American Federation of Teachers President <a href="https://news.yahoo.com/union-calls-teacher-certification-exam-143329056.html">Randi Weingarten</a> pushed for higher barriers to entering the profession. At the same time, the national accrediting bodies charged with overseeing teacher preparation programs pushed <a href="https://www.edweek.org/policy-politics/merged-ncate-likely-to-raise-teacher-entry-bar/2011/12">new standards</a> of quality. And states adopted tougher licensing exams.&nbsp;</p>



<p>Did these policies work? That’s a mixed bag at best.&nbsp;</p>



<p>There’s some evidence that teacher licensure tests are <a href="https://caldercenter.org/publications/evaluating-prospective-teachers-testing-predictive-validity-edtpa-update">mildly accurate</a> <a href="https://caldercenter.org/publications/teacher-licensure-tests-barrier-or-predictive-tool">predictors</a> of who will be a good educator. All else equal, a school would be better off selecting candidates with a higher test score, especially if they’re going to be teaching math or science. But that general rule would <a href="https://www.educationnext.org/what-does-it-mean-to-raise-the-bar-for-entry-into-the-teaching-profession/">mischaracterize</a> a lot of teachers — some test well but don’t have great classroom management or interpersonal skills, while others may not test well but are effective at working with children.&nbsp;</p>



<p>What’s undoubtedly true is that making it harder to become a teacher reduced the supply. Researchers found that the adoption of <a href="https://www.edworkingpapers.com/sites/default/files/ai21-440.pdf">a new teacher licensure test called the edTPA</a> reduced the supply by 14%, disproportionately hitting minority candidates in less selective or minority-concentrated universities. Another new <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4644356">working paper</a> finds that in 21 states and D.C., shifting to the Praxis Core as their licensure test in 2013-14 led to a 12.5% decrease in teacher preparation completions.</p>



<p>In other words, making it harder to become a teacher will reduce the supply but offers <a href="https://files.eric.ed.gov/fulltext/ED567813.pdf">no guarantee</a> that those who meet the bar will actually be effective in the classroom. The recent COVID-related waivers should cause policymakers to re-evaluate whether barriers into the teaching profession actually serve a meaningful purpose, or if they’re keeping potentially talented educators out of the classroom.&nbsp;</p>
                    <!--Footer Call to Action Content-->
                                            <p><span><p><em>Support The 74's year-end campaign. </em><a href="https://the74.fundjournalism.org/donate/?campaign=701EY0000009oWlYAI"><strong>Make a tax-exempt donation now.</strong></a></p></span>
                                    </p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ubisoft Says Out Loud: We Want People to Get Used to Not Owning What They Bought (366 pts)]]></title>
            <link>https://www.techdirt.com/2024/01/19/ubisoft-says-it-out-loud-we-want-people-to-get-used-to-not-owning-what-theyve-bought/</link>
            <guid>39067974</guid>
            <pubDate>Sat, 20 Jan 2024 14:41:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.techdirt.com/2024/01/19/ubisoft-says-it-out-loud-we-want-people-to-get-used-to-not-owning-what-theyve-bought/">https://www.techdirt.com/2024/01/19/ubisoft-says-it-out-loud-we-want-people-to-get-used-to-not-owning-what-theyve-bought/</a>, See on <a href="https://news.ycombinator.com/item?id=39067974">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="storywrap-430437">


<h3>from the <i>assasin's-plea</i> dept</h3>

<p>We’ve done a metric ton of posts here over the years pointing out one unfortunate trend that has come along with the move from physical products to digital purchases: you don’t own what you’ve bought. In some cases, it’s you don’t own what you <em>think</em> you’ve bought, because nobody actually reads EULAs and all the documentation that comes with buying things online these days, and often buried in all of that is where the language about how things are licensed, rather than owned, are. Still, the fact is that the public too often doesn’t understand how it happens that products stop working the way they did <a href="https://www.techdirt.com/2015/01/29/you-dont-own-what-you-bought-drone-maker-updates-firmware-all-drones-to-stop-any-flights-dc/">after updates</a> are performed remotely, or why movies <a href="https://www.techdirt.com/2018/09/12/you-dont-own-what-youve-bought-apple-disappears-purchased-movies/">purchased through</a> an online store <a href="https://www.techdirt.com/2022/07/11/you-dont-own-what-youve-bought-sony-removes-100s-of-movies-bought-through-ps-store/">suddenly disappear</a> with no refund, or why other media types purchased online likewise <a href="https://www.techdirt.com/2023/12/05/you-still-dont-own-what-you-bought-purchased-tv-shows-from-ps-store-go-bye-bye/">go poof</a>. There is a severe misalignment, in other words, between what consumers think their money is being spent on and what is actually being purchased.</p>
<p>And I’ll admit at the onset of this that I think a huge part of the problem is how coy companies selling these goods, digital or otherwise, tend to be about all of this. They’ll often <em>respond</em> when the public gets pissed to explain the why behind all of these altered or disappeared purchases, but the proactive communication is all buried in verbiage nobody reads. And so to that end, I suppose it’s at least a bit refreshing to see Ubisoft come out here and <a href="https://kotaku.com/ubisoft-prince-of-persia-the-lost-crown-subscription-1851167602">just say the quiet part out loud</a>.</p>
<blockquote>
<p><em>With the pre-release of&nbsp;Prince of Persia: The Lost Crown&nbsp;started, Ubisoft has chosen this week to rebrand its Ubisoft+ subscription services, and introduce a PC version of the “Classics” tier at a lower price. And a big part of this, says the publisher’s director of subscriptions, Philippe Tremblay, is getting players “comfortable” with not owning their games.</em></p>
<p><em>He claims the company’s subscription service had its biggest ever month October 2023, and that the service has had “millions” of subscribers, and “over half a billion hours” played. Of course, a lot of this could be a result of Ubisoft’s various moments of refusing to release games to Steam, forcing PC players to use its services, and likely opting for a month’s subscription rather than the full price of the game they were looking to buy. But still, clearly people are opting to use it.</em></p>
</blockquote>
<p>On the one hand, there are realms where it makes sense for a subscription based gaming service where you pay a monthly fee for access and essentially never buy a game. Xbox’s Game Pass, for instance, makes all the sense in the world for some people. If you’re a more casual gamer who doesn’t want to own a library of games, but rather merely wants to be able to play a broad swath of titles at a moment’s notice, a service like that is perfect.</p>
<p>But Game Pass is $10 a month and includes titles from all kinds of publishers. Ubisoft’s service is nearly double that rate and only includes Ubisoft titles. That’s a much tougher sell. And a tougher sell still might be pitching to the wider public that they’re thinking about game ownership all wrong, especially when you can’t even get the verbiage right.</p>
<blockquote>
<p><em>What’s more chilling about all this, however, is when Tremblay moves on to how Ubisoft wishes to see a “consumer shift,” similar to that of the market for CDs and DVDs, where people have moved over to Spotify and Netflix, instead of buying physical media to keep on their own shelves. Given that most people, while being a part of the problem (hello), also think of this&nbsp;as a problem, it’s so weird to see it phrased as if some faulty thinking in the company’s audience.</em></p>
<p>“<em>One of the things we saw is that gamers are used to, a little bit like DVD, having and owning their games. That’s the consumer shift that needs to happen. They got comfortable not owning their CD collection or DVD collection. That’s a transformation that’s been a bit slower to happen [in games]. As gamers grow comfortable in that aspect… you don’t lose your progress. If you resume your game at another time, your progress file is still there. That’s not been deleted. You don’t lose what you’ve built in the game or your engagement with the game.&nbsp;So it’s about feeling comfortable with not owning your game.</em>“</p>
</blockquote>
<p>That last sentence’s thoughts are so misaligned as to be nearly in the realm of nonsense. If it’s <em>my</em> game, then I <em>do</em> own it. The point Ubisoft is trying to make is that the public should get over ownership entirely and accept that it’s <em>not</em> my game at all. It’s my subscription service.</p>
<p>And while I appreciate Ubisoft saying the quiet part out loud for once, I don’t believe for a moment that this will go over well with the general gaming public.</p>
<p>
Filed Under: <a href="https://www.techdirt.com/tag/copyright/" rel="tag">copyright</a>, <a href="https://www.techdirt.com/tag/licenses/" rel="tag">licenses</a>, <a href="https://www.techdirt.com/tag/ownership/" rel="tag">ownership</a>, <a href="https://www.techdirt.com/tag/philippe-tremblay/" rel="tag">philippe tremblay</a>, <a href="https://www.techdirt.com/tag/prince-of-persia/" rel="tag">prince of persia</a>, <a href="https://www.techdirt.com/tag/subscriptions/" rel="tag">subscriptions</a>, <a href="https://www.techdirt.com/tag/video-games/" rel="tag">video games</a>
<br>
Companies: <a href="https://www.techdirt.com/company/ubisoft/" rel="category tag">ubisoft</a>
</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google search is losing the fight with SEO spam, study says (119 pts)]]></title>
            <link>https://arstechnica.com/gadgets/2024/01/google-search-is-losing-the-fight-with-seo-spam-study-says/</link>
            <guid>39067949</guid>
            <pubDate>Sat, 20 Jan 2024 14:38:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/gadgets/2024/01/google-search-is-losing-the-fight-with-seo-spam-study-says/">https://arstechnica.com/gadgets/2024/01/google-search-is-losing-the-fight-with-seo-spam-study-says/</a>, See on <a href="https://news.ycombinator.com/item?id=39067949">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <h4>
      Just wait until more AI sites arrive    —
</h4>
            
            <h2 itemprop="description">Study finds "search engines seem to lose the cat-and-mouse game that is SEO spam."</h2>
                    </div><div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2021/02/Google-Android-800x533.jpg" alt="Google search is losing the fight with SEO spam, study says">
      <figcaption></figcaption>  </figure>

  




<!-- cache hit 123:single/related:48e187bceab44635a6d4d37ae89780ec --><!-- empty -->
<p>It's not just you—Google Search is getting worse. A <a href="https://downloads.webis.de/publications/papers/bevendorff_2024a.pdf">new study</a> from Leipzig University, Bauhaus-University Weimar, and the Center for Scalable Data Analytics and Artificial Intelligence looked at Google search quality for a year and found the company is losing the war against SEO (Search Engine Optimization) spam.</p>
<p>The study, first spotted by <a href="https://www.404media.co/google-search-really-has-gotten-worse-researchers-find/">404media</a>, "monitored Google, Bing and DuckDuckGo for a year on 7,392 product review queries," using queries like "best headphones" to study search results. The focus was on product review queries because the researchers felt those searches were "particularly vulnerable to affiliate marketing due to its inherent conflict of interest between users, search providers, and content providers."</p>
<p>Overall, the study found that "the majority of high-ranking product reviews in the result pages of commercial search engines (SERPs) use affiliate marketing, and significant amounts are outright SEO product review spam." Search engines occasionally update their ranking algorithms to try to combat spam, but the study found that "search engines seem to lose the cat-and-mouse game that is SEO spam" and that there are "strong correlations between search engine rankings and affiliate marketing, as well as a trend toward simplified, repetitive, and potentially AI-generated content."</p>
<p>The study found "an inverse relationship between a page’s optimization level and its perceived expertise, indicating that SEO may hurt at least subjective page quality." Google and its treatment of pages is the primary force behind what does and doesn't count as SEO, and to say Google's guidelines reduce subjective page quality is a strike against Google's entire ranking algorithm.</p>                                            
                                                        
<p>The bad news is that it doesn't seem like this will get better any time soon. The study points out generative AI sites one or two times, but that was only in the past year. The elephant in the room is that generative AI is starting to be able to completely automate the processes of SEO spam. Some AI content farms can scan a human-written site, use it for "training data," rewrite it slightly, and then stave off the actual humans with more aggressive SEO tactics. There are already <a href="https://twitter.com/jakezward/status/1728032634037567509">people bragging</a> about doing AI-powered "<span>SEO heist</span>s" on X (formerly Twitter). The New York Times is <a href="https://arstechnica.com/tech-policy/2023/12/ny-times-sues-open-ai-microsoft-over-copyright-infringement/">taking OpenAI to court</a> for copyright infringement, and a class-action suit for book publishers calls ChatGPT and LLaMA (Large Language Model Meta AI) "<a href="https://arstechnica.com/information-technology/2023/07/book-authors-sue-openai-and-meta-over-text-used-to-train-ai/">industrial-strength plagiarists</a>." Artists are <a href="https://stablediffusionlitigation.com/">in the same boat</a> from tools like Midjourney and Stable Diffusion. Most websites do not have the legal capacity to take on an infinite wave of automated spam sites enabled by these tools. Google's policy is to <a href="https://developers.google.com/search/blog/2023/02/google-search-and-ai-content">not penalize AI-generated content</a> in its search results.</p>
<p>A Google spokesperson responded to the study by pointing out that Google is still doing better than its competition: “This particular study looked narrowly at product review content, and it doesn’t reflect the overall quality and helpfulness of Search for the billions of queries we see every day. We’ve launched specific improvements to address these issues – and the study itself points out that Google has improved over the past year and is performing better than other search engines. More broadly, numerous third parties have measured search engine results for other types of queries and found Google to be of significantly higher quality than the rest.”</p>
<p><em>This post was updated at 6:00PM ET to add a statement from Google. </em></p>

                                                </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Coffeehouse, one-on-one voicechat with random HN users (203 pts)]]></title>
            <link>https://coffeehouse.chat/hn</link>
            <guid>39067496</guid>
            <pubDate>Sat, 20 Jan 2024 13:44:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://coffeehouse.chat/hn">https://coffeehouse.chat/hn</a>, See on <a href="https://news.ycombinator.com/item?id=39067496">Hacker News</a></p>
Couldn't get https://coffeehouse.chat/hn: Error: Request failed with status code 405]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Russia has started indiscriminately blocking all OpenVPN/WireGuard connections (375 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=39067213</link>
            <guid>39067213</guid>
            <pubDate>Sat, 20 Jan 2024 13:01:42 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=39067213">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <tbody><tr id="39067889"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39067889" href="https://news.ycombinator.com/vote?id=39067889&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>Unfortunately, thanks to the Great Firewall of China, there has been a lot of resources put in to fingerprint VPNs and block them by state actors.<p>Fortunately, however, there is equally years of some of the smartest minds on the planet working to bypass Chinese censorship, so there are some great OpenVPN alternatives.</p><p>I really encourage you to look into something like Shadowsocks which Chinese people have found great success in using over the last several years.</p><p>In your case, however, it's worth mentioning that if you can't connect <i>at all</i> then it's likely they've blocked the commercial IPs of the VPN nodes.</p><p>It's quite sad that projects like Streisand[0] were archived, but I'm sure there are other alternatives that might make it just as easy to roll onto a server.</p><p>[0] <a href="https://github.com/StreisandEffect/streisand">https://github.com/StreisandEffect/streisand</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="39068358"><td></td></tr>
            <tr id="39068465"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068465" href="https://news.ycombinator.com/vote?id=39068465&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>What's the current legal risk of using a VPN in China or Russia these days? I found a couple articles about people getting charged, but none I know to be reputable or particularly well written.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="39068519"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_39068519" href="https://news.ycombinator.com/vote?id=39068519&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>China at least, isn’t a strong rule of law country, rather it is more of a rule by law one. So if they want to get you, they’ll find some law to get you on, and if they don’t, they won’t go after you for using a VPN or other minor offenses. So I wouldn’t really worry about it.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39068689"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_39068689" href="https://news.ycombinator.com/vote?id=39068689&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>I guess it depends on what sites you want to visit using VPN. People here in Russia openly use VPN to visit Instagram etc., and no one seems to have an issue with that. But if you want to read some opposition sites, however... Now that's some gray area.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="39068261"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068261" href="https://news.ycombinator.com/vote?id=39068261&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>Can anyone confirm Shadowsocks works anymore? When I tried to use it a few years ago, it got blocked in a few days.<p>To be honest, I think they are blocking anything that exchanges a lot of data with oversesas IPs, after hitting a certain threshold.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="39068524"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_39068524" href="https://news.ycombinator.com/vote?id=39068524&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>Shadowsocks and ShadowsocksR don’t work anymore in my experience in China or Iran. V2ray does which is the successor to those.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="39068835"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_39068835" href="https://news.ycombinator.com/vote?id=39068835&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>Shadowsocks <i>does</i> work against MITM attacks by my US ISP Comcast though. It is great software.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39068719"><td></td></tr>
                <tr id="39068782"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_39068782" href="https://news.ycombinator.com/vote?id=39068782&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>These are open source proxies, not centralized services, so I think it's unlikely.<p>At least shadowsocks was well researched in the past, I'm not sure about v2ray.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                                    <tr id="39067859"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39067859" href="https://news.ycombinator.com/vote?id=39067859&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>I have the fortune to reside in Russia-controlled Donbas. Over here they have been blocking all WireGuard connections for a long time. OpenVPN seems to be blocked selectively depending on the host. The government and commerce must need it more than WireGuard.<p>It isn't consistent. Different ISPs block different hosts and protocols at different times. I assume we are a kind of test and staging environment for censorship in Russia.</p><p>In the interest of anonymity I am not going to respond to your questions.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="39068794"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068794" href="https://news.ycombinator.com/vote?id=39068794&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>How, technically, can they block wire guard? It can operate as pure UDP on any port. Are we referring to wireguard vendors like tailscale here?</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39068729"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068729" href="https://news.ycombinator.com/vote?id=39068729&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>Stay strong, hopefully, Russia will collapse and you'll be free - I may be naive but I still think there are enough Russians who can see this tragedy as the doing of a man who wants to continue to live the life of a king, and it's probably his only way of survival after so many murdering and prosecution.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39068643"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068643" href="https://news.ycombinator.com/vote?id=39068643&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>&gt; I have the fortune to reside in Russia-controlled Donbas.<p>My condolences. Hope Ukraine and allies can can sustain enough pressure to free those lands.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="39068335"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068335" href="https://news.ycombinator.com/vote?id=39068335&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>serious question -- your first sentence: is it sarcasm or do you really consider yourself to be fortunate?</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="39068421"><td></td></tr>
                        <tr id="39067656"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39067656" href="https://news.ycombinator.com/vote?id=39067656&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>I don't believe it is true. They might block commercial solutions, but i'm using Wiregiard with exit point in Netherlands right now, works fine (although on certain providers, I've seen some throttling, but that could just be coincidental)<p>UPD: I asked some friends, some of them have faced probmes. I guess it is not protocol block, but instead combination of protocol and "suspicious" server. Mine has stuff other then VPN running on it, so it might have flown under the radar.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="39067905"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39067905" href="https://news.ycombinator.com/vote?id=39067905&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>Russians at this point are somewhat accepting the latest shenanigans of Roskomnadzor and in some cases are even somewhat supportive of it ("necessary evil"). So part of why there is not a lot of discussion on the English internet is that not even on the Russian internet there is not a ton of discussion about it.<p>VPNs stop and continue working on a somewhat regular schedule for a long time at this point.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="39068325"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39068325" href="https://news.ycombinator.com/vote?id=39068325&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>i'm sorry for my negative reply here, but so what? the russian people have allowed themselves to become boiled frogs over the past 20 years and now with the war in ukraine and absolute indifference internally there exists no external sympathy.<p>do i care that your vpn connection is broken by your oppressive goverment and you can't watch youtube while people are dying in ukraine from your government?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="39068805"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068805" href="https://news.ycombinator.com/vote?id=39068805&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>It doesn’t seem fair to blame the populace that has been misinformed by their government. VPNs have been one of the best ways to hear external points of view and get more accurate information. How are they supposed to escape the boil and improve their lot if the government puts a lid on the pot and locks it? The VPN might be the only chance for them to know what’s actually happening in Ukraine and gain any sympathy.<p>And don’t be too quick to assume more authoritarian government isn’t coming for you. The more successful they are at this, the more likely it is to spread. I’m nervous because our water is definitely getting warmer in the US, and our next regime change might love to follow Russia and China’s examples on crowd control.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="39068800"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068800" href="https://news.ycombinator.com/vote?id=39068800&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>Everyone opposing the government either ends up falling from a hotel, or ends up in siberia, so you can’t blame the Russian people from being careful. At the same time, plenty people in the US are prepared to be boiled by trump…</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39068432"><td></td></tr>
            <tr id="39068779"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068779" href="https://news.ycombinator.com/vote?id=39068779&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>&gt; do i care that your vpn connection is broken by your oppressive goverment<p>Do you realize that the government restricting access to alternative media sources even more will result in fewer and fewer people in russia opposing the status quo?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="39068471"><td></td></tr>
                <tr id="39068761"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_39068761" href="https://news.ycombinator.com/vote?id=39068761&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>Someone has to post blatant cope under each video talking about the war. They'll do it for free.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="39068391"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068391" href="https://news.ycombinator.com/vote?id=39068391&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>Option 1: Take to the streets, topple the oppressive government<p>Option 2: Take to the internet, kvetch about the oppressive goverment with no real action
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="39068703"><td></td></tr>
                        <tr id="39068634"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39068634" href="https://news.ycombinator.com/vote?id=39068634&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>I haven't been able to use my OpenVPN server since August 2023. All connections are reset. Surprised someone could still use it. Perhaps it was rolled out on a per-ISP basis.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39067848"><td></td></tr>
            <tr id="39068080"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39068080" href="https://news.ycombinator.com/vote?id=39068080&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>And here I am writing this post via Wireguard VPN through my home router marking traffic to an outside VPN gate with ease.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39067808"><td></td></tr>
                <tr id="39068219"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068219" href="https://news.ycombinator.com/vote?id=39068219&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>It should be an OS-level implemented feature at the TCP/IP layer so all non-local traffic is unrecognizable to anyone but the true recipient.<p>IDS/IPS's are virtually worthless these days anyway so I can't see much downside if every Window's, Mac's and Linux OS's network traffic appeared to be completely random/obfuscated out-of-box.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="39068757"><td></td></tr>
                        <tr id="39067652"><td></td></tr>
                <tr id="39067733"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39067733" href="https://news.ycombinator.com/vote?id=39067733&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>no need, but thanks. daily routine become a more painful, because of two-way blocking. i even cant read new science paperwork from US universities, they're block whole ASN's. 
we're slowly moving to great firewall, i suppose.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="39068270"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39068270" href="https://news.ycombinator.com/vote?id=39068270&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>Working around DPI blocks is possible as long as you can get your hands on foreign VPS. Just invent your own protocol and use it for yourself. Wrap it with HTTPS or even HTTP, nobody's has resources to analyse every single website protocol.<p>However some huge ingress/egress traffic to unknown website with few random pages looks very suspiciously. So it's possible to select those websites using statistics analysis.</p><p>Now the question to hackers: how do I hide tunnelled traffic so its statistics does not look suspicious?</p><p>Ideally one would use some CDN webserver (like cloudflare or amazon), however without encrypted SNI, host is extractable with DPI.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="39068393"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068393" href="https://news.ycombinator.com/vote?id=39068393&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>FWIW I stumbled upon the fact that AnyConnect (VPN from Cisco) about 10 years ago could walk over our HTTPS/DPI proxies/firewalls at Ubisoft. Which was mostly interesting because it was Ubi itself using AnyConnect.<p>In my efforts to use Linux (which is not supported by Cisco) I found "OpenConnect" and it's partner: "OCServe"; which are open source compatible client &amp; server software (respectively) for the protocol</p><p>On the wire traffic looks like normal HTTPS traffic, <i>and</i> without the SSL "CONNECT" header which DPI loves to drop as it's known used for proxies and vpn solutions.</p><p>YMMV, but it's worked for me with aggressive HTTP proxies in other companies too. :)
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="39068629"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068629" href="https://news.ycombinator.com/vote?id=39068629&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>&gt; Working around DPI blocks is possible as long as you can get your hands on foreign VPS<p>&gt; nobody's has resources to analyse every single website protocol.</p><p>these are not even close to the same thing, and DPI vendors have done lots of research and implementation work on detecting https-that-isn't-really-https.</p><p>this sort of uninformed blanket (and then back-pedalling within the same comment) nonsense is one of the big reasons HN is so infuriating.</p><p>edit: it's also incredibly dumb to make uninformed assertions like this about things that sometimes get people killed.  just...why say anything at all?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="39067847"><td></td></tr>
                <tr id="39068005"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068005" href="https://news.ycombinator.com/vote?id=39068005&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>requiring an email in order to download a privacy tool isnt a great start for anonymity. why should I trust this tool?</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="39068199"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_39068199" href="https://news.ycombinator.com/vote?id=39068199&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>Maybe don't trust it?<p>It seems to accept sharklasers.com (aka anonymous) email addresses though, so you don't have to use your real email address. :)</p><p>It also seems to work via Tor Browser, although it's a bit slow.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="39068244"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_39068244" href="https://news.ycombinator.com/vote?id=39068244&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>Technically you are buying VPN services by giving your credit card :D<p>use a dummy email -- if you feel so unsafe. At least Squarex is free right now so no credit card needed
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="39067643"><td></td></tr>
            <tr id="39068012"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39068012" href="https://news.ycombinator.com/vote?id=39068012&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>I wonder how this will affect political discourse in the USA.  Legitimate question.  I’m not concerned with “sides”, more interested to know if there will be less “division/fiery rhetoric”. There seems to have been a systemic psyops campaign from foreign actors into US political “hot” topics.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="39068040"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068040" href="https://news.ycombinator.com/vote?id=39068040&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>It's also possible that Russian troll factories still have their own VPN to outside the Russian firewall.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39068247"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068247" href="https://news.ycombinator.com/vote?id=39068247&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>Absolutely not, this cannot be to restrict access of bad actors TO the West. This is to restrict regular old Russian citizens from getting information FROM the West. There is no chance at all that such blockage cuts off the ability to conduct military operations on the internet.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39068153"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068153" href="https://news.ycombinator.com/vote?id=39068153&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>What's the US internal political life got to do with Russians' access to the outside internet? This is the same level of psy-op-ing as the Democrat presidential candidate from 2016 accusing some kids in North Macedonia (?!?) for her losing the election.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="39068385"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_39068385" href="https://news.ycombinator.com/vote?id=39068385&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>It is a fact that Kremlin sponsored psyops campaigns worked to hinder her candidacy. The Mueller report laid this out in detail.<p>To answer your question, I think they were wondering if this would make it more difficult for Russian groups to do perform these psyops jobs. My thought is no: these groups will likely not have to deal much with these firewalls, considering they're explicitly backed by the Kremlin in their effort.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="39068660"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39068660" href="https://news.ycombinator.com/vote?id=39068660&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>&gt; The prospect of an isolated Russian interweb has become oh so real.<p>none of the comments below have picked up on this specific thing but Russia has done exercises on exactly this topic.  they seem much more prepared to do it / want to appear to be willing to do it than any other large country that isn't already a police state.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="39067634"><td></td></tr>
                <tr id="39067663"><td></td></tr>
                <tr id="39067920"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_39067920" href="https://news.ycombinator.com/vote?id=39067920&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>i mean, all things working fine, dpi exists, traffic filtered.
and government do their job, as it should.<p>this screams about blocking, become from those who tried to get money from reselling and mixing traffic to do bad stuff.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="39067217"><td></td></tr>
                <tr id="39067269"><td></td></tr>
                  <tr id="39067418"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39067418" href="https://news.ycombinator.com/vote?id=39067418&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>Maybe that's why while playing dota2 in EU, as a support, I have been getting in the last few days very bad cores? Or am I into a lose streak which valve matchmaking became master at crafting for us once in a while?</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="39068381"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39068381" href="https://news.ycombinator.com/vote?id=39068381&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>A vanishingly small amount of Russians use openvpn or wireguard, so it's absurd to say that this isolates them.<p>Meanwhile, plenty of Brits used to read RT.com but now cannot because the London regime arbitrarily decided that we shouldn't be able to read non-approved news sites.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="39068683"><td></td></tr>
            <tr id="39068528"><td></td></tr>
                  <tr id="39068293"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_39068293" href="https://news.ycombinator.com/vote?id=39068293&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><br><div>
                  <p><span>Very good news for Russians!! That means their children will grow up healthy without Insta-Addiction or similar psychological deceases caused by social networks and dating apps.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="39068378"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_39068378" href="https://news.ycombinator.com/vote?id=39068378&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>Great example of how Russian propaganda works.<p>To western readers it reads like sarcasm because we acknowledge the truth contained in it. There are tons of addiction problems we are sorting through with these services. But western readers also see clearly the draconian overtones of tyranny in this sort of approach. Hence it reads like sarcasm.</p><p>To russian and other readers living in dictatorships, this sort of thing has been repeated so often that I think the draconian aspects are totally missed.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="39068791"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_39068791" href="https://news.ycombinator.com/vote?id=39068791&amp;how=up&amp;goto=item%3Fid%3D39067213"></a></center>    </td><td><p><span>The Russian governance seemed to have studied very well Nazi Propaganda and we have a very good display of it.<p>If anyone ever wondered: "How would the Nazi party operate in the 2020's?"</p><p>Well, look at Russia.</p><p>To be clear, I won't address production quality, that's another subject. What I meant is the underlying idea and execution.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tesla Employees Using Vehicle Cameras to Spy on 'Private Scenes;' Owners Suing (229 pts)]]></title>
            <link>https://www.motorbiscuit.com/tesla-employees-using-vehicle-cameras-to-spy-on-private-scenes-owners-suing/</link>
            <guid>39067178</guid>
            <pubDate>Sat, 20 Jan 2024 12:56:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.motorbiscuit.com/tesla-employees-using-vehicle-cameras-to-spy-on-private-scenes-owners-suing/">https://www.motorbiscuit.com/tesla-employees-using-vehicle-cameras-to-spy-on-private-scenes-owners-suing/</a>, See on <a href="https://news.ycombinator.com/item?id=39067178">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
					<figure>
									<img width="1320" height="881" src="https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg" alt="A woman types on the touchscreen of her Tesla vehicle, in front of the cabin camera." loading="">							</figure>
		
	<div>
		<p><span>Hybrids &amp; Electrics</span></p><p>It is shockingly common for Tesla employees to misuse both autopilot and cabin cameras in vehicles, even sharing these images on company chat.</p>


	</div>
</article><div>
				<p id="par-1_60">In a shocking reveal, nine retired <a href="http://motorbiscuit.com/tag/tresla/">Tesla</a> employees shared how common it is for employees to misuse <a href="https://www.motorbiscuit.com/tesla-using-in-car-cameras-in-legal-crash-disputes/">vehicle cameras</a> to spy on customers. Employees use Tesla’s internal messaging app to share the content of “really intimate things,” sometimes even turning images into memes for their amusement. A California man is suing the company–on behalf of all Tesla owners–over this practice.</p>



<h2 id="h-do-tesla-vehicles-spy-on-you">Do Tesla vehicles spy on you? </h2>



<p id="par-2_58">Tesla vehicles have many cameras. Unlike some competitors that use radar-like lidar systems for self-driving, autonomous Teslas still use an array of traditional cameras. The onboard computer analyzes the multiple videos taken in realtime. This means many Tesla vehicles have eight or more cameras pointing in all directions. Teslas also have a <a href="https://www.motorbiscuit.com/teslas-cabin-camera-just-got-even-weirder/">cabin camera</a> that monitors inattentive drivers.</p>



<figure id="emb-1"><img decoding="async" width="1500" height="1108" src="https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg?w=925&amp;strip=all&amp;quality=89" alt="A Tesla electric vehicle charging in a driveway, city buildings visible in the background." srcset="https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg 1500w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg?w=300&amp;h=222 300w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg?w=768&amp;h=567 768w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg?w=1024&amp;h=756 1024w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg?w=474&amp;h=350 474w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg?w=229&amp;h=169 229w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg?w=200&amp;h=148 200w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg?w=686&amp;h=507 686w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-car-charging-outside-a-house.jpg?w=81&amp;h=60 81w" sizes="(max-width: 1500px) 100vw, 1500px"><figcaption>Tesla charging | Lindsey Nicholson/UCG/Universal Images Group via Getty Images</figcaption></figure>



<p id="par-3_41">Many Tesla owners park their vehicles inside their garages or directly next to their homes to connect to a charger. What these owners don’t know is that employees at Tesla regularly access the vehicle’s cameras, even saving still images and videos.</p>



<p id="par-4_72">European privacy regulators demanded to know about the Tesla vehicle cameras’ default settings. The company revealed that the cameras film continuously while driving and charging and save the most recent hour of footage even after the owner turned off their car or SUV–according to <a href="https://www.wsj.com/articles/tesla-to-change-camera-settings-in-europe-over-privacy-fears-4e15009" target="_blank" rel="noreferrer noopener">The Wall Street Journal</a>. Tesla admits its employees can access the footage for “communication, fulfillment of services, and enhancement of Tesla vehicle driving systems,” according to <a href="https://arstechnica.com/tech-policy/2023/04/tesla-sued-after-report-that-workers-shared-invasive-images-from-car-cameras/" target="_blank" rel="noreferrer noopener">Arts Technica</a>.</p>



<p id="par-5_27">The automaker insists that all of this footage is completely “anonymous.” But the photos and videos include a precise GPS location, often the vehicle owner’s home address.</p>



<p id="par-6_41">A group of <a href="https://www.motorbiscuit.com/sentry-mode-privacy-problem-tesla-especially-when-ex-employees-share/">former employees</a> blew the whistle on a range of abuses of this privilege between 2019 and 2022. Unscrupulous employees shared content, including “private scenes” they found amusing, via direct messages or group chats on the company-wide messaging app.</p>



<h2 id="h-tesla-whistle-blowers-recording-and-sharing-scenes-of-intimacy">Tesla whistle-blowers: recording and sharing ‘scenes of intimacy’</h2>



<figure id="emb-2"><img decoding="async" width="1500" height="1000" src="https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg?w=925&amp;strip=all&amp;quality=89" alt="A Tesla inside of a garage, charging." srcset="https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg 1500w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg?w=300&amp;h=200 300w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg?w=768&amp;h=512 768w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg?w=1024&amp;h=683 1024w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg?w=525&amp;h=350 525w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg?w=254&amp;h=169 254w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg?w=200&amp;h=133 200w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg?w=761&amp;h=507 761w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Tesla-vehicle-charging-in-a-garage-1.jpg?w=90&amp;h=60 90w" sizes="(max-width: 1500px) 100vw, 1500px"><figcaption>Tesla charging indoors | Citizen of the Planet/Education Images/Universal Images Group via Getty Images</figcaption></figure>



<p id="par-7_37"><a href="https://www.reuters.com/technology/tesla-workers-shared-sensitive-images-recorded-by-customer-cars-2023-04-06/">Reuters</a> interviewed nine former Tesla employees who confirmed a disturbing practice at the electric vehicle startup: ridiculing customers’ private moments captured by the vehicles’ security cameras and sharing them in the company’s internal messaging platform’s chat rooms.</p>



<p id="par-8_61">What kind of photos and videos are Tesla employees sharing? One former employee revealed that the shared content includes “scandalous stuff,” such as “certain pieces of laundry” and “sexual wellness items.” The content they viewed even included “scenes of intimacy.” The employee called these moments “private scenes of life that we really were privy to because the car was charging.” </p>



<p id="par-9_53">Another recent Tesla employee expanded on why the practice did not sit well with them: “I’m bothered by it because the people who buy the car, I don’t think they know that their privacy is, like, not respected… We could see them doing laundry and really intimate things. We could see their kids.”</p>



<p id="par-10_42">Some of the images shared in Tesla employee chat rooms included full nudity. Others depicted car crashes and road rage, which, it might be argued, were necessary for the “enhancement of Tesla vehicle driving systems.” But even some crash videos were abused.</p>



<p id="par-11_37">For example, when a Tesla hit a child riding a bike, a video of the child flying through the air went viral among employees. They shared it in private one-on-one chats “like wildfire,” according to another ex-employee.</p>



<h2>Tesla owners are suing the company over invasions of privacy</h2>



<figure id="emb-3"><img decoding="async" width="1500" height="1001" src="https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg?strip=all&amp;quality=89" alt="A woman types on the touchscreen of her Tesla vehicle, in front of the cabin camera." srcset="https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg 1500w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg?w=300&amp;h=200 300w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg?w=768&amp;h=513 768w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg?w=1024&amp;h=683 1024w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg?w=524&amp;h=350 524w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg?w=253&amp;h=169 253w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg?w=200&amp;h=133 200w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg?w=760&amp;h=507 760w, https://www.motorbiscuit.com/wp-content/uploads/2023/04/Woman-driving-a-Tesla-car.jpg?w=90&amp;h=60 90w" sizes="(max-width: 1500px) 100vw, 1500px"><figcaption>Tesla driver | Jenny Ueberberg</figcaption></figure>



<p id="par-12_45">Henry Yeh of California owns a Tesla Model Y. When he discovered how common it is for Tesla to spy on vehicle owners, he decided to sue the company. Yeh’s lawsuit is for “intrusion of seclusion” and is on behalf of all Tesla vehicle owners.</p>



<p id="par-13_36">Yeh’s lawyer said, “Tesla has a history of privacy violations,” and argued that the company “needs to be held accountable for these invasions and for misrepresenting its lax privacy practices to him and other Tesla owners.”</p>



<p id="par-14_49">Many enthusiasts applaud Tesla for exploring cutting-edge automotive technologies. With future generations of automated vehicles, features such as over-the-air software updates and cameras will only grow more common. Therefore, it is critical Tesla take the lead, not just technologically, but in the ethical implementation of this technology as well.</p>



<p id="par-15_29">Next, read why <a href="https://www.motorbiscuit.com/tesla-refused-to-recall-autopilot-cars-crashing-into-first-responders-government-demands-answers/">Tesla refused to recall autopilot cars crashing into first responders</a> or see what happens when a hacker got into Tesla’s cabin cameras in the video below:</p>



<figure id="emb-4"><div>
<p><iframe title="Hacker Reveals Tesla INTERIOR Camera’s REAL Purpose" width="1320" height="743" src="https://www.youtube.com/embed/TR6YESfrCRo?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe></p>
</div></figure>



							</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Thousands of small businesses  are struggling because of R&D amortization (356 pts)]]></title>
            <link>https://twitter.com/mjwhansen/status/1748345492998696961</link>
            <guid>39066724</guid>
            <pubDate>Sat, 20 Jan 2024 11:53:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/mjwhansen/status/1748345492998696961">https://twitter.com/mjwhansen/status/1748345492998696961</a>, See on <a href="https://news.ycombinator.com/item?id=39066724">Hacker News</a></p>
Couldn't get https://twitter.com/mjwhansen/status/1748345492998696961: Error: Request failed with status code 400]]></description>
        </item>
        <item>
            <title><![CDATA[Diskprices.com makes $5k/month with affiliate marketing (142 pts)]]></title>
            <link>https://medium.com/@petervoica/how-an-ugly-single-page-website-makes-5-000-a-month-with-affiliate-marketing-c4974a8d1d69</link>
            <guid>39066480</guid>
            <pubDate>Sat, 20 Jan 2024 11:19:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://medium.com/@petervoica/how-an-ugly-single-page-website-makes-5-000-a-month-with-affiliate-marketing-c4974a8d1d69">https://medium.com/@petervoica/how-an-ugly-single-page-website-makes-5-000-a-month-with-affiliate-marketing-c4974a8d1d69</a>, See on <a href="https://news.ycombinator.com/item?id=39066480">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><h2 id="cc5e">No need to create a fancy and modern website with hundreds of pages to make money online.</h2><div><a rel="noopener follow" href="https://medium.com/@petervoica?source=post_page-----c4974a8d1d69--------------------------------"><div aria-hidden="false"><p><img alt="Peter V." src="https://miro.medium.com/v2/resize:fill:88:88/1*Uy9YoGwQ8wJkDWuZI61Qkg.png" width="44" height="44" loading="lazy" data-testid="authorPhoto"></p></div></a></div></div><p id="d1c0">Making money online is the dream for many people, but when you start, you realize there is a lot to do. Such as creating the logo, building a landing page, writing the USP (unique selling proposition), and more.</p><p id="605e">Sometimes, you can skip all of that and still make a ton of money.</p><p id="50c6">This is exactly what the creator of <a href="https://diskprices.com/" rel="noopener ugc nofollow" target="_blank">diskprices.com</a> did.</p><p id="450d">He created a website that looks like it was made in HTML with total disrespect for the user experience, but it makes more money than websites that look like modern masterpieces.</p><figure><figcaption>Screenshot of diskprices.com by Author</figcaption></figure><h2 id="f8ae">What is Disk Prices</h2><p id="5358">As the name implies, the website shows hard disk prices from Amazon.</p><p id="26b0">The website was built by a developer called Jeremy Grosser, who was looking to build a Network-Attached Storage (NAS) and needed a bunch of hard drives. A NAS is like a special storage locker for digital files (like documents, photos, and music) that you can access from multiple computers and devices in your home or office.</p><p id="e704">On diskprices you can see all Amazon listings of hard drives that are on discount so you can save money.</p><p id="a2b6">You can also filter them by Amazon warehouse country, condition, type, capacity, and more. The best part is the website is constantly updated, so you never miss an opportunity.</p><h2 id="74ba">How It Makes Money</h2><p id="0b0e">If you look on the left side below the filters, you will see a block of text saying that this website is supported by paid affiliate links. This is how the website makes money.</p><p id="9295">And we’re not talking about a few bucks. Diskprices makes around $5,000 a month. Not bad for a single-page website.</p><p id="77cf">Here’s what the owner has to say about the earnings:</p><figure><figcaption>Screenshot originally posted on <a href="https://boringcashcow.com/" rel="noopener ugc nofollow" target="_blank">https://boringcashcow.com/</a></figcaption></figure><p id="f6c2">Because there is just one person working on the website, the operation costs are…</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Pratt Parsers: Expression Parsing Made Easy (2011) (137 pts)]]></title>
            <link>https://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/</link>
            <guid>39066465</guid>
            <pubDate>Sat, 20 Jan 2024 11:16:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/">https://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/</a>, See on <a href="https://news.ycombinator.com/item?id=39066465">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
<header>
<h2>
  <a href="https://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/" rel="bookmark" title="Permanent Link to Pratt Parsers: Expression Parsing Made Easy">
    Pratt Parsers: Expression Parsing Made Easy
  </a>
</h2>

  <a href="https://journal.stuffwithstuff.com/2011/02/21/multiple-inheritance-in-javascript/" title="Older Post “Multiple Inheritance in JavaScript”">↩</a>


  <a href="https://journal.stuffwithstuff.com/2011/04/21/multimethods-multiple-inheritance-multiawesome/" title="Newer Post “Multimethods, Multiple Inheritance, Multiawesome!”">↪</a>

</header>
<h4><a href="https://journal.stuffwithstuff.com/archive">March 19, 2011</a>
    <span><a href="https://journal.stuffwithstuff.com/category/code">code</a> <a href="https://journal.stuffwithstuff.com/category/java">java</a> <a href="https://journal.stuffwithstuff.com/category/js">js</a> <a href="https://journal.stuffwithstuff.com/category/language">language</a> <a href="https://journal.stuffwithstuff.com/category/magpie">magpie</a> <a href="https://journal.stuffwithstuff.com/category/parsing">parsing</a></span>
</h4>

<p>Every now and then, I stumble onto some algorithm or idea that’s so clever and
such a perfect solution to a problem that I feel like I got smarter or gained <a href="http://xkcd.com/208/">a
new superpower</a> just by learning it. <a href="http://en.wikipedia.org/wiki/Heap_%28data_structure%29">Heaps</a> were one, just about the
only thing I got out of my truncated CS education. I recently stumbled onto
another: <a href="http://en.wikipedia.org/wiki/Vaughan_Pratt">Pratt</a> or “top-down operator precedence” parsers.</p>

<p>When you’re writing a parser, <a href="http://en.wikipedia.org/wiki/Recursive_descent">recursive descent</a> is as easy as spreading
peanut butter. It excels when you can figure out what to parse based on the next
bit of code you’re looking at. That’s usually true at the declaration and
statement levels of a language’s grammar since most syntax there starts with
keywords—<code>class</code>, <code>if</code>, <code>for</code>, <code>while</code>, etc.</p>

<p>Parsing gets trickier when you get to expressions. When it comes to infix
operators like <code>+</code>, postfix ones like <code>++</code>, and even mixfix expressions like
<code>?:</code>, it can be hard to tell what kind of expression you’re parsing until you’re
halfway through it. You <em>can</em> do this with recursive descent, but it’s a chore.
You have to write separate functions for each level of precedence (JavaScript
has 17 of them, for example), manually handle associativity, and smear your
grammar across a bunch of parsing code until it’s hard to see.</p>

<h2>Peanut butter and jelly, the secret weapon</h2>

<p>Pratt parsing solves that. If recursive descent is peanut butter, Pratt parsing
is the jelly. When you mix the two together, you get a simple, terse, readable
parser that can handle any grammar you throw at it.</p>

<p>Pratt’s technique for handling operator precedence and infix expressions is so
simple and effective it’s a mystery why almost no one knows about it. After the
seventies, top down operator precedence parsers seem to have fallen off the
Earth. Douglas Crockford’s <a href="http://www.jslint.com/">JSLint</a> uses one to <a href="http://crockford.com/javascript/tdop/tdop.html">parse JavaScript</a>, but
his treatment is one of the <a href="http://effbot.org/zone/simple-top-down-parsing.htm">very few</a> remotely modern articles about
it.</p>

<p>Part of the problem, I think, is that Pratt’s terminology is opaque, and
Crockford’s article is itself rather murky. Pratt uses terms like “null
denominator” and Crockford mixes in extra stuff like tracking lexical scope that
obscures the core idea.</p>

<p>This is where I come in. I won’t do anything revolutionary. I’ll just try to get
the core concepts behind top down operator precedence parsers and present them
as clearly as I can. I’ll switch out some terms to (I hope) clarify things.
Hopefully I won’t offend anyone’s purist sensibilities. I’ll be coding in Java,
the vulgar Latin of programming languages. I figure if you can write it in Java,
you can write it in anything.</p>

<h2>What we’ll be making</h2>

<p>I’m a learn-by-doing person, which means I’m also a teach-by-doing one. So to
show how Pratt parsers work, we’ll build a parser for a <a href="https://github.com/munificent/bantam">tiny little toy
language called <em>Bantam</em></a>. The language only has expressions since
that’s where Pratt parsing is really helpful, but that should be enough to
convince you of its usefulness.</p>

<p>Even though Bantam is simple, it has a full gamut of operators: prefix (<code>+</code>,
<code>-</code>, <code>~</code>, <code>!</code>), postfix (<code>!</code>), infix (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>^</code>), and even a
mixfix conditional operator (<code>?:</code>). It has multiple precedence levels and both
right and left associative operators. It also has assignment, function calls and
parentheses for grouping. If we can parse this, we can parse anything.</p>

<h2>What we’ll start with</h2>

<p>All we care about is parsing, so we’ll ignore the tokenizing phase. I slapped
together <a href="https://github.com/munificent/bantam/blob/master/src/com/stuffwithstuff/bantam/Lexer.java">a crude lexer</a> that works and we’ll just pretend that tokens
are raining down from heaven or something.</p>

<p>A token is the smallest chunk of meaningful code. It has a type and a string
associated with it. Given <code>from + offset(time)</code>, the tokens would be:</p>
<div><pre><code data-lang="text"><span></span>NAME "from"
PLUS "+"
NAME "offset"
LEFT_PAREN "("
NAME "time"
RIGHT_PAREN ")"
</code></pre></div>
<p>For this exercise, we won’t be <em>interpreting</em> or <em>compiling</em> this code. We just
want to parse it to a nice data structure. For our purposes, that means our
parser should chew up a bunch of <a href="https://github.com/munificent/bantam/blob/master/src/com/stuffwithstuff/bantam/Token.java">Token</a> objects and spit out an instance
of some class that implements <a href="https://github.com/munificent/bantam/blob/master/src/com/stuffwithstuff/bantam/expressions/Expression.java">Expression</a>. To give you an idea,
here’s a simplified version of the class for a <a href="https://github.com/munificent/bantam/blob/master/src/com/stuffwithstuff/bantam/expressions/ConditionalExpression.java">conditional expression</a>:</p>
<div><pre><code data-lang="java"><span>class</span> <span>ConditionalExpression</span> <span>implements</span> <span>Expression</span> <span>{</span>
  <span>public</span> <span>ConditionalExpression</span><span>(</span>
      <span>Expression</span> <span>condition</span><span>,</span>
      <span>Expression</span> <span>thenArm</span><span>,</span>
      <span>Expression</span> <span>elseArm</span><span>)</span> <span>{</span>
    <span>this</span><span>.</span><span>condition</span> <span>=</span> <span>condition</span><span>;</span>
    <span>this</span><span>.</span><span>thenArm</span>   <span>=</span> <span>thenArm</span><span>;</span>
    <span>this</span><span>.</span><span>elseArm</span>   <span>=</span> <span>elseArm</span><span>;</span>
  <span>}</span>

  <span>public</span> <span>final</span> <span>Expression</span> <span>condition</span><span>;</span>
  <span>public</span> <span>final</span> <span>Expression</span> <span>thenArm</span><span>;</span>
  <span>public</span> <span>final</span> <span>Expression</span> <span>elseArm</span><span>;</span>
<span>}</span>
</code></pre></div>
<p>(You gotta love Java’s “please sign it in quadruplicate” level of bureaucracy
here. Like I said, if you can tolerate this in Java, it can work in <em>any</em>
language.)</p>

<p>We’ll start from a simple <a href="https://github.com/munificent/bantam/blob/master/src/com/stuffwithstuff/bantam/Parser.java">Parser</a> class. The parser owns the token
stream, handles lookahead and provides the basic methods you need to write a
top-down recursive descent parser with a single token of lookahead (it’s
<a href="https://en.wikipedia.org/wiki/LL_parser">LL(1)</a>). This is enough to get us going. If we need more later, it’s easy to
extend it.</p>

<p>OK, let’s build ourselves a parser!</p>

<h2>First things first</h2>

<p>Even though a “full” Pratt parser is pretty tiny, I found it to be hard to
decipher. Sort of like <a href="http://en.wikipedia.org/wiki/Quicksort">quicksort</a>, the implementation is a deceptively simple
handful of deeply intertwined code. To untangle it, we’ll build it up one tiny
step at a time.</p>

<p>The simplest expressions to parse are prefix operators and single-token
expressions. For those, the current token tells us everything we need to do.
Bantam has one single-token expression: named variables. It has four prefix
operators: <code>+</code>, <code>-</code>, <code>~</code>, and <code>!</code>. The simplest possible code to parse those is:</p>
<div><pre><code data-lang="java"><span>Expression</span> <span>parseExpression</span><span>()</span> <span>{</span>
  <span>if</span> <span>(</span><span>match</span><span>(</span><span>TokenType</span><span>.</span><span>NAME</span><span>))</span>       <span>// Return NameExpression...</span>
  <span>else</span> <span>if</span> <span>(</span><span>match</span><span>(</span><span>TokenType</span><span>.</span><span>PLUS</span><span>))</span>  <span>// Return prefix + operator...</span>
  <span>else</span> <span>if</span> <span>(</span><span>match</span><span>(</span><span>TokenType</span><span>.</span><span>MINUS</span><span>))</span> <span>// Return prefix - operator...</span>
  <span>else</span> <span>if</span> <span>(</span><span>match</span><span>(</span><span>TokenType</span><span>.</span><span>TILDE</span><span>))</span> <span>// Return prefix ~ operator...</span>
  <span>else</span> <span>if</span> <span>(</span><span>match</span><span>(</span><span>TokenType</span><span>.</span><span>BANG</span><span>))</span>  <span>// Return prefix ! operator...</span>
  <span>else</span> <span>throw</span> <span>new</span> <span>ParseException</span><span>();</span>
<span>}</span>
</code></pre></div>
<p>But that’s a bit monolithic. As you can see, we’re switching off of a TokenType
to branch to different parsing behavior. Let’s encode that directly by making a
Map from TokenTypes to chunks of parsing code. We’ll call these chunks
“parselets”, and they will implement this:</p>
<div><pre><code data-lang="java"><span>interface</span> <span>PrefixParselet</span> <span>{</span>
  <span>Expression</span> <span>parse</span><span>(</span><span>Parser</span> <span>parser</span><span>,</span> <span>Token</span> <span>token</span><span>);</span>
<span>}</span>
</code></pre></div>
<p>An parselet implementation to parse variable names is simply:</p>
<div><pre><code data-lang="java"><span>class</span> <span>NameParselet</span> <span>implements</span> <span>PrefixParselet</span> <span>{</span>
  <span>public</span> <span>Expression</span> <span>parse</span><span>(</span><span>Parser</span> <span>parser</span><span>,</span> <span>Token</span> <span>token</span><span>)</span> <span>{</span>
    <span>return</span> <span>new</span> <span>NameExpression</span><span>(</span><span>token</span><span>.</span><span>getText</span><span>());</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<p>We can use a single class for all of the prefix operators since they only differ
in the actual operator token itself:</p>
<div><pre><code data-lang="java"><span>class</span> <span>PrefixOperatorParselet</span> <span>implements</span> <span>PrefixParselet</span> <span>{</span>
  <span>public</span> <span>Expression</span> <span>parse</span><span>(</span><span>Parser</span> <span>parser</span><span>,</span> <span>Token</span> <span>token</span><span>)</span> <span>{</span>
    <span>Expression</span> <span>operand</span> <span>=</span> <span>parser</span><span>.</span><span>parseExpression</span><span>();</span>
    <span>return</span> <span>new</span> <span>PrefixExpression</span><span>(</span><span>token</span><span>.</span><span>getType</span><span>(),</span> <span>operand</span><span>);</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<p>You’ll note that it calls back into <code>parseExpression()</code> to parse the operand
that appears after the operator (for example, to parse the <code>a</code> in <code>-a</code>). This
recursion takes care of nested operators like <code>-+~!a</code>.</p>

<p>Back in Parser, the chained <code>if</code> statements are replaced with a map:</p>
<div><pre><code data-lang="java"><span>class</span> <span>Parser</span> <span>{</span>
  <span>public</span> <span>Expression</span> <span>parseExpression</span><span>()</span> <span>{</span>
    <span>Token</span> <span>token</span> <span>=</span> <span>consume</span><span>();</span>
    <span>PrefixParselet</span> <span>prefix</span> <span>=</span> <span>mPrefixParselets</span><span>.</span><span>get</span><span>(</span><span>token</span><span>.</span><span>getType</span><span>());</span>

    <span>if</span> <span>(</span><span>prefix</span> <span>==</span> <span>null</span><span>)</span> <span>throw</span> <span>new</span> <span>ParseException</span><span>(</span>
        <span>"Could not parse </span><span>\"</span><span>"</span> <span>+</span> <span>token</span><span>.</span><span>getText</span><span>()</span> <span>+</span> <span>"</span><span>\"</span><span>."</span><span>);</span>

    <span>return</span> <span>prefix</span><span>.</span><span>parse</span><span>(</span><span>this</span><span>,</span> <span>token</span><span>);</span>
  <span>}</span>

  <span>// Other stuff...</span>

  <span>private</span> <span>final</span> <span>Map</span><span>&lt;</span><span>TokenType</span><span>,</span> <span>PrefixParselet</span><span>&gt;</span> <span>mPrefixParselets</span> <span>=</span>
      <span>new</span> <span>HashMap</span><span>&lt;</span><span>TokenType</span><span>,</span> <span>PrefixParselet</span><span>&gt;</span><span>();</span>
<span>}</span>
</code></pre></div>
<p>To define the grammar we have so far—variables and the four prefix
operators—we’ll add these helper methods:</p>
<div><pre><code data-lang="java"><span>public</span> <span>void</span> <span>register</span><span>(</span><span>TokenType</span> <span>token</span><span>,</span> <span>PrefixParselet</span> <span>parselet</span><span>)</span> <span>{</span>
  <span>mPrefixParselets</span><span>.</span><span>put</span><span>(</span><span>token</span><span>,</span> <span>parselet</span><span>);</span>
<span>}</span>

<span>public</span> <span>void</span> <span>prefix</span><span>(</span><span>TokenType</span> <span>token</span><span>)</span> <span>{</span>
  <span>register</span><span>(</span><span>token</span><span>,</span> <span>new</span> <span>PrefixOperatorParselet</span><span>());</span>
<span>}</span>
</code></pre></div>
<p>And now we can define the grammar like:</p>
<div><pre><code data-lang="java"><span>register</span><span>(</span><span>TokenType</span><span>.</span><span>NAME</span><span>,</span> <span>new</span> <span>NameParselet</span><span>());</span>
<span>prefix</span><span>(</span><span>TokenType</span><span>.</span><span>PLUS</span><span>);</span>
<span>prefix</span><span>(</span><span>TokenType</span><span>.</span><span>MINUS</span><span>);</span>
<span>prefix</span><span>(</span><span>TokenType</span><span>.</span><span>TILDE</span><span>);</span>
<span>prefix</span><span>(</span><span>TokenType</span><span>.</span><span>BANG</span><span>);</span>
</code></pre></div>
<p>This is already an improvement over a recursive descent parser because our
grammar is now more declarative instead of being spread out over a few
imperative functions, and we can see the actual grammar all in one place. Even
better, we can extend the grammar just by registering new parselets. We don’t
have to change the Parser class itself.</p>

<p>If we <em>only</em> had prefix expressions, we’d be done now. Alas, we don’t.</p>

<h2>Stuck in the middle</h2>

<p>What we have so far only works if the <em>first</em> token tells us what kind of
expression we’re parsing, but that isn’t always the case. With an expression
like <code>a + b</code>, we don’t know we have an add expression until after we parse the
<code>a</code> and get to <code>+</code>. We have to extend the parser to support that.</p>

<p>Fortunately, we’re in a good place to do so. Our current <code>parseExpression()</code>
method parses a complete prefix expression including any nested prefix
expressions and then stops. So, if we throw this at it:</p>

<p>It will parse <code>-a</code> and leave us sitting on <code>+</code>. That’s exactly the token we need
to tell what infix expression we need to parse. Compared to prefix parsing, the
only change for infix parsing is that there’s another expression <em>before</em> the
infix operator that the infix parser receives as an argument. Let’s define a
parselet that supports that:</p>
<div><pre><code data-lang="java"><span>interface</span> <span>InfixParselet</span> <span>{</span>
  <span>Expression</span> <span>parse</span><span>(</span><span>Parser</span> <span>parser</span><span>,</span> <span>Expression</span> <span>left</span><span>,</span> <span>Token</span> <span>token</span><span>);</span>
<span>}</span>
</code></pre></div>
<p>The only difference is that <code>left</code> argument, which is the expression we parsed
before we got to the infix token. We wire this up to our parser by having
another table of infix parselets.</p>

<p>Having separate tables for prefix and infix expressions is important because we
sometimes have both a prefix and infix parselet for the same TokenType. For
example, the prefix parselet for <code>(</code> handles grouping in an expression like <code>a * (b + c)</code>. Meanwhile, the <em>infix</em> parselet for <code>(</code> handles function calls like
<code>a(b)</code>.</p>

<p>Now, after we parse the leading prefix expression, we look for an infix parser
that matches the next token and wraps the prefix expression as an operand:</p>
<div><pre><code data-lang="java"><span>class</span> <span>Parser</span> <span>{</span>
  <span>public</span> <span>void</span> <span>register</span><span>(</span><span>TokenType</span> <span>token</span><span>,</span> <span>InfixParselet</span> <span>parselet</span><span>)</span> <span>{</span>
    <span>mInfixParselets</span><span>.</span><span>put</span><span>(</span><span>token</span><span>,</span> <span>parselet</span><span>);</span>
  <span>}</span>

  <span>public</span> <span>Expression</span> <span>parseExpression</span><span>()</span> <span>{</span>
    <span>Token</span> <span>token</span> <span>=</span> <span>consume</span><span>();</span>
    <span>PrefixParselet</span> <span>prefix</span> <span>=</span> <span>mPrefixParselets</span><span>.</span><span>get</span><span>(</span><span>token</span><span>.</span><span>getType</span><span>());</span>

    <span>if</span> <span>(</span><span>prefix</span> <span>==</span> <span>null</span><span>)</span> <span>throw</span> <span>new</span> <span>ParseException</span><span>(</span>
        <span>"Could not parse </span><span>\"</span><span>"</span> <span>+</span> <span>token</span><span>.</span><span>getText</span><span>()</span> <span>+</span> <span>"</span><span>\"</span><span>."</span><span>);</span>

    <span>Expression</span> <span>left</span> <span>=</span> <span>prefix</span><span>.</span><span>parse</span><span>(</span><span>this</span><span>,</span> <span>token</span><span>);</span>

    <span>token</span> <span>=</span> <span>lookAhead</span><span>(</span><span>0</span><span>);</span>
    <span>InfixParselet</span> <span>infix</span> <span>=</span> <span>mInfixParselets</span><span>.</span><span>get</span><span>(</span><span>token</span><span>.</span><span>getType</span><span>());</span>

    <span>// No infix expression at this point, so we're done.</span>
    <span>if</span> <span>(</span><span>infix</span> <span>==</span> <span>null</span><span>)</span> <span>return</span> <span>left</span><span>;</span>

    <span>consume</span><span>();</span>
    <span>return</span> <span>infix</span><span>.</span><span>parse</span><span>(</span><span>this</span><span>,</span> <span>left</span><span>,</span> <span>token</span><span>);</span>
  <span>}</span>

  <span>// Other stuff...</span>

  <span>private</span> <span>final</span> <span>Map</span><span>&lt;</span><span>TokenType</span><span>,</span> <span>InfixParselet</span><span>&gt;</span> <span>mInfixParselets</span> <span>=</span>
      <span>new</span> <span>HashMap</span><span>&lt;</span><span>TokenType</span><span>,</span> <span>InfixParselet</span><span>&gt;</span><span>();</span>
<span>}</span>
</code></pre></div>
<p>Pretty straightforward. We can implement an infix parselet for binary arithmetic
operators like <code>+</code> like so:</p>
<div><pre><code data-lang="java"><span>class</span> <span>BinaryOperatorParselet</span> <span>implements</span> <span>InfixParselet</span> <span>{</span>
  <span>public</span> <span>Expression</span> <span>parse</span><span>(</span><span>Parser</span> <span>parser</span><span>,</span>
      <span>Expression</span> <span>left</span><span>,</span> <span>Token</span> <span>token</span><span>)</span> <span>{</span>
    <span>Expression</span> <span>right</span> <span>=</span> <span>parser</span><span>.</span><span>parseExpression</span><span>();</span>
    <span>return</span> <span>new</span> <span>OperatorExpression</span><span>(</span><span>left</span><span>,</span> <span>token</span><span>.</span><span>getType</span><span>(),</span> <span>right</span><span>);</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<p>Infix parselets also works for postfix operators. I’m calling them “infix”, but
they’re really “anything but prefix”. If there’s some leading subexpression that
comes before the token, the token will be handled by an infix parselet. That
includes postfix expressions and mixfix ones like <code>?:</code>.</p>

<p>Postfix expressions are as simple as single-token prefix parselets: they just
take the <code>left</code> operand and wraps it in another expression:</p>
<div><pre><code data-lang="java"><span>class</span> <span>PostfixOperatorParselet</span> <span>implements</span> <span>InfixParselet</span> <span>{</span>
  <span>public</span> <span>Expression</span> <span>parse</span><span>(</span><span>Parser</span> <span>parser</span><span>,</span> <span>Expression</span> <span>left</span><span>,</span>
      <span>Token</span> <span>token</span><span>)</span> <span>{</span>
    <span>return</span> <span>new</span> <span>PostfixExpression</span><span>(</span><span>left</span><span>,</span> <span>token</span><span>.</span><span>getType</span><span>());</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<p>Mixfix is easy too. It’s similar to recursive descent:</p>
<div><pre><code data-lang="java"><span>class</span> <span>ConditionalParselet</span> <span>implements</span> <span>InfixParselet</span> <span>{</span>
  <span>public</span> <span>Expression</span> <span>parse</span><span>(</span><span>Parser</span> <span>parser</span><span>,</span> <span>Expression</span> <span>left</span><span>,</span>
      <span>Token</span> <span>token</span><span>)</span> <span>{</span>
    <span>Expression</span> <span>thenArm</span> <span>=</span> <span>parser</span><span>.</span><span>parseExpression</span><span>();</span>
    <span>parser</span><span>.</span><span>consume</span><span>(</span><span>TokenType</span><span>.</span><span>COLON</span><span>);</span>
    <span>Expression</span> <span>elseArm</span> <span>=</span> <span>parser</span><span>.</span><span>parseExpression</span><span>();</span>

    <span>return</span> <span>new</span> <span>ConditionalExpression</span><span>(</span><span>left</span><span>,</span> <span>thenArm</span><span>,</span> <span>elseArm</span><span>);</span>
  <span>}</span>
<span>}</span>
</code></pre></div>
<p>Now we can parse prefix, postfix, infix, and even mixfix expressions. With a
pretty small amount of code, we can parse complex nested expressions like <code>a + (b ? c! : -d)</code>. We’re done, right? Well… almost.</p>

<h2>Excuse you, aunt Sally</h2>

<p>Our parser <em>can</em> parse all of this stuff, but it doesn’t parse it with the right
precedence or associativity. If you throw <code>a - b - c</code> at the parser, it will
parse the nested expressions like <code>a - (b - c)</code>, which isn’t right. (Well,
actually it is <em>right</em>—associative that is. We need it to be <em>left</em>.)</p>

<p>And this <em>last</em> step where we fix that is where Pratt parsers go from pretty
nice to totally radical. We’ll make two simple changes. We extend
<code>parseExpression()</code> to take a <em>precedence</em>—a number that tells which
expressions can be parsed by that call. If <code>parseExpression()</code> encounters an
expression whose precedence is lower than we allow, it stops parsing and returns
what it has so far.</p>

<p>To make that check we need to know the precedence of any given infix
expression. We’ll let the parselet specify it:</p>
<div><pre><code data-lang="java"><span>public</span> <span>interface</span> <span>InfixParselet</span> <span>{</span>
  <span>Expression</span> <span>parse</span><span>(</span><span>Parser</span> <span>parser</span><span>,</span> <span>Expression</span> <span>left</span><span>,</span> <span>Token</span> <span>token</span><span>);</span>
  <span>int</span> <span>getPrecedence</span><span>();</span>
<span>}</span>
</code></pre></div>
<p>Using that, our core expression parser looks like this:</p>
<div><pre><code data-lang="java"><span>public</span> <span>Expression</span> <span>parseExpression</span><span>(</span><span>int</span> <span>precedence</span><span>)</span> <span>{</span>
  <span>Token</span> <span>token</span> <span>=</span> <span>consume</span><span>();</span>
  <span>PrefixParselet</span> <span>prefix</span> <span>=</span> <span>mPrefixParselets</span><span>.</span><span>get</span><span>(</span><span>token</span><span>.</span><span>getType</span><span>());</span>

  <span>if</span> <span>(</span><span>prefix</span> <span>==</span> <span>null</span><span>)</span> <span>throw</span> <span>new</span> <span>ParseException</span><span>(</span>
      <span>"Could not parse </span><span>\"</span><span>"</span> <span>+</span> <span>token</span><span>.</span><span>getText</span><span>()</span> <span>+</span> <span>"</span><span>\"</span><span>."</span><span>);</span>

  <span>Expression</span> <span>left</span> <span>=</span> <span>prefix</span><span>.</span><span>parse</span><span>(</span><span>this</span><span>,</span> <span>token</span><span>);</span>

  <span>while</span> <span>(</span><span>precedence</span> <span>&lt;</span> <span>getPrecedence</span><span>())</span> <span>{</span>
    <span>token</span> <span>=</span> <span>consume</span><span>();</span>

    <span>InfixParselet</span> <span>infix</span> <span>=</span> <span>mInfixParselets</span><span>.</span><span>get</span><span>(</span><span>token</span><span>.</span><span>getType</span><span>());</span>
    <span>left</span> <span>=</span> <span>infix</span><span>.</span><span>parse</span><span>(</span><span>this</span><span>,</span> <span>left</span><span>,</span> <span>token</span><span>);</span>
  <span>}</span>

  <span>return</span> <span>left</span><span>;</span>
<span>}</span>
</code></pre></div>
<p>That relies on a tiny helper function to get the precedence of the current
token or a default value if there’s no infix parselet for the token:</p>
<div><pre><code data-lang="java"><span>private</span> <span>int</span> <span>getPrecedence</span><span>()</span> <span>{</span>
  <span>InfixParselet</span> <span>parser</span> <span>=</span> <span>mInfixParselets</span><span>.</span><span>get</span><span>(</span>
      <span>lookAhead</span><span>(</span><span>0</span><span>).</span><span>getType</span><span>());</span>
  <span>if</span> <span>(</span><span>parser</span> <span>!=</span> <span>null</span><span>)</span> <span>return</span> <span>parser</span><span>.</span><span>getPrecedence</span><span>();</span>

  <span>return</span> <span>0</span><span>;</span>
<span>}</span>
</code></pre></div>
<p>And that’s it. To wire precedence into Bantam’s grammar, we set up a little
precedence table:</p>
<div><pre><code data-lang="java"><span>public</span> <span>class</span> <span>Precedence</span> <span>{</span>
  <span>public</span> <span>static</span> <span>final</span> <span>int</span> <span>ASSIGNMENT</span>  <span>=</span> <span>1</span><span>;</span>
  <span>public</span> <span>static</span> <span>final</span> <span>int</span> <span>CONDITIONAL</span> <span>=</span> <span>2</span><span>;</span>
  <span>public</span> <span>static</span> <span>final</span> <span>int</span> <span>SUM</span>         <span>=</span> <span>3</span><span>;</span>
  <span>public</span> <span>static</span> <span>final</span> <span>int</span> <span>PRODUCT</span>     <span>=</span> <span>4</span><span>;</span>
  <span>public</span> <span>static</span> <span>final</span> <span>int</span> <span>EXPONENT</span>    <span>=</span> <span>5</span><span>;</span>
  <span>public</span> <span>static</span> <span>final</span> <span>int</span> <span>PREFIX</span>      <span>=</span> <span>6</span><span>;</span>
  <span>public</span> <span>static</span> <span>final</span> <span>int</span> <span>POSTFIX</span>     <span>=</span> <span>7</span><span>;</span>
  <span>public</span> <span>static</span> <span>final</span> <span>int</span> <span>CALL</span>        <span>=</span> <span>8</span><span>;</span>
<span>}</span>
</code></pre></div>
<p>To make our operators parse their operands with the correct precedence, they
pass an appropriate value back into <code>parseExpression()</code> when they call it
recursively. For example, the <a href="https://github.com/munificent/bantam/blob/master/src/com/stuffwithstuff/bantam/parselets/BinaryOperatorParselet.java">BinaryOperatorParselet</a> instance that handles
the <code>+</code> operator passes in <code>Precedence.SUM</code> when it parses its right-hand
operand.</p>

<p>Associativity is easy too. If an infix parselet calls <code>parseExpression()</code> with
the <em>same</em> precedence that it returns for its own <code>getPrecedence()</code> call, you
get left associativity. To be right-associative, it just needs to pass in <em>one
less</em> than that instead.</p>

<h2>Go forth and multiply</h2>

<p>I’ve rewritten the <a href="https://github.com/munificent/magpie/blob/master/src/com/stuffwithstuff/magpie/parser/MagpieParser.java">parser for Magpie</a> using this and it worked
like a charm. I’m also working on a JavaScript parser using this technique and
again it’s been a great fit.</p>

<p>I Pratt parsers to be simple, terse, extensible (Magpie, for example, uses this
to <a href="https://journal.stuffwithstuff.com/2011/02/13/extending-syntax-from-within-a-language/">let you extend its own syntax</a> at runtime), and easy to read. I’m at
the point where I can’t imagine writing a parser any other way. I never thought
I’d say this, but parsers feel easy now.</p>

<p>To see for yourself, just take a look at <a href="https://github.com/munificent/bantam">the complete program</a>.</p>



  

  
  
  
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[TSMC 2nm Update: Two Fabs in Construction, One Awaiting Government Approval (128 pts)]]></title>
            <link>https://www.anandtech.com/show/21241/tsmc-2nm-update-two-fabs-in-construction-one-awaiting-government-approval</link>
            <guid>39066449</guid>
            <pubDate>Sat, 20 Jan 2024 11:12:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.anandtech.com/show/21241/tsmc-2nm-update-two-fabs-in-construction-one-awaiting-government-approval">https://www.anandtech.com/show/21241/tsmc-2nm-update-two-fabs-in-construction-one-awaiting-government-approval</a>, See on <a href="https://news.ycombinator.com/item?id=39066449">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>

                

<div>
    <nav>
        <ul>
            <li><a href="https://www.anandtech.com/">Home</a><span>&gt;</span></li>
                <li><a href="https://www.anandtech.com/tag/semiconductors">Semiconductors</a></li>
        </ul>
        
    </nav>

    
    
</div>



<div>
        <a href="https://www.anandtech.com/show/21241/tsmc-2nm-update-two-fabs-in-construction-one-awaiting-government-approval"></a>
        <p><span>by <a href="#"></a><a href="https://www.anandtech.com/Author/191">Anton Shilov</a> <em>on January 19, 2024 11:15 AM EST</em> </span></p><ul>
            <li>Posted in</li>
            <li><a href="https://www.anandtech.com/tag/semiconductors">Semiconductors</a></li>
                <li><a href="https://www.anandtech.com/tag/tsmc">TSMC</a></li>
                <li><a href="https://www.anandtech.com/tag/2nm">2nm</a></li>
                <li><a href="https://www.anandtech.com/tag/n2">N+2</a></li>
                <li><a href="https://www.anandtech.com/tag/n2p">N2P</a></li>
        </ul>
    </div>


<div>

                <p><img src="https://images.anandtech.com/doci/21241/tsmc-wafer-chip-semiconductor-fab-waferc002_2524_SQPc_0-678_678x452.jpg" alt="">
                </p>

            


        <div>
            <p>When Taiwan Semiconductor Manufacturing Co. (TSMC) is prepping to roll out an all-new process technology, it usually builds a new fab to meet demand of its alpha customers and then either adds capacity by upgrading existing fabs or building another facility. With N2 (2nm-class), the company seems to be taking a slightly different approach as it is already constructing two N2-capable fabs and is awaiting for a government approval for the third one.</p>

<p>We are also preparing our N2 volume production starting in 2025," <a href="https://investor.tsmc.com/english/encrypt/files/encrypt_file/reports/2024-01/77f58cc7cac9df532c274f893b1c722de15c3f85/TSMC%204Q23%20Transcript.pdf">said</a> Mark Liu, TSMC's outgoing chairman, at the company's earnings call with financial analysts and investors. "We plan to build multiple fabs or multiple phases of 2nm technologies in both Hsinchu and Kaohsiung science parks to support the strong structural demand from our customers. […] "In the Taichung Science Park, the government approval process is ongoing and is also on track."</p>

<p>TSMC is gearing up to construct two fabrication plants capable of producing N2 chips in Taiwan. The first fab is planned to be located near Baoshan in Hsinchu County, neighboring its R1 research and development center, which was specifically build to develop N2 technology and its successor. This facility is expected to commence high-volume manufacturing (HVM) of 2nm chips in the latter half of 2025. The second N2-capable fabrication plant by is to be located in the Kaohsiung Science Park, part of the Southern Taiwan Science Park near Kaohsiung. The initiation of HVM at this plant is projected to be slightly later, likely around 2026.</p>

<p>In addition, the foundry is working to get government approvals to build a yet another N2-capable fab in the Taichung Science Park. If the company starts to construct this facility in 2025, the fab could go online as soon as in 2027.</p>

<p>With three fabs capable of making chis using its 2nm process technologies, TSMC is poised to offer vast 2nm capacity for years to come.</p>

<p>TSMC expects to start HVM using its N2 process technology that uses gate-all-around (GAA) nanosheet transistors around the second half of 2025. TSMC's 2<sup>nd</sup> generation 2nm-class process technology — N2P — will add backside power delivery. This technology will be used for mass production in 2026.</p>

        </div>
            <p>
                Source:
                <a href="https://investor.tsmc.com/english/encrypt/files/encrypt_file/reports/2024-01/77f58cc7cac9df532c274f893b1c722de15c3f85/TSMC%204Q23%20Transcript.pdf">TSMC</a>
            </p>
        
            
            
            
            
            


</div>

    



            </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Amazon has taken down the Sad Bastard Cookbook (317 pts)]]></title>
            <link>https://wandering.shop/@youseeatortoise/111782434593735690</link>
            <guid>39066444</guid>
            <pubDate>Sat, 20 Jan 2024 11:11:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://wandering.shop/@youseeatortoise/111782434593735690">https://wandering.shop/@youseeatortoise/111782434593735690</a>, See on <a href="https://news.ycombinator.com/item?id=39066444">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Simulating a minimal cell in the browser (113 pts)]]></title>
            <link>https://technistuff.com/posts/simulating-a-minimal-cell/</link>
            <guid>39066165</guid>
            <pubDate>Sat, 20 Jan 2024 10:22:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://technistuff.com/posts/simulating-a-minimal-cell/">https://technistuff.com/posts/simulating-a-minimal-cell/</a>, See on <a href="https://news.ycombinator.com/item?id=39066165">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        
        <h3 id="introduction">
  Introduction
  <a href="#introduction">
    
  </a>
</h3>
<p>Have you ever wondered how life’s most basic units, cells, operate?
As a programmer and cell biology enthusiast, I embarked on a journey to simulate the simplest cell using TypeScript.
Cells are incredibly complex, scientists estimate that an average human cell has 100 trillion atoms.
We still know very little about how all these molecules interact with each other, thus making it impossible to perform an exact simulation.</p>
<p>This is when I found the paper <a href="https://www.cell.com/cell/fulltext/S0092-8674(21)01488-4">Fundamental behaviors emerge from simulations of a living minimal cell</a>.
Using kinetic parameters, they create a model of the molecules and reactions in the simplest known cell.
They then run a simulation and are able to observe processes like DNA replication, metabolism and protein synthesis.</p>
<p>I wanted to understand what they did by reproducing it in Typescript and thus also making the simulation easily available to run in the browser without any installation.
This article will focus on the well-stirred model, which models the whole cell as a single homogeneous mixture.
In the paper, the well-stirred model is calibrated and verified using a more advanced “spatial” model that uses a 3D grid to also account for movement of molecules throughout the cell.</p>
<h3 id="minimal-cell-jcvi-syn3a">
  Minimal cell (JCVI-syn3A)
  <a href="#minimal-cell-jcvi-syn3a">
    
  </a>
</h3>
<p>In order to simulate a cell we need to know as much as we can about the genes, proteins and metabolism inside the cell.
Most of this is still unknown to science, especially in relatively large and complex cells like those of animals.
Therefore scientists decided to create a cell with the smallest possible complixity (number of genes).</p>
<p>They did this by starting with a bacterial cell and removing genes until it could not survive anymore.
This way they knew they had gone to far, and this gene was apparently critical for survival.
Using this method, they mapped out which genes where critical and which where not.
Until they finally arrived at the minimal cell <a href="https://www.jcvi.org/research/first-minimal-synthetic-bacterial-cell">JCVI-syn3A</a>.</p>
<p>The result is a genetically minimal bacterial cell with “only” 493 genes.
Compare that to another bacteria “E. Coli.” which has 4637 genes and you can see why they did this.
Of the 493 genes only 20% is unclear in function, so scientists have enough information to start putting together a model for this cell.
This is exactly what they did in <a href="https://pubmed.ncbi.nlm.nih.gov/31850364/">Kinetic Modeling of the Genetic Information Processes in a Minimal Cell</a>.
The resulting kinetic parameters are the foundation of the simulation we will build.</p>
<p><img src="https://technistuff.com/images/JCVI-syn3A.jpeg" alt="JCVI-syn3A"></p>
<h3 id="genome-data">
  Genome data
  <a href="#genome-data">
    
  </a>
</h3>
<p>All data is publicly available in the <a href="https://github.com/Luthey-Schulten-Lab/Minimal_Cell">GitHub repository</a> from the Luthey Schulten Lab.</p>
<p>The entire genome is stored in the file <a href="https://github.com/Luthey-Schulten-Lab/Minimal_Cell/blob/main/CME_ODE/model_data/syn3A.gb">syn3A.gb</a>.
This is a GenBank file that contains the DNA code and information about the genes and which proteins they code for.
For example we can see that the gene in position 497075..498190 creates the protein Dihydrofolate synthase.
Which consists of the amino acids MISV…NNKF.
Where M = Methionine, I = Isoleucine, etc…</p>
<div><pre tabindex="0"><code data-lang="fallback"><span><span>complement(497075..498190)
</span></span><span><span>/gene="folC"
</span></span><span><span>/locus_tag="JCVISYN3A_0823"
</span></span><span><span>/product="Dihydrofolate synthase"
</span></span><span><span>/protein_id="AVX54985.1"
</span></span><span><span>/translation="MISVDQELFPINQRLNKEVVFDKVLDELNHPEEFLKVINVVGTN
</span></span><span><span>GKGSTSFYLSKGLLKKYQKVGLFISPAFLYQNERIQINNTPISDNDLKSYLHKIDYLI
</span></span><span><span>KKYQLLFFEIWTLIMILYFKDQKVDIVVCEAGIGGIKDTTSFLTNQLFSLCTSISYDH
</span></span><span><span>MDILGNSIDEIIYNKINIAKPNTKLFISYDNLKYKDKINEQLINKNVELIYTDLYEDQ
</span></span><span><span>IIYQQANKGLVKKVLEYLNIFQTNIFQLQPPLGRFTTIRTFPNHIIIDGAHNVDGINK
</span></span><span><span>LIQSVKMLNKEFIVLYASITTKEYLKSLELLDQNFNEVYICEFNFIKSWSIDNIDHKN
</span></span><span><span>KIKDWKKFLKNNTKNIIICGSLYFIPLVYNYLTNNKF"
</span></span></code></pre></div><h3 id="kinetic-parameters">
  Kinetic parameters
  <a href="#kinetic-parameters">
    
  </a>
</h3>
<p>The kinetic parameters are stored in SBTab files, like <a href="https://github.com/Luthey-Schulten-Lab/Minimal_Cell/blob/main/CME_ODE/model_data/Central_AA_Zane_Balanced_direction_fixed_nounqATP.tsv">this file</a> which includes the reactions for the central metabolism.
These files contain the initial concentrations, reactions between the metabolites and formulas and parameters used to calculate the reaction rate (speed).</p>
<p>For example, the initial concentration of ATP (denoted as M_atp_c) is 3.6529 millimolar (mM).
One of the reactions it appears in is <code>M_atp_c + M_f6p_c &lt;=&gt; M_adp_c + M_fdp_c</code> which converts Fructose 6-phosphate into Fructose 1,6-bisphosphate and uses up one ATP to do it.
The rate formula can be seen below:</p>
<div><pre tabindex="0"><code data-lang="fallback"><span><span>( 0.001 / 1.0) * (( kcrg_R_PFK * ( ( ((keq_R_PFK)^(hco_R_PFK/2.)) * M_atp_c * M_f6p_c) - (((keq_R_PFK)^(-hco_R_PFK/2.)) * M_adp_c * M_fdp_c) ) )) / sqrt(kmc_R_PFK_M_atp_c * kmc_R_PFK_M_f6p_c * kmc_R_PFK_M_adp_c * kmc_R_PFK_M_fdp_c) / (( (1 + (M_atp_c/kmc_R_PFK_M_atp_c)) * (1 + (M_f6p_c/kmc_R_PFK_M_f6p_c)) ) + ( (1 + (M_adp_c/kmc_R_PFK_M_adp_c)) * (1 + (M_fdp_c/kmc_R_PFK_M_fdp_c)) ) - 1)
</span></span></code></pre></div><p>Each of the parameters here is also defined in the last part of the file, for example <code>kmc_R_PFK_M_atp_c = 0.117</code>.</p>
<h3 id="chemical-master-equation-cme">
  Chemical Master Equation (CME)
  <a href="#chemical-master-equation-cme">
    
  </a>
</h3>
<p>In order to simulate the genetic systems the paper uses the chemical master equation.
This method is used to simulate stochastic (random) systems.
The following functions are simulated in the CME:</p>
<ul>
<li>DNA transcription to mRNA</li>
<li>mRNA translation to proteins</li>
<li>mRNA degradation</li>
<li>DNA replication</li>
<li>tRNA charging</li>
</ul>
<p>The name “chemical master equation” sounds very complicated, but what it boils down to is actually a very simple algorithm, called the Gillespie algorithm.
At every time t, we calculate the “propensity” for each reaction, which is the rate multiplied by the concentration of the reactants.
We choose a random timestep to advance the simulation by, based on the total propensity.
The higher the total propensity, the smaller the average timestep will be.</p>
<p><code>Δt = (1 / totalPropensity) * ln(1 / randomNumber)</code></p>
<p>We then pick a random reaction, the higher the propensity the higher the chance to be picked.
This reaction is then “executed”, and the concentrations are adjusted to reflect this.
And thats it, we just repeat this until we reached our target time and then return the resulting concentrations.</p>
<p>So what happens in practice is that we are constantly picking random genes to be translated to mRNA and random mRNA strings to be translated to proteins.
This results in variation between different cells. Some cells grow quicker, or start DNA replication sooner.
When running the program multiple times, you get a different result each time, just like you would in the real world.</p>
<h3 id="ordinary-differential-equation-ode">
  Ordinary Differential Equation (ODE)
  <a href="#ordinary-differential-equation-ode">
    
  </a>
</h3>
<p>The metabolic reactions are calculated deterministically (not random) using an ordinary differential equation (ODE).
The different systems that are included are:</p>
<ul>
<li>Central metabolism</li>
<li>Lipid metabolism</li>
<li>Nucleotide metabolism</li>
<li>Amino acid metabolism</li>
<li>Cofactor metabolism</li>
<li>Transport reactions</li>
</ul>
<p>Differential equations are very common in computer software.
For example when creating a game, one often simulates movement by constantly increasing the position with the velocity multiplied by Δt.
In this case the velocity is the derivative of the position.</p>
<p>In our biological simulation, the concentrations are increased by the reaction rates multiplied by Δt.
For each metabolite we count up the reactions that consume it, and the reactions that produce it.
This produces a very large derivative function, which is very “stiff”.
Stiff means that the function is very unstable and quickly goes to infinity when not integrated carefully.</p>
<p>To solve this differential equation we need to use a specialised integration method called LSODA.
This algorithm constantly checks the error and adjusts the timestep size to keep the integration stable.
LSODA was originally written in 1983 using the programming language Fortran.
But thankfully there is the project <a href="https://github.com/sdwfrost/liblsoda/tree/master">libsoda</a> that has a C version of the code.</p>
<p>Using the tool <code>Emscripten</code> its possible to compile this code to Web Assembly (WASM), so we can run it in the browser.
This has the added advantage that its really fast, because Web Assembly runs directly on the CPU which makes it much faster than JavaScript.</p>
<h3 id="communication-between-cme-and-ode">
  Communication between CME and ODE
  <a href="#communication-between-cme-and-ode">
    
  </a>
</h3>
<p>We now have two separate systems, the CME for genetic processes and the ODE for metabolism.
To combine these we need to have some form of communication between them.</p>
<p>The base of the simulation is the CME, this is initialised with the initial concentrations.
After every second of simulation, the CME particles are converted to ODE concentrations and written to the ODE.
The ODE is then integrated for 1 second and the resulting concentrations are converted back to particles and written to the CME. This is repeated until the simulation end time is reached.</p>
<h3 id="results">
  Results
  <a href="#results">
    
  </a>
</h3>
<p>Below you can see the results from one of the simulations.
After comparing them to the results in the paper, they seem to be similar and thus validate the correctness of the simulation.
Over multiple runs, the volume reaches the maximum of 6.7e-17 L around 60 - 70 minutes.</p>
<p><img src="https://technistuff.com/images/sim-3-vol.png" alt="Volume"></p>
<p>The graph below shows some of the pools of available metabolites.</p>
<p><img src="https://technistuff.com/images/sim-3-met.png" alt="Metabolites"></p>
<p>And this last graph shows the ATP usage on several activities. As you can see, DNA replication starts at around 35 minutes and completes 85 minutes into the simulation. This varies a lot across runs, and can start from as early as 5 minutes into the simulation.
Sometimes it even replicates the complete genome twice.</p>
<p><img src="https://technistuff.com/images/sim-3-atp.png" alt="ATP"></p>
<p>With some optimisations the performance is also quite good, simulating a full cycle in around 20 minutes on a 5 year old MacBook.
This happens in the browser and on a single thread, so with web workers it would be able to run multiple simulations in parallel.</p>
<h3 id="future">
  Future
  <a href="#future">
    
  </a>
</h3>
<p>The simulation does not include any cell cycle mechanics at the moment.
So cell division is done in the paper using a rule based approach.
In my opinion this is an obvious next research area to explore in the future.
Another goal is to scale this up to more complicated cells like human cells, which would be very interesting to easily study the effects of drugs.</p>
<p>The next frontier is a full molecular dynamics simulation of an entire cell.
In this kind of simulation, you simulate each atom (or small groups of atoms) individually, which is much closer to reality.
This is being worked on in some initial research, for example the paper <a href="https://www.frontiersin.org/articles/10.3389/fchem.2023.1106495/full">Molecular dynamics simulation of an entire cell</a>.
At the moment scientists are still missing a lot of data and software capabilities, so this will probably take a long time before becoming a reality.</p>
<h3 id="code">
  Code
  <a href="#code">
    
  </a>
</h3>
<p>The complete source code for this project is publicly available on <a href="https://github.com/boukestam/cell">my GitHub</a>.</p>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Open source Spotify client that doesn't require Premium nor uses Electron (624 pts)]]></title>
            <link>https://github.com/KRTirtho/spotube</link>
            <guid>39066136</guid>
            <pubDate>Sat, 20 Jan 2024 10:16:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/KRTirtho/spotube">https://github.com/KRTirtho/spotube</a>, See on <a href="https://news.ycombinator.com/item?id=39066136">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:KRTirtho/spotube" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="YRs8ny8tIcSATtRbBCQLdK7OQjNkDS_wB3uFE7plAdcs4dOWesJZfQJdGuCnWfhtHXzVdMe966tuZpRqhDcibw" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="KRTirtho/spotube" data-current-org="" data-current-owner="KRTirtho" data-logged-in="false" data-copilot-chat-enabled="false" data-blackbird-indexed-repo-csrf="<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=pYQGzcGBMu%2BsedrOAqemQf%2FAnMqIyDWvi5BPuIsSIXjCV20ecNWT27vXGm%2BX2e%2BTJ4f4Up51RlFH4NpRLA5sSwXb%2Fc7VHahebNsgBeEVfUjkxjxqjs1NY8OO4zFEqOd9oIem1xpInKCW5diS0DI%2B0ys4EOPZ3GOeOlOiA9SSWiKBKyT50SHDLqRK2GFAbEflOFCVOsTEx3owsnOpIYmsJnYmmyRrcr2H0xiOkxeieQckeJLcYM6LHF%2BhSsJGBQ%2Blszgg7%2FOWwHQ1ShyLyFplJmELApl46LeUd4qFd3G5jOe4PIWqoyRj%2FK42m5o%2B%2FYjwofQAAP77feInfcA%2FERPM%2FzEXd%2BOBGrwYv2YqOESlGfO9x1q3aIXiHNLFYL%2FSJTzxO9x1PkO8tACQksQ6c7HxUzK4193xsF9En9VP8AoBGEB18KSBp08d3g69swhqUqxpwftBXIZZDsy6Xsv8VJ%2FknEkxUuImGVhwV6dsuc0kaSpcYLgxlek46VHkBYQflEvNVLjuaFJpbQTWnSFW8bc%3D--Cy%2FVkzZ00HgsgWJb--1xfbe74t3YAv54L02OGdWQ%3D%3D&quot; />">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="feedback-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        
      </scrollable-region>
      
</modal-dialog></div>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="custom-scopes-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        
      </scrollable-region>
      
</modal-dialog></div>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=KRTirtho%2Fspotube" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/KRTirtho/spotube&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="07cf95093b6e5104d7aad24dd7cddc7bcf78aef127e1e9df5ad98c8a4488481d" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Retired teacher's pension stopped as provider refuses to believe she is not dead (236 pts)]]></title>
            <link>https://www.theguardian.com/money/2024/jan/20/retired-teachers-pension-stopped-as-provider-refuses-to-believe-she-is-not-dead</link>
            <guid>39066012</guid>
            <pubDate>Sat, 20 Jan 2024 09:46:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theguardian.com/money/2024/jan/20/retired-teachers-pension-stopped-as-provider-refuses-to-believe-she-is-not-dead">https://www.theguardian.com/money/2024/jan/20/retired-teachers-pension-stopped-as-provider-refuses-to-believe-she-is-not-dead</a>, See on <a href="https://news.ycombinator.com/item?id=39066012">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent"><p>A retired teacher has had her pension payments stopped four times because her pension provider repeatedly refuses to accept that she is not dead.</p><p>Eileen McGrath, 85, was left without income over Christmas when Teachers’ <a href="https://www.theguardian.com/money/pensions" data-link-name="in body link" data-component="auto-linked-tag">Pensions</a>, which administers payments on behalf of the UK government, wrongly matched her with a deceased stranger.</p><p>“In November I had received two letters from Teachers’ Pensions asking me euphemistically if I was dead,” she said. “I immediately called to make it clear that I was very much alive. Nevertheless, a week later two more letters arrived asking the same thing, so I wrote back to reiterate that I had still not died.”</p><p>Four days before Christmas, McGrath discovered that her pension had not been paid. Despite a further call to Teachers’ Pensions the widow’s pension payment she also receives from the scheme was also stopped. Both payments were eventually made on 2 January after she complained.</p><p>McGrath said that she has been repeatedly asked to prove her existence since 2020 and faces losing her income each time. During the second lockdown she was staying at her son’s house and missed letters checking her circumstances. She only discovered there was a problem when her pension was not paid.</p><p>She had fallen victim to a vetting procedure that regularly checks pension beneficiaries against the death register to prevent ineligible payments. According to the Department for Education (DfE), which oversees Teachers’ Pensions, death register entries may be matched to scheme members even if personal details differ.</p><p>The DfE told the Guardian that once a possible match has been identified, the beneficiary may be asked to confirm that they are not the same deceased stranger every 12 months since the system, administered by Capita, does not log a disproved link.</p><p>Letters sent to pensioners after a match state that a new process provides updates from the General Register Office on changes of personal circumstances and asks the recipient to get in touch. However, letters make no mention of a deadline or the fact that their payments will cease if they do not respond within 28 days. A spokesperson said this was “to avoid causing upset”.</p><p>McGrath said: “After I complained, my pension was reinstated but there was no apology. The General Register Office lists the full name and the year of birth of deceased people. It is virtually impossible that there are any other retired teachers with my name and birth date who are dying year on year.”</p><p>She said the letters did not make clear that pensioners should get in touch if their circumstances had not changed.</p><p>“Do they really think that it would be more distressing to be warned that you might lose your pension if you don’t reply within 28 days, than to have payments stopped without notice?” she said. “This is Alice in Wonderland territory.”</p><p>According to Steve Webb, a partner at the pension consultants LCP, providers would be expected to filter and investigate inexact matches on the death register before contacting a beneficiary, and payments should never be suspended without specific warnings.</p><p>“While it is right and proper for pension schemes to make sure they are not paying out pensions to people who have died, there should be a high level of certainty that someone has died before pensions are stopped,” he said. “Rich data sources are available to help cross-check for accuracy if there is a possibility that a scheme member has died, and should be a built-in part of the process. Where someone has verified that they are still alive, they should then be treated the same as any other member and not subject to unnecessary additional checks, year after year.”</p><p>After the Guardian queried the process, the DfE said it would make an exception and decouple McGrath’s name from the deceased’s so that she would not be contacted about it again.</p><p>“Fortunately, I have enough money in my savings account to weather these incidents but I am sure that’s not the case for everyone,” McGrath said. “Besides which, it’s unpleasant and distressing to be told periodically that they think you are dead.”</p></div></div>]]></description>
        </item>
    </channel>
</rss>