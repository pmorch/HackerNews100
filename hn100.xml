<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 29 May 2024 18:30:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Ticketmaster breach affects more than half a billion users (149 pts)]]></title>
            <link>https://mashable.com/article/ticketmaster-data-breach-shinyhunters-hack</link>
            <guid>40513875</guid>
            <pubDate>Wed, 29 May 2024 16:36:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mashable.com/article/ticketmaster-data-breach-shinyhunters-hack">https://mashable.com/article/ticketmaster-data-breach-shinyhunters-hack</a>, See on <a href="https://news.ycombinator.com/item?id=40513875">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="article" data-autopogo="">
<p>To its critics, it seems Ticketmaster may be experiencing some <a href="https://mashable.com/article/taylor-swift-eras-tour-ticketmaster-statement" target="_self"><u>karma</u></a> lately for years of being the <a href="https://mashable.com/article/swifties-take-down-ticketmaster-eras-tour" target="_self"><u>bane of concertgoers' existence</u></a>. Unfortunately its latest hassle ‚Äî a massive data leak ‚Äî also negatively impacts consumers.</p><p>Just last week, the U.S. Justice Department <a href="https://mashable.com/article/ticketmaster-lawsuit-live-nation" target="_self"><u>filed an antitrust lawsuit</u></a> against the ticketing conglomerate. The DOJ is seeking to break up the alleged monopoly its parent company, Live Nation Entertainment, holds over the live music and entertainment industry ‚Äì potentially a good thing for consumers.</p><p>But Amid this nightmare for the company, a hacker group is now claiming to have stolen more than 500 million Ticketmaster customers' data in an attack.</p>
<p>Originally reported by cybersecurity outlets like <a href="https://www.hackread.com/hackers-ticketmaster-data-breach-560m-users-sale/" target="_blank" title="(opens in a new window)"><u>Hackread</u></a> and <a href="https://www.cyberdaily.au/security/10632-hackers-claim-ticketmaster-live-nation-data-breach-more-than-500m-compromised" target="_blank" title="(opens in a new window)"><u>Cyber Daily</u></a>, The "notorious hacker group" ShinyHunters is claiming responsibility for the breach affecting roughly 560 million Ticketmaster customers. The hacker group is selling the 1.3 terabyte-sized trove of data for a one-time price of $500,000 on a popular hacking forum.</p><h2><strong>What Ticketmaster data was stolen?</strong></h2><p>According to ShinyHunters, this is an immense trove of sensitive user data.&nbsp;</p><p>The group allegedly has Ticketmaster customers' full names, addresses, phone numbers, email addresses, and order history information including ticket purchase details and Ticketmaster event information.&nbsp;</p><section x-data="window.newsletter()" x-init="init()" data-ga-impression="" data-ga-category="newsletters" data-ga-module="incontent_nl_signup" data-ga-label="mashablelightspeed">
<p>
Mashable Light Speed
</p>


</section>
<p>In addition, hackers also allegedly have customers' partial payment data which includes names, the last four digits of their credit card numbers, and card expiration dates.</p><p>Again, this sensitive data is connected to roughly half a billion users.</p><p>Mashable has reached out to Ticketmaster and will update this piece when we hear back.</p><h2><strong>How did this happen?</strong></h2><p>As of the publishing of this article, it's unclear exactly how ShinyHunters carried out its attack. Ticketmaster has yet to comment on the situation or corroborate the hackers' claims.</p><p>However, Australia's Home Affairs Department has <a href="https://www.abc.net.au/news/2024-05-29/ticketmaster-hack-allegedlyshinyhunter-customers-data-leaked/103908614" target="_blank" title="(opens in a new window)"><u>confirmed</u></a> a "cyber incident impacting Ticketmaster customers." Due to the time frame in which the hackers shared their breach, it appears Australian outlets were the first to cover the news.</p><p>Ticketmaster has struggled with bad actors online using bots and other methods to disrupt the ticketing service and scoop up tickets to resell. The company also has a history of being the bad actor itself when it comes to electronic data. In 2020, the company agreed to pay <a href="https://www.theverge.com/2020/12/30/22206955/ticketmaster-songkick-crowdsurge-hacking-deferred-prosecution-fine" target="_blank" title="(opens in a new window)"><u>$10 million</u></a> to rival ticketing company SongKick after individuals on Ticketmaster's payroll obtained login credentials and gained unauthorized access to its competitors' computers.</p><p>As for ShinyHunters, Mashable has had a <a href="https://mashable.com/article/mashable-data-security-issue" target="_self"><u>prior run-in</u></a> with the hacker group as the company was once a victim of its <a href="https://www.hackread.com/shinyhunters-hacker-leaks-mashable-database/" target="_blank" title="(opens in a new window)"><u>attacks</u></a> in 2020. ShinyHunters was able to breach a database connected to a since-disabled Mashable feature that allowed readers to login to the site with their social media accounts from services like Facebook. The stolen data included information like email addresses but did not include more sensitive data like passwords or financial details.</p><p>According to ShinyHunters, the group attempted to contact Ticketmaster about the breach but have yet to receive a response.</p>

</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Canada wants the power to create backdoors in telecom networks for surveillance (205 pts)]]></title>
            <link>https://www.theglobeandmail.com/opinion/article-ottawa-wants-the-power-to-create-secret-backdoors-in-our-networks-to/</link>
            <guid>40512509</guid>
            <pubDate>Wed, 29 May 2024 14:43:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theglobeandmail.com/opinion/article-ottawa-wants-the-power-to-create-secret-backdoors-in-our-networks-to/">https://www.theglobeandmail.com/opinion/article-ottawa-wants-the-power-to-create-secret-backdoors-in-our-networks-to/</a>, See on <a href="https://news.ycombinator.com/item?id=40512509">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="content-gate" data-sophi-feature="article body"><p><i>Kate Robertson is a senior research associate and Ron Deibert is director at the University of Toronto‚Äôs Citizen Lab.</i></p><p>A federal cybersecurity bill, slated to advance through Parliament soon, contains secretive, encryption-breaking powers that the government has been loath to talk about. And they threaten the online security of everyone in Canada.</p><p>Bill C-26 empowers government officials to secretly order telecommunications companies to install backdoors inside encrypted elements in Canada‚Äôs networks. This could include requiring telcos to alter the<a href="https://www.3gpp.org/3gpp-groups/service-system-aspects-sa/sa-wg3"> 5G encryption standards</a> that protect mobile communications to facilitate government surveillance.</p><p>The government‚Äôs decision to push the proposed law forward without amending it to remove this encryption-breaking capability has set off alarm bells that these new powers are a feature, not a bug.</p><p>There are already many insecurities in today‚Äôs networks, reaching down to the infrastructure layers of communication technology. The Signalling System No. 7, developed in 1975 to route phone calls, has<a href="https://citizenlab.ca/2020/12/running-in-circles-uncovering-the-clients-of-cyberespionage-firm-circles/"> become a major source of insecurity</a> for cellphones. In 2017, the CBC demonstrated how<a href="https://www.cbc.ca/news/politics/hackers-cellphone-security-1.4406338"> hackers only needed a Canadian MP‚Äôs cell number</a> to intercept his movements, text messages and phone calls. Little has changed since: A<a href="https://citizenlab.ca/2023/10/finding-you-teleco-vulnerabilities-for-location-disclosure/"> 2023 Citizen Lab report</a> details pervasive vulnerabilities at the heart of the world‚Äôs mobile networks.</p><p>So it makes no sense that the Canadian government would itself seek the ability to create more holes, rather than patching them. Yet it is pushing for potential new powers that would infect next-generation cybersecurity tools with old diseases.</p><p>It‚Äôs not as if the government wasn‚Äôt warned. Citizen Lab researchers<a href="https://www.ourcommons.ca/Content/Committee/441/SECU/Brief/BR12829919/br-external/CitizenLab-Combine-e.pdf"> presented the 2023 report‚Äôs findings</a> in parliamentary hearings on Bill C-26, and <a href="https://www.ourcommons.ca/Content/Committee/441/SECU/Brief/BR12566103/br-external/Jointly1-e.pdf">leaders and experts in civil society</a> and in Canada‚Äôs<a href="https://www.ourcommons.ca/documentviewer/en/44-1/SECU/meeting-94/evidence#Int-12577753"> telecommunications industry</a> warned that the bill must be narrowed to prevent its broad powers to compel<a href="https://www.parl.ca/DocumentViewer/en/44-1/bill/C-26/second-reading#:~:text=telecommunications%20service%20provider.-,Order,-(2)"> technical changes</a> from being used to compromise the <a href="https://www.ourcommons.ca/Content/Committee/441/SECU/Brief/BR12566103/br-external/Jointly1-e.pdf">‚Äùconfidentiality, integrity, or availability‚Äù</a> of telecommunication services. And yet, while government MPs maintained that their intent is not to expand surveillance capabilities, MPs pushed the bill out of committee without this critical amendment last month. In doing so, the government has set itself up to be the sole arbiter of when, and on what conditions, Canadians deserve security for their most confidential communications ‚Äì personal, business, religious, or otherwise.</p><p>The new powers would only make people in Canada more vulnerable to malicious threats to the privacy and security of all network users, including<a href="https://www.cbc.ca/news/politics/imsi-cellphones-spying-ottawa-1.4050049"> Canada‚Äôs most senior officials</a>. Encryption of 5G technology safeguards a web of connection points surrounding mobile communications, and protects users from man-in-the-middle attacks that intercept their text and voice communications or location data. The law would also impact <a href="https://www.cyber.gc.ca/en/guidance/cyber-security-considerations-5g-networks-itsap80116?ref=busrides.ghost.io">cloud-connected smart devices like cars, home CCTV, or pacemakers</a>, and<a href="https://www.cyber.gc.ca/en/guidance/satellite-communications-itsap80029"> satellite-based services like Starlink</a> ‚Äì all of which could be compromised by any new vulnerabilities.</p><p>Unfortunately, history is rife with<a href="https://www.theguardian.com/world/2013/sep/05/nsa-gchq-encryption-codes-security"> government backdoors</a> exposing individuals to deep levels of cyber-insecurity. Backdoors can be exploited by law enforcement, criminals and foreign rivals alike. For this reason, past heads of<a href="https://www.businessinsider.com/michael-hayden-encryption-apple-2016-2"> the CIA, the NSA</a> and<a href="https://www.theatlantic.com/politics/archive/2015/07/former-national-security-officials-see-the-peril-of-weakening-encryption/399848/"> the U.S. Department of Homeland Security</a>, as well as Britain‚Äôs Government Communications Headquarters<a href="https://www.theregister.com/2017/07/10/former_gchq_wades_into_encryption_debate/"> (GCHQ</a>) and<a href="https://www.theguardian.com/technology/2017/aug/11/ex-mi5-chief-warns-against-crackdown-encrypted-messaging-apps"> MI5</a>, all oppose measures that would weaken encryption. Interception equipment relied upon by governments<a href="https://theintercept.com/2015/09/28/death-athens-rogue-nsa-operation/"> has also often been shown</a> to have<a href="https://arstechnica.com/information-technology/2014/05/root-backdoor-found-in-surveillance-gear-used-by-law-enforcement/"> significant security weaknesses</a>.</p><p>The bill‚Äôs new spy powers also reveal incoherence in the government‚Äôs cybersecurity strategy. In 2022, Canada announced it would be blocking telecom equipment from Huawei and ZTE, citing the ‚Äú<a href="https://www.canada.ca/en/innovation-science-economic-development/news/2022/05/policy-statement--securing-canadas-telecommunications-system.html">cascading economic and security impacts</a>‚Äù that a supply-chain breach would engender. The government cited concerns that the Chinese firms might be ‚Äú<a href="https://www.canada.ca/en/innovation-science-economic-development/news/2022/05/policy-statement--securing-canadas-telecommunications-system.html">compelled to comply with extrajudicial directions from foreign governments</a>.‚Äù And yet, Bill C-26 would quietly provide Canada with the same authority that it publicly condemned. If the bill passes as-is, all telecom providers in Canada would be compellable through secret orders to weaken encryption or network equipment. It doesn‚Äôt just contradict Canada‚Äôs own<a href="https://citizenlab.ca/2019/08/canadas-new-and-irresponsible-encryption-policy-how-the-government-of-canadas-new-policy-threatens-charter-rights-cybersecurity-economic-growth-and-foreign-policy/"> pro-encryption policy</a> and<a href="https://www.cyber.gc.ca/en/guidance/satellite-communications-itsap80029#:~:text=Ensure%20SATCOM%20equipment"> expert guidance</a> ‚Äì authoritarian governments abroad would also be able to point to Canada‚Äôs law to justify their own repressive security legislation.</p><p>Now, more than ever, there is no such thing as a safe backdoor. The GCHQ<a href="https://www.ncsc.gov.uk/report/commercial-cyber-proliferation-assessment"> reports</a> that the threat from commercial hacking firms will be ‚Äútransformational on the cyber landscape,‚Äù and that cyber mercenaries wield capabilities rivalling that of state cyber-agencies. If the Canadian government compels telcos to undermine security features to accommodate surveillance, it will pave the way for<a href="https://citizenlab.ca/2020/12/running-in-circles-uncovering-the-clients-of-cyberespionage-firm-circles/"> cyberespionage firms</a> and other adversaries to find<a href="https://citizenlab.ca/2023/09/predator-in-the-wires-ahmed-eltantawy-targeted-with-predator-spyware-after-announcing-presidential-ambitions/"> more ways</a> into<a href="https://citizenlab.ca/2018/03/bad-traffic-sandvines-packetlogic-devices-deploy-government-spyware-turkey-syria/"> people‚Äôs communications</a>. A shortcut that provides a narrow advantage for the few at the expense of us all is no way to secure our complex digital ecosystem.</p><p>Against this threat landscape, a pivot is crucial. Canada needs cybersecurity laws that explicitly recognize that uncompromised encryption is the backbone of cybersecurity, and it must be mandated and protected by all means possible.</p></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I sold TinyPilot, my first successful business (151 pts)]]></title>
            <link>https://mtlynch.io/i-sold-tinypilot/</link>
            <guid>40512500</guid>
            <pubDate>Wed, 29 May 2024 14:42:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mtlynch.io/i-sold-tinypilot/">https://mtlynch.io/i-sold-tinypilot/</a>, See on <a href="https://news.ycombinator.com/item?id=40512500">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>My first two years as a bootstrapped founder went poorly. I could barely find any paying customers, and all of my businesses lost money. I began questioning my decision to <a href="https://mtlynch.io/why-i-quit-google">quit my cushy Google job</a>.</p><p>In mid-2020, yet another of my businesses <a href="https://mtlynch.io/retrospectives/2020/04/">had flopped</a>, and it was only kind of COVID‚Äôs fault. Desperate for a distraction, I made a little contraption that controlled my home servers through my web browser. I called it <a href="https://tinypilot.com/">TinyPilot</a>.</p><figure><a href="https://mtlynch.io/i-sold-tinypilot/tinypilot-prototype.webp"><img sizes="(min-width: 768px) 450px, 98vw" srcset="https://mtlynch.io/i-sold-tinypilot/tinypilot-prototype_huc1709141dac74b1fb4f432b5e42581d9_224386_300x0_resize_q90_h2_lanczos_2.webp 300w,
https://mtlynch.io/i-sold-tinypilot/tinypilot-prototype_huc1709141dac74b1fb4f432b5e42581d9_224386_600x0_resize_q90_h2_lanczos_2.webp 600w,
https://mtlynch.io/i-sold-tinypilot/tinypilot-prototype_huc1709141dac74b1fb4f432b5e42581d9_224386_800x0_resize_q90_h2_lanczos_2.webp 800w,
https://mtlynch.io/i-sold-tinypilot/tinypilot-prototype_huc1709141dac74b1fb4f432b5e42581d9_224386_1200x0_resize_q90_h2_lanczos_2.webp 1200w,
https://mtlynch.io/i-sold-tinypilot/tinypilot-prototype.webp 1600w" src="https://mtlynch.io/i-sold-tinypilot/tinypilot-prototype.webp" alt="Photo of a laptop open with 'Hello, World' printed on the screen. On another laptop, the same desktop is displayed within a TinyPilot web interface." loading="lazy"></a><figcaption><p>The prototype of TinyPilot, which allowed me to control computers in my home remotely without installing any software</p></figcaption></figure><p>I <a href="https://mtlynch.io/tinypilot/">blogged about creating TinyPilot</a>, and I immediately knew I was onto something. My post reached the <a href="https://news.ycombinator.com/item?id=23927380">#1 spot on Hacker News</a> and <a href="https://www.reddit.com/r/programming/comments/hwt1it/tinypilot_build_a_kvm_over_ip_for_under_100/">several</a> <a href="https://www.reddit.com/r/HomeServer/comments/jeoc74/tinypilot_build_a_kvm_over_ip_for_under_100/">popular</a> <a href="https://www.reddit.com/r/homelab/comments/hwimys/tinypilot_build_a_kvm_over_ip_for_under_100/">subreddits</a>.</p><p>I started offering pre-packaged kits so my readers could build their own TinyPilots, and they immediately sold out. With every other project, I had to beg and plead with people even to try my product. With TinyPilot, there was so much demand that I struggled for months to keep the product stocked.</p><p>For the next four years, I focused full-time on building TinyPilot into a business and improving the product. I grew the company to a team of seven people and <a href="https://mtlynch.io/solo-developer-year-6/#tinypilot-became-20x-more-profitable">$1M in annual revenue</a>.</p><p>A month ago, I sold the company for $600k.</p><figure><div><p><a href="https://mtlynch.io/i-sold-tinypilot/2a-front.webp"><img sizes="(min-width: 768px) 400px, 98vw" srcset="https://mtlynch.io/i-sold-tinypilot/2a-front_hu4a4fe4485c4f5b136908c096ea5f50a0_50606_300x0_resize_q90_h2_lanczos_2.webp 300w,
https://mtlynch.io/i-sold-tinypilot/2a-front_hu4a4fe4485c4f5b136908c096ea5f50a0_50606_600x0_resize_q90_h2_lanczos_2.webp 600w,
https://mtlynch.io/i-sold-tinypilot/2a-front_hu4a4fe4485c4f5b136908c096ea5f50a0_50606_800x0_resize_q90_h2_lanczos_2.webp 800w,
https://mtlynch.io/i-sold-tinypilot/2a-front.webp 800w" src="https://mtlynch.io/i-sold-tinypilot/2a-front.webp" alt="Front view of TinyPilot Voyager 2a device" loading="lazy"></a></p><p><a href="https://mtlynch.io/i-sold-tinypilot/tinypilot-bios-menu-2.webp"><img sizes="(min-width: 768px) 500px, 98vw" srcset="https://mtlynch.io/i-sold-tinypilot/tinypilot-bios-menu-2_hu56211ece14bdb48ec8faba25fba3903f_92902_300x0_resize_q90_h2_lanczos_2.webp 300w,
https://mtlynch.io/i-sold-tinypilot/tinypilot-bios-menu-2_hu56211ece14bdb48ec8faba25fba3903f_92902_600x0_resize_q90_h2_lanczos_2.webp 600w,
https://mtlynch.io/i-sold-tinypilot/tinypilot-bios-menu-2_hu56211ece14bdb48ec8faba25fba3903f_92902_800x0_resize_q90_h2_lanczos_2.webp 800w,
https://mtlynch.io/i-sold-tinypilot/tinypilot-bios-menu-2_hu56211ece14bdb48ec8faba25fba3903f_92902_1200x0_resize_q90_h2_lanczos_2.webp 1200w,
https://mtlynch.io/i-sold-tinypilot/tinypilot-bios-menu-2.webp 1515w" src="https://mtlynch.io/i-sold-tinypilot/tinypilot-bios-menu-2.webp" alt="Screenshot of TinyPilot web interface" loading="lazy"></a></p></div><figcaption><p>Over the next four years, TinyPilot evolved into a more refined product.</p></figcaption></figure><h2 id="details-of-the-sale">Details of the sale<a href="#details-of-the-sale" arialabel="Anchor"> üîóÔ∏é</a></h2><ul><li>Sale price: $598,000 (2.4x annual earnings)</li><li>Broker commission: $88,900</li><li>Legal fees: $18,297</li><li>My profit from the sale: $490,803</li><li>Payment terms: Full cash payment at closing (no earnout, no seller financing)</li><li>Seller obligations:<ul><li>30 days of free consulting (max of 40 hours/week, 80 hours total)</li><li>45 days of paid consulting (max of 10 hours/week at $180/hr)</li></ul></li><li>Lifetime profit from business (including final sale): $920k over four years</li></ul><h2 id="what-am-i-allowed-to-say">What am I allowed to say?<a href="#what-am-i-allowed-to-say" arialabel="Anchor"> üîóÔ∏é</a></h2><p>I specifically negotiated in the sale agreement that I could discuss the terms of the sale and the process of selling the business.</p><p>I can‚Äôt say anything disparaging about TinyPilot or reveal anything about TinyPilot that would give its competitors a meaningful advantage.</p><h2 id="part-1-preparing-to-sell">Part 1: Preparing to sell<a href="#part-1-preparing-to-sell" arialabel="Anchor"> üîóÔ∏é</a></h2><h3 id="why-sell">Why sell?<a href="#why-sell" arialabel="Anchor"> üîóÔ∏é</a></h3><p>After years of flops, I was finally earning a consistent profit, selling a product I was proud of, and working with a great team. Wasn‚Äôt that exactly what I wanted?</p><p>I missed writing code. TinyPilot is a hardware business, so there were tons of moving parts beyond the software. I was the sole manager of six people on three distinct teams and managed relationships with our key vendors. I rarely had uninterrupted time for deep focus, and when I did, I felt too exhausted from juggling everything else.</p><p>My wife and I also wanted to start a family. TinyPilot only occupied about 20% of my time, but it occupied 90% of my stress. I would have done a terrible job juggling founder stress with new parent stress.</p><h3 id="who-would-want-to-buy-such-a-strange-business">Who would want to buy such a strange business?<a href="#who-would-want-to-buy-such-a-strange-business" arialabel="Anchor"> üîóÔ∏é</a></h3><p>TinyPilot fell into an odd, in-between business category. It was a hardware manufacturer, a software company, and an eCommerce store. How would I find a buyer comfortable with all three?</p><p>There were larger competitors selling equivalent devices to TinyPilot for twice the price. I considered approaching enterprise competitors and saying, ‚ÄúGive me a million dollars, and I‚Äôll never build another TinyPilot.‚Äù</p><figure><a href="https://mtlynch.io/i-sold-tinypilot/aten.webp"><img sizes="(min-width: 768px) 500px, 98vw" srcset="https://mtlynch.io/i-sold-tinypilot/aten_hu8f343109c1e4cef24920462cf9a0ce07_67396_300x0_resize_q90_h2_lanczos_2.webp 300w,
https://mtlynch.io/i-sold-tinypilot/aten_hu8f343109c1e4cef24920462cf9a0ce07_67396_600x0_resize_q90_h2_lanczos_2.webp 600w,
https://mtlynch.io/i-sold-tinypilot/aten_hu8f343109c1e4cef24920462cf9a0ce07_67396_800x0_resize_q90_h2_lanczos_2.webp 800w,
https://mtlynch.io/i-sold-tinypilot/aten.webp 1056w" src="https://mtlynch.io/i-sold-tinypilot/aten.webp" alt="Screenshot of ATEN KVM over IP device selling for $929.95" loading="lazy"></a><figcaption><p>TinyPilot‚Äôs enterprise competitors sell similar devices for twice the price.</p></figcaption></figure><p>But I didn‚Äôt want to sell out. I‚Äôd asked customers to take a chance on me as a new, unproven hardware manufacturer. Running off with the cash would have felt like a massive betrayal to my customers and the TinyPilot team.</p><p>I wanted a buyer who would keep investing in the company, not a competitor who would just axe the product or bleed it dry.</p><h3 id="fe-international-the-wrong-broker-for-tinypilot">FE International: The wrong broker for TinyPilot<a href="#fe-international-the-wrong-broker-for-tinypilot" arialabel="Anchor"> üîóÔ∏é</a></h3><p>In October 2022, I reached out to <a href="https://feinternational.com/">FE International</a>, the only brokerage I‚Äôd ever heard of that catered to bootstrapped founders. I wasn‚Äôt ready to sell, but I wanted to understand the path to an exit.</p><p>FE initially seemed interested. Then, after a few email exchanges and seeing my financials, they gave me a soft brushoff:</p><blockquote><p>Unfortunately, with the current set up of two main SKUs generating roughly 98% of your revenue, this would not be a good fit for most buyers. Buyers typically want to see that a business has a minimum of 10 SKUs, and that none of these SKUs generate more than 30% of revenue.</p><p>At this time we would advise, in preparation for a sale to start to consider increasing your product offering. These don‚Äôt always have to be completely new products, and this could also be USB-C cables, wall plugs, ethernet cables, servers, display ports, HDMI cables etc, this would also help to increase your AOV.</p></blockquote><p>After FE‚Äôs rejection, I felt trapped and panicked.</p><p>I had invested hundreds of thousands of dollars into software and hardware engineering to make just one product, and I was barely scraping by. According to FE, I had no chance of selling unless I did <em>ten times</em> as much as I was currently doing?</p><h3 id="if-you-cant-get-out-get-comfortable">If you can‚Äôt get out, get comfortable<a href="#if-you-cant-get-out-get-comfortable" arialabel="Anchor"> üîóÔ∏é</a></h3><p>I didn‚Äôt want to shut down the company and lay everyone off, but I also didn‚Äôt want to carry the stress of running TinyPilot for the rest of my life. So, I looked for ways to make the business less stressful.</p><p>One of the most difficult parts of TinyPilot was hardware revisions. We were always redesigning TinyPilot‚Äôs hardware to make improvements, but that meant constantly finding new suppliers and rethinking our manufacturing pipeline. In 2023, I decided to keep the design we had and stop fiddling with the hardware.</p><p>The other source of complexity was TinyPilot‚Äôs office. We were still doing everything in-house: managing inventory, assembling devices, and fulfilling orders. I worked with TinyPilot‚Äôs in-person team to migrate the office‚Äôs core functions to external vendors. It was a major challenge to outsource so many delicate processes, but it eliminated an enormous amount of management overhead and stress.</p><p>The happy side-effect of making TinyPilot easier to manage was that it also made the company more attractive to potential buyers. When I stopped pouring $100k/year into hardware improvements, the company became <a href="https://mtlynch.io/solo-developer-year-6/#tinypilot-became-20x-more-profitable">substantially more profitable</a>. And without an office and custom in-house manufacturing, a prospective owner could run TinyPilot from anywhere in the world.</p><h2 id="part-2-starting-the-sales-process">Part 2: Starting the sales process<a href="#part-2-starting-the-sales-process" arialabel="Anchor"> üîóÔ∏é</a></h2><h3 id="the-strategic-acquirer">The strategic acquirer<a href="#the-strategic-acquirer" arialabel="Anchor"> üîóÔ∏é</a></h3><p>With the company in stronger shape, I decided to restart my search for a buyer. Going through a broker didn‚Äôt work, so I began contacting buyers on my own.</p><p>In his book <a href="https://books.builttosell.com/sp/the-art-of-selling-your-business-free-book-landing-page/"><em>The Art of Selling Your Business</em></a>, John Warrilow encourages founders to seek acquisitions from ‚Äústrategic buyers,‚Äù companies that could use your business as part of their growth strategy.</p><p>For example, if you‚Äôre a salsa company that consistently makes $100k/year, a typical buyer might acquire you for $300k. But a buyer who already manufactures tortilla chips would see obvious synergy between the two businesses, so your salsa company would be worth $400k-600k to them.</p><p><a href="https://mtlynch.io/i-sold-tinypilot/synergy.webp"><img sizes="(min-width: 768px) 400px, 98vw" srcset="https://mtlynch.io/i-sold-tinypilot/synergy_hu7952c8db89898233b2b0034f1600749c_64090_300x0_resize_q90_h2_lanczos_2.webp 300w,
https://mtlynch.io/i-sold-tinypilot/synergy_hu7952c8db89898233b2b0034f1600749c_64090_600x0_resize_q90_h2_lanczos_2.webp 600w,
https://mtlynch.io/i-sold-tinypilot/synergy_hu7952c8db89898233b2b0034f1600749c_64090_800x0_resize_q90_h2_lanczos_2.webp 800w,
https://mtlynch.io/i-sold-tinypilot/synergy_hu7952c8db89898233b2b0034f1600749c_64090_1200x0_resize_q90_h2_lanczos_2.webp 1200w,
https://mtlynch.io/i-sold-tinypilot/synergy.webp 1358w" src="https://mtlynch.io/i-sold-tinypilot/synergy.webp" alt="Screencap of Jack Donaghy from 30 Rock saying 'First of all, never badmouth synergy.'" loading="lazy"></a></p><p>I emailed the CEOs of five companies that complemented TinyPilot in some way. Most ignored me or gave polite brushoffs, but one company showed immediate interest. I‚Äôll call them ServerCo.</p><p>ServerCo was an attractive buyer. They were bootstrapped as well, they seemed culturally aligned with TinyPilot, and we sold complementary products to similar customers. Having never participated in an acquisition before, they were cautious but enthusiastic about buying TinyPilot.</p><p>ServerCo would email me a list of detailed questions about TinyPilot‚Äôs finances and risks, I‚Äôd answer in a day or two, and then there‚Äôd be weeks of silence. Finally, they‚Äôd respond with a new round of questions, and we‚Äôd start the cycle again.</p><p>After four months of intermittent discussions, ServerCo finally presented me with an offer:</p><ul><li>$150k cash</li><li>$100k employment contract for 12 months of full-time work</li><li>25% of TinyPilot‚Äôs profit the first year after closing</li><li>10% of TinyPilot‚Äôs profit the second year after closing</li></ul><p>They didn‚Äôt intend it to be an insultingly bad offer, but it was a pretty bad offer.</p><p>eCommerce companies typically sell for 2.5-3.5x earnings. The cash portiton of ServerCo‚Äôs offer was 0.9x TinyPilot‚Äôs earnings.</p><p>As for the salary, $100k/year is roughly what a software developer makes fresh out of college in the US. And that‚Äôs without a 12-month commitment.</p><p>I politely told ServerCo we were too far apart on price to continue negotiating, but we both agreed to keep the door open in case things changed.</p><h3 id="attending-microconf-and-meeting-quiet-light-brokerage">Attending Microconf and meeting Quiet Light Brokerage<a href="#attending-microconf-and-meeting-quiet-light-brokerage" arialabel="Anchor"> üîóÔ∏é</a></h3><p>In 2023, I attended <a href="https://microconf.com/">Microconf</a>, a small conference for bootstrapped founders. I hoped that to either find a potential buyer there or at least get advice from other founders about what to do with TinyPilot.</p><p>One of the sponsors of the conference was a brokerage I‚Äôd never heard of, <a href="https://quietlight.com/">Quiet Light</a>. They piqued my interest because not only did they cater to bootstrapped founders, they worked with a lot of eCommerce companies.</p><p>At the event, I spoke with Chris Guthrie, an advisor at Quiet Light. He seemed optimistic about selling TinyPilot, so after the conference, he began working with me on a sales package. It was a set of documents and financial reports to show prospective TinyPilot buyers. It included a profit and loss statement for the past two years, a detailed questionnaire about the company, and a brief video interview with me.</p><p>Chris recommened presenting TinyPilot mainly as an eCommerce business with an asking price of around 3x the last twelve months of earnings. At the time, earnings were $208k, so we agreed to list at $599k, roughly 2.9x earnings.</p><figure><a href="https://mtlynch.io/i-sold-tinypilot/quiet-light-launch.png"><img sizes="(min-width: 768px) 341px, 98vw" srcset="https://mtlynch.io/i-sold-tinypilot/quiet-light-launch_hu58a1ce4bcdea9c64c583963da37b7ca2_18956_300x0_resize_lanczos_3.png 300w,
https://mtlynch.io/i-sold-tinypilot/quiet-light-launch.png 339w" src="https://mtlynch.io/i-sold-tinypilot/quiet-light-launch.png" alt="Listing card for TinyPilot showing $599,000 asking price on $1,022,090 in revenue and $207,816 in income" loading="lazy"></a><figcaption><p>TinyPilot‚Äôs listing card on Quiet Light‚Äôs website</p></figcaption></figure><p>For the first two months, things looked bleak. Chris received a handful of inquiries, but they were from buyers who either wanted me to stay on as a co-founder or wanted me to finance the majority of the purchase.</p><h3 id="serious-buyers-finally-appear">Serious buyers finally appear<a href="#serious-buyers-finally-appear" arialabel="Anchor"> üîóÔ∏é</a></h3><p>Finally, in January, two attractive buyers appeared around the same time.</p><p>The first buyer was Scott, who worked a corporate job in media production but had grown disilussioned with big company culture, much like I had. He‚Äôd read my <a href="https://mtlynch.io/retrospectives/">public retrospectives about building TinyPilot</a> and saw potential to bring the product to a broader customer base.</p><p>The other offer was from a pair of founders. They were initially TinyPilot customers and had reached out to me about building a managed services company on top of the product. When I told them I was selling the company, they were interested in buying.</p><h3 id="soliciting-lois">Soliciting LOIs<a href="#soliciting-lois" arialabel="Anchor"> üîóÔ∏é</a></h3><p>The sales process officially starts with the letter of intent (LOI). The LOI lays out the high-level details of the sale, the most important being the purchase price.</p><p>Crucially, the LOI isn‚Äôt binding. The document that really matters is the asset purchase agreement (APA), which you sign when the deal closes. But the LOI officially kicks off due diligence and the drafting of the APA.</p><p>When we started LOI discussions, I was in an excellent negotiation position. I had two serious buyers competing against each other. Since listing on Quiet Light, TinyPilot‚Äôs annual earnings had increased by $10k, and we received pre-qualification for an SBA loan, which meant buyers who didn‚Äôt have $599k in cash could now get a government-backed loan to buy the business.</p><p>Chris told the two prospective buyers that we were planning to re-launch on Quiet Light at $625k but that I‚Äôd honor the original price if they made an offer within the next two weeks.</p><h3 id="price-negotiations">Price negotiations<a href="#price-negotiations" arialabel="Anchor"> üîóÔ∏é</a></h3><p>Scott made the first formal offer, but it was for $500k, a steep $99k drop from my asking price. At that point, I had several attractive alternatives, so I declined.</p><p>We awaited an offer from the founder duo, who had sounded eager to move forward. Two days later, they backed out without making an offer at all.</p><p>Uh oh. Did I blow the deal? What if $500k was the best I was going to get, and I just rejected it? I still had the option of re-launching on Quiet Light, but seeing both buyers reject the asking price shook my confidence.</p><p>Fortunately, the next day, Scott sent a new LOI for my $599k asking price, and I accepted.</p><p>It was great to bump the price by $99k, but that was the last point in the process that felt like I was negotiating from a position of strength.</p><h2 id="part-3-closing">Part 3: Closing<a href="#part-3-closing" arialabel="Anchor"> üîóÔ∏é</a></h2><h3 id="due-diligence-makes-me-weaker-by-the-day">Due diligence makes me weaker by the day<a href="#due-diligence-makes-me-weaker-by-the-day" arialabel="Anchor"> üîóÔ∏é</a></h3><p>One of the biggest surprises in this process was how much closing time matters.</p><p>Chris from Quiet Light had recommended selling, if at all possible, to a buyer with cash on hand rather than someone who needs a loan. When the buyer finances the purchase with a bank loan, due diligence takes longer, and there are more decision-makers who can kill the deal.</p><p>At the time, I thought, ‚ÄúFaster would be better, but I‚Äôm a patient person. What‚Äôs an extra two months?‚Äù</p><p>I quickly learned that a slower closing isn‚Äôt about a few months of patience ‚Äî it‚Äôs about how much additional risk and work the seller absorbs with each passing week of due diligence.</p><p>When you sell a house, the buyer has to put down a deposit of 1-5% to hold their claim on the house. If financing falls through or the buyer changes their mind, the seller keeps the money as compensation for the time they lost.</p><p>When you sell a business at TinyPilot‚Äôs scale, there‚Äôs no deposit. You can invest hundreds of hours into preparing reports for due diligence, reveal all your confidential business secrets, and spend thousands of dollars negotiating legal documents and still walk away with nothing if the buyer backs out.</p><p>As due diligence stretched on, my negotiating position became markedly weaker. Before signing the LOI, I could easily move on to the next buyer. By month two of due diligence, walking away from the deal meant restarting this costly and time-consuming process from zero. I‚Äôd also risk TinyPilot‚Äôs sales slipping after so many months being distracted from the business.</p><p><a href="https://mtlynch.io/i-sold-tinypilot/due-diligence.webp"><img sizes="(min-width: 768px) 1600px, 98vw" srcset="https://mtlynch.io/i-sold-tinypilot/due-diligence_hu1dfd9cb7b73d57c6fe3bcd530cd22ae5_257278_300x0_resize_q90_h2_lanczos_2.webp 300w,
https://mtlynch.io/i-sold-tinypilot/due-diligence_hu1dfd9cb7b73d57c6fe3bcd530cd22ae5_257278_600x0_resize_q90_h2_lanczos_2.webp 600w,
https://mtlynch.io/i-sold-tinypilot/due-diligence_hu1dfd9cb7b73d57c6fe3bcd530cd22ae5_257278_800x0_resize_q90_h2_lanczos_2.webp 800w,
https://mtlynch.io/i-sold-tinypilot/due-diligence_hu1dfd9cb7b73d57c6fe3bcd530cd22ae5_257278_1200x0_resize_q90_h2_lanczos_2.webp 1200w,
https://mtlynch.io/i-sold-tinypilot/due-diligence.webp 1600w" src="https://mtlynch.io/i-sold-tinypilot/due-diligence.webp" alt="Cartoon of a man growing increasingly weak as he receives due diligence requests over several weeks" loading="lazy"></a></p><h3 id="closing-week">Closing week<a href="#closing-week" arialabel="Anchor"> üîóÔ∏é</a></h3><p>By April, we‚Äôd been in due diligence for what felt like a year but was actually just three months. Finally, on April 3rd, Scott‚Äôs bank approved the deal. They recommended a closing date of Friday, April 12th.</p><p>That final week was the longest week of my life. I didn‚Äôt know what to do with myself.</p><p>The only thing I could find motivation for was ruminating about all the things that might go wrong. What if the buyer got cold feet? What if Google announced an identical product and gave it away for free? What if our manufacturer spontaneously went out of business?</p><p>It felt like I was on my way to my retirement party, but there was a 5% chance that when I got there, my boss would say, ‚ÄúGotcha! You‚Äôre not really retiring. Now, work extra hard to make up for all the time you wasted preparing to leave.‚Äù</p><p>On closing day, I couldn‚Äôt focus on anything at all. I woke up at 4 AM and couldn‚Äôt fall back to sleep. I couldn‚Äôt do anything that required even basic thinking, and I couldn‚Äôt relax enough to watch TV, so I started disassembling some old TinyPilot devices while checking my email every 90 seconds.</p><p>Finally, at 2 PM, I received the email I‚Äôd been waiting for all day. The escrow company confirmed that they had the money ready to wire, so I signed the closing documents. TinyPilot was no longer my company.</p><h2 id="part-4-after-the-sale">Part 4: After the sale<a href="#part-4-after-the-sale" arialabel="Anchor"> üîóÔ∏é</a></h2><p>The first thing I did after I got the money was eat dessert.</p><p>My wife and I were at dinner the night of the closing, and the email confirmation of the wire transfer arrived right before the server brought over our desserts.</p><figure><a href="https://mtlynch.io/i-sold-tinypilot/final-wire.webp"><img sizes="(min-width: 768px) 700px, 98vw" srcset="https://mtlynch.io/i-sold-tinypilot/final-wire_hu37966892b9049243b4dcfc430d70cef7_12446_300x0_resize_q90_h2_lanczos_2.webp 300w,
https://mtlynch.io/i-sold-tinypilot/final-wire_hu37966892b9049243b4dcfc430d70cef7_12446_600x0_resize_q90_h2_lanczos_2.webp 600w,
https://mtlynch.io/i-sold-tinypilot/final-wire_hu37966892b9049243b4dcfc430d70cef7_12446_800x0_resize_q90_h2_lanczos_2.webp 800w,
https://mtlynch.io/i-sold-tinypilot/final-wire.webp 846w" src="https://mtlynch.io/i-sold-tinypilot/final-wire.webp" alt="Screenshot of email confirming receipt of $610,147.83 in wire transfer payment" loading="lazy"></a><figcaption><p>The payment is sale price + cost of inventory - broker‚Äôs fee.</p></figcaption></figure><p>Over the next 48 hours, I had celebratory meals with friends and family in different parts of Massachusetts, during which I ate the following desserts (in order):</p><ol><li>Chocolate tort and vanilla ice cream</li><li>Oreo cheesecake</li><li>Chocolate lava cake and vanilla ice cream</li><li>Chocolate caramel cheesecake</li><li>Cr√®me br√ªl√©e</li><li>Pizookie Trio (Strawberry Shortcake, Sugar Cookie, Salted Caramel)</li></ol><h3 id="did-i-feel-relief">Did I feel relief?<a href="#did-i-feel-relief" arialabel="Anchor"> üîóÔ∏é</a></h3><p>When I talked to friends about the sale, the most common question was whether I felt relieved to be done.</p><p>For the first few weeks, I still felt anxious. Consciously, I knew that the deal had closed, but my body was still stuck in high-alert mode from months of urgent due diligence requests.</p><p>I felt a bit more relaxed each week and probably felt Officially Relaxed‚Ñ¢ by week three. By that point, I‚Äôd transferred all of TinyPilot‚Äôs accounts to Scott, and he was comfortable taking the reins. I felt like the company was in good hands.</p><h3 id="do-i-feel-a-loss-of-identity">Do I feel a loss of identity?<a href="#do-i-feel-a-loss-of-identity" arialabel="Anchor"> üîóÔ∏é</a></h3><p>I‚Äôve heard other founders say they struggled with a loss of identity after they sold their business. Others say it feels like they‚Äôve given up their baby.</p><p>I didn‚Äôt feel a change in identity or a sense of deep loss.</p><p>I always ran TinyPilot like a modest small business rather than a world-changing startup. I‚Äôm proud of TinyPilot and put a lot of care into the company, but it was never a blood, sweat, and tears thing for me.</p><h2 id="timeline">Timeline<a href="#timeline" arialabel="Anchor"> üîóÔ∏é</a></h2><ul><li>Oct. 3, 2023 - I sign an engagement letter with Quiet Light.</li><li>Oct. 17, 2023 - Quiet Light lists TinyPilot on their website.</li><li>Dec. 15, 2023 - I have my first conversation with Scott.</li><li>Jan. 16, 2023 - I receive the first LOI.</li><li>Jan. 23, 2024 - I sign the LOI with target close date of April 16.</li><li>Feb. 23, 2024 - I get the first draft of the APA.</li><li>March 7th, 2024 - Lender approves the loan.</li><li>March 20th, 2024 - Scott and I finalize the APA.</li><li>March 25th, 2024 - Lender finishes legal review and submits loan package to SBA.</li><li>April 3rd, 2024 - Lender notifies buyer of SBA approval and suggests a closing date of April 12th.</li><li>April 12th, 2024 - We sign final legal agreements, and I receive payment.</li></ul><h2 id="whats-next">What‚Äôs next?<a href="#whats-next" arialabel="Anchor"> üîóÔ∏é</a></h2><p>My wife and I are expecting our first child in August, so that‚Äôs been the main thing I‚Äôm preparing for. I‚Äôm trying to keep plans loose until I see what my life is like with a baby.</p><p>In the short term, I‚Äôm looking for simple projects that I can step away from abruptly when the baby arrives. Beyond that, I‚Äôd like to find a way to build a virtuous cycle between my blog and my business. I‚Äôd love to write about what interests me, then attract cusomers to my product through my writing and fund my writing from the business.</p><p>If you‚Äôre a reader of my blog, let me know what you‚Äôre interested in seeing me do next, and maybe I‚Äôll do it:</p><ul><li><a href="https://tally.so/r/nr6Pyv">What should Michael do next?</a></li></ul><p>As for TinyPilot, Scott plans to keep improving the product and bring it to a wider audience. Everyone on the team received offers to stay on, and they all accepted. The company will continue to publish updates on <a href="https://tinypilotkvm.com/blog">TinyPilot‚Äôs blog</a>, and Scott is continuing my tradition of <a href="https://www.aftertheladder.com/">blogging about TinyPilot‚Äôs behind-the-scenes strategy</a>.</p><blockquote><p lang="en" dir="ltr">I've sold TinyPilot, my first successful business as a bootstrapped founder. I grew it from $0 to $1M/yr in revenue in four years, and I'm incredibly proud of the company and product, but it felt like the right time for me to move on. <a href="https://t.co/iLd53Cs58o">https://t.co/iLd53Cs58o</a></p>‚Äî Michael Lynch (@deliberatecoder) <a href="https://twitter.com/deliberatecoder/status/1795832878783496702?ref_src=twsrc%5Etfw">May 29, 2024</a></blockquote><hr><p><em>Original illustrations by <a href="https://cartoony.eu/">Piotr Letachowicz</a>. Thanks to other founders who shared their acquisition stories, especially <a href="https://baremetrics.com/blog/i-sold-baremetrics">Josh Pigford</a>, <a href="https://blog.codetree.com/articles/what-its-like-buying-a-128k-side-project.html">Kareem Mayan</a>, and <a href="https://lauraroeder.com/exactly-how-i-cold-emailed-my-way-to-a-life-changing-exit-and-you-can-too-165d8eaf8306">Laura Roeder</a>.</em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Codestral: Mistral's Code Model (245 pts)]]></title>
            <link>https://mistral.ai/news/codestral/</link>
            <guid>40512250</guid>
            <pubDate>Wed, 29 May 2024 14:16:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mistral.ai/news/codestral/">https://mistral.ai/news/codestral/</a>, See on <a href="https://news.ycombinator.com/item?id=40512250">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>We introduce Codestral, our first-ever code model. Codestral is an
open-weight generative AI model explicitly designed for code generation
tasks. It helps developers write and interact with code through a shared
instruction and completion API endpoint. As it masters code and English,
it can be used to design advanced AI applications for software
developers.</p><h4 id="a-model-fluent-in-80-programming-languages">A model fluent in 80+ programming languages</h4><p>Codestral is trained on a diverse dataset of 80+ programming languages,
including the most popular ones, such as Python, Java, C, C++,
JavaScript, and Bash. It also performs well on more specific ones like
Swift and Fortran. This broad language base ensures Codestral can assist
developers in various coding environments and projects.</p><p>Codestral saves developers time and effort: it can complete coding
functions, write tests, and complete any partial code using a
fill-in-the-middle mechanism. Interacting with Codestral will help level
up the developer‚Äôs coding game and reduce the risk of errors and bugs.</p><h4 id="setting-the-bar-for-code-generation-performance">Setting the Bar for Code Generation Performance</h4><p><strong>Performance.</strong> As a 22B model, Codestral sets a new standard on the
performance/latency space for code generation compared to previous
models used for coding.</p><p><img src="https://mistral.ai/images/news/codestral/General_table.png" alt="Detailed benchmarks" width="100%"></p><p>Figure 1: With its larger context window of 32k (compared to 4k, 8k or 16k for
competitors), Codestral outperforms all other models in RepoBench, a
long-range eval for code generation..</p><p>We compare Codestral to existing code-specific models with higher
hardware requirements.</p><p><strong>Python.</strong> We use four benchmarks: HumanEval pass@1, MBPP sanitised
pass@1 to evaluate Codestral‚Äôs Python code generation ability, CruxEval
to evaluate Python output prediction, and RepoBench EM to evaluate
Codestral‚Äôs Long-Range Repository-Level Code Completion.</p><p><strong>SQL.</strong> To evaluate Codestral‚Äôs performance in SQL, we used the Spider
benchmark.</p><p><img src="https://mistral.ai/images/news/codestral/HumanEval_table.png" alt="Detailed benchmarks" width="100%"></p><p>Additional languages. Additionally, we evaluated Codestral's performance in multiple HumanEval pass@1 across six different languages
in addition to Python: C++, bash, Java, PHP, Typescript, and C#, and
calculated the average of these evaluations.</p><p><img src="https://mistral.ai/images/news/codestral/FIM_table.png" alt="Detailed benchmarks" width="100%"></p><p>FIM benchmarks. Codestral's Fill-in-the-middle performance was assessed using HumanEval pass@1 in Python, JavaScript, and Java and
compared to DeepSeek Coder 33B, whose fill-in-the-middle capacity is
immediately usable.</p><h4 id="get-started-with-codestral">Get started with Codestral</h4><h5 id="download-and-test-codestral">Download and test Codestral.</h5><p>Codestral is a 22B open-weight model licensed under the new <em><a href="https://mistral.ai/news/mistral-ai-non-production-license-mnpl/">Mistral AI
Non-Production License</a></em>, which means that you can use it for research
and testing purposes. Codestral can be downloaded on <a href="https://huggingface.co/mistralai/Codestral-22B-v0.1">HuggingFace</a>.</p><h5 id="use-codestral-via-its-dedicated-endpoint">Use Codestral via its dedicated endpoint</h5><p>With this release, comes the addition of a new endpoint: <code>codestral.mistral.ai</code>.
This endpoint should be preferred by users who use our Instruct or Fill-In-the-Middle routes inside their IDE. The API Key for this endpoint is managed at the personal level and isn‚Äôt bound by the usual organization rate limits. We‚Äôre allowing use of this endpoint for free during a beta period of 8 weeks and are gating it <a href="https://console.mistral.ai/codestral">behind a waitlist</a> to ensure a good quality of service. This endpoint should be preferred by developers implementing IDE plugins or applications where customers are expected to bring their own API keys.</p><h5 id="build-with-codestral-on-la-plateforme">Build with Codestral on La Plateforme</h5><p>Codestral is also immediately available on the usual API endpoint: <code>api.mistral.ai</code> where queries are billed per tokens. This endpoint and integrations are better suited for research, batch queries or third-party application development that exposes results directly to users without them bringing their own API keys.</p><p>You can create your account on <a href="https://console.mistral.ai/">La Plateforme</a> and
start building your applications with Codestral by following <a href="https://docs.mistral.ai/capabilities/code_generation/">this guide</a>.
Like all our other models, Codestral is available in our self-deployment
offering starting today: <a href="https://mistral.ai/contact/">contact sales</a>.</p><h5 id="talk-to-codestral-on-le-chat">Talk to Codestral on le Chat</h5><p>We‚Äôre exposing an instructed version of Codestral, which is accessible
today through <a href="https://chat.mistral.ai/chat">Le Chat</a>, our
free conversational interface. Developers can interact with Codestral
naturally and intuitively to leverage the model's capabilities. We see
Codestral as a new stepping stone towards empowering everyone with code
generation and understanding.</p><h5 id="use-codestral-in-your-favourite-coding-and-building-environment">Use Codestral in your favourite coding and building environment.</h5><p>We worked with community partners to expose Codestral to popular tools
for developer productivity and AI application-making.</p><p><strong>Application frameworks.</strong> Codestral is integrated into LlamaIndex and
LangChain starting today, which allows users to build agentic
applications with Codestral easily</p><p><strong>VSCode/JetBrains integration.</strong> <a href="https://docs.mistral.ai/capabilities/code_generation/#integration-with-continuedev">Continue.dev</a> and <a href="https://docs.mistral.ai/capabilities/code_generation/#integration-with-tabnine">Tabnine</a> are empowering developers to use Codestral within the VSCode and JetBrains environments and now enable them to generate and chat with the code using Codestral.</p><p><a href="https://www.youtube.com/watch?v=mjltGOJMJZA">Here</a> is how you can use the Continue.dev VSCode plugin for code generation, interactive conversation, and inline editing with Codestral, and <a href="https://www.youtube.com/watch?v=pFa4NLK9Lbw">here</a> is how users can use the Tabnine VSCode plugin to chat with Codestral.</p><p>For detailed information on how various integrations work with
Codestral, please check <a href="https://docs.mistral.ai/capabilities/code_generation/">our documentation</a> for set-up instructions and examples.</p><p><em>‚ÄúA public autocomplete model with this combination of speed and quality
hadn‚Äôt existed before, and it‚Äôs going to be a phase shift for developers
everywhere.‚Äù</em></p><p>‚Äì Nate Sesti, CTO and co-founder of Continue.dev</p><p><em>‚ÄúWe are excited about the capabilities that Mistral unveils and
delighted to see a strong focus on code and development assistance, an
area that JetBrains cares deeply about.‚Äù</em></p><p>‚Äì Vladislav Tankov, Head of JetBrains AI</p><p><em>‚ÄúWe used Codestral to run a test on our Kotlin-HumanEval benchmark and
were impressed with the results. For instance, in the case of the pass
rate for T=0.2, Codestral achieved a score of 73.75, surpassing
GPT-4-Turbo‚Äôs score of 72.05 and GPT-3.5-Turbo‚Äôs score of 54.66.‚Äù</em></p><p>‚Äì Mikhail Evtikhiev, Researcher at JetBrains</p><p><em>‚ÄúAs a researcher at the company that created the first developer
focused GenAI tool, I've had the pleasure of integrating Mistal's new
code model into our chat product. I am thoroughly impressed by its
performance. Despite its relatively compact size, it delivers results on
par with much larger models we offer to customers. We tested several key
features, including code generation, test generation, documentation,
onboarding processes, and more. In each case, the model exceeded our
expectations. The speed and accuracy of the model will significantly
impact our product's efficiency vs the previous Mistral model, allowing
us to provide quick and precise assistance to our users. This model
stands out as a powerful tool among the models we support, and I highly
recommend it to others seeking high-quality performance.‚Äù</em></p><p>‚Äì Meital Zilberstein, R&amp;D Lead @ Tabnine</p><p><em>‚ÄúCody speeds up the inner loop of software development, and developers
use features like autocomplete to alleviate some of the day-to-day toil
that comes with writing code. Our internal evaluations show that
Mistral‚Äôs new Codestral model significantly reduces the latency of Cody
autocomplete while maintaining the quality of the suggested code. This
makes it an excellent model choice for autocomplete where milliseconds
of latency translate to real value for developers.‚Äù</em></p><p><em>‚Äì</em> Quinn Slack, CEO and co-founder of Sourcegraph</p><p><em>‚ÄúI've been incredibly impressed with Mistral's new Codestral model
for AI code generation. In my testing so far, it has consistently
produced highly accurate and functional code, even for complex tasks.
For example, when I asked it to complete a nontrivial function to create
a new LlamaIndex query engine, it generated code that worked seamlessly,
despite being based on an older codebase.‚Äù</em></p><p>‚Äì Jerry Liu, CEO and co-founder of LlamaIndex</p><p><em>‚ÄúCode generation is one of the most popular LLM use-cases, so we are
really excited about the Codestral release. From our initial testing,
it's a great option for code generation workflows because it's fast,
has favorable context window, and the instruct version supports tool
use. We tested with LangGraph for self-corrective code generation using
the instruct Codestral tool use for output, and it worked really well
out-of-the-box (see our <a href="https://youtu.be/zXFxmI9f06M">video detailing this</a>).‚Äù</em></p><p>‚Äì Harrison Chase, CEO and co-founder of LangChain</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The U.S. Passes an Internet Privacy Law for Rich Jet Owners (128 pts)]]></title>
            <link>https://www.techdirt.com/2024/05/29/the-u-s-finally-passes-an-internet-privacy-law-for-rich-jet-owners/</link>
            <guid>40512072</guid>
            <pubDate>Wed, 29 May 2024 13:56:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.techdirt.com/2024/05/29/the-u-s-finally-passes-an-internet-privacy-law-for-rich-jet-owners/">https://www.techdirt.com/2024/05/29/the-u-s-finally-passes-an-internet-privacy-law-for-rich-jet-owners/</a>, See on <a href="https://news.ycombinator.com/item?id=40512072">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="storywrap-441774">


<h3>from the <i>crystal-clear-priorities</i> dept</h3>

<p>The U.S. yet yet to pass even a basic internet-era privacy law ‚Äî or regulate data brokers. And while there‚Äôs a lot of misdirection and pretense to the contrary, the primary reason is (1) because the U.S. government is too corrupt; and (2)<strong> </strong>because the U.S. government really enjoys being able to purchase massive amounts of sensitive citizen data from data brokers without having to get a pesky warrant. </p>
<p>The end result has been just a <a href="https://www.techdirt.com/2024/02/15/wyden-data-broker-used-abortion-clinic-visitor-location-data-to-help-send-targeted-misinformation-to-vulnerable-women/">parade of dangerous scandals</a> in which dodgy companies hoover up oceans of sensitive user data, then sell access to any nitwit <a href="https://www.techdirt.com/2024/02/15/wyden-data-broker-used-abortion-clinic-visitor-location-data-to-help-send-targeted-misinformation-to-vulnerable-women/">with two nickels to rub together</a>. Given foreign intelligence can easily buy this data, our corruption poses a severe national security threat; but instead of fixing it, Congress likes to distract folks with endless hysteria about a single app: TikTok. </p>
<p>But it‚Äôs amusing to see the government work quickly when they think it‚Äôs something that <em>might impact the affluent personally</em>. Case in point: Congress is too corrupt to protect consumer privacy, but they <strong>did</strong> manage to <a href="https://www.popsci.com/technology/tracking-private-jets/">pass a new privacy law specifically designed to protect the privacy of affluent jet owners</a>:</p>
<blockquote>
<p><em>‚ÄúThe latest&nbsp;<a href="https://www.popsci.com/technology/boeing-faa-audit/">Federal Aviation Administration</a>&nbsp;reauthorization bill contains a pointed amendment within it‚Äîthe government is making it much more difficult to monitor and track private aircraft travel. The new law passed last week will almost exclusively benefit the nation‚Äôs wealthiest flyers and obscure public attempts to hold them accountable for their&nbsp;<a href="https://www.popsci.com/technology/airport-private-plane-ban/">disproportionate carbon emissions</a>.‚Äù</em></p>
</blockquote>
<p>The <a href="https://www.congress.gov/congressional-report/118th-congress/house-report/147/1">new law</a> lets private jet owners censor most meaningful travel details (call signs, flight numbers, travel patterns) through a new application process in which they claim the data must remain confidential due to ambiguous ‚Äúsafety or security‚Äù needs. <a href="https://bsky.app/profile/pwnallthethings.bsky.social/post/3ktb2joryq22i">Folks over at Bluesky</a> dug into the <a href="https://www.congress.gov/congressional-report/118th-congress/house-report/147/1">specific language of the reauthorization bill</a> and found it was inserted by Republican Rep. Bruce Westerman of Arkansas. </p>
<p>Jack Sweeney, the jet tracking student who made Elon Musk cry like a baby, says the law won‚Äôt <strong>completely</strong> block the tracking of jets, given they can still glean a lot of detail from general contextual clues. But it‚Äôs still amusing how quickly and easily Congress is able to shore up lax U.S. privacy safeguards when it‚Äôs to the specific benefit of the rich. </p>
<p>The thing is, letting dodgy, unregulated data brokers monetize everybody‚Äôs sensitive movement and behavior data harms poor people, rich people, and everybody in between. Right now most members of Congress view these privacy issues as somebody <strong>else‚Äôs</strong> problem, but at some point there‚Äôs going to be an unprecedented privacy scandal tied to data brokers that shatters that delusion in very painful ways.</p>
<p>The government has repeatedly made the choice to prioritize making money over consumer and market health, public safety, and national security. And eventually, an event is going to come along that makes the kind of scandals we‚Äôve seen so far (from <a href="https://www.techdirt.com/2019/03/11/apparently-easy-to-pretend-to-be-cop-grab-location-data-cellular-carriers/">stalkers abusing cellular location data</a> to right wing activists abusing abortion clinic visitor data <a href="https://www.techdirt.com/2024/02/15/wyden-data-broker-used-abortion-clinic-visitor-location-data-to-help-send-targeted-misinformation-to-vulnerable-women/">to send targeted misinformation</a>) look like a grade school picnic.</p>
<p>
Filed Under: <a href="https://www.techdirt.com/tag/airplanes/" rel="tag">airplanes</a>, <a href="https://www.techdirt.com/tag/bruce-westerman/" rel="tag">bruce westerman</a>, <a href="https://www.techdirt.com/tag/congress/" rel="tag">congress</a>, <a href="https://www.techdirt.com/tag/elon-musk/" rel="tag">elon musk</a>, <a href="https://www.techdirt.com/tag/elonjet/" rel="tag">elonjet</a>, <a href="https://www.techdirt.com/tag/jet/" rel="tag">jet</a>, <a href="https://www.techdirt.com/tag/jet-tracking/" rel="tag">jet tracking</a>, <a href="https://www.techdirt.com/tag/privacy/" rel="tag">privacy</a>, <a href="https://www.techdirt.com/tag/security/" rel="tag">security</a>
<br>
</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Training is not the same as chatting: LLMs don‚Äôt remember everything you say (114 pts)]]></title>
            <link>https://simonwillison.net/2024/May/29/training-not-chatting/</link>
            <guid>40510668</guid>
            <pubDate>Wed, 29 May 2024 11:14:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://simonwillison.net/2024/May/29/training-not-chatting/">https://simonwillison.net/2024/May/29/training-not-chatting/</a>, See on <a href="https://news.ycombinator.com/item?id=40510668">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-permalink-context="/2024/May/29/training-not-chatting/">

<p>29th May 2024</p>

<p>I‚Äôm beginning to suspect that one of the most common <a href="https://simonwillison.net/series/llm-misconceptions/">misconceptions about LLMs</a> such as ChatGPT involves how ‚Äútraining‚Äù works.</p>
<p>A common complaint I see about these tools is that people don‚Äôt want to even try them out because they don‚Äôt want to contribute to their training data.</p>
<p>This is by no means an irrational position to take, but it does often correspond to an incorrect mental model about how these tools work.</p>
<p>Short version: ChatGPT and other similar tools <strong>do not directly learn from and memorize everything that you say to them</strong>.</p>
<p>This can be quite unintuitive: these tools imitate a human conversational partner, and humans constantly update their knowledge based on what you say to to them. Computers have much better memory than humans, so surely ChatGPT would remember every detail of everything you ever say to it. Isn‚Äôt that what ‚Äútraining‚Äù means?</p>
<p>That‚Äôs not how these tools work.</p>
<h4 id="llms-are-stateless-functions">LLMs are stateless functions</h4>
<p>From a computer science point of view, it‚Äôs best to think of LLMs as stateless function calls. Given this input text, what should come next?</p>
<p>In the case of a ‚Äúconversation‚Äù with a chatbot such as ChatGPT or Claude or Google Gemini, that function input consists of the current conversation (everything said by both the human and the bot) up to that point, plus the user‚Äôs new prompt.</p>
<p>Every time you start a new chat conversation, you clear the slate. Each conversation is an entirely new sequence, carried out entirely independently of previous conversations from both yourself and other users.</p>
<p>Understanding this is key to working effectively with these models. Every time you hit ‚Äúnew chat‚Äù you are effectively wiping the short-term memory of the model, starting again from scratch.</p>
<p>This has a number of important consequences:</p>
<ol>
<li>There is no point at all in ‚Äútelling‚Äù a model something in order to improve its knowledge for future conversations. I‚Äôve heard from people who have invested weeks of effort pasting new information into ChatGPT sessions to try and ‚Äútrain‚Äù a better bot. That‚Äôs a waste of time!</li>
<li>Understanding this helps explain why the ‚Äúcontext length‚Äù of a model is so important. Different LLMs have different context lengths, expressed in terms of ‚Äútokens‚Äù‚Äîa token is about 3/4s of a word. This is the number that tells you how much of a conversation the bot can consider at any one time. If your conversation goes past this point the model will ‚Äúforget‚Äù details that occurred at the beginning of the conversation.</li>
<li>Sometimes it‚Äôs a good idea to start a fresh conversation in order to deliberately reset the model. If a model starts making obvious mistakes, or refuses to respond to a valid question for some weird reason that reset might get it back on the right track.</li>
<li>Tricks like <a href="https://simonwillison.net/tags/rag/">Retrieval Augmented Generation</a> and <a href="https://simonwillison.net/2024/Feb/14/memory-and-new-controls-for-chatgpt/">ChatGPT‚Äôs ‚Äúmemory‚Äù</a> make sense only once you understand this fundamental limitation to how these models work.</li>
<li>If you‚Äôre excited about local models because you can be certain there‚Äôs no way they can train on your data, you‚Äôre mostly right: you can run them offline and audit your network traffic to be absolutely sure your data isn‚Äôt being uploaded to a server somewhere. But...</li>
<li>... if you‚Äôre excited about local models because you want something on your computer that you can chat to and it will learn from you and then better respond to your future prompts, that‚Äôs probably not going to work.</li>
</ol>
<h4 id="so-what-is-training-then-">So what is ‚Äútraining‚Äù then?</h4>
<p>When we talk about model training, we are talking about the process that was used to build these models in the first place.</p>
<p>As a big simplification, there are two phases to this. The first is to pile in several TBs of text‚Äîthink all of Wikipedia, a scrape of a large portion of the web, books, newspapers, academic papers and more‚Äîand spend months of time and potentially millions of dollars in electricity crunching through that ‚Äúpre-training‚Äù data identifying patterns in how the words relate to each other.</p>
<p>This gives you a model that can complete sentences, but not necessarily in a way that will delight and impress a human conversational partner. The second phase aims to fix that‚Äîthis can incorporate instruction tuning or Reinforcement Learning from Human Feedback (RLHF) which has the goal of teaching the model to pick the best possible sequences of words to have productive conversations.</p>
<p>The end result of these phases is the model itself‚Äîan enormous (many GB) blob of floating point numbers that capture both the statistical relationships between the words and some version of ‚Äútaste‚Äù in terms of how best to assemble new words to reply to a user‚Äôs prompts.</p>
<p>Once trained, the model remains static and unchanged‚Äîsometimes for months or even years.</p>
<p>Here‚Äôs <a href="https://www.reddit.com/r/ClaudeAI/comments/1c3f1yc/comment/kzj7n4s/">a note</a> from Jason D. Clinton, an engineer who works on Claude 3 at Anthropic:</p>
<blockquote>
<p>The model is stored in a static file and loaded, continuously, across 10s of thousands of identical servers each of which serve each instance of the Claude model. The model file never changes and is immutable once loaded; every shard is loading the same model file running exactly the same software.</p>
</blockquote>
<p>These models don‚Äôt change very often!</p>
<h4 id="reasons-to-worry-anyway">Reasons to worry anyway</h4>
<p>A frustrating thing about this issue is that it isn‚Äôt actually possible to confidently state ‚Äúdon‚Äôt worry, ChatGPT doesn‚Äôt train on your input‚Äù.</p>
<p>Many LLM providers have terms and conditions that allow them to improve their models based on the way you are using them. Even when they have opt-out mechanisms these are often opted-in by default.</p>
<p>When OpenAI <a href="https://openai.com/policies/terms-of-use/">say</a> ‚ÄúWe may use Content to provide, maintain, develop, and improve our Services‚Äù it‚Äôs not at all clear what they mean by that!</p>
<p>Are they storing up everything anyone says to their models and dumping that into the training run for their next model versions every few months?</p>
<p>I don‚Äôt think it‚Äôs that simple: LLM providers don‚Äôt want random low-quality text or privacy-invading details making it into their training data. But they are notoriously secretive, so who knows for sure?</p>
<p>The opt-out mechanisms are also pretty confusing. OpenAI try to make it as clear as possible that they won‚Äôt train on any content submitted through their API (so you had better understand what an ‚ÄúAPI‚Äù is), but lots of people don‚Äôt believe them! I wrote about <a href="https://simonwillison.net/2023/Dec/14/ai-trust-crisis/">the AI trust crisis</a> last year: the pattern where many people actively disbelieve model vendors and application developers (such as Dropbox and Slack) that claim they don‚Äôt train models on private data.</p>
<p>People also worry that those terms might change in the future. There are options to protect against that: if you‚Äôre spending enough money you can <a href="https://twitter.com/therealadamg/status/1794693810204909729">sign contracts with OpenAI</a> and other vendors that freeze the terms and conditions.</p>
<p>If your mental model is that LLMs remember and train on all input, it‚Äôs much easier to assume that developers who claim they‚Äôve disabled that ability may not be telling the truth. If you tell your human friend to disregard a juicy piece of gossip you‚Äôve mistakenly passed on to them you know full well that they‚Äôre not going to forget it!</p>
<p>The other major concern is the same as with any cloud service: it‚Äôs reasonable to assume that your prompts are still logged for a period of time, for compliance and abuse reasons, and if that data is logged there‚Äôs always a chance of exposure thanks to an accidental security breach.</p>

<h4 id="memory-features">What about ‚Äúmemory‚Äù features?</h4>

<p>To make things even more confusing, some LLM tools are introducing features that attempt to work around this limitation.</p>

<p>ChatGPT recently added a <a href="https://help.openai.com/en/articles/8590148-memory-faq">memory feature</a> where it can ‚Äúremember‚Äù small details and use them in follow-up conversations.</p>

<p>As with so many LLM features this is a relatively simple prompting trick: during a conversation the bot can call a mechanism to record a short note‚Äîyour name, is a preference you have expressed‚Äîwhich will then be invisibly included in the chat context passed in future conversations.</p>

<p>You can review (and modify) the list of remembered fragments at any time, and ChatGPT shows a visible UI element any time it adds to its memory.</p>

<h4 id="bad-policy-based-on-bad-mental-models">Bad policy based on bad mental models</h4>
<p>One of the most worrying results of this common misconception concerns people who make policy decisions for how LLM tools should be used.</p>
<p>Does your company ban all use of LLMs because they don‚Äôt want their private data leaked to the model providers?</p>
<p>They‚Äôre not 100% wrong‚Äîsee <a href="https://simonwillison.net/2024/May/29/training-not-chatting/#reasons-to-worry-anyway">reasons to worry anyway</a>‚Äîbut if they are acting based on the idea that everything said to a model is instantly memorized and could be used in responses to other users they‚Äôre acting on faulty information.</p>
<p>Even more concerning is what happens with lawmakers. How many politicians around the world are debating and voting on legislation involving these models based on a science fiction idea of what they are and how they work?</p>
<p>If people believe ChatGPT is a machine that instantly memorizes and learns from everything anyone says to it there is a very real risk they will support measures that address invented as opposed to genuine risks involving this technology.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google Search document leak reveals inner workings of ranking algorithm (165 pts)]]></title>
            <link>https://searchengineland.com/google-search-document-leak-ranking-442617</link>
            <guid>40510125</guid>
            <pubDate>Wed, 29 May 2024 09:36:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://searchengineland.com/google-search-document-leak-ranking-442617">https://searchengineland.com/google-search-document-leak-ranking-442617</a>, See on <a href="https://news.ycombinator.com/item?id=40510125">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>A trove of leaked Google documents has given us an unprecedented look inside Google Search and revealed some of the most important elements Google uses to rank content.</p>



<p><strong>What happened.</strong> Thousands of documents, which appear to come from Google‚Äôs internal Content API Warehouse, were released <a href="https://github.com/yoshi-code-bot/elixir-google-api/commit/d7a637f4391b2174a2cf43ee11e6577a204a161e" target="_blank" rel="noopener">March 13 on Github</a> by an automated bot called yoshi-code-bot. These documents were shared with Rand Fishkin, SparkToro co-founder, earlier this month.</p>



<ul>
<li>Read on to discover what we‚Äôve learned from Fishkin, as well as Michael King, iPullRank CEO, who also reviewed and analyzed the documents (and plans to provide further analysis for Search Engine Land soon).</li>
</ul>



<p><strong>Why we care.</strong> We have been given a glimpse into how Google‚Äôs ranking algorithm may work, which is invaluable for SEOs who can understand what it all means. In 2023, we got an <a href="https://searchengineland.com/yandex-leak-learnings-392393">unprecedented look at Yandex Search ranking factors</a> via a <a href="https://searchengineland.com/yandex-search-ranking-factors-leak-392323">leak</a>, which was one of the biggest stories of that year.</p><!-- /1038259/SEL_Post-text -->



<p>This Google document leak? It will likely be one of the biggest stories in the history of SEO and Google Search.</p>



<p><strong>What‚Äôs inside. </strong>Here‚Äôs what we know about the internal documents, thanks to Fishkin and King:</p>



<ul>
<li><strong>Current: </strong>The documentation indicates this information is accurate as of March.</li>



<li><strong>Ranking features:</strong> 2,596 modules are represented in the API documentation with 14,014 attributes.</li>



<li><strong>Weighting:</strong> The documents did not specify how any of the ranking features are weighted ‚Äì&nbsp;just that they exist.</li>



<li><strong>Twiddlers:</strong> These are re-ranking functions that ‚Äúcan adjust the information retrieval score of a document or change the ranking of a document,‚Äù according to King.</li>



<li><strong>Demotions:</strong> Content can be demoted for a variety of reasons, such as:
<ul>
<li>A link doesn‚Äôt match the target site.</li>



<li>SERP signals indicate user dissatisfaction.</li>



<li>Product reviews.</li>



<li>Location.</li>



<li>Exact match domains.</li>



<li>Porn</li>
</ul>
</li>



<li><strong>Change history:</strong> Google apparently keeps a copy of every version of every page it has ever indexed. Meaning, Google can ‚Äúremember‚Äù every change ever made to a page. However, Google only uses the last 20 changes of a URL when analyzing links.</li>
</ul>



<p><strong>Links matter.</strong> Shocking, I know. Link diversity and relevance remain key, the documents show. And PageRank is still very much alive within Google‚Äôs ranking features. PageRank for a website‚Äôs homepage is considered for every document.</p>



<ul>
<li>This doesn‚Äôt prove Google spokespeople have lied about <a href="https://searchengineland.com/links-google-search-ranking-factor-gary-illyes-432422">links not being a ‚Äútop 3 ranking factor‚Äù</a> or <a href="https://searchengineland.com/links-may-be-less-important-to-the-google-search-ranking-algorithm-in-the-future-389364">links mattering less for ranking</a>. Two things can be true at once. Again, we don‚Äôt know how any of these features are weighted. </li>
</ul>



<p><strong>Successful clicks matter.</strong> This should not be a shocker, but if you want to rank well, you need to keep creating great content and user experiences, based on the documents. Google uses a variety of measurements, including&nbsp;<strong>badClicks</strong>, <strong>goodClicks</strong>, <strong>lastLongestClicks</strong> and <strong>unsquashedClicks</strong>.</p>



<p>Also, longer documents may get truncated, while shorter content gets a score (from 0-512) based on originality. Scores are also given to Your Money Your Life content, like health and news.</p>



<p>What does it all mean? According to King:</p>



<ul>
<li>‚Äú[Y]ou need to drive more&nbsp;<em>successful&nbsp;</em>clicks using a broader set of queries and earn more link diversity if you want to continue to rank. Conceptually, it makes sense because a very strong piece of content will do that. A focus on driving more qualified traffic to a better user experience will send signals to Google that your page deserves to rank.‚Äù</li>
</ul>



<p>Documents and testimony from the <a href="https://searchengineland.com/google-search-antirust-trial-hearing-updates-431977">U.S. vs. Google antitrust trial</a> confirmed that Google uses clicks in ranking ‚Äì especially with its Navboost system, ‚Äúone of the important signals‚Äù Google uses for ranking. See more from our coverage:</p>



<ul>
<li><a href="https://searchengineland.com/google-search-ranking-documents-434141">7 must-see Google Search ranking documents in antitrust trial exhibits</a></li>



<li><a href="https://searchengineland.com/how-google-search-ranking-works-pandu-nayak-435395">How Google Search and ranking works, according to Google‚Äôs Pandu Nayak</a></li>
</ul>



<p><strong>Brand matters.</strong> Fishkin‚Äôs big takeaway? Brand matters more than anything else:</p>



<ul>
<li>‚ÄúIf there was one universal piece of advice I had for marketers seeking to broadly improve their organic search rankings and traffic, it would be: ‚ÄòBuild a notable, popular, well-recognized brand in your space, outside of Google search.'‚Äù</li>
</ul>



<p><strong>Entities matter.</strong> <a href="https://searchengineland.com/authorship-dead-long-live-authorship-217209">Authorship lives</a>. Google stores author information associated with content and tries to determine whether an entity is the author of the document.</p>



<p><strong>SiteAuthority:</strong> Google uses something called ‚ÄúsiteAuthority‚Äù. </p>



<ul>
<li>Google told us something like this existed in 2011, after the <a href="https://searchengineland.com/google-panda-update-guide-381104">Panda update</a> launched, stating publicly that ‚Äúlow quality&nbsp;content&nbsp;on part of a site can impact a site‚Äôs ranking as a whole.‚Äù </li>



<li>However, <a href="https://www.seroundtable.com/google-no-website-authority-score-22874.html" target="_blank" rel="noopener">Google has denied having a website authority score</a> in the years since then.</li>
</ul>



<p><strong>Chrome data.</strong> A module called <strong>ChromeInTotal</strong> indicates that Google uses data from its Chrome browser for ranking.</p>



<p><strong>Whitelists.</strong> A couple of modules indicate Google whitelist certain domains related to elections and COVID ‚Äì <strong>isElectionAuthority</strong> and <strong>isCovidLocalAuthority</strong>. Though we‚Äôve long known <a href="https://searchengineland.com/google-bing-have-whitelistsexception-lists-for-algorithms-67732">Google (and Bing) have ‚Äúexception lists‚Äù</a> when ‚Äúspecific algorithms inadvertently impact websites.‚Äù</p>



<p><strong>Small sites.</strong> Another feature is <strong>smallPersonalSite</strong> ‚Äì for a small personal site or blog. King speculated that Google could boost or demote such sites via a Twiddler. However, that remains an open question. Again, we don‚Äôt know for certain how much these features are weighted.</p>



<p><strong>Other interesting findings. </strong>According to Google‚Äôs internal documents:</p>



<ul>
<li>Freshness matters ‚Äì Google looks at dates in the byline (<strong>bylineDate</strong>), URL (<strong>syntacticDate</strong>) and on-page content (<strong>semanticDate</strong>).</li>



<li>To determine whether a document is or isn‚Äôt a core topic of the website, Google vectorizes pages and sites, then compares the page embeddings (<strong>siteRadius</strong>) to the site embeddings (<strong>siteFocusScore</strong>). </li>



<li>Google stores domain registration information (<strong>RegistrationInfo</strong>).</li>



<li>Page titles still matter. Google has a feature called <strong>titlematchScore</strong> that is believed to measure how well a page title matches a query. </li>



<li>Google measures the average weighted font size of terms in documents (<strong>avgTermWeight</strong>) and anchor text.</li>
</ul>



<p><strong>The articles. </strong></p>



<ul>
<li><a href="https://ipullrank.com/google-algo-leak" target="_blank" rel="noopener">Secrets from the Algorithm: Google Search‚Äôs Internal Engineering Documentation Has Leaked</a> by King on iPullRank</li>



<li><a href="https://sparktoro.com/blog/an-anonymous-source-shared-thousands-of-leaked-google-search-api-documents-with-me-everyone-in-seo-should-see-them/" target="_blank" rel="noopener">An Anonymous Source Shared Thousands of Leaked Google Search API Documents with Me; Everyone in SEO Should See Them</a> by Fishkin on SparkToro</li>
</ul>



<p><strong>Quick clarification. </strong>There is some dispute as to whether these documents were ‚Äúleaked‚Äù or ‚Äúdiscovered.‚Äù I‚Äôve been told it‚Äôs likely the internal documents were accidentally included in a code review and pushed live from Google‚Äôs internal code base, where they were then discovered.</p>



<p><strong>The source.</strong> <a href="https://www.linkedin.com/in/erfanazimi/" target="_blank" rel="noopener">Erfan Azimi</a>, CEO and director of SEO for digital marketing agency EA Eagle Digital, posted <a href="https://www.youtube.com/watch?v=AEb8_rbfFVw">a video</a>, claiming responsibility for sharing the documents with Fishkin. Azimi is not employed by Google.</p>



<figure></figure>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Slipshow ‚Äì A presentation tool not based on slides (139 pts)]]></title>
            <link>https://github.com/panglesd/slipshow</link>
            <guid>40509638</guid>
            <pubDate>Wed, 29 May 2024 08:12:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/panglesd/slipshow">https://github.com/panglesd/slipshow</a>, See on <a href="https://news.ycombinator.com/item?id=40509638">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">slipshow</h2><a id="user-content-slipshow" aria-label="Permalink: slipshow" href="#slipshow"></a></p>
<p dir="auto"><strong>Slipshow is a tool specifically designed for technical presentations where traditional slides are not enough.</strong></p>
<p dir="auto">In a slipshow presentation, the equivalent of a slide is called a <em>slip</em>. Each slip is like a slide, but with no bottom limit. That is, the content can be arbitrarily long! During the presentation, the camera will "scroll" down to reveal the hidden content, following a script given by the presenter!</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/panglesd/slipshow/blob/master/slip_scroll.gif"><img src="https://github.com/panglesd/slipshow/raw/master/slip_scroll.gif" alt="" data-animated-image=""></a></p>
<p dir="auto">Here are some properties of slipshow, in no specific orders:</p>
<ul dir="auto">
<li>Fix some of the issues with slides by bringing back features of a blackboard presentation: keep some content while erasing the rest!</li>
<li>Easy to write and readable syntax (markdown with few extensions). What you see is what you mean!</li>
<li>Open the possibility for a more dynamic presentation, with annotations and animations.</li>
</ul>
<p dir="auto">Slipshow compiles files written in an extension of markdown, to a standalone html file viewable offline in any web browser.</p>
<p dir="auto">If you want to see it in action, go to the <a href="#examples">example section</a>. If you want to start writing your presentation, go to <a href="#quick-start">Quick start</a>. Click for the <a href="#tutorial-api-documentation">full documentation and API</a>, or continue reading to know more about this project!</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">The issue with traditional slides</h2><a id="user-content-the-issue-with-traditional-slides" aria-label="Permalink: The issue with traditional slides" href="#the-issue-with-traditional-slides"></a></p>
<p dir="auto">When using traditional slides, you are given a rectangle of white space to express your thought. When this rectangle is full, you have no other choice than erasing everything, and start again with a new white rectangle.</p>
<p dir="auto">This can be a problem both for the viewer and the presenter. If the viewer took some time understanding the beginning of the slide, they might miss the last part of a slide: everything will be erased before they have a chance to read it and catch up. And indeed, there is an obvious asymetry: the last part of a slide will be visible much shorter than the first part!</p>
<p dir="auto">The presenter might want to show three information (<code>1</code>, <code>2</code> and <code>3</code>), each requiring the previous one to be visible on screen. However, all three information might not fit in one screen! When the first two are visible, it is necessary to... start again with a fresh slide, while we would like to keep information <code>2</code> visible.</p>
<p dir="auto">Of course, for many kind of presentation, with very few content in the slide, this is not a problem at all. However, for some of them, it can be quite an issue! Having had many courses on various technical subjects (mostly math and computer science), I can see how slides degraded the experience from a blackboard presentation.</p>
<p dir="auto">Instead of starting of with a fresh slide, a slipshow presentation "scrolls down" to reveal new space usable by the presenter, without hiding everything. This is much closer to what happens with a blackboard: the presenter can erase half of it, and continue with the new free space! And a viewer a little bit late still has a chance to catch up, since half of the information is still there.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Examples</h2><a id="user-content-examples" aria-label="Permalink: Examples" href="#examples"></a></p>
<p dir="auto">You can find several example of slip presentation, from different versions of slip. As they were from early stage of developpement, looking at the source code can be helpful but many things may have changed. Only the official example, tutorial and documentation are kept up to date.</p>
<ul dir="auto">
<li><a href="http://choum.net/panglesd/slides/slides-js/slides.html" rel="nofollow">The slips of my thesis</a>, the very first presentation that used (a very early version of) slipshow,</li>
<li><a href="https://choum.net/panglesd/slides/WDCM-2021-slips/wdcm-ada.html" rel="nofollow">Some other technical presentation</a> (that also used an early version of the engine)</li>
</ul>
<p dir="auto">Use the arrows to navigate in the presentation.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Tutorial, API and Documentation</h2><a id="user-content-tutorial-api-and-documentation" aria-label="Permalink: Tutorial, API and Documentation" href="#tutorial-api-and-documentation"></a></p>
<p dir="auto">You can find an extensive documentation, with a tutorial at the readthedocs <a href="https://slipshow.readthedocs.io/" rel="nofollow">documentation</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Quick start</h2><a id="user-content-quick-start" aria-label="Permalink: Quick start" href="#quick-start"></a></p>
<p dir="auto">For a super quick start, just click visit <a href="https://sliphub.choum.net/" rel="nofollow">sliphub.choum.net</a> to start writing a presentation online.</p>
<p dir="auto">For using slipshow offline, you'll need to install the slipshow tool. Currently, there are several ways to get it. The best is to download the precompiled binary from the <a href="https://github.com/panglesd/slipshow/releases/latest">latest release</a>.</p>
<p dir="auto">Slipshow is also package in some package manager:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# For opam users. TODO: Update once it has been released to opam.
$ opam pin slipshow git@github.com/panglesd/slipshow.git

# For npm users
$ npm install -g slipshow"><pre><span><span>#</span> For opam users. TODO: Update once it has been released to opam.</span>
$ opam pin slipshow git@github.com/panglesd/slipshow.git

<span><span>#</span> For npm users</span>
$ npm install -g slipshow</pre></div>
<p dir="auto">Then, you can use the <code>slipshow</code> binary to compile a <code>.md</code> file to a slipshow presentation:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Compile file.md into file.html:
$ slipshow -o file.html file.md

# Watch for changes in the file, automatically recompiling:
$ slipshow -o file.html file.md --watch

# Watch for changes in the file, automatically recompiling and hot-reloadind the opened presentation:
$ slipshow -o file.html file.md --serve"><pre><span><span>#</span> Compile file.md into file.html:</span>
$ slipshow -o file.html file.md

<span><span>#</span> Watch for changes in the file, automatically recompiling:</span>
$ slipshow -o file.html file.md --watch

<span><span>#</span> Watch for changes in the file, automatically recompiling and hot-reloadind the opened presentation:</span>
$ slipshow -o file.html file.md --serve</pre></div>
<p dir="auto">You're ready to go! Have a look at the syntax, or the full tutorial for a more gentle introduction.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contributing</h2><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto">You can issue a Pull Request of any kind, report a bug, ask for a new feature, suggest an enhancement on the documentation (or make a Pull Request)... You can also <a href="https://slipshow.readthedocs.io/en/latest/themes.html#writing-a-theme" rel="nofollow">write a theme</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">MIT</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Three Laws of Software Complexity (196 pts)]]></title>
            <link>https://maheshba.bitbucket.io/blog/2024/05/08/2024-ThreeLaws.html</link>
            <guid>40509572</guid>
            <pubDate>Wed, 29 May 2024 07:58:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://maheshba.bitbucket.io/blog/2024/05/08/2024-ThreeLaws.html">https://maheshba.bitbucket.io/blog/2024/05/08/2024-ThreeLaws.html</a>, See on <a href="https://news.ycombinator.com/item?id=40509572">Hacker News</a></p>
Couldn't get https://maheshba.bitbucket.io/blog/2024/05/08/2024-ThreeLaws.html: Error: Request failed with status code 429]]></description>
        </item>
        <item>
            <title><![CDATA[You can force employees back to the office, but not the good ones (251 pts)]]></title>
            <link>https://www.rte.ie/brainstorm/2024/0521/1450272-return-to-office-mandates-employees-work-from-home/</link>
            <guid>40509409</guid>
            <pubDate>Wed, 29 May 2024 07:28:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.rte.ie/brainstorm/2024/0521/1450272-return-to-office-mandates-employees-work-from-home/">https://www.rte.ie/brainstorm/2024/0521/1450272-return-to-office-mandates-employees-work-from-home/</a>, See on <a href="https://news.ycombinator.com/item?id=40509409">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent">
<article>
<div data-equalizer-watch="" id="main" itemscope="" itemtype="http://schema.org/Article" data-equalizer="" data-equalize-on="large" data-equalize-by-row="">

<header>

</header>
<div>
<p><span>
Updated / Tuesday, 21 May 2024 <strong>09:31</strong>
</span>
</p>


</div>

<figure id="main-article-image">
<p><img itemprop="image" src="https://img.rasset.ie/002047a8-500.jpg" data-src="https://img.rasset.ie/002047a8-800.jpg" alt="Against all expectations, remote workers appear to work harder and more productively than workers in traditional office. Photo: Getty Images">
</p>
<figcaption data-epic-field="thumbnail_caption">Against all expectations, remote workers appear to work harder and more productively than workers in traditional office. Photo: Getty Images</figcaption>
</figure>

<section itemprop="articleBody" data-epic-field="content">
<p><b>Analysis: Organisations that impose return-to-office mandates face the catastrophic possibility of losing their most valuable workers</b></p>
<p>The <a href="https://www.rte.ie/brainstorm/covid-19/">COVID-19</a> pandemic upended the workplace in many surprising ways. Many organisations were forced to abandon the traditional arrangement of having employees come to the office five days a week in favour of a variety of schemes for <a href="https://www.rte.ie/brainstorm/2024/0216/1408426-learning-on-the-job-remote-working/">remote work</a> or working from home.</p>
<p>Against all expectations, remote workers appear to <a href="https://thehill.com/business/4110598-remote-employees-work-longer-and-harder-studies-show/">work harder and more productively</a> than workers in traditional offices. Remote workers were not only more productive they were <a href="https://www.apollotechnical.com/statistics-on-remote-workers/">more satisfied</a> with remote work than they had been with working in a traditional office. This finding is not unexpected. Once you let workers do away with the commute to and from the office, office politics, <a href="https://www.rte.ie/brainstorm/2024/0410/1442669-workplace-bullying-harrassment-toxic-behaviour-bystanders/">workplace bullying</a>, boring meetings, the need to wear and take care of business suits and other costly and often uncomfortable attire, you should not be surprised that they will feel happier.</p>
<p>Since the end of the pandemic, there has been a growing push to encourage, and sometimes compel workers to <a href="https://www.rte.ie/news/business/2024/0115/1426497-survey-remote-working/">return to the office</a>. This movement has become so widespread that it has generated the acronym RTO, or Return to the Office. As I have noted in <a href="https://www.rte.ie/brainstorm/2023/0904/1402957-offices-workers-bosses-managers-executives-psychology/">earlier columns</a>, the rationale for RTO mandates is often murky, and it is hard to resist the conclusion that the push to get people back to the office is in part an effort to reduce the embarrassment of executives sitting in near-empty office buildings (building they often purchased or built) with <a href="https://www.rte.ie/brainstorm/2024/0319/1438645-middle-managers-job-role-organisations-workplace/">nobody to manage</a>.</p>

<p><i><b>From RT√â Radio 1's The Business, Is your boss watching you?</b></i></p>
<p>There is increasing evidence that RTO mandates can be counterproductive. In particular, several organisations that have attempted to coerce workers back to the office have found that they are <a href="https://www.washingtonpost.com/business/2024/05/12/rto-microsoft-apple-spacex">losing experienced managers</a> and top performers at disproportionate rates. The dynamic here is clear, and potentially alarming. Organisations that impose RTO mandates face the possibility of losing their most valuable workers. Turnover is often costly for organisations, but turnover of your most experienced and most valuable workers can be catastrophic.</p>
<p>I believe the pandemic shook things up in the world of work in ways that are still poorly understood. The great political philosopher Edmund Burke noted that "custom reconciles us to every thing", and I think this applies to all sorts of workplace norms and practices. If we were used to the way things were done in organisations, we were willing to put up with all sorts of organisational policies that were burdensome (e.g., dress codes) or even abusive (e.g., the expectation that we should work beyond normal working hours if asked to do this.)</p>
<h2><b>Read more: <a href="https://www.rte.ie/brainstorm/2023/0904/1402957-offices-workers-bosses-managers-executives-psychology/">Get back to the office or else! Why bosses want workers back at their desks</a></b></h2>
<p>A year or two away from the office has opened a lot of eyes, and things that were once widely accepted (e.g., office politics) are now barely tolerated, if they are accepted at all. More important, time away from the office seems to have upset the traditional balance of power between employers and employees. Once you realise that you do not need the office and that you do not need to be tightly monitored or supervised, it is hard to go back.</p>
<p>Some employees, of course, <i>do</i> go back. First, there are some employees who believe that being in the office will benefit their careers. They are probably right; workers who return to the office are more likely to <a href="https://www.inc.com/jessica-stillman/ceos-data-agree-workers-promotion-office-4-days-week.html">receive promotions</a>.<i> </i>Whether organisations <i>should</i> promote the careerists who come back to the office in hopes that their loyalty (or submissiveness to RTO mandates) will win them promotions that their performance and effectiveness would not, is an open question. Second, there are employees who are <a href="https://www.rte.ie/brainstorm/2024/0304/1435778-bad-jobs-workplace-change-inertia-organisations/">trapped in their jobs</a>, either because of family or community obligations or because they lack the <a href="https://www.rte.ie/brainstorm/2024/0108/1411961-ireland-2024-upskilling-reskilling-training-courses-new-jobs-career-development/">skills, knowledge, and abilities</a> to move to other jobs. Executives who force RTO mandates down the throats of their employees run the risk of changing their organisation into a set of lapdog careerists and people who are stuck working for you, and it is hard to believe that this will benefit their organisation.</p>
<h2><b>Read more: <a href="https://www.rte.ie/brainstorm/2024/0115/1426555-coffee-badging-return-to-office-work-from-home-employers-employees/">Is 'coffee badging' the new return to office/work from home trend?</a></b></h2>
<p>Executives who are pushing employees to come back to the office are most likely to succeed if they can make a convincing case for <i>why </i>coming back to the office benefits employees and the organisation. The typical explanation that coming back to the office is important for the culture of the organisation is unfounded at best, and hogwash at worse. Second, the carrot works better than the stick. If you want employees to come back to the office, recognise that this comes at considerable costs to employees and give them incentives that more than offset these costs.</p>
<p>It is time for executives to recognise that the old power balance is unlikely to come back, and that mandates from on high that don't seem to make sense or that impose significant costs on employees will not be accepted by employees who have the skills, knowledge, experience, and abilities that give them ample opportunities to seek employment elsewhere. The RTO movement has, in the end, provided opportunities to executives who are smart enough and willing enough to read the new world of work to poach talent from their competitors. If this trend continues, we could see the old breed of all-powerful executives push themselves toward extinction. I can hardly wait!</p>
<h3><b>Follow RT√â Brainstorm on <a href="https://www.whatsapp.com/channel/0029VaJ6ugQ1HsptikZkfS1f">WhatsApp</a> and <a href="https://www.instagram.com/rte_brainstorm">Instagram</a> for more stories and updates</b></h3>
<hr>
<p><b>The views expressed here are those of the author and do not represent or reflect the views of RT√â</b></p>
<hr>

</section>

<div>
<h4>More stories on</h4>

</div>
</div>
</article>

<div>
<p><a href="https://www.rte.ie/author/917131-kevin-r-murphy/" data-ati-tracking="{&quot;campaign&quot;:&quot;9[columnist]&quot;,&quot;generalPlacement&quot;:&quot;body&quot;,&quot;creation&quot;:&quot;body&quot;, &quot;variant&quot;:&quot;0&quot;, &quot;format&quot;:&quot;author&quot;, &quot;url&quot;:&quot;More by Professor Kevin Murphy&quot;, &quot;detailedPlacement&quot;:&quot;&quot;}">
<img src="https://img.rasset.ie/00129243-300.jpg" data-src="https://img.rasset.ie/00129243-300.jpg" alt="More by Professor Kevin Murphy" title="More by Professor Kevin Murphy">
</a>
</p>

</div>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Former OpenAI board member explains why they fired Sam Altman (196 pts)]]></title>
            <link>https://www.theverge.com/2024/5/28/24166713/openai-helen-toner-explains-why-sam-altman-was-fired</link>
            <guid>40509399</guid>
            <pubDate>Wed, 29 May 2024 07:26:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/2024/5/28/24166713/openai-helen-toner-explains-why-sam-altman-was-fired">https://www.theverge.com/2024/5/28/24166713/openai-helen-toner-explains-why-sam-altman-was-fired</a>, See on <a href="https://news.ycombinator.com/item?id=40509399">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>On November 17th, 2023, OpenAI‚Äôs board shocked everyone by <a href="https://www.theverge.com/2023/11/17/23965982/openai-ceo-sam-altman-fired">suddenly ousting</a> co-founder and CEO Sam Altman. </p><p>He had been overseeing one of the fastest-growing app launches in history with ChatGPT, so what happened? Former board member Helen Toner is filling in blank spaces in an interview on <a href="https://www.ted.com/podcasts/the-ted-ai-show"><em>The TED AI Show</em></a> podcast, providing her perspective on the events that caused board members to stop trusting Altman, as well as how he <a href="https://www.theverge.com/2024/3/8/24094885/openai-sam-altman-investigation-board-results">eventually returned</a>. </p><p>In her telling, once the board decided they needed to bring in a new CEO, they felt the only way to make it happen was to <a href="https://www.theverge.com/2023/12/1/23984818/openai-microsoft-altman-nadella-firing-newyorker">go behind his back.</a> ‚Äú[I]t was very clear to all of us that as soon as Sam had any inkling that we might do something that went against him, he would pull out all the stops, do everything in his power to undermine the board, to prevent us from even getting to the point of being able to fire him,‚Äù Toner said.</p><p>Toner says that one reason the board stopped trusting Altman was his failure to tell the board that he owned the OpenAI Startup Fund; another was how he gave inaccurate info about the company‚Äôs safety processes ‚Äúon multiple occasions.‚Äù Additionally, Toner says she was personally targeted by the CEO after she published a research paper that angered him. ‚ÄúSam started lying to other board members in order to try and push me off the board,‚Äù she says.</p><p>After two executives spoke directly to the board about their own experiences with Altman, describing a toxic atmosphere at OpenAI, accusing him of ‚Äúpsychological abuse,‚Äù and providing evidence of Altman ‚Äúlying and being manipulative in different situations,‚Äù the board finally made its move.</p><p>Toner cites the <a href="https://www.theverge.com/23488017/openai-chatbot-chatgpt-ai-examples-web-demo">launch of ChatGPT</a> itself as an example of how the board didn‚Äôt have real oversight over the company. ‚Äú[W]hen ChatGPT came out November 2022, the board was not informed in advance. We learned about ChatGPT on Twitter,‚Äù says Toner.</p><div><p>The podcast doesn‚Äôt go into the details of what happened in the days following Altman‚Äôs firing. OpenAI rapidly <a href="https://www.theverge.com/2023/11/20/23968848/openai-new-ceo-emmett-shear-twitch-co-founder-hiring">shuffled through</a> interim CEOs, employees <a href="https://twitter.com/ilyasut/status/1726590052392956028">including at least one of the board members who fired Altman</a> pushed for his return, and OpenAI‚Äôs lead investor, Microsoft, <a href="https://www.theverge.com/2023/12/1/23984818/openai-microsoft-altman-nadella-firing-newyorker">put its support behind Altman</a>, too. </p></div><p>However, Toner points out three reasons she believes the pressure to restore Altman was so strong. She claims employees were presented with only two options about how things could go (ditching the board to restore Altman or seeing the company destroyed), and since people didn‚Äôt want the company to fall apart, they supported the other one. She also says many people were scared of going against Altman after watching him retaliate against others.</p><p>Her last reason is Altman‚Äôs track record prior to OpenAI:</p><div><blockquote><p>And I guess the last thing I would say about this is that this actually isn‚Äôt a new problem for Sam. And if you look at some of the reporting that that has come out since November. It‚Äôs come out that he was actually fired from his previous job at Y Combinator, which was hushed up at the time. And then at, you know, his job before that, which was his only other job in Silicon Valley, his startup Loopt, apparently the management team went to the board there twice and asked the board to fire him for what they called deceptive and chaotic behavior. If you actually look at his track record, he doesn‚Äôt exactly have a glowing trail of references. This wasn‚Äôt a problem specific to the personalities on the board, as much as he would love to portray it that way.&nbsp;</p></blockquote></div><p>The podcast also includes a response from current OpenAI board chair Bret Taylor:</p><div><blockquote><p>We are disappointed that Ms. Toner continues to revisit these issues. An independent committee of the board worked with the law firm Wilmer Hale, to conduct an extensive review of the events of November. The review concluded that the prior board‚Äôs decision was not based on concerns regarding product safety or security, the pace of development, OpenAI‚Äôs finances, or its statements to investors, customers, or business partners. Additionally, over 95 percent of employees, including senior leadership, asked for Sam‚Äôs reinstatement as CEO and the resignation of the prior board. Our focus remains on moving forward and pursuing OpenAI‚Äôs mission to ensure AGI benefits all of humanity.</p></blockquote></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Isreal Spied on and Hacked the ICC (102 pts)]]></title>
            <link>https://www.theguardian.com/world/article/2024/may/28/spying-hacking-intimidation-israel-war-icc-exposed</link>
            <guid>40509030</guid>
            <pubDate>Wed, 29 May 2024 06:18:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theguardian.com/world/article/2024/may/28/spying-hacking-intimidation-israel-war-icc-exposed">https://www.theguardian.com/world/article/2024/may/28/spying-hacking-intimidation-israel-war-icc-exposed</a>, See on <a href="https://news.ycombinator.com/item?id=40509030">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent"><p><span>W</span>hen the chief prosecutor of the international criminal court (ICC) announced he was <a href="https://www.theguardian.com/law/article/2024/may/20/icc-prosecutor-seeks-arrest-warrants-israeli-pm-netanyahu-hamas-officials-war-crimes" data-link-name="in body link">seeking arrest warrants</a> against Israeli and Hamas leaders, he issued a cryptic warning: ‚ÄúI insist that all attempts to impede, intimidate or improperly influence the officials of this court must cease immediately.‚Äù</p><p>Karim Khan did not provide specific details of attempts to interfere in the ICC‚Äôs work, but he noted a clause in the court‚Äôs foundational treaty that made any such interference a criminal offence. If the conduct continued, he added, ‚Äúmy office will not hesitate to act‚Äù.</p><p>The prosecutor did not say who had attempted to intervene in the administration of justice, or how exactly they had done so.</p><p>Now, an investigation by the Guardian and the Israeli-based magazines +972 and Local Call can reveal how <a href="https://www.theguardian.com/world/israel" data-link-name="in body link" data-component="auto-linked-tag">Israel</a> has run an almost decade-long secret ‚Äúwar‚Äù against the court. The country deployed its intelligence agencies to surveil, hack, pressure, smear and allegedly threaten senior ICC staff in an effort to derail the court‚Äôs inquiries.</p><p>Israeli intelligence captured the communications of numerous ICC officials, including Khan and his predecessor as prosecutor, <a href="https://www.theguardian.com/law/fatou-bensouda" data-link-name="in body link" data-component="auto-linked-tag">Fatou Bensouda</a>, intercepting phone calls, messages, emails and documents.</p><p>The surveillance was ongoing in recent months, providing Israel‚Äôs prime minister, <a href="https://www.theguardian.com/world/benjamin-netanyahu" data-link-name="in body link" data-component="auto-linked-tag">Benjamin Netanyahu</a>, with advance knowledge of the prosecutor‚Äôs intentions. A recent intercepted communication suggested that Khan wanted to issue arrest warrants against Israelis but was under ‚Äútremendous pressure from the United States‚Äù, according to a source familiar with its contents.</p><figure id="68b55783-7bfa-48a0-a732-a64b0e48fefa" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-2"><picture><source srcset="https://i.guim.co.uk/img/media/5c06848d1949d9bd8a778e9f6e7f09ca1f93ecc3/0_146_4000_2400/master/4000.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/5c06848d1949d9bd8a778e9f6e7f09ca1f93ecc3/0_146_4000_2400/master/4000.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/5c06848d1949d9bd8a778e9f6e7f09ca1f93ecc3/0_146_4000_2400/master/4000.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/5c06848d1949d9bd8a778e9f6e7f09ca1f93ecc3/0_146_4000_2400/master/4000.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/5c06848d1949d9bd8a778e9f6e7f09ca1f93ecc3/0_146_4000_2400/master/4000.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/5c06848d1949d9bd8a778e9f6e7f09ca1f93ecc3/0_146_4000_2400/master/4000.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Karim Khan standing at a lectern holding a book titled Policy on Complementarity and Cooperation" src="https://i.guim.co.uk/img/media/5c06848d1949d9bd8a778e9f6e7f09ca1f93ecc3/0_146_4000_2400/master/4000.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Karim Khan. The surveillance was ongoing in recent months, providing Netanyahu with advance knowledge of Khan‚Äôs intentions.</span> Photograph: Luis Acosta/AFP/Getty Images</figcaption></figure><p>Bensouda, who as chief prosecutor opened the ICC‚Äôs investigation in 2021, paving the way for last week‚Äôs announcement, was also spied on and allegedly threatened.</p><p>Netanyahu has taken a close interest in the intelligence operations against the ICC, and was described by one intelligence source as being ‚Äúobsessed‚Äù with intercepts about the case. Overseen by his national security advisers, the efforts involved the domestic spy agency, the Shin Bet, as well as the military‚Äôs intelligence directorate, Aman, and cyber-intelligence division, Unit 8200. Intelligence gleaned from intercepts was, sources said, disseminated to government ministries of justice, foreign affairs and strategic affairs.</p><p>A covert operation against Bensouda, <a href="https://www.theguardian.com/world/article/2024/may/28/israeli-spy-chief-icc-prosecutor-war-crimes-inquiry" data-link-name="in body link">revealed on Tuesday by the Guardian</a>, was run personally by Netanyahu‚Äôs close ally Yossi Cohen, who was at the time the director of Israel‚Äôs foreign intelligence agency, the Mossad. At one stage, the spy chief even enlisted the help of the then president of the Democratic Republic of the Congo, Joseph Kabila.</p><p>Details of Israel‚Äôs nine-year campaign to thwart the ICC‚Äôs inquiry have been uncovered by the Guardian, an Israeli-Palestinian publication +972 Magazine and Local Call, a Hebrew-language outlet.</p><p>The joint investigation draws on interviews with more than two dozen current and former Israeli intelligence officers and government officials, senior ICC figures, diplomats and lawyers familiar with the ICC case and Israel‚Äôs efforts to undermine it.</p><p>Contacted by the Guardian, a spokesperson for the ICC said it was aware of ‚Äúproactive intelligence-gathering activities being undertaken by a number of national agencies hostile towards the court‚Äù. They said the ICC was continually implementing countermeasures against such activity, and that ‚Äúnone of the recent attacks against it by national intelligence agencies‚Äù had penetrated the court‚Äôs core evidence holdings, which had remained secure.</p><p>A spokesperson for Israel‚Äôs prime minister‚Äôs office said: ‚ÄúThe questions forwarded to us are replete with many false and unfounded allegations meant to hurt the state of Israel.‚Äù A military spokesperson added: ‚ÄúThe IDF [Israel Defense Forces] did not and does not conduct surveillance or other intelligence operations against the ICC.‚Äù</p><p>Since it was established in 2002, the ICC has served as a permanent court of last resort for the prosecution of individuals accused of some of the world‚Äôs worst atrocities. It has <a href="https://www.theguardian.com/world/2008/jul/14/sudan.warcrimes1" data-link-name="in body link">charged the former Sudanese president Omar al-Bashir</a>, the late <a href="https://www.theguardian.com/world/2011/jun/27/muammar-gaddafi-arrest-warrant-hague" data-link-name="in body link">Libyan president Muammar Gaddafi</a> and most recently, the <a href="https://www.theguardian.com/world/2023/mar/17/vladimir-putin-arrest-warrant-ukraine-war-crimes" data-link-name="in body link">Russian president, Vladimir Putin</a>.</p><p>Khan‚Äôs decision to seek warrants against Netanyahu and his defence minister, Yoav Gallant, along with Hamas leaders implicated in the 7 October attack, marks the first time an ICC prosecutor has sought arrest warrants against the leader of a close western ally.</p><figure id="f8ef1bf8-1ff2-4d61-8b7f-84eeb7bd28ef" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-3"><picture><source srcset="https://i.guim.co.uk/img/media/3f16e2cf5dc402a4434d724cc9b89dabef917b86/0_0_4713_2828/master/4713.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/3f16e2cf5dc402a4434d724cc9b89dabef917b86/0_0_4713_2828/master/4713.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/3f16e2cf5dc402a4434d724cc9b89dabef917b86/0_0_4713_2828/master/4713.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/3f16e2cf5dc402a4434d724cc9b89dabef917b86/0_0_4713_2828/master/4713.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/3f16e2cf5dc402a4434d724cc9b89dabef917b86/0_0_4713_2828/master/4713.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/3f16e2cf5dc402a4434d724cc9b89dabef917b86/0_0_4713_2828/master/4713.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Displaced Palestinians collect water in containers, surrounded by rubble and destroyed buildings, with a donkey pulling a loaded cart" src="https://i.guim.co.uk/img/media/3f16e2cf5dc402a4434d724cc9b89dabef917b86/0_0_4713_2828/master/4713.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267.01888393804376" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Displaced Palestinians collecting water in a neighbourhood in Khan Younis, southern Gaza, that has been devastated by Israeli airstrikes.</span> Photograph: Eyad Baba/AFP/Getty Images</figcaption></figure><p>The allegations of war crimes and crimes against humanity that Khan has levelled against Netanyahu and Gallant all relate to Israel‚Äôs eight-month war in <a href="https://www.theguardian.com/world/gaza" data-link-name="in body link" data-component="auto-linked-tag">Gaza</a>, which according to the territory‚Äôs health authority has killed more than 35,000 people.</p><p>But the ICC case has been a decade in the making, inching forward amid rising alarm among Israeli officials at the possibility of arrest warrants, which would prevent those accused from travelling to any of the court‚Äôs 124 member states for fear of arrest.</p><p>It is this spectre of prosecutions in The Hague that one former Israeli intelligence official said had led the ‚Äúentire military and political establishment‚Äù to regard the counteroffensive against the ICC ‚Äúas a war that had to be waged, and one that Israel needed to be defended against. It was described in military terms.‚Äù</p><p>That ‚Äúwar‚Äù commenced in January 2015, when it was confirmed <a href="https://www.theguardian.com/world/2015/jan/07/palestine-member-international-criminal-court-un" data-link-name="in body link">that Palestine would join the court</a> after it was recognised as a state by the UN general assembly. Its accession was condemned by Israeli officials as a form of ‚Äúdiplomatic terrorism‚Äù.</p><p>One former defence official familiar with Israel‚Äôs counter-ICC effort said joining the court had been ‚Äúperceived as the crossing of a red line‚Äù and ‚Äúperhaps the most aggressive‚Äù diplomatic move taken by the Palestinian Authority, which governs the West Bank. ‚ÄúTo be recognised as a state in the UN is nice,‚Äù they added. ‚ÄúBut the ICC is a mechanism with teeth.‚Äù</p><figure id="766e6aab-c55d-4741-b519-c7ba9eeefa2b" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-4"><picture><source srcset="https://i.guim.co.uk/img/media/05933d047699b16aa01489e11a170a1ee3b86638/0_158_3046_1828/master/3046.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/05933d047699b16aa01489e11a170a1ee3b86638/0_158_3046_1828/master/3046.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/05933d047699b16aa01489e11a170a1ee3b86638/0_158_3046_1828/master/3046.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/05933d047699b16aa01489e11a170a1ee3b86638/0_158_3046_1828/master/3046.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/05933d047699b16aa01489e11a170a1ee3b86638/0_158_3046_1828/master/3046.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/05933d047699b16aa01489e11a170a1ee3b86638/0_158_3046_1828/master/3046.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Mahmoud Abbas wearing a suit and a scarf, photographed in a group of people leaving a building" src="https://i.guim.co.uk/img/media/05933d047699b16aa01489e11a170a1ee3b86638/0_158_3046_1828/master/3046.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267.05843729481285" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Mahmoud Abbas (second from left), the president of the Palestinian Authority, after a meeting with Bensouda in The Hague in October 2015.</span> Photograph: Anadolu/Getty Images</figcaption></figure><h2 id="a-hand-delivered-threat"><strong>A hand-delivered threat</strong></h2><p>For Fatou Bensouda, a respected Gambian lawyer who was elected the ICC‚Äôs chief prosecutor in 2012, the accession of Palestine to the court brought with it a momentous decision. Under the Rome statute, the treaty that established the court, the ICC can exercise its jurisdiction only over crimes within member states or by nationals of those states.</p><p>Israel, like the US, Russia and China, is not a member. After Palestine‚Äôs acceptance as an ICC member, any alleged war crimes ‚Äì committed by those of any nationality ‚Äì in occupied <a href="https://www.theguardian.com/world/palestinian-territories" data-link-name="in body link" data-component="auto-linked-tag">Palestinian territories</a> now fell under Bensouda‚Äôs jurisdiction.</p><p>On 16 January 2015, within weeks of Palestine joining, Bensouda <a href="https://www.icc-cpi.int/news/prosecutor-international-criminal-court-fatou-bensouda-opens-preliminary-examination-situation" data-link-name="in body link">opened a preliminary examination</a> into what in the legalese of the court was called ‚Äúthe situation in Palestine‚Äù. The following month, two men who had managed to obtain the prosecutor‚Äôs private address turned up at her home in The Hague.</p><p>Sources familiar with the incident said the men declined to identify themselves when they arrived, but said they wanted to hand-deliver a letter to Bensouda on behalf of an unknown German woman who wanted to thank her. The envelope contained hundreds of dollars in cash and a note with an Israeli phone number.</p><figure id="637bb7ef-0368-4627-8498-882460f66d38" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-5"><picture><source srcset="https://i.guim.co.uk/img/media/a43ff9902b6c6d6125f6dfaf081ccc1c0f2631a6/0_366_8640_5184/master/8640.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/a43ff9902b6c6d6125f6dfaf081ccc1c0f2631a6/0_366_8640_5184/master/8640.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/a43ff9902b6c6d6125f6dfaf081ccc1c0f2631a6/0_366_8640_5184/master/8640.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/a43ff9902b6c6d6125f6dfaf081ccc1c0f2631a6/0_366_8640_5184/master/8640.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/a43ff9902b6c6d6125f6dfaf081ccc1c0f2631a6/0_366_8640_5184/master/8640.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/a43ff9902b6c6d6125f6dfaf081ccc1c0f2631a6/0_366_8640_5184/master/8640.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Fatou Bensouda" src="https://i.guim.co.uk/img/media/a43ff9902b6c6d6125f6dfaf081ccc1c0f2631a6/0_366_8640_5184/master/8640.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Fatou Bensouda‚Äôs caseload also included nine full investigations, including into events in the Democratic Republic of the Congo.</span> Photograph: Peter Dejong/AP</figcaption></figure><p>Sources with knowledge of an ICC review into the incident said that while it was not possible to identify the men, or fully establish their motives, it was concluded that Israel was likely to be signalling to the prosecutor that it knew where she lived. The ICC reported the incident to Dutch authorities and put in place additional security, installing CCTV cameras at her home.</p><p>The ICC‚Äôs preliminary inquiry in the Palestinian territories was one of several such fact-finding exercises the court was undertaking at the time, as a precursor to a possible full investigation. Bensouda‚Äôs caseload also included nine full investigations, including into events in DRC, Kenya and the Darfur region of Sudan.</p><p>Officials in the prosecutor‚Äôs office believed the court was vulnerable to espionage activity and introduced countersurveillance measures to protect their confidential inquiries.</p><p>In Israel, the prime minister‚Äôs national security council (NSC) had mobilised a response involving its intelligence agencies. Netanyahu and some of the generals and spy chiefs who authorised the operation had a personal stake in its outcome.</p><p>Unlike the <a href="https://www.theguardian.com/law/international-court-of-justice" data-link-name="in body link">international court of justice</a> (ICJ), a UN body that deals with the legal responsibility of nation states, the ICC is a criminal court that prosecutes individuals, targeting those deemed most responsible for atrocities.</p><figure id="07fc8294-6d94-4998-a389-bee6dcba2359" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-6"><picture><source srcset="https://i.guim.co.uk/img/media/a7fad69cd96d53bc0591c32de5c20aa54fc90c56/0_0_5472_3283/master/5472.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/a7fad69cd96d53bc0591c32de5c20aa54fc90c56/0_0_5472_3283/master/5472.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/a7fad69cd96d53bc0591c32de5c20aa54fc90c56/0_0_5472_3283/master/5472.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/a7fad69cd96d53bc0591c32de5c20aa54fc90c56/0_0_5472_3283/master/5472.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/a7fad69cd96d53bc0591c32de5c20aa54fc90c56/0_0_5472_3283/master/5472.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/a7fad69cd96d53bc0591c32de5c20aa54fc90c56/0_0_5472_3283/master/5472.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Facade and steps of the building" src="https://i.guim.co.uk/img/media/a7fad69cd96d53bc0591c32de5c20aa54fc90c56/0_0_5472_3283/master/5472.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="266.9837353801169" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>The international criminal court in The Hague, the Netherlands.</span> Photograph: Mike Corder/AP</figcaption></figure><p>Multiple Israeli sources said the leadership of the IDF wanted military intelligence to join the effort, which was being led by other spy agencies, to ensure senior officers could be protected from charges. ‚ÄúWe were told that senior officers are afraid to accept positions in the West Bank because they are afraid of being prosecuted in The Hague,‚Äù one source recalled.</p><p>Two intelligence officials involved in procuring intercepts about the ICC said the prime minister‚Äôs office took a keen interest in their work. Netanyahu‚Äôs office, one said, would send ‚Äúareas of interests‚Äù and ‚Äúinstructions‚Äù in relation to the monitoring of court officials. Another described the prime minister as ‚Äúobsessed‚Äù with intercepts shedding light on the activities of the ICC.</p><h2 id="hacked-emails-and-monitored-calls"><strong>Hacked emails and monitored calls</strong></h2><p>Five sources familiar with Israel‚Äôs intelligence activities said it routinely spied on the phone calls made by Bensouda and her staff with Palestinians. Blocked by Israel from accessing Gaza and the West Bank, including East Jerusalem, the ICC was forced to conduct much of its research by telephone, which made it more susceptible to surveillance.</p><p>Thanks to their comprehensive access to Palestinian telecoms infrastructure, the sources said, intelligence operatives could capture the calls without installing spyware on the ICC official‚Äôs devices.</p><p>‚ÄúIf Fatou Bensouda spoke to any person in the West Bank or Gaza, then that phone call would enter [intercept] systems,‚Äù one source said. Another said there was no hesitation internally over spying on the prosecutor, adding: ‚ÄúWith Bensouda, she‚Äôs black and African, so who cares?‚Äù</p><p>The surveillance system did not capture calls between ICC officials and anyone outside Palestine. However, multiple sources said the system required the active selection of the overseas phone numbers of ICC officials whose calls Israeli intelligence agencies decided to listen to.</p><p>According to one Israeli source, a large whiteboard in an Israeli intelligence department contained the names of about 60 people under surveillance ‚Äì half of them Palestinians and half from other countries, including UN officials and ICC personnel.</p><p>In The Hague, Bensouda and her senior staff were alerted by security advisers and via diplomatic channels that Israel was monitoring their work. A former senior ICC official recalled: ‚ÄúWe were made aware they were trying to get information on where we were with the preliminary examination.‚Äù</p><p>Officials also became aware of specific threats against a prominent Palestinian NGO, Al-Haq, which was one of several Palestinian human rights groups that frequently submitted information to the ICC inquiry, often in lengthy documents detailing incidents it wanted the prosecutor to consider. The Palestinian Authority submitted similar dossiers.</p><figure id="f4a133e0-08a2-4ba0-9f16-bd9043f61133" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-7"><picture><source srcset="https://i.guim.co.uk/img/media/e60831f66baa67b088d66ac4e4a4890396b3153e/0_296_5500_3300/master/5500.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/e60831f66baa67b088d66ac4e4a4890396b3153e/0_296_5500_3300/master/5500.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/e60831f66baa67b088d66ac4e4a4890396b3153e/0_296_5500_3300/master/5500.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/e60831f66baa67b088d66ac4e4a4890396b3153e/0_296_5500_3300/master/5500.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/e60831f66baa67b088d66ac4e4a4890396b3153e/0_296_5500_3300/master/5500.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/e60831f66baa67b088d66ac4e4a4890396b3153e/0_296_5500_3300/master/5500.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Photo of a glass door with a poster on it reading: ‚ÄòAl Haq: 40 years of defending human rights‚Äù in English and Arabic. Behind the glass door and out of focus, a man sits at a desk covered in papers" src="https://i.guim.co.uk/img/media/e60831f66baa67b088d66ac4e4a4890396b3153e/0_296_5500_3300/master/5500.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>The Al-Haq office in Ramallah, in the Israeli-occupied West Bank, in 2021.</span> Photograph: Mohamad Torokman/Reuters</figcaption></figure><p>Such documents often contained sensitive information such as testimony from potential witnesses. Al-Haq‚Äôs submissions are also understood to have linked specific allegations of Rome statute crimes to senior officials, including chiefs of the IDF, directors of the Shin Bet, and defence ministers such as Benny Gantz.</p><p>Years later, after the ICC had opened a full investigation into the Palestine case, Gantz designated Al-Haq and five other Palestinian rights groups as <a href="https://www.theguardian.com/world/2021/oct/22/israel-labels-palestinian-human-rights-groups-terrorist-organisations" data-link-name="in body link">‚Äúterrorist organisations‚Äù</a>, a label that was <a href="https://www.theguardian.com/commentisfree/2021/oct/28/ngo-israel-human-rights-al-haq-palestinians" data-link-name="in body link">rejected</a> by multiple European states and later <a href="https://www.theguardian.com/world/2022/aug/22/cia-report-israel-palestinian-rights-groups" data-link-name="in body link">found by the CIA to be unsupported by evidence</a>. The organisations said the designations were a ‚Äútargeted assault‚Äù against those most actively engaging with the ICC.</p><p>According to multiple current and former intelligence officials, military cyber-offensive teams and the Shin Bet both systematically monitored the employees of Palestinian NGOs and the Palestinian Authority who were engaging with the ICC. Two intelligence sources described how Israeli operatives hacked into the emails of Al-Haq and other groups communicating with Bensouda‚Äôs office.</p><p>One of the sources said the Shin Bet even installed Pegasus spyware, developed by the private-sector NSO Group, on the phones of multiple Palestinian NGO employees, as well as two senior Palestinian Authority officials.</p><p>Keeping tabs on the Palestinian submissions to the ICC‚Äôs inquiry was viewed as part of the Shin Bet‚Äôs mandate, but some army officials were concerned that spying on a foreign civilian entity crossed a line, as it had little to do with military operations.</p><p>‚ÄúIt has nothing to do with Hamas, it has nothing to do with stability in the West Bank,‚Äù one military source said of the ICC surveillance. Another added: ‚ÄúWe used our resources to spy on Fatou Bensouda ‚Äì this isn‚Äôt something legitimate to do as military intelligence.‚Äù</p><h2 id="secret-meetings-with-the-icc"><strong>Secret meetings with the ICC</strong></h2><p>Legitimate or otherwise, the surveillance of the ICC and Palestinians making the case for prosecutions against Israelis provided the Israeli government with an advantage in a secret back channel it had opened with the prosecutor‚Äôs office.</p><p>Israel‚Äôs meetings with the ICC were highly sensitive: if made public, they had the potential to undermine the government‚Äôs official position that it did not recognise the court‚Äôs authority.</p><p>According to six sources familiar with the meetings, they consisted of a delegation of top government lawyers and diplomats who travelled to The Hague. Two of the sources said the meetings were authorised by Netanyahu.</p><p>The Israeli delegation was drawn from the justice ministry, foreign ministry and the military advocate general‚Äôs office. The meetings took place between 2017 and 2019, and were led by the prominent Israeli lawyer and diplomat Tal Becker.</p><p>‚ÄúIn the beginning it was tense,‚Äù recalled a former ICC official. ‚ÄúWe would get into details of specific incidents. We‚Äôd say: ‚ÄòWe‚Äôre receiving allegations about these attacks, these killings,‚Äô and they would provide us with information.‚Äù</p><figure id="352d47e3-4f80-4828-a99e-b51875442ecc" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-8"><picture><source srcset="https://i.guim.co.uk/img/media/5be9fb8f0bf17c9c8011bf7f0856d52f4261d129/0_177_4250_2549/master/4250.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/5be9fb8f0bf17c9c8011bf7f0856d52f4261d129/0_177_4250_2549/master/4250.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/5be9fb8f0bf17c9c8011bf7f0856d52f4261d129/0_177_4250_2549/master/4250.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/5be9fb8f0bf17c9c8011bf7f0856d52f4261d129/0_177_4250_2549/master/4250.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/5be9fb8f0bf17c9c8011bf7f0856d52f4261d129/0_177_4250_2549/master/4250.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/5be9fb8f0bf17c9c8011bf7f0856d52f4261d129/0_177_4250_2549/master/4250.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Tal Becker sitting behind a sign reading: ‚ÄòIsra√´l‚Äô" src="https://i.guim.co.uk/img/media/5be9fb8f0bf17c9c8011bf7f0856d52f4261d129/0_177_4250_2549/master/4250.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="266.8952941176471" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Tal Becker at the ICJ in January.</span> Photograph: Hollandse Hoogte/REX/Shutterstock</figcaption></figure><p>A person with direct knowledge of Israel‚Äôs preparation for the back-channel meetings said officials in the justice ministry were furnished with intelligence that had been gleaned from Israeli surveillance intercepts before delegations arrived at The Hague. ‚ÄúThe lawyers who dealt with the issue at the justice ministry had a big thirst for intelligence information,‚Äù they said.</p><p>For the Israelis, the back-channel meetings, while sensitive, presented a unique opportunity to directly present legal arguments challenging the prosecutor‚Äôs jurisdiction over the Palestinian territories.</p><p>They also sought to convince the prosecutor that, despite the Israeli military‚Äôs <a href="https://www.yesh-din.org/en/law-enforcement-against-israeli-soldiers-suspected-of-harming-palestinians-and-their-property-summary-of-figures-for-2017-2021/" data-link-name="in body link">highly questionable record of investigating wrongdoing in its ranks</a>, it had robust procedures for holding its armed forces to account.</p><p>This was a critical issue for Israel. A core ICC principle, known as complementarity, prevents the prosecutor from investigating or trying individuals if they are the subject of credible state-level investigations or criminal proceedings.</p><p>Israeli surveillance operatives were asked to find out which specific incidents might form part of a future ICC prosecution, multiple sources said, in order to enable Israeli investigative bodies to ‚Äúopen investigations retroactively‚Äù in the same cases.</p><p>‚ÄúIf materials were transferred to the ICC, we had to understand exactly what they were, to ensure that the IDF investigated them independently and sufficiently so that they could claim complementarity,‚Äù one source explained.</p><p>Israel‚Äôs back-channel meetings with the ICC ended in December 2019, when Bensouda, <a href="https://www.icc-cpi.int/news/statement-icc-prosecutor-fatou-bensouda-conclusion-preliminary-examination-situation-palestine" data-link-name="in body link">announcing the end of her preliminary examination</a>, said she believed there was a ‚Äúreasonable basis‚Äù to conclude that Israel and Palestinian armed groups had both committed war crimes in the occupied territories.</p><figure id="e76f416b-e61a-4798-9535-1f3dfd1f456c" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-9"><picture><source srcset="https://i.guim.co.uk/img/media/34e5d4aff086a95ec45f349e53f7917f883f7ea8/0_237_6000_3600/master/6000.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/34e5d4aff086a95ec45f349e53f7917f883f7ea8/0_237_6000_3600/master/6000.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/34e5d4aff086a95ec45f349e53f7917f883f7ea8/0_237_6000_3600/master/6000.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/34e5d4aff086a95ec45f349e53f7917f883f7ea8/0_237_6000_3600/master/6000.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/34e5d4aff086a95ec45f349e53f7917f883f7ea8/0_237_6000_3600/master/6000.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/34e5d4aff086a95ec45f349e53f7917f883f7ea8/0_237_6000_3600/master/6000.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Bensouda speaking in The Hague in December 2019, with numerous national flags behind her." src="https://i.guim.co.uk/img/media/34e5d4aff086a95ec45f349e53f7917f883f7ea8/0_237_6000_3600/master/6000.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Bensouda made clear in December 2019 she was minded to open a full investigation.</span> Photograph: Anadolu Agency/Getty Images</figcaption></figure><p>It was a significant setback for Israel‚Äôs leaders, although it could have been worse. In a move that some in the government regarded as a partial vindication of Israel‚Äôs lobbying efforts, Bensouda stopped short of launching a formal investigation.</p><p>Instead, she announced she would ask a panel of ICC judges to rule on the contentious question of the court‚Äôs jurisdiction over the Palestinian territories, due to ‚Äúunique and highly contested legal and factual issues‚Äù.</p><p>Yet Bensouda had made clear she was minded to open a full investigation if the judges gave her the green light. It was against this backdrop that Israel ramped up its campaign against the ICC and turned to its top spy chief to turn up the heat on Bensouda personally.</p><h2 id="personal-threats-and-a-smear-campaign"><strong>Personal threats and a ‚Äòsmear campaign‚Äô</strong></h2><p>Between late 2019 and early 2021, as the pre-trial chamber considered the jurisdictional questions, the director of the Mossad, Yossi Cohen, intensified his efforts to persuade Bensouda not to proceed with the investigation.</p><p>Cohen‚Äôs contacts with Bensouda ‚Äì which were described to the Guardian by four people familiar with the prosecutor‚Äôs contemporaneous accounts of the interactions, as well as sources briefed on the Mossad operation ‚Äì had begun several years earlier.</p><p>In one of the earliest encounters, Cohen surprised Bensouda when he made an unexpected appearance at an official meeting the prosecutor was holding with the then DRC president, Joseph Kabila, in a New York hotel suite.</p><figure id="a58ae0d6-472f-418b-8bbf-8912ddab2ef4" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-10"><picture><source srcset="https://i.guim.co.uk/img/media/b59f23bd376fdfa4ad2b64590a8849b11dda3050/0_94_3500_2100/master/3500.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/b59f23bd376fdfa4ad2b64590a8849b11dda3050/0_94_3500_2100/master/3500.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/b59f23bd376fdfa4ad2b64590a8849b11dda3050/0_94_3500_2100/master/3500.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/b59f23bd376fdfa4ad2b64590a8849b11dda3050/0_94_3500_2100/master/3500.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/b59f23bd376fdfa4ad2b64590a8849b11dda3050/0_94_3500_2100/master/3500.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/b59f23bd376fdfa4ad2b64590a8849b11dda3050/0_94_3500_2100/master/3500.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Joseph Kabila speaking to the camera, sitting down at a table behind a bouquet of flowers" src="https://i.guim.co.uk/img/media/b59f23bd376fdfa4ad2b64590a8849b11dda3050/0_94_3500_2100/master/3500.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Joseph Kabila at a news conference in Kinshasa in 2018.</span> Photograph: Kenny-Katombe Butunka/Reuters</figcaption></figure><p>Sources familiar with the meeting said that after Bensouda‚Äôs staff were asked to leave the room, the director of the Mossad suddenly appeared from behind a door in a carefully choreographed ‚Äúambush‚Äù.</p><p>After the incident in New York, Cohen persisted in contacting the prosecutor, turning up unannounced and subjecting her to unwanted calls. While initially amicable, the sources said, Cohen‚Äôs behaviour became increasingly threatening and intimidating.</p><p>A close ally of Netanyahu at the time, Cohen was a veteran Mossad spymaster and had gained a reputation within the service as a skilled recruiter of agents with experience cultivating high-level officials in foreign governments.</p><p>Accounts of his secret meetings with Bensouda paint a picture in which he sought to ‚Äúbuild a relationship‚Äù with the prosecutor as he attempted to dissuade her from pursuing an investigation that, if it went ahead, could embroil senior Israeli officials.</p><p>Three sources briefed on Cohen‚Äôs activities said they understood the spy chief had tried to recruit Bensouda into complying with Israel‚Äôs demands during the period in which she was waiting for a ruling from the pre-trial chamber.</p><p>They said he became more threatening after he began to realise the prosecutor would not be persuaded to abandon the investigation. At one stage, Cohen is said to have made comments about Bensouda‚Äôs security and thinly veiled threats about the consequences for her career if she proceeded. Contacted by the Guardian, Cohen and Kabila did not respond to requests for comment. Bensouda declined to comment.</p><figure id="caa077e6-860e-496e-b73a-62f74292723a" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-11"><picture><source srcset="https://i.guim.co.uk/img/media/e1f0e8510fb52724cf48947b69ee706005a57051/0_258_6014_3608/master/6014.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/e1f0e8510fb52724cf48947b69ee706005a57051/0_258_6014_3608/master/6014.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/e1f0e8510fb52724cf48947b69ee706005a57051/0_258_6014_3608/master/6014.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/e1f0e8510fb52724cf48947b69ee706005a57051/0_258_6014_3608/master/6014.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/e1f0e8510fb52724cf48947b69ee706005a57051/0_258_6014_3608/master/6014.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/e1f0e8510fb52724cf48947b69ee706005a57051/0_258_6014_3608/master/6014.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Yossi Cohen looking at the camera while sitting in an audience" src="https://i.guim.co.uk/img/media/e1f0e8510fb52724cf48947b69ee706005a57051/0_258_6014_3608/master/6014.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="266.97040239441304" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Cohen was seen as trying to ‚Äòbuild a relationship‚Äô with the prosecutor as he attempted to dissuade her from pursuing the investigation.</span> Photograph: Corinna Kern/Reuters</figcaption></figure><p>When she was prosecutor, Bensouda formally disclosed her encounters with Cohen to a small group within the ICC, with the intention of putting on record her belief that she had been ‚Äúpersonally threatened‚Äù, sources familiar with the disclosures said.</p><p>This was not the only way Israel sought to place pressure on the prosecutor. At around the same time, ICC officials discovered details of what sources described as a diplomatic ‚Äúsmear campaign‚Äù, relating in part to a close family member.</p><p>According to multiple sources, the Mossad had obtained a cache of material including transcripts of an apparent sting operation against Bensouda‚Äôs husband. The origins of the material ‚Äì and whether it was genuine ‚Äì remain unclear.</p><p>However, elements of the information were circulated by Israel among western diplomatic officials, sources said, in a failed attempt to discredit the chief prosecutor. A person briefed on the campaign said it gained little traction among diplomats and amounted to a desperate attempt to ‚Äúbesmirch‚Äù Bensouda‚Äôs reputation.</p><h2 id="trumps-campaign-against-the-icc"><strong>Trump‚Äôs campaign against the ICC</strong></h2><p>In March 2020, three months after Bensouda referred the Palestine case to the pre-trial chamber, an Israeli government delegation reportedly held discussions in Washington with senior US officials about ‚Äúa joint Israeli-American struggle‚Äù against the ICC.</p><p>One Israeli intelligence official said they regarded Donald Trump‚Äôs administration as more cooperative than that of his Democratic predecessor. The Israelis felt sufficiently comfortable to ask for information from US intelligence about Bensouda, a request the source said would have been ‚Äúimpossible‚Äù during Barack Obama‚Äôs tenure.</p><figure id="fc68eeea-f1d1-4b13-955e-b25e626dfeab" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-12"><picture><source srcset="https://i.guim.co.uk/img/media/10fac31015b8bc9950846f2b3fe348fcfd22b3bb/0_0_4200_2520/master/4200.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/10fac31015b8bc9950846f2b3fe348fcfd22b3bb/0_0_4200_2520/master/4200.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/10fac31015b8bc9950846f2b3fe348fcfd22b3bb/0_0_4200_2520/master/4200.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/10fac31015b8bc9950846f2b3fe348fcfd22b3bb/0_0_4200_2520/master/4200.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/10fac31015b8bc9950846f2b3fe348fcfd22b3bb/0_0_4200_2520/master/4200.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/10fac31015b8bc9950846f2b3fe348fcfd22b3bb/0_0_4200_2520/master/4200.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Donald Trump and Benjamin Netanyahu walking together past some flowers. Trump is holding his hand up in a fist, and Netanyahu is smiling" src="https://i.guim.co.uk/img/media/10fac31015b8bc9950846f2b3fe348fcfd22b3bb/0_0_4200_2520/master/4200.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Trump and Netanyahu before the <a href="https://www.theguardian.com/world/2020/sep/15/uae-bahrain-and-israel-sign-historic-accords-at-white-house-event-formal-relations-trump-netanyahu">signing of the Abraham accords</a> at the White House in 2020.</span> Photograph: Saul Loeb/AFP/Getty Images</figcaption></figure><p>Days before the meetings in Washington, Bensouda had received authorisation from the ICC‚Äôs judges to pursue a separate investigation into war crimes in Afghanistan committed by the Taliban and both Afghan and US military personnel.</p><p>Fearing US armed forces would be prosecuted, the <a href="https://www.theguardian.com/us-news/trump-administration" data-link-name="in body link" data-component="auto-linked-tag">Trump administration</a> was engaged in its own aggressive campaign against the ICC, culminating in the summer of 2020 with the imposition of US economic sanctions on Bensouda and one of her top officials.</p><p>Among ICC officials, the US-led financial and visa restrictions on court personnel were believed to relate as much to the Palestine investigation as to the Afghanistan case. Two former ICC officials said senior Israeli officials had expressly indicated to them that Israel and the US were working together.</p><p>At a press conference in June that year, senior Trump administration figures signalled their intention to <a href="https://www.theguardian.com/us-news/2020/jun/11/trump-icc-us-war-crimes-investigation-sanctions" data-link-name="in body link">impose sanctions on ICC officials</a>, announcing they had received unspecified information about ‚Äúfinancial corruption and malfeasance at the highest levels of the office of the prosecutor‚Äù.</p><p>As well as referring to the Afghanistan case, Mike Pompeo, Trump‚Äôs secretary of state, linked the US measures to the Palestine case. ‚ÄúIt‚Äôs clear the ICC is only putting Israel in [its] crosshairs for nakedly political purposes,‚Äù he said. Months later, <a href="https://www.theguardian.com/commentisfree/2020/jun/21/the-guardian-view-on-trump-and-icc-an-attack-on-human-rights" data-link-name="in body link">Pompeo accused Bensouda</a> of having ‚Äúengaged in corrupt acts for her personal benefit‚Äù.</p><p>The US has never publicly provided any information to substantiate that charge, and Joe Biden <a href="https://www.theguardian.com/law/2021/apr/02/us-lifts-sanctions-icc-prosecutor-fatou-bensouda-pompeo-blinken" data-link-name="in body link">lifted the sanctions</a> months after he entered the White House.</p><figure id="3978b287-8775-4a20-9b7b-26b598f1e0dc" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-13"><picture><source srcset="https://i.guim.co.uk/img/media/521019e9af03d27d44beafc6d372c1cb3cbfa076/0_134_6405_3845/master/6405.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/521019e9af03d27d44beafc6d372c1cb3cbfa076/0_134_6405_3845/master/6405.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/521019e9af03d27d44beafc6d372c1cb3cbfa076/0_134_6405_3845/master/6405.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/521019e9af03d27d44beafc6d372c1cb3cbfa076/0_134_6405_3845/master/6405.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/521019e9af03d27d44beafc6d372c1cb3cbfa076/0_134_6405_3845/master/6405.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/521019e9af03d27d44beafc6d372c1cb3cbfa076/0_134_6405_3845/master/6405.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Mike Pompeo at a joint news conference on the ICC sanctions in June 2020." src="https://i.guim.co.uk/img/media/521019e9af03d27d44beafc6d372c1cb3cbfa076/0_134_6405_3845/master/6405.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267.1389539422326" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Mike Pompeo at a joint news conference on the ICC sanctions in June 2020.</span> Photograph: Yuri Gripas/AFP/Getty Images</figcaption></figure><p>But at the time Bensouda faced increasing pressure from an apparently concerted effort behind the scenes by the two powerful allies. As a Gambian national, she did not enjoy the political protection that other ICC colleagues from western countries had by virtue of their citizenship. A former ICC source said this left her ‚Äúvulnerable and isolated‚Äù.</p><p>Cohen‚Äôs activities, sources said, were particularly concerning for the prosecutor and led her to fear for her personal safety. When the pre-trial chamber finally <a href="https://www.theguardian.com/law/2021/feb/05/icc-rules-it-can-investigate-war-crimes-in-palestine-despite-israeli-objections" data-link-name="in body link">confirmed the ICC had jurisdiction in Palestine</a> in February 2021, some at the ICC even believed Bensouda should leave the final decision to open a full investigation to her successor.</p><p>On 3 March, however, months before the end of her nine-year term, Bensouda <a href="https://www.theguardian.com/law/2021/mar/03/icc-open-formal-investigation-war-crimes-palestine" data-link-name="in body link">announced a full investigation</a> in the Palestine case, setting in motion a process that could lead to criminal charges, though she cautioned the next phase could take time.</p><p>‚ÄúAny investigation undertaken by the office will be conducted independently, impartially and objectively, without fear or favour,‚Äù she said. ‚ÄúTo both Palestinian and Israeli victims and affected communities, we urge patience.‚Äù</p><gu-island name="InteractiveBlockComponent" priority="critical" deferuntil="idle" props="{&quot;url&quot;:&quot;https://interactive.guim.co.uk/embed/from-tool/generic/index.html?vertical=News&amp;opinion-tint=false&amp;title=Get%20in%20touch&amp;description=Do%20you%20have%20information%20about%20this%20story%3F%20Email%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22mailto%3Aharry.davies%40theguardian.com%22%3Eharry.davies%40theguardian.com%3C%2Fa%3E%2C%20or%20(using%20a%20non-work%20phone)%20use%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fsignal.me%2F%23p%2F%2B447721857348%22%3ESignal%3C%2Fa%3E%20or%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fapi.whatsapp.com%2Fsend%3Fphone%3D447721857348%22%3EWhatsApp%3C%2Fa%3E%20to%20message%20%2B44%207721%20857348.%20For%20the%20most%20secure%20communications%2C%20use%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fwww.theguardian.com%2Fsecuredrop%22%3ESecureDrop%3C%2Fa%3E%20or%20see%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fwww.theguardian.com%2Fhelp%2Fng-interactive%2F2017%2Fmar%2F17%2Fcontact-the-guardian-securely%22%3Eour%20guide%3C%2Fa%3E.&amp;link=false&quot;,&quot;scriptUrl&quot;:&quot;https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js&quot;,&quot;alt&quot;:&quot;Do you have information about this story? Email harry.davies@theguardian.com, or (using a non-work phone) use Signal or WhatsApp to message +44 7721 857348. For the most secure communications, use SecureDrop or see our guide.&quot;,&quot;format&quot;:{&quot;display&quot;:2,&quot;theme&quot;:0,&quot;design&quot;:10},&quot;elementId&quot;:&quot;a8fbb212-7240-40f3-8b22-ef88e08eacaf&quot;,&quot;isMainMedia&quot;:false}" config="{&quot;renderingTarget&quot;:&quot;Web&quot;,&quot;darkModeAvailable&quot;:false,&quot;inAdvertisingPartnerABTest&quot;:false,&quot;assetOrigin&quot;:&quot;https://assets.guim.co.uk/&quot;}"><figure id="a8fbb212-7240-40f3-8b22-ef88e08eacaf" data-alt="Do you have information about this story? Email harry.davies@theguardian.com, or (using a non-work phone) use Signal or WhatsApp to message +44 7721 857348. For the most secure communications, use SecureDrop or see our guide." data-testid="interactive-element-Do%20you%20have%20information%20about%20this%20story?%20Email%20harry.davies@theguardian.com,%20or%20(using%20a%20non-work%20phone)%20use%20Signal%20or%20WhatsApp%20to%20message%20+44%207721%20857348.%20For%20the%20most%20secure%20communications,%20use%20SecureDrop%20or%20see%20our%20guide." data-spacefinder-role="inline"><a data-name="placeholder" href="https://interactive.guim.co.uk/embed/from-tool/generic/index.html?vertical=News&amp;opinion-tint=false&amp;title=Get%20in%20touch&amp;description=Do%20you%20have%20information%20about%20this%20story%3F%20Email%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22mailto%3Aharry.davies%40theguardian.com%22%3Eharry.davies%40theguardian.com%3C%2Fa%3E%2C%20or%20(using%20a%20non-work%20phone)%20use%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fsignal.me%2F%23p%2F%2B447721857348%22%3ESignal%3C%2Fa%3E%20or%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fapi.whatsapp.com%2Fsend%3Fphone%3D447721857348%22%3EWhatsApp%3C%2Fa%3E%20to%20message%20%2B44%207721%20857348.%20For%20the%20most%20secure%20communications%2C%20use%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fwww.theguardian.com%2Fsecuredrop%22%3ESecureDrop%3C%2Fa%3E%20or%20see%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fwww.theguardian.com%2Fhelp%2Fng-interactive%2F2017%2Fmar%2F17%2Fcontact-the-guardian-securely%22%3Eour%20guide%3C%2Fa%3E.&amp;link=false">Do you have information about this story? Email harry.davies@theguardian.com, or (using a non-work phone) use Signal or WhatsApp to message +44 7721 857348. For the most secure communications, use SecureDrop or see our guide.</a></figure></gu-island><h2 id="khan-announces-arrest-warrants"><strong>Khan announces arrest warrants</strong></h2><p>When Khan took the helm at the ICC prosecutor‚Äôs office in June 2021, he inherited an investigation he later said ‚Äúlies on the San Andreas fault of international politics and strategic interests‚Äù.</p><p>As he took office, other investigations ‚Äì including on events in the Philippines, DRC, Afghanistan and Bangladesh ‚Äì competed for his attention, and in March 2022, days after Russia launched its invasion of Ukraine, he <a href="https://www.theguardian.com/world/2022/mar/03/icc-launches-war-crimes-investigation-russia-invasion-ukraine" data-link-name="in body link">opened a high-profile investigation</a> into alleged Russian war crimes.</p><p>Initially, the politically sensitive Palestine inquiry was not treated as a priority by the British prosecutor‚Äôs team, sources familiar with the case said. One said it was in effect ‚Äúon the shelf‚Äù ‚Äì but Khan‚Äôs office disputes this and says it established a dedicated investigative team to take the inquiry forward.</p><p>In Israel, the government‚Äôs top lawyers regarded Khan ‚Äì who had previously defended warlords such as the <a href="https://www.theguardian.com/global/audio/2009/jul/15/charles-taylor-war-crimes-liberia-hague-icc" data-link-name="in body link">former Liberian president Charles Taylor</a> ‚Äì as a more cautious prosecutor than Bensouda. One former senior Israeli official said there was ‚Äúlots of respect‚Äù for Khan, unlike for his predecessor. His appointment to the court was viewed as a ‚Äúreason for optimism‚Äù, they said, but they added that the <a href="https://www.theguardian.com/commentisfree/2023/nov/10/law-israel-hamas-international-criminal-court-icc" data-link-name="in body link">7 October attack ‚Äúchanged that reality‚Äù</a>.</p><p>The <a href="https://www.theguardian.com/world/2023/oct/13/israel-darkest-day-24-hours-of-terror-hamas-gaza" data-link-name="in body link">Hamas assault on southern Israel</a>, in which Palestinian militants killed nearly 1,200 Israelis and kidnapped about 250 people, clearly involved brazen war crimes. So, too, in the view of many legal experts, has Israel‚Äôs <a href="https://www.theguardian.com/commentisfree/article/2024/may/25/call-to-prosecute-netanyahu-for-war-crimes-exposes-the-wests-moral-doublethink" data-link-name="in body link">subsequent onslaught on Gaza</a>, which is estimated to have <a href="https://www.theguardian.com/world/article/2024/may/12/fierce-battles-in-gaza-as-israeli-forces-attack-hamas-militants" data-link-name="in body link">killed more than 35,000 people</a> and brought the territory to the brink of famine through Israel‚Äôs <a href="https://www.theguardian.com/world/article/2024/may/21/israeli-soldiers-and-police-tipping-off-groups-that-attack-gaza-aid-trucks" data-link-name="in body link">obstruction of humanitarian aid</a>.</p><p>By the end of the third week of Israel‚Äôs bombardment of Gaza, Khan was on the ground at the Rafah border crossing. He subsequently made visits to the West Bank and southern Israel, where he was invited to meet survivors of the 7 October attack and the relatives of people who had been killed.</p><p>In February 2024, Khan issued a strongly worded statement that Netanyahu‚Äôs legal advisers interpreted as an ominous sign. In the post on X, he in effect warned Israel against launching an assault on Rafah, Gaza‚Äôs southernmost city, where more than 1 million displaced people were sheltering at the time.</p><p>‚ÄúI am deeply concerned by the reported bombardment and potential ground incursion by Israeli forces in Rafah,‚Äù he wrote. ‚ÄúThose who do not comply with the law should not complain later when my office takes action.‚Äù</p><figure id="36c24e20-8592-4e44-85f9-a7273b1a9c4e" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-14"><picture><source srcset="https://i.guim.co.uk/img/media/35342755a297f784784f3bda3a96e123a5e8f67f/0_508_7619_4574/master/7619.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/35342755a297f784784f3bda3a96e123a5e8f67f/0_508_7619_4574/master/7619.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/35342755a297f784784f3bda3a96e123a5e8f67f/0_508_7619_4574/master/7619.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/35342755a297f784784f3bda3a96e123a5e8f67f/0_508_7619_4574/master/7619.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/35342755a297f784784f3bda3a96e123a5e8f67f/0_508_7619_4574/master/7619.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/35342755a297f784784f3bda3a96e123a5e8f67f/0_508_7619_4574/master/7619.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Children standing amid the rubble of a building" src="https://i.guim.co.uk/img/media/35342755a297f784784f3bda3a96e123a5e8f67f/0_508_7619_4574/master/7619.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267.1518571991075" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Children standing amid the rubble of a building in Rafah that was destroyed by Israeli airstrikes in February.</span> Photograph: Mohammed Abed/AFP/Getty Images</figcaption></figure><p>The comments stirred alarm within the Israeli government as they appeared to deviate from his previous statements about the war, which officials had viewed as reassuringly cautious. ‚ÄúThat tweet surprised us a lot,‚Äù a senior official said.</p><p>Concerns in Israel over Khan‚Äôs intentions escalated last month when the government briefed the media that it believed the prosecutor <a href="https://www.reuters.com/world/middle-east/israel-concerned-over-possible-icc-arrest-warrants-related-gaza-war-2024-04-29/" data-link-name="in body link">was contemplating arrest warrants</a> against Netanyahu and other senior officials such as Yoav Gallant.</p><p>Israeli intelligence had intercepted emails, attachments and text messages from Khan and other officials in his office. ‚ÄúThe subject of the ICC climbed the ladder of priorities for Israeli intelligence,‚Äù one intelligence source said.</p><p>It was via intercepted communications that Israel established that Khan was at one stage considering entering Gaza through Egypt and wanted urgent assistance doing so ‚Äúwithout Israel‚Äôs permission‚Äù.</p><p>Another Israeli intelligence assessment, circulated widely in the intelligence community, drew on surveillance of a call between two Palestinian politicians. One of them said Khan had indicated that a request for arrest warrants of Israeli leaders could be imminent, but warned he was ‚Äúunder tremendous pressure from the United States‚Äù.</p><p>It was against this backdrop that Netanyahu made a series of public statements warning a request for arrest warrants could be imminent. He called on ‚Äúthe leaders of the free world to stand firmly against the ICC‚Äù and ‚Äúuse all the means at their disposal to stop this dangerous move‚Äù.</p><p>He added: ‚ÄúBranding Israel‚Äôs leaders and soldiers as war criminals will pour jet fuel on the fires of antisemitism.‚Äù In Washington, a group of senior US Republican senators had already sent a threatening letter to Khan with a clear warning: ‚ÄúTarget Israel and we will target you.‚Äù</p><figure id="56ce6d53-b267-4485-957a-109d2d1aeaee" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-15"><picture><source srcset="https://i.guim.co.uk/img/media/720051ab5cede1f33c51a216b662b770fbf56577/0_212_5500_3300/master/5500.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/720051ab5cede1f33c51a216b662b770fbf56577/0_212_5500_3300/master/5500.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/720051ab5cede1f33c51a216b662b770fbf56577/0_212_5500_3300/master/5500.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/720051ab5cede1f33c51a216b662b770fbf56577/0_212_5500_3300/master/5500.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/720051ab5cede1f33c51a216b662b770fbf56577/0_212_5500_3300/master/5500.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/720051ab5cede1f33c51a216b662b770fbf56577/0_212_5500_3300/master/5500.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Netanyahu (left) and Gallant sitting side by side at a table with microphones, with Israeli flags in the background" src="https://i.guim.co.uk/img/media/720051ab5cede1f33c51a216b662b770fbf56577/0_212_5500_3300/master/5500.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Netanyahu (left) and Yoav Gallant during a press conference in Tel Aviv in October.</span> Photograph: Reuters</figcaption></figure><p>The ICC, meanwhile, has strengthened its security with regular sweeps of the prosecutor‚Äôs offices, security checks on devices, phone-free areas, weekly threat assessments and the introduction of specialist equipment. An ICC spokesperson said Khan‚Äôs office had been subjected to ‚Äúseveral forms of threats and communications that could be viewed as attempts to unduly influence its activities‚Äù.</p><p>Khan recently disclosed in <a href="https://edition.cnn.com/2024/05/20/middleeast/icc-israel-hamas-arrest-warrant-war-crimes-intl/index.html" data-link-name="in body link">an interview with CNN</a> that some elected leaders had been ‚Äúvery blunt‚Äù with him as he prepared to issue arrest warrants. ‚Äú‚ÄòThis court is built for Africa and for thugs like Putin,‚Äô is was what a senior leader told me.‚Äù</p><p>Despite the pressure, Khan, like his predecessor in the prosecutor‚Äôs office, chose to press ahead. Last week, Khan announced he was seeking arrest warrants for Netanyahu and Gallant alongside three Hamas leaders for war crimes and crimes against humanity.</p><p>He said Israel‚Äôs prime minister and defence minister stood accused of responsibility for extermination, starvation, the denial of humanitarian relief supplies and deliberate targeting of civilians.</p><p>Standing at a lectern with two of his top prosecutors ‚Äì one American, the other British ‚Äì at his side, Khan said he had repeatedly told Israel to take urgent action to comply with humanitarian law.</p><p>‚ÄúI specifically underlined that starvation as a method of war and the denial of humanitarian relief constitute Rome statute offences. I could not have been clearer,‚Äù he said. ‚ÄúAs I also repeatedly underlined in my public statements, those who do not comply with the law should not complain later when my office takes action. That day has come.‚Äù</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[NSA Ghidra open-source reverse engineering framework (113 pts)]]></title>
            <link>https://ghidra-sre.org/</link>
            <guid>40508777</guid>
            <pubDate>Wed, 29 May 2024 05:28:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ghidra-sre.org/">https://ghidra-sre.org/</a>, See on <a href="https://news.ycombinator.com/item?id=40508777">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          
          <div>
            <h2>Getting Help</h2>
            <p>Ghidra provides context-sensitive help on menu items, dialogs, buttons and tool windows.  To access the help, press <kbd>F1</kbd> or <kbd>Help</kbd> on any menu item or dialog. </p>
            <p><a href="https://github.com/NationalSecurityAgency/ghidra/wiki" role="button">Visit our Wiki</a></p>
            <p><a href="https://github.com/NationalSecurityAgency/ghidra/issues" role="button">Issue Tracker</a></p>
          </div>
          <div>
            <h2>Join the Community</h2>
            <p>Ghidra is one of many open source software (OSS) projects developed within the <a href="https://code.nsa.gov/">National Security Agency</a>. Complete source code for Ghidra along with build instructions have been added to the repository.  Please read the updated CONTRIBUTING guide to find out more about how you can join the community.</p>
            <p><a href="https://github.com/NationalSecurityAgency/ghidra" role="button">GitHub Repository</a></p>
          </div>
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ex-OpenAI board member provides her first detailed account of CEO ouster (108 pts)]]></title>
            <link>https://www.reuters.com/technology/ex-openai-board-member-provides-her-first-detailed-account-ceo-ouster-2024-05-29/</link>
            <guid>40508719</guid>
            <pubDate>Wed, 29 May 2024 05:17:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.reuters.com/technology/ex-openai-board-member-provides-her-first-detailed-account-ceo-ouster-2024-05-29/">https://www.reuters.com/technology/ex-openai-board-member-provides-her-first-detailed-account-ceo-ouster-2024-05-29/</a>, See on <a href="https://news.ycombinator.com/item?id=40508719">Hacker News</a></p>
Couldn't get https://www.reuters.com/technology/ex-openai-board-member-provides-her-first-detailed-account-ceo-ouster-2024-05-29/: Error: Request failed with status code 401]]></description>
        </item>
        <item>
            <title><![CDATA[What We Learned from a Year of Building with LLMs (256 pts)]]></title>
            <link>https://www.oreilly.com/radar/what-we-learned-from-a-year-of-building-with-llms-part-i/</link>
            <guid>40508390</guid>
            <pubDate>Wed, 29 May 2024 04:14:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.oreilly.com/radar/what-we-learned-from-a-year-of-building-with-llms-part-i/">https://www.oreilly.com/radar/what-we-learned-from-a-year-of-building-with-llms-part-i/</a>, See on <a href="https://news.ycombinator.com/item?id=40508390">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

              
              
              
              
              
              




<div itemscope="" itemtype="http://schema.org/Product" id="trial-cta">
  <p><a href="https://www.oreilly.com/online-learning/">
      <img itemprop="image" src="https://d3ansictanv2wj.cloudfront.net/safari-topic-cta-1f60e6f96856da19ba3cb25660472ca5.jpg">
    </a>
  </p>
  <p>
    <h2>
      Learn faster. Dig deeper. See farther.
    </h2>
  </p>
   
</div>



<p>It‚Äôs an exciting time to build with large language models (LLMs). Over the past year, LLMs have become ‚Äúgood enough‚Äù for real-world applications. The pace of improvements in LLMs, coupled with a parade of demos on social media, will fuel an estimated $200B investment in AI by 2025. LLMs are also broadly accessible, allowing everyone, not just ML engineers and scientists, to build intelligence into their products. While the barrier to entry for building AI products has been lowered, creating those effective beyond a demo remains a deceptively difficult endeavor.</p>



<p>We‚Äôve identified some crucial, yet often neglected, lessons and methodologies informed by machine learning that are essential for developing products based on LLMs. Awareness of these concepts can give you a competitive advantage against most others in the field without requiring ML expertise! Over the past year, the six of us have been building real-world applications on top of LLMs. We realized that there was a need to distill these lessons in one place for the benefit of the community.</p>



<p>We come from a variety of backgrounds and serve in different roles, but we‚Äôve all experienced firsthand the challenges that come with using this new technology. Two of us are independent consultants who‚Äôve helped numerous clients take LLM projects from initial concept to successful product, seeing the patterns determining success or failure. One of us is a researcher studying how ML/AI teams work and how to improve their workflows. Two of us are leaders on applied AI teams: one at a tech giant and one at a startup. Finally, one of us has taught deep learning to thousands and now works on making AI tooling and infrastructure easier to use. Despite our different experiences, we were struck by the consistent themes in the lessons we‚Äôve learned, and we‚Äôre surprised that these insights aren‚Äôt more widely discussed.</p>



<p>Our goal is to make this a practical guide to building successful products around LLMs, drawing from our own experiences and pointing to examples from around the industry. We‚Äôve spent the past year getting our hands dirty and gaining valuable lessons, often the hard way. While we don‚Äôt claim to speak for the entire industry, here we share some advice and lessons for anyone building products with LLMs.</p>



<p>This work is organized into three sections: tactical, operational, and strategic. This is the first of three pieces. It dives into the tactical nuts and bolts of working with LLMs. We share best practices and common pitfalls around prompting, setting up retrieval-augmented generation, applying flow engineering, and evaluation and monitoring. Whether you‚Äôre a practitioner building with LLMs or a hacker working on weekend projects, this section was written for you. Look out for the operational and strategic sections in the coming weeks.</p>



<p>Ready to <s>dive</s> delve in? Let‚Äôs go.</p>



<h2><strong>Tactical</strong></h2>



<p>In this section, we share best practices for the core components of the emerging LLM stack: prompting tips to improve quality and reliability, evaluation strategies to assess output, retrieval-augmented generation ideas to improve grounding, and more. We also explore how to design human-in-the-loop workflows. While the technology is still rapidly developing, we hope these lessons, the by-product of countless experiments we‚Äôve collectively run, will stand the test of time and help you build and ship robust LLM applications.</p>



<h3><strong>Prompting</strong></h3>



<p>We recommend starting with prompting when developing new applications. It‚Äôs easy to both underestimate <em>and</em> overestimate its importance. It‚Äôs underestimated because the right prompting techniques, when used correctly, can get us very far. It‚Äôs overestimated because even prompt-based applications require significant engineering around the prompt to work well.</p>



<h4><strong>Focus on getting the most out of fundamental prompting techniques</strong></h4>



<p>A few prompting techniques have consistently helped improve performance across various models and tasks: n-shot prompts + in-context learning, chain-of-thought, and providing relevant resources.</p>



<p>The idea of in-context learning via n-shot prompts is to provide the LLM with a few examples that demonstrate the task and align outputs to our expectations. A few tips: </p>



<ul><li>If n is too low, the model may over-anchor on those specific examples, hurting its ability to generalize. As a rule of thumb, aim for n ‚â• 5. Don‚Äôt be afraid to go as high as a few dozen.</li><li>Examples should be representative of the expected input distribution. If you‚Äôre building a movie summarizer, include samples from different genres in roughly the proportion you expect to see in practice.</li><li>You don‚Äôt necessarily need to provide the full input-output pairs. In many cases, examples of desired outputs are sufficient.</li><li>If you are using an LLM that supports tool use, your n-shot examples should also use the tools you want the agent to use.</li></ul>



<p>In chain-of-thought (CoT) prompting, we encourage the LLM to explain its thought process before returning the final answer. Think of it as providing the LLM with a sketchpad so it doesn‚Äôt have to do it all in memory. The original approach was to simply add the phrase ‚ÄúLet‚Äôs think step-by-step‚Äù as part of the instructions. However, we‚Äôve found it helpful to make the CoT more specific, where adding specificity via an extra sentence or two often reduces hallucination rates significantly. For example, when asking an LLM to summarize a meeting transcript, we can be explicit about the steps, such as:</p>



<ul><li>First, list the key decisions, follow-up items, and associated owners in a sketchpad.</li><li>Then, check that the details in the sketchpad are factually consistent with the transcript.</li><li>Finally, synthesize the key points into a concise summary.</li></ul>



<p>Recently, <a href="https://arxiv.org/abs/2405.04776" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">some doubt</a> has been cast on whether this technique is as powerful as believed. Additionally, there‚Äôs significant debate about exactly what happens during inference when chain-of-thought is used. Regardless, this technique is one to experiment with when possible.</p>



<p>Providing relevant resources is a powerful mechanism to expand the model‚Äôs knowledge base, reduce hallucinations, and increase the user‚Äôs trust. Often accomplished via retrieval augmented generation (RAG), providing the model with snippets of text that it can directly utilize in its response is an essential technique. When providing the relevant resources, it‚Äôs not enough to merely include them; don‚Äôt forget to tell the model to prioritize their use, refer to them directly, and sometimes to mention when none of the resources are sufficient. These help ‚Äúground‚Äù agent responses to a corpus of resources. </p>



<h4><strong>Structure your inputs and outputs</strong></h4>



<p>Structured input and output help models better understand the input as well as return output that can reliably integrate with downstream systems. Adding serialization formatting to your inputs can help provide more clues to the model as to the relationships between tokens in the context, additional metadata to specific tokens (like types), or relate the request to similar examples in the model‚Äôs training data. </p>



<p>As an example, many questions on the internet about writing SQL begin by specifying the SQL schema. Thus, you may expect that effective prompting for Text-to-SQL should include structured schema definitions; <a href="https://www.researchgate.net/publication/371223615_SQL-PaLM_Improved_Large_Language_ModelAdaptation_for_Text-to-SQL" target="_blank" rel="noreferrer noopener" aria-label="indeed (opens in a new tab)">indeed</a>.</p>



<p>Structured output serves a similar purpose, but it also simplifies integration into downstream components of your system. <a rel="noreferrer noopener" aria-label="Instructor (opens in a new tab)" href="https://github.com/jxnl/instructor" target="_blank">Instructor</a> and <a href="https://github.com/outlines-dev/outlines" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">Outlines</a> work well for structured output. (If you‚Äôre importing an LLM API SDK, use Instructor; if you‚Äôre importing Huggingface for a self-hosted model, use Outlines.) Structured input expresses tasks clearly and resembles how the training data is formatted, increasing the probability of better output.</p>



<p>When using structured input, be aware that each LLM family has their own preferences. Claude prefers <code>xml</code> while GPT favors Markdown and JSON. With XML, you can even pre-fill Claude‚Äôs responses by providing a <code>response</code> tag like so.</p>



<pre>                                                     <code>&lt;/&gt; python
messages=[     
    {         
        "role": "user",         
        "content": """Extract the &lt;name&gt;, &lt;size&gt;, &lt;price&gt;, and &lt;color&gt; </code>
                   <code>from this product description into your &lt;response&gt;.   
                &lt;description&gt;The SmartHome Mini </code>
                   <code>is a compact smart home assistant </code>
                   <code>available in black or white for only $49.99. </code>
                   <code>At just 5 inches wide, it lets you control   </code>
                   <code>lights, thermostats, and other connected </code>
                   <code>devices via voice or app‚Äîno matter where you</code>
<code>                   place it in your home. This affordable little hub</code>
                  <code> brings convenient hands-free control to your</code>
                  <code> smart devices.             
                &lt;/description&gt;"""     
   },     
   {         
        "role": "assistant",         
        "content": "&lt;response&gt;&lt;name&gt;"     
   } 
]</code></pre>



<h4><strong>Have small prompts that do one thing, and only one thing, well</strong></h4>



<p>A common anti-pattern/code smell in software is the ‚Äú<a rel="noreferrer noopener" aria-label="God Object (opens in a new tab)" href="https://en.wikipedia.org/wiki/God_object" target="_blank">God Object</a>,‚Äù where we have a single class or function that does everything. The same applies to prompts too.</p>



<p>A prompt typically starts simple: A few sentences of instruction, a couple of examples, and we‚Äôre good to go. But as we try to improve performance and handle more edge cases, complexity creeps in. More instructions. Multi-step reasoning. Dozens of examples. Before we know it, our initially simple prompt is now a 2,000 token frankenstein. And to add injury to insult, it has worse performance on the more common and straightforward inputs! GoDaddy shared this challenge as their <a href="https://www.godaddy.com/resources/news/llm-from-the-trenches-10-lessons-learned-operationalizing-models-at-godaddy#h-1-sometimes-one-prompt-isn-t-enough" target="_blank" rel="noreferrer noopener" aria-label="No. 1 lesson from building with LLMs (opens in a new tab)">No. 1 lesson from building with LLMs</a>.</p>



<p>Just like how we strive (read: struggle) to keep our systems and code simple, so should we for our prompts. Instead of having a single, catch-all prompt for the meeting transcript summarizer, we can break it into steps to:</p>



<ul><li>Extract key decisions, action items, and owners into structured format</li><li>Check extracted details against the original transcription for consistency</li><li>Generate a concise summary from the structured details</li></ul>



<p>As a result, we‚Äôve split our single prompt into multiple prompts that are each simple, focused, and easy to understand. And by breaking them up, we can now iterate and eval each prompt individually.</p>



<h4><strong>Craft your context tokens</strong></h4>



<p>Rethink, and challenge your assumptions about how much context you actually need to send to the agent. Be like Michaelangelo, do not build up your context sculpture‚Äîchisel away the superfluous material until the sculpture is revealed. RAG is a popular way to collate all of the potentially relevant blocks of marble, but what are you doing to extract what‚Äôs necessary?</p>



<p>We‚Äôve found that taking the final prompt sent to the model‚Äîwith all of the context construction, and meta-prompting, and RAG results‚Äîputting it on a blank page and just reading it, really helps you rethink your context. We have found redundancy, self-contradictory language, and poor formatting using this method. </p>



<p>The other key optimization is the structure of your context. Your bag-of-docs representation isn‚Äôt helpful for humans, don‚Äôt assume it‚Äôs any good for agents. Think carefully about how you structure your context to underscore the relationships between parts of it, and make extraction as simple as possible.</p>



<h3><strong>Information Retrieval/RAG</strong></h3>



<p>Beyond prompting, another effective way to steer an LLM is by providing knowledge as part of the prompt. This grounds the LLM on the provided context which is then used for in-context learning. This is known as retrieval-augmented generation (RAG). Practitioners have found RAG effective at providing knowledge and improving output, while requiring far less effort and cost compared to finetuning.RAG is only as good as the retrieved documents‚Äô relevance, density, and detail</p>



<h4><strong>The quality of your RAG‚Äôs output is dependent on the quality of retrieved documents, which in turn can be considered along a few factors.</strong></h4>



<p>The first and most obvious metric is relevance. This is typically quantified via ranking metrics such as <a rel="noreferrer noopener" aria-label="Mean Reciprocal Rank (MRR) (opens in a new tab)" href="https://en.wikipedia.org/wiki/Mean_reciprocal_rank" target="_blank">Mean Reciprocal Rank (MRR)</a> or <a href="https://en.wikipedia.org/wiki/Discounted_cumulative_gain" target="_blank" rel="noreferrer noopener" aria-label="Normalized Discounted Cumulative Gain (NDCG) (opens in a new tab)">Normalized Discounted Cumulative Gain (NDCG)</a>. MRR evaluates how well a system places the first relevant result in a ranked list while NDCG considers the relevance of all the results and their positions. They measure how good the system is at ranking relevant documents higher and irrelevant documents lower. For example, if we‚Äôre retrieving user summaries to generate movie review summaries, we‚Äôll want to rank reviews for the specific movie higher while excluding reviews for other movies.</p>



<p>Like traditional recommendation systems, the rank of retrieved items will have a significant impact on how the LLM performs on downstream tasks. To measure the impact, run a RAG-based task but with the retrieved items shuffled‚Äîhow does the RAG output perform?</p>



<p>Second, we also want to consider information density. If two documents are equally relevant, we should prefer one that‚Äôs more concise and has lesser extraneous details. Returning to our movie example, we might consider the movie transcript and all user reviews to be relevant in a broad sense. Nonetheless, the top-rated reviews and editorial reviews will likely be more dense in information.</p>



<p>Finally, consider the level of detail provided in the document. Imagine we‚Äôre building a RAG system to generate SQL queries from natural language. We could simply provide table schemas with column names as context. But, what if we include column descriptions and some representative values? The additional detail could help the LLM better understand the semantics of the table and thus generate more correct SQL.</p>



<h4><strong>Don‚Äôt forget keyword search; use it as a baseline and in hybrid search.</strong></h4>



<p>Given how prevalent the embedding-based RAG demo is, it‚Äôs easy to forget or overlook the decades of research and solutions in information retrieval.</p>



<p>Nonetheless, while embeddings are undoubtedly a powerful tool, they are not the be all and end all. First, while they excel at capturing high-level semantic similarity, they may struggle with more specific, keyword-based queries, like when users search for names (e.g., Ilya), acronyms (e.g., RAG), or IDs (e.g., claude-3-sonnet). Keyword-based search, such as BM25, are explicitly designed for this. And after years of keyword-based search, users have likely taken it for granted and may get frustrated if the document they expect to retrieve isn‚Äôt being returned. </p>



<blockquote><p>Vector embeddings <em>do not</em> magically solve search. In fact, the heavy lifting is in the step before you re-rank with semantic similarity search. Making a genuine improvement over BM25 or full-text search is hard. </p><cite>‚Äî <a href="https://x.com/AravSrinivas/status/1737886080555446552" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">Aravind Srinivas, CEO Perplexity.ai</a></cite></blockquote>



<blockquote><p>We‚Äôve been communicating this to our customers and partners for months now. Nearest Neighbor Search with naive embeddings yields very noisy results and you‚Äôre likely better off starting with a keyword-based approach.</p><cite>‚Äî <a href="https://twitter.com/beyang/status/1767330006999720318" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">Beyang Liu, CTO Sourcegraph</a></cite></blockquote>



<p>Second, it‚Äôs more straightforward to understand why a document was retrieved with keyword search‚Äîwe can look at the keywords that match the query. In contrast, embedding-based retrieval is less interpretable. Finally, thanks to systems like Lucene and OpenSearch that have been optimized and battle-tested over decades, keyword search is usually more computationally efficient.</p>



<p>In most cases, a hybrid will work best: keyword matching for the obvious matches, and embeddings for synonyms, hypernyms, and spelling errors, as well as multimodality (e.g., images and text). <a href="https://www.shortwave.com/blog/deep-dive-into-worlds-smartest-email-ai/" target="_blank" rel="noreferrer noopener" aria-label="Shortwave shared how they built their RAG pipeline (opens in a new tab)">Shortwave shared how they built their RAG pipeline</a>, including query rewriting, keyword + embedding retrieval, and ranking.</p>



<h4><strong>Prefer RAG over fine-tuning for new knowledge</strong></h4>



<p>Both RAG and fine-tuning can be used to incorporate new information into LLMs and increase performance on specific tasks. Thus, which should we try first?</p>



<p>Recent research suggests that RAG may have an edge. <a rel="noreferrer noopener" aria-label="One study (opens in a new tab)" href="https://arxiv.org/abs/2312.05934" target="_blank">One study</a> compared RAG against unsupervised fine-tuning (a.k.a. continued pre-training), evaluating both on a subset of MMLU and current events. They found that RAG consistently outperformed fine-tuning for knowledge encountered during training as well as entirely new knowledge. In <a rel="noreferrer noopener" aria-label="another paper (opens in a new tab)" href="https://arxiv.org/abs/2401.08406" target="_blank">another paper</a>, they compared RAG against supervised fine-tuning on an agricultural dataset. Similarly, the performance boost from RAG was greater than fine-tuning, especially for GPT-4 (see Table 20 of the paper).</p>



<p>Beyond improved performance, RAG comes with several practical advantages too. First, compared to continuous pretraining or fine-tuning, it‚Äôs easier‚Äîand cheaper!‚Äîto keep retrieval indices up-to-date. Second, if our retrieval indices have problematic documents that contain toxic or biased content, we can easily drop or modify the offending documents.</p>



<p>In addition, the R in RAG provides finer grained control over how we retrieve documents. For example, if we‚Äôre hosting a RAG system for multiple organizations, by partitioning the retrieval indices, we can ensure that each organization can only retrieve documents from their own index. This ensures that we don‚Äôt inadvertently expose information from one organization to another.</p>



<h4><strong>Long-context models won‚Äôt make RAG obsolete</strong></h4>



<p>With Gemini 1.5 providing context windows of up to 10M tokens in size, some have begun to question the future of RAG. </p>



<blockquote><p>I tend to believe that Gemini 1.5 is significantly overhyped by Sora. A context window of 10M tokens effectively makes most of existing RAG frameworks unnecessary‚Äîyou simply put whatever your data into the context and talk to the model like usual. Imagine how it does to all the startups/agents/LangChain projects where most of the engineering efforts goes to RAG üòÖ Or in one sentence: the 10m context kills RAG. Nice work Gemini.</p><cite>‚Äî <a href="https://x.com/Francis_YAO_/status/1758935954189115714" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">Yao Fu</a></cite></blockquote>



<p>While it‚Äôs true that long contexts will be a game-changer for use cases such as analyzing multiple documents or chatting with PDFs, the rumors of RAG‚Äôs demise are greatly exaggerated.</p>



<p>First, even with a context window of 10M tokens, we‚Äôd still need a way to select information to feed into the model. Second, beyond the narrow needle-in-a-haystack eval, we‚Äôve yet to see convincing data that models can effectively reason over such a large context. Thus, without good retrieval (and ranking), we risk overwhelming the model with distractors, or may even fill the context window with completely irrelevant information.</p>



<p>Finally, there‚Äôs cost. The Transformer‚Äôs inference cost scales quadratically (or linearly in both space and time) with context length. Just because there exists a model that could read your organization‚Äôs entire Google Drive contents before answering each question doesn‚Äôt mean that‚Äôs a good idea. Consider an analogy to how we use RAM: we still read and write from disk, even though there exist compute instances with <a href="https://aws.amazon.com/ec2/instance-types/high-memory/" target="_blank" rel="noreferrer noopener" aria-label="RAM running into the tens of terabytes (opens in a new tab)">RAM running into the tens of terabytes</a>.</p>



<p>So don‚Äôt throw your RAGs in the trash just yet. This pattern will remain useful even as context windows grow in size.</p>



<h3><strong>Tuning and optimizing workflows</strong></h3>



<p>Prompting an LLM is just the beginning. To get the most juice out of them, we need to think beyond a single prompt and embrace workflows. For example, how could we split a single complex task into multiple simpler tasks? When is finetuning or caching helpful with increasing performance and reducing latency/cost? In this section, we share proven strategies and real-world examples to help you optimize and build reliable LLM workflows.</p>



<h4><strong>Step-by-step, multi-turn ‚Äúflows‚Äù can give large boosts.</strong></h4>



<p>We already know that by decomposing a single big prompt into multiple smaller prompts, we can achieve better results. An example of this is <a href="https://arxiv.org/abs/2401.08500" target="_blank" rel="noreferrer noopener" aria-label="AlphaCodium (opens in a new tab)">AlphaCodium</a>: By switching from a single prompt to a multi-step workflow, they increased GPT-4 accuracy (pass@5) on CodeContests from 19% to 44%. The workflow includes:</p>



<ul><li>Reflecting on the problem</li><li>Reasoning on the public tests</li><li>Generating possible solutions</li><li>Ranking possible solutions</li><li>Generating synthetic tests</li><li>Iterating on the solutions on public and synthetic tests.</li></ul>



<p>Small tasks with clear objectives make for the best agent or flow prompts. It‚Äôs not required that every agent prompt requests structured output, but structured outputs help a lot to interface with whatever system is orchestrating the agent‚Äôs interactions with the environment.</p>



<p>Some things to try</p>



<ul><li>An explicit planning step, as tightly specified as possible. Consider having predefined plans to choose from (c.f. https://youtu.be/hGXhFa3gzBs?si=gNEGYzux6TuB1del).</li><li>Rewriting the original user prompts into agent prompts. Be careful, this process is lossy!</li><li>Agent behaviors as linear chains, DAGs, and State-Machines; different dependency and logic relationships can be more and less appropriate for different scales. Can you squeeze performance optimization out of different task architectures?</li><li>Planning validations; your planning can include instructions on how to evaluate the responses from other agents to make sure the final assembly works well together.</li><li>Prompt engineering with fixed upstream state‚Äîmake sure your agent prompts are evaluated against a collection of variants of what may happen before.</li></ul>



<h4><strong>Prioritize deterministic workflows for now</strong></h4>



<p>While AI agents can dynamically react to user requests and the environment, their non-deterministic nature makes them a challenge to deploy. Each step an agent takes has a chance of failing, and the chances of recovering from the error are poor. Thus, the likelihood that an agent completes a multi-step task successfully decreases exponentially as the number of steps increases. As a result, teams building agents find it difficult to deploy reliable agents.</p>



<p>A promising approach is to have agent systems that produce deterministic plans which are then executed in a structured, reproducible way. In the first step, given a high-level goal or prompt, the agent generates a plan. Then, the plan is executed deterministically. This allows each step to be more predictable and reliable. Benefits include:</p>



<ul><li>Generated plans can serve as few-shot samples to prompt or finetune an agent.</li><li>Deterministic execution makes the system more reliable, and thus easier to test and debug. Furthermore, failures can be traced to the specific steps in the plan.</li><li>Generated plans can be represented as directed acyclic graphs (DAGs) which are easier, relative to a static prompt, to understand and adapt to new situations.</li></ul>



<p>The most successful agent builders may be those with strong experience managing junior engineers because the process of generating plans is similar to how we instruct and manage juniors. We give juniors clear goals and concrete plans, instead of vague open-ended directions, and we should do the same for our agents too. </p>



<p>In the end, the key to reliable, working agents will likely be found in adopting more structured, deterministic approaches, as well as collecting data to refine prompts and finetune models. Without this, we‚Äôll build agents that may work exceptionally well some of the time, but on average, disappoint users which leads to poor retention.</p>



<h4><strong>Getting more diverse outputs beyond temperature</strong></h4>



<p>Suppose your task requires diversity in an LLM‚Äôs output. Maybe you‚Äôre writing an LLM pipeline to suggest products to buy from your catalog given a list of products the user bought previously. When running your prompt multiple times, you might notice that the resulting recommendations are too similar‚Äîso you might increase the temperature parameter in your LLM requests.</p>



<p>Briefly, increasing the temperature parameter makes LLM responses more varied. At sampling time, the probability distributions of the next token become flatter, meaning that tokens which are usually less likely get chosen more often. Still, when increasing temperature, you may notice some failure modes related to output diversity. For example,Some products from the catalog that could be a good fit may never be output by the LLM.The same handful of products might be overrepresented in outputs, if they are highly likely to follow the prompt based on what the LLM has learned at training time.If the temperature is too high, you may get outputs that reference nonexistent products (or gibberish!)</p>



<p>In other words, increasing temperature does not guarantee that the LLM will sample outputs from the probability distribution you expect (e.g., uniform random). Nonetheless, we have other tricks to increase output diversity. The simplest way is to adjust elements within the prompt. For example, if the prompt template includes a list of items, such as historical purchases, shuffling the order of these items each time they‚Äôre inserted into the prompt can make a significant difference. </p>



<p>Additionally, keeping a short list of recent outputs can help prevent redundancy. In our recommended products example, by instructing the LLM to avoid suggesting items from this recent list, or by rejecting and resampling outputs that are similar to recent suggestions, we can further diversify the responses. Another effective strategy is to vary the phrasing used in the prompts. For instance, incorporating phrases like ‚Äúpick an item that the user would love using regularly‚Äù or ‚Äúselect a product that the user would likely recommend to friends‚Äù can shift the focus and thereby influence the variety of recommended products.</p>



<h4><strong>Caching is underrated.</strong></h4>



<p>Caching saves cost and eliminates generation latency by removing the need to recompute responses for the same input. Furthermore, if a response has previously been guardrailed, we can serve these vetted responses and reduce the risk of serving harmful or inappropriate content.</p>



<p>One straightforward approach to caching is to use unique IDs for the items being processed, such as if we‚Äôre summarizing new articles or <a href="https://www.cnbc.com/2023/06/12/amazon-is-using-generative-ai-to-summarize-product-reviews.html" target="_blank" rel="noreferrer noopener" aria-label="product reviews (opens in a new tab)">product reviews</a>. When a request comes in, we can check to see if a summary already exists in the cache. If so, we can return it immediately; if not, we generate, guardrail, and serve it, and then store it in the cache for future requests.</p>



<p>For more open-ended queries, we can borrow techniques from the field of search, which also leverages caching for open-ended inputs. Features like autocomplete and spelling correction also help normalize user input and thus increase the cache hit rate.</p>



<h4><strong>When to fine-tune</strong></h4>



<p>We may have some tasks where even the most cleverly designed prompts fall short. For example, even after significant prompt engineering, our system may still be a ways from returning reliable, high-quality output. If so, then it may be necessary to finetune a model for your specific task. </p>



<p>Successful examples include:</p>



<ul><li><a rel="noreferrer noopener" aria-label="Honeycomb's Natural Language Query Assistant (opens in a new tab)" href="https://www.honeycomb.io/blog/introducing-query-assistant" target="_blank">Honeycomb‚Äôs Natural Language Query Assistant</a>: Initially, the ‚Äúprogramming manual‚Äù was provided in the prompt together with n-shot examples for in-context learning. While this worked decently, fine-tuning the model led to better output on the syntax and rules of the domain-specific language.</li><li><a href="https://www.youtube.com/watch?v=B_DMMlDuJB0" target="_blank" rel="noreferrer noopener" aria-label="ReChat's Lucy (opens in a new tab)">ReChat‚Äôs Lucy</a>: The LLM needed to generate responses in a very specific format that combined structured and unstructured data for the frontend to render correctly. Fine-tuning was essential to get it to work consistently.</li></ul>



<p>Nonetheless, while fine-tuning can be effective, it comes with significant costs. We have to annotate fine-tuning data, finetune and evaluate models, and eventually self-host them. Thus, consider if the higher upfront cost is worth it. If prompting gets you 90% of the way there, then fine-tuning may not be worth the investment. However, if we do decide to fine-tune, to reduce the cost of collecting human annotated data, we can <a rel="noreferrer noopener" aria-label="generate and finetune on synthetic data (opens in a new tab)" href="https://eugeneyan.com/writing/synthetic/" target="_blank">generate and finetune on synthetic data</a>, or <a rel="noreferrer noopener" aria-label="bootstrap on open-source data (opens in a new tab)" href="https://eugeneyan.com/writing/finetuning/" target="_blank">bootstrap on open-source data</a>.</p>



<h3><strong> Evaluation &amp; Monitoring</strong></h3>



<p>Evaluating LLMs can be a minefield. The inputs and the outputs of LLMs are arbitrary text, and the tasks we set them to are varied. Nonetheless, rigorous and thoughtful evals are critical‚Äîit‚Äôs no coincidence that technical leaders at OpenAI <a rel="noreferrer noopener" aria-label="work on evaluation and give feedback on individual evals (opens in a new tab)" href="https://twitter.com/eugeneyan/status/1701692908074873036" target="_blank">work on evaluation and give feedback on individual evals</a>. </p>



<p>Evaluating LLM applications invites a diversity of definitions and reductions: it‚Äôs simply unit testing, or it‚Äôs more like observability, or maybe it‚Äôs just data science. We have found all of these perspectives useful. In the following section, we provide some lessons we‚Äôve learned about what is important in building evals and monitoring pipelines.</p>



<h4><strong>Create a few assertion-based unit tests from real input/output samples</strong></h4>



<p>Create <a rel="noreferrer noopener" aria-label="unit tests (i.e., assertions) (opens in a new tab)" href="https://hamel.dev/blog/posts/evals/#level-1-unit-tests" target="_blank">unit tests (i.e., assertions)</a> consisting of samples of inputs and outputs from production, with expectations for outputs based on at least three criteria. While three criteria might seem arbitrary, it‚Äôs a practical number to start with; fewer might indicate that your task isn‚Äôt sufficiently defined or is too open-ended, like a general-purpose chatbot. These unit tests, or assertions, should be triggered by any changes to the pipeline, whether it‚Äôs editing a prompt, adding new context via RAG, or other modifications. This <a rel="noreferrer noopener" aria-label="write-up has an example (opens in a new tab)" href="https://hamel.dev/blog/posts/evals/#step-1-write-scoped-tests" target="_blank">write-up has an example</a> of an assertion-based test for an actual use case.</p>



<p>Consider beginning with assertions that specify phrases or ideas to either include or exclude in all responses. Also consider checks to ensure that word, item, or sentence counts lie within a range. For other kinds of generation, assertions can look different. <a rel="noreferrer noopener" aria-label="Execution-evaluation (opens in a new tab)" href="https://www.semanticscholar.org/paper/Execution-Based-Evaluation-for-Open-Domain-Code-Wang-Zhou/1bed34f2c23b97fd18de359cf62cd92b3ba612c3" target="_blank">Execution-evaluation</a> is a powerful method for evaluating code-generation, wherein you run the generated code and determine that the state of runtime is sufficient for the user-request. </p>



<p>As an example, if the user asks for a new function named foo; then after executing the agent‚Äôs generated code, foo should be callable! One challenge in execution-evaluation is that the agent code frequently leaves the runtime in slightly different form than the target code. It can be effective to ‚Äúrelax‚Äù assertions to the absolute most weak assumptions that any viable answer would satisfy.</p>



<p>Finally, using your product as intended for customers (i.e., ‚Äúdogfooding‚Äù) can provide insight into failure modes on real-world data. This approach not only helps identify potential weaknesses, but also provides a useful source of production samples that can be converted into evals.</p>



<h4><strong>LLM-as-Judge can work (somewhat), but it‚Äôs not a silver bullet</strong></h4>



<p>LLM-as-Judge, where we use a strong LLM to evaluate the output of other LLMs, has been met with skepticism by some. (Some of us were initially huge skeptics.) Nonetheless, when implemented well, LLM-as-Judge achieves decent correlation with human judgements, and can at least help build priors about how a new prompt or technique may perform. Specifically, when doing pairwise comparisons (e.g., control vs. treatment), LLM-as-Judge typically gets the direction right though the magnitude of the win/loss may be noisy.</p>



<p>Here are some suggestions to get the most out of LLM-as-Judge:</p>



<ul><li>Use pairwise comparisons: Instead of asking the LLM to score a single output on a <a rel="noreferrer noopener" aria-label="Likert (opens in a new tab)" href="https://en.wikipedia.org/wiki/Likert_scale" target="_blank">Likert</a> scale, present it with two options and ask it to select the better one. This tends to lead to more stable results.</li><li>Control for position bias: The order of options presented can bias the LLM‚Äôs decision. To mitigate this, do each pairwise comparison twice, swapping the order of pairs each time. Just be sure to attribute wins to the right option after swapping!</li><li>Allow for ties: In some cases, both options may be equally good. Thus, allow the LLM to declare a tie so it doesn‚Äôt have to arbitrarily pick a winner.</li><li>Use Chain-of-Thought: Asking the LLM to explain its decision before giving a final preference can increase eval reliability. As a bonus, this allows you to use a weaker but faster LLM and still achieve similar results. Because frequently this part of the pipeline is in batch mode, the extra latency from CoT isn‚Äôt a problem.</li><li>Control for response length: LLMs tend to bias toward longer responses. To mitigate this, ensure response pairs are similar in length.</li></ul>



<p>One particularly powerful application of LLM-as-Judge is checking a new prompting strategy against regression. If you have tracked a collection of production results, sometimes you can rerun those production examples with a new prompting strategy, and use LLM-as-Judge to quickly assess where the new strategy may suffer.</p>



<p>Here‚Äôs an example of a <a href="https://hamel.dev/blog/posts/evals/#automated-evaluation-w-llms" target="_blank" rel="noreferrer noopener" aria-label=" (opens in a new tab)">simple but effective approach</a> to iterate on LLM-as-Judge, where we simply log the LLM response, judge‚Äôs critique (i.e., CoT), and final outcome. They are then reviewed with stakeholders to identify areas for improvement. Over three iterations, agreement with human and LLM improved from 68% to 94%!</p>



<figure><img src="https://www.oreilly.com/radar/wp-content/uploads/sites/3/2024/05/Picture1.png" alt="" width="800" height="229"></figure>



<p>LLM-as-Judge is not a silver bullet though. There are subtle aspects of language where even the strongest models fail to evaluate reliably. In addition, we‚Äôve found that <a rel="noreferrer noopener" aria-label="conventional classifiers (opens in a new tab)" href="https://eugeneyan.com/writing/finetuning/" target="_blank">conventional classifiers</a> and reward models can achieve higher accuracy than LLM-as-Judge, and with lower cost and latency. For code generation, LLM-as-Judge can be weaker than more direct evaluation strategies like execution-evaluation.</p>



<h4><strong>The ‚Äúintern test‚Äù for evaluating generations</strong></h4>



<p>We like to use the following ‚Äúintern test‚Äù when evaluating generations: If you took the exact input to the language model, including the context, and gave it to an average college student in the relevant major as a task, could they succeed? How long would it take?</p>



<p>If the answer is no because the LLM lacks the required knowledge, consider ways to enrich the context.</p>



<p>If the answer is no and we simply can‚Äôt improve the context to fix it, then we may have hit a task that‚Äôs too hard for contemporary LLMs.</p>



<p>If the answer is yes, but it would take a while, we can try to reduce the complexity of the task. Is it decomposable? Are there aspects of the task that can be made more templatized?</p>



<p>If the answer is yes, they would get it quickly, then it‚Äôs time to dig into the data. What‚Äôs the model doing wrong? Can we find a pattern of failures? Try asking the model to explain itself before or after it responds, to help you build a theory of mind. </p>



<h4><strong>Overemphasizing certain evals can hurt overall performance</strong></h4>



<blockquote><p>‚ÄúWhen a measure becomes a target, it ceases to be a good measure.‚Äù </p><cite>‚Äî Goodhart‚Äôs Law</cite></blockquote>



<p>An example of this is the Needle-in-a-Haystack (NIAH) eval. The original eval helped quantify model recall as context sizes grew, as well as how recall is affected by needle position. However, it‚Äôs been so overemphasized that it‚Äôs featured as <a rel="noreferrer noopener" aria-label="Figure 1 for Gemini 1.5's report (opens in a new tab)" href="https://arxiv.org/abs/2403.05530" target="_blank">Figure 1 for Gemini 1.5‚Äôs report</a>. The eval involves inserting a specific phrase (‚ÄúThe special magic {city} number is: {number}‚Äù) into a long document which repeats the essays of Paul Graham, and then prompting the model to recall the magic number.</p>



<p>While some models achieve near-perfect recall, it‚Äôs questionable whether NIAH truly reflects the reasoning and recall abilities needed in real-world applications. Consider a more practical scenario: Given the transcript of an hour-long meeting, can the LLM summarize the key decisions and next steps, as well as correctly attribute each item to the relevant person? This task is more realistic, going beyond rote memorization and also considering the ability to parse complex discussions, identify relevant information, and synthesize summaries.</p>



<p>Here‚Äôs an example of a <a rel="noreferrer noopener" aria-label="practical NIAH eval (opens in a new tab)" href="https://observablehq.com/@shreyashankar/needle-in-the-real-world-experiments" target="_blank">practical NIAH eval</a>. Using <a rel="noreferrer noopener" aria-label="transcripts of doctor-patient video calls (opens in a new tab)" href="https://github.com/wyim/aci-bench/tree/main/data/challenge_data" target="_blank">transcripts of doctor-patient video calls</a>, the LLM is queried about the patient‚Äôs medication. It also includes a more challenging NIAH, inserting a phrase for random ingredients for pizza toppings, such as ‚Äú<em>The secret ingredients needed to build the perfect pizza are: Espresso-soaked dates, Lemon and Goat cheese.</em>‚Äù Recall was around 80% on the medication task and 30% on the pizza task.</p>



<figure><img src="https://www.oreilly.com/radar/wp-content/uploads/sites/3/2024/05/Picture2.png" alt=""></figure>



<p>Tangentially, an overemphasis on NIAH evals can lead to lower performance on extraction and summarization tasks. Because these LLMs are so finetuned to attend to every sentence, they may start to treat irrelevant details and distractors as important, thus including them in the final output (when they shouldn‚Äôt!)</p>



<p>This could also apply to other evals and use cases. For example, summarization. An emphasis on factual consistency could lead to summaries that are less specific (and thus less likely to be factually inconsistent) and possibly less relevant. Conversely, an emphasis on writing style and eloquence could lead to more flowery, marketing-type language that could introduce factual inconsistencies.</p>



<h4><strong>Simplify annotation to binary tasks or pairwise comparisons</strong></h4>



<p>Providing open-ended feedback or ratings for model output on a <a rel="noreferrer noopener" aria-label="Likert scale (opens in a new tab)" href="https://en.wikipedia.org/wiki/Likert_scale" target="_blank">Likert scale</a> is cognitively demanding. As a result, the data collected is more noisy‚Äîdue to variability among human raters‚Äîand thus less useful. A more effective approach is to simplify the task and reduce the cognitive burden on annotators. Two tasks that work well are binary classifications and pairwise comparisons.</p>



<p>In binary classifications, annotators are asked to make a simple yes-or-no judgment on the model‚Äôs output. They might be asked whether the generated summary is factually consistent with the source document, or whether the proposed response is relevant, or if it contains toxicity. Compared to the Likert scale, binary decisions are more precise, have higher consistency among raters, and lead to higher throughput. This was how <a rel="noreferrer noopener" aria-label="Doordash setup their labeling queues (opens in a new tab)" href="https://doordash.engineering/2020/08/28/overcome-the-cold-start-problem-in-menu-item-tagging/" target="_blank">Doordash setup their labeling queues</a> for tagging menu items though a tree of yes-no questions.</p>



<p>In pairwise comparisons, the annotator is presented with a pair of model responses and asked which is better. Because it‚Äôs easier for humans to say ‚ÄúA is better than B‚Äù than to assign an individual score to either A or B individually, this leads to faster and more reliable annotations (over Likert scales). At a <a rel="noreferrer noopener" aria-label="Llama2 meetup (opens in a new tab)" href="https://www.youtube.com/watch?v=CzR3OrOkM9w" target="_blank">Llama2 meetup</a>, Thomas Scialom, an author on the Llama2 paper, confirmed that pairwise-comparisons were faster and cheaper than collecting supervised finetuning data such as written responses. The former‚Äôs cost is $3.5 per unit while the latter‚Äôs cost is $25 per unit.</p>



<p>If you‚Äôre starting to write labeling guidelines, here are some <a rel="noreferrer noopener" aria-label="reference guidelines (opens in a new tab)" href="https://eugeneyan.com/writing/labeling-guidelines/" target="_blank">reference guidelines</a> from Google and Bing Search.</p>



<h4><strong>(Reference-free) evals and guardrails can be used interchangeably </strong></h4>



<p>Guardrails help to catch inappropriate or harmful content while evals help to measure the quality and accuracy of the model‚Äôs output. In the case of reference-free evals, they may be considered two sides of the same coin. Reference-free evals are evaluations that don‚Äôt rely on a ‚Äúgolden‚Äù reference, such as a human-written answer, and can assess the quality of output based solely on the input prompt and the model‚Äôs response.</p>



<p>Some examples of these are <a rel="noreferrer noopener" aria-label="summarization evals (opens in a new tab)" href="https://eugeneyan.com/writing/evals/#summarization-consistency-relevance-length" target="_blank">summarization evals</a>, where we only have to consider the input document to evaluate the summary on factual consistency and relevance. If the summary scores poorly on these metrics, we can choose not to display it to the user, effectively using the eval as a guardrail. Similarly, reference-free <a rel="noreferrer noopener" aria-label="translation evals (opens in a new tab)" href="https://eugeneyan.com/writing/evals/#translation-statistical--learned-evals-for-quality" target="_blank">translation evals</a> can assess the quality of a translation without needing a human-translated reference, again allowing us to use it as a guardrail.</p>



<h4><strong>LLMs will return output even when they shouldn‚Äôt</strong></h4>



<p>A key challenge when working with LLMs is that they‚Äôll often generate output even when they shouldn‚Äôt. This can lead to harmless but nonsensical responses, or more egregious defects like toxicity or dangerous content. For example, when asked to extract specific attributes or metadata from a document, an LLM may confidently return values even when those values don‚Äôt actually exist. Alternatively, the model may respond in a language other than English because we provided non-English documents in the context.</p>



<p>While we can try to prompt the LLM to return a ‚Äúnot applicable‚Äù or ‚Äúunknown‚Äù response, it‚Äôs not foolproof. Even when the log probabilities are available, they‚Äôre a poor indicator of output quality. While log probs indicate the likelihood of a token appearing in the output, they don‚Äôt necessarily reflect the correctness of the generated text. On the contrary, for instruction-tuned models that are trained to respond to queries and generate coherent response, log probabilities may not be well-calibrated. Thus, while a high log probability may indicate that the output is fluent and coherent, it doesn‚Äôt mean it‚Äôs accurate or relevant.</p>



<p>While careful prompt engineering can help to some extent, we should complement it with robust guardrails that detect and filter/regenerate undesired output. For example, OpenAI provides a <a rel="noreferrer noopener" aria-label="content moderation API (opens in a new tab)" href="https://platform.openai.com/docs/guides/moderation" target="_blank">content moderation API</a> that can identify unsafe responses such as hate speech, self-harm, or sexual output. Similarly, there are numerous packages for <a rel="noreferrer noopener" aria-label="detecting personally identifiable information (opens in a new tab)" href="https://github.com/topics/pii-detection" target="_blank">detecting personally identifiable information</a> (PII). One benefit is that guardrails are largely agnostic of the use case and can thus be applied broadly to all output in a given language. In addition, with precise retrieval, our system can deterministically respond ‚ÄúI don‚Äôt know‚Äù if there are no relevant documents.</p>



<p>A corollary here is that LLMs may fail to produce outputs when they are expected to. This can happen for various reasons, from straightforward issues like long tail latencies from API providers to more complex ones such as outputs being blocked by content moderation filters. As such, it‚Äôs important to consistently log inputs and (potentially a lack of) outputs for debugging and monitoring.</p>



<h4><strong>Hallucinations are a stubborn problem.</strong></h4>



<p>Unlike content safety or PII defects which have a lot of attention and thus seldom occur, factual inconsistencies are stubbornly persistent and more challenging to detect. They‚Äôre more common and occur at a baseline rate of 5 ‚Äì 10%, and from what we‚Äôve learned from LLM providers, it can be challenging to get it below 2%, even on simple tasks such as summarization.</p>



<p>To address this, we can combine prompt engineering (upstream of generation) and factual inconsistency guardrails (downstream of generation). For prompt engineering, techniques like CoT help reduce hallucination by getting the LLM to explain its reasoning before finally returning the output. Then, we can apply a <a rel="noreferrer noopener" aria-label="factual inconsistency guardrail (opens in a new tab)" href="https://eugeneyan.com/writing/finetuning/" target="_blank">factual inconsistency guardrail</a> to assess the factuality of summaries and filter or regenerate hallucinations. In some cases, hallucinations can be deterministically detected. When using resources from RAG retrieval, if the output is structured and identifies what the resources are, you should be able to manually verify they‚Äôre sourced from the input context.</p>



<h2><strong>About the authors</strong></h2>



<p><strong>Eugene Yan</strong> designs, builds, and operates machine learning systems that serve customers at scale. He‚Äôs currently a Senior Applied Scientist at Amazon where he builds RecSys serving millions of customers worldwide <a rel="noreferrer noopener" aria-label="RecSys 2022 keynote (opens in a new tab)" href="https://eugeneyan.com/speaking/recsys2022-keynote/" target="_blank">RecSys 2022 keynote</a> and applies LLMs to serve customers better <a rel="noreferrer noopener" aria-label="AI Eng Summit 2023 keynote (opens in a new tab)" href="https://eugeneyan.com/speaking/ai-eng-summit/" target="_blank">AI Eng Summit 2023 keynote</a>. Previously, he led machine learning at Lazada (acquired by Alibaba) and a Healthtech Series A. He writes &amp; speaks about ML, RecSys, LLMs, and engineering at <a rel="noreferrer noopener" aria-label="eugeneyan.com (opens in a new tab)" href="https://eugeneyan.com/" target="_blank">eugeneyan.com</a> and <a rel="noreferrer noopener" aria-label="ApplyingML.com (opens in a new tab)" href="https://applyingml.com/" target="_blank">ApplyingML.com</a>.</p>



<p><strong>Bryan Bischof</strong> is the Head of AI at Hex, where he leads the team of engineers building Magic‚Äîthe data science and analytics copilot. Bryan has worked all over the data stack leading teams in analytics, machine learning engineering, data platform engineering, and AI engineering. He started the data team at Blue Bottle Coffee, led several projects at Stitch Fix, and built the data teams at Weights and Biases. Bryan previously co-authored the book Building Production Recommendation Systems with O‚ÄôReilly, and teaches Data Science and Analytics in the graduate school at Rutgers. His Ph.D. is in pure mathematics. </p>



<p><strong>Charles Frye</strong> teaches people to build AI applications. After publishing research in <a rel="noreferrer noopener" aria-label="psychopharmacology (opens in a new tab)" href="https://pubmed.ncbi.nlm.nih.gov/24316346/" target="_blank">psychopharmacology</a> and <a rel="noreferrer noopener" aria-label="neurobiology (opens in a new tab)" href="https://journals.physiology.org/doi/full/10.1152/jn.00172.2016" target="_blank">neurobiology</a>, he got his Ph.D. at the University of California, Berkeley, for dissertation work on <a rel="noreferrer noopener" aria-label="neural network optimization (opens in a new tab)" href="https://arxiv.org/abs/2003.10397" target="_blank">neural network optimization</a>. He has taught thousands the entire stack of AI application development, from linear algebra fundamentals to GPU arcana and building defensible businesses, through educational and consulting work at Weights and Biases, <a rel="noreferrer noopener" aria-label="Full Stack Deep Learning (opens in a new tab)" href="https://fullstackdeeplearning.com/" target="_blank">Full Stack Deep Learning</a>, and Modal.</p>



<p><strong>Hamel Husain</strong> is a machine learning engineer with over 25 years of <a rel="noreferrer noopener" aria-label="experience (opens in a new tab)" href="https://www.linkedin.com/in/hamelhusain/" target="_blank">experience</a>. He has worked with innovative companies such as Airbnb and GitHub, which included <a rel="noreferrer noopener" aria-label="early LLM research used by OpenAI (opens in a new tab)" href="https://openai.com/index/introducing-text-and-code-embeddings#:~:text=models%20on%20the-,CodeSearchNet,),-evaluation%20suite%20where" target="_blank">early LLM research used by OpenAI</a> for code understanding. He has also led and contributed to numerous popular <a rel="noreferrer noopener" aria-label="open-source machine-learning tools (opens in a new tab)" href="https://hamel.dev/oss/opensource.html" target="_blank">open-source machine-learning tools</a>. Hamel is currently an <a rel="noreferrer noopener" aria-label="independent consultant (opens in a new tab)" href="https://hamel.dev/hire.html" target="_blank">independent consultant</a> helping companies operationalize Large Language Models (LLMs) to accelerate their AI product journey.</p>



<p><strong>Jason Liu</strong> is a distinguished machine learning <a rel="noreferrer noopener" aria-label="consultant (opens in a new tab)" href="https://jxnl.co/services/" target="_blank">consultant</a> known for leading teams to successfully ship AI products. Jason‚Äôs technical expertise covers personalization algorithms, search optimization, synthetic data generation, and MLOps systems. His experience includes companies like Stitchfix, where he created a recommendation framework and observability tools that handled 350 million daily requests. Additional roles have included Meta, NYU, and startups such as Limitless AI and Trunk Tools. </p>



<p><strong>Shreya Shankar</strong> is an ML engineer and PhD student in computer science at UC Berkeley. She was the first ML engineer at 2 startups, building AI-powered products from scratch that serve thousands of users daily. As a researcher, her work focuses on addressing data challenges in production ML systems through a human-centered approach. Her work has appeared in top data management and human-computer interaction venues like VLDB, SIGMOD, CIDR, and CSCW.</p>



<h2><strong>Contact Us</strong></h2>



<p>We would love to hear your thoughts on this post. You can contact us at <a rel="noreferrer noopener" aria-label="contact@applied-llms.org (opens in a new tab)" href="mailto:contact@applied-llms.org" target="_blank">contact@applied-llms.org</a>. Many of us are open to various forms of consulting and advisory. We will route you to the correct expert(s) upon contact with us if appropriate.</p>



<h2><strong>Acknowledgements</strong></h2>



<p>This series started as a conversation in a group chat, where Bryan quipped that he was inspired to write ‚ÄúA Year of AI Engineering.‚Äù Then, ‚ú®magic‚ú® happened in the group chat, and we were all inspired to chip in and share what we‚Äôve learned so far. </p>



<p>The authors would like to thank Eugene for leading the bulk of the document integration and overall structure in addition to a large proportion of the lessons. Additionally, for primary editing responsibilities and document direction. The authors would like to thank Bryan for the spark that led to this writeup, restructuring the write-up into tactical, operational, and strategic sections and their intros, and for pushing us to think bigger on how we could reach and help the community. The authors would like to thank Charles for his deep dives on cost and LLMOps, as well as weaving the lessons to make them more coherent and tighter‚Äîyou have him to thank for this being 30 instead of 40 pages! The authors appreciate Hamel and Jason for their insights from advising clients and being on the front lines, for their broad generalizable learnings from clients, and for deep knowledge of tools. And finally, thank you Shreya for reminding us of the importance of evals and rigorous production practices and for bringing her research and original results to this piece.</p>



<p>Finally, the authors would like to thank all the teams who so generously shared your challenges and lessons in your own write-ups which we‚Äôve referenced throughout this series, along with the AI communities for your vibrant participation and engagement with this group.</p>

                          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[AI headphones let you listen to a single person in crowd, by looking at them (778 pts)]]></title>
            <link>https://www.washington.edu/news/2024/05/23/ai-headphones-noise-cancelling-target-speech-hearing/</link>
            <guid>40508278</guid>
            <pubDate>Wed, 29 May 2024 03:52:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.washington.edu/news/2024/05/23/ai-headphones-noise-cancelling-target-speech-hearing/">https://www.washington.edu/news/2024/05/23/ai-headphones-noise-cancelling-target-speech-hearing/</a>, See on <a href="https://news.ycombinator.com/item?id=40508278">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main_content" tabindex="-1">

  			<p>
    <a href="http://www.washington.edu/news/category/engineering/" rel="category tag">Engineering</a>&nbsp; | &nbsp;<a href="http://www.washington.edu/news/category/news-releases/" rel="category tag">News releases</a>&nbsp; | &nbsp;<a href="http://www.washington.edu/news/category/research/" rel="category tag">Research</a>&nbsp; | &nbsp;<a href="http://www.washington.edu/news/category/technology/" rel="category tag">Technology</a>  </p>
  
<p>May 23, 2024</p>

  


  


<nav id="mobile-relative" aria-label="mobile menu"></nav>
<p><iframe title="AI headphones filter out noise so you hear one voice in a crowd" width="750" height="422" src="https://www.youtube.com/embed/ArGKgodEUSo?feature=oembed&amp;enablejsapi=1&amp;origin=https://www.washington.edu" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe></p>
<p>Noise-canceling headphones have gotten very good at creating an auditory blank slate. But allowing certain sounds from a wearer‚Äôs environment through the erasure still challenges researchers. The latest edition of Apple‚Äôs AirPods Pro, for instance, <a href="https://www.cnbc.com/2023/09/18/airpods-pro-usb-c-hands-on-adaptive-audio-and-conversation-awareness.html">automatically adjusts sound levels</a> for wearers ‚Äî sensing when they‚Äôre in conversation, for instance ‚Äî but the user has little control over whom to listen to or when this happens.</p>
<p>A University of Washington team has developed an artificial intelligence system that lets a user wearing headphones look at a person speaking for three to five seconds to ‚Äúenroll‚Äù them. The system, called ‚ÄúTarget Speech Hearing,‚Äù then cancels all other sounds in the environment and plays just the enrolled speaker‚Äôs voice in real time even as the listener moves around in noisy places and no longer faces the speaker.</p>
<p>The team presented <a href="https://programs.sigchi.org/chi/2024/program/content/147319">its findings</a> May 14 in Honolulu at the ACM CHI Conference on Human Factors in Computing Systems. The <a href="https://github.com/vb000/LookOnceToHear">code for the proof-of-concept device</a> is available for others to build on. The system is not commercially available.</p>
<p>‚ÄúWe tend to think of AI now as web-based chatbots that answer questions,‚Äù said senior author <a href="https://homes.cs.washington.edu/~gshyam/">Shyam Gollakota</a>, a UW professor in the Paul G. Allen School of Computer Science &amp; Engineering. ‚ÄúBut in this project, we develop AI to modify the auditory perception of anyone wearing headphones, given their preferences. With our devices you can now hear a single speaker clearly even if you are in a noisy environment with lots of other people talking.‚Äù</p>
<p>To use the system, a person wearing off-the-shelf headphones fitted with microphones taps a button while directing their head at someone talking. The sound waves from that speaker‚Äôs voice then should reach the microphones on both sides of the headset simultaneously; there‚Äôs a 16-degree margin of error. The headphones send that signal to an on-board embedded<a href="https://en.wikipedia.org/wiki/Single-board_computer"> computer</a>, where the team‚Äôs machine learning software learns the desired speaker‚Äôs vocal patterns. The system latches onto that speaker‚Äôs voice and continues to play it back to the listener, even as the pair moves around. The system‚Äôs ability to focus on the enrolled voice improves as the speaker keeps talking, giving the system more training data.</p>
<div>
<p><strong>Related:</strong></p>
<ul>
<li>For more information, see <a href="https://tsh.cs.washington.edu/">the team‚Äôs website</a></li>
<li>Stories from <a href="https://www.technologyreview.com/2024/05/23/1092832/noise-canceling-headphones-use-ai-to-let-a-single-voice-through/">MIT Technology Review </a>and <a href="https://www.geekwire.com/2024/look-and-listen-ai-headphones-cancel-background-noise-and-focus-on-one-speaker-after-a-glance/">GeekWire</a></li>
</ul>
</div>
<p>The team tested its system on 21 subjects, who rated the clarity of the enrolled speaker‚Äôs voice nearly twice as high as the unfiltered audio on average.</p>
<p>This work builds on the <a href="https://www.washington.edu/news/2023/11/09/ai-noise-canceling-headphones/">team‚Äôs previous ‚Äúsemantic hearing‚Äù research</a>, which allowed users to select specific sound classes ‚Äî such as birds or voices ‚Äî that they wanted to hear and canceled other sounds in the environment.</p>
<p>Currently the TSH system can enroll only one speaker at a time, and it‚Äôs only able to enroll a speaker when there is not another loud voice coming from the same direction as the target speaker‚Äôs voice. If a user isn‚Äôt happy with the sound quality, they can run another enrollment on the speaker to improve the clarity.</p>
<p>The team is working to expand the system to earbuds and hearing aids in the future.</p>
<p>Additional co-authors on the paper were <a href="https://homes.cs.washington.edu/~bandhav/">Bandhav Veluri</a>, <a href="https://www.linkedin.com/in/malek-itani-9311ba197/?originalSubdomain=lb">Malek Itani</a> and <a href="https://staff.washington.edu/tuochao/">Tuochao Chen</a>, UW doctoral students in the Allen School, and <a href="https://www.linkedin.com/in/ty274/">Takuya Yoshioka</a>, director of research at AssemblyAI. This research was funded by a <a href="https://www.washington.edu/news/2021/10/04/uws-shyam-gollakota-named-2021-moore-inventor-fellow/">Moore Inventor Fellow</a> award, a <a href="https://www.cs.washington.edu/supportcse/faculty/wrf-cable_professorship">Thomas J. Cabel Endowed Professorship</a> and a <a href="https://comotion.uw.edu/funding-and-competitions/programs/comotion-innovation-gap-fund/">UW CoMotion Innovation Gap Fund</a>.</p>
<p><em>For more information, contact </em><a href="mailto:tsh@cs.washington.edu"><em>tsh@cs.washington.edu</em></a><em>.</em></p>


<p><small>Tag(s): <a href="https://www.washington.edu/news/tag/bandhav-veluri/" rel="tag">Bandhav Veluri</a> ‚Ä¢ <a href="https://www.washington.edu/news/tag/college-of-engineering/" rel="tag">College of Engineering</a> ‚Ä¢ <a href="https://www.washington.edu/news/tag/department-of-electrical-computer-engineering/" rel="tag">Department of Electrical &amp; Computer Engineering</a> ‚Ä¢ <a href="https://www.washington.edu/news/tag/malek-itani/" rel="tag">Malek Itani</a> ‚Ä¢ <a href="https://www.washington.edu/news/tag/paul-g-allen-school-of-computer-science-engineering/" rel="tag">Paul G. Allen School of Computer Science &amp; Engineering</a> ‚Ä¢ <a href="https://www.washington.edu/news/tag/shyam-gollakota/" rel="tag">Shyam Gollakota</a> ‚Ä¢ <a href="https://www.washington.edu/news/tag/tuochao-chen/" rel="tag">Tuochao Chen</a></small></p><hr>
            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[USB disk as /dev/sda on a not-rooted smartphone using Termux, QEMU, Alpine Linux (102 pts)]]></title>
            <link>https://gist.github.com/NoteAfterNote/7a197233de3d60ff1e23ca90ed2f595a</link>
            <guid>40507319</guid>
            <pubDate>Wed, 29 May 2024 01:27:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gist.github.com/NoteAfterNote/7a197233de3d60ff1e23ca90ed2f595a">https://gist.github.com/NoteAfterNote/7a197233de3d60ff1e23ca90ed2f595a</a>, See on <a href="https://news.ycombinator.com/item?id=40507319">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>
    Reading and writing a USB drive connected to a Linux server using Termux, termux-usb, usbredirect, and QEMU on a smartphone that is not rooted
  </p><div id="file-note-after-note-2024-may-19-termux-usbredirect-qemu-md">
    <article itemprop="text">
<p dir="auto"><h3 dir="auto">Termux: Enable Wake-Lock</h3><a id="user-content-termux-enable-wake-lock" aria-label="Permalink: Termux: Enable Wake-Lock" href="#termux-enable-wake-lock"></a></p>
<hr>
<p dir="auto"><h3 dir="auto">Smartphone Configuration</h3><a id="user-content-smartphone-configuration" aria-label="Permalink: Smartphone Configuration" href="#smartphone-configuration"></a></p>
<ul dir="auto">
<li>
<p dir="auto">The Android 11 smartphone is not rooted and it has never been rooted</p>
</li>
<li>
<p dir="auto">Three gigabytes of RAM</p>
</li>
<li>
<p dir="auto">Four cores/CPUs, "MT6761V/WAB" according to "neofetch" in Termux</p>
</li>
</ul>
<pre><code>     ~ $ lscpu
     Architecture:           armv7l
       Byte Order:           Little Endian
     CPU(s):                 4
       On-line CPU(s) list:  0-3
     Vendor ID:              ARM
       Model name:           Cortex-A53
         Model:              4
         Thread(s) per core: 1
         Core(s) per socket: 4
         Socket(s):          1
         Stepping:           r0p4
         CPU(s) scaling MHz: 65%
         CPU max MHz:        2001.0000
         CPU min MHz:        850.0000
         BogoMIPS:           27.96
         Flags:              half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva 
                             idivt vfpd32 lpae evtstrm aes pmull sha1 sha2 crc32
</code></pre>
<ul dir="auto">
<li>
<p dir="auto">Internal storage: /data/data/com.termux/files</p>
</li>
<li>
<p dir="auto">Adoptable storage: /storage/emulated/0/Download/usb1 and /storage/emulated/0</p>
</li>
</ul>
<hr>
<p dir="auto"><h3 dir="auto">Create Termux Sessions: termux (Session 1), usbredirect (Session 2), qemu (Session 3)</h3><a id="user-content-create-termux-sessions-termux-session-1-usbredirect-session-2-qemu-session-3" aria-label="Permalink: Create Termux Sessions: termux (Session 1), usbredirect (Session 2), qemu (Session 3)" href="#create-termux-sessions-termux-session-1-usbredirect-session-2-qemu-session-3"></a></p>
<p dir="auto">From The termux Session: Create a disk, a file named vmtest, for the virtual machine (VM), the QEMU Linux Server will be installed on vmtest</p>
<pre><code>~ $ mkdir $HOME/termux-qemu-usb
~ $ cd $HOME/termux-qemu-usb
~/termux-qemu-usb $ qemu-img create -f raw -o preallocation=full vmtest 3G
Formatting 'vmtest', fmt=raw size=3221225472 preallocation=full
~/termux-qemu-usb $
</code></pre>
<p dir="auto">From The usbredirect Session:</p>
<pre><code>~ $ cd $HOME/termux-qemu-usb
~/termux-qemu-usb $
</code></pre>
<p dir="auto">From The qemu Session: The QEMU Linux Server can only be accessed from 127.0.0.1</p>
<pre><code>~ $ cd $HOME/termux-qemu-usb
~/termux-qemu-usb $
</code></pre>
<hr>
<p dir="auto"><h3 dir="auto">Read Carefully</h3><a id="user-content-read-carefully" aria-label="Permalink: Read Carefully" href="#read-carefully"></a></p>
<ol dir="auto">
<li>
<p dir="auto">"Termux And The ext4 Filesystem, Part 3 Of 5: QEMU, A Guest Operating System, LUKS Encryption, lighttpd, WebDAV ": <a href="https://gist.github.com/NoteAfterNote/cabd411777f2ad5ae57d3d98c576471c">https://gist.github.com/NoteAfterNote/cabd411777f2ad5ae57d3d98c576471c</a> (@NoteAfterNote, NoteAfterNote-4, April 12, 2023), <a href="https://github.com/NoteAfterNote">https://github.com/NoteAfterNote</a> (@NoteAfterNote, NoteAfterNote-4, April 12, 2023) , <a href="https://gist.github.com/NoteAfterNote">https://gist.github.com/NoteAfterNote</a> (@NoteAfterNote, NoteAfterNote-4, April 12, 2023)</p>
</li>
<li>
<p dir="auto">"Alpine User Handbook": <a href="https://docs.alpinelinux.org/user-handbook/0.1a/index.html" rel="nofollow">https://docs.alpinelinux.org/user-handbook/0.1a/index.html</a></p>
</li>
<li>
<p dir="auto">In <code>https://github.com/termux/termux-packages/issues/19635</code> (<a data-error-text="Failed to load title" data-id="2218266950" data-permission-text="Title is private" data-url="https://github.com/termux/termux-packages/issues/19635" data-hovercard-type="issue" data-hovercard-url="/termux/termux-packages/issues/19635/hovercard" href="https://github.com/termux/termux-packages/issues/19635">termux/termux-packages#19635</a> , <a href="https://archive.ph/9Xmh1" rel="nofollow">https://archive.ph/9Xmh1</a> , <a href="https://web.archive.org/web/20240518054131/github.com/termux/termux-packages/issues/19635" rel="nofollow">https://web.archive.org/web/20240518054131/github.com/termux/termux-packages/issues/19635</a>):</p>
<ul dir="auto">
<li>
<p dir="auto">"Connecting a USB device to QEMU using termux, termux-usb, usbredirect"</p>
<p dir="auto">echo 'chardev-add socket,host=127.0.0.1,port=10000,id=c1' | nc -UN qemu.socket</p>
<p dir="auto">echo 'device_add usb-redir,chardev=c1,id=u1,debug=3' | nc -UN qemu.socket</p>
</li>
<li>
<p dir="auto">"Modified source code: usbredirect.c" (the original source code for usbredirect.c is at <a href="https://gitlab.freedesktop.org/spice/usbredir" rel="nofollow">https://gitlab.freedesktop.org/spice/usbredir</a>)</p>
</li>
<li>
<p dir="auto">Usage-1: Update-6, Update-7, Update-8, Update-9, Update-10</p>
<p dir="auto">Usage-1 Note: mkfs.ext4, mount, cryptsetup</p>
</li>
<li>
<p dir="auto">Usage-2: "Making A Filesystem(s) Mounted On The QEMU Linux Server More Accessible" by using the FTP protocol in the vsftpd server (passive mode and anonymous mode) that is running on the Alpine Linux operating system</p>
<p dir="auto">Usage-2 Note: Symbolic link and vsftpd, use "mount --bind /dev/shm /media/ramdisk" instead of "ln -s /dev/shm /media/ramdisk"</p>
</li>
<li>
<p dir="auto">QEMU_SOCKET_FILENAME=$HOME/termux-qemu-usb/qemu.socket ; touch $QEMU_SOCKET_FILENAME ; VM=$HOME/termux-qemu-usb/vmtest ; qemu-system-x86_64 -m 1500M -machine q35 -smp 4 -device virtio-rng-pci -device pci-bridge,id=bridge0,chassis_nr=1 -nographic  -monitor unix:$QEMU_SOCKET_FILENAME,server,wait=off -serial mon:stdio -device ich9-usb-ehci1,id=ehci,addr=1d.7,multifunction=on  -device ich9-usb-uhci1,id=uhci-1,addr=1d.0,multifunction=on,masterbus=ehci.0,firstport=0  -device ich9-usb-uhci2,id=uhci-2,addr=1d.1,multifunction=on,masterbus=ehci.0,firstport=2  -device ich9-usb-uhci3,id=uhci-3,addr=1d.2,multifunction=on,masterbus=ehci.0,firstport=4   -drive if=none,id=vm,format=raw,file=$VM -device virtio-blk-pci,id=vmvirt1,drive=vm,bootindex=1     -virtfs local,security_model=none,id=host-all,mount_tag=host-all,path=/storage/emulated/0   -virtfs local,security_model=none,id=termux,mount_tag=termux,path=/data/data/com.termux/files   -virtfs local,security_model=none,id=host,mount_tag=host,path=/storage/emulated/0/Download/usb1   -device virtio-serial  -device e1000,netdev=net0,mac=52:54:12:34:56:78  -netdev user,id=net0,ipv6=off,hostfwd=tcp:127.0.0.1:9080-:80,hostfwd=tcp:127.0.0.1:9022-:22,hostfwd=tcp:127.0.0.1:9445-:445,hostfwd=:127.0.0.1:50021-:21,hostfwd=:127.0.0.1:50001-:50001,hostfwd=:127.0.0.1:50002-:50002,hostfwd=:127.0.0.1:50003-:50003,hostfwd=:127.0.0.1:50004-:50004,hostfwd=:127.0.0.1:50005-:50005,hostfwd=:127.0.0.1:50006-:50006,hostfwd=:127.0.0.1:50007-:50007,hostfwd=:127.0.0.1:50008-:50008,hostfwd=:127.0.0.1:50009-:50009,hostfwd=:127.0.0.1:50010-:50010,hostfwd=:127.0.0.1:50011-:50011,hostfwd=:127.0.0.1:50012-:50012,hostfwd=:127.0.0.1:50013-:50013,hostfwd=:127.0.0.1:50014-:50014,hostfwd=:127.0.0.1:50015-:50015,hostfwd=:127.0.0.1:50016-:50016,hostfwd=:127.0.0.1:50017-:50017,hostfwd=:127.0.0.1:50018-:50018,hostfwd=:127.0.0.1:50019-:50019,hostfwd=:127.0.0.1:50020-:50020 -chardev socket,host=127.0.0.1,port=10000,id=usbredirchardev1   -device usb-redir,chardev=usbredirchardev1,id=usbredirdev1,debug=3</p>
</li>
<li>
<p dir="auto">ich9-ehci-uhci.cfg from <a href="https://github.com/qemu/qemu/blob/master/docs/config/ich9-ehci-uhci.cfg">https://github.com/qemu/qemu/blob/master/docs/config/ich9-ehci-uhci.cfg</a> or <a href="https://raw.githubusercontent.com/qemu/qemu/master/docs/config/ich9-ehci-uhci.cfg" rel="nofollow">https://raw.githubusercontent.com/qemu/qemu/master/docs/config/ich9-ehci-uhci.cfg</a> as of April 2024 and May 2024:</p>
</li>
</ul>
</li>
</ol>
<pre><code>         ###########################################################################
         #
         # You can pass this file directly to qemu using the -readconfig
         # command line switch.
         #
         # This config file creates a EHCI adapter with companion UHCI
         # controllers as multifunction device in PCI slot "1d".
         #
         # Specify "bus=ehci.0" when creating usb devices to hook them up
         # there.
         #
         
         [device "ehci"]
           driver = "ich9-usb-ehci1"
           addr = "1d.7"
           multifunction = "on"
         
         [device "uhci-1"]
           driver = "ich9-usb-uhci1"
           addr = "1d.0"
           multifunction = "on"
           masterbus = "ehci.0"
           firstport = "0"
         
         [device "uhci-2"]
           driver = "ich9-usb-uhci2"
           addr = "1d.1"
           multifunction = "on"
           masterbus = "ehci.0"
           firstport = "2"
         
         [device "uhci-3"]
           driver = "ich9-usb-uhci3"
           addr = "1d.2"
           multifunction = "on"
           masterbus = "ehci.0"
           firstport = "4"


         Equivalent options for qemu-system-x86_64 if 
         the ich9-ehci-uhci.cfg file (-readconfig $HOME/ich9-ehci-uhci.cfg)
         is not used:

         -device ich9-usb-ehci1,id=ehci,addr=1d.7,multifunction=on

         -device ich9-usb-uhci1,id=uhci-1,addr=1d.0,multifunction=on,masterbus=ehci.0,firstport=0

         -device ich9-usb-uhci2,id=uhci-2,addr=1d.1,multifunction=on,masterbus=ehci.0,firstport=2

         -device ich9-usb-uhci3,id=uhci-3,addr=1d.2,multifunction=on,masterbus=ehci.0,firstport=4

</code></pre>
<ol start="4" dir="auto">
<li>
<p dir="auto">Alpine Linux: <a href="https://alpinelinux.org/" rel="nofollow">https://alpinelinux.org</a> , <a href="https://wiki.alpinelinux.org/wiki/Main_Page" rel="nofollow">https://wiki.alpinelinux.org/wiki/Main_Page</a> , <a href="https://wiki.alpinelinux.org/" rel="nofollow">https://wiki.alpinelinux.org</a> , <a href="https://alpinelinux.org/downloads/" rel="nofollow">https://alpinelinux.org/downloads/</a></p>
<ul dir="auto">
<li>
<p dir="auto">"Alpine User Handbook": <a href="https://docs.alpinelinux.org/user-handbook/0.1a/index.html" rel="nofollow">https://docs.alpinelinux.org/user-handbook/0.1a/index.html</a></p>
</li>
<li>
<p dir="auto"><a href="https://docs.alpinelinux.org/user-handbook/0.1a/Installing/manual.html#_repositories" rel="nofollow">https://docs.alpinelinux.org/user-handbook/0.1a/Installing/manual.html#_repositories</a></p>
<p dir="auto"><a href="http://dl-cdn.alpinelinux.org/alpine/v3.20/main" rel="nofollow">http://dl-cdn.alpinelinux.org/alpine/v3.20/main</a></p>
<p dir="auto"><a href="http://dl-cdn.alpinelinux.org/alpine/v3.20/community" rel="nofollow">http://dl-cdn.alpinelinux.org/alpine/v3.20/community</a></p>
</li>
<li>
<p dir="auto"><a href="https://mirrors.alpinelinux.org/" rel="nofollow">https://mirrors.alpinelinux.org</a></p>
</li>
<li>
<p dir="auto"><a href="https://wiki.alpinelinux.org/wiki/How_to_setup_a_Alpine_Linux_mirror" rel="nofollow">https://wiki.alpinelinux.org/wiki/How_to_setup_a_Alpine_Linux_mirror</a></p>
<p dir="auto">rsync://rsync.alpinelinux.org/alpine</p>
</li>
<li>
<p dir="auto"><a href="https://dl-cdn.alpinelinux.org/alpine/MIRRORS.txt" rel="nofollow">https://dl-cdn.alpinelinux.org/alpine/MIRRORS.txt</a></p>
</li>
<li>
<p dir="auto"><a href="https://wiki.alpinelinux.org/wiki/Upgrading_Alpine" rel="nofollow">https://wiki.alpinelinux.org/wiki/Upgrading_Alpine</a></p>
</li>
<li>
<p dir="auto"><a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.0-x86_64.iso" rel="nofollow">https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.0-x86_64.iso</a> , <a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.0-x86_64.iso.sha256" rel="nofollow">https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.0-x86_64.iso.sha256</a> , <a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.0-x86_64.iso.sha512" rel="nofollow">https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.0-x86_64.iso.sha512</a> , <a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.0-x86_64.iso.asc" rel="nofollow">https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-virt-3.20.0-x86_64.iso.asc</a></p>
</li>
<li>
<p dir="auto"><a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-extended-3.20.0-x86_64.iso" rel="nofollow">https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-extended-3.20.0-x86_64.iso</a> , <a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-extended-3.20.0-x86_64.iso.sha256" rel="nofollow">https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-extended-3.20.0-x86_64.iso.sha256</a> , <a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-extended-3.20.0-x86_64.iso.sha512" rel="nofollow">https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-extended-3.20.0-x86_64.iso.sha512</a> , <a href="https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-extended-3.20.0-x86_64.iso.asc" rel="nofollow">https://dl-cdn.alpinelinux.org/alpine/v3.20/releases/x86_64/alpine-extended-3.20.0-x86_64.iso.asc</a></p>
</li>
<li>
<p dir="auto">apk add linux-virt  fscrypt fscrypt-doc fscryptctl libpwquality libpwquality-doc zstd zstd-doc pwgen sfdisk  dos2unix gptfdisk sgdisk parted zfs zfs-doc btrfs-progs btrfs-progs-extra btrbk btrfs-progs-doc rpm cifs-utils perl  perl-digest-sha3 perl-utils perl-doc miniperl perl-dev  bash-doc  haveged davfs2 f2fs-tools f2fs-tools-doc jfsutils   xfsprogs xfsprogs-extra xfsprogs-doc  lsof-doc   cpio whois  unzip     mount umount libarchive-tools libarchive-doc binutils binutils-doc sudo sshfs sharutils file apk-tools apk-tools-doc mandoc man-pages mandoc-apropos docs hdparm util-linux-misc util-linux-login fuse fuse-exfat fuse-exfat-utils fuse-exfat-doc  nfs-utils less smartmontools grep gawk sed utmps udisks2 udisks2-doc procps-ng  findutils ntfs-3g  ntfs-3g-progs xz  zip 7zip lvm2 mkinitfs grub grub-efi efibootmgr syslinux  net-tools      archivemount darkhttpd vsftpd vsftpd-doc socat curl ncurses shadow abuild samba  apache2 apache2-doc apache2-webdav apache2-utils apache2-ctl apache2-brotli apache2-dev apache2-error apache2-http2 apache2-icons apache2-ldap  apache2-lua  apache2-proxy apache2-proxy-html apache2-ssl nginx nginx-mod-http-fancyindex nginx-mod-http-upload  nginx-mod-http-upload-progress nginx-debug nginx-doc nginx-mod-devel-kit nginx-mod-http-accounting nginx-mod-http-array-var nginx-mod-http-auth-jwt nginx-mod-http-brotli nginx-mod-http-cache-purge nginx-mod-http-cookie-flag nginx-mod-http-dav-ext nginx-mod-http-echo nginx-mod-http-encrypted-session nginx-mod-http-geoip nginx-mod-http-geoip2 nginx-mod-http-headers-more nginx-mod-http-image-filter nginx-mod-http-js nginx-mod-http-keyval nginx-mod-http-log-zmq nginx-mod-http-lua nginx-mod-http-lua-upstream nginx-mod-http-naxsi nginx-mod-http-nchan nginx-mod-http-perl nginx-mod-http-redis2 nginx-mod-http-set-misc nginx-mod-http-shibboleth nginx-mod-http-untar nginx-mod-http-upstream-fair nginx-mod-http-upstream-jdomain nginx-mod-http-vod nginx-mod-http-vts nginx-mod-http-xslt-filter nginx-mod-http-zip nginx-mod-mail nginx-mod-rtmp nginx-mod-stream nginx-mod-stream-geoip nginx-mod-stream-geoip2 nginx-mod-stream-js nginx-mod-stream-keyval nginx-vim rng-tools cryptsetup coreutils util-linux e2fsprogs e2fsprogs-extra bash vim nano dosfstools tar usbutils iproute2 iproute2-ss pciutils ethtool wget lsof hwdata</p>
</li>
<li>
<p dir="auto">The QEMU Linux Server can only be accessed from 127.0.0.1</p>
</li>
<li>
<p dir="auto">On the QEMU Linux Server enable passive mode and anonymous mode for vsftpd by adding the following directives to the default server configuration file at "/etc/vsftpd/vsftpd.conf"; the configuration works for "lftp" and "mc" ("FTP Link" in the Midnight Commander file manager) and the FTP clients must use the passive mode and port 50021; anonymous is the username and no password is required:</p>
</li>
</ul>
</li>
</ol>
<pre><code>         anon_world_readable_only=NO
         ftp_username=ftp
         nopriv_user=ftp
         anon_root=/media
         seccomp_sandbox=NO
         pasv_address=127.0.0.1
         port_enable=YES
         pasv_enable=YES
         pasv_min_port=50001
         pasv_max_port=50010
         port_promiscuous=YES
         connect_from_port_20=YES
         anonymous_enable=YES
         no_anon_password=YES
         write_enable=YES
         anon_other_write_enable=YES
         anon_upload_enable=YES
         anon_mkdir_write_enable=YES
         ls_recurse_enable=YES
</code></pre>
<ol start="5" dir="auto">
<li>
<p dir="auto">(a) "How to manage your Linux command history: Taking the mystery out of your Bash history.": <a href="https://www.redhat.com/sysadmin/history-command" rel="nofollow">https://www.redhat.com/sysadmin/history-command</a> (Ken Hess, December 21, 2020)</p>
<p dir="auto">(b) "Difference Between .bashrc, .bash-profile, and .profile": <a href="https://www.baeldung.com/linux/bashrc-vs-bash-profile-vs-profile" rel="nofollow">https://www.baeldung.com/linux/bashrc-vs-bash-profile-vs-profile</a> (baeldung, March 18, 2024)</p>
<p dir="auto">(c) "Bash HISTSIZE vs. HISTFILESIZE": <a href="https://www.baeldung.com/linux/bash-histsize-vs-histfilesize" rel="nofollow">https://www.baeldung.com/linux/bash-histsize-vs-histfilesize</a> (Shubhneesh K, March 18, 2024)</p>
<p dir="auto">(d) "Debugging a Bash Script": <a href="https://www.baeldung.com/linux/debug-bash-script" rel="nofollow">https://www.baeldung.com/linux/debug-bash-script</a> (Shubhneesh K, March 18, 2024)</p>
</li>
<li>
<p dir="auto">The best way to copy files and directories to and from the QEMU Linux Server is by logging in with "ssh root@127.0.0.1 -p 9022" and using the "cp" command ("man cp").</p>
</li>
</ol>
<hr>
<p dir="auto"><h3 dir="auto">Compile usbredirect: Use "Modified source code: usbredirect.c" in <code>https://github.com/termux/termux-packages/issues/19635</code> (<a data-error-text="Failed to load title" data-id="2218266950" data-permission-text="Title is private" data-url="https://github.com/termux/termux-packages/issues/19635" data-hovercard-type="issue" data-hovercard-url="/termux/termux-packages/issues/19635/hovercard" href="https://github.com/termux/termux-packages/issues/19635">termux/termux-packages#19635</a> , <a href="https://archive.ph/9Xmh1" rel="nofollow">https://archive.ph/9Xmh1</a> , <a href="https://web.archive.org/web/20240518054131/github.com/termux/termux-packages/issues/19635" rel="nofollow">https://web.archive.org/web/20240518054131/github.com/termux/termux-packages/issues/19635</a>):</h3><a id="user-content-compile-usbredirect-use-modified-source-code-usbredirectc-in-httpsgithubcomtermuxtermux-packagesissues19635-httpsgithubcomtermuxtermux-packagesissues19635--httpsarchiveph9xmh1--httpswebarchiveorgweb20240518054131githubcomtermuxtermux-packagesissues19635" aria-label="Permalink: Compile usbredirect: Use &quot;Modified source code: usbredirect.c&quot; in https://github.com/termux/termux-packages/issues/19635 (https://github.com/termux/termux-packages/issues/19635 , https://archive.ph/9Xmh1 , https://web.archive.org/web/20240518054131/github.com/termux/termux-packages/issues/19635):" href="#compile-usbredirect-use-modified-source-code-usbredirectc-in-httpsgithubcomtermuxtermux-packagesissues19635-httpsgithubcomtermuxtermux-packagesissues19635--httpsarchiveph9xmh1--httpswebarchiveorgweb20240518054131githubcomtermuxtermux-packagesissues19635"></a></p>
<ul dir="auto">
<li>
<p dir="auto"><a href="https://mesonbuild.com/Getting-meson.html" rel="nofollow">https://mesonbuild.com/Getting-meson.html</a></p>
</li>
<li>
<p dir="auto"><a href="https://github.com/mesonbuild/meson/releases/tag/1.4.0">https://github.com/mesonbuild/meson/releases/tag/1.4.0</a></p>
</li>
<li>
<p dir="auto"><a href="https://github.com/mesonbuild/meson">https://github.com/mesonbuild/meson</a></p>
</li>
<li>
<p dir="auto"><a href="https://mesonbuild.com/Commands.html" rel="nofollow">https://mesonbuild.com/Commands.html</a></p>
</li>
<li>
<p dir="auto"><a href="https://spice-space.org/usbredir.html" rel="nofollow">https://spice-space.org/usbredir.html</a></p>
</li>
<li>
<p dir="auto">usbredir, Release 0.14.0: <a href="https://gitlab.freedesktop.org/spice/usbredir" rel="nofollow">https://gitlab.freedesktop.org/spice/usbredir</a> , <a href="https://gitlab.freedesktop.org/spice/usbredir/-/archive/main/usbredir-main.zip" rel="nofollow">https://gitlab.freedesktop.org/spice/usbredir/-/archive/main/usbredir-main.zip</a> , <a href="https://gitlab.freedesktop.org/spice/usbredir/-/archive/main/usbredir-main.tar.gz" rel="nofollow">https://gitlab.freedesktop.org/spice/usbredir/-/archive/main/usbredir-main.tar.gz</a></p>
</li>
</ul>
<p dir="auto">From The usbredirect Session:</p>
<pre><code>~/termux-qemu-usb $
~/termux-qemu-usb $ ls -1
meson-1.4.0.tar.gz
meson-1.4.0.zip
~/termux-qemu-usb $
~/termux-qemu-usb $ tar xf meson-1.4.0.tar.gz
~/termux-qemu-usb $
~/termux-qemu-usb $ pwd
/data/data/com.termux/files/home/termux-qemu-usb
~/termux-qemu-usb $
~/termux-qemu-usb $ ls -1
meson-1.4.0
meson-1.4.0.tar.gz
meson-1.4.0.zip
~/termux-qemu-usb $ tar xf usbredir-main.tar.gz
~/termux-qemu-usb $
~/termux-qemu-usb $ cd $HOME/termux-qemu-usb/usbredir-main
~/termux-qemu-usb/usbredir-main $ 
~/termux-qemu-usb/usbredir-main $ $HOME/termux-qemu-usb/meson-1.4.0/meson.py setup build
The Meson build system
Version: 1.4.0
Source dir: /data/data/com.termux/files/home/termux-qemu-usb/usbredir-main
Build dir: /data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/build
Build type: native build
Project name: usbredir
Project version: 0.14.0
C compiler for the host machine: cc (clang 17.0.6 "clang version 17.0.6")
C linker for the host machine: cc ld.lld 17.0.6
Host machine cpu family: arm
Host machine cpu: armv7l
Compiler for C supports arguments --param=ssp-buffer-size=4: YES
Compiler for C supports arguments -D_FORTIFY_SOURCE=2: YES
Compiler for C supports arguments -fstack-protector: YES
Checking if "visibility check" compiles: YES
Has header "inttypes.h" : YES
Has header "stdint.h" : YES
Has header "stdlib.h" : YES
Has header "strings.h" : YES
Has header "string.h" : YES
Has header "sys/stat.h" : YES
Has header "sys/types.h" : YES
Has header "unistd.h" : YES
Configuring config.h using configuration
Compiler for C supports link arguments -Wl,--version-script=/data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/usbredirparser/
usbredirparser.map: NO
Compiler for C supports link arguments -Wl,--no-undefined: YES
Compiler for C supports link arguments -Wl,-dead_strip: NO
Found pkg-config: YES (/data/data/com.termux/files/usr/bin/pkg-config) 0.29.2
Compiler for C supports link arguments -Wl,--version-script=/data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/usbredirhost/
usbredirhost.map: NO
Compiler for C supports link arguments -Wl,--no-undefined: YES (cached)
Compiler for C supports link arguments -Wl,-dead_strip: NO (cached)
Run-time dependency libusb-1.0 found: YES 1.0.26
Run-time dependency glib-2.0 found: YES 2.78.3
Run-time dependency gio-unix-2.0 found: YES 2.78.3
Dependency glib-2.0 found: YES 2.78.3 (cached)
Build targets in project: 6

usbredir 0.14.0
    prefix                      : /usr/local
    libusbredirparser.so version: 1.2.1 
    libusbredirhost.so version  : 1.0.3

Found ninja-1.11.1 at /data/data/com.termux/files/usr/bin/ninja
~/termux-qemu-usb/usbredir-main $
~/termux-qemu-usb/usbredir-main $ ls build/tools
usbredirect.p
~/termux-qemu-usb/usbredir-main $
~/termux-qemu-usb/usbredir-main $ ls -1
COPYING
COPYING.LIB
ChangeLog.md
README.md
TODO
build
build-aux
data
docs
fuzzing
meson.build
meson_options.txt
tests
tools
usbredirhost
usbredirparser
usbredirtestclient
~/termux-qemu-usb/usbredir-main $
~/termux-qemu-usb/usbredir-main $ cd $HOME/termux-qemu-usb/usbredir-main/tools
~/.../usbredir-main/tools $
~/.../usbredir-main/tools $ ls -1
meson.build
usbredirect.c
~/.../usbredir-main/tools $
~/.../usbredir-main/tools $ mv -vi usbredirect.c usbredirect.c-original
renamed 'usbredirect.c' -&gt; 'usbredirect.c-original'
~/.../usbredir-main/tools $
~/.../usbredir-main/tools $ cp -vi $HOME/termux-qemu-usb/usbredirect.c .
'/data/data/com.termux/files/home/termux-qemu-usb/usbredirect.c' -&gt; './usbredirect.c'
~/.../usbredir-main/tools $
~/.../usbredir-main/tools $ pwd
/data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/tools                    
~/.../usbredir-main/tools $
~/.../usbredir-main/tools $ head -3 usbredirect.c
#define FOR_TERMUX 1                                                                    
#ifdef THIS_IS_A_COMMENT
~/.../usbredir-main/tools $
~/.../usbredir-main/tools $ cd $HOME/termux-qemu-usb/usbredir-main/build
~/.../usbredir-main/build $
~/.../usbredir-main/build $ pwd
/data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/build
~/.../usbredir-main/build $ 
~/.../usbredir-main/build $ $HOME/termux-qemu-usb/meson-1.4.0/meson.py  compile
INFO: autodetecting backend as ninja
INFO: calculating backend command to run: /data/data/com.termux/files/usr/bin/ninja
[6/15] Compiling C object tools/usbredirect.p/usbredirect.c.o
../tools/usbredirect.c:605:1: warning: unused function 'open_usb_device' [-Wunused-function]
  605 | open_usb_device(redirect *self)
      | ^~~~~~~~~~~~~~~
1 warning generated.
[8/15] Generating symbol file usbredirpars...1.2.1.p/libusbredirparser.so.1.2.1.symbols WARNING: ['readelf'] not found. Relinking will always happen on source changes.
[15/15] Linking target tools/usbredirect                                                ~/.../usbredir-main/build $
~/.../usbredir-main/build $ ls -1 tools                                                 usbredirect
usbredirect.p                                                                           
~/.../usbredir-main/build $
~/.../usbredir-main/build $ termux-usb -l
[
  "/dev/bus/usb/001/003"
]
~/.../usbredir-main/build $
~/.../usbredir-main/build $ termux-usb -r /dev/bus/usb/001/003
Access granted.
~/termux-qemu-usb $
~/termux-qemu-usb $ termux-usb -e  "/data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/build/tools/usbredirect --device /dev/bus/usb/001/003 --as 127.0.0.1:10000" /dev/bus/usb/001/003


IN-MAIN-BEFORE-parse_opts argc = 6



IN-MAIN-BEFORE-parse_opts argv[0] = /data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/build/tools/usbredirect                                                      


IN-MAIN-BEFORE-parse_opts argv[1] = --device



IN-MAIN-BEFORE-parse_opts argv[2] = /dev/bus/usb/001/003



IN-MAIN-BEFORE-parse_opts argv[3] = --as



IN-MAIN-BEFORE-parse_opts argv[4] = 127.0.0.1:10000



IN-MAIN-BEFORE-parse_opts argv[5] = 7



IN-MAIN-BEFORE sscanf argc = 2



IN-MAIN-BEFORE sscanf argv[0] = /data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/build/tools/usbredirect



IN-MAIN-BEFORE sscanf argv[1] = 7



IN-MAIN-BEFORE sscanf argv[2] = (null)



IN-MAIN-BEFORE sscanf argv[3] = (null)



IN-MAIN-BEFORE sscanf argv[4] = (null)



IN-MAIN-BEFORE sscanf argv[5] = (null)

Vendor ID: 0718
Product ID: 7722
Manufacturer: Memorex
Product: USB Flash Drive
Serial No:

</code></pre>
<hr>
<p dir="auto"><h3 dir="auto">The QEMU Linux Server</h3><a id="user-content-the-qemu-linux-server" aria-label="Permalink: The QEMU Linux Server" href="#the-qemu-linux-server"></a></p>
<p dir="auto">From The qemu Session:</p>
<p dir="auto">Session Note-1: Add <a href="http://dl-cdn.alpinelinux.org/alpine/v3.20/main" rel="nofollow">http://dl-cdn.alpinelinux.org/alpine/v3.20/main</a> and <a href="http://dl-cdn.alpinelinux.org/alpine/v3.20/community" rel="nofollow">http://dl-cdn.alpinelinux.org/alpine/v3.20/community</a> to /etc/apk/repositories</p>
<p dir="auto">Session Note-1A: Missing "rc-status ; rc-update add rngd ; rc-service rngd start" after "apk add rng-tools" and before starting setup-alpine</p>
<p dir="auto">Session Note-2: Backup vmtest</p>
<pre><code>~/termux-qemu-usb $
~/termux-qemu-usb $ QEMU_SOCKET_FILENAME=$HOME/termux-qemu-usb/qemu.socket ; touch $QEMU_SOCKET_FILENAME ; VM=$HOME/termux-qemu-usb/vmtest ; ISO1=$HOME/termux-qemu-usb/alpine-virt-3.20.0-x86_64.iso ; ISO2=$HOME/termux-qemu-usb/alpine-extended-3.20.0-x86_64.iso ; qemu-system-x86_64 -m 1500M -machine q35 -smp 4 -device virtio-rng-pci -device pci-bridge,id=bridge0,chassis_nr=1  -nographic  -monitor unix:$QEMU_SOCKET_FILENAME,server,wait=off -serial mon:stdio -device ich9-usb-ehci1,id=ehci,addr=1d.7,multifunction=on  -device ich9-usb-uhci1,id=uhci-1,addr=1d.0,multifunction=on,masterbus=ehci.0,firstport=0  -device ich9-usb-uhci2,id=uhci-2,addr=1d.1,multifunction=on,masterbus=ehci.0,firstport=2  -device ich9-usb-uhci3,id=uhci-3,addr=1d.2,multifunction=on,masterbus=ehci.0,firstport=4  -drive if=none,id=iso1,readonly=on,format=raw,file=$ISO1 -device virtio-blk-pci,id=virt1,drive=iso1,bootindex=1  -drive if=none,id=iso2,readonly=on,format=raw,file=$ISO2 -device virtio-blk-pci,id=virt2,drive=iso2  -drive if=none,id=vm,format=raw,file=$VM -device virtio-blk-pci,id=vmvirt1,drive=vm    -virtfs local,security_model=none,id=termux,mount_tag=termux,path=/data/data/com.termux/files   -virtfs local,security_model=none,id=host,mount_tag=host,path=/storage/emulated/0/Download/usb1   -device virtio-serial  -device e1000,netdev=net0,mac=52:54:12:34:56:78  -netdev user,id=net0,ipv6=off,hostfwd=tcp:127.0.0.1:9080-:80,hostfwd=tcp:127.0.0.1:9022-:22



Welcome to Alpine Linux 3.19
Kernel 6.6.14-0-virt on an x86_64 (/dev/ttyS0)

localhost login: root
Welcome to Alpine!

The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.
See &lt;https://wiki.alpinelinux.org/&gt;.

You can setup the system with the command: setup-alpine

You may change this message by editing /etc/motd.

             
localhost:~#
localhost:~# setup-apkcache
Enter apk cache directory (or '?' or 'none') [/var/cache/apk]                                                                           
localhost:~#
localhost:~# apk add rng-tools cryptsetup coreutils util-linux e2fsprogs e2fsprogs-extra bash vim nano dosfstools tar usbutils iproute2 iproute2-ss pciutils ethtool wget lsof hwdata
(1/100) Installing ncurses-terminfo-base (6.4_p20231125-r0)
(2/100) Installing libncursesw (6.4_p20231125-r0)
(3/100) Installing readline (8.2.1-r2)
(4/100) Installing bash (5.2.21-r0)
Executing bash-5.2.21-r0.post-install
(5/100) Installing coreutils-env (9.4-r2)
(6/100) Installing coreutils-fmt (9.4-r2)
(7/100) Installing coreutils-sha512sum (9.4-r2)
(8/100) Installing libacl (2.3.1-r4)
(9/100) Installing libattr (2.5.1-r5)
(10/100) Installing skalibs (2.14.0.1-r0)
(11/100) Installing utmps-libs (0.1.2.2-r0)
(12/100) Installing coreutils (9.4-r2)
(13/100) Installing libblkid (2.39.3-r0)
(14/100) Installing argon2-libs (20190702-r5)
(15/100) Installing device-mapper-libs (2.03.23-r0)
(16/100) Installing json-c (0.17-r0)
(17/100) Installing libuuid (2.39.3-r0)
(18/100) Installing cryptsetup-libs (2.6.1-r8)
(19/100) Installing popt (1.19-r3)
(20/100) Installing cryptsetup (2.6.1-r8)
(21/100) Installing cryptsetup-openrc (2.6.1-r8)
(22/100) Installing dosfstools (4.2-r2)
(23/100) Installing libcom_err (1.47.0-r5)
(24/100) Installing e2fsprogs-libs (1.47.0-r5)
(25/100) Installing e2fsprogs (1.47.0-r5)
(26/100) Installing e2fsprogs-extra (1.47.0-r5)
(27/100) Installing libmnl (1.0.5-r2)
(28/100) Installing ethtool (6.6-r0)
(29/100) Installing ifupdown-ng-ethtool (0.12.1-r4)
(30/100) Installing hwdata-usb (0.377.2-r0)
(31/100) Installing hwdata-pci (0.377.2-r0)
(32/100) Installing hwdata-pnp (0.377.2-r0)
(33/100) Installing hwdata-net (0.377.2-r0)
(34/100) Installing hwdata (0.377.2-r0)
(35/100) Installing zstd-libs (1.5.5-r8)
(36/100) Installing libelf (0.190-r1)
(37/100) Installing iproute2-minimal (6.6.0-r0)
(38/100) Installing ifupdown-ng-iproute2 (0.12.1-r4)
(39/100) Installing libxtables (1.8.10-r3)
(40/100) Installing iproute2-tc (6.6.0-r0)
(41/100) Installing iproute2-ss (6.6.0-r0)
(42/100) Installing iproute2 (6.6.0-r0)
Executing iproute2-6.6.0-r0.post-install
(43/100) Installing lsof (4.99.0-r0)
(44/100) Installing nano (7.2-r1)
(45/100) Installing pciutils-libs (3.10.0-r0)
(46/100) Installing pciutils (3.10.0-r0)
(47/100) Installing jitterentropy-library (3.4.1-r0)
(48/100) Installing rng-tools (6.16-r3)
Executing rng-tools-6.16-r3.pre-install
(49/100) Installing rng-tools-openrc (6.16-r3)
(50/100) Installing tar (1.35-r2)
(51/100) Installing udev-init-scripts (35-r1)
(52/100) Installing udev-init-scripts-openrc (35-r1)
(53/100) Installing eudev-libs (3.2.14-r0)
(54/100) Installing xz-libs (5.4.5-r0)
(55/100) Installing kmod-libs (31-r2)
(56/100) Installing eudev (3.2.14-r0)
(57/100) Installing eudev-hwids (3.2.14-r0)
(58/100) Installing eudev-openrc (3.2.14-r0)
(59/100) Installing pkgconf (2.1.0-r0)
(60/100) Installing eudev-dev (3.2.14-r0)
(61/100) Installing libusb (1.0.26-r3)
(62/100) Installing libusb-dev (1.0.26-r3)
(63/100) Installing usbutils (017-r0)
(64/100) Installing util-linux (2.39.3-r0)
(65/100) Installing setarch (2.39.3-r0)
(66/100) Installing libfdisk (2.39.3-r0)
(67/100) Installing libmount (2.39.3-r0)
(68/100) Installing libsmartcols (2.39.3-r0)
(69/100) Installing util-linux-misc (2.39.3-r0)
(70/100) Installing libeconf (0.5.2-r2)
(71/100) Installing linux-pam (1.5.3-r7)
(72/100) Installing runuser (2.39.3-r0)
(73/100) Installing mount (2.39.3-r0)
(74/100) Installing losetup (2.39.3-r0)
(75/100) Installing hexdump (2.39.3-r0)
(76/100) Installing uuidgen (2.39.3-r0)
(77/100) Installing blkid (2.39.3-r0)
(78/100) Installing sfdisk (2.39.3-r0)
(79/100) Installing mcookie (2.39.3-r0)
(80/100) Installing agetty (2.39.3-r0)
(81/100) Installing agetty-openrc (0.52.1-r2)
(82/100) Installing wipefs (2.39.3-r0)
(83/100) Installing cfdisk (2.39.3-r0)
(84/100) Installing umount (2.39.3-r0)
(85/100) Installing util-linux-openrc (2.39.3-r0)
(86/100) Installing flock (2.39.3-r0)
(87/100) Installing lsblk (2.39.3-r0)
(88/100) Installing libcap-ng (0.8.3-r4)
(89/100) Installing setpriv (2.39.3-r0)
(90/100) Installing logger (2.39.3-r0)
(91/100) Installing partx (2.39.3-r0)
(92/100) Installing fstrim (2.39.3-r0)
(93/100) Installing findmnt (2.39.3-r0)
(94/100) Installing vim-common (9.0.2127-r0)
(95/100) Installing xxd (9.0.2127-r0)
(96/100) Installing vim (9.0.2127-r0)
(97/100) Installing libunistring (1.1-r2)
(98/100) Installing libidn2 (2.3.4-r4)
(99/100) Installing pcre2 (10.42-r2)
(100/100) Installing wget (1.21.4-r0)
Executing busybox-1.36.1-r15.trigger
Executing eudev-3.2.14-r0.trigger
Executing eudev-hwids-3.2.14-r0.trigger
OK: 80 MiB in 126 packages
localhost:~#
localhost:~# cat /etc/apk/repositories
/media/vda/apks
/media/vdb/apks
localhost:~#
localhost:~# vi /etc/apk/repositories
localhost:~# nano /etc/apk/repositories
localhost:~#
localhost:~# setup-alpine


 ALPINE LINUX INSTALL
----------------------

 Hostname
----------
Enter system hostname (fully qualified form, e.g. 'foo.example.org') [localhost]

 Interface
-----------
Available interfaces are: eth0.
Enter '?' for help on bridges, bonding and vlans.
Which one do you want to initialize? (or '?' or 'done') [eth0]
Ip address for eth0? (or 'dhcp', 'none', '?') [dhcp]
Do you want to do any manual network configuration? (y/n) [n]
udhcpc: started, v1.36.1
udhcpc: broadcasting discover
udhcpc: broadcasting select for 10.0.2.15, server 10.0.2.2
udhcpc: lease of 10.0.2.15 obtained from 10.0.2.2, lease time 86400

 Root Password
---------------
Changing password for root
New password:
Retype password:
passwd: password for root changed by root

 Timezone
----------
Africa/      Chile/   GB-Eire    Israel     Navajo     US/
America/     Cuba     GMT        Jamaica    PRC        UTC
Antarctica/  EET      GMT+0      Japan      PST8PDT    Universal
Arctic/      EST      GMT-0      Kwajalein  Pacific/   W-SU
Asia/        EST5EDT  GMT0       Libya      Poland     WET
Atlantic/    Egypt    Greenwich  MET        Portugal   Zulu
Australia/   Eire     HST        MST        ROC        leap-seconds.list
Brazil/      Etc/     Hongkong   MST7MDT    ROK        posixrules
CET          Europe/  Iceland    Mexico/    Singapore  right/
CST6CDT      Factory  Indian/    NZ         Turkey
Canada/      GB       Iran       NZ-CHAT    UCT

Which timezone are you in? [UTC]

 * Seeding random number generator ...
 * Saving 256 bits of creditable seed for next boot
 [ ok ]
 * Starting busybox acpid ...
 [ ok ]
 * Starting busybox crond ...
 [ ok ]

 Proxy
-------
HTTP/FTP proxy URL? (e.g. 'http://proxy:8080', or 'none') [none]

 Network Time Protocol
-----------------------
Which NTP client to run? ('busybox', 'openntpd', 'chrony' or 'none') [chrony] none

 APK Mirror
------------
 (f)    Find and use fastest mirror
 (s)    Show mirrorlist
 (r)    Use random mirror
 (e)    Edit /etc/apk/repositories with text editor
 (c)    Community repo enable
 (skip) Skip setting up apk repositories

Enter mirror number or URL: [1] skip


 User
------
Setup a user? (enter a lower-case loginname, or 'no') [no]
Which ssh server? ('openssh', 'dropbear' or 'none') [openssh]
Allow root ssh login? ('?' for help) [prohibit-password] ?
Valid options are:

  yes                root will be able to login with password or ssh key

  no                 root will not be allowed to login with ssh

  prohibit-password  root will be able to login with ssh key but not with
                     password
Allow root ssh login? ('?' for help) [prohibit-password] yes
Enter ssh key or URL for root (or 'none') [none]
 * service sshd added to runlevel default
 * Caching service dependencies ...
 [ ok ]
ssh-keygen: generating new host keys: RSA ECDSA ED25519
 * Starting sshd ...
 [ ok ]

 Disk &amp; Install
----------------
Available disks are:
  sr0   (0.0 GB QEMU     QEMU DVD-ROM    )
  vdc   (3.2 GB 0x1af4 )

Which disk(s) would you like to use? (or '?' for help or 'none') [none] vdc

The following disk is selected:
  vdc   (3.2 GB 0x1af4 )

How would you like to use it? ('sys', 'data', 'crypt', 'lvm' or '?' for help) [?] sys

WARNING: The following disk(s) will be erased:
  vdc   (3.2 GB 0x1af4 )

WARNING: Erase the above disk(s) and continue? (y/n) [n] y
Creating file systems...
Installing system on /dev/vdc3:
/mnt/boot is device /dev/vdc1
100% ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà==&gt; initramfs: creating /boot/initramfs-virt for 6.6.31-0-virt
/boot is device /dev/vdc1

Installation is complete. Please reboot.
localhost:~#
localhost:~# poweroff
localhost:~#
~/termux-qemu-usb $
~/termux-qemu-usb $ QEMU_SOCKET_FILENAME=$HOME/termux-qemu-usb/qemu.socket ; touch $QEMU_SOCKET_FILENAME ; VM=$HOME/termux-qemu-usb/vmtest ; qemu-system-x86_64 -m 1500M -machine q35 -smp 4 -device virtio-rng-pci -device pci-bridge,id=bridge0,chassis_nr=1 -nographic  -monitor unix:$QEMU_SOCKET_FILENAME,server,wait=off -serial mon:stdio -device ich9-usb-ehci1,id=ehci,addr=1d.7,multifunction=on  -device ich9-usb-uhci1,id=uhci-1,addr=1d.0,multifunction=on,masterbus=ehci.0,firstport=0  -device ich9-usb-uhci2,id=uhci-2,addr=1d.1,multifunction=on,masterbus=ehci.0,firstport=2  -device ich9-usb-uhci3,id=uhci-3,addr=1d.2,multifunction=on,masterbus=ehci.0,firstport=4   -drive if=none,id=vm,format=raw,file=$VM -device virtio-blk-pci,id=vmvirt1,drive=vm,bootindex=1     -virtfs local,security_model=none,id=host-all,mount_tag=host-all,path=/storage/emulated/0   -virtfs local,security_model=none,id=termux,mount_tag=termux,path=/data/data/com.termux/files   -virtfs local,security_model=none,id=host,mount_tag=host,path=/storage/emulated/0/Download/usb1   -device virtio-serial  -device e1000,netdev=net0,mac=52:54:12:34:56:78  -netdev user,id=net0,ipv6=off,hostfwd=tcp:127.0.0.1:9080-:80,hostfwd=tcp:127.0.0.1:9022-:22,hostfwd=tcp:127.0.0.1:9445-:445,hostfwd=:127.0.0.1:50021-:21,hostfwd=:127.0.0.1:50001-:50001,hostfwd=:127.0.0.1:50002-:50002,hostfwd=:127.0.0.1:50003-:50003,hostfwd=:127.0.0.1:50004-:50004,hostfwd=:127.0.0.1:50005-:50005,hostfwd=:127.0.0.1:50006-:50006,hostfwd=:127.0.0.1:50007-:50007,hostfwd=:127.0.0.1:50008-:50008,hostfwd=:127.0.0.1:50009-:50009,hostfwd=:127.0.0.1:50010-:50010,hostfwd=:127.0.0.1:50011-:50011,hostfwd=:127.0.0.1:50012-:50012,hostfwd=:127.0.0.1:50013-:50013,hostfwd=:127.0.0.1:50014-:50014,hostfwd=:127.0.0.1:50015-:50015,hostfwd=:127.0.0.1:50016-:50016,hostfwd=:127.0.0.1:50017-:50017,hostfwd=:127.0.0.1:50018-:50018,hostfwd=:127.0.0.1:50019-:50019,hostfwd=:127.0.0.1:50020-:50020

Welcome to Alpine Linux 3.19
Kernel 6.6.31-0-virt on an x86_64 (/dev/ttyS0)

localhost login:
</code></pre>
<p dir="auto">From The termux Session:</p>
<p dir="auto">Session Note-3: Backup vmtest again</p>
<pre><code>~/termux-qemu-usb $ 
~/termux-qemu-usb $ ssh root@127.0.0.1 -p 9022
The authenticity of host '[127.0.0.1]:9022 ([127.0.0.1]:9022)' can't be established.
ED25519 key fingerprint is SHA256:pTaQOdYI7fiw+AqwT5EFkm6JM4GqqaRafdfeIoiIu5g.
This key is not known by any other names.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '[127.0.0.1]:9022' (ED25519) to the list of known hosts.
root@127.0.0.1's password:                                                              Welcome to Alpine!                                                                                                                                                              The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.
See &lt;https://wiki.alpinelinux.org/&gt;.
You can setup the system with the command: setup-alpine
You may change this message by editing /etc/motd.
                                                                                                                                                                 localhost:~#
localhost:~# mkdir -p /media/host /media/termux /media/usb1 /media/usb2 /media/usb3 /media/usb4
localhost:~#
localhost:~# mount -t 9p -o trans=virtio,version=9p2000.L,msize=1048576 host /media/host
localhost:~#
localhost:~# mount -t 9p -o trans=virtio,version=9p2000.L,msize=1048576 termux /media/termux
localhost:~#
localhost:~# df -h
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs         10M     0   10M   0% /dev
shm             721M     0  721M   0% /dev/shm
/dev/vda3       1.9G  135M  1.7G   8% /
tmpfs           289M  128K  289M   1% /run
/dev/vda1       272M   24M  230M  10% /boot
tmpfs           721M     0  721M   0% /tmp
host            117G  107G  8.6G  93% /media/host
termux           24G   17G  6.7G  72% /media/termux
localhost:~#
localhost:~# cat /media/termux/home/add-packages.sh                                     apk add libpwquality linux-virt libpwquality-doc zstd zstd-doc pwgen sfdisk  dos2unix gptfdisk sgdisk parted zfs zfs-doc btrfs-progs btrfs-progs-extra btrbk btrfs-progs-doc rpm cifs-utils perl  perl-digest-sha3 perl-utils perl-doc miniperl perl-dev  bash-doc  haveged davfs2 f2fs-tools f2fs-tools-doc jfsutils   xfsprogs xfsprogs-extra xfsprogs-doc  lsof-doc   cpio whois  unzip     mount umount libarchive-tools libarchive-doc binutils binutils-doc sudo sshfs sharutils file apk-tools apk-tools-doc mandoc man-pages mandoc-apropos docs hdparm util-linux-misc util-linux-login fuse fuse-exfat fuse-exfat-utils fuse-exfat-doc  nfs-utils less smartmontools grep gawk sed utmps udisks2 udisks2-doc procps-ng  findutils ntfs-3g  ntfs-3g-progs xz  zip 7zip lvm2 mkinitfs grub grub-efi efibootmgr syslinux  net-tools      archivemount darkhttpd vsftpd vsftpd-doc socat curl ncurses shadow abuild samba  apache2 apache2-doc apache2-webdav apache2-utils apache2-ctl apache2-brotli apache2-dev apache2-error apache2-http2 apache2-icons apache2-ldap  apache2-lua  apache2-proxy apache2-proxy-html apache2-ssl nginx nginx-mod-http-fancyindex nginx-mod-http-upload  nginx-mod-http-upload-progress nginx-debug nginx-doc nginx-mod-devel-kit nginx-mod-http-accounting nginx-mod-http-array-var nginx-mod-http-auth-jwt nginx-mod-http-brotli nginx-mod-http-cache-purge nginx-mod-http-cookie-flag nginx-mod-http-dav-ext nginx-mod-http-echo nginx-mod-http-encrypted-session nginx-mod-http-geoip nginx-mod-http-geoip2 nginx-mod-http-headers-more nginx-mod-http-image-filter nginx-mod-http-js nginx-mod-http-keyval nginx-mod-http-log-zmq nginx-mod-http-lua nginx-mod-http-lua-upstream nginx-mod-http-naxsi nginx-mod-http-nchan nginx-mod-http-perl nginx-mod-http-redis2 nginx-mod-http-set-misc nginx-mod-http-shibboleth nginx-mod-http-untar nginx-mod-http-upstream-fair nginx-mod-http-upstream-jdomain nginx-mod-http-vod nginx-mod-http-vts nginx-mod-http-xslt-filter nginx-mod-http-zip nginx-mod-mail nginx-mod-rtmp nginx-mod-stream nginx-mod-stream-geoip nginx-mod-stream-geoip2 nginx-mod-stream-js nginx-mod-stream-keyval nginx-vim rng-tools cryptsetup coreutils util-linux e2fsprogs e2fsprogs-extra bash vim nano dosfstools tar usbutils iproute2 iproute2-ss pciutils ethtool wget lsof hwdata

localhost:~# /media/termux/home/add-packages.sh
(1/492) Installing libgcc (13.2.1_git20231014-r0)
(2/492) Installing libstdc++ (13.2.1_git20231014-r0)
(3/492) Installing 7zip (23.01-r0)
(4/492) Installing attr (2.5.1-r5)
(5/492) Installing libcap-getcap (2.69-r1)
(6/492) Installing fakeroot (1.32.1-r0)
(7/492) Installing lzip (1.23-r1)
(8/492) Installing patch (2.7.6-r10)
(9/492) Installing ca-certificates (20240226-r0)
(10/492) Installing brotli-libs (1.1.0-r1)
(11/492) Installing c-ares (1.27.0-r0)
(12/492) Installing nghttp2-libs (1.58.0-r0)
(13/492) Installing libcurl (8.5.0-r0)
(14/492) Installing curl (8.5.0-r0)
(15/492) Installing abuild (3.12.0-r0)
Executing abuild-3.12.0-r0.pre-install
(16/492) Installing apr (1.7.4-r0)
(17/492) Installing libexpat (2.6.2-r0)
(18/492) Installing apr-util (1.6.3-r1)
(19/492) Installing apache2 (2.4.59-r0)
Executing apache2-2.4.59-r0.pre-install                                                 
(20/492) Installing apache2-openrc (2.4.59-r0)
(21/492) Installing apache2-brotli (2.4.59-r0)
(22/492) Installing less (643-r2)
(23/492) Installing gzip (1.13-r0)
(24/492) Installing libintl (0.22.3-r0)
(25/492) Installing lynx (2.8.9_p1-r9)
(26/492) Installing apache2-ctl (2.4.59-r0)
(27/492) Installing libbz2 (1.0.8-r6)
(28/492) Installing perl (5.38.2-r0)
(29/492) Installing expat (2.6.2-r0)
(30/492) Installing expat-dev (2.6.2-r0)
(31/492) Installing gdbm (1.23-r1)
(32/492) Installing gdbm-tools (1.23-r1)
(33/492) Installing gdbm-dev (1.23-r1)
(34/492) Installing libpq (16.3-r0)
(35/492) Installing openssl-dev (3.1.5-r0)
(36/492) Installing libpq-dev (16.3-r0)
(37/492) Installing fmt (10.1.1-r0)
(38/492) Installing fmt-dev (10.1.1-r0)
(39/492) Installing zlib-dev (1.3.1-r0)
(40/492) Installing mariadb-connector-c (3.3.8-r0)
(41/492) Installing mariadb-connector-c-dev (3.3.8-r0)
(42/492) Installing mariadb-common (10.11.6-r0)
(43/492) Installing libaio (0.3.113-r2)
(44/492) Installing mariadb-embedded (10.11.6-r0)
(45/492) Installing mariadb-dev (10.11.6-r0)
(46/492) Installing libsasl (2.1.28-r5)
(47/492) Installing cyrus-sasl-dev (2.1.28-r5)
(48/492) Installing libffi (3.4.4-r3)
(49/492) Installing mpdecimal (2.5.1-r2)
(50/492) Installing libpanelw (6.4_p20231125-r0)
(51/492) Installing sqlite-libs (3.44.2-r0)
(52/492) Installing python3 (3.11.9-r0)
(53/492) Installing python3-pycache-pyc0 (3.11.9-r0)
(54/492) Installing pyc (3.11.9-r0)
(55/492) Installing python3-pyc (3.11.9-r0)
(56/492) Installing libevent (2.1.12-r7)
(57/492) Installing libevent-dev (2.1.12-r7)
(58/492) Installing libsodium (1.0.19-r0)
(59/492) Installing libsodium-dev (1.0.19-r0)
(60/492) Installing util-linux-dev (2.39.3-r0)
(61/492) Installing libldap (2.6.6-r1)
(62/492) Installing openldap-dev (2.6.6-r1)
(63/492) Installing sqlite (3.44.2-r0)
(64/492) Installing sqlite-dev (3.44.2-r0)
(65/492) Installing apr-dev (1.7.4-r0)
(66/492) Installing apr-util-dev (1.6.3-r1)
(67/492) Installing apache2-dev (2.4.59-r0)
(68/492) Installing apache2-doc (2.4.59-r0)
(69/492) Installing apache2-error (2.4.59-r0)
(70/492) Installing apache2-http2 (2.4.59-r0)
(71/492) Installing apache2-icons (2.4.59-r0)
(72/492) Installing apr-util-ldap (1.6.3-r1)
(73/492) Installing apache2-ldap (2.4.59-r0)
(74/492) Installing lua5.1-libs (5.1.5-r13)
(75/492) Installing apache2-lua (2.4.59-r0)
(76/492) Installing apache2-proxy (2.4.59-r0)
(77/492) Installing libxml2 (2.11.8-r0)
(78/492) Installing apache2-proxy-html (2.4.59-r0)
(79/492) Installing apache2-ssl (2.4.59-r0)
Executing apache2-ssl-2.4.59-r0.post-install
(80/492) Installing apache2-utils (2.4.59-r0)
(81/492) Installing apache2-webdav (2.4.59-r0)
(82/492) Installing apk-tools-doc (2.14.4-r0)
(83/492) Installing lz4-libs (1.9.4-r5)
(84/492) Installing libarchive (3.7.4-r0)
(85/492) Installing fuse-common (3.16.2-r0)
(86/492) Installing fuse-openrc (3.16.2-r0)
(87/492) Installing fuse (2.9.9-r5)
(88/492) Installing archivemount (0.9.1-r2)
(89/492) Installing bash-doc (5.2.21-r0)
(90/492) Installing jansson (2.14-r4)
(91/492) Installing binutils (2.41-r0)
(92/492) Installing binutils-doc (2.41-r0)
(93/492) Installing lzo (2.10-r5)
(94/492) Installing btrfs-progs (6.6.2-r0)
(95/492) Installing btrfs-progs-openrc (6.6.2-r0)
(96/492) Installing btrbk (0.32.6-r0)
(97/492) Installing btrfs-progs-doc (6.6.2-r0)
(98/492) Installing btrfs-progs-extra (6.6.2-r0)
(99/492) Installing krb5-conf (1.0-r2)
(100/492) Installing keyutils-libs (1.6.3-r3)
(101/492) Installing libverto (0.3.2-r2)
(102/492) Installing krb5-libs (1.21.2-r0)
(103/492) Installing talloc (2.4.2-r0)
(104/492) Installing libwbclient (4.18.9-r0)
(105/492) Installing cifs-utils (7.0-r2)
(106/492) Installing cpio (2.14-r0)
(107/492) Installing darkhttpd (1.14-r1)
Executing darkhttpd-1.14-r1.pre-install
(108/492) Installing darkhttpd-openrc (1.14-r1)
(109/492) Installing neon (0.32.5-r2)
(110/492) Installing davfs2 (1.6.1-r2)
Executing davfs2-1.6.1-r2.pre-install
(111/492) Installing mandoc (1.14.6-r12)
(112/492) Installing mandoc-doc (1.14.6-r12)
(113/492) Installing man-pages (6.05.01-r0)
(114/492) Installing docs (0.2-r6)
(115/492) Installing lzo-doc (2.10-r5)
(116/492) Installing lynx-doc (2.8.9_p1-r9)
(117/492) Installing less-doc (643-r2)
(118/492) Installing busybox-doc (1.36.1-r18)
(119/492) Installing davfs2-doc (1.6.1-r2)
(120/492) Installing cifs-utils-doc (7.0-r2)
(121/492) Installing fmt-doc (10.1.1-r0)
(122/492) Installing attr-doc (2.5.1-r5)
(123/492) Installing libffi-doc (3.4.4-r3)
(124/492) Installing gzip-doc (1.13-r0)
(125/492) Installing popt-doc (1.19-r3)
(126/492) Installing abuild-doc (3.12.0-r0)
(127/492) Installing mpdecimal-doc (2.5.1-r2)
(128/492) Installing gdbm-doc (1.23-r1)
(129/492) Installing 7zip-doc (23.01-r0)
(130/492) Installing ca-certificates-doc (20240226-r0)
(131/492) Installing fuse-doc (2.9.9-r5)
(132/492) Installing libarchive-doc (3.7.4-r0)
(133/492) Installing acct-doc (6.6.4-r2)
(134/492) Installing openssl-doc (3.1.5-r0)
(135/492) Installing pkgconf-doc (2.1.0-r0)
(136/492) Installing libaio-doc (0.3.113-r2)
(137/492) Installing openrc-doc (0.52.1-r2)
(138/492) Installing pcre2-doc (10.42-r2)
(139/492) Installing coreutils-doc (9.4-r2)
(140/492) Installing talloc-doc (2.4.2-r0)
(141/492) Installing sqlite-doc (3.44.2-r0)
(142/492) Installing tar-doc (1.35-r2)
(143/492) Installing cryptsetup-doc (2.6.1-r8)
(144/492) Installing libxml2-doc (2.11.8-r0)
(145/492) Installing patch-doc (2.7.6-r10)
(146/492) Installing neon-doc (0.32.5-r2)
(147/492) Installing ifupdown-ng-doc (0.12.1-r4)
(148/492) Installing expat-doc (2.6.2-r0)
(149/492) Installing cpio-doc (2.14-r0)
(150/492) Installing archivemount-doc (0.9.1-r2)
(151/492) Installing skalibs-doc (2.14.0.1-r0)
(152/492) Installing libidn2-doc (2.3.4-r4)
(153/492) Installing lzip-doc (1.23-r1)
(154/492) Installing perl-doc (5.38.2-r0)
(155/492) Installing zlib-doc (1.3.1-r0)
(156/492) Installing btrbk-doc (0.32.6-r0)
(157/492) Installing readline-doc (8.2.1-r2)
(158/492) Installing curl-doc (8.5.0-r0)
(159/492) Installing python3-doc (3.11.9-r0)
(160/492) Installing c-ares-doc (1.27.0-r0)
(161/492) Installing fakeroot-doc (1.32.1-r0)
(162/492) Installing libunistring-doc (1.1-r2)
(163/492) Installing json-c-doc (0.17-r0)
(164/492) Installing dos2unix (7.5.1-r0)
(165/492) Installing dos2unix-doc (7.5.1-r0)
(166/492) Installing dosfstools-doc (4.2-r2)
(167/492) Installing e2fsprogs-doc (1.47.0-r5)
(168/492) Installing efivar-libs (38-r4)
(169/492) Installing efibootmgr (18-r2)
(170/492) Installing efibootmgr-doc (18-r2)
(171/492) Installing ethtool-doc (6.6-r0)
(172/492) Installing f2fs-tools-libs (1.16.0-r3)
(173/492) Installing f2fs-tools (1.16.0-r3)
(174/492) Installing f2fs-tools-doc (1.16.0-r3)
(175/492) Installing libmagic (5.45-r1)
(176/492) Installing file (5.45-r1)
(177/492) Installing file-doc (5.45-r1)
(178/492) Installing findutils (4.9.0-r5)
(179/492) Installing findutils-doc (4.9.0-r5)
(180/492) Installing fuse3-libs (3.16.2-r0)
(181/492) Installing fuse-exfat (1.4.0-r1)
(182/492) Installing fuse-exfat-doc (1.4.0-r1)
(183/492) Installing fuse-exfat-utils (1.4.0-r1)
(184/492) Installing gawk (5.3.0-r0)
(185/492) Installing gawk-doc (5.3.0-r0)
(186/492) Installing gptfdisk (1.0.9-r4)
(187/492) Installing gptfdisk-doc (1.0.9-r4)
(188/492) Installing grep (3.11-r0)
(189/492) Installing grep-doc (3.11-r0)
(190/492) Installing kmod-doc (31-r2)
(191/492) Installing mkinitfs-doc (3.9.1-r0)
(192/492) Installing grub (2.06-r17)
(193/492) Installing grub-doc (2.06-r17)
(194/492) Installing grub-efi (2.06-r17)
(195/492) Installing haveged (1.9.18-r2)
(196/492) Installing haveged-openrc (1.9.18-r2)
(197/492) Installing haveged-doc (1.9.18-r2)
(198/492) Installing hdparm (9.65-r2)
(199/492) Installing hdparm-doc (9.65-r2)
(200/492) Installing iproute2-doc (6.6.0-r0)
(201/492) Installing jfsutils (1.1.15-r7)
(202/492) Installing jfsutils-doc (1.1.15-r7)
(203/492) Installing libarchive-tools (3.7.4-r0)
(204/492) Installing cracklib-words (2.9.11-r6)
(205/492) Installing cracklib (2.9.11-r6)
(206/492) Installing cracklib-doc (2.9.11-r6)
(207/492) Installing linux-pam-doc (1.5.3-r7)
(208/492) Installing libpwquality (1.4.5-r1)
(209/492) Installing libpwquality-doc (1.4.5-r1)
(210/492) Installing lsof-doc (4.99.0-r0)
(211/492) Installing device-mapper-event-libs (2.03.23-r0)
(212/492) Installing lvm2-libs (2.03.23-r0)
(213/492) Installing lvm2 (2.03.23-r0)
(214/492) Installing lvm2-openrc (2.03.23-r0)
(215/492) Installing lvm2-doc (2.03.23-r0)
(216/492) Installing mandoc-apropos (1.14.6-r12)
(217/492) Installing miniperl (5.38.2-r0)
(218/492) Installing nano-doc (7.2-r1)
(219/492) Installing ncurses (6.4_p20231125-r0)
(220/492) Installing ncurses-doc (6.4_p20231125-r0)
(221/492) Installing mii-tool (2.10-r3)
(222/492) Installing net-tools (2.10-r3)
(223/492) Installing net-tools-doc (2.10-r3)
(224/492) Installing libtirpc-conf (1.3.4-r0)
(225/492) Installing libtirpc (1.3.4-r0)
(226/492) Installing libtirpc-doc (1.3.4-r0)
(227/492) Installing rpcbind (1.2.6-r2)
Executing rpcbind-1.2.6-r2.pre-install
(228/492) Installing rpcbind-doc (1.2.6-r2)
(229/492) Installing rpcbind-openrc (1.2.6-r2)
(230/492) Installing libnfsidmap (2.6.4-r0)
(231/492) Installing nfs-utils (2.6.4-r0)
(232/492) Installing nfs-utils-doc (2.6.4-r0)
(233/492) Installing nfs-utils-openrc (2.6.4-r0)
(234/492) Installing pcre (8.45-r3)
(235/492) Installing pcre-doc (8.45-r3)
(236/492) Installing nginx (1.24.0-r16)
Executing nginx-1.24.0-r16.pre-install
Executing nginx-1.24.0-r16.post-install
(237/492) Installing nginx-openrc (1.24.0-r16)
(238/492) Installing nginx-doc (1.24.0-r16)
(239/492) Installing nginx-debug (1.24.0-r16)
(240/492) Installing nginx-mod-devel-kit (1.24.0-r16)
(241/492) Installing nginx-mod-http-accounting (1.24.0-r16)
(242/492) Installing nginx-mod-http-array-var (1.24.0-r16)
(243/492) Installing nginx-mod-http-auth-jwt (1.24.0-r16)
(244/492) Installing nginx-mod-http-brotli (1.24.0-r16)
(245/492) Installing nginx-mod-http-cache-purge (1.24.0-r16)
(246/492) Installing nginx-mod-http-cookie-flag (1.24.0-r16)
(247/492) Installing nginx-mod-http-dav-ext (1.24.0-r16)
(248/492) Installing nginx-mod-http-echo (1.24.0-r16)
(249/492) Installing nginx-mod-http-encrypted-session (1.24.0-r16)
(250/492) Installing nginx-mod-http-fancyindex (1.24.0-r16)
(251/492) Installing geoip (1.6.12-r5)
(252/492) Installing geoip-doc (1.6.12-r5)
(253/492) Installing nginx-mod-http-geoip (1.24.0-r16)
(254/492) Installing libmaxminddb-libs (1.7.1-r2)
(255/492) Installing nginx-mod-http-geoip2 (1.24.0-r16)
(256/492) Installing nginx-mod-http-headers-more (1.24.0-r16)
(257/492) Installing libxau (1.0.11-r3)
(258/492) Installing libxau-doc (1.0.11-r3)
(259/492) Installing libmd (1.1.0-r0)
(260/492) Installing libmd-doc (1.1.0-r0)
(261/492) Installing libbsd (0.11.7-r3)
(262/492) Installing libbsd-doc (0.11.7-r3)
(263/492) Installing libxdmcp (1.1.4-r3)
(264/492) Installing libxdmcp-doc (1.1.4-r3)
(265/492) Installing libxcb (1.16-r0)
(266/492) Installing libxcb-doc (1.16-r0)
(267/492) Installing libx11 (1.8.7-r0)
(268/492) Installing libx11-doc (1.8.7-r0)
(269/492) Installing libxext (1.3.5-r3)
(270/492) Installing libxext-doc (1.3.5-r3)
(271/492) Installing libice (1.1.1-r5)
(272/492) Installing libice-doc (1.1.1-r5)
(273/492) Installing libsm (1.2.4-r3)
(274/492) Installing libsm-doc (1.2.4-r3)
(275/492) Installing libxt (1.3.0-r4)
(276/492) Installing libxt-doc (1.3.0-r4)
(277/492) Installing libxpm (3.5.17-r0)
(278/492) Installing libxpm-doc (3.5.17-r0)
(279/492) Installing aom-libs (3.7.1-r0)
(280/492) Installing libdav1d (1.3.0-r1)
(281/492) Installing libsharpyuv (1.3.2-r0)
(282/492) Installing libavif (1.0.3-r0)
(283/492) Installing libpng (1.6.40-r0)
(284/492) Installing libpng-doc (1.6.40-r0)
(285/492) Installing freetype (2.13.2-r0)
(286/492) Installing freetype-doc (2.13.2-r0)
(287/492) Installing fontconfig (2.14.2-r4)
(288/492) Installing fontconfig-doc (2.14.2-r4)
(289/492) Installing libjpeg-turbo (3.0.1-r0)
(290/492) Installing libjpeg-turbo-doc (3.0.1-r0)
(291/492) Installing libwebp (1.3.2-r0)
(292/492) Installing libwebp-doc (1.3.2-r0)
(293/492) Installing tiff (4.6.0-r0)
(294/492) Installing tiff-doc (4.6.0-r0)
(295/492) Installing libgd (2.3.3-r8)
(296/492) Installing nginx-mod-http-image-filter (1.24.0-r16)
(297/492) Installing nginx-mod-http-js (1.24.0-r16)
(298/492) Installing hiredis (1.2.0-r0)
(299/492) Installing nginx-mod-http-keyval (1.24.0-r16)
(300/492) Installing nginx-mod-http-log-zmq (1.24.0-r16)
(301/492) Installing luajit (2.1_p20230410-r3)
(302/492) Installing luajit-doc (2.1_p20230410-r3)
(303/492) Installing lua-resty-lrucache (0.13-r1)
(304/492) Installing lua-resty-core (0.1.27-r0)
(305/492) Installing nginx-mod-http-lua (1.24.0-r16)
(306/492) Installing nginx-mod-http-lua-upstream (1.24.0-r16)
(307/492) Installing nginx-mod-http-naxsi (1.24.0-r16)
(308/492) Installing nginx-mod-http-nchan (1.24.0-r16)
(309/492) Installing nginx-mod-http-perl (1.24.0-r16)
(310/492) Installing nginx-mod-http-redis2 (1.24.0-r16)
(311/492) Installing nginx-mod-http-set-misc (1.24.0-r16)
(312/492) Installing nginx-mod-http-shibboleth (1.24.0-r16)
(313/492) Installing nginx-mod-http-untar (1.24.0-r16)
(314/492) Installing nginx-mod-http-upload (1.24.0-r16)
(315/492) Installing nginx-mod-http-upload-progress (1.24.0-r16)
(316/492) Installing nginx-mod-http-upstream-fair (1.24.0-r16)
(317/492) Installing nginx-mod-http-upstream-jdomain (1.24.0-r16)
(318/492) Installing nginx-mod-http-vod (1.24.0-r16)
(319/492) Installing nginx-mod-http-vts (1.24.0-r16)
(320/492) Installing libgpg-error (1.47-r2)
(321/492) Installing libgpg-error-doc (1.47-r2)
(322/492) Installing libgcrypt (1.10.3-r0)
(323/492) Installing libgcrypt-doc (1.10.3-r0)
(324/492) Installing libxslt (1.1.39-r0)
(325/492) Installing libxslt-doc (1.1.39-r0)
(326/492) Installing nginx-mod-http-xslt-filter (1.24.0-r16)
(327/492) Installing nginx-mod-http-zip (1.24.0-r16)
(328/492) Installing nginx-mod-mail (1.24.0-r16)
(329/492) Installing nginx-mod-rtmp (1.24.0-r16)
(330/492) Installing nginx-mod-stream (1.24.0-r16)
(331/492) Installing nginx-mod-stream-geoip (1.24.0-r16)
(332/492) Installing nginx-mod-stream-geoip2 (1.24.0-r16)
(333/492) Installing nginx-mod-stream-js (1.24.0-r16)
(334/492) Installing nginx-mod-stream-keyval (1.24.0-r16)
(335/492) Installing nginx-vim (1.24.0-r16)
(336/492) Installing ntfs-3g-libs (2022.10.3-r3)
(337/492) Installing ntfs-3g (2022.10.3-r3)
(338/492) Installing ntfs-3g-doc (2022.10.3-r3)
(339/492) Installing ntfs-3g-progs (2022.10.3-r3)
(340/492) Installing libedit-doc (20230828.3.1-r3)
(341/492) Installing openssh-doc (9.6_p1-r0)
(342/492) Installing parted (3.6-r2)
(343/492) Installing parted-doc (3.6-r2)
(344/492) Installing pciutils-doc (3.10.0-r0)
(345/492) Installing perl-utils (5.38.2-r0)
(346/492) Installing perl-dev (5.38.2-r0)
(347/492) Installing perl-digest-sha3 (1.05-r1)
(348/492) Installing perl-digest-sha3-doc (1.05-r1)
(349/492) Installing libproc2 (4.0.4-r0)
(350/492) Installing procps-ng (4.0.4-r0)
(351/492) Installing procps-ng-doc (4.0.4-r0)
(352/492) Installing pwgen (2.08-r3)
(353/492) Installing pwgen-doc (2.08-r3)
(354/492) Installing jitterentropy-library-doc (3.4.1-r0)
(355/492) Installing rng-tools-doc (6.16-r3)
(356/492) Installing musl-fts (1.2.7-r6)
(357/492) Installing libdw (0.190-r1)
(358/492) Installing libgomp (13.2.1_git20231014-r0)
(359/492) Installing lua5.4-libs (5.4.6-r1)
(360/492) Installing rpm (4.19.0-r0)
(361/492) Installing rpm-doc (4.19.0-r0)
(362/492) Installing samba-common (4.18.9-r0)
(363/492) Installing gmp (6.3.0-r0)
(364/492) Installing gmp-doc (6.3.0-r0)
(365/492) Installing nettle (3.9.1-r0)
(366/492) Installing libtasn1 (4.19.0-r2)
(367/492) Installing libtasn1-doc (4.19.0-r2)
(368/492) Installing p11-kit (0.25.3-r0)
(369/492) Installing p11-kit-doc (0.25.3-r0)
(370/492) Installing gnutls (3.8.4-r0)
(371/492) Installing gnutls-doc (3.8.4-r0)
(372/492) Installing tevent (0.15.0-r0)
(373/492) Installing samba-util-libs (4.18.9-r0)
(374/492) Installing lmdb (0.9.31-r0)
(375/492) Installing lmdb-doc (0.9.31-r0)
(376/492) Installing tdb-libs (1.4.9-r0)
(377/492) Installing ldb (2.7.2-r1)
(378/492) Installing ldb-doc (2.7.2-r1)
(379/492) Installing samba-libs (4.18.9-r0)
(380/492) Installing dbus-libs (1.14.10-r0)
(381/492) Installing avahi-libs (0.8-r16)
(382/492) Installing samba-common-server-libs (4.18.9-r0)
(383/492) Installing samba-client-libs (4.18.9-r0)
(384/492) Installing cups-libs (2.4.7-r0)
(385/492) Installing liburing (2.5-r1)
(386/492) Installing liburing-doc (2.5-r1)
(387/492) Installing samba-server (4.18.9-r0)
(388/492) Installing samba-server-openrc (4.18.9-r0)
(389/492) Installing libformw (6.4_p20231125-r0)
(390/492) Installing libsmbclient (4.18.9-r0)
(391/492) Installing samba-client (4.18.9-r0)
(392/492) Installing samba-common-tools (4.18.9-r0)
(393/492) Installing samba (4.18.9-r0)
(394/492) Installing samba-doc (4.18.9-r0)
(395/492) Installing sed (4.9-r2)
(396/492) Installing sed-doc (4.9-r2)
(397/492) Installing sgdisk (1.0.9-r4)
(398/492) Installing shadow (4.14.2-r0)
(399/492) Installing shadow-doc (4.14.2-r0)
(400/492) Installing bzip2 (1.0.8-r6)
(401/492) Installing bzip2-doc (1.0.8-r6)
(402/492) Installing xz (5.4.5-r0)
(403/492) Installing xz-doc (5.4.5-r0)
(404/492) Installing sharutils (4.15.2-r5)
(405/492) Installing sharutils-doc (4.15.2-r5)
(406/492) Installing smartmontools (7.4-r1)
(407/492) Installing smartmontools-openrc (7.4-r1)
(408/492) Installing smartmontools-doc (7.4-r1)
(409/492) Installing socat (1.8.0.0-r0)
(410/492) Installing socat-doc (1.8.0.0-r0)
(411/492) Installing fuse3 (3.16.2-r0)
(412/492) Installing fuse3-doc (3.16.2-r0)
(413/492) Installing glib (2.78.6-r0)
(414/492) Installing glib-doc (2.78.6-r0)
(415/492) Installing sshfs (3.7.3-r1)
(416/492) Installing sshfs-doc (3.7.3-r1)
(417/492) Installing sudo (1.9.15_p2-r0)
(418/492) Installing sudo-doc (1.9.15_p2-r0)
(419/492) Installing mtools-doc (4.0.43-r1)
(420/492) Installing syslinux-doc (6.04_pre1-r15)
(421/492) Installing dbus (1.14.10-r0)
Executing dbus-1.14.10-r0.pre-install
Executing dbus-1.14.10-r0.post-install
(422/492) Installing dbus-doc (1.14.10-r0)
(423/492) Installing dbus-openrc (1.14.10-r0)
(424/492) Installing dbus-daemon-launch-helper (1.14.10-r0)
(425/492) Installing libatasmart (0.19-r3)
(426/492) Installing libatasmart-doc (0.19-r3)
(427/492) Installing mpfr4 (4.2.1-r0)
(428/492) Installing mpfr4-doc (4.2.1-r0)
(429/492) Installing libbytesize (2.10-r2)
(430/492) Installing libbytesize-doc (2.10-r2)
(431/492) Installing ndctl-libs (78-r1)
(432/492) Installing nspr (4.35-r4)
(433/492) Installing nss (3.99-r0)
(434/492) Installing libnvme (1.6-r0)
(435/492) Installing libassuan (2.5.6-r1)
(436/492) Installing libassuan-doc (2.5.6-r1) 
(437/492) Installing pinentry (1.2.1-r1)
Executing pinentry-1.2.1-r1.post-install
(438/492) Installing pinentry-doc (1.2.1-r1)
(439/492) Installing gnupg-gpgconf (2.4.4-r0)
(440/492) Installing libksba (1.6.5-r0)
(441/492) Installing libksba-doc (1.6.5-r0)
(442/492) Installing npth (1.6-r4)
(443/492) Installing gnupg-dirmngr (2.4.4-r0)
(444/492) Installing gnupg-keyboxd (2.4.4-r0)
(445/492) Installing gpg (2.4.4-r0)
(446/492) Installing gpg-agent (2.4.4-r0)
(447/492) Installing gpgsm (2.4.4-r0)
(448/492) Installing gpgme (1.23.2-r0)
(449/492) Installing gpgme-doc (1.23.2-r0)
(450/492) Installing volume_key (0.3.12-r6)
(451/492) Installing volume_key-doc (0.3.12-r6)
(452/492) Installing libblockdev (3.0.4-r0)
(453/492) Installing libgudev (238-r0)
(454/492) Installing polkit-noelogind-libs (123-r0)
(455/492) Installing udisks2-libs (2.10.1-r0)
(456/492) Installing udisks2 (2.10.1-r0)
(457/492) Installing udisks2-doc (2.10.1-r0)
(458/492) Installing unzip (6.0-r14)
(459/492) Installing unzip-doc (6.0-r14)
(460/492) Installing eudev-doc (3.2.14-r0)
(461/492) Installing usbutils-doc (017-r0)
(462/492) Installing libeconf-doc (0.5.2-r2)
(463/492) Installing util-linux-doc (2.39.3-r0)
(464/492) Installing libcap-ng-doc (0.8.3-r4)
(465/492) Installing util-linux-login (2.39.3-r0)
(466/492) Installing util-linux-login-doc (2.39.3-r0)
(467/492) Installing s6-ipcserver (2.12.0.2-r0)
(468/492) Installing utmps (0.1.2.2-r0)
Executing utmps-0.1.2.2-r0.pre-install
(469/492) Installing utmps-doc (0.1.2.2-r0)
(470/492) Installing utmps-openrc (0.1.2.2-r0)
(471/492) Installing vim-doc (9.0.2127-r0)
(472/492) Installing vsftpd (3.0.5-r2)
Executing vsftpd-3.0.5-r2.pre-install
(473/492) Installing vsftpd-doc (3.0.5-r2)
(474/492) Installing vsftpd-openrc (3.0.5-r2)
(475/492) Installing wget-doc (1.21.4-r0)
(476/492) Installing whois (5.5.20-r0)
(477/492) Installing whois-doc (5.5.20-r0)
(478/492) Installing inih (57-r1)
(479/492) Installing userspace-rcu (0.14.0-r2)
(480/492) Installing userspace-rcu-doc (0.14.0-r2)
(481/492) Installing xfsprogs (6.5.0-r0)
(482/492) Installing xfsprogs-doc (6.5.0-r0)
(483/492) Installing xfsprogs-extra (6.5.0-r0)
(484/492) Installing zfs-libs (2.2.2-r0)
(485/492) Installing zfs (2.2.2-r0)
(486/492) Installing zfs-doc (2.2.2-r0)
(487/492) Installing zfs-openrc (2.2.2-r0)
(488/492) Installing zfs-virt (6.6.31-r0)
(489/492) Installing zip (3.0-r12)
(490/492) Installing zip-doc (3.0-r12)
(491/492) Installing zstd (1.5.5-r8)
(492/492) Installing zstd-doc (1.5.5-r8)
Executing busybox-1.36.1-r18.trigger
Executing ca-certificates-20240226-r0.trigger
Executing kmod-31-r2.trigger
Executing mkinitfs-3.9.1-r0.trigger
==&gt; initramfs: creating /boot/initramfs-virt for 6.6.31-0-virt
Executing grub-2.06-r17.trigger
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-virt
Found initrd image: /boot/initramfs-virt
Warning: os-prober will not be executed to detect other bootable partitions.
Systems on them will not be added to the GRUB boot configuration.
Check GRUB_DISABLE_OS_PROBER documentation entry.
done
Executing cracklib-2.9.11-r6.trigger
Executing mandoc-apropos-1.14.6-r12.trigger
Executing glib-2.78.6-r0.trigger
Executing dbus-1.14.10-r0.trigger
Executing eudev-3.2.14-r0.trigger                                                       
OK: 649 MiB in 637 packages
localhost:~#
localhost:~# chsh --shell /bin/bash root
localhost:~#                                                                            
localhost:~# echo  'HISTFILESIZE=1000000' &gt;&gt; /root/.bash_profile
localhost:~# echo  'HISTSIZE=1000000' &gt;&gt; /root/.bash_profile
localhost:~# 
localhost:~# exit
Connection to 127.0.0.1 closed.
~/termux-qemu-usb $

~/termux-qemu-usb $ ssh root@127.0.0.1 -p 9022
root@127.0.0.1's password: 
                                                             
Welcome to Alpine!

The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.                                        
See &lt;https://wiki.alpinelinux.org/&gt;.
You can setup the system with the command: setup-alpine

You may change this message by editing /etc/motd.

                                       
localhost:~# echo $SHELL
/bin/bash
localhost:~#
localhost:~# echo $HISTFILESIZE
1000000
localhost:~# echo $HISTSIZE
1000000
localhost:~# 
localhost:~# grep default_kernel_opts /etc/update-extlinux.conf
# default_kernel_opts
default_kernel_opts="quiet rootfstype=ext4"
localhost:~# 
localhost:~# cp -pvi /etc/update-extlinux.conf $HOME
'/etc/update-extlinux.conf' -&gt; '/root/update-extlinux.conf'
localhost:~# 
localhost:~# sed -i -e 's/^default_kernel_opts="quiet/default_kernel_opts="console=ttyS0,115200,8n1/' /etc/update-extlinux.conf
localhost:~# 
localhost:~# grep default_kernel_opts /etc/update-extlinux.conf
# default_kernel_opts
default_kernel_opts="console=ttyS0,115200,8n1 rootfstype=ext4"
localhost:~# 
localhost:~# update-extlinux
/boot is device /dev/vda1
localhost:~# 
localhost:~# cat /etc/modules
af_packet
ipv6
localhost:~#
localhost:~# cp -vip  /etc/modules /root
'/etc/modules' -&gt; '/root/modules'
localhost:~#
localhost:~# echo fuse &gt;&gt; /etc/modules
localhost:~#
localhost:~# cat /etc/modules
af_packet
ipv6
fuse
localhost:~# cp -pvi /etc/vsftpd/vsftpd.conf $HOME
'/etc/vsftpd/vsftpd.conf' -&gt; '/root/vsftpd.conf'
localhost:~# 
localhost:~# vi /etc/vsftpd/vsftpd.conf
localhost:~# nano /etc/vsftpd/vsftpd.conf

</code></pre>
<p dir="auto">vsftpd FTP Server: Add to /etc/vsftpd/vsftpd.conf</p>
<pre><code>anon_world_readable_only=NO
ftp_username=ftp
nopriv_user=ftp
anon_root=/media
seccomp_sandbox=NO
pasv_address=127.0.0.1
port_enable=YES
pasv_enable=YES
pasv_min_port=50001
pasv_max_port=50010
port_promiscuous=YES
connect_from_port_20=YES
anonymous_enable=YES
no_anon_password=YES
write_enable=YES
anon_other_write_enable=YES
anon_upload_enable=YES
anon_mkdir_write_enable=YES
ls_recurse_enable=YES
</code></pre>
<pre><code>localhost:~# rc-update add vsftpd
 * service vsftpd added to runlevel default
localhost:~#
localhost:~# rc-status
* Caching service dependencies ...
[ ok ]
Runlevel: default
 crond                               [  started  ]
 vsftpd                              [  stopped  ]
 acpid                               [  started  ]
 sshd                                [  started  ]
Dynamic Runlevel: hotplugged
Dynamic Runlevel: needed/wanted
 sysfs                               [  started  ] 
 udev                                [  started  ]
 fsck                                [  started  ]
 root                                [  started  ]
 localmount                          [  started  ]
 udev-settle                         [  started  ]
Dynamic Runlevel: manual
localhost:~#
localhost:~# poweroff
localhost:~# exit
logout
Connection to 127.0.0.1 closed.
~/termux-qemu-usb $
</code></pre>
<hr>
<p dir="auto">From The qemu Session: USB drive connected to the smartphone's USB-C (USB Type-C) 2.0 port</p>
<p dir="auto">Session Note-4: Start usbredirect before starting qemu-system-x86_64</p>
<pre><code>~/termux-qemu-usb $ QEMU_SOCKET_FILENAME=$HOME/termux-qemu-usb/qemu.socket ; touch $QEMU_SOCKET_FILENAME ; VM=$HOME/termux-qemu-usb/vmtest ; qemu-system-x86_64 -m 1500M -machine q35 -smp 4 -device virtio-rng-pci -device pci-bridge,id=bridge0,chassis_nr=1 -nographic  -monitor unix:$QEMU_SOCKET_FILENAME,server,wait=off -serial mon:stdio -device ich9-usb-ehci1,id=ehci,addr=1d.7,multifunction=on  -device ich9-usb-uhci1,id=uhci-1,addr=1d.0,multifunction=on,masterbus=ehci.0,firstport=0  -device ich9-usb-uhci2,id=uhci-2,addr=1d.1,multifunction=on,masterbus=ehci.0,firstport=2  -device ich9-usb-uhci3,id=uhci-3,addr=1d.2,multifunction=on,masterbus=ehci.0,firstport=4   -drive if=none,id=vm,format=raw,file=$VM -device virtio-blk-pci,id=vmvirt1,drive=vm,bootindex=1     -virtfs local,security_model=none,id=host-all,mount_tag=host-all,path=/storage/emulated/0   -virtfs local,security_model=none,id=termux,mount_tag=termux,path=/data/data/com.termux/files   -virtfs local,security_model=none,id=host,mount_tag=host,path=/storage/emulated/0/Download/usb1   -device virtio-serial  -device e1000,netdev=net0,mac=52:54:12:34:56:78  -netdev user,id=net0,ipv6=off,hostfwd=tcp:127.0.0.1:9080-:80,hostfwd=tcp:127.0.0.1:9022-:22,hostfwd=tcp:127.0.0.1:9445-:445,hostfwd=:127.0.0.1:50021-:21,hostfwd=:127.0.0.1:50001-:50001,hostfwd=:127.0.0.1:50002-:50002,hostfwd=:127.0.0.1:50003-:50003,hostfwd=:127.0.0.1:50004-:50004,hostfwd=:127.0.0.1:50005-:50005,hostfwd=:127.0.0.1:50006-:50006,hostfwd=:127.0.0.1:50007-:50007,hostfwd=:127.0.0.1:50008-:50008,hostfwd=:127.0.0.1:50009-:50009,hostfwd=:127.0.0.1:50010-:50010,hostfwd=:127.0.0.1:50011-:50011,hostfwd=:127.0.0.1:50012-:50012,hostfwd=:127.0.0.1:50013-:50013,hostfwd=:127.0.0.1:50014-:50014,hostfwd=:127.0.0.1:50015-:50015,hostfwd=:127.0.0.1:50016-:50016,hostfwd=:127.0.0.1:50017-:50017,hostfwd=:127.0.0.1:50018-:50018,hostfwd=:127.0.0.1:50019-:50019,hostfwd=:127.0.0.1:50020-:50020 -chardev socket,host=127.0.0.1,port=10000,id=usbredirchardev1   -device usb-redir,chardev=usbredirchardev1,id=usbredirdev1,debug=3


[    0.000000] Linux version 6.6.32-0-virt (buildozer@build-3-20-x86_64) (gcc (Alpine 13.2.1_git20240309) 13.2.1 20240309, GNU ld (GNU Binutils) 2.42) #1-Alpine SMP PREEMPT_DYNAMIC Fri, 24 May 2024 10:11:26 +0000
[    0.000000] Command line: BOOT_IMAGE=vmlinuz-virt root=UUID=ae7bb8b0-5180-432a-80a5-e4a3065e4684 modules=sd-mod,usb-storage,ext4 console=ttyS0,115200,8n1 rootfstype=ext4 initrd=initramfs-virt
[    0.000000] BIOS-provided physical RAM map:
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009fbff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009fc00-0x000000000009ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000000f0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000005dbd7fff] usable
[    0.000000] BIOS-e820: [mem 0x000000005dbd8000-0x000000005dbfffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000b0000000-0x00000000bfffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fed1c000-0x00000000fed1ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fffc0000-0x00000000ffffffff] reserved
[    0.000000] BIOS-e820: [mem 0x000000fd00000000-0x000000ffffffffff] reserved
[    0.000000] NX (Execute Disable) protection: active
[    0.000000] APIC: Static calls initialized
[    0.000000] SMBIOS 2.8 present.
[    0.000000] DMI: QEMU Standard PC (Q35 + ICH9, 2009), BIOS rel-1.16.2-0-gea1b7a073390-prebuilt.qemu.org 04/01/2014
[    0.000000] tsc: Fast TSC calibration failed
[    0.000000] last_pfn = 0x5dbd8 max_arch_pfn = 0x400000000
[    0.000000] MTRR map: 4 entries (3 fixed + 1 variable; max 19), built from 8 variable MTRRs
[    0.000000] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.000000] RAMDISK: [mem 0x5d3eb000-0x5dbd7fff]
[    0.000000] ACPI: Early table checksum verification disabled
[    0.000000] ACPI: RSDP 0x00000000000F5970 000014 (v00 BOCHS )
[    0.000000] ACPI: RSDT 0x000000005DBE3149 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.000000] ACPI: FACP 0x000000005DBE2F29 0000F4 (v03 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.000000] ACPI: DSDT 0x000000005DBE0040 002EE9 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.000000] ACPI: FACS 0x000000005DBE0000 000040
[    0.000000] ACPI: APIC 0x000000005DBE301D 000090 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.000000] ACPI: HPET 0x000000005DBE30AD 000038 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.000000] ACPI: MCFG 0x000000005DBE30E5 00003C (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.000000] ACPI: WAET 0x000000005DBE3121 000028 (v01 BOCHS  BXPC     00000001 BXPC 00000001)
[    0.000000] ACPI: Reserving FACP table memory at [mem 0x5dbe2f29-0x5dbe301c]
[    0.000000] ACPI: Reserving DSDT table memory at [mem 0x5dbe0040-0x5dbe2f28]
[    0.000000] ACPI: Reserving FACS table memory at [mem 0x5dbe0000-0x5dbe003f]
[    0.000000] ACPI: Reserving APIC table memory at [mem 0x5dbe301d-0x5dbe30ac]
[    0.000000] ACPI: Reserving HPET table memory at [mem 0x5dbe30ad-0x5dbe30e4]
[    0.000000] ACPI: Reserving MCFG table memory at [mem 0x5dbe30e5-0x5dbe3120]
[    0.000000] ACPI: Reserving WAET table memory at [mem 0x5dbe3121-0x5dbe3148]
[    0.000000] Zone ranges:
[    0.000000]   DMA      [mem 0x0000000000001000-0x0000000000ffffff]
[    0.000000]   DMA32    [mem 0x0000000001000000-0x000000005dbd7fff]
[    0.000000]   Normal   empty
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x0000000000001000-0x000000000009efff]
[    0.000000]   node   0: [mem 0x0000000000100000-0x000000005dbd7fff]
[    0.000000] Initmem setup node 0 [mem 0x0000000000001000-0x000000005dbd7fff]
[    0.000000] On node 0, zone DMA: 1 pages in unavailable ranges
[    0.000000] On node 0, zone DMA: 97 pages in unavailable ranges
[    0.000000] On node 0, zone DMA32: 9256 pages in unavailable ranges
[    0.000000] ACPI: PM-Timer IO Port: 0x608
[    0.000000] ACPI: LAPIC_NMI (acpi_id[0xff] dfl dfl lint[0x1])
[    0.000000] IOAPIC[0]: apic_id 0, version 32, address 0xfec00000, GSI 0-23
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 0 global_irq 2 dfl dfl)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 5 global_irq 5 high level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 9 global_irq 9 high level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 10 global_irq 10 high level)
[    0.000000] ACPI: INT_SRC_OVR (bus 0 bus_irq 11 global_irq 11 high level)
[    0.000000] ACPI: Using ACPI (MADT) for SMP configuration information
[    0.000000] ACPI: HPET id: 0x8086a201 base: 0xfed00000
[    0.000000] smpboot: Allowing 4 CPUs, 0 hotplug CPUs
[    0.000000] [mem 0x5dc00000-0xafffffff] available for PCI devices
[    0.000000] Booting paravirtualized kernel on bare hardware
[    0.000000] clocksource: refined-jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    0.000000] setup_percpu: NR_CPUS:256 nr_cpumask_bits:4 nr_cpu_ids:4 nr_node_ids:1
[    0.000000] percpu: Embedded 57 pages/cpu s195560 r8192 d29720 u524288
[    0.000000] Kernel command line: BOOT_IMAGE=vmlinuz-virt root=UUID=ae7bb8b0-5180-432a-80a5-e4a3065e4684 modules=sd-mod,usb-storage,ext4 console=ttyS0,115200,8n1 rootfstype=ext4 initrd=initramfs-virt
[    0.000000] Unknown kernel command line parameters "BOOT_IMAGE=vmlinuz-virt modules=sd-mod,usb-storage,ext4", will be passed to user space.
[    0.000000] Dentry cache hash table entries: 262144 (order: 9, 2097152 bytes, linear)
[    0.000000] Inode-cache hash table entries: 131072 (order: 8, 1048576 bytes, linear)
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 377704
[    0.000000] mem auto-init: stack:all(zero), heap alloc:on, heap free:off
[    0.000000] Memory: 1460596K/1535448K available (14336K kernel code, 1799K rwdata, 8232K rodata, 2688K init, 2040K bss, 74592K reserved, 0K cma-reserved)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1
[    0.000000] Dynamic Preempt: none
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU restricting CPUs from NR_CPUS=256 to nr_cpu_ids=4.
[    0.000000] 	Trampoline variant of Tasks RCU enabled.
[    0.000000] 	Tracing variant of Tasks RCU enabled.
[    0.000000] rcu: RCU calculated value of scheduler-enlistment delay is 10 jiffies.
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=4
[    0.000000] NR_IRQS: 16640, nr_irqs: 456, preallocated irqs: 16
[    0.000000] rcu: srcu_init: Setting srcu_struct sizes based on contention.
[    0.000000] kfence: initialized - using 2097152 bytes for 255 objects at 0x(____ptrval____)-0x(____ptrval____)
[    0.000000] Console: colour VGA+ 80x25
[    0.000000] printk: console [ttyS0] enabled
[    0.000000] ACPI: Core revision 20230628
[    0.000000] clocksource: hpet: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604467 ns
[    0.040000] APIC: Switch to symmetric I/O mode setup
[    0.100000] ..TIMER: vector=0x30 apic1=0 pin1=2 apic2=-1 pin2=-1
[    0.190000] tsc: Unable to calibrate against PIT
[    0.190000] tsc: using HPET reference calibration
[    0.200000] tsc: Detected 1000.033 MHz processor
[    0.008014] tsc: Marking TSC unstable due to TSCs unsynchronized
[    0.025292] Calibrating delay loop (skipped), value calculated using timer frequency.. 2000.06 BogoMIPS (lpj=10000330)
[    0.044021] process: using AMD E400 aware idle routine
[    0.047920] Last level iTLB entries: 4KB 512, 2MB 255, 4MB 127
[    0.049864] Last level dTLB entries: 4KB 512, 2MB 255, 4MB 127, 1GB 0
[    0.057207] Spectre V1 : Mitigation: usercopy/swapgs barriers and __user pointer sanitization
[    0.063251] Spectre V2 : Mitigation: Retpolines
[    0.065044] Spectre V2 : Spectre v2 / SpectreRSB mitigation: Filling RSB on context switch
[    0.067524] Spectre V2 : Spectre v2 / SpectreRSB : Filling RSB on VMEXIT
[    0.104723] x86/fpu: x87 FPU will use FXSAVE
[    1.968068] Freeing SMP alternatives memory: 32K
[    1.982960] pid_max: default: 32768 minimum: 301
[    2.103668] LSM: initializing lsm=lockdown,capability,landlock,integrity
[    2.179701] landlock: Up and running.
[    2.247567] Mount-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    2.251860] Mountpoint-cache hash table entries: 4096 (order: 3, 32768 bytes, linear)
[    2.841503] smpboot: CPU0: AMD QEMU Virtual CPU version 2.5+ (family: 0xf, model: 0x6b, stepping: 0x1)
[    2.998575] RCU Tasks: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1.
[    3.005625] RCU Tasks Trace: Setting shift to 2 and lim to 1 rcu_task_cb_adjust=1.
[    3.017823] Performance Events: PMU not available due to virtualization, using software events only.
[    3.036509] signal: max sigframe size: 1440
[    3.057641] rcu: Hierarchical SRCU implementation.
[    3.059657] rcu: 	Max phase no-delay instances is 1000.
[    3.189412] NMI watchdog: Perf NMI watchdog permanently disabled
[    3.237608] smp: Bringing up secondary CPUs ...
[    3.313150] smpboot: x86: Booting SMP configuration:
[    3.315022] .... node  #0, CPUs:      #1 #2 #3
[    0.000000] calibrate_delay_direct() failed to get a good estimate for loops_per_jiffy.
[    0.000000] Probably due to long platform interrupts. Consider using "lpj=" boot option.
[    4.362811] smp: Brought up 1 node, 4 CPUs
[    4.365568] smpboot: Max logical packages: 1
[    4.369146] ----------------
[    4.370607] | NMI testsuite:
[    4.371836] --------------------
[    4.373744]   remote IPI:
[    4.371503] INFO: NMI handler (nmi_cpu_backtrace_handler) took too long to run: 5.411 msecs
[    4.381503] INFO: NMI handler (nmi_cpu_backtrace_handler) took too long to run: 5.594 msecs
[    4.418585]   ok  |
[    4.420587]    local IPI:  ok  |
[    4.424841] --------------------
[    4.426076] Good, all   2 testcases passed! |
[    4.428313] ---------------------------------
[    4.431721] smpboot: Total of 4 processors activated (8044.39 BogoMIPS)
[    4.798912] devtmpfs: initialized
[    4.893682] x86/mm: Memory block size: 128MB
[    5.103809] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns
[    5.121799] futex hash table entries: 1024 (order: 4, 65536 bytes, linear)
[    5.459814] NET: Registered PF_NETLINK/PF_ROUTE protocol family
[    5.534516] audit: initializing netlink subsys (disabled)
[    5.583874] audit: type=2000 audit(1716906943.760:1): state=initialized audit_enabled=0 res=1
[    5.637377] thermal_sys: Registered thermal governor 'step_wise'
[    5.645060] cpuidle: using governor ladder
[    5.652440] cpuidle: using governor menu
[    5.688926] acpiphp: ACPI Hot Plug PCI Controller Driver version: 0.5
[    5.775494] PCI: MMCONFIG for domain 0000 [bus 00-ff] at [mem 0xb0000000-0xbfffffff] (base 0xb0000000)
[    5.793521] PCI: MMCONFIG at [mem 0xb0000000-0xbfffffff] reserved as E820 entry
[    5.826325] PCI: Using configuration type 1 for base access
[    5.873401] mtrr: your CPUs had inconsistent fixed MTRR settings
[    5.875474] mtrr: your CPUs had inconsistent variable MTRR settings
[    5.878986] mtrr: your CPUs had inconsistent MTRRdefType settings
[    5.887709] mtrr: probably your BIOS does not setup all CPUs.
[    5.890055] mtrr: corrected configuration.
[    5.950560] kprobes: kprobe jump-optimization is enabled. All kprobes are optimized if possible.
[    6.083576] HugeTLB: registered 2.00 MiB page size, pre-allocated 0 pages
[    6.091715] HugeTLB: 28 KiB vmemmap can be freed for a 2.00 MiB page
[    6.504218] ACPI: Added _OSI(Module Device)
[    6.506060] ACPI: Added _OSI(Processor Device)
[    6.514112] ACPI: Added _OSI(3.0 _SCP Extensions)
[    6.515574] ACPI: Added _OSI(Processor Aggregator Device)
[    7.219873] ACPI: 1 ACPI AML tables successfully acquired and loaded
[    7.508803] ACPI: _OSC evaluation for CPUs failed, trying _PDC
[    7.552637] ACPI: Interpreter enabled
[    7.573372] ACPI: PM: (supports S0 S3 S5)
[    7.576361] ACPI: Using IOAPIC for interrupt routing
[    7.605092] PCI: Using host bridge windows from ACPI; if necessary, use "pci=nocrs" and report a bug
[    7.610009] PCI: Using E820 reservations for host bridge windows
[    7.641503] ACPI: Enabled 2 GPEs in block 00 to 3F
[    8.421678] ACPI: PCI Root Bridge [PCI0] (domain 0000 [bus 00-ff])
[    8.431972] acpi PNP0A08:00: _OSC: OS supports [ExtendedConfig ASPM ClockPM Segments MSI HPX-Type3]
[    8.454921] acpi PNP0A08:00: _OSC: platform does not support [PCIeHotplug LTR]
[    8.484211] acpi PNP0A08:00: _OSC: OS now controls [PME PCIeCapability]
[    8.584268] PCI host bridge to bus 0000:00
[    8.594245] pci_bus 0000:00: root bus resource [io  0x0000-0x0cf7 window]
[    8.594245] pci_bus 0000:00: root bus resource [io  0x0d00-0xffff window]
[    8.601811] pci_bus 0000:00: root bus resource [mem 0x000a0000-0x000bffff window]
[    8.601918] pci_bus 0000:00: root bus resource [mem 0x5dc00000-0xafffffff window]
[    8.604061] pci_bus 0000:00: root bus resource [mem 0xc0000000-0xfebfffff window]
[    8.615470] pci_bus 0000:00: root bus resource [mem 0x100000000-0x8ffffffff window]
[    8.615470] pci_bus 0000:00: root bus resource [bus 00-ff]
[    8.644186] pci 0000:00:00.0: [8086:29c0] type 00 class 0x060000
[    8.731853] pci 0000:00:01.0: [1234:1111] type 00 class 0x030000
[    8.753726] pci 0000:00:01.0: reg 0x10: [mem 0xfd000000-0xfdffffff pref]
[    8.802776] pci 0000:00:01.0: reg 0x18: [mem 0xfea70000-0xfea70fff]
[    8.882036] pci 0000:00:01.0: reg 0x30: [mem 0xfea60000-0xfea6ffff pref]
[    8.893451] pci 0000:00:01.0: Video device with shadowed ROM at [mem 0x000c0000-0x000dffff]
[    8.915574] pci 0000:00:02.0: [1af4:1005] type 00 class 0x00ff00
[    8.932025] pci 0000:00:02.0: reg 0x10: [io  0xd180-0xd19f]
[    8.971834] pci 0000:00:02.0: reg 0x14: [mem 0xfea71000-0xfea71fff]
[    9.041938] pci 0000:00:02.0: reg 0x20: [mem 0xfe200000-0xfe203fff 64bit pref]
[    9.075045] pci 0000:00:03.0: [1b36:0001] type 01 class 0x060400
[    9.111937] pci 0000:00:03.0: reg 0x10: [mem 0xfea72000-0xfea720ff 64bit]
[    9.184433] pci 0000:00:04.0: [1af4:1001] type 00 class 0x010000
[    9.202110] pci 0000:00:04.0: reg 0x10: [io  0xd000-0xd07f]
[    9.221874] pci 0000:00:04.0: reg 0x14: [mem 0xfea73000-0xfea73fff]
[    9.306273] pci 0000:00:04.0: reg 0x20: [mem 0xfe204000-0xfe207fff 64bit pref]
[    9.334509] pci 0000:00:05.0: [1af4:1009] type 00 class 0x000200
[    9.354647] pci 0000:00:05.0: reg 0x10: [io  0xd080-0xd0bf]
[    9.401891] pci 0000:00:05.0: reg 0x14: [mem 0xfea74000-0xfea74fff]
[    9.481337] pci 0000:00:05.0: reg 0x20: [mem 0xfe208000-0xfe20bfff 64bit pref]
[    9.514340] pci 0000:00:06.0: [1af4:1009] type 00 class 0x000200
[    9.531903] pci 0000:00:06.0: reg 0x10: [io  0xd1a0-0xd1bf]
[    9.552074] pci 0000:00:06.0: reg 0x14: [mem 0xfea75000-0xfea75fff]
[    9.612456] pci 0000:00:06.0: reg 0x20: [mem 0xfe20c000-0xfe20ffff 64bit pref]
[    9.675204] pci 0000:00:07.0: [1af4:1009] type 00 class 0x000200
[    9.702130] pci 0000:00:07.0: reg 0x10: [io  0xd1c0-0xd1df]
[    9.722009] pci 0000:00:07.0: reg 0x14: [mem 0xfea76000-0xfea76fff]
[    9.792194] pci 0000:00:07.0: reg 0x20: [mem 0xfe210000-0xfe213fff 64bit pref]
[    9.834319] pci 0000:00:08.0: [1af4:1003] type 00 class 0x078000
[    9.861903] pci 0000:00:08.0: reg 0x10: [io  0xd0c0-0xd0ff]
[    9.901890] pci 0000:00:08.0: reg 0x14: [mem 0xfea77000-0xfea77fff]
[    9.971705] pci 0000:00:08.0: reg 0x20: [mem 0xfe214000-0xfe217fff 64bit pref]
[   10.024405] pci 0000:00:09.0: [8086:100e] type 00 class 0x020000
[   10.041930] pci 0000:00:09.0: reg 0x10: [mem 0xfea40000-0xfea5ffff]
[   10.061933] pci 0000:00:09.0: reg 0x14: [io  0xd100-0xd13f]
[   10.169762] pci 0000:00:09.0: reg 0x30: [mem 0xfea00000-0xfea3ffff pref]
[   10.184273] pci 0000:00:1d.0: [8086:2934] type 00 class 0x0c0300
[   10.252007] pci 0000:00:1d.0: reg 0x20: [io  0xd1e0-0xd1ff]
[   10.296955] pci 0000:00:1d.1: [8086:2935] type 00 class 0x0c0300
[   10.344627] pci 0000:00:1d.1: reg 0x20: [io  0xd200-0xd21f]
[   10.394483] pci 0000:00:1d.2: [8086:2936] type 00 class 0x0c0300
[   10.448924] pci 0000:00:1d.2: reg 0x20: [io  0xd220-0xd23f]
[   10.504331] pci 0000:00:1d.7: [8086:293a] type 00 class 0x0c0320
[   10.512020] pci 0000:00:1d.7: reg 0x10: [mem 0xfea78000-0xfea78fff]
[   10.604692] pci 0000:00:1f.0: [8086:2918] type 00 class 0x060100
[   10.614449] pci 0000:00:1f.0: quirk: [io  0x0600-0x067f] claimed by ICH6 ACPI/GPIO/TCO
[   10.634342] pci 0000:00:1f.2: [8086:2922] type 00 class 0x010601
[   10.750339] pci 0000:00:1f.2: reg 0x20: [io  0xd240-0xd25f]
[   10.771994] pci 0000:00:1f.2: reg 0x24: [mem 0xfea79000-0xfea79fff]
[   10.814368] pci 0000:00:1f.3: [8086:2930] type 00 class 0x0c0500
[   10.881933] pci 0000:00:1f.3: reg 0x20: [io  0x0700-0x073f]
[   10.942255] pci_bus 0000:01: extended config space not accessible
[   11.004312] acpiphp: Slot [0] registered
[   11.006770] acpiphp: Slot [1] registered
[   11.015216] acpiphp: Slot [2] registered
[   11.016064] acpiphp: Slot [3] registered
[   11.026274] acpiphp: Slot [4] registered
[   11.035049] acpiphp: Slot [5] registered
[   11.036276] acpiphp: Slot [6] registered
[   11.044973] acpiphp: Slot [7] registered
[   11.044973] acpiphp: Slot [8] registered
[   11.056321] acpiphp: Slot [9] registered
[   11.056321] acpiphp: Slot [10] registered
[   11.064537] acpiphp: Slot [11] registered
[   11.064537] acpiphp: Slot [12] registered
[   11.067098] acpiphp: Slot [13] registered
[   11.074404] acpiphp: Slot [14] registered
[   11.074941] acpiphp: Slot [15] registered
[   11.081830] acpiphp: Slot [16] registered
[   11.083085] acpiphp: Slot [17] registered
[   11.086601] acpiphp: Slot [18] registered
[   11.094894] acpiphp: Slot [19] registered
[   11.094894] acpiphp: Slot [20] registered
[   11.101808] acpiphp: Slot [21] registered
[   11.103549] acpiphp: Slot [22] registered
[   11.114409] acpiphp: Slot [23] registered
[   11.114409] acpiphp: Slot [24] registered
[   11.121850] acpiphp: Slot [25] registered
[   11.123029] acpiphp: Slot [26] registered
[   11.126651] acpiphp: Slot [27] registered
[   11.136421] acpiphp: Slot [28] registered
[   11.144530] acpiphp: Slot [29] registered
[   11.144530] acpiphp: Slot [30] registered
[   11.154548] acpiphp: Slot [31] registered
[   11.154548] pci 0000:00:03.0: PCI bridge to [bus 01]
[   11.164304] pci 0000:00:03.0:   bridge window [io  0xc000-0xcfff]
[   11.164304] pci 0000:00:03.0:   bridge window [mem 0xfe800000-0xfe9fffff]
[   11.165073] pci 0000:00:03.0:   bridge window [mem 0xfe000000-0xfe1fffff 64bit pref]
[   11.264292] ACPI: PCI: Interrupt link LNKA configured for IRQ 10
[   11.284345] ACPI: PCI: Interrupt link LNKB configured for IRQ 10
[   11.294310] ACPI: PCI: Interrupt link LNKC configured for IRQ 11
[   11.304278] ACPI: PCI: Interrupt link LNKD configured for IRQ 11
[   11.314296] ACPI: PCI: Interrupt link LNKE configured for IRQ 10
[   11.325224] ACPI: PCI: Interrupt link LNKF configured for IRQ 10
[   11.334244] ACPI: PCI: Interrupt link LNKG configured for IRQ 11
[   11.345490] ACPI: PCI: Interrupt link LNKH configured for IRQ 11
[   11.356280] ACPI: PCI: Interrupt link GSIA configured for IRQ 16
[   11.364670] ACPI: PCI: Interrupt link GSIB configured for IRQ 17
[   11.364670] ACPI: PCI: Interrupt link GSIC configured for IRQ 18
[   11.375129] ACPI: PCI: Interrupt link GSID configured for IRQ 19
[   11.375241] ACPI: PCI: Interrupt link GSIE configured for IRQ 20
[   11.384711] ACPI: PCI: Interrupt link GSIF configured for IRQ 21
[   11.385281] ACPI: PCI: Interrupt link GSIG configured for IRQ 22
[   11.395014] ACPI: PCI: Interrupt link GSIH configured for IRQ 23
[   11.484383] iommu: Default domain type: Translated
[   11.491901] iommu: DMA domain TLB invalidation policy: lazy mode
[   11.544198] SCSI subsystem initialized
[   11.580132] pps_core: LinuxPPS API ver. 1 registered
[   11.582634] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt;
[   11.588843] PTP clock support registered
[   11.804130] PCI: Using ACPI for IRQ routing
[   11.937534] hpet: 3 channels of 0 reserved for per-cpu timers
[   11.969301] clocksource: Switched to clocksource hpet
[   12.150223] VFS: Disk quotas dquot_6.6.0
[   12.165996] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)
[   12.221172] pnp: PnP ACPI init
[   12.925102] system 00:05: [mem 0xb0000000-0xbfffffff window] has been reserved
[   13.184963] pnp: PnP ACPI: found 6 devices
[   13.782871] clocksource: acpi_pm: mask: 0xffffff max_cycles: 0xffffff, max_idle_ns: 2085701024 ns
[   13.858150] NET: Registered PF_INET protocol family
[   13.898436] IP idents hash table entries: 32768 (order: 6, 262144 bytes, linear)
[   14.069834] tcp_listen_portaddr_hash hash table entries: 1024 (order: 2, 16384 bytes, linear)
[   14.076246] Table-perturb hash table entries: 65536 (order: 6, 262144 bytes, linear)
[   14.080424] TCP established hash table entries: 16384 (order: 5, 131072 bytes, linear)
[   14.090531] TCP bind hash table entries: 16384 (order: 7, 524288 bytes, linear)
[   14.098396] TCP: Hash tables configured (established 16384 bind 16384)
[   14.170735] MPTCP token hash table entries: 2048 (order: 3, 49152 bytes, linear)
[   14.180914] UDP hash table entries: 1024 (order: 3, 32768 bytes, linear)
[   14.189776] UDP-Lite hash table entries: 1024 (order: 3, 32768 bytes, linear)
[   14.224393] NET: Registered PF_UNIX/PF_LOCAL protocol family
[   14.233370] NET: Registered PF_XDP protocol family
[   14.254775] pci 0000:00:03.0: PCI bridge to [bus 01]
[   14.259821] pci 0000:00:03.0:   bridge window [io  0xc000-0xcfff]
[   14.280356] pci 0000:00:03.0:   bridge window [mem 0xfe800000-0xfe9fffff]
[   14.292974] pci 0000:00:03.0:   bridge window [mem 0xfe000000-0xfe1fffff 64bit pref]
[   14.321229] pci_bus 0000:00: resource 4 [io  0x0000-0x0cf7 window]
[   14.327223] pci_bus 0000:00: resource 5 [io  0x0d00-0xffff window]
[   14.329118] pci_bus 0000:00: resource 6 [mem 0x000a0000-0x000bffff window]
[   14.330869] pci_bus 0000:00: resource 7 [mem 0x5dc00000-0xafffffff window]
[   14.333812] pci_bus 0000:00: resource 8 [mem 0xc0000000-0xfebfffff window]
[   14.335690] pci_bus 0000:00: resource 9 [mem 0x100000000-0x8ffffffff window]
[   14.337968] pci_bus 0000:01: resource 0 [io  0xc000-0xcfff]
[   14.339772] pci_bus 0000:01: resource 1 [mem 0xfe800000-0xfe9fffff]
[   14.341687] pci_bus 0000:01: resource 2 [mem 0xfe000000-0xfe1fffff 64bit pref]
[   14.449475] ACPI: \_SB_.GSIA: Enabled at IRQ 16
[   14.610745] pci 0000:00:1d.0: quirk_usb_early_handoff+0x0/0x7d0 took 243970 usecs
[   14.650682] ACPI: \_SB_.GSIB: Enabled at IRQ 17
[   14.696580] pci 0000:00:1d.1: quirk_usb_early_handoff+0x0/0x7d0 took 68608 usecs
[   14.730619] ACPI: \_SB_.GSIC: Enabled at IRQ 18
[   14.768369] pci 0000:00:1d.2: quirk_usb_early_handoff+0x0/0x7d0 took 67417 usecs
[   14.799166] ACPI: \_SB_.GSID: Enabled at IRQ 19
[   14.917235] pci 0000:00:1d.7: quirk_usb_early_handoff+0x0/0x7d0 took 142651 usecs
[   14.920485] PCI: CLS 0 bytes, default 64
[   15.179213] Unpacking initramfs...
[   15.308833] Initialise system trusted keyrings
[   15.468012] workingset: timestamp_bits=46 max_order=19 bucket_order=0
[   15.486585] zbud: loaded
[   15.628915] Key type asymmetric registered
[   15.631653] Asymmetric key parser 'x509' registered
[   15.666171] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 247)
[   15.725672] io scheduler mq-deadline registered
[   15.733427] io scheduler kyber registered
[   15.739785] io scheduler bfq registered
[   16.176910] ERST DBG: ERST support is disabled.
[   16.248841] ACPI: \_SB_.GSIG: Enabled at IRQ 22
[   16.411662] ACPI: \_SB_.GSIE: Enabled at IRQ 20
[   16.495107] ACPI: \_SB_.GSIF: Enabled at IRQ 21
[   16.660206] ACPI: \_SB_.GSIH: Enabled at IRQ 23
[   16.928788] Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled
[   17.084676] 00:03: ttyS0 at I/O 0x3f8 (irq = 4, base_baud = 115200) is a 16550A
[   17.853514] VMware PVSCSI driver - version 1.0.7.0-k
[   18.028327] ahci 0000:00:1f.2: AHCI 0001.0000 32 slots 6 ports 1.5 Gbps 0x3f impl SATA mode
[   18.042520] ahci 0000:00:1f.2: flags: 64bit ncq only 
[   18.328001] scsi host0: ahci
[   18.443127] scsi host1: ahci
[   18.495420] scsi host2: ahci
[   18.555526] scsi host3: ahci
[   18.596148] scsi host4: ahci
[   18.646310] scsi host5: ahci
[   18.669191] ata1: SATA max UDMA/133 abar m4096@0xfea79000 port 0xfea79100 irq 26
[   18.686138] ata2: SATA max UDMA/133 abar m4096@0xfea79000 port 0xfea79180 irq 26
[   18.688165] ata3: SATA max UDMA/133 abar m4096@0xfea79000 port 0xfea79200 irq 26
[   18.690208] ata4: SATA max UDMA/133 abar m4096@0xfea79000 port 0xfea79280 irq 26
[   18.705199] ata5: SATA max UDMA/133 abar m4096@0xfea79000 port 0xfea79300 irq 26
[   18.707346] ata6: SATA max UDMA/133 abar m4096@0xfea79000 port 0xfea79380 irq 26
[   18.889324] i8042: PNP: PS/2 Controller [PNP0303:KBD,PNP0f13:MOU] at 0x60,0x64 irq 1,12
[   19.029478] serio: i8042 KBD port at 0x60,0x64 irq 1
[   19.039879] serio: i8042 AUX port at 0x60,0x64 irq 12
[   19.098690] rtc_cmos 00:04: RTC can wake from S4
[   19.216072] ata3: SATA link up 1.5 Gbps (SStatus 113 SControl 300)
[   19.314734] rtc_cmos 00:04: registered as rtc0
[   19.355479] ata3.00: ATAPI: QEMU DVD-ROM, 2.5+, max UDMA/100
[   19.358203] ata3.00: applying bridge limits
[   19.340657] rtc_cmos 00:04: setting system clock to 2024-05-28T14:35:58 UTC (1716906958)
[   19.429809] rtc_cmos 00:04: alarms up to one day, y3k, 242 bytes nvram, hpet irqs
[   19.441489] amd_pstate: the _CPC object is not present in SBIOS or ACPI disabled
[   19.444031] ata2: SATA link down (SStatus 0 SControl 300)
[   19.484392] ata5: SATA link down (SStatus 0 SControl 300)
[   19.508888] gre: GRE over IPv4 demultiplexor driver
[   19.517288] ata4: SATA link down (SStatus 0 SControl 300)
[   19.520266] ata6: SATA link down (SStatus 0 SControl 300)
[   19.557328] ata3.00: configured for UDMA/100
[   19.612917] ata1: SATA link down (SStatus 0 SControl 300)
[   20.089920] scsi 2:0:0:0: CD-ROM            QEMU     QEMU DVD-ROM     2.5+ PQ: 0 ANSI: 5
[   20.776746] input: AT Translated Set 2 keyboard as /devices/platform/i8042/serio0/input/input0
[   20.900381] NET: Registered PF_INET6 protocol family
[   21.271169] Segment Routing with IPv6
[   21.289840] In-situ OAM (IOAM) with IPv6
[   21.338743] Key type dns_resolver registered
[   21.388435] IPI shorthand broadcast: enabled
[   22.571176] registered taskstats version 1
[   22.710537] Loading compiled-in X.509 certificates
[   23.511537] Freeing initrd memory: 8116K
[   27.330144] Loaded X.509 cert 'alpinelinux.org: Alpine Linux kernel key: d76a695f66ad9cd28f5c22a8508f36e91f521f7a'
[   27.497404] Key type .fscrypt registered
[   27.499205] Key type fscrypt-provisioning registered
[   27.590326] Unstable clock detected, switching default tracing clock to "global"
[   27.590326] If you want to keep using the local clock, then add:
[   27.590326]   "trace_clock=local"
[   27.590326] on the kernel command line
[   28.034737] Freeing unused kernel image (initmem) memory: 2688K
[   28.038020] Write protecting the kernel read-only data: 24576k
[   28.086317] Freeing unused kernel image (rodata/data gap) memory: 2008K
[   28.096001] rodata_test: all tests were successful
[   28.100889] Run /init as init process
[   30.241601] Alpine Init 3.10.0-r0
Alpine Init 3.10.0-r0
[   30.341464] Loading boot drivers...
 * Loading boot drivers: [   35.646213] ACPI: bus type USB registered
[   35.698816] usbcore: registered new interface driver usbfs
[   35.716061] usbcore: registered new interface driver hub
[   35.750810] usbcore: registered new device driver usb
[   36.025687] usbcore: registered new interface driver usb-storage
[   40.863630] loop: module loaded
[   43.014924] ACPI: bus type drm_connector registered
[   44.577672] Loading boot drivers: ok.
ok.
[   45.090841] Mounting root...
 * Mounting root: [   55.931772] ehci-pci 0000:00:1d.7: EHCI Host Controller
[   55.997231] ehci-pci 0000:00:1d.7: new USB bus registered, assigned bus number 1
[   56.149235] ehci-pci 0000:00:1d.7: irq 19, io mem 0xfea78000
[   56.185091] ehci-pci 0000:00:1d.7: USB 2.0 started, EHCI 1.00
[   56.277156] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002, bcdDevice= 6.06
[   56.279809] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[   56.283664] usb usb1: Product: EHCI Host Controller
[   56.285329] usb usb1: Manufacturer: Linux 6.6.32-0-virt ehci_hcd
[   56.287481] usb usb1: SerialNumber: 0000:00:1d.7
[   56.378037] hub 1-0:1.0: USB hub found
[   56.393799] hub 1-0:1.0: 6 ports detected
[   56.809176] uhci_hcd 0000:00:1d.0: UHCI Host Controller
[   56.823442] uhci_hcd 0000:00:1d.0: new USB bus registered, assigned bus number 2
[   56.827201] uhci_hcd 0000:00:1d.0: detected 2 ports
[   56.839854] uhci_hcd 0000:00:1d.0: irq 16, io port 0x0000d1e0
[   56.876374] usb 1-1: new high-speed USB device number 2 using ehci-pci
[   56.905098] usb usb2: New USB device found, idVendor=1d6b, idProduct=0001, bcdDevice= 6.06
[   56.907225] usb usb2: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[   56.909406] usb usb2: Product: UHCI Host Controller
[   56.911615] usb usb2: Manufacturer: Linux 6.6.32-0-virt uhci_hcd
[   56.934796] usb usb2: SerialNumber: 0000:00:1d.0
[   56.985223] hub 2-0:1.0: USB hub found
[   56.993588] hub 2-0:1.0: 2 ports detected
[   57.141114] uhci_hcd 0000:00:1d.1: UHCI Host Controller
[   57.158169] uhci_hcd 0000:00:1d.1: new USB bus registered, assigned bus number 3
[   57.160452] uhci_hcd 0000:00:1d.1: detected 2 ports
[   57.174569] uhci_hcd 0000:00:1d.1: irq 17, io port 0x0000d200
[   57.190191] usb usb3: New USB device found, idVendor=1d6b, idProduct=0001, bcdDevice= 6.06
[   57.205222] usb usb3: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[   57.207183] usb usb3: Product: UHCI Host Controller
[   57.210613] usb usb3: Manufacturer: Linux 6.6.32-0-virt uhci_hcd
[   57.224787] usb usb3: SerialNumber: 0000:00:1d.1
[   57.275779] hub 3-0:1.0: USB hub found
[   57.281527] hub 3-0:1.0: 2 ports detected
[   57.411264] uhci_hcd 0000:00:1d.2: UHCI Host Controller
[   57.427348] uhci_hcd 0000:00:1d.2: new USB bus registered, assigned bus number 4
[   57.430450] uhci_hcd 0000:00:1d.2: detected 2 ports
[   57.433963] usb 1-1: New USB device found, idVendor=0718, idProduct=7722, bcdDevice= 1.00
[   57.437201] usb 1-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[   57.439581] usb 1-1: Product: USB Flash Drive
[   57.441619] usb 1-1: Manufacturer: Memorex
[   57.449416] usb 1-1: SerialNumber: 
[   57.458469] uhci_hcd 0000:00:1d.2: irq 18, io port 0x0000d220
[   57.520226] usb-storage 1-1:1.0: USB Mass Storage device detected
[   57.527023] usb usb4: New USB device found, idVendor=1d6b, idProduct=0001, bcdDevice= 6.06
[   57.537258] usb usb4: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[   57.540241] usb usb4: Product: UHCI Host Controller
[   57.552385] usb usb4: Manufacturer: Linux 6.6.32-0-virt uhci_hcd
[   57.554617] usb usb4: SerialNumber: 0000:00:1d.2
[   57.597244] hub 4-0:1.0: USB hub found
[   57.599790] hub 4-0:1.0: 2 ports detected
[   57.767462] scsi host6: usb-storage 1-1:1.0
[   59.420373] scsi 6:0:0:0: Direct-Access     Memorex  USB Flash Drive  PMAP PQ: 0 ANSI: 6
[   59.684498] sd 6:0:0:0: [sda] 30285824 512-byte logical blocks: (15.5 GB/14.4 GiB)
[   59.726358] sd 6:0:0:0: [sda] Write Protect is off
[   59.759329] sd 6:0:0:0: [sda] No Caching mode page found
[   59.761437] sd 6:0:0:0: [sda] Assuming drive cache: write through
[   60.174125]  sda: sda1 sda2 sda3 sda4
[   60.239254] sd 6:0:0:0: [sda] Attached SCSI removable disk
[   60.543475] sr 2:0:0:0: [sr0] scsi3-mmc drive: 4x/4x cd/rw xa/form2 tray
[   60.549324] cdrom: Uniform CD-ROM driver Revision: 3.20
[   60.569642] sr 2:0:0:0: [sr0] Hmm, seems the drive doesn't support multisession CD's
[   62.129616] virtio_blk virtio1: 4/0/0 default/read/poll queues
[   62.280578] virtio_blk virtio1: [vda] 6291456 512-byte logical blocks (3.22 GB/3.00 GiB)
[   62.348822]  vda: vda1 vda2 vda3
[   63.900433] usbcore: registered new interface driver uas
[  111.297970] block sr0: the capability attribute has been deprecated.
[  111.294276] hrtimer: interrupt took 21725080 ns
[  114.387613] random: crng init done
[  131.675657] EXT4-fs (vda3): orphan cleanup on readonly fs
[  131.688286] EXT4-fs (vda3): mounted filesystem ae7bb8b0-5180-432a-80a5-e4a3065e4684 ro with ordered data mode. Quota mode: none.
[  131.741233] Mounting root: ok.
ok.

   OpenRC 0.54 is starting up Linux 6.6.32-0-virt (x86_64)

 * /proc is already mounted
 * Mounting /run ... [ ok ]
 * /run/openrc: creating directory
 * /run/lock: creating directory
 * /run/lock: correcting owner
 * Caching service dependencies ... [ ok ]
 * Remounting devtmpfs on /dev ... [ ok ]
 * Mounting /dev/mqueue ... [ ok ]
 * Mounting security filesystem ... [ ok ]
 * Mounting debug filesystem ... [ ok ]
 * Mounting persistent storage (pstore) filesystem ... [ ok ]
 * Starting busybox mdev ... [ ok ]
 * Scanning hardware for mdev ... [ ok ]
 * Loading hardware drivers ... [ ok ]
 * Loading modules ... [ ok ]
 * Setting system clock using the hardware clock [UTC] ... [ ok ]
 * Checking local filesystems  .../dev/vda3: clean, 37374/128256 files, 229108/512768 blocks
/dev/vda1: clean, 28/76912 files, 54036/307200 blocks
 [ ok ]
 * Remounting root filesystem read/write ... [ ok ]
 * Remounting filesystems ... [ ok ]
 * Activating swap devices ... [ ok ]
 * Mounting local filesystems ... [ ok ]
 * Configuring kernel parameters ... [ ok ]
 * Creating user login records ... [ ok ]
 * Setting hostname ... [ ok ]
 * Starting networking ... *   lo ... [ ok ]
 *   eth0 ...udhcpc: started, v1.36.1
udhcpc: broadcasting discover
udhcpc: broadcasting select for 10.0.2.15, server 10.0.2.2
udhcpc: lease of 10.0.2.15 obtained from 10.0.2.2, lease time 86400
 [ ok ]
 * Seeding random number generator ... * Seeding 256 bits and crediting
 * Saving 256 bits of creditable seed for next boot
 [ ok ]
 * Starting busybox syslog ... [ ok ]
 * Starting busybox acpid ... [ ok ]
 * Starting busybox crond ... [ ok ]
 * Starting rngd ... [ ok ]
 * Starting sshd ... [ ok ]
 * Starting vsftpd ... [ ok ]

Welcome to Alpine Linux 3.20
Kernel 6.6.32-0-virt on an x86_64 (/dev/ttyS0)

localhost login: root
Password: 
Welcome to Alpine!

The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.
See &lt;https://wiki.alpinelinux.org/&gt;.

You can setup the system with the command: setup-alpine

You may change this message by editing /etc/motd.

localhost:~# 
localhost:~# grep PermitRoot /etc/ssh/*config*
grep: /etc/ssh/ssh_config.d: Is a directory
/etc/ssh/sshd_config:PermitRootLogin prohibit-password
/etc/ssh/sshd_config:# the setting of "PermitRootLogin prohibit-password".
grep: /etc/ssh/sshd_config.d: Is a directory
localhost:~# 
localhost:~# grep ^PermitRootLogin /etc/ssh/sshd_config
PermitRootLogin prohibit-password
localhost:~# 
localhost:~# cp -pvi /etc/ssh/sshd_config /root
'/etc/ssh/sshd_config' -&gt; '/root/sshd_config'
localhost:~# 
localhost:~# sed -i -e 's/^PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config
localhost:~# 
localhost:~# grep ^PermitRootLogin /etc/ssh/sshd_config
PermitRootLogin yes
localhost:~# 
localhost:~# rc-service sshd restart
 * Stopping sshd ...
 [ ok ]
 * Starting sshd ...
 [ ok ]
localhost:~# 
localhost:~# exit
logout

Welcome to Alpine Linux 3.20
Kernel 6.6.32-0-virt on an x86_64 (/dev/ttyS0)

localhost login: 
</code></pre>
<p dir="auto">From The termux Session:</p>
<pre><code>~/termux-qemu-usb $ 
~/termux-qemu-usb $ ssh root@127.0.0.1 -p 9022
root@127.0.0.1's password: 
Welcome to Alpine!

The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.
See &lt;https://wiki.alpinelinux.org/&gt;.

You can setup the system with the command: setup-alpine

You may change this message by editing /etc/motd.

localhost:~# 
localhost:~# mount -t 9p -o trans=virtio,version=9p2000.L,msize=1048576 host /media/host
localhost:~# mount -t 9p -o trans=virtio,version=9p2000.L,msize=1048576 termux /media/termux
localhost:~# mount -t 9p -o trans=virtio,version=9p2000.L,msize=1048576 host-all /media/host-all
localhost:~# df -haT
Filesystem     Type        Size  Used Avail Use% Mounted on
sysfs          sysfs          0     0     0    - /sys
devtmpfs       devtmpfs     10M     0   10M   0% /dev
proc           proc           0     0     0    - /proc
devpts         devpts         0     0     0    - /dev/pts
shm            tmpfs       720M     0  720M   0% /dev/shm
/dev/vda3      ext4        1.9G  826M  992M  46% /
tmpfs          tmpfs       288M  140K  288M   1% /run
mqueue         mqueue         0     0     0    - /dev/mqueue
securityfs     securityfs     0     0     0    - /sys/kernel/security
debugfs        debugfs        0     0     0    - /sys/kernel/debug
pstore         pstore         0     0     0    - /sys/fs/pstore
tracefs        tracefs        0     0     0    - /sys/kernel/debug/tracing
/dev/vda1      ext4        272M   24M  229M  10% /boot
tmpfs          tmpfs       720M     0  720M   0% /tmp
host           9p          117G  107G  8.6G  93% /media/host
termux         9p           24G   17G  6.6G  72% /media/termux
host-all       9p          117G  107G  8.6G  93% /media/host-all
localhost:~# 
localhost:~# ls -1 /media/host|grep vmtest
vmtest-backup
localhost:~# 
localhost:~# ls -1 /media/termux
apps
home
usr
localhost:~# 
localhost:~# ls -1 /media/host-all|grep -E 'Down|And|DC'
Android
DCIM
Download
localhost:~# umount /media/host-all
localhost:~# umount /media/host
localhost:~# umount /media/termux
localhost:~# 
localhost:~# lsblk
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sda      8:0    1 14.4G  0 disk 
‚îú‚îÄsda1   8:1    1    5G  0 part 
‚îú‚îÄsda2   8:2    1    4G  0 part 
‚îú‚îÄsda3   8:3    1    4G  0 part 
‚îî‚îÄsda4   8:4    1  1.4G  0 part 
sr0     11:0    1    2K  0 rom  
vda    253:0    0    3G  0 disk 
‚îú‚îÄvda1 253:1    0  300M  0 part /boot
‚îú‚îÄvda2 253:2    0  768M  0 part [SWAP]
‚îî‚îÄvda3 253:3    0    2G  0 part /
localhost:~# 
localhost:~# blkid
/dev/vda1: UUID="933abcba-6d5f-40f4-9584-b373deac796f" BLOCK_SIZE="1024" TYPE="ext4" PARTUUID="0c1ddc57-01"
/dev/sda3: LABEL_FATBOOT="vfat" LABEL="vfat" UUID="8335-32B9" BLOCK_SIZE="512" TYPE="vfat" PARTUUID="3ca64fe0-03"
/dev/sda1: LABEL="ext4" UUID="42b11d91-c418-4919-b732-f61da2b45308" BLOCK_SIZE="4096" TYPE="ext4" PARTUUID="3ca64fe0-01"
/dev/vda2: UUID="088d8ec9-c1c5-46f1-8377-200028167bf7" TYPE="swap" PARTUUID="0c1ddc57-02"
/dev/sda4: LABEL="ntfs" BLOCK_SIZE="512" UUID="43BD723B70C177A1" TYPE="ntfs" PARTUUID="3ca64fe0-04"
/dev/sda2: LABEL="exfat" UUID="FFD8-F7EB" BLOCK_SIZE="512" TYPE="exfat" PARTUUID="3ca64fe0-02"
/dev/vda3: UUID="ae7bb8b0-5180-432a-80a5-e4a3065e4684" BLOCK_SIZE="4096" TYPE="ext4" PARTUUID="0c1ddc57-03"
localhost:~# 
localhost:~# 
localhost:~# lsusb
Bus 001 Device 001: ID 1d6b:0002 Linux 6.6.32-0-virt ehci_hcd EHCI Host Controller
Bus 001 Device 002: ID 0718:7722 Memorex USB Flash Drive
Bus 002 Device 001: ID 1d6b:0001 Linux 6.6.32-0-virt uhci_hcd UHCI Host Controller
Bus 003 Device 001: ID 1d6b:0001 Linux 6.6.32-0-virt uhci_hcd UHCI Host Controller
Bus 004 Device 001: ID 1d6b:0001 Linux 6.6.32-0-virt uhci_hcd UHCI Host Controller
localhost:~# 
localhost:~# dmesg | grep -Ei 'sda|6:0:0:0|ext4-|9p|virtio'
[   59.420373] scsi 6:0:0:0: Direct-Access     Memorex  USB Flash Drive  PMAP PQ: 0 ANSI: 6
[   59.684498] sd 6:0:0:0: [sda] 30285824 512-byte logical blocks: (15.5 GB/14.4 GiB)
[   59.726358] sd 6:0:0:0: [sda] Write Protect is off
[   59.730781] sd 6:0:0:0: [sda] Mode Sense: 23 00 00 00
[   59.759329] sd 6:0:0:0: [sda] No Caching mode page found
[   59.761437] sd 6:0:0:0: [sda] Assuming drive cache: write through
[   60.174125]  sda: sda1 sda2 sda3 sda4
[   60.239254] sd 6:0:0:0: [sda] Attached SCSI removable disk
[   62.129616] virtio_blk virtio1: 4/0/0 default/read/poll queues
[   62.280578] virtio_blk virtio1: [vda] 6291456 512-byte logical blocks (3.22 GB/3.00 GiB)
[  131.675657] EXT4-fs (vda3): orphan cleanup on readonly fs
[  131.688286] EXT4-fs (vda3): mounted filesystem ae7bb8b0-5180-432a-80a5-e4a3065e4684 ro with ordered data mode. Quota mode: none.
[  310.858967] 9pnet: Installing 9P2000 support
[  358.034728] EXT4-fs (vda3): re-mounted ae7bb8b0-5180-432a-80a5-e4a3065e4684 r/w. Quota mode: none.
[  359.197015] EXT4-fs (vda3): re-mounted ae7bb8b0-5180-432a-80a5-e4a3065e4684 r/w. Quota mode: none.
[  366.599376] EXT4-fs (vda1): mounted filesystem 933abcba-6d5f-40f4-9584-b373deac796f r/w with ordered data mode. Quota mode: none.
[  866.499233] 9p: Installing v9fs 9p2000 file system support
[  867.179873] 9pnet: Limiting 'msize' to 512000 as this is the maximum supported by transport virtio
[  875.769449] 9pnet: Limiting 'msize' to 512000 as this is the maximum supported by transport virtio
[  889.420906] 9pnet: Limiting 'msize' to 512000 as this is the maximum supported by transport virtio
localhost:~# 
localhost:~# eject /dev/sda
localhost:~# dmesg|tail
[  359.197015] EXT4-fs (vda3): re-mounted ae7bb8b0-5180-432a-80a5-e4a3065e4684 r/w. Quota mode: none.
[  362.874737] Adding 786428k swap on /dev/vda2.  Priority:-2 extents:1 across:786428k 
[  366.599376] EXT4-fs (vda1): mounted filesystem 933abcba-6d5f-40f4-9584-b373deac796f r/w with ordered data mode. Quota mode: none.
[  391.518187] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[  865.886612] FS-Cache: Loaded
[  866.499233] 9p: Installing v9fs 9p2000 file system support
[  867.179873] 9pnet: Limiting 'msize' to 512000 as this is the maximum supported by transport virtio
[  875.769449] 9pnet: Limiting 'msize' to 512000 as this is the maximum supported by transport virtio
[  889.420906] 9pnet: Limiting 'msize' to 512000 as this is the maximum supported by transport virtio
[10870.567962] sda: detected capacity change from 30285824 to 0
localhost:~# 
localhost:~# exit
logout
Connection to 127.0.0.1 closed.
~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'info' | nc -UN qemu.socket | tail -4
info virtio-vhost-queue-status path queue -- Display status of a given vhost queue
info vm-generation-id  -- Show Virtual Machine Generation ID
info vnc  -- show the vnc server status
(qemu) 
~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'help help' | nc -UN qemu.socket 
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) help help
help|? [cmd] -- show the help
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'help info' | nc -UN qemu.socket 
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) help info
info balloon  -- show balloon information
info block [-n] [-v] [device] -- show info of one block device or all block devices (-n: show named nodes; -v: show details)
info block-jobs  -- show progress of ongoing block device operations
info blockstats  -- show block device statistics
info capture  -- show capture information
info chardev  -- show the character devices
info cpus  -- show infos for each CPU
info cryptodev  -- show the crypto devices
info dirty_rate  -- show dirty rate information
info dump  -- Display the latest dump status
info history  -- show the command line history
info hotpluggable-cpus  -- Show information about hotpluggable CPUs
info iothreads  -- show iothreads
info irq  -- show the interrupts statistics (if available)
info jit  -- show dynamic compiler info
info kvm  -- show KVM information
info lapic [apic-id] -- show local apic state (apic-id: local apic to read, default is which of current CPU)
info mem  -- show the active virtual memory mappings
info memdev  -- show memory backends
info memory-devices  -- show memory devices
info memory_size_summary  -- show the amount of initially allocated and present hotpluggable (if enabled) memory in bytes.
info mice  -- show which guest mouse is receiving events
info migrate  -- show migration status
info migrate_capabilities  -- show current migration capabilities
info migrate_parameters  -- show current migration parameters
info mtree [-f][-d][-o][-D] -- show memory tree (-f: dump flat view for address spaces;-d: dump dispatch tree, valid with -f only);-o: dump region owners/parents;-D: dump disabled regions
info name  -- show the current VM name
info network  -- show the network state
info numa  -- show NUMA information
info opcount  -- show dynamic compiler opcode counters
info pci  -- show PCI info
info pic  -- show PIC state
info profile  -- show profiling information
info qdm  -- show qdev device model list
info qom-tree [path] -- show QOM composition tree
info qtree  -- show device tree
info ramblock  -- Display system ramblock information
info rdma  -- show RDMA state
info registers [-a|vcpu] -- show the cpu registers (-a: show register info for all cpus; vcpu: specific vCPU to query; show the current CPU's registers if no argument is specified)
info replay  -- show record/replay information
info rocker name -- Show rocker switch
info rocker-of-dpa-flows name [tbl_id] -- Show rocker OF-DPA flow tables
info rocker-of-dpa-groups name [type] -- Show rocker OF-DPA groups
info rocker-ports name -- Show rocker ports
info roms  -- show roms
info sev  -- show SEV information
info sgx  -- show intel SGX information
info snapshots  -- show the currently saved VM snapshots
info spice  -- show the spice server status
info stats target [names] [provider] -- show statistics for the given target (vm or vcpu); optionally filter byname (comma-separated list, or * for all) and provider
info status  -- show the current VM status (running|paused)
info sync-profile [-m] [-n] [max] -- show synchronization profiling info, up to max entries (default: 10), sorted by total wait time. (-m: sort by mean wait time; -n: do not coalesce objects with the same call site)
info tlb  -- show virtual to physical memory mappings
info tpm  -- show the TPM device
info trace-events [name] [vcpu] -- show available trace-events &amp; their state (name: event name pattern; vcpu: vCPU to query, default is any)
info usb  -- show guest USB devices
info usbhost  -- show host USB devices
info usernet  -- show user network stack connection states
info uuid  -- show the current VM UUID
info vcpu_dirty_limit  -- show dirty page limit information of all vCPU
info version  -- show the version of QEMU
info virtio  -- List all available virtio devices
info virtio-queue-element path queue [index] -- Display element of a given virtio queue
info virtio-queue-status path queue -- Display status of a given virtio queue
info virtio-status path -- Display status of a given virtio device
info virtio-vhost-queue-status path queue -- Display status of a given vhost queue
info vm-generation-id  -- Show Virtual Machine Generation ID
info vnc  -- show the vnc server status
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ 
</code></pre>
<p dir="auto">From The usbredirect Session: Stop usbredirect with ctrl-c</p>
<pre><code>~/.../usbredir-main/build $
~/.../usbredir-main/build $ termux-usb -l
[
  "/dev/bus/usb/001/005"
]
~/.../usbredir-main/build $
~/.../usbredir-main/build $ termux-usb -r /dev/bus/usb/001/005
Access granted.
~/termux-qemu-usb $
~/termux-qemu-usb $ termux-usb -e  "/data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/build/tools/usbredirect --device /dev/bus/usb/001/005 --as 127.0.0.1:10000" /dev/bus/usb/001/005


IN-MAIN-BEFORE-parse_opts argc = 6



IN-MAIN-BEFORE-parse_opts argv[0] = /data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/build/tools/usbredirect                                                      


IN-MAIN-BEFORE-parse_opts argv[1] = --device



IN-MAIN-BEFORE-parse_opts argv[2] = /dev/bus/usb/001/005



IN-MAIN-BEFORE-parse_opts argv[3] = --as



IN-MAIN-BEFORE-parse_opts argv[4] = 127.0.0.1:10000



IN-MAIN-BEFORE-parse_opts argv[5] = 7



IN-MAIN-BEFORE sscanf argc = 2



IN-MAIN-BEFORE sscanf argv[0] = /data/data/com.termux/files/home/termux-qemu-usb/usbredir-main/build/tools/usbredirect



IN-MAIN-BEFORE sscanf argv[1] = 7



IN-MAIN-BEFORE sscanf argv[2] = (null)



IN-MAIN-BEFORE sscanf argv[3] = (null)



IN-MAIN-BEFORE sscanf argv[4] = (null)



IN-MAIN-BEFORE sscanf argv[5] = (null)

Vendor ID: 0080
Product ID: 0578
Manufacturer: JMicron
Product: External USB 3.0
Serial No: 
</code></pre>
<p dir="auto">From The termux Session:</p>
<pre><code>~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'info chardev' | nc -UN qemu.socket 
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) info chardev
serial0: filename=mux
serial0-base: filename=stdio
parallel0: filename=null
compat_monitor0: filename=unix:/data/data/com.termux/files/home/termux-qemu-usb/qemu.socket,server=on
usbredirchardev1: filename=disconnected:tcp:127.0.0.1:10000
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'info usb' | nc -UN qemu.socket 
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) info usb
  Device 0.0, Port 1, Speed 1.5 Mb/s, Product USB Redirection Device, ID: usbredirdev1
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'device_del usbredirdev1' | nc -UN qemu.socket 
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) device_del usbredirdev1
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'info usb' | nc -UN qemu.socket 
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) info usb
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'info chardev' | nc -UN qemu.socket 
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) info chardev
serial0: filename=mux
serial0-base: filename=stdio
parallel0: filename=null
compat_monitor0: filename=unix:/data/data/com.termux/files/home/termux-qemu-usb/qemu.socket,server=on
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'chardev-add socket,host=127.0.0.1,port=10000,id=c1' | nc -UN qemu.socket
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) chardev-add socket,host=127.0.0.1,port=10000,id=c1
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'device_add usb-redir,chardev=c1,id=u1,debug=3' | nc -UN qemu.socket
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) device_add usb-redir,chardev=c1,id=u1,debug=3
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'info usb' | nc -UN qemu.socket 
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) info usb
  Device 0.3, Port 2, Speed 480 Mb/s, Product USB Redirection Device, ID: u1
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ echo 'info chardev' | nc -UN qemu.socket 
QEMU 8.0.2 monitor - type 'help' for more information
(qemu) info chardev
serial0: filename=mux
c1: filename=tcp:127.0.0.1:44056 &lt;-&gt; 127.0.0.1:10000
serial0-base: filename=stdio
parallel0: filename=null
compat_monitor0: filename=unix:/data/data/com.termux/files/home/termux-qemu-usb/qemu.socket,server=on
(qemu) ~/termux-qemu-usb $ 
~/termux-qemu-usb $ 
~/termux-qemu-usb $ 
~/termux-qemu-usb $ ssh root@127.0.0.1 -p 9022
root@127.0.0.1's password: 
Welcome to Alpine!

The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.
See &lt;https://wiki.alpinelinux.org/&gt;.

You can setup the system with the command: setup-alpine

You may change this message by editing /etc/motd.

localhost:~# 
localhost:~# lsusb
Bus 001 Device 001: ID 1d6b:0002 Linux 6.6.32-0-virt ehci_hcd EHCI Host Controller
Bus 001 Device 003: ID 0080:0578 JMicron External USB 3.0
Bus 002 Device 001: ID 1d6b:0001 Linux 6.6.32-0-virt uhci_hcd UHCI Host Controller
Bus 003 Device 001: ID 1d6b:0001 Linux 6.6.32-0-virt uhci_hcd UHCI Host Controller
Bus 004 Device 001: ID 1d6b:0001 Linux 6.6.32-0-virt uhci_hcd UHCI Host Controller
localhost:~# 
localhost:~# dmesg|tail -30
[  341.518112] fuse: init (API version 7.39)
[  358.034728] EXT4-fs (vda3): re-mounted ae7bb8b0-5180-432a-80a5-e4a3065e4684 r/w. Quota mode: none.
[  359.197015] EXT4-fs (vda3): re-mounted ae7bb8b0-5180-432a-80a5-e4a3065e4684 r/w. Quota mode: none.
[  362.874737] Adding 786428k swap on /dev/vda2.  Priority:-2 extents:1 across:786428k 
[  366.599376] EXT4-fs (vda1): mounted filesystem 933abcba-6d5f-40f4-9584-b373deac796f r/w with ordered data mode. Quota mode: none.
[  391.518187] e1000: eth0 NIC Link is Up 1000 Mbps Full Duplex, Flow Control: RX
[  865.886612] FS-Cache: Loaded
[  866.499233] 9p: Installing v9fs 9p2000 file system support
[  867.179873] 9pnet: Limiting 'msize' to 512000 as this is the maximum supported by transport virtio
[  875.769449] 9pnet: Limiting 'msize' to 512000 as this is the maximum supported by transport virtio
[  889.420906] 9pnet: Limiting 'msize' to 512000 as this is the maximum supported by transport virtio
[10870.567962] sda: detected capacity change from 30285824 to 0
[10991.267852] usb 1-1: USB disconnect, device number 2
[24335.840081] usb 1-2: new high-speed USB device number 3 using ehci-pci
[24336.545650] usb 1-2: New USB device found, idVendor=0080, idProduct=0578, bcdDevice= 1.04
[24336.549084] usb 1-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[24336.550163] usb 1-2: Product: External USB 3.0
[24336.550716] usb 1-2: Manufacturer: JMicron
[24336.551151] usb 1-2: SerialNumber: 
[24337.024682] scsi host6: uas
[24337.997813] scsi 6:0:0:0: Direct-Access     External USB 3.0          0104 PQ: 0 ANSI: 6
[24341.253671] sd 6:0:0:0: [sda] 156250000 512-byte logical blocks: (80.0 GB/74.5 GiB)
[24341.254500] sd 6:0:0:0: [sda] 4096-byte physical blocks
[24341.376689] sd 6:0:0:0: [sda] Write Protect is off
[24341.379366] sd 6:0:0:0: [sda] Mode Sense: 5f 00 00 08
[24341.871253] sd 6:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA
[24342.034835] sd 6:0:0:0: [sda] Preferred minimum I/O size 4096 bytes
[24342.036452] sd 6:0:0:0: [sda] Optimal transfer size 33553920 bytes not a multiple of preferred minimum block size (4096 bytes)
[24344.315641]  sda: sda1 sda2 sda3
[24344.808095] sd 6:0:0:0: [sda] Attached SCSI disk
localhost:~# 
localhost:~# blkid
/dev/vda1: UUID="933abcba-6d5f-40f4-9584-b373deac796f" BLOCK_SIZE="1024" TYPE="ext4" PARTUUID="0c1ddc57-01"
/dev/vda2: UUID="088d8ec9-c1c5-46f1-8377-200028167bf7" TYPE="swap" PARTUUID="0c1ddc57-02"
/dev/vda3: UUID="ae7bb8b0-5180-432a-80a5-e4a3065e4684" BLOCK_SIZE="4096" TYPE="ext4" PARTUUID="0c1ddc57-03"
/dev/sda2: LABEL="root" UUID="75b26c06-f935-4701-88db-741aaaa13ef2" BLOCK_SIZE="4096" TYPE="ext4" PARTUUID="58035105-02"
/dev/sda3: LABEL="swap" UUID="a35b3e75-c1b6-49a3-a7df-7deda44b433e" TYPE="swap" PARTUUID="58035105-03"
/dev/sda1: LABEL="ext4-boot" UUID="76f148ff-b125-46d1-aa83-a826955c1ec8" BLOCK_SIZE="4096" TYPE="ext4" PARTUUID="58035105-01"
localhost:~# 
localhost:~# lsblk
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sda      8:0    0 74.5G  0 disk 
‚îú‚îÄsda1   8:1    0    8G  0 part 
‚îú‚îÄsda2   8:2    0   40G  0 part 
‚îî‚îÄsda3   8:3    0    8G  0 part 
sr0     11:0    1    2K  0 rom  
vda    253:0    0    3G  0 disk 
‚îú‚îÄvda1 253:1    0  300M  0 part /boot
‚îú‚îÄvda2 253:2    0  768M  0 part [SWAP]
‚îî‚îÄvda3 253:3    0    2G  0 part /
localhost:~# 
localhost:~# mount /dev/sda2 /media/usb1
localhost:~# 
localhost:~# df -h
Filesystem      Size  Used Avail Use% Mounted on
devtmpfs         10M     0   10M   0% /dev
shm             720M     0  720M   0% /dev/shm
/dev/vda3       1.9G  826M  992M  46% /
tmpfs           288M  140K  288M   1% /run
/dev/vda1       272M   24M  229M  10% /boot
tmpfs           720M     0  720M   0% /tmp
/dev/sda2        40G   15G   23G  40% /media/usb1
localhost:~# 
localhost:~# exit
logout
Connection to 127.0.0.1 closed.
~/termux-qemu-usb $ 
~/termux-qemu-usb $ fallocate --length 1G 1gb-on-internal-storage
~/termux-qemu-usb $ sha256sum 1gb-on-internal-storage
49bc20df15e412a64472421e13fe86ff1c5165e18b2afccf160d4dc19fe68a14  1gb-on-internal-storage
~/termux-qemu-usb $ 
~/termux-qemu-usb $ lftp 127.0.0.1 -p 50021
lftp 127.0.0.1:~&gt; pwd
ftp://127.0.0.1:50021
lftp 127.0.0.1:~&gt; ls
drwxr-xr-x    2 0        0            4096 May 27 00:30 cdrom
drwxr-xr-x    2 0        0            4096 May 27 00:30 floppy
drwxr-xr-x    2 0        0            4096 May 27 11:47 host
drwxr-xr-x    2 0        0            4096 May 28 14:09 host-all
drwxr-xr-x    2 0        0            4096 May 27 11:47 termux
drwxr-xr-x    2 0        0            4096 May 27 00:30 usb
dr-xr-xr-x   18 0        0            4096 May 15 22:57 usb1
drwxr-xr-x    2 0        0            4096 May 27 11:47 usb2
drwxr-xr-x    2 0        0            4096 May 27 11:47 usb3
drwxr-xr-x    2 0        0            4096 May 27 11:47 usb4
lftp 127.0.0.1:/&gt; cd usb1
lftp 127.0.0.1:/usb1&gt; ls
lrwxrwxrwx    1 0        0               7 Sep 10  2015 bin -&gt; usr/bin
drwxr-xr-x    2 0        0            4096 May 05 12:01 boot
drwxr-xr-x    2 0        0            4096 May 05 12:01 dev
drwxr-xr-x  151 0        0           12288 May 09 00:04 etc
drwxr-xr-x    3 0        0            4096 May 05 12:26 home
lrwxrwxrwx    1 0        0               7 Sep 10  2015 lib -&gt; usr/lib
drwx------    2 0        0           16384 May 05 12:00 lost+found
drwxr-xr-x    2 0        0            4096 Sep 10  2015 media
drwxr-xr-x    5 0        0            4096 May 09 00:23 mnt
drwxr-xr-x    2 0        0            4096 Sep 10  2015 opt
drwxr-xr-x    2 0        0            4096 May 05 12:01 proc
dr-xr-x---    3 0        0            4096 May 05 14:49 root
drwxr-xr-x    2 0        0            4096 May 05 12:01 run
lrwxrwxrwx    1 0        0               8 Sep 10  2015 sbin -&gt; usr/sbin
drwxr-xr-x    2 0        0            4096 Sep 10  2015 srv
drwxr-xr-x    2 0        0            4096 May 05 12:01 sys
drwxrwxrwt    8 0        0            4096 May 28 21:28 tmp
drwxr-xr-x   12 0        0            4096 May 05 12:15 usr
drwxr-xr-x   24 0        0            4096 May 09 00:04 var
lftp 127.0.0.1:/usb1&gt; cd tmp
lftp 127.0.0.1:/usb1/tmp&gt; put 1gb-on-internal-storage 
1073741824 bytes transferred in 318 seconds (3.22 MiB/s)                        
lftp 127.0.0.1:/usb1/tmp&gt; quit
~/termux-qemu-usb $ 
~/termux-qemu-usb $ ssh root@127.0.0.1 -p 9022
root@127.0.0.1's password: 
Welcome to Alpine!

The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.
See &lt;https://wiki.alpinelinux.org/&gt;.

You can setup the system with the command: setup-alpine

You may change this message by editing /etc/motd.

localhost:~# sha256sum /media/usb1/tmp/1gb-on-internal-storage
49bc20df15e412a64472421e13fe86ff1c5165e18b2afccf160d4dc19fe68a14  /media/usb1/tmp/1gb-on-internal-storage
localhost:~# 
localhost:~# exit
logout
Connection to 127.0.0.1 closed.
~/termux-qemu-usb $ 
~/termux-qemu-usb $ rm -i 1gb-on-internal-storage
rm: remove regular file '1gb-on-internal-storage'? y
~/termux-qemu-usb $ 
~/termux-qemu-usb $ lftp 127.0.0.1 -p 50021
lftp 127.0.0.1:~&gt; cd usb1/tmp
cd ok, cwd=/usb1/tmp                 
lftp 127.0.0.1:/usb1/tmp&gt; get 1gb-on-internal-storage
1073741824 bytes transferred in 294 seconds (3.49 MiB/s)                        
lftp 127.0.0.1:/usb1/tmp&gt; quit
~/termux-qemu-usb $ 
~/termux-qemu-usb $ sha256sum 1gb-on-internal-storage
49bc20df15e412a64472421e13fe86ff1c5165e18b2afccf160d4dc19fe68a14  1gb-on-internal-storage
~/termux-qemu-usb $ ssh root@127.0.0.1 -p 9022
root@127.0.0.1's password: 
Welcome to Alpine!

The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.
See &lt;https://wiki.alpinelinux.org/&gt;.

You can setup the system with the command: setup-alpine

You may change this message by editing /etc/motd.

localhost:~# 
localhost:~# umount /media/usb1
localhost:~# eject /dev/sda
eject: /dev/sda: is not ejectable device
localhost:~# 
localhost:~# dmesg|tail -1
[30264.910139] EXT4-fs (sda2): unmounting filesystem 75b26c06-f935-4701-88db-741aaaa13ef2.
localhost:~# exit
logout
Connection to 127.0.0.1 closed.
~/termux-qemu-usb $ 
</code></pre>
<p dir="auto">From The qemu Session: Power down the QEMU Linux Server. A graceful shutdown. An orderly shutdown.</p>
<pre><code>Welcome to Alpine Linux 3.20
Kernel 6.6.32-0-virt on an x86_64 (/dev/ttyS0)

localhost login: root
Password: 
Welcome to Alpine!

The Alpine Wiki contains a large amount of how-to guides and general
information about administrating Alpine systems.
See &lt;https://wiki.alpinelinux.org/&gt;.

You can setup the system with the command: setup-alpine

You may change this message by editing /etc/motd.

localhost:~# poweroff
localhost:~# 
[31477.277009] reboot: Power down
~/termux-qemu-usb $ 
~/termux-qemu-usb $ 
</code></pre>
<hr>
<p dir="auto"><h3 dir="auto">Software</h3><a id="user-content-software" aria-label="Permalink: Software" href="#software"></a></p>
<ul dir="auto">
<li>
<p dir="auto">"Termux application": <a href="https://github.com/termux/termux-app">https://github.com/termux/termux-app</a> (@termux)</p>
<p dir="auto">"Termux-usb": <a href="https://wiki.termux.com/wiki/Termux-usb" rel="nofollow">https://wiki.termux.com/wiki/Termux-usb</a></p>
<p dir="auto">QEMU: <a href="https://www.qemu.org/" rel="nofollow">https://www.qemu.org</a></p>
</li>
<li>
<p dir="auto">"CIFS Documents Provider" by wa2c (@wa2c, <a href="https://github.com/wa2c">https://github.com/wa2c</a>): <a href="https://github.com/wa2c/cifs-documents-provider">https://github.com/wa2c/cifs-documents-provider</a> , <a href="https://github.com/wa2c/cifs-documents-provider/wiki/Manual-ja">https://github.com/wa2c/cifs-documents-provider/wiki/Manual-ja</a> , <a href="https://github-com.translate.goog/wa2c/cifs-documents-provider/wiki/Manual-ja?_x_tr_sl=ja&amp;_x_tr_tl=en&amp;_x_tr_hl=en&amp;_x_tr_pto=wapp" rel="nofollow">https://github-com.translate.goog/wa2c/cifs-documents-provider/wiki/Manual-ja?_x_tr_sl=ja&amp;_x_tr_tl=en&amp;_x_tr_hl=en&amp;_x_tr_pto=wapp</a></p>
</li>
<li>
<p dir="auto">"FTPClient - Simple FTP, FTPS and SFTP client for Android" by qwerty287 (<a href="https://codeberg.org/qwerty287" rel="nofollow">https://codeberg.org/qwerty287</a>): <a href="https://codeberg.org/qwerty287/ftpclient" rel="nofollow">https://codeberg.org/qwerty287/ftpclient</a> , <a href="https://codeberg.org/qwerty287/ftpclient/releases" rel="nofollow">https://codeberg.org/qwerty287/ftpclient/releases</a></p>
<p dir="auto">"Long download interrupted": <a href="https://codeberg.org/qwerty287/ftpclient/issues/37" rel="nofollow">https://codeberg.org/qwerty287/ftpclient/issues/37</a></p>
</li>
<li>
<p dir="auto">"MiXplorer" "An Android file explorer" by Hootan Parsa: <a href="https://mixplorer.com/" rel="nofollow">https://mixplorer.com</a> , <a href="https://mixplorer.com/beta/" rel="nofollow">https://mixplorer.com/beta/</a> , <a href="https://xdaforums.com/t/app-2-2-mixplorer-v6-x-released-fully-featured-file-manager.1523691/" rel="nofollow">https://xdaforums.com/t/app-2-2-mixplorer-v6-x-released-fully-featured-file-manager.1523691/</a></p>
</li>
<li>
<p dir="auto">"Material Files" by Hai Zhang (@zhanghai, <a href="https://github.com/zhanghai">https://github.com/zhanghai</a>): <a href="https://github.com/zhanghai/MaterialFiles">https://github.com/zhanghai/MaterialFiles</a></p>
</li>
<li>
<p dir="auto">"Chmod calculator" by Bonaventura Novellino (<a href="https://play.google.com/store/apps/dev?id=7908808390989363402" rel="nofollow">https://play.google.com/store/apps/dev?id=7908808390989363402</a>): <a href="https://play.google.com/store/apps/details?id=com.chmod.calc.o" rel="nofollow">https://play.google.com/store/apps/details?id=com.chmod.calc.o</a></p>
</li>
<li>
<p dir="auto">"LockScreenNotes" by Nils (@NilsFo, <a href="https://github.com/NilsFo">https://github.com/NilsFo</a>): <a href="https://github.com/NilsFo/LockScreenNotes">https://github.com/NilsFo/LockScreenNotes</a></p>
</li>
<li>
<p dir="auto">"NMM File Manager / Text Edit" by maok (<a href="https://play.google.com/store/apps/developer?id=maok" rel="nofollow">https://play.google.com/store/apps/developer?id=maok</a>): <a href="https://play.google.com/store/apps/details?id=in.mfile" rel="nofollow">https://play.google.com/store/apps/details?id=in.mfile</a></p>
</li>
</ul>

<p dir="auto"><h3 dir="auto">Links: usbredirect, usbredir</h3><a id="user-content-links-usbredirect-usbredir" aria-label="Permalink: Links: usbredirect, usbredir" href="#links-usbredirect-usbredir"></a></p>
<ul dir="auto">
<li>
<p dir="auto">Hans de Goede: <a href="https://github.com/jwrdegoede">https://github.com/jwrdegoede</a> (@jwrdegoede), <a href="https://hansdegoede.livejournal.com/" rel="nofollow">https://hansdegoede.livejournal.com</a> , <a href="https://hansdegoede.dreamwidth.org/" rel="nofollow">https://hansdegoede.dreamwidth.org</a></p>
<p dir="auto">"How to use Spice "Open remote computing" Hansde Goede @ T-DOSE 2011, Eindhoven" by CityTV.nl (<a href="https://www.youtube.com/@CitytvNL" rel="nofollow">https://www.youtube.com/@CitytvNL</a>), published on November 6, 2011, "Hansde Goede @ T-DOSE The place where experts meet on 5 and 6 November 2011, Eindhoven. Spice "Open remote computing" introduction and presentation of the new USB redirection support.": <a href="https://www.youtube.com/watch?v=e1fC3GOTHOY" rel="nofollow">https://www.youtube.com/watch?v=e1fC3GOTHOY</a></p>
</li>
<li>
<p dir="auto">"USB Network Redirection protocol description version 0.7 (19 May 2014)": <a href="https://gitlab.freedesktop.org/spice/usbredir/-/blob/main/docs/usb-redirection-protocol.md" rel="nofollow">https://gitlab.freedesktop.org/spice/usbredir/-/blob/main/docs/usb-redirection-protocol.md</a></p>
</li>
<li>
<p dir="auto">"usbredir": <a href="https://www.spice-space.org/usbredir.html" rel="nofollow">https://www.spice-space.org/usbredir.html</a></p>
</li>
<li>
<p dir="auto">Victor Toso: <a href="https://gitlab.freedesktop.org/spice/usbredir" rel="nofollow">https://gitlab.freedesktop.org/spice/usbredir</a> , <a href="https://gitlab.freedesktop.org/victortoso" rel="nofollow">https://gitlab.freedesktop.org/victortoso</a> , <a href="https://github.com/victortoso">https://github.com/victortoso</a> (@victortoso)</p>
</li>
</ul>
</article>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[ChatTTS-Best open source TTS Model (156 pts)]]></title>
            <link>https://github.com/2noise/ChatTTS</link>
            <guid>40507039</guid>
            <pubDate>Wed, 29 May 2024 00:37:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/2noise/ChatTTS">https://github.com/2noise/ChatTTS</a>, See on <a href="https://news.ycombinator.com/item?id=40507039">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">ChatTTS</h2><a id="user-content-chattts" aria-label="Permalink: ChatTTS" href="#chattts"></a></p>
<p dir="auto"><a href="https://github.com/2noise/ChatTTS/blob/main/README.md"><strong>English</strong></a> | <a href="https://github.com/2noise/ChatTTS/blob/main/README_CN.md"><strong>‰∏≠ÊñáÁÆÄ‰Ωì</strong></a></p>
<p dir="auto">ChatTTS is a text-to-speech model designed specifically for dialogue scenario such as LLM assistant. It supports both English and Chinese languages. Our model is trained with 100,000+ hours composed of chinese and english. The open-source version on HuggingFace is a 40,000 hours pre trained model without SFT.</p>
<p dir="auto">For formal inquiries about model and roadmap, please contact us at <a href="mailto:open-source@2noise.com">open-source@2noise.com</a>. You could join our QQ group: 808364215 for discussion. Adding github issues is always welcomed.</p>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">Highlights</h2><a id="user-content-highlights" aria-label="Permalink: Highlights" href="#highlights"></a></p>
<ol dir="auto">
<li><strong>Conversational TTS</strong>: ChatTTS is optimized for dialogue-based tasks, enabling natural and expressive speech synthesis. It supports multiple speakers, facilitating interactive conversations.</li>
<li><strong>Fine-grained Control</strong>: The model could predict and control fine-grained prosodic features, including laughter, pauses, and interjections.</li>
<li><strong>Better Prosody</strong>: ChatTTS surpasses most of open-source TTS models in terms of prosody. We provide pretrained models to support further research and development.</li>
</ol>
<p dir="auto">For the detailed description of the model, you can refer to <a href="https://www.bilibili.com/video/BV1zn4y1o7iV" rel="nofollow">video on Bilibili</a></p>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">Disclaimer</h2><a id="user-content-disclaimer" aria-label="Permalink: Disclaimer" href="#disclaimer"></a></p>
<p dir="auto">This repo is for academic purposes only. It is intended for educational and research use, and should not be used for any commercial or legal purposes. The authors do not guarantee the accuracy, completeness, or reliability of the information. The information and data used in this repo, are for academic and research purposes only. The data obtained from publicly available sources, and the authors do not claim any ownership or copyright over the data.</p>
<p dir="auto">ChatTTS is a powerful text-to-speech system. However, it is very important to utilize this technology responsibly and ethically. To limit the use of ChatTTS, we added a small amount of high-frequency noise during the training of the 40,000-hour model, and compressed the audio quality as much as possible using MP3 format, to prevent malicious actors from potentially using it for criminal purposes. At the same time, we have internally trained a detection model and plan to open-source it in the future.</p>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">Usage</h2><a id="user-content-usage" aria-label="Permalink: Usage" href="#usage"></a></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">basic usage</h4><a id="user-content-basic-usage" aria-label="Permalink: basic usage" href="#basic-usage"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="import ChatTTS
from IPython.display import Audio

chat = ChatTTS.Chat()
chat.load_models()

texts = [&quot;<PUT YOUR TEXT HERE>&quot;,]

wavs = chat.infer(texts, use_decoder=True)
Audio(wavs[0], rate=24_000, autoplay=True)"><pre><span>import</span> <span>ChatTTS</span>
<span>from</span> <span>IPython</span>.<span>display</span> <span>import</span> <span>Audio</span>

<span>chat</span> <span>=</span> <span>ChatTTS</span>.<span>Chat</span>()
<span>chat</span>.<span>load_models</span>()

<span>texts</span> <span>=</span> [<span>"&lt;PUT YOUR TEXT HERE&gt;"</span>,]

<span>wavs</span> <span>=</span> <span>chat</span>.<span>infer</span>(<span>texts</span>, <span>use_decoder</span><span>=</span><span>True</span>)
<span>Audio</span>(<span>wavs</span>[<span>0</span>], <span>rate</span><span>=</span><span>24_000</span>, <span>autoplay</span><span>=</span><span>True</span>)</pre></div>
<p dir="auto"><h4 tabindex="-1" dir="auto">advanced usage</h4><a id="user-content-advanced-usage" aria-label="Permalink: advanced usage" href="#advanced-usage"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="###################################
# Sample a speaker from Gaussian.
import torch
std, mean = torch.load('ChatTTS/asset/spk_stat.pt').chunk(2)
rand_spk = torch.randn(768) * std + mean

params_infer_code = {
  'spk_emb': rand_spk, # add sampled speaker 
  'temperature': .3, # using custom temperature
  'top_P': 0.7, # top P decode
  'top_K': 20, # top K decode
}

###################################
# For sentence level manual control.

# use oral_(0-9), laugh_(0-2), break_(0-7) 
# to generate special token in text to synthesize.
params_refine_text = {
  'prompt': '[oral_2][laugh_0][break_6]'
} 

wav = chat.infer(&quot;<PUT YOUR TEXT HERE>&quot;, params_refine_text=params_refine_text, params_infer_code=params_infer_code)

###################################
# For word level manual control.
text = 'What is [uv_break]your favorite english food?[laugh][lbreak]'
wav = chat.infer(text, skip_refine_text=True, params_infer_code=params_infer_code)
"><pre><span>###################################</span>
<span># Sample a speaker from Gaussian.</span>
<span>import</span> <span>torch</span>
<span>std</span>, <span>mean</span> <span>=</span> <span>torch</span>.<span>load</span>(<span>'ChatTTS/asset/spk_stat.pt'</span>).<span>chunk</span>(<span>2</span>)
<span>rand_spk</span> <span>=</span> <span>torch</span>.<span>randn</span>(<span>768</span>) <span>*</span> <span>std</span> <span>+</span> <span>mean</span>

<span>params_infer_code</span> <span>=</span> {
  <span>'spk_emb'</span>: <span>rand_spk</span>, <span># add sampled speaker </span>
  <span>'temperature'</span>: <span>.3</span>, <span># using custom temperature</span>
  <span>'top_P'</span>: <span>0.7</span>, <span># top P decode</span>
  <span>'top_K'</span>: <span>20</span>, <span># top K decode</span>
}

<span>###################################</span>
<span># For sentence level manual control.</span>

<span># use oral_(0-9), laugh_(0-2), break_(0-7) </span>
<span># to generate special token in text to synthesize.</span>
<span>params_refine_text</span> <span>=</span> {
  <span>'prompt'</span>: <span>'[oral_2][laugh_0][break_6]'</span>
} 

<span>wav</span> <span>=</span> <span>chat</span>.<span>infer</span>(<span>"&lt;PUT YOUR TEXT HERE&gt;"</span>, <span>params_refine_text</span><span>=</span><span>params_refine_text</span>, <span>params_infer_code</span><span>=</span><span>params_infer_code</span>)

<span>###################################</span>
<span># For word level manual control.</span>
<span>text</span> <span>=</span> <span>'What is [uv_break]your favorite english food?[laugh][lbreak]'</span>
<span>wav</span> <span>=</span> <span>chat</span>.<span>infer</span>(<span>text</span>, <span>skip_refine_text</span><span>=</span><span>True</span>, <span>params_infer_code</span><span>=</span><span>params_infer_code</span>)</pre></div>
<details open="">
  <summary><p dir="auto"><h4 tabindex="-1" dir="auto">Example: self introduction</h4><a id="user-content-example-self-introduction" aria-label="Permalink: Example: self introduction" href="#example-self-introduction"></a></p></summary>
<div dir="auto" data-snippet-clipboard-copy-content="inputs_en = &quot;&quot;&quot;
chat T T S is a text to speech model designed for dialogue applications. 
[uv_break]it supports mixed language input [uv_break]and offers multi speaker 
capabilities with precise control over prosodic elements [laugh]like like 
[uv_break]laughter[laugh], [uv_break]pauses, [uv_break]and intonation. 
[uv_break]it delivers natural and expressive speech,[uv_break]so please
[uv_break] use the project responsibly at your own risk.[uv_break]
&quot;&quot;&quot;.replace('\n', '') # English is still experimental.

params_refine_text = {
  'prompt': '[oral_2][laugh_0][break_4]'
} 
audio_array_cn = chat.infer(inputs_cn, params_refine_text=params_refine_text)
audio_array_en = chat.infer(inputs_en, params_refine_text=params_refine_text)"><pre><span>inputs_en</span> <span>=</span> <span>"""</span>
<span>chat T T S is a text to speech model designed for dialogue applications. </span>
<span>[uv_break]it supports mixed language input [uv_break]and offers multi speaker </span>
<span>capabilities with precise control over prosodic elements [laugh]like like </span>
<span>[uv_break]laughter[laugh], [uv_break]pauses, [uv_break]and intonation. </span>
<span>[uv_break]it delivers natural and expressive speech,[uv_break]so please</span>
<span>[uv_break] use the project responsibly at your own risk.[uv_break]</span>
<span>"""</span>.<span>replace</span>(<span>'<span>\n</span>'</span>, <span>''</span>) <span># English is still experimental.</span>

<span>params_refine_text</span> <span>=</span> {
  <span>'prompt'</span>: <span>'[oral_2][laugh_0][break_4]'</span>
} 
<span>audio_array_cn</span> <span>=</span> <span>chat</span>.<span>infer</span>(<span>inputs_cn</span>, <span>params_refine_text</span><span>=</span><span>params_refine_text</span>)
<span>audio_array_en</span> <span>=</span> <span>chat</span>.<span>infer</span>(<span>inputs_en</span>, <span>params_refine_text</span><span>=</span><span>params_refine_text</span>)</pre></div>
<details open="">
  <summary>
    
    <span aria-label="Video description intro_en_m.webm">intro_en_m.webm</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/130631963/334550151-e0f51251-db7f-4d39-a0e9-3e095bb65de1.webm?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTY5NzUzMDIsIm5iZiI6MTcxNjk3NTAwMiwicGF0aCI6Ii8xMzA2MzE5NjMvMzM0NTUwMTUxLWUwZjUxMjUxLWRiN2YtNGQzOS1hMGU5LTNlMDk1YmI2NWRlMS53ZWJtP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDUyOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA1MjlUMDkzMDAyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZTRiOTA5ZGU3ODU1YjhkNDdiNTQ5NDEyYmM0ZDM5ZTU2Mjc0Zjk1YzMzZGQ5MmYwNGM5MGU2OTAwZTYxMGEwMCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.OycyeXc0nm2ao_AEgM71pEQObeEocV8vqqKD8qdOrm0" data-canonical-src="https://private-user-images.githubusercontent.com/130631963/334550151-e0f51251-db7f-4d39-a0e9-3e095bb65de1.webm?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTY5NzUzMDIsIm5iZiI6MTcxNjk3NTAwMiwicGF0aCI6Ii8xMzA2MzE5NjMvMzM0NTUwMTUxLWUwZjUxMjUxLWRiN2YtNGQzOS1hMGU5LTNlMDk1YmI2NWRlMS53ZWJtP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDUyOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA1MjlUMDkzMDAyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZTRiOTA5ZGU3ODU1YjhkNDdiNTQ5NDEyYmM0ZDM5ZTU2Mjc0Zjk1YzMzZGQ5MmYwNGM5MGU2OTAwZTYxMGEwMCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.OycyeXc0nm2ao_AEgM71pEQObeEocV8vqqKD8qdOrm0" controls="controls" muted="muted">

  </video>
</details>

<details open="">
  <summary>
    
    <span aria-label="Video description intro_en_f.webm">intro_en_f.webm</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/130631963/334550275-f5dcdd01-1091-47c5-8241-c4f6aaaa8bbd.webm?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTY5NzUzMDIsIm5iZiI6MTcxNjk3NTAwMiwicGF0aCI6Ii8xMzA2MzE5NjMvMzM0NTUwMjc1LWY1ZGNkZDAxLTEwOTEtNDdjNS04MjQxLWM0ZjZhYWFhOGJiZC53ZWJtP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDUyOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA1MjlUMDkzMDAyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OGRlYWRjYTE0MGIzMzRjMDBkMDZiZTkzMjcxYjYwMGNiNDE2MmY0YWM0NjQ1ODY2OGM4MTQ4OTM3OTkyMTAyNyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.3m-dRvXxujXwd7QixpQ7yQkIMK5E7gvl6jMNpqmxHZg" data-canonical-src="https://private-user-images.githubusercontent.com/130631963/334550275-f5dcdd01-1091-47c5-8241-c4f6aaaa8bbd.webm?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTY5NzUzMDIsIm5iZiI6MTcxNjk3NTAwMiwicGF0aCI6Ii8xMzA2MzE5NjMvMzM0NTUwMjc1LWY1ZGNkZDAxLTEwOTEtNDdjNS04MjQxLWM0ZjZhYWFhOGJiZC53ZWJtP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDUyOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA1MjlUMDkzMDAyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OGRlYWRjYTE0MGIzMzRjMDBkMDZiZTkzMjcxYjYwMGNiNDE2MmY0YWM0NjQ1ODY2OGM4MTQ4OTM3OTkyMTAyNyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.3m-dRvXxujXwd7QixpQ7yQkIMK5E7gvl6jMNpqmxHZg" controls="controls" muted="muted">

  </video>
</details>

</details>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">Roadmap</h2><a id="user-content-roadmap" aria-label="Permalink: Roadmap" href="#roadmap"></a></p>
<ul>
<li> Open-source the 40k hour base model and spk_stats file</li>
<li> Open-source VQ encoder and Lora training code</li>
<li> Streaming audio generation without refining the text*</li>
<li> Open-source the 40k hour version with multi-emotion control</li>
<li> ChatTTS.cpp maybe? (PR or new repo are welcomed.)</li>
</ul>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">FAQ</h2><a id="user-content-faq" aria-label="Permalink: FAQ" href="#faq"></a></p>
<p dir="auto"><h5 tabindex="-1" dir="auto">How much VRAM do I need? How about infer speed?</h5><a id="user-content-how-much-vram-do-i-need-how-about-infer-speed" aria-label="Permalink: How much VRAM do I need? How about infer speed?" href="#how-much-vram-do-i-need-how-about-infer-speed"></a></p>
<p dir="auto">For a 30-second audio clip, at least 4GB of GPU memory is required. For the 4090D GPU, it can generate audio corresponding to approximately 7 semantic tokens per second. The Real-Time Factor (RTF) is around 0.65.</p>
<p dir="auto"><h5 tabindex="-1" dir="auto">model stability is not good enough, with issues such as multi speakers or poor audio quality.</h5><a id="user-content-model-stability-is-not-good-enough-with-issues-such-as-multi-speakers-or-poor-audio-quality" aria-label="Permalink: model stability is not good enough, with issues such as multi speakers or poor audio quality." href="#model-stability-is-not-good-enough-with-issues-such-as-multi-speakers-or-poor-audio-quality"></a></p>
<p dir="auto">This is a problem that typically occurs with autoregressive models(for bark and valle). It's generally difficult to avoid. One can try multiple samples to find a suitable result.</p>
<p dir="auto"><h5 tabindex="-1" dir="auto">Besides laughter, can we control anything else? Can we control other emotions?</h5><a id="user-content-besides-laughter-can-we-control-anything-else-can-we-control-other-emotions" aria-label="Permalink: Besides laughter, can we control anything else? Can we control other emotions?" href="#besides-laughter-can-we-control-anything-else-can-we-control-other-emotions"></a></p>
<p dir="auto">In the current released model, the only token-level control units are [laugh], [uv_break], and [lbreak]. In future versions, we may open-source models with additional emotional control capabilities.</p>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">Acknowledgements</h2><a id="user-content-acknowledgements" aria-label="Permalink: Acknowledgements" href="#acknowledgements"></a></p>
<ul dir="auto">
<li><a href="https://github.com/suno-ai/bark">bark</a>, <a href="https://github.com/coqui-ai/TTS">XTTSv2</a> and <a href="https://arxiv.org/abs/2301.02111" rel="nofollow">valle</a> demostrate a remarkable TTS result by a autoregressive-style system.</li>
<li><a href="https://github.com/fishaudio/fish-speech">fish-speech</a> reveals capability of GVQ as audio tokenizer for LLM modeling.</li>
<li><a href="https://github.com/gemelo-ai/vocos">vocos</a> which is used as a pretrained vocoder.</li>
</ul>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">Special Appreciation</h2><a id="user-content-special-appreciation" aria-label="Permalink: Special Appreciation" href="#special-appreciation"></a></p>
<ul dir="auto">
<li><a href="https://audio.westlake.edu.cn/" rel="nofollow">wlu-audio lab</a> for early algorithm experiments.</li>
</ul>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ex-OpenAI board member reveals what led to Sam Altman's brief ousting (698 pts)]]></title>
            <link>https://www.businessinsider.com/openai-board-member-details-sam-altman-lied-allegation-ousted-2024-5</link>
            <guid>40506582</guid>
            <pubDate>Tue, 28 May 2024 23:13:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.businessinsider.com/openai-board-member-details-sam-altman-lied-allegation-ousted-2024-5">https://www.businessinsider.com/openai-board-member-details-sam-altman-lied-allegation-ousted-2024-5</a>, See on <a href="https://news.ycombinator.com/item?id=40506582">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>She said that Altman was "withholding information" and "misrepresenting things that were happening in the company" for years.</p><div><p>Toner ‚Äî one of the board members who voted to kick Altman out ‚Äî alleged Altman also lied to the board by keeping them in the dark about the company's ownership structure. </p><p>"Sam didn't inform the board that he owned the OpenAI startup fund, even though he constantly was claiming to be an independent board member with no financial interest in the company," she said.</p></div><section data-component-type="content-recommendations" data-component-location="" data-delay-third-party-scripts="true" data-provider="dad" data-excluded-verticals="bi-video" data-premium-state="" data-renderer="three-related-posts" data-size="3" data-container-name="content-recommendations-three-related-posts-in-content" data-theme-class="" data-recommendations-placement="" data-author="" data-root-margin="250px 0px" data-track-view="{&quot;event&quot;: &quot;module_in_view&quot;, &quot;eventCategory&quot;: &quot;in_content_recirc&quot;, &quot;eventAction&quot;: &quot;module_in_view&quot;, &quot;eventLabel&quot;: &quot;module_in_view&quot;, &quot;element_name&quot;: &quot;in_content_recirc&quot;, &quot;subscription_experience&quot;: &quot;bi_value_unassigned&quot;, &quot;product_field&quot;: &quot;bi_value_unassigned&quot;}">
                            <p>
                                Related stories
                              </p>
                        
                          
                        </section><p>Altman keeping that from the board "really damaged our ability to trust him" and that the board was "already talking pretty seriously about whether we needed to fire him" in October, she said.</p><p>OpenAI didn't immediately respond to a request for comment from Business Insider. </p><p>Toner ‚Äî currently a director of strategy at the Centre for Security and Emerging Technology at Georgetown ‚Äî alleges the OpenAI chief also gave board members "inaccurate information about the small number of formal safety processes" OpenAI had in place.  </p><p>She said that made it "basically impossible" for the board to understand if the safety measures were sufficient or if any changes were needed.</p><div><p>She said there were other individual examples, but ultimately, the board concluded that "we just couldn't believe things that Sam was telling us, and that's a completely unworkable place to be in as a board." </p><p>Toner added that it was "totally impossible" for the board to trust Altman's word. The board, she said, had a role to have independent oversight of OpenAI and "not just helping the CEO to raise more money."</p><p>But then, last October, the board had a number of conversations where two executives detailed their own experiences with Altman in which they used the phrase "psychological abuse," according to Toner. </p><p>She said the executives told the board they "didn't think he was the right person to lead the company to AGI, telling us they had no belief that he could or would change, no point in giving him feedback, no point in trying to work through these issues."&nbsp;</p><p>By the time the board realized Altman needed replacing, Toner says it was clear that Altman would "pull out all the stops" to block the board from going against him if he found out. She claims he "started lying to other board members in order to try and push me off the board."</p><p>She said, "We were very careful, very deliberate about who we told, which was essentially almost no one in advance, other than obviously our legal team and so that's kind of what took us to to November 17." </p></div><p>But Altman's ouster didn't last long.</p><p>As staff threatened to quit and speculation swirled that Microsoft may poach Altman's team from OpenAI and hire him directly, the company's board brought back Altman as CEO less than a week later.</p><div><p>Toner resigned from her role as an OpenAI board member less than two weeks after Altman returned as CEO. </p><p><em>Do you work for OpenAI? Do you have insights to share? Contact the reporter at </em><a target="_blank" href="mailto:jmann@businessinsider.com" data-analytics-product-module="body_link" rel=" nofollow"><em>jmann@businessinsider.com</em></a> <em>or reach out via Signal</em> <em>at</em> <em>jyotimann.11</em></p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Productivity Versus Alignment (102 pts)]]></title>
            <link>https://www.zaxis.page/p/productivity-versus-alignment</link>
            <guid>40505575</guid>
            <pubDate>Tue, 28 May 2024 21:01:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.zaxis.page/p/productivity-versus-alignment">https://www.zaxis.page/p/productivity-versus-alignment</a>, See on <a href="https://news.ycombinator.com/item?id=40505575">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-blocks"><p id="intersections"><h2>Intersections</h2></p><p> Steve Jobs famously laid out his offices to facilitate employees bumping into each other. ‚ÄúWhen Steve Jobs designed a new headquarters for Pixar,‚Äù <a href="https://www.linkedin.com/pulse/20141007161621-73685339-why-steve-jobs-obsessed-about-office-design-and-yes-bathroom-locations/?utm_source=www.zaxis.page&amp;utm_medium=referral&amp;utm_campaign=productivity-versus-alignment" target="_blank" rel="noopener noreferrer nofollow">wrote his biographer</a> Walter Isaacson, ‚Äúhe obsessed over ways to structure the atrium, and even where to locate the bathrooms, so that serendipitous personal encounters would occur.‚Äù The thinking was that the more he could get people to interact (particularly people from different teams), the more likely it was that they‚Äôd think outside the box and innovate. </p><p> Many others have adopted this philosophy. And while the strategy certainly might lead to a bit more ideation, I would argue, the increased alignment between disparate teams likely had a negative impact on <i>productive</i> innovation. </p><p> In my experience, no matter where you work, things are less productive than you‚Äôd want, and there‚Äôs less alignment than you‚Äôd hope for. </p><p> Why does this happen? </p><p> As individuals become stakeholders to a project, the number of communication channels between them rises exponentially. Doing anything company-wide becomes tremendously difficult. </p><p> Take a mid-sized tech company introducing a new feature. Product managers need buy in from all the other product managers who own their own respective surfaces. These each need to talk to the designers. The engineers weigh in on what‚Äôs feasible. The inability to do certain things causes a new flood of re-definition by the product managers and the designers and the engineers once more. Throw into the mix the lawyers, the accountants, the quality assurance testers, the finance team, and so on. Is it surprising things take so long to get done? </p><p><img alt="" src="https://media.beehiiv.com/cdn-cgi/image/fit=scale-down,format=auto,onerror=redirect,quality=80/uploads/asset/file/8169ce9f-6107-4073-9555-5dc3cfe5d4ab/connections.png?t=1712672100"></p><p> Having so many communication channels both decreases everyone‚Äôs productivity and discourages innovation. That‚Äôs because there‚Äôs too much organizational overhead to allow things to move quickly, and there‚Äôs too much organizational overhead to allow new ideas to get off the ground in the first place. </p><p id="the-impact-of-relationships"><h2>The Impact of Relationships</h2></p><p> The introduction of any new node into a communication system raises the number of stakeholder relationships exponentially. If you only have two stakeholders, there is one relationship. Introduce a third stakeholder, and you‚Äôre up to three relationships. In a team of 50? Now you have 1,225 relationships to consider between all of your employees. </p><p> The formula that governs this is: </p><p><img alt="" src="https://media.beehiiv.com/cdn-cgi/image/fit=scale-down,format=auto,onerror=redirect,quality=80/uploads/asset/file/3994d070-ff8b-48cd-a1f9-909e091b9a31/image.png?t=1712606934"></p><p> Of course, if you had 50 employees and didn‚Äôt have any of them talk to one another, or forced them to only communicate with a small number of colleagues, you‚Äôd run into other problems. The dissemination of information is key. The incorporation of stakeholder inputs into product development is key. All of these things <i>necessitate</i> that people talk to one another. Leave the legal team out of a new feature exploration, and you may find out too late what you want to do isn‚Äôt accounted for in your terms of service. Forget to call the accounting team, and they may later discover the negative margin impact of your idea. </p><p> And so we‚Äôve reached an impasse. On the one hand, we want to reduce the number of communication channels to avoid ‚Äútoo many cooks in the kitchen.‚Äù On the other hand, we want to have enough communication channels so that all relevant stakeholders can weigh in. </p><p id="the-slippery-slope"><h2>The Slippery Slope</h2></p><p> We can graph what‚Äôs happening here. On one axis, productivity. On the other, alignment. The more your team members or sub-organizations need to be in sync, the less quickly they will execute their goals (because of the overhead of communicating). Conversely, the more you want to focus on productivity, efficiency, new feature creation, etc., the less your teams will be able to keep up with each other. </p><p><img alt="" src="https://media.beehiiv.com/cdn-cgi/image/fit=scale-down,format=auto,onerror=redirect,quality=80/uploads/asset/file/2268c6de-85cb-4edc-97ed-dca2236690fe/alignprod.png?t=1714658595"></p><p> I‚Äôve drawn a similar graph before in this newsletter. Several months ago, I wrote about the concept of <a href="https://www.zaxis.page/p/push-pull-building-products" target="_blank" rel="noopener noreferrer nofollow">The Push and Pull of Building Products</a>, suggesting that there was a similar mathematical trade-off between focusing on the needs of your existing customers and focusing on the needs of the new ones. </p><p><img alt="" src="https://media.beehiiv.com/cdn-cgi/image/fit=scale-down,format=auto,onerror=redirect,quality=80/uploads/asset/file/3a24fbde-e18e-4928-b0b9-afa02a493dbd/customers2.png?t=1714658947"></p><p> In both graphs, a company is positioned somewhere along this curve. And that‚Äôs the case whether they choose their position or not. So they might as well choose their position. </p><p> In the Steve Jobs anecdote, there seems to be an explicit decision to be placed in the upper left hand corner of the first graph: </p><p><img alt="" src="https://media.beehiiv.com/cdn-cgi/image/fit=scale-down,format=auto,onerror=redirect,quality=80/uploads/asset/file/ce11c9e6-cc01-4720-9e01-cc89df2e674e/apple.png?t=1714659308"></p><p> And this shouldn‚Äôt be surprising. Apple is notorious for unmatched internal alignment amongst its teams, a feat necessary to achieve such clean and integrated user experiences. Consider, for instance, how many different functions the three buttons on the sides of your iPhone serve depending on the context. Consider the thousands of employees at Apple that had to coordinate the who/what/where/when/why of such a limited interface across such a diverse set of user requirements. </p><p> And now consider how many years it must have taken those thousands of employees to reach alignment and consensus. </p><p id="optimization"><h2>Choosing Your Place</h2></p><p> I‚Äôm not sure there is a right answer to the productivity/alignment trade-off, nor that there ever could be. But I do believe that, as with all trade-offs, the only thing worse than either option (or anything in between) is not being active in choosing which you want. Being passive allows the winds of randomness or fate to govern where you land, and nobody wins. </p><p> It‚Äôs worth repeating: The trade-off of productivity and alignment happens whether or not a company explicitly chooses the relative balance. So they might as well choose it. </p><p> I‚Äôm brought back to my own startup days, when we explicitly made the decision to iterate quickly at all costs. Granted, our team wasn‚Äôt Apple-sized, but even at the small scale of 20 or 25 individuals, misalignment was plentiful and frustrating. But at least it was a weakness we‚Äôd deliberately chosen. </p><p><img alt="" src="https://media.beehiiv.com/cdn-cgi/image/fit=scale-down,format=auto,onerror=redirect,quality=80/uploads/asset/file/399de2b4-c541-414d-8605-0c7e3ddefb93/startup.png?t=1716840682"></p><p> I‚Äôve explored before how, for an early stage startup, it is <a href="https://www.zaxis.page/p/things-that-dont-scale" target="_blank" rel="noopener noreferrer nofollow">critical to iterate quickly</a> because of the <a href="https://www.zaxis.page/p/90-percent-wrong" target="_blank" rel="noopener noreferrer nofollow">likelihood of errors</a> in your convictions. There is a great parallel to computer programming concepts here, which I‚Äôll save for a later article. </p><p> Suffice it to say that when a company chooses to have a meeting between stakeholders, it better be sure it knows why. And when a company chooses to <i>cancel</i> a meeting between stakeholders, it better be sure it knows why. </p><p> Final word today goes to writer Dave Barry, who once said this quote I encourage us all to remember: </p><div><p>If you had to identify, in one word, the reason why the human race has not achieved, and never will achieve, its full potential, that word would be: <i>Meetings</i>.</p></div><p id="whats-next"><h2>What‚Äôs Next?</h2></p><p> If you enjoyed this article, consider subscribing to this newsletter to get articles like this in your inbox every week for free: </p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google won‚Äôt comment on a leak of its search algorithm documentation (153 pts)]]></title>
            <link>https://www.theverge.com/2024/5/28/24166177/google-search-ranking-algorithm-leak-documents-link-seo</link>
            <guid>40505310</guid>
            <pubDate>Tue, 28 May 2024 20:32:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/2024/5/28/24166177/google-search-ranking-algorithm-leak-documents-link-seo">https://www.theverge.com/2024/5/28/24166177/google-search-ranking-algorithm-leak-documents-link-seo</a>, See on <a href="https://news.ycombinator.com/item?id=40505310">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Google‚Äôs search algorithm is perhaps the most consequential system on the internet, dictating <a href="https://www.theverge.com/2024/5/2/24147152/google-search-seo-publishing-housefresh-product-reviews">what sites live and die</a> and <a href="https://www.theverge.com/c/23998379/google-search-seo-algorithm-webpage-optimization">what content on the web looks like</a>. But how exactly Google ranks websites has long been a mystery, pieced together by journalists, researchers, and people working in search engine optimization.</p><p>Now, an explosive leak that purports to show <a href="https://sparktoro.com/blog/an-anonymous-source-shared-thousands-of-leaked-google-search-api-documents-with-me-everyone-in-seo-should-see-them/">thousands of pages of internal documents</a> appears to offer an unprecedented look under the hood of how Search works ‚Äî and suggests that Google hasn‚Äôt been entirely truthful about it for years. So far, Google hasn‚Äôt responded to multiple requests for comment on the legitimacy of the documents.</p><p>Rand Fishkin, who worked in SEO for more than a decade, says a source shared 2,500 pages of documents with him with the hopes that reporting on the leak would counter the ‚Äúlies‚Äù that Google employees had shared about how the search algorithm works. The documents outline Google‚Äôs search API and break down what information is available to employees, according to Fishkin.</p><p>The details shared by Fishkin are dense and technical, likely more legible to developers and SEO experts than the layperson. The contents of the leak are also not necessarily proof that Google uses the specific data and signals it mentions for search rankings. Rather, the leak outlines what data Google collects from webpages, sites, and searchers and offers indirect hints to SEO experts about what Google seems to care about, as SEO expert Mike King <a href="https://ipullrank.com/google-algo-leak">wrote</a> in his overview of the documents.</p><p>The leaked documents touch on topics like what kind of data Google collects and uses, which sites Google elevates for sensitive topics like elections, how Google handles small websites, and more. Some information in the documents appears to be in conflict with public statements by Google representatives, according to Fishkin and King. </p><p>‚Äú‚ÄòLied‚Äô is harsh, but it‚Äôs the only accurate word to use here,‚Äù King writes. ‚ÄúWhile I don‚Äôt necessarily fault Google‚Äôs public representatives for protecting their proprietary information, I do take issue with their efforts to actively discredit people in the marketing, tech, and journalism worlds who have presented reproducible discoveries.‚Äù</p><p>Google has not responded to <em>The Verge‚Äô</em>s requests for comment<em> </em>regarding the documents, including a direct request to refute their legitimacy. Fishkin told <em>The Verge </em>in an email that the company has not disputed the veracity of the leak, but that an employee asked him to change some language in the post regarding how an event was characterized.</p><p>Google‚Äôs secretive search algorithm has <a href="https://www.theverge.com/features/23931789/seo-search-engine-optimization-experts-google-results">birthed an entire industry</a> of marketers who closely follow Google‚Äôs public guidance and execute it for millions of companies around the world. The pervasive, often annoying tactics have led to a general narrative that Google Search results are getting worse, crowded with junk that website operators <a href="https://www.theverge.com/23753963/google-seo-shopify-small-business-ai">feel required to produce</a> to have their sites seen. In response to <em>The Verge</em>‚Äôs past reporting on the SEO-driven tactics, Google representatives often fall back to a familiar defense: that‚Äôs not what the <a href="https://developers.google.com/search/docs/fundamentals/seo-starter-guide">Google guidelines</a> say. </p><p>But some details in the leaked documents call into question the accuracy of Google‚Äôs public statements regarding how Search works. </p><p>One example cited by Fishkin and King is whether Google Chrome data is used in ranking at all. Google representatives have <a href="https://www.seroundtable.com/google-chrome-search-usage-15618.html">repeatedly</a> <a href="https://iloveseo.com/seo/google-does-not-use-anything-from-google-chrome-for-ranking/">indicated</a> that it doesn‚Äôt use Chrome data to rank pages, but Chrome is <a href="https://hexdocs.pm/google_api_content_warehouse/0.4.0/GoogleApi.ContentWarehouse.V1.Model.QualitySitemapTargetGroup.html#module-attributes">specifically mentioned in sections</a> about how websites appear in Search. In the screenshot below, which I captured as an example, the links appearing below the main vogue.com URL may be created in part using Chrome data, according to the documents.</p><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="A Google Search screenshot of the Vogue.com result, with sublinks below the main homepage. The links direct to sections like ‚ÄúMet Gala 2024‚Äù and ‚ÄúBeauty.‚Äù" loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/376x308/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/384x315/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/415x340/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/480x393/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/540x442/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/640x524/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/750x614/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/828x678/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/1080x885/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/1200x983/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/1440x1180/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/1920x1573/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/2048x1678/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/2400x1966/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:1284x1052/2400x1966/filters:focal(642x526:643x527):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25467524/Screenshot_2024_05_28_at_9.33.43_AM.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><em>Chrome is mentioned in a section about how additional links are created.</em></figcaption> <p><cite>Image: Google</cite></p></div></div><div><p>Another question raised is what role, if any, E-E-A-T plays in ranking. E-E-A-T stands for experience, expertise, authoritativeness, and trustworthiness, <a href="https://developers.google.com/search/blog/2022/12/google-raters-guidelines-e-e-a-t">a Google metric used to evaluate the quality of results</a>. Google representatives have <a href="https://x.com/searchliaison/status/1755283334631231514">previously said E-E-A-T isn‚Äôt a ranking factor</a>. Fishkin notes that he hasn‚Äôt found much in the documents mentioning E-E-A-T by name.</p></div><p>King, however, detailed how Google appears to collect author data from a page and has a field for whether an entity on the page is the author. A portion of the documents shared by King reads that the field was ‚Äúmainly developed and tuned for news articles... but is also populated for other content (e.g., scientific articles).‚Äù Though this doesn‚Äôt confirm that bylines are an explicit ranking metric, it does show that Google is at least keeping track of this attribute. Google representatives have <a href="https://x.com/searchliaison/status/1744379351297081637">previously insisted</a> that author bylines are something website owners should do for readers, not Google, because it doesn‚Äôt impact rankings.</p><p>Though the documents aren‚Äôt exactly a smoking gun, they provide a deep, unfiltered look at a tightly guarded black box system. The <a href="https://www.theverge.com/23869483/us-v-google-search-antitrust-case-updates">US government‚Äôs antitrust case against Google</a> ‚Äî which revolves around Search ‚Äî has also led to internal documentation becoming public, offering further insights into how the company‚Äôs main product works. </p><p>Google‚Äôs general caginess on how Search works has led to <a href="https://www.theverge.com/c/23998379/google-search-seo-algorithm-webpage-optimization">websites looking the same</a> as SEO marketers try to outsmart Google based on hints the company offers. Fishkin also calls out the publications credulously propping up Google‚Äôs public claims as truth without much further analysis.</p><p>‚ÄúHistorically, some of the search industry‚Äôs loudest voices and most prolific publishers have been happy to uncritically repeat Google‚Äôs public statements. They write headlines like ‚ÄòGoogle says XYZ is true,‚Äô rather than ‚ÄòGoogle Claims XYZ; Evidence Suggests Otherwise,‚Äô‚Äù Fishkin writes. ‚ÄúPlease, do better. If this leak and the DOJ trial can create just one change, I hope this is it.‚Äù</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Shadama: A particle simulation programming environment for everyone (134 pts)]]></title>
            <link>https://tinlizzie.org/~ohshima/shadama2/live2017/</link>
            <guid>40505213</guid>
            <pubDate>Tue, 28 May 2024 20:25:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://tinlizzie.org/~ohshima/shadama2/live2017/">https://tinlizzie.org/~ohshima/shadama2/live2017/</a>, See on <a href="https://news.ycombinator.com/item?id=40505213">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
      
      <p>Yoshiki Ohshima, Dan Amelang and Bert Freudenberg<br>
      HARC/Y Combinator Research</p>

      <section id="abstract">
        <p>
We present a prototype of a programming system called Shadama.
Shadama is designed for writing programs that create, control and visualize large numbers of objects.
The basic execution model follows the tradition of StarLogo and its "turtles and patches" abstraction.
<label for="sn-starlogo">
</label>

<span>
<a href="#starlogo">
<i>Turtles, Termites, and Traffic Jams: Explorations in Massively Parallel Microworlds</i>
<br>
<img src="https://tinlizzie.org/~ohshima/shadama2/live2017/starlogo-book.jpg" width="50%" height="50%">
</a>
</span>
&nbsp; This abstraction has been proven to be effective and easy to use.
The primary goal of the language is to facilitate the writing of scientific simulations by students
at the high school level.
        </p>

        <p>
The Shadama environment supports <i>liveness</i>.
Once changes to the program are saved, the effect on the running simulation is immediate;
there is no need to restart the simulation.
        </p>
        <p>
Shadama programs are run on the GPU by means of code translation to the OpenGL Shading Language.
<label for="sn-glsl">
</label>

<span>
<a href="#glsl">The OpenGL Shading Language</a>
</span> &nbsp;
Program data resides entirely on the GPU, which enables high performance.
        </p>

        <p>
A prototype of Shadama can be found <a href="http://tinlizzie.org/~ohshima/shadama2">here</a>.
Be aware that Shadama requires WebGL 2 and is affected by the floating point precision provided
by your graphics card. Thus, it only works on certain computer systems.
From our experience, it seems to work better on computers with an AMD Radeon graphics
card and on Chrome or Firefox browsers.
</p>
      </section>
      <section>
        <h2>Introduction</h2>
        <p>
The computing power available to us today is astounding.  Achieving
one teraflop of performance was a milestone for a building-sized supercomputer in
the late '90s, but now we expect smart phones to reach this same milestone soon.
Computing performance will only continue to increase in the future.
        </p>
        <p>
But what are people using this power for?  Not to be critical, but
people are generally more interested in watching cat videos and
playing games than trying to invent self-piloting personal airplanes
or discover the graviton.

All joking aside, one of the big problems we face today is our
struggle to advance science literacy, even within a
technologically-advanced society.  We need the next
generation to embrace science more, not less.
        </p>
        <p>
We think now is a good time to redouble our efforts to provide
environments where students and even professional
programmers can more easily tap into the computing power that is available.
To this end, we have been working on a prototype of a
programming language intended for high school students to explore
scientific concepts.
        </p>
        <p>
  Science is about making the invisible visible.  One notable example
of an invisible yet important concept is molecules in a gas.  We would
like students to learn about this, not by rote memorization, but
through actual experiments and model-building.  With the help of
computers, students can make a dynamic model and understand it more
deeply.  This kind of environment will help students construct
knowledge by doing, in line with the constructivism philosophy of
education.
        </p>
</section>

<section>
        <h2 id="a-science-experiment">A Science Experiment</h2>
        <p>
Before introducing the Shadama programming environment, we first
give an example of a physics experiment that could also be modeled
and simulated on a computer.
</p>
<iframe width="640" height="360" src="https://www.youtube.com/embed/07D0nB3mgLA" frameborder="0" allowfullscreen=""></iframe>
<p>
This movie demonstrates a vacuum cannon.  The cannon is a six foot PVC
pipe connected to a vacuum pump.  We put a ping pong ball inside the pipe,
cover the ends with sturdy but breakable material (such as plastic plates),
and pump the air out.
        </p>
        <p>
The pump reduces the pressure inside the tube to about 20% of full atmospheric pressure.
        </p>
        <p>
When the end near the ping pong ball is broken open by a box cutter, the
air molecules that rush into the pipe move into the
low pressure space and the ping pong ball is pushed out the other end.
Our crude setup can accelerate the ball to a speed of over 200 meters per second
(about 60% of the speed of sound).  Others have built similar setups
that can achieve supersonic speed.
        </p>
        <p>
An interesting point to understand is that it is just movement of
molecules that is causing the ball to shoot out. It is not that the
vacuum is sucking molecules into the pipe.
</p>
<p>
The invisible molecules that cause the ball to shoot out can
be made ‚Äúvisible‚Äù in a sense not only through this physical experiment,
but also through a computer simulation that reproduces the same phenomenon.
Creating such simulations is the purpose of our programming environment.
          </p>
</section>

<section>
        <h2 id="language-goals">Language Goals</h2>

<p>
We had the following goals when designing Shadama:
</p><ul>
<li> Easy to learn</li>
<li> Openness</li>
<li> Support for large numbers of particles</li>
<li> Liveness</li>
</ul>


<p>
To make learning Shadama easy, we based our language on StarLogo,
whose turtles and patches approach has proved intuitive to young learners.
In addition, we expect students familiar with Scratch to
learn Shadama easily because of similarites in how object behavior
is programmed and how objects can sense values near them spatially.
</p>

<p>
To encourage openness, we designed Shadama to be capable of implementing
complex behavior in the language itself, with as few primitives as possible.
We think that a learning environment should be open
in the sense that a student should be able to see, change and understand
how the various parts of the system work.
Although many sophisticated scientific software packages and simulation environments
exist, they are presented as immutable black boxes,
which limits understanding and stifles curiousity.
When additional software support is required, it should be provided in the
end-user's programming language, and it should be capable of modification
within the end-user's environment.
</p>

<p>
To support large numbers of particles, we designed the language
to execute on graphics hardware. Graphics processors today
are capable of computing on massive amounts of data.
Unfortunately, this requires a trade-off between ease of use and
high performance because there are fundamental limitations in
the execution model of today's graphics hardware.
Although Shadama has some features to mitigate these limitations,
certain behaviors cannot be implemented.
</p>

<p>
To support liveness, we designed the Shadama environment to show
the effects of code changes immediately. Of course,
a running simulation should not be updated for each and every key stroke.
Instead, the user submits a batch of code changes for the environment
to apply.
</p>

</section>

<section>
        <h2 id="shadama-in-Action">Shadama in Action</h2>
        <p>
The following movie introduces our prototype programming environment through several examples.
For details on the language, see the appendix.
The script for the narration of the movie is included below.
You can pause the movie at any time to scroll through and read the script.
        </p>
  
  
  <hr>
</section>
<section>
        <h2 id="implementation">Implementation</h2>
</section>
<p>
Shadama is built on web technologies, including WebGL 2.0 and OpenGL
Shading Language version 3.0.
Our code translator is written in Ohm
<label for="sn-ohm">
</label>

<span>
<a href="#ohm">Ohm: A library and language for building parsers, interpreters, compilers, etc.</a>
</span>
and generates vertex shader, fragment shader and JavaScript code from the Shadama program.
All the values for a given breed and property are stored in a single OpenGL texture.
These textures are created with the OpenGL type "R32F", to match
their use as an array of floating-point scalar values.
The values for a given patch and property are similarly represented.
</p>
<p>
Shadama static functions are translated to Javascript code that
runs OpenGL shaders derived from the Shadama methods.
For each method, a vertex shader is generated to fetch property values
from textures and perform the computation required for that method.
A generated fragment shader stores the property values back
into textures, using the multiple render targets feature of OpenGL.
</p>

<section>
        
        <p>
Previously, one of the authors implemented a particle system called Kedama as an extension of Etoys.
<label for="sn-kedama">
</label>

<span>
<a href="#kedama">
Kedama: A GUI-Based Interactive Massively Parallel Particle Programming System.<br>
<img src="https://tinlizzie.org/~ohshima/shadama2/live2017/kedama.png" width="50%" height="50%" alt="Kedama screenshot"></a><br>

</span> &nbsp;    Shadama can be considered an attempt to give the same idea new life.
Kedama's target audience was middle school children, while Shadama's target audience is high school students.
        </p>
        <p>
The biggest inspiration for Shadama (and Kedama) was Resnick's StarLogo.
As such, it provided the basis for the basic organization of objects in Shadama.
However, StarLogo has certain features that Shadama does not, as mentioned in the introduction.
        </p>
        <p>
Based on Extempore, Swift et al. created a live programming environment for physics.
<label for="sn-extempore-pic">
</label>

<span>
<a href="#extempore">Live Programming in Scientific Simulation<br>
<img src="https://tinlizzie.org/~ohshima/shadama2/live2017/extempore-pic.png" width="50%" height="50%" alt="Extempore PIC demo screenshot"></a><br>
</span> &nbsp;
This environment brings dynamic code swapping and interactive data
inspection to a sophisticated and optimized particle-in-cell
simulation engine. The spirit of this work is much in line with ours,
although their environment uses a third-party engine that cannot be modified from this same environment.
This is a reflection of their focus on empowering scientific researchers.
Such users are already familiar with the concepts behind the simulation and
value the tight interaction offered by this approach.
While it is possible to rewrite parts of the third-party engine in Extempore,
this is beyond the ability of most users, especially our target audience.
</p>
<p>
Nicky Case's simulation construction environment represents an interesting point in the design space.
<label for="sn-emoji">
</label>

<span>
<a href="#emoji">Simulating the World (in Emoji)<br>
  <img src="https://tinlizzie.org/~ohshima/shadama2/live2017/emoji.png" width="50%" height="50%" alt="Simulation in Emoji screenshot"></a>
</span>  &nbsp;
The system features a user-friendly design for creating many types of open-ended models.
However, it is only designed to handle a few hundred particles and cells.
</p>
<p>
Programming the GPU from a high-level language is a hot topic.
<label for="sn-ikra">
</label>

<span>
<a href="#ikra">Object Support in an Array-based GPGPU Extension for Ruby</a>
</span>&nbsp;  Researchers in this area aim for better performance through
increasingly sophisticated compilation techniques and the use of the CUDA API to more directly access the GPU.
Ease of use is given little consideration.
The authors think that Shadama can occupy a unique position
by striking a better balance between performance and ease of use.
        </p>
        <p>
Some languages for programming massively parallel particle simulations
are based on visual programming blocks.
StarLogo Nova is a notable example.
<label for="sn-slnova">
</label>

<span>
<a href="#slnova">
StarLogo Nova: A Programming Environment For Students and Teachers to
Create 3D Games and Simulations for Understanding Complex Systems
</a>
</span>
Shadama is currently text-based because we feel that scientific simulations
can be naturally expressed with concise text.
However, we have not ruled out other possiblities for syntax,
including a visual representation of the program.
        </p>

        <p>
Although many simulation environments such as Liquid Fun
<label for="sn-liquidfun">
</label>

<span>
<a href="#liquidfun">LiquidFun: A 2D Rigid-body and Fluid Simulation C++ Library for Games Based Upon Box2D<br>
<img src="https://tinlizzie.org/~ohshima/shadama2/live2017/liquidfun.png" width="50%" height="50%" alt="LiquidFun screenshot"></a>
</span>
are available today, they do not provide an end-user language.
</p>

</section>

<section>
        <h2 id="conclusions-and-future-work">Conclusions and Future Work</h2>
        <p>
We have presented an early prototype of a language in
which users can make enlightening simulations and intricate visualizations.
The liveliness of the environment encourages an
exploratory style of programming that enables trying out different ideas quickly.
We have also discovered that such an interactive and graphical environment
can be motivating even as bugs appear because of the spectacular
unintentional visual effects that are produced.
        </p>
        <p>
We are considering various improvements to the system.  One major
addition would be to fully support simulations in 3D, not just 2D.
While computation in Shadama only uses scalar values and is agnostic to dimensionality,
the primitives and concepts the system currently provides only work well for 2D applications.
We will need new ideas to manage 3D spatial data.
        </p>
        <p>
We also plan to support more mathematical concepts, such as vectors and matrices.
While first-time users may not initially have use for such abstractions,
we would like them to eventually learn and use these powerful concepts.
Ideally, the environment would gradually introduce the user to new, more difficult approaches.
        </p>
        <p>
We would like to conclude this paper by stressing the importance of
education. Education raises our awareness and enables us to see our world from new perspectives.
In this way, we are empowered with new approaches to solve problems.
For the next generation to solve the challenges of the future, their science literacy
is imperative. Our aim with Shadama is to leverage the power and ubiquity of
computing devices to improve science literacy for high school students by providing an engaging, open
environment in which to explore scientific concepts.
        </p>
</section>

      <section>
        <h2>References</h2>
        <ol type="1">
          <li id="starlogo">
            Mitchel Resnick. <i>Turtles, Termites, and Traffic Jams: Explorations
            in Massively Parallel Microworlds</i>. MIT Press, Cambridge, MA, USA, 1994.
          </li>
          <li id="glsl">
            The OpenGL Shading Language
            (<a href="https://www.khronos.org/registry/OpenGL/index_gl.php">Khronos OpenGL Registry</a>)
          </li>
          <li id="ohm">
            Ohm: A library and language for building parsers, interpreters, compilers, etc.
            (<a href="https://ohmlang.github.io/">project page</a>)
          </li>
          <li id="kedama">
            Yoshiki Ohshima. Kedama: A GUI-based Interactive Massively Parallel Particle Programming System.
            In <i>2005 IEEE Symposium on Visual Languages and Human-Centric Computing (VL/HCC‚Äô05)</i>, pages 91‚Äì98, Sept 2005.
          </li>
          <li id="extempore">
            Ben Swift, Andrew Sorensen, Henry Gardner, Peter Davis, and Viktor K Decyk.
            Live Programming in Scientific Simulation. <i>Supercomputing Frontiers and Innovations</i>, 2(4):4‚Äì15, March 2015.
            (<a href="http://dx.doi.org/10.14529/jsfi150401">DOI</a>)
          </li>
          <li id="liquidfun">
            LiquidFun: A 2D Rigid-body and Fluid Simulation C++ Library for Games Based Upon Box2D
            (<a href="http://google.github.io/liquidfun/">project page</a>)
          </li>
          <li id="emoji">
            Nicky Case. Simulating the World (in Emoji)
            (<a href="http://ncase.me/simulating">project page</a>)
          </li>
          <li id="ikra">
            Matthias Springer and Hidehiko Masuhara. Object Support in an Array-based GPGPU Extension for Ruby.
            In <i>Proceedings of the 3rd ACM SIGPLAN International Workshop on
            Libraries, Languages, and Compilers for Array Programming</i>,
            ARRAY 2016, pages 25‚Äì31, New York, NY, USA, 2016.
          </li>
          <li id="slnova">
            StarLogo Nova: A Programming Environment For Students and Teachers to
            Create 3D Games and Simulations for Understanding Complex Systems
            (<a href="http://education.mit.edu/portfolio_page/starlogonova/">project page</a>)
          </li>
        </ol>
      </section>
<section>
        <h2 id="language">Appendix: A Primer for the Shadama Language</h2>

<p>
The Shadama language uses a turtles and patches abstraction, drawn from the tradition of StarLogo.
</p>

        <h3 id="breeds">Breeds</h3>
<p>
Turtles are organized into
"breeds".  Each breed has its own set of properties.
A breed is declared in a program with the "breed" statement.  For example:
</p>
<pre>breed MyBreed (x, y)
</pre>
<p>
The above creates a breed of turtle called <code>MyBreed</code>, and declares that each
turtle in the breed has individual properties <code>x</code> and <code>y</code>.
</p>
<p>
Currently, properties in Shadama can only be scalar floating-point numbers.
</p>
<p>
Methods provide turtle behavior. The <code>def</code> statement is used to define
methods, as follows:
</p>
<pre>def move() {
  this.x = this.x + 1;
  this.y = this.y + 1;
}
</pre>
<p>
As expected, when this method is invoked on a turtle, the
turtle's x and y properties are incremented by one.
</p>
<p>
Methods can only be invoked from static functions. Methods calls are made
by first specifying a breed, then the method name.
The method is applied to all turtles in the breed concurrently.
For example:
</p>
<pre>static step() {
  MyBreed.move();
}
</pre>
<p>
The <code>step</code> function above calls the <code>move</code> method on all turtles of the <code>MyBreed</code> breed.
</p>

<p>
Shadama provides many built-in features made available through primitive methods:
</p>
<ul>

<li> <pre>aBreed.setCount(count);</pre>
  <span>
  The <code>setCount</code> primitive sets the number of turtles in the breed.
For example:
</span>
<pre>static setup() {
  MyBreed.setCount(10000);
}
</pre>
<span>
Invoking this static function will set the number of <code>MyBreed</code> turtles to 10,000.
In the current implementation, the number of turtles in a breed is limited to
1024 √ó 1024, or about 1 million.
</span>
</li>

<li> <pre>aBreed.fillRandom(name, min, max);</pre>
<span>
  The <code>fillRandom</code> primitive sets the property specified by <code>name</code>
  to be a random number between <code>min</code>
  (inclusive) and <code>max</code> (exclusive) for each turtle in the breed.
  For example:
</span>
<pre>static setup() {
  MyBreed.setCount(10000);
  MyBreed.fillRandom("x", 0, 100);
}
</pre>
<span>
  The above will set each of the 10,000 turtles <code>x</code> property to be a
  random floating-point number between 0 and 100.
</span>
</li>

<li> <pre>aBreed.fillRandomDir(dxName, dyName);</pre>
<span>
  The <code>fillRandomDir</code> primitive generates random 2D unit vectors.
  This is done for each turtle, and the x and y components of the result are stored
  in the <code>dxName</code> and <code>dyName</code> properties of the turtles.
  For example:
</span>
<pre>static setup() {
  MyBreed.setCount(10000);
  MyBreed.fillRandomDir("dx", "dy");
}
</pre>
<span>
The above sets the <code>dx</code> and <code>dy</code> properties of the turtles with the x and y components of the randomly generated unit vectors.
</span>
</li>

<li> <pre>aBreed.fillSpace(xName, yName, xDim, yDim);</pre>
        <span>
The fillSpace primitive first sets the number of turtles in the breed
to be <code>xDim</code> √ó <code>yDim</code>.  Then, it places the turtles on integral 2D grid points
within the (0..<code>xDim</code>, 0..<code>yDim</code>) area, storing into the <code>xName</code> and <code>yName</code> turtle properties.
For example:
</span>
<pre>static setup() {
  MyBreed.fillSpace("x", "y", 100, 100);
}
</pre>
<span>
The above creates 10,000 turtles of the MyBreed breed, setting the turtle's <code>x</code> and <code>y</code> properties
to be the integral grid points spanning (0, 0) to (99, 99), inclusive.
</span>
</li>

<li> <pre>aBreed.fillImage(xName, yName, rName, gName, bName, aName, anImageData);</pre>
        <span>
  The fillImage primitive converts a 2D image into a breed of turtles.
  The <code>anImageData</code> argument is a Javascript ImageData object containing the data used
  to populate the breed. The turtle count is set to be <code>anImageData.width</code> √ó <code>anImageData.height</code>.
  Similar to <code>fillSpace</code>, the turtles are placed on the 2D grid points within the image extent.
  The turtle properties given by <code>rName</code>, <code>gName</code>, <code>bName</code>, and <code>aName</code> are populated with the RGBA
  color component values of the image. Note that while the color components in <code>anImageData</code> range
  from 0 and 255 (integral values), those values in Shadama will be normalized to range from 0.0 and 1.0,
  inclusive (floating-point).
  For example:
<pre>breed MyBreed (x, y, r, g, b, a)
static setup() {
  MyBreed.fillImage("x", "y", "r", "g", "b", "a", anImage);
}
</pre>
</span>
<span>
Static function variables, such as <code>anImage</code>, are described below.
</span>
</li></ul>

<h3 id="patches">Patches</h3>

<p>
A patch is a 2D set of cells that store values.
Patches are fixed size, 512 √ó 512 by default.
The following declares a patch:
</p><pre>patch Field (nx, ny)
</pre>

<p>
Each cell in this patch stores two values, <code>nx</code> and <code>ny</code>.
</p>

<p>
A patch can be manipulated by passing it as an argument to a method on a breed.
As the method is executed for each turtle, turtles can access the patch cell
nearest them. No other patch cells are available to them.
For example:
</p><pre>breed MyBreed (x, y, r, g, b, a)
patch Field (r, g, b, a)

def store(field) {
  field.r = this.r;
}

static setup() {
  MyBreed.fillImage("x", "y", "r", "g", "b", "a", anImage);
  MyBreed.store(Field);
}
</pre>

<p>
The above declares a patch called Field which is used as an argument to <code>store</code>.
When <code>store</code> is executed for each turtle in <code>MyBreed</code>, the turtle's <code>r</code> property
is stored in the <code>r</code> property of the nearest cell in Field.
</p>

<p>
A turtle can read values from patch cells as well.  For example:
</p><pre>def load(field) {
   this.r = field.r;
}
</pre>

<p>
When the above method is executed, each turtle reads the <code>r</code> property of the nearest patch cell
and stores the value into its own <code>r</code> property.
</p>
<p>
Methods can receive multiple patches as arguments.
For example:
</p><pre>patch Field1 (nx, ny, r, g, b, a)
patch Field2 (nx, ny, r, g, b, a)
def transfer(f1, f2) {
  f2.r = f1.r;
  f2.a = f1.a;
}
</pre>

<p>
The following code is also valid, and correctly swaps values between patches.
</p><pre>def swap(f1, f2) {
  f2.r = f1.r;
  f1.r = f2.r
}
</pre>


<h3 id="local-variables">Local Variables</h3>

<p>
The <code>var</code> statement declares a local variable within a method.
The scope of a local variables is the whole method,
regardless of where in the method it is declared.
In the same method, there can be no more than one declaration for a given variable name.
This is in contrast to variable declarations in JavaScript.
For example:
</p><pre>def average() {
  var avg = (this.x + this.y) / 2.0;
  this.x = avg;
  this.y = avg;
}
</pre>
<p>
The above code properly defines and uses a local variable called <code>avg</code>.
However, the following code would raise an error because the variable <code>diff</code> is declared in two places:
</p><pre>def gcd() {
  if (this.a &gt; this.b) {
    var diff = this.a - this.b;
    this.a = diff;
  } else {
    var diff = this.b - this.a;
    this.b = diff;
  }
</pre>

<p>
The variable declaration has to be manually hoisted, as follows:
</p><pre>def gcd() {
  var diff;
  if (this.a &gt; this.b) {
    diff = this.a - this.b;
    this.a = diff;
  } else {
    diff = this.b - this.a;
    this.b = diff;
  }
</pre>


<h3 id="static-function-variables">Static Function Variables</h3>

<p>
Static function variables are declared within static functions, also using the "var" statement.
Static function variables are not available to methods, but are visible to all static functions.
For example:
</p><pre>static setup() {
  var begin = 1;
}

static loop() {
  if (begin) {
    begin = 0;
  }
}
</pre>

<p>
The two static functions above refer to the same <code>begin</code> variable.
</p>

<p>
Shadama provides the following built-in static function variables:
</p><ul>
  <li>
    <code>mousemove</code>:
    An object whose <code>x</code> and <code>y</code> properties refer to the most recent mouse cursor location.
  </li>
  <li>
    <code>mousedown</code>:
    An object whose <code>x</code> and <code>y</code> properties refer to the most
    recent location where the user pressed the mouse button down.
  </li>
  <li>
    <code>mouseup</code>:
    An object whose <code>x</code> and <code>y</code> properties refer to the most
    recent location where the user lifted the mouse button up.
  </li>
  <li>
    <code>time</code>:
    The number of seconds elapsed since the last time the <code>setup</code> function was called (in floating-point).
  </li>
  <li>
    <code>width, height</code>:
    The width and height of the Shadama canvas.
  </li>
</ul>

<p>
Be aware that mouse event objects are JavaScript objects. Thus, they can't be passed to methods because
methods can only take scalar arguments.
</p>

<p>
There is one additional variable called <code>Display</code>
for invoking certain system primitives.

For example:
</p><pre>static loop() {
  Display.clear();
  MyPatch.draw();
}
</pre>
<p>
The above code clears the canvas and then draws <code>MyPatch</code> by calling the <code>draw</code> primitive.  <code>Display</code> has <code>loadProgram</code>, and <code>clear</code>.
</p>

<h3 id="parallelism-considerations">Parallelism Considerations</h3>
<p>
It's possible for two or more nearby turtles to write into the same patch cell.
Which value gets stored in the patch is non-deterministic.
</p>
<p>
Also, updates to turtle properties and patch properties are not visible until after the method is run.
Consider the following method:
</p><pre>def test() {
  if (this.r &gt; 0) {
     this.r = 0;
  } else {
     this.r = 1;
  }
  this.b = this.r;
}
</pre>

<p>
Even though the last line reads <code>this.b = this.r;</code>, the <code>r</code> property and <code>b</code> property will
not be equal after the invocation. This is because the update to the <code>r</code> property seen earlier does not take effect
until after the method call is finished. Thus, the <code>b</code> property will have the previous <code>r</code> value.
</p>

<p>
The properties <code>this.b</code> and <code>this.r</code> can have the same value
through the following use of a local variable:
</p><pre>def test() {
  var r = this.r;
  if (r &gt; 0) {
     r = 0;
  } else {
     r = 1;
  }
  this.r = r;
  this.b = r;
}
</pre>


<p>
A script can be started by calling <code>start</code> on it. Likewise, you can stop it <code>stop</code>, and execute it once with <code>step</code>.
</p>

<h3 id="control-structures">Control Structures</h3>
<p>
The <code>if</code> statement is the only control structure that Shadama supports.
Loops may be supported in a future version of Shadama because the OpenGL shader language version 3.0
does support variable-count loops.
</p>
<h3 id="primitive-functions">Primitive Functions</h3>
<p>

There are a number of primitive functions that can be called from methods.
Most of them actually result in a direct call to a GLSL built-in function.
For example:
</p><pre>def prims(x) {
  var c = cos(x);
  var s = step(0.5, x);
  var a = abs(x);
  var f = fract(x); // the fraction part of x

  this.r = c * s * a * f;
}
</pre>

<p>
The above code uses several primitive functions to compute a contrived value which
is then stored into the turtle's <code>r</code> property.
</p>

<h3 id="method-binding">Method Binding</h3>
<p>
Methods are not defined for any particular breed, but a given
method can only be applied to breeds that have the properties referenced
in the method.
For example:
</p><pre>breed A (x, r)
breed B (x, y, r, g)
breed C (r)

def set() {
  this.r = 1;
  this.x = 0;
}

static test() {
  A.set();
  B.set();
}
</pre>

<p>
The <code>set</code> method above can be called for both breed <code>A</code> and breed <code>B</code>.
This is the not the case for breed C because it does not have an <code>x</code> property, which is
referenced in <code>set</code>.
</p>

<h3 id="limitations">Limitations</h3>

<p>
The following are important limitations of the Shadama language.
</p>

<p>
Methods can not take breeds as arguments.
For example, the following code is invalid:
</p><pre>breed A (x, y)
breed B (x, y)

def hit(other) {
  var diff = other.x - this.x;
  ...
}

static step() {
  A.hit(B);
}
</pre>


<p>
The <code>step</code> function passes breed B as an argument to the <code>hit</code> method, which is not allowed.
Even if it were, it is not clear which turtle from breed <code>B</code> should
be bound to the argument <code>other</code>.
</p>

<p>
Another limitation is that a given method can either update the turtle's properties or
the patch's properties, but not both.
For example, the following code is invalid:
</p><pre>def test(field) {
  field.r = 1;
  this.r = 1;
}
</pre>


<p>
This limitation arises from limitations in WebGL itself. Future
versions of WebGL, and thus Shadama, may no longer have this restriction.
In the meantime, a workaround is to split the method into two methods ‚Äî one
for updating the patch and one for updating the turtle.
It is also possible that a future version of Shadama will automatically
perform this code transformation.
</p>

</section>

    </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Writing an NVMe Driver in Rust [pdf] (212 pts)]]></title>
            <link>https://db.in.tum.de/~ellmann/theses/finished/24/pirhonen_writing_an_nvme_driver_in_rust.pdf</link>
            <guid>40505167</guid>
            <pubDate>Tue, 28 May 2024 20:21:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://db.in.tum.de/~ellmann/theses/finished/24/pirhonen_writing_an_nvme_driver_in_rust.pdf">https://db.in.tum.de/~ellmann/theses/finished/24/pirhonen_writing_an_nvme_driver_in_rust.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=40505167">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Llama 3-V: Matching GPT4-V with a 100x smaller model and 500 dollars (442 pts)]]></title>
            <link>https://aksh-garg.medium.com/llama-3v-building-an-open-source-gpt-4v-competitor-in-under-500-7dd8f1f6c9ee</link>
            <guid>40505099</guid>
            <pubDate>Tue, 28 May 2024 20:16:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://aksh-garg.medium.com/llama-3v-building-an-open-source-gpt-4v-competitor-in-under-500-7dd8f1f6c9ee">https://aksh-garg.medium.com/llama-3v-building-an-open-source-gpt-4v-competitor-in-under-500-7dd8f1f6c9ee</a>, See on <a href="https://news.ycombinator.com/item?id=40505099">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><a rel="noopener follow" href="https://aksh-garg.medium.com/?source=post_page-----7dd8f1f6c9ee--------------------------------"><div aria-hidden="false"><p><img alt="Aksh Garg" src="https://miro.medium.com/v2/resize:fill:88:88/1*OY2kCIbiKHX3y9S-JEZQJg.jpeg" width="44" height="44" loading="lazy" data-testid="authorPhoto"></p></div></a></div><h2 id="216d"><strong>Overview</strong></h2><p id="14b9">Llama3 took the world by storm, outperforming GPT3.5 in almost all benchmarks and GPT4 on several. And then GPT4o came out, reclaiming the throne with its multimodal finesse. Today, we‚Äôre releasing something to change that: Llama3-V, the first-ever multimodal model built on top of Llama3. As a bonus, we train everything in under $500.</p><p id="9c85">How are the benchmarks you ask? We‚Äôll let the tables speak for themselves. We have a 10‚Äì20% boost over Llava, the current SOTA and most popular model for multimodal understanding. Additionally, we fair very comparably to the closed source models of 100x the size on all metrics except MMMU.</p><figure></figure><h2 id="b6f7"><strong>Check us out on:</strong></h2><p id="9871">‚Ä¢ ü§ó: <a href="https://huggingface.co/mustafaaljadery/llama3v/tree/main" rel="noopener ugc nofollow" target="_blank">https://huggingface.co/mustafaaljadery/llama3v/</a></p><p id="9c17">‚Ä¢ Github: <a href="https://github.com/mustafaaljadery/llama3v" rel="noopener ugc nofollow" target="_blank">https://github.com/mustafaaljadery/llama3v</a></p><h2 id="7795">The rest of the article covers</h2><ul><li id="ce14">Model Architecture</li><li id="422f">Training Framework</li><li id="ca98">Systems Optimizations</li><li id="68e8">Summary</li></ul><h2 id="5f28"><strong>Model Architecture</strong></h2><p id="2a6d">The bulk of our engineering efforts go into making Llama3 understand visual information. To do so, we take an input image and embed it into a series of patch embeddings using the SigLIP model. These embeddings are then aligned with the textual tokens via a projection block, which applies two self-attention blocks to put the textual and visual embeddings in the same plane. Finally, the visual tokens from the projection block are prepended to the textual tokens and the joint representation is passed into Llama3, just as it normally would.</p><figure><figcaption>Llama3-V Architecture: We use SigLIP to embed our input image in patches. Then we train a projection block with two self-attention blocks to align our textual and visual tokens.</figcaption></figure><p id="93cc">The diagram above illustrates at a high-level how everything works. Now, let‚Äôs dive into each stage in detail.</p><p id="66fa"><strong>SigLIP</strong>: SigLIP (Sigmoid Loss for Language Image Pre-Training) is an image embedding model that is similar to CLIP as we see in the figure below. However, unlike CLIP which uses a contrastive loss with softmax normalization, SigLIP utilizes a pairwise sigmoid loss, which allows the model to operate independently on each image-text pair, without requiring a global view across all pairs in a batch. At a high-level, SigLIP‚Äôs vision encoder splits the image into a sequence of non-overlapping image patches and projects them into a lower-dimensional linear embedding space, producing a sequence of patch embeddings. These patch embeddings then go through a vision encoder, which applies self-attention to capture long-range dependencies and extract higher-level visual features. For our purposes, we directly use the original SigLIP model trained by Google DeepMind.</p><figure><figcaption>Illustration of how SigLIP embeddings work. We train an image and text decoder concurrently but in our case the text encoding module is kept fixed. Unlike CLIP, we minimize a sigmoid loss instead of a softmax loss but most other things stay the same. Image from <a href="https://x.com/mervenoyann/status/1745476609686089800/photo/1" rel="noopener ugc nofollow" target="_blank">twitter post </a>by Merve</figcaption></figure><p id="a1f8"><strong>Alignment with textual embeddings: </strong>To save computational resources, we keep SigLIP fixed. However, to align the output image embeddings with the textual embeddings used in Llama3, we use an extra projection module. Unlike Llava, which applies a single linear layer to the original image embeddings, we instead train two self-attention blocks to better capture patterns in the input embeddings, producing the final image embedding vector.</p><p id="fcd5"><strong>Prepending image tokens:</strong> For the textual inputs, we first tokenize the text using a Byte Pair Encoding (BPE) vocabulary, producing a sequence of textual tokens. We demarcate these tokens by enclosing them within special &lt;text&gt; and &lt;/text&gt; tags. As for the image embeddings from the projection block, we treat each vector as a separate ‚Äúvisual token‚Äù and demarcate them using &lt;image&gt; and &lt;/image&gt; tags. Finally, we prepend the sequence of visual tokens to the sequence of textual tokens, forming the joint input representation that is passed into Llama3 for processing.</p><h2 id="75f6">Inference Optimizations</h2><p id="a1bb">Training these models is expensive. To optimize for computation resources, we make two major optimizations. The first is a simple caching mechanism and the second is on the MPS/MLX front.</p><p id="a391"><strong>Caching: </strong>The SigLIP model is much smaller than Llama3. Therefore, if we run everything serially, we have very little GPU utilization when SigLIP is running. Moreover, we can‚Äôt push the utilization up by increasing the batch size up on SigLIP as then Llama runs into OOM errors. Instead we observed that our SigLIP model stays the same and instead pre-compute the image embeddings. Then, for both pre-training and SFT, we directly pass in these precomputed image embeddings instead of re-running the SigLIP module. Not only does this allow us to increase the batch size and maximally use our GPUs for running the SigLIP modules, it also saves us training/inference time as the two parts of the pipeline can occur separately.</p><p id="df3e"><strong>MPS/MLX Optimizations: </strong>Our second optimization was again driven by SigLIP‚Äôs smaller size relative to Llama. Specifically, since SigLIP fit on our Macbooks, we ran inference on an MPS optimized SigLIP model, which allowed us to attain a throughput of 32 images/second ‚Äî allowing our caching step happen relatively quickly.</p><h2 id="8756"><strong>How it was trained</strong></h2><p id="0e19"><strong>Precompute the embeddings from SigLIP: </strong>let‚Äôs now dive into the first step of our pre-training process: <em>precomputing the image embeddings via SigLIP</em>. In this step, our goal is to essentially pass in images into the SigLIP embedding model to obtain a vector representation or embedding of the image. One technical detail: due to higher resolutions, we follow the approach taken by LLaVA-UHD and perform image-splitting. The purpose of image-splitting is to divide the image into variable-sized patches or segments for more efficient encoding. These split images are processed concurrently in batches.</p><p id="b746">Now let‚Äôs dive into how exactly we use the SigLIP embedding. We first load the SigLIP model and processor/tokenizer. We then preprocess the provided input image using the processor. We then pass the preprocessed image to the model. Following this, the model outputs logits for the image-text pairs. We now proceed to apply the sigmoid activation function to the logits to get the probabilities. We now see that the image embedding is contained within these probabilities. So far this embedding captures the visual information in the image.</p><p id="7ba6">Following the computation of the image embedding via SigLIP, we now proceed to learn a projection matrix ‚Äî you can also think of this as the <em>projection layer</em>, which is typically a linear or feed-forward layer. As described above in the ingredients section, the projection layer maps the vision embedding from its original space into a joint multimodal embedding space. Specifically, the projection layer applies a learned weight matrix W_v to the vision embedding v to get the projected multimodal vision embedding W_v * v. So after this projection step, the vision and text embeddings are essentially aligned into a common multimodal embedding space, allowing their representations to interact and be combined for multimodal modeling tasks like visual question answering, image captioning, etc. More specifically, the result of the projection layer is the generated ‚Äúlatents.‚Äù</p><p id="07a9">Once the latents are computed, we then prepend them as image tokens before the text tokens. The reason for the prepending is that having the image before the text makes it easier for the model to learn during pretraining. Think of it as having tokens representing the actual image and then tokens representing the contents of the image in text: almost like a caption paired with an image. Our architecture is nearly identical to that of LLaVA-UHD (they choose CLIP-ViT while we use SigLIP and they work with Vicuna-13B) so we provide their illustration as reference below:</p><figure></figure><p id="8bdb">Now that we‚Äôve established the data needed for pretraining, we can dive into what that actually looks like. In pre-training, we then use 600,000 examples of prepended images to text. In this step we keep the main weights of the Llama-3 architecture frozen. The key is that we want to only update the gradients of the projection matrix. Crucially, we keep the rest of the weights frozen. And with that, we‚Äôve wrapped up our intuition and process for the pretraining step. The key here was aligning the embedded images (latents) with their text in a joint representation and then pretraining LLaMA-3 to focus on updating the projection matrix based on the examples encountered.</p><p id="7888"><strong>Supervised Finetuning</strong></p><p id="f3f5">Following pretraining, we perform supervised finetuning to enhance the performance of our model. In this step, we are freezing our computed embeddings (from the projection layer) and we keep everything except the vision and projection matrices frozen. In other words, if you look at the image below, the red components are unfrozen while the blue components are frozen. This is meant to serve as ‚Äúinstruction‚Äù finetuning ‚Äî in other words making the model stronger for a multimodal text output. In this stage, we use 1M examples (7M split images).</p><figure></figure><h2 id="f170"><strong>In Summary</strong></h2><ul><li id="4f32">We add a vision encoder to Llama3 8B</li><li id="0665">Our model offers 10‚Äì20% performance boosts over Llava the current open-source SOTA vision language model.</li><li id="6423">We offer comparable vision abilities of models close to 100x* larger in size like GPT4v, Gemini Ultra, and Claude Opus.</li><li id="792d">We describe an efficient pipeline to pretrain and instruction finetune the model in under $500.</li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[API Shouldn't Redirect HTTP to HTTPS (608 pts)]]></title>
            <link>https://jviide.iki.fi/http-redirects</link>
            <guid>40504756</guid>
            <pubDate>Tue, 28 May 2024 19:42:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jviide.iki.fi/http-redirects">https://jviide.iki.fi/http-redirects</a>, See on <a href="https://news.ycombinator.com/item?id=40504756">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
      <h2>Background</h2>
      <p>
        When an user directs their web browser to an HTTP URL, it's a common practice for the service to redirect the
        request to a corresponding HTTPS page. This unencrypted part of the communication flow has its flaws. Third
        parties in shared networks, as well as network intermediaries, could
        <a href="https://en.wikipedia.org/wiki/Sniffing_attack" target="_blank" rel="noopener noreferrer">sniff</a>
        passwords and other secrets from the initial HTTP traffic
        or even impersonate the web server with a <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack" target="_blank" rel="noopener noreferrer">MITM</a> attack.
        Nevertheless, redirection has been an useful first step in the transition from the largely unencrypted early web
        to the <a href="https://transparencyreport.google.com/https/overview" target="_blank" rel="noopener noreferrer">largely encrypted</a> web of today.
      </p>
      <p>
        Later techniques tightened the security story further. Servers can now send <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security" target="_blank" rel="noopener noreferrer">HSTS</a> along with the initial HTTP-to-HTTPS redirection response, telling the
        user's browser to use only HTTPS for that domain from
        then on. This limits the window of opportunity for trivial sniffing and MITM attacks to the first request.
        Browsers then added <a href="https://hstspreload.org/" target="_blank" rel="noopener noreferrer">HSTS preload
          lists</a> and <a href="https://support.mozilla.org/en-US/kb/https-only-prefs" target="_blank" rel="noopener noreferrer">HTTPS-Only modes</a> that allow skipping the initial unencrypted request altogether.
      </p>
      <p>
        From the perspective of usability-security tradeoff it all makes sense for user-facing sites. But interestingly,
        the redirection approach also appears to be widely adopted for APIs. APIs are mostly consumed by other software
        so the same usability arguments don't apply there. Moreover, many programmatic API clients don't tend to keep
        browser-like state of things like HSTS headers they have seen.
      </p>
      <p>
        This post argues that, due to these factors, the common practice of redirecting API calls from HTTP to
        HTTPS should be reconsidered. While the post mostly refers to REST APIs, its points also apply to other styles
        of APIs that use HTTP(S) as a transport mechanism.
      </p>

      <h2>A Simple Typo Is Enugh</h2>
      <p>
        At <a href="https://badrap.io/" target="_blank" rel="noopener noreferrer">work</a>, we were building a new
        integration against a third-party API. The initial code commit contained a mistyped API base URL
        <code>"http://..."</code> instead of <code>"https://..."</code>. A pretty easy mistake to make.
      </p>
      <p>
        The error was essentially masked during runtime: The third-party API responded to every request with a 301
        redirect to their HTTPS side. Node.js's built-in <a href="https://nodejs.org/docs/latest/api/globals.html#fetch" target="_blank" rel="noopener noreferrer">fetch</a>
        happily and <em>quietly</em> followed those redirects to the HTTPS endpoint.
      </p>
      <p>
        <strong>Every single one of our API requests now sent the API keys over the network in plaintext</strong>,
        before then sending them again to the encrypted endpoint. The one letter omission could have exposed the used
        API keys to third parties without us realizing it. As the integration would have worked, there's a good
        chance that code would have leaked any secrets in the API calls for years. In the long run, the
        probabilities for malice tend to accumulate.
      </p>
      <p>
        Luckily we spotted the error during the code review before the error could propagate to production or even
        testing. We also realized that our <em>own</em> API also did similar HTTP-to-HTTPS redirects.
      </p>

      <h2>The Fail-fast Principle</h2>
      <p>
        When an API redirect HTTP requests to HTTPS - and the API client silently follows those redirects - it tends to
        hide mistyped URLs like in the case described above. A simple one-letter omission can easily be ignored, end up
        in production, and compromise the entire system's confidentiality.
      </p>
      <p>
        In most cases, it's better to adhere to the <a href="https://en.wikipedia.org/wiki/Fail-fast_system" target="_blank" rel="noopener noreferrer">fail-fast principle</a>: unencrypted API calls should fail in a
        spectacular and visible way so that the developer can easily spot and fix the typo as early as possible during
        the development process.
      </p>
      <p>
        A great solution for failing fast would be to disable the API server's HTTP interface altogether and not even
        answer to connections attempts to port 80. If the initial unencrypted connection is never established then the
        API keys aren't sent, mitigating sniffing attacks and limiting the window of opportunity for MITM attacks to an
        extremely small time window. This approach is viable for APIs hosted under their own domains like
        <code>api.example.com</code>.
      </p>
      <p>
        Our own API was served under the <code>/api</code> path from the same domain as our service's web UI. We
        didn't have the guts to disable the HTTP interface for that domain altogether, so we picked next best
        option: all unencrypted HTTP requests made under <code>/api</code> now return a descriptive error message along
        with the HTTP status code 403. Some initial plaintext requests might be made during development, but they're
        much easier for developers to notice.
      </p>

      <h2>Who Else?</h2>
      <p>
        That took care of our own API. We also pinged the third-party API provider and a couple of friends that they
        might want to check their APIs. And who knows, maybe there were some commonly used APIs that accept API keys (or
        other credentials) and also redirect from HTTP to HTTPS?
      </p>
      <p>
        I listed a bunch of well known APIs from the top of my head and did a little surveys. Several of them returned
        HTTP errors or declined to connections altogether. They're listed here with cURL spells for checking out their
        detailed responses:
      </p>

      <ol>
        <li>
          <strong>Stripe API</strong>: Responds with <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403" target="_blank" rel="nofollow noreferrer">403</a> ("Forbidden") and a descriptive error message.
          <br>
          <code>curl -i http://api.stripe.com</code>
        </li>
        <li>
          <strong>Google Cloud API</strong>: Responds with 403 and a descriptive error message.
          <br>
          <code>curl -i http://compute.googleapis.com/compute/v1/projects/project/regions/region/addresses</code>
        </li>
        <li>
          <strong>Shopify API</strong>: Responds with 403 and a descriptive error message.
          <br>
          <code>curl -i http://shop.myshopify.com/admin/api/2021-07/shop.json</code>
        </li>
        <li>
          <strong>NPM Registry API</strong>: Responds with <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/426" target="_blank" rel="nofollow noreferrer">426</a> ("Upgrade Required") and a descriptive error message.
          <br>
          <code>curl -i -X PUT -H 'content-type: application/json' -d '{}' 'http://registry.npmjs.org/-/user/org.couchdb.user:npm'</code>
        </li>
        <li>
          <a href="https://www.fastmail.com/for-developers/integrating-with-fastmail/" target="_blank" rel="nofollow noreferrer">Fastmail JMAP API</a>: The whole HTTP interface seems to be disabled.
          <br>
          <code>curl -i -H 'Authorization: Bearer foo' http://api.fastmail.com/jmap/session</code>
        </li>
        <li>
          <strong>Mailjet</strong>: The socket responds with completely empty payload.
          <br>
          <code>curl -i -X POST --user "user:pass" http://api.mailjet.com/v3.1/send -H 'Content-Type: application/json' -d '{}'</code>
        </li>
      </ol>

      <p>However, the following APIs <em>did</em> respond with HTTP-to-HTTPS redirects:</p>

      <ol>
        <li>
          <a href="https://developers.activecampaign.com/reference/list-all-accounts" target="_blank" rel="nofollow noreferrer">ActiveCampaign
            API</a>
          <br>
          <code>curl -i -H "Api-Token: 123abc-def-ghi" http://123456demo.api-us1.com/api/3/accounts</code>
        </li>
        <li>
          <a href="https://developer.atlassian.com/server/jira/platform/rest-apis/" target="_blank" rel="nofollow noreferrer">Atlassian Jira
            REST API</a>
          <br>
          <code>curl -i http://jira.atlassian.com/rest/api/latest/issue/JRA-9</code>
        </li>
        <li>
          <a href="https://docs.anthropic.com/en/api/messages" target="_blank" rel="nofollow noreferrer">Anthropic
            API</a>
          <br>
          <code>curl -i http://api.anthropic.com/v1/messages --header "x-api-key: 1" --header "anthropic-version: 2023-06-01" --header "content-type: application/json" --data '{}'</code>
        </li>
        <li>
          <a href="https://auth0.com/docs/api/management/v2/introduction" target="_blank" rel="nofollow noreferrer">Auth0</a>
          <br>
          <code>curl -i 'http://login.auth0.com/api/v2/organizations' -H 'Accept: application/json' -H 'Authorization: Bearer foo'</code>
        </li>
        <li>
          <a href="https://developers.cloudflare.com/api/operations/listAccountRulesets" target="_blank" rel="nofollow noreferrer">Cloudflare
            API</a>
          <br>
          <code>curl -i http://api.cloudflare.com/client/v4/accounts/abf9b32d38c5f572afde3336ec0ce302/rulesets</code>
        </li>
        <li>
          <a href="https://docs.datadoghq.com/api/latest/gcp-integration/" target="_blank" rel="nofollow noreferrer">Datadog</a>
          <br>
          <code>curl -i http://api.datadoghq.com/api/v2/integration/gcp/accounts</code>
        </li>
        <li>
          <a href="https://docs.deno.com/subhosting/api/" target="_blank" rel="nofollow noreferrer">Deno Subhosting
            API</a>
          <br>
          <code>curl -i http://api.deno.com/v1/organizations/11111111-2222-3333-4444-555555555555/projects</code>
        </li>
        <li>
          <a href="https://docs.digitalocean.com/reference/api/example-usage/" target="_blank" rel="nofollow noreferrer">DigitalOcean</a>
          <br>
          <code>curl -i -X GET "http://api.digitalocean.com/v2/actions" -H "Authorization: Bearer foo"</code>
        </li>
        <li>
          <a href="https://developers.facebook.com/docs/graph-api/overview/#me" target="_blank" rel="nofollow noreferrer">Facebook Graph API</a>

          <br>
          <code>curl -i 'http://graph.facebook.com/me?access_token=foo</code>
        </li>
        <li>
          <a href="https://www.fastly.com/documentation/reference/api/account/customer/" target="_blank" rel="nofollow noreferrer">Fastly
            API</a>
          <br>
          <code>curl -i -H "Fastly-Key: foo" "http://api.fastly.com/current_customer"</code>
        </li>
        <li>
          <a href="https://www.figma.com/developers/api#users" target="_blank" rel="nofollow noreferrer">Figma
            API</a>
          <br>
          <code>curl -i -H 'X-FIGMA-TOKEN: 123' 'http://api.figma.com/v1/me'</code>
        </li>
        <li>
          <a href="https://docs.github.com/en/rest/users/users?apiVersion=2022-11-28#get-the-authenticated-user" target="_blank" rel="nofollow noreferrer">GitHub
            API</a>
          <br>
          <code>curl -i http://api.github.com/user</code>
        </li>
        <li>
          <a href="https://docs.gitlab.com/ee/api/audit_events.html" target="_blank" rel="nofollow noreferrer">Gitlab
            API</a>
          <br>
          <code>curl -i http://gitlab.com/api/v4/audit_events</code>
        </li>
        <li>
          <a href="https://api.hackerone.com/customer-resources/#organizations-get-your-organizations" target="_blank" rel="nofollow noreferrer">HackerOne API</a>
          <br>
          <code>curl -i "http://api.hackerone.com/v1/me/organizations" -X GET -u "user:token" -H 'Accept: application/json'</code>
        </li>
        <li>
          <a href="https://docs.hetzner.cloud/#certificates-get-all-certificates" target="_blank" rel="nofollow noreferrer">Hetzner Cloud
            API</a>
          <br>
          <code>curl -i -H "Authorization: Bearer 123" "http://api.hetzner.cloud/v1/certificates"</code>
        </li>
        <li>
          <a href="https://developers.hubspot.com/docs/api/settings/account-activity-api" target="_blank" rel="nofollow noreferrer">Hubspot
            API</a>
          <br>
          <code>curl -i --request GET --url http://api.hubapi.com/account-info/v3/api-usage/daily/private-apps  --header 'authorization: Bearer YOUR_ACCESS_TOKEN'</code>
        </li>
        <li>
          <a href="https://cloud.ibm.com/apidocs/factsheets#authentication" target="_blank" rel="nofollow noreferrer">IBM Cloud API</a>
          <br>
          <code>curl -i "http://iam.cloud.ibm.com/identity/token" -d "apikey=YOUR_API_KEY_HERE&amp;grant_type=urn%3Aibm%3Aparams%3Aoauth%3Agrant-type%3Aapikey" -H "Content-Type: application/x-www-form-urlencoded" -H "Authorization: Basic Yng6Yng="</code>
        </li>
        <li>
          <a href="https://developers.facebook.com/docs/instagram-basic-display-api/getting-started" target="_blank" rel="nofollow noreferrer">Instagram Basic Display API</a>
          <br>
          <code>curl -i 'http://graph.instagram.com/me/media?fields=id,caption&amp;access_token=foo'</code>
        </li>
        <li>
          <a href="https://developers.linear.app/docs/graphql/working-with-the-graphql-api" target="_blank" rel="nofollow noreferrer">Linear
            API</a>
          <br>
          <code>curl -i -X POST -H "Content-Type: application/json" http://api.linear.app/graphql</code>
        </li>
        <li>
          <a href="https://docs.joinmastodon.org/api/" target="_blank" rel="nofollow noreferrer">Mastodon API</a> (on
          mastodon.social)
          <br>
          <code>curl -i http://mastodon.social/api/v1/timelines/home</code>
        </li>
        <li>
          <a href="https://learn.microsoft.com/en-us/graph/api/user-list-messages" target="_blank" rel="nofollow noreferrer">Microsoft Graph
            API</a>
          <br>
          <code>curl -i http://graph.microsoft.com/v1.0/me/messages</code>
        </li>
        <li>
          <a href="https://docs.netlify.com/api/get-started/" target="_blank" rel="nofollow noreferrer">Netlify
            API</a>
          <br>
          <code>curl -i -H "User-Agent: foo" -H "Authorization: Bearer foo" http://api.netlify.com/api/v1/sites</code>
        </li>
        <li>
          <a href="https://platform.openai.com/docs/api-reference/making-requests" target="_blank" rel="nofollow noreferrer">OpenAI API</a>
          <br>
          <code>curl -i -H "Content-Type: application/json" -H "Authorization: Bearer 123" -d '{}' http://api.openai.com/v1/chat/completions</code>
        </li>
        <li>
          <a href="https://api.us.ovhcloud.com/console/#/auth/details~GET" target="_blank" rel="nofollow noreferrer">OVHCloud API</a>
          <br>
          <code>curl -i http://api.us.ovhcloud.com/1.0/auth/details</code>
        </li>
        <li>
          <a href="https://resend.com/docs/api-reference/domains/list-domains" target="_blank" rel="nofollow noreferrer">Resend</a>
          <br>
          <code>curl -i -X GET 'http://api.resend.com/domains' -H 'Authorization: Bearer re_123456789' -H 'Content-Type: application/json'</code>
        </li>
        <li>
          <a href="https://developer.shodan.io/api" target="_blank" rel="nofollow noreferrer">Shodan API</a>
          <br>
          <code>curl -i 'http://api.shodan.io/org?key=12345'</code>
        </li>
        <li>
          <a href="https://api.slack.com/web#posting_json" target="_blank" rel="nofollow noreferrer">Slack API</a>
          <br>
          <code>curl -i -X POST -H "Content-Type: application/json" http://slack.com/api/conversations.create</code>
        </li>
        <li>
          <a href="https://github.com/tailscale/tailscale/blob/main/publicapi/readme.md">Tailscale API</a>
          <br>
          <code>curl -i -H "Authorization: Bearer tskey-api-xxxxx" http://api.tailscale.com/api/v2/user-invites/1</code>
        </li>
        <li>
          Twitter
          <br>
          <code>curl -i http://api.twitter.com/2/users/by/username/jack</code>
        </li>
        <li>
          <a href="https://developer.uber.com/docs/drivers/guides/authentication#step-3:-get-an-access-token" target="_blank" rel="nofollow noreferrer">Uber API</a>
          <br>
          <code>curl -F client_secret=1 -F client_id=1 -F grant_type=authorization_code -F redirect_uri=1 -F code=1 https://auth.uber.com/oauth/v2/token</code>
        </li>
        <li>
          <a href="https://developers.upcloud.com/1.3/3-accounts/#get-account-information" target="_blank" rel="nofollow noreferrer">UpCloud
            API</a>
          <br>
          <code>curl -i -H 'Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ=' http://api.upcloud.com/1.3/account</code>
        </li>
        <li>
          <a href="https://vercel.com/docs/rest-api/endpoints/authentication#get-auth-token-metadata" target="_blank" rel="nofollow noreferrer">Vercel API</a>
          <br>
          <code>curl -i -H 'Authorization: Bearer foo' http://api.vercel.com/v5/user/tokens/5d9f2ebd38ddca62e5d51e9c1704c72530bdc8bfdd41e782a6687c48399e8391</code>
        </li>
        <li>
          <a href="https://www.vultr.com/api/#tag/account/operation/get-account" target="_blank" rel="nofollow noreferrer">Vultr API</a>
          <br>
          <code>curl -i "http://api.vultr.com/v2/account" -H "Authorization: Bearer 123"</code>
        </li>
      </ol>
      <p>
        I didn't report these findings separately to all of these API providers. There were some outliers not listed
        here that I did contact, with varying results. More on that later.
      </p>
      <p>
        Take each individual result with a grain of salt: I had to test some of these APIs without valid
        credentials, or with credentials used in documentation examples. But the overall pattern indicates that the
        habit of APIs redirecting HTTP requests to HTTPS is quite widespread. Why is that?
      </p>

      <h2>Best Practices Need Practice Too</h2>
      <p>
        When speaking with people about this topic, many have noted that HTTP-to-HTTPS redirects from APIs have obvious
        downsides - in hindsight.
      </p>
      <p>Redirects for user-facing applications are often mentioned in lists best practices and cheat sheets, <a href="https://cheatsheetseries.owasp.org/cheatsheets/Transport_Layer_Security_Cheat_Sheet.html#use-tls-for-all-pages" target="_blank" rel="nofollow noreferrer">like the ones published by OWASP (The Open Worldwide Application
          Security Project)</a>.
        Recommendations specifically aimed for APIs seem rare in contrast. I found just few mentions, for example an
        excellent PDF slideset called <a href="https://owasp.org/www-chapter-belgium/assets/2018/2018-10-23/OWASP_20181023_CommonAPISecurityPitfalls.pdf" target="_blank" rel="nofollow noreferrer">"Common API Security Pitfalls"</a> by <a href="https://infosec.exchange/@PhilippeDeRyck" target="_blank" rel="nofollow noreferrer">Philippe De
          Ryck</a>,
        buried deep within the OWASP website:
      </p>

      <figure>
        <img alt="Slide 8 of &quot;Common API Security Pitfalls&quot;: &quot;API-only endpoints should disable HTTP and only need to support HTTPS.&quot;" src="https://jviide.iki.fi/deryck-slide-8.png">
        <figcaption>
          <small>
            Slide 8 of "Common API Security Pitfalls". Emphasis added to highlight the relevant
            section.
          </small>
        </figcaption>
      </figure>

      <p>
        My Google-fu might just be bad. But maybe each best practice item recommending HTTP-to-HTTPS redirects
        for user-facing sites should have an explicit caveat attached, prominently advising against such redirects for
        APIs. Therefore I opened <a href="https://github.com/OWASP/CheatSheetSeries/issues/1407" target="_blank" rel="nofollow noreferrer">an issue</a> that suggests amending OWASP's Transport Layer Security Cheat Sheet
        accordingly.
      </p>

      <h2>Bonus Round: Popular APIs That Respond In Plaintext</h2>
      <p>
        While reviewing the list of APIs, I bumped into some popular ones that neither redirected nor failed
        unencrypted requests. They just responded to unencrypted HTTP requests with unencrypted HTTP responses, without
        enforcing HTTPS at any stage.
      </p>
      <p>
        Maybe they had their reasons, or maybe they had just accidentally misconfigured their reverse proxies.
        Regardless, seeing that they all handle potentially sensitive data, I contacted these API providers through
        their respective security channels and explained the problem. The providers are listed below in the order of
        reporting. I'll unredact their names and details when they've given a definite response, or otherwise after
        a reasonable amount of time has passed.
      </p>
      <ul>
        <li>
          <strong>Provider A</strong>: Reported on <time datetime="2024-05-17">2024-05-17</time> through their
          vulnerability reporting email address. Awaiting response.
        </li>
        <li>
          <strong>Provider B</strong>: Reported on <time datetime="2024-05-21">2024-05-21</time> through their HackerOne
          program. Got a prompt triage response, stating that attacks requiring MITM (or physical access to a user's
          device) are outside the scope of the program. Sent back a response explaining that MITM or physical access was
          not required for sniffing. Awaiting response.
        </li>
        <li>
          <strong>Provider C</strong>: Reported on <time datetime="2024-05-21">2024-05-21</time> through their security
          email address. Awaiting response.
        </li>
        <li id="virustotal">
          <a href="https://docs.virustotal.com/reference/overview" target="_blank" rel="noopener noreferrer">VirusTotal
            API</a>: Reported on <time datetime="2024-05-21">2024-05-21</time> through Google's <a href="https://bughunters.google.com/" target="_blank" rel="noopener noreferrer">Bug Hunters</a> site
          (VirusTotal is owned by a Google subsidiary that got merged into Google Cloud). The
          API responds in plaintext to requests like for example this (where <code>$API_KEY</code> is a valid API key):

          <p>
            <code>curl -i -H 'x-apikey: $API_KEY' http://www.virustotal.com/api/v3/ip_addresses/1.1.1.1</code>
          </p>

          <p>
            The report got promptly triaged. Received a response on <time datetime="2024-05-24">2024-05-24</time>, cited
            in part below:
          </p>

          
          
        </li>
      </ul>

      <h2>Conclusion</h2>
      <p>
        Redirecting HTTP to HTTPS for APIs can be more harmful than helpful due to the nature of APIs. Unlike
        user-facing web pages, APIs are primarily consumed by other software. API clients often follow redirects
        automatically and do not maintain state or support security headers like HSTS. This can lead to silent failures
        where sensitive data in each API request is initially transmitted in plaintext over the network, unencrypted.
      </p>
      <p>
        Let's adopt a fail-fast approach and disable the HTTP interface entirely or return clear
        error responses for unencrypted requests. This ensures that developers can quickly notice and fix accidental
        use <code>http://</code> URLs to <code>https://</code>.
      </p>
      <p>
        Several well-known and popular APIs also redirect HTTP requests to HTTPS. This behavior seems to be
        widespread. Maybe it's time we amend best practices to explicitly recommend that APIs flat our reject
        unencrypted requests.
      </p>
      <p>
        <em>Huge thanks to Juhani Eronen (<a href="https://www.kyberturvallisuuskeskus.fi/en/homepage" target="_blank" rel="noopener noreferrer">NCSC-FI</a>) and Marko Laakso (<a href="https://www.oulu.fi/en/research-groups/oulu-university-secure-programming-group-ouspg" target="_blank" rel="noopener noreferrer">OUSPG</a>) for their help and guidance during writing this
          post.</em>
      </p>

    </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Simple Speech-to-Text on the '10 Cents' CH32V003 Microcontroller (113 pts)]]></title>
            <link>https://github.com/brian-smith-github/ch32v003_stt</link>
            <guid>40504481</guid>
            <pubDate>Tue, 28 May 2024 19:20:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/brian-smith-github/ch32v003_stt">https://github.com/brian-smith-github/ch32v003_stt</a>, See on <a href="https://news.ycombinator.com/item?id=40504481">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">Simple Speech-To-Text on the '10 cents' CH32V003 Microcontroller</h2><a id="user-content-simple-speech-to-text-on-the-10-cents-ch32v003-microcontroller" aria-label="Permalink: Simple Speech-To-Text on the '10 cents' CH32V003 Microcontroller" href="#simple-speech-to-text-on-the-10-cents-ch32v003-microcontroller"></a></p>
<p dir="auto">This program will read audio from an analog microphone
and distinguish between the spoken digits 'zero' to 'nine',
logging the results over a serial link.</p>
<p dir="auto">I use a MAX4466 electret microphone amplifier board connected to
a CH32V003 development board, along with a WCH-LinkE adaptor for both programming
the chip and acting as a UART-to-USB converter to read the output.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Compiling</h2><a id="user-content-compiling" aria-label="Permalink: Compiling" href="#compiling"></a></p>
<p dir="auto">The code is based on the excellent <a href="https://github.com/cnlohr/ch32v003fun">ch32v003fun</a>
library, and should be compiled in a similar way to the examples there.
(i.e. this directory should be added to the 'examples/' directory
alongside the others)</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Pin Connections</h2><a id="user-content-pin-connections" aria-label="Permalink: Pin Connections" href="#pin-connections"></a></p>
<table>
<thead>
<tr>
<th>Link-E Adaptor</th>
<th>CH32V003 Dev Board</th>
</tr>
</thead>
<tbody>
<tr>
<td>3V3</td>
<td>VCC</td>
</tr>
<tr>
<td>GND</td>
<td>GND</td>
</tr>
<tr>
<td>SWDIO/TMS</td>
<td>PD1</td>
</tr>
<tr>
<td>RX</td>
<td>PD5</td>
</tr>
<tr>
<td>---</td>
<td>---</td>
</tr>
<tr>
<td>MAX4466 Microphone</td>
<td>CH32V003 Dev Board</td>
</tr>
<tr>
<td>---</td>
<td>---</td>
</tr>
<tr>
<td>VCC</td>
<td>VCC</td>
</tr>
<tr>
<td>GND</td>
<td>GND</td>
</tr>
<tr>
<td>OUT</td>
<td>PD4</td>
</tr>
</tbody>
</table>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/brian-smith-github/ch32v003_stt/blob/main/ch32v003_with_max4466_mic.jpg"><img src="https://github.com/brian-smith-github/ch32v003_stt/raw/main/ch32v003_with_max4466_mic.jpg" alt="test"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Accuracy</h2><a id="user-content-accuracy" aria-label="Permalink: Accuracy" href="#accuracy"></a></p>
<p dir="auto">I'm getting about 90% accuracy identifying spoken digits with the code
as it stands. As with all R&amp;D, there's always scope for improvement.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Training / Development</h2><a id="user-content-training--development" aria-label="Permalink: Training / Development" href="#training--development"></a></p>
<p dir="auto">In training/ there is a stripped-down ch32v003 program to just dump
8-bit raw audio samples over the serial link, and a desktop-linux program
to read that data and do training of spoken words, simulating the
integer-pipeline used in the main code for the audio processing.</p>
<p dir="auto">In misc/ are C programs that generate:</p>
<ul dir="auto">
<li>the FFT 'twiddles' integer sin/cos tables used in the FFT function
(twiddles_RES13.h)</li>
<li>the FFT-to-Mel matrix, (mel_mx.h)</li>
<li>the discrete-cosine-transform matrix  (dctm_20x8_8bit.h)</li>
<li>the  codebook.h spoken-numbers codebook. (codebook.h)</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Challenges</h2><a id="user-content-challenges" aria-label="Permalink: Challenges" href="#challenges"></a></p>
<ul dir="auto">
<li>
<p dir="auto">Only have 16K storage and 2K RAM available, not much room for lookup tables,
codebooks and matrices for processing. (the binary is currenty about 10K)</p>
</li>
<li>
<p dir="auto">The ADC on the CH32V003 is only 10-bit as opposed to the usual 16-bit
(or even 12-bit) minimum for good quality audio.
This is compensated for somewhat  by 8x oversampling/averaging.
I can feed the sampled audio into the 'Whisper' STT application
and get accurate general transcription done, so the quality is certainly
'good enough'.</p>
</li>
<li>
<p dir="auto">No I2S support so using a higher-quality digital microphone is not an option.</p>
</li>
<li>
<p dir="auto">No floating-point support, all code must use integer/fixed-point math</p>
</li>
<li>
<p dir="auto">No hardware-multiply or hardware-divide - so audio processing routines have
to be lean and fast to run within the 48MHz / 100fps timing constraints</p>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">How it works</h2><a id="user-content-how-it-works" aria-label="Permalink: How it works" href="#how-it-works"></a></p>
<p dir="auto">The code uses traditional (allbeit pared down)  MFCC feature extraction,
and simply compares buffered tensors of samples against pre-recorded
spoken digits to get a 'best match'.</p>
<p dir="auto">A timer is set up to generate an interrupt around 50,000/sec. On receiving
an interrupt, the ADC is read and the next sample convertion started.
8 consecutive samples are averaged to generate a ~6400 samples/sec audio stream.</p>
<p dir="auto">Every 64 samples (10ms), a 128-wide FFT of a buffer of the last 128 samples is
performed and 20 mel-scale frequency bins are calculated from that. The
mel bin energies  are converted to log2-scale.
Finally an 8-bin cepstrum is calculated via a DCT of the 20 log-mel bins.</p>
<p dir="auto">When the 'energy' of a frame (sum of all mel levels) is above a threshold, it is added to a 'word'
buffer, otherwise a count of 'silence' frames is increased.</p>
<p dir="auto">When enough 'silence' frames have passed to signify the end of a spoken
sample, its length is warped to exactly 16 frames and compared to a
lookup table of previously stored word samples, and the closest match
is reported.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">How it compares to more common speech-to-text systems</h2><a id="user-content-how-it-compares-to-more-common-speech-to-text-systems" aria-label="Permalink: How it compares to more common speech-to-text systems" href="#how-it-compares-to-more-common-speech-to-text-systems"></a></p>
<ul dir="auto">
<li>
<p dir="auto">Usually 16,000 samples/sec audio is used (high fidelity), however to
reduce the audio processing required, only 6400 samples/sec audio is used here.
This is still high enough quality for accurate transcription
(the top speech formants are at around 3200Hz, everything above that is redundant
in terms of recognition).
This makes each 10ms slice of audio exactly 64 samples.</p>
</li>
<li>
<p dir="auto">Heavy pre-emphasis used (1.0 i.e. subtract the previous sample from
the current one. This mostly removes spectral tilt, and completely removes
any DC level in the signal.</p>
</li>
<li>
<p dir="auto">20ms frames are used, compared to 25ms found elsewhere (Vosk,Whisper).  Standard 10ms
step/100fps processing is maintained though. This allows for 128-sample FFT
to be used - FFT alogrithm is optimal at power-of-2 widths, and potentially would
allow for 100% faster FFT by taking advantage of the symmetry of the algo.
The narrow-framesize is compensated for by:</p>
</li>
<li>
<p dir="auto">no windowing used. Usually the signal has a Hann window applied to  the signal before FFT, this step is skipped to avoid 'bookending' the  narrow signal.
Not windowing raises the noise-floor of the FFT output, but noise-floor removal
of the output mel bins is done to compensate.</p>
</li>
<li>
<p dir="auto">Only 20 mel bins calculated. Usually 40 (Vosk) or even 80 mel-scale bins
(Whisper) are used these days.</p>
</li>
<li>
<p dir="auto">extreme (probably overly so) compression via DCT to 8 cepstrum bins to
minimise the final frame dimensions.</p>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Applications</h2><a id="user-content-applications" aria-label="Permalink: Applications" href="#applications"></a></p>
<p dir="auto">Maybe the basis for a low-complexity/low-power/low-cost/always-on wakeword engine?</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Future</h2><a id="user-content-future" aria-label="Permalink: Future" href="#future"></a></p>
<p dir="auto">New versions of the CH32 line of chips is due soon, improving the ADC to 12-bit and adding hardware-multiply instructions which would speed up the FFT and
matrix-multiply routines in the code significantly, and improve
accuracy in the processing.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Why?</h2><a id="user-content-why" aria-label="Permalink: Why?" href="#why"></a></p>
<p dir="auto">I dunno, I like a challenge. üòÄ  Doing something traditionally associated with
high-end processing on a 10-cent low-end microcontroller is always going to be
a stretch.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Former FTX Executive Ryan Salame Sentenced to 90 Months in Prison (137 pts)]]></title>
            <link>https://www.justice.gov/usao-sdny/pr/former-ftx-executive-ryan-salame-sentenced-90-months-prison</link>
            <guid>40504228</guid>
            <pubDate>Tue, 28 May 2024 19:00:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.justice.gov/usao-sdny/pr/former-ftx-executive-ryan-salame-sentenced-90-months-prison">https://www.justice.gov/usao-sdny/pr/former-ftx-executive-ryan-salame-sentenced-90-months-prison</a>, See on <a href="https://news.ycombinator.com/item?id=40504228">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Damian Williams, the United States Attorney for the Southern District of New York, announced that RYAN SALAME was sentenced today to 90&nbsp;months in prison. &nbsp;SALAME previously pled guilty to conspiracy to make unlawful political contributions and defraud the Federal Election Commission and conspiracy to operate an unlicensed money transmitting business before U.S. District Judge Lewis A. Kaplan, who imposed today‚Äôs sentence.&nbsp;</p>

<blockquote>
<p>U.S. Attorney Damian Williams said: ‚ÄúRyan Salame agreed to advance the interests of FTX, Alameda Research, and his co-conspirators through an unlawful political influence campaign and through an unlicensed money transmitting business, which helped FTX grow faster and larger by operating outside of the law.&nbsp; Salame‚Äôs involvement in two serious federal crimes undermined public trust in American elections and the integrity of the financial system.&nbsp; Today‚Äôs sentence underscores the substantial consequences for such offenses.‚Äù&nbsp;</p>
</blockquote>

<p>According to the filings and statements made during court proceedings:</p>

<p>RYAN SALAME was a high-ranking official at Alameda Research, the quantitative cryptocurrency trading firm founded by Samuel Bankman-Fried, from 2019 to 2021.&nbsp; In or about October 2021, SALAME was named co-CEO of FTX‚Äôs Bahamian affiliate FTX Digital Markets Ltd.</p>

<p>While working at Alameda Research and FTX, SALAME conspired with Bankman-Fried and other employees of FTX and Alameda Research to operate an unlicensed money transmitting business, unlawfully using FTX, Alameda Research, and an entity called ‚ÄúNorth Dimension‚Äù to transmit FTX customer funds without a license.&nbsp; The conspirators and others at Alameda Research and FTX also made false statements to U.S. banks in order to maintain their unlawful businesses.</p>

<p>Additionally, beginning in or around 2020, SALAME conspired with Bankman-Fried and FTX executive Nishad Singh to donate campaign contributions in a manner that obscured Bankman-Fried‚Äôs association with certain of the contributions.&nbsp; These donations were made to improve Bankman-Fried‚Äôs personal standing in Washington, D.C., increase FTX‚Äôs profile, and curry favor with candidates that could help pass legislation favorable to FTX, Alameda, or Bankman-Fried‚Äôs personal agenda. &nbsp;In total, SALAME and his co-conspirators made over 300 political contributions, totaling tens of millions of dollars, that were unlawful because they were made in the name of a straw donor or paid for with corporate funds and caused false information to be reported by campaigns and political action committees to the Federal Election Commission.</p>

<p>* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</p>

<p>In addition to the prison term, SALAME, 30, of Potomac, Maryland, was sentenced to three&nbsp;years of supervised release and ordered to pay more than $6 million in forfeiture and more than $5 million in restitution.</p>

<p>Mr. Williams praised the outstanding investigative work of the Federal Bureau of Investigation.&nbsp;</p>

<p>This case is being handled by the Office‚Äôs Securities and Commodities Fraud Task Force, with assistance from the Office‚Äôs Illicit Finance and Money Laundering and Complex Frauds and Cybercrime Units. &nbsp;Assistant U.S. Attorneys Danielle Kudla, Samuel Raymond, Thane Rehn, Nicolas Roos, and Danielle Sassoon are in charge of the prosecution.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tinygrad 0.9.0 (218 pts)]]></title>
            <link>https://github.com/tinygrad/tinygrad/releases/tag/v0.9.0</link>
            <guid>40504212</guid>
            <pubDate>Tue, 28 May 2024 18:58:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/tinygrad/tinygrad/releases/tag/v0.9.0">https://github.com/tinygrad/tinygrad/releases/tag/v0.9.0</a>, See on <a href="https://news.ycombinator.com/item?id=40504212">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-pjax="true" data-test-selector="body-content" data-view-component="true"><p>Close to the new line limit of 8000 lines, sitting at 7958 lines.<br>
tinygrad is <em><strong>much</strong></em> more usable now.</p>
<p>Just over 1200 commits since <code>0.8.0</code>.</p>
<h2>Release Highlights</h2>
<ul>
<li>New documentation: <a href="https://docs.tinygrad.org/" rel="nofollow">https://docs.tinygrad.org</a></li>
<li><code>gpuctypes</code> has been brought in tree and is no longer an external dependency. [<a data-error-text="Failed to load title" data-id="2102609199" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/3253" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3253/hovercard" href="https://github.com/tinygrad/tinygrad/pull/3253">#3253</a>]</li>
<li><code>AMD=1</code> and <code>NV=1</code> experimental backends for not requiring any userspace runtime components like ROCm or CUDA.
<ul>
<li>These backends should reduce the amount of python time, and specifically with multi-gpu use cases.</li>
</ul>
</li>
<li><code>PTX=1</code> for rendering directly to ptx instead of cuda. [<a data-error-text="Failed to load title" data-id="2082842526" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/3139" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3139/hovercard" href="https://github.com/tinygrad/tinygrad/pull/3139">#3139</a>] [<a data-error-text="Failed to load title" data-id="2170097313" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/3623" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3623/hovercard" href="https://github.com/tinygrad/tinygrad/pull/3623">#3623</a>] [<a data-error-text="Failed to load title" data-id="2190196107" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/3775" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3775/hovercard" href="https://github.com/tinygrad/tinygrad/pull/3775">#3775</a>]</li>
<li>Nvidia tensor core support. [<a data-error-text="Failed to load title" data-id="2162090889" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/3544" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3544/hovercard" href="https://github.com/tinygrad/tinygrad/pull/3544">#3544</a>]</li>
<li><code>THREEFRY=1</code> for numpy-less random number generation using threefry2x32. [<a data-error-text="Failed to load title" data-id="2023226416" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/2601" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/2601/hovercard" href="https://github.com/tinygrad/tinygrad/pull/2601">#2601</a>] [<a data-error-text="Failed to load title" data-id="2190830121" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/3785" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3785/hovercard" href="https://github.com/tinygrad/tinygrad/pull/3785">#3785</a>]</li>
<li>More stabilized <a href="https://github.com/tinygrad/tinygrad/blob/v0.9.0/tinygrad/multi.py">multi-tensor API</a>.
<ul>
<li>With ring all-reduce: [<a data-error-text="Failed to load title" data-id="2064844412" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/3000" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3000/hovercard" href="https://github.com/tinygrad/tinygrad/pull/3000">#3000</a>] [<a data-error-text="Failed to load title" data-id="2199791227" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/3852" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3852/hovercard" href="https://github.com/tinygrad/tinygrad/pull/3852">#3852</a>]</li>
</ul>
</li>
<li>Core tinygrad has been refactored into 4 pieces, read more about it <a href="https://docs.tinygrad.org/developer/" rel="nofollow">here</a>.</li>
<li>Linearizer and codegen has support for generating kernels with multiple outputs.</li>
<li>Lots of progress towards greater kernel fusion in the scheduler.
<ul>
<li>Fusing of ReduceOps with their elementwise children. This trains mnist and gpt2 with ~20% less kernels and makes llama inference faster.</li>
<li>New LoadOps.ASSIGN allows fusing optimizer updates with grad.</li>
<li>Schedule kernels in BFS order. This improves resnet and llama speed.</li>
<li>W.I.P. for fusing multiple reduces: [<a data-error-text="Failed to load title" data-id="2257858300" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/4259" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/4259/hovercard" href="https://github.com/tinygrad/tinygrad/pull/4259">#4259</a>] [<a data-error-text="Failed to load title" data-id="2250170563" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/4208" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/4208/hovercard" href="https://github.com/tinygrad/tinygrad/pull/4208">#4208</a>]</li>
</ul>
</li>
<li>MLPerf <a href="https://github.com/tinygrad/tinygrad/blob/0b58203cbe9ac67de3ae598c8e6552c2935fcb1e/examples/mlperf/model_train.py#L14">ResNet</a> and <a href="https://github.com/tinygrad/tinygrad/blob/0b58203cbe9ac67de3ae598c8e6552c2935fcb1e/examples/mlperf/model_train.py#L392">BERT</a> with a W.I.P. <a href="https://github.com/tinygrad/tinygrad/pull/3470" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3470/hovercard">UNet3D</a></li>
<li>Llama 3 support with a new <a href="https://github.com/tinygrad/tinygrad/blob/v0.9.0/examples/llama3.py"><code>llama3.py</code></a> that provides an OpenAI compatible API. [<a data-error-text="Failed to load title" data-id="2294318726" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/4576" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/4576/hovercard" href="https://github.com/tinygrad/tinygrad/pull/4576">#4576</a>]</li>
<li><a href="https://arxiv.org/pdf/2305.14314" rel="nofollow">NF4</a> quantization support in Llama examples. [<a data-error-text="Failed to load title" data-id="2291150932" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/4540" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/4540/hovercard" href="https://github.com/tinygrad/tinygrad/pull/4540">#4540</a>]</li>
<li><code>label_smoothing</code> has been added to <code>sparse_categorical_crossentropy</code>. [<a data-error-text="Failed to load title" data-id="2164382442" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/3568" data-hovercard-type="pull_request" data-hovercard-url="/tinygrad/tinygrad/pull/3568/hovercard" href="https://github.com/tinygrad/tinygrad/pull/3568">#3568</a>]</li>
</ul>
<h2>Known Issues</h2>
<ul>
<li>Using tinygrad in a conda env on macOS is known to cause problems with the <code>METAL</code> backend. See <a data-error-text="Failed to load title" data-id="1979764563" data-permission-text="Title is private" data-url="https://github.com/tinygrad/tinygrad/issues/2226" data-hovercard-type="issue" data-hovercard-url="/tinygrad/tinygrad/issues/2226/hovercard" href="https://github.com/tinygrad/tinygrad/issues/2226">#2226</a>.</li>
</ul>
<h3>See the full changelog: <a href="https://github.com/tinygrad/tinygrad/compare/v0.8.0...v0.9.0"><tt>v0.8.0...v0.9.0</tt></a></h3>
<h3>See the known issues: <a href="https://github.com/tinygrad/tinygrad/issues?q=is%3Aissue+is%3Aopen+label%3Abug+sort%3Aupdated-desc">https://github.com/tinygrad/tinygrad/issues?q=is%3Aissue+is%3Aopen+label%3Abug+sort%3Aupdated-desc</a></h3>
<h3>Join the <a href="https://discord.gg/beYbxwxVdx" rel="nofollow">Discord</a>!</h3></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Revealed: Israeli spy chief 'threatened' ICC prosecutor over war crimes inquiry (118 pts)]]></title>
            <link>https://www.theguardian.com/world/article/2024/may/28/israeli-spy-chief-icc-prosecutor-war-crimes-inquiry</link>
            <guid>40504006</guid>
            <pubDate>Tue, 28 May 2024 18:41:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theguardian.com/world/article/2024/may/28/israeli-spy-chief-icc-prosecutor-war-crimes-inquiry">https://www.theguardian.com/world/article/2024/may/28/israeli-spy-chief-icc-prosecutor-war-crimes-inquiry</a>, See on <a href="https://news.ycombinator.com/item?id=40504006">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent"><p>The former head of the<strong> </strong>Mossad, Israel‚Äôs foreign intelligence agency, allegedly threatened a chief prosecutor of the international criminal court in a series of secret meetings in which he tried to pressure her into abandoning a war crimes investigation, the Guardian can reveal.</p><p>Yossi Cohen‚Äôs covert contacts with the ICC‚Äôs then prosecutor, Fatou Bensouda, took place in the years leading up to her decision to <a href="https://www.theguardian.com/law/2021/mar/03/icc-open-formal-investigation-war-crimes-palestine#:~:text=Bensouda%20has%20said%20her%20probe,war%20crimes%20against%20our%20people." data-link-name="in body link">open a formal investigation</a> into alleged war crimes and crimes against humanity in occupied Palestinian territories.</p><p>That investigation, launched in 2021, culminated last week when <a href="https://www.theguardian.com/law/2021/feb/12/karim-khan-international-criminal-court-prosecutor" data-link-name="in body link">Bensouda‚Äôs successor</a>, Karim Khan, announced that he was seeking an arrest warrant for the Israeli prime minister, Benjamin Netanyahu, over the country‚Äôs conduct in its war in Gaza.</p><p>The prosecutor‚Äôs decision to apply to the ICC‚Äôs pre-trial chamber <a href="https://www.theguardian.com/law/article/2024/may/20/icc-prosecutor-seeks-arrest-warrants-israeli-pm-netanyahu-hamas-officials-war-crimes" data-link-name="in body link">for arrest warrants</a> for Netanyahu and his defence minister, Yoav Gallant, alongside three Hamas leaders, is an outcome Israel‚Äôs military and political establishment has long feared.</p><figure id="76e585de-e601-4cc2-a7ee-c9738a064d7c" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-2"><picture><source srcset="https://i.guim.co.uk/img/media/628c02b4c6e6e4529989c4df22a2a15faca0899a/0_113_4368_2621/master/4368.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/628c02b4c6e6e4529989c4df22a2a15faca0899a/0_113_4368_2621/master/4368.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/628c02b4c6e6e4529989c4df22a2a15faca0899a/0_113_4368_2621/master/4368.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/628c02b4c6e6e4529989c4df22a2a15faca0899a/0_113_4368_2621/master/4368.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/628c02b4c6e6e4529989c4df22a2a15faca0899a/0_113_4368_2621/master/4368.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/628c02b4c6e6e4529989c4df22a2a15faca0899a/0_113_4368_2621/master/4368.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Netanyahu and Cohen" src="https://i.guim.co.uk/img/media/628c02b4c6e6e4529989c4df22a2a15faca0899a/0_113_4368_2621/master/4368.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267.02037545787545" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Cohen (right) was appointed as director of the Mossad by Netanyahu in 2016 after working for several years as his national security adviser.</span> Photograph: Gali Tibbon/AFP/Getty Images</figcaption></figure><p>Cohen‚Äôs personal involvement in the operation against the ICC took place when he was the director of the Mossad. His activities were authorised at a high level and justified on the basis the court posed a threat of prosecutions against military personnel, according to a senior Israeli official.</p><p>Another Israeli source briefed on the operation against Bensouda said the Mossad‚Äôs objective was to compromise the prosecutor or enlist her as someone who would cooperate with Israel‚Äôs demands.</p><p>A third source familiar with the operation said Cohen was acting as Netanyahu‚Äôs ‚Äúunofficial messenger‚Äù.</p><p>Cohen, who was one of Netanyahu‚Äôs closest allies at the time and is emerging as a political force in his own right in Israel, personally led the Mossad‚Äôs involvement in an almost decade-long campaign by the country to undermine the court.</p><p>Four sources confirmed that Bensouda had briefed a small group of senior ICC officials about Cohen‚Äôs attempts to sway her, amid concerns about the increasingly persistent and threatening nature of his behaviour.</p><figure id="17cd9167-3bb2-4833-9378-83f3db1aae0b" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.YoutubeBlockElement"><gu-island name="YoutubeBlockComponent" priority="critical" deferuntil="visible" props="{&quot;format&quot;:{&quot;display&quot;:2,&quot;theme&quot;:0,&quot;design&quot;:0},&quot;isMainMedia&quot;:false,&quot;id&quot;:&quot;6f1692ab-ea89-4b79-acfb-c6605a283771&quot;,&quot;assetId&quot;:&quot;jPWM4reuB6U&quot;,&quot;expired&quot;:false,&quot;posterImage&quot;:[{&quot;url&quot;:&quot;https://media.guim.co.uk/ac438d069d051ac4b4112e332ecbefd3e9400665/0_0_1920_1080/1000.jpg&quot;,&quot;width&quot;:1000},{&quot;url&quot;:&quot;https://media.guim.co.uk/ac438d069d051ac4b4112e332ecbefd3e9400665/0_0_1920_1080/500.jpg&quot;,&quot;width&quot;:500},{&quot;url&quot;:&quot;https://media.guim.co.uk/ac438d069d051ac4b4112e332ecbefd3e9400665/0_0_1920_1080/140.jpg&quot;,&quot;width&quot;:140},{&quot;url&quot;:&quot;https://media.guim.co.uk/ac438d069d051ac4b4112e332ecbefd3e9400665/0_0_1920_1080/1920.jpg&quot;,&quot;width&quot;:1920}],&quot;duration&quot;:317,&quot;mediaTitle&quot;:&quot;ICC prosecutor requests arrest warrants for Netanyahu, Gallant and three Hamas leaders ‚Äì video&quot;,&quot;origin&quot;:&quot;https://www.theguardian.com&quot;,&quot;stickyVideos&quot;:false,&quot;switches&quot;:{&quot;lightbox&quot;:true,&quot;prebidAppnexusUkRow&quot;:true,&quot;mastheadWithHighlights&quot;:false,&quot;abSignInGateMainVariant&quot;:true,&quot;commercialMetrics&quot;:true,&quot;prebidTrustx&quot;:true,&quot;scAdFreeBanner&quot;:false,&quot;adaptiveSite&quot;:true,&quot;prebidPermutiveAudience&quot;:true,&quot;compareVariantDecision&quot;:false,&quot;enableSentryReporting&quot;:true,&quot;lazyLoadContainers&quot;:true,&quot;ampArticleSwitch&quot;:true,&quot;remarketing&quot;:true,&quot;articleEndSlot&quot;:true,&quot;keyEventsCarousel&quot;:true,&quot;updateLogoAdPartner&quot;:true,&quot;registerWithPhone&quot;:false,&quot;darkModeWeb&quot;:true,&quot;targeting&quot;:true,&quot;remoteHeader&quot;:true,&quot;slotBodyEnd&quot;:true,&quot;prebidImproveDigitalSkins&quot;:true,&quot;ampPrebidOzone&quot;:true,&quot;extendedMostPopularFronts&quot;:true,&quot;emailInlineInFooter&quot;:true,&quot;showNewPrivacyWordingOnEmailSignupEmbeds&quot;:true,&quot;abDeeplyReadRightColumn&quot;:true,&quot;prebidAnalytics&quot;:true,&quot;extendedMostPopular&quot;:true,&quot;ampContentAbTesting&quot;:false,&quot;prebidCriteo&quot;:true,&quot;okta&quot;:true,&quot;imrWorldwide&quot;:true,&quot;acast&quot;:true,&quot;automaticFilters&quot;:true,&quot;twitterUwt&quot;:true,&quot;updatedHeaderDesign&quot;:true,&quot;prebidAppnexusInvcode&quot;:true,&quot;ampPrebidPubmatic&quot;:true,&quot;a9HeaderBidding&quot;:true,&quot;prebidAppnexus&quot;:true,&quot;enableDiscussionSwitch&quot;:true,&quot;prebidXaxis&quot;:true,&quot;stickyVideos&quot;:true,&quot;interactiveFullHeaderSwitch&quot;:true,&quot;discussionAllPageSize&quot;:true,&quot;prebidUserSync&quot;:true,&quot;audioOnwardJourneySwitch&quot;:true,&quot;brazeTaylorReport&quot;:false,&quot;externalVideoEmbeds&quot;:true,&quot;abSignInGateAlternativeWording&quot;:false,&quot;callouts&quot;:true,&quot;sentinelLogger&quot;:true,&quot;geoMostPopular&quot;:true,&quot;weAreHiring&quot;:false,&quot;relatedContent&quot;:true,&quot;thirdPartyEmbedTracking&quot;:true,&quot;prebidOzone&quot;:true,&quot;ampLiveblogSwitch&quot;:true,&quot;ampAmazon&quot;:true,&quot;prebidAdYouLike&quot;:true,&quot;mostViewedFronts&quot;:true,&quot;discussionInApps&quot;:false,&quot;optOutAdvertising&quot;:true,&quot;abSignInGateMainControl&quot;:true,&quot;googleSearch&quot;:true,&quot;brazeSwitch&quot;:true,&quot;darkModeInApps&quot;:true,&quot;prebidKargo&quot;:true,&quot;consentManagement&quot;:true,&quot;personaliseSignInGateAfterCheckout&quot;:true,&quot;redplanetForAus&quot;:true,&quot;prebidSonobi&quot;:true,&quot;idProfileNavigation&quot;:true,&quot;confiantAdVerification&quot;:true,&quot;discussionAllowAnonymousRecommendsSwitch&quot;:false,&quot;dcrTagPages&quot;:true,&quot;absoluteServerTimes&quot;:false,&quot;permutive&quot;:true,&quot;comscore&quot;:true,&quot;ampPrebidCriteo&quot;:true,&quot;tagLinkDesign&quot;:false,&quot;abMpuWhenNoEpic&quot;:false,&quot;newsletterOnwards&quot;:false,&quot;youtubeIma&quot;:true,&quot;webFonts&quot;:true,&quot;prebidImproveDigital&quot;:true,&quot;abAdBlockAsk&quot;:false,&quot;ophan&quot;:true,&quot;crosswordSvgThumbnails&quot;:true,&quot;prebidTriplelift&quot;:true,&quot;weather&quot;:true,&quot;prebidPubmatic&quot;:true,&quot;serverShareCounts&quot;:false,&quot;autoRefresh&quot;:true,&quot;enhanceTweets&quot;:true,&quot;prebidIndexExchange&quot;:true,&quot;prebidOpenx&quot;:true,&quot;prebidHeaderBidding&quot;:true,&quot;idCookieRefresh&quot;:true,&quot;discussionPageSize&quot;:true,&quot;smartAppBanner&quot;:false,&quot;boostGaUserTimingFidelity&quot;:false,&quot;historyTags&quot;:true,&quot;brazeContentCards&quot;:true,&quot;surveys&quot;:true,&quot;remoteBanner&quot;:true,&quot;emailSignupRecaptcha&quot;:true,&quot;prebidSmart&quot;:true,&quot;shouldLoadGoogletag&quot;:true,&quot;inizio&quot;:true}}" config="{&quot;renderingTarget&quot;:&quot;Web&quot;,&quot;darkModeAvailable&quot;:false,&quot;inAdvertisingPartnerABTest&quot;:false,&quot;assetOrigin&quot;:&quot;https://assets.guim.co.uk/&quot;}"><div data-chromatic="ignore" data-component="youtube-atom"><figcaption><span><svg width="36" height="23" viewBox="0 0 36 23"><path d="M3.2 0l-3.2 3.3v16.4l3.3 3.3h18.7v-23h-18.8m30.4 1l-8.6 8v5l8.6 8h2.4v-21h-2.4"></path></svg></span><span>ICC prosecutor requests arrest warrants for Netanyahu, Gallant and three Hamas leaders ‚Äì video</span></figcaption></div></gu-island></figure><p>Three of those sources were familiar with Bensouda‚Äôs formal disclosures to the ICC about the matter. They said she revealed Cohen had put pressure on her on several occasions not to proceed with a criminal investigation in the ICC‚Äôs Palestine case.</p><p>According to accounts shared with ICC officials, he is alleged to have told her: ‚ÄúYou should help us and let us take care of you. You don‚Äôt want to be getting into things that could compromise your security or that of your family.‚Äù</p><p>One individual briefed on Cohen‚Äôs activities said he had used ‚Äúdespicable tactics‚Äù against Bensouda as part of an ultimately unsuccessful effort to intimidate and influence her. They likened his behaviour to ‚Äústalking‚Äù.</p><p>The Mossad also took a keen interest in Bensouda‚Äôs family members and obtained transcripts of secret recordings of her husband, according to two sources with direct knowledge of the situation. Israeli officials then attempted to use the material to discredit the prosecutor.</p><p>The revelations about Cohen‚Äôs operation form part of a forthcoming investigation by the Guardian, the Israeli-Palestinian publication +972 Magazine and the Hebrew-language outlet Local Call, revealing how multiple Israel intelligence agencies ran a covert ‚Äúwar‚Äù against the ICC for almost a decade.</p><p>Contacted by the Guardian, a spokesperson for Israel‚Äôs prime minister‚Äôs office said: ‚ÄúThe questions forwarded to us are replete with many false and unfounded allegations meant to hurt the state of Israel.‚Äù Cohen did not respond to a request for comment. Bensouda declined to comment.</p><figure id="c590efc5-ec49-4a9f-a008-a8059949407c" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-3"><picture><source srcset="https://i.guim.co.uk/img/media/d0713fe19645a6661f1146e1dfea05fb1c6c85c3/0_307_7940_4763/master/7940.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/d0713fe19645a6661f1146e1dfea05fb1c6c85c3/0_307_7940_4763/master/7940.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/d0713fe19645a6661f1146e1dfea05fb1c6c85c3/0_307_7940_4763/master/7940.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/d0713fe19645a6661f1146e1dfea05fb1c6c85c3/0_307_7940_4763/master/7940.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/d0713fe19645a6661f1146e1dfea05fb1c6c85c3/0_307_7940_4763/master/7940.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/d0713fe19645a6661f1146e1dfea05fb1c6c85c3/0_307_7940_4763/master/7940.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Fatou Bensouda stands next to various national flags at a lectern that features the UN logo." src="https://i.guim.co.uk/img/media/d0713fe19645a6661f1146e1dfea05fb1c6c85c3/0_307_7940_4763/master/7940.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="266.9439546599496" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>The ICC case dates back to 2015, when Fatou Bensouda decided to open a preliminary examination into the situation in Palestine.</span> Photograph: Pacific Press Media Production Corp/Alamy</figcaption></figure><p>In the Mossad‚Äôs efforts to influence Bensouda, Israel received support from an unlikely ally: Joseph Kabila, the former president of the Democratic Republic of the Congo, who played a supporting role in the plot.</p><p>Revelations about the Mossad‚Äôs efforts to influence Bensouda come as the current chief prosecutor, Khan, warned in recent days that he would not hesitate to prosecute ‚Äúattempts to impede, intimidate or improperly influence‚Äù ICC officials.</p><p>According to legal experts and former ICC officials, efforts by the Mossad to threaten or put pressure on Bensouda could amount to offences against the administration of justice under article 70 of the Rome statute, the treaty that established the court.</p><p>A spokesperson for the ICC would not say whether Khan had reviewed his predecessor‚Äôs disclosures about her contacts with Cohen, but said Khan had never met or spoken to the head of the Mossad.</p><p>While the spokesperson declined to comment on specific allegations, they said Khan‚Äôs office had been subjected to ‚Äúseveral forms of threats and communications that could be viewed as attempts to unduly influence its activities‚Äù.</p><h2 id="bensouda-sparks-ire-of-israel">Bensouda sparks ire of Israel</h2><p>Khan‚Äôs decision to seek arrest warrants against Netanyahu and Gallant last week marked the first time the court had taken action against leaders of a country closely allied with the US and Europe. Their alleged crimes ‚Äì which include directing attacks on civilians and using starvation as a method of warfare ‚Äì relate to the eight-month war in Gaza.</p><p>The ICC case, however, dates back to 2015, when Bensouda decided <a href="https://www.theguardian.com/law/2015/jan/16/icc-possible-war-crimes-palestinian-territories" data-link-name="in body link">to open a preliminary examination</a> into the situation in Palestine. Short of a full investigation, her inquiry was tasked with making an initial assessment of allegations of crimes by individuals in Gaza, the West Bank and East Jerusalem.</p><p>Bensouda‚Äôs decision sparked the ire of Israel, which feared its citizens could be prosecuted for their involvement in operations in <a href="https://www.theguardian.com/world/palestinian-territories" data-link-name="in body link" data-component="auto-linked-tag">Palestinian territories</a>. Israel had long been open about its opposition to the ICC, refusing to recognise its authority. Israeli ministers intensified their attacks on the court and even vowed to try to dismantle it.</p><p>Soon after commencing the preliminary examination, Bensouda and her senior prosecutors began to receive warnings that Israeli intelligence was taking a close interest in their work.</p><figure id="701b7240-95b2-408b-938f-e7376eee1fce" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-4"><picture><source srcset="https://i.guim.co.uk/img/media/ba7b0125f847238642bc08243d6d61c63166c76d/0_224_6720_4032/master/6720.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/ba7b0125f847238642bc08243d6d61c63166c76d/0_224_6720_4032/master/6720.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/ba7b0125f847238642bc08243d6d61c63166c76d/0_224_6720_4032/master/6720.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/ba7b0125f847238642bc08243d6d61c63166c76d/0_224_6720_4032/master/6720.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/ba7b0125f847238642bc08243d6d61c63166c76d/0_224_6720_4032/master/6720.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/ba7b0125f847238642bc08243d6d61c63166c76d/0_224_6720_4032/master/6720.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Differential focus image that centres Yossi Cohen among a crowd of suited men" src="https://i.guim.co.uk/img/media/ba7b0125f847238642bc08243d6d61c63166c76d/0_224_6720_4032/master/6720.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Yossi Cohen during a reception held at the Israeli foreign ministry in Jerusalem, in May 2018.</span> Photograph: Amir Cohen/Reuters</figcaption></figure><p>According to two sources, there were even suspicions among senior ICC officials that Israel had cultivated sources within the court‚Äôs prosecution division, known as the office of the prosecutor. Another later recalled that although the Mossad ‚Äúdidn‚Äôt leave its signature‚Äù, it was an assumption the agency was behind some of the activity officials had been made aware of.</p><p>Only a small group of senior figures at the ICC, however, were informed that the director of the Mossad had personally approached the chief prosecutor.</p><p>A career spy, Cohen enjoys a reputation in Israel‚Äôs intelligence community as an effective recruiter of foreign agents. He was a loyal and powerful ally of the prime minister at the time, having been appointed as director of the Mossad by Netanyahu in 2016 after working for several years at his side as his national security adviser.</p><p>As the head of the national security council between 2013 and 2016, Cohen oversaw the body that, according to multiple sources, began to coordinate a multiagency effort against the ICC once Bensouda opened the preliminary inquiry in 2015.</p><p>Cohen‚Äôs first interaction with Bensouda appears to have taken place at the Munich security conference in 2017, when the Mossad director introduced himself to the prosecutor in a brief exchange. After this encounter, Cohen subsequently ‚Äúambushed‚Äù Bensouda in a bizarre episode in a Manhattan hotel suite, according to multiple sources familiar with the incident.</p><figure id="eabefa5b-5c0e-453c-906e-007ca2300738" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-5"><picture><source srcset="https://i.guim.co.uk/img/media/31a3044ba4918b2f97002bf164fcb70dfc7710ff/0_21_640_384/master/640.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/31a3044ba4918b2f97002bf164fcb70dfc7710ff/0_21_640_384/master/640.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/31a3044ba4918b2f97002bf164fcb70dfc7710ff/0_21_640_384/master/640.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/31a3044ba4918b2f97002bf164fcb70dfc7710ff/0_21_640_384/master/640.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/31a3044ba4918b2f97002bf164fcb70dfc7710ff/0_21_640_384/master/640.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/31a3044ba4918b2f97002bf164fcb70dfc7710ff/0_21_640_384/master/640.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Bensouda shaking hands with a bearded Joseph Kabila" src="https://i.guim.co.uk/img/media/31a3044ba4918b2f97002bf164fcb70dfc7710ff/0_21_640_384/master/640.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Bensouda with Joseph Kabila in New York. Sources claim the then DRC leader played an important supporting role in the Mossad‚Äôs plot against the ICC‚Äôs chief prosecutor.</span> Photograph: ICC</figcaption></figure><p>Bensouda was in New York in 2018 on an official visit, and was meeting Kabila, then the president of the DRC, at his hotel. The pair had met several times before in relation to the ICC‚Äôs ongoing investigation into alleged crimes committed in his country.</p><p>The meeting, however, appears to have been a setup. At a certain point, after Bensouda‚Äôs staff were asked to leave the room, Cohen entered, according to three sources familiar with the meeting. The surprise appearance, they said, caused alarm to Bensouda and a group of ICC officials travelling with her.</p><p>Why Kabila helped Cohen is unclear, but ties between the two men were revealed in 2022 by the Israeli publication TheMarker, which reported on a series of secretive trips the Mossad director made to the DRC throughout 2019.</p><gu-island name="InteractiveBlockComponent" priority="critical" deferuntil="idle" props="{&quot;url&quot;:&quot;https://interactive.guim.co.uk/embed/from-tool/generic/index.html?vertical=News&amp;opinion-tint=false&amp;title=Get%20in%20touch&amp;description=Do%20you%20have%20information%20about%20this%20story%3F%20Email%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22mailto%3Aharry.davies%40theguardian.com%22%3Eharry.davies%40theguardian.com%3C%2Fa%3E%2C%20or%20(using%20a%20non-work%20phone)%20use%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fsignal.me%2F%23p%2F%2B447721857348%22%3ESignal%3C%2Fa%3E%20or%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fapi.whatsapp.com%2Fsend%3Fphone%3D447721857348%22%3EWhatsApp%3C%2Fa%3E%20to%20message%20%2B44%207721%20857348.%20For%20the%20most%20secure%20communications%2C%20use%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fwww.theguardian.com%2Fsecuredrop%22%3ESecureDrop%3C%2Fa%3E%20or%20see%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fwww.theguardian.com%2Fhelp%2Fng-interactive%2F2017%2Fmar%2F17%2Fcontact-the-guardian-securely%22%3Eour%20guide%3C%2Fa%3E.&amp;link=false&quot;,&quot;scriptUrl&quot;:&quot;https://interactive.guim.co.uk/embed/iframe-wrapper/0.1/boot.js&quot;,&quot;alt&quot;:&quot;Do you have information about this story? Email harry.davies@theguardian.com, or (using a non-work phone) use Signal or WhatsApp to message +44 7721 857348.&quot;,&quot;format&quot;:{&quot;display&quot;:2,&quot;theme&quot;:0,&quot;design&quot;:0},&quot;elementId&quot;:&quot;43e668f7-c6da-422b-b6a3-945ffad8a4c0&quot;,&quot;isMainMedia&quot;:false}" config="{&quot;renderingTarget&quot;:&quot;Web&quot;,&quot;darkModeAvailable&quot;:false,&quot;inAdvertisingPartnerABTest&quot;:false,&quot;assetOrigin&quot;:&quot;https://assets.guim.co.uk/&quot;}"><figure id="43e668f7-c6da-422b-b6a3-945ffad8a4c0" data-alt="Do you have information about this story? Email harry.davies@theguardian.com, or (using a non-work phone) use Signal or WhatsApp to message +44 7721 857348." data-testid="interactive-element-Do%20you%20have%20information%20about%20this%20story?%20Email%20harry.davies@theguardian.com,%20or%20(using%20a%20non-work%20phone)%20use%20Signal%20or%20WhatsApp%20to%20message%20+44%207721%20857348." data-spacefinder-role="inline"><a data-name="placeholder" href="https://interactive.guim.co.uk/embed/from-tool/generic/index.html?vertical=News&amp;opinion-tint=false&amp;title=Get%20in%20touch&amp;description=Do%20you%20have%20information%20about%20this%20story%3F%20Email%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22mailto%3Aharry.davies%40theguardian.com%22%3Eharry.davies%40theguardian.com%3C%2Fa%3E%2C%20or%20(using%20a%20non-work%20phone)%20use%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fsignal.me%2F%23p%2F%2B447721857348%22%3ESignal%3C%2Fa%3E%20or%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fapi.whatsapp.com%2Fsend%3Fphone%3D447721857348%22%3EWhatsApp%3C%2Fa%3E%20to%20message%20%2B44%207721%20857348.%20For%20the%20most%20secure%20communications%2C%20use%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fwww.theguardian.com%2Fsecuredrop%22%3ESecureDrop%3C%2Fa%3E%20or%20see%20%3Ca%20style%3D%22color%3A%23ab0613%22%20href%3D%22https%3A%2F%2Fwww.theguardian.com%2Fhelp%2Fng-interactive%2F2017%2Fmar%2F17%2Fcontact-the-guardian-securely%22%3Eour%20guide%3C%2Fa%3E.&amp;link=false">Do you have information about this story? Email harry.davies@theguardian.com, or (using a non-work phone) use Signal or WhatsApp to message +44 7721 857348.</a></figure></gu-island><p>According to the publication, Cohen‚Äôs trips, during which he sought Kabila‚Äôs advice ‚Äúon an issue of interest to Israel‚Äù, and which were almost certainly approved by Netanyahu, were highly unusual and had astonished senior figures within the intelligence community.</p><p>Reporting on the DRC meetings in 2022, the Israeli broadcaster Kan 11 said Cohen‚Äôs trips related to an ‚Äúextremely controversial plan‚Äù and cited official sources who described it as ‚Äúone of Israel‚Äôs most sensitive secrets‚Äù.</p><p>Multiple sources have confirmed to the Guardian the trips were partly related to the ICC operation, and Kabila, who left office in January 2019, played an important supporting role in the Mossad‚Äôs plot against Bensouda. Kabila did not respond to a request for comment.</p><h2 id="threats-and-manipulation">‚ÄòThreats and manipulation‚Äô</h2><p>After the surprise meeting with Kabila and Bensouda in New York, Cohen repeatedly phoned the chief prosecutor and sought meetings with her, three sources recalled. According to two people familiar with the situation, at one stage Bensouda asked Cohen how he had obtained her phone number, to which he replied: ‚ÄúDid you forget what I do for a living?‚Äù</p><p>Initially, the sources explained, the intelligence chief ‚Äútried to build a relationship‚Äù with the prosecutor and played ‚Äúgood cop‚Äù in an attempt to charm her. The initial objective, they said, appeared to have been to enlist Bensouda into cooperating with Israel.</p><p>Over time, however, the tone of Cohen‚Äôs contact changed and he began to use a range of tactics, including ‚Äúthreats and manipulation‚Äù, an individual briefed on the meetings said. This prompted Bensouda to inform a small group of senior ICC officials about his behaviour.</p><p>In December 2019, <a href="https://www.theguardian.com/law/2019/dec/20/icc-to-investigate-alleged-israeli-and-palestinian-war-crimes" data-link-name="in body link">the prosecutor announced</a> that she had grounds to open a full criminal investigation into allegations of war crimes in Gaza, the West Bank and East Jerusalem. However, she held off launching it, deciding first to request a ruling from the ICC‚Äôs pre-trial chamber to confirm the court did indeed have jurisdiction over Palestine.</p><figure id="77bb2be5-5a34-4bfb-96e5-520fb0a3429f" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-6"><picture><source srcset="https://i.guim.co.uk/img/media/5658e661b52f962fe43e896e2db47f61a69c4778/0_0_5472_3648/master/5472.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/5658e661b52f962fe43e896e2db47f61a69c4778/0_0_5472_3648/master/5472.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/5658e661b52f962fe43e896e2db47f61a69c4778/0_0_5472_3648/master/5472.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/5658e661b52f962fe43e896e2db47f61a69c4778/0_0_5472_3648/master/5472.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/5658e661b52f962fe43e896e2db47f61a69c4778/0_0_5472_3648/master/5472.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/5658e661b52f962fe43e896e2db47f61a69c4778/0_0_5472_3648/master/5472.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Demonstrators carry banners outside the ICC" src="https://i.guim.co.uk/img/media/5658e661b52f962fe43e896e2db47f61a69c4778/0_0_5472_3648/master/5472.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="296.66666666666663" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Protesters gather outside the ICC to call for the court to prosecute Israel for war crimes.</span> Photograph: Peter Dejong/AP</figcaption></figure><p>Multiple sources said it was at this stage, as the judges considered the case, that Cohen escalated his attempts to persuade Bensouda not to pursue a full investigation in the event the judges gave her the green light.</p><p>Between late 2019 and early 2021, the sources said, there were at least three encounters between Cohen and Bensouda, all initiated by the spy chief. His behaviour is said to have become increasingly concerning to ICC officials.</p><p>A source familiar with Bensouda‚Äôs accounts of the final two meetings with Cohen said he had raised questions about her security, and that of her family, in a manner that led her to believe he was threatening her.</p><p>On one occasion, Cohen is said to have shown Bensouda copies of photographs of her husband, which were taken covertly when the couple were visiting London. On another, according to sources, Cohen suggested to the prosecutor that a decision to open a full investigation would be detrimental to her career.</p><p>Four sources familiar with the situation said it was around the same time that Bensouda and other ICC officials discovered that information was circulating among diplomatic channels relating to her husband, who worked as an international affairs consultant.</p><p>Between 2019 and 2020, the Mossad had been actively seeking compromising information on the prosecutor and took an interest in her family members.</p><figure id="06390ceb-982e-4fe7-83d2-31bea22196f0" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-7"><picture><source srcset="https://i.guim.co.uk/img/media/b8515f60a8bb747a9f7fa17cf04d6beba47ef03d/0_0_5472_3283/master/5472.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/b8515f60a8bb747a9f7fa17cf04d6beba47ef03d/0_0_5472_3283/master/5472.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/b8515f60a8bb747a9f7fa17cf04d6beba47ef03d/0_0_5472_3283/master/5472.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/b8515f60a8bb747a9f7fa17cf04d6beba47ef03d/0_0_5472_3283/master/5472.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/b8515f60a8bb747a9f7fa17cf04d6beba47ef03d/0_0_5472_3283/master/5472.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/b8515f60a8bb747a9f7fa17cf04d6beba47ef03d/0_0_5472_3283/master/5472.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="The international criminal court in The Hague" src="https://i.guim.co.uk/img/media/b8515f60a8bb747a9f7fa17cf04d6beba47ef03d/0_0_5472_3283/master/5472.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="266.9837353801169" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>In February 2021, it was confirmed that the ICC had jurisdiction in occupied Palestinian territories.</span> Photograph: Peter Dejong/AP</figcaption></figure><p>The spy agency obtained a cache of material, including transcripts of an apparent sting operation against her husband.</p><p>It is unclear who conducted the operation, or precisely what he is alleged to have said in the recordings. One possibility is that he had been targeted by the intelligence agency or by private actors of another country that wanted leverage over the ICC. Another possibility is the information was fabricated.</p><div><p>Once in the possession of Israel, however, the material was used by its diplomats in an unsuccessful attempt to undermine the chief prosecutor. But according to multiple sources, Israel failed to convince its allies of the significance of the material.</p><p>
 Three sources briefed on the information shared by Israel at a diplomatic level described the efforts as part of an unsuccessful ‚Äúsmear campaign‚Äù against Bensouda. ‚ÄúThey went after Fatou,‚Äù one source said, but it had ‚Äúno impact‚Äù on the prosecutor‚Äôs work.</p></div><figure id="b252e0f2-65b5-4458-83d8-cab4d4b3992d" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-8"><picture><source srcset="https://i.guim.co.uk/img/media/7973a9020306ba61a7e04d84e716e69db290cfb7/0_95_2465_1480/master/2465.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/7973a9020306ba61a7e04d84e716e69db290cfb7/0_95_2465_1480/master/2465.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/7973a9020306ba61a7e04d84e716e69db290cfb7/0_95_2465_1480/master/2465.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/7973a9020306ba61a7e04d84e716e69db290cfb7/0_95_2465_1480/master/2465.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/7973a9020306ba61a7e04d84e716e69db290cfb7/0_95_2465_1480/master/2465.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/7973a9020306ba61a7e04d84e716e69db290cfb7/0_95_2465_1480/master/2465.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Trump and Netanyahu shake hands" src="https://i.guim.co.uk/img/media/7973a9020306ba61a7e04d84e716e69db290cfb7/0_95_2465_1480/master/2465.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267.1805273833671" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Trump and Netanyahu. The Trump administration imposed visa restrictions and sanctions on Bensouda in 2019-20.</span> Photograph: Ronen Zvulun/Reuters</figcaption></figure><p>The diplomatic efforts were part of a coordinated effort by the governments of Netanyahu and <a href="https://www.theguardian.com/us-news/donaldtrump" data-link-name="in body link" data-component="auto-linked-tag">Donald Trump</a> in the US to place public and private pressure on the prosecutor and her staff.</p><p>Between 2019 and 2020, in an unprecedented decision, the Trump administration imposed visa restrictions and sanctions <a href="https://www.theguardian.com/law/2020/sep/02/us-sanctions-international-criminal-court-fatou-bensouda" data-link-name="in body link">on the chief prosecutor</a>. The move was in retaliation to Bensouda‚Äôs pursuit of a separate investigation into war crimes in Afghanistan, allegedly committed by the Taliban and both Afghan and US military personnel.</p><p>However, Mike Pompeo, then US secretary of state, linked the sanctions package to the Palestine case. ‚ÄúIt‚Äôs clear the ICC is only putting Israel in [its] crosshairs for nakedly political purposes,‚Äù he said.</p><p>Months later, he accused Bensouda, without citing any evidence, of having ‚Äúengaged in corrupt acts for her personal benefit‚Äù.</p><p>The <a href="https://www.theguardian.com/law/2021/apr/02/us-lifts-sanctions-icc-prosecutor-fatou-bensouda-pompeo-blinken" data-link-name="in body link">US sanctions were rescinded</a> after President Joe Biden entered the White House.</p><p>In February 2021, the ICC‚Äôs pre-trial chamber issued a ruling <a href="https://www.theguardian.com/law/2021/feb/05/icc-rules-it-can-investigate-war-crimes-in-palestine-despite-israeli-objections" data-link-name="in body link">confirming the ICC had jurisdiction</a> in occupied Palestinian territories. The following month, Bensouda <a href="https://www.theguardian.com/law/2021/mar/03/icc-open-formal-investigation-war-crimes-palestine" data-link-name="in body link">announced the opening</a> of the criminal investigation.</p><p>‚ÄúIn the end, our central concern must be for the victims of crimes, both Palestinian and Israeli, arising from the long cycle of violence and insecurity that has caused deep suffering and despair on all sides,‚Äù she said at the time.</p><p>Bensouda completed her nine-year term at the ICC three months later, leaving it to her successor, Khan, to take up the investigation. It was only after the Hamas attacks on Israel on 7 October and the ensuing war on Gaza that the ICC‚Äôs investigation gained renewed urgency, culminating in last week‚Äôs request for arrest warrants.</p><p>It was the conclusion Israel‚Äôs political, military and intelligence establishment had feared. ‚ÄúThe fact they chose the head of Mossad to be the prime minister‚Äôs unofficial messenger to [Bensouda] was to intimidate, by definition,‚Äù said a source briefed on Cohen‚Äôs operation. ‚ÄúIt failed.‚Äù</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Researchers cracked an 11-year-old password to a $3M crypto wallet (227 pts)]]></title>
            <link>https://www.wired.com/story/roboform-password-3-million-dollar-crypto-wallet/</link>
            <guid>40503925</guid>
            <pubDate>Tue, 28 May 2024 18:32:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wired.com/story/roboform-password-3-million-dollar-crypto-wallet/">https://www.wired.com/story/roboform-password-3-million-dollar-crypto-wallet/</a>, See on <a href="https://news.ycombinator.com/item?id=40503925">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-testid="ArticlePageChunks"><div data-journey-hook="client-content" data-testid="BodyWrapper"><p><span>Two years ago</span> when ‚ÄúMichael,‚Äù an owner of <a href="https://www.wired.com/tag/cryptocurrency/">cryptocurrency</a>, contacted Joe Grand to help recover access to about $2 million worth of <a href="https://www.wired.com/tag/bitcoin/">bitcoin</a> he stored in encrypted format on his computer, Grand turned him down.</p><p>Michael, who is based in Europe and asked to remain anonymous, stored the cryptocurrency in a password-protected digital wallet. He generated a password using the RoboForm password manager and stored that password in a file encrypted with a tool called TrueCrypt. At some point, that file got corrupted and Michael lost access to the 20-character password he had generated to secure his 43.6 BTC (worth a total of about ‚Ç¨4,000, or $5,300, in 2013). Michael used the RoboForm password manager to generate the password but did not store it in his manager. He worried that someone would hack his computer and obtain the password.</p><p>‚ÄúAt [that] time, I was really paranoid with my security,‚Äù he laughs.</p><p>Grand is a famed hardware hacker who in 2022 helped another crypto wallet owner <a href="https://www.theverge.com/2022/1/24/22898712/crypto-hardware-wallet-hacking-lost-bitcoin-ethereum-nft">recover access to $2 million in cryptocurrency</a> he thought he‚Äôd lost forever after forgetting the PIN to his Trezor wallet. Since then, dozens of people have contacted Grand to help them recover their treasure. But Grand, known by the hacker handle ‚ÄúKingpin,‚Äù turns down most of them, for various reasons.</p><p>Grand is an <a data-offer-url="http://www.grandideastudio.com/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;http://www.grandideastudio.com/&quot;}" href="http://www.grandideastudio.com/" rel="nofollow noopener" target="_blank">electrical engineer</a> who began hacking computing hardware at age 10 and in 2008 cohosted the Discovery Channel‚Äôs <em>Prototype This</em> show. He now consults with companies that build complex digital systems to help them understand how hardware hackers like him might subvert their systems. He cracked the Trezor wallet in 2022 using complex hardware techniques that forced the USB-style wallet to reveal its password.</p><figure data-testid="IframeEmbed"><div data-testid="IframeEmbedContainer"><p><iframe height="300px" sandbox="allow-scripts allow-popups allow-same-origin" title="Embedded Frame" src="https://www.youtube-nocookie.com/embed/o5IySpAkThg" allow="autoplay *; encrypted-media *; clipboard-write; autoplay; fullscreen; picture-in-picture"></iframe></p></div></figure><p>But Michael stored his cryptocurrency in a software-based wallet, which meant none of Grand‚Äôs hardware skills were relevant this time. He considered brute-forcing Michael‚Äôs password‚Äîwriting a script to automatically guess millions of possible passwords to find the correct one‚Äîbut determined this wasn‚Äôt feasible. He briefly considered that the RoboForm password manager Michael used to generate his password might have a flaw in the way it generated passwords, which would allow him to guess the password more easily. Grand, however, doubted such a flaw existed.</p></div><div data-journey-hook="client-content" data-testid="BodyWrapper"><p>Michael contacted multiple people who specialize in cracking cryptography; they all told him ‚Äúthere‚Äôs no chance‚Äù of retrieving his money. But last June he approached Grand again, hoping to convince him to help, and this time Grand agreed to give it a try, working with a friend named Bruno in Germany who also hacks digital wallets.</p><p>Grand and Bruno spent months reverse engineering the version of the RoboForm program that they thought Michael had used in 2013 and found that the pseudo-random number generator used to generate passwords in that version‚Äîand subsequent versions until 2015‚Äîdid indeed have a significant flaw that made the random number generator not so random. The RoboForm program unwisely tied the random passwords it generated to the date and time on the user‚Äôs computer‚Äîit determined the computer‚Äôs date and time, and then generated passwords that were predictable. If you knew the date and time and other parameters, you could compute any password that would have been generated on a certain date and time in the past.</p><p>If Michael knew the day or general time frame in 2013 when he generated it, as well as the parameters he used to generate the password (for example, the number of characters in the password, including lower- and upper-case letters, figures, and special characters), this would narrow the possible password guesses to a manageable number. Then they could hijack the RoboForm function responsible for checking the date and time on a computer and get it to travel back in time, believing the current date was a day in the 2013 time frame when Michael generated his password. RoboForm would then spit out the same passwords it generated on the days in 2013.</p><p>There was one problem: Michael couldn‚Äôt remember when he created the password.</p><p>According to the log on his software wallet, Michael moved bitcoin into his wallet for the first time on April 14, 2013. But he couldn‚Äôt remember if he generated the password the same day or some time before or after this. So, looking at the parameters of other passwords he generated using RoboForm, Grand and Bruno configured RoboForm to generate 20-character passwords with upper- and lower-case letters, numbers, and eight special characters from March 1 to April 20, 2013.</p><p>It failed to generate the right password. So Grand and Bruno lengthened the time frame from April 20 to June 1, 2013, using the same parameters. Still no luck.</p><p>Michael says they kept coming back to him, asking if he was sure about the parameters he‚Äôd used. He stuck to his first answer.</p><p>‚ÄúThey really annoyed me, because who knows what I did 10 years ago,‚Äù he recalls. He found other passwords he generated with RoboForm in 2013, and two of them did not use special characters, so Grand and Bruno adjusted. Last November, they reached out to Michael to set up a meeting in person. ‚ÄúI thought, ‚ÄòOh my God, they will ask me again for the settings.‚Äù</p><p>Instead, they revealed that they had finally found the correct password‚Äîno special characters. It was generated on May 15, 2013, at 4:10:40 pm GMT.</p></div><div data-journey-hook="client-content" data-testid="BodyWrapper"><p>‚ÄúWe ultimately got lucky that our parameters and time range was right. If either of those were wrong, we would have ‚Ä¶ continued to take guesses/shots in the dark,‚Äù Grand says in an email to WIRED. ‚ÄúIt would have taken significantly longer to precompute all the possible passwords.‚Äù</p><p>Grand and Bruno <a href="https://www.youtube.com/watch?v=o5IySpAkThg">created a video</a> to explain the technical details more thoroughly.</p><p>RoboForm, made by US-based Siber Systems, was one of the first password managers on the market, and <a data-offer-url="https://earthweb.com/roboform-users/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://earthweb.com/roboform-users/&quot;}" href="https://earthweb.com/roboform-users/" rel="nofollow noopener" target="_blank">currently has more than 6 million users</a> worldwide, according to a company report. In 2015, Siber seemed to fix the RoboForm password manager. In a cursory glance, Grand and Bruno couldn‚Äôt find any sign that the pseudo-random number generator in the 2015 version used the computer‚Äôs time, which makes them think they removed it to fix the flaw, though Grand says they would need to examine it more thoroughly to be certain.</p><p>Siber Systems confirmed to WIRED that it did fix the issue with version 7.9.14 of RoboForm, released June 10, 2015, but a spokesperson wouldn‚Äôt answer questions about how it did so. In a <a data-offer-url="https://www.roboform.com/news-windows" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.roboform.com/news-windows&quot;}" href="https://www.roboform.com/news-windows" rel="nofollow noopener" target="_blank">changelog</a> on the company‚Äôs website, it mentions only that Siber programmers made changes to&nbsp;‚Äúincrease randomness of generated passwords,‚Äù but it doesn‚Äôt say how they did this. Siber spokesman Simon Davis says that ‚ÄúRoboForm 7 was discontinued in 2017.‚Äù</p><p>Grand says that, without knowing how Siber fixed the issue, attackers may still be able to regenerate passwords generated by versions of RoboForm released before the fix in 2015. He‚Äôs also not sure if current versions contain the problem.</p><p>‚ÄúI'm still not sure I would trust it without knowing how they actually improved the password generation in more recent versions,‚Äù he says. ‚ÄúI'm not sure if RoboForm knew how bad this particular weakness was.‚Äù</p><p>Customers may also still be using passwords that were generated with the early versions of the program before the fix. It doesn‚Äôt appear that Siber ever notified customers when it released the fixed version 7.9.14 in 2015 that they should generate new passwords for critical accounts or data. The company didn‚Äôt respond to a question about this.</p><p>If Siber didn‚Äôt inform customers, this would mean that anyone like Michael who used RoboForm to generate passwords prior to 2015‚Äîand are still using those passwords‚Äîmay have vulnerable passwords that hackers can regenerate.</p><p>‚ÄúWe know that most people don't change passwords unless they're prompted to do so,‚Äù Grand says. ‚ÄúOut of 935 passwords in my password manager (not RoboForm), 220 of them are from 2015 and earlier, and most of them are [for] sites I still use.‚Äù</p><p>Depending on what the company did to fix the issue in 2015, newer passwords may also be vulnerable.</p><p>Last November, Grand and Bruno deducted a percentage of bitcoins from Michael‚Äôs account for the work they did, then gave him the password to access the rest. The bitcoin was worth $38,000 per coin at the time. Michael waited until it rose to $62,000 per coin and sold some of it. He now has 30 BTC, now worth $3 million, and is waiting for the value to rise to $100,000 per coin.</p><p>Michael says he was lucky that he lost the password years ago because, otherwise, he would have sold off the bitcoin when it was worth $40,000 a coin and missed out on a greater fortune.</p><p>‚ÄúThat I lost the password was financially a good thing.‚Äù</p></div></div></div>]]></description>
        </item>
    </channel>
</rss>