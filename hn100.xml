<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 29 Oct 2023 17:00:05 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[NixOS Reproducible Builds: minimal ISO successfully independently rebuilt (264 pts)]]></title>
            <link>https://discourse.nixos.org/t/nixos-reproducible-builds-minimal-installation-iso-successfully-independently-rebuilt/34756</link>
            <guid>38057591</guid>
            <pubDate>Sun, 29 Oct 2023 11:41:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://discourse.nixos.org/t/nixos-reproducible-builds-minimal-installation-iso-successfully-independently-rebuilt/34756">https://discourse.nixos.org/t/nixos-reproducible-builds-minimal-installation-iso-successfully-independently-rebuilt/34756</a>, See on <a href="https://news.ycombinator.com/item?id=38057591">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody">
              <p>We have successfully created an independent, bit-by-bit-identical rebuild of the <code>nixos-minimal</code> ISO published by Hydra <img src="https://discourse.nixos.org/images/emoji/twitter/tada.png?v=12" title=":tada:" alt=":tada:" loading="lazy" width="20" height="20"></p>
<h2>
<a name="why-is-this-useful-1" href="#why-is-this-useful-1"></a>Why is this useful?</h2>
<p>While there are a number of ‚Äòside-benefits‚Äô, the main point of Reproducible Builds is that it gives us a reliable way to verify the binaries we ship are faithful to their sources, and have not been tampered with anywhere in the build pipeline (e.g. on Hydra).</p>
<p>For general information on Reproducible Builds see:</p>


<h2>
<a name="what-exactly-was-reproduced-2" href="#what-exactly-was-reproduced-2"></a>What exactly was reproduced?</h2>
<p>This means we now have successfully reproduced:</p>
<ul>
<li>All packages that make it into the ISO</li>
<li>The building of the ISO itself</li>
</ul>
<p>The rebuild also built the packages that were needed to build the ISO (but aren‚Äôt included in it), rather than relying on cached binaries.</p>
<h2>
<a name="how-did-we-reproduce-3" href="#how-did-we-reproduce-3"></a>How did we reproduce?</h2>
<p>We reproduced <a href="https://hydra.nixos.org/build/239408385">this Hydra build</a> by starting a fresh VirtualBox appliance with <a href="https://releases.nixos.org/nixos/20.03/nixos-20.03.1405.a17e021b948/nixos-20.03.1405.a17e021b948-x86_64-linux.ova">NixOS 20.03</a> (adding plenty of CPU and memory, and resizing the disk to about 65G), and then:</p>
<pre><code>nix-shell -p git
git clone https://github.com/nixos/nixpkgs
cd nixpkgs
git checkout 63678e9f3d3a
# because of https://github.com/NixOS/nix/issues/9251
sudo touch /dev/kvm
sudo chmod a+rwx /dev/kvm
# because of https://github.com/NixOS/nixpkgs/issues/263730
nix-shell -p nix -I nixpkgs=/home/demo/nixpkgs --option substitute false
# let's go!
nix-build nixos/release-combined.nix -A nixos.iso_minimal.x86_64-linux --option substitute false --max-jobs 6 --arg nixpkgs "{ revCount = 541036; shortRev = \"63678e9f3d3a\"; rev = \"63678e9f3d3afecfeafa0acead6239cdb447574c\"; }"
# all below because of https://github.com/NixOS/nixpkgs/issues/263898:
sudo -o remount,rw /nix/store
sudo touch -d "1980-01-01¬∑00:00:00.000000000¬∑+0000" /nix/store/bn8y1ibzcvbqbl7d43zszl180ghy4rsn-lingering-users
sudo chmod 644 /nix/store/bn8y1ibzcvbqbl7d43zszl180ghy4rsn-lingering-users
sudo touch -d "1980-01-01¬∑00:00:00.000000000¬∑+0000" /nix/store/31cmbwil5awd20rvcbb13nps9mrw6gmj-etc-netgroup
sudo chmod 644 /nix/store/31cmbwil5awd20rvcbb13nps9mrw6gmj-etc-netgroup
sudo touch -d "1980-01-01¬∑00:00:00.000000000¬∑+0000" /nix/store/6cn8wcl7c850rfs52sw2598c2qhh1njc-mdadm.conf
sudo chmod 644 /nix/store/6cn8wcl7c850rfs52sw2598c2qhh1njc-mdadm.conf
sudo touch -d "1980-01-01¬∑00:00:00.000000000¬∑+0000" /nix/store/*-etc-mdadm.conf
sudo chmod 644 /nix/store/*-etc-mdadm.conf
rm result
nix-store --delete /nix/store/*-squashfs.img
nix-store --delete /nix/store/*-nixos-minimal-*.iso
# final build
nix-build nixos/release-combined.nix -A nixos.iso_minimal.x86_64-linux --option substitute false --max-jobs 6 --arg nixpkgs "{ revCount = 541036; shortRev = \"63678e9f3d3a\"; rev = \"63678e9f3d3afecfeafa0acead6239cdb447574c\"; }"

</code></pre>
<p>The <code>--option substitute false</code> makes sure ‚Äòeverything‚Äô is built on the machine itself, instead of fetching them from the binary cache.</p>
<h3>
<a name="arent-there-bootstrap-problems-with-the-above-approach-4" href="#arent-there-bootstrap-problems-with-the-above-approach-4"></a>Aren‚Äôt there bootstrap problems with the above approach?</h3>
<p>Well, yes: if the 2020 <code>ova</code> or the downloaded <code>git</code> contained elaborate backdoors, those might still be attack vectors. It would have been better to do the rebuild on a fully-<a href="https://bootstrappable.org/" rel="noopener nofollow ugc">bootstrapped</a> system, but we‚Äôre not quite <em>there</em> yet - see <a href="https://discourse.nixos.org/t/nixpkgs-supply-chain-security-project/34345">this thread</a> for exciting progress in this area. Still, this test gives a high confidence in the reproducibility of the ISO.</p>
<h2>
<a name="werent-we-here-before-5" href="#werent-we-here-before-5"></a>Weren‚Äôt we here before?</h2>
<p>You may remember <a href="https://discourse.nixos.org/t/nixos-unstable-s-iso-minimal-x86-64-linux-is-100-reproducible/13723">2021 announcement</a> that the minimal ISO was 100% reproducible. While back then we successfully tested that all packages were needed to build the ISO were <em>individually</em> reproducible, <em>actually</em> rebuilding the ISO still introduced differences. This was due to <a href="https://github.com/NixOS/nixpkgs/issues/125380">some remaining problems</a> in the hydra cache and the way the ISO was created. By the time we fixed those, regressions had popped up (notably an upstream problem in Python 3.10), and it isn‚Äôt until this week that we were back to having everything reproducible and being able to validate the complete chain.</p>
<h2>
<a name="where-to-from-now-6" href="#where-to-from-now-6"></a>Where to from now?</h2>
<p>Successfully rebuilding the minimal ISO once is an extremely satisfying milestone - but a somewhat arbitrary one. There is a lot more to do to reap the benefits of reproducibility, such as:</p>
<ul>
<li>Remove the hacks above (<a href="https://github.com/NixOS/nixpkgs/issues/263730">nixpkgs#263730</a>, <a href="https://github.com/NixOS/nix/issues/9251">nix#9251</a>, <a href="https://github.com/NixOS/nixpkgs/issues/263898">nixpkgs#263898</a>)</li>
<li>Making more packages reproducible. Reproducing the <a href="https://nixos.org/download#download-nixos">other installation media</a> such as the Gnome ISO seem like nice next milestones</li>
<li>Setting up infrastructure so that we can regularly independently rebuild these artifacts</li>
<li>Create tools to share and consume build attestations, such as <a href="https://github.com/nix-community/trustix">trustix</a>
</li>
<li>‚Ä¶ what would <em>you</em> like to see? Tell us in this thread!</li>
</ul>
<h2>
<a name="want-to-help-7" href="#want-to-help-7"></a>Want to help?</h2>
<ul>
<li>Join us at <a href="https://matrix.to/#/#reproducible-builds:nixos.org" rel="noopener nofollow ugc">#reproducible-builds:nixos.org</a>
</li>
<li>Check out the <a href="https://github.com/orgs/NixOS/projects/30">GitHub project board</a>
</li>
<li>Check out the NixOS Reproducible Builds website:</li>
</ul>


            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[AI can catalogue a forest's inhabitants simply by listening (101 pts)]]></title>
            <link>https://www.economist.com/science-and-technology/2023/10/25/ai-can-catalogue-a-forests-inhabitants-simply-by-listening</link>
            <guid>38056841</guid>
            <pubDate>Sun, 29 Oct 2023 08:56:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.economist.com/science-and-technology/2023/10/25/ai-can-catalogue-a-forests-inhabitants-simply-by-listening">https://www.economist.com/science-and-technology/2023/10/25/ai-can-catalogue-a-forests-inhabitants-simply-by-listening</a>, See on <a href="https://news.ycombinator.com/item?id=38056841">Hacker News</a></p>
<div id="readability-page-1" class="page"><section><h2>That could help check whether reforestation projects work as advertised</h2></section><div><div data-body-id="cp2"><div><figure><div><figcaption>Listen to this story.</figcaption> <p><span>Enjoy more audio and podcasts on<!-- --> <a id="audio-ios-cta" href="https://economist-app.onelink.me/d2eC/bed1b25" target="_blank" rel="noreferrer">iOS</a> <!-- -->or<!-- --> <a id="audio-android-cta" href="https://economist-app.onelink.me/d2eC/7f3c199" target="_blank" rel="noreferrer">Android</a>.</span></p></div><audio controls="" id="audio-player" preload="none" src="https://www.economist.com/media-assets/audio/073%20Science%20and%20technology%20-%20Ecology-34a51a15869b6a90bf54be4f76afc312.mp3" title="AI can catalogue a forest‚Äôs inhabitants simply by listening" controlslist="nodownload"><p>Your browser does not support the &lt;audio&gt; element.</p></audio></figure></div><p data-component="paragraph"><span data-caps="initial">T</span><small>he rainforests</small> are alive with the sound of animals. Besides the pleasure of the din, it is also useful to ecologists. If you want to measure the biodiversity of a piece of land, listening out for animal calls is mucher than grubbing about in the undergrowth looking for tracks or spoor. But such ‚Äúbioacoustic analysis‚Äù is still time-consuming, and it requires an expert pair of ears.</p><p data-component="paragraph">In a paper published on October 17th in <i>Nature Communications</i>, a group of researchers led by J√∂rg M√ºller, an ecologist at the University of W√ºrzburg, describe a better way: have a computer do the job. Smartphone apps already exist that will identify birds, bats or mammals simply by listening to the sounds they make. Their idea was to apply the principle to conservation work.</p><p data-component="paragraph">The researchers took recordings from across 43 sites in the Ecuadorean rainforest. Some sites were relatively pristine, old-growth forest. Others were areas that had recently been cleared for pasture or cacao planting. And some had been cleared but then abandoned, allowing the forest to regrow.</p><p data-component="paragraph">Sound recordings were taken four times every hour, over two weeks. The various calls were identified manually by an expert, and then used to construct a list of the species present. As expected, the longer the land had been free from agricultural activity, the greater the biodiversity it hosted.</p><p data-component="paragraph">Then it was the computer‚Äôs turn. The researchers fed their recordings to artificial-intelligence models that had been trained, using sound samples from elsewhere in Ecuador, to identify 75 bird species from their calls. ‚ÄúWe found that the <small>AI</small> tools could identify the sounds as well as the experts,‚Äù says Dr M√ºller.</p><p data-component="paragraph">Of course, not everything in a rainforest makes a noise. Dr M√ºller and his colleagues used light-traps to capture night-flying insects, and <small>DNA</small> analysis to identify them. Reassuringly, they found that the diversity of noisy animals was a reliable proxy for the diversity of the quieter ones, too.</p><p data-component="paragraph">The results may have relevance outside ecology departments, too. Under pressure from their customers, firms such as L‚ÄôOreal, a make-up company, and Shell, an oil firm, have been spending money on forest restoration projects around the world. Dr M√ºller hopes that an automated approach to checking on the results could help monitor such efforts, and give a standardised way to measure whether they are working as well as their sponsors say.<span>‚ñ†</span></p><p data-component="paragraph"><i>Curious about the world? To enjoy our mind-expanding science coverage, sign up to&nbsp;<a href="https://www.economist.com/newsletters/simply-science" target="_blank">Simply Science</a>, our weekly subscriber-only newsletter.</i></p></div><p>This article appeared in the Science &amp; technology section of the print edition under the headline "Listening to the jungle"</p><div orientation="vertical" data-test-id="vertical"><div orientation="vertical"><figure><img alt="America‚Äôs test" loading="lazy" width="1280" height="1684" decoding="async" data-nimg="1" sizes="300px" srcset="https://www.economist.com/img/b/16/21/90/media-assets/image/20231028_DE_EU.jpg 16w, https://www.economist.com/img/b/32/42/90/media-assets/image/20231028_DE_EU.jpg 32w, https://www.economist.com/img/b/48/63/90/media-assets/image/20231028_DE_EU.jpg 48w, https://www.economist.com/img/b/64/84/90/media-assets/image/20231028_DE_EU.jpg 64w, https://www.economist.com/img/b/96/126/90/media-assets/image/20231028_DE_EU.jpg 96w, https://www.economist.com/img/b/128/168/90/media-assets/image/20231028_DE_EU.jpg 128w, https://www.economist.com/img/b/256/336/90/media-assets/image/20231028_DE_EU.jpg 256w, https://www.economist.com/img/b/360/473/90/media-assets/image/20231028_DE_EU.jpg 360w, https://www.economist.com/img/b/384/505/90/media-assets/image/20231028_DE_EU.jpg 384w, https://www.economist.com/img/b/480/631/90/media-assets/image/20231028_DE_EU.jpg 480w, https://www.economist.com/img/b/600/789/90/media-assets/image/20231028_DE_EU.jpg 600w, https://www.economist.com/img/b/834/1097/90/media-assets/image/20231028_DE_EU.jpg 834w, https://www.economist.com/img/b/960/1263/90/media-assets/image/20231028_DE_EU.jpg 960w, https://www.economist.com/img/b/1096/1441/90/media-assets/image/20231028_DE_EU.jpg 1096w, https://www.economist.com/img/b/1280/1684/90/media-assets/image/20231028_DE_EU.jpg 1280w, https://www.economist.com/img/b/1424/1873/90/media-assets/image/20231028_DE_EU.jpg 1424w" src="https://www.economist.com/img/b/1424/1873/90/media-assets/image/20231028_DE_EU.jpg"></figure></div><div orientation="vertical"><h3 orientation="vertical">From the October 28th 2023 edition</h3><p orientation="vertical">Discover stories from this section and more in the list of contents </p><a href="https://www.economist.com/printedition/2023-10-28" data-analytics="sidebar:weekly_edition"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1zm.142 4.5l-1.008 1.062c3.33 3.276 4.194 4.14 4.608 4.5-1.602-.018-3.168-.018-10.242-.018v1.584c7.074 0 8.73 0 10.242-.018-.432.36-1.314 1.206-4.608 4.536l1.008 1.044 6.354-6.354L12.142 5.5z" fill="#2E45B8" fill-rule="nonzero"></path></g></svg><span>Explore the edition</span></a></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Giving a Shit as a Service (318 pts)]]></title>
            <link>https://allenpike.com/2022/giving-a-shit</link>
            <guid>38056637</guid>
            <pubDate>Sun, 29 Oct 2023 08:00:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://allenpike.com/2022/giving-a-shit">https://allenpike.com/2022/giving-a-shit</a>, See on <a href="https://news.ycombinator.com/item?id=38056637">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>A mental model for service businesses.</p><div>
<p>A few years back, my team decided to get a custom meeting room table. In our search for something great, we were referred to a small studio that does great work: East Vancouver‚Äôs <a href="https://www.unionwoodco.com/">Union Wood Co</a>.</p>

<p>The team there met with us, showed us various samples, and asked thoughtful questions about what we needed.  When I asked if a table could be made to a custom shape ‚Äì a superelliptical rectangle ‚Äì they were all for it <em>and</em> totally <a href="https://twitter.com/steamclocksw/status/1202383942248095744">pulled it off</a>.</p>

<p>Afterward, sitting at this delightful table, I reflected on why it came together so well. Getting something custom-built can often be the path of frustration and expensive surprises, yet our experience was a delight. Was it because the furniture makers were experts? No. Was it because they charged a lot of money? No.</p>

<p>It was because they gave a shit.</p>

<p>In some ways, that‚Äôs the fundamental value proposition of a small boutique, whether it be a furniture shop or a software studio. Giving a shit as a service. Sure, you can always get a commodity good from off the shelf ‚Äì when you‚Äôre selling soybean oil by the 100-ton lot, nobody wants to have a conversation with you about the subtle flavour profiles of different bean oils. But sometimes, you want to buy from someone that‚Äôs obsessed about the final product.</p>

<p>I used to puzzle over why potential clients who reached out to me always seemed to get <em>more</em> interested in hiring us if I tried to dissuade them by asking challenging questions. I think the biggest reason is that pushing back demonstrated that I care. If you email 4 software studios for a quote and 3 say ‚ÄúSure, here‚Äôs a quote‚Äù but the 4th says ‚ÄúHm, we certainly could build it but we can‚Äôt be sure about cost without knowing X and Y, and here are some other concerns we‚Äôd have‚Äù then the 4th is going to seem like they give a shit.</p>

<p>So, I suppose the moral of the story is: find yourself work you can give a shit about. And work with people who give a shit. It‚Äôll make shit a lot more pleasant ‚Äì I guarantee it.</p>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Exploiting DNS response parsing on the Wii U (149 pts)]]></title>
            <link>https://garyodernichts.blogspot.com/2023/10/exploiting-dns-response-parsing-on-wii-u.html</link>
            <guid>38056599</guid>
            <pubDate>Sun, 29 Oct 2023 07:51:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://garyodernichts.blogspot.com/2023/10/exploiting-dns-response-parsing-on-wii-u.html">https://garyodernichts.blogspot.com/2023/10/exploiting-dns-response-parsing-on-wii-u.html</a>, See on <a href="https://news.ycombinator.com/item?id=38056599">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="post-body-2496245911557940078" itemprop="description articleBody">
<p>It's annual Wii U exploit time! üòÑ</p><table><tbody><tr><td><a href="https://blogger.googleusercontent.com/img/a/AVvXsEhvKWVQhEy3v6fN9iIGFUrrfzqo7aq5jEbhmOp0BJwE3cZWpvcU3bM4V3EKpMGckPWL9O0gLiPGuxuHH8EILhay_YpuSEEFXilvkapCuX9BB8uEpbyH6bBbp6P7MfohdL_BImZ0qeUqv_SB5fkNxvnYHVfHmaupXBjE1HyEtCBlQimRBfEdCYWVx1s7Ekk"><img alt="" data-original-height="480" data-original-width="854" height="180" src="https://blogger.googleusercontent.com/img/a/AVvXsEhvKWVQhEy3v6fN9iIGFUrrfzqo7aq5jEbhmOp0BJwE3cZWpvcU3bM4V3EKpMGckPWL9O0gLiPGuxuHH8EILhay_YpuSEEFXilvkapCuX9BB8uEpbyH6bBbp6P7MfohdL_BImZ0qeUqv_SB5fkNxvnYHVfHmaupXBjE1HyEtCBlQimRBfEdCYWVx1s7Ekk" width="320"></a></td></tr><tr><td>Image of the Wii U connection test screen on the GamePad.<br></td></tr></tbody></table><p>After reverse engineering parts of the Wii Us' NET stack for another project I was working on, I realized it's using a modified version of <a href="http://web.archive.org/web/20120130031854/http://www.iniche.com/nichestack.php" target="_blank">NicheStack</a>.<br>NicheStack is a TCP/IP stack developed by  InterNiche Technologies and is designed for use in embedded systems.</p><h3>INFRA:HALT<br></h3><p>If you end up searching for NicheStack on the internet, one of the first things you'll find is <a href="https://www.forescout.com/resources/infrahalt-discovering-mitigating-large-scale-ot-vulnerabilities/" target="_blank">a security research report called INFRA:HALT</a>, published by Forescout Research Labs and<br>JFrog Security Research. This report contains a set of 14 vulnerabilities, which all affect various parts of NicheStack.</p><p>While most of these vulnerabilities "only" lead to a DoS, two vulnerabilities might lead to remote code execution. One of them affects the HTTP server, which is not used on the Wii U. The other one sounds a lot more interesting though...</p><h3>CVE-2020-25928</h3><p><a href="https://nvd.nist.gov/vuln/detail/CVE-2020-25928" target="_blank">CVE-2020-25928</a> is a vulnerability in the DNS client, which is also in use on the Wii U. It has a CVSS v3.1 Score of 9.8 and results in a heap buffer overflow which can lead to remote code execution.</p><p>The code described by the INFRA:HALT write-up looks something like this:</p><div><p><span>uint8_t</span><span> </span><span>*</span><span>cp</span><span>;</span></p><p><span>cp</span><span> </span><span>=</span><span> (</span><span>uint8_t</span><span> </span><span>*</span><span>)</span><span>&amp;</span><span>dnshdr</span><span>[</span><span>1</span><span>];</span></p><p><span>dns_entry</span><span>-&gt;</span><span>alist</span><span>[</span><span>0</span><span>] </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>dns_entry</span><span>-&gt;</span><span>ipaddrs</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>for</span><span> (</span><span>i</span><span> </span><span>=</span><span> </span><span>0</span><span>; </span><span>i</span><span> </span><span>&lt;</span><span> </span><span>records</span><span>; </span><span>i</span><span>++</span><span>)</span></p><p><span>{</span></p><p><span>   </span><span>// ...</span></p><p><span>   </span><span>cp</span><span> </span><span>=</span><span> </span><span>getoffset</span><span>(</span><span>cp</span><span>, (</span><span>char</span><span> </span><span>*</span><span>)</span><span>dns</span><span>, </span><span>&amp;</span><span>offset</span><span>);</span></p><p><span>   </span><span>cp</span><span> </span><span>=</span><span> </span><span>getshort</span><span>(</span><span>cp</span><span>, </span><span>&amp;</span><span>type</span><span>);</span></p><p><span>   </span><span>cp</span><span> </span><span>=</span><span> </span><span>getshort</span><span>(</span><span>cp</span><span>, </span><span>&amp;</span><span>netclass</span><span>);</span></p><p><span>   </span><span>// ...</span></p><p><span>   </span><span>cp</span><span> </span><span>=</span><span> </span><span>getlong</span><span>(</span><span>cp</span><span>, </span><span>&amp;</span><span>ttl</span><span>);</span></p><p><span>   </span><span>cp</span><span> </span><span>=</span><span> </span><span>getshort</span><span>(</span><span>cp</span><span>, </span><span>&amp;</span><span>rdlength</span><span>);</span></p><p><span>   </span><span>switch</span><span> (</span><span>type</span><span>)</span></p><p><span>   {</span></p><p><span>   </span><span>// ...</span></p><p><span>   </span><span>case</span><span> </span><span>0xCu</span><span>:</span></p><p><span>      </span><span>if</span><span> ( </span><span>type</span><span> </span><span>==</span><span> </span><span>1</span><span> </span><span>&amp;&amp;</span><span> </span><span>rdlength</span><span> </span><span>!=</span><span> </span><span>4</span><span> )</span></p><p><span>         </span><span>err</span><span> </span><span>=</span><span> </span><span>7</span><span>;</span></p><p><span>      </span><span>if</span><span> ( </span><span>!</span><span>err</span><span> )</span></p><p><span>      {</span></p><p><span>         </span><span>++</span><span>dnsc_good</span><span>;</span></p><p><span>         </span><span>if</span><span> ( </span><span>i</span><span> </span><span>&lt;</span><span> ( </span><span>queries</span><span> </span><span>+</span><span> </span><span>answers</span><span> ) )</span></p><p><span>         {</span></p><p><span>            </span><span>if</span><span> ( </span><span>nameoffset</span><span> </span><span>==</span><span> </span><span>0</span><span> )</span></p><p><span>            {</span></p><p><span>               </span><span>nameoffset</span><span> </span><span>=</span><span> </span><span>offset</span><span>;</span></p><p><span>               </span><span>// ...</span></p><p><span>            }</span></p><p><span>            </span><span>dnc_set_answer</span><span>(</span><span>dns_entry</span><span>, </span><span>type</span><span>, </span><span>cp</span><span>, </span><span>rdlength</span><span>);</span></p><p><span>            </span><span>// ...</span></p><p><span>         }</span></p><p><span>         </span><span>else</span></p><p><span>         {</span></p><p><span>            </span><span>if</span><span> ( </span><span>nameoffset</span><span> </span><span>==</span><span> </span><span>offset</span><span> )</span></p><p><span>            {</span></p><p><span>               </span><span>dnc_set_answer</span><span>(</span><span>dns_entry</span><span>, </span><span>type</span><span>, </span><span>cp</span><span>, </span><span>rdlength</span><span>);</span></p><p><span>            }</span></p><p><span>            </span><span>// ...</span></p><p><span>         }</span></p><p><span>         </span><span>// ...</span></p><p><span>      }</span></p><p><span>      </span><span>break</span><span>;</span></p><p><span>   </span><span>// ...</span></p><p><span>   }</span></p><p><span>}</span></p></div><p>As we can see <span>dnc_set_answer</span><span> is called for each record with type 0xC (PTR).&nbsp;</span></p><p><span>The </span><span>dnc_set_answer</span><span> implementation does something like this:<span><br></span></span></p><div><p><span>void</span><span>&nbsp;</span></p><p><span>dnc_set_answer</span><span>(</span><span>dns_querys</span><span> </span><span>*</span><span>entry</span><span>, </span><span>unshort</span><span> </span><span>type</span><span>, </span><span>uint8_t</span><span> </span><span>*</span><span>cp</span><span>, </span><span>int</span><span> </span><span>rdlen</span><span>)</span></p><p><span>{</span></p><p><span>   </span><span>// ...</span></p><p><span>   </span><span>switch</span><span> ( </span><span>type</span><span> )</span></p><p><span>   {</span></p><p><span>   </span><span>// ...</span></p><p><span>   </span><span>case</span><span> </span><span>0x0c</span><span>:</span></p><p><span>      </span><span>memcpy</span><span>(</span><span>entry</span><span>-&gt;</span><span>ptr_name</span><span>, </span><span>cp</span><span> </span><span>+</span><span> </span><span>1</span><span>, </span><span>rdlen</span><span> </span><span>-</span><span> </span><span>1</span><span>);</span></p><p><span>      </span><span>// ...</span></p><p><span>      </span><span>break</span><span>;</span></p><p><span>   </span><span>// ...</span></p><p><span>   }</span></p><p><span>}</span></p></div><p>As we can see the DNS client basically copies the record data into a fixed size buffer on the heap <b>without checking the size</b>.<br></p><p>At this point I was interested and decided to take a look if the Wii U implementation suffers from the same issue. To my surprise the Wii U implementation looks something like this instead:<br></p><div><p><span>if</span><span> (</span><span>type</span><span> </span><span>==</span><span> </span><span>0xC</span><span>)</span></p><p><span>{</span></p><p><span>   </span><span>dnc_copyin</span><span>(</span><span>dns_entry</span><span>-&gt;</span><span>ptr_name</span><span>, </span><span>cp</span><span>, </span><span>dns</span><span>);</span></p><p><span>}</span></p><p><span>else</span></p><p><span>{</span></p><p><span>   </span><span>dnc_set_answer</span><span>(</span><span>dns_entry</span><span>, </span><span>type</span><span>, </span><span>cp</span><span>, </span><span>rdlength</span><span>);</span></p><p><span>}</span></p></div><p>The affected <span>dnc_set_answer</span><span> call is explicitly not called for the type 0xC (PTR) records. Instead a function called </span><span>dnc_copyin</span><span> is called, which does proper bounds checks.</span></p><p><span>So someone (at Nintendo?) fixed this several years before INFRA:HALT was discovered and disclosed? <b>Well, they tried!</b></span></p><p><span>As we can see from the full code above there are two places where </span><span>dnc_set_answer</span><span> is called. The first one for answer records and the second one for additional records pointing to the first answer.<b> But they only added the check for the first one?!</b></span></p><p><span>The second one still blindly calls </span><span>dnc_set_answer</span><span> without doing any size checks.</span></p><h3><span>Exploiting it on the Wii U <br></span></h3><p><span>After writing a quick PoC server to confirm this actually works on a Wii U, I decided to try and exploit this.</span></p><p><span>Since the </span><span>dns_querys</span><span> struct is stored on the heap, this is a basic heap overflow.&nbsp;</span><span>The Wii U added a few additional fields to the </span><span>dns_querys</span><span> struct, which we can overwrite.</span><span> Due to the NET stack running on the ARM co-processor, the Wii U later copies this entire struct back to the PPC side using an address stored in a reply struct. </span><span>Unfortunately to overwrite the pointer to this reply struct, we would need to spoof a reply struct and point to it. Since the heap layout is determined by various network setup specific factors we have no idea where in the heap this </span><span>dns_querys</span><span> struct is allocated. So we need a way to store a buffer at a location in memory which we know the address </span><span>of</span><span>.<br></span></p><h3>Introducing DNS over TCP</h3><div><p>This doesn't seem to be part of NicheStack, but the Wii U features support for DNS over TCP instead of UDP. After two attempts of using UDP, the Wii U will switch to TCP if the truncated flag was set in the DNS header. For TCP support more fields were added to the <span>dns_querys</span><span> struct, one of them is a pointer to a buffer in which the received TCP data is stored.</span></p><p><span>So just overwrite this with an address in the stack and we can receive data into the stack? Unfortunately, no. Before storing data into this buffer it is resized using </span><span>IOS_HeapRealloc</span><span> (basically </span><span>realloc</span><span>), if it isn't </span><span>NULL</span><span>. If the heap block is already the same size as the reallocated size, the same pointer is returned though. This allows us to take over already allocated blocks inside of the heap but limits us to stay in bounds of the heap. If we point the receive buffer to one of the already allocated packet buffers at the start of the heap, which will always have the same address, we can receive data into a known memory location (limited by the MTU and TCP/IP fragmentation).<br></span></p><p><span>Remember the reply struct which is pointed to by the </span><span>dns_querys</span><span> struct? We now have a known memory location at which we can create a fake reply struct which points the reply buffer to anywhere in IOS-NET memory. <b>This causes the entire </b></span><b><span>dns_querys</span><span> struct to be copied to anywhere we want and we can control&nbsp;</span><span><span data-dobid="hdw">approximately</span></span><span> 256 bytes in this struct!</span></b></p><p><b><span><table><tbody><tr><td><a href="https://blogger.googleusercontent.com/img/a/AVvXsEiJfhtSiAcGNa460z1cpWG2IVuW4uba0uWts652-RjxWX8nlmfsllfA36Efexv1OnpkvO4_v4zhJWJuX4gDoa0dQx447i2slzQWysIeEKHjPAg9xhFRCpaeYXfiPXFnGpKkIT947XHDk5Xigf4FEN6Pt126tQtu7rGRBdBJVQgimBI92b3O6-EgVMCABRY"><img alt="" data-original-height="186" data-original-width="1082" height="110" src="https://blogger.googleusercontent.com/img/a/AVvXsEiJfhtSiAcGNa460z1cpWG2IVuW4uba0uWts652-RjxWX8nlmfsllfA36Efexv1OnpkvO4_v4zhJWJuX4gDoa0dQx447i2slzQWysIeEKHjPAg9xhFRCpaeYXfiPXFnGpKkIT947XHDk5Xigf4FEN6Pt126tQtu7rGRBdBJVQgimBI92b3O6-EgVMCABRY=w640-h110" width="640"></a></td></tr><tr><td><span>Memory layout showing </span><span>dns_querys</span><span> copying.</span><br></td></tr></tbody></table></span></b></p><h3><span>Creating a ROP Chain</span><b><span> <br></span></b></h3><p><span>Since the Wii U features no-execute on the ARM side, we need to write a ROP chain which performs a kernel exploit. Doing this within 256 bytes is tricky, but it's enough to open up a TCP socket, connecting to a server and receiving data from it into memory. We're abusing some buffering of the TCP stack implementation here, but it works!</span></p><p><span>We can now perform a stack pivot into the next ROP chain.&nbsp;</span></p><table><tbody><tr><td><img src="https://cdn.discordapp.com/attachments/648668277291352076/1165587512589287484/image.png"></td></tr><tr><td>I wish more IOS modules had a gadget to load the stack pointer from the stack!</td></tr></tbody></table><p><span> In this ROP chain we perform a kernel exploit as described in the previous write-ups, and copy the kernel binary from the buffer we received over the socket in the </span><span>previous ROP chain</span><span>.</span></p><p><b><span>We now have kernel code execution!</span></b></p><h3><b><span>Presenting: DNSpresso</span></b></h3><p><span>Since everything on the Wii U needs to be coffee related this implementation is called DNSpresso :p</span></p><p><span>You can find the GitHub repository with usage instructions <a href="https://github.com/GaryOderNichts/DNSpresso" target="_blank">here</a>.<br></span></p></div>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Research Unix Sixth Edition (WASM) (113 pts)]]></title>
            <link>https://research.swtch.com/v6/</link>
            <guid>38056476</guid>
            <pubDate>Sun, 29 Oct 2023 07:25:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://research.swtch.com/v6/">https://research.swtch.com/v6/</a>, See on <a href="https://news.ycombinator.com/item?id=38056476">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="about">
<p>
This web page runs a Go port of <br>
the Research Unix Sixth Edition kernel,<br>
running user-mode code in a simulated <br>
PDP11 CPU, all compiled to WebAssembly, <br>
executed in your browser.
</p>
<p>
A few accounts are root, dmr, and ken.<br>
The password is the username.<br>
Have fun poking around.
</p>
<p><code>cd</code> is spelled <code>chdir</code>.</p>
<p>Erase is #, and line kill is @. <br>
    As a convenience to 21st century users, <br>
    typing backspace and ^U generate these.</p>

<p>Echoed terminal input appears in bold.</p>

<p>The simulator runs in the browser UI thread,<br>
so long computations block the browser UI.
</p>

<p>On mobile devices, clicking a tty button<br>
should bring up the keyboard, <br>
but scrolling to the output point seems broken. <br>
<a href="https://github.com/rsc/unix/">Patches welcome.</a>
</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why are you so slow? (243 pts)]]></title>
            <link>https://www.allendowney.com/blog/2023/10/28/why-are-you-so-slow/</link>
            <guid>38056227</guid>
            <pubDate>Sun, 29 Oct 2023 06:22:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.allendowney.com/blog/2023/10/28/why-are-you-so-slow/">https://www.allendowney.com/blog/2023/10/28/why-are-you-so-slow/</a>, See on <a href="https://news.ycombinator.com/item?id=38056227">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main" role="main">

									
<article id="post-1085">

	
	
	<!-- .entry-header -->

			<div>
				
<blockquote>
<p>Recently a shoe store in France ran a promotion called ‚ÄúRob It to Get It‚Äù, which invited customers to try to steal something by grabbing it and running out of the store. But there was a catch ‚Äî the ‚Äúsecurity guard‚Äù was a professional sprinter, M√©ba Mickael Zeze. As you would expect, he is fast, but you might not appreciate how much faster he is than an average runner, or even a good runner.</p>



<p>Why? That‚Äôs the topic of Chapter 4 of <em><a href="https://greenteapress.com/wp/probably-overthinking-it/">Probably Overthinking It</a></em>, which is <a href="https://amzn.to/3Kp629E">available for preorder now</a>. Here‚Äôs an excerpt.</p>
</blockquote>



<h2>Running Speeds</h2>



<p>If you are a fan of the Atlanta Braves, a Major League Baseball team, or if you watch enough videos on the internet, you have probably seen one of the most popular forms of between-inning entertainment: a foot race between one of the fans and a spandex-suit-wearing mascot called the Freeze.</p>



<p>The route of the race is the dirt track that runs across the outfield, a distance of about 160 meters, which the Freeze runs in less than 20 seconds. To keep things interesting, the fan gets a head start of about 5 seconds. That might not seem like a lot, but if you watch one of these races, this lead seems insurmountable. However, when the Freeze starts running, you immediately see the difference between a pretty good runner and a very good runner. With few exceptions, the Freeze runs down the fan, overtakes them, and coasts to the finish line with seconds to spare.</p>



<p>Here are some examples:</p>



<figure><p><span><iframe width="640" height="360" src="https://www.youtube.com/embed/WxXypNqiS5A?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-US&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p></figure>



<p>But as fast as he is, the Freeze is not even a professional runner; he is a member of the Braves‚Äô ground crew named Nigel Talton. In college, he ran 200 meters in 21.66 seconds, which is very good. But the 200 meter collegiate record is 20.1 seconds, set by Wallace Spearmon in 2005, and the current world record is 19.19 seconds, set by Usain Bolt in 2009.</p>



<p>To put all that in perspective, let‚Äôs start with me. For a middle-aged man, I am a decent runner. When I was 42 years old, I ran my best-ever 10 kilometer race in 42:44, which was faster than 94% of the other runners who showed up for a local 10K. Around that time, I could run 200 meters in about 30 seconds (with wind assistance).</p>



<p>But a good high school runner is faster than me. At a recent meet, the fastest girl at a nearby high school ran 200 meters in about 27 seconds, and the fastest boy ran under 24 seconds.</p>



<p>So, in terms of speed, a fast high school girl is 11% faster than me, a fast high school boy is 12% faster than her; Nigel Talton, in his prime, was 11% faster than him, Wallace Spearmon was about 8% faster than Talton, and Usain Bolt is about 5% faster than Spearmon.</p>



<p>Unless you are Usain Bolt, there is always someone faster than you, and not just a little bit faster; they are much faster. The reason is that the distribution of running speed is not Gaussian ‚Äî It is more like lognormal.</p>



<p>To demonstrate, I‚Äôll use data from the James Joyce Ramble, which is the 10 kilometer race where I ran my previously-mentioned personal record time. I downloaded the times for the 1,592 finishers and converted them to speeds in kilometers per hour. The following figure shows the distribution of these speeds on a logarithmic scale, along with a Gaussian model I fit to the data.</p>



<figure><img data-lazy-fallback="1" decoding="async" fetchpriority="high" width="960" height="720" src="https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1.png" alt="" srcset="https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1.png 960w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1-300x225.png 300w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1-768x576.png 768w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1-360x270.png 360w" sizes="(max-width: 960px) 100vw, 960px" data-lazy-srcset="https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1.png 960w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1-300x225.png 300w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1-768x576.png 768w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1-360x270.png 360w" data-lazy-src="https://www.allendowney.com/blog/wp-content/uploads/2023/10/running1.png?is-pending-load=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>The logarithms follow a Gaussian distribution, which means the speeds themselves are lognormal. You might wonder why. Well, I have a theory, based on the following assumptions:</p>



<ul>
<li>First, everyone has a maximum speed they are capable of running, assuming that they train effectively.</li>



<li>Second, these speed limits can depend on many factors, including height and weight, fast- and slow-twitch muscle mass, cardiovascular conditioning, flexibility and elasticity, and probably more.</li>



<li>Finally, the way these factors interact tends to be multiplicative; that is, each person‚Äôs speed limit depends on the product of multiple factors.</li>
</ul>



<p>Here‚Äôs why I think speed depends on a product rather than a sum of factors. If all of your factors are good, you are fast; if any of them are bad, you are slow. Mathematically, the operation that has this property is multiplication.</p>



<p>For example, suppose there are only two factors, measured on a scale from 0 to 1, and each person‚Äôs speed limit is determined by their product. Let‚Äôs consider three hypothetical people:</p>



<ul>
<li>The first person scores high on both factors, let‚Äôs say 0.9. The product of these factors is 0.81, so they would be fast.</li>



<li>The second person scores relatively low on both factors, let‚Äôs say 0.3. The product is 0.09, so they would be quite slow.</li>
</ul>



<p>So far, this is not surprising: if you are good in every way, you are fast; if you are bad in every way, you are slow. But what if you are good in some ways and bad in others?</p>



<ul>
<li>The third person scores 0.9 on one factor and 0.3 on the other. The product is 0.27, so they are a little bit faster than someone who scores low on both factors, but much slower than someone who scores high on both.</li>
</ul>



<p>That‚Äôs a property of multiplication: the product depends most strongly on the smallest factor. And as the number of factors increases, the effect becomes more dramatic.</p>



<p>To simulate this mechanism, I generated five random factors from a Gaussian distribution and multiplied them together. I adjusted the mean and standard deviation of the Gaussians so that the resulting distribution fit the data; the following figure shows the results.</p>



<figure><img data-lazy-fallback="1" decoding="async" width="960" height="720" src="https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2.png" alt="" srcset="https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2.png 960w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2-300x225.png 300w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2-768x576.png 768w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2-360x270.png 360w" sizes="(max-width: 960px) 100vw, 960px" data-lazy-srcset="https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2.png 960w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2-300x225.png 300w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2-768x576.png 768w, https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2-360x270.png 360w" data-lazy-src="https://www.allendowney.com/blog/wp-content/uploads/2023/10/running2.png?is-pending-load=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>The simulation results fit the data well. So this example demonstrates a second mechanism [the first is described earlier in the chapter] that can produce lognormal distributions: the limiting power of the weakest link. If there are at least five factors affect running speed, and each person‚Äôs limit depends on their worst factor, that would explain why the distribution of running speed is lognormal.</p>



<p>And that‚Äôs why you can‚Äôt beat the Freeze.</p>



<hr>



<p>You can read about the ‚ÄúRob It to Get It‚Äù promotion <a href="https://wapo.st/408ZNhv">in this article</a> and watch people get run down <a href="https://www.youtube.com/watch?v=SIcBa5eBOJQ">in this video</a>.</p>


							</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->
				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA['It's quite soul-destroying': how we fell out of love with dating apps (224 pts)]]></title>
            <link>https://www.theguardian.com/lifeandstyle/2023/oct/28/its-quite-soul-destroying-how-we-fell-out-of-love-with-dating-apps</link>
            <guid>38055947</guid>
            <pubDate>Sun, 29 Oct 2023 05:11:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theguardian.com/lifeandstyle/2023/oct/28/its-quite-soul-destroying-how-we-fell-out-of-love-with-dating-apps">https://www.theguardian.com/lifeandstyle/2023/oct/28/its-quite-soul-destroying-how-we-fell-out-of-love-with-dating-apps</a>, See on <a href="https://news.ycombinator.com/item?id=38055947">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent"><p><span>L</span>acey deleted dating apps from her phone a couple of years ago and has never looked back ‚Äì and not because she met the man of her dreams. The 55-year-old social worker now spends her weekends on the dancefloors of illegal nightclubs in north London‚Äôs Turnpike Lane<strong>, </strong>unlicensed venues where people go to let loose. ‚ÄúI meet so many men,‚Äù she says enthusiastically. She will often go out alone to these clubs where, she says, men outnumber women. ‚ÄúRecently, I met a younger man with an amazing body. It was probably the best sex of my life.‚Äù</p><p>As for her relationship status? ‚ÄúI‚Äôm always in a state of flux.‚Äù Lacey‚Äôs approach might not suit everyone looking for love, but she is one of a growing number of people rejecting swiping on a screen and taking their dating lives offline.</p><p>Dating apps, often referred to as simply ‚Äúthe apps‚Äù, have become such a ubiquitous part of the modern dating scene that it can be difficult to remember how connections were made before they popped up in the early 2010s. Having evolved out of desktop dating sites like eHarmony and Match.com, which were perhaps unfairly characterised as lonely hearts services for people struggling to make acquaintances in real life, the likes of <a href="https://www.theguardian.com/technology/tinder" data-link-name="in body link" data-component="auto-linked-tag">Tinder</a>, Grindr, Bumble and Hinge have become, for some, the only way to meet people.</p><p>But the sand appears to be shifting once again. More than a decade on, users are abandoning their profiles in search of a better way of <a href="https://www.theguardian.com/lifeandstyle/2023/may/31/a-friend-said-it-gave-them-hope-four-ways-to-find-love-without-the-apps" data-link-name="in body link">meeting like‚Äëminded people</a>. The most up-to-date figures show the world‚Äôs most popular dating app, Tinder, saw its users <a href="https://www.ft.com/content/3966b57d-110d-47ba-9421-4a9bdeb01b4e" data-link-name="in body link">drop by 5% in 2021</a>, while shares in both Bumble and Match Group, which owns Tinder, <a href="https://finance.yahoo.com/news/shareholders-bumble-nasdaq-bmbl-lost-110852309.html" data-link-name="in body link">have declined steadily</a> over the last couple of years.</p><p>It is a problem that seems likely to get worse for those companies, as <a href="https://savanta.com/knowledge-centre/view/gen-zs-dating-story-pre-and-post-pandemic-trends/" data-link-name="in body link">more than 90% of gen Z</a> feel frustrated with dating apps, according to youth research agency Savanta.</p><figure id="2844a6ec-b7d3-4840-bcbe-a0d6deeca9ac" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-2"><picture><source srcset="https://i.guim.co.uk/img/media/4c8d09223d70628e5cb1017285cd28484cc1f5e9/0_100_1013_911/master/1013.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/4c8d09223d70628e5cb1017285cd28484cc1f5e9/0_100_1013_911/master/1013.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/4c8d09223d70628e5cb1017285cd28484cc1f5e9/0_100_1013_911/master/1013.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/4c8d09223d70628e5cb1017285cd28484cc1f5e9/0_100_1013_911/master/1013.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/4c8d09223d70628e5cb1017285cd28484cc1f5e9/0_100_1013_911/master/1013.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/4c8d09223d70628e5cb1017285cd28484cc1f5e9/0_100_1013_911/master/1013.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="An illustration of three women talking and drinking wine while a small, sweaty man tries to get their attention" src="https://i.guim.co.uk/img/media/4c8d09223d70628e5cb1017285cd28484cc1f5e9/0_100_1013_911/master/1013.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="400.19249753208294" loading="lazy"></picture></div></figure><p>‚ÄúThe apps are algorithmic doom barrels,‚Äù says Dylan Freeman-Grist, a 29-year-old living in Toronto, Canada. He recently split from a long-term partner and even what he describes as a sense of forboding, ‚Äúthat I‚Äôm fated to end up alone‚Äù, was not enough to drive him back to dating apps. The spam, bots and fake accounts are tough enough to contend with, he says, and that‚Äôs before all the issues with being assessed for attractiveness based on six pictures and a few lines of text.</p><p>‚ÄúIt does not matter how handsome or beautiful or charming you are, there is this underlying tension that you are 10 swipes away from a person that outranks you on the conventional beauty and charisma scale. It‚Äôs enough to make you feel all the insecurities that you haven‚Äôt needed to swallow since you were a teenager and a whole ream of new adult ones,‚Äù he says.</p><p>But with the apps being so embedded in the culture of modern dating, where else can single people turn to meet the love of their life, or even have a quick fling?</p><hr><p><span>N</span>ottinghamshire pharmacist Kevin Inglesant is one of many people who have struggled to make connections online. He has tried Bumble, Match, Badoo and Facebook dating, but in nearly three years has only met one person, with whom he had six dates before the relationship ended.</p><p>‚ÄúThe vast majority of matches have resulted in no dialogue,‚Äù says the 38-year-old. ‚ÄúWith most of the rest there was a bit of to and fro before being ghosted. It‚Äôs quite soul-destroying.‚Äù</p><p>The new rules of dating mean approaching strangers in public is more frowned upon than it was previously, though he has found a potentially promising solution. ‚ÄúI came across an ad for the <a href="https://pearring.co/" data-link-name="in body link">Pear ring</a> on Facebook,‚Äù he says, referring to a pale green silicone ring that can be worn on any finger as a sign that the wearer is happy to be approached, in what its makers describe as ‚Äúthe world‚Äôs biggest single social experiment‚Äù.</p><p>‚ÄúIt was about ¬£20, and honestly I haven‚Äôt seen anyone else wearing one and the only people who have asked me about it were people who already know me, know that I don‚Äôt generally wear jewellery and were curious. I think I need to wear it more in situations where I‚Äôll be meeting new people before I can make a judgment as to how effective this technique is ‚Äì and wait for the idea to become more widely known as well.‚Äù</p><p>Putting a new spin on an old-fashioned approach also appeals to Katy, a 37-year-old who lives in London, works for a charity, and says the apps had made her forget how to flirt. ‚ÄúSo I‚Äôve given myself the challenge of flirting with one person every day, which has been a lot of fun,‚Äù she says. ‚ÄúIt‚Äôs made me realise that so many people are wrapped up in their phones, and aren‚Äôt aware of people around them, which is quite sad. I‚Äôve had some fun interactions, and while it hasn‚Äôt brought me any dates ‚Äì yet ‚Äì that‚Äôs not the goal. I‚Äôm in absolutely no hurry to bring dating apps back into my life.‚Äù</p><p>Many say the apps feel like work and there is a genuine sense of burnout as people struggle to commit to what is essentially hours of admin a week alongside their day jobs and other responsibilities. And even those who have their pick of matches have found themselves having an unenjoyable experience.</p><p>‚ÄúI was getting a torrent of likes ‚Äì and I absolutely hated it,‚Äù says Sophie, 33, a London-based writer who used Hinge for more than a year before ditching it. ‚ÄúI‚Äôd try not to be too picky based on superficial qualities because I‚Äôm simply looking for an interesting or creative person, and that‚Äôs one thing you can‚Äôt spot easily on an app, but then I‚Äôd get too many matches, which was really overwhelming. I‚Äôd end up ghosting them all, which I felt really guilty about.‚Äù</p><figure id="a0bc039f-c470-4851-a10c-f2733307ace6" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-3"><picture><source srcset="https://i.guim.co.uk/img/media/6ba0c1dc9197438b83ab5577ba54ed72397ed8f1/78_58_1680_1008/master/1680.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/6ba0c1dc9197438b83ab5577ba54ed72397ed8f1/78_58_1680_1008/master/1680.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/6ba0c1dc9197438b83ab5577ba54ed72397ed8f1/78_58_1680_1008/master/1680.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/6ba0c1dc9197438b83ab5577ba54ed72397ed8f1/78_58_1680_1008/master/1680.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/6ba0c1dc9197438b83ab5577ba54ed72397ed8f1/78_58_1680_1008/master/1680.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/6ba0c1dc9197438b83ab5577ba54ed72397ed8f1/78_58_1680_1008/master/1680.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="An illustration of hearts" src="https://i.guim.co.uk/img/media/6ba0c1dc9197438b83ab5577ba54ed72397ed8f1/78_58_1680_1008/master/1680.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267" loading="lazy"></picture></div></figure><p>She has tried Tinder (‚Äúeven worse‚Äù) and at one point attempted to join <a href="https://apps.apple.com/us/app/raya/id957215308" data-link-name="in body link">Raya</a>, which markets itself as a ‚Äúprivate community‚Äù of ‚Äúexciting people‚Äù, though it is better known as the celebrity dating app. It is where Lily Allen met her husband, the Stranger Things actor <a href="https://www.theguardian.com/film/2021/jul/03/david-harbour-marvel-black-widow-stranger-things-jim-hopper" data-link-name="in body link">David Harbour</a>. Ben Affleck and Matthew Perry have also been Raya users.</p><p>‚ÄúI tried to join that app because I wanted something more exclusive, but it was too exclusive to let me in,‚Äù she laughs. ‚ÄúAfter that I just gave up. I‚Äôd been clinging for so long to stories of friends who met their significant others on an app and I just had to let it go.‚Äù</p><p>After a ‚Äúvery humbling year‚Äù expecting to meet someone organically, she is now taking a bolder approach. ‚ÄúI started asking friends and acquaintances if there‚Äôs anyone they can set me up with.</p><p>When being single comes up in conversation, you naturally want to say, ‚ÄòIt‚Äôs cool, I‚Äôm enjoying my independence, I‚Äôm sure I‚Äôll meet someone soon,‚Äô and it can be excruciating to say, ‚ÄòActually I‚Äôm really unhappy and I‚Äôm desperately trying to meet someone‚Äô ‚Äì but I‚Äôve learned that‚Äôs kind of the best thing to do.</p><p>‚ÄúYou really have to set some standards ‚Äì people can be so keen to help that they tend to overestimate how good-looking or interesting their mates are, or they try to suggest the only single person they know, no matter how unsuitable ‚Äì but it has worked quite well. It‚Äôs so easy to get an idea of whether you‚Äôll click. I‚Äôve had dates with two people through mutual friends so far, both musicians weirdly, and one of them has some potential.‚Äù</p><p>In a similar way, family might fill that role for Jeevan, a 30-year-old IT worker, who says his Indian parents had offered to set him up when he was younger. He had always declined, but is now reconsidering. ‚ÄúIt‚Äôs not something I wanted to do before, but now I‚Äôm finding time has caught up with me a bit and I‚Äôm in a position where I do want to meet a partner. I think I‚Äôm going to keep trying for a couple more years, and if that doesn‚Äôt work, I will ask them.‚Äù</p><p>The benefit of meeting someone vouched for is also driving Clare, 38, from Bath, to explore her options, after having signed up to numerous dating apps over the years, only to quit after a few months each time. She always felt uneasy about meeting a person who is completely unknown, beyond a first name and age, which are not always genuine. She says: ‚ÄúIt‚Äôs a bad platform for people with trust issues like myself as I don‚Äôt like meeting total strangers. You are meeting outside of any community accountability ‚Äì so people are also generally a bit shitter in their ethics.</p><p>‚ÄúThere‚Äôs also the issue of selection,‚Äù she adds. ‚ÄúI connect with people strongly in real life I‚Äôd never have selected on a dating app. Either they would be too young, too hot, or unattractive on an app. People are so much more magic in real life.‚Äù</p><figure id="1b48a1c7-ecf8-434e-84ba-f14cff32a687" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-4"><picture><source srcset="https://i.guim.co.uk/img/media/b8ac0b37ca1aa650b2a299e120ed51d7429f968d/0_0_949_885/master/949.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/b8ac0b37ca1aa650b2a299e120ed51d7429f968d/0_0_949_885/master/949.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/b8ac0b37ca1aa650b2a299e120ed51d7429f968d/0_0_949_885/master/949.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/b8ac0b37ca1aa650b2a299e120ed51d7429f968d/0_0_949_885/master/949.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/b8ac0b37ca1aa650b2a299e120ed51d7429f968d/0_0_949_885/master/949.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/b8ac0b37ca1aa650b2a299e120ed51d7429f968d/0_0_949_885/master/949.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="A man and a woman looking at each other enthusiastically" src="https://i.guim.co.uk/img/media/b8ac0b37ca1aa650b2a299e120ed51d7429f968d/0_0_949_885/master/949.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="414.98946259220236" loading="lazy"></picture></div></figure><p>She has done slow dating at Shambala festival, with an emphasis on doing exercises that could help to make emotional connections, including questions like, ‚ÄúWhat are you most proud of in your life?‚Äù and ‚ÄúWhat‚Äôs the biggest challenge you‚Äôve overcome?‚Äù</p><p>However, her favourite thing was a workshop called The Art of Flirting: ‚ÄúEssentially a workshop full of (mostly) single people having their confidence built up collectively through playful exercises with a fair amount of emotional risk. For example, we had to walk in our most confident, flirtatious manner towards people and note how we felt about it. The big takeaway was how essential risk, self-confidence and not taking it too seriously were ‚Äì maybe more like dating skills.‚Äù</p><p>She is keen to try more. ‚ÄúMy friend mentioned events she went to in London that involved bringing your single friend to take the pressure off.‚Äù These events, such as Conscious Dating‚Äôs <a href="https://www.eventbrite.co.uk/e/conscious-dating-bring-a-friend-movie-meal-drinks-chat-social-mixer-tickets-704699584427" data-link-name="in body link">Bring-a-Friend nights</a>, usually involve bringing another single person of a different gender to ensure the room has an even split, but there are lots of variations.</p><p>Clare is not alone ‚Äì the demand for more face-to-face interactions is increasing. Figures from Eventbrite shared with the Guardian show the number of dating or singles events in the UK has doubled since before the start of the pandemic. The event management company attributes this rise to both people wanting more physical connection after lockdown and the growing fatigue with dating apps.</p><p>Some events now focus on precise groups, such as black lesbians or divorced Muslim professionals, while others offer a twist, including speed-dating events that revolve around being naked, playing Jenga while drunk, playing video games or bringing your dogs.</p><p>Some people prefer something more simple, with fewer expectations. Stef began using the app Meetup, normally used to meet people in a friendly setting usually around a passion or interest, when she first moved to Paris. She has been hit on a few times at meet-ups, ‚Äúwhich has been so nice honestly‚Äù.</p><p>‚ÄúYou have the opportunity to meet heaps of other cute, single people in real life with no stuffy or awkward first-date vibes because if you don‚Äôt click with someone, you can just excuse yourself and chat with someone else,‚Äù she says. ‚ÄúI sometimes think they must be what 1970s mixers were like. Just lots of fun chats with new people and wine ‚Äì perfect. I haven‚Äôt met the love of my life yet, but I feel like I‚Äôm very close.‚Äù</p><hr><p><span>B</span>ut, for a lot of single people, the problems with the apps run deeper than being time-consuming and fruitless. Political journalist and writer Lucy Webster describes how she faced harassment and unpleasant comments about her disability when using dating apps.</p><p>‚ÄúI‚Äôd get a lot of comments about being a wheelchair user, most of which were of the ‚ÄòCan you have sex?‚Äô variety. I would just block them instantly, because what‚Äôs the point?‚Äù says Webster.</p><p>She describes how the superficiality of apps encourages ableism, because there are no consequences to unkind or abusive behaviour. ‚ÄúThey‚Äôre not doing it in public and they‚Äôre not going to get banned for saying they don‚Äôt want to date a wheelchair user. It just encourages this awful, unacceptable behaviour,‚Äù she says. ‚ÄúEventually I just thought, ‚ÄòWhat the hell am I doing?‚Äô‚Äù</p><figure id="40bab240-a68c-4d64-9d15-7f1c2d6ebc83" data-spacefinder-role="richLink" data-spacefinder-type="model.dotcomrendering.pageElements.RichLinkBlockElement"><gu-island name="RichLinkComponent" priority="feature" deferuntil="idle" props="{&quot;richLinkIndex&quot;:41,&quot;element&quot;:{&quot;_type&quot;:&quot;model.dotcomrendering.pageElements.RichLinkBlockElement&quot;,&quot;url&quot;:&quot;https://www.theguardian.com/lifeandstyle/2023/may/31/a-friend-said-it-gave-them-hope-four-ways-to-find-love-without-the-apps&quot;,&quot;text&quot;:&quot;‚ÄòA friend said it gave them hope‚Äô: four ways to find love ‚Äì without the apps&quot;,&quot;prefix&quot;:&quot;Related: &quot;,&quot;role&quot;:&quot;richLink&quot;,&quot;elementId&quot;:&quot;40bab240-a68c-4d64-9d15-7f1c2d6ebc83&quot;},&quot;ajaxUrl&quot;:&quot;https://api.nextgen.guardianapps.co.uk&quot;,&quot;format&quot;:{&quot;display&quot;:2,&quot;theme&quot;:4,&quot;design&quot;:10}}" config="{&quot;renderingTarget&quot;:&quot;Web&quot;,&quot;darkModeAvailable&quot;:false}"></gu-island></figure><p>But her options outside the apps have been limited, too. Webster went viral in 2021 when she was left in tears after being told by a personal matchmaking service to reconsider joining as people may refuse dates with someone who uses a wheelchair. This meant, that in their words, ‚Äúachieving good outcomes for full‚Äëtime wheelchair user clients can be quite challenging‚Äù. She says: ‚ÄúI renounced the whole thing and very quickly found my mental health was much better. I haven‚Äôt thought about getting back on a dating app or dating since, and I‚Äôm not really miserable any more.‚Äù</p><p>Many readers got in touch with the Guardian with similar stories about finding contentment away from the pressures of trying to date.</p><p>Erica Smart from Banbury gave up dating apps a year ago after spending a decade using them. ‚ÄúI have never regretted this, despite knowing that various friends have met their spouses and long-term partners through them ‚Äì something that I would still dearly love to have. However, I am at peace with the idea that I may never meet someone. If it happens, great. But if not, I‚Äôm also content with that. Having a partner can bring happiness, but also stress,‚Äù says the 42-year-old.</p><p>In fact, there is a surprising sense of optimism among those who have said goodbye to the apps. For Emma Chappell, 42, doing enjoyable, fulfilling activities may lead to a date, even though her choir sessions and nature walks have yet to yield any opportunities. ‚ÄúAt least joining things and learning a new skill or having a fun night out is more worthwhile. And you have that thought of, ‚ÄòYou never know.‚Äô‚Äù She adds: ‚ÄúLife is for living, after all, not sitting behind a screen waiting for life to start.‚Äù</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Windows installer of ImageMagick will no longer be signed (234 pts)]]></title>
            <link>https://github.com/ImageMagick/ImageMagick/discussions/6826</link>
            <guid>38055816</guid>
            <pubDate>Sun, 29 Oct 2023 04:31:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/ImageMagick/ImageMagick/discussions/6826">https://github.com/ImageMagick/ImageMagick/discussions/6826</a>, See on <a href="https://news.ycombinator.com/item?id=38055816">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-discussion-hovercards-enabled="" data-repository-hovercards-enabled="" data-commit-hovercards-enabled="" data-channel="eyJjIjoiZGlzY3Vzc2lvbjo1Nzg3Mjk3IiwidCI6MTY5ODU3MDAwNX0=--7e8541c60b79fa292bfc4a9d1bad67e7384284ef9f78540d062d5fd5a533b3b8" data-quote-markdown=".js-comment-body" data-issue-and-pr-hovercards-enabled="" data-team-hovercards-enabled="" data-timeline-item-src="/ImageMagick/ImageMagick/discussions/6826/timeline_anchor" id="js-discussions-timeline-anchor-loader">
        <div data-body-version="2575215cec92a323c504a2398fd904a1c0d75e5afc515709b0b9a0d31c86e651" data-error="" id="discussion-5787297" data-hpc="" data-gid="D_kwDOAiH5cc4AWE6h" data-url="/ImageMagick/ImageMagick/discussions/6826/body">
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">Today our code signing certificate will expire. For many years <a href="https://www.leaderssl.nl/" rel="nofollow">LeaderSSL</a> sponsored us with a code singing certificate but they are no longer able to do so. Since June of 2023 the CA/B Forum requires that OV code signing private keys be stored on a FIPS 140-2 Level 2 or Common Criteria Level EAL4+ certified device. This means we are no longer able to export our code signing certificate with its private key and use this in GitHub actions. We would now either need to have our own GitHub agent and hardware token or use a cloud solution (e.g. <a href="https://docs.digicert.com/en/software-trust-manager/ci-cd-integrations/plugins/github-custom-action-for-keypair-signing.html" rel="nofollow">digicert</a>). Our preference would be to use a cloud solution that integrates with GitHub. Digicert seems to be our only option now but a certificate there would cost <a href="https://order.digicert.com/step1/code_signing" rel="nofollow">$629</a> (tax excluded) for a single year. If your organization requires a signed installer then please consider sponsoring us with a code signing certificate. Please reach out to <a data-hovercard-type="user" data-hovercard-url="/users/dlemstra/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dlemstra">@dlemstra</a> for questions or in case of a sponsorship.</p>
    </div>
    
</task-lists>

          <div data-replace-remote-form-target="">
        <tool-tip id="tooltip-adad8705-5419-47f0-8040-06a56f1422ba" for="discussion-upvote-button-Discussion-5787297" popover="manual" data-direction="s" data-type="description" data-view-component="true">You must be logged in to vote</tool-tip>
    </div>

        </div>


        <div>
      

      <div data-body-version="989f5e5c3448d6053b8906516315bd97c93ccc9c0406a3516abea3fc0f81376e" data-error="" id="discussioncomment-7414289" data-gid="DC_kwDOAiH5cc4AcSIR" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414289" data-open-edit-form-after-load="false">
        



      <div>
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414289/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">Does this only impact the .exe installer, or will all Win32 binaries (like the portable zip;s <code>magick.exe</code>) be unsigned?</p>
    </div>
    
</task-lists>

          <div>
              <div data-replace-remote-form-target="">
        <tool-tip id="tooltip-3ef18caf-60b4-488c-8f7a-655aca4350ed" for="discussion-upvote-button-DiscussionComment-7414289" popover="manual" data-direction="s" data-type="description" data-view-component="true">You must be logged in to vote</tool-tip>
    </div>

                <p><span>
                    1 reply
                  </span>
                </p>
            </div>

        </div>
          <div data-child-comments="" id="child-comments-discussioncomment-7414289">
      <p><a data-hydro-click="{&quot;event_type&quot;:&quot;discussions.click&quot;,&quot;payload&quot;:{&quot;event_context&quot;:&quot;DISCUSSION_VIEW&quot;,&quot;target&quot;:&quot;USER_PROFILE_LINK&quot;,&quot;current_repository_id&quot;:35780977,&quot;discussion_repository_id&quot;:35780977,&quot;org_level&quot;:false,&quot;discussion_id&quot;:5787297,&quot;discussion_comment_id&quot;:7414530,&quot;originating_url&quot;:&quot;https://github.com/ImageMagick/ImageMagick/discussions/6826&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="4e521379f1732a8413eec177fd4c2ace4037e47b1b5f5fea722c8ae1111a0105" data-hovercard-type="user" data-hovercard-url="/users/dlemstra/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dlemstra"><img src="https://avatars.githubusercontent.com/u/10426229?s=60&amp;v=4" width="30" height="30" alt="@dlemstra"></a></p>

        <div data-body-version="284dc7cc8b2d7d9b90dfd2fd914a1c845f0793322eff4f5fce68db24785a3d07" id="discussioncomment-7414530" data-gid="DC_kwDOAiH5cc4AcSMC" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414530" data-error="">
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414530/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">This impacts all binaries that were signed with a code signing certificate.</p>
    </div>
    
</task-lists>

          

        </div>

    </div>


        
    </div>
  <div data-body-version="f39ec50e1605d436341e99a2d26ab432da657e4e81ec5d49a42660137dea017f" data-error="" id="discussioncomment-7414314" data-gid="DC_kwDOAiH5cc4AcSIq" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414314" data-open-edit-form-after-load="false">
        



      <div>
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414314/language_detections">
      
    </inline-machine-translation>
  
    
</task-lists>

          <div>
              <div data-replace-remote-form-target="">
        <tool-tip id="tooltip-9b1eb263-752a-4898-bab4-38d5f0fddfd4" for="discussion-upvote-button-DiscussionComment-7414314" popover="manual" data-direction="s" data-type="description" data-view-component="true">You must be logged in to vote</tool-tip>
    </div>

                <p><span>
                    1 reply
                  </span>
                </p>
            </div>

        </div>
          <div data-child-comments="" id="child-comments-discussioncomment-7414314">
      <p><a data-hydro-click="{&quot;event_type&quot;:&quot;discussions.click&quot;,&quot;payload&quot;:{&quot;event_context&quot;:&quot;DISCUSSION_VIEW&quot;,&quot;target&quot;:&quot;USER_PROFILE_LINK&quot;,&quot;current_repository_id&quot;:35780977,&quot;discussion_repository_id&quot;:35780977,&quot;org_level&quot;:false,&quot;discussion_id&quot;:5787297,&quot;discussion_comment_id&quot;:7414534,&quot;originating_url&quot;:&quot;https://github.com/ImageMagick/ImageMagick/discussions/6826&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="b91dd428c474f8cb0d723e04c2e5140d49b7f649b15942ee73b478ec73891e8b" data-hovercard-type="user" data-hovercard-url="/users/dlemstra/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dlemstra"><img src="https://avatars.githubusercontent.com/u/10426229?s=60&amp;v=4" width="30" height="30" alt="@dlemstra"></a></p>

        <div data-body-version="a67a6d2c8b4d415942545cdc7f02cb06fc54eb1288cdad985de235b94ca53a56" id="discussioncomment-7414534" data-gid="DC_kwDOAiH5cc4AcSMG" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414534" data-error="">
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414534/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">I was not aware of this company but that might be an option.</p>
    </div>
    
</task-lists>

          

        </div>

    </div>


        
    </div>


          <div data-body-version="3eb6a9e53afd8c08e71c40e522ce535e6a49228fce15d503a74270220c9ffeaf" data-error="" id="discussioncomment-7414380" data-gid="DC_kwDOAiH5cc4AcSJs" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414380" data-open-edit-form-after-load="false">
        



      <div>
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414380/language_detections">
      
    </inline-machine-translation>
  <div>
        <blockquote>
<p dir="auto">Since June of 2023 the CA/B Forum requires that OV code signing private keys be stored on a FIPS 140-2 Level 2 or Common Criteria Level EAL4+ certified device. This means we are no longer able to export our code signing certificate with its private key and use this in GitHub actions.</p>
</blockquote>
<p dir="auto">Why can't your GHA reach out to your device via a proxy service you run and enable only when you're about to make releases, then disable when you're done making releases?</p>
    </div>
    
</task-lists>

          <div>
              <div data-replace-remote-form-target="">
        <tool-tip id="tooltip-51c40733-9c5b-4b84-87ae-b69ea92074c1" for="discussion-upvote-button-DiscussionComment-7414380" popover="manual" data-direction="s" data-type="description" data-view-component="true">You must be logged in to vote</tool-tip>
    </div>

                <p><span>
                    1 reply
                  </span>
                </p>
            </div>

        </div>
          <div data-child-comments="" id="child-comments-discussioncomment-7414380">
      <p><a data-hydro-click="{&quot;event_type&quot;:&quot;discussions.click&quot;,&quot;payload&quot;:{&quot;event_context&quot;:&quot;DISCUSSION_VIEW&quot;,&quot;target&quot;:&quot;USER_PROFILE_LINK&quot;,&quot;current_repository_id&quot;:35780977,&quot;discussion_repository_id&quot;:35780977,&quot;org_level&quot;:false,&quot;discussion_id&quot;:5787297,&quot;discussion_comment_id&quot;:7414539,&quot;originating_url&quot;:&quot;https://github.com/ImageMagick/ImageMagick/discussions/6826&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="ab04b5809d4cb6a3fa1536888a316079105532a52d638f172d4d4ee44164b587" data-hovercard-type="user" data-hovercard-url="/users/dlemstra/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dlemstra"><img src="https://avatars.githubusercontent.com/u/10426229?s=60&amp;v=4" width="30" height="30" alt="@dlemstra"></a></p>

        <div data-body-version="a551a23abf8c015443893ff5d6cfcb923ae24bc5979327610017a6b41300195a" id="discussioncomment-7414539" data-gid="DC_kwDOAiH5cc4AcSML" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414539" data-error="">
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414539/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">That would still require us to do a lot of extra work ourselves and that is why we are looking for a cloud based solution.</p>
    </div>
    
</task-lists>

          

        </div>

    </div>


        
    </div>
  <div data-body-version="9f94fff64de4eb3c42a1941127a0885211cc8f0d45abcf115a76655eb4b830df" data-error="" id="discussioncomment-7414482" data-gid="DC_kwDOAiH5cc4AcSLS" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414482" data-open-edit-form-after-load="false">
        



      <div>
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414482/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">I use azure key vault with a certificate issued by global sign (EV code signing certificate), and then use AzureSignTool <a href="https://github.com/vcsjones/AzureSignTool">https://github.com/vcsjones/AzureSignTool</a> to fetch the certificate and sign the file in github actions</p>
    </div>
    
</task-lists>

          <div>
              <div data-replace-remote-form-target="">
        <tool-tip id="tooltip-3f6a35c4-9943-415c-b6eb-c2d913ae24b4" for="discussion-upvote-button-DiscussionComment-7414482" popover="manual" data-direction="s" data-type="description" data-view-component="true">You must be logged in to vote</tool-tip>
    </div>

                <p><span>
                    5 replies
                  </span>
                </p>
            </div>

        </div>
          <div data-child-comments="" id="child-comments-discussioncomment-7414482">

    <div>
      <p><a data-hydro-click="{&quot;event_type&quot;:&quot;discussions.click&quot;,&quot;payload&quot;:{&quot;event_context&quot;:&quot;DISCUSSION_VIEW&quot;,&quot;target&quot;:&quot;USER_PROFILE_LINK&quot;,&quot;current_repository_id&quot;:35780977,&quot;discussion_repository_id&quot;:35780977,&quot;org_level&quot;:false,&quot;discussion_id&quot;:5787297,&quot;discussion_comment_id&quot;:7414562,&quot;originating_url&quot;:&quot;https://github.com/ImageMagick/ImageMagick/discussions/6826&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="fa9a78312b1b6cc0d6295d5d68329eac09e74d56349ac3b115d44da28b2f4921" data-hovercard-type="user" data-hovercard-url="/users/dlemstra/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dlemstra"><img src="https://avatars.githubusercontent.com/u/10426229?s=60&amp;v=4" width="30" height="30" alt="@dlemstra"></a></p>

        <div data-body-version="fec762992a520ca344e69f2ec20ccaf4ee284c025d524bde71eef40bab82b592" id="discussioncomment-7414562" data-gid="DC_kwDOAiH5cc4AcSMi" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414562" data-error="">
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414562/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">Thanks for the information. That sounds like a cheaper option. And yesterday someone also pointed this tool out to me: <a href="https://github.com/dotnet/sign">https://github.com/dotnet/sign</a> that uses AzureSignTools.</p>
    </div>
    
</task-lists>

          

        </div>

    </div>
    <div>
      <p><a data-hydro-click="{&quot;event_type&quot;:&quot;discussions.click&quot;,&quot;payload&quot;:{&quot;event_context&quot;:&quot;DISCUSSION_VIEW&quot;,&quot;target&quot;:&quot;USER_PROFILE_LINK&quot;,&quot;current_repository_id&quot;:35780977,&quot;discussion_repository_id&quot;:35780977,&quot;org_level&quot;:false,&quot;discussion_id&quot;:5787297,&quot;discussion_comment_id&quot;:7414605,&quot;originating_url&quot;:&quot;https://github.com/ImageMagick/ImageMagick/discussions/6826&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="5b9a4de472df8db1f2f626f5d71e6c79a798772dd8b378ae213c1f48023de0a2" data-hovercard-type="user" data-hovercard-url="/users/riverar/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/riverar"><img src="https://avatars.githubusercontent.com/u/475132?s=60&amp;v=4" width="30" height="30" alt="@riverar"></a></p>

        <div data-body-version="1d6c2589e8bfc8ca4ba22fdcebd25fc614121c901dc94677b23808257ab9e985" id="discussioncomment-7414605" data-gid="DC_kwDOAiH5cc4AcSNN" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414605" data-error="">
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414605/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">I moved from that to Azure Code Signing. Let me reach out to Microsoft and that team for you. Standby.</p>
    </div>
    
</task-lists>

          

        </div>

    </div>
    <div>
      <p><a data-hydro-click="{&quot;event_type&quot;:&quot;discussions.click&quot;,&quot;payload&quot;:{&quot;event_context&quot;:&quot;DISCUSSION_VIEW&quot;,&quot;target&quot;:&quot;USER_PROFILE_LINK&quot;,&quot;current_repository_id&quot;:35780977,&quot;discussion_repository_id&quot;:35780977,&quot;org_level&quot;:false,&quot;discussion_id&quot;:5787297,&quot;discussion_comment_id&quot;:7414658,&quot;originating_url&quot;:&quot;https://github.com/ImageMagick/ImageMagick/discussions/6826&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="1cf7d24070922753cff72c16a1642d54e819e47817ec9cee2c69d4c38714b18a" data-hovercard-type="user" data-hovercard-url="/users/dlemstra/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dlemstra"><img src="https://avatars.githubusercontent.com/u/10426229?s=60&amp;v=4" width="30" height="30" alt="@dlemstra"></a></p>

        <div data-body-version="3129225a04c90682fe4de5942b7119e7ab686f7c447338667161bfce60fc2d08" id="discussioncomment-7414658" data-gid="DC_kwDOAiH5cc4AcSOC" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414658" data-error="">
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414658/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">Thanks but I also just send out an email to AzureCodeSigningTAP myself to ask what would be possible.</p>
    </div>
    
</task-lists>

          

        </div>

    </div>
    <div>
      <p><a data-hydro-click="{&quot;event_type&quot;:&quot;discussions.click&quot;,&quot;payload&quot;:{&quot;event_context&quot;:&quot;DISCUSSION_VIEW&quot;,&quot;target&quot;:&quot;USER_PROFILE_LINK&quot;,&quot;current_repository_id&quot;:35780977,&quot;discussion_repository_id&quot;:35780977,&quot;org_level&quot;:false,&quot;discussion_id&quot;:5787297,&quot;discussion_comment_id&quot;:7414673,&quot;originating_url&quot;:&quot;https://github.com/ImageMagick/ImageMagick/discussions/6826&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="af545c45b55c937f43423aff8a11dde06492cef83d000e81f40abeef58cf6629" data-hovercard-type="user" data-hovercard-url="/users/sudara/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sudara"><img src="https://avatars.githubusercontent.com/u/472?s=60&amp;v=4" width="30" height="30" alt="@sudara"></a></p>

        

    </div>
    <div>
      <p><a data-hydro-click="{&quot;event_type&quot;:&quot;discussions.click&quot;,&quot;payload&quot;:{&quot;event_context&quot;:&quot;DISCUSSION_VIEW&quot;,&quot;target&quot;:&quot;USER_PROFILE_LINK&quot;,&quot;current_repository_id&quot;:35780977,&quot;discussion_repository_id&quot;:35780977,&quot;org_level&quot;:false,&quot;discussion_id&quot;:5787297,&quot;discussion_comment_id&quot;:7414700,&quot;originating_url&quot;:&quot;https://github.com/ImageMagick/ImageMagick/discussions/6826&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="ba4e0ea15994620ab1ec60cbc06a440d7e556af3b7d97569d6e4a8e44c122903" data-hovercard-type="user" data-hovercard-url="/users/yonathan06/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yonathan06"><img src="https://avatars.githubusercontent.com/u/5816863?s=60&amp;v=4" width="30" height="30" alt="@yonathan06"></a></p>

        <div data-body-version="c85f76f01ebaefd749ca4eee0294c52acc9c19281885adb7ed7cd9b70951d75a" id="discussioncomment-7414700" data-gid="DC_kwDOAiH5cc4AcSOs" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414700" data-error="">
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414700/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">here is the guide I was using: <a href="https://seankilleen.com/2020/05/how-to-use-azuresigntool-to-sign-files-with-azure-devops-using-a-certificate-in-azure-keyvault/" rel="nofollow">https://seankilleen.com/2020/05/how-to-use-azuresigntool-to-sign-files-with-azure-devops-using-a-certificate-in-azure-keyvault/</a><br>
to install AzureSignTools in github actions:</p>
<div dir="auto" data-snippet-clipboard-copy-content="      - if: matrix.platform == 'windows-latest'
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: '6.0.x'
      - if: matrix.platform == 'windows-latest'
        name: install AzureSignTools
        run: dotnet tool install --global azuresigntool"><pre>      - <span>if</span>: <span>matrix.platform == 'windows-latest'</span>
        <span>uses</span>: <span>actions/setup-dotnet@v3</span>
        <span>with</span>:
          <span>dotnet-version</span>: <span><span>'</span>6.0.x<span>'</span></span>
      - <span>if</span>: <span>matrix.platform == 'windows-latest'</span>
        <span>name</span>: <span>install AzureSignTools</span>
        <span>run</span>: <span>dotnet tool install --global azuresigntool</span></pre></div>
<p dir="auto">and then to sign:</p>
<div dir="auto" data-snippet-clipboard-copy-content="azuresigntool sign -kvu ${process.env.AKV_URL} -kvi ${process.env.AKV_CLIENT_ID} -kvs ${process.env.AKV_CLIENT_SECRET} -kvt ${process.env.AKV_TENANT_ID} -kvc ${process.env.AKV_CERT_NAME} -tr ${tsServer} -ifl ${signFileListPath}"><pre>azuresigntool sign -kvu <span>${process.env.AKV_URL}</span> -kvi <span>${process.env.AKV_CLIENT_ID}</span> -kvs <span>${process.env.AKV_CLIENT_SECRET}</span> -kvt <span>${process.env.AKV_TENANT_ID}</span> -kvc <span>${process.env.AKV_CERT_NAME}</span> -tr <span>${tsServer}</span> -ifl <span>${signFileListPath}</span></pre></div>
<p dir="auto">(process.env is JS access to env vars)</p>
    </div>
    
</task-lists>

          

        </div>

    </div>

</div>


        
    </div>
  <div data-body-version="02cbd34b4414287fcbbd835305fdb7f3f48aeab924d3077b1a5f13f35948c868" data-error="" id="discussioncomment-7414708" data-gid="DC_kwDOAiH5cc4AcSO0" data-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414708" data-open-edit-form-after-load="false">
            <task-lists disabled="" sortable="">
    <inline-machine-translation detected-language="en" detect-language-url="/ImageMagick/ImageMagick/discussions/6826/comments/7414708/language_detections">
      
    </inline-machine-translation>
  <div>
        <p dir="auto">The Azure KeyVault supports this and it costs cents to sign builds several times a day.</p>
    </div>
    
</task-lists>

          <div>
              <div data-replace-remote-form-target="">
        <tool-tip id="tooltip-e96b5882-8425-40c6-8443-2b057c05ec71" for="discussion-upvote-button-DiscussionComment-7414708" popover="manual" data-direction="s" data-type="description" data-view-component="true">You must be logged in to vote</tool-tip>
    </div>

                <p><span>
                    0 replies
                  </span>
                </p>
            </div>

        </div>


  
  <!-- '"` --><!-- </textarea></xmp> --></div>

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[All GB/s without FLOPS ‚Äì Nvidia CMP 170HX Review (111 pts)]]></title>
            <link>https://niconiconi.neocities.org/tech-notes/nvidia-cmp-170hx-review/</link>
            <guid>38055814</guid>
            <pubDate>Sun, 29 Oct 2023 04:30:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://niconiconi.neocities.org/tech-notes/nvidia-cmp-170hx-review/">https://niconiconi.neocities.org/tech-notes/nvidia-cmp-170hx-review/</a>, See on <a href="https://news.ycombinator.com/item?id=38055814">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
<article>
    <p><a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-0.jpg">
    <img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-0-small.jpg" alt="CMP 170HX in the original metal chassis" width="80%">
  </a>
</p>
<h2 id="introduction">Introduction</h2>
<p>In 2021, at the height of cryptocurrency mining, Nvidia released the Nvidia
CMP 170HX. Designed as a compute-only card to accelerate Ethereum‚Äôs
memory-hard <em>Ethash</em> Proof-of-Work mining algorithm with its 1500 GB/s
HBM2e memory bus, Nvidia implemented the hardware using the <em>GA100</em> silicon
from their <em>Ampere</em> architecture. Thus, the CMP 170HX is essentially a
variant of the all-mighty Nvidia A100, Nvidia‚Äôs top-performing datacenter
GPU at that time.</p>
<p>Naturally, the existence of the CMP 170HX raised many questions, including
its potential in applications beyond mining. Today, following the
discontinuation of <em>Ethash</em>, these $5000 GPUs from closed mining farms are
sold on second-hand markets for $400-$500 in China. It‚Äôs time to
answer these questions.</p>
<p>This article contains a basic performance overview, a hardware teardown,
a watercooling installation guide, and a repair log.</p>
<h3 id="performance-overview">Performance Overview</h3>
<h4 id="hardware-specification">Hardware Specification</h4>
<p>The Nvidia CMP 170HX contains 8960 shaders. Without artificial limitations
on instruction throughput, these shaders should reach a peak FP32 performance
of 25 TFLOPS.</p>
<pre><code>------------------------ Device specifications ------------------------
Device:              NVIDIA Graphics Device
CUDA driver version: 12.20
GPU clock rate:      1410 MHz
Memory clock rate:   729 MHz
Memory bus width:    4096 bits
WarpSize:            32
L2 cache size:       32768 KB
Total global mem:    7961 MB
ECC enabled:         No
Compute Capability:  8.0
Total SPs:           8960 (70 MPs x 128 SPs/MP)
Compute throughput:  25267.20 GFlops (theoretical single precision FMAs)
Memory bandwidth:    1492.99 GB/sec
-----------------------------------------------------------------------
</code></pre>
<h4 id="memory-bandwidth">Memory Bandwidth</h4>
<p><code>clpeak</code> shows the Nvidia CMP 170HX has a peak memory bandwidth of 1355 GB/s for
real without any downsizing. Thanks to the use of HBM2e and a wide bus, this is
right now the GPU with the fastest memory that money can buy at an affordable price.
The speed is nearly identical to the Nvidia A100 (HBM2e), and ~1.5x as fast as
the current top customer-grade GPUs, including the Nvidia RTX 4090 (GDDR6X),
AMD Radeon 7900 XTX (GDDR6), or the AMD Radeon VII / Instinct MI50 (HBM2), which
all topped out at ‚Äúonly‚Äù 700-800 GB/s with their 1 TB/s memory buses.</p>
<pre><code>Global memory bandwidth (GBPS)
  float   : 1165.79
  float2  : 1269.69
  float4  : 1343.50
  float8  : 1355.40
  float16 : 1350.14
</code></pre>
<p>However, this is where all the good news ends.</p>
<h4 id="floating-point-performance">Floating-Point Performance</h4>
<h5 id="fp32--fp64-with-fma-clpeak-standard-version">FP32 &amp; FP64 with FMA (<code>clpeak</code>, standard version)</h5>
<p>To measure the peak floating-point performance of a processor, most benchmarks
use the Multiply-Add operation in the form of <code>a * b + c</code> in their compute
kernels (i.e. inner loop) which is accelerated by the <em>Fused Multiply-Add</em> (FMA)
or <em>Multiply-Add</em> (MAD) instructions in most processors - <code>clpeak</code> is not
an exception.</p>
<p>Unfortunately, tests show heavy performance restrictions on FMA and MAD
floating-point operations, with a FP32 FMA speed of 394 GFLOPS and a FP64 FMA speed of 182
GFLOPS. The FP32 FMA performance is 1/100 of today‚Äôs high-end GPUs. To put
this into perspective, this is not only slower than the Nvidia GTX 280 GPU
from 15 years ago - it‚Äôs even slower than a 2020s multi-core CPU (&gt; 1 TFLOPS).</p>
<p>This kind of restrictions is often applied to FP64 performance on customer-grade
GPUs to prevent their use in computing workloads, but for the CMP 170HX,
FP32 basically received the same treatment.</p>
<pre><code>Single-precision compute (GFLOPS)
  float   : 394.77
  float2  : 394.77
  float4  : 394.77
  float8  : 394.77
  float16 : 394.77

No half precision support! Skipped

Double-precision compute (GFLOPS)
  double   : 182.72
  double2  : 182.55
  double4  : 182.19
  double8  : 181.48
  double16 : 180.08
</code></pre>
<h5 id="fp32-and-fp64-without-fma-clpeak-modified-version">FP32 and FP64 without FMA (<code>clpeak</code>, modified version)</h5>
<p>Upon further investigation using a self-written benchmark, I found regular
FP32 add or multiply is not restricted by that much. Thus, using a
non-standard and patched version of clpeak without the use of FMA
instructions entirely, the following results are obtained.</p>
<pre><code>Single-precision compute (GFLOPS)
  float   : 6285.48
  float2  : 6287.64
  float4  : 6294.30
  float8  : 6268.80
  float16 : 6252.80

No half precision support! Skipped

Double-precision compute (GFLOPS)
  double   : 94.98
  double2  : 94.93
  double4  : 94.84
  double8  : 94.65
  double16 : 94.29
</code></pre>
<p>Without FMA, the FP32 performance is around 6250 GFLOPS. 6250 GFLOPS is
around the speed of a current low-end desktop GPU such as an RTX 2060, or
an old high-end GPU from yesteryear, such as a Titan X (Maxwell).</p>
<p>This is rather low but may still be very acceptable, since many physics
simulations for scientific and engineering applications do not benefit
from improved core performance in terms of FLOPS, and instead are
primarily limited by memory bandwidth.</p>
<p>On the other hand, FP64 performance is now even lower without FMA, at a
nearly useless level of 94 GFLOPS. Thus, one may argue that it‚Äôs
useless for HPC uses. However, the use of FP64 is not always
required depending on the research subject. For many Partial Differential
Equation solvers for physics simulation, FP32 is in fact the standard.
First, the meshing and discretization errors are often much larger
sources of error, not to mention that FP64 would slow down these already
memory-bound simulations even further. Thus, FP32-only GPUs still have
their uses.</p>
<p>Unfortunately, in the case of CMP 170HX, it can be difficult if not
impossible to disable FMA in practice. Modifying the applications (and
possibly also its runtime) is already challenging enough, but even if
both conditions are feasible when they are often not, the problem of
standard libraries remain. Most HPC libraries contain hand-tuned
routines that heavily rely on FMA.
Not to mention that removing FMA changes the rounding behavior from
1 rounding to 2 roundings,
thus potentially compromising the numerical integrity of a simulation
and making it untrustworthy if the code was written in a way that
requires FMA to preserve precision
(see <em>Appendix</em> at the end of the
article on the technical details of modifying the OpenCL/SYCL/CUDA
runtime).</p>
<p>Thus, to achieve the goal of preventing the use of these GPUs in general
compute applications, Nvidia decided to simply throttle the FMA
throughput. This way, these GPUs are incompatible with most pre-existing
software in existence, without using more invasive performance
restrictions that may affect their intended mining applications.</p>
<h5 id="fp16-mixbench-sycl-version">FP16 (<code>mixbench</code>, SYCL version)</h5>
<p>Half-precision is unsupported by Nvidia‚Äôs OpenCL runtime but it‚Äôs accessible
via CUDA or SYCL (with a CUDA backend). According to <code>mixbench</code>, FP16
performance is around ~42 TFLOPS (41869 GFLOPS), and the use of FMA or
not doesn‚Äôt seem to affect the result.</p>
<p>FP16 performance is restricted in the same way to a level similar
to a low-end GPU: ~42 TFLOPS (41869 GFLOPS). The use of FMA or not doesn‚Äôt
seem to affect the outcome.</p>
<h5 id="mixed-precision">Mixed-Precision</h5>
<p>For mixed-precision FP32 computation, <code>gpu_burn</code> achieved 6.2 TFLOPS
when the ‚ÄúTensor Cores‚Äù option is enabled. When <code>gpu_burn</code> is instructed
to use Tensor Cores, the flag <code>CUBLAS_TENSOR_OP_MATH</code> (a.k.a
<code>CUBLAS_COMPUTE_32F_FAST_16F</code>) is set before calling the matrix multiplication
routines in cuBLAS.</p>
<pre><code>$ ./gpu_burn -d -tc 43200
Using compare file: compare.ptx
Burning for 43200 seconds.
GPU 0: NVIDIA Graphics Device
Initialized device 0 with 7961 MB of memory (7660 MB available, using 6894 MB of it), using FLOATS, using Tensor Cores
Results are 268435456 bytes each, thus performing 24 iterations
10.0%  proc'd: 24504 (6236 Gflop/s)   errors: 0   temps: 32 C 
        Summary at:   Tue Oct 24 23:21:38 UTC 2023
</code></pre>
<p>Since the performance is the same as standard non-FMA FP32 throughput
as I previously showed, I have to conclude that the Tensor Cores probably
aren‚Äôt working or at least not useful. All <code>CUBLAS_TENSOR_OP_MATH</code> is
preventing cuBLAS from using the standard FP32 FMA code path and
avoiding the FMA performance lockdown, but it has no additional benefits.</p>
<p>Other Tensor Core modes are currently untested, more tests are needed
to confirm the status of Tensor Cores. Benchmark suggestions are welcomed.</p>
<h4 id="integer-performance">Integer Performance</h4>
<p>Given the focus of this GPU on mining, which is an integer workload,
let‚Äôs also take a look at its integer performance as well.</p>
<h5 id="clpeak">clpeak</h5>
<p>The Nvidia CMP 170HX shows a reasonable integer performance of 12500
GIOPS (12.5 TIOPS), almost as fast as the RTX 2080 Ti (15 TIOPS), and
62.5% as fast as the Nvidia A100 (20 TIOPS).</p>
<pre><code>Integer compute (GIOPS)
  int   : 12499.07
  int2  : 12518.02
  int4  : 12494.16
  int8  : 12547.55
  int16 : 12540.22
</code></pre>
<h5 id="hashcat">Hashcat</h5>
<p>As previously mentioned, standard tests or benchmarks use floating-point
operators which are unsuitable for stress-testing this GPU. On the other
hand, an all-integer workload like hashcat ought to do it:</p>
<pre><code>-------------------
* Hash-Mode 0 (MD5)
-------------------

Speed.#1.........: 43930.0 MH/s (53.01ms) @ Accel:64 Loops:512 Thr:1024 Vec:1
</code></pre>
<p>The hashcat performance closely mirrors the <code>clpeak</code> result, it‚Äôs 67% as fast
as the Nvidia A100 (~64900 MH/s). Nevertheless, password crackers should probably
look elsewhere, as even an RTX 3080 runs faster at 54000.1 MH/s.</p>
<p>Remember that hashing or password cracking is a pure compute-bound application,
of which the HBM2e memory is not useful. Ethereum‚Äôs <em>Ethash</em> is memory-bound
only because it involves constantly reading a large Directed Acyclic Graph (DAG).</p>
<h4 id="simulation-performance">Simulation Performance</h4>
<p>Many physics simulations are often memory-bound, most are already running at 1%
to 10% of a CPU‚Äôs peak FLOPS with no hope of saturating the FPU due to the iterative
timestepping nature of the algorithm. Thus, many programmers in this field (myself
included) dislike the <em>FLOPS maximalist</em> attitude on processor performance, seeing
it as a shallow view taken by outsiders.</p>
<p>Thus, perhaps the slow FLOPS on the CMP 170HX can be a non-issue or at least not a
serious issue for these use cases? Since this is what I purchased this GPU for, let‚Äôs
give it a try.</p>
<h5 id="fluidx3d-with-fma">FluidX3D (with FMA)</h5>
<p>FluidX3D is a Lattice-Boltzmann Method (LBM) solver in the field of Computational Fluid
Dynamics (CFD). The kernel of this algorithm is a 3-dimension, 19-point <a href="https://en.wikipedia.org/wiki/Iterative_Stencil_Loops">stencil</a>.
Its performance in FP32/FP32 mode is:</p>
<pre><code>|---------.-------'-----.-----------.-------------------.---------------------|
| MLUPs   | Bandwidth   | Steps/s   | Current Step      | Time Remaining      |
|    2276 |    348 GB/s |       136 |         9999  90% |                  0s |
|---------'-------------'-----------'-------------------'---------------------|
| Info: Peak MLUPs/s = 2276                                                   |
</code></pre>
<p>At 2276 MLUPs/s, the performance is similar to the GeForce RTX 3060 (2108 MLUPS)
even though the RTX 3060‚Äôs FP32 throughput is 12500 GFLOPS. In this application,
the RTX 3060‚Äôs 360 GB/s of memory bandwidth is severely limiting its performance,
allowing the CMP 170X to match it even if it‚Äôs much slower in terms of FP32 FLOPS.</p>
<p>Unfortunately, the 1500 GB/s HBM2e didn‚Äôt enable the CMP 170HX to become the world‚Äôs
top-performing FluidX3D platform either, because it has the opposite problem -
the locked-down FP32 performance is so slow on this GPU, it turns Lattice Boltzmann
Method from a memory-bound kernel to a compute-bound kernel, the GPU can‚Äôt work
faster than 348 GB/s.</p>
<p>This is further illustrated by running FluidX3D in two bandwidth-saving,
mixed-precision modes.</p>
<p>FP32/FP16S:</p>
<pre><code>|---------.-------'-----.-----------.-------------------.---------------------|
| MLUPs   | Bandwidth   | Steps/s   | Current Step      | Time Remaining      |
|    2250 |    173 GB/s |       134 |         9996  60% |                  0s |
|---------'-------------'-----------'-------------------'---------------------|
| Info: Peak MLUPs/s = 2250
</code></pre>
<p>FP32/FP16C:</p>
<pre><code>|---------.-------'-----.-----------.-------------------.---------------------|
| MLUPs   | Bandwidth   | Steps/s   | Current Step      | Time Remaining      |
|    2266 |    174 GB/s |       135 |         9999  90% |                  0s |
|---------'-------------'-----------'-------------------'---------------------|
| Info: Peak MLUPs/s = 2266
</code></pre>
<p>As one can see, running simulations at reduced precision to reduce memory traffic
has no effect on simulation speed on the CMP 170HX. On the other hand, FluidX3D‚Äôs
performance is doubled on the RTX 3060 to 4070 MLUPs/s (FP32/FP16S) and 3566 (FP32/FP16C).
Still, note that the CMP 170HX is only 2x slower than the RTX 3060, not 30x slower
as its FLOPS may suggest.</p>
<h5 id="fluidx3d-without-fma">FluidX3D (without FMA)</h5>
<p>Thanks to hints from FluidX3D‚Äôs author Dr. Moritz Lehmann, I was able to remove
the FMA usages from FluidX3D by modifying two lines of code.</p>
<p>After this change, FluidX3D is able to unleash the full power of Nvidia‚Äôs GA100
silicon in FP32/FP32 mode:</p>
<pre><code>|---------.-------'-----.-----------.-------------------.---------------------|
| MLUPs   | Bandwidth   | Steps/s   | Current Step      | Time Remaining      |
|    7681 |   1175 GB/s |       458 |         9985  50% |                  0s |
|---------'-------------'-----------'-------------------'---------------------|
| Info: Peak MLUPs/s = 7684 
</code></pre>
<p>This is 90% as fast as a real Nvidia A100‚Äôs 8526 MLUPs/s (40 GB, PCIe version).</p>
<p>According to Dr. Moritz Lehmann, although FluidX3D uses FMA to improve performance
and to avoid unnecessary loss of precision, but the main errors in a simulation are
discretization errors, not floating-point errors. Thus, with a no-FMA workaround,
the CMP 170HX becomes a performance-leading GPU for FluidX3D simulations.</p>
<p>In mixed-precision FP32/FP16S mode, the CMP 170HX‚Äôs performance is equally impressive.
The simulation speed is 80% as fast as the Nvidia A100 (16035 MLUPs/s), and 10% faster
than the RTX 4090 (11091 MLUPs/s), thanks to GA100‚Äôs high memory bandwidth:</p>
<pre><code>|---------.-------'-----.-----------.-------------------.---------------------|
| MLUPs   | Bandwidth   | Steps/s   | Current Step      | Time Remaining      |
|   12386 |    954 GB/s |       738 |         9997  70% |                  0s |
|---------'-------------'-----------'-------------------'---------------------|
| Info: Peak MLUPs/s = 12392                                                  |
</code></pre>
<p>The mixed-precision FP32/FP16C mode does not perform as well, likely due to the use
of a custom floating-point format that needs many additional calculations in a way
that exceeds the 6200 GFLOPS hardware restriction (it‚Äôs also possible that other
floating-point operations have different limits).</p>
<pre><code>|---------.-------'-----.-----------.-------------------.---------------------|
| MLUPs   | Bandwidth   | Steps/s   | Current Step      | Time Remaining      |
|    6853 |    528 GB/s |       408 |         9985  50% |                  0s |
|---------'-------------'-----------'-------------------'---------------------|
| Info: Peak MLUPs/s = 6859                                                   |
</code></pre>
<p>But this should not be a serious limitation as the accuracy of FP32/FP16C and
FP32/FP16S are comparable in most but a few edge cases.</p>
<h5 id="fdtd-work-in-progress-to-be-added-into-openems">FDTD (work in progress, to be added into openEMS)</h5>
<p>openEMS is a Finite-Difference Time-Domain (FDTD) solver in the field of Computational
Electromagnetics (CEM) for simulating Maxwell‚Äôs equations. The kernel of this
algorithm is a 3-dimension, 7-point <a href="https://en.wikipedia.org/wiki/Iterative_Stencil_Loops">stencil</a>.
I‚Äôm currently working on a GPU-accelerated engine to increase its performance with the
hope to advance the state of the art of free and open circuit board design tools.</p>
<p>Let‚Äôs run
my minimal test kernel (disclaimer: it‚Äôs not meant to represent practical performance,
it‚Äôs only made for development use).</p>
<pre><code>$ ./test1.elf 
simulate 16777216 cells for 1000 timesteps.
speed: 1156992 MiB/s
speed: 10110 MC/s in 1.66 seconds
</code></pre>
<p>The CMP 170HX has a win.
This portable kernel was written in SYCL and was previously developed on the
AMD Radeon VII (Instinct MI50), and I saw a speed of around 6000 MC/s (megacells per second)
thanks to its 4096-bit 1000 GB/s (theoretical) HBM2 memory. With Nvidia CMP
170HX‚Äôs 1500 GB/s (theoretical) HBM2e memory, I‚Äôm really getting a 1.5x speedup</p>
<p>It‚Äôs worth noting that this speedup was demonstrated using the original source
code without disabling FMA. It‚Äôs well-known that FDTD in its basic form has an
extreme memory bottleneck, even more extreme than LBM. The benchmark result
shows that it‚Äôs indeed the case (work is ongoing on advanced optimizations which
I may share in the future on this blog).</p>
<p><em>Note: Memory bandwidth is traditionally benchmarked in base-10 sizes, but
my FDTD benchmark uses base-2 sizes, thus 1156992 MiB/s appears lower than
1300 GB/s that I previously reported.</em></p>
<h4 id="power-consumption">Power Consumption</h4>
<p>Because of the FMA floating-point performance lockdown, the GPU runs so slow
that it cannot even be properly stress tested using standard tools.
The power consumption of <code>gpu_burn</code> for FP32 and FP64 is around 60 watts.
When running mixed-precision FP32/FP16 workloads (and likely also true for
non-FMA FP32 workloads) by enabling Tensor Core in <code>gpu_burn</code>, the power
consumption is around 75 watts with spikes to 100+ watts.</p>
<p>However, this is still far from the 250 watts TDP or TBP of the GPU.
Before I realized this situation, the low power consumption and slow speed
initially made me suspect that low FP32 performance was caused by thermal
or power throttling due to a hardware failure (an <em>unrelated</em> one indeed
occurred and fixed later), before I found another forum post with showed
AIDA64 benchmark results on Windows and mentioned the low power consumption.
This confirmed my results - the cause was FP32 lockdown, the effect is
low power consumption, not vice versa.</p>
<p>To put a reasonable level of stress on the GPU, other types of benchmarks
should be used as stress tests - an integer benchmark or a memory benchmark.
A typical integer workload such as a password cracker like hashcat can push
the power consumption to 160+ watts. Integer-only machine-learning inference
may be another choice - but I was unable to find a representative example -
comments welcome. An alternative way is generating maximum memory traffic -
I found a self-written STREAM-like program can also push the power consumption
to 160+ watts.</p>
<p>But note that both types of tests cannot put the highest possible load
on the GPU - to do that, you need to stress both the core with heavy
integer workload and the memory with heavy streaming traffic - the GPU
was made for Ethereum mining after all. Thus, mining should always have
the highest power consumption (which is not tested here).</p>
<p>When FMA is disabled using a modified copy of FluidX3D, and when FP32/FP16S
mode is used to increase the arithmetic intensity of the simulation, power
consumption as high as 180 watts was observed in <code>nvidia-smi</code>.</p>
<p>I won‚Äôt be surprised if a carefully crafted hypothetical integer-heavy +
memory-heavy workload can push the GPU above 200 watts.</p>
<h4 id="io-performance">I/O Performance</h4>
<p>CMP 170HX‚Äôs PCIe bandwidth is restricted to PCIe 1.0 x4, at 0.85 GB/s. Thus,
if the application performs frequent data exchanges between CPU and GPU, or
between different GPUs, it would be too slow to be acceptable - exactly according
to Nvidia‚Äôs plan.</p>
<pre><code>Transfer bandwidth (GBPS)
  enqueueWriteBuffer              : 0.85
  enqueueReadBuffer               : 0.84
  enqueueWriteBuffer non-blocking : 0.85
  enqueueReadBuffer non-blocking  : 0.83
  enqueueMapBuffer(for read)      : 0.83
    memcpy from mapped ptr        : 10.43
  enqueueUnmap(after write)       : 0.85
    memcpy to mapped ptr          : 10.43
</code></pre>
<p>There are in fact two layers of PCIe bandwidth lockdown. The first layer is the
on-chip fuse, hardware or VBIOS lockdown (who knows) to PCIe Gen 1.</p>
<p><a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-pcb-3.jpg">
    <img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-pcb-3.jpg" alt="Missing AC coupling capacitors on the PCB for some PCIe lanes" width="80%">
  </a>
</p>
<p>The next is the circuit board level lockdown to x4 from x16 by omitting
the AC coupling capacitors on some PCIe lanes to force a link degradation.</p>
<pre><code>LnkCap: Port #0, Speed 2.5GT/s, Width x16, ASPM not supported
        ClockPM+ Surprise- LLActRep- BwNot- ASPMOptComp+
LnkSta: Speed 2.5GT/s, Width x4 (downgraded)
        TrErr- Train- SlotClk+ DLActive- BWMgmt- ABWMgmt-
LnkCap2: Supported Link Speeds: 2.5GT/s, Crosslink- Retimer- 2Retimers- DRS-
LnkCtl2: Target Link Speed: 2.5GT/s, EnterCompliance- SpeedDis-
         Transmit Margin: Normal Operating Range, EnterModifiedCompliance- ComplianceSOS-
         Compliance Preset/De-emphasis: -6dB de-emphasis, 0dB preshoot
LnkSta2: Current De-emphasis Level: -6dB, EqualizationComplete- EqualizationPhase1-
         EqualizationPhase2- EqualizationPhase3- LinkEqualizationRequest-
         Retimer- 2Retimers- CrosslinkRes: unsupported
</code></pre>
<p><code>nvidia-smi</code> reports the following:</p>
<pre><code>GPU Link Info
    PCIe Generation
        Max                       : 2
        Current                   : 1
        Device Current            : 1
        Device Max                : 1
        Host Max                  : 3
    Link Width
        Max                       : 16x
        Current                   : 4x
</code></pre>
<p>The PCB level lockdown should be trivially bypassable by hardware modification
and soldering the missing 0402 AC coupling capacitors on the extra PCIe lanes,
but due to the hardware lockdown, it would still operate at PCIe Gen1 at 4 GB/s
with limited usefulness, so I did not attempt that (I do not want to dismantle
my watercooled test bench again). But apparently users of other CMP card models
had reported successes.</p>
<p>Resizable BAR is unavailable, this capability is surprisingly reported, but the
largest BAR size is 64 MiB.</p>
<pre><code>Capabilities: [bb0 v1] Physical Resizable BAR
        BAR 0: current size: 16MB, supported: 16MB
        BAR 1: current size: 64MB, supported: 64MB
        BAR 3: current size: 32MB, supported: 32MB
</code></pre>
<p>Finally, because the CMP 170HX uses the same Nvidia A100 circuit board, the gold
fingers of the NV-Link interface exist, but the feature is unsupported with all
components unpopulated on the PCB.</p>
<h3 id="discussion">Discussion</h3>
<h4 id="machine-balance-and-arithmetic-intensity"><em>Machine Balance</em> and <em>Arithmetic Intensity</em></h4>
<p>As already mentioned, even though that the CMP 170HX has locked-down
FP32 performance, there are still some floating-point workloads that can be
accelerated by the CMP 170HX. In some cases, even up to the full HBM2e memory
speed and beat the top-level customer-grade GPU: the RTX 4090.
In the most extreme case (as in my FDTD demo), this can be done without
bypassing the FMA throttling. One can often find them in memory-bound physics
simulations. To understand why, one needs to make use of the concepts of
<em>machine balance</em>, <em>arithmetic intensity</em> and <em>roofline analysis</em>.</p>
<p><em>Machine balance</em> describes the balance between a processor‚Äôs memory and
floating-point throughput. In the ideal world, this balance should be 1:1
so a processor can read or write memory as fast as it can perform an arithmetic
operation. However, processors were and are improving at a faster rate than
DRAM bandwidth for multiple reasons, such as the time it takes for the sense
amplifier to read bits from capacitors, the impracticality of integrating
large DRAM and CPU on the same silicon, or the resulting interconnect bottleneck
between a processor and DRAM as off-chip data transfer is always slower than
on-chip access.</p>
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/machine-balance.png" alt="Processor and machine balance increasing, making communication relatively more expensive. Plot for 64-bit floating point data movement &amp; operations; bandwidth from CPU or GPU memory to registers. Data from vendor specs and STREAM benchmark" width="80%">
</p>
<p>Hence, modern CPUs and GPUs tend to have a machine balance of 100:1 (for FP64).
That is, one can only achieve the peak FLOPS of the processor if 100 floating-point operations
are done for each integer read from memory - in other words (no pun intended), a compute
kernel should have a high <em>Arithmetic Intensity</em>. <em>Arithmetic Intensity</em> is the
balance between a program‚Äôs memory access operations and floating-point
operations. For example, if a program needs to read 4 FP32s to calculate their
average (using 3 adds and 1 multiplication), its arithmetic intensity is 0.25 FLOPS/bytes.
That is, <em>arithmetic intensity</em> can be understood as a <em>software balance</em> in
analogous to the <em>machine balance</em>.</p>
<p>In practical programs, the programmer will attempt to do as many useful computations
as possible after memory is read using many tricks. But ultimately, the achievable
intensity depends on the algorithm itself. For example, a good matrix multiplication
program (the archetypal test is the <em>LINPACK</em> benchmark) is entirely compute-bound, as
there are a whole lot of multiplications to do just after reading a single submatrix.
Memory bandwidth does not matter in this application.</p>
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/arithmetic-intensity.png" alt="Arithmetic Intensity of different algorithms. Physics simulations using stencil computation have low arithmetic intensity below 1 FLOPS/byte, dense linear algebra (BLAS 3) has high Arithmetic Intensity over O(10) FLOPS/byte" width="80%">
</p>
<p>On the other hand, many types of scientific and engineering simulations are memory
bandwidth bound. All they do is reading the simulation box from memory, moving it
forward by 1 timestep, and writing it back to memory (think of a 2D or 3D convolution
function in which the value of a single cell depends on the values of their surrounding
cells, or think of a naive implementation of <em>Conway‚Äôs Game of Life</em> - real
physics simulations of partial differential equations often work like that). The
arithmetic intensity is often under 1.0 and performs poorly on modern hardware. The
usable performance is 1% to 10% of the peak performance due to bandwidth limitation,
which is far from what the processor core itself can do.</p>
<p>This is the notorious <em>memory wall</em> problem, to be accurate, the <em>memory bandwidth
wall</em> problem (which is different from the <em>memory latency</em> wall problem).</p>
<h4 id="roofline-model"><em>Roofline Model</em></h4>
<p>Since memory-bound number-crunching code is so prevalent in the scientific
computing (or High-Performace Computing) world, practitioners established
a simple graphical method named the <em>roofline model</em> as a quick guideline on
program optimization, using only the ratio between floating-point operations
and memory accesses.</p>
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/roofline-simple.png" alt="A simplified graph of the roofline model" width="50%">
</p>
<p>A naive roofline model is easy to graph. First, divide a processor‚Äôs peak
floating-point throughput by its peak memory bandwidth. This gives the
critical arithmetic intensity at which a memory-bound algorithm becomes a
compute-bound one, known as the <em>ridge point</em>. Then, plot two segments,
one from the <em>ridge point</em> to the origin at the left, another is a constant
function equal to the machine‚Äôs peak floating-point performance, from the
<em>ridge point</em> to the right. Then rescale the chart on a log-log scale.</p>
<p>Next, calculate the number of floating-point operations and the arithmetic
intensity of your application and mark it on the plot. Many number-crunching
kernels are simple, one can often look at the inner loop and count them
by hand, only the source code and its runtime are needed as a result. To
automate this process, one can use CPU performance counters and static
analysis as well.</p>
<p>In the case of my CMP 170HX, I found my FDTD kernel performs 18 floating-point
operations per cell, with an arithmetic intensity of 0.25 FLOPS/byte. At
10110 million cell updates per second, the achieved performance is 181.98 GFLOPS.
For FluidX3D, 1 cell update takes 363 arithmetic operations consisting of 261
FP32 flops + 102 INT32 ops with 153 bytes of memory traffic. If one ignores
INT32 bottleneck (it‚Äôs much faster than FP32 on the CMP 170HX),
the arithmetic intensity would be 1.7 FLOPS/byte, and the achieved performance
at 7684 cell updates per second is 1979.685 GFLOPS. Finally, I can create
the following roofline model of this GPU with applications to two kernels:
FDTD and FluidX3D (FP32/FP32, no FMA).</p>
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/roofline-cmp170hx.svg" alt="Example of a hardware roofline curve and data points of different compute kernels" width="80%">
</p>
<p>As one can see, even when the computing power is limited to 6 GFLOPS
similar to a low-end desktop GPU, but both applications can greatly
benefit from the 1350 GB/s memory bandwidth. For naive FDTD, due to
its extremely low arithmetic intensity, it cannot even saturate the
394 GFLOPS FMA performance, explaining why it‚Äôs unaffected by Nvidia‚Äôs
throttling.</p>
<h4 id="conclusion">Conclusion</h4>
<p>Nvidia knows the hardware specs of the GA100 silicon are attractive
to all HPC and AI users beyond mining, so they tried as best as they
could to make this GPU totally useless for those purposes from different
angles.</p>
<p>First and foremost, the FP32 FMA throughput restrictions makes the
GPU almost useless for running ready-made software. As demonstrated
here, this performance limit can sometimes be worked around by disabling
FMA, making it acceptable for many memory-bound simulations. Unfortunately,
due to the existence of other limitations, such as its low 8 GiB memory
size, PCIe 1.0 x4 I/O bandwidth, the lack of NV-Link, and the lack of
FP64 capability, these measures guaranteed the uselessness of the GPU
in the vast majority of applications.</p>
<p>Overall, this GPU is mostly useless. It can still be useful only when
your have a specific niche in which‚Ä¶</p>
<ol>
<li>Small-to-medium size runs that fits in 8 GiB.</li>
<li>Mostly in-situ computation without doing any PCIe or NVLink transfers.</li>
<li>You have a floating-point algorithm but extremely memory-bound that FLOPS is
completely irrelevant.
<ul>
<li>Without disabling FMA, with an Arithmetic Intensity (AI) under 0.3 (FP32).</li>
<li>After disabling FMA, with an Arithmetic Intensity under 4.6, but potentially
requires modifications to standard and 3rd-party libraries.</li>
</ul>
</li>
<li>Or you have a memory-bound, all-integer workload (e.g. mining)‚Ä¶</li>
</ol>
<p>Only then, it would be sensible to purchase this GPU.</p>
<p>I purchased this GPU specifically for running FDTD electromagnetic field
simulations, the AI of its naive implementation is 0.25 FLOPS/bytes, so it
still gives me a huge acceleration on par with the actual A100 and currently
unmatched by everything else (if rumors are to be believed, RTX 5090 is
eventually going to match it at 1.5 TB/s in 2024). Not the worst $500 I‚Äôve
spent.</p>
<p>It doesn‚Äôt change the fact that It‚Äôs still a case of <em>caveat emptor</em>, do
not buy unless you know exactly what you‚Äôre buying.</p>
<h5 id="vbios-modding">VBIOS modding?</h5>
<p>A natural question is whether the hardware performance limitation is implemented via
fuses, or implemented via VBIOS firmware, and whether modifying the VBIOS can bypass
these limits.</p>
<p>Unfortunately, all Nvidia GPUs since recent years have VBIOS digital signature checks,
making VBIOS modification impossible. A few months ago, a bypass was found for RTX
20-series ‚ÄúTuring‚Äù based GPUs, unfortunately, it does not apply to Ampere GPUs.
Currently, VBIOS modding is impossible for the foreseeable future.</p>
<h5 id="radeon-vii---the-alternative-from-amd">Radeon VII - the alternative from AMD</h5>
<p>The mining-special GPU market was not monopolized by Nvidia, there was
strong competition from AMD as well - the mining-special Radeon VII
(one can call them mining-special Instinct MI50).</p>
<p>Long story short, during the height of Ethereum mining, many board makers
in China unofficially created a special version of the
Radeon VII by omitting components of the Instinct MI50
circuit board - the resulted GPU is
a weird hybrid between Radeon VII and the Instinct MI50 - it has the
Instinct MI50 circuit board with the Instinct MI50 passive cooler suitable
for datacenter usage, on the other hand, the circuit configuration is actually
a desktop
Radeon VII, but it cannot be called a desktop card either as the video output
is often omitted. Regardless, since the Radeon
VII is more or less a remarketed accelerator GPU for gaming and uses basically
the same Instinct MI50 silicon, both cards are practically the same thing,
and it doesn‚Äôt matter which one is which.</p>
<p>In China, these GPUs are currently sold at ~$100. More amazingly,
they are pre-modded with the Radeon Pro VII VBIOS with 11 TFLOPS of
FP32 and unlocked 5.5 TFLOPS FP64 - just like the real MI50, making them
possibly the
accelerators with the
highest price-performance ratio of all time. The only criticism I have
is Radeon VII‚Äôs relatively inefficient memory controller, that often causes
considerable under-utilization of its 1 TB/s HBM2 bandwidth.</p>
<p>Still, if you want to buy a mining-special GPU for cheap to run compute
workloads, I personally highly recommend this mining-special Instinct MI50 (Radeon
VII) over the Nvidia CMP 170HX if your application is not CUDA-specific.</p>
<p>I plan to review this GPU soon. Because of the lack of restrictions,
I‚Äôm not going to analyze the GPU in depth as it behaves as a standard
GPU as one normally expects, the focus of that article is going to be
a watercooling mod tutorial for homelab use‚Ä¶ There is a lot that
can be said for its bandwidth efficiency problem, which seems to be an
architectural problem across Vega GPUs and is currently poorly understood
due to the lack of documentation - but I‚Äôm not sure if I have the
patience to cover those topics.</p>
<h3 id="appendix-0-disabling-fma-usage-by-source-code-or-runtime-modification">Appendix 0: Disabling FMA Usage by Source Code or Runtime Modification</h3>
<h4 id="opencl">OpenCL</h4>
<h5 id="source-code-modification">Source Code Modification</h5>
<p>An FMA or MAD instruction - which are all throttled on the CMP 170HX - may
be generated by the OpenCL compiler under the following two conditions:</p>
<ol>
<li>
<p>The source code explicitly uses the OpenCL functions <code>fma()</code> or <code>mad()</code>.</p>
</li>
<li>
<p>The compiler implicitly transforms the expression <code>a * b + c</code> to
<code>fma(a, b, c)</code> or <code>mad(a, b, c)</code> through a process called <em>FP
contraction</em>. This may occur even without enabling <em>fast math</em> or <em>unsafe
math</em> optimizations - which merely increases the complier‚Äôs aggressiveness
of doing so.</p>
</li>
</ol>
<p>Thus, to prevent the OpenCL compiler from using MAD and FMA instructions,
two things need to be done - first, remove all usages of <code>fma()</code> and <code>mad()</code>,
and also to turn <em>FP contraction</em> off. An easy workaround is to
include the following code in front of all OpenCL source files:</p>
<pre><code>/* shadows the OpenCL builtin fma() and mad() functions */
#define fma(a, b, c) ((a) * (b) + (c))
#define mad(a, b, c) ((a) * (b) + (c))

/* disable FP contraction */
#pragma OPENCL FP_CONTRACT OFF
</code></pre>
<h5 id="fluidx3d">FluidX3D</h5>
<p>When testing FluidX3D, a similar two-line patch was used, which is reproduced
below:</p>
<pre><code>diff --git a/src/lbm.cpp b/src/lbm.cpp
index d99202f..28aeb25 100644
--- a/src/lbm.cpp
+++ b/src/lbm.cpp
@@ -286,6 +286,8 @@ void LBM_Domain::enqueue_unvoxelize_mesh_on_device(const Mesh* mesh, const uchar
 }
 
 string LBM_Domain::device_defines() const { return
+       "\n     #pragma OPENCL FP_CONTRACT OFF"  // prevents implicit FMA optimizations
+       "\n     #define fma(a, b, c) ((a) * (b) + (c))"  // shadows OpenCL explicit function fma()
        "\n     #define def_Nx "+to_string(Nx)+"u"
        "\n     #define def_Ny "+to_string(Ny)+"u"
        "\n     #define def_Nz "+to_string(Nz)+"u"
</code></pre>
<h5 id="pocl">PoCL</h5>
<p>The Nvidia OpenCL compiler is proprietary inside <code>libnvidia-opencl.so</code>, unlike
AMD GPUs for which its driver simply invokes <code>clang</code>. Thus, there‚Äôs no transparent
way to disable FMA and MAD globally at the compiler level (apart from reverse
engineering and modifying the Nvidia binaries). Each OpenCL program has to
be painstakingly modified individually.</p>
<p>A potential workaround is intercepting the call into <code>clBuildProgram()</code> to
modify the compiler options. Unfortunately, the OpenCL specification provides
no compile-time options to disable floating-point contraction in the form of
a command-line off/on switch. Yet another workaround can be intercepting
<code>clCreateProgramWithSource()</code> to insert the aforementioned code on the fly. But
this is a rather tedious and is left as an execrise for the reader.</p>
<p>Another possible and more straightforward hack is to replace the Nvidia OpenCL
runtime altogether with PoCL - a free and portable OpenCL runtime based on
LLVM/clang with the ability to target Nvidia PTX. By modifying the PoCL function
<code>pocl_llvm_build_program()</code>, the clang flag <code>-ffp-contract=off</code> is passed
unconditionally to disable FP contraction. In addition, PoCl‚Äôs OpenCL standard
library functions <code>fma()</code> and <code>mad()</code> also need to be redefined as plain
<code>a * b + c</code> without FP contraction. This is implemented by the following patch,
allowing one to run pre-existing OpenCL programs without any source code
modification.</p>
<pre><code>diff -upr pocl-4.0/lib/kernel/fma.cl pocl-4.0/lib/kernel/fma.cl
--- pocl-4.0/lib/kernel/fma.cl	2023-06-21 13:02:44.000000000 +0000
+++ pocl-4.0/lib/kernel/fma.cl	2023-10-28 12:44:58.283185457 +0000
@@ -24,4 +24,5 @@

 #include "templates.h"

-DEFINE_BUILTIN_V_VVV(fma)
+#pragma OPENCL FP_CONTRACT OFF
+DEFINE_EXPR_V_VVV(fma, a*b+c)
diff -upr pocl-4.0/lib/kernel/mad.cl pocl-4.0/lib/kernel/mad.cl
--- pocl-4.0/lib/kernel/mad.cl	2023-06-21 13:02:44.000000000 +0000
+++ pocl-4.0/lib/kernel/mad.cl	2023-10-28 12:45:02.093091566 +0000
@@ -24,4 +24,5 @@

 #include "templates.h"

+#pragma OPENCL FP_CONTRACT OFF
 DEFINE_EXPR_V_VVV(mad, a*b+c)
diff -upr pocl-4.0/lib/CL/pocl_llvm_build.cc pocl-4.0/lib/CL/pocl_llvm_build.cc
--- pocl-4.0/lib/CL/pocl_llvm_build.cc	2023-06-21 13:02:44.000000000 +0000
+++ pocl-4.0/lib/CL/pocl_llvm_build.cc	2023-10-28 11:36:33.961059705 +0000
@@ -333,10 +333,8 @@ int pocl_llvm_build_program(cl_program p
   if (fastmath_flag != std::string::npos) {
 #ifdef ENABLE_CONFORMANCE
     user_options.replace(fastmath_flag, 21,
-                         "-cl-finite-math-only -cl-unsafe-math-optimizations");
+                         " ");
 #endif
-    ss &lt;&lt; "-D__FAST_RELAXED_MATH__=1 ";
-    fp_contract = "fast";
   }
 
   size_t unsafemath_flag = user_options.find("-cl-unsafe-math-optimizations");
@@ -346,11 +344,14 @@ int pocl_llvm_build_program(cl_program p
     // this should be almost the same but disables -freciprocal-math.
     // required for conformance_math_divide test to pass with OpenCL 3.0
     user_options.replace(unsafemath_flag, 29,
-                         "-cl-no-signed-zeros -cl-mad-enable -ffp-contract=fast");
+                         " ");
 #endif
-    fp_contract = "fast";
   }
 
+  // HACK: disable FP contraction unconditionally
+  fp_contract = "off";
+  ss &lt;&lt; " -ffp-contract=off ";
+
   ss &lt;&lt; user_options &lt;&lt; " ";
 
   if (device-&gt;endian_little)
</code></pre>
<p>It‚Äôs worth noting that the patch is incomplete, as OpenCL has more <code>fma()</code> and <code>mad()</code>
variants than what are patched here, such as <code>mad24()</code>, <code>mad_hi()</code>, and <code>mad_sat()</code>.</p>
<h4 id="cuda">CUDA</h4>
<p>To disable FP contraction, pass the option <code>-fmad=false</code> to <code>nvcc</code>.</p>
<p>Again, like OpenCL, it‚Äôs also possible to use FMA and MAD via multiple
built-in functions. Since <code>nvcc</code> is proprietary, again, there‚Äôs no
transparent way to disable FMA and MAD globally at the compiler level -
apart from reverse engineering and modifying the Nvidia binaries, or
implementing a preprocessor or debugger-like interceptor to modify
the source on-the-fly.</p>
<p>On the other hand, just like OpenCL, it‚Äôs possible to compile CUDA
via LLVM/clang and target Nvidia PTX. Thus, in principle, it should
be possible to create a patched LLVM/clang for this purpose in analogous
to PoCL.</p>
<h4 id="sycl">SYCL</h4>
<p>Currently there are two full-feature SYCL implementations - an LLVM
fork named Intel DPC++ and an LLVM plugin named AdaptiveCpp (previously
known as OpenSYCL and hipSYCL). One can use the standard clang
command-line option <code>-ffp-contract=off</code>. Like CUDA, the problem of
built-in functions remain.</p>
<h4 id="limitations">Limitations</h4>
<p>Although this section demonstrated some possible ways to modify the
program source code or GPGPU runtime to avoid FMA and MAD usages, in
practice, it can be difficult if not impossible to completely avoid
FMA.</p>
<p>As I already showed, a transparent compiler/runtime patch is not
as easy as toggling a option, as it doesn‚Äôt affect the behavior of
built-in functions. An invasive patch to the compiler may be needed
to completely remove FMA/MAD code generation.</p>
<p>Furthermore, even if one can patch the affected applications and
runtimes, the problem of binary programs and standard libraries
remain. Sometimes, GPU kernels are precompiled and shipped in
machine code or assembly form, this is the case for proprietary
software, and sometimes also the case for standard libraries.
In fact, most HPC libraries contain hand-tuned assembly routines
that heavily rely on FMA. Thus, the modification required to remove
FMA/MAD usages from a codebase is likely very complicated unless
the codebase is self-contained.</p>
<p>Not to mention that removing FMA changes the rounding behavior from
1 rounding to 2 roundings,
thus pontentially compromising the numerical integrity of a simulation
and making it untrustworthy if the code was written in a way that
requires FMA to preserve precision.</p>
<h3 id="appendix-1-teardown">Appendix 1: Teardown</h3>
<h4 id="circuit-board-separation">Circuit Board Separation</h4>
<p>The following procedures separate the circuit board from its chassis
and cooler.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-0.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-0-small.jpg" alt="CMP 170HX in the original metal chassis" width="80%">
</p>
</a>
<h5 id="videos">Videos</h5>
<p>Step 6, Step 7 and Step 9 can be tricky. Consider the fact that Step 7
initially confused even LinusTechTips, refer to following two YouTube
videos (in Chinese) for visual demonstrations of the removal process.</p>
<ul>
<li>
<p><a href="https://www.youtube.com/watch?v=N1yhvXj_Do8">Ëã±‰ºüËææCMP 170HXÊòæÂç°ÊãÜËß£„ÄÅ‰øùÂÖªÂíåÊîπË£ÖÂèØË∞ÉÈÄüÁ¶ªÂøÉÈ£éÊâá</a></p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=kaiB7R4mhTg">CMP 170HX ÊãÜÊú∫ÊµãËØï</a></p>
</li>
</ul>
<p>Understanding the language is optional, but the second video has YouTube
captioning and can be auto-translated to English. It‚Äôs posted by
ÊäÄÊï∞Áä¨, which is a Taobao vendor of aftermarket mod kits for many
compute cards to allow the use of off-the-shelf AIO watercoolers
(<em>not</em> used in my watercooling setup).</p>
<h5 id="procedures">Procedures</h5>
<p>It boils down to the following steps:</p>
<ol>
<li>
<p>Remove 4 screws on the PCIe mounting bracket on the left. Save
the PCIe bracket for later use.</p>
</li>
<li>
<p>It‚Äôs not necessary to remove the mounting bracket on the right
(the opposite side of the PCIe slot bracket). Do not waste time
on it.</p>
</li>
<li>
<p>Flip the card, remove 10 screws on the back side of the card.</p>
</li>
<li>
<p>Flip the card again, now open the front cover of the cooler, the PCIe
bracket should also come off, revealing a massive heatsink.</p>
</li>
<li>
<p>Unscrew and remove the bracket on top of the power cable on the
top right, which is holding the power cable and the connector in
place.</p>
</li>
<li>
<p>Free the power cable away from the backplane by prying it away. The
cable is squeezed into the backplane, and can be difficult to remove.
Use a plastic spudger to pry it away from the board. Unless the power cable
/ connector is freed, the circuit board cannot move freely.</p>
<ul>
<li>Use videos for guidance.</li>
</ul>
</li>
<li>
<p>Pay attention to the fact that the entire circuit board is inserted
into the bottom backplane by sliding the PCIe connector into an open
slot on the backplane, thus, the circuit board cannot be lifted off
vertically as it‚Äôs embedded into the backplane.</p>
<ul>
<li>
<p>To remove the circuit
board (and the bolted-on heatsink), move the circuit board upward
horizontally (to the opposite direction of the PCIe connector). After
the PCIe connector moves a bit away from the slot on the backplane,
lift the circuit board vertically while keep moving it upward
horizontally. The circuit board is now separated from the backplane
(as shown in the photo below).</p>
</li>
<li>
<p>Use videos for guidance.</p>
</li>
</ul>
</li>
</ol>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-1.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-1-small.jpg" alt="Circuit board with heatsink, freed from the backplane" width="80%">
</p>
</a>
<ol start="8">
<li>Remove 4 spring-loaded screws on the backside of the PCB, keep the
4 washers for later use, remove the mounting bracket.</li>
</ol>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-2.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-2-small.jpg" alt="Backside of the PCB" width="80%">
</p>
</a>
<ol start="9">
<li>
<p>There‚Äôs no more screws holding the heatsink, and it can be directly
removed. However, the thermal paste often works like an adhesive.
In this case, pry the cooler away from the circuit using a plastic
spudger from the top side of the cooler at where there‚Äôs no components
on the circuit board. Put the card on a flat desk, rotate the card by
180 degrees, and insert the plastic spudger onto the bottom (<em>top</em> before
the rotation) side of the card, and pry it upward while holding the
heatsink (to prevent the heatsink from smashing the circuit board).</p>
</li>
<li>
<p>Cooler and circuit boards are separated.</p>
</li>
</ol>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-3.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-teardown-3-small.jpg" alt="Front side of the bare PCB" width="80%">
</p>
</a>
<h4 id="circuit-board">Circuit Board</h4>
<p>The Nvidia CMP 170HX uses a circuit board nearly - if not completely - identical
to the Nvidia A100 (40 GiB). The only difference is the model number of the
GPU ASIC <code>GA100-105F-A1</code> which seems to be a cut-down version of the full
GA100. The circuit board also has many unpopulated components, including
omitted VRM phases by unpopulating DrMOS transistors and their output
inductors, ICs related to the NV-Link interface are also missing.</p>
<p>Otherwise, even the component reference designators on the
circuit board perfectly match the leaked electrical schematics of the Nvidia
Tesla A100 reference design (found online) - yes, it was still internally
named <em>Tesla</em> when the GPU was being designed.</p>
<p><a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-pcb-1.jpg">
    <img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-pcb-1-small.jpg" alt="Front side of the bare PCB" width="300px">
  </a>
  <a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-pcb-2.jpg">
    <img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-pcb-2-small.jpg" alt="Back side of the bare PCB" width="300px">
  </a>
</p>
<p>All hardware modifications to the Nvidia A100 (40 GiB, not 80 GiB), such as
watercooling solutions like waterblocks and modification kits, are equally
applicable to the CMP 170HX. Thus, for those who‚Äôre playing along at home,
if anyone wants perform a risky modification to the Nvidia A100 for workstation
use, it might be a good idea to practice this modification on an inexpensive
CMP 170HX first.</p>
<h3 id="appendix-2-watercooling">Appendix 2: Watercooling</h3>
<p>When attempting to use server GPUs for home/office workstation applications,
cooling is a standard problem. Most server-grade GPUs use passive coolers
and they‚Äôre designed to be cooled by high-RPM fans on a server chassis.
Even if fans can be installed in the original way or via a custom
mod, these passive coolers often need a strong airflow to work properly,
creating a noise level unacceptable outside a data center.</p>
<p>Fortunately, for popular compute-only GPUs, ready-made waterblocks often
exist, making watercooling a common solution using off-the-shelf parts.
Watercooling has its downsides,
but as long as precautions are carefully followed - which shouldn‚Äôt be
difficult for the experienced home lab experimenters who regularly
purchased used hardware - watercooling provides cool temperature and quiet
operation in exchange. This is quite important when you‚Äôre running
number-crunching simulations while sleeping next to it‚Ä¶</p>
<p>To cool my Nvidia CMP 170HX, I found the Bykski N-TESLA-A100-X-V2 waterblock,
which is compatible with Nvidia A100 40 GB, Nvidia CMP 170HX, and the
Nvidia A30 24 GB circuit boards. In China, it‚Äôs currently sold at a
price of 680 CNY (~100 USD). The <code>bykski.us</code> distributor site is selling
it for $300, I suggest ordering it from AliExpress for less than $150.
The waterblock accepts standard G1/4 fittings and can be included in
any water loop. If this is your first installation, you can find more
information on connecting a pump, radiator or reservoir into the water
loop (none is included).</p>
<p>Make sure you do not confuse the Nvidia Tesla 40 GB version with the 80 GB
version, which are incompatible. There is also an earlier version of the
same waterblock without <code>V2</code> in its model number, <code>V2</code> uses all-metal
construction while the non-V2 uses transparent acrylic. Since the metal
revision was made for a reason (enhanced durability), it‚Äôs better to
avoid the non-V2 models.</p>
<h4 id="procedures-1">Procedures</h4>
<p>The Bykski waterblock has no user manual. The provided online user guide
is more of a quick start guide than a user manual, with a two-sentence
instruction.</p>
<blockquote>
<p>Those who can, do.<br>
Those who can‚Äôt, write.<br>
Those who can‚Äôt write, sell waterblocks at Bykski.</p>
</blockquote>
<p>I also found the included hex wrench was the wrong size (so be sure
to order a set of metric hex wrenches if you don‚Äôt have one already).
Otherwise, it performs great if you manage to correctly install it.</p>
<p>Which is a big if‚Ä¶ My GPU stopped working soon after the waterblock
installation (but I was able to fix that myself). I suspect it was
either a pre-existing fault or caused by my improper waterblock installation
in my first attempt - if it was the case, the lack of a proper user manual
from Bykski was certainly an important contributing factor - but fear not,
this blog post already went ahead of you and ironed out a smooth path.
You can refer to the following instructions to do the same watercooling
mod, with the foresight of many pitfalls in order to avoid damaging your
GPU.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/bykski-1.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/bykski-1.png" alt="Thermal pad placement locations in the Bykski manual." width="80%">
</p>
</a>
<ol>
<li>
<p>Cut and place included thermal pads on the MOSFETs (DrMOS) on the left
and right sides of the GPU ASIC.
<strong>Important: All unpopulated IC footprints must also be covered by thermal
pads to prevent a short circuit. I suspect a short thermal pad cut missing
the empty IC footprint on the topmost position was how I damaged my card.</strong></p>
</li>
<li>
<p>Similarly, apply thermal pads on the bottom left and right side of
the GPU ASIC.</p>
</li>
<li>
<p>Similarly, apply thermal pads to the PMIC on the right side of the
GPU ASIC between an inductor and a capacitor.</p>
</li>
<li>
<p>Similarly, apply thermal pads to the two PMICs on the left side of
the GPU ASIC below the 3.3 ¬µH inductor.</p>
</li>
<li>
<p>Apply thermal paste to the GPU ASIC. After completing these steps, the
GPU should look similar to the following photo.</p>
</li>
</ol>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-watercool-1.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-watercool-1-small.jpg" alt="PCB with thermal pads and thermal paste applied" width="80%">
</p>
</a>
<ol start="6">
<li>Flip the waterblock, remove the power connector holder cover (labeled
<em>Item 4</em> in the exploded-view diagram below) by unscrewing the two hex nuts
(labeled <em>Item 5</em>) with a hex wrench. The included hex wrench from the
waterblock was the wrong size, use your own.</li>
</ol>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/bykski-2.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/bykski-2.png" alt="Exploded-view diagram of the waterblock" width="80%">
</p>
</a>
<ol start="7">
<li>
<p>Place the waterblock onto the GPU. <strong>Important: Before placement,
it‚Äôs good idea to visually double check whether the IC areas in contact of
the pillars on the waterblocks are fully covered with thermal pads.</strong></p>
</li>
<li>
<p>Flip the GPU, move the waterblock to align the four mounting screw
holes of the waterblock with the PCB.</p>
</li>
<li>
<p>Find the 4 washers you‚Äôve saved in the teardown step 8.
For washers, use the original ones
from the GPU, avoid the plastic washers from the waterblock. For spring-loaded
screws, avoid the original screws and use the screws from the waterblock.
Place one washer on one mounting hole, and install only one 1 spring-loaded
screw, for now, do not install all 4 screws.</p>
</li>
<li>
<p>Insert the power connector by squeezing it into the slot on the
waterblock on the top right corner (make sure the cover has already been
removed in Step 6). The stiff power cable exerts force on the entire
PCB, making it difficult to install if the waterblock is already fully
screwed.</p>
<ul>
<li>
<p>If there are still difficulties during installation, unscrew and
lift the waterblock completely, insert the power connector in its position
before placing the waterblock back. In this case, considerable force is
needed to overcome the stifness of the power cable when aligning the
circuit board with the waterblock. Screw the waterblock immediately after
the first signs of an alignment using Step 9.</p>
</li>
<li>
<p>If the waterblock is lifted and remounted, be sure to double check that
no thermal paste has shifted in position. The thermal pads can stick onto
the waterblock and land on an unpredictable location later.</p>
</li>
</ul>
</li>
<li>
<p>Adjust the waterblock for any misalignment, place the remaining
3 washers onto the mounting hole, and install 3 spring-loaded screws
included with the waterblock. <strong>Important: After the waterblock is
screwed in, now it‚Äôs a good time to peek into the circuit board to see
whether the thermal pads are making good contact with the pillars to
cool the MOSFETs. The thermal pads included with the waterblock should
always work, but in case you‚Äôre using your own, now it‚Äôs time to spot
any thickness issues.</strong></p>
</li>
<li>
<p>Reinstall the power connector holder bracket back onto the waterblock
with a hex wrench.</p>
</li>
</ol>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-watercool-2.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-watercool-2-small.jpg" alt="CMP 170HX with waterblock installed" width="80%">
</p>
</a>
<ol start="13">
<li>
<p>Grab the backplane (included with the waterblock) from its packaging.
Using the backplane is optional, but it reduces the chance of damaging the
back side of the PCB in case of mishandling.</p>
</li>
<li>
<p>Find the PCIe slot bracket you‚Äôve saved during teardown in Step 1,
align and place it on the left side of the circuit board. <strong>Important:
Do not skip this step, the additional height of the PCIe slot bracket
likely ensures a proper spacing between the backplane and the circuit
board, thus preventing potential short circuits. I suspect this was
how I damaged my card.</strong></p>
</li>
<li>
<p>Align and place the included backplane on top of the circuit board
(on the left, the PCIe bracket is sandwiched between the PCB and the
backplane). On the left, the screw holes of the PCB, the PCIe bracket,
and the backplane should be aligned. After successful alignment, immediately
install two 9.5 mm M2 screws (included with the waterblock).</p>
</li>
<li>
<p>Install the remaining two 9.5 mm M2 screws to secure the backplane.</p>
</li>
</ol>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-watercool-3.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-watercool-3-small.jpg" alt="CMP 170HX with backplane installed, running on a motherboard" width="80%">
</p>
</a>
<ol start="17">
<li>Waterblock installation complete, connect the water block into your
water loop. Use a leak tester to pressurize the water loop for 15 minutes
to verify the loop‚Äôs air tightness before adding coolant.</li>
</ol>
<h4 id="temperature">Temperature</h4>
<p>Using a 360 mm, 3-fan radiator, the GPU‚Äôs temperature when idle is 30 degrees
C at 30 watts.</p>
<p>In a FluidX3D simulation using FP32/FP16S mode with FMA disabled, the power
consumption is 180 watts. After running this stress test for half an hour,
the GPU temperature reached 45 degrees C. Both the fan and pump speeds were
kept at a minimum, allowing silent operation during GPU number-crunching.
Even lower temperature may be possible at a higher fan speed.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-watercool-4.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-watercool-4-small.jpg" alt="CMP 170HX installed into the water loop onto a motherboard, running on the test bench" width="80%">
</p>
</a>
<p>When I was dry-running the card for an initial test without coolant (<em>not
recommended! Make sure to power the system off within 5 minutes</em>), I also
noticed a curious positive feedback loop between the GPU temperature and its
power consumption, creating thermal runaway. Initially, the idle power
consumption was around 40 watts, but it gradually rised to 60 watts at
80 degrees C and was still increasing before I powered it off - I later
found many other PC reviewers reported similar findings. This was likely
an effect caused by higher CMOS leakage current at higher temperatures,
which in turn creating more leakage current and an even higher temperature‚Ä¶
Hence, good cooling can often reduce an IC‚Äôs junction temperature by more
than their cooling capability alone due to this second-order effect.</p>
<h3 id="appendix-3-repair">Appendix 3: Repair</h3>
<p>My Nvidia CMP 170HX malfunctioned soon after I received it and performed
the first attempt at watercooling modification. The GPU operated for an
hour before it dropped off from the PCIe bus, and could no longer be
detected after this incident.</p>
<p>Such is the well-known risk of purchasing or modding decommissioned hardware,
or doing both at the same time! - never bet more than you can afford to lose.</p>
<p>It was either a pre-existing fault (perhaps the circuit was already marginal
after heavy mining), or due to my improper watercooling installation - a few
sentences in the installation procedures are marked as <em>important</em> in bold
fonts for a reason‚Ä¶ If it was indeed damaged from my improper installation,
the lack of a proper user manual from Bykski was certainly an important
contributing factor - but fear not, this blog post already went ahead of you,
and ironed out a smooth path. You can refer to the previous instructions
to see many pitfalls to avoid damaging your GPU.</p>
<p>I was able to repair the problem myself with the help of my electronics
home lab (which is not a coincidence, since I bought this GPU specifically
to write electromagnetic simulation code for circuit board designs‚Ä¶),
the leaked Nvidia Tesla A100 schematics. Thanks to whoever who leaked
them - My repair is otherwise impossible.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-1.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-1-small.jpg" alt="CMP 170HX under repair, being probed by an oscilloscope, the vertical monitor nearby was showing the schematic diagrams." width="30%">
</p>
</a>
<p>Reference designs and OEM circuit schematics are routinely leaked online or
sold on the gray markets to repair technicians. This includes most desktop
and laptop motherboards and GPUs. I‚Äôm just surprised that someone actually
decided to leak the $10,000 server-grade A100 together with other conventional
RTX3080 and 3090s desktop GPUs.</p>
<p>As I had no prior experiencing on troubleshooting video cards, I also used the help of
<a href="https://repair.wiki/w/Nvidia_Pascal_GPU_Diagnosing_Guide"><em>Nvidia Pascal GPU Diagnosing Guide</em></a>
on repair.wiki and also a few repair videos to learn what to expect -
including the trick of using output inductors as test points of
DC/DC converters - on my own circuit boards, I always used the output
capacitors or dedicated test points and never realized this shortcut‚Ä¶</p>
<h4 id="the-gpu-repair-song">The GPU repair song</h4>
<p>To <em>The Army Goes Rolling Along</em>:</p>
<blockquote>
<p>Short the rail, fry the core,<br>
Roll the coils across the floor,<br>
And the system is going to crash.<br>
MCUs smashed to bits<br>
Give the scopes some nasty hits<br>
And the system is going to crash.<br>
And we‚Äôve also found<br>
When you turn the power up<br>
You turn VRMs into trash.</p>
<p>Oh, it‚Äôs so much fun,<br>
Now the GPU won‚Äôt run<br>
And the system is going to crash.</p>
<p>Shut it down, pull the plug<br>
Give the core an extra tug<br>
And the system is going to crash.<br>
Mem‚Äôry chips, one and all,<br>
Toss out halfway down the hall<br>
And the system is going to crash.<br>
Just flip one switch<br>
The PWM will cease to twitch<br>
MOSFETs will crumble in a flash.<br>
When the GPU<br>
Only renders magic smoke<br>
Then the system is going to crash.</p>
</blockquote>
<h4 id="power-tree">Power Tree</h4>
<p>When a GPU can no longer be detected from PCIe, its on-board DC/DC power supplies
and related power-on sequencing circuits are the first things to check. Helpfully,
the first page of the Nvidia Tesla A100 schematics contains a power tree overview.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-1.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-1-small.png" alt="Nvidia Tesla A100 power topology schematics" width="80%">
</p>
</a>
<p>The PCB accepts four power inputs:</p>
<ol>
<li>
<p><code>3V3_PEX</code> is provided by the PCI Express (PEX) slot and is stepped down to 1.8 V
for use by auxiliary control circuits using a 1.8 V Low-Dropout Linear
Regulator (LDO).</p>
</li>
<li>
<p><code>12V_PEX</code> is provided by the PCI Express slot and is stepped down</p>
<ul>
<li>
<p>To 5 V via a DC/DC buck converter, the MP1475.</p>
</li>
<li>
<p>To 1.35 V via an MP2988 DC/DC controller (PWM controller), with one phase
output to drive DrMOS switching transistors.</p>
</li>
<li>
<p>To <code>HBMVPP</code> (2.5 V) via a DC/DC buck converter, another MP1475. This voltage
is hooked into the GA100 silicon, but the power supply circuit is significantly
simpler compared to the multi-phase <code>HBMVDD</code> power rail, so I suspect it‚Äôs used
to power the memory controller itself.</p>
</li>
<li>
<p>To <code>PEXVDD</code> via an MP2988 DC/DC controller, with one phase output to drive
DrMOS switching transistors. <code>PEXVDD</code> belongs to the I/O power domain for
PCIe signaling.</p>
</li>
</ul>
</li>
<li>
<p><code>12V_EXT1</code> is provided by the first external 12 V power connector, which is used
to derive the 1.0 V core voltage (<code>NVVDD</code>) and HBM memory voltage (<code>HBMVDD</code>) via
the MP2988 DC/DC controller, which in turn drives DrMOS switching transistors using
multiple phases. <code>12V_EXT2</code> serves the same purpose, but powers another group of
power supply to provide <code>HBMVDD</code> and <code>NVVDD</code>. On the CMP 170HX and Tesla A100,
both connectors are physically combined into a 8-pin CPU power connector, but
one can still see two inputs when an adapter cable is used.</p>
</li>
</ol>
<h4 id="initial-check">Initial Check</h4>
<p>With the power tree in mind, it‚Äôs time for some basic checks for the voltage rails.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-2.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-2-small.jpg" alt="Initial troubleshooting result." width="80%">
</p>
</a>
<p>I measured the resistance from both 12 V external input filter inductors to ground,
and found both have high impedance. I also measured the resistance from the left
side
of the PCIe connector to ground (which is the slot 12 V input), and also found
no short circuit. Furthermore, after powering the card on and probing the output
inductor on the right side of the core, I found none of them had any voltage
output or switching waveforms.</p>
<p>This strongly suggests that a problem exists within the GPU‚Äôs power-on sequencing.
Likely, a needed logic voltage is missing or entered protection due to a fault,
preventing their downstream circuits from being enabled, including Vcore.</p>
<h4 id="power-on-sequencing">Power-On Sequencing</h4>
<p>The next step of the investigation was understanding how power-on sequencing works,
which was answered in schematics on page 48.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-2.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-2-small.png" alt="Power-On Sequencing circuit of the Nvidia Tesla A100" width="80%">
</p>
</a>
<p>From this schematics, it‚Äôs obvious that the power-on sequencing is triggered by
applying 12 V input power (<code>12V_F</code>, <code>F</code> stands for ‚Äúfiltered‚Äù, which means it‚Äôs
the downstream of the input LC filter). This action causes the resistive
divider R391/R392 to produce a 2.5 V output at an appropriate logic level, which
is then used as the enabling signal <code>5V_PS_EN</code> to start the 5 V DC/DC converter.
There‚Äôs also a tiny 10 nF capacitor to de-glitch this signal.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-3.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-3.png" alt="Resistive Divider for generating PS_5V_EN" width="50%">
</p>
</a>
<h4 id="5-v-supply">5 V supply</h4>
<p>The <code>5V_PS_EN</code> signal is then received by MP1475DJ on page 18, it‚Äôs
an adjustable DC/DC converter made by Monolithic Power Systems
with a really basic circuit topology - 12 V input, a switching node
<code>SW</code> driven by an internal switching transistor to generate a
switching waveform, which is then filtered by an output inductor
and output capacitor to generate a reduced voltage. The output
voltage is sampled via a voltage divider and fed back into the <code>FB</code>
pin for closed-loop control.</p>
<p>Although I‚Äôve never used the exact chip, it‚Äôs a fact that
almost every microcontroller circuit board I‚Äôve previously designed
contained a basic buck converter like this one. There is no complex
controller-transistor combinations and no multi-phase switching,
since it‚Äôs only a simple auxiliary voltage for powering the logic
chips, not the GPU.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-4.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-4.png" alt="5 V DC/DC buck converter" width="80%">
</p>
</a>
<p>After pinpointing the physical location of the DC/DC converter and
measuring its switching node, I immediately found the first problem -
the 5 V DC/DC converter was refusing to start. At the switching node
<code>SW</code>, there was a momentary pulse that lasted for dozens of nanoseconds
before it stopped. The IC would then retry again after dozens of
microseconds but fail to start again, and this cycle repeats. This either
suggested the
existence of a short circuit in the 5 V rail, causing the power chip
to enter hiccup-mode short-circuit protection - or implied the DC/DC
converter was faulty.</p>
<p>Thus, I desoldered the MP1475DJ IC using my hot air gun. I also
soldered a jumper wire to its output inductor for injecting an
external 5 V voltage from my benchtop power supply.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-3.jpg">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-3.jpg" alt="5 V DC/DC desoldered, with a jumper wire for voltage injection" width="40%">
</p>
</a>
<p>Voltage injection showed no short circuit. However, I discovered that
the resistance from the empty footprint Pin 1 (Power Good signal) to
ground was 5 Œ©, this is not good!</p>
<p>Hence, the next step was to investigate where the signal <code>PS_5V_PGOOD</code>
went.</p>
<h4 id="ps_5v_pgood-short-circuit"><code>PS_5V_PGOOD</code> short circuit</h4>
<p>After chasing for the net label <code>PS_5V_PGOOD</code> across the entire schematics,
I found the vast majority of its users are the logic chips, SN74LV1T08.
This chip is one of the modern remakes of the classic 74xx logic gates,
providing a 2-input AND gate with level shifting for controlling power
sequencing elsewhere, including <code>PEXVDD</code>, <code>NVVDD</code>, <code>1V35</code>, and <code>1V8</code>.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-5.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-5.png" alt="The PS_5V_PGOOD signal is mainly used for sequencing other rails via the SN74LV1T08 logic gate." width="80%">
</p>
</a>
<p>If any of these 74-logic chips is shorted, isolating the fault would
be a painstaking task.</p>
<p>One of these things is not like the other, though. the 5V Power Good
signal is also used to enable the 5 V to 3.3 V Low-Dropout Regulator (LDO)
to produce <code>3V3_SEQ</code>, an auxiliary 3.3 V logic voltage, which is only
used for continuing the power sequencing after 5 V (including powering
these 74 logic chips).</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-6.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-6.png" alt="GS7155NVTD 3.3 V LDO on the schematics" width="80%">
</p>
</a>
<p>Conveniently, there‚Äôs a 0-ohm resistor jumper R1200 between the <code>PS_5V_PGOOD</code>
input and the <code>ENABLE</code> pin of the 3.3 V LDO. Thus, removing R1200 became
a no-brainer.</p>
<p><a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-4.jpg">
    <img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-4-small.jpg" alt="Location of the GS7155NVTD on the back-side of the PCB" width="400px">
  </a>
  <a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-5.jpg">
    <img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-5.jpg" alt="Location of the 0-ohm jumper resistor for GS7155NVTD's enable signal" width="300px">
  </a>
</p>
<p>After I pushed away this 0402 resistor R1200 with a blob of molten
solder on the tip of my soldering iron, the short circuit at Pin 1
of MP1475DJ (in other words, <code>PS_5V_PGOOD</code>) has cleared - giving
confirmation that the GS7155NVTD LDO was dead due to an internal
short circuit.</p>
<h4 id="5-v-repair-success">5 V repair success!</h4>
<p>When the problems were identified, I immediately ordered replacement
chips for the MP1475DJ and GS7155NVTD. As soon as the MP1475DJs
arrived, I resoldered a new one to the circuit board and applied
power. Power-on tests showed the 5 V logic rail was successfully
restored.</p>
<h4 id="33-v-supply">3.3 V supply</h4>
<p>The next problem is replacing the GS7155NVTD.</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-6.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-6.png" alt="GS7155NVTD 3.3 V LDO on the schematics" width="80%">
</p>
</a>
<p>The adjustable LDO chip GS7155NVTD is made by GSTEK. Although I‚Äôve
never used this chip or vendor
before (apparently it‚Äôs specifically designed for powering Nvidia
GPUs and its full datasheet is under NDA, although one can find the
full datasheet of a similar model), but it‚Äôs also the most basic LDO
circuit topology.</p>
<p>It accepts 5 V and generates 3.3 V by dropping the excess voltage
away as heat using its internal series pass transistor. The output
voltage is sampled by
a resistive divider into the feedback pin for closed-loop control,
voltage is adjustable by using different divider ratio.
There‚Äôs also a capacitor across a feedback resistor, likely for
frequency compensation of its control loop to improve its transient
responsive performance - usually one just copies these components based
on the manufacturer‚Äôs recommendations from the datasheet.</p>
<p>Using a hot-air gun, I quickly replaced the IC, but it was risky to
power the board back on at this point. This chip uses the Quad
No-Lead (QFN) package which is tricky to solder properly by hand.
One needs to pre-tin the chip with solder, pre-tin the circuit board
footprint with solder, then heat the PCB with a hot air gun. An
inexperienced repair tech (like me) can easily create a cold solder
joint, which is no joke.</p>
<p>If the feedback pin of the chip is open, from the perspective of the
LDO, it would see a constant output undervoltage, and the LDO would
put the maximum voltage on its output in an attempt to boost the
output voltage. In reality, this causes the output voltage to shoot
up to the max and creating full 5 V on the 3.3 V rail,
thus blowing up almost all the 3.3 V logic chips with disastrous
results. Therefore,
I came up with an impoverished plan to distinguish a good and a bad LDO:
I replaced the 7.68 kŒ© feedback resistor at the bottom with a 20 kŒ©
resistor to temporarily reprogram the LDO‚Äôs output voltage from 3.3 V
to 1.8 V, then I injected 3.3 V on the 5 V rail.</p>
<p>In the first attempt, I found the LDO couldn‚Äôt output any voltage -
oh no‚Ä¶ Circuit boards for computer motherboards and graphics cards
contain many layers of power and ground planes, making them act as
an excellent heatsink and a nightmare to repair. This is already
sometimes a problem on my 4-layer PCBs, but modern computer cards often
contain 8 to 12 layers of PCB to satisfy their high-speed signaling
needs. On this card, I found I needed to set my hot-air gun to 420
degrees Celsius and to heat the area for 2 minutes before I was able
to remove any chip.
I really did not want to stress the circuit board further and risk
lifting the copper pads or traces off the board with another round
of air-hot gun torture (this is also why a pre-heater is needed for
any serious BGA rework‚Ä¶)</p>
<p>Suddenly I realized that the <code>ENABLE</code> signal for the LDO was
missing. After bridging the LDO‚Äôs <code>ENABLE</code> signal to 3.3 V,
luckily, 1.8 V immediately appeared on the output side of the
LDO, bingo! This test showed that the LDO could correctly output a
regulated 1.8 V voltage, proving its correct operation.</p>
<h4 id="enabling-enable">Enabling <code>ENABLE</code></h4>
<p>After this test, I reinstalled the 7.68 kŒ© feedback resistor to
reprogram the LDO from 1.8 V back to 3.3 V. Now it‚Äôs the moment
of truth, I replugged the card back into the test bench and
powered it on‚Ä¶</p>
<p>Unfortunately, the 3.3 V rail has no output, the symptom was
identical to the previous case of a missing ENABLE signal.
What was going on?</p>
<a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-7.png">
<p><img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-7.png" alt="R1200 was in fact a short circuit on the PCB, unlike what the schematics suggest" width="80%">
</p>
</a>
<p>Upon further probing with a multimeter, I found the left solder pad and right
solder pad of the 0-ohm jumper R1200 was a short circuit - indeed, a close
inspection under the microscope showed that there‚Äôs a trace directly bridging
the pads! It must
have been the case that the PCB designers wanted to remove the useless jumper
R1200 (perhaps it‚Äôs a common point of failure), hence a direct copper trace
was used to bypass R1200. But for some manufacturing reason, possibly to
avoid reprogramming the pick-and-place machine or the automatic optical
inspection machine, the now-useless resistor itself was kept as-is and
<em>not</em> removed.</p>
<p>Hence, removing the resistor should not have isolated the original short
circuit inside the GS7155NVTD. Instead, in the process of removing R1200
or replacing other components, I may have accidentally damaged a via or
a trace on the circuit board, thus isolating the short circuit by breaking
the PCB itself. It‚Äôs also possible that the via or trace involved already
became fragile due to the previous short circuit. After breakage, the
enable signal GS7155NVTD became an isolated island unconnected to the
broader <code>PS_5V_PGOOD</code> net.</p>
<p><a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-8.png">
    <img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-schematics-8.png" alt="Location of the jumper wire on the schematics" width="400px">
  </a>
  <a href="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-6.jpg">
    <img src="https://niconiconi.neocities.org/img/nvidia-cmp-170hx-review/cmp-170hx-repair-6-small.jpg" alt="Using a jumper wire to fix the ENABLE signal" width="300px">
  </a>
</p>
<p>After the root cause was understood, solving the problem became trivial.
As I previously mentioned, the <code>PS_5V_PGOOD</code> net was used by many
SN74LV1T08 logic chips across the schematics for power sequencing.
Thus, I decided to borrow this signal from U816 to GS7155NVTD using a jumper
wire.</p>
<p>Finally, I replugged the GPU into my test bench and reapplied power. 3.3 Vseq
was back! I could see switching waveforms on the oscilloscope! 1.0 V Vcore
(NVVDD) was back! PEXVDD was back! Finally, the GPU was redetected from
PCIe, the GA100 is alive.</p>
<p>The photo above showed the use of a PVC-insulated AWG-30 wire-wrap wire -
this was only used for a quick test, and is not recommended in an actual
repair as it‚Äôs difficult to strip to wire to the correct length and to solder
it without damaging its insulation - risking a short circuit due to
wire movement. For the eventual repair, I used a thin enameled wire. Its
heat-stripped insulation coating doesn‚Äôt suffer from this problem.</p>
<!-- However, before you close the web page and toss the GPU out of the window
as junk, believe it or not, there are still memory-heavy floating-point
applications that can be accelerated by this GPU. More on that at the
end of the article. -->

</article>

        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why has America settled on colonoscopies when most of the world has not? (252 pts)]]></title>
            <link>https://asteriskmag.com/issues/04/you-re-invited-to-a-colonoscopy?ref=thebrowser.com</link>
            <guid>38055711</guid>
            <pubDate>Sun, 29 Oct 2023 03:54:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://asteriskmag.com/issues/04/you-re-invited-to-a-colonoscopy?ref=thebrowser.com">https://asteriskmag.com/issues/04/you-re-invited-to-a-colonoscopy?ref=thebrowser.com</a>, See on <a href="https://news.ycombinator.com/item?id=38055711">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                                            <div><p>Colorectal cancer is the second-most deadly cancer, killing over 1 million people per year around the world ‚Äî 1.7% of all deaths. In the United States, where colorectal cancer causes 50,000 deaths per year, the foundation of the fight against it is the colonoscopy. Getting one periodically is recommended for everyone over the age of 45.</p><p>Colonoscopies are rarely used for screening elsewhere but have been standard in the U.S. for decades. There are many reasons to think that they should work. But they are also expensive, invasive, unpleasant, and rarely ‚Äî but not <em>that</em> rarely ‚Äî have serious side effects. Are they worth it?</p><p>Until recently we didn‚Äôt have any randomized controlled trials that directly tested how well colonoscopies work. We finally just got one and the results were ‚Äî how can I describe them? Confusing? Ambiguous? Frenzy-inducing?</p><p>Let‚Äôs try to understand what to make of this trial, and why American gastroenterologists were so quick to criticize it.</p></div>
                                            <div><figure>
      <p><img src="https://asteriskmag.com/media/pages/issues/04/you-re-invited-to-a-colonoscopy/c8c28b73bd-1694613893/banach-colo_small.jpg" alt="">
  </p>
    <p>
    Karol Banach  </p>
  </figure>
</div>
                                            <p><h2>Reminders About Tubes</h2>
</p>
                                            <div><p>After you swallow food, your body uses rhythmic waves of contractions to send it on a 4-meter (13-foot) journey through your esophagus, stomach, and small intestine. These extract most of the food‚Äôs nutrients and render it into a pulpy acidic fluid called <em>chyme</em>. The chyme then travels through your colon, a 1.5-meter (5-foot) tube that reabsorbs water and electrolytes, creating a solid mass that is then moved to your rectum for storage and eventual disposal. Yay!</p><p>The outermost layer of your inner colon is a single layer of <em>epithelial</em> cells whose job it is to let the good stuff through and keep the bad stuff out. Stem cells deeper inside the colon constantly divide to make new epithelial cells, which climb to the surface and live for four or five days before committing ‚Äúsuicide.‚Äù</p><p>Colonoscopies rest on the <em>adenoma-carcinoma hypothesis.</em> The idea is that errors can arise in the DNA, resulting in epithelial cells that don‚Äôt die on schedule. If they do anything <em>too</em> weird, your T-cells will kill them. But some mutations fly under the radar,&nbsp; causing little clumps of cells to grow on the surface of the colon. These clumps, or ‚Äúpolyps,‚Äù are usually <em>not cancer</em> ‚Äî they grow slowly, and won‚Äôt (yet) spread to neighboring tissues. But if these persist for many years, they can acquire additional mutations that make them start spreading.</p><p>To prepare for a colonoscopy, you must empty your colon. This is achieved by drinking some chemicals and enduring some spectacular biological functions. Then a doctor threads a 1.5-meter (5-foot) flexible tube with a light and camera to look at the entire colon and remove or sample any polyps. The idea is not just to <em>detect</em> cancer but, by removing precancerous polyps, <em>prevent</em> it.</p><p>The primary alternative to colonoscopies for colorectal cancer screening are ‚Äúoccult blood tests‚Äù that look for <em>spooky</em> hidden blood in the stool. The oldest of these use an extract of the guaiacum tree and have RCTs showing they reduce colorectal cancer mortality by 9%-22% when used for screening. Newer tests look for antibodies and/or genetic mutations. These are more sensitive, though we don‚Äôt yet have RCTs estimating how much they help with mortality.</p><p>Another alternative is an older procedure called a sigmoidoscopy, which is basically a ‚Äúmini‚Äù colonoscopy with a 0.6-meter (2-foot) tube. Compared to colonoscopy, it is quicker, safer, less painful, and cheaper, but it can only look at the lower (‚Äúsigmoid‚Äù) colon. Still, randomized trials have shown that screening sigmoidoscopies reduce colorectal cancer deaths by 26%-30%.</p><p>In principle, colonoscopies <em>should</em> be better than either of these tests. Unlike blood tests, colonoscopies try to remove polyps before they become cancer. And unlike sigmoidoscopy, colonoscopies can examine the whole colon.</p><p>But how much does it actually help to remove precancerous polyps? Gastrointestinal doctors often point to the National Polyp Study, but this is not a true randomized comparison ‚Äî the study did colonoscopies on all subjects and concluded, based on comparisons to base rates in other ‚Äúsimilar‚Äù populations, that removing polyps helped. And how much does it help to screen the whole colon? <a href="https://doi.org/10.1038/s41416-018-0335-z" rel="noopener noreferrer">Cross et al.</a> compared sigmoidoscopy to colonoscopy in English patients with suspected colorectal cancer and found that sigmoidoscopy was sufficient to detect 80% of cancers.</p><p>Because of the cost, the lack of direct evidence for efficacy, and the fact that it‚Äôs hard to convince people to do colonoscopies, they are rarely used for cancer screening outside the United States and some parts of German-speaking Europe. So it would be <em>really</em> useful to have an RCT that tested how well screening colonoscopies work.</p></div>
                                            <p><h2>The Trial</h2>
</p>
                                            <div><p>That brings us to the star of our show. The Nordic-European Initiative on Colorectal Cancer (NordICC) is a huge randomized trial aimed at rigorously measuring how much colonoscopies reduce cancer and death.<sup>
    <!-- <a id="fnref-1" href="#fn-1"> -->
    <span id="fnref-1">
        1    </span>
    <!-- </a> -->
</sup>
</p><p>Here‚Äôs what the researchers did: Between 2009 and 2014, they identified 85,179<sup>
    <!-- <a id="fnref-2" href="#fn-2"> -->
    <span id="fnref-2">
        2    </span>
    <!-- </a> -->
</sup>
 subjects mostly in Poland (64.1%), Norway (31.2%), and Sweden (4.3%), drawn at random from population registries of people between 55 and 64 years old.<sup>
    <!-- <a id="fnref-3" href="#fn-3"> -->
    <span id="fnref-3">
        3    </span>
    <!-- </a> -->
</sup>
 They invited one-third of them to a one-time screening colonoscopy. Of those contacted, 42% accepted the invitation and underwent a colonoscopy, while 58% refused the invitation. The other two-thirds of people were not contacted and seemingly never knew they were in the trial. The researchers then followed everyone (invited or not, colonoscopy or not) for a median of 10 years and checked government records to see who had been diagnosed with colorectal cancer, died from colorectal cancer, or died from any cause.</p><p>This was an ‚Äúintention-to-screen‚Äù analysis. That means that it compared the control group to the whole invited group, including both the 42% of people who agreed to a colonoscopy and the 58% who refused. (If that seems strange, keep reading.)</p><p>These were the main results:</p></div>
                                            <div><figure>
      <p><img src="https://asteriskmag.com/media/pages/issues/04/you-re-invited-to-a-colonoscopy/426b760313-1696013385/dynomight_temp01.png" alt="">
  </p>
  </figure>
</div>
                                            <div><p>The 18% reduction in colorectal cancer incidence was statistically significant, while the 10% reduction in colorectal cancer mortality and 1% reduction in overall mortality were not.</p><p>So the reductions ‚Äî they are small. This was a surprise.</p><p>The study had a huge sample and simple, reliable statistics. The authors seemed to expect a stronger showing for colonoscopies. When that didn‚Äôt happen, they made no excuses ‚Äî they just followed their preregistered statistical plan and published the results. We want research to be reproducible, right? Well, then <em>this is what we want people to do</em>.</p></div>
                                            <p><h2>The Debate</h2>
</p>
                                            <div><p>This paper was greeted with gastroenterological bedlam. One response was that it shows colonoscopies aren‚Äôt cost-effective, since there was only a small effect on deaths from colorectal cancer, not much better than in previous trials of less invasive screening methods. Others took the more extreme stance that the study was further proof that American medicine is rotten, subjecting us to horrible expensive procedures for little benefit.</p><p>Overwhelmingly, American gastroenterologists did not agree. A primary concern expressed on Twitter (now known as X) seemed to be that the study might cause patients to do the worst thing a patient can ever do: Read a paper and ask questions about it.</p><p>For a little slice of the debate, take CNN‚Äôs piece, <a href="https://www.cnn.com/2022/10/09/health/colonoscopy-cancer-death-study/index.html" rel="noopener noreferrer">‚ÄúNew Study Examines the Effectiveness of Colonoscopies.‚Äù</a> It describes the study and results, gives a few quotes from the authors and other experts about how the results are surprising, cautions that it isn‚Äôt conclusive and further research is needed, and notes that ‚Äúother studies have estimated larger benefits for colonoscopies, reporting that these procedures could reduce the risk of dying of colorectal cancer by as much as 68%.‚Äù</p><p>The American College of Gastroenterology disagreed with CNN so strongly that it released a <a href="https://webfiles.gi.org/links/committees/Public+Relations/American_College_of_Gastroenterology_Letter_to_CNN_NEJM_Bretthauer_Colonoscopy_10102022_FINAL.pdf" rel="noopener noreferrer">rebuttal</a>, claiming:</p><p>1. The way the study was set up, colonoscopies couldn‚Äôt possibly succeed because only 42% of people agreed to screening, 10 years isn‚Äôt long enough to see a benefit, and European doctors are bad at colonoscopies.</p><p>2. There is <em>other</em> evidence that removing polyps and doing colonoscopies save lives.</p><p>3. It‚Äôs irresponsible to call colonoscopies ‚Äúinvasive‚Äù (as CNN did) since that might make people think they are unpleasant and not do them.</p><p>4. Actually, the study shows colonoscopies are great.</p><p>Similar points were raised elsewhere, such as in a <a href="https://doi.org/10.1056/nejmc2215192" rel="noopener noreferrer">letter</a> doctors sent to the <em>New England Journal of Medicine</em>. Are these points correct? Why were American gastroenterologists so eager to dismiss this trial?</p></div>
                                            <p><h2><strong>Did the Trial Actually Show That Colonoscopies Are Great?</strong></h2>
</p>
                                            <div><p>By far the biggest controversy with the trial comes from the fact that only a minority of people agreed to screening. Colonoscopies can‚Äôt do anything if they don‚Äôt happen.</p><p>Many doctors suggested that if you look at the numbers in the right way, then this trial shows colonoscopies are great. For example, <a href="https://doi.org/10.1056/NEJMc2215192" rel="noopener noreferrer">Hanley</a> argues that while only 42% of people agreed to screening, among the people who did, colon cancer incidence was reduced by 31% and colon cancer mortality was reduced by 50%.</p><p>Many, <em>many</em> other doctors repeated the claim that this trial showed that getting a colonoscopy reduced the risk of dying of colorectal cancer by 50%. A common meme was to reframe the 10% reduction in colorectal cancer mortality in the main intention-to-screen analysis by rewriting the title in dismissive ways like&nbsp;‚ÄúEffect of Mailing Letters to People on Risks of Colorectal Cancer and Related Death.‚Äù</p><p>In my opinion, that 50% number is <em>at best</em> unreliable and probably just wrong. Looking into why gives a great lesson on why statistics is hard and how that hardness conspires with social dynamics to confuse people.</p><p>In this study, there were three types of people:</p><p><strong>Controls</strong>, who were never contacted</p><p><strong>Refusers</strong>, who were invited to get a colonoscopy but declined</p><p><strong>Acceptors</strong>, who were invited to get a colonoscopy and chose to proceed</p><p>The main analysis only compares the controls to the <em>combination</em> of the acceptors and refusers. One reason to do so is that all screening programs see some proportion of people refuse assessment; what the analysis provides is a direct estimate of what an actual program would do.</p><p>But if you‚Äôre deciding if you should get a colonoscopy personally, then you‚Äôd like to know how much it would help. Naively, you might try to find out by looking at results for the acceptors versus controls, ignoring refusers. Unfortunately, there‚Äôs a deep problem: Acceptors and refusers are different. They might vary in age, sex, education, ethnicity, family health history, or comfort with their own tubes. Even if the colonoscopies had never happened, they would have had different outcomes from the controls. This is not hypothetical! At the end of the study period, 1.2% of the controls were diagnosed with colorectal cancer, compared with 1.05% of refusers and 0.89% of acceptors.<sup>
    <!-- <a id="fnref-4" href="#fn-4"> -->
    <span id="fnref-4">
        4    </span>
    <!-- </a> -->
</sup>
</p><p>The refusers have less colorectal cancer than controls, even though neither had colonoscopies. The likely explanation is that people have some idea of their risk, either because of their family history, their lifestyle, or how their tubes have been feeling recently. Those at lower risk are more likely to refuse. (It‚Äôs also possible that refusers just hate going to the doctor and so just had fewer <em>diagnoses</em>, but never mind.)</p><p>So you can‚Äôt directly compare acceptors to controls <em>or</em> to refusers. They are different populations. Sadly, there‚Äôs no good way to solve this problem. But there are many bad ones!</p><p>The main results in the paper are the <em>intention-to-screen</em> analysis that compares the controls to the whole invited group. This understates the benefits of colonoscopies because it ignores the fact that less than half of invited people agreed to have colonoscopies. But this analysis is <em>ultra</em>robust, because it compares two perfectly randomized groups. It found an 18% reduction in colorectal cancer diagnoses and a 10% reduction in colorectal cancer mortality.</p><p>An intuitive way to fix that bias would be to do a <em>naive correction</em> and pretend that the 42% of people who agreed to colonoscopies were random. If that were true, then the benefits if everyone agreed would have been 1/0.42 = 2.38 times as large, meaning that if 100% of people agreed instead of 42%, there would have been a 43% reduction in colorectal cancer diagnoses and a 24% reduction in colorectal cancer mortality.</p><p>I call this ‚Äúnaive‚Äù because people did <em>not</em> agree at random. But what‚Äôs the bias? Remember, people at higher risk were more likely to agree. That means that the colonoscopies that <em>were</em> done were allocated <em>more efficiently</em> than a random allocation. Thus, the naive correction is likely an <em>over</em>estimate. We‚Äôd expect somewhat <em>less</em> than a 24% reduction in colorectal cancer mortality if everyone accepted.</p><p>One thing you <em>can</em> do is estimate what would have happened to the acceptors if they hadn‚Äôt gotten colonoscopies. Imagine a world where the trial never happened. Outcomes for the control group and the refusers would stay the same ‚Äî the only people with a different result would be the ones who would have accepted colonoscopies had the study occurred. On the whole, though, the would-be invited group (that is, the would-be refusers and the would-be<em> </em>acceptors) would be just like the controls, since no one would have received any screening. With this in mind, we can work out what would have happened to the would-be acceptors in that world. You can see this in the dotted line in the graphs below:</p></div>
                                            <div><figure>
      <p><img src="https://asteriskmag.com/media/pages/issues/04/you-re-invited-to-a-colonoscopy/31771328c9-1696013432/dynomight01b.svg" alt="">
  </p>
    <p>
    Source: Dynomight, data from NordICC  </p>
  </figure>
</div>
                                            <div><p>The right graph compares those results to the observed outcomes for acceptors in our branch of the multiverse, where they <em>did</em> have colonoscopies. At the end of the trial, there‚Äôs a reduction of 37%. Unfortunately, data aren‚Äôt available to do this for mortality, but this confirms the idea that the true effects are probably a bit lower than what the naive correction gives.</p><p>So where does this ‚Äú50% reduction in colorectal cancer mortality‚Äù everyone is quoting come from? This is a complex <em>per-protocol analysis</em> that tries to use math to ‚Äúmake‚Äù the acceptors be like the controls. The details are a little fuzzy because the paper does the common academic thing where it says the details are in another paper that itself cites other papers in an infinite regress. But, basically, the analysis takes data from all the acceptors and refusers and fits a big equation to predict someone‚Äôs odds of getting diagnosed with or dying from colorectal cancer based on their age, sex, country, and group (acceptor or control). Then they see how much those odds change when you flip the group assignment. This gives the much quoted decrease of 31% in colorectal cancer diagnoses and 50% in colorectal cancer mortality.</p><p>Because that kind of analysis is known to be unreliable, they also included a <em>sensitivity analysis</em> as a sanity check. This gave a 34% decrease in colorectal cancer diagnoses and a 28% reduction in colorectal cancer mortality.</p><p>To summarize:</p></div>
                                            <div><figure>
      <p><img src="https://asteriskmag.com/media/pages/issues/04/you-re-invited-to-a-colonoscopy/543694bd8f-1696013997/dynomight_temp02.png" alt="">
  </p>
  </figure>
</div>
                                            <div><p>The last three analyses all give something like a 33% reduction in colorectal cancer diagnoses. I think we can be reasonably confident that‚Äôs right.</p><p>But should we believe that 50% number from the per-protocol analysis for colorectal cancer mortality?</p><p>I mean ‚Ä¶ no?</p><p>Let‚Äôs start with common sense. Certainly, if everyone invited had colonoscopies, the observed 10% reduction in colorectal cancer mortality would have been higher. But would it have been <em>five times</em> larger, even though almost half of people already got colonoscopies? Doubtful. The naive correction gives a reduction of only 24% in colorectal cancer mortality, and we have strong reasons to think this is an <em>over</em>estimate.&nbsp;</p><p>The 50% number comes from a fiddly statistical technique that only works under strong assumptions. One of these is that all the ways controls and acceptors vary are included in the dataset. But the dataset used was <em>very</em> limited ‚Äî it didn‚Äôt have income, education, family history, or how people‚Äôs tubes were feeling when they got the invitation. If <em>any</em> of those things influenced people‚Äôs choices to accept, then this analysis wouldn‚Äôt have been able to correct for the biases between the groups. And there weren‚Äôt that many colorectal cancer deaths during the trial (229 total), so the analysis was done on sparse data.</p><p>And the sensitivity analysis ‚Äî the point of this was to check how sensitive the per-protocol analysis is to its rather tenuous assumptions. It worked! It showed that the ‚Äú50% reduction in colorectal cancer mortality‚Äù calculation is <em>exquisitely</em> sensitive to those assumptions! But then everyone just sort of ignored it.</p><p>So what happened? How did we end up with so many gastroenterologists quoting this 50% number?</p><p>I wouldn‚Äôt blame the study authors. The paper largely just carries out the <a href="https://doi.org/10.1055/s-0032-1306895" rel="noopener noreferrer">preregistered</a> analysis without much comment. But in a letter to the journal, the authors emphasize that the per-protocol analysis is ‚Äúprone to bias‚Äù and ‚Äúnot as trustworthy‚Äù and ‚Äúcaution against overinterpretation ‚Ä¶ because the number of deaths to date was small.‚Äù</p><p>But further removed reports get from the original study, the more those cautions disappear. Other doctors writing about the study didn‚Äôt pay much attention to those concerns. By the time you get to the doctors on social media, they‚Äôre basically gone.</p><p>It‚Äôs hard not to think that there‚Äôs some motivated reasoning at work here. Around 15 million colonoscopies are done in the U.S. each year, at an average cost of something like $3,000 for each. I<em> </em>don‚Äôt think doctors are intentionally distorting the truth. But they have been trained that colonoscopies are extremely effective, and most of them are busy and ‚Äî no offense ‚Äî have only a superficial understanding of statistics. So when a study comes out with various numbers, it‚Äôs human nature to look much harder for flaws in the surprising numbers than the ones that reinforce your worldview.</p><p>Or, to put it another way: Imagine a world where the intention-to-screen analysis showed strong effects, but the per-protocol analysis showed weak ones. Which one do you think everyone would be quoting?</p></div>
                                            <p><h2>Intermission</h2>
</p>
                                            <div><p>There are no good colonoscopy jokes. I asked everyone and found none that were funny <em>or</em> tasteful. Here‚Äôs the least-terrible one, a joint effort of myself and a large language model.</p><p>Q. Why do Bayesians love colonoscopy trials?</p><p>A. Because they use <em>posteriors</em> to inform <em>priors</em>.</p><p>I know, I know. Anyway.</p></div>
                                            <p><h2>Was the Trial Too Short?</h2>
</p>
                                            <div><p>Many doctors also objected that the trial didn‚Äôt give colonoscopies a fair chance. One theory is that 10 years isn‚Äôt long enough (we'll know more when the trial ends and 15-year mortality is released). It takes years for polyps to turn into cancer and even longer for that cancer to kill you. Maybe the colonoscopies removed lots of polyps that <em>would</em> have eventually turned into cancer and/or deaths, but wouldn‚Äôt have done so <em>yet</em>.</p><p>The best way to check this theory would be to look at how previous trials evolved after 10 years. We don‚Äôt have any such trials for colonoscopies, but we <em>do</em> for sigmoidoscopies. NORCCAP ran in Norway, where 61% of men agreed to screening. UKFSST ran in the U.K., where 71% agreed to screening. Here is the reduction in colorectal cancer diagnoses and mortality in the invited group compared to the control group in all three trials over time:<sup>
    <!-- <a id="fnref-5" href="#fn-5"> -->
    <span id="fnref-5">
        5    </span>
    <!-- </a> -->
</sup>
</p></div>
                                            <div><figure>
      <p><img src="https://asteriskmag.com/media/pages/issues/04/you-re-invited-to-a-colonoscopy/2aa1e34f3c-1698338036/dynomight02.svg" alt="">
  </p>
    <p>
    Source: Dynomight, data from NordICC, UKFSST, and NORCCAP  </p>
  </figure>
</div>
                                            <div><p>For diagnoses, the ‚Äúreduction‚Äù is negative at first because screening catches a lot of cancer that would otherwise be missed. In NordICC, the reduction is smaller than sigmoidoscopy trials probably just because NordICC saw fewer people agree to screening. But, overall, the NordICC curve looks similar to the other trials, suggesting modest gains over time.</p><p>For mortality, things just look weird. The other trials seemed to reach their maximum benefit by five to seven years and then sort of bounce around randomly. But NordICC actually had <em>higher</em> colorectal cancer mortality in the invited group until almost the end of the trial. I assume this was just bad luck. It‚Äôs hard to say what that green line will do in future years.</p></div>
                                            <p><h2>Do European Doctors Suck?</h2>
</p>
                                            <div><p>While the equipment is standardized, colonoscopies are effectively artisanal: The doctor decides what looks bad and what should be sampled or removed. Another theory for the small effect in the NordICC trial is that since colonoscopies are less common in Europe, the doctors had less experience than American doctors.</p><p>The skill of a doctor doing a colonoscopy is often measured by their adenoma detection rate ‚Äî how often they find a precancerous polyp. American doctors find them 40% of the time. In the NordICC trial, doctors found them only 31% of the time. Many suggested this meant the doctors weren‚Äôt great.</p><p><a href="https://doi.org/10.1056/NEJMc2215192" rel="noopener noreferrer">Cappell et al.</a> counter that perhaps it wasn‚Äôt the doctors but that there were more adenomas to find in the American colons because of ‚Äúhigher prevalence of obesity (30% vs.&nbsp;12%), a higher rate of ever having smoked cigarettes, higher fat and cholesterol consumption, and poorer physical fitness.‚Äù</p><p><a href="https://doi.org/10.1056/NEJMc2215192" rel="noopener noreferrer">Dominitz and Robertson</a> reply that lifestyles notwithstanding, the U.S. has substantially <em>lower</em> rates of colorectal cancer. I was surprised by this and looked up the numbers. Here are the rates per 100,000 people aged 55-64.<sup>
    <!-- <a id="fnref-6" href="#fn-6"> -->
    <span id="fnref-6">
        6    </span>
    <!-- </a> -->
</sup>
</p></div>
                                            <div><figure>
      <p><img src="https://asteriskmag.com/media/pages/issues/04/you-re-invited-to-a-colonoscopy/3d977036c8-1696014694/dynomight_temp03.png" alt="">
  </p>
  </figure>
</div>
                                            <div><p>The obvious interpretation is that Americans have fewer adenomas than Europeans, meaning the doctors in the trial were worse than American doctors at detecting them. But be cautious: Diagnoses aren‚Äôt a great measure of incidence, since they depend on how aggressively you look. And deaths <em>also</em> aren‚Äôt great, since they depend on treatments. It‚Äôs also conceivable that Americans do have more adenomas, but <em>because</em> colonoscopies are already common in the U.S., many get removed before they become cancer.</p><p>Also, I‚Äôm not sure I trust that the diagnosis rates in this data reflect cancer rates: Do we really believe that Norway has 45% more colorectal cancer than Sweden, despite the fact that these countries have similar diets, life expectancies, and mortality rates ‚Äî and that Norwegians drink and smoke a bit less? (The mysteriously high colorectal cancer diagnosis rates in Norway have been <a href="https://pubmed.ncbi.nlm.nih.gov/12705545/" rel="noopener noreferrer">noted</a> for decades.<sup>
    <!-- <a id="fnref-7" href="#fn-7"> -->
    <span id="fnref-7">
        7    </span>
    <!-- </a> -->
</sup>
)</p><p>Another oddity is that there were <em>zero</em> perforations in the NordICC trial across all 12,000 colonoscopies performed whereas previous studies report them at rates between 1 in 100 and 1 in 20,000. (Perforation of the colon is fatal without emergency surgery.) One interpretation of this is that European doctors are awesome. Alternatively, Powell and Prasad give this heart-warming speculation:</p></div>
                                            <p>It has been hypothesized that the absence of perforation in NordICC was due in part by the fact that the vast majority of procedures were unsedated, preventing the operator from using more force‚Äîa contributing factor to perforation.</p>
                                            <div><p>If doing colonoscopies without anesthesia reduces perforations, that‚Äôs great. But one doctor I talked to suggested that without anesthesia it‚Äôs impossible to be as thorough, so this might reduce the benefits of colonoscopies.</p><p>Overall, I don‚Äôt think we have a clear answer here. I think there is weak evidence for the idea that the average American colonoscopy is better than those in this trial. But it‚Äôs very uncertain.</p></div>
                                            <p><h2><strong>Why Was There No Impact on Overall Mortality?</strong></h2>
</p>
                                            <div><p>Among nondoctors, many people were surprised that <em>overall</em> mortality rates ‚Äî from any cause ‚Äî were the same in the control and invited groups. Isn‚Äôt the point of colonoscopies to prevent death? Does this mean colonoscopies are worthless?</p><p>No. I ran millions of simulated trials assuming ‚Äúmagic colonoscopies‚Äù that reduced the odds of dying from colorectal cancer to <em>zero</em>. The results ranged from the invited group having 5.6% lower overall mortality to 2.5% <em>higher</em>.<sup>
    <!-- <a id="fnref-8" href="#fn-8"> -->
    <span id="fnref-8">
        8    </span>
    <!-- </a> -->
</sup>
 So we can‚Äôt conclude anything from this. There just aren‚Äôt enough people to detect a tiny signal (change in colorectal cancer mortality) that‚Äôs drowned out by tons of noise (mortality from other factors).</p></div>
                                            <p><h2>Discussion</h2>
</p>
                                            <div><p>Are colonoscopies better than other screening methods? I don‚Äôt know. Maybe!</p><p>But on the margin, surely this trial gives <em>some</em> evidence that colonoscopies might not be as effective as we hoped. So why were American gastroenterologists so keen to dismiss it? There seemed to be no similar frenzy of doctors in other countries trying to discredit the trial.</p><p>Or, to back up ‚Äî why has America settled on colonoscopies when most of the world has not? Regulators in Europe basically give two reasons that they continue to recommend fecal blood tests:</p><p>1. It‚Äôs hard to get Europeans to do any colorectal cancer screening, and <em>exceedingly</em> hard to get them to agree to colonoscopies.</p><p>2. Colonoscopies have not yet been proven to be cost-effective.</p><p>In America, neither of these apply.&nbsp; When setting recommendations, the U.S. Preventative Service Task Force explicitly does not consider costs. And since we expect colonoscopies to be effective, it would be too risky <em>not</em> to do them. Americans are probably more open to colonoscopies simply because doctors have told them for decades how important they are. (Note: None of these things are obviously bad!)</p><p>So that‚Äôs my theory. Europe wants stronger evidence for cost-effectiveness. America is more aggressive and more willing to accept high costs. I don‚Äôt think this trial changes that. Colonoscopies are still expensive, and still possibly but not conclusively better.</p><p>One thing is clear: Screening works. If you‚Äôre of the appropriate age, please get screened. If your tubes are acting funny, please get screened without delay. The best method and the level of benefit are debatable, but we know it helps. Use a stool test if you want (multitarget DNA test if you can), or a colonoscopy, or a sigmoidoscopy, or a ‚Äúvirtual‚Äù CT colonoscopy, or a crazy edible camera. Do one of them. Statistics show colorectal cancer is highly curable when caught early, and now that we have feisty checkpoint inhibitor immunotherapies,it‚Äôs probably even better now. Just do it. Your tubes will thank you.</p><p><em>An earlier version of this article referred to the NordICC trial in the past tense. It has been updated to reflect that the trial is still ongoing. </em></p></div>
                                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Friend's Chandler, Matthew Perry, died at 54 (190 pts)]]></title>
            <link>https://www.latimes.com/california/story/2023-10-28/freinds-star-matthew-perry-dead-at-56</link>
            <guid>38054860</guid>
            <pubDate>Sun, 29 Oct 2023 00:47:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.latimes.com/california/story/2023-10-28/freinds-star-matthew-perry-dead-at-56">https://www.latimes.com/california/story/2023-10-28/freinds-star-matthew-perry-dead-at-56</a>, See on <a href="https://news.ycombinator.com/item?id=38054860">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-element="story-body" data-subscriber-content=""> <p>‚ÄúFriends‚Äù star Mathew Perry was found dead Saturday in a hot tub at his Los Angeles home, law enforcement sources said.</p><p>Authorities responded about 4 p.m. to his home, where he was discovered unresponsive. The sources, who spoke on condition of anonymity because the investigation was ongoing, did not cite a cause of death. There was no sign of foul play, the sources added. A representative for Perry did not immediately respond to The Times‚Äô request for comment.</p><p>The Los Angeles Police Department‚Äôs robbery-homicide detectives are investigating the death. The cause of death will be determined at a later date by the Los Angeles County coroner‚Äôs office.</p><p>Perry, the son of actor John Bennett Perry and Suzanne Marie Langford, onetime press secretary of Canadian Prime Minister Pierre Trudeau, was born in 1969 and grew up between Montreal and Los Angeles after his parents separated when Perry was 1.</p><p>He got his start as a child actor, landing guest spots on ‚ÄúCharles in Charge‚Äù and ‚ÄúBeverly Hills 90210‚Äù and playing opposite River Phoenix in the film ‚ÄúA Night in the Life of Jimmy Reardon‚Äù in the 1980s and early 1990s. </p><p>But his big break came when he was cast in ‚ÄúFriends‚Äù ‚Äî originally titled ‚ÄúFriends Like Us‚Äù ‚Äî a sitcom about six single New Yorkers navigating adulthood that premiered on NBC in 1994. </p><p>The series soon became a juggernaut, the anchor of the network‚Äôs vaunted Thursday-night ‚ÄúMust-See TV‚Äù lineup, and turned Perry, then 25, and his castmates Jennifer Aniston, Courteney Cox, Lisa Kudrow, Matt LeBlanc and David Schwimmer into mega-stars almost overnight: At its high-water mark, in a 1996 post-Super Bowl slot, the series notched more than 50 million live viewers. </p><p>As Chandler Bing, the handsome, wisecracking roommate of LeBlanc‚Äôs Joey Tribbiani and, later, love interest of Cox‚Äôs fastidious Monica Geller, Perry distinguished himself in a crackling ensemble cast with his dry delivery, creating a catchphrase with a mere turn of inflection: Could he <i>be</i> any more Chandler? Soon, he was attached to major stars like Julia Roberts and appearing as a leading man opposite Salma Hayek in the 1997 rom-com ‚ÄúFools Rush In.‚Äù</p><p>There was a dark side to the life of one of television‚Äôs most beloved funnymen, however. In his 2022 memoir ‚ÄúFriends, Lovers, and the Big Terrible Thing,‚Äù Perry recounted his lifelong struggle with addiction to alcohol and opioids, which led to multiple stints in rehab and a number of serious health issues, including a five-month hospitalization in 2018 following a colon rupture that left him, he wrote, with a  2% chance to live through the night. And it was fueled, he acknowledged during a ‚ÄúFriends‚Äù reunion special in 2021, by the pressure to land the joke in front of a live studio audience night after night. </p><p>‚ÄúNobody wanted to be famous more than me,‚Äù Perry told The Times in April, <a href="https://www.latimes.com/entertainment-arts/books/story/2023-04-23/matthew-perry-keanu-reeves-friends-book-festival">discussing ‚ÄúBig Terrible Thing‚Äù at the Festival of Books</a>. ‚ÄúI was convinced it was the answer. I was 25, it was the second year of ‚ÄòFriends,‚Äô and eight months into it, I realized the American dream is not making me happy, not filling the holes in my life. I couldn‚Äôt get enough attention. ‚Ä¶ Fame does not do what you think it‚Äôs going to do. It was all a trick.‚Äù</p><p>Though Perry estimated he had relapsed  ‚Äú60 or 70 times‚Äù since first getting sober in 2001, he maintained a steady presence on American television, playing key parts in backstage dramedy ‚ÄúStudio 60 on the Sunset Strip‚Äù and therapy sitcom ‚ÄúGo On,‚Äù and making a steady stream of guest appearances on acclaimed shows  such as ‚ÄúThe West Wing‚Äù and ‚ÄúThe Good Wife.‚Äù Since his near-death experience in 2018, Perry had found solace in friendships, writing and regular games of pickleball. </p><p>Indeed, for all his success as an actor and, more recently, a bestselling memoirist, Perry told The Times in April that his work was not the center of what he hoped would be his legacy.</p><p>Pressed to name how he‚Äôd like to be remembered, he said: ‚ÄúAs a guy who lived life, loved well, lived well and helped people. That running into me was a good thing, and not something bad.‚Äù</p> </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Actual is going open-source (2022) (122 pts)]]></title>
            <link>https://actualbudget.com/open-source</link>
            <guid>38053982</guid>
            <pubDate>Sat, 28 Oct 2023 22:28:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://actualbudget.com/open-source">https://actualbudget.com/open-source</a>, See on <a href="https://news.ycombinator.com/item?id=38053982">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      <main>
        <p>You read that right. <a href="https://actualbudget.com/">Actual</a>, a personal finance system I've been working on for over 4 years, is going open-source. That means it will now be <strong>100% free</strong> and <strong>completely open forever</strong>.</p>
<p>Let the forks commence.</p>
<p><em>"Show me the proof,"</em> they said. <a href="https://github.com/actualbudget/actual">Here it is</a>. That's the source code. All of it. In all of it's beautiful, wild and raw mess.</p>
<p>You can locally run the entire app, include the syncing server, in less than a tweet's worth of commands:</p>
<pre><code>git clone https://github.com/actualbudget/actual-server.git
cd actual-server
yarn
yarn start
</code></pre>
<p>Now go to <code>http://localhost:5006</code>. (Read more at <a href="https://github.com/actualbudget/actual-server">actual-server</a>)</p>
<p>We are also moving from Slack to Discord. Join the <a href="https://discord.gg/pRYNYr4W5A">discord</a>! </p>
<h2 id="wait-a-second-what-does-that-mean-for-me">Wait a second... what does that mean for me?</h2>
<p>This is a significant shift and will have implications to all current subscribers. Here's what's going to happen:</p>
<ul>
<li><p>Immediately, signups on <a href="https://actualbudget.com/">actualbudget.com</a> have been turned off.</p>
</li>
<li><p><s>In June, all existing subscriptions will be cancelled. Specific dates coming soon.</s> (we have delayed this until we figure out the right timeline)</p>
</li>
<li><p><s>In June, the existing syncing server will be shut down</s> (we have delayed this until we figure out the right timeline). Instead, you should <a href="https://github.com/actualbudget/actual-server#running">host your own server</a>.</p>
</li>
<li><p>Unfortunately, the mobile apps are going to be deprecated. They should still work completely fine, and if you are on Android you should be able to build it locally and sideload them. Sadly, mobile apps require a <em>lot</em> of maintenance and money to stay in the app stores and now that we are decentralized, it doesn't make sense for us to take this on. The solution here is to eventually build mobile versions of the web apps. Eventually, the mobile apps will no longer be available in the app stores.</p>
</li>
<li><p>It's unclear what will happen with the desktop app. Even though it requires little maintenance code-wise, deployment and code-signing is still a significant burden. For now, the web app is the primary platform until we figure out a solution for this.</p>
</li>
<li><p>Over time, the docs content on the website will be migrated to github and the website will be shut down as well.</p>
</li>
<li><p>Support will go through github issues on the <a href="https://github.com/actualbudget/actual">actual repo</a>. Existing issues from the <a href="https://github.com/actualbudget/releases">releases</a> repo will be migrated over. The <code>help@actualbudget.com</code> email will be turned off.</p>
</li>
<li><p>We are moving from Slack to Discord. <a href="https://discord.gg/3pkUZ54M">Please join</a>! The slack instance will eventually be shut down.</p>
</li>
</ul>
<p>We are moving to letting you <strong>host your own server</strong>. With modern services like <a href="https://fly.io/">fly.io</a>, it's easier than ever to <a href="https://github.com/actualbudget/actual-server#deploying">deploy a server</a>.  We are changing from a centralized service to a decentralized one.</p>
<p>You can easily <strong>transition your data</strong> from the hosted version to the open-source version. Once you've setup your own server, load Actual and point it to your server, and your files show show up as local files. You can select each one and register it to the server for syncing.</p>
<p>See the <a href="https://github.com/actualbudget/actual-server">actual-server</a> project for how to setup your own server.</p>
<p>Some of you are going to disappointed in this. I'm sorry! I'm optimistic that <em>most</em> current users are technical and are actually going to be very excited about this change.</p>
<p>When I started exploring this, I got excited because it enables some really interesting features like an HTTP-based API. The existing API requires the entire app to be loaded. We couldn't offer an HTTP endpoint because we can't read your data. Now that you are hosting your server, you are in control and are free to offer an HTTP API.</p>
<p>You could even hook up your own bank syncing -- <a href="https://plaid.com/">Plaid</a> support a free development plan that covers an individual user. In fact, you'll see Plaid support in the syncing server because I already started building this out.</p>
<p>In the future, the open-source version will provide releases similar to before and will provide easy paths to upgrade. <strong>I'm actively calling people to step up and help!</strong> If you are a developer, please poke around and open PRs for any improvements. There are some initial project ideas in the <a href="https://github.com/actualbudget/actual/blob/master/CONTRIBUTING.md">contributing file</a>. I will continue to work on how to manage the project.</p>
<p>The open-source version of Actual has the following changes:</p>
<ul>
<li><p>The server has been rebuilt to remove the subscription-related workflows.</p>
</li>
<li><p>The app doesn't require an account anymore. On first run, it does ask for a URL to the server you want to use. You can point the app at any server.</p>
</li>
<li><p>If you want, you can skip the option to use a server and use the app completely locally.</p>
</li>
<li><p>Any tracking code has been removed.</p>
</li>
</ul>
<p>Most of the app was left as-is. There is a lot of stuff in there that should be cleaned up, but I wanted to get this out.</p>
<h2 id="what-happened">What happened?</h2>
<p>Building products is hard, building a business is even harder. I told myself that I was going to push through and make it happen no matter what. Even if it took years, I would slowly build my vision. When I stopped working full-time on Actual and started working at Stripe, I told everyone it wasn't going anywhere. And I meant it.</p>
<p>But the fact is this project is way bigger than me. I have to come to accept that. Even I were completely full-time, I need to hire at least 2 other people to properly sustain it. It's time to call it for what it is and open it up as a community project.</p>
<p>There's <em>so much</em> in the code waiting to be utilized. The API now is a self-contained bundle with all the code (compared to before where it was a thin client that connected to a running app). This means it's a full library capable of all the features in the app. Actual is now an open platform for building personal finance products.</p>
<p>By myself, I haven't had enough time to bring it to its full potential. Focusing on one specific thing for a week means 10 other things are left undone. It's not working.</p>
<p>It's currently 1:30 AM and I've been working all night. If I want to launch any features, this is what I have to do. Usually I can quickly prototype a feature, but documenting and launching it takes a ton more time. It's not sustainable. I've given up <em>a lot</em> over the last few years.</p>
<p><strong>I completely underestimated</strong> how much work it takes to build a business. There's so much overhead. I'm always figuring out why a build failed, taxes, how to triage issues, responding to support, designing UIs, responding to Apple's complaints, and more. There's <strong>so much</strong> that goes on behind the scenes. There's no way a single person can possible do this alone, especially as a side project.</p>
<p>One thing I'm really excited about open-source is I no longer have to deal with any of the business or deployment stuff. I can focus on being a project manager.</p>
<p>Last month I was really sick for an entire week. During that time, the syncing server went down twice. I forced myself to sit down and dig into it even though I felt like I was going to throw up. I got it working, but it really made me think about my mental health. I've put a lot of stuff on pause over the last couple years, and I need to find a better balance.</p>
<h3 id="the-cost-of-doing-something-different">The cost of doing something different</h3>
<p>Actual is a <em>very</em> different product. It's not a normal <a href="https://en.wikipedia.org/wiki/Software_as_a_service">SaaS</a> app. It's a local-first app using a fancy technology called CRDTs that syncs changes across devices.</p>
<p>This has a lot of benefits, but one drawback is I can't use off-the-shelf solutions anymore. Hiring and getting help is harder. I'm super proud of being so ambitious, but ultimately doing something so different made it hard to iterate quickly. I can't simply make a quick database schema change. Every feature needs to be rolled out very thoughfully and maintain backwards compatibility.</p>
<p>I'm hopeful that open-source will make this easier; with lots of people involved it offsets the difficulty added. And I'm hopeful there will a lot of people involved because I get asked if I'm going to open-source at least once a month.</p>
<h3 id="now-everybody-can-help">Now everybody can help</h3>
<p>I've tried hiring part-time developers about 7 times. It never worked out because there isn't enough money to fund development. $4/month is insanely cheap. But pricing isn't the only issue: even if I bumped up prices, it just needs a <em>lot</em> more funds. Development is crazy expensive.</p>
<p>I was able to hire for some roles like support but it wasn't enough to balance it out.</p>
<p>How does open-source help with this? Isn't everybody working for free now?</p>
<p>While that's true, I've seen <strong>the magic of open-source</strong> work before. Now everybody is invested in the product, and changes are owned by everybody. We need some structure to move the project along of course, and need to guard maintainers mental health, but open-source has the potential to transform the product.</p>
<p>Please see the <a href="https://github.com/actualbudget/actual/blob/master/CONTRIBUTING.md">contributing file</a> for some initial project ideas. Poke around the code, and join the <a href="https://discord.gg/pRYNYr4W5A">discord</a> to talk about ways you can help! I'm very optimistic that opening this up is going to make the project more healthy and active. </p>
<p>Right now, Actual is up to 810 paid subscribers. I'm proud of that. But it's time to call it for it is. It needs a lot more help, and I'm excited to see how it evolves as an open-source project.</p>
<p>- <a href="https://twitter.com/jlongster">James</a></p>

      </main>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Electroreduction of nitrogen with almost 100% current-to-ammonia efficiency (244 pts)]]></title>
            <link>https://www.nature.com/articles/s41586-022-05108-y</link>
            <guid>38053586</guid>
            <pubDate>Sat, 28 Oct 2023 21:34:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.nature.com/articles/s41586-022-05108-y">https://www.nature.com/articles/s41586-022-05108-y</a>, See on <a href="https://news.ycombinator.com/item?id=38053586">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-track-component="article body">
        
        <article lang="en">
            
            <div>
                <header>
                    <ul data-test="article-identifier">
                        
        <li data-test="article-category">Article</li>
    
    

                        <li><a href="#article-info" data-track="click" data-track-action="publication date" data-track-label="link">Published: <time datetime="2022-07-22">22 July 2022</time></a></li>
                    </ul>

                    
                    <ul data-test="authors-list" data-component-authors-activator="authors-list"><li><a data-test="author-name" data-track="click" data-track-action="open author" data-track-label="link" href="#auth-Manjunath-Chatti-Aff1-Aff2" data-author-popup="auth-Manjunath-Chatti-Aff1-Aff2">Manjunath Chatti</a><sup><a href="#Aff1">1</a>,<a href="#Aff2">2</a></sup>, </li><li><a data-test="author-name" data-track="click" data-track-action="open author" data-track-label="link" href="#auth-Rebecca_Y_-Hodgetts-Aff1-Aff2" data-author-popup="auth-Rebecca_Y_-Hodgetts-Aff1-Aff2">Rebecca Y. Hodgetts</a><span>&nbsp;
            <a href="http://orcid.org/0000-0001-9569-0873"><span>ORCID: </span>orcid.org/0000-0001-9569-0873</a></span><sup><a href="#Aff1">1</a>,<a href="#Aff2">2</a></sup>, </li><li><a data-test="author-name" data-track="click" data-track-action="open author" data-track-label="link" href="#auth-Pavel_V_-Cherepanov-Aff2" data-author-popup="auth-Pavel_V_-Cherepanov-Aff2">Pavel V. Cherepanov</a><sup><a href="#Aff2">2</a></sup>, </li><li><a data-test="author-name" data-track="click" data-track-action="open author" data-track-label="link" href="#auth-Cuong_K_-Nguyen-Aff1-Aff2" data-author-popup="auth-Cuong_K_-Nguyen-Aff1-Aff2">Cuong K. Nguyen</a><sup><a href="#Aff1">1</a>,<a href="#Aff2">2</a></sup>, </li><li><a data-test="author-name" data-track="click" data-track-action="open author" data-track-label="link" href="#auth-Karolina-Matuszek-Aff2" data-author-popup="auth-Karolina-Matuszek-Aff2">Karolina Matuszek</a><sup><a href="#Aff2">2</a></sup>, </li><li><a data-test="author-name" data-track="click" data-track-action="open author" data-track-label="link" href="#auth-Douglas_R_-MacFarlane-Aff1-Aff2" data-author-popup="auth-Douglas_R_-MacFarlane-Aff1-Aff2" data-corresp-id="c1">Douglas R. MacFarlane</a><span>&nbsp;
            <a href="http://orcid.org/0000-0001-5963-9659"><span>ORCID: </span>orcid.org/0000-0001-5963-9659</a></span><sup><a href="#Aff1">1</a>,<a href="#Aff2">2</a></sup> &amp; </li><li aria-label="Show all 8 authors for this article" title="Show all 8 authors for this article">‚Ä¶</li><li><a data-test="author-name" data-track="click" data-track-action="open author" data-track-label="link" href="#auth-Alexandr_N_-Simonov-Aff1-Aff2" data-author-popup="auth-Alexandr_N_-Simonov-Aff1-Aff2" data-corresp-id="c2">Alexandr N. Simonov</a><span>&nbsp;
            <a href="http://orcid.org/0000-0003-3063-6539"><span>ORCID: </span>orcid.org/0000-0003-3063-6539</a></span><sup><a href="#Aff1">1</a>,<a href="#Aff2">2</a></sup>&nbsp;</li></ul>

                    

                    <p data-container-section="info">
                        
    <a data-test="journal-link" href="https://www.nature.com/" data-track="click" data-track-action="journal homepage" data-track-category="article body" data-track-label="link"><i data-test="journal-title">Nature</i></a>

                        <b data-test="journal-volume"><span>volume</span>&nbsp;609</b>,&nbsp;<span>pages </span>722‚Äì727 (<span data-test="article-publication-year">2022</span>)<a href="#citeas" data-track="click" data-track-action="cite this article" data-track-label="link">Cite this article</a>
                    </p>
                    
        <div>
            <ul>
                
                    <li>
                        <p>33k <span>Accesses</span></p>
                    </li>
                
                
                    <li>
                        <p>99 <span>Citations</span></p>
                    </li>
                
                
                    
                        <li>
                            <p>106 <span>Altmetric</span></p>
                        </li>
                    
                
                <li>
                    <p><a href="https://www.nature.com/articles/s41586-022-05108-y/metrics" data-track="click" data-track-action="view metrics" data-track-label="link" rel="nofollow">Metrics <span>details</span></a></p>
                </li>
            </ul>
        </div>
    
                    
                </header>

                
    <div data-component="article-subject-links">
        <h3>Subjects</h3>
        
    </div>

                
    

    

                
            </div>

        <div>
            <div id="Abs1-section" aria-labelledby="Abs1" data-title="Abstract" lang="en"><h2 id="Abs1">Abstract</h2><p>In addition to its use in the fertilizer and chemical industries<sup><a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" aria-label="Reference 1" title="Fowler, D. et al. The global nitrogen cycle in the twenty-first century. Phil. Trans. R. Soc. B 368, 20130164 (2013)." href="https://www.nature.com/articles/s41586-022-05108-y#ref-CR1" id="ref-link-section-d277858230e423">1</a></sup>, ammonia is currently seen as a potential replacement for carbon-based fuels and as a carrier for worldwide transportation of renewable energy<sup><a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" aria-label="Reference 2" title="MacFarlane, D. R. et al. Liquefied sunshine: transforming renewables into fertilizers and energy carriers with electromaterials. Adv. Mater. 32, 1904804 (2020)." href="https://www.nature.com/articles/s41586-022-05108-y#ref-CR2" id="ref-link-section-d277858230e427">2</a></sup>. Implementation of this vision requires transformation of the existing fossil-fuel-based technology for NH<sub>3</sub> production<sup><a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" aria-label="Reference 3" title="MacFarlane, D. R. et al. A roadmap to the ammonia economy. Joule 4, 1186‚Äì1205 (2020)." href="https://www.nature.com/articles/s41586-022-05108-y#ref-CR3" id="ref-link-section-d277858230e433">3</a></sup> to a simpler, scale-flexible technology, such as the electrochemical lithium-mediated nitrogen-reduction reaction<sup><a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" aria-label="Reference 3" title="MacFarlane, D. R. et al. A roadmap to the ammonia economy. Joule 4, 1186‚Äì1205 (2020)." href="https://www.nature.com/articles/s41586-022-05108-y#ref-CR3" id="ref-link-section-d277858230e437">3</a>,<a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" aria-label="Reference 4" title="Tsuneto, A., Kudo, A. &amp; Sakata, T. Efficient electrochemical reduction of N2 to NH3 catalyzed by lithium. Chem. Lett. 22, 851‚Äì854 (1993)." href="https://www.nature.com/articles/s41586-022-05108-y#ref-CR4" id="ref-link-section-d277858230e440">4</a></sup>. This provides a genuine pathway from N<sub>2</sub> to ammonia, but it is currently hampered by limited yield rates and low efficiencies<sup><a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" title="Tsuneto, A., Kudo, A. &amp; Sakata, T. Efficient electrochemical reduction of N2 to NH3 catalyzed by lithium. Chem. Lett. 22, 851‚Äì854 (1993)." href="#ref-CR4" id="ref-link-section-d277858230e447">4</a>,<a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" title="Tsuneto, A., Kudo, A. &amp; Sakata, T. Lithium-mediated electrochemical reduction of high pressure N2 to NH3. J. Electroanal. Chem. 367, 183‚Äì188 (1994)." href="#ref-CR5" id="ref-link-section-d277858230e447_1">5</a>,<a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" title="Andersen, S. Z. et al. A rigorous electrochemical ammonia synthesis protocol with quantitative isotope measurements. Nature 570, 504‚Äì508 (2019)." href="#ref-CR6" id="ref-link-section-d277858230e447_2">6</a>,<a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" title="Lazouski, N., Chung, M., Williams, K., Gala, M. L. &amp; Manthiram, K. Non-aqueous gas diffusion electrodes for rapid ammonia synthesis from nitrogen and water-splitting-derived hydrogen. Nat. Catal. 3, 463‚Äì469 (2020)." href="#ref-CR7" id="ref-link-section-d277858230e447_3">7</a>,<a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" title="Andersen, S. Z. et al. Increasing stability, efficiency, and fundamental understanding of lithium-mediated electrochemical nitrogen reduction. Energy Environ. Sci. 13, 4291‚Äì4300 (2020)." href="#ref-CR8" id="ref-link-section-d277858230e447_4">8</a>,<a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" title="Cherepanov, P. V., Krebsz, M., Hodgetts, R. Y., Simonov, A. N. &amp; MacFarlane, D. R. Understanding the factors determining the faradaic efficiency and rate of the lithium redox-mediated N2 reduction to ammonia. J. Phys. Chem. C 125, 11402‚Äì11410 (2021)." href="#ref-CR9" id="ref-link-section-d277858230e447_5">9</a>,<a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" title="Suryanto, B. H. et al. Nitrogen reduction to ammonia at high efficiency and rates based on a phosphonium proton shuttle. Science 372, 1187‚Äì1191 (2021)." href="#ref-CR10" id="ref-link-section-d277858230e447_6">10</a>,<a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" title="Li, K. et al. Increasing current density of Li-mediated ammonia synthesis with high surface area copper electrodes. ACS Energy Lett. 7, 36‚Äì41 (2022)." href="#ref-CR11" id="ref-link-section-d277858230e447_7">11</a>,<a data-track="click" data-track-action="reference anchor" data-track-label="link" data-test="citation-ref" aria-label="Reference 12" title="Li, K. et al. Enhancement of lithium-mediated ammonia synthesis by addition of oxygen. Science 374, 1593‚Äì1597 (2021)." href="https://www.nature.com/articles/s41586-022-05108-y#ref-CR12" id="ref-link-section-d277858230e450">12</a></sup>. Here we investigate the role of the electrolyte in this reaction and present a high-efficiency, robust process that is enabled by compact ionic layering in the electrode‚Äìelectrolyte interface region. The interface is generated by a high-concentration imide-based lithium-salt electrolyte, providing stabilized ammonia yield rates of 150‚Äâ¬±‚Äâ20‚Äânmol‚Äâs<sup>‚àí1</sup>‚Äâcm<sup>‚àí2</sup> and a current-to-ammonia efficiency that is close to 100%. The ionic assembly formed at the electrode surface suppresses the electrolyte decomposition and supports stable N<sub>2</sub> reduction. Our study highlights the interrelation between the performance of the lithium-mediated nitrogen-reduction reaction and the physicochemical properties of the electrode‚Äìelectrolyte interface. We anticipate that these findings will guide the development of a robust, high-performance process for sustainable ammonia production.</p></div>
            

                
                    
                
            
                
                
                
                
                    <div>
                        <p>This is a preview of subscription content, <a href="https://wayf.springernature.com/?redirect_uri=https%3A%2F%2Fwww.nature.com%2Farticles%2Fs41586-022-05108-y" data-track="click" data-track-action="institution access preview subscription" data-track-label="link">access via your institution</a></p>
                    </div>
                    
     
    
        <div id="relevant-content-section">
                <h2 id="relevant-content-header">Relevant articles</h2>
                <div id="relevant-content-content">
                    <p>Open Access articles citing this article.</p>
                    <ul id="relevant-content-list">
                        
                            <li id="relevant-content-item-3">
                                <h3>
                                    <a data-track="click" data-track-category="article body" data-track-action="non-entitled onward journey" data-track-label="link:Laser-induced nitrogen fixation" href="https://doi.org/10.1038/s41467-023-41441-0" id="title-link-3">
                                        Laser-induced nitrogen fixation
                                    </a>
                                </h3>

                                
                                    <ul data-test="author-list">
                                        <li><span>Huize Wang</span></li><li><span>, </span><span>Ranga Rohit Seemakurthi</span></li><li><span>&nbsp;‚Ä¶&nbsp;</span><span>Markus Antonietti</span></li>
                                    </ul>
                                

                                <p>
                                    <span><i>Nature Communications</i></span>
                                    <span><span>Open Access</span></span>
                                    <span>13 September 2023</span>
                                </p>
                            </li>
                        
                    </ul>
                </div>
            </div>
    

                
                

                <h2 id="access-options">Access options</h2>

                


                
                
                
                

                
                

                
    
    <section><div><p>Access Nature and 54 other Nature Portfolio journals</p><p>Get Nature+, our best-value online-access subscription</p><div><p id="nature-plus-subscription-price"><span>24,99&nbsp;‚Ç¨<span> /&nbsp;30&nbsp;days</span></span></p><p>cancel any time</p></div></div><div><p>Subscribe to this journal</p><p>Receive 51 print issues and online access</p><p>We are sorry, but there is no personal subscription option available for your country.</p></div><div><p>Rent or buy this article</p><p>Prices vary by article type</p><p id="readcube-price"><span>from</span>$1.95</p><p><span>to</span>$39.95</p></div><p>Prices may be subject to local taxes which are calculated during checkout</p></section>
  

    
    
        <nav>
    <h3>Additional access options:</h3>
    <ul>
        <li>
            <a href="https://idp.nature.com/authorize/natureuser?client_id=grover&amp;redirect_uri=https%3A%2F%2Fwww.nature.com%2Farticles%2Fs41586-022-05108-y" data-track="click" data-track-action="login" data-track-category="article body" data-track-label="link">Log in</a>
        </li>
        
        <li>
            <a href="https://www.springernature.com/gp/librarians/licensing/license-options" data-track="click" data-track-action="learn-subscription" data-track-category="article body" data-track-label="link">Learn about institutional subscriptions</a>
        </li>
        <li>
            <a href="https://support.nature.com/en/support/home" data-track="click" data-track-action="read our faqs" data-track-category="article body" data-track-label="link">Read our FAQs</a>
        </li>
        <li>
            <a href="https://www.springernature.com/gp/contact" data-track="click" data-track-action="contact customer support" data-track-category="article body" data-track-label="link">Contact customer support</a>
        </li>
    </ul>
</nav>
    

                
            

            <div>
            <div id="data-availability-section" data-title="Data availability"><h2 id="data-availability">Data availability</h2><p>All data are available in the paper and its&nbsp;<a data-track="click" data-track-label="link" data-track-action="supplementary material anchor" href="https://www.nature.com/articles/s41586-022-05108-y#MOESM1">Supplementary Information</a>. Source data that support the findings of this study are available from the corresponding authors upon reasonable request.</p></div><div id="MagazineFulltextArticleBodySuffix" aria-labelledby="Bib1" data-title="References"><h2 id="Bib1">References</h2><div data-container-section="references" id="Bib1-content"><ol data-track-component="outbound reference"><li data-counter="1."><p id="ref-CR1">Fowler, D. et al. The global nitrogen cycle in the twenty-first century. <i>Phil. Trans. R. Soc. B</i> <b>368</b>, 20130164 (2013).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1098/rstb.2013.0164" data-track-action="article reference" href="https://doi.org/10.1098%2Frstb.2013.0164" aria-label="Article reference 1" data-doi="10.1098/rstb.2013.0164">Article</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 1" href="http://scholar.google.com/scholar_lookup?&amp;title=The%20global%20nitrogen%20cycle%20in%20the%20twenty-first%20century&amp;journal=Phil.%20Trans.%20R.%20Soc.%20B&amp;doi=10.1098%2Frstb.2013.0164&amp;volume=368&amp;publication_year=2013&amp;author=Fowler%2CD">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="2."><p id="ref-CR2">MacFarlane, D. R. et al. Liquefied sunshine: transforming renewables into fertilizers and energy carriers with electromaterials. <i>Adv. Mater.</i> <b>32</b>, 1904804 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1002/adma.201904804" data-track-action="article reference" href="https://doi.org/10.1002%2Fadma.201904804" aria-label="Article reference 2" data-doi="10.1002/adma.201904804">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC1MXit1amt7bN" aria-label="CAS reference 2">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 2" href="http://scholar.google.com/scholar_lookup?&amp;title=Liquefied%20sunshine%3A%20transforming%20renewables%20into%20fertilizers%20and%20energy%20carriers%20with%20electromaterials&amp;journal=Adv.%20Mater.&amp;doi=10.1002%2Fadma.201904804&amp;volume=32&amp;publication_year=2020&amp;author=MacFarlane%2CDR">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="3."><p id="ref-CR3">MacFarlane, D. R. et al. A roadmap to the ammonia economy. <i>Joule</i> <b>4</b>, 1186‚Äì1205 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1016/j.joule.2020.04.004" data-track-action="article reference" href="https://doi.org/10.1016%2Fj.joule.2020.04.004" aria-label="Article reference 3" data-doi="10.1016/j.joule.2020.04.004">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3cXht1KjtLnL" aria-label="CAS reference 3">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 3" href="http://scholar.google.com/scholar_lookup?&amp;title=A%20roadmap%20to%20the%20ammonia%20economy&amp;journal=Joule&amp;doi=10.1016%2Fj.joule.2020.04.004&amp;volume=4&amp;pages=1186-1205&amp;publication_year=2020&amp;author=MacFarlane%2CDR">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="4."><p id="ref-CR4">Tsuneto, A., Kudo, A. &amp; Sakata, T. Efficient electrochemical reduction of N<sub>2</sub> to NH<sub>3</sub> catalyzed by lithium. <i>Chem. Lett.</i> <b>22</b>, 851‚Äì854 (1993).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1246/cl.1993.851" data-track-action="article reference" href="https://doi.org/10.1246%2Fcl.1993.851" aria-label="Article reference 4" data-doi="10.1246/cl.1993.851">Article</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 4" href="http://scholar.google.com/scholar_lookup?&amp;title=Efficient%20electrochemical%20reduction%20of%20N2%20to%20NH3%20catalyzed%20by%20lithium&amp;journal=Chem.%20Lett.&amp;doi=10.1246%2Fcl.1993.851&amp;volume=22&amp;pages=851-854&amp;publication_year=1993&amp;author=Tsuneto%2CA&amp;author=Kudo%2CA&amp;author=Sakata%2CT">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="5."><p id="ref-CR5">Tsuneto, A., Kudo, A. &amp; Sakata, T. Lithium-mediated electrochemical reduction of high pressure N<sub>2</sub> to NH<sub>3</sub>. <i>J. Electroanal. Chem.</i> <b>367</b>, 183‚Äì188 (1994).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1016/0022-0728(93)03025-K" data-track-action="article reference" href="https://doi.org/10.1016%2F0022-0728%2893%2903025-K" aria-label="Article reference 5" data-doi="10.1016/0022-0728(93)03025-K">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DyaK2cXjtlelsLc%3D" aria-label="CAS reference 5">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 5" href="http://scholar.google.com/scholar_lookup?&amp;title=Lithium-mediated%20electrochemical%20reduction%20of%20high%20pressure%20N2%20to%20NH3&amp;journal=J.%20Electroanal.%20Chem.&amp;doi=10.1016%2F0022-0728%2893%2903025-K&amp;volume=367&amp;pages=183-188&amp;publication_year=1994&amp;author=Tsuneto%2CA&amp;author=Kudo%2CA&amp;author=Sakata%2CT">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="6."><p id="ref-CR6">Andersen, S. Z. et al. A rigorous electrochemical ammonia synthesis protocol with quantitative isotope measurements. <i>Nature</i> <b>570</b>, 504‚Äì508 (2019).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1038/s41586-019-1260-x" data-track-action="article reference" href="https://doi.org/10.1038%2Fs41586-019-1260-x" aria-label="Article reference 6" data-doi="10.1038/s41586-019-1260-x">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2019Natur.570..504A" aria-label="ADS reference 6">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC1MXht1aqtbjP" aria-label="CAS reference 6">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 6" href="http://scholar.google.com/scholar_lookup?&amp;title=A%20rigorous%20electrochemical%20ammonia%20synthesis%20protocol%20with%20quantitative%20isotope%20measurements&amp;journal=Nature&amp;doi=10.1038%2Fs41586-019-1260-x&amp;volume=570&amp;pages=504-508&amp;publication_year=2019&amp;author=Andersen%2CSZ">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="7."><p id="ref-CR7">Lazouski, N., Chung, M., Williams, K., Gala, M. L. &amp; Manthiram, K. Non-aqueous gas diffusion electrodes for rapid ammonia synthesis from nitrogen and water-splitting-derived hydrogen. <i>Nat. Catal.</i> <b>3</b>, 463‚Äì469 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1038/s41929-020-0455-8" data-track-action="article reference" href="https://doi.org/10.1038%2Fs41929-020-0455-8" aria-label="Article reference 7" data-doi="10.1038/s41929-020-0455-8">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3cXosVyrtbs%3D" aria-label="CAS reference 7">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 7" href="http://scholar.google.com/scholar_lookup?&amp;title=Non-aqueous%20gas%20diffusion%20electrodes%20for%20rapid%20ammonia%20synthesis%20from%20nitrogen%20and%20water-splitting-derived%20hydrogen&amp;journal=Nat.%20Catal.&amp;doi=10.1038%2Fs41929-020-0455-8&amp;volume=3&amp;pages=463-469&amp;publication_year=2020&amp;author=Lazouski%2CN&amp;author=Chung%2CM&amp;author=Williams%2CK&amp;author=Gala%2CML&amp;author=Manthiram%2CK">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="8."><p id="ref-CR8">Andersen, S. Z. et al. Increasing stability, efficiency, and fundamental understanding of lithium-mediated electrochemical nitrogen reduction. <i>Energy Environ. Sci.</i> <b>13</b>, 4291‚Äì4300 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1039/D0EE02246B" data-track-action="article reference" href="https://doi.org/10.1039%2FD0EE02246B" aria-label="Article reference 8" data-doi="10.1039/D0EE02246B">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3cXhvFOgs77J" aria-label="CAS reference 8">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 8" href="http://scholar.google.com/scholar_lookup?&amp;title=Increasing%20stability%2C%20efficiency%2C%20and%20fundamental%20understanding%20of%20lithium-mediated%20electrochemical%20nitrogen%20reduction&amp;journal=Energy%20Environ.%20Sci.&amp;doi=10.1039%2FD0EE02246B&amp;volume=13&amp;pages=4291-4300&amp;publication_year=2020&amp;author=Andersen%2CSZ">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="9."><p id="ref-CR9">Cherepanov, P. V., Krebsz, M., Hodgetts, R. Y., Simonov, A. N. &amp; MacFarlane, D. R. Understanding the factors determining the faradaic efficiency and rate of the lithium redox-mediated N<sub>2</sub> reduction to ammonia. <i>J. Phys. Chem. C</i> <b>125</b>, 11402‚Äì11410 (2021).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1021/acs.jpcc.1c02494" data-track-action="article reference" href="https://doi.org/10.1021%2Facs.jpcc.1c02494" aria-label="Article reference 9" data-doi="10.1021/acs.jpcc.1c02494">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3MXhtFejt77I" aria-label="CAS reference 9">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 9" href="http://scholar.google.com/scholar_lookup?&amp;title=Understanding%20the%20factors%20determining%20the%20faradaic%20efficiency%20and%20rate%20of%20the%20lithium%20redox-mediated%20N2%20reduction%20to%20ammonia&amp;journal=J.%20Phys.%20Chem.%20C&amp;doi=10.1021%2Facs.jpcc.1c02494&amp;volume=125&amp;pages=11402-11410&amp;publication_year=2021&amp;author=Cherepanov%2CPV&amp;author=Krebsz%2CM&amp;author=Hodgetts%2CRY&amp;author=Simonov%2CAN&amp;author=MacFarlane%2CDR">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="10."><p id="ref-CR10">Suryanto, B. H. et al. Nitrogen reduction to ammonia at high efficiency and rates based on a phosphonium proton shuttle. <i>Science</i> <b>372</b>, 1187‚Äì1191 (2021).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1126/science.abg2371" data-track-action="article reference" href="https://doi.org/10.1126%2Fscience.abg2371" aria-label="Article reference 10" data-doi="10.1126/science.abg2371">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2021Sci...372.1187S" aria-label="ADS reference 10">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3MXhtlamurbI" aria-label="CAS reference 10">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 10" href="http://scholar.google.com/scholar_lookup?&amp;title=Nitrogen%20reduction%20to%20ammonia%20at%20high%20efficiency%20and%20rates%20based%20on%20a%20phosphonium%20proton%20shuttle&amp;journal=Science&amp;doi=10.1126%2Fscience.abg2371&amp;volume=372&amp;pages=1187-1191&amp;publication_year=2021&amp;author=Suryanto%2CBH">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="11."><p id="ref-CR11">Li, K. et al. Increasing current density of Li-mediated ammonia synthesis with high surface area copper electrodes. <i>ACS Energy Lett.</i> <b>7</b>, 36‚Äì41 (2022).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1021/acsenergylett.1c02104" data-track-action="article reference" href="https://doi.org/10.1021%2Facsenergylett.1c02104" aria-label="Article reference 11" data-doi="10.1021/acsenergylett.1c02104">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2022WiEnS...7...37L" aria-label="ADS reference 11">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3MXisFGjtbbK" aria-label="CAS reference 11">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 11" href="http://scholar.google.com/scholar_lookup?&amp;title=Increasing%20current%20density%20of%20Li-mediated%20ammonia%20synthesis%20with%20high%20surface%20area%20copper%20electrodes&amp;journal=ACS%20Energy%20Lett.&amp;doi=10.1021%2Facsenergylett.1c02104&amp;volume=7&amp;pages=36-41&amp;publication_year=2022&amp;author=Li%2CK">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="12."><p id="ref-CR12">Li, K. et al. Enhancement of lithium-mediated ammonia synthesis by addition of oxygen. <i>Science</i> <b>374</b>, 1593‚Äì1597 (2021).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1126/science.abl4300" data-track-action="article reference" href="https://doi.org/10.1126%2Fscience.abl4300" aria-label="Article reference 12" data-doi="10.1126/science.abl4300">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2021Sci...374.1593L" aria-label="ADS reference 12">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB38Xhs1Krur4%3D" aria-label="CAS reference 12">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 12" href="http://scholar.google.com/scholar_lookup?&amp;title=Enhancement%20of%20lithium-mediated%20ammonia%20synthesis%20by%20addition%20of%20oxygen&amp;journal=Science&amp;doi=10.1126%2Fscience.abl4300&amp;volume=374&amp;pages=1593-1597&amp;publication_year=2021&amp;author=Li%2CK">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="13."><p id="ref-CR13">Du, H.-L. et al. Is molybdenum disulfide modified with molybdenum metal catalytically active for the nitrogen reduction reaction? <i>J. Electrochem. Soc.</i> <b>167</b>, 146507 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1149/1945-7111/abc1a8" data-track-action="article reference" href="https://doi.org/10.1149%2F1945-7111%2Fabc1a8" aria-label="Article reference 13" data-doi="10.1149/1945-7111/abc1a8">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2020JElS..167n6507D" aria-label="ADS reference 13">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3cXisFKktLbF" aria-label="CAS reference 13">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 13" href="http://scholar.google.com/scholar_lookup?&amp;title=Is%20molybdenum%20disulfide%20modified%20with%20molybdenum%20metal%20catalytically%20active%20for%20the%20nitrogen%20reduction%20reaction%3F&amp;journal=J.%20Electrochem.%20Soc.&amp;doi=10.1149%2F1945-7111%2Fabc1a8&amp;volume=167&amp;publication_year=2020&amp;author=Du%2CH-L">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="14."><p id="ref-CR14">Choi, J. et al. Identification and elimination of false positives in electrochemical nitrogen reduction studies. <i>Nat. Commun.</i> <b>11</b>, 5546 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1038/s41467-020-19130-z" data-track-action="article reference" href="https://doi.org/10.1038%2Fs41467-020-19130-z" aria-label="Article reference 14" data-doi="10.1038/s41467-020-19130-z">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2020NatCo..11.5546C" aria-label="ADS reference 14">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3cXit1OjtbnK" aria-label="CAS reference 14">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 14" href="http://scholar.google.com/scholar_lookup?&amp;title=Identification%20and%20elimination%20of%20false%20positives%20in%20electrochemical%20nitrogen%20reduction%20studies&amp;journal=Nat.%20Commun.&amp;doi=10.1038%2Fs41467-020-19130-z&amp;volume=11&amp;publication_year=2020&amp;author=Choi%2CJ">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="15."><p id="ref-CR15">Choi, J. et al. Reassessment of the catalytic activity of bismuth for aqueous nitrogen electroreduction. <i>Nat. Catal.</i> <b>5</b>, 382‚Äì384 (2022).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1038/s41929-022-00785-4" data-track-action="article reference" href="https://doi.org/10.1038%2Fs41929-022-00785-4" aria-label="Article reference 15" data-doi="10.1038/s41929-022-00785-4">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB38XhsFCls7nF" aria-label="CAS reference 15">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 15" href="http://scholar.google.com/scholar_lookup?&amp;title=Reassessment%20of%20the%20catalytic%20activity%20of%20bismuth%20for%20aqueous%20nitrogen%20electroreduction&amp;journal=Nat.%20Catal.&amp;doi=10.1038%2Fs41929-022-00785-4&amp;volume=5&amp;pages=382-384&amp;publication_year=2022&amp;author=Choi%2CJ">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="16."><p id="ref-CR16">Lazouski, N., Schiffer, Z. J., Williams, K. &amp; Manthiram, K. Understanding continuous lithium-mediated electrochemical nitrogen reduction. <i>Joule</i> <b>3</b>, 1127‚Äì1139 (2019).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1016/j.joule.2019.02.003" data-track-action="article reference" href="https://doi.org/10.1016%2Fj.joule.2019.02.003" aria-label="Article reference 16" data-doi="10.1016/j.joule.2019.02.003">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC1MXnvVKnsb0%3D" aria-label="CAS reference 16">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 16" href="http://scholar.google.com/scholar_lookup?&amp;title=Understanding%20continuous%20lithium-mediated%20electrochemical%20nitrogen%20reduction&amp;journal=Joule&amp;doi=10.1016%2Fj.joule.2019.02.003&amp;volume=3&amp;pages=1127-1139&amp;publication_year=2019&amp;author=Lazouski%2CN&amp;author=Schiffer%2CZJ&amp;author=Williams%2CK&amp;author=Manthiram%2CK">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="17."><p id="ref-CR17">Gao, L.-F. et al. Domino effect: gold electrocatalyzing lithium reduction to accelerate nitrogen fixation. <i>Angew. Chem. Int. Ed.</i> <b>60</b>, 5257‚Äì5261 (2021).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1002/anie.202015496" data-track-action="article reference" href="https://doi.org/10.1002%2Fanie.202015496" aria-label="Article reference 17" data-doi="10.1002/anie.202015496">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3MXhvVSlu7k%3D" aria-label="CAS reference 17">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 17" href="http://scholar.google.com/scholar_lookup?&amp;title=Domino%20effect%3A%20gold%20electrocatalyzing%20lithium%20reduction%20to%20accelerate%20nitrogen%20fixation&amp;journal=Angew.%20Chem.%20Int.%20Ed.&amp;doi=10.1002%2Fanie.202015496&amp;volume=60&amp;pages=5257-5261&amp;publication_year=2021&amp;author=Gao%2CL-F">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="18."><p id="ref-CR18">Sonoki, H., Matsui, M. &amp; Imanishi, N. Effect of anion species in early stage of SEI formation process. <i>J. Electrochem. Soc.</i> <b>166</b>, A3593‚ÄìA3598 (2019).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1149/2.0191915jes" data-track-action="article reference" href="https://doi.org/10.1149%2F2.0191915jes" aria-label="Article reference 18" data-doi="10.1149/2.0191915jes">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC1MXitlelsLjP" aria-label="CAS reference 18">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 18" href="http://scholar.google.com/scholar_lookup?&amp;title=Effect%20of%20anion%20species%20in%20early%20stage%20of%20SEI%20formation%20process&amp;journal=J.%20Electrochem.%20Soc.&amp;doi=10.1149%2F2.0191915jes&amp;volume=166&amp;pages=A3593-A3598&amp;publication_year=2019&amp;author=Sonoki%2CH&amp;author=Matsui%2CM&amp;author=Imanishi%2CN">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="19."><p id="ref-CR19">Shadike, Z. et al. Identification of LiH and nanocrystalline LiF in the solid‚Äìelectrolyte interphase of lithium metal anodes. <i>Nat. Nanotechnol.</i> <b>16</b>, 549‚Äì554 (2021).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1038/s41565-020-00845-5" data-track-action="article reference" href="https://doi.org/10.1038%2Fs41565-020-00845-5" aria-label="Article reference 19" data-doi="10.1038/s41565-020-00845-5">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2021NatNa..16..549S" aria-label="ADS reference 19">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3MXis12iurk%3D" aria-label="CAS reference 19">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 19" href="http://scholar.google.com/scholar_lookup?&amp;title=Identification%20of%20LiH%20and%20nanocrystalline%20LiF%20in%20the%20solid%E2%80%93electrolyte%20interphase%20of%20lithium%20metal%20anodes&amp;journal=Nat.%20Nanotechnol.&amp;doi=10.1038%2Fs41565-020-00845-5&amp;volume=16&amp;pages=549-554&amp;publication_year=2021&amp;author=Shadike%2CZ">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="20."><p id="ref-CR20">Wang, L., Uosaki, K. &amp; Noguchi, H. Effect of electrolyte concentration on the solvation structure of gold/LiTFSI‚ÄìDMSO solution interface. <i>J. Phys. Chem. C</i> <b>124</b>, 12381‚Äì12389 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1021/acs.jpcc.0c00827" data-track-action="article reference" href="https://doi.org/10.1021%2Facs.jpcc.0c00827" aria-label="Article reference 20" data-doi="10.1021/acs.jpcc.0c00827">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3cXpt1Oltbw%3D" aria-label="CAS reference 20">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 20" href="http://scholar.google.com/scholar_lookup?&amp;title=Effect%20of%20electrolyte%20concentration%20on%20the%20solvation%20structure%20of%20gold%2FLiTFSI%E2%80%93DMSO%20solution%20interface&amp;journal=J.%20Phys.%20Chem.%20C&amp;doi=10.1021%2Facs.jpcc.0c00827&amp;volume=124&amp;pages=12381-12389&amp;publication_year=2020&amp;author=Wang%2CL&amp;author=Uosaki%2CK&amp;author=Noguchi%2CH">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="21."><p id="ref-CR21">Zhang, W., Zhuang, H. L., Fan, L., Gao, L. &amp; Lu, Y. A ‚Äúcation-anion regulation‚Äù synergistic anode host for dendrite-free lithium metal batteries. <i>Sci. Adv.</i> <b>4</b>, eaar4410 (2018).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1126/sciadv.aar4410" data-track-action="article reference" href="https://doi.org/10.1126%2Fsciadv.aar4410" aria-label="Article reference 21" data-doi="10.1126/sciadv.aar4410">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2018SciA....4.4410Z" aria-label="ADS reference 21">ADS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 21" href="http://scholar.google.com/scholar_lookup?&amp;title=A%20%E2%80%9Ccation-anion%20regulation%E2%80%9D%20synergistic%20anode%20host%20for%20dendrite-free%20lithium%20metal%20batteries&amp;journal=Sci.%20Adv.&amp;doi=10.1126%2Fsciadv.aar4410&amp;volume=4&amp;publication_year=2018&amp;author=Zhang%2CW&amp;author=Zhuang%2CHL&amp;author=Fan%2CL&amp;author=Gao%2CL&amp;author=Lu%2CY">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="22."><p id="ref-CR22">Tong, J. et al. Insights into the solvation and dynamic behaviors of a lithium salt in organic- and ionic liquid-based electrolytes. <i>Phys. Chem. Chem. Phys.</i> <b>21</b>, 19216‚Äì19225 (2019).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1039/C9CP01848D" data-track-action="article reference" href="https://doi.org/10.1039%2FC9CP01848D" aria-label="Article reference 22" data-doi="10.1039/C9CP01848D">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC1MXhs1alu77P" aria-label="CAS reference 22">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 22" href="http://scholar.google.com/scholar_lookup?&amp;title=Insights%20into%20the%20solvation%20and%20dynamic%20behaviors%20of%20a%20lithium%20salt%20in%20organic-%20and%20ionic%20liquid-based%20electrolytes&amp;journal=Phys.%20Chem.%20Chem.%20Phys.&amp;doi=10.1039%2FC9CP01848D&amp;volume=21&amp;pages=19216-19225&amp;publication_year=2019&amp;author=Tong%2CJ">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="23."><p id="ref-CR23">Younesi, R., Veith, G. M., Johansson, P., Edstr√∂m, K. &amp; Vegge, T. Lithium salts for advanced lithium batteries: Li‚Äìmetal, Li‚ÄìO<sub>2</sub>, and Li‚ÄìS. <i>Energy Environ. Sci.</i> <b>8</b>, 1905‚Äì1922 (2015).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1039/C5EE01215E" data-track-action="article reference" href="https://doi.org/10.1039%2FC5EE01215E" aria-label="Article reference 23" data-doi="10.1039/C5EE01215E">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC2MXpt1Ohu7c%3D" aria-label="CAS reference 23">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 23" href="http://scholar.google.com/scholar_lookup?&amp;title=Lithium%20salts%20for%20advanced%20lithium%20batteries%3A%20Li%E2%80%93metal%2C%20Li%E2%80%93O2%2C%20and%20Li%E2%80%93S&amp;journal=Energy%20Environ.%20Sci.&amp;doi=10.1039%2FC5EE01215E&amp;volume=8&amp;pages=1905-1922&amp;publication_year=2015&amp;author=Younesi%2CR&amp;author=Veith%2CGM&amp;author=Johansson%2CP&amp;author=Edstr%C3%B6m%2CK&amp;author=Vegge%2CT">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="24."><p id="ref-CR24">Xue, W. et al. Ultra-high-voltage Ni-rich layered cathodes in practical Li metal batteries enabled by a sulfonamide-based electrolyte. <i>Nat. Energy</i> <b>6</b>, 495‚Äì505 (2021).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1038/s41560-021-00792-y" data-track-action="article reference" href="https://doi.org/10.1038%2Fs41560-021-00792-y" aria-label="Article reference 24" data-doi="10.1038/s41560-021-00792-y">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2021NatEn...6..495X" aria-label="ADS reference 24">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3MXosFertr4%3D" aria-label="CAS reference 24">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 24" href="http://scholar.google.com/scholar_lookup?&amp;title=Ultra-high-voltage%20Ni-rich%20layered%20cathodes%20in%20practical%20Li%20metal%20batteries%20enabled%20by%20a%20sulfonamide-based%20electrolyte&amp;journal=Nat.%20Energy&amp;doi=10.1038%2Fs41560-021-00792-y&amp;volume=6&amp;pages=495-505&amp;publication_year=2021&amp;author=Xue%2CW">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="25."><p id="ref-CR25">Qian, J. et al. High rate and stable cycling of lithium metal anode. <i>Nat. Commun.</i> <b>6</b>, 6362 (2015).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1038/ncomms7362" data-track-action="article reference" href="https://doi.org/10.1038%2Fncomms7362" aria-label="Article reference 25" data-doi="10.1038/ncomms7362">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2015NatCo...6.6362Q" aria-label="ADS reference 25">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC2MXhtF2itrrI" aria-label="CAS reference 25">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 25" href="http://scholar.google.com/scholar_lookup?&amp;title=High%20rate%20and%20stable%20cycling%20of%20lithium%20metal%20anode&amp;journal=Nat.%20Commun.&amp;doi=10.1038%2Fncomms7362&amp;volume=6&amp;publication_year=2015&amp;author=Qian%2CJ">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="26."><p id="ref-CR26">Horwitz, G., Rodr√≠guez, C., Factorovich, M. &amp; Corti, H. R. Maximum electrical conductivity of associated lithium salts in solvents for lithium‚Äìair batteries. <i>J. Phys. Chem. C</i> <b>123</b>, 12081‚Äì12087 (2019).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1021/acs.jpcc.9b00864" data-track-action="article reference" href="https://doi.org/10.1021%2Facs.jpcc.9b00864" aria-label="Article reference 26" data-doi="10.1021/acs.jpcc.9b00864">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC1MXot1yjtrw%3D" aria-label="CAS reference 26">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 26" href="http://scholar.google.com/scholar_lookup?&amp;title=Maximum%20electrical%20conductivity%20of%20associated%20lithium%20salts%20in%20solvents%20for%20lithium%E2%80%93air%20batteries&amp;journal=J.%20Phys.%20Chem.%20C&amp;doi=10.1021%2Facs.jpcc.9b00864&amp;volume=123&amp;pages=12081-12087&amp;publication_year=2019&amp;author=Horwitz%2CG&amp;author=Rodr%C3%ADguez%2CC&amp;author=Factorovich%2CM&amp;author=Corti%2CHR">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="27."><p id="ref-CR27">Hodgetts, R. Y. et al. Refining universal procedures for ammonium quantification via rapid <sup>1</sup>H NMR analysis for dinitrogen reduction studies. <i>ACS Energy Lett.</i> <b>5</b>, 736‚Äì741 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1021/acsenergylett.9b02812" data-track-action="article reference" href="https://doi.org/10.1021%2Facsenergylett.9b02812" aria-label="Article reference 27" data-doi="10.1021/acsenergylett.9b02812">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3cXitFamsr0%3D" aria-label="CAS reference 27">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 27" href="http://scholar.google.com/scholar_lookup?&amp;title=Refining%20universal%20procedures%20for%20ammonium%20quantification%20via%20rapid%201H%20NMR%20analysis%20for%20dinitrogen%20reduction%20studies&amp;journal=ACS%20Energy%20Lett.&amp;doi=10.1021%2Facsenergylett.9b02812&amp;volume=5&amp;pages=736-741&amp;publication_year=2020&amp;author=Hodgetts%2CRY">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="28."><p id="ref-CR28">Xu, C. et al. Interface layer formation in solid polymer electrolyte lithium batteries: an XPS study. <i>J. Mater. Chem. A</i> <b>2</b>, 7256‚Äì7264 (2014).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1039/C4TA00214H" data-track-action="article reference" href="https://doi.org/10.1039%2FC4TA00214H" aria-label="Article reference 28" data-doi="10.1039/C4TA00214H">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC2cXmslGrs70%3D" aria-label="CAS reference 28">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 28" href="http://scholar.google.com/scholar_lookup?&amp;title=Interface%20layer%20formation%20in%20solid%20polymer%20electrolyte%20lithium%20batteries%3A%20an%20XPS%20study&amp;journal=J.%20Mater.%20Chem.%20A&amp;doi=10.1039%2FC4TA00214H&amp;volume=2&amp;pages=7256-7264&amp;publication_year=2014&amp;author=Xu%2CC">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="29."><p id="ref-CR29">Takeda, Y., Yamamoto, O. &amp; Imanishi, N. Lithium dendrite formation on a lithium metal anode from liquid, polymer and solid electrolytes. <i>Electrochemistry</i> <b>84</b>, 210‚Äì218 (2016).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.5796/electrochemistry.84.210" data-track-action="article reference" href="https://doi.org/10.5796%2Felectrochemistry.84.210" aria-label="Article reference 29" data-doi="10.5796/electrochemistry.84.210">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BC28XhsVKlt7nK" aria-label="CAS reference 29">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 29" href="http://scholar.google.com/scholar_lookup?&amp;title=Lithium%20dendrite%20formation%20on%20a%20lithium%20metal%20anode%20from%20liquid%2C%20polymer%20and%20solid%20electrolytes&amp;journal=Electrochemistry&amp;doi=10.5796%2Felectrochemistry.84.210&amp;volume=84&amp;pages=210-218&amp;publication_year=2016&amp;author=Takeda%2CY&amp;author=Yamamoto%2CO&amp;author=Imanishi%2CN">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="30."><p id="ref-CR30">Rakov, D. A. et al. Engineering high-energy-density sodium battery anodes for improved cycling with superconcentrated ionic-liquid electrolytes. <i>Nat. Mater.</i> <b>19</b>, 1096‚Äì1101 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1038/s41563-020-0673-0" data-track-action="article reference" href="https://doi.org/10.1038%2Fs41563-020-0673-0" aria-label="Article reference 30" data-doi="10.1038/s41563-020-0673-0">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="ads reference" href="http://adsabs.harvard.edu/cgi-bin/nph-data_query?link_type=ABSTRACT&amp;bibcode=2020NatMa..19.1096R" aria-label="ADS reference 30">ADS</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3cXosVyrtbc%3D" aria-label="CAS reference 30">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 30" href="http://scholar.google.com/scholar_lookup?&amp;title=Engineering%20high-energy-density%20sodium%20battery%20anodes%20for%20improved%20cycling%20with%20superconcentrated%20ionic-liquid%20electrolytes&amp;journal=Nat.%20Mater.&amp;doi=10.1038%2Fs41563-020-0673-0&amp;volume=19&amp;pages=1096-1101&amp;publication_year=2020&amp;author=Rakov%2CDA">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="31."><p id="ref-CR31">Bard, A. J. &amp; Faulkner, L. R. in <i>Electrochemical Methods: Fundamentals and Applications</i> 2nd edn, Ch. 13 (John Wiley &amp; Sons, 2001).</p></li><li data-counter="32."><p id="ref-CR32">Nilsson, V., Bernin, D., Brandell, D., Edstr√∂m, K. &amp; Johansson, P. Interactions and transport in highly concentrated LiTFSI-based electrolytes. <i>ChemPhysChem</i> <b>21</b>, 1166‚Äì1176 (2020).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1002/cphc.202000153" data-track-action="article reference" href="https://doi.org/10.1002%2Fcphc.202000153" aria-label="Article reference 32" data-doi="10.1002/cphc.202000153">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3cXoslyhu78%3D" aria-label="CAS reference 32">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 32" href="http://scholar.google.com/scholar_lookup?&amp;title=Interactions%20and%20transport%20in%20highly%20concentrated%20LiTFSI-based%20electrolytes&amp;journal=ChemPhysChem&amp;doi=10.1002%2Fcphc.202000153&amp;volume=21&amp;pages=1166-1176&amp;publication_year=2020&amp;author=Nilsson%2CV&amp;author=Bernin%2CD&amp;author=Brandell%2CD&amp;author=Edstr%C3%B6m%2CK&amp;author=Johansson%2CP">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="33."><p id="ref-CR33">Lu, Y. et al. Stable cycling of lithium metal batteries using high transference number electrolytes. <i>Adv. Energy Mater.</i> <b>5</b>, 1402073 (2015).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1002/aenm.201402073" data-track-action="article reference" href="https://doi.org/10.1002%2Faenm.201402073" aria-label="Article reference 33" data-doi="10.1002/aenm.201402073">Article</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 33" href="http://scholar.google.com/scholar_lookup?&amp;title=Stable%20cycling%20of%20lithium%20metal%20batteries%20using%20high%20transference%20number%20electrolytes&amp;journal=Adv.%20Energy%20Mater.&amp;doi=10.1002%2Faenm.201402073&amp;volume=5&amp;publication_year=2015&amp;author=Lu%2CY">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="34."><p id="ref-CR34">Haj Ibrahim, S. et al. Insight into cathode microstructure effect on the performance of molten carbonate fuel cell. <i>J. Power Sources</i> <b>491</b>, 229562 (2021).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1016/j.jpowsour.2021.229562" data-track-action="article reference" href="https://doi.org/10.1016%2Fj.jpowsour.2021.229562" aria-label="Article reference 34" data-doi="10.1016/j.jpowsour.2021.229562">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB3MXjt1Srsr0%3D" aria-label="CAS reference 34">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 34" href="http://scholar.google.com/scholar_lookup?&amp;title=Insight%20into%20cathode%20microstructure%20effect%20on%20the%20performance%20of%20molten%20carbonate%20fuel%20cell&amp;journal=J.%20Power%20Sources&amp;doi=10.1016%2Fj.jpowsour.2021.229562&amp;volume=491&amp;publication_year=2021&amp;author=Haj%20Ibrahim%2CS">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="35."><p id="ref-CR35">Hodgetts, R. Y., Du, H.-L., Nguyen, T. D., MacFarlane, D. &amp; Simonov, A. N. Electrocatalytic oxidation of hydrogen as an anode reaction for the Li-mediated N<sub>2</sub> reduction to ammonia. <i>ACS Catal.</i> <b>12</b>, 5231‚Äì5246 (2022).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1021/acscatal.2c00538" data-track-action="article reference" href="https://doi.org/10.1021%2Facscatal.2c00538" aria-label="Article reference 35" data-doi="10.1021/acscatal.2c00538">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="cas reference" href="https://www.nature.com/articles/cas-redirect/1:CAS:528:DC%2BB38XpvV2nur0%3D" aria-label="CAS reference 35">CAS</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 35" href="http://scholar.google.com/scholar_lookup?&amp;title=Electrocatalytic%20oxidation%20of%20hydrogen%20as%20an%20anode%20reaction%20for%20the%20Li-mediated%20N2%20reduction%20to%20ammonia&amp;journal=ACS%20Catal.&amp;doi=10.1021%2Facscatal.2c00538&amp;volume=12&amp;pages=5231-5246&amp;publication_year=2022&amp;author=Hodgetts%2CRY&amp;author=Du%2CH-L&amp;author=Nguyen%2CTD&amp;author=MacFarlane%2CD&amp;author=Simonov%2CAN">
                    Google Scholar</a>&nbsp;
                </p></li></ol><p><a data-track="click" data-track-action="download citation references" data-track-label="link" rel="nofollow" href="https://citation-needed.springer.com/v2/references/10.1038/s41586-022-05108-y?format=refman&amp;flavour=references">Download references</a></p></div></div><div id="Ack1-section" data-title="Acknowledgements"><h2 id="Ack1">Acknowledgements</h2><p>We acknowledge funding of this work by the Australian Research Council (Discovery Project DP200101878, Centre of Excellence for Electromaterials Science CE140100012, Future Fellowship to A.N.S. (FT200100317)) and the Australian Renewable Energy Agency (‚ÄòRenewable Hydrogen for Export‚Äô project 2018RND/009 DM015); and the Monash Centre for Electron Microscopy, Monash X-ray platform and Monash Analytical platform for providing access to the physical characterization and spectroscopic facilities. We thank Nippon Shokubai for a gift of LiFSI and F. Shanks for his assistance with the Fourier-transform infrared attenuated total reflectance spectroscopic measurements.</p></div><div id="author-information-section" aria-labelledby="author-information" data-title="Author information"><h2 id="author-information">Author information</h2><div id="author-information-content"><h3 id="affiliations">Authors and Affiliations</h3><ol><li id="Aff1"><p>The ARC Centre of Excellence for Electromaterials Science, Monash University, Clayton, Victoria, Australia</p><p>Hoang-Long Du,&nbsp;Manjunath Chatti,&nbsp;Rebecca Y. Hodgetts,&nbsp;Cuong K. Nguyen,&nbsp;Douglas R. MacFarlane&nbsp;&amp;&nbsp;Alexandr N. Simonov</p></li><li id="Aff2"><p>School of Chemistry, Monash University, Clayton, Victoria, Australia</p><p>Hoang-Long Du,&nbsp;Manjunath Chatti,&nbsp;Rebecca Y. Hodgetts,&nbsp;Pavel V. Cherepanov,&nbsp;Cuong K. Nguyen,&nbsp;Karolina Matuszek,&nbsp;Douglas R. MacFarlane&nbsp;&amp;&nbsp;Alexandr N. Simonov</p></li></ol><div data-test="author-info"><p><span>Authors</span></p><ol><li id="auth-Hoang_Long-Du-Aff1-Aff2"><span>Hoang-Long Du</span><div><p>You can also search for this author in
                        <span><a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=search&amp;term=Hoang-Long%20Du" data-track="click" data-track-action="author link - pubmed" data-track-label="link" rel="nofollow">PubMed</a><span>&nbsp;</span><a href="http://scholar.google.co.uk/scholar?as_q=&amp;num=10&amp;btnG=Search+Scholar&amp;as_epq=&amp;as_oq=&amp;as_eq=&amp;as_occt=any&amp;as_sauthors=%22Hoang-Long%20Du%22&amp;as_publication=&amp;as_ylo=&amp;as_yhi=&amp;as_allsubj=all&amp;hl=en" data-track="click" data-track-action="author link - scholar" data-track-label="link" rel="nofollow">Google Scholar</a></span></p></div></li><li id="auth-Manjunath-Chatti-Aff1-Aff2"><span>Manjunath Chatti</span><div><p>You can also search for this author in
                        <span><a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=search&amp;term=Manjunath%20Chatti" data-track="click" data-track-action="author link - pubmed" data-track-label="link" rel="nofollow">PubMed</a><span>&nbsp;</span><a href="http://scholar.google.co.uk/scholar?as_q=&amp;num=10&amp;btnG=Search+Scholar&amp;as_epq=&amp;as_oq=&amp;as_eq=&amp;as_occt=any&amp;as_sauthors=%22Manjunath%20Chatti%22&amp;as_publication=&amp;as_ylo=&amp;as_yhi=&amp;as_allsubj=all&amp;hl=en" data-track="click" data-track-action="author link - scholar" data-track-label="link" rel="nofollow">Google Scholar</a></span></p></div></li><li id="auth-Rebecca_Y_-Hodgetts-Aff1-Aff2"><span>Rebecca Y. Hodgetts</span><div><p>You can also search for this author in
                        <span><a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=search&amp;term=Rebecca%20Y.%20Hodgetts" data-track="click" data-track-action="author link - pubmed" data-track-label="link" rel="nofollow">PubMed</a><span>&nbsp;</span><a href="http://scholar.google.co.uk/scholar?as_q=&amp;num=10&amp;btnG=Search+Scholar&amp;as_epq=&amp;as_oq=&amp;as_eq=&amp;as_occt=any&amp;as_sauthors=%22Rebecca%20Y.%20Hodgetts%22&amp;as_publication=&amp;as_ylo=&amp;as_yhi=&amp;as_allsubj=all&amp;hl=en" data-track="click" data-track-action="author link - scholar" data-track-label="link" rel="nofollow">Google Scholar</a></span></p></div></li><li id="auth-Pavel_V_-Cherepanov-Aff2"><span>Pavel V. Cherepanov</span><div><p>You can also search for this author in
                        <span><a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=search&amp;term=Pavel%20V.%20Cherepanov" data-track="click" data-track-action="author link - pubmed" data-track-label="link" rel="nofollow">PubMed</a><span>&nbsp;</span><a href="http://scholar.google.co.uk/scholar?as_q=&amp;num=10&amp;btnG=Search+Scholar&amp;as_epq=&amp;as_oq=&amp;as_eq=&amp;as_occt=any&amp;as_sauthors=%22Pavel%20V.%20Cherepanov%22&amp;as_publication=&amp;as_ylo=&amp;as_yhi=&amp;as_allsubj=all&amp;hl=en" data-track="click" data-track-action="author link - scholar" data-track-label="link" rel="nofollow">Google Scholar</a></span></p></div></li><li id="auth-Cuong_K_-Nguyen-Aff1-Aff2"><span>Cuong K. Nguyen</span><div><p>You can also search for this author in
                        <span><a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=search&amp;term=Cuong%20K.%20Nguyen" data-track="click" data-track-action="author link - pubmed" data-track-label="link" rel="nofollow">PubMed</a><span>&nbsp;</span><a href="http://scholar.google.co.uk/scholar?as_q=&amp;num=10&amp;btnG=Search+Scholar&amp;as_epq=&amp;as_oq=&amp;as_eq=&amp;as_occt=any&amp;as_sauthors=%22Cuong%20K.%20Nguyen%22&amp;as_publication=&amp;as_ylo=&amp;as_yhi=&amp;as_allsubj=all&amp;hl=en" data-track="click" data-track-action="author link - scholar" data-track-label="link" rel="nofollow">Google Scholar</a></span></p></div></li><li id="auth-Karolina-Matuszek-Aff2"><span>Karolina Matuszek</span><div><p>You can also search for this author in
                        <span><a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=search&amp;term=Karolina%20Matuszek" data-track="click" data-track-action="author link - pubmed" data-track-label="link" rel="nofollow">PubMed</a><span>&nbsp;</span><a href="http://scholar.google.co.uk/scholar?as_q=&amp;num=10&amp;btnG=Search+Scholar&amp;as_epq=&amp;as_oq=&amp;as_eq=&amp;as_occt=any&amp;as_sauthors=%22Karolina%20Matuszek%22&amp;as_publication=&amp;as_ylo=&amp;as_yhi=&amp;as_allsubj=all&amp;hl=en" data-track="click" data-track-action="author link - scholar" data-track-label="link" rel="nofollow">Google Scholar</a></span></p></div></li><li id="auth-Douglas_R_-MacFarlane-Aff1-Aff2"><span>Douglas R. MacFarlane</span><div><p>You can also search for this author in
                        <span><a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=search&amp;term=Douglas%20R.%20MacFarlane" data-track="click" data-track-action="author link - pubmed" data-track-label="link" rel="nofollow">PubMed</a><span>&nbsp;</span><a href="http://scholar.google.co.uk/scholar?as_q=&amp;num=10&amp;btnG=Search+Scholar&amp;as_epq=&amp;as_oq=&amp;as_eq=&amp;as_occt=any&amp;as_sauthors=%22Douglas%20R.%20MacFarlane%22&amp;as_publication=&amp;as_ylo=&amp;as_yhi=&amp;as_allsubj=all&amp;hl=en" data-track="click" data-track-action="author link - scholar" data-track-label="link" rel="nofollow">Google Scholar</a></span></p></div></li><li id="auth-Alexandr_N_-Simonov-Aff1-Aff2"><span>Alexandr N. Simonov</span><div><p>You can also search for this author in
                        <span><a href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=search&amp;term=Alexandr%20N.%20Simonov" data-track="click" data-track-action="author link - pubmed" data-track-label="link" rel="nofollow">PubMed</a><span>&nbsp;</span><a href="http://scholar.google.co.uk/scholar?as_q=&amp;num=10&amp;btnG=Search+Scholar&amp;as_epq=&amp;as_oq=&amp;as_eq=&amp;as_occt=any&amp;as_sauthors=%22Alexandr%20N.%20Simonov%22&amp;as_publication=&amp;as_ylo=&amp;as_yhi=&amp;as_allsubj=all&amp;hl=en" data-track="click" data-track-action="author link - scholar" data-track-label="link" rel="nofollow">Google Scholar</a></span></p></div></li></ol></div><h3 id="contributions">Contributions</h3><p>H.-L.D. conceived and did the electrochemical experiments, viscosity and conductivity measurements and co-wrote the manuscript. M.C. did the XRD and &nbsp;Fourier-transform infrared attenuated total reflectance spectroscopic analyses, and assisted with monitoring long-term experiments. R.Y.H. contributed to the reproducibility studies and performed the <sup>1</sup>H NMR analysis of ammonia. P.V.C. collected and analysed XPS data. C.K.N. did nitrite/nitrate measurements, and the SEM and EDS analyses. K.M. contributed to conductivity measurements and collected the NMR data for the electrolyte stability. D.R.M. and A.N.S. conceived the experiments, directed the project and co-wrote the manuscript.</p><h3 id="corresponding-author">Corresponding authors</h3><p id="corresponding-author-list">Correspondence to
                <a id="corresp-c1" href="mailto:douglas.macfarlane@monash.edu">Douglas R. MacFarlane</a> or <a id="corresp-c2" href="mailto:alexandr.simonov@monash.edu">Alexandr N. Simonov</a>.</p></div></div><div id="ethics-section" data-title="Ethics declarations"><h2 id="ethics">Ethics declarations</h2><div id="ethics-content">
              
                <h3 id="FPar2">Competing interests</h3>
                <p>H.-L.D., D.R.M. and A.N.S. are inventors on an Australian provisional patent application that covers aspects of the work reported here, and which has been licensed to Jupiter Ionics. D.R.M. and A.N.S. have minority equity ownership, as well as management and consulting roles, in Jupiter Ionics.</p>
              
            </div></div><div id="peer-review-section" data-title="Peer review"><h2 id="peer-review">Peer review</h2><div id="peer-review-content">
              
              
                <h3 id="FPar1">Peer review information</h3>
                <p><i>Nature</i> thanks anonymous reviewers for their contribution to the peer review of this work. <a data-track="click" data-track-label="link" data-track-action="supplementary material anchor" href="https://www.nature.com/articles/s41586-022-05108-y#MOESM2">Peer reviewer reports</a> are available.</p>
              
            </div></div><div id="additional-information-section" data-title="Additional information"><h2 id="additional-information">Additional information</h2><p><b>Publisher‚Äôs note</b> Springer Nature remains neutral with regard to jurisdictional claims in published maps and institutional affiliations.</p></div><div id="Sec6-section" data-title="Supplementary information"><h2 id="Sec6">Supplementary information</h2></div><div id="rightslink-section" data-title="Rights and permissions"><h2 id="rightslink">Rights and permissions</h2><div id="rightslink-content"><p>Springer Nature or its licensor holds exclusive rights to this article under a publishing agreement with the author(s) or other rightsholder(s); author self-archiving of the accepted manuscript version of this article is solely governed by the terms of such publishing agreement and applicable law.</p><p><a data-track="click" data-track-action="view rights and permissions" data-track-label="link" href="https://s100.copyright.com/AppDispatchServlet?title=Electroreduction%20of%20nitrogen%20with%20almost%20100%25%20current-to-ammonia%20efficiency&amp;author=Hoang-Long%20Du%20et%20al&amp;contentID=10.1038%2Fs41586-022-05108-y&amp;copyright=The%20Author%28s%29%2C%20under%20exclusive%20licence%20to%20Springer%20Nature%20Limited&amp;publication=0028-0836&amp;publicationDate=2022-07-22&amp;publisherName=SpringerNature&amp;orderBeanReset=true">Reprints and Permissions</a></p></div></div><div id="article-info-section" aria-labelledby="article-info" data-title="About this article"><h2 id="article-info">About this article</h2><div id="article-info-content"><p><a data-crossmark="10.1038/s41586-022-05108-y" target="_blank" rel="noopener" href="https://crossmark.crossref.org/dialog/?doi=10.1038/s41586-022-05108-y" data-track="click" data-track-action="Click Crossmark" data-track-label="link" data-test="crossmark"><img width="57" height="81" alt="Check for updates. Verify currency and authenticity via CrossMark" src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgxIiB3aWR0aD0iNTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJtMTcuMzUgMzUuNDUgMjEuMy0xNC4ydi0xNy4wM2gtMjEuMyIgZmlsbD0iIzk4OTg5OCIvPjxwYXRoIGQ9Im0zOC42NSAzNS40NS0yMS4zLTE0LjJ2LTE3LjAzaDIxLjMiIGZpbGw9IiM3NDc0NzQiLz48cGF0aCBkPSJtMjggLjVjLTEyLjk4IDAtMjMuNSAxMC41Mi0yMy41IDIzLjVzMTAuNTIgMjMuNSAyMy41IDIzLjUgMjMuNS0xMC41MiAyMy41LTIzLjVjMC02LjIzLTIuNDgtMTIuMjEtNi44OC0xNi42Mi00LjQxLTQuNC0xMC4zOS02Ljg4LTE2LjYyLTYuODh6bTAgNDEuMjVjLTkuOCAwLTE3Ljc1LTcuOTUtMTcuNzUtMTcuNzVzNy45NS0xNy43NSAxNy43NS0xNy43NSAxNy43NSA3Ljk1IDE3Ljc1IDE3Ljc1YzAgNC43MS0xLjg3IDkuMjItNS4yIDEyLjU1cy03Ljg0IDUuMi0xMi41NSA1LjJ6IiBmaWxsPSIjNTM1MzUzIi8+PHBhdGggZD0ibTQxIDM2Yy01LjgxIDYuMjMtMTUuMjMgNy40NS0yMi40MyAyLjktNy4yMS00LjU1LTEwLjE2LTEzLjU3LTcuMDMtMjEuNWwtNC45Mi0zLjExYy00Ljk1IDEwLjctMS4xOSAyMy40MiA4Ljc4IDI5LjcxIDkuOTcgNi4zIDIzLjA3IDQuMjIgMzAuNi00Ljg2eiIgZmlsbD0iIzljOWM5YyIvPjxwYXRoIGQ9Im0uMiA1OC40NWMwLS43NS4xMS0xLjQyLjMzLTIuMDFzLjUyLTEuMDkuOTEtMS41Yy4zOC0uNDEuODMtLjczIDEuMzQtLjk0LjUxLS4yMiAxLjA2LS4zMiAxLjY1LS4zMi41NiAwIDEuMDYuMTEgMS41MS4zNS40NC4yMy44MS41IDEuMS44MWwtLjkxIDEuMDFjLS4yNC0uMjQtLjQ5LS40Mi0uNzUtLjU2LS4yNy0uMTMtLjU4LS4yLS45My0uMi0uMzkgMC0uNzMuMDgtMS4wNS4yMy0uMzEuMTYtLjU4LjM3LS44MS42Ni0uMjMuMjgtLjQxLjYzLS41MyAxLjA0LS4xMy40MS0uMTkuODgtLjE5IDEuMzkgMCAxLjA0LjIzIDEuODYuNjggMi40Ni40NS41OSAxLjA2Ljg4IDEuODQuODguNDEgMCAuNzctLjA3IDEuMDctLjIzcy41OS0uMzkuODUtLjY4bC45MSAxYy0uMzguNDMtLjguNzYtMS4yOC45OS0uNDcuMjItMSAuMzQtMS41OC4zNC0uNTkgMC0xLjEzLS4xLTEuNjQtLjMxLS41LS4yLS45NC0uNTEtMS4zMS0uOTEtLjM4LS40LS42Ny0uOS0uODgtMS40OC0uMjItLjU5LS4zMy0xLjI2LS4zMy0yLjAyem04LjQtNS4zM2gxLjYxdjIuNTRsLS4wNSAxLjMzYy4yOS0uMjcuNjEtLjUxLjk2LS43MnMuNzYtLjMxIDEuMjQtLjMxYy43MyAwIDEuMjcuMjMgMS42MS43MS4zMy40Ny41IDEuMTQuNSAyLjAydjQuMzFoLTEuNjF2LTQuMWMwLS41Ny0uMDgtLjk3LS4yNS0xLjIxLS4xNy0uMjMtLjQ1LS4zNS0uODMtLjM1LS4zIDAtLjU2LjA4LS43OS4yMi0uMjMuMTUtLjQ5LjM2LS43OC42NHY0LjhoLTEuNjF6bTcuMzcgNi40NWMwLS41Ni4wOS0xLjA2LjI2LTEuNTEuMTgtLjQ1LjQyLS44My43MS0xLjE0LjI5LS4zLjYzLS41NCAxLjAxLS43MS4zOS0uMTcuNzgtLjI1IDEuMTgtLjI1LjQ3IDAgLjg4LjA4IDEuMjMuMjQuMzYuMTYuNjUuMzguODkuNjdzLjQyLjYzLjU0IDEuMDNjLjEyLjQxLjE4Ljg0LjE4IDEuMzIgMCAuMzItLjAyLjU3LS4wNy43NmgtNC4zNmMuMDcuNjIuMjkgMS4xLjY1IDEuNDQuMzYuMzMuODIuNSAxLjM4LjUuMjkgMCAuNTctLjA0LjgzLS4xM3MuNTEtLjIxLjc2LS4zN2wuNTUgMS4wMWMtLjMzLjIxLS42OS4zOS0xLjA5LjUzLS40MS4xNC0uODMuMjEtMS4yNi4yMS0uNDggMC0uOTItLjA4LTEuMzQtLjI1LS40MS0uMTYtLjc2LS40LTEuMDctLjctLjMxLS4zMS0uNTUtLjY5LS43Mi0xLjEzLS4xOC0uNDQtLjI2LS45NS0uMjYtMS41MnptNC42LS42MmMwLS41NS0uMTEtLjk4LS4zNC0xLjI4LS4yMy0uMzEtLjU4LS40Ny0xLjA2LS40Ny0uNDEgMC0uNzcuMTUtMS4wNy40NS0uMzEuMjktLjUuNzMtLjU4IDEuM3ptMi41LjYyYzAtLjU3LjA5LTEuMDguMjgtMS41My4xOC0uNDQuNDMtLjgyLjc1LTEuMTNzLjY5LS41NCAxLjEtLjcxYy40Mi0uMTYuODUtLjI0IDEuMzEtLjI0LjQ1IDAgLjg0LjA4IDEuMTcuMjNzLjYxLjM0Ljg1LjU3bC0uNzcgMS4wMmMtLjE5LS4xNi0uMzgtLjI4LS41Ni0uMzctLjE5LS4wOS0uMzktLjE0LS42MS0uMTQtLjU2IDAtMS4wMS4yMS0xLjM1LjYzLS4zNS40MS0uNTIuOTctLjUyIDEuNjcgMCAuNjkuMTcgMS4yNC41MSAxLjY2LjM0LjQxLjc4LjYyIDEuMzIuNjIuMjggMCAuNTQtLjA2Ljc4LS4xNy4yNC0uMTIuNDUtLjI2LjY0LS40MmwuNjcgMS4wM2MtLjMzLjI5LS42OS41MS0xLjA4LjY1LS4zOS4xNS0uNzguMjMtMS4xOC4yMy0uNDYgMC0uOS0uMDgtMS4zMS0uMjQtLjQtLjE2LS43NS0uMzktMS4wNS0uN3MtLjUzLS42OS0uNy0xLjEzYy0uMTctLjQ1LS4yNS0uOTYtLjI1LTEuNTN6bTYuOTEtNi40NWgxLjU4djYuMTdoLjA1bDIuNTQtMy4xNmgxLjc3bC0yLjM1IDIuOCAyLjU5IDQuMDdoLTEuNzVsLTEuNzctMi45OC0xLjA4IDEuMjN2MS43NWgtMS41OHptMTMuNjkgMS4yN2MtLjI1LS4xMS0uNS0uMTctLjc1LS4xNy0uNTggMC0uODcuMzktLjg3IDEuMTZ2Ljc1aDEuMzR2MS4yN2gtMS4zNHY1LjZoLTEuNjF2LTUuNmgtLjkydi0xLjJsLjkyLS4wN3YtLjcyYzAtLjM1LjA0LS42OC4xMy0uOTguMDgtLjMxLjIxLS41Ny40LS43OXMuNDItLjM5LjcxLS41MWMuMjgtLjEyLjYzLS4xOCAxLjA0LS4xOC4yNCAwIC40OC4wMi42OS4wNy4yMi4wNS40MS4xLjU3LjE3em0uNDggNS4xOGMwLS41Ny4wOS0xLjA4LjI3LTEuNTMuMTctLjQ0LjQxLS44Mi43Mi0xLjEzLjMtLjMxLjY1LS41NCAxLjA0LS43MS4zOS0uMTYuOC0uMjQgMS4yMy0uMjRzLjg0LjA4IDEuMjQuMjRjLjQuMTcuNzQuNCAxLjA0Ljcxcy41NC42OS43MiAxLjEzYy4xOS40NS4yOC45Ni4yOCAxLjUzcy0uMDkgMS4wOC0uMjggMS41M2MtLjE4LjQ0LS40Mi44Mi0uNzIgMS4xM3MtLjY0LjU0LTEuMDQuNy0uODEuMjQtMS4yNC4yNC0uODQtLjA4LTEuMjMtLjI0LS43NC0uMzktMS4wNC0uN2MtLjMxLS4zMS0uNTUtLjY5LS43Mi0xLjEzLS4xOC0uNDUtLjI3LS45Ni0uMjctMS41M3ptMS42NSAwYzAgLjY5LjE0IDEuMjQuNDMgMS42Ni4yOC40MS42OC42MiAxLjE4LjYyLjUxIDAgLjktLjIxIDEuMTktLjYyLjI5LS40Mi40NC0uOTcuNDQtMS42NiAwLS43LS4xNS0xLjI2LS40NC0xLjY3LS4yOS0uNDItLjY4LS42My0xLjE5LS42My0uNSAwLS45LjIxLTEuMTguNjMtLjI5LjQxLS40My45Ny0uNDMgMS42N3ptNi40OC0zLjQ0aDEuMzNsLjEyIDEuMjFoLjA1Yy4yNC0uNDQuNTQtLjc5Ljg4LTEuMDIuMzUtLjI0LjctLjM2IDEuMDctLjM2LjMyIDAgLjU5LjA1Ljc4LjE0bC0uMjggMS40LS4zMy0uMDljLS4xMS0uMDEtLjIzLS4wMi0uMzgtLjAyLS4yNyAwLS41Ni4xLS44Ni4zMXMtLjU1LjU4LS43NyAxLjF2NC4yaC0xLjYxem0tNDcuODcgMTVoMS42MXY0LjFjMCAuNTcuMDguOTcuMjUgMS4yLjE3LjI0LjQ0LjM1LjgxLjM1LjMgMCAuNTctLjA3LjgtLjIyLjIyLS4xNS40Ny0uMzkuNzMtLjczdi00LjdoMS42MXY2Ljg3aC0xLjMybC0uMTItMS4wMWgtLjA0Yy0uMy4zNi0uNjMuNjQtLjk4Ljg2LS4zNS4yMS0uNzYuMzItMS4yNC4zMi0uNzMgMC0xLjI3LS4yNC0xLjYxLS43MS0uMzMtLjQ3LS41LTEuMTQtLjUtMi4wMnptOS40NiA3LjQzdjIuMTZoLTEuNjF2LTkuNTloMS4zM2wuMTIuNzJoLjA1Yy4yOS0uMjQuNjEtLjQ1Ljk3LS42My4zNS0uMTcuNzItLjI2IDEuMS0uMjYuNDMgMCAuODEuMDggMS4xNS4yNC4zMy4xNy42MS40Ljg0LjcxLjI0LjMxLjQxLjY4LjUzIDEuMTEuMTMuNDIuMTkuOTEuMTkgMS40NCAwIC41OS0uMDkgMS4xMS0uMjUgMS41Ny0uMTYuNDctLjM4Ljg1LS42NSAxLjE2LS4yNy4zMi0uNTguNTYtLjk0LjczLS4zNS4xNi0uNzIuMjUtMS4xLjI1LS4zIDAtLjYtLjA3LS45LS4ycy0uNTktLjMxLS44Ny0uNTZ6bTAtMi4zYy4yNi4yMi41LjM3LjczLjQ1LjI0LjA5LjQ2LjEzLjY2LjEzLjQ2IDAgLjg0LS4yIDEuMTUtLjYuMzEtLjM5LjQ2LS45OC40Ni0xLjc3IDAtLjY5LS4xMi0xLjIyLS4zNS0xLjYxLS4yMy0uMzgtLjYxLS41Ny0xLjEzLS41Ny0uNDkgMC0uOTkuMjYtMS41Mi43N3ptNS44Ny0xLjY5YzAtLjU2LjA4LTEuMDYuMjUtMS41MS4xNi0uNDUuMzctLjgzLjY1LTEuMTQuMjctLjMuNTgtLjU0LjkzLS43MXMuNzEtLjI1IDEuMDgtLjI1Yy4zOSAwIC43My4wNyAxIC4yLjI3LjE0LjU0LjMyLjgxLjU1bC0uMDYtMS4xdi0yLjQ5aDEuNjF2OS44OGgtMS4zM2wtLjExLS43NGgtLjA2Yy0uMjUuMjUtLjU0LjQ2LS44OC42NC0uMzMuMTgtLjY5LjI3LTEuMDYuMjctLjg3IDAtMS41Ni0uMzItMi4wNy0uOTVzLS43Ni0xLjUxLS43Ni0yLjY1em0xLjY3LS4wMWMwIC43NC4xMyAxLjMxLjQgMS43LjI2LjM4LjY1LjU4IDEuMTUuNTguNTEgMCAuOTktLjI2IDEuNDQtLjc3di0zLjIxYy0uMjQtLjIxLS40OC0uMzYtLjctLjQ1LS4yMy0uMDgtLjQ2LS4xMi0uNy0uMTItLjQ1IDAtLjgyLjE5LTEuMTMuNTktLjMxLjM5LS40Ni45NS0uNDYgMS42OHptNi4zNSAxLjU5YzAtLjczLjMyLTEuMy45Ny0xLjcxLjY0LS40IDEuNjctLjY4IDMuMDgtLjg0IDAtLjE3LS4wMi0uMzQtLjA3LS41MS0uMDUtLjE2LS4xMi0uMy0uMjItLjQzcy0uMjItLjIyLS4zOC0uM2MtLjE1LS4wNi0uMzQtLjEtLjU4LS4xLS4zNCAwLS42OC4wNy0xIC4ycy0uNjMuMjktLjkzLjQ3bC0uNTktMS4wOGMuMzktLjI0LjgxLS40NSAxLjI4LS42My40Ny0uMTcuOTktLjI2IDEuNTQtLjI2Ljg2IDAgMS41MS4yNSAxLjkzLjc2cy42MyAxLjI1LjYzIDIuMjF2NC4wN2gtMS4zMmwtLjEyLS43NmgtLjA1Yy0uMy4yNy0uNjMuNDgtLjk4LjY2cy0uNzMuMjctMS4xNC4yN2MtLjYxIDAtMS4xLS4xOS0xLjQ4LS41Ni0uMzgtLjM2LS41Ny0uODUtLjU3LTEuNDZ6bTEuNTctLjEyYzAgLjMuMDkuNTMuMjcuNjcuMTkuMTQuNDIuMjEuNzEuMjEuMjggMCAuNTQtLjA3Ljc3LS4ycy40OC0uMzEuNzMtLjU2di0xLjU0Yy0uNDcuMDYtLjg2LjEzLTEuMTguMjMtLjMxLjA5LS41Ny4xOS0uNzYuMzFzLS4zMy4yNS0uNDEuNGMtLjA5LjE1LS4xMy4zMS0uMTMuNDh6bTYuMjktMy42M2gtLjk4di0xLjJsMS4wNi0uMDcuMi0xLjg4aDEuMzR2MS44OGgxLjc1djEuMjdoLTEuNzV2My4yOGMwIC44LjMyIDEuMi45NyAxLjIuMTIgMCAuMjQtLjAxLjM3LS4wNC4xMi0uMDMuMjQtLjA3LjM0LS4xMWwuMjggMS4xOWMtLjE5LjA2LS40LjEyLS42NC4xNy0uMjMuMDUtLjQ5LjA4LS43Ni4wOC0uNCAwLS43NC0uMDYtMS4wMi0uMTgtLjI3LS4xMy0uNDktLjMtLjY3LS41Mi0uMTctLjIxLS4zLS40OC0uMzctLjc4LS4wOC0uMy0uMTItLjY0LS4xMi0xLjAxem00LjM2IDIuMTdjMC0uNTYuMDktMS4wNi4yNy0xLjUxcy40MS0uODMuNzEtMS4xNGMuMjktLjMuNjMtLjU0IDEuMDEtLjcxLjM5LS4xNy43OC0uMjUgMS4xOC0uMjUuNDcgMCAuODguMDggMS4yMy4yNC4zNi4xNi42NS4zOC44OS42N3MuNDIuNjMuNTQgMS4wM2MuMTIuNDEuMTguODQuMTggMS4zMiAwIC4zMi0uMDIuNTctLjA3Ljc2aC00LjM3Yy4wOC42Mi4yOSAxLjEuNjUgMS40NC4zNi4zMy44Mi41IDEuMzguNS4zIDAgLjU4LS4wNC44NC0uMTMuMjUtLjA5LjUxLS4yMS43Ni0uMzdsLjU0IDEuMDFjLS4zMi4yMS0uNjkuMzktMS4wOS41M3MtLjgyLjIxLTEuMjYuMjFjLS40NyAwLS45Mi0uMDgtMS4zMy0uMjUtLjQxLS4xNi0uNzctLjQtMS4wOC0uNy0uMy0uMzEtLjU0LS42OS0uNzItMS4xMy0uMTctLjQ0LS4yNi0uOTUtLjI2LTEuNTJ6bTQuNjEtLjYyYzAtLjU1LS4xMS0uOTgtLjM0LTEuMjgtLjIzLS4zMS0uNTgtLjQ3LTEuMDYtLjQ3LS40MSAwLS43Ny4xNS0xLjA4LjQ1LS4zMS4yOS0uNS43My0uNTcgMS4zem0zLjAxIDIuMjNjLjMxLjI0LjYxLjQzLjkyLjU3LjMuMTMuNjMuMi45OC4yLjM4IDAgLjY1LS4wOC44My0uMjNzLjI3LS4zNS4yNy0uNmMwLS4xNC0uMDUtLjI2LS4xMy0uMzctLjA4LS4xLS4yLS4yLS4zNC0uMjgtLjE0LS4wOS0uMjktLjE2LS40Ny0uMjNsLS41My0uMjJjLS4yMy0uMDktLjQ2LS4xOC0uNjktLjMtLjIzLS4xMS0uNDQtLjI0LS42Mi0uNHMtLjMzLS4zNS0uNDUtLjU1Yy0uMTItLjIxLS4xOC0uNDYtLjE4LS43NSAwLS42MS4yMy0xLjEuNjgtMS40OS40NC0uMzggMS4wNi0uNTcgMS44My0uNTcuNDggMCAuOTEuMDggMS4yOS4yNXMuNzEuMzYuOTkuNTdsLS43NC45OGMtLjI0LS4xNy0uNDktLjMyLS43My0uNDItLjI1LS4xMS0uNTEtLjE2LS43OC0uMTYtLjM1IDAtLjYuMDctLjc2LjIxLS4xNy4xNS0uMjUuMzMtLjI1LjU0IDAgLjE0LjA0LjI2LjEyLjM2cy4xOC4xOC4zMS4yNmMuMTQuMDcuMjkuMTQuNDYuMjFsLjU0LjE5Yy4yMy4wOS40Ny4xOC43LjI5cy40NC4yNC42NC40Yy4xOS4xNi4zNC4zNS40Ni41OC4xMS4yMy4xNy41LjE3LjgyIDAgLjMtLjA2LjU4LS4xNy44My0uMTIuMjYtLjI5LjQ4LS41MS42OC0uMjMuMTktLjUxLjM0LS44NC40NS0uMzQuMTEtLjcyLjE3LTEuMTUuMTctLjQ4IDAtLjk1LS4wOS0xLjQxLS4yNy0uNDYtLjE5LS44Ni0uNDEtMS4yLS42OHoiIGZpbGw9IiM1MzUzNTMiLz48L2c+PC9zdmc+"></a></p><div><h3 id="citeas">Cite this article</h3><p>Du, HL., Chatti, M., Hodgetts, R.Y. <i>et al.</i> Electroreduction of nitrogen with almost 100% current-to-ammonia efficiency.
                    <i>Nature</i> <b>609</b>, 722‚Äì727 (2022). https://doi.org/10.1038/s41586-022-05108-y</p><p><a data-test="citation-link" data-track="click" data-track-action="download article citation" data-track-label="link" data-track-external="" rel="nofollow" href="https://citation-needed.springer.com/v2/references/10.1038/s41586-022-05108-y?format=refman&amp;flavour=citation">Download citation</a></p><ul data-test="publication-history"><li><p>Received<span>: </span><span><time datetime="2021-11-21">21 November 2021</time></span></p></li><li><p>Accepted<span>: </span><span><time datetime="2022-07-13">13 July 2022</time></span></p></li><li><p>Published<span>: </span><span><time datetime="2022-07-22">22 July 2022</time></span></p></li><li><p>Issue Date<span>: </span><span><time datetime="2022-09-22">22 September 2022</time></span></p></li><li><p><abbr title="Digital Object Identifier">DOI</abbr><span>: </span><span>https://doi.org/10.1038/s41586-022-05108-y</span></p></li></ul></div></div></div>
            </div>

            
        <div id="further-reading-section">
                <h2 id="further-reading">This article is cited by</h2>
                <div id="further-reading-content">
                    <ul id="further-reading-list">
                        
                            <li>
                                <h3>
                                    <a data-track="click" data-track-action="view further reading article" data-track-label="link:A cleaner route to ammonia" href="https://doi.org/10.1038/d41586-023-01659-w">
                                        A cleaner route to ammonia
                                    </a>
                                </h3>
                                
                                    <ul data-test="author-list">
                                        <li>James Mitchell Crow</li>
                                    </ul>
                                
                                <p><i>Nature</i> (2023)</p>
                            </li>
                        
                            <li>
                                <h3>
                                    <a data-track="click" data-track-action="view further reading article" data-track-label="link:The mosaic art of interphases" href="https://doi.org/10.1038/s41560-022-01192-6">
                                        The mosaic art of interphases
                                    </a>
                                </h3>
                                
                                    <ul data-test="author-list">
                                        <li>Eric J. McShane</li><li>Matteo Cargnello</li>
                                    </ul>
                                
                                <p><i>Nature Energy</i> (2023)</p>
                            </li>
                        
                            <li>
                                <h3>
                                    <a data-track="click" data-track-action="view further reading article" data-track-label="link:Laser-induced nitrogen fixation" href="https://doi.org/10.1038/s41467-023-41441-0">
                                        Laser-induced nitrogen fixation
                                    </a>
                                </h3>
                                
                                    <ul data-test="author-list">
                                        <li>Huize Wang</li><li>Ranga Rohit Seemakurthi</li><li>Markus Antonietti</li>
                                    </ul>
                                
                                <p><i>Nature Communications</i> (2023)</p>
                            </li>
                        
                            <li>
                                <h3>
                                    <a data-track="click" data-track-action="view further reading article" data-track-label="link:Prospects and challenges of green ammonia synthesis" href="https://doi.org/10.1038/s44160-023-00321-7">
                                        Prospects and challenges of green ammonia synthesis
                                    </a>
                                </h3>
                                
                                    <ul data-test="author-list">
                                        <li>Dongpei Ye</li><li>Shik Chi Edman Tsang</li>
                                    </ul>
                                
                                <p><i>Nature Synthesis</i> (2023)</p>
                            </li>
                        
                            <li>
                                <h3>
                                    <a data-track="click" data-track-action="view further reading article" data-track-label="link:Calcium-mediated nitrogen reduction for electrochemical ammonia synthesis" href="https://doi.org/10.1038/s41563-023-01702-1">
                                        Calcium-mediated nitrogen reduction for electrochemical ammonia synthesis
                                    </a>
                                </h3>
                                
                                    <ul data-test="author-list">
                                        <li>Xianbiao Fu</li><li>Valerie A. Niemann</li><li>Ib Chorkendorff</li>
                                    </ul>
                                
                                <p><i>Nature Materials</i> (2023)</p>
                            </li>
                        
                    </ul>
                </div>
            </div>
    

            
                <div id="article-comments-section" data-title="Comments"><h2 id="article-comments">Comments</h2><p>By submitting a comment you agree to abide by our <a href="https://www.nature.com/info/tandc.html">Terms</a> and <a href="https://www.nature.com/info/community-guidelines.html">Community Guidelines</a>. If you find something abusive or that does not comply with our terms or guidelines please flag it as inappropriate.</p></div>
                
            
</div>
</article>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Elixir and Phoenix can do it all (161 pts)]]></title>
            <link>https://fly.io/phoenix-files/elixir-and-phoenix-can-do-it-all/</link>
            <guid>38052864</guid>
            <pubDate>Sat, 28 Oct 2023 19:57:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://fly.io/phoenix-files/elixir-and-phoenix-can-do-it-all/">https://fly.io/phoenix-files/elixir-and-phoenix-can-do-it-all/</a>, See on <a href="https://news.ycombinator.com/item?id=38052864">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
         <dl>
             <dt>Author</dt>
             <dd>
                 <img alt="Jason Stiebs" src="https://fly.io/static/images/jason.webp">
               <dl>
                 <dt>Name</dt>
                 <dd>
                   Jason Stiebs
                 </dd>
                   <dt>Twitter</dt>
                   <dd>
                     <a href="https://twitter.com/peregrine" target="_blank">
                       @peregrine
                     </a>
                   </dd>
               </dl>
             </dd>
         </dl>

        <section>
            <figure>
                <img src="https://fly.io/phoenix-files/elixir-and-phoenix-can-do-it-all/assets/elixir-cover.webp" alt="A fly bird wearing indiana jones clothing, in an ancient tomb discovering elixir and a lightsaber.">
                <figcaption>
                  <span>Image by</span>
                  
<svg role="img" style="pointer-events: none; width: 17px; height: 17px;" viewBox="0 0 20 20" fill="currentColor" fill-rule="evenodd">
  <g buffered-rendering="static">
    <path fill-rule="evenodd" d="M1 8a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 018.07 3h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0016.07 6H17a2 2 0 012 2v7a2 2 0 01-2 2H3a2 2 0 01-2-2V8zm13.5 3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM10 14a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"></path>
  </g>
</svg>

                    <a href="https://annieruygtillustration.com/" target="_blank">
                      Annie Ruygt
                    </a>
                </figcaption>
            </figure>
          <p>We‚Äôre Fly.io. We run apps for our users on hardware we host around the world. Fly.io happens to be a great place to run Phoenix applications. Check out how to <a href="https://fly.io/docs/elixir/">get started</a>!</p>
<p>As an Elixir/Phoenix developer going on 10 years it is very easy to take for granted everything that Elixir and Phoenix can do for us. So I wanted to take a step back and list all of the stuff that we get for free when we choose Elixir and Phoenix.</p>

<p>My goal with this post is dump an list of information and links and let you choose your own path. If you are unfamiliar with any of these topics or Elixir and Phoenix please click any of these links and take a peak, I think you might be surprised at the quality and depth of what you find!</p>

<p>The inspiration for this post was a <a href="https://twitter.com/wojtekmach/status/1710020808523846087">Sa≈°a Juriƒá</a> re-tweet where he shared the following slide from his <a href="https://www.youtube.com/watch?v=JvBT4XBdoUE">GOTO Conference Talk</a>.</p>

<p><img src="https://fly.io/phoenix-files/elixir-and-phoenix-can-do-it-all/assets/elixir-does-all.jpeg"></p>

<p>This image enumerates some of the technical requirements that the <a href="https://www.erlang.org/">Erlang Virtual Machine</a> can replace in your tech stack. Not to say that these other projects can‚Äôt do these things well, they can and do in our own stack here at <a href="https://fly.io/">Fly.io</a>. The point is that in those ecosystems you <em>have</em> to solve these problems in the first place, when reviewing this article Jos√© Valim said it best:</p>

<blockquote>
<p>removing the problem altogether instead of solving the problem</p>
</blockquote>
<h2 id="the-beam"><a href="#the-beam" aria-label="Anchor"></a>The BEAM</h2>
<p>This above list doesn‚Äôt even cover the built in support for incredible bits like:</p>

<ul>
<li>Actor Process Model, meaning do to concurrency you have a Process and it sends messages to other processes. No Shared memory. Fully managed by the BEAM‚Äôs built in scheduler. Millions of processess are no issue. Fearless concurrency!
</li><li>Distribution: meaning two servers can communicate seamlessly and automatically. It <em>just</em> works and <a href="https://fly.io/phoenix-files/beam-clustering-made-easy/">is incredible</a>.
</li><li>RPC: Calling a function or process remotely is as easy as calling a local one, no need to concern ourselves with connections or serialization or deserialization. This is one of the many reasons Fly is so committed to using Elixir and Phoenix, the <a href="https://fly.io/docs/reference/private-networking/">wireguard based network</a> and globally hosting makes using this trivial and desirable.
</li><li>Parallel Garbage Collection, meaning the VM is Soft Real Time, minimal pausing!
</li><li>Emphasis on low resource usage in general
</li><li>Built in UDP/TCP/SSL server support.
</li><li>Built in Key Value Store <a href="https://www.erlang.org/doc/man/ets.html">ETS</a>.
</li><li>Tooling for <a href="https://www.erlang.org/doc/apps/erts/tracing">tracing</a> and <a href="https://www.erlang.org/doc/man/observer">observing</a> your code.
</li><li>37 Years of constant development and production use.
</li></ul>

<p>The beauty of this list is that if Elixir and Phoenix team have done our Job right you don‚Äôt need to think about any of this at all. It just works for you and lets you stand on the shoulders of this giant.</p>
<h3 id="elixir"><a href="#elixir" aria-label="Anchor"></a>Elixir</h3>
<p>If we go higher level the Elixir programming language provides us even more as developers:</p>

<ul>
<li>A full dependency management and build tool with <a href="https://elixir-lang.org/getting-started/mix-otp/introduction-to-mix.html">mix</a> and <a href="https://hex.pm/">Hex</a>.
</li><li>With modern tooling built in:

<ul>
<li><a href="https://hexdocs.pm/ex_unit/1.15/ExUnit.html">Testing</a>
</li><li><a href="https://github.com/elixir-lang/ex_doc">Documentation</a>
</li><li>Formatting
</li></ul>
</li><li>Language with a clean, <a href="https://fly.io/phoenix-files/elixir-docs-are-built-different/">documented</a> and fully exampled <a href="https://hexdocs.pm/elixir/1.15.7/Kernel.html">Standard Library</a>. Its remarkable how <em>little</em> cruft there is in this Language. Go into any other language to find random functions or modules that are marked <em>do not use</em>, or without examples or documentation. Not the case for Elixir.
</li><li>Modern <a href="https://fly.io/phoenix-files/elixir-docs-are-built-different/">Documentation</a>:

<ul>
<li>Built in Cheatsheets
</li><li>Built in Custom Markdown
</li><li>Links to source
</li><li>Search
</li><li>Support for Mermaid, Math.js, Vega-Lite and more!
</li></ul>
</li><li>Modern language features like:

<ul>
<li><a href="https://elixir-lang.org/getting-started/protocols.html">Protocols</a> enabling high level collections and functions like <a href="https://hexdocs.pm/elixir/1.15.7/Enum.html">Enum</a>, <a href="https://hexdocs.pm/elixir/1.15.7/Stream.html">Streams</a>, and <a href="https://hexdocs.pm/elixir/1.15.7/Access.html">Access</a>
</li><li><a href="https://hexdocs.pm/elixir/1.15.7/Stream.html">Stream</a>, enabling lazy and performant data processing
</li><li>Full featured <a href="https://hexdocs.pm/elixir/1.15.7/Date.html">Date</a>/<a href="https://hexdocs.pm/elixir/1.15.7/Time.html">Time</a>/<a href="https://hexdocs.pm/elixir/1.15.7/DateTime.html">DateTime</a>/<a href="https://hexdocs.pm/elixir/1.15.7/Calendar.html">Calendar</a> modules.
</li><li><a href="https://hexdocs.pm/elixir/1.15.7/Task.html">Task</a> for trivial parallel processing.
</li><li><a href="https://hexdocs.pm/elixir/1.15.7/Agent.html">Agent</a> for trivial shared state management.
</li><li><a href="https://hexdocs.pm/elixir/1.15.7/Config.html">Config</a> for environment specific configuration
</li><li><a href="https://hexdocs.pm/elixir/1.15.7/Registry.html">Registry</a> for local, decentralized and scalable key-value process storage.
</li></ul>
</li></ul>

<p>This is just a subset of what Elixir the Language provides. It doesn‚Äôt include the <em>deep</em> catalog of libraries within package registry <a href="https://hex.pm/">Hex</a> enabling so much more.</p>

<p>Some examples from Hex:</p>

<ul>
<li>Machine Learning with <a href="https://github.com/elixir-nx/bumblebee">Bumblebee</a> with HuggingFace integration and it works with batching and distribution globally.
</li><li>Math/Science comparable to NumPy using <a href="https://github.com/elixir-nx/scholar">Scholar</a>.
</li><li>Complex distributed big data processing using <a href="https://hexdocs.pm/gen_stage/GenStage.html">GenStage</a> or <a href="https://github.com/dashbitco/broadway">Broadway</a>
</li><li>Embedded and IoT Programming using <a href="https://nerves-project.org/">Nerves</a>.
</li><li><a href="https://hex.pm/packages/stream_data">Stream-Data</a> for property and generative based testing.
</li><li><a href="https://hex.pm/packages/sobelow">Sobelow</a> for security and static Analysis.
</li><li><a href="https://hex.pm/packages/oban">Oban</a> for a Worker/Job Queue implementation.
</li><li><a href="https://hex.pm/packages/req">Req</a> for high level HTTP Clients.
</li><li><a href="https://github.com/elixir-plug/plug/">Plug</a> for HTTP Servers.
</li><li> <a href="https://github.com/mtrudel/bandit">Bandit</a> for pure Elixir HTTP1/2 Server!
</li><li><a href="https://livebook.dev/">LiveBook</a> for Juypter like workbooks with Elixir!
</li><li><a href="https://membrane.stream/">Membrane</a> for video stream processing.
</li><li><a href="https://hexdocs.pm/decimal/readme.html">Decimal</a> for arbitrary precision decimal arithmetic.
</li><li><a href="https://hexdocs.pm/jason/readme.html">Jason</a> for highly performant JSON Encoding/Decoding.
</li><li><a href="https://hex.pm/packages/image">Image</a> for image manipulation.
</li><li><a href="https://github.com/elixir-cldr/cldr">CLRD</a> for maybe the <em>most</em> complete Internationalization and Locale libraries outside of maybe the Web Browser. Numbers, List, Units, Date\Time\DateTimes, Collation, Territories, and more.
</li><li><a href="https://github.com/rusterlium/rustler">Rustler</a> and <a href="https://github.com/E-xyza/zigler">Zigler</a> for truly simple Rust and Zig FFI support, for when you need to drop down and bash bits.
</li></ul>

<p>There is very little that the Elixir Ecosystem hasn‚Äôt tackled!</p>
<h2 id="phoenix-and-liveview"><a href="#phoenix-and-liveview" aria-label="Anchor"></a>Phoenix and LiveView</h2>
<p>The fun doesn‚Äôt stop there because Phoenix simply builds on all of his incredible tooling to provide us with:</p>

<ul>
<li>A fully featured HTTP library with

<ul>
<li>Advanced <a href="https://hexdocs.pm/phoenix/Phoenix.Router.html">Routing</a>
</li><li><a href="https://hexdocs.pm/phoenix/Phoenix.Router.html#module-pipelines-and-plugs">Plug-able steps</a>
</li><li>Built in <a href="https://hexdocs.pm/phoenix/components.html">HTML</a> and <a href="https://hexdocs.pm/phoenix/json_and_apis.html">JSON</a> handling
</li><li>With <a href="https://hexdocs.pm/phoenix/using_ssl.html">HTTPS</a> with sane security defaults
</li><li><a href="https://hexdocs.pm/phoenix/mix_phx_gen_auth.html#tracking-sessions">Secure Cookie Sessions</a>
</li><li><a href="https://hexdocs.pm/phoenix/Phoenix.Token.html">Secure Tokens</a>
</li><li><a href="https://hexdocs.pm/phoenix/controllers.html">Controller</a> Actions for MVC Style apps.
</li><li>Built in <a href="https://hexdocs.pm/gettext/Gettext.html">Internationalization Tooling</a>
</li></ul>
</li><li>Websockets with

<ul>
<li><a href="https://hexdocs.pm/phoenix/channels.html">Multiplexing</a> via Channels
</li><li>JavaScript library that handles backoff and common error modes
</li><li>Serialization
</li><li><a href="https://hexdocs.pm/phoenix/Phoenix.Socket.html#module-socket-fields">Sessions</a>
</li><li><a href="https://www.phoenixframework.org/blog/the-road-to-2-million-websocket-connections">Scalable to millions of clients.</a>
</li><li><a href="https://hexdocs.pm/phoenix_pubsub/Phoenix.PubSub.html">PubSub</a>Fully Distributed
</li><li>With optimizations for ‚Äúhot paths‚Äù
</li><li><a href="https://hexdocs.pm/phoenix/Phoenix.Presence.html">Presence</a> Monitoring and tracking <em>who</em> is in a channel
</li><li>Fully Distributed
</li><li>Built using CRDT‚Äôs
</li><li>JavaScript support
</li></ul>
</li><li>Development Tooling:

<ul>
<li><a href="https://hexdocs.pm/phoenix/Phoenix.CodeReloader.html">Live Code Reloading</a>
</li><li><a href="https://hexdocs.pm/plug/Plug.Debugger.html">Helpful and actionable</a> Errors
</li><li>Built in End to End Testing. (No Chromedriver needed)
</li></ul>
</li><li>JavaScript

<ul>
<li>Bundling/Minification/Integrity/Cache Busting

<ul>
<li>Using <a href="https://hex.pm/packages/esbuild">esbuild</a> that is installed for you
</li></ul>
</li><li>NPM support
</li><li>Custom JS is trivial
</li></ul>
</li><li>CSS via Tailwind

<ul>
<li>Bundling/Minification/Integrity/Cache Busting

<ul>
<li>Using <a href="https://hex.pm/packages/tailwind">tailwind</a> that is installed for you
</li></ul>
</li><li>Custom CSS is trivial
</li></ul>
</li><li><a href="https://hexdocs.pm/phoenix_live_view/welcome.html">LiveView</a>

<ul>
<li>Simple, server rendered Live HTML and CSS, in pure Elixir.
</li><li>HTML and Html Attribute Compile Time <a href="https://hexdocs.pm/phoenix/components.html#heex">Verification</a>
</li><li><a href="https://dashbit.co/blog/latency-rendering-liveview">Highly Optimized</a> for the modern web
</li><li>Debug tooling for Dev
</li><li><a href="https://hexdocs.pm/phoenix_live_view/js-interop.html">JS Interop</a> is Trivial
</li><li><a href="https://hexdocs.pm/phoenix_live_view/js-interop.html#simulating-latency">Latency Simulation</a>
</li><li><a href="https://fly.io/phoenix-files/a-liveview-is-a-process/">Single BEAM Process</a> per connection
</li><li>Trivial <a href="https://hexdocs.pm/phoenix/file_uploads.html">File Uploads</a> to disk or the cloud.
</li></ul>
</li><li>Databases with <a href="https://hexdocs.pm/ecto/Ecto.html">Ecto</a>

<ul>
<li><a href="https://github.com/elixir-ecto/ecto_sql">Postgres/MySQL</a>/<a href="https://github.com/elixir-sqlite/ecto_sqlite3">Sqlite</a>/and <a href="https://hex.pm/packages?search=ecto&amp;sort=recent_downloads">more</a>
</li><li><a href="https://hexdocs.pm/ecto/Ecto.Query.html">Full Query DSL</a> with <a href="https://hexdocs.pm/ecto_sql/Ecto.Adapters.SQL.html#query!/4">Raw SQL</a> escape <a href="https://hexdocs.pm/ecto/Ecto.Query.html#module-fragments">hatch</a>
</li><li><a href="https://hexdocs.pm/ecto_sql/Ecto.Migration.html">Migrations Up/Down/Schema dump</a>
</li><li><a href="https://hexdocs.pm/ecto/Ecto.Schema.html">Full Schema</a> and <a href="https://hexdocs.pm/ecto/Ecto.Changeset.html">Change</a> Validation
</li><li><a href="https://hexdocs.pm/ecto/Ecto.Repo.html#transaction-api">Transaction</a> Support
</li><li><a href="https://hexdocs.pm/ecto/Ecto.Multi.html">Multi-step</a> Queries/Transactions
</li></ul>
</li><li><a href="https://hexdocs.pm/phoenix/mix_phx_gen_auth.html">Full Authorization/Authentication generator</a>

<ul>
<li>Register, Login, Forgot Password, Email Verification and Sessions
</li><li>LiveView or Server HTML
</li></ul>
</li><li><a href="https://github.com/swoosh/swoosh">Email Rendering and Sending</a>
</li><li>Built in <a href="https://hexdocs.pm/phoenix/telemetry.html#metrics">Metrics Tracking</a>
</li><li>Single Line to add a full <a href="https://github.com/phoenixframework/phoenix_live_dashboard">Metrics Dashboard</a>
</li><li><a href="https://hexdocs.pm/phoenix/releases.html#containers">Dockerfile generator</a>
</li></ul>

<p>Just going through this list there is everything you‚Äôd need to start a company or build a website to solve nearly any problem. Coupled with the BEAM‚Äôs ability to scale from the smallest server to a globally distributed network with millions of customers on every continent! I may sound a little breathless but I am out of a breath just collating all of these links.</p>
<h2 id="wrap-up"><a href="#wrap-up" aria-label="Anchor"></a>Wrap up</h2>
<p>Stepping back it‚Äôs incredible that a small team is able to accomplish so much. Every one of Phoenix‚Äôs incredible features is built on the shoulders of the fantastic Elixir project underneath. Further backed by 37 years of constant development by the Erlang project.</p>

<p>If you haven‚Äôt looked into Phoenix or Elixir I urge you to explore any one of the above links that catch your eye. Installing and setting up Elixir has never been easier with <a href="https://livebook.dev/">LiveBook</a> or <a href="https://elixir-lang.org/install.html#by-operating-system">Natively</a>!</p>
<figure>
  <figcaption>
    <h2>Fly.io ‚ù§Ô∏è Elixir</h2>
    <p>Fly.io is a great way to run your Phoenix LiveView apps. It‚Äôs really easy to get started. You can be running in minutes.</p>
    <a href="https://fly.io/docs/elixir/">
      Deploy a Phoenix app today!  <span>‚Üí</span>
    </a>
  </figcaption>
  <p><img src="https://fly.io/static/images/cta-turtle.webp" srcset="https://fly.io/static/images/cta-turtle@2x.webp 2x" alt="">
  </p>
</figure>


          
        </section>
        <dl>
            <dt>
              Previous post  ‚Üì
            </dt>
            <dd>
              <a href="https://fly.io/phoenix-files/chatgpt-doesnt-know-what-day-it-is/">
                ChatGPT doesn't know what day it is?
              </a>
            </dd>
        </dl>
      </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[FCC wants to bolster amateur radio (333 pts)]]></title>
            <link>https://www.radioworld.com/news-and-business/business-and-law/fcc-wants-to-bolster-amateur-radio</link>
            <guid>38052577</guid>
            <pubDate>Sat, 28 Oct 2023 19:15:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.radioworld.com/news-and-business/business-and-law/fcc-wants-to-bolster-amateur-radio">https://www.radioworld.com/news-and-business/business-and-law/fcc-wants-to-bolster-amateur-radio</a>, See on <a href="https://news.ycombinator.com/item?id=38052577">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
		<p><span>FCC Chairwoman Jessica Rosenworcel says the FCC plans to ‚Äúincentivize innovation and experimentation in the amateur radio bands‚Äù by&nbsp;getting rid of outdated restrictions&nbsp;and providing licensees with the flexibility to use modern digital emissions.</span></p>
<p><span>The commission at its November meeting is expected to take action on a Report and Order that would eliminate the baud rate limitation and establish a bandwidth limitation in the amateur radio bands below 29.7 MHz.&nbsp;</span></p>
<p><span>The order being circulated for tentative consideration by the commission would remove the baud rate limitation ‚Äî the rate at which the carrier waveform amplitude, frequency and/or phase is varied to transmit information ‚Äî for data emissions in the amateur radio bands, the FCC says. The current baud rate limits were adopted in 1980.</span></p>
<p><span>The order would implement a 2.8 kilohertz bandwidth limitation in place of the baud rate in amateur radio bands. The 2.8 kHz limitation is consistent with the commission‚Äôs treatment of other wireless radio services, the FCC says.</span></p>
<p><span>The current rules limit the baud rate for high-frequency amateur radioteletype/data transmissions to 300 baud for frequencies below 28 MHz (except in the 60-meter band), and 1200 baud in the 10 meter (28-29.7 MHZ) band.</span></p>
<p><span>The Wireless Telecommunications Bureau says the change in technical standards would allow the amateur radio service to operate more efficiently, including during times of emergency to support public safety.</span></p>
<p><span>The American Radio Relay League (ARRL) in 2013 asked the commission to delete references to the baud rate and to establish a bandwidth limitation of 2.8 kHz. The group argued the public safety benefits of making the change. ARRL stated: ‚Äú[i]ncreasing speed is especially important when amateurs voluntarily assist during and after hurricanes, forest fires and other disasters.‚Äù</span></p>
<p><span>At the time, ARRL also told the FCC that eliminating the baud rate limitation will ‚Äúincentivize innovation by allowing more data to be transmitted within each signal without increasing bandwidth from that currently used.‚Äù</span></p>
<p><span>A spokesperson for ARRL says the organization supports the proposed action and the <a href="https://www.radioworld.com/wp-content/uploads/2023/10/DOC-397992A1.pdf" target="_blank" rel="noopener">proposal of further notice.</a>&nbsp;</span></p>
<p><span>In a subsequent Notice of Proposed Rulemaking in 2016 (WT Docket No. 16-239), the FCC tentatively concluded that a 2.8 kilohertz bandwidth limitation for radioteletype and data emissions in the MF/HF bands was not necessary, and sought comment.&nbsp;</span></p>
<p><a href="https://www.radioworld.com/news-and-business/business-and-law/"><b><i>[See Our Business and Law Page]</i></b></a></p>
<p><span>A few commenters at the time of the NPRM opposed any rule change, arguing that the existing rules should be retained in order to protect access to amateur bands by Morse code and other narrowband transmissions.</span></p>
<p><span>However, the commission writes in the order: ‚ÄúBased on the record in this proceeding, we find that the baud rate limitation has become outdated and hampers, rather than promotes, innovation and robust use of the amateur bands.‚Äù</span></p>
<p><span>The commission continued in the new order: ‚ÄúWe are persuaded by the weight of the record in this proceeding that, without a baud rate or bandwidth limit, data stations using a large amount of spectrum for a single emission could do so to the detriment of simultaneous use by other stations using narrowband emission modes.‚Äù&nbsp;</span></p>
<p><span>In essence, the technical change mean amateurs will require less time to transmit messages, which in turn will open up more spectrum in the time domain for more amateurs to use, said David Siddall, general counsel for ARRL.&nbsp;</span></p>
<p><span>‚ÄúThis is a very simple change. In 1980, at the inception of digital technologies that could be used by radio amateurs, the FCC adopted a speed limit of 300 baud for the stated purpose of limiting the amount of spectrum occupied by any single signal,‚Äù Siddall said. ‚ÄúRadio amateurs, being tinkerers and experimenters, worked to develop faster and faster speeds that still fit within the standard spectrum bandwidth. Eventually their innovations to the technology significantly increased spectrum efficiency but ran up against the FCC baud rate limit.‚Äù</span></p>
<p><span>One of the benefits of the changes will be allowing for ‚Äúfaster emergency communications‚Äù by volunteer ham radio operators during emergencies, the FCC says.</span></p>
<p><span>The agency says its Wireless Telecommunications Bureau‚Äôs Mobility Division has previously issued waivers allowing amateur operators directly involved with disaster relief efforts to exceed the baud rate limitation in the interest of public safety.</span></p>
<p><span>The FCC at its November meeting will also consider a Further Notice of Proposed Rulemaking (FNPRM) that proposes to remove the baud rate limitation in the 2200 meter and 630 meter bands. The commission also proposes to remove the baud rate limitation in the very high frequency (VHF) and ultra-high frequency (UHF) bands.&nbsp;</span></p>
<p><span>The commission says it expects to seek comment on the appropriate bandwidth limitation for the 2200 meter band, the 630 meter band, and the VHF and UHF bands.</span></p>
<p><span>Steve Stroh, editor of amateur radio newsletter Zero Retries, says the need for improved data communications in amateur radio also coincides with spectrum becoming more ‚Äúnoisy‚Äù due to ‚Äúpollution‚Äù by systems such as LED lighting, small switching power supplies and even solar panels.&nbsp;</span></p>
<p><span>‚ÄúThat noise has an outsize impact on analog modes such as voice and very low power transmissions. Improved data communications modes, including digital voice modes, can overcome the noise issues,‚Äù Stroh said in an email to Radio World.</span></p>
<p><span>Stroh says he is happy to see the FCC address the same limitation on the amateur radio VHF and UHF bands ‚Äî&nbsp;where there is arguably much greater potential for technological innovation in data communications technology ‚Äî if it wasn‚Äôt for the data rate and mode limitations.</span></p>
<p><span>‚ÄúFortunately, in its proposal, the FCC recognizes that the symbol rate and mode issue does include the Amateur Radio VHF and UHF bands. Thus the FCC‚Äôs proposal is a very good one that will significantly benefit Amateur Radio,‚Äù he said.&nbsp;</span></p>
<p><span>The FCC‚Äôs next meeting is scheduled for November 15. A comment period on the <a href="https://www.radioworld.com/wp-content/uploads/2023/10/DOC-397992A1.pdf" target="_blank" rel="noopener">FNPRM</a> will commence 30 days after the date of publication in the Federal Register.&nbsp;</span></p>
<p><a href="https://www2.smartbrief.com/signupSystem/subscribe.action?pageSequence=1&amp;briefName=RW&amp;campaign=pm_optin_promo_website_RW"><b><i>[Sign Up for Radio World‚Äôs SmartBrief Newsletter]</i></b></a></p>
	</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Arena Allocation in SBCL (201 pts)]]></title>
            <link>https://github.com/sbcl/sbcl/blob/master/doc/internals-notes/arena-allocation.txt</link>
            <guid>38052564</guid>
            <pubDate>Sat, 28 Oct 2023 19:14:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/sbcl/sbcl/blob/master/doc/internals-notes/arena-allocation.txt">https://github.com/sbcl/sbcl/blob/master/doc/internals-notes/arena-allocation.txt</a>, See on <a href="https://news.ycombinator.com/item?id=38052564">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:sbcl/sbcl" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="Mnx9tRbarTOt8ngCvgvDHpPMwnPOcyotD1Y-tGLHJ3hWfsevvWeUFl1JpEwpb9VJLEVz0HTZ5Ro8PFLfRyEwfg" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="sbcl/sbcl" data-current-org="sbcl" data-current-owner="" data-logged-in="false">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="feedback-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      
      
</modal-dialog></div>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="custom-scopes-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      
      
</modal-dialog></div>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&amp;source=header-repo&amp;source_repo=sbcl%2Fsbcl" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/sbcl/sbcl/blob/master/doc/internals-notes/arena-allocation.txt&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="75976cb7304d17e24f1210cf14eadc28bcd586b4271b511ee93c19d50712ce9c" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>/blob/show;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[React use C (186 pts)]]></title>
            <link>https://github.com/elnardu/react-use-c</link>
            <guid>38052416</guid>
            <pubDate>Sat, 28 Oct 2023 18:57:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/elnardu/react-use-c">https://github.com/elnardu/react-use-c</a>, See on <a href="https://news.ycombinator.com/item?id=38052416">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
          <p>      A tag already exists with the provided branch name. Many Git commands accept both tag and branch names, so creating this branch may cause unexpected behavior. Are you sure you want to create this branch?
</p>

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: OpenSign ‚Äì Open source alternative to DocuSign (435 pts)]]></title>
            <link>https://github.com/OpenSignLabs/OpenSign</link>
            <guid>38052344</guid>
            <pubDate>Sat, 28 Oct 2023 18:47:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/OpenSignLabs/OpenSign">https://github.com/OpenSignLabs/OpenSign</a>, See on <a href="https://news.ycombinator.com/item?id=38052344">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" id="user-content-opensign" dir="auto"><a href="#opensign"></a><a href="https://www.opensignlabs.com/" rel="nofollow">OpenSign‚Ñ¢</a></h2>

<h3 tabindex="-1" id="user-content-table-of-contents" dir="auto"><a href="#table-of-contents">Table of Contents</a></h3>
<ol dir="auto">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#contribution-guidelines">Contribution Guidelines</a></li>
<li><a href="#license">License</a></li>
<li><a href="#acknowledgments">Acknowledgments</a></li>
</ol>
<hr>
<h3 tabindex="-1" id="user-content-introduction" dir="auto"><a href="#introduction">Introduction</a></h3>
<p dir="auto">Welcome to OpenSign, an open-source document e-signing solution designed to provide a secure, reliable, and free alternative to commercial platforms like DocuSign, PandaDoc, SignNow, Adobe Sign, Smartwaiver, SignRequest, HelloSign &amp; Zoho sign. Developed under the OpenSignLabs organization, our mission is to democratize the e-signing process, making it accessible and straightforward for everyone.</p>
<hr>
<h3 tabindex="-1" id="user-content-features" dir="auto"><a href="#features">Features</a></h3>
<ul dir="auto">
<li><strong>Secure Signing</strong>: Utilizes state-of-the-art cryptographic algorithms to ensure the security &amp; integrity of your documents.</li>
<li><strong>User-Friendly Interface</strong>: Designed with usability in mind, making it easy for both technical and non-technical users.</li>
<li><strong>Multi-Platform Support</strong>: Compatible with various browsers and devices.</li>
<li><strong>Invite &amp; collaborate users</strong>: Bring multiple people from your team into the signing process, all within your own infrastructure.</li>
<li><strong>Secure</strong>: Allows for the easy, secure and seamless organization of your documents using 'OpenSigDrive'.</li>
<li><strong>Audit Trails</strong>: Keeps a detailed log of all activities related to the document signing process including IP addresses and access timings.</li>
<li><strong>Completion Certificate</strong>: Generate secure completion certificate as soon as a document is signed by all participants.</li>
<li><strong>API Support</strong>: Provides a robust API for integration into other software and services.</li>
</ul>
<a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/5486116/278610472-b37ff443-7099-4273-9aeb-21c46d7154cf.png"><img src="https://user-images.githubusercontent.com/5486116/278610472-b37ff443-7099-4273-9aeb-21c46d7154cf.png" height="200"></a>
<a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/5486116/278610525-86db91b7-6c2f-4885-a33c-58f4fd35ec89.png"><img src="https://user-images.githubusercontent.com/5486116/278610525-86db91b7-6c2f-4885-a33c-58f4fd35ec89.png" height="200"></a>
<a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/5486116/278610557-56835efd-c40e-42de-a206-20202c293876.png"><img src="https://user-images.githubusercontent.com/5486116/278610557-56835efd-c40e-42de-a206-20202c293876.png" height="200"></a>
<hr>
<h3 tabindex="-1" id="user-content-installation" dir="auto"><a href="#installation">Installation</a></h3>
<p dir="auto">Please refer to the <a href="https://github.com/OpenSignLabs/OpenSign/blob/main/INSTALLATION.md">Installation Guide</a> for detailed instructions on how to install OpenSign on your system.</p>
<hr>
<h3 tabindex="-1" id="user-content-usage" dir="auto"><a href="#usage">Usage</a></h3>
<p dir="auto">For comprehensive guidelines on how to use OpenSign, please consult our <a href="https://github.com/OpenSignLabs/OpenSign/blob/main/USAGE.md">User Manual</a>.</p>
<hr>
<h3 tabindex="-1" id="user-content-contribution-guidelines" dir="auto"><a href="#contribution-guidelines">Contribution Guidelines</a></h3>
<p dir="auto">We welcome contributions from the open-source community. For more information on how to contribute, please read our <a href="https://github.com/OpenSignLabs/OpenSign/blob/main/CONTRIBUTING.md">Contribution Guidelines</a>.</p>
<hr>
<h3 tabindex="-1" id="user-content-license" dir="auto"><a href="#license">License</a></h3>
<p dir="auto">OpenSign is licensed under the AGPL License. For more details, see the <a href="https://github.com/OpenSignLabs/OpenSign/blob/main/LICENSE.md">LICENSE</a> file.</p>
<hr>
<h3 tabindex="-1" id="user-content-acknowledgments" dir="auto"><a href="#acknowledgments">Acknowledgments</a></h3>
<p dir="auto">We would like to thank all our contributors and users for their support and feedback. Special thanks to <a href="https://github.com/OpenSignLabs">OpenSignLabs</a> for spearheading this initiative.</p>
<hr>
<h2 tabindex="-1" id="user-content-contributors" dir="auto"><a href="#contributors">Contributors</a></h2>



<table>
  <tbody>
    <tr>
      <td><a href="https://aleksandarjakovljevic.com/" rel="nofollow"><img src="https://avatars.githubusercontent.com/u/2115393?v=4?s=100" width="100px;" alt="Aleksandar Jakovljevic"><br><sub><b>Aleksandar Jakovljevic</b></sub></a><br><a href="#code-ajakov" title="Code">üíª</a></td>
      <td><a href="https://github.com/nxglabs"><img src="https://avatars.githubusercontent.com/u/5486116?v=4?s=100" width="100px;" alt="Amol"><br><sub><b>Amol</b></sub></a><br><a href="#code-nxglabs" title="Code">üíª</a></td>
      <td><a href="https://github.com/BuilderPrid"><img src="https://avatars.githubusercontent.com/u/106882895?v=4?s=100" width="100px;" alt="Priyanshu Dwivedi"><br><sub><b>Priyanshu Dwivedi</b></sub></a><br><a href="#code-BuilderPrid" title="Code">üíª</a></td>
      <td><a href="https://github.com/Tashuuuu"><img src="https://avatars.githubusercontent.com/u/85075827?v=4?s=100" width="100px;" alt="Akriti Sengar"><br><sub><b>Akriti Sengar</b></sub></a><br><a href="#code-Tashuuuu" title="Code">üíª</a></td>
      <td><a href="https://github.com/parthrc"><img src="https://avatars.githubusercontent.com/u/101104958?v=4?s=100" width="100px;" alt="Parth Chawande"><br><sub><b>Parth Chawande</b></sub></a><br><a href="#code-parthrc" title="Code">üíª</a></td>
      <td><a href="https://github.com/Rishabh-git10"><img src="https://avatars.githubusercontent.com/u/107680241?v=4?s=100" width="100px;" alt="Rishabh Dewangan"><br><sub><b>Rishabh Dewangan</b></sub></a><br><a href="#code-Rishabh-git10" title="Code">üíª</a></td>
      <td><a href="https://github.com/LemonDrop847"><img src="https://avatars.githubusercontent.com/u/106615670?v=4?s=100" width="100px;" alt="Nitin Mishra"><br><sub><b>Nitin Mishra</b></sub></a><br><a href="#code-LemonDrop847" title="Code">üíª</a></td>
    </tr>
    <tr>
      <td><a href="http://jobinselvanose.com/" rel="nofollow"><img src="https://avatars.githubusercontent.com/u/63976083?v=4?s=100" width="100px;" alt="Jobin Selvanose"><br><sub><b>Jobin Selvanose</b></sub></a><br><a href="#doc-Jobin-S" title="Documentation">üìñ</a></td>
    </tr>
  </tbody>
</table>



</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[McDonalds is giving free French fries in return for waiving the right to sue (122 pts)]]></title>
            <link>https://www.mashed.com/1432093/mcdonalds-new-app-terms-conditions-reactions/</link>
            <guid>38052212</guid>
            <pubDate>Sat, 28 Oct 2023 18:27:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.mashed.com/1432093/mcdonalds-new-app-terms-conditions-reactions/">https://www.mashed.com/1432093/mcdonalds-new-app-terms-conditions-reactions/</a>, See on <a href="https://news.ycombinator.com/item?id=38052212">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
<article>
    <div>
																	
								
							
				
							

							
				<div data-post-url="https://www.mashed.com/1432093/mcdonalds-new-app-terms-conditions-reactions/" data-post-title="McDonald's New Terms And Conditions Have People Deleting The App" data-slide-num="0" data-post-id="1432093">
											
															<picture>
																			<source media="(min-width: 429px)" srcset="https://www.mashed.com/img/gallery/mcdonalds-new-terms-and-conditions-have-people-deleting-the-app/intro-1698426237.webp" type="image/webp">
										<source media="(max-width: 428px)" srcset="https://www.mashed.com/img/gallery/mcdonalds-new-terms-and-conditions-have-people-deleting-the-app/intro-1698426237.sm.webp" type="image/webp">
																		<img src="https://www.mashed.com/img/gallery/mcdonalds-new-terms-and-conditions-have-people-deleting-the-app/intro-1698426237.jpg" data-slide-url="https://www.mashed.com/1432093/mcdonalds-new-app-terms-conditions-reactions/" data-post-id="1432093" data-slide-num="0" data-slide-title="McDonald's New Terms And Conditions Have People Deleting The App: " width="780" height="438" alt="phone displaying McDonald's mobile app">
								</picture>
																					<p><span>Vladimka production/Shutterstock</span>									</p></div>

																													
				<div>
															<p dir="ltr">Practically everyone has clicked "agree" on terms and conditions they didn't read through. Unfortunately, the latest terms and conditions for using the <a href="https://www.mcdonalds.com/us/en-us/terms-and-conditions.html" target="_blank">McDonald's</a> app contain many&nbsp;customer-affecting changes: updates to McDonald's liability in cases of injury, third-party errors, and app malfunction; waivers for a customer's right to a jury trial or class action lawsuit; and an agreement to solve disputes through a strict arbitration process.</p>

<p dir="ltr">Essentially, the new terms state that, if a customer tries to <a href="https://www.mashed.com/1398637/mcdonalds-sued-hot-coffee-again/" target="_blank">sue over hot coffee</a>, for example, they can't take their case to trial. Rather, as laid out in McDonald's 12-step outline, the customer must notify the company of their intent to seek arbitration, meet with the company to discuss the problem, and only then have an arbitrator enter the equation.&nbsp;As you can imagine, this process eliminates decision-making by a dozen jurors, instead giving a single arbitrator discretion in deciding the outcome. The very nature of the arbitration process makes class action nearly impossible, meaning each customer has to file their own dispute with McDonald's.</p>
<p dir="ltr">All that said, perhaps the most controversial piece of these updates is that there's no way to opt out of accepting the new terms and conditions ‚Äî no box to check saying you disagree. The only choices? Agree or delete the app.</p>


					
									</div>
					</div>

    <div>
			

							                    <h2>McDonald's customers are opting to delete the app</h2>
				
				<div data-slide-num="1" data-post-id="1432093">
											
																					<picture>
																	<source media="(min-width: 429px)" data-srcset="https://www.mashed.com/img/gallery/mcdonalds-new-terms-and-conditions-have-people-deleting-the-app/mcdonalds-customers-are-opting-to-delete-the-app-1698426091.webp" type="image/webp">
									<source media="(max-width: 428px)" data-srcset="https://www.mashed.com/img/gallery/mcdonalds-new-terms-and-conditions-have-people-deleting-the-app/mcdonalds-customers-are-opting-to-delete-the-app-1698426091.sm.webp" type="image/webp">
																<img data-lazy-src="https://www.mashed.com/img/gallery/mcdonalds-new-terms-and-conditions-have-people-deleting-the-app/mcdonalds-customers-are-opting-to-delete-the-app-1698426091.jpg" data-slide-url="https://www.mashed.com/1432093/mcdonalds-new-app-terms-conditions-reactions/slide/mcdonalds-customers-are-opting-to-delete-the-app/" data-post-id="1432093" data-slide-num="1" data-slide-title="McDonald's New Terms And Conditions Have People Deleting The App: McDonald's customers are opting to delete the app" width="780" height="438" alt="McDonald's customer on phone" src="https://www.mashed.com/img/gallery/mcdonalds-new-terms-and-conditions-have-people-deleting-the-app/mcdonalds-customers-are-opting-to-delete-the-app-1698426091.jpg">
							</picture>
																				<p><span>Sorbis/Shutterstock</span>									</p></div>

				
				<div>
															<p dir="ltr">Understandably, McDonald's customers have been very vocal about the new terms and conditions online, with many saying they're choosing to delete the app rather than sign their legal rights away. Several people pointed out that McDonald's has been pushing its app more frequently in recent months, particularly through app-only offers like <a href="https://www.mashed.com/1427915/mcdonalds-free-french-fry-fridays/" target="_blank">free fries on Fridays</a>. At the same time, one <a href="https://www.tiktok.com/@seansvv/video/7294149648397241642" target="_blank">TikTok</a> user commented that the terms and conditions include a great deal of legal jargon that the "typical fast food patron [can't] read," much less understand. Similarly, a <a href="https://www.reddit.com/r/AskReddit/comments/17fx4b2/comment/k6ct4gh/" target="_blank">Reddit</a> user noted that these terms are intended to stack the deck against anyone who tries to sue McDonald's.</p>

<p dir="ltr">Customers questioned whether or not the terms and conditions are actually legally binding, given that the agreement does not require a signature or date. Unfortunately, if McDonald's has laid out all necessary information and provided app users with the ability to agree or disagree (the latter requiring customers to jump through hoops to delete their account and the app itself), the terms and conditions are assumedly enforceable by law in most states.</p>

					
									</div>
					</div>


</article>


	
	
	
	
	

		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fixing the volume on my Bluetooth earbuds (246 pts)]]></title>
            <link>https://blog.ornx.net/post/bluetooth-volume-fix/</link>
            <guid>38051488</guid>
            <pubDate>Sat, 28 Oct 2023 17:06:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.ornx.net/post/bluetooth-volume-fix/">https://blog.ornx.net/post/bluetooth-volume-fix/</a>, See on <a href="https://news.ycombinator.com/item?id=38051488">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
    <header>
        <p><a href="https://blog.ornx.net/post/bluetooth-volume-fix/">
                <img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_hexdump_rofs_banner_hu9f10eb583e5810089a711ba6408d8f55_39932_800x0_resize_box_3.png" srcset="https://blog.ornx.net/post/bluetooth-volume-fix/fw_hexdump_rofs_banner_hu9f10eb583e5810089a711ba6408d8f55_39932_800x0_resize_box_3.png 800w, https://blog.ornx.net/post/bluetooth-volume-fix/fw_hexdump_rofs_banner_hu9f10eb583e5810089a711ba6408d8f55_39932_1600x0_resize_box_3.png 1600w" width="800" height="273" loading="lazy" alt="Featured image of post Fixing the Volume on my Bluetooth Earbuds">
                
            </a>
        </p>
    

    <div>
    
    <header>
        
            <a href="https://blog.ornx.net/categories/reverse-engineering/">
                reverse engineering
            </a>
        
    </header>
    

    <p>
        
    
        
        <h3>
            A bit of reverse engineering goes a long way
        </h3>
        
    </p>

    
    
    
    
    
    

    
</div>

</header>

    <section>
    
    
    <h2 id="introduction">Introduction</h2>
<p>I recently got a pair of Tozo T6 earbuds. They‚Äôre great and I love them but they play a sound whenever you pair, unpair, or connect them, and it‚Äôs way too loud for my preference.<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> I also wasn‚Äôt able to fix it by e.g. setting the equalizer to subtract a few decibels across the board. I asked them via email about this and they responded promptly and said that there was nothing they could do, which is understandable - it‚Äôs probably not a common request. But it was too loud for me to continue using them, so I decided to try to solve the problem myself.</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/tozo_t6_earbuds.jpg" alt="Tozo T6 earbuds. They&amp;rsquo;re great. I only have one complaint&amp;hellip;" width="66%"><figcaption>
            <p>Tozo T6 earbuds. They‚Äôre great. I only have one complaint‚Ä¶</p>
        </figcaption>
</figure>

<p>To solve the problem, I need to modify the firmware that runs on the device. My initial expectation of how this would work was:</p>
<ol>
<li>I would get a binary file from somewhere for my device. People often share firmware files online, maybe I could find a copy using a search engine.</li>
<li>The firmware file would be in some easily-understood binary structure like ELF.</li>
<li>The audio files would be contained in the binary somewhere, maybe as an ELF symbol (going from the last point). Knowing how the image format worked would let me modify the data within it while making sure that I didn‚Äôt accidentally give it a corrupt image and possibly brick my device.</li>
<li>The audio files would be in a format that would be easy to transform, maybe PCM since it‚Äôs running on an embedded device with perhaps limited computational power to decode audio (of course, it‚Äôs also a headset, so probably it can decode compressed audio just fine).</li>
<li>Once I can modify data within the firmware image (either unpack/repack it or modify data in-situ by knowing its offset and length within the image), do so to make the audio quieter (e.g. if it‚Äôs PCM then maybe halve each sample, etc).</li>
<li>Finally, I would flash my modified firmware to the device with some kind of tool made for my model of equipment or its underlying chipset, etc.</li>
</ol>
<p>Some of these assumptions ended up being completely false and unwarranted (I have no idea why I hoped that the audio would be uncompressed on a low-power device like this, for example), but this was my thinking starting out. It also doesn‚Äôt include any reverse engineering, which ended up taking up most of the time that wasn‚Äôt spent on setting up infrastructure (such as an intercepting proxy), but this was mostly just going down rabbitholes. In the end, I actually didn‚Äôt need to reverse engineer much at all. So this post is less about reverse engineering and more about the general process of solving my particular problem.</p>
<h2 id="first-steps-initial-research">First steps: initial research</h2>
<p>The first step is to collect information about what exactly the device is. There seem to be several different entities involved in the production of cheap electronics:</p>
<ul>
<li>The vendor, who actually brands and sells the device - Tozo, in this case.</li>
<li>The chipset, a specific piece of hardware the device is mostly designed around, which runs the firmware code and might have special features for the application at hand.</li>
<li>The ISA - the chipset will run code of a particular instruction set, with a ‚Äúcore‚Äù derived from some other base tech like ARM, MIPS, etc (or perhaps they rolled their own).</li>
<li>Additional features - the chipset might integrate technology from other people onto their chip, such as additional coprocessors, chips to interface with different kinds of hardware, etc.</li>
</ul>
<p>The chipset for my device ended up being an Airoha AB1562, which apparently is based on an Tensilica Xtensa ISA and includes a ‚ÄúCadence HiFi DSP coprocessor‚Äù. I wasn‚Äôt able to find this out searching for my device model however, so I ended up just looking through the disassembly for their Android app. There I found an SDK for a company called ‚ÄúAiroha‚Äù, with references to specific chip models and containing all of the primitives for talking to devices. I wasn‚Äôt able to find any other chipset SDK‚Äôs, so I assumed this was the chipset manufacturer.</p>
<p>I still had to find the specific model though. After a bit more searching, I found a Reddit community for discussing AirPods clones called /r/airreps, which gave me some good advice about how to proceed. They have also written an Android application called ‚ÄúAirReps156X‚Äù<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> which also uses the Airoha SDK, and can provide diagnostic information about Airoha devices<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>. I was able to connect to this app with my device, so it‚Äôs definitely an Airoha chipset, and one of the diagnostic strings was ‚ÄúQW_1562U_SDK1.5.1‚Äù, which leads me to believe that my device chipset is in the Airoha AB1562 series:</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/airreps_156x_diagnostic.png" alt="The &amp;ldquo;Airreps 156X&amp;rdquo; app display device information." width="33%"><figcaption>
            <p>The ‚ÄúAirreps 156X‚Äù app display device information.</p>
        </figcaption>
</figure>

<p>The application also lets you flash new firmware, which is a fairly critical item on the checklist. So now that we‚Äôve gotten that prerequisite out of the way and identified the chipset all that‚Äôs left to do is to find the actual firmware and modify it.</p>
<h2 id="finding-the-actual-binaries">Finding the actual binaries</h2>
<p>The Tozo application is my first lead. When you connect your earbuds to the Tozo app, it displays the firmware version and whether or not it‚Äôs ‚Äúcurrent‚Äù. So it must talk to a server somewhere, which knows what the latest version of the firmware is:</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/tozo_app_current.png" alt="Tozo&amp;rsquo;s app displaying the current firmware version." width="33%"><figcaption>
            <p>Tozo‚Äôs app displaying the current firmware version.</p>
        </figcaption>
</figure>

<p>In theory, I could probably just read through the decompiled code in jadx or something until I find out what servers it‚Äôs talking to, how, and what it does when it checks for updates (such as, presumably, downloading the firmware files I‚Äôm looking for). But that‚Äôs a lot of work, so I have a better idea - when the app checks if the firmware is up to date, it might also make API requests that could shed some light on where to find the actual firmware files. It might even be able to be tricked into trying to update, which would also lead me to the right URLs. So some quick and dirty ‚Äúdynamic analysis‚Äù via traffic interception is the logical next step.</p>
<h2 id="setting-up-an-intercepting-proxy">Setting up an intercepting proxy</h2>
<p>To this end I set up an intercepting proxy using my wireless NIC with hostapd and mitmproxy, and patched the Tozo app with apktool + uber apk signer so that it‚Äôll let us strip the TLS and snoop on its raw network traffic.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup></p>
<p>Patching the APK is pretty standard stuff - I just followed <a href="https://gist.github.com/unoexperto/80694ccaed6dadc304ad5b8196cbbd2c" target="_blank" rel="noopener">this gist</a>. The idea is that Android applications have two CA stores, one that can be easily modified by the user, and one that can‚Äôt, and by default most Android apps only check TLS certificates against the latter. But, by patching the APK, we can tell it to use the former too, which is where we put our mitmproxy-provided TLS certificate that we‚Äôre going to use to snoop on all of the network traffic used by our app. Then we have to sign it so Android will deal with it.</p>
<p>The intercepting proxy setup was pretty straightforward - just set up the AP, set up some iptables rules to direct traffic to mitmproxy‚Äôs listening port, and do the typical NAT song and dance:</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="make"><span><span><span>.PHONY</span><span>:</span> <span>start</span>
</span></span><span><span><span>start</span><span>:</span>
</span></span><span><span>	nmcli device <span>set</span> wlp3s0 managed no
</span></span><span><span>	sudo sysctl -w net.ipv4.conf.all.send_redirects<span>=</span><span>0</span>
</span></span><span><span>	sudo sysctl -w net.ipv4.ip_forward<span>=</span><span>1</span>
</span></span><span><span>	sudo iptables -I INPUT -i wlp3s0 -j ACCEPT
</span></span><span><span>	sudo iptables -t nat -A PREROUTING -i wlp3s0 -p tcp --dport <span>80</span> -j REDIRECT --to-port <span>8080</span>
</span></span><span><span>	sudo iptables -t nat -A PREROUTING -i wlp3s0 -p tcp --dport <span>443</span> -j REDIRECT --to-port <span>8080</span>
</span></span><span><span>	sudo iptables -A FORWARD -i wlp3s0 -o enp5s0f3u1u3c2 -j ACCEPT
</span></span><span><span>	sudo iptables -t nat -A POSTROUTING -o enp5s0f3u1u3c2 -j MASQUERADE
</span></span><span><span>	sudo iptables -A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
</span></span><span><span>	sudo hostapd hostapd.conf
</span></span><span><span>
</span></span><span><span><span>.PHONY</span><span>:</span> <span>stop</span>
</span></span><span><span><span>stop</span><span>:</span>
</span></span><span><span>	sudo sysctl -w net.ipv4.conf.all.send_redirects<span>=</span><span>1</span>
</span></span><span><span>	sudo sysctl -w net.ipv4.ip_forward<span>=</span><span>0</span>
</span></span><span><span>	sudo iptables -D INPUT -i wlp3s0 -j ACCEPT
</span></span><span><span>	sudo iptables -t nat -D PREROUTING -i wlp3s0 -p tcp --dport <span>80</span> -j REDIRECT --to-port <span>8080</span>
</span></span><span><span>	sudo iptables -t nat -D PREROUTING -i wlp3s0 -p tcp --dport <span>443</span> -j REDIRECT --to-port <span>8080</span>
</span></span><span><span>	sudo iptables -D FORWARD -i wlp3s0 -o enp5s0f3u1u3c2 -j ACCEPT
</span></span><span><span>	sudo iptables -t nat -D POSTROUTING -o enp5s0f3u1u3c2 -j MASQUERADE
</span></span><span><span>	sudo iptables -D FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
</span></span><span><span>	nmcli device <span>set</span> wlp3s0 managed yes
</span></span><span><span>				
</span></span><span><span><span>.PHONY</span><span>:</span> <span>mitmproxy</span>
</span></span><span><span><span>mitmproxy</span><span>:</span>
</span></span><span><span>	<span>SSLKEYLOGFILE</span><span>=</span><span>"sslkeylogfile-attempt1.txt"</span> mitmdump --mode transparent --showhost -k
</span></span></code></pre></td></tr></tbody></table>
</div>

<p>


<em>The script I used to start and stop the TLS-stripping wireless AP. I know <code>make</code> isn‚Äôt really the right tool for this, but it‚Äôs a force of habit at this point.</em>

</p>


<h2 id="snooping-on-the-applications-network-traffic">Snooping on the application‚Äôs network traffic</h2>
<p>Once it was all working, I saw that when I connected the device to the app and the ‚Äúcurrent‚Äù string popped up next to the firmware version, it made a request to an endpoint /api/v1/getOtaVersionV3. And, lo and behold, the response contains links to all of the firmware bins we‚Äôre looking for! How nice. No trickery needed.</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/tozo_netcap_checkota_request_redacted.png" alt="getOtaVersionV3 Request in Wireshark" width="92%"><figcaption>
            <p>getOtaVersionV3 Request in Wireshark</p>
        </figcaption>
</figure>

<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/tozo_mitmproxy_response.png" alt="getOtaVersionV3 Response in mitmproxy" width="92%"><figcaption>
            <p>getOtaVersionV3 Response in mitmproxy</p>
        </figcaption>
</figure>

<h2 id="analyzing-the-firmware">Analyzing the firmware</h2>
<p>There are four files, two per earbud, each having a ‚ÄúFotaPackage‚Äù and a ‚ÄúFileSystemImage‚Äù. The two filesystem images are identical, so we wind up with three distinct files - two fotapackages for L and R earbuds, and the filesystem image.</p>
<p>The first thing anybody does when they get a weird file is, they run the Linux command ‚Äúfile‚Äù on it, to see if it has a magic number that indicates its file format:</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_file.png" alt="Unhelpful." width="92%"><figcaption>
            <p>Unhelpful.</p>
        </figcaption>
</figure>

<p>‚Ä¶and, if that doesn‚Äôt help, they might run strings or hexdump over it, to see if there‚Äôs any interesting human-readable ASCII strings in it:</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_strings_rofs.png" alt="From the filesystem image - some filenames, at least." width="92%"><figcaption>
            <p>From the filesystem image - some filenames, at least.</p>
        </figcaption>
</figure>

<p>and then binwalk to see if there‚Äôs any files embedded in it:</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_binwalk.png" alt="The LZ4 region contains the NVROM, which isn&amp;rsquo;t useful to us - it doesn&amp;rsquo;t contain any audio files." width="92%"><figcaption>
            <p>The LZ4 region contains the NVROM, which isn‚Äôt useful to us - it doesn‚Äôt contain any audio files.</p>
        </figcaption>
</figure>

<p>Unfortunately, binwalk didn‚Äôt find anything, even the mp3 files whose filenames are referenced directly in the image. They are indeed in there, it‚Äôs just that the mp3 file format is just not very easy to carve out of arbitrary binary data because it doesn‚Äôt have any kind of magic number (it can start with either 0xFFFF or 0xFFFE, neither of which are particularly distinctive, and there‚Äôs no footer). So even though you can tell they‚Äôre in there, it‚Äôs not immediately obvious how to unambiguously calculate the offset and length for each mp3 file. So, I decided the best way to figure this out would be to decipher the filesystem image format, which probably has information that tells you where each file begins and ends.</p>
<h2 id="entropy-analysis">Entropy analysis</h2>
<p>The next step for this is entropy analysis. This basically tells you what parts of a file are constant (0x00 or 0xFF are popular bytes for this), which parts resemble random noise, which parts are valid ASCII text, and the offsets at which one of those things changes into another. It‚Äôs useful because it sometimes lets you visualize the structure of something without actually knowing anything about it.</p>
<p>The filesystem image looked promising (generated with <a href="http://binvis.io/%29" target="_blank" rel="noopener">http://binvis.io/)</a>:</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_binvisio_entropy_rofs.png" alt="It does some grouping of the data into blocks to make the structure more visible, so it&amp;rsquo;s not row-by-row like you might expect." width="10%"><figcaption>
            <p>It does some grouping of the data into blocks to make the structure more visible, so it‚Äôs not row-by-row like you might expect.</p>
        </figcaption>
</figure>

<p>Unfortunately, the FotaPackage files however were obviously encrypted or compressed somehow:</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_binwalk_entropy_l.png" alt="It&amp;rsquo;s not looking good." width="92%"><figcaption>
            <p>It‚Äôs not looking good.</p>
        </figcaption>
</figure>

<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_binvisio_entropy_fota_l.png" alt="Oof." width="10%"><figcaption>
            <p>Oof.</p>
        </figcaption>
</figure>

<p>I also noticed that the left and right FotaPackage binaries had some curious differences - their headers only differed sporadically, while the body was identical except for the end, where there was about 7KB of complete difference.</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_binwalk_lr_diff_start.png" alt="The header (0x00-0x1000) appears to be unencrypted and only differs in small segments." width="92%"><figcaption>
            <p>The header (0x00-0x1000) appears to be unencrypted and only differs in small segments.</p>
        </figcaption>
</figure>

<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_binwalk_lr_diff_end.png" alt="Then, at the end, the footer suddenly changes to completely different, at around 0xC4E38." width="92%"><figcaption>
            <p>Then, at the end, the footer suddenly changes to completely different, at around 0xC4E38.</p>
        </figcaption>
</figure>

<p>I wasn‚Äôt completely sure as to the meaning of this, beyond the fact that there was obviously some kind of opaque transformation at work. My initial guess was encryption, with the same key/IV but different plaintexts, and that the sudden difference corresponds to a single-byte difference (perhaps an #ifdef EARBUD_R doBluetoothMasterThings(); #else doBluetoothSlaveThings(); #endif sort of thing) that then leads to the rest of the file being different, but I wasn‚Äôt able to verify this. Regardless of why, it was obvious I wasn‚Äôt going to get anything out of them without serious effort.</p>
<h2 id="a-quick-appraisal-of-the-situation">A quick appraisal of the situation</h2>
<p>The fact that we know the audio is mp3 was actually pretty bad news to me at first glance. My understanding of media encoders is that they generally have a lot of options for how to encode something, while sometimes a given decoder will barf on a perfectly well-formed file that happens to use a feature it wasn‚Äôt expecting.</p>
<p>This is very bad for us for two reasons:</p>
<ol>
<li>Our decoder is of utterly unknown provenance, who knows what it might barf on.</li>
<li>The audio gets played right when the device first pairs, so if we produce an mp3 file that the decoder does not like and the device crashes before we can connect to it again, then we risk putting it into an unrecoverable state.</li>
</ol>
<p>Furthermore, even if we use precisely the expected encoding parameters while producing our volume-adjusted mp3 files, if we change the length of the file while modifying it then we must also make sure that we account for this when we modify the filesystem image, where what that specifically means depends on the exact structure of the filesystem format. Presumably, it records the length of each file somewhere, and we need to make sure we adjust this number to accurately refect the new length of the file (or else it will either be truncated or have garbage added to the end). This is a lot of work, and with an uncertain outcome.</p>
<p>So, at this point I was somewhat worried about the future of this project, and was desperately trying to figure out how to proceed without any re-encoding.</p>
<p>Luckily, it turns out that you can indeed modify the volume (or ‚Äúgain‚Äù) of an mp3 file without changing its length, or re-encoding it, or even modifying its metadata. It‚Äôs kind of like how you can rotate a JPEG file without re-encoding it as well - you can just look inside of its data structures and modify them for this one particular transformation without needing to change anything else. Pretty neat!</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/mp3_binwalk_gainadjusted.png" alt="An mp3 file transformed with mp3gain - see, only a few bytes of difference." width="75%"><figcaption>
            <p>An mp3 file transformed with mp3gain - see, only a few bytes of difference.</p>
        </figcaption>
</figure>

<h2 id="rofs">ROFS</h2>
<p>Back to the filesystem image - it seems to contain the mp3 files that correspond to the sounds I am trying to enquiet, and I want to replace them with modified versions, so at a bare minimum I need to know where files begin and end inside of the image. At this point, binwalk couldn‚Äôt identify them, so I thought that the problem was that either they were either obfuscated somehow (compressed/encrypted) or the structure of the filesystem might be making it difficult to identify them. So, I decided that the next point of attack was to understand the structure of the filesystem image, which begins with the ASCII string ‚ÄúROFS‚Äù:</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_hexdump_rofs.png" alt="Hexdump of ROFS image." width="50%"><figcaption>
            <p>Hexdump of ROFS image.</p>
        </figcaption>
</figure>

<p>The first step is to search for information about anything with that name online, but no dice. I‚Äôm pretty sure it‚Äôs bespoke to this particular chipset manufacturer, as I was completely unable to find any reference or documentation of something called ‚ÄúROFS‚Äù that would describe the file I have and the Airoha SDK I would later find contains an implementation of an interface for reading files from it.</p>
<p>At this point, I made a somewhat regrettable decision that the next course of action was to try to attack the firmware, so that I could get to the code that presumably understands the filesystem image format. But the firmware code was (seemingly) encrypted, so I decided to see if they were doing something silly with their encryption and check if maybe the FotaPackage files were decrypted client-side by the SDK before being sent out over the wire. I was eventually able to ascertain with some certainty that the SDK does not transform the firmware in any way before sending it out, but it took me a few hours of reading decompiled code before I came to this conclusion. So of course, I didn‚Äôt succeed in attacking the firmware crypto and it was all a waste of time. Oh well.</p>
<h2 id="sdk-breakthrough">SDK Breakthrough</h2>
<p>The final breakthrough occurred when I searched for the chipset name online, and found a copy of their SDK. Looking through it, I could see that it had a bunch of .mp3 files in it - the same ones I could hear on the device. I wrote a quick python program to check if a file was contained within another file (probably a tool already exists for this?) and verified that the mp3 files in the SDK were contained in the filesystem image verbatim.</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span><span>30
</span><span>31
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="python"><span><span><span>import</span> <span>sys</span>
</span></span><span><span>
</span></span><span><span><span>assert</span><span>(</span><span>len</span><span>(</span><span>sys</span><span>.</span><span>argv</span><span>)</span> <span>==</span> <span>3</span><span>)</span>
</span></span><span><span>
</span></span><span><span><span># returns if a is contained within b</span>
</span></span><span><span><span>a</span><span>=</span><span>sys</span><span>.</span><span>argv</span><span>[</span><span>1</span><span>]</span>
</span></span><span><span><span>b</span><span>=</span><span>sys</span><span>.</span><span>argv</span><span>[</span><span>2</span><span>]</span>
</span></span><span><span>
</span></span><span><span><span>x</span> <span>=</span> <span>False</span>
</span></span><span><span><span>i</span> <span>=</span> <span>0</span>
</span></span><span><span><span>with</span> <span>open</span><span>(</span><span>a</span><span>,</span> <span>mode</span><span>=</span><span>'rb'</span><span>)</span> <span>as</span> <span>af</span><span>:</span>
</span></span><span><span>  <span>ab</span> <span>=</span> <span>af</span><span>.</span><span>read</span><span>()</span>
</span></span><span><span>  <span>with</span> <span>open</span><span>(</span><span>b</span><span>,</span> <span>mode</span><span>=</span><span>'rb'</span><span>)</span> <span>as</span> <span>bf</span><span>:</span>
</span></span><span><span>    <span>bb</span> <span>=</span> <span>bf</span><span>.</span><span>read</span><span>()</span>
</span></span><span><span>    
</span></span><span><span>    <span>while</span> <span>i</span> <span>&lt;</span> <span>len</span><span>(</span><span>bb</span><span>):</span>
</span></span><span><span>      <span>o</span> <span>=</span> <span>0</span>
</span></span><span><span>      <span>while</span> <span>((</span><span>o</span> <span>&lt;</span> <span>len</span><span>(</span><span>ab</span><span>))</span> <span>and</span> <span>((</span><span>i</span> <span>+</span> <span>o</span><span>)</span> <span>&lt;</span> <span>len</span><span>(</span><span>bb</span><span>))</span> <span>and</span> <span>ab</span><span>[</span><span>o</span><span>]</span> <span>==</span> <span>bb</span><span>[</span><span>i</span> <span>+</span> <span>o</span><span>]):</span>
</span></span><span><span>        <span>o</span> <span>=</span> <span>o</span> <span>+</span> <span>1</span>
</span></span><span><span>      <span>if</span> <span>(</span><span>o</span> <span>==</span> <span>len</span><span>(</span><span>ab</span><span>)):</span>
</span></span><span><span>        <span>x</span> <span>=</span> <span>True</span>
</span></span><span><span>        <span>break</span>
</span></span><span><span>      <span>else</span><span>:</span>
</span></span><span><span>        <span>i</span> <span>=</span> <span>i</span> <span>+</span> <span>1</span>
</span></span><span><span>
</span></span><span><span><span>if</span> <span>x</span><span>:</span>
</span></span><span><span>  <span>print</span><span>(</span><span>"found: </span><span>{}</span><span>"</span><span>.</span><span>format</span><span>(</span><span>i</span><span>))</span>
</span></span><span><span>  <span>exit</span><span>(</span><span>0</span><span>)</span>
</span></span><span><span><span>else</span><span>:</span>
</span></span><span><span>  <span>print</span><span>(</span><span>"not found"</span><span>)</span>
</span></span><span><span>  <span>exit</span><span>(</span><span>1</span><span>)</span></span></span></code></pre></td></tr></tbody></table>
</div>

<p>


<em>bincontains.py</em>

</p>


<h2 id="modifying-the-filesystem-image">Modifying the filesystem image</h2>
<p>I was slightly worried that the ROFS image might contain additional data, such as checksums for the files inside of it, but I briefly skimmed the ROFS-related code from the SDK (unfortunately it only seemed to exist as prebuilt object files) and it only had a few symbols in it for operating on the filesystem, none of which suggested the presence of checksumming:</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/ghidra_rofs_obj_symboltable.png" alt="There&amp;rsquo;s not a lot of code in here, and there&amp;rsquo;s no external references to anything relating to checksumming." width="92%"><figcaption>
            <p>There‚Äôs not a lot of code in here, and there‚Äôs no external references to anything relating to checksumming.</p>
        </figcaption>
</figure>

<p>So with that out of the way, at this point I actually have everything I need to complete the task of modifying the volume of the sound files in the firmware image with no further reverse engineering. I have:</p>
<ul>
<li>A way to flash updated firmware to the device, as well as the firmware files themselves.</li>
<li>Knowledge that the mp3 files from the SDK are included verbatim in the filesystem image (no compression, splitting into blocks, etc). This means I have their lengths and offsets in the filesystem image.</li>
<li>Knowledge that you can modify the gain of an mp3 file without re-encoding it or changing its length.</li>
<li>The assumption that the filesystem format doesn‚Äôt include any checksumming or additional information about its files that would be invalidated upon modifying their occupant byte range in the image.</li>
</ul>
<p>Then, it‚Äôs just as simple as looping over the mp3 files, and if it‚Äôs contained in the image, running mp3gain on the file and then replacing it in the image with the gain-modified version. I used an adjustment of -19.5 decibels.</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="bash"><span><span><span>#!/usr/bin/env bash
</span></span></span><span><span><span></span>
</span></span><span><span><span>NS</span><span>=</span><span>"</span><span>$1</span><span>"</span>
</span></span><span><span><span>HS</span><span>=</span><span>"</span><span>$2</span><span>"</span>
</span></span><span><span><span>DB</span><span>=</span><span>"</span><span>$3</span><span>"</span>
</span></span><span><span>
</span></span><span><span><span>for</span> N in <span>$(</span>find <span>"</span><span>$NS</span><span>"</span> -type f <span>|</span> grep -E <span>'mp3$'</span><span>)</span><span>;</span> <span>do</span>
</span></span><span><span>	<span>F</span><span>=</span><span>$(</span>python3 bincontains.py <span>"</span><span>$N</span><span>"</span> <span>"</span><span>$HS</span><span>"</span><span>)</span><span>;</span>
</span></span><span><span>	<span>X</span><span>=</span><span>$?</span>
</span></span><span><span>	<span>if</span> <span>[</span> <span>$X</span> -eq <span>0</span> <span>]</span><span>;</span> <span>then</span>
</span></span><span><span>		<span>START</span><span>=</span><span>$(</span><span>echo</span> <span>"</span><span>$F</span><span>"</span> <span>|</span> awk <span>'{print $2;}'</span><span>)</span>
</span></span><span><span>		<span>LEN</span><span>=</span><span>$(</span>stat -c <span>'%s'</span> <span>"</span><span>$N</span><span>"</span><span>)</span>
</span></span><span><span>		<span>TMP</span><span>=</span><span>$(</span>mktemp <span>"XXXXXXX.mp3"</span><span>)</span>
</span></span><span><span>		cp <span>"</span><span>$N</span><span>"</span> <span>"</span><span>$TMP</span><span>"</span>
</span></span><span><span>		mp3gain -q -T -s r -s s -g <span>"</span><span>$DB</span><span>"</span> <span>"</span><span>$TMP</span><span>"</span>
</span></span><span><span>		<span>LEN2</span><span>=</span><span>$(</span>stat -c <span>'%s'</span> <span>"</span><span>$TMP</span><span>"</span><span>)</span>
</span></span><span><span>		<span>printf</span> <span>"%s,%s,%s,%s\n"</span> <span>"</span><span>$N</span><span>"</span> <span>"</span><span>$START</span><span>"</span> <span>"</span><span>$LEN</span><span>"</span> <span>"</span><span>$LEN2</span><span>"</span>
</span></span><span><span>		dd <span>if</span><span>=</span><span>"</span><span>$TMP</span><span>"</span> <span>of</span><span>=</span><span>"</span><span>$HS</span><span>"</span> <span>bs</span><span>=</span><span>1</span> <span>seek</span><span>=</span><span>"</span><span>$START</span><span>"</span> <span>count</span><span>=</span><span>"</span><span>$LEN</span><span>"</span> <span>conv</span><span>=</span>notrunc
</span></span><span><span>	<span>fi</span>
</span></span><span><span><span>done</span></span></span></code></pre></td></tr></tbody></table>
</div>

<p>


<em>binsearch.sh</em>

</p>


<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/fw_binwalk_modified_diff.png" alt="A quick binary diff of the final firmware image - only a few bytes of difference, as expected." width="92%"><figcaption>
            <p>A quick binary diff of the final firmware image - only a few bytes of difference, as expected.</p>
        </figcaption>
</figure>

<p>Finally, I flashed it to the device and it worked!</p>
<figure><img src="https://blog.ornx.net/post/bluetooth-volume-fix/airreps_156x_fotasucceed.png" alt="Hooray!" width="33%"><figcaption>
            <p>Hooray!</p>
        </figcaption>
</figure>

<p>I shortly verified that the device was fully operational and the sound was, indeed, much quieter than it was when I started.</p>
<p>Mission accomplished!</p>
<h2 id="thats-a-wrap">That‚Äôs a wrap!</h2>
<p>I didn‚Äôt end up having to decrypt the firmware (probably impossible for me) or understand the ROFS image format at all - most of the time spent reverse-engineering was actually going down rabbitholes that didn‚Äôt help me in the end.</p>
<p>I also kind of wish that volume control of system sounds was a first-class feature - from a UI perspective, I think it‚Äôs an error for a device that plays audio to not have a volume control that modifies all of the sound that gets produced by the device. But apparently it has a workaround, so I guess it‚Äôs fine.</p>
<p>But yeah, all in all this was a pretty fun little project, would do again/10.</p>


</section>


    


    
</article></div>]]></description>
        </item>
    </channel>
</rss>