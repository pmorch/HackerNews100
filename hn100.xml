<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 22 Jun 2024 15:30:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[After my dad died, I ran and sold his company (2018) (136 pts)]]></title>
            <link>https://anandsanwal.me/2018/06/19/dad-company-sale/</link>
            <guid>40758767</guid>
            <pubDate>Sat, 22 Jun 2024 12:49:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://anandsanwal.me/2018/06/19/dad-company-sale/">https://anandsanwal.me/2018/06/19/dad-company-sale/</a>, See on <a href="https://news.ycombinator.com/item?id=40758767">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>From tech in NYC to chemical manufacturing in Nasik (India), here’s a guide that hopefully nobody ever needs.</p>



<p>On April 17, 2017 my dad died.</p>



<p>It was the worst day of my life.</p>



<p>It was also the day I started to lead a second company – his company. (Note: the first company is CB Insights.)</p>



<p>His company was in India (a country I knew little about) in the chemical manufacturing industry (an industry I knew nothing about).</p>



<p>On June 1st, 2018, after running his company for 13 months, it was acquired.</p>



<p>While I don’t think most people would ever find themselves in a similar situation (I certainly hope not), I thought I’d share the story and some of my learnings &amp; observations from that time about business, M&amp;A, teams, India, and assorted miscellaneous thoughts.</p>



<p>Notes: &nbsp;This will probably be slightly rambly and stream-of-consciousness as there are lots of thoughts rolling around in my head.</p>



<p>So, here we go…</p>



<p>Warning: this is going to be long so a table of contents is below.</p>



<ul>
<li><a href="https://www.anandsanwal.me/dad-company-sale/#life">Life comes at you fast</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#newgig">Day 1 in my new gig</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#plan">What the F is the plan?</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#running">Running a business you know nothing about</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#coldcalls">Growth the old-fashioned way — cold calling and cold emailing prospects and customers</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#buyers">The M&amp;A buyers show up</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#sold">June 1st — Atlas is officially sold</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#farewell">The official farewell</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#CBimpact">What was the impact on CB Insights?</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#differences">The differences between CB Insights and Atlas</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#ma">Thoughts on M&amp;A</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#india">Thoughts on India</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#tech">Thoughts on technology &amp; data</a></li>



<li><a href="https://www.anandsanwal.me/dad-company-sale/#thanks">Thank you’s</a></li>
</ul>



<h3 id="life"><strong>Life comes at you fast</strong></h3>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18125433/atlas-1024x768.png?resize=1024%2C768&amp;ssl=1" alt="" data-recalc-dims="1"></figure>



<p>As I was going with family to cremate my father in a traditional Hindu funeral, someone who I didn’t know came up to me and said in Hindi, “<em>Saab, humara kya hoga?</em>”</p>



<p>That translates to “Sir, what will happen to us?”</p>



<p>I didn’t know who it was.</p>



<p>I assumed it was a worker from my Dad’s factory.</p>



<p>I was a mess at the time.</p>



<p>And I remember thinking to myself, “Why the F are you asking me about this right now?”</p>



<p>But this wasn’t the time for anger or to even to think about this so I just knee-jerk responded in my heavily American-accented Hindi that “<em>Meh dekh loonga</em>” which translates to “I’ll look after it.”</p>



<p>And so at that point, in addition to CB Insights, I knew I was going to run my Dad’s business. To be honest, I had already thought about this possibility when he was admitted to the hospital when the doctors said the situation was looking dire. &nbsp;</p>



<p>But no matter my age, Dad was always the strongest, smartest person I knew, and so I assumed he’d pull through and things would go back to normal. With him tirelessly working on Atlas, the company he founded, and me going back to CB Insights.</p>



<p>But then April 17th happened.</p>



<p>And now, I was going to run his business.</p>



<p>I was going to run Atlas.</p>



<p>I wasn’t ready for this.</p>



<p>Before we go further, a bit of context on Atlas, my Dad’s business.</p>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18125705/atlas-outside-1024x680.png?resize=1024%2C680&amp;ssl=1" alt="" data-recalc-dims="1"></figure>



<p>The company was recently renamed AIMS Impex, but it started and for most of its life, it was known as Atlas Fine Chemicals. Industry folks know it as Atlas, and my sisters and I grew up knowing it under that name so I will refer to it as Atlas going forward. &nbsp;</p>



<p>Atlas is a manufacturer of specialty flavor &amp; fragrance chemicals such as coumarin, 6-methyl coumarin, safranal, natural vanilla, and cyclocitral among others. Atlas’ customers include the world’s largest flavor &amp; fragrance houses including IFF, Givaudan, Firmenich, Takasago, and Symrise among others.</p>



<p>Atlas is based 4 hours from Mumbai in a city called Nasik (1.486 million people) and the manufacturing facility is about 35 minutes from Nasik in a small village called Sinnar.</p>



<p>If there ever was a polar opposite to CB Insights, it’s Atlas. &nbsp;</p>



<p>CB Insights is a technology company.</p>



<p>Atlas is an industrial manufacturing company. &nbsp;</p>



<p>(note: more on the differences below)</p>



<p>But here we were.</p>



<h3 id="newgig"><strong>Day 1 in my new gig</strong></h3>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18130130/good-quality-1024x768.png?resize=1024%2C768&amp;ssl=1" alt="" data-recalc-dims="1"></figure>



<p>I don’t remember the exact day I went to the office for the first time as the weeks after April 17th were a blur of family, tradition, and emotion.</p>



<p>Before even stepping foot in the office, I had asked the team to send me the reports they sent to Dad so I could get familiar with the business.</p>



<p>TBH, I didn’t know what I’d do with these reports, but I figured that acting like I knew what I might be doing might provide some confidence to the team. &nbsp;</p>



<p>Candidly, my only qualification to run Atlas at this time was that I was the founder’s son.</p>



<p>I had tried to be the good Indian son back in 1998-2000 and work at Atlas so knew the biz a bit in its earlier days, but 18 years is a long time for a business and my mind was jammed with all sorts of other experiences and ideas since then. My time at Atlas was just a distant memory.</p>



<p>In 1998, moving from the fun of NYC to small town India was tough especially as someone born and brought up in the US. Moreover, I was a know-it-all who had all the answers despite just graduating from college and so my dad’s inability to recognize my genius bothered me.</p>



<p>And so after 18 months working with Dad, I left to join Kozmo.com.</p>



<p>(Yes –&nbsp;<a href="https://www.cbinsights.com/research/biggest-startup-failures/">that Kozmo that spectacularly failed</a>. Clearly, I had great judgment.)</p>



<p>I still wonder what Atlas might have become if I could have figured out how to be more of a student and less of an Ivy League douche when I was working with my dad back then. What kind of duo might we have been?</p>



<p>So, in a strange and sad way, this was an opportunity to finally be the good Indian son and run Dad’s business.</p>



<p>In late April, I finally went to the office.</p>



<p>When I entered, everyone stood up to greet me. &nbsp;</p>



<p>Nobody called me Anand.</p>



<p>I was referred to as Sir, which is what everyone referred to my father as.</p>



<p>Yup — this felt strange.</p>



<p>I remember thinking this was odd at the time, and during all my visits to the office subsequently, but in many ways, this sort of cultural deference to the unqualified boss’ son is what enabled Atlas to carry on.</p>



<p>I imagine if the same had happened in the US, there would have been many more questions about my qualifications and capabilities. At Atlas, those conversations might have very well happened, but I doubt it. Or, if they did, these questions weren’t directed to me. I got lucky here.</p>



<p>Everyone, for better or worse, assumed I had a clue and was looking for me to develop a plan.</p>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18130425/hardhats-1024x680.png?resize=1024%2C680&amp;ssl=1" alt="" data-recalc-dims="1"></figure>



<h3 id="plan"><strong>What the F is the plan?</strong></h3>



<p>So I needed a plan. &nbsp;</p>



<p>Not on day 1, but pretty quickly.</p>



<p>Not because anyone was asking for one, but for myself. For Atlas.</p>



<p>How does one develop a plan when you don’t understand the business, the science, the industry, the country, and sometimes even the language? (I have passable Hindi but a lot of the local conversations at Atlas were in Marathi which I don’t understand.)</p>



<p>In my view, there were 4 options for the business.</p>



<h5 id="option1"><strong>Option 1 — Run the business and become this huge multi-industry conglomerate</strong></h5>



<p>I entertained Option 1 for about 6 weeks. The ill-conceived idea was that I’d figure out how to run both Atlas and CB Insights, going forward with Atlas&nbsp;as the beachhead for a larger industrials business and CB Insights&nbsp;as the first part of a massive technology arm.</p>



<p>Visions of grandeur and all that good stuff.</p>



<p>This was some stupid, naive thinking. &nbsp;</p>



<p>In India, you see all these families (Ambani, Birla, Tata, Godrej, Hinduja, etc) who are in every potential business line possible. I figured they all started somewhere. Maybe this would be my starting point.</p>



<p>After about 6 weeks of trying to be present at CB Insights, but doing calls every morning at 6am with the Atlas team and emails every evening responding to the team or to Atlas customers, it became apparent that Option 1 wasn’t feasible.</p>



<p>I kept this 6am morning call/evening email routine going for the last 13 months with CB Insights occupying the middle of the day and every other minute of idle brain time. Needless to say, I’ve aged immeasurably in the last 13 months. My desire to build a multi-industry conglomerate died because the idea was just too tiring.</p>



<h5 id="option2"><strong>Option 2 — Sell the company for its parts</strong></h5>



<p>For a second, I looked at what the company might fetch for its assets. Its land, plant, etc.</p>



<p>I’d never done something like this but I remember hearing about it when Gordon Gecko talked about it in the movie&nbsp;<em>Wall Street</em>&nbsp;so figured, why not?</p>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18130852/gecko.png?ssl=1" alt="" data-recalc-dims="1"></figure>



<p>If the strategy works in movies, it must work in real life too, right?</p>



<p>But this wasn’t a real option ever and was discounted in a few hours.</p>



<p>My dad built this company over 30 years with many of his team having been with him for 20+. Selling the company’s assets, even if feasible, would be me failing his team and him. &nbsp;</p>



<p>Not going to happen.</p>



<h5 id="option3"><strong>Option 3 — Find a young, aggressive, ambitious person to run Atlas</strong></h5>



<p>The third idea was to see if there was someone who could run Atlas with some guidance from Dad’s team and me (assuming I could eventually understand the business). And then give this person the ability to earn more and more equity over time.</p>



<p>Essentially, they’d run the company and eventually own it.</p>



<p>This idea was appealing as it’d let my family continue to be involved with the business while also finding someone capable to take it to the next level.</p>



<p>The problem here was that I had no network in India from which to even think about finding someone for this role. I spoke with a couple of candidates via introductions but nothing really stuck for them or me. Moving to Nasik was a challenge even for those in India, but that was just a symptom of not finding the right person.</p>



<p>This would have been an amazing opportunity for the right person, but it wasn’t in the cards.</p>



<h5 id="option4"><strong>Option 4 — Run the business until a buyer can be found</strong></h5>



<p>Option 4 was ultimately the most practical. &nbsp;</p>



<p>The challenge, however, was that Dad’s business didn’t have too many natural buyers and was considered a small market transaction making it even tougher.</p>



<p>And so I didn’t have any control on the M&amp;A side of things. &nbsp;</p>



<p>I focused on running the business and hoped a suitable acquirer would show up. If nobody showed up, I’d keep running it.</p>



<p>I gave myself 3 years to run both Atlas and CB Insights, thinking I could maintain the daily schedule of 6am calls and evening emails with India interspersed, with trips every 6-8 weeks before burning out. 3 years was a completely arbitrary timeline.</p>



<p>About 6 months in, I realized doing both for that long really wasn’t sustainable for a number of reasons — health, family, and it wasn’t optimal for either CB Insights or Atlas.</p>



<p>But I didn’t know the buyer market and couldn’t control it so I focused on what I could control.</p>



<p>And that was running Atlas.</p>



<h3 id="running"><strong>Running a business you know nothing about</strong></h3>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18131259/running-atlas-1024x768.png?resize=1024%2C768&amp;ssl=1" alt="" data-recalc-dims="1"></figure>



<p>Despite Atlas being very different than CB Insights, the answer about how to run it came to me easier than a lot of the other questions I had over the last 13 months.</p>



<p>Or perhaps I just oversimplified it to make a decision quickly.</p>



<p>I decided that business is about growth or margin.</p>



<p>To grow, we could do 1 of 2 things:</p>



<ul>
<li>Sell more of our existing products — primarily Coumarin</li>



<li>Add new products</li>
</ul>



<p>If we focused on margin, that’d mean focusing on:</p>



<ul>
<li>Increasing efficiency in manufacturing</li>



<li>Reducing expenses</li>
</ul>



<p>I looked at the financials for Atlas vs peers in the industry and talked to some of my dad’s trusted advisors, and it was apparent that Atlas’ margins were best-in-industry.</p>



<p>Dad was the ultimate bootstrapper. &nbsp;</p>



<p>Atlas was efficient, and my dad obsessed about margins, foregoing business that was low margin to keep overall profit margins high.</p>



<p>It was clear that focusing on the margin side wasn’t the best place for my time or energy. &nbsp;</p>



<p>Plus, most of the efficiency to be gained was in the manufacturing process and that is where I was zero value-add. Dad was also the ultimate technical co-founder. I was as non-technical as they come in a chemical manufacturing setting. &nbsp;</p>



<p>Plus, margin is hard to rally the team around. &nbsp;</p>



<p>Growth is tangible.</p>



<p>And I needed to paint a picture that the team could see. Improving margin by XX basis points wasn’t going to be what got anyone fired up.</p>



<p>So I decided to focus on growth. Growth not via new products as that would also require Dad, the technical co-founder.</p>



<p>I focused on growth of Coumarin — the company’s primary product.</p>



<p>This was also the only way to run the company that I had a chance of being useful in.</p>



<p>And it was also the way I could show the Atlas team we were doing well. And that I might have some value beyond being the boss’ son.</p>



<p>Selling is something everyone sees, especially in a manufacturing setting. From the workers at the factory to the plant staff, if they see trucks coming in for product dispatches, they know the product they’re making is selling. If the staff in the office is busy generating invoices and fielding customer calls, they see the product is selling.</p>



<p>And while I’m by no means a natural at selling, if armed with the right product, I can sell. And Atlas’ Coumarin was the best in the world.</p>



<p>In the chemical industry, it’s unheard of to be a single product company for 30 years. But Atlas was able to do that because the product is hard to make, and they are the best at it.</p>



<p>So growth it was.</p>



<p>Note: It is worth noting that in a competitive chemical product, margins cannot be ignored. So while growth was the focus, I did focus on major expenses — raw materials, shipping, packaging. But this was only 5% of my time as the very capable team at Atlas managed these expertly.</p>



<h3 id="coldcalls"><strong>Growth the old-fashioned way — cold calling and cold emailing prospects and customers</strong></h3>



<p>So with growth being the focus, I went about assembling a list of people and firms in the industry I should reach out to.</p>



<p>I went through my dad’s emails to see who he’d interacted with and reached out to all of them.</p>



<p>I visited various fragrance and flavor association and conference websites and took down their member and attendee names and reached out to them.</p>



<p>It wasn’t a particularly structured process, but I wanted those that knew my dad to know that Atlas was still humming and they could rely on us for product.</p>



<p>And for those that didn’t know us, the next time they had a need, they knew they could reach out to us.</p>



<p>This was a lot of cold emailing and cold calling. I have heightened respect for what SDRs do at CB Insights or anywhere. It is hard work. But also incredibly rewarding when someone closes based on your efforts.</p>



<p>At the same time, I also focused on price. Dad had built a high margin business which afforded me the opportunity to try to gain market share by being more aggressive with price.</p>



<p>Coumarin is probably a 6,000 ton product per year. Atlas was about 10-12% of the global market, but we had capacity at the plant that wasn’t being used so I knew we could produce and sell more. There is some supply-demand curve, marginal cost calculation I could have done here, but I didn’t do any of that.</p>



<p>I did some back of the envelope math in my head and had worked out a simple, rudimentary cost per kg formula in Excel to ensure we were always making something on a sale, but I ran Atlas on instinct a lot more than analysis.</p>



<p>Atlas has a great team with lots of experience. I assumed if I was doing something really really dumb, they’d tell me 🙂</p>



<p>In the last financial year (April 2017-March 2018), Atlas had its best revenue in history. In November 2017, we dispatched 100 tons of Coumarin to customers for the first time in the company’s history.</p>



<p>I remember taking&nbsp;<em>mithai</em>&nbsp;(sweets) to the site at the end of November when the 100 ton month happened and celebrating with the team. It was one of the proudest days I’ve ever had professionally. I was incredibly proud of the Atlas team who had seen a potentially company-sinking event happen with my dad’s death in April and who’d kept fighting and doing good work and then just had a historic month.</p>



<p>So, things were going well with the company.</p>



<p>What about a buyer?</p>



<h3 id="buyers"><strong>The M&amp;A buyers show up</strong></h3>



<p>As soon as I took over the business, the calls started coming from interested buyers or their investment banks. &nbsp;</p>



<p>Dad had already been in discussions with 1 firm prior to his death, and I’d met them once with him. They re-engaged.</p>



<p>The flavor &amp; fragrance industry in India is big, but small at the same time.</p>



<p>Everyone learned about Dad’s passing pretty quickly.</p>



<p>As a result, various buyers expressed interest. I reached out to a couple of our large customers to feel them out.</p>



<p>By the end of July, I had a group of buyers identified. &nbsp;</p>



<p>I had done some basic research on the space so I understood the players and sounded at least reasonably smart. A report by investment bank Avendus on the flavor &amp; fragrance industry was useful for a novice like me. Atlas was a base ingredient manufacturer. Our likely buyers were either larger base ingredient manufacturers or functional ingredient manufacturers who were interested in vertical integration.</p>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18131954/potential-buyers.png?ssl=1" alt="" data-recalc-dims="1"></figure>



<p>There were 5 buyers that either came to us or that I’d identified and gotten some expression of interest from.</p>



<ul>
<li>Buyer 1 – A publicly traded Indian firm that also makes Coumarin at much smaller volumes</li>



<li>Buyer 2 – An Atlas client who was interested in potential vertical integration</li>



<li>Buyer 3 – A wealthy family looking to buy a business for their son returning from the US</li>



<li>Buyer 4 – A private-equity backed chemical company</li>



<li>Buyer 5 – A family-held chemical company that also manufactured Coumarin</li>
</ul>



<p>Most of these buyers did not get very far. &nbsp;</p>



<p>But I had conversations with all of them.</p>



<p>Before digging into how things went with each buyer, it is worth understanding that there were certain criteria I had for a deal which made eliminating certain buyers easy.</p>



<p>My 3 deal criteria were simple:</p>



<ul>
<li><strong>They had to take care of the team</strong>&nbsp;— I wanted to find a growth-oriented company as ensuring the team that had helped build Atlas would be taken care of was critical. &nbsp;The biggest factor in any decision was this as I viewed it as intertwined with my dad’s legacy. He spent 30 years building this company with this team. It was important that this be maintained and hopefully taken to the next level. There is, of course, no way to know this for sure and this is where one’s gut and how the buyer across the table makes you feel is important.</li>



<li><strong>Simple deal&nbsp;</strong>— I was not interested in stock in a private company or an illiquid public company or a long earn-out or some other complex structure. Atlas wouldn’t be a big deal for any credible buyer. Complexity wasn’t required. I also didn’t have time to educate a buyer on the space.</li>



<li><strong>A fair price</strong>&nbsp;— When the founder/face of a company dies (my dad), a bunch of bottom feeding parasites can show up. I wasn’t expecting to get a top of the market price for Atlas, but I wanted a fair one. Moreover, the longer I ran Atlas, the more confident I became in my ability to run it. So the price was only going to go up with time.</li>
</ul>



<p>So now let’s look at each potential buyer.</p>



<h5 id="buyer1"><strong>Buyer 1 — A publicly traded Indian firm that also makes Coumarin at much smaller volumes</strong></h5>



<p>I met with one of the execs of this firm along with their investment bank once. &nbsp;</p>



<p>I shared high-level data on Atlas with them but the conversation ended after that. They were saddled with lots of debt as I could see given they were public and so didn’t think a deal with them would meet the criteria I had on fair price, simplicity, or even ability to take care of the team.</p>



<p>Not a good fit.</p>



<p>One conversation and things were done.</p>



<h5 id="buyer2"><strong>Buyer 2 — An Atlas client who was interested in potential vertical integration</strong></h5>



<p>This was a client I’d reached out to.</p>



<p>They were interested in Atlas. We talked a bit and they proposed a deal, but the structure was complicated and so I let this one go. They are a long-standing client and we were far enough away from any deal that it didn’t make sense to engage further.</p>



<h5 id="buyer3"><strong>Buyer 3 — A wealthy family looking to buy a business for their son returning from the US</strong></h5>



<p>This was an introduction from one of my dad’s advisors. &nbsp;</p>



<p>They were a family with a large industrial business and were interested in expanding into new lines as their son was returning to India from the US. (I guess really wealthy people do things like this).</p>



<p>They were super smart and impressive.</p>



<p>The challenge here was that it’d require lots of education about the industry and the probability of success even after investing would be low.</p>



<p>This wasn’t time I had. &nbsp;</p>



<p>After a couple of conversations, it was clear this wasn’t a fit.</p>



<h5 id="buyer4"><strong>Buyer 4 — A private-equity backed chemical company</strong></h5>



<p>This was the firm my dad was already in discussions with. The firm had seen Atlas’ numbers and had actually given an offer to my dad prior to his death. They seemed the most promising at the outset given the diligence they’d already done.</p>



<p>So I met them in May before leaving India.</p>



<p>It was an interesting meeting.</p>



<p>For an hour, they told me all the reasons Atlas wasn’t a great business. I listened as I’m probably too deferential to those older than me than I should be.</p>



<p>And after listening for a while, I asked them, “You’ve told me all the reasons Atlas is such a bad company. So why do you want to acquire it?”</p>



<p>That seemed to reset the conversation a bit.</p>



<p>Ultimately, there wasn’t a fit. &nbsp;</p>



<p>Part of this may have been culture fit and part of this was likely ownership by PE which complicated decision-making on their side. It’s important to understand the decision-making criteria and process of a buyer when discussing M&amp;A.</p>



<p>The firm wanted to follow their process. &nbsp;</p>



<p>I told them that process didn’t work for Atlas or me or my family. And I told them that process was what we needed to run. When they said no, I wished them luck and moved on.</p>



<p>I was nervous doing this tbh. There wasn’t a huge list of buyers for Atlas and shutting one of them out seemed at times like it might be foolish. But you have to go with your gut on these things.</p>



<p>Life went on.</p>



<h5 id="buyer5"><strong>Buyer 5 — A family-held chemical company that also manufactured Coumarin</strong></h5>



<p>Buyer 5 reached out via the company’s investment banker. &nbsp;</p>



<p>I’d received lots of calls from bankers prior and I insisted they tell me who they were representing as many were just fishing.</p>



<p>Buyer 5’s banker revealed the company’s name.</p>



<p>I knew my dad had had conversations with them some years ago.</p>



<p>We met in July and there was immediately a better fit.</p>



<p>I explained my criteria, they explained their vision, they put a non-binding offer together that was clean/clear and we got moving on diligence.</p>



<p>The rest is history.</p>



<h3 id="sold"><strong>June 1st — Atlas is officially sold</strong></h3>



<p>On May 31st, I flew back to India. &nbsp;It was my 8th trip in the last 13 months.</p>



<p>I landed at 10pm. The offices of Avendus, the investment bank representing Eternis, the buyer, was the first destination.</p>



<p>I arrived at 11pm and we worked until 5am to hash out final details of the deal.</p>



<p>We went away for 4.5 hours to shower and get some sleep and resumed at Eternis’ office at 930am on June 1st. By 4pm that day, the deal was done.</p>



<p>At 5pm, I left Mumbai for the 4-hour drive to Nasik.</p>



<p>The news broke within the industry pretty quickly. During the 4-hour drive to Nasik, folks started calling and WhatsApp messaging me — customers, vendors, etc. &nbsp;</p>



<p>And so did the Atlas team.</p>



<p>I’d only disclosed the deal conversation to 4 people at Atlas prior.</p>



<p>I was hoping to tell the team on Saturday (6 day workweek at Atlas) in the office so I felt bad that some of them heard about the deal on Friday evening through others.</p>



<p>The next day, I went to the factory and members of the Eternis team came. Manu of the Eternis team addressed the office and factory staff and gave a great view into their goals and their company.</p>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18133625/discussion-1024x768.png?resize=1024%2C768&amp;ssl=1" alt="" data-recalc-dims="1"></figure>



<h3 id="farewell"><strong>The official farewell</strong></h3>



<p>On June 4th, we decided that our family would officially say farewell to the entire Atlas team at the factory. We had everyone from the office come up.</p>



<p>My mom, kids, and wife flew in from the States. I wanted my kids to see what their “Dada” (grandfather) had built at least 1 time before it moved onto the next chapter in its story.</p>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18134514/sold-1024x680.png?resize=1024%2C680&amp;ssl=1" alt="" data-recalc-dims="1"></figure>



<p>And we wanted to say thanks to everyone on the Atlas team. &nbsp;</p>



<p>I had prepared a speech in English and my wife translated it to Hindi. My Hindi is not very good so beyond the emotion of this farewell, I was pretty scared of delivering a several minute speech in Hindi. I’d never done something like that.</p>



<p>We assembled in the warehouse, and I stood on top of the chemical mixer and talked to the team. I fought back tears several times during my speech. My Hindi was intelligible enough that I had several others on the Atlas team also crying so I guess that my message was understood.</p>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18134628/farewell-1024x680.png?resize=1024%2C680&amp;ssl=1" alt="" data-recalc-dims="1"></figure>



<p>My speech in English is below. &nbsp;It was delivered in Hindi, and the video is something I hope to show my kids when they are old enough to understand.</p>



<p>Speech:</p>



<p><em>My Hindi is not very good so please forgive me if I make any mistakes.</em></p>



<p><em>Dad started Atlas 29 years ago. As my sisters and I were growing up, we joked that Atlas was his 4th child.</em></p>



<p><em>But in reality, Atlas was less of a 4th child than a 2nd family to Dad.</em></p>



<p><em>He loved working with you all. Whether it was increasing production or improving our Sali to Coumarin yield or solving technical challenges to figuring out how to keep Chinese Coumarin out of India to showing the plant to foreign visitors, there was nothing he liked more.</em></p>



<p><em>And together with Dad, you all built something very special. &nbsp;</em></p>



<p><em>Many of you have been with Dad for 20+ years. He and you grew up and built Atlas together.</em></p>



<p><em>And now, Atlas Coumarin is known globally for being the highest quality coumarin in the world. All the leading multinational companies like IFF, Givaudan, Firmenich rely on Atlas.</em></p>



<p><em>Within India, Atlas Coumarin has more than 50% of the market.</em></p>



<p><em>And now, there are a group of new products such as 6-methyl coumarin, safranal, and cyclocitral which can make Atlas even bigger.</em></p>



<p><em>Of course, as you all know, Dad passed away last April and since then, I’ve been managing what you and he built and it’s been a privilege to do so.</em></p>



<p><em>Thank you for everything.</em></p>



<p><em>I’ve never worked with a group as smart, talented, hardworking, and kind as you all.</em></p>



<p><em>Although I didn’t know much about the business, you all helped me understand things and were patient and understanding throughout. I knew I’d never be able to be 10% as good as Dad but you never made me feel that way and for this, thank you.</em></p>



<p><em>And in the last 13 months, we did a lot of good things. In November, we had Atlas’ first ever month where we dispatched 100 tons. I remember coming to the site that day and distributing mitthai and feeling so proud to be part of this team. On the way back to Nasik that day, I remember crying and thinking about how proud Dad would have been of this team for achieving this milestone.</em></p>



<p><em>So, again, let me say thank you from me and my family for all of the outstanding work you do and the professionalism and kindness with which you do it.</em></p>



<p><em>And now, we’re moving to the next chapter of Atlas.&nbsp;</em></p>



<p><em>As most of you know, Atlas has been purchased by Eternis, a larger chemical company in the fragrance and flavor space. &nbsp;</em></p>



<p><em>There was a lot of interest in Atlas after Dad died. I didn’t like any of those companies except Eternis.</em></p>



<p><em>Eternis is family-owned and their personality and nature is similar to Atlas — humble and hardworking. And they are very focused on growth. Their goal is to take 50-60% of global market share for Coumarin.</em></p>



<p><em>This means more opportunities and growth for Atlas which I’m excited to see.</em></p>



<p><em>With their resources, Atlas can grow to new levels. I also expect that the Atlas team can and will teach them many things from how to improve their yields to their quality to the special style of Atlas jugaad that makes this such a special company.</em></p>



<p><em>My family and I are very excited to see where you all and the Eternis team take Atlas and we hope to visit in the future to see how much the plant expands and how big the team gets.</em></p>



<p><em>And finally, let me say that I’ve been overjoyed to see the impact that Atlas has had on education in some of your families. Dad always thought education was very important. He started a woman’s college in Rajasthan for this reason. He grew up in small village to a family of farmers. And education and hard work was how he achieved so much.</em></p>



<p><em>And as I’ve gotten to know many of you who have been with Dad for 20+ years, I’ve learned that many of you have sent, for the first time, your sons and your daughters on to become doctors, engineers, chartered accountants, and more.</em></p>



<p><em>I think this will be one of Atlas’ most lasting impacts on the community. And I know beyond Atlas, my dad was very proud of this given how important education was to him.</em></p>



<p><em>I hope that you’ll continue to push your sons and daughters forward in education so that one day, they’ll build the next Atlas.</em></p>



<p><em>Again, thank you for teaching me so much about business, India, and what a great team looks like over the last 13 months.</em></p>



<p><em>I could not be more excited to see what you accomplish in the future and I know Dad is looking down on us today and smiling knowing that Atlas is going to become even bigger in the years to come.</em></p>



<p><em>Thank you.</em></p>



<h3 id="CBimpact"><strong>What was the impact on CB Insights?</strong></h3>



<p>It’s a bit unknowable to assess exactly the impact the last 13 months had on CB Insights. We are a big enough company that the show goes on, but we are still not so big that everything is all figured out (not sure that ever happens).</p>



<p>The team continued to kick ass and we had a great year in 2017 growing revenue nearly 100% YoY again. &nbsp;</p>



<p>But the CBI of April 2017 was 114 people. &nbsp;</p>



<p>In the last 13 months, it climbed to over 200. &nbsp;</p>



<p>And so we are a different company.</p>



<p>So I’ll focus on the things that I know I didn’t do well over the last 13 months which may have had some impact, big or small, on CB Insights.</p>



<p><strong>Building relationships with the team</strong>&nbsp;— With our growth, I no longer know every person in the company (inevitable at some point). In the last year, I didn’t get a chance to build relationships with those new teammates. I also didn’t get a chance to grow existing relationships within the team.</p>



<p><strong>I missed lots of meetings and one-on-ones</strong>&nbsp;— Morning meetings with India or due diligence requests that required immediate attention caused me to miss lots of meetings or reschedule 1:1s. This was bad. I didn’t have my finger on what was going on as I always had before or know about challenges they were facing. I wasn’t providing enough feedback, direction, etc as a result.</p>



<p><strong>Internal communication suffered</strong>&nbsp;— Growing to 200 requires we change how we communicate with the team broadly and intra-team. Our methods here didn’t evolve over the last 13 months as much as we probably needed them to. It will be something we figure out now, but we are playing a bit of catch up.</p>



<p><strong>Physically there but not mentally there</strong>&nbsp;— My attention in conversations wasn’t where it always needed to be either due to being tired or just focused on something else — either CBI- or Atlas-related.</p>



<p><strong>Overly fast decisions</strong>&nbsp;— In the last 13 months, I valued expediency of decision-making more than I typically do. And while I will always believe that speed is a weapon that an insurgent company like CB Insights has on its side, decision-making esp as we scale must be well-considered and communicated. Time was always in short supply and so at times, I got into a mindset of let’s decide quickly without considering impacts to the org or teams or individuals.</p>



<p><strong>Didn’t create &amp; communicate strategic vision/product roadmap of CBI internally</strong>&nbsp;— When you’re a smaller company, everyone kind of knows the plan, the vision, even if via osmosis. Also, when you’re smaller and the numbers aren’t as big and the growth expectations are more modest, you can just get to where you need to be by outworking everyone. But as you scale up, hard work is necessary but not sufficient. We need to be more deliberate about the markets we’re attacking, the products we’re building, how we’re going to get there, etc, and we need to communicate and re-communicate that. This didn’t happen as it should have.</p>



<p><strong>Didn’t talk to enough clients</strong>&nbsp;— I’d set a goal of 150 client conversations in 2017 (3 per week) and failed on that goal. We were revenue-funded for most of our lives and I continue to believe our understanding of client needs is one of our most secret weapons. And that requires talking to clients regularly about what they dislike about the product, about their workflow, about their ideas, about their problems, etc. I am thankful we have a customer success team that does a great job of gathering this type of feedback. But this is something I am looking forward to getting back to.</p>



<p>Now that I’m back to 200% CBI, I hope to rectify the above. &nbsp;</p>



<p>Finally, I am thankful to be part of this team. Despite my shortcomings over this last year+, they’ve been patient, kind, and understanding. When my dad passed, many on the team who’d dealt with similar loss reached out with words of wisdom, offers to chat, and support. Special thanks to Jon, my co-founder, for picking up the slack.</p>



<h3 id="differences"><strong>The differences between CB Insights and Atlas</strong></h3>



<p>While it might seem obvious that a technology company and a manufacturing chemicals company would be different, I didn’t appreciate the difference fully until now.</p>



<p>Of course, being thrown into an industry I knew nothing about increased the perceptions of these differences. I imagine someone who grew up in chemicals or manufacturing would find software equally different or challenging.</p>



<p>From my perspective, here are a few key differences between the two that I observed.</p>



<p><strong>Atlas was much more complex</strong>&nbsp;— With China cracking down on pollution, what might that mean for competitors? What is the impact on pricing if a raw material supplier’s plant has shut down? Should we buy more raw material as we think there might be a disruption in the future? If the rupee is getting weaker, what does that mean for our margins? The supply chain considerations alone made it much more complex and there were a lot more exogenous/industry factors that had to be considered than at CB Insights.</p>



<p><strong>Competing on price is hard</strong>&nbsp;— Atlas Coumarin is the highest quality in the world, but there are others that make coumarin. And so while some customers pay for that quality, for many, it came down to price. This was a big change from CB Insights where there is no clear substitute for the product or its human analysts which are way way more expensive. In the case of CBI, it’s all about showing a customer or prospective customer the value that the platform can provide and explaining that our pricing reflects that value. That is not possible at Atlas.</p>



<p><strong>Regulatory requirements</strong>&nbsp;— This makes sense given we’re talking about chemicals and a chemical plant. But coming from software where you can run your business without really having to ask any third-parties for permission, this was an observable difference.</p>



<p><strong>Long-term product development &amp; planning is a different animal</strong>&nbsp;— Having a plan is important in any business. But in chemicals, adding a new product or expanding an existing product is a multi-month or multi-year process. In the last 6 months, the CB Insights team has rolled out patent analytics, market sizings, public company data, new profiles, market map maker and a ton of product capabilities that immediately help our customers and ultimately our top and bottom lines. This ability to stay close to customers and build product quickly for them and see it move the needle is one of the best parts of software. It is much harder (near impossible) to do this quickly in manufacturing.</p>



<p><strong>Touching the product makes it different&nbsp;</strong>— At CB Insights, we deliver data to customers. At Atlas, we deliver drums to customers. There is something unique and gratifying about making a tangible product which was new to me. Turning a bunch of raw materials into a finished product and watching them move from step-to-step in the production process is fun to see. Touching the product in the warehouse before it is dispatched to a customer is different. I’m not sure why or how, but it is. When I saw coumarin coming out of the dryer or the mixer and being packaged, it always made me smile. I remember when we started CB Insights, my dad would ask “What exactly are people buying?” And I’d explain SaaS and subscriptions, and he got it. But he’d also say “I like making stuff.” I didn’t understand it at the time, but I do now.</p>



<p><strong>The power of business</strong>&nbsp;— I’ve always thought business done right can have a massive impact on society, economies, etc. But with all the recent blather of technology companies changing the world, I’ve become a bit more jaded of late on the impact of business given folks are so quick and cavalier in how they define changing the world. Atlas reaffirmed for me the power of and the good that businesses can do in a community if it’s there long enough. There are several people on the Atlas team whose children have gone on to get degrees and become computer engineers, chartered accountants (equivalent to a CPA), and doctors. Some were the first in their family to do so. This is the type of impact that compounds over time and something that was exciting to see and hear about firsthand.</p>



<h3 id="ma"><strong>Thoughts on M&amp;A</strong></h3>



<p>I don’t have a basis of comparison as this was the first company I’ve ever sold, but here’s some of my observations/learnings on the M&amp;A process for those who may go through it.</p>



<p><strong>Should I have hired an investment bank?</strong>&nbsp;I didn’t have a bank representing me, i.e. I represented myself. Maybe I should have. I had access to data (thanks CB Insights) so knew valuation and transaction multiples. The bankers for the buyer served a project management function so I’m not sure if having bankers on my side would have helped on that front. Bankers might have helped negotiate a bit more, but given this was a small cap deal in India, the few bankers I met who deal in this range of the market were generally not of the caliber that I thought they’d add a ton of value. No clear answer here.</p>



<p><strong>Don’t let lawyers run the process</strong>&nbsp;— Lawyers, as they should be, are often about risk mitigation for both sides. But it’s important the parties in the deal be clear on what is valuable to them or understand how big the risks really are so that neither side gets bogged down in details or risks which are unimportant or have a low probability of happening. I think both sides did a pretty good job here in our deal, but it’s something to watch out for as letting the lawyers run the process costs you time and more lawyer fees.</p>



<p><strong>Know your goals. Communicate your goals</strong>&nbsp;— One of the things that worked well in this process was stating my goals to buyers upfront, i.e. the aforementioned deal criteria around taking care of the team, a simple deal and a fair price. It helped quickly determine if there was a potential fit with a buyer and also because I was dealing with people in the industry who we might work with in the future, it removed ambiguity and any sense of arbitrariness from our decisions. If someone started talking about private company stock or raising debt or doing dividend recap, I simply reminded them of the simplicity tenet.</p>



<p><strong>Don’t sweat the small stuff</strong>&nbsp;— The aforementioned decision-making framework/deal criteria also were very helpful in providing focus for me. If it wasn’t related to those 3 criteria, I tried to avoid worrying about it. This also prevented me from overcomplicating things at times which was incredibly helpful.</p>



<p><strong>“That’s industry standard”</strong>&nbsp;— This is one of the phrases to watch out for in negotiation. When a term cannot be defended on its merits, often the catch-all is “that’s standard in deals” or “that’s industry standard” is often trotted out by lawyers and bankers. That’s BS. Everything is negotiable, and just because others have gone with some nebulous standard doesn’t mean you have to. Again, that doesn’t mean negotiate for sport on every little thing, but it does mean that things should be supported with logic and reason and not the intellectually lazy “just because.”</p>



<p><strong>Conditions Precedent (CPs)</strong>&nbsp;— These are the conditions that have to be satisfied prior to a deal being closed— after the purchase agreement is executed but before it is closed, i.e., the money hitting the bank account. Pay attention to what is in the CPs and ensure you understand them, that they’re all meaningful, and that they can be achieved.</p>



<p><strong>Don’t do zero-sum negotiation</strong>&nbsp;— I believe both parties felt good about this deal and that was because the negotiations were generally solutions-focused. There wasn’t a zero sum mentality of “For me to win, you must lose.” I found this to be constructive throughout and made the general process more pleasant. Note: I wouldn’t describe the M&amp;A process as fun, but I do think minimizing acrimony is good. We mostly avoided that.</p>



<h3 id="india"><strong>Thoughts On India</strong></h3>



<p>India is an amazing place.</p>



<p>India is a complicated place.</p>



<p>Here are some simple, non-ground breaking thoughts.</p>



<p><strong>Regulatory overhead is still steep</strong>&nbsp;— India’s regulatory overhead is mostly well-intentioned but ill-defined. There are so many licenses and permits required but even experts in the industry can’t agree on what is what and what is required. Websites, especially regional ones, are not updated or clear.</p>



<p>The World Bank ease of doing business rankings are below. India jumped 30 spots so things are clearly getting better, but there is still a lot of work to do. Overall, I’d say I found things at the national or federal level much better defined than at the regional level.</p>



<p>This uncertainty creates angst for businesses as you never really know if you’re compliant with all the rules. It makes an M&amp;A process much more difficult needlessly. Checklists here would be amazing.</p>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18140018/ease-of-business.png?ssl=1" alt="" data-recalc-dims="1"></figure>



<p><strong>Women in the workforce are going to be a game changer</strong>&nbsp;— 2 of the 4 key management personnel at Atlas were women. Atlas is what it is because of their contributions, and this transaction wouldn’t have occurred without their steady hand. I’m impressed with my dad’s foresight here, especially in a city like Nasik, which is not as cosmopolitan as the big cities.</p>



<p>But throughout the process, whether it was at Atlas, or our lawyers or our bank or various other parties related to the deal, I found the women I worked with to be among the most responsive, smart, and able to get isht done. India remains a very patriarchal society but change is steadily coming here which will unlock an immense amount of talent.</p>



<p><strong>There are lots of middlemen</strong>&nbsp;— In B2B, there are lots of consultants and brokers in India involved in everything from regulatory approval to pricing of materials to selling of scrap metal. Technology has been shown to be good at disintermediating middlemen. I think there is a lot of opportunity to use technology to do this in India. I’ve noted a bunch of ideas down for the future.</p>



<p><strong>Traffic is soul crushing&nbsp;</strong>— Mumbai traffic is an absolute horror. Everyone there seems to have become used to it with 1.5- to 2-hour commute times each way becoming normal. With smartphones and technology, one can still be somewhat productive, but the amount of personal productivity lost here on a daily basis is unfathomable. And this will only get worse. I’d imagine that a progressive employer who figures out a remote work strategy might be able to recruit and retain really great talent.</p>



<p><strong>There is so much opportunity</strong>&nbsp;— India is messy and complicated and the traffic is ridiculous and there is a whole litany of “things wrong with India,” but there is so much good there. As an Indian-American, I often focused on all that was wrong with India before (viewing everything from an American lens on how things should be). Managing Atlas for 13 months made me see this and also revealed the immense opportunities there in business, in education, and more. I’m excited to explore those in the future.</p>



<h3 id="tech"><strong>Thoughts on Technology &amp; Data</strong></h3>



<p>It’s worth mentioning the impact of technology &amp; data on me in the last 13 months.</p>



<p>I could not have done this deal or managed Atlas without technology. Here are some of the technologies that made my life easier.</p>



<p><strong>Google</strong>&nbsp;— Dammit. Google is amazing. When researching some esoteric Indian regulation or trying to find flavor &amp; fragrance companies who might be customers, Google was my go-to. Google Sheets was also powerful for collaborating with the team.</p>



<p><strong>WhatsApp</strong>&nbsp;— India runs on WhatsApp. Also, the calling feature saved me tons of money when I had to call India from the US or vice-versa.</p>



<p><strong>Dropbox</strong>&nbsp;— The Atlas team and I used this to organize documents before sharing it in the deal room.</p>



<p><strong>SecureDocs</strong>&nbsp;— This was the deal room software I used. The software just works. And their team was incredibly responsive. The sales folks weren’t pushy and were helpful. And the pricing was transparent and reasonable. Big fan.</p>



<p><strong>YesWare</strong>&nbsp;— To send mail merges, absolutely critical.</p>



<p><strong>Data&nbsp;</strong>— Going in without a banker to these conversations could have been intimidating but I had data so I knew deals, valuations, etc. It was good to be a customer of CB Insights for a bit.</p>



<h3 id="thanks"><strong>Thank you’s</strong></h3>



<p>There are a ton of people to thank for all they did. Here goes. I apologize if I forgot someone.</p>



<p><strong>Family</strong>&nbsp;— First, my mom for her strength and for trusting me. She is the unheralded co-founder of Atlas. My wife who has been managing a career and 2 kids almost solo for the last 13 months and who would listen without judgment to me when I was frustrated or overwhelmed. My kids who got used to me being on the phone every morning talking to India instead of having breakfast with them.</p>



<p><strong>The Atlas team&nbsp;</strong>— As I said above, although I’m 10% as smart as my dad, you never made me feel this. Even after his death, Atlas kept humming because of your work. Many of you worked with Dad for 20+ years. It was good to work with you all directly to see firsthand how special of a company it is. Thanks especially to Mrs. Lakhpatwalla, Priti, and Nathe for all their help on this deal. Thanks as well to Abhay for constantly selling and talking to customers and to Kiran for driving so expertly throughout India and never once getting into an accident (driving in India is intense for those unfamiliar). Thanks to Mehetre and his leadership in the factory as well as to Jadhav, Nitin, and Anand in the plant. We have a group of veterans and young new stars that I’m excited about on the production side. Thank you to Pareshbhai for his friendship and steady advice on accounting and finance matters.</p>



<p><strong>The CB Insights team</strong>&nbsp;— This is a special company with an amazing team who continued to kick ass despite the impacts of my sometimes mental and physical absence. &nbsp;</p>



<p><strong>CB Insights newsletter readers</strong>&nbsp;— Since my dad’s death, the only constant has been the CBI newsletter. I didn’t miss a day since he died (although I’d queued up several prior so I was not writing them real-time for a while). Your pie charts, funny commentary, and even the haterade have always been a nice break.</p>



<p><strong>The deal players</strong>&nbsp;— M&amp;A deals are a good amount of work and given the stakes and long hours can probably bring out the worst in folks at times. I can say I left the negotiation/experience with great impressions of everyone involved. Thanks to Manu and the Eternis team (Chetan, Ram, Rahul) for always being true to their word and a class-act. Thanks to the Avendus team, who although representing Eternis, were always solutions-focused and fair. Thanks to the Majmudar team (Kritika, Amrit, and Sinjani) for their work and counsel as our lawyers. Thanks to Geeta of Kotak Bank for always figuring out a way to get things done even at the very last minute.</p>



<p>Finally, thanks to everyone for putting up with me always being tired.</p>



<figure><img decoding="async" src="https://i0.wp.com/research-assets.cbinsights.com/2018/06/18140649/AIMS-newspaper-668x1024.png?resize=668%2C1024&amp;ssl=1" alt="" data-recalc-dims="1"></figure>











<h2><a href="https://www.cbinsights.com/research/payments-market-momentum-2024/"></a></h2>



<h2><a href="https://www.cbinsights.com/research/nvidia-strategy-map-partnerships-investments-acquisitions/"></a></h2>



<h2><a href="https://www.cbinsights.com/research/report/big-tech-healthcare-amazon-google-microsoft-nvidia/"></a></h2>











<h4>YOU MIGHT ALSO LIKE:</h4>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Language is primarily a tool for communication rather than thought [pdf] (324 pts)]]></title>
            <link>https://gwern.net/doc/psychology/linguistics/2024-fedorenko.pdf</link>
            <guid>40756176</guid>
            <pubDate>Sat, 22 Jun 2024 04:04:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gwern.net/doc/psychology/linguistics/2024-fedorenko.pdf">https://gwern.net/doc/psychology/linguistics/2024-fedorenko.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=40756176">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Farm: Fast vite compatible build tool written in Rust (169 pts)]]></title>
            <link>https://www.farmfe.org/</link>
            <guid>40756034</guid>
            <pubDate>Sat, 22 Jun 2024 03:34:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.farmfe.org/">https://www.farmfe.org/</a>, See on <a href="https://news.ycombinator.com/item?id=40756034">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__docusaurus_skipToContent_fallback"><main><div><div><p><img src="https://www.farmfe.org/assets/images/rocket-84b12b0b9c2fedde390e122d2563ecbc.png" role="img"></p><p><img src="https://www.farmfe.org/assets/images/rocket-84b12b0b9c2fedde390e122d2563ecbc.png" role="img"></p><div><h3>Extremely Fast</h3><p>Written in Rust, start a React / Vue project in milliseconds and perform an HMR update within 10ms for most situations.</p></div></div><div><p><img src="https://www.farmfe.org/assets/images/box-2073f27f31683afdfc3b2e6f1f775e1f.png" role="img"></p><p><img src="https://www.farmfe.org/assets/images/box-2073f27f31683afdfc3b2e6f1f775e1f.png" role="img"></p><div><h3>Incremental Building</h3><p>Incremental Building: Support persistent cache, module level cache enabled by default, any module won't be compiled twice until it's changed!</p></div></div><div><p><img src="https://www.farmfe.org/assets/images/feature-1a0545f4589a9c5ac2949f6ff0acde53.png" role="img"></p><p><img src="https://www.farmfe.org/assets/images/feature-1a0545f4589a9c5ac2949f6ff0acde53.png" role="img"></p><div><h3>Rich Features</h3><p>Farm support compiling Html, Css, Css Modules, Js/Jsx/Ts/Tsx, Json, Static Assets out of box, support sass, less, postcss, vue, react, solid by official plugins, support lazy compiling, partial bundling and more</p></div></div><div><p><img src="https://www.farmfe.org/assets/images/plug-509f8f982a9a08431017c8c46bb6d3bb.png" role="img"></p><p><img src="https://www.farmfe.org/assets/images/plug-509f8f982a9a08431017c8c46bb6d3bb.png" role="img"></p><div><h3>Fully Pluggable and Vite Compatible</h3><p>Everything inside Farm is powered by plugins, Supports both Rust and JavaScript plugins. Support Vite plugins out of box.</p></div></div><div><p><img src="https://www.farmfe.org/assets/images/box-2073f27f31683afdfc3b2e6f1f775e1f.png" role="img"></p><p><img src="https://www.farmfe.org/assets/images/box-2073f27f31683afdfc3b2e6f1f775e1f.png" role="img"></p><div><h3>Partial Bundling</h3><p>Partial Bundling: Bundle your project into a few reasonable bundles, speeding up resource loading without losing caching granularity.</p></div></div><div><p><img src="https://www.farmfe.org/assets/images/compatible-1387759c6885367cdeb0569560b3a950.png" role="img"></p><p><img src="https://www.farmfe.org/assets/images/compatible-1387759c6885367cdeb0569560b3a950.png" role="img"></p><div><h3>Consistency and Compatibility</h3><p>What you see in development will be the same as what you get in production. Supports both legacy (ES5) and modern browsers.</p></div></div></div></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[My Windows Computer Just Doesn't Feel Like Mine Anymore (569 pts)]]></title>
            <link>https://www.howtogeek.com/my-windows-computer-just-doesnt-feel-like-mine-anymore/</link>
            <guid>40755444</guid>
            <pubDate>Sat, 22 Jun 2024 01:29:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.howtogeek.com/my-windows-computer-just-doesnt-feel-like-mine-anymore/">https://www.howtogeek.com/my-windows-computer-just-doesnt-feel-like-mine-anymore/</a>, See on <a href="https://news.ycombinator.com/item?id=40755444">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="article-body" itemprop="articleBody">

<div id="custom_block_0">

                    <h3>Key Takeaways</h3>
        
            <div>    <ul>
                    <li>
                                        Windows feels more commercial, less personal; past versions were disconnected &amp; resilient.
                        </li>
                    <li>
                                        Advertising integration in Windows makes it feel cheap.
                        </li>
                    <li>
                                        Updates, intrusive changes, settings modifications, and lack of control plague modern Windows systems.
                        </li>
            </ul>
</div>
    
        
    </div><!-- Not injecting Ads due to No-Ads mode. -->
<p>                    An operating system is the most personal part of a "personal" computer, and it used to be that as a Windows user I didn't feel like I was renting my computer from Microsoft, but in recent years that feeling has all but evaporated. To me, Windows feels cheaper and more commercial than ever, and that's not a recipe for a good user experience.
    </p>

    <!-- Not injecting Ads due to No-Ads mode. --><h2 id="the-offline-glory-days-of-windows">
                        The Offline Glory Days of Windows
               </h2>
<p>                    The first version of Windows I ever used, coming from MS-DOS, was Windows 3.1. While Windows 3.1 might look incredibly primitive today, it's hard to explain just how big of a leap this was for a kid who had to memorize the Command Line instructions just to play some games. Things didn't really kick off for me until Windows 95 and our first taste of the internet, but even then, 99% of my Windows time up until Windows 7 was spent disconnected from the net.
    </p>

    
                
    
    
    
                
    
                
        
                                                            
                                                                                                                        
                                                                        
    <div data-img-url="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;&quot;">

            




<figure>
        <picture>
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 1024px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png?q=70&amp;fit=crop&amp;w=750&amp;dpr=1" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png?q=70&amp;fit=crop&amp;w=750&amp;dpr=1">
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 768px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png?q=70&amp;fit=crop&amp;w=943&amp;dpr=1" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png?q=70&amp;fit=crop&amp;w=943&amp;dpr=1">
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 481px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png?q=70&amp;fit=crop&amp;w=767&amp;dpr=1" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png?q=70&amp;fit=crop&amp;w=767&amp;dpr=1">
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 0px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png?q=70&amp;fit=crop&amp;w=480&amp;dpr=1" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png?q=70&amp;fit=crop&amp;w=480&amp;dpr=1">
                <img width="642" height="482" loading="lazy" decoding="async" alt="exit-windows-3.1-to-dos" data-img-url="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png" src="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2014/05/exit-windows-3.1-to-dos.png">
    </picture>
                                    
    </figure>


        </div>

<p>                    In retrospect, this was actually a good thing in some ways, because it meant that Microsoft couldn't remotely mess with my Windows installation. Patches and updates came in the form of Windows service packs, and those were on actual physical floppy disks or CD-ROMs. If my computer worked yesterday, and I didn't change anything myself, it would almost certainly keep working until I inadvertently broke it myself.
    </p>

    
<p>                    Now that Windows is almost always online, my "personal" computer experience is feeling quite a bit less personal.
    </p>

    <h2 id="advertising-sneaking-in">
                        Advertising Sneaking In
               </h2>
                
    
    
    
                
    
                
        
                                                            
                                                                                                                        
                                                                        
    <div>
        <div data-img-url="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg" data-img-desc="&quot;Jerome Thomas \/ How-To Geek&quot;" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;&quot;">

            




<figure>
        <picture>
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 1024px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg?q=49&amp;fit=crop&amp;w=750&amp;dpr=2" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg?q=49&amp;fit=crop&amp;w=750&amp;dpr=2">
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 768px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg?q=49&amp;fit=crop&amp;w=943&amp;dpr=2" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg?q=49&amp;fit=crop&amp;w=943&amp;dpr=2">
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 481px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg?q=49&amp;fit=crop&amp;w=767&amp;dpr=2" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg?q=49&amp;fit=crop&amp;w=767&amp;dpr=2">
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 0px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg?q=49&amp;fit=crop&amp;w=480&amp;dpr=2" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg?q=49&amp;fit=crop&amp;w=480&amp;dpr=2">
                <img width="2100" height="1400" loading="lazy" decoding="async" alt="The location of the recommended section in the Windows 11 Start menu" data-img-url="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg" src="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/05/windows-start-ads.jpeg">
    </picture>
                                    
    </figure>


        </div>
                                    <p>Jerome Thomas / How-To Geek</p>
                        </div>

<p>                    If you bought a laptop or a pre-built computer you probably didn't think much about the price of Windows, but the fact is that Windows has never been an inexpensive operating system. As someone who has almost always built their own computer, I'm keenly aware that this software cost a significant amount of money. Which is why I and many other people were a little irked when Windows started introducing <a href="https://www.howtogeek.com/windows-11-start-menu-ads-how-to-turn-them-off/">advertising</a> and writing guides on <a href="https://www.howtogeek.com/how-to-disable-microsofts-ads-and-recommendations-in-windows-11/">how to turn off advertising in Windows</a> became a popular new pastime for us tech bloggers.
    </p>

    
<p>                    Basically, it now feels like Windows is partly subsidized by advertising, and regular users can't just have the operating system they paid for without being sold more software and services. It's not (yet) the most egregious way to go about it, but for someone who prefers absolute minimilism in their computer interfaces, it's not working for my feng shui.
    </p>

    <h2 id="updates-breaking-my-pc">
                        Updates Breaking My PC
               </h2>
<p>                    At this point, I have lost count of the number of times that I've left my perfectly working Windows computer at the end of my work day, only to return to a completely broken computer that won't boot the next morning. We have numerous articles at How-To Geek on how to <a href="https://www.howtogeek.com/224471/how-to-prevent-windows-10-from-automatically-downloading-updates/">stop Windows from updating</a>, and the mere fact that readers are searching for this information should tell you something.
    </p>

    
<p>                    Forced, automatic Windows updates seem inevitable now, and with every workaround people come up with, the loopholes are closed. Updates can be delayed, but not deferred. Resistance is futile. Which is why I find it hard to even trust Windows to run a Plex server or a NAS, because inevitably it will reboot the computer without asking me first.
    </p>

    <h2 id="leave-my-settings-alone-microsoft">
                        Leave My Settings Alone, Microsoft
               </h2>
<p>                    When I have my computer set up a certain way, I'd like it to stay that way permanently. Yet search the forums on sites like <a href="https://www.reddit.com/r/Windows10/comments/n1hoz0/windows_please_stop_changing_my_settings_with/" rel="noopener noreferrer nofollow" target="_blank">Reddit</a> or Microsoft's own <a href="https://answers.microsoft.com/en-us/windows/forum/all/windows-updates-keeps-changing-my-settings/1870494e-b7be-41a8-84e6-d2e7e55c88d5" rel="noopener noreferrer nofollow" target="_blank">community forums</a>, and you'll find numerous complaints about settings changing after updates. It can be innocuous stuff or more serious or impactful things, such as privacy settings. If anyone is going to flip the switches on my computer to control how it behaves and what's allowed, it should be me.
    </p>

    <h2 id="my-mac-doesn-rsquo-t-feel-subsidized">
                        My Mac Doesn’t Feel Subsidized
               </h2>
                
    
    
    
                
    
                
        
                                                            
                                                                                                                        
                                                                        
    <div data-img-url="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg" data-modal-id="single-image-modal" data-modal-container-id="single-image-modal-container" data-img-caption="&quot;Sergio Rodriguez \/ How-To Geek&quot;">

            




<figure>
        <picture>
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 1024px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg?q=49&amp;fit=crop&amp;w=750&amp;dpr=2" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg?q=49&amp;fit=crop&amp;w=750&amp;dpr=2">
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 768px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg?q=49&amp;fit=crop&amp;w=943&amp;dpr=2" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg?q=49&amp;fit=crop&amp;w=943&amp;dpr=2">
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 481px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg?q=49&amp;fit=crop&amp;w=767&amp;dpr=2" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg?q=49&amp;fit=crop&amp;w=767&amp;dpr=2">
        
                                        
                                    
                                                                                                                                                                            
            
                                                            
            
            
                                        
            <source media="(min-width: 0px)" data-srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg?q=49&amp;fit=crop&amp;w=480&amp;dpr=2" srcset="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg?q=49&amp;fit=crop&amp;w=480&amp;dpr=2">
                <img width="2100" height="1400" loading="lazy" decoding="async" alt="MacBook on a desk showing a colorful wallpaper with in a dark room." data-img-url="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg" src="https://static1.howtogeekimages.com/wordpress/wp-content/uploads/2024/03/macbook-on-a-desk-showing-a-colorful-wallpaper-with-in-a-dark-room.jpg">
    </picture>
                                        <figcaption>Sergio Rodriguez / How-To Geek</figcaption>
                        
    </figure>


        </div>

<p>                    My constant technical issues with Windows 10 updates eventually led me to switch to macOS back in 2019, and the difference in user experience is stark. You won't find bright garish ads for games or apps anywhere except for the actual App Store, which is where they belong. Intrusive "notifications" that are <a href="https://www.howtogeek.com/windows-has-a-new-annoying-popup-for-microsoft-edge/">really just advertising</a>? I haven't encountered that on macOS yet!
    </p>

    
<p>                    Honestly, it might sound weird, but macOS feels like the offline Windows experience of old to me. In fact, the operating system tends to stay classy and out of my way as far as possible. I've been thinking that the common complaint that Macs cost too much for the hardware you get misses the fact that you are <em>also </em>paying for the software. You get macOS and several other full-fat apps, such as the iWork suite, Garageband, and iMovie included in the price of entry. You pay more now, and don't have annoying monetization efforts later.
    </p>

    
<p>                    When I use my Windows 11 laptop (which was more expensive than my Mac, mind you), it feels like those Amazon Kindles that are subsidized by ad money. Except, at least Amazon gave us the choice.
    </p>

    <h2 id="linux-respects-its-users">
                        Linux Respects Its Users
               </h2>
<p>                    The other major player here is of course Linux in all its varied distributions. Here you are literally getting the operating system for free. The closest that a distro of Linux has come to punting ads was when plugs for software showed up in the <a href="https://www.reddit.com/r/linux/comments/hfs4v9/ubuntu_is_putting_ads_in_their_motd_now/" rel="noopener noreferrer nofollow" target="_blank">Ubuntu Message of the Day</a> and more recently a sort-of "ad" for <a href="https://www.omgubuntu.co.uk/2022/10/ubuntu-pro-terminal-ad" rel="noopener noreferrer nofollow" target="_blank">Ubuntu Pro</a> in the terminal. If anyone knows of other examples of native ads in a Linux distro, I'd love to hear about it in the comments.
    </p>

    
<p>                    I've had an on-again-off-again relationship with Linux over the years, and daily drove it during seven years of university, and never did I feel that I was being exploited or not in control. In fact, I was probably in too much control, which is why you can break Linux in so many creative ways just by being a dummy.
    </p>

    <h2 id="can-windows-make-a-comeback">
                        Can Windows Make a Comeback?
               </h2>
<p>                    More and more, I feel like Windows is just becoming a loss-leading front-end for Microsoft to sell its many software-as-a-service products. They don't even do anything if you <a href="https://www.howtogeek.com/how-to-get-windows-11-free/">don't activate Windows</a> other than block wallpaper changes and put a tiny watermark in the corner. You can be sure you can still subscribe to their services even if you didn't pay for Windows!
    </p>

    <hr>
<p>                    I really hope there will be some way in the future to get a version of Windows (that's not for enterprise users) which gives you the choice to have Microsoft butt out of the daily running, appearance, and settings of your computer. I hate to even suggest it, but I might even be willing to pay for an "ad-free" or "hands-off" version of the OS. Will this happen, or will Windows continue to slowly turn into a twisted Black Mirror version of itself? As someone who actually likes Windows, I sure hope it can turn that corner.
    </p>

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Internet Archive forced to remove 500k books after publishers' court win (472 pts)]]></title>
            <link>https://arstechnica.com/tech-policy/2024/06/internet-archive-forced-to-remove-500000-books-after-publishers-court-win/</link>
            <guid>40754229</guid>
            <pubDate>Fri, 21 Jun 2024 21:53:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/tech-policy/2024/06/internet-archive-forced-to-remove-500000-books-after-publishers-court-win/">https://arstechnica.com/tech-policy/2024/06/internet-archive-forced-to-remove-500000-books-after-publishers-court-win/</a>, See on <a href="https://news.ycombinator.com/item?id=40754229">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2024/06/GettyImages-119015596-800x609.jpg" alt="Internet Archive forced to remove 500,000 books after publishers’ court win">
      <figcaption></figcaption>  </figure>

  




<!-- cache hit 81:single/related:5b8fdf8dace930af74b6311c47e28811 --><!-- empty -->
<p>As a result <a href="https://arstechnica.com/tech-policy/2023/03/publishers-beat-internet-archive-as-judge-rules-e-book-lending-violates-copyright/">of book publishers successfully suing the Internet Archive</a> (IA) last year, the free online library that strives to keep growing online access to books recently shrank by about 500,000 titles.</p>
<p>IA <a href="https://blog.archive.org/2024/06/17/let-readers-read/">reported</a> in a blog post this month that publishers abruptly forcing these takedowns triggered a "devastating loss" for readers who depend on IA to access books that are otherwise impossible or difficult to access.</p>
<p>To restore access, IA is now appealing, hoping to reverse the prior court's decision by convincing the US Court of Appeals in the Second Circuit that IA's <a href="https://archive.org/details/controlled-digital-lending-explained">controlled digital lending</a> of its physical books should be considered fair use under copyright law. An April <a href="https://storage.courtlistener.com/recap/gov.uscourts.ca2.60988/gov.uscourts.ca2.60988.259.0.pdf">court filing</a> shows that IA intends to argue that the publishers have no evidence that the e-book market has been harmed by the open library's lending, and copyright law is better served by allowing IA's lending than by preventing it.</p>
<p>"We use industry-standard technology to prevent our books from being downloaded and redistributed—the same technology used by corporate publishers," Chris Freeland, IA's director of library services, wrote in the blog. "But the publishers suing our library say we shouldn’t be allowed to lend the books we own. They have forced us to remove more than half a million books from our library, and that’s why we are appealing."</p>
<p>IA will have an opportunity to defend its practices when oral arguments start in its appeal on June 28.</p>
<p>"Our position is straightforward; we just want to let our library patrons borrow and read the books we own, like any other library," Freeland wrote, while arguing that the "potential repercussions of this lawsuit extend far beyond the Internet Archive" and publishers should just "let readers read."</p>                                            
                                                        
<p>"This is a fight for the preservation of all libraries and the fundamental right to access information, a cornerstone of any democratic society," Freeland wrote. "We believe in the right of authors to benefit from their work; and we believe that libraries must be permitted to fulfill their mission of providing access to knowledge, regardless of whether it takes physical or digital form. Doing so upholds the principle that knowledge should be equally and equitably accessible to everyone, regardless of where they live or where they learn."</p>
<h2>Internet Archive fans beg publishers to end takedowns</h2>
<p>After publishers won an injunction stopping IA's digital lending, which "limits what we can do with our digitized books," IA's <a href="https://help.archive.org/help/why-are-so-many-books-listed-as-borrow-unavailable-at-the-internet-archive/">help page</a> said, the open library started shrinking. While "removed books are still available to patrons with print disabilities," everyone else has been cut off, causing many books in IA's collection to show up as "Borrow Unavailable."</p>
<p>Ever since, IA has been "inundated" with inquiries from readers all over the world searching for the removed books, Freeland said. And "we get tagged in social media every day where people are like, 'why are there so many books gone from our library'?" Freeland told Ars.</p>
<p>In an <a href="https://www.change.org/p/let-readers-read-an-open-letter-to-the-publishers-in-hachette-v-internet-archive">open letter</a> to publishers signed by nearly 19,000 supporters, IA fans begged publishers to reconsider forcing takedowns and quickly restore access to the lost books.</p>
<p>Among the "far-reaching implications" of the takedowns, IA fans counted the negative educational impact of academics, students, and educators—"particularly in underserved communities where access is limited—who were suddenly cut off from "research materials and literature that support their learning and academic growth."</p>
<p>They also argued that the takedowns dealt "a serious blow to lower-income families, people with disabilities, rural communities, and LGBTQ+ people, among many others," who may not have access to a local library or feel "safe accessing the information they need in public."</p>
<p>"Your removal of these books impedes academic progress and innovation, as well as imperiling the preservation of our cultural and historical knowledge," the letter said.</p>
<p>"This isn't happening in the abstract," Freeland told Ars. "This is real. People no longer have access to a half a million books."</p>

                                                </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Barcelona will eliminate tourist apartments (237 pts)]]></title>
            <link>https://www.theolivepress.es/spain-news/2024/06/21/breaking-barcelona-will-remove-all-tourist-apartments-in-2028-in-huge-win-for-anti-tourism-activists/</link>
            <guid>40752761</guid>
            <pubDate>Fri, 21 Jun 2024 19:23:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theolivepress.es/spain-news/2024/06/21/breaking-barcelona-will-remove-all-tourist-apartments-in-2028-in-huge-win-for-anti-tourism-activists/">https://www.theolivepress.es/spain-news/2024/06/21/breaking-barcelona-will-remove-all-tourist-apartments-in-2028-in-huge-win-for-anti-tourism-activists/</a>, See on <a href="https://news.ycombinator.com/item?id=40752761">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

<p><strong>BARCELONA’S city council has announced it will revoke all licenses for tourist apartments in the urban area by 2028.</strong></p>
<p>In a major win for anti-tourist activists, Barcelona’s socialist mayor Jaume Collboni announced on Friday that licenses for 10,101 tourist apartments in the city will automatically end in November 2028.</p>
<p>The move represents a crushing blow for Airbnb, Booking.com and other tenants and a triumph for locals who have protested about over-tourism and rising house prices for years.</p>
<p>Announcing the move, Collboni said the rising cost of property in the city – rental and purchase prices have risen by 70% and 40% respectively in the last decade – had forced him to take drastic action.</p>
<p>He said: “We cannot allow it that most young people who leave home are forced to leave Barcelona. The measures we have taken will not change the situation in one day. These things take time. But with these measures we are reaching a turning point”.</p>
<p><strong><em>READ MORE: <a href="https://www.theolivepress.es/spain-news/2024/06/19/exclusive-tourism-has-gone-too-far-hundreds-of-protestors-target-f1-roadshow-in-barcelona-city-centre-ahead-of-spanish-grand-prix/">EXCLUSIVE: ‘Tourism has gone too far’ – hundreds of protestors target F1 roadshow in Barcelona city centre ahead of Spanish Grand Prix</a></em></strong></p>
<div>
<figure><img decoding="async" width="490" height="653" src="https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-490x653.jpg" alt="" srcset="https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-490x653.jpg 490w, https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-225x300.jpg 225w, https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-768x1024.jpg 768w, https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-1152x1536.jpg 1152w, https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-1536x2048.jpg 1536w, https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-60x80.jpg 60w, https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-18x24.jpg 18w, https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-27x36.jpg 27w, https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-36x48.jpg 36w, https://www.theolivepress.es/wp-content/uploads/2024/06/5-1-scaled.jpg 1920w" sizes="(max-width: 490px) 100vw, 490px"><figcaption>The move represents a big win for anti-tourist protestors, who attempted to disrupt an F1 roadshow in the city on Tuesday. Copyright: Ben Pawlowski/Olive Press</figcaption></figure></div>
<p>The deputy mayor for Urban Planning, Laia Bonet, hailed the move as the ‘equivalent of building 10,000 new flats’ which can be used by locals for residential use.</p>
<p>Local officials say that tenants will not be compensated because the move, which will have to be passed with political support, has de-facto compensation by giving owners a four-year window before licences expire. </p>
<p>Alongside the revoking of tourist flat licenses, Collboni announced that new legislation would force building constructors to allocate at least 30% of new homes to social housing.</p>
<p>The measures are designed to alleviate pressure on a housing market which has seen sharp price rises in recent years, forcing many residents to leave the urban area for the suburbs and beyond.</p>
<p>Speaking to the <em>Olive Press </em>at an anti-tourist rally on Tuesday, one Barcelona resident, who gave his name as Alex, said locals were angry at the ‘massification of tourism’ with ‘the cost of living and housing forcing many young people to emigrate from the city centre to the suburbs and nearby towns’.</p>
<p>He added: “The people of Barcelona, like any city in the UK and elsewhere, have the right to live peacefully in their own city. What we need is a better quality of life, decent wages and, above all, an affordable city to live in”. </p>
<p><a href="https://theolivepress.es/register/?level_id=4"><img src="https://www.theolivepress.es/wp-content/uploads/2024/04/paywall-offer-smaller.png" alt="" width="768" height="241"></a></p> </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Aster shootdown over Sydney in 1955 (205 pts)]]></title>
            <link>https://navyhistory.au/aster-shootdown-over-sydney-in-1955/</link>
            <guid>40751813</guid>
            <pubDate>Fri, 21 Jun 2024 17:33:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://navyhistory.au/aster-shootdown-over-sydney-in-1955/">https://navyhistory.au/aster-shootdown-over-sydney-in-1955/</a>, See on <a href="https://news.ycombinator.com/item?id=40751813">Hacker News</a></p>
<div id="readability-page-1" class="page"><article aria-label="Aster shootdown over Sydney in 1955"><div><p>FOR more than three hours on a fine, calm August morning in 1955, the eyes of Sydney’s suburbia were fixed skyward, anxiously watching the flight of a pilotless Auster aeroplane as it circled above and headed from Bankstown to the City, pursued by Service aircraft.</p>
<p>It was school holiday time, the alert had gone out over the radio, and the mums had herded in their children, police patrolled areas by car, cycle and foot, firemen stood by their tenders, ambulance men remained on the alert and firefloats stood in readiness in the harbour . . . all eyes still looked up . . . no one knew when or where the plane might suddenly come hurtling down.</p>
<p>The end came – thankfully five miles off the coast – when two Navy Sea Furies opened fire on the Auster. which levelled out pouring smoke, then started down in a slow spiral. The two Navy pilots followed it down, firing two or three more short bursts on the way and with a splash, the errant aircraft, still in one piece, hit the water at 1142 and disappeared. It was all over!</p>
<p>The media had a field day . . with such newspaper headings as “Possible disaster in flight”, and “Thousands watch air drama of flyaway plane”, reaching the overseas press. Politicians asked embarassing questions and crit-icism of the Services followed as did a Department of Civil Aviation enquiry … but how, when and why did it happen?</p>
<p>On the morning of August 30, 1955. Mr Anthony Thrower, aged 30, of Granville, Sydney, rented an Auster from Kingsford Smith Aviation School He had completed only one circuit of his planned one hour practice when the engine failed 10 feet from the ground. Landing the plane in the middle of the strip he climbed out, swung the propellor by hand (there was no self-starter) and the engine immediately roared into life. In a million-to-one chance the brake failed to hold and although pilot Thrower grabbed a wing strut to check the plane he was quickly forced to jump clear, just avoiding the tail. Aided by a favourable south-east wind with well trimmed controls, the pilotless plane sped across the strip and became airborne. It then narrowly missed the control tower, which was subsequently evacuated, and other airport buildings then slowly circled the aerodrome at low altitude After continuing right hand circuits of Bankstown for a further 15 minutes the Auster steadily gained height and began drifting towards the city.</p>
<p>Bankstown Aerodrome officials alerted control personnel at Mascot who broadcast a general alarm to all aircraft as well as the police and other Government organisations. One report stated that a schoolboy might be at the controls. The police radio station at Bourke Street broadcast at almost one minute intervals the plane’s last known whereabouts.</p>
<p>Meanwhile, Commander J. R. W. Groves, RAN, was returning to Schofields aerodrome from exercises, with three other personnel onboard. At 0850 the Navy Auster was alerted by Mascot of the runaway plane. Nearing Bankstown they saw it at 1500ft and climbing in tight circles. Approaching to within 50 yards it was noted to be unoccupied and that the controls were fixed in the one position. The Navy lightplane continued to pursue the unmanned aircraft as it gained height passing over the Sydney suburbs of Punchbowl, Bexley, Hurstville, Rockdale, Mascot, Alexandria, Redfern and finally arriving above the centre of the city about 9.30 am.</p>
<p>In the meantime anxious mothers in suburbs where the plane passed over herded children, who were on school holidays, into their homes. Police patrolled areas by car, cycle and foot. Firemen stood by their trucks and ambulance officers remained on the alert, and firefloats stood in readiness in the harbour. No one knew when or where the plane might suddenly come hurtling down.</p>
<p>By 0953 the Auster was over Vaucluse at 5000 feet. RAAF Wirraway A20-728 departed Richmond at 1010 to join the chase. Onboard was Wing Commander D.R. Beattie and Squadron Leader Tom James. The target was contacted at 1020, 2½ miles offshore and now at an altitude of 7000 ft. Instructions were then received that they were not to open fire until the Auster was five miles offshore and there were no fishing or coastal boats below. The runaway plane continued climbing in tight orbit to 10,300ft and at 1045 hours reached a point estimated at five miles from the coast.</p>
<p><img decoding="async" src="https://navyhistory.au/wp-content/uploads/Wirraway-300x156.jpg" alt="" width="300" height="156" srcset="https://navyhistory.au/wp-content/uploads/Wirraway-300x156.jpg 300w, https://navyhistory.au/wp-content/uploads/Wirraway-150x78.jpg 150w, https://navyhistory.au/wp-content/uploads/Wirraway-120x62.jpg 120w, https://navyhistory.au/wp-content/uploads/Wirraway.jpg 585w" sizes="(max-width: 300px) 100vw, 300px"></p>
<p>Two firing passes were then made with the hand held Bren gun from the rear cockpit without any noticeable effect. Before departing the Wirraway rear canopy and fairing had been removed and Squadron Leader James was so cold, it was minus five degrees celcius – that he was unable to change the magazine and his hands were sticking to the gum.</p>
<p>Meanwhile a RAAF Meteor had arrived from Williamtown near Newcastle and after directing it to the target the Wirraway broke off the attack and returned to Richmond. The Navy Auster, which had now been airborne some 3¼ hours, headed for its base at Schofields at about the same time.</p>
<p><img decoding="async" src="https://navyhistory.au/wp-content/uploads/20200914raaf8622332_07-300x200.jpg" alt="" width="300" height="200" srcset="https://navyhistory.au/wp-content/uploads/20200914raaf8622332_07-300x200.jpg 300w, https://navyhistory.au/wp-content/uploads/20200914raaf8622332_07-1500x1000.jpg 1500w, https://navyhistory.au/wp-content/uploads/20200914raaf8622332_07-150x100.jpg 150w, https://navyhistory.au/wp-content/uploads/20200914raaf8622332_07-768x512.jpg 768w, https://navyhistory.au/wp-content/uploads/20200914raaf8622332_07-1536x1024.jpg 1536w, https://navyhistory.au/wp-content/uploads/20200914raaf8622332_07-2048x1365.jpg 2048w, https://navyhistory.au/wp-content/uploads/20200914raaf8622332_07-120x80.jpg 120w, https://navyhistory.au/wp-content/uploads/20200914raaf8622332_07-1000x667.jpg 1000w" sizes="(max-width: 300px) 100vw, 300px"></p>
<p>But luck was not with the RAAF that day. Firstly a Meteor piloted by Squadron Leader Holdsworth, had been delayed some 13 minutes on departure when a Sabre preceding his departure, had burst a tyre on landing and obstructed the runway. Then after arriving in the target area, and in the Meteor’s initial firing pass from the rear, both cannons jammed after only a few rounds had been fired. Some strikes were observed on the starboard plane of the Auster.</p>
<p>Squadron Leader Holdsworth then requested that two more Meteors be sent and the reply was received that they were on the way in addition to two Sea Furies from the Naval Air Station at Nowra. While awaiting their arrival A77-80 made four passes directly below the runaway Auster and pulled up sharply in an attempt to dislodge it from its flight path and into a dive. However, the jet wash was not sufficient and the plane continued in the same determined fashion.</p>
<p>Sea Furies from 805 Squadron Nowra appeared on the scene at 1135 and were piloted by Lieutenants J.R. Bluett and Peter McNay (both aged 26), of the Royal Navy, who were on exchange duty in Australia. LEUT McNay lowered his flaps to slow down and approached to within 100 yards of the target to again confirm it was unoccupied. Then, pulling up astern he gave it a short burst from his four cannons. LEUT Bluett followed this with a beam-on attack and after about 15 rounds. a great sheet of flame rose from the cockpit. From the first strikes on the Auster until the time it hit the sea was 1½ minutes.</p>

<figure id="attachment_67775" aria-describedby="caption-attachment-67775"><img decoding="async" src="https://navyhistory.au/wp-content/uploads/HAWKER-SEA-FURY-MK-1-300x158.jpg" alt="" width="300" height="158" srcset="https://navyhistory.au/wp-content/uploads/HAWKER-SEA-FURY-MK-1-300x158.jpg 300w, https://navyhistory.au/wp-content/uploads/HAWKER-SEA-FURY-MK-1-150x79.jpg 150w, https://navyhistory.au/wp-content/uploads/HAWKER-SEA-FURY-MK-1-768x403.jpg 768w, https://navyhistory.au/wp-content/uploads/HAWKER-SEA-FURY-MK-1-120x63.jpg 120w, https://navyhistory.au/wp-content/uploads/HAWKER-SEA-FURY-MK-1.jpg 1000w" sizes="(max-width: 300px) 100vw, 300px"><figcaption id="caption-attachment-67775">Hawker Sea Fury Mark 2</figcaption></figure>


<p><img decoding="async" src="https://navyhistory.au/wp-content/uploads/Astershootdown.jpg" alt="" width="356" height="506" srcset="https://navyhistory.au/wp-content/uploads/Astershootdown.jpg 356w, https://navyhistory.au/wp-content/uploads/Astershootdown-211x300.jpg 211w, https://navyhistory.au/wp-content/uploads/Astershootdown-106x150.jpg 106w, https://navyhistory.au/wp-content/uploads/Astershootdown-120x171.jpg 120w" sizes="(max-width: 356px) 100vw, 356px"></p>
<p>At 1145 a police broadcast announced “the Auster has been shot down. It’s all over.” The barrage of calls from anxious enquirers gradually subsided at the police, newspaper and radio station switchboards throughout Sydney.</p>
<p>When the Navy Sea Furies returned to Nowra, enthusiastic groundstaff quickly painted a small yellow silhouette representing an Auster on the fuselage of LEUT Bluett’s plane. This 26-year-old British pilot had seen eight months’ action in the Korean war from HMS GLORY on ground attack. LEUT McNay had only been in Australia eight months after completing his training in England.</p>
<p>The incident did not quickly subside here. Embarrassing questions were directed in Federal Parliament to. the Government of the day by both Mr C Chambers (Member for Adelaide) and Mr F Daly (Grayndler) during the Budget debate the following month. They asked why was so much money being spent on defence to an Air Force and Navy that took over two hours to shoot down an unarmed light aircraft?</p>
<p>Aviation authorities stated that nearly “dead calm” weather had probably prevented a major disaster as the Auster could have crashed anywhere on its route had it been a windy day. The then Department of Civil Aviation held an enquiry.</p>
<p>The harsh criticism against the Services was unfounded though and despite some initial bad luck the Navy and Air Force had performed creditably on a difficult and elusive “ENEMY”. In addition they were provided with an exciting Tuesday morning over and around Sydney with a free but stubborn target to practise on.</p>
<p>—————————————————————————————————————-</p>

</div></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[CRIU, a project to implement checkpoint/restore functionality for Linux (188 pts)]]></title>
            <link>https://criu.org/Main_Page</link>
            <guid>40751468</guid>
            <pubDate>Fri, 21 Jun 2024 16:59:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://criu.org/Main_Page">https://criu.org/Main_Page</a>, See on <a href="https://news.ycombinator.com/item?id=40751468">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><div>

<p><a href="https://criu.org/File:3.19.jpg"><img alt="3.19.jpg" src="https://criu.org/w/images/thumb/9/95/3.19.jpg/340px-3.19.jpg" decoding="async" width="340" height="340" srcset="https://criu.org/w/images/thumb/9/95/3.19.jpg/510px-3.19.jpg 1.5x, https://criu.org/w/images/thumb/9/95/3.19.jpg/680px-3.19.jpg 2x"></a></p>
</div>
<p><big>Welcome to CRIU, a project to implement checkpoint/restore functionality for Linux.
</big></p><p><big>Checkpoint/Restore In Userspace, or CRIU (pronounced kree-oo, IPA: /krɪʊ/, Russian: криу), is a Linux software. It can freeze a running container (or an individual application) and checkpoint its state to disk. The data saved can be used to restore the application and run it exactly as it was during the time of the freeze. Using this functionality, application or container live migration, snapshots, remote debugging, and <a href="https://criu.org/Usage_scenarios" title="Usage scenarios">many other things</a> are now possible.
</big></p><p><big>CRIU started as a project of Virtuozzo, and grew with the tremendous help from the <a href="https://criu.org/Community" title="Community">community</a>. It is currently used by (integrated into) OpenVZ, <a href="https://criu.org/LXC" title="LXC">LXC</a>/LXD, <a href="https://criu.org/Docker" title="Docker">Docker</a>, Podman, and <a href="https://criu.org/Integration" title="Integration">other software</a>, and <a href="https://criu.org/Packages" title="Packages">packaged for many Linux distributions</a>.
</big>
</p>
<div><h2></h2>

<h2><span id="CloudNativeSecurityCon_North_America_2024">CloudNativeSecurityCon North America 2024</span></h2>
<p><img alt="CloudNativeSecurityCon.png" src="https://criu.org/w/images/thumb/3/36/CloudNativeSecurityCon.png/200px-CloudNativeSecurityCon.png" decoding="async" width="200" height="67" srcset="https://criu.org/w/images/thumb/3/36/CloudNativeSecurityCon.png/300px-CloudNativeSecurityCon.png 1.5x, https://criu.org/w/images/thumb/3/36/CloudNativeSecurityCon.png/400px-CloudNativeSecurityCon.png 2x"></p>
<p><b>June 27, 2024, Seattle, Washington</b>
</p><p><a rel="nofollow" href="https://sched.co/1dCVs">End-to-End Encryption for Container Checkpointing in Kubernetes</a>
</p>
<h2><span id="Open_Source_Summit_North_America_2024">Open Source Summit North America 2024</span></h2>
<p><img alt="Oss-na.png" src="https://criu.org/w/images/thumb/f/f3/Oss-na.png/200px-Oss-na.png" decoding="async" width="200" height="41" srcset="https://criu.org/w/images/thumb/f/f3/Oss-na.png/300px-Oss-na.png 1.5x, https://criu.org/w/images/thumb/f/f3/Oss-na.png/400px-Oss-na.png 2x"></p>
<p><b>April 17, 2024, Seattle, Washington</b>
</p><p><a rel="nofollow" href="https://sched.co/1aPu9">Investigating Checkpoint and Restore for GPU-Accelerated Containers</a>
</p>
<h2><span id="NVIDIA_GTC_2024">NVIDIA GTC 2024</span></h2>
<p><img alt="Nvidia-gtc.png" src="https://criu.org/w/images/thumb/b/b8/Nvidia-gtc.png/150px-Nvidia-gtc.png" decoding="async" width="150" height="75" srcset="https://criu.org/w/images/thumb/b/b8/Nvidia-gtc.png/225px-Nvidia-gtc.png 1.5x, https://criu.org/w/images/thumb/b/b8/Nvidia-gtc.png/300px-Nvidia-gtc.png 2x"></p>
<p><b>March 21, 2024, San Jose, CA</b>
</p><p><a rel="nofollow" href="https://www.nvidia.com/gtc/posters/#/session/1705106137731001cNAN">Achieving K8S and Public Cloud Operational Efficiency using a New Checkpoint/Restart Feature for GPUs</a>
</p>
<h2><span id="KubeCon_EU_2024">KubeCon EU 2024</span></h2>
<p><img alt="Kubecon.png" src="https://criu.org/w/images/thumb/6/6a/Kubecon.png/150px-Kubecon.png" decoding="async" width="150" height="59" srcset="https://criu.org/w/images/thumb/6/6a/Kubecon.png/225px-Kubecon.png 1.5x, https://criu.org/w/images/thumb/6/6a/Kubecon.png/300px-Kubecon.png 2x"></p>
<p><b>March 22, 2024, Paris, France</b>
</p><p><a rel="nofollow" href="https://sched.co/1YeP3">The Party Must Go on - Resume Pods After Spot Instance Shut Down</a>
</p><p><a rel="nofollow" href="https://sched.co/1YeT4">Enabling Coordinated Checkpointing for Distributed HPC Applications</a>
</p>

</div>
<div>
<h2><span id="Using">Using</span></h2>
<big>
<dl><dt>Getting <a href="https://criu.org/Packages" title="Packages">packages</a> for your distribution</dt>
<dd>Or try manual <a href="https://criu.org/Installation" title="Installation">installation</a> to have CRIU on your system</dd></dl>
</big>
<dl><dt><a href="https://criu.org/CLI" title="CLI">CLI</a>, <a href="https://criu.org/RPC" title="RPC">RPC</a> and <a href="https://criu.org/C_API" title="C API">C API</a></dt>
<dd>Three ways to start using the C/R functionality.  <a href="https://criu.org/Category:API" title="Category:API">More info</a> about APIs.</dd></dl>
<dl><dt><a href="https://criu.org/Usage_scenarios" title="Usage scenarios">Usage scenarios</a></dt>
<dd>Ideas how criu can be used (some are crazy indeed)</dd></dl>
<dl><dt><a href="https://criu.org/Category:HOWTO" title="Category:HOWTO">Category:HOWTO</a></dt>
<dd>Collection of real world examples of how to use CRIU. Some are complex, some are not. HOW TO dump a <a href="https://criu.org/Simple_loop" title="Simple loop">simple loop</a> might be the best one to start with. Also a set of <a href="https://criu.org/Asciinema" title="Asciinema">asciinema</a> records for real-life examples.</dd></dl>
<dl><dt><a rel="nofollow" href="https://www.criu.org/index.php?title=FAQ">FAQ</a> &amp; <a href="https://criu.org/When_C/R_fails" title="When C/R fails">When C/R fails</a></dt>
<dd>A sort of troubleshooting guide</dd></dl>
<dl><dt><a href="https://criu.org/What_can_change_after_C/R" title="What can change after C/R">What can change after C/R</a></dt>
<dd>CRIU cannot (yet) save and restore every single bit of tasks' state. This page describes what bits visible through standard kernel API are such.</dd></dl>
<dl><dt><a href="https://criu.org/What_cannot_be_checkpointed" title="What cannot be checkpointed">What cannot be checkpointed</a></dt>
<dd>What an application could do to make CRIU refuse to dump it.</dd></dl>
<dl><dt><a href="https://criu.org/Contacts" title="Contacts">Contacts</a></dt>
<dd>Ways to communicate with CRIU community</dd></dl>
</div>


<div>
<h2><span id="Under_the_hood">Under the hood</span></h2>
<ul><li><a href="https://criu.org/Checkpoint/Restore" title="Checkpoint/Restore">Checkpoint/Restore</a></li>
<li><a href="https://criu.org/Category:Under_the_hood" title="Category:Under the hood">Category:Under the hood</a></li>
<li><a href="https://criu.org/Category:Network" title="Category:Network">Category:Network</a></li>
<li><a href="https://criu.org/Category:Files" title="Category:Files">Category:Files</a></li>
<li><a href="https://criu.org/Category:Memory" title="Category:Memory">Category:Memory</a></li>
<li><a href="https://criu.org/Pending_signals" title="Pending signals">Pending signals</a></li>
<li><a href="https://criu.org/Stages_of_restoring" title="Stages of restoring">Stages of restoring</a></li>
<li><a href="https://criu.org/Code_blobs" title="Code blobs">Code blobs</a></li>
<li><a href="https://criu.org/Comparison_to_other_CR_projects" title="Comparison to other CR projects">Comparison to other CR projects</a></li></ul>
</div>
<div>
<h2><span id="External_links">External links</span></h2>
<ul><li>2024-04-22, <a rel="nofollow" href="https://dl.acm.org/doi/abs/10.1145/3627703.3650085">Just-In-Time Checkpointing: Low Cost Error Recovery from Deep Learning Training Failures</a></li>
<li>2024-04-22, <a rel="nofollow" href="https://www.dpss.inesc-id.pt/~rbruno/papers/skohli-eurosys24.pdf">Pronghorn: Effective Checkpoint Orchestration for Serverless Hot-Starts</a></li>
<li>2024-01-29, <a rel="nofollow" href="https://www.sciencedirect.com/science/article/pii/S0167739X24000190">Prebaking runtime environments to improve the FaaS cold start latency</a></li>
<li>2023-11-12, <a rel="nofollow" href="https://dl.acm.org/doi/10.1145/3624062.3624254">Checkpoint/Restart for CUDA Kernels</a></li>
<li>2023-10-23, <a rel="nofollow" href="https://dl.acm.org/doi/10.1145/3605181.3626289">Evicting for the greater good: The Case for Reactive Checkpointing in Serverless Computing</a></li>
<li>2023-04-20, <a rel="nofollow" href="https://www.mdpi.com/2504-446X/7/5/286">A Dynamic Checkpoint Interval Decision Algorithm for Live Migration-Based Drone-Recovery System</a></li>
<li>2023-03-10, <a rel="nofollow" href="https://kubernetes.io/blog/2023/03/10/forensic-container-analysis/">Forensic Container Analysis</a></li>
<li>2023-01-14, <a rel="nofollow" href="https://arxiv.org/abs/2301.05861">Async-fork: Mitigating Query Latency Spikes Incurred by the Fork-based Snapshot Mechanism from the OS Level</a></li>
<li>2022-12-05, <a rel="nofollow" href="https://kubernetes.io/blog/2022/12/05/forensic-container-checkpointing-alpha/">Forensic container checkpointing in Kubernetes</a></li></ul>
<dl><dd><b><a href="https://criu.org/Articles" title="Articles">More external articles...</a></b></dd></dl>
</div>
<div>
<h2><span id="Misc">Misc</span></h2>
<ul><li><a href="https://criu.org/Academic_Research" title="Academic Research">Academic Research</a></li>
<li><a href="https://criu.org/Podcasts" title="Podcasts">Podcasts</a> and other audio/video interviews</li>
<li>Project <a href="https://criu.org/History" title="History">history</a></li>
<li><a href="https://criu.org/Logo" title="Logo">Logo</a> description</li>
<li><a href="https://criu.org/Events" title="Events">Events</a></li>
<li><a href="https://criu.org/CRIU_acronym_fun" title="CRIU acronym fun">CRIU acronym fun</a></li></ul>
</div>
<!-- 
NewPP limit report
Cached time: 20240621160420
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.084 seconds
Real time usage: 0.090 seconds
Preprocessor visited node count: 193/1000000
Post‐expand include size: 6372/2097152 bytes
Template argument size: 98/2097152 bytes
Highest expansion depth: 12/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   18.533      1 -total
 62.84%   11.647      1 Template:Download_box
 49.57%    9.187      1 Template:Latest_release
 45.40%    8.414      1 Template:Release
 18.02%    3.339      1 Template:News_block_2
 15.57%    2.886      1 Template:Criu
 14.72%    2.728      1 Template:Dl
 10.86%    2.013      1 Template:Criu_link
  9.54%    1.768      1 Articles
  8.38%    1.553      1 News/events
-->

<!-- Saved in parser cache with key criuwikidb:pcache:idhash:1-0!canonical and timestamp 20240621160420 and revision id 5444
 -->
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How to prolong lithium based batteries (128 pts)]]></title>
            <link>https://batteryuniversity.com/article/bu-808-how-to-prolong-lithium-based-batteries</link>
            <guid>40751414</guid>
            <pubDate>Fri, 21 Jun 2024 16:55:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://batteryuniversity.com/article/bu-808-how-to-prolong-lithium-based-batteries">https://batteryuniversity.com/article/bu-808-how-to-prolong-lithium-based-batteries</a>, See on <a href="https://news.ycombinator.com/item?id=40751414">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Battery research is focusing on lithium chemistries so much that one could imagine that the battery future lies solely in lithium. There are good reasons to be optimistic as lithium-ion is, in many ways, superior to other chemistries. Applications are growing and are encroaching into markets that previously were solidly held by lead acid, such as standby and load leveling. Many satellites are also powered by Li-ion.</p>
<p>Lithium-ion has not yet fully matured and is still improving. Notable advancements have been made in longevity and safety while the capacity is increasing incrementally. Today, Li-ion meets the expectations of most consumer devices but applications for the EV need further development before this power source will become the accepted norm. <a href="https://batteryuniversity.com/article/bu-104c-the-octagon-battery-what-makes-a-battery-a-battery">BU-104c: The Octagon Battery</a> – What makes a Battery a Battery, describes the stringent requirements a battery must meet.</p>
<p>As battery care-giver, you have choices in how to prolong battery life. Each battery system has unique needs in terms of <a href="https://batteryuniversity.com/article/bu-401a-fast-and-ultra-fast-chargers">charging</a> speed, <a href="https://batteryuniversity.com/article/bu-501-basics-about-discharging">depth of discharge</a>, <a href="https://batteryuniversity.com/article/bu-501a-discharge-characteristics-of-li-ion">loading</a> and exposure to <a href="https://batteryuniversity.com/article/bu-502-discharging-at-high-and-low-temperatures">adverse temperature</a>. Check <a href="https://batteryuniversity.com/article/bu-802-what-causes-capacity-loss">what causes capacity loss</a>, <a href="https://batteryuniversity.com/article/bu-802a-how-does-rising-internal-resistance-affect-performance">how does rising internal resistance affect performance</a>, <a href="https://batteryuniversity.com/article/bu-802b-what-does-elevated-self-discharge-do">what does elevated self-discharge do</a> and <a href="https://batteryuniversity.com/article/bu-802c-how-low-can-a-battery-be-discharged">how low can a battery be discharged?</a> You may also be interested in the <a href="https://batteryuniversity.com/article/bu-901-fundamentals-in-battery-testing">fundamentals of battery testing</a>.</p>
<ul><li><a href="https://batteryuniversity.com/article/bu-415-how-to-charge-and-when-to-charge">BU-415: How to Charge and When to Charge?</a></li><li><a href="https://batteryuniversity.com/article/bu-706-summary-of-dos-and-donts">BU-706: Summary of Do’s and Don’ts</a></li></ul>

<h3><strong>What Causes Lithium-ion to Age?</strong></h3>
<p>The lithium-ion battery works on ion movement between the positive and negative electrodes. In theory such a mechanism should work forever, but cycling, elevated temperature and aging decrease the performance over time. Manufacturers take a conservative approach and specify the life of Li-ion in most consumer products as being between 300 and 500 discharge/charge cycles.</p>
<p>In 2020, small wearable batteries deliver about 300 cycles whereas modern smartphones have a cycle life requirement is 800 cycles and more. The largest advancements are made in <a href="https://batteryuniversity.com/article/bu-1003-electric-vehicle-ev">EV batteries</a> with talk about the one-million-mile battery representing 5,000 cycles.</p>
<p>Evaluating battery life on counting cycles is not conclusive because a discharge may vary in depth and there are no clearly defined standards of what constitutes a cycle(See <a href="https://batteryuniversity.com/article/bu-501-basics-about-discharging">BU-501: Basics About Discharging</a>). In lieu of cycle count, some device manufacturers suggest battery replacement on a date stamp, but this method does not take usage into account. A battery may fail within the allotted time due to heavy use or unfavorable temperature conditions; however, most packs last considerably longer than what the stamp indicates.</p>
<p>The performance of a battery is measured in capacity, a leading health indicator. Internal resistance and self-discharge also play roles, but these are less significant in predicting the end of battery life with modern Li-ion.</p>
<p><strong>F</strong><strong>igure 1</strong> illustrates the capacity drop of 11 Li-polymer batteries that have been cycled at a Cadex laboratory. The 1,500mAh pouch cells for mobile phones were first charged at a current of 1,500mA (1C) to 4.20V/cell and then allowed to saturate to 0.05C (75mA) as part of the full charge saturation. The batteries were then discharged at 1,500mA to 3.0V/cell, and the cycle was repeated. The expected capacity loss of Li-ion batteries was uniform over the delivered 250 cycles and the batteries performed as expected.<strong><br></strong></p>
<figure><strong><img src="https://batteryuniversity.com/img/content/lithium1.jpg" alt="Capacity drop as part of cycling"></strong><figcaption><strong>Figure 1: Capacity drop as part of cycling <sup>[1]</sup></strong></figcaption></figure>
<p>Eleven new Li-ion were tested on a Cadex C7400 battery analyzer. All packs started at a capacity of 88–94% and decreased to 73–84% after 250 full discharge cycles. The 1500mAh pouch packs are used in mobile phones.</p>
<p>Although a battery should deliver 100 percent capacity during the first year of service, it is common to see lower than specified capacities, and shelf life may contribute to this loss. In addition, manufacturers tend to overrate their batteries, knowing that very few users will do spot-checks and complain if low. Not having to match single cells in mobile phones and tablets, as is required in multi-cell packs, opens the floodgates for a much broader performance acceptance. Cells with lower capacities may slip through cracks without the consumer knowing.</p>
<p>Similar to a mechanical device that wears out faster with heavy use, the depth of discharge (DoD) determines the cycle count of the battery. The smaller the discharge (low DoD), the longer the battery will last. If at all possible, avoid full discharges and charge the battery more often between uses. Partial discharge on Li-ion is fine. There is no memory and the battery does not need periodic full discharge cycles to prolong life. The exception may be a periodic calibration of the fuel gauge on a smart battery or intelligent device(See <a href="https://batteryuniversity.com/article/bu-603-how-to-calibrate-a-smart-battery">BU-603: How to Calibrate a “Smart” Battery</a>)</p>
<p>The following tables indicate stress related capacity losses on cobalt-based lithium-ion. The voltages of lithium iron phosphate and lithium titanate are lower and do not apply to the voltage references given.<br></p>
<table><tbody><tr><td><span><strong>Note:</strong></span></td>
			<td><strong>Tables 2, 3 and 4</strong> indicate general aging trends of common cobalt-based Li-ion batteries on depth-of-discharge, temperature and charge levels, Table 6 further looks at capacity loss when operating within given and discharge bandwidths. The tables do not address ultra-fast charging and high load discharges that will shorten battery life. No all batteries behave the same.</td>
		</tr></tbody></table>
<p><strong>Table 2 </strong>estimates the number of discharge/charge cycles Li-ion can deliver at various DoD levels before the battery capacity drops to 70 percent. DoD constitutes a full charge followed by a discharge to the indicated state-of-charge (SoC) level in the table.<br></p>
<table><tbody><tr><th rowspan="2"><p><strong>Depth of Discharge</strong></p></th>
			<th colspan="2"><p><strong>Discharge cycles</strong></p></th>
			
 </tr><tr><th><p>NMC</p></th>
			<th><p>LiPO<sub>4</sub></p></th>

	</tr></tbody><tbody><tr><td><p>100% DoD</p></td>
			<td><p>~300</p></td>
			<td><p>~600</p></td>
			
			
			
		</tr><tr><td><p>80% DoD</p></td>
			<td><p>~400</p></td>
			<td><p>~900</p></td>
			
			
			
		</tr><tr><td><p>60% DoD</p></td>
			<td><p>~600</p></td>
			<td><p>~1,500</p></td>
			
			
			
		</tr><tr><td><p>40% DoD</p></td>
			<td><p>~1,000</p></td>
			<td><p>~3,000</p></td>
			
			
			
		</tr><tr><td><p>20% DoD</p></td>
			<td><p>~2,000</p></td>
			<td><p>~9,000</p></td>
			
			
			
		</tr><tr><td><p>10% DoD</p></td>
			<td><p>~6,000</p></td>
			<td><p>~15,000</p></td>
			
			
			
		</tr></tbody></table>
<figcaption><strong>Table 2: Cycle life as a function ofdepth of discharge*</strong><br>A partial discharge reduces stress and prolongs battery life, so does a partial charge. Elevated temperature and high currents also affect cycle life.</figcaption>
<p><em><strong>*</strong> 100% DoD is a full cycle; 10% is very brief. Cycling in mid-state-of-charge would have best longevity.</em></p>
<p>Lithium-ion suffers from stress when exposed to heat, so does keeping a cell at a high charge voltage. A battery dwelling above 30°C (86°F) is considered <em>elevated temperature</em> and for most Li-ion a voltage above 4.10V/cell is deemed as <em>high voltage</em>. Exposing the battery to high temperature and dwelling in a full state-of-charge for an extended time can be more stressful than cycling. <strong>Table 3</strong> demonstrates capacity loss as a function of temperature and SoC.<br></p>
<table><thead><tr><th scope="col"><strong>Temperature</strong></th>
			<th scope="col"><strong>40% Charge</strong></th>
			<th scope="col"><strong>100% Charge</strong></th>
			
			
			
		</tr></thead><tbody><tr><td>0°C</td>
			<td>98% (after 1 year)</td>
			<td>94% (after 1 year)</td>
			
			
			
		</tr><tr><td>25°C</td>
			<td>96% (after 1 year)</td>
			<td>80% (after 1 year)</td>
			
			
			
		</tr><tr><td>40°C</td>
			<td>85% (after 1 year)</td>
			<td>65% (after 1 year)</td>
			
			
			
		</tr><tr><td>60°C</td>
			<td>75% (after 1 year)</td>
			<td>60% (after 3 months)</td>
			
			
			
		</tr></tbody></table>
<figcaption><strong>Table 3: Estimated recoverable capacity when storing Li-ion for one year at various temperatures</strong><br>Elevated temperature hastens permanent capacity loss. Not all Li-ion systems behave the same.</figcaption>
<p> Most Li-ions charge to 4.20V/cell, and every reduction in peak charge voltage of 0.10V/cell is said to double the cycle life. For example, a lithium-ion cell charged to 4.20V/cell typically delivers 300–500 cycles. If charged to only 4.10V/cell, the life can be prolonged to 600–1,000 cycles; 4.0V/cell should deliver 1,200–2,000 and 3.90V/cell should provide 2,400–4,000 cycles.</p>
<p>On the negative side, a lower peak charge voltage reduces the capacity the battery stores. As a simple guideline, every 70mV reduction in charge voltage lowers the overall capacity by 10 percent. Applying the peak charge voltage on a subsequent charge will restore the full capacity.</p>
<p>In terms of longevity, the optimal charge voltage is 3.92V/cell. Battery experts believe that this threshold eliminates all voltage-related stresses; going lower may not gain further benefits but induce other symptoms(See <a href="https://batteryuniversity.com/article/bu-808b-what-causes-li-ion-to-die">BU-808b: What causes Li-ion to die?</a>) <strong>Table 4</strong> summarizes the capacity as a function of charge levels. (All values are estimated; Energy Cells with higher voltage thresholds may deviate.)<br></p>
<table><thead><tr><th scope="col"><strong>Charge Level* </strong>(V/cell)</th>
			<th scope="col"><strong>Discharge Cycles</strong></th>
			
			
			
			<th scope="col"><strong>Available Stored Energy **</strong></th>
		</tr></thead><tbody><tr><td>[4.30]</td>
			<td>[150–250]</td>
			
			
			
			<td>[110–115%]</td>
		</tr><tr><td>4.25</td>
			<td>200–350</td>
			
			
			
			<td>105–110%</td>
		</tr><tr><td><strong>4.20</strong></td>
			<td><strong>300–500</strong></td>
			
			
			
			<td><strong>100%</strong></td>
		</tr><tr><td>4.13</td>
			<td>400–700</td>
			
			
			
			<td>90%</td>
		</tr><tr><td>4.06</td>
			<td>600–1,000</td>
			
			
			
			<td>81%</td>
		</tr><tr><td>4.00</td>
			<td>850–1,500</td>
			
			
			
			<td>73%</td>
		</tr><tr><td>3.92</td>
			<td>1,200–2,000</td>
			
			
			
			<td>65%</td>
		</tr><tr><td>3.85</td>
			<td>2,400–4,000</td>
			
			
			
	
			
			
			
			<td>60%</td>
		</tr></tbody></table>
<figcaption><strong>Table 4: Discharge cycles and capacity as a function of charge voltage limit</strong><br></figcaption>
<p>Every 0.10V drop below 4.20V/cell doubles the cycle but holds less capacity. Raising the voltage above 4.20V/cell would shorten the life. The readings reflect regular Li-ion charging to 4.20V/cell.</p>
<p><strong>Guideline:</strong> Every 70mV drop in charge voltage lowers the usable capacity by about 10%.<br><strong>Note: </strong>Partial charging negates the benefit of Li-ion in terms of high specific energy.</p>
<p><em><em><strong>*</strong> Similar life cycles apply for batteries with different voltage levels on full charge.</em><strong><br>**</strong> Based on a new battery with 100% capacity when charged to the full voltage.</em></p>
<p><em><strong>Experiment:</strong> Chalmers University of Technology, Sweden, reports that using a reduced charge level of 50% SOC increases the lifetime expectancy of the vehicle Li-ion battery by 44–130%.</em></p>
<p><br>Most chargers for mobile phones, laptops, tablets and digital cameras charge Li-ion to 4.20V/cell. This allows maximum capacity, because the consumer wants nothing less than optimal runtime. Industry, on the other hand, is more concerned about longevity and may choose lower voltage thresholds. Satellites and electric vehicles are such examples.</p>
<p>For safety reasons, many lithium-ions cannot exceed 4.20V/cell. (Some NMC are the exception.) While a higher voltage boosts capacity, exceeding the voltage shortens service life and compromises safety. <strong>Figure 5</strong> demonstrates cycle count as a function of charge voltage. At 4.35V, the cycle count of a regular Li-ion is cut in half.<strong><br></strong></p>
<figure><strong><img src="https://batteryuniversity.com/img/content/lithium2.jpg" alt="Effects on cycle life at elevated charge voltages"></strong><figcaption><strong>Figure 5: Effects on cycle life at elevated charge voltages <sup>[2]</sup></strong><br>Higher charge voltages boost capacity but lowers cycle life and compromises safety.</figcaption></figure>
<p>Besides selecting the best-suited voltage thresholds for a given application, a regular Li-ion should not remain at the high-voltage ceiling of 4.20V/cell for an extended time. The Li-ion charger turns off the charge current and the battery voltage reverts to a more natural level. This is like relaxing the muscles after a strenuous exercise(See <a href="https://batteryuniversity.com/article/charging-lithium-ion-batteries">BU-409: Charging Lithium-ion</a>)</p>
<p><strong>Figure 6</strong> illustrates dynamic stress tests (DST) reflecting capacity loss when cycling Li-ion at various charge and discharge bandwidths. The largest capacity loss occurs when discharging a fully charged Li-ion to 25 percent SoC (black); the loss would be higher if fully discharged. Cycling between 85 and 25 percent (green) provides a longer service life than charging to 100 percent and discharging to 50 percent (dark blue). The smallest capacity loss is attained by charging Li-ion to 75 percent and discharging to 65 percent. This, however, does not fully utilize the battery. High voltages and exposure to elevated temperature is said to degrade the battery quicker than cycling under normal condition. (<a href="https://batteryuniversity.com/article/bu-808b-what-causes-li-ion-to-die">Nissan Leaf case</a>)<br></p>
<figure><strong><img src="https://batteryuniversity.com/img/content/DST-cycles-web2.jpg" alt="Capacity loss as a function of charge and discharge bandwidth"></strong><figcaption><strong>Figure 6: Capacity loss as a function of charge and discharge bandwidth* <sup>[3]</sup></strong><br>Charging and discharging Li-ion only partially prolongs battery life but reduces utilization.</figcaption></figure>
<ul><li><strong>Case 1:</strong> 75–65% SoC offers longest cycle life but delivers only 90,000 energy units (EU). Utilizes 10% of battery.</li><li><strong>Case 2: </strong>75–25% SoC has 3,000 cycles (to 90% capacity) and delivers 150,000 EU. Utilizes 50% of battery. (EV battery, new.)</li><li><strong>Case 3:</strong> 85–25% SoC has 2,000 cycles. Delivers 120,000 EU. Uses 60% of battery.</li><li><strong>Case 4:</strong> 100–25% SoC; long runtime with 75% use of battery. Has short life. (Mobile phone, drone, etc.)</li></ul>
<p><em><span><strong>* </strong></span>Discrepancies exist between <strong>Table 2</strong> and <strong>Figure 6 </strong>on cycle count. No clear explanations are available other than assuming differences in battery quality and test methods. Variances between low-cost consumer and durable industrial grades may also play a role. Capacity retention will decline more rapidly at elevated temperatures than at 20ºC.</em><br></p>
<p>Only a full cycle provides the specified energy of a battery. With a modern <a href="https://batteryuniversity.com/article/discharge-characteristics-li">Energy Cell</a>, this is about 250Wh/kg, but the cycle life will be compromised. All being linear, the life-prolonging mid-range of 85-25 percent reduces the energy to 60 percent and this equates to moderating the specific energy density from 250Wh/kg to 150Wh/kg. Mobile phones are consumer goods that utilize the full energy of a battery. Industrial devices, such as the EV, typically limit the charge to 85% and discharge to 25%, or 60 percent energy usability, to prolong battery life(See <a href="https://batteryuniversity.com/article/why-mobile-phone-batteries-do-not-last-as-long-as-an-ev-battery">Why Mobile Phone Batteries do not last as long as an EV Battery</a>)</p>
<p>Increasing the cycle depth also raises the internal resistance of the Li-ion cell. <strong>Figure 7 </strong>illustrates a sharp rise at a cycle depth of 61 percent measured with the DC resistance method(See also <a href="https://batteryuniversity.com/article/rising-internal-resistance">BU-802a: How does Rising Internal Resistance affect Performance?</a>) The resistance increase is permanent.</p>
<figure><strong><img src="https://batteryuniversity.com/img/content/equivalent_full_cycles.jpg" alt="Sharp rise in internal resistance by increasing cycle depth of Li-ion"></strong><figcaption><strong>Figure 7: Sharp rise in internal resistance by increasing cycle depth of Li-ion <sup>[4]</sup></strong></figcaption></figure>
<p><strong>Note:</strong> DC method delivers different internal resistance readings than with the AC method (green frame). For best results, use the DC method to calculate loading.<br></p>
<p><strong>Figure 8</strong> extrapolates the data from<strong> Figure 6</strong> to expand the predicted cycle life of Li-ion by using an extrapolation program that assumes linear decay of battery capacity with progressive cycling. If this were true, then a Li-ion battery cycled within 75%–25% SoC (blue) would fade to 74% capacity after 14,000 cycles. If this battery were charged to 85% with same depth-of-discharge (green), the capacity would drop to 64% at 14,000 cycles, and with a 100% charge with same DoD (black), the capacity would drop to 48%. For unknown reasons, real-life expectancy tends to be lower than in simulated modeling(See <a href="https://batteryuniversity.com/article/battery-performance-as-a-function-of-cycling">BU-208: Cycling Performance</a>)<strong><br></strong></p>
<figure><strong><img src="https://batteryuniversity.com/img/content/capacity-retention3.jpg" alt="Predictive modeling of battery life by extrapolation"></strong><figcaption><strong>Figure 8: Predictive modeling of battery life by extrapolation <sup>[5]</sup></strong></figcaption></figure>
<p>Li-ion batteries are charged to three different SoC levels and the cycle life modelled. Limiting the charge range prolongs battery life but decreases energy delivered. This reflects in increased weight and higher initial cost.</p>
<p>Battery manufacturers often specify the cycle life of a battery with an 80 DoD. This is practical because batteries should retain some reserve before charge under normal use(See <a href="https://batteryuniversity.com/article/discharge-methods">BU-501: Basics about Discharging</a>, “What Constitutes a Discharge Cycle”) The cycle count on DST (dynamic stress test) differs with battery type, charge time, loading protocol and operating temperature. Lab tests often get numbers that are not attainable in the field. </p>

<h3><strong>What Can the User Do?</strong></h3>
<p>Environmental conditions, not cycling alone, govern the longevity of lithium-ion batteries. The worst situation is keeping a fully charged battery at elevated temperatures. Battery packs do not die suddenly, but the runtime gradually shortens as the capacity fades.</p>
<p>Lower charge voltages prolong battery life and electric vehicles and satellites take advantage of this. Similar provisions could also be made for consumer devices, but these are seldom offered; planned obsolescence takes care of this.</p>
<p>A laptop battery could be prolonged by lowering the charge voltage when connected to the AC grid. To make this feature user-friendly, a device should feature a “Long Life” mode that keeps the battery at 4.05V/cell and offers a SoC of about 80 percent. One hour before traveling, the user requests the “Full Capacity” mode to bring the charge to 4.20V/cell.</p>
<p>The question is asked, “Should I disconnect my laptop from the power grid when not in use?” Under normal circumstances this should not be necessary because charging stops when the Li-ion battery is full. A topping charge is only applied when the battery voltage drops to a certain level. Most users do not remove the AC power, and this practice is safe.</p>
<p>Modern laptops run cooler than older models and reported fires are fewer. Always keep the airflow unobstructed when running electric devices with air-cooling on a bed or pillow. A cool laptop extends battery life and safeguards the internal components. Energy Cells, which most consumer products have, should be charged at 1C or less. Avoid so-called <a href="https://batteryuniversity.com/article/ultra-fast-chargers">ultra-fast chargers</a> that claim to fully charge Li-ion in less than one hour.<br></p>
<hr>
<h3><strong>References</strong></h3>
<p><strong><sup>[1] </sup></strong>Courtesy of Cadex<br><strong><sup>[2] </sup></strong>Source: Choi et al. (2002)<br><strong><sup>[3] </sup></strong>B. Xu, A. Oudalov, A. Ulbig, G. Andersson and D. Kirschen, "Modeling of Lithium-Ion Battery Degradation for Cell Life Assessment," June 2016. [Online]. Available: <a href="https://www.researchgate.net/publication/303890624_Modeling_of_Lithium-Ion_Battery_Degradation_for_Cell_Life_Assessment." target="_blank" rel="noreferrer noopener">https://www.researchgate.net/publication/303890624_Modeling_of_Lithium-Ion_Battery_Degradation_for_Cell_Life_Assessment.</a><br><sup><strong>[4]</strong> </sup>Source: Technische Universität München (TUM)<br><sup><strong>[5]</strong> </sup>With permission to use. Interpolation/extrapolation by OriginLab.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: High-frequency trading and market-making backtesting tool with examples (122 pts)]]></title>
            <link>https://github.com/nkaz001/hftbacktest/tree/master/rust</link>
            <guid>40751178</guid>
            <pubDate>Fri, 21 Jun 2024 16:30:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/nkaz001/hftbacktest/tree/master/rust">https://github.com/nkaz001/hftbacktest/tree/master/rust</a>, See on <a href="https://news.ycombinator.com/item?id=40751178">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/7a7c775955f4c6cfccb1869d6e0ab7a63ab6ec778d977c74cfd80c120fec4e8f/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f6866746261636b746573742e737667"><img src="https://camo.githubusercontent.com/7a7c775955f4c6cfccb1869d6e0ab7a63ab6ec778d977c74cfd80c120fec4e8f/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f6866746261636b746573742e737667" alt="crates.io" data-canonical-src="https://img.shields.io/crates/v/hftbacktest.svg"></a></p>
<p dir="auto"><strong>This project is currently in its initial development stages, meaning that breaking changes may occur without prior
notice. The live bot feature has not undergone comprehensive testing yet; therefore, it must be used at your own risk.</strong></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">High-Frequency Trading Backtesting and Live Bot in Rust</h2><a id="user-content-high-frequency-trading-backtesting-and-live-bot-in-rust" aria-label="Permalink: High-Frequency Trading Backtesting and Live Bot in Rust" href="#high-frequency-trading-backtesting-and-live-bot-in-rust"></a></p>
<p dir="auto">This Rust framework is designed for developing and running high-frequency trading and market-making strategies. It
focuses on accounting for both feed and order latencies, as well as the order queue position for order fill simulation.
The framework aims to provide more accurate market replay-based backtesting, based on full order book and trade tick
feed data. You can also run the live bot using the same algo code.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Key Features</h2><a id="user-content-key-features" aria-label="Permalink: Key Features" href="#key-features"></a></p>
<ul dir="auto">
<li>Complete tick-by-tick simulation with a customizable time interval or based on the feed and order receipt.</li>
<li>Full order book reconstruction based on L2 Market-By-Price and L3 Market-By-Order (WIP) feeds.</li>
<li>Backtest accounting for both feed and order latency, using provided models or your own custom model.</li>
<li>Order fill simulation that takes into account the order queue position, using provided models or your own custom model.</li>
<li>Backtesting of multi-asset and multi-exchange models</li>
<li>Deployment of a live trading bot using the same algorithm code: currently for Binance Futures and Bybit (WIP).</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Getting started</h2><a id="user-content-getting-started" aria-label="Permalink: Getting started" href="#getting-started"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Installation</h3><a id="user-content-installation" aria-label="Permalink: Installation" href="#installation"></a></p>
<p dir="auto"><strong>Installation from cargo repository</strong></p>

<p dir="auto"><strong>Installation of the up-to-date development version from the sources</strong></p>
<div data-snippet-clipboard-copy-content="hftbacktest = { git = &quot;https://github.com/nkaz001/hftbacktest.git&quot; }"><pre><code>hftbacktest = { git = "https://github.com/nkaz001/hftbacktest.git" }
</code></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Data Format</h3><a id="user-content-data-format" aria-label="Permalink: Data Format" href="#data-format"></a></p>
<p dir="auto">The Rust implementation uses a different data format compared to the Python implementation. Please see the Rust version
part of <a href="https://hftbacktest.readthedocs.io/en/latest/tutorials/Data%20Preparation.html" rel="nofollow">Data Preparation</a> tutorial.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Examples</h3><a id="user-content-examples" aria-label="Permalink: Examples" href="#examples"></a></p>
<p dir="auto"><a href="https://github.com/nkaz001/hftbacktest/blob/master/rust/examples/gridtrading.ipynb">gridtrading</a>: The complete process of backtesting Binance Futures using a high-frequency grid trading strategy implemented in Rust.</p>
<p dir="auto">Please see <a href="https://github.com/nkaz001/hftbacktest/tree/master/rust/examples">examples</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Documentation</h2><a id="user-content-documentation" aria-label="Permalink: Documentation" href="#documentation"></a></p>
<p dir="auto">For general information, please see <a href="https://hftbacktest.readthedocs.io/" rel="nofollow">document here</a>.<br>
For the Rust implementation, please see <a href="https://docs.rs/hftbacktest/latest/hftbacktest/" rel="nofollow">document here</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Roadmap</h2><a id="user-content-roadmap" aria-label="Permalink: Roadmap" href="#roadmap"></a></p>
<p dir="auto">Please see the <a href="https://github.com/nkaz001/hftbacktest/blob/master/ROADMAP.md">roadmap</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contributing</h2><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto">Thank you for considering contributing to hftbacktest! Welcome any and all help to improve the project. If you have an
idea for an enhancement or a bug fix, please open an issue or discussion on GitHub to discuss it.</p>
<p dir="auto">The following items are examples of contributions you can make to this project:</p>
<p dir="auto">Please see the <a href="https://github.com/nkaz001/hftbacktest/blob/master/ROADMAP.md">roadmap</a>.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Self-driving Waymos secure final clearance for expansion beyond S.F (260 pts)]]></title>
            <link>https://www.sfchronicle.com/bayarea/article/self-driving-cars-waymo-sf-19523750.php</link>
            <guid>40751108</guid>
            <pubDate>Fri, 21 Jun 2024 16:24:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.sfchronicle.com/bayarea/article/self-driving-cars-waymo-sf-19523750.php">https://www.sfchronicle.com/bayarea/article/self-driving-cars-waymo-sf-19523750.php</a>, See on <a href="https://news.ycombinator.com/item?id=40751108">Hacker News</a></p>
Couldn't get https://www.sfchronicle.com/bayarea/article/self-driving-cars-waymo-sf-19523750.php: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Testing Generative AI for Circuit Board Design (317 pts)]]></title>
            <link>https://blog.jitx.com/jitx-corporate-blog/testing-generative-ai-for-circuit-board-design</link>
            <guid>40751020</guid>
            <pubDate>Fri, 21 Jun 2024 16:16:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.jitx.com/jitx-corporate-blog/testing-generative-ai-for-circuit-board-design">https://blog.jitx.com/jitx-corporate-blog/testing-generative-ai-for-circuit-board-design</a>, See on <a href="https://news.ycombinator.com/item?id=40751020">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <article>
      <time datetime="2024-06-21 16:16:00">
        Jun 21, 2024 9:16:00 AM
      </time>
      
      
      <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p><em>TLDR: We test LLMs to figure out how helpful they are for designing a circuit board. We focus on utility of frontier models (GPT4o, Claude 3 Opus, Gemini 1.5) across a set of design tasks, to find where they are and are not useful. They look pretty good for building skills, writing code, and getting useful data out of datasheets.</em></p>
<!--more-->
<p><br><em>TLDRN'T: We do not explore any proprietary copilots, or how to apply a things like a diffusion model to the place and route problem.</em></p>
<h2>Introduction</h2>
<div><p>Can an AI-powered chatbot help with a task as precise as circuit board design? These LLMs (Large Language Models) are famous for hallucinating details, and missing a *single* important detail can sink a design. Determinism is hard but super important for electronics design!&nbsp;</p><p>Today, several shallow product offerings are making AI for electronics design look mostly like hype. But I think there is real utility to be found here, if we can take a better approach.&nbsp;</p><p>In this article, we set LLMs to unfair tasks that expert human circuit board designers handle day to day. We're not looking for basic help, rather pushing on what it takes to help an expert do their job better.</p><p>It would be ridiculous (today) to expect great performance from these general purpose AIs on this expert task, especially because it is probably not well represented in the training data.</p><p>To test performance on difficult design tasks, we work with three of today's leading models:<br>- <a href="https://deepmind.google/technologies/gemini/pro/" rel="noopener">Gemini 1.5 Pro</a>&nbsp;from Google<br>- <a href="https://openai.com/index/hello-gpt-4o/" rel="noopener">GPT-4o</a> from OpenAI<br>- <a href="https://www.anthropic.com/news/claude-3-family" rel="noopener">Claude 3 Opus</a> from Anthropic</p><p>And explore prompting strategies to get the best performance out of all the models on each task. As part of the prompt, we also look for opportunities to improve the performance by asking the LLMs to write code to design circuit boards where possible.</p><p>The best results are reported for each model and for each task. Let's dig in!</p></div>
<h2><span>Asking stupid questions</span></h2>
<p><span>There is a lot to know in circuit board design, and nobody has mastered every relevant domain. Asking an LLM stupid questions is a great way to learn.<p>For example an RF engineer will know their own specialty quite well, but might not be a master of supply chain, power supply design, or how to shape copper reliefs to get high yields at the factory.</p><p>( Some RF engineers will scoff at this, but realistically the world contains people trying to learn things.)</p><p>To simulate someone new to a domain, I avoid prompt engineering, and use of precise expert vocabulary. I asked the LLMs a simple question: </p></span><span><em><span>What is the delay per unit length of a trace on a circuit board?</span></em><p>Claude 3 Opus was the clear winner here. Notice that it brought in the relevant concepts (microstrip, stripline, dielectric), got the answer right, and pointed out critical gotchas:</p></span></p>
<p><span><img src="https://blog.jitx.com/hs-fs/hubfs/Pasted%20image%2020240606134032-png.png?width=734&amp;height=1154&amp;name=Pasted%20image%2020240606134032-png.png" loading="lazy" width="734" height="1154" srcset="https://blog.jitx.com/hs-fs/hubfs/Pasted%20image%2020240606134032-png.png?width=367&amp;height=577&amp;name=Pasted%20image%2020240606134032-png.png 367w, https://blog.jitx.com/hs-fs/hubfs/Pasted%20image%2020240606134032-png.png?width=734&amp;height=1154&amp;name=Pasted%20image%2020240606134032-png.png 734w, https://blog.jitx.com/hs-fs/hubfs/Pasted%20image%2020240606134032-png.png?width=1101&amp;height=1731&amp;name=Pasted%20image%2020240606134032-png.png 1101w, https://blog.jitx.com/hs-fs/hubfs/Pasted%20image%2020240606134032-png.png?width=1468&amp;height=2308&amp;name=Pasted%20image%2020240606134032-png.png 1468w, https://blog.jitx.com/hs-fs/hubfs/Pasted%20image%2020240606134032-png.png?width=1835&amp;height=2885&amp;name=Pasted%20image%2020240606134032-png.png 1835w, https://blog.jitx.com/hs-fs/hubfs/Pasted%20image%2020240606134032-png.png?width=2202&amp;height=3462&amp;name=Pasted%20image%2020240606134032-png.png 2202w" sizes="(max-width: 734px) 100vw, 734px"></span></p>
<p><span>Notice the gotchas here! The speed of a signal changes based on which layer of a circuit board you route it on, and what the materials are.<p>You would never know that looking at a most PCB CAD tools, (e.g. Kicad, Altium) because all of their delay matching is in units of length. e.g. 'both these traces have to be 50 mm long' is a constraint you enter with a GUI. But that's not correct if you want your board to work - delay depends on which layer they are routed on, and what materials are in your board.</p><p>Getting that right: A+ answer for Claude here.&nbsp;</p><p>Google Gemini 1.5 performed the worst on this question. Maybe because it brought in a bunch of sources from the internet, and most of the writing in this discipline is dreck generated by SEO content mills. Incorporating AI summarization of lower quality writing seems to make the answers consistently worse.</p></span></p>
<h2><span>Finding Parts</span></h2>
<div><p>One of the superpowers of an experienced engineer is knowing things like: "A DAC + DSP system good enough for this audio pipeline should be about this big, and cost $1.40 in production". They'll then go do some turbo googling and find it.</p><p>How well can an AI that's been fed the entire internet do?</p><p>For this example I chose find parts for something cool: a robot <a href="https://www.youtube.com/watch?v=EER4pdKw2s4" rel="noopener">motor driver linked by optical ethernet</a> (instead of the usual <a href="https://youtu.be/gsOPZltbvgM" rel="noopener">CAN setups</a>). I want smaller cables, hundreds of possible devices, and compact cables that can survive IRL twisting and jostling.</p></div>
<p>You can see a communication layer like this as the daisy-chained black cabling in this picture from <a href="http://www.hebirobotics.com/" rel="noopener">HEBI</a>:</p>
<p><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-1.png?width=510&amp;height=467&amp;name=image-png-1.png" loading="lazy" width="510" height="467" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-1.png?width=255&amp;height=234&amp;name=image-png-1.png 255w, https://blog.jitx.com/hs-fs/hubfs/image-png-1.png?width=510&amp;height=467&amp;name=image-png-1.png 510w, https://blog.jitx.com/hs-fs/hubfs/image-png-1.png?width=765&amp;height=701&amp;name=image-png-1.png 765w, https://blog.jitx.com/hs-fs/hubfs/image-png-1.png?width=1020&amp;height=934&amp;name=image-png-1.png 1020w, https://blog.jitx.com/hs-fs/hubfs/image-png-1.png?width=1275&amp;height=1168&amp;name=image-png-1.png 1275w, https://blog.jitx.com/hs-fs/hubfs/image-png-1.png?width=1530&amp;height=1401&amp;name=image-png-1.png 1530w" sizes="(max-width: 510px) 100vw, 510px"></p>
<div><p>Time to use AI to find the parts should I use for the ethernet switch, and the optical transceivers.</p><p>Here's the prompt:</p></div>
<p>I want to design a daisy-chained communications layer for a motor driver, using 100M optical Ethernet. Each motor controller will have a microcontroller that interfaces to the Ethernet network over RGMII. It needs to be compact, robust to mechanical vibration and shock, and handle temperatures up to 60 degrees Celsius. Please help me choose parts for the optical connectors, transceivers, and Ethernet networking device.&nbsp;<br>1. Think step by step as an expert electrical engineer.&nbsp;<br>2. Carefully consider how component choices relate to the requirements.&nbsp;<br>3. I'll give you a digital cookie if you get the answer correct.</p>
<div><p>Here I'm pulling more prompt engineering tricks to boost the performance of the model, and being careful in detailed specifications to really get this to work.</p><p>My initial guess for these parts would be:<br>- Use a small three port ethernet switch to for the daisy chain, hopefully something from Micrel (now Microchip) like the <a href="https://www.microchip.com/en-us/product/ksz8863" rel="noopener">KSZ8863MLL</a>.<br>- For the optical connector/transceiver I would go with the <a href="https://www.firecomms.com/optolock/" rel="noopener">OptoLock part</a> on the example system from Hebi. Very small and robust choice.&nbsp;</p><p>It would be amazing to get new suggestions for parts and architectures here. Something going beyond superficial advice into something practical would have huge impact!</p></div>
<div><p>Instead, performance across all models was uniformly bad and no amount of prompting or follow ups could fix it. It felt a lot like trying to get AI to solve a variant of the <a href="https://chatgpt.com/share/67a305cf-dc5f-45a2-a496-0886116f4659" rel="noopener">wolf, sheep, cabbage problem</a>. It's got the answer locked in, and it's hard to get out of that basin.</p><p>Here's a representative conclusion from Gemini 1.5:</p></div>
<div><p><span>&nbsp;Example Part Selection</span><br><span>- Optical Connectors: LC Duplex connectors (Amphenol or similar)</span><br><span>&nbsp;- Optical Transceivers: 100Base-FX SFP transceivers (Finisar, Cisco, or other reputable brands) with industrial temperature ratings</span><br><span>- Ethernet Networking Device: Microchip LAN8742A or Texas Instruments DP83848</span></p><p><span>Digital Cookie Time! 🍪</span></p><p><span>I hope this detailed breakdown helps you choose the right parts for your daisy-chained motor control system. Please let me know if you have any other questions.</span></p></div>
<p>Grading this:</p>
<p>- All models missed that to get the daisy chain you need a three port ethernet switch. They instead recommend an Ethernet Phy, which isn't going to do it.<br>- All models recommend using a huge SFP transceiver. These are usually found on big datacenter boards, and are not known for being shoved into tiny spaces in a robot joint, and then getting kicked around by Boston Dynamics employees.</p>
<div><p>Overall the generative models don't demonstrate a solid grasp on what the motor controller communication network is, or what application-specific considerations need to be made.&nbsp;</p><p>Without that the part selections are way off. This is a consistent experience. The LLMs will always suggest something, but it will be the 'average' application and miss a lot of the important subtlety. i.e. fiber optic ethernet happens in the mostly in the datacenter, so an average application for fiber optic means a datacenter device.</p><p>Trying to get them to choose an ADC, or sensor, or connector, shows similar 'average' results.</p><p>Maybe this speaks to the difficulty of the domain. If you're not within 10% or so of the global optimal performance in EE, your suggestions have near-zero value.</p></div>
<h2><span>Parsing datasheets</span></h2>
<p><span>Sadly, most of the data you need to design a circuit board is baked away in PDF datasheets, instead of being available via APIs. Directly trying to parse PDFs with python tends to not go well, but LLMs should be pretty good at pulling data from these human-structured documents.<p>I tested three different way of pulling information out:<br>- Copy/paste from the PDF, stuff it into a prompt.<br>- Capture a portion as an image, have the LLM interpret the image<br>- Upload the entire PDF</p></span></p>
<p><span>I'll be using the data available for the <a href="https://docs.nordicsemi.com/bundle/ps_nrf5340/page/keyfeatures_html5.html" rel="noopener">Nordic nRF5340 WLCSP</a> for the experiment. A little 4.0 x 4.4 mm Bluetooth chip, with an 820 page datasheet.&nbsp;</span></p>
<p><span><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-2.png?width=350&amp;height=324&amp;name=image-png-2.png" loading="lazy" width="350" height="324" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-2.png?width=175&amp;height=162&amp;name=image-png-2.png 175w, https://blog.jitx.com/hs-fs/hubfs/image-png-2.png?width=350&amp;height=324&amp;name=image-png-2.png 350w, https://blog.jitx.com/hs-fs/hubfs/image-png-2.png?width=525&amp;height=486&amp;name=image-png-2.png 525w, https://blog.jitx.com/hs-fs/hubfs/image-png-2.png?width=700&amp;height=648&amp;name=image-png-2.png 700w, https://blog.jitx.com/hs-fs/hubfs/image-png-2.png?width=875&amp;height=810&amp;name=image-png-2.png 875w, https://blog.jitx.com/hs-fs/hubfs/image-png-2.png?width=1050&amp;height=972&amp;name=image-png-2.png 1050w" sizes="(max-width: 350px) 100vw, 350px"></span></p>
<p>Observations on this part: &nbsp;</p>
<ol>
<li>This is by no means the largest datasheet for a electrical component but has many typical features including pin tables, mechanical drawings, application specific notes, graphs, etc</li>
<li>This datasheet has significantly more content than you might expects for simpler components - like OpAmps or digital logic gates. If the LLMs are useful here, they will likely be useful for smaller cases.</li>
<li>This datasheet is about 570k tokens, a little more than half the huge context window available from Gemini.</li>
</ol>
<h3>Make a symbol and footprint</h3>
<div><p>First step is a to make a linked symbol and footprint (landpattern) for our component.&nbsp;</p><p>The most effective method here was to load the entire datasheet into the LLM via the chat file upload mechanism, and then query it interactively to get the details right. Gemini 1.5 was the most reliable for this task.</p><p>Here's the prompt to get the pin table (after uploading the datasheet):</p></div>
<p>Please write the the pin table for the wlcsp version of the nRF5340 as code using the following format:&nbsp;<br>1. One line for each pin&nbsp;<br>2. Each line structured as " [ pin-name | pad-number | direction | bank ]", where pin-name is the name of a pin e.g. GND, pad-number is the number of the pad that maps to that pin, e.g, 28, direction is Left is the pin is an input, and Right otherwise, bank indicates the function, e.g. gpio.&nbsp;<br>3. Wrap numbers following letters in square brackets, e.g. K3 becomes K[3], C1 becomes C[1], F10 becomes F[10]&nbsp;<br>4. Replace periods with square brackets, e.g. P0.20 becomes P0[20]</p>
<p>The AI then returns a block of text with our pin list in a usable format:</p>
<p><code>[ XC1 | A1 | Left | analog_input ]&nbsp;</code><br><code>[ XC2 | A2 | Left | analog_input ]&nbsp;</code><br><code>[ VDD | A3 | Right | power ]&nbsp;</code><br><code>[ VSS | A5 | Left | power ]&nbsp;</code><br><code>[ DECD | A7 | Right | power ]&nbsp;</code><br><code>[ DCCD | A9 | Right | power ]&nbsp;</code><br><code>[ D-| A11 | Left | usb ]&nbsp;</code><br><code>[ D+ | A12 | Left | usb ]&nbsp;</code><br><code>[ DECRF | B1 | Right | power ]&nbsp;</code><br><code>[ VSS | B2 | Left | power ]&nbsp;</code><br><code>[ DECR | B4 | Right | power ]&nbsp;</code><br><code>[ DECN | B5 | Right | power ]</code><br><code>... (continued)</code></p>
<div><p>It got this list exactly correct, impressive for 95 rows of data buried in an 820 page datasheet. Usually I have to get a model to write a little code to reach that level of accuracy, but that was unnecessary here.</p><p>Next I gave it some example code for a BGA footprint and had it generate a new version based on the datasheet information. Here's the resulting code:</p></div>
<div><p><code>; This test is based on the Nordic Semiconductor, nRF5340</code><br><code>&nbsp; ; Datasheet:</code><br><code>&nbsp; ; &nbsp;https://infocenter.nordicsemi.com/pdf/nRF5340_PS_v1.4.pdf</code><br><code>&nbsp; ;</code><br><code>&nbsp; ; Drawing:</code><br><code>&nbsp; ; &nbsp;https://infocenter.nordicsemi.com/pdf/nRF5340_PS_v1.4.pdf</code><br><code>&nbsp; ;</code><br><code>&nbsp; ; NSMD</code><br><code>&nbsp; val rows = 12</code><br><code>&nbsp; val cols = 8</code><br><code>&nbsp; val grid = Grid-Numbering(rows, cols)</code></p><p><code>&nbsp; val missing = to-pad-island(grid, "A[1] B[1] B[3] C[1] C[3] D[3] D[4] D[5] D[6] D[7] D[8] D[9] E[1] E[9] F[4] F[6] F[7] F[9] G[1] G[4] G[9] H[4] H[5] H[6] H[7] H[8] H[9]")</code></p><p><code>&nbsp; val planner = Full-Matrix-Planner(</code><br><code>&nbsp; &nbsp; ; Several pads are not present</code><br><code>&nbsp; &nbsp; inactive = missing,</code><br><code>&nbsp; &nbsp; pad-config = PadConfig-D(</code><br><code>&nbsp; &nbsp; &nbsp; copper-D-adj = ipc-bga-copper(</code><br><code>&nbsp; &nbsp; &nbsp; &nbsp; NonSolderMaskDefined,</code><br><code>&nbsp; &nbsp; &nbsp; &nbsp; density-level = DensityLevelC</code><br><code>&nbsp; &nbsp; &nbsp; &nbsp; ),</code><br><code>&nbsp; &nbsp; &nbsp; mask-D-adj = 0.0,</code><br><code>&nbsp; &nbsp; )</code><br><code>&nbsp; )</code></p><p><code>&nbsp; val body = PackageBody(</code><br><code>&nbsp; &nbsp; width = 4.390 +/- 0.047,</code><br><code>&nbsp; &nbsp; length = 3.994 +/- 0.047,</code><br><code>&nbsp; &nbsp; height = 0.71 +/- [0.06, 0.0]</code><br><code>&nbsp; )</code></p><p><code>&nbsp; val pkg = BGA(</code><br><code>&nbsp; &nbsp; num-leads = 95,</code><br><code>&nbsp; &nbsp; rows = rows,</code><br><code>&nbsp; &nbsp; columns = cols,</code><br><code>&nbsp; &nbsp; lead-diam = 0.35,</code><br><code>&nbsp; &nbsp; pitch = 0.35,</code><br><code>&nbsp; &nbsp; package-body = body,</code><br><code>&nbsp; &nbsp; lead-numbering = grid,</code><br><code>&nbsp; &nbsp; pad-planner = planner,</code><br><code>&nbsp; &nbsp; density-level = DensityLevelB</code><br><code>&nbsp; )</code></p></div>
<div><p>A few more misses here than in the pin table, but close overall. I have to go in and separately prompt for the depopulated balls in the grid, as well as correct the dimensions in the PackageBody.&nbsp;</p><p>(Note that I'm generating JITX code because it has a text-native representation. I bet that you could get the model to emit something like a Kicad symbol/footprint with a little more nudging in the prompt.)</p><p>Running the generated code (which you can find <a href="https://github.com/JITx-Inc/generative-ai-test-cases/blob/main/component-model/nRF5340.stanza" rel="noopener">here</a>), we get our footprint and symbols:</p></div>
<p><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-3.png?width=2682&amp;height=1404&amp;name=image-png-3.png" loading="lazy" width="2682" height="1404" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-3.png?width=1341&amp;height=702&amp;name=image-png-3.png 1341w, https://blog.jitx.com/hs-fs/hubfs/image-png-3.png?width=2682&amp;height=1404&amp;name=image-png-3.png 2682w, https://blog.jitx.com/hs-fs/hubfs/image-png-3.png?width=4023&amp;height=2106&amp;name=image-png-3.png 4023w, https://blog.jitx.com/hs-fs/hubfs/image-png-3.png?width=5364&amp;height=2808&amp;name=image-png-3.png 5364w, https://blog.jitx.com/hs-fs/hubfs/image-png-3.png?width=6705&amp;height=3510&amp;name=image-png-3.png 6705w, https://blog.jitx.com/hs-fs/hubfs/image-png-3.png?width=8046&amp;height=4212&amp;name=image-png-3.png 8046w" sizes="(max-width: 2682px) 100vw, 2682px"></p>
<div><p>I really like the combination of code and scraped data here because of precision and flexibility.&nbsp;</p><p>I would much rather trust a hand-coded BGA footprint generator for the details, and have the LLM tell me which pads to omit. The backstop of the LLM generating the list of pins <em>and the missing pins</em>, then forcing them both to line up to line up in the code is a nice touch. I can also dig in and edit parameters directly if I want to customize.</p><p>Past the standard component model with a symbol and footprint, the LLM can also pull most of the useful data from the PDF. e.g. here is a generated parameterization for the IO pin levels for checking correctness of connections in a design:</p></div>
<p><code>property(P0[0].digital_io) = DigitalIO(CMOSOutput(VSS + 0.4, VDD - 0.4), 0.3*VDD, 0.7*VDD, "VDD", "VSS", 0)</code></p>
<p>If you don't have the AI return an answer as code, it tends to spread the data you want across multiple paragraphs, and it is easier to get the answer you want by just reading the datasheet instead.</p>
<p>It can even read a bit of the reference schematic and turn it into a netlist:</p>
<p><code><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-4.png?width=1104&amp;height=1426&amp;name=image-png-4.png" loading="lazy" width="1104" height="1426" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-4.png?width=552&amp;height=713&amp;name=image-png-4.png 552w, https://blog.jitx.com/hs-fs/hubfs/image-png-4.png?width=1104&amp;height=1426&amp;name=image-png-4.png 1104w, https://blog.jitx.com/hs-fs/hubfs/image-png-4.png?width=1656&amp;height=2139&amp;name=image-png-4.png 1656w, https://blog.jitx.com/hs-fs/hubfs/image-png-4.png?width=2208&amp;height=2852&amp;name=image-png-4.png 2208w, https://blog.jitx.com/hs-fs/hubfs/image-png-4.png?width=2760&amp;height=3565&amp;name=image-png-4.png 2760w, https://blog.jitx.com/hs-fs/hubfs/image-png-4.png?width=3312&amp;height=4278&amp;name=image-png-4.png 3312w" sizes="(max-width: 1104px) 100vw, 1104px"></code></p>
<p><code>* Power Supply Nets:</code><br><code>net (nrf.VDD C4.p[1])</code><br><code>net (nrf.VDD C10.p[1])</code><br><code>net (nrf.VDD C11.p[1])</code><br><code>net (nrf.VDD C12.p[1])</code><br><code>net (nrf.VDD C13.p[1])</code><br><code>net (nrf.VDD C15.p[1])</code><br><code>net (nrf.VDD C17.p[1])</code><br><code>.... (continued)</code></p>
<div><p>It hallucinated this task a little bit, inventing resistors here and there.&nbsp;</p><p>Using LLMs to pull data from challenging sources and turn it into useful code was a helpful automation technique (and personally the one I use most). Accuracy can be boosted further by using extraction techniques to cross-reference the data.</p></div>
<h2><span>Designing circuits</span></h2>
<p><span>We've seen that LLMs can understand an image of a schematic well enough to (mostly) turn it into a netlist. Can they take on a much more challenging task and design the circuit itself?<p>As shown earlier, LLMs generated kinda-right, but actually very wrong suggestions for key components. To avoid that dependency, we tested our AIs on an analog circuit design task. This test is more about doing some math, and correctly arranging resistors and capacitors.</p><p>The task is to design an pre-amplifier for an electret microphone -- boosting and filtering an audio signal for sampling by an ADC. We start with a basic architecture exploration. Here's the prompt:</p></span></p>
<p><span>I want to design a microphone pre-amp where I need to bias the electret microphone and create a single-ended signal out to drive the ADC of a microcontroller. Include a bandpass filter with a gain of 20dB, corner frequencies at 100Hz and 20kHz. Help me select an architecture for this amplifier. Propose different filter architectures and describe their pros and cons for this application.&nbsp;<br>1. Think step by step as an expert electrical engineer&nbsp;<br>2. Carefully consider the requirements&nbsp;<br>3. If you get the answer right you get a digital cookie.</span></p>
<p><span>Claude 3 Opus came back with the best answer of the three contenders. I'll analyze it piece by piece.</span></p>
<p><span>Okay, let's think through this step-by-step as an expert electrical engineer:<br>1. Microphone biasing: Electret microphones typically require a DC bias voltage, usually between 1.5V to 10V, applied through a bias resistor. The value of this resistor impacts the microphone's output impedance and noise. A common range is 2.2kΩ to 10kΩ. We'll need to check the microphone's datasheet for specifics.<br>2. Amplifier architecture: For a single-ended output to drive an ADC, we can use a single-supply op-amp configuration. Some good options are:&nbsp;<br>&nbsp; &nbsp; a) Non-inverting amplifier: Simple, high input impedance which is good for the high-impedance mic signal. Gain is set by the feedback resistor ratio.&nbsp;<br>&nbsp; &nbsp; b) Inverting amplifier: Also simple, but lower input impedance. Gain is also set by resistor ratio.&nbsp;<br>&nbsp; &nbsp; c) Push-pull: Combines inverting and non-inverting amps for more output current drive, but more complex. For simplicity and good mic interfacing, a non-inverting amp seems best here.</span></p>
<div><p>Claude did a good job calling out the need to bias the microphone, nice to have that called out explicitly.</p><p>The proposals for non-inverting, and inverting amplifiers are reasonable. The proposal for push-pull configurations is nonsense. A <a href="https://en.wikipedia.org/wiki/Push%E2%80%93pull_output" rel="noopener">Push-Pull configuration</a> describes the transistors inside the op-amp at the output stage. It doesn't have anything to do with the architecture of the op amp circuit.</p><p>Moving on to the filter suggestions:</p></div>
<p><span>3. Bandpass filter: We need a 100Hz to 20kHz passband with 20dB gain. Some filter options:&nbsp;</span><br><span>&nbsp; &nbsp; &nbsp;a) Passive RC: Simple, but requires large component values for low frequencies, and loading affects cutoff frequencies. Gain must come from amp.&nbsp;</span><br><span>&nbsp; &nbsp; &nbsp;b) Active 1st-order: Sallen-Key or Multiple-Feedback topologies. Each is 1st-order, so we'd cascade a low-pass and high-pass for the bandpass response. Easy to integrate gain. Cutoff frequencies affected by component tolerance.&nbsp;</span><br><span>&nbsp; &nbsp; &nbsp;c) Active 2nd-order: Single stage 2nd-order bandpass like a Dual-Amplifier Bandpass (DABP). More complex, but more efficient than cascaded 1st-order. More stable cutoff frequencies.&nbsp;</span><br><span>&nbsp; &nbsp; &nbsp;d) Switched-capacitor: Uses a clock to set cutoff frequencies. Very stable, but requires a clock signal.&nbsp;</span></p>
<p><span>The comments on the Passive RC filter are reasonable.&nbsp;<p>The Sallen-Key analysis is wrong - Sallen-Key is a <a href="https://www.ti.com/lit/an/sboa231/sboa231.pdf?ts=1718092808060&amp;ref_url=https%253A%252F%252Fwww.google.com%252F" rel="noopener">second order filter</a>&nbsp;and can be unstable with this much gain.</p><p>The suggestion for the <a href="https://www.analog.com/media/en/training-seminars/tutorials/MT-209.pdf" rel="noopener">DABP</a> isn't wrong per se, but it is missing some nuance. It doesn't allow for very high gain (limit of 2.0). The complexity of a DABP justified when you need to handle higher frequencies and higher Q levels. This application doesn't require that, so it's a weird choice.</p><p>A switched capacitor filter would be bonkers -- complex, noise-sensitive, and requiring exotic components.</p></span></p>
<p><span>Moving on:</span></p>
<div><p><span>For this application, an active 2nd-order filter like a DABP seems a good balance of simplicity, stability, and easy gain integration. &nbsp;</span><br><span>1. Amplifier gain: The filter will have 20dB gain, which is a factor of 10. We can implement this with a non-inverting amp by setting the feedback resistor ratio to 9. For example, if R1 = 1kΩ, then R2 = 9kΩ.</span><br><span>2. Component values: We'll need to calculate the exact resistor and capacitor values for the DABP filter based on the desired cutoff frequencies and gain. There are online calculators to help with this.</span><br><span>&nbsp;So in summary, I propose a non-inverting op-amp configuration for the microphone, followed by a 2nd-order DABP active filter with 20dB gain. The exact component values will depend on the specific microphone chosen and the filter design equations. &nbsp;</span></p><p><span>How's that? Let me know if you have any other questions!</span></p></div>
<p><span>Here, Claude chooses the DABP and estimates some reasonablish values given that choice. (Usually you would choose values greater than 10k and less than 1M in op amp circuit design, to make assumptions about input and output impedance hold better). The wording is a bit confusing but it could be interpreted as a non-inverting op-amp for the gain stage, followed by a DABP filter with a lower gain. Which can work! Technically!<p>It's making slightly strange decisions across the board, but let's proceed with creating a complete design.&nbsp;</p><p>With a little more prompting, we can get Claude to write some code to do the detailed design and generate the circuit:</p></span></p>
<p><span><code>Great! Let's dive into the calculations and generate the netlists. We'll assume a 3.3V power supply and a microphone bias of 2.5V. We'll use an ideal op-amp model for simplicity.</code><p><code>; Microphone Bias Circuit:</code></p><p><code>; - Let's choose a bias resistor of 2.2kΩ.</code><br><code>; - Assuming negligible current draw from the op-amp, the mic bias will be very <br></code></p></span><span><code>; close to 2.5V.</code><p><code>; Netlist:&nbsp;</code><br><code>inst mic : electret-mic&nbsp;</code><br><code>inst rbias : chip-resistor(2200.0)&nbsp;</code><br><code>inst c1 : ceramic-cap(1.0e-6) ; Decoupling cap, assuming 1uF&nbsp;</code><br><code>net (vdd rbias.p[1])&nbsp;</code><br><code>net (rbias.p[2] mic.vdd c1.p[1])&nbsp;</code><br><code>net (gnd mic.gnd c1.p[2])</code></p></span></p>
<p><span>The decoupling cap in the bias circuit here really hampers the high-frequency performance of the circuit. What the circuit actually needs is a <em>coupling cap</em>, shown in the <code>human.mic</code> circuit here:</span></p>
<p><span><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-34-17-2563-PM.png?width=1205&amp;height=480&amp;name=image-png-Jun-21-2024-03-34-17-2563-PM.png" loading="lazy" width="1205" height="480" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-34-17-2563-PM.png?width=603&amp;height=240&amp;name=image-png-Jun-21-2024-03-34-17-2563-PM.png 603w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-34-17-2563-PM.png?width=1205&amp;height=480&amp;name=image-png-Jun-21-2024-03-34-17-2563-PM.png 1205w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-34-17-2563-PM.png?width=1808&amp;height=720&amp;name=image-png-Jun-21-2024-03-34-17-2563-PM.png 1808w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-34-17-2563-PM.png?width=2410&amp;height=960&amp;name=image-png-Jun-21-2024-03-34-17-2563-PM.png 2410w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-34-17-2563-PM.png?width=3013&amp;height=1200&amp;name=image-png-Jun-21-2024-03-34-17-2563-PM.png 3013w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-34-17-2563-PM.png?width=3615&amp;height=1440&amp;name=image-png-Jun-21-2024-03-34-17-2563-PM.png 3615w" sizes="(max-width: 1205px) 100vw, 1205px"></span></p>
<p><span>Presumably in the training corpus, many articles and datasheets write extensively about decoupling caps. Maybe the "average" recommendation wins out here, and once it sees a positive and negative pin it slaps a capacitor across them right away. In our tests (and most product demos), LLMs <em>loved</em> to give naive advice about decoupling, which usually isn't as actively harmful as it is here.<br></span></p>
<p><span>Moving on to the amplifier:</span></p>
<p><code>; Non-Inverting Amplifier:<p>; - Let's set the gain to 10 (20dB).<br>; - Choose R1 = 1kΩ, then R2 = 9kΩ.</p><p>; Netlist:&nbsp;<br>inst amp : op-amp&nbsp;<br>inst r1 : chip-resistor(1000.0)&nbsp;<br>inst r2 : chip-resistor(9000.0)&nbsp;<br>net (mic.out r1.p[1])&nbsp;<br>net (r1.p[2] amp.v- r2.p[1])&nbsp;<br>net (amp.out r2.p[2])</p></code></p>
<p>The AI describes the amplifier as non-inverting, but then feeds the signal into the inverting input. It's also missing a few other parts and nets that would make for a working circuit. Easier to see in the generated schematic:</p>
<p><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-38-28-2912-PM.png?width=561&amp;height=349&amp;name=image-png-Jun-21-2024-03-38-28-2912-PM.png" loading="lazy" width="561" height="349" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-38-28-2912-PM.png?width=281&amp;height=175&amp;name=image-png-Jun-21-2024-03-38-28-2912-PM.png 281w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-38-28-2912-PM.png?width=561&amp;height=349&amp;name=image-png-Jun-21-2024-03-38-28-2912-PM.png 561w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-38-28-2912-PM.png?width=842&amp;height=524&amp;name=image-png-Jun-21-2024-03-38-28-2912-PM.png 842w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-38-28-2912-PM.png?width=1122&amp;height=698&amp;name=image-png-Jun-21-2024-03-38-28-2912-PM.png 1122w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-38-28-2912-PM.png?width=1403&amp;height=873&amp;name=image-png-Jun-21-2024-03-38-28-2912-PM.png 1403w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-38-28-2912-PM.png?width=1683&amp;height=1047&amp;name=image-png-Jun-21-2024-03-38-28-2912-PM.png 1683w" sizes="(max-width: 561px) 100vw, 561px">(Cue EE eye twitching)</p>
<p>Moving on to the DABP filter implementation:</p>
<p><code>; DABP Bandpass Filter:<p>; - Cutoff frequencies: fl = 100Hz, fh = 20kHz<br>; - Gain at center frequency: G0 = 10 (20dB)<br>; - Quality factor: Let's choose Q = 1 for a fairly wide passband<br>; - Center frequency: f0 = sqrt(fl * fh) ≈ 1.414kHz<br>; - Let's choose C1 = C2 = 10nF<br>; - R1 = R2 = 1 / (2 * pi * f0 * C1) ≈ 11.2kΩ, let's use 11kΩ<br>; - R3 = R1 / (2 * Q * G0) ≈ 550Ω, let's use 560Ω<br>; - R4 = 2 * Q * R1 / G0 ≈ 2.2kΩ</p><p>; Netlist:&nbsp;<br>inst op1 : op-amp&nbsp;<br>inst op2 : op-amp&nbsp;<br>inst r1 : chip-resistor(11000.0)&nbsp;<br>inst r2 : chip-resistor(11000.0)&nbsp;<br>inst r3 : chip-resistor(560.0)&nbsp;<br>inst r4 : chip-resistor(2200.0)&nbsp;<br>inst c1 : ceramic-cap(10.0e-9)&nbsp;<br>inst c2 : ceramic-cap(10.0e-9)&nbsp;<br>net (amp.out op1.v+ r1.p[1] c1.p[1])&nbsp;<br>net (op1.v- op2.out r1.p[2] c1.p[2])&nbsp;<br>net (op1.out r3.p[1])&nbsp;<br>net (r3.p[2] op2.v- r2.p[1] c2.p[1])&nbsp;<br>net (op2.v+ r2.p[2] c2.p[2] r4.p[1])&nbsp;<br>net (r4.p[2] gnd)</p></code></p>
<p><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-41-30-4263-PM.png?width=934&amp;height=425&amp;name=image-png-Jun-21-2024-03-41-30-4263-PM.png" loading="lazy" width="934" height="425" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-41-30-4263-PM.png?width=467&amp;height=213&amp;name=image-png-Jun-21-2024-03-41-30-4263-PM.png 467w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-41-30-4263-PM.png?width=934&amp;height=425&amp;name=image-png-Jun-21-2024-03-41-30-4263-PM.png 934w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-41-30-4263-PM.png?width=1401&amp;height=638&amp;name=image-png-Jun-21-2024-03-41-30-4263-PM.png 1401w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-41-30-4263-PM.png?width=1868&amp;height=850&amp;name=image-png-Jun-21-2024-03-41-30-4263-PM.png 1868w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-41-30-4263-PM.png?width=2335&amp;height=1063&amp;name=image-png-Jun-21-2024-03-41-30-4263-PM.png 2335w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-41-30-4263-PM.png?width=2802&amp;height=1275&amp;name=image-png-Jun-21-2024-03-41-30-4263-PM.png 2802w" sizes="(max-width: 934px) 100vw, 934px">Generated circuit (left), versus reference from ADI (right).</p>
<p>A few more misses on the netlist here, and about as correct as the amplifier (which is to say, not very). We also see the weirdly strong default of attaching capacitors across positive and negative pins. I guess LLMs are high decouplers.</p>
<p>And to round it off, we've got another reminder to add decoupling caps, and a reasonable note about what to watch out for:</p>
<p><span>The output of op2 is the final output of the pre-amp circuit. This should give you a good starting point. Remember to add decoupling capacitors and power supply connections as needed. Also, the actual component values may need to be adjusted based on the real specs of your chosen op-amp and the exact requirements of your ADC. Let me know if you have any other questions!</span></p>
<h3><span>Comparing against ground truth</span></h3>
<p><span>This <a href="https://www.ti.com/lit/ug/tidu765/tidu765.pdf" rel="noopener">reference design</a> from Texas Instruments is a good implementation of the requirements we asked these LLMs to design to. It uses passive RC filters (which the AI considered and avoided), and a single op-amp. I did a quick implementation of this in JITX (<a href="https://github.com/JITx-Inc/generative-ai-test-cases/blob/main/amplifier/reference.stanza" rel="noopener">code here</a>) to compare the AI generated circuit (<a href="https://github.com/JITx-Inc/generative-ai-test-cases/blob/main/amplifier/ai-generated.stanza" rel="noopener">code here</a>) to the TI version.</span></p>
<p><span><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-49-51-0951-PM.png?width=849&amp;height=547&amp;name=image-png-Jun-21-2024-03-49-51-0951-PM.png" loading="lazy" width="849" height="547" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-49-51-0951-PM.png?width=425&amp;height=274&amp;name=image-png-Jun-21-2024-03-49-51-0951-PM.png 425w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-49-51-0951-PM.png?width=849&amp;height=547&amp;name=image-png-Jun-21-2024-03-49-51-0951-PM.png 849w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-49-51-0951-PM.png?width=1274&amp;height=821&amp;name=image-png-Jun-21-2024-03-49-51-0951-PM.png 1274w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-49-51-0951-PM.png?width=1698&amp;height=1094&amp;name=image-png-Jun-21-2024-03-49-51-0951-PM.png 1698w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-49-51-0951-PM.png?width=2123&amp;height=1368&amp;name=image-png-Jun-21-2024-03-49-51-0951-PM.png 2123w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-49-51-0951-PM.png?width=2547&amp;height=1641&amp;name=image-png-Jun-21-2024-03-49-51-0951-PM.png 2547w" sizes="(max-width: 849px) 100vw, 849px"></span></p>
<p><span>The AI generated circuit was three times the cost and size of the design created by that expert engineer at TI. It is also missing many of the necessary connections.&nbsp;<p>I found this breakdown surprising - it had no problems generating code in general, and was able to generate a syntactically correct netlist. The code runs! It's just that the pins are not in the right net statements and the resulting circuit is not correct.</p></span></p>
<h3><span>Testing higher level code</span></h3>
<p><span>In fairness, it's rare to write code like this to design a circuit board. In practice you're primarily calling higher level functions, e.g. selecting an op-amp, configuring a filter with parameters, then using a parametric pre-amp circuit:</span></p>
<p><code>&nbsp; val OpAmpType = components/STMicroelectronics/TS971ILT/component</code><br><code>&nbsp; val bandpass = BandpassConfig(gain = 34.0, low-cut = 100.0, high-pass = 20.0e3)</code><br><code>&nbsp; val preampType = ocdb/modules/amplifiers/microphone-preamp(OpAmpType, bandpass)</code><br><code>&nbsp; inst amp : preampType</code></p>
<div><p>Would LLMs do better if we try to get them to define and use higher-level functions instead?</p><p>Gemini 1.5 did the best here, inventing some reasonable APIs to functions that would exist in a library of helpful circuits:</p></div>
<p><code># Modules</code><br><code>amp = inverting_amplifier("amp1", gain=-20.0)&nbsp;</code><br><code>filt = sallen_key_filter("filt1", low_cutoff=100.0, high_cutoff=20.0e3)&nbsp;</code><br><code># Connections&nbsp;</code><br><code>net (mic.pos r_bias.p[1]) # Microphone to bias resistor&nbsp;</code><br><code>net (r_bias.p[2] c1.p[1] amp.in) # Bias resistor to amp through coupling capacitor</code></p>
<p>(Still misses on the netlist generation though.)</p>
<div><p>Our experiments with code generation reveal an interesting pattern: the LLMs are not great at generating detailed code for a netlist <em>to implement a circuit design</em>. That was a little surprising because as shown in the datasheet parsing section, they can write a 95% correct netlist matching an uploaded image of a schematic. This difference suggests that LLMs excel at information extraction and transformation tasks, but struggle with original design synthesis.</p><p>Having the LLMs generate higher-level code worked better than raw netlist generation, and seems like a promising path forward. This suggests a hybrid approach where human experts create parametric implementations of common circuits, which LLMs can then utilize and adapt, potentially increasing overall reliability.</p></div>
<p>Future research could either explore fine-tuning models specifically for netlist generation tasks, or (this being generative AI) wait a month and see how well the next generation of models does on this problem.</p>
<h2><span>Conclusion</span></h2>
<p><span>Circuit board design requires a lot of precision to get all the details correct -- for unsupervised AI techniques, I think there is a data problem here.&nbsp;<p>The context and meaning of a design -- What does this do? How do you know if it's good? -- are usually absent from schematic and board design data. Maybe there's a little text comment on the schematic with filter calculations, but that's usually it, and the rest lives in the engineer's head.</p><p>An electrical engineer looks at a schematic, understands a portion as a Sallen-Key filter, knows the limitations and function of that circuit, and composes that understanding with the rest of the design. A tremendous amount of context, which is not in any of the design data you can scrape from the internet.</p><p>Our experiments show that generative AI models can be useful for circuit board design, if you use them to write code. With that approach, there were still significant differences across Gemini 1.5, Claude 3 Opus, and GPT-4o for circuit board design.&nbsp;</p><p>Claude 3 was most helpful for answering questions to learn new domains. There's a risk of hallucinations, but those usually fall away if you interrogate the model until it's consistent. Certainly Claude is better and more helpful than the *average* article on circuit board design you would find via web search (there are very good articles, but they can be hard to find).</p><p>Gemini's huge context window was very helpful for pulling component data out of datasheets. It was the one area where the AI 'just worked' and we got way more usability than we expected.</p><p>I'm interested in further testing to find the limits of this technique. Google has done a lot of work on the "Text Haystack" problem to pull tiny pieces of information accurately out of a massive corpus of data, and that's serving them well here.</p></span></p>
<p><span><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-59-44-3288-PM.png?width=933&amp;height=601&amp;name=image-png-Jun-21-2024-03-59-44-3288-PM.png" loading="lazy" width="933" height="601" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-59-44-3288-PM.png?width=467&amp;height=301&amp;name=image-png-Jun-21-2024-03-59-44-3288-PM.png 467w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-59-44-3288-PM.png?width=933&amp;height=601&amp;name=image-png-Jun-21-2024-03-59-44-3288-PM.png 933w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-59-44-3288-PM.png?width=1400&amp;height=902&amp;name=image-png-Jun-21-2024-03-59-44-3288-PM.png 1400w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-59-44-3288-PM.png?width=1866&amp;height=1202&amp;name=image-png-Jun-21-2024-03-59-44-3288-PM.png 1866w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-59-44-3288-PM.png?width=2333&amp;height=1503&amp;name=image-png-Jun-21-2024-03-59-44-3288-PM.png 2333w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-03-59-44-3288-PM.png?width=2799&amp;height=1803&amp;name=image-png-Jun-21-2024-03-59-44-3288-PM.png 2799w" sizes="(max-width: 933px) 100vw, 933px">From the <a href="https://storage.googleapis.com/deepmind-media/gemini/gemini_v1_5_report.pdf" rel="noopener">Gemini 1.5 Report</a></span></p>
<p><span>Surprisingly GPT-4o didn't have the most useful answer in any of the categories we tested. It feels wrong to not include any outputs from the model in this summary article, so here's how GPT-4o feels about coming in third:</span></p>
<p><span><img src="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-04-01-30-3403-PM.png?width=345&amp;height=342&amp;name=image-png-Jun-21-2024-04-01-30-3403-PM.png" loading="lazy" width="345" height="342" srcset="https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-04-01-30-3403-PM.png?width=173&amp;height=171&amp;name=image-png-Jun-21-2024-04-01-30-3403-PM.png 173w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-04-01-30-3403-PM.png?width=345&amp;height=342&amp;name=image-png-Jun-21-2024-04-01-30-3403-PM.png 345w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-04-01-30-3403-PM.png?width=518&amp;height=513&amp;name=image-png-Jun-21-2024-04-01-30-3403-PM.png 518w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-04-01-30-3403-PM.png?width=690&amp;height=684&amp;name=image-png-Jun-21-2024-04-01-30-3403-PM.png 690w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-04-01-30-3403-PM.png?width=863&amp;height=855&amp;name=image-png-Jun-21-2024-04-01-30-3403-PM.png 863w, https://blog.jitx.com/hs-fs/hubfs/image-png-Jun-21-2024-04-01-30-3403-PM.png?width=1035&amp;height=1026&amp;name=image-png-Jun-21-2024-04-01-30-3403-PM.png 1035w" sizes="(max-width: 345px) 100vw, 345px"><br></span></p>
<p><span>Overall we have some promising directions. Using LLMs for circuit board design looks a lot like using them for other complex tasks. They work well for pulling concrete data out of human-shaped data sources, they can do slightly more difficult tasks if they can solve that task by writing code, but eventually their capabilities break down in domains too far out of the training distribution.<p>We only tested the frontier models in this work, but I predict similar results from the open-source Llama or Mistral models. Some fine tuning on netlist creation would likely make the generation capabilities more useful.</p><p>Our work shows both the potential and limitations of current LLMs in specialized fields like circuit design. They're excellent at retrieving information and generating code, but struggle with the nuanced decision-making needed for complex designs. Future LLMs will likely improve here, but for the current model generation, they're best used as tools to assist human experts rather than as standalone designers.</p></span></p>
<p><span>Let me know what you think! You can find me on the JITX discord, and on <a href="https://x.com/DuncanHaldane" rel="noopener">Twitter</a>.</span></p></span>
      </p>
      
        
      
    </article>
  </div></div>]]></description>
        </item>
    </channel>
</rss>