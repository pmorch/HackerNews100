<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 20 Sep 2023 15:00:10 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Svelte 5: Runes (124 pts)]]></title>
            <link>https://svelte.dev/blog/runes</link>
            <guid>37584224</guid>
            <pubDate>Wed, 20 Sep 2023 13:59:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://svelte.dev/blog/runes">https://svelte.dev/blog/runes</a>, See on <a href="https://news.ycombinator.com/item?id=37584224">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main"><article> <p>Rethinking 'rethinking reactivity'</p>    <!-- HTML_TAG_START --><p>In 2019, Svelte 3 turned JavaScript into a <a href="https://svelte.dev/blog/svelte-3-rethinking-reactivity">reactive language</a>. Svelte is a web UI framework that uses a compiler to turn declarative component code like this...</p>
<pre><code><span><span>&lt;</span><span>script</span><span>&gt;</span></span>
<span><span>	</span><span>let</span><span> count </span><span>=</span><span> </span><span>0</span><span>;</span></span>
<span></span>
<span><span>	</span><span>function</span><span> </span><span>increment</span><span>() {</span></span>
<span><span>		count </span><span>+=</span><span> </span><span>1</span><span>;</span></span>
<span><span>	}</span></span>
<span><span>&lt;/</span><span>script</span><span>&gt;</span></span>
<span></span>
<span><span>&lt;</span><span>button</span><span> </span><span>on</span><span>:</span><span>click</span><span>=</span><span>{increment}&gt;</span></span>
<span><span>	clicks: {count}</span></span>
<span><span>&lt;/</span><span>button</span><span>&gt;</span></span></code></pre><p>...into tightly optimized JavaScript that updates the document when state like <code>count</code> changes. Because the compiler can 'see' where <code>count</code> is referenced, the generated code is <a href="https://svelte.dev/blog/virtual-dom-is-pure-overhead">highly efficient</a>, and because we're hijacking syntax like <code>let</code> and <code>=</code> instead of using cumbersome APIs, you can <a href="https://svelte.dev/blog/write-less-code">write less code</a>.</p>
<p>A common piece of feedback we get is 'I wish I could write all my JavaScript like this'. When you're used to things inside components magically updating, going back to boring old procedural code feels like going from colour to black-and-white.</p>
<p>Svelte 5 changes all that with <em>runes</em>, which unlock <em>universal, fine-grained reactivity</em>.</p>
<div>
<figure>
<p>
  <iframe src="https://www.youtube-nocookie.com/embed/RVnxF3j3N8U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>

<figcaption>Introducing runes</figcaption>
</figure>
</div>

<h2 id="before-we-begin">Before we begin<a href="#before-we-begin"><span>permalink</span></a></h2><p>Even though we're changing how things work under the hood, Svelte 5 should be a drop-in replacement for almost everyone. The new features are opt-in — your existing components will continue to work.</p>
<p>We don't yet have a release date for Svelte 5. What we're showing you here is a work-in-progress that is likely to change!</p>
<h2 id="what-are-runes">What are runes?<a href="#what-are-runes"><span>permalink</span></a></h2><blockquote>
<p><strong>rune</strong> /ro͞on/ <em>noun</em></p>
<p>A letter or mark used as a mystical or magic symbol.</p>
</blockquote>
<p>Runes are symbols that influence the Svelte compiler. Whereas Svelte today uses <code>let</code>, <code>=</code>, the <a href="https://learn.svelte.dev/tutorial/declaring-props"><code>export</code></a> keyword and the <a href="https://learn.svelte.dev/tutorial/reactive-declarations"><code>$:</code></a> label to mean specific things, runes use <em>function syntax</em> to achieve the same things and more.</p>
<p>For example, to declare a piece of reactive state, we can use the <code>$state</code> rune:</p>
<pre><code>&lt;script&gt;
<span>	let count = 0;
</span><span>	let count = $state(0);
</span>
	function increment() {
		count += 1;
	}
&lt;/script&gt;

&lt;button on:click={increment}&gt;
	clicks: {count}
&lt;/button&gt;
</code></pre><p>At first glance, this might seem like a step back — perhaps even <a href="https://twitter.com/stolinski/status/1438173489479958536">un-Svelte-like</a>. Isn't it better if <code>let count</code> is reactive by default?</p>
<p>Well, no. The reality is that as applications grow in complexity, figuring out which values are reactive and which aren't can get tricky. And the heuristic only works for <code>let</code> declarations at the top level of a component, which can cause confusion. Having code behave one way inside <code>.svelte</code> files and another inside <code>.js</code> can make it hard to refactor code, for example if you need to turn something into a <a href="https://learn.svelte.dev/tutorial/writable-stores">store</a> so that you can use it in multiple places.</p>
<h2 id="beyond-components">Beyond components<a href="#beyond-components"><span>permalink</span></a></h2><p>With runes, reactivity extends beyond the boundaries of your <code>.svelte</code> files. Suppose we wanted to encapsulate our counter logic in a way that could be reused between components. Today, you would use a <a href="https://learn.svelte.dev/tutorial/custom-stores">custom store</a> in a <code>.js</code> or <code>.ts</code> file:</p>
<pre><p>ts</p><p><code><p><span>import</span><span> { <data-lsp lsp="(alias) function writable&amp;lt;T>(value?: T | undefined, start?: StartStopNotifier&amp;lt;T> | undefined): Writable&amp;lt;T>&amp;#10;import writable">writable</data-lsp> } </span><span>from</span><span> </span><span>'svelte/store'</span><span>;</span></p><p><span>export</span><span> </span><span>function</span><span> </span><span><data-lsp lsp="function createCounter(): {&amp;#10;  subscribe: (this: void, run: Subscriber&amp;lt;number>, invalidate?: Invalidator&amp;lt;number> | undefined) => Unsubscriber;&amp;#10;  increment: () => void;&amp;#10;}">createCounter</data-lsp></span><span>() {</span></p><p><span>	</span><span>const</span><span> { </span><span><data-lsp lsp="const subscribe: (this: void, run: Subscriber&amp;lt;number>, invalidate?: Invalidator&amp;lt;number> | undefined) => Unsubscriber">subscribe</data-lsp></span><span>,</span><span> </span><span><data-lsp lsp="const update: (this: void, updater: Updater&amp;lt;number>) => void">update</data-lsp></span><span> } </span><span>=</span><span> </span><span><data-lsp lsp="(alias) writable&amp;lt;number>(value?: number | undefined, start?: StartStopNotifier&amp;lt;number> | undefined): Writable&amp;lt;number>&amp;#10;import writable">writable</data-lsp></span><span>(</span><span>0</span><span>);</span></p><p><span>	</span><span>return</span><span> {</span></p><p><span>		<data-lsp lsp="(property) subscribe: (this: void, run: Subscriber&amp;lt;number>, invalidate?: Invalidator&amp;lt;number> | undefined) => Unsubscriber">subscribe</data-lsp></span><span>,</span></p><p><span>		</span><span><data-lsp lsp="(property) increment: () => void">increment</data-lsp></span><span>:</span><span> () </span><span>=&gt;</span><span> </span><span><data-lsp lsp="const update: (this: void, updater: Updater&amp;lt;number>) => void">update</data-lsp></span><span>((<data-lsp lsp="(parameter) n: number">n</data-lsp>) </span><span>=&gt;</span><span> <data-lsp lsp="(parameter) n: number">n</data-lsp> </span><span>+</span><span> </span><span>1</span><span>)</span></p><p><span>	};</span></p><p><span>}</span></p></code></p></pre><p>Because this implements the <em>store contract</em> — the returned value has a <code>subscribe</code> method — we can reference the store value by prefixing the store name with <code>$</code>:</p>
<pre><code>&lt;script&gt;
<span>	import { createCounter } from './counter.js';
</span><span>
</span><span>	const counter = createCounter();
</span><span>	let count = 0;
</span><span>
</span><span>	function increment() {
</span><span>		count += 1;
</span><span>	}
</span>&lt;/script&gt;

<span>&lt;button on:click={increment}&gt;
</span><span>	clicks: {count}
</span><span>&lt;button on:click={counter.increment}&gt;
</span><span>	clicks: {$counter}
</span>&lt;/button&gt;
</code></pre><p>This works, but it's pretty weird! We've found that the store API can get rather unwieldy when you start doing more complex things.</p>
<p>With runes, things get much simpler:</p>
<pre><code><span>import { writable } from 'svelte/store';
</span>
export function createCounter() {
<span>	const { subscribe, update } = writable(0);
</span><span>	let count = $state(0);
</span>
	return {
<span>		subscribe,
</span><span>		increment: () =&gt; update((n) =&gt; n + 1)
</span><span>		get count { return count },
</span><span>		increment: () =&gt; count += 1
</span>   };
}
</code></pre><pre><code>&lt;script&gt;
	import { createCounter } from './counter.js';

	const counter = createCounter();
&lt;/script&gt;

&lt;button on:click={counter.increment}&gt;
<span>	clicks: {$counter}
</span><span>	clicks: {counter.count}
</span>&lt;/button&gt;
</code></pre><p>Note that we're using a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get">get property</a> in the returned object, so that <code>counter.count</code> always refers to the current value rather than the value at the time the function was called.</p>
<h2 id="runtime-reactivity">Runtime reactivity<a href="#runtime-reactivity"><span>permalink</span></a></h2><p>Today, Svelte uses <em>compile-time reactivity</em>. This means that if you have some code that uses the <code>$:</code> label to re-run automatically when dependencies change, those dependencies are determined when Svelte compiles your component:</p>
<pre><code><span><span>&lt;</span><span>script</span><span>&gt;</span></span>
<span><span>	</span><span>export</span><span> </span><span>let</span><span> width;</span></span>
<span><span>	</span><span>export</span><span> </span><span>let</span><span> height;</span></span>
<span></span>
<span><span>	</span><span>// the compiler knows it should recalculate `area`</span></span>
<span><span>	</span><span>// when either `width` or `height` change...</span></span>
<span><span>	$</span><span>:</span><span> area </span><span>=</span><span> width </span><span>*</span><span> height;</span></span>
<span></span>
<span><span>	</span><span>// ...and that it should log the value of `area`</span></span>
<span><span>	</span><span>// when _it_ changes</span></span>
<span><span>	$</span><span>:</span><span> </span><span>console</span><span>.log</span><span>(area);</span></span>
<span><span>&lt;/</span><span>script</span><span>&gt;</span></span></code></pre><p>This works well... until it doesn't. Suppose we refactored the code above:</p>
<pre><p>ts</p><p><code><p><span>const</span><span> </span><span><data-lsp lsp="const multiplyByHeight: (width: any) => number">multiplyByHeight</data-lsp></span><span> </span><span>=</span><span> (<data-err><data-lsp lsp="(parameter) width: any">width</data-lsp></data-err>) </span><span>=&gt;</span><span> <data-lsp lsp="(parameter) width: any">width</data-lsp> </span><span>*</span><span> <data-err><data-lsp lsp="any">height</data-lsp></data-err>;</span></p><span><span>Parameter 'width' implicitly has an 'any' type.<br>Cannot find name 'height'.</span><span>7006<br>2304</span></span><span>Parameter 'width' implicitly has an 'any' type.<br>Cannot find name 'height'.</span><p><span>$</span><span>:</span><span> <data-err><data-lsp lsp="any">area</data-lsp></data-err> </span><span>=</span><span> </span><span><data-lsp lsp="const multiplyByHeight: (width: any) => number">multiplyByHeight</data-lsp></span><span>(<data-err><data-lsp lsp="any">width</data-lsp></data-err>);</span></p><span><span>Cannot find name 'area'.<br>Cannot find name 'width'.</span><span>2304<br>2304</span></span><span>Cannot find name 'area'.<br>Cannot find name 'width'.</span></code></p></pre><p>Because the <code>$: area = ...</code> declaration can only 'see' <code>width</code>, it won't be recalculated when <code>height</code> changes. As a result, code is hard to refactor, and understanding the intricacies of when Svelte chooses to update which values can become rather tricky beyond a certain level of complexity.</p>
<p>Svelte 5 introduces the <code>$derived</code> and <code>$effect</code> runes, which instead determine the dependencies of their expressions when they are evaluated:</p>
<pre><code><span><span>&lt;</span><span>script</span><span>&gt;</span></span>
<span><span>	</span><span>let</span><span> { width</span><span>,</span><span> height } </span><span>=</span><span> $</span><span>props</span><span>(); </span><span>// instead of `export let`</span></span>
<span></span>
<span><span>	</span><span>const</span><span> </span><span>area</span><span> </span><span>=</span><span> $</span><span>derived</span><span>(width </span><span>*</span><span> height);</span></span>
<span></span>
<span><span>	$</span><span>effect</span><span>(() </span><span>=&gt;</span><span> {</span></span>
<span><span>		</span><span>console</span><span>.log</span><span>(area);</span></span>
<span><span>	});</span></span>
<span><span>&lt;/</span><span>script</span><span>&gt;</span></span></code></pre><p>As with <code>$state</code>, <code>$derived</code> and <code>$effect</code> can also be used in your <code>.js</code> and <code>.ts</code> files.</p>
<h2 id="signal-boost">Signal boost<a href="#signal-boost"><span>permalink</span></a></h2><p>Like every other framework, we've come to the realisation that <a href="https://knockoutjs.com/">Knockout</a> was right all along.</p>
<p>Svelte 5's reactivity is powered by <em>signals</em>, which are essentially <a href="https://dev.to/this-is-learning/the-evolution-of-signals-in-javascript-8ob">what Knockout was doing in 2010</a>. More recently, signals have been popularised by <a href="https://www.solidjs.com/">Solid</a> and adopted by a multitude of other frameworks.</p>
<p>We're doing things a bit differently though. In Svelte 5, signals are an under-the-hood implementation detail rather than something you interact with directly. As such, we don't have the same API design constraints, and can maximise both efficiency <em>and</em> ergonomics. For example, we avoid the type narrowing issues that arise when values are accessed by function call, and when compiling in server-side rendering mode we can ditch the signals altogether, since on the server they're nothing but overhead.</p>
<p>Signals unlock <em>fine-grained reactivity</em>, meaning that (for example) changes to a value inside a large list needn't invalidate all the <em>other</em> members of the list. As such, Svelte 5 is ridonkulously fast.</p>
<h2 id="simpler-times-ahead">Simpler times ahead<a href="#simpler-times-ahead"><span>permalink</span></a></h2><p>Runes are an additive feature, but they make a whole bunch of existing concepts obsolete:</p>
<ul>
<li>the difference between <code>let</code> at the top level of a component and everywhere else</li>
<li><code>export let</code></li>
<li><code>$:</code>, with all its attendant quirks</li>
<li>different behaviour between <code>&lt;script&gt;</code> and <code>&lt;script context="module"&gt;</code></li>
<li>the store API, parts of which are genuinely quite complicated</li>
<li>the <code>$</code> store prefix</li>
<li><code>$$props</code> and <code>$$restProps</code></li>
<li>lifecycle functions (things like <code>onMount</code> can just be <code>$effect</code> functions)</li>
</ul>
<p>For those of you who already use Svelte, it's new stuff to learn, albeit hopefully stuff that makes your Svelte apps easier to build and maintain. But newcomers won't need to learn all those things — it'll just be in a section of the docs titled 'old stuff'.</p>
<p>This is just the beginning though. We have a long list of ideas for subsequent releases that will make Svelte simpler and more capable.</p>
<h2 id="try-it">Try it!<a href="#try-it"><span>permalink</span></a></h2><p>You can't use Svelte 5 in production yet. We're in the thick of it at the moment and can't tell you when it'll be ready to use in your apps.</p>
<p>But we didn't want to leave you hanging. We've created a <a href="https://svelte-5-preview.vercel.app/">preview site</a> with detailed explanations of the new features and an interactive playground. You can also visit the <code>#svelte-5-runes</code> channel of the <a href="https://svelte.dev/chat">Svelte Discord</a> to learn more. We'd love to have your feedback!</p>
<!-- HTML_TAG_END --></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: SeaGOAT – local, “AI-based” grep for semantic code search (111 pts)]]></title>
            <link>https://github.com/kantord/SeaGOAT</link>
            <guid>37583219</guid>
            <pubDate>Wed, 20 Sep 2023 12:13:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/kantord/SeaGOAT">https://github.com/kantord/SeaGOAT</a>, See on <a href="https://news.ycombinator.com/item?id=37583219">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<h2 tabindex="-1" dir="auto">
  <p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/kantord/SeaGOAT/blob/main/assets/logo-small.png"><img src="https://github.com/kantord/SeaGOAT/raw/main/assets/logo-small.png" alt="Logo" width="200"></a>
    <b>SeaGOAT</b>
  </p>
</h2>
<p dir="auto">A code search engine for the AI age. SeaGOAT is a local search tool that
leverages vector embeddings to enable to search your codebase semantically.</p>
<p dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/kantord/SeaGOAT/blob/main/assets/demo-slideshow.gif"><img src="https://github.com/kantord/SeaGOAT/raw/main/assets/demo-slideshow.gif" alt="" data-animated-image=""></a>
</p>
<p dir="auto"><em>Note: I was recently laid off my job and I am looking for new
opportunities. If you need a Senior Full Stack Developer,
<a href="mailto:github@daniel-kantor.com">contact me</a>! I have experience with
React, Node and Python and I'm located in Spain (European Union).
10+ years in software development professionally.</em></p>
<h2 tabindex="-1" dir="auto">Getting started</h2>
<h3 tabindex="-1" dir="auto">Install SeaGOAT</h3>
<p dir="auto">In order to install SeaGOAT, you need to have the following
dependencies already installed on your computer:</p>
<ul dir="auto">
<li>Python 3.11 or newer</li>
<li>ripgrep</li>
<li><a href="https://github.com/sharkdp/bat">bat</a> (<strong>optional</strong>, highly recommended)</li>
</ul>
<p dir="auto">When <code>bat</code> is <a href="https://github.com/sharkdp/bat#on-ubuntu-using-apt">installed</a>,
it is used to display results as long as color is enabled. When SeaGOAT is
used as part of a pipeline, a grep-line output format is used. When color is
enabled, but <code>bat</code> is not installed, SeaGOAT will highlight the output using
pygments. Using <code>bat</code> is recommended.</p>
<p dir="auto">To install SeaGOAT using <code>pipx</code>, use the following command:</p>

<h3 tabindex="-1" dir="auto">System requirements</h3>
<h4 tabindex="-1" dir="auto">Hardware</h4>
<p dir="auto">Should work on any decent laptop.</p>
<h4 tabindex="-1" dir="auto">Oporating system</h4>
<p dir="auto">SeaGOAT is designed to work on Linux (<em>tested</em> ✅),
macOS (<a href="https://github.com/kantord/SeaGOAT/issues/178" data-hovercard-type="issue" data-hovercard-url="/kantord/SeaGOAT/issues/178/hovercard">partly tested, <strong>help</strong></a> 🙏)
and Windows (<a href="https://github.com/kantord/SeaGOAT/issues/179" data-hovercard-type="issue" data-hovercard-url="/kantord/SeaGOAT/issues/179/hovercard"><strong>help needed</strong></a> 🙏).</p>
<h3 tabindex="-1" dir="auto">Start SeaGOAT server</h3>
<p dir="auto">In order to use SeaGOAT in your project, you have to start the SeaGOAT server
using the following command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="seagoat-server start /path/to/your/repo"><pre>seagoat-server start /path/to/your/repo</pre></div>
<h3 tabindex="-1" dir="auto">Search your repository</h3>
<p dir="auto">If you have the server running, you can simply use the
<code>gt</code> or <code>seagoat</code> command to query your repository. For example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="gt &quot;Where are the numbers rounded&quot;"><pre>gt <span><span>"</span>Where are the numbers rounded<span>"</span></span></pre></div>
<p dir="auto">You can also use
<a href="https://en.wikipedia.org/wiki/Regular_expression" rel="nofollow">Regular Expressions</a>
in your queries, for example</p>
<div dir="auto" data-snippet-clipboard-copy-content="gt &quot;function calc_.* that deals with taxes&quot;"><pre>gt <span><span>"</span>function calc_.* that deals with taxes<span>"</span></span></pre></div>
<h3 tabindex="-1" dir="auto">Stopping the server</h3>
<p dir="auto">You can stop the running server using the following command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="seagoat-server stop /path/to/your/repo"><pre>seagoat-server stop /path/to/your/repo</pre></div>
<h2 tabindex="-1" dir="auto">Development</h2>
<p dir="auto"><strong>Requirements</strong>:</p>
<ul dir="auto">
<li><a href="https://python-poetry.org/" rel="nofollow">Poetry</a></li>
<li>Python 3.11 or newer</li>
<li><a href="https://github.com/BurntSushi/ripgrep">ripgrep</a></li>
</ul>
<h3 tabindex="-1" dir="auto">Install dependencies</h3>
<p dir="auto">After cloning the repository, install dependencies using the following command:</p>

<h3 tabindex="-1" dir="auto">Running tests</h3>
<h4 tabindex="-1" dir="auto">Watch mode (recommended)</h4>

<h4 tabindex="-1" dir="auto">Test changed files</h4>
<div dir="auto" data-snippet-clipboard-copy-content="poetry run pytest .  --testmon"><pre>poetry run pytest <span>.</span>  --testmon</pre></div>
<h4 tabindex="-1" dir="auto">Test all files</h4>

<h3 tabindex="-1" dir="auto">Manual testing</h3>
<p dir="auto">You can test any SeaGOAT command manually in your local development
environment. For example to test the development version of the
<code>seagoat-server</code> command, you can run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="poetry run seagoat-server ~/path/an/example/repository"><pre>poetry run seagoat-server <span>~</span>/path/an/example/repository</pre></div>
<h2 tabindex="-1" dir="auto">FAQ</h2>
<p dir="auto">The points in this FAQ are indications of how SeaGOAT works, but are not
a legal contract. SeaGOAT is licensed under an open source license and if you
are in doubt about the privacy/safety/etc implications of SeaGOAT, you are
welcome to examine the source code,
<a href="https://github.com/kantord/SeaGOAT/issues/new">raise your concerns</a>,
or create a pull request to fix a problem.</p>
<h3 tabindex="-1" dir="auto">How does SeaGOAT work? Does it send my data to ChatGPT?</h3>
<p dir="auto">SeaGOAT does not rely on 3rd party APIs or any remote APIs and executes all
functionality locally using the SeaGOAT server that you are able to run on
your own machine.</p>
<p dir="auto">Instead of relying on APIs or "connecting to ChatGPT", it uses the vector
database called ChromaDB, with a local vector embedding engine and
telemetry disabled by default.</p>
<p dir="auto">Apart from that, SeaGOAT also uses ripgrep, a regular-expression based code
search engine in order to provider regular expression/keyword based matches
in addition to the "AI-based" matches.</p>
<p dir="auto">While the current version of SeaGOAT does not send your data to remote
servers, it might be possible that in the future there will be <strong>optional</strong>
features that do so, if any further improvement can be gained from that.</p>
<h3 tabindex="-1" dir="auto">Why does SeaGOAT need a server?</h3>
<p dir="auto">SeaGOAT needs a server in order to provide a speedy response. SeaGOAT heavily
relies on vector embeddings and vector databases, which at the moment cannot
be replace with an architecture that processes files on the fly.</p>
<p dir="auto">It's worth noting that <em>you are able to run SeaGOAT server entirely locally</em>,
and it works even if you don't have an internet connection. This use case
does not require you to share data with a remote server, you are able to use
your own SeaGOAT server locally, albeit it's also possible to run a SeaGOAT
server and allow other computers to connect to it, if you so wish.</p>
<h3 tabindex="-1" dir="auto">Does SeaGOAT create AI-derived work? Is SeaGOAT ethical?</h3>
<p dir="auto">If you are concerned about the ethical implications of using AI tools keep in
mind that SeaGOAT is not a code generator but a code search engine, therefore
it does not create AI derived work.</p>
<p dir="auto">That being said, a language model <em>is</em> being used to generate vector
embeddings. At the moment SeaGOAT uses ChromaDB's default model for
calculating vector embeddings, and I am not aware of this being an ethical
concern.</p>
<h3 tabindex="-1" dir="auto">What programming langauges are supported?</h3>
<p dir="auto">Currently SeaGOAT is hardcoded to only process files in the following
formats:</p>
<ul dir="auto">
<li><strong>Text Files</strong> (<code>*.txt</code>)</li>
<li><strong>Markdown</strong> (<code>*.md</code>)</li>
<li><strong>Python</strong> (<code>*.py</code>)</li>
<li><strong>C</strong> (<code>*.c</code>, <code>*.h</code>)</li>
<li><strong>C++</strong> (<code>*.cpp</code>, <code>*.cc</code>, <code>*.cxx</code>, <code>*.hpp</code>)</li>
<li><strong>TypeScript</strong> (<code>*.ts</code>, <code>*.tsx</code>)</li>
<li><strong>JavaScript</strong> (<code>*.js</code>, <code>*.jsx</code>)</li>
<li><strong>HTML</strong> (<code>*.html</code>)</li>
<li><strong>Go</strong> (<code>*.go</code>)</li>
<li><strong>Java</strong> (<code>*.java</code>)</li>
<li><strong>PHP</strong> (<code>*.php</code>)</li>
<li><strong>Ruby</strong> (<code>*.rb</code>)</li>
</ul>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[We have successfully completed our migration to RAM-only VPN infrastructure (121 pts)]]></title>
            <link>https://mullvad.net/en/blog/2023/9/20/we-have-successfully-completed-our-migration-to-ram-only-vpn-infrastructure/</link>
            <guid>37581485</guid>
            <pubDate>Wed, 20 Sep 2023 07:38:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mullvad.net/en/blog/2023/9/20/we-have-successfully-completed-our-migration-to-ram-only-vpn-infrastructure/">https://mullvad.net/en/blog/2023/9/20/we-have-successfully-completed-our-migration-to-ram-only-vpn-infrastructure/</a>, See on <a href="https://news.ycombinator.com/item?id=37581485">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <p>Today we announce that we have completely removed all traces of disks being used by our VPN infrastructure!</p>

<p>In early 2022 we announced the<a href="https://mullvad.net/blog/2022/1/12/diskless-infrastructure-beta-system-transparency-stboot/"> beginning of our migration</a> to using diskless infrastructure with our bootloader known as “stboot”.</p>

<h2>Completing the transition to diskless infrastructure</h2>

<p>Our VPN infrastructure has since been audited with this configuration twice (<a href="https://mullvad.net/blog/2023/8/9/infrastructure-audit-completed-by-radically-open-security/">2023</a>, <a href="https://mullvad.net/blog/2022/6/22/vpn-server-audit-found-no-information-leakage-or-logging-of-customer-data/">2022</a>), and all future audits of our VPN servers will focus solely on RAM-only deployments.</p>

<p>All of our VPN servers continue to use our custom and extensively slimmed down Linux kernel, where we follow the mainline branch of kernel development. This has allowed us to pull in the latest version so that we can stay up to date with new features and performance improvements, as well as tune and completely remove unnecessary bloat in the kernel.</p>

<p>The result is that the operating system that we boot, prior to being deployed weighs in at just over 200MB. When servers are rebooted or provisioned for the first time, we can be safe in the knowledge that we get a freshly built kernel, no traces of any log files, and a fully patched OS.</p>
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OpenTF renames itself to OpenTofu (319 pts)]]></title>
            <link>https://github.com/opentofu</link>
            <guid>37581132</guid>
            <pubDate>Wed, 20 Sep 2023 06:44:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/opentofu">https://github.com/opentofu</a>, See on <a href="https://news.ycombinator.com/item?id=37581132">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="" data-view-component="true">
  

  <div>
    
    <article itemprop="text">
<p dir="auto">OpenTofu's goal is to ensure Terraform remains truly open source and proposes returning it to a fully open license. We urge HashiCorp to reconsider and switch Terraform back to an open source license, avoiding fragmentation of the community.</p>
<p dir="auto">For further details and the full text of the manifesto, you can visit the <a href="https://opentofu.org/" rel="nofollow">OpenTofu website</a>.</p>
<h2 dir="auto">Contact</h2>
<p dir="auto">If you have questions or feedback to share, you can reach the team behind this manifesto by emailing us at <a href="mailto:pledge@opentf.org">pledge@opentf.org</a>.</p>
</article>
  </div>


  

     

    <div>

  <h2>
        Pinned

    <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="16" height="16" viewBox="0 0 16 16" fill="none" data-view-component="true">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
    <span role="status" aria-live="polite" data-error-text="Something went wrong." data-success-text="Order updated."></span>
  </h2>

      <ol>
      <li>
  <div>
      


      <p>
        OpenTofu lets you declaratively manage your cloud infrastructure.
      </p>

      <p>
          <span>
  <span></span>
  <span itemprop="programmingLanguage">Go</span>
</span>

          <a href="https://github.com/opentofu/opentofu/stargazers">
            <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
            6.6k
          </a>
          <a href="https://github.com/opentofu/opentofu/forks">
            <svg aria-label="forks" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
            174
          </a>
      </p>
    </div>
</li>

      <li>
  <div>
      


      <p>
        The OpenTF Manifesto expresses concern over HashiCorp's switch of the Terraform license from open-source to the Business Source License (BSL) and calls for the tool's return to a truly open-source …
      </p>

      <p>
          <span>
  <span></span>
  <span itemprop="programmingLanguage">HTML</span>
</span>

          <a href="https://github.com/opentofu/manifesto/stargazers">
            <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
            35.4k
          </a>
          <a href="https://github.com/opentofu/manifesto/forks">
            <svg aria-label="forks" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
            1.1k
          </a>
      </p>
    </div>
</li>

</ol>

</div>


    <div id="org-profile-repositories">
      <h3>
        
        Repositories
      </h3>
      
      <div id="org-repositories" data-delay-results="">
    <p><span data-autosearch-results="">Showing 10 of 45 repositories</span></p><div data-view-component="true">
  
  
    <ul data-view-component="true">
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">
        <p><a itemprop="name codeRepository" data-hovercard-type="repository" data-hovercard-url="/opentofu/opentofu/hovercard" href="https://github.com/opentofu/opentofu" data-view-component="true">
          opentofu
</a>
        <span title="Label: Public" data-view-component="true">
          Public
</span></p><p itemprop="description" data-view-component="true">
            OpenTofu lets you declaratively manage your cloud infrastructure.
</p></div>
</li>
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Go</span>
</span>


        <span data-view-component="true">
          0
</span>
        <span data-view-component="true">
          MPL-2.0
</span></p><a href="https://github.com/opentofu/terraform-provider-azurerm/forks" data-view-component="true">
          <svg aria-label="fork" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          4,216
</a>
      <a href="https://github.com/opentofu/terraform-provider-azurerm/issues" data-view-component="true">
        
        0
</a>

      <a href="https://github.com/opentofu/terraform-provider-azurerm/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2023-09-20T08:26:01Z">Sep 20, 2023</relative-time>
</span></p></div>
</li>
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">
        <p><a itemprop="name codeRepository" data-hovercard-type="repository" data-hovercard-url="/opentofu/manifesto/hovercard" href="https://github.com/opentofu/manifesto" data-view-component="true">
          manifesto
</a>
        <span title="Label: Public" data-view-component="true">
          Public
</span></p><p itemprop="description" data-view-component="true">
            The OpenTF Manifesto expresses concern over HashiCorp's switch of the Terraform license from open-source to the Business Source License (BSL) and calls for the tool's return to a truly open-source license.
</p></div>
</li>
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Go</span>
</span>


        <span data-view-component="true">
          0
</span>
        <span data-view-component="true">
          MPL-2.0
</span></p><a href="https://github.com/opentofu/terraform-provider-hcp/forks" data-view-component="true">
          <svg aria-label="fork" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          45
</a>
      <a href="https://github.com/opentofu/terraform-provider-hcp/issues" data-view-component="true">
        
        0
</a>

      <a href="https://github.com/opentofu/terraform-provider-hcp/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2023-09-20T04:26:16Z">Sep 20, 2023</relative-time>
</span></p></div>
</li>
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Go</span>
</span></p><a href="https://github.com/opentofu/terraform-provider-google/stargazers" data-view-component="true">
          
          2
</a>
        <p><span data-view-component="true">
          MPL-2.0
</span></p><a href="https://github.com/opentofu/terraform-provider-google/forks" data-view-component="true">
          <svg aria-label="fork" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          1,653
</a>
      <a href="https://github.com/opentofu/terraform-provider-google/issues" data-view-component="true">
        
        0
</a>

      <a href="https://github.com/opentofu/terraform-provider-google/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2023-09-20T01:27:59Z">Sep 20, 2023</relative-time>
</span></p></div>
</li>
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Go</span>
</span>


        <span data-view-component="true">
          0
</span>
        <span data-view-component="true">
          MPL-2.0
</span></p><a href="https://github.com/opentofu/terraform-provider-google-beta/forks" data-view-component="true">
          <svg aria-label="fork" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          237
</a>
      <a href="https://github.com/opentofu/terraform-provider-google-beta/issues" data-view-component="true">
        
        0
</a>

      <a href="https://github.com/opentofu/terraform-provider-google-beta/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2023-09-20T01:26:12Z">Sep 20, 2023</relative-time>
</span></p></div>
</li>
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Go</span>
</span></p><a href="https://github.com/opentofu/terraform-provider-aws/stargazers" data-view-component="true">
          
          2
</a>
        <p><span data-view-component="true">
          MPL-2.0
</span></p><a href="https://github.com/opentofu/terraform-provider-aws/forks" data-view-component="true">
          <svg aria-label="fork" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          8,326
</a>
      <a href="https://github.com/opentofu/terraform-provider-aws/issues" data-view-component="true">
        
        0
</a>

      <a href="https://github.com/opentofu/terraform-provider-aws/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2023-09-20T01:21:14Z">Sep 20, 2023</relative-time>
</span></p></div>
</li>
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">


        <a href="https://github.com/opentofu/.github/stargazers" data-view-component="true">
          
          6
</a>

        <a href="https://github.com/opentofu/.github/forks" data-view-component="true">
          <svg aria-label="fork" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          1
</a>
      <a href="https://github.com/opentofu/.github/issues" data-view-component="true">
        
        0
</a>

      <a href="https://github.com/opentofu/.github/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2023-09-20T01:10:25Z">Sep 20, 2023</relative-time>
</span></p></div>
</li>
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Go</span>
</span>


        <span data-view-component="true">
          0
</span>
        <span data-view-component="true">
          MPL-2.0
</span></p><a href="https://github.com/opentofu/terraform-provider-hcs/forks" data-view-component="true">
          <svg aria-label="fork" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          9
</a>
      <a href="https://github.com/opentofu/terraform-provider-hcs/issues" data-view-component="true">
        
        0
</a>

      <a href="https://github.com/opentofu/terraform-provider-hcs/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2023-09-19T20:27:41Z">Sep 19, 2023</relative-time>
</span></p></div>
</li>
        <li data-view-component="true">          <div data-view-component="true" itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Go</span>
</span>


        <span data-view-component="true">
          0
</span>
        <span data-view-component="true">
          MPL-2.0
</span></p><a href="https://github.com/opentofu/terraform-provider-vsphere/forks" data-view-component="true">
          <svg aria-label="fork" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          430
</a>
      <a href="https://github.com/opentofu/terraform-provider-vsphere/issues" data-view-component="true">
        
        0
</a>

      <a href="https://github.com/opentofu/terraform-provider-vsphere/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2023-09-19T20:23:19Z">Sep 19, 2023</relative-time>
</span></p></div>
</li>
</ul>  
</div></div>
  </div>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[FAA authorizes Zipline to deliver commercial packages using drones (415 pts)]]></title>
            <link>https://www.faa.gov/newsroom/faa-authorizes-zipline-deliver-commercial-packages-beyond-line-sight</link>
            <guid>37580141</guid>
            <pubDate>Wed, 20 Sep 2023 03:42:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.faa.gov/newsroom/faa-authorizes-zipline-deliver-commercial-packages-beyond-line-sight">https://www.faa.gov/newsroom/faa-authorizes-zipline-deliver-commercial-packages-beyond-line-sight</a>, See on <a href="https://news.ycombinator.com/item?id=37580141">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page-wrapper" data-off-canvas-main-canvas="">

    
 
 
    <section>
    
  <h2>Site Notification</h2>
  
  
      <h2>Site Notification</h2>
    
  
  </section>

 



    <main id="main" aria-label="Site main">

      
      
      <section id="main-wrapper" role="main">
                    <a id="main-content" tabindex="-1"></a>
                    <!--PAGEWATCH-->
                      

<article data-history-node-id="121896" role="article" about="/newsroom/faa-authorizes-zipline-deliver-commercial-packages-beyond-line-sight" typeof="schema:Article">
  <div>
        
    

    <!--PAGEWATCH-->
    
      
      <p> Monday, September 18, 2023</p>
    
        
          <div><p>The FAA authorized Zipline International, Inc., to deliver commercial packages around Salt Lake City and Bentonville, Arkansas, using drones that fly beyond the operator’s visual line of sight. Read the approval letters <a href="https://www.regulations.gov/document/FAA-2020-0499-0033">here</a> and <a href="https://www.regulations.gov/document/FAA-2020-0529-0009">here</a>. Zipline is an FAA-certificated Part 135 operator and will use its Sparrow drone to release the payload via parachute. Data collected from these operations will inform the FAA’s ongoing policy and rulemaking activities.&nbsp;</p><p>
&nbsp;
The FAA is focused on developing standard rules to make BVLOS operations routine, scalable and economically viable. The agency chartered the <a href="https://www.faa.gov/regulations_policies/rulemaking/committees/documents/index.cfm/committee/browse/committeeID/837">Beyond Visual Line of Sight Aviation Rulemaking Committee</a> on June 9, 2021 to provide safety recommendations to the FAA. We are reviewing their <a href="https://www.faa.gov/regulations_policies/rulemaking/committees/documents/media/UAS_BVLOS_ARC_FINAL_REPORT_03102022.pdf">final report</a>.</p><p>
&nbsp;&nbsp;
The FAA’s long-term goal is to safely integrate drones into the National Airspace System rather than set aside separate airspace exclusively for drones. This approach is consistent with the <a href="https://www.congress.gov/bill/112th-congress/house-bill/658/text/pl">FAA Modernization and Reform Act of 2012</a> and the <a href="https://www.congress.gov/bill/114th-congress/house-bill/636/text">FAA Extension, Safety, and Security Act of 2016</a>. The 2016 Act directed the FAA, in conjunction with NASA, to continue developing a plan for <a href="https://www.faa.gov/uas/research_development/traffic_management">Unmanned Aircraft System Traffic Management (UTM)</a>, which will assist in integration efforts.</p><p>
&nbsp;
Learn more <a href="https://www.regulations.gov/document/FAA-2023-1256-0001">here</a> and <a href="https://www.faa.gov/newsroom/faa-seeks-public-input-drone-operations">here</a>.</p></div>
              
      
        <!--/PAGEWATCH-->

    
    

  </div>
</article>


                    <!-- Sub Content Region -->
                                                            <!--/PAGEWATCH-->
                  </section>

    </main>

     

  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Add extra stuff to a “standard” encoding? Sure, why not (194 pts)]]></title>
            <link>https://rachelbythebay.com/w/2023/09/19/badlib/</link>
            <guid>37580123</guid>
            <pubDate>Wed, 20 Sep 2023 03:38:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://rachelbythebay.com/w/2023/09/19/badlib/">https://rachelbythebay.com/w/2023/09/19/badlib/</a>, See on <a href="https://news.ycombinator.com/item?id=37580123">Hacker News</a></p>
Couldn't get https://rachelbythebay.com/w/2023/09/19/badlib/: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[100 Parking Tickets (2004) (138 pts)]]></title>
            <link>https://100parkingtickets.com/</link>
            <guid>37580113</guid>
            <pubDate>Wed, 20 Sep 2023 03:35:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://100parkingtickets.com/">https://100parkingtickets.com/</a>, See on <a href="https://news.ycombinator.com/item?id=37580113">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><!-- InstanceBeginEditable name="Main" -->
      <h2>The Story:</h2>
      <p>So I was new to California</p>
      <p>Along with a new convertible, I decide to get some personalized plates.</p>
      <p>I could not believe my luck, when I found out that my initials "NV" (ph. "envy") were available. Not that I think anyone would be envious of me in my Miata, but it seemed like a good idea at the time.</p>
      <p><img src="https://100parkingtickets.com/photos/NV.gif" width="328" height="166"></p>
      <p>But then, I started to get random parking tickets from Los Angeles. Where my car has never been. For every type of car. Except a Mazda. Which is what I drive. No problem, right? Just call them up, deal with a healthy level of skepticism when I tell them the ticket isn't mine...
        no really. I would ask them what make &amp; color the ticket is for. I would ask them what make &amp; color my car is. They would always be different. Even a highly skeptical city clerk can't argue with that.</p>
      <p>Then the notices of unpaid violations slowly start to come in from all over California. Because when the license plate is Not Visible, the charming traffic wardens enter "NV" as the license plate. Sometimes they would explain that it was a training issue and they would soon stop bugging me with
        tickets.</p>
      <p>Then the city of Oakland  has a computer upgrade. The first day I get five tickets. The next day... three. And they kept on sending them. For every type of car imaginable including BMW's and Porsches, every car imaginable, except for a white two door Mazda.</p>
      
      <p><img src="https://100parkingtickets.com/photos/oakland.jpg"></p>
      <p>Now I know what you are thinking, BMW's &amp; Porsches don’t park in Oakland.  I was surprised too. But more than that, I was tired of sitting on hold for twenty minutes, waiting to talk to a skeptical city employee. So I returned the custom plates to the DMV, and someone at Oakland told me that all fifty tickets would be put under administrative review.</p>
      <p>Problem solved? Not even. First, the DMV refused to issue me my registration, until I got a piece of paper saying I was not guilty. Then I received a notice that the Franchise Tax Board wanted to garnish my wages. Not with cilantro either. Then I get a notice stating that any tax refund I get will be going to the City of Oakland.</p>
      <p>That is when I started feeling a little irate.</p>
      <p>And a little wiser. I tried calling my local police department, to see if there was a bench warrant out for my arrest. The friendly officer told me that I would have to come to the office... in person. And I swear, she said this with what sounded like a straight face.</p>
      <p>As a last resort, I started to post the story on the internet. You never know. Someone might want a collection of over fifty parking violations from seven different counties for all different makes and models. The asking price was the total owed on all the tickets... $3000.</p>
      <p>
        The only thing that made me feel a little better, was that the lovely folks at Oakland told me someone driving a BMW had the license plates "NV". So if you see a BMW owner with the plates "NV", give him a wave. Tell him you work for the City of Oakland. For the traffic violations department. See if he goes green. You know, from envy.      </p>
      <p>NV</p>
      
      <!-- InstanceEndEditable --></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ruby 3.3's YJIT Runs Shopify's Production Code 15% Faster (146 pts)]]></title>
            <link>https://railsatscale.com/2023-09-18-ruby-3-3-s-yjit-runs-shopify-s-production-code-15-faster/</link>
            <guid>37579926</guid>
            <pubDate>Wed, 20 Sep 2023 02:57:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://railsatscale.com/2023-09-18-ruby-3-3-s-yjit-runs-shopify-s-production-code-15-faster/">https://railsatscale.com/2023-09-18-ruby-3-3-s-yjit-runs-shopify-s-production-code-15-faster/</a>, See on <a href="https://news.ycombinator.com/item?id=37579926">Hacker News</a></p>
<div id="readability-page-1" class="page"><div aria-label="Content">
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <h2 id="ruby-32-yjit-is-battle-tested">Ruby 3.2 YJIT is Battle-Tested</h2>

<p>Shopify deploys YJIT on business-critical services in production,
such as <a href="https://shopify.engineering/how-shopify-reduced-storefront-response-times-rewrite">Storefront Renderer</a>,
the software that powers all online storefronts on Shopify’s platform, and <a href="https://shopify.engineering/shopify-monolith">Shopify’s Monolith</a>.
As of the Ruby 3.2 release, YJIT sped up our Storefront Renderer by <a href="https://twitter.com/paracycle/status/1605706245955997697">10% on average</a>.</p>

<p>Storefront Renderer is a complex application. Your more reasonable-sized app might get better/worse results.
Here are some other YJIT performance results in production outside Shopify:</p>

<ul>
  <li>Discourse: <a href="https://blog.discourse.org/2023/05/running-ruby-3-2s-yjit-in-production-at-discourse/">15.8-19.6% speedup</a></li>
  <li>Lobsters: <a href="https://lobste.rs/s/m9ivcf/we_turned_lobste_rs_into_rails_benchmark#c_fkud5w">26% speedup</a></li>
  <li>CompanyCam: <a href="https://ruby.social/@mcphat/111075935007519631">20-40% speedup</a></li>
  <li>GMO Pepabo: <a href="https://shimoju.jp/2023/08/10/ruby-3-2-yjit-with-rails-6-1/">18% speedup</a> (in Japanese)</li>
  <li>Timee: <a href="https://tech.timee.co.jp/entry/2023/05/10/133000">10% speedup</a> (in Japanese)</li>
  <li>STORES: <a href="https://product.st.inc/entry/2023/05/31/130809">6.5-7.5% speedup</a> (in Japanese)</li>
  <li>MedPeer: <a href="https://tech.medpeer.co.jp/entry/2023/05/09/100000">2.8% speedup</a> (in Japanese)</li>
</ul>

<h2 id="performance-tips-for-production-deployments">Performance Tips for Production Deployments</h2>
<p>We sometimes hear people say YJIT doesn’t speed up their application or uses too much memory.
The following documentation covers some tips for tuning YJIT in such cases.</p>

<ul>
  <li><a href="https://github.com/ruby/ruby/blob/master/doc/yjit/yjit.md#performance-tips-for-production-deployments">Performance Tips for Production Deployments</a></li>
  <li><a href="https://github.com/ruby/ruby/blob/master/doc/yjit/yjit.md#saving-yjit-memory-usage">Saving YJIT Memory Usage</a></li>
</ul>

<p><a href="https://railsatscale.com/2023-06-05-monitoring-yjit-in-production/">Monitoring YJIT in Production</a>
might also help you get more insight.</p>

<h2 id="ruby-33-yjit-is-even-faster">Ruby 3.3 YJIT is Even Faster</h2>
<p><a href="https://www.ruby-lang.org/en/news/2023/09/14/ruby-3-3-0-preview2-released/">Ruby 3.3.0-preview2 has been released</a>
on Sep 14th, 2023. We compared the performance of Ruby 3.2 YJIT, Ruby 3.3-preview2 YJIT, and Ruby 3.3-preview2 interpreter
on the Storefront Renderer. It’s a large-scale service with the following properties:</p>

<ul>
  <li>Depends on over 220 Ruby gems</li>
  <li>Over 4.5 million e-commerce sites are built with Shopify (source: <a href="https://builtwith.com/">builtwith.com</a>)</li>
  <li>Capable of serving over 75 million requests per minute, 3TB/minute of traffic</li>
  <li>1.27 million requests per second</li>
  <li>Processed over 197B$ in transaction volume in 2022</li>
</ul>

<h2 id="ruby-33-yjit-is-13-faster-than-ruby-32-yjit">Ruby 3.3 YJIT is 13% faster than Ruby 3.2 YJIT</h2>

<p>We deployed Ruby 3.2.2 YJIT and Ruby 3.3.0-preview2 YJIT to different clusters that receive an equal amount of traffic.
We compared their response times in a 24-hour window on a weekday.</p>

<p><img src="https://railsatscale.com/2023-09-18-ruby-3-3-s-yjit-runs-shopify-s-production-code-15-faster/3.2-3.3-yjit.png" alt="Ruby 3.3 YJIT vs Ruby 3.2 YJIT"></p>

<p>The numbers and the graph show Ruby 3.3.0-preview2 YJIT’s average/p50/p90/p99 response time speedup ratio over
Ruby 3.2.2 YJIT’s. Higher is better for Ruby 3.3.0-preview2 YJIT.</p>

<p>This shows that Ruby 3.3.0-preview2 YJIT is 13% faster than Ruby 3.2.2 YJIT on average.
If you’re using Ruby 3.2 YJIT, upgrading Ruby to 3.3 should give you a 13% speedup.</p>

<h2 id="ruby-33-yjit-is-15-faster-than-the-ruby-33-interpreter">Ruby 3.3 YJIT is 15% faster than the Ruby 3.3 interpreter</h2>

<p>During the same 24-hour window, we also deployed Ruby 3.3.0-preview2 interpreter to another cluster.
We compared its performance against that of the cluster with Ruby 3.3.0-preview2 YJIT.</p>

<p><img src="https://railsatscale.com/2023-09-18-ruby-3-3-s-yjit-runs-shopify-s-production-code-15-faster/3.3-interp-yjit.png" alt="Ruby 3.3 YJIT vs Ruby 3.3 interpreter"></p>

<p>The numbers and the graph show Ruby 3.3.0-preview2 YJIT’s average/p50/p90/p99 response time speedup ratio over
Ruby 3.3.0-preview2 interpreter’s. Higher is better for Ruby 3.3.0-preview2 YJIT.</p>

<p>When you run Ruby 3.3 interpreter, just enabling YJIT will give you a 15% speedup.</p>

<h2 id="why-is-it-faster">Why is it faster?</h2>

<h3 id="new-register-allocator">New register allocator</h3>

<p>The CRuby interpreter writes and reads temporary values on memory.
Ruby 3.2 YJIT used to work in the same way for compatibility reasons,
but Ruby 3.3 YJIT is able to allocate registers to those operations.
In general, accessing CPU registers is much faster than communicating with memory,
so Ruby code runs faster with the optimization.</p>

<h3 id="more-code-now-gets-jit-compiled">More code now gets JIT compiled</h3>

<p>Ruby 3.3 YJIT supports compiling more kinds of Ruby code than Ruby 3.2 YJIT.
When a method has optional arguments, Ruby 3.2 YJIT compiles only one combination of parameter precenses,
but Ruby 3.3 YJIT handles multiple combinations.
Ruby 3.2 YJIT does not compile code that is executed after <code>break</code>, <code>next</code>, <code>redo</code>, <code>retry</code>, etc.,
but Ruby 3.3 YJIT does.
Ruby 3.2 YJIT gives up compiling a method call when it does not support the method call type,
but Ruby 3.3 YJIT falls back to an implementation that can handle anything.</p>

<p>In a nutshell, more code runs on JIT with Ruby 3.3 YJIT than Ruby 3.2 YJIT, so it’s faster.</p>

<h2 id="towards-the-ruby-330-release">Towards the Ruby 3.3.0 release</h2>

<h3 id="reducing-memory-overhead">Reducing memory overhead</h3>
<p>Since Ruby 3.3.0-preview2 YJIT generates more code than Ruby 3.2.2 YJIT, this can result in YJIT having a higher memory overlead.
We put a lot of effort into making metadata more space-efficient, but it still uses more memory than Ruby 3.2.2 YJIT.
We’re looking into skipping compilation of paths that are less frequently executed.</p>

<h3 id="optimizing-method-calls">Optimizing method calls</h3>
<p>Ruby’s method calls are complex. YJIT code spends a lot of time bookkeeping frames for method calls.
We’re working on making any method calls faster by packing frame metadata into a single pointer
and lazily materializing its fields when necessary. Hopefully, it will greatly speed up method calls
as well as reducing the code size.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Ruby 3.2 YJIT has optimized the production workloads of Shopify and other companies.
We encourage you to enable YJIT in production.
Once Ruby 3.3 is released, it should make your application even faster.</p>

<h2 id="references">References</h2>

<p><a href="https://github.com/ruby/ruby/blob/master/doc/yjit/yjit.md#command-line-options">This document</a> explains how to enable YJIT.
As a reminder, the following links may help you troubleshoot performance problems with YJIT.</p>

<ul>
  <li><a href="https://github.com/ruby/ruby/blob/master/doc/yjit/yjit.md#performance-tips-for-production-deployments">Performance Tips for Production Deployments</a></li>
  <li><a href="https://github.com/ruby/ruby/blob/master/doc/yjit/yjit.md#saving-yjit-memory-usage">Saving YJIT Memory Usage</a></li>
  <li><a href="https://railsatscale.com/2023-06-05-monitoring-yjit-in-production/">Monitoring YJIT in Production</a></li>
</ul>

  </div>
</article>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A simple web server written in Awk (159 pts)]]></title>
            <link>https://github.com/crossbowerbt/awk-webserver</link>
            <guid>37579595</guid>
            <pubDate>Wed, 20 Sep 2023 02:02:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/crossbowerbt/awk-webserver">https://github.com/crossbowerbt/awk-webserver</a>, See on <a href="https://news.ycombinator.com/item?id=37579595">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">Simple webserver written in gawk</h2>
<p dir="auto">A simple webserver written in GNU awk, that supports directory listing and download of files from the directory where it is launched.</p>
<p dir="auto">It is born as an experiment, to demonstrate the power of the awk language.</p>
<h2 tabindex="-1" dir="auto">Usage</h2>
<p dir="auto">The script must be executed through a TCP wrapper.</p>
<p dir="auto">I use this little shell script that requires socat:</p>
<div data-snippet-clipboard-copy-content="while [ 1 ]; do
	socat TCP-LISTEN:8888,reuseaddr EXEC:&quot;gawk -f webserver.awk&quot;
	sleep 1
done "><pre><code>while [ 1 ]; do
	socat TCP-LISTEN:8888,reuseaddr EXEC:"gawk -f webserver.awk"
	sleep 1
done 
</code></pre></div>
<p dir="auto">You can then connect to the local 8888 port with your browser. Enjoy!</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Shaving 40% Off Google’s B-Tree Implementation with Go Generics (2022) (103 pts)]]></title>
            <link>https://www.scylladb.com/2022/04/27/shaving-40-off-googles-b-tree-implementation-with-go-generics/</link>
            <guid>37578850</guid>
            <pubDate>Wed, 20 Sep 2023 00:13:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.scylladb.com/2022/04/27/shaving-40-off-googles-b-tree-implementation-with-go-generics/">https://www.scylladb.com/2022/04/27/shaving-40-off-googles-b-tree-implementation-with-go-generics/</a>, See on <a href="https://news.ycombinator.com/item?id=37578850">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                        <p>There are many reasons to be excited about generics in Go. In this blog post I’m going to show how, using the generics, we got a 40% performance gain in an already well optimized package, the <a href="https://github.com/google/btree" target="_blank" rel="noopener">Google B-Tree</a> implementation.</p>
<p>A <a href="https://en.wikipedia.org/wiki/B-tree" target="_blank" rel="noopener">B-Tree</a> is a kind of self-balancing tree. For the purpose of this blog post it’s sufficient to say that it is a collection. You can add, remove, get or iterate over its elements. The Google B-Tree is well optimized, measures are taken to make sure memory consumption is correct. There is a benchmark for every exported method. The benchmark results show that there are zero allocations in the B-Tree code for all operations but cloning. Probably it would be hard to further optimize using traditional techniques.</p>
<h2>ScyllaDB and the University of Warsaw</h2>
<p>We have had a longstanding relationship with the Computer Science department at the University of Warsaw. You may remember some of our original projects, including those integrating <a href="https://www.scylladb.com/2020/08/05/scylla-student-projects-part-i-parquet/" target="_blank" rel="noopener">Parquet</a>, an <a href="https://www.scylladb.com/2020/08/25/scylla-student-projects-part-ii-implementing-an-async-userspace-file-system/" target="_blank" rel="noopener">async userspace filesystem</a>, or a <a href="https://www.scylladb.com/2020/11/17/scylla-student-projects-part-iii-kafka-client-for-seastar-and-scylla/" target="_blank" rel="noopener">Kafka client for Seastar</a>. Or more recent ones like a system for <a href="https://www.scylladb.com/2021/09/07/linear-algebra-in-scylla/" target="_blank" rel="noopener">linear algebra</a> in ScyllaDB or a design for a new <a href="https://www.scylladb.com/2021/07/13/scylla-rust-driver-update-and-benchmarks/" target="_blank" rel="noopener">Rust driver</a>.</p>
<p>This work was also part of our ongoing partnership with the University of Warsaw.</p>
<h2>Making Faster B-Trees with Generics</h2>
<p>While working on a new Scylla Go Driver with students of University of Warsaw, we ported the B-tree code to <a href="https://github.com/Michal-Leszczynski/btree" target="_blank" rel="noopener">generics</a>. (If you’re not familiar with generics in Go, check out <a href="https://go.dev/doc/tutorial/generics" target="_blank" rel="noopener">this tutorial</a>.).</p>
<p>The initial result: the generics code is faster by 20 to 30 percent according to the Google benchmarks (<a href="https://github.com/google/btree/issues/41" target="_blank" rel="noopener">link to issue we opened</a>). Below a full benchmark comparison done with benchstat.</p>

<p>This is great but within those numbers there is a troubling detail. The zero allocations is not something that you would normally see given that the functions accept an interface as a parameter.</p>

<p>For the rest of the blog post we’ll focus on benchmarking the <code>ReplaceOrInsert</code> function responsible for ingesting data. Let’s consider a simplified benchmark.</p>

<p>The results show even greater improvement: 31% vs. 27%, and allocations drop from 1, in case of the interface based implementation, to 0 in the case of generics.</p>

<p>Let’s try to understand what happens here.</p>
<h2>The Additional Allocation</h2>
<p>The Google benchmarks operate on a B-tree of integers <a href="https://github.com/google/btree/blob/ac7cc57f11e692c57831c3d9bcffb4b7a649b738/btree.go#L885" target="_blank" rel="noopener">hidden by an Item interface</a>. They use pre-generated random data in a slice. When an Item is passed to the <code>ReplaceOrInsert</code> function the underlying integer is already on the heap, technically we are copying a pointer. This is not the case when a plain integer needs to be converted to an Item interface — the parameter values start “escaping to heap”.</p>
<p>Go has a feature of deciding if a variable you initialized should live in the function’s stack or in the heap. Traditionally the compiler was very “conservative” and when it saw a function like <code>func bind(v interface{})</code> anything you wanted to pass as <code>v</code> would have to go to heap first. This is referred to as variable escaping to the heap. Over the years the compiler has gotten smarter, and calls to local functions or functions in other packages in your project can be optimized, preventing the variables from escaping. You can check for yourself by running&nbsp; <code>go build -gcflags="-m" .</code> in a Go package.</p>
<p>In the below example Go can figure out that it’s safe to take a pointer to the main functions stack.</p>

<p>As you can see the compiler informs us that variables do not escape to heap.</p>

<p>By changing the ToString implementation to</p>

<p>we see that the variables and literal values do start escaping.</p>

<p>In practical examples, when calling a function that accepts an interface as a parameter, the value almost always escapes to heap. When this happens it not only slows down the function call by the allocation, but also increases the GC pressure. Why is this important? The generics approach enables a truly zero allocation API, with zero GC pressure added as we will learn in the remainder of this blog post.</p>
<h2>Why is it faster?</h2>
<p>The B-tree, being a tree, consists of nodes. Each node holds a list of items.</p>

<p>When the Item is a pre-generics plain old interface, the value it holds must live separately somewhere on the heap. The compiler is not able to tell what is the size of an Item. From the runtime perspective an interface value is an unsafe pointer to data (word), a pointer to its type definition (typ), a pointer to interface definition (ityp); see <a href="https://github.com/golang/go/blob/357c9141369361101345f3048a6b2b3e149299d5/src/reflect/value.go#L180" target="_blank" rel="noopener">definitions in the reflect package</a>. It’s easier to digest than the runtime package. In that case we have items as a slice of int pointers.</p>
<p>On the other hand, with generic interface</p>

<p>and a generic type definition</p>

<p>items are a slice of ints — this reduces the number of small heap objects by a factor of 32.</p>
<p>Enough of theory, let’s try to examine a concrete usage. For the purpose of this blog I wrote a test program that is a scaled up version of my benchmark code.</p>

<p>We are adding 100 million integers, and the degree of the B-tree (number of items in a node) is 1k. There are two versions of this program: one uses generics, the other plain old interface. The difference in code is minimal, it’s literally changing <code>btree.New(degree)</code> to <code>btree.New[btree.Int](degree)</code> in line 13. Let’s compare data gathered by running both versions under `<code>/usr/bin/time -l -p</code>`.</p>
<table>
<tbody>
<tr>
<td></td>
<td>generics</td>
<td>interface</td>
<td>delta</td>
</tr>
<tr>
<td>real</td>
<td>11.49</td>
<td>16.59</td>
<td>-30.74%</td>
</tr>
<tr>
<td><span><strong>user</strong></span></td>
<td>11.27</td>
<td>18.61</td>
<td><span><strong>-39.44%</strong></span></td>
</tr>
<tr>
<td><span><strong>sys</strong></span></td>
<td>0.24</td>
<td>0.6</td>
<td><span><strong>-60.00%</strong></span></td>
</tr>
<tr>
<td><strong>maximum resident set size</strong></td>
<td><span>2334212096</span></td>
<td><span>6306217984</span></td>
<td><span><strong>-62.99%</strong></span></td>
</tr>
<tr>
<td>average shared memory size</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>average unshared data size</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>average unshared stack size</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>page reclaims</td>
<td><span>142624</span></td>
<td><span>385306</span></td>
<td>-62.98%</td>
</tr>
<tr>
<td>page faults</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>swaps</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>block input operations</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>block output operations</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>messages sent</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>messages received</td>
<td>0</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td>signals received</td>
<td>600</td>
<td>843</td>
<td>-28.83%</td>
</tr>
<tr>
<td>voluntary context switches</td>
<td>25</td>
<td>48</td>
<td>-47.92%</td>
</tr>
<tr>
<td>involuntary context switches</td>
<td>1652</td>
<td>2943</td>
<td>-43.87%</td>
</tr>
<tr>
<td>instructions retired</td>
<td><span>204760684966</span></td>
<td><span>288827272312</span></td>
<td>-29.11%</td>
</tr>
<tr>
<td>cycles elapsed</td>
<td><span>37046278867</span></td>
<td><span>60503503105</span></td>
<td>-38.77%</td>
</tr>
<tr>
<td>peak memory footprint</td>
<td><span>2334151872</span></td>
<td><span>6308147904</span></td>
<td>-63.00%</td>
</tr>
<tr>
<td><span><strong>HeapObjects</strong></span></td>
<td><span>236884</span></td>
<td><span>50255826</span></td>
<td><span><strong>-99.53%</strong></span></td>
</tr>
<tr>
<td>HeapAlloc</td>
<td><span>2226292560</span></td>
<td><span>6043893088</span></td>
<td>-63.16%</td>
</tr>
</tbody>
</table>
<p>Here using generics solves a version of <em>N</em>+1 problem for slices of interfaces. Instead of one slice and <em>N</em> integers in heap we now can have just the slice of ints. The results are profound, the new code behaves better in every aspect. The wall time duration is down by 40%, context switches are down by 40%, system resources utilization is down by 60% — all thanks to a 99.53% reduction of small heap objects.</p>
<p>I’d like to conclude by taking a look at top CPU utilization.</p>
<p><code>go tool pprof -top cpu.pprof</code></p>
<table>
<tbody>
<tr>
<td>generics</td>
<td>interface</td>
</tr>
<tr>
<td><code><span>Type: cpu<br>
Time: Apr 5, 2022 at 10:23am (CEST)<br>
Duration: 11.61s, Total samples = 11.05s (95.18%)&lt;<br>
Showing nodes accounting for 10.77s, 97.47% of 11.05s total<br>
Dropped 52 nodes (cum &lt;= 0.06s)<br>
flat&nbsp; flat% &nbsp; sum%&nbsp; &nbsp; &nbsp; &nbsp; cum &nbsp; cum%<br>
4.96s 44.89% 44.89%&nbsp; &nbsp; &nbsp; 4.96s 44.89%&nbsp; runtime.madvise<br>
4.61s 41.72% 86.61%&nbsp; &nbsp; &nbsp; 4.61s 41.72%&nbsp; runtime.memclrNoHeapPointers<br>
0.64s&nbsp; 5.79% 92.40%&nbsp; &nbsp; &nbsp; 0.64s&nbsp; 5.79%&nbsp; github.com/google/btree.items[...].find.func1<br>
0.19s&nbsp; 1.72% 94.12%&nbsp; &nbsp; &nbsp; 0.83s&nbsp; 7.51%&nbsp; sort.Search<br>
0.08s&nbsp; 0.72% 94.84%&nbsp; &nbsp; &nbsp; 5.82s 52.67%&nbsp; github.com/google/btree..insert<br>
0.08s&nbsp; 0.72% 95.57%&nbsp; &nbsp; &nbsp; 0.08s&nbsp; 0.72%&nbsp; runtime.mmap<br>
0.07s&nbsp; 0.63% 96.20%&nbsp; &nbsp; &nbsp; 0.90s&nbsp; 8.14%&nbsp; github.com/google/btree.items[...].find<br>
0.05s&nbsp; 0.45% 96.65%&nbsp; &nbsp; &nbsp; 5.88s 53.21%&nbsp; github.com/google/btree..ReplaceOrInsert<br>
0.05s&nbsp; 0.45% 97.10%&nbsp; &nbsp; &nbsp; 4.19s 37.92%&nbsp; github.com/google/btree..insertAt (inline)<br>
0.04s&nbsp; 0.36% 97.47%&nbsp; &nbsp; &nbsp; 0.61s&nbsp; 5.52%&nbsp; github.com/google/btree..maybeSplitChild<br>
0 &nbsp; &nbsp; 0% 97.47%&nbsp; &nbsp; &nbsp; 0.57s&nbsp; 5.16%&nbsp; github.com/google/btree..split</span></code></td>
<td><code><span>Type: cpu<br>
Time: Apr 5, 2022 at 10:31am (CEST)<br>
Duration: 16.69s, Total samples = 18.65s (111.74%)<br>
Showing nodes accounting for 17.94s, 96.19% of 18.65s total<br>
Dropped 75 nodes (cum &lt;= 0.09s)<br>
flat&nbsp; flat% &nbsp; sum%&nbsp; &nbsp; &nbsp; &nbsp; cum &nbsp; cum%<br>
9.53s 51.10% 51.10%&nbsp; &nbsp; &nbsp; 9.53s 51.10%&nbsp; runtime.madvise<br>
2.62s 14.05% 65.15%&nbsp; &nbsp; &nbsp; 2.62s 14.05%&nbsp; runtime.memclrNoHeapPointers<br>
1.09s&nbsp; 5.84% 70.99%&nbsp; &nbsp; &nbsp; 1.31s&nbsp; 7.02%&nbsp; github.com/google/btree.items.find.func1<br>
0.93s&nbsp; 4.99% 75.98%&nbsp; &nbsp; &nbsp; 2.73s 14.64%&nbsp; runtime.scanobject<br>
0.67s&nbsp; 3.59% 79.57%&nbsp; &nbsp; &nbsp; 0.67s&nbsp; 3.59%&nbsp; runtime.heapBits.bits (inline)<br>
0.44s&nbsp; 2.36% 81.93%&nbsp; &nbsp; &nbsp; 1.75s&nbsp; 9.38%&nbsp; sort.Search<br>
0.30s&nbsp; 1.61% 83.54%&nbsp; &nbsp; &nbsp; 0.30s&nbsp; 1.61%&nbsp; runtime.markBits.isMarked (inline)<br>
0.27s&nbsp; 1.45% 84.99%&nbsp; &nbsp; &nbsp; 2.03s 10.88%&nbsp; github.com/google/btree.items.find<br>
0.27s&nbsp; 1.45% 86.43%&nbsp; &nbsp; &nbsp; 3.35s 17.96%&nbsp; runtime.mallocgc<br>
0.26s&nbsp; 1.39% 87.83%&nbsp; &nbsp; &nbsp; 0.26s&nbsp; 1.39%&nbsp; runtime.(*mspan).refillAllocCache<br>
0.25s&nbsp; 1.34% 89.17%&nbsp; &nbsp; &nbsp; 0.60s&nbsp; 3.22%&nbsp; runtime.greyobject<br>
0.24s&nbsp; 1.29% 90.46%&nbsp; &nbsp; &nbsp; 0.26s&nbsp; 1.39%&nbsp; runtime.heapBits.next (inline)<br>
0.23s&nbsp; 1.23% 91.69%&nbsp; &nbsp; &nbsp; 0.23s&nbsp; 1.23%&nbsp; github.com/google/btree.Int.Less<br>
0.20s&nbsp; 1.07% 92.76%&nbsp; &nbsp; &nbsp; 0.20s&nbsp; 1.07%&nbsp; runtime.memmove<br>
0.20s&nbsp; 1.07% 93.83%&nbsp; &nbsp; &nbsp; 0.20s&nbsp; 1.07%&nbsp; runtime.mmap<br>
0.15s &nbsp; 0.8% 94.64%&nbsp; &nbsp; &nbsp; 2.47s 13.24%&nbsp; github.com/google/btree.(*items).insertAt (inline)<br>
0.12s&nbsp; 0.64% 95.28%&nbsp; &nbsp; &nbsp; 0.27s&nbsp; 1.45%&nbsp; runtime.findObject<br>
0.08s&nbsp; 0.43% 95.71%&nbsp; &nbsp; &nbsp; 5.44s 29.17%&nbsp; github.com/google/btree.(*node).insert<br>
0.03s&nbsp; 0.16% 95.87%&nbsp; &nbsp; &nbsp; 5.48s 29.38%&nbsp; github.com/google/btree.(*BTree).ReplaceOrInsert<br>
0.02s&nbsp; 0.11% 95.98%&nbsp; &nbsp; &nbsp; 0.84s&nbsp; 4.50%&nbsp; github.com/google/btree.(*node).maybeSplitChild<br>
0.02s&nbsp; 0.11% 96.09%&nbsp; &nbsp; &nbsp; 0.45s&nbsp; 2.41%&nbsp; runtime.convT64<br>
0.01s 0.054% 96.14%&nbsp; &nbsp; &nbsp; 9.83s 52.71%&nbsp; runtime.(*mheap).allocSpan<br>
0.01s 0.054% 96.19%&nbsp; &nbsp; &nbsp; 2.82s 15.12%&nbsp; runtime.gcDrain<br>
0 &nbsp; &nbsp; 0% 96.19%&nbsp; &nbsp; &nbsp; 0.78s&nbsp; 4.18%&nbsp; github.com/google/btree.(*node).split</span></code></td>
</tr>
</tbody>
</table>
<p>You can literally see how messy the interface profile is, how gc starts kicking in killing it… It’s even more evident when we focus on gc.</p>
<p><code>go tool pprof -focus gc -top cpu.pprof</code></p>
<table>
<tbody>
<tr>
<td>generics</td>
<td>interface</td>
</tr>
<tr>
<td><code><span>Type: cpu<br>
Time: Apr 5, 2022 at 10:23am (CEST)<br>
Duration: 11.61s, Total samples = 11.05s (95.18%)<br>
Active filters:<br>
focus=gc<br>
Showing nodes accounting for 0.29s, 2.62% of 11.05s total<br>
flat&nbsp; flat% &nbsp; sum%&nbsp; &nbsp; &nbsp; &nbsp; cum &nbsp; cum%<br>
0.19s&nbsp; 1.72%&nbsp; 1.72%&nbsp; &nbsp; &nbsp; 0.19s&nbsp; 1.72%&nbsp; runtime.memclrNoHeapPointers<br>
0.02s&nbsp; 0.18%&nbsp; 1.90%&nbsp; &nbsp; &nbsp; 0.02s&nbsp; 0.18%&nbsp; runtime.(*mspan).refillAllocCache<br>
0.01s&nbsp; 0.09%&nbsp; 1.99%&nbsp; &nbsp; &nbsp; 0.02s&nbsp; 0.18%&nbsp; runtime.(*fixalloc).alloc<br>
0.01s&nbsp; 0.09%&nbsp; 2.08%&nbsp; &nbsp; &nbsp; 0.01s&nbsp; 0.09%&nbsp; runtime.(*mheap).allocNeedsZero<br>
0.01s&nbsp; 0.09%&nbsp; 2.17%&nbsp; &nbsp; &nbsp; 0.01s&nbsp; 0.09%&nbsp; runtime.(*mspan).init (inline)<br>
0.01s&nbsp; 0.09%&nbsp; 2.26%&nbsp; &nbsp; &nbsp; 0.01s&nbsp; 0.09%&nbsp; runtime.heapBits.bits (inline)<br>
0.01s&nbsp; 0.09%&nbsp; 2.35%&nbsp; &nbsp; &nbsp; 0.01s&nbsp; 0.09%&nbsp; runtime.markrootSpans<br>
0.01s&nbsp; 0.09%&nbsp; 2.44%&nbsp; &nbsp; &nbsp; 0.01s&nbsp; 0.09%&nbsp; runtime.recordspan<br>
0.01s&nbsp; 0.09%&nbsp; 2.53%&nbsp; &nbsp; &nbsp; 0.02s&nbsp; 0.18%&nbsp; runtime.scanobject<br>
0.01s&nbsp; 0.09%&nbsp; 2.62%&nbsp; &nbsp; &nbsp; 0.01s&nbsp; 0.09%&nbsp; runtime.stkbucket</span></code></td>
<td><code><span>Type: cpu<br>
Time: Apr 5, 2022 at 10:31am (CEST)<br>
Duration: 16.69s, Total samples = 18.65s (111.74%)<br>
Active filters:<br>
focus=gc<br>
Showing nodes accounting for 6.06s, 32.49% of 18.65s total<br>
Dropped 27 nodes (cum &lt;= 0.09s)<br>
flat&nbsp; flat% &nbsp; sum%&nbsp; &nbsp; &nbsp; &nbsp; cum &nbsp; cum%<br>
2.62s 14.05% 14.05%&nbsp; &nbsp; &nbsp; 2.62s 14.05%&nbsp; runtime.memclrNoHeapPointers<br>
0.93s&nbsp; 4.99% 19.03%&nbsp; &nbsp; &nbsp; 2.73s 14.64%&nbsp; runtime.scanobject<br>
0.67s&nbsp; 3.59% 22.63%&nbsp; &nbsp; &nbsp; 0.67s&nbsp; 3.59%&nbsp; runtime.heapBits.bits (inline)<br>
0.30s&nbsp; 1.61% 24.24%&nbsp; &nbsp; &nbsp; 0.30s&nbsp; 1.61%&nbsp; runtime.markBits.isMarked (inline)<br>
0.27s&nbsp; 1.45% 25.68%&nbsp; &nbsp; &nbsp; 3.35s 17.96%&nbsp; runtime.mallocgc<br>
0.26s&nbsp; 1.39% 27.08%&nbsp; &nbsp; &nbsp; 0.26s&nbsp; 1.39%&nbsp; runtime.(*mspan).refillAllocCache<br>
0.25s&nbsp; 1.34% 28.42%&nbsp; &nbsp; &nbsp; 0.60s&nbsp; 3.22%&nbsp; runtime.greyobject<br>
0.24s&nbsp; 1.29% 29.71%&nbsp; &nbsp; &nbsp; 0.26s&nbsp; 1.39%&nbsp; runtime.heapBits.next (inline)<br>
0.12s&nbsp; 0.64% 30.35%&nbsp; &nbsp; &nbsp; 0.27s&nbsp; 1.45%&nbsp; runtime.findObject<br>
0.08s&nbsp; 0.43% 30.78%&nbsp; &nbsp; &nbsp; 0.08s&nbsp; 0.43%&nbsp; runtime.spanOf (inline)<br>
0.06s&nbsp; 0.32% 31.10%&nbsp; &nbsp; &nbsp; 0.06s&nbsp; 0.32%&nbsp; runtime.(*mspan).base (inline)<br>
0.06s&nbsp; 0.32% 31.42%&nbsp; &nbsp; &nbsp; 0.06s&nbsp; 0.32%&nbsp; runtime.(*mspan).init (inline)<br>
0.06s&nbsp; 0.32% 31.74%&nbsp; &nbsp; &nbsp; 0.06s&nbsp; 0.32%&nbsp; runtime.heapBitsSetType<br>
0.04s&nbsp; 0.21% 31.96%&nbsp; &nbsp; &nbsp; 0.04s&nbsp; 0.21%&nbsp; runtime.(*mSpanStateBox).get (inline)<br>
0.04s&nbsp; 0.21% 32.17%&nbsp; &nbsp; &nbsp; 0.04s&nbsp; 0.21%&nbsp; runtime.pthread_kill<br>
0.04s&nbsp; 0.21% 32.39%&nbsp; &nbsp; &nbsp; 0.04s&nbsp; 0.21%&nbsp; runtime.usleep<br>
0.01s 0.054% 32.44%&nbsp; &nbsp; &nbsp; 0.10s&nbsp; 0.54%&nbsp; runtime.(*mheap).allocSpan<br>
0.01s 0.054% 32.49%&nbsp; &nbsp; &nbsp; 2.82s 15.12%&nbsp; runtime.gcDrain</span></code></td>
</tr>
</tbody>
</table>
<p>The generic version spent <strong>0.29s</strong> (<strong>2.62%</strong>) in GC while the interface version spent <strong>6.06s</strong> accounting for, hold your breath, <em><strong>32.49% of the total time!</strong></em></p>
<p><a href="https://www.scylladb.com/wp-content/uploads/image2-9.png"><img decoding="async" src="https://www.scylladb.com/wp-content/uploads/image2-9.png" alt="" width="800" height="242" srcset="https://www.scylladb.com/wp-content/uploads/image2-9.png 1999w, https://www.scylladb.com/wp-content/uploads/image2-9-300x91.png 300w, https://www.scylladb.com/wp-content/uploads/image2-9-1100x332.png 1100w, https://www.scylladb.com/wp-content/uploads/image2-9-768x232.png 768w, https://www.scylladb.com/wp-content/uploads/image2-9-1536x464.png 1536w" sizes="(max-width: 800px) 100vw, 800px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='800'%20height='242'%20viewBox='0%200%20800%20242'%3E%3C/svg%3E" data-src="https://www.scylladb.com/wp-content/uploads/image2-9.png" data-srcset="https://www.scylladb.com/wp-content/uploads/image2-9.png 1999w, https://www.scylladb.com/wp-content/uploads/image2-9-300x91.png 300w, https://www.scylladb.com/wp-content/uploads/image2-9-1100x332.png 1100w, https://www.scylladb.com/wp-content/uploads/image2-9-768x232.png 768w, https://www.scylladb.com/wp-content/uploads/image2-9-1536x464.png 1536w"></a><em>Generics: CPU profile flame focused on GC related function</em></p>

<p><a href="https://www.scylladb.com/wp-content/uploads/image3-5.png"><img decoding="async" src="https://www.scylladb.com/wp-content/uploads/image3-5.png" alt="" width="800" height="263" srcset="https://www.scylladb.com/wp-content/uploads/image3-5.png 1999w, https://www.scylladb.com/wp-content/uploads/image3-5-300x99.png 300w, https://www.scylladb.com/wp-content/uploads/image3-5-1100x362.png 1100w, https://www.scylladb.com/wp-content/uploads/image3-5-768x253.png 768w, https://www.scylladb.com/wp-content/uploads/image3-5-1536x506.png 1536w" sizes="(max-width: 800px) 100vw, 800px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='800'%20height='263'%20viewBox='0%200%20800%20263'%3E%3C/svg%3E" data-src="https://www.scylladb.com/wp-content/uploads/image3-5.png" data-srcset="https://www.scylladb.com/wp-content/uploads/image3-5.png 1999w, https://www.scylladb.com/wp-content/uploads/image3-5-300x99.png 300w, https://www.scylladb.com/wp-content/uploads/image3-5-1100x362.png 1100w, https://www.scylladb.com/wp-content/uploads/image3-5-768x253.png 768w, https://www.scylladb.com/wp-content/uploads/image3-5-1536x506.png 1536w"></a><em>Interface: CPU profile flame focused on GC related functions</em></p>
<h2>Conclusion</h2>
<p>By shifting the implementation from one using interfaces, to one using generics, we were able to significantly improve performance, minimize garbage collection time, and minimize CPU and other resource utilization, such as heap size. Particularly with heap size, we were able to reduce HeapObjects by <strong>99.53%</strong>.</p>
<p>The future of Go generics is bright especially in the domain of slices.</p>

<p><a href="https://resources.scylladb.com/scylladb-engineering" target="_blank" rel="noopener">EXPLORE MORE SCYLLADB ENGINEERING CONTENT</a></p>
<h2>Want to be a ScyllaDB Monster?</h2>
<p>We’re definitely proud of the work we do with the students at the University of Warsaw. Yet ScyllaDB is a growing company with a talented workforce drawn from all over the world. If you enjoy writing high performance generic Go code, <a href="https://www.scylladb.com/company/careers/co/engineering/B4.424/back-end-golang-team-leader/all/" target="_blank" rel="noopener">come join us</a>. Or if you specialize in other languages or talents, check out our full list of careers at ScyllaDB:</p>
<p><a href="https://www.scylladb.com/company/careers/" target="_blank" rel="noopener">CAREERS AT SCYLLADB</a></p>



                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A small community of unofficial Apple technicians in Cuba (151 pts)]]></title>
            <link>https://restofworld.org/2023/underground-apple-techs-cuba/</link>
            <guid>37577354</guid>
            <pubDate>Tue, 19 Sep 2023 21:52:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://restofworld.org/2023/underground-apple-techs-cuba/">https://restofworld.org/2023/underground-apple-techs-cuba/</a>, See on <a href="https://news.ycombinator.com/item?id=37577354">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<!-- Article Start -->
				
<p>Months after Ángel García Padrón fixed a German journalist’s MacBook Pro in his small Havana repair shop, she sent him an email. García Padrón had mended her waterlogged laptop after her home in Cuba flooded, but when the journalist took it to an official Apple Store in Berlin, the authorized repair person had expressed disbelief, saying there was no trace of any water damage at all. “Then my Cuban repairman must be a magician,” she recounted telling the Apple worker. García Padrón is used to conjuring these sorts of tricks on a daily basis — the skills required to deal with Apple products in Cuba require a special sort of magic.</p>



<p>Even though prohibition limiting the exportation, re-exportation, sale, and supply of Apple products to Cuba was <a href="https://www.bis.doc.gov/index.php/documents/pdfs/2796-20210811-fact-sheet-supporting-the-cuban-people-s-right-to-seek-receive-and-impart-information-through-safe-and-secure-access-to-the-internet/file">eased in 2015</a>, getting a hold of, operating, and maintaining them can still be a challenge. This is in part because basic replacement parts are difficult to import, since they cannot be purchased directly from Apple. It’s not just hardware, either: Downloading apps or software updates is tricky because Cuban IP addresses are blocked. And setting up a new Apple ID with two-factor verification requires a phone number from outside Cuba.</p>



<p>García Padrón is part of an exclusive circle of Apple enthusiasts who are defying Cuba’s constraints to create profitable repair businesses. In little more than a decade, these Cuban Apple technicians have evolved from casual tinkerers to a small yet thriving community of celebrity repairers, respected by locals and foreigners alike.</p>



<p>The absence of official Apple stores and product resellers in Cuba has fostered a community-driven ecosystem that relies on unofficial suppliers and a transnational network of individuals who can travel abroad to buy hardware replacement parts. Technicians told <em>Rest of World</em> there are only a handful of Apple repair shops in Cuba, mostly clustered in Havana; it’s difficult to pinpoint the exact number as there are no official statistics.</p>



<p>Orlando Gutiérrez is one Cuban trailblazer who opened Meca Móvil, his own iPhone repair shop in Havana’s Vedado neighborhood. Finding an Android repairperson, he told <em>Rest of World</em>, is easy enough. “You might even find a few on a single block,” he said. “But a Mac technician is the holy grail.”</p>



<p>From the moment Meca Móvil officially opened its doors in 2011, Gutiérrez began to service the phones of Cuba’s elite creative class and local celebrities — the type of people who had the means to travel abroad and buy an Apple device back then. One of his loyal customers was the reggaeton singer Yosdani Jacob Carmenates, or Jacob Forever, known for his chart-topping track <em>La Gozadera</em>. Gutiérrez said the singer bought an iPhone during a visit to Miami, but then found that he was completely unable to use it upon his return to Havana. He couldn’t install apps or update his phone’s software — until he visited Meca Móvil.&nbsp;</p>



<p>These cases are the easiest to fix, said Gutiérrez. The first step is to install a virtual private network (VPN) to disguise the device’s presence in Cuba. For VIP customers like Jacob Forever, Meca Móvil’s Apple troubleshooters would also install a bundle of commonly used apps. Back when he first started out, before 3G connectivity was widely available, Gutiérrez vividly remembers clients asking for apps like the offline version of Wikipedia (which he described as “Cuban Google”). Though times have changed — clients now ask for Duolingo, online banking app Banca Remota, or streaming platforms like Netflix — this service remains much the same. Though Meca Móvil shut down in 2015, Gutiérrez is now an <a href="https://www.youtube.com/@CubaGeek">Apple-specialized YouTuber</a>.</p>



<p>This arrangement proved particularly valuable during a time when <a href="https://restofworld.org/2020/the-life-and-death-of-snet-havanas-alternative-internet/">public internet access points in Cuba were scarce</a> and unaffordable for most people. Some Apple technicians discovered a workaround by securing state jobs that guaranteed internet connectivity, allowing them to regularly download apps and software they would later install in customers’ devices. Despite the Cuban peso’s devaluation over the past several years, the cost of installing an app package has consistently stayed within the range of $1–$5.&nbsp;</p>



<p>Now, as Cubans have gained <a href="https://restofworld.org/2023/cuba-e-commerce-boom/">greater access to tech from abroad</a>, services like creating Apple IDs and removing carrier locks on iPhones are still in demand — for which local technicians have developed their own creative strategies. To create an Apple ID, without which many of the phone’s functions won’t work, repair people must provide a foreign phone number to pass the two-factor authentication process. To accomplish this, they use free websites like TextNow, which offer users unlimited SMS messages and calls from outside of Cuba.</p>



<figure><blockquote><p>“There’s a magic in fixing what others would have otherwise discarded.”</p></blockquote></figure>



<p>Many Cubans will often ask repair people like García Padrón to install Windows on their Apple laptops. While MacBooks have become a status symbol across Havana’s universities and creative industries, many still prefer the Windows operating system as it’s easier to use in Cuba.&nbsp;</p>



<p>Users with iPhones from U.S. cellphone carriers like AT&amp;T, Verizon, or T-Mobile need a technician to remove the lock tying the device to its carrier so it can be used with a Cuban SIM card. Technicians also offer recurring services, such as periodically updating devices, which allows them to develop a sustainable business model and loyal customer base.</p>



<p>These Apple repair shops thrived after 2011, when an economic reform authorized <a href="https://www.reuters.com/article/latinoamerica-cuba-reforma-trabajo-idLTASIE7060I020110107">75,000 licenses</a> for entrepreneurs to establish small businesses, ranging from rental homes to electronic repair. However, while the licenses granted legality to the technicians’ economic activity, limitations persist regarding their capacity to import equipment and replacement parts from abroad.</p>



<p>In April, <a href="https://www.facebook.com/michel.alvarezmorales/posts/10228678629012525?ref=embed_post">Michel Álvarez Morales expressed his frustration on Facebook</a> after a Hanchen LCD screen separator machine — commonly used to repair smartphones — was confiscated by Cuban Customs because the technician did not have an import permit. Technicians responded to the post, complaining<strong> </strong>about the difficulties they face in procuring simple tools like screwdrivers, microscopes, or welding machines.&nbsp;</p>



<p>During the pandemic, when there was a limited number of flights to Cuba, 23-year-old Chris Gámez Ruiz needed to fix his MacBook Air’s keyboard. The Havana resident had purchased the laptop via Facebook for about 12,000 Cuban pesos (around $100 at the time). While he wasn’t drawn to the laptop’s design, he bought it as a “status symbol,” he told <em>Rest of World</em>, despite the fact that its keyboard was already broken when he bought it.</p>



<p>Gámez Ruiz hired one of Cuba’s most sought-after MacBook technicians: Raiko Israel Pupo Hondal, the founder of Railab, an Apple repair shop in the Reparto Kohly neighborhood of Havana. A year after graduating with a degree in telecommunications, Pupo Hondal began working at a laptop repair shop, where he discovered the unique satisfaction of tackling challenging Mac-related issues that left other technicians stumped.&nbsp;</p>



<p>Pupo Hondal first tried to order a replacement keyboard from abroad, but was unsuccessful. He then decided to replace it with another old keyboard that “only” had four broken keys. Gámez Ruiz was happy enough with the repair and paid Pupo Hondal with a broken iMac. After all its useful pieces were extracted, the iMac was displayed as a decorative piece in Railab, alongside a collection of other old and gutted Mac computers that have been recycled over a span of six years.&nbsp;</p>



<p>“We Cubans are used to doing more with less,” Pupo Hondal told <em>Rest of World.</em> “Each Mac we successfully fix is a Mac we rescue from being discarded as waste — and even those we can’t fix, find new purpose in saving others. There’s a magic in fixing what others would have otherwise discarded.”</p>
				<!-- Article End -->
							</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Can’t send email more than 500 miles (2002) (986 pts)]]></title>
            <link>https://web.mit.edu/jemorris/humor/500-miles</link>
            <guid>37576633</guid>
            <pubDate>Tue, 19 Sep 2023 21:05:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://web.mit.edu/jemorris/humor/500-miles">https://web.mit.edu/jemorris/humor/500-miles</a>, See on <a href="https://news.ycombinator.com/item?id=37576633">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Circles do not exist (216 pts)]]></title>
            <link>https://nibblestew.blogspot.com/2023/09/circles-do-not-exist.html</link>
            <guid>37575377</guid>
            <pubDate>Tue, 19 Sep 2023 19:44:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nibblestew.blogspot.com/2023/09/circles-do-not-exist.html">https://nibblestew.blogspot.com/2023/09/circles-do-not-exist.html</a>, See on <a href="https://news.ycombinator.com/item?id=37575377">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="post-body-2030671212258670084" itemprop="description articleBody">
<p>Many logos, drawings and other graphical designs have the following shape in it. What is this shape?</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEirw6WF631CmHkv7yX15C3MF1b0YEFcHzr5ke9rgHDDV-uf7ZTmg1GL5tkjWUkmEjUK4OsqYAIyEBW7LJVRiMGmdDsNLN9ISYLkAgTqtAj0eC1pn5BF92sI3fQ8DQznCUFqx_qHyCCfH7MmnKOu920az663tzYZW0rz_WPSXlTqEmbhNRijddjOjcQUpIo/s360/circle.png"><img data-original-height="360" data-original-width="360" height="320" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEirw6WF631CmHkv7yX15C3MF1b0YEFcHzr5ke9rgHDDV-uf7ZTmg1GL5tkjWUkmEjUK4OsqYAIyEBW7LJVRiMGmdDsNLN9ISYLkAgTqtAj0eC1pn5BF92sI3fQ8DQznCUFqx_qHyCCfH7MmnKOu920az663tzYZW0rz_WPSXlTqEmbhNRijddjOjcQUpIo/s320/circle.png" width="320"></a></p><p>If you thought: "Ah-ha! I'm smart and read the title of this blog post so I know that this is most definitely not a circle."</p><p>Well it is. Specifically it is a raster image of a circle that I created with the Gimp just for this use.</p><p>However almost every "circle" you can see in printed media (and most purely digital ones) are not, in fact, circles. Why is this?</p><p>Since roughly the mid 80s all "high quality" print jobs have been done either in PostScript or, nowadays almost exclusively, in PDF. They use the same basic drawing model, which does not have a primitive for circles (or circle arcs). The only primitives they have are straight line segments, rectangles and Bézier curves. None of these can be used to express a circle accurately. You can only do an approximation of a circle but it is always slightly eccentric. The only way to create a proper circle is to have a raster image like the one above.</p><h2>Does this matter in the real world?</h2><p>For printing probably not. Almost nobody can tell the difference between a real circle and one that has been approximated with a Bézier curve with just four points. Furthermore, the human vision system is a bit weird and perfect circles look vertically elongated. You have to make them non-circular for people to consider them properly circular.</p><p>But suppose you want to use one of these things:</p><p><a href="https://api.hel.fi/respa/resource_image/797?dim=700x420"><img data-original-height="420" data-original-width="700" height="192" src="https://api.hel.fi/respa/resource_image/797?dim=700x420" width="320"></a></p><p>This is a laser cutter that takes its "print jobs" as a PDF file and uses its vector drawing commands to drive the cutting head. This means that it is impossible to use it to print a wheel. You'd need to attach the output to a lathe and sand it down to be round so it actually functions as a wheel rather than as a vibration source.</p><p>Again one might ask whether this has any practical impact. For this case, again, probably not. But did you know that one of the cases PDF is being considered (and, based on Internet rumors, is already being used) is as an interchange format for CAD drawings? Now it suddenly starts mattering. If you have any component where getting a really accurate circle shape is vital (like pistons and their holes), suddenly all your components are slightly misshaped. Which would not be fun.</p><h2>Extra bonus information</h2><p>Even though it is impossible to construct a path that is perfectly circular, PDF does provide a way to draw a filled circle. Here is the relevant snippet from the PDF 2.0 spec, subsection 8.5.3.2:</p><blockquote><p>If a subpath is degenerate (consists of a single-point closed path or of two or more points at the same coordinates), the S operator shall paint it only if round line caps have been specified, producing a filled circle centred at the single point.</p></blockquote><p>Who is willing to put money on the line that every PDF rendering implementation actually uses circles rather than doing the simple thing of approximating it with Béziers?</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Simple Open-Source Java Virtual Machine in C (101 pts)]]></title>
            <link>https://github.com/phillbush/jvm</link>
            <guid>37575227</guid>
            <pubDate>Tue, 19 Sep 2023 19:36:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/phillbush/jvm">https://github.com/phillbush/jvm</a>, See on <a href="https://news.ycombinator.com/item?id=37575227">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content"><pre>                                  jvm

This is the implementation of a simple Java Virtual Machine.  This is
the final project of the first semester of 2021 of the System Software
course of the Computer Science department of the University of Brasilia.

The following tools are implemented:
• javap(1): Disassembles one or more class files.
• java(1):  Launches a Java application.


§ Files

• util.[ch]:    miscellaneous routines
• class.[ch]:   routines and definitions related to class structure
• native.[ch]:  routines and definitions related to native code
• memory.[ch]:  routines and definitions related to JRE memory
• file.[ch]:    routines to read and free .class files
• javap.c:      .class file disassembler
• java.c:       .class file interpreter
• tests/*:      collection of simple .java files for testing the jvm


§ Running

To build the jvm, run the following command.  This will create the
executable file ./java for the jvm.

	make java

To build the disassembler, run the following command.  This will create
the executable file ./javap for the disassembler.

	make javap

To test the disassembler, run make on one of the test files with its
suffix replaced with "p".  For example, to test the disassembler on
the test class tests/HelloWorld.class, run the following command.

	make tests/HelloWorld.p

To test the disassembler on all test classes, run the following command.

	make testp

To test the jvm, run make on one of the test files with its suffix
replaced with "j".  For example, to test the jvm on the test class
tests/HelloWorld.class, run the following command.

	make tests/HelloWorld.j

To test the jvm on all test classes, run the following command.

	make testj


§ See Also

The Java® Virtual Machine Specification: Java SE 8Edition,
by Tim Lindholm, Frank Yellin, Gilad Bracha, Alex Buckley,
Addison-Wesley, 2014.
ISBN: 978-0-13-390590-8.
<a href="https://docs.oracle.com/javase/specs/jvms/se8/html/" rel="nofollow">https://docs.oracle.com/javase/specs/jvms/se8/html/</a>
</pre></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fixing for loops in Go 1.22 (542 pts)]]></title>
            <link>https://go.dev/blog/loopvar-preview</link>
            <guid>37575204</guid>
            <pubDate>Tue, 19 Sep 2023 19:34:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://go.dev/blog/loopvar-preview">https://go.dev/blog/loopvar-preview</a>, See on <a href="https://news.ycombinator.com/item?id=37575204">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-slug="/blog/loopvar-preview">
    
    <h2><a href="https://go.dev/blog/">The Go Blog</a></h2>
    

    
      
      
      
      <p>Go 1.21 includes a preview of a change to <code>for</code> loop scoping
that we plan to ship in Go 1.22,
removing one the most common Go mistakes.</p>
<h2 id="the-problem">The Problem</h2>
<p>If you’ve written any amount of Go code, you’ve probably made the mistake
of keeping a reference to a loop variable past the end of its iteration,
at which point it takes on a new value that you didn’t want.
For example, consider this program:</p>
<pre><code>func main() {
    done := make(chan bool)

    values := []string{"a", "b", "c"}
    for _, v := range values {
        go func() {
            fmt.Println(v)
            done &lt;- true
        }()
    }

    // wait for all goroutines to complete before exiting
    for _ = range values {
        &lt;-done
    }
}
</code></pre>
<p>The three created goroutines are all printing the same variable <code>v</code>,
so they usually print “c”, “c”, “c”, instead of printing “a”, “b”, and “c” in some order.</p>
<p>The <a href="https://go.dev/doc/faq#closures_and_goroutines" rel="noreferrer" target="_blank">Go FAQ entry “What happens with closures running as goroutines?”</a>,
gives this example and remarks
“Some confusion may arise when using closures with concurrency.”</p>
<p>Although concurrency is often involved, it need not be.
This example has the same problem but no goroutines:</p>
<pre><code>func main() {
    var prints []func()
    for i := 1; i &lt;= 3; i++ {
        prints = append(prints, func() { fmt.Println(i) })
    }
    for _, print := range prints {
        print()
    }
}
</code></pre>
<p>This kind of mistake has caused production problems at many companies,
including a
<a href="https://go.googlesource.com/proposal/+/master/design/60078-loopvar.md" rel="noreferrer" target="_blank">publicly documented issue at Lets Encrypt</a>.
In that instance, the accidental capture of the loop variable was spread across
multiple functions and much more difficult to notice:</p>
<pre><code>// authz2ModelMapToPB converts a mapping of domain name to authz2Models into a
// protobuf authorizations map
func authz2ModelMapToPB(m map[string]authz2Model) (*sapb.Authorizations, error) {
    resp := &amp;sapb.Authorizations{}
    for k, v := range m {
        // Make a copy of k because it will be reassigned with each loop.
        kCopy := k
        authzPB, err := modelToAuthzPB(&amp;v)
        if err != nil {
            return nil, err
        }
        resp.Authz = append(resp.Authz, &amp;sapb.Authorizations_MapElement{
            Domain: &amp;kCopy,
            Authz: authzPB,
        })
    }
    return resp, nil
}
</code></pre>
<p>The author of this code clearly understood the general problem, because they made a copy of <code>k</code>,
but it turns out <code>modelToAuthzPB</code> used pointers to fields in <code>v</code> when constructing its result,
so the loop also needed to make a copy of <code>v</code>.</p>
<p>Tools have been written to identify these mistakes, but it is hard to analyze
whether references to a variable outlive its iteration or not.
These tools must choose between false negatives and false positives.
The <code>loopclosure</code> analyzer used by <code>go vet</code> and <code>gopls</code> opts for false negatives,
only reporting when it is sure there is a problem but missing others.
Other checkers opt for false positives, accusing correct code of being incorrect.
We ran an analysis of commits adding <code>x := x</code> lines in open-source Go code,
expecting to find bug fixes.
Instead we found many unnecessary lines being added,
suggesting instead that popular checkers have significant false positive rates,
but developers add the lines anyway to keep the checkers happy.</p>
<p>One pair of examples we found was particularly illuminating:</p>
<p>This diff was in one program:</p>
<pre><code>     for _, informer := range c.informerMap {
+        informer := informer
         go informer.Run(stopCh)
     }
</code></pre>
<p>And this diff was in another program:</p>
<pre><code>     for _, a := range alarms {
+        a := a
         go a.Monitor(b)
     }
</code></pre>
<p>One of these two diffs is a bug fix; the other is an unnecessary change.
You can’t tell which is which unless you know more about the types
and functions involved.</p>
<h2 id="the-fix">The Fix</h2>
<p>For Go 1.22, we plan to change <code>for</code> loops to make these variables have
per-iteration scope instead of per-loop scope.
This change will fix the examples above, so that they are no longer buggy Go programs;
it will end the production problems caused by such mistakes;
and it will remove the need for imprecise tools that prompt users
to make unnecessary changes to their code.</p>
<p>To ensure backwards compatibility with existing code, the new semantics
will only apply in packages contained in modules that declare <code>go 1.22</code> or
later in their <code>go.mod</code> files.
This per-module decision provides developer control of a gradual update
to the new semantics throughout a codebase.
It is also possible to use <code>//go:build</code> lines to control the decision on a
per-file basis.</p>
<p>Old code will continue to mean exactly what it means today:
the fix only applies to new or updated code.
This will give developers control over when the semantics change
in a particular package.
As a consequence of our <a href="https://go.dev/blog/toolchain">forward compatibility work</a>,
Go 1.21 will not attempt to compile code that declares <code>go 1.22</code> or later.
We included a special case with the same effect in
the point releases Go 1.20.8 and Go 1.19.13,
so when Go 1.22 is released,
code written depending on the new semantics will never be compiled with
the old semantics, unless people are using very old, unsupported Go versions](/doc/devel/release#policy).</p>
<h2 id="previewing-the-fix">Previewing The Fix</h2>
<p>Go 1.21 includes a preview of the scoping change.
If you compile your code with <code>GOEXPERIMENT=loopvar</code> set in your environment,
then the new semantics are applied to all loops
(ignoring the <code>go.mod</code> <code>go</code> lines).
For example, to check whether your tests still pass with the new loop semantics
applied to your package and all your dependencies:</p>
<pre><code>GOEXPERIMENT=loopvar go test
</code></pre>
<p>We patched our internal Go toolchain at Google to force this mode during all builds
at the start of May 2023, and in the past four months
we have had zero reports of any problems in production code.</p>
<p>You can also try test programs to better understand the semantics
on the Go playground by including a <code>// GOEXPERIMENT=loopvar</code> comment
at the top of the program, like in <a href="https://go.dev/play/p/YchKkkA1ETH" rel="noreferrer" target="_blank">this program</a>.
(This comment only applies in the Go playground.)</p>
<h2 id="fixing-buggy-tests">Fixing Buggy Tests</h2>
<p>Although we’ve had no production problems,
to prepare for that switch, we did have to correct many buggy tests that were not
testing what they thought they were, like this:</p>
<pre><code>func TestAllEvenBuggy(t *testing.T) {
    testCases := []int{1, 2, 4, 6}
    for _, v := range testCases {
        t.Run("sub", func(t *testing.T) {
            t.Parallel()
            if v&amp;1 != 0 {
                t.Fatal("odd v", v)
            }
        })
    }
}
</code></pre>
<p>In Go 1.21, this test passes because <code>t.Parallel</code> blocks each subtest
until the entire loop has finished and then runs all the subtests
in parallel. When the loop has finished, <code>v</code> is always 6,
so the subtests all check that 6 is even,
so the test passes.
Of course, this test really should fail, because 1 is not even.
Fixing for loops exposes this kind of buggy test.</p>
<p>To help prepare for this kind of discovery, we improved the precision
of the <code>loopclosure</code> analyzer in Go 1.21 so that it can identify and
report this problem.
You can see the report <a href="https://go.dev/play/p/WkJkgXRXg0m" rel="noreferrer" target="_blank">in this program</a> on the Go playground.
If <code>go vet</code> is reporting this kind of problem in your own tests,
fixing them will prepare you better for Go 1.22.</p>
<p>If you run into other problems,
<a href="https://github.com/golang/go/wiki/LoopvarExperiment#my-test-fails-with-the-change-how-can-i-debug-it" rel="noreferrer" target="_blank">the FAQ</a>
has links to examples and details about using a tool we’ve written to identify
which specific loop is causing a test failure when the new semantics are applied.</p>
<h2 id="more-information">More Information</h2>
<p>For more information about the change, see the
<a href="https://go.googlesource.com/proposal/+/master/design/60078-loopvar.md" rel="noreferrer" target="_blank">design document</a>
and the
<a href="https://go.dev/wiki/LoopvarExperiment" rel="noreferrer" target="_blank">FAQ</a>.</p>

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[RabbitMQ vs. Kafka – An Architect’s Dilemma (Part 1) (244 pts)]]></title>
            <link>https://eranstiller.com/rabbitmq-vs-kafka-an-architects-dilemma-part-1</link>
            <guid>37574552</guid>
            <pubDate>Tue, 19 Sep 2023 18:54:43 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://eranstiller.com/rabbitmq-vs-kafka-an-architects-dilemma-part-1">https://eranstiller.com/rabbitmq-vs-kafka-an-architects-dilemma-part-1</a>, See on <a href="https://news.ycombinator.com/item?id=37574552">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
	


<h2>Introduction</h2>



<p>As a software architect dealing with a lot of Microservices based systems, I often encounter the ever-repeating question – “should I use RabbitMQ or Kafka?”. For some reason, many developers view these technologies as interchangeable. While this is true for some cases, there are various underlying differences between these platforms. As a result, different scenarios require a different solution and choosing the wrong one might severely impact your ability to design, develop, and maintain your software solution.</p>



<p>The goal of this blog post is first to introduce the basic asynchronous messaging patterns. Then, it continues to present both RabbitMQ and Kafka and their internal structure. <a href="https://eranstiller.com/rabbitmq-vs-kafka-an-architects-dilemma-part-2">Part 2</a> highlights the critical differences between these platforms, their various advantages and disadvantages, and how to choose between the two.</p>



<h2>Asynchronous Messaging Patterns</h2>



<p>Asynchronous messaging is a messaging scheme where message production by a producer is decoupled from its processing by a consumer.  When dealing with messaging systems, we typically identify two main messaging patterns – Message Queuing and Publish/Subscribe.</p>



<h3>Message Queueing</h3>



<p>In the Message Queuing communication pattern, queues temporally decouple producers from consumers. Multiple producers can send messages to the same queue; however, when a consumer processes a message, it is locked or removed from the queue and is no longer available. Only a single consumer consumes a specific message.</p>


<div>
<figure><img decoding="async" width="642" height="241" src="https://eranstiller.com/wp-content/uploads/2020/02/RabbitMQ-vs-Kafka-Message-Queuing.svg" alt="An illustration of message queue as a transport between producers and consumers"><figcaption>Message Queuing</figcaption></figure></div>


<p>As a side note, if the consumer fails to process a certain message, the messaging platform typically returns the message to the queue where it is made available for other consumers. Besides temporal decoupling, queues allow us to scale producers and consumers independently as well as providing a degree of fault-tolerance against processing errors.</p>



<h3>Publish/Subscribe</h3>



<p>In the Publish/Subscribe (or Pub/Sub) communication pattern, a single message can be received and processed by multiple subscribers concurrently.</p>


<div>
<figure><img decoding="async" width="675" height="369" src="https://eranstiller.com/wp-content/uploads/2020/02/RabbitMQ-vs-Kafka-PubSub.svg" alt="An illustration of a pub/sub message exchange"><figcaption>Publish/Subscribe</figcaption></figure></div>


<p>This pattern allows a publisher, for example, to notify all subscribers that something has happened in the system. Many queueing platforms often associate pub/sub with the term&nbsp;<strong>topics</strong>. In RabbitMQ, topics are a specific type of pub/sub implementation (a type of exchange to be exact), but during this post, I refer to topics as a representation of pub/sub as a whole.</p>



<p>Generically speaking, there are two types of subscriptions:</p>



<ol>
<li><strong>An ephemeral subscription</strong>, where the subscription is only active as long the consumer is up and running. Once the consumer shuts down, its subscription and yet-to-be processed messages are lost.</li>



<li><strong>A durable subscription</strong>, where the subscription is maintained as long as it is not explicitly deleted. When the consumer shuts down, the messaging platform maintains the subscription and message processing can be resumed later.</li>
</ol>



<h3>RabbitMQ</h3>



<p><a target="_blank" href="https://www.rabbitmq.com/" rel="noreferrer noopener">RabbitMQ</a>&nbsp;is an implementation of a&nbsp;<strong>Message Broker</strong>, and as is also often referred to as a&nbsp;<strong>Service Bus</strong>. It natively supports both messaging patterns described above. Other popular implementations of message brokers include&nbsp;<a target="_blank" href="https://activemq.apache.org/" rel="noreferrer noopener">ActiveMQ</a>,&nbsp;<a target="_blank" href="https://zeromq.org/" rel="noreferrer noopener">ZeroMQ</a>,&nbsp;<a target="_blank" href="https://azure.microsoft.com/en-us/services/service-bus/" rel="noreferrer noopener">Azure Service Bus</a>, and&nbsp;<a target="_blank" href="https://aws.amazon.com/sqs/" rel="noreferrer noopener">Amazon Simple Queue Service (SQS)</a>. All of these implementations have a lot in common; many concepts described in this post apply to most of them.</p>



<h3>Queues</h3>



<p>RabbitMQ supports classic message queuing out of the box. A developer defines named queues, and then publishers can send messages to that named queue. Consumers, in turn, use the same queue to retrieve messages to process them.</p>



<h3>Message Exchanges</h3>



<p>RabbitMQ implements Pub/Sub via the use of message exchanges. A publisher publishes its messages to a message exchange without knowing who are the subscribers of these messages. Each consumer wishing to subscribe to an exchange creates its queue; the message exchange then queues produced messages for consumers to consume. It can also filter messages for some subscribers based on various routing rules.</p>


<div>
<figure><img decoding="async" loading="lazy" width="675" height="369" src="https://eranstiller.com/wp-content/uploads/2020/02/RabbitMQ-vs-Kafka-RabbitMQ-Message-Exchange.svg" alt="An illustration of a RabbitMQ Message Exchange"><figcaption>RabbitMQ Message Exchange</figcaption></figure></div>


<p>It is important to note that RabbitMQ supports both ephemeral and durable subscriptions. A consumer can decide the type of subscription they’d like to employ via RabbitMQ’s API.</p>



<p>Due to RabbitMQ’s architecture, we can also create a hybrid approach where some subscribers form&nbsp;<strong>consumer groups</strong>&nbsp;who work together processing messages in the form of competing consumers over a specific queue. In this manner, we implement the pub/sub pattern while also allowing some subscribers to scale-up to handle received messages.</p>


<div>
<figure><img decoding="async" loading="lazy" width="679" height="369" src="https://eranstiller.com/wp-content/uploads/2020/02/RabbitMQ-vs-Kafka-RabbitMQ-Consumer-Groups.svg" alt="An illustration of RabbitMQ fanout topology with routing and consumer groups"><figcaption>Pub/Sub &amp; Queuing Combined</figcaption></figure></div>


<h2>Apache Kafka</h2>



<p><a target="_blank" href="https://kafka.apache.org/" rel="noreferrer noopener">Apache Kafka</a>&nbsp;is&nbsp;<em>not&nbsp;</em>an implementation of a message broker. Instead, it is a&nbsp;<strong>distributed streaming platform</strong>. Unlike RabbitMQ, which is based on queues and exchanges, Kafka’s storage layer is implemented using a partitioned transaction log. Kafka also provides a Streams API to process streams in real-time and a Connectors API for easy integration with various data sources, however, these are out of scope for this post.&nbsp;</p>



<p>The Cloud Vendors provide alternative solutions for Kafka’s storage layer. These solutions include&nbsp;<a target="_blank" href="https://azure.microsoft.com/en-us/services/event-hubs/" rel="noreferrer noopener">Azure Event Hubs</a>, and to some extent,&nbsp;<a target="_blank" href="https://aws.amazon.com/kinesis/data-streams/" rel="noreferrer noopener">AWS Kinesis Data Streams</a>. There are also cloud-specific and open source alternatives to Kafka’s stream processing capabilities, but again, these are out of scope for this post.</p>



<h3>Topics</h3>



<p>Kafka does not implement the notion of a queue. Instead, Kafka stores collections of records in categories called topics. For each topic, Kafka maintains a partitioned log of messages. Each partition is an ordered, immutable sequence of records where messages are continually appended. Kafka appends messages to these partitions as they arrive. By default, it uses a round-robin partitioner to spread messages uniformly across partitions. Producers can modify this behavior to create logical streams of messages. For example, in a multitenant application, we might want to create logical message streams according to every message’s tenant Id. In an IoT scenario, we might want to have each producer’s identity map to a specific partition constantly. Making sure that all messages from the same logical stream map to the same partition guarantees their delivery in-order to consumers.</p>


<div>
<figure><img decoding="async" loading="lazy" width="571" height="396" src="https://eranstiller.com/wp-content/uploads/2020/02/RabbitMQ-vs-Kafka-Kafka-Producers.svg" alt="An illustration of producers for a Kafka topic and its inner structure"><figcaption>Kafka Producers</figcaption></figure></div>


<p>Consumers consume messages by maintaining an offset (or index) to these partitions and reading them sequentially. A single consumer can consume multiple topics, and consumers can scale-up to the number of partitions available. As a result, when creating a topic, one should carefully consider the expected throughput of messaging on that topic. A group of consumers working together to consume a topic is called a&nbsp;<strong>consumer group</strong>. Kafka’s API typically handles the balancing of partition processing between consumers in a consumer group and storing consumers’ current partition offsets.</p>


<div>
<figure><img decoding="async" loading="lazy" width="562" height="330" src="https://eranstiller.com/wp-content/uploads/2020/02/RabbitMQ-vs-Kafka-Kafka-Consumers.svg" alt="An illustration of consumer groups for a Kafka topic and its inner structure"><figcaption>Kafka Consumers</figcaption></figure></div>


<h3>Implementing Messaging Patterns with Kafka</h3>



<p>Kafka’s implementation maps quite well to the pub/sub pattern. A producer can send messages to a specific topic, and multiple consumer groups can consume the same message. Each consumer group can scale individually to handle the load. Since consumers maintain their partition offset, they can choose to have a durable subscription that maintains its offset across restarts or an ephemeral subscription, which throws the offset away and restarts from the latest record in each partition every time it starts up.&nbsp;However, it is a less than perfect fit for the message queuing pattern. Of course, we could have a topic with just a single consumer group to emulate classic message queuing. Nevertheless, this has multiple drawbacks that <a href="https://eranstiller.com/rabbitmq-vs-kafka-an-architects-dilemma-part-2">part 2</a> of this post discusses at length.</p>



<p>It is important to note that Kafka retains messages in partitions up to a preconfigured period, regardless of whether consumers consumed these messages. This retention means that consumers are free to reread past messages. Furthermore, developers can also use Kafka’s storage layer for implementing mechanisms such as Event Sourcing and Audit Logs.</p>



<h2>Closing Words</h2>



<p>While RabbitMQ and Kafka are sometimes interchangeable, their implementations are very different from each other. As a result, we cannot view them as members of the same category of tools; one is a message broker, and the other is a distributed streaming platform. As solution architects, we should acknowledge these differences and actively consider which of these types of solutions we should use for a given scenario. <a href="https://eranstiller.com/rabbitmq-vs-kafka-an-architects-dilemma-part-2">Part 2</a> addresses these differences and provides guidance on when to use each.</p>



<h2>Further Reading</h2>



<p>If you’d like to read more regarding the internal implementation of RabbitMQ and Kafka, I recommend the following resources:</p>



<ul>
<li><a rel="noreferrer noopener" target="_blank" href="https://www.rabbitmq.com/tutorials/amqp-concepts.html">AMQP 0.9.1 Model Explained – RabbitMQ</a></li>



<li><a rel="noreferrer noopener" target="_blank" href="https://kafka.apache.org/intro">Introduction to Apache Kafka</a></li>
</ul>



<hr>



<p><sub><i>Featured Image – Photo by&nbsp;<a rel="noreferrer noopener" href="https://unsplash.com/@jluebke?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank">Justin Luebke</a>&nbsp;on&nbsp;<a rel="noreferrer noopener" href="https://unsplash.com/s/photos/justin-luebke-coat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank">Unsplash</a> </i></sub></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[NFS > FUSE: Why We Built Our Own NFS Server in Rust (124 pts)]]></title>
            <link>https://about.xethub.com/blog/nfs-fuse-why-we-built-nfs-server-rust</link>
            <guid>37573679</guid>
            <pubDate>Tue, 19 Sep 2023 17:58:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://about.xethub.com/blog/nfs-fuse-why-we-built-nfs-server-rust">https://about.xethub.com/blog/nfs-fuse-why-we-built-nfs-server-rust</a>, See on <a href="https://news.ycombinator.com/item?id=37573679">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><h3>The Optimistic Case for FUSE</h3><p>I love files. Everything understands files. Every program knows how to read files and write files. Its a truly universal API. As such, I love the idea of FUSE. FUSE, or “Filesystem in Userspace” is a set of Linux interfaces that allow user-mode programs to define a filesystem.</p><figure><p><img src="https://uploads-ssl.webflow.com/6474aea6101c81b742144dd2/6503bb5f57ddf9f32163597d_first.png" loading="lazy" alt=""></p></figure><p>This allows filesystem drivers to be built very easily <strong>without needing a kernel module.</strong> Fuse is the basis for a large number of filesystem clients, including NTFS and even remote “filesystems” like SFTP or Amazon S3. It can also be used to make strange filesystems which are not actually filesystems like <a href="https://about.xethub.com/a5ab0a3b55724d45b3e91d1d890b9a8b?pvs=25"><strong>WikipediaFS</strong></a> which allows one to edit wikipedia articles using their own text editor.</p><p>Here at XetHub, we wanted to build an easy way to access any version of any dataset from your laptop using the tools you have. It is <em>really</em> nice being able to directly browse an image dataset without having to go through S3 commands.</p><figure><p><img src="https://uploads-ssl.webflow.com/6474aea6101c81b742144dd2/6503bb6a47462c93017f9ec1_second.gif" loading="lazy" alt=""></p><figcaption><em>What if you could interact with S3 this way?</em></figcaption></figure><p>The obvious solution to enabling this superpower was FUSE.</p><p>FUSE however, is an frustrating API to build against:</p><ul role="list"><li>there are 2 API classes to choose from — a low-level API and a high-level API</li><li>there are 2 incompatible API versions (libfuse2 and libfuse3)</li><li>and lots of other smaller API changes over time (See FUSE_USE_VERSION).</li></ul><p>In addition, FUSE is <strong>unavailable natively on Mac and Windows</strong> and requires the user to install a 3rd party driver (<a href="https://osxfuse.github.io/">MacFuse</a>, <a href="https://github.com/billziss-gh/winfuse">WinFuse</a>). Each of these drivers may have subtle API incompatibilities.</p><h3>The Key Question</h3><p>Because of these issues, I asked myself the following questions.</p><blockquote>Is it possible to build a userspace filesystem interface that is truly cross-platform?</blockquote><p>To answer this question, I had to look back 20 years into computer science history to stumble into <strong>NFSv3.</strong></p><h3>NFS</h3><p>NFSv3 is 20 years old and is a network filesystem protocol that was so simple and so ubiquitous that nearly every operating system has a built-in implementation of it.</p><figure><p><img src="https://uploads-ssl.webflow.com/6474aea6101c81b742144dd2/6503bb7357ddf9f321636887_third.png" loading="lazy" alt=""></p><figcaption><em>From Wikipedia</em></figcaption></figure><p>The NFSv3 protocol is has a beautiful and simple set of design principles:</p><ol role="list"><li><strong>The server is completely stateless</strong>: This simplifies the implementation immensely.</li><li><strong>NFS Servers are dumb and NFS clients are smart</strong>: &nbsp;(explicitly stated in <a href="https://datatracker.ietf.org/doc/html/rfc1813#section-1.6">RFC 1813 &nbsp;Section 1.6 Par 4</a>). This is great because we only need to implement the server, and the very smart clients have already been implemented and hardened for &gt; 20 years.</li><li><strong>Simple Cache Consistency Rules</strong>: Server does not define cache policy. The client can be as smart as it wants. Instead, the protocol defines a mechanism for the server to notify the client when something changes. This implementation is simpler and more efficient than FUSE. In practice the FUSE daemon has to explicitly implement a lot caching itself. With NFS we can avoid all of that extra complexity.</li><li><strong>The NFS client knows its talking over a network</strong>: This means that the NFS Client and protocol has builtin timeout, retry and failure semantics we can immediately take advantage of. The stateless protocol makes this very easy. With FUSE, the timeout/failure behavior has to be implemented robustly everywhere in the daemon. It is remarkably easy to hang the daemon and all programs reading from the filesystem if you get stuck in an API call.</li><li><strong>Actually extremely good performance.</strong> On the nixes at least, localhost networking is as fast as pipes. I do not know about Windows but I will be surprised if its not very fast too.</li></ol><p>The summary is that implementing a user-mode filesystem using localhost NFS instead of FUSE makes it easier get performance and resiliency. We can take advantage of the existing caching support and 20+ years of robustness and hardening. We just need to implement the server protocol <em>once</em>.</p><p>So last year, while isolating myself from a COVID-19 infection, I implemented an NFSv3 server in Rust as an experiment. It turned out fantastically.</p><p>‍</p><h3>How we use NFS at XetHub</h3><p>XetHub has the world’s first <strong>natively cross-platform, user-mode filesystem implementation,</strong> allowing you to mount arbitrarily large datasets on your machine without needing any kernel driver.</p><p>This enables you to, in just a few seconds, locally <a href="https://about.xethub.com/blog/comparing-code-llama-models-locally-macbook">mount ~660 GB of Llama 2 models</a> or write DuckDB queries to <a href="https://about.xethub.com/blog/version-control-machine-learning-workflow-pyxet-part-1">analyze large parquet files</a> and scan just the data you need.</p><p>All of this is currently supported on Linux, Mac and Windows Pro (unfortunately doesn’t work with Windows Home). Windows has some minor quirks in the experience but it generally works.</p><h3>Open Sourcing nfsserve</h3><p>We are open sourcing<strong> nfsserve</strong>, our Rust implementation for the NFS server, on <a href="https://github.com/xetdata/nfsserve">GitHub</a>. &nbsp;If you’re a 🦀 Rust-acean, you can install it using <a href="https://docs.rs/nfsserve/latest/nfsserve/">cargo</a> with the dependency <strong>nfsserve = "0.10".</strong></p><figure><p><img src="https://uploads-ssl.webflow.com/6474aea6101c81b742144dd2/6503bb9347462c93017fccc0_four.png" loading="lazy" alt=""></p></figure><p>The documentation could definitely use more love and we’d happily accept PR’s for any improvements! You can find some ways to contribute here in the <a href="https://github.com/xetdata/nfsserve">readme</a>.</p><p>We plan to maintain this library moving forward because it’s an actual dependency to enabling our&nbsp;xet mount implementation within <a href="https://github.com/xetdata/pyxet">PyXet</a> and <a href="https://github.com/xetdata/xet-core/tree/main/rust/gitxetcore/src/xetmnt">xet-core</a> (which we’ve also open sourced).</p><p>Here are the initial capabilities we’ve implemented:</p><ul role="list"><li>Reads are pretty performant</li><li>Writes work but still need a lot of optimizations</li></ul><p>I hope others will find this useful and help. There are a lot of low-hanging fruit for performance improvements and lots of refactoring to be done!</p><p>‍</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[iFixit – We Are Retroactively Dropping the iPhone’s Repairability Score (501 pts)]]></title>
            <link>https://www.ifixit.com/News/82493/we-are-retroactively-dropping-the-iphones-repairability-score-en</link>
            <guid>37573332</guid>
            <pubDate>Tue, 19 Sep 2023 17:34:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ifixit.com/News/82493/we-are-retroactively-dropping-the-iphones-repairability-score-en">https://www.ifixit.com/News/82493/we-are-retroactively-dropping-the-iphones-repairability-score-en</a>, See on <a href="https://news.ycombinator.com/item?id=37573332">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    
<p>We need to have a serious chat about iPhone repairability. We judged the phones of yesteryear by how easy they were to take apart—screws, glues, how hard it was to change a battery. But repairs have gotten trickier, by design. Software now limits many basic iPhone repairs. That’s why we’ve revised the repairability score for the <a href="https://www.ifixit.com/Device/iPhone_14">iPhone 14</a> from a <em>recommend </em>7 out of 10 to a <em>do-not-recommend</em> 4.</p>



<p>Although we <a href="https://www.ifixit.com/News/64865/iphone-14-teardown">enthusiastically</a> awarded it a solid score at launch last year, thanks to its innovative repair-friendly architecture—of which we remain big fans—the reality for folks trying to fix these things has been very different. Most major repairs on modern iPhones require Apple approval. You have to buy parts through their system, then have the repair validated via a chat system. Otherwise, you’ll run into limited or missing functionality, with a side of annoying warnings.&nbsp;</p>



<p>Lots of independent repair shops have business models that are threatened by Apple’s <a href="https://www.ifixit.com/News/69320/how-parts-pairing-kills-independent-repair">parts pairing</a> practice. Shops harvest parts from broken devices. They use third-party parts. They shouldn’t have to send Apple their customers’ personal information, or agree to <a href="https://www.vice.com/en/article/qjdjnv/apples-independent-repair-program-is-invasive-to-shops-and-their-customers-contract-shows">five years of audits</a> just to do the repairs they know how to do.</p>



<p>So when we gave the iPhone 14 a high score, the community <a href="https://youtu.be/K2WhU77ihw8?si=TEeGyQscV2wHr3xQ&amp;t=887">pushed back</a>. To be honest, they were right—and we’d like to thank our critics for helping us hold manufacturers accountable.&nbsp;</p>



<p>The situation has gotten so bad that several repair professionals have told us they’re leaving the business entirely rather than navigate the labyrinthine maze of obstacles that Apple has erected.</p>



<p>So we’ve gone back to the drawing board with our scoring system to make sure that it reflects this significant new software limitation on repairs. And now that we’ve run the iPhone 14 through our new scorecard, the picture isn’t as rosy. The iPhone 14’s new 4 / 10 score reflects the fact that individuals and independent repair shops encounter some atrocious limitations when trying to fix it.</p>



<h2><strong>It’s Literally Not Re-Pairable</strong></h2>



<p>For many years, iFixit scores were primarily about <em>design for repair</em>—that is, how easy (or difficult) it is to disassemble your gadget, replace whatever’s broken, and reassemble it successfully. The highest scores were <a href="https://www.ifixit.com/News/55818/fairphone-4-teardown-if-only-apple-made-phones-like-this">reserved</a> for devices whose manufacturers even provided instructions for how to do that.</p>



<div><figure><img loading="lazy" width="592" height="444" src="https://valkyrie.cdn.ifixit.com/media/2023/09/18221601/lightning.jpg" alt=""></figure></div>



<p>Ever the innovators, Apple introduced a new dimension to repair that our scorecard simply didn’t account for: namely, that you could take a highly repairable design like the iPhone 14, install a <em>genuine</em> Apple replacement screen or battery, and then… it fails to work. Following the correct procedure was no longer enough.</p>



<p>Today, you need one more thing: a software handshake, using Apple’s System Configuration tool. It contacts Apple’s servers to “authenticate” the repair, then “pairs” the new part to your system so it works as expected. Of course, it can only authenticate if Apple knows about your repair in advance, because you gave them the exact serial number of your iPhone, and they’ve pre-matched it to a display or battery. This is only possible if you buy the screen or battery directly from Apple. Forget harvesting parts—which is a huge part of most independent repair and recycling businesses. It’s also impossible to pair any aftermarket parts—which means only Apple-authorized repairs can truly restore the device to full functionality.</p>



<figure><img loading="lazy" width="932" height="648" src="https://valkyrie.cdn.ifixit.com/media/2023/09/18221611/messages.jpg" alt=""><figcaption><em>Apple’s numerous ‘genuine’ parts warnings appear for all parts, even brand new OEM parts, that have not been blessed by Apple’s authentication process.</em></figcaption></figure>



<p>While it’s an improvement over the status quo of just a few years ago, when Apple wouldn’t sell parts or supply instructions or software tools to <em>anyone</em> outside the Genius Bar and a few select “authorized” repair outlets, it’s still a major problem. Apple has made some real progress here—and we’ve been reluctant to criticize manufacturers taking meaningful steps. There are good people inside Apple working hard to make this situation better.</p>



<p>But parts pairing is a serious threat to our ability to fix the things we own. The problem is the invasive amount of control that Apple exerts over this entire process, and the fee they require you to pay for the privilege of fixing your own stuff. Apple likes to control the user experience so they can make it flawless—and we get that—but that experience should never come at the expense of our ownership rights or the planet. Already got a genuine screen or battery handy? Too bad—you’ll have to buy a new one from Apple if you want full functionality. And what happens in a few years when Apple stops officially supporting repairs for your device and shuts off the authentication servers? Apple’s message is loud and clear: user repair isn’t a priority.&nbsp;</p>



<p>Our reporting, and this revised scoring system, is the result of painstaking analysis. Our team has purchased several units of each phone generation and model and performed hundreds of <a href="https://www.ifixit.com/News/66879/iphone-14-parts-pairing-results-apple-is-still-trying-to-monopolise-repair">tests swapping individual parts</a>. The parts pairing problems we’ve reported on have been backed up by field reports from independent repair shops and YouTube repairers like Hugh Jeffreys and Louis Rossmann.</p>



<h2><strong>How Did We Get Here?</strong></h2>



<p>In a move that will not surprise close observers of Apple, they have developed the system without notifying the people who do the actual repair work that it impacts.</p>



<p>The shifting, secretive target has made it difficult to incorporate into our repairability scoring system. The first paired part we encountered was the <a href="https://www.ifixit.com/Teardown/iPhone+5s+Teardown/17383#s52330">iPhone 5s</a> biometric fingerprint sensor. Seemingly, this was a necessity for security—so while our forums <a href="https://www.ifixit.com/Answers/View/482732/Getting+around+TouchID+pairing">filled up</a> with users whose repairs were stymied, we didn’t modify our score.&nbsp;</p>



<p>Then a curious thing happened: <a href="https://www.ifixit.com/Guide/iPhone+XS+Screen+Replacement/113862">True Tone started disappearing</a> after screen repairs, even with genuine screens. Then some aftermarket screens <a href="https://www.vice.com/en/article/59jwvz/iphone-8-aftermarket-touchscreens-ios-update">stopped working</a>. <a href="https://www.ifixit.com/News/9917/11-3-update-breaking-iphone-screens">Some of these bugs</a> were fixed, some were not.&nbsp;</p>



<p>Following the <a href="https://www.ifixit.com/News/11208/batterygate-timeline">fury of Batterygate</a>, when the world learned that Apple was slowing down phones with older batteries, the company doubled down and <a href="https://www.ifixit.com/News/32343/apple-is-locking-batteries-to-iphones-now">started locking batteries</a> to the logic board via an iOS update. The update hid battery health from the owner of the device with third party batteries, removing a critical lifespan management feature.</p>



<p>Around the same time, the iPhone X introduced Face ID, a revolutionary technology with an unfortunately paired dot projector. As with the biometric sensor, we assumed this was a security issue and, while we didn’t like it, we justified Apple’s behavior because moving to new technology often comes with compromises. So we reluctantly made a carveout in our scoring system for security—but this just as quickly became a slippery slope.</p>



<p>Sometimes parts just didn’t work. But just as often, parts swaps prompted pop-ups. Warnings, warnings, and more warnings. Apple started pushing warnings when repairs were performed—and they were <em>pesky.&nbsp;</em></p>



<figure><img loading="lazy" width="1783" height="850" src="https://valkyrie.cdn.ifixit.com/media/2023/09/18223502/image-4.png" alt="iPhone battery warnings" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/18223502/image-4.png 1783w, https://valkyrie.cdn.ifixit.com/media/2023/09/18223502/image-4-1536x732.png 1536w" sizes="(max-width: 1783px) 100vw, 1783px"></figure>



<p>iPhone 12 came with a camera fail, warnings, and the resultant disappointment to the repair community. iPhone 13 came with a sensibly redesigned display to make Face ID less of an issue with repairs—except that it <em>disabled Face ID completely </em>when replaced<em>. </em>The emotional yo-yo (<a href="https://www.ifixit.com/News/56386/ios-15-2-fixes-iphone-13s-face-id-repair-trap-and-improves-its-repair-score">and repairability score yo-yo</a>) left us reeling. Steps forward, steps back. All the while, though, the steady drumbeat of parts pairing got louder. What initially started as isolated security quirks and bugs ended up being the first canaries in a dark coal mine of pairing strategies.&nbsp;</p>



<p>One by one, the glitches and bugs add up to a broad strategy, a systematic plan to require Apple’s permission to perform any repair on the iPhone.&nbsp;</p>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/18222059/image.jpg"><img loading="lazy" width="3238" height="745" src="https://valkyrie.cdn.ifixit.com/media/2023/09/18222059/image.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/18222059/image.jpg 3238w, https://valkyrie.cdn.ifixit.com/media/2023/09/18222059/image-1536x353.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/18222059/image-2048x471.jpg 2048w" sizes="(max-width: 3238px) 100vw, 3238px"></a></figure>



<h2><strong>The iPhone 14 is Still a Mechanical Design Triumph</strong></h2>



<p>We maintain our high praise for the iPhone 14’s hardware architecture, which really does move the needle on repairability. Rear glass repairs that cost as much as $549 on the previous architecture now costs just $169 with the new mid-frame design.</p>



<p>Discussing repairability <a href="https://www.youtube.com/live/ZiP1l7jlIIA?si=HPONgHjuCmE0-q65&amp;t=3526">for the first time</a> in the iPhone 15 announcement, Apple said they were expanding this new architecture to all 15 models. (On the iPhone 14, only the base, non-Pro models featured the improved design.)</p>



<p>Bravo! This design is truly an improvement worthy of the marketing effort. This is a very good hardware design, and we hope other OEMs will take notice and learn from it.</p>



<p>Unfortunately, this laudable mechanical improvement is undermined by a raft of software obstacles.</p>



<h2><strong>Apple Has Not Responded to Feedback</strong></h2>



<p>This parts pairing problem is by <a href="https://www.ftc.gov/system/files/documents/reports/nixing-fix-ftc-report-congress-repair-restrictions/nixing_the_fix_report_final_5521_630pm-508_002.pdf">no means isolated</a> to iPhones. <a href="https://www.ifixit.com/News/71442/tearing-down-the-14-macbook-pro-with-apples-help">MacBooks</a> and <a href="https://arstechnica.com/gadgets/2023/07/apple-pencils-cant-draw-straight-on-third-party-replacement-ipad-screens/">iPads</a> are suffering a similar fate, with screens, buttons, and other important components slowly sliding further into the realm of “only repairable by Apple—or with tough compromises.”</p>



<p>Even though we and <a href="https://repair.eu/news/we-need-the-right-to-repair-to-be-universal/">other repair advocates</a> have been sounding the alarm on parts pairing for years, Apple’s response has been lacking—especially for an industry leader and trend-setter with resources to act responsibly—and the problem continues to worsen. There may be multiple reasons for that, not all of them nefarious:</p>



<ul><li>Benign neglect</li><li>Precision parts calibration</li><li>Combating warranty fraud</li><li>Lack of testing software updates with aftermarket parts</li><li>Control over the customer experience</li></ul>



<p>Our intel says that it’s likely a combination of all of the above. Regardless: Apple has the resources to solve these problems. Based on how Apple designs their products and the relentless, unparallelled focus on user experience, they could easily be a leader in creating the best self-repair experience in tech. Yet, we don’t see that. Year after year, our scrappy repair community shouldn’t have to keep innovating around the shortcomings of the world’s most valuable company.&nbsp;</p>



<p>Apple needs to do better. And frankly, so do we—so as of today, our repairability scores do a better job of reflecting reality.</p>



<h2><strong>A New Score</strong></h2>



<p>The new <strong>4 / 10</strong> score lands just on the negative side of our scorecard, and garners a reluctant but clear <em>not recommended</em>. Our new scorecard covers a wide gamut of approaches that Apple has taught us about, and includes penalties for almost-repairs, non-repairs, and “genuineness” warnings. Taken together, these deductions erode the overall score of the device significantly. (Updating the scorecard took us many months of careful work—if you’re curious about how we score, <a href="https://www.ifixit.com/News/75533/how-ifixit-scores-repairability">check out this explainer</a>.) This scorecard will be the standard for all products moving forward—as Apple isn’t the only company utilizing parts pairing and other digital locks to handcuff DIY repairs.&nbsp;</p>



<p>This repairability score doesn’t just represent our recommendations. It encapsulates countless wasted money, time, and tears of frustration on the part of Apple customers, repair techs, and would-be repairers. It represents a rising tide of e-waste that threatens the well-being of our society and our planet.</p>



<p>You can help, by preferring repairable products wherever possible. Product designers are paying attention. If enough consumers demand repairable products, then companies will create longer lasting products.</p>



<p>One note: for now, we are only rescoring the iPhone 14. We are not retroactively rescoring <a href="https://www.ifixit.com/repairability/smartphone-scores">earlier iPhones</a> at this time. If we did, their scores would also likely decline.</p>



<p>Apple could fix this problem with a software update, and that 7 / 10 score could return overnight. Even though they recently signaled their <a href="https://www.ifixit.com/News/79902/apples-u-turn-tech-giant-finally-backs-repair-in-california">support for Right to Repair in California</a>, these problems show that they are not taking the situation seriously enough.</p>



<p>We’re going to keep working to hold Apple and other manufacturers accountable the best way we know: By speaking the truth about <a href="https://www.ftc.gov/system/files/documents/reports/nixing-fix-ftc-report-congress-repair-restrictions/nixing_the_fix_report_final_5521_630pm-508_002.pdf">repair restrictions</a> as loudly as we can, by revising our scorecard to reflect any new obstacles to repair, and by pushing for Right to Repair laws that ban parts pairing.</p>



<p>Long-lasting, repairable products are essential for the future of the planet. Sustainable electronics stand the test of time, and parts pairing undermines the ecosystem needed to keep these devices alive.&nbsp;</p>



<p>Right to repair is gaining momentum. We’re not giving up the fight for independent repair—and <a href="https://www.ifixit.com/Right-to-Repair">neither should you</a>.&nbsp;</p>
    
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google quietly raised ad prices to boost search revenue (120 pts)]]></title>
            <link>https://www.theverge.com/2023/9/19/23880275/google-search-ads-competition-auction-prices-doj-trial-antitrust</link>
            <guid>37572692</guid>
            <pubDate>Tue, 19 Sep 2023 16:50:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/2023/9/19/23880275/google-search-ads-competition-auction-prices-doj-trial-antitrust">https://www.theverge.com/2023/9/19/23880275/google-search-ads-competition-auction-prices-doj-trial-antitrust</a>, See on <a href="https://news.ycombinator.com/item?id=37572692">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>As the second week of <a href="https://www.theverge.com/2023/9/15/23875342/justice-department-google-antitrust-search-trial-week-one-recap">the <em>US v. Google</em> antitrust trial</a> gets underway, the Department of Justice is focusing on the real moneymaker behind Google Search: ads. It alleges that Google’s dominance lets it raise prices for advertisers with few repercussions — a claim backed up by Google ads executive Jerry Dischler on the stand.</p><p><a href="https://www.bloomberg.com/news/articles/2023-09-18/google-tweaks-ad-auctions-to-hit-revenue-targets-executive-says#xj4y7vzkg"><em>Bloomberg</em>’s<em> </em>Leah Nylen has the details of Dischler’s testimony</a>, where he describes statements he made under oath in 2020. Dischler says Google tweaks its auction process in ways that may have raised prices in the past by 5 percent for the typical advertiser and could potentially have raised them by 10 percent for some queries. The parties buying the ads would have been unaware of these “tunings” of prices; “we tend not to tell advertisers about pricing changes,” Dischler said.</p><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="The Verge’s logo over a photograph of the Supreme Court" loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/376x95/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/384x97/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/415x105/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/480x121/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/540x136/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/640x161/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/750x189/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/828x209/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/1080x273/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/1200x303/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/1440x363/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/1920x484/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/2048x517/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/2400x606/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:3000x757/2400x606/filters:focal(1500x379:1501x380):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24915120/image__6_.png" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><p>Raising ad prices was apparently one way for Google to increase search revenue during dry spells — one of which apparently occurred in the spring of 2019, according to <a href="https://www.justice.gov/d9/2023-09/416421.pdf">an email chain</a> involving Dischler and fellow Google executive Anil Sabharwal. “We are shaking the cushions” on ads launches, Dischler writes in the email. The email also describes other options for boosting revenue that include making Search more prominent for Chrome users.</p><p>Another <a href="https://www.justice.gov/d9/2023-09/416417.pdf">trial exhibit</a> indicates that Google made $98 billion from search ads for its owned-and-operated services in 2019 (apparently not including revenue from YouTube, <a href="https://www.bigtechontrial.com/p/doj-takes-a-deep-dive-into-googles">according to <em>Big Tech on Trial </em>newsletter reporter Yosef Weitzman</a>), and Dischler said that the number topped $100 billion in 2020. The “vast majority” of growth has come from mobile search.</p><p>Dischler said in court that 10 percent was around the upper limit of price increases and that raising prices by 15 percent would be “a dangerous thing to do” —&nbsp;although, as Nylen notes, Dischler acknowledged that overall revenue might still rise even if the high rates drove some advertisers to competitors like Meta or TikTok.</p><p>As Weitzman writes, demonstrating that Google can raise ad prices with little competitive pressure could help bolster the Justice Department’s argument that Google maintains an unlawful monopoly. It’s an objection that the department can’t raise for the search engine itself, which is a free product for consumers — although it can allege that other forms of harm, like lax privacy standards, might have been mitigated in a more competitive search industry.</p><p>Dischler is resuming testimony today in the trial, which is expected to stretch into November, with a verdict not anticipated until next year.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[MGM losing up to $8.4M a day due to cyberattack, analyist says (126 pts)]]></title>
            <link>https://www.reviewjournal.com/business/casinos-gaming/analyst-mgm-losing-4-2m-8-4m-a-day-because-of-cyberattack-2906379/</link>
            <guid>37572518</guid>
            <pubDate>Tue, 19 Sep 2023 16:39:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.reviewjournal.com/business/casinos-gaming/analyst-mgm-losing-4-2m-8-4m-a-day-because-of-cyberattack-2906379/">https://www.reviewjournal.com/business/casinos-gaming/analyst-mgm-losing-4-2m-8-4m-a-day-because-of-cyberattack-2906379/</a>, See on <a href="https://news.ycombinator.com/item?id=37572518">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
									<p><a href="https://www.reviewjournal.com/staff/richard-n-velotta/">
						<img width="100" height="100" src="https://www.reviewjournal.com/wp-content/uploads/2018/02/rick_velotta_980x550_012017eb_001.jpg?w=100&amp;h=100&amp;crop=1&amp;is-pending-load=1" alt="" data-lazy-srcset="https://www.reviewjournal.com/wp-content/uploads/2018/02/rick_velotta_980x550_012017eb_001.jpg?resize=100,100 100w, https://www.reviewjournal.com/wp-content/uploads/2018/02/rick_velotta_980x550_012017eb_001.jpg?resize=300,300 300w" data-lazy-sizes="(max-width: 100px) 100vw, 100px" data-lazy-src="https://www.reviewjournal.com/wp-content/uploads/2018/02/rick_velotta_980x550_012017eb_001.jpg?w=100&amp;h=100&amp;crop=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">					</a></p>
				<p>
					September 17, 2023 - 5:30 pm				</p>
			</div><div>
			
<p>MGM Resorts International could be losing between $4.2 million and $8.4 million in daily revenue and around $1 million in cash flow every day it’s under a cyberattack, a gaming industry analyst said in a Sunday report to investors.</p>
<p>David Katz, an equity analyst with New York-based Jefferies Group, in a weekly report on gaming, lodging and leisure companies, updated his Thursday assessments of MGM and Caesars Entertainment Inc. that included an estimate that MGM could take a 10 percent to 20 percent hit on revenue and cash flow “for the days that the current conditions exist.”</p>
<p>MGM on Sunday entered its second week of operations after a cybersecurity breach. Jefferies analysts say MGM generates about $42 million in revenue and $8 million in cash flow daily companywide.</p>
<p>Revenue is the amount of money generated through sales and investments, while cash flow measures net cash and cash equivalents being transferred in and out of a company.</p>
<p>MGM officials on Sunday said there were no updates on the status of the company’s computer systems and no new information was posted on the company’s “frequently asked questions” internet page that launched early Friday.</p>
<p>But there was no shortage of complaints from people about the situation.</p>
<p>There were scattered emailed reports from people around the country to the Review-Journal saying they were MGM employees who hadn’t been paid as of Friday. The company said Friday that payroll had been met as planned.</p>
<p>Others complained that there were no useful functions on the restored websites. Customers can still make reservations by calling a property directly or by using third-party booking apps.</p>
<p>A Review-Journal reporter dining at Babette’s Steakhouse at Park MGM said a waiter indicated the restaurant’s computer system was continually slowing because checks can’t be closed out. In addition, all food has to be ordered at one time because expense tabs can’t be reopened. There’s also no splitting checks within a party and no splitting of payment methods.</p>
<p>Slot machine winnings on machines in operation had to be paid manually by employees because some ticket in-ticket out systems weren’t functioning.</p>
<p>Uber and Lyft drivers contacted by the Review-Journal said MGM’s problems were a constant topic of frustration with their riders. Some said they waited a long time for employees to pay their slot-machine winnings.</p>
<p>Groceryshop 2023, a three-day, technology-meets-supermarket-brands convention with a projected attendance of 5,000, is scheduled to begin Tuesday. Representatives of Groceryshop 2023 did not respond to emails inquiring about the status of the show and whether they expected attendance to be affected by the cybersecurity problems experienced by MGM.</p>
<p>Brands like Kroger, Walmart, Albertson’s, Costco, Amazon, Kellogg, General Mills, Doordash, KraftHeinz, Coca-Cola and Pepsico are expected to be represented at the show.</p>
<p>Katz told investors in his Thursday and Sunday reports that damages from the cyberattack at MGM would be claimed against insurance, but it’s unclear just how much would be covered.</p>
<p>“The announcement by CZR (Caesars Entertainment, which reported a similar cyberattack in an SEC filing Thursday) and indications from MGM confirming the cyberattacks should be taken as one-time, largely insurable events that should not have long-lasting impacts on the businesses, assuming that the event is short-lived,” Katz wrote. “Our sense is that MGM’s impact could potentially be material but moderate near term, while CZR should see no meaningful impact and the question of whether any business is displaced among operators near term is fair.”</p>
<p>Katz said there were unconfirmed reports that Caesars paid around $15 million in ransom money to extortionists to regain control of its computerized systems in late August. But it’s unclear if MGM has considered paying any ransom money.</p>
<p>“Our impression is the Street’s presumption that CZR elected to pay a ransom while MGM did not may not be correct, according to our discussions with both management teams,” Katz wrote. “Nonetheless, given what we expect should be predominantly insurable events for all concerned should mitigate the impact to MGM if it turns out to be significant.</p>
<p>For the time being, it is not clear what the magnitude of the impact is to MGM and the degree of insurance coverage it will have or the duration of the event.”</p>
<p>Katz said he believes MGM will continue operations.</p>
<p>“Our impression of the impact to MGM is that business remains operable and credit card use is possible, albeit manual, while more transactions are cash-based than usual,” he said.</p>
<p>Contact Richard N. Velotta at rvelotta@reviewjournal.com. Follow @RickVelotta on X. Review-Journal reporter Sabrina Schnur contributed to this report.</p>
			
		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How many medical studies are faked or flawed? (262 pts)]]></title>
            <link>https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-023-02299-w</link>
            <guid>37572394</guid>
            <pubDate>Tue, 19 Sep 2023 16:31:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-023-02299-w">https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-023-02299-w</a>, See on <a href="https://news.ycombinator.com/item?id=37572394">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                    <figure>
 <picture>
  <source type="image/webp" srcset="https://web.archive.org/web/20230718112821im_/https://media.nature.com/lw767/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25769868.gif?as=webp 767w, https://web.archive.org/web/20230718112821im_/https://media.nature.com/lw319/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25769868.gif?as=webp 319w" sizes="(max-width: 319px) 319px, (min-width: 1023px) 100vw,  767px">
  <img alt="Conceptual illustration showing a detective with a torch investigating a suspicious person at a desk." loading="lazy" src="https://web.archive.org/web/20230718112821im_/https://media.nature.com/lw767/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25769868.gif">
  <figcaption>
   <p><span>Illustration by Piotr Kowalczyk</span></p>
  </figcaption>
 </picture>
</figure><p>How many clinical-trial studies in medical journals are fake or fatally flawed? In October 2020, John Carlisle reported a startling estimate<sup><a href="#ref-CR1" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">1</a></sup>.</p><p>Carlisle, an anaesthetist who works for England’s National Health Service, is <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-019-02241-z" data-track="click" data-label="https://www.nature.com/articles/d41586-019-02241-z" data-track-category="body text link">renowned for his ability to spot dodgy data in medical trials</a>. He is also an editor at the journal <i>Anaesthesia</i>, and in 2017, he decided to scour all the manuscripts he handled that reported a randomized controlled trial (RCT) — the gold standard of medical research. Over three years, he scrutinized more than 500 studies<sup><a href="#ref-CR1" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">1</a></sup>.</p><p>For more than 150 trials, Carlisle got access to anonymized individual participant data (IPD). By studying the IPD spreadsheets, he judged that 44% of these trials contained at least some flawed data: impossible statistics, incorrect calculations or duplicated numbers or figures, for instance. And in 26% of the papers had problems that were so widespread that the trial was impossible to trust, he judged — either because the authors were incompetent, or because they had faked the data.</p><p>Carlisle called these ‘zombie’ trials because they had the semblance of real research, but closer scrutiny showed they were actually hollow shells, masquerading as reliable information. Even he was surprised by their prevalence. “I anticipated maybe one in ten,” he says.</p><p>When Carlisle couldn’t access a trial’s raw data, however, he could study only the aggregated information in the summary tables. Just 1% of these cases were zombies, and 2% had flawed data, he judged (see ‘The prevalence of ‘zombie’ trials’). This finding alarmed him, too: it suggested that, without access to the IPD — which journal editors usually don’t request and reviewers don’t see — even an experienced sleuth cannot spot hidden flaws.</p><figure>
 <picture>
  <source type="image/webp" srcset="https://web.archive.org/web/20230718112821im_/https://media.nature.com/lw767/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25770400.gif?as=webp 767w, https://web.archive.org/web/20230718112821im_/https://media.nature.com/lw319/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25770400.gif?as=webp 319w" sizes="(max-width: 319px) 319px, (min-width: 1023px) 100vw,  767px">
  <img alt="The prevalence of 'zombie' trials. Bar chart showing the proportion of manuscripts with flawed data." loading="lazy" src="https://web.archive.org/web/20230718112821im_/https://media.nature.com/lw767/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25770400.gif">
  <figcaption>
   <p><span>Source: Ref. 1</span></p>
  </figcaption>
 </picture>
</figure><p>“I think journals should assume that all submitted papers are potentially flawed and editors should review individual patient data before publishing randomised controlled trials,” Carlisle wrote in his report.</p><p>Carlisle rejected every zombie trial, but by now, almost three years later, most have been published in other journals — sometimes with different data to those submitted with the manuscript he had seen. He is writing to journal editors to alert them, but expects that little will be done.</p><p>Do Carlisle’s findings in anaesthesiology extend to other fields? For years, a number of scientists, physicians and data sleuths have argued that fake or unreliable trials are frighteningly widespread. They’ve scoured RCTs in various medical fields, such as women’s health, pain research, anaesthesiology, bone health and COVID-19, and have found dozens or hundreds of trials with seemingly statistically impossible data. Some, on the basis of their personal experiences, say that one-quarter of trials being untrustworthy might be an underestimate. “If you search for all randomized trials on a topic, about a third of the trials will be fabricated,” asserts Ian Roberts, an epidemiologist at the London School of Hygiene &amp; Tropical Medicine.</p><p>The issue is, in part, a subset of the <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-021-00733-5" data-track="click" data-label="https://www.nature.com/articles/d41586-021-00733-5" data-track-category="body text link">notorious paper-mill problem</a>: over the past decade, journals in many fields have published tens of thousands of suspected fake papers, some of which are thought to have been produced by third-party firms, termed paper mills.</p><p>But faked or unreliable RCTs are a particularly dangerous threat. They not only are about medical interventions, but also can be laundered into respectability by being included in meta-analyses and systematic reviews, which thoroughly comb the literature to assess evidence for clinical treatments. Medical guidelines often cite such assessments, and physicians look to them when deciding how to treat patients.</p><p>Ben Mol, who specializes in obstetrics and gynaecology at Monash University in Melbourne, Australia, argues that as many as 20–30% of the RCTs included in systematic reviews in women’s health are suspect.</p><p>Many research-integrity specialists say that the problem exists, but its extent and impact are unclear. Some doubt whether the issue is as bad as the most alarming examples suggest. “We have to recognize that, in the field of high-quality evidence, we increasingly have a lot of noise. There are some good people championing that and producing really scary statistics. But there are also a lot in the academic community who think this is scaremongering,” says Žarko Alfirević, a specialist in fetal and maternal medicine at the University of Liverpool, UK.</p><p>This year, he and others are conducting more studies to assess how bad the problem is. Initial results from a study led by Alfirević are not encouraging.</p><h2><b>Laundering fake trials</b></h2><p>Medical research has always had fraudsters. Roberts, for instance, first came across the issue when he co-authored a 2005 systematic review for the Cochrane Collaboration, a prestigious group whose reviews of medical research evidence are often used to shape clinical practice. The review suggested that high doses of a sugary solution could reduce death after head injury. But Roberts retracted it<sup><a href="#ref-CR2" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">2</a></sup> after doubts arose about three of the key trials cited in the paper, all authored by the same Brazilian neurosurgeon, Julio Cruz. (Roberts never discovered whether the trials were fake, because Cruz died by suicide before investigations began. Cruz’s articles have not been retracted.)</p><p>A more recent example is that of Yoshihiro Sato, a Japanese bone-health researcher. Sato, who died in 2016, <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-019-01884-2" data-track="click" data-label="https://www.nature.com/articles/d41586-019-01884-2" data-track-category="body text link">fabricated data in dozens of trials of drugs or supplements that might prevent bone fracture</a>. He has 113 retracted papers, according to a list compiled by the website <a href="https://web.archive.org/web/20230718112821/https://retractionwatch.com/" data-track="click" data-label="https://retractionwatch.com/" data-track-category="body text link">Retraction Watch</a>. His work has had a wide impact: researchers found that 27 of Sato’s retracted RCTs had been cited by 88 systematic reviews and clinical guidelines, some of which had informed Japan’s recommended treatments for osteoporosis<sup><a href="#ref-CR3" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">3</a></sup>.</p><p>Some of the findings in about half of these reviews would have changed had Sato’s trials been excluded, says Alison Avenell, a medical researcher at the University of Aberdeen, UK. She, along with medical researchers Andrew Grey, Mark Bolland and Greg Gamble, all at the University of Auckland in New Zealand, have pushed universities to investigate Sato’s work and monitored its influence. “It probably diverted people from being given more effective treatment for fracture prevention,” Avenell says.</p><figure>
 <picture>
  <source type="image/webp" srcset="https://web.archive.org/web/20230718112821im_/https://media.nature.com/lw767/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25601540.jpg?as=webp 767w, https://web.archive.org/web/20230718112821im_/https://media.nature.com/lw319/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25601540.jpg?as=webp 319w" sizes="(max-width: 319px) 319px, (min-width: 1023px) 100vw,  767px">
  <img alt="Anaesthetist John Carlisle portrayed at work." loading="lazy" src="https://web.archive.org/web/20230718112821im_/https://media.nature.com/lw767/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25601540.jpg">
  <figcaption>
   <p><span>Anaesthetist John Carlisle at work.</span><span>Credit: Emli Bendixen</span></p>
  </figcaption>
 </picture>
</figure><p>The concerns over zombie trials, however, are beyond individual fakers flying under the radar. In some fields, swathes of RCTs from different research groups might be unreliable, researchers worry.</p><p>During the pandemic, for instance, a flurry of RCTs was conducted into whether ivermectin, an anti-parasite drug, could treat COVID-19. But researchers who were not involved have since <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/s41591-021-01535-y" data-track="click" data-label="https://www.nature.com/articles/s41591-021-01535-y" data-track-category="body text link">pointed out data flaws</a> in many of the studies, some of which have been retracted. A 2022 update of a Cochrane review argued that more than 40% of these RCTs were untrustworthy<sup><a href="#ref-CR4" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">4</a></sup>.</p><p>“Untrustworthy work must be removed from systematic reviews,” says Stephanie Weibel, a biologist at the University of Wuerzberg in Germany, who co-authored the review.</p><p>In maternal health — another field seemingly rife with problems — Roberts and Mol have flagged studies into whether a drug called tranexamic acid can stem dangerously heavy bleeding after childbirth. Every year, around 14 million people experience this condition, and some 70,000 die: it is the world’s leading cause of maternal death.</p><p>In 2016, Roberts reviewed evidence for using tranexamic acid to treat serious blood loss after childbirth. He reported that many of the 26 RCTs investigating the drug had serious flaws. Some had identical text, others had data inconsistencies or no records of ethical approval. Some seemed not to have adequately randomized the assignment of their participants to control and treatment groups<sup><a href="#ref-CR5" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">5</a></sup>.</p><p>When he followed up with individual authors to ask for more details and raw data, he generally got no response or was told that records were missing or had been lost because of computer theft. Fortunately, in 2017, a large, high-quality multi-centre trial, which Roberts helped to run, established that the drug was effective<sup><a href="#ref-CR6" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">6</a></sup>. It’s likely, says Roberts, that in these and other such cases, some of the dubious trials were copycat fraud — researchers saw that a large trial was going on and produced small, substandard copies that no one would question. This kind of fraud isn’t a victimless crime, however. “It results in narrowed confidence intervals such that the results look much more certain than they are. It also has the potential to amplify a wrong result, suggesting that treatments work when they don’t,” he says.</p><article data-label="Related">
  <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-022-00025-6" data-track="click" data-track-label="recommended article"><img alt="" src="https://web.archive.org/web/20230718112821im_/https://media.nature.com/w400/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_25770474.gif"><p>Stamp out fake clinical data by working together</p></a>
 </article><p>That might have happened for another question: what if doctors were to inject the drug into everyone undergoing a caesarean, just after they give birth, as a preventative measure? A 2021 review<sup><a href="#ref-CR7" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">7</a></sup> of 36 RCTs investigating this idea, involving a total of more than 10,000 participants, concluded that this would reduce the risk of heavy blood loss by 60%.</p><p>Yet this April, an enormous US-led RCT with 11,000 people reported only a slight and not statistically significant benefit<sup><a href="#ref-CR8" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">8</a></sup>.</p><p>Mol thinks problems with some of the 36 previous RCTs explains the discrepancy. The 2021 meta-analysis had included one multi-centre study in France of more than 4,000 participants, which found a modest 16% reduction in severe blood loss, and another 35 smaller, single-centre studies, mostly conducted in India, Iran, Egypt and China, which collectively estimated a 93% drop. Many of the smaller RCTs were untrustworthy, says Mol, who has dug into some of them in detail.</p><p>It’s unclear whether the untrustworthy studies affected clinical practice. The World Health Organization (WHO) recommends using tranexamic acid to treat blood loss after childbirth, but it doesn’t have a guideline on preventive administration.</p><h2><b>From four trials to one</b></h2><p>Mol points to a different example in which untrustworthy trials might have influenced clinical practice. In 2018, researchers published a Cochrane review<sup><a href="#ref-CR9" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">9</a></sup> on whether giving steroids to people due to undergo caesarean-section births helped to reduce breathing problems in their babies. Steroids are good for a baby’s lungs but can harm the developing brain, says Mol; benefits generally outweigh harms when babies are born prematurely, but the balance is less clear when steroids are used later in pregnancy.</p><p>The authors of the 2018 review, led by Alexandros Sotiriadis, a specialist in maternal–fetal medicine at the Aristotle University of Thessaloniki in Greece, analysed the evidence for administering steroids to people delivering by caesarean later in pregnancy. They ended up with four RCTs: a British study from 2005 with more than 940 participants, and three Egyptian trials conducted between 2015 and 2018 that added another 3,000 people into the evidence base. The review concluded that the steroids “may” reduce rates of breathing problems; it was cited in more than 200 documents and some clinical guidelines.</p><p>In January 2021, however, Mol and others, who had looked in more depth into the papers, raised concerns about the Egyptian trials. The largest study, with nearly 1,300 participants, was based on the second author’s thesis, he noted — but the trial end dates in the thesis differed from the paper. And the reported ratio of male to female babies was an impossible 40% to 60%. Mol queried the other papers, too, and wrote to the authors, but says he did not get satisfactory replies. (One author told him he’d lost the data when moving house.) Mol’s team also reported statistical issues with some other works by the same authors.</p><article data-label="Related">
  <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-019-02241-z" data-track="click" data-track-label="recommended article"><img alt="" src="https://web.archive.org/web/20230718112821im_/https://media.nature.com/w400/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_17403998.jpg"><p>How a data detective exposed suspicious medical trials</p></a>
 </article><p>In December 2021, Sotiriadis’s team updated its review<sup><a href="#ref-CR10" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">10</a></sup>. But this time, it adopted a new screening protocol. Until that year, Cochrane reviews had aimed to include all relevant RCTs; if researchers spotted potential issues with a trial, using a ‘risk of bias’ checklist, they would downgrade their confidence in its findings, but not remove it from their analysis. But in 2021, Cochrane’s research-integrity team introduced new guidance: authors should try to identify ‘problematic’ or ‘untrustworthy’ trials and exclude them from reviews. Sotiriadis’s group now excluded all but the British research. With only one trial left, there was “insufficient data” to draw firm conclusions about the steroids, the researchers said.</p><p>By last May, <a href="https://web.archive.org/web/20230718112821/https://retractionwatch.com/2022/05/08/journal-retracts-c-section-paper-with-impossible-data" data-track="click" data-label="https://retractionwatch.com/2022/05/08/journal-retracts-c-section-paper-with-impossible-data" data-track-category="body text link">as Retraction Watch reported</a>, the large Egyptian trial was retracted (to the disagreement of its authors). The journal’s editors wrote in the retraction notice that they had not received its data or a satisfactory response from the authors, adding that “if the data is unreliable, women and babies are being harmed”. The other two trials are still under investigation by publisher Taylor &amp; Francis as part of a larger case of papers, says Sabina Alam, director of publishing ethics at the firm. Before the 2018 review, some clinical guidelines had suggested that administering steroids later in pregnancy could be beneficial, and the practice had been growing in some countries, such as Australia, Mol has reported. The latest updated WHO and regional guidelines, however, recommend against this practice.</p><p>Overall, Mol and his colleagues have alleged problems in more than 800 published medical research papers, at least 500 of which are on RCTs. So far, the work has led to more than 80 retractions and 50 expressions of concern. Mol has focused much of his work on papers from countries in the Middle East, and particularly in Egypt. One researcher responded to some of his e-mails by accusing him of racism. Mol, however, says that it’s simply a fact that he has encountered many suspect statistics and refusals to share data from RCT authors in countries such as Iran, Egypt, Turkey and China — and that he should be able to point that out.</p><h2><b>Screening for trustworthiness</b></h2><p>“Ben Mol has undoubtedly been a pioneer in the field of detecting and fighting data falsification,” says Sotiriadis — but he adds that it is difficult to prove that a paper is falsified. Sotiriadis says he didn’t depend on Mol’s work when his team excluded those trials in its update, and he can’t say whether the trials were corrupt.</p><p>Instead, his group followed a screening protocol designed to check for ‘trustworthiness’. It had been developed by one of Cochrane’s independent specialist groups, the Cochrane Pregnancy and Childbirth (CPC) group, coordinated by Alfirević. (This April, Cochrane formally dissolved this group and some others, as part of a reorganization strategy.) It provides a detailed list of criteria that authors should follow to check the trustworthiness of an RCT — such as whether a trial is prospectively registered and whether the study is free of unusual statistics, such as implausibly narrow or wide distributions of mean values in participant height, weight or other characteristics, and other red flags. If RCTs fail the checks, then reviewers are instructed to contact the original study authors — and, if the replies are not adequate, to exclude the study.</p><p>“We’re championing the idea that, if a study doesn’t pass these bars, then no hard feelings, but we don’t call it trustworthy enough,” Alfirević explains.</p><p>For Sotiriadis, the merit of this protocol was that it avoided his having to declare the trials faulty or fraudulent; they had merely failed a test of trustworthiness. His team ultimately reported that it excluded the Egyptian trials because they hadn’t been prospectively registered and the authors didn’t explain why.</p><p>Other Cochrane authors are starting to adopt the same protocol. For instance, a review<sup><a href="#ref-CR11" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">11</a></sup> of drugs aiming to prevent pre-term labour, published last August, used it to exclude 44 studies — one-quarter of the 122 trials in the literature.</p><h2><b>What counts as trustworthy?</b></h2><p>Whether trustworthiness checks are sometimes unfair to the authors of RCTs, and exactly what should be checked to classify untrustworthy research, is still up for debate. In a 2021 editorial<sup><a href="#ref-CR12" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">12</a></sup> introducing the idea of trustworthiness screening, Lisa Bero, a senior research integrity editor at Cochrane, and a bioethicist at the University of Colorado Anschutz Medical Campus in Aurora, pointed out that there was no validated, universally agreed method.</p><p>“Misclassification of a genuine study as problematic could result in erroneous review conclusions. Misclassification could also lead to reputational damage to authors, legal consequences, and ethical issues associated with participants having taken part in research, only for it to be discounted,” she and two other researchers wrote.</p><p>For now, there are multiple trustworthiness protocols in play. In 2020, for instance, Avenell and others <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-019-03959-6" data-track="click" data-label="https://www.nature.com/articles/d41586-019-03959-6" data-track-category="body text link">published REAPPRAISED</a>, a checklist aimed more at journal editors. And when Weibel and others reviewed trials investigating ivermectin as a COVID-19 treatment last year, they created their own checklist, which they call a ‘research integrity assessment’.</p><p>Bero says some of these checks are more labour-intensive than editors and systematic reviewers are generally accustomed to. “We need to convince systematic reviewers that this is worth their time,” she says. She and others have consulted biomedical researchers, publishers and research-integrity experts to come up with a set of red flags that might serve as the basis for creating a widely agreed method of assessment.</p><p>Despite the concerns of researchers such as Mol, many scientists remain unsure how many reviews have been compromised by unreliable RCTs. This year, a team led by Jack Wilkinson, a health researcher at the University of Manchester, UK, is using the results of Bero’s consultation to apply a list of 76 trustworthiness checks to all trials cited in 50 published Cochrane reviews. (The 76 items include detailed examination of the data and statistics in trials, as well as inspecting details on funding, grants, trial registration, the plausibility of study methods and authors’ publication records — but, in this exercise, data from individual participants are not being requested.)</p><article data-label="Related">
  <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-019-03959-6" data-track="click" data-track-label="recommended article"><img alt="" src="https://web.archive.org/web/20230718112821im_/https://media.nature.com/w400/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_17650444.jpg"><p>Check for publication integrity before misconduct</p></a>
 </article><p>The aim is to see how many RCTs fail the checks, and what impact removing those trials would have on the reviews’ conclusions. Wilkinson says a team of 50 is working on the project. He aims to produce a general trustworthiness-screening tool, as well as a separate tool to aid in inspecting participant data, if authors provide them. He will discuss the work in September at Cochrane’s annual colloquium.</p><p>Alfirević’s team, meanwhile, has found in <a href="https://web.archive.org/web/20230718112821/https://events.cochrane.org/colloquium-2023/session/1473810/assessment-of-trustworthiness-has-a-significant-impact-on-conclusions-of-cochrane-reviews" data-track="click" data-label="https://events.cochrane.org/colloquium-2023/session/1473810/assessment-of-trustworthiness-has-a-significant-impact-on-conclusions-of-cochrane-reviews" data-track-category="body text link">a study yet to be published</a> that 25% of around 350 RCTs in 18 Cochrane reviews on nutrition and pregnancy would have failed trustworthiness checks, using the CPC’s method. With these RCTs excluded, the team found that one-third of the reviews would require updating because their findings would have changed. The researchers will report more details in September.</p><p>In Alfirević’s view, it doesn’t particularly matter which trustworthiness checks reviewers use, as long as they do something to scrutinize RCTs more closely. He warns that the numbers of systematic reviews and meta-analyses that journals publish have themselves been soaring in the past decade — and many of these reviews can’t be trusted because of shoddy screening methods. “An untrustworthy systematic review is far more dangerous than an untrustworthy primary study,” he says. “It is an industry that is completely out of hand, with little quality assurance.”</p><p>Roberts, who first published in 2015 his concerns over problematic medical research in systematic reviews<sup><a href="#ref-CR13" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">13</a></sup>, says that the Cochrane organization took six years to respond and still isn’t taking the issue seriously enough. “If up to 25% of trials included in systematic reviews are fraudulent, then the whole Cochrane endeavour is suspect. Much of what we think we know based on systematic reviews is wrong,” he says.</p><p>Bero says that Cochrane consulted widely to develop its 2021 guide on addressing problematic trials, including incorporating suggestions from Roberts, other Cochrane reviewers and research-integrity experts.</p><h2><b>Asking for data</b></h2><p>Many researchers worried by medical fakery agree with Carlisle that it would help if journals routinely asked authors to share their IPD. “Asking for raw data would be a good policy. The default position has just been to trust the study, but we’ve been operating from quite a naive position,” says Wilkinson. That advice, however, runs counter to current practice at most medical journals.</p><p>In 2016, the International Committee of Medical Journal Editors (ICMJE), an influential body that sets policy for many major medical titles, had proposed requiring mandatory data-sharing from RCTs. But it got pushback — including over perceived risks to the privacy of trial participants who might not have consented to their data being shared, and the availability of resources for archiving the data. As a result, <a href="https://web.archive.org/web/20230718112821/https://www.icmje.org/news-and-editorials/data_sharing_june_2017.pdf" data-track="click" data-label="https://www.icmje.org/news-and-editorials/data_sharing_june_2017.pdf" data-track-category="body text link">in the latest update to its guidance</a>, in 2017, it settled for merely encouraging data sharing and requiring statements about whether and where data would be shared.</p><article data-label="Related">
  <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-021-00733-5" data-track="click" data-track-label="recommended article"><img alt="" src="https://web.archive.org/web/20230718112821im_/https://media.nature.com/w400/magazine-assets/d41586-023-02299-w/d41586-023-02299-w_18989362.jpg"><p>The fight against fake-paper factories that churn out sham science</p></a>
 </article><p>The ICMJE secretary, Christina Wee, says that “there are major feasibility challenges” to be resolved to mandate IPD sharing, although the committee might revisit its practices in future. Many publishers of medical journals told <i>Nature</i>’s news team that, following ICMJE advice, they didn’t require IPD from authors of trials. (These publishers included Springer Nature; <i>Nature</i>’s news team is editorially independent.)</p><p>Some journals, however — including Carlisle’s <i>Anaesthesia</i> — have gone further and do already require IPD. “Most authors provide the data when told it is a requirement,” Carlisle says.</p><p>Even when IPD are shared, says Wilkinson, scouring it in the way that Carlisle does is a time-consuming exercise — creating a further burden for reviewers — although computational checks of statistics might help.</p><p>Besides asking for data, journal editors could also speed up their decision-making, research-integrity specialists say. When sleuths raise concerns, editors should be prepared to put expressions of concern on medical studies more quickly if they don’t hear back from authors, Avenell says. This April, a <a href="https://web.archive.org/web/20230718112821/https://committees.parliament.uk/publications/39343/documents/194466/default" data-track="click" data-label="https://committees.parliament.uk/publications/39343/documents/194466/default" data-track-category="body text link">UK parliamentary report into reproducibility and research integrity</a> said that it should not take longer than two months for publishers to publish corrections or retractions of research when academics raise issues.</p><p>And if journals do retract studies, authors of systematic reviews should be required to correct their work, Avenell and others say. This rarely happens. Last year, for instance, Avenell’s team reported that it had carefully and repeatedly e-mailed authors and journal editors of the 88 reviews that cited Sato’s retracted trials to inform them that their reviews included retracted work. They got few responses — only 11 of the 88 reviews have been updated so far — suggesting that authors and editors didn’t generally care about correcting the reviews<sup><a href="#ref-CR3" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">3</a></sup>.</p><p>That was dispiriting but not surprising to the team, which <a href="https://web.archive.org/web/20230718112821/https://www.nature.com/articles/d41586-019-01884-2" data-track="click" data-label="https://www.nature.com/articles/d41586-019-01884-2" data-track-category="body text link">has previously recounted how institutional investigations into Sato’s work were opaque and inadequate</a>. The Cochrane collaboration, for its part, stated in updated guidance in 2021 that systematic reviews must be updated when retractions occur.</p><p>Ultimately, a lingering question is — as with paper mills — why so many suspect RCTs are being produced in the first place. Mol, from his experiences investigating the Egyptian studies, blames lack of oversight and superficial assessments that promote academics on the basis of their number of publications, as well as the lack of stringent checks from institutions and journals on bad practices. Egyptian authorities have taken some steps to improve governance of trials, however; Egypt’s parliament, for instance, published its first clinical research law in December 2020.</p><p>“The solution’s got to be fixes at the source,” says Carlisle. “When this stuff is churned out, it’s like fighting a wildfire and failing.”</p>
                </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[UK Parliament passes Online Safety Bill (174 pts)]]></title>
            <link>https://www.bbc.co.uk/news/technology-66854618</link>
            <guid>37572222</guid>
            <pubDate>Tue, 19 Sep 2023 16:19:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bbc.co.uk/news/technology-66854618">https://www.bbc.co.uk/news/technology-66854618</a>, See on <a href="https://news.ycombinator.com/item?id=37572222">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><main id="main-content" data-testid="main-content"><article><header></header><div data-component="image-block"><figure><p><span><picture><source srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg.webp 240w, https://ichef.bbci.co.uk/news/320/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg.webp 320w, https://ichef.bbci.co.uk/news/480/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg.webp 480w, https://ichef.bbci.co.uk/news/624/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg.webp 624w, https://ichef.bbci.co.uk/news/800/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg.webp 800w, https://ichef.bbci.co.uk/news/976/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg.webp 976w" type="image/webp"><img alt="A stock photo of a child and adult browsing online" srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg 240w, https://ichef.bbci.co.uk/news/320/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg 320w, https://ichef.bbci.co.uk/news/480/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg 480w, https://ichef.bbci.co.uk/news/624/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg 624w, https://ichef.bbci.co.uk/news/800/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg 800w, https://ichef.bbci.co.uk/news/976/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg 976w" src="https://ichef.bbci.co.uk/news/976/cpsprodpb/2064/production/_131129280_gettyimages-1305308957.jpg" width="976" height="549" loading="eager"></picture></span><span role="text"><span>Image source, </span>Getty Images</span></p></figure></div><div data-component="text-block"><p><b>Peers have passed a controversial new law aimed at making social media firms more responsible for users' safety on their platforms.</b></p></div><div data-component="text-block"><p>The Online Safety Bill has taken years to agree and will force firms to remove illegal content and protect children from some legal but harmful material.</p></div><div data-component="text-block"><p>Children's charity the NSPCC said the law would mean a safer online world.</p></div><div data-component="text-block"><p>But critics argued it would allow a regulator, and tech firms to dictate what may or may not be said online.</p></div><div data-component="text-block"><p>The nearly 300-page bill will also introduce new rules such as requiring pornography sites to stop children viewing content by checking the ages of users.</p></div><div data-component="text-block"><p>While the act is often spoken about as a tool for reining in Big Tech, government figures have suggested more than 20,000 small businesses will also have to comply. </p></div><div data-component="text-block"><p>Platforms will also need to show they are committed to removing illegal content including:</p></div><div data-component="unordered-list-block"><ul role="list"><li>child sexual abuse</li><li>controlling or coercive behaviour</li><li>extreme sexual violence</li><li>illegal immigration and people smuggling</li><li>promoting or facilitating suicide</li><li>promoting self-harm</li><li>animal cruelty</li><li>selling illegal drugs or weapons</li><li>terrorism</li></ul></div><div data-component="text-block"><p>New offences have also been included in the bill, including cyber-flashing and the sharing of "deepfake" pornography. </p></div><div data-component="text-block"><p>And the bill includes measures to make it easier for bereaved parents to obtain information about their children from tech firms.</p></div><div data-component="text-block"><p>The technology secretary Michelle Donelan told the BBC the bill was "extremely comprehensive".</p></div><div data-component="text-block"><p>Asked when there would be evidence of tech firms changing their behaviour she said: "We've already started to see that change in behaviour happening. </p></div><div data-component="text-block"><p>"As soon as this bill gains Royal Assent, the regulator will be working even more hand in hand with those social media platforms and you'll see them changing the way that they're operating", she added.</p></div><p data-component="subheadline-block"><h2 tabindex="-1" id="Long-journey"><span role="text">Long journey</span></h2></p><div data-component="text-block"><p>The bill  has had a lengthy and contentious journey to becoming law, beginning six years ago when the government committed to the idea of improving internet safety.</p></div><div data-component="text-block"><p>The idea that inspired the bill was relatively simple, scribbled down on the back of a sandwich packet by two experts, Prof Lorna Woods of the University of Essex and William Perrin of the charitable foundation Carnegie UK.</p></div><div data-component="text-block"><p>Prof Woods told the BBC that finally seeing it pass was "slightly unreal". </p></div><div data-component="text-block"><p>"I think when you're waiting for anything for a long time, there's always that sense of, 'Oh, it's here,'" she said.</p></div><div data-component="text-block"><p>But the complexity of the act does cause her concerns that big tech companies will challenge parts of it in court.</p></div><div data-component="text-block"><p>"I think maybe the complexity leads itself to that sort of challenge and that could delay the full coming into force of the regime."</p></div><div data-component="text-block"><p>Driving the bill have been the stories of those who have suffered losses and harm which they attribute to content posted on social media.</p></div><div data-component="text-block"><p>Online safety campaigner Ian Russell has told the BBC the test of the bill will be whether it prevents the kind of images his daughter Molly saw before she took her own life after viewing suicide and self-harm content online on sites such as Instagram and Pinterest.  </p></div><div data-component="text-block"><p>Imran Ahmed of the Center for Countering Digital Hate welcomed the passage of the bill saying "too much tragedy has already befallen people in this country because of tech companies' moral failures".</p></div><div data-component="text-block"><p>But digitalrights campaigners the Open Rights Group said the bill posed "a huge threat to freedom of expression with tech companies expected to decide what is and isn't legal, and then censor content before it's even been published".</p></div><div data-component="text-block"><p>Lawyer Graham Smith, author of a book on internet law, said the bill had well-meaning aims, but in the end it contained much that was problematic.</p></div><div data-component="text-block"><p>"If the road to hell is paved with good intentions, this is a motorway," he told the BBC.</p></div><div data-component="text-block"><p>He said it was "a deeply misconceived piece of legislation", and the threat it posed to legitimate speech was likely to be "exposed in the courts".</p></div><div data-component="text-block"><p>And popular messaging services such as WhatsApp and Signal have threatened to refuse to comply with powers in the bill that could be used to force them to examine the contents of encrypted messages for child abuse material.</p></div><div data-component="text-block"><p>However following <a href="https://www.theyworkforyou.com/lords/?id=2023-09-06c.456.2">statements made the government</a> about these powers in the Lords, Meredith Whittaker, the president of Signal, said that they were "more optimistic than we were when we began engaging with the UK government" </p></div><div data-component="text-block"><p>But she added it was imperative that campaigners press for a public commitment that the "unchecked and unprecedented power" in the bill to undermine private communications would not be used. </p></div><div data-component="text-block"><p>After royal assent the baton will pass to the communications regulator, Ofcom, who will be largely responsible for enforcing the bill.</p></div><div data-component="text-block"><p>It will draw up codes of conduct that will provide guidance on how to comply with the new rules.</p></div><div data-component="text-block"><p>Those who fail can face large fines of up to £18m, or in some cases executives could face imprisonment.</p></div><div data-component="text-block"><p>Dame Melanie Dawes, chief executive of Ofcom, called the bill's passage through parliament "a major milestone in the mission to create a safer life online for children and adults in the UK." "Very soon after the Bill receives Royal Assent, we'll consult on the first set of standards that we'll expect tech firms to meet in tackling illegal online harms, including child sexual exploitation, fraud and terrorism," she added.</p></div><div data-component="text-block"><p>There is a lot staked on the success of the bill - not only the safety of children and adults, but also the UK's ambitions as a tech hub and possibly, if things go wrong, continued access to popular online services.</p></div><div data-component="text-block"><p>For Prof Woods the bill will be a success if social media companies and others are more responsive to user concerns.</p></div><div data-component="text-block"><p>"And maybe we won't have to see quite so much of the stuff we don't want to see in the first place. But I don't think we should expect perfection. Life's not perfect," she said. </p></div><section data-component="links-block"><p><h2>More on this story</h2></p></section></article></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Hydra - Open-Source Columnar Postgres (111 pts)]]></title>
            <link>https://www.hydra.so/blog-posts/hydra-1-generally-available</link>
            <guid>37571974</guid>
            <pubDate>Tue, 19 Sep 2023 16:05:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.hydra.so/blog-posts/hydra-1-generally-available">https://www.hydra.so/blog-posts/hydra-1-generally-available</a>, See on <a href="https://news.ycombinator.com/item?id=37571974">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div>

<p>
    <iframe src="https://www.youtube.com/embed/1yzxgb0Oyrw?si=Sz3c0KzfqEbHHZnm" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p></div><p>‍</p><p>‍<strong>Hydra is an open-source extension that adds columnar tables to Postgres for efficient analytical reporting. With Hydra, you can analyze billions of rows instantly without changing code.</strong></p><p>Hydra augments Postgres’ existing row-based tables, enabling developers to tailor Postgres to their application’s custom transactional and analytical needs. Hydra combines a columnar format, vectorized execution, and parallelism to supercharge modern applications that aren’t wholly transactional or fully analytical, such as real-time dashboards, IOT, geospatial &amp; logistics apps, and time-series workloads.</p><h3>Tailor Postgres to your modern, real-time apps</h3><h5>👸 <strong>Columnar tables = OLAP</strong></h5><p>OLAP (Online Analytical Processing) is designed to support analytical workloads, such as data mining, reporting, and business intelligence. OLAP systems typically use a multidimensional data model, which allows users to analyze data from multiple perspectives and at different levels of detail. OLAP systems are often used in decision support applications, where users need to quickly and easily analyze large amounts of data.</p><h5>🤴 <strong>Row tables (heap) = OLTP</strong></h5><p>OLTP (Online Transactional Processing) is optimized for a large number of small, frequent transactions that insert, update, delete, and retrieve data from a database. This type of system manages real-time data processing for record lookups, fast writes, high concurrency, and useful for order entry, sales, financial applications, and more.</p><h5>👸🤝🤴 <strong>Row + Columnar tables = HTAP</strong></h5><p>HTAP (Hybrid Transactional Analytical Processing) combines the strengths of OLTP and OLAP into a single system. When transactions occur, they are instantly accessible for analytics and machine learning. HTAP is commonly used when reporting latency must be low, such as financial analysis, IOT alerting, fraud detection, supply chain management, customer-facing dashboards, and applications with real-time decision making.</p><figure><p><img src="https://uploads-ssl.webflow.com/640edc15766e12e0d8f226dc/6508c75d0cea27729aea81ca_OLTP%2C%20HTAP%2C%20OLAP%20diagram%20(3).png" loading="lazy" alt="Graph showing OLTP. HTAP and OLAP"></p></figure><h3>Columnar tables 101</h3><p>Columnar tables are organized transversely from row tables. For example, take the following table stored in row format:</p><div>

<table>
    <tbody><tr>
        <td>Joe</td>
        <td>156789</td>
        <td>Blue</td>
        <td>Platinum</td>
    </tr>
    <tr>
        <td>Felisha</td>
        <td>119988</td>
        <td>Red</td>
        <td>Gold</td>
    </tr>
    <tr>
        <td>Sam</td>
        <td>232667</td>
        <td>Green</td>
        <td>Silver</td>
    </tr>
</tbody></table></div><p> 
    The order of the data would be: 
    <span>
        | Joe | 156789 | Blue | Platinum | Felisha | 119988 | Red | Gold | Sam | 232667 | Green | Silver |
    </span>
</p><p>The same data stored in columnar can be visualized as follows:</p><div>

<table>
    <tbody><tr>
        <td>Joe</td>
        <td>Felisha</td>
        <td>Sam</td>
    </tr>
    <tr>
        <td>156789</td>
        <td>119988</td>
        <td>232667</td>
    </tr>
    <tr>
        <td>Blue</td>
        <td>Red</td>
        <td>Green</td>
    </tr>
    <tr>
        <td>Platinum</td>
        <td>Gold</td>
        <td>Silver</td>
    </tr>
</tbody></table></div><p> 
As columnar, the order of the data would be:
    <span>
   | Joe | Felisha | Sam | 156789 | 119988 | 232667 | Blue | Red | Green | Platinum | Gold | Silver |
   </span>
</p><p>Learn more in <a href="https://docs.hydra.so/organize/data-modeling/row-vs-column-tables">our docs</a>.</p><h3>Using Hydra</h3><p>Hydra makes use of <span>tableam</span> (table access method API), which was added in Postgres 12 released in 2019. Using <span>tableam</span> engineers can flexibly define when a table is row (heap) or column-oriented in their Postgres database.</p><div>

<p>postgres=# <span>CREATE TABLE</span> heap_table (id INT) USING <span>heap</span>;
<span>CREATE TABLE</span>
postgres=# <span>CREATE TABLE</span> columnar_table (id INT) USING <span>columnar</span>;
<span>CREATE TABLE</span>
postgres=# \dt+
List of <span>relations</span>
<span>Schema</span>    | Name          | <span>Type</span>   | Owner    | Persistence | <span>Access method</span> | Size  | Description
-------------+--------------+-------+---------+-------------+-------------------+-------+-------------
<span>public</span>     | columnar_table | <span>table</span>   | postgres | permanent    | <span>columnar</span>         | 16 kB |              
<span>public</span>     | heap_table     | <span>table</span>   | postgres | permanent    | <span>heap</span>            | 0 bytes |
(2 <span>rows</span>)
</p></div><p>It’s super simple to swap table format:</p><div>

<p><span>CREATE TABLE</span> my_table (i INT8) <span>USING</span> heap;

<span>SELECT</span> columnar.alter_table_set_access_method(<span>'my_table'</span>, <span>'columnar'</span>);

<span>SELECT</span> columnar.alter_table_set_access_method(<span>'my_table'</span>, <span>'heap'</span>);
</p></div><div>
    <p>🔔</p> <!-- This is an emoji, you can replace with any other or an SVG icon -->
    <p>
    Please note: When creating tables in Hydra the table access method has been set to <span>USING columnar</span> by default. For example, when data is first loaded into a Hydra database, all tables are formatted as column-oriented.
</p> </div><h3>Benchmarks</h3><p><strong>Hydra columnar tables enable the fastest Postgres aggregates</strong> <strong>on earth.</strong></p><p><a href="https://tinyurl.com/clickbench"><strong>Review Clickbench</strong></a> for comprehensive results and the list of 42 queries tested.</p><p>This benchmark represents typical workload in the following areas: clickstream and traffic analysis, web analytics, machine-generated data, structured logs, and events data.</p><p>Benchmarks were run on a c6a.4xlarge (16 vCPU, 32 GB RAM) with 500 GB of GP2 storage.</p><p><strong>For our continuous benchmark results, see </strong><a href="https://github.com/hydradatabase/hydra/blob/main/BENCHMARKS.md"><strong>BENCHMARKS</strong></a><strong>.</strong></p><h3>Release Notes</h3><p>Aggregate queries are over <strong>60% faster</strong> compared to Hydra 1.0 beta release. Spatial indexes and pg_hint_plan are now enabled for performance optimization.</p><p>Please refer to Hydra 1.0 <a href="https://www.notion.so/0332c439427b4e7e92ec2a2b7f40a81b?pvs=21">beta release notes</a> here.</p><h4>Aggregate vectorization</h4><p>We added vectorization of integer and date data that is stored in a columnar table. Vectorization happens automatically whenever applicable. The following aggregate functions are vectorized:</p><ul role="list"><li>MIN</li><li>MAX</li><li>COUNT</li><li>SUM</li><li>AVG</li></ul><p>‍</p><p>Vectorization can result in aggregate queries being over <a href="https://bencher.dev/perf/hydra-postgres?benchmarks_page=2&amp;testbeds_page=1&amp;branches_page=1&amp;reports_page=1&amp;tab=benchmarks&amp;branches=e6bcbe0c-210d-4ab1-8fe4-5d9498800980&amp;testbeds=1d3283b3-3e52-4dd0-a018-fb90c9361a2e&amp;metric_kind=query-time&amp;reports_per_page=4&amp;branches_per_page=8&amp;testbeds_per_page=8&amp;benchmarks_per_page=8&amp;clear=true&amp;benchmarks=e5249f00-a108-4164-8c36-d39fed2bdfd2%2Cd488714b-81cd-4183-9856-334980ef16f3%2Cce4c8327-46d1-4bb3-95ca-be810fd818ee"><strong>60% faster</strong></a>. If vectorized aggregate is not found or execution plan is not suitable, Hydra falls back to standard Postgres execution.</p><p>
    Hydra uses automatic vectorization by the compiler for vectorization. We have enabled <span>-O3</span> optimizations in our compilation process to maximize this effect.
</p><p>This optimization is for Postgres 14+ only.</p><h4>Spatial index types and pg_hint_plan</h4><p>
    After testing, we have enabled gin, gist, spgist, and rum indexes on columnar tables, enabling indexes for geospatial queries. We have also added <span>pg_hint_plan</span> to enable you to experiment with the query plan to maximize performance. Recommendations for indexing and using pg_hint_plan are available in our documentation.
</p><h3>Developer Changelog</h3><p><a href="https://github.com/hydradatabase/hydra/blob/main/CHANGELOG.md"><strong>View or full CHANGELOG&nbsp;on Github.</strong></a></p><div>
    <p>Limitations</p>
    <p>Hydra Columnar currently does not support the following Postgres features. These features are available on 
    <span>heap</span> tables for transactional workloads.</p>

    <ul>
        <li>Upsert (<a href="https://www.postgresql.org/docs/12/sql-insert.html#SQL-ON-CONFLICT">ON CONFLICT</a> statements, except <span>DO NOTHING</span> actions with no target specified)
            <ul>
                <li>We are <a href="https://github.com/hydradatabase/hydra/issues/49">targeting upsert for version 1.1</a>.</li>
            </ul>
        </li>
        <li>Tuple locks (<span>SELECT ... FOR SHARE, SELECT ... FOR UPDATE</span>)</li>
        <li><span>SERIALIZABLE</span> isolation level</li>
        <li>Foreign keys</li>
        <li>Logical decoding</li>
        <li><span>AFTER ... FOR EACH ROW</span> triggers</li>
        <li><span>UNLOGGED</span> columnar tables</li>
    </ul>
</div><p>‍</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Quantum Resistance and the Signal Protocol (260 pts)]]></title>
            <link>https://signal.org/blog/pqxdh/</link>
            <guid>37571919</guid>
            <pubDate>Tue, 19 Sep 2023 16:02:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://signal.org/blog/pqxdh/">https://signal.org/blog/pqxdh/</a>, See on <a href="https://news.ycombinator.com/item?id=37571919">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><img src="https://signal.org/blog/images/pqxdh_header.png" alt="An abstract illustration of a Bloch Sphere"></p><p>The Signal Protocol is a set of cryptographic specifications that provides end-to-end encryption for private communications exchanged daily by billions of people around the world. After its publication in 2013, the Signal Protocol was adopted not only by Signal but well beyond. Technical information on the Signal Protocol can be found in the specifications section of our <a href="https://signal.org/docs/" title="Signal Technical Information">docs</a> site.</p><p>Today we are happy to announce the first step in advancing quantum resistance for the Signal Protocol: an upgrade to the <a href="https://signal.org/docs/specifications/x3dh/" title="The X3DH Key Agreement Protocol">X3DH</a> specification which we are calling <a href="https://signal.org/docs/specifications/pqxdh/" title="The PQXDH Key Agreement Protocol">PQXDH</a>. With this upgrade, we are adding a layer of protection against the threat of a quantum computer being built in the future that is powerful enough to break current encryption standards.</p><p>This post is written to introduce this work to non-experts, and will review what quantum computing is and the challenges it presents for current cryptographic algorithms, before providing a high level overview of how we are adapting our specifications to answer these challenges. If you would like to skip this summary and explore our PQXDH specification in depth, you can read our technical whitepaper <a href="https://signal.org/docs/specifications/pqxdh/" title="The PQXDH Key Agreement Protocol">here</a>.</p><h2 id="public-key-cryptography-primer">Public Key Cryptography Primer</h2><p>In order to explain why quantum computers pose a risk to existing cryptographic algorithms, it is first necessary to understand some of the broad strokes of how these algorithms work. The most logical place to start is with the <a href="https://wikipedia.org/wiki/RSA_(cryptosystem)" title="The RSA Cryptosystem">RSA Cryptosystem</a>, because it provides an accessible example.</p><p>The RSA Cryptosystem is one element in a category of algorithms known as public key cryptosystems. Public key cryptosystems make it possible for someone to publish a public key that anyone can use to encrypt messages to that person. The person keeps a related private key which allows them to decrypt any message that has been encrypted with their published public key.</p><p>In order to make this work, RSA relies on a mathematical one-way function. A one-way function is easy to compute in one direction, but requires substantially more work to compute in reverse. The one-way function RSA relies upon is the multiplication and factorization of large prime numbers. It is computationally easy to multiply two large primes together to compute the product, but much more computationally intensive to find the original primes from their product.</p><p>The RSA cryptosystem works by first picking two large prime numbers at random and publishing the product of the two as one part of a public key. The selected prime numbers are kept private. This relies upon the difficulty of factoring this product to keep the two primes secret.</p><p>Although we have used RSA as an example to aid this primer, Signal does not use the RSA Cryptosystem in its protocols. Instead, Signal uses <a href="https://wikipedia.org/wiki/Elliptic-curve_cryptography" title="Elliptic Curve Cryptography">elliptic curve cryptography</a> as the public key cryptosystem supporting many of its specifications. Instead of prime <a href="https://wikipedia.org/wiki/Integer_factorization" title="Integer Factorization">integer factorization</a>, as in the RSA example above, elliptic curve cryptography relies upon the <a href="https://wikipedia.org/wiki/Discrete_logarithm" title="Discrete Logarithm Problem">discrete logarithm problem</a> as its one-way function. While these two problems are distinct, they are both instances of a mathematical problem known as the <a href="https://wikipedia.org/wiki/Hidden_subgroup_problem" title="Hidden Subgroup Problem">hidden subgroup problem</a>.</p><h2 id="quantum-computing">Quantum Computing</h2><p>Quantum computing represents a new type of computational system which leverages quantum mechanical properties to solve certain complex problems many orders of magnitude more quickly than modern classical computers. Instead of bits as in a classical computer, quantum computers operate on qubits. Rather than 0 or 1, qubits can exist in a superposition of states, in some sense allowing them to be both values at once. One place where quantum computers appear to have a significant advantage over classical computers is solving instances of the <a href="https://wikipedia.org/wiki/Hidden_subgroup_problem" title="Hidden Subgroup Problem">hidden subgroup problem</a>.</p><p>Quantum computing is unlikely to replace or supplant classical computers for our day-to-day use for the foreseeable future because classical computers are often better at the typical use cases for our laptops, tablets, and phones. Quantum computing systems will likely be built to take alternate approaches to some of the problems we rely on supercomputers to tackle today, whether this is modeling protein folding, forecasting weather, or factoring large numbers. It’s important to understand that quantum computers are not “better” computers but rather different types of computers.</p><p>Although quantum computers already exist, the systems known to exist today do not yet have <a href="https://research.ibm.com/blog/factor-15-shors-algorithm" title="It's been 20 years since \&quot;15\&quot; was factored on quantum hardware">enough qubits</a> to pose a threat to the public-key cryptography that Signal currently uses. However, if a sufficiently powerful quantum computer were built in the future, it could be used to compute a private key from a public key thereby breaking encrypted messages. This kind of threat is known as <a href="https://wikipedia.org/wiki/Harvest_now,_decrypt_later" title="Harvest Now, Decrypt Later">Harvest Now, Decrypt Later (HNDL)</a>.</p><p>The timeline for when a sufficiently powerful quantum computer may be created is a matter of great debate. On the low end, some argue it is only a couple of years away. On the high end some say 30+ years, and there are even those who assert that we may never solve the challenges necessary to make a quantum computer with enough coherent qubits to break the current public key cryptosystems. The middle ground seems to be around the 5 to 10 year time horizon. We are not in a position to judge which timeline is most likely, but we do see a real and growing risk which means we need to take steps today to address the future possibility of a large enough quantum computer being created.</p><h2 id="securing-signal-against-a-future-quantum-computer">Securing Signal Against a Future Quantum Computer</h2><p>To address this problem, new post-quantum cryptosystems have been created to implement new one-way functions that cannot be advantageously reversed by a quantum computer. Thanks to innovation from cryptographic researchers and the <a href="https://csrc.nist.gov/projects/post-quantum-cryptography" title="NIST Post-Quantum Cryptography">NIST Standardization Process for Post-Quantum Cryptography</a> we now have stable options that have been created and vetted by a large community of experts.</p><p>Even with the contributions of a community of experts, building and evaluating these new cryptosystems remains a challenging endeavor. During NIST’s standardization process, one of the post-quantum algorithm candidates was found to be <a href="https://cacm.acm.org/news/269080-nist-post-quantum-cryptography-candidate-cracked/fulltext" title="NIST Post-Quantum Cryptography Candidate Cracked">attackable</a> by a classical computer. While this shows that the scrutiny of the standardization process is working, it also suggests that one should integrate these new post-quantum options cautiously.</p><p>We believe that the key encapsulation mechanism we have selected, <a href="https://pq-crystals.org/kyber/" title="CRYSTALS-Kyber">CRYSTALS-Kyber</a>, is built on solid foundations, but to be safe we do not want to simply replace our existing <a href="https://wikipedia.org/wiki/Elliptic-curve_cryptography" title="Elliptic Curve Cryptography">elliptic curve cryptography</a> foundations with a post-quantum public key cryptosystem. Instead, we are augmenting our existing cryptosystems such that an attacker must break <em>both</em> systems in order to compute the keys protecting people’s communications.</p><p>The essence of our protocol upgrade from <a href="https://signal.org/docs/specifications/x3dh/" title="The X3DH Key Agreement Protocol">X3DH</a> to <a href="https://signal.org/docs/specifications/pqxdh/" title="The PQXDH Key Agreement Protocol">PQXDH</a> is to compute a shared secret, data known only to the parties involved in a private communication session, using both the elliptic curve key agreement protocol <a href="https://wikipedia.org/wiki/Curve25519" title="X25519">X25519</a> and the post-quantum key encapsulation mechanism <a href="https://pq-crystals.org/kyber/" title="CRYSTALS-Kyber">CRYSTALS-Kyber</a>. We then combine these two shared secrets together so that any attacker must break both X25519 and CRYSTALS-Kyber to compute the same shared secret.</p><p>Our new protocol is already supported in the latest versions of Signal’s client applications and is in use for chats initiated after both sides of the chat are using the latest Signal software. In the coming months (after sufficient time has passed for everyone using Signal to update), we will disable <a href="https://signal.org/docs/specifications/x3dh/" title="The X3DH Key Agreement Protocol">X3DH</a> for new chats and require <a href="https://signal.org/docs/specifications/pqxdh/" title="The PQXDH Key Agreement Protocol">PQXDH</a> for all new chats. In parallel, we will roll out software updates to upgrade existing chats to this new protocol.</p><h2 id="future-work">Future Work</h2><p><a href="https://signal.org/docs/specifications/pqxdh/" title="The PQXDH Key Agreement Protocol">PQXDH</a> protects messages exchanged on Signal against the threat of a future quantum computer. We will need to make further upgrades to address the threat of an attacker with a contemporaneous quantum computer. Further research in the area of post-quantum cryptography will be needed to fill in the remaining gaps. We recommend reading the security considerations section of our <a href="https://signal.org/docs/specifications/pqxdh/" title="The PQXDH Key Agreement Protocol">PQXDH whitepaper</a> for more information on the areas of open research.</p><h2 id="acknowledgements">Acknowledgements</h2><p>We want to extend our sincerest thanks and appreciation to all the people who contributed to the development of this protocol upgrade. This includes the cryptographic research community, the Kyber team, and the following people who directly <a href="https://signal.org/docs/specifications/pqxdh/#acknowledgements" title="PQXDH: Acknowledgements">contributed</a> to our whitepaper:</p><ul><li>Bas Westerbaan</li><li>Chris Peikert</li><li>Daniel Collins</li><li>Deirdre Connolly</li><li>John Schanck</li><li>Jon Millican</li><li>Jordan Rose</li><li>Karthik Bhargavan</li><li>Loïs Huguenin-Dumittan</li><li>Peter Schwabe</li><li>Rune Fiedler</li><li>Shuichi Katsumata</li><li>Sofía Celi</li><li>Trevor Perrin</li><li>Yo’av Rieck</li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Graph Neural Networks use graphs when they shouldn't (122 pts)]]></title>
            <link>https://arxiv.org/abs/2309.04332</link>
            <guid>37571535</guid>
            <pubDate>Tue, 19 Sep 2023 15:40:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2309.04332">https://arxiv.org/abs/2309.04332</a>, See on <a href="https://news.ycombinator.com/item?id=37571535">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2309.04332.pdf">Download PDF</a></p><blockquote>
            <span>Abstract:</span>Predictions over graphs play a crucial role in various domains, including social networks, molecular biology, medicine, and more. Graph Neural Networks (GNNs) have emerged as the dominant approach for learning on graph data. Instances of graph labeling problems consist of the graph-structure (i.e., the adjacency matrix), along with node-specific feature vectors. In some cases, this graph-structure is non-informative for the predictive task. For instance, molecular properties such as molar mass depend solely on the constituent atoms (node features), and not on the molecular structure. While GNNs have the ability to ignore the graph-structure in such cases, it is not clear that they will. In this work, we show that GNNs actually tend to overfit the graph-structure in the sense that they use it even when a better solution can be obtained by ignoring it. We examine this phenomenon with respect to different graph distributions and find that regular graphs are more robust to this overfitting. We then provide a theoretical explanation for this phenomenon, via analyzing the implicit bias of gradient-descent-based learning of GNNs in this setting. Finally, based on our empirical and theoretical findings, we propose a graph-editing method to mitigate the tendency of GNNs to overfit graph-structures that should be ignored. We show that this method indeed improves the accuracy of GNNs across multiple benchmarks.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Maya Bechler-Speicher [<a href="https://arxiv.org/show-email/8a42092b/2309.04332">view email</a>]      <br>    <strong>[v1]</strong>
        Fri, 8 Sep 2023 13:59:18 UTC (2,749 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Show HN: Graphite – Stacked Diffs on GitHub (153 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=37570929</link>
            <guid>37570929</guid>
            <pubDate>Tue, 19 Sep 2023 15:03:24 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=37570929">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><td colspan="2"></td><td><div><p>TLDR; Graphite enables a git workflow called “stacking” - the fastest way to develop and ship code, which many large tech companies have been using for years. Graphite makes stacking available to anyone with a GitHub account.</p><p>Hi HN!</p><p>I’m Tomas, co-founder of graphite.dev, and today we’re launching Graphite after almost two years of development in closed beta. [1] Graphite started as an internal solution to our own problem. When we (engineers from Meta, Google and Airbnb) left our previous roles, we lost access to the internal code review tools we loved. So we built our own.</p><p>https://graphite.dev</p><p>---</p><p>Graphite is how the fastest developers ship code - it’s a developer tool that allows you to create smaller pull requests, stay unblocked, and ship faster with “stacking” (creating a set of dependent pull requests). Stacking [2] allows developers to break up large pull requests (PRs) into smaller ones that can be reviewed &amp; merged independently, while keeping ongoing development unblocked. Engineering best practices at Google advise that a “reasonable” PR be around 100 lines, and recommend splitting PRs in order to achieve this through stacking or other methods. [3]</p><p>Unlike other tools like Phabricator, Gerrit, or Sapling, Graphite syncs seamlessly with your GitHub repositories, so that you don’t have to manage any extra infrastructure. This also means that even if your teammates don’t use Graphite yet, you still can.</p><p>Here’s what you can expect when you sign in to Graphite with your GitHub account:</p><p>(1) First class support for stacking: At its core, Graphite enables “stacking”—a workflow used by engineers at top companies like Meta and Google to create small, dependent sets of pull requests. The Graphite CLI, web app, and VS Code extension all come together to empower engineers to start stacking.</p><p>(2) Pull request inbox: You can think of this as your home page on Graphite, where you have full visibility into the status of all your PRs and know what still needs to be done across every repo, author, and stage of review. You can also create custom inboxes that filter PRs on reviewers, authors, labels, CI status, and more.</p><p>(3) Streamlined code review interface: Graphite’s pull request page removes tabs and minimizes distractions, with the aim of putting your code front and center. You can use keyboard shortcuts to navigate between files and comments or to move between PRs in your stack. You can also import custom memes and gifs to add some  to your reviews too!</p><p>(4) AI-powered pull requests: Auto-generate a detailed description for every PR with our OpenAI integration. You can even turn your comments into suggested code changes (coming soon!).</p><p>(5) Real-time notifications: Connect Graphite to your Slack workspace to stay up-to-date on review requests, comments threads, merge status, and other activity on your PRs. For smaller PRs, you can leave a review (and even merge) directly from Slack.</p><p>(6) Stack-aware merges: Since Graphite is built to support a stacking workflow, it automates the manual work of rebasing PRs when it’s time to merge. You can merge your stacks with one click from the web app, or in a single command from the CLI.</p><p>Feel free to take a look at our getting started guide [4] or product tour video [5] for a tutorial on how to get started, and drop your comments to us below!</p><p>[1] http://graphite.dev/blog/launch</p><p>[2] http://stacking.dev</p><p>[3] https://google.github.io/eng-practices/review/developer/small-cls.html</p><p>[4] https://graphite.dev/docs/getting-started-with-graphite</p><p>[5] https://www.youtube.com/watch?v=sBcd9uopLOY</p></div></td></div></div>]]></description>
        </item>
    </channel>
</rss>