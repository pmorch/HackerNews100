<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 07 Feb 2024 14:00:12 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[“Wherever you get your podcasts” is a radical statement (123 pts)]]></title>
            <link>https://www.anildash.com//2024/02/06/wherever-you-get-podcasts/</link>
            <guid>39287163</guid>
            <pubDate>Wed, 07 Feb 2024 11:19:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.anildash.com//2024/02/06/wherever-you-get-podcasts/">https://www.anildash.com//2024/02/06/wherever-you-get-podcasts/</a>, See on <a href="https://news.ycombinator.com/item?id=39287163">Hacker News</a></p>
Couldn't get https://www.anildash.com//2024/02/06/wherever-you-get-podcasts/: Error: Request failed with status code 404]]></description>
        </item>
        <item>
            <title><![CDATA[How would you build an operating system? (SerenityOS with Andreas Kling) (129 pts)]]></title>
            <link>https://corecursive.com/serenity-os-with-andreas-kling/</link>
            <guid>39286638</guid>
            <pubDate>Wed, 07 Feb 2024 10:04:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://corecursive.com/serenity-os-with-andreas-kling/">https://corecursive.com/serenity-os-with-andreas-kling/</a>, See on <a href="https://news.ycombinator.com/item?id=39286638">Hacker News</a></p>
<div id="readability-page-1" class="page"><p><i>Note: This podcast is designed to be heard. If you are able, we strongly encourage you to listen to the
audio, which includes emphasis that’s not on the page</i></p><div>
<h2 id="introduction"><strong>Introduction</strong></h2>
<p><strong>Adam:</strong>
I’m Adam Gordon Bell, and this is CoRecursive. How would you build an operating system? My answer is I wouldn’t. First off, I don’t know how. And the second thing is Googling around, the best estimate seems to be that it took around 2,000 developers to build Windows XP in the 2000s. And that’s just if you can trust random Quora answers. Maybe there was even more people.</p>

<p>But actually, it is possible to build an operating system from scratch. I’ve found an existence proof. I’ve found Andreas Kling. He created SerenityOS starting from an empty Git repository. And I’m running it right now, and I’m looking at it. There’s a web browser, and there’s Solitaire. It’s like an alternate world version of the Windows 95 that I grew up using, built from scratch. Really from scratch. It looks totally familiar, but somehow different.</p>

<p>So today, I find out how he did it, how this is possible. But mainly today, I find out why. Why build an operating system from scratch? And this answer is about addiction and recovery, and about doing something so big that you can sort of reorient your life around it, and kind of come out the other side as a different person. And it all starts in the 2010s when Andreas worked at Apple. So let’s get into it.</p>
<h2 id="apple-and-webkit"><strong>Apple and Webkit</strong></h2>
<p><strong>Adam:</strong>
You hear me through your headphones, right?</p>
<p><strong>Andreas:</strong>
Mm-hmm (affirmative).</p>
<p><strong>Adam:</strong>
Do you have any questions before we start?</p>
<p><strong>Andreas:</strong>
Not really, I guess if my audio is coming through and everything is good on the technical side, then yeah, I’m up for anything.</p>
<p><strong>Adam:</strong>
<em>Andrea’s worked on WebKit, which is what powers Safari. And he first worked remotely for Apple from his native Sweden, where his typical day looked like this:</em></p>
<p><strong>Andreas:</strong>
Waking up really late, partly because it was comfortable, but also because all of my coworkers would wake up in a different time zone anyway. So it all kind of worked out with my morning sleepiness, and then kind of just obsessively working on WebKit and Safari stuff most of the day. Really just sitting at the computer the whole day. I didn’t have a very multifaceted lifestyle back then. It was all work all the time. And when I had a chance to hang out with other people, I would sort of take a break from work by just drinking and doing drugs. Those were the two mode I had. So workaholism or other isms.</p>
<p><strong>Adam:</strong>
<em>That was working in Sweden, but eventually he went to work in Cupertino, and he lived in San Francisco where his life was very different, but also sort of the same.</em></p>
<p><strong>Andreas:</strong>
So I would just wake up in the morning in San Francisco and get myself to the last Apple commute bus. I was the leaving. I think it was at 10:00 the morning or something like that. Ride it down to Cupertino, spend the day in the office just working on whatever we were doing at the time. Usually some kind of performance optimization stuff or benchmark tracking. And I would almost always stay until the very end of the day. So I would grab the very last commute bus home to San Francisco and then come home at 10:00 PM.</p>

<p>It was a fairly intense lifestyle. But at the time, it just seemed like everything I wanted from life. As far as I was concerned, I was living my childhood dream. Right? Because I wanted to be a programmer, and now I was. And I didn’t do anything but, so surely that must be the dream.</p>

<p>Obviously I can see now that it was a very single-minded existence, I guess. I guess it felt at times like I was putting everything else in my life on hold and not really advancing on any other axis other than career. But I guess I told myself that I was living the dream, so there was nothing to fulfill. And that’s how I sort of was able to exist in that state for a while.</p>

<p>I mean, I loved working there for the years that I did at first. It was just towards the end that I got a bit disillusioned. I certainly enjoyed the technical excellence of the people there and getting to work on such tightly integrated solutions and systems was really cool.</p>
<h2 id="owning-the-stack"><strong>Owning the Stack</strong></h2>
<p><strong>Adam:</strong>
<em>One thing he picked up at Apple was a style of development that’s a bit different than what I’m used to. A lot of development today for me seems to be gluing various components together into a working system. But at Apple, everything is in-house. The web browser you use, the system calls you make, maybe even the programming language you use if you’re using Swift. They’re not black boxes, they’re just something made for you by one of your colleagues. You can ask questions, you can make improvements. It’s all just code there in source control.</em></p>
<p><strong>Andreas:</strong>
I still feel that nobody really does that better than Apple. They control the whole stack, and they really take advantage of that. Especially lately with putting out their own CPUs and everything now as well. That’s been really awesome. And I enjoyed learning from that environment what is really possible if you control more of the stack.</p>
<p><strong>Adam:</strong>
<em>That’s going to be a theme in this episode and of SerenityOS really. Control everything, keep it all in one big place, and build it all in-house.</em></p>
<p><em>But the other theme is struggling with escalating drinking and drug use. In Cupertino, Andreas was also going to the bar that’s near the Apple campus most nights and using drugs here and there. But that was really nothing new for him.</em></p>
<h2 id="escalating-drinking-and-drug-use"><strong>Escalating Drinking and Drug Use</strong></h2>
<p><strong>Andreas:</strong>
That was sort of always part of my personality I think. Ever since I was a teenager, I first tried drinking, tried doing drugs. I discovered that I had an endless appetite for them. And when left to my own devices, that’s sort of where I would just naturally drift to. So if there was nothing to keep my attention, I would just end up drinking or end up doing drugs. And I didn’t think too much of it when I was younger because I had this association that it was cool, or that it’s fine, or whatever. Or that it’s not really a problem. I can quit whenever I want, the cliches. And like anybody else, I was totally bought into the cliche of it’s just a casual recreational use, and I can stop whenever.</p>

<p>And I think the two things that drove escalation for me was a much larger paycheck after going into big tech, because big tech pays well. And if you have more money, you can buy bigger and more dangerous drugs. And since that was just my natural tendency, that’s something that I started doing.</p>
<p><strong>Adam:</strong>
So what does that mean? Having a drink at lunch, or does that mean keeping cocaine on your desk? I don’t know.</p>
<p><strong>Andreas:</strong>
The latter.</p>
<p><strong>Adam:</strong>
Yeah.</p>
<p><strong>Andreas:</strong>
Yeah.</p>
<p>It was more like that. But there was a time when it was just a drink at lunch as well. So I’ve been through the whole spectrum, but I don’t know if I ever really felt like I was doing anything wrong until I got to the point of no return and realizing that this is an unsustainable problem. But as I was making my way down the train, I never really thought that maybe this isn’t good. It’s very strange how that works. But now of course with the benefit of hindsight, I can see it more clearly. But if you had asked me at the time, I would probably have just insisted that is just a recreational thing. And what’s the big deal?</p>
<p><strong>Adam:</strong>
It almost sounds like you’re keeping things a secret from yourself to a certain extent.</p>
<p><strong>Andreas:</strong>
Yeah, for sure. For sure. I think that’s necessary if you are habitually doing things that are hurtful to yourself or to other people. Then the way that you manage sustaining that kind of lifestyle where you habitually hurt people, is that you come up with ways to rationalize it or to turn it into something else, which of course is not true. But you learn to lie to yourself.</p>
<p><strong>Adam:</strong>
<em>During this period of slow escalation, of drug use, Andreas moved back to Sweden and went back to working remote.</em></p>
<p><em>I’m a big fan of remote work. But honestly, I feel like there are some psychological dangers to it. Isolation and boredom are known mental health risk factors. I feel like that’s one of the things that makes the story important. How do you know when you’ve gone to a bad place? How do you know when you need to get help?</em></p>
<h2 id="a-trip-to-the-hospital"><strong>A Trip to the Hospital</strong></h2>
<p><strong>Adam:</strong>
<em>For Andreas, things got worse before they got better. He grew a bit detached from his teammates because they were on the opposite side of the world. And eventually, he hit a breaking point, and his family confronted him with an important message.</em></p>
<p><strong>Andreas:</strong>
I was having an unmanageable problem and I was hurting them. And having to face the fact that I’m not just making a mess of my own life, but it affects others.</p>
<p>That was sort of the thing that made me wake up, I guess. Because I think part of what made me able to justify it to myself was that the only one who gets hurt is me. But that’s not really true. That’s never really true, unless you live in complete isolation as a hermit somewhere. You always affect the people around you, but I was kind of oblivious to that until they pointed it out to me.</p>
<p>That’s when I really started to see it for the first time, really started thinking critically about it. And it wasn’t easy, and it took a long time to actually unravel. It took a long time to understand how far gone it actually was.</p>
<p><strong>Adam:</strong>
Did you immediately know that you had to change things or were you like, “Maybe a bit less cocaine, and I’ll be all right.”</p>
<p><strong>Andreas:</strong>
So I think I had a brief phase of bargaining, I guess, like anybody would. I don’t recall anymore, but it was probably several days where I would just go over the possibilities in my head. Maybe I can just do less, or maybe I can just get better at hiding it, or maybe I can just figure out some way out of this whole thing. But one thing for me was that I had already been hiding these things to the best of my ability. Not just from coworkers, but also from my family. So it was shocking to have this thing that was private suddenly become public, even to my family. I didn’t really know how to deal with that gracefully. So I think I just kind of buckled under the psychological pressure, and I didn’t have the strength to try to come up with a plan to hide it better.</p>
<p><strong>Adam:</strong>
<em>So his family took him to the hospital.</em></p>
<p><strong>Andreas:</strong>
The hospital basically flagged me as a person in trouble. And I live in Sweden. So once you get flagged by the government, then they will stay on your case. They don’t let you slip through the cracks so much. That’s how I ended up in a rehab program. They have a very, very serious social safety net here, and they follow up on stuff. So once that happened, I was sort of in the system, and I knew that now I have to do this.</p>
<p><strong>Adam:</strong>
<em>One potential problem of going to the hospital for drug abuse is that it’ll end up on your medical record. Will you get a different standard of care from doctors if they think you’re a drug abuser? Will they be concerned about treating you? This was a turning point for Andreas.</em></p>
<p><strong>Andreas:</strong>
I was sitting in the hospital, and I had to fill out a form where I consented to drug abuse being a sort of a public entry on my permanent medical record. Because they make you decide do you want your future caregivers to have access to this information?</p>
<p>That felt like the real crossroads.</p>
<p>Like okay, so now I decide does this become part of my permanent identity, or is this something that I will try to shuffle onto the rug? And I decided then to just make it public. And then I thought all right, well that was easy. And at that point, I decided that the only way that I can do this in a way that I would trust myself would be to make it completely public.</p>
<p>So I just told everybody and wanted to sort of make it part of my public identity online as well. But of course that took a bit longer to become comfortable with that idea.</p>
<h2 id="rehab"><strong>Rehab</strong></h2>
<p><strong>Adam:</strong>
<em>By this time, he had left Apple, and he was staying with his family, and biking back and forth to outpatient rehab each day. It was a 90 day program.</em></p>
<p><strong>Andreas:</strong>
I guess I felt defeated. That is really I guess how all these 12 step programs start where you admit defeat. That is usually the first up that you have to admit defeat, and that you have lost your ability to manage the situation. And that was really how I felt. So I was sort of a perfect candidate for that type of therapy.</p>

<p>But that’s not to say that everything was roses. I mean of course now, I remember the good parts. But there were really rough parts as well. And one of the things that we had to do in rehab was to try to share with each other, all the people that were there, we had to share with each other a detailed account of all the things that we had and all the mistakes that we had made, and ways we had hurt people and so on. And that was tough, making an honest accounting of that. And I don’t know if I would make it today. It would probably include more things than I was comfortable admitting to back then. So it’s an incremental process I think.</p>
<p><strong>Adam:</strong>
<em>Part of this process was going to Narcotics Anonymous meetings.</em></p>
<p><strong>Andreas:</strong>
One of the most helpful aspects of it, which was really hard to reconcile at first, was meeting a whole bunch of people who had done way worse things than I had. And just meeting people who had murdered somebody, people who had been to prison, or people who had done a hit and run or something like that. All kinds of people that you would never think it when you saw them, but they had this horrible things that they had done in the past. And it was all associated with being under the influence.</p>
<p><strong>Adam:</strong>
<em>I’ve seen these recovery meetings in various movies, Fight Club comes to mind. It was never clear to me how hearing someone else’s tales of debauchery would help you out. But for Andreas, it seemed to work.</em></p>
<p><strong>Andreas:</strong>
At first, I felt guilty for sort of looking at them and thinking, “At least I’m not as bad as that person.” Over time, I realized that that’s just sort of a healing mechanism. And it was funny because somebody that I had judged in this way, when I initially met them later, ended up telling me that they were really uncomfortable with me because they felt like I was way worse than they were. They were happy to have met me because I made them feel better about their own misdeeds. It just goes to show that it’s a really big cacophony of just people finding comfort in just hearing about the exploits of other people. And I guess using it to orient themselves around what they really are.</p>

<p>Because I think when you do a bunch of nonsense let’s call it, it’s hard to be too judgmental of your own nonsense. But when you see other people doing nonsense, it’s much easier to look at that objectively and say, “Well, that’s not good behavior.” And then when you suddenly encounter a lot of these stories of bad behavior, you start to build almost a sense of morality. Once you have that, it’s much easier to eventually relate your own experiences through that sense of morality. That’s something that we talked a lot about in the rehab program that I went to, how addiction leads to a moral bankruptcy basically. And one of the important things to do in rehab and recovery is to help people build a new sense of morality because you have been taking out loans from their morality bank for too long. And they’re just completely bankrupt, right?</p>
<p><strong>Adam:</strong>
<em>Building this new sense of morality and just going to rehab in general, they were a transformational process. But then the 90 days were over.</em></p>
<h2 id="out-of-rehab"><strong>Out of Rehab</strong></h2>
<p><strong>Andreas:</strong>
It was really confusing because I was used to waking up at seven and bicycling over to the rehab place.</p>
<p><strong>Adam:</strong>
<em>This is a dangerous time for people in recovery. He only has a couple months of experience with sober living, and it was all big is around rehab. And now he’s on his own, and he can’t fall back into his old patterns, which leaves him a bit lost.</em></p>
<p><strong>Andreas:</strong>
I was really shocked at first with just how much time there is in a day. Because when you are living in the fast lane so to say, you don’t notice time’s just flying all the time. And normal healthy lifestyle, it’s just a lot of hours in the day. And I really struggled with just coming up with stuff to do. It was a simple existence.</p>

<p>I was also trying to get back in touch with family that I had lost contact with a little bit. So I was borrowing handheld video games from my brother for example. And he just gave me this whole bundle of Nintendo DS games. And I found it hard to talk to him because I was so uncomfortable about having had this secret life. But if I could play these games that he lent me, then I could talk to him about those games. And that was sort of a way to start having a conversation again with each other. So I was just going to meetings and then trying to plow through these Nintendo DS games. That was my life at the time.</p>
<p><strong>Adam:</strong>
<em>Andreas also started getting back into programming.</em></p>
<h2 id="grandfathers-computer"><strong>Grandfather’s Computer</strong></h2>
<p><strong>Andreas:</strong>
I had this old PC that I had made for my grandfather back in 2006, I think. And that was the computer I had access to at this house I was staying. So I would wake up and press the power button on that thing, hope it would boot up one more time. And it was really on its last legs. You had to tilt the computer so that the CPU fan would short circuit the motherboard if you tilted it wrong. So you had to tilt it just right.</p>
<p><strong>Adam:</strong>
That’s awesome.</p>
<p><strong>Andreas:</strong>
I install an old version of Slackware Linux on that thing, sort of era appropriate. I don’t know, Slackware 11 or whatever from 2006, somewhere thereabouts. And I had this pretty slow machine. And then I guess I would just sit at that computer and write random programs until it was time to go to recovery meetings, and then come back and write more programs.</p>
<p><strong>Adam:</strong>
<em>This sober living, it just seemed so different to him. Even programming seemed different.</em></p>
<p><strong>Andreas:</strong>
It was astonishing how much more I could program in a day when I had no distractions. And I was just really clearheaded. And I felt like I was on the precipice of some serious productivity if I just had something to sink it into. That’s sort of when I started tinkering with some of the low level programming projects, which eventually became the Serenity Operating System. But at first, I was really kind of just experimenting with this feeling of being able to program for hours on end and just enjoying programming again, I guess, for the first time in a long time.</p>
<p><strong>Adam:</strong>
I mean, that totally makes sense. But why was the path there, why was building an operating system the therapeutic path to a new you?</p>
<p><strong>Andreas:</strong>
Well, I don’t know that I originally saw that. But the thing that made me get into the operating system path in the first place was as a child, I wanted to build my own operating system. When I was 10, 11, 12 at that age. And you can even find old Usenet posts from me as a child asking for help writing like a boot loader when I’m a kid. And totally clueless of course, but-</p>
<p><strong>Adam:</strong>
I don’t know how boot loader works right now.</p>
<p><strong>Andreas:</strong>
All right. Well, I guess most people don’t. But yeah, that’s something that I was curious about as a child. And when I came outta rehab, I guess one big thing that I was thinking a lot about was when was the last time that I felt like I was really myself. And I figured it must have been before I got access to alcohol in my life. That was sort of the original Andreas. And to get back to that, I thought okay, well what did I care about before that?</p>

<p>And one of the last things I was interested in before is going on this other life path was operating systems. It seemed kind of natural to just give it a go. See okay, what if I tried that again with everything that I’ve learned since then? And I’ve become a capable programmer since then. So what if I just put those skills to use? I have no job. Nobody’s expecting anything from me. I have money to burn for a year. So let’s just go for it and see what happens. And that’s paraphrasing my thought process, but that’s sort of how it happened.</p>

<p>It turned out to be very therapeutic. And I think the first thing that made it therapeutic was that it allowed me to actually fill up the entire day with something I found interesting, but seemed well let’s say relatively harmless, right? Compared to what I had been filling my days with for the past decade. There was nobody waiting for me anywhere, which was kind of a luxurious thing, I suppose, when you’re doing something like this. The fact that there’s nobody waiting for you to get back to work. I was just burning through savings at that point. But it seemed like a reasonable thing to do. Certainly in retrospect, I know it was very reasonable. But even at the time, it seemed like if I can get my head in order and maybe build a different type of life, a better life after this, then it doesn’t matter what it costs. I would rather have no money and be completely clearheaded, then have all the money in the world and just be a drugged out zombie for one more day. So that’s what I was doing.</p>
<p><strong>Adam:</strong>
<em>Staying with family worked during rehab, and probably made it easier to stay sober. But Andreas couldn’t live there his whole life, and his family probably their own lives to live.</em></p>
<h2 id="the-summer-cabin"><strong>The Summer Cabin</strong></h2>
<p><strong>Andreas:</strong>
So I rented a summer cabin, which was really cheap because winter was about to start, and moved out to this little summer cabin village. So it was just me in this little cabin, and nobody else was around.</p>
<p><strong>Adam:</strong>
Did it have heat?</p>
<p><strong>Andreas:</strong>
It had, what’s it called. I had to burn logs fire. So what is that called? A furnace?</p>
<p><strong>Adam:</strong>
Yeah. Or a stove, a wood stove.</p>
<p><strong>Andreas:</strong>
Yeah. Something like that. I had to bring in wood and burn it.</p>
<p><strong>Adam:</strong>
Fireplace?</p>
<p><strong>Andreas:</strong>
Fireplace. Yes. It had a fireplace. Thank you. But that was really nice. So then I just rented that cabin and stayed there, just continuing what been doing. But now in a place by myself and just getting back into the groove of having a life where there isn’t somebody who’s watching over me all the time.</p>
<p><strong>Adam:</strong>
<em>Andreas stayed there for six months, throwing himself into his operating system project.</em></p>
<p><strong>Andreas:</strong>
In some ways, I recognize that there was a compromise being made here, right? You’re trading one addiction for another. But even the therapist in my rehab program was always telling me that, “If you get addicted to cooking or to hiking, I don’t care. It’s so much better. Go do that. Eventually, you’ll get bored of it and find other things to do. Just don’t get back into the drugs.”</p>
<p>So I didn’t worry too much about substituting some really lame addiction. I guess I thought that I’ll just try it for a while as long as it’s fun. Maybe I’ll lose interest and do something else. But turns that I didn’t really lose interest. So it worked out really well.</p>
<p><strong>Adam:</strong>
What were your goals like? Besides just filling out the clock and enjoying this, did you have a direction with your project?</p>
<h2 id="linux-frustrations"><strong>Linux Frustrations</strong></h2>
<p><strong>Andreas:</strong>
Well, I don’t know that I ever had a real direction with it. But in the beginning, I remember feeling kind of frustrated with finding myself using Linux again and thinking it’s nice to be back on Linux. Everything is snappy. And the developer experience is really great, but I sure do miss having the source code for everything.</p>
<p><strong>Adam:</strong>
<em>This is a fascinating distinction to draw.</em></p>
<p><em>Linux is open source. Everyone has access to the code. But if you listen to episode 70 with Joey Hess talking about Debian, making changes can be a bureaucratic process. And that’s just for one distribution. There are hundreds of Linux distributions. Even if it’s a one line change, it could take years to get that upstreamed and spread into various Linux distributions. If you listen to episode 67 about Zig, that was one of Andrew’s motivations behind creating Zig.</em></p>
<p><em>But meanwhile, Andreas has another strategy at Apple. Everything was in one place, and everything was built internally.</em></p>
<p><strong>Andreas:</strong>
And when you’re in that environment, it’s extremely powerful.</p>
<p>So the area that I worked on primarily throughout my stay at Apple was web performance stuff. So Safari and WebKit performance, optimizations, performance work. And that type of work usually requires traversing the stack up and down, right?</p>
<p>It’s usually not as simple as, “I just have to make this little fix in the WebKit library itself, and everything is faster.” But we’d frequently had to work on stuff like image decoding libraries, and network working libraries, and whatnot. And just the access to all those layers and having the expert of whatever thing you wanted to know about. The expert was always somewhere in the building or in the adjacent building. And that’s an incredibly powerful thing.</p>
<p>If you look at open source software systems, there isn’t really anything quite like it in the Linux world for example. People are so distributed. And there are many great advantages to being distributed, but I’ve also seen some really great advantages to being centralized.</p>
<p><strong>Adam:</strong>
<em>This doesn’t mean working physically centralized this means everything is in a monorepo. Everything’s in a single file system where it’s easy to get access to. Every piece of code for everything that runs on your computer can be opened and changed. So you can make small, little iterative changes in minutes, instead of possibly years of trying to upstream some shared library.</em></p>
<p><strong>Andreas:</strong>
I remember so much leaving Apple and still having that feeling of, “I can just go and look in the source code of this thing.” And I was using a MacBook when I left Apple. I remember getting really frustrated when I couldn’t bring up the source code for stuff anymore. Because I had come to take it for granted. Right? I think I had a memory leak in QuickLook or whatever it was. I was previewing something in Finder, and it would just leak memory. And I thought I’m just going to dig into this, see what it is. And I just couldn’t anymore. And now I knew how everybody else felt.</p>

<p>That really made me think that it’s silly that I can’t have this feeling about the software that I’m using every day, unless I work at Apple. Because I think it would be cool if everybody could have that feeling about the software they use every day without having to work at Apple. The spirit of taking ownership of the whole stack, Apple doesn’t have a monopoly on that mindset. And it’s definitely something that could be replicated elsewhere.</p>
<p><strong>Adam:</strong>
So that was his goal. Although maybe it was too large to even speak, that he could build something like what Mac OS looked like if you were an Apple developer. Where everything was in one place, and in one style, and easy to change.</p>
<p><strong>Andreas:</strong>
I didn’t dare admit it to myself at first because I thought it was almost too grandiose of an idea to try to create an entirely new environment where this exists in open source. I guess I’m a little bit of the belief that if you have a great big idea, the best thing to do is not tell anybody, because it really takes the air out of it. So better to go and try to prototype the idea. And then if something comes out of it, you can show it to people. But at least in my case, whenever I tell people about some idea, I kind of tend to lose interest in the idea. So I just went to work on it instead.</p>
<p><strong>Adam:</strong>
What he’s working on is building an operating system from scratch, literally from scratch starting with a blank file. What many people mean when they talk about operating systems is the kernel, the lowest level part of the operating system, like the Linux kernel. If the software of your computer was a house, the kernel would be like the foundation and maybe the wood framing. Andreas has a much bigger goal in mind though.</p>
<h2 id="building-the-whole-operating-system"><strong>Building the Whole Operating System</strong></h2>
<p><strong>Andreas:</strong>
As far as I’m concerned, an operating system is all the software that comes with your computer. So macOS is an operating system that comes with a kernel, but also with a web browser, and a text editor, and a note-taking application, and all kinds of stuff. Right? And that’s sort of what I think of as an operating system. Not so much the Linux kernel purist idea that the kernel is the operating system.</p>
<p><strong>Adam:</strong>
<em>That’s right. He was going to build it all. He’s not just going to build the foundation and the framing. But he’s going to build the walls, and the carpet, and the stove, and even the pigments for the paint and the coffee maker. This might be where my metaphor starts to break down. Because on a computer, all of those things are just made of one thing:</em></p>
<p><strong>Andreas:</strong>
Everything is just a piece of code that somebody writes. And if we just make all those pieces of code and stack them up, it’s going to work. I had no illusions about how an operating system looks once it is put together and works. Now I didn’t know how to get there, but I reasoned that if you just start building these components one by one, eventually you’ll have the full stack and it will just gel together. So that’s what I started doing.</p>
<h2 id="learning-to-build-an-os"><strong>Learning To Build an OS</strong></h2>
<p><strong>Adam:</strong>
How do you learn how to build an operating system?</p>
<p><strong>Andreas:</strong>
Well when I started, I had no idea how to do that. So it was a gradual process for me. I always figured that the hardest part would be choosing which abstractions to use. Because once you know what the abstractions are, it’s just a matter of implementing them.</p>

<p>So I decided to make it a little bit easy for myself with Serenity to use existing abstractions or well known abstractions like Unix, right? And instead of coming up with an entirely new style of kernel, I just made a classical Unix kernel. Instead of trying to come up with a radical new UI, just used the late ’90s UI.</p>
<p><strong>Adam:</strong>
By late ’90s UI, Andreas specifically means he’s building an operating system that looks like Windows 2000. The Windows 2000 that he used as an 11 year old kid.</p>
<h2 id="windows-2000-and-synthwave"><strong>Windows 2000 and SynthWave</strong></h2>
<p><strong>Andreas:</strong>
Windows 2000 was beautiful. And it knew exactly what it was. And then, everybody got distracted because we had to turn the PC into a gaming machine, into a surfing machine. And it had to become everything. A multimedia entertainment platform. And I had just these positive childhood memories of the really serious office computer. That’s something that I wanted to rebuild I guess.</p>
<p><strong>Adam:</strong>
<em>This idea of recreating the past based on nostalgic joy is something that he learned from the music genre synthwave.</em></p>
<p><strong>Andreas:</strong>
It’s a modern music genre that takes influence from 1980s synth pop and movie soundtracks like Blade Runner and things like that. And I see this parallel between the genre of synthwave wave and what I’m doing with Serenity in that we are taking all these old ideas, but rebuilding them using modern technology and modern development practices. And it’s so much easier today to build a system that looks and feels like something from the year 2000 than it was back then. Because of course, we have way better stuff today, and we understand much more about software development.</p>

<p>Much like with synthwave, it’s so much easier to make a cool synth-pop song today than it was in 1985, because in ‘85 you needed analog synthesizers and all this advanced equipment, right? Or I guess you had digital synthesizers in ‘85, but you had much more crude tools. And in that sense, I think SerenityOS is like synthwave. It’s creating something strongly influenced by the past, but in a modern way, and in a sort of a high fidelity way with 2020 hindsight.</p>
<p><strong>Adam:</strong>
<em>So this is what Andreas was working on all day, every day when he wasn’t attending NA meetings. Just coding away in his cabin, building a new sober life for himself by throwing himself at this project.</em></p>
<h2 id="announcing-the-project-to-reddit"><strong>Announcing the Project To Reddit</strong></h2>
<p><strong>Andreas:</strong>
And then when that rental contract ran out, that’s when I made a post on Reddit about, “So I’m moving out of this house, and I just spent the last six months here writing this operating system. And here’s what it looks like.” And had a little demo video of it that I posted on YouTube as well. People were really kind of captivated by the thing I think. Of course looking back now, it’s very simple compared to what it has become. But there was something about it that was really energetic and something new, yet still familiar to everybody. I mean I don’t know. I thought a lot about what is it that makes this so interesting to people? I can never quite figure it out, but people liked it.</p>
<p><strong>Adam:</strong>
One thing I was thinking about is oftentimes, the layers below yourself as a developer seem kind of magical. So for somebody to come along and say, “Here it is. Here’s all of it.” It’s like, “Here, I started at the bottom.” It’s almost like you’re saying, “It’s not magic. Look, here. Did it?”</p>
<p><strong>Andreas:</strong>
Yeah. No, that’s true. That’s true. That’s something I heard often from people. It piqued people’s curiosity who wanted to see what a real system might look like, even though it was clearly immature. It was still an approximation of what a mature system might look like.</p>
<p><strong>Adam:</strong>
<em>Those people whose interest was piqued, they started to poke around with Serenity, try it out. And they started to contribute.</em></p>
<p><strong>Andreas:</strong>
One of the first things that somebody helped out with was writing a script that would automate the build process. And that was really, really sweet. I was very, very grateful for that. And then since then, it’s just been growing. New people pick this up every week and find something they want to hack on. And I’ve always been welcoming to new people because even if it started as a personal therapy project for me, that doesn’t mean that I don’t want other people to work on it. Right? I’m really happy to share my programming playground with anybody else who wants to write similar type of software.</p>
<p><strong>Adam:</strong>
<em>And to explain how it all worked, Andreas started recording himself. He recorded himself coding, and uploaded it onto YouTube. This didn’t come naturally to him at first.</em></p>
<p><strong>Andreas:</strong>
One of the first videos I put up on YouTube, I had this long struggle trying to print out a number in octal. And it took me a little too long. And I remember just feeling, “This is so embarrassing. Now everybody will see.” And I decided to upload it anyway because I thought, “You know what? This would probably be good for me if I just become okay with people seeing me struggling with something silly.”</p>
<p><strong>Adam:</strong>
It’s interesting because you had a secret life, and then you went to a world of nothing is secret. Was this some sort of conscious decision to be completely out there with this project?</p>
<p><strong>Andreas:</strong>
I think so. I even named it after the recovery program I was in. When you go to these 12 step meetings, then you always read the Serenity prayer at the end. The way I was thinking at the time was I need to make something that is so big and beautiful, that I will want to stick around. And I can use that as a tool to keep myself honest. If I just name it something that always recalls where it came from, and I tell everybody where it came from. So I guess I sort of saw it as a chance to build this big monument to my own recovery. And then I could never run away from it. And I would feel like such a hypocrite if I would start using drugs again and working on my Serenity Operating System at the same time. Right? So I sort of get this built-in deterrent from that.</p>
<h2 id="building-in-public"><strong>Building in Public</strong></h2>
<p><strong>Andreas:</strong>
There’s no telling what the future holds, of course. But in rehab, we often talked about how people have this tendency to, if you see an opportunity to build a back door into your life, like an escape hatch for yourself, then if you’re not conscious about those things, then you have a tendency to just build those. So I guess here, I was kind of thinking proactively and trying to build whatever the opposite of a back door is. Maybe build a window into my life instead let’s say.</p>
<p><strong>Adam:</strong>
<em>The community started watching through that window. People watched him code and then they asked him questions. How did he type so fast? How did he get started working at Apple? How do you pass a coding interview? He started off a bit nervous. But as the hours of tape accumulated, he became a pretty confident speaker. And people learned a lot watching him code. He was good at what he did. He had to get a job initially to support himself. But eventually, his YouTube fans and project contributors, they gave him enough financial support that he could dedicate to this full time.</em></p>
<p><em>A neat thing about a project this large is there’s lots of rough edges. There’s lots of parts to build. There’s lots of work to keep many people busy. When I look right now, in past 30 days, Serenity has had over 100 contributors, and the numbers continue to grow.</em></p>
<p><em>But actually growth and completion, that’s not really what this project is about.</em></p>
<h2 id="just-a-kid-who-loved-computers"><strong>Just a Kid who Loved Computers</strong></h2>
<p><strong>Andreas:</strong>
Unlike most other projects, we are not trying to gain users, or popularity, or anything like that. Each and every person who works on this, they just want to make something for themselves, something beautiful. And I think that gives us almost kind of a purity of purpose that I enjoy. That I always treated it as this is going to take at least 10 years to get anywhere reasonable. And it’s astonishing how much you can do if you take that perspective from the beginning. If you accept that something is going to take a long time, you don’t have to deal with that growing disappointment when you’re not getting to where you want to be immediately.</p>
<p><strong>Adam:</strong>
My very last question is did you recapture this 11 year old version of yourself and that energy that you were looking for?</p>
<p><strong>Andreas:</strong>
I think so. I’ve never felt more true to myself than I do lately. I never worry anymore about how I present myself if I’m saying the right thing or if I should try to phrase myself this way or that way. Because I can just speak from the heart, and I know that it comes out how I want it to come out.</p>

<p>Most of my life, I was very conscious of everything I would say. And I was always trying to manicure my public persona so that I could obscure how I was living my life. And it is a very good feeling to not do that, and to just sort of speak candidly and honestly about everything and anything. And that’s really how I was like when I was 11. I wasn’t cynical, and I wasn’t trying to hide anything. I was just a kid who loved computers. And I think I became that again. And I’m happy about that.</p>
<h2 id="next-steps"><strong>Next Steps</strong></h2>
<p><strong>Adam:</strong>
You can find Andreas on YouTube. Serenity isn’t done, but you can use it. I don’t think it’s the type of project that will ever be complete. If you want to learn how to build an operating system, or systems programming, or modern C++, or just watch hundreds of hours of a calm person working diligently at a project that he thinks might take all his life, you should totally check him out on YouTube. And as you’ve probably gotten a taste of here, his openness and candor speaking about his life is very endearing. So you should check that out.</p>

<p>Also, if you want to hear more about his time at Apple and how it was both an amazing experience and a problematic one, and more about the Serenity project and how it can be transformative for people who join, check out the Patreon episode. It’s going to be out on the 15th. Oh yeah. And we didn’t even cover this, but they’re building a full web browser from scratch. I heard someone say that the web standards are so complex right now, that it wouldn’t be possible to build a new web browser. But here, the Serenity team is doing it. And you can watch them.</p>
<p><strong>Adam:</strong>
If you want to hear that and more like it, please support the podcast on Patreon to unlock those episodes. And until next time, thank you so much for listening.</p>
<form action="https://app.convertkit.com/forms/2082075/subscriptions" method="post" data-sv-form="2082075" data-uid="99a50e1950" data-format="inline" data-version="5" data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;:&quot;message&quot;,&quot;success_message&quot;:&quot;Success! Now check your email to confirm your subscription.&quot;,&quot;redirect_url&quot;:&quot;&quot;},&quot;analytics&quot;:{&quot;google&quot;:null,&quot;facebook&quot;:null,&quot;segment&quot;:null,&quot;pinterest&quot;:null,&quot;sparkloop&quot;:null,&quot;googletagmanager&quot;:null},&quot;modal&quot;:{&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;powered_by&quot;:{&quot;show&quot;:true,&quot;url&quot;:&quot;https://convertkit.com?utm_source=dynamic&amp;utm_medium=referral&amp;utm_campaign=poweredby&amp;utm_content=form&quot;},&quot;recaptcha&quot;:{&quot;enabled&quot;:false},&quot;return_visitor&quot;:{&quot;action&quot;:&quot;show&quot;,&quot;custom_content&quot;:&quot;&quot;},&quot;slide_in&quot;:{&quot;display_in&quot;:&quot;bottom_right&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;sticky_bar&quot;:{&quot;display_in&quot;:&quot;top&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15}},&quot;version&quot;:&quot;5&quot;}" min-width="400 500 600 700 800">

<div data-style="minimal">

<p>
Hello, <br>I make CoRecursive because I love it when someone shares the details behind some project, some bug, or some incident with me.
</p><p>
No other podcast was telling stories quite like I wanted to hear.
</p><p>
Right now this is all done by just me and I love doing it, but it's also exhausting.
</p><p>
Recommending the show to others and contributing to this patreon are the biggest things you can do to help out.
</p><div><p>
Whatever you can do to help, I truly appreciate it!</p><p>
Thanks! Adam Gordon Bell
</p></div>
<p><a href="https://www.patreon.com/adamgordonbell">Support The Podcast</a>
</p></div>
</form>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[RustPython (258 pts)]]></title>
            <link>https://rustpython.github.io/</link>
            <guid>39286458</guid>
            <pubDate>Wed, 07 Feb 2024 09:38:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://rustpython.github.io/">https://rustpython.github.io/</a>, See on <a href="https://news.ycombinator.com/item?id=39286458">Hacker News</a></p>
<div id="readability-page-1" class="page"><div aria-label="Content">
        <section>
    <!-- site title, logo and description -->
    <!-- to update, edit the global site config.yaml -->
    <div>
            <p><img src="https://rustpython.github.io/assets/img/rust-python-logo.svg" alt="RustPython Logo">
            </p>
            <div>
                <p>RustPython</p>
                <p>
                        An open source Python 3 (CPython &gt;= 3.11.0) interpreter written in Rust 🐍 😱 🤘
                    </p>
            </div>
        </div>

    <!-- explainer table + paragraph and links to demos -->
    <!-- to update, edit index.markdown file in the root folder  -->
    <div>
        <table>
            <tbody><tr>
               <td>
                    <img src="https://rustpython.github.io/assets/img/python-logo.svg" alt="Python Logo">
                    Python
               </td>
                <td></td><td></td>
            </tr>
            <tr>
                <td>
                    ↓
                </td>
                <td></td><td></td>
            </tr>
            <tr>
                <td><p><span>Rust</span><span>Python</span>
                </p></td>
                <td>
                    →
                </td>
                <td><p>Python embedded in Rust apps</p></td>
            </tr>
            <tr>
                <td>
                    ↓
                </td>
                <td></td><td></td>
            </tr>
            <tr>
                <td><p><img src="https://rustpython.github.io/assets/img/wasm-logo.svg" alt="WebAssembly Logo">
                    WebAssembly
                </p></td>
                <td>
                    →
                </td>
                <td><p>Python on the Web</p></td>
            </tr>
        </tbody></table>
    </div>
    <p>
            RustPython is a Python interpreter written in Rust. RustPython can be embedded into Rust programs to use Python as a scripting language for your application, or it can be compiled to WebAssembly in order to run Python in the browser. RustPython is free and open-source under the MIT license.
        </p>
    
</section>

<!-- installation instructions -->
<!-- to update, edit the parameters in the index.markdown file -->
<div>
        <p> Installation</p>
        
        <p><mark> cargo install --git https://github.com/RustPython/RustPython </mark>
        
        <mark> wapm install rustpython </mark>
        
        <mark> conda install rustpython -c conda-forge </mark></p>
    </div>

<!-- goals and why rustpython -->
<!-- to update, edit the parameters in the index.markdown file -->
<div>
        <p>Goals</p>
        <div>
            
            <div>
                <p>
                    Full Python 3 environment entirely in Rust (not CPython bindings), with a clean implementation and no compatiblity hacks.
                </p>
            </div>
            
            <div>
                <p>
                    Fast, reliable and secure implementation of Python that can be used from Rust or compiled to WebAssembly.
                </p>
            </div>
            
        </div>
        <div>
                

<p>There are many implementations of Python. For example:</p>
<ul>
  <li><a href="https://github.com/python/cpython">CPython</a> (C), which is the most common</li>
  <li><a href="https://www.jython.org/">Jython</a> (Java)</li>
  <li><a href="https://ironpython.net/">IronPython</a> (.NET)</li>
  <li><a href="https://www.pypy.org/">PyPy</a> (Python)</li>
  <li><a href="http://www.stackless.com/">Stackless</a></li>
</ul>

<p>Each of these implementations offer some benefits: Jython, for example, compiles Python 2 source code to Java byte code, then routes it to the Java Virtual Machine. Because Python code is translated to Java bytecode, it looks and feels like a true Java program at runtime and so it integrates well with Java applications.</p>

<p>IronPython is well-integrated with .NET, which means IronPython can use the .NET framework and Python 2 libraries or vice versa.</p>

<p>We want to unlock the same possibilities that Jython and IronPython enable, but for the Rust programming language. In addition, thanks to Rusts’ minimal runtime, we’re able to compile RustPython to WebAssembly and allow users to run their Python code easily in the browser.</p>

            </div>
    </div>

<!-- contributor list -->
<!-- to edit, update _data/contributors.json -->


      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Mozilla's new service tries to wipe your data off the web (107 pts)]]></title>
            <link>https://www.theverge.com/2024/2/6/24062765/mozilla-monitor-plus-firefox-paid-subscription-privacy-data-broker-removal-requests</link>
            <guid>39286390</guid>
            <pubDate>Wed, 07 Feb 2024 09:27:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/2024/2/6/24062765/mozilla-monitor-plus-firefox-paid-subscription-privacy-data-broker-removal-requests">https://www.theverge.com/2024/2/6/24062765/mozilla-monitor-plus-firefox-paid-subscription-privacy-data-broker-removal-requests</a>, See on <a href="https://news.ycombinator.com/item?id=39286390">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Mozilla is introducing a new paid subscription privacy monitoring service called <a href="https://monitor.mozilla.org/">Mozilla Monitor Plus</a>. For $8.99 a month under its annual subscription, Mozilla says it will automatically keep a lookout for your information at over 190 sites where brokers sell information they’ve gathered from online sources like social media sites, apps, and browser trackers, and when your info is found, it will automatically try to get it removed. </p><p>Mozilla Monitor product manager Tony Cinotto told <em>The Verge</em> in an email that Mozilla partners with a company <a href="https://onerep.com/sites-we-remove-from">called Onerep</a> to perform these scans and subsequent takedown requests. While requests usually take between seven and 14 days to process, he says sometimes information can’t be removed. Mozilla will keep trying, he added, but will also give Plus members instructions for attempting removal themselves. </p><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="A GIF showing the process of setting up a scan with Mozilla Monitor." loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/376x249/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/384x254/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/415x275/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/480x318/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/540x358/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/640x424/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/750x497/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/828x548/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/1080x715/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/1200x795/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/1440x954/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/1920x1271/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/2048x1356/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/2400x1589/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:1125x745/2400x1589/filters:focal(563x373:564x374):no_upscale():format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25269795/Mozilla_Monitor_GIF_1.gif" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><em>Mozilla Monitor in action.</em></figcaption> <p><cite>Image: Mozilla</cite></p></div></div><p>Basic Monitor members will get a free scan and one-time removal sweep, plus continual monthly data broker scans afterward, Mozilla says. The paid subscription builds on the free dark web monitoring of Mozilla Monitor (previously Firefox Monitor), a service Mozilla <a href="https://www.theverge.com/2018/9/25/17899952/firefox-monitor-have-i-been-pwned-password-breach">debuted in 2018</a>. Mozilla has offered other privacy-focused services in the last few years, such as Mozilla VPN and Firefox Relay. </p><p>Mozilla says its data broker scans can find details online like your name and current and previous home addresses but adds that it could go as deep as criminal history, hobbies, or your kids school district. </p><p>Services like this are fairly common, but they’re not all that well known to most people, and searching for them is as likely to turn up sketchy scam sites as it is legitimate service providers like, for instance, DeleteMe. That makes it difficult to suss out trustworthy companies, which is really where Mozilla’s reputation as a privacy-first subsidiary of the open-source nonprofit Mozilla Foundation could help.</p><p>Mozilla Monitor Plus is available now for $8.99 per month, while standard Mozilla Monitor remains free.</p><p><em><strong>Correction February 6th, 2024, 10:05AM ET: </strong>Corrected the name of Firefox Monitor in one instance.</em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Danish schools will no longer be allowed to use Chromebooks and Google platforms (172 pts)]]></title>
            <link>https://theprivacydad.com/final-decision-on-chromebook-case-in-denmark/</link>
            <guid>39286269</guid>
            <pubDate>Wed, 07 Feb 2024 09:11:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://theprivacydad.com/final-decision-on-chromebook-case-in-denmark/">https://theprivacydad.com/final-decision-on-chromebook-case-in-denmark/</a>, See on <a href="https://news.ycombinator.com/item?id=39286269">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    







<p>
    <i>
        <time datetime="2024-02-03">
            03 Feb, 2024
        </time>
    </i>
</p>


    <p><strong>This week saw a conclusion on the Danish Chromebook case</strong>. The result, long-awaited by father and privacy activist Jesper Graugaard, shows that the <strong>Danish Data Protection Authority has issued an injunction</strong> regarding the tracking of children's personal data via Chromebook and Google platforms in schools.</p>
<p>From 1 August 2024 onwards, Danish schools will no longer be allowed to enable Chromebooks and Google platforms to collect students' personal data for processing. Each municipality will need to give an indication of how they will comply to this injunction <strong>by 1 March 2024</strong>.</p>
<p>For activist Graugaard, the decision comes as a relief. He began his crusade against Chromebooks in school in his home town Elsinor over four years ago. While this week's report makes no reference to Jesper's initiatives, it is clear that this injunction could not have been issued without his tireless and sometimes solitary activism.</p>
<p>Hopefully the Danish Chromebook case's conclusion will draw attention to the unchecked intrusion of data mining companies into schools in other countries within Europe, and worldwide. It would be good to see checks on Google's dominance in schools, currently achieved via attractively priced hardware and free proprietary platforms built for this purpose.</p>
<p>And on a personal note: Congratulations, Jesper!</p>
<h2 id="background">Background</h2>
<p>I interviewed Jesper Graugaard in October of 2023, when results of his case were pending. Those interviews can be read <a href="https://theprivacydad.com/the-privacy-dad-interviews-jesper-graugaard/" target="_blank">here</a> and <a href="https://theprivacydad.com/the-privacy-dad-interviews-jesper-graugaard-2/" target="_blank">here</a>.</p>
<p>These interviews were reworked and published as an article titled 'The fight for privacy in Danish schools' on the <a href="https://freedom.tech/jesper-graugaards-activism-against-chromebooks-in-danish-schools/" target="_blank">Freedom Tech blog</a>, managed by Seth for Privacy, shortly after that.</p>
<p>In my communication with Jesper I learned how it all started when he, a parent with an open-minded stance towards IT in schools, discovered his child's data was being made public via a Google account set up by the school.</p>
<p>Over the years, Jesper has been determined to explore avenues for protest against Google, for drawing attention to the misuse of students' personal data, and for taking action against it. His story shows that one person's critical questions and actions <em>can</em> impact what feels like a mammoth and immovable industry.</p>
<h2 id="injunction">Injunction</h2>
<p>The English translation of the full report on the injunction by the Danish Data Protection can be read <a href="https://media.licdn.com/dms/document/media/D4E1FAQFd_XMkoJOAcw/feedshare-document-pdf-analyzed/0/1706608145644?e=1707350400&amp;v=beta&amp;t=5M_LW6Zk1ZL4YIh4tWV6lo-LQ9xYfZ8s-0mpr1SxGyE" target="_blank">here</a>.</p>
<p>Here are a few key points:</p>
<blockquote>
<p>In the case of the use of Google Workspace in the primary schools, the Danish Data Protection Authority assesses that there is no authority to pass on personal data to Google for all the purposes that are passed on today. Therefore, the Danish Data Protection Authority is now giving an order to the municipalities to bring the processing in line with the rules and indicates various ways in which this can be done.</p>
</blockquote>
<p>and:</p>
<blockquote>
<p>Therefore, the Danish Data Protection Authority gives an order to the municipalities to bring the processing in line with the rules by ensuring that there is authorization for all the processing that takes place. This can happen, for example, by:</p>
<p>• That the municipalities no longer pass on personal data to Google for these purposes. This will <strong>likely require Google to develop a technical option for the data streams in question to be intercepted</strong>.</p>
<p>• That <strong>Google itself refrains</strong> from processing the information for these purposes.</p>
<p>• That the Danish Parliament provides a sufficiently clear legal basis for disclosure for these purposes.</p>
<p>The municipalities <strong>must comply with the order from 1 August 2024, but must indicate how they intend to comply by 1 March at the latest</strong>.</p>
</blockquote>
<p><em>(my emphasis)</em></p>
<p>For readers interested in the details, I'll add the link again <a href="https://media.licdn.com/dms/document/media/D4E1FAQFd_XMkoJOAcw/feedshare-document-pdf-analyzed/0/1706608145644?e=1707350400&amp;v=beta&amp;t=5M_LW6Zk1ZL4YIh4tWV6lo-LQ9xYfZ8s-0mpr1SxGyE" target="_blank">here</a>.</p>
<p>This is, at first sight, a positive outcome for the protection of children's data in Denmark, and at least a warning signal to companies hoping to introduce their products to each new generation of children via schools. With the 1st of March date not far off, the order should enforce a quick response from educational boards in each municipality.</p>
<h2 id="response-so-far">Response so far</h2>
<p>After the final decision was made, Jesper's case—he refers to it as the 'Chromebook saga'—suddenly received <strong>a lot</strong> of attention. On his LinkedIn profile, he wrote earlier this week:</p>
<blockquote>
<p>Suddenly LinkedIn exploded, the phone rang almost non-stop and the rest of my day disappeared in an ocean of documents, conversations with journalists, tech people, LinkedIn connection requests, congratulations, articles, analyses and a tide of opinion and thoughts. 4 ½ years of hard work to keep a case current, which I am personally passionate about and have carried forward - often alone -, was about to culminate. (edited)</p>
</blockquote>
<p>Reading through his comments, one also senses a dose of realism and caution. The day after publication of the decision, Jesper posted a translation of an article by journalist <a href="https://www.linkedin.com/in/peter-christian-bech-nielsen-16a70aa3/?lipi=urn%3Ali%3Apage%3Ad_flagship3_detail_base%3B8CLGB3HxRwm0dS%2FQ%2BmUhTg%3D%3D" target="_blank">Peter Christian Bech-Nielsen</a> from Techmediet Radar, which asks critical questions about the unnecessary four-year length of the case, and explores the possibility large data companies might try to avoid taking real steps to change the way data is currently transferred.</p>
<p>Meanwhile, Camilla Ley Valentin, the Director of DI Digital, the lobby organisation representing IT businesses in Denmark, posted this response from the side of the tech companies:</p>
<blockquote>
<p>But I cannot help but wonder about the decision that has landed. Because in this case, we are not talking about sensitive data relating to the individual child, which is used, for example, for marketing.</p>
<p>The case concerns pseudonymized and aggregated usage data, such as data to measure a browser's performance or data to assess whether a button in a digital solution works better if it is green rather than blue.</p>
</blockquote>
<p>A regular listener to <em>The Surveillance Report</em> and the <em>Firewalls Don't Stop Dragons</em> podcasts, I am skeptical about such dismissive statements from the world's wealthiest companies. It is often discovered after the fact that data companies were furtively collecting more data than promised. Listening to the news items on these podcasts, it also seems difficult to truly anonymise data and remove the potential for cross referencing with other data sets.</p>
<p>We will have to see where all of this leads.</p>
<h2 id="are-there-solutions">Are there solutions?</h2>
<p>Having worked in schools for many years, I can imagine the education departments in the municipalities affected by the decision will be scrambling to find ways to <em>avoid</em> halting the use of Chromebooks in schools.</p>
<p>One might be inclined to sympathise. What is wrong, after all, with making computers widely available in schools? But as Jesper has often pointed out to me, Danish schools and educational boards have known about his case and the potential illegality of the practice for years now, yet have made no effort to think of a 'plan B', should the verdict land on the side of protecting the rights of children.</p>
<p>Google will want to keep this case low profile, as Chromebooks are used in schools all over the world. The Danish Data Protection Authority suggests that a <strong>possible solution would be for Google to create a new tool that <em>intercepts</em> children's data before it is sent to their servers</strong>. It is unlikely Google will want to develop such a tool, given they make money on personal data. However, seen from Google's perspective, they have already made big gains by establishing their products and platforms as the standard in schools worldwide.</p>
<p>Journalist Peter Christian Bech-Nielsen, mentioned earlier, also suggests looking into local IT companies—<a href="https://www.magenta.dk/en/our-organization/" target="_blank">Magenta</a> and <a href="https://www.semaphor.dk/" target="_blank">Semaphore</a>—that might already be ready to provide open source alternatives to the Google educational platforms.</p>
<h2 id="why-not-linux">Why not Linux?</h2>
<p>I don't see why educational ministers and boards world-wide haven't embraced Linux for schools. If the argument for the use of Chromebooks in schools is the low cost, well, then <strong>there is no argument, because all Linux software is free</strong>. If the concern is getting the hardware, then I say: Look to hardware refurbishing companies and organisations. Laptops deemed outdated for corporate use can <em>easily</em> be adapted for an additional five years of school use<sup id="fnref-1"><a href="#fn-1">1</a></sup> by installing a Linux distro on them and running free, open source software like <strong>LibreOffice</strong>. Chrome can be replaced with <strong>Firefox and DuckDuckGo</strong>, and school platforms can run on an open source platform like <strong>Nextcloud</strong>.</p>
<p>Using refurbished hardware in schools is cheap, good for the environment, creates new IT jobs and introduces new generations of young people to recycling and to open source software. If managed well, open source is secure, and light on hardware resources. As a teacher, I have had to use educational IT services and devices for many years, and I do not see a downside to using Linux for these purposes.<sup id="fnref-2"><a href="#fn-2">2</a></sup></p>
<h2 id="looking-ahead">Looking ahead</h2>
<p>I want to conclude with Jesper's own thoughts on the future of his case. I appreciate he was able to find the time during his hectic week to respond to my emails and questions.</p>
<p>Here's Jesper today:</p>
<blockquote>
<p>I will attend a professional course in GDPR, normally intended for Data Privacy Officers, as I feel it's important to me to get deeper into the way DPOs think and work. Also, I am trying to understand where my legal rights are in this mess. Not that I plan to sue the state or municipality for immaterial damage; but I want to understand why the rights of the citizen are sidelined in this case. There seems to be place where I, as a citizen, can hand over responsibility.</p>
<p>It's now official that the children have been using illegal technology for years, but the only result thus far is that those responsible are getting more time to fix the problem. Via journalists who have access to documents we know that the Municipalities' Land Association (KL) has sent some of the documents twice, thereby prolonging the proceedings. They have made children continue to use Chromebooks for nearly ten years now, with four-and-a-half of those ignoring the newly introduced GDPR regulations affecting children aged six and up. The case concerns hundreds of thousands of children nationwide using only one specific main provider: Google.  We still have nearly 50% of the rest who use products from different providers, such as Microsoft and Apple.</p>
<p>So what's next?</p>
<p>The question is:</p>
<p>How can it be politically acceptable that:</p>
<ul>
<li><p>Children have been illegally using a specific technology close to 50% of the time for nearly a decade?</p>
</li>
<li><p>This concerns a minimum 50% of all children in Denmark's public schools aged 6-18?</p>
</li>
<li><p>They all shared their personal data with at least one Big Tech company for ten years without the consent from themselves or from their parents?</p>
</li>
</ul>
<p>Possible outcomes that I foresee are:</p>
<ul>
<li><p>Municipalities will finally find a technical solution and then proceed legally (But why haven't they done this already?)</p>
</li>
<li><p>Google and other global data companies will adapt to follow Danish law</p>
</li>
<li><p>The government changes the law so what's illegal today will be legal tomorrow</p>
</li>
</ul>
<p>No matter what happens, Danish children seem to have no legal rights; all they can do is sit and wait.</p>
<p>Best, 
Jesper</p>
</blockquote>
<h2 id="updates">Updates</h2>
<p>Someone has posted about the issue on r/Denmark. The discussion is in Danish and can be read <a href="https://www.reddit.com/r/Denmark/comments/1akhul2/datatilsynet_har_endeligt_laddet_hammeren_falde/?context=3" target="_blank">here</a>.</p>
<p>I found this comment (translated) interesting:</p>
<blockquote>
<p>There are alternatives to Google Workspace that municipalities could use: https://oscampus.dk/. Compared to their Chromebooks, it's not even because they need to be scrapped. You could re-install them with the Danish OS2BorgerPC: https://www.os2.eu/os2borgerpc</p>
</blockquote>
<h2 id="documentation">Documentation</h2>
<p><em>Some of these links lead to the LinkedIn platform.</em></p>
<p><a href="https://media.licdn.com/dms/document/media/D4E1FAQFd_XMkoJOAcw/feedshare-document-pdf-analyzed/0/1706608145644?e=1707350400&amp;v=beta&amp;t=5M_LW6Zk1ZL4YIh4tWV6lo-LQ9xYfZ8s-0mpr1SxGyE" target="_blank">English translation of the full report on the injunction by the Danish Data Protection</a></p>
<p><a href="https://www.linkedin.com/feed/update/urn:li:activity:7158562220782632961/" target="_blank">"The day after the Danish DPA decision In the Chromebook saga"</a> (LinkedIn post by Jesper Graugaard with link to English translation of Peter Christian Bech-Nielsen article)</p>
<p><a href="https://www.linkedin.com/in/jesper-graugaard-5837a9/" target="_blank">Jesper Graugaard on LinkedIn</a></p>
<p><a href="https://www.linkedin.com/in/peter-christian-bech-nielsen-16a70aa3/?lipi=urn%3Ali%3Apage%3Ad_flagship3_detail_base%3B8CLGB3HxRwm0dS%2FQ%2BmUhTg%3D%3D" target="_blank">Peter Christian Bech-Nielsen on LinkedIn</a></p>
<p><a href="https://www.linkedin.com/feed/update/urn:li:activity:7158548453587857408/" target="_blank">Camilla Ley Valentin's statement on LinkedIn</a></p>
<p><a href="https://www.magenta.dk/en/our-organization/" target="_blank">Magenta</a> and <a href="https://www.semaphor.dk/" target="_blank">Semaphore</a> (open source platforms)</p>
<p><a href="https://freedom.tech/jesper-graugaards-activism-against-chromebooks-in-danish-schools/" target="_blank">The fight for privacy in Danish schools</a> (freedom.tech)</p>
<p><a href="https://theprivacydad.com/blog/?q=chromebook" target="_blank">My interviews: "Jesper Graugaard's Fight Against Chromebooks in Danish Schools</a></p>
<p><a href="https://www.wired.com/story/denmark-google-schools-data/" target="_blank">2022 Wired article</a></p>
<hr>
<p>-----<em>Discuss on <a href="https://www.reddit.com/r/theprivacydad/comments/1ahz2a4/discussion_final_decision_on_chromebook_case_in/" target="_blank">Reddit</a></em>-----</p>
<p>Subscribe to my blog via <a href="https://theprivacydad.com/subscribe/">email</a> or <a href="https://theprivacydad.com/feed/">RSS feed</a>.</p>
<p>Find me on <a href="https://social.linux.pizza/@theprivacydad" target="_blank">Mastodon</a> and <a href="https://twitter.com/the_privacy_dad" target="_blank">Twitter</a>.</p>
<p>Back to <a href="https://theprivacydad.com/blog/">Blog</a></p>
<section>
<ol>
<li id="fn-1"><p>An added advantage here is that such refurbished laptops would likely have more hard disk space than Chromebooks (which rely entirely on cloud-based storage), hence removing the reliance on WiFi throughout the day. Any student, teacher or parent reading this will know that WiFi connectivity in schools can be woeful at times.<a href="#fnref-1">↩</a></p></li>
<li id="fn-2"><p>Some IT personnel in school's I have worked in told me they would prefer a switch to Linux, but that it is often the school's management who are hesitant about ending contracts with Microsoft, Google and other commercial platforms and otherwise rocking the boat in any way.<a href="#fnref-2">↩</a></p></li>
</ol>
</section>





    
    <p>
        
        <a href="https://theprivacydad.com/blog/?q=Denmark">#Denmark</a>
        
        <a href="https://theprivacydad.com/blog/?q=chromebook">#chromebook</a>
        
        <a href="https://theprivacydad.com/blog/?q=digitalprivacy">#digitalprivacy</a>
        
        <a href="https://theprivacydad.com/blog/?q=parenting">#parenting</a>
        
        <a href="https://theprivacydad.com/blog/?q=school">#school</a>
        
    </p>
    

    
    


    



  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[EU coal and gas collapse as wind and solar ascend (131 pts)]]></title>
            <link>https://electrek.co/2024/02/06/eu-coal-and-gas-collapse-wind-and-solar-ascend/</link>
            <guid>39284893</guid>
            <pubDate>Wed, 07 Feb 2024 05:35:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://electrek.co/2024/02/06/eu-coal-and-gas-collapse-wind-and-solar-ascend/">https://electrek.co/2024/02/06/eu-coal-and-gas-collapse-wind-and-solar-ascend/</a>, See on <a href="https://news.ycombinator.com/item?id=39284893">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
					
<figure>
			<img src="https://electrek.co/wp-content/uploads/sites/3/2022/08/Hornsea-Two.jpg?quality=82&amp;strip=all&amp;w=1200" srcset="https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2022/08/Hornsea-Two.jpg?w=320&amp;quality=82&amp;strip=all&amp;ssl=1 320w, https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2022/08/Hornsea-Two.jpg?w=640&amp;quality=82&amp;strip=all&amp;ssl=1 640w, https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2022/08/Hornsea-Two.jpg?w=1024&amp;quality=82&amp;strip=all&amp;ssl=1 1024w, https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2022/08/Hornsea-Two.jpg?w=1500&amp;quality=82&amp;strip=all&amp;ssl=1 1500w" width="1200" height="675" alt="world's single largest wind farm" fetchpriority="high">
	
				<figcaption>
				Photo: Hornsea Project			</figcaption>
			</figure>

<p>Europe’s coal electricity generation tanked by 26% and gas by 15% in 2023, according to a new report from energy think tank Ember. </p>



<figure><img fetchpriority="high" decoding="async" width="1900" height="1140" src="https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?w=1024" alt="" srcset="https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png 1900w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?resize=150,90 150w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?resize=300,180 300w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?resize=768,461 768w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?resize=1024,614 1024w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?resize=1536,922 1536w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?resize=350,210 350w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?resize=130,78 130w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?resize=140,84 140w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Record-falls-in-EU-coal-gas-and-power-sector-emissions.png?resize=1600,960 1600w" sizes="(max-width: 1900px) 100vw, 1900px"></figure>



<p>That collapse resulted in an impressive 19% reduction in the EU’s power sector emissions. What’s more, for the first time, wind power, which grew by 18%, surpassed gas, which only accounted for 17% of Europe’s electricity.</p>



<p>Wind and solar power are now taking center stage. Together, they hit a new high, generating 27% of the EU’s electricity in 2023. Solar covered 9% of the EU’s electricity needs. With hydroelectric power also bouncing back, renewables reached a record 44% share of the EU’s power mix.</p>



<figure><img decoding="async" width="1900" height="1150" src="https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?w=1024" alt="" srcset="https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png 1900w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?resize=150,91 150w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?resize=300,182 300w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?resize=768,465 768w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?resize=1024,620 1024w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?resize=1536,930 1536w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?resize=350,212 350w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?resize=130,78 130w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?resize=140,85 140w, https://electrek.co/wp-content/uploads/sites/3/2024/02/Headline-chart_Wind-overtakes-gas.png?resize=1600,968 1600w" sizes="(max-width: 1900px) 100vw, 1900px"></figure>



<p>“The EU’s power sector is in the middle of a monumental shift,” said Sarah Brown, Ember’s Europe program director. “Fossil fuels are playing a smaller role than ever as a system with wind and solar as its backbone comes into view.”</p>



<p>Interestingly, Europe’s shift away from fossil fuels wasn’t just about swapping coal and gas for wind and solar. People and businesses used less electricity overall, with demand dropping by 3.4% compared to 2022. A significant chunk of this reduction came from industries dialing back their power use.</p>



<p>But as Europe moves more toward EVs, heat pumps, and other electrification, electricity demand is expected to rise again. This means renewables need to keep up the pace, especially since the EU is aiming for wind and solar to provide 55% of its power by 2030.</p>



<p>Ember’s report also points out that in 2023, Europe increasingly relied on wind and solar, as 24% of hours in 2023 saw less than a quarter of electricity coming from fossil fuels, a major step up from just 4% of hours in 2022.</p>




	<p>The takeaway? The EU’s energy landscape is transforming fast, driven by the need for clean power and the urgency of the climate crisis. Coal and gas are on their way out, and renewables are stepping up. But there’s no room for complacency – Europe needs to double down on deploying wind, solar, and the tech that supports them.</p>



<p><strong>Read more:</strong> <a href="https://electrek.co/2023/11/20/world-may-be-on-track-for-tripling-renewables/">The world may be on track for tripling renewables – and that’s what we need</a></p>



<hr>



<p><em>If you live in an area that has frequent natural disaster events, and are interested in making your home more resilient to power outages, consider going solar and adding a battery storage system. To make sure you find a trusted, reliable solar installer near you that offers competitive pricing, check out </em><a href="https://www.energysage.com/p/electrek-rsm-ml/"><em>EnergySage</em></a><em>, a free service that makes it easy for you to go solar. They have hundreds of pre-vetted solar installers competing for your business, ensuring you get high quality solutions and save 20-30% compared to going it alone. Plus, it’s free to use and you won’t get sales calls until you select an installer and share your phone number with them.</em></p>



<p><em>Your personalized solar quotes are easy to compare online and you’ll get access to unbiased Energy Advisers to help you every step of the way. Get started </em><a href="https://www.energysage.com/p/electrek-rsm-ml/"><em>here</em></a><em>. –ad*</em></p>
	<p>
		<a target="_blank" rel="nofollow" href="https://news.google.com/publications/CAAqBwgKMKqD-Qow6c_gAg?hl=en-US&amp;gl=US&amp;ceid=US:en">
			<em>Add Electrek to your Google News feed.</em>&nbsp;
					</a>
	</p>
	<p><em>FTC: We use income earning auto affiliate links.</em> <a href="https://electrek.co/about/#affiliate">More.</a></p>				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[BitLocker encryption broken in 43 seconds with sub-$10 Raspberry Pi Pico (106 pts)]]></title>
            <link>https://www.tomshardware.com/pc-components/cpus/youtuber-breaks-bitlocker-encryption-in-less-than-43-seconds-with-sub-dollar10-raspberry-pi-pico</link>
            <guid>39284711</guid>
            <pubDate>Wed, 07 Feb 2024 05:04:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.tomshardware.com/pc-components/cpus/youtuber-breaks-bitlocker-encryption-in-less-than-43-seconds-with-sub-dollar10-raspberry-pi-pico">https://www.tomshardware.com/pc-components/cpus/youtuber-breaks-bitlocker-encryption-in-less-than-43-seconds-with-sub-dollar10-raspberry-pi-pico</a>, See on <a href="https://news.ycombinator.com/item?id=39284711">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="article-body">
<p>Bitlocker is one of the most easily accessible encryption solutions available today, being a built-in feature of Windows 10 Pro and <a data-analytics-id="inline-link" href="https://www.tomshardware.com/tag/windows-11" data-auto-tag-linker="true" data-before-rewrite-localise="https://www.tomshardware.com/tag/windows-11">Windows 11</a> Pro that's designed to secure your data from prying eyes. However, <a data-analytics-id="inline-link" href="https://www.youtube.com/watch?v=wTl4vEednkQ" data-url="https://www.youtube.com/watch?v=wTl4vEednkQ">YouTuber stacksmashing</a> demonstrated a colossal security flaw with Bitlocker that allowed him to bypass <a data-analytics-id="inline-link" href="https://www.tomshardware.com/news/windows-software-bitlocker-slows-performance" data-before-rewrite-localise="https://www.tomshardware.com/news/windows-software-bitlocker-slows-performance">Windows Bitlocker</a> in less than a minute with a cheap sub-$10 <a data-analytics-id="inline-link" href="https://www.tomshardware.com/how-to/raspberry-pi-pico-setup" data-before-rewrite-localise="https://www.tomshardware.com/how-to/raspberry-pi-pico-setup">Raspberry Pi Pico</a>, thus gaining access to the encryption keys that can unlock protected data. His exploit only took 43 seconds to steal the master key.</p><p>To do this, the YouTuber took advantage of a design flaw found in many systems that feature a <a data-analytics-id="inline-link" href="https://www.tomshardware.com/news/where-to-buy-tpm-2.0-for-windows-11" data-before-rewrite-localise="https://www.tomshardware.com/news/where-to-buy-tpm-2.0-for-windows-11">dedicated Trusted Platform Module</a>, or TPM. For some configurations, Bitlocker relies on an external TPM to store critical information, such as the Platform Configuration Registers and Volume Master Key (some CPUs have this built-in). For external TPMs, the TPM key communications across an LPC bus with the CPU to send it the encryption keys required for decrypting the data on the drive.</p><p>Stacksmashing found that the communication lanes (LPC bus) between the CPU and external TPM are completely unencrypted on boot-up, enabling an attacker to sniff critical data as it moves between the two units, thus stealing the encryption keys. You can see his method in the video below.&nbsp;</p><div data-nosnippet=""><p><iframe data-lazy-priority="low" data-lazy-src="https://www.youtube.com/embed/wTl4vEednkQ" allowfullscreen=""></iframe></p></div><p>With this in mind, the YouTuber decided to test an attack on a ten-year-old laptop with Bitlocker encryption. His specific laptop's LPC bus is readable through an unpopulated connector on the motherboard, located right next to one of the laptop's M.2 ports. This same type of attack can be used on newer motherboards that leverage an external TPM, but these typically require more legwork to intercept the bus traffic.</p><p>To read data off the connector, the YouTuber created a cheap Raspberry Pi Pico device that could connect to the unsecured connector just by making contact with the metal pads protruding from itself. The Pico was programmed to read the raw 1s and 0s off from the TPM, &nbsp;granting access to the Volume Master Key stored on the module.</p><p>Stacksmashing's work demonstrates that Windows Bitlocker, as well as external TPMs, aren't as safe as many think because the data lanes between the TPM and CPU are unencrypted. The good news is that this flaw appears to be an issue regulated to discrete TPMs. If you have a CPU with a built-in TPM, like the ones in modern Intel and AMD CPUs, you should be safe from this <a data-analytics-id="inline-link" href="https://www.tomshardware.com/tag/security" data-auto-tag-linker="true" data-before-rewrite-localise="https://www.tomshardware.com/tag/security">security</a> flaw since all TPM communication occurs within the CPU itself.&nbsp;</p>
</div><div data-hydrate="true" id="slice-container-newsletterForm-articleInbodyContent-KELuVNjYMeuBvuT6AhZpCT"><section><p>Join the experts who read Tom's Hardware for the inside track on enthusiast PC tech news — and have for over 25 years. We'll send breaking news and in-depth reviews of CPUs, GPUs, AI, maker hardware and more straight to your inbox.</p></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Oslo acquires ChatGPT for 110k students and teachers (164 pts)]]></title>
            <link>https://www.digi.no/artikler/oslo-kjoper-chat-gpt-til-110-000-elever-og-laerere/543339</link>
            <guid>39284443</guid>
            <pubDate>Wed, 07 Feb 2024 04:17:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.digi.no/artikler/oslo-kjoper-chat-gpt-til-110-000-elever-og-laerere/543339">https://www.digi.no/artikler/oslo-kjoper-chat-gpt-til-110-000-elever-og-laerere/543339</a>, See on <a href="https://news.ycombinator.com/item?id=39284443">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><a href="https://www.digi.no/emne/digitalisering-og-offentlig-it">DIGITALISERING OG OFFENTLIG IT</a></p><h3>Osloskolen tar i bruk GPT 3.5-Turbo i hovedstaden og betaler lisens for 110.000 elever og ansatte.</h3></div><div id="article-wrapper-543339"><p>Løsningen som leveres er personvernmessig sikret og skal ikke brukes til trening av nye KI-modeller, skriver <a href="https://www.aftenposten.no/kultur/i/gEoXG1/oslo-skolen-kaster-seg-paa-chatgpt-vi-hadde-ikke-annet-valg">Aftenposten</a>.</p><p>Divisjonsdirektør Trond Ingebretsen i Utdanningsetaten sier at både undervisning og vurdering må legges kraftig om.&nbsp;</p><p>– Utfordringen vår har vært at så å si alle elever allerede har gratis tilgang via sin smarttelefon. Da måtte vi spørre oss: Skal vi late som om dette ikke finnes og starte en forbudslinje? sier divisjonsdirektøren til <a href="https://www.aftenposten.no/kultur/i/gEoXG1/oslo-skolen-kaster-seg-paa-chatgpt-vi-hadde-ikke-annet-valg">Aftenposten</a>.</p><p>Han mener at det ikke ville gitt elvene rette verktøy for å møte fremtiden med.</p><h3>Møter fremtiden</h3><p>Så snart de har hatt informasjonsmøter om løsningen, går de i gang med utrullingen.&nbsp;</p><p>– Du må tilbake til da læreboken kom for å finne noe lignende. PC og internett var ikke like stort, fordi plagiatkontrollen gjorde at vi kunne fortsette omtrent som før,&nbsp;sier&nbsp;Ingebretsen.</p><p>Det er utformet egne retningslinjer for hvordan elevene kan bruke det nye verktøyet.&nbsp;</p><h3>Klasseskille</h3><p>Elevveilederen peker på hva som er etisk riktig bruk.</p><p>Det gjennomgående teamet i veilederen er at Chat&nbsp;GPT ikke må benyttes som en erstatning for egen læring.</p><p>At elevene bare får tilgang til&nbsp;GPT 3.5-Turbo, kan skape et klasseskille,&nbsp; tror Anne Kristin Furuset i Utdanningsforbundet.</p><p>Hun synes det er problematisk at noen elever har betalt tilgang til GPT-4 fordi det er en mye bedre versjon enn den som tilbys kommunalt.&nbsp;</p><a href="https://www.digi.no/artikler/her-er-tek-ordene-vi-vil-huske-fra-2023/541702"><img width="130" height="87" src="https://images.gfx.no/130x87/2821/2821128/NTB__34aLBqXv0g.jpg" srcset="https://images.gfx.no/130x87/2821/2821128/NTB__34aLBqXv0g.jpg 1x, https://images.gfx.no/260x174/2821/2821128/NTB__34aLBqXv0g.jpg 2x" alt="" loading="lazy"><div><p>Les også</p><p>Her er tek-ordene vi vil huske</p></div></a></div><div id="comments-543339"><p>Kommentarer:</p><p>Du kan kommentere under fullt navn eller med kallenavn. Bruk BankID for automatisk oppretting av brukerkonto.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[jQuery v4.0 Beta (419 pts)]]></title>
            <link>https://blog.jquery.com/2024/02/06/jquery-4-0-0-beta/</link>
            <guid>39283733</guid>
            <pubDate>Wed, 07 Feb 2024 02:27:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.jquery.com/2024/02/06/jquery-4-0-0-beta/">https://blog.jquery.com/2024/02/06/jquery-4-0-0-beta/</a>, See on <a href="https://news.ycombinator.com/item?id=39283733">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-wrapper">
		<h2>jQuery 4.0.0 BETA!</h2>
				
				<hr>

		

<div>
<p>jQuery 4.0.0 has been in the works for a <em>long</em> time, but it is now ready for a beta release! There’s a lot to cover, and the team is excited to see it released. We’ve got bug fixes, performance improvements, and some breaking changes. We removed support for IE&lt;11 after all! Still, we expect disruption to be minimal.</p>



<p>Many of the breaking changes are ones the team has wanted to make for years, but couldn’t in a patch or minor release. We’ve trimmed legacy code, removed some previously-deprecated APIs, removed some internal-only parameters to public functions that were never documented, and dropped support for some “magic” behaviors that were overly complicated.</p>



<p>We will publish a comprehensive upgrade guide before final release, to outline the removed code and how to migrate. The<a href="https://github.com/jquery/jquery-migrate"> jQuery Migrate plugin</a> will also be ready to assist. For now, please try out the beta release and <a href="https://github.com/jquery/jquery/issues">let us know if you encounter any issues</a>.</p>



<p>As usual, the release is available on <a href="https://jquery.com/download/">our CDN</a> and the npm package manager. Third party CDNs will not be hosting this beta release, but will host the 4.0.0 final release later. Here are some highlights for jQuery 4.0.0 beta.</p>



<h2>Goodbye IE&lt;11</h2>



<p>jQuery 4.0 drops support for IE 10 and older. Some may be asking why we didn’t remove support for IE&nbsp;11. We plan to removes support in stages, and the next step <a href="https://github.com/jquery/jquery/pull/5077">will happen in jQuery 5.0</a>. For now, we’ll start by removing code specifically supporting IE versions older than 11, giving us a size reduction of <a href="https://github.com/jquery/jquery/pull/4347">-867 gzipped bytes in one PR</a>!</p>



<p>We also dropped support for other very old browsers, including Edge Legacy, iOS &lt;11, Firefox &lt;65, and Android Browser. No changes should be required on your end. If you need to support any of these browsers, simply stick with jQuery 3.x.</p>



<h2>Deprecated APIs removed</h2>



<p>These functions have been deprecated for several versions. It’s time to <a href="https://github.com/jquery/jquery/issues/4056">remove them</a> now that we’ve reached a major release. These functions were either always meant to be internal or ones that now have native equivalents in all supported browsers. The removed functions are:</p>



<ul>
<li><code><a href="https://github.com/jquery/jquery/pull/4055">jQuery.cssNumber</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.cssProps</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.isArray</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.parseJSON</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.nodeName</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.isFunction</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.isWindow</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.camelCase</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.type</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.now</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4364">jQuery.isNumeric</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/4461">jQuery.trim</a></code></li>



<li><code><a href="https://github.com/jquery/jquery/pull/5017">jQuery.fx.interval</a></code></li>
</ul>



<h2><code>push</code>, <code>sort</code>, and <code>splice</code> removed</h2>



<p>The jQuery prototype has long had Array methods that did not behave like any other jQuery methods and were always meant for internal-use only. These methods are <code>push</code>, <code>sort</code>, and <code>splice</code>. We switched our uses of these methods to Array functions instead of the jQuery prototype. For example, <code>$elems.push( elem )</code> became <code>[].push.call( $elems, elem )</code>. We’re mentioning it here in case there are any plugins out there that may have relied on these methods.</p>
</div>



<h2><code>focusin</code> and <code>focosout</code> event order</h2>



<p>For a long time, browsers did not agree on the order of focus and blur events, which includes <code>focusin</code>, <code>focusout</code>, <code>focus</code>, and <code>blur</code>. Finally, the latest versions of all browsers that jQuery 4.0 supports have converged on a common event order. Unfortunately, it differs from the consistent order that jQuery had chosen years ago, which makes this a breaking change. At least everyone is the on the same page now!</p>



<p>jQuery’s order for all four events in previous versions was:</p>



<pre>1. focusout
2. blur
3. focusin
4. focus</pre>



<p>Starting with jQuery 4.0, we <a href="https://github.com/jquery/jquery/pull/4362">no longer override native behavior</a>. This means that all browsers except IE will follow the current W3C specification, which is:</p>



<pre>1. blur
2. focusout
3. focus
4. focusin</pre>



<p>For those that are curious, the W3C specification previously defined a different order:</p>



<pre>1. focusout
2. focusin
3. blur
4. focus</pre>



<p>But, few thought that intuitive and <a href="https://www.w3.org/TR/uievents/#events-focusevent-event-order">the spec</a> was <a href="https://github.com/w3c/uievents/issues/88">changed in 2023</a> to match what browsers have already implemented. Ironically, the only browser to ever follow the old spec was Internet Explorer.</p>



<h2><code>FormData</code> support</h2>



<p><code>jQuery.ajax</code> has <a href="https://github.com/jquery/jquery/pull/5197">added support for binary data, including <code>FormData</code></a>. Previously, binary data was not a known data type and was converted to a string. That behavior could be disabled by disabling data conversion and handling the data manually, but we decided to make this work automatically. This is technically a breaking change, but should be closer to expected behavior.</p>



<h2>Automatic JSONP promotion removed</h2>



<p>Previously, <code>jQuery.ajax</code> with <code>dataType: "json"</code> with a provided callback would automatically converted to a JSONP request. Today, the preferred way to interact with a cross-domain backend is with <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">CORS</a>, which works in all browsers that jQuery 4.0 supports. This should help avoid unexpected behavior in case a developer is unaware that code can be executed from a remote domain with JSONP.</p>



<h2>jQuery source migrated to ES modules</h2>



<p>It was a special day when the jQuery source on the <code>main</code> branch was migrated from <a href="https://requirejs.org/docs/whyamd.html">AMD</a> to <a href="https://github.com/jquery/jquery/pull/4541">ES modules</a>. The jQuery source has always been published with jQuery releases on npm and GitHub, but could not be imported directly as modules without <a href="https://requirejs.org/">RequireJS</a>, which was jQuery’s build tool of choice. We have since switched to <a href="https://rollupjs.org/introduction/">Rollup</a> for packaging jQuery. And we also run tests on the ES modules before packaging them.</p>



<h2>Trusted Types and CSP</h2>



<p>jQuery 4.0 adds support for <a href="https://twitter.com/kkotowicz/status/1445713282128515074">Trusted Types</a>, ensuring that HTML wrapped in <a href="https://developer.mozilla.org/en-US/docs/Web/API/TrustedHTML">TrustedHTML</a> can be used as input to jQuery manipulation methods in a way that doesn’t violate the <code>require-trusted-types-for</code> Content Security Policy directive. </p>



<p>Along with this, while some AJAX requests were already using <code>&lt;script&gt;</code> tags to maintain attributes such as <code>crossdomain</code>, we have <a href="https://github.com/jquery/jquery/pull/4763">since switched most asynchronous script requests to use <code>&lt;script&gt;</code></a> to avoid any CSP errors caused by using inline scripts. There are still a few cases where XHR is used for asynchonrous script requests, such as when the<code> "headers"</code> option is passed (use <code>scriptAttrs</code> instead!), but we now use a <code>&lt;script&gt;</code> tag whenever possible.</p>



<div>
<h2>Upgrading</h2>



<p>We do not expect compatibility issues when upgrading from a jQuery 3.0+ version. If you haven’t yet upgraded to jQuery 3.0, have a look at the <a href="https://jquery.com/upgrade-guide/3.5/">3.5 Upgrade Guide</a> and <a href="https://jquery.com/upgrade-guide/3.0/">3.0 Upgrade Guide</a>.</p>



<p>The <a href="https://github.com/jquery/jquery-migrate#migrate-older-jquery-code-to-jquery-30">jQuery Migrate plugin</a> will help you to identify compatibility issues in your code. Please try out this beta release and <a href="https://github.com/jquery/jquery/issues">let us know about any issues you experience</a>.</p>



<p>If you can’t yet upgrade to 3.5+, Daniel Ruf has kindly provided <a href="https://github.com/DanielRuf/snyk-js-jquery-565129">patches for previous jQuery versions</a>.</p>



<h2>Updated slim build</h2>



<p>The slim build has gotten even smaller in jQuery 4.0.0 with the removal of Deferreds and Callbacks (now below 20k bytes gzipped!). Deferreds have long-supported the <a href="https://promisesaplus.com/">Promises A+ standard</a>, so native Promises can be used instead in most cases and they are available in all of jQuery’s supported browsers except IE11. Deferreds do have some extra features that native Promises do not support, but most usage can be migrated to Promise methods. If you need to support IE11, it’s best to use the main build or add a polyfill for native Promises.</p>



<h2>Download</h2>



<p>You can get the files from the jQuery CDN, or link to them directly:</p>



<p><a href="https://code.jquery.com/jquery-4.0.0-beta.js">https://code.jquery.com/jquery-4.0.0-beta.js</a></p>



<p><a href="https://code.jquery.com/jquery-4.0.0-beta.min.js">https://code.jquery.com/jquery-4.0.0-beta.min.js</a></p>



<p>You can also get this release from npm:</p>



<p><code>npm install jquery@4.0.0-beta</code></p>



<h3>Slim build</h3>



<p>Sometimes you don’t need ajax, or you prefer to use one of the many standalone libraries that focus on ajax requests. And often it is simpler to use a combination of CSS and class manipulation for web animations. Finally, all of jQuery’s supported browsers (except for IE11) now have support for native Promises across the board, so Deferreds and Callbacks are no longer needed in most cases. Along with the regular version of jQuery that includes everything, we’ve released a “slim” version that excludes these modules. The size of jQuery is very rarely a load performance concern these days, but the slim build is about 8k gzipped bytes smaller than the regular version. These files are also available in the npm package and on the CDN:</p>



<p><a href="https://code.jquery.com/jquery-4.0.0-beta.slim.js">https://code.jquery.com/jquery-4.0.0-beta.slim.js</a></p>



<p><a href="https://code.jquery.com/jquery-4.0.0-beta.slim.min.js">https://code.jquery.com/jquery-4.0.0-beta.slim.min.js</a></p>



<p>These updates are already available as the current versions on npm and Bower. Information on all the ways to get jQuery is available at <a href="https://jquery.com/download/">https://jquery.com/download/</a>. Public CDNs receive their copies today, please give them a few days to post the files. If you’re anxious to get a quick start, use the files on our CDN until they have a chance to update.</p>



<h2>Thanks</h2>



<p>Thank you to all of you who participated in this release by submitting patches, reporting bugs, or testing, including <a href="https://github.com/sashashura">Alex</a>, <a href="https://github.com/aelafifi">Ahmed S. El-Afifi</a>, <a href="https://github.com/fecore1">fecore1</a>, <a href="https://github.com/fras2560">Dallas Fraser</a>, <a href="https://github.com/gibson042">Richard Gibson</a>, <a href="https://github.com/mgol">Michał Gołębiowski-Owczarek</a>, <a href="https://github.com/pgrimaud">Pierre Grimaud</a>, <a href="https://github.com/gabibguti">Gabriela Gutierrez</a>, <a href="https://github.com/vanillajonathan">Jonathan</a>, <a href="https://github.com/Necmttn">Necmettin Karakaya</a>, <a href="https://github.com/andersk">Anders Kaseorg</a>, <a href="https://github.com/wonseop">Wonseop Kim</a>, <a href="https://github.com/simon04">Simon Legner</a>, <a href="https://github.com/ShashankaNataraj">Shashanka Nataraj</a>, <a href="https://github.com/patocallaghan">Pat O’Callaghan</a>, <a href="https://github.com/coliff">Christian Oliff</a>, <a href="https://github.com/DimitriPapadopoulos">Dimitri Papadopoulos Orfanos</a>, <a href="https://github.com/wonhyoung05">Wonhyoung Park</a>, <a href="https://github.com/bubbatls">Bruno PIERRE</a>, <a href="https://github.com/renbaoshuo">Baoshuo Ren</a>, <a href="https://github.com/beatrizrezener">Beatriz Rezener</a>, <a href="https://github.com/skrobinson">Sean Robinson</a>, <a href="https://github.com/edg2s">Ed Sanders</a>, <a href="https://github.com/Krinkle">Timo Tijhof</a>, <a href="https://github.com/gaohuia">Tom</a>, <a href="https://github.com/wenz">Christian Wenz</a>, <a href="https://github.com/ygj6">ygj6</a> and the whole jQuery team.</p>



<h2>We’re on Mastodon!</h2>



<p>jQuery now has its very own Mastodon account. We will be cross posting to both Twitter and Mastodon from now on. Also, you may be interested in following some of our team members that have Mastodon accounts.</p>
</div>



<p>jQuery: <a href="https://social.lfx.dev/@jquery">https://social.lfx.dev/@jquery</a></p>



<p>mgol: <a href="https://hachyderm.io/@mgol">https://hachyderm.io/@mgol</a></p>



<p>timmywil: <a href="https://hachyderm.io/@timmywil">https://hachyderm.io/@timmywil</a></p>



<div>
<h2>Changelog</h2>



<p><strong>Full changelog: </strong><a href="https://github.com/jquery/jquery/compare/3.7.0...3.7.1">3.7.1</a></p>
</div>



<ul>
<li>4.0.0-beta (<a href="https://github.com/jquery/jquery/commit/7e9a94ec820a6defce541e34dad13bd9669e21c7">7e9a94ec</a>)</li>
</ul>

<h3>Ajax</h3>
<ul>
<li>Don’t treat array data as binary (<a href="https://github.com/jquery/jquery/commit/992a1911d0b6195012edc25fd5a48810d4be64b5">992a1911</a>)</li>
<li>Allow `processData: true` even for binary data (<a href="https://github.com/jquery/jquery/commit/ce264e0789116e37fe371503537a217c038dfae8">ce264e07</a>)</li>
<li>Support binary data (including FormData) (<a href="https://github.com/jquery/jquery/commit/a7ed9a7b6364273b1b964fd2cf9691dec2cbec6b">a7ed9a7b</a>)</li>
<li>Support `headers` for script transport even when cross-domain (<a href="https://github.com/jquery/jquery/issues/5142">#5142</a>, <a href="https://github.com/jquery/jquery/commit/6d1364431b63b0d3bbe1c5fd604131f9db453396">6d136443</a>)</li>
<li>Support `null` as success functions in `jQuery.get` (<a href="https://github.com/jquery/jquery/issues/4989">#4989</a>, <a href="https://github.com/jquery/jquery/commit/74978b7e892537559850cda7332bdab8106e6354">74978b7e</a>)</li>
<li>Don’t auto-execute scripts unless dataType provided (<a href="https://github.com/jquery/jquery/issues/4822">#4822</a>, <a href="https://github.com/jquery/jquery/commit/025da4dd343e6734f3d3c1b4785b1548498115d8">025da4dd</a>)</li>
<li>Make responseJSON work for erroneous same-domain JSONP requests (<a href="https://github.com/jquery/jquery/commit/68b4ec59c8f290d680e9db4bc980655660817dd1">68b4ec59</a>)</li>
<li>Execute JSONP error script responses (<a href="https://github.com/jquery/jquery/issues/4771">#4771</a>, <a href="https://github.com/jquery/jquery/commit/a1e619b03a557b47c3e26a5e74af12b63a0d5e73">a1e619b0</a>)</li>
<li>Avoid CSP errors in the script transport for async requests (<a href="https://github.com/jquery/jquery/issues/3969">#3969</a>, <a href="https://github.com/jquery/jquery/commit/07a8e4a177550025c1a08d7ac754839733943f55">07a8e4a1</a>)</li>
<li>Drop the json to jsonp auto-promotion logic (<a href="https://github.com/jquery/jquery/issues/1799">#1799</a>, <a href="https://github.com/jquery/jquery/issues/3376">#3376</a>, <a href="https://github.com/jquery/jquery/commit/e7b3bc488d01d584262e12a7c5c25f935d0d034b">e7b3bc48</a>)</li>
<li>Overwrite s.contentType with content-type header value, if any (<a href="https://github.com/jquery/jquery/issues/4119">#4119</a>, <a href="https://github.com/jquery/jquery/commit/7fb90a6beaeffe16699800f73746748f6a5cc2de">7fb90a6b</a>)</li>
<li>Deprecate AJAX event aliases, inline event/alias into deprecated (<a href="https://github.com/jquery/jquery/commit/23d53928f383b0e7440bf4b08b7524e6af232fad">23d53928</a>)</li>
<li>Do not execute scripts for unsuccessful HTTP responses (<a href="https://github.com/jquery/jquery/issues/4250">#4250</a>, <a href="https://github.com/jquery/jquery/commit/50871a5a85cc802421b40cc67e2830601968affe">50871a5a</a>)</li>
<li>Simplify jQuery.ajaxSettings.xhr (<a href="https://github.com/jquery/jquery/issues/1967">#1967</a>, <a href="https://github.com/jquery/jquery/commit/abdc89ac2e581392b800c0364e0f5f2b6a82cdc6">abdc89ac</a>)</li>
</ul>

<h3>Attributes</h3>
<ul>
<li>Shave off a couple of bytes (<a href="https://github.com/jquery/jquery/commit/b40a4807b604efbde51faf075d11e25441af1990">b40a4807</a>)</li>
<li>Don’t stringify attributes in the setter (<a href="https://github.com/jquery/jquery/issues/4948">#4948</a>, <a href="https://github.com/jquery/jquery/commit/4250b628783d7bfa92ec6c5550c6e4b22fab6034">4250b628</a>)</li>
<li>Drop the `toggleClass(boolean|undefined)` signature (<a href="https://github.com/jquery/jquery/issues/3388">#3388</a>, <a href="https://github.com/jquery/jquery/commit/a4421101fd6d9d7b0550210f8e8690641733dd9a">a4421101</a>)</li>
<li>Refactor val(): don’t strip carriage return, isolate IE workarounds (<a href="https://github.com/jquery/jquery/commit/ff2819911da6cbbed5ee42c35d695240f06e65e3">ff281991</a>)</li>
<li>Don’t set the type attr hook at all outside of IE (<a href="https://github.com/jquery/jquery/commit/9e66fe9acf0ef27681f5a21149fc61678f791641">9e66fe9a</a>)</li>
</ul>

<h3>build</h3>
<ul>
<li>set up periodic code scanning analysis (<a href="https://github.com/jquery/jquery/commit/39c5778c649ad387dac834832799c0087b11d5fe">39c5778c</a>)</li>
</ul>

<h3>Build</h3>
<ul>
<li>migrate grunt authors to a custom script (<a href="https://github.com/jquery/jquery/commit/af79c99939628255f46f30bced000eba9aa6711f">af79c999</a>)</li>
<li>Bump follow-redirects from 1.15.1 to 1.15.4 (<a href="https://github.com/jquery/jquery/commit/56139394705022e4f6756440030ad6f3bf35f5a6">56139394</a>)</li>
<li>Bump actions/setup-node and github/codeql-action (<a href="https://github.com/jquery/jquery/commit/99151d7ab0923aa3aeeb1b957a9063e4e20d31ae">99151d7a</a>)</li>
<li>Reformat GitHub workflow Yaml files (<a href="https://github.com/jquery/jquery/commit/c98597eaf5e144ee5e549cb41984687cd1033068">c98597ea</a>)</li>
<li>Bump @babel/traverse &amp; multiple actions (<a href="https://github.com/jquery/jquery/commit/fb0cc272916dc909552a1b7bc1a39295e564d3a8">fb0cc272</a>)</li>
<li>Don’t run CI push workflows for dependabot branches (<a href="https://github.com/jquery/jquery/commit/635cb152e7daac658223455aaab2f81204b5b215">635cb152</a>)</li>
<li>Update ESLint-related packages, fix linting errors (<a href="https://github.com/jquery/jquery/commit/f47c6a83370675af0eff227d0266b40f9f45514a">f47c6a83</a>)</li>
<li>Run pretest before test:* npm scripts (<a href="https://github.com/jquery/jquery/commit/1ad66aeb6d7d94f8e4c8e2286569722ca41f9868">1ad66aeb</a>)</li>
<li>sort branches in compare_size; last run last (<a href="https://github.com/jquery/jquery/commit/a7fa303fda11ad298875676ffff78143cc49ce95">a7fa303f</a>)</li>
<li>run pretest in jenkins script (<a href="https://github.com/jquery/jquery/commit/cb763072fee1eb9ec3d4037c50cb0d07836b7af6">cb763072</a>)</li>
<li>fix inconsistent builds in Node 20 (<a href="https://github.com/jquery/jquery/commit/7ef9099d328e90d19bc40b64148747e854b13e20">7ef9099d</a>)</li>
<li>add commit SHAs and last runs to comparisons (<a href="https://github.com/jquery/jquery/commit/09972bcc680e89e38f56d83043bb368eb7fbda91">09972bcc</a>)</li>
<li>add new factory files to dist eslint (<a href="https://github.com/jquery/jquery/commit/792238410dc16ba0cc53c2740c47c314ea65d822">79223841</a>)</li>
<li>Bump qs, socket.io-parser, socket.io &amp; json5 (<a href="https://github.com/jquery/jquery/commit/b923047d29d37f2d5c96f8b33992f322bc7b7944">b923047d</a>)</li>
<li>migrate most grunt tasks off of grunt (<a href="https://github.com/jquery/jquery/commit/2bdecf8b7bd10864e5337a4e24e39476c78cf23a">2bdecf8b</a>)</li>
<li>Bump actions/checkout, actions/setup-node &amp; github/codeql-action (<a href="https://github.com/jquery/jquery/commit/42e50f8c21fbfd08092ad81add4ac38982ef0841">42e50f8c</a>)</li>
<li>Update mailmap entry for Krinkle (<a href="https://github.com/jquery/jquery/commit/699bcd396fa342c546905805a0cdfedd1959b7ce">699bcd39</a>)</li>
<li>replace CRLF with LF during minify (<a href="https://github.com/jquery/jquery/commit/48cc402a917d6011c7d3e75f779f11ef91b474fb">48cc402a</a>)</li>
<li>Add `exports` to package.json, export slim &amp; esm builds (<a href="https://github.com/jquery/jquery/issues/4592">#4592</a>, <a href="https://github.com/jquery/jquery/commit/8be4c0e4f89d6c8f780e5937a0534921d8c7815e">8be4c0e4</a>)</li>
<li>Switch form Terser to SWC for JS minification (#5286) (<a href="https://github.com/jquery/jquery/issues/5285">#5285</a>, <a href="https://github.com/jquery/jquery/commit/e24218758bb21bfdc296731d70f3d48ab786e5f5">e2421875</a>)</li>
<li>Make sure `*.cjs` &amp; `*.mjs` files use UNIX line endings as well (<a href="https://github.com/jquery/jquery/commit/198b41c8c2cd726b875615023b2b37b213040ad3">198b41c8</a>)</li>
<li>switch preferred email for timmywil (<a href="https://github.com/jquery/jquery/commit/2b6b5e0a3ba3029ec3ad1525a178920765e3adf1">2b6b5e0a</a>)</li>
<li>Bump github/codeql-action &amp; actions/checkout (<a href="https://github.com/jquery/jquery/commit/4a13266efd262a92f05d86b71d715885de103e6d">4a13266e</a>)</li>
<li>Drop individual AMD modules (<a href="https://github.com/jquery/jquery/commit/5701957b7223659c52a43f8c2c5465fdf2803df4">5701957b</a>)</li>
<li>Reference GitHub Actions by commit SHAs (<a href="https://github.com/jquery/jquery/issues/5266">#5266</a>, <a href="https://github.com/jquery/jquery/commit/784b9ba6e403997161113aa56d1747baed4e0767">784b9ba6</a>)</li>
<li>Switch the minifier from UglifyJS to Terser (<a href="https://github.com/jquery/jquery/commit/27303c6be09b8fc24c13454deae234e480cbf995">27303c6b</a>)</li>
<li>Make the `eslint:dev` task not lint the `dist/` folder (<a href="https://github.com/jquery/jquery/commit/44906a83d28a81f0107f8418a430db7e040a776b">44906a83</a>)</li>
<li>Test on Node.js 20, stop testing on Node.js 14 &amp; 19 (<a href="https://github.com/jquery/jquery/commit/6616acff0a6c144c3eac3afae8578085bd325834">6616acff</a>)</li>
<li>Only install Playwright dependencies when needed (<a href="https://github.com/jquery/jquery/commit/e77bd9d64fc696cadfe1f8c9ebb50d7609a97b07">e77bd9d6</a>)</li>
<li>Bump actions/setup-node from 3.5.1 to 3.6.0 (<a href="https://github.com/jquery/jquery/commit/7e7bd062070b3eca8ee047136ea8575fbed5d70f">7e7bd062</a>)</li>
<li>Run GitHub Action browser tests on Playwright WebKit (<a href="https://github.com/jquery/jquery/commit/b02a257f98688aa890e06a85672cd1a54c3ffa3a">b02a257f</a>)</li>
<li>Migrate middleware-mockserver to modern JS (<a href="https://github.com/jquery/jquery/commit/ce90a48450ba40586a6567235abb8fd2df84da97">ce90a484</a>)</li>
<li>remove stale Insight package from custom builds (<a href="https://github.com/jquery/jquery/commit/c66d4700dcf98efccb04061d575e242d28741223">c66d4700</a>)</li>
<li>Limit permissions for GitHub workflows (<a href="https://github.com/jquery/jquery/commit/c909d6b1ff444e68618b6da13d9c21714f681925">c909d6b1</a>)</li>
<li>Test on Node.js 18 &amp; 19, stop testing on Node 12 (<a href="https://github.com/jquery/jquery/commit/f62d8e2159baf1eabf3b760b85b2dda56d569a09">f62d8e21</a>)</li>
<li>Bump actions/setup-node from 3.5.0 to 3.5.1 (<a href="https://github.com/jquery/jquery/commit/0208224b5b76d54a39986f78aac97dbf1cccbe38">0208224b</a>)</li>
<li>Update Grunt from 1.4.1 to 1.5.3 (<a href="https://github.com/jquery/jquery/commit/aa231cd21421503d319ad6068e7df0fb3baa7fea">aa231cd2</a>)</li>
<li>Bump actions/setup-node from 3.4.1 to 3.5.0 (<a href="https://github.com/jquery/jquery/commit/25400750fb2e08b0a7e1a752a3ca0e9eaec16163">25400750</a>)</li>
<li>Update GitHub Actions (<a href="https://github.com/jquery/jquery/commit/52f452b2e8881e5ec5c9e880e277c8ecf633e8dc">52f452b2</a>)</li>
<li>Add dependabot.yml config (GitHub Actions) (<a href="https://github.com/jquery/jquery/commit/3f8bb2a46daf76f1427f49810d06a210ffbc7016">3f8bb2a4</a>)</li>
<li>Test on Node 17, update Grunt &amp; `karma-*` packages (<a href="https://github.com/jquery/jquery/commit/2525cffc42934c0d5c7aa085bc45dd6a8282e840">2525cffc</a>)</li>
<li>Separate the install step from running tests in GitHub Actions (<a href="https://github.com/jquery/jquery/commit/eef972508c8be6cc3cd0039d34dc9fe16bac916c">eef97250</a>)</li>
<li>remove travis.yml and travis mentions from core (#4983) (<a href="https://github.com/jquery/jquery/commit/5f4d449aa836f376eab2d2ca7585d5476d12f095">5f4d449a</a>)</li>
<li>Migrate CI to GitHub Actions (<a href="https://github.com/jquery/jquery/commit/e23190e63cb121da79b92e6641a81a44dcea9252">e23190e6</a>)</li>
<li>Update ESLint &amp; eslint-plugin-import, fixing the build (<a href="https://github.com/jquery/jquery/commit/9735edd5cb7b5ef30bb8acc4d7596a1410a971cc">9735edd5</a>)</li>
<li>Test on Node.js 16 instead of 15 (<a href="https://github.com/jquery/jquery/commit/0f623fdc8db128657716290cb7d57430e224c977">0f623fdc</a>)</li>
<li>Take core-js-bundle from the external directory as well (<a href="https://github.com/jquery/jquery/commit/345cd22e5664655ed315958ed2056610607c12ef">345cd22e</a>)</li>
<li>Restore the external directory (<a href="https://github.com/jquery/jquery/commit/a684e6ba836f7c553968d7d026ed7941e1a612d8">a684e6ba</a>)</li>
<li>Rename master to main across the repository (<a href="https://github.com/jquery/jquery/commit/8ae477a432f0924cd4bd3bdeaef2c4c15e483a8f">8ae477a4</a>)</li>
<li>Test on Node.js 15 (<a href="https://github.com/jquery/jquery/commit/6984d1747623dbc5e87fd6c261a5b6b1628c107c">6984d174</a>)</li>
<li>Explicitly exclude the queue module from the slim build (<a href="https://github.com/jquery/jquery/commit/a503c691dc06c59acdafef6e54eca2613c6e4032">a503c691</a>)</li>
<li>Make the import/no-unused-modules ESLint rule work in WebStorm (<a href="https://github.com/jquery/jquery/commit/8612018d4eb570b39532fca8344a187d2e95f98e">8612018d</a>)</li>
<li>Append .eslintignore paths to grunt eslint paths (<a href="https://github.com/jquery/jquery/commit/a22b43bad41592ec61e5fa0fcd2b3a3d44f8bfd3">a22b43ba</a>)</li>
<li>Use the US spelling of “favor” (<a href="https://github.com/jquery/jquery/commit/fa0058af426c4e482059214c29c29f004254d9a1">fa0058af</a>)</li>
<li>Fix commitplease husky config (<a href="https://github.com/jquery/jquery/issues/4735">#4735</a>, <a href="https://github.com/jquery/jquery/commit/3a1b338a7a579a45543b031a003abdce4dc6ac67">3a1b338a</a>)</li>
<li>Update dependencies (<a href="https://github.com/jquery/jquery/commit/b502866960b30863e56968bd35e720905ac58025">b5028669</a>)</li>
<li>Event: Make sure all source modules’ exports are used (#4648) (<a href="https://github.com/jquery/jquery/commit/40c3abd0ab049449acab5f2e12c34b9cc3199482">40c3abd0</a>)</li>
<li>Update eslint-config-jquery, fix linting violations (<a href="https://github.com/jquery/jquery/commit/ef4d6ca6c3a1b276fedc27b1f3a18823276f01a3">ef4d6ca6</a>)</li>
<li>Followups after introducing ES modules compiled via Rollup (<a href="https://github.com/jquery/jquery/commit/55cd3a44368d529326b6d9b16ff7c0204fee5516">55cd3a44</a>)</li>
<li>Correct code indentations based on jQuery Style Guide (<a href="https://github.com/jquery/jquery/commit/3d62d5704989f17d3a20ae7521d52e9c8c60b4ee">3d62d570</a>)</li>
<li>Reduce the slim build header comment &amp; jQuery.fn.jquery (<a href="https://github.com/jquery/jquery/commit/812b4a1a837c049b85efb73603105b4245cb0e5c">812b4a1a</a>)</li>
<li>Move ESLint max-len disable-directive to dist/.eslintrc.json (<a href="https://github.com/jquery/jquery/commit/34296ec547f0ab6577e8c31815447990a9c01b31">34296ec5</a>)</li>
<li>Test on Node.js 14, stop testing on Node.js 8 &amp; 13 (<a href="https://github.com/jquery/jquery/commit/88eb22e0599d546f98f6145c53deb086e1d82857">88eb22e0</a>)</li>
<li>Enable reportUnusedDisableDirectives in ESLint (<a href="https://github.com/jquery/jquery/commit/46f9810b73a7ad446d7c3711faf92f56b67df3c1">46f9810b</a>)</li>
<li>Resolve Travis config warnings (<a href="https://github.com/jquery/jquery/commit/5b94a4f847fe2328b1b8f2340b11b6031f95d2d1">5b94a4f8</a>)</li>
<li>Enable ESLint one-var rule for var declarations in browser code (<a href="https://github.com/jquery/jquery/commit/4a7fc8544e2020c75047456d11979e4e3a517fdf">4a7fc854</a>)</li>
<li>Add Christian Oliff to .mailmap &amp; AUTHORS.txt (<a href="https://github.com/jquery/jquery/commit/721744a9fab5b597febea64e466272eabfdb9463">721744a9</a>)</li>
<li>Lint the minified jQuery file as well – a Gruntfile fix (<a href="https://github.com/jquery/jquery/issues/3075">#3075</a>, <a href="https://github.com/jquery/jquery/commit/338f1fc77483a1bc1456e1f4ba1db2049bb45b45">338f1fc7</a>)</li>
<li>Lint the minified jQuery file as well (<a href="https://github.com/jquery/jquery/issues/3075">#3075</a>, <a href="https://github.com/jquery/jquery/commit/89a18de64cec73936507ea9feca24d029edea24f">89a18de6</a>)</li>
<li>Add intuitive names to Travis jobs (<a href="https://github.com/jquery/jquery/commit/e1fab10911dfe3b93bf8bd5d276e30e6fc69f780">e1fab109</a>)</li>
<li>Make dev mode work in Karma again, serve source files from disk (<a href="https://github.com/jquery/jquery/commit/437f389a24a6bef213d4df507909e7e69062300b">437f389a</a>)</li>
<li>Tests: Fix custom build tests, verify on Travis (<a href="https://github.com/jquery/jquery/commit/0f780ba7cc5968d53bba386bdcb59b8d9410873b">0f780ba7</a>)</li>
<li>Create a `grunt custom:slim` alias for the Slim build (#4578) (<a href="https://github.com/jquery/jquery/commit/9b9ed469b43e9fa6e2c752444470ae4c87d03d57">9b9ed469</a>)</li>
<li>Make Karma work in ES modules mode (<a href="https://github.com/jquery/jquery/commit/341c6d1b5abe4829f59fbc32e93f6a6a1afb900f">341c6d1b</a>)</li>
<li>Auto-convert sources to AMD (<a href="https://github.com/jquery/jquery/commit/f37c2e51f36c8f8bab3879064a90e86a685feafc">f37c2e51</a>)</li>
<li>Fix the Windows build (<a href="https://github.com/jquery/jquery/issues/4548">#4548</a>, <a href="https://github.com/jquery/jquery/commit/9fd2fa5388dba5c71129a1d9e3bb8e4fe6e4eb0b">9fd2fa53</a>)</li>
<li>Require extensions for ES6 imports, prevent import cycles (<a href="https://github.com/jquery/jquery/commit/44ac8c8529173711b66046ae5cfefa5bd4892461">44ac8c85</a>)</li>
<li>Fix the import path to serialize.js from ajax.js (<a href="https://github.com/jquery/jquery/commit/075320149ae30a5c593c06b2fb015bdf033e0acf">07532014</a>)</li>
<li>Run tests on Travis only on browsers defined in the config (<a href="https://github.com/jquery/jquery/commit/bcbcdd2b2c1bb7075f4f73dc89ca7d65db2a09ed">bcbcdd2b</a>)</li>
<li>Run tests on Firefox ESR as well (<a href="https://github.com/jquery/jquery/commit/2d5ad6d23e0f57c733ce4556d3f2ee93ca99cadb">2d5ad6d2</a>)</li>
<li>Run tests on Node.js 13 in addition to 8, 10 &amp; 12 (<a href="https://github.com/jquery/jquery/commit/830976e690b5fffeac860e2fdd07986d087ce824">830976e6</a>)</li>
<li>Run tests on Travis on FirefoxHeadless as well (<a href="https://github.com/jquery/jquery/commit/584835e68239ce55d1fc007b284e8ef4ed2817c2">584835e6</a>)</li>
<li>Require strict mode in Node.js scripts via ESLint (<a href="https://github.com/jquery/jquery/commit/bbad821c399da92995a11b88d6684970479d4a9b">bbad821c</a>)</li>
<li>Support jquery-release –dry-run flag (<a href="https://github.com/jquery/jquery/commit/d7d0b52bda74486f2351baa9d03ca4534de0d733">d7d0b52b</a>)</li>
<li>Stop copying src/core.js to dist on release (<a href="https://github.com/jquery/jquery/issues/4489">#4489</a>, <a href="https://github.com/jquery/jquery/commit/9a4d980639dd804ad320685a25b8ff4572e3f595">9a4d9806</a>)</li>
<li>Remove the external directory, read from node_modules directly (<a href="https://github.com/jquery/jquery/commit/d7e64190efc411e3973a79fd027bf1afe359f429">d7e64190</a>)</li>
<li>ESLint: forbid unused function parameters (<a href="https://github.com/jquery/jquery/commit/438b1a3e8a52d3e4efd8aba45498477038849c97">438b1a3e</a>)</li>
<li>Fix the regex parsing AMD var-modules (#4389) (<a href="https://github.com/jquery/jquery/commit/9ec09c3b4aa5182c2a8b8f51afb861b685a4003c">9ec09c3b</a>)</li>
<li>Fix AMD dependencies in curCSS (<a href="https://github.com/jquery/jquery/commit/b220f6df88d34dd908f55d57417fcec377787e5c">b220f6df</a>)</li>
<li>Test on Node.js 12, stop testing on Node.js 6 &amp; 11 (<a href="https://github.com/jquery/jquery/commit/b8d4712825a26a7f24c2bdb5a71aa3abcd345dfd">b8d47128</a>)</li>
<li>Fix unresolved jQuery reference in finalPropName (<a href="https://github.com/jquery/jquery/issues/4358">#4358</a>, <a href="https://github.com/jquery/jquery/commit/874030583c9b94603de467124420e6c7a1c3c8ac">87403058</a>)</li>
<li>Update Sizzle from 2.3.3 to 2.3.4 (<a href="https://github.com/jquery/jquery/issues/1756">#1756</a>, <a href="https://github.com/jquery/jquery/issues/4170">#4170</a>, <a href="https://github.com/jquery/jquery/issues/4249">#4249</a>, <a href="https://github.com/jquery/jquery/commit/0b2c36adb4e2c048318659e4196e0925da10ead2">0b2c36ad</a>)</li>
<li>Update the master version to 4.0.0-pre (<a href="https://github.com/jquery/jquery/commit/c4f2fa2fb33d6e52f7c8fad9f687ef970f442179">c4f2fa2f</a>)</li>
<li>Update Sinon from 2.3.7 to 7.3.1, other updates (<a href="https://github.com/jquery/jquery/commit/fea7a2a328f475048b4450c5c02a60832fdcfc3c">fea7a2a3</a>)</li>
</ul>

<h3>Core</h3>
<ul>
<li>Add more info about named exports (<a href="https://github.com/jquery/jquery/commit/5f869590924b7dea6a16d176b18700939f4b5290">5f869590</a>)</li>
<li>Simplify code post browser support reduction (<a href="https://github.com/jquery/jquery/commit/93ca49e6d1ac23fee33b3bc3b7f4d93dd1a25cb7">93ca49e6</a>)</li>
<li>Move the factory to separate exports (<a href="https://github.com/jquery/jquery/commit/46f6e3da796ee9d28c7c1428793b72d66bcbb0b7">46f6e3da</a>)</li>
<li>Use named exports in `src/` (<a href="https://github.com/jquery/jquery/issues/5262">#5262</a>, <a href="https://github.com/jquery/jquery/commit/f75daab09102a4dd5107deadb55d4a169f86254a">f75daab0</a>)</li>
<li>Fix regression in jQuery.text() on HTMLDocument objects (<a href="https://github.com/jquery/jquery/issues/5264">#5264</a>, <a href="https://github.com/jquery/jquery/commit/a75d6b52fad212820358e8ada3154f2f634e699b">a75d6b52</a>)</li>
<li>Selector: Move jQuery.contains from the selector to the core module (<a href="https://github.com/jquery/jquery/commit/024d87195ac46690023e2b0b308d4406a8a5a27e">024d8719</a>)</li>
<li>Drop the root parameter of jQuery.fn.init (<a href="https://github.com/jquery/jquery/commit/d2436df36a4b2ef556907e734a90771f0dbdbcaf">d2436df3</a>)</li>
<li>Don’t rely on splice being present on input (<a href="https://github.com/jquery/jquery/commit/9c6f64c7b51d50e334ef1183e2937ad77c0a68b0">9c6f64c7</a>)</li>
<li>Manipulation: Add basic TrustedHTML support (<a href="https://github.com/jquery/jquery/issues/4409">#4409</a>, <a href="https://github.com/jquery/jquery/commit/de5398a6ad088dc006b46c6a870a2a053f4cd663">de5398a6</a>)</li>
<li>Report browser errors in parseXML (<a href="https://github.com/jquery/jquery/issues/4784">#4784</a>, <a href="https://github.com/jquery/jquery/commit/8969732518470a7f8e654d5bc5be0b0076cb0b87">89697325</a>)</li>
<li>Make jQuery.isXMLDoc accept falsy input (<a href="https://github.com/jquery/jquery/issues/4782">#4782</a>, <a href="https://github.com/jquery/jquery/commit/fd421097c56696e4c1c4a99c1aae44c59a722be4">fd421097</a>)</li>
<li>Drop support for Edge Legacy (i.e. non-Chromium Microsoft Edge) (<a href="https://github.com/jquery/jquery/issues/4568">#4568</a>, <a href="https://github.com/jquery/jquery/commit/e35fb62db4fb46f031056bb53e393982c03972a1">e35fb62d</a>)</li>
<li>Fire iframe script in its context, add doc param in globalEval (<a href="https://github.com/jquery/jquery/issues/4518">#4518</a>, <a href="https://github.com/jquery/jquery/commit/4592595b478be979141ce35c693dbc6b65647173">4592595b</a>)</li>
<li>Exclude callbacks &amp; deferred modules in the slim build as well (<a href="https://github.com/jquery/jquery/commit/fbc44f52fe76e1b601da76a1d7f8ef27884c06da">fbc44f52</a>)</li>
<li>Migrate from AMD to ES modules 🎉 (<a href="https://github.com/jquery/jquery/commit/d0ce00cdfa680f1f0c38460bc51ea14079ae8b07">d0ce00cd</a>)</li>
<li>Use Array.prototype.flat where supported (<a href="https://github.com/jquery/jquery/issues/4320">#4320</a>, <a href="https://github.com/jquery/jquery/commit/9df4f1de12728b44a4b0f91748f12421008d9079">9df4f1de</a>)</li>
<li>Remove private copies of push, sort &amp; splice from the jQuery prototype (<a href="https://github.com/jquery/jquery/commit/b59107f5d7451ac16a7c8755128719be6ec8bf12">b59107f5</a>)</li>
<li>Implement .even() &amp; .odd() to replace POS :even &amp; :odd (<a href="https://github.com/jquery/jquery/commit/78420d427cf3734d9264405fcbe08b76be182a95">78420d42</a>)</li>
<li>Deprecate jQuery.trim (<a href="https://github.com/jquery/jquery/issues/4363">#4363</a>, <a href="https://github.com/jquery/jquery/commit/5ea5946094784f68437ef26d463dfcfbbbaff1f6">5ea59460</a>)</li>
<li>Remove IE-specific support tests, rely on document.documentMode (<a href="https://github.com/jquery/jquery/issues/4386">#4386</a>, <a href="https://github.com/jquery/jquery/commit/3527a3840585e6a359cd712591c9c57398357b9b">3527a384</a>)</li>
<li>Drop support for IE &lt;11, iOS &lt;11, Firefox &lt;65, Android Browser &amp; PhantomJS (<a href="https://github.com/jquery/jquery/issues/3950">#3950</a>, <a href="https://github.com/jquery/jquery/issues/4299">#4299</a>, <a href="https://github.com/jquery/jquery/commit/cf84696fd1d7fe314a11492606529b5a658ee9e3">cf84696f</a>)</li>
<li>Remove deprecated jQuery APIs (<a href="https://github.com/jquery/jquery/issues/4056">#4056</a>, <a href="https://github.com/jquery/jquery/commit/58f0c00bed695f934bb205c6115e5fe99dd5c27b">58f0c00b</a>)</li>
</ul>

<h3>CSS</h3>
<ul>
<li>Fix reliableTrDimensions support test for initially hidden iframes (<a href="https://github.com/jquery/jquery/commit/b1e66a5faaf46ffcbcc27c79a9a224aaf851a987">b1e66a5f</a>)</li>
<li>Selector: Align with 3.x, remove the outer `selector.js` wrapper (<a href="https://github.com/jquery/jquery/commit/53cf7244da2a2040333335c36e435b1c12efdff9">53cf7244</a>)</li>
<li>Make the reliableTrDimensions support test work with Bootstrap CSS (<a href="https://github.com/jquery/jquery/issues/5270">#5270</a>, <a href="https://github.com/jquery/jquery/commit/65b85031fb5688361c077bc04e641e4b502671e1">65b85031</a>)</li>
<li>Make `offsetHeight( true )`, etc. include negative margins (<a href="https://github.com/jquery/jquery/issues/3982">#3982</a>, <a href="https://github.com/jquery/jquery/commit/bce13b72c1753e16cc0db53ebf0f0456bdcf6b48">bce13b72</a>)</li>
<li>Return `undefined` for whitespace-only CSS variable values (#5120) (<a href="https://github.com/jquery/jquery/commit/7eb0019640a5856c42b451551eb7f995d913eba9">7eb00196</a>)</li>
<li>Don’t trim whitespace of undefined custom property (<a href="https://github.com/jquery/jquery/issues/5105">#5105</a>, <a href="https://github.com/jquery/jquery/commit/ed306c0261ab63746040e5d58bb4477c3069a427">ed306c02</a>)</li>
<li>Skip falsy values in `addClass( array )`, compress code (<a href="https://github.com/jquery/jquery/issues/4998">#4998</a>, <a href="https://github.com/jquery/jquery/commit/a338b407f2479f82df40635055effc163835183f">a338b407</a>)</li>
<li>Justify use of rtrim on CSS property values (<a href="https://github.com/jquery/jquery/commit/655c0ed5e204b1f6427e09d615a49586a7bc84eb">655c0ed5</a>)</li>
<li>Trim whitespace surrounding CSS Custom Properties values (<a href="https://github.com/jquery/jquery/issues/4926">#4926</a>, <a href="https://github.com/jquery/jquery/commit/efadfe991a5c287af561a9326bf1427d726c91c1">efadfe99</a>)</li>
<li>Include `show`, `hide` &amp; `toggle` methods in the jQuery slim build (<a href="https://github.com/jquery/jquery/commit/297d18dd13f7b810ea5a4afeefa4cb15d9e16e16">297d18dd</a>)</li>
<li>Remove the opacity CSS hook (<a href="https://github.com/jquery/jquery/commit/865469f5e60f55feb28469bb0a7526dd22f04b4e">865469f5</a>)</li>
<li>Workaround buggy getComputedStyle on table rows in IE/Edge (<a href="https://github.com/jquery/jquery/issues/4490">#4490</a>, <a href="https://github.com/jquery/jquery/commit/26415e081b318dbe1d46d2b7c30e05f14c339b75">26415e08</a>)</li>
<li>Don’t automatically add “px” to properties with a few exceptions (<a href="https://github.com/jquery/jquery/issues/2795">#2795</a>, <a href="https://github.com/jquery/jquery/commit/00a9c2e5f4c855382435cec6b3908eb9bd5a53b7">00a9c2e5</a>)</li>
</ul>

<h3>Data</h3>
<ul>
<li>Refactor to reduce size (<a href="https://github.com/jquery/jquery/commit/805cdb43fd02c3a5783c06b5ec2c9519be0682ab">805cdb43</a>)</li>
<li>Event:Manipulation: Prevent collisions with Object.prototype (<a href="https://github.com/jquery/jquery/issues/3256">#3256</a>, <a href="https://github.com/jquery/jquery/commit/9d76c0b163675505d1a901e5fe5249a2c55609bc">9d76c0b1</a>)</li>
<li>Separate data &amp; css/effects camelCase implementations (<a href="https://github.com/jquery/jquery/issues/3355">#3355</a>, <a href="https://github.com/jquery/jquery/commit/8fae21200e80647fec4389995c4879948d11ad66">8fae2120</a>)</li>
</ul>

<h3>Deferred</h3>
<ul>
<li>Rename `getStackHook` to `getErrorHook` (<a href="https://github.com/jquery/jquery/issues/5201">#5201</a>, <a href="https://github.com/jquery/jquery/commit/258ca1ec6a373f85f7849308c967b7e6a993e6e7">258ca1ec</a>)</li>
<li>Respect source maps in jQuery.Deferred.exceptionHook (<a href="https://github.com/jquery/jquery/issues/3179">#3179</a>, <a href="https://github.com/jquery/jquery/commit/0b9c5037f707a0b8e0dbb11776b690ae7dde7123">0b9c5037</a>)</li>
<li>Rename master to primary (<a href="https://github.com/jquery/jquery/commit/a32cf6324f8f2190e66a687e94be9687ebf840b7">a32cf632</a>)</li>
</ul>

<h3>Deprecated</h3>
<ul>
<li>Define `.hover()` using non-deprecated methods (<a href="https://github.com/jquery/jquery/commit/fd6ffc5eb2c12562f2656d2f33865448420252be">fd6ffc5e</a>)</li>
<li>Remove jQuery.trim (<a href="https://github.com/jquery/jquery/commit/0b676ae12d20721e2df6f6f32f37f7302f8805bf">0b676ae1</a>)</li>
<li>Fix AMD parameter order (<a href="https://github.com/jquery/jquery/commit/f810080e8e92278bb5288cba7cc0169481471780">f810080e</a>)</li>
</ul>

<h3>Dimensions</h3>
<ul>
<li>Add offset prop fallback to FF for unreliable TR dimensions (<a href="https://github.com/jquery/jquery/issues/4529">#4529</a>, <a href="https://github.com/jquery/jquery/commit/3bbbc11111840d6fd5160db13f2c1a9acb05c4c4">3bbbc111</a>)</li>
</ul>

<h3>Docs</h3>
<ul>
<li>Fix module links in the package README (<a href="https://github.com/jquery/jquery/commit/ace646f6e83e653f666ba715c200739f1cbdba52">ace646f6</a>)</li>
<li>update watch task in CONTRIBUTING.md (<a href="https://github.com/jquery/jquery/commit/77d6ad7172db3ae11573df7b322d410b161eb43e">77d6ad71</a>)</li>
<li>Fix typos found by codespell (<a href="https://github.com/jquery/jquery/commit/620870a1af5287d29c77ec6d5f973116b23793a7">620870a1</a>)</li>
<li>remove stale gitter badge from readme (<a href="https://github.com/jquery/jquery/commit/67cb1af7740a956e150e8d93266c4e601f55e8a4">67cb1af7</a>)</li>
<li>Remove the “Grunt build” section from the PR template (<a href="https://github.com/jquery/jquery/commit/988a56847de301ce18a653f84b07c5af432a269f">988a5684</a>)</li>
<li>Remove stale badge from README (<a href="https://github.com/jquery/jquery/commit/bcd9c2bc3ddaa04f89f550681ca9c1ec5efc4328">bcd9c2bc</a>)</li>
<li>Update the README of the published package (<a href="https://github.com/jquery/jquery/commit/edccabf10d37b57cbd4eeebc44f3acb67cb2739c">edccabf1</a>)</li>
<li>Remove git.io from a GitHub Actions comment (<a href="https://github.com/jquery/jquery/commit/016872ffe03ab9107b1bc62fae674a4809c3b23f">016872ff</a>)</li>
<li>Update webpack website in README (<a href="https://github.com/jquery/jquery/commit/01819bc3bcc44282e5bb9301c3478d837d1e5152">01819bc3</a>)</li>
<li>add link to patchwelcome and help wanted issues (<a href="https://github.com/jquery/jquery/commit/924b7ce825962bfe4c16e02eb411c7f66ee75a55">924b7ce8</a>)</li>
<li>add link to preview the new CLAs (<a href="https://github.com/jquery/jquery/commit/683ceb8ff067ac53a7cb464ba1ec3f88e353e3f5">683ceb8f</a>)</li>
<li>Fix incorrect `trac-NUMBER` references (<a href="https://github.com/jquery/jquery/commit/eb9ceb2facbeff1c66a41824bd0ac0c56d0c5c62">eb9ceb2f</a>)</li>
<li>remove expired links from old jquery source (#4997) (<a href="https://github.com/jquery/jquery/commit/ed066ac70270b4bb20b5717501d2d268ef144bd3">ed066ac7</a>)</li>
<li>Remove links to Web Archive from source (<a href="https://github.com/jquery/jquery/issues/4981">#4981</a>, <a href="https://github.com/jquery/jquery/commit/e24f2dcf3f6bda1a672502e0233c732065cbbe89">e24f2dcf</a>)</li>
<li>Replace `#NUMBER` Trac issue references with `trac-NUMBER` (<a href="https://github.com/jquery/jquery/commit/5d5ea015114092c157311c4948f7cc3d8c8e7f8a">5d5ea015</a>)</li>
<li>Update the URL to the latest jQuery build in CONTRIBUTING.md (<a href="https://github.com/jquery/jquery/commit/9bdb16cd19097da67950a707baac3980bda873f3">9bdb16cd</a>)</li>
<li>Remove the CLA checkbox in the pull request template (<a href="https://github.com/jquery/jquery/commit/e124893132d7a979d7987f978e968a1f889348b6">e1248931</a>)</li>
<li>update irc to Libera and fix LAMP dead link (<a href="https://github.com/jquery/jquery/commit/175db73ec7938e774d9e93d3afdfb35a24466b47">175db73e</a>)</li>
<li>Update Frequently Reported Issues in the GitHub issue template (<a href="https://github.com/jquery/jquery/commit/7a6fae6a7e51ae30a9f3177e8639fbf523ed0915">7a6fae6a</a>)</li>
<li>Change JS Foundation mentions to OpenJS Foundation (<a href="https://github.com/jquery/jquery/commit/11611967adf2bd9ff4304132f917629ec1134049">11611967</a>)</li>
<li>add SECURITY.md, show security email address (<a href="https://github.com/jquery/jquery/commit/2ffe54ca53b4ba2de2012f83c3faf262c1003af9">2ffe54ca</a>)</li>
<li>Fix typos (<a href="https://github.com/jquery/jquery/commit/1a7332ce83cdee7d6cd9d45c2a4b83067f53f14b">1a7332ce</a>)</li>
<li>Update the link to the jsdom repository (<a href="https://github.com/jquery/jquery/commit/a62309e01b3c76d2b73560ca666c454b7bbfcb77">a62309e0</a>)</li>
<li>Use https for hyperlinks in README (<a href="https://github.com/jquery/jquery/commit/73415da25d964ee31ec1804d55f5af0199a1378e">73415da2</a>)</li>
<li>Remove a mention of the event/alias.js module from README (<a href="https://github.com/jquery/jquery/commit/3edfa1bcdc50bca41ac58b2642b12f3feee03a3b">3edfa1bc</a>)</li>
<li>Update links to EdgeHTML issues to go through Web Archive (<a href="https://github.com/jquery/jquery/commit/1dad1185e0b2ca2a13bf411558eda75fb2d4da88">1dad1185</a>)</li>
<li>direct users to GitHub docs for cloning the repo (<a href="https://github.com/jquery/jquery/commit/f1c16de29689d2cfaf629f00d682148e99753509">f1c16de2</a>)</li>
<li>Change OS X to macOS in README (<a href="https://github.com/jquery/jquery/commit/5a3e0664d261422f11a78faaf101d70c73b3a5a8">5a3e0664</a>)</li>
<li>Update most URLs to HTTPS (<a href="https://github.com/jquery/jquery/commit/f09d92100ffff6208211b200ed0cdc39bfd17fc3">f09d9210</a>)</li>
<li>Convert link to Homebrew from HTTP to HTTPS (<a href="https://github.com/jquery/jquery/commit/e0022f23144fd1dc6db86a5d8c18af47bc14f0f3">e0022f23</a>)</li>
</ul>

<h3>Effect</h3>
<ul>
<li>Fix a unnecessary conditional statement in .stop() (<a href="https://github.com/jquery/jquery/issues/4374">#4374</a>, <a href="https://github.com/jquery/jquery/commit/110802c7f22b677ef658963aa95ebdf5cb9c5573">110802c7</a>)</li>
</ul>

<h3>Effects</h3>
<ul>
<li>Remove jQuery.fx.interval (<a href="https://github.com/jquery/jquery/commit/6c2c7362fb18d3df7c2a7b13715c2763645acfcb">6c2c7362</a>)</li>
</ul>

<h3>Event</h3>
<ul>
<li>Avoid collisions between jQuery.event.special &amp; Object.prototype (<a href="https://github.com/jquery/jquery/commit/bcaeb000b777c018ad5d18e01be5060caa8cb158">bcaeb000</a>)</li>
<li>Simplify the check for saved data in leverageNative (<a href="https://github.com/jquery/jquery/commit/dfe212d5a1eed6b4a67d1cbd04ece09bbac33699">dfe212d5</a>)</li>
<li>Make trigger(focus/blur/click) work with native handlers (<a href="https://github.com/jquery/jquery/issues/5015">#5015</a>, <a href="https://github.com/jquery/jquery/commit/6ad3651dbfea9e9bb56e608f72b4ef2f97bd4e70">6ad3651d</a>)</li>
<li>Simulate focus/blur in IE via focusin/focusout (<a href="https://github.com/jquery/jquery/issues/4856">#4856</a>, <a href="https://github.com/jquery/jquery/issues/4859">#4859</a>, <a href="https://github.com/jquery/jquery/issues/4950">#4950</a>, <a href="https://github.com/jquery/jquery/commit/ce60d31893deab7d3da592b5173e90b5d50e7732">ce60d318</a>)</li>
<li>Don’t break focus triggering after `.on(focus).off(focus)` (<a href="https://github.com/jquery/jquery/issues/4867">#4867</a>, <a href="https://github.com/jquery/jquery/commit/e539bac79e666bba95bba86d690b4e609dca2286">e539bac7</a>)</li>
<li>Make focus re-triggering not focus the original element back (<a href="https://github.com/jquery/jquery/issues/4382">#4382</a>, <a href="https://github.com/jquery/jquery/commit/dbcffb396c2db61ff96edc4162602e850797d61f">dbcffb39</a>)</li>
<li>Don’t crash if an element is removed on blur (<a href="https://github.com/jquery/jquery/issues/4417">#4417</a>, <a href="https://github.com/jquery/jquery/commit/5c2d08704e289dd2745bcb0557b35a9c0e6af4a4">5c2d0870</a>)</li>
<li>Remove the event.which shim (<a href="https://github.com/jquery/jquery/issues/3235">#3235</a>, <a href="https://github.com/jquery/jquery/commit/1a5fff4c169dbaa2df72c656868bcf60ed4413d0">1a5fff4c</a>)</li>
<li>remove jQuery.event.global (<a href="https://github.com/jquery/jquery/commit/18db87172cffbe48b92e30b70249e304863a70f9">18db8717</a>)</li>
<li>Only attach events to objects that accept data – for real (<a href="https://github.com/jquery/jquery/issues/4397">#4397</a>, <a href="https://github.com/jquery/jquery/commit/d5c505e35d8c74ce8e9d99731a1a7eab0e0d911c">d5c505e3</a>)</li>
<li>Stop shimming focusin &amp; focusout events (<a href="https://github.com/jquery/jquery/issues/4300">#4300</a>, <a href="https://github.com/jquery/jquery/commit/8a741376937dfacf9f82b2b88f93b239fe267435">8a741376</a>)</li>
<li>Prevent leverageNative from registering duplicate dummy handlers (<a href="https://github.com/jquery/jquery/commit/eb6c0a7c97b1b3cf00144de12d945c9c569f935c">eb6c0a7c</a>)</li>
<li>Fix handling of multiple async focus events (<a href="https://github.com/jquery/jquery/issues/4350">#4350</a>, <a href="https://github.com/jquery/jquery/commit/ddfa83766478268391bc9da96683fc0d4973fcfe">ddfa8376</a>)</li>
</ul>

<h3>Manipulation</h3>
<ul>
<li>Generalize a test to support IE (<a href="https://github.com/jquery/jquery/commit/88690ebfc8b5ef8b1e444326c664b590ecc0b888">88690ebf</a>)</li>
<li>Support $el.html(selfRemovingScript) (#5378) (<a href="https://github.com/jquery/jquery/issues/5377">#5377</a>, <a href="https://github.com/jquery/jquery/commit/937923d9ee8dfd19008447b5059cbd13ee5a23ac">937923d9</a>)</li>
<li>Extract domManip to a separate file (<a href="https://github.com/jquery/jquery/commit/ee6e874075ba1fcd8f9e62cd1ee5c04f6518b6d6">ee6e8740</a>)</li>
<li>Don’t remove HTML comments from scripts (<a href="https://github.com/jquery/jquery/issues/4904">#4904</a>, <a href="https://github.com/jquery/jquery/commit/2f8f39e457c32c454c50545b0fdaa1d7a4a2f8bd">2f8f39e4</a>)</li>
<li>Respect script crossorigin attribute in DOM manipulation (<a href="https://github.com/jquery/jquery/issues/4542">#4542</a>, <a href="https://github.com/jquery/jquery/commit/15ae361485056b236a9484a185238f992806e1ff">15ae3614</a>)</li>
<li>Avoid concatenating strings in buildFragment (<a href="https://github.com/jquery/jquery/commit/9c98e4e86eda857ee063bc48adbc1a11bb5506ee">9c98e4e8</a>)</li>
<li>Make jQuery.htmlPrefilter an identity function (<a href="https://github.com/jquery/jquery/commit/90fed4b453a5becdb7f173d9e3c1492390a1441f">90fed4b4</a>)</li>
<li>Selector: Use the nodeName util where possible to save size (<a href="https://github.com/jquery/jquery/commit/4504fc3d722dd029d861cb47aa65a5edc651c4d3">4504fc3d</a>)</li>
</ul>

<h3>Release</h3>
<ul>
<li>use buildDefaultFiles directly and pass version (<a href="https://github.com/jquery/jquery/commit/b507c8648f701acd1c48b3c38054ad38d76fd1ca">b507c864</a>)</li>
<li>copy dist-module folder as well (<a href="https://github.com/jquery/jquery/commit/63767650b5b171b4671304fd2bb2f2890431929f">63767650</a>)</li>
<li>only published versioned files to cdn (<a href="https://github.com/jquery/jquery/commit/3a0ca684eb21d64a13d7591ce1891b1990e0339c">3a0ca684</a>)</li>
<li>remove scripts and dev deps from dist package.json (<a href="https://github.com/jquery/jquery/commit/7eac932da7177104546abef595adf4429eb829b3">7eac932d</a>)</li>
<li>update build command in Release.generateArtifacts (<a href="https://github.com/jquery/jquery/commit/3b963a21662061e0f39ad90f146e73e2223c2b86">3b963a21</a>)</li>
<li>add support for md5 sums in windows (<a href="https://github.com/jquery/jquery/commit/f088c36631df3d5dc98408debd147ea5d3618557">f088c366</a>)</li>
<li>remove the need to install grunt globally (<a href="https://github.com/jquery/jquery/commit/b2bbaa36d4d37bd48f954ed3cdbd50d3461a523d">b2bbaa36</a>)</li>
<li>upgrade release dependencies (<a href="https://github.com/jquery/jquery/commit/967af73203378db0cc3637adee85c442e246e05a">967af732</a>)</li>
<li>Remove an unused chalk dependency (<a href="https://github.com/jquery/jquery/commit/bfb6897c558dfdccff7ac5fc377b08e806525be3">bfb6897c</a>)</li>
<li>Use an in-repository dist README fixture (<a href="https://github.com/jquery/jquery/commit/358b769a00c3a09a8ec621b8dcb2d5e31b7da69a">358b769a</a>)</li>
<li>Update AUTHORS.txt (<a href="https://github.com/jquery/jquery/commit/1b74660f730d34bf728094c33080ff406427f41e">1b74660f</a>)</li>
<li>update AUTHORS.txt (<a href="https://github.com/jquery/jquery/commit/cf9fe0f6a104a0f527c7c3f441485c19e2b19c69">cf9fe0f6</a>)</li>
</ul>

<h3>Selector</h3>
<ul>
<li>Make `selector.js` module depend on `attributes/attr.js` (<a href="https://github.com/jquery/jquery/issues/5379">#5379</a>, <a href="https://github.com/jquery/jquery/commit/e06ff08849057cd099365bf43598c8952fe9956d">e06ff088</a>)</li>
<li>Eliminate `selector.js` depenencies from various modules (<a href="https://github.com/jquery/jquery/commit/e8b7db4b0f1e1b8e08578641b30a92b955ccc4ec">e8b7db4b</a>)</li>
<li>Re-expose jQuery.find.{tokenize,select,compile,setDocument} (<a href="https://github.com/jquery/jquery/issues/5259">#5259</a>, <a href="https://github.com/jquery/jquery/commit/338de3599039a3ba906214e656bcbe637430c37d">338de359</a>)</li>
<li>Stop relying on CSS.supports( “selector(…)” ) (<a href="https://github.com/jquery/jquery/issues/5194">#5194</a>, <a href="https://github.com/jquery/jquery/commit/68aa2ef7571e2d9f91fad1aa9e5f956c04dc9ee9">68aa2ef7</a>)</li>
<li>Backport jQuery selection context logic to selector-native (<a href="https://github.com/jquery/jquery/issues/5185">#5185</a>, <a href="https://github.com/jquery/jquery/commit/2e644e845051703775b35b358eec5d3608a9465f">2e644e84</a>)</li>
<li>Make selector lists work with `qSA` again (<a href="https://github.com/jquery/jquery/issues/5177">#5177</a>, <a href="https://github.com/jquery/jquery/commit/09d988b774e7ff4acfb69c0cde2dab373559aaca">09d988b7</a>)</li>
<li>Implement the `uniqueSort` chainable method (<a href="https://github.com/jquery/jquery/issues/5166">#5166</a>, <a href="https://github.com/jquery/jquery/commit/5266f23cf49c9329bddce4d4af6cb5fbbd1e0383">5266f23c</a>)</li>
<li>Re-introduce selector-native.js (<a href="https://github.com/jquery/jquery/commit/4c1171f2ed62584211250df0af8302d34c04621a">4c1171f2</a>)</li>
<li>Manipulation: Fix DOM manip within template contents (<a href="https://github.com/jquery/jquery/issues/5147">#5147</a>, <a href="https://github.com/jquery/jquery/commit/3299236c898136dc1aa57dc5148811203e931895">3299236c</a>)</li>
<li>Drop support for legacy pseudos, test custom pseudos (<a href="https://github.com/jquery/jquery/commit/8c7da22caeae8c2c3f7e9869d5f47414669f106c">8c7da22c</a>)</li>
<li>Use jQuery `:has` if `CSS.supports(selector(…))` non-compliant (<a href="https://github.com/jquery/jquery/issues/5098">#5098</a>, <a href="https://github.com/jquery/jquery/commit/d153c375e67f2c2dba82c2fb079c36b8d795e66a">d153c375</a>)</li>
<li>Remove the “a:enabled” workaround for Chrome &lt;=77 (<a href="https://github.com/jquery/jquery/commit/c1ee33aded44051b8f1288b59d2efdc68d0413cc">c1ee33ad</a>)</li>
<li>Make empty attribute selectors work in IE again (<a href="https://github.com/jquery/jquery/issues/4435">#4435</a>, <a href="https://github.com/jquery/jquery/commit/05184cc448f4ed7715ddd6a5d724e167882415f1">05184cc4</a>)</li>
<li>Use shallow document comparisons in uniqueSort (<a href="https://github.com/jquery/jquery/issues/4441">#4441</a>, <a href="https://github.com/jquery/jquery/commit/15750b0af270da07917b70457cf09bda97d3d935">15750b0a</a>)</li>
<li>Add a test for throwing on post-comma invalid selectors (<a href="https://github.com/jquery/jquery/commit/6eee5f7f181f9ebf5aa428e96356667e3cf7ddbd">6eee5f7f</a>)</li>
<li>Make selectors with leading combinators use qSA again (<a href="https://github.com/jquery/jquery/commit/ed66d5a22b37425abf5b63c361f91340de89c994">ed66d5a2</a>)</li>
<li>Use shallow document comparisons to avoid IE/Edge crashes (<a href="https://github.com/jquery/jquery/issues/4441">#4441</a>, <a href="https://github.com/jquery/jquery/commit/aa6344baf87145ffc807a527d9c1fb03c96b1948">aa6344ba</a>)</li>
<li>reduce size, simplify setDocument (<a href="https://github.com/jquery/jquery/commit/29a9544a4fb743491a42f827a6cf8627b7b99e0f">29a9544a</a>)</li>
<li>Leverage the :scope pseudo-class where possible (<a href="https://github.com/jquery/jquery/issues/4453">#4453</a>, <a href="https://github.com/jquery/jquery/commit/df6a7f7f0f615149266b1a51064293b748b29900">df6a7f7f</a>)</li>
<li>Bring back querySelectorAll shortcut usage (<a href="https://github.com/jquery/jquery/commit/cef4b73179b8d2a38cfd5e0730111cc80518311a">cef4b731</a>)</li>
<li>Inline Sizzle into the selector module (<a href="https://github.com/jquery/jquery/commit/47835965bd100a3661d8299d8b769ceeb8b6ce48">47835965</a>)</li>
<li>Port Sizzle tests to jQuery (<a href="https://github.com/jquery/jquery/commit/79b74e043a4ee737d44a95094ff1184e40bd5b16">79b74e04</a>)</li>
</ul>

<h3>Support</h3>
<ul>
<li>ensure display is set to block for the support div (<a href="https://github.com/jquery/jquery/issues/4832">#4832</a>, <a href="https://github.com/jquery/jquery/commit/09f254361f1fe8a563b8a90fe6a4d269f4b11514">09f25436</a>)</li>
</ul>

<h3>Tests</h3>
<ul>
<li>Disable the “:lang respects escaped backslashes” test (<a href="https://github.com/jquery/jquery/issues/5271">#5271</a>, <a href="https://github.com/jquery/jquery/commit/62b9a2583460c2384f6de1d0a6aeaf05e51d523b">62b9a258</a>)</li>
<li>Indicate Chrome 112 &amp; Safari 16.4 pass the cssHas support test (<a href="https://github.com/jquery/jquery/commit/89ef81f86f8f371154e9fd3173be5fb57cb72d5e">89ef81f8</a>)</li>
<li>Test AJAX deprecated event aliases properly (<a href="https://github.com/jquery/jquery/commit/cff2899885c314d32eea42e9eef6ead6e5da5c2f">cff28998</a>)</li>
<li>Indicate Firefox 106+ passes the `cssSupportsSelector` test (<a href="https://github.com/jquery/jquery/commit/716130e094caf780100a39cfd4526adbd7673b12">716130e0</a>)</li>
<li>Remove a workaround for a Firefox XML parsing issue (<a href="https://github.com/jquery/jquery/commit/e7ffe1f135dfa68ce3065b2bd319a29a57866dc6">e7ffe1f1</a>)</li>
<li>Fix the link to QUnit CSS file (<a href="https://github.com/jquery/jquery/commit/8cf39b78e6c36b360dd81268a7f84fb4ca218e15">8cf39b78</a>)</li>
<li>Exclude tests based on compilation flags, not API presence (<a href="https://github.com/jquery/jquery/issues/5069">#5069</a>, <a href="https://github.com/jquery/jquery/commit/fae5fee8b435cc20352d28b0a384b9784b1ad9ed">fae5fee8</a>)</li>
<li>Workaround an XML parsing bug in Firefox (<a href="https://github.com/jquery/jquery/commit/af1cd6f218f699abc34b1582a910c0df00312aee">af1cd6f2</a>)</li>
<li>lock colors version to 1.4.0 (<a href="https://github.com/jquery/jquery/commit/9603b3c899af354a4f538fa5b15f9dac3fcc0f55">9603b3c8</a>)</li>
<li>Skip ETag AJAX tests on TestSwarm (<a href="https://github.com/jquery/jquery/commit/00c060d1619d472a2d8c5b104ed76fa3afc2ce97">00c060d1</a>)</li>
<li>Allow statusText to be “success” in AJAX tests (<a href="https://github.com/jquery/jquery/commit/19ced963c63372eae5aca9e1a4baec80b78a2b8e">19ced963</a>)</li>
<li>Make Karma browser timeout larger than the QUnit one (<a href="https://github.com/jquery/jquery/commit/4fd6912bfd8fffbfabc98a9b0789d28f10af0914">4fd6912b</a>)</li>
<li>Don’t remove csp.log in the cspClean action of mock.php (<a href="https://github.com/jquery/jquery/commit/1019074f7b1df96ee9d6409ada3dc0562046f6c7">1019074f</a>)</li>
<li>Load the TestSwarm listener via HTTPS (<a href="https://github.com/jquery/jquery/commit/d225639a8ea62863482bd20249077688f60235db">d225639a</a>)</li>
<li>Switch background image from online file to local 1×1.jpg (<a href="https://github.com/jquery/jquery/commit/482f846203e82b1c2620f580e483bf41d11f9f49">482f8462</a>)</li>
<li>Strip untypical callback parameter characters from mock.php (<a href="https://github.com/jquery/jquery/commit/a70274632dc19ff4a64d7bb7657a2cc647ff38b9">a7027463</a>)</li>
<li>Make more tests run natively in Chrome &amp; Firefox (<a href="https://github.com/jquery/jquery/commit/50e8e84621ff7a314fca253ce73f0519322d8a4d">50e8e846</a>)</li>
<li>Fix tests for not auto-executing scripts without dataType (<a href="https://github.com/jquery/jquery/commit/d38528b17a846b7ca4513b41150a05436546292d">d38528b1</a>)</li>
<li>Recognize callbacks with dots in the Node.js mock server (<a href="https://github.com/jquery/jquery/commit/df6858df2ed3fc5c424591a5e09b900eb4ce0417">df6858df</a>)</li>
<li>Skip the “jQuery.ajax() on unload” test in Safari (<a href="https://github.com/jquery/jquery/commit/c18dc49699bc27481a4af36ed1a0ee1b19c6eb03">c18dc496</a>)</li>
<li>Remove an unused local variable (<a href="https://github.com/jquery/jquery/commit/82b87f6f0e45ca4e717b4e3a4a20a592709a099f">82b87f6f</a>)</li>
<li>Remove remaining obsolete jQuery.cache references (<a href="https://github.com/jquery/jquery/commit/d96111e18b42ae1bc7def72a8a0d156ea39e4d0e">d96111e1</a>)</li>
<li>Workaround failures in recent XSS tests in iOS 8 – 12 (<a href="https://github.com/jquery/jquery/commit/11066a9e6ac183dd710d1bc7aa74a3f809757136">11066a9e</a>)</li>
<li>Add tests for recently fixed manipulation XSS issues (<a href="https://github.com/jquery/jquery/commit/dc06d68bdc4c2562b5cc530f21e668a17d78ee2d">dc06d68b</a>)</li>
<li>Use only one focusin/out handler per matching window &amp; document (<a href="https://github.com/jquery/jquery/commit/9b7320435059e30af71d648ab34ac6c00c80f5ef">9b732043</a>)</li>
<li>Fix flakiness in the “jQuery.ajax() – JSONP – Same Domain” test (<a href="https://github.com/jquery/jquery/commit/7b0864d0539bbfbb01d88d9bc95369580ffd99bc">7b0864d0</a>)</li>
<li>Pass a number of necessary done() calls to assert.async() (<a href="https://github.com/jquery/jquery/commit/364476c3dc1231603ba61fc08068fa89fb095e1a">364476c3</a>)</li>
<li>Remove obsolete jQuery data tests (<a href="https://github.com/jquery/jquery/commit/eb35be528fdea40faab4d89ac859d38dfd024271">eb35be52</a>)</li>
<li>Skip a “width/height on a table row with phantom borders” test in Firefox (<a href="https://github.com/jquery/jquery/commit/a612733be0c68d337647a6fcc8f8e0cabc1fc36b">a612733b</a>)</li>
<li>Don’t test synchronous XHR on unload in Chrome (<a href="https://github.com/jquery/jquery/commit/323575fb9bb330a852718d89e323f7ec79549100">323575fb</a>)</li>
<li>Stop using jQuery.find in tests (<a href="https://github.com/jquery/jquery/commit/1d624c10b4a6b97ac254bcefffa91058556075d2">1d624c10</a>)</li>
<li>Port changes from Sizzle (<a href="https://github.com/jquery/jquery/commit/ac5f7cd8e29ecc7cdf21c13199be5472375ffa0e">ac5f7cd8</a>)</li>
<li>Fix a comment in testinit.js (<a href="https://github.com/jquery/jquery/commit/7bdf307b51e4d4a891b123a96d4899e31bfba024">7bdf307b</a>)</li>
<li>update npo.js and include unminified source instead (<a href="https://github.com/jquery/jquery/commit/b334ce7735ae453bd5643b251f36c3cedce4b3de">b334ce77</a>)</li>
<li>Restrict an event test fallback to TestSwarm (<a href="https://github.com/jquery/jquery/commit/bde53edcf4bd6c975d068eed4eb16c5ba09c1cff">bde53edc</a>)</li>
<li>Fix the new focusin/focusout test in IE (<a href="https://github.com/jquery/jquery/commit/6f2fae7c410dcb5876814866a03fc819f0502290">6f2fae7c</a>)</li>
<li>Fix the core-js polyfill inclusion method (<a href="https://github.com/jquery/jquery/commit/2e4b79ab8f7c43d36537a743c4c1a1a5b17e130e">2e4b79ab</a>)</li>
</ul>

<h3>Traversing</h3>
<ul>
<li>Fix `contents()` on `&lt;object&gt;`s with children in IE (<a href="https://github.com/jquery/jquery/commit/ccbd6b93424cbdbf86f07a86c2e55cbab497d7a3">ccbd6b93</a>)</li>
<li>Fix `contents()` on `&lt;object&gt;`s with children (<a href="https://github.com/jquery/jquery/issues/4384">#4384</a>, <a href="https://github.com/jquery/jquery/commit/4d865d96aa5aae91823c50020b5c19da79566811">4d865d96</a>)</li>
</ul>
			<!-- #comments -->
	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Go 1.22 Release Notes (333 pts)]]></title>
            <link>https://go.dev/doc/go1.22</link>
            <guid>39282225</guid>
            <pubDate>Tue, 06 Feb 2024 23:15:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://go.dev/doc/go1.22">https://go.dev/doc/go1.22</a>, See on <a href="https://news.ycombinator.com/item?id=39282225">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main-content">
  


<article>





















<!--
NOTE: In this document and others in this directory, the convention is to
set fixed-width phrases with non-fixed-width spaces, as in
<code>hello</code> <code>world</code>.
Do not send CLs removing the interior tags from such phrases.
-->



<h2 id="introduction">Introduction to Go 1.22</h2>

<p>
  The latest Go release, version 1.22, arrives six months after <a href="https://go.dev/doc/go1.21">Go 1.21</a>.
  Most of its changes are in the implementation of the toolchain, runtime, and libraries.
  As always, the release maintains the Go 1 <a href="https://go.dev/doc/go1compat">promise of compatibility</a>.
  We expect almost all Go programs to continue to compile and run as before.
</p>

<h2 id="language">Changes to the language</h2>

<p>
<!-- loop variable scope --><!-- range over int -->
Go 1.22 makes two changes to "for" loops.
</p><ul>
  <li>
    Previously, the variables declared by a "for" loop were created once and updated by each iteration. In Go 1.22, each iteration of the loop creates new variables, to avoid accidental sharing bugs.
    The <a href="https://go.dev/wiki/LoopvarExperiment#my-test-fails-with-the-change-how-can-i-debug-it">transition support tooling</a>
    described in the proposal continues to work in the same way it did in Go 1.21.
  </li>
  <li>
    "For" loops may now range over integers.
    For <a href="https://go.dev/play/p/ky02zZxgk_r?v=gotip">example</a>:
<pre>package main

import "fmt"

func main() {
  for i := range 10 {
    fmt.Println(10 - i)
  }
  fmt.Println("go1.22 has lift-off!")
}
</pre>
    See the spec for <a href="https://go.dev/ref/spec#For_range">details</a>.
  </li>
</ul>

<!-- range over func GOEXPERIMENT; https://go.dev/issue/61405, https://go.dev/issue/61897, CLs 510541,539277,540263,543319 -->

<p>
  Go 1.22 includes a preview of a language change we are considering
  for a future version of Go: <a href="https://go.dev/wiki/RangefuncExperiment">range-over-function iterators</a>.
  Building with <code>GOEXPERIMENT=rangefunc</code> enables this feature.
</p>



<h3 id="go-command">Go command</h3>

<!-- https://go.dev/issue/60056 -->
<p>
  Commands in <a href="https://go.dev/ref/mod#workspaces">workspaces</a> can now
  use a <code>vendor</code> directory containing the dependencies of the
  workspace. The directory is created by
  <a href="https://go.dev/pkg/cmd/go#hdr-Make_vendored_copy_of_dependencies"><code>go</code> <code>work</code> <code>vendor</code></a>,
  and used by build commands when the <code>-mod</code> flag is set to
	<code>vendor</code>, which is the default when a workspace <code>vendor</code>
  directory is present.
</p>
<p>
  Note that the <code>vendor</code> directory's contents for a workspace are different
  from those of a single module: if the directory at the root of a workspace also
  contains one of the modules in the workspace, its <code>vendor</code> directory
  can contain the dependencies of either the workspace or of the module,
  but not both.
</p>

<!-- CL 518775, https://go.dev/issue/60915 -->
<p>
  <code>go</code> <code>get</code> is no longer supported outside of a module in the
  legacy <code>GOPATH</code> mode (that is, with <code>GO111MODULE=off</code>).
  Other build commands, such as <code>go</code> <code>build</code> and
  <code>go</code> <code>test</code>, will continue to work indefinitely
  for legacy <code>GOPATH</code> programs.
</p>

<!-- CL 518776 -->
<p>
  <code>go</code> <code>mod</code> <code>init</code> no longer attempts to import
  module requirements from configuration files for other vendoring tools
  (such as <code>Gopkg.lock</code>).
</p>

<!-- CL 495447 -->
<p>
  <code>go</code> <code>test</code> <code>-cover</code> now prints coverage summaries
  for covered packages that do not have their own test files. Prior to Go 1.22 a
  <code>go</code> <code>test</code> <code>-cover</code> run for such a package would
  report
</p>

<p>
  <code>?     mymod/mypack    [no test files]</code>
</p>

<p>
  and now with Go 1.22, functions in the package are treated as uncovered:
</p>

<p>
  <code>mymod/mypack    coverage: 0.0% of statements</code>
</p>

<p>
  Note that if a package contains no executable code at all, we can't report
  a meaningful coverage percentage; for such packages the <code>go</code> tool
  will continue to report that there are no test files.
</p>


<h3 id="trace">Trace</h3>

<!-- https://go.dev/issue/63960 -->
<p>
  The <code>trace</code> tool's web UI has been gently refreshed as part of the
  work to support the new tracer, resolving several issues and improving the
  readability of various sub-pages.
  The web UI now supports exploring traces in a thread-oriented view.
  The trace viewer also now displays the full duration of all system calls.
  <br>
  These improvements only apply for viewing traces produced by programs built with
  Go 1.22 or newer.
  A future release will bring some of these improvements to traces produced by older
  version of Go.
</p>

<h3 id="vet">Vet</h3>

<h4 id="vet-loopclosure">References to loop variables</h4>

<p><!-- CL 539016, https://go.dev/issue/63888: cmd/vet: do not report variable capture for loop variables with the new lifetime rules -->
  The behavior of the <code>vet</code> tool has changed to match
  the new semantics (see above) of loop variables in Go 1.22.
  When analyzing a file that requires Go 1.22 or newer
  (due to its go.mod file or a per-file build constraint),
  <code>vet</code>code&gt; no longer reports references to
  loop variables from within a function literal that
  might outlive the iteration of the loop.
  In Go 1.22, loop variables are created anew for each iteration,
  so such references are no longer at risk of using a variable
  after it has been updated by the loop.
</p>

<h4 id="vet-appends">New warnings for missing values after append</h4>

<p><!-- CL 498416, https://go.dev/issue/60448: add a new analyzer for check missing values after append -->
  The <code>vet</code> tool now reports calls to
  <a href="https://go.dev/pkg/builtin/#append"><code>append</code></a> that pass
  no values to be appended to the slice, such as <code>slice = append(slice)</code>.
  Such a statement has no effect, and experience has shown that is nearly always a mistake.
</p>

<h4 id="vet-defers">New warnings for deferring <code>time.Since</code></h4>

<p><!-- CL 527095, https://go.dev/issue/60048: time.Since should not be used in defer statement -->
  The vet tool now reports a non-deferred call to
  <a href="https://go.dev/pkg/time/#Since"><code>time.Since(t)</code></a> within a <code>defer</code> statement.
  This is equivalent to calling <code>time.Now().Sub(t)</code> before the <code>defer</code> statement,
  not when the deferred function is called. In nearly all cases, the correct code
  requires deferring the <code>time.Since</code> call. For example:
</p>

<pre>t := time.Now()
defer log.Println(time.Since(t)) // non-deferred call to time.Since
tmp := time.Since(t); defer log.Println(tmp) // equivalent to the previous defer

defer func() {
  log.Println(time.Since(t)) // a correctly deferred call to time.Since
}()
</pre>

<h4 id="vet-slog">New warnings for mismatched key-value pairs in <code>log/slog</code> calls</h4>

<p><!-- CL 496156, https://go.dev/issue/59407: log/slog: add vet checks for variadic ...any inputs -->
  The vet tool now reports invalid arguments in calls to functions and methods
  in the structured logging package, <a href="https://go.dev/pkg/log/slog"><code>log/slog</code></a>,
  that accept alternating key/value pairs.
  It reports calls where an argument in a key position is neither a
  <code>string</code> nor a <code>slog.Attr</code>, and where a final key is missing its value.
</p>

<h2 id="runtime">Runtime</h2>

<p><!-- CL 543255 -->
  The runtime now keeps type-based garbage collection metadata nearer to each
  heap object, improving the CPU performance (latency or throughput) of Go programs
  by 1–3%.
  This change also reduces the memory overhead of the majority Go programs by
  approximately 1% by deduplicating redundant metadata.
  Some programs may see a smaller improvement because this change adjusts the size
  class boundaries of the memory allocator, so some objects may be moved up a size
  class.
</p>
<p>
  A consequence of this change is that some objects' addresses that were previously
  always aligned to a 16 byte (or higher) boundary will now only be aligned to an 8
  byte boundary.
  Some programs that use assembly instructions that require memory addresses to be
  more than 8-byte aligned and rely on the memory allocator's previous alignment behavior
  may break, but we expect such programs to be rare.
  Such programs may be built with <code>GOEXPERIMENT=noallocheaders</code> to revert
  to the old metadata layout and restore the previous alignment behavior, but package
  owners should update their assembly code to avoid the alignment assumption, as this
  workaround will be removed in a future release.
</p>

<p><!-- CL 525475 -->
  On the <code>windows/amd64 port</code>, programs linking or loading Go libraries built with
  <code>-buildmode=c-archive</code> or <code>-buildmode=c-shared</code> can now use
  the <code>SetUnhandledExceptionFilter</code> Win32 function to catch exceptions not handled
  by the Go runtime. Note that this was already supported on the <code>windows/386</code> port.
</p>

<h2 id="compiler">Compiler</h2>

<p><!-- https://go.dev/issue/61577 -->
  <a href="https://go.dev/doc/pgo">Profile-guided Optimization (PGO)</a> builds
  can now devirtualize a higher proportion of calls than previously possible.
  Most programs from a representative set of Go programs now see between 2 and
  14% improvement from enabling PGO.
</p>

<p><!-- https://go.dev/cl/528321 -->
  The compiler now interleaves devirtualization and inlining, so interface
  method calls are better optimized.
</p>

<p><!-- https://go.dev/issue/61502 -->
  Go 1.22 also includes a preview of an enhanced implementation of the compiler's inlining phase that uses heuristics to boost inlinability at call sites deemed "important" (for example, in loops) and discourage inlining at call sites deemed "unimportant" (for example, on panic paths).
  Building with <code>GOEXPERIMENT=newinliner</code> enables the new call-site
  heuristics; see <a href="https://go.dev/issue/61502">issue #61502</a> for
  more info and to provide feedback.
</p>

<h2 id="linker">Linker</h2>

<p><!-- CL 493136 -->
  The linker's <code>-s</code> and <code>-w</code> flags are now behave more
  consistently across all platforms.
  The <code>-w</code> flag suppresses DWARF debug information generation.
  The <code>-s</code> flag suppresses symbol table generation.
  The <code>-s</code> flag also implies the <code>-w</code> flag, which can be
  negated with <code>-w=0</code>.
  That is, <code>-s</code> <code>-w=0</code> will generate a binary with DWARF
  debug information generation but without the symbol table.
</p>

<p><!-- CL 511475 -->
  On ELF platforms, the <code>-B</code> linker flag now accepts a special form:
  with <code>-B</code> <code>gobuildid</code>, the linker will generate a GNU
  build ID (the ELF <code>NT_GNU_BUILD_ID</code> note) derived from the Go
  build ID.
</p>

<p><!-- CL 534555 -->
  On Windows, when building with <code>-linkmode=internal</code>, the linker now
  preserves SEH information from C object files by copying the <code>.pdata</code>
  and <code>.xdata</code> sections into the final binary.
  This helps with debugging and profiling binaries using native tools, such as WinDbg.
  Note that until now, C functions' SEH exception handlers were not being honored,
  so this change may cause some programs to behave differently.
  <code>-linkmode=external</code> is not affected by this change, as external linkers
  already preserve SEH information.
</p>

<h2 id="bootstrap">Bootstrap</h2>

<p>
  As mentioned in the <a href="https://go.dev/doc/go1.20#bootstrap">Go 1.20 release notes</a>, Go 1.22 now requires
  the final point release of Go 1.20 or later for bootstrap.
  We expect that Go 1.24 will require the final point release of Go 1.22 or later for bootstrap.
</p>

<h2 id="library">Core library</h2>

<h3 id="math_rand_v2">New math/rand/v2 package</h3>

<!-- CL 502495 -->
<!-- CL 502497 -->
<!-- CL 502498 -->
<!-- CL 502499 -->
<!-- CL 502500 -->
<!-- CL 502505 -->
<!-- CL 502506 -->
<!-- CL 516857 -->
<!-- CL 516859 -->

<p>
  Go 1.22 includes the first “v2” package in the standard library,
  <a href="https://go.dev/pkg/math/rand/v2/"><code>math/rand/v2</code></a>.
  The changes compared to <a href="https://go.dev/pkg/math/rand/"><code>math/rand</code></a> are
  detailed in <a href="https://go.dev/issue/61716">proposal #61716</a>. The most important changes are:
</p>

<ul>
<li>The <code>Read</code> method, deprecated in <code>math/rand</code>,
was not carried forward for <code>math/rand/v2</code>.
(It remains available in <code>math/rand</code>.)
The vast majority of calls to <code>Read</code> should use
<a href="https://go.dev/pkg/crypto/rand/#Read"><code>crypto/rand</code>’s <code>Read</code></a> instead.
Otherwise a custom <code>Read</code> can be constructed using the <code>Uint64</code> method.

</li><li>The global generator accessed by top-level functions is unconditionally randomly seeded.
Because the API guarantees no fixed sequence of results,
optimizations like per-thread random generator states are now possible.

</li><li>The <a href="https://go.dev/pkg/math/rand/v2/#Source"><code>Source</code></a>
interface now has a single <code>Uint64</code> method;
there is no <code>Source64</code> interface.

</li><li>Many methods now use faster algorithms that were not possible to adopt in <code>math/rand</code>
because they changed the output streams.

</li><li>The
<code>Intn</code>,
<code>Int31</code>,
<code>Int31n</code>,
<code>Int63</code>,
and
<code>Int64n</code>
top-level functions and methods from <code>math/rand</code>
are spelled more idiomatically in <code>math/rand/v2</code>:
<code>IntN</code>,
<code>Int32</code>,
<code>Int32N</code>,
<code>Int64</code>,
and
<code>Int64N</code>.
There are also new top-level functions and methods
<code>Uint32</code>,
<code>Uint32N</code>,
<code>Uint64</code>,
<code>Uint64N</code>,
<code>Uint</code>,
and
<code>UintN</code>.

</li><li>The
new generic function <a href="https://go.dev/pkg/math/rand/v2/#N"><code>N</code></a>
is like
<a href="https://go.dev/pkg/math/rand/v2/#Int64N"><code>Int64N</code></a> or
<a href="https://go.dev/pkg/math/rand/v2/#Uint64N"><code>Uint64N</code></a>
but works for any integer type.
For example a random duration from 0 up to 5 minutes is
<code>rand.N(5*time.Minute)</code>.

</li><li>The Mitchell &amp; Reeds LFSR generator provided by
<a href="https://go.dev/pkg/math/rand/#Source"><code>math/rand</code>’s <code>Source</code></a>
has been replaced by two more modern pseudo-random generator sources:
<a href="https://go.dev/pkg/math/rand/v2/#ChaCha8"><code>ChaCha8</code></a>
<a href="https://go.dev/pkg/math/rand/v2/#PCG"><code>PCG</code></a>.
ChaCha8 is a new, cryptographically strong random number generator
roughly similar to PCG in efficiency.
ChaCha8 is the algorithm used for the top-level functions in <code>math/rand/v2</code>.
As of Go 1.22, <code>math/rand</code>'s top-level functions (when not explicitly seeded)
and the Go runtime also use ChaCha8 for randomness.
</li></ul>

<p>
We plan to include an API migration tool in a future release, likely Go 1.23.
</p>

<h3 id="go/version">New go/version package</h3>

<p><!-- https://go.dev/issue/62039, https://go.dev/cl/538895 -->
  The new <a href="https://go.dev/pkg/go/version/"><code>go/version</code></a> package implements functions
  for validating and comparing Go version strings.
</p>

<h3 id="enhanced_routing_patterns">Enhanced routing patterns</h3>

<p><!-- https://go.dev/issue/61410 -->
  HTTP routing in the standard library is now more expressive.
  The patterns used by <a href="https://go.dev/pkg/net/http#ServeMux"><code>net/http.ServeMux</code></a> have been enhanced to accept methods and wildcards.
</p>

<p>
  Registering a handler with a method, like <code>"POST /items/create"</code>, restricts
  invocations of the handler to requests with the given method. A pattern with a method takes precedence over a matching pattern without one.
  As a special case, registering a handler with <code> "GET"</code> also registers it with <code>"HEAD"</code>.
</p>

<p>
  Wildcards in patterns, like <code>/items/{id}</code>, match segments of the URL path.
  The actual segment value may be accessed by calling the <a href="https://go.dev/pkg/net/http#Request.PathValue"><code>Request.PathValue</code></a> method.
  A wildcard ending in "...", like <code>/files/{path...}</code>, must occur at the end of a pattern and matches all the remaining segments.
</p>

<p>
  A pattern that ends in "/" matches all paths that have it as a prefix, as always.
  To match the exact pattern including the trailing slash, end it with <code>{$}</code>,
  as in <code>/exact/match/{$}</code>.
</p>

<p>
  If two patterns overlap in the requests that they match, then the more specific pattern takes precedence.
  If neither is more specific, the patterns conflict.
  This rule generalizes the original precedence rules and maintains the property that the order in which
  patterns are registered does not matter.
</p>

<p>
  This change breaks backwards compatibility in small ways, some obvious—patterns with "{" and "}" behave differently—
  and some less so—treatment of escaped paths has been improved.
  The change is controlled by a <a href="https://go.dev/doc/godebug"><code>GODEBUG</code></a> field named <code>httpmuxgo121</code>.
  Set <code>httpmuxgo121=1</code> to restore the old behavior.
</p>

<h3 id="minor_library_changes">Minor changes to the library</h3>

<p>
  As always, there are various minor changes and updates to the library,
  made with the Go 1 <a href="https://go.dev/doc/go1compat">promise of compatibility</a>
  in mind.
  There are also various performance improvements, not enumerated here.
</p>

<dl id="archive/tar"><dt><a href="https://go.dev/pkg/archive/tar/">archive/tar</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/58000, CL 513316 -->
      The new method <a href="https://go.dev/pkg/archive/tar#Writer.AddFS"><code>Writer.AddFS</code></a> adds all of the files from an <a href="https://go.dev/pkg/io/fs#FS"><code>fs.FS</code></a> to the archive.
    </p>
  </dd>
</dl><!-- archive/tar -->

<dl id="archive/zip"><dt><a href="https://go.dev/pkg/archive/zip/">archive/zip</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/54898, CL 513438 -->
      The new method <a href="https://go.dev/pkg/archive/zip#Writer.AddFS"><code>Writer.AddFS</code></a> adds all of the files from an <a href="https://go.dev/pkg/io/fs#FS"><code>fs.FS</code></a> to the archive.
    </p>
  </dd>
</dl><!-- archive/zip -->

<dl id="bufio"><dt><a href="https://go.dev/pkg/bufio/">bufio</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/56381, CL 498117 -->
      When a <a href="https://go.dev/pkg/bufio#SplitFunc"><code>SplitFunc</code></a> returns <a href="https://go.dev/pkg/bufio#ErrFinalToken"><code>ErrFinalToken</code></a> with a <code>nil</code> token, <a href="https://go.dev/pkg/bufio#Scanner"><code>Scanner</code></a> will now stop immediately.
      Previously, it would report a final empty token before stopping, which was usually not desired.
      Callers that do want to report a final empty token can do so by returning <code>[]byte{}</code> rather than <code>nil</code>.
    </p>
  </dd>
</dl><!-- bufio -->

<dl id="cmp"><dt><a href="https://go.dev/pkg/cmp/">cmp</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/60204 --><!-- CL 504883 -->
      The new function <code>Or</code> returns the first in a sequence of values that is not the zero value.
    </p>
  </dd>
</dl><!-- cmp -->

<dl id="crypto/tls"><dt><a href="https://go.dev/pkg/crypto/tls/">crypto/tls</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/43922, CL 544155 -->
      <a href="https://go.dev/pkg/crypto/tls#ConnectionState.ExportKeyingMaterial"><code>ConnectionState.ExportKeyingMaterial</code></a> will now
      return an error unless TLS 1.3 is in use, or the <code>extended_master_secret</code> extension is supported by both the server and
      client. <code>crypto/tls</code> has supported this extension since Go 1.20. This can be disabled with the
      <code>tlsunsafeekm=1</code> GODEBUG setting.
    </p>

    <p><!-- https://go.dev/issue/62459, CL 541516 -->
      By default, the minimum version offered by <code>crypto/tls</code> servers is now TLS 1.2 if not specified with
      <a href="https://go.dev/pkg/crypto/tls#Config.MinimumVersion"><code>config.MinimumVersion</code></a>, matching the behavior of <code>crypto/tls</code>
      clients. This change can be reverted with the <code>tls10server=1</code> GODEBUG setting.
    </p>

    <p><!-- https://go.dev/issue/63413, CL 541517 -->
      By default, cipher suites without ECDHE support are no longer offered by either clients or servers during pre-TLS 1.3
      handshakes. This change can be reverted with the <code>tlsrsakex=1</code> GODEBUG setting.
    </p>
  </dd>
</dl><!-- crypto/tls -->

<dl id="crypto/x509"><dt><a href="https://go.dev/pkg/crypto/x509/">crypto/x509</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/57178 -->
      The new <a href="https://go.dev/pkg/crypto/x509#CertPool.AddCertWithConstraint"><code>CertPool.AddCertWithConstraint</code></a>
      method can be used to add customized constraints to root certificates to be applied during chain building.
    </p>

    <p><!-- https://go.dev/issue/58922, CL 519315-->
      On Android, root certificates will now be loaded from <code>/data/misc/keychain/certs-added</code> as well as <code>/system/etc/security/cacerts</code>.
    </p>

    <p><!-- https://go.dev/issue/60665, CL 520535 -->
      A new type, <a href="https://go.dev/pkg/crypto/x509#OID"><code>OID</code></a>, supports ASN.1 Object Identifiers with individual
      components larger than 31 bits. A new field which uses this type, <a href="https://go.dev/pkg/crypto/x509#Certificate.Policies"><code>Policies</code></a>,
      is added to the <code>Certificate</code> struct, and is now populated during parsing. Any OIDs which cannot be represented
      using a <a href="https://go.dev/pkg/encoding/asn1#ObjectIdentifier"><code>asn1.ObjectIdentifier</code></a> will appear in <code>Policies</code>,
      but not in the old <code>PolicyIdentifiers</code> field.

      When calling <a href="https://go.dev/pkg/crypto/x509#CreateCertificate"><code>CreateCertificate</code></a>, the <code>Policies</code> field is ignored, and
      policies are taken from the <code>PolicyIdentifiers</code> field. Using the <code>x509usepolicies=1</code> GODEBUG setting inverts this,
      populating certificate policies from the <code>Policies</code> field, and ignoring the <code>PolicyIdentifiers</code> field. We may change the
      default value of <code>x509usepolicies</code> in Go 1.23, making <code>Policies</code> the default field for marshaling.
    </p>
  </dd>
</dl><!-- crypto/x509 -->

<dl id="database/sql"><dt><a href="https://go.dev/pkg/database/sql/">database/sql</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/60370, CL 501700 -->
      The new <a href="https://go.dev/pkg/database/sql/#Null"><code>Null[T]</code></a> type
      provide a way to scan nullable columns for any column types.
    </p>
  </dd>
</dl><!-- database/sql -->

<dl id="debug/elf"><dt><a href="https://go.dev/pkg/debug/elf/">debug/elf</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/61974, CL 469395 -->
      Constant <code>R_MIPS_PC32</code> is defined for use with MIPS64 systems.
    </p>
  </dd>
  <dd>
    <p><!-- https://go.dev/issue/63725, CL 537615 -->
      Additional <code>R_LARCH_*</code> constants are defined for use with LoongArch systems.
    </p>
  </dd>
</dl><!-- debug/elf -->

<dl id="encoding"><dt><a href="https://go.dev/pkg/encoding/">encoding</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/53693, https://go.dev/cl/504884 -->
      The new methods <code>AppendEncode</code> and <code>AppendDecode</code> added to
      each of the <code>Encoding</code> types in the packages
      <a href="https://go.dev/pkg/encoding/base32"><code>encoding/base32</code></a>,
      <a href="https://go.dev/pkg/encoding/base64"><code>encoding/base64</code></a>, and
      <a href="https://go.dev/pkg/encoding/hex"><code>encoding/hex</code></a>
      simplify encoding and decoding from and to byte slices by taking care of byte slice buffer management.
    </p>

    <p><!-- https://go.dev/cl/505236 -->
      The methods
      <a href="https://go.dev/pkg/encoding/base32#Encoding.WithPadding"><code>base32.Encoding.WithPadding</code></a> and
      <a href="https://go.dev/pkg/encoding/base64#Encoding.WithPadding"><code>base64.Encoding.WithPadding</code></a>
      now panic if the <code>padding</code> argument is a negative value other than
      <code>NoPadding</code>.
    </p>
  </dd>
</dl><!-- encoding -->

<dl id="encoding/json"><dt><a href="https://go.dev/pkg/encoding/json/">encoding/json</a></dt>
  <dd>
    <p><!-- https://go.dev/cl/521675 -->
      Marshaling and encoding functionality now escapes
      <code>'\b'</code> and <code>'\f'</code> characters as
      <code>\b</code> and <code>\f</code> instead of
      <code>\u0008</code> and <code>\u000c</code>.
    </p>
  </dd>
</dl><!-- encoding/json -->

<dl id="go/ast"><dt><a href="https://go.dev/pkg/go/ast/">go/ast</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/52463, https://go/dev/cl/504915 -->
      The following declarations related to
      <a href="https://pkg.go.dev/go/ast#Object">syntactic identifier resolution</a>
      are now <a href="https://go.dev/issue/52463">deprecated</a>:
      <code>Ident.Obj</code>,
      <code>Object</code>,
      <code>Scope</code>,
      <code>File.Scope</code>,
      <code>File.Unresolved</code>,
      <code>Importer</code>,
      <code>Package</code>,
      <code>NewPackage</code>.

      In general, identifiers cannot be accurately resolved without type information.
      Consider, for example, the identifier <code>K</code>
      in <code>T{K: ""}</code>: it could be the name of a local variable
      if T is a map type, or the name of a field if T is a struct type.

      New programs should use the <a href="https://go.dev/pkg/go/types">go/types</a>
      package to resolve identifiers; see
      <a href="https://pkg.go.dev/go/types#Object"><code>Object</code></a>,
      <a href="https://pkg.go.dev/go/types#Info.Uses"><code>Info.Uses</code></a>, and
      <a href="https://pkg.go.dev/go/types#Info.Defs"><code>Info.Defs</code></a> for details.
    </p>

    <p><!-- https://go.dev/issue/60061 -->
      The new <a href="https://pkg.go.dev/go/ast#Unparen"><code>ast.Unparen</code></a>
      function removes any enclosing
      <a href="https://pkg.go.dev/go/ast#ParenExpr">parentheses</a> from
      an <a href="https://pkg.go.dev/go/ast#Expr">expression</a>.
    </p>
  </dd>
</dl><!-- go/ast -->

<dl id="go/types"><dt><a href="https://go.dev/pkg/go/types/">go/types</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/63223, CL 521956, CL 541737 -->
      The new <a href="https://go.dev/pkg/go/types#Alias"><code>Alias</code></a> type represents type aliases.
      Previously, type aliases were not represented explicitly, so a reference to a type alias was equivalent
      to spelling out the aliased type, and the name of the alias was lost.
      The new representation retains the intermediate <code>Alias</code>.
      This enables improved error reporting (the name of a type alias can be reported), and allows for better handling
      of cyclic type declarations involving type aliases.
      In a future release, <code>Alias</code> types will also carry <a href="https://go.dev/issue/46477">type parameter information</a>.
      The new function <a href="https://go.dev/pkg/go/types#Unalias"><code>Unalias</code></a> returns the actual type denoted by an
      <code>Alias</code> type (or any other <a href="https://go.dev/pkg/go/types#Type"><code>Type</code></a> for that matter).
    </p>
    <p>
      Because <code>Alias</code> types may break existing type switches that do not know to check for them,
      this functionality is controlled by a <a href="https://go.dev/doc/godebug"><code>GODEBUG</code></a> field named <code>gotypesalias</code>.
      With <code>gotypesalias=0</code>, everything behaves as before, and <code>Alias</code> types are never created.
      With <code>gotypesalias=1</code>, <code>Alias</code> types are created and clients must expect them.
      The default is <code>gotypesalias=0</code>.
      In a future release, the default will be changed to <code>gotypesalias=1</code>.
      <em>Clients of <a href="https://go.dev/pkg/go/types"><code>go/types</code></a> are urged to adjust their code as soon as possible
      to work with <code>gotypesalias=1</code> to eliminate problems early.</em>
    </p>

    <p><!-- https://go.dev/issue/62605, CL 540056 -->
      The <a href="https://go.dev/pkg/go/types#Info"><code>Info</code></a> struct now exports the
      <a href="https://go.dev/pkg/go/types#Info.FileVersions"><code>FileVersions</code></a> map
      which provides per-file Go version information.
    </p>

    <p><!-- https://go.dev/issue/62037, CL 541575 -->
      The new helper method <a href="https://go.dev/pkg/go/types#Info.PkgNameOf"><code>PkgNameOf</code></a> returns the local package name
      for the given import declaration.
    </p>

    <p><!-- https://go.dev/issue/61035, multiple CLs, see issue for details -->
      The implementation of <a href="https://go.dev/pkg/go/types#SizesFor"><code>SizesFor</code></a> has been adjusted to compute
      the same type sizes as the compiler when the compiler argument for <code>SizesFor</code> is <code>"gc"</code>.
      The default <a href="https://go.dev/pkg/go/types#Sizes"><code>Sizes</code></a> implementation used by the type checker is now
      <code>types.SizesFor("gc", "amd64")</code>.
    </p>

    <p><!-- https://go.dev/issue/64295, CL 544035 -->
      The start position (<a href="https://go.dev/pkg/go/types#Scope.Pos"><code>Pos</code></a>)
      of the lexical environment block (<a href="https://go.dev/pkg/go/types#Scope"><code>Scope</code></a>)
      that represents a function body has changed:
      it used to start at the opening curly brace of the function body,
      but now starts at the function's <code>func</code> token.
    </p>
  </dd>
</dl>

<dl id="html/template"><dt><a href="https://go.dev/pkg/html/template/">html/template</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/61619, CL 507995 -->
      Javascript template literals may now contain Go template actions, and parsing a template containing one will
      no longer return <code>ErrJSTemplate</code>. Similarly the GODEBUG setting <code>jstmpllitinterp</code> no
      longer has any effect.
    </p>
  </dd>
</dl><!-- html/template -->

<dl id="io"><dt><a href="https://go.dev/pkg/io/">io</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/61870, CL 526855 -->
      The new <a href="https://go.dev/pkg/io#SectionReader.Outer"><code>SectionReader.Outer</code></a> method returns the <a href="https://go.dev/pkg/io#ReaderAt"><code>ReaderAt</code></a>, offset, and size passed to <a href="https://go.dev/pkg/io#NewSectionReader"><code>NewSectionReader</code></a>.
    </p>
  </dd>
</dl><!-- io -->

<dl id="log/slog"><dt><a href="https://go.dev/pkg/log/slog/">log/slog</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/62418 -->
      The new <a href="https://go.dev/pkg/log/slog#SetLogLoggerLevel"><code>SetLogLoggerLevel</code></a> function
      controls the level for the bridge between the `slog` and `log` packages. It sets the minimum level
      for calls to the top-level `slog` logging functions, and it sets the level for calls to `log.Logger`
      that go through `slog`.
    </p>
  </dd>
</dl>

<dl id="math/big"><dt><a href="https://go.dev/pkg/math/big/">math/big</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/50489, CL 539299 -->
      The new method <a href="https://go.dev/pkg/math/big#Rat.FloatPrec"><code>Rat.FloatPrec</code></a> computes the number of fractional decimal digits
      required to represent a rational number accurately as a floating-point number, and whether accurate decimal representation
      is possible in the first place.
    </p>
  </dd>
</dl><!-- math/big -->

<dl id="net"><dt><a href="https://go.dev/pkg/net/">net</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/58808 -->
      When <a href="https://go.dev/pkg/io#Copy"><code>io.Copy</code></a> copies
      from a <code>TCPConn</code> to a <code>UnixConn</code>,
      it will now use Linux's <code>splice(2)</code> system call if possible,
      using the new method <a href="https://go.dev/pkg/net#TCPConn.WriteTo"><code>TCPConn.WriteTo</code></a>.
    </p>

    <p><!-- CL 467335 -->
      The Go DNS Resolver, used when building with "-tags=netgo",
      now searches for a matching name in the Windows hosts file,
      located at <code>%SystemRoot%\System32\drivers\etc\hosts</code>,
      before making a DNS query.
    </p>
  </dd>
</dl><!-- net -->

<dl id="net/http"><dt><a href="https://go.dev/pkg/net/http/">net/http</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/51971 -->
      The new functions
      <a href="https://go.dev/pkg/net/http#ServeFileFS"><code>ServeFileFS</code></a>,
      <a href="https://go.dev/pkg/net/http#FileServerFS"><code>FileServerFS</code></a>, and
      <a href="https://go.dev/pkg/net/http#NewFileTransportFS"><code>NewFileTransportFS</code></a>
      are versions of the existing
      <code>ServeFile</code>, <code>FileServer</code>, and <code>NewFileTransport</code>,
      operating on an <code>fs.FS</code>.
    </p>

    <p><!-- https://go.dev/issue/61679 -->
      The HTTP server and client now reject requests and responses containing
      an invalid empty <code>Content-Length</code> header.
      The previous behavior may be restored by setting
      <a href="https://go.dev/doc/godebug"><code>GODEBUG</code></a> field <code>httplaxcontentlength=1</code>.
    </p>

    <p><!-- https://go.dev/issue/61410, CL 528355 -->
      The new method
      <a href="https://go.dev/pkg/net/http#Request.PathValue"><code>Request.PathValue</code></a>
      returns path wildcard values from a request
      and the new method
      <a href="https://go.dev/pkg/net/http#Request.SetPathValue"><code>Request.SetPathValue</code></a>
      sets path wildcard values on a request.
    </p>
  </dd>
</dl><!-- net/http -->

<dl id="net/http/cgi"><dt><a href="https://go.dev/pkg/net/http/cgi/">net/http/cgi</a></dt>
  <dd>
    <p><!-- CL 539615 -->
      When executing a CGI process, the <code>PATH_INFO</code> variable is now
      always set to the empty string or a value starting with a <code>/</code> character,
      as required by RFC 3875. It was previously possible for some combinations of
      <a href="https://go.dev/pkg/net/http/cgi#Handler.Root"><code>Handler.Root</code></a>
      and request URL to violate this requirement.
    </p>
  </dd>
</dl><!-- net/http/cgi -->

<dl id="net/netip"><dt><a href="https://go.dev/pkg/net/netip/">net/netip</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/61642 -->
      The new <a href="https://go.dev/pkg/net/netip#AddrPort.Compare"><code>AddrPort.Compare</code></a>
      method compares two <code>AddrPort</code>s.
    </p>
  </dd>
</dl><!-- net/netip -->

<dl id="os"><dt><a href="https://go.dev/pkg/os/">os</a></dt>
  <dd>
    <p><!-- CL 516555 -->
      On Windows, the <a href="https://go.dev/pkg/os#Stat"><code>Stat</code></a> function now follows all reparse points
      that link to another named entity in the system.
      It was previously only following <code>IO_REPARSE_TAG_SYMLINK</code> and
      <code>IO_REPARSE_TAG_MOUNT_POINT</code> reparse points.
    </p>

    <p><!-- CL 541015 -->
      On Windows, passing <a href="https://go.dev/pkg/os#O_SYNC"><code>O_SYNC</code></a> to <a href="https://go.dev/pkg/os#OpenFile"><code>OpenFile</code></a> now causes write operations to go directly to disk, equivalent to <code>O_SYNC</code> on Unix platforms.
    </p>

    <p><!-- CL 452995 -->
      On Windows, the <a href="https://go.dev/pkg/os#ReadDir"><code>ReadDir</code></a>,
      <a href="https://go.dev/pkg/os#File.ReadDir"><code>File.ReadDir</code></a>,
      <a href="https://go.dev/pkg/os#File.Readdir"><code>File.Readdir</code></a>,
      and <a href="https://go.dev/pkg/os#File.Readdirnames"><code>File.Readdirnames</code></a> functions
      now read directory entries in batches to reduce the number of system calls,
      improving performance up to 30%.
    </p>

    <p><!-- https://go.dev/issue/58808 -->
      When <a href="https://go.dev/pkg/io#Copy"><code>io.Copy</code></a> copies
      from a <code>File</code> to a <code>net.UnixConn</code>,
      it will now use Linux's <code>sendfile(2)</code> system call if possible,
      using the new method <a href="https://go.dev/pkg/os#File.WriteTo"><code>File.WriteTo</code></a>.
    </p>
  </dd>
</dl><!-- os -->

<dl id="os/exec"><dt><a href="https://go.dev/pkg/os/exec/">os/exec</a></dt>
  <dd>
    <p><!-- CL 528037 -->
      On Windows, <a href="https://go.dev/pkg/os/exec#LookPath"><code>LookPath</code></a> now
      ignores empty entries in <code>%PATH%</code>, and returns
      <code>ErrNotFound</code> (instead of <code>ErrNotExist</code>) if
      no executable file extension is found to resolve an otherwise-unambiguous
      name.
    </p>

    <p><!-- CL 528038, CL 527820 -->
      On Windows, <a href="https://go.dev/pkg/os/exec#Command"><code>Command</code></a> and
      <a href="https://go.dev/pkg/os/exec#Cmd.Start"><code>Cmd.Start</code></a> no
      longer call <code>LookPath</code> if the path to the executable is already
      absolute and has an executable file extension. In addition,
      <code>Cmd.Start</code> no longer writes the resolved extension back to
      the <a href="https://go.dev/pkg/os/exec#Cmd.Path"><code>Path</code></a> field,
      so it is now safe to call the <code>String</code> method concurrently
      with a call to <code>Start</code>.
    </p>
  </dd>
</dl><!-- os/exec -->

<dl id="reflect"><dt><a href="https://go.dev/pkg/reflect/">reflect</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/61827, CL 517777 -->
      The <a href="https://go.dev/pkg/reflect/#Value.IsZero"><code>Value.IsZero</code></a>
      method will now return true for a floating-point or complex
      negative zero, and will return true for a struct value if a
      blank field (a field named <code>_</code>) somehow has a
      non-zero value.
      These changes make <code>IsZero</code> consistent with comparing
      a value to zero using the language <code>==</code> operator.
    </p>

    <p><!-- https://go.dev/issue/59599, CL 511035 -->
      The <a href="https://go.dev/pkg/reflect/#PtrTo"><code>PtrTo</code></a> function is deprecated,
      in favor of <a href="https://go.dev/pkg/reflect/#PointerTo"><code>PointerTo</code></a>.
    </p>

    <p><!-- https://go.dev/issue/60088, CL 513478 -->
      The new function <a href="https://go.dev/pkg/reflect/#TypeFor"><code>TypeFor</code></a>
      returns the <a href="https://go.dev/pkg/reflect/#Type"><code>Type</code></a> that represents
      the type argument T.
      Previously, to get the <code>reflect.Type</code> value for a type, one had to use
      <code>reflect.TypeOf((*T)(nil)).Elem()</code>.
      This may now be written as <code>reflect.TypeFor[T]()</code>.
    </p>
  </dd>
</dl><!-- reflect -->

<dl id="runtime/metrics"><dt><a href="https://go.dev/pkg/runtime/metrics/">runtime/metrics</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/63340 -->
      Four new histogram metrics
      <code>/sched/pauses/stopping/gc:seconds</code>,
      <code>/sched/pauses/stopping/other:seconds</code>,
      <code>/sched/pauses/total/gc:seconds</code>, and
      <code>/sched/pauses/total/other:seconds</code> provide additional details
      about stop-the-world pauses.
      The "stopping" metrics report the time taken from deciding to stop the
      world until all goroutines are stopped.
      The "total" metrics report the time taken from deciding to stop the world
      until it is started again.
    </p>

    <p><!-- https://go.dev/issue/63340 -->
      The <code>/gc/pauses:seconds</code> metric is deprecated, as it is
      equivalent to the new <code>/sched/pauses/total/gc:seconds</code> metric.
    </p>

    <p><!-- https://go.dev/issue/57071 -->
      <code>/sync/mutex/wait/total:seconds</code> now includes contention on
      runtime-internal locks in addition to
      <a href="https://go.dev/pkg/sync#Mutex"><code>sync.Mutex</code></a> and
      <a href="https://go.dev/pkg/sync#RWMutex"><code>sync.RWMutex</code></a>.
    </p>
  </dd>
</dl><!-- runtime/metrics -->

<dl id="runtime/pprof"><dt><a href="https://go.dev/pkg/runtime/pprof/">runtime/pprof</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/61015 -->
      Mutex profiles now scale contention by the number of goroutines blocked on the mutex.
      This provides a more accurate representation of the degree to which a mutex is a bottleneck in
      a Go program.
      For instance, if 100 goroutines are blocked on a mutex for 10 milliseconds, a mutex profile will
      now record 1 second of delay instead of 10 milliseconds of delay.
    </p>

    <p><!-- https://go.dev/issue/57071 -->
      Mutex profiles also now include contention on runtime-internal locks in addition to
      <a href="https://go.dev/pkg/sync#Mutex"><code>sync.Mutex</code></a> and
      <a href="https://go.dev/pkg/sync#RWMutex"><code>sync.RWMutex</code></a>.
      Contention on runtime-internal locks is always reported at <code>runtime._LostContendedRuntimeLock</code>.
      A future release will add complete stack traces in these cases.
    </p>

    <p><!-- https://go.dev/issue/50891 -->
      CPU profiles on Darwin platforms now contain the process's memory map, enabling the disassembly
      view in the pprof tool.
    </p>
  </dd>
</dl><!-- runtime/pprof -->

<dl id="runtime/trace"><dt><a href="https://go.dev/pkg/runtime/trace/">runtime/trace</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/60773 -->
      The execution tracer has been completely overhauled in this release, resolving several long-standing
      issues and paving the way for new use-cases for execution traces.
    </p>
    <p>
      Execution traces now use the operating system's clock on most platforms (Windows excluded) so
      it is possible to correlate them with traces produced by lower-level components.
      Execution traces no longer depend on the reliability of the platform's clock to produce a correct trace.
      Execution traces are now partitioned regularly on-the-fly and as a result may be processed in a
      streamable way.
      Execution traces now contain complete durations for all system calls.
      Execution traces now contain information about the operating system threads that goroutines executed on.
      The latency impact of starting and stopping execution traces has been dramatically reduced.
      Execution traces may now begin or end during the garbage collection mark phase.
    </p>
    <p>
      To allow Go developers to take advantage of these improvements, an experimental
      trace reading package is available at <a href="https://go.dev/pkg/golang.org/x/exp/trace">golang.org/x/exp/trace</a>.
      Note that this package only works on traces produced by programs built with Go 1.22 at the moment.
      Please try out the package and provide feedback on
      <a href="https://go.dev/issue/62627">the corresponding proposal issue</a>.
    </p>
    <p>
      If you experience any issues with the new execution tracer implementation, you may switch back to the
      old implementation by building your Go program with <code>GOEXPERIMENT=noexectracer2</code>.
      If you do, please file an issue, otherwise this option will be removed in a future release.
    </p>
  </dd>
</dl><!-- runtime/trace -->

<dl id="slices"><dt><a href="https://go.dev/pkg/slices/">slices</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/56353 --><!-- CL 504882 -->
      The new function <code>Concat</code> concatenates multiple slices.
    </p>

    <p><!-- https://go.dev/issue/63393 --><!-- CL 543335 -->
      Functions that shrink the size of a slice (<code>Delete</code>, <code>DeleteFunc</code>, <code>Compact</code>, <code>CompactFunc</code>, and <code>Replace</code>) now zero the elements between the new length and the old length.
    </p>

    <p><!-- https://go.dev/issue/63913 --><!-- CL 540155 -->
      <code>Insert</code> now always panics if the argument <code>i</code> is out of range. Previously it did not panic in this situation if there were no elements to be inserted.
    </p>
  </dd>
</dl><!-- slices -->

<dl id="syscall"><dt><a href="https://go.dev/pkg/syscall/">syscall</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/60797 -->
      The <code>syscall</code> package has been <a href="https://go.dev/s/go1.4-syscall">frozen</a> since Go 1.4 and was marked as deprecated in Go 1.11, causing many editors to warn about any use of the package.
      However, some non-deprecated functionality requires use of the <code>syscall</code> package, such as the <a href="https://go.dev/pkg/os/exec#Cmd"><code>os/exec.Cmd.SysProcAttr</code></a> field.
      To avoid unnecessary complaints on such code, the <code>syscall</code> package is no longer marked as deprecated.
      The package remains frozen to most new functionality, and new code remains encouraged to use <a href="https://go.dev/pkg/golang.org/x/sys/unix"><code>golang.org/x/sys/unix</code></a> or <a href="https://go.dev/pkg/golang.org/x/sys/windows"><code>golang.org/x/sys/windows</code></a> where possible.
    </p>

    <p><!-- https://go.dev/issue/51246, CL 520266 -->
      On Linux, the new <a href="https://go.dev/pkg/syscall#SysProcAttr"><code>SysProcAttr.PidFD</code></a> field allows obtaining a PID FD when starting a child process via <a href="https://go.dev/pkg/syscall#StartProcess"><code>StartProcess</code></a> or <a href="https://go.dev/pkg/os/exec"><code>os/exec</code></a>.
    </p>

    <p><!-- CL 541015 -->
      On Windows, passing <a href="https://go.dev/pkg/syscall#O_SYNC"><code>O_SYNC</code></a> to <a href="https://go.dev/pkg/syscall#Open"><code>Open</code></a> now causes write operations to go directly to disk, equivalent to <code>O_SYNC</code> on Unix platforms.
    </p>
  </dd>
</dl><!-- syscall -->

<dl id="testing/slogtest"><dt><a href="https://go.dev/pkg/testing/slogtest/">testing/slogtest</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/61758 -->
      The new <a href="https://go.dev/pkg/testing/slogtest#Run"><code>Run</code></a> function uses sub-tests to run test cases,
      providing finer-grained control.
    </p>
  </dd>
</dl><!-- testing/slogtest -->

<h2 id="ports">Ports</h2>

<h3 id="darwin">Darwin</h3>
<p><!-- CL 461697 -->
  On macOS on 64-bit x86 architecture (the <code>darwin/amd64</code> port),
  the Go toolchain now generates position-independent executables (PIE) by default.
  Non-PIE binaries can be generated by specifying the <code>-buildmode=exe</code>
  build flag.
  On 64-bit ARM-based macOS (the <code>darwin/arm64</code> port),
  the Go toolchain already generates PIE by default.
</p>
<p><!-- go.dev/issue/64207 -->
  Go 1.22 is the last release that will run on macOS 10.15 Catalina. Go 1.23 will require macOS 11 Big Sur or later.
</p>

<h3 id="arm">Arm</h3>
<p><!-- CL 514907 -->
  The <code>GOARM</code> environment variable now allows you to select whether to use software or hardware floating point.
  Previously, valid <code>GOARM</code> values were <code>5</code>, <code>6</code>, or <code>7</code>. Now those same values can
  be optionally followed by <code>,softfloat</code> or <code>,hardfloat</code> to select the floating-point implementation.
</p>
<p>
  This new option defaults to <code>softfloat</code> for version <code>5</code> and <code>hardfloat</code> for versions
  <code>6</code> and <code>7</code>.
</p>

<h3 id="loong64">Loong64</h3>
<p><!-- CL 481315 -->
  The <code>loong64</code> port now supports passing function arguments and results using registers.
</p>
<p><!-- CL 481315,537615,480878 -->
  The <code>linux/loong64</code> port now supports the address sanitizer, memory sanitizer, new-style linker relocations, and the <code>plugin</code> build mode.
</p>

<h3 id="openbsd">OpenBSD</h3>
<p><!-- CL 517935 -->
  Go 1.22 adds an experimental port to OpenBSD on big-endian 64-bit PowerPC
  (<code>openbsd/ppc64</code>).
</p>





</article>



</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Making steel without emitting CO2 (204 pts)]]></title>
            <link>https://www.science.org/content/article/electrifying-new-ironmaking-method-could-slash-carbon-emissions</link>
            <guid>39282020</guid>
            <pubDate>Tue, 06 Feb 2024 22:55:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.science.org/content/article/electrifying-new-ironmaking-method-could-slash-carbon-emissions">https://www.science.org/content/article/electrifying-new-ironmaking-method-could-slash-carbon-emissions</a>, See on <a href="https://news.ycombinator.com/item?id=39282020">Hacker News</a></p>
Couldn't get https://www.science.org/content/article/electrifying-new-ironmaking-method-could-slash-carbon-emissions: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[The three million toothbrush botnet story isn't true (160 pts)]]></title>
            <link>https://cyberplace.social/@GossiTheDog/111886558855943676</link>
            <guid>39281939</guid>
            <pubDate>Tue, 06 Feb 2024 22:48:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cyberplace.social/@GossiTheDog/111886558855943676">https://cyberplace.social/@GossiTheDog/111886558855943676</a>, See on <a href="https://news.ycombinator.com/item?id=39281939">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[SQL for data scientists in 100 queries (669 pts)]]></title>
            <link>https://gvwilson.github.io/sql-tutorial/</link>
            <guid>39281178</guid>
            <pubDate>Tue, 06 Feb 2024 21:50:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gvwilson.github.io/sql-tutorial/">https://gvwilson.github.io/sql-tutorial/</a>, See on <a href="https://news.ycombinator.com/item?id=39281178">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
      
<!-- 0 -->

<section>

  <h2 id="what-this-is">☆ what this is</h2>

  <ul>
    <li>notes and working examples that instructors can use to perform a lesson
      <ul>
        <li>do <em>not</em> expect novices with no prior SQL experience to be able to learn from them</li>
      </ul>
    </li>
    <li>musical analogy
      <ul>
        <li>this is the chord changes and melody</li>
        <li>we expect instructors to create an arrangement and/or improvise while delivering</li>
        <li>see <a href="https://teachtogether.tech/"><em>Teaching Tech Together</em></a> for background</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="scope">☆ scope</h2>

  <ul>
    <li><a href="http://teachtogether.tech/en/index.html#s:process-personas">intended audience</a>
      <ul>
        <li>Rachel has a master’s degree in cell biology
and now works in a research hospital doing cell assays.</li>
        <li>She learned a bit of R in an undergrad biostatistics course
and has been through <a href="https://swcarpentry.github.io/shell-novice/">the Carpentries lesson on the Unix shell</a>.</li>
        <li>Rachel is thinking about becoming a data scientist
and would like to understand how data is stored and managed.</li>
        <li>Her work schedule is unpredictable and highly variable,
so she needs to be able to learn a bit at a time.</li>
      </ul>
    </li>
    <li>prerequisites
      <ul>
        <li>basic Unix command line: <code>cd</code>, <code>ls</code>, <code>*</code> wildcard</li>
        <li>basic tabular data analysis: filtering rows, aggregating within groups</li>
      </ul>
    </li>
    <li>learning outcomes
      <ol>
        <li>Explain the difference between a database and a database manager.</li>
        <li>Write SQL to select, filter, sort, group, and aggregate data.</li>
        <li>Define tables and insert, update, and delete records.</li>
        <li>Describe different types of join and write queries that use them to combine data.</li>
        <li>Use windowing functions to operate on adjacent rows.</li>
        <li>Explain what transactions are and write queries that roll back when constraints are violated.</li>
        <li>Explain what triggers are and write SQL to create them.</li>
        <li>Manipulate JSON data using SQL.</li>
        <li>Interact with a database using Python directly, from a Jupyter notebook, and via an ORM.</li>
      </ol>
    </li>
  </ul>

</section>
<section>

  <h2 id="setup">☆ setup</h2>

  <ul>
    <li>Download <a href="https://github.com/gvwilson/sql-tutorial/raw/main/sql-tutorial.zip">the latest release</a></li>
    <li>Unzip the file in a temporary directory to create:
      <ul>
        <li><code>./db/*.db</code>: the SQLite databases used in the examples</li>
        <li><code>./src/*.*</code>: SQL queries, Python scripts, and other source code</li>
        <li><code>./out/*.*</code>: expected output for examples</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="background-concepts">☆ background concepts</h2>

  <ul>
    <li>A <a href="#g:database">database</a> is a collection of data that can be searched and retrieved</li>
    <li>A <a href="#g:dbms">database management system</a> (DBMS) is a program that manages a particular kind of database</li>
    <li>Each DBMS stores data in its own way
      <ul>
        <li><a href="https://sqlite.org/">SQLite</a> stores each database in a single file</li>
        <li><a href="https://www.postgresql.org/">PostgreSQL</a> spreads information across many files for higher performance</li>
      </ul>
    </li>
    <li>DBMS can be a library embedded in other programs (<a href="https://sqlite.org/">SQLite</a>) or a server (<a href="https://www.postgresql.org/">PostgreSQL</a>)</li>
    <li>A <a href="#g:rdbms">relational database management system</a> (RDBMS) stores data in tables and uses <a href="https://en.wikipedia.org/wiki/SQL">SQL</a> for queries
      <ul>
        <li>Unfortunately, every RDBMS has its own dialect of SQL</li>
      </ul>
    </li>
    <li>There are also <a href="#g:nosql">NoSQL databases</a> like <a href="https://www.mongodb.com/">MongoDB</a> that don’t use tables</li>
  </ul>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/concept_map_overview.svg" alt="concept map: overview"></p>

</section>
<section>

  <h2 id="connect-to-database">☆ connect to database</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/connect_penguins.sh">src/connect_penguins.sh</a></p>
  

  <ul>
    <li>Not actually a query</li>
    <li>But we have to do it before we can do anything else</li>
  </ul>

</section>
<section>

  <h2 id="select-constant">1: select constant</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/select_1.sql">src/select_1.sql</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/select_1.out">out/select_1.out</a></p>
  

  <ul>
    <li><code>select</code> is a keyword</li>
    <li>Normally used to select data from table…</li>
    <li>…but if all we want is a constant value, we don’t need to specify one</li>
    <li>Semi-colon terminator is required</li>
  </ul>

</section>
<section>

  <h2 id="select-all-values-from-table">2: select all values from table</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/select_star.sql">src/select_star.sql</a></p>
  <div><pre><code><span>select</span> <span>*</span> <span>from</span> <span>little_penguins</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/select_star.out">out/select_star.out</a></p>
  <div><pre><code>Adelie|Dream|37.2|18.1|178|3900|MALE
Adelie|Dream|37.6|19.3|181|3300|FEMALE
Gentoo|Biscoe|50|15.3|220|5550|MALE
Adelie|Torgersen|37.3|20.5|199|3775|MALE
Adelie|Biscoe|39.6|17.7|186|3500|FEMALE
Gentoo|Biscoe|47.7|15|216|4750|FEMALE
Adelie|Dream|36.5|18|182|3150|FEMALE
Gentoo|Biscoe|42|13.5|210|4150|FEMALE
Adelie|Torgersen|42.1|19.1|195|4000|MALE
Gentoo|Biscoe|54.3|15.7|231|5650|MALE
</code></pre></div>

  <ul>
    <li>An actual <a href="#g:query">query</a></li>
    <li>Use <code>*</code> to mean “all columns”</li>
    <li>Use <code>from <em>tablename</em></code> to specify table</li>
    <li>Output format is not particularly readable</li>
  </ul>

</section>
<section>

  <h2 id="administrative-commands">☆ administrative commands</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/admin_commands.sql">src/admin_commands.sql</a></p>
  <div><pre><code><span>.</span><span>headers</span> <span>on</span>
<span>.</span><span>mode</span> <span>markdown</span>
<span>select</span> <span>*</span> <span>from</span> <span>little_penguins</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/admin_commands.out">out/admin_commands.out</a></p>
  <div><pre><code>| species |  island   | bill_length_mm | bill_depth_mm | flipper_length_mm | body_mass_g |  sex   |
|---------|-----------|----------------|---------------|-------------------|-------------|--------|
| Adelie  | Dream     | 37.2           | 18.1          | 178               | 3900        | MALE   |
| Adelie  | Dream     | 37.6           | 19.3          | 181               | 3300        | FEMALE |
| Gentoo  | Biscoe    | 50             | 15.3          | 220               | 5550        | MALE   |
| Adelie  | Torgersen | 37.3           | 20.5          | 199               | 3775        | MALE   |
| Adelie  | Biscoe    | 39.6           | 17.7          | 186               | 3500        | FEMALE |
| Gentoo  | Biscoe    | 47.7           | 15            | 216               | 4750        | FEMALE |
| Adelie  | Dream     | 36.5           | 18            | 182               | 3150        | FEMALE |
| Gentoo  | Biscoe    | 42             | 13.5          | 210               | 4150        | FEMALE |
| Adelie  | Torgersen | 42.1           | 19.1          | 195               | 4000        | MALE   |
| Gentoo  | Biscoe    | 54.3           | 15.7          | 231               | 5650        | MALE   |
</code></pre></div>

  <ul>
    <li>SQLite administrative commands start with <code>.</code> and <em>aren’t</em> part of the SQL standard
      <ul>
        <li>PostgreSQL’s special commands start with <code>\</code></li>
      </ul>
    </li>
    <li>Use <code>.help</code> for a complete list</li>
  </ul>

</section>
<section>

  <h2 id="specify-columns">3: specify columns</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/specify_columns.sql">src/specify_columns.sql</a></p>
  <div><pre><code><span>select</span> <span>species</span><span>,</span> <span>island</span><span>,</span> <span>sex</span>
<span>from</span> <span>little_penguins</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/specify_columns.out">out/specify_columns.out</a></p>
  <div><pre><code>| species |  island   |  sex   |
|---------|-----------|--------|
| Adelie  | Dream     | MALE   |
| Adelie  | Dream     | FEMALE |
| Gentoo  | Biscoe    | MALE   |
| Adelie  | Torgersen | MALE   |
| Adelie  | Biscoe    | FEMALE |
| Gentoo  | Biscoe    | FEMALE |
| Adelie  | Dream     | FEMALE |
| Gentoo  | Biscoe    | FEMALE |
| Adelie  | Torgersen | MALE   |
| Gentoo  | Biscoe    | MALE   |
</code></pre></div>

  <ul>
    <li>Specify column names separated by commas
      <ul>
        <li>In any order</li>
        <li>Duplicates allowed</li>
      </ul>
    </li>
    <li>Line breaks <strike>allowed</strike> encouraged for readability</li>
  </ul>

</section>
<section>

  <h2 id="sort">4: sort</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/sort.sql">src/sort.sql</a></p>
  <div><pre><code><span>select</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>little_penguins</span>
<span>order</span> <span>by</span> <span>island</span> <span>asc</span><span>,</span> <span>sex</span> <span>desc</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/sort.out">out/sort.out</a></p>
  <div><pre><code>| species |  sex   |  island   |
|---------|--------|-----------|
| Gentoo  | MALE   | Biscoe    |
| Gentoo  | MALE   | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
| Gentoo  | FEMALE | Biscoe    |
| Gentoo  | FEMALE | Biscoe    |
| Adelie  | MALE   | Dream     |
| Adelie  | FEMALE | Dream     |
| Adelie  | FEMALE | Dream     |
| Adelie  | MALE   | Torgersen |
| Adelie  | MALE   | Torgersen |
</code></pre></div>

  <ul>
    <li><code>order by</code> must follow <code>from</code> (which must follow <code>select</code>)</li>
    <li><code>asc</code> is ascending, <code>desc</code> is descending
      <ul>
        <li>Default is ascending, but please specify</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="limit-output">5: limit output</h2>

  <ul>
    <li>Full dataset has 344 rows</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/limit.sql">src/limit.sql</a></p>
  <div><pre><code><span>select</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span>
<span>order</span> <span>by</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>limit</span> <span>10</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/limit.out">out/limit.out</a></p>
  <div><pre><code>| species |  sex   |  island   |
|---------|--------|-----------|
| Adelie  |        | Dream     |
| Adelie  |        | Torgersen |
| Adelie  |        | Torgersen |
| Adelie  |        | Torgersen |
| Adelie  |        | Torgersen |
| Adelie  |        | Torgersen |
| Adelie  | FEMALE | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
</code></pre></div>

  <ul>
    <li>Comments start with <code>--</code> and run to the end of the line</li>
    <li><code>limit <em>N</em></code> specifies maximum number of rows returned by query</li>
  </ul>

</section>
<section>

  <h2 id="page-output">6: page output</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/page.sql">src/page.sql</a></p>
  <div><pre><code><span>select</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span>
<span>order</span> <span>by</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>limit</span> <span>10</span> <span>offset</span> <span>3</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/page.out">out/page.out</a></p>
  <div><pre><code>| species |  sex   |  island   |
|---------|--------|-----------|
| Adelie  |        | Torgersen |
| Adelie  |        | Torgersen |
| Adelie  |        | Torgersen |
| Adelie  | FEMALE | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
| Adelie  | FEMALE | Biscoe    |
</code></pre></div>

  <ul>
    <li><code>offset <em>N</em></code> must follow <code>limit</code></li>
    <li>Specifies number of rows to skip from the start of the selection</li>
    <li>So this query skips the first 3 and shows the next 10</li>
  </ul>

</section>
<section>

  <h2 id="remove-duplicates">7: remove duplicates</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/distinct.sql">src/distinct.sql</a></p>
  <div><pre><code><span>select</span> <span>distinct</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/distinct.out">out/distinct.out</a></p>
  <div><pre><code>|  species  |  sex   |  island   |
|-----------|--------|-----------|
| Adelie    | MALE   | Torgersen |
| Adelie    | FEMALE | Torgersen |
| Adelie    |        | Torgersen |
| Adelie    | FEMALE | Biscoe    |
| Adelie    | MALE   | Biscoe    |
| Adelie    | FEMALE | Dream     |
| Adelie    | MALE   | Dream     |
| Adelie    |        | Dream     |
| Chinstrap | FEMALE | Dream     |
| Chinstrap | MALE   | Dream     |
| Gentoo    | FEMALE | Biscoe    |
| Gentoo    | MALE   | Biscoe    |
| Gentoo    |        | Biscoe    |
</code></pre></div>

  <ul>
    <li><code>distinct</code> keyword must appear right after <code>select</code>
      <ul>
        <li>SQL was supposed to read like English</li>
      </ul>
    </li>
    <li>Shows distinct combinations</li>
    <li>Blanks in <code>sex</code> column show missing data
      <ul>
        <li>We’ll talk about this in a bit</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="filter-results">8: filter results</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/filter.sql">src/filter.sql</a></p>
  <div><pre><code><span>select</span> <span>distinct</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span>
<span>where</span> <span>island</span> <span>=</span> <span>'Biscoe'</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/filter.out">out/filter.out</a></p>
  <div><pre><code>| species |  sex   | island |
|---------|--------|--------|
| Adelie  | FEMALE | Biscoe |
| Adelie  | MALE   | Biscoe |
| Gentoo  | FEMALE | Biscoe |
| Gentoo  | MALE   | Biscoe |
| Gentoo  |        | Biscoe |
</code></pre></div>

  <ul>
    <li><code>where <em>condition</em></code> <a href="#g:filter">filters</a> the rows produced by selection</li>
    <li>Condition is evaluated independently for each row</li>
    <li>Only rows that pass the test appear in results</li>
    <li>Use single quotes for <code>'text data'</code> and double quotes for <code>"weird column names"</code>
      <ul>
        <li>SQLite will accept double-quoted text data</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="filter-with-more-complex-conditions">9: filter with more complex conditions</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/filter_and.sql">src/filter_and.sql</a></p>
  <div><pre><code><span>select</span> <span>distinct</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span>
<span>where</span> <span>island</span> <span>=</span> <span>'Biscoe'</span> <span>and</span> <span>sex</span> <span>!=</span> <span>'MALE'</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/filter_and.out">out/filter_and.out</a></p>
  <div><pre><code>| species |  sex   | island |
|---------|--------|--------|
| Adelie  | FEMALE | Biscoe |
| Gentoo  | FEMALE | Biscoe |
</code></pre></div>

  <ul>
    <li><code>and</code>: both sub-conditions must be true</li>
    <li><code>or</code>: either or both part must be true</li>
    <li>Notice that the row for Gentoo penguins on Biscoe island with unknown (empty) sex didn’t pass the test
      <ul>
        <li>We’ll talk about this in a bit</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="do-calculations">10: do calculations</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/calculations.sql">src/calculations.sql</a></p>
  <div><pre><code><span>select</span>
    <span>flipper_length_mm</span> <span>/</span> <span>10</span><span>.</span><span>0</span><span>,</span>
    <span>body_mass_g</span> <span>/</span> <span>1000</span><span>.</span><span>0</span>
<span>from</span> <span>penguins</span>
<span>limit</span> <span>3</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/calculations.out">out/calculations.out</a></p>
  <div><pre><code>| flipper_length_mm / 10.0 | body_mass_g / 1000.0 |
|--------------------------|----------------------|
| 18.1                     | 3.75                 |
| 18.6                     | 3.8                  |
| 19.5                     | 3.25                 |
</code></pre></div>

  <ul>
    <li>Can do the usual kinds of arithmetic on individual values
      <ul>
        <li>Calculation done for each row independently</li>
      </ul>
    </li>
    <li>Column name shows the calculation done</li>
  </ul>

</section>
<section>

  <h2 id="rename-columns">11: rename columns</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/rename_columns.sql">src/rename_columns.sql</a></p>
  <div><pre><code><span>select</span>
    <span>flipper_length_mm</span> <span>/</span> <span>10</span><span>.</span><span>0</span> <span>as</span> <span>flipper_cm</span><span>,</span>
    <span>body_mass_g</span> <span>/</span> <span>1000</span><span>.</span><span>0</span> <span>as</span> <span>weight_kg</span><span>,</span>
    <span>island</span> <span>as</span> <span>where_found</span>
<span>from</span> <span>penguins</span>
<span>limit</span> <span>3</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/rename_columns.out">out/rename_columns.out</a></p>
  <div><pre><code>| flipper_cm | weight_kg | where_found |
|------------|-----------|-------------|
| 18.1       | 3.75      | Torgersen   |
| 18.6       | 3.8       | Torgersen   |
| 19.5       | 3.25      | Torgersen   |
</code></pre></div>

  <ul>
    <li>Use <code><em>expression</em> as <em>name</em></code> to rename</li>
    <li>Give result of calculation a meaningful name</li>
    <li>Can also rename columns without modifying</li>
  </ul>

</section>
<section>

  <h2 id="check-your-understanding">☆ check your understanding</h2>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/concept_map_select.svg" alt="concept map: selection"></p>

</section>
<section>

  <h2 id="calculate-with-missing-values">12: calculate with missing values</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/show_missing_values.sql">src/show_missing_values.sql</a></p>
  <div><pre><code><span>select</span>
    <span>flipper_length_mm</span> <span>/</span> <span>10</span><span>.</span><span>0</span> <span>as</span> <span>flipper_cm</span><span>,</span>
    <span>body_mass_g</span> <span>/</span> <span>1000</span><span>.</span><span>0</span> <span>as</span> <span>weight_kg</span><span>,</span>
    <span>island</span> <span>as</span> <span>where_found</span>
<span>from</span> <span>penguins</span>
<span>limit</span> <span>5</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/show_missing_values.out">out/show_missing_values.out</a></p>
  <div><pre><code>| flipper_cm | weight_kg | where_found |
|------------|-----------|-------------|
| 18.1       | 3.75      | Torgersen   |
| 18.6       | 3.8       | Torgersen   |
| 19.5       | 3.25      | Torgersen   |
|            |           | Torgersen   |
| 19.3       | 3.45      | Torgersen   |
</code></pre></div>

  <ul>
    <li>SQL uses a special value <a href="#g:null"><code>null</code></a> to representing missing data
      <ul>
        <li>Not 0 or empty string, but “I don’t know”</li>
      </ul>
    </li>
    <li>Flipper length and body weight not known for one of the first five penguins</li>
    <li>“I don’t know” divided by 10 or 1000 is “I don’t know”</li>
  </ul>

</section>
<section>

  <h2 id="null-equality">13: null equality</h2>

  <ul>
    <li>Repeated from above so it doesn’t count against our query limit</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/filter.sql">src/filter.sql</a></p>
  <div><pre><code><span>select</span> <span>distinct</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span>
<span>where</span> <span>island</span> <span>=</span> <span>'Biscoe'</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/filter.out">out/filter.out</a></p>
  <div><pre><code>| species |  sex   | island |
|---------|--------|--------|
| Adelie  | FEMALE | Biscoe |
| Adelie  | MALE   | Biscoe |
| Gentoo  | FEMALE | Biscoe |
| Gentoo  | MALE   | Biscoe |
| Gentoo  |        | Biscoe |
</code></pre></div>

  <ul>
    <li>If we ask for female penguins the row with the missing sex drops out</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/null_equality.sql">src/null_equality.sql</a></p>
  <div><pre><code><span>select</span> <span>distinct</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span>
<span>where</span> <span>island</span> <span>=</span> <span>'Biscoe'</span> <span>and</span> <span>sex</span> <span>=</span> <span>'FEMALE'</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/null_equality.out">out/null_equality.out</a></p>
  <div><pre><code>| species |  sex   | island |
|---------|--------|--------|
| Adelie  | FEMALE | Biscoe |
| Gentoo  | FEMALE | Biscoe |
</code></pre></div>

</section>
<section>

  <h2 id="null-inequality">14: null inequality</h2>

  <ul>
    <li>But if we ask for penguins that <em>aren’t</em> female it drops out as well</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/null_inequality.sql">src/null_inequality.sql</a></p>
  <div><pre><code><span>select</span> <span>distinct</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span>
<span>where</span> <span>island</span> <span>=</span> <span>'Biscoe'</span> <span>and</span> <span>sex</span> <span>!=</span> <span>'FEMALE'</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/null_inequality.out">out/null_inequality.out</a></p>
  <div><pre><code>| species | sex  | island |
|---------|------|--------|
| Adelie  | MALE | Biscoe |
| Gentoo  | MALE | Biscoe |
</code></pre></div>

</section>
<section>

  <h2 id="ternary-logic">15: ternary logic</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/ternary_logic.sql">src/ternary_logic.sql</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/ternary_logic.out">out/ternary_logic.out</a></p>
  <div><pre><code>| null = null |
|-------------|
|             |
</code></pre></div>

  <ul>
    <li>If we don’t know the left and right values, we don’t know if they’re equal or not</li>
    <li>So the result is <code>null</code></li>
    <li>Get the same answer for <code>null != null</code></li>
    <li><a href="#g:ternary_logic">Ternary logic</a></li>
  </ul>

  <table>
  <tbody><tr>
    <th colspan="4">equality</th>
  </tr>
  <tr>
    <th></th>
    <th>X</th>
    <th>Y</th>
    <th>null</th>
  </tr>
  <tr>
    <th>X</th>
    <td>true</td>
    <td>false</td>
    <td>null</td>
  </tr>
  <tr>
    <th>Y</th>
    <td>false</td>
    <td>true</td>
    <td>null</td>
  </tr>
  <tr>
    <th>null</th>
    <td>null</td>
    <td>null</td>
    <td>null</td>
  </tr>
</tbody></table>

</section>
<section>

  <h2 id="handle-null-safely">16: handle null safely</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/safe_null_equality.sql">src/safe_null_equality.sql</a></p>
  <div><pre><code><span>select</span> <span>species</span><span>,</span> <span>sex</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span>
<span>where</span> <span>sex</span> <span>is</span> <span>null</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/safe_null_equality.out">out/safe_null_equality.out</a></p>
  <div><pre><code>| species | sex |  island   |
|---------|-----|-----------|
| Adelie  |     | Torgersen |
| Adelie  |     | Torgersen |
| Adelie  |     | Torgersen |
| Adelie  |     | Torgersen |
| Adelie  |     | Torgersen |
| Adelie  |     | Dream     |
| Gentoo  |     | Biscoe    |
| Gentoo  |     | Biscoe    |
| Gentoo  |     | Biscoe    |
| Gentoo  |     | Biscoe    |
| Gentoo  |     | Biscoe    |
</code></pre></div>

  <ul>
    <li>Use <code>is null</code> and <code>is not null</code> to handle null safely</li>
    <li>Other parts of SQL handle nulls specially</li>
  </ul>

</section>
<section>

  <h2 id="check-your-understanding-1">☆ check your understanding</h2>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/concept_map_null.svg" alt="concept map: null"></p>

</section>
<section>

  <h2 id="aggregate">17: aggregate</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/simple_sum.sql">src/simple_sum.sql</a></p>
  <div><pre><code><span>select</span> <span>sum</span><span>(</span><span>body_mass_g</span><span>)</span> <span>as</span> <span>total_mass</span>
<span>from</span> <span>penguins</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/simple_sum.out">out/simple_sum.out</a></p>
  <div><pre><code>| total_mass |
|------------|
| 1437000    |
</code></pre></div>

  <ul>
    <li><a href="#g:aggregation">Aggregation</a> combines many values to produce one</li>
    <li><code>sum</code> is an <a href="#g:aggregation_func">aggregation function</a></li>
    <li>Combines corresponding values from multiple rows</li>
  </ul>

</section>
<section>

  <h2 id="common-aggregation-functions">18: common aggregation functions</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/common_aggregations.sql">src/common_aggregations.sql</a></p>
  <div><pre><code><span>select</span>
    <span>max</span><span>(</span><span>bill_length_mm</span><span>)</span> <span>as</span> <span>longest_bill</span><span>,</span>
    <span>min</span><span>(</span><span>flipper_length_mm</span><span>)</span> <span>as</span> <span>shortest_flipper</span><span>,</span>
    <span>avg</span><span>(</span><span>bill_length_mm</span><span>)</span> <span>/</span> <span>avg</span><span>(</span><span>bill_depth_mm</span><span>)</span> <span>as</span> <span>weird_ratio</span>
<span>from</span> <span>penguins</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/common_aggregations.out">out/common_aggregations.out</a></p>
  <div><pre><code>| longest_bill | shortest_flipper |   weird_ratio    |
|--------------|------------------|------------------|
| 59.6         | 172              | 2.56087082530644 |
</code></pre></div>

  <ul>
    <li>This actually shouldn’t work:
can’t calculate maximum or average if any values are null</li>
    <li>SQL does the useful thing instead of the right one</li>
  </ul>

</section>
<section>

  <h2 id="counting">19: counting</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/count_behavior.sql">src/count_behavior.sql</a></p>
  <div><pre><code><span>select</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>count_star</span><span>,</span> <span>count</span><span>(</span><span>sex</span><span>)</span> <span>as</span> <span>count_specific</span>
<span>from</span> <span>penguins</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/count_behavior.out">out/count_behavior.out</a></p>
  <div><pre><code>| count_star | count_specific |
|------------|----------------|
| 344        | 333            |
</code></pre></div>

  <ul>
    <li><code>count(*)</code> counts rows</li>
    <li><code>count(<em>column</em>)</code> counts non-null entries in column</li>
  </ul>

</section>
<section>

  <h2 id="group">20: group</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/simple_group.sql">src/simple_group.sql</a></p>
  <div><pre><code><span>select</span>
    <span>avg</span><span>(</span><span>body_mass_g</span><span>)</span> <span>as</span> <span>average_mass_g</span>
<span>from</span> <span>penguins</span>
<span>group</span> <span>by</span> <span>sex</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/simple_group.out">out/simple_group.out</a></p>
  <div><pre><code>|  average_mass_g  |
|------------------|
| 4005.55555555556 |
| 3862.27272727273 |
| 4545.68452380952 |
</code></pre></div>

  <ul>
    <li>Put rows in <a href="#g:group">groups</a> based on distinct combinations of values in columns specified with <code>group by</code></li>
    <li>Then perform aggregation separately for each group</li>
    <li>But which is which?</li>
  </ul>

</section>
<section>

  <h2 id="behavior-of-unaggregated-columns">21: behavior of unaggregated columns</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/unaggregated_columns.sql">src/unaggregated_columns.sql</a></p>
  <div><pre><code><span>select</span>
    <span>sex</span><span>,</span>
    <span>avg</span><span>(</span><span>body_mass_g</span><span>)</span> <span>as</span> <span>average_mass_g</span>
<span>from</span> <span>penguins</span>
<span>group</span> <span>by</span> <span>sex</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/unaggregated_columns.out">out/unaggregated_columns.out</a></p>
  <div><pre><code>|  sex   |  average_mass_g  |
|--------|------------------|
|        | 4005.55555555556 |
| FEMALE | 3862.27272727273 |
| MALE   | 4545.68452380952 |
</code></pre></div>

  <ul>
    <li>All rows in each group have the same value for <code>sex</code>, so no need to aggregate</li>
  </ul>

</section>
<section>

  <h2 id="arbitrary-choice-in-aggregation">22: arbitrary choice in aggregation</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/arbitrary_in_aggregation.sql">src/arbitrary_in_aggregation.sql</a></p>
  <div><pre><code><span>select</span>
    <span>sex</span><span>,</span>
    <span>body_mass_g</span>                   
<span>from</span> <span>penguins</span>
<span>group</span> <span>by</span> <span>sex</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/arbitrary_in_aggregation.out">out/arbitrary_in_aggregation.out</a></p>
  <div><pre><code>|  sex   | body_mass_g |
|--------|-------------|
|        |             |
| FEMALE | 3800        |
| MALE   | 3750        |
</code></pre></div>

  <ul>
    <li>If we don’t specify how to aggregate a column, SQL can choose <em>any arbitrary value</em> from the group</li>
    <li>All penguins in each group have the same sex because we grouped by that, so we get the right answer</li>
    <li>The body mass values are in the data but unpredictable</li>
    <li>A common mistake</li>
  </ul>

</section>
<section>

  <h2 id="filter-aggregated-values">23: filter aggregated values</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/filter_aggregation.sql">src/filter_aggregation.sql</a></p>
  <div><pre><code><span>select</span>
    <span>sex</span><span>,</span>
    <span>avg</span><span>(</span><span>body_mass_g</span><span>)</span> <span>as</span> <span>average_mass_g</span>
<span>from</span> <span>penguins</span>
<span>group</span> <span>by</span> <span>sex</span>
<span>having</span> <span>average_mass_g</span> <span>&gt;</span> <span>4000</span><span>.</span><span>0</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/filter_aggregation.out">out/filter_aggregation.out</a></p>
  <div><pre><code>| sex  |  average_mass_g  |
|------|------------------|
|      | 4005.55555555556 |
| MALE | 4545.68452380952 |
</code></pre></div>

  <ul>
    <li>Using <code>having <em>condition</em></code> instead of <code>where <em>condition</em></code> for aggregates</li>
  </ul>

</section>
<section>

  <h2 id="readable-output">24: readable output</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/readable_aggregation.sql">src/readable_aggregation.sql</a></p>
  <div><pre><code><span>select</span>
    <span>sex</span><span>,</span>
    <span>round</span><span>(</span><span>avg</span><span>(</span><span>body_mass_g</span><span>),</span> <span>1</span><span>)</span> <span>as</span> <span>average_mass_g</span>
<span>from</span> <span>penguins</span>
<span>group</span> <span>by</span> <span>sex</span>
<span>having</span> <span>average_mass_g</span> <span>&gt;</span> <span>4000</span><span>.</span><span>0</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/readable_aggregation.out">out/readable_aggregation.out</a></p>
  <div><pre><code>| sex  | average_mass_g |
|------|----------------|
|      | 4005.6         |
| MALE | 4545.7         |
</code></pre></div>

  <ul>
    <li>Use <code>round(<em>value</em>, <em>decimals</em>)</code> to round off a number</li>
  </ul>

</section>
<section>

  <h2 id="filter-aggregate-inputs">25: filter aggregate inputs</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/filter_aggregate_inputs.sql">src/filter_aggregate_inputs.sql</a></p>
  <div><pre><code><span>select</span>
    <span>sex</span><span>,</span>
    <span>round</span><span>(</span>
        <span>avg</span><span>(</span><span>body_mass_g</span><span>)</span> <span>filter</span> <span>(</span><span>where</span> <span>body_mass_g</span> <span>&lt;</span> <span>4000</span><span>.</span><span>0</span><span>),</span>
        <span>1</span>
    <span>)</span> <span>as</span> <span>average_mass_g</span>
<span>from</span> <span>penguins</span>
<span>group</span> <span>by</span> <span>sex</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/filter_aggregate_inputs.out">out/filter_aggregate_inputs.out</a></p>
  <div><pre><code>|  sex   | average_mass_g |
|--------|----------------|
|        | 3362.5         |
| FEMALE | 3417.3         |
| MALE   | 3752.5         |
</code></pre></div>

  <ul>
    <li><code>filter (where <em>condition</em>)</code> applies to <em>inputs</em></li>
  </ul>

</section>
<section>

  <h2 id="check-your-understanding-2">☆ check your understanding</h2>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/concept_map_aggregate.svg" alt="concept map: aggregation"></p>

</section>
<section>

  <h2 id="create-in-memory-database">☆ create in-memory database</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/in_memory_db.sh">src/in_memory_db.sh</a></p>
  

  <ul>
    <li>“Connect” to an <a href="#g:in_memory_db">in-memory database</a></li>
  </ul>

</section>
<section>

  <h2 id="create-tables">26: create tables</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/create_work_job.sql">src/create_work_job.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>job</span> <span>(</span>
    <span>name</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>billable</span> <span>real</span> <span>not</span> <span>null</span>
<span>);</span>
<span>create</span> <span>table</span> <span>work</span> <span>(</span>
    <span>person</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>job</span> <span>text</span> <span>not</span> <span>null</span>
<span>);</span>
</code></pre></div>

  <ul>
    <li><code>create table <em>name</em></code> followed by parenthesized list of columns</li>
    <li>Each column is a name, a data type, and optional extra information
      <ul>
        <li>E.g., <code>not null</code> prevents nulls from being added</li>
      </ul>
    </li>
    <li><code>.schema</code> is <em>not</em> standard SQL</li>
    <li>SQLite has added a few things
      <ul>
        <li><code>create if not exists</code></li>
        <li>upper-case keywords (SQL is case insensitive)</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="insert-data">27: insert data</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/populate_work_job.sql">src/populate_work_job.sql</a></p>
  <div><pre><code><span>insert</span> <span>into</span> <span>job</span> <span>values</span>
    <span>(</span><span>'calibrate'</span><span>,</span> <span>1</span><span>.</span><span>5</span><span>),</span>
    <span>(</span><span>'clean'</span><span>,</span> <span>0</span><span>.</span><span>5</span><span>);</span>
<span>insert</span> <span>into</span> <span>work</span> <span>values</span>
    <span>(</span><span>'mik'</span><span>,</span> <span>'calibrate'</span><span>),</span>
    <span>(</span><span>'mik'</span><span>,</span> <span>'clean'</span><span>),</span>
    <span>(</span><span>'mik'</span><span>,</span> <span>'complain'</span><span>),</span>
    <span>(</span><span>'po'</span><span>,</span> <span>'clean'</span><span>),</span>
    <span>(</span><span>'po'</span><span>,</span> <span>'complain'</span><span>),</span>
    <span>(</span><span>'tay'</span><span>,</span> <span>'complain'</span><span>);</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/insert_values.out">out/insert_values.out</a></p>
  <pre><code>|   name    | billable |
|-----------|----------|
| calibrate | 1.5      |
| clean     | 0.5      |

| person |    job    |
|--------|-----------|
| mik    | calibrate |
| mik    | clean     |
| mik    | complain  |
| po     | clean     |
| po     | complain  |
| tay    | complain  |
</code></pre>

</section>
<section>

  <h2 id="update-rows">28: update rows</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/update_work_job.sql">src/update_work_job.sql</a></p>
  <div><pre><code><span>update</span> <span>work</span>
<span>set</span> <span>person</span> <span>=</span> <span>"tae"</span>
<span>where</span> <span>person</span> <span>=</span> <span>"tay"</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/update_rows.out">out/update_rows.out</a></p>
  <pre><code>| person |    job    |
|--------|-----------|
| mik    | calibrate |
| mik    | clean     |
| mik    | complain  |
| po     | clean     |
| po     | complain  |
| tae    | complain  |
</code></pre>

  <ul>
    <li>(Almost) always specify row(w) to update using <code>where</code>
      <ul>
        <li>Would otherwise update all rows</li>
      </ul>
    </li>
    <li>Useful to give each row a <a href="#g:primary_key">primary key</a> that uniquely identifies it for this purpose
      <ul>
        <li>Will see other uses below</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="delete-rows">29: delete rows</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/delete_rows.sql">src/delete_rows.sql</a></p>
  <div><pre><code><span>delete</span> <span>from</span> <span>work</span>
<span>where</span> <span>person</span> <span>=</span> <span>"tae"</span><span>;</span>

<span>select</span> <span>*</span> <span>from</span> <span>work</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/delete_rows.out">out/delete_rows.out</a></p>
  <div><pre><code>| person |    job    |
|--------|-----------|
| mik    | calibrate |
| mik    | clean     |
| mik    | complain  |
| po     | clean     |
| po     | complain  |
</code></pre></div>

  <ul>
    <li>Again, (almost) always specify row(s) to delete using <code>where</code></li>
  </ul>

</section>
<section>

  <h2 id="backing-up">30: backing up</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/backing_up.sql">src/backing_up.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>backup</span> <span>(</span>
    <span>person</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>job</span> <span>text</span> <span>not</span> <span>null</span>
<span>);</span>

<span>insert</span> <span>into</span> <span>backup</span>
<span>select</span> <span>person</span><span>,</span> <span>job</span>
<span>from</span> <span>work</span>
<span>where</span> <span>person</span> <span>=</span> <span>'tae'</span><span>;</span>

<span>delete</span> <span>from</span> <span>work</span>
<span>where</span> <span>person</span> <span>=</span> <span>'tae'</span><span>;</span>

<span>select</span> <span>*</span> <span>from</span> <span>backup</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/backing_up.out">out/backing_up.out</a></p>
  <div><pre><code>| person |   job    |
|--------|----------|
| tae    | complain |
</code></pre></div>

</section>
<section>

  <h2 id="check-your-understanding-3">☆ check your understanding</h2>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/concept_map_datamod.svg" alt="concept map: data definition and modification"></p>

</section>
<section>

  <h2 id="join-tables">31: join tables</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/cross_join.sql">src/cross_join.sql</a></p>
  <div><pre><code><span>select</span> <span>*</span>
<span>from</span> <span>work</span> <span>cross</span> <span>join</span> <span>job</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/cross_join.out">out/cross_join.out</a></p>
  <div><pre><code>| person |    job    |   name    | billable |
|--------|-----------|-----------|----------|
| mik    | calibrate | calibrate | 1.5      |
| mik    | calibrate | clean     | 0.5      |
| mik    | clean     | calibrate | 1.5      |
| mik    | clean     | clean     | 0.5      |
| mik    | complain  | calibrate | 1.5      |
| mik    | complain  | clean     | 0.5      |
| po     | clean     | calibrate | 1.5      |
| po     | clean     | clean     | 0.5      |
| po     | complain  | calibrate | 1.5      |
| po     | complain  | clean     | 0.5      |
| tay    | complain  | calibrate | 1.5      |
| tay    | complain  | clean     | 0.5      |
</code></pre></div>

  <ul>
    <li>A <a href="#g:join">join</a> combines information from two tables</li>
    <li><a href="#g:full_outer_join">full outer join</a> (also called <a href="#g:cross_join">cross join</a>) constructs their cross product
      <ul>
        <li>All combinations of rows from each</li>
      </ul>
    </li>
    <li>Result isn’t particularly useful: <code>job</code> and <code>name</code> don’t match</li>
  </ul>

</section>
<section>

  <h2 id="inner-join">32: inner join</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/inner_join.sql">src/inner_join.sql</a></p>
  <div><pre><code><span>select</span> <span>*</span>
<span>from</span> <span>work</span> <span>inner</span> <span>join</span> <span>job</span>
<span>on</span> <span>work</span><span>.</span><span>job</span> <span>=</span> <span>job</span><span>.</span><span>name</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/inner_join.out">out/inner_join.out</a></p>
  <div><pre><code>| person |    job    |   name    | billable |
|--------|-----------|-----------|----------|
| mik    | calibrate | calibrate | 1.5      |
| mik    | clean     | clean     | 0.5      |
| po     | clean     | clean     | 0.5      |
</code></pre></div>

  <ul>
    <li>Use <code><em>table</em>.<em>column</em></code> notation to specify columns
      <ul>
        <li>A column can have the same name as a table</li>
      </ul>
    </li>
    <li>Use <code>on <em>condition</em></code> to specify <a href="#g:join_condition">join condition</a></li>
    <li>Since <code>complain</code> doesn’t appear in <code>job.name</code>, none of those rows are kept</li>
  </ul>

</section>
<section>

  <h2 id="aggregate-joined-data">33: aggregate joined data</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/aggregate_join.sql">src/aggregate_join.sql</a></p>
  <div><pre><code><span>select</span>
    <span>work</span><span>.</span><span>person</span><span>,</span>
    <span>sum</span><span>(</span><span>job</span><span>.</span><span>billable</span><span>)</span> <span>as</span> <span>pay</span>
<span>from</span> <span>work</span> <span>inner</span> <span>join</span> <span>job</span>
<span>on</span> <span>work</span><span>.</span><span>job</span> <span>=</span> <span>job</span><span>.</span><span>name</span>
<span>group</span> <span>by</span> <span>work</span><span>.</span><span>person</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/aggregate_join.out">out/aggregate_join.out</a></p>
  <div><pre><code>| person | pay |
|--------|-----|
| mik    | 2.0 |
| po     | 0.5 |
</code></pre></div>

  <ul>
    <li>Combines ideas we’ve seen before</li>
    <li>But Tay is missing from the table</li>
  </ul>

</section>
<section>

  <h2 id="left-join">34: left join</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/left_join.sql">src/left_join.sql</a></p>
  <div><pre><code><span>select</span> <span>*</span>
<span>from</span> <span>work</span> <span>left</span> <span>join</span> <span>job</span>
<span>on</span> <span>work</span><span>.</span><span>job</span> <span>=</span> <span>job</span><span>.</span><span>name</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/left_join.out">out/left_join.out</a></p>
  <div><pre><code>| person |    job    |   name    | billable |
|--------|-----------|-----------|----------|
| mik    | calibrate | calibrate | 1.5      |
| mik    | clean     | clean     | 0.5      |
| mik    | complain  |           |          |
| po     | clean     | clean     | 0.5      |
| po     | complain  |           |          |
| tay    | complain  |           |          |
</code></pre></div>

  <ul>
    <li>A <a href="#g:left_outer_join">left outer join</a> keeps all rows from the left table</li>
    <li>Fills missing values from right table with null</li>
  </ul>

</section>
<section>

  <h2 id="aggregate-left-joins">35: aggregate left joins</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/aggregate_left_join.sql">src/aggregate_left_join.sql</a></p>
  <div><pre><code><span>select</span>
    <span>work</span><span>.</span><span>person</span><span>,</span>
    <span>sum</span><span>(</span><span>job</span><span>.</span><span>billable</span><span>)</span> <span>as</span> <span>pay</span>
<span>from</span> <span>work</span> <span>left</span> <span>join</span> <span>job</span>
<span>on</span> <span>work</span><span>.</span><span>job</span> <span>=</span> <span>job</span><span>.</span><span>name</span>
<span>group</span> <span>by</span> <span>work</span><span>.</span><span>person</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/aggregate_left_join.out">out/aggregate_left_join.out</a></p>
  <div><pre><code>| person | pay |
|--------|-----|
| mik    | 2.0 |
| po     | 0.5 |
| tay    |     |
</code></pre></div>

  <ul>
    <li>That’s better, but we’d like to see 0 rather than a blank</li>
  </ul>

</section>
<section>

  <h2 id="check-your-understanding-4">☆ check your understanding</h2>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/concept_map_join.svg" alt="concept map: join"></p>

</section>
<section>

  <h2 id="coalesce-values">36: coalesce values</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/coalesce.sql">src/coalesce.sql</a></p>
  <div><pre><code><span>select</span>
    <span>work</span><span>.</span><span>person</span><span>,</span>
    <span>coalesce</span><span>(</span><span>sum</span><span>(</span><span>job</span><span>.</span><span>billable</span><span>),</span> <span>0</span><span>.</span><span>0</span><span>)</span> <span>as</span> <span>pay</span>
<span>from</span> <span>work</span> <span>left</span> <span>join</span> <span>job</span>
<span>on</span> <span>work</span><span>.</span><span>job</span> <span>=</span> <span>job</span><span>.</span><span>name</span>
<span>group</span> <span>by</span> <span>work</span><span>.</span><span>person</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/coalesce.out">out/coalesce.out</a></p>
  <div><pre><code>| person | pay |
|--------|-----|
| mik    | 2.0 |
| po     | 0.5 |
| tay    | 0.0 |
</code></pre></div>

  <ul>
    <li><code>coalesce(<em>val1</em>, <em>val2</em>, …)</code> returns first non-null value</li>
  </ul>

</section>
<section>

  <h2 id="negate-incorrectly">37: negate incorrectly</h2>

  <ul>
    <li>Who doesn’t calibrate?</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/negate_incorrectly.sql">src/negate_incorrectly.sql</a></p>
  <div><pre><code><span>select</span> <span>distinct</span> <span>person</span>
<span>from</span> <span>work</span>
<span>where</span> <span>job</span> <span>!=</span> <span>'calibrate'</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/negate_incorrectly.out">out/negate_incorrectly.out</a></p>
  <div><pre><code>| person |
|--------|
| mik    |
| po     |
| tay    |
</code></pre></div>

  <ul>
    <li>But Mik <em>does</em> calibrate</li>
    <li>Problem is that there’s an entry for Mik cleaning</li>
    <li>And since <code>'clean' != 'calibrate'</code>, that row is included in the results</li>
    <li>We need a different approach</li>
  </ul>

</section>
<section>

  <h2 id="set-membership">38: set membership</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/set_membership.sql">src/set_membership.sql</a></p>
  <div><pre><code><span>select</span> <span>*</span>
<span>from</span> <span>work</span>
<span>where</span> <span>person</span> <span>not</span> <span>in</span> <span>(</span><span>'mik'</span><span>,</span> <span>'tay'</span><span>);</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/set_membership.out">out/set_membership.out</a></p>
  <div><pre><code>| person |   job    |
|--------|----------|
| po     | clean    |
| po     | complain |
</code></pre></div>

  <ul>
    <li><code>in <em>values</em></code> and <code>not in <em>values</em></code> do exactly what you expect</li>
  </ul>

</section>
<section>

  <h2 id="subqueries">39: subqueries</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/subquery_set.sql">src/subquery_set.sql</a></p>
  <div><pre><code><span>select</span> <span>distinct</span> <span>person</span>
<span>from</span> <span>work</span>
<span>where</span> <span>person</span> <span>not</span> <span>in</span> <span>(</span>
    <span>select</span> <span>distinct</span> <span>person</span>
    <span>from</span> <span>work</span>
    <span>where</span> <span>job</span> <span>=</span> <span>'calibrate'</span>
<span>);</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/subquery_set.out">out/subquery_set.out</a></p>
  <div><pre><code>| person |
|--------|
| po     |
| tay    |
</code></pre></div>

  <ul>
    <li>Use a <a href="#g:subquery">subquery</a> to select the people who <em>do</em> calibrate</li>
    <li>Then select all the people who aren’t in that set</li>
    <li>Initially feels odd, but subqueries are useful in other ways</li>
  </ul>

</section>
<section>

  <h2 id="m-to-n-relationships">☆ M to N relationships</h2>

  <ul>
    <li>Relationships between entities are usually characterized as:
      <ul>
        <li><a href="#g:1_to_1">1-to-1</a>:
fields in the same record</li>
        <li><a href="#g:1_to_many">1-to-many</a>:
the many have a <a href="#g:foreign_key">foreign key</a> referring to the one’s primary key</li>
        <li><a href="#g:many_to_many">many-to-many</a>:
don’t know how many keys to add to records (“maximum” never is)</li>
      </ul>
    </li>
    <li>Nearly-universal solution is a <a href="#g:join_table">join table</a>
      <ul>
        <li>Each record is a pair of foreign keys</li>
        <li>I.e., each record is the fact that records A and B are related</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="autoincrement-and-primary-key">40: autoincrement and primary key</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/autoincrement.sql">src/autoincrement.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>person</span> <span>(</span>
    <span>ident</span> <span>integer</span> <span>primary</span> <span>key</span> <span>autoincrement</span><span>,</span>
    <span>name</span> <span>text</span> <span>not</span> <span>null</span>
<span>);</span>
<span>insert</span> <span>into</span> <span>person</span> <span>values</span>
    <span>(</span><span>null</span><span>,</span> <span>'mik'</span><span>),</span>
    <span>(</span><span>null</span><span>,</span> <span>'po'</span><span>),</span>
    <span>(</span><span>null</span><span>,</span> <span>'tay'</span><span>);</span>
<span>select</span> <span>*</span> <span>from</span> <span>person</span><span>;</span>
<span>insert</span> <span>into</span> <span>person</span> <span>values</span> <span>(</span><span>1</span><span>,</span> <span>"prevented"</span><span>);</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/autoincrement.out">out/autoincrement.out</a></p>
  <div><pre><code>| ident | name |
|-------|------|
| 1     | mik  |
| 2     | po   |
| 3     | tay  |
Runtime error near line 12: UNIQUE constraint failed: person.ident (19)
</code></pre></div>

  <ul>
    <li>Database <a href="#g:autoincrement">autoincrements</a> <code>ident</code> each time a new record is added</li>
    <li>Use that field as the primary key
      <ul>
        <li>So that if Mik changes their name again,
we only have to change one fact in the database</li>
        <li>Downside: manual queries are harder to read (who is person 17?)</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="internal-tables">☆ internal tables</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/sequence_table.sql">src/sequence_table.sql</a></p>
  <div><pre><code><span>select</span> <span>*</span> <span>from</span> <span>sqlite_sequence</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/sequence_table.out">out/sequence_table.out</a></p>
  <div><pre><code>|  name  | seq |
|--------|-----|
| person | 3   |
</code></pre></div>

  <ul>
    <li>Sequence numbers are <em>not</em> reset when rows are deleted</li>
  </ul>

</section>
<section>

  <h2 id="alter-tables">41: alter tables</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/alter_tables.sql">src/alter_tables.sql</a></p>
  <div><pre><code><span>alter</span> <span>table</span> <span>job</span>
<span>add</span> <span>ident</span> <span>integer</span> <span>not</span> <span>null</span> <span>default</span> <span>-</span><span>1</span><span>;</span>

<span>update</span> <span>job</span>
<span>set</span> <span>ident</span> <span>=</span> <span>1</span>
<span>where</span> <span>name</span> <span>=</span> <span>'calibrate'</span><span>;</span>

<span>update</span> <span>job</span>
<span>set</span> <span>ident</span> <span>=</span> <span>2</span>
<span>where</span> <span>name</span> <span>=</span> <span>'clean'</span><span>;</span>

<span>select</span> <span>*</span> <span>from</span> <span>job</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/alter_tables.out">out/alter_tables.out</a></p>
  <div><pre><code>|   name    | billable | ident |
|-----------|----------|-------|
| calibrate | 1.5      | 1     |
| clean     | 0.5      | 2     |
</code></pre></div>

  <ul>
    <li>Add a column after the fact</li>
    <li>Since it can’t be null, we have to provide a default value
      <ul>
        <li>Really want to make it the primary key, but SQLite doesn’t allow that (easily) after the fact</li>
      </ul>
    </li>
    <li>Then use <code>update</code> to modify existing records
      <ul>
        <li>Can modify any number of records at once</li>
        <li>So be careful about <code>where</code> clause</li>
      </ul>
    </li>
    <li><a href="#g:data_migration">Data migration</a></li>
  </ul>

</section>
<section>

  <h2 id="create-new-tables-from-old">42: create new tables from old</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/insert_select.sql">src/insert_select.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>new_work</span> <span>(</span>
    <span>person_id</span> <span>integer</span> <span>not</span> <span>null</span><span>,</span>
    <span>job_id</span> <span>integer</span> <span>not</span> <span>null</span><span>,</span>
    <span>foreign</span> <span>key</span><span>(</span><span>person_id</span><span>)</span> <span>references</span> <span>person</span><span>(</span><span>ident</span><span>),</span>
    <span>foreign</span> <span>key</span><span>(</span><span>job_id</span><span>)</span> <span>references</span> <span>job</span><span>(</span><span>ident</span><span>)</span>
<span>);</span>

<span>insert</span> <span>into</span> <span>new_work</span>
<span>select</span>
    <span>person</span><span>.</span><span>ident</span> <span>as</span> <span>person_id</span><span>,</span>
    <span>job</span><span>.</span><span>ident</span> <span>as</span> <span>job_id</span>
<span>from</span>
    <span>(</span><span>person</span> <span>join</span> <span>work</span> <span>on</span> <span>person</span><span>.</span><span>name</span> <span>=</span> <span>work</span><span>.</span><span>person</span><span>)</span>
    <span>join</span> <span>job</span> <span>on</span> <span>job</span><span>.</span><span>name</span> <span>=</span> <span>work</span><span>.</span><span>job</span><span>;</span>
<span>select</span> <span>*</span> <span>from</span> <span>new_work</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/insert_select.out">out/insert_select.out</a></p>
  <div><pre><code>| person_id | job_id |
|-----------|--------|
| 1         | 1      |
| 1         | 2      |
| 2         | 2      |
</code></pre></div>

  <ul>
    <li><code>new_work</code> is our join table</li>
    <li>Each column refers to a record in some other table</li>
  </ul>

</section>
<section>

  <h2 id="remove-tables">43: remove tables</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/drop_table.sql">src/drop_table.sql</a></p>
  <div><pre><code><span>drop</span> <span>table</span> <span>work</span><span>;</span>
<span>alter</span> <span>table</span> <span>new_work</span> <span>rename</span> <span>to</span> <span>work</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/drop_table.out">out/drop_table.out</a></p>
  <div><pre><code>CREATE TABLE job (
    ident integer primary key autoincrement,
    name text not null,
    billable real not null
);
CREATE TABLE sqlite_sequence(name,seq);
CREATE TABLE person (
    ident integer primary key autoincrement,
    name text not null
);
CREATE TABLE IF NOT EXISTS "work" (
    person_id integer not null,
    job_id integer not null,
    foreign key(person_id) references person(ident),
    foreign key(job_id) references job(ident)
);
</code></pre></div>

  <ul>
    <li>Remove the old table and rename the new one to take its place
      <ul>
        <li>Note <code>if exists</code></li>
      </ul>
    </li>
    <li>Be careful…</li>
  </ul>

</section>
<section>

  <h2 id="compare-individual-values-to-aggregates">44: compare individual values to aggregates</h2>

  <ul>
    <li>Go back to penguins</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/compare_individual_aggregate.sql">src/compare_individual_aggregate.sql</a></p>
  <div><pre><code><span>select</span> <span>body_mass_g</span>
<span>from</span> <span>penguins</span>
<span>where</span> <span>body_mass_g</span> <span>&gt;</span> <span>(</span>
    <span>select</span> <span>avg</span><span>(</span><span>body_mass_g</span><span>)</span>
    <span>from</span> <span>penguins</span>
<span>)</span>
<span>limit</span> <span>5</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/compare_individual_aggregate.out">out/compare_individual_aggregate.out</a></p>
  <div><pre><code>| body_mass_g |
|-------------|
| 4675        |
| 4250        |
| 4400        |
| 4500        |
| 4650        |
</code></pre></div>

  <ul>
    <li>Get average body mass in subquery</li>
    <li>Compare each row against that</li>
    <li>Requires two scans of the data, but there’s no way to avoid that</li>
    <li>Null values aren’t included in the average or in the final results</li>
  </ul>

</section>
<section>

  <h2 id="compare-individual-values-to-aggregates-within-groups">45: compare individual values to aggregates within groups</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/compare_within_groups.sql">src/compare_within_groups.sql</a></p>
  <div><pre><code><span>select</span>
    <span>penguins</span><span>.</span><span>species</span><span>,</span>
    <span>penguins</span><span>.</span><span>body_mass_g</span><span>,</span>
    <span>round</span><span>(</span><span>averaged</span><span>.</span><span>avg_mass_g</span><span>,</span> <span>1</span><span>)</span> <span>as</span> <span>avg_mass_g</span>
<span>from</span> <span>penguins</span> <span>join</span> <span>(</span>
    <span>select</span> <span>species</span><span>,</span> <span>avg</span><span>(</span><span>body_mass_g</span><span>)</span> <span>as</span> <span>avg_mass_g</span>
    <span>from</span> <span>penguins</span>
    <span>group</span> <span>by</span> <span>species</span>
<span>)</span> <span>as</span> <span>averaged</span>
<span>on</span> <span>penguins</span><span>.</span><span>species</span> <span>=</span> <span>averaged</span><span>.</span><span>species</span>
<span>where</span> <span>penguins</span><span>.</span><span>body_mass_g</span> <span>&gt;</span> <span>averaged</span><span>.</span><span>avg_mass_g</span>
<span>limit</span> <span>5</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/compare_within_groups.out">out/compare_within_groups.out</a></p>
  <div><pre><code>| species | body_mass_g | avg_mass_g |
|---------|-------------|------------|
| Adelie  | 3750        | 3700.7     |
| Adelie  | 3800        | 3700.7     |
| Adelie  | 4675        | 3700.7     |
| Adelie  | 4250        | 3700.7     |
| Adelie  | 3800        | 3700.7     |
</code></pre></div>

  <ul>
    <li>Subquery runs first to create temporary table <code>averaged</code> with average mass per species</li>
    <li>Join that with <code>penguins</code></li>
    <li>Filter to find penguins heavier than average within their species</li>
  </ul>

</section>
<section>

  <h2 id="common-table-expressions">46: common table expressions</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/common_table_expressions.sql">src/common_table_expressions.sql</a></p>
  <div><pre><code><span>with</span> <span>grouped</span> <span>as</span> <span>(</span>
    <span>select</span> <span>species</span><span>,</span> <span>avg</span><span>(</span><span>body_mass_g</span><span>)</span> <span>as</span> <span>avg_mass_g</span>
    <span>from</span> <span>penguins</span>
    <span>group</span> <span>by</span> <span>species</span>
<span>)</span>
<span>select</span>
    <span>penguins</span><span>.</span><span>species</span><span>,</span>
    <span>penguins</span><span>.</span><span>body_mass_g</span><span>,</span>
    <span>round</span><span>(</span><span>grouped</span><span>.</span><span>avg_mass_g</span><span>,</span> <span>1</span><span>)</span> <span>as</span> <span>avg_mass_g</span>
<span>from</span> <span>penguins</span> <span>join</span> <span>grouped</span>
<span>where</span> <span>penguins</span><span>.</span><span>body_mass_g</span> <span>&gt;</span> <span>grouped</span><span>.</span><span>avg_mass_g</span>
<span>limit</span> <span>5</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/common_table_expressions.out">out/common_table_expressions.out</a></p>
  <div><pre><code>| species | body_mass_g | avg_mass_g |
|---------|-------------|------------|
| Adelie  | 3750        | 3700.7     |
| Adelie  | 3800        | 3700.7     |
| Adelie  | 4675        | 3700.7     |
| Adelie  | 4250        | 3700.7     |
| Adelie  | 3800        | 3700.7     |
</code></pre></div>

  <ul>
    <li>Use <a href="#g:cte">common table expression</a> (CTE) to make queries clearer
      <ul>
        <li>Nested subqueries quickly become difficult to understand</li>
      </ul>
    </li>
    <li>Database decides how to optimize</li>
  </ul>

</section>
<section>

  <h2 id="explain-query-plan">☆ explain query plan</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/explain_query_plan.sql">src/explain_query_plan.sql</a></p>
  <div><pre><code><span>explain</span> <span>query</span> <span>plan</span>
<span>select</span>
    <span>species</span><span>,</span>
    <span>avg</span><span>(</span><span>body_mass_g</span><span>)</span>
<span>from</span> <span>penguins</span>
<span>group</span> <span>by</span> <span>species</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/explain_query_plan.out">out/explain_query_plan.out</a></p>
  <div><pre><code>QUERY PLAN
|--SCAN penguins
`--USE TEMP B-TREE FOR GROUP BY
</code></pre></div>

  <ul>
    <li>SQLite plans to scan every row of the table</li>
    <li>It will build a temporary B-tree data structure to group rows</li>
  </ul>

</section>
<section>

  <h2 id="enumerate-rows">47: enumerate rows</h2>

  <ul>
    <li>Every table has a special column called <code>rowid</code></li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/rowid.sql">src/rowid.sql</a></p>
  <div><pre><code><span>select</span> <span>rowid</span><span>,</span> <span>species</span><span>,</span> <span>island</span>
<span>from</span> <span>penguins</span>
<span>limit</span> <span>5</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/rowid.out">out/rowid.out</a></p>
  <div><pre><code>| rowid | species |  island   |
|-------|---------|-----------|
| 1     | Adelie  | Torgersen |
| 2     | Adelie  | Torgersen |
| 3     | Adelie  | Torgersen |
| 4     | Adelie  | Torgersen |
| 5     | Adelie  | Torgersen |
</code></pre></div>

  <ul>
    <li><code>rowid</code> is persistent within a session
      <ul>
        <li>I.e., if we delete the first 5 rows we now have row IDs 6…N</li>
      </ul>
    </li>
    <li><em>Do not rely on row ID</em>
      <ul>
        <li>In particular, do not use it as a key</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="if-else-function">48: if-else function</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/if_else.sql">src/if_else.sql</a></p>
  <div><pre><code><span>with</span> <span>sized_penguins</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>species</span><span>,</span>
        <span>iif</span><span>(</span>
            <span>body_mass_g</span> <span>&lt;</span> <span>3500</span><span>,</span>
            <span>'small'</span><span>,</span>
            <span>'large'</span>
        <span>)</span> <span>as</span> <span>size</span>
    <span>from</span> <span>penguins</span>
<span>)</span>
<span>select</span> <span>species</span><span>,</span> <span>size</span><span>,</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
<span>from</span> <span>sized_penguins</span>
<span>group</span> <span>by</span> <span>species</span><span>,</span> <span>size</span>
<span>order</span> <span>by</span> <span>species</span><span>,</span> <span>num</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/if_else.out">out/if_else.out</a></p>
  <div><pre><code>|  species  | size  | num |
|-----------|-------|-----|
| Adelie    | small | 54  |
| Adelie    | large | 98  |
| Chinstrap | small | 17  |
| Chinstrap | large | 51  |
| Gentoo    | large | 124 |
</code></pre></div>

  <ul>
    <li><code>iif(<em>condition</em>, <em>true_result</em>, <em>false_result</em>)</code>
      <ul>
        <li>Note: <code>iif</code> with two i’s</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="select-a-case">49: select a case</h2>

  <ul>
    <li>What if we want small, medium, and large?</li>
    <li>Can nest <code>iif</code>, but quickly becomes unreadable</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/case_when.sql">src/case_when.sql</a></p>
  <div><pre><code><span>with</span> <span>sized_penguins</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>species</span><span>,</span>
        <span>case</span>
            <span>when</span> <span>body_mass_g</span> <span>&lt;</span> <span>3500</span> <span>then</span> <span>'small'</span>
            <span>when</span> <span>body_mass_g</span> <span>&lt;</span> <span>5000</span> <span>then</span> <span>'medium'</span>
            <span>else</span> <span>'large'</span>
        <span>end</span> <span>as</span> <span>size</span>
    <span>from</span> <span>penguins</span>
<span>)</span>
<span>select</span> <span>species</span><span>,</span> <span>size</span><span>,</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
<span>from</span> <span>sized_penguins</span>
<span>group</span> <span>by</span> <span>species</span><span>,</span> <span>size</span>
<span>order</span> <span>by</span> <span>species</span><span>,</span> <span>num</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/case_when.out">out/case_when.out</a></p>
  <div><pre><code>|  species  |  size  | num |
|-----------|--------|-----|
| Adelie    | large  | 1   |
| Adelie    | small  | 54  |
| Adelie    | medium | 97  |
| Chinstrap | small  | 17  |
| Chinstrap | medium | 51  |
| Gentoo    | medium | 56  |
| Gentoo    | large  | 68  |
</code></pre></div>

  <ul>
    <li>Evaluate <code>when</code> options in order and take first</li>
    <li>Result of <code>case</code> is null if no condition is true</li>
    <li>Use <code>else</code> as fallback</li>
  </ul>

</section>
<section>

  <h2 id="check-range">50: check range</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/check_range.sql">src/check_range.sql</a></p>
  <div><pre><code><span>with</span> <span>sized_penguins</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>species</span><span>,</span>
        <span>case</span>
            <span>when</span> <span>body_mass_g</span> <span>between</span> <span>3500</span> <span>and</span> <span>5000</span> <span>then</span> <span>'normal'</span>
            <span>else</span> <span>'abnormal'</span>
        <span>end</span> <span>as</span> <span>size</span>
    <span>from</span> <span>penguins</span>
<span>)</span>
<span>select</span> <span>species</span><span>,</span> <span>size</span><span>,</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
<span>from</span> <span>sized_penguins</span>
<span>group</span> <span>by</span> <span>species</span><span>,</span> <span>size</span>
<span>order</span> <span>by</span> <span>species</span><span>,</span> <span>num</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/check_range.out">out/check_range.out</a></p>
  <div><pre><code>|  species  |   size   | num |
|-----------|----------|-----|
| Adelie    | abnormal | 55  |
| Adelie    | normal   | 97  |
| Chinstrap | abnormal | 17  |
| Chinstrap | normal   | 51  |
| Gentoo    | abnormal | 62  |
| Gentoo    | normal   | 62  |
</code></pre></div>

  <ul>
    <li><code>between</code> can make queries easier to read</li>
    <li>But be careful of the <code>and</code> in the middle</li>
  </ul>

</section>
<section>

  <h2 id="yet-another-database">☆ yet another database</h2>

  <ul>
    <li><a href="#g:er_diagram">Entity-relationship diagram</a> (ER diagram) shows relationships between tables</li>
    <li>Like everything to do with databases, there are lots of variations</li>
  </ul>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/assays_tables.svg" alt="assay database table diagram"></p>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/assays_er.svg" alt="assay ER diagram"></p>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/assay_staff.sql">src/assay_staff.sql</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/assay_staff.out">out/assay_staff.out</a></p>
  <div><pre><code>| ident | personal |  family   | dept | age |
|-------|----------|-----------|------|-----|
| 1     | Kartik   | Gupta     |      | 46  |
| 2     | Divit    | Dhaliwal  | hist | 34  |
| 3     | Indrans  | Sridhar   | mb   | 47  |
| 4     | Pranay   | Khanna    | mb   | 51  |
| 5     | Riaan    | Dua       |      | 23  |
| 6     | Vedika   | Rout      | hist | 45  |
| 7     | Abram    | Chokshi   | gen  | 23  |
| 8     | Romil    | Kapoor    | hist | 38  |
| 9     | Ishaan   | Ramaswamy | mb   | 35  |
| 10    | Nitya    | Lal       | gen  | 52  |
</code></pre></div>

</section>
<section>

  <h2 id="pattern-matching">51: pattern matching</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/like_glob.sql">src/like_glob.sql</a></p>
  <div><pre><code><span>select</span> <span>personal</span><span>,</span> <span>family</span> <span>from</span> <span>staff</span>
<span>where</span> <span>personal</span> <span>like</span> <span>'%ya%'</span> <span>or</span> <span>family</span> <span>glob</span> <span>'*De*'</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/like_glob.out">out/like_glob.out</a></p>
  <div><pre><code>| personal | family |
|----------|--------|
| Nitya    | Lal    |
</code></pre></div>

  <ul>
    <li><code>like</code> is the original SQL pattern matcher
      <ul>
        <li><code>%</code> matches zero or more characters at the start or end of a string</li>
        <li>Case insensitive by default</li>
      </ul>
    </li>
    <li><code>glob</code> supports Unix-style wildcards</li>
  </ul>

  <table>
    <thead>
      <tr>
        <th>name</th>
        <th>purpose</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>substr</code></td>
        <td>Get substring given starting point and length</td>
      </tr>
      <tr>
        <td><code>trim</code></td>
        <td>Remove characters from beginning and end of string</td>
      </tr>
      <tr>
        <td><code>ltrim</code></td>
        <td>Remove characters from beginning of string</td>
      </tr>
      <tr>
        <td><code>rtrim</code></td>
        <td>Remove characters from end of string</td>
      </tr>
      <tr>
        <td><code>length</code></td>
        <td>Length of string</td>
      </tr>
      <tr>
        <td><code>replace</code></td>
        <td>Replace occurrences of substring with another string</td>
      </tr>
      <tr>
        <td><code>upper</code></td>
        <td>Return upper-case version of string</td>
      </tr>
      <tr>
        <td><code>lower</code></td>
        <td>Return lower-case version of string</td>
      </tr>
      <tr>
        <td><code>instr</code></td>
        <td>Find location of first occurrence of substring (returns 0 if not found)</td>
      </tr>
    </tbody>
  </table>

</section>
<section>

  <h2 id="select-first-and-last-rows">52: select first and last rows</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/union_all.sql">src/union_all.sql</a></p>
  <div><pre><code><span>select</span> <span>*</span> <span>from</span> <span>(</span>
    <span>select</span> <span>*</span> <span>from</span> <span>(</span><span>select</span> <span>*</span> <span>from</span> <span>experiment</span> <span>order</span> <span>by</span> <span>started</span> <span>asc</span> <span>limit</span> <span>5</span><span>)</span>
    <span>union</span> <span>all</span>
    <span>select</span> <span>*</span> <span>from</span> <span>(</span><span>select</span> <span>*</span> <span>from</span> <span>experiment</span> <span>order</span> <span>by</span> <span>started</span> <span>desc</span> <span>limit</span> <span>5</span><span>)</span>
<span>)</span>
<span>order</span> <span>by</span> <span>started</span> <span>asc</span>
<span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/union_all.out">out/union_all.out</a></p>
  <div><pre><code>| ident |    kind     |  started   |   ended    |
|-------|-------------|------------|------------|
| 17    | trial       | 2023-01-29 | 2023-01-30 |
| 35    | calibration | 2023-01-30 | 2023-01-30 |
| 36    | trial       | 2023-02-02 | 2023-02-03 |
| 25    | trial       | 2023-02-12 | 2023-02-14 |
| 2     | calibration | 2023-02-14 | 2023-02-14 |
| 40    | calibration | 2024-01-21 | 2024-01-21 |
| 12    | trial       | 2024-01-26 | 2024-01-28 |
| 44    | trial       | 2024-01-27 | 2024-01-29 |
| 34    | trial       | 2024-02-01 | 2024-02-02 |
| 14    | calibration | 2024-02-03 | 2024-02-03 |
</code></pre></div>

  <ul>
    <li><code>union all</code> combines records
      <ul>
        <li>Keeps duplicates: <code>union</code> on its own keeps unique records</li>
      </ul>
    </li>
    <li>Yes, it feels like the extra <code>select * from</code> should be unnecessary</li>
  </ul>

</section>
<section>

  <h2 id="intersection">53: intersection</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/intersect.sql">src/intersect.sql</a></p>
  <div><pre><code><span>select</span> <span>personal</span><span>,</span> <span>family</span><span>,</span> <span>dept</span><span>,</span> <span>age</span>
<span>from</span> <span>staff</span>
<span>where</span> <span>dept</span> <span>=</span> <span>'mb'</span>
<span>intersect</span>
    <span>select</span> <span>personal</span><span>,</span> <span>family</span><span>,</span> <span>dept</span><span>,</span> <span>age</span> <span>from</span> <span>staff</span>
    <span>where</span> <span>age</span> <span>&lt;</span> <span>50</span>
<span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/intersect.out">out/intersect.out</a></p>
  <div><pre><code>| personal |  family   | dept | age |
|----------|-----------|------|-----|
| Indrans  | Sridhar   | mb   | 47  |
| Ishaan   | Ramaswamy | mb   | 35  |
</code></pre></div>

  <ul>
    <li>Tables being intersected must have same structure</li>
    <li>Intersection usually used when pulling values from different tables
      <ul>
        <li>In this case, would be clearer to use <code>where</code></li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="exclusion">54: exclusion</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/except.sql">src/except.sql</a></p>
  <div><pre><code><span>select</span> <span>personal</span><span>,</span> <span>family</span><span>,</span> <span>dept</span><span>,</span> <span>age</span>
<span>from</span> <span>staff</span>
<span>where</span> <span>dept</span> <span>=</span> <span>'mb'</span>
<span>except</span>
    <span>select</span> <span>personal</span><span>,</span> <span>family</span><span>,</span> <span>dept</span><span>,</span> <span>age</span> <span>from</span> <span>staff</span>
    <span>where</span> <span>age</span> <span>&lt;</span> <span>50</span>
<span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/except.out">out/except.out</a></p>
  <div><pre><code>| personal | family | dept | age |
|----------|--------|------|-----|
| Pranay   | Khanna | mb   | 51  |
</code></pre></div>

  <ul>
    <li>Again, tables must have same structure
      <ul>
        <li>And this would be clearer with <code>where</code></li>
      </ul>
    </li>
    <li>SQL operates on sets, not tables, except where it doesn’t</li>
  </ul>

</section>
<section>

  <h2 id="random-numbers-and-why-not">55: random numbers and why not</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/random_numbers.sql">src/random_numbers.sql</a></p>
  <div><pre><code><span>with</span> <span>decorated</span> <span>as</span> <span>(</span>
    <span>select</span> <span>random</span><span>()</span> <span>as</span> <span>rand</span><span>,</span>
    <span>personal</span> <span>||</span> <span>' '</span> <span>||</span> <span>family</span> <span>as</span> <span>name</span>
    <span>from</span> <span>staff</span>
<span>)</span>
<span>select</span> <span>rand</span><span>,</span> <span>abs</span><span>(</span><span>rand</span><span>)</span> <span>%</span> <span>10</span> <span>as</span> <span>selector</span><span>,</span> <span>name</span>
<span>from</span> <span>decorated</span>
<span>where</span> <span>selector</span> <span>&lt;</span> <span>5</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/random_numbers.out">out/random_numbers.out</a></p>
  <div><pre><code>|         rand         | selector |      name       |
|----------------------|----------|-----------------|
| 7176652035743196310  | 0        | Divit Dhaliwal  |
| -2243654635505630380 | 2        | Indrans Sridhar |
| -6940074802089166303 | 5        | Pranay Khanna   |
| 8882650891091088193  | 9        | Riaan Dua       |
| -45079732302991538   | 5        | Vedika Rout     |
| -8973877087806386134 | 2        | Abram Chokshi   |
| 3360598450426870356  | 9        | Romil Kapoor    |
</code></pre></div>

  <ul>
    <li>There is no way to seed SQLite’s random number generator</li>
    <li>Which means there is no way to reproduce one of its “random” sequences</li>
  </ul>

</section>
<section>

  <h2 id="creating-index">56: creating index</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/create_use_index.sql">src/create_use_index.sql</a></p>
  <div><pre><code><span>explain</span> <span>query</span> <span>plan</span>
<span>select</span> <span>filename</span>
<span>from</span> <span>plate</span>
<span>where</span> <span>filename</span> <span>like</span> <span>'%07%'</span><span>;</span>

<span>create</span> <span>index</span> <span>plate_file</span> <span>on</span> <span>plate</span><span>(</span><span>filename</span><span>);</span>

<span>explain</span> <span>query</span> <span>plan</span>
<span>select</span> <span>filename</span>
<span>from</span> <span>plate</span>
<span>where</span> <span>filename</span> <span>like</span> <span>'%07%'</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/create_use_index.out">out/create_use_index.out</a></p>
  <div><pre><code>QUERY PLAN
`--SCAN plate USING COVERING INDEX sqlite_autoindex_plate_1
QUERY PLAN
`--SCAN plate USING COVERING INDEX plate_file
</code></pre></div>

  <ul>
    <li>An <a href="#g:index">index</a> is an auxiliary data structure that enables faster access to records
      <ul>
        <li>Spend storage space to buy speed</li>
      </ul>
    </li>
    <li>Don’t have to mention it explicitly in queries
      <ul>
        <li>Database manager will use it automatically</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="generate-sequence">57: generate sequence</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/generate_sequence.sql">src/generate_sequence.sql</a></p>
  <div><pre><code><span>select</span> <span>value</span> <span>from</span> <span>generate_series</span><span>(</span><span>1</span><span>,</span> <span>5</span><span>);</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/generate_sequence.out">out/generate_sequence.out</a></p>
  <div><pre><code>| value |
|-------|
| 1     |
| 2     |
| 3     |
| 4     |
| 5     |
</code></pre></div>

  <ul>
    <li>A (non-standard) <a href="#g:table_valued_func">table-valued function</a></li>
  </ul>

</section>
<section>

  <h2 id="generate-sequence-based-on-data">58: generate sequence based on data</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/data_range_sequence.sql">src/data_range_sequence.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>temp</span> <span>(</span>
    <span>num</span> <span>integer</span> <span>not</span> <span>null</span>
<span>);</span>
<span>insert</span> <span>into</span> <span>temp</span> <span>values</span> <span>(</span><span>1</span><span>),</span> <span>(</span><span>5</span><span>);</span>
<span>select</span> <span>value</span> <span>from</span> <span>generate_series</span> <span>(</span>
    <span>(</span><span>select</span> <span>min</span><span>(</span><span>num</span><span>)</span> <span>from</span> <span>temp</span><span>),</span>
    <span>(</span><span>select</span> <span>max</span><span>(</span><span>num</span><span>)</span> <span>from</span> <span>temp</span><span>)</span>
<span>);</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/data_range_sequence.out">out/data_range_sequence.out</a></p>
  <div><pre><code>| value |
|-------|
| 1     |
| 2     |
| 3     |
| 4     |
| 5     |
</code></pre></div>

  <ul>
    <li>Must have the parentheses around the <code>min</code> and <code>max</code> selections to keep SQLite happy</li>
  </ul>

</section>
<section>

  <h2 id="generate-sequence-of-dates">59: generate sequence of dates</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/date_sequence.sql">src/date_sequence.sql</a></p>
  <div><pre><code><span>select</span>
    <span>date</span><span>((</span><span>select</span> <span>julianday</span><span>(</span><span>min</span><span>(</span><span>started</span><span>))</span> <span>from</span> <span>experiment</span><span>)</span> <span>+</span> <span>value</span><span>)</span> <span>as</span> <span>some_day</span>
<span>from</span> <span>(</span>
    <span>select</span> <span>value</span> <span>from</span> <span>generate_series</span><span>(</span>
        <span>(</span><span>select</span> <span>0</span><span>),</span>
        <span>(</span><span>select</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>-</span> <span>1</span> <span>from</span> <span>experiment</span><span>)</span>
    <span>)</span>
<span>)</span>
<span>limit</span> <span>5</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/date_sequence.out">out/date_sequence.out</a></p>
  <div><pre><code>|  some_day  |
|------------|
| 2023-01-29 |
| 2023-01-30 |
| 2023-01-31 |
| 2023-02-01 |
| 2023-02-02 |
</code></pre></div>

  <ul>
    <li>SQLite represents dates as YYYY-MM-DD strings
or as Julian days or as Unix milliseconds or…
      <ul>
        <li>Julian days is fractional number of days since November 24, 4714 BCE</li>
      </ul>
    </li>
    <li><code>julianday</code> and <code>date</code> convert back and forth</li>
  </ul>

</section>
<section>

  <h2 id="count-experiments-started-per-day-without-gaps">60: count experiments started per day without gaps</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/experiments_per_day.sql">src/experiments_per_day.sql</a></p>
  <div><pre><code><span>with</span>
<span>-- complete sequence of days with 0 as placeholder for number of experiments</span>
<span>all_days</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>date</span><span>((</span><span>select</span> <span>julianday</span><span>(</span><span>min</span><span>(</span><span>started</span><span>))</span> <span>from</span> <span>experiment</span><span>)</span> <span>+</span> <span>value</span><span>)</span> <span>as</span> <span>some_day</span><span>,</span>
        <span>0</span> <span>as</span> <span>zeroes</span>
    <span>from</span> <span>(</span>
        <span>select</span> <span>value</span> <span>from</span> <span>generate_series</span><span>(</span>
            <span>(</span><span>select</span> <span>0</span><span>),</span>
            <span>(</span><span>select</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>-</span> <span>1</span> <span>from</span> <span>experiment</span><span>)</span>
        <span>)</span>
    <span>)</span>
<span>),</span>
<span>-- sequence of actual days with actual number of experiments started</span>
<span>actual_days</span> <span>as</span> <span>(</span>
    <span>select</span> <span>started</span><span>,</span> <span>count</span><span>(</span><span>started</span><span>)</span> <span>as</span> <span>num_exp</span>
    <span>from</span> <span>experiment</span>
    <span>group</span> <span>by</span> <span>started</span>
<span>)</span>
<span>-- combined by joining on day and taking actual number (if available) or zero</span>
<span>select</span>
    <span>all_days</span><span>.</span><span>some_day</span> <span>as</span> <span>day</span><span>,</span>
    <span>coalesce</span><span>(</span><span>actual_days</span><span>.</span><span>num_exp</span><span>,</span> <span>all_days</span><span>.</span><span>zeroes</span><span>)</span> <span>as</span> <span>num_exp</span>
<span>from</span>
    <span>all_days</span> <span>left</span> <span>join</span> <span>actual_days</span> <span>on</span> <span>all_days</span><span>.</span><span>some_day</span> <span>=</span> <span>actual_days</span><span>.</span><span>started</span>
<span>limit</span> <span>5</span>
<span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/experiments_per_day.out">out/experiments_per_day.out</a></p>
  <div><pre><code>|    day     | num_exp |
|------------|---------|
| 2023-01-29 | 1       |
| 2023-01-30 | 1       |
| 2023-01-31 | 0       |
| 2023-02-01 | 0       |
| 2023-02-02 | 1       |
</code></pre></div>

</section>
<section>

  <h2 id="self-join">61: self join</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/self_join.sql">src/self_join.sql</a></p>
  <div><pre><code><span>with</span> <span>person</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>ident</span><span>,</span>
        <span>personal</span> <span>||</span> <span>' '</span> <span>||</span> <span>family</span> <span>as</span> <span>name</span>
    <span>from</span> <span>staff</span>
<span>)</span>
<span>select</span> <span>left</span><span>.</span><span>name</span><span>,</span> <span>right</span><span>.</span><span>name</span>
<span>from</span> <span>person</span> <span>as</span> <span>left</span> <span>join</span> <span>person</span> <span>as</span> <span>right</span>
<span>limit</span> <span>10</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/self_join.out">out/self_join.out</a></p>
  <div><pre><code>|     name     |       name       |
|--------------|------------------|
| Kartik Gupta | Kartik Gupta     |
| Kartik Gupta | Divit Dhaliwal   |
| Kartik Gupta | Indrans Sridhar  |
| Kartik Gupta | Pranay Khanna    |
| Kartik Gupta | Riaan Dua        |
| Kartik Gupta | Vedika Rout      |
| Kartik Gupta | Abram Chokshi    |
| Kartik Gupta | Romil Kapoor     |
| Kartik Gupta | Ishaan Ramaswamy |
| Kartik Gupta | Nitya Lal        |
</code></pre></div>

  <ul>
    <li>Join a table to itself
      <ul>
        <li>Use <code>as</code> to create <a href="#g:alias">aliases</a> for copies of tables to distinguish them</li>
        <li>Nothing special about the names <code>left</code> and <code>right</code></li>
      </ul>
    </li>
    <li>Get all <math>n</math><sup>2</sup> pairs, including person with themself</li>
  </ul>

</section>
<section>

  <h2 id="generate-unique-pairs">62: generate unique pairs</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/unique_pairs.sql">src/unique_pairs.sql</a></p>
  <div><pre><code><span>with</span> <span>person</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>ident</span><span>,</span>
        <span>personal</span> <span>||</span> <span>' '</span> <span>||</span> <span>family</span> <span>as</span> <span>name</span>
    <span>from</span> <span>staff</span>
<span>)</span>
<span>select</span> <span>left</span><span>.</span><span>name</span><span>,</span> <span>right</span><span>.</span><span>name</span>
<span>from</span> <span>person</span> <span>as</span> <span>left</span> <span>join</span> <span>person</span> <span>as</span> <span>right</span>
<span>on</span> <span>left</span><span>.</span><span>ident</span> <span>&lt;</span> <span>right</span><span>.</span><span>ident</span>
<span>where</span> <span>left</span><span>.</span><span>ident</span> <span>&lt;=</span> <span>4</span> <span>and</span> <span>right</span><span>.</span><span>ident</span> <span>&lt;=</span> <span>4</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/unique_pairs.out">out/unique_pairs.out</a></p>
  <div><pre><code>|      name       |      name       |
|-----------------|-----------------|
| Kartik Gupta    | Divit Dhaliwal  |
| Kartik Gupta    | Indrans Sridhar |
| Kartik Gupta    | Pranay Khanna   |
| Divit Dhaliwal  | Indrans Sridhar |
| Divit Dhaliwal  | Pranay Khanna   |
| Indrans Sridhar | Pranay Khanna   |
</code></pre></div>

  <ul>
    <li><code>left.ident &lt; right.ident</code> ensures distinct pairs without duplicates</li>
    <li>Use <code>left.ident &lt;= 4 and right.ident &lt;= 4</code> to limit output</li>
    <li>Quick check: <math>n(n-1)/2</math> pairs</li>
  </ul>

</section>
<section>

  <h2 id="filter-pairs">63: filter pairs</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/filter_pairs.sql">src/filter_pairs.sql</a></p>
  <div><pre><code><span>with</span>
<span>person</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>ident</span><span>,</span>
        <span>personal</span> <span>||</span> <span>' '</span> <span>||</span> <span>family</span> <span>as</span> <span>name</span>
    <span>from</span> <span>staff</span>
<span>),</span>
<span>together</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>left</span><span>.</span><span>staff</span> <span>as</span> <span>left_staff</span><span>,</span>
        <span>right</span><span>.</span><span>staff</span> <span>as</span> <span>right_staff</span>
    <span>from</span> <span>performed</span> <span>as</span> <span>left</span> <span>join</span> <span>performed</span> <span>as</span> <span>right</span>
    <span>on</span> <span>left</span><span>.</span><span>experiment</span> <span>=</span> <span>right</span><span>.</span><span>experiment</span>
    <span>where</span> <span>left_staff</span> <span>&lt;</span> <span>right_staff</span>
<span>)</span>
<span>select</span>
    <span>left</span><span>.</span><span>name</span> <span>as</span> <span>person_1</span><span>,</span>
    <span>right</span><span>.</span><span>name</span> <span>as</span> <span>person_2</span>
<span>from</span> <span>person</span> <span>as</span> <span>left</span> <span>join</span> <span>person</span> <span>as</span> <span>right</span> <span>join</span> <span>together</span>
<span>on</span> <span>left</span><span>.</span><span>ident</span> <span>=</span> <span>left_staff</span> <span>and</span> <span>right</span><span>.</span><span>ident</span> <span>=</span> <span>right_staff</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/filter_pairs.out">out/filter_pairs.out</a></p>
  <div><pre><code>|    person_1     |     person_2     |
|-----------------|------------------|
| Kartik Gupta    | Vedika Rout      |
| Pranay Khanna   | Vedika Rout      |
| Indrans Sridhar | Romil Kapoor     |
| Abram Chokshi   | Ishaan Ramaswamy |
| Pranay Khanna   | Vedika Rout      |
| Kartik Gupta    | Abram Chokshi    |
| Abram Chokshi   | Romil Kapoor     |
| Kartik Gupta    | Divit Dhaliwal   |
| Divit Dhaliwal  | Abram Chokshi    |
| Pranay Khanna   | Ishaan Ramaswamy |
| Indrans Sridhar | Romil Kapoor     |
| Kartik Gupta    | Ishaan Ramaswamy |
| Kartik Gupta    | Nitya Lal        |
| Kartik Gupta    | Abram Chokshi    |
| Pranay Khanna   | Romil Kapoor     |
</code></pre></div>

</section>
<section>

  

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/correlated_subquery.sql">src/correlated_subquery.sql</a></p>
  <div><pre><code><span>select</span> <span>name</span><span>,</span> <span>building</span>
<span>from</span> <span>department</span>
<span>where</span> <span>exists</span> <span>(</span>
    <span>select</span> <span>1</span>
    <span>from</span> <span>staff</span>
    <span>where</span> <span>dept</span> <span>=</span> <span>department</span><span>.</span><span>ident</span>
<span>)</span>
<span>order</span> <span>by</span> <span>name</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/correlated_subquery.out">out/correlated_subquery.out</a></p>
  <div><pre><code>|       name        |     building     |
|-------------------|------------------|
| Genetics          | Chesson          |
| Histology         | Fashet Extension |
| Molecular Biology | Chesson          |
</code></pre></div>

  <ul>
    <li>Nobody works in Endocrinology</li>
    <li><code>select 1</code> could equally be <code>select true</code> or any other value</li>
    <li>A <a href="#g:correlated_subquery">correlated subquery</a> depends on a value from the outer query
      <ul>
        <li>Equivalent to nested loop</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="nonexistence">65: nonexistence</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/nonexistence.sql">src/nonexistence.sql</a></p>
  <div><pre><code><span>select</span> <span>name</span><span>,</span> <span>building</span>
<span>from</span> <span>department</span>
<span>where</span> <span>not</span> <span>exists</span> <span>(</span>
    <span>select</span> <span>1</span>
    <span>from</span> <span>staff</span>
    <span>where</span> <span>dept</span> <span>=</span> <span>department</span><span>.</span><span>ident</span>
<span>)</span>
<span>order</span> <span>by</span> <span>name</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/nonexistence.out">out/nonexistence.out</a></p>
  <div><pre><code>|     name      | building |
|---------------|----------|
| Endocrinology | TGVH     |
</code></pre></div>

</section>
<section>

  

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/avoid_correlated_subqueries.sql">src/avoid_correlated_subqueries.sql</a></p>
  <div><pre><code><span>select</span> <span>distinct</span>
    <span>department</span><span>.</span><span>name</span> <span>as</span> <span>name</span><span>,</span>
    <span>department</span><span>.</span><span>building</span> <span>as</span> <span>building</span>
<span>from</span> <span>department</span> <span>join</span> <span>staff</span>
<span>on</span> <span>department</span><span>.</span><span>ident</span> <span>=</span> <span>staff</span><span>.</span><span>dept</span>
<span>order</span> <span>by</span> <span>name</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/avoid_correlated_subqueries.out">out/avoid_correlated_subqueries.out</a></p>
  <div><pre><code>|       name        |     building     |
|-------------------|------------------|
| Genetics          | Chesson          |
| Histology         | Fashet Extension |
| Molecular Biology | Chesson          |
</code></pre></div>

  <ul>
    <li>The join might or might not be faster than the correlated subquery</li>
    <li>Hard to find unstaffed departments without either <code>not exists</code> or <code>count</code> and a check for 0</li>
  </ul>

</section>
<section>

  <h2 id="lead-and-lag">66: lead and lag</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/lead_lag.sql">src/lead_lag.sql</a></p>
  <div><pre><code><span>with</span> <span>ym_num</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>strftime</span><span>(</span><span>'%Y-%m'</span><span>,</span> <span>started</span><span>)</span> <span>as</span> <span>ym</span><span>,</span>
        <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
    <span>from</span> <span>experiment</span>
    <span>group</span> <span>by</span> <span>ym</span>
<span>)</span>
<span>select</span>
    <span>ym</span><span>,</span>
    <span>lag</span><span>(</span><span>num</span><span>)</span> <span>over</span> <span>(</span><span>order</span> <span>by</span> <span>ym</span><span>)</span> <span>as</span> <span>prev_num</span><span>,</span>
    <span>num</span><span>,</span>
    <span>lead</span><span>(</span><span>num</span><span>)</span> <span>over</span> <span>(</span><span>order</span> <span>by</span> <span>ym</span><span>)</span> <span>as</span> <span>next_num</span>
<span>from</span> <span>ym_num</span>
<span>order</span> <span>by</span> <span>ym</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/lead_lag.out">out/lead_lag.out</a></p>
  <div><pre><code>|   ym    | prev_num | num | next_num |
|---------|----------|-----|----------|
| 2023-01 |          | 2   | 5        |
| 2023-02 | 2        | 5   | 5        |
| 2023-03 | 5        | 5   | 1        |
| 2023-04 | 5        | 1   | 6        |
| 2023-05 | 1        | 6   | 5        |
| 2023-06 | 6        | 5   | 3        |
| 2023-07 | 5        | 3   | 2        |
| 2023-08 | 3        | 2   | 4        |
| 2023-09 | 2        | 4   | 6        |
| 2023-10 | 4        | 6   | 4        |
| 2023-12 | 6        | 4   | 5        |
| 2024-01 | 4        | 5   | 2        |
| 2024-02 | 5        | 2   |          |
</code></pre></div>

  <ul>
    <li>Use <code>strftime</code> to extract year and month
      <ul>
        <li>Clumsy, but date/time handling is not SQLite’s strong point</li>
      </ul>
    </li>
    <li>Use <a href="#g:window_func">window functions</a> <code>lead</code> and <code>lag</code> to shift values
      <ul>
        <li>Unavailable values are null</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="window-functions">67: window functions</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/window_functions.sql">src/window_functions.sql</a></p>
  <div><pre><code><span>with</span> <span>ym_num</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>strftime</span><span>(</span><span>'%Y-%m'</span><span>,</span> <span>started</span><span>)</span> <span>as</span> <span>ym</span><span>,</span>
        <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
    <span>from</span> <span>experiment</span>
    <span>group</span> <span>by</span> <span>ym</span>
<span>)</span>
<span>select</span>
    <span>ym</span><span>,</span>
    <span>num</span><span>,</span>
    <span>sum</span><span>(</span><span>num</span><span>)</span> <span>over</span> <span>(</span><span>order</span> <span>by</span> <span>ym</span><span>)</span> <span>as</span> <span>num_done</span><span>,</span>
    <span>cume_dist</span><span>()</span> <span>over</span> <span>(</span><span>order</span> <span>by</span> <span>ym</span><span>)</span> <span>as</span> <span>progress</span>
<span>from</span> <span>ym_num</span>
<span>order</span> <span>by</span> <span>ym</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/window_functions.out">out/window_functions.out</a></p>
  <div><pre><code>|   ym    | num | num_done |      progress      |
|---------|-----|----------|--------------------|
| 2023-01 | 2   | 2        | 0.0769230769230769 |
| 2023-02 | 5   | 7        | 0.153846153846154  |
| 2023-03 | 5   | 12       | 0.230769230769231  |
| 2023-04 | 1   | 13       | 0.307692307692308  |
| 2023-05 | 6   | 19       | 0.384615384615385  |
| 2023-06 | 5   | 24       | 0.461538461538462  |
| 2023-07 | 3   | 27       | 0.538461538461538  |
| 2023-08 | 2   | 29       | 0.615384615384615  |
| 2023-09 | 4   | 33       | 0.692307692307692  |
| 2023-10 | 6   | 39       | 0.769230769230769  |
| 2023-12 | 4   | 43       | 0.846153846153846  |
| 2024-01 | 5   | 48       | 0.923076923076923  |
| 2024-02 | 2   | 50       | 1.0                |
</code></pre></div>

  <ul>
    <li><code>sum() over</code> does a running total</li>
    <li><code>cume_dist</code> is fraction <em>of rows seen so far</em></li>
  </ul>

</section>
<section>

  <h2 id="explain-another-query-plain">☆ explain another query plain</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/explain_window_function.sql">src/explain_window_function.sql</a></p>
  <div><pre><code><span>explain</span> <span>query</span> <span>plan</span>
<span>with</span> <span>ym_num</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>strftime</span><span>(</span><span>'%Y-%m'</span><span>,</span> <span>started</span><span>)</span> <span>as</span> <span>ym</span><span>,</span>
        <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
    <span>from</span> <span>experiment</span>
    <span>group</span> <span>by</span> <span>ym</span>
<span>)</span>
<span>select</span>
    <span>ym</span><span>,</span>
    <span>num</span><span>,</span>
    <span>sum</span><span>(</span><span>num</span><span>)</span> <span>over</span> <span>(</span><span>order</span> <span>by</span> <span>ym</span><span>)</span> <span>as</span> <span>num_done</span><span>,</span>
    <span>cume_dist</span><span>()</span> <span>over</span> <span>(</span><span>order</span> <span>by</span> <span>ym</span><span>)</span> <span>as</span> <span>progress</span>
<span>from</span> <span>ym_num</span>
<span>order</span> <span>by</span> <span>ym</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/explain_window_function.out">out/explain_window_function.out</a></p>
  <div><pre><code>QUERY PLAN
|--CO-ROUTINE (subquery-3)
|  |--CO-ROUTINE (subquery-4)
|  |  |--CO-ROUTINE ym_num
|  |  |  |--SCAN experiment
|  |  |  `--USE TEMP B-TREE FOR GROUP BY
|  |  |--SCAN ym_num
|  |  `--USE TEMP B-TREE FOR ORDER BY
|  `--SCAN (subquery-4)
`--SCAN (subquery-3)
</code></pre></div>

  <ul>
    <li>Becomes useful…eventually</li>
  </ul>

</section>
<section>

  <h2 id="partitioned-windows">68: partitioned windows</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/partition_window.sql">src/partition_window.sql</a></p>
  <div><pre><code><span>with</span> <span>y_m_num</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>strftime</span><span>(</span><span>'%Y'</span><span>,</span> <span>started</span><span>)</span> <span>as</span> <span>year</span><span>,</span>
        <span>strftime</span><span>(</span><span>'%m'</span><span>,</span> <span>started</span><span>)</span> <span>as</span> <span>month</span><span>,</span>
        <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
    <span>from</span> <span>experiment</span>
    <span>group</span> <span>by</span> <span>year</span><span>,</span> <span>month</span>
<span>)</span>
<span>select</span>
    <span>year</span><span>,</span>
    <span>month</span><span>,</span>
    <span>num</span><span>,</span>
    <span>sum</span><span>(</span><span>num</span><span>)</span> <span>over</span> <span>(</span><span>partition</span> <span>by</span> <span>year</span> <span>order</span> <span>by</span> <span>month</span><span>)</span> <span>as</span> <span>num_done</span>
<span>from</span> <span>y_m_num</span>
<span>order</span> <span>by</span> <span>year</span><span>,</span> <span>month</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/partition_window.out">out/partition_window.out</a></p>
  <div><pre><code>| year | month | num | num_done |
|------|-------|-----|----------|
| 2023 | 01    | 2   | 2        |
| 2023 | 02    | 5   | 7        |
| 2023 | 03    | 5   | 12       |
| 2023 | 04    | 1   | 13       |
| 2023 | 05    | 6   | 19       |
| 2023 | 06    | 5   | 24       |
| 2023 | 07    | 3   | 27       |
| 2023 | 08    | 2   | 29       |
| 2023 | 09    | 4   | 33       |
| 2023 | 10    | 6   | 39       |
| 2023 | 12    | 4   | 43       |
| 2024 | 01    | 5   | 5        |
| 2024 | 02    | 2   | 7        |
</code></pre></div>

  <ul>
    <li><code>partition by</code> creates groups</li>
    <li>So this counts experiments started since the beginning of each year</li>
  </ul>

</section>
<section>

  <h2 id="blobs">69: blobs</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/blob.sql">src/blob.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>images</span> <span>(</span>
    <span>name</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>content</span> <span>blob</span>
<span>);</span>

<span>insert</span> <span>into</span> <span>images</span><span>(</span><span>name</span><span>,</span> <span>content</span><span>)</span> <span>values</span>
    <span>(</span><span>"biohazard"</span><span>,</span> <span>readfile</span><span>(</span><span>"img/biohazard.png"</span><span>)),</span>
    <span>(</span><span>"crush"</span><span>,</span> <span>readfile</span><span>(</span><span>"img/crush.png"</span><span>)),</span>
    <span>(</span><span>"fire"</span><span>,</span> <span>readfile</span><span>(</span><span>"img/fire.png"</span><span>)),</span>
    <span>(</span><span>"radioactive"</span><span>,</span> <span>readfile</span><span>(</span><span>"img/radioactive.png"</span><span>)),</span>
    <span>(</span><span>"tripping"</span><span>,</span> <span>readfile</span><span>(</span><span>"img/tripping.png"</span><span>));</span>

<span>select</span> <span>name</span><span>,</span> <span>length</span><span>(</span><span>content</span><span>)</span> <span>from</span> <span>images</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/blob.out">out/blob.out</a></p>
  <div><pre><code>|    name     | length(content) |
|-------------|-----------------|
| biohazard   | 19629           |
| crush       | 15967           |
| fire        | 18699           |
| radioactive | 16661           |
| tripping    | 17208           |
</code></pre></div>

  <ul>
    <li>A <a href="#g:blob">blob</a> is a binary large object
      <ul>
        <li>Bytes in, bytes out…</li>
      </ul>
    </li>
    <li>If you think that’s odd, check out <a href="https://fossil-scm.org/">Fossil</a></li>
  </ul>

</section>
<section>

  <h2 id="yet-another-database-1">☆ yet another database</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/lab_log_db.sh">src/lab_log_db.sh</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/lab_log_schema.sql">src/lab_log_schema.sql</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/lab_log_schema.out">out/lab_log_schema.out</a></p>
  <div><pre><code>CREATE TABLE sqlite_sequence(name,seq);
CREATE TABLE person(
       ident            integer primary key autoincrement,
       details          text not null
);
CREATE TABLE machine(
       ident            integer primary key autoincrement,
       name             text not null,
       details          text not null
);
CREATE TABLE usage(
       ident            integer primary key autoincrement,
       log              text not null
);
</code></pre></div>

</section>
<section>

  <h2 id="store-json">70: store JSON</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/json_in_table.sql">src/json_in_table.sql</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/json_in_table.out">out/json_in_table.out</a></p>
  <div><pre><code>| ident |      name      |                         details                         |
|-------|----------------|---------------------------------------------------------|
| 1     | WY401          | {"acquired": "2023-05-01"}                              |
| 2     | Inphormex      | {"acquired": "2021-07-15", "refurbished": "2023-10-22"} |
| 3     | AutoPlate 9000 | {"note": "needs software update"}                       |
</code></pre></div>

  <ul>
    <li>Store heterogeneous data as JSON-formatted text (with double-quoted strings)
      <ul>
        <li>Database parses it each time it is queried</li>
      </ul>
    </li>
    <li>Alternatively store as blob
      <ul>
        <li>Can’t just view it</li>
        <li>But more efficient</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="select-field-from-json">71: select field from JSON</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/json_field.sql">src/json_field.sql</a></p>
  <div><pre><code><span>select</span>
    <span>details</span><span>-&gt;</span><span>'$.acquired'</span> <span>as</span> <span>single_arrow</span><span>,</span>
    <span>details</span><span>-&gt;&gt;</span><span>'$.acquired'</span> <span>as</span> <span>double_arrow</span>
<span>from</span> <span>machine</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/json_field.out">out/json_field.out</a></p>
  <div><pre><code>| single_arrow | double_arrow |
|--------------|--------------|
| "2023-05-01" | 2023-05-01   |
| "2021-07-15" | 2021-07-15   |
|              |              |
</code></pre></div>

  <ul>
    <li>Single arrow <code>-&gt;</code> returns JSON representation result</li>
    <li>Double arrow <code>-&gt;&gt;</code> returns SQL text, integer, real, or null</li>
    <li>Left side is column</li>
    <li>Right side is <a href="#g:path_expression">path expression</a>
      <ul>
        <li>Start with <code>$</code> (meaning “root”)</li>
        <li>Fields separated by <code>.</code></li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="json-array-access">72: JSON array access</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/json_array.sql">src/json_array.sql</a></p>
  <div><pre><code><span>select</span>
    <span>ident</span><span>,</span>
    <span>json_array_length</span><span>(</span><span>log</span><span>-&gt;</span><span>'$'</span><span>)</span> <span>as</span> <span>length</span><span>,</span>
    <span>log</span><span>-&gt;</span><span>'$[0]'</span> <span>as</span> <span>first</span>
<span>from</span> <span>usage</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/json_array.out">out/json_array.out</a></p>
  <div><pre><code>| ident | length |                            first                             |
|-------|--------|--------------------------------------------------------------|
| 1     | 4      | {"machine":"Inphormex","person":["Gabrielle","Dub\u00e9"]}   |
| 2     | 5      | {"machine":"Inphormex","person":["Marianne","Richer"]}       |
| 3     | 2      | {"machine":"sterilizer","person":["Josette","Villeneuve"]}   |
| 4     | 1      | {"machine":"sterilizer","person":["Maude","Goulet"]}         |
| 5     | 2      | {"machine":"AutoPlate 9000","person":["Brigitte","Michaud"]} |
| 6     | 1      | {"machine":"sterilizer","person":["Marianne","Richer"]}      |
| 7     | 3      | {"machine":"WY401","person":["Maude","Goulet"]}              |
| 8     | 1      | {"machine":"AutoPlate 9000"}                                 |
</code></pre></div>

  <ul>
    <li>SQLite (and other database managers) has lots of JSON manipulation functions</li>
    <li><code>json_array_length</code> gives number of elements in selected array</li>
    <li>subscripts start with 0</li>
    <li>Characters outside 7-bit ASCII represented as Unicode escapes</li>
  </ul>

</section>
<section>

  <h2 id="unpack-json-array">73: unpack JSON array</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/json_unpack.sql">src/json_unpack.sql</a></p>
  <div><pre><code><span>select</span>
    <span>ident</span><span>,</span>
    <span>json_each</span><span>.</span><span>key</span> <span>as</span> <span>key</span><span>,</span>
    <span>json_each</span><span>.</span><span>value</span> <span>as</span> <span>value</span>
<span>from</span> <span>usage</span><span>,</span> <span>json_each</span><span>(</span><span>usage</span><span>.</span><span>log</span><span>)</span>
<span>limit</span> <span>10</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/json_unpack.out">out/json_unpack.out</a></p>
  <div><pre><code>| ident | key |                            value                             |
|-------|-----|--------------------------------------------------------------|
| 1     | 0   | {"machine":"Inphormex","person":["Gabrielle","Dub\u00e9"]}   |
| 1     | 1   | {"machine":"Inphormex","person":["Gabrielle","Dub\u00e9"]}   |
| 1     | 2   | {"machine":"WY401","person":["Gabrielle","Dub\u00e9"]}       |
| 1     | 3   | {"machine":"Inphormex","person":["Gabrielle","Dub\u00e9"]}   |
| 2     | 0   | {"machine":"Inphormex","person":["Marianne","Richer"]}       |
| 2     | 1   | {"machine":"AutoPlate 9000","person":["Marianne","Richer"]}  |
| 2     | 2   | {"machine":"sterilizer","person":["Marianne","Richer"]}      |
| 2     | 3   | {"machine":"AutoPlate 9000","person":["Monique","Marcotte"]} |
| 2     | 4   | {"machine":"sterilizer","person":["Marianne","Richer"]}      |
| 3     | 0   | {"machine":"sterilizer","person":["Josette","Villeneuve"]}   |
</code></pre></div>

  <ul>
    <li><code>json_each</code> is another table-valued function</li>
    <li>Use <code>json_each.<em>name</em></code> to get properties of unpacked array</li>
  </ul>

</section>
<section>

  <h2 id="last-element-of-array">74: last element of array</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/json_array_last.sql">src/json_array_last.sql</a></p>
  <div><pre><code><span>select</span>
    <span>ident</span><span>,</span>
    <span>log</span><span>-&gt;</span><span>'$[#-1].machine'</span> <span>as</span> <span>final</span>
<span>from</span> <span>usage</span>
<span>limit</span> <span>5</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/json_array_last.out">out/json_array_last.out</a></p>
  <div><pre><code>| ident |    final     |
|-------|--------------|
| 1     | "Inphormex"  |
| 2     | "sterilizer" |
| 3     | "Inphormex"  |
| 4     | "sterilizer" |
| 5     | "sterilizer" |
</code></pre></div>

</section>
<section>

  <h2 id="modify-json">75: modify JSON</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/json_modify.sql">src/json_modify.sql</a></p>
  <div><pre><code><span>select</span>
    <span>ident</span><span>,</span>
    <span>name</span><span>,</span>
    <span>json_set</span><span>(</span><span>details</span><span>,</span> <span>'$.sold'</span><span>,</span> <span>json_quote</span><span>(</span><span>'2024-01-25'</span><span>))</span> <span>as</span> <span>updated</span>
<span>from</span> <span>machine</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/json_modify.out">out/json_modify.out</a></p>
  <div><pre><code>| ident |      name      |                           updated                            |
|-------|----------------|--------------------------------------------------------------|
| 1     | WY401          | {"acquired":"2023-05-01","sold":"2024-01-25"}                |
| 2     | Inphormex      | {"acquired":"2021-07-15","refurbished":"2023-10-22","sold":" |
|       |                | 2024-01-25"}                                                 |
| 3     | AutoPlate 9000 | {"note":"needs software update","sold":"2024-01-25"}         |
</code></pre></div>

  <ul>
    <li>Updates the in-memory copy of the JSON, <em>not</em> the database record</li>
    <li>Please use <code>json_quote</code> rather than trying to format JSON with string operations</li>
  </ul>

</section>
<section>

  <h2 id="refresh-penguins">☆ refresh penguins</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/count_penguins.sql">src/count_penguins.sql</a></p>
  <div><pre><code><span>select</span> <span>species</span><span>,</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
<span>from</span> <span>penguins</span>
<span>group</span> <span>by</span> <span>species</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/count_penguins.out">out/count_penguins.out</a></p>
  <div><pre><code>|  species  | num |
|-----------|-----|
| Adelie    | 152 |
| Chinstrap | 68  |
| Gentoo    | 124 |
</code></pre></div>

  <ul>
    <li>We will restore full database after each example</li>
  </ul>

</section>
<section>

  <h2 id="tombstones">76: tombstones</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/make_active.sql">src/make_active.sql</a></p>
  <div><pre><code><span>alter</span> <span>table</span> <span>penguins</span>
<span>add</span> <span>active</span> <span>integer</span> <span>not</span> <span>null</span> <span>default</span> <span>1</span><span>;</span>

<span>update</span> <span>penguins</span>
<span>set</span> <span>active</span> <span>=</span> <span>iif</span><span>(</span><span>species</span> <span>=</span> <span>'Adelie'</span><span>,</span> <span>0</span><span>,</span> <span>1</span><span>);</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/active_penguins.sql">src/active_penguins.sql</a></p>
  <div><pre><code><span>select</span> <span>species</span><span>,</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
<span>from</span> <span>penguins</span>
<span>where</span> <span>active</span>
<span>group</span> <span>by</span> <span>species</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/active_penguins.out">out/active_penguins.out</a></p>
  <div><pre><code>|  species  | num |
|-----------|-----|
| Chinstrap | 68  |
| Gentoo    | 124 |
</code></pre></div>

  <ul>
    <li>Use a <a href="#g:tombstone">tombstone</a> to mark (in)active records</li>
    <li>Every query must now include it</li>
  </ul>

</section>
<section>

  <h2 id="views">77: views</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/views.sql">src/views.sql</a></p>
  <div><pre><code><span>create</span> <span>view</span> <span>if</span> <span>not</span> <span>exists</span>
<span>active_penguins</span> <span>(</span>
    <span>species</span><span>,</span>
    <span>island</span><span>,</span>
    <span>bill_length_mm</span><span>,</span>
    <span>bill_depth_mm</span><span>,</span>
    <span>flipper_length_mm</span><span>,</span>
    <span>body_mass_g</span><span>,</span>
    <span>sex</span>
<span>)</span> <span>as</span>
<span>select</span>
    <span>species</span><span>,</span>
    <span>island</span><span>,</span>
    <span>bill_length_mm</span><span>,</span>
    <span>bill_depth_mm</span><span>,</span>
    <span>flipper_length_mm</span><span>,</span>
    <span>body_mass_g</span><span>,</span>
    <span>sex</span>
<span>from</span> <span>penguins</span>
<span>where</span> <span>active</span><span>;</span>

<span>select</span> <span>species</span><span>,</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>as</span> <span>num</span>
<span>from</span> <span>active_penguins</span>
<span>group</span> <span>by</span> <span>species</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/views.out">out/views.out</a></p>
  <div><pre><code>|  species  | num |
|-----------|-----|
| Chinstrap | 68  |
| Gentoo    | 124 |
</code></pre></div>

  <ul>
    <li>A <a href="#g:view">view</a> is a saved query that other queries can invoke</li>
    <li>View is re-run each time it’s used</li>
    <li>Like a CTE, but:
      <ul>
        <li>Can be shared between queries</li>
        <li>Views came first</li>
      </ul>
    </li>
    <li>Some databases offer <a href="#g:materialized_view">materialized views</a>
      <ul>
        <li>Update-on-demand temporary tables</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="hours-reminder">☆ hours reminder</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/all_jobs.sql">src/all_jobs.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>job</span> <span>(</span>
    <span>name</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>billable</span> <span>real</span> <span>not</span> <span>null</span>
<span>);</span>
<span>insert</span> <span>into</span> <span>job</span> <span>values</span>
    <span>(</span><span>'calibrate'</span><span>,</span> <span>1</span><span>.</span><span>5</span><span>),</span>
    <span>(</span><span>'clean'</span><span>,</span> <span>0</span><span>.</span><span>5</span><span>);</span>
<span>select</span> <span>*</span> <span>from</span> <span>job</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/all_jobs.out">out/all_jobs.out</a></p>
  <div><pre><code>|   name    | billable |
|-----------|----------|
| calibrate | 1.5      |
| clean     | 0.5      |
</code></pre></div>

</section>
<section>

  <h2 id="add-check">78: add check</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/all_jobs_check.sql">src/all_jobs_check.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>job</span> <span>(</span>
    <span>name</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>billable</span> <span>real</span> <span>not</span> <span>null</span><span>,</span>
    <span>check</span> <span>(</span><span>billable</span> <span>&gt;</span> <span>0</span><span>.</span><span>0</span><span>)</span>
<span>);</span>
<span>insert</span> <span>into</span> <span>job</span> <span>values</span> <span>(</span><span>'calibrate'</span><span>,</span> <span>1</span><span>.</span><span>5</span><span>);</span>
<span>insert</span> <span>into</span> <span>job</span> <span>values</span> <span>(</span><span>'reset'</span><span>,</span> <span>-</span><span>0</span><span>.</span><span>5</span><span>);</span>
<span>select</span> <span>*</span> <span>from</span> <span>job</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/all_jobs_check.out">out/all_jobs_check.out</a></p>
  <div><pre><code>Runtime error near line 9: CHECK constraint failed: billable &gt; 0.0 (19)
|   name    | billable |
|-----------|----------|
| calibrate | 1.5      |
</code></pre></div>

  <ul>
    <li><code>check</code> adds constraint to table
      <ul>
        <li>Must produce a Boolean result</li>
        <li>Run each time values added or modified</li>
      </ul>
    </li>
    <li>But changes made before the error have taken effect</li>
  </ul>

</section>
<section>

  <h2 id="acid">☆ ACID</h2>

  <ul>
    <li><a href="#g:atomic">Atomic</a>: change cannot be broken down into smaller ones (i.e., all or nothing)</li>
    <li><a href="#g:consistent">Consistent</a>: database goes from one consistent state to another</li>
    <li><a href="#g:isolated">Isolated</a>: looks like changes happened one after another</li>
    <li><a href="#g:durable">Durable</a>: if change takes place, it’s still there after a restart</li>
  </ul>

</section>
<section>

  <h2 id="transactions">79: transactions</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/transaction.sql">src/transaction.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>job</span> <span>(</span>
    <span>name</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>billable</span> <span>real</span> <span>not</span> <span>null</span><span>,</span>
    <span>check</span> <span>(</span><span>billable</span> <span>&gt;</span> <span>0</span><span>.</span><span>0</span><span>)</span>
<span>);</span>

<span>insert</span> <span>into</span> <span>job</span> <span>values</span> <span>(</span><span>'calibrate'</span><span>,</span> <span>1</span><span>.</span><span>5</span><span>);</span>

<span>begin</span> <span>transaction</span><span>;</span>
<span>insert</span> <span>into</span> <span>job</span> <span>values</span> <span>(</span><span>'clean'</span><span>,</span> <span>0</span><span>.</span><span>5</span><span>);</span>
<span>rollback</span><span>;</span>

<span>select</span> <span>*</span> <span>from</span> <span>job</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/transaction.out">out/transaction.out</a></p>
  <div><pre><code>|   name    | billable |
|-----------|----------|
| calibrate | 1.5      |
</code></pre></div>

  <ul>
    <li>Statements outside transaction execute and are committed immediately</li>
    <li>Statement(s) inside transaction don’t take effect until:
      <ul>
        <li><code>end transaction</code> (success)</li>
        <li><code>rollback</code> (undo)</li>
      </ul>
    </li>
    <li>Can have any number of statements inside a transaction</li>
    <li>But <em>cannot</em> nest transactions in SQLite
      <ul>
        <li>Other databases support this</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="rollback-in-constraint">80: rollback in constraint</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/rollback_constraint.sql">src/rollback_constraint.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>job</span> <span>(</span>
    <span>name</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>billable</span> <span>real</span> <span>not</span> <span>null</span><span>,</span>
    <span>check</span> <span>(</span><span>billable</span> <span>&gt;</span> <span>0</span><span>.</span><span>0</span><span>)</span> <span>on</span> <span>conflict</span> <span>rollback</span>
<span>);</span>

<span>insert</span> <span>into</span> <span>job</span> <span>values</span>
    <span>(</span><span>'calibrate'</span><span>,</span> <span>1</span><span>.</span><span>5</span><span>);</span>
<span>insert</span> <span>into</span> <span>job</span> <span>values</span>
    <span>(</span><span>'clean'</span><span>,</span> <span>0</span><span>.</span><span>5</span><span>),</span>
    <span>(</span><span>'reset'</span><span>,</span> <span>-</span><span>0</span><span>.</span><span>5</span><span>);</span>

<span>select</span> <span>*</span> <span>from</span> <span>job</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/rollback_constraint.out">out/rollback_constraint.out</a></p>
  <div><pre><code>Runtime error near line 11: CHECK constraint failed: billable &gt; 0.0 (19)
|   name    | billable |
|-----------|----------|
| calibrate | 1.5      |
</code></pre></div>

  <ul>
    <li>All of second <code>insert</code> rolled back as soon as error occurred</li>
    <li>But first <code>insert</code> took effect</li>
  </ul>

</section>
<section>

  <h2 id="rollback-in-statement">81: rollback in statement</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/rollback_statement.sql">src/rollback_statement.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>job</span> <span>(</span>
    <span>name</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>billable</span> <span>real</span> <span>not</span> <span>null</span><span>,</span>
    <span>check</span> <span>(</span><span>billable</span> <span>&gt;</span> <span>0</span><span>.</span><span>0</span><span>)</span>
<span>);</span>

<span>insert</span> <span>or</span> <span>rollback</span> <span>into</span> <span>job</span> <span>values</span>
    <span>(</span><span>'calibrate'</span><span>,</span> <span>1</span><span>.</span><span>5</span><span>);</span>
<span>insert</span> <span>or</span> <span>rollback</span> <span>into</span> <span>job</span> <span>values</span>
    <span>(</span><span>'clean'</span><span>,</span> <span>0</span><span>.</span><span>5</span><span>),</span>
    <span>(</span><span>'reset'</span><span>,</span> <span>-</span><span>0</span><span>.</span><span>5</span><span>);</span>

<span>select</span> <span>*</span> <span>from</span> <span>job</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/rollback_statement.out">out/rollback_statement.out</a></p>
  <div><pre><code>Runtime error near line 11: CHECK constraint failed: billable &gt; 0.0 (19)
|   name    | billable |
|-----------|----------|
| calibrate | 1.5      |
</code></pre></div>

  <ul>
    <li>Constraint is in table definition</li>
    <li>Action is in statement</li>
  </ul>

</section>
<section>

  <h2 id="upsert">82: upsert</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/upsert.sql">src/upsert.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>jobs_done</span> <span>(</span>
    <span>person</span> <span>text</span> <span>unique</span><span>,</span>
    <span>num</span> <span>integer</span> <span>default</span> <span>0</span>
<span>);</span>

<span>insert</span> <span>into</span> <span>jobs_done</span> <span>values</span><span>(</span><span>"zia"</span><span>,</span> <span>1</span><span>);</span>
<span>.</span><span>print</span> <span>"after first"</span>
<span>select</span> <span>*</span> <span>from</span> <span>jobs_done</span><span>;</span>
<span>.</span><span>print</span>


<span>insert</span> <span>into</span> <span>jobs_done</span> <span>values</span><span>(</span><span>"zia"</span><span>,</span> <span>1</span><span>);</span>
<span>.</span><span>print</span> <span>"after failed"</span>
<span>select</span> <span>*</span> <span>from</span> <span>jobs_done</span><span>;</span>

<span>insert</span> <span>into</span> <span>jobs_done</span> <span>values</span><span>(</span><span>"zia"</span><span>,</span> <span>1</span><span>)</span>
    <span>on</span> <span>conflict</span><span>(</span><span>person</span><span>)</span> <span>do</span> <span>update</span> <span>set</span> <span>num</span> <span>=</span> <span>num</span> <span>+</span> <span>1</span><span>;</span>
<span>.</span><span>print</span> <span>"</span><span>\n</span><span>after upsert"</span>
<span>select</span> <span>*</span> <span>from</span> <span>jobs_done</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/upsert.out">out/upsert.out</a></p>
  <div><pre><code>after first
| person | num |
|--------|-----|
| zia    | 1   |

Runtime error near line 14: UNIQUE constraint failed: jobs_done.person (19)
after failed
| person | num |
|--------|-----|
| zia    | 1   |

after upsert
| person | num |
|--------|-----|
| zia    | 2   |
</code></pre></div>

  <ul>
    <li><a href="#g:upsert">upsert</a> stands for “update or insert”
      <ul>
        <li>Create if record doesn’t exist</li>
        <li>Update if it does</li>
      </ul>
    </li>
    <li>Not standard SQL but widely implemented</li>
    <li>Example also shows use of SQLite <code>.print</code> command</li>
  </ul>

</section>
<section>

  <h2 id="normalization">☆ normalization</h2>

  <ul>
    <li>
      <p>First <a href="#g:normal_form">normal form</a> (1NF):
every field of every record contains one indivisible value.</p>
    </li>
    <li>
      <p>Second normal form (2NF) and third normal form (3NF):
every value in a record that isn’t a key depends solely on the key,
not on other values.</p>
    </li>
    <li>
      <p><a href="#g:denormalization">Denormalization</a>: explicitly store values that could be calculated on the fly</p>
      <ul>
        <li>To simplify queries and/or make processing faster</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="create-trigger">83: create trigger</h2>

  <ul>
    <li>A <a href="#g:trigger">trigger</a> automatically runs before or after a specified operation</li>
    <li>Can have side effects (e.g., update some other table)</li>
    <li>And/or implement checks (e.g., make sure other records exist)</li>
    <li>Add processing overhead…</li>
    <li>…but data is either cheap or correct, never both</li>
    <li>Inside trigger, refer to old and new versions of record
as <code>old.<em>column</em></code> and <code>new.<em>column</em></code></li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/trigger_setup.sql">src/trigger_setup.sql</a></p>
  <div><pre><code><span>-- Track hours of lab work.</span>
<span>create</span> <span>table</span> <span>job</span> <span>(</span>
    <span>person</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>reported</span> <span>real</span> <span>not</span> <span>null</span> <span>check</span> <span>(</span><span>reported</span> <span>&gt;=</span> <span>0</span><span>.</span><span>0</span><span>)</span>
<span>);</span>

<span>-- Explicitly store per-person total rather than using sum().</span>
<span>create</span> <span>table</span> <span>total</span> <span>(</span>
    <span>person</span> <span>text</span> <span>unique</span> <span>not</span> <span>null</span><span>,</span>
    <span>hours</span> <span>real</span>
<span>);</span>

<span>-- Initialize totals.</span>
<span>insert</span> <span>into</span> <span>total</span> <span>values</span>
    <span>(</span><span>"gene"</span><span>,</span> <span>0</span><span>.</span><span>0</span><span>),</span>
    <span>(</span><span>"august"</span><span>,</span> <span>0</span><span>.</span><span>0</span><span>);</span>

<span>-- Define a trigger.</span>
<span>create</span> <span>trigger</span> <span>total_trigger</span>
<span>before</span> <span>insert</span> <span>on</span> <span>job</span>
<span>begin</span>
    <span>-- Check that the person exists.</span>
    <span>select</span> <span>case</span>
        <span>when</span> <span>not</span> <span>exists</span> <span>(</span><span>select</span> <span>1</span> <span>from</span> <span>total</span> <span>where</span> <span>person</span> <span>=</span> <span>new</span><span>.</span><span>person</span><span>)</span>
        <span>then</span> <span>raise</span><span>(</span><span>rollback</span><span>,</span> <span>'Unknown person '</span><span>)</span>
    <span>end</span><span>;</span>
    <span>-- Update their total hours (or fail if non-negative constraint violated).</span>
    <span>update</span> <span>total</span>
    <span>set</span> <span>hours</span> <span>=</span> <span>hours</span> <span>+</span> <span>new</span><span>.</span><span>reported</span>
    <span>where</span> <span>total</span><span>.</span><span>person</span> <span>=</span> <span>new</span><span>.</span><span>person</span><span>;</span>
<span>end</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/trigger_successful.sql">src/trigger_successful.sql</a></p>
  <div><pre><code><span>insert</span> <span>into</span> <span>job</span> <span>values</span>
    <span>(</span><span>'gene'</span><span>,</span> <span>1</span><span>.</span><span>5</span><span>),</span>
    <span>(</span><span>'august'</span><span>,</span> <span>0</span><span>.</span><span>5</span><span>),</span>
    <span>(</span><span>'gene'</span><span>,</span> <span>1</span><span>.</span><span>0</span><span>)</span>
<span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/trigger_successful.out">out/trigger_successful.out</a></p>
  <div><pre><code>| person | reported |
|--------|----------|
| gene   | 1.5      |
| august | 0.5      |
| gene   | 1.0      |

| person | hours |
|--------|-------|
| gene   | 2.5   |
| august | 0.5   |
</code></pre></div>

</section>
<section>

  <h2 id="trigger-firing">081: trigger firing</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/trigger_firing.sql">src/trigger_firing.sql</a></p>
  <div><pre><code><span>insert</span> <span>into</span> <span>job</span> <span>values</span>
    <span>(</span><span>'gene'</span><span>,</span> <span>1</span><span>.</span><span>0</span><span>),</span>
    <span>(</span><span>'august'</span><span>,</span> <span>-</span><span>1</span><span>.</span><span>0</span><span>)</span>
<span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/trigger_firing.out">out/trigger_firing.out</a></p>
  <div><pre><code>Runtime error near line 6: CHECK constraint failed: reported &gt;= 0.0 (19)

| person | hours |
|--------|-------|
| gene   | 0.0   |
| august | 0.0   |
</code></pre></div>

</section>
<section>

  <h2 id="represent-graphs">☆ represent graphs</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/lineage_setup.sql">src/lineage_setup.sql</a></p>
  <div><pre><code><span>create</span> <span>table</span> <span>lineage</span> <span>(</span>
    <span>parent</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>child</span> <span>text</span> <span>not</span> <span>null</span>
<span>);</span>
<span>insert</span> <span>into</span> <span>lineage</span> <span>values</span>
    <span>(</span><span>'Arturo'</span><span>,</span> <span>'Clemente'</span><span>),</span>
    <span>(</span><span>'Darío'</span><span>,</span> <span>'Clemente'</span><span>),</span>
    <span>(</span><span>'Clemente'</span><span>,</span> <span>'Homero'</span><span>),</span>
    <span>(</span><span>'Clemente'</span><span>,</span> <span>'Ivonne'</span><span>),</span>
    <span>(</span><span>'Ivonne'</span><span>,</span> <span>'Lourdes'</span><span>),</span>
    <span>(</span><span>'Soledad'</span><span>,</span> <span>'Lourdes'</span><span>),</span>
    <span>(</span><span>'Lourdes'</span><span>,</span> <span>'Santiago'</span><span>);</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/represent_graph.sql">src/represent_graph.sql</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/represent_graph.out">out/represent_graph.out</a></p>
  <div><pre><code>|  parent  |  child   |
|----------|----------|
| Arturo   | Clemente |
| Darío    | Clemente |
| Clemente | Homero   |
| Clemente | Ivonne   |
| Ivonne   | Lourdes  |
| Soledad  | Lourdes  |
| Lourdes  | Santiago |
</code></pre></div>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/lineage.svg" alt="lineage diagram"></p>

</section>
<section>

  <h2 id="recursive-query">84: recursive query</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/recursive_lineage.sql">src/recursive_lineage.sql</a></p>
  <div><pre><code><span>with</span> <span>recursive</span> <span>descendent</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>'Clemente'</span> <span>as</span> <span>person</span><span>,</span>
        <span>0</span> <span>as</span> <span>generations</span>
    <span>union</span> <span>all</span>
    <span>select</span>
        <span>lineage</span><span>.</span><span>child</span> <span>as</span> <span>person</span><span>,</span>
        <span>descendent</span><span>.</span><span>generations</span> <span>+</span> <span>1</span> <span>as</span> <span>generations</span>
    <span>from</span> <span>descendent</span> <span>join</span> <span>lineage</span>
    <span>on</span> <span>descendent</span><span>.</span><span>person</span> <span>=</span> <span>lineage</span><span>.</span><span>parent</span>
<span>)</span>
<span>select</span> <span>person</span><span>,</span> <span>generations</span> <span>from</span> <span>descendent</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/recursive_lineage.out">out/recursive_lineage.out</a></p>
  <div><pre><code>|  person  | generations |
|----------|-------------|
| Clemente | 0           |
| Homero   | 1           |
| Ivonne   | 1           |
| Lourdes  | 2           |
| Santiago | 3           |
</code></pre></div>

  <ul>
    <li>Use a <a href="#g:recursive_cte">recursive CTE</a> to create a temporary table (<code>descendent</code>)</li>
    <li><a href="#g:base_case">Base case</a> seeds this table</li>
    <li><a href="#g:recursive_case">Recursive case</a> relies on value(s) already in that table and external table(s)</li>
    <li><code>union all</code> to combine rows
      <ul>
        <li>Can use <code>union</code> but that has lower performance (must check uniqueness each time)</li>
      </ul>
    </li>
    <li>Stops when the recursive case yields an empty row set (nothing new to add)</li>
    <li>Then select the desired values from the CTE</li>
  </ul>

</section>
<section>

  

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/contact_person.sql">src/contact_person.sql</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/contact_person.out">out/contact_person.out</a></p>
  <div><pre><code>| ident |         name          |
|-------|-----------------------|
| 1     | Juana Baeza           |
| 2     | Agustín Rodríquez     |
| 3     | Ariadna Caraballo     |
| 4     | Micaela Laboy         |
| 5     | Verónica Altamirano   |
| 6     | Reina Rivero          |
| 7     | Elias Merino          |
| 8     | Minerva Guerrero      |
| 9     | Mauro Balderas        |
| 10    | Pilar Alarcón         |
| 11    | Daniela Menéndez      |
| 12    | Marco Antonio Barrera |
| 13    | Cristal Soliz         |
| 14    | Bernardo Narváez      |
| 15    | Óscar Barrios         |
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/contact_contacts.sql">src/contact_contacts.sql</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/contact_contacts.out">out/contact_contacts.out</a></p>
  <div><pre><code>|       left        |         right         |
|-------------------|-----------------------|
| Agustín Rodríquez | Ariadna Caraballo     |
| Agustín Rodríquez | Verónica Altamirano   |
| Juana Baeza       | Verónica Altamirano   |
| Juana Baeza       | Micaela Laboy         |
| Pilar Alarcón     | Reina Rivero          |
| Cristal Soliz     | Marco Antonio Barrera |
| Cristal Soliz     | Daniela Menéndez      |
| Daniela Menéndez  | Marco Antonio Barrera |
</code></pre></div>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/contact_tracing.svg" alt="contact diagram"></p>

</section>
<section>

  

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/bidirectional.sql">src/bidirectional.sql</a></p>
  <div><pre><code><span>create</span> <span>temporary</span> <span>table</span> <span>bi_contact</span> <span>(</span>
    <span>left</span> <span>text</span><span>,</span>
    <span>right</span> <span>text</span>
<span>);</span>

<span>insert</span> <span>into</span> <span>bi_contact</span>
<span>select</span>
    <span>left</span><span>,</span> <span>right</span> <span>from</span> <span>contact</span>
    <span>union</span> <span>all</span>
    <span>select</span> <span>right</span><span>,</span> <span>left</span> <span>from</span> <span>contact</span>
<span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/bidirectional.out">out/bidirectional.out</a></p>
  <div><pre><code>| original_count |
|----------------|
| 8              |

| num_contact |
|-------------|
| 16          |
</code></pre></div>

  <ul>
    <li>Create a <a href="#g:temporary_table">temporary table</a> rather than using a long chain of CTEs
      <ul>
        <li>Only lasts as long as the session (not saved to disk)</li>
      </ul>
    </li>
    <li>Duplicate information rather than writing more complicated query</li>
  </ul>

</section>
<section>

  <h2 id="update-group-identifiers">86: update group identifiers</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/update_group_ids.sql">src/update_group_ids.sql</a></p>
  <div><pre><code><span>select</span>
    <span>left</span><span>.</span><span>name</span> <span>as</span> <span>left_name</span><span>,</span>
    <span>left</span><span>.</span><span>ident</span> <span>as</span> <span>left_ident</span><span>,</span>
    <span>right</span><span>.</span><span>name</span> <span>as</span> <span>right_name</span><span>,</span>
    <span>right</span><span>.</span><span>ident</span> <span>as</span> <span>right_ident</span><span>,</span>
    <span>min</span><span>(</span><span>left</span><span>.</span><span>ident</span><span>,</span> <span>right</span><span>.</span><span>ident</span><span>)</span> <span>as</span> <span>new_ident</span>
<span>from</span>
    <span>(</span><span>person</span> <span>as</span> <span>left</span> <span>join</span> <span>bi_contact</span> <span>on</span> <span>left</span><span>.</span><span>name</span> <span>=</span> <span>bi_contact</span><span>.</span><span>left</span><span>)</span>
    <span>join</span> <span>person</span> <span>as</span> <span>right</span> <span>on</span> <span>bi_contact</span><span>.</span><span>right</span> <span>=</span> <span>right</span><span>.</span><span>name</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/update_group_ids.out">out/update_group_ids.out</a></p>
  <div><pre><code>|       left_name       | left_ident |      right_name       | right_ident | new_ident |
|-----------------------|------------|-----------------------|-------------|-----------|
| Juana Baeza           | 1          | Micaela Laboy         | 4           | 1         |
| Juana Baeza           | 1          | Verónica Altamirano   | 5           | 1         |
| Agustín Rodríquez     | 2          | Ariadna Caraballo     | 3           | 2         |
| Agustín Rodríquez     | 2          | Verónica Altamirano   | 5           | 2         |
| Ariadna Caraballo     | 3          | Agustín Rodríquez     | 2           | 2         |
| Micaela Laboy         | 4          | Juana Baeza           | 1           | 1         |
| Verónica Altamirano   | 5          | Agustín Rodríquez     | 2           | 2         |
| Verónica Altamirano   | 5          | Juana Baeza           | 1           | 1         |
| Reina Rivero          | 6          | Pilar Alarcón         | 10          | 6         |
| Pilar Alarcón         | 10         | Reina Rivero          | 6           | 6         |
| Daniela Menéndez      | 11         | Cristal Soliz         | 13          | 11        |
| Daniela Menéndez      | 11         | Marco Antonio Barrera | 12          | 11        |
| Marco Antonio Barrera | 12         | Cristal Soliz         | 13          | 12        |
| Marco Antonio Barrera | 12         | Daniela Menéndez      | 11          | 11        |
| Cristal Soliz         | 13         | Daniela Menéndez      | 11          | 11        |
| Cristal Soliz         | 13         | Marco Antonio Barrera | 12          | 12        |
</code></pre></div>

  <ul>
    <li><code>new_ident</code> is minimum of own identifier and identifiers one step away</li>
    <li>Doesn’t keep people with no contacts</li>
  </ul>

</section>
<section>

  <h2 id="recursive-labeling">87: recursive labeling</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/recursive_labeling.sql">src/recursive_labeling.sql</a></p>
  <div><pre><code><span>with</span> <span>recursive</span> <span>labeled</span> <span>as</span> <span>(</span>
    <span>select</span>
        <span>person</span><span>.</span><span>name</span> <span>as</span> <span>name</span><span>,</span>
	<span>person</span><span>.</span><span>ident</span> <span>as</span> <span>label</span>
    <span>from</span>
        <span>person</span>
    <span>union</span> <span>-- not 'union all'</span>
    <span>select</span>
        <span>person</span><span>.</span><span>name</span> <span>as</span> <span>name</span><span>,</span>
	<span>labeled</span><span>.</span><span>label</span> <span>as</span> <span>label</span>
    <span>from</span>
        <span>(</span><span>person</span> <span>join</span> <span>bi_contact</span> <span>on</span> <span>person</span><span>.</span><span>name</span> <span>=</span> <span>bi_contact</span><span>.</span><span>left</span><span>)</span>
	<span>join</span> <span>labeled</span> <span>on</span> <span>bi_contact</span><span>.</span><span>right</span> <span>=</span> <span>labeled</span><span>.</span><span>name</span>
    <span>where</span> <span>labeled</span><span>.</span><span>label</span> <span>&lt;</span> <span>person</span><span>.</span><span>ident</span>
<span>)</span>
<span>select</span> <span>name</span><span>,</span> <span>min</span><span>(</span><span>label</span><span>)</span> <span>as</span> <span>group_id</span>
<span>from</span> <span>labeled</span>
<span>group</span> <span>by</span> <span>name</span>
<span>order</span> <span>by</span> <span>label</span><span>,</span> <span>name</span><span>;</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/recursive_labeling.out">out/recursive_labeling.out</a></p>
  <div><pre><code>|         name          | group_id |
|-----------------------|----------|
| Agustín Rodríquez     | 1        |
| Ariadna Caraballo     | 1        |
| Juana Baeza           | 1        |
| Micaela Laboy         | 1        |
| Verónica Altamirano   | 1        |
| Pilar Alarcón         | 6        |
| Reina Rivero          | 6        |
| Elias Merino          | 7        |
| Minerva Guerrero      | 8        |
| Mauro Balderas        | 9        |
| Cristal Soliz         | 11       |
| Daniela Menéndez      | 11       |
| Marco Antonio Barrera | 11       |
| Bernardo Narváez      | 14       |
| Óscar Barrios         | 15       |
</code></pre></div>

  <ul>
    <li>Use <code>union</code> instead of <code>union all</code> to prevent <a href="#g:infinite_recursion">infinite recursion</a></li>
  </ul>

</section>
<section>

  <h2 id="query-from-python">88: query from Python</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/basic_python_query.py">src/basic_python_query.py</a></p>
  <div><pre><code><span>import</span> <span>sqlite3</span>

<span>connection</span> <span>=</span> <span>sqlite3</span><span>.</span><span>connect</span><span>(</span><span>"db/penguins.db"</span><span>)</span>
<span>cursor</span> <span>=</span> <span>connection</span><span>.</span><span>execute</span><span>(</span><span>"select count(*) from penguins;"</span><span>)</span>
<span>rows</span> <span>=</span> <span>cursor</span><span>.</span><span>fetchall</span><span>()</span>
<span>print</span><span>(</span><span>rows</span><span>)</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/basic_python_query.out">out/basic_python_query.out</a></p>
  

  <ul>
    <li><code>sqlite3</code> is part of Python’s standard library</li>
    <li>Create a connection to a database file</li>
    <li>Get a <a href="#g:cursor">cursor</a> by executing a query
      <ul>
        <li>More common to create cursor and use that to run queries</li>
      </ul>
    </li>
    <li>Fetch all rows at once as list of tuples</li>
  </ul>

</section>
<section>

  <h2 id="incremental-fetch">89: incremental fetch</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/incremental_fetch.py">src/incremental_fetch.py</a></p>
  <div><pre><code><span>import</span> <span>sqlite3</span>

<span>connection</span> <span>=</span> <span>sqlite3</span><span>.</span><span>connect</span><span>(</span><span>"db/penguins.db"</span><span>)</span>
<span>cursor</span> <span>=</span> <span>connection</span><span>.</span><span>cursor</span><span>()</span>
<span>cursor</span> <span>=</span> <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"select species, island from penguins limit 5;"</span><span>)</span>
<span>while</span> <span>row</span> <span>:</span><span>=</span> <span>cursor</span><span>.</span><span>fetchone</span><span>():</span>
    <span>print</span><span>(</span><span>row</span><span>)</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/incremental_fetch.out">out/incremental_fetch.out</a></p>
  <div><pre><code>('Adelie', 'Torgersen')
('Adelie', 'Torgersen')
('Adelie', 'Torgersen')
('Adelie', 'Torgersen')
('Adelie', 'Torgersen')
</code></pre></div>

  <ul>
    <li><code>cursor.fetchone</code> returns <code>None</code> when no more data</li>
    <li>There is also <code>fetchmany(N)</code> to fetch (up to) a certain number of rows</li>
  </ul>

</section>
<section>

  <h2 id="insert-delete-and-all-that">90: insert, delete, and all that</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/insert_delete.py">src/insert_delete.py</a></p>
  <div><pre><code><span>import</span> <span>sqlite3</span>

<span>connection</span> <span>=</span> <span>sqlite3</span><span>.</span><span>connect</span><span>(</span><span>":memory:"</span><span>)</span>
<span>cursor</span> <span>=</span> <span>connection</span><span>.</span><span>cursor</span><span>()</span>
<span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"create table example(num integer);"</span><span>)</span>

<span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"insert into example values (10), (20);"</span><span>)</span>
<span>print</span><span>(</span><span>"after insertion"</span><span>,</span> <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"select * from example;"</span><span>).</span><span>fetchall</span><span>())</span>

<span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"delete from example where num &lt; 15;"</span><span>)</span>
<span>print</span><span>(</span><span>"after deletion"</span><span>,</span> <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"select * from example;"</span><span>).</span><span>fetchall</span><span>())</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/insert_delete.out">out/insert_delete.out</a></p>
  <div><pre><code>after insertion [(10,), (20,)]
after deletion [(20,)]
</code></pre></div>

  <ul>
    <li>Each <code>execute</code> is its own transaction</li>
  </ul>

</section>
<section>

  <h2 id="interpolate-values">91: interpolate values</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/interpolate.py">src/interpolate.py</a></p>
  <div><pre><code><span>import</span> <span>sqlite3</span>

<span>connection</span> <span>=</span> <span>sqlite3</span><span>.</span><span>connect</span><span>(</span><span>":memory:"</span><span>)</span>
<span>cursor</span> <span>=</span> <span>connection</span><span>.</span><span>cursor</span><span>()</span>
<span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"create table example(num integer);"</span><span>)</span>

<span>cursor</span><span>.</span><span>executemany</span><span>(</span><span>"insert into example values (?);"</span><span>,</span> <span>[(</span><span>10</span><span>,),</span> <span>(</span><span>20</span><span>,)])</span>
<span>print</span><span>(</span><span>"after insertion"</span><span>,</span> <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"select * from example;"</span><span>).</span><span>fetchall</span><span>())</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/interpolate.out">out/interpolate.out</a></p>
  <div><pre><code>after insertion [(10,), (20,)]
</code></pre></div>

  <ul>
    <li>From <a href="https://xkcd.com/327/">XKCD</a></li>
  </ul>

  <p><img src="https://gvwilson.github.io/sql-tutorial/img/xkcd_327_exploits_of_a_mom.png" alt="XKCD Exploits of a Mom"></p>

</section>
<section>

  <h2 id="script-execution">92: script execution</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/script_execution.py">src/script_execution.py</a></p>
  <div><pre><code><span>import</span> <span>sqlite3</span>

<span>SETUP</span> <span>=</span> <span>"""</span><span>\
</span><span>drop table if exists example;
create table example(num integer);
insert into example values (10), (20);
"""</span>

<span>connection</span> <span>=</span> <span>sqlite3</span><span>.</span><span>connect</span><span>(</span><span>":memory:"</span><span>)</span>
<span>cursor</span> <span>=</span> <span>connection</span><span>.</span><span>cursor</span><span>()</span>
<span>cursor</span><span>.</span><span>executescript</span><span>(</span><span>SETUP</span><span>)</span>
<span>print</span><span>(</span><span>"after insertion"</span><span>,</span> <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"select * from example;"</span><span>).</span><span>fetchall</span><span>())</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/script_execution.out">out/script_execution.out</a></p>
  <div><pre><code>after insertion [(10,), (20,)]
</code></pre></div>

  <ul>
    <li>But what if something goes wrong?</li>
  </ul>

</section>
<section>

  <h2 id="sqlite-exceptions-in-python">93: SQLite exceptions in Python</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/exceptions.py">src/exceptions.py</a></p>
  <div><pre><code><span>import</span> <span>sqlite3</span>

<span>SETUP</span> <span>=</span> <span>"""</span><span>\
</span><span>create table example(num integer check(num &gt; 0));
insert into example values (10);
insert into example values (-1);
insert into example values (20);
"""</span>

<span>connection</span> <span>=</span> <span>sqlite3</span><span>.</span><span>connect</span><span>(</span><span>":memory:"</span><span>)</span>
<span>cursor</span> <span>=</span> <span>connection</span><span>.</span><span>cursor</span><span>()</span>
<span>try</span><span>:</span>
    <span>cursor</span><span>.</span><span>executescript</span><span>(</span><span>SETUP</span><span>)</span>
<span>except</span> <span>sqlite3</span><span>.</span><span>Error</span> <span>as</span> <span>exc</span><span>:</span>
    <span>print</span><span>(</span><span>f</span><span>"SQLite exception: </span><span>{</span><span>exc</span><span>}</span><span>"</span><span>)</span>
<span>print</span><span>(</span><span>"after execution"</span><span>,</span> <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"select * from example;"</span><span>).</span><span>fetchall</span><span>())</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/exceptions.out">out/exceptions.out</a></p>
  <div><pre><code>SQLite exception: CHECK constraint failed: num &gt; 0
after execution [(10,)]
</code></pre></div>

</section>
<section>

  <h2 id="python-in-sqlite">94: Python in SQLite</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/embedded_python.py">src/embedded_python.py</a></p>
  <div><pre><code><span>import</span> <span>sqlite3</span>

<span>SETUP</span> <span>=</span> <span>"""</span><span>\
</span><span>create table example(num integer);
insert into example values (-10), (10), (20), (30);
"""</span>


<span>def</span> <span>clip</span><span>(</span><span>value</span><span>):</span>
    <span>if</span> <span>value</span> <span>&lt;</span> <span>0</span><span>:</span>
        <span>return</span> <span>0</span>
    <span>if</span> <span>value</span> <span>&gt;</span> <span>20</span><span>:</span>
        <span>return</span> <span>20</span>
    <span>return</span> <span>value</span>


<span>connection</span> <span>=</span> <span>sqlite3</span><span>.</span><span>connect</span><span>(</span><span>":memory:"</span><span>)</span>
<span>connection</span><span>.</span><span>create_function</span><span>(</span><span>"clip"</span><span>,</span> <span>1</span><span>,</span> <span>clip</span><span>)</span>
<span>cursor</span> <span>=</span> <span>connection</span><span>.</span><span>cursor</span><span>()</span>
<span>cursor</span><span>.</span><span>executescript</span><span>(</span><span>SETUP</span><span>)</span>
<span>for</span> <span>row</span> <span>in</span> <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"select num, clip(num) from example;"</span><span>).</span><span>fetchall</span><span>():</span>
    <span>print</span><span>(</span><span>row</span><span>)</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/embedded_python.out">out/embedded_python.out</a></p>
  <div><pre><code>(-10, 0)
(10, 10)
(20, 20)
(30, 20)
</code></pre></div>

  <ul>
    <li>SQLite calls back into Python to execute the function</li>
    <li>Other databases can run Python (and other languages) in the database server process</li>
    <li>Be careful</li>
  </ul>

</section>
<section>

  <h2 id="handle-dates-and-times">95: handle dates and times</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/dates_times.py">src/dates_times.py</a></p>
  <div><pre><code><span>from</span> <span>datetime</span> <span>import</span> <span>date</span>
<span>import</span> <span>sqlite3</span>


<span># Convert date to ISO-formatted string when writing to database
</span><span>def</span> <span>_adapt_date_iso</span><span>(</span><span>val</span><span>):</span>
    <span>return</span> <span>val</span><span>.</span><span>isoformat</span><span>()</span>


<span>sqlite3</span><span>.</span><span>register_adapter</span><span>(</span><span>date</span><span>,</span> <span>_adapt_date_iso</span><span>)</span>


<span># Convert ISO-formatted string to date when reading from database
</span><span>def</span> <span>_convert_date</span><span>(</span><span>val</span><span>):</span>
    <span>return</span> <span>date</span><span>.</span><span>fromisoformat</span><span>(</span><span>val</span><span>.</span><span>decode</span><span>())</span>


<span>sqlite3</span><span>.</span><span>register_converter</span><span>(</span><span>"date"</span><span>,</span> <span>_convert_date</span><span>)</span>

<span>SETUP</span> <span>=</span> <span>"""</span><span>\
</span><span>create table events(
    happened date not null,
    description text not null
);
"""</span>

<span>connection</span> <span>=</span> <span>sqlite3</span><span>.</span><span>connect</span><span>(</span><span>":memory:"</span><span>,</span> <span>detect_types</span><span>=</span><span>sqlite3</span><span>.</span><span>PARSE_DECLTYPES</span><span>)</span>
<span>cursor</span> <span>=</span> <span>connection</span><span>.</span><span>cursor</span><span>()</span>
<span>cursor</span><span>.</span><span>execute</span><span>(</span><span>SETUP</span><span>)</span>

<span>cursor</span><span>.</span><span>executemany</span><span>(</span>
    <span>"insert into events values (?, ?);"</span><span>,</span>
    <span>[(</span><span>date</span><span>(</span><span>2024</span><span>,</span> <span>1</span><span>,</span> <span>10</span><span>),</span> <span>"started tutorial"</span><span>),</span> <span>(</span><span>date</span><span>(</span><span>2024</span><span>,</span> <span>1</span><span>,</span> <span>29</span><span>),</span> <span>"finished tutorial"</span><span>)],</span>
<span>)</span>

<span>for</span> <span>row</span> <span>in</span> <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"select * from events;"</span><span>).</span><span>fetchall</span><span>():</span>
    <span>print</span><span>(</span><span>row</span><span>)</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/dates_times.out">out/dates_times.out</a></p>
  <div><pre><code>(datetime.date(2024, 1, 10), 'started tutorial')
(datetime.date(2024, 1, 29), 'finished tutorial')
</code></pre></div>

  <ul>
    <li><code>sqlite3.PARSE_DECLTYPES</code> tells <code>sqlite3</code> library to use converts based on declared column types</li>
    <li>Adapt on the way in, convert on the way out</li>
  </ul>

</section>
<section>

  <h2 id="sql-in-jupyter-notebooks">96: SQL in Jupyter notebooks</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/install_jupysql.sh">src/install_jupysql.sh</a></p>
  

  <ul>
    <li>And then inside the notebook:</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/load_ext.text">src/load_ext.text</a></p>
  

  <ul>
    <li>Loads extension</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/jupyter_connect.text">src/jupyter_connect.text</a></p>
  <div><pre><code>%sql sqlite:///data/penguins.db
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/jupyter_connect.out">out/jupyter_connect.out</a></p>
  <div><pre><code>Connecting to 'sqlite:///data/penguins.db'
</code></pre></div>

  <ul>
    <li>Connects to database
      <ul>
        <li><code>sqlite://</code> with two slashes is the protocol</li>
        <li><code>/data/penguins.db</code> (one leading slash) is a local path</li>
      </ul>
    </li>
    <li>Single percent sign <code>%sql</code> introduces one-line command</li>
    <li>Use double percent sign <code>%%sql</code> to indicate that the rest of the cell is SQL</li>
  </ul>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/jupyter_select.text">src/jupyter_select.text</a></p>
  <div><pre><code>%%sql
select species, count(*) as num
from penguins
group by species;
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/jupyter_select.out">out/jupyter_select.out</a></p>
  <div><pre><code>Running query in 'sqlite:///data/penguins.db'
</code></pre></div>

  <table>
  <thead>
    <tr>
      <th>species</th>
      <th>num</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Adelie</td>
      <td>152</td>
    </tr>
    <tr>
      <td>Chinstrap</td>
      <td>68</td>
    </tr>
    <tr>
      <td>Gentoo</td>
      <td>124</td>
    </tr>
  </tbody>
</table>

</section>
<section>

  <h2 id="pandas-and-sql">97: Pandas and SQL</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/install_pandas.sh">src/install_pandas.sh</a></p>
  

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/select_pandas.py">src/select_pandas.py</a></p>
  <div><pre><code><span>import</span> <span>pandas</span> <span>as</span> <span>pd</span>
<span>import</span> <span>sqlite3</span>

<span>connection</span> <span>=</span> <span>sqlite3</span><span>.</span><span>connect</span><span>(</span><span>"db/penguins.db"</span><span>)</span>
<span>query</span> <span>=</span> <span>"select species, count(*) as num from penguins group by species;"</span>
<span>df</span> <span>=</span> <span>pd</span><span>.</span><span>read_sql</span><span>(</span><span>query</span><span>,</span> <span>connection</span><span>)</span>
<span>print</span><span>(</span><span>df</span><span>)</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/select_pandas.out">out/select_pandas.out</a></p>
  <div><pre><code>species  num
0     Adelie  152
1  Chinstrap   68
2     Gentoo  124
</code></pre></div>

  <ul>
    <li>Be careful about datatype conversion</li>
  </ul>

</section>
<section>

  <h2 id="polars-and-sql">98: Polars and SQL</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/install_polars.sh">src/install_polars.sh</a></p>
  <div><pre><code>pip <span>install </span>polars pyarrow adbc-driver-sqlite
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/select_polars.py">src/select_polars.py</a></p>
  <div><pre><code><span>import</span> <span>polars</span> <span>as</span> <span>pl</span>

<span>query</span> <span>=</span> <span>"select species, count(*) as num from penguins group by species;"</span>
<span>uri</span> <span>=</span> <span>"sqlite:///db/penguins.db"</span>
<span>df</span> <span>=</span> <span>pl</span><span>.</span><span>read_database_uri</span><span>(</span><span>query</span><span>,</span> <span>uri</span><span>,</span> <span>engine</span><span>=</span><span>"adbc"</span><span>)</span>
<span>print</span><span>(</span><span>df</span><span>)</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/select_polars.out">out/select_polars.out</a></p>
  <div><pre><code>shape: (3, 2)
┌───────────┬─────┐
│ species   ┆ num │
│ ---       ┆ --- │
│ str       ┆ i64 │
╞═══════════╪═════╡
│ Adelie    ┆ 152 │
│ Chinstrap ┆ 68  │
│ Gentoo    ┆ 124 │
└───────────┴─────┘
</code></pre></div>

  <ul>
    <li>The <a href="#g:uri">Uniform Resource Identifier</a> (URI) specifies the database</li>
    <li>The query is the query</li>
    <li>Use the ADBC engine instead of the default ConnectorX</li>
  </ul>

</section>
<section>

  <h2 id="object-relational-mapper">99: object-relational mapper</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/orm.py">src/orm.py</a></p>
  <div><pre><code><span>from</span> <span>sqlmodel</span> <span>import</span> <span>Field</span><span>,</span> <span>Session</span><span>,</span> <span>SQLModel</span><span>,</span> <span>create_engine</span><span>,</span> <span>select</span>


<span>class</span> <span>Department</span><span>(</span><span>SQLModel</span><span>,</span> <span>table</span><span>=</span><span>True</span><span>):</span>
    <span>ident</span><span>:</span> <span>str</span> <span>=</span> <span>Field</span><span>(</span><span>default</span><span>=</span><span>None</span><span>,</span> <span>primary_key</span><span>=</span><span>True</span><span>)</span>
    <span>name</span><span>:</span> <span>str</span>
    <span>building</span><span>:</span> <span>str</span>


<span>engine</span> <span>=</span> <span>create_engine</span><span>(</span><span>"sqlite:///db/assays.db"</span><span>)</span>
<span>with</span> <span>Session</span><span>(</span><span>engine</span><span>)</span> <span>as</span> <span>session</span><span>:</span>
    <span>statement</span> <span>=</span> <span>select</span><span>(</span><span>Department</span><span>)</span>
    <span>for</span> <span>result</span> <span>in</span> <span>session</span><span>.</span><span>exec</span><span>(</span><span>statement</span><span>).</span><span>all</span><span>():</span>
        <span>print</span><span>(</span><span>result</span><span>)</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/orm.out">out/orm.out</a></p>
  <div><pre><code>building='Chesson' name='Genetics' ident='gen'
building='Fashet Extension' name='Histology' ident='hist'
building='Chesson' name='Molecular Biology' ident='mb'
building='TGVH' name='Endocrinology' ident='end'
</code></pre></div>

  <ul>
    <li>An <a href="#g:orm">object-relational mapper</a> (ORM) translates table columns to object properties and vice versa</li>
    <li>SQLModel relies on Python type hints</li>
  </ul>

</section>
<section>

  <h2 id="relations-with-orm">100: relations with ORM</h2>

  <p><a href="https://gvwilson.github.io/sql-tutorial/src/orm_relation.py">src/orm_relation.py</a></p>
  <div><pre><code><span>class</span> <span>Staff</span><span>(</span><span>SQLModel</span><span>,</span> <span>table</span><span>=</span><span>True</span><span>):</span>
    <span>ident</span><span>:</span> <span>str</span> <span>=</span> <span>Field</span><span>(</span><span>default</span><span>=</span><span>None</span><span>,</span> <span>primary_key</span><span>=</span><span>True</span><span>)</span>
    <span>personal</span><span>:</span> <span>str</span>
    <span>family</span><span>:</span> <span>str</span>
    <span>dept</span><span>:</span> <span>Optional</span><span>[</span><span>str</span><span>]</span> <span>=</span> <span>Field</span><span>(</span><span>default</span><span>=</span><span>None</span><span>,</span> <span>foreign_key</span><span>=</span><span>"department.ident"</span><span>)</span>
    <span>age</span><span>:</span> <span>int</span>


<span>engine</span> <span>=</span> <span>create_engine</span><span>(</span><span>"sqlite:///db/assays.db"</span><span>)</span>
<span>SQLModel</span><span>.</span><span>metadata</span><span>.</span><span>create_all</span><span>(</span><span>engine</span><span>)</span>
<span>with</span> <span>Session</span><span>(</span><span>engine</span><span>)</span> <span>as</span> <span>session</span><span>:</span>
    <span>statement</span> <span>=</span> <span>select</span><span>(</span><span>Department</span><span>,</span> <span>Staff</span><span>).</span><span>where</span><span>(</span><span>Staff</span><span>.</span><span>dept</span> <span>==</span> <span>Department</span><span>.</span><span>ident</span><span>)</span>
    <span>for</span> <span>dept</span><span>,</span> <span>staff</span> <span>in</span> <span>session</span><span>.</span><span>exec</span><span>(</span><span>statement</span><span>):</span>
        <span>print</span><span>(</span><span>f</span><span>"</span><span>{</span><span>dept</span><span>.</span><span>name</span><span>}</span><span>: </span><span>{</span><span>staff</span><span>.</span><span>personal</span><span>}</span><span> </span><span>{</span><span>staff</span><span>.</span><span>family</span><span>}</span><span>"</span><span>)</span>
</code></pre></div>

  <p><a href="https://gvwilson.github.io/sql-tutorial/out/orm_relation.out">out/orm_relation.out</a></p>
  <div><pre><code>Histology: Divit Dhaliwal
Molecular Biology: Indrans Sridhar
Molecular Biology: Pranay Khanna
Histology: Vedika Rout
Genetics: Abram Chokshi
Histology: Romil Kapoor
Molecular Biology: Ishaan Ramaswamy
Genetics: Nitya Lal
</code></pre></div>

  <ul>
    <li>Make foreign keys explicit in class definitions</li>
    <li>SQLModel automatically does the join
      <ul>
        <li>The two staff with no department aren’t included in the result</li>
      </ul>
    </li>
  </ul>

</section>
<section>

  <h2 id="appendices">☆ Appendices</h2>

  <h2 id="terms">☆  Terms</h2>

  <dl>
  
  <dt id="g:1_to_1">1-to-1 relation</dt>
  <dd>A relationship between two tables in which each record from the first table matches exactly one record from the second and vice versa.
</dd>
  
  <dt id="g:1_to_many">1-to-many relation</dt>
  <dd>A relationship between two tables in which each record from the first table matches zero or more records from the second, but each record from the second table matches exactly one record from the first.
</dd>
  
  <dt id="g:aggregation">aggregation</dt>
  <dd>Combining several values to produce one.
</dd>
  
  <dt id="g:aggregation_func">aggregation function</dt>
  <dd>A function used to produce one value from many, such as maximum or addition.
</dd>
  
  <dt id="g:alias">alias</dt>
  <dd>An alternate name used temporarily for a table or column.
</dd>
  
  <dt id="g:atomic">atomic</dt>
  <dd>An operation that cannot be broken into smaller operations.
</dd>
  
  <dt id="g:autoincrement">autoincrement</dt>
  <dd>Automatically add one to a value.
</dd>
  
  <dt id="g:base_case">base case</dt>
  <dd>A starting point for recursion that does not depend on previous recursive calculations.
</dd>
  
  <dt id="g:blob">Binary Large Object (blob)</dt>
  <dd>Bytes that are handled as-is rather than being interpreted as numbers, text, or other data types.
</dd>
  
  <dt id="g:cross_join">cross join</dt>
  <dd>A join that creates the cross-product of rows from two tables.
</dd>
  
  <dt id="g:cte">common table expression (CTE)</dt>
  <dd>A temporary table created at the start of a query, usually to simplify writing the query.
</dd>
  
  <dt id="g:consistent">consistent</dt>
  <dd>A state in which all constraints are satisfied, e.g., all columns contain allowed values and all foreign keys refer to primary keys.
</dd>
  
  
  <dd>A subquery that depends on a value or values from the enclosing query, and which must therefore be executed once for each of those values.
</dd>
  
  <dt id="g:cursor">cursor</dt>
  <dd>A reference to the current location in the results of an ongoing query.
</dd>
  
  <dt id="g:data_migration">data migration</dt>
  <dd>To move data from one form to another, e.g., from one set of tables to a new set or from one DBMS to another.
</dd>
  
  <dt id="g:database">database</dt>
  <dd>A collection of data that can be searched and retrieved.
</dd>
  
  <dt id="g:dbms">database management system (DBMS)</dt>
  <dd>A program that manages a particular kind of database.
</dd>
  
  <dt id="g:denormalization">denormalization</dt>
  <dd>To deliberately introduce duplication or other violate normal forms, typically to improve query performance.
</dd>
  
  <dt id="g:durable">durable</dt>
  <dd>Guaranteed to survive shutdown and restart.
</dd>
  
  <dt id="g:er_diagram">entity-relationship diagram</dt>
  <dd>A graphical depiction of the relationships between tables in a database.
</dd>
  
  <dt id="g:filter">filter</dt>
  <dd>To select records based on whether they pass some Boolean test.
</dd>
  
  <dt id="g:foreign_key">foreign key</dt>
  <dd>A value in one table that identifies a primary key in another table.
</dd>
  
  <dt id="g:full_outer_join">full outer join</dt>
  <dd>See <a href="#g:cross_join">cross join</a>.
</dd>
  
  <dt id="g:group">group</dt>
  <dd>A set of records that share a common property, such as having the same value in a particular column.
</dd>
  
  <dt id="g:in_memory_db">in-memory database</dt>
  <dd>A database that is stored in memory rather than on disk.
</dd>
  
  <dt id="g:index">index</dt>
  <dd>An auxiliary data structure that enables faster access to records.
</dd>
  
  <dt id="g:infinite_recursion">infinite recursion</dt>
  <dd>See “infinite recursion”.
</dd>
  
  <dt id="g:isolated">isolated</dt>
  <dd>The appearance of having executed in an otherwise-idle system.
</dd>
  
  <dt id="g:join">join</dt>
  <dd>To combine records from two tables.
</dd>
  
  <dt id="g:join_condition">join condition</dt>
  <dd>The criteria used to decide which rows from each table in a join are combined.
</dd>
  
  <dt id="g:join_table">join table</dt>
  <dd>A table that exists solely to enable information from two tables to be connected.
</dd>
  
  <dt id="g:left_outer_join">left outer join</dt>
  <dd>A join that is guaranteed to keep all rows from the first (left) table. Columns from the right table are filled with actual values if available or with null otherwise.
</dd>
  
  <dt id="g:many_to_many">many-to-many relation</dt>
  <dd>A relationship between two tables in which each record from the first table may match zero or more records from the second and vice versa.
</dd>
  
  <dt id="g:materialized_view">materialized view</dt>
  <dd>A view that is stored on disk and updated on demand.
</dd>
  
  <dt id="g:normal_form">normal form</dt>
  <dd>One of several (loosely defined) rules for organizing data in tables.
</dd>
  
  <dt id="g:nosql">NoSQL database</dt>
  <dd>Any database that doesn’t use the relational model.
</dd>
  
  <dt id="g:null">null</dt>
  <dd>A special value representing “not known”.
</dd>
  
  <dt id="g:orm">object-relational mapper (ORM)</dt>
  <dd>A library that translates objects in a program into database queries and the results of those queries back into objects.
</dd>
  
  <dt id="g:path_expression">path expression</dt>
  <dd>An expression identifying an element or a set of elements in a JSON structure.
</dd>
  
  <dt id="g:primary_key">primary key</dt>
  <dd>A value or values in a database table that uniquely identifies each record in that table.
</dd>
  
  <dt id="g:query">query</dt>
  <dd>A command to perform some operation in a database (typically data retrieval).
</dd>
  
  <dt id="g:recursive_cte">recursive CTE</dt>
  <dd>A common table expression that refers to itself. Every recursive CTE must have a base case and a recursive case.
</dd>
  
  <dt id="g:recursive_case">recursive case</dt>
  <dd>The second or subsequent step in self-referential accumulation of data.
</dd>
  
  <dt id="g:rdbms">relational database management system (RDBMS)</dt>
  <dd>A database management system that stores data in tables with columns and rows.
</dd>
  
  <dt id="g:subquery">subquery</dt>
  <dd>A query used within another query.
</dd>
  
  <dt id="g:table_valued_func">table-valued function</dt>
  <dd>A function that returns multiple values rather than a single value.
</dd>
  
  <dt id="g:temporary_table">temporary table</dt>
  <dd>A table that is explicitly constructed in memory outside any particular query.
</dd>
  
  <dt id="g:ternary_logic">ternary logic</dt>
  <dd>A logic based on three values: true, false, and “don’t know” (represented as null).
</dd>
  
  <dt id="g:tombstone">tombstone</dt>
  <dd>A marker value added to a record to show that it is no longer active. Tombstones are used as an alternative to deleting data.
</dd>
  
  <dt id="g:trigger">trigger</dt>
  <dd>An action that runs automatically when something happens in a database, typically insertion or deletion.
</dd>
  
  <dt id="g:upsert">upsert</dt>
  <dd>To update a record if it exists or insert (create) a new record if it doesn’t.
</dd>
  
  <dt id="g:uri">Uniform Resource Identifier (URI)</dt>
  <dd>A string that identifies a resource (such as a web page or database) and the protocol used to access it.
</dd>
  
  <dt id="g:view">view</dt>
  <dd>A rearrangement of data in a database that is regenerated on demand.
</dd>
  
  <dt id="g:window_func">window function</dt>
  <dd>A function that combines data from adjacent rows in a database query’s result.
</dd>
  
</dl>

  <h2 id="acknowledgments">☆  Acknowledgments</h2>

  <p>This tutorial would not have been possible without:</p>

  <ul>
    <li><a href="http://andialbrecht.de/">Andi Albrecht</a>’s <a href="https://pypi.org/project/sqlparse/"><code>sqlparse</code></a> module</li>
    <li><a href="https://tapoueh.org/">Dimitri Fontaine</a>’s <a href="https://theartofpostgresql.com/"><em>The Art of PostgreSQL</em></a></li>
    <li>David Rozenshtein’s <em>The Essence of SQL</em> (now sadly out of print)</li>
  </ul>

  <p>I would also like to thank the following for spotting issues, making suggestions, or submitting changes:</p>

  <ul>
    <li>Sam Hames</li>
    <li>Robert Kern</li>
    <li>Roy Pardee</li>
    <li>Manos Pitsidianakis</li>
    <li>Daniel Possenriede</li>
    <li>Adam Rosien</li>
    <li>Thomas Sandmann</li>
    <li>Simon Willison</li>
  </ul>

</section>


    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Alaska Airlines flight 1282 NTSB preliminary report [pdf] (255 pts)]]></title>
            <link>https://www.ntsb.gov/investigations/Documents/DCA24MA063%20Preliminary%20report.pdf</link>
            <guid>39280756</guid>
            <pubDate>Tue, 06 Feb 2024 21:17:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ntsb.gov/investigations/Documents/DCA24MA063%20Preliminary%20report.pdf">https://www.ntsb.gov/investigations/Documents/DCA24MA063%20Preliminary%20report.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=39280756">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[New IBM LinuxONE 4 Express – Rack-mounted pre-configured Linux mainframe (137 pts)]]></title>
            <link>https://newsroom.ibm.com/2024-02-06-New-IBM-LinuxONE-4-Express-to-Offer-Cost-Savings-and-Client-Value-through-a-Cyber-Resilient-Hybrid-Cloud-and-AI-Platform</link>
            <guid>39279431</guid>
            <pubDate>Tue, 06 Feb 2024 19:39:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://newsroom.ibm.com/2024-02-06-New-IBM-LinuxONE-4-Express-to-Offer-Cost-Savings-and-Client-Value-through-a-Cyber-Resilient-Hybrid-Cloud-and-AI-Platform">https://newsroom.ibm.com/2024-02-06-New-IBM-LinuxONE-4-Express-to-Offer-Cost-Savings-and-Client-Value-through-a-Cyber-Resilient-Hybrid-Cloud-and-AI-Platform</a>, See on <a href="https://news.ycombinator.com/item?id=39279431">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="wd_move_content_up">

<p>- Newest IBM LinuxONE system is engineered to deliver cybersecurity, resiliency, scalability and AI inferencing for hybrid cloud environments.</p><p>- Moving Linux workloads from a compared x86 system to an IBM LinuxONE 4 Express can save over 52% on the total cost of ownership over 5 years.(1)</p>
<p>Feb 6, 2024</p>

			<div>
				<p><img src="https://newsroom.ibm.com/image/LinuxOne4+Express_Advocacy_banner.jpg"></p>
				
			</div>
		
</div><div wd_resize="formatNews" wd_print_url="https://newsroom.ibm.com/2024-02-06-New-IBM-LinuxONE-4-Express-to-Offer-Cost-Savings-and-Client-Value-through-a-Cyber-Resilient-Hybrid-Cloud-and-AI-Platform?printable=1"><p>,  /<a href="http://www.prnewswire.com/" target="_blank">PRNewswire</a>/ -- IBM (NYSE: <a href="http://www.ibm.com/investor" rel="nofollow" target="_blank">IBM</a>) today announced&nbsp;<a href="https://www.ibm.com/products/linuxone-4" rel="nofollow" target="_blank">IBM<i><sup>®</sup></i>&nbsp;LinuxONE 4 Express</a>, extending the latest performance, security and <a href="https://www.ibm.com/topics/artificial-intelligence" rel="nofollow" target="_blank">AI</a> capabilities of <a href="https://www.ibm.com/linuxone" rel="nofollow" target="_blank">LinuxONE</a> to small and medium sized businesses and within new data center environments. The pre-configured rack mount system is designed to offer cost savings and to remove client guess work when spinning up workloads quickly and getting started with the platform to address new and traditional use cases such as digital assets, medical imaging with AI, and workload consolidation.</p>

<p><a href="https://mma.prnewswire.com/media/2334567/LinuxONE_4_Express_side.html" rel="nofollow" target="_blank"><img alt="IBM LinuxONE 4 Express" src="https://mma.prnewswire.com/media/2334567/LinuxONE_4_Express_side.jpg" title="IBM LinuxONE 4 Express"> </a></p>

<p><a href="https://ibm.webcasts.com/starthere.jsp?ei=1650914&amp;tp_key=a828bc9aa1">Discover how to reduce TCO with IBM LinuxONE 4 Express</a></p>

<p><b>Building an integrated hybrid cloud strategy for today and years to come</b></p>

<p>As businesses move their products and services online quickly, oftentimes, they are left with a <a href="https://www.ibm.com/topics/hybrid-cloud" rel="nofollow" target="_blank">hybrid cloud</a>&nbsp;environment created by default, with siloed stacks that are not conducive to alignment across businesses or the introduction of AI. In a recent IBM IBV survey, 84% of executives asked acknowledged their enterprise struggles in eliminating silo-to-silo handoffs. And 78% of responding executives said that an inadequate operating model impedes successful adoption of their multicloud platform.<sup>2</sup> With the pressure to accelerate and scale the impact of data and AI across the enterprise – and improve business outcomes – another approach that organizations can take is to more carefully identify which workloads should be on-premises vs in the cloud.</p>

<p>"IBM&nbsp;LinuxONE 4 Express is a chance for startups and small to medium-sized businesses to build an intentional hybrid cloud strategy from the ground up. IBM brings the power of hybrid cloud and AI in the latest LinuxONE 4 system to a simple, easy to use format that fits in many data centers," said <span>Tina Tarquinio</span>, VP, Product Management, IBM Z and LinuxONE. "And as their businesses grow with the changing shifts in the market, LinuxONE 4 Express can scale to meet growing workload and performance requirements, in addition to offering AI inferencing co-located with mission-critical data for growing AI use cases."</p>

<p><b>Accelerating computing research for bio sciences&nbsp;</b></p>

<p>University College London is one of largest universities in the UK and well-known for their reputation as a public research institution. They've been working with IBM to build a sustainable hybrid cloud platform to support their academic research.</p>

<p>"Our Centre for Advanced Research Computing is critical to enable computational research across the sciences and humanities, as well as digital scholarship for students," said Dr. <span>Owain Kenway</span>, Head of Research Computing at University College London. "We're excited for LinuxONE 4 Express to support high I/O workloads like Next Generation Sequencing for Biosciences as well as supporting work in&nbsp;"Trusted Research Environments" (TREs), for example AI workloads on medical data. The system's high performance and scalability suit our crucial research needs, and its affordability will allow us to make it available to both university research and industry players as a test bed."</p>

<p><b>Delivering high scalability, availability and security for a range of data center environments and use cases&nbsp;</b></p>

<p>IBM LinuxONE Rockhopper 4, launched in&nbsp;April 2023 and based on the <a href="https://newsroom.ibm.com/2021-08-23-IBM-Unveils-On-Chip-Accelerated-Artificial-Intelligence-Processor" rel="nofollow" target="_blank">IBM Telum processor</a>, features capabilities designed to reduce both energy consumption and data center floor space while delivering the scale, performance and security that clients need.&nbsp;Also built on the Telum processor and delivered in a rack mount format, IBM LinuxONE 4 Express offers high availability for clients who have strict resiliency requirements due to internal or external regulations. In fact, IBM LinuxONE 4 Express systems, with GDPS, IBM DS8000 series storage with HyperSwap and running a Red Hat OpenShift Container Platform environment, are designed to deliver 99.999999% (eight 9s) availability.<sup>3</sup></p>

<p>"IBM LinuxONE is rapidly becoming a foundational part of the wider Infrastructure story within IBM," states <span>Steven Dickens</span>, VP and Practice Leader at The Futurum Group. "With the new LinuxONE 4 Express solution, IBM is uniquely positioned to handle mission-critical workloads with high availability. When you combine this with the system's cybersecurity posture, IBM is well positioned for market traction."</p>

<p>The system addresses a whole new set of use cases that startups and small businesses are facing, including:</p>

<ul type="disc">
	<li><b>Digital assets: </b>IBM LinuxONE 4 Express provides a secured platform with confidential computing capabilities specifically designed to protect sensitive data, like digital assets. IBM Secure Execution for Linux is a hardware-based security technology that is now built into IBM LinuxONE 4 Express. Scalable isolation for individual workloads can help protect not only from external attacks, but also insider threats. This includes data in use, a particularly critical stage of security for digital assets use cases.</li>
	<li><b>Medical imaging with AI</b>: With IBM Telum processor on-chip AI inferencing, clients can co-locate AI with mission-critical data on a LinuxONE system, allowing data analysis where the data is located. For example, health insurance companies could analyze large volumes of medical records in near real time to validate process claims, increasing the speed of business decision making.</li>
	<li><b>Workload consolidation: </b>IBM LinuxONE 4 Express is designed to help clients simplify their IT environments and cut costs by consolidating databases onto a LinuxONE system. Designed to bring significant cost savings for clients over time, clients that move Linux workloads from compared x86 server to an IBM LinuxONE 4 Express can save over 52% on their total cost of ownership over 5 years.<sup>4</sup></li>
</ul>

<p><b>Activating the IBM Ecosystem for client success</b></p>

<p>With the <a href="https://community.ibm.com/zsystems/linuxone/express/" rel="nofollow" target="_blank">IBM LinuxONE Ecosystem</a>, including <a href="https://www.aquasec.com/blog/aqua-to-protect-containerized-environments-on-linuxone-4-express" rel="nofollow" target="_blank">AquaSecurity</a>, <a href="https://www.clari5.com/clari5-real-time-enterprise-financial-crime-management-solution-for-banks-now-on-new-ibm-linuxone4-express/" rel="nofollow" target="_blank">Clari5</a>, <a href="https://exponentialai.com/xai-collaborates-with-ibm/" rel="nofollow" target="_blank">Exponential AI</a>, <a href="https://www.opollo.ai/blogs/20240206-blog.html" rel="nofollow" target="_blank">Opollo Technologies</a>, <a href="https://www.pennanttech.com/blog/pennapps-lending-factory-on-ibm-linuxone-4-express/" rel="nofollow" target="_blank">Pennant</a> and <a href="https://spiking.com/blog/launch-of-ibm-linuxone-4-express-system/" rel="nofollow" target="_blank">Spiking</a>, IBM is working to provide solutions for today's&nbsp;<a href="https://www.ibm.com/products/linuxone-4/sustainability" rel="nofollow" target="_blank">sustainability</a>&nbsp;and cybersecurity challenges. For clients that run data serving, core banking and digital assets workloads, an optimized sustainability and security posture is key to protecting both sensitive private data and sustainable organizational goals. IBM Business Partners can learn more about the skills required to install, deploy, service and resell IBM LinuxONE 4 Express <a href="https://www.ibm.com/partnerplus" rel="nofollow" target="_blank">here</a>.</p>

<p>"We purchased an IBM LinuxONE III Express to run proofs of concepts for our strategic customers, and the feedback we have received so far has been excellent," said Eyad Alhabbash, Director, IBM Systems Solutions &amp; Support Group at Saudi Business Machines (SBM).&nbsp;"LinuxONE III Express demonstrated better performance than the x86 running the same Red Hat OpenShift workload, and the customer noted how user-friendly the IBM LinuxONE is for server, storage and network management and operations."&nbsp;</p>

<p>The new IBM LinuxONE 4 Express, starting at <span>$135,000</span><sup>5</sup>, will be generally available<sup>6</sup> from IBM and certified business partners on <span>February 20, 2024</span>.</p>

<p>To learn more, <a href="https://ibm.webcasts.com/starthere.jsp?ei=1650914&amp;tp_key=a828bc9aa1" rel="nofollow" target="_blank">join IBM clients and partners</a>&nbsp;on&nbsp;February 20, at&nbsp;11 am ET&nbsp;for a deep dive, live webinar on industry trends, such as AI, sustainability and cybersecurity, as well as receive behind-the-scenes access to the new IBM LinuxONE 4 Express system.</p>

<p><b>About IBM</b><br>
IBM is a leading provider of global hybrid cloud and AI, and consulting expertise. We help clients in more than 175 countries capitalize on insights from their data, streamline business processes, reduce costs and gain the competitive edge in their industries. More than 4,000 government and corporate entities in critical infrastructure areas such as financial services, telecommunications and healthcare rely on IBM's hybrid cloud platform and Red Hat OpenShift to affect their digital transformations quickly, efficiently and securely. IBM's breakthrough innovations in AI, quantum computing, industry-specific cloud solutions and consulting deliver open and flexible options to our clients. All of this is backed by IBM's long-standing commitment to trust, transparency, responsibility, inclusivity and service. For more information, visit&nbsp;<a href="https://c212.net/c/link/?t=0&amp;l=en&amp;o=3382707-1&amp;h=188029054&amp;u=https%3A%2F%2Fc212.net%2Fc%2Flink%2F%3Ft%3D0%26l%3Den%26o%3D3154235-1%26h%3D3195901305%26u%3Dhttp%253A%252F%252Fwww.ibm.com%252F%26a%3Dwww.ibm.com&amp;a=www.ibm.com" rel="nofollow" target="_blank">www.ibm.com</a></p>

<p><b>Media Contact:</b><br>
<span>Ashley Peterson</span><br>
<a href="mailto:ashley.peterson@ibm.com" rel="nofollow" target="_blank">ashley.peterson@ibm.com</a>&nbsp;</p>

<div>
<table>
	<tbody>
		<tr>
			<td colspan="1" rowspan="1">
			<p><span><sup>_________________________________________<br>
			1</sup>&nbsp;<b>DISCLAIMER</b>: Compared IBM LinuxONE 4 Express Model consisting of a CPC drawer and an I/O drawer to support network and external storage with 12 IFLs and 736 GB of memory in 1 frame, versus compared 3 x86 servers with two Xeon Sapphire Rapids Platinum 8444 processors with 32 cores each (2ch/32c) with a total of 384 cores. All Systems are modeled to be running Linux Postgres Enterprise-DB workloads with virtualization and DB tools. Results may vary based on client-specific usage and location. </span><span>LinuxONE hardware is the expected global price in $USD and discounts. X86 purchase price was included and maintenance costs is from IDC's Pricing Service: https://www.idc.com/myidc3/products with an aggressive discount. Postgres Enterprise-DB software and tools prices are based on street prices that is discounted from the list price. TCO is calculated over a 5-year horizon. Cost estimates include hardware costs and annual maintenance, Linux OS subscription costs, virtualization software, people cost, and infrastructure (network, energy, space) costs.</span></p>
			</td>
		</tr>
		<tr>
			<td colspan="1" rowspan="1">
			<p><span><sup>2</sup> <a href="https://www.ibm.com/downloads/cas/DAEL0EQY" rel="nofollow" target="_blank">IBM IBV Research Insights: Mastering Hybrid Cloud</a>, pg 11</span></p>
			</td>
		</tr>
		<tr>
			<td colspan="1" rowspan="1">
			<p><span><sup>3</sup> <b>Disclaimer</b>: IBM internal data based on measurements and projections was used in calculating the expected value. Necessary components include IBM LinuxONE Rockhopper 4; IBM z/VM V7.2 systems or above collected in a Single System Image, each running RHOCP 4.10 or above; IBM Operations Manager; GDPS 4.5 for management of data recovery and virtual machine recovery across metro distance systems and storage, including Metro Multi-site workload and GDPS Global; and IBM DS8000 series storage with IBM HyperSwap. A MongoDB v4.2 workload was used. Necessary resiliency technology must be enabled, including z/VM Single System Image clustering, GDPS xDR Proxy for z/VM, and Red Hat OpenShift Data Foundation (ODF) 4.10 for management of local storage devices. Application-induced outages are not included in the above measurements. Other configurations (hardware or software) may provide different availability characteristics.</span></p>
			</td>
		</tr>
		<tr>
			<td colspan="1" rowspan="1">
			<p><span><sup>4</sup> <b>DISCLAIMER</b>: Compared IBM LinuxONE 4 Express Model consisting of a CPC drawer and an I/O drawer to support network and external storage with 12 IFLs and 736 GB of memory in 1 frame, versus compared 3 x86 servers with two Xeon Sapphire Rapids Platinum 8444 processors with 32 cores each (2ch/32c) with a total of 384 cores. All Systems are modeled to be running Linux Postgres Enterprise-DB workloads with virtualization and DB tools. Results may vary based on client-specific usage and location. </span><span>LinuxONE hardware is the expected global price in $USD and discounts. X86 purchase price was included and maintenance costs is from IDC's Pricing Service: https://www.idc.com/myidc3/products with an aggressive discount. Postgres Enterprise-DB software and tools prices are based on street prices that is discounted from the list price. TCO is calculated over a 5-year horizon. Cost estimates include hardware costs and annual maintenance, Linux OS subscription costs, virtualization software, people cost, and infrastructure (network, energy, space) costs.</span></p>
			</td>
		</tr>
		<tr>
			<td colspan="1" rowspan="1">
			<p><span><sup>5</sup> This price reflects the base hardware configuration, and does not include additional items, maintenance, the operating system or other software. All prices are in USD. Prices shown do not include tax. Price will vary based on country and currency.</span></p>
			</td>
		</tr>
		<tr>
			<td colspan="1" rowspan="1">
			<p><span><sup>6</sup> Systems will not initially be available in Argentina, Mexico, Peru, Indonesia, Taiwan, South Korea, India and China.</span></p>
			</td>
		</tr>
	</tbody>
</table>
</div>



<p><a href="https://mma.prnewswire.com/media/95470/ibm_logo.html" rel="nofollow" target="_blank"><img alt="IBM Corporation logo. (PRNewsfoto/IBM)" src="https://mma.prnewswire.com/media/95470/ibm_logo.jpg" title="IBM Corporation logo. (PRNewsfoto/IBM)"> </a></p>

<p>SOURCE IBM</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Demystifying GPU compute architectures (170 pts)]]></title>
            <link>https://thechipletter.substack.com/p/demystifying-gpu-compute-architectures</link>
            <guid>39279163</guid>
            <pubDate>Tue, 06 Feb 2024 19:20:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://thechipletter.substack.com/p/demystifying-gpu-compute-architectures">https://thechipletter.substack.com/p/demystifying-gpu-compute-architectures</a>, See on <a href="https://news.ycombinator.com/item?id=39279163">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_2400,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg" width="1200" height="797.8021978021978" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;large&quot;,&quot;height&quot;:968,&quot;width&quot;:1456,&quot;resizeWidth&quot;:1200,&quot;bytes&quot;:272479,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F304b8eae-e3ec-4d5b-a673-75183232003c_1625x1080.jpeg 1456w" sizes="100vw" fetchpriority="high"></picture></div></a><figcaption>NVIDIA_GeForce_8800GTX_G80___DSC01200 via Fritzchens Fritz https://commons.wikimedia.org/w/index.php?curid=65926359</figcaption></figure></div><p>The complexity of modern GPUs needn’t obscure the essence of how these machines work. If we are to make the most of the advanced technology in these GPUs then we need a little less mystique.</p><p>I think this is one of the most exciting times in computer architecture for many years. In CPUs we have x86, Arm and RISC-V, three increasingly well-supported application architectures.</p><p>And GPU architectures are, of course, becoming much more important. GPUs are obviously a critical piece of machine learning infrastructure. They are also making massively parallel computing available to help solve a wider range of computational problems outside of machine learning.</p><p>There is one problem though. How GPU architectures work is much less widely understood than is the case for CPUs. CPUs are often complex, but much of that complexity (pipelines, instruction and data caches, branch prediction, out-of-order execution, register renaming, virtual memory and so on) is largely hidden from the user, and can often be ignored. Doing things in parallel, though, is inherently more complex and GPUs necessarily expose a lot of complexity.</p><p><span>There is also a degree of mystique about GPUs. The recent (and excellent) Acquired podcast </span><a href="https://www.acquired.fm/episodes/nvidia-the-dawn-of-the-ai-era" rel="">episode</a><span> on Nvidia stated that for GPUs: </span></p><blockquote><p>The magical unlock, of course, is to make a computer that is not a von Neumann architecture.</p></blockquote><p>I know the Acquired hosts didn't mean to imply that GPUs are ‘magical’ but still the use of the word in connection with GPUs somehow seems appropriate. GPUs don’t use a ‘von Neumann’ architecture. Instead thy use an unspecified, unnamed architecture, and if we don’t know what it is then its necessarily mysterious.</p><p>To make matters worse, there are several barriers to learning how GPUs work:</p><ul><li><p><strong>Architectural Variations:</strong><span> Each of the major GPU architectures has a somewhat different implementation.</span></p></li><li><p><strong>Inconsistent Terminology: </strong><span>The major GPU designers use inconsistent terminology, both between themselves and with terms commonly used for CPUs. So a CPU ‘core’ is very different to Nvidia’s ‘CUDA core’.</span></p></li><li><p><strong>Legacy Terminology:</strong><span> Some of the terms used are carried forward from the graphics origins of the GPU designs (e.g. ‘shaders’).</span></p></li><li><p><strong>Software Abstraction:</strong><span> Some GPU complexity can be hidden from the user behind the abstractions used by software packages used to program GPUs. This helps when implementing programs, but sometimes it prevents users from developing an adequate picture of how the architecture works.</span></p></li><li><p><strong>CUDA’s Dominance:</strong><span> Because Nvidia’s CUDA has been the market leader in GPU computing for many years now, the CUDA terminology tends to be used in many explanations making it hard to read across to other architectures.</span></p></li></ul><p>No wonder it all seems a bit mysterious. </p><p>But as GPUs become more important, this seems like an unsatisfactory state of affairs. Let’s try to cut through the mystery!</p><p>This post started out as a history of the architectures used for general purpose computing on Nvidia GPUs. However, I quickly changed course for two reasons:</p><ul><li><p>Just explaining one generation of architectures is complex. Attempting to describe a whole series of generations of architectures is complexity squared, and probably just too much!</p></li><li><p><span>There is already a awesome, detailed post by Fabien Sangland called </span><a href="https://fabiensanglard.net/cuda/index.html" rel="">A HISTORY OF NVIDIA STREAM MULTIPROCESSOR</a><span> that sets out the history of the development of Nvidia’s GPU general purpose computing architecture over the period 2006 to 2020.</span></p></li></ul><p>Just a word of warning about Fabien’s post though. It assumes a lot of prior knowledge about GPUs. Don’t worry if you don’t know what a ‘Streaming Multiprocessor’ is at this stage. All will, hopefully, become clear later! It’s worth scanning Fabien’s post, even if you’re not familiar with GPUs, to see how far Nvidia’s architectures have developed over this period.</p><p>Rather than repeat much of what Fabien has written, I decided that it would be more useful to provide a ‘ground up’ basic explanation of two recent architectures from Nvidia and AMD. </p><p>Before we move on though, I want to quote from Fabien’s post on how Nvidia’s general purpose compute architecture emerged:</p><blockquote><p>Up to 2006, Nvidia's GPU design was correlated to the logical stages in the rendering API. The GeForce 7900 GTX, powered by a G71 die is made of three sections dedicated to vertex processing (8 units), fragment generation (24 units), and fragment merging (16 units).</p></blockquote><blockquote><p>This correlation forced designers to guess the location of bottlenecks in order to properly balance each layers. With the emergence of yet another stage in DirectX 10, the geometry shader, Nvidia engineers found themselves faced with the difficult task of balancing a die without knowing how much a stage was going to be adopted. It was time for a change.</p></blockquote><blockquote><div><p><span>Nvidia solved the problem of escalating complexity with its "unified" Tesla architecture, released in 2006. </span></p><p><span>In the G80 die, there is no more distinction between layers. The Stream Multiprocessor (SM) replaces all previous units thanks to its ability to run vertex, fragment and geometry "kernel" without distinction. The load balancing happens automatically by swapping the "kernel" run by each SM depending on the need of the pipeline.</span></p></div></blockquote><p>And so the first of Nvidia’s modern ‘general purpose compute’ architectures was born.</p><blockquote><p><em><span>We pretty much threw out the entire shader architecture from NV30/NV40 and made a new one from scratch with a new general processor architecture (SIMT), that also introduced new processor design methodologies.</span><p><span>- Jonah Alben (Interview with extremetech.com)</span></p></em></p></blockquote><p>And quoting Fabien again:</p><blockquote><p>Tesla was a risky move which turned out to be a very Good Thing. It was so successful that it became the foundation of NVidia GPUs for the next two decades.</p></blockquote><p>And we now how much of a ‘Good Thing’ this has been for Nvidia, which as I write this, has a $1.6 trillion market cap:</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png" width="1424" height="1334" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/dd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1334,&quot;width&quot;:1424,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:220051,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fdd34716b-558d-4612-a54a-ca97b0975f99_1424x1334.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Nvidia has, by now, put in almost 18 years of development and investment, starting with the Tesla architecture, and including work on Nvidia’s famous  ‘Compute Unified Device Architecture’ or ‘CUDA’ introduced in 2007. We’ve discussed some aspects of Nvidia’s strategy before (the first is now free to read):</p><div data-component-name="DigestPostEmbed"><a href="https://thechipletter.substack.com/p/nvidias-embarrassingly-parallel-success" target="_blank" rel="noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_webp,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb44ffc64-11bf-40ea-a010-6553eb6f52e1_2048x1365.jpeg"><img src="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_auto,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb44ffc64-11bf-40ea-a010-6553eb6f52e1_2048x1365.jpeg" sizes="100vw" alt="Nvidia's Embarrassingly Parallel Success" width="140" height="140"></picture></div></a></div><div data-component-name="DigestPostEmbed"><a href="https://thechipletter.substack.com/p/sustaining-nvidias-long-game" target="_blank" rel="noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_webp,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6302f984-c7be-4944-9f91-61127ce98af4_1280x854.jpeg"><img src="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_auto,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6302f984-c7be-4944-9f91-61127ce98af4_1280x854.jpeg" sizes="100vw" alt="Sustaining Nvidia's Long Game" width="140" height="140"></picture></div></a></div><div data-component-name="DigestPostEmbed"><a href="https://thechipletter.substack.com/p/nvidia-and-the-longevity-of-technology" target="_blank" rel="noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_webp,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F73dc03e4-57bc-42f1-b092-c10702f6cb18_1166x720.jpeg"><img src="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_auto,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F73dc03e4-57bc-42f1-b092-c10702f6cb18_1166x720.jpeg" sizes="100vw" alt="Nvidia and the Longevity of Technology Moats" width="140" height="140"></picture></div></a></div><div data-component-name="DigestPostEmbed"><a href="https://thechipletter.substack.com/p/no-one-ever-got-fired-for-buying" target="_blank" rel="noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_webp,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe11df9e3-1d4d-460d-8e01-fb749598da4b_700x509.jpeg"><img src="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_auto,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe11df9e3-1d4d-460d-8e01-fb749598da4b_700x509.jpeg" sizes="100vw" alt="No one ever got fired for buying ... Nvidia" width="140" height="140"></picture></div></a></div><p data-attrs="{&quot;url&quot;:&quot;https://thechipletter.substack.com/p/demystifying-gpu-compute-architectures?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;,&quot;action&quot;:null,&quot;class&quot;:null}" data-component-name="ButtonCreateButton"><a href="https://thechipletter.substack.com/p/demystifying-gpu-compute-architectures?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share</span></a></p><p><strong>The rest of this post explains how general-purpose computing on modern GPUs works ‘from the bottom up’. We’ll start at the lowest level, with two major architectures, and then build up from there.</strong></p><p><span>I’ve chosen to look at both Nvidia (Hopper used in the H100 GPU) and AMD’s CDNA 2 (used in the Instinct MI200 GPU a version of which is used in </span><a href="https://en.wikipedia.org/wiki/Frontier_(supercomputer)" rel="">Frontier Supercomputer</a><span>) architectures and explain the common ground and the differences between these recent designs from each firm. We’ll focus particularly on clarifying some of the terminology used. We won’t consider the latest features built to accelerate machine learning, such as tensor cores. Instead, we’ll concentrate on the most ‘general purpose’ computing capabilities. </span></p><p>This is not a tutorial that will enable readers to get started writing programs on GPUs. Instead, if you want to do that, it’s intended as a supplement to help gain a better understanding of what is going on under the surface and the abstractions of a GPU program. </p><p>In any event, to properly understand a complex topic like how GPUs work, it’s really necessary to read lots of sources.  To help with this, the end of this post has lots of references and links to further articles and presentations for readers who would like to learn more about GPU computing.</p><p>We’ll start by looking at GPU compute hardware. We’ll group into three ‘Levels’ - my terminology, in the absence of a common naming convention across architectures, and nothing to do with ‘Cache Levels’.</p><p>We’ll start at the lowest level, with the basic building block of GPU architectures. Perhaps, surprisingly, this doesn’t seen to be given a memorable name by either Nvidia or AMD.</p><p>It contains a collection of compute resources that can perform a range of operations : integer, 32-bit or 64-bit floating point arithmetic, data loads and stores from or to memory and more.</p><p>We’ll start by focusing on Nvidia’s hardware. Let’s have a look at a schematic of what this basic building block looks like. Here is a diagram from Nvidia’s Hopper H100 Architecture White Paper.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png" width="556" height="660.046783625731" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:812,&quot;width&quot;:684,&quot;resizeWidth&quot;:556,&quot;bytes&quot;:686492,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6591d365-380f-4ca7-86a8-5cbb5fb8b50a_684x812.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>The smallest boxes here with “INT32'“ or “FP32” or “FP64” represent the hardware or ‘execution units’ to perform single 32-bit integer, 32-bit floating point or 64-bit floating point operations. So in this case we have thirty-two 32-bit floating point execution units, and sixteen each of the 32-bit integer and 64-bit float execution units.</p><blockquote><p>As can be seen on the right there is also a ‘Tensor Core’ for the ‘tensor’ or ‘matrix’ operations required by many machine learning programs. We won’t discuss Tensor Cores further in this post.</p></blockquote><p>At the bottom of this schematic are execution units (‘LD/ST’) to perform ‘loads’ and ‘stores’ from and to memory.</p><p>We need to consider how these execution units are controlled. Let’s focus on the integer and floating point hardware. The first thing to emphasise is that multiple execution units are grouped together and all execute a single instruction at the same time, so that their operation as a group is similar to how ‘Single Instruction Multiple Data’ or ‘SIMD’ operations work on a CPU. In fact GPU makers will sometimes refer to their architectures as ‘SIMT’ for ‘Single Instruction Multiple Thread’.</p><p>An instruction might, for example, perform a single operation on, for example, a ‘vector’ (or array) of sixteen 64-bit floating point numbers or thirty-two 32-bit floating point numbers or thirty-two 32-bit integers.</p><p>There are some differences when compared to SIMD on a CPU though. Unlike a modern CPU though, there are lots of features, such as branch prediction or out-of-order execution, that these processors don’t implement. This makes them poor as ‘general purpose’ processors. However, avoiding the complexity of these features frees up lots of space to squeeze in more of these processors on a single silicon die.</p><p>If they aren’t as efficient as CPUs at some things, they are much better at one task: switching between different programs. Without branch prediction, for example, programs running on this hardware are much more likely to have to wait for either program code or data to be fetched from memory. If this happens, then to keep the processor busy it can quickly switch to another program that is waiting and ready to take over. The ‘retired’ program can then be quickly restarted when it has the data that it needs.</p><p>We need a name for each of the elements of this hardware that operates on one item of data out of the ‘Multiple Data’ that it’s presented with. We’ll call this a ‘SIMT Lane’, analogous to a lane in a motorway, with multiple lanes laid out in parallel to allow multiple streams of traffic to progress at the same time.</p><p>Let’s cover the remaining features of this basic building block of GPU architectures.</p><p>There is some memory in the form of a ‘Register File’ and some ‘L0 Instruction Cache’ memory. We’ll come back to registers and memory on the GPU later on.</p><p>There is what is called a ‘Warp Scheduler’ and a ‘Dispatch Unit’. We’ll explain what a ‘Warp’ is precisely later on, but essentially this is hardware that organises the running of multiple programs on the execution units.</p><p>Finally, there is the ‘Special Function Units’ or ‘SFUs’ that can be seen at the bottom right. These execute transcendental instructions such as sin, cosine, reciprocal, and square root.</p><p>AMD’s CDNA 2 architecture hardware at this level is quite similar to Nvidia’s but with some differences. For example it only has sixteen 32-bit floating point execution units. In most respects it operates in a similar way though. We’re not going to look at it in more detail at this point.</p><p>The next stage in building the GPU is to group a number of these ‘Level 1’ hardware units together. Both Nvidia and AMD group four of these together in what they call either a ’Streaming Multiprocessor’ (Nvidia) or ‘Compute Unit’ (AMD) respectively.</p><p>Here is Nvidia’s schematic for a Streaming Multiprocessor. Nvidia also adds some ‘L1 Instruction Cache’ and ‘L1 Data Cache’. There is more on ‘shared memory’ later. We can ignore the ‘Tensor Memory Accelerator’ and ‘Tex’.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png" width="1104" height="1530" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1530,&quot;width&quot;:1104,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1884981,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F54570ab5-bd6b-4604-850b-c5ef762e38bb_1104x1530.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>And here is a representation of AMD’s Compute Unit. AMD adds ‘Matrix Core Units’, more memory and a ‘Scalar Unit’, a scalar processor, which is distinct and runs independently of the other execution units.</p><blockquote><p>‘Matrix Cores’ play a similar role to Nvidia’s Tensor Cores and are included to accelerate machine learning operations. We won’t discuss Matrix Cores further in this post.</p></blockquote><blockquote><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_2400,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png" width="1200" height="375" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;large&quot;,&quot;height&quot;:455,&quot;width&quot;:1456,&quot;resizeWidth&quot;:1200,&quot;bytes&quot;:102038,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b5736cd-3a94-4651-a8f2-7a92e9fa3449_1806x564.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div></blockquote><p>Our final stage is to bring together multiple Streaming Multiprocessors (Nvidia) / Compute Units (AMD) together. The latest GPUs from the two architectures each bring together more than 100 Streaming Multiprocessors / Compute Units.</p><p>Here is a schematic representation of the Nvidia H100 with 144 Streaming Multiprocessors per GPU (click for an easier-to-read version of this image):</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_2400,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png" width="1200" height="539.010989010989" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;large&quot;,&quot;height&quot;:654,&quot;width&quot;:1456,&quot;resizeWidth&quot;:1200,&quot;bytes&quot;:1775505,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1c12efdc-9ea3-491d-af63-58d94dea42dc_2502x1124.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>And here is the AMD M200 with 112 Compute Units per GPU.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png" width="1234" height="1578" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1578,&quot;width&quot;:1234,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:186097,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5bfb14bd-1a00-4744-89fe-4498df29b9e3_1234x1578.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>In each case the Streaming Multiprocessors / Compute Units are accompanied by ‘L2 Cache’ and by hardware to facilitate fast communication with other parts of the system (including memory). This hardware may use HBM, PCIe or proprietary technology such as NVLink (Nvidia) or Infinity Fabric (AMD).</p><p><strong>Let’s briefly step back and consider just how much computational hardware one of these GPUs packs when compared to even the most powerful modern CPUs.</strong></p><p><strong>A leading AMD x86 CPU has 128 processor cores and has the floating-point execution units to perform (via AVX512 instructions) eight 32-bit floating-point calculations at a time. That’s 1,024 execution units per CPU. Contrast this with the 18,432 32-bit floating point execution units in Nvidia’s H100.</strong></p><p>After the break we’ll discuss GPU instruction sets and registers, memory and software.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The world is awful. The world is much better. The world can be much better (377 pts)]]></title>
            <link>https://ourworldindata.org/much-better-awful-can-be-better</link>
            <guid>39278631</guid>
            <pubDate>Tue, 06 Feb 2024 18:46:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ourworldindata.org/much-better-awful-can-be-better">https://ourworldindata.org/much-better-awful-can-be-better</a>, See on <a href="https://news.ycombinator.com/item?id=39278631">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><header><h2>It is wrong to think these three statements contradict each other. We need to see that they are all true to see that a better world is possible.</h2></header><p>The world is awful. The world is much better. The world can be much better. All three statements are true at the same time.</p><p>Discussions about the state of the world too often focus on the first statement: The news highlights what is going wrong, rarely mentioning any positive development.</p><p>A pushback on this narrative takes it to the other extreme, which is equally damaging. Solely communicating the progress that the world has achieved becomes unhelpful, or even repugnant, when it glosses over the problems that are real today.</p><p>It’s hard to resist falling for only one of these perspectives. But to see that a better world is possible, we need to see that both are true at the same time: the world is awful, and the world is much better.</p><figure><picture><source srcset="https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20Venn_100.webp 100w, https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20Venn_350.webp 350w, https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20Venn_850.webp 850w, https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20Venn_1350.webp 1350w, https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20Venn_7245.webp 7245w" type="image/webp" sizes="(max-width: 960px) 95vw, (min-width: 960px) 853px"><img src="https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20Venn.png" alt="" loading="lazy"></picture></figure><p>To illustrate what I mean, I will use the example of one of humanity’s biggest tragedies: the death of its children. But the same is true for many of the world’s other problems. Humanity faces many problems where things have improved over time, which are still terrible, and for which we know that things can get better.<a href="#note-1"><sup>1</sup></a></p><div><div><h2 id="the-world-is-awful">The world is awful<a href="#the-world-is-awful"></a></h2><p>Globally, <a href="https://ourworldindata.org/grapher/youth-mortality-rate?tab=chart">4.4%</a> of children die before they are 15 years old. This is the data for 2021, the latest available year.</p><p>This means that 5.9 million children die every year – 16,000 children on any average day and 11 children every minute.<a href="#note-2"><sup>2</sup></a></p><p>Clearly, a world where thousands of tragedies happen every single day is awful.</p></div><div><figure><picture><source srcset="https://ourworldindata.org/images/published/The%20world%20is%20awful_100.webp 100w, https://ourworldindata.org/images/published/The%20world%20is%20awful_350.webp 350w, https://ourworldindata.org/images/published/The%20world%20is%20awful_850.webp 850w, https://ourworldindata.org/images/published/The%20world%20is%20awful_1350.webp 1350w, https://ourworldindata.org/images/published/The%20world%20is%20awful_7501.webp 7501w" type="image/webp" sizes="(max-width: 960px) 95vw, (min-width: 960px) 746px"><img src="https://ourworldindata.org/images/published/The%20world%20is%20awful.png" alt="" loading="lazy"></picture></figure></div></div><div><div><h2 id="the-world-is-much-better">The world is much better<a href="#the-world-is-much-better"></a></h2><p>History’s big lesson is that things change. But it is hard to imagine how dire living conditions once were, making it difficult to grasp just how much the world has changed.</p><p>Data can help to bring the scale of change to mind. Historians estimate that in the past, <a href="https://ourworldindata.org/child-mortality-in-the-past" target="_blank" rel="noopener noreferrer">around </a><em><a href="https://ourworldindata.org/child-mortality-in-the-past" target="_blank" rel="noopener noreferrer">half</a></em> <a href="https://ourworldindata.org/child-mortality-in-the-past" target="_blank" rel="noopener noreferrer">of all children died</a>. This was true no matter where in the world a child was born.<a href="#note-3"><sup>3</sup></a></p><p>It’s hard to imagine, but child mortality in the very worst-off places today is <em>much </em>better than anywhere in the past. Even in the world’s richest countries, the mortality of children was much higher very recently. In Niger, the country with the highest mortality today, about 14% of all children die.<a href="#note-4"><sup>4</sup></a> Just a few generations ago, the mortality rate was more than three times as high, even in the best-off places.<a href="#note-5"><sup>5</sup></a></p><p>What we learn from our history is that it is possible to change the world. Unfortunately, long-run data on how living conditions have changed is rarely studied in school and rarely reported in the media. As a result, many are <a href="https://ourworldindata.org/wrong-about-the-world" target="_blank" rel="noopener noreferrer">entirely unaware</a> of even the most fundamental positive developments in the world.</p><p>But this fact — that it is possible to change the world and achieve extraordinary progress for entire societies — is something that <em>everyone</em> should know.</p></div><div><figure><picture><source srcset="https://ourworldindata.org/images/published/The%20world%20is%20better_100.webp 100w, https://ourworldindata.org/images/published/The%20world%20is%20better_350.webp 350w, https://ourworldindata.org/images/published/The%20world%20is%20better_850.webp 850w, https://ourworldindata.org/images/published/The%20world%20is%20better_1350.webp 1350w, https://ourworldindata.org/images/published/The%20world%20is%20better_7501.webp 7501w" type="image/webp" sizes="(max-width: 960px) 95vw, (min-width: 960px) 746px"><img src="https://ourworldindata.org/images/published/The%20world%20is%20better.png" alt="" loading="lazy"></picture></figure></div></div><div><div><h2 id="the-world-can-be-much-better">The world can be much better<a href="#the-world-can-be-much-better"></a></h2><p>Progress over time shows that it was possible to change the world in the past, but do we know that it’s possible to continue this progress into the future? Or were we perhaps born at that unlucky moment in history at which progress has to come to a halt?</p><p>Studying the global data suggests that the answer is no.&nbsp;It is possible to make the world a better place.</p><p>One way to see this is to look at the places in the world with the best living conditions today. The best-off places show that extremely low child mortality is not just a possibility but already a reality.</p><p>The world region where children have the best chance of surviving childhood is the European Union. Of children born in the EU 99.53% survive childhood.<a href="#note-6"><sup>6</sup></a></p><p>To see how much better the world can be, we can ask what the world would look like if this became a reality <em>everywhere</em>. What if children around the world would be as well off as children in the EU? The answer is that <em>five million</em> fewer children would die every year.<a href="#note-7"><sup>7</sup></a></p><p>Of course, the child mortality rate in the EU is still too high, and there is no reason that progress should stop there. Cancers like leukemia and brain tumors kill hundreds of children, even in today’s richest countries. We should strive to find ways to prevent these tragic deaths.</p><p>However, the largest opportunities to prevent the pain and suffering of children are in the poorer countries. There, we know not only that things <em>can</em> be better but <em>how</em> to make them better.</p><p>You can use this research on how to make the world a better place to contribute to this progress yourself. I recommend relying on research published by the nonprofit organization <a href="https://www.givewell.org/" target="_blank" rel="noopener noreferrer">GiveWell.org</a>. GiveWell’s team spent years identifying the most cost-effective charities so that your donation can have the biggest positive impact on the lives of others. Several of the recommended charities focus on improving the health of children, giving you the opportunity to contribute to the progress against child mortality.</p><p><em>Millions</em> of child deaths are preventable. We know that it is possible to make the world a better place.</p></div><div><figure><picture><source srcset="https://ourworldindata.org/images/published/The%20world%20can%20be%20much%20better_100.webp 100w, https://ourworldindata.org/images/published/The%20world%20can%20be%20much%20better_350.webp 350w, https://ourworldindata.org/images/published/The%20world%20can%20be%20much%20better_850.webp 850w, https://ourworldindata.org/images/published/The%20world%20can%20be%20much%20better_1350.webp 1350w, https://ourworldindata.org/images/published/The%20world%20can%20be%20much%20better_7501.webp 7501w" type="image/webp" sizes="(max-width: 960px) 95vw, (min-width: 960px) 746px"><img src="https://ourworldindata.org/images/published/The%20world%20can%20be%20much%20better.png" alt="" loading="lazy"></picture></figure></div></div><hr><div><div><h2 id="the-world-is-awful-this-is-why-we-need-to-know-about-progress">The world is awful; this is why we need to know about progress<a href="#the-world-is-awful-this-is-why-we-need-to-know-about-progress"></a></h2><p>The news often focuses on how awful the world is. It is easier to scare people than to encourage them to achieve positive change, and there is always a large audience for bad news.</p><p>I agree that it is important that we know what is wrong with the world. But, given the scale of what we have achieved already and of what is possible in the future, I think it’s irresponsible to <em>only</em> report on what is wrong.</p><p>To see that the world has become a better place does not mean to deny that we are facing very serious problems. On the contrary, if we had achieved the best of all possible worlds, I would not be spending my days writing and researching about how we got here. It is because the world is still terrible that it is so important to see how the world became a better place.</p><p>With my work I hope to change our culture a little bit so that we take the possibility of progress more seriously.</p><p>This is a solvable problem: we have the data and the research to see the problems we are facing and the progress that is possible. The problem is that we are not using the data and research we have. The data is often stored in inaccessible databases, the research is buried under jargon in academic papers and often locked away behind paywalls. With <em>Our World in Data,</em> we want to change this.</p><p>If we want more people to dedicate their energy and money to making the world a better place, then we should make it much more widely known that <em>it is possible to make the world a better place</em>.</p><p>For this we have to remember that all three statements are true at the same time: the world is awful, the world is much better, and the world can be much better.</p></div><div><figure><picture><source srcset="https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20All%20three%20visualizations_100.webp 100w, https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20All%20three%20visualizations_350.webp 350w, https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20All%20three%20visualizations_850.webp 850w, https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20All%20three%20visualizations_1350.webp 1350w, https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20All%20three%20visualizations_10787.webp 10787w" type="image/webp" sizes="(max-width: 960px) 95vw, (min-width: 960px) 746px"><img src="https://ourworldindata.org/images/published/awful%20better%20can%20be%20better%20All%20three%20visualizations.png" alt="" loading="lazy"></picture></figure></div></div><hr><p>This is a revised and updated version published in February 2023. The last previous revision I had done in July 2022. The first version of this article was published in October 2018.</p><p><strong>Acknowledgments:</strong> I would like to thank Hannah Ritchie and Toby Ord for their feedback on this article.</p><hr><p><em>Continue reading on Our World in Data:</em></p><a href="https://ourworldindata.org/problems-and-progress" target="_blank" rel="noopener noreferrer"><div><picture><source srcset="https://ourworldindata.org/images/published/default-featured-image_100.webp 100w, https://ourworldindata.org/images/published/default-featured-image_350.webp 350w, https://ourworldindata.org/images/published/default-featured-image_850.webp 850w, https://ourworldindata.org/images/published/default-featured-image_1255.webp 1255w" type="image/webp" sizes="350px"><img src="https://ourworldindata.org/images/published/default-featured-image.png" alt="The wordmark for Our World In Data" loading="lazy"></picture></div><p><h3>Why do we need to know about progress if we are concerned about the world’s largest problems?</h3></p></a><div><h3 id="article-endnotes">Endnotes</h3><ol><li id="note-1"><p>In a number of fundamental aspects – obviously<a href="https://ourworldindata.org/obesity" target="_blank" rel="noopener noreferrer"> not all</a> – we achieved very substantial progress. These aspects include<a href="https://ourworldindata.org/global-rise-of-education" target="_blank" rel="noopener noreferrer"> education</a>,<a href="https://ourworldindata.org/democracy" target="_blank" rel="noopener noreferrer"> political freedom</a>,<a href="https://ourworldindata.org/homicides" target="_blank" rel="noopener noreferrer"> violence</a>,<a href="https://ourworldindata.org/extreme-poverty" target="_blank" rel="noopener noreferrer"> poverty</a>,<a href="https://ourworldindata.org/hunger-and-undernourishment" target="_blank" rel="noopener noreferrer"> nutrition</a>, and<a href="https://ourworldindata.org/ozone-layer" target="_blank" rel="noopener noreferrer"> some</a><a href="https://ourworldindata.org/natural-catastrophes" target="_blank" rel="noopener noreferrer"> aspects</a> of environmental change. See also<a href="https://ourworldindata.org/a-history-of-global-living-conditions-in-5-charts" target="_blank" rel="noopener noreferrer"> my short history of global living conditions</a>.</p></li><li id="note-2"><p>Except for the historical data, all data in this post is taken from IGME, the <em>UN Inter-agency Group for Child Mortality Estimation</em>. They publish their data here:<a href="https://childmortality.org/data/World" target="_blank" rel="noopener noreferrer"> childmortality.org/data/World</a></p><p>Their point estimate for the global number of deaths for children under 15 in 2021 is <a href="https://ourworldindata.org/grapher/number-of-youth-deaths?tab=table">5,862,574</a>.</p><p>This means on average there are 5,862,574 / 365.25 = 16,051 child deaths per day, 5,862,574 / (365.25 * 24) = 669 child deaths every hour, and 5,862,574 / (365.25 * 24 * 60) = 11.15&nbsp; child deaths every minute.</p></li><li id="note-3"><p>If we still suffered the poor health of our ancestors, more than 60 million children would die every year. How many children died at the time? We don’t know because data on the number of global births at the time is not available. For the 1950s and 1960s, we have estimates of both the number of births and the mortality rate, and the records show that around 20 million children died every year. See the data shown<a href="https://www.gatesnotes.com/Development/Max-Roser-three-facts-everyone-should-know" target="_blank" rel="noopener noreferrer"> here</a>.</p></li><li id="note-4"><p>See the world map on <a href="https://ourworldindata.org/grapher/youth-mortality-rate">the mortality of under-15-year-olds</a>.</p></li><li id="note-5"><p>See the data reported in <a href="https://ourworldindata.org/child-mortality-in-the-past" target="_blank" rel="noopener noreferrer">Mortality in the past – around half died as children</a>.</p></li><li id="note-6"><p>If we look at single countries, this difference becomes even more striking as in the countries with the best health, the child mortality rate is again almost twice as low as in the EU as a whole.</p><p>0.47% is calculated as the weighted average of the youth mortality rate of the following countries: Austria, Belgium, Bulgaria, Croatia, Cyprus, Czechia, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Ireland, Italy, Latvia, Lithuania, Luxembourg, Malta, Netherlands, Poland, Portugal, Romania, Slovakia, Slovenia, Spain, and Sweden. The data is also for 2021 and also from the same source (UN-IGME). The weights are assigned based on the number of children under the age of 15.</p><p>The countries with the lowest mortality rates today include San Marino, Norway, Japan, Finland, Singapore, Iceland, and Slovenia, where 99.7% of all children survive. <a href="https://ourworldindata.org/grapher/youth-mortality-rate?tab=table&amp;country=~OWID_WRL">This chart</a> shows the ranking. However, because several of these countries are small, I did not base this text on the data from any single country but on a large world region where millions of children are born every year.</p></li><li id="note-7"><p>The global number of child deaths, as reported above, is 5,862,574.</p><p>5,862,574 – 5,862,574 / (4.4 / 0.47) = 5,236,345 fewer children would die if the global mortality rate were 0.47% rather than 4.4%.</p></li></ol></div><div id="article-citation"><h3>Cite this work</h3><p>Our articles and data visualizations rely on work from many different people and organizations. When citing this article, please also cite the underlying data sources. This article can be cited as:</p><div><pre><code>Max Roser (2022) - “The world is awful. The world is much better. The world can be much better.” Published online at OurWorldInData.org. Retrieved from: 'https://ourworldindata.org/much-better-awful-can-be-better' [Online Resource]</code></pre></div><p>BibTeX citation</p><div><pre><code>@article{owid-much-better-awful-can-be-better,
    author = {Max Roser},
    title = {The world is awful. The world is much better. The world can be much better.},
    journal = {Our World in Data},
    year = {2022},
    note = {https://ourworldindata.org/much-better-awful-can-be-better}
}</code></pre></div></div><div id="article-licence"><p><img src="https://ourworldindata.org/owid-logo.svg" alt="Our World in Data logo"></p><h3>Reuse this work freely</h3><p>All visualizations, data, and code produced by Our World in Data are completely open access under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer">Creative Commons BY license</a>. You have the permission to use, distribute, and reproduce these in any medium, provided the source and authors are credited.</p><p>The data produced by third parties and made available by Our World in Data is subject to the license terms from the original third-party authors. We will always indicate the original source of the data in our documentation, so you should always check the license of any such third-party data before use and redistribution.</p><p>All of <a href="https://ourworldindata.org/faqs#how-can-i-embed-one-of-your-interactive-charts-in-my-website">our charts can be embedded</a> in any site.</p></div></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Three million malware-infected smart toothbrushes used in Swiss DDoS attacks (260 pts)]]></title>
            <link>https://www.tomshardware.com/networking/three-million-malware-infected-smart-toothbrushes-used-in-swiss-ddos-attacks-botnet-causes-millions-of-euros-in-damages</link>
            <guid>39277990</guid>
            <pubDate>Tue, 06 Feb 2024 18:07:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.tomshardware.com/networking/three-million-malware-infected-smart-toothbrushes-used-in-swiss-ddos-attacks-botnet-causes-millions-of-euros-in-damages">https://www.tomshardware.com/networking/three-million-malware-infected-smart-toothbrushes-used-in-swiss-ddos-attacks-botnet-causes-millions-of-euros-in-damages</a>, See on <a href="https://news.ycombinator.com/item?id=39277990">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="article-body">
<p>According to a recent report published by the <a data-analytics-id="inline-link" href="https://www.aargauerzeitung.ch/wirtschaft/kriminalitaet-die-zahnbuersten-greifen-an-das-sind-die-aktuellen-cybergefahren-und-so-koennen-sie-sich-schuetzen-ld.2569480?reduced=true" data-url="https://www.aargauerzeitung.ch/wirtschaft/kriminalitaet-die-zahnbuersten-greifen-an-das-sind-die-aktuellen-cybergefahren-und-so-koennen-sie-sich-schuetzen-ld.2569480?reduced=true">Aargauer Zeitung</a> (h/t <a data-analytics-id="inline-link" href="https://www.golem.de/news/iot-hacker-missbrauchen-zahnbuersten-fuer-ddos-angriffe-2402-181921.html" data-url="https://www.golem.de/news/iot-hacker-missbrauchen-zahnbuersten-fuer-ddos-angriffe-2402-181921.html">Golem.de</a>), around three million smart toothbrushes have been infected by hackers and enslaved into botnets. The source report says this sizable army of connected dental cleansing tools was used in a DDoS attack on a Swiss company’s website. The firm’s site collapsed under the strain of the attack, reportedly resulting in the loss of millions of Euros of business.</p><p>In this particular case, the toothbrush botnet was thought to have been vulnerable due to its Java-based OS. No particular toothbrush brand was mentioned in the source report. Normally, the toothbrushes would have used their connectivity for tracking and improving user oral hygiene habits, but after a malware infection, these toothbrushes were press-ganged into a botnet.</p><p>Stefan Züger from the Swiss branch of the global cybersecurity firm <a data-analytics-id="inline-link" href="https://www.fortinet.com/" data-url="https://www.fortinet.com/">Fortinet</a> provided the publication with a few tips on what people could do to protect their own toothbrushes – or other connected gadgetry like <a data-analytics-id="inline-link" href="https://www.tomshardware.com/networking/routers/best-wi-fi-routers" data-before-rewrite-localise="https://www.tomshardware.com/networking/routers/best-wi-fi-routers">routers</a>, set-top boxes, surveillance cameras, doorbells, baby monitors, <a data-analytics-id="inline-link" href="https://www.tomshardware.com/networking/your-washing-machine-could-be-sending-37-gb-of-data-a-day" data-before-rewrite-localise="https://www.tomshardware.com/networking/your-washing-machine-could-be-sending-37-gb-of-data-a-day">washing machines</a>, and so on.</p><p>“Every device that is connected to the Internet is a potential target – or can be misused for an attack,” Züger told the Swiss newspaper. The <a data-analytics-id="inline-link" href="https://www.tomshardware.com/tag/security" data-auto-tag-linker="true" data-before-rewrite-localise="https://www.tomshardware.com/tag/security">security</a> expert also explained that every connected device was being continually probed for vulnerabilities by hackers, so there is a real arms race between device software/firmware makers and cyber criminals. Fortinet recently connected an ‘unprotected’ PC to the internet and found it took only 20 minutes before it became malware-ridden.</p><p>We don’t have the finer-grained details of the specific Swiss company targeted and suffered from the extremely costly DDoS attack. However, it is common for malicious actors to issue threats with monetary demands attached before <a data-analytics-id="inline-link" href="https://www.tomshardware.com/news/minecraft-ddos-attack-leaves-small-european-country-without-internet" data-before-rewrite-localise="https://www.tomshardware.com/news/minecraft-ddos-attack-leaves-small-european-country-without-internet">weaponizing their DDoS zombie army</a>. Perhaps the Swiss firm refused to pay up, or perhaps the malicious actors instigated this attack to show their muscle (teeth?) ahead of making any demands.</p><p>Though we don’t have the finer details of the DDoS story, it serves as yet another warning for device owners to do their best to keep their devices, <a data-analytics-id="inline-link" href="https://www.tomshardware.com/news/gigabyte-firmware-update-backdoor" data-before-rewrite-localise="https://www.tomshardware.com/news/gigabyte-firmware-update-backdoor">firmware</a>, and software updated; monitor their networks for suspicious activity; install and use security software; and follow <a data-analytics-id="inline-link" href="https://www.tomshardware.com/reviews/wireless-security-hack,2981-3.html" data-before-rewrite-localise="https://www.tomshardware.com/reviews/wireless-security-hack,2981-3.html">network security</a> best practices.</p>
</div><div data-hydrate="true" id="slice-container-newsletterForm-articleInbodyContent-h8f3FQZXjQeRipQ8gcVHsd"><section><p>Join the experts who read Tom's Hardware for the inside track on enthusiast PC tech news — and have for over 25 years. We'll send breaking news and in-depth reviews of CPUs, GPUs, AI, maker hardware and more straight to your inbox.</p></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA["Fake Chinese Income" Mortgages Fuel Toronto Real Estate Bubble: HSBC Bank Leaks (423 pts)]]></title>
            <link>https://www.thebureau.news/p/fake-chinese-income-mortgages-fuel</link>
            <guid>39277767</guid>
            <pubDate>Tue, 06 Feb 2024 17:52:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.thebureau.news/p/fake-chinese-income-mortgages-fuel">https://www.thebureau.news/p/fake-chinese-income-mortgages-fuel</a>, See on <a href="https://news.ycombinator.com/item?id=39277767">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png" width="1456" height="1198" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1198,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:4823278,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4443b67-56db-421c-a762-7803b6868b4e_2178x1792.png 1456w" sizes="100vw" fetchpriority="high"></picture></div></a><figcaption>PHOTO ILLUSTRATION: THE BUREAU INVESTIGATES TORONTO METHOD MORTGAGE LEAKS.</figcaption></figure></div><p>The whistleblower, a Canadian business school graduate, was staggered by the suspicious home loans he discovered in 2022 when he joined a mortgage approval team in a small HSBC branch on the outskirts of Toronto.&nbsp;</p><p>He knew of suspicions surrounding Chinese capital in British Columbia real estate, but had never witnessed shady lending while working at an HSBC branch in Campbell River, a bucolic town on the coast of Vancouver Island.</p><p>When he arrived at HSBC’s bank in Aurora, an affluent suburb north of Toronto, he discovered explosive growth in home loans to Chinese diaspora buyers during the Covid-19 pandemic.</p><p>Chinese migrants living across Toronto were obtaining mortgages from HSBC while supposedly earning extravagant salaries from remote-work jobs in China. In one example, an Ontario casino worker that owned three homes also claimed to earn $345,000 in 2020 analyzing data remotely for a Beijing company.&nbsp;</p><p>Before joining HSBC Canada, the whistleblower had studied fake-income mortgage frauds for his Business Masters degree at Vancouver Island University. After arriving at Aurora in February 2022, while digging into the branch’s loan books and interrogating his colleagues, he made mind-blowing assessments.</p><p>Since 2015, the whistleblower concluded, more than 10 Toronto-area HSBC branches had issued at least $500-million in home loans to diaspora buyers claiming exaggerated incomes or non-existent jobs in China.&nbsp;</p><p>These foreign-income scams spiked during the pandemic, the whistleblower believed, because borrowers could somewhat plausibly claim to be working remotely in other countries while riding out Covid-19 in Canada.</p><p>While a small bank of Aurora’s size was expected to issue about $23-million in residential loans every year, this branch had shovelled out $88-million in mortgages in 2020, according to the whistleblower, and over $50-million in 2021.</p><p><span>The whistleblower, whom</span><em>The Bureau</em><span> is calling D.M., immigrated to Canada as an international student from India, making him a minority among mostly Chinese-Canadian co-workers at the Aurora branch.&nbsp;</span></p><p><span>As D.M. probed his colleagues, his belief gained conviction, that HSBC Canada and other Canadian banks including </span><a href="https://betterdwelling.com/cibc-kills-foreign-income-program-makes-buying-canadian-real-estate-harder/" rel="">CIBC</a><span> had systemic problems with highly questionable mortgages issued to diaspora buyers with unverified sources of wealth in China.</span></p><p>Losing sleep, in April 2022, D.M. sent an audacious email to senior bank executives: “I am going to reveal potential mortgage fraud at HSBC Bank Canada and possibly some employees benefited from the fraud, financially pocketing thousands of dollars, which I call the proceeds of crime.”</p><p><span>D.M.’s explosive four-page complaint triggered an internal investigation that led to some reforms at HSBC Canada according to internal emails obtained by </span><em>The Bureau.</em></p><p>But more than a year later, D.M. was so dissatisfied with the bank’s response that he risked sharing his story and numerous internal documents for an unprecedented journalistic investigation into Canada’s housing affordability crisis.</p><blockquote><p><span>“I found out a huge mortgage fraud showing borrowers with exaggerated income from one specific country, China, pretending to be working remotely,” D.M. informed </span><em>The Bureau</em><span> in June 2023. “I believe the housing prices in Toronto are linked to this, because this is about income verification in banks, which is supposed to moderate demand.”</span></p></blockquote><p><em>The Bureau</em><span> asked HSBC Canada to review emailed information for this story and provide an appropriate manager for an interview regarding D.M. 's records and allegations.</span></p><p>“I won’t have anyone to speak with you directly,” Sharon Wilks, Head of Communications, responded. “But for context: As a global bank, HSBC is at the forefront of efforts to identify, prevent and deter financial crime … We will not do business with individuals or entities we believe are engaged in illicit conduct.”</p><p>Wilks added that HSBC Canada “can and do regularly exit relationships with clients whose activities we deem too risky.”</p><p><em>The Bureau’s</em><span> seven-month investigation into D.M.’s allegations suggests HSBC Canada and other Canadian banks could have issued many billions of dollars in questionable mortgages to Chinese diaspora buyers, and a significant cause of Canada’s real estate bubble is hundreds of billions in illicit fund transfers from China into Canada, and bank lending that amplifies its impacts, especially in Toronto and Vancouver home prices.</span></p><p>“There are thousands of these cases, large scale,” D.M. said in an interview. “Hardworking Canadians are denied mortgages and these Chinese residents forge documents and get mortgages approved, heating up the already hot Ontario real estate markets.”</p><p>“These people don’t have steady jobs or income in Canada,” he alleged, “but what they are doing is scams to launder money, and get mortgages using fake documents.”</p><p><em>The Bureau’s </em><span>investigation included asking seven prominent Canadian experts to assess some of D.M.’s documents, allegations and conclusions.</span></p><p>This investigation suggests D.M. 's calculation is plausible, that the Aurora branch and other Toronto-area HSBC branches have issued at least $500-million in questionable Chinese income loans since 2015.</p><p>But D.M’s findings could also change the public’s understanding of housing affordability in Toronto and Vancouver, a politically explosive issue expected to frame Canada’s upcoming federal election.&nbsp;&nbsp;</p><p><span>This is because, according to the academics and criminologists that reviewed D.M.’s documents with</span><em> The Bureau, </em><span>his evidence fits into FINTRAC’s much broader examinations of suspicious real estate and banking transactions.</span></p><p>In 2023, the anti-money laundering watchdog published a ground-breaking study into 48,000 Chinese diaspora banking transactions.</p><p>FINTRAC found that during the Covid-19 pandemic, because Canadian casinos were closed, Chinese underground banking schemes evolved, flooding electronic fund transfers from Hong Kong into Canadian bank accounts that served like corridors for murky real estate transactions.&nbsp;</p><p><em>The Bureau’</em><span>s analysis also finds that what D.M. discovered in Toronto banks, finally sheds light on mysterious capital flows discovered by a prominent Canadian academic in 2015, in a study of Vancouver land titles and mortgages. </span></p><p>That examination of $525-million worth of real estate purchases in a six-month period found 66 percent of buyers in several affluent neighbourhoods were recent Chinese diaspora migrants, and most mortgages went to buyers with little or no income in Canada.</p><p><span>Similarly, what D.M. found in his probe of pandemic-era loans could be called the evolving “Toronto Method” of an underground banking system discovered first in Vancouver, and </span><a href="https://cullencommission.ca/files/reports/CullenCommission-FinalReport-Full.pdf" rel="">found to be</a><span> laundering a stunning $1.2-billion in cash from Mainland China through British Columbia government casinos in 2014.</span></p><p><span>This system of shadowy transfers was dubbed the </span><a href="https://globalnews.ca/news/4658157/fentanyl-vancouver-real-estate-billion-money-laundering-police-study/" rel="">“Vancouver Model”</a><span> by an Australian professor, and brings together transnational organized crime, affluent Chinese nationals seeking to export their wealth abroad, and Canadian casinos, banks and real estate, in transactions that evade policing because the pivotal cash exchanges are done off the books by professional money launderers serving the global Chinese diaspora.</span></p><p>According to FINTRAC’s 2023 study of 48,000 pandemic-era transactions, this evolving Vancouver Model network&nbsp;“simultaneously facilitates money laundering and the circumvention of Chinese currency controls”</p><p>“As a result of the temporary closures of Canadian casinos due to the COVID-19 pandemic, professional money launderers began to diversify their money laundering methods,” FINTRAC’s study says. </p><p>“During this time, FINTRAC observed a rise in money laundering typologies involving transferring large sums of funds to Canada from foreign money services businesses, often located in China, notably Hong Kong, and the laundering of the funds primarily through the real estate, securities, automotive and legal professions.”</p><p>These wire transfers from China were routed into bank accounts of “multiple, unrelated individuals in Canada,” that served as “money mules” in byzantine networks involving Canada-based real estate developers, real estate agents, mortgage brokers and banks.</p><p>These Chinese diaspora bank account owners often claimed they were students, homemakers, office managers, or unemployed, FINTRAC reported.</p><p>They sometimes used their accounts to send bank drafts to others in Canada for home purchases, or served as “straw buyers” for offshore investors.</p><p>“Mortgage payments are sourced from incoming funds from China,” FINTRAC’s alert said.</p><div><figure><a target="_blank" href="https://fintrac-canafe.canada.ca/intel/operation/ml-rec-eng" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png" width="1456" height="940" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:940,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1047399,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://fintrac-canafe.canada.ca/intel/operation/ml-rec-eng&quot;,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5b3c1365-9abb-4827-82d7-bb89048db9f4_2276x1470.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>FINTRAC’s 2023 Project Athena alert on Chinese money laundering schemes using Canadian banks and real estate.</figcaption></figure></div><p>FINTRAC’s study doesn’t say that Canadian banks knowingly issued fake-income mortgages to Chinese diaspora buyers in Toronto.&nbsp;</p><p>But in an interview, D.M. said banking staff are trained to guard against fraud, and the loan application packages he reviewed in Aurora beggared belief.</p><p>“The bank found out that one lady works in a casino part-time but got a $1.4 million mortgage showing over $300,000 annual income,” he said. “Plus she takes money as benefits from the government, for her two kids.”</p><p>In other examples, an HSBC mortgage client claimed to earn $700,000 annually for remote work in China, while simultaneously living in Canada and paying off a $10,000 student loan.&nbsp;</p><p>Another woman who owned homes in Aurora, Markham and Scarborough, worked part-time as a hairdresser while also claiming to earn $536,280 at a “Business Manager” job in Guangzhou.&nbsp;</p><p>“Canadian workers have been put out of the real estate market by people working as a hairdresser that own a couple homes,” D.M. said in an interview. </p><p>“How is that fair?”</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png" width="1456" height="773" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:773,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:4345438,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fea7e29cf-ae2d-4037-a9bf-4be7956bcef3_2298x1220.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>The most shocking case reviewed by </span><em>The Bureau</em><span>, shows that one woman that owns at least four Toronto properties opened her HSBC Aurora bank account in 2012, claiming to be a “Homemaker with no annual income.”&nbsp;</span></p><p>But her Toronto account soon received incredible amounts of wire transfers from HSBC China accounts, and paid out “high value cheques” to third parties for real estate purchases. </p><p>This case suggests “Toronto Method” shadow banking described in FINTRAC’s 2023 study has been seeping into Toronto real estate for about a decade.</p><p>And yet in 2020, this same woman applied for another HSBC Canada mortgage, claiming to earn $763,000 remotely from her job in China.</p><p>This evidence from the HSBC whistleblower complements the seminal investigations of Simon Fraser University academic Andy Yan, who examined sales from August 2014 to February 2015 in several communities on Vancouver’s westside. The average home price in Yan’s study was $3-million.</p><p><span>Looking back at his Vancouver findings in comparison to D.M.’s Toronto banking documents, Yan told </span><em>The Bureau</em><span> “I think this helps affirm some of my early work that I did, almost nine years ago.”</span></p><blockquote><p>“This goes to the core of our banking system,” he said, “and how are we verifying identities and how are we verifying incomes.”</p></blockquote><p>In Yan’s controversial study the vast majority of mortgages went to buyers listing their occupation as home-maker, followed by students, and managers. HSBC and CIBC were the dominant lenders. </p><p>Unlike the HSBC whistleblower, Yan had no access to internal banking data regarding the purported origin of funds behind these mortgages taken by Chinese diaspora buyers.&nbsp;</p><p><span>But in an interview, Yan said what he found most interesting back in 2015, was suspicions that Chinese migrants were often buying homes with </span><a href="https://www.ice.gov/partnerships-centers/bcsc/faq" rel="">bulk cash, </a><span>weren’t accurate. The truth was more </span><a href="https://globalnews.ca/news/4658158/fentanyl-kingpins-canada-big-circle-boys/" rel="">complex</a><span> and seems to be clarified by D.M.’s mortgage findings in Toronto.</span></p><p>“It's about that global flow of capital, and how it's multiplied by Canada’s mortgage and lending system,” Yan said. “Because you have to remember, one of the biggest conclusions about my study was that it wasn't bags of cash that were being used to purchase Vancouver homes outright. They were loans being used. So now, I’m thinking, this is where my study connects up to what you have discovered in Toronto.”</p><p>“The interesting story here,” Yan added,&nbsp;“is what happens in Toronto real estate may not repeat Vancouver, but it perhaps rhymes.”</p><p>Probably the most famous Chinese property owner from Yan’s 2015 study areas is Huawei executive Meng Wanzhou. In 2009 her family bought a home in Vancouver’s Dunbar neighborhood for $2.73 million, land titles show. In 1998, ten years before Vancouver Model transactions started to surge in Vancouver real estate, the home was sold for $370,000. The home is now valued at almost $6-million.</p><p><a href="https://summit.sfu.ca/item/37923" rel="">Ashleigh Gonzales</a><span>, a former RCMP data scientist who recently published a criminology thesis finding Chinese diaspora underground banking causes significantly more money laundering into Canada’s real estate than previously estimated, said that D.M.’s findings resemble her own Vancouver Model research.</span></p><p>“This whistleblower’s allegations of widespread mortgage fraud at HSBC Canada align with some of the first-hand accounts from staff of some Canadian financial institutions that I have come across in my research on money laundering in British Columbia,” Gonzales said. </p><p>Gonzales, who worked for RCMP’s anti-gang unit in British Columbia until 2023, says she found reports of mortgage fraud accelerated “during the uptick in the Canadian housing bubble after the Vancouver 2010 Olympics,” and continued to surge from 2015 to 2018.</p><p><span>With all this considered, and comparing data sources in this story with previous evidence confirmed in British Columbia’s </span><a href="https://cullencommission.ca/files/reports/CullenCommission-FinalReport-Full.pdf" rel="">Cullen Commission, </a><em>The Bureau </em><span>estimates that from 2014 to 2023, well over $200-Billion in Vancouver Model and Toronto Method funds could have poured through underground diaspora networks and Canadian financial institutions into Toronto and </span><a href="https://globalnews.ca/news/4658157/fentanyl-vancouver-real-estate-billion-money-laundering-police-study/" rel="">Vancouver’s real estate.</a></p><p><span>A federal official not authorized to comment publicly also examined D.M.’s banking leaks for </span><em>The Bureau,</em><span> and called this information “explosive.” </span></p><p>The official said money laundering is increasing in Canada, and D.M.’s belief that Chinese-income mortgage fraud has boosted home prices in Toronto is likely true, but also should apply for Vancouver and Montreal real estate prices. The official noted that other nations require tax agencies to verify incomes for mortgages, which isn’t the case in Canada.</p><p>“It matters for our next generation because of the impact on the housing market,” the official said.&nbsp;</p><p><span>Queen’s University professor Christian Leuprecht – editor of</span><em> Dirty Money</em><span>, a new academic text that probes how Ottawa’s weak regulation has “turned the Canadian federation into a destination of choice for global financial crime” – also reviewed some of D.M. 's leaks.</span></p><p>“It’s not a new problem, but you’re taking it to the next level,” Leuprecht said. </p><blockquote><p>“Why does this matter?&nbsp; Because organized crime isn’t just laundering their ill-gotten gains, like any good business person, when they buy real estate, they generate a down payment, then get a mortgage for the rest.&nbsp; Why buy one property when you can buy four?”</p></blockquote><p><em>The Bureau’s</em><span> review of HSBC Canada emails and D.M.’s text messages, shows he came to believe numerous employees at the Aurora branch had direct knowledge of faked Chinese income mortgages, and a veteran manager with oversight of more than 10 Greater Toronto branches knew about broad and questionable mortgage lending for Chinese diaspora clients.</span></p><p>Months after D.M. blew the whistle internally he exchanged texts with another employee, identifying colleagues that they believed had knowledge of diaspora mortgage scams. </p><p>The texts suggest D.M. believed HSBC Canada and other Canadian banks continued to hold vast amounts of suspicious foreign income mortgages, which could cause systemic loan quality risks if Toronto’s real estate prices decline.</p><p>“Do you know how many mortgage frauds we have in our books,” D.M. texted to his colleague. “It’s insane.”&nbsp;</p><p>“She told me,” the colleague replied, referring to an HSBC branch manager. </p><p>“She was like, if you do come, you gotta be prepared for the mortgage payout.”</p><p>“These people showed fake income and got mortgage,” D.M. continued. “Now interest rate is high, they can’t cope.”</p><p>“Other branches did the same thing too,” his co-worker replied. “I heard there’s a lot.”</p><p>“Absolutely,” D.M. texted. “All branches engaged in it.”</p><p>“This is like the unspoken secret,” his co-worker concluded. “I’m pretty sure other banks have it too. My Aunt have no income and got a mortgage for 700k. They just need a Covenanter from China.”</p><p>Generally, in mortgage contracts a covenanter takes responsibility for the loan if the primary borrower defaults.&nbsp;</p><p><span>Internal records reviewed by </span><em>The Bureau</em><span> confirm that on April 18, 2022, D.M. sent a lengthy complaint email to senior HSBC Canada executives, informing them of allegations he’d learned from his colleagues.&nbsp;</span></p><p>In it, he alleges that an Aurora manager had informed him of a complaint letter posted to the branch, that accused mortgage brokers and branch employees of colluding in scam mortgages emanating from Mainland China fraud networks.</p><p>Pointing to specific examples, D.M. claimed that another branch colleague had admitted processing numerous loan applications without meeting his clients, because a branch manager delivered her subordinates foreign income client applications so “they did not have to get sales themselves.”</p><p>&nbsp;“Surprisingly all these clients he would get will have foreign income most of the time very inflated like 400k or 670k a year,” D.M. wrote. “To me that’s suspicious, but he never questioned the branch manager because in Asian culture it’s disrespectful to question elders.”</p><p>D.M. also informs his bosses that one Aurora bank manager opened up to him, saying she believed allegations of mortgage fraud collusion involving some branch staff.</p><p>“She said yes, she knows specially in Mainland China there is a team who would even answer emails and phone calls verifying [Chinese income] but it’s a sophisticated and well organised scam,” D.M. 's email to HSBC Canada managers says.</p><p>His complaint explains that he continued to press an Aurora bank manager on her knowledge of fraud allegations.</p><p>“When I asked for such a serious issue if she raised a HSBC confidential [complaint] or not she evaded my question,” D.M. wrote. “Now we all love numbers, but I don't think the bank will like these kinds of numbers achieved through this way.”</p><p>Describing why he contacted HSBC Canada executives directly, the whistleblower’s complaint says he felt confused and isolated, but D.M. decided “local leadership if not participated, at least turned a blind eye,” to Chinese fake-income scams, forcing D.M. to “bring up a serious issue against people of superior positions.”</p><p>“I could not have stayed silent, in fact I could not sleep well thinking about it,” his April 2022 complaint says. “It reminds me to some extent what happened with the Home Capital Group.”</p><p>“The whole thing is wrong on so many grounds,” D.M. continued.</p><blockquote><p>“Now I know one more reason why Canadians and permanent residents are not getting into the housing market. It’s not only HSBC such things are happening across other Canadian banks as well.”</p></blockquote><p><span>In the</span><a href="https://www.osc.ca/sites/default/files/pdfs/proceedings/set_20170614_home-capital.pdf" rel=""> Home Capital case,</a><span> the Ontario Securities Commission fined the prominent Ontario-based subprime mortgage lender in 2017, alleging Home Capital failed to disclose several of its mortgage brokerages had major problems with faked-income mortgages.</span></p><p>D.M. concluded his four-page complaint to senior executives, writing: “I recommend all mortgage deals of this branch in the last 3 years at least if not longer with Foreign income be probed.”</p><p>“Bank statements can be verified directly with the foreign banks or use a reputable third party to verify,” he suggested. “When we find someone with Fake ID or trying to impersonate someone we call the cops. But these people, both staff nor clients who did fraud were reported.”</p><p>Hours later on April 18, 2022, an HSBC Canada executive emailed back: “I am going to refer this to our Fraud and Risk teams and they will investigate your concerns.”</p><p>The next day D.M. continued to hound HSBC Canada managers with emails to support his allegations, spotlighting the absurdity of massive Chinese remote incomes claimed by diaspora buyers.</p><p>He pointed to one woman with a $1.6-million HSBC Canada mortgage.</p><p>“The client claims to be in Canada but [is] a office supervisor in China. [In the] age of remote working in which country [does] a office supervisor makes 400k please tell me,” D.M. wrote.</p><p> “[W]hen I asked the co-worker she said her job is not to use the brain or be a police, when I asked do you think she makes that kind of money and how is she doing her job being in Canada to be an office supervisor in China[?]”</p><p>Pointing to another document,&nbsp;D.M. warned his managers about Ms. Chen, who claimed to make $721,000 annually as “project manager” for a Beijing telecommunications company, to secure a $1.89 million mortgage.&nbsp;</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png" width="1456" height="510" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:510,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1928546,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbcc45270-172a-4e1a-a3f2-730bd8cb8e41_1782x624.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Again on May 4, 2022, D.M. emailed executives, suggesting internal records for an Aurora client named Ms. Jin had been altered soon after D.M. blew the whistle on fake Chinese income loans.</p><p>His email, which included Ms. Jin’s client profile, warned: “Something interesting happened yesterday, they added a China address to go with [the] story of working in China, please see below.”</p><p><span>The Aurora branch banking records disclosed to </span><em>The Bureau</em><span> show that Ms. Jin owns three homes in the blocks surrounding Pacific Mall in Markham.</span></p><p>“The client was onboarded on 24th March with Canada address only and Canadian tax residency,” D.M.’ s email continued.</p><p>“She claims to be working in China and have foreign income, so the story she is stuck in Canada due to Covid is very interesting. Suddenly yesterday she decided her address in China. Someone saw the discrepancies and the branch team decided to change it.”</p><p>“To me that's a red flag done to align with the story portrayed.”</p><p>Next, D.M. exposed Ms. Chen’s foreign income claim.</p><p>“She works for Food processing company, a logistics officer making 273k a year,” he wrote. “I don't know which logistics officer can work when physically in a different company and also who makes 273k working as a logistics officer.”</p><p>Citing another internal banking record, D.M.’s email pointed to Ms. Jin’s $273,000 income and said “it’s interesting how they did the verification.”</p><p>The email continues to explain that branch records showed Ms. Jin and her husband had a joint mortgage with a balance of $497,000 at CIBC. </p><p>But suddenly during Covid-19, Ms. Jin applied for a new mortgage for $1.2 million with HSBC Canada.</p><p>“When I see such things I can't stay quiet,” D.M.’s May 2022 email says. “[I] was assuming with the new rules things will stop, [but]&nbsp;declining the mortgage or retraining the staff is like treating the symptoms.”</p><p>He added that many suspicious Chinese income loans had been “flagged by our Fraud Team already.”</p><p>The whistleblower’s scathing assessment ends with the observation that D.M. didn’t believe “someone woke up and decided to scam the bank, but [worked with] a sophisticated network of agents who are training people what to say and answer.”</p><p>“The implications are broader and as a responsible bank and citizen we have to,” request investigations from the Canadian Revenue Agency or Ontario Provincial Police, D.M. asserted.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png" width="1456" height="982" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:982,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:3900114,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7a768b85-da71-4092-94ee-6e2dc0b3a464_1800x1214.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>D.M., who asked not to be named because he could face reprisals, filed a four-page whistleblower complaint with HSBC Canada managers in April 2022.</figcaption></figure></div><p><em>The Bureau</em><span> asked</span><a href="https://summit.sfu.ca/item/37923" rel=""> Ashleigh Gonzales</a><span>, the former RCMP data scientist, to review some of D.M.’s documents and conclusions.</span></p><p>“From what I have reviewed, D.M.’s findings align with what appear to have been commonplace practices by some groups of staff complicit from the front line, middle office, and back office and sanctioned by management,” Gonzales wrote, adding “whether knowingly or not depends on the individual work cultures.”</p><p><em>The Bureau</em><span> also asked Stephen Punwasi to review D.M. 's leaked banking documentation.</span></p><p><span>Punwasi is a financial expert who founded </span><em>Better Dwelling,</em><span> a real estate analysis website with a large following of young professionals trying to understand </span><a href="https://betterdwelling.com/canadas-real-estate-bubble-is-batsht-crazy-compared-to-other-g7s/" rel="">why they’re excluded </a><span>from home ownership in Canadian cities.</span></p><p>He also provided analysis for British Columbia’s 2018 report into Vancouver Model money laundering in casinos, real estate and luxury vehicles.&nbsp;</p><p>What Punwasi explained to the report’s author, former RCMP executive Peter German, is that even though Vancouver Model money launderers don’t comprise a majority of buyers in Vancouver, their willingness to overbid on home sales causes ripples that sends prices skyrocketing, especially during times when political turmoil inside China triggers increased capital flight.</p><p>“In 2015 and 2016 Ontario saw this flood of money from China, just like British Columbia, and it was not just to do with immigration, it was due to President Xi’s political crack down on corruption,” Punwasi said. “I think we’ve seen that capital flight in Ontario and B.C. in two big cycles, also including 2020 and 2021.”</p><p><em>The Bureau</em><span> asked Punwasi if the banking records disclosed by D.M. help to explain Toronto’s real estate price surges.</span></p><p>“Absolutely,” he said, pointing to the case of Ms. Jin (who claimed a $273,000 remote-work income in China) and her three homes surrounding Markham’s Pacific Mall. </p><p>Property buyers that aren’t shopping for shelter, but for capital flight or money laundering vehicles, are what Punwasi terms the “marginal buyer.”</p><blockquote><p>&nbsp;“The marginal buyer is like an exuberant buyer on crack, so if they are motivated to move as much money as possible,” he said, “the larger the mortgage they can get, it helps them to overpay for homes, and that can cause the price to launch.”</p></blockquote><p>“So if you see a townhome in Toronto going for $2-million, you don’t know if it is mortgage money laundering or someone buying a place to live. You just have to compete with the going price.”</p><p>Punwasi says housing prices are a powerful political issue that will shape the next federal election. </p><p><span>But at the same time, young generations are confused by competing explanations on the causes of Canada’s housing affordability crisis, Punwasi believes, whether its lack of housing supply due to restrictive zoning bylaws, or increased demand due to recent immigration surges, or other factors that make Canada’s </span><a href="https://betterdwelling.com/cibc-kills-foreign-income-program-makes-buying-canadian-real-estate-harder/" rel="">housing bubble </a><span>an outlier in the Western world.</span></p><p>“There are so many conflicting narratives right now that people find it hard to believe the scale of impact that money laundering can have on Toronto real estate prices,” Punwasi said. “But no one has thought it through, that having criminals run our renting stock is a liability.”</p><p>Punwasi also believes that Prime Minister Justin Trudeau’s government has decreased scrutiny of money laundering in recent years.</p><p><span>He points to new data uncovered in a ministerial inquiry from Conservative MP Adam Chambers, who is a proponent of </span><a href="https://www.adamchambersmp.ca/bill-c-289" rel="">tougher money</a><span> laundering laws, which found sharp declines in Canadian Revenue Agency audits of FINTRAC leads.</span></p><blockquote><p><span>“The systemic corruption in housing has been snowballing,” Punwasi said, “to where it's turned into, maybe the banks don’t need to check where the </span><a href="https://betterdwelling.com/cibc-kills-foreign-income-program-makes-buying-canadian-real-estate-harder/" rel="">incomes</a><span> are coming from, and now whole generations can’t find stable shelter.”</span></p></blockquote><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png" width="1456" height="1103" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1103,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:237254,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc53837cb-1742-46ff-b773-3ecee1451e3a_1494x1132.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Adam Chambers, a Toronto-area Conservative MP who unsuccessfully tabled a private members bill on stricter anti-money laundering laws, found CRA money laundering reviews are decreasing.</figcaption></figure></div><p><span>HSBC Canada emails reviewed by </span><em>The Bureau</em><span> show that while the bank appears to have responded to some of H.M. 's recommendations in 2022, troubling mortgage applications and problems with existing Chinese income loans continued.</span></p><p>A January 2023 email to an Aurora branch manager from HSBC Canada’s office in Montreal pointed to a client named Ms. B., who worked at an Ontario government casino, and owned homes across Toronto, in Richmond Hill, Newmarket and East York. </p><p>Documents show she obtained an HSBC Canada mortgage for $1.26 million in 2016, and that HSBC Canada staff&nbsp; “confirmed” in July 2021 that she was earning $345,000 with a remote work job in Beijing.&nbsp;</p><p>Despite her incredible claimed income, documents show, Ms. B. was having trouble paying at least one of her three mortgages.&nbsp;</p><p>An email from a “Senior Loss Mitigation” employee in Montreal to an Aurora branch employee says: “client is going through a tough time … her income is limited … I know she collect rent and she use it to pay her second mortgage. Please review the situation with the client to see if there is any special agreement available to her.”</p><p>But Aurora’s branch wrote back to the Montreal branch: “What we have told her is … if she really can’t pay, then she just have to put her house for sale … but she doesn’t want to do that.”</p><p><span>In an interview D.M. told </span><em>The Bureau</em><span> this case was typical.</span></p><p>“What they are doing is AirBnBing these properties,” he said. “But they can’t manage with higher interest rates.”</p><p>He said during mortgage application interviews at the Aurora branch he would often look across his desk and ask questions without letting clients know he was looking at their income claims from purported Chinese companies on his computer screen.&nbsp;</p><blockquote><p>“Most of these people don’t even know what type of company is in their job profile,” he said.</p></blockquote><p><span>And documents reviewed by </span><em>The Bureau</em><span> show that mortgage applications consistent with Fintrac’s 2023 Chinese money laundering report continued in Aurora.&nbsp;</span></p><p>In May 2023, D.M. emailed a senior HSBC Financial Crime Compliance investigator, writing “Just came across two profiles of clients and I have strong evidence these mortgages were also obtained with fake docs and fraudulently.”</p><p>When the investigator responded “I will take a look,” D.M. replied: “One had a CDA student loan of 10k and making 700k in China. Makes no sense, there are many other anomalies.”</p><p><span>In interviews,&nbsp;D.M. told </span><em>The Bureau</em><span> he waited “patiently for a year” after reporting his Chinese-income mortgage concerns to HSBC Canada managers, before concluding the bank’s response was insufficient.</span></p><p>“This has been going on for seven&nbsp;years and no one spoke up,” he said.&nbsp;“In my first meeting last year, they asked me a lot of questions, like why didn’t you use the normal channels? But I had no faith in the normal channels.”</p><p>“Many bank staff were obviously involved,” D.M. alleged. “It was not one or two employees turning the blind eye but the entire system, someone verifying those fake offer letters and pay stubs, or their bank statements from China.”</p><p>D.M. said his concerns also included HSBC Canada’s proposed sale to RBC, which was announced in 2022, about six months after D.M. 's April 2022 internal complaint. The sale was approved in December 2023 by Canada’s deputy Prime Minister Chrystia Freeland.</p><p>Christian Leuprecht, among other experts interviewed for this story, agreed that D.M.’s allegations of widespread Chinese-income frauds at HSBC Canada could raise questions about whether Freeland, Canada’s finance minister, had knowledge of mortgage lending investigations inside HSBC when she approved the sale.</p><p><span>Freeland directed RBC to “establish a new Global Banking Hub in Vancouver,” and “maintain Mandarin and Cantonese banking services at HSBC branch locations,” a Department of Finance </span><a href="https://www.canada.ca/en/department-finance/news/2023/12/government-of-canada-approves-sale-of-hsbc-bank-canada-to-the-royal-bank-of-canada-with-conditions.html" rel="">statement says.</a></p><p>Ultimately, D.M. says he chose to share his story with Canadian citizens partly because he felt pressured to erase evidence from his whistleblower complaint emails.</p><p>A June 2023 email from the bank’s personnel department says “we hereby demand that you immediately and permanently delete any and all HSBC information on any personal email accounts.”</p><p>“If you do not comply with these obligations,” the email warns, “HSBC also reserves the right to bring this matter to the attention of relevant law enforcement agencies.”</p><p>Another July 2023 email from senior management said: “I will reiterate how much we appreciate that you spoke up,” and confirmed that D.M.’s complaints to HSBC Canada resulted in “several enhancements to income verification procedures.”&nbsp;</p><p>The manager’s email continues, saying “as part of your escalation, you sent confidential information from the bank to your personal email account,” and asserts that D.M. had promised to delete the “confidential client information in your personal possession.”</p><p>“I could not sleep, and they were telling me delete, delete, delete,” D.M. recalled in an interview.</p><p><span>HSBC Canada did not respond to follow-up questions from </span><em>The Bureau</em><span> regarding D.M.’s specific allegations.</span></p><p>Now he is looking for accountability.</p><p>“There should be a thorough, retrospective audit of HSBC Bank mortgage deals and eventually all Canadian banks in Canada and stricter regulations when it comes to mortgage approval showing foreign income,” D.M. said, “because there are many skeletons in the cupboard.”</p><p><span>Garry Clement, a former RCMP anti-money laundering expert who also contributed to the Canadian academic text </span><em>Dirty Money, </em><span>reviewed some of D.M.’s Toronto Method documents, and commented “the best description of the bank’s actions, is willful blindness.”&nbsp;</span></p><blockquote><p>“This is one well-documented example of how banks are catering to Chinese citizens without following strict know your customer guidelines as they would for any Canadian,” Clement said.&nbsp; </p><p>“We must recognize that a lot of the loans occurred at a time when our political leaders catered to China with a naïve understanding.”</p></blockquote><p><span>Calvin Chrustie, a former RCMP transnational crime investigator </span><a href="https://nationalpost.com/news/canada/canada-a-safe-haven-for-transnational-crime-networks-and-their-dirty-money-u-s-report" rel="">whose recent  report</a><span> finds Canada’s weak regulations have made the nation a playground for underground banking linked to organized crime in China, Iran and Mexico, noted that in 2012, U.S. regulators hit HSBC with a $1.9 billion fine because of $881-million in suspicious transactions with Mexico’s Sinaloa cartel and Colombia’s Norte del Valle cartel.</span></p><p>“The bigger question in Canada now is why aren’t we looking at what is happening in the banks?” Chrustie said. “We haven’t looked at the complicit actions of financial institutions, while we rely on well-intended entities like FINTRAC, who like police are often restricted in what they can do, or say to the public.”</p><p><span>FINTRAC would not confirm or deny whether its recent fines on CIBC for failing to report suspicious</span><a href="https://fintrac-canafe.canada.ca/pen/amps/pen-2023-12-05-eng" rel=""> wire transactions</a><span> and a fine on RBC for failing to report suspicious transactions</span><a href="https://fintrac-canafe.canada.ca/pen/amps/pen-2023-12-05-eng" rel=""> related to frauds,</a><span> relate to FINTRAC’s 2023 report on Chinese shadow banking and pandemic-era bank account and real estate transactions. </span></p><p><span>FINTRAC also would not confirm whether a </span><em><a href="https://www.theglobeandmail.com/business/article-td-bank-fintrac-penalties-anti-money-laundering-controls/" rel="">Globe and Mail</a></em><a href="https://www.theglobeandmail.com/business/article-td-bank-fintrac-penalties-anti-money-laundering-controls/" rel=""> </a><span>report that TD Bank faces a money laundering compliance fine of more than $10-million is accurate, or relates to the Covid-19 shadow banking schemes.</span></p><p>Like the former RCMP experts interviewed for this story, Andy Yan says governments in Ottawa and British Columbia and Ontario are ultimately responsible for ushering mysterious wealth into Canada’s homes.</p><p>“It’s like, this isn’t entirely new, what you have found in Toronto,” Yan summed up. </p><blockquote><p>“When you have programs that are directly meant to domesticate foreign capital into local real estate markets, you start seeing these patterns or these incongruities between incomes and house values. And we have institutions that really are supposed to safeguard us in terms of transparency and accountability.”</p></blockquote><p>Meanwhile, a second property owned by Meng Wanzhou in Vancouver attests to the murkiness surrounding Chinese wealth, but also broader concerns of former RCMP experts interviewed for this story, on how and why Chinese state and non-state actors move funds globally.</p><p><span>In 2016 Meng, who held at least </span><a href="https://www.agpllp.ca/insights/the-many-passports-of-arrested-huawei-cfo-meng-wanzhou/" rel="">seven different</a><span> visas or passports, purchased a $15-million mansion with an </span><a href="https://www.straight.com/news/huaweis-meng-wanzhou-loved-vancouver-and-has-two-homes-worth-at-least-182-million" rel="">HSBC Canada </a><span>mortgage in Shaughnessy, a luxurious community just outside of Yan’s study areas. </span></p><p><span>Other mansions in Shaughnessy featured prominently in a confidential RCMP study of all homes sold for between $3-million and $30-million in 2016. That police intelligence study </span><a href="https://globalnews.ca/news/4658157/fentanyl-vancouver-real-estate-billion-money-laundering-police-study/" rel="">found Chinese transnational gangsters </a><span>and Vancouver Model suspects linked to over $1-Billion in property purchases in 2016.</span></p><p><span>Ironically — in the case that disrupted Canada’s warming relations with China under Justin Trudeau — Meng finally admitted to U.S. government </span><a href="https://www.justice.gov/opa/pr/huawei-cfo-wanzhou-meng-admits-misleading-global-financial-institution" rel="">financial fraud </a><span>charges that she misled HSBC about international transactions, and “Meng and her fellow Huawei employees engaged in a concerted effort to deceive global financial institutions, the U.S. government and the public about Huawei’s activities in Iran.” </span></p><p><em>sam@thebureau.news</em></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[China spied on Dutch Cyber Intelligence through FortiGate backdoors (101 pts)]]></title>
            <link>https://www.defensie.nl/actueel/nieuws/2024/02/06/mivd-onthult-werkwijze-chinese-spionage-in-nederland</link>
            <guid>39277525</guid>
            <pubDate>Tue, 06 Feb 2024 17:36:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.defensie.nl/actueel/nieuws/2024/02/06/mivd-onthult-werkwijze-chinese-spionage-in-nederland">https://www.defensie.nl/actueel/nieuws/2024/02/06/mivd-onthult-werkwijze-chinese-spionage-in-nederland</a>, See on <a href="https://news.ycombinator.com/item?id=39277525">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  
<p>
  Nieuwsbericht | 06-02-2024 | 15:33</p><p>De Militaire Inlichtingen- en Veiligheidsdienst (MIVD) heeft Chinese <span lang="en" dir="ltr">cyber</span>spionage in Nederland blootgelegd. De dienst ontdekte geavanceerde Chinese <span lang="en" dir="ltr">malware</span> die dit mogelijk maakt. Een Chinese statelijke actor is hiervoor verantwoordelijk. Dit stelt de MIVD op basis van eigen inlichtingen vast.</p>
  <div>

<p>China gebruikt dit type <span lang="en" dir="ltr">malware</span> voor spionage op computernetwerken. De <span lang="en" dir="ltr">malware</span> wordt ingezet bij systemen (<span lang="en" dir="ltr">FortiGate</span>) van het bedrijf Fortinet. Hiermee kunnen &nbsp;computergebruikers op afstand werken. Fortinet levert wereldwijd deze <span lang="en" dir="ltr">cyber</span>beveiliging.&nbsp;</p>

<p>De MIVD trof de <span lang="en" dir="ltr">malware</span> vorig jaar bij de krijgsmacht aan op een losstaand computernetwerk. Dit werd gebruikt voor ongerubriceerde <span lang="en" dir="ltr">Research and Development</span> (R&amp;D). Doordat dit systeem op zichzelf stond, leidde dit niet tot schade aan het netwerk van Defensie.&nbsp;</p>

<p>“De MIVD kiest er voor het eerst voor om een technisch rapport over de werkwijze van Chinese <span lang="en" dir="ltr">hackers</span> openbaar te maken. Het is belangrijk om dergelijke spionageactiviteiten van China te attribueren”, aldus minister Kajsa Ollongren van Defensie. “Zo verhogen we de internationale weerbaarheid tegen dit soort <span lang="en" dir="ltr">cyber</span>spionage.”</p>

<p>De MIVD deelt op de <span lang="en" dir="ltr">website</span> van het <a href="https://www.ncsc.nl/actueel/nieuws/2024/februari/6/nieuwe-malware-benadrukt-aanhoudende-interesse-in-edge-devices" aria-label="Nationaal Cyber Security Centrum (opent externe website)">Nationaal <span lang="en" dir="ltr">Cyber Security</span> Centrum</a> (NCSC) informatie over het incident en de kenmerken van de <span lang="en" dir="ltr">malware</span>. Hiermee kunnen gebruikers van het systeem <span lang="en" dir="ltr">FortiGate</span> vaststellen of zij slachtoffer zijn geworden. Ook kunnen zij maatregelen treffen om zich te verdedigen.</p></div>
<h2>Achterdeurtje</h2>
        <p>De aangetroffen <span lang="en" dir="ltr">malware</span> installeerde een ‘achterdeurtje’ door gebruik te maken van een bekende kwetsbaarheid in <span lang="en" dir="ltr">FortiGate</span> apparaten. De publicatie van de MIVD beschrijft dus géén nieuwe kwetsbaarheid in alle <span lang="en" dir="ltr">FortiGate</span> apparaten.&nbsp;</p><h2>Informatie voor gebruikers</h2>
        <p>De MIVD vraagt organisaties die deze <span lang="en" dir="ltr">malware</span> aantreffen, om zich te melden bij het NCSC. Zo kan de Chinese spionagecampagne worden tegengegaan.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[BuildKit in depth: Docker's build engine explained (152 pts)]]></title>
            <link>https://depot.dev/blog/buildkit-in-depth</link>
            <guid>39277451</guid>
            <pubDate>Tue, 06 Feb 2024 17:31:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://depot.dev/blog/buildkit-in-depth">https://depot.dev/blog/buildkit-in-depth</a>, See on <a href="https://news.ycombinator.com/item?id=39277451">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>This article explains how BuildKit works in depth, why it's faster than Docker's previous build engine, and what it looks like under the hood.</p>

<p>BuildKit is Docker's new default build engine <a href="https://docs.docker.com/engine/release-notes/23.0/#2300">as of Docker Engine v23.0</a>.</p>
<p>Despite BuildKit being used by millions of developers, the documentation out there is relatively sparse. This has led to it being seen as a bit of a black box. At <a href="https://depot.dev/">Depot</a>, we've been working with (and reverse engineering) BuildKit for years and have developed a deep understanding of it throughout this process. Now we understand the inner workings, we have a better appreciation for it and want to share that knowledge with you.</p>
<p>In this article, we explain how BuildKit works under the hood, covering everything from frontends and backends to LLB (low-level build) and DAGs (directed acyclic graphs). We help to demystify BuildKit and explain why it's such an improvement over Docker's original build engine.</p>
<h2 id="what-is-buildkit">What is BuildKit?</h2>
<p>BuildKit is a build engine that takes a configuration file (such as a Dockerfile) and converts it into a built artifact (such as a Docker image). It's faster than Docker's original build engine due to its ability to optimize your build by parallelizing build steps whenever possible and through more advanced <a href="https://docs.docker.com/build/guide/layers/">layer caching</a> capabilities.</p>
<h2 id="buildkit-speeds-up-docker-builds-with-parallelization">BuildKit speeds up Docker builds with parallelization</h2>
<p>A Dockerfile can consist of build <em>stages</em>, each of which can contain one or more <em>steps</em>. BuildKit can determine the dependencies between each stage in the build process. If two stages can be run in parallel, they will be. Stages are a great way to break your Docker image build up into parallelizable steps — for example, you could install your dependencies, build your application at the same time, and then combine the two to form your final image.</p>
<p>To take advantage of parallelization, you must rewrite your Dockerfile to use multi-stage builds. A <em>stage</em> is a section of your Dockerfile that starts with a <code>FROM</code> statement and continues until you reach another <code>FROM</code> statement. Stages can be run in parallel, so by this mechanism, the steps in one stage can run in parallel with the steps in another.</p>
<p>It's worth noting that the steps <em>within</em> a stage run in a linear order, but the order in which stages run may not be linear. To determine the order in which stages will be run, BuildKit detects the name of each stage — which, for a Dockerfile, is the word after the <code>as<em> </em></code>keyword in a <code>FROM </code>statement.</p>
<p>To determine the stage that another stage depends on, we look at the word <em>after</em> the <code>FROM</code> keyword. In the example below, <code>FROM docker-image as stage1</code> means that the <code>stage1</code> stage depends on the Docker image from Docker Hub, and <code>FROM stage1 as stage2</code> means that the <code>stage2</code> stage depends on the <code>stage1</code> stage. It's possible to chain many stages together in this way.</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="" data-theme="default"><code data-language="" data-theme="default"><span data-line=""><span>FROM docker-image as stage1</span></span>
<span data-line=""><span>RUN command1</span></span>
<span data-line=""><span></span></span>
<span data-line=""><span>FROM stage1 as stage2</span></span>
<span data-line=""><span>RUN command2</span></span>
<span data-line=""><span></span></span>
<span data-line=""><span>FROM stage2 as stage3</span></span>
<span data-line=""><span>RUN command3</span></span></code></pre></div>
<p>It's also possible to have multiple stages depend on one stage:</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="" data-theme="default"><code data-language="" data-theme="default"><span data-line=""><span>FROM docker-image as parent</span></span>
<span data-line=""><span>…</span></span>
<span data-line=""><span>FROM parent as child1</span></span>
<span data-line=""><span>…</span></span>
<span data-line=""><span>FROM parent as child2</span></span></code></pre></div>
<p>BuildKit is able to evaluate the structure of these <code>FROM </code>statements and work out the dependency tree between the steps in each stage.</p>
<h3 id="optimize-your-dockerfile-to-take-advantage-of-parallelization">Optimize your Dockerfile to take advantage of parallelization</h3>
<p>Rewriting your Dockerfile to use multi-stage builds will allow you to take advantage of the speed improvements that BuildKit brings to Docker.</p>
<p>In the example below you can see an unoptimized file with a single stage and an optimized file with two stages: one named <code>build</code>, and another which is unnamed (this is the naming convention for the final stage in a Dockerfile).</p>
<p><img src="https://depot.dev/images/buildkit-in-depth-image1.webp" alt="Comparison of two Dockerfiles that both build and deploy a production Node application. One is unoptimized for BuildKit and has a single stage. The other is optimized for BuildKit, and uses two different stages that run in parallel. The code for both Dockerfiles is made available in GitHub later in the article." width="1200" height="675" decoding="async" loading="lazy"></p>
<p><span><p>Optimizing this Dockerfile allows steps such as enabling Corepack to run in parallel with copying the package.json
file and the pnpm-lock.yaml file into the /app directory.</p></span></p><p>Once your Dockerfile has been optimized to run in multiple stages, BuildKit can run them in parallel. Below you can see the difference between using BuildKit to run multiple stages in parallel (for building and deploying a Node app) and running all steps sequentially (without multi-stage builds). This Node app deployment example will be used throughout this article, and the Dockerfiles — both optimized for BuildKit (multi-stage) and unoptimized (basic) — are <a href="https://github.com/depot/examples/tree/main/buildkit">available on our GitHub</a>.</p>
<p><img src="https://depot.dev/images/buildkit-in-depth-image2.webp" alt="Flow diagram showing how the different RUN statements of a Dockerfile are processed, with and without BuildKit. The “without BuildKit” diagram shows a sequential line of steps. The “with BuildKit” diagram shows two branches where stages are running in parallel." width="1200" height="1260" decoding="async" loading="lazy"></p>
<p><span><p>If you use BuildKit to parallelize your stages, your build will complete much faster.</p></span></p><h2 id="buildkit-speeds-up-docker-builds-with-layer-caching">BuildKit speeds up Docker builds with layer caching</h2>
<p>BuildKit is also able to improve build performance through clever use of layer caching. With layer caching, each step of your Dockerfile (such as <code>RUN</code>, <code>COPY</code>, and <code>ADD</code>) is cached individually, as a separate reusable layer.</p>
<p>Often, individual layers can be reused, as the results of a build step can be retrieved from the cache rather than rebuilt every time. This eliminates many steps from the build process and often dramatically increases overall build performance.</p>
<p>The hierarchy of layers in BuildKit's layer cache is a tree structure, so if one build step has changed between builds, that build step plus all its child steps in the hierarchy must be rebuilt. With traditional single-stage builds, every single step depends on the previous step, so it can be immensely frustrating if you have a RUN statement that invalidates the cache in an early part of your Dockerfile — because all subsequent statements must be recomputed any time that statement runs. <a href="https://depot.dev/blog/faster-builds-with-docker-caching#order-your-layers-wisely">The order of your statements</a> in a Dockerfile has a major impact on optimizing your build to leverage caching.</p>
<p>However, if you've optimized your Dockerfile for BuildKit, used multi-stage builds, and ordered your statements to maximize cache hits, you can reuse previous build results much more frequently.</p>
<h2 id="buildkit-under-the-hood">BuildKit under the hood</h2>
<p>"BuildKit builds are based on a binary intermediate format called LLB that is used for defining the dependency graph for processes running part of your build. tl;dr: LLB is to Dockerfile what LLVM IR is to C."</p>
<p>— <a href="https://github.com/moby/buildkit#exploring-llb">BuildKit's README file</a>.</p>
<p>To truly understand how BuildKit works, let's unpack this statement. BuildKit has taken inspiration from compiler designers by creating an intermediate representation between the input and the output to its system. In compiler design, an intermediate representation is a data structure or some human-readable code (such as assembly language) that sits between the source code input and the machine code output. This intermediate representation is later converted into different types of machine code for each different machine the code needs to run on.</p>
<p>BuildKit uses this same principle by inserting an intermediate representation between the Dockerfile input and the final Docker image. BuildKit's intermediate representation is known as a low-level build (LLB), which is a directed acyclic graph (DAG) data structure that sits at the heart of BuildKit's information flow.</p>
<h2 id="the-flow-of-information-through-buildkit-frontends-backends-and-llb">The flow of information through BuildKit: frontends, backends and LLB</h2>
<p>Continuing with the compiler comparison, BuildKit also uses the concept of frontends and backends.</p>
<p>The frontend is the part of BuildKit that takes the input (usually a Dockerfile) and converts it to LLB. BuildKit has frontends for a variety of different inputs including <a href="https://nixos.org/">Nix</a>, <a href="https://openllb.github.io/hlb/">HLB</a>, and <a href="https://github.com/vito/bass">Bass</a>, all of which take different inputs but build Docker images, and <a href="https://github.com/denzp/cargo-wharf">CargoWharf</a>, which is used to build something else entirely (a Rust project). This shows the versatility BuildKit has to build many different types of artifacts, even though the most common use currently is building Docker images from Dockerfiles.</p>
<p>The backend takes the LLB as an input and converts it into a build artifact (such as a Docker image) for the machine architecture that you've specified. It builds the artifact by using a <a href="https://opensource.com/article/21/9/container-runtimes">container runtime</a> — either runc or containerd (which uses runc under the hood anyway).</p>
<p><img src="https://depot.dev/images/buildkit-in-depth-image3.webp" alt="Diagram showing the flow of information through BuildKit: the Dockerfile to the BuildKit frontend, and then to the LLB, then to the BuildKit backend and finally to the Docker image." width="1200" height="548" decoding="async" loading="lazy"></p>
<p><span><p>BuildKit's frontend acts as an interface between the input (Dockerfile) and the LLB. The backend is the interface
between the LLB and the output (Docker image).</p></span></p><h2 id="buildkits-llb">BuildKit's LLB</h2>
<p>We've referred to the LLB a few times so far — but what exactly is it?</p>
<p>It's a <em>directed acyclic graph (DAG) data structure</em>, which is a special type of <a href="https://en.wikipedia.org/wiki/Graph_(abstract_data_type)">graph data structure</a>. In a DAG, each event is represented as a node with arrows that flow in a particular direction, hence the word “directed.” Arrows start at a <em>parent node</em> and end on a <em>child node</em>. Child nodes are only allowed to execute after <em>all</em> parent nodes have finished executing.</p>
<p><img src="https://depot.dev/images/buildkit-in-depth-image4.webp" alt="A diagram of a directed acyclic graph (DAG). It consists of a number of nodes that have all been labeled alphabetically. All the nodes are connected by various arrows and the arrows are all pointing in one direction." width="1200" height="630" decoding="async" loading="lazy"></p>
<p>There can be no loops in a DAG, hence the word “acyclic.” This is necessary for modeling build steps, as if a build process allowed loops, the process would never complete because two steps would require each other to finish before each one starts!</p>
<p><img src="https://depot.dev/images/buildkit-in-depth-image5.webp" alt="A small DAG is shown with just two nodes, A and B. An arrow points from A to B. A further arrow that points from B to A is highlighted red and crossed out to emphasize that this direction of travel is not allowed in a DAG. Allowing flow from A to B and then back to A again would count as a cycle, which is not allowed." width="1200" height="394" decoding="async" loading="lazy"></p>
<p>BuildKit's LLB DAG is used to represent which build steps depend on each other and the order in which everything needs to happen. This ensures that certain steps don't occur before other steps are completed (like installing a package before downloading it).</p>
<p>In the case of Docker builds, BuildKit uses its Docker frontend to create the LLB from the Dockerfile. For example, <a href="https://github.com/depot/examples/blob/main/buildkit/multi-stage/Dockerfile">this Dockerfile</a> for building and deploying a Node app would create the following LLB DAG:</p>
<p><img src="https://depot.dev/images/buildkit-in-depth-image6.webp" alt="A diagram of the LLB DAG for the above Dockerfile. Each node is a particular type of LLB operation such as SourceOp, ExecOp, or FileOp." width="1200" height="630" decoding="async" loading="lazy"></p>
<p><span><p>In this LLB DAG, each node represents an operation that can happen. Each LLB operation can take one or more
filesystems as its input and output one or more filesystems.</p></span></p><p>To help you understand more about the LLB operations that your Dockerfile would translate to, we built a free tool that converts any given Dockerfile into LLB through a real-time editor. Our <a href="https://depot.dev/blog/dockerfile-explorer">Dockerfile Explorer</a> is easy to use — simply paste your Dockerfile into the box on the left and then view the LLB operations on the right.</p>
<p>Our Node Dockerfile creates a number of LLB operations, the first three of which can be viewed below. Each operation has a type such as SourceOp or ExecOp, a unique identifier in the form of a hash value, and some extra data like the environment and the commands to be run. The hash values indicate the dependencies between the operations. For example, the first ExecOp operation has a hash value of <code>0534a47f</code>, and the second ExecOp operation takes as its input an operation with a hash of the same value (<code>0534a47f</code>). This shows that these two operations are directly linked on the LLB DAG.</p>
<p><img src="https://depot.dev/images/buildkit-in-depth-image7.webp" alt="Screenshot of Depot's Dockerfile Explorer, showing three different operations: a SourceOp and two ExecOps. The output hash of the first ExecOp is highlighted, as is the input hash of the second ExecOp, and it shows the hashes are the same." width="960" height="583" decoding="async" loading="lazy"></p>
<h2 id="the-different-buildkit-llb-operations-explained">The different BuildKit LLB operations explained</h2>
<h3 id="sourceop">SourceOp</h3>
<p>This loads source files or images from a source location, such as DockerHub, a Git repository, or your local build context.</p>
<p>All SourceOp operations that originated from a Dockerfile have been generated from Dockerfile <code>FROM</code> statements.</p>
<h3 id="execop">ExecOp</h3>
<p>ExecOp always executes a command. It's equivalent to Dockerfile <code>RUN</code> statements.</p>
<h3 id="fileop">FileOp</h3>
<p>This is for operations that relate to files or directories, including Dockerfile statements such as <code>ADD</code> (add a file or directory), <code>COPY</code> (copy a file or directory), or <code>WORKDIR</code> (set the working directory of your Docker container).</p>
<p>It's possible to use this operation to copy the output of other steps in different stages into a single step. Using <a href="https://github.com/depot/examples/blob/main/buildkit/multi-stage/Dockerfile">our example Dockerfile</a>, the <code>COPY --from</code> statement copies some of the resources from the output of the previous <code>build</code> stage into the final stage.</p>
<div data-rehype-pretty-code-fragment=""><pre data-language="" data-theme="default"><code data-language="" data-theme="default"><span data-line=""><span>FROM node:20</span></span>
<span data-line=""><span>…</span></span>
<span data-line=""><span>COPY --from=build /appbuild /app/build</span></span></code></pre></div>
<p>We can use the Dockerfile Explorer to see how BuildKit deals with this — it takes the output of the final step in each stage and adds them together.</p>
<p><img src="https://depot.dev/images/buildkit-in-depth-image8.webp" alt="Screenshot within the Dockerfile Explorer. It shows that the hash of the final steps in the build stage is b71bec19." width="931" height="220" decoding="async" loading="lazy"></p>
<p><img src="https://depot.dev/images/buildkit-in-depth-image9.webp" alt="Screenshot within the Dockerfile Explorer. It shows that the hash of the penultimate step of the final stage is 3ca1e723 and that the final FileOp step (which copies files from the build stage to the final stage) takes both b71bec19 and 3ca1e723 as inputs." width="931" height="391" decoding="async" loading="lazy"></p>
<h3 id="mergeop">MergeOp</h3>
<p>MergeOp allows you to merge multiple inputs into a single flat layer (and is the underlying mechanism behind Docker's <code>COPY --link</code>).</p>
<h3 id="diffop">DiffOp</h3>
<p>This is a way of calculating the difference between two inputs and producing a single output with the difference represented as a new layer, which you might then want to merge into another layer using MergeOp.</p>
<p>However, this operation is currently not available for the Dockerfile frontend.</p>
<h3 id="buildop">BuildOp</h3>
<p>This is an <a href="https://github.com/moby/buildkit/blob/master/solver/pb/ops.proto#L186C1-L187C73">experimental</a> operation that implements nested LLB builds (for example, running one LLB build that produces another dynamic LLB).</p>
<p>This operation is also unavailable for the Docker frontend.</p>
<h2 id="buildkit-speeds-up-your-docker-builds-using-its-llb-dag">BuildKit speeds up your Docker builds using its LLB DAG</h2>
<p>Although BuildKit can take multiple frontends, the Dockerfile frontend is by far the most popular. BuildKit uses its Dockerfile frontend to convert statements from your Dockerfile into a DAG of LLB operations — including SourceOp, ExecOp and FileOp — and then it uses that LLB format to build an artifact, like a Docker image, for the specified architectures that were requested.</p>
<p>At Depot, we've taken what was already great about BuildKit and further optimized it to build Docker images up to 40x faster on cloud builders with persistent caching. We've developed our own <a href="https://depot.dev/blog/introducing-depot">drop-in replacement CLI</a>, <code>depot build</code>, that can be used to replace your existing <code>docker build</code> wherever you're building images today. Sign up today for our <a href="https://depot.dev/sign-up">7-day free trial</a> and try it out for yourself.</p>
<h2 id="related-articles">Related Articles</h2>
<ul>
<li><a href="https://depot.dev/blog/depot-magic-explained">How Depot speeds up Docker builds</a></li>
<li><a href="https://depot.dev/blog/how-to-use-buildkit-cache-mounts-in-ci">How to use BuildKit cache mounts in CI providers</a></li>
</ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Cannabis use linked to anxiety diagnoses, worsened anxiety disorders (177 pts)]]></title>
            <link>https://globalnews.ca/news/10275463/cannabis-anxiety-ontario-study/</link>
            <guid>39277299</guid>
            <pubDate>Tue, 06 Feb 2024 17:22:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://globalnews.ca/news/10275463/cannabis-anxiety-ontario-study/">https://globalnews.ca/news/10275463/cannabis-anxiety-ontario-study/</a>, See on <a href="https://news.ycombinator.com/item?id=39277299">Hacker News</a></p>
<div id="readability-page-1" class="page"><article aria-label="Article text">
					<p>Cannabis use may increase the risk of developing a new <a href="https://globalnews.ca/tag/anxiety">anxiety</a> disorder or worsen existing anxiety, a large&nbsp;Ontario&nbsp;study suggests.</p><img src="https://d21y75miwcfqoq.cloudfront.net/70c8fc80" alt="" referrerpolicy="no-referrer-when-downgrade">
<p>The study looked at health data of 12 million people between January 2008 and March 2019 and found that 27.5 per cent of people who visited an emergency room for cannabis use developed an anxiety disorder for the first time within three years.</p><p>Lead author Dr. Daniel Myran, an adjunct scientist at the research institute ICES, said that in comparison, 5.6 per cent of the general population sought help for anxiety in an ER or outpatient setting over three years.</p><p>Myran, who is also an investigator at the Bruyère Research Institute and a clinician investigator at The Ottawa Hospital, said cannabis users may end up in an ER for multiple reasons, including hallucinations, being very high and disoriented or for withdrawal symptoms.</p>		<div>							<p>Story continues below advertisement</p>
			
			
			

					
		</div>	<p>“They might have been having some kind of mental health concerns, were feeling quite depressed and also smoking cannabis very regularly. None of these people had an emergency room visit for anxiety when they first showed up,” he said.</p><p>The study did not include data on how much cannabis patients used or what is a safe amount, but Myran said it’s likely they were moderate to heavy users, consumed strong forms of the drug, or both.</p>	<div id="sophi_article_widget" aria-label="More on Money" data-sophi-feature="article-money">
						<p>More on Money</p>
						<ul>
							<li>
					<a href="https://globalnews.ca/news/10276098/boeing-faa-head-testimony/">FAA head says Boeing’s oversight system ‘is not working’					</a>
				</li>
								<li>
					<a href="https://globalnews.ca/news/10275722/auto-theft-summit-canada/">Poilievre wants X-rays to curb auto theft. Liberals say issue’s more complex					</a>
				</li>
								<li>
					<a href="https://globalnews.ca/news/10275487/canada-housing-benefit-top-up/">Ottawa to top up Canada Housing Benefit rent support by $99M: Freeland					</a>
				</li>
								<li>
					<a href="https://globalnews.ca/news/10273517/grocery-prices-canada-february/">Higher grocery bill? Here’s why some food prices may be rising in Canada					</a>
				</li>
							</ul>
		</div>
	<p>Researchers also found that 12.3 per cent of cannabis users with pre-existing anxiety but no record of hospitalization visited an emergency room or were admitted to hospital because their anxiety symptoms worsened.</p>		<div>
			<p><strong>
				Get the latest National news.
				
				Sent to your email, every day.
				
			</strong>
		</p></div>
		<p>The study published Monday in the Lancet’s open access journal eClinical Medicine says that while people of all ages who had a cannabis-related ER visit were at higher risk of developing new anxiety disorders, the risk was particularly great for males up to age 24.</p><p>While some people may self-medicate by using cannabis to relieve anxiety, there is no robust evidence to suggest it is effective for that purpose, Myran said.</p><p>“If you’re having problems with your cannabis use or problems with mental health, the first place to start would be a primary care provider to understand what’s going on. And I’m sympathetic and understand that there’s challenges with accessing primary care in many parts of the country,” he said.</p>		<div>							<p>Story continues below advertisement</p>
			
			
			

					
		</div>	<p>“The worrisome signal coming out of the data is that on average, there’s a very strong association between patterns of cannabis use that require care in the emergency room and<strong>&nbsp;</strong>developing anxiety disorders,” said Myran, adding psychosis and schizophrenia are some conditions that<strong>&nbsp;</strong>have been associated with heavy cannabis use.</p>	<section id="content-dynamic-trending-stories" aria-label="Dynamic trending stories section">
			<p><span>Trending Now</span>
	</p>
	
	</section>
	<p>The findings suggest a need for more conversations about potential links between cannabis use and mental health, especially for people who are vulnerable to worsening anxiety or developing it from heavy use, he said.</p><p>A Health Canada phone survey of 21,690 people aged 16 and over in 2022 found that nearly half of respondents had not noticed any education campaigns or public health messages about cannabis<strong>&nbsp;</strong>in the previous<strong>&nbsp;</strong>12 months.</p><p>About 35 per cent of people who reported using cannabis in the previous 30 days said they were high for one or two hours on a typical day. The highest use was among those aged 20 and 24.</p><p>Shea Wood, whose expertise includes cannabis and mental health as part of her work for the Canadian Centre on Substance Use and Addiction, said occasional cannabis use would have a minimal effect on most people when it comes to anxiety disorders.</p><p>“However, earlier use of cannabis has been linked to more psychological symptoms so it’s important for youth to delay their use of cannabis as long as possible,” she said in an email to The Canadian Press.</p>		<div>							<p>Story continues below advertisement</p>
			
			
			

					
		</div>	<p><em>Canadian Press health coverage receives support through a partnership with the Canadian Medical Association. CP is solely responsible for this content.</em></p>				</article><div>
	<p>
		© 2024 The Canadian Press	</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Runs on your OpenWrt box: AdGuard Home is network-wide blocking ads and tracking (272 pts)]]></title>
            <link>https://github.com/AdguardTeam/AdGuardHome</link>
            <guid>39276687</guid>
            <pubDate>Tue, 06 Feb 2024 16:48:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/AdguardTeam/AdGuardHome">https://github.com/AdguardTeam/AdGuardHome</a>, See on <a href="https://news.ycombinator.com/item?id=39276687">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:AdguardTeam/AdGuardHome" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="s_b4bS2H6hbYWSK1avBG7-3UC5Iq04iMPLR8S6xlDgYMv38iLjDECwgTmA6iEFWxNVnTh9VwUvOMudTVXm8Glw" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="AdguardTeam/AdGuardHome" data-current-org="AdguardTeam" data-current-owner="" data-logged-in="false" data-copilot-chat-enabled="false" data-blackbird-indexed-repo-csrf="<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=YvowfGnQjzYxY8nSgqFqbbp3JSQt4dMrtS62%2FjRj4Fz4VFlh%2BQdgEcJDmv2UGo2tAObgJjycaL6HOeew%2B5UXG3bxJmu8RzMloJMLWidm67tobsmKIhN5O0%2BUOkzeVRgnAt4sa3EqvQ%2Ft%2BMESCXbqfS3LHGXNchhDlJp2PAA54GKrYwI8v7IpPUYQCfCTEZz%2BVptWWO8VFAxXyR59JQB6AWauJVugH8feo62aOPjNFR8yuShtk7jjOhIXXCq1npVppnxdxG9PpfLIeLtL%2Fnq8VhGvr9U1JCX1vXB%2FD3KIQGizsqjBdj96jYF5CZE0hkqQhlDWxbU%2F1XtKcmqjdw1B%2F8HQDk1zZllD7eD60CUEzoKUERJ7xdTjox8ft96uXNNuuaG7%2FlKRUYJgHGyDd5m1nK7fe%2BC%2FfK8uJjfNp2sAlaLW%2Bx1D1GuLXKLFubm9Jk6Kt8K3ERvl8lGDAcF5HNa5%2FedmrUdPAD3RcEfPX4fVixGBhVm7SRZOj%2B%2BkRiO7cKSkHY%2FvJWKAtBosXiVeqQQX3iMu2IS6wg%3D%3D--0z7UjOQzeZZLsOjS--n%2By8f9iJemD8FwNlL9ixOA%3D%3D&quot; />">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=AdguardTeam%2FAdGuardHome" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/AdguardTeam/AdGuardHome&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="7765858b4871e550ab1fc312cc575371e123b55e5a8cba7727a09842fe04dbd2" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The perverse policies that fuel wildfires (138 pts)]]></title>
            <link>https://www.newyorker.com/magazine/2024/02/05/the-perverse-policies-that-fuel-wildfires</link>
            <guid>39276452</guid>
            <pubDate>Tue, 06 Feb 2024 16:35:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.newyorker.com/magazine/2024/02/05/the-perverse-policies-that-fuel-wildfires">https://www.newyorker.com/magazine/2024/02/05/the-perverse-policies-that-fuel-wildfires</a>, See on <a href="https://news.ycombinator.com/item?id=39276452">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-journey-hook="client-content" data-testid="BodyWrapper"><figure data-testid="IframeEmbed"><div data-testid="IframeEmbedContainer"><p><span><p>Listen to this article.</p>
</span></p></div></figure><p>The provincial government of Alberta defines a “wildfire of note” as a blaze that could “pose a threat to public safety, communities or critical infrastructure.” Last year, Alberta’s first wildfire of note broke out unusually early, on April 30th, near the tiny town of Entwistle, about sixty-five miles west of Edmonton. A second wildfire of note was recorded that same day, in the town of Evansburg. Four days later, an astonishing seventy-two wildfires were burning, and three days after that the number had grown to a hundred and nine. Some thirty thousand people had to be evacuated, and Alberta’s premier declared a state of emergency. “It’s been an unusual year,” Christie Tucker, an official from the province’s wildfire information unit, observed at the end of the week.</p><p>The unusual soon became the unheard-of. Owing to a combination of low winter snowfall and abnormally high spring temperatures, many parts of Canada, including the Maritime Provinces, were just a cigarette butt away from incineration. On May 28th, with flames bearing down on Halifax, the capital of Nova Scotia, some eighteen thousand people were told to evacuate. “Basically, all hell is breaking loose,” a fire chief in Halifax, Rob Hebb, said. Meanwhile, the largest fire ever recorded in Nova Scotia—the Barrington Lake fire—was burning toward the city’s southwest.</p><p>The fires kept hopscotching across the country. Before the Barrington Lake fire had been contained, a new monster, the Donnie Creek fire, emerged in British Columbia. On June 18th, after scorching more than two thousand square miles, Donnie Creek became British Columbia’s largest recorded blaze. Saskatchewan saw dozens of wildfires, Quebec hundreds. Evacuation orders went out to the entire city of Yellowknife, the capital of the Northwest Territories. Many of the blazes created their own weather, in the form of thunderstorms spawned by rapidly rising hot air. The smoke from the fires drifted across much of the United States, prompting health alerts from Minneapolis to Washington, D.C. By late June, Canada had broken its previous annual record for acreage burned, set in 1995, and by mid-October nearly forty-six million acres—an area larger than Denmark—had been charred. This was almost triple the previous record and nine times the annual average.</p><p>“This summer across Canada has been absolutely astounding,” Lori Daniels, a professor in the department of forest and conservation sciences at the University of British Columbia, told the Canadian Broadcasting Corporation. “The word ‘unprecedented’ doesn’t do justice to the severity of the wildfires,” Yan Boulanger, a research scientist at Natural Resources Canada, said.</p><p>As bad as Canada’s 2023 wildfire season was—Europe, too, saw its largest wildfire on record, a blaze that consumed more than three hundred square miles in northeastern Greece—the conflagrations are predicted to keep growing. A paper that appeared last summer in the journal <em>Fire Ecology</em> warned that “increasing warming and drying trends” will make wildfires “more frequent and severe,” and a recent report from the Wildland Fire Mitigation and Management Commission, a body established by Congress, predicted a future “defined by wildfires that are increasingly extreme, vast in scale, and devastating.” Another recent <a href="https://fas.org/publication/next-generation-fire-and-vegetation-modeling-for-a-hot-and-dry-future/">report</a>, from the Federation of American Scientists, observed that the world is warming so fast that the models firefighters rely on to predict how blazes will behave have become obsolete. “Climate change is drying fuels and making forests more flammable,” the report said. “As a result, no matter how much money we spend on wildfire suppression, we will not be able to stop increasingly extreme wildfires.”</p><p>As the wildfires have multiplied, so, too, have books on the subject. Recent volumes range from the intimate (Manjula Martin’s “<a data-offer-url="https://www.amazon.com/Last-Fire-Season-Personal-Pyronatural/dp/0593317157/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.amazon.com/Last-Fire-Season-Personal-Pyronatural/dp/0593317157/&quot;}" href="https://www.amazon.com/Last-Fire-Season-Personal-Pyronatural/dp/0593317157/" rel="noopener" target="_blank">The Last Fire Season: A Personal and Pyronatural History</a>”) to the sweeping (Edward Struzik’s “<a data-offer-url="https://www.amazon.com/Dark-Days-Noon-Future-Fire/dp/0228012090/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.amazon.com/Dark-Days-Noon-Future-Fire/dp/0228012090/&quot;}" href="https://www.amazon.com/Dark-Days-Noon-Future-Fire/dp/0228012090/" rel="noopener" target="_blank">Dark Days at Noon: The Future of Fire</a>”) and the quick-turnaround (“<a data-offer-url="https://www.amazon.com/Summer-Canada-Burned-Wildfire-Shocked/dp/1778401872/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.amazon.com/Summer-Canada-Burned-Wildfire-Shocked/dp/1778401872/&quot;}" href="https://www.amazon.com/Summer-Canada-Burned-Wildfire-Shocked/dp/1778401872/" rel="noopener" target="_blank">The Summer Canada Burned: The Wildfire Season That Shocked the World</a>,” compiled by Monica Zurowski). Fire, it might be said, is a hot topic.</p><p>M. R. O’Connor’s “<a data-offer-url="https://www.amazon.com/Ignition-Lighting-Fires-Burning-World/dp/164503738X/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.amazon.com/Ignition-Lighting-Fires-Burning-World/dp/164503738X/&quot;}" href="https://www.amazon.com/Ignition-Lighting-Fires-Burning-World/dp/164503738X/" rel="noopener" target="_blank">Ignition: Lighting Fires in a Burning World</a>” (Bold Type) began, in the author’s telling, with a “gimmick.” Several years ago, O’Connor, a Brooklyn-based journalist, visited Florida’s Apalachicola National Forest with a local botanist. The two came upon a rare wildflower, <em>Gentiana catesbaei</em>, which, the botanist explained, thrives on recently torched ground. Many plants, O’Connor learned, have evolved to tolerate fire—these are known as pyrophytes—and some have come to depend on it to stimulate reproduction. Intrigued, she enrolled in Introduction to Fire Effects, an online course offered by the University of Idaho.</p><p>One thing leads to another, and pretty soon O’Connor finds herself travelling to central Nebraska to light it on fire. As part of a crew producing a “prescribed burn,” she’s handed a drip torch—basically, a fuel cannister attached to a long nozzle. Although she hasn’t had much training, she’s soon igniting the prairie. She describes the experience as “thrilling.” A professional fire-setter tells her, “You have the fire bug.”</p><p>In the course of starting more blazes—in upstate New York and California—O’Connor comes to see the wildfire problem less in terms of surfeit and more in terms of scarcity. Prior to human settlement, lightning-induced fires were, it seems, a regular occurrence in North America. These blazes acted as a kind of ecological reset; from the ashes of the incinerated forest (or grassland), pyrophytes blossomed. Later, Native Americans routinely burned the landscape—to foster the growth of useful plants, to clear space for farming, and to improve the conditions for hunting. In the sixteen-thirties, Thomas Morton, an English colonist who settled in Massachusetts, wrote that this practice produced a parklike landscape that was “very beautifull and commodious.” Two hundred years later, the artist George Catlin described the sight of Native Americans burning the prairie as “indescribably beautiful.” At night, Catlin wrote, the flames could be seen from many miles away, “creeping over the sides and tops of the bluffs, appearing to be sparkling and brilliant chains of liquid fire.” In addition to maintaining parklike conditions, these managed blazes prevented fuel from building up, and so staved off larger, potentially unmanageable conflagrations.</p><p>Once the U.S. government had pushed Native Americans onto reservations and seized their land, controlled burning ceased across much of the country. Then the U.S. Forest Service moved to eliminate wildfires entirely. Gifford Pinchot, who became the agency’s first director, in 1905, considered flames to be the enemy of the trees.</p><p>“Of all the foes that attack the woodlands of North America, no other is so terrible as fire,” he wrote. Toward the end of the summer of 1910—an unusually dry one in the American Northwest—gale-force winds whipped up hundreds of blazes in Idaho and western Montana. These coalesced to form one of the largest forest fires in U.S. history—an inferno that killed eighty-seven people, destroyed several whole towns, and consumed more than three million acres. Following what became known as the Big Blowup, the Forest Service doubled down on fire control. William Greeley, who became the head of the agency in 1920, wrote that the great fire had “burned into” him the conviction “that fire prevention is the No. 1 job of American foresters.”</p><p>In 1933, the Roosevelt Administration created the Civilian Conservation Corps, one of the earliest New Deal programs. The C.C.C. put millions of (mostly single) men to work on projects that included building fire lookouts, digging firebreaks, and fighting forest fires. In 1935, the leader of the Forest Service, Ferdinand Silcox, announced the “10 <em>A</em>.<em>M</em>. Policy.” All fires on Forest Service land were to be extinguished by the morning after the day they were reported. Other federal agencies, following the Forest Service’s lead, soon adopted similar policies. Though many blazes pushed past the 10 <em>A</em>.<em>M</em>. deadline, the policy remained in effect until the late nineteen-seventies.</p><p>Gradually, it became clear that fire suppression was wrecking many of the forests it was intended to save. (Among the trees whose seeds require fire to germinate are giant sequoias.) These days, O’Connor writes, the Forest Service likes to boast that it oversees the country’s biggest prescribed-fire program, which burns almost 1.5 million acres a year. But this isn’t nearly enough to make up for what’s become known as the “fire deficit.” According to some estimates, this deficit amounts to more than three million acres just in the mountains of New Mexico and Arizona, and according to others it amounts to more than ten million acres across Washington and Oregon. A wildlife biologist whom O’Connor meets in central Nebraska tells her that the controlled burns he’s organized in the past decade have charred about thirty thousand acres. But to preserve the prairie that remains, he estimates, nearly twice that area should be combusted every year. “I have a dream of road-to-road fires one day,” he tells her. “Our goal here is to dream big.”</p><p>At one point in her travels, O’Connor visits Yosemite National Park with Stephen&nbsp;J. Pyne, a professor emeritus at Arizona State University. Pyne might be described as the Gibbon of fire history; he has written some thirty books on the subject, including a nine-volume work, “<a data-offer-url="https://www.amazon.com/Florida-Fire-Survey-Last-Smoke/dp/0816532729/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.amazon.com/Florida-Fire-Survey-Last-Smoke/dp/0816532729/&quot;}" href="https://www.amazon.com/Florida-Fire-Survey-Last-Smoke/dp/0816532729/" rel="noopener" target="_blank">To the Last Smoke</a>,” on the legacy of fire in different regions of the U.S. As O’Connor was interviewing Pyne for her book, Pyne was researching a book of his own, “<a data-offer-url="https://www.amazon.com/Pyrocene-Park-Journey-Yosemite-National/dp/0816549230/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.amazon.com/Pyrocene-Park-Journey-Yosemite-National/dp/0816549230/&quot;}" href="https://www.amazon.com/Pyrocene-Park-Journey-Yosemite-National/dp/0816549230/" rel="noopener" target="_blank">Pyrocene Park: A Journey Into the Fire History of Yosemite National Park</a>” (University of Arizona).</p><p>Geologically speaking, we live in the Holocene, the epoch that began about twelve thousand years ago, at the close of the last ice age. But many geologists argue that the Holocene, too, has come to an end, and that we have entered a new epoch, widely referred to as the Anthropocene. Pyne believes that the new epoch would be better labelled the Pyrocene, a term of his own invention. “The Pyrocene began when a fire-wielding creature met a fire-receptive period in the Earth’s history and their interaction made anthropogenic fire an informing presence,” he writes in a previous book, “<a data-offer-url="https://www.amazon.com/Pyrocene-Created-Fire-What-Happens/dp/0520383583/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.amazon.com/Pyrocene-Created-Fire-What-Happens/dp/0520383583/&quot;}" href="https://www.amazon.com/Pyrocene-Created-Fire-What-Happens/dp/0520383583/" rel="noopener" target="_blank">The Pyrocene: How We Created an Age of Fire, and What Happens Next.</a>”</p><figure><p><span><div data-attr-viewport-monitor=""><a data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.newyorker.com/cartoon/a28412&quot;}" href="https://www.newyorker.com/cartoon/a28412" rel="noopener" target="_blank"><picture></picture></a><p><span>“I’m looking for love, but I’ll settle for peanut butter.”</span></p><p><span>Cartoon by Victoria Roberts</span></p></div></span></p></figure><p>Pyne’s argument for the Pyrocene begins with fire itself, which he divides into three sorts. “First-fire” is the kind that requires no human intervention. This sort is as old as the hills, or even older: the earliest evidence of fire on Earth comes from fossilized charcoal dating to the Silurian period, when plants were just starting to creep onto dry land. Second-fire, in Pyne’s scheme, is the kind that humans set, or at least control. It’s not clear when, exactly, hominins learned how to manipulate fire, but the discovery may go back as far as 1.5 million years. Controlling fire was such a significant breakthrough that, Pyne argues, it altered the course of evolution. Cooking enabled our ancestors to devote less space to digestion and more to cognition, developments that, in turn, meant humans could no longer live without flames.</p></div><div data-journey-hook="client-content" data-testid="BodyWrapper"><p>First-fire and second-fire both rely on the same fuel source: living—or at least recently live—plants. For most of human history, this was the constraint on combustion. Then people figured out how to access ancient biomass in the form of coal, oil, and natural gas. The combustion of fossil fuels produced third-fire, which altered the atmosphere and, in the process, the climate. “Fire created the conditions for more fire,” Pyne writes.</p><p>Like O’Connor, Pyne proposes fighting more fire with fire. He advocates a return to the sort of “cultural burning” once practiced by Indigenous peoples not just in North America but in almost all parts of the world where the landscape is flammable. “If fire there will be—must be—then replace fires of chance with fires of choice,” Pyne urges. He praises the Australians, who are trying to revive cultural burning practices on Aboriginal lands. “The suppression of fire practices was part of colonizing the land; restoring fire is seen as a means to recover some of those losses,” he writes.</p><p>Toward the end of “Ignition,” O’Connor visits the Yurok Reservation, in Northern California, to participate in a prescribed burn. The exercise is a collaboration between tribal members and an assortment of outsiders eager to be part of what O’Connor calls the “good-fire revolution.”</p><p>“With all these megafires, they finally realize, ‘Oh, maybe we should ask these Indigenous peoples how to take care of the forest,’&nbsp;” Margo Robbins, a Yurok basket-maker and activist, tells her. “We took care of it for ten thousand years.” As it happens, one of the directors of the operation, Kelly Martin, is a wildland firefighter who spent a decade working in Yosemite. “Humans created this condition, and humans can step in to remediate it,” Martin says. “We have no time to waste.”</p><p>If the summer of 2023 was Canada’s worst wildfire season on record, its costliest remains 2016’s, when flames swept through Fort McMurray, a city in northern Alberta. The Fort McMurray fire forced roughly ninety thousand people to evacuate, destroyed more than two thousand homes, and caused billions of dollars’ worth of damage. In a chronicle of the event, “<a data-offer-url="https://www.amazon.com/Fire-Weather-Story-Hotter-World/dp/1524732850/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.amazon.com/Fire-Weather-Story-Hotter-World/dp/1524732850/&quot;}" href="https://www.amazon.com/Fire-Weather-Story-Hotter-World/dp/1524732850/" rel="noopener" target="_blank">Fire Weather: A True Story from a Hotter World</a>” (Knopf), John Vaillant proposes yet another name for our new epoch: the Petrocene. The Petrocene, he argues, began a century and a half ago with the discovery of oil, which put immense amounts of energy at the disposal of ordinary people.</p><p>“Behind the wheel of a Chevy Silverado, a one-hundred-pound woman can generate more than six hundred horsepower,” Vaillant, a Vancouver-based writer, observes. “Prior to the Petrocene Age, only a king or a pharaoh could have summoned such power, and its equivalent would have required hundreds of enslaved people and draft animals.”</p><p>The Fort McMurray fire is, in Vaillant’s telling, a cruelly appropriate Petrocene disaster. The city, nicknamed Fort McMoney, owes its existence to the Alberta tar sands, a vast deposit of low-quality oil that has to be either dug or steamed out of the ground. Pretty much everyone who lived in Fort McMurray at the time of the fire worked, either directly or indirectly, on getting this oil to refineries, so that it could be pumped into gas tanks and combusted. The resulting carbon dioxide—together with the CO<sub>2</sub> from burning billions of tons of coal and tens of billions of barrels of conventional oil—contributed to the hot, dry conditions that turned Fort McMurray into a tinderbox. The fire spread so fast that many residents barely made it out, along the city’s sole southbound highway. “Combustive energy had drawn people to Fort McMurray,” Vaillant writes, and combustive energy drove them “out again, en masse.”</p><p>Fort McMurray was carved out of Canada’s vast boreal forest, and its location, too, was key to the catastrophe. Many of the most destructive wildfires of recent years have jumped from forests or grasslands into communities situated in what’s become known as the “wildland-urban interface,” or <em>WUI</em> (pronounced “woo-ee”). As Vaillant puts it, the <em>WUI</em> “is a beautiful place to live, until it goes feral.”</p><p>According to Nick Mott and Justin Angle, the authors of “<a data-offer-url="https://www.amazon.com/This-Wildfire-Protect-Yourself-Community/dp/1639730796/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://www.amazon.com/This-Wildfire-Protect-Yourself-Community/dp/1639730796/&quot;}" href="https://www.amazon.com/This-Wildfire-Protect-Yourself-Community/dp/1639730796/" rel="noopener" target="_blank">This Is Wildfire: How to Protect Yourself, Your Home, and Your Community in the Age of Heat</a>” (Bloomsbury), construction in the <em>WUI</em> is yet another reason wildfires are becoming more dangerous. (The two put it on par with climate change and the history of fire suppression.) We’re putting up more homes than ever before, they write, in “areas ripe for fire.”</p><p>In the U.S., California is the state that has the most housing in the <em>WUI</em>—about five million units. Texas comes in second, with more than three million. And the figures keep climbing: between 1990 and 2020, the total number of homes in the zone increased by nearly fifty per cent in the U.S., to more than forty-four million.</p><p>“Why do we keep building so vigorously where people are most at risk of losing their homes and lives to wildfire?” Mott, a Montana-based journalist, and Angle, a professor at the University of Montana College of Business, ask. Part of the answer, they conclude, lies in the way the risk is spread around. When a serious wildfire threatens a community, the federal government often gets involved. In this way, it’s not just those who live in the <em>WUI</em> who bear the cost of trying to protect it; it’s also, Mott and Angle write, “<em>you</em>, the taxpayer.” A 2023 study they cite concludes that, in the fire-prone American West, this implicit subsidy can amount to more than twenty per cent of a home’s value. Meanwhile, local government officials, who are responsible for most zoning decisions, have little incentive to curb construction in the <em>WUI</em>. On the contrary, local governments depend on new development to bring in more property-tax revenue. “If I’m a county commissioner, why would I care if that house burns down?” Kimi Barrett, a policy analyst at Headwaters Economics, a nonprofit research group, tells the authors. “Because I’m not going to pay for it.”</p><p>Mott and Angle have all sorts of suggestions for individuals who want to reduce the odds that their homes will go up in smoke. They urge those who live in high-risk areas to replace wood-shingled roofs with metal ones, remove lower limbs from trees, and keep woodpiles at a distance. But, they acknowledge, these sorts of home-hardening projects do little to address the larger issue of development in the <em>WUI</em>, which, they say, has become a “cycle” that will be “hard to reverse.”</p><p>Canada’s 2016 wildfires, which included but were not limited to the Fort McMurray fire, released about a hundred and seventy million tons of carbon dioxide into the air. The following year, according to the European Union’s earth-observation program, carbon emissions from Canada’s wildfires rose to about four hundred million tons. In 2023, they came to an astonishing 1.7 billion tons.</p><p>These figures point to another hard-to-reverse cycle. When trees burn, they release the carbon they took up while growing. This carbon contributes to warming, which increases the likelihood of wildfires, which release more carbon, and so on. In the far north, this cycle is exacerbated by the soil, which is often loaded with dead plant material. Igniting such carbon-rich soil further adds to emissions.</p><p>More prescribed burning, more metal roofs, better zoning—these are all steps that could make a significant difference at a local level. But dealing with the wildfire crisis on a regional or a national scale would require addressing the CO<sub>2</sub> feedback loop, which is impossible for any region or nation to do on its own. Hence the predictions of a flame-filled future. As Pyne observes in one of his bleaker moments, “We have created a Pyrocene. Now we have to live in it.”&nbsp;♦</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Oceans May Have Already Seen 1.7°C of Warming (261 pts)]]></title>
            <link>https://eos.org/articles/oceans-may-have-already-seen-1-7c-of-warming</link>
            <guid>39275272</guid>
            <pubDate>Tue, 06 Feb 2024 15:29:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://eos.org/articles/oceans-may-have-already-seen-1-7c-of-warming">https://eos.org/articles/oceans-may-have-already-seen-1-7c-of-warming</a>, See on <a href="https://news.ycombinator.com/item?id=39275272">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-220108">
	<div>

		
		
<p>Sponges from the Caribbean retain a record of ocean temperatures stretching back hundreds of years. These newly revealed paleoclimate records suggest that sea surface temperatures (SSTs) began rising in response to industrial era fossil fuel burning around 1860.</p>

<p>That’s 80 years earlier than SST measurements became common and predates the global warming start date used by the Intergovernmental Panel on Climate Change (IPCC). On the basis of these new sponge records, scientists think that temperatures are currently 1.7°C warmer than preindustrial levels.</p>

<figure><blockquote><p>“We’re further advanced in the global warming scenario, and the amount of time we have to take action to prevent it is seriously diminished.”</p></blockquote></figure>

<p>The study’s researchers argue that the world has already surpassed the goal of the 2015 <a href="https://eos.org/tag/paris-agreement" target="_blank" rel="noreferrer noopener">Paris Agreement</a> to limit atmospheric warming to less than 1.5°C above preindustrial temperatures and that we could reach 2°C of warming before 2030.</p>

<p>“We’re further advanced in the global warming scenario, and the amount of time we have to take action to prevent it is seriously diminished,” said <a href="https://research-repository.uwa.edu.au/en/persons/malcolm-mcculloch" target="_blank" rel="noreferrer noopener">Malcolm McCulloch</a>, a marine and coral geochemist at the University of Western Australia in Crawley and lead author on the new study. “We’ve got to start doing serious mitigation and serious reductions in emissions.”</p>

<p>These results were <a href="https://www.nature.com/articles/s41558-023-01919-7" target="_blank" rel="noreferrer noopener">published</a>&nbsp;in <em>Nature Climate Change</em>.</p>


<h3><strong>Old Sponges Fill Gaps</strong></h3>

<p>The sclerosponges studied (<em>Ceratoporella nicholsoni</em>) are a group of long-lived sponges that live exclusively in the Caribbean at depths with little variation in light or temperature. Like tree rings, a sponge’s skeleton retains a record of its environmental conditions throughout its lifetime.</p>

<p>“These sponges are extremely slow growing,” explained <a href="https://www.indstate.edu/faculty-staff/amos-winter" target="_blank" rel="noreferrer noopener">Amos Winter</a>, a study coauthor and paleoceanographer at Indiana State University in Terre Haute. “A 10-centimeter sponge, which isn’t very large, can go back 400 years.”</p>

<p>That longevity is key to the new study’s analysis of modern-day global warming.</p>

<p>The <a href="https://eos.org/tag/ipcc" target="_blank" rel="noreferrer noopener">IPCC</a> compares modern temperatures with the average temperature between 1850 and 1900 to define today’s warming relative to a preindustrial world.</p>

<p>However, “it’s well recognized that human emissions began increasing significantly in the 1750s,” said <a href="https://duochanatharvard.github.io/" target="_blank" rel="noreferrer noopener">Duo Chan</a>, a climate scientist at the University of Southampton in the United Kingdom who was not involved with the new study.</p>
<div>
<figure><img decoding="async" width="780" height="509" src="https://i0.wp.com/eos.org/wp-content/uploads/2024/02/icoads-measurements.gif?resize=780%2C509&amp;ssl=1" alt="This animation shows a map of the world overlain with rainbow-colored points indicating the distribution of sea surface temperatures since 1860 in 20-year increments." data-recalc-dims="1"><figcaption>The global distribution of sea surface temperature measurements in the International Comprehensive Ocean-Atmosphere Data Set (ICOADS) since 1860. Warmer colors indicate more measurements at that location. Credit: McCulloch et al., 2024, <a href="https://doi.org/10.1038/s41558-023-01919-7" target="_blank" rel="noopener">https://doi.org/10.1038/s41558-023-01919-7</a>, <a href="https://creativecommons.org/licenses/by/4.0/legalcode.en" target="_blank" rel="noopener">CC BY 4.0</a>; animation by Kimberly M. S. Cartier</figcaption></figure></div>
<p>Ship-based measurements of SST go back only to around 1850. The records contain many inconsistencies and remain sparse until the mid-1900s, when modern instrumentation took over. Even then, there are <a href="https://eos.org/articles/crowdsourced-science-pulls-off-a-daring-wwii-data-rescue" target="_blank" rel="noreferrer noopener">notable data gaps</a> during such events as World War II. <a href="https://eos.org/tag/proxies" target="_blank" rel="noreferrer noopener">Paleoclimate proxies</a> such as those stored in sclerosponges can extend the record of SSTs back to truly preindustrial times and help fill gaps in shipboard measurements.</p>

<p>“The IPCC’s adoption of a later preindustrial reference period was a compromise, largely due to the lack of sufficient instrumental data for quantifying global temperatures before the 1850s,” Chan said.</p>

<p>These sclerosponge records can unravel the history of past sea surface temperatures, said <a href="https://thirumalai.geo.arizona.edu/" target="_blank" rel="noreferrer noopener">Kaustubh Thirumalai</a>, a paleoceanographer at the University of Arizona in Tucson who was not involved with this study. (Thirumalai is a science advisor for <em>Eos</em>.)</p>

<h3><strong>An 80-Year Head Start</strong></h3>

<p>With the help of local divers, the researchers collected six sclerosponges from 2007 to 2012 near Puerto Rico and St. Croix in the U.S. Virgin Islands. They used uranium-thorium radioisotope dating to construct a growth timeline for each sponge that goes back about 300 years.</p>

<p>Within each 2-year growth interval, they measured the ratio of strontium to calcium. Calcifying coral skeletons preferentially take in calcium over strontium as temperatures increase, so the ratio is a proxy for seawater temperature. They calibrated their sclerosponge temperature timeline against recent (1964–2012) instrumental measurements.</p>

<p><em>Ceratoporella nicholsoni</em> may be endemic to the Caribbean, but they can be used to understand globally averaged trends.</p>

<p>Scientists have found that <a href="https://doi.org/10.1038/s41586-018-0006-5" target="_blank" rel="noreferrer noopener">temperature trends in Caribbean waters</a> closely follow global mean SST trends. Sclerosponges live at depths within the <a href="https://en.wikipedia.org/wiki/Mixed_layer#Oceanic_mixed_layer" target="_blank" rel="noreferrer noopener">ocean mixed layer</a>, where temperatures are mostly the same from the surface to about 100 meters down. So the ambient seawater temperatures recorded by sclerosponges can be used to understand sea surface temperatures too.</p>

<p>The sclerosponges recorded some well-known global temperature anomalies, such as the cooling period after the <a href="https://eos.org/articles/centuries-old-archive-reveals-far-flung-impacts-of-major-eruptions" target="_blank" rel="noreferrer noopener">Tambora</a> eruption in 1815. Ocean temperatures were relatively steady from 1700 to 1790, followed by an era of volcanic cooling from 1790 to 1840 and then another steady but slightly warmer period from 1840 to the early 1860s. Researchers trace anthropogenic climate change to that period—about 80 years earlier than instrumental SST records show.</p>

<p>The sponges’ preindustrial starting line of about 1700 implies that Earth warmed by 1.7°C between then and about 2020, assuming that the land and ocean have warmed by the same amount. That’s about 0.5°C higher than IPCC estimates and suggests that the planet is on track to surpass 2°C of warming before 2030.</p>

<p>Thirumalai found the research to be “innovative and clever,” although he said the sclerosponge records might have too much uncertainty to sufficiently pinpoint events such as the 19th century volcanic cooling. Too, he wanted the researchers to have shown in more detail how temperature trends in the Caribbean were representative of global SST anomalies.</p>

<p>Nevertheless, he said, “it is always useful to generate new and independent paleotemperature records to help minimize uncertainties in our understanding of anthropogenic warming and the baseline of preindustrial conditions.”</p>

<h3><strong>Untangling the Cause of Warming</strong></h3>

<p>“Integrating these sclerosponge findings with corrected instrumental data could offer a more comprehensive view of historical SST evolution,” Chan said. However, he cautioned against immediately adopting the updated warming values.</p>

<p>The sclerosponge warming rates almost mirror modern instrumental records in a broad sense, but there are some differences, even when accounting for different starting lines, Chan said. Research is ongoing to correct some biases and errors in historic instrumental records, which might reconcile some of these differences.</p>

<figure><blockquote><p>“This distinction not only enhances our understanding of climate change but also has significant political implications, informing policy and target setting in the context of global warming.”</p></blockquote></figure>

<p>Too, when looking as far back as 1700, Earth’s climate might still have been rebounding from the <a href="https://www.britannica.com/science/Little-Ice-Age" target="_blank" rel="noreferrer noopener">Little Ice Age</a> (roughly 1300–1850). That might account for some of the warming during the early 19th century, Chan said, but definitely not all.</p>

<p>“It is essential to more accurately distinguish the anthropogenic component from other factors, particularly during the early industrial period,” Chan said. “This distinction not only enhances our understanding of climate change but also has significant political implications, informing policy and target setting in the context of global warming.”</p>

<p>McCulloch, Winter, and their colleagues urged IPCC scientists and climate modelers to consider this new preindustrial starting line. Whether it will be adopted is uncertain, but if the world has already surpassed 1.5°C of warming, the researchers argue that continued <a href="https://eos.org/tag/climate-action" target="_blank" rel="noreferrer noopener">climate action</a> is more important than ever.</p>

<p>—Kimberly M. S. Cartier (<a href="https://twitter.com/@AstroKimCartier" target="_blank" rel="noreferrer noopener">@AstroKimCartier</a>), Staff Writer</p>

<h5><strong>Citation:</strong>&nbsp;Cartier, K. M. S. (2024), Oceans may have already seen 1.7°C of warming,&nbsp;<em>Eos, 105, </em><a href="https://doi.org/10.1029/2024EO240059" target="_blank" rel="noreferrer noopener">https://doi.org/10.1029/2024EO240059</a>. Published on 5 February 2024.</h5>

<h6><strong>Text © 2024. The authors.&nbsp;<a href="https://creativecommons.org/licenses/by-nc-nd/3.0/us/" target="_blank" rel="noreferrer noopener">CC BY-NC-ND 3.0</a></strong><br><strong>Except where otherwise noted, images are subject to copyright. Any reuse without express permission from the copyright owner is prohibited.</strong></h6>

	</div><!-- .entry-content -->

	<!-- .entry-footer -->

	
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bluesky and the at Protocol (220 pts)]]></title>
            <link>https://arxiv.org/abs/2402.03239</link>
            <guid>39275203</guid>
            <pubDate>Tue, 06 Feb 2024 15:25:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2402.03239">https://arxiv.org/abs/2402.03239</a>, See on <a href="https://news.ycombinator.com/item?id=39275203">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2402.03239.pdf">Download PDF</a></p><blockquote>
            <span>Abstract:</span>Bluesky is a new social network built upon the AT Protocol, a decentralized foundation for public social media. It was launched in private beta in February 2023, and has grown to over 3 million registered users in the following year. In this paper we introduce the architecture of Bluesky and the AT Protocol, which is inspired by the web itself, but modernized to include streams of real-time updates and cryptographic authentication. We explain how the technical design of Bluesky is informed by our goals: to enable decentralization by having multiple interoperable providers for every part of the system; to make it easy for users to switch providers; to give users agency over the content they see; and to provide a simple user experience that does not burden users with complexity arising from the system's decentralized nature. The system's openness allows anybody to contribute to content moderation and community management, and we invite the research community to use Bluesky as a dataset and testing ground for new approaches in social media moderation.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Martin Kleppmann [<a href="https://arxiv.org/show-email/f3ce74c0/2402.03239">view email</a>]      <br>    <strong>[v1]</strong>
        Mon, 5 Feb 2024 17:55:51 UTC (2,032 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Better Call GPT, Comparing Large Language Models Against Lawyers [pdf] (357 pts)]]></title>
            <link>https://arxiv.org/abs/2401.16212</link>
            <guid>39274918</guid>
            <pubDate>Tue, 06 Feb 2024 15:04:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2401.16212">https://arxiv.org/abs/2401.16212</a>, See on <a href="https://news.ycombinator.com/item?id=39274918">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2401.16212.pdf">Download PDF</a>
    <a href="https://arxiv.org/html/2401.16212v1">HTML (experimental)</a></p><blockquote>
            <span>Abstract:</span>This paper presents a groundbreaking comparison between Large Language Models and traditional legal contract reviewers, Junior Lawyers and Legal Process Outsourcers. We dissect whether LLMs can outperform humans in accuracy, speed, and cost efficiency during contract review. Our empirical analysis benchmarks LLMs against a ground truth set by Senior Lawyers, uncovering that advanced models match or exceed human accuracy in determining legal issues. In speed, LLMs complete reviews in mere seconds, eclipsing the hours required by their human counterparts. Cost wise, LLMs operate at a fraction of the price, offering a staggering 99.97 percent reduction in cost over traditional methods. These results are not just statistics, they signal a seismic shift in legal practice. LLMs stand poised to disrupt the legal industry, enhancing accessibility and efficiency of legal services. Our research asserts that the era of LLM dominance in legal contract review is upon us, challenging the status quo and calling for a reimagined future of legal workflows.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Rivindu Perera [<a href="https://arxiv.org/show-email/e9e4df27/2401.16212">view email</a>]      <br>    <strong>[v1]</strong>
        Wed, 24 Jan 2024 03:53:28 UTC (695 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bluesky signups are now open to the public (306 pts)]]></title>
            <link>https://bsky.social/about/blog/02-06-2024-join-bluesky</link>
            <guid>39274882</guid>
            <pubDate>Tue, 06 Feb 2024 15:01:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bsky.social/about/blog/02-06-2024-join-bluesky">https://bsky.social/about/blog/02-06-2024-join-bluesky</a>, See on <a href="https://news.ycombinator.com/item?id=39274882">Hacker News</a></p>
<div id="readability-page-1" class="page"><section><header><section><a href="https://bsky.social/about/blog">Blog</a><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 10L6 6L2 2" stroke="#667999" stroke-width="2" stroke-linecap="square"></path></svg><span>Join Bluesky Today (Bye, Invites!)</span></section><div><p>Feb 6, 2024</p><p><span>by <!-- -->The Bluesky Team</span></p></div></header><div><p>Bluesky is building an open social network where anyone can contribute, while still providing an easy-to-use experience for users. For the past year, we used invite codes to help us manage growth while we built features like moderation tooling, custom feeds, and more. Now, we’re ready for anyone to join.</p>

<p>Join more than three million people discussing news, sharing art, and just posting.</p>
<h2>What is Bluesky?</h2>
<p>To mark the occasion, we teamed up with <a href="https://bsky.app/profile/davis.social">Davis Bickford</a>, an artist on the network, to share why we’re excited about Bluesky.</p>
<p><img src="https://bsky.social/about/welcome-to-bluesky-comic-davis-bickford/page-1.jpg" alt="A multi-panel comic. Two characters stand amidst a pile of rubble. One says, 'I think it's time to leave old social. This keeps happening. I have to start over again. I'm tired.' The two characters board a boat. Jay says, 'Don't worry! Better things are ahead at Bluesky!' They arrive to a beautiful, festive area that has buildings labeled News, Discover, Art, Science, and more." classname="w-full">
<img src="https://bsky.social/about/welcome-to-bluesky-comic-davis-bickford/page-2.jpg" alt="A multi-panel comic. Jay says, 'At Bluesky, you choose what you want to see instead of being held to the whims of a blackbox algorithm. There are already tens of thousands of feeds! Anyone can make or subscribe to feeds!' A troll appears. Jay says, 'And for things you don't want to see, you can stack additional layers of moderation as easily as following a new account.' Poof! Fences go up and the troll disappears. Jay continues to describe Bluesky's open network. 'With Bluesky, everything is connected. Dock at any port — you can explore the entire network. And wherever you go, your whole network comes with you.'" classname="w-full">
<img src="https://bsky.social/about/welcome-to-bluesky-comic-davis-bickford/page-3.jpg" alt="A multi-panel comic. One character says, 'At Bluesky, I can customize my own experience and if I move, everything comes with me?!' Jay smiles and says, 'Yes, it's the last social account you'll ever have to create!' The two run across a bridge towards a magical mountainside. They say, 'Come on, let's go explore!'" classname="w-full"></p>
<p>To learn more about Bluesky and how to get started, read our <a href="https://bsky.social/about/blog/5-19-2023-user-faq">user FAQ here</a>.</p>
<p>And if deep dives are more your style, we worked with <a href="https://bsky.app/profile/martin.kleppmann.com">Martin Kleppman</a>, author of <em>Designing Data-Intensive Applications</em> and technical advisor to Bluesky, to write <a href="https://bsky.social/about/bluesky-and-the-at-protocol-usable-decentralized-social-media-martin-kleppmann.pdf">a paper that goes into more detail</a> about the technical underpinnings of Bluesky.</p>
<h2>Looking Forward</h2>
<p>We’ve been working on more features that put you in control of your social media experience. Here’s what you can expect to see soon:</p>
<h3>Stackable Moderation Services</h3>
<p>Safety is core to social media. Bluesky moderates the app according to our community guidelines, and our vision for <a href="https://bsky.social/about/blog/4-13-2023-moderation">composable moderation</a> allows users to stack more moderation services together, such as subscribable moderation lists.</p>
<p>In the coming weeks, we’re excited to release the labeling services which will allow users to stack more options on top of their existing moderation preferences. This will allow other organizations and people to run their own moderation services that can account for industry-specific knowledge or specific cultural norms, among other preferences.</p>
<p>One potential use case for labeling is fact-checking. For example, a fact-checking organization can run a labeling service and mark posts as “partially false,” “misleading,” or other categories. Then, users who trust this organization can subscribe to their labels. As the user scrolls through posts in the app, any labels that the fact-checking organization publishes will be visible on the post itself. This helps in the effective distribution of the fact-check and keeps users better informed.</p>
<p>We’ll be sharing more in the coming weeks. In the meantime, if you’re interested in partnering with Bluesky and setting up a labeling service, contact us at <a href="mailto:partnerships@blueskyweb.xyz">partnerships@blueskyweb.xyz</a>.</p>
<h3>An Open Social Network</h3>
<p>When you log in to Bluesky, it might look and feel familiar — the user experience should be straightforward. But under the hood, we’ve designed the app in a way that puts control back in your hands. Here, your experience online isn’t controlled by a single company. Whether it's your timeline or content filters, on Bluesky, you can easily customize your social experience.</p>
<p>This month, we’ll be rolling out an experimental early version of “federation,” or the feature that makes the network so open and customizable. On Bluesky, you’ll have the freedom to choose (and the right to leave) instead of being held to the whims of private companies or black box algorithms. And wherever you go, your friends and relationships can go with you.</p>
<p>For developers: We’ve already federated the network among multiple servers internally, and later this month, you’ll be able to self-host a server that connects to the main production network. You’ll be part of the first batch of servers that federate with the network, so expect to experiment alongside us! We’ll share more information on how to join the production network with your own server soon. In the meantime, you can test out your server set up via our developer sandbox. <a href="https://www.docs.bsky.app/blog/federation-sandbox">Find instructions here</a>.</p></div></section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Mozilla Monitor Plus: automatically remove your personal info from data brokers (249 pts)]]></title>
            <link>https://blog.mozilla.org/en/mozilla/introducing-mozilla-monitor-plus-a-new-tool-to-automatically-remove-your-personal-information-from-data-broker-sites/</link>
            <guid>39274631</guid>
            <pubDate>Tue, 06 Feb 2024 14:37:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.mozilla.org/en/mozilla/introducing-mozilla-monitor-plus-a-new-tool-to-automatically-remove-your-personal-information-from-data-broker-sites/">https://blog.mozilla.org/en/mozilla/introducing-mozilla-monitor-plus-a-new-tool-to-automatically-remove-your-personal-information-from-data-broker-sites/</a>, See on <a href="https://news.ycombinator.com/item?id=39274631">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
  <main id="main">

    
<article id="post-74078">
  

  <div>
    
<p>Today,<a href="http://relay.firefox.com/"> </a><a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Mozilla Monitor</a> (previously called Firefox Monitor), a free service that notifies you when your email has been part of a breach, announced its new paid subscription service offering: automatic data removal and continuous monitoring of your exposed personal information.&nbsp;</p>



<figure><p>
<iframe title="Mozilla Monitor Plus | Product Walkthrough" width="640" height="360" src="https://www.youtube.com/embed/lT0u415in5Y?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p><figcaption><em>Introducing Mozilla Monitor Plus</em></figcaption></figure>



<p>There’s a growing interest among 42% of young adults – aged 18-24 – who want to learn more about the types of information that companies have about them, according to a <a href="https://blogs.cisco.com/security/generation-privacy">consumer privacy survey</a>. Yet, taking the steps to request changes or delete personal data can be a bit overwhelming. At Mozilla, we’re always looking for ways to <a href="https://www.mozilla.org/en-US/about/manifesto/">protect people’s privacy and give them greater control when they go online</a>. Enter <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Monitor Plus</a>.</p>



<p>“When we <a href="https://blog.mozilla.org/en/products/firefox/introducing-firefox-monitor-helping-people-take-control-after-a-data-breach/">launched</a> Monitor, our goal was to help people discover where their personal info may have been exposed. Now, with <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Monitor Plus</a>, we’ll help people take back their exposed data from data broker sites that are trying to sell it,” said Tony Amaral-Cinotto, Product Manager of <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Mozilla Monitor</a> at Mozilla. “Our long-standing commitment to put people’s needs first and our easy step-by-step process makes <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Monitor Plus</a> unique. Additionally, we combine breach alerts and data broker removal to offer an all-in-one protection tool and make it easier for people to feel and be safe online.”&nbsp;</p>



<h2>First step: Find out where your personal information has been exposed</h2>



<p>More than 10 million people have signed up with <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Mozilla Monitor</a> so they can be notified when their personal data has been involved in a data breach. Today, we are rolling out a new feature with a free one-time scan, where people can take the next step to see where their personal information has been exposed on sites selling it for profit. This could include information like your name, current and previous home addresses, and phone numbers. It could also go another layer deeper with information like family member names, criminal history, your kids’ school district, and even your hobbies.</p>



<p>To get your complimentary scan, you will need to provide your first and last name, the current city and state that you live in, your date of birth, and your email address. This information will be encrypted and follows <a href="https://www.mozilla.org/en-US/privacy/subscription-services/#">Mozilla’s privacy policy</a>, which always puts people first. This is the least amount of information we need to get the most accurate search results for you. From there, you can see where your personal info is exposed, either through a data breach or through broker sites. We also include high risk data breaches – exposures that may include social security numbers, credit card information, your bank account and pin numbers – that you’ve been exposed to and show how you can fix and resolve it.</p>



<figure><img decoding="async" src="https://lh7-us.googleusercontent.com/yCUt5bOi3hGj82IdNvhpBRn5JUvgHe12zyfOj0otRLhVSMxYZZlfaTbYz2d4Asli27Os6Pz-4SMFGa_QjoPjiY6fdxX95L-tBH-d0wU5xKxHnBQOo2vEK6PLECZzyQ1GQ8Jf4Za_YuKU85GjdCQ_SWg" alt="brief GIF showing the fields where you enter some personal data, then a screen showing &quot;scanning for exposure&quot;, then the dashboard where you can fix."><figcaption><em>Take the step to see where your personal info has been exposed</em></figcaption></figure>



<h2>Second step: Take back your personal information with <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Monitor Plus</a></h2>



<p>If you’re the type who wants to set it and forget it, because you know the work is happening behind the scenes, then we can automatically and continuously request to remove your personal information with an annual paid subscription of $8.99 per month ($107.88 a year). On your behalf, <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Mozilla Monitor</a> will start with data removal requests, then scan every month to make sure your personal information stays off data broker sites. <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Monitor Plus</a> will let you know once your personal information has been removed from more than 190+ data broker sites, twice the number of other competitors.&nbsp;</p>


<div>
<figure><img decoding="async" src="https://lh7-us.googleusercontent.com/FxkxHE3KjEx8E5mWL1TMfLUo0iQgKfB2gmk7qZpmUQq238_CUKjTYderXtlrkcrOGFqt3FhnRd8NxuDx-Zy50DO7-Bz6H8xg1mzKWZkhOyZe_wcbHgGyeCpSQnTyCSI2wFgkptpfnP4zz89xh-e7BJI" alt=""><figcaption><em>See the actual sites where your personal info has been exposed</em></figcaption></figure></div>

<div>
<figure><img decoding="async" src="https://lh7-us.googleusercontent.com/1XnRNUd8_tpwsfuriYyQD3ZcFf7XdhhGHukY_F0E1TqQv87tOmVHuHQgOdbcVGCZi1wpPfrrThcNPiQ_oGseKN_5aI0GQOUuLFZkPfvitg6bYacMF-pOG1X8_qr8zN5MZXQcecd0ehRhpF0pUvaUanE" alt=""><figcaption><em>Mark as fixed in the dashboard</em></figcaption></figure></div>


<p>At launch, the <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Monitor Plus</a> free scan and paid subscription service will be offered to people based in the United States.&nbsp;</p>



<h2>Privacy starts with a Mozilla Account</h2>



<p>Mozilla has built a reputation of creating and delivering products – <a href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a> and <a href="https://www.mozilla.org/en-US/products/vpn/?entrypoint_experiment=vpn-pricing-position&amp;entrypoint_variation=1">Mozilla VPN</a> – that put people’s privacy needs first so you can count on <a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">Mozilla Monitor</a> as an ally in reclaiming your privacy. In order to get a free scan and sign up for the paid automated data removal, you’ll need to get a <a href="https://www.mozilla.org/en-US/firefox/accounts/">Mozilla Account </a>(previously known as a <a href="https://blog.mozilla.org/en/mozilla/firefox-accounts-transition-mozilla-accounts/">Firefox Account</a>). With a Mozilla Account, you’ll get security benefits such as two-factor authentication powered by Mozilla, as well as backed by Mozilla’s <a href="https://www.mozilla.org/en-US/about/legal/terms/services/">terms of service</a> and <a href="https://www.mozilla.org/en-US/privacy/mozilla-accounts/">privacy policy</a>. To learn about the benefits of having a Mozilla Account, <a href="https://blog.mozilla.org/en/products/firefox/firefox-tips/firefox-account-password-manager-bookmarks-credit-card-autofill/">click here</a>.</p>



<figure><p>
<iframe title="Take back your privacy with Mozilla Monitor Plus" width="640" height="360" src="https://www.youtube.com/embed/WOBGckoAgq8?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p></figure>







<a href="https://monitor.firefox.com/?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_campaign=monitor-plus-launch-us&amp;utm_content=introduction-us">
  <p><img width="200" height="200" src="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/01/moz_monitor_mdn_ad_01_260x200-200x200.png" alt="" decoding="async" srcset="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/01/moz_monitor_mdn_ad_01_260x200-200x200.png 200w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2024/01/moz_monitor_mdn_ad_01_260x200-150x150.png 150w" sizes="(max-width: 200px) 100vw, 200px">  </p>
  <div>
     <h3>Find out where your private info is exposed – and take it back</h3>      <p><span>Try a free scan today with Mozilla Monitor!</span>   </p></div>
</a>












  </div>

</article><!-- #post-74078 -->

  </main><!-- #main -->
  

<div id="related-articles">
    <h2>Related Articles</h2>
    
  </div>



</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Dean of Engineering at University of Nevada wrote a paper that’s bad (117 pts)]]></title>
            <link>https://statmodeling.stat.columbia.edu/2024/02/06/its-bezzle-time-the-dean-of-engineering-at-the-university-of-nevada-gets-paid-372127-a-year-and-wrote-a-paper-thats-so-bad-you-cant-believe-it-i-mean-really-you-have-to-take-a-look-at-t/</link>
            <guid>39274461</guid>
            <pubDate>Tue, 06 Feb 2024 14:23:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://statmodeling.stat.columbia.edu/2024/02/06/its-bezzle-time-the-dean-of-engineering-at-the-university-of-nevada-gets-paid-372127-a-year-and-wrote-a-paper-thats-so-bad-you-cant-believe-it-i-mean-really-you-have-to-take-a-look-at-t/">https://statmodeling.stat.columbia.edu/2024/02/06/its-bezzle-time-the-dean-of-engineering-at-the-university-of-nevada-gets-paid-372127-a-year-and-wrote-a-paper-thats-so-bad-you-cant-believe-it-i-mean-really-you-have-to-take-a-look-at-t/</a>, See on <a href="https://news.ycombinator.com/item?id=39274461">Hacker News</a></p>
Couldn't get https://statmodeling.stat.columbia.edu/2024/02/06/its-bezzle-time-the-dean-of-engineering-at-the-university-of-nevada-gets-paid-372127-a-year-and-wrote-a-paper-thats-so-bad-you-cant-believe-it-i-mean-really-you-have-to-take-a-look-at-t/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[What Happened with the Web Monetization API? (194 pts)]]></title>
            <link>https://chriscoyier.net/2024/01/24/what-happened-with-the-web-monetization-api/</link>
            <guid>39274455</guid>
            <pubDate>Tue, 06 Feb 2024 14:23:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://chriscoyier.net/2024/01/24/what-happened-with-the-web-monetization-api/">https://chriscoyier.net/2024/01/24/what-happened-with-the-web-monetization-api/</a>, See on <a href="https://news.ycombinator.com/item?id=39274455">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>I was <a href="https://css-tricks.com/more-people-dipping-toes-into-web-monetization/">pretty hot on it for a minute</a>. I wanted it to succeed and thought it had the bones to make it. Coil was the main startup trying to push it. They did the right thing by just making it work first, showing there is interest, then pushing to get it standardized. But <a href="https://www.coil.com/">Coil failed</a>. </p>
<blockquote>
<p>When we started Coil in 2018, Interledger was only an idea. Over the last five years we breathed life into the technology and sparked a vibrant ecosystem around it. Now it’s time to pass the torch to a neutral body in the form of the&nbsp;<a href="https://interledger.org/">Interledger&nbsp;Foundation</a>&nbsp;to steward the future development of Interledger.</p>
</blockquote>
<p>I don’t know much about Interledger. It seems alive-<em>ish</em>? They had a “Summit” recently and <a href="https://www.youtube.com/watch?v=qmjeQb79mwQ">I watched some of it</a> but it didn’t do much for my understanding.</p>
<p>Then recently I saw <a href="https://xoxo.zone/@sara/111774573812373512">a good thread</a> from <a href="https://sarafen.com/">Sara</a> including this:</p>
<figure><img fetchpriority="high" decoding="async" width="1024" height="768" data-attachment-id="11027" data-permalink="https://chriscoyier.net/2024/01/24/what-happened-with-the-web-monetization-api/958shots_so/" data-orig-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2024/01/958shots_so.png?fit=1920%2C1440&amp;ssl=1" data-orig-size="1920,1440" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="958shots_so" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2024/01/958shots_so.png?fit=300%2C225&amp;ssl=1" data-large-file="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2024/01/958shots_so.png?fit=1024%2C768&amp;ssl=1" src="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2024/01/958shots_so.png?resize=1024%2C768&amp;ssl=1" alt="" srcset="https://i0.wp.com/chriscoyier.net/wp-content/uploads/2024/01/958shots_so.png?resize=1024%2C768&amp;ssl=1 1024w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2024/01/958shots_so.png?resize=300%2C225&amp;ssl=1 300w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2024/01/958shots_so.png?resize=768%2C576&amp;ssl=1 768w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2024/01/958shots_so.png?resize=1536%2C1152&amp;ssl=1 1536w, https://i0.wp.com/chriscoyier.net/wp-content/uploads/2024/01/958shots_so.png?w=1920&amp;ssl=1 1920w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1"></figure>
<p>Sara started it by saying that she just wants to “click a little button and send money from me to the person/org/persons operating a website”. Totally! I’m obsessed with that use case. It needs to be built into the browsers and web standards such that it’s incredibly smooth and fast. I wanna send $1 to a website, it happens instantly and anonymously, and the developer can do things around this. Like unlock features! For instance, stop showing ads, offer more complete downloads, unlock tutorial courses, etc. Make it <em>easier</em> and <em>faster</em> than using a credit card.</p>
<p>It appears that the Web Monetization API is up to the task. I friggin’ love the example of how to use it as a developer:</p>
<pre aria-describedby="shcb-language-1" data-shcb-language-name="HTML, XML" data-shcb-language-slug="xml"><span><code><span>&lt;!doctype <span>html</span>&gt;</span>
<span>&lt;<span>html</span> <span>lang</span>=<span>"en"</span>&gt;</span>
  <span>&lt;<span>head</span>&gt;</span>
    <span>&lt;<span>meta</span> <span>charset</span>=<span>"utf-8"</span> /&gt;</span>
    <span>&lt;<span>title</span>&gt;</span>My Blog<span>&lt;/<span>title</span>&gt;</span>
    <span>&lt;<span>link</span>
      <span>rel</span>=<span>"monetization"</span>
      <span>href</span>=<span>"https://example.com/pay"</span>
      <span>onmonetization</span>=<span>"sayThanks(this)"</span>
    /&gt;</span>
    <span>&lt;<span>script</span>&gt;</span><span>
      <span><span>function</span> <span>sayThanks</span><span>(monetizedLink)</span> </span>{
        <span>// Do something here</span>
      }
    </span><span>&lt;/<span>script</span>&gt;</span>
  <span>&lt;/<span>head</span>&gt;</span>
  <span>&lt;<span>body</span>&gt;</span><span>&lt;/<span>body</span>&gt;</span>
<span>&lt;/<span>html</span>&gt;</span></code></span><small id="shcb-language-1"><span>Code language:</span> <span>HTML, XML</span> <span>(</span><span>xml</span><span>)</span></small></pre>
<p>And of course there are more APIs, like for checking how much a user contributed, if they have already contributed, etc. </p>
<p>Does it have legs anymore? I just have no idea. Sorry if the title of the post led you to believe I might have an answer. I’m just <em>looking</em> for the answer.</p>
<p>Again though, poking a button to send a website bucks through web standards is a great idea. </p>
<p>I’ll leave it with my favorite use case (removing ads) and what I’ve written before, in hopes that this part can be done right:</p>
<blockquote>
<p>Removing ads is the most basic and obvious use case, and I hope some people give that a healthy try. […] I’d want to clearly be able to control the dollar-level of when you get that perk, but more importantly, in order to really make good on the promise of not delivering ads, you need to know very quickly if any given user is supporting you at the required level or not. For example, you can’t wait 2600 milliseconds to decide whether ads need to be requested. Well, you can, but you’ll wreck your ad revenue. And you can’t simply request the ads and hide them when you find out, lest you are not really making good on a promise, as trackers’n’stuff will have already done their thing.</p>
</blockquote>
<h2>Update: The Answer</h2>

<p><a href="https://www.quirksmode.org/about/">PPK</a> is now DevRel for the Interledger Foundation, so apparently it’s heating up again. The news is that the API will hook up to an online “wallet” powered by <a href="https://fynbos.app/">fynbos</a>. I’ve never heard of it, but it looks like it connects to banks and credit cards, not crypto. It’s not that I’m some big stan for Big Banks, but crypto was (is) just so absolutely riddled with scams and crime that I just can’t anymore. Decoupling the Web Payments API and crypto is certainly the right move right now.</p>
 </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Apple Vision Pro (158 pts)]]></title>
            <link>https://stratechery.com/2024/the-apple-vision-pro/</link>
            <guid>39274440</guid>
            <pubDate>Tue, 06 Feb 2024 14:22:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://stratechery.com/2024/the-apple-vision-pro/">https://stratechery.com/2024/the-apple-vision-pro/</a>, See on <a href="https://news.ycombinator.com/item?id=39274440">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-12278">
	<!-- .entry-header -->

	<div>
		
<p><strong>No wireless. Less space than a nomad. Lame.</strong><br>
— <em>CmdrTaco, <a href="https://slashdot.org/story/01/10/23/1816257/apple-releases-ipod">Slashdot</a></em></p>

<p>My one small comfort in the cold Wisconsin winters, walking up and down Bascom Hill in the snow at the University of Wisconsin-Madison, was listening to music on my Diamond Rio.</p>
<p><img loading="lazy" decoding="async" src="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-3.png?resize=450%2C600&amp;ssl=1" alt="The Diamond Rio" width="450" height="600" srcset="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-3.png?w=450&amp;ssl=1 450w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-3.png?resize=225%2C300&amp;ssl=1 225w" sizes="(max-width: 450px) 100vw, 450px" data-recalc-dims="1"></p>
<p>That Rio served me well all through college; Apple shipped the first iPod my senior year, but it was Mac only, and besides, my Rio was good enough. Sure, I could only fit 20 songs or so (of course I bought the proprietary expansion memory card), but if I wanted more I could just sync with my computer. I certainly wasn’t going to pay $2,000 or whatever it cost to get a Mac and an iPod to have “1,000 song in [my] pocket”.</p>
<p><img loading="lazy" decoding="async" src="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-6.png?resize=497%2C234&amp;ssl=1" alt="iPod. 1,000 Songs in your pocket." width="497" height="234" srcset="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-6.png?w=497&amp;ssl=1 497w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-6.png?resize=300%2C141&amp;ssl=1 300w" sizes="(max-width: 497px) 100vw, 497px" data-recalc-dims="1"></p>
<p>Two years after graduation I was in Taiwan and smitten with the recently released GarageBand, which led to my first Mac, and, not too long after, my first iPod. I can’t believe that I lived any other way!</p>
<p>I did, like the nerd that I am, experiment with using my iPod as a hard drive, but even with the addition of video capabilities and basic games it was exactly what it promised to be: the best possible way to listen to music on the go. That clarity was part of its allure: Apple had brilliantly paired the iPod with iTunes, offloading advanced playlist capabilities and library management to the computer, letting the iPod do what it did best.</p>
<p>It’s hard to imagine, now, but at the time the iPod era seemed to go from height to height, anchored by standalone Apple launch events for new models and iterations, complete with appearances from famous artists. In fact, though, it was only five-and-a-half years before the iPod gave way to the iPhone: yes, Apple still sold standalone music players for a few more years, but one’s pocket only had room for so many devices, and the iPhone was not just an iPod but also a cellular phone and Internet communicator (whatever that was):</p>
<p><img loading="lazy" decoding="async" src="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-4.png?resize=640%2C360&amp;ssl=1" alt="The iPhone's Capabilities" width="640" height="360" srcset="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-4.png?w=640&amp;ssl=1 640w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-4.png?resize=300%2C169&amp;ssl=1 300w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1"></p>
<p>This little trip down memory lane offers one way to understand Apple’s latest product launch: one way to think about the Vision Pro is that it is the iPod to the iPad’s Diamond Rio. One of the realities of the iPad is that, for most customers, it is a personal video player; for that particular use case the Apple Vision is superior in nearly every way. At the same time, the <a href="https://stratechery.com/2020/the-ipad-at-10-the-ipad-disappointment-ipads-missing-ecosystem/">tragedy of the iPad</a> is that outside of pen-based artistic use cases it is not particularly compelling as a <em>computer</em>. That, for now, is also the story of the Apple Vision Pro; the question is if there is an iPhone-esque <a href="https://stratechery.com/2013/obsoletive/">obsoletion opportunity</a> in its future.</p>
<h3>The Productivity Disappointment</h3>
<p>It is, admittedly, a bit early for me to be writing an Apple Vision Pro review: I only received it 36 hours ago, and my original plan was to use it for work on an upcoming trip, and only then give my thoughts. It quickly became apparent, though, that that would not be necessary, or desirable, for reasons I will lay out below. Plus, I wasn’t coming in blind: I tried the Vision Pro last year at WWDC, and was blown away. From the introduction of <a href="https://stratechery.com/2023/apple-vision/">Apple Vision</a>:</p>
<blockquote><p>It really is one of the best product names in Apple history: Vision is a description of a product, it is an aspiration for a use case, and it is a critique on the sort of society we are building, behind Apple’s leadership more than anyone else.</p>
<p>I am speaking, of course, about Apple’s new mixed reality headset that was <a href="https://www.youtube.com/watch?v=GYkq9Rgoj8E">announced at yesterday’s WWDC</a>, with a planned ship date of early 2024, and a price of $3,499. I had the good fortune of using an Apple Vision Pro in the context of a controlled demo — which is an important grain of salt, to be sure — and I found the experience extraordinary.</p>
<div>
<blockquote data-dnt="true">
<p lang="en" dir="ltr">It’s far better than I expected, and I had high expectations.</p>
<p>— Ben Thompson (@benthompson) <a href="https://twitter.com/benthompson/status/1665922508015673344?ref_src=twsrc%5Etfw">June 6, 2023</a></p></blockquote>
</div>
<p>The high expectations came from the fact that not only was this product being built by Apple, the undisputed best hardware maker in the world, but also because I am, unlike many, relatively optimistic about VR. What surprised me is that Apple exceeded my expectations on both counts: the hardware and experience were better than I thought possible, and the potential for Vision is larger than I anticipated. The societal impacts, though, are much more complicated.</p>
</blockquote>
<p>I’m glad I put that caveat about the “controlled demo” in there. What I realize now, after using the Vision Pro as I pleased, is that almost every part of the demo was focused on one particular app or immersive experience: you became, without realizing it, the sort of person who only ever looks at one app full screen on your computer at all times. When you want to use another app, switch to that app, which itself takes over the full screen.</p>
<p>This is, of course, how iOS was designed for the iPhone, and while iOS has been scaled up to iPadOS and visionOS, the former is a shining example of how difficult it is to take a one-app UI and make it multi-window. Apple has iterated on multi-window capacity on the iPad for years, and it is still so janky that I mostly only invoke it by accident.<sup id="rf1-12278"><a href="#fn1-12278" title="You can disable it completely, which I have done for many people in my life" rel="footnote">1</a></sup> Part of the problem is hardware: there just isn’t that much screen real estate, even on the largest iPad, and the limitation of only using touch controls means that the operating system has to rely on undiscoverable gestures.</p>
<p>visionOS suffers from a similar combination of shortcomings. First off, the user interface is exceptionally difficult to manage once you have multiple windows on the screen, particularly when windows are arranged on the z-axis (i.e. nearer or closer to you in 3-D space); one gets the sense that the usability of iOS-based operating systems are inversely correlated to their screen size. Second, while the eye tracking is an incredible feat of engineering, it is not nearly as precise as it needs to be for productive window management.</p>
<p>The biggest limitation, though, is hardware: the Vision Pro field of view is very narrow, in a way I didn’t fully appreciate while only using one app in that demo (Apple hasn’t reported the number, but it is noticeably narrower than the Quest 3’s 110°). This becomes immediately apparent when you have more than two or so apps open: if you want room for more, without encountering the z-axis issues I noted above, you better get ready to physically move your head or body (this is exacerbated by the fact that Vision Pro apps are very large, even if you have chosen the “small” preference; I would like them to be half the size they present as).</p>
<p>The net result is that the Vision Pro, at least in its current incarnation, does not come close to being the productivity tool I was so excited about last summer, when I wrote that I suspected the Vision Pro was “the future of the Mac”, and that’s even before getting to the limitations of Apple’s iOS-based operating system in terms of app capabilities and business models. That latter point, along with the limitations of eye-tracking as a default user-interface model, also makes me worry that new and better hardware won’t change this reality.</p>
<h3>Mac As the Future</h3>
<p>I did walk back my “future of the Mac” prediction <a href="https://stratechery.com/2023/quest-vs-vision-vision-and-the-mac-apple-acquires-mira/">in a follow-up</a> to that Article.</p>
<blockquote><p>
  I wrote in the productivity section of yesterday’s Article, “To put it even more strongly, the Vision Pro is, I suspect, the future of the Mac.” I’m kind of irritated at myself for not making one critical observation: the Vision Pro is the future of the Mac if Apple makes software choices that allow it to be.</p>
<p>  I’m mostly referring to the Mac’s dramatically larger degree of openness relative to other platforms like iPadOS: so many of the capabilities of a Mac are not because of its input method, but because applications and users have far fewer constraints on what they can do, and it will be difficult to replace the Mac if the same constraints that exist in iPadOS exist in visionOS.</p>
<p>  Frankly, I’m dubious Apple will allow that freedom, and I should have tempered my statement because of that. I do think that visionOS is much more compelling for productivity than the iPad is, thanks to the infinite canvas it enables, but if you have to jump through the same sort of hoops to get stuff done that you do with the iPad, well, that ability to project a Mac screen into the Vision Pro is going to be essential.
</p></blockquote>
<p>Unfortunately, I find this capability underwhelming: right now you can project one 4K screen into the Vision Pro, which is roughly equivalent to my 16″ MacBook Pro screen. You can augment that screen with Vision Pro apps, but I find the experience unworkable for two reasons: first, the field of view limitation means it is very difficult to even see, much less manage, multiple apps, particularly if the Mac projection is blown up to a useful size; and second, while you can use your keyboard and trackpad (but not mouse) for Vision Pro apps, the mismatch in expected interaction models creates a mental burden that is difficult to dispel. This could get better with time, but the experience was underwhelming enough that I’m not particularly motivated to find out.</p>
<p>At the end of the day, my calculation is thus: at my desk I have four monitors.<sup id="rf2-12278"><a href="#fn2-12278" title="Including my built-in display, which in this picture is 14″; the photo is old, but representative enough." rel="footnote">2</a></sup></p>
<p><img loading="lazy" decoding="async" src="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-2.png?resize=640%2C359&amp;ssl=1" alt="My 4-monitor desk setup" width="640" height="359" srcset="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-2.png?w=1280&amp;ssl=1 1280w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-2.png?resize=300%2C168&amp;ssl=1 300w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-2.png?resize=1024%2C574&amp;ssl=1 1024w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-2.png?resize=768%2C430&amp;ssl=1 768w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-2.png?resize=1125%2C630&amp;ssl=1 1125w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1"></p>
<p>This is drastically more powerful and capable than anything I could achieve on the Vision Pro; my dream would be to have a similar experience away from my desk, but the limited utility in practice doesn’t make it worth carrying around a Vision Pro when my computer has a perfectly fine screen to get work done (the one big exception would be something like an economy class airline seat, where it is not only difficult to open one’s computer, but also uncomfortable to know that your seat mate can look over your shoulder; more on this privacy aspect in a bit).</p>
<p>That noted, this capability might get better soon; in that Update I highlighted <a href="https://developer.apple.com/documentation/macos-release-notes/macos-14-release-notes">this detail in the macOS Sonoma release notes</a> about Apple’s new high-performance screen-sharing:</p>
<blockquote><p>
  A High Performance connection requires a network that supports at least 75Mbps for one 4K virtual display and at least 150Mbps for two 4K virtual displays. Low network latency is also required for responsiveness.
</p></blockquote>
<p>I have heard through the grapevine that Vision Pro users at Apple headquarters can project two Mac screens, which to me would make a massive difference in the Vision Pro’s utility: having two 4K displays for my Mac anywhere I go would absolutely make me more productive, and make it worth carrying the Vision Pro. Indeed, my question then would be, “Why do I have to carry my entire MacBook?”</p>
<p>This leads to one more curious discovery:</p>

<p>That’s not a lightning port: it has 12 pins instead of 8, which seems like overkill for simply conducting power. And, to be clear, that’s 12 pins per side, which is the same as a USB-C connector. Two of the pins in USB-C are reserved for a communications channel so two devices can negotiate the orientation of each end of a cable, making the other 22 pins all usable, and enabling protocols like DisplayPort or Thunderbolt. The latter has more than sufficient bandwidth to move compute to the end of that cable — could there be a battery alternative that is nothing more than a keyboard with a Mac built-in, enabling a truly portable computing experience that rivals my desktop setup?</p>
<p>This is hugely speculative, to be sure, but I suspect it is our best hope for Mac-like capabilities in a Vision Pro device: I just don’t think visionOS will ever be up to the job, no matter how much it evolves, because there are certain areas where Apple itself will not.</p>
<h3>An iPad Extraordinaire</h3>
<p>Here is the key thing to understand about all of the Vision Pro limitations I just articulated: they are not faults, but rather trade-offs, in the service of delivering a truly extraordinary entertainment experience.</p>
<p>Start with the hardware: contrary to most reviews, I didn’t find the Vision Pro uncomfortable, even with extended use. For me the Solo Knit band hugged the back of my head in a very pleasing way, such that I didn’t notice the weight of the device. What was striking to me was how frictionless it is to put the Vision Pro on, and you’re ready to go.</p>
<p>A big reason for this is the lack of controllers: while I was frustrated in “productivity mode” at the lack of direct manipulation that you get with, say, the Quest’s controllers, the ability to simply use my eyes<sup id="rf3-12278"><a href="#fn3-12278" title="My single favorite feature of Vision Pro is Optic ID: it works perfectly every time, without thought; you don’t need to perfectly place your (dry) finger like Touch ID, or hold your phone just so like Face ID. It’s completely seamless and very satisfying." rel="footnote">3</a></sup> and hands means that the distance from putting on the Vision Pro to watching a movie or TV show is surprisingly small. And, of course, a movie or TV show is a single app experience: here the trade-off for higher resolution screens at the cost of a narrower field of view is well worth it.</p>
<p>One challenge is the inability to use your phone. Now that may be, for some, an advantage (he says as he sheepishly admits to a phone-addled attention span): one of my favorite things about going to the theater is the fact that I’m much less tempted to even think about checking my notifications. That said, while passthrough is a technical marvel, and a massive differentiator over the Quest, you are still looking through a video screen, and that is never more apparent than when trying to read another screen: you can, if you squint, but it’s not particularly pleasant. There is already <a href="https://apps.apple.com/us/app/bezel-screen-broadcasting/id6476268685">an app in the App Store</a> that broadcasts your phone screen into the Vision Pro; here is a screenshot with me watching <a href="https://www.youtube.com/@SharpTechPodcast">the new Sharp Tech YouTube channel</a>:</p>
<p><a href="https://www.youtube.com/@SharpTechPodcast"><img loading="lazy" decoding="async" src="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-5.png?resize=640%2C360&amp;ssl=1" alt="Watching a YouTube video with my phone projected into the Vision Pro" width="640" height="360" srcset="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-5.png?w=1280&amp;ssl=1 1280w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-5.png?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-5.png?resize=1024%2C576&amp;ssl=1 1024w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-5.png?resize=768%2C432&amp;ssl=1 768w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/02/apple-vision-pro-5.png?resize=1120%2C630&amp;ssl=1 1120w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1"></a></p>
<p>What I would like to see, though, is Apple drawing the iPhone screen in the Vision Pro onto the iPhone in your hand, which would make it much easier to interact with.</p>
<p>That aside, you’re really not going to think much about your phone once you are watching something: obviously the 3D experiences are incredible, and I can’t wait for sports to be filmed using Apple’s specialty cameras.<sup id="rf4-12278"><a href="#fn4-12278" title="I think this quote from NBA Commissioner Adam Silver <a href=&quot;https://www.sportico.com/business/media/2024/nba-apple-vision-pro-app-video-all-star-1234765290/&quot;>in Sportico</a> does miss the point, however:</p>
<blockquote><p>
  “This is in many ways better than sitting courtside,” Silver said Friday. “It can take you anywhere on the floor. It can give you the perspective of a player … This will, to me, be how people over time experience sports.”
</p></blockquote>
<p>Actually, no, I do want to sit courtside. It’s one of the most incredible experiences you can have as a fan. Moreover, you don’t even need any production: if I want the score, I can look up at the scoreboard; the announcer is the in-arena PA system. Don’t overthink this!" rel="footnote">4</a></sup> Even just having multiple games on at once, though, is a lot of fun, and movies are extremely immersive. My wife’s response summed up the experience perfectly: “Why would I ever go to a movie theater again?”</p>
<p>What is remarkable is that this stellar experience can be had anywhere: I might have to pick and choose between office and portable productivity, but there is no compromise when it comes to personal entertainment. The best device is the same device no matter where you are. This is what I mean when I say the Vision Pro is to the iPad as the iPod was to the Rio: the increase in fidelity and the overall experience is so vast as to constitute a step-change in functionality.</p>
<p>This is also where being private isn’t such a bad thing; there is a reason why Apple already has an ad about using the Vision Pro on an airplane:</p>

<p>This is a killer articulation of the fact that isolation is sometimes exactly what you need, even if it suffers from the tech industry affliction of assuming everyone flies regularly. Om Malik, in <a href="https://stratechery.com/2024/an-interview-with-om-malik-about-techs-history-and-future/#visionpro">a recent Stratechery Interview</a>, gave another compelling use case (and started me down the path of thinking about the iPod analogy):</p>
<blockquote><p>
  But the thing is you actually have to be mobile-native to actually appreciate something like this. So if you’ve grown up watching a 75-inch screen television, you probably would not really appreciate it as much. But if you are like me who’s been watching iPad for ten-plus years as my main video consumption device, this is the obvious next step. If you live in Asia, like you live in Taiwan, people don’t have big homes, they don’t have 85-inch screen televisions. Plus, you have six, seven, eight people living in the same house, they don’t get screen time to watch things so they watch everything on their phone. I think you see that behavior and you see this is going to be the iPod. The headphones, why is headphones selling all the time everywhere? It is because people want their moment of privacy and they want to be alone and they want to listen to their media in their way. I think that’s what Vision Pro excites me is it’s going to be a video consumption device.
</p></blockquote>
<p>This does resonate with me, both in theory and in practice: even while trying to figure out the productivity use case I relished the fact that those sitting near me couldn’t see me futzing about. To put it another way, isolation is just another word for privacy, and privacy is very nice to have.</p>
<p>There is, though, one problem with both of these examples: folks living in close proximity to others, or even flying in the back of a plane, may not have the wherewithal to spend $3,500 on a personal TV. Those that do are probably more likely to have a traditional home theater or fly in seats with a bit more privacy. That, though, is only a problem for now (and, I might note, a real opportunity for Meta’s significantly lower-priced Quest).</p>
<p>For me this will be my primary Vision Pro use case, if one exists. When I watch TV it is usually after my kids are asleep, and simply slipping the Vision Pro on on the couch and relaxing is very pleasant and more convenient that getting my AirPods and pairing them to the Apple TV connected to my very-much-not-a-home-theater TV. The couch use case also diminishes another big Vision Pro negative: the battery and its associated cord is very annoying and will, I suspect, lead to broken Vision Pros yanked down by a battery in someone’s pocket. This sort of moving around is also, I would note, much more common when you’re trying to be productive; the Vision Pro really isn’t built for that, quite literally. Maybe someday, but V1s have to make trade-offs, and Apple has, in every respect, optimized for the entertainment experience.</p>
<h3>The AR Vision</h3>
<p>My favorite Vision Pro review isn’t really a review at all: it’s Casey Neistat in, his ever entertaining way, reaching out to pull the future back to the present:</p>
<p><iframe loading="lazy" width="560" height="315" src="https://www.youtube-nocookie.com/embed/UvkgmyfMPks?si=rEkDtPFQv1z_LoV7" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe></p>
<p>I’ve focused till now on productivity (the use case I’m most excited about, which the Vision Pro does not deliver on) and entertainment (which the Vision Pro is clearly focused on, and excels at). However, Nilay Patel in his review at <a href="https://www.theverge.com/24054862/apple-vision-pro-review-vr-ar-headset-features-price">The Verge</a> reminded us that Apple CEO Tim Cook has never been a fan of virtual reality:</p>
<blockquote><p>
  See&nbsp;<em>this</em>&nbsp;thing — a passthrough VR headset with a silly external battery pack and a display that shows ghostly images of your eyes on the front — is not the big goal. The big goal is AR, or augmented reality. In particular, the big goal is&nbsp;<em>optical</em>&nbsp;AR, where light passes directly through unobtrusive glasses to your eyes, with digital information layered over the top of what you’re seeing. AR is a technology with the potential to literally change humanity, and Apple CEO Tim Cook has been talking about how isolating VR headsets are and how important he thinks AR will be for years now.</p>
<ul>
<li>Tim Cook,&nbsp;<a href="https://9to5mac.com/2016/10/02/tim-cook-talks-steve-jobs-need-for-encryption-at-utah-tech-tour-video/">2016</a>: “Few people are going to view that it’s acceptable to be enclosed in something.”</li>
<li>Tim Cook,&nbsp;<a href="https://www.independent.co.uk/life-style/gadgets-and-tech/features/apple-tim-cook-boss-brexit-uk-theresa-may-number-10-interview-ustwo-a7574086.html">2017</a>: “Unlike Virtual Reality which closes the world out, AR allows individuals to be present in the world.”</li>
<li>Tim Cook,&nbsp;<a href="https://www.bbc.com/news/technology-41590323">2017</a>: “I also like the fact that [AR] doesn’t isolate […] I’ve never been a fan of VR like that because I think it does the opposite.”</li>
<li>Tim Cook,&nbsp;<a href="https://www.siliconrepublic.com/machines/tim-cook-ar-war-ducks-healthtech">2020</a>: “I think [AR is] something that doesn’t isolate people. We can use it to enhance our discussion, not substitute it for human connection, which I’ve always deeply worried about in some of the other technologies.”</li>
</ul>
<p>  You get the idea.</p>
<p>  The problem is that the technology to build a true optical AR display that works well enough to replace an everyday computer just isn’t there yet. The Magic Leap 2 is an optical AR headset that’s&nbsp;<a href="https://www.theverge.com/2022/7/12/23205702/magic-leap-2-enterprise-release-price-shipping-date-mixed-reality-ar-headset">cheaper and smaller</a>&nbsp;than the Vision Pro, but it’s plagued by compromises in field of view and image quality that most people would never accept.</p>
<p>  So Apple’s settled for building a headset with real-time video passthrough — it is the defining tradeoff of the Vision Pro. It is a VR headset masquerading as an AR headset. And let me tell you: the video passthrough on the Vision Pro is&nbsp;<em>really good</em>. It works! It’s convincing. You put the headset on, the display comes on, and you’re right back where you were, only with a bunch of visionOS windows floating around.
</p></blockquote>
<p>As Patel notes, this is a tremendous engineering achievement; the problem, however, is that you are still watching video, not seeing the real world. Still, as Neistat and countless other show-offs on social media have demonstrated, you can very much function in the real world with the Vision Pro on, and I don’t think that’s an accident. VR is a destination device, like a TV or video game console or PC, while AR is an accompaniment device, like a phone. The latter is a larger market, simply because the number of opportunities to augment a user’s life are greater than the amount of time available in a zero sum battle for total attention, and it makes sense that to the extent Apple can build experiences beyond entertainment they are focused on building AR, even if for now it is simulated.</p>
<p>What is clear, though, is that Apple will need help: the biggest hole in not just the Vision Pro but also the Quest is software. I’ve already written about <a href="https://stratechery.com/2024/the-apple-vision-pros-missing-apps/">The Vision Pro’s Missing Apps</a>, but services like Netflix and YouTube are not what will create an AR future: for that developers need to take risks, which means they need to have the possibility of making money, and deep access to the hardware Apple (and Meta) has created. I do worry that our AR future is going to be so technically challenging that only the biggest companies can create the hardware necessary, even as they hold onto business models and developer limitations that prevent the emergence of high-risk high-investment yet platform-defining software applications.</p>
<h3>Guest Mode</h3>
<p>The other interesting aspect of those quotes Patel collected is that Cook’s emphasis on preserving the ability to interact with others really didn’t come across in last year’s Vision Pro announcement. I wrote in my Article:</p>
<blockquote><p>
  What was far more striking, though, was how the consumption of this video [of a father’s children] was presented in the keynote:</p>

<p>  Note the empty house: what happened to the kids? Indeed, Apple actually went back to this clip while summarizing the keynote, and the line “for reliving memories” struck me as incredibly sad:</p>

<p>  I’ll be honest: what this looked like to me was a divorced dad, alone at home with his Vision Pro, perhaps because his wife was irritated at the extent to which he got lost in his own virtual experience. That certainly puts a different spin on Apple’s proud declaration that the Vision Pro is “The Most Advanced Personal Electronics Device Ever”.</p>
<p>  <img loading="lazy" decoding="async" src="https://i0.wp.com/stratechery.com/wp-content/uploads/2023/06/vision-image-7.png?resize=640%2C377&amp;ssl=1" alt="The most personal electronics device ever" width="640" height="377" srcset="https://i0.wp.com/stratechery.com/wp-content/uploads/2023/06/vision-image-7.png?w=1280&amp;ssl=1 1280w, https://i0.wp.com/stratechery.com/wp-content/uploads/2023/06/vision-image-7.png?resize=300%2C176&amp;ssl=1 300w, https://i0.wp.com/stratechery.com/wp-content/uploads/2023/06/vision-image-7.png?resize=1024%2C602&amp;ssl=1 1024w, https://i0.wp.com/stratechery.com/wp-content/uploads/2023/06/vision-image-7.png?resize=768%2C452&amp;ssl=1 768w, https://i0.wp.com/stratechery.com/wp-content/uploads/2023/06/vision-image-7.png?resize=1071%2C630&amp;ssl=1 1071w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1"></p>
<p>  Indeed, this, even more than the iPhone, is the true personal computer. Yes, there are affordances like mixed reality and EyeSight to interact with those around you, but at the end of the day the Vision Pro is a solitary experience.
</p></blockquote>
<p>It turns out that undersells it: the Vision Pro isn’t just experienced in isolation, it can only really be used by one person. Vision Pro, like all iOS-based devices, doesn’t support multiple user accounts (managed iPads, like in a school, are the exception). Apple, though, obviously wants people to be able to try the Vision Pro, so there is the option for a Guest User session. This is invoked through control center by the Vision Pro owner, who decides whether or not to allow access to their apps and data, and then has five minutes to remove their lenses (if necessary) and hand the Vision Pro to someone else.</p>
<p>This is already not great — you can’t, say, leave your Vision Pro at home or in a hotel room for a family member to use, because you’re not there to invoke a Guest User session — but it gets worse; from <a href="https://support.apple.com/en-us/117742">Apple’s support document</a>:</p>
<blockquote><p>
  When your guest puts on Apple Vision Pro, they might first be asked to press and hold the Digital Crown until the displays align and a green check mark appears. Then your guest will be asked to go through hand and eye setup so that Apple Vision Pro responds accurately to their input. When hand and eye setup are complete, your guest can begin using your Apple Vision Pro.</p>
<p>  When your guest is finished using Apple Vision Pro, they can simply take off the device to end the Guest User session. The next time you put on Apple Vision Pro, it returns automatically to your personal hand and eye settings.
</p></blockquote>
<p>This is very harsh in practice. For example, one friend lifted up the Vision Pro to rub their eyes; when they put the Vision Pro back on the Guest User session was wiped. I had to re-invoke a Guest User session (after re-inserting my lenses<sup id="rf5-12278"><a href="#fn5-12278" title="At this stage in my life, I much prefer wearing glasses (I can’t have LASIK surgery), so I need the Zeiss lens inserts; they are easy-to-use, but they do make the Vision Pro worse in my experience. First, eye-tracking worked much better without them, and second, bright scenes will induce reflections on the lenses that are very distracting. Moreover, if you stop using the lenses and switch to contacts, you have to re-do hand and eye calibration and re-setup Optic ID" rel="footnote">5</a></sup>), and then they had to run through the hand and eye calibration all over again. And then I had to do it again and again for the rest of my family.</p>
<p>What this means is that I felt like an absolute jerk. I spent $3500 on a device that only I can use, and it felt bad. I was selfish, even though I didn’t mean to be. It honestly put me in a bad mood, and made me regret my purchase (beyond, you know, the whole “this is my job” thing).</p>
<p>Again, I get that there are probably technical limitations to enabling persistent Guest User sessions. At the same time, it’s hard to not notice the incentives at play here: Apple makes money by selling devices, and it is very much in their interest that I solve this problem by buying more Vision Pros. That, though, may have been a reasonable expectation when it comes to a phone, even if it’s a bit shakier when it comes to an iPad. A $3,500 Vision Pro, though, goes too far in my opinion: Apple sells Macs for that much money, but they all support multiple users; there should be, at a minimum, the ability to enable a guest session for some set period of time, not just until they even temporarily remove the Vision Pro from their face.</p>
<p>In short, the Vision Pro might not have yet fully realized Cook’s goal of letting users be present in the real world; it’s unfortunate that it is currently so hostile at the prospect of having a shared experience with what is a remarkable device.</p>
<h3>Visions of the Future</h3>
<p>I’m generally annoyed by buy/don’t-buy recommendations from review sites: just tell me what the device is like, and I can make my own decision. That noted, one reason I did want to write this review is because I think the demo I had at WWDC — which, as I understand, is pretty close to the demo available at Apple Stores — was not ultimately representative of the use case I cared the most about for the reasons I laid out above.</p>
<p>Now, having used a Vision Pro of my own, I have to say that were I making a decision independent of my job, I would not buy a Vision Pro. I personally don’t watch that much TV or movies, and while I am a huge sports fan, there is not yet the sort of immersive content available that would make it worth it to me (but I’m hopeful!). Meanwhile, the productivity use cases simply didn’t materialize for me, although I am hopeful for the ability to project two monitors in a software update.</p>
<p>At the same time — and, to be sure, this applies to my job —&nbsp;I am happy to have one for what it says about the future. It is not just that the entertainment experience is extraordinary, but the fact that it is portable that is new (and not to beat a dead horse, is the exact sort of outcome I want for productivity). The AR possibilities hinted at by passthrough, meanwhile, are very compelling (I thought that <a href="https://www.wsj.com/video/series/joanna-stern-personal-technology/vision-pro-review-24-hours-in-apples-mixed-reality-headset/05CD2E77-897D-49A9-A87E-9B8A93E3E45F">Joanna Stern’s review</a> captured this well, particularly the cooking app).</p>
<p>I also, for what it’s worth, think that the Vision Pro is not the death knell for Meta’s VR efforts that so many think it is: the two visceral reactions I had to the Vision Pro were the “sitting down on the couch after a day at work and slipping it on” experience and the “wow it’s nice that my futzing around is private” experience; Meta, having made tradeoffs that favor a drastically lower price, is well-positioned to capture the latter, particularly for the use cases that Malik described. Make no mistake, video on the Vision Pro is better — resolution matters! — but it’s more than passable on the Quest, and better than a tablet or a phone. Controllers, meanwhile, make for a far better gaming experience, even if gaming as a whole is more of a destination activity than an augmented one.</p>
<p>What is most compelling about Meta, though, are <a href="https://stratechery.com/2024/meta-earnings-meta-ai-and-att-metas-new-playbook/">their investments in AI</a>. I believe that <a href="https://stratechery.com/2022/dall-e-the-metaverse-and-zero-marginal-content/">generative AI will be the key to unlocking the Metaverse</a>, and I suspect that Meta will achieve the capability necessary to deliver an infinite number of unique experiences before Apple will (if they even try). Meta, too, is focused on virtual connections as a matter of business (and <a href="https://stratechery.com/2021/enterprise-metaverses-horizon-workrooms-workrooms-facebook-problem/">I find their early efforts compelling</a>); I would expect the company to deliver a compelling “friend” experience in VR long before Apple (and I do, for the record, think their cartoonish approach to avatars is much better than Apple’s uncanny-valley-esque Personas).</p>
<p>In fact, I suspect there is room for both, and their respective market opportunities may follow the distinction I noted above between AR and VR: Apple has its eyes set on the real world, and Meta the virtual one; I just wish one of them would help me get my work done.</p>
<hr><ol><li id="fn1-12278"><p>You can disable it completely, which I have done for many people in my life&nbsp;<a href="#rf1-12278" title="Return to footnote 1.">↩</a></p></li><li id="fn2-12278"><p>Including my built-in display, which in this picture is 14″; the photo is old, but representative enough.&nbsp;<a href="#rf2-12278" title="Return to footnote 2.">↩</a></p></li><li id="fn3-12278"><p>My single favorite feature of Vision Pro is Optic ID: it works perfectly every time, without thought; you don’t need to perfectly place your (dry) finger like Touch ID, or hold your phone just so like Face ID. It’s completely seamless and very satisfying.&nbsp;<a href="#rf3-12278" title="Return to footnote 3.">↩</a></p></li><li id="fn4-12278"><p>I think this quote from NBA Commissioner Adam Silver <a href="https://www.sportico.com/business/media/2024/nba-apple-vision-pro-app-video-all-star-1234765290/">in Sportico</a> does miss the point, however:</p>
<blockquote><p>
  “This is in many ways better than sitting courtside,” Silver said Friday. “It can take you anywhere on the floor. It can give you the perspective of a player … This will, to me, be how people over time experience sports.”
</p></blockquote>
<p>Actually, no, I do want to sit courtside. It’s one of the most incredible experiences you can have as a fan. Moreover, you don’t even need any production: if I want the score, I can look up at the scoreboard; the announcer is the in-arena PA system. Don’t overthink this!&nbsp;<a href="#rf4-12278" title="Return to footnote 4.">↩</a></p></li><li id="fn5-12278"><p>At this stage in my life, I much prefer wearing glasses (I can’t have LASIK surgery), so I need the Zeiss lens inserts; they are easy-to-use, but they do make the Vision Pro worse in my experience. First, eye-tracking worked much better without them, and second, bright scenes will induce reflections on the lenses that are very distracting. Moreover, if you stop using the lenses and switch to contacts, you have to re-do hand and eye calibration and re-setup Optic ID&nbsp;<a href="#rf5-12278" title="Return to footnote 5.">↩</a></p></li></ol>
	</div><!-- .entry-content -->
</article></div>]]></description>
        </item>
    </channel>
</rss>