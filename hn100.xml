<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 17 May 2025 12:30:02 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[JavaScript's New Superpower: Explicit Resource Management (126 pts)]]></title>
            <link>https://v8.dev/features/explicit-resource-management</link>
            <guid>44012227</guid>
            <pubDate>Sat, 17 May 2025 05:23:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://v8.dev/features/explicit-resource-management">https://v8.dev/features/explicit-resource-management</a>, See on <a href="https://news.ycombinator.com/item?id=44012227">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody"><p>The <em>Explicit Resource Management</em> proposal introduces a deterministic approach to explicitly manage the lifecycle of resources like file handles, network connections, and more. This proposal brings the following additions to the language: the <code>using</code> and <code>await using</code> declarations, which automatically calls dispose method when a resource goes out of scope; <code>[Symbol.dispose]()</code> and <code>[Symbol.asyncDispose]()</code> symbols for cleanup operations; two new global objects <code>DisposableStack</code> and <code>AsyncDisposableStack</code> as containers to aggregate disposable resources; and <code>SuppressedError</code> as a new type of error (contain both the error that was most recently thrown, as well as the error that was suppressed) to address the scenario where an error occurs during the disposal of a resource, and potientially masking an existing error thrown from the body, or from the disposal of another resource. These additions enable developers to write more robust, performant, and maintainable code by providing fine-grained control over resource disposal.</p><h2 id="using-and-await-using-declarations" tabindex="-1"><code>using</code> and <code>await using</code> declarations <a href="#using-and-await-using-declarations">#</a></h2><p>The core of the Explicit Resource Management proposal lies in the <code>using</code> and <code>await using</code> declarations. The <code>using</code> declaration is designed for synchronous resources, ensuring that the <code>[Symbol.dispose]()</code> method of a disposable resource is called when the scope in which it's declared exits. For asynchronous resources, the <code>await using</code> declaration works similarly, but ensures that the <code>[Symbol.asyncDispose]()</code> method is called and the result of this calling is awaited, allowing for asynchronous cleanup operations. This distinction enables developers to reliably manage both synchronous and asynchronous resources, preventing leaks and improving overall code quality. The <code>using</code> and <code>await using</code> keywords can be used inside braces <code>{}</code> (such as blocks, for loops and function bodies), and cannot be used in top-levels.</p><p>For example, when working with <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStreamDefaultReader"><code>ReadableStreamDefaultReader</code></a>, it's crucial to call <code>reader.releaseLock()</code> to unlock the stream and allow it to be used elsewhere. However, error handling introduces a common problem: if an error occurs during the reading process, and you forget to call <code>releaseLock()</code> before the error propagates, the stream remains locked. Let's start with a naive example:</p><pre><code><span>let</span> responsePromise <span>=</span> <span>null</span><span>;</span><p><span>async</span> <span>function</span> <span>readFile</span><span>(</span><span>url</span><span>)</span> <span>{</span>  <br>    <span>if</span> <span>(</span><span>!</span>responsePromise<span>)</span> <span>{</span><br>        <span>// Only fetch if we don't have a promise yet</span><br>        responsePromise <span>=</span> <span>fetch</span><span>(</span>url<span>)</span><span>;</span><br>    <span>}</span><br>    <span>const</span> response <span>=</span> <span>await</span> responsePromise<span>;</span><br>    <span>if</span> <span>(</span><span>!</span>response<span>.</span>ok<span>)</span> <span>{</span><br>      <span>throw</span> <span>new</span> <span>Error</span><span>(</span><span><span>`</span><span>HTTP error! status: </span><span><span>${</span>response<span>.</span>status<span>}</span></span><span>`</span></span><span>)</span><span>;</span><br>    <span>}</span><br>    <span>const</span> processedData <span>=</span> <span>await</span> <span>processData</span><span>(</span>response<span>)</span><span>;</span></p><p>    <span>// Do something with processedData</span><br>    <span>...</span><br> <span>}</span></p><p><span>async</span> <span>function</span> <span>processData</span><span>(</span><span>response</span><span>)</span> <span>{</span><br>    <span>const</span> reader <span>=</span> response<span>.</span>body<span>.</span><span>getReader</span><span>(</span><span>)</span><span>;</span><br>    <span>let</span> done <span>=</span> <span>false</span><span>;</span><br>    <span>let</span> value<span>;</span><br>    <span>let</span> processedData<span>;</span></p><p>        <span>while</span> <span>(</span><span>!</span>done<span>)</span> <span>{</span><br>        <span>(</span><span>{</span> done<span>,</span> value <span>}</span> <span>=</span> <span>await</span> reader<span>.</span><span>read</span><span>(</span><span>)</span><span>)</span><span>;</span><br>        <span>if</span> <span>(</span>value<span>)</span> <span>{</span><br>            <span>// Process data and save the result in processedData</span><br>            <span>...</span><br>            <span>// An error is thrown here!</span><br>        <span>}</span><br>    <span>}</span></p><p>        <span>// Because the error is thrown before this line, the stream remains locked.</span><br>    reader<span>.</span><span>releaseLock</span><span>(</span><span>)</span><span>;</span></p><p>    <span>return</span> processedData<span>;</span><br>  <span>}</span></p><p>  <span>readFile</span><span>(</span><span>'https://example.com/largefile.dat'</span><span>)</span><span>;</span></p></code></pre><p>So it is crucial for developers to have <code>try...finally</code> block while using streams and put <code>reader.releaseLock()</code> in <code>finally</code>. This pattern ensures that <code>reader.releaseLock()</code> is always called.</p><pre><code><span>async</span> <span>function</span> <span>processData</span><span>(</span><span>response</span><span>)</span> <span>{</span><br>    <span>const</span> reader <span>=</span> response<span>.</span>body<span>.</span><span>getReader</span><span>(</span><span>)</span><span>;</span><br>    <span>let</span> done <span>=</span> <span>false</span><span>;</span><br>    <span>let</span> value<span>;</span><br>    <span>let</span> processedData<span>;</span><p>        <span>try</span> <span>{</span><br>        <span>while</span> <span>(</span><span>!</span>done<span>)</span> <span>{</span><br>            <span>(</span><span>{</span> done<span>,</span> value <span>}</span> <span>=</span> <span>await</span> reader<span>.</span><span>read</span><span>(</span><span>)</span><span>)</span><span>;</span><br>            <span>if</span> <span>(</span>value<span>)</span> <span>{</span><br>                <span>// Process data and save the result in processedData</span><br>                <span>...</span><br>                <span>// An error is thrown here!</span><br>            <span>}</span><br>        <span>}</span><br>    <span>}</span> <span>finally</span> <span>{</span><br>        <span>// The reader's lock on the stream will be always released.</span><br>        reader<span>.</span><span>releaseLock</span><span>(</span><span>)</span><span>;</span><br>    <span>}</span></p><p>    <span>return</span> processedData<span>;</span><br>  <span>}</span></p><p>  <span>readFile</span><span>(</span><span>'https://example.com/largefile.dat'</span><span>)</span><span>;</span></p></code></pre><p>An alternative to write this code is to create a disposable object <code>readerResource</code>, which has the reader (<code>response.body.getReader()</code>) and the <code>[Symbol.dispose]()</code> method that calls <code>this.reader.releaseLock()</code>. The <code>using</code> declaration ensures that <code>readerResource[Symbol.dispose]()</code> is called when the code block exits, and remembering to call <code>releaseLock</code> is no longer needed because the using declaration handles it. Integration of <code>[Symbol.dispose]</code> and <code>[Symbol.asyncDispose]</code> in web APIs like streams may happen in the future, so developers do not have to write the manual wrapper object.</p><pre><code> <span>async</span> <span>function</span> <span>processData</span><span>(</span><span>response</span><span>)</span> <span>{</span><br>    <span>const</span> reader <span>=</span> response<span>.</span>body<span>.</span><span>getReader</span><span>(</span><span>)</span><span>;</span><br>    <span>let</span> done <span>=</span> <span>false</span><span>;</span><br>    <span>let</span> value<span>;</span><p>    <span>// Wrap the reader in a disposable resource</span><br>    using readerResource <span>=</span> <span>{</span><br>        <span>reader</span><span>:</span> response<span>.</span>body<span>.</span><span>getReader</span><span>(</span><span>)</span><span>,</span><br>        <span>[</span>Symbol<span>.</span>dispose<span>]</span><span>(</span><span>)</span> <span>{</span><br>            <span>this</span><span>.</span>reader<span>.</span><span>releaseLock</span><span>(</span><span>)</span><span>;</span><br>        <span>}</span><span>,</span><br>    <span>}</span><span>;</span><br>    <span>const</span> <span>{</span> reader <span>}</span> <span>=</span> readerResource<span>;</span></p><p>    <span>let</span> done <span>=</span> <span>false</span><span>;</span><br>    <span>let</span> value<span>;</span><br>    <span>let</span> processedData<span>;</span><br>    <span>while</span> <span>(</span><span>!</span>done<span>)</span> <span>{</span><br>        <span>(</span><span>{</span> done<span>,</span> value <span>}</span> <span>=</span> <span>await</span> reader<span>.</span><span>read</span><span>(</span><span>)</span><span>)</span><span>;</span><br>        <span>if</span> <span>(</span>value<span>)</span> <span>{</span><br>            <span>// Process data and save the result in processedData</span><br>            <span>...</span><br>            <span>// An error is thrown here!</span><br>        <span>}</span><br>    <span>}</span><br>    <span>return</span> processedData<span>;</span><br>  <span>}</span><br> <span>// readerResource[Symbol.dispose]() is called automatically.</span></p><p> <span>readFile</span><span>(</span><span>'https://example.com/largefile.dat'</span><span>)</span><span>;</span></p></code></pre><h2 id="disposablestack-and-asyncdisposablestack" tabindex="-1"><code>DisposableStack</code> and <code>AsyncDisposableStack</code> <a href="#disposablestack-and-asyncdisposablestack">#</a></h2><p>To further facilitate managing multiple disposable resources, the proposal introduces <code>DisposableStack</code> and <code>AsyncDisposableStack</code>. These stack-based structures allow developers to group and dispose of multiple resources in a coordinated manner. Resources are added to the stack, and when the stack is disposed, either synchronously or asynchronously, the resources are disposed of in the reverse order they were added, ensuring that any dependencies between them are handled correctly. This simplifies the cleanup process when dealing with complex scenarios involving multiple related resources. Both structures provide methods like <code>use()</code>, <code>adopt()</code>, and <code>defer()</code> to add resources or disposal actions, and a <code>dispose()</code> or <code>asyncDispose()</code> method to trigger the cleanup. <code>DisposableStack</code> and <code>AsyncDisposableStack</code> have <code>[Symbol.dispose]()</code> and <code>[Symbol.asyncDispose]()</code>, respectively, so they can be used with <code>using</code> and <code>await using</code> keywords. They offer a robust way to manage the disposal of multiple resources within a defined scope.</p><p>Let’s take a look at each method and see an example of it:</p><p><code>use(value)</code> adds a resource to the top of the stack.</p><pre><code><span>{</span><br>    <span>const</span> readerResource <span>=</span> <span>{</span><br>        <span>reader</span><span>:</span> response<span>.</span>body<span>.</span><span>getReader</span><span>(</span><span>)</span><span>,</span><br>        <span>[</span>Symbol<span>.</span>dispose<span>]</span><span>(</span><span>)</span> <span>{</span><br>            <span>this</span><span>.</span>reader<span>.</span><span>releaseLock</span><span>(</span><span>)</span><span>;</span><br>            console<span>.</span><span>log</span><span>(</span><span>'Reader lock released.'</span><span>)</span><span>;</span><br>        <span>}</span><span>,</span><br>    <span>}</span><span>;</span><br>    using stack <span>=</span> <span>new</span> <span>DisposableStack</span><span>(</span><span>)</span><span>;</span><br>    stack<span>.</span><span>use</span><span>(</span>readerResource<span>)</span><span>;</span><br><span>}</span><br><span>// Reader lock released.</span></code></pre><p><code>adopt(value, onDispose)</code> adds a non-disposable resource and a disposal callback to the top of the stack.</p><pre><code><span>{</span><br>    using stack <span>=</span> <span>new</span> <span>DisposableStack</span><span>(</span><span>)</span><span>;</span><br>    stack<span>.</span><span>adopt</span><span>(</span><br>      response<span>.</span>body<span>.</span><span>getReader</span><span>(</span><span>)</span><span>,</span> reader <span>=</span> <span>&gt;</span> <span>{</span><br>        reader<span>.</span><span>releaseLock</span><span>(</span><span>)</span><span>;</span><br>        console<span>.</span><span>log</span><span>(</span><span>'Reader lock released.'</span><span>)</span><span>;</span><br>      <span>}</span><span>)</span><span>;</span><br><span>}</span><br><span>// Reader lock released.</span></code></pre><p><code>defer(onDispose)</code> adds a disposal callback to the top of the stack. It's useful for adding cleanup actions that don't have an associated resource.</p><pre><code><span>{</span><br>    using stack <span>=</span> <span>new</span> <span>DisposableStack</span><span>(</span><span>)</span><span>;</span><br>    stack<span>.</span><span>defer</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> console<span>.</span><span>log</span><span>(</span><span>"done."</span><span>)</span><span>)</span><span>;</span><br><span>}</span><br><span>// done.</span></code></pre><p><code>move()</code> moves all resources currently in this stack into a new <code>DisposableStack</code>. This can be useful if you need to transfer ownership of resources to another part of your code.</p><pre><code><span>{</span><br>    using stack <span>=</span> <span>new</span> <span>DisposableStack</span><span>(</span><span>)</span><span>;</span><br>    stack<span>.</span><span>adopt</span><span>(</span><br>      response<span>.</span>body<span>.</span><span>getReader</span><span>(</span><span>)</span><span>,</span> reader <span>=</span> <span>&gt;</span> <span>{</span><br>        reader<span>.</span><span>releaseLock</span><span>(</span><span>)</span><span>;</span><br>        console<span>.</span><span>log</span><span>(</span><span>'Reader lock released.'</span><span>)</span><span>;</span><br>      <span>}</span><span>)</span><span>;</span><br>    using newStack <span>=</span> stack<span>.</span><span>move</span><span>(</span><span>)</span><span>;</span><br><span>}</span><br><span>// Here just the newStack exists and the resource inside it will be disposed.</span><br><span>// Reader lock released.</span></code></pre><p><code>dispose()</code> in DisposableStack and <code>asyncDispose()</code> in AsyncDisposableStack dispose the resources within this object.</p><pre><code><span>{</span><br>    <span>const</span> readerResource <span>=</span> <span>{</span><br>        <span>reader</span><span>:</span> response<span>.</span>body<span>.</span><span>getReader</span><span>(</span><span>)</span><span>,</span><br>        <span>[</span>Symbol<span>.</span>dispose<span>]</span><span>(</span><span>)</span> <span>{</span><br>            <span>this</span><span>.</span>reader<span>.</span><span>releaseLock</span><span>(</span><span>)</span><span>;</span><br>            console<span>.</span><span>log</span><span>(</span><span>'Reader lock released.'</span><span>)</span><span>;</span><br>        <span>}</span><span>,</span><br>    <span>}</span><span>;</span><br>    <span>let</span> stack <span>=</span> <span>new</span> <span>DisposableStack</span><span>(</span><span>)</span><span>;</span><br>    stack<span>.</span><span>use</span><span>(</span>readerResource<span>)</span><span>;</span><br>    stack<span>.</span><span>dispose</span><span>(</span><span>)</span><span>;</span><br><span>}</span><br><span>// Reader lock released.</span></code></pre><h2 id="availability" tabindex="-1">Availability <a href="#availability">#</a></h2><p>Explicit Resource Management is shipped in Chromium 134 and V8 v13.8.</p><ul><li><a href="https://chromestatus.com/feature/5071680358842368"><span>Chrome:</span> <span>supported since version <span>134</span></span></a></li><li><a href="https://v8.dev/features/(nightly)"><span>Firefox:</span> <span>supported since version <span>134</span></span></a></li><li><a href="https://bugs.webkit.org/show_bug.cgi?id=248707"><span>Safari:</span> <span>no support</span></a></li><li><span>Node.js:</span> <span>no support</span></li><li><a href="https://github.com/zloirock/core-js#explicit-resource-management"><span>Babel:</span> <span>supported</span></a></li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A kernel developer plays with Home Assistant (109 pts)]]></title>
            <link>https://lwn.net/SubscriberLink/1017720/7155ecb9602e9ef2/</link>
            <guid>44011669</guid>
            <pubDate>Sat, 17 May 2025 02:50:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lwn.net/SubscriberLink/1017720/7155ecb9602e9ef2/">https://lwn.net/SubscriberLink/1017720/7155ecb9602e9ef2/</a>, See on <a href="https://news.ycombinator.com/item?id=44011669">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>
Those of us who have spent our lives playing with computers naturally see
the appeal of deploying them though the home for both data acquisition and
automation.  But many of us who have watched the evolution of the
technology industry are increasingly unwilling to entrust critical
household functions to cloud-based servers run by companies that may not
have our best interests at heart.  The Apache-licensed <a href="https://www.home-assistant.io/">Home Assistant</a> project offers a
welcome alternative: locally controlled automation with free software.
This two-part series covers roughly a year of Home Assistant use, starting
with a set of overall observations about the project.
</p><p>
This is not the first time that LWN has looked at this project, of course;
<a href="https://lwn.net/Articles/822350/">this review</a> gives a snapshot of what Home
Assistant looked like five years ago, while <a href="https://lwn.net/Articles/947843/">this 2023 article</a> gives a good overview of the
project's history, governance, and overall direction.  I will endeavor to
not duplicate that material here.
</p><h4>Project health</h4>
<p>
At a first glance, Home Assistant bears some of the hallmarks of a
company-owned project.  The company in question, <a href="https://www.nabucasa.com/">Nabu Casa</a>, was formed around the
project and employs a number of its key developers.  One of the ways in
which the company makes money is with a $65/year subscription service, providing
remote access to Home Assistant servers installed on firewalled residential
networks.  Home Assistant has support for that remote option, and no
others.  It would be interesting to see what would happen to a pull request
adding support for, say, <a href="https://opensprinklershop.de/en/2023/01/22/opensprinkler-fernzugriff-mit-openthings-cloud-otc-token/">OpenThings
Cloud</a> as an alternative.  The fate of that request would say a lot
about how open the project really is.
</p><blockquote>
<b>No slop, all substance: subscribe to LWN today</b>
<p>
LWN has always been about quality over quantity; we need your help
to continue publishing in-depth, reader-focused articles about Linux
and the free-software community. Please subscribe today to support our work
and keep LWN on the air; we are offering <a href="https://lwn.net/Promo/no-slop/claim">a free one-month trial subscription</a> to get you started.
</p></blockquote>
<p>
(For the record, I have bought the Nabu Casa subscription rather than, say,
using WireGuard to make a port available on an accessible system; it is a
hassle-free way to solve the problem and support the development of this
software).
</p><p>
That said, most of the warning signs that accompany a corporate-controlled
project are not present with Home Assistant.  The project's <a href="https://github.com/home-assistant/core/blob/dev/CLA.md">contributor
license agreement</a> is a derivative of the kernel's developer certificate
of origin; contributors retain their copyright on their work.  Since the <a href="https://www.home-assistant.io/blog/2024/04/03/release-20244/">2024.4
release</a>, the Home Assistant core repository has acquired over 17,000
changesets from over 900 contributors.  While a number of Nabu Casa
employees (helpfully listed on <a href="https://www.nabucasa.com/about/">this page</a>) appear in the top ten
contributors, they do not dominate that list.
</p><p>
Home Assistant is clearly an active project with a wide developer base.  In
2024, overall responsibility for this project was transferred to <a href="https://www.openhomefoundation.org/blog/announcing-the-open-home-foundation/">the
newly created Open Home Foundation</a>.  This project is probably here to
stay, and seems unlikely to take a hostile turn in the future.  For a
system that sits at the core of one's home, those are important
characteristics.
</p><h4>Installation and setup</h4>
<p>
Linux users tend to be somewhat spoiled; installing a new application is
typically a matter of a single package-manager command.  Home Assistant
does not really fit into that model.  The first three options on <a href="https://www.home-assistant.io/installation/">the installation
page</a> involve dedicated computers — two of which are sold by Nabu Casa.
For those wanting to install it on a general-purpose computer, the
recommended course is to install the <a href="https://github.com/home-assistant/operating-system">Home Assistant
Operating System</a>, a bespoke Linux distribution that runs Home Assistant
within a Docker container.  There is also a container-based method that can
run on another distribution, but this installation does not support <a href="https://www.home-assistant.io/addons/">the add-ons feature</a>.
</p><p>
Home Assistant, in other words, is not really set up to be just another
application on a Linux system.  If one scrolls far enough, though, one will
find, the instructions to install onto a "normal" Linux system, suitably
guarded with warnings about how it is an "<q>advanced</q>" method.
Of course, that is what I did, putting the software onto an existing system
running Fedora.  The whole thing subsequently broke when a
distribution upgrade replaced Python, but that was easily enough repaired.
As a whole, the installation has worked as expected.
</p><p>
Out of the box, though, a new Home Assistant installation does not do much.
Its job, after all, is to interface with the systems throughout the house,
and every house is different.  While Home Assistant can find some systems
automatically (it found the Brother printer and dutifully informed me that
the device was, inevitably, low on cyan toner), it usually needs to be
told about what is installed in the house.  Thus, the user quickly delves
into the world of "integrations" — the device drivers of Home Assistant.
</p><p>
For each remotely accessible device in the house, there is, hopefully, at
least one integration available that allows Home Assistant to work with it.
Many integrations are packaged with the system itself, and can be found by
way of a simple search screen in the Home Assistant web interface.  A much
larger set is packaged separately, usually in the <a href="https://www.hacs.xyz/">Home Assistant Community Store</a>, or HACS;
it is fair to say that most users will end up getting at least some
integrations from this source.  Setting up HACS requires a few steps and,
unfortunately, requires the user to have a GitHub account for full
integration.  It <i>is</i> possible to install HACS integrations without
that account, but it is a manual process that loses support for features
like update tracking.
</p><p>
Most integrations, at setup time, will discover any of the appropriate
devices on the network — if those devices support that sort of discovery,
of course.  Often, using an integration will require the credentials to log
into the cloud account provided by the vendor of the devices in question.
When possible, integrations mostly strive to operate entirely locally; some
only use the cloud connection for the initial device discovery.  When there
is no alternative, though, integrations will remain logged into the cloud
account and interact with their devices that way; this mode may or may not
be supported (or condoned) by the vendor.  There are, of course, some
vendors that <a href="https://www.bleepingcomputer.com/news/security/haier-hits-home-assistant-plugin-dev-with-takedown-notice/">are
actively hostile</a> to integration with Home Assistant.
</p><p>
As might be expected, the quality of integrations varies widely.  Most of
the integrations I have tried have worked well enough.  The OpenSprinkler
(<a href="https://lwn.net/Articles/940509/">reviewed here</a> in 2023) integration,
instead, thoroughly corrupted the device configuration, exposing me to the
shame of being seen with a less-than-perfect lawn; it was quickly
removed.  It is an especially nice surprise when a device comes with Home
Assistant support provided by the vendor, but that is still a relatively
rare occurrence.  Home Assistant now is in a position similar to Linux
25&nbsp;years ago; many devices are supported, but often in spite of their
vendor, and one has to choose components carefully.
</p><h4>Security</h4>
<p>
Home Assistant sits at the core of the home network; it has access to
sensors that can reveal a lot about the occupants of the home, and it
collects data in a single location.  An installation will be exposed to the
Internet if its owner needs remote access.  There is clearly potential for
a security disaster here.
</p><p>
The project has <a href="https://www.home-assistant.io/security/">a posted
security policy</a> describing the project's stance; it asks for a 90-day
embargo on the reporting of any security issues.  Authors writing about the
project's security are encouraged to run their work past the project "<q>so
we can ensure that all claims are correct</q>".  The security policy
explicitly excludes reports regarding third-party integrations (the core
project cannot fix those, after all).  The project is also uninterested in
any sort of privilege escalation by users who are logged into Home
Assistant, assuming that anybody who has an account is fully trusted.
</p><p>
The project has only issued <a href="https://github.com/home-assistant/core/security/advisories/GHSA-m3pm-rpgg-5wj6">one
security advisory</a> since the beginning of 2024.  There were several in
2023, mostly as the result of <a href="https://github.blog/security/vulnerability-research/securing-our-home-labs-home-assistant-code-review/">a
security audit</a> performed by GitHub.
</p><p>

There is no overall vetting of third-party integrations, which are, in the
end, just more Python code.  So loading an unknown integration is similar
to importing an unknown module from PyPI; it will probably work, but the
potential for trouble is there.  The project has occasionally <a href="https://www.home-assistant.io/blog/2021/01/23/security-disclosure2/">reported
security problems in third-party integrations</a>, but such reports are
rare.  I am unable to find any reports of actively malicious integrations
in the wild, but one seems destined to appear sooner or later.
</p><h4>Actually doing something with Home Assistant</h4>
<p>
The first step for the owner of a new Home Assistant installation is,
naturally, to seek out integrations for the devices installed in the home.
On successful installation and initialization, an integration will add one
or more "devices" to the system, each of which has some number of "sensors"
for data it reports, and possible "controls" to change its operating state.
A heat-pump head, for example, may have sensors for the current temperature
and humidity, and controls for its operating mode, fan speed, vane
direction, and more.
</p><p>
It is worth noting that the setup of these entities seems a bit
non-deterministic at times.  My solar system has 22&nbsp;panels with
inverters, each of which reports nearly a dozen parameters (voltage,
current, frequency, temperature, etc.).  There is no easy way to determine
which panel is reporting, for example, <tt>sensor_amps_12</tt>, especially
since <tt>sensor_frequency_12</tt> almost certainly corresponds to a
<i>different</i> panel.  My experience is that Home Assistant is a system
for people who are willing to spend a lot of time fiddling around with
things to get them to a working state.  Dealing with these sensors was an
early introduction to that; it took some time to figure out the mapping
between names and rooftop positions, then to rename each sensor to
something more helpful.
</p><p>
The next level of fiddling around is setting up dashboards.  Home Assistant
offers a great deal of flexibility in the information and controls it
provides to the user; it is possible to set up screens focused on, say,
energy production or climate control.  Happily, the days when this
configuration had to be done by writing YAML snippets are mostly in the
past at this point; one occasionally still has to dip into YAML, but it
does not happen often.  The interface is not always intuitive,
but it is fairly slick, interactive, and functional.
</p><p>
Another part of Home Assistant that I have not yet played with much
is automations and scenes.  Automations are simple rule-triggered programs
that make changes to some controls.  They can carry out actions like
"turn on the front light when it gets dark" or "play scary music if
somebody rings the doorbell and nobody is home".  Scenes are sets of canned
device configurations.  One might create a scene called "in-laws visiting"
that plays loud punk music, sets the temperature to just above freezing,
disables all voice control, and tunes all of the light bulbs to 6000K, for
example.
</p><p>
The good news is that, unless the fiddling itself is the point (and it can
be a good one), there comes a time when things just work and the fiddling
can stop.  A well-configured Home Assistant instance provides detailed
information about the state of the home — and control where the devices
allow it — to any web browser that can reach it and log in.  There are
(open-source) apps that bring this support to mobile devices in a way that
is nearly indistinguishable from how the web interface works.
</p><p>
All told, it is clear why Home Assistant has a strong and growing
following.  It is an open platform that brings control to an industry that
is doing its best to keep a firm grasp on our homes and the data they
create.  Home Assistant shows that we can do nicely without all of these
fragile, non-interoperable, rug-pull-susceptible cloud systems.  Just like
Linux proved that we can have control over our computers, Home Assistant
shows that we do not have to surrender control over our homes.
</p><p>
This article has gotten long, and is remarkably short on interesting things
that one can actually <i>do</i> with Home Assistant.  There are some
interesting stories to be told along those lines; they will appear shortly
in <a href="https://lwn.net/Articles/1017945/">the second, concluding part</a> of this series.<br clear="all"></p>
               <br clear="all">
               <hr>
            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[XTool – Cross-platform Xcode replacement (128 pts)]]></title>
            <link>https://github.com/xtool-org/xtool</link>
            <guid>44011515</guid>
            <pubDate>Sat, 17 May 2025 02:10:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/xtool-org/xtool">https://github.com/xtool-org/xtool</a>, See on <a href="https://news.ycombinator.com/item?id=44011515">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">xtool</h2><a id="user-content-xtool" aria-label="Permalink: xtool" href="#xtool"></a></p>
<p dir="auto">Cross-platform Xcode replacement. Build and deploy iOS apps with SwiftPM on Linux, Windows, and macOS.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Overview</h2><a id="user-content-overview" aria-label="Permalink: Overview" href="#overview"></a></p>
<p dir="auto">xtool is a cross-platform (Linux/WSL/macOS) tool that replicates Xcode functionality with open standards.</p>
<p dir="auto">✅ Build a SwiftPM package into an iOS app</p>
<p dir="auto">✅ Sign and install iOS apps</p>
<p dir="auto">✅ Interact with Apple Developer Services programmatically</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Getting Started</h2><a id="user-content-getting-started" aria-label="Permalink: Getting Started" href="#getting-started"></a></p>
<ol dir="auto">
<li>Follow the guide to install <code>xtool</code>
<ul dir="auto">
<li><a href="https://swiftpackageindex.com/xtool-org/xtool/documentation/xtool/installation-linux" rel="nofollow">Installation (Linux/Windows)</a></li>
<li><a href="https://swiftpackageindex.com/xtool-org/xtool/documentation/xtool/installation-macos" rel="nofollow">Installation (macOS)</a></li>
</ul>
</li>
<li>Create and run your first xtool-powered app by following the <a href="https://swiftpackageindex.com/xtool-org/xtool/tutorials/xtool/first-app" rel="nofollow">tutorial</a>!</li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">Examples</h2><a id="user-content-examples" aria-label="Permalink: Examples" href="#examples"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Screenshot</h3><a id="user-content-screenshot" aria-label="Permalink: Screenshot" href="#screenshot"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/xtool-org/xtool/blob/main/Sources/xtool/Documentation.docc/Resources/Cover.png"><img src="https://github.com/xtool-org/xtool/raw/main/Sources/xtool/Documentation.docc/Resources/Cover.png" alt="A screenshot of xtool being invoked from VSCode"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Command line interface</h3><a id="user-content-command-line-interface" aria-label="Permalink: Command line interface" href="#command-line-interface"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="$ xtool --help
OVERVIEW: Cross-platform Xcode replacement

USAGE: xtool <subcommand>

OPTIONS:
  -h, --help              Show help information.

CONFIGURATION SUBCOMMANDS:
  setup                   Set up xtool for iOS development
  auth                    Manage Apple Developer Services authentication
  sdk                     Manage the Darwin Swift SDK

DEVELOPMENT SUBCOMMANDS:
  new                     Create a new xtool SwiftPM project
  dev                     Build and run an xtool SwiftPM project
  ds                      Interact with Apple Developer Services

DEVICE SUBCOMMANDS:
  devices                 List devices
  install                 Install an ipa file to your device
  uninstall               Uninstall an installed app
  launch                  Launch an installed app

  See 'xtool help <subcommand>' for detailed help."><pre>$ xtool --help
OVERVIEW: Cross-platform Xcode replacement

USAGE: xtool <span>&lt;</span>subcommand<span>&gt;</span>

OPTIONS:
  -h, --help              Show <span>help</span> information.

CONFIGURATION SUBCOMMANDS:
  setup                   Set up xtool <span>for</span> iOS development
  auth                    Manage Apple Developer Services authentication
  sdk                     Manage the Darwin Swift SDK

DEVELOPMENT SUBCOMMANDS:
  new                     Create a new xtool SwiftPM project
  dev                     Build and run an xtool SwiftPM project
  ds                      Interact with Apple Developer Services

DEVICE SUBCOMMANDS:
  devices                 List devices
  install                 Install an ipa file to your device
  uninstall               Uninstall an installed app
  launch                  Launch an installed app

  See <span><span>'</span>xtool help &lt;subcommand&gt;<span>'</span></span> <span>for</span> detailed help.</pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Library</h3><a id="user-content-library" aria-label="Permalink: Library" href="#library"></a></p>
<p dir="auto">xtool includes a library that you can use to interact with Apple Developer Services, iOS devices, and more from your own app. You can use this by adding <code>XKit</code> as a SwiftPM dependency.</p>
<div dir="auto" data-snippet-clipboard-copy-content="// package dependency:
.package(url: &quot;https://github.com/xtool-org/xtool&quot;, .upToNextMinor(from: &quot;1.2.0&quot;))
// target dependency:
.product(name: &quot;XKit&quot;, package: &quot;xtool&quot;)"><pre>// package dependency:
<span>.</span><span>package</span><span>(</span>url<span>:</span> <span>"</span><span>https://github.com/xtool-org/xtool</span><span>"</span><span>,</span> <span>.</span>upToNextMinor<span>(</span>from<span>:</span> <span>"</span><span>1.2.0</span><span>"</span><span>)</span><span>)</span>
// target dependency:
<span>.</span><span>product</span><span>(</span>name<span>:</span> <span>"</span><span>XKit</span><span>"</span><span>,</span> <span>package</span><span>:</span> <span>"</span><span>xtool</span><span>"</span><span>)</span></pre></div>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Wow@Home – Network of Amateur Radio Telescopes (133 pts)]]></title>
            <link>https://phl.upr.edu/wow/outreach</link>
            <guid>44011489</guid>
            <pubDate>Sat, 17 May 2025 02:02:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://phl.upr.edu/wow/outreach">https://phl.upr.edu/wow/outreach</a>, See on <a href="https://news.ycombinator.com/item?id=44011489">Hacker News</a></p>
<div id="readability-page-1" class="page"><div tabindex="-1" dir="ltr"><div id="h.f6d8ee3d198bc6f_1" jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1"><p role="main" tabindex="0"><h2 id="h.m56w2pmswrzx" dir="ltr"><span>Wow@Home</span></h2></p></div><div id="h.f6d8ee3d198bc6f_27" jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1"><p dir="ltr"><span>A </span><span>network of small</span><span> </span><span>radio telescopes</span><span> offers several distinct advantages compared to large professional observatories. These systems are low</span><span>-</span><span>cost an</span><span>d</span><span> can operate autonomously around the clock, making them ideal for continuous monitoring of transient events or long-duration signals that professional telescopes cannot commit to observing full-time.</span></p><p dir="ltr"><span>Their geographic distribution enables global sky coverage and coordinated observations across different time zones, which is especially valuable for </span><span>validating repeating or time-variable signals</span><span>. Coincidence detection across multiple stations helps </span><span>reject local radio frequency interference (RFI)</span><span>, increasing confidence in true astrophysical or technosignature candidates.</span></p><p dir="ltr"><span>These networks are also highly scalable, resilient to single-point failures, and capable of </span><span>rapid response to external alerts</span><span>. Furthermore, they are cost-effective, engaging, and accessible, </span><span>ideal for education, citizen science, and expanding participation in radio astronomy</span><span>.</span></p><p dir="ltr"><span>However, these systems also come with notable limitations when compared to professional telescopes. They have </span><span>significantly lower sensitivity</span><span>, limiting their ability to detect faint or distant sources. Their angular resolution is poor due to smaller dish sizes and wide beamwidths, making </span><span>precise source localization difficult</span><span>.</span></p><p dir="ltr"><span>Calibration can be inconsistent across stations</span><span>, and frequency stability or dynamic range may not match the performance of professional-grade equipment. Additionally, without standardized equipment and protocols, data quality and interoperability can vary across the network. Despite these constraints, when thoughtfully coordinated, such networks can </span><span>provide valuable complementary observations to professional facilities</span><span>.</span></p></div><div id="h.3e7c17c5694c8634_48" jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1"><h2 id="h.xu5ifbv830af_l" dir="ltr"><div jscontroller="Ae65rd" jsaction="touchstart:UrsOsc; click:KjsqPd; focusout:QZoaZ; mouseover:y0pDld; mouseout:dq0hvd;fv1Rjc:jbFSOd;CrfLRd:SzACGe;"><p><span>The </span><span>Wow@Home Radio Telescope</span></p></div></h2></div><div id="h.3e7c17c5694c8634_44" jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1"><p dir="ltr"><span>This page presents a test of our first </span><span>Wow@Home Radio Telescope</span><span> hardware and software configuration (Figure 1). The system is tested for a network of small radio telescopes designed to emulate, as closely as possible, the observation protocol of the meridian radio telescope </span><span>Big Ear</span><span> used by the </span><span>Ohio SETI project</span><span> in the 1970s. As in the </span><a href="http://www.bigear.org/Wow30th/wow30th.htm" target="_blank"><span>original setup</span></a><span>, we use a </span><span>10 kHz channel width</span><span> and a </span><span>12-second integration time</span><span>. However, our system differs in several ways: it features 256 channels instead of 50, a much larger beam size, but significantly lower sensitivity.</span></p><p dir="ltr"><span>The telescope is </span><span>fixed at a constant elevation</span><span>, pointed south, and scans a specific celestial declination over the course of one or more days using a wide field of view of approximately 25° (HPBW or its beamwidth). As the Earth rotates, this configuration allows the telescope to capture a </span><span>continuous 360° strip of the sky</span><span> at that declination. After completing three or more full-sky passes, the telescope is adjusted to a new elevation to begin scanning a different declination, gradually building up </span><span>full-sky coverage over time</span><span>.</span></p><p dir="ltr"><span>While optimized for </span><span>educational use</span><span>, this configuration also yields valuable data on RFI near the H I line in urban environments, helping us assess the likelihood of RFI mimicking a Wow!-like signal. Additionally, it serves as a practical platform for a </span><span>wide-field search for strong transient events</span><span>, whether of astrophysical origin or potential technosignatures.</span></p><p dir="ltr"><span>For events that persist longer than a day, </span><span>multiple observing passes</span><span> can be used to validate their presence, detect weaker features, improve overall sensitivity, and help distinguish them from RFI. Additionally, </span><span>simultaneous observations</span><span> by two or more telescopes pointed at the same location can further aid in rejecting local interference and confirming the reality of signals that last less than 24 hours.</span></p><p dir="ltr"><span>The Wow@Home Radio Telescope operates autonomously, 24/7, as a meridian-style instrument, conducting a continuous </span><span>all-sky survey</span><span> </span><span>for transient events</span><span>. The hardware required to build these telescopes is both </span><span>inexpensive and widely accessible</span><span>, relying on readily available components. </span><span>The critical element lies in the software</span><span>, which must be capable of analyzing data effectively, whether from a single station or across a coordinated network of telescopes.</span></p><p dir="ltr"><span>Future expansions could include the integration of </span><span>multibeam systems</span><span> to enable simultaneous ON–OFF observations </span><span>to improve sensitivity</span><span>, </span><span>tracking capability</span><span> to perform targeted observations of specific sources, </span><span>multi-site detection</span><span> for signal validation, higher sensitivity, and RFI discrimination, </span><span>interferometric capabilities</span><span> for improved angular resolution, and </span><span>phased array configurations</span><span> to enhance sensitivity and enable electronic beam steering.</span></p></div><div id="h.3e7c17c5694c8634_3" jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1"><p><img src="https://lh3.googleusercontent.com/A5qS8iP4yHHZob04FJu8ja9Yf1wfndGkZ_jZD5ng32OkIaWIn0i2yyo47SUkBpoWr64Mxka8U4MbdyZMRsQGyIkk_K8z5--u0LU3PokF8Y1snW6TSvEkKvvducYt9A4RMw=w1280" role="img"></p></div><div id="h.3e7c17c5694c8634_13" jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1"><p dir="ltr"><span>Figure 1: </span><span>Components of our first Wow@Home Radio Telescope. The </span><a href="https://github.com/tedcline/ezRA" target="_blank"><span>Easy Radio Astronomy (ezRA)</span></a><span> software is an excellent starter package for getting this configuration up and running for radio astronomy. We plan to test additional configurations in the coming months, including the </span><a href="https://www.crowdsupply.com/krakenrf/discovery-dish" target="_blank"><span>Discovery Dish</span></a><span>, which integrates the frontend into the antenna, and the </span><a href="https://airspy.com/airspy-mini/" target="_blank"><span>Airspy Mini</span></a><span> as the backend, offering a 12-bit ADC for improved dynamic range.</span></p></div><div id="h.3e7c17c5694c8634_30" jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1"><p dir="ltr"><span>The </span><span>Wow@Home Software</span><span> is the core of our project. It serves as the data acquisition and analysis platform designed to search for transient events caused by astrophysical phenomena, potential technosignatures, and RFI characterization, using data from any small radio telescope. The software is built on the analysis methods we are developing to detect Wow-like signals in the archive data of professional observatories, as part of our </span><a href="https://phl.upr.edu/wow"><span>Arecibo Wow! Project</span></a><span>. We are currently developing the software in </span><a href="https://www.nv5geospatialsoftware.com/Products/IDL" target="_blank"><span>IDL</span></a><span>, with example outputs shown in Figures 2, 3, and 4. It will later be translated to Python to ensure cross-platform compatibility and broader accessibility.</span></p></div><div jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1" id="h.f6d8ee3d198bc6f_8"><div id="h.331927cc8f5c07b8_4"><p><img src="https://lh4.googleusercontent.com/zhgcn2e7vYwMCacemRJOlqkF5VcZcPjS6d8s5sf80ZYdLPNsoSpT0vNAZs7RIVnrGzhbHlboR0S0chVQrL1nGlPG6eynsKj6hH73NCSuuGDFrYGboTSbP8jtSwohUJC2vw=w1280" role="img"></p></div><div id="h.3e7c17c5694c8634_4"><p dir="ltr"><span>Figure </span><span>2</span><span>: </span><span>This is a test run of the Wow@Home Radio Telescope</span><span>. </span><span>The top panel shows the </span><span>relative</span><span> power as a function of time. The </span><span>next</span><span> panel </span><span>is</span><span> the signal-to-noise ratio (SNR). Most RFI here originates from continuum sources, which are relatively easy to filter out. </span><span>The following dynamic spectra images show three different ways to analyze the data, depending on the type of signal of interest. The broadband SNR is suitable for detecting continuum sources, but RFI heavily contaminates it. A second telescope at a different location could be used to cross-correlate astronomical signals. The mediumband SNR is good for highlighting the</span><span> Galactic center transiting </span><span>after</span><span> 6 hours and the Galactic anticenter </span><span>about</span><span> </span><span>12</span><span> hours later. The narrowband SNR is more sensitive to signals oc</span><span>curring in only one channel. </span><span>The horizontal line at channel 224 </span><span>is an injected</span><span> test signal spanning the telescope’s beamwidth. An actual narrowband RFI event is visible near channel 0 after 15 hours.</span></p></div></div><div jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1" id="h.f6d8ee3d198bc6f_23"><div id="h.5ad76efa4068bcdf_14"><p><img src="https://lh4.googleusercontent.com/wurJ-qrx1IZw_zkvp20ykcD736bQVpzjvXIlsXw0zhCGxcojIRQMiB-Fv8DJtt_9LSaYWyN1IN8daAZTjlNhwWg905MYGhiU7TKfwLVL3GZ7zC_mIz-T7OOS0t9ro8Qi=w1280" role="img"></p></div><div id="h.f6d8ee3d198bc6f_20"><p dir="ltr"><span>Figure 3: </span><a href="https://www.britannica.com/science/hydrogen-cloud" target="_blank"><span>Neutral Hydrogen</span></a><span> (H I) spectral profile of the Galactic center, extracted from the data in Figure 2 at 6.5 hours. Error bars represent the 1σ uncertainty in each frequency channel.</span></p></div></div><div id="h.3e7c17c5694c8634_36" jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1"><p><img src="https://lh6.googleusercontent.com/hMIAxkutySlccvKGun3Pd3CByn7EsvLmj8TkK5o3QYFmBoSQwug-dYthHbmg3DS0Dtn1e9C_INbNOE4iyTW3kj_czt590rnQ-rgksTYY7dY1bQPvL-8StNajaFB2AIkL7Q=w1280" role="img"></p></div><div id="h.3e7c17c5694c8634_40" jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId" tabindex="-1"><p dir="ltr"><span>Figure 4: </span><span>In addition to the modern analysis tools available with today’s radio telescopes, we also aim to incorporate into our software the ability to generate a live preview of the data in the style of the original Ohio State SETI project printouts. This feature is intended to provide historical context and connect current efforts to the legacy of early SETI research. Above is an example using the original Wow! Signal data.</span></p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Will AI systems perform poorly due to AI-generated material in training data? (101 pts)]]></title>
            <link>https://cacm.acm.org/news/the-collapse-of-gpt/</link>
            <guid>44010705</guid>
            <pubDate>Fri, 16 May 2025 23:27:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cacm.acm.org/news/the-collapse-of-gpt/">https://cacm.acm.org/news/the-collapse-of-gpt/</a>, See on <a href="https://news.ycombinator.com/item?id=44010705">Hacker News</a></p>
<div id="readability-page-1" class="page"><div lang="en"><section id="sec1"><p id="p-1">Ever since ChatGPT was released to the public in November 2022, people have been using it to generate text, from emails to blog posts to bad poetry, much of which they post online. Since that release, the companies that build the large language models (LLMs) on which such chatbots are based—such as OpenAI’s GPT 3.5, the technology underlying ChatGPT—have also continued to put out newer versions of their models, training them with new text data, some of which they scraped off the Web. That means, inevitably, that some of the training data used to create LLMs did not come from humans, but from the LLMs themselves.</p><p id="p-2">That has led computer scientists to worry about a phenomenon they call model collapse. Basically, model collapse happens when the training data no longer matches real-world data, leading the new LLM to produce gibberish, in a 21st-century version of the classic computer aphorism “garbage in, garbage out.”</p><p id="p-3">LLMs work by learning the statistical distribution of so-called tokens—words or parts of words—within a language by examining billions of sentences garnered from sources including book databases, Wikipedia, and the Common Crawl dataset, a collection of material gathered from the Internet. An LLM, for instance, will figure out how often the word “president” is associated with the word “Obama” versus “Trump” versus “Hair Club for Men.” Then, when prompted by a request, it will produce words that it reasons have the highest probability of meeting that request and of following from previous words. The results bear a credible resemblance to human-written text.</p><p id="p-4">Model collapse is basically a statistical problem, said Sanmi Koyejo, an assistant professor of computer science at Stanford University. When machine-generated text replaces human-generated text, the distribution of tokens no longer matches the natural distribution produced by humans. As a result, the training data for a new round of modeling does not match the real world, and the new model’s output gets worse. “The thing we’re worried about is that the distribution of your data that you end up with, if you’re trying to fit your model, ends up really far from the actual distribution that generated the data,” he said.</p><p id="p-5">The problem arises because whatever text the LLM generates would be, at most, a subsample of the sentences on which it was trained. “Because you generate a finite sample, you have some probability of not sampling them,” said Yarin Gal, an associate professor of machine learning at Oxford University. “Once you don’t sample, then they disappear. They will never appear again. So every time you generate data, you basically start forgetting more and more of the tail events and therefore that leads to the concentration of the higher probability events.” Gal and his colleagues published a study in <i>Nature</i> in July that showed indiscriminate use of what they called ‘recursively generated data’ caused the models to fail.</p><p id="p-6">The problem is not limited to LLMs. Any generative model that is iteratively trained can suffer the same fate if it starts ingesting machine-produced data, Gal says. That includes stable diffusion models that create images, such as Dall-E. The issue also can affect variational autoencoders, which create new data samples by producing variations of their original data. It can apply to Gaussian mixture models, a form of unsupervised machine learning that sorts subpopulations of data into clusters; they are used to analyze customer preferences, predict stock prices, and analyze gene expression.</p><p id="p-7">Collapse is not a danger for models that incorporate synthetic data but only do so once, such as neural networks used to identify cancer in medical images, where synthetic data was used to augment rare or expensive real data. “The main distinction is that model collapse happens when you have multiple steps, where each step depends on the output from the previous step,” Gal said.</p><p id="p-8">The theory that replacing training data with synthetic data will quickly lead to the demise of LLMs is sound, Koyejo said. In practice, however, not all human data gets replaced immediately. Instead, when the generated text is scraped from the Internet, it gets mixed in with human text. “You create synthetic data, you add that to real data, so you now have more data, which is real data plus synthetic data,” he said. What is actually happening, he said, is not data replacement, but data accumulation. That slows the degradation of the dataset.</p><p id="p-9">Simply accumulating data may stop model collapse but can cause other problems if done without thought, said Yunzhen Feng, a Ph.D. student at the Center for Data Science at New York University. As a rule, the performance of neural networks improves as their size increases. Naively mixing real and synthetic data together, however, can slow that improvement. “You can still obtain similar performance, but you need much more data. That means you’re using much more compute and much more money to achieve that,” he said.</p><p id="p-10">One challenge is that there is no easy way to tell whether text found on the Internet is synthetic or human-generated. Though there have been attempts to automatically identify text from LLMs, none have been entirely successful. Research into this problem is ongoing, Gal said.</p></section><section id="sec2"><h2>Solving with curation</h2><p id="p-11">There are ways, however, to make the addition of synthetic data less of a problem.</p><p id="p-12">One approach is to curate the synthetic data to make sure it is of good quality. Some curation happens naturally, Gal said; people do not post everything their chatbot creates to the Internet, weeding out the material that contains false information or simply does not make sense, so that improves the training set.</p><p id="p-13">Curation can also be a deliberate process to make sure high-quality data goes into a training set. Feng, for instance, has experimented with asking the LLM to assess the quality of its own output. LLMs naturally select the words they think have the highest probability of fitting into a context. In doing so, they internally generate a score rating how confident they are that they are pairing the best words together. That same mechanism can be used to assess already generated text to rate its quality, with low-scoring results removed or the highest-scoring result of several attempts selected as the best. The idea is similar to a method used to fine-tune LLMs called reinforcement learning from human feedback (RLHF), in which people provide examples of good results, thereby pushing the models toward producing similar results. In this case, though, the LLM is generating its own feedback.</p><p id="p-14">How well that works varies by case, Feng said. The feedback can be improved by having other LLMs assess the same text and combining the results from different models. Including human assessments also improves the outcomes, as does applying some pre-written rules about what the output should look like. Eliminating lower-quality results from the synthetic data makes the generated data more closely resemble original data, he said. “It’s like you have a distribution of the synthetic data, you have a distribution of the real data, and you want to close the gap between them as much as possible,” he said.</p><p id="p-15">Improving the quality of synthetic data could also help with another challenge LLMs are facing as they try to improve: a dearth of new data on which to train. Scientists from Epoch AI, a research institute that focuses on trends in AI, have predicted the world will run out of new text to train on sometime between 2026 and 2032. With no new data on which to train future generations of LLMs, progress could stagnate. “The interesting question is, can synthetic data lead to not just stagnation but actual improvement in the model?” asked Pablo Villalobos, a staff researcher at Epoch.</p><p id="p-16">With curation of high-quality synthetic data, he said, the question becomes “whether this can be done iteratively so that each model generates better data that is used to train another model in basically the opposite of model collapse, in some virtuous circle.” He is not yet sure whether such improvement is possible, but sees some signs it could be.</p><p id="p-17">Other issues arise from training new models on generated data that do not quite reach the level of model collapse. For instance, Koyejo said, synthetic data could increase the likelihood that LLMs will discriminate against people in minority groups. Because any minority is by definition a smaller part of the data distribution, losing the tails of the distribution could make minorities disappear entirely. “Data tends to anchor on majority subgroups,” he said. “It tends to be good at capturing the most popular themes and less good at capturing tails. So less represented demographics can get erased in various ways.”</p><p id="p-18">While such erasure is something that could happen, he added, the issue has not been well studied. His colleague Diyi Yang, an assistant professor in the natural language processing group at Stanford, said there has been very little research into the question of how model collapse affects diversity issues. “Part of the reason is that, if you think about any existing big models, a lot of the training dynamics or checkpoints of those models actually are not really transparent or publicly available,” she said.</p><p id="p-19">In the end, Gal argued, model collapse is an important consideration, but not the matter of imminent disaster that some news coverage has made it out to be. “It’s a matter for the tech companies who build these models to be aware of how the models are being used and how the models are being trained, in order to avoid training on synthetic data that they themselves generated.”</p><h2 id="FurtherReading">Further Reading</h2><ul id="ref-list1"><li><p><span data-jats-publication-type="other"><em>Shumailov, I., Shumaylov, Z., Zhao, Y., Papernot, N., Anderson, R., and Gal, Y.</em> <br><strong>AI models collapse when trained on recursively generated data, <em><span>Nature</span></em>, 2024, DOI: 10.1038/s41586-024-07566-y </strong><a href="https://www.nature.com/articles/s41586-024-07566-y" data-jats-ext-link-type="uri"><strong>https://www.nature.com/articles/s41586-024-07566-y</strong></a></span></p></li><li><p><span data-jats-publication-type="other"><em>Feng, Y., Dohmatob, E., Yang, P., Charton, and F. Kempe, J.</em> <br><strong>Beyond Model Collapse: Scaling Up with Synthesized Data Requires Reinforcement, <em>arXiv</em>, 2024, </strong><a href="https://doi.org/10.48550/arXiv.2406.07515" data-jats-ext-link-type="uri"><strong>https://doi.org/10.48550/arXiv.2406.07515</strong></a></span></p></li><li><p><span data-jats-publication-type="other"><em>Gerstgrasser, M., Schaeffer, R., Dey, A., et al.</em> <br><strong>Is Model Collapse Inevitable? Breaking the Curse of Recursion by Accumulating Real and Synthetic Data, <em>arXiv</em>, 2024, </strong><a href="https://doi.org/10.48550/arXiv.2404.01413" data-jats-ext-link-type="uri"><strong>https://doi.org/10.48550/arXiv.2404.01413</strong></a></span></p></li><li><p><span data-jats-publication-type="other"><em>Villalobos, P., Ho, A., Sevilla, J., Besiroglu, T., Heim, L., and Hobbhahn, M.</em> <br><strong>Will we run out of data? Limits of LLM scaling based on human-generated data, <em>arXiv</em>, 2022, </strong><a href="https://doi.org/10.48550/arXiv.2211.04325" data-jats-ext-link-type="uri"><strong>https://doi.org/10.48550/arXiv.2211.04325</strong></a></span></p></li><li></li></ul></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Moody’s strips U.S. of triple-A credit rating (251 pts)]]></title>
            <link>https://www.ft.com/content/e456ea34-c6ad-43fe-abe9-d4ce781c07b4</link>
            <guid>44009999</guid>
            <pubDate>Fri, 16 May 2025 21:39:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ft.com/content/e456ea34-c6ad-43fe-abe9-d4ce781c07b4">https://www.ft.com/content/e456ea34-c6ad-43fe-abe9-d4ce781c07b4</a>, See on <a href="https://news.ycombinator.com/item?id=44009999">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><a data-trackable="a11y-skip-to-help" href="https://www.ft.com/accessibility">Accessibility help</a><a data-trackable="a11y-skip-to-navigation" href="#site-navigation">Skip to navigation</a><a data-trackable="a11y-skip-to-content" href="#site-content">Skip to content</a><a data-trackable="a11y-skip-to-footer" href="#site-footer">Skip to footer</a></p><div id="barrier-page"><div data-component="electionsHeader" data-component-unique-name="electionsHeader"><h2>US Politics 2025</h2></div><div data-component="topicHeroOffer" data-component-unique-name="topicsHeroOffer"><div><div data-o-grid-colspan="12 XL6"><p><span></span><span></span><span></span><span>Register to unlock this article</span><span></span></p></div><div data-o-grid-colspan="12 XL5"><p><h2><span><span>Continue reading and get the indispensable White House Watch newsletter for free.</span></span></h2></p></div></div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/hero_banner_us_election_white_house_watch.png?source=next-barrier-page" alt="WhiteHouseWatch"></p></div><div data-component="electionsFeatures" data-component-unique-name="electionsFeatures"><h2>We’ve got you covered</h2><div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_countdown.png?source=next-barrier-page"></p><h3>White House Watch newsletter</h3><p>Sign up for your free, indispensable guide to what Trump’s second term means for Washington, business and the world.</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_hub_2024.png?source=next-barrier-page"></p><h3>Trump tracker: US tariffs</h3><p>As the president threatens a trade war, follow the latest on tariffs and executive orders</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_expert_opinion_analysis.png?source=next-barrier-page"></p><h3>US politics &amp; policy</h3><p>Stay on top of the latest events in US politics with the FT’s trusted and impartial coverage.</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_democracy_2024.png?source=next-barrier-page"></p><h3>Expert Opinion &amp; Analysis</h3><p>Insight and analysis on US politics from commentators such as Ed Luce and James Politi</p></div></div><div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_countdown.png?source=next-barrier-page"></p><h3>White House Watch newsletter</h3><p>Sign up for your free, indispensable guide to what Trump’s second term means for Washington, business and the world.</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_hub_2024.png?source=next-barrier-page"></p><h3>Trump tracker: US tariffs</h3><p>As the president threatens a trade war, follow the latest on tariffs and executive orders</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_expert_opinion_analysis.png?source=next-barrier-page"></p><h3>US politics &amp; policy</h3><p>Stay on top of the latest events in US politics with the FT’s trusted and impartial coverage.</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_democracy_2024.png?source=next-barrier-page"></p><h3>Expert Opinion &amp; Analysis</h3><p>Insight and analysis on US politics from commentators such as Ed Luce and James Politi</p></div></div></div><div id="recommendedOffers-recommendedOffers" data-component="recommendedOffers" data-component-unique-name="recommendedOffers"><p><h2 data-o-grid-colspan="12">Explore more offers.</h2></p><div data-o-grid-colspan="12"><div data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/icons/primary_product_icon_digital_edition.svg?source=next-barrier-page&amp;format=svg" alt=""></p><p><h3>FT Digital Edition</h3></p></div><p><span><span>€42.99</span><span> per 3 months</span></span></p><p><span><span>The new FT Digital Edition: today’s FT, cover to cover on any device. This subscription does not include access to ft.com or the FT App.</span></span></p></div><div data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/icons/primary_product_icon_standard.svg?source=next-barrier-page&amp;format=svg" alt=""></p><p><h3>Standard Digital</h3></p></div><p><span><span>€45</span><span> per month</span></span></p><p><span><span>Essential digital access to quality FT journalism on any device. Pay a year upfront and save 20%.</span></span></p></div><div data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/icons/primary_product_icon_premium.svg?source=next-barrier-page&amp;format=svg" alt=""></p><p><h3>Premium Digital</h3></p></div><p><span><span>€69</span><span> per month</span></span></p><p><span><span>Complete digital access to quality FT journalism with expert analysis from industry leaders. Pay a year upfront and save 20%.</span></span></p></div></div></div><div data-component="subscriptionOptions" data-component-unique-name="subscriptionsOptions" data-o3-theme="inverse"><h2>Explore our full range of subscriptions.</h2><div><div><div><h3>For individuals</h3></div><p>Discover all the plans currently available in your country</p></div><div><div><h3> For multiple readers</h3></div><p>Digital access for organisations. Includes exclusive features and content.</p></div></div><div><p>Check whether you already have access via your <span><a data-trackable="edu-finder" href="https://find-your-subscription.ft.com/?segmentId=a0e9a794-4c6d-bb35-e4dc-8bd409e0f54f&amp;ft-content-uuid=e456ea34-c6ad-43fe-abe9-d4ce781c07b4">university</a></span> or <span><a data-trackable="licence-finder" href="https://subs.enterprise.ft.com/en-gb/licence-finder/?segmentId=9fb23d7d-afe4-12f3-3eaa-ff7a41e9d073&amp;ft-content-uuid=e456ea34-c6ad-43fe-abe9-d4ce781c07b4">organisation.</a></span></p></div></div><div data-component="whyFT" data-component-unique-name="whyFT" data-o3-theme="inverse"><div><h2>Why the FT?</h2><p>See why over a million readers pay to read the Financial Times.</p></div><p><a href="https://subs.ft.com/whytheft?ft-content-uuid=e456ea34-c6ad-43fe-abe9-d4ce781c07b4">Find out why</a></p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Getting AI to write good SQL (382 pts)]]></title>
            <link>https://cloud.google.com/blog/products/databases/techniques-for-improving-text-to-sql</link>
            <guid>44009848</guid>
            <pubDate>Fri, 16 May 2025 21:10:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cloud.google.com/blog/products/databases/techniques-for-improving-text-to-sql">https://cloud.google.com/blog/products/databases/techniques-for-improving-text-to-sql</a>, See on <a href="https://news.ycombinator.com/item?id=44009848">Hacker News</a></p>
<div id="readability-page-1" class="page"><div jsname="tx2NYc"><div jsaction="rcuQ6b:npT2md" jscontroller="M0Q3Qb"><p><span>Organizations depend on fast and accurate data-driven insights to make decisions, and SQL is at the core of how they access that data. With Gemini, Google can generate SQL directly from natural language — a.k.a. text-to-SQL. This capability increases developer and analysts’ productivity and empowers non-technical users to interact directly with the data they need.</span></p>
<p><span>Today, you can find text-to-SQL capabilities in many Google Cloud products:</span></p>
<ul>
<li>
<p><strong>BigQuery Studio</strong><span> in the </span><a href="https://cloud.google.com/bigquery/docs/write-sql-gemini#generate_sql_from_a_comment"><span>SQL Editor</span></a><span> and </span><a href="https://cloud.google.com/bigquery/docs/write-sql-gemini#use_the_sql_generation_tool"><span>SQL Generation tool</span></a><span>, and within the </span><strong>Data Canvas</strong><span> </span><a href="https://cloud.google.com/blog/products/data-analytics/using-bigquery-data-canvas-a-deep-dive?e=48754805#:~:text=powered%20by%20Gemini-,2.%20Generate%20SQL,-You%20can%20also"><span>SQL node</span></a></p>
</li>
<li>
<p><span>"Help me code" functionality in </span><a href="https://cloud.google.com/sql/docs/mysql/write-sql-gemini"><strong>Cloud SQL Studio</strong></a><strong> (</strong><span>Postgres, MySQL and SQLServer), </span><strong>AlloyDB Studio</strong><span> and </span><strong>Cloud Spanner Studio</strong></p>
</li>
<li>
<p><strong>AlloyDB AI</strong><span> with its direct natural language interface to the database, currently available as a public preview</span></p>
</li>
<li>
<p><span>Through </span><strong>Vertex AI</strong><span>, which lets you access the Gemini models that are the basis for these products directly</span></p>
</li>
</ul>
<p><span>Recently, powerful large language models (LLMs) like Gemini, with their abilities to reason and synthesize, have driven remarkable advancements in the field of text-to-SQL. In this blog post, the first entry in a series, we explore the technical internals of Google Cloud's text-to-SQL agents. We will cover state-of-the-art approaches to context building and table retrieval, how to do effective evaluation of text-to-SQL quality with LLM-as-a-judge techniques, the best approaches to LLM prompting and post-processing, and how we approach techniques that allows the system to offer virtually certified correct answers.</span></p></div><section><figure><section jscontroller="SCGBie" jsaction="rcuQ6b:npT2md"><img src="https://storage.googleapis.com/gweb-cloudblog-publish/images/1_Text-to-SQL_at_Google_Cloud.max-1800x1800.jpg" alt="https://storage.googleapis.com/gweb-cloudblog-publish/images/1_Text-to-SQL_at_Google_Cloud.max-1800x1800.jpg" jsname="P3Vluc" jsaction="click:HTIlC" loading="lazy"></section></figure><div><p>The ‘Help me code’ feature in Cloud SQL Studio generates SQL from a text prompt</p></div></section><div jsaction="rcuQ6b:npT2md" jscontroller="M0Q3Qb"><h3><strong>The challenges of text-to-SQL technology</strong></h3>
<p><span>Current state-of-the-art LLMs like Gemini 2.5 have reasoning capabilities that make them good at translating complex questions posed in natural language to functioning SQL, complete with joins, filters, aggregations and other difficult concepts.</span></p>
<p><span>To see this in action you can do a simple test in </span><a href="https://cloud.google.com/generative-ai-studio"><span>Vertex AI Studio</span></a><span>. Given the prompt </span><span>"I have a database schema that contains products and orders. Write a SQL query that shows the number of orders for shoes"</span><span>, Gemini produces SQL for a hypothetical schema:</span></p></div><div jsaction="rcuQ6b:npT2md" jscontroller="M0Q3Qb"><p><span>Great, this is a good looking query. But what happens when you move beyond this trivial example, and use Gemini for text-to-SQL against a real world database and on real-world user questions? It turns out that the problem is more difficult. The model needs to be complemented with methods to:&nbsp;</span></p>
<ol>
<li>
<p><span>provide business-specific context</span></p>
</li>
<li>
<p><span>understand user intent</span></p>
</li>
<li>
<p><span>manage differences in SQL dialects</span></p>
</li>
</ol>
<p><span>Let’s take a look at each of these challenges.&nbsp;</span></p>
<p><strong>Problem #1: Provide business-specific context</strong></p>
<p><span>Just like data analysts or engineers, LLMs need significant amounts of knowledge or "context" to generate accurate SQL. The context can be both explicit (what does the schema look like, what are the relevant columns, and what does the data itself look like?) or more implicit (what is the precise semantic meaning of a piece of data? what does it mean for the specific business case?).</span></p>
<p><span>Specialized model training, or fine tuning, is typically not a scalable solution to this problem. Training on the shape of every database or dataset, and keeping up with schema or data changes, is both difficult and cost-prohibitive. Business knowledge and semantics are often not well documented in the first place, and difficult to turn into training data.</span></p>
<p><span>For example, even the best DBA in the world would not be able to write an accurate query to track shoe sales if they didn't know that </span><code>cat_id2 = 'Footwear'</code><span> in a </span><code>pcat_extension</code><span> table means that the product in question is a kind of shoe. The same is true for&nbsp; LLMs.</span></p>
<p><strong>Problem #2: Understanding user intent</strong></p>
<p><span>Natural language is less precise than SQL. An engineer or analyst faced with an ambiguous question can detect that they need more information and go back and ask the right follow-up questions. An LLM, on the other hand, tends to try to give you an answer, and when the question is ambiguous, can be prone to hallucinating.</span></p>
<p><span>Example: Take a question like "What are the best-selling shoes?" Here, one obvious point of ambiguity is what "best selling" actually means in the context of the business or application — the most ordered shoes? The shoe brand that brought in the most money? Further, should the SQL count returned orders? And how many kinds of shoes do you want to see in the report? etc.&nbsp;</span></p>
<p><span>Further, different users need different kinds of answers. If the user is a technical analyst or a developer asking a vague question, giving them a reasonable, but perhaps not 100% correct SQL query is a good starting point. On the other hand, if the user is less technical and does not understand SQL, providing precise, correct SQL is more important. Being able to reply with follow-up questions to disambiguate, explaining the reasoning that went into an answer, and guiding the user to what they are looking for is key.</span></p>
<p><strong>Problem #3: Limits of LLM generation</strong></p>
<p><span>Out of the box, LLMs are particularly good at tasks like creative writing, summarizing or extracting information from documents. But some models can struggle with following precise instructions and getting details exactly right, particularly when it comes to more obscure SQL features. To be able to produce correct SQL, the LLM needs to adhere closely to what can often turn into complex specifications.</span></p>
<p><span>Example: Consider the differences between SQL dialects, which are more subtle than differences between programming languages like Python and Java. As a simple example, if you're using BigQuery SQL, the correct function for extracting a month from a timestamp column is </span><code>EXTRACT(MONTH FROM timestamp_column)</code><span>. But if you are using MySQL, you use </span><code>MONTH(timestamp_column)</code><span>.</span></p>
<h3><strong>Text-to-SQL techniques</strong></h3>
<p><span>At Google Cloud, we’re constantly evolving our text-to-SQL agents to improve their quality. To address the problems listed above, we apply a number of techniques.</span></p>
<div><table><colgroup><col><col></colgroup>
<tbody>
<tr>
<td>
<p><strong>Problem</strong></p>
</td>
<td>
<p><strong>Solutions</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>Understanding schema, data and business concepts</span></p>
</td>
<td>
<ul>
<li>
<p><strong>Intelligent retrieval</strong><span> and ranking of datasets, tables and columns, based on semantic similarity.</span></p>
</li>
<li>
<p><strong>In-context-learning</strong><span> with business specific examples</span></p>
</li>
<li>
<p><span>Data linking and sampling</span></p>
</li>
<li>
<p><span>Semantic layer over raw data. This provides a bridge between complex data structures and the everyday language used by the customer</span></p>
</li>
<li>
<p><span>Usage pattern analysis and query history</span></p>
</li>
</ul>
</td>
</tr>
<tr>
<td>
<p><span>Understanding user intent</span></p>
</td>
<td>
<p><strong>Disambiguation using LLMs</strong></p>
<ul>
<ul>
<li>
<p><span>Entity resolution</span></p>
</li>
</ul>
</ul>
<p><strong>SQL-aware foundation models</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>Limits of LLM generation</span></p>
</td>
<td>
<p><strong>Self-consistency</strong></p>
<p><strong>Validation and rewriting</strong></p>
<ul>
<li>
<p><span>Strong foundation models</span></p>
</li>
<li>
<p><span>In-context-learning with dialect specific examples</span></p>
</li>
<li>
<p><span>Model finetuning</span></p>
</li>
</ul>
</td>
</tr>
</tbody>
</table></div></div><section><figure><section jscontroller="SCGBie" jsaction="rcuQ6b:npT2md"><img src="https://storage.googleapis.com/gweb-cloudblog-publish/images/2_Text-to-SQL_at_Google_Cloud.max-2200x2200.jpg" alt="https://storage.googleapis.com/gweb-cloudblog-publish/images/2_Text-to-SQL_at_Google_Cloud.max-2200x2200.jpg" jsname="P3Vluc" jsaction="click:HTIlC" loading="lazy"></section></figure><div><p>The text-to-SQL architecture</p></div></section><div jsaction="rcuQ6b:npT2md" jscontroller="M0Q3Qb"><p><span>Let’s take a closer look at some of these techniques.</span></p>
<p><strong>SQL-aware models<br></strong><span>Strong LLMs are the foundation of text-to-SQL solutions, and the Gemini family of models has a proven track record of high-quality code and SQL generation. Depending on the particular SQL generation task, we mix and match model versions, including some cases where we employ customized fine-tuning, for example to ensure that models provide sufficiently good SQL for certain dialects.</span></p>
<p><strong>Disambiguation using LLMs<br></strong><span>Disambiguation involves getting the system to respond with a clarifying question when faced with a question that is not clear enough (in the example above of "What is the best selling shoe?" should lead to a follow-up question like "Would you like to see the shoes ordered by order quantity or revenue?" from the text-to-SQL agent). Here we typically orchestrate LLM calls to first try to identify if a question can actually be answered given the available schema and data, and if not, to generate the necessary follow-up questions to clarify the user's intent.</span></p>
<p><strong>Retrieval and in-context-learning<br></strong><span>As mentioned above, providing models with the context they need to generate SQL is critical. We use a variety of indexing and retrieval techniques — first to identify relevant datasets, tables and columns, typically using vector search for multi-stage semantic matching, then to load additional useful context. Depending on the product, this may include things like user-provided schema annotations, examples of similar SQL or how to apply specific business rules, or samples of recent queries that a user has run against the same datasets. All of this data is organized into prompts then passed to the model. Gemini's support for long context windows unlocks new capabilities here by allowing the model to handle large schemas and other contextual information.</span></p>
<p><strong>Validation and reprompting<br></strong><span>Even with a high-quality model, there is still some level of non-determinism or unpredictability involved in LLM-driven SQL generation. To address this we have found that non-AI approaches like query parsing or doing a dry run of the generated SQL complements model-based workflows well. We can get a clear, deterministic signal if the LLM has missed something crucial, which we then pass back to the model for a second pass. When provided an example of a mistake and some guidance, models can typically address what they got wrong.</span></p>
<p><strong>Self-consistency<br></strong><span>The idea of self-consistency is to not depend on a single round of generation, but to generate multiple queries for the same user question, potentially using different prompting techniques or model variants, and picking the best one from all candidates. If several models agree that one answer looks particularly good, there is a greater chance that the final SQL query will be accurate and matches what the user is looking for.</span></p>
<h3><strong>Evaluation and measuring improvements</strong></h3>
<p><span>Improving AI-driven capabilities depends on robust evaluation. The text-to-SQL benchmarks developed in the academic community, like the popular </span><a href="https://bird-bench.github.io/" rel="noopener" target="_blank"><span>BIRD-bench</span></a><span>, have been a very useful baseline to understand model and end-to-end system performance. However, these benchmarks are often lacking when it comes to representing broad real-world schemas and workloads. To address this we have developed our own suite of synthetic benchmarks that augment the baseline in many ways.</span></p>
<p><strong>Coverage:</strong><span> We make sure to have benchmarks that cover a broad list of SQL engines and products, both dialects and engine-specific features. This includes not only queries, but also DDL, DML and other administrative needs, and questions that are representative for common usage patterns, including more complex queries and schemas.</span></p>
<p><strong>Metrics:</strong><span> We combine user metrics and offline eval metrics, and employ both human and automated evaluation, particularly using LLM-as-a-judge techniques, which reduce cost but still allow us to understand performance on ambiguous and unclear tasks.</span></p>
<p><strong>Continuous evals:</strong><span> Our engineering and research teams use evals to quickly be able to test out new models, new prompting techniques and other improvements. It can give us signals quickly to tell if an approach is showing promise and is worth pursuing.</span></p>
<p><span>Taken together, using these techniques are driving the remarkable improvements in text-to-SQL that we are witnessing in our labs, as well as in customers’ environments. As you get ready to incorporate text-to-SQL in your own environments, stay tuned for more deep dives into our text-to-SQL solutions. Try Gemini text-to-SQL in </span><a href="https://cloud.google.com/bigquery/docs/write-sql-gemini#use_the_sql_generation_tool"><span>BigQuery Studio</span></a><span>, </span><a href="https://cloud.google.com/sql/docs/mysql/write-sql-gemini"><span>CloudSQL, AlloyDB and Spanner Studio</span></a><span>, and in </span><a href="https://cloud.google.com/blog/products/databases/alloydb-ai-drives-innovation-from-the-database"><span>AlloyDB AI</span></a><span> today.</span></p></div><section><span>Posted in</span><ul><li><a href="https://cloud.google.com/blog/products/databases" track-metadata-position="body" track-metadata-eventdetail="cloud.google.com/blog/products/databases" track-metadata-module="tag list" track-metadata-module_headline="posted in">Databases</a></li><li><a href="https://cloud.google.com/blog/products/ai-machine-learning" track-metadata-position="body" track-metadata-eventdetail="cloud.google.com/blog/products/ai-machine-learning" track-metadata-module="tag list" track-metadata-module_headline="posted in">AI &amp; Machine Learning</a></li></ul></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[ClojureScript 1.12.42 (165 pts)]]></title>
            <link>https://clojurescript.org/news/2025-05-16-release</link>
            <guid>44009464</guid>
            <pubDate>Fri, 16 May 2025 20:20:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://clojurescript.org/news/2025-05-16-release">https://clojurescript.org/news/2025-05-16-release</a>, See on <a href="https://news.ycombinator.com/item?id=44009464">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
      <p><em>16 May 2025</em><br>
         <em>ClojureScript Team</em></p>

      <div id="preamble">
<p>We’re happy to announce a new release of ClojureScript. If you’re an existing
user of ClojureScript please read over the following release notes carefully.</p>
<p>This release features two significant dependency changes. First, Google Closure
Compiler has been updated to <code>v20250402</code>. This change makes Java 21 a
requirement for ClojureScript. The other significant change is that this release
now depends on the Clojure fork of Google Closure Library. Please read on for
more details about these changes.</p>
<p>For a complete list of fixes, changes, and enhancements to
ClojureScript see
<a href="https://github.com/clojure/clojurescript/blob/master/changes.md#1.12.42">here</a></p>
</div>
<div>
<h2 id="_google_closure_compiler_java_21"><a href="#_google_closure_compiler_java_21"></a>Google Closure Compiler &amp; Java 21</h2>
<div>
<p>Last year we noted that updating Google Closure Compiler would mean losing Java
8 support. Google Closure now requires Java 21. From our perspective this change
doesn’t seem strictly necessary, but Google is a large organization and this
change is likely to due to internal requirements which are hard to influence from
the outside. The general enthusiasm in the Clojure community around adopting more
recent Java releases hopefully softens the overall impact of this change.</p>
<p>So far, the burden of staying current with Google Closure has been manageable.
If for some reason that calculus changes, we could adopt the strategy we have taken
with Google Closure Library.</p>
</div>
</div>
<div>
<h2 id="_clojures_fork_of_google_closure_library"><a href="#_clojures_fork_of_google_closure_library"></a>Clojure’s Fork of Google Closure Library</h2>
<div>
<p>The incredible stability of Google Closure Library started declining around
2019. Google was both trying many things with respect to their internal
JavaScript strategy as well as becoming less concerned about the impact on outside
consumers. Finally, Google stopped contributing to Google Closure Library
last August.</p>
<p>We have forked Google Closure Library (GCL) and taken up maintenance. We backed out a
few years of needless breaking changes and aligned the codebase with the latest
Google Closure Compiler release.</p>
<p>One of the biggest benefits of GCL is that it makes ClojureScript a complete
solution for a variety of JavaScript contexts, not limited to the browser.
Taking on additional dependencies always comes with a cost. One of
ClojureScript’s original value propositions was a rock solid set of readily
available JavaScript tools as dependable as <code>clojure.core</code>.</p>
<p>We are working on restoring that original stability. With this release, you’ll
find that quite a few old ClojureScript libraries work again today as well
as they did <strong>14 years</strong> ago.</p>
<p>ClojureScript is not and never was only just for rich web applications. Even in the
post React-world, a large portion of the web is (sensibly) still using jQuery. If you need
robust DOM manipulation, internationalization, date/time handling, color
value manipulation, mathematics, programmatic animation, browser history management,
accessibility support, graphics, and much more, all without committing to a framework
and without bloating your final JavaScript artifact - ClojureScript is a one
stop shop.</p>
<p>Give it a try!</p>
</div>
</div>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: KVSplit – Run 2-3x longer contexts on Apple Silicon (249 pts)]]></title>
            <link>https://github.com/dipampaul17/KVSplit</link>
            <guid>44009321</guid>
            <pubDate>Fri, 16 May 2025 20:04:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/dipampaul17/KVSplit">https://github.com/dipampaul17/KVSplit</a>, See on <a href="https://news.ycombinator.com/item?id=44009321">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div dir="auto">
<p dir="auto"><h2 tabindex="-1" dir="auto">🚀 KVSplit</h2><a id="user-content--kvsplit" aria-label="Permalink: 🚀 KVSplit" href="#-kvsplit"></a></p>
<p dir="auto"><strong>Differentiated KV Cache Quantization for Apple Silicon</strong></p>
<p dir="auto"><a href="https://github.com/dipampaul17/KVSplit/stargazers"><img src="https://camo.githubusercontent.com/e0303260b83f266fb26524b0c11e415c6878324211d0c8edeae0fc1c0b3c9b2a/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f646970616d7061756c31372f4b5653706c69743f7374796c653d666f722d7468652d6261646765266c6f676f3d676974687562" alt="GitHub Stars" data-canonical-src="https://img.shields.io/github/stars/dipampaul17/KVSplit?style=for-the-badge&amp;logo=github"></a>
<a href="https://github.com/dipampaul17/KVSplit/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/e16a8865515749158a69c1e57a8fb9df3373386b8715b5d087517c0d3d887845/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f646970616d7061756c31372f4b5653706c69743f7374796c653d666f722d7468652d6261646765" alt="License" data-canonical-src="https://img.shields.io/github/license/dipampaul17/KVSplit?style=for-the-badge"></a>
<a href="https://github.com/dipampaul17/KVSplit/blob/main"><img src="https://camo.githubusercontent.com/8b0dd35d753ba4b14face3f93eafee56c2a5d58f05ee9eae4c8d00e55ca22e02/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f506c6174666f726d2d4170706c6525323053696c69636f6e2d626c61636b3f7374796c653d666f722d7468652d6261646765266c6f676f3d6170706c65" alt="Platform" data-canonical-src="https://img.shields.io/badge/Platform-Apple%20Silicon-black?style=for-the-badge&amp;logo=apple"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/dipampaul17/KVSplit/blob/main/plots/kv_cache_memory_usage.png"><img src="https://github.com/dipampaul17/KVSplit/raw/main/plots/kv_cache_memory_usage.png" alt="KV Cache Memory Usage" width="70%"></a>
</p></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">📌 Overview</h2><a id="user-content--overview" aria-label="Permalink: 📌 Overview" href="#-overview"></a></p>
<p dir="auto">Run <strong>larger context windows</strong> and <strong>heavier LLMs</strong> on your Mac by applying different quantization precision to keys vs values in the attention mechanism's KV cache. KVSplit enables you to:</p>
<ul dir="auto">
<li><strong>Reduce memory usage by up to 72%</strong> with minimal quality loss</li>
<li><strong>Run 2-3x longer contexts</strong> in the same memory budget</li>
<li><strong>Maintain or improve inference speed</strong> compared to FP16</li>
<li><strong>Optimize for Apple Silicon</strong> with full Metal support</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Key Findings</h2><a id="user-content-key-findings" aria-label="Permalink: Key Findings" href="#key-findings"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Configuration</th>
<th>VRAM @ 8K tokens</th>
<th>Tokens/sec</th>
<th>Perplexity Change</th>
</tr>
</thead>
<tbody>
<tr>
<td>FP16 (base)</td>
<td>176.00 MB (100%)</td>
<td>54,360</td>
<td>--</td>
</tr>
<tr>
<td>K8V8 (8-bit)</td>
<td>93.50 MB (47%)</td>
<td>51,503</td>
<td>+0.03%</td>
</tr>
<tr>
<td><strong>K8V4</strong></td>
<td><strong>71.50 MB (41%)</strong></td>
<td><strong>57,438</strong></td>
<td><strong>+0.86%</strong></td>
</tr>
<tr>
<td>K4V8</td>
<td>71.50 MB (41%)</td>
<td>58,690</td>
<td>+6.06%</td>
</tr>
<tr>
<td>K4V4 (4-bit)</td>
<td>49.50 MB (28%)</td>
<td>55,193</td>
<td>+6.15%</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h3 tabindex="-1" dir="auto">Memory Savings by Sequence Length</h3><a id="user-content-memory-savings-by-sequence-length" aria-label="Permalink: Memory Savings by Sequence Length" href="#memory-savings-by-sequence-length"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Configuration</th>
<th>128 tokens</th>
<th>2048 tokens</th>
<th>4096 tokens</th>
<th>8192 tokens</th>
</tr>
</thead>
<tbody>
<tr>
<td>FP16 (baseline)</td>
<td>5.50 MB</td>
<td>44.00 MB</td>
<td>88.00 MB</td>
<td>176.00 MB</td>
</tr>
<tr>
<td>K8V8 (8-bit)</td>
<td>2.92 MB</td>
<td>23.38 MB</td>
<td>46.75 MB</td>
<td>93.50 MB</td>
</tr>
<tr>
<td>K8V4 (mixed)</td>
<td>2.23 MB</td>
<td>17.88 MB</td>
<td>35.75 MB</td>
<td>71.50 MB</td>
</tr>
<tr>
<td>K4V8 (mixed)</td>
<td>2.23 MB</td>
<td>17.88 MB</td>
<td>35.75 MB</td>
<td>71.50 MB</td>
</tr>
<tr>
<td>K4V4 (4-bit)</td>
<td>1.55 MB</td>
<td>12.38 MB</td>
<td>24.75 MB</td>
<td>49.50 MB</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h2 tabindex="-1" dir="auto">Features</h2><a id="user-content-features" aria-label="Permalink: Features" href="#features"></a></p>
<ul dir="auto">
<li>Independent quantization of keys and values in the KV cache</li>
<li>Optimized for Apple Silicon with Metal support</li>
<li>Comprehensive benchmarking suite with perplexity measurement</li>
<li>Memory usage and performance analysis tools</li>
<li>Publication-quality visualization tools</li>
<li>Easy setup and usage</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Prerequisites</h2><a id="user-content-prerequisites" aria-label="Permalink: Prerequisites" href="#prerequisites"></a></p>
<ul dir="auto">
<li>macOS (tested on Apple Silicon)</li>
<li>Homebrew package manager</li>
<li>Xcode Command Line Tools</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">⚡ One-Command Installation</h2><a id="user-content--one-command-installation" aria-label="Permalink: ⚡ One-Command Installation" href="#-one-command-installation"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Clone the repository
git clone https://github.com/dipampaul17/KVSplit.git
cd kvsplit

# Run the installer script
chmod +x scripts/install_kvsplit.sh
./scripts/install_kvsplit.sh"><pre><span><span>#</span> Clone the repository</span>
git clone https://github.com/dipampaul17/KVSplit.git
<span>cd</span> kvsplit

<span><span>#</span> Run the installer script</span>
chmod +x scripts/install_kvsplit.sh
./scripts/install_kvsplit.sh</pre></div>
<p dir="auto">The installer will:</p>
<ul dir="auto">
<li>Set up the project structure</li>
<li>Clone and build llama.cpp with Metal support</li>
<li>Configure for differentiated KV cache quantization</li>
<li>Download a small test model (optional)</li>
<li>Set up Python environment for visualization</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">🏎️ Quick Comparison</h2><a id="user-content-️-quick-comparison" aria-label="Permalink: 🏎️ Quick Comparison" href="#️-quick-comparison"></a></p>
<p dir="auto">Want to see the benefits immediately? Run a quick comparison with your model:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Run quick comparison with different configurations
python scripts/quick_compare.py --model models/your-model.gguf"><pre><span><span>#</span> Run quick comparison with different configurations</span>
python scripts/quick_compare.py --model models/your-model.gguf</pre></div>
<p dir="auto">This will show you a side-by-side comparison of FP16, K8V8, K8V4, K4V8, and K4V4 with memory usage, speed, and quality metrics.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">📊 Impressive Results</h2><a id="user-content--impressive-results" aria-label="Permalink: 📊 Impressive Results" href="#-impressive-results"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/dipampaul17/KVSplit/blob/main/plots/memory_vs_quality.png"><img src="https://github.com/dipampaul17/KVSplit/raw/main/plots/memory_vs_quality.png" alt="Memory vs Quality" width="50%"></a>
</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">📉 Memory Reduction</h3><a id="user-content--memory-reduction" aria-label="Permalink: 📉 Memory Reduction" href="#-memory-reduction"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Configuration</th>
<th>VRAM @ 8K tokens</th>
<th>Memory Savings</th>
<th>Quality Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td>FP16 (base)</td>
<td>176.00 MB</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>K8V8 (8-bit)</td>
<td>93.50 MB</td>
<td>47%</td>
<td>+0.03%</td>
</tr>
<tr>
<td><strong>K8V4</strong></td>
<td><strong>71.50 MB</strong></td>
<td><strong>59%</strong></td>
<td><strong>+0.86%</strong></td>
</tr>
<tr>
<td>K4V8</td>
<td>71.50 MB</td>
<td>59%</td>
<td>+6.06%</td>
</tr>
<tr>
<td>K4V4 (4-bit)</td>
<td>49.50 MB</td>
<td>72%</td>
<td>+6.15%</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h3 tabindex="-1" dir="auto">📈 Performance Impact</h3><a id="user-content--performance-impact" aria-label="Permalink: 📈 Performance Impact" href="#-performance-impact"></a></p>
<p dir="auto">Using KVSplit doesn't just save memory—it often <strong>improves inference speed</strong> by 5-15%!</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Configuration</th>
<th>Tokens/sec (8K ctx)</th>
<th>Speedup vs FP16</th>
</tr>
</thead>
<tbody>
<tr>
<td>FP16</td>
<td>54,360</td>
<td>—</td>
</tr>
<tr>
<td>K8V8</td>
<td>51,503</td>
<td>-5.3%</td>
</tr>
<tr>
<td><strong>K8V4</strong></td>
<td><strong>57,438</strong></td>
<td><strong>+5.7%</strong></td>
</tr>
<tr>
<td>K4V8</td>
<td>58,690</td>
<td>+8.0%</td>
</tr>
<tr>
<td>K4V4</td>
<td>55,193</td>
<td>+1.5%</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h2 tabindex="-1" dir="auto">🧠 Project Structure</h2><a id="user-content--project-structure" aria-label="Permalink: 🧠 Project Structure" href="#-project-structure"></a></p>
<div data-snippet-clipboard-copy-content="kvsplit/
├── llama.cpp/      # Optimized llama.cpp build
├── models/         # LLM model files
├── scripts/        # Utility scripts
│   ├── benchmark_kvsplit.py    # Comprehensive benchmark tool
│   ├── install_kvsplit.sh      # One-command installer
│   ├── quick_compare.py        # Quick comparison utility
│   ├── capture_memory.sh       # GIF creation for memory visualization
│   └── visualize_results.py    # Generate publication-quality plots
├── results/        # Benchmark results (CSV/JSON)
├── plots/          # Generated visualizations
└── README.md       # This file"><pre><code>kvsplit/
├── llama.cpp/      # Optimized llama.cpp build
├── models/         # LLM model files
├── scripts/        # Utility scripts
│   ├── benchmark_kvsplit.py    # Comprehensive benchmark tool
│   ├── install_kvsplit.sh      # One-command installer
│   ├── quick_compare.py        # Quick comparison utility
│   ├── capture_memory.sh       # GIF creation for memory visualization
│   └── visualize_results.py    # Generate publication-quality plots
├── results/        # Benchmark results (CSV/JSON)
├── plots/          # Generated visualizations
└── README.md       # This file
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">🔬 Scientific Insight</h2><a id="user-content--scientific-insight" aria-label="Permalink: 🔬 Scientific Insight" href="#-scientific-insight"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/dipampaul17/KVSplit/blob/main/plots/configuration_summary.png"><img src="https://github.com/dipampaul17/KVSplit/raw/main/plots/configuration_summary.png" alt="Configuration Summary" width="80%"></a>
</p>
<p dir="auto">KV cache memory is dominated by storing key and value vectors for each token. Our research has revealed a critical insight: <strong>keys are significantly more sensitive to quantization than values</strong>.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">🔑 Key Findings</h3><a id="user-content--key-findings" aria-label="Permalink: 🔑 Key Findings" href="#-key-findings"></a></p>
<ul dir="auto">
<li><strong>Asymmetric Impact</strong>: Keys require higher precision than values for maintaining quality</li>
<li><strong>Sweet Spot</strong>: K8V4 (8-bit keys, 4-bit values) provides optimal balance
<ul dir="auto">
<li>Only 0.86% perplexity degradation vs. FP16</li>
<li>59% memory reduction</li>
<li>Faster inference than FP16</li>
</ul>
</li>
<li><strong>Confirmation</strong>: K4V8 configuration shows 7x more quality degradation than K8V4, despite using the same total bits</li>
</ul>
<p dir="auto">This asymmetry allows for more efficient memory usage without compromising model quality, enabling longer context windows and larger models on consumer hardware.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">💻 Usage Examples</h2><a id="user-content--usage-examples" aria-label="Permalink: 💻 Usage Examples" href="#-usage-examples"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Running with Different KV Cache Precisions</h3><a id="user-content-running-with-different-kv-cache-precisions" aria-label="Permalink: Running with Different KV Cache Precisions" href="#running-with-different-kv-cache-precisions"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Baseline (FP16)
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p &quot;Your prompt&quot; \
  -t 8 --flash-attn

# ⭐ RECOMMENDED: 8-bit keys, 4-bit values (K8V4) 
# Best balance of quality and memory savings
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p &quot;Your prompt&quot; \
  -t 8 --flash-attn --kvq 8

# 4-bit keys, 8-bit values (K4V8)
# Shows why key precision matters more than value precision
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p &quot;Your prompt&quot; \
  -t 8 --flash-attn --kvq-key 4 --kvq-val 8

# 4-bit keys and values (K4V4)
# Maximum memory savings (72% reduction) with acceptable quality
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p &quot;Your prompt&quot; \
  -t 8 --flash-attn --kvq 4"><pre><span><span>#</span> Baseline (FP16)</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p <span><span>"</span>Your prompt<span>"</span></span> \
  -t 8 --flash-attn

<span><span>#</span> ⭐ RECOMMENDED: 8-bit keys, 4-bit values (K8V4) </span>
<span><span>#</span> Best balance of quality and memory savings</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p <span><span>"</span>Your prompt<span>"</span></span> \
  -t 8 --flash-attn --kvq 8

<span><span>#</span> 4-bit keys, 8-bit values (K4V8)</span>
<span><span>#</span> Shows why key precision matters more than value precision</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p <span><span>"</span>Your prompt<span>"</span></span> \
  -t 8 --flash-attn --kvq-key 4 --kvq-val 8

<span><span>#</span> 4-bit keys and values (K4V4)</span>
<span><span>#</span> Maximum memory savings (72% reduction) with acceptable quality</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p <span><span>"</span>Your prompt<span>"</span></span> \
  -t 8 --flash-attn --kvq 4</pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Long Context Example (32K)</h3><a id="user-content-long-context-example-32k" aria-label="Permalink: Long Context Example (32K)" href="#long-context-example-32k"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Run with a 32K context (would require ~1.4GB in FP16, only ~400MB with K8V4)
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf \
  -c 32768 -n 4096 -t 8 --flash-attn --kvq 8 \
  -f your-long-document.txt"><pre><span><span>#</span> Run with a 32K context (would require ~1.4GB in FP16, only ~400MB with K8V4)</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf \
  -c 32768 -n 4096 -t 8 --flash-attn --kvq 8 \
  -f your-long-document.txt</pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">🚩 Command-Line Arguments</h3><a id="user-content--command-line-arguments" aria-label="Permalink: 🚩 Command-Line Arguments" href="#-command-line-arguments"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
<th>Recommendation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-t 8</code></td>
<td>Number of threads</td>
<td>8 is optimal for most Apple Silicon chips</td>
</tr>
<tr>
<td><code>--flash-attn</code></td>
<td>Enables optimized attention</td>
<td>Recommended for Apple Silicon</td>
</tr>
<tr>
<td><code>--kvq N</code></td>
<td>Sets both key and value bits to N</td>
<td>Use <code>--kvq 8</code> for K8V4 configuration</td>
</tr>
<tr>
<td><code>--kvq-key N</code></td>
<td>Sets key bits only</td>
<td>Key precision has major quality impact</td>
</tr>
<tr>
<td><code>--kvq-val N</code></td>
<td>Sets value bits only</td>
<td>Value precision has minor quality impact</td>
</tr>
<tr>
<td><code>-c N</code></td>
<td>Context size in tokens</td>
<td>Longer contexts benefit more from KVSplit</td>
</tr>
<tr>
<td><code>-n N</code></td>
<td>Number of tokens to generate</td>
<td>Adjust based on your needs</td>
</tr>
<tr>
<td><code>-f FILE</code></td>
<td>Input file</td>
<td>For processing documents</td>
</tr>
<tr>
<td><code>-m MODEL</code></td>
<td>Model path</td>
<td>Path to your .gguf model file</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h2 tabindex="-1" dir="auto">📏 Advanced Benchmarking</h2><a id="user-content--advanced-benchmarking" aria-label="Permalink: 📏 Advanced Benchmarking" href="#-advanced-benchmarking"></a></p>
<p dir="auto">For comprehensive performance analysis, use our full benchmark suite:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Run the full benchmark suite (all configurations and sequence lengths)
python scripts/benchmark_kvsplit.py

# Run a specific configuration test
python scripts/benchmark_kvsplit.py --config K8V4 --seq-len 4096

# Generate publication-quality visualizations
python scripts/visualize_results.py"><pre><span><span>#</span> Run the full benchmark suite (all configurations and sequence lengths)</span>
python scripts/benchmark_kvsplit.py

<span><span>#</span> Run a specific configuration test</span>
python scripts/benchmark_kvsplit.py --config K8V4 --seq-len 4096

<span><span>#</span> Generate publication-quality visualizations</span>
python scripts/visualize_results.py</pre></div>
<p dir="auto">The benchmarking script provides thorough measurements of:</p>
<ul dir="auto">
<li>📊 <strong>Memory Usage</strong>: VRAM and KV cache specifically</li>
<li>⚡ <strong>Performance</strong>: Tokens per second across different sequence lengths</li>
<li>🎯 <strong>Quality</strong>: Perplexity measurement using llama-perplexity</li>
<li>📈 <strong>Scaling</strong>: How memory usage and performance scale with sequence length</li>
</ul>
<p dir="auto">Results are saved in CSV/JSON formats with automatic summary statistics, and the visualization script generates publication-quality plots showing key insights.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">MIT</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🎬 Visual Memory Savings</h2><a id="user-content--visual-memory-savings" aria-label="Permalink: 🎬 Visual Memory Savings" href="#-visual-memory-savings"></a></p>
<p dir="auto">You can visualize memory savings with our capture tool:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Capture memory reduction in Activity Monitor
./scripts/capture_memory.sh"><pre><span><span>#</span> Capture memory reduction in Activity Monitor</span>
./scripts/capture_memory.sh</pre></div>

<p dir="auto"><h2 tabindex="-1" dir="auto">🍎 Apple Silicon Optimization</h2><a id="user-content--apple-silicon-optimization" aria-label="Permalink: 🍎 Apple Silicon Optimization" href="#-apple-silicon-optimization"></a></p>
<ul dir="auto">
<li><strong>Metal Performance</strong>: Fully optimized for Apple's Metal framework</li>
<li><strong>Memory Efficiency</strong>: Critical for memory-constrained M1/M2/M3 devices</li>
<li><strong>Activity Monitor</strong>: Use our <code>capture_memory.sh</code> script to visualize real-time memory reductions</li>
<li><strong>Alignment</strong>: 256B page alignment in llama.cpp means actual memory savings might differ slightly from theoretical calculations</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">⭐ Key Features</h2><a id="user-content--key-features" aria-label="Permalink: ⭐ Key Features" href="#-key-features"></a></p>
<ul dir="auto">
<li><strong>Differentiated Precision</strong>: Independent key and value bit precision (K8V4, K4V8, etc)</li>
<li><strong>Apple Silicon Optimization</strong>: Full Metal support for M1/M2/M3 chips</li>
<li><strong>Comprehensive Benchmarking</strong>: Memory, speed, and quality metrics</li>
<li><strong>Publication-Quality Visualization</strong>: Beautiful plots for analysis</li>
<li><strong>Simple User Interface</strong>: One-command install and quick comparison tools</li>
<li><strong>Memory Visualization</strong>: Tools to capture and visualize memory savings</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">🙏 Acknowledgments</h2><a id="user-content--acknowledgments" aria-label="Permalink: 🙏 Acknowledgments" href="#-acknowledgments"></a></p>
<p dir="auto">This project implements ideas from recent research including:</p>
<ul dir="auto">
<li>"More for Keys, Less for Values: Adaptive KV Cache Quantization" (2024)</li>
<li>"Unifying KV Cache Compression for Large Language Models with LeanKV" (2025)</li>
</ul>
<p dir="auto">Additional credits:</p>
<ul dir="auto">
<li><a href="https://github.com/ggerganov/llama.cpp">llama.cpp</a> - Base implementation</li>
<li><a href="https://huggingface.co/TinyLlama" rel="nofollow">TinyLlama</a> - Test model</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contributing</h2><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto">Contributions are welcome! Please open an issue or submit a pull request.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🧠 Configuration Recommendations</h2><a id="user-content--configuration-recommendations" aria-label="Permalink: 🧠 Configuration Recommendations" href="#-configuration-recommendations"></a></p>
<ul dir="auto">
<li>
<p dir="auto"><strong>Best Overall</strong>: 🌟 <strong>K8V4</strong> 🌟 (8-bit keys, 4-bit values)</p>
<ul dir="auto">
<li>59% memory reduction with only 0.86% quality loss</li>
<li>Improved inference speed (+5.7% vs FP16)</li>
<li>Great balance of quality and efficiency</li>
</ul>
</li>
<li>
<p dir="auto"><strong>Absolute Maximum Memory Savings</strong>: K4V4 (4-bit keys and values)</p>
<ul dir="auto">
<li>72% memory reduction with ~6% quality loss</li>
<li>Good for memory-constrained devices</li>
<li>Acceptable for less sensitive applications</li>
</ul>
</li>
<li>
<p dir="auto"><strong>Best for Very Long Contexts</strong>: K8V4 or K4V4</p>
<ul dir="auto">
<li>Memory savings compound with context length</li>
<li>Run 2-3x longer contexts in the same memory budget</li>
</ul>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">🔮 Future Roadmap</h2><a id="user-content--future-roadmap" aria-label="Permalink: 🔮 Future Roadmap" href="#-future-roadmap"></a></p>
<ul>
<li> <strong>Adaptive Precision</strong>: Dynamic precision based on token importance</li>
<li> <strong>Layer-Specific Quantization</strong>: Different precision for different model layers</li>
<li> <strong>Model-Specific Optimizations</strong>: Tailored for Mistral, Phi-3, etc.</li>
<li> <strong>Web Demo</strong>: Interactive testing environment</li>
<li> <strong>Mobile Support</strong>: Adapting for iOS and iPadOS</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">📜 License</h2><a id="user-content--license" aria-label="Permalink: 📜 License" href="#-license"></a></p>
<p dir="auto">MIT</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🤝 Contributing</h2><a id="user-content--contributing" aria-label="Permalink: 🤝 Contributing" href="#-contributing"></a></p>
<p dir="auto">Contributions are welcome! Please open an issue or submit a pull request.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Thoughts on thinking (503 pts)]]></title>
            <link>https://dcurt.is/thinking</link>
            <guid>44008843</guid>
            <pubDate>Fri, 16 May 2025 19:09:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dcurt.is/thinking">https://dcurt.is/thinking</a>, See on <a href="https://news.ycombinator.com/item?id=44008843">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="container">
  <article id="4txa6fWsfsW1TNkdx4esmW">
	<time datetime="2025-05-16">May 16, 2025</time>
  <h2>
    <a href="https://dcurt.is/thinking">Thoughts on thinking</a>
  </h2>
	<p>I have been stuck. Every time I sit down to write a blog post, code a feature, or start a project, I come to the same realization: in the context of AI, what I’m doing is a waste of time. It’s horrifying. The fun has been sucked out of the process of creation because nothing I make organically can compete with what AI already produces—or soon will. All of my original thoughts feel like early drafts of better, more complete thoughts that simply haven’t yet formed inside an LLM. </p>

<p>I used to write prolifically. I’d have ideas, write them down, massage them slowly and carefully into cohesive pieces of work over time, and then–when they were ready–share them with the world. I’d obsess for hours before sharing anything, working through the strengths and weaknesses of my thinking. Early in my career, that process brought a lot of external validation. And because I think when I write, and writing is how I form opinions and work through holes in my arguments, my writing would lead to more and better thoughts over time. Thinking is compounding–the more you think, the better your thoughts become. </p>

<p>But now, when my brain spontaneously forms a tiny sliver of a potentially interesting concept or idea, I can just shove a few sloppy words into a prompt and almost instantly get a fully reasoned, researched, and completed thought. Minimal organic thinking required. This has had a dramatic and profound effect on my brain. My thinking systems have atrophied, and I can feel it–I can sense my slightly diminishing intuition, cleverness, and rigor. And because AI can so easily flesh out ideas, I feel less inclined to share my thoughts–no matter how developed.</p>

<p>I thought I was using AI in an incredibly positive and healthy way, as a bicycle for my mind and a way to vastly increase my thinking capacity. But LLMs are insidious–using them to explore ideas feels like work, but it’s not real work. Developing a prompt is like scrolling Netflix, and reading the output is like watching a TV show. Intellectual rigor comes from the journey: the dead ends, the uncertainty, and the internal debate. Skip that, and you might still get the insight–but you’ll have lost the infrastructure for meaningful understanding. Learning by reading LLM output is cheap. Real exercise for your mind comes from building the output yourself. </p>

<p>The irony is that I now know more than I ever would have before AI. But I feel slightly dumber. A bit more dull. LLMs give me finished thoughts, polished and convincing, but none of the intellectual growth that comes from developing them myself. The output from AI answers questions. It teaches me facts. But it doesn’t really help me <em>know</em> anything new. </p>

<p>While using AI feels like a superhuman brain augmentation, when I look back on the past couple of years and think about how I explore new thoughts and ideas today, it looks a lot like sedation instead. </p>

<p>And I’m still stuck. But at least I’m here, writing this, and conveying my raw thoughts directly into your brain. And that means something, I think, even though an AI could probably have written this post far more quickly, eloquently, and concisely. It’s horrifying. </p>

<hr>

<p>This post was written entirely by a human, with no assistance from AI. (Other than spell- and grammar-checking.)</p>

  <figure id="kudo_4txa6fWsfsW1TNkdx4esmW">
    <a href="#kudo">
      
    </a>
    <p>399</p>
    <p>Kudos</p>
  </figure>
  <figure id="kudo_side_4txa6fWsfsW1TNkdx4esmW">
    <a href="#kudo">
      
    </a>
    <p>399</p>
    <p>Kudos</p>
  </figure>
</article>

</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[X X^t can be faster (181 pts)]]></title>
            <link>https://arxiv.org/abs/2505.09814</link>
            <guid>44006824</guid>
            <pubDate>Fri, 16 May 2025 15:45:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2505.09814">https://arxiv.org/abs/2505.09814</a>, See on <a href="https://news.ycombinator.com/item?id=44006824">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="labstabs"><p>
    <label for="tabone">Bibliographic Tools</label></p><div>
      <h2>Bibliographic and Citation Tools</h2>
      <div>
          <p><label>
              
              <span></span>
              <span>Bibliographic Explorer Toggle</span>
            </label>
          </p>
          
        </div>
        
        
        
        
    </div>


    <p>
    <label for="tabtwo">Code, Data, Media</label></p><div>
      <h2>Code, Data and Media Associated with this Article</h2>
      

      
      
      
      
      
      
      
      
    </div>


      <p>
      <label for="labstabs-demos-input" id="labstabs-demos-label">Demos</label></p><div>
        <h2>Demos</h2>
        
        
        
        
      </div>
      <p>
      <label for="tabfour">Related Papers</label></p><div>
        <h2>Recommenders and Search Tools</h2>
        
        
        
        
        
      </div>

      <p>
      <label for="tabfive">
        About arXivLabs
      </label></p><div>
            <h2>arXivLabs: experimental projects with community collaborators</h2>
            <p>arXivLabs is a framework that allows collaborators to develop and share new arXiv features directly on our website.</p>
            <p>Both individuals and organizations that work with arXivLabs have embraced and accepted our values of openness, community, excellence, and user data privacy. arXiv is committed to these values and only works with partners that adhere to them.</p>
            <p>Have an idea for a project that will add value for arXiv's community? <a href="https://info.arxiv.org/labs/index.html"><strong>Learn more about arXivLabs</strong></a>.</p>
          </div>

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[MIT asks arXiv to take down preprint of paper on AI and scientific discovery (323 pts)]]></title>
            <link>https://economics.mit.edu/news/assuring-accurate-research-record</link>
            <guid>44006426</guid>
            <pubDate>Fri, 16 May 2025 15:09:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://economics.mit.edu/news/assuring-accurate-research-record">https://economics.mit.edu/news/assuring-accurate-research-record</a>, See on <a href="https://news.ycombinator.com/item?id=44006426">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="block-economics-content">
				  <p><span>Following the posting of the preprint paper “Artificial Intelligence, Scientific Discovery, and Product Innovation” on arXiv in November 2024, concerns were raised about the integrity of the research. MIT conducted an internal, confidential review and</span><span>&nbsp;</span><span>concluded that the paper should be withdrawn from public discourse.</span></p><p><span>In an effort to correct the research record, MIT has contacted arXiv</span><span>&nbsp;</span><span>to formally request that the paper be withdrawn</span><span>&nbsp;</span><span>and</span><span>&nbsp;</span><em><span>The</span></em><span>&nbsp;</span><em><span>Quarterly Journal of Economics</span></em><span>, where it had been submitted. The letter on behalf of the Committee on Discipline</span><span>&nbsp;</span><span>to arXiv</span><span>&nbsp;</span><span>states:</span></p><p><span>"Earlier this year, the COD conducted a confidential internal review based upon allegations it received regarding certain aspects of this paper.&nbsp; While</span><span>&nbsp;</span><span>student privacy laws and MIT policy prohibit the disclosure of the outcome of this review, we are writing to inform you that MIT has no confidence in the provenance, reliability or validity of the data and has no confidence in the veracity of the research</span><span>&nbsp;</span><span>contained in the paper.&nbsp; Based upon this finding, we also believe that the inclusion of this paper in arXiv may violate arXiv’s</span><span>&nbsp;</span><a href="https://urldefense.com/v3/__https:/info.arxiv.org/help/policies/code_of_conduct.html__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMsa65jiw$" target="_blank" title="https://urldefense.com/v3/__https://info.arxiv.org/help/policies/code_of_conduct.html__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMsa65jiw$"><span>Code of Conduct</span></a><span>.</span></p><p><span>"Our understanding is that only authors of papers appearing on arXiv can submit withdrawal requests.&nbsp; We have directed the author to submit such a request, but to date, the author has not done so. Therefore, in an effort to clarify the research record, MIT respectfully request that the paper be marked as withdrawn from arXiv as soon as possible."</span></p><div><p><span>Preprints, by definition, have not yet undergone peer review. MIT took this step in light of the publication’s prominence in the research conversation and because it was a formal step it could take to mitigate the effects of misconduct. The author is no longer at MIT.</span></p><p><span><strong>Research integrity is paramount</strong></span><span><strong>&nbsp;</strong></span></p></div><p><span>Research integrity at MIT is paramount – it lies at the heart of what we do and is central to MIT’s mission. The Institute has</span><span>&nbsp;</span><a href="https://urldefense.com/v3/__https:/policies.mit.edu/policies-procedures/100-academic-and-research-misconduct-and-dishonesty/101-procedures-dealing__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMPJdF0dw$" target="_blank" title="https://urldefense.com/v3/__https://policies.mit.edu/policies-procedures/100-academic-and-research-misconduct-and-dishonesty/101-procedures-dealing__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMPJdF0dw$"><span>policies and confidential processes</span></a><span>&nbsp;</span><span>in place to assess concerns about research integrity, which can be viewed</span><span>&nbsp;</span><a href="https://urldefense.com/v3/__https:/policies.mit.edu/policies-procedures/100-academic-and-research-misconduct-and-dishonesty/101-procedures-dealing__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMPJdF0dw$" target="_blank" title="https://urldefense.com/v3/__https://policies.mit.edu/policies-procedures/100-academic-and-research-misconduct-and-dishonesty/101-procedures-dealing__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMPJdF0dw$"><span>online here</span></a><span>.</span><span>&nbsp;</span></p><p><span>Professor Daron Acemoglu and Professor David Autor, who are acknowledged in a footnote in the paper in question, have offered the following statement:</span><span>&nbsp;</span></p><p><span>“The paper 'Artificial Intelligence, Scientific Discovery and Product Innovation' by a former second-year PhD student in the Department of Economics at MIT, is already known and discussed extensively in the literature on AI and science, even though it has not been published in any refereed journal. Over time, we had concerns about the validity of this research, which we brought to the attention of the appropriate office at MIT. In early February, MIT followed its written policy and conducted an internal, confidential review. While student privacy laws and MIT policy prohibit the disclosure of the outcome of this review, we want to be clear that we have no confidence in the provenance, reliability or validity of the data and in the veracity of the research.</span><span>&nbsp;</span></p><p><span>“We are making this information public because we are concerned that, even in its non-published form, the paper is having an impact on discussions and projections about the effects of AI on science. Ensuring an accurate research record is important to MIT. We therefore would like to set the record straight and share our view that at this point the findings reported in this paper should not be relied on in academic or public discussions of these topics.”</span><span>&nbsp;</span></p><p><span>###</span></p>

			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: I'm Peter Roberts, immigration attorney, who does work for YC and startups. AMA (224 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=44006381</link>
            <guid>44006381</guid>
            <pubDate>Fri, 16 May 2025 15:05:32 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=44006381">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <tbody><tr id="44008469"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008469" href="https://news.ycombinator.com/vote?id=44008469&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Are there any difficulties in obtaining TN Visas related to the stage of the sponsor company?</p><p>More specifically, is it feasible for a Canadian operating startup to open a US entity and employ Canadian engineers under the TN Visa category? This would be an early stage non-VC backed company, but profitable and paying above prevailing market wage.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006665"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006665" href="https://news.ycombinator.com/vote?id=44006665&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>There has been a bunch of chatter in Canadian founders whatsapp groups about people getting detained for long periods of time coming into the states either at SFO or pre-clear in Canada. Are you advising Canadians travel with any additional documentation these days?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006947"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006947" href="https://news.ycombinator.com/vote?id=44006947&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Im a Canadian and go to the US for work fairly regularly. Something I didn’t realize is that the laws are different in preclearance areas.
<a href="https://laws-lois.justice.gc.ca/eng/acts/P-19.32/FullText.html" rel="nofollow">https://laws-lois.justice.gc.ca/eng/acts/P-19.32/FullText.ht...</a></p><p>For example, you are allowed to withdraw your application to enter the US and leave the preclearance area. Additionally you are bound by different laws for search and siezure.</p><p>At this point I am only going to the US through preclearance areas because you are still on Canadian soil and bound by Canadian laws. That doesn’t necessarily mean that USBP won’t break those laws, but the Canadian courts get to decide if laws were broken instead of the US courts.</p><p>One thing I have not found a straight answer on yet is if USBP can compel you to unlock your electronic devices in a preclearance area. My current strategy is if I am asked to do that in preclearance I will withdraw my application to enter because Im not letting anyone access to my phone.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008147"><td></td></tr>
            <tr id="44007205"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007205" href="https://news.ycombinator.com/vote?id=44007205&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>That’s only the Canada -&gt; US leg, though. They can still grab your phone on the US -&gt; Canada return trip, ne pas?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007314"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007314" href="https://news.ycombinator.com/vote?id=44007314&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Historically the US has not had much "exit control".</p><p>For example leaving the Schengen area it's obligatory to go through "exit immigration" and get your passport stamped. Leaving the US, you show your passport to the airline, but usually there is no formal immigration check at all.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008256"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44008256" href="https://news.ycombinator.com/vote?id=44008256&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>IIRC, [a long time ago?] you MUST give a piece of paper to a guy/gal near the exit, so they remember to mark your exit in the database. I don't think they check too much, just collect the pieces of papers? (I don't remember the details, but if there was a scary warning if you forget to give it and they forget to update the database.)</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007653"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44007653" href="https://news.ycombinator.com/vote?id=44007653&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>That’s because the airline updates your I-94 for you. If they don’t you risk overstaying. There is a website you can use to validate that they did everything correctly.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008022"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_44008022" href="https://news.ycombinator.com/vote?id=44008022&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yeah, once upon a time you had to return your actual I-94 stamped to your passport to the airline, but today this is done automatically on the background</p>
              </div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44007451"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007451" href="https://news.ycombinator.com/vote?id=44007451&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Sure. Or USBP could just be waiting for you as your flight lands in the US and then immediately detain you. You have no rights in a US airport.</p><p>I have not ever heard of that happening, but if I did hear about it happening to normal people (i.e. people without a criminal warrant) I would probably stop going to the US.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008306"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44008306" href="https://news.ycombinator.com/vote?id=44008306&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>nit: USBP (US Border Patrol) is not at the ports of entry. Border Patrol is for the land border _between_ ports of entry. CBP (customs and border protection) is the organization that does immigration control at the ports of entry.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44007317"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007317" href="https://news.ycombinator.com/vote?id=44007317&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>There's no question that it's tougher now to get into the U.S., whether from Canada or another country via pre-clearance or via a land crossing, and there can be significant differences among airports and land crossings. Canadians are unique because they are visa exempt and CBP feels particularly emboldened to reassess their admissibility every time they enter. The keys are to avoid bad pre-clearance offices and land crossings and even more importantly to carry the right paperwork, which varies depending on the specific status being sought. There is also a huge difference between seeking entry as a visitor versus seeking entry as a worker with a visa, with the former much more challenging now.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007414"><td></td></tr>
            <tr id="44007515"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007515" href="https://news.ycombinator.com/vote?id=44007515&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I was thinking just for folks going down regularly on a B1, do you think it's worth having a copy of your lease or rental agreement in Canada or something similar? It seems most of the stuff I was seeing is about Canadians establishing roots using a B1.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007754"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007754" href="https://news.ycombinator.com/vote?id=44007754&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The concerns on the part of CBP when someone is seeking admission as a B-1 business visitor are the appropriateness of the applicant's proposed activities and the applicant's ties to home/intent to return home (Canada). So you want to keep in your back pocket documents that address these concerns, such as a foreign lease agreement, foreign pay statement, and evidence of the purpose, such as a printout of the conference being attended or a letter of invitation. It's also really important to be prepared to provide specifics about your purpose, who, what, when, and where.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007789"><td></td></tr>
            <tr id="44007776"><td></td></tr>
                              <tr id="44008176"><td></td></tr>
                  <tr id="44006984"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006984" href="https://news.ycombinator.com/vote?id=44006984&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>If an individual is transgender, not a US citizen, and has a passport with an updated gender marker (or X), can they still get a visa? Or is submitting an official document with "wrong information" enough for a refusal?</p><p>What about existing visas?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008077"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008077" href="https://news.ycombinator.com/vote?id=44008077&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The short answer is Yes, this individual can still get a U.S. visa. But I'd still recommend that this person speak with an attorney before applying for a visa or traveling to the U.S.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007821"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007821" href="https://news.ycombinator.com/vote?id=44007821&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I'm a Canadian software developer who'd like to join an American startup so naturally I've been applying to a bunch of jobs. More specifically, I'm looking to go with TN visa.</p><p>In most job applications, I need to answer the two following questions 1) Are you legally authorized to work in the US? and 2) Will you now or in the future require sponsorship? I'm looking for advice on how I should be answering these questions.</p><p>For example, I believe I should technically be answering NO to 1) and YES to 2), but I'm slightly unsure about this.</p><p>I've heard recently that some Canadians actually recommend answering YES to 1) as getting a TN visa is very simple and not too much harder than just hiring an American. The idea is that when you answer NO to 1) that recruiters (and especially startups who are often more naive about visas) will lump you in as being hard to hire like immigrants who come to the US on the H1B and then filter out your application.</p><p>As for question 2), because the TN is a "Nonimmigrant" visa, does this technically mean I can answer NO here?</p><p>Basically in summary, how would you recommend I answer these questions? I don't want my applications to get auto filtered, but I'd also like to be as honest as possible.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008272"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008272" href="https://news.ycombinator.com/vote?id=44008272&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi, I just spent 2 months interviewing and hiring candidates for 4 open (remote) eng positions at a US startup. Answering "Yes" to 1 when you don't have a green card or US citizenship would be a way to guarantee that I would rescind your offer and make a mental note to never trust you. I don't think you should do that.</p><p>We actually hired some Canadian talent -- we just used an EOR in Canada. The EOR cost us about $600 a month per head as their cut, but it was worth it to get the excellent developers we have through that deal.</p><p>The reason why some/many firms would filter out anyone saying NO to (1) is that getting a visa sponsored requires significant work of a specialized nature and our company certainly is not equipped to do that because we don't have people who have the time and skills to deal with the insane demands of our government to obtain the necessary document (This is not a new or partisan issue btw, I remember losing a great developer in the Obama years due to the feds giving her the run-around).</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008435"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44008435" href="https://news.ycombinator.com/vote?id=44008435&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>&gt; Answering "Yes" to 1 when you don't have a green card or US citizenship would be a way to guarantee that I would rescind your offer</p><p>This might actually violate EEOC. You would discriminating on the basis on nationality. The question that was asked was "Are you legally authorized to work in the US?" and Canadian have a limited legal right to work in the US under NAFTA.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44008094"><td></td></tr>
                  <tr id="44008139"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008139" href="https://news.ycombinator.com/vote?id=44008139&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I have a US passport and am a naturalized US citizen however due to some sort of clerical error my passport says I was born here (even though you have to staple your immigration cert to the passport application). I never even noticed it until I'd been in and out of the country a few times, my passport is about to expire and I'm worried about having trouble trying to get it fixed, what course of action should I take, I'd really like to have a valid US passport.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008196"><td></td></tr>
                  <tr id="44006833"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006833" href="https://news.ycombinator.com/vote?id=44006833&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for doing the AMA!</p><p>I'm a US citizen born abroad - I got my citizenship via (I believe) INA 320 when I was a child. I have a US-born father who was not eligible to pass on his citizenship at the time of my birth. I lived in the US for most of my childhood up until ~2015 (initially as an LPR), and at some point, I obtained a US passport.</p><p>I don't have a certificate of citizenship, only a US passport. Given the way the US is going, I'm concerned that one day I'm going to apply renew my passport or otherwise have to prove my citizenship, and I'm not going to be able to sufficiently document it. Is this a real risk? Would you advise applying for a CoC in my circumstances? Am I even eligible to apply for one given that I live abroad? What other steps if any should I take to protect my status?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007354"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007354" href="https://news.ycombinator.com/vote?id=44007354&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>You still can apply for a Certificate of Citizenship but there's a cost associated with it and I really don't think it's necessary or even advisable because you are now giving the government a chance to reassess its previous approval. A U.S. passport is always considered sufficient evidence of U.S. citizenship.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007444"><td></td></tr>
                <tr id="44007997"><td></td></tr>
                        <tr id="44007811"><td></td></tr>
                <tr id="44008032"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44008032" href="https://news.ycombinator.com/vote?id=44008032&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>In order for U.S. citizens to pass on their citizenship to children born abroad, they need to have resided in the U.S. for a certain period prior to the birth of the child.</p><p>The amount of time the parent has to have lived in the U.S. varies but usually it’s 5 years with at least 2 years after the age of 14.</p><p>If they don’t automatically pass it on and they want to move back to the U.S., they need to apply for green cards for their kids.</p><p>Since 2001, anyone under 18 who has a green card and lives with a U.S. citizen parent becomes a citizen automatically by process of law, under INA 320. Unfortunately documenting this is <i>not</i> automatic. A lot of people who came before 2001 don’t even know that they’re citizens. The application for a certificate costs a lot of money, so often parents tend to skip it if they don’t feel it’s necessary.</p><p>See below for the residency criteria.</p><p><a href="https://travel.state.gov/content/travel/en/legal/travel-legal-considerations/us-citizenship/Acquisition-US-Citizenship-Child-Born-Abroad.html" rel="nofollow">https://travel.state.gov/content/travel/en/legal/travel-lega...</a></p><p>INA 320: <a href="https://www.uscis.gov/policy-manual/volume-12-part-h-chapter-4" rel="nofollow">https://www.uscis.gov/policy-manual/volume-12-part-h-chapter...</a></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44008375"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008375" href="https://news.ycombinator.com/vote?id=44008375&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Can you clarify the current status of the U4U program? Is it limited to TPS only, or are there other pathways available? Also, what do you think the government’s broader intentions are with U4U?</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008358"><td></td></tr>
            <tr id="44008177"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008177" href="https://news.ycombinator.com/vote?id=44008177&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for doing this Peter. Quick question.</p><p>I'm in the US using E-3 visa since July 2024, working as a software engineer for a smallish non-faang company. I am fully remote in the Bay area and there is no office, but technically the company is based in NYC. New hiring for SWEs is outside the US. There haven't been layoffs in the last 12 months and it doesn't seem like there will be.</p><p>What is the best way for me to pursue a green card? I am aware that E-3 is not the ideal path, but is workable with some risks. My main concern is the state of the SWE market, with so many candidates looking for work.</p><p>I expect that any labour market test will fail as there will be suitable US candidates that appear. Is there any way to navigate this situation? What are the chances of success in this market? Would joining a big-tech company help?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008278"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008278" href="https://news.ycombinator.com/vote?id=44008278&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>When it comes to Canadians working in the US on a TN, are we allowed to accept promotions (title, comp or both) without going through reapproval of our visa? Are there any nuances here like caps on how high a salary increase could be before needing a reassessment? Maybe increases in equity don’t count?</p><p>Also if the reassessment is denied does your original visa still remain valid or are you risking it all for the promotion?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006758"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006758" href="https://news.ycombinator.com/vote?id=44006758&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi Peter, thanks for doing this AMA.</p><p>I am traveling to the US soon for work from Europe. I have been reading a lot of articles about detentions at US airports and phone checks.  
My mindset has always been to never give my personal phone for an inspection, but times has changed now and it has been happening a lot more frequently.  
I am wondering what is the best course of action, prior to travel and if asked to give your phone and password. Also, what happens if you refuse to do so? Is the worst case scenario that they will send you back to where you came from?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007002"><td></td></tr>
                <tr id="44007846"><td></td></tr>
            <tr id="44007374"><td></td></tr>
                  <tr id="44006813"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006813" href="https://news.ycombinator.com/vote?id=44006813&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Not legal advice but I'm a US citizen and when I've refused to answer their intrusive questions the worst that has happened to me is they imprisoned me, stripped me naked and searched me, got a fraudulent warrant for an internal body search, and then sent me the bill after dumping me at the border when they found nothing.</p><p>Enjoy.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006884"><td></td></tr>
                <tr id="44007709"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007709" href="https://news.ycombinator.com/vote?id=44007709&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Yes.</p><p>They claimed a dog alerted on me.  An anonymous dog, handled by an unnamed officer in the affidavit, which was used as 3rd party inter-species hearsay via a HSI officer to the assistant attorney and judge.</p><p>A dog did not alert on me.  In fact it is against CBP policy to use dogs on a person, they are to be used on your articles.</p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44008325"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008325" href="https://news.ycombinator.com/vote?id=44008325&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>For what it’s worth, I recently travelled to the US from the Middle East (into Houston) and was also concerned about this.</p><p>My solution was to delete apps I didn’t want to be searched (e.g. WhatsApp) after having made a cloud backup, then enabling airplane mode.</p><p>CBP’s website [1] states:</p><p>&gt; Prior to beginning a basic or advanced search, CBP Officers will ensure all data and network connections are disabled</p><p>And no, I wasn’t searched (thankfully!)</p><p>[1] <a href="https://www.cbp.gov/travel/cbp-search-authority/border-search-electronic-devices" rel="nofollow">https://www.cbp.gov/travel/cbp-search-authority/border-searc...</a></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007367"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007367" href="https://news.ycombinator.com/vote?id=44007367&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The short answer is that CBP has the right to ask to see your electronic devices and you have the right to refuse but if you refuse (and you are not a U.S. green card holder or citizen), CBP likely will deny you admission and send you home.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007904"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007904" href="https://news.ycombinator.com/vote?id=44007904&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I had a friend who was asked to unlock her phone, and she did, and then… they did nothing. They watched her do it and moved on to the next question.</p><p>Seems like asking someone to do this is just a good test to see the kind of individual they’re dealing with. It’s not practical to thoroughly search phones at scale and plus they know people can just have burner phones anyway. If you’re cagey and combative they know you’re a problem.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007728"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007728" href="https://news.ycombinator.com/vote?id=44007728&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>&gt; My mindset has always been to never give my personal phone for an inspection</p><p>Get a burner phone! Upload your entire data to the cloud as well. Either you can store your phone in the check-in luggage or restore your data once you've arrived at your US location.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007126"><td></td></tr>
            <tr id="44007125"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007125" href="https://news.ycombinator.com/vote?id=44007125&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm wondering if anyone uses burner phones. I have an old phone, and a second phone number that I got from Tello for $5 a month, intending to use it for a business number, but then never did. It's currently completely detached from anything personal and I figure if I do need to go over the border I could just use that still for any communication and internet access, but personal details would be at a very bare minimum.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006967"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006967" href="https://news.ycombinator.com/vote?id=44006967&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Given the very real risks involved, can't your employer waive the travel requirement for the next few years?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007774"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007774" href="https://news.ycombinator.com/vote?id=44007774&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter, Im currently on H1B with I-140 approved. Im thinking of starting my own company and have other co-founders who are US citizens / GC holders. What is the path for me to have a visa while also being able to start my company.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008233"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008233" href="https://news.ycombinator.com/vote?id=44008233&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Because you have cofounders, an H-1B might work.  The other option is the O-1.  You should schedule a consultation with an immigration attorney to determine the best path.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44008352"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008352" href="https://news.ycombinator.com/vote?id=44008352&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for doing an AMA!</p><p>Should folks on H1B visas who have an ongoing green card application via PERM be concerned at all?</p><p>Would you advise not traveling until the i-495 is filed?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007994"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007994" href="https://news.ycombinator.com/vote?id=44007994&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi Peter,</p><p>My I-140 was approved in June 2013 under the EB2 category (H1B). I later downgraded to EB3 and filed my I-485 when my priority date became current back in 2021. I received my EAD in 2022 and have been working on EAD since then.</p><p>According to the current visa bulletin, my priority date is expected to become current soon. However, I have a couple of concerns:</p><p>The job title I had when I filed the I-485 is different from my current role.</p><p>I have also changed employers since then.</p><p>I understand that I may need to submit a new I-485J.</p><p>Given that I was promoted and my current title is significantly different from the one in my original petition, could this pose any challenges to my I-485 application?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008151"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008151" href="https://news.ycombinator.com/vote?id=44008151&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yes, you and your current employer need to file an I-485J if proceeding based on the approved EB3 petition but whether you will have an issue because of the change in positions will need to be analyzed (although you probably are fine). Does your employer have an immigration attorney because this is something that he or she should analyze?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008225"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44008225" href="https://news.ycombinator.com/vote?id=44008225&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yes, my employer does have an immigration attorney. I applied 485 as a Programmer Analyst. But now I work as a Director, Applications with a more diverse application suite than what I originally worked on. The labor and wage and roles/ responsibilities will not create any problems ?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008248"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44008248" href="https://news.ycombinator.com/vote?id=44008248&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Probably not but I can't advise because I don't have all the paperwork in front of me.  The company's immigration attorney should be able to advise.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44006594"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006594" href="https://news.ycombinator.com/vote?id=44006594&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>If possible, I'd like to hear about your typical day/week of work (is anything "typical" in your line of work?). Thanks!</p><p>Edit: Typo</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006687"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006687" href="https://news.ycombinator.com/vote?id=44006687&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>For me, I have about 15 30-minute calls each day with existing and potential clients during which we discuss their chances of getting temporary work visas or green cards and issues around international travel. The rest of the time, I'm reviewing applications and responding to emails from staff and clients. It sounds pretty mundane but despite the stresses of the job and the challenges associated with the new administration, I still really enjoy what I do because I have a wonderful team and I get to interact with really smart people doing super interesting things and help them realize their dream of living and working in the U.S.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006826"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44006826" href="https://news.ycombinator.com/vote?id=44006826&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I’m sure each case is unique, but there must be a lot of similar situations and repeat issues.</p><p>How often do you get a new curveball in the process? Though perhaps this is an unusual year to be asking that.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007419"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007419" href="https://news.ycombinator.com/vote?id=44007419&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Good question.  There are a lot of repeat issues but because every person's background is different and every person's circumstances are different, every case is different, which keeps our work challenging and interesting.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44006728"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006728" href="https://news.ycombinator.com/vote?id=44006728&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>As someone who is a US Citizen, what is something about the immigration process that I probably do not know about, but causes a lot of issues/could be improved.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007083"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007083" href="https://news.ycombinator.com/vote?id=44007083&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I have lots of examples:</p><p>* By law, the US can only issue 140,000 employment-based green cards per year, and no more than 7% to one country. This means people from India or China can face a 100+ year backlog, even after they have proved they qualify for a green card. There's no cap on marriage-based green cards.</p><p>* Processing times for many green cards (i.e. for people who have already qualified, but just need the physical green card), are 12-24 months.</p><p>* USCIS still expects many applications to be sent by mail. Some applications (like O-1s, EB-1s) require hundreds of pages of evidence, and it all needs to be printed out on 8.5x11" paper, for USCIS to scan it in on B+W scanners. This means that there is no error checking (e.g. on fee amounts), and if you have made a mistake, you might not know about it for weeks. Also, it means your petition cannot include working hyperlinks, webpages, or videos - the USCIS officer judges the petition by scrolling through a 400+ page PDF.</p><p>* The 'standard' post-graduate work visa is the H-1B. It's entirely lottery-based, not merit-based, and typically there are 400,000+ people competing for 85,000 visas. Many qualified people are forced to leave the US each year because they didn't get selected in the lottery.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007338"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007338" href="https://news.ycombinator.com/vote?id=44007338&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>The standard for employment-based permanent residency (green card) is extraordinarily high. As in, would likely place you in the top 1-5% of the most successful people in the country. 
That, or you have to invest $800k and create 10 jobs.</p><p>No other country in the world requires foreigners to be significantly more qualified than its own population. You can move to France with a regular paying job no problem or just a few thousand euros in savings. Impossible in the US. You have to be extraordinary (they literally call their criteria, "extraordinary abilities") or you have to make top 5% money (so if you work in tech, that would be at least $500k-1M/year in many cases).</p><p>The only other way is to get married. This means there is a massive discrepancy between the qualifications of self made immigrants, versus those simply lucky enough to fall in love. It's pretty unfair, but that's how it works. But that's also the reason so many immigrants are so successful in the US, the bar is so high, that it creates a massive motivation to succeed to become eligible for the criteria.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007731"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007731" href="https://news.ycombinator.com/vote?id=44007731&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Many countries have quite strict limitations on immigration for work. Many countries do not permit any immigration without visa sponsorship. The U.S. permits sponsored immigration with a quite reasonable bar (e.g: H1B, L-1). Many countries have similar lottery systems, quotas and minimum salary requirements. Given the demand for immigration into the U.S., it's not too surprising to see the limits (and restrictions) be more prominent.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007562"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007562" href="https://news.ycombinator.com/vote?id=44007562&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Maybe for instant <i>green card</i> you have to be extraordinary, but for regular employment-based immigration you don’t have to be.</p><p>The path is H1-B -&gt; Green Card -&gt; US citizen (I have done it), and to get H1-B your potential employer gotta post that $60-80k/year job and show that there were no qualifying US applicants for it.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008438"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44008438" href="https://news.ycombinator.com/vote?id=44008438&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Not related, but to add some woes of the american immigration system.</p><p>There is no instant green card.</p><p>If a truly extraordinary Indian-born person (say a Nobel laureate or olympic gold medalist) files for a green card today, they will be waiting for 7-10 years to get a green card. At this point, it may be worse too, because this category's priority date has not moved a single day in 8 months.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007643"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007643" href="https://news.ycombinator.com/vote?id=44007643&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>&gt; You can move to France with a regular paying job no problem or just a few thousand euros in savings</p><p>Unless something has changed dramatically in the last decade this is patently false. Getting an EU work permit was historically very hard with employers having to demonstrate that a position can't be filled by an EU citizen before a non-EU citizen candidate can be considered.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007984"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007984" href="https://news.ycombinator.com/vote?id=44007984&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Indeed those are the rules but on a practical level it seems pretty simple to get a visa if the company had an even reasonably competitive process. Though I moved to Europe 12 years ago (and went through getting work permits twice), maybe it's gotten harder.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007738"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007738" href="https://news.ycombinator.com/vote?id=44007738&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I am not a lawyer, but my understanding is the extraordinary ability does not have to germane to your employment. I am aware of the the story of Gabby Franco - who appeared on a season of Top Shot years ago. She was on the Venezuela Olympic pistol team for the 2000 Summer Olympics in Australia. This status as an Olympian got her entry into the USA and eventually citizenship. <a href="https://en.wikipedia.org/wiki/Mar%C3%ADa_Gabriela_Franco" rel="nofollow">https://en.wikipedia.org/wiki/Mar%C3%ADa_Gabriela_Franco</a></p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007484"><td></td></tr>
                        <tr id="44008227"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008227" href="https://news.ycombinator.com/vote?id=44008227&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>What do you think about Nexus... Do you think Nexus holders enjoy the best of both worlds, less hassle at the border, 2 citizenships for 1 type of thing (but not really) as long as you don't have criminal charges?</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007358"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007358" href="https://news.ycombinator.com/vote?id=44007358&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hey Peter! I'm going to pose a question that I think is tangential, but still related.</p><p>With genAI and LLMs making way into every profession, how much of an impact have you seen on the immigration law side? Have these style of tools made your job easier, or are they adding more confusion and uncertainty?</p><p>Given the rapidly changing landscape (on the immigration side; what is valid today may not be valid tomorrow, and everything seems kind of up to the best guess of the practitioner) do you see these tools (potentially) causing more harm than good (to specific individual cases)?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008267"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008267" href="https://news.ycombinator.com/vote?id=44008267&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm probably the last person to provide advice about technology but AI is helping immigration attorneys significantly, primarily in the drafting of arguments. That being said, there's still a critical role to be played by immigration attorneys to determine the best strategy, to provide advice on travel and other issues, and ultimately to review and edit anything that is "drafted" by AI.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44008260"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008260" href="https://news.ycombinator.com/vote?id=44008260&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hello! I do have concerns relating to the U.S. so I will put my questions out there.
I know somebody who is a U.S. citizen, however they are originally from Perú. They have official citizenship meaning they went through the whole process and gotten those documents.</p><p>Are they at risk of losing their citizenship and being deported with the current administration's standing on immigration?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006678"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006678" href="https://news.ycombinator.com/vote?id=44006678&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Maybe a dumb question, but... I'm a Canadian who would qualify for a TN visa if I worked in the States, but don't currently have a visa or green card. On the online submission form for job openings, it always asks "Are you legally entitled to work in the US?". Am I meant to answer yes or no to that?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006850"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006850" href="https://news.ycombinator.com/vote?id=44006850&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Not a lawyer but have been working in the US on a TN status for multiple employers and I would answer yes and discuss further with the recruiter or hiring manager.</p><p>TN status is conceivably something you could get without help from the employer (though even the smallest startup hired one to help me set up a package). What you need is basically proof that a company wants to hire you (offer letter), evidence that the company exists, and proof that you fall in one of the TN occupations.</p></div></td></tr>
        </tbody></table></td></tr>
                      <tr id="44007530"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007530" href="https://news.ycombinator.com/vote?id=44007530&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Unfortunately, the correct answer is No because until you have the TN, you are not legally entitled to work in the U.S.  Of course, this means that you will be excluded automatically for consideration of certain jobs.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007411"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007411" href="https://news.ycombinator.com/vote?id=44007411&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Also not a lawyer, but wanted to second what jsbg said.</p><p>I've been through this process <i>many</i> times, and I would always say yes and then mention with the recruiter (even if I had to explain that the process was basically "asking politely for permission at the border").</p><p>The underlying question that employers really care about is "will you be legally allowed to accept a job offer without unexpected expenses or delays". Even if you file through USCIS (and not petition at the point of entry), you can (should) have an answer in 14 days and ~2k in fees, which is 1) a drop in the bucket for any hiring budget, and 2) not impactful to a hiring timeline.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44006668"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006668" href="https://news.ycombinator.com/vote?id=44006668&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for this Peter!</p><p>I am on an L1-B and part way through the green card process via PERM Labour Cert (application was submitted in Jan)</p><p>What are my options if I was laid off/company went under/perm cert rejected?</p><p>How long are the Perm labor cert applications you are doing taking (from start till the green card being issued)?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006749"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006749" href="https://news.ycombinator.com/vote?id=44006749&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Unfortunately, if you get laid off while in L-1B status before you are able to file an I-485 application, which is the last step in the green card process, you would need get no benefit from the PERM/green card process and would need to take an action within 60 days of the end of your employment to be able to remain in the U.S., by filing some type of application with USCIS. PERM processing is still really slow, over a year, but I'm seeing some indications that this might improve.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007085"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007085" href="https://news.ycombinator.com/vote?id=44007085&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>&gt;before you are able to file an I-485 application</p><p>qq and i'm double checking what my own immigration lawyer has already told me just because i'm nervous on this point. Is filing the i-485 the point at which you can stay?</p><p>I've filed an i-485 via US spouse and waiting to hear back but the 60day period is looming and obviously nervous on this point.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008281"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44008281" href="https://news.ycombinator.com/vote?id=44008281&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The filing of your I-485 application allows you to stay and still marriage-based green card applications are being approved quickly.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44008112"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008112" href="https://news.ycombinator.com/vote?id=44008112&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi Peter!</p><p>Given YC asks founders to apply for a batch just a few weeks (or months) before each batch starts, I am wondering if you run into issues with timing. Do you see issues with visa delays etc, that can cause founders to miss their batch?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008218"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008218" href="https://news.ycombinator.com/vote?id=44008218&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Most consulates are willing to schedule expedited appointments for YC founders but still if you are an applicant for an accelerator and don't have a B-1 visa and are not from a visa waiver/ESTA country, then at a minimum, you should book a visa application appointment now.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008401"><td></td></tr>
                        <tr id="44006939"><td></td></tr>
                <tr id="44007439"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007439" href="https://news.ycombinator.com/vote?id=44007439&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>See the ACLU guidance referenced in a previous comment.  There's no right to counsel during routine admission.  The right only arises when arrested or being investigated for a crime.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007616"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007616" href="https://news.ycombinator.com/vote?id=44007616&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hey Peter,</p><p>Currently living in the US, I applied for a green card via marriage (partner is GC holder) in March 2023. I received my AP and EAD over a year ago, but there has been zero movement on the I-485..</p><p>What are the options here?</p><p>Given the current political climate, I'm not comfortable leaving the US until I have the I-485. Is this fear warranted? Would really like to travel overseas, but don't want to end up getting detained on re-entry..</p><p>I understand the above is specific to my case, but perhaps you can answer in a general sense for anyone else who finds themselves in a similar position..</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008322"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008322" href="https://news.ycombinator.com/vote?id=44008322&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Without knowing all the facts, the delay probably is simply the result in the backlog in that green card category. Is your spouse eligible to become a U.S. citizen because this could speed up the process for you. Again without knowing all the facts, regarding travel, you are fine to travel; just carry your passport, advance parole, and marriage certificate (in your back pocket).</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008458"><td></td></tr>
                        <tr id="44007822"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007822" href="https://news.ycombinator.com/vote?id=44007822&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Have a friend who quit his job and overstayed his TN visa during The Pandemic. After going back to Canada for visiting family, his next visit to the US was denied at CBP, and he was given a 10 year entry ban with option to appeal at a facility across the river from Buffalo, NY. What are his options? Is this situation fixable with a new work visa?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008297"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008297" href="https://news.ycombinator.com/vote?id=44008297&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>A work visa/status won't help.  He has to deal with the overstay issue first, which he should be able to fix since presumably his overstay happened because he was unable to travel/depart before his status expired.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007138"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007138" href="https://news.ycombinator.com/vote?id=44007138&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Are O1 visa applications getting significantly more scrutiny nowadays?</p><p>I comfortably qualify for one, based on the USCIS criteria, but my employer (big tech company, big law firm for immigration) wants to wait one more year for another H1B attempt before trying this.</p><p>Hence I am wondering if switching jobs could potentially help here.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007842"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007842" href="https://news.ycombinator.com/vote?id=44007842&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>O1 is an inferior visa, so they are right that you should be trying for H1B before going for an O1. I'm assuming that you are on OPT or some other visa category. There is likely no advantage to getting an O1 in your current situation.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008443"><td></td></tr>
                  <tr id="44007397"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007397" href="https://news.ycombinator.com/vote?id=44007397&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Big tech is risk averse and avoids pursuing O-1s unless there's no other option and the candidate/employee is highly valued. But I haven't seen any change yet in the adjudication of O-1 petitions. Nearly all our O-1 petitions still get approved and when we receive a Request for Additional Evidence (or RFE), the issues raised are the same issues that were raised before January 2025.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008444"><td></td></tr>
            <tr id="44007913"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007913" href="https://news.ycombinator.com/vote?id=44007913&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Is it true that most big tech companies and possibly the startups you work with strongly prefer H-1B transfers over candidates who might have held an H-1B in the past (with an approved I-140), but are currently on a B-2? In your experience/opinion, is such a situation disadvantageous to the candidate's competitiveness in attaining employment at these coveted companies?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44007727"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007727" href="https://news.ycombinator.com/vote?id=44007727&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi Peter, thanks for the AMA.</p><p>I'm curious what gaps you see in firm operation software?</p><p>I work in legal tech and from what I've seen all of the software focuses on tasks and artifacts (e.g. the many AI letter drafters) as opposed to holistically understanding / optimizing business operation.</p><p>Does this fit your sense of the software landscape? Are there other opportunities here beyond case management etc?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007579"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007579" href="https://news.ycombinator.com/vote?id=44007579&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter - I'm on H1-B and not eligible for EB-1/2 or O-1. I filed for EB-5 through an RC and just got my EAD and I want to use that to start a startup in the US. If the underlying EB-5 petition is rejected after the startup is established, do you know if there is a path to re-sponsoring my H1-B through my own startup? I'm trying to understand whether I should wait for a proper green card before going down the startup route.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008214"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008214" href="https://news.ycombinator.com/vote?id=44008214&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hello! I do have concerns relating to the U.S. so I will put my questions out there.</p><p>I know somebody who is a U.S. citizen, however they are originally from Perú.
They have official citizenship meaning they went through the whole process and gotten those documents.</p><p>Are they at risk of losing their citizenship and being deported with the current administration standing on immigration?</p><p>And a separate question<i>(You don't have to answer this, but I will ask it however)</i></p><p>Is this anything I can do about this? I'm not willing to see myself worse off in 4 years after this situation.</p><p>And I want to do something about it, I'm aware you are just an attorney; but I haven't been able to find an answer nor think of an answer to what I could do; but I really want to do something about this, so what could I do?</p><p>However, thanks again for doing this AMA.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006739"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006739" href="https://news.ycombinator.com/vote?id=44006739&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter! Thank you for this!! A while back, ~10 months, I was rejected from a B1 visa in the US. However, I have now secured admission from Stanford and would need to apply for an F1 visa.
What can I do to make my case strong and ensure that the previous visa application does not affect my current F1 process?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007509"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007509" href="https://news.ycombinator.com/vote?id=44007509&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Unless there was a finding of fraud or misrepresentation, the previous denial shouldn't impact your F-1 visa application; the requirements/standards are different. That being said, because so much is at stake for you, I would recommend that you get an attorney involved. It should just involve one or two consultations so the cost shouldn't be much.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008359"><td></td></tr>
                        <tr id="44007467"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007467" href="https://news.ycombinator.com/vote?id=44007467&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hey Peter.</p><p>I'm currently under a O-1 visa and doing my GC application. I believe I'm the final stage, waiting for my date to be current in order to get an appointment at the embassy. I also started a new business on the side and applied to YC.</p><p>If I got into YC and/or raised fund for my company. Could I use that has a way to expedite the process for the GC appointment? Or should I start a new visa and then a new GC application?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008367"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008367" href="https://news.ycombinator.com/vote?id=44008367&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The details matter (the type of green card application, the green card category, the position held then, the new position, etc.) so it's impossible for me to comment. You should schedule a consultation with an immigration attorney.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44006763"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006763" href="https://news.ycombinator.com/vote?id=44006763&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Do L1B visa holders have reasonable chance of getting compelling circumstances EAD if their visa date isn't current for EB-3? I'm wondering if I should suggest that option for HR when they file the I-140 (or after if it's approved, whatever the process is).</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007452"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007452" href="https://news.ycombinator.com/vote?id=44007452&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>USCIS rarely issues I-140 EADs based on compelling circumstances unless there are government/national interests at stake or significant humanitarian issues.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007686"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007686" href="https://news.ycombinator.com/vote?id=44007686&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Okay, thanks. I was primarily wondering due to "Significant Disruption to the Employer" seems to be one of the possible categories and it's description sounded similar to reasons why one would get L1B visa.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44006562"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006562" href="https://news.ycombinator.com/vote?id=44006562&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Are the current policies in the US making it noticeably more difficult for you to secure work visas for your clients?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006618"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006618" href="https://news.ycombinator.com/vote?id=44006618&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Not yet. The main changes that we're seeing are with CBP at the ports of entry.  CBP is being much more aggressive in questioning those seeking admission, including searching electronic devices and even detaining applicants.  But nearly all our filings are still getting approved.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007829"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007829" href="https://news.ycombinator.com/vote?id=44007829&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I've been through customs all over the world for the past forty years, and US customs are some of the worst human beings I've ever encountered.  Why is that function such a shit show?</p><p>Very familiar with the need for LEO dumping grounds, especially at the federal level, so that's been my working assumption but I've never asked.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008194"><td></td></tr>
            <tr id="44007938"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007938" href="https://news.ycombinator.com/vote?id=44007938&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Because it can be, and nearly every administration has a ‘tough on illegal immigration’ stance - because the US is so desirable to go to.</p><p>A good Great Depression economic reset + insane facist government will reset that a little - but it will still be better than a huge number of places on the globe. Even if the gov’t targets immigrants.</p><p>A huge number of places with massive populations of people who would love to come over.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008184"><td></td></tr>
                <tr id="44008292"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_44008292" href="https://news.ycombinator.com/vote?id=44008292&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>No, that the market demand (relative to supply) favors shittiness and extractive brutality over positivity.</p><p>They are quite competent at their <i>actual</i> jobs, which aren’t the jobs you think they are.</p><p>Think DMV. Or your favorite shitty cable company ISP.</p></div></td></tr>
        </tbody></table></td></tr>
                                          <tr id="44007729"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007729" href="https://news.ycombinator.com/vote?id=44007729&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hello, I'm currently on an H1B waiting on my priority date (I'm Canadian but born in China), my H1B hits the 6 year mark next year. My wife is currently on a TN which expires next year.</p><p>Should she switch to H4 EAD under my H1B instead of renewing her TN?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008387"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008387" href="https://news.ycombinator.com/vote?id=44008387&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>She has not filed a green card application so she probably won't have an issue renewing her TN but if CBP or USCIS connects her to you, questions might be raised about her intent which could undermine her ability to renew her TN.  So, yes, an H-4 EAD would be safer (unless the current administration kills this benefit).</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007875"><td></td></tr>
                <tr id="44008008"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008008" href="https://news.ycombinator.com/vote?id=44008008&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Your comment is about coming for work or study, yet you linked to a story of someone who clearly abused/misused a tourist visa and got caught.  It was an egregious enough offense that the Canadian immigration officials wouldn't even let her enter Canada under the same pretense, which is what eventually led to her arrest.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008244"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44008244" href="https://news.ycombinator.com/vote?id=44008244&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>She literally came to coach surf and house sit.</p><p>The woman is effectively a British nanny who did chores for friends. She doesn't look like a threat to anyone.</p><p>Maybe your afraid of British nannies baking pies and changing litter boxes, I'm not.</p><p>Anyway, the proper solution at most is a life time ban and the first flight home.Not indefinite detention.</p><p>To be burnt, this is a white woman who natively speaks English. If she's having a hard time, it doesn't bold well for anyone else.</p><p>Numerous other examples exist, in most of these cases people either didn't do anything wrong or it's something that could have been rectified with a quick flight home.</p><p><a href="https://www.nytimes.com/2025/03/13/world/europe/german-tourists-detained-deported.html" rel="nofollow">https://www.nytimes.com/2025/03/13/world/europe/german-touri...</a></p><p>Come to America, spend your money. And if you watch a friend's pets for a few days expect some good ole indefinite detention!</p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44006693"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006693" href="https://news.ycombinator.com/vote?id=44006693&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for the AMA.</p><p>Recent change to H1B allow organizations that conduct research "as a fundamental activity" to be eligible for cap exemption status. Can you kindly share your opinion on this?</p><p>Do the startups you work with fit this criteria?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007485"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007485" href="https://news.ycombinator.com/vote?id=44007485&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I don't think this has really expanded the organizations that qualify legally for cap exempt status (we essentially argued this before) but rather signifies a greater openness/flexibility on the part of USCIS to approve organizations as cap exempt organizations. Query, however, whether this openness/flexibility will continue.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44006863"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006863" href="https://news.ycombinator.com/vote?id=44006863&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I am currently a dutch citizen. I'm also a founder of a startup that has raised around 2.5 million USD. The company is delaware based.</p><p>What is the best option i have? Is E2 an option?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007572"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007572" href="https://news.ycombinator.com/vote?id=44007572&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>An E-2 would require some investment ($100k+) but Dutch citizens or Dutch-owned VCs but if this investment exists, then an E-2 could be a very good option. The other option would be the O-1 and as a founder of company that has had a good round of seed funding, you might qualify.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008417"><td></td></tr>
                        <tr id="44007993"><td></td></tr>
            <tr id="44007226"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007226" href="https://news.ycombinator.com/vote?id=44007226&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Would you recommend travel for GC holders in these coming months? How likely is that travel ban.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008423"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008423" href="https://news.ycombinator.com/vote?id=44008423&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If there is a travel ban, then the specifics of the ban will matter (countries impacted, whether LPRs and citizens are exempt, etc.) but absent a travel ban, I still think it's fine to travel. Just be prepared to have your devices searched and your political views questioned.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008382"><td></td></tr>
                  <tr id="44008230"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008230" href="https://news.ycombinator.com/vote?id=44008230&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter, I was checking my I-94 recently, and noticed that my travel history is missing one trip, an arrival. Basically, it lists two departures in row, couple months apart. Does it matter? and is there any way to fix it?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008343"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008343" href="https://news.ycombinator.com/vote?id=44008343&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>It doesn't matter unless it matters, which it doesn't appear to; the issue in an I-94 history is when a timely departure isn't recorded, not an arrival.  There's also no effective way to fix this error.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007481"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007481" href="https://news.ycombinator.com/vote?id=44007481&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter, thank you for this AMA.
I've been a green card holder for 1 year as the result of working for big tech in the US, originally via getting a L1-B 3.5 years ago. I'm planning on moving back to my home country in Europe permanently. Is there any way I can keep my green card or at least keep it for longer in case I start a startup in Europe and want to also have a US presence? I'm a Portuguese citizen.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007931"><td></td></tr>
                <tr id="44008463"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008463" href="https://news.ycombinator.com/vote?id=44008463&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Education is irrelevant.  A PhD in and of itself doesn't help but it usually means that the individual has published, engaged in original research/work, etc. but someone can have published, engaged in original research/work, etc. without a PhD or any degree.  So it's about what the individual has done, not his or her education. That being said, there's no question that USCIS's view of an O-1 petition is colored by the applicant's education and there's sort of a presumption that someone with a PhD qualifies for an O-1.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008276"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008276" href="https://news.ycombinator.com/vote?id=44008276&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>It's doable but you need a lot, and I mean a lot of documentation proving that you are indeed an alien with extraordinary ability. Any press mentions of you and your company, articles, proof that you're working with known companies in the US and more evidence like that will increase your chance.</p><p>In fact I worked with Peter on obtaining an O1 while not having a degree, I was a CTO of a startup, moving from the UK.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44008315"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008315" href="https://news.ycombinator.com/vote?id=44008315&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>As a practitioner do you feel that it was a waste of time to have studied the law? As you say, it is "rapidly changing", meaning the jurisprudence may not have been as majestic as students were led to believe.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008402"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008402" href="https://news.ycombinator.com/vote?id=44008402&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The main thing you learn in law school is not the substantive law but how to analyze facts and issues and to understand the law and its application to specific facts.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007619"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007619" href="https://news.ycombinator.com/vote?id=44007619&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi. Practically, do I need to be an oficially employee for my employer to file H1B, or contractor is ok?</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007739"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007739" href="https://news.ycombinator.com/vote?id=44007739&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter - why are international students on F-1 visa (not on OPT) being strongly recommended to not travel outside the US now? Is there a possible denial at the port of entry when returning? I for one am a F-1 student looking to travel to an academic conference abroad, but being advised to reconsider and stay back in the US by my DSO. I'm in the middle of my program, and my I-20 and visa are valid for another 3 years.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006949"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006949" href="https://news.ycombinator.com/vote?id=44006949&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>How common is it for pre-Series A startups to sponsor H1Bs? What's the process like for EB2 on the PERM route, and how difficult is it to be successful in that process?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007556"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007556" href="https://news.ycombinator.com/vote?id=44007556&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>No issues whatsoever with respect to H-1B sponsorship but potential issues with respect to green card applications, particularly PERM-based applications because of the ability pay requirement and because of issues related to ownership/equity held by the employee.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007654"><td></td></tr>
                        <tr id="44006662"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006662" href="https://news.ycombinator.com/vote?id=44006662&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Does being "busted" by Customs (i.e. carrying some items that should be declared, but going, and being pulled of from "Nothing to declare" lane) affects admission to the US at all?</p><p>I was let go with just a warning for my "offense", but still the customs officer took my passport and make some note in the system. Should I expect secondary inspection next time I cross the border?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006702"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006702" href="https://news.ycombinator.com/vote?id=44006702&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yes, you probably will be pulled into secondary again but you should be able to get this cleared up in connection with future travel by filing a "complaint" with DHSTRIP. But you should only submit a complaint if and when it happens again; you shouldn't submit one preemptively now.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007604"><td></td></tr>
            <tr id="44006820"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006820" href="https://news.ycombinator.com/vote?id=44006820&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Were there any changes in requirements for O visa recently? Did they remove the job offer requirement?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007599"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007599" href="https://news.ycombinator.com/vote?id=44007599&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>What was quoted below is really just codifying what existed in practice, that is, founders/owners of companies getting sponsored by their own companies. To answer your question, a job offer/employment is still a requirement and I haven't seen any major changes yet in the adjudication of O-1 petitions.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007104"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007104" href="https://news.ycombinator.com/vote?id=44007104&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm pretty sure the job offer requirement is still in effect, and will remain in effect, since the O is an employment-based visa. What made you think it had changed?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007341"><td></td></tr>
                        <tr id="44006644"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006644" href="https://news.ycombinator.com/vote?id=44006644&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Is asking about Recurse Center on-topic? I wanted to apply, but I genuinely don't consider it safe to travel to the US. As far as I can tell there is no comparable bootcamp-style retreat in EU :(</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007423"><td></td></tr>
                <tr id="44007882"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007882" href="https://news.ycombinator.com/vote?id=44007882&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>That is helpful to me! How did it work? I imagine a lot of RC interactions are kind of spontaneous, and I never understood how that would translate over the internet.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44006853"><td></td></tr>
                <tr id="44007017"><td></td></tr>
                        <tr id="44006557"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006557" href="https://news.ycombinator.com/vote?id=44006557&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm moving to the US on a K1 visa, is it possible to expedite an EAD on the basis of a job offer in an AI field?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006587"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006587" href="https://news.ycombinator.com/vote?id=44006587&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Expedites are available for all USCIS filings and while it's worth it to request it here, your reason isn't like to meet the expedite requirements, which are listed on the USCIS website.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007372"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007372" href="https://news.ycombinator.com/vote?id=44007372&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Is the correct term "Expedites", or "Expeditions"? Legal terminology seems to break language rules... The term for some (plural) things being expedited would be expeditions, but it seems from your response that, in legal terms, this would be expedites. This doesn't sound right. No source I could find agrees with the term "Expedites" as "plural of expedite". It generally returns something on the lines of "A third-person singular simple present indicative form of the verb "expedite.""</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007621"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007621" href="https://news.ycombinator.com/vote?id=44007621&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Expedites as a noun like invites, arguably not grammatically correct but in common use so correct from a usage standpoint.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44007607"><td></td></tr>
            <tr id="44006801"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006801" href="https://news.ycombinator.com/vote?id=44006801&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>hi Peter!</p><p>how long does 221(g) administrative processing take to complete in your experience? anything one can do besides waiting (Russian citizen working in tech, almost 1yr without adjustments)?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007692"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007692" href="https://news.ycombinator.com/vote?id=44007692&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>This really depends on the reason for the 221(g) and the applicant's country of citizenship or birth. Unfortunately, for those from certain countries, such as Iran and Russia, it has not been uncommon for such applications to go into a black hole and take 1-2 years.  For those not from such countries, the process is relatively quick, from a couple of week to a couple of months.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007878"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007878" href="https://news.ycombinator.com/vote?id=44007878&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Good afternoon Mr. Roberts. I suspect a great deal of large Silicon Valley companies are engaged in H-1B fraud - i.e. they will post a phantom job ad with a foreigner already in mind for the role.</p><p>Can you place us in touch with any resources to seek relief from the courts for these hiring practices (H-1B Fraud)? Thank you</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006725"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006725" href="https://news.ycombinator.com/vote?id=44006725&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If you were an immigrant with legal status who lives in the US, would you feel OK traveling? What precautions would you take, what information would you memorize?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007663"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007663" href="https://news.ycombinator.com/vote?id=44007663&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yes. I still think that those with student or work visas or green cards should travel internationally.  It's just a question of being smart and carrying the right documents.  The right documents will vary depending on the status so I can't give a list but I'd recommend having a brief consultation with an attorney.  Many like myself won't charge for a 15-minute consultation, which is all that this should take.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007749"><td></td></tr>
                        <tr id="44006635"><td></td></tr>
                <tr id="44006777"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006777" href="https://news.ycombinator.com/vote?id=44006777&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Don’t you have to be guilty of a crime to be sent down there?</p><p>For the vast majority of people who violate their visas, they simply get sent to their home country.  If you’re willing to remain in your home country out of fear of US policies, it’s very likely your home country would take you back and not disown you.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006828"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44006828" href="https://news.ycombinator.com/vote?id=44006828&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>While it’s not typical to be sent to CECOT in El Salvador, you don’t need to be “guilty” by the government’s position. They assert the right to send people down there based on allegations that have not been tested in any court.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007020"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007020" href="https://news.ycombinator.com/vote?id=44007020&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If you come here legally and don't commit a crime, they won't send you down there. If you come here legally and commit a crime, you'll get sent back to your country of origin.  People being sent down there came here illegally.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007399"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44007399" href="https://news.ycombinator.com/vote?id=44007399&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If we discard rule of law and due process for anyone, it is threatened for <i>everyone</i>. They're defying courts, they're not following the law. This does not end well for anyone, at all. It is incredibly dangerous territory.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007507"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_44007507" href="https://news.ycombinator.com/vote?id=44007507&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If you you are illegally in just about any country, being there without authorization is basis for deportation.  No one is being denied due process. Moreover, you can be denied entry at ports of entry to any country for any reason by customs officials -even with a valid visa.  They do not need to offer "due process."</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007779"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_44007779" href="https://news.ycombinator.com/vote?id=44007779&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Mr. Abrego Garcia was declared by a court to not be deportable to El Salvador, yet he was.</p><p>That is not due process.</p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44007595"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44007595" href="https://news.ycombinator.com/vote?id=44007595&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>This is false, both in terms of some of the people who have been sent there as well as the administration's direct stance on the matter.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44006832"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44006832" href="https://news.ycombinator.com/vote?id=44006832&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>You can get sent there by your affiliation. You don’t have to necessarily commit a crime. And all the administration has to do is make an accident and send you to the wrong place.</p><p>The vast majority are being sent to nearby countries as well.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006836"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44006836" href="https://news.ycombinator.com/vote?id=44006836&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Lots of people being detained for extended periods of time at the Canada/US border. I wouldn’t be so optimistic unless your situation is bullet proof.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006835"><td></td></tr>
                <tr id="44006914"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44006914" href="https://news.ycombinator.com/vote?id=44006914&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>And those guys are Salvadoran… right? Like if Mexico sends back a bunch of criminal gringos, what are we supposed to do, ask Mexico to incarcerate them for us?  No we take them and put them through our system of justice and send them to the pen.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007395"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44007395" href="https://news.ycombinator.com/vote?id=44007395&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>One was a Venezuelan soccer player (Jerce Reyes Barrios) who was accused of being a a gang member because he had a tattoo ... inspired by his favorite soccer team.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007540"><td></td></tr>
                                          <tr id="44006765"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006765" href="https://news.ycombinator.com/vote?id=44006765&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hey Peter,</p><p>On average, min and max - how many H1Bs do a Seed/Series A,B startups have?</p><p>From your experience.</p><p>Thank you for your time, Naren</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007702"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007702" href="https://news.ycombinator.com/vote?id=44007702&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm not sure I understand what you are asking. Do you mean the average per startup or the total number?  All I can say is that startups usually can sponsor H-1Bs without issue.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008414"><td></td></tr>
                        <tr id="44007999"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007999" href="https://news.ycombinator.com/vote?id=44007999&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Once DJT is out of office, what are the complexities in revoking his citizenship and deporting him back to Ireland or El Salvador?</p><p>Why the US taxpayers should foot his upkeep bill? Given his disruptions, crimes, and corruption, I and many others, do not see him fit to continue living here. He's a constant drain on the resources of this beautiful country - have always taken and never given back anything!!</p></div></td></tr>
        </tbody></table></td></tr>
            </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Research Preview of Codex (445 pts)]]></title>
            <link>https://openai.com/index/introducing-codex/</link>
            <guid>44006345</guid>
            <pubDate>Fri, 16 May 2025 15:02:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://openai.com/index/introducing-codex/">https://openai.com/index/introducing-codex/</a>, See on <a href="https://news.ycombinator.com/item?id=44006345">Hacker News</a></p>
Couldn't get https://openai.com/index/introducing-codex/: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Visual flow-based programming for Erlang, inspired by Node-RED (229 pts)]]></title>
            <link>https://github.com/gorenje/erlang-red</link>
            <guid>44006231</guid>
            <pubDate>Fri, 16 May 2025 14:54:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/gorenje/erlang-red">https://github.com/gorenje/erlang-red</a>, See on <a href="https://news.ycombinator.com/item?id=44006231">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">Erlang-RED - A Node-RED backend coded in Erlang</h2><a id="user-content-erlang-red---a-node-red-backend-coded-in-erlang" aria-label="Permalink: Erlang-RED - A Node-RED backend coded in Erlang" href="#erlang-red---a-node-red-backend-coded-in-erlang"></a></p>
<p dir="auto">An experiment to replace Node-REDs existing NodeJS backend with an Erlang equivalent that is 100% compatible[1] to existing flow code.</p>
<p dir="auto">The goal is bring the advantages of low-code visual flow-based programming to a programming language that is designed for message passing and concurrency from the ground up, hence Erlang.</p>
<p dir="auto">[1] = 100% won't be possible since function nodes that are coded in Javascript aren't supported (or aren't intended to be supported - unless someone has a workaround)</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Why?</h2><a id="user-content-why" aria-label="Permalink: Why?" href="#why"></a></p>
<p dir="auto"><a href="https://nodered.org/" rel="nofollow">Node-RED</a> is a amazing[*] tool for creating flows that describe concurrent processing, it is just a shame the NodeJS is single threaded. So why not use something that is multi-process from the ground up? Concurrency is guaranteed and included.</p>
<p dir="auto">Also Erlang isn't the most understandable of programming language - unless one has fallen into in a <a href="https://en.wikipedia.org/wiki/Obelix" rel="nofollow">cauldron</a> of Prolog, spiced with Lisp.</p>
<p dir="auto">So won't it be great to have the simplicity of low-code visual flow based programming and the performance (and concurrency) of Erlang?</p>
<p dir="auto">[*] = amazing in the sense of <em>extendability</em> (Nodes can easily be added and developed by third parties), <em>understandability</em> (Node-RED <a href="https://blog.openmindmap.org/blog/pipes-wires-nodes" rel="nofollow">terminology</a> is straightforward) and <em>usability</em> (once a rectangle becomes a unit of computation and a line becomes a pathway for data flow)</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Development Strategy</h2><a id="user-content-development-strategy" aria-label="Permalink: Development Strategy" href="#development-strategy"></a></p>
<p dir="auto">My development process is best described as <a href="https://github.com/gorenje/erlang-red/blob/main/DevelopmentStrategy.md">flow driven development</a> based around a set of <a href="https://github.com/gorenje/erlang-red/blob/main/prive/testflows">test flows</a> to ensure that node functionality is implemented correctly - meaning that it matches the existing Node-RED functionality.</p>
<p dir="auto">Test flows are mirrored in a separate <a href="https://github.com/gorenje/erlang-red-flow-testsuite">repository</a> for better maintainability and also integration with existing Node-RED installations.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Architecture</h2><a id="user-content-architecture" aria-label="Permalink: Architecture" href="#architecture"></a></p>
<p dir="auto">The architecture, along with a background to Flow Based Programming and Node-RED has been <a href="https://github.com/gorenje/erlang-red/blob/main/Architecture.md">written</a>.</p>
<p dir="auto">The codebase as it stands, has many interdependence because of testing flows: <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/nodes/ered_node_assert_status.erl#L109-L131">assert nodes</a> need to know about <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/servers/ered_ws_event_exchange.erl">web-socket communication</a>, or because of the nature of nodes: the <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/nodes/ered_node_complete.erl#L74-L89">complete</a> node needs to know of <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/exchanges/ered_message_exchange.erl#L36-L39">completed messages</a>.</p>
<p dir="auto">While the <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/nodes/ered_node_catch.erl#L40">exception node</a> needs to know about exceptions when they <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/exchanges/ered_message_exchange.erl#L46-L56">happen</a>.</p>
<p dir="auto">An architectural diagram of this interconnectedness would be probably be just as confusing as the code itself.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Supported Nodes &amp; Features</h2><a id="user-content-supported-nodes--features" aria-label="Permalink: Supported Nodes &amp; Features" href="#supported-nodes--features"></a></p>
<p dir="auto">This is a non-complete list of nodes that partially or completely work:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Node</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_catch.erl">catch</a></td>
<td>catches exception of selected nodes and of entire flows but not groups</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_change.erl">change</a></td>
<td>supports many operators but not all. JSONata in basic form is also supported.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_complete.erl">complete</a></td>
<td>is available and can be used on certain nodes, not all</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_debug.erl">debug</a></td>
<td>only debugs the entire message, individal msg properties aren't supported. msg count as status is supported.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_delay.erl">delay</a></td>
<td>supported static delay not dynamic delay set via <code>msg.delay</code></td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_exec.erl">exec</a></td>
<td>executing and killing commands is supported  but only for commands in spawn mode and set on the node. Appending arguments to commands isn't supported. Timeouts are supported. Kill messages are also supported.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_file_in.erl">file in</a></td>
<td>working for files located in <code>/priv</code></td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_function.erl">function</a></td>
<td>working for any Erlang. Stop and start also respected. Timeout and more than one output port isn't supported.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_http_in.erl">http in</a></td>
<td>working for GET and POST, not available for PUT,DELETE etc</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_http_request.erl">http request</a></td>
<td>basic support for doing rrequests, anything complex probably won't work</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_http_response.erl">http response</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_inject.erl">inject</a></td>
<td>working for most types except for flow, global ...</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_join.erl">join</a></td>
<td><em>manual arrays of count X</em> is working, <code>parts</code> isn't supported</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_json.erl">json</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_junction.erl">junction</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_link_call.erl">link call</a></td>
<td>working - dynamic calls also</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_link_in.erl">link in</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_link_out.erl">link out</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_markdown.erl">markdown</a></td>
<td>working and supports whatever <a href="https://github.com/pragdave/earmark">earmark</a> supports.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_mqtt_in.erl">mqtt in</a></td>
<td>should be working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_mqtt_out.erl">mqtt out</a></td>
<td>should be working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_noop.erl">noop</a></td>
<td>doing nothing is very much supported</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_split.erl">split</a></td>
<td>splitting arrays into individual messages is supported, string, buffers and objects aren't.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_status.erl">status</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_switch.erl">switch</a></td>
<td>most operators work along with basic JSONata expressions</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_template.erl">template</a></td>
<td>mustache templating is working but parsing into JSON or YAML isn't supported</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_trigger.erl">trigger</a></td>
<td>the default settings should work</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<ul dir="auto">
<li>
<p dir="auto">Contexts are <strong>not supported</strong>, so there is no setting things on <code>flow</code>, <code>node</code> or <code>global</code>.</p>
</li>
<li>
<p dir="auto"><a href="https://jsonata.org/" rel="nofollow">JSONata</a> has been <strong>partially implemented</strong> by the <a href="https://github.com/gorenje/erlang-red/blob/main/src/jsonata_parser.yrl">jsonata parser</a>. Most functionality isn't supported but can be <a href="https://github.com/gorenje/erlang-red/blob/main/src/jsonata/jsonata_evaluator.erl">added to the evaluator</a>.</p>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Elixir &amp; Erlang-RED</h2><a id="user-content-elixir--erlang-red" aria-label="Permalink: Elixir &amp; Erlang-RED" href="#elixir--erlang-red"></a></p>
<p dir="auto">Elixir helpers can be added to <a href="https://github.com/gorenje/erlang-red-elixir-helpers">erlang-red-elixir-helpers</a> repository.</p>
<p dir="auto">There is nothing stopping anyone from creating a complete node in Elixir provided there is a Erlang "node-wrapper", i.e., a bit of Erlang code in the <a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes">src/nodes</a> directory that references the Elixir node.</p>
<p dir="auto">The initial example <a href="https://github.com/gorenje/erlang-red/blob/42f10112baac5a5f916ecd805eafc87382632dec/src/nodes/ered_node_markdown.erl#L38">markdown node</a> is an Erlang node that references Elixir code. I also wrote an Elixir wrapper function whereby I could have just as easily referenced Earmark directly from the Erlang code. That was a stylist choice.</p>
<p dir="auto">I intend to use Elixir code for importing Elixir libraries to the project and less coding nodes in Elixir. I simply prefer Erlang syntax. But each to their own :)</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Build</h2><a id="user-content-build" aria-label="Permalink: Build" href="#build"></a></p>
<div data-snippet-clipboard-copy-content="$ rebar3 get-deps &amp;&amp; rebar3 compile"><pre><code>$ rebar3 get-deps &amp;&amp; rebar3 compile
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Test</h2><a id="user-content-test" aria-label="Permalink: Test" href="#test"></a></p>

<p dir="auto"><h2 tabindex="-1" dir="auto">Development</h2><a id="user-content-development" aria-label="Permalink: Development" href="#development"></a></p>
<div data-snippet-clipboard-copy-content="$ rebar3 shell --apps erlang_red"><pre><code>$ rebar3 shell --apps erlang_red
</code></pre></div>
<p dir="auto">Open the Node-RED visual flow editor in a browser:</p>
<div data-snippet-clipboard-copy-content="$ open -a Firefox http://localhost:9090/node-red"><pre><code>$ open -a Firefox http://localhost:9090/node-red
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Docker</h2><a id="user-content-docker" aria-label="Permalink: Docker" href="#docker"></a></p>
<p dir="auto">I use docker to develop this so for me, the following works:</p>
<div data-snippet-clipboard-copy-content="prompt$ git clone git@github.com:gorenje/erlang-red.git
prompt$ cd erlang-red
prompt$ docker run -it -v $(pwd)/erlang-red:/code -p 9090:8080 -w /code --rm erlang bash
docker> rebar3 shell --apps erlang_red"><pre><code>prompt$ git clone git@github.com:gorenje/erlang-red.git
prompt$ cd erlang-red
prompt$ docker run -it -v $(pwd)/erlang-red:/code -p 9090:8080 -w /code --rm erlang bash
docker&gt; rebar3 shell --apps erlang_red
</code></pre></div>
<p dir="auto">Then from the docker host machine, open a browser:</p>
<div data-snippet-clipboard-copy-content="prompt$ open -a Firefox http://localhost:9090/node-red"><pre><code>prompt$ open -a Firefox http://localhost:9090/node-red
</code></pre></div>
<p dir="auto">That should display the Node-RED visual editor.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Release</h2><a id="user-content-release" aria-label="Permalink: Release" href="#release"></a></p>
<p dir="auto">A <a href="https://github.com/gorenje/erlang-red/blob/3cf3b6a33b59a808ffc865b008c8ee47a4437412/rebar.config#L35-L60">release</a> can be bundled together:</p>
<div data-snippet-clipboard-copy-content="$ rebar3 as prod release -n erlang_red"><pre><code>$ rebar3 as prod release -n erlang_red
</code></pre></div>
<p dir="auto">All static frontend code (for the Node-RED flow editor) and the test flow files in <code>priv/testflows</code> are bundled into the release.</p>
<p dir="auto">Cowboy server will started on port 8080 unless the <code>PORT</code> env variable is set.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Fly.io Deployment</h2><a id="user-content-flyio-deployment" aria-label="Permalink: Fly.io Deployment" href="#flyio-deployment"></a></p>
<p dir="auto">A sample Dockerfile <code>Dockerfile.fly</code> is provided to allow for easy launching of an instance as a fly application.
The provided shell script (<code>fly_er.sh</code>) sets some common expected parameters for the launch.
Advanced users may wish to examine the <code>fly launch</code> line therein and adjust for their requirements.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Heroku Deployment</h2><a id="user-content-heroku-deployment" aria-label="Permalink: Heroku Deployment" href="#heroku-deployment"></a></p>
<p dir="auto">Using the container stack at heroku, deployment becomes a <code>git push heroku</code> after the usual heroku setup:</p>
<ul dir="auto">
<li><code>heroku login</code> --&gt; <code>heroku git:remote -a &lt;app name&gt;</code> --&gt; <code>heroku stack:set container</code> --&gt; <code>git push heroku</code></li>
</ul>
<p dir="auto">However the <a href="https://github.com/gorenje/erlang-red/blob/main/Dockerfile.heroku">Dockerfile.heroku</a> does not start the flow editor, the image is designed to run a set of flows, in this case (at time of writing) a simple website with a single page.</p>
<p dir="auto">Basically this <a href="https://github.com/gorenje/erlang-red/blob/main/priv/testflows/flow.499288ab4007ac6a.json">flow</a> is the <a href="https://red-erik.org/" rel="nofollow">red-erik.org</a> site.</p>
<p dir="auto">The image does this by setting the following ENV variables:</p>
<ul dir="auto">
<li><code>COMPUTEFLOW</code>=<code>499288ab4007ac6a</code> - flow to be used. This can also be a comma separated list of flows that are all started.</li>
<li><code>DISABLE_FLOWEDITOR</code>=<code>YES</code> - any value will do, if set the flow editor is disabled.</li>
</ul>
<p dir="auto">Also be aware that Erlang-RED supports a <code>PORT</code> env variable to specifying the port upon which Cowboy will listen on for connections. The default is 8080.</p>
<p dir="auto">Heroku uses this to specify the port to connect for a docker image so that its load balancer can get it right.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Example</h2><a id="user-content-example" aria-label="Permalink: Example" href="#example"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gorenje/erlang-red/blob/main/.images/erlang-red.gif"><img src="https://github.com/gorenje/erlang-red/raw/main/.images/erlang-red.gif" alt="img" data-animated-image=""></a></p>
<p dir="auto">What the gif shows is executing a <a href="https://flowhub.org/f/ea246f68766c8630" rel="nofollow">simple flow</a> using Erlang as a backend. The flow demonstrates the difference in the switch node of 'check all' or 'stop at first match'.</p>
<p dir="auto">All nodes are are processes- that is shown on the left in the terminal window.</p>
<p dir="auto">This example is extremely trivial but it does lay the groundwork for expansion.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Testing</h2><a id="user-content-testing" aria-label="Permalink: Testing" href="#testing"></a></p>
<p dir="auto">To create unit tests for this, Node-RED frontend has been extended with a
"Create Test Case" button on the export dialog:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gorenje/erlang-red/blob/main/.images/create-test-case.png"><img src="https://github.com/gorenje/erlang-red/raw/main/.images/create-test-case.png" alt="img"></a></p>
<p dir="auto">Test flows are stored in the <a href="https://github.com/gorenje/erlang-red/blob/main/priv/testflows">testflows</a> directory and will be picked up the next time <code>make eunit-test</code> is called. In this way it is possible to create unit tests visually.</p>
<p dir="auto">Flow tests can also be tested within the flow editor, for more details see below.</p>
<p dir="auto">The flow test suite is now maintained in a <a href="https://github.com/gorenje/erlang-red-flow-testsuite">separate</a> repository but is duplicated here.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Assert Nodes</h2><a id="user-content-assert-nodes" aria-label="Permalink: Assert Nodes" href="#assert-nodes"></a></p>
<p dir="auto">To better support testing of flows, two new nodes have been created:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gorenje/erlang-red/blob/main/.images/assert-nodes.png"><img src="https://github.com/gorenje/erlang-red/raw/main/.images/assert-nodes.png" alt="img"></a></p>
<p dir="auto">"Assert Failed" node cases unit tests to fail if a message reaches it, regardless of any message values. It's basically the same as a <code>assert(false)</code> call. The intention is to ensure that specific parts of a flow aren't reached.</p>
<p dir="auto">The second node (in green) is an equivalent to a change node except it contains test on attributes of the message object. Possible tests include 'equal', 'match', 'unset' and the respective inverses. Here the intention is that a message passes through is tested for specific values else the unit test fails.</p>
<p dir="auto">These nodes are necessary since there is no other way to test whether flow is working or not.</p>
<p dir="auto">Also remember these flow tests are designed to ensure the Erlang backend is correctly implementing node functionality. The purpose of these nodes is <em>not</em> to ensure that a flow is correct, rather that the <em>functionality</em> of implemented nodes works and continues to work correctly.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Visual Unit Testing</h2><a id="user-content-visual-unit-testing" aria-label="Permalink: Visual Unit Testing" href="#visual-unit-testing"></a></p>
<p dir="auto">My plan is to create test flows that represent specific NodeRED functionality that needs to be implemented by Erlang-RED. This provides regression testing and todos for the implementation.</p>
<p dir="auto">I created a keyboard shortcut for creating and storing these test flows from the flow editor directly. However I was still use the terminal to execute tests <code>make eunit-test</code> - which  became painful. So instead I pulled this testing into Node-RED, as the gif demonstrates:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gorenje/erlang-red/blob/main/.images/unit-testing-inside-nodered.gif"><img src="https://github.com/gorenje/erlang-red/raw/main/.images/unit-testing-inside-nodered.gif" alt="img" data-animated-image=""></a></p>
<p dir="auto">What the gif shows is my list of unit tests, which at the press of a button, can all be tested. Notifications for each test shows the result. In addition, the tree list shows which tests failed/succeed (red 'x' or green check). Also tests can be executed individually so that failures can be checked individually.</p>
<p dir="auto">The best bit though is that all errors are pushed to the debug panel and from there I get directly to the node causing the error. Visual unit testing is completely integrated into Erlang-RED.</p>
<p dir="auto">My intention is to create many small flows that represent functionality that needs to be implemented by Erlang-RED. These unit tests shows the compatibility to Node-RED and less the correctness of the Erlang code.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contributing</h2><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto">Contributions very much welcome in the form of Erlang code or as Node-RED test-flows, ideally with the Erlang implementation. Elixir code is also welcome, only it has its own <a href="https://github.com/gorenje/erlang-red-elixir-helpers">home</a>.</p>
<p dir="auto">Each test flow should test exactly one feature and use the assert nodes to check correctness of expected results. Tests can also be pending to indicate that the corresponding Erlang functionality is still missing.</p>
<p dir="auto">Questions and Answers at either the <a href="https://erlangforums.com/t/erlang-red-erlang-interpreter-for-node-red-flow-code-visual-flow-based-programming/4678" rel="nofollow">Erlang Forum</a> or the <a href="https://discourse.nodered.org/t/erlang-red-erlang-backed-node-red/96458" rel="nofollow">Node-RED Forum</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Branch Technology</h2><a id="user-content-branch-technology" aria-label="Permalink: Branch Technology" href="#branch-technology"></a></p>
<p dir="auto">To branch or not to branch, that isn't really a question. I'm currently working directly on <code>main</code> but ensure that all tests succeed before pushing, so <code>main</code> branch will always work. Locally I work with branches but have no desire to make those branches public since I'm working on my own.</p>
<p dir="auto">Versioning is completely random and has little or no meaning at the moment. I prefer to use <a href="https://github.com/gorenje/erlang-red/blob/main/MILESTONES.md">Milestones</a> since these are arrived at and are not planned, I don't know when the next milestone will be reached.</p>
<p dir="auto">If this project becomes more collaborative or a "production ready piece of software", more certainty will be applied to the development process, i.e., semantic version numbers will introduced.</p>
<p dir="auto">I'm more than happy to deal with conflicts if someone developed something on a branch and it doesn't merge - I understand that multiple direct pushes to <code>main</code> everyday isn't the done thing but I don't like to have code lying around for weeks on end, not being merged because it's not on a release schedule.</p>
<p dir="auto">Coding is a creative process, creativity cannot be planned. Imagine Van Gogh working according to a release plan.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Acknowledgement</h2><a id="user-content-acknowledgement" aria-label="Permalink: Acknowledgement" href="#acknowledgement"></a></p>
<p dir="auto"><a href="https://github.com/knolleary">Nick</a> and <a href="https://github.com/dceejay">Dave</a> for bring Node-RED to live - amazing quality and flexibility and the entire <a href="https://discourse.nodered.org/" rel="nofollow">Node-RED community</a>.</p>
<p dir="auto">Much thanks to</p>
<ul dir="auto">
<li><a href="https://github.com/mwmiller">@mwmiller</a> for providing a fly server for running a <a href="https://ered.fly.dev/node-red" rel="nofollow">live version</a> of Erlang-RED,</li>
<li><a href="https://erlangforums.com/u/joaohf/summary" rel="nofollow">@joaohf</a> many tips on coding Erlang and structuring an Erlang project, and</li>
<li><a href="https://erlangforums.com/u/maria-12648430/summary" rel="nofollow">@Maria-12648430</a> for debugging my initial attempt to create a gen_server for nodes.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Disclaimer</h2><a id="user-content-disclaimer" aria-label="Permalink: Disclaimer" href="#disclaimer"></a></p>
<p dir="auto">No Artificial Intelligence was harmed in the creation of this codebase. This codebase is old skool search engine (ddg), stackoverflow, blog posts and RTFM technology.</p>
<p dir="auto">Also be aware that this project partly uses the <em>Don't do Evil</em> un-enforceable license. The point of the license is not to be enforceable but to make the reader think about what is evil. After all, Pope Leo (the new one) did say <a href="https://eu.usatoday.com/story/news/world/2025/05/08/pope-leo-xiv-first-speech-message-text/83519162007/" rel="nofollow">"evil will not prevail"</a> - what does that <em>even</em> mean?</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ed Smylie, Who Saved the Apollo 13 Crew with Duct Tape, Dies at 95 (111 pts)]]></title>
            <link>https://www.nytimes.com/2025/05/16/science/space/ed-smylie-dead.html</link>
            <guid>44005668</guid>
            <pubDate>Fri, 16 May 2025 14:03:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.nytimes.com/2025/05/16/science/space/ed-smylie-dead.html">https://www.nytimes.com/2025/05/16/science/space/ed-smylie-dead.html</a>, See on <a href="https://news.ycombinator.com/item?id=44005668">Hacker News</a></p>
Couldn't get https://www.nytimes.com/2025/05/16/science/space/ed-smylie-dead.html: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Evolution of Rust Compiler Errors (147 pts)]]></title>
            <link>https://kobzol.github.io/rust/rustc/2025/05/16/evolution-of-rustc-errors.html</link>
            <guid>44005195</guid>
            <pubDate>Fri, 16 May 2025 13:22:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://kobzol.github.io/rust/rustc/2025/05/16/evolution-of-rustc-errors.html">https://kobzol.github.io/rust/rustc/2025/05/16/evolution-of-rustc-errors.html</a>, See on <a href="https://news.ycombinator.com/item?id=44005195">Hacker News</a></p>
<div id="readability-page-1" class="page"><div aria-label="Content">
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    









<p>I recently attended <a href="https://rustweek.org/">RustWeek</a> (which was totally awesome) and the talks by Alex Crichton (on the history of Rust) and Pietro Albini (on the importance of error messages) inspired me to do a little archaeology into the way Rust compiler messages have evolved over time.</p>

<p>I wrote a script that downloaded all stable Rust releases all the way back to 1.0<sup id="fnref:rustup" role="doc-noteref"><a href="#fn:rustup" rel="footnote">1</a></sup>, executed each stable version of the compiler on a set of small programs containing an error and gathered the compiler standard (error) output.</p>

<p>The widget below visualizes how the error messages evolved over time. You can use the select box to examine different Rust programs to see their error:</p>




<p>There are a couple of interesting things to note:</p>

<ul>
  <li>First and foremost, the error messages are simply <em>great</em>. If you have used Rust previously, this probably isn’t too surprising. Even Rust <code>1.0.0</code> contained pretty solid error reporting, and it got much better over time.</li>
  <li>Rust <code>1.2.0</code> introduced numerical <a href="https://doc.rust-lang.org/error_codes/error-index.html">error codes</a>. Edit: they were actually added in <code>1.0.0</code>, just that this specific error did not have a code until <code>1.2.0</code>, as was pointed out to me by <a href="https://www.reddit.com/r/rust/comments/1knzzqa/comment/msnlx2r">Steve Klabnik</a>.</li>
  <li>Rust <code>1.26.0</code> introduced colorful error messages. It sounds like a small change, but you can see what an improvement it makes! It also added the <code>rustc --explain &lt;error-code&gt;</code> hint.</li>
  <li>The error messages sometimes went a bit back and forth in different Rust versions, which is a bit funny. For example, the <code>error: aborting due to 2 previous errors</code> has switched to <code>...previous error(s)</code> in <code>1.19.0</code> and then back to <code>...2 previous errors</code> in <code>1.20.0</code>, which seems like an unintended change in <code>1.19.0</code>. Sometimes the difference is only in a single space, which is not even visible in the visualization above.</li>
  <li>The error spans are also continuously being improved between rustc versions. My favourite example is the <code>Wrong field</code> program change in <code>1.87.0</code>.</li>
</ul>

<p>But I think that ultimately, the most interesting thing about this is the evolution process of these messages itself, which demonstrates that a lot of effort has to be put into the messages to make them <em>really good</em>. To someone, it might seem like these messages are somehow automatically derived from the compilation process, and we get them “for free”, but that couldn’t be further from the truth. It is the result of a continuous design, implementation, review and testing effort that has been performed by hundreds of individual contributors over the span of more than ten years. Thank you to everyone who has worked on the Rust compiler and contributed to these awesome error messages!</p>

<p>If you’d like to test this out on more programs than the ones I have shown here,
you can check out my script <a href="https://github.com/Kobzol/rustc-error-evolution">here</a><sup id="fnref:interactive" role="doc-noteref"><a href="#fn:interactive" rel="footnote">2</a></sup>.</p>

<p>If you have your own favourite example of a Rust compiler error message, share it with others on <a href="https://www.reddit.com/r/rust/comments/1knzzqa/evolution_of_rust_compiler_errors/">Reddit</a>!</p>


  </div>

<!---->

  
</article>



      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Java at 30: Interview with James Gosling (223 pts)]]></title>
            <link>https://thenewstack.io/java-at-30-the-genius-behind-the-code-that-changed-tech/</link>
            <guid>44005008</guid>
            <pubDate>Fri, 16 May 2025 13:05:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://thenewstack.io/java-at-30-the-genius-behind-the-code-that-changed-tech/">https://thenewstack.io/java-at-30-the-genius-behind-the-code-that-changed-tech/</a>, See on <a href="https://news.ycombinator.com/item?id=44005008">Hacker News</a></p>
Couldn't get https://thenewstack.io/java-at-30-the-genius-behind-the-code-that-changed-tech/: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Sci-Net (264 pts)]]></title>
            <link>https://sci-hub.se/sci-net</link>
            <guid>44004625</guid>
            <pubDate>Fri, 16 May 2025 12:30:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sci-hub.se/sci-net">https://sci-hub.se/sci-net</a>, See on <a href="https://news.ycombinator.com/item?id=44004625">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

                <p>
                    I regularly receive requests from Sci-Hub users to help them download some paper that cannot be opened through Sci-Hub. The number of such requests increased in the past two years, since Sci-Hub database updates were paused. The opposite also happens: users ask whether they can upload to Sci-Hub some paper that they have bought or downloaded via university subscription.
                </p>

                <p>Sci-Hub was never designed to accept uploads from users. From the very beginning, it was implemented as an autonomous system that scans and downloads research papers from various universities ‐ without human in the loop. This automatic method turned out to be quite effective, and Sci-Hub was able to reach coverage &gt; 90% in its best days. However, even then some paper remained unreachable.</p>

                <p>Now there exists a platform where users can request unavailable papers, and upload them: <a target="_blank" href="https://sci-net.xyz/">sci-net.xyz</a></p>

                

                <p>The user interface is simple: an input box where a DOI of the requested paper should be inserted. Once the user clicks the button, Sci-Net automatically checks if the requested paper is open access or already available on Sci-Hub. If the paper is found, the link to it will be displayed. If not, then user will be able to create a new request.</p>

                <p>On the index page, the list of requests is shown, that can be filtered by subjects and publisher. If you happen to have access to some paper in the list, you can click on the request and upload the PDF. There is a nice built-in functionality to remove watermarks from PDF to hide the university where paper was downloaded. That way Sci-Net protects the anonymity of the uploader.</p>

                <p>The 'Library' section will show all your requests and uploads, and in the 'Upload' section you can contribute your papers to the platform: just drop the PDF file and the system will automatically detect the DOI. If the DOI is not available yet on Sci-Net / Sci-Hub / open access, the file will get uploaded. The article then will become accessible to everyone by URL sci-net.xyz/DOI including people who are not registered on the platform.</p>

                <p>The platform is currently in the active development stage, and much more features are upcoming.</p>

                

                <p>The part that really makes Sci-Net stand out is the usage of decentralized tokens: Sci-Hub meme coins -- to reward knowledge sharing. When creating a request, you can specify the amount of tokens uploader will receive for sharing the paper. However, the tokens will not be transferred after uploading the PDF right away, but only after you check the solution and click the 'Accept' button. The tokens subtracted from your account will be added to the uploader.</p>

                <p>Sci-Net will ask for a minimum amount of 1000 Sci-Hub tokens to register. The tokens will appear on your account after registration and will be used to reward uploaders. That is the most controversial part: some people argue that Sci-Net introduces paywall similar to publisher.</p>

                <p>Even though both might appear similar at a first glance, the differences are profound. Compared to insane publisher paywalls, the entry tax on Sci-Net is symbolic and is not higher than an equivalent of a cup of coffee in most countries. The next difference is that in traditional approach, profits are made by publisher, and ordinary researcher has no control on how the money are used. On Sci-Net, you're using tokens directly to reward uploaders. Payments go to fellow researchers, not to the platform.</p>

                <p>But the most important is that publishers will charge for access to the same paper again and again. Sci-Net will only do that once when paper is uploaded and after that, it will remain free forever and for everyone -- even users who are not registered on the platform will be able to access it. That is, all Sci-Net transactions contribute directly to public domain, and the number of knowledge accessible to everyone grows with Sci-Net usage.</p>

                <p>The more people use Sci-Hub token, the more valuable it becomes. That way Sci-Net indirectly contributes to maintenance and further development of Sci-Hub.</p>

                <p>The only downside is that obtaining Sci-Hub tokens on the Solana network can be a non-trivial puzzle for a user who are new to crypto. But that only makes the process more interesting.</p>

                

                <p>Overall, Sci-Net is a platform that every researcher today must use and contribute to -- together, we can gradually make the idea of open knowledge a reality.</p>

            </div></div>]]></description>
        </item>
    </channel>
</rss>