<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 02 Oct 2024 17:30:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[The Fastest Mutexes (176 pts)]]></title>
            <link>https://justine.lol/mutex/</link>
            <guid>41721668</guid>
            <pubDate>Wed, 02 Oct 2024 15:31:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://justine.lol/mutex/">https://justine.lol/mutex/</a>, See on <a href="https://news.ycombinator.com/item?id=41721668">Hacker News</a></p>
<div id="readability-page-1" class="page">

<p>
Oct 2<sup>nd</sup>, 2024 @ <a href="https://justine.lol/index.html">justine's web page</a>
</p>

<p><img src="https://justine.lol/mutex/honeybadger.png" alt="[cosmpolitan honeybadger logo]" width="334" height="200"><br>
Cosmopolitan Honeybadger
</p>

<p>
<a href="https://justine.lol/cosmo3/">Cosmopolitan Libc</a> is well-known for
its <a href="https://justine.lol/ape.html">polyglot fat binary</a> hack
that lets your executables run on six OSes for AMD64 / ARM64. What may
surprise you is that it could also be the best C library for your
production workloads too. To demonstrate this point, let's compare
Cosmo's mutex library with other platforms.

</p><p>
We'll do this by writing a simple test that spawns <strong>30
threads</strong> which increment the same integer <strong>100,000
times</strong>. This tests how well a mutex implementation performs in
the heavily contended use case. In essence, that means the following
(see the segment at the bottom of the page for the full source code).

</p><pre><span>int</span> g_chores;
<span>pthread_mutex_t</span> g_locker = PTHREAD_MUTEX_INITIALIZER;

<span>void</span> *<span>worker</span>(<span>void</span> *arg) {
  <span>for</span> (<span>int</span> i = 0; i &lt; ITERATIONS; ++i) {
    pthread_mutex_lock(&amp;g_locker);
    ++g_chores;
    pthread_mutex_unlock(&amp;g_locker);
  }
  <span>return</span> 0;
}
</pre>

<p>
Now let's start with the exciting part, which are my benchmark results.

</p><h3>Benchmarks</h3>

<p>
Times will be measured in microseconds. Wall time is how long the test
program takes to run. That includes the overhead of spawning and joining
threads. User time is how much CPU time was spent in userspace, and
system time is how much CPU time was spent in the kernel. System and
user time can exceed the actual wall time because multiple threads are
running in parallel.

</p><p>
The first results I'll show are for Windows because Mark Waterman did an
excellent <a href="https://github.com/markwaterman/MutexShootout">mutex
shootout</a> three months ago, where he said, "in the highly contended
scenario, Windows wins the day with its SRWLOCK". Contention is where
mutex implementations show their inequality. Mark was so impressed by
Microsoft's SRWLOCK that he went on to recommend Linux and FreeBSD users
consider targeting Windows if mutex contention is an issue.

</p><div>
<table>
<tbody><tr>
  <th colspan="4"><p>
      Windows Mutex Implementations<br>
      24-core Threadripper 29070WX

</p></th></tr><tr>
  <th>wall<br>time (µs)
  </th><th>user<br>time (µs)
  </th><th>system<br>time (µs)
  </th><th>implementation

</th></tr><tr>
  <td>148,940
  </td><td>328,125
  </td><td>62,500
  </td><td>Cosmopolitan pthread_mutex_t

</td></tr><tr>
  <td>410,416
  </td><td>5,515,625
  </td><td>1,640,625
  </td><td>Microsoft SRWLOCK

</td></tr><tr>
  <td>949,187
  </td><td>7,937,500
  </td><td>5,078,125
  </td><td>Microsoft CRITICAL_SECTION

</td></tr><tr>
  <td>991,750
  </td><td>12,156,250
  </td><td>4,031,250
  </td><td>MSVC 2022 std::mutex

</td></tr><tr>
  <td>1,165,435
  </td><td>24,515,000
  </td><td>15,000
  </td><td>spin lock

</td></tr><tr>
  <td>9,780,803
  </td><td>1,937,000
  </td><td>6,156,000
  </td><td>Cygwin pthread_mutex_t

</td></tr></tbody></table>
</div>

<p>
As we can see, Cosmopolitan Libc mutexes go 2.75x faster than
Microsoft's SRWLOCK (which was previously believed to be the best of the
best) while consuming 18x fewer CPU resources. Cosmopolitan mutexes were
also 65x faster than Cygwin, which like Cosmopolitan provides a POSIX
implementation on Windows. Cygwin's mutexes are so bad that they would
have been better off for this use case just using a spin lock.

</p><p>
Now onto Linux, the lord of all operating systems.

</p><div>
<table>
<tbody><tr>
  <th colspan="4"><p>
      Linux Mutex Implementations<br>
      96-core Threadripper Pro 7995WX

</p></th></tr><tr>
  <th>wall<br>time (µs)
  </th><th>user<br>time (µs)
  </th><th>system<br>time (µs)
  </th><th>implementation

</th></tr><tr>
  <td>36,905
  </td><td>44,511
  </td><td>23,492
  </td><td>Cosmopolitan pthread_mutex_t

</td></tr><tr>
  <td>101,353
  </td><td>150,706
  </td><td>2,724,851
  </td><td>glibc pthread_mutex_t

</td></tr><tr>
  <td>202,423
  </td><td>4,694,749
  </td><td>2,000
  </td><td>spin lock

</td></tr><tr>
  <td>411,013
  </td><td>2,167,898
  </td><td>9,926,850
  </td><td>Musl libc pthread_mutex_t

</td></tr></tbody></table>
</div>

<p>
  Here we see Cosmopolitan mutexes are:

</p><ul>
<li>3x faster than glibc
</li><li>11x faster than glibc
</li><li>42x less CPU time than glibc
</li><li>178x less CPU time than Musl Libc
</li></ul>

<p>
Here's how things actually work in practice. Imagine you have a workload
where all your threads need to do a serialized operation. With Cosmo, if
you're looking at htop, then it's going to appear like only one core is
active, whereas glibc and musl libc will fill up your entire CPU meter.
That's bad news if you're running a lot of jobs on the same server. If
just one of your servers has a mutex bloodbath, then all your resources
are gone, unless you're using cosmo. It's still a new C library and it's
a little rough around the edges. But it's getting so good, so fast, that
I'm starting to view <em>not</em> using it in production as an
abandonment of professional responsibility. The C library is so deeply
embedded in the software supply chain, and so depended upon, that you
really don't want it to be a planet killer. If essential unquestioned
tools are this wasteful then it's no wonder Amazon Cloud makes such a
fortune.

</p><p>
Last but not least, we have MacOS.

</p><div>
<table>
<tbody><tr>
  <th colspan="4"><p>
      MacOS Mutex Implementations<br>
      M2 Ultra

</p></th></tr><tr>
  <th>wall<br>time (µs)
  </th><th>user<br>time (µs)
  </th><th>system<br>time (µs)
  </th><th>implementation

</th></tr><tr>
  <td>52,263
  </td><td>43,202
  </td><td>911,009
  </td><td>Apple Libc

</td></tr><tr>
  <td>54,700
  </td><td>63,055
  </td><td>1,003,674
  </td><td>Cosmopolitan pthread_mutex_t

</td></tr></tbody></table>
</div>

<p>
On MacOS with an M2 ARM64 microprocessor, Apple's Libc slightly
outperforms Cosmopolitan's mutexes. For reasons I do not yet fully
understand, Cosmopolitan's normal mutex implementation doesn't work well
on this platform. It's possibly because the M2 and XNU are in league. So
on MacOS ARM, Cosmopolitan uses a simpler algorithm based on Ulrich
Drepper's
"<a href="https://dept-info.labri.fr/~denis/Enseignement/2008-IR/Articles/01-futex.pdf">Futexes
Are Tricky</a>" paper that basically just farms out all the heavy
lifting to XNU's ulock system calls. That's why performance is nearly
identical to what Apple does.

</p><p>
So in summary, these benchmark results indicate that Cosmopolitan
mutexes, in the best case, will be overwhelmingly better than
alternatives at the contended + tiny critical section use case, and in
the worst case, Cosmopolitan will be roughly as good.

</p><h3>How I Did It</h3>

<p>
The reason why Cosmopolitan Mutexes are so good is because I used a
library called <a href="https://github.com/google/nsync">nsync</a>. It
only has 371 stars on GitHub, but it was written by a distinguished
engineer at Google named Mike Burrows. If you don't know who he is, he's
the guy who coded Google's fiercest competitor, which was Altavista. If
you're not old enough to remember Altavista, it was the first search
engine that was good, and it ran on a single computer.

</p><p>
I've had a lot of fun integrating nsync into Cosmopolitan. I've even
had the opportunity to make upstream contributions. For example, I found
and fixed a bug in his mutex unlock function that had gone undiscovered
for years. I also managed to make contended nsync mutexes go 30% faster
than nsync upstream on AARCH64, by porting it to use C11 atomics. I
wrote new system integration for things like futexes that enable it do
portability at runtime. Lastly I made it work seamlessly with POSIX
thread cancelations.

</p><p>
So how does nsync do it? What are the tricks that it uses? Here's some
of my takes and analysis:

</p><ul>

<li>
nsync uses an optimistic CAS (compare and swap) immediately, so that
locking happens quickly when there's no contention.

</li><li>
When a lock can't be acquired, nsync adds the calling thread to a
doubly linked list of waiters. Each waiter gets its own semaphore on a
separate independent cacheline. This serves an important purpose. Once a
thread enters the wait state, it's no longer touching the main lock. To
understand why that's important, read Ulrich Drepper's paper
"<a href="https://people.freebsd.org/~lstewart/articles/cpumemory.pdf">What
Every Programmer Should Know About Memory</a>". He goes into great depth
on the coherency protocols used by modern microprocessors, where cores
basically talk to each other under the hood about which cachelines
they're using. When multiple cores touch the same ones, that creates a
lot of communication overhead within the processor.

</li><li>
nsync enlists the help of the operating system by using futexes. This is
a great abstraction invented by Linux some years ago, that quickly found
its way into other OSes. On MacOS, futexes are called ulock. On Windows,
futexes are called <code>WaitOnAddress()</code>. The only OS Cosmo
supports that doesn't have futexes is NetBSD, which implements POSIX
semaphores in kernelspace, and each semaphore sadly requires creating a
new file descriptor. But the important thing about futexes and
semaphores is they allow the OS to put a thread to sleep. That's what
lets nsync avoid consuming CPU time when there's nothing to do.

</li><li>
nsync avoids starvation with this concept of a "long wait". If a waiter
gets woken 30 times and fails to acquire the lock internally every time,
then nsync adds a bit to the lock that prevents threads that haven't
waited yet from acquiring. This means that initial CAS at the beginning
will fail for everyone else until the queue has had some time to clear.

</li><li>
nsync makes the use case we benchmarked go fast (contended lock with a
small critical section) using this concept of a "designated waker". This
bit on the main lock is set when a thread is awake and trying to acquire
the lock. In nsync, the unlock function is what's responsible for waking
the next thread in line waiting for the lock. Having this bit allows the
unlocking thread to know it needn't bother waking a second locker since
one is already awake.

</li></ul>

<p>
To learn more of nsync's secrets, you can read the source code here:
<a href="https://github.com/jart/cosmopolitan/tree/master/third_party/nsync/mu.c"><code>cosmopolitan/third_party/nsync/mu.c</code></a>.
See also
<a href="https://github.com/jart/cosmopolitan/tree/master/libc/intrin/pthread_mutex_lock.c"><code>cosmopolitan/libc/intrin/pthread_mutex_lock.c</code></a>.

</p><h3>Online Proof</h3>

<p>
If you want to see a live demo of a piece of software built with Cosmo
mutexes, then do your worst DDOS to the
<a href="http://ipv4.games/">http://ipv4.games/</a> web server. Now this
is truly a game for hackers, competing to dominate the Internet. You're
already playing this game because your IP was just claimed for jart. The
service runs on a GCE VM with 2 cores and so far it's managed to survive
being DDOS'd by botnets as large as 49,131,669 IPs. A lot of that is
thanks to nsync which allowed me to move SQL queries to background
threads which send messages to each other. There are still improvements
to be made, but overall it's held up well. You can even monitor
its <a href="http://ipv4.games/statusz">/statusz</a> health metrics.

</p><h3>Source Code</h3>

<pre><span>#define ITERATIONS 100000
#define THREADS    30</span>

<span>int</span> g_chores;
<span>pthread_mutex_t</span> g_locker = PTHREAD_MUTEX_INITIALIZER;

<span>void</span> *<span>worker</span>(<span>void</span> *arg) {
  <span>for</span> (<span>int</span> i = 0; i &lt; ITERATIONS; ++i) {
    pthread_mutex_lock(&amp;g_locker);
    ++g_chores;
    pthread_mutex_unlock(&amp;g_locker);
  }
  <span>return</span> 0;
}

<span>struct</span> <span>timeval</span> <span>tub</span>(<span>struct</span> <span>timeval</span> a, <span>struct</span> <span>timeval</span> b) {
  a.tv_sec -= b.tv_sec;
  <span>if</span> (a.tv_usec &lt; b.tv_usec) {
    a.tv_usec += 1000000;
    a.tv_sec--;
  }
  a.tv_usec -= b.tv_usec;
  <span>return</span> a;
}

<span>long</span> <span>tomicros</span>(<span>struct</span> <span>timeval</span> x) {
  <span>return</span> x.tv_sec * 1000000ul + x.tv_usec;
}

<span>int</span> <span>main</span>() {
  <span>struct</span> <span>timeval</span> start;
  gettimeofday(&amp;start, 0);

  <span>pthread_t</span> th[THREADS];
  for (int i = 0; i &lt; THREADS; ++i)
    pthread_create(&amp;th[i], 0, worker, 0);
  for (int i = 0; i &lt; THREADS; ++i)
    pthread_join(th[i], 0);
  assert(g_chores == THREADS * ITERATIONS);

  <span>struct</span> <span>rusage</span> ru;
  <span>struct</span> <span>timeval</span> end;
  gettimeofday(&amp;end, 0);
  getrusage(RUSAGE_SELF, &amp;ru);
  printf(<span>"%16ld us real\n"</span>
         <span>"%16ld us user\n"</span>
         <span>"%16ld us sys\n"</span>,
         tomicros(tub(end, start)),
         tomicros(ru.ru_utime),
         tomicros(ru.ru_stime));
}

</pre>

<p>
The reason we care about the contended case, because that's where mutex
implementations show their inequality. Uncontended mutexes usually
perform the same across implementations, and even then you might be
better off with a spin lock, which only takes a few lines:

</p><pre><span>void</span> <span>spin_lock</span>(<span>atomic_int</span> *lock) {
  if (atomic_exchange_explicit(lock, 1, memory_order_acquire)) {
    <span>for</span> (;;) {
      <span>for</span> (;;)
        <span>if</span> (!atomic_load_explicit(lock, memory_order_relaxed))
          <span>break</span>;
      <span>if</span> (!atomic_exchange_explicit(lock, 1, memory_order_acquire))
        <span>break</span>;
    }
  }
}

<span>void</span> <span>spin_unlock</span>(<span>atomic_int</span> *lock) {
  atomic_store_explicit(lock, 0, memory_order_release);
}
</pre>

<p>
Please note that spin locks should really only be used when you have no
other choice. They're useful in kernels, where extreme low level
constraints disallow anything fancy. Spin locks are also a useful
implementation detail in nsync locks. But overall they're bad. I imagine
many developers believe they're good. If so, it's probably because
they've only benchmarked wall time. With locks, it's important to take
CPU time into consideration too. That's why we use
<code>getrusage()</code>.

</p><h2 class="page" id="funding"><a href="#funding">Funding</a></h2>

<p>
  <a href="https://justine.lol/lemuria.png">
    <picture>
      <source srcset="https://worker.jart.workers.dev/sectorlisp2/lemuria.webp" type="image/webp">
      <img src="https://worker.jart.workers.dev/sectorlisp2/lemuria.png" width="850" height="360" alt="[United States of Lemuria - two dollar bill - all debts public and primate]">
    </picture>
  </a>

</p><p>
Funding for The Fastest Mutex was crowdsourced from Justine
Tunney's <a href="https://github.com/sponsors/jart">GitHub sponsors</a>
and <a href="https://www.patreon.com/jart">Patreon subscribers</a>, the
backing of
<a href="https://future.mozilla.org/mieco/">Mozilla's MIECO program</a>,
and the generous contributions of our
<a href="https://discord.gg/FwAVVu7eJ4">developer community</a> on
Discord. Your support is what makes projects like Cosmopolitan possible.
Thank you!

</p>
<img src="https://ipv4.games/claim?name=jart">
</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: I made a game you can play without anyone knowing (No Visuals/Sound) (328 pts)]]></title>
            <link>https://apps.apple.com/us/app/tik/id6720712299</link>
            <guid>41719531</guid>
            <pubDate>Wed, 02 Oct 2024 11:48:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://apps.apple.com/us/app/tik/id6720712299">https://apps.apple.com/us/app/tik/id6720712299</a>, See on <a href="https://news.ycombinator.com/item?id=41719531">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  
<!---->
<!---->
<!---->
    

<!---->
    <section>
      <h2>iPhone Screenshots</h2>
  
</section>


  <div dir="" data-test-bidi=""><p>There are times in life, when we have to be present. We can't be seen looking at our phones, no matter how boring the activity in front of us may be. So we just sit there, losing brain cells by the second. At least, thats how things were BEFORE TIK!</p><p>LIFE AFTER TIK:<br>Boredom is a thing of the past! Tik has no sounds or visuals, meaning you can play it anytime, anywhere! Just hold your phone in your hand, whether it be under a desk or in your pocket, and tap away! Because Tik uses haptic feedback (the thing your phone does when you make a purchase, or hold the send button in iMessages for a couple seconds) in order to provide interactive, immersive gameplay, there's no need to ever look at the screen or hear anything!</p><p>OK. SO HOW DOES TIK WORK?<br>You will feel a series of 5 to 8 “Tiks” (haptic vibrations). Then, try to copy the rhythm of the sequence by tapping it anywhere on the screen. If the timing of your taps is close enough, you win! If not, Tik will replay the sequence so you can try again.</p><p>THIS SEEMS TOO GOOD TO BE TRUE!<br>It Is! Well, almost, because it is true! Download Tik today and say goodbye to mundane meetings and boring presentations forever!</p><p>HAVE A QUESTION?<br>We would love to hear it! Please reach out to us at freestyle.feedback@gmail.com</p><p>(One more thing. We realize that Tik may be accessible to those with certain disabilities since the game relies solely on haptic feedback. We have added accessibility support within the app, but if there is anything else we can add to make the app more accessible please let us know by reaching out at freestyle.feedback@gmail.com or by telling us in a review. Thank you!)</p></div>

<!---->
  <div>
      <h2>What’s New</h2>
        

    </div>

<!---->
<!---->
<!---->
<!---->
  <section>
  <div>
    <h2>
      App Privacy
    </h2>

    


  </div>

  <p>
    The developer, <span>Rohan Sachdeva</span>, indicated that the app’s privacy practices may include handling of data as described below. For more information, see the <a href="https://sites.google.com/view/tik-game/home">developer’s privacy policy</a>.
  </p>

  <div>
        
        <h3>Data Not Collected</h3>
        <p>The developer does not collect any data from this app.</p>
<!---->      </div>

    <p>Privacy practices may vary, for example, based on the features you use or your age. <a href="https://apps.apple.com/story/id1538632801">Learn&nbsp;More</a></p>
</section>


<section>
  <div>
    <h2>Information</h2>
    <dl>
        <p>
          <dt>Seller</dt>
          <dd>
              Rohan Sachdeva
          </dd>
        </p>
        <p>
          <dt>Size</dt>
          <dd aria-label="367.6 kilobytes">367.6 KB</dd>
        </p>
        <p>
          <dt>Category</dt>
          <dd>
              <a href="https://itunes.apple.com/us/genre/id6014" data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;actionUrl&quot;:&quot;https://itunes.apple.com/us/genre/id6014&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;GenrePage&quot;}">
                Games
              </a>
          </dd>
        </p>
      <div>
        <dt>Compatibility</dt>
          <dd>
              <dl>
                <dt>
                  iPhone
                </dt>
                <dd>Requires iOS 14.0 or later.
                </dd>
              </dl>
              <dl>
                <dt>
                  iPod&nbsp;touch
                </dt>
                <dd>Requires iOS 14.0 or later.
                </dd>
              </dl>
          </dd>
      </div>
<!---->      
      
<!---->      <p>
        <dt>Copyright</dt>
        <dd>© 2024 Rohan Sachdeva</dd>
      </p>
        <p>
          <dt>Price</dt>
          <dd>$0.95</dd>
        </p>
<!---->
    </dl>
  </div>
  <div>
    <ul>
<!---->        <li>
          <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToAppSupport&quot;}" href="https://sites.google.com/view/tik-game/home">
            App Support
          </a>
        </li>
        <li>
          <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToPrivacyPolicy&quot;}" href="https://sites.google.com/view/tik-game/home">
            Privacy Policy
          </a>
        </li>
<!----><!---->    </ul>
  </div>
</section>

<section>
  <ul>
<!---->      <li>
        <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToAppSupport&quot;}" href="https://sites.google.com/view/tik-game/home">
          App Support
        </a>
      </li>
<!---->      <li>
        <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToPrivacyPolicy&quot;}" href="https://sites.google.com/view/tik-game/home">
          Privacy Policy
        </a>
      </li>
  </ul>
</section>

  <section>
    <p>
      <h2>Supports</h2>
    </p>
    <ul>
        <li>
          <img src="https://apps.apple.com/assets/images/supports/supports-FamilySharing@2x-f58f31bc78fe9fe7be3565abccbecb34.png" alt="" role="presentation">
          <div>
              <h3 dir="ltr">
    Family Sharing
</h3>


              <h4 dir="">
        

                    <p data-test-bidi="">Up to six family members can use this app with Family&nbsp;Sharing enabled.</p>

    


<!----></h4>


          </div>
        </li>
    </ul>
  </section>

<!---->
    <section>
      <p>
        <h2>
          More By This Developer
        </h2>
        <!---->
      </p>

      
    </section>

<!---->

<!---->

<!----></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[You Too Could Have Made Curl (126 pts)]]></title>
            <link>https://daniel.haxx.se/blog/2024/02/06/fosdem-2024-you-too-could-have-made-curl/</link>
            <guid>41719031</guid>
            <pubDate>Wed, 02 Oct 2024 10:24:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://daniel.haxx.se/blog/2024/02/06/fosdem-2024-you-too-could-have-made-curl/">https://daniel.haxx.se/blog/2024/02/06/fosdem-2024-you-too-could-have-made-curl/</a>, See on <a href="https://news.ycombinator.com/item?id=41719031">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page">

	<div id="primary" role="main">
			
<article id="post-24163">
	
		<p><img width="672" height="345" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/02/http3-for-everyone-audience.jpg" alt="" decoding="async">		</p>

		
	<!-- .entry-header -->

		<div>
		
<figure><p>
<iframe title="you too could have made curl - Daniel Stenberg at FOSDEM 2024" width="474" height="267" src="https://www.youtube.com/embed/kCJmAyUr1j4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
</p></figure>



<p>This is the video recording of my talk with this title, done at February 4, 2024 10:00 in the K1.105 room at FOSDEM 2024. The room can hold some 800 people but there were a few hundred seats still unoccupied. Several people I met up with later have insisted that 10 am on a Sunday is way too early for attending talks…</p>



<p>When I was about to start my talk, the slides would not show on the projector. Yeah, sigh. Nothing surprising maybe, but you always hope you can avoid these problems – in particular in the last moment with a huge audience waiting.</p>



<p>There was this separate video monitor laptop that clearly showed that my laptop would output the correct thing – in a proper resolution (1280 x 720 as per auto-negotiation), but the projector refused to play ball. The live stream could also see my output, so the problem was somehow from the video box to the projector.</p>



<p>Several people eventually got involved, things were rebooted multiple times, cables were yanked and replugged in again. First after I installed <a href="https://christian.amsuess.com/tools/arandr/">arandr</a> and forced-updated the resolution of my HDMI output to 1920×1080  the projector would suddenly show my presentation. (Later on I was told that people had <em>the same</em> problem in this room the day before…)</p>



<p>That was about nine minutes of technical difficulties that is cut out from the recording. Nine minutes to test my nerves and presentation finesse as I had to adapt.</p>
	</div><!-- .entry-content -->
	
	</article><!-- #post-24163 -->
		<nav>
		<h2>
			Post navigation		</h2>
		<!-- .nav-links -->
		</nav><!-- .navigation -->
		
<!-- #comments -->
		</div><!-- #primary -->

<!-- #content-sidebar -->
<div id="secondary">
		<h2>curl, open source and networking</h2>
	
	
		<!-- #primary-sidebar -->
	</div><!-- #secondary -->

		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Automattic–WP Engine Term Sheet (105 pts)]]></title>
            <link>https://automattic.com/2024/10/01/wpe-terms/</link>
            <guid>41718485</guid>
            <pubDate>Wed, 02 Oct 2024 08:41:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://automattic.com/2024/10/01/wpe-terms/">https://automattic.com/2024/10/01/wpe-terms/</a>, See on <a href="https://news.ycombinator.com/item?id=41718485">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="wrapper">
	<main id="content">
				
		
						
<p>One of the many lies in <a href="https://wpengine.com/wp-content/uploads/2024/09/Cease-and-Desist-Letter-to-Automattic-and-Request-to-Preserve-Documents-Sent.pdf">Silver Lake and WP Engine’s C&amp;D</a> was their claim that Automattic demanded money from them moments before our <a href="https://www.youtube.com/watch?v=fnI-QcVSwMU&amp;t=149s">CEO Matt Mullenweg gave his keynote at WordCamp US</a>. </p>



<p>That is not true. Automattic asked for a verbal agreement that WP Engine would give some percentage of their revenue back into WordPress, either in the form of a trademark agreement or employee hours spent on core WordPress.</p>



<p>For transparency, <a href="https://automattic.com/wp-content/uploads/2024/09/term-sheet-wp-engine-inc.-automattic-trademark-license_09.19.2024-1.pdf">Automattic is publishing the full term sheet</a> WP Engine was offered on September 20<sup>th</sup>. Given WP Engine’s behavior, deception, and incompetence since September 20<sup>th</sup> these terms are no longer sufficient.</p>



<p>Lee Wittlinger and Heather Brunner had ample time to resolve this conflict. In an effort to continue our transparency, here are some of the meetings we’ve had with WP Engine over the past 20 months:</p>



<p><strong>February 2023</strong></p>



<ul>
<li>February 23: Matt Mullenweg (Automattic CEO) and Heather Brunner (WP Engine CEO) meet for lunch at Eunice Restaurant in Houston.</li>
</ul>



<p><strong>March 2023</strong></p>



<ul>
<li>March 21: <a href="https://www.youtube.com/watch?v=kKHY6QPnclQ">Matt and Matías Ventura (WP’s Chief Architect) speak at WP Engine’s DE{CODE} conference</a>.</li>
</ul>



<p><strong>November 2023</strong></p>



<ul>
<li>November 28: Matt and Heather Brunner speak via phone.</li>
</ul>



<p><strong>January 2024</strong></p>



<ul>
<li>January 26: Matt and Heather Brunner meet via Zoom.</li>



<li>January 28: Matt, Toni Schneider, and Heather Brunner meet via Zoom. Matt was <a href="https://ma.tt/2024/02/samattical/">heading out on sabbatical</a> and Toni would be continuing discussions as Automattic’s interim CEO.</li>
</ul>



<p><strong>February 2024</strong></p>



<ul>
<li>February 5: Toni and Heather Brunner discuss trademarks and commercial agreement.</li>
</ul>



<p><strong>March 2024</strong></p>



<ul>
<li>March 22: Toni and Paul Maiorana from Automattic meet with Heather, Ezinne Udezue, and Ramadass Prabhakar from WP Engine.</li>



<li>March 29: Toni and Heather Brunner discuss agreement terms via email.</li>
</ul>



<p><strong>May 2024</strong></p>



<ul>
<li>May 30: Automattic shares first term sheet with WP Engine via email.</li>
</ul>



<p><strong>June 2024</strong></p>



<ul>
<li>June 12: Steve Deckert from Automattic meets with Victor Yuan, Carl Hargraves, Ezinne Udezue, and Ramadass Prabhakar from WP Engine.</li>



<li>June 26: Steve follows up with Victor Yuan. Victor requests a call.</li>
</ul>



<p><strong>July 2024</strong></p>



<ul>
<li>July 3:&nbsp;Steve and Jesse Friedman from Automattic meet via Zoom with Victor Yuan from WP Engine to review the terms a second time.</li>



<li>July 16: Steve follows up with Victor Yuan, expressing concern about the timeline.</li>
</ul>



<p><strong>September 2024</strong> </p>



<ul>
<li>September 17: Mark Davies (Automattic CFO) and Lee Wittlinger (Silver Lake managing director and WP Engine board member) meet via Zoom.</li>



<li>September 19: Mark and Lee Wittlinger meet via Zoom.</li>



<li>September 20: Mark and Lee Wittlinger meet by Zoom.</li>
</ul>



<p>On September 19 and 20, Lee Wittlinger and Heather Brunner did not answer any of Matt’s calls.</p>
					</main><!-- #content  -->
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[NixOS is a good server OS, except when it isn't (158 pts)]]></title>
            <link>https://sidhion.com/blog/posts/nixos_server_issues/</link>
            <guid>41717050</guid>
            <pubDate>Wed, 02 Oct 2024 04:06:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sidhion.com/blog/posts/nixos_server_issues/">https://sidhion.com/blog/posts/nixos_server_issues/</a>, See on <a href="https://news.ycombinator.com/item?id=41717050">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>Ever since I built my first NixOS system (I started by building a custom image to upload on DigitalOcean), I’ve been bothered by one thing:
the default installation size is large.
To give you an idea, this simple system (using flakes):</p>
<pre tabindex="0"><code>nixpkgs.lib.nixosSystem {
    system = "x86_64-linux";
    modules = [
        (nixpkgs.outPath + "/nixos/modules/profiles/minimal.nix")
        (nixpkgs.outPath + "/nixos/modules/profiles/headless.nix")
        {
            fileSystems."/".device = "/dev/sda1";
            boot.loader.systemd-boot.enable = true;
        }
    ];
}
</code></pre><p>ends up taking ~900MB of disk size on my system<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>!
Minimal and headless!</p>
<p>When I started working on improving this, I expected the eventual blog post to be very different than what it became, but you can’t win everything in life.
There’s a bit of pain ahead.</p>
<h2 id="the-context">The context</h2>
<p>I really like Nix and NixOS (I wouldn’t be spending time <a href="https://sidhion.com/blog/posts/joining-nix-documentation/">helping with their documentation</a> otherwise).
After spending some time managing NixOS servers, I really can’t see myself going back to other systems unless required by some external factor.
I’m also working on a system that has worker machines which will spin up a bunch of microVMs.</p>
<p>Naturally, I wanted to use NixOS both for the worker machines and the microVMs themselves.
Currently, the system on the microVMs is taking ~210MB (including kernel) of disk space, but it’s based on <a href="https://alpinelinux.org/">Alpine</a>.
The worker machines are already using NixOS, but I’d like them to be as lean as possible.</p>
<p>NixOS makes it very simple to manage a server from the outside.
You can push an entirely new system configuration without the server changing its behaviour, and then almost atomically switch the server to the new configuration.
You can easily configure the whole thing deterministically, deploy the same configuration to multiple servers, and even deploy the same configuration under a VM so you can locally test things if you wish to.</p>
<p>I envisioned a world where all my worker machines ran the bare minimum software required for things to work, which would be an amazing help to lock the system down, prevent any escalations in case some piece of software was broken into, and would also make deployments and tests faster.</p>
<p>And if I could achieve something like that on those machines, why not extend this to the OS running on the microVMs and keep things really lean?
This would be super helpful to cut boot times as much as possible, short of using a unikernel.</p>
<p>I knew from my previous experience with NixOS that it didn’t generate lean images by default, so a couple days ago I started looking into this to see if I could fix things, or at least significantly improve them.</p>
<p><strong>Important:</strong> what follows is an analysis of NixOS specifically for the purposes stated here.
I don’t really care about having some runtime-flexible server OS which lets me install packages and configure things ad-hoc, I want a thin, locked-down server with the single purpose of running the software I declare, and not a single extra tool in it.
(yes, I know I essentially want containers without containers.
I comment on this at the end.)</p>
<h2 id="figuring-out-package-dependencies-and-their-sizes">Figuring out package dependencies and their sizes</h2>
<p>A curious thing about the Nix ecosystem is that it has some pretty powerful tools, but they’re severely underdocumented, sometimes functionality is hidden by their naming, and/or some tools have some really specific assumptions, which makes it harder to use them more generally.</p>
<p>One such tool is <a href="https://nixos.org/manual/nix/stable/command-ref/nix-store/query"><code>nix-store --query</code></a> (to be honest, it is way more known than some other more “obscure” tools).
More specifically, <code>nix-store --query --tree</code> will give you a tree of packages<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>, starting from a package you specify, and show you the dependencies of that package, and their dependencies, and so on…
Running it will give you some output like this:</p>
<pre tabindex="0"><code>/nix/store/g4ppw7x76dyykj33x99xzf30zq5ym29z-nixos-system-nixos-24.05.20240323.44d0940
├───/nix/store/09fpwkb108ckhljahy7p84if7m8qh1wh-firmware
├───/nix/store/0v0wrr6ngh9d487lhwicwr5z61kz40zw-kmod-31
│   ├───/nix/store/1rm6sr6ixxzipv5358x0cmaw8rs84g2j-glibc-2.38-44
│   │   ├───/nix/store/3sxwxqzkkrgpgaibkm27ggb9kjbzdy31-xgcc-13.2.0-libgcc
│   │   ├───/nix/store/n9sq1bvghs9z0qg6cmwg27y4jmszwgqi-libidn2-2.3.7
│   │   │   ├───/nix/store/77yhmwrwism02371kzyda4d127kdwdnf-libunistring-1.1
│   │   │   │   └───/nix/store/77yhmwrwism02371kzyda4d127kdwdnf-libunistring-1.1 [...]
│   │   │   └───/nix/store/n9sq1bvghs9z0qg6cmwg27y4jmszwgqi-libidn2-2.3.7 [...]
...
</code></pre><p>To complement that, <code>nix-store --query --size</code> gives you (roughly) the size that a specific package takes on disk.
It’s slightly more complicated than this, but for our purposes it will be enough to understand how much disk is used.</p>
<p>There are some tools which help visualise all this information in cool ways.
Two of my favorites are <a href="https://github.com/utdemir/nix-tree">nix-tree</a> and <a href="https://github.com/craigmbooth/nix-visualize">nix-visualize</a>.
However, ideally I wanted an interactive graph so I could see each node in the graph by their size on disk, and inspect their dependencies, search things, and so on.
nix-visualize was the closest of the tools to give me a graph, but it wasn’t interactive and the node sizes weren’t based on disk usage, so I decided to write my own.</p>
<p>It took me some hours to come up with code that generated a <a href="https://graphviz.org/">graphviz</a> file, with node sizes based on disk usage.
Coupled with <a href="https://github.com/tintinweb/vscode-interactive-graphviz">vscode-interactive-graphviz</a>, I felt like I had a good approach to interactively working with the graph, but the visualisations turned out to be too crowded.
I tried to add some more space into things, but it was kind of a hack because graphviz likes to be the one to position elements.
In the end, I gave up on that idea and decided to just generate a CSV, which worked way better than I expected.
No wonder we still use spreadsheets for a lot of things!</p>
<p>The repository with the code and the final config of the NixOS system from this post is <a href="https://github.com/DanielSidhion/nixos-investigation">here</a>.</p>
<h2 id="an-investigation-of-a-minimal-headless-nixos-system">An investigation of a minimal, headless NixOS system</h2>
<p>With a way to see each package, its disk usage, and all its dependencies, let’s look at the minimal, headless system I mentioned in the beginning of the post.
The one that takes ~900MB.</p>
<figure><img src="https://sidhion.com/nixos_bare_starting.png" alt="A list of the heaviest packages by disk usage, viewed with the Edit csv extension for VSCode"><figcaption>
<p>A list of the heaviest packages by disk usage, viewed with the <a href="https://marketplace.visualstudio.com/items?itemName=janisdd.vscode-edit-csv">Edit csv</a> extension for VSCode</p>
</figcaption>
</figure>
<p>Each subsection below will be a small report of me investigating some items in this CSV<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>.
It starts “easy” and gets progressively more complicated.
Feel free to skim and skip any part if you don’t feel like it.</p>
<h2 id="getting-rid-of-nix-179mb-reduction">Getting rid of Nix (~179MB reduction)</h2>
<p>The heaviest item in that list is a mysterious “source” package.
A quick look into what the heck could be taking 170MB of disk space shows it’s actually a complete copy of Nixpkgs!</p>
<pre tabindex="0"><code>❯ ls /nix/store/amxd2p02wx78nyaa4bkb0hjvgwhz1dq7-source
CONTRIBUTING.md  README.md    doc        lib          nixos
COPYING          default.nix  flake.nix  maintainers  pkgs
</code></pre><p>Searching for that package’s <code>pos</code> (just an identifier I used in the code that generates the CSV and the graphviz files) shows that it’s only used by this other package:</p>
<p><img src="https://sidhion.com/etc_nix_registry.png" alt="etc-nix-registry.json using that package"></p>
<p>That package is a single file which doesn’t have a lot in it other than a link to the “source” package.
A search through Nixpkgs shows the file coming from <a href="https://github.com/NixOS/nixpkgs/blob/05677341df3102d5387629b7855afeff6069a6f3/nixos/modules/config/nix-flakes.nix#L90">here</a>, the actual content of <code>registry</code> coming from <a href="https://github.com/NixOS/nixpkgs/blob/6f414604e2a627ae3d8bc8f58573d8b50fb16829/nixos/modules/misc/nixpkgs-flake.nix#L91-L94">here</a>, and the <code>source</code> attribute being set <a href="https://github.com/NixOS/nixpkgs/blob/6f414604e2a627ae3d8bc8f58573d8b50fb16829/flake.nix#L39">here</a>.</p>
<p>I’m building this system with flakes and I’m using that <code>nixosSystem</code> function from Nixpkgs’s <code>flake.nix</code>, which means by default I get this extra 170MB in the system.
I <em>think</em> it would’ve been easy to just undo what Nixpkgs’s <code>flake.nix</code> is doing, but if you look at the list of the heaviest packages again, you’ll see that Nix itself is the 10th heaviest package in the system.</p>
<p>Nix also pulls a lot of dependencies, each one taking quite some space as well (for example, <code>aws-sdk-cpp-1.11.207</code> eats another 5.7MB by itself, and is <strong>only</strong> used by Nix).</p>
<p>After some thinking, I realised that I don’t need Nix in any of these systems.
I definitely don’t need it in a microVM, but I also don’t need it in my servers, because I’m building their configurations in an external machine and deploying the built bits directly.
So let’s add this to the system configuration:</p>
<pre tabindex="0"><code>nix.enable = false;
</code></pre><p>After rebuilding the system, we’re at ~733MB.</p>
<h2 id="getting-rid-of-perl-python-242mb-reduction">Getting rid of Perl, Python (~242MB reduction)</h2>
<p>After removing Nix, the 2nd heaviest package is Python3, and 3rd is Perl.</p>
<p>Python only comes in because of <code>install-systemd-boot.sh</code> (truly a shame, why waste so much disk space like this!), and Perl comes in through a bunch of perl-envs (search for <code>perl-5.38.2-env</code> in the CSV and you’ll see them).
Those perl-envs are all used in the top-level package, so let’s figure out where they’re being used there:</p>
<pre tabindex="0"><code>❯ grep -nr 'perl-5.38.2-env' /nix/store/7z0y5sscnpx4hczzkjh3jvjgn2mq3106-nixos-system-nixos-24.05.20240323.44d0940
/nix/store/7z0y5sscnpx4hczzkjh3jvjgn2mq3106-nixos-system-nixos-24.05.20240323.44d0940/dry-activate:23:/nix/store/d3qxgm4ffhi2ixx3n9clwqlr6z21dd8i-perl-5.38.2-env/bin/perl \
/nix/store/7z0y5sscnpx4hczzkjh3jvjgn2mq3106-nixos-system-nixos-24.05.20240323.44d0940/activate:43:/nix/store/d3qxgm4ffhi2ixx3n9clwqlr6z21dd8i-perl-5.38.2-env/bin/perl \
/nix/store/7z0y5sscnpx4hczzkjh3jvjgn2mq3106-nixos-system-nixos-24.05.20240323.44d0940/activate:63:/nix/store/zkmm5iha0rsm4ypwfc67byq52gz0jb8b-perl-5.38.2-env/bin/perl /nix/store/rg5rf512szdxmnj9qal3wfdnpfsx38qi-setup-etc.pl /nix/store/jq5a0yw04ichvggf7dx80xc438z2v1gv-etc/etc
/nix/store/7z0y5sscnpx4hczzkjh3jvjgn2mq3106-nixos-system-nixos-24.05.20240323.44d0940/bin/switch-to-configuration:1:#! /nix/store/8mlvyl3sab5hxpxz2naz5g2sfd42a40q-perl-5.38.2-env/bin/perl
</code></pre><p>To make it easier to parse this bunch of text:
Perl is used in the <code>dry-activate</code>, <code>activate</code>, and <code>bin/switch-to-configuration</code> scripts.
<code>dry-activate</code> only needs Perl to run the <code>update-users-groups.pl</code> script, while the <code>activate</code> script runs the same script and also <code>setup-etc.pl</code>, and <code>bin/switch-to-configuration</code> is a Perl script from the beginning.</p>
<p><strong>Fun fact:</strong> the minimal profile disables man pages and most other documentation bits, but the perl man pages are the only thing that still get included in the system because of the perl-envs!</p>
<p>I thought Perl was going to be hard to remove, but I was determined to at least take a look.
After all, judging only by the naming, <code>update-users-groups.pl</code> doesn’t seem like the kind of thing I need - I don’t expect my servers to create any extra users or groups dynamically, so there’s nothing to update.</p>
<p>(note that I have no idea what <code>update-users-groups.pl</code> actually does, this was just my thinking from reading its name)</p>
<p>I decided to search Nixpkgs for that script name to get an idea of how it was being added to the system.
It was through this search that I stumbled upon a Nixpkgs tracking issue called <a href="https://github.com/NixOS/nixpkgs/issues/267982">Perlless Activation - Tracking Issue</a>.</p>
<p>Someone decided it wasn’t a good idea to have Perl in the base NixOS system for slightly different reasons, and they did a lot of work to get rid of it!
Luckily for me, I could piggyback off their work and include the following module in my system configuration:</p>
<pre tabindex="0"><code>modules = [
    ...
    (nixpkgs.outPath + "/nixos/modules/profiles/perlless.nix")
];
</code></pre><p>After rebuilding the system, we’re at ~491MB.
As a bonus, Python is now gone as well!</p>
<h2 id="deduplicating-systemd-14mb-reduction">Deduplicating systemd (~14MB reduction)</h2>
<p>systemd is now the 2nd heaviest package.
It has some stuff inside that I think could be removed, but since it’s an integral part of the system, let’s overlook it for now.
Going through the list of packages, what’s this in 5th place?</p>
<p><img src="https://sidhion.com/systemd_minimal.png" alt="systemd-minimal is also in the list of packages!"></p>
<p>For some reason, our NixOS system has both systemd <strong>and</strong> systemd-minimal!
A look through which packages use systemd-minimal show that only dbus uses it.
It comes from <a href="https://github.com/NixOS/nixpkgs/blob/71c7097220cf92a2b005d82904afc590e05b3a5a/pkgs/development/libraries/dbus/default.nix#L7">here</a>.</p>
<p>Nixpkgs has a lot of packages, and sometimes due to circular dependencies or to keep the size of dependencies smaller, it introduces variants of packages/functions that have reduced functionality.
If you contribute to Nixpkgs, chances are that at some point, someone will give some feedback on ways you can use variants that have a smaller dependency chain, or smaller size (a common example is using <code>stdenvNoCC</code> instead of <code>stdenv</code>).
systemd-minimal probably exists to avoid certain circular dependencies, but I’m not sure.
It’s defined <a href="https://github.com/NixOS/nixpkgs/blob/2726f127c15a4cc9810843b96cad73c7eb39e443/pkgs/top-level/all-packages.nix#L28207-L28251">here</a>.</p>
<p>In any case, I’d like to get rid of systemd-minimal, since we already have the full systemd in our system anyway.
There is no easy way to override the package used by the NixOS module that brings in dbus, so we’ll have to add a <a href="https://nixos.org/manual/nixpkgs/unstable/#chap-overlays">Nixpkgs overlay</a> to change the dbus package directly:</p>
<pre tabindex="0"><code>nixpkgs.overlays = [
(
    self: super:
    {
        dbus = super.dbus.override {
            systemdMinimal = self.systemd;
        };
    }
)
];
</code></pre><p>After rebuilding the system, we’re now at ~477MB.</p>
<h2 id="removing-udev-lvm-sudo-and-security-wrappers-30mb-reduction">Removing udev, lvm, sudo and security wrappers (~30MB reduction)</h2>
<p>This is where things start to get very messy.
While looking through the list of heaviest packages, I saw an “hwdb.bin” package which seems linked to udev.
I don’t know about udev too much, but it feels like it’s only needed for scenarios that won’t happen on the kind of servers I want to manage.</p>
<p>In case it is actually used for something important and this breaks the system, I have a feeling that a workaround could be hard-coded and wouldn’t require udev anyway.
I’d gladly go into that rabbit hole, but (spoiler alert) you’ll see that I gave up well before that.</p>
<p>There’s an option to disable it:</p>
<pre tabindex="0"><code>services.udev.enable = false;
</code></pre><p>While looking through the stuff adjacent to udev, I noticed that lvm is also enabled by default.
Similar reasoning to udev, I don’t think I’d need lvm for these servers, so I disabled it.</p>
<pre tabindex="0"><code>services.lvm.enable = false;
</code></pre><p>Before proceeding with more of this, I took a break and looked at some more packages in the list.
At that point, it became clear that I’d have to butcher a LOT of NixOS config to remove many packages in there.
I made a decision to continue with this exercise, but make it less about keeping a working system throughout and more about understanding the efforts to just get rid of some of these packages.
To get to a barebones system, I’d need to remove a lot of them.</p>
<p>While looking through the lvm stuff, I noticed fuse2 and fuse3 are hard-coded by default (and changing those gets complicated quickly).
I saw they’re used by some security wrappers, which also set other security wrappers for mount, umount, sudo, and a bunch of other binaries.
This is needed because Nix doesn’t support sid/gid binaries by design, so NixOS has a binary that dynamically sets some capabilities and permissions, and then executes any other binary with the elevated bits.</p>
<p>I don’t like having this functionality.
Instead of a single wrapper binary which receives an argument with the binary to execute with elevated permissions, I’d rather have X wrapper binaries with hardcoded paths and no parametrisation of any kind (one for each of the X things I want to execute), and that’s only IF I actually need this functionality.</p>
<p>For anything I want to run in these servers, I think I can configure the proper permissions through systemd unit configs.</p>
<p>The security wrappers module doesn’t have an <code>enable</code> option to toggle it off, so one way to get rid of it completely is to add it to the <a href="https://nixos.org/manual/nixos/unstable/#sec-replace-modules"><code>disabledModules</code> attribute</a>.
This requires me to provide dummy options that were provided by the security wrappers module earlier, because when building a NixOS system, by default <strong>every module</strong> gets evaluated (most of them just won’t do anything because they’re not enabled).
Some of these modules set additional wrappers, so the dummy options are needed to make the module system happy.</p>
<pre tabindex="0"><code>({ lib, pkgs, ... }: {
    disabledModules = [ "security/wrappers/default.nix" ];

    options.security = {
        wrappers = lib.mkOption {
            type = lib.types.attrs;
            default = { };
        };
        wrapperDir = lib.mkOption {
            type = lib.types.path;
            default = "/run/wrappers/bin";
        };
    };

    config = {
        # ...
    };
})
</code></pre><p>I <em>think</em> doing this could break some script that calls mount or umount or fuse (because those are hardcoded in the security wrappers module), but I also think that most scripts that use those are being run directly as root, so I’m not sure.</p>
<p>To finish this section, let’s also disable sudo completely because it’s useless without its security wrapper.</p>
<pre tabindex="0"><code>security.sudo.enable = false;
</code></pre><p>We’re at ~447MB now.</p>
<h2 id="some-other-minimal-shenanigans">Some other minimal shenanigans</h2>
<p>At this point, the 10th and 11st heaviest packages are util-linux and util-linux-minimal, respectively.
Well, this seems similar to that systemd-minimal thing from a while ago!</p>
<p>Let’s look at where these are being used:</p>
<ul>
<li>util-linux
<ul>
<li>system-path, a bunch of systemd services and a “mount-pstore” shell script.</li>
</ul>
</li>
<li>util-linux-minimal
<ul>
<li>fuse2 and fuse3, and etc-systemd-system.conf</li>
</ul>
</li>
</ul>
<p>Removing fuse is very annoying (although to be honest, with all the mess in the config so far, it wouldn’t even look that bad anymore).
But we can at least try to make them use util-linux instead of util-linux-minimal, right?</p>
<p>To get there, let’s look at how these packages <a href="https://github.com/NixOS/nixpkgs/blob/6504cbb171517dc371c40b502a55fe4a32aad6d1/pkgs/top-level/all-packages.nix#L27345-L27349">are declared in <code>all-packages.nix</code></a>.
We’ll need an overlay, but trying to change <code>fusePackages</code> to use the normal util-linux will hit an infinite recursion error, so I’ll start by overlaying <code>fuse3</code>:</p>
<pre tabindex="0"><code>nixpkgs.overlays = [(
    self: super: {
        fuse3 = (self.lib.dontRecurseIntoAttrs (self.callPackage (nixpkgs.outPath + "/pkgs/os-specific/linux/fuse") { })).fuse_3;
    }
)];
</code></pre><p>This builds nicely, but the moment I try to do this with fuse2, the infinite recursion error is back.
<em>Sigh</em>.
Whatever.</p>
<p>Browsing through the list of packages, I also see systemd-minimal-libs sneaking in there.
It’s being used by a bunch of other packages, and it’s equally difficult to add more overlays to get rid of it.
Infinite recursions all around.</p>
<p>This is where I look at the current system config, look at all the notes I made of things to look into that I haven’t yet (the list is right there in the next section), think about how much worse it’ll get by trying to fix all of this, and give up.</p>
<h2 id="things-i-noted-but-didnt-look-at">Things I noted, but didn’t look at</h2>
<ul>
<li>
<p>With Nix gone, the heaviest package was the linux kernel at ~136MB.
I know I can get it down to ~50MB easily (the kernel used by default on NixOS has a lot of modules and extra things that a server doesn’t need), so I left that for later because it was easy.</p>
</li>
<li>
<p>One disadvantage of a perlless system is that it can’t switch to a different configuration at runtime, because the script that does this is written in Perl.
This isn’t an issue for most of the servers in my scenario.
MicroVMs don’t need that, and I’d be perfectly ok just killing a bunch of other servers and starting new ones with the updated configuration.</p>
<p>However, I made a note to look into that perl script and figure out how much work it would be to build a replacement.
This is something that needs to happen anyway at some point, and would benefit the NixOS community at large.</p>
</li>
<li>
<p>A bunch of packages build with all locales and some internationalisation content.
Those end up taking some good space, so I made a note to look at how to simplify this and get rid of most of the locales and files I wouldn’t need.</p>
</li>
<li>
<p>The system has both libressl and openssl packages.
libressl is only used for netcat, but I don’t really need it in the servers.
In fact, NixOS includes a lot of utilities by default (and marks them as required, making it super annoying to remove them) which aren’t really needed on the servers.</p>
</li>
<li>
<p>A bunch of extra default config files that aren’t needed (such as bashrc) could be removed.
This would also remove some packages that they use, such as bash-completion, which won’t ever be needed in the servers.</p>
</li>
<li>
<p>coreutils and util-linux are both kind of heavy, but it’s very likely that the scripts and things that use them only really need a few binaries from each one.
Perhaps an overlay that filters the binaries only to the list that are used would help free up quite a bunch of disk space.</p>
</li>
<li>
<p><code>nix-store</code> has a command to <a href="https://nixos.org/manual/nix/stable/command-ref/nix-store/optimise">optimise</a> disk space by finding identical files and hard-linking them.
This could be helpful in some cases, but might not be possible in others, depending on how a server is imaged, or how new configuration gets pushed to it.
It could be useful to decrease the disk space used by some of those “-minimal” packages (as long as they share exactly the same file).</p>
</li>
</ul>
<h2 id="leaving-this-to-the-future">Leaving this to the future</h2>
<p>There is a huge audience that uses NixOS as a personal OS, and a lot of the defaults and modules present in NixOS reflect that.
NixOS can still be used as a server OS, but it requires a very different set of configurations, and it still ends up not being adequate in every situation.</p>
<p>I can (and will) still apply many of the configs I used in this post to my existing servers and make them leaner, which will already be useful, because it cuts ~300MB of stuff I don’t need.
I got some experience and figured out some tools to help me investigate these issues more whenever I feel the need to.</p>
<p>But over the 2 days I spent looking at this, I concluded that trying to mold NixOS into the shape I envisioned just isn’t the way to go, but I also don’t like the other option if I want to stick with it, which is creating a “fork” of NixOS that is <strong>very</strong> opinionated and completely focused on server scenarios.</p>
<p>I was trying to bring NixOS to a bare minimum, which is an exercise similar to building containers with the bare minimum required for the software in the container to run.
I think this is a worthy endeavour.
I think we have all the tools in regular non-docker, non-kubernetes linux to get to a similar outcome, except we won’t need docker or kubernetes or whatever in this new land, thus removing quite a bunch of complexity from the systems we build.</p>
<p>But doing it on top of NixOS currently feels like a bad path to take.</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Nvidia releases NVLM 1.0 72B open weight model (144 pts)]]></title>
            <link>https://huggingface.co/nvidia/NVLM-D-72B</link>
            <guid>41716975</guid>
            <pubDate>Wed, 02 Oct 2024 03:48:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://huggingface.co/nvidia/NVLM-D-72B">https://huggingface.co/nvidia/NVLM-D-72B</a>, See on <a href="https://news.ycombinator.com/item?id=41716975">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
	<!-- HTML_TAG_START --><p>
  <img width="300" alt="Image Description" src="https://huggingface.co/nvidia/NVLM-D-72B/resolve/main/nvlm-logo-light.png">
</p>



<h2>
	<a rel="nofollow" href="#model-details" id="model-details">
		
	</a>
	<span>
		Model Details
	</span>
</h2>
<p>Today (September 17th, 2024), we introduce <a rel="nofollow" href="https://arxiv.org/abs/2409.11402">NVLM 1.0</a>, a family of frontier-class multimodal large language models (LLMs) that achieve state-of-the-art results on vision-language tasks, rivaling the leading proprietary models (e.g., GPT-4o) and open-access models (e.g., Llama 3-V 405B and InternVL 2). Remarkably, NVLM 1.0 shows improved text-only performance over its LLM backbone after multimodal training. </p>
<p>In this repo, we are open-sourcing NVLM-1.0-D-72B (decoder-only architecture), the decoder-only model weights and code for the community.</p>
<h2>
	<a rel="nofollow" href="#other-resources" id="other-resources">
		
	</a>
	<span>
		Other Resources
	</span>
</h2>
<p><a rel="nofollow" href="https://huggingface.co/nvidia/NVLM-D-72B/tree/main">Inference Code (HF)</a>   <a rel="nofollow" href="">Training Code (Coming soon)</a>   <a rel="nofollow" href="https://research.nvidia.com/labs/adlr/NVLM-1/">Website</a>   <a rel="nofollow" href="https://arxiv.org/abs/2409.11402">Paper</a></p>
<h2>
	<a rel="nofollow" href="#benchmark-results" id="benchmark-results">
		
	</a>
	<span>
		Benchmark Results
	</span>
</h2>
<p>We train our model with legacy <a rel="nofollow" href="https://github.com/NVIDIA/Megatron-LM/tree/main/megatron/legacy">Megatron-LM</a> and adapt the codebase to Huggingface for model hosting, reproducibility, and inference.
We observe numerical differences between the Megatron and Huggingface codebases, which are within the expected range of variation. 
We provide the results from both the Huggingface codebase and the Megatron codebase for reproducibility and comparison with other models.</p>
<p>Results (as of September 17th, 2024) in the multimodal benchmarks are as follows:</p>
<div>
	<table>
		<thead><tr>
<th>Benchmark</th>
<th>MMMU (val / test)</th>
<th>MathVista</th>
<th>OCRBench</th>
<th>AI2D</th>
<th>ChartQA</th>
<th>DocVQA</th>
<th>TextVQA</th>
<th>RealWorldQA</th>
<th>VQAv2</th>
</tr>

		</thead><tbody><tr>
<td>NVLM-D 1.0 72B (Huggingface)</td>
<td>58.7 / 54.9</td>
<td>65.2</td>
<td>852</td>
<td>94.2</td>
<td>86.0</td>
<td>92.6</td>
<td>82.6</td>
<td>69.5</td>
<td>85.4</td>
</tr>
<tr>
<td>NVLM-D 1.0 72B (Megatron)</td>
<td>59.7 / 54.6</td>
<td>65.2</td>
<td>853</td>
<td>94.2</td>
<td>86.0</td>
<td>92.6</td>
<td>82.1</td>
<td>69.7</td>
<td>85.4</td>
</tr>
<tr>
<td>Llama 3.2 90B</td>
<td>60.3 / -</td>
<td>57.3</td>
<td>-</td>
<td>92.3</td>
<td>85.5</td>
<td>90.1</td>
<td>-</td>
<td>-</td>
<td>78.1</td>
</tr>
<tr>
<td>Llama 3-V 70B</td>
<td>60.6 / -</td>
<td>-</td>
<td>-</td>
<td>93.0</td>
<td>83.2</td>
<td>92.2</td>
<td>83.4</td>
<td>-</td>
<td>79.1</td>
</tr>
<tr>
<td>Llama 3-V 405B</td>
<td>64.5 / -</td>
<td>-</td>
<td>-</td>
<td>94.1</td>
<td>85.8</td>
<td>92.6</td>
<td>84.8</td>
<td>-</td>
<td>80.2</td>
</tr>
<tr>
<td>InternVL2-Llama3-76B</td>
<td>55.2 / -</td>
<td>65.5</td>
<td>839</td>
<td>94.8</td>
<td>88.4</td>
<td>94.1</td>
<td>84.4</td>
<td>72.2</td>
<td>-</td>
</tr>
<tr>
<td>GPT-4V</td>
<td>56.8 / 55.7</td>
<td>49.9</td>
<td>645</td>
<td>78.2</td>
<td>78.5</td>
<td>88.4</td>
<td>78.0</td>
<td>61.4</td>
<td>77.2</td>
</tr>
<tr>
<td>GPT-4o</td>
<td>69.1 / -</td>
<td>63.8</td>
<td>736</td>
<td>94.2</td>
<td>85.7</td>
<td>92.8</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Claude 3.5 Sonnet</td>
<td>68.3 / -</td>
<td>67.7</td>
<td>788</td>
<td>94.7</td>
<td>90.8</td>
<td>95.2</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Gemini 1.5 Pro (Aug 2024)</td>
<td>62.2 / -</td>
<td>63.9</td>
<td>754</td>
<td>94.4</td>
<td>87.2</td>
<td>93.1</td>
<td>78.7</td>
<td>70.4</td>
<td>80.2</td>
</tr>
</tbody>
	</table>
</div>
<h2>
	<a rel="nofollow" href="#how-to-use" id="how-to-use">
		
	</a>
	<span>
		How to use
	</span>
</h2>
<p>When converting Megatron checkpoint to Huggingface, we adapt <a rel="nofollow" href="https://huggingface.co/OpenGVLab/InternVL2-Llama3-76B">InternVL codebase</a> to support model loading and multi-GPU inference in HF. For training, please refer to <a rel="nofollow" href="">Megatron-LM (Coming soon)</a>.</p>
<h3>
	<a rel="nofollow" href="#prepare-the-environment" id="prepare-the-environment">
		
	</a>
	<span>
		Prepare the environment
	</span>
</h3>
<p>We provide a docker build file in the <a rel="nofollow" href="https://huggingface.co/nvidia/NVLM-D-72B/blob/main/Dockerfile">Dockerfile</a> for reproduction. </p>
<p>The docker image is based on <code>nvcr.io/nvidia/pytorch:23.09-py3</code>. </p>
<p><em>Note: We observe that different transformer versions / CUDA versions / docker versions can lead to slight benchmark number differences. We recommend using the Dockerfile above for precise reproduction.</em></p>
<h3>
	<a rel="nofollow" href="#model-loading" id="model-loading">
		
	</a>
	<span>
		Model loading
	</span>
</h3>
<pre><code><span>import</span> torch
<span>from</span> transformers <span>import</span> AutoModel

path = <span>"nvidia/NVLM-D-72B"</span>
model = AutoModel.from_pretrained(
    path,
    torch_dtype=torch.bfloat16,
    low_cpu_mem_usage=<span>True</span>,
    use_flash_attn=<span>False</span>,
    trust_remote_code=<span>True</span>).<span>eval</span>()
</code></pre>
<h3>
	<a rel="nofollow" href="#multiple-gpus" id="multiple-gpus">
		
	</a>
	<span>
		Multiple GPUs
	</span>
</h3>
<p>The model can be loaded on multiple GPUs as follows:</p>
<pre><code><span>import</span> torch
<span>import</span> math
<span>from</span> transformers <span>import</span> AutoModel

<span>def</span> <span>split_model</span>():
    device_map = {}
    world_size = torch.cuda.device_count()
    num_layers = <span>80</span>
    <span># Since the first GPU will be used for ViT, treat it as half a GPU.</span>
    num_layers_per_gpu = math.ceil(num_layers / (world_size - <span>0.5</span>))
    num_layers_per_gpu = [num_layers_per_gpu] * world_size
    num_layers_per_gpu[<span>0</span>] = math.ceil(num_layers_per_gpu[<span>0</span>] * <span>0.5</span>)
    layer_cnt = <span>0</span>
    <span>for</span> i, num_layer <span>in</span> <span>enumerate</span>(num_layers_per_gpu):
        <span>for</span> j <span>in</span> <span>range</span>(num_layer):
            device_map[<span>f'language_model.model.layers.<span>{layer_cnt}</span>'</span>] = i
            layer_cnt += <span>1</span>
    device_map[<span>'vision_model'</span>] = <span>0</span>
    device_map[<span>'mlp1'</span>] = <span>0</span>
    device_map[<span>'language_model.model.tok_embeddings'</span>] = <span>0</span>
    device_map[<span>'language_model.model.embed_tokens'</span>] = <span>0</span>
    device_map[<span>'language_model.output'</span>] = <span>0</span>
    device_map[<span>'language_model.model.norm'</span>] = <span>0</span>
    device_map[<span>'language_model.lm_head'</span>] = <span>0</span>
    device_map[<span>f'language_model.model.layers.<span>{num_layers - <span>1</span>}</span>'</span>] = <span>0</span>

    <span>return</span> device_map

path = <span>"nvidia/NVLM-D-72B"</span>
device_map = split_model()
model = AutoModel.from_pretrained(
    path,
    torch_dtype=torch.bfloat16,
    low_cpu_mem_usage=<span>True</span>,
    use_flash_attn=<span>False</span>,
    trust_remote_code=<span>True</span>,
    device_map=device_map).<span>eval</span>()
</code></pre>
<h3>
	<a rel="nofollow" href="#inference" id="inference">
		
	</a>
	<span>
		Inference
	</span>
</h3>
<pre><code><span>import</span> torch
<span>from</span> transformers <span>import</span> AutoTokenizer, AutoModel
<span>import</span> math
<span>from</span> PIL <span>import</span> Image
<span>import</span> torchvision.transforms <span>as</span> T
<span>from</span> torchvision.transforms.functional <span>import</span> InterpolationMode


<span>def</span> <span>split_model</span>():
    device_map = {}
    world_size = torch.cuda.device_count()
    num_layers = <span>80</span>
    <span># Since the first GPU will be used for ViT, treat it as half a GPU.</span>
    num_layers_per_gpu = math.ceil(num_layers / (world_size - <span>0.5</span>))
    num_layers_per_gpu = [num_layers_per_gpu] * world_size
    num_layers_per_gpu[<span>0</span>] = math.ceil(num_layers_per_gpu[<span>0</span>] * <span>0.5</span>)
    layer_cnt = <span>0</span>
    <span>for</span> i, num_layer <span>in</span> <span>enumerate</span>(num_layers_per_gpu):
        <span>for</span> j <span>in</span> <span>range</span>(num_layer):
            device_map[<span>f'language_model.model.layers.<span>{layer_cnt}</span>'</span>] = i
            layer_cnt += <span>1</span>
    device_map[<span>'vision_model'</span>] = <span>0</span>
    device_map[<span>'mlp1'</span>] = <span>0</span>
    device_map[<span>'language_model.model.tok_embeddings'</span>] = <span>0</span>
    device_map[<span>'language_model.model.embed_tokens'</span>] = <span>0</span>
    device_map[<span>'language_model.output'</span>] = <span>0</span>
    device_map[<span>'language_model.model.norm'</span>] = <span>0</span>
    device_map[<span>'language_model.lm_head'</span>] = <span>0</span>
    device_map[<span>f'language_model.model.layers.<span>{num_layers - <span>1</span>}</span>'</span>] = <span>0</span>

    <span>return</span> device_map


IMAGENET_MEAN = (<span>0.485</span>, <span>0.456</span>, <span>0.406</span>)
IMAGENET_STD = (<span>0.229</span>, <span>0.224</span>, <span>0.225</span>)


<span>def</span> <span>build_transform</span>(<span>input_size</span>):
    MEAN, STD = IMAGENET_MEAN, IMAGENET_STD
    transform = T.Compose([
        T.Lambda(<span>lambda</span> img: img.convert(<span>'RGB'</span>) <span>if</span> img.mode != <span>'RGB'</span> <span>else</span> img),
        T.Resize((input_size, input_size), interpolation=InterpolationMode.BICUBIC),
        T.ToTensor(),
        T.Normalize(mean=MEAN, std=STD)
    ])
    <span>return</span> transform


<span>def</span> <span>find_closest_aspect_ratio</span>(<span>aspect_ratio, target_ratios, width, height, image_size</span>):
    best_ratio_diff = <span>float</span>(<span>'inf'</span>)
    best_ratio = (<span>1</span>, <span>1</span>)
    area = width * height
    <span>for</span> ratio <span>in</span> target_ratios:
        target_aspect_ratio = ratio[<span>0</span>] / ratio[<span>1</span>]
        ratio_diff = <span>abs</span>(aspect_ratio - target_aspect_ratio)
        <span>if</span> ratio_diff &lt; best_ratio_diff:
            best_ratio_diff = ratio_diff
            best_ratio = ratio
        <span>elif</span> ratio_diff == best_ratio_diff:
            <span>if</span> area &gt; <span>0.5</span> * image_size * image_size * ratio[<span>0</span>] * ratio[<span>1</span>]:
                best_ratio = ratio
    <span>return</span> best_ratio


<span>def</span> <span>dynamic_preprocess</span>(<span>image, min_num=<span>1</span>, max_num=<span>12</span>, image_size=<span>448</span>, use_thumbnail=<span>False</span></span>):
    orig_width, orig_height = image.size
    aspect_ratio = orig_width / orig_height

    <span># calculate the existing image aspect ratio</span>
    target_ratios = <span>set</span>(
        (i, j) <span>for</span> n <span>in</span> <span>range</span>(min_num, max_num + <span>1</span>) <span>for</span> i <span>in</span> <span>range</span>(<span>1</span>, n + <span>1</span>) <span>for</span> j <span>in</span> <span>range</span>(<span>1</span>, n + <span>1</span>) <span>if</span>
        i * j &lt;= max_num <span>and</span> i * j &gt;= min_num)
    target_ratios = <span>sorted</span>(target_ratios, key=<span>lambda</span> x: x[<span>0</span>] * x[<span>1</span>])

    <span># find the closest aspect ratio to the target</span>
    target_aspect_ratio = find_closest_aspect_ratio(
        aspect_ratio, target_ratios, orig_width, orig_height, image_size)

    <span># calculate the target width and height</span>
    target_width = image_size * target_aspect_ratio[<span>0</span>]
    target_height = image_size * target_aspect_ratio[<span>1</span>]
    blocks = target_aspect_ratio[<span>0</span>] * target_aspect_ratio[<span>1</span>]

    <span># resize the image</span>
    resized_img = image.resize((target_width, target_height))
    processed_images = []
    <span>for</span> i <span>in</span> <span>range</span>(blocks):
        box = (
            (i % (target_width // image_size)) * image_size,
            (i // (target_width // image_size)) * image_size,
            ((i % (target_width // image_size)) + <span>1</span>) * image_size,
            ((i // (target_width // image_size)) + <span>1</span>) * image_size
        )
        <span># split the image</span>
        split_img = resized_img.crop(box)
        processed_images.append(split_img)
    <span>assert</span> <span>len</span>(processed_images) == blocks
    <span>if</span> use_thumbnail <span>and</span> <span>len</span>(processed_images) != <span>1</span>:
        thumbnail_img = image.resize((image_size, image_size))
        processed_images.append(thumbnail_img)
    <span>return</span> processed_images


<span>def</span> <span>load_image</span>(<span>image_file, input_size=<span>448</span>, max_num=<span>12</span></span>):
    image = Image.<span>open</span>(image_file).convert(<span>'RGB'</span>)
    transform = build_transform(input_size=input_size)
    images = dynamic_preprocess(image, image_size=input_size, use_thumbnail=<span>True</span>, max_num=max_num)
    pixel_values = [transform(image) <span>for</span> image <span>in</span> images]
    pixel_values = torch.stack(pixel_values)
    <span>return</span> pixel_values

path = <span>"nvidia/NVLM-D-72B"</span>
device_map = split_model()
model = AutoModel.from_pretrained(
    path,
    torch_dtype=torch.bfloat16,
    low_cpu_mem_usage=<span>True</span>,
    use_flash_attn=<span>False</span>,
    trust_remote_code=<span>True</span>,
    device_map=device_map).<span>eval</span>()

<span>print</span>(model)

tokenizer = AutoTokenizer.from_pretrained(path, trust_remote_code=<span>True</span>, use_fast=<span>False</span>)
generation_config = <span>dict</span>(max_new_tokens=<span>1024</span>, do_sample=<span>False</span>)

<span># pure-text conversation</span>
question = <span>'Hello, who are you?'</span>
response, history = model.chat(tokenizer, <span>None</span>, question, generation_config, history=<span>None</span>, return_history=<span>True</span>)
<span>print</span>(<span>f'User: <span>{question}</span>\nAssistant: <span>{response}</span>'</span>)

<span># single-image single-round conversation</span>
pixel_values = load_image(<span>'path/to/your/example/image.jpg'</span>, max_num=<span>6</span>).to(
    torch.bfloat16)
question = <span>'&lt;image&gt;\nPlease describe the image shortly.'</span>
response = model.chat(tokenizer, pixel_values, question, generation_config)
<span>print</span>(<span>f'User: <span>{question}</span>\nAssistant: <span>{response}</span>'</span>)
</code></pre>
<h2>
	<a rel="nofollow" href="#correspondence-to" id="correspondence-to">
		
	</a>
	<span>
		Correspondence to
	</span>
</h2>
<p>Wenliang Dai* (<a rel="nofollow" href="mailto:wdai@nvidia.com">wdai@nvidia.com</a>), Nayeon Lee* (<a rel="nofollow" href="mailto:nayeonl@nvidia.com">nayeonl@nvidia.com</a>), Boxin Wang* (<a rel="nofollow" href="mailto:boxinw@nvidia.com">boxinw@nvidia.com</a>), Zhuolin Yang* (<a rel="nofollow" href="mailto:zhuoliny@nvidia.com">zhuoliny@nvidia.com</a>), Wei Ping* (<a rel="nofollow" href="mailto:wping@nvidia.com">wping@nvidia.com</a>)</p>
<p>*Equal contribution</p>
<h2>
	<a rel="nofollow" href="#citation" id="citation">
		
	</a>
	<span>
		Citation
	</span>
</h2>
<pre>@article{nvlm2024,
  title={NVLM: Open Frontier-Class Multimodal LLMs},
  author={Dai, Wenliang and Lee, Nayeon and Wang, Boxin and Yang, Zhuolin and Liu, Zihan and Barker, Jon and Rintamaki, Tuomas and Shoeybi, Mohammad and Catanzaro, Bryan and Ping, Wei},
  journal={arXiv preprint},
  year={2024}}
</pre>


<h2>
	<a rel="nofollow" href="#license" id="license">
		
	</a>
	<span>
		License
	</span>
</h2>
<p>The use of this model is governed by the <a rel="nofollow" href="https://spdx.org/licenses/CC-BY-NC-4.0">cc-by-nc-4.0</a></p>
<!-- HTML_TAG_END --></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Math from Three to Seven (306 pts)]]></title>
            <link>https://www.thepsmiths.com/p/review-math-from-three-to-seven-by</link>
            <guid>41715762</guid>
            <pubDate>Tue, 01 Oct 2024 23:58:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by">https://www.thepsmiths.com/p/review-math-from-three-to-seven-by</a>, See on <a href="https://news.ycombinator.com/item?id=41715762">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p><em><a href="https://www.amazon.com/Math-Three-Seven-Mathematical-Preschoolers/dp/082186873X" rel="">Math from Three to Seven: The Story of a Mathematical Circle for Preschoolers</a></em><span>, Alexander Zvonkin (Moscow Center for Continuing Mathematical Education, 2007).</span></p><p><span>To me, one of the greatest historical puzzles is why the Cold War was even a contest. Consider it a mirror image of the </span><a href="https://en.wikipedia.org/wiki/Joseph_Needham#The_Needham_Question" rel="">Needham Question</a><span>: Joseph Needham famously wondered why it was that, despite having a vastly larger population and GDP, Imperial China nevertheless lost out scientifically to the West. (I examined this question at some length in </span><a href="https://www.thepsmiths.com/p/review-science-in-traditional-china" rel="">this review</a><span>.) Well, with the Soviets it all went in the opposite direction: they had a smaller population, a worse starting industrial base, a lower GDP, and a vastly less efficient economic system. How, then, did they maintain military and technological parity</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-1-149130375" href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by#footnote-1-149130375" target="_self" rel="">1</a></span><span> with the United States for so long?</span></p><p>The puzzle was partly solved for me, but partly deepened, when those of us who grew up in the ‘90s and ‘00s encountered the vast wave of former Soviet émigrés that washed up in the United States after the fall of communism. Anybody who played competitive chess back then, or who participated in math competitions, knows what I’m talking about: the sinking feeling you got upon seeing that your opponent had a Russian name. These days, the same scenes are dominated by Chinese and Indian kids. But China and India have large populations — the Russians were punching way about their weight, demographically speaking. Today, those same Russians are all over Wall Street and Silicon Valley and Ivy League math departments, still overrepresented in technical fields. What explains it? Are Russians just naturally better at math and physics?</p><p><span>When I related these questions to an Ashkenazi-supremacist friend of mine, he immediately suggested that “maybe it’s because they’re all Jewish.” (I’ve noticed that the most philosemitic people and the most antisemitic people sometimes have curiously similar models of the world, they just disagree on whether it’s a good thing.) My friend’s question wasn’t crazy, since there are definitely times when asking “were they all Jewish?” </span><a href="https://slatestarcodex.com/2017/05/26/the-atomic-bomb-considered-as-hungarian-high-school-science-fair-project/" rel="">yields an affirmative answer</a><span>. But in this case I had to disappoint him with the knowledge that many of these Russian math and chess superstars were gentiles.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-2-149130375" href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by#footnote-2-149130375" target="_self" rel="">2</a></span><span> What’s more, by the ‘60s and ‘70s the Soviets had </span><a href="https://arxiv.org/pdf/1110.1556" rel="">an entire discriminatory apparatus</a><span> dedicated to keeping Jews out of the scientific establishment, so it would be impressive indeed if they were the foundation of its success.</span></p><p><span>Another possible explanation actually hinges on the relative poverty of the Soviet Union. Assume there are a lot of people out there with natural mathematical talent, but who given their druthers would major in underwater basket-weaving instead. The United States, because it’s so wealthy, can afford to “waste” a huge proportion of our talented population on humanities, arts, and other stuff that doesn’t involve you sitting in the school library until 3am. In other words, </span><em>not</em><span> going into a technical field is a form of luxury, which America can afford to consume. The Soviets, rather like the Chinese today, were forced by their underdog status to allocate human capital more efficiently (and had the authoritarian means to do so by force if necessary). This theory is related to the curious fact that, on average, </span><a href="https://www.theatlantic.com/science/archive/2018/02/the-more-gender-equality-the-fewer-women-in-stem/553592/" rel="">the more feminist your society, the fewer women there are in math and science</a><span> — which makes total sense if you assume that on average women are good at math but uninterested in it.</span></p><p><span>The thing is, the émigré superstars I encountered didn’t seem at all grudging or resentful about their studies. If anything it was the opposite. I’ve </span><a href="https://www.thepsmiths.com/p/joint-review-who-we-are-and-how-we" rel="">previously complained</a><span> about how much I hate Russian mathematician Edward Frenkel’s</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-3-149130375" href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by#footnote-3-149130375" target="_self" rel="">3</a></span><span> book, but one thing it gets across well is just how important </span><em>passion</em><span> is to being a great mathematician, and passion was the thing the émigrés seemed to have a surfeit of. In college, the joke was that seminars by American professors would last an hour, whereas seminars by Russian professors would turn into boisterous debates lasting all night. People have been writing for centuries about Russians having a tendency towards “maximalism” — whether aesthetic or ideological or anything else. Maybe a culture-wide commitment to not doing anything by half-measures explains it?</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg" width="1380" height="776" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:776,&quot;width&quot;:1380,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Math chalkboard - Clark Butler&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="Math chalkboard - Clark Butler" title="Math chalkboard - Clark Butler" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fca929aa2-a7d2-4837-8156-cd02da28136f_1380x776.jpeg 1456w" sizes="100vw" fetchpriority="high"></picture></div></a></figure></div><p><span>These are all fun theories, but in the interviews I’ve read with Soviet mathematicians and scientists, the things that comes up over and over again are “</span><a href="https://www.amazon.com/Mathematical-Circles-Russian-Experience-World/dp/0821804308" rel="">mathematical circles</a><span>,” a practice that originated in the pre-revolutionary Russian Empire and then spread far and wide through the Soviet Union. A mathematical circle is an informal group of teenagers and adults who really enjoy math and want to spend a lot of time thinking and talking about it. They’re a little bit like sports teams, in that they develop their own high-intensity internal culture and camaraderie, and often have a “coach” who is especially talented or famous. But they’re also very unlike sports teams, because they don’t compete with each other or play in leagues or anything like that, and usually any given circle will contain members of widely varying skill levels. Maybe a better analogy is a neighborhood musical ensemble that gets together and jams on a regular basis, but for math.</span></p><p><span>The most important thing to understand about mathematical circles is that the math they jam on is completely unlike the math you study in school, and also completely unlike the “competition” math that bright kids in the United States sometimes do. Both school math and competition math are primarily comprised of </span><em>exercises</em><span>. An </span><em>exercise</em><span> is a question concocted by a human being for a didactic purpose. Any bright kid with any amount of genre-savviness can immediately make a few assumptions upon being assigned an </span><em>exercise</em><span>. He or she can guess that the </span><em>exercise</em><span> is solvable in fewer than five minutes with the appropriate techniques, and that it is related to the material in the current chapter of the book. A clever student can often use psychological techniques to reverse-engineer what the teacher or the designer of the standardized test was trying to get at with the </span><em>exercise</em><span>, and answer it through a process of elimination or savvy guessing or pattern matching.</span></p><p><span>Solving an </span><em>exercise</em><span> is like hunting a neutered zoo animal. It may be a low-stress environment for polishing particular aspects of your technique, but it will not help you to survive in the wilderness. For that, you need to see people solving </span><em>problems</em><span>. A </span><em>problem</em><span> is a question of interest that comes up when somebody is trying to do something real. A </span><em>problem</em><span> may not be solvable by you, or by your coach, or by any human being. Even if the </span><em>problem</em><span> is solvable, it may require weeks or months of dedicated, painful pursuit. It may not be obvious what techniques are required to solve a </span><em>problem</em><span>, they may not be techniques that you know, or it may require a surprising combination of techniques. The </span><em>problem</em><span> is mathematical nature red in tooth and claw. There are no guardrails. There are no hints or answers at the back of the book. There is no book. It may eat you.</span></p><p><span>(For more on exercises vs. problems, read my review of </span><em>The Education of Cyrus</em><span>.)</span></p><p><span>The bread and butter of the mathematical circle is solving </span><em>problems</em><span> together, as a team. There is no time here for </span><em>exercises</em><span>; you can do that lame stuff at school. Sometimes the coach picks a </span><em>problem</em><span> for you, something just beyond your ability, just the thing you need to hone your edge. But sometimes the whole circle works together on a </span><em>problem</em><span> that nobody has the answer to and that challenges the very best members. These </span><em>problems</em><span> are the most important, because with them you see great minds, men older and more talented than you, stretched to the breaking point and occasionally beaten. You see them grind and grind and try every possible attack on a </span><em>problem </em><span>and sometimes lose anyway. And you see them not run from being defeated, but cheerfully charge in again, because losing is </span><em>good for you</em><span>, losing is how you know you’ve picked an opponent worthy of a man. You learn to love things that are hard. And occasionally you win, and when you win it feels like you all win, like humanity wins, because you’re all in it together, all doing something beautiful and </span><a href="https://www.thepsmiths.com/p/review-when-we-cease-to-understand" rel="">dangerous</a><span> and exemplary of the best qualities that human beings have.</span></p><p><span>There are also times when everybody is too tired to work on a </span><em>problem</em><span>, and in those moments of recuperation, it’s the coach’s job to tell stories of legendary </span><em>problems</em><span> of the past and of the mathematicians who slew them. These stories often contain lessons, inspiration, or perspective on how mathematics evolved and got to be the way it is. Human history would look very different, after all, without the </span><em><a href="https://www.thepsmiths.com/p/review-the-variational-principles" rel="">brachistochrone problem</a><span> </span></em><span>or the </span><em><a href="https://www.thepsmiths.com/p/review-galois-theory-by-david-cox" rel="">roots of a quintic polynomial problem</a><span> </span></em><span>or the </span><em><a href="https://www.thepsmiths.com/p/review-lectures-on-the-icosahedron" rel="">icosahedron problem</a><span> </span></em><span>or the </span><em><a href="https://www.thepsmiths.com/p/review-einsteins-unification-by-jeroen" rel="">precession of Mercury’s perihelion problem</a></em><span>. But other times there’s no hidden lesson, no grand perspective on the human story. They’re just ripping good yarns, and hearing them is a process of initiation into mathematical </span><em>folklore</em><span>, because every culture (and mathematics is surely a culture) has shared stories and references and inside jokes, even when they’re purely for fun.</span></p><p>This book is the story of one such mathematical circle. But it’s an unusual one because…it’s for preschoolers.</p><p><span>The “coach” of this circle is Alexander Zvonkin, a professional mathematician frustrated that his kids are having all the wonder and life and joy crushed out of them by the grey functionaries at their school. So he starts a circle for his son Dmitry and a few of the neighbors’ kids, most of whom are around three or four years old. That’s young enough that </span><a href="https://www.simplypsychology.org/piaget.html" rel="">according to Piaget’s experiments</a><span> there are cognitive modules related to number and volume that simply haven’t come online yet. Fortunately, Zvonkin is familiar with the latest research on developmental psychology, and turns lemons into lemonade by using the kids’ lack of numerical intuition to introduce them to some pretty deep ideas about when two sets have equal cardinality. (If you’re curious, he talks more about these experiments in </span><a href="https://eric.ed.gov/?id=EJ453566" rel="">this journal article</a><span>.)</span></p><p><span>At this point I expect you are rolling your eyes, especially if you have experience with three-year-olds. It can be difficult enough to get them to sit still, never mind ponder deep questions about the cardinalities of sets. And what exactly does it look like to pit somebody against a </span><em>problem</em><span> who is barely potty-trained? This is where the genius of Zvonkin’s format kicks in — it’s not really a book, it’s a journal, and one that is barely edited. So it’s full of failure after failure, entries like, “today I had a cool idea for a puzzle but everybody just screamed instead and then one of the kids vomited.” And yet, slowly, wondrously, over the four years of the circle’s existence, his patience pays off and the kids start doing really incredible things.</span></p><p><span>His initial goal, when the kids are at their youngest and are least prepared to match wits against a </span><em>problem</em><span>, is just to counter-program their schoolwork a little bit. Zvonkin hates the fact that their school presents math as a set of formulas to be obeyed, and DESPISES the fact that the kids’ midwit teacher deducts marks for failing to write answers in a designated format.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-4-149130375" href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by#footnote-4-149130375" target="_self" rel="">4</a></span><span> Worst of all, the teacher docks points when the kids use techniques that they “aren’t supposed to know yet.” So Zvonkin throws himself full-bore into discomfiting and unsettling the pat answers they’re bringing home from school, emulating Socrates both in his methods and in his singular focus on corrupting the youth.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-5-149130375" href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by#footnote-5-149130375" target="_self" rel="">5</a></span></p><p><span>About a year into this, Zvonkin decides that the kids are ready for their first real </span><em>problem</em><span>, and asks them the following simple question: how many ways are there to select two items from a collection of five items, if the order in which they’re chosen doesn’t matter? This is a question from the field of combinatorics, which Zvonkin notes with a sneer used to be taught to advanced high-schoolers, until the authorities decided it was too hard. And here he’s going to teach it to preschoolers, or, even harder, he’s going to make them figure it out for themselves with very few hints.</span></p><p><span>He does this, maddeningly, by showing them the </span><em>problem</em><span> over and over again, in many different guises and disguises, over a period of months. He does it inductively, because four-year-olds are tactile creatures who have not yet assembled the cognitive tools required to reason formally and symbolically (more on that in </span><a href="https://www.thepsmiths.com/p/review-mindstorms-by-seymour-papert" rel="">my review of </a><em><a href="https://www.thepsmiths.com/p/review-mindstorms-by-seymour-papert" rel="">Mindstorms</a></em><span>). First he gets beads and asks them to make chains of two red and three blue and asks them how many possible such chains there are. A boisterous debate follows: if you take a chain and rotate it 180 degrees, does it count as the same chain or a different one? This is a good mathematical question, and Zvonkin gives the mathematician’s answer: “We can make up the rules, we can decide whether it counts, so now we have two </span><em>problems</em><span> instead of one, but it turns out that one of them is both easier to solve and more interesting.”</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png" width="756" height="508" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:508,&quot;width&quot;:756,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:95988,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F00deefd5-8a57-461f-a784-9f5bc1c74470_756x508.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>The kids have fun with their beads, but they are still nowhere near ready for the theory of how to count ways of choosing </span><em>k</em><span> items from an </span><em>n</em><span> item set. That’s okay, he’s just getting started. He lets a few months go by, he lets them forget it, then he gives them sheets of paper with rows of five circles, and challenges them to find as many different ways as possible of coloring just two of them. As the kids are coloring, he asks if this reminds them of anything… they pause. There’s something in the backs of their heads, but they aren’t sure. It’s getting closer though. </span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png" width="1456" height="414" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:414,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:163812,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F827eb271-8b04-48db-ad2d-6c0d63863693_1518x432.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>More months go by, and it’s time for the </span><em>problem</em><span> to visit again. This time he brings a 4x3 grid, and explains that it’s a city map, and that a taxi is starting in the lower-left corner, and wants to go to the top-right corner, and asks how many possible paths it can take with no backtracking. Once again they leap into action. Once again he asks if this reminds them of anything. The kids are confused, they’ve never played the taxi game before. This time he drops a hint, takes one of their paths, and each time the taxi makes a decision to go right, he draws a little red circle, and each time it goes up he draws a little blue circle. Pandemonium. The kids are going nuts. They have discovered the beauty of isomorphism, a secret passage leading from one part of the world, up into the Platonic realm, and back into another superficially very different place. But they still haven’t answered the </span><em>problem</em><span>.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png" width="720" height="526" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:526,&quot;width&quot;:720,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:108099,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd06c3e29-eb71-41a0-a03e-6a4050b5565c_720x526.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>He lets a couple more months go by. Now he places five empty matchboxes and two balls on the table. How many different ways are there to put the balls in the boxes? This time the kids figure it out quickly: it’s the same as the puzzle with the beads! And that means they’re finally ready to stare the </span><em>problem</em><span> in the face, ready to </span><em>begin</em><span> their ascent of this mountain. The answers to all of these puzzles, which are really all the same puzzle in different clothing, is that there are ten ways. But if we enumerate all ten of them, how can we prove that there aren’t any more? And what if our original set had four items or six items instead of five, how would the answer change?  And these little kids who don’t yet know their times tables will totally figure it out.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png" width="1456" height="215" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:215,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:97147,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd4985941-faca-4a0a-a7ba-96edc69cf7ec_1518x224.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png" width="794" height="224" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9889f108-78cc-4004-a674-46cd168c0924_794x224.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:224,&quot;width&quot;:794,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:40420,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9889f108-78cc-4004-a674-46cd168c0924_794x224.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>What should we expect from children intellectually? Are they, as Piaget says, neurologically incapable of certain kinds of thought? Or are they, as Zvonkin believes, capable of solving challenging problems that many adults would struggle with? I think the answer is “both.” There’s a persistently wrong belief that many people, even many teachers, implicitly or explicitly hold, which says that children are basically like adults, only they’re dumber and know less stuff. Call this the “homunculus theory” of childhood cognition. But the truth is that kids are more like artificial neural networks — they’re at a subtly different point in mind-space, they’re good and bad at different things than adults are good and bad at. </p><p><span>For example: young children are much more concrete thinkers than adults, whether that’s for neurological reasons or because they haven’t built the cognitive tools for abstraction yet.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-6-149130375" href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by#footnote-6-149130375" target="_self" rel="">6</a></span><span> When you meet an adult who can’t reason symbolically or propositionally, they’re often (though not always!) pretty dumb and bad at thinking in general. What a mistake it is to apply the homunculus theory and assume the same of a child. You’ll underestimate and condescend to them and cheat them of opportunities to figure things out for themselves, while simultaneously getting frustrated at their inability to grasp incredibly simple ideas. They aren’t homunculi, they aren’t tiny adults, they’re an intelligence that is differently shaped from yours. This is an unintuitive and uncomfortable idea for us, and we don’t have the mirror neurons to really grok it, but consider it good practice for all the very strangely shaped intelligences we will be encountering in the coming decades.</span></p><p><span>One thing Zvonkin does that works about equally well on kids and adults is repeating things over and over again, and letting a long time go by between the repetitions. The reason this works is the same reason that when I’m trying to figure something out for myself, I’ll think about it really hard for a while and then go for a walk or take a shower. You’re hijacking the interplay between the focused-mode and the diffuse-mode of cognition (which I discussed in a </span><a href="https://www.thepsmiths.com/p/review-the-cruise-of-the-nona-by" rel="">review of a book by Hillaire Belloc</a><span>, of all people). It works even better if on each repetition you come at the problem from a different angle, so your subconscious has new material to chew on. Using this technique I was once able to get a five- or six-year old to figure out why summing the numbers in any row of </span><a href="https://en.wikipedia.org/wiki/Pascal%27s_triangle" rel="">Pascal’s triangle</a><span> must give a power of two.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-7-149130375" href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by#footnote-7-149130375" target="_self" rel="">7</a></span></p><p><span>The most important lesson of Zvonkin’s book, though, and also the realest and the rawest, comes at the end. He’s been running his little circle for four years, has racked up triumphs and failures, formed all sorts of theories about how best to teach math to little kids, and recorded it all in gory detail. That last is important, because his daughter Evgenia is now a little older than his son Dmitry was when he started the original circle, so naturally he decides to do it all over again with Evgenia and with the neighborhood kids who are </span><em>her</em><span> age. But this time, he’s armed! He already knows what works and doesn’t, he has handwritten journals full of hard-won lessons, he’ll be able to save a ton of time and run everything much more smoothly.</span></p><p><span>As if. In the second iteration of the circle, all of his notes are completely useless, and all of his initial attempts to teach anything fail, because these are different kids with different aptitudes and different interests. Zvonkin, raised in a communist society and a believer in the absolute malleability of human nature, is fairly bowled over by this, especially by how young all these differences are manifesting. Reading between the lines, it sounds like he got quite lucky with his first set of children, and that the second group were much more challenging to teach.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-8-149130375" href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by#footnote-8-149130375" target="_self" rel="">8</a></span><span> The most eloquent testimony to this is that after about a year he gives up, and the journal ends abruptly.</span></p><p><span>This is just an extreme version of the universal experience of being the parent of more than one child. The moment your second kid is born, or sometimes even before they’re born, they begin teaching you how little impact you actually had over the life trajectory of your first kid. The differences between them,</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-9-149130375" href="https://www.thepsmiths.com/p/review-math-from-three-to-seven-by#footnote-9-149130375" target="_self" rel="">9</a></span><span> despite the fact that you do almost everything the same, testify to just how much of parenting is actually a powerless process of watching a new being discover and disclose to the world what it is going to be. In one way, this makes what’s going on even more existentially dramatic — you’ve produced not a blank slate that you can program, but an alien intelligence that </span><a href="https://www.thepsmiths.com/p/review-the-children-of-men-by-pd" rel="">will produce a whole new universe</a><span>. </span></p><p><span>The other thing is that despite being a tiny bit demoralizing, this is also tremendously liberating: your actions can only change who they are on the margin, so you can relax and do things that are fun for both of you. Sometimes that means a favorite book or movie, sometimes a love of sport or hiking. And sometimes, the shared activity that brings both of you joy is a love of thinking, even the strenuous sort of thinking that comes from wrestling with a </span><em>problem</em><span>.</span></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Northern Ontario man solves local legend, finds vintage liquor at bottom of lake (192 pts)]]></title>
            <link>https://www.cbc.ca/news/canada/sudbury/larder-lake-local-legend-sunken-taxi-vintage-liquor-1.7332124</link>
            <guid>41715747</guid>
            <pubDate>Tue, 01 Oct 2024 23:56:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cbc.ca/news/canada/sudbury/larder-lake-local-legend-sunken-taxi-vintage-liquor-1.7332124">https://www.cbc.ca/news/canada/sudbury/larder-lake-local-legend-sunken-taxi-vintage-liquor-1.7332124</a>, See on <a href="https://news.ycombinator.com/item?id=41715747">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="detailContent"><!--$--><p><span><a href="https://www.cbc.ca/news/canada/sudbury"><span>Sudbury</span></a></span></p><!--/$--><p>After 35 years of searching, a man from the small northern Ontario town of Larder Lake has uncovered the truth about a local legend dating back to 1937.</p><h2 lang="en">Bottle of liquor recovered from the bottom of Larder Lake will be auctioned off at local charity event</h2><!--$--><!--/$--><!--$--><div data-cy="storyWrapper"><!--$--><figure><p><img alt="A man in a wet suit holds up a bottle of booze ." src="https://i.cbc.ca/1.7332335.1727209101!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/jason-and-the-bottle.jpg" data-cy="leadmedia-story-img" fetchpriority="high"></p><figcaption>Jason Ploeger holds up a bottle of whisky that he recovered from a sunken taxi in Larder Lake following a 35-year search. <!-- --> <!-- -->(Submitted by Jason Ploeger)</figcaption></figure><!--/$--><div><p>As a kid, Jason Ploeger remembers people searching in the waters of Larder Lake for a taxi cab that&nbsp;sank beneath the surface decades before.</p><p>And of course, like everyone else in the small northern Ontario town near&nbsp;the Québec border&nbsp;that was once a major gold mining centre, he heard the stories.&nbsp;&nbsp;</p><p>"Growing up in the town, we all heard the legend," said Ploeger.</p><p>"Everybody you talked to had a different story."</p><div><ul><li><a href="https://www.cbc.ca/news/canada/sudbury/northern-ontario-bottle-hunters-1.6242208" text="Tag along with two northern Ontario bottle hunters as they dig for treasure in old garbage dumps" flag="Audio" data-contentid=""><p><span>Audio</span></p><span>Tag along with two northern Ontario bottle hunters as they dig for treasure in old garbage dumps</span></a></li></ul><ul><li><a href="https://www.cbc.ca/news/canada/sudbury/unclaimed-1million-lottery-ticket-larder-lake-1.6851883" text="Small northern Ontario town gripped with lotto fever as $1M ticket set to expire" flag="" data-contentid=""><span>Small northern Ontario town gripped with lotto fever as $1M ticket set to expire</span></a></li></ul></div><p>The version of the story Ploeger heard the most was that the taxi went through the ice of Larder Lake on the way to a Christmas party, carrying liquor and holiday bonuses for local gold&nbsp;miners.</p><p>But there were other stories that the cab was hauling gold bars or gold ore, or that is was a bootlegger delivering alcohol to mining camps in the Larder Lake area.&nbsp;</p><p>Ploeger spent 35 years searching for the taxi and then while fishing in a local derby last year, he saw something come up on the screen of his side imager that he uses to look deep into the lake for fish. Or sunken treasure.&nbsp;&nbsp;</p><div><figure><p><img loading="lazy" alt="An underwater photo of a hub cap." srcset="https://i.cbc.ca/1.7332337.1727270911!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/sunken-hub-cap.jpg 300w,https://i.cbc.ca/1.7332337.1727270911!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/sunken-hub-cap.jpg 460w,https://i.cbc.ca/1.7332337.1727270911!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/sunken-hub-cap.jpg 620w,https://i.cbc.ca/1.7332337.1727270911!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/sunken-hub-cap.jpg 780w,https://i.cbc.ca/1.7332337.1727270911!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/sunken-hub-cap.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.7332337.1727270911!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/sunken-hub-cap.jpg" data-cy="image-img"></p><figcaption>The hub cap showing the REO logo of the 1929 REO Flying Cloud that sank to the bottom of Larder Lake in 1937. <!-- --> <!-- -->(Submitted by Jason Ploeger)</figcaption></figure></div><p>"Is that what I think it is?" he said to himself, seeing the outline of the back window and tires, knowing it was "obviously a car."</p><p>"I was excited. I almost gave up fishing for the day."</p><p>But instead, he marked the spot and went back later with some fellow divers, going down 15 metres into the pitch black waters of Larder Lake.</p><p>"I had one of the other divers right beside me and I'd have to shine my light right on him to see him," Ploeger said.</p><p>"It was a spooky dive."</p><div><figure><p><img loading="lazy" alt="Two divers on a boat getting ready to go down " srcset="https://i.cbc.ca/1.7332323.1727209147!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/divers-on-larder-lake.jpg 300w,https://i.cbc.ca/1.7332323.1727209147!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/divers-on-larder-lake.jpg 460w,https://i.cbc.ca/1.7332323.1727209147!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/divers-on-larder-lake.jpg 620w,https://i.cbc.ca/1.7332323.1727209147!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/divers-on-larder-lake.jpg 780w,https://i.cbc.ca/1.7332323.1727209147!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/divers-on-larder-lake.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.7332323.1727209147!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/divers-on-larder-lake.jpg" data-cy="image-img"></p><figcaption>Plans are to keep the taxi at the bottom of the lake, so that other divers can visit the sunken relic.  <!-- --> <!-- -->(Submitted by Jason Ploeger)</figcaption></figure></div><p>There was no gold, but they did spot six bottles in the back of what they now know is a 1929 REO Flying Cloud.</p><p>He says&nbsp;he later spoke with the daughter of one of the five men who rode in the taxi that day and learned they were heading to a Christmas party at the&nbsp;Martin-Bird Mine when the car started to go through the ice and everyone got out&nbsp;safely.&nbsp;</p><div><ul><li><a href="https://www.cbc.ca/news/canada/sudbury/jack-munroe-documentary-1.7214041" text="New documentary tells the story of 'lost legend' Jack Munroe" flag="" data-contentid=""><span>New documentary tells the story of 'lost legend' Jack Munroe</span></a></li></ul><ul><li><a href="https://www.cbc.ca/news/canada/sudbury/black-history-northeastern-ontario-1.5924113" text="Black settlers part of the much more 'complex history' of northern Ontario" flag="Black History" data-contentid=""><p><span>Black History</span></p><span>Black settlers part of the much more 'complex history' of northern Ontario</span></a></li></ul></div><p>Ploeger says they brought one bottle to the surface and it "promptly exploded on my boat from the pressure," but he dipped a finger in it and said it tasted like&nbsp;"very, very smooth" rye whisky.</p><p>This summer, they went back down and brought up five more bottles, two of which also blew their cork on the way to the surface.&nbsp;</p><p>"I do not believe it was a good whisky when it was bought," Ploeger said of drinking from one of the bottles.</p><p>"I'm not blind yet so that's a good sign."</p><div><figure><p><img loading="lazy" alt="A hand holding a bottle of whisky on a boat" srcset="https://i.cbc.ca/1.7332320.1727271016!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/bottle-of-whisky.jpg 300w,https://i.cbc.ca/1.7332320.1727271016!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/bottle-of-whisky.jpg 460w,https://i.cbc.ca/1.7332320.1727271016!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/bottle-of-whisky.jpg 620w,https://i.cbc.ca/1.7332320.1727271016!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/bottle-of-whisky.jpg 780w,https://i.cbc.ca/1.7332320.1727271016!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/bottle-of-whisky.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.7332320.1727271016!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/bottle-of-whisky.jpg" data-cy="image-img"></p><figcaption>One of the bottles of alcohol that Jason Ploeger recovered from a taxi cab that sunk into Larder Lake back in 1937. <!-- --> <!-- -->(Submitted by Jason Ploeger)</figcaption></figure></div><p>One of the intact bottles recovered from the bottom will be auctioned off on Sept. 28 at a steak dinner and charity auction to benefit a community group&nbsp;called the Friends of Larder.</p><p>"I've been thinking for a while, if I ever found it, it's not my story, it's the town's story. So I figured I would donate it back to the town," Ploeger said.&nbsp;</p><p>He says the car is "too fragile to remove," so it will stay at the bottom of Larder Lake for other divers to enjoy.</p><div><figure><p><img loading="lazy" alt="A man holding a shot glass winces." srcset="https://i.cbc.ca/1.7332327.1727209195!/fileImage/httpImage/image.jpeg_gen/derivatives/original_300/trying-vintage-booze.jpeg 300w,https://i.cbc.ca/1.7332327.1727209195!/fileImage/httpImage/image.jpeg_gen/derivatives/original_460/trying-vintage-booze.jpeg 460w,https://i.cbc.ca/1.7332327.1727209195!/fileImage/httpImage/image.jpeg_gen/derivatives/original_620/trying-vintage-booze.jpeg 620w,https://i.cbc.ca/1.7332327.1727209195!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/trying-vintage-booze.jpeg 780w,https://i.cbc.ca/1.7332327.1727209195!/fileImage/httpImage/image.jpeg_gen/derivatives/original_1180/trying-vintage-booze.jpeg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.7332327.1727209195!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/trying-vintage-booze.jpeg" data-cy="image-img"></p><figcaption>Ploeger says he tried some of the recovered alcohol and it was 'super smooth' but another bottle was very 'rough' whisky. <!-- --> <!-- -->(Submitted by Jason Ploeger)</figcaption></figure></div><p>"It's a weird feeling, because I've been looking, looking and looking," said Ploeger.</p><p>"And now I've seen it. I've been there. And it's over."</p><p>But he says he is still chasing down other local mysteries, including some boats sunk in the lake and a military plane that crashed in the bush nearby during the Second World War.&nbsp;</p></div></div><!--/$--><!--$--><!--/$--><div><h2>ABOUT THE AUTHOR</h2><div><figure><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.4887087.1664195273!/fileImage/httpImage/image.jpg_gen/derivatives/square_1180/erik-white.jpg?im=Resize%3D620 300w,https://i.cbc.ca/1.4887087.1664195273!/fileImage/httpImage/image.jpg_gen/derivatives/square_1180/erik-white.jpg?im=Resize%3D620 460w,https://i.cbc.ca/1.4887087.1664195273!/fileImage/httpImage/image.jpg_gen/derivatives/square_1180/erik-white.jpg?im=Resize%3D620 620w" sizes="(max-width: 258pxpx) 258pxpx" src="https://i.cbc.ca/1.4887087.1664195273!/fileImage/httpImage/image.jpg_gen/derivatives/square_1180/erik-white.jpg?im=Resize%3D620" data-cy="author-image-img"></p></figure></div><p>Erik White is a CBC journalist based in Sudbury. He covers a wide range of stories about northern Ontario. Send story ideas to erik.white@cbc.ca</p><ul></ul></div><!--$--><!--/$--><!--$--><!--/$--></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How CERN serves 1EB of data via FUSE [video] (199 pts)]]></title>
            <link>https://kernel-recipes.org/en/2024/schedule/how-cern-serves-1eb-of-data-via-fuse/</link>
            <guid>41715277</guid>
            <pubDate>Tue, 01 Oct 2024 23:05:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://kernel-recipes.org/en/2024/schedule/how-cern-serves-1eb-of-data-via-fuse/">https://kernel-recipes.org/en/2024/schedule/how-cern-serves-1eb-of-data-via-fuse/</a>, See on <a href="https://news.ycombinator.com/item?id=41715277">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>CERN, the European Organization for Nuclear Research, generates vast amounts of data from experiments at the Large Hadron Collider (LHC). CERN’s Storage and Data Management Group at the IT department is responsible for managing this data, including its long-term archival on tape, distribution across the Worldwide LHC Computing Grid (WLCG), as well as providing secure and convenient forms of data access to more than 30000 users that need it.</p>
<p>In this talk we will give an overview of the open source projects leveraged by CERN to satisfy the storage needs of the&nbsp; organization, such as CERNBox and EOS, and discuss some of the unique challenges faced by the high-energy physics community in data storage and management. Additionally, we discuss how FUSE is used to allow users to access data securely from anywhere in the world.</p>
<p><strong>Guilherme AMADIO</strong></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[SlateDB – An embedded database built on object storage (129 pts)]]></title>
            <link>https://slatedb.io/</link>
            <guid>41714858</guid>
            <pubDate>Tue, 01 Oct 2024 22:18:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://slatedb.io/">https://slatedb.io/</a>, See on <a href="https://news.ycombinator.com/item?id=41714858">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__docusaurus_skipToContent_fallback"><main><div><div><h3>Object Store Durability</h3><p>SlateDB inherits your object store's durability. Yup, 99.999999999% durability.</p></div><div><h3>Zero-Disk Architecture</h3><p>SlateDB runs without disks. No more disk failures, no more disk corruption.</p></div><div><h3>Simple Replication</h3><p>Why write complex replication protocols when you can let your object store handle it?</p></div><div><h3>Tunable Performance</h3><p>Configure SlateDB to optimize for low latency, low cost, or high durability.</p></div><div><h3>Scalable Readers</h3><p>Supports a single writer and multiple readers. SlateDB detects and fences zombie writers.</p></div><div><h3>Built in Rust</h3><p>SlateDB is an embeddable library built in Rust. Use SlateDB with the language of your choice.</p></div></div><div id="get-started"><div><h2>Get Started</h2><p>Add SlateDB to your dependencies and you are off to the races!</p></div><div><p><span>Cargo.toml</span></p><div><p>[<span>dependencies</span>]</p><p>slatedb = <span>"*"</span></p></div></div></div></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Radio Shack Catalog Archive (1939-2011) (190 pts)]]></title>
            <link>https://www.radioshackcatalogs.com/?_hsenc=p2ANqtz-9H5PQMgh6cUobaKL8FZ3-Ib1lk2jXz-BBrutnvv14LwcLObCTepV_IHs6nj83QW1bzJZzkyQpOm2OVPZbBmOmtzIMoRw&amp;_hsmi=327012423</link>
            <guid>41714750</guid>
            <pubDate>Tue, 01 Oct 2024 22:04:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.radioshackcatalogs.com/?_hsenc=p2ANqtz-9H5PQMgh6cUobaKL8FZ3-Ib1lk2jXz-BBrutnvv14LwcLObCTepV_IHs6nj83QW1bzJZzkyQpOm2OVPZbBmOmtzIMoRw&#x26;_hsmi=327012423">https://www.radioshackcatalogs.com/?_hsenc=p2ANqtz-9H5PQMgh6cUobaKL8FZ3-Ib1lk2jXz-BBrutnvv14LwcLObCTepV_IHs6nj83QW1bzJZzkyQpOm2OVPZbBmOmtzIMoRw&#x26;_hsmi=327012423</a>, See on <a href="https://news.ycombinator.com/item?id=41714750">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="WEaa56fe8589">
                  <div id="WE0356adf5fd">
                   <p><span>In the virtual corridors of RadioShackCatalogs.com, a digital archive unfolds like a time capsule, preserving the history of RadioShack from its inception in 1921. &nbsp;As a venerable retailer, RadioShack had been a cornerstone of innovation for over 100 years, providing an array of cutting-edge technology products and services that spanned personal, mobile, and home technology.&nbsp;<p> &nbsp; The heart of this online archive lay in its collection of catalogs, spanning the years 1939 to 2011. &nbsp;For 72 years, RadioShack had meticulously crafted these catalogs, showcasing a diverse range of products that mirrored the evolving landscape of technology. &nbsp;From hi-fidelity stereos to communication equipment, from computers to electronic components, these catalogs are a visual journey through the history of RadioShack.&nbsp;</p><p> &nbsp; Brands like Tandy, Realistic, TRS-80, Micronta, Archer, Optimus, Clarinette, Nova, Patrolman, Enercell, and Science Fair adorned the pages, each representing a chapter in the RadioShack story. &nbsp;Professionals, tech-savvy consumers, and hobbyists alike eagerly perused these catalogs, seeking the latest gadgets, tools, and electronic wonders that would shape their world.&nbsp;</p><p> &nbsp; What sets RadioShackCatalogs.com apart is its innovative approach to showcasing this historical material. &nbsp;The pages of these catalogs come alive in a page-flipping format, allowing users to traverse the years, page by page. &nbsp;Whether researching RadioShack products, immersing in historical material, tracking the progression of electronics and computer technology, or simply indulging in a nostalgic trip down memory lane, this site offers a unique and captivating journey through time experience.&nbsp;</p><p> &nbsp;In a world where technology continues to advance, this digital repository ensures that the memories, products, and innovations of RadioShack will forever be accessible to those who wish to reminisce and appreciate the enduring impact of this iconic retailer.<span>&nbsp;</span><span>▼</span> <a href="#main_catalogs">CLICK / SCROLL-DOWN TO&nbsp;VIEW&nbsp;CATALOGS</a> <span>▼</span></p></span>
                   </p>
                  </div><div id="WE731bfbbab5">
                   <p><img src="https://www.radioshackcatalogs.com/Files/Image/home/flip_catalog.jpg" alt="">
                   </p>
                  </div>
                 </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Ask HN: Who is pretending to be hiring? (284 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=41714672</link>
            <guid>41714672</guid>
            <pubDate>Tue, 01 Oct 2024 21:54:50 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=41714672">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><td><table>
        <tbody><tr id="41714672">
      <td><span></span></td>      <td><center><a id="up_41714672" href="https://news.ycombinator.com/vote?id=41714672&amp;how=up&amp;goto=item%3Fid%3D41714672"></a></center></td><td><span><a href="https://news.ycombinator.com/item?id=41714672">Ask HN: Who is pretending to be hiring?</a></span></td></tr><tr><td colspan="2"></td><td><span>
          <span id="score_41714672">98 points</span> by <a href="https://news.ycombinator.com/user?id=neilk">neilk</a> <span title="2024-10-01T21:54:50.000000Z"><a href="https://news.ycombinator.com/item?id=41714672">33 minutes ago</a></span> <span id="unv_41714672"></span> | <a href="https://news.ycombinator.com/hide?id=41714672&amp;goto=item%3Fid%3D41714672">hide</a> | <a href="https://hn.algolia.com/?query=Ask%20HN%3A%20Who%20is%20pretending%20to%20be%20hiring%3F&amp;type=story&amp;dateRange=all&amp;sort=byDate&amp;storyText=false&amp;prefix&amp;page=0">past</a> | <a href="https://news.ycombinator.com/fave?id=41714672&amp;auth=9fc83f6f8cdf9a2c2bd2bf89ada73e29b88ffec6">favorite</a> | <a href="https://news.ycombinator.com/item?id=41714672">5&nbsp;comments</a>        </span>
              </td></tr>
    <tr><td></td></tr><tr><td colspan="2"></td><td><div><p>I’m looking for a job and like many people in this situation am finding it unusually difficult.</p><p>I’ve read rumors that many firms are actually in a hiring freeze, but they keep job reqs open for appearances. Apparently some investors use job postings as a company health metric.</p><p>From my contacts, I am personally aware of situations where internally-recommended CVs are ignored by HR, and other cases had open job postings and passed people successfully through the interview process, and then the hiring manager still didn’t pull the trigger. I have no way of knowing how widespread this is, but it is happening at some places.</p><p>Is your company like this? If you have real info and not just suspicions, let’s name some names.</p></div></td></tr>        <tr><td></td></tr><tr><td colspan="2"></td><td><form action="comment" method="post"></form></td></tr>  </tbody></table>
  </td></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Simple Guide to Building and Breaking Habits (141 pts)]]></title>
            <link>https://alexy.tech/posts/the-simple-guide-to-building-and-breaking-habits/</link>
            <guid>41714361</guid>
            <pubDate>Tue, 01 Oct 2024 21:26:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://alexy.tech/posts/the-simple-guide-to-building-and-breaking-habits/">https://alexy.tech/posts/the-simple-guide-to-building-and-breaking-habits/</a>, See on <a href="https://news.ycombinator.com/item?id=41714361">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div id="1123e63b-8d8f-801d-800a-f4a903e550f6"> <p> 👉 </p> <p> Creating or breaking habits doesn’t have to be an overwhelming process. Whether you aim to adopt a healthier lifestyle or let go of a not-so-good habit, understanding the basics and applying straightforward strategies can make all the difference. Here's how you can approach habit formation and cessation with ease and effectiveness.  </p> </div><h3 id="the-essence-of-habit-formation" onclick="
        var fullUrl = `${window.location.origin}${window.location.pathname}#${id}`;
        navigator.clipboard.writeText(fullUrl);
        window.history.pushState(null, '', fullUrl);
        document.getElementById(`${id}`).scrollIntoView({ behavior: 'smooth' });" data-astro-cid-tquaqxu5=""><strong>The Essence of Habit Formation</strong></h3><hr><p id="1123e63b-8d8f-8017-879b-f77a3b36c9b9">Habit development can either be <strong>goal-oriented</strong> ("I want to lose weight") or <strong>identity-focused</strong> ("I am someone who values health"). While traditional wisdom suggests a 21-day timeline for habit formation, research indicates it could take anywhere from 18 to 254 days. The key is consistency and the habit becoming almost automatic.</p><h3 id="understanding-limbic-friction" onclick="
        var fullUrl = `${window.location.origin}${window.location.pathname}#${id}`;
        navigator.clipboard.writeText(fullUrl);
        window.history.pushState(null, '', fullUrl);
        document.getElementById(`${id}`).scrollIntoView({ behavior: 'smooth' });" data-astro-cid-tquaqxu5=""><strong>Understanding Limbic Friction</strong></h3><hr><p id="1123e63b-8d8f-809e-87ad-f335997c4573">At the heart of habit formation lies the concept of <strong>"limbic friction</strong>," which essentially is the effort it takes to start a new behavior. Factors like fatigue or stress can increase this friction, making habit formation more challenging. The goal is to minimize this friction to make new habits easier to adopt.</p><p id="1123e63b-8d8f-8065-a12f-ed8088486e48"><strong>Strategies for Forming Habits</strong></p><div> <ol> <li id="1123e63b-8d8f-8066-9393-e15d801ff15f"> <strong>Task Bracketing</strong>: Define clear start and end points for your habit. This helps in mentally preparing for the habit and making it a distinct part of your routine.  </li><li id="1123e63b-8d8f-8031-b349-d02571e34bd1"> <strong>Optimize Your Day</strong>: Divide your day into phases and assign habits to when you're most likely to perform them effectively, considering your energy and mood throughout the day.  </li><li id="1123e63b-8d8f-80e1-bed1-e08bbed4d00f"> <strong>Leverage Dopamine</strong>: Pay attention to the feel-good moments before and after the habit. This positive reinforcement makes the habit more appealing.  </li><li id="1123e63b-8d8f-80a8-9336-f041f56a5790"> <strong>21-Day Trial</strong>: List six habits you wish to adopt, assign them to different times of the day, and aim to consistently perform at least four. This flexible approach encourages consistency without the pressure of perfection.  </li> </ol> </div><h3 id="breaking-bad-habits" onclick="
        var fullUrl = `${window.location.origin}${window.location.pathname}#${id}`;
        navigator.clipboard.writeText(fullUrl);
        window.history.pushState(null, '', fullUrl);
        document.getElementById(`${id}`).scrollIntoView({ behavior: 'smooth' });" data-astro-cid-tquaqxu5=""><strong>Breaking Bad Habits</strong></h3><hr><p id="1123e63b-8d8f-8004-8514-f09b3212d29a">Shifting away from undesired habits involves weakening the neural pathways that fuel them. Instead of relying solely  on penalties for engaging in a bad habit, introduce a positive action right after to replace it. This method gradually diminishes the unwanted habit's hold over you.</p><h3 id="tldr" onclick="
        var fullUrl = `${window.location.origin}${window.location.pathname}#${id}`;
        navigator.clipboard.writeText(fullUrl);
        window.history.pushState(null, '', fullUrl);
        document.getElementById(`${id}`).scrollIntoView({ behavior: 'smooth' });" data-astro-cid-tquaqxu5="">TLDR</h3><hr><blockquote id="1123e63b-8d8f-80bb-8d0f-c026cc405647"> <p> Motivation gets you started. Habit keeps you going - Jim Ryun  </p> </blockquote><p id="1123e63b-8d8f-8074-8a0a-e323a1796387">By employing simple, actionable strategies like visualization, task bracketing, and positive reinforcement, you can make lasting changes to your habits. Whether you're building new ones or breaking old ones, the journey is about progress, not perfection. Remember, the ultimate goal is to align your habits with the person you aspire to be, making each day a step towards a better you.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Juno for YouTube has been removed from the App Store (175 pts)]]></title>
            <link>https://christianselig.com/2024/10/juno-removed/</link>
            <guid>41714285</guid>
            <pubDate>Tue, 01 Oct 2024 21:18:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://christianselig.com/2024/10/juno-removed/">https://christianselig.com/2024/10/juno-removed/</a>, See on <a href="https://news.ycombinator.com/item?id=41714285">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
        <article>
          
          <h4 id="date"> October 1, 2024 </h4>
           


    <img src="https://christianselig.com/2024/10/juno-removed/hero.jpeg" alt="Screenshot from App Store Connect showing Juno as 'Removed from App Store'" loading="lazy">

<p>For those not aware, a few months ago after reaching out to me, <a href="https://christianselig.com/2024/06/announcing-juno-2/">YouTube contacted the App Store</a> stating that Juno does not adhere to YouTube guidelines and modifies the website in a way they don’t approve of, and alludes to their trademarks and iconography.</p>
<p>I don’t personally agree with this, as Juno is just a web view, and acts as little more than a browser extension that modifies CSS to make the website and video player look more “visionOS” like. No logos are placed other than those already on the website, and the “for YouTube” suffix is <a href="https://developers.google.com/youtube/terms/branding-guidelines">permitted in their branding guidelines</a>. Juno also doesn’t block ads in any capacity, for the curious.</p>
<p>I stated as much to YouTube, they wouldn’t really clarify or budge any, and as a result of both parties not being able to come to a conclusion I received an email a few minutes ago from Apple that Juno has been removed from the App Store.</p>
<p>Juno was a fun hobby project for me to build. As a developer I wanted to get some experience building for the Vision Pro, and as a user I wanted a nice way to watch YouTube on this cool new device. As a result, I really enjoyed building Juno, but it was always something I saw as fundamentally a little app I built for fun.</p>
<p>Because of that, I have zero desire to spin this into a massive fight akin to what happened with Reddit years ago (more than I’ve fought in emails over the last few months). That’s kind of the opposite of fun. I hope that’s understandable.</p>
<p>For those who have Juno, to my knowledge it should continue to work fine until/unless YouTube updates in some fashion that breaks stuff. Sorry it had to end this way, I had some really cool stuff planned for it that I think would have been a lot of fun! It’s been genuinely awesome hearing all the kind words from Vision Pro users who have loved the app.</p>
<p>🫡</p>

        </article>

        
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[COBOL has been “dead” for so long, my grandpa wrote about it (398 pts)]]></title>
            <link>https://wumpus-cave.net/post/2024/10/2024-10-01-death-of-cobol/index.html</link>
            <guid>41713063</guid>
            <pubDate>Tue, 01 Oct 2024 19:25:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://wumpus-cave.net/post/2024/10/2024-10-01-death-of-cobol/index.html">https://wumpus-cave.net/post/2024/10/2024-10-01-death-of-cobol/index.html</a>, See on <a href="https://news.ycombinator.com/item?id=41713063">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
<h2><a href="https://wumpus-cave.net/post/2024/10/2024-10-01-death-of-cobol/index.html">Cobol Has Been "Dead" For So Long, My Grandpa Wrote About It</a></h2>
<h2>2024-10-01</h2>
<hr>
<p>
<a href="https://wumpus-cave.net/post/2024/10/death_of_cobol1.jpg">  <img src="https://wumpus-cave.net/post/2024/10/death_of_cobol1.jpg" alt="Cobol is Dead">
</a></p>
<p>
In June of 1992, my grandfather had an article published in Technical Support 
magazine proclaiming the death of Cobol. It naturally contains some of the 
buzzwords of the time, such as fourth-generation programming language (4GL). If 
you’re not familiar with that term, suffice it to say that the <a href="https://en.wikipedia.org/wiki/Fourth-generation_programming_language#Examples">Wikipedia 
page</a>
lists several examples, and Cobol has outlasted most of them.</p>
<p>
There’s a text version of the article available in archives of the 
NaSPA: <a href="http://www.naspa.net/magazine/1992/t9206003.txt">http://www.naspa.net/magazine/1992/t9206003.txt</a></p>
<blockquote>
  <p>
The word <em>dead</em> would seem to have shades of meaning. Perhaps Cobol is not dead; it may be a Zombie. So, something can be dead and yet not gone? Right! Cobol is an excellent example of that phenomenon. COBOL is probably not alone; there are, I suspect, even some vestiges of Autocoder still extant. Autocoder, for those under 45 who may have never heard the term, was a precursor of COBOL. It is unlikely anyone would argue very forcefully that Autocoder is not dead, yet some
remnants of it are probably still with us.  </p>
</blockquote>
<p>
As you might notice, he had a dry wit. There was one time I was able to 
reflect one of his retorts right back at him, and my grandma was so proud; the 
student had become the master.</p>
<p>
There was one thing that kept the Cobol zombie shambling along, and that’s the 
Y2K problem. Make no mistake: as much as it was hyped in the news at the time, 
and as much of a nothingburger it seemed to be, Y2K was a gigantic problem. 
It necessitated training up a new generation of Cobol programmers. That may 
have kept Cobol going for a while longer.</p>
<p>
These days, I avoid the term “dead” for programming languages at all. If 
they ever had a large installed base, then they never die. They have long 
tails where they trail off into obscurity with no junior programmers learning it.</p>
<p>
My grandpa died on Sept 1, 2024 at 91 years of age. Officially, he died of 
pneumonia. My grandma had died the previous April, and he had asked not to 
receive any treatment.</p>

</article><p>Opinions expressed are solely my own and do not express the views or opinions 
of my employer.</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Don't build your castle in other people's kingdoms (2021) (320 pts)]]></title>
            <link>https://howtomarketagame.com/2021/11/01/dont-build-your-castle-in-other-peoples-kingdoms/</link>
            <guid>41712885</guid>
            <pubDate>Tue, 01 Oct 2024 19:10:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://howtomarketagame.com/2021/11/01/dont-build-your-castle-in-other-peoples-kingdoms/">https://howtomarketagame.com/2021/11/01/dont-build-your-castle-in-other-peoples-kingdoms/</a>, See on <a href="https://news.ycombinator.com/item?id=41712885">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <p><img width="600" height="400" src="https://howtomarketagame.com/wp-content/uploads/2021/11/1-solo-island.png" alt="" decoding="async" fetchpriority="high" srcset="https://howtomarketagame.com/wp-content/uploads/2021/11/1-solo-island.png 600w, https://howtomarketagame.com/wp-content/uploads/2021/11/1-solo-island-300x200.png 300w" sizes="(max-width: 600px) 100vw, 600px"></p>
<p>In the past couple of months a couple of big social media sites have changed their terms or introduced suspicious paid plans and it has caught content creators off guard.</p>



<p>For instance, last week Twitch introduced a new “Boost” program where streamers can pay to get more viewers to see their stream. </p>



<p>Read here</p>



<ul><li><a href="https://www.dexerto.com/entertainment/twitch-adds-new-boost-stream-feature-but-it-comes-at-a-price-1686346/">Twitch Adds New Boost Stream Feature </a></li><li><a href="https://www.eurogamer.net/articles/2021-10-29-twitch-tests-paid-boost-feature-despite-negative-feedback-from-streamers">Twitch Tests Paid Boost Feature</a> </li></ul>



<p><a href="https://www.cnbc.com/2021/08/25/onlyfans-says-it-will-no-longer-ban-porn-after-backlash-from-users.html">OnlyFans ALMOST banned porn which would have left content creators out of hundreds of thousands of dollars</a>. Only Fans (under heavy pressure) reversed the plan… for now.&nbsp;</p>



<p>Every single year one social network or another pulls a stunt like this. Somehow people are still shocked when it happens. </p>



<p>Don’t be. </p>



<p>It isn’t a matter of if, it is a matter of when. They don’t care about you. You must market your game as if the platform you are using will go away tomorrow and you will lose access to some or most of your followers.</p>



<p>My basic point: DON’T BUILD YOUR CASTLE IN LAND YOU DON’T OWN!</p>



<p>I got the pixelart itch again and have a blog to write so I thought I would combine the two. This week I created a little metaphorical fable about building your castle in other people’s kingdoms. <a href="https://assetstore.unity.com/packages/2d/environments/overworld-tileset-123120">I am using the amazing RPG tileset from Pita Madgwick to do it.</a></p>



<p>Here goes:</p>



<p>Your game studio is basically your land. You are the king. You can do whatever you want on this plot of land and kick out who you want, charge what you want. Set the rules.&nbsp;</p>



<p>Goal here: You want to grow from this little tiny hamlet to a giant castle. You also want a bunch of people in your kingdom living there (aka playing your games), and paying you taxes (buying your games) and telling you how brilliant of a leader you are (fan mail, fan art) and enjoying the company of your kingdom’s fellow citizens (community engagement).&nbsp;</p>



<p>That is your goal but for now you have no one in your kingdom. Your castle is tiny. But how do you get people to come to your crappy little kingdom?</p>



<figure><img decoding="async" src="https://lh3.googleusercontent.com/B342AzyiJq1j8CzQ_LW12n61PhoLR8q6Xe8DDEZ6x1tkiB_1M36nK393uUKN9fsTV6ZBn1qS6d2preSjyU0wxoww9T5cHjzRu7a3q1Cz6_D0CjBT24MvSB27ZcAyN4tOFRzAlPqr" alt=""></figure>



<p>You look across the sea and you see another country run by another King. They have thousands of people. Everyone is rich. The king is giving away land for anyone to build their castle. </p>



<figure><img decoding="async" src="https://lh6.googleusercontent.com/WsxJUTU3z8Hg9jPPdPsXIUkTtxjOMXcF0z8BvQZRso8TxVVqfBHZlyiO-Nvo_rWacyzd1BN2lTg9DreOYTcf6mcVfeLyyk4t39Y_RAhj4HoyPBOCwkzV5HOth4ltulZpWM_kWKmu" alt=""></figure>



<p>Let’s call it Myspacia&nbsp;</p>



<p>So you cross the sea and build a castle in their land. The King doesn’t even charge you for it. So you decide to spend a whole lot of time building a big beautiful castle. Everyone is there. Thousands of people come into your castle built on their land. Your home Kingdom is neglected but why worry?&nbsp;</p>



<figure><img decoding="async" src="https://lh3.googleusercontent.com/GmeyWq6DjDyui5ZbRiMPcwSmyN4JYVMG9_DhRSfsZQ_ecktVmi5pL94VS2YIt5kL5FKZAHznUbqCZGA4ZIax193WVMB1cRTQUOyOqfooyyVouSdME8zSybyRbFHYcTUbwRHsj-Ge" alt=""></figure>



<p>Then one day the rain dries up and the land isn’t fertile, and the king doesn’t do anything like invest in irrigation, and the infrastructure sucks. </p>



<p>People move away and that castle that you spent so much time building is empty. Nobody is around to visit. It sucks. Your castle looks awesome but it sits empty not because of anything you did but because the landlord messed up and everyone left.</p>



<figure><img decoding="async" src="https://lh3.googleusercontent.com/uc4dtpx3baqH8KgU5jG_JQYjbiEB1YzZqxpPdbcdgp48lMTcwYygGaUW88q0BlX9txL_jpI6HyxNpWyhP9pMIDCK4zkkbOaFwvIAJlQ-vGiH3VMsalKKmOzZ3AmTIlCShEpOOqGP" alt=""></figure>



<p>So you say, no matter. Let’s go over to this kingdom where everyone is setting up.&nbsp;</p>



<p>Let’s call it Facebookia&nbsp;</p>



<p>Again, just like Myspacia once was, it is bustling. It’s just like the good old days.</p>



<p>You start a new castle! Sure you have to start all over but look at all the people! So you build and build and build.&nbsp;Your home Kingdom is still neglected but who cares! Facebookia is awesome!</p>



<figure><img decoding="async" src="https://lh6.googleusercontent.com/fPhcFgwmQLqWvsyoJdXWWn2yRYybxUKclXZCTU-P1cwDWBPzeCvHsv0vlSYj7VB9hzFRwgBuOQXXq4bkWb8xTAuq6sQOf-i_lr46QKnq0DoDGsQtpVrILGoZKYIF3BelBfvswQEj" alt=""></figure>



<p>Then one day. The King of that land puts a giant wall around their kingdom. Even though you helped make his kingdom worth living in, you are not allowed to enter your castle. In fact, the King starts charging you a toll just to enter your own castle to talk to the people who are there! Why oh why did you spend so much time and money on this castle?!?</p>



<figure><img decoding="async" src="https://lh3.googleusercontent.com/XgM75Xpnd9EAT_WipX5qhbAhri4i4eWtTzU1wxbByzqaDackayNLcBo42roM4nVo503HOIwGQZW0uMb_A4D_T1MYVgpf6SWxorADt-ca3ltWFFgWNB1LkDymtpewcKJRiENB-VnW" alt=""></figure>



<p>This happens every single day.&nbsp;</p>



<p>But there are thousands of variations</p>



<p><strong>A hoard of racist barbarians invade</strong> and nobody wants to visit your castle anymore because the king turns out to be a total creep and everyone is scared off because he just lets the racists hang out. (See Twitter and Facebook)</p>



<figure><img decoding="async" src="https://lh4.googleusercontent.com/rrA_fTBIm_iRpjXs4tFDREVbewDkNmjQTOmU8CwG_i_dC6HvGb5AQtg4s4DNr4EzTBiaT8m-CXBbW0zEqhER-KUboFH_9NMsMG4MVsUZVI3WTcIlDvcDuvYhi9anIEytq8YuIyXO" alt=""></figure>



<p><strong>The kingdom gets absorbed</strong> by another neighboring King that has no idea why people where there in the first place and starts changing the laws and everyone leaves. Example: Tumblr</p>



<p>There are countless tales of this happening. EVERY SINGLE EXTERNAL KINGDOM will do this to you. No matter how “cool” or “hip” they are right now. They will let you down.</p>



<p>So what do you do? How do you possibly fix this? Here are the rules.</p>



<h2>Rule #1: Build your castle on land you own&nbsp;</h2>



<p>Your kingdom is a platform that you own:&nbsp;</p>



<ul><li>A website on a domain you own</li><li>Your blog hosted on your site (not on medium or Patreon)</li><li>A mailing list</li><li>Your Intellectual Property that you own and can license out</li><li>Merch that you sell on your site</li><li>Your own reputation</li></ul>



<p>But wait! Your mailing list is hosted by Mailchimp which is another company, and your website is hosted by GoDaddy or Squarespace? Aren’t they evil kingdoms too?&nbsp;</p>



<p>Not really. They are just hosting platforms that are invisible to your followers. </p>



<p>The general public doesn’t have to go to Mailchimp.com to read your newsletter or squarespace to view your blog. Your readers go to your domain.</p>



<p>If any of those companies changes their terms in a way that you don’t like, you can migrate to a new hosting platform and your followers will never have to change their behavior. They will still go to the same URL to get to your site, they will still receive your newsletter from your email address.&nbsp;It is completely transparent to them.</p>



<p>Spend more resources on the castles on your land.</p>



<figure><img decoding="async" src="https://lh3.googleusercontent.com/JNGGv26YNconZhLlROTMOHEeDhFql44h9V8mObSz2oCAj8lKNlcbSRZQfT-QpCb8iqXjK2263xG3BQ-8k-2IPlMIFUuJLzdqvcaNCiVFqUBtHh1alkzoSTVJyEhyaosB84JxWWrN" alt=""></figure>



<h2>Rule #2: SHAMELESSLY USE THE OTHER KINGDOMS JUST LIKE THEY ARE USING YOU!&nbsp;</h2>



<p>I know Tiktok is the hot social media platform right now. It is so pleasant! It’s not like that last kingdom twitterlandia! All the cool kids are here! It is fun! There is dancing! And the traffic is huge!</p>



<p>But just like Facebookia and Myspacia something will change with them. It will.<a href="https://www.npr.org/2021/02/10/966584204/biden-administration-pauses-trumps-tiktok-ban-backs-off-pressure-for-tiktok-to-s"> It almost did already</a>.</p>



<p>Your solution? Use them so hard. Don’t fall in love. Try to get every last follower off of their kingdom and back to your kingdom. Be shameless about it.</p>



<p>It is true, you cannot get visibility without them, but don’t rely on them as your home base. Instead build the minimum following necessary. You are basically building a <a href="https://en.wikipedia.org/wiki/Potemkin_village">Potemkin Castle</a>.&nbsp;</p>



<p>Don’t feel guilty posting a Call to Action of “Join me on my mailing list.” You have every right to get people who want to hear from you out of their kingdom and into your kingdom. Don’t let people shame you that you are being to “salesy.” F**k em. You need to get people out of enemy territory and you gotta be clear. <em><a href="https://youtu.be/EMGTcgsEN68?t=561">ALWAYS HAVE A CALL TO ACTION</a></em>.&nbsp;&nbsp;</p>



<p>Basically build a big tall temporary tower in that foreign kingdom that is loud and garish and attracts a lot of attention. When anyone enters you say “oh to really follow me, go across the sea and join my real kingdom.”</p>



<figure><img decoding="async" src="https://lh4.googleusercontent.com/gXjiI78Axux6a5B4aCaDYgKi16xThuhfPwVZLmuklckfcjCC1Cxj51zxoRUENf9NeO9oib4KLWER1wUtdzS_3tPklNiVEn7FF-PhudvV4i3w1o8KGFX5YAS8MZoYvyInTbzuQUNg" alt=""></figure>



<p>Always try to build this bridge from a rival Kingdom back to your home Kingdom. Basically, when using any social media platform always ask yourself “How can I enrich my own kingdom with the people of this other land?”</p>



<p>When constructing your path see my next rule…</p>



<h2>Rule #3: Always move people back to your kingdom, never to another kingdom.</h2>



<p>It always kills me when I see a trailer on youtube go viral and the call to action at the end is “follow us on Discord!” or “Follow us on Twitter.”</p>



<p>UGH! You went from Youtuberia to Discordia! Neither of which are owned by you.</p>



<p>You are just sacrificing a bunch of traffic that could have been your own and you are giving it to another King who can take it from you.</p>



<p>Always try to get people to follow you back to your kingdom.</p>



<figure><img decoding="async" src="https://lh6.googleusercontent.com/hCjcUgpNcksuG7SlC27853Ep_sCmnpDHSTu-_7sYMG_E2JCC83S52gd7OzANwJK8u4HhcvG6Wenw6Dl5I1o37D6Bp1Z4qE9qQKEc6GFj0BhMpFtrmT4Ss94odbKQkUetLPk7hvVp" alt=""></figure>



<p>Why oh why are you spending time and money on a bridge that helps these two kings while neglecting your own land? </p>



<h2>Rule #4: Operate like your castle can get shutdown tomorrow</h2>



<p>Do you have a huge following on Twitter? Is everyone who would buy something from you following you only on Youtube? What would happen if tomorrow Twitter didn’t exist? Or Youtube? How would you communicate to them? Do not over-invest in one platform. Always try to get them back to your kingdom.</p>



<p>Don’t wait until it is too late. From the first day you start in that rival kingdom you should be pushing followers back to your home kingdom. </p>



<p>Yes you can still build a little castle in their land, but build a cheap one that you can afford to lose. Then you should stand on the top of that cheap castle and say “follow me over there!” as you gesture wildly to platforms owned by you.</p>



<h2>Rule #5: Be suspicious of new kingdoms that give away easy visibility</h2>



<p>Just about every 2 years there is some new “hot” social media site where you get tons of “engagement” and followers come easy?</p>



<p>Remember Snapchat?</p>



<p>The new guys are most definitely going to let you down soon.&nbsp;</p>



<p>Here is why. Social media platforms are capitalist enterprises and they are trying to steal market share away from rival social media sites. They are giving away so much free visibility, free engagement, cheap paid advertising to screw their rival social network.</p>



<p>This is temporary. The party won’t last. They will eventually decide to stop giving away traffic and decide to monetize their subscribers (meaning charge you to reach your fans).&nbsp;</p>



<p>Right now I see there are 2 platforms that are new and very risky.</p>



<h4><strong>TikTok</strong></h4>



<p>I have to be honest, they are giving away a LOT of free traffic. <a href="https://youtu.be/l_J22g4CaDs">And it seems to be pretty good traffic</a>.  It is attractive! I also hear their paid ad rates are very good. However this is because they are trying to grow as fast as they can. They are giving away free traffic right now to steal from other social networks. The good times will end. </p>



<p>My recommendation is yes, try to go viral on TikTok then make a CTA to follow you on your mailing list. Also don’t set your profile link to a LinkTree (that is another platform you don’t own!) Instead, link to your own URL that is designed to quickly shuffle them to where you want them to.</p>



<h4><strong>Discord</strong></h4>



<p>Yes everyone is on Discord right now but the company is still privately held and doesn’t have a solid business model yet. <a href="https://www.npr.org/2021/04/01/983159051/why-does-discord-not-use-ads-and-why-is-microsoft-interested-we-asked-discords-c">Also concerning is that they are explicitly anti-ads.</a> I know it sounds good to be anti ad but that means they have no clear way to monetize. That means they could stagnate without any clear growth model and a more aggressive rival will take market share from them (this is what happened to Myspace when Facebook showed up.)</p>



<p>Discord is also run by a small company relative to the amount of mindshare they have. This means they are ripe to be purchased by a bigger company. And when a big company takes over, we will always get screwed by the changes they make (Just look at Tumblr and Instagram and WhatsApp and Twitch for examples of this).</p>



<h2>Rule #6: Give good reasons to go back to the Castle in your Kingdom. And be persistent!</h2>



<p>It is hard to make people leave a social media site. But you need to work hard at it.&nbsp;</p>



<p>With every single person who enters your castle in a foreign land, tell them “welcome, yes my castle is nice here, but did you know I do better stuff over there in that Kingdom across the sea?”</p>



<p>Always be working to get people over to your land.&nbsp;</p>



<p>Use lead magnets to entice people to follow you back to your kingdom. For example</p>



<ul><li>Yes you went viral on TikTok but you should use that visibility to tell them that to learn more they should join your mailing list.&nbsp;</li><li>Announce you are holding a contest on all the social media platforms but to enter the contest they have to join your mailing list.</li><li>Hold a beta but instead of running it on Discord (another kingdom) tell them to sign up for the beta on your mailing list.&nbsp;</li><li>Tease major reveals and exclusive news about your game on Social media but tell them that the announcement will be made on your website and mailing list first.</li><li>Give exclusive codes out to your mailing list.</li></ul>



<p>You also need to be persistent. This isn’t a one time thing. Every week you should be telling them to follow you back to your kingdom. It will be slow, but building a TRUE following takes time.</p>



<p>I am not the first one to point this out:</p>



<figure><img decoding="async" src="https://lh3.googleusercontent.com/UWlxXfmI5Ss0hIwKsq80D_cHlQS4B4ra0YOJiWjb9hFV-ZVPatGv0NtMIG4MDubxp7iPgDyrHyKb6giHEKwMTcAtBTj23Vsmc1WOHqH_3tYxcqYukT5KsTM29W0mphv3xgd7WW8i" alt=""></figure>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Local-First Case Study (171 pts)]]></title>
            <link>https://jakelazaroff.com/words/a-local-first-case-study/</link>
            <guid>41712593</guid>
            <pubDate>Tue, 01 Oct 2024 18:51:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jakelazaroff.com/words/a-local-first-case-study/">https://jakelazaroff.com/words/a-local-first-case-study/</a>, See on <a href="https://news.ycombinator.com/item?id=41712593">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-content="" data-astro-cid-onuac4el=""> <p>I just got back from a travel sabbatical.
While the trip turned out great, the planning process was decidedly… less so.
Figuring out six months of travel is a daunting task, and I quickly became dissatisfied with existing tools.</p>
<p>True to myself, I yak shaved the problem.
Introducing <a href="https://waypoint.jakelazaroff.com/" data-astro-cid-bi7aps5f="">Waypoint</a><a data-tooltip="" href="https://waypoint.jakelazaroff.com/" data-astro-cid-bi7aps5f="">    <span data-astro-cid-bi7aps5f=""> <img src="https://waypoint.jakelazaroff.com/favicon.ico" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">waypoint.jakelazaroff.com</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>: a local-first web app for planning trips!</p>
<img src="https://jakelazaroff.com/words/a-local-first-case-study/waypoint.png" alt="A screenshot of an app called Waypoint, with two panels side by side. On the left, an outline of a trip to New Zealand. On the right, a map of New Zealand and Australia with pins in various cities, and routes between them highlighted.">
<p>You might be thinking “hey, that looks a lot like <a href="https://www.inkandswitch.com/embark/" data-astro-cid-bi7aps5f="">that trip planning app Ink &amp; Switch built</a><a data-tooltip="" href="https://www.inkandswitch.com/embark/" data-astro-cid-bi7aps5f=""> <img src="https://www.inkandswitch.com/embark/static/embark-social-image.jpg" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Embark: Dynamic documents for making plans</span> <span data-astro-cid-bi7aps5f="">Gradually enriching a text outline with travel planning tools</span> <span data-astro-cid-bi7aps5f=""> <img src="https://www.inkandswitch.com/favicon.ico" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">www.inkandswitch.com/embark/</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>”, and you’d be right: Embark was the single biggest influence on Waypoint.
In fact, Embark is even more ambitious — pulling in data like weather forecasts, embedding arbitrary views like calendars and introducing a new formula language for live calculations.
I highly recommend reading their writeup!
But Ink &amp; Switch didn’t make Embark public, and I needed to plan a long trip, so here we are.</p>
<p>I want to talk about three things: the big ideas behind Waypoint, how I actually built it and what I learned.</p>
<p>(Quick disclaimer: Waypoint is not — and probably will never be — production-ready software.
I built it to fit my exact needs while planning this trip.
There are rough edges, missing features and bugs. There’s no authentication.
I’m sharing it because I think it’s a useful case study in building an actual local-first app, not because I’m trying to dethrone Google Maps.)</p>
<h3 id="why-i-built-waypoint">Why I Built Waypoint</h3>
<p>I tried a few existing tools before deciding to build my own.
Apple Notes was too spartan, Notion and Google Maps were too clunky and Wanderlog was much too structured to use for research and exploration.<sup><a href="#user-content-fn-wanderlog" id="user-content-fnref-wanderlog" data-footnote-ref="" aria-describedby="footnote-label" data-astro-cid-bi7aps5f="">1</a></sup>:
In every tool, it was either difficult to enter rough, unstructured ideas, or difficult to take those ideas and create a more formal plan.</p>
<p>Waypoint addresses three important shortcomings of other tools:</p>
<ul>
<li>Data entry should be quick</li>
<li>Comparisons should be easy</li>
<li>Unstructured data is just as important as structured data</li>
</ul>
<p>In short, I wanted an app where I could jot down loose notes about places I was interested in visiting, visualize different routes and gradually narrow it all down into an actual itinerary.</p>
<p>The interface I landed on has two panels: a text editor on the left and a map on the right.</p>
<img src="https://jakelazaroff.com/words/a-local-first-case-study/waypoint.png" alt="A screenshot of an app called Waypoint, with two panels side by side. On the left, an outline of a trip to New Zealand. On the right, a map of New Zealand and Australia with pins in various cities, and routes between them highlighted.">
<p>One common task when planning a trip is gathering a list of locations you’re interested in visiting.</p>
<p>The simplest solution is using a normal text editor.
Data entry is quick; the only real limiting factor is how fast you can type.
The obvious drawback is that locations are displayed textually rather than plotted on a map, obscuring any spatial relationship between them.</p>
<p>The only <em>dedicated</em> tool for this that I really know of is Google’s <a href="https://www.google.com/maps/about/mymaps/" data-astro-cid-bi7aps5f="">My Maps</a><a data-tooltip="" href="https://www.google.com/maps/about/mymaps/" data-astro-cid-bi7aps5f=""> <img src="https://www.google.com//www.google.com/images/branding/product/2x/maps_96in128dp.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">About - Google Maps</span> <span data-astro-cid-bi7aps5f="">Discover the world with Google Maps. Experience Street View, 3D Mapping, turn-by-turn directions, indoor maps and more across your devices.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://www.google.com/images/branding/product/ico/maps_32dp.ico" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">www.google.com/maps/about/mymaps/</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a> (the neglected stepchild of Google Maps).
It nails the spatial visualization criterion.
But data entry is awkward and slow; tasks like organizing places into groups require a lot of clicking.</p>
<p>In Waypoint, the main interactive component is a rich text editor.
You use it just as you would Google Docs or Microsoft Word — type notes, add some formatting, cut and paste lines to rearrange your thoughts.
Adding a location is as easy as typing its name, using an <code>@mention</code>-style autocomplete inspired by Embark.
Characters show up as quickly as you can type them, and any changes are reflected instantly on the map view beside the document.</p>
<video controls="" muted="true"><source src="https://jakelazaroff.com/words/a-local-first-case-study/texteditor.mp4" type="video/mp4"></video>
<p>Even when apps make data entry easy, that data is often transient, making it difficult to see comparisons.</p>
<p>For example, if you want to see where two locations are relative to each other in Apple or Google Maps, you’re forced to use the navigation feature to create a route between them.
And only one route is visible at a time — to see a different set of locations, you need to clear the route you’re currently looking at.
This makes it very difficult to, say, determine which of a group of locations are near each other in order to cluster them on different days of an itinerary.</p>
<p>In Waypoint, every location is plotted on a map, so you always have a bird’s eye view of your trip.
To show routes, you can create a “route list” by beginning a line with <code>~</code> (just as you would with <code>-</code> for a bulleted list, or <code>1.</code> for a numbered list).
Every location in the list has a route drawn between its marker on the map and the next one.
By default, the routes are the driving directions between the two locations, but you can toggle between that and a straight line by clicking on the location name and unchecking “Navigate”.</p>
<p>It’s easy to add, remove and rearrange locations in the route: just use the text editing commands you already know to edit the list, and the map automatically updates!
To compare two routes, you can just copy and paste the whole list and rearrange as you see fit.</p>
<video controls="" muted="true"><source src="https://jakelazaroff.com/words/a-local-first-case-study/routelist.mp4" type="video/mp4"></video>
<p>A bird’s eye view is nice, but sometimes you want to “zoom in” on a subset of your work.
To accommodate this, Waypoint also includes a focus mode — <a href="https://ia.net/writer/support/editor/focus-mode" data-astro-cid-bi7aps5f="">inspired by iA Writer</a><a data-tooltip="" href="https://ia.net/writer/support/editor/focus-mode" data-astro-cid-bi7aps5f=""> <img src="https://ia.net/wp-content/uploads/2023/06/focus-1024x576.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Focus Mode – iA</span> <span data-astro-cid-bi7aps5f="">Shut down distractions. Focus on the sentence or paragraph you're currently working on.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://ia.net/wp-content/themes/iA-library/assets/favicons/favicon.ico" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">ia.net/writer/support/editor/focus-mode</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a> — which dims all paragraphs other than the one under your text cursor.
On the map, Waypoint only shows the locations and routes in that paragraph.</p>
<video controls="" muted="true"><source src="https://jakelazaroff.com/words/a-local-first-case-study/focusmode.mp4" type="video/mp4"></video>
<p>Together, these features enable a powerful workflow: make a route list, copy and paste it below, alter the second list, enable focus mode and move your cursor between the two to quickly see the difference between them.
No other tool I tried made this nearly as quick or as easy.</p>
<h3 id="under-the-hood">Under the Hood</h3>
<p>At a glance, Waypoint isn’t too different from your average single-page app:</p>

<p>Hold up — that last one seems kinda weird?</p>
<p>It’s actually the key difference between Waypoint and a traditional single-page app.
Rather than storing data on a server using a database like MySQL or Postgres, Waypoint is a <em>local-first</em> app that stores its data on the client using a CRDT.</p>
<p>(Some brief exposition: CRDTs are data structures that can be stored on different computers and are guaranteed to eventually converge upon the same state.
For a fuller explanation, check out my article <a href="https://jakelazaroff.com/words/an-interactive-intro-to-crdts/" data-astro-cid-bi7aps5f="">An Interactive Intro to CRDTs</a><a data-tooltip="" href="https://jakelazaroff.com/words/an-interactive-intro-to-crdts/" data-astro-cid-bi7aps5f=""> <img src="https://jakelazaroff.com/og/an-interactive-intro-to-crdts.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">An Interactive Intro to CRDTs | jakelazaroff.com</span> <span data-astro-cid-bi7aps5f="">CRDTs don't have to be all academic papers and math jargon. Learn what CRDTs are and how they work through interactive visualizations and code samples.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://jakelazaroff.com/favicon.ico" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">jakelazaroff.com/words/an-interactive-intro-to-crdts/</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>, which breaks down the fundamental ideas behind CRDTs and how they work.)</p>
<p>CRDTs are often used to build collaborative experiences like you might see in Google Docs or Figma — except rather than requiring a centralized server to resolve conflicts, the clients can do it themselves.
That decentralized sync allows the clients to store the canonical state of the data, rather than a copy fetched from a web server.</p>
<p>This approach confers some important benefits:</p>
<ul>
<li>Editing is instantaneous and synchronous.
There are no loading spinners, no optimistic updates to roll back if a request fails and no “go online to save your changes”.
The app is faster and more reliable to use, <em>and</em> much easier to develop.</li>
<li>If I decide to stop hosting Waypoint, you’ll still have the file with your data.
That file will work in any copy of Waypoint, without the need to set up special infrastructure.</li>
</ul>
<p>That’s why this kind of app is called local-first.
If you have the app and you have your data, you can still work on it — even if you’re not connected to the Internet or the developer has gone out of business.</p>
<p>All of this might seem like overkill for a personal app with a single user.
But I was planning this trip with my wife, Sarah, so Waypoint quickly needed realtime collaboration.
To address that, Waypoint uses a library called <a href="https://y-sweet.cloud/" data-astro-cid-bi7aps5f="">Y-Sweet</a><a data-tooltip="" href="https://y-sweet.cloud/" data-astro-cid-bi7aps5f=""> <img src="https://y-sweet.cloud/og-image.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Y-Sweet Cloud: the WebSocket sync backend you’ll love</span>  <span data-astro-cid-bi7aps5f=""> <img src="https://y-sweet.cloud/favicon.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">y-sweet.cloud</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a> by <a href="https://jamsocket.com/" data-astro-cid-bi7aps5f="">Jamsocket</a><a data-tooltip="" href="https://jamsocket.com/" data-astro-cid-bi7aps5f=""> <img src="https://jamsocket.com/api/og" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Jamsocket</span> <span data-astro-cid-bi7aps5f="">Give each user session its own dedicated backend.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://jamsocket.com/favicon.svg" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">jamsocket.com</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>.</p>
<p>There are two parts to Y-Sweet:</p>
<ul>
<li><code>@y-sweet/client</code>: an npm package that gets included in the client-side bundle. This package is a Yjs “provider” — a plugin that syncs a Yjs document somewhere.</li>
<li>The Y-Sweet server: a websocket server that syncs documents between clients and persists them to S3.<sup><a href="#user-content-fn-self-hosted" id="user-content-fnref-self-hosted" data-footnote-ref="" aria-describedby="footnote-label" data-astro-cid-bi7aps5f="">2</a></sup></li>
</ul>
<p>Architecturally, Y-Sweet acts as a <a href="https://en.wikipedia.org/wiki/Bus_(computing)" data-astro-cid-bi7aps5f="">bus</a><a data-tooltip="" href="https://en.wikipedia.org/wiki/Bus_(computing)" data-astro-cid-bi7aps5f="">    <span data-astro-cid-bi7aps5f="">  <span data-astro-cid-bi7aps5f="">en.wikipedia.org/wiki/Bus_(computing)</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>: clients connect to the Y-Sweet server rather than directly to each other.
Whenever a client connects or makes changes, it syncs its local document with the Y-Sweet server.
Y-Sweet merges the client’s document into its own copy, saves it to S3 and broadcasts updates to other clients.
Since CRDTs are guaranteed to eventually converge on the same state, at the end of this process all clients have the same document.</p>
<p>This also makes it easy to share documents.
Each Waypoint document is identified by a UUID.
When a user opens a link with a given document’s UUID, their Waypoint client connects to Y-Sweet and tries to sync their local copy with Y-Sweet’s copy.
If that user has <em>never</em> opened that document, they have no local copy, and the sync operation results in them just getting Y-Sweet’s copy in its entirety.</p>
<p>Here’s a diagram of Waypoint’s architecture after introducing Y-Sweet:</p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 360"><use href="./architecture.svg#diagram"></use><title><p>Two boxes labeled “Client”, each with internal boxes labeled “Yjs”, and a third box in the middle labeled “Y-Sweet” also with an internal box labeled “Yjs”. There are double-ended arrows pointing between each client’s Yjs box and Y-Sweet’s Yjs box. Below the Y-Sweet box is another box labeled “S3”, with another double-ended arrow between that and Y-Sweet’s Yjs box.</p></title></svg>
<p>One reasonable objection here is that it looks an awful lot like a traditional client-server app — just replace Y-Sweet with a normal application server and S3 with a database.
Doesn’t that defeat the whole purpose of local-first?</p>
<p>Ink &amp; Switch addresses this in <a href="https://www.inkandswitch.com/pushpin/#local-first-software" data-astro-cid-bi7aps5f="">the case study of their Pushpin software</a><a data-tooltip="" href="https://www.inkandswitch.com/pushpin/#local-first-software" data-astro-cid-bi7aps5f=""> <img src="https://www.inkandswitch.com/pushpin/static/pushpin.jpg" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Pushpin: Towards Production-Quality Peer-to-Peer Collaboration</span> <span data-astro-cid-bi7aps5f="">Taking peer-to-peer beyond research prototypes, and working towards commercial-grade P2P collaboration software.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://www.inkandswitch.com/favicon.ico#local-first-software" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">www.inkandswitch.com/pushpin/#local-first-software</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>:</p>
<blockquote>
<p>Thus, in addition to local data storage on each device, the cross-device data synchronisation mechanism should also depend on servers to the least degree possible, and servers should avoid taking unnecessary responsibilities. Where servers are used, we want them to be as simple, generic, and fungible as possible, so that one unavailable server can easily be replaced by another. Further, these servers should ideally not be centralised: any user or organisation should be able to provide servers to serve their needs.</p>
</blockquote>
<p>You can think of Y-Sweet as a “cloud peer”.
Under the hood, it runs plain old stock Yjs — the exact same code that runs on the client.
If you connected Waypoint to your own Y-Sweet server, there would be no discernible difference.
To borrow Ink &amp; Switch’s parlance: it’s “simple, generic, and fungible”.</p>
<p>Y-Sweet is one of two Yjs providers that Waypoint uses.
The other, called <a href="https://docs.yjs.dev/getting-started/allowing-offline-editing" data-astro-cid-bi7aps5f=""><code>y-indexeddb</code></a><a data-tooltip="" href="https://docs.yjs.dev/getting-started/allowing-offline-editing" data-astro-cid-bi7aps5f=""> <img src="https://docs.yjs.dev/~gitbook/ogimage/-MArc8ifvSI58_ypgRvF" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Offline Support | Yjs Docs</span> <span data-astro-cid-bi7aps5f="">Adding offline support with y-indexeddb.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://3672631625-files.gitbook.io/~/files/v0/b/gitbook-legacy-files/o/spaces%2F-MAkuXEU862fGj2p9idv%2Favatar-1593180022379.png?generation=1593180022641517&amp;alt=media" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">docs.yjs.dev/getting-started/allowing-offline-editing</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>, takes care of offline editing: it persists the Yjs document to the browser’s local IndexedDB storage.
Even if a user gets disconnected from the Internet, edits a document and then closes their browser, none of their work will be lost.</p>
<h3 id="is-it-local-first">Is It Local-First?</h3>
<p>A popular question lately: what actually counts as local-first?</p>
<p>My mantra is “if the client has the canonical copy of the data, it’s local-first”.<sup><a href="#user-content-fn-local" id="user-content-fnref-local" data-footnote-ref="" aria-describedby="footnote-label" data-astro-cid-bi7aps5f="">3</a></sup>
But Ink &amp; Switch formalizes this with <a href="https://www.inkandswitch.com/local-first/" data-astro-cid-bi7aps5f="">seven proposed ideals</a><a data-tooltip="" href="https://www.inkandswitch.com/local-first/" data-astro-cid-bi7aps5f=""> <img src="https://www.inkandswitch.com/local-first/static/cuneiform.jpg" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Local-first software: You own your data, in spite of the cloud</span> <span data-astro-cid-bi7aps5f="">A new generation of collaborative software that allows users to retain ownership of their data.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://www.inkandswitch.com/favicon.ico" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">www.inkandswitch.com/local-first/</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>.
Let’s see how Waypoint stacks up:</p>
<ul>
<li><strong>No spinners: your work at your fingertips.</strong> While Waypoint’s location autocomplete and map are subject to network latency, editing the document itself happens instantly. Verdict: yes.</li>
<li><strong>Your work is not trapped on one device.</strong> By simply visiting a link, you can load a Waypoint document written anywhere. Plus, you can download your data and open it in any given Waypoint instance. Verdict: yes.</li>
<li><strong>The network is optional.</strong> Again, other than the autocomplete and map, Waypoint is fully functional offline. Verdict: yes.</li>
<li><strong>Seamless collaboration with your colleagues.</strong> Waypoint supports both realtime and asynchronous collaboration, using a CRDT to resolve conflicts. Verdict: yes.</li>
<li><strong>The long now.</strong> Although Y-Sweet is a generic server, autocomplete and maps use a proprietary service called StadiaMaps. However, documents can still be viewed without requiring outside infrastructure. Verdict: sorta.</li>
<li><strong>Security and privacy by default.</strong> Y-Sweet stores copies of documents unencrypted in an S3 bucket. Verdict: no.</li>
<li><strong>You retain ultimate ownership and control.</strong> The canonical copies of data are stored on the client, with no limitations enforced by the server. Verdict: yes.</li>
</ul>
<p>Five “yes”, one “sorta” and one “no”.
Keep in mind that all the relevant technologies are off-the-shelf; most of these capabilities came for free by choosing Yjs (although any given CRDT library would have worked similarly) and Y-Sweet.
Not bad!</p>
<h3 id="takeaways">Takeaways</h3>
<p>Okay, so what did I learn?</p>
<p>Most importantly, local-first is not some pie-in-the-sky dream architecture.
Although there are still problems to be worked out,<sup><a href="#user-content-fn-auth" id="user-content-fnref-auth" data-footnote-ref="" aria-describedby="footnote-label" data-astro-cid-bi7aps5f="">4</a></sup> <strong>it’s very possible to build a useful local-first app, today, with existing tools</strong>.</p>
<p>It helps a lot that various libraries in the ecosystem compose well.
Just snapping together ProseMirror, Yjs and Y-Sweet gave me a collaborative rich text editor with shared cursors.
Adding in <code>yjs-indexeddb</code> made it work offline.
This was all mostly out of the box, with very little setup; the degree to which everything Just Works is impressive.</p>
<p>That said, I think this is a best-case scenario — text editors seem to be the most “plug and play” genre of local-first app.
But in general, the building blocks all fit together nicely.</p>
<p>The same can’t be said of Svelte — or, presumably, frontend JavaScript frameworks in general — which needed some massaging to work with Yjs.</p>
<p>To determine when to re-render, “reactive” frameworks like Svelte and Solid track property access using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" data-astro-cid-bi7aps5f="">Proxies</a><a data-tooltip="" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" data-astro-cid-bi7aps5f=""> <img src="https://developer.mozilla.org/mdn-social-share.cd6c4a5a.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Proxy - JavaScript | MDN</span> <span data-astro-cid-bi7aps5f="">The Proxy object enables you to create a proxy for another object, which can intercept and redefine fundamental operations for that object.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://developer.mozilla.org/favicon-48x48.cbbd161b.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>, whereas “immutable” frameworks like React rely on object identity.
A Yjs document is a class instance that mutates its internal state, which doesn’t play well with either paradigm.
To have Svelte re-render when the document changed, I had to trick it into invalidating its state:</p>
<pre><code is:raw=""><span>let</span> ydoc <span>=</span> <span>$state</span><span>(</span><span>new</span> <span>YDoc</span><span>(</span><span>)</span><span>)</span><span>;</span>

<span>// HACK: the yjs doc is mutated internally, so we need to manually invalidate the reactive variable</span>
<span>let</span> outline <span>=</span> <span>$state</span><span>(</span><span>this</span><span>.</span>ydoc<span>.</span><span>getXmlFragment</span><span>(</span><span>"outline"</span><span>)</span><span>)</span><span>;</span>

ydoc<span>.</span><span>on</span><span>(</span><span>"update"</span><span>,</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  outline <span>=</span> <span>undefined</span><span>;</span>
  outline <span>=</span> <span>this</span><span>.</span>ydoc<span>.</span><span>getXmlFragment</span><span>(</span><span>"outline"</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span></code></pre>
<p>Even so, in a lot of ways the developer experience was <em>still</em> much better than in a traditional single-page app.
Here’s (roughly) the code to update the document title:</p>
<pre><code is:raw=""><span>let</span> title <span>=</span> <span>$state</span><span>(</span><span>""</span> <span>+</span> ydoc<span>.</span><span>getText</span><span>(</span><span>"title"</span><span>)</span><span>)</span><span>;</span>

<span>function</span> <span>setTitle</span><span>(</span><span><span>next</span><span>:</span> string</span><span>)</span> <span>{</span>
  <span>const</span> text <span>=</span> ydoc<span>.</span><span>getText</span><span>(</span><span>"title"</span><span>)</span><span>;</span>
  text<span>.</span><span>delete</span><span>(</span><span>0</span><span>,</span> text<span>.</span>length<span>)</span><span>;</span>
  text<span>.</span><span>insert</span><span>(</span><span>0</span><span>,</span> next<span>)</span><span>;</span>
  title <span>=</span> next<span>;</span>
<span>}</span></code></pre>
<p>Sure, there’s some weird CRDT-related boilerplate, but still: no async function, no <code>try…catch</code>, no worrying about the server.
I just set the title and move on with my life; Yjs will worry about syncing it in the background.</p>
<p>That might sound like magic, but I think it’s just a natural consequence of a fundamentally better abstraction.
Using a local-first architecture rather than client-server promises to dramatically simplify single-page apps.</p>
<p>I was dreading adding offline support, but it turned out to be surprisingly easy.
SvelteKit supports service workers out of the box, and the documentation even provides some <a href="https://kit.svelte.dev/docs/service-workers" data-astro-cid-bi7aps5f="">example code</a><a data-tooltip="" href="https://kit.svelte.dev/docs/service-workers" data-astro-cid-bi7aps5f=""> <img src="https://kit.svelte.dev/images/twitter-thumbnail.jpg" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Service workers • Docs • SvelteKit</span>  <span data-astro-cid-bi7aps5f=""> <img src="https://kit.svelte.dev/favicon.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">kit.svelte.dev/docs/service-workers</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a> as a starting point.
It wasn’t perfect, but it got me probably 95% of the way there — I could load any document I’d already opened, even without an Internet connection.
And as far as saving edits made offline, integrating <code>y-indexeddb</code> took one single line of code.</p>
<h3 id="dive-in">Dive In</h3>
<p>I hope you enjoyed this!
I had a lot of fun building Waypoint.
This was my first hands-on foray into the local-first ecosystem, and it turned out to be a lot smoother than I anticipated.</p>
<p>If you want to see the code behind this explanation, you can find it on <a href="https://github.com/jakelazaroff/waypoint" data-astro-cid-bi7aps5f="">GitHub</a><a data-tooltip="" href="https://github.com/jakelazaroff/waypoint" data-astro-cid-bi7aps5f=""> <img src="https://opengraph.githubassets.com/75199199ad05e187a6b745bd92e11ecabf33922138f219b968052e8152f32962/jakelazaroff/waypoint" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">GitHub - jakelazaroff/waypoint</span> <span data-astro-cid-bi7aps5f="">Contribute to jakelazaroff/waypoint development by creating an account on GitHub.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://github.githubassets.com/favicons/favicon.svg" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">github.com/jakelazaroff/waypoint</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>.</p>

<section data-footnotes="">
<ol>
<li id="user-content-fn-wanderlog">
<p>We did end up using <a href="https://wanderlog.com/" data-astro-cid-bi7aps5f="">Wanderlog</a><a data-tooltip="" href="https://wanderlog.com/" data-astro-cid-bi7aps5f=""> <img src="https://wanderlog.com/assets/Routes__defaultOGImage.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Wanderlog travel planner: free vacation planner and itinerary app</span> <span data-astro-cid-bi7aps5f="">Plan your road trip or vacation with the best free itinerary and road trip planner. Wanderlog lets you to make itineraries with friends, mark routes, and optimize maps — on web or mobile app</span> <span data-astro-cid-bi7aps5f=""> <img src="https://wanderlog.com/images/favicon.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">wanderlog.com</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a> once we had our itinerary.
The mobile app is buggy, but its ability to automatically import tickets and confirmations from our email and save them for offline access was incredibly useful. <a href="#user-content-fnref-wanderlog" data-footnote-backref="" aria-label="Back to reference 1" data-astro-cid-bi7aps5f="">↩</a></p>
</li>
<li id="user-content-fn-self-hosted">
<p>This is a slight oversimplification describing the managed version of Y-Sweet.
For Waypoint, I <a href="https://github.com/jamsocket/y-sweet/blob/main/docs/running.md" data-astro-cid-bi7aps5f="">self-hosted Y-Sweet</a><a data-tooltip="" href="https://github.com/jamsocket/y-sweet/blob/main/docs/running.md" data-astro-cid-bi7aps5f=""> <img src="https://opengraph.githubassets.com/934bcfea606b13a204ede2ac7efcd8004861c517ff83c6a3bd5b3f294852b9f9/jamsocket/y-sweet" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">y-sweet/docs/running.md at main · jamsocket/y-sweet</span> <span data-astro-cid-bi7aps5f="">A standalone yjs server with persistence to S3 or filesystem. - jamsocket/y-sweet</span> <span data-astro-cid-bi7aps5f=""> <img src="https://github.githubassets.com/favicons/favicon.svg" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">github.com/jamsocket/y-sweet/blob/main/docs/running.md</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>, which involves running the Y-Sweet server on a Cloudflare Worker and using a small server-side library within SvelteKit to negotiate the connection. <a href="#user-content-fnref-self-hosted" data-footnote-backref="" aria-label="Back to reference 2" data-astro-cid-bi7aps5f="">↩</a></p>
</li>
<li id="user-content-fn-local">
<p>Technically, if the client has have the canonical copy of the data but never sends it over the network, it’s not really local-<em>first</em> — just local.
I explore this dynamic more in <a href="https://jakelazaroff.com/words/the-website-vs-web-app-dichotomy-doesnt-exist/" data-astro-cid-bi7aps5f="">The Website vs. Web App Dichotomy Doesn’t Exist</a><a data-tooltip="" href="https://jakelazaroff.com/words/the-website-vs-web-app-dichotomy-doesnt-exist/" data-astro-cid-bi7aps5f=""> <img src="https://jakelazaroff.com/og/the-website-vs-web-app-dichotomy-doesnt-exist.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">The Website vs. Web App Dichotomy Doesn't Exist | jakelazaroff.com</span> <span data-astro-cid-bi7aps5f="">A one-dimensional spectrum can't sufficiently capture the tradeoffs involved in web development.</span> <span data-astro-cid-bi7aps5f=""> <img src="https://jakelazaroff.com/favicon.ico" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">jakelazaroff.com/words/the-website-vs-web-app-dichotomy-doesnt-exist/</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a>. <a href="#user-content-fnref-local" data-footnote-backref="" aria-label="Back to reference 3" data-astro-cid-bi7aps5f="">↩</a></p>
</li>
<li id="user-content-fn-auth">
<p>One such problem is access control, which I did not attempt to address with Waypoint.
Ink &amp; Switch has <a href="https://www.inkandswitch.com/beehive/notebook/" data-astro-cid-bi7aps5f="">an ongoing project called Beehive</a><a data-tooltip="" href="https://www.inkandswitch.com/beehive/notebook/" data-astro-cid-bi7aps5f=""> <img src="https://www.inkandswitch.com/beehive/notebook/assets/logo-favicon-196x196.png" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">Beehive lab notebook: Local-first access control</span> <span data-astro-cid-bi7aps5f="">Local-first access control</span> <span data-astro-cid-bi7aps5f=""> <img src="https://www.inkandswitch.com/favicon.ico" alt="" onerror="this.remove()" data-astro-cid-bi7aps5f=""> <span data-astro-cid-bi7aps5f="">www.inkandswitch.com/beehive/notebook/</span> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"> <use href="/icons.svg#share"></use> </svg> </span> </a> exploring approaches to solving this. <a href="#user-content-fnref-auth" data-footnote-backref="" aria-label="Back to reference 4" data-astro-cid-bi7aps5f="">↩</a></p>
</li>
</ol>
</section> </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[300k USD Donation Pledged by Mitchell Hashimoto (151 pts)]]></title>
            <link>https://ziglang.org/news/300k-from-mitchellh/</link>
            <guid>41712239</guid>
            <pubDate>Tue, 01 Oct 2024 18:27:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ziglang.org/news/300k-from-mitchellh/">https://ziglang.org/news/300k-from-mitchellh/</a>, See on <a href="https://news.ycombinator.com/item?id=41712239">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content" role="main">
    
      <p><a id="back" href="https://ziglang.org/news/">
        ← Back to
        <b>News</b>
        page
      </a></p>
    <h3>October 01, 2024</h3>
    
    <p>The donation is structured in two 150k USD payments, one due right away, the second one year from now.</p><p>Over the last couple of years the Zig project has grown significantly both in terms of adoption and number of contributors, to the point where the amount of development activity has outpaced the amount of donations we are getting.</p><p><strong>We currently have a rapidly growing number of PRs that need to be reviewed, and a list of core contributors qualified to do the work, but not enough funding for billable hours in order to fully meet demand.</strong></p><p>We are thankful to both individual donors, and the companies that have adopted Zig and wisely decided to invest in the long-term sustainability of their software infrastructure. These donations are fundamental in allowing us to continue advancing the state of the art in compiler infrastructure.</p><p>On our side of things, <strong>the Zig Software Foundation has always been extremely attentive to ensuring that the money you donate is used efficiently</strong>.</p><p>Just last week we moved away from AWS in order to nip in the bud growing cloud infrastructure costs and, even before that, <strong>more than 90% of our income has consistently gone toward paying contributors for their time</strong>. This is not something that should be taken for granted, as it's easy for non-profit organizations to incur disproportionate amounts of operational overhead.</p><p>Given this context, <strong>we are currently uniquely primed for making immediate and effective use of donations that enable us to provide continued employment to core contributors.</strong></p><p>Using Mitchell's donation we'll be able to to offer Jacob Young a full time schedule. As a reminder, he's the primary author of the C backend, x86 backend, <a href="https://github.com/jacobly0/llvm-project/tree/lldb-zig" target="_blank">LLDB fork that adds Zig support</a>, and <a href="https://github.com/CE-Programming/toolchain" target="_blank">maintains the eZ80 toolchain</a> on the side, all without even having the ability to bill full time yet!</p><p>Thank you Mitchell for your financial support, your <a href="https://mitchellh.com/writing" target="_blank">excellent writing</a> about Zig, and, most importantly, for already realizing in <a href="https://mitchellh.com/ghostty" target="_blank">Ghostty</a> the vision of a better future for software that we set out to pursue with the Zig project.</p><p>I would like to use this opportunity to thank <a href="https://bun.sh/" target="_blank">Bun</a> and <a href="https://tigerbeetle.com/" target="_blank">TigerBeetle</a>  for supporting financially <a href="https://ziglang.org/news/2024-financials/#income" target="_blank">not only ZSF</a> but also <a href="https://github.com/sponsors/zigtools" target="_blank">ZigTools</a>, the community initiative that supports the development of ZLS, among other things.</p><p>I would also like to thank <a href="https://zml.ai/" target="_blank">ZML</a> for joining the aforementioned list of Zig early adopters and becoming a ZSF sponsor earlier this year.</p><p>UPDATE: Here's Mitchell's own post: <a href="https://mitchellh.com/writing/zig-donation" target="_blank">https://mitchellh.com/writing/zig-donation</a></p><p>Kind regards,<br>Loris Cro</p>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[End the line: The last Sun SPARC workstation [video] (117 pts)]]></title>
            <link>https://www.youtube.com/watch?v=O3iUmhkP10k</link>
            <guid>41712192</guid>
            <pubDate>Tue, 01 Oct 2024 18:24:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.youtube.com/watch?v=O3iUmhkP10k">https://www.youtube.com/watch?v=O3iUmhkP10k</a>, See on <a href="https://news.ycombinator.com/item?id=41712192">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[The $621M Legal Battle by Record Labels Against Internet Archive (159 pts)]]></title>
            <link>https://www.rollingstone.com/music/music-features/internet-archive-major-label-music-lawsuit-1235105273/</link>
            <guid>41712120</guid>
            <pubDate>Tue, 01 Oct 2024 18:19:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.rollingstone.com/music/music-features/internet-archive-major-label-music-lawsuit-1235105273/">https://www.rollingstone.com/music/music-features/internet-archive-major-label-music-lawsuit-1235105273/</a>, See on <a href="https://news.ycombinator.com/item?id=41712120">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>
	<span><span>
				<span>I</span>
			</span>n the old</span>  chapel of a former Christian Science church in San Francisco, late-afternoon sun pours orange through the windows and several giant servers are hard at work. The tall, black towers fill two large alcoves and their cooling fans emit a serene, industrial hum as blue lights blink. Each flicker, says the man in charge of this operation, Brewster Kahle, is a virtual patron of the enormous digital library called the <a href="https://www.rollingstone.com/t/internet-archive/" id="auto-tag_internet-archive" data-tag="internet-archive">Internet Archive</a>.</p>



<p>
	Across the room, near where the pulpit would be, sits a sculpture of chunky, red, antiquated computer monitors flashing bygone web pages — a snapshot of the World Wide Web in 1997, and the earliest entry to the Internet Archive’s enormous digital collection.&nbsp;</p>



<p>
	But it’s the statues — lined up against the walls and in the pews — that grab your attention. Hundreds of miniature replicas of past and present Internet Archive employees. Three more just arrived yesterday, Kahle, 63, tells me last fall as he points out his own. The statue’s wire-frame glasses match his; the white hair, however, is more tight and curled than the tufts that halo his actual head, making him look a bit like Doc Brown from <em>Back to the Future</em>. Kahle’s statue carries a book in one hand and a computer mouse in the other, the latter held out like an offering.&nbsp;

	</p>




<p>
	“Nobody makes any money here, right?” says Kahle. “So you do this for some other reason. Why do you do it? Because you want to be proud of what you do.”

</p>



<p>
	I ask what you have to do to earn a statue.</p>



<p>
	“You have to work at the Archive for three years,” replies Kahle, who founded the Archive as a nonprofit in 1996. “You have to spend your time doing a public service. Oh, did I tell you?” he adds as a casual aside. “The major record labels are trying to destroy us.”&nbsp;</p>



<div>
	

<figure>

			
<div>
	
			<p><img src="https://www.rollingstone.com/wp-content/uploads/2024/09/Ceramic_archivists_4915_-_Jason_Scott-copy.jpg" data-lazy-src="https://www.rollingstone.com/wp-content/uploads/2024/09/Ceramic_archivists_4915_-_Jason_Scott-copy.jpg" alt="" data-lazy-srcset="" data-lazy-sizes="" height="682" width="1024" decoding="async">
			
			</p>
	
	</div>
	
			
			
<figcaption>
	
					<span>Ceramic sculptures of Internet Archive employees at the company’s headquarters in San Francisco, CA.</span>
		
									<cite>Jason Scott/Courtesy of the Internet Archive</cite>
					
	</figcaption>

			
</figure>

</div>



<p>
	To many, the Internet Archive is its own kind of sanctuary — a vestige of a bygone internet built on openness and access, a Silicon Valley standout interested not in series funding or shareholder value, but the preservation of any piece of the cultural record it can get. But to the corporations and people that own the copyrights to large swaths of that record, the Internet Archive is like a pirate ship stuffed with digital plunder. Two lawsuits have brought these long-simmering tensions to the courts and public consciousness, with financial repercussions in the hundreds of millions that could bring down the internet’s greatest library.</p>



	<h2>
		<strong>“The</strong> <strong>Library of Alexandria for the Digital Age”</strong>	</h2>



<p>
	Before founding the Internet Archive, Kahle worked as a computer scientist, making major contributions to personal computing and the early internet during the Eighties and Nineties.


</p><section>
			

	<h2 id="section-heading">

	
		Editor’s picks
	
	</h2>

	
	
</section>




<p>
	With the Archive, he says, “The whole idea was to build the Library of Alexandria for the digital age. To build universal access to all knowledge.”</p>



<p>
	The Archive is best known for its preservation of the ephemeral expanses of the World Wide Web, available through its one-of-a-kind archive/search engine, the Wayback Machine. But this is just one facet of its collection: Working with museums, libraries, and individual donors and contributors, the Archive has amassed more than 145 petabytes of material (if <a href="https://www.lifewire.com/terabytes-gigabytes-amp-petabytes-how-big-are-they-4125169" target="_blank" rel="noreferrer noopener nofollow">you took more than</a> 4,000 digital photos every day for the rest of your life, you might end up with 1 petabyte). Much of this material is obsolete or out of print — books, microfilm and microfiche, old software, video games, obscure VHS tapes, TV news programs, historic radio shows, and hundreds of thousands of concert recordings.&nbsp;


</p><section>
			

	<h2 id="section-heading">

	
		Related
	
	</h2>

	
	
</section>




<p>
	“It’s a research library. It’s there to record and make available an accurate version of the past,” Kahle says. “Otherwise, we’ll end up with a George Orwell world where the past can be manipulated and erased.”

	</p>




<p>
	But this work has long rankled one of the most powerful forces in the United States — rights holders — and the threat of copyright lawsuits has always loomed over the Archive. Lawrence Lessig, the legal scholar and Archive ally, even predicted Kahle would wind up in court in a 2001 <a href="https://www.nytimes.com/2001/10/29/business/new-economy-library-web-pages-that-warms-cockles-wired-heart-beats-library.html" target="_blank" rel="noreferrer noopener nofollow"><em>New York Times</em></a> interview, days after the Wayback Machine launched.&nbsp;</p>



<p>
	It took nearly two decades — during which the Archive occasionally faced smaller legal challenges — but Lessig was right. In June 2020, several book publishers sued the Internet Archive following the launch of its pandemic-era National Emergency Library, which made its collection of scanned books available to borrow freely and without restrictions amid school, university, and library closures. The publishers claimed mass, willful copyright infringement and <a href="https://www.rollingstone.com/culture/culture-news/internet-archive-copyright-infringement-lawsuit-1234703776/">won a summary judgment</a> in the lower courts last March. (The Archive appealed, but <a href="https://www.rollingstone.com/culture/culture-news/internet-archive-loses-appeal-book-publishers-copyright-case-1235095174/">lost again</a> earlier this month.)</p>



<div>
	

<figure>

			
<div>
	
			<p><img src="https://www.rollingstone.com/wp-content/uploads/2024/09/Brewster-Kahle-Founder-_-Digital-Librarian-Internet-Archive-2020-By-Rory-Mitchell-The-Mercantile-2020-CC-by-4-copy.jpg?w=1024" data-lazy-src="https://www.rollingstone.com/wp-content/uploads/2024/09/Brewster-Kahle-Founder-_-Digital-Librarian-Internet-Archive-2020-By-Rory-Mitchell-The-Mercantile-2020-CC-by-4-copy.jpg?w=1024" alt="" data-lazy-srcset="" data-lazy-sizes="" height="576" width="1024" decoding="async">
			
			</p>
	
	</div>
	
			
			
<figcaption>
	
					<span>Internet Archive founder Brewster Kahle</span>
		
									<cite>Rory Mitchell/The Mercantile 2020/CC-by-4</cite>
					
	</figcaption>

			
</figure>

</div>



<p>
	The same day the district court settlement was announced in August 2023, a set of music-industry clients — led by major record labels Universal Music Group and Sony Music — <a href="https://www.rollingstone.com/music/music-news/record-labels-sue-internet-archive-412-million-copyright-infringement-lawsuit-1234806058/">filed their own copyright-infringement lawsuit</a> over another Archive endeavor, <a href="https://great78.archive.org/" target="_blank" rel="noreferrer noopener nofollow">the Great 78 Project</a>: an unprecedented effort to digitize 78 rpm records, the obsolete shellac discs that emerged in the 1890s and remained the dominant format for audio recordings until vinyl surpassed them in the 1940s and 1950s.</p>



<p>
	The Great 78 Project bills itself as a “community project for the preservation, research and discovery of 78 rpm records”; the labels, in their <a href="https://www.rollingstone.com/t/lawsuit/" id="auto-tag_lawsuit" data-tag="lawsuit">lawsuit</a>, call it an “illegal record store.” They claim the availability of these digitized 78s constitutes “wholesale theft of generations of music,” with “preservation and research” used as a “smokescreen.” They further argue that the project “undermines the value” of the original recordings, and “displace[s]” authorized streams that actually generate royalties and revenue.</p>



<p>
	Attorneys for the labels forwarded interview requests to the Recording Industry Association of America, which declined to comment for this article. Ken Doroshow, chief legal officer for the RIAA, previously said that the suit was meant to address “the industrial-scale infringement of some of the most iconic recordings ever made.”&nbsp;

	</p>




<p>
	If you want to explore the old, weird expanses of recorded-sound history, there’s no better resource than the Great 78 Project. To build it, the Internet Archive contracted the services of expert audio preservationist George Blood, whose team has digitized and uploaded (with detailed metadata) more than 400,000 recordings since 2017. Click around, filter by year, genre, language, and you’ll find an infinite scroll of discs — most issued by long-defunct labels like Victor, Vocalion, Edison, Oriole, Okeh, and Brunswick — their front labels photographed and laid out in a grid, each one leading to a web page with a straight rip of the crackly recording. A folk, blues, or country tune, a lost jazz gem or minor big-band hit, a Yiddish comedy bit, Hungarian opera, Argentine tango, polka, foxtrot, gospel, hymns, or even just the sound of a person laughing because that’s what people wanted to hear when it became possible to record a human voice.&nbsp;</p>



<p>
	Blood, who is also named as a defendant in the lawsuit, calls this “preservation of the cultural record” one of the “great accomplishments” of the Great 78 Project. “Probably 95 percent or more of this content is not available anywhere,” he tells <em>Rolling Stone.</em> “Whether they were small labels, or obscure pressings, they have been lost to time.”&nbsp;</p>



<div>
	

<figure>

			
<div>
	
			<p><img src="https://www.rollingstone.com/wp-content/uploads/2024/09/Technician-digitizes-78-copy.jpg?w=1024" data-lazy-src="https://www.rollingstone.com/wp-content/uploads/2024/09/Technician-digitizes-78-copy.jpg?w=1024" alt="" data-lazy-srcset="" data-lazy-sizes="" height="786" width="1024" decoding="async">
			
			</p>
	
	</div>
	
			
			
<figcaption>
	
					<span>Digitizing a 78 for the Great 78 project</span>
		
									<cite>George Blood/Courtesy of the Internet Archive</cite>
					
	</figcaption>

			
</figure>

</div>



<p>
	Of these hundreds of thousands of recordings, the record labels sued over the uploading of 4,142 (an amended complaint from earlier this year added 1,393 recordings to the initial 2,749). Most are by recognizable legacy acts whose music is still widely available: Billie Holiday, Louis Armstrong, Elvis Presley, Chuck Berry, Hank Williams, Frank Sinatra, Benny Goodman, Ernest Tubb, and Peggy Lee. (These recordings are now no longer available on the Great 78 Project, per Kahle.) The potential damages are staggering — $150,000 per recording (the statutory maximum for an infringing incident), with a possible total of more than $621 million. If the labels win, with a broad enough judgment, it could end the Internet Archive.&nbsp;(The most recent action in the case was a private mediation session between the parties earlier this week. As it stands, the case is moving forward with the discovery phase scheduled to last through most of 2025.)&nbsp;</p>



<p>
	Above the doorway to Kahle’s office is a street sign: Librarian Place. With a self-deprecating drone, Kahle ticks off some of the achievements hanging on his wall: “I’m in the Internet Hall of Fame, American Academy of Arts and Sciences, American Antiquarian Society.” Not missing a beat, he marvels at the new distinction these lawsuits seem to have foisted upon him: “And suddenly we are bringing down capitalism.”&nbsp;

	</p>




	<h2>
		<strong>“Openness Is the Way to Go”</strong>	</h2>



<p>
	Kahle grew up in Scarsdale, New York, the son of a mechanical engineer who instilled in him a post-WWII ethos — “You can <em>build things</em>, you can try to make things better” — that later cross-pollinated with hippie idealism as Kahle studied engineering and computer science at MIT in the late Seventies and early Eighties. Kahle bolstered his studies with courses in history, Buddhism, and library science, even as many of his MIT peers treated the humanities like gym class.</p>



<p>
	Kahle was enamored with libraries, and they informed his two major contributions to the early internet era. In the Eighties, he joined the supercomputer company Thinking Machines, where he helped develop the Wide Area Information Server (WAIS), an early online publishing system and search engine modeled after the way people asked questions of librarians. His next company, Alexa Internet, founded in 1996, was named for the Library of Alexandria and crawled the web for information to create a quasi-card catalog for the internet.&nbsp;</p>



<figure><div>
<p><iframe loading="lazy" title="Young At Heart (Remastered 2000)" width="500" height="375" src="https://www.youtube.com/embed/aZRn4auk4PQ?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe></p>
</div></figure>



<p>
	During our conversations, Kahle name-checks a variety of 20th century texts such as “As We May Think,” <em>Computer Lib/Dream Machines,</em> <em>Practical Digital Libraries,</em> all of which conjure similar visions of a future where information, and people, are liberated through technology and libraries. Kahle believed the internet could replace the world he grew up in, where information was confined to a few TV channels, textbooks, and newspapers. That was a “game of very few winners,” he likes to say. He wanted to make a game with many.&nbsp;</p>



<p>
	When WAIS spun off into its own company in the early Nineties, Kahle had the chance to develop it further with Steve Jobs at NeXT. He declined. Jobs, says Kahle, “was not interested” in building out WAIS with search tools that were fully open to the public.&nbsp;</p>



<p>
	“Openness is the way to go,” Kahle says, “even though I won’t become as rich, because who cares about getting rich? How do we make it so there’s lots of writers, publishers, booksellers, and libraries that have their own niches? How do we make it so it’s many-to-many-to-many, without any central points of control?”

	</p>




<p>
	Kahle still got rich. WAIS sold to AOL for $15 million in 1995. And Amazon, enchanted by Alexa’s web-crawling capabilities, bought it for a reported $250 million in stock in 1999. (As part of the deal, Amazon agreed to keep donating those web crawls to the Internet Archive for preservation.)&nbsp;</p>



<p>
	Though Kahle’s ideals have never wavered, his creations were subsumed by a Silicon Valley behemoth feeding off all things antithetical to his vision of an open internet: advertising models, insane capital markets, and the ultimate “poison” (as he calls it), monopoly power. This was how you got tight controls on information, locked up behind towering paywalls. A game of few winners.&nbsp;</p>



<p>
	“We’ve taken the promise of the internet and shafted it,” Kahle says. “We convinced people — I was one of them — to turn to their screens to answer questions.”</p>



<div>
	

<figure>

			
<div>
	
			<p><img src="https://www.rollingstone.com/wp-content/uploads/2024/09/DannyHillis-CM-1-TamikoThiel-CarlFeynman-BrewsterKahle_TMC-May1985.jpg?w=692" data-lazy-src="https://www.rollingstone.com/wp-content/uploads/2024/09/DannyHillis-CM-1-TamikoThiel-CarlFeynman-BrewsterKahle_TMC-May1985.jpg?w=692" alt="" data-lazy-srcset="" data-lazy-sizes="" height="1024" width="692" decoding="async">
			
			</p>
	
	</div>
	
			
			
<figcaption>
	
					<span>(Clockwise from top left) Tamiko Thiel, Danny Hillis, Carl Feynman, Brewster Kahle at Thinking Machines, May 1985.</span>
		
									<cite>Tamiko Thiel/Courtesy of the Internet Archive</cite>
					
	</figcaption>

			
</figure>

</div>



<p>
	So, as the internet zagged, Kahle took his millions and brilliance and built his bastion. And though he spurned Silicon Valley’s hypercapitalist bloodlust, he continued to embrace its swashbuckling, sometimes heedless pursuit of a goal. To grow the Internet Archive, that meant dancing around and prodding the limits of copyright law. Though to the Archive’s detractors, this often looked like blatant disregard.</p>



<p>
	In their lawsuit, the labels hit the Archive for its “long history of opposing, fighting, and ignoring copyright law, proclaiming that their zealotry serves the public good. In reality, Defendants are nothing more than mass infringers.”</p>



<p>
	Still, “serving the public good” seemed to earn the Archive some leeway. Jessica Litman, a University of Michigan Law School professor and copyright expert, notes that the Wayback Machine was able to skirt major challenges because it “became a really well-accepted resource,” and no one else (including the Library of Congress) was willing to put up the money, or take the copyright risk, to index the web.&nbsp;</p>



<p>
	When rights holders did demand something be taken down, the Internet Archive obliged: “Always with respect and in conversation,” Kahle says. Sometimes, a compromise was reached, like in 2005, when the Internet Archive and the Grateful Dead found a solution to keep the band’s myriad concert recordings available on the “Live Music Archive.”

	</p>




<p>
	Kahle shared a kind of copyright philosophy at a 2019 conference. “Try not to cause other people to feel like they’re being taken advantage of,” he told the crowd. “If that doesn’t happen, they won’t come after you. If they feel like they’re being taken advantage of, they’ll throw things at you, like lawyers… I think we just need to proceed and do the right thing. Don’t do things that smell bad.”&nbsp;</p>



<figure><div>
<p><iframe loading="lazy" title="Autumn In New York" width="500" height="375" src="https://www.youtube.com/embed/r9PYx9T80J4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe></p>
</div></figure>



<p>
	But to many, the Internet Archive always smelled bad. “That’s the issue with Brewster,” says Neil Turkewitz, a former executive vice president, international of the RIAA. “It’s the hubris that flows out of Silicon Valley, and he’s got it in spades: That you can make your own laws that determine your norms of conduct if you have a higher ideal.”</p>



<p>
	Dennis Spragg, director of the Glenn Miller archives and the estate’s licensing coordinator, colorfully says he’ll refrain from using the word “thief” to describe the Archive’s activities, because “that’s a judgmental term.” Instead, he settles on a fictional Latin legal descriptor: “<em>Habeas grabus</em>. In other words: I have it, I grab it.”&nbsp;</p>



<p>
	“They’ve really gotten under the skin of a lot of people,” he adds. “And there are movements among rights holders to get tough on them.”</p>



<p>
	A $621 million lawsuit is tough, and both Turkewitz and Christiane Kinney, a music-industry lawyer and copyright specialist, think the labels have an open-and-shut case. There’s barely a “factual dispute,” Turkewitz argues. “It’s a straightforward reproduction-distribution copyright case … focused on records that are in the [labels’] catalog, being distributed, and available commercially.”&nbsp;</p>



<p>
	Kinney agrees: “They talk a great game. But the reality is, Bing Crosby’s ‘White Christmas’ — when do we not hear that?”</p>



<p>
	For the Internet Archive, the notion of fair use — legal carve-outs that allow people to use copyrighted works if the purpose is deemed sufficiently “transformative” or “educational” — is on the table; but that argument failed to sway the lower courts in the book-publishers’ case. The Copyright Act also gives libraries and archives some leeway to reproduce and distribute protected works, but there are debates over whether the Internet Archive, despite its assertions, is a library or just an online distribution hub. (In the book-publishers’ case, the appeals court held that the “IA does not perform the traditional functions of a library.”)

	</p>




<p>
	Litman does suggest the labels will have to prove the recordings the Internet Archive is hosting are the same ones labels are currently selling. “I think that’s a hard argument to make,” she says. “I would be shocked if they hadn’t gotten new copyright registrations for those recordings. What they’re exploiting is a remastered version of the older recordings. And what the Internet Archive is streaming are the original, very low-fi recordings.” For instance, the registration for a 1995 Count Basie compilation, <em>On the Upbeat,</em> contains two songs in the suit (“Every Tub” and “One O’Clock Jump”) and states the claim is for “New matter: compilation &amp; remix.”</p>



<p>
	Jennie Rose Halperin, a librarian and director of the advocacy group Library Futures (which <a href="https://www.libraryfutures.net/post/library-futures-files" rel="nofollow" target="_blank">filed an amicus brief</a> on behalf of the Archive in the book-publishers’ case), echoes this sentiment: “To make the assumption that listening to a 78 online with all the scratches and crackles is the same as going to Spotify and listening to a Frank Sinatra song is, frankly, a specious argument.”&nbsp;</p>



	<h2>
		<strong>“Too Important to Be Left to These Corporations”</strong>	</h2>



<p>
	In the Internet Archive’s lobby, a display case exhibits the history of the written word on one side (cuneiform tablets to laptops) and the history of recorded sound on the other (Edison cylinders to MP3s). A Victor Talking Machine from 1927 sits in between. Kahle asks if I’ve ever heard a 78 played on a mechanical phonograph before. I haven’t, so he grabs a disc from a small stack, places it on the turntable, and fixes a fresh needle to the stylus. I’m instructed to turn the crank on the side until it starts to resist. When it does, Kahle flips a switch, the turntable spins, and the little arrow on the rpm speedometer inches toward 78. The needle hits the shellac and starts to dance back and forth in the groove, pushing air through a diaphragm to amplify the sound.&nbsp;</p>



<p>
	The record, 1947’s “Concerto Boogie” by the Tommy Edwards Trio, is a jazzy take on Edvard Grieg’s 1868 Piano Concerto in A minor. After a stern piano intro, the bass and guitar swing into a lush, goofy, gimlet-drunk groove. Standing in front of the Victor Talking Machine’s iconic, blooming horn, I flash a delighted, stupefied smile. Not because “Concerto Boogie” is the greatest song I’ve never heard (no offense to the Tommy Edwards Trio); I’ve just never listened to music this way, where each crackly note hits your face with a puff of air. I’ve stood in front of subwoofers as they huff and puff; I’ve felt bass vibrating through my body. But this is different, a breath out of the past.&nbsp;

	</p>




<p>
	Seventy-eights have long been essential, if not invaluable, to the preservation of early-20th-century sound. Under the best circumstances, an audio restoration or preservation project uses a master recording — the original tape, digital file, or, as was often the case in the early 1900s, metal plate — onto which the song was first cut. But few of those metal plates survive today. (Paramount Records, the prominent jazz and blues label that released music by Ma Rainey, Blind Lemon Jefferson, and Charley Patton, folded during the Depression and sold many of its masters as scrap metal.)</p>



<p>
	<strong>Tommy Edwards Trio – “Concerto Boogie”</strong></p>


<iframe loading="lazy" id="pmc-protected-embed-2" width="500" height="80" src="https://archive.org/embed/78_concerto-boogie_tommy-edwards-trio-tommy-edwards-griegs_gbia0118913b&amp;playlist=1" frameborder="0" scrolling="no" allowfullscreen="true"></iframe>


<p>
	New 78s were manufactured through the Fifties, but the work of preserving those older discs was often eschewed by labels and taken up by individuals. When Columbia Records released the landmark 1961 Robert Johnson collection, <em>King of the Delta Blues Singers,</em> it didn’t pull the recordings from its own meticulously-kept vault: A few metal master plates were found in a factory, but most of the songs were sourced from 78s in the personal collections of two Columbia employees.</p>



<p>
	Individual collectors were essential to the growth of the Great 78 Project, too, from the 70,000 discs donated by the Danish collector Leif Druedahl to additional discs gifted from various institutions and libraries.</p>



<p>
	David Leonard, president of the Boston Public Library, which donated a large swath of its long-out-of-circulation sound collection, remembers the “praise and comments” from music lovers and nostalgic listeners that poured in when the collection went live.&nbsp;</p>



<p>
	The labels do take care of plenty of old music, especially if it’s still profitable, like the 4,000-odd recordings over which they’re suing the Archive. But Nathan Georgitis, executive director of the Association for Recorded Sound Collections, a nonprofit committed to studying and preserving sound recordings, argues that record companies also have a way of letting “content go.” He alludes to the infamous 2008 fire at Universal Studios (a “big mishap with its vault”), which destroyed a warehouse filled with archival audiovisual material. And he notes that ARSC and some labels have occasionally found themselves at odds over “how to properly manage sound-recording collections — whether for the benefit of history and the enlightenment of mankind, or for, you know, economic profit.”&nbsp;

	</p>




<p>
	Lew Tucker, a computer scientist and peer of Kahle’s, understands the repercussions of those considerations. His father, Tommy Tucker, was a successful big-band leader in the Thirties and Forties, who mostly made his living on the road, but recorded hundreds of songs and even notched a few minor radio hits. Most of those recordings are now likely owned by Universal and Sony, but you won’t readily find them on CD or streaming.&nbsp;</p>



<p>
	“There’s no commercial interest,” Tucker admits of his dad’s music. “But then it’s all locked up, nobody can hear it.”</p>



<p>
	You will find hundreds of Tommy Tucker recordings on the Great 78 Project, but none of them are part of the lawsuit. “That’s why preservation and archiving is too important to be left to these corporations that don’t see a way to monetize it,” Tucker says. “Brewster’s not monetizing it.”&nbsp;</p>



<figure><div>
<p><iframe loading="lazy" title="1941 HITS ARCHIVE: I Don’t Want To Set The World On Fire - Tommy Tucker (Amy Arnell, vocal)" width="500" height="375" src="https://www.youtube.com/embed/MzyCBSTZD8I?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe></p>
</div></figure>



<p>
	The Great 78 Project was ultimately designed for the Tommy Tuckers and the “Concerto Boogie”s. While 78 collectors helped build it, it’s a fundamental counter to their frequent pursuit of the rarest discs in the world. “It’s the long tail that people wanted,” says Kahle. “They wanted to know, ‘What did America sound like?’ We’re looking for not only the things people listened to, but the way they listened to it.”</p>



<p>
	And the Internet Archive probably could’ve done exactly this and never faced a $621 million lawsuit. That’s because the 2018 Music Modernization Act set up rules to allow people to share the plethora of recordings made before 1972 that aren’t available, for streaming or sale, through official channels. Rules that, say, a nonprofit internet library could follow if it wanted to digitize 78s containing tracks you’d never find on Spotify. They wouldn’t be allowed to monetize those recordings, and would have to conduct a “good faith, reasonable search” to ensure the original rights holder wasn’t making money off them. But, if they did that, then filed notice with the Copyright Office, waited 90 days, and no one objected, they’d be free to share.

	</p>




<p>
	The Internet Archive actually leapt to use these rules to add a slew of out-of-print vinyl LPs to its library. Its “Unlocked Recordings” collection now boasts more than 23,000 items, and prominently states that a “reasonable search” was conducted to determine they weren’t commercially available.&nbsp;</p>



<p>
	But the labels, in their suit, argue no similar search was conducted for the Great 78 Project — proof, in their minds, that the Internet Archive knew the rules and willfully ignored them. (They also rebuffed the Archive’s claim about the “Unlocked Collection,” saying it never filed notice with the Copyright Office for any recording, and even hosted recordings by Paul McCartney, Jimi Hendrix, and Nina Simone at one time; if those recordings were available, they appear to have been taken down.)</p>



<p>
	Kahle insists that if the labels had said, “Hey, it’s so important that nobody be able to get that Benny Goodman 78,” the Internet Archive “would’ve worked with them.” The RIAA even contacted him in 2020 about possible infringement on the Great 78 Project, and while Kahle defended the endeavor in response, he also said they’d remove any specific titles if the labels asked. No such request came, just the lawsuit three years later.&nbsp;</p>



<p>
	But the labels argue, this time, it wasn’t their responsibility to serve the Archive with such a list or copyright takedown notices. Even Litman, a great admirer of the Internet Archive, thinks it may have been “negligent” in failing to follow these rules. The Music Modernization Act “required [the Archive] to go through some hoops, and it didn’t,” she says.&nbsp;</p>



<p>
	I broach this with Kahle for the first time in the Archive’s lobby, across the room from the Victor Talking Machine, where he’s dropping a coin into a 1940s-era red electric jukebox. I punch a button for a Benny Goodman tune, but the machine’s finicky and brings up Louis Armstrong and Ella Fitzgerald’s “The Frim Fram Sauce” instead — one of the allegedly infringed-upon recordings on the Great 78 Project.

	</p>




<figure><div>
<p><iframe loading="lazy" title="The Frim Fram Sauce / Ella Fitzgerald and Louis Armstrong with Bob Haggart's Orchestra" width="500" height="281" src="https://www.youtube.com/embed/M3pxFP-rJIw?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe></p>
</div></figure>



<p>
	I mention a presentation where Kahle discussed how the Archive checked if the VHS tapes it was preserving were commercially available on DVD. Were similar steps taken for the 78s?</p>



<p>
	“For LPs and CDs, that’s exactly what we do,” he says. “Seventy-eights, we asked around, we dealt with a lot of collectors, they just said it’s not a problem.” (In an email, Kahle further notes that the Great 78 Project “predates the MMA” and that the “record labels knew about it.”)</p>



<p>
	But there’s an even more blunt, obvious way of asking this question that doesn’t require knowledge of byzantine U.S. copyright law. Why didn’t the Internet Archive just think twice before making a song like “The Frim Fram Sauce” or Bing Crosby’s “White Christmas” — the most popular single of all time — available online for free? There wasn’t any concern about even a Frank Sinatra hit on 78?</p>



<p>
	For a few moments, it’s just the hearty horns of Bob Haggart and His Orchestra. “It wasn’t a problem,” Kahle says after a beat. “We talked to people, it wasn’t a problem.”</p>



<p>
	When I bring it up again later, Kahle argues that 78s are “obsolete” and that they made “faithful transcriptions of 78 rpm records that haven’t been for sale for 50 to 70 years… They’re so unrelated to what you would get on Spotify. People go to Spotify to find things that they enjoy [listening to]. When I want to listen to 78s, I listen to the wonderful work of Jack White—” and now he’s up from his recliner, out of his office, rooting around, and returning with Third Man’s luxurious<em> Rise and Fall of Paramount Records</em> box set, with its meticulously remastered tracks from the Paramount catalog newly pressed onto vinyl.&nbsp;</p>



<p>
	“If you want to enjoy [the sound of] 78s, get this,” he insists.&nbsp;

	</p>




<p>
	Kahle says he believes the MMA exemptions have more to do with vinyl LPs released before 1972, which “still kinda sound like the music you’d listen to” on streaming or CD.</p>



<p>
	But to the labels, I point out, it doesn’t matter if it’s a straight transfer of “White Christmas” from an old shellac disc — it’s still “White Christmas,” and it’s available for people to stream for free.</p>



<p>
	“Well, do people?” Kahle retorts.</p>



<div>
	

<figure>

			
<div>
	
			<p><img src="https://www.rollingstone.com/wp-content/uploads/2024/09/Brewster-Kahle-at-the-Physical-Archive-in-Richmond-CA-2020-with-Michelson-Research-Library-materials.-Courtesy-of-the-Internet-Archive-copy.jpg" data-lazy-src="https://www.rollingstone.com/wp-content/uploads/2024/09/Brewster-Kahle-at-the-Physical-Archive-in-Richmond-CA-2020-with-Michelson-Research-Library-materials.-Courtesy-of-the-Internet-Archive-copy.jpg" alt="" data-lazy-srcset="" data-lazy-sizes="" height="682" width="1024" decoding="async">
			
			</p>
	
	</div>
	
			
			
<figcaption>
	
					<span>Brewster Kahle at the Physical Archive in Richmond CA, in 2020</span>
		
									<cite>Courtesy of the Internet Archive</cite>
					
	</figcaption>

			
</figure>

</div>



<p>
	This question feels pertinent in a $621 million lawsuit. And the complaint does throw out some statistics — estimated play counts and downloads — for a few recordings. “White Christmas” allegedly has “tens of thousands” of downloads or streams on the Great 78 Project; Frank Sinatra’s “Young at Heart” has 2,300; Thelonious Monk’s “Monk’s Dream” has “hundreds.” For comparison, on Spotify, “Young at Heart” and “Monk’s Dream” have over 20 million plays each; and the two versions of “White Christmas” you’ll find on there have more than 1 billion cumulative listens.&nbsp;</p>



<p>
	Kahle answers his own rhetorical question with the sharp, incredulous laugh that often carries his exasperation: “We’ve now run the experiment, and the answer is, they don’t!”&nbsp;</p>



	<h2>
		<strong>“They Failed to Ask the … Rights Holders for Permission”</strong>	</h2>



<p>
	Like Lew Tucker, John Mills II is also the son of a musician. His father, Donald Mills, was one of the founding members of the Mills Brothers, the pioneering Black vocal group with decades of hits going back to the 1920s. Mills grew up steeped in the world of the Mills Brothers, and it was only natural for him to become a musician. He’s always pursued his own projects, but he started singing with his dad in 1982, and after Donald’s death in 1999, he continued to carry on the Mills Brothers legacy.&nbsp;</p>



<p>
	“I always revered his artistry, his beautiful voice, the rapport that he had with his audiences,” Mills says. “I’m not gonna say no to that — I tried not to mess it up!”</p>



<p>
	The Mills Brothers made more than 2,000 recordings and, unlike the Tommy Tucker catalog, the vast majority of them are widely available. They’re still regularly licensed for video games, movies, and TV shows, too. “People are more aware of it than they know,” says Mills.&nbsp;</p>



<p>
	The Great 78 Project lawsuit includes 39 Mills Brothers recordings — including collaborations with Armstrong and Fitzgerald, and hits of their own, like “Nevertheless (I’m in Love With You)” and “You Always Hurt the One You Love” — all owned by Universal Music.

	</p>




<figure><div>
<p><iframe loading="lazy" title="You Always Hurt The One You Love" width="500" height="375" src="https://www.youtube.com/embed/zGLMAvdoeL0?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe></p>
</div></figure>



<p>
	Mills, like other estate reps I spoke to, stands firmly with the labels. “It is a treasure trove, in essence,” Mills acknowledges of the Great 78 Project. “But they failed to ask the artists, creators, publishers, writers, master rights holders for permission to distribute our work for free.”</p>



<p>
	The estates’ frustrations speak to a tension that’s long confounded Turkewitz, the former RIAA executive, about the Internet Archive’s activities. “How can you take an action that’s so antithetical to the interests of the creator, while claiming a love of the product of the creator?”</p>



<p>
	But the same could arguably be said of record labels. Fundamentally, copyright exists to protect creators and incentivize them to create; but in America, as Litman notes, it’s easy to sign away those rights and much harder to reclaim them. That allows “publishers and other intermediaries to step in, often to the disadvantage of the original author,” Litman adds. This is how the record industry has functioned since forever.&nbsp;</p>



<p>
	Doug Holloway, a representative for the Thelonious Monk estate, is unequivocal in his support for the labels’ lawsuit precisely because Monk, like so many Black artists of his era, was gravely underpaid for his work when he was alive. “Thelonious Monk was ripped off,” Holloway says. “Let me be frank about it. Anything that reduces the income to the estate is wrong. Period.”&nbsp;</p>



<p>
	In their lawsuit, the labels point out that neither they “nor their artists see a dime” from the Internet Archive’s alleged infringement. But for many, this artist-friendly flourish rings hollow as the music industry rakes in obscene amounts of money and the vast majority of artists, or their estates, see very little of it. Halperin calls it a “bad faith” argument that “takes the mantle of creators’ rights and perverts it in order to persecute a nonprofit digital library.”</p>



<p>
	The labels, Litman also notes, still own most of these older recordings outright and are able to keep profiting off their original exploitation with the backing of federal law. Starting in the Seventies, artists were granted a termination of transfer right that allowed them to eventually reclaim their copyrights; the Music Modernization Act did not extend that same right to legacy artists (or their estates) when pre-1972 recordings were finally granted federal copyright protection.

	</p>




<div>
	

<figure>

			
<div>
	
			<p><img src="https://www.rollingstone.com/wp-content/uploads/2024/09/4-tonearm-78rpm-turntable-of-George-Blood-LP.jpg?w=1024" data-lazy-src="https://www.rollingstone.com/wp-content/uploads/2024/09/4-tonearm-78rpm-turntable-of-George-Blood-LP.jpg?w=1024" alt="" data-lazy-srcset="" data-lazy-sizes="" height="820" width="1024" decoding="async">
			
			</p>
	
	</div>
	
			
			
<figcaption>
	
					<span>78rpm turntable used in the Great 78 project</span>
		
									<cite>George Blood/Courtesy of the Internet Archive</cite>
					
	</figcaption>

			
</figure>

</div>



<p>
	“This country owes the recording artists of the mid-20th century not only an apology, but a ton of money,” Litman says. “I don’t see the Great 78 Project taking any of that money out of any performer’s pocket.”</p>



<p>
	For someone like Mills, these contradictions are deeply personal. “These guys worked,” he says of the Mills Brothers. “They fulfilled every job they were asked to do, and they were so good.… For me, it’s all about getting a return on sweat equity.”&nbsp;</p>



<p>
	But Mills also recognizes that those returns have been stymied by forces far greater than the Internet Archive. He’s part of ongoing litigation against Universal accusing the label of withholding royalties for legacy artists and their estates. (Universal has denied the claims and settled with some of the plaintiffs.) He’s also keenly aware that, as Black artists, the Mills Brothers were not afforded the same financial and investment opportunities as their white counterparts. In the 1930s, Mills says, his dad moved out to Los Angeles to make movies and was unable to buy a house in the affluent, all-white Hancock Park neighborhood, even though he probably could have afforded three.&nbsp;</p>



<p>
	I remember what Lew Tucker told me about his father’s one big radio hit: “I think that paid for our house.”</p>



<p>
	Mills talks with passion and reverence about his family, but it’s tangled up in years of frustration. Universal still owns much of the Mills Brothers’ catalog, leaving the estate beholden to the label, whether it’s working on their behalf in the case of the Great 78 Project lawsuit, or against them in the allegations of withheld royalties.&nbsp;</p>



<p>
	“My parents, uncles, [and] grandfather probably put thousands of record company executives’ children through college while they were hoping to take care of their own,” Mills says.&nbsp;

	</p>




<p>
	And with years of frustration comes years of pain. There are so many things Mills would rather focus on — the Mills Brothers’ upcoming centennial (they formed in 1925), the concerts he continues to perform under the family banner, and his own new band, <a href="https://orchidsinzoom.com/" target="_blank" rel="noreferrer noopener nofollow">Orchids in Zoom</a>. “It’s like pulling scabs all the time,” he says. “And I don’t want to hurt like that.”&nbsp;</p>



	<h2>
		<strong> “Why Are They Trying to Erase Us?”</strong>	</h2>



<p>
	In Kahle’s office, as our conversation and afternoon together draw to a close, I read to him something from a book he recommended to me called <em>The Library: A Fragile History.</em> Its prologue states, “Even if libraries are cherished, the contents of these collections require constant curation, and often painful decisions about what has continuing value and what must be disposed of.”&nbsp;</p>



<p>
	How has the Internet Archive — with its ever-growing collection — contended with this question? Ever the evangelist, Kahle replies that technology has made it moot.&nbsp;</p>



<p>
	“We’ve been able to build a library not only of famous people, but little people,” he says. “That’s what’s going to be destroyed by these corporations — the history of much more common people. It’s obvious they’re not doing any harm! Why are they doing this?”&nbsp;</p>



<p>
	Kahle often returns to this question of <em>why?</em> — searching for an answer that’ll explain the potential destruction of not only a digital trove of 78 rpm recordings, but everything else the Archive has preserved, its very mission: universal access to all knowledge. “Without us, people wouldn’t have a record,” Kahle says. “So why are they trying to erase us?”</p>



<p>
	The answer to his <em>why? </em>is evident in the actions of those aligned against him: long-frustrated rights holders and corporations who see little difference between the Internet Archive and illegal torrent sites like the Pirate Bay, and haven’t spent millions lobbying for a copyright system that favors their interests over the public domain for nothing.</p>



<p>
	“You would hope that there might be some balancing act, or that everybody could play nice in the sandbox, and come up with solutions that benefit all,” Kinney, the lawyer and copyright expert, says. Shen then adds with a perceptive laugh: “But that’s not really how business is done.”

	</p>




<figure><div>
<p><iframe loading="lazy" title="Monk's Dream (Take 8)" width="500" height="375" src="https://www.youtube.com/embed/mgqYJa5hMQY?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe></p>
</div></figure>



<p>
	And really, it’s business all the way down. For instance, both Turkewitz and Halperin independently suggest these lawsuits could be laying the groundwork for a more pressing copyright fight against artificial-intelligence companies using licensed work without permission to train large-language models for artificial intelligence.&nbsp;</p>



<p>
	“A part of litigation is about establishing precedent and letting the universe understand that you can’t go out and create an undertaking that relies on our product without coming to us to negotiate,” says Turkewitz.&nbsp;</p>



<p>
	But even if the labels prevail in protecting their products from the Internet Archive, there’s no guarantee that the actual creators (or their estates) will see any benefits. The labels don’t automatically get $621 million if they win, and how damages shake out is an open question. Sam Trust, a music-publishing vet who oversees the Doris Day estate, supports the suit, but calls the potential damages “absolutely absurd,” adding, “I would be surprised if it’s $41,000 worth of damages.”&nbsp;</p>



<p>
	And then there’s recent precedent: When the book publishers announced their summary judgment settlement with the Internet Archive last year, the Association of American Publishers said only that the “confidential” damages were enough to cover “significant attorney fees and costs.” No mention was made of how much money — if <em>any</em> — authors would see. (When asked if authors would see any of the settlement following the publishers’ victory on appeal, a rep for the AAP simply said, “The terms of the monetary payment are confidential.”)</p>



<p>
	Maybe, if the labels walk away with a fat check, they’ll do more than pay lawyers, pad bonuses, or boost shareholder value. Maybe they’ll set up a fund that goes directly to all the legacy artists and estates mentioned in the suit — effectively letting a nonprofit pay back the musicians and families those same labels have been accused of exploiting for decades.&nbsp;</p>



<div>
	

<figure>

			
<div>
	
			<p><img src="https://www.rollingstone.com/wp-content/uploads/2024/09/cd-scanning-copy.jpg" data-lazy-src="https://www.rollingstone.com/wp-content/uploads/2024/09/cd-scanning-copy.jpg" alt="" data-lazy-srcset="" data-lazy-sizes="" height="738" width="1024" decoding="async">
			
			</p>
	
	</div>
	
			
			
<figcaption>
	
					<span>Volunteers scan CDs for the internet Archive</span>
		
									<cite>Courtesy of the Internet Archive</cite>
					
	</figcaption>

			
</figure>

</div>



<p>
	The day Kahle shows me around the Internet Archive’s offices, the existential threat of all this litigation looms heavy, but his enthusiasm remains irrepressible. He’s still optimistic about the internet and the technology behind it, just “not the controlling entities leveraging the internet and the rise of what those monopolies have done to keep people ignorant.”

	</p>




<p>
	At the Internet Archive, Kahle and others are still trying to build the future he always envisioned. He excitedly introduces me to a group of people in the basement working on decentralized web projects — a new open-internet dream of a web that runs on direct connections between individuals, not moderated through dominant, centralized platforms. “This place is kind of the soul of the internet,” says one team member.</p>



<p>
	In the lobby, in the cheesy afterglow of “Concerto Boogie,” Kahle begins to muse: “One of the things about 78s that’s really wonderful, is this is the first time people <em>heard</em> themselves.”&nbsp;</p>



<p>
	There’s still plenty of awe in his voice, and it sticks as he picks from a small stack a postcard flyer for the Great 78 Project encouraging people to donate discs and join this new endeavor to preserve the past.&nbsp;


</p><section>
			

	<h2 id="section-heading">

	
		Trending
	
	</h2>

	
	
</section>




<p>
	“The Great 78 Project was a community project; it is a very crowd-sourced, internet-style thing,” Kahle says. “It’s not the Internet Archive — it’s hundreds of collectors and institutions, all working together.”&nbsp;</p>



<p>
	And then we’re off again, whisked into another room in this cathedral, where a small team is inventing a new way to digitize microfiche.</p>
















</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Anthropic hires OpenAI co-founder Durk Kingma (149 pts)]]></title>
            <link>https://techcrunch.com/2024/10/01/anthropic-hires-openai-co-founder-durk-kingma/</link>
            <guid>41711913</guid>
            <pubDate>Tue, 01 Oct 2024 18:03:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://techcrunch.com/2024/10/01/anthropic-hires-openai-co-founder-durk-kingma/">https://techcrunch.com/2024/10/01/anthropic-hires-openai-co-founder-durk-kingma/</a>, See on <a href="https://news.ycombinator.com/item?id=41711913">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p id="speakable-summary">Durk Kingma, one of the lesser-known co-founders of OpenAI, today <a rel="nofollow" href="https://x.com/dpkingma/status/1841134573595312344">announced</a> that he’ll be joining Anthropic.</p>

<p>In a series of posts on X, Kingma revealed that he’ll be working mostly remotely, from the Netherlands (where he’s based), but didn’t say which Anthropic org he’ll be joining — or leading. </p>

	
	


<p>Reached for comment, an Anthropic spokesperson pointed to Kingma’s posts.</p>

<figure><div>
<blockquote data-width="500" data-dnt="true"><p lang="en" dir="ltr">I'll be working (mostly) from the Netherlands, but will visit the SF bay area as frequently as I can!</p>— Durk Kingma (@dpkingma) <a rel="nofollow" href="https://twitter.com/dpkingma/status/1841150126544601448?ref_src=twsrc%5Etfw">October 1, 2024</a></blockquote>
</div></figure>

<p>“Anthropic’s approach to AI development resonates significantly with my own beliefs,” Kingma wrote. “[L]ooking forward to contributing to Anthropic’s mission of developing powerful AI systems responsibly. Can’t wait to work with their talented team, including a number of great ex-colleagues from OpenAI and Google, and tackle the challenges ahead!”</p>

<p>Kingma, who has a Ph.D. in machine learning from the University of Amsterdam, spent several years as a doctoral fellow at Google before joining OpenAI’s founding team as a research scientist. At OpenAI, Kingma focused on basic research, leading the algorithms team to develop techniques and methods primarily for generative AI models, including image generators (e.g. <a href="https://techcrunch.com/2023/09/20/openai-unveils-dall-e-3-allows-artists-to-opt-out-of-training/">DALL-E 3</a>) and large language models (e.g. <a href="https://techcrunch.com/tag/chatgpt/">ChatGPT</a>).</p>

<p>In 2018, Kingma left to become a part-time angel investor and advisor for AI startups. He rejoined Google in July of that year, and started at Google Brain, which became one of the tech giant’s premiere AI R&amp;D labs before it <a href="https://techcrunch.com/2023/04/20/google-consolidates-ai-research-divisions-into-google-deepmind/">merged with DeepMind</a> in 2023.</p>

<p>Kingma’s hiring is yet another talent coup for Anthropic, which <a href="https://techcrunch.com/2024/05/28/anthropic-hires-former-openai-safety-lead-to-head-up-new-team/">recruited</a> OpenAI’s former safety lead, Jan Leike, in May, and another OpenAI co-founder, John Schulman, in August. The company made an additional splashy hire in May, <a href="https://techcrunch.com/2024/05/15/anthropic-hires-instagram-co-founder-as-head-of-product/">appointing</a> Instagram and Artifact co-founder Mike Krieger as its first head of product.</p>

	
	



<p>Anthropic’s CEO, Dario Amodei, was once the VP of research at OpenAI, and reportedly split with the firm after a disagreement over OpenAI’s roadmap — namely its growing commercial focus. Amodei brought with him a number of ex-OpenAI employees to launch Anthropic, including OpenAI’s former policy lead Jack Clark.</p>

	
	


<p>Anthropic has often attempted to position itself as more safety-focused than OpenAI.<a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Ftechcrunch.com%2F2024%2F05%2F28%2Fanthropic-hires-former-openai-safety-lead-to-head-up-new-team%2F&amp;text=Anthropic+hires+former+OpenAI+safety+lead+to+head+up+new+team&amp;via=techcrunch" target="_blank" rel="noreferrer noopener"></a><a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Ftechcrunch.com%2F2024%2F05%2F28%2Fanthropic-hires-former-openai-safety-lead-to-head-up-new-team%2F" target="_blank" rel="noreferrer noopener"></a><a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Ftechcrunch.com%2F2024%2F05%2F28%2Fanthropic-hires-former-openai-safety-lead-to-head-up-new-team%2F&amp;title=Anthropic+hires+former+OpenAI+safety+lead+to+head+up+new+team&amp;summary=Jan+Leike%2C+a+leading+AI+researcher+who+earlier+this+month+resigned+from+OpenAI+before+publicly+criticizing+the+company%E2%80%99s+approach+to+AI+safety%2C+has+joined+OpenAI+rival+Anthropic+to+lead+a+new+%E2%80%9Csuperalignment%E2%80%9D+team.+In+a+post+on+X%2C+Leike+said+that+his+team+at+Anthropic+will+focus+on+various+aspects+of+AI+safety+and+security%2C+%5B%E2%80%A6%5D&amp;mini=1&amp;source=TechCrunch" target="_blank" rel="noreferrer noopener"></a><a href="https://www.reddit.com/submit?url=https%3A%2F%2Ftechcrunch.com%2F2024%2F05%2F28%2Fanthropic-hires-former-openai-safety-lead-to-head-up-new-team%2F&amp;title=Anthropic+hires+former+OpenAI+safety+lead+to+head+up+new+team" target="_blank" rel="noreferrer noopener"></a><a href="mailto:?subject=Anthropic+hires+former+OpenAI+safety+lead+to+head+up+new+team&amp;body=Article%3A+https%3A%2F%2Ftechcrunch.com%2F2024%2F05%2F28%2Fanthropic-hires-former-openai-safety-lead-to-head-up-new-team%2F" target="_blank" rel="noreferrer noopener"></a><a href="https://techcrunch.com/2024/05/28/anthropic-hires-former-openai-safety-lead-to-head-up-new-team/"></a></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Web scraping with your web browser: Why not? (111 pts)]]></title>
            <link>https://8chananon.github.io/tut/scraping1.html</link>
            <guid>41711835</guid>
            <pubDate>Tue, 01 Oct 2024 17:55:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://8chananon.github.io/tut/scraping1.html">https://8chananon.github.io/tut/scraping1.html</a>, See on <a href="https://news.ycombinator.com/item?id=41711835">Hacker News</a></p>
<div id="readability-page-1" class="page">

<hr><p>

You can find plenty of tutorials on the Internet about the art of web scraping (for example,
<a href="https://medium.com/@joerosborne/intro-to-web-scraping-build-your-first-scraper-in-5-minutes-1c36b5c4b110">here</a>
and <a href="https://www.jcchouinard.com/web-scraping/">here</a>) and the first things you will learn about are Python and
Beautiful Soup. There is no tutorial on web scraping with Javascript in a web browser though you will find browser
extensions that claim to do it all without any need for coding (this only works for simplistic and unprotected websites).
So the question is: can you write a web scraper in your browser? The answer is: YES, you can! So why is nobody doing it?
</p><p>
Web scraping has a long history, even pre-dating the advent of Javascript in its current incarnation. Though Javascript was
first introduced by Netscape in 1995, it would take another decade for it to mature into a language suitable for much more
than managing the presentation of a web page. Python was introduced in 1991 and was a fairly mature language from the start.
Due to simple inertia, it remains the predominant tool for web scraping. Over the past several years, Node.js has seen
rising interest and there are tools written in Javascript for Node.js but still nothing for web browsers.
</p><p>
One of the issues is what is called CORS (Cross-Origin Resource Sharing) which is a set of protocols which may forbid or
allow access to a web resource by Javascript. There are two possible workarounds: a browser extension or a proxy server.
The first choice is fairly limited since some security restrictions still apply. The latter choice is more flexible but
requires the presence of an external resource. Python gets around the CORS limitations because the web browser is not
involved. Unfortunately, this also means that additional support is required in order to parse HTML or JSON and perhaps
even to execute Javascript in cases where a resource is protected by obfuscation.
</p><p>
In the early days, such issues were easily resolved but the web has changed and everything has gotten more complicated. This
is where headless browsers come in, at which point one must begin wondering if it would be better to just write the web
scraper in the web browser in the first place. A headless browser is simply a browser (usually Google Chrome) with no
graphical interface coupled with a controller like Puppeteer or Selenium. The Python app can send commands to the browser
in order to make it behave like a normal user. This technique certainly has its limits.
</p><p>
How do we go about writing a web scraper in the browser? First of all, I need to quickly get the issue of the proxy
server out of the way. For the code examples in this article, I will be using a remote proxy server. This is good enough for
simple use cases. For heavy lifting, however, a local proxy server is the only choice. An example of some heavy lifting is
executing Javascript in an <i>iframe</i> under a fake domain.

</p><hr><p>

<b><b_>Bypassing the browser restrictions with a proxy server</b_></b>
</p><p>
You can choose between using a local proxy or a remote proxy. In the latter case, your options are extremely limited to the
point where there may be no option at all, depending on what you need to accomplish. You could certainly host your own proxy
in the cloud somewhere but why bother? That option is only useful if you need to share the proxy with others for some
reason. What does the proxy server need to do?
</p><p>
<g_>1 -</g_> set the Access-Control-Allow-Origin response header to the value "*"<br>
<g_>2 -</g_> allow setting arbitrary request headers (especially Referer) via the URL
</p><p>
These are the minimum requirements. The first one is essential and might be sufficient. However, some resources may be
blocked if the Referer is not correctly set (this is often the cause of the 403 error). It may also be necessary to set a
special header such as <g_>x-requested-from</g_>. For simplicity, the proxy should support setting the headers via the URL
(perhaps in addition to some other method like a configuration file).
</p><p>
<g_>3 -</g_> OPTIONS pre-flight auto-complete<br>
<g_>4 -</g_> adding or modifying response headers<br>
<g_>5 -</g_> intercepting the "set-cookie" response header<br>
<g_>6 -</g_> transmitting cookies via an alternative header<br>
<g_>7 -</g_> mimicking a browser's TLS handshake
</p><p>
The OPTIONS pre-flight is emitted by the web browser for POST requests or when certain headers are set by Javascript. Since
the destination might reject the request, it is important for the proxy server to be able to auto-respond. Some response
headers may be problematic, such as cache directives or <n_>x-frame-options</n_>. Sometimes, you will need to intercept
and transmit cookies. The last requirement involves TLS handshake fingerprinting, which is something that few servers
actually do, aside from Cloudflare (that's a tough topic which I won't be covering in this article).
</p><p>
It is important to distinguish between two modes of proxy interaction: direct and transparent. By <g_>direct</g_>, I mean
that the web scraping app communicates directly with the proxy server as it would communicate with any server, using the
proxy's domain name (such as "localhost"). The URL would contain a command and a destination URL. The <g_>transparent</g_>
mode of interaction is only possible by configuring the browser's proxy settings so that all HTTP requests go through the
proxy. This mode will be discussed in my next article.

</p><hr><p>

<b><b_>Scraping a website with just a few lines of code</b_></b>
</p><p>
Let me be clear about this. You won't be needing to drag in a third-party package in order to satisfy the claim of "just a
few lines of code". The claim is all too common and it is facetious because it always turns out that you need to install
a bunch of cumbersome tools with a long learning curve. I'm saying a few lines of code because it is literally true. Your
web browser is perfectly capable of parsing arbitrary data structures of the sort that you will find on the Internet. That
is the browser's first job, after all. You can parse HTML as text or as a fully-rendered DOM. You can parse JSON and you can
even watch a video. The browser is built for this, unlike Python or Node.js or whatever.
</p><p>
After you have done the work of scraping a website, you can then use the browser to visualize the data with some HTML and
CSS. You could do this in the form of a fully functional app or you could just display the raw data in a <i>div</i> (as we
will be doing here). No third-party cruft is required. Of course, you will be doing some programming in Javascript so you
should do some research if you're not already comfortable with this. I confess that I don't qualify as an expert. For that
reason, you can rest assured that the code that I present here will be clean and simple.
</p><p>
First of all, I want you to download this <a href="https://8chananon.github.io/tut/scraper.htm" download="">small template</a> which contains HTML and CSS
along with some example Javascript. Save it on your desktop and then open the app in your browser. It's just a simple page
with an input line, two buttons and a display area for text messages. Open up the source code and study it for a while.
The main area of interest is this block of Javascript:
</p><pre>var scrape = async () =&gt;
{
  var m, n, resp, data, count = 0; print ("");

  var url = "https://rumble.com/-playlists/htmx/get-playlist-details?playlist_id=";
  url = proxy + url + line.value.split ("/").pop() + "&amp;page_size=10&amp;extended=1&amp;page_num=";

  for (m = 1; m &lt;= 5; m++) try
  {
    print ("-- Loading page " + m + " --");

    resp = await fetch (url + m); if (resp.status != 200) throw ("");
    data = await resp.text();

    data = data.split ('class="videostream thumbnail__grid-item"');
    if (data.length &lt; 2) break;  // print (data [1]); break;

    for (n = 1; n &lt; data.length; n++)
    {
      count++; print (pullstring (data [n], 'title="', '"'));
    }
  }
  catch { print ("Error"); break; }

  print ("Found " + count + " videos");
}
</pre>
Aside from a function called <g_>pullstring</g_>, that is the whole of the scraper code. I devised <g_>pullstring</g_>
years ago and it has proven to be invaluable to the point that it should be a native part of Javascript. You will be seeing
it a lot in my code. All it does is pull the text found in between two search tokens. It is great for parsing HTML and it
avoids the trouble of rendering the HTML to a DOM. You could DOMify the HTML if you want but I've never found this to be
necessary. The HTML is divided into sections using <g_>split</g_> with a class name as the search token. Then the code steps
through the array to extract the data. In this example, I'm just grabbing the title of the video but you can easily
modify the code to extract the date, view count and playing time.
<p>
Let's run the app. As you can see, it involves Rumble so you need to go to <a href="https://rumble.com/">the site</a> and
find a channel with a playlist. Copy the playlist link to the app and press "Go". There's not much more that I can say about
it. Play with the app for a while before continuing to the next experiment.

</p><hr><p>

<b><b_>Converting HTML to DOM</b_></b>
</p><p>
Although I have already stated that rendering the HTML to a DOM (Document Object Model) is not usually necessary, it can
sometimes be helpful in hard cases so I'll discuss that now. First, you will need to augment the app's HTML with this:
</p><pre>&lt;div id="dom" style="display:none"&gt;&lt;/div&gt;
</pre>
It doesn't matter where you put it because it will be invisible. We're going to use it to host the new DOM which we will
create from the HTML in order to study it. Next, modify your scraper code so it looks like this:
<pre>var scrape = async () =&gt;
{
  var m, n, resp, data, count = 0; print ("");

  var vids, dom = new DOMParser(), doc = document.getElementById ("dom");

  var url = "https://rumble.com/-playlists/htmx/get-playlist-details?playlist_id=";
  url = proxy + url + line.value.split ("/").pop() + "&amp;page_size=10&amp;extended=1&amp;page_num=";

  for (m = 1; m &lt;= 5; m++) try
  {
    print ("-- Loading page " + m + " --");

    resp = await fetch (url + m); if (resp.status != 200) throw ("");
    data = await resp.text();

    data = dom.parseFromString (data, "text/html");
    doc.innerHTML = ""; doc.appendChild (data.body); break;

    vids = data.querySelectorAll (".videostream"); if (!vids.length) break;

    for (n = 0; n &lt; vids.length; n++)
    {
      doc = vids [n].querySelector (".thumbnail__title"); count++; print (doc.title);
    }
  }
  catch { print ("Error"); break; }

  print ("Found " + count + " videos");
}
</pre>
Not much different from the original. Now load a playlist from Rumble. The code will render the HTML to a DOM on the first
pass and then quit. Open your browser's developer tools and inspect the app's own DOM to find the special <i>div</i> you
inserted. Inside the <i>div</i> should be the new DOM. Browse through it. The code sample is already configured to do the
same thing it did before: it will print a list of the video titles. Delete or comment out the line beginning with
"doc.innerHTML" and run the app again. Play with it for a while.
<p>
What we've done here is pretty amazing compared to the lengths you would need to go through to get the same result in
a non-browser environment. And it really is "just a few lines of code". So why not scrape the web with your browser?

</p><hr><p>

<b><b_>Where to go from here</b_></b>
</p><p>
After reading the above, some of you might be tempted to say to yourself: But, of course, this is all pretty obvious, isn't
it? It doesn't seem to be, judging from the prevailing advice being generously handed out to questioners on Internet forums
like Reddit, not to mention the countless YouTube videos. It seems ironic to me that people are using the web browser to
discuss web scraping without ever considering the possibility that the browser could be the very tool that can do the job.
Perhaps it is the inertia generated by the many developers who have an economic stake in this. Web scraping is big business,
both for the tool developers and the companies that consume the scraped data.
</p><p>
At this point, I want to clarify that I'm not suggesting that the browser is a sufficient tool for web scraping on a grand
scale, though I'm not sure why that wouldn't be feasible. Think about those bot farms driven by hundreds of cell phones
cabled together and maybe it's not such a wild idea. Consider that the browser can multi-task so it's certainly capable of
running multiple apps that could be scraping the net 24 hours a day.
</p><p>
In any case, that's not where I'm coming from. My use case for web scraping consists primarily of extracting video links
from websites for the purpose of playing the videos on my own terms, either in the browser or with an external player. I
don't normally care about scraping playlists on Rumble or anywhere else though I've actually already done that for the
<a href="https://8chananon.github.io/dl/j6-rumble.htm">January 6 videos</a> uploaded by the U.S. Congress. It was not a hard thing to code and it's
just a single file with no third-party addons whatsoever. I'm guessing that my point is made.
</p><p>
The next phase is to install and use a local proxy server. The remote server is fine for simple use cases (like Rumble) but
it quickly hits a barrier such as that posed by YouTube which blocks data center IP addresses. Of course, there is the
80-kiloton elephant in the room known as Cloudflare. Yes, Cloudflare can be dealt with easily and I'll show you that in the
next article. The trick involves letting the browser solve the bot challenge and then using the proxy to capture the
cookie (it may or may not be feasible to completely automate the task).
</p><p>
What else do you get? How about the ability to read and write files on the local disk? This is one big reason why the web
browser has not been popular for web scraping. Where do you put the data? You also get a websocket service which could
be pretty darn useful if you have multiple apps that need to talk to each other. You could use the browser facility called
<g_>postMessage</g_> but it has tight security restrictions.
</p><p>
If you're at all serious about web scraping, whether for personal or professional reasons, you should carefully consider
what I've discussed here. Go to my main web page, check out the interesting apps and install the local proxy server.
Till next time.

</p><hr><p>

<a href="https://8chananon.github.io/">My website</a> -
<a href="https://github.com/8chananon">My GitHub repository</a>
<span><r_>September 28, 2024</r_></span>



</p>


</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ryujinx (Nintendo Switch emulator) has been removed from GitHub (431 pts)]]></title>
            <link>https://github.com/Ryujinx/Ryujinx</link>
            <guid>41711709</guid>
            <pubDate>Tue, 01 Oct 2024 17:46:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/Ryujinx/Ryujinx">https://github.com/Ryujinx/Ryujinx</a>, See on <a href="https://news.ycombinator.com/item?id=41711709">Hacker News</a></p>
Couldn't get https://github.com/Ryujinx/Ryujinx: Error: Request failed with status code 404]]></description>
        </item>
        <item>
            <title><![CDATA[OpenAI DevDay 2024 live blog (198 pts)]]></title>
            <link>https://simonwillison.net/2024/Oct/1/openai-devday-2024-live-blog/</link>
            <guid>41711694</guid>
            <pubDate>Tue, 01 Oct 2024 17:45:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://simonwillison.net/2024/Oct/1/openai-devday-2024-live-blog/">https://simonwillison.net/2024/Oct/1/openai-devday-2024-live-blog/</a>, See on <a href="https://news.ycombinator.com/item?id=41711694">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>I’m at <a href="https://openai.com/devday/">OpenAI DevDay</a> in San Francisco, and I’m trying something new: a live blog, where this entry will be updated with new notes during the event.</p><div id="live-updates">

<p><strong>10:19</strong> The <strong>keynote</strong> is starting with a review of o1, and some examples of applications that use it.</p>

<p><strong>10:30</strong> They started with some demos of o1 being used in applications, and announced that the rate limit for o1 doubled to 10000 RPM (from 5000 RPM) - same as GPT-4 now.</p>

<p><strong>10:31</strong> The first big announcement: a realtime API, providing the ability to use WebSockets to implement voice input and output against their models.</p>

<p><strong>10:33</strong> What can you build with the new realtime API? The demonstrated an updated version of their Wanderlust travel agent demo. The demo uses voice as both input and output.</p>

<div data-update-id="5">
  <p><strong>10:37</strong> </p><p><img src="https://static.simonwillison.net/static/2024/wanderlust.jpg" alt="The image shows a large display screen mounted on a wall, showcasing a map application called Wanderlust. The screen has a pink background with a map of San Francisco on the right side.
The top of the screen shows macOS menu bar with icons and the time Tue Oct 1 10:35 AM.
The left side of the screen displays a conversation:
SF
Annotated map
San Francisco, here we are! How can I assist?
Yeah, could we take a look at Fort Mason, please?
Annotated map
There we go, Fort Mason! What do you need help with there?
Well, I have a few hundred awesome developers here in the room and I'm thinking they might need a little snack. Do you have some chocolate shops around here?
Annotated map
Absolutely! Check out Ghirardelli Square, Ilan's Strawberries, and The Candy Store!
The right side shows a map of San Francisco, focusing on the Fort Mason area. Various landmarks and streets are labeled, including Aquatic Park, Ghirardelli Square, and Fisherman's Wharf.
At the bottom of the screen, there are icons for microphone input, text input, and map layers.
The screen is mounted above what appears to be wood paneling, and a small portion of a plant is visible in the lower-left corner of the image."></p>
</div>

<p><strong>10:39</strong> ... and a demo of an AI assistant making a phone call to order food (thankfully to an OpenAI staff member on stage, not to an actual business!)</p>

<p><strong>10:41</strong> And a demo of the <a href="https://www.speak.com/">Speak</a> language learning app using the new Realtime API. The API is rolling out generally today.</p>

<p><strong>10:41</strong> Next up: model customization. They have fine-tuning for GPT-4o and 4o-mini now. Today they're announcing fine-tuning support for their vision models.</p>

<p><strong>10:42</strong> Now you can use images to fine-tune the model. They suggest this can be used for product recommendations, medical imaging, or even things like traffic sign detection or lane detection (Grab have been using it for that).</p>

<p><strong>10:42</strong> Fine-tuning with vision is available to every developer for GPT-4 (presumably they mean GPT-4o? Not clear.)</p>

<p><strong>10:43</strong> Next: price drops. Cost-per-token is already 99% cheaper than two years ago.</p>

<p><strong>10:44</strong> And today they're adding prompt caching - as seen previously in <a href="https://www.anthropic.com/news/prompt-caching">Claude</a> and <a href="https://ai.google.dev/gemini-api/docs/caching">Gemini</a>.</p>

<p><strong>10:44</strong> Their version of prompt caching is automatic! A 50% discount on tokens the model has seen before.</p>

<p><strong>10:45</strong> Model distillation: where a smaller model is taught by a larger model. Today they're announcing tools for model distillation - so you can fine-tune a 4o-mini model based on output from the larger models.</p>

<p><strong>10:46</strong> Two new tools: stored completions, which lets you store your interactions with the models permanently in the OpenAI platform, to use for fine-tuning and model distillation. That tool ships to all developers today.</p>

<p><strong>10:46</strong> Plus new evaluation tools, also shipping today.</p>

<p><strong>10:47</strong> Sam Altman will be here for the fireside chat in the afternoon, but won't be presenting keynotes before then.</p>

<p><strong>10:51</strong> And now a break. The schedule for the rest of the event has been updated - previously it said "to be announced during the keynote", now we are seeing that 11-11:45am is "Structured Outputs for reliable applications" and 12-12:45pm is "Powerful small models with distillation.</p>

<p><strong>10:52</strong> Then at 2-2:45pm "Multimodel apps with the realtime API.</p>

<p><strong>11:05</strong> Next up: <strong>Structured outputs for reliable applications</strong>. I've done a bunch of work with the OpenAI tools mechanism in the past for this, most notably my <a href="https://www.datasette.cloud/blog/2024/datasette-extract/">datasette-extract plugin</a> for loading unstructured text and images into structured SQLite database tables.</p>

<p><strong>11:06</strong> Atty Eleti and Michelle Pokrass are talking about <a href="https://platform.openai.com/docs/guides/structured-outputs">structured outputs</a>, the most recent evolution of that mechanism.</p>

<p><strong>11:07</strong> Atty starts with a review of GPT-4 apps like Duolingo, Klarna and Cursor, which "connect to the outside world" - and hence need structured outputs, typically using JSON.</p>

<p><strong>11:08</strong> Classic example of how asking for JSON in the past has often been unreliable - resulting in responses that start "Here is the JSON you asked for...". Developers end up begging for "Just the JSON please!".</p>

<p><strong>11:09</strong> Function calling launched in June 2023, and which helped a bit. In November - last year's DevDay - they released JSON mode that ensured valid data - but this could still hallucinate parameters or output the wrong type.</p>

<p><strong>11:10</strong> Structured Outputs, released in August this year, ensures that the output will exactly match a specified JSON schema. Michelle will explain how this works under the hood. The challenge was making sure the solution was performant for inference at scale.</p>

<p><strong>11:12</strong> Function calling continues to work the same way: you provide a tool with a type of function, then describe that function's parameters using JSON schema. Add <code>"strict": true</code> to that JSON to turn on the new structured output mode for those functions.</p>

<p><strong>11:14</strong> And now a demo, with a function that describes data tables, their columns and operations that can be executed against them. Adding <code>"strict": true</code> fixed a bug where the model used an operator that wasn't defined in the set of operators.</p>

<p><strong>11:15</strong> <code>"response_format": {"type": "json_schema"}</code> enables specifying a full JSON schema that's guaranteed to be followed by the structured outputs mode.</p>

<p><strong>11:17</strong> The demo imagines AI-enhanced glasses, using a neat <code>{"voice_over": "This is what the glasses say to you", "display": "4 feet tall"}</code> output format which updates a display with a short string and specifies a longer string to be spoken out loud.</p>

<p><strong>11:18</strong> Next demo imagines a resume reviewing application, where you can drop a PDF resume directly onto a web form which then uses structured outputs to pull out the fields needed by the resume application.</p>

<p><strong>11:20</strong> The OpenAI library for JavaScript supports <a href="https://zod.dev/">Zod</a> for defining these schemas, and the Python library supports <a href="https://docs.pydantic.dev/">Pydantic</a>.</p>

<p><strong>11:21</strong> I'm presuming that previous demo converted the PDF to images automatically - I don't think any of the OpenAI APIs accept PDF directly.</p>

<p><strong>11:23</strong> This next demo is much more interesting: defining a schema for a full dashboard interface, where different cards can represent charts or tables or rows - so now the tool can output a custom answer to a question with embedded charts and data. Hopefully the code will be published on GitHub after the talk.</p>

<p><strong>11:24</strong> Overall this is a pretty sophisticated demo of a custom chat UI with a whole assortment of custom tools built on top of function calling and structured output.</p>

<p><strong>11:25</strong> Atty emphasizes that prior to structured outputs reliability was a really big problem - any of these steps failing could break the entire application.</p>

<p><strong>11:25</strong> Next, Michelle is talking about the underlying implementation of structured outputs.</p>

<p><strong>11:26</strong> "We took an approach that combined both research and engineering". It's more than just prompting - they used a technique called "constrained decoding". (Sounds to me like the <a href="https://til.simonwillison.net/llms/llama-cpp-python-grammars">Llama.cpp grammars trick</a>).</p>

<p><strong>11:27</strong> As an example, consider handwritten number recognition - where there are only ten possible output labels, from 0 to 9. This is a classic machine learning image recognition task.</p>



<p><strong>11:30</strong> For structured outputs, the trick is to limit which tokens can be produced next. The technique used here is called "token masking". The LLM still generates probabilities for likely next tokens, but they then mask out any tokens that would not match the desired schema.</p>

<p><strong>11:31</strong> These masks have to be updated on every single inference step, so the operation has to be lightning fast to keep inference as fast as possible. Token sampling happens on a GPU in batches - which means the CPU can calculate the masks for the next step in parallel while the GPU is calculating probabilities.</p>

<p><strong>11:32</strong> These masks need to be calculated within 10ms. "We wanted to pre-compute as much work as possible" - to make mask computation more of a lookup. They build an index, derived from the JSON schema, to make fetching those masks as fast as possible.</p>

<p><strong>11:33</strong> JSON Schema is converted into a grammar, then a parser, then they iterate over ALL tokens and parse states and use that to create the index.</p>

<p><strong>11:33</strong> The indexs is a trie - a prefix-based data structure allowing for O1 lookups.</p>

<p><strong>11:34</strong> Generating the index is computationally expensive due to the need to go over all of the possible states. They do that just once and cache the index - which is why the first query to structured inputs can take a little time - sometimes up to 10 seconds - but following prompts are fast.</p>

<p><strong>11:35</strong> The open source community has used tricks to implement masks by turning a schema into a regular expression. But regular expressions don't cover recursive or deeply nested schemas - so they can't cover all of the features of JSON Schema.</p>

<p><strong>11:35</strong> Generative UI is a good example of a use-case that needs nested schemas - each component can have a list of children that might include more components. These cannot be converted to a regular expression due to that limit in terms of recursive nesting.</p>

<p><strong>11:37</strong> OpenAI wanted recursive JSON schema support, so they added a stack. They call this the CFG - Context Free Grammar - approach, which combines regular expressions and a stack. This is why it takes a little bit of time to build up the trie for inference.</p>

<p><strong>11:38</strong> So the trade-off here is the short delay when the schema is first encountered, which OpenAI think is worthwhile for the improved reliability.</p>

<p><strong>11:38</strong> Atty is now talking about the research side: how can we get the model to follow the schema in the most useful way possible?</p>

<p><strong>11:39</strong> If you force a model to output JSON fitting the grammar, you might end up with <code>{\n\n\n\n\n\n\n\n\n\n\n\n</code> until it hits the maximum of tokens.</p>

<p><strong>11:40</strong> OpenAI's internal evals showed that gpt-4o-2024-08-06 with Structured Outputs was far more accurate than prompting alone against the older models. They now get to 100% on that eval (not sure what that's measuring though).</p>

<p><strong>11:42</strong> One of the controversial API design decisions made was around <code>additionalProperties: true</code> - which is usually a default in JSON Schema. OpenAI have disallowed additional properties by default in their API, which differs from developer expectations.</p>

<p><strong>11:42</strong> OpenAI say explicit is better, so developers have to pass <code>additionalProperties: false</code> in their schemas.</p>

<p><strong>11:43</strong> All properties are required by default - no support for optional parameters (although they can be made nullable). Developers need to follow this rule in the JSON Schemas they send over as well.</p>

<p><strong>11:43</strong> Fields are generated in the same order that you defined them in the schema, even though JSON is supposed to ignore key order. This ensures you can implement things like chain-of-thought by adding those keys in the correct order in your schema design.</p>



<p><strong>11:46</strong> This session didn't present any new features - they were all in the documentation already - but the insight into how the Structured Output works under the hood was new.</p>

<p><strong>12:01</strong> Next up: <strong>Powerful small models with distillation</strong>, with John Allard and Steven Heidel.</p>

<p><strong>12:02</strong> Distillation "allows you to create powerful, small models". They'll talk about why it matters, how it works and best practices and use cases - plus demos of the two new API platform features they are launching today.</p>

<p><strong>12:02</strong> Once you get an AI app working, the next step is figuring out how to get it to work at scale. You care about uptime, rate limits, latency and cost.</p>

<p><strong>12:04</strong> GPT-4o is 15x more expensive than GPT-4o mini, but it brings a large amount of additional "knowledge" - graduate level physics etc. It excels at the toughest knowledge benchmarks. Do you need that type of intelligence for your application?</p>

<p><strong>12:06</strong> Distillation: you fine-tune the small output on the outputs of the large model. You're compressing some of the capabilities of the large model into that smaller model.</p>

<p><strong>12:07</strong> Distillation involves three steps. The first and most important is to build task-specific evals for your application. You can't skip this step, because you can't improve what you can't measure.</p>

<p><strong>12:07</strong> The second step is to capture examples of what good performance looks like. Store example completions from a large model like GPT-4o and create a dataset.</p>

<p><strong>12:08</strong> The final step is the fine-tuning. Teach the small model how to replicate the responses from the large model by showing it many of those captured examples. We're trying to "compress the intelligence" of the large model into that small model.</p>

<p><strong>12:09</strong> A lot of people have done distillation on the OpenAI platform before, using the existing <a href="https://platform.openai.com/docs/guides/fine-tuning">fine-tuning mechanism</a>. Doing it that way is a lot of work though.</p>

<p><strong>12:10</strong> The two new features they are launching today will make distillation easier. The first is stored completions: a new parameter to the chat completions API that will let you opt-in to storing the full input and output to the model. You can apply tags as well, to help filter those later to create datasets for fine-tuning. <code>{"store:" true}</code></p>

<p><strong>12:11</strong> The second feature is a beta of an Evals product. This should allow you to do distillation end-to-end on the OpenAI platform.</p>

<p><strong>12:11</strong> Real-world use-case based on the Superhuman email app. That app has a "quick reply" feature that suggests options for a reply based on reading through the existing thread. How would you scale that feature to hundreds of millions of emails?</p>



<p><strong>12:14</strong> Using the Python client library for <code>client.chat.completions.create()</code> you can add <code>store=True, metadata={"tag": "test-set"}</code> to store a prompt/response and add it to a tag.</p>



<p><strong>12:15</strong> Then in the new <a href="https://platform.openai.com/evalutions/create">/evalutions/create</a> interface you can add testing criteria and use that to create a new evaluation. (I don't have access to that page yet.)</p>

<p><strong>12:17</strong> Having created an eval it's easy to run that against other models - try it against GPT-4o mini and compare that with GPT-4o for example.</p>

<div data-update-id="76">
  <p><strong>12:20</strong> </p><p><img src="https://static.simonwillison.net/static/2024/eval.jpg" alt="Screenshot of a web interface showing evaluation results for an AI model named 'quick-reply-2-4o'. The interface displays a table with columns for messages, output, and three evaluation metrics: 'repliesToRightPerson', 'repliesToMostPressingIssue', and 'repliesMakeSense'. The table shows 8 rows of data, each representing a different conversation. Overall metrics at the top indicate 95%, 91%, and 97% success rates for the three evaluation criteria respectively. The interface appears to be part of a platform called 'Distillation Test' in a 'DevDay Demo' project."></p>
</div>

<p><strong>12:21</strong> ... and now a demonstration of the fine-tuning UI, showing how a fine-tuned GPT-4o mini model on that data performs much better than 4o-mini on its own.</p>

<p><strong>12:23</strong> Is distillation right for your use-cases? That comes down to task generality against required precision. Great use-cases for distillation are tasks that cover a relatively narrow domain and have a relatively low precision requirement - a great fit for small models.</p>

<p><strong>12:23</strong> Tasks that have high precision needs but narrow generality work well too - that's a lot of forms of categorization. You may need a larger and more diverse data set to get that to work well. Same for broad generality and low precision.</p>

<p><strong>12:24</strong> Tasks with a broad generality and high need for precision are a poor fit for distillation - they need a full-powered large model.</p>

<p><strong>12:25</strong> Things to watch out for: Unevenly distributed or biased data points. Your training data should match the patterns of your production data. Also sparse examples which may result in blind spots in your data. A great example is fraud - if it's rare you might find that 1,000 samples have no instances of fraud at all!</p>

<p><strong>12:26</strong> Part of the value of distillation is you don't necessarily need human generated data or responses - but that doesn't mean you don't need to actively curate your distillation dataset. "We tend to see distillation work best with the order of thousands rather than millions of examples."</p>

<p><strong>12:27</strong> Finally, take an iterative approach. Fine-tuning might not work on your first try - there are many variables to consider. It's important to start small with a few hundred examples and scale up once you know it's working based on your evals. Don't jump straight to millions of data points.</p>

<p><strong>12:28</strong> It strikes me that fine-tuning and distillation are strategically a great way of keeping people locked to one platform - if you build an application purely on top of prompt engineering it's much easier to swap between different LLM vendors than if you have fine-tuned a model.</p>

<p><strong>12:29</strong> They expect that it will become common for applications to be built using a collection of many different distilled small models, with a few large models for tasks that don't work well for distillation.</p>

<p><strong>12:30</strong> ... and now lunch - sessions resume at 2pm.</p>

<p><strong>12:32</strong> The system I built for this live blog is very simple - just <code>fetch()</code> calls polling an endpoint and updating a <code>&lt;div&gt;</code> using <code>innerHTML</code> - but the endpoint itself sets a 10s cache so Cloudflare should only let a hit through to the underlying app every 10s no matter how many people are viewing the page.</p>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Pledging $300k to the Zig Software Foundation (338 pts)]]></title>
            <link>https://mitchellh.com/writing/zig-donation</link>
            <guid>41711601</guid>
            <pubDate>Tue, 01 Oct 2024 17:37:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mitchellh.com/writing/zig-donation">https://mitchellh.com/writing/zig-donation</a>, See on <a href="https://news.ycombinator.com/item?id=41711601">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>My wife and I have pledged $300,000<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup> to the
<a target="_blank" rel="noopener noreferrer" href="https://ziglang.org/zsf/">Zig Software Foundation</a> (ZSF).</p>
<p>The ZSF has <a target="_blank" rel="noopener noreferrer" href="https://ziglang.org/news/300k-from-mitchellh/">posted their own announcement</a>
which clearly explains their mission and specifically what the money will be
used for. Instead, I want to talk more broadly about why we've decided to
support ZSF.</p>
<p>I've been following the Zig project since sometime in 2019. I
publicly <a target="_blank" rel="noopener noreferrer" href="https://x.com/mitchellh/status/1435670230215192579">shared my excitement about the project in 2021</a>.
I started using Zig later that year and by early 2022, I began
<a href="https://mitchellh.com/zig">writing about Zig</a> plus
<a target="_blank" rel="noopener noreferrer" href="https://github.com/ziglang/zig/pull/10751">contributing to the compiler</a>, and
I've continued to make <a target="_blank" rel="noopener noreferrer" href="https://github.com/ziglang/zig/pulls?q=is%3Apr+author%3Amitchellh">a few dozen code contributions</a>
since then. In 2023, I publicly shared my <a href="https://mitchellh.com/ghostty">terminal project Ghostty</a>
which is written in Zig. Today, I spend most of my coding time in Zig.</p>
<p>My family enjoys supporting causes we believe in<sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>. As part of this, we want to
support independent software projects that we believe can be transformative
and impactful, both as a way to give back to the community that gave me so
much but more importantly as a way to highlight and encourage a culture of
building for the love of building. Zig is one of those projects.</p>
<p>Zig was started as and continues to be a huge passion project. It is well
managed, the community is strong, and the funding model is transparent and
sustainable. As a technology, it is ambitious and innovative, but still
practical and pragmatic. It has a long way to go to reach stability and
broader industry adoption, but I believe it has a clear path and opportunity
to get there.</p>
<p>We're proud to support Zig and the Zig Software Foundation and are excited to see
what the future holds for the project. As a reminder, around
<a target="_blank" rel="noopener noreferrer" href="https://ziglang.org/news/2024-financials/">a third of the funding for ZSF</a>
comes from individual donations.
Please consider <a target="_blank" rel="noopener noreferrer" href="https://ziglang.org/zsf/">donating</a> if you can. Thanks
Andrew for starting an amazing project and to the entire Zig community for
making it what it is today!</p>
<section data-footnotes="true">
<ol>
<li id="user-content-fn-1">
<p>Paid out in annual $150,000 installments over two years. The first
installment has already been transferred. <a href="#user-content-fnref-1" data-footnote-backref="true" aria-label="Back to content">↩</a></p>
</li>
<li id="user-content-fn-2">
<p>Our philanthropy is generally private, but I'm making an exception
since I think my public support of Zig has a chance to really help the
project due to my background. <a href="#user-content-fnref-2" data-footnote-backref="true" aria-label="Back to content">↩</a></p>
</li>
</ol>
</section></div></div>]]></description>
        </item>
    </channel>
</rss>