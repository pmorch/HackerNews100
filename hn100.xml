<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 13 Aug 2023 09:00:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Illegal raids contribute to death of newspaper co-owner (180 pts)]]></title>
            <link>http://marionrecord.com/</link>
            <guid>37105764</guid>
            <pubDate>Sun, 13 Aug 2023 01:29:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://marionrecord.com/">http://marionrecord.com/</a>, See on <a href="https://news.ycombinator.com/item?id=37105764">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main">

<!--
<iframe src="../xmas.html" width="514" height="257" seamless style="margin: 1em auto 1em auto; padding: 0; border: 0; overflow: hidden;" scrolling="no"></iframe>
-->

		<p>HOVER OVER IMAGE TO ENLARGE IT</p>
		<p><a href="#thumb"><img src="http://marionrecord.com/images/mcr-1.jpg?1723453147" alt="Festi-Cab was in action so festivalgoers wouldn't have to walk too far in the sun." width="69" height="69"><span><img src="http://marionrecord.com/images/mcr-1.jpg" width="315" height="315" alt="Festi-Cab was in action so festivalgoers wouldn't have to walk too far in the sun."><br>Festi-Cab was in action so festivalgoers wouldn't have to walk too far in the sun.</span></a>
		<a href="#thumb"><img src="http://marionrecord.com/images/mcr-2.jpg?1723453147" alt="Zakai Sanders likely is the youngest person to regularly visit Hillsboro Senior Center. He's learning how to play guitar from a group that jams after lunch on a routine basis." width="69" height="69"><span><img src="http://marionrecord.com/images/mcr-2.jpg" width="315" height="315" alt="Zakai Sanders likely is the youngest person to regularly visit Hillsboro Senior Center. He's learning how to play guitar from a group that jams after lunch on a routine basis."><br>Zakai Sanders likely is the youngest person to regularly visit Hillsboro Senior Center. He's learning how to play guitar from a group that jams after lunch on a routine basis.</span></a>
		<a href="#thumb"><img src="http://marionrecord.com/images/mcr-3.jpg?1723453147" alt="A volunteer (right) show a participant how to shoot a rifle at Marion County Quails Forever's annual youth event Saturday south of Lehigh." width="69" height="69"><span><img src="http://marionrecord.com/images/mcr-3.jpg" width="315" height="315" alt="A volunteer (right) show a participant how to shoot a rifle at Marion County Quails Forever's annual youth event Saturday south of Lehigh."><br>A volunteer (right) show a participant how to shoot a rifle at Marion County Quails Forever's annual youth event Saturday south of Lehigh.</span></a>
		<a href="#thumb"><img src="http://marionrecord.com/images/mcr-4.jpg?1723453147" alt="Hillsboro golf course superintendent Avery Unruh mows grass Friday in preparation for a weekend tournament." width="69" height="69"><span><img src="http://marionrecord.com/images/mcr-4.jpg" width="315" height="315" alt="Hillsboro golf course superintendent Avery Unruh mows grass Friday in preparation for a weekend tournament."><br>Hillsboro golf course superintendent Avery Unruh mows grass Friday in preparation for a weekend tournament.</span></a></p><div id="topstories">

	<h2><span>TOP STORIES</span> / This week's most-read items</h2>
		<ol>
		<li><h3><span>UPDATED: Illegal raids contribute to death of newspaper co-owner</span></h3></li>
		<li><h3>Restaurateur accuses paper, councilwoman</h3></li>
		<li><h3>Unpaid taxes up 24%</h3></li>
		<li><h3>Internet monitors help bust child porn suspect</h3></li>
		<li><h3>10-year-old a semi-regular at senior center</h3></li>
		<li><h3>Choice of health site still infected with controversy</h3></li>
		<li><h3>Those who live in glass houses . . .</h3></li>
	</ol>
	</div>

	<div id="mailman">
		<form method="post" action="http://marionrecord.com/mailman/subscribe/headlines_marionrecord.com">
		<h2><span>SIGN UP</span> / Free notification of site updates</h2>
		<table>
		<tbody><tr><td>Email address:</td><td>
		</td></tr>
		<tr><td>Retype this code: <span>7370D</span></td><td>
		
		
		
		</td></tr>
		</tbody></table>
		      <div><p><img src="http://marionrecord.com/images/ribbon.png" alt=""></p><div><p>Judged as state's best midsize paper for overall news and writing for three years running (2021, '22, '23)</p></div></div>
		</form>
		</div>

<p id="wealine">
<h2><span>WEATHER</span> / Showers, Thunderstorms and 81 —  Details</h2>
</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[VirGL – A virtual 3D GPU for use inside QEMU virtual machines (126 pts)]]></title>
            <link>https://docs.mesa3d.org/drivers/virgl</link>
            <guid>37105653</guid>
            <pubDate>Sun, 13 Aug 2023 01:06:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://docs.mesa3d.org/drivers/virgl">https://docs.mesa3d.org/drivers/virgl</a>, See on <a href="https://news.ycombinator.com/item?id=37105653">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      <main role="main">
        
  <section id="virgl">

<section id="what-is-virgl">
<h2>What is VirGL?<a href="#what-is-virgl" title="Permalink to this heading">¶</a></h2>
<p>VirGL is a virtual 3D GPU for use inside QEMU virtual machines, that
allows the guest operating system to use the capabilities of the host GPU
to accelerate 3D rendering. The plan is to have a guest GPU that is fully
independent of the host GPU.</p>
</section>
<section id="what-exactly-does-it-entail">
<h2>What exactly does it entail?<a href="#what-exactly-does-it-entail" title="Permalink to this heading">¶</a></h2>
<p>The project entails creating a virtual 3D capable graphics card for
virtual machines running inside QEMU. The design of this card is based
around the concepts of Gallium3D to make writing Mesa and (eventually)
Direct3D drivers for it easy. The card natively uses the Gallium TGSI
intermediate representation for its shaders. The implementation of
rendering for the card is done in the host system as part of QEMU and is
implemented purely on OpenGL so you can get accelerated rendering on any
sufficiently capable card/driver combination.</p>
<p>The project also consists of a complete Linux guest stack, composed of a
Linux kernel KMS driver, X.org 2D DDX driver and Mesa 3D driver.</p>
</section>
<section id="current-status">
<h2>Current status<a href="#current-status" title="Permalink to this heading">¶</a></h2>
<ul>
<li><p>Many pieces are now upstreamed in various projects.</p></li>
<li><p>Kernel Linux 4.2 contains the modesetting only drivers. Linux 4.4
contains the 3D supported pieces.</p></li>
<li><p>Mesa main contains the VirGL 3D driver.</p></li>
<li><p>QEMU 2.4 contained the initial virtio-gpu with no acceleration
support. QEMU 2.5 contains 3D support only with the GTK3 frontend with
GL enabled.</p></li>
<li><p>The virglrenderer library seems mostly API stable.</p></li>
<li><p>Limited environment renderer (GLES2)</p></li>
</ul>
<section id="so-what-can-it-do-now">
<h3>So what can it do now?<a href="#so-what-can-it-do-now" title="Permalink to this heading">¶</a></h3>
<p>Run a desktop and most 3D games I’ve thrown at it.</p>
</section>
</section>
<section id="scope">
<h2>Scope<a href="#scope" title="Permalink to this heading">¶</a></h2>
<p>The project is currently investigating the desktop virtualization use case
only. This use case is where the viewer, host and guest are all running on
the same machine (i.e. workstation or laptop). Some areas are in scope for
future investigation but not being looked at, at this time.</p>
<section id="future-scope">
<h3>Future scope<a href="#future-scope" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>Remoting rendering using a codec solution.</p></li>
<li><p>Windows guest, Direct3D drivers.</p></li>
<li><p>Other architectures</p></li>
</ul>
</section>
<section id="out-of-scope">
<h3>Out of scope<a href="#out-of-scope" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>Passing through GPUs or subsets of GPU capabilities.</p></li>
</ul>
</section>
</section>
<section id="repos">
<h2>Repos<a href="#repos" title="Permalink to this heading">¶</a></h2>
<p>All upstream parts are being developed upstream.</p>
<p>virglrenderer: the GL renderer <a href="https://gitlab.freedesktop.org/virgl/virglrenderer">https://gitlab.freedesktop.org/virgl/virglrenderer</a></p>
</section>
<section id="authors-and-contributors">
<h2>Authors and Contributors<a href="#authors-and-contributors" title="Permalink to this heading">¶</a></h2>
<p>VirGL is a project undertaken by Dave Airlie at Red Hat. It builds on lots
of open source work in a number of projects, primarily the Gallium 3D code
from the Mesa project.</p>
</section>
<section id="support-or-contact">
<h2>Support or Contact<a href="#support-or-contact" title="Permalink to this heading">¶</a></h2>
<p>mailing list: <a href="mailto:virglrenderer-devel%40lists.freedesktop.org">virglrenderer-devel<span>@</span>lists<span>.</span>freedesktop<span>.</span>org</a></p>
<p><a href="https://lists.freedesktop.org/mailman/listinfo/virglrenderer-devel">https://lists.freedesktop.org/mailman/listinfo/virglrenderer-devel</a></p>
<p>IRC: <a href="irc://irc.oftc.net/virgil3d">#virgil3d on OFTC</a>.</p>
</section>
</section>


      </main>

      
      
      
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ode to the M1 (169 pts)]]></title>
            <link>https://fabiensanglard.net/m1/index.html</link>
            <guid>37105610</guid>
            <pubDate>Sun, 13 Aug 2023 00:59:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://fabiensanglard.net/m1/index.html">https://fabiensanglard.net/m1/index.html</a>, See on <a href="https://news.ycombinator.com/item?id=37105610">Hacker News</a></p>
<div id="readability-page-1" class="page"><br><center>
    
</center><p>
Aug 12, 2023</p>
<p>Ode to the M1</p><hr>


<p>It is not often I am blown away by a piece of hardware. My Hall of Fame features the 1991 Super Nintendo, the 1995 3dfx1, and the 2010 Intel's Serie 520 SSD<a name="back_1" href="#footnote_1"><sup>[1]</sup></a>. This past month my 2021 MacBook Pro M1<a name="back_2" href="#footnote_2"><sup>[2]</sup></a> joined the club.</p>


<p>My problem</p><hr><p>Much has been written about the performance and the battery life of the M1. I won't elaborate on that. Even though these alone would warrant much praise, it is for my peculiar usecase that the machine shines.</p>

<p>I spend my time either writing code or articles. Linux is perfect for that. But every once in a while that OS eats my time. Spending time figuring out why fractional scaling broke after an update, why that Thunderbolt SSD won't mount<a name="back_3" href="#footnote_3"><sup>[3]</sup></a>, or why it won't print is nerve wrecking. These rare, yet ragging, moments make me miss MacOS X.</p>

<p>As a retro-gamimg enthusiast, I may need to use an emulator to study a game's internals. Inevitably, I end up needing to run Windows.</p>

<p>Missed connection</p><hr><p>I attempted to solve my problem via KVM on a beloved Thinkpad Carbon Gen 9. It took me forever to get something running. Dealing with Windows 11 TPM requirements was a nightmare. And I never managed to have something stable. Not to mention the battery life was abysmal.</p>

<p>UTM</p><hr><p><a href="https://mac.getutm.app/">UTM</a> works. It was painless to set up both Ubuntu and Windows 11 with a few clicks. I spent 1mn creating both VMs<a name="back_4" href="#footnote_4"><sup>[4]</sup></a>. It allows me to have all three OSes a simple swipe motion away. Both Ubuntu and Windows run at native speed since they are virtualized instead of emulated.</p>


<video width="1240" height="1920" poster="https://fabiensanglard.net/m1/poster.webp" controls="">
  <source src="https://fabiensanglard.net/m1/magic1080.mov" type="video/mp4">
Your browser does not support the video tag.
</video>

<p>The ability to share files in <code>rw</code> mode made writing and testing cross-platform mDNS software<a name="back_5" href="#footnote_5"><sup>[5]</sup></a> something almost enjoyable. At the very least it gave me the satisfaction of iterating at maximum speed.</p>


<p>Concerns</p><hr><p>At this point, the M1 is a dream hypervisor. I wish I could freeze time on this setup. I have only two concerns.</p>

<h2>Software engineers</h2>
<p>For every extra cycle an hardware engineer can squeeze out of silicon, you will find a programmer adding one hundred cycles to their program<a name="back_6" href="#footnote_6"><sup>[6]</sup></a>. In other terms, I fear that once devs figure out how powerful the M1 is, they will throw more "features" at it.</p>

<h2>Enterprising</h2>
<p>UTM is simple, lightweight, and easy to set up. It is gorgeous and a pleasure to use. Just browse their website<a name="back_7" href="#footnote_7"><sup>[7]</sup></a>, see the clean gallery<a name="back_8" href="#footnote_8"><sup>[8]</sup></a>, and read the useful setup guide. My fear is that something purchases them and we end up with a confusing mess of Enterprise flavors a la VMWare.</p>

<p>References</p><hr><p id="paperbox"><table><tbody><tr><td><a name="footnote_1"></a><a href="#back_1">^</a></td><td> [1]</td><td><a href="https://fabiensanglard.net/ssd">SSD reboot your thinking!</a></td></tr><tr><td><a name="footnote_2"></a><a href="#back_2">^</a></td><td> [2]</td><td><a href="https://fabiensanglard.net/m1/fetch.webp">My MacBook Pro M1 2021 specs</a></td></tr><tr><td><a name="footnote_3"></a><a href="#back_3">^</a></td><td> [3]</td><td><a href="https://fabiensanglard.net/a_linux_evening">A Linux evening</a></td></tr><tr><td><a name="footnote_4"></a><a href="#back_4">^</a></td><td> [4]</td><td>Not counting installation time of course.</td></tr><tr><td><a name="footnote_5"></a><a href="#back_5">^</a></td><td> [5]</td><td><a href="https://fabiensanglard.net/mdns">mDNS Primer</a></td></tr><tr><td><a name="footnote_6"></a><a href="#back_6">^</a></td><td> [6]</td><td><a href="https://fabiensanglard.net/ssd/">Remember when Photoshop opened in 1s on SSD?</a></td></tr><tr><td><a name="footnote_7"></a><a href="#back_7">^</a></td><td> [7]</td><td><a href="https://mac.getutm.app/">UTM website</a></td></tr><tr><td><a name="footnote_8"></a><a href="#back_8">^</a></td><td> [8]</td><td><a href="https://mac.getutm.app/gallery/">UTM Gallery</a></td></tr></tbody></table></p> <hr>
 <center>*</center></div>]]></description>
        </item>
        <item>
            <title><![CDATA[NixOS RFC 136 approved: A plan to stabilize the new CLI and Flakes incrementally (164 pts)]]></title>
            <link>https://github.com/NixOS/rfcs/pull/136</link>
            <guid>37105524</guid>
            <pubDate>Sun, 13 Aug 2023 00:44:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/NixOS/rfcs/pull/136">https://github.com/NixOS/rfcs/pull/136</a>, See on <a href="https://news.ycombinator.com/item?id=37105524">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-pjax="" data-turbo-frame="" id="repo-content-turbo-frame" target="_top" data-turbo-action="advance">
    

  <div id="partial-discussion-header" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0OjEwNzQ5MzE0OTYiLCJ0IjoxNjkxODk5MjAzfQ==--bc2b51efe0c9940cbabfff36992466b4a2ec9ee5fb04672af7b7823460a54d07" data-url="/NixOS/rfcs/pull/136/partials/title?sticky=true" data-pull-is-open="false" data-gid="PR_kwDOBN4SJc5AEico">



          
<details>
  <summary data-ga-click="Issues, create new issue, view:issue_show location:issue_header style:button logged_in:false">
    
    New issue
  </summary>
  <details-dialog aria-label="Sign up for GitHub">
            <div>
  <p>
  <strong>Have a question about this project?</strong> Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
  </p>

  <!-- '"` --><!-- </textarea></xmp> -->
  <p>By clicking “Sign up for GitHub”, you agree to our <a href="https://docs.github.com/terms" target="_blank">terms of service</a> and
  <a href="https://docs.github.com/privacy" target="_blank">privacy statement</a>. We’ll occasionally send you account related emails.</p>

  <p>
    Already on GitHub?
    <a data-ga-click="(Logged out) New issue modal, clicked Sign in, text:sign-in" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;new issue modal&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/NixOS/rfcs/pull/136&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="0003039b3e6df64331213a675d349d30ee57a15fa64c75f5c177e56bdc618e16" href="https://github.com/login?return_to=%2FNixOS%2Frfcs%2Fissues%2Fnew%2Fchoose">Sign in</a>
    to your account
  </p>
</div>
  </details-dialog>
</details>
        
      </div>



      




    <div data-view-component="true" id="discussion_bucket" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0OjEwNzQ5MzE0OTY6dGltZWxpbmUiLCJ0IjoxNjkxODk5MjAzfQ==--c3b9d03a829d91aa68384e7d933cc32a7454a62f6423d27de7816d218c65b905">            <h2>Conversation</h2>
  <div data-quote-markdown=".js-comment-body" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="" data-team-hovercards-enabled="" data-hpc="">
    <template>
  <div data-view-component="true" class="flash flash-warn flash-full d-flex flex-items-center">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    <span>
      This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
      <a class="Link--inTextBlock" href="https://github.co/hiddenchars" target="_blank">Learn more about bidirectional Unicode characters</a>
    </span>


  <div data-view-component="true" class="flash-action">        <a href="{{ revealButtonHref }}" data-view-component="true" class="btn-sm btn">    Show hidden characters
</a>
</div>
</div></template>
<template>
  <span aria-label="This line has hidden Unicode characters" data-view-component="true" class="line-alert tooltipped tooltipped-e">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
</span></template>

    <div>

      <div data-gid="PR_kwDOBN4SJc5AEico" data-url="/NixOS/rfcs/pull/136/partials/body" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0OjEwNzQ5MzE0OTYiLCJ0IjoxNjkxODk5MjAzfQ==--bc2b51efe0c9940cbabfff36992466b4a2ec9ee5fb04672af7b7823460a54d07">

<p><a href="https://github.com/Ericson2314" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/1055245?s=60&amp;v=4" alt="Ericson2314" size="40" height="40" width="40" data-view-component="true"></a>
  
  
</p><div id="issue-1395022952">
          

          <div>
  
  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">Ever since the closing of <a href="https://github.com/NixOS/rfcs/pull/49" data-hovercard-type="pull_request" data-hovercard-url="/NixOS/rfcs/pull/49/hovercard">RFC 49</a>, we've had the new CLI and Flakes marked as experimental, with no clear plan forward.</p>
<p dir="auto">With the goal of ending this current limbo and soothe longstanding tensions in the Nix community, this RFC does two things:</p>
<ol dir="auto">
<li>
<p dir="auto">Establish general principles about Nix's architecture and evolution in order to ensure we do not get in this situation again.</p>
<p dir="auto">Notably we are allowed to make breaking changes to experimental features, which includes both the new CLI and Flakes, until they are stable.</p>
</li>
<li>
<p dir="auto">Establish an incremental plan adhering to the principles deciding on the order and priority in which to stabilize these features:</p>
<ul dir="auto">
<li>
<p dir="auto">First, the non-Flakes CLI wll be stabilized, in phases.</p>
</li>
<li>
<p dir="auto">Afterwards, Flakes itself and its CLI components can be stabilized. The final design of Flakes will also require another RFC.</p>
</li>
</ul>
</li>
</ol>
<p dir="auto"><a href="https://github.com/Ericson2314/nix-rfcs/blob/stabilize-incrementally/rfcs/0136-stabilize-incrementally.md">Rendered</a></p>
<hr>
<p dir="auto"><em>A note to anyone leaving comments, remember the point of this RFC is <em>not</em> to debate the <strong>content</strong> of what is being stabilized, but debate the <strong>process</strong> of stabilization. To my fellow Flakes skeptics in particular, please hold back on the minutiae what you think is wrong with the design of Flakes, the new CLI or other features, or we will end up with another monster RFC thread that goes nowhere.</em></p>
<p dir="auto"><em>The current trajectory as far as I can tell, prior to writing this. is that we all of the sudden get a Nix 3.0 where a huge swath of stuff without review becomes stable at once. This is because many people in charge feel exhausted, and fear properly audit and debate the new features will devolve into yet another messy useless flame war.</em></p>
<p dir="auto"><em>Only by keeping the conversation narrowly on topic can demonstrate that a cordial compromise is possible</em></p>
    </div>
  </task-lists>
  
</div>

          <!-- '"` --><!-- </textarea></xmp> -->
          <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/NixOS/rfcs/reactions" accept-charset="UTF-8" method="post">
    
    <div>
          <tool-tip id="tooltip-8fb70e9e-672b-4bc9-b39a-45d8f3c3db93" for="reactions--reaction_button_component-5d8908" popover="manual" data-direction="n" data-type="description" data-view-component="true">0x4A6F, veprbl, maljub01, NickCao, alyssais, zimbatm, bryanhonof, fgaz, fricklerhandwerk, garbas, and 53 more reacted with thumbs up emoji</tool-tip>
          <tool-tip id="tooltip-247b5bc3-8c04-47c0-8050-17d2f6bcd8f5" for="reactions--reaction_button_component-e5b947" popover="manual" data-direction="n" data-type="description" data-view-component="true">0x4A6F, bew, samueldr, maljub01, Profpatsch, alyssais, bryanhonof, fgaz, garbas, bobvanderlinden, and 36 more reacted with heart emoji</tool-tip>
      
    </div>
</form></div>

</div>
</div>

       
            


      <div data-gid="C_kwDOBTKt5doAKDBhOTdjODFjZjVmNTdhMDcwYzkxZWQzZjI3ZjJiYjQ4YWI2MmEzOGY">
      <div data-view-component="true">
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;v=4" width="20" height="20" alt="@Ericson2314">
</a>  </p>
</div>      <div data-view-component="true">
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;v=4" width="20" height="20" alt="@Ericson2314">
</a>  </p>
</div>  </div>

      <div data-team-hovercards-enabled="" id="event-7509070338" data-gid="RTE_lADOBN4SJc5TJlxozwAAAAG_k1IC">

    

        <p><a data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314"><img src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;u=c9769cefdf870911a6981ddc77c1b6d6502e4155&amp;v=4" width="20" height="20" alt="@Ericson2314"></a>
<a data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">Ericson2314</a>




      changed the title
<del>A plan to stabilize Flakes and the new CLI incrementally</del>

<ins>[RFC 0136] A plan to stabilize Flakes and the new CLI incrementally</ins></p><a href="#event-7509070338"><relative-time datetime="2022-10-03T16:41:02Z">Oct 3, 2022</relative-time></a>

  </div>

      <div data-view-component="true" data-gid="C_kwDOBTKt5doAKGNlNDY0MTNhYjI0ZjkyZTdlMGU1NWY2MDRjZjQxZWIyOTRlNGI4MjE">
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;v=4" width="20" height="20" alt="@Ericson2314">
</a>  </p>
</div>

      <div id="ref-commit-063f872" data-gid="CRE_kwDOBN4SJc5IoCBj">
    
  <p><a data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">Ericson2314</a> 

      added a commit
        to Ericson2314/nix-rfcs
      that referenced
      this pull request

    </p><a href="#ref-commit-063f872">
      <relative-time datetime="2022-10-03T16:45:38Z">Oct 3, 2022</relative-time>
    </a>
    <div data-channel="eyJjIjoicmVwbzo4NzIwNzM5Nzpjb21taXQ6MDYzZjg3MjA3NWU4MDg3NGE4MDJlZWU1MDZkODU4MTczYzEwNTJjZCIsInQiOjE2OTE4OTkyMDR9--49c45f4a6c474d2beb39b2100f41ece016700a2ce401f8a67350b5b824e33492" data-url="/Ericson2314/nix-rfcs/commit/063f872075e80874a802eee506d858173c1052cd/show_partial?partial=commit%2Fcondensed_details">
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;u=c9769cefdf870911a6981ddc77c1b6d6502e4155&amp;v=4" width="20" height="20" alt="@Ericson2314">
</a>  </p>
</div>
  </div>

      <div data-gid="IC_kwDOBN4SJc5LccOz" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5LccOz/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/7c6f434c/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/7c6f434c"><img src="https://avatars.githubusercontent.com/u/1891350?s=80&amp;v=4" width="40" height="40" alt="@7c6f434c"></a>

</p>


  <div data-body-version="bc6e400581c5f2f238a0479f27bf8f83bbd6d2091ed5e933140b82a2e1272716" id="issuecomment-1265746867">

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Hm. I think the issue with Flakes is not <em>just</em> that they become required to use some feature X, but that they break subfeature X.Y of X in the process…</p>
      </div>
</task-lists>


        
      </div>

</div>


      <div id="pullrequestreview-1128722881" data-gid="PRR_kwDOBN4SJc5DRvHB" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxMTI4NzIyODgxIiwidCI6MTY5MTg5OTIwNH0=--c88b17308792589ae42dcd79b6fbebacff238a73282f54c04f7a61e1c84b2283" data-url="/NixOS/rfcs/pull/136/partials/reviews/1128722881">
      <div data-view-component="true">
  <p><a href="https://github.com/7c6f434c" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/7c6f434c/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/1891350?s=60&amp;v=4" alt="7c6f434c" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div data-view-component="true">            <turbo-frame id="review-thread-or-comment-id-630996914" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="103"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="104"></td>

            <td>
              <span><span>## <span>Step 2: Stabilize the store-only Nix CLI</span></span></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="105"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="106"></td>

            <td>
              <span>If the deadline for step 1 is met, then we stabilize <span>*</span>just<span>*</span> the command-line interface of the store-only Nix command.</span>

            </td>
          </tr>
    </tbody></table>

</div>


<div data-quote-markdown=".js-comment-body">
        <div id="discussion_r986020265">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">Actually, even if store-only Nix is not there, can <code>nix</code> command be stabilised area by area, probably with store-related commands first?</p>
  </task-lists>
  

</div>

  <div id="discussion_r986021874">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">Yes, but I worry we will accidentally mess things up without the rigorous correct-by-construction layering that building subsets of Nix gives us.</p>
<p dir="auto">Basically, in my opinion <em>proven</em> freedom from layer violations is a major way we can tell a "plumbing" command (to use the git term) is good.</p>
    </div>
  </task-lists>
  

</div>

  <div id="discussion_r986052133">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">Actually current RFC <a data-error-text="Failed to load title" data-id="1374401605" data-permission-text="Title is private" data-url="https://github.com/NixOS/rfcs/issues/134" data-hovercard-type="pull_request" data-hovercard-url="/NixOS/rfcs/pull/134/hovercard" href="https://github.com/NixOS/rfcs/pull/134">#134</a> does not seem to require that eval-part of Nix goes only through the CLI-exposed part of store-Nix, does it?</p>
  </task-lists>
  

</div>

  <div id="discussion_r986105140">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">No it does not, but I meant making sure low level commands don't need high level library code.</p>
  </task-lists>
  

</div>

  <div id="discussion_r986110964">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">But this doesn't really prove that the store-Nix is useful as plumbing without layering violations (like the current way of specifying a specific output), does it?</p>
  </task-lists>
  

</div>


  <!-- '"` --><!-- </textarea></xmp> -->
  <div id="discussion_r986888649">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">Oh OK, I thought you were saying we needed a more stringent process, but it sounds like you are saying the opposite. Sure, that makes sense.</p>
  </task-lists>
  

</div>

  <div id="discussion_r986917939">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">I <em>want</em> a more stringent process but I also admit we don't <em>need</em> it as a hard requirement! (And a more stringent process has more cost)</p>
  </task-lists>
  

</div>

  <div id="discussion_r992526779">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">Sure I agree. I am hoping I get that prev RFC approved / PR done regardless and it's a non-issue, but if I fail then yes it is good that we can still stabilize things incrementally.</p>
  </task-lists>
  

</div>

  <div id="discussion_r1238717768">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/7c6f434c/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/7c6f434c">@7c6f434c</a> It seems you're on the same page now. Maybe you can mark the conversation as resolved? That would make it easier to see if there's still something left to discuss or not.</p>
  </task-lists>
  

</div>

  <div id="discussion_r1238744726">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">I am not sure we were on the same page back then, but the situation has shifted enough to make the minor differences moot.</p>
<p dir="auto">… as of the literal question you ask — as far as I can see, I cannot. GitHub probably doesn't think reviewers should be able to resolve the points they raise.</p>
    </div>
  </task-lists>
  

</div>


    </div>

</div>
</details></turbo-frame>




</div>  </div>

      <div data-gid="IC_kwDOBN4SJc5LcgaJ" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5LcgaJ/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314"><img src="https://avatars.githubusercontent.com/u/1055245?s=80&amp;u=c9769cefdf870911a6981ddc77c1b6d6502e4155&amp;v=4" width="40" height="40" alt="@Ericson2314"></a>

</p>


  <div data-body-version="b84d5d765bfa22637ad5a47554ee9b43fc09d687e72ac74c9e7b59bebf9fc0b8" id="issuecomment-1265763977">

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/7c6f434c/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/7c6f434c">@7c6f434c</a> the "encroaching on other issues" section was supposed to cover that. I personally didn't mind this a lot as I wasn't using many of the new CLI commands with Nix 2.3, but most people mention this to me as they main gripe with Flakes, so I was sure to emphasize it over my own more niche concerns.</p>
      </div>
</task-lists>


        
      </div>

</div>


      <div data-view-component="true" id="pullrequestreview-1128746189" data-gid="PRR_kwDOBN4SJc5DR0zN" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxMTI4NzQ2MTg5IiwidCI6MTY5MTg5OTIwNH0=--df8e2e2add5eba0d4b3ac11e8f7a07f5283e52719bbb589ffdb2790540f1d571" data-url="/NixOS/rfcs/pull/136/partials/reviews/1128746189">
  <p><a href="https://github.com/asymmetric" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/asymmetric/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/101816?s=60&amp;v=4" alt="asymmetric" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div data-gid="IC_kwDOBN4SJc5LcpZs" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5LcpZs/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/7c6f434c/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/7c6f434c"><img src="https://avatars.githubusercontent.com/u/1891350?s=80&amp;v=4" width="40" height="40" alt="@7c6f434c"></a>

</p>


  <div data-body-version="82164726823b1b6b5a183226fa0871632c9e6051f9f724c71c78c503206178d1" id="issuecomment-1265800812">

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/7c6f434c/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/7c6f434c">@7c6f434c</a> the "encroaching on other issues" section was supposed to cover that.</p>
</blockquote>
<p dir="auto">However, it doesn't cover it.</p>
<p dir="auto">It says «using the same features now requires converting workflows to Flakes». This issue is much easier to brush off than «using the same feature is now impossible because Flakes supersede the older and more flexible implementation».</p>
      </div>
</task-lists>


        
      </div>

</div>


      <div data-view-component="true" id="pullrequestreview-1128778667" data-gid="PRR_kwDOBN4SJc5DR8ur" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxMTI4Nzc4NjY3IiwidCI6MTY5MTg5OTIwNH0=--d0644e9295505016cec1098473149dfbd46ec6151eb9e4e228511bf840870c6a" data-url="/NixOS/rfcs/pull/136/partials/reviews/1128778667">
  <p><a href="https://github.com/0x4A6F" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/0x4A6F/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/9675338?s=60&amp;v=4" alt="0x4A6F" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div data-view-component="true" data-gid="C_kwDOBTKt5doAKDJmMTUxZWY1ZTE3YjhhMThkNTc3NDdkYzBmZjBkNjg3MzNkNWU4OTE">
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;v=4" width="20" height="20" alt="@Ericson2314">
</a>  </p>
</div>

      <div data-view-component="true" id="pullrequestreview-1129021504" data-gid="PRR_kwDOBN4SJc5DS4BA" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxMTI5MDIxNTA0IiwidCI6MTY5MTg5OTIwNH0=--ffa266188e776a42ce431eaa56197b11a0c8b8b6cf737dbb408e3cf08217ae32" data-url="/NixOS/rfcs/pull/136/partials/reviews/1129021504">
  <p><a href="https://github.com/amjoseph-nixpkgs" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/amjoseph-nixpkgs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/54836058?s=60&amp;v=4" alt="amjoseph-nixpkgs" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div id="pullrequestreview-1130538852" data-gid="PRR_kwDOBN4SJc5DYqdk" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxMTMwNTM4ODUyIiwidCI6MTY5MTg5OTIwNH0=--ea9a7a986c9add9605317eabf994231369989665e977a1d117cea33b53c6745a" data-url="/NixOS/rfcs/pull/136/partials/reviews/1130538852">
      <div data-view-component="true">
  <p><a href="https://github.com/alyssais" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/alyssais/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/2768870?s=60&amp;v=4" alt="alyssais" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div data-view-component="true">            <turbo-frame id="review-thread-or-comment-id-631793845" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="32"></td>

            <td>
              <span>Flakes is very popular among these new users.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="33"></td>

            <td>
              <span>Ergo, Flakes is very popular among the Nix community as a whole.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="34"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="35"></td>

            <td>
              <span>Like it or not, these users have been using Flakes as if it was stable, and we cannot make huge drastic changes that would break their code in hard-to-fix ways.</span>

            </td>
          </tr>
    </tbody></table>

</div>


<div data-quote-markdown=".js-comment-body">
        <div id="discussion_r987278726">
        

        <div>
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">This is the crux of the issue, and I can't agree with it.</p>
<p dir="auto">Going into an effort to stabilise Flakes with the understanding that we can't actually change it very much would make a mockery of the RFC process as a whole.  It would establish a precedent that following the RFC process is optional, and that if you don't want to follow it (and you're one of the privileged set of committers to the appropriate repository) you can work around it encouraging adoption of your "experimental" work until it gets to the point that "we can't make big changes" any more.  Maybe the Flakes design is good enough that we wouldn't <em>need</em> to make huge drastic changes, but it still sets the same precedent if we go into it having accepted that we <em>can't</em>.</p>
    </div>
  </task-lists>
  

</div>

        <!-- '"` --><!-- </textarea></xmp> -->
        <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/NixOS/rfcs/reactions" accept-charset="UTF-8" method="post">
    
    <div>
          <tool-tip id="tooltip-1ee99ea1-9a8d-46a4-bce4-39ffce21e0bc" for="reactions--reaction_button_component-6a7fcd" popover="manual" data-direction="n" data-type="description" data-view-component="true">7c6f434c, samueldr, Ma27, amjoseph-nixpkgs, tazjin, patricksjackson, sternenseemann, andir, RaitoBezarius, glittershark, and 27 more reacted with thumbs up emoji</tool-tip>
          <tool-tip id="tooltip-ba40abf9-0ae4-441b-a3a5-6fd5d1ea73a3" for="reactions--reaction_button_component-f086e1" popover="manual" data-direction="n" data-type="description" data-view-component="true">andir, glittershark, and cafkafk reacted with heart emoji</tool-tip>
      
    </div>
</form></div>

</div>

  <div id="discussion_r989267177">
        

        <div>
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">One of the early breakages of the <code>nix</code> CLI was that it got hidden behind the <code>--experimental-features</code> flag. Exactly to address this concern and clarify that everything behind it is experimental. Even all the nix man pages say that it's experimental.</p>
<p dir="auto">It's good that people are trying flakes because it provides feedback, but it seems pretty obvious to me that anything can be changed. There is no guarantee here.</p>
    </div>
  </task-lists>
  

</div>

        <!-- '"` --><!-- </textarea></xmp> -->
        <div data-view-component="true">
  <!-- '"` --><!-- </textarea></xmp> --><form data-turbo="false" action="/NixOS/rfcs/reactions" accept-charset="UTF-8" method="post">
    
    <div>
          <tool-tip id="tooltip-083d3f19-32ac-4161-ae36-6e35a9f81b35" for="reactions--reaction_button_component-54c742" popover="manual" data-direction="n" data-type="description" data-view-component="true">alyssais, RaitoBezarius, phaer, CobaltCause, montchr, lblasc, roberth, matklad, MaienM, hcsch, and 5 more reacted with thumbs up emoji</tool-tip>
      
    </div>
</form></div>

</div>

  <div id="discussion_r989405716">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">The <a href="https://nixos-foundation.notion.site/1-year-roadmap-0dc5c2ec265a477ea65c549cd5e568a9" rel="nofollow">1 year Nix roadmap the NixOS foundation is working on</a> contains an ominous reference to “start thinking about Flakes 2.0.” This will hopefully be clarified until NixCon, but it seems like breaking Flakes (in some controlled way, presumably) is already on the cards.</p>
  </task-lists>
  

</div>

  <div id="discussion_r990693813">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">I think Flakes 2.0 may not necessary be new features.</p>
<p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/alyssais/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alyssais">@alyssais</a> I agree Flakes was advertised much more heavily than, say, Rust experimental features, which does make the whole process very dodgy. But I have also long since given up on trying to influence Flakes. <a data-hovercard-type="user" data-hovercard-url="/users/edolstra/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/edolstra">@edolstra</a> and others have a very specific vision on what UX they want for them, and I think a fine compromise is that they can basically do whatever they want with that <em>so long as</em> there remains a "rest of Nix" that is still fully functional and not an afterthought with huge gaps.</p>
<p dir="auto">In other words, I would <em>personally</em> work very hard to make sure the first two round of stabilizations under the plan yield a good result, making requests for some small tweak dyed-in-the-whole Flakers find baffling or boring. But then for the 3rd round, I would largely bow out, having gotten the things I wanted.</p>
<p dir="auto">Now, I am by no means demanding that persons besides myself do the same; there is still a 3rd round of stabilization for those interested in Flakes to voice their thoughts. But I gather a lot of the tensions around Flakes is predicated on a fear that Flakes will be the only way forward, with the non-Flakes functionality legacy stuff or otherwise left to rot. I think by making sure that the non-Flakes stuff is still good, or at least leaving room for that (e.g. we can rename <code>nix search</code> to <code>nix flake search</code> leaving room for the future re-emergence of Flake-agnostic searching) we can lower the temperature a lot in the room not only for people like me, but also for people that still care about Flakes being good (in their eyes) but can rest easier with there being a "plan B".</p>
    </div>
  </task-lists>
  

</div>

  <div id="discussion_r990798810">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">I would say that pushing flakes through an imitation RFC process without properly addressing the criticism would damage RFC process without really adding anything to flakes (hard to get extra credibility from the process that just lost its credibility).</p>
<p dir="auto">I guess with incremental stabilisation of Flakes we could reach a state where some things can neither be stabilised via an RFC nor removed via an RFC? I don't like this outcome too much, but maybe this would at least reduce the splash damage…</p>
<p dir="auto">(From experience, I am pessimistic about making consistent good decisions about issues, but somewhat optimistic about compartmentalising the damage)</p>
    </div>
  </task-lists>
  

</div>


  <!-- '"` --><!-- </textarea></xmp> -->
  <div id="discussion_r1084373765">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/7c6f434c/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/7c6f434c">@7c6f434c</a> The common goal would be stabilizing the flakes-agnostic CLI.</p>
  </task-lists>
  

</div>

  <div id="discussion_r1084406886">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">Even there, I think some people want <code>nix profile</code> to work (without flakes; but also whether it working at all is good or bad is likely to have less than 100% agreement)</p>
  </task-lists>
  

</div>

  <div id="discussion_r1123895460">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/alyssais/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alyssais">@alyssais</a> I agree. Saying "flakes are widely used, so we can't break interfaces even if they're not declared stable" is flawed reasoning. <a data-hovercard-type="user" data-hovercard-url="/users/tomberek/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tomberek">@tomberek</a> recently pointed out to me that leading figures have been encouraging users to adopt flakes since NixCon 2019. And it still happens in side channels all the time, new users being introduced with <em>literally</em> saying "it's fine, just enable experimental features, it's the right way to do things" or "it's strongly encouraged" – by whom?</p>
<p dir="auto">These are people's opinions, they are free to have them, and others are free to believe them, but the manual and the guards in the code clearly state: this interface is subject to change.</p>
<p dir="auto">Don't rely on experimental features in production, unless you know what you're doing and know how to get yourself out of a mess. <a href="https://www.youtube.com/live/yXPQdZh8o7c?feature=share&amp;t=958" rel="nofollow">There is no deadline on stabilising the new CLI or flakes, because we don't want to get stuck with what we may end up regretting.</a></p>
<p dir="auto">I'm not in the position to conclusively judge and not willing to opine whether the new CLI design or the flakes paradigm of organising Nix projects are the right way forward and whether the improvements in user experience are worth the sunk cost. But I'm confident with stating that the kind of signaling and narrative we have observed</p>
<ol dir="auto">
<li>Confuses beginners, produces uncertainty, and associates these negative emotions with the project, which tend to stick due to the <a href="https://en.m.wikipedia.org/wiki/Serial-position_effect#Primacy_effect" rel="nofollow">primacy effect</a></li>
<li>Reinforces distrust in Nix maintainers among new users, who we can expect soon to be the overwhelming majority</li>
<li>Exerts needless constraints and pressure on maintainers where the whole point of experimental features is, well, to be able to experiment, and therefore having the freedom to make breaking changes.</li>
</ol>
    </div>
  </task-lists>
  

</div>

  <div id="discussion_r1139354781">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">This sentence is now removed!</p>
  </task-lists>
  

</div>

  <div id="discussion_r1186677721">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <blockquote>
<p dir="auto">And it still happens in side channels all the time, new users being introduced with literally saying "it's fine, just enable experimental features, it's the right way to do things" or "it's strongly encouraged" – by whom?</p>
</blockquote>
<p dir="auto">I won't even read non-flake tutorials I must say because it feels like the old way of doing things.</p>
<p dir="auto">I'd say, why not both? It's fine to point new people to flakes if that's easier to get them onboarded (which many people believe it is) <strong>and</strong> even then it's fine to massively break flakes in the future if you get the design right.</p>
    </div>
  </task-lists>
  

</div>


    </div>

</div>
</details></turbo-frame>




</div>  </div>

      <div data-gid="IC_kwDOBN4SJc5LjN8f" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5LjN8f/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/alyssais/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alyssais"><img src="https://avatars.githubusercontent.com/u/2768870?s=80&amp;u=ce956d7c26f9c18bbffc4f89755dfaeddad18c61&amp;v=4" width="40" height="40" alt="@alyssais"></a>

</p>


  <div data-body-version="c5bc09675208678f3c59393459c10a2578cebdcc9d044c2f432a7e4a4f6ebad0" id="issuecomment-1267523359">

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">I'm grateful to you for starting this conversation.  I too believe that an incremental approach to stabilisation is the only way we'll get out of the situation we're currently stuck in, and it will be a big relief to have a well-defined plan for it that has been the subject of community input.  Even if I don't like the plan we end up with, it'll be a better situation than what we have today.</p>
      </div>
</task-lists>


        
      </div>

</div>


      <div data-view-component="true" id="pullrequestreview-1130553213" data-gid="PRR_kwDOBN4SJc5DYt99" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxMTMwNTUzMjEzIiwidCI6MTY5MTg5OTIwNH0=--ccf9d4c7f5c35a0dc4fa3931c46e285787b6c0d28eb67e1c1b9e2102663b5688" data-url="/NixOS/rfcs/pull/136/partials/reviews/1130553213">
  <p><a href="https://github.com/alyssais" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/alyssais/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/2768870?s=60&amp;v=4" alt="alyssais" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div data-view-component="true" data-gid="C_kwDOBTKt5doAKDUwOWUyZjFlOGRkYWMyYjYyNjljNDc4NGRiNTU5YzIyYzBhY2FmMDg">
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;v=4" width="20" height="20" alt="@Ericson2314">
</a>  </p>
</div>

      <div data-gid="IC_kwDOBN4SJc5LlqI6" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5LlqI6/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Profpatsch/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Profpatsch"><img src="https://avatars.githubusercontent.com/u/3153638?s=80&amp;v=4" width="40" height="40" alt="@Profpatsch"></a>

</p>


  <div data-body-version="26bc5417236fdad3724d32f3821330206f22401ed1d9bd0444d20099d4d05a4b" id="issuecomment-1268163130">

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Is Step one (<a data-error-text="Failed to load title" data-id="1374401605" data-permission-text="Title is private" data-url="https://github.com/NixOS/rfcs/issues/134" data-hovercard-type="pull_request" data-hovercard-url="/NixOS/rfcs/pull/134/hovercard" href="https://github.com/NixOS/rfcs/pull/134">#134</a>) absolutely necessary for Step 2 and Step 3?<br>
I feel like users don’t super care whether nix has a clean internal separation, as long as the command line is stable.</p>
      </div>
</task-lists>


        
      </div>

</div>


      

      <div data-gid="IC_kwDOBN4SJc5Lm1aA" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5Lm1aA/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/7c6f434c/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/7c6f434c"><img src="https://avatars.githubusercontent.com/u/1891350?s=80&amp;v=4" width="40" height="40" alt="@7c6f434c"></a>

</p>


  <div data-body-version="84a1243a33dc24508ed0fb1d314ae441f88187404349fbd0e182c03385a2e356" id="issuecomment-1268471424">

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">Is Step one (<a data-error-text="Failed to load title" data-id="1374401605" data-permission-text="Title is private" data-url="https://github.com/NixOS/rfcs/issues/134" data-hovercard-type="pull_request" data-hovercard-url="/NixOS/rfcs/pull/134/hovercard" href="https://github.com/NixOS/rfcs/pull/134">#134</a>) absolutely necessary for Step 2 and Step 3?</p>
</blockquote>
<p dir="auto">It is explicitly written that it is not <em>absolutely</em> necessary for step 3, and we seem to approach declaring it not <em>absolutely</em> needed for step 2.</p>
<p dir="auto">However, if it can be done in reasonable time, it might improve the quality of step 2.</p>
      </div>
</task-lists>


        
      </div>

</div>


      <div data-view-component="true" id="pullrequestreview-1133533435" data-gid="PRR_kwDOBN4SJc5DkFj7" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxMTMzNTMzNDM1IiwidCI6MTY5MTg5OTIwNH0=--3dd5f1416a3d7edb9b086e8785db2029a9a41285db4aac66a63386273aa54312" data-url="/NixOS/rfcs/pull/136/partials/reviews/1133533435">
  <p><a href="https://github.com/sternenseemann" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/sternenseemann/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/3154475?s=60&amp;v=4" alt="sternenseemann" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div data-view-component="true" data-gid="C_kwDOBTKt5doAKDQ5YWJlMzllYTY4YTZjNDk1ZmQ4NzE3MGRlOGExMWU3YjcyZjhlYWI">
  <div>
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;v=4" width="20" height="20" alt="@Ericson2314">
</a>      <a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/sternenseemann/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sternenseemann">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/3154475?s=40&amp;v=4" width="20" height="20" alt="@sternenseemann">
</a>  </p>
</div>
    <div>
      <pre>Thanks!

Co-authored-by: sternenseemann &lt;sternenseemann@systemli.org&gt;</pre>
    </div>
</div>

      

      <div data-gid="IC_kwDOBN4SJc5NpA4x" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5NpA4x/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thufschmitt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thufschmitt"><img src="https://avatars.githubusercontent.com/u/7226587?s=80&amp;u=c89c28dd24733e5992428054cdcdd3ad681a759c&amp;v=4" width="40" height="40" alt="@thufschmitt"></a>

</p>


  <div data-body-version="f1327e880af41dd493f1e18ceca5581256ec5994ce9b19fb676f880e430a1627" id="issuecomment-1302597169">

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">Thanks for fleshing this out (and sorry for taking that long to answer).</p>
<p dir="auto">I agree with the broad idea of stabilizing stuff incrementally. There's a huge pile of experimental stuff, ranging from “experimental on the paper, but too widely used to be changed” to “actually experimental, we might drop it tomorrow”.</p>
<p dir="auto">The problem that makes this whole thing much more complex is that Flakes and the new CLI are strongly tied together:</p>
<ul dir="auto">
<li>On the one hand, the CLI is built around Flakes as the primary interface to Nix expressions. Which means that I'm quite anxious at the idea of trying to stabilize the CLI without flakes as it would be very hard to provide something nice and consistent.</li>
<li>On the other hand, a large part of the design of Flakes is here to provide a good user interface. Being able to just run <code>nix run nixpkgs#hello</code> is magical, and that's to a large part tied to the design of flakes. Which means that inverting the order to stabilize flakes first and the CLI after would also be weird.</li>
</ul>
<p dir="auto">All that being said, I think I'd favour trying to stabilize Flakes first for consistency reasons: A Nix with Flakes but not the new CLI would be a Nix with a not-so-obviously-good feature hidden somewhere within the language (under <code>builting.getFlake</code>). However, a Nix with the new CLI but no Flakes is a Nix where the primary user interface has a huge blind spot, which is frankly bad.</p>
      </div>
</task-lists>


        
      </div>

</div>


      <div data-gid="IC_kwDOBN4SJc5Nt-da" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5Nt-da/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314"><img src="https://avatars.githubusercontent.com/u/1055245?s=80&amp;u=c9769cefdf870911a6981ddc77c1b6d6502e4155&amp;v=4" width="40" height="40" alt="@Ericson2314"></a>

</p>


  <div data-body-version="51903e8a87f5d656b0fc1d5d9067087895716ff3a94f6b9a5c063111004109fd" id="issuecomment-1303897946">

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/thufschmitt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thufschmitt">@thufschmitt</a> I completely agree that <em>some</em> CLI commands are tied to flakes but others are not --- or only indirectly via flake "installables" syntax. I still don't see any reason we cannot stabilize the parts that are not directly tied to Flakes first.</p>
<blockquote>
<p dir="auto">Which means that I'm quite anxious at the idea of trying to stabilize the CLI without flakes as it would be very hard to provide something nice and consistent.</p>
</blockquote>
<ul dir="auto">
<li>
<p dir="auto">It is perfectly OK if the CLI without Flakes isn't <em>nice</em>!</p>
</li>
<li>
<p dir="auto">That full unstable CLI is still there, and we can make sure it is <em>consistent</em> with or without Flakes.</p>
</li>
</ul>
<blockquote>
<p dir="auto">Being able to just run <code>nix run nixpkgs#hello</code> is magical, and that's to a large part tied to the design of flakes.</p>
</blockquote>
<p dir="auto">OK, so the CLI without Flakes will not have <code>nix run</code>. Simple!</p>
<blockquote>
<p dir="auto">Which means that inverting the order to stabilize flakes first and the CLI after would also be weird.</p>
</blockquote>
<p dir="auto">I don't think it is hard to stabilize <code>nix show-derivation</code> and <code>nix eval</code> without <code>nix run</code>. <code>nix run</code> doesn't affect the design of those first two plumbing commands, does it?</p>
<blockquote>
<p dir="auto">However, a Nix with the new CLI but no Flakes is a Nix where the primary user interface has a huge blind spot, which is frankly bad.</p>
</blockquote>
<p dir="auto">We'd be just stabilizing the plumbing commands. Blind spots are completely acceptable and expected.</p>
<hr>
<p dir="auto">I am guessing this is a simple understanding where you thought by "stabilize flakes" I meant just the file format; I mean the file format <em>and</em> the CLI commands that are tied to it. They go together, and the value of one <em>does</em> depend on the other. Trying to stabilize those in isolation would mean we are unable to judge the merits of either properly.</p>
<p dir="auto">I do think some of those Flakes commands (like <code>nix search</code>) could be made Flakes agnostic, but as I hoped to make clear I do <em>not</em> want to block the stabilizing of anything on making them Flakes agnostic. At most, I would advocate renaming things like <code>nix flakes run</code> and <code>nix flakes search</code> to "make room" for future generalized variants.</p>
      </div>
</task-lists>


        
      </div>

</div>



  

        <div id="pullrequestreview-1493607216" data-gid="PRR_kwDOBN4SJc5ZBqMw" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxNDkzNjA3MjE2IiwidCI6MTY5MTg5OTIwNH0=--3be5944da440d746640acc212d77e495212c3843fcdbe47247c5b222595c8119" data-url="/NixOS/rfcs/pull/136/partials/reviews/1493607216">
      <div data-view-component="true">
  <p><a href="https://github.com/iFreilicht" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/iFreilicht/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/9742635?s=60&amp;v=4" alt="iFreilicht" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div data-view-component="true">            <turbo-frame id="review-thread-or-comment-id-791965324" target="_top">
    <details data-resolved="true" data-deferred-details-content-url="/NixOS/rfcs/pull/136/threads/791965324?rendering_on_files_tab=false" data-hidden-comment-ids="1238774920" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    
</details></turbo-frame>

  <turbo-frame id="review-thread-or-comment-id-1243614450" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="86"></td>

            <td>
              <span>This is the opposite of how experimental features are supposed to leisurely incubate with both plenty of flexibility to change them, and little rush to stabilize them until they feel ready.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="87"></td>

            <td>
              <span>But, there is little we can do about this at this point, an this RFC recognizes that fact and does <span>*</span>not<span>*</span> try to resist it.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="88"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="89"></td>

            <td>
              <span>But, we have crossed that Rubicon and there is no turning back; this RFC <span>*</span>doesn't<span>*</span> attempt to change Flakes or the command line.</span>

            </td>
          </tr>
    </tbody></table>

</div>


<div id="discussion_r1243614450" data-quote-markdown=".js-comment-body">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">I'm reading this more as a: "<strong>If</strong> this RFC is merged, we <strong>will</strong> start stabilizing the new CLI, and once that's done we <strong>will</strong> stabilize flakes, and whether either of these things has to be changed before it's stabilized is out-of-scope."</p>
<p dir="auto">Would that be a wording you'd agree with?</p>
    </div>
  </task-lists>
  

</div>

</div>
</details></turbo-frame>

  <turbo-frame id="review-thread-or-comment-id-1243640278" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="97"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="98"></td>

            <td>
              <span><span>## <span>Step 0: Stabilize the store-only installable-free CLI</span></span></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="99"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="100"></td>

            <td>
              <span>There are certain commands like <span>`</span><span>nix store gc</span><span>`</span>, <span>`</span><span>nix store ping</span><span>`</span> that do not take any positional arguments.</span>

            </td>
          </tr>
    </tbody></table>

</div>


<div id="discussion_r1243640278" data-quote-markdown=".js-comment-body">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">I would say it is out-of-scope. This RFC lays out the intention and the process, and we have to align on that first.</p>
  </task-lists>
  

</div>

</div>
</details></turbo-frame>

  <turbo-frame id="review-thread-or-comment-id-794981541" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="213"></td>

            <td>
              <span>In addition, the CLI can itself be split up for more fine-grained rounds of stabilization.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="214"></td>

            <td>
              <span>According to the layering principles, the CLI in fact <span>*</span>must<span>*</span> be split in order to abide by the <span>**</span>publicity<span>**</span> principle.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="215"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="216"></td>

            <td>
              <span>The rounds thus look like this:</span>

            </td>
          </tr>
    </tbody></table>

</div>


<div data-quote-markdown=".js-comment-body">
        <div id="discussion_r1243642148">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
        <div itemprop="text" id="">
      <table data-paste-markdown-skip="">
          <tbody><tr>
            <td data-line-number="215"></td>
            <td>The rounds thus look like this:</td>
          </tr>
          <tr>
            <td data-line-number="215"></td>
            <td>The rounds thus <span>should </span>look<span> roughly</span> like this:</td>
          </tr>
      </tbody></table>
    </div>

<p dir="auto">I think it's important to show that this is only an outline. The exact scope of the CLI waves have to be determined and aligned on in a separate RFC.</p>
    </div>
  </task-lists>
  

</div>

  <div id="discussion_r1263886774">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">I think the ordering is normative, we do not know what the final result each step will look, but we are committing to doing them in this order?</p>
  </task-lists>
  

</div>




    </div>

</div>
</details></turbo-frame>

  <turbo-frame id="review-thread-or-comment-id-1243643446" target="_top">
    <details data-resolved="true" data-deferred-details-content-url="/NixOS/rfcs/pull/136/threads/793543052?rendering_on_files_tab=false" data-hidden-comment-ids="1241308116,1243643446,1263887090,1263887568,1263888028" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    
</details></turbo-frame>



  <turbo-frame id="review-thread-or-comment-id-794984882" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="272"></td>

            <td>
              <span><span>-</span> <span>~~</span>Should all outputs be selected if one writes <span>`</span><span>foo.dev</span><span>`</span>?<span>~~</span> Since fixed.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="273"></td>

            <td>
              <span><span>-</span> How can <span>`</span><span>nix repl</span><span>`</span> have a more normal CLI?</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="274"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="275"></td>

            <td>
              <span>Following the <span>**</span>gravity<span>**</span> principle, we will eventually want to pure eval and eval caching to be possible and easy to use without flakes; they should become part of this layer.</span>

            </td>
          </tr>
    </tbody></table>

</div>


<div data-quote-markdown=".js-comment-body">
        <div id="discussion_r1243647362">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div itemprop="text" id="">
      <table data-paste-markdown-skip="">
          <tbody><tr>
            <td data-line-number="274"></td>
            <td>Following the <span>**</span>gravity<span>**</span> principle, we <span>will eventually </span>want<span> to</span> pure eval and eval caching to be possible and easy to use without flakes; they should become part of this layer.</td>
          </tr>
          <tr>
            <td data-line-number="274"></td>
            <td>Following the <span>**</span>gravity<span>**</span> principle, we want pure eval and eval caching to be possible and easy to use without flakes; they should become part of this layer.</td>
          </tr>
      </tbody></table>
    </div>
  </task-lists>
  

</div>

  <div id="discussion_r1263890160">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">The "eventually" was supposed to match the other text saying this is desired, but not a blocker for stabilization</p>
  </task-lists>
  

</div>




    </div>

</div>
</details></turbo-frame>

  <turbo-frame id="review-thread-or-comment-id-1243660507" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="354"></td>

            <td>
              <span><span># <span>Alternatives</span></span></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="355"></td>

            <td>
              <span><span>[</span><span>alternatives</span><span>]</span>: <span>#alternatives</span></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="356"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="357"></td>

            <td>
              <span>We could, of course, just "rip off the band-aid" and stabilize everything at once.</span>

            </td>
          </tr>
    </tbody></table>

</div>


<div id="discussion_r1243660507" data-quote-markdown=".js-comment-body">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">I also disagree with that proposal. The transition from regular nix to flakes nix is not always easy and can't be done all at once. Being able to use the same store and switch back-and-forth between using flakes and not is critical to prevent splitting the userbase.</p>
<p dir="auto">However, I think this RFC opens the door to creating one or multiple experimental flake-based frontends based on the lower-level Nix Store and Nix Language. So you can still make breaking changes, but they are scoped and more experimentation is possible.</p>
    </div>
  </task-lists>
  

</div>

</div>
</details></turbo-frame>

  <turbo-frame id="review-thread-or-comment-id-1244881252" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="372"></td>

            <td>
              <span>But we think the plan here has little downsides; we can instead make everyone happy with only some delay.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="373"></td>

            <td>
              <span>If that is true, why not do that instead!</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="374"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="375"></td>

            <td>
              <span><span># <span>Unresolved questions</span></span></span>

            </td>
          </tr>
    </tbody></table>

</div>


<div id="discussion_r1244881252" data-quote-markdown=".js-comment-body">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">I've tried to formulate multiple answers to this comment because I felt it was quite a harsh take, but every time I tried to argue against it, I have to concede that you are correct.</p>
<p dir="auto">This RFC has already influenced discussions AFAICT, but the substance is so broad that it's questionable whether merging it would have any impact internally beyond that. It's still valuable as a document to show what the current challenges are, but merging it seems to be inconsequential.</p>
    </div>
  </task-lists>
  

</div>

</div>
</details></turbo-frame>


</div>  </div>

        

        <div data-view-component="true" data-gid="C_kwDOBTKt5doAKDNhOTQyZDk0ODUzNGVmMDYzMjRmNDQ2N2U3M2JlNjY1MGEwODZkZGM">
      <pre>Thanks so much!

Co-authored-by: Valentin Gagarin &lt;valentin.gagarin@tweag.io&gt;
Co-authored-by: Felix Uhl &lt;iFreilicht@users.noreply.github.com&gt;</pre>
    </div>

        <div data-gid="IC_kwDOBN4SJc5gJ3U4" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5gJ3U4/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/nixos-discourse/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nixos-discourse"><img src="https://avatars.githubusercontent.com/u/45043797?s=80&amp;u=2946682fe7c78ac6f742cd670dd17a36444dca27&amp;v=4" width="40" height="40" alt="@nixos-discourse"></a>

</p>


  

</div>


        <div data-gid="IC_kwDOBN4SJc5ggLQt" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5ggLQt/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/DianaOlympos/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/DianaOlympos"><img src="https://avatars.githubusercontent.com/u/15774340?s=80&amp;u=d865a3f6b7edd96e8127567072c93cf42e3b68bd&amp;v=4" width="40" height="40" alt="@DianaOlympos"></a>

</p>


  <div data-body-version="5b70141d58b46ac3d4ed989c3801f2c5cc93de87322bfd0fb42c54eb0930e6e0" id="issuecomment-1619047469">

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">@Ericson2314</a> to answer your question, as someone that still refuses to recommend flakes or use them. I think the scope of the RFC is ok expanded, but what I would do is I would keep this RFC as a "plan" and then do RFCs separated for every step, which would go into more detail. In my view, it is ok to have an RFC that presents the context, history, reasons for the plan, and what the plan is.</p>
<p dir="auto">Having something too big in scope for what we would like is inevitable at this point, as this is basically the RFC process "catching up" on years of work "outside of the process".</p>
<p dir="auto">On a different note. I fully support the plan to separate cli from core in your comments above, but I also understand if it does not happen.</p>
      </div>
</task-lists>


        
      </div>

</div>


        

        <div id="pullrequestreview-1530539951" data-gid="PRR_kwDOBN4SJc5bOi-v" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxNTMwNTM5OTUxIiwidCI6MTY5MTg5OTIwNX0=--8916535702cac528555bfb70df2e55b86317a91a411381af44b5218f20f63016" data-url="/NixOS/rfcs/pull/136/partials/reviews/1530539951">
      <div data-view-component="true">
  <p><a href="https://github.com/infinisil" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/infinisil/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/20525370?s=60&amp;v=4" alt="infinisil" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>
        <div id="pullrequestreview-1530539951" data-view-component="true">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">As a shepherd, I agree to move this RFC to FCP. I honestly don't think this is a great RFC, it's not very formal, rather vague and seems hard to verify. But there's nothing bad about this RFC, it has good ideas, and RFCs don't <em>need</em> to be formal. This RFC by itself might not do much, but it definitely doesn't make things worse. My approval is mainly motivated by getting this over the finish line and letting everybody focus on more concrete work.</p>
<p dir="auto">Do the other shepherds <a data-hovercard-type="user" data-hovercard-url="/users/thufschmitt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thufschmitt">@thufschmitt</a> and <a data-hovercard-type="user" data-hovercard-url="/users/tomberek/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tomberek">@tomberek</a> agree to move this to FCP?</p>
    </div>
  </task-lists>
  
</div>
        </div>

        <div data-view-component="true" data-gid="C_kwDOBTKt5doAKDY0N2JhOWM4OTRiNDFhNjQzODMyOTAwODI3ZjYzZjU2YzljODQ1ODY">
  <div>
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;v=4" width="20" height="20" alt="@Ericson2314">
</a>  </p>
</div>
    <div>
      <pre>The rest of these were already removed</pre>
    </div>
</div>

        <div data-gid="IC_kwDOBN4SJc5hmZBs" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5hmZBs/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/thufschmitt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thufschmitt"><img src="https://avatars.githubusercontent.com/u/7226587?s=80&amp;u=c89c28dd24733e5992428054cdcdd3ad681a759c&amp;v=4" width="40" height="40" alt="@thufschmitt"></a>

</p>


  <div data-body-version="bdc1cb9cfe25ab01fec1b72c794f74fe78a03a0ea7383b3a3b02b55e542ff970" id="issuecomment-1637453932">

        <task-lists disabled="" sortable="">
<div>
          <blockquote>
<p dir="auto">Do the other shepherds <a data-hovercard-type="user" data-hovercard-url="/users/thufschmitt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thufschmitt">@thufschmitt</a> and <a data-hovercard-type="user" data-hovercard-url="/users/tomberek/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tomberek">@tomberek</a> agree to move this to FCP?</p>
</blockquote>
<p dir="auto">Yes, as I said above, I agree (with roughly the same reserves that you also have).</p>
      </div>
</task-lists>


        
      </div>

</div>


        

        <div data-gid="IC_kwDOBN4SJc5hrRrQ" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5hrRrQ/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/nixos-discourse/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nixos-discourse"><img src="https://avatars.githubusercontent.com/u/45043797?s=80&amp;u=2946682fe7c78ac6f742cd670dd17a36444dca27&amp;v=4" width="40" height="40" alt="@nixos-discourse"></a>

</p>


  

</div>


        <div data-gid="RTE_lADOBN4SJc5TJlxozwAAAAJKnr8p">
  
          <div data-team-hovercards-enabled="" id="event-9841852201">

    

        <p><a data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314"><img src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;u=c9769cefdf870911a6981ddc77c1b6d6502e4155&amp;v=4" width="20" height="20" alt="@Ericson2314"></a>
<a data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">Ericson2314</a>




      changed the title
<del>[RFC 0136] A plan to stabilize Flakes and the new CLI incrementally</del>

<ins>[RFC 0136] A plan to stabilize the new CLI and Flakes incrementally</ins></p><a href="#event-9841852201"><relative-time datetime="2023-07-17T19:25:06Z">Jul 17, 2023</relative-time></a>

  </div>


  <div>
    <p><a data-hovercard-type="user" data-hovercard-url="/users/louib/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/louib"><img src="https://avatars.githubusercontent.com/u/3301383?s=40&amp;v=4" width="20" height="20" alt="@louib"></a>
<a data-hovercard-type="user" data-hovercard-url="/users/louib/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/louib">louib</a>



    mentioned this pull request
    </p><a href="#ref-pullrequest-979102104">
      <relative-time datetime="2023-07-23T18:53:52Z">Jul 23, 2023</relative-time>
    </a>
</div>



</div>

        <div data-gid="IC_kwDOBN4SJc5iMKvf" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5iMKvf/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/nixos-discourse/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nixos-discourse"><img src="https://avatars.githubusercontent.com/u/45043797?s=80&amp;u=2946682fe7c78ac6f742cd670dd17a36444dca27&amp;v=4" width="40" height="40" alt="@nixos-discourse"></a>

</p>


  

</div>


        

        <div data-gid="IC_kwDOBN4SJc5idFaa" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5idFaa/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/nixos-discourse/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nixos-discourse"><img src="https://avatars.githubusercontent.com/u/45043797?s=80&amp;u=2946682fe7c78ac6f742cd670dd17a36444dca27&amp;v=4" width="40" height="40" alt="@nixos-discourse"></a>

</p>


  

</div>


        

        <div data-gid="IC_kwDOBN4SJc5ilC-C" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5ilC-C/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/piegamesde/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/piegamesde"><img src="https://avatars.githubusercontent.com/u/14054505?s=80&amp;u=0ea4f2f41c5afafa0699d9cf96d9a04e468c235d&amp;v=4" width="40" height="40" alt="@piegamesde"></a>

</p>


  <div data-body-version="b9f274791f649f0a1de0cb71f72970cda31a7d1976460d230f3feb13f738a32b" id="issuecomment-1653878658">

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">@Ericson2314</a> please mark some of the old conversations as resolved to reduce noise.</p>
      </div>
</task-lists>


        
      </div>

</div>


        <div id="pullrequestreview-1550214674" data-gid="PRR_kwDOBN4SJc5cZmYS" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxNTUwMjE0Njc0IiwidCI6MTY5MTg5OTIwNX0=--94e9c39753da14c790a9c73d3aebd03dd9b5e36f2e94df468587073d7d698a02" data-url="/NixOS/rfcs/pull/136/partials/reviews/1550214674">
      <div data-view-component="true">
  <p><a href="https://github.com/piegamesde" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/piegamesde/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/14054505?s=60&amp;v=4" alt="piegamesde" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div data-view-component="true">            <turbo-frame id="review-thread-or-comment-id-815807475" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr data-position="0">
            <td data-line-number="..."></td>
            <td data-line-number="..."></td>
            <td colspan="2">@@ -0,0 +1,386 @@</td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="1"></td>

            <td>
              <span><span>---</span></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="2"></td>

            <td>
              <span><span>feature</span>: <span>stabilize-incrementally</span></span>

            </td>
          </tr>
    </tbody></table>

</div>


<div data-quote-markdown=".js-comment-body">
        <div id="discussion_r1276502162">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">While the motivation for this RFC is the stabilization of flakes, I do find the layering principles etc. good and important enough that they should be part of the RFC title. I'd like this RFC to state that those principles apply to the general Nix development, and are not only for the stabilization of Flakes effort.</p>
  </task-lists>
  

</div>

  <div id="discussion_r1277184278">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">I do not even find Flakes in the current state net-positive, but this RFC is an improvement even if Flakes did not exist, and also draws a good plan to make Flakes not do damage. So yes, something about layering for incremental stabilisation of features (including Flakes) would be a nice title.</p>
  </task-lists>
  

</div>

  <div id="discussion_r1281324570">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">The layering was developed and added explicitly to ensure there was a proper separation between concerns. Title can be better, but it seems the intention was communicated. Thanks!</p>
  </task-lists>
  

</div>




    </div>

</div>
</details></turbo-frame>

  <turbo-frame id="review-thread-or-comment-id-815809589" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="63"></td>

            <td>
              <span>But without the ability to populate some sort of initial list of store paths that are safe to import, pure evaluation does in practice require Flakes.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="64"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="65"></td>

            <td>
              <span>This is especially noticeable for new CLI features that <span>*</span>previously did<span>*</span>, in fact, work without Flakes.</span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="66"></td>

            <td>
              <span>For example, in earlier versions of Nix, <span>`</span><span>nix search</span><span>`</span> worked without Flakes.</span>

            </td>
          </tr>
    </tbody></table>

</div>


<div data-quote-markdown=".js-comment-body">
        <div id="discussion_r1276505548">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">This is my main issue with the current CLI state. The RFC text further down kind of hints at that this will be fixed, but it is too vague to be certain.</p>
<p dir="auto">Explicitly mentioning <code>nix search</code> as an example would make me a lot more in favor of this RC ;)</p>
    </div>
  </task-lists>
  

</div>

  <div id="discussion_r1277053268">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">Another is the error message you get from <code>nix run</code> on an expression that isn't a derivation:</p>
<div data-snippet-clipboard-copy-content="$ nix eval -f . libcIconv
<LAMBDA>
$ nix run -f . libcIconv
error: attribute 'type' does not exist"><pre><code>$ nix eval -f . libcIconv
&lt;LAMBDA&gt;
$ nix run -f . libcIconv
error: attribute 'type' does not exist
</code></pre></div>
<p dir="auto">A lot of the code paths that can be used for both flakes and non-flakes appear to have had the error handling removed from the non-flake case and replaced with "<code>goto assume-it-is-a-flake</code>".  This makes the non-flake case really frustrating, because all the diagnostics are gone.</p>
    </div>
  </task-lists>
  

</div>

  <div id="discussion_r1288859695">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto"><a data-hovercard-type="user" data-hovercard-url="/users/piegamesde/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/piegamesde">@piegamesde</a> so I/we purposely didn't want to state that stabilizing is blocked on developing new nin-flake eatures that probably wouldn't inform the final design of flakes. Even though those things used to work pre flakes given the state of the code today it is a new feature.</p>
<p dir="auto">However, on a personal level, I do help it will be done first.</p>
    </div>
  </task-lists>
  

</div>

  <div id="discussion_r1289003702">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <div>
      <p dir="auto">IMO, the stabilization of flakes should not happen without having at least feature parity with the old CLI when flakes are disabled. I don't agree with framing that as a "new feature".</p>
<p dir="auto">Personally, I'd additionally like to have that <em>all</em> CLI features that get stabilized must also work with flakes disabled. But I understand if that's too much to ask for.</p>
    </div>
  </task-lists>
  

</div>

  <div id="discussion_r1289007092">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">That would be okay by me, but let's not extend the scope of the PR further for now, it's a net positive as is.</p>
  </task-lists>
  

</div>




    </div>

</div>
</details></turbo-frame>




</div>  </div>

        <div id="pullrequestreview-1563695708" data-gid="PRR_kwDOBN4SJc5dNBpc" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxNTYzNjk1NzA4IiwidCI6MTY5MTg5OTIwNX0=--5cb7ea778805faa60ca8ee8406977970c54b664fbf5a20cc524449d1c38af548" data-url="/NixOS/rfcs/pull/136/partials/reviews/1563695708">
      <div data-view-component="true">
  <p><a href="https://github.com/RaitoBezarius" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/RaitoBezarius/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/314564?s=60&amp;v=4" alt="RaitoBezarius" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>
        <div id="pullrequestreview-1563695708" data-view-component="true">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">LGTM, awesome for the FCP.</p>
  </task-lists>
  
</div>
        </div>

        

        <div data-view-component="true" data-gid="C_kwDOBTKt5doAKDhlMmI3ODdlNTdhZGVjMTI1YThkNDRkYjcyYjUxNDFkYzlmNGY5ZDA">
  <div>
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/Ericson2314/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ericson2314">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/1055245?s=40&amp;v=4" width="20" height="20" alt="@Ericson2314">
</a>      <a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/RaitoBezarius/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/RaitoBezarius">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/314564?s=40&amp;v=4" width="20" height="20" alt="@RaitoBezarius">
</a>  </p>
</div>
    <div>
      <pre>Thanks!

Co-authored-by: Ryan Lahfa &lt;masterancpp@gmail.com&gt;</pre>
    </div>
</div>

        

        <div id="pullrequestreview-1575485132" data-gid="PRR_kwDOBN4SJc5d5_7M" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0X3JldmlldzoxNTc1NDg1MTMyIiwidCI6MTY5MTg5OTIwNX0=--1de19cc139127f8b2f95e1d3564d7e93a6ca259dfd419170213be1876e8358e3" data-url="/NixOS/rfcs/pull/136/partials/reviews/1575485132">
      <div data-view-component="true">
  <p><a href="https://github.com/Jayman2000" data-view-component="true"><img data-hovercard-type="user" data-hovercard-url="/users/Jayman2000/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="https://avatars.githubusercontent.com/u/5579359?s=60&amp;v=4" alt="Jayman2000" size="40" height="40" width="40" data-view-component="true"></a></p>
  
</div>

      <div data-view-component="true">            <turbo-frame id="review-thread-or-comment-id-825837132" target="_top">
    <details open="open" data-resolved="false" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    <div data-view-component="true">        

  <div>
    
    <table data-tab-size="8" data-paste-markdown-skip="">
          <tbody><tr>

              <td></td>

              <td data-line-number="39"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="40"></td>

            <td>
              <span><span>### <span>Flakes are very popular</span></span></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="41"></td>

            <td>
              <span><br></span>

            </td>
          </tr>
          <tr>

              <td></td>

              <td data-line-number="42"></td>

            <td>
              <span>As measured in the community polls, Nix has a lot of new users, dwarfing the number of long-time users.</span>

            </td>
          </tr>
    </tbody></table>

</div>


<div data-quote-markdown=".js-comment-body">
        <div id="discussion_r1292536088">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    <p dir="auto">I would add a link to one or two of the polls.</p>
  </task-lists>
  

</div>

  <div id="discussion_r1292565656">
  <div data-view-component="true">
  
    <h3>Choose a reason for hiding this comment</h3>

    <p>
      The reason will be displayed to describe this comment to others. <a href="https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment" aria-label="Learn more about hiding disruptive comments">Learn more</a>.
    </p>

    <!-- '"` --><!-- </textarea></xmp> -->

  
</div>

  <task-lists disabled="" sortable="">
    
  </task-lists>
  

</div>




    </div>

</div>
</details></turbo-frame>

  <turbo-frame id="review-thread-or-comment-id-825837234" target="_top">
    <details data-resolved="true" data-deferred-details-content-url="/NixOS/rfcs/pull/136/threads/825837234?rendering_on_files_tab=false" data-hidden-comment-ids="1292536212" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    
</details></turbo-frame>

  <turbo-frame id="review-thread-or-comment-id-825837922" target="_top">
    <details data-resolved="true" data-deferred-details-content-url="/NixOS/rfcs/pull/136/threads/825837922?rendering_on_files_tab=false" data-hidden-comment-ids="1292537175" data-view-component="true">
    <summary role="button" data-view-component="true">      
</summary>
    
</details></turbo-frame>




</div>  </div>

        <div data-view-component="true" data-gid="C_kwDOBTKt5doAKDY0ZmU4ZjMwZDliNzViNzhmNmRkODEzNTliMTRmNWFjOTVhYmNlOTM">
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/tomberek/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tomberek">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/178444?s=40&amp;v=4" width="20" height="20" alt="@tomberek">
</a>  </p>
</div>

        <div data-gid="IC_kwDOBN4SJc5j6DF1" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5j6DF1/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/tomberek/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tomberek"><img src="https://avatars.githubusercontent.com/u/178444?s=80&amp;u=b900003497743537a7d2bb1303938126ba6ed288&amp;v=4" width="40" height="40" alt="@tomberek"></a>

</p>


  <div data-body-version="d6492cfe2736382d660d48be3b22e810440d730861e2d4f30d847b277a58d660" id="issuecomment-1676161397">

        <task-lists disabled="" sortable="">
<div>
          <p dir="auto">FCP period complete. Shepherds recommend approval. Applied small fixes (thanks <a data-hovercard-type="user" data-hovercard-url="/users/Jayman2000/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Jayman2000">@Jayman2000</a>) and merging per recommendation and recent RFC Steering Committee meeting.</p>
      </div>
</task-lists>


        
      </div>

</div>


        

        <div data-gid="IC_kwDOBN4SJc5j6DgA" data-url="/NixOS/rfcs/comments/IC_kwDOBN4SJc5j6DgA/partials/timeline_issue_comment">

  <p><a data-hovercard-type="user" data-hovercard-url="/users/nixos-discourse/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nixos-discourse"><img src="https://avatars.githubusercontent.com/u/45043797?s=80&amp;u=2946682fe7c78ac6f742cd670dd17a36444dca27&amp;v=4" width="40" height="40" alt="@nixos-discourse"></a>

</p>


  

</div>




  <!-- Rendered timeline since 2023-08-12 17:40:15 -->
  



    </div>

    
  </div>

</div>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Blog Post with Every HTML Element (161 pts)]]></title>
            <link>https://www.patrickweaver.net/blog/a-blog-post-with-every-html-element/</link>
            <guid>37104742</guid>
            <pubDate>Sat, 12 Aug 2023 22:19:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.patrickweaver.net/blog/a-blog-post-with-every-html-element/">https://www.patrickweaver.net/blog/a-blog-post-with-every-html-element/</a>, See on <a href="https://news.ycombinator.com/item?id=37104742">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <article>
          <header>
            
            <p><time datetime="2023-08-3">
                August 3, 2023
              </time>
            </p>
            
            <h3>
              <a href="">
                  A Blog Post With Every HTML Element
              </a>
            </h3>
            
            
            
          </header>
        
          <!-- markdownlint-disable MD033 MD013 -->

<section>
<p>After learning a little bit more about web accessibility last year I had been exploring some of the less common <abbr title="Hyper Text Markup Language">HTML</abbr> elements, and making changes to this website, like wrapping the text of the posts on this blog in <code>&lt;article&gt;</code> tags and adding a <code>&lt;main&gt;</code> tag in the website’s layout templates (this website is built using <a href="https://www.11ty.dev/" target="_blank">Eleventy</a>).</p>
<p>I had previously done some work to make sure that <code>&lt;figure&gt;</code> and <code>&lt;figcaption&gt;</code> elements were layed out nicely for images with associated captions, and I had been impressed with various <a href="https://www.recurse.com/" target="_blank">Recurser’s</a> implementation of footnotes or sidenotes<sub id="footnote-1-link"><a href="https://www.patrickweaver.net/blog/a-blog-post-with-every-html-element/#footnote-1">1</a></sub>, and have been thinking it would be interesting to see what other interesting layouts were possible with just HTML.</p>
<p>I could, element by element, continue to add support (mostly by making <abbr title="Cascading Style Sheets">CSS</abbr> updates for each element to fit in with the rest of my style choices) as I came across specific needs for them, but not one to shy away from an exhaustive exploration, I decided to write this post and attempt to use every element.</p>
<p>A goal of the post, was to avoid delaying other future posts with CSS updates on a previously unused element, but in reality it took a year and a half to make all the updates for just this post! I am using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element" target="_blank">MDN Web Docs list of HTML elements</a> as a reference which has more than 100 tags divided into a few categories, which I will also use in this post. Many of the tags like <code>&lt;html&gt;</code> don’t make sense to include in the text of a blog post, but if you’re viewing this post on <a href="https://www.patrickweaver.net/">patrickweaver.net</a>, then every one of the elements is used somewhere on this page.</p>
</section>
<hr>
<h2>The Elements</h2>
<section id="main-root">
<h3>Main Root</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html"><code>&lt;html&gt;</code></a></li>
</ul>
<p>I didn’t have to make any changes to the <code>&lt;html&gt;</code> tag for this post, but one thing I don’t always remember to include is the <code>lang</code> property (in this case <code>lang="en"</code>).</p>
</section>
<section id="document-metadata">
<h3>Document Metadata</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base"><code>&lt;base&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head"><code>&lt;head&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link"><code>&lt;link&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta"><code>&lt;meta&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/style"><code>&lt;style&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title"><code>&lt;title&gt;</code></a></li>
</ul>
<p>I wasn’t familiar with the <code>&lt;base&gt;</code> tag before writing this post, though I’ve now added one with relative links to my layout templates. This caused a few issues with things like local development, and relative links, though they were easily resolved. The rest of the metadata tags are familiar and were already here.</p>
</section>
<section id="sectioning-root">
<h3>Sectioning Root</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/body"><code>&lt;body&gt;</code></a></li>
</ul>
<p>Like the Document metadata tags, in the layout, though it was interesting to read the documentation and learn about attributes, like <code>onbeforeprint</code> that provides functionality I’ve used more hacky methods to accomplish previously, and <code>onblur</code>, whose primary utility seems to be annoying popups.</p>
</section>
<section id="content-sectioning">
<hgroup>
<h3>Content Sectioning</h3>
<p>Headers and Document Organization</p>
</hgroup>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/address"><code>&lt;address&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/article"><code>&lt;article&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/aside"><code>&lt;aside&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/footer"><code>&lt;footer&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/header"><code>&lt;header&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Heading_Elements"><code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, <code>&lt;h3&gt;</code>, <code>&lt;h4&gt;</code>, <code>&lt;h5&gt;</code>, <code>&lt;h6&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/hgroup"><code>&lt;hgroup&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/main"><code>&lt;main&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/nav"><code>&lt;nav&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/section"><code>&lt;section&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/search"><code>&lt;search&gt;</code></a></li>
</ul>
<p>When I first looked at the list I assumed that <code>&lt;address&gt;</code> would be designed exclusively for mailing addresses, but was surprised to see that it can be used for email addresses, and even links. I updated the email address on the About page of site site, but I’ll add an <code>&lt;address&gt;</code> below also:</p>
<address>
    <p>Email Patrick:</p>
    <a href="mailto:hello.patrickw@gmail.com">hello.patrickw@gmail.com</a>
</address>
<p>As I mentioned above, I updated the blog post page template to use the <code>&lt;article&gt;</code> tag, but reading the documentation, I’m now wondering if it would fit on every page of the site.</p>
<p>I’m now using <code>&lt;aside&gt;</code> elements, which represent, <q cite="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/aside">a portion of a document whose content is only indirectly related to the document’s main content</q>, to wrap around my footnotes at the bottom of this page (though I may try to style them as sidenotes in the future). The current design of this website doesn’t have a <code>&lt;footer&gt;</code>, but I’ve added one to this blog post, and while I had a <code>&lt;header&gt;</code> element on the page header previously, I now know that more than one is acceptable so there is one around the header section of each blog posts as well.</p>
<h4>Heading elements</h4>
<p>As part of the style update and cleanup of this site that inspired this post I realized I was often using headers with incorrect hierarchy, which I cleaned up. Though I never reached 6 levels of headers, the closest I got was <code>&lt;h3&gt;</code> in some of the blog posts with multiple sections and subsections.</p>
<h5>How to use top level headings</h5>
<p>It is a little bit unclear how to use <code>&lt;h1&gt;</code> tags in a post like this from just the MDN documentation. This <a href="https://www.w3.org/QA/Tips/Use_h1_for_Title">tip from the W3C</a> suggests different implementations for pages with standalone, or collection content, which would make it difficult to use the same templates and styles for different pages on this site.</p>
<h6>How I decided to handle it</h6>
<p>Before writing this post I had updated the site to use <code>&lt;h1&gt;</code> for the name of the site (my name) at the top, <code>&lt;h2&gt;</code> for the section name, for this page, “Blog”, and <code>&lt;h3&gt;</code> for the title of what would be the <code>&lt;article&gt;</code> on a page. However, after reading the documentation and the tip above, I decided to update the hierarchy and use <code>&lt;h1&gt;</code> for different things on different pages, and use classes for styles, which is probably more in line with the separation of concerns of HTML and CSS (which means this paragraph is below an <code>&lt;h6&gt;</code>).</p>
<p>Sometime between when I started this experiment in early 2022 and when I published it in Summer 2023 <code>&lt;hgroup&gt;</code> and <code>&lt;search&gt;</code> were added to the MDN documentation (which I realize is not the official spec). I’ve added an <code>&lt;hgroup&gt;</code> around the heading of this section, with a subtitle <code>&lt;p&gt;</code> element. <code>&lt;search&gt;</code> is a semantic element that indicates that an input can be used for search, not for search results (with the exception of quick results that populate within a form ). While a <code>&lt;search&gt;</code> element that contains a <code>&lt;form&gt;</code> works without HTML on a website that can generate search results on a server, because this website is statically generated the example below requires JavaScript. I haven’t seen a <code>&lt;search&gt;</code> element anywhere else, neither MDN’s header search, or google.com use it in 2023.</p>
<!-- markdownlint-disable -->
<search>

</search>



<!-- markdownlint-enable -->
<!-- markdownlint-disable MD033 MD013 -->
<p>The <code>&lt;main&gt;</code> element was one of the initial curiosities that led me down the path of reading about and implementing every element, though it wasn’t until I read through the MDN list that I added a <code>&lt;nav&gt;</code> element around the menu at the top of this page. I’ve added <code>&lt;section&gt;</code> elements to this post, but I’m not sure how often I will use them elsewhere. One reason is that it makes it harder to mix and match HTML and markdown with visually clear nesting in the <a href="https://github.com/patrickweaver/pw20/blob/main/build/blog/a-blog-post-with-every-html-element.md">document where I am writing this post</a>.</p>
</section>
<section id="text-content">
<h3>Text Content</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/blockquote"><code>&lt;blockquote&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dd"><code>&lt;dd&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dl"><code>&lt;dl&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dt"><code>&lt;dt&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/figcaption"><code>&lt;figcaption&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/figure"><code>&lt;figure&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/hr"><code>&lt;hr&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li"><code>&lt;li&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/menu"><code>&lt;menu&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol"><code>&lt;ol&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p"><code>&lt;p&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/pre"><code>&lt;pre&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul"><code>&lt;ul&gt;</code></a></li>
</ul>
<p>I had previously used <code>&lt;blockquote&gt;</code> for embedding tweets into blog posts, but for this post I decided to add styles for standalone quotes. I didn’t know about the <code>&lt;blockquote&gt;</code> <code>cite</code> property or <code>&lt;cite&gt;</code> element until reading the docs more closely:</p>
<figure>
    <blockquote cite="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/blockquote#attributes">
        <h4><code>cite</code></h4>
        <p>A URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote.</p>
    <figcaption><cite>MDN</cite> on <code>&lt;blockquote&gt;</code></figcaption>
</blockquote></figure>
<p><code>&lt;dd&gt;</code>, <code>&lt;dl&gt;</code>, and <code>&lt;dt&gt;</code> are elements that, after finding out about them when first looking into more obscure HTML elements, I was very surprised to have not known about sooner. Although, it’s unclear from the documentation whether lists like the links on the current version of my <a href="https://web.archive.org/web/20220628123804/https://www.patrickweaver.net/portfolio/">portfolio page</a> should use <code>&lt;dl&gt;</code> (I’m currently using <code>&lt;ul&gt;</code>). I am curious how <code>&lt;ol&gt;</code> and <code>&lt;ul&gt;</code> became part of almost every “Intro to HTML” class, but <code>&lt;dl&gt;</code> is relatively obscure. It’s also strange that <code>&lt;ol&gt;</code> and <code>&lt;ul&gt;</code> have default margins, but for <code>&lt;dl&gt;</code> the margin is on <code>&lt;dd&gt;</code>.</p>
<h4>HTML list elements</h4>
<dl>
    <dt><code>dl</code></dt><dd>Description list</dd>
    <dt><code>ol</code></dt><dd>Ordered list</dd>
    <dt><code>ul</code></dt><dd>Unordered list</dd>
</dl>
<p><code>&lt;div&gt;</code> has acquired a bad reputation on the modern web due to overuse, so I was surprised to be using relatively few <code>&lt;div&gt;</code> elements, though once I started using elements that I wanted to style together, I ended up with around 20. It shows how unnecessary most <code>&lt;div&gt;</code>s probably are, though this site has minimal generic “sections”.</p>
<p>Among the first more obscure elements that I added to this site were <code>&lt;figcaption&gt;</code> and <code>&lt;figure&gt;</code>. I was adding some blog posts that had originally been published on Medium, and wanted to add captions below images in a web-semantically correct way. Though after reading the documentation, which says <code>&lt;figure&gt;</code> can be used for, <q cite="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/figure#usage_notes">image, illustration, diagram, code snippet, etc.,</q> I realized that there are a lot of places where I currently have code blocks that I could be using them.</p>
<p>I have always liked <code>&lt;hr&gt;</code> elements a lot, but I’m never sure when to use them. The documentation says, <q cite="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/hr#try_it">While it may still be displayed as a horizontal rule in visual browsers, this element is now defined in semantic terms, rather than presentational terms, so if you wish to draw a horizontal line, you should do so using appropriate CSS</q> which made me revisit the <code>&lt;hr&gt;</code> styles on this site and I decided to include an emoji in an <code>hr:after</code> rule, though I should check how that works on a screen reader.</p>
<p>The items in the (inline styled) lists of elements on this page are of course <code>&lt;li&gt;</code> elements, though I had never looked at the documentation until now. It’s interesting that the same <code>&lt;li&gt;</code> element is used in both <code>&lt;ol&gt;</code> and <code>&lt;ul&gt;</code> lists, with quirks like <q cite="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li#attributes">The value attribute has no meaning for unordered lists</q>, but is not used to wrap the <code>&lt;dt&gt;</code> and <code>&lt;dd&gt;</code> elements in a <code>&lt;dl&gt;</code>.</p>
<p>I had not encountered <code>&lt;menu&gt;</code> before writing this post, and I was initially surprised that it survived to HTML 5 (while <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/menuitem"><code>&lt;menuitem&gt;</code></a> didn’t) because modern browsers treat it as essentially a <code>&lt;ul&gt;</code>. Researching further <a href="https://en.wikipedia.org/wiki/HTML_element#Basic_text">on Wikipedia</a> I read:</p>
<figure>
    <blockquote cite="https://en.wikipedia.org/wiki/HTML_element#Basic_text">MENU existed in HTML Tags, and was standardized in HTML 2.0; deprecated in HTML 4.0 Transitional; invalid in HTML 4.0 Strict; then redefined in HTML5, but removed in HTML 5.2,</blockquote>
</figure>and now I don’t know what to think, but here’s a <code>&lt;menu&gt;</code>:

<p><code>&lt;ol&gt;</code> and <code>&lt;ul&gt;</code> are some of the HTML elements I used in my earliest web pages, and more recently I try to use <code>&lt;ul&gt;</code> with CSS in places that are semantically lists, but might not be styled like a traditional list.</p>
<p>I was surprised not to find more guidance on using <code>&lt;p&gt;</code> tags on <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/p">the MDN docs</a>, something I wonder often when adding non long form text to a website is, “is this really a paragraph?” But, it seems like as far as HTML is concerned, if it’s not a heading, then probably!</p>
<p>Before reading the documentation I had really only considered using <code>&lt;pre&gt;</code> tags along with <code>&lt;code&gt;</code> tags for code blocks, but the example used on MDN is used to show how <code>&lt;pre&gt;</code> can display meaningful whitespace for things like:</p>
<figure><pre role="img" aria-label="An ASCII picture of a house with the label, 'in this house we write semantic HTML'">  ┏┓
  ┃┃╱╲ in
  ┃╱╱╲╲ this
  ╱╱╭╮╲╲house
  ▔▏┗┛▕▔ we
  ╱▔▔▔▔▔▔▔▔▔▔╲
write semantic HTML
  ╱╱┏┳┓╭╮┏┳┓ ╲╲
  ▔▏┗┻┛┃┃┗┻┛▕▔
</pre></figure>
</section>
<section id="inline-text-semantics">
<h3>Inline Text Semantics</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a"><code>&lt;a&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/abbr"><code>&lt;abbr&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/b"><code>&lt;b&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/bdi"><code>&lt;bdi&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/bdo"><code>&lt;bdo&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/br"><code>&lt;br&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/cite"><code>&lt;cite&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/code"><code>&lt;code&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/data"><code>&lt;data&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dfn"><code>&lt;dfn&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/em"><code>&lt;em&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/i"><code>&lt;i&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/kbd"><code>&lt;kbd&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/mark"><code>&lt;mark&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/q"><code>&lt;q&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/rp"><code>&lt;rp&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/rt"><code>&lt;rt&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ruby"><code>&lt;ruby&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/s"><code>&lt;s&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/samp"><code>&lt;samp&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/small"><code>&lt;small&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/span"><code>&lt;span&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/strong"><code>&lt;strong&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/sub"><code>&lt;sub&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/sup"><code>&lt;sup&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/time"><code>&lt;time&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/u"><code>&lt;u&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/var"><code>&lt;var&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/wbr"><code>&lt;wbr&gt;</code></a></li>
</ul>
<p>As with other very common tags I was curious to get to the documentation for <code>&lt;a&gt;</code> to see if there was anything I was unaware of, or had been using incorrectly. I was surprised to discover that <code>&lt;a href="#"&gt;link&lt;/a&gt;</code> links to the top of the page after years as just using it as a placeholder when I didn’t know the URL yet.</p>
<p><code>&lt;abbr&gt;</code> seems likely to be the least used tag, especially because the MDN documentation doesn’t make a great case for it <q cite="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/abbr#default_styling">the purpose of this element is purely for the convenience of the author.</q></p>
<p>The distinction between <code>&lt;b&gt;</code> and <code>&lt;strong&gt;</code>, as the docs have it, is not what I had previously thought (that <code>&lt;strong&gt;</code> was the HTML5 replacement for <code>&lt;b&gt;</code>). I think the distinction is more nuanced and overlapping than the technical nature of the documentation is really able to convey. The way I will probably explain it to other people in the future is that, for the most part, you should use <code>&lt;b&gt;</code> for <b>single words</b> (or compound words), <strong>and <code>&lt;strong&gt;</code> for whole sentences or phrases</strong>. This is more a rule of thumb and bypasses the actual distinction. The documentation reads:</p>
<figure>
    <blockquote>
        The <code>&lt;strong&gt;</code> element is for content that is of greater importance, while the <code>&lt;b&gt;</code> element is used to draw attention to text without indicating that it’s more important.
    </blockquote>
    <figcaption>
        <cite><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/strong#b_vs._strong">MDN on “<code>&lt;b&gt;</code> vs. <code>&lt;strong&gt;</code>”</a></cite>
    </figcaption>
</figure>
<p>But I can’t think of many instances where I would want to draw attention to a word, where that word is not more important than other words. The recommendation seems to be from a reality where, for the most part, all words are of equal importance, but deserve different amounts of attention, which doesn’t seem very common.</p>
<p>I’ll probably think of <code>&lt;b&gt;</code> from now on as the HTML tag with a similar effect as the quotation marks used for “emphasis” you might see on signage that can cause intergenerational confusion.</p>
<p><code>&lt;bdi&gt;</code> is a tag for a concept that I hadn’t considered until now, text whose direction might (or might not) differ from the direction of the surrounding text. The examples on the documentation are all names, but could stand in for any user inputted text. In the future I will probably try to wrap any tags, like the ones controlled by the input below, that might contain arbitrary user inputted unicode characters in a <code>&lt;bdi&gt;</code> tag just to be safe.</p>

<p>Hello, <bdi id="bdi-name-display">&nbsp;&nbsp;&nbsp;&nbsp;</bdi>, thanks for reading!</p>



<p><code>&lt;bdo&gt;</code> I will probably use less often because I don’t work with RTL languages often, but it is still good to know how to handle small amounts of RTL text, like this link to the page for HTML on the Farsi Wikipedia: <a href="https://fa.wikipedia.org/wiki/%D8%A7%DA%86%E2%80%8C%D8%AA%DB%8C%E2%80%8C%D8%A7%D9%85%E2%80%8C%D8%A7%D9%84" target="_blank"><bdo dir="rtl">اچ‌تی‌ام‌ال</bdo></a>.</p>
<p><code>&lt;br&gt;</code> is interesting to me, because for a time (a long time ago) it seemed to be as misused as <code>&lt;div&gt;</code> has been recently, but, as CSS has gotten more robust that is probably less often the case; though I wonder if it is still taught early in HTML classes. It’s interesting that the example use case in the docs is poetry because it makes me wonder how the grey area between a paragraph and a standalone line was considered in creating the HTML spec. It also seems like a <code>&lt;pre&gt;</code> tag might be a better fit in some cases.</p>
<p><code>&lt;cite&gt;</code> and <code>&lt;q&gt;</code> are interesting because they try to add HTML semantic elements for meaning that is also conveyed by visible punctuation in most languages. It’s the kind of redundancy that underscores repetitiousness of working with computers (the default style for <cite>cite</cite> uses italics while <q cite="this is not really a quotation">q</q> adds quotation marks not in the text.).</p>
<p>I’ve clearly used many <code>&lt;code&gt;</code> elements in this post so far, but reading the documentation made me wonder whether the recently released Markdown support in Google Docs uses <code>&lt;code&gt;</code> for text, but on inspecting the HTML of a Doc, I remembered that <code>&lt;canvas&gt;</code> is used to render the document now.</p>
<p>Occasionally the MDN documentation examples are difficult to mentally translate to real-world use cases. <code>&lt;data&gt;</code> is one of these, where the ony examples show a <code>&lt;data&gt;</code> element with a <code>value</code> property with product IDs wrapped around product names In that case the IDs seem either, user facing, in which case it would probably be better to display them to the user, or non user facing, in which case, I’m not sure who the “data” is for. Interestingly, <code>&lt;data&gt;</code> doesn’t seem to appear in the <a href="https://www.w3.org/TR/2011/WD-html5-20110405/">W3C HTML5 specification</a>.</p>
<p><code>&lt;dfn&gt;</code> is another strange element because it seems like it is misnamed, as it wraps, not the definition of a term, but instead that term within the definition. It does <a href="http://www.martinrinehart.com/frontend-engineering/engineers/html/html-tag-history.html">only seem to have been part of the never officially adopted HTML 2.0 proposal</a>, and it exemplifies the academic nature of the early web. The <a href="http://www.martinrinehart.com/frontend-engineering/engineers/html/html-tag-history.html">HTML Tags: Past, Present, Proposed</a> page on martinrinehart.com defines <dfn title="Hyper Text Markup Language 2.0">HTML 2.0</dfn> as <q cite="http://www.martinrinehart.com/frontend-engineering/engineers/html/html-tag-history.html">There never was an HTML 2.0 standard, but these all shaped browser development in the late 20th century</q> with references to several RFC documents.</p>
<p><code>&lt;em&gt;</code> and <code>&lt;i&gt;</code> bring up similar usage questions as <code>&lt;b&gt;</code> and <code>&lt;strong&gt;</code>, but in my opinion with even more nuance, especially, as the documentation notes, with other more specific tags like <code>&lt;cite&gt;</code> that also by default italicize text in most browsers. The rule of thumb from above also for the most part fits here, <code>&lt;em&gt;</code> for single words, and <code>&lt;i&gt;</code> for sentences or phrases, though the examples in the documentation seem to mostly use <code>&lt;i&gt;</code> for drawing attention to potential confusion, as in, <q cite="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/em#i_vs._em">The word <i>the</i> is an article</q>.</p>
<p><code>&lt;kbd&gt;</code> is another tag that makes me wonder about the conceptual boundaries of the usage of the tag. It is intended for specifying keys on a computer keyboard, for example: to type the <code>&lt;</code> character used for (the non escaped) version of the tags in this post, I press <kbd>Shift</kbd> + <kbd>,</kbd> (the styles here on <code>&lt;kbd&gt;</code> are applied through custom CSS). But I’m curious if it would also be appropriate to put a <code>&lt;kbd&gt;</code> around something like <i>Right click</i> (in this case I used <code>&lt;i&gt;</code> instead).</p>
<p><code>&lt;mark&gt;</code> is interesting because it suggests a 2-way authoring web that was originally envisioned, but failed to come to fruition, with usage notes like, <q>Think of this like using a <mark>highlighter pen</mark> in a book to mark passages that you find of interest.</q> The yellow here is the default style in all major browsers.</p>
<p><code>&lt;rp&gt;</code>, <code>&lt;rt&gt;</code>, and <code>&lt;ruby&gt;</code> all relate to rendering <a href="https://en.wikipedia.org/wiki/Agate_(typography)">“ruby” or “agate” fonts</a>, which are the smallest legible text used in print. They are used in HTML to, <q>provide pronunciation, translation, or transliteration information for East Asian typography.</q> Because I don’t read any East Asian languages, I’ll use the same example as the MDN docs do below. Interestingly, <code>&lt;rp&gt;</code> is used to hide parentheses characters, which are included in the source. It’s surprising to me that there is an element to hide these characters in a very rare instance, but we still rely on CSS to <a href="https://www.scottohara.me/blog/2017/04/14/inclusively-hidden.html#hiding-content-visually">hide content visually</a> (but still show it to screen readers).</p>
<ruby>
漢 <rp>(</rp><rt>kan</rt><rp>)</rp>
字 <rp>(</rp><rt>ji</rt><rp>)</rp>
</ruby>
<p><code>&lt;s&gt;</code> is the strikethrough element, which should be used to indicate text that is not accurate or relevant, but was previously. Along with <code>&lt;menu&gt;</code> it is one of two elements (or <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/u#usage_notes">according to MDN 3 with <code>&lt;u&gt;</code></a>) that were <a href="http://www.martinrinehart.com/frontend-engineering/engineers/html/html-tag-history.html">deprecated in HTML 4.01, and un-deprecated and redefined in HTML5</a>. The redefinition changes the use of the tag from presentational, which should now be achieved with CSS, to relevant to the context of the text. However, some screen readers don’t announce the strikethrough, which seems potentially confusing. I’ve added the CSS recommended by the MDN docs to my website, so the strikethrough should be announced here.</p>
<ul>
  <li><s>HTML 3.0: <code>&lt;s&gt;</code> is used for presentation</s></li>
  <li>HTML 5: <code>&lt;s&gt;</code> is used for removed text</li>
</ul>
<p><code>&lt;samp&gt;</code> is another element I wasn’t aware of before reading the MDN docs. It is used for rendering the output of a computer program, which I had previously just used <code>&lt;code&gt;</code> for (I just updated my <a href="https://www.patrickweaver.net/blog/how-to-raspberry-pi-server/">Raspberry Pi blog post</a> to use <code>&lt;samp&gt;</code>). Another example is below:</p>
<figure>
<figcaption>A “Hello, World” program in JavaScript:</figcaption>
<code>
console.log("Hello, World")
</code>
<p>
<samp>
Hello, World
</samp></p></figure>
<p><code>&lt;small&gt;</code> is used to render smaller text, which is something I would usually have done with CSS. The MDN docs don’t provide much clarity about which strategy to use: <q>Authors are encouraged to use their best judgement when determining whether to use <code>&lt;small&gt;</code> or CSS.</q>. <small>I will probably continue to use CSS for the most part since the effect seems to be presentational for the most part.</small></p>
<p><code>&lt;span&gt;</code> is a very familiar element, but reading the documentation made me wonder for the first time why HTML and CSS allow contradictory element styles like a </p><p><code>&lt;div style="display: inline" /&gt;</code></p><p> or a <span><code>&lt;span style="display: block" /&gt;</code></span>. Though the <code>&lt;div&gt;</code> breaks the parent <code>&lt;p&gt;</code> tag, while the <code>&lt;span&gt;</code> does not.</p>
<p><code>&lt;sub&gt;</code> (used for footnotes here) and <code>&lt;sup&gt;</code> (used in the equation below) are more elements I probably have used the CSS implementations of previously (though it is appropriate for presentation only super or subscript.)</p>
<p><code>&lt;time&gt;</code> seems like a helpful element for creating semantic HTML, but even Google doesn’t seem to use it in <a href="https://www.google.com/search?q=%22Patrick+Weaver%22+%22HTML%22">search results</a>. I’ve updated the dates on my blog posts to use it.</p>
<p><code>&lt;u&gt;</code> has probably my favorite quote from the MDN docs, <q>Most of the time, you actually don’t want to use <code>&lt;u&gt;</code>.</q> Their strongest recommendation seems to be indicating <u>spellling</u> errors.</p>
<p><code>&lt;var&gt;</code> is a way to indicate semantically that a string is a variable for either math or programming. For example, rendering the pythagorean theorem uses both <code>&lt;var&gt;</code> and <code>&lt;sup&gt;</code>: <var>a</var><sup>2</sup> + <var>b</var><sup>2</sup> = <var>c</var><sup>2</sup>.</p>
<p><code>&lt;wbr&gt;</code> was also a new element until now, but it solves a problem I have hit many times before, breaking long “words” at certain points, specifically URLs. If I put a <code>&lt;wbr&gt;</code> element at clear break points in this URL: <a href="https://www.patrickweaver.net/pages/averylongurlwithoutanypunctuationbutstillmadeupofwords/">https://www.patrickweaver.net<wbr>/pages<wbr>/a<wbr>very<wbr>long<wbr>url<wbr>without<wbr>any<wbr>punctuation<wbr>but<wbr>still<wbr>made<wbr>up<wbr>of<wbr>words/</a> then it will break at clear points at different screen widths, which is is more readable compared to the same link without the <code>&lt;wbr&gt;</code> elements:</p>
<p><a href="https://www.patrickweaver.net/pages/averylongurlwithoutanypunctuationbutstillmadeupofwords/">https://www.patrickweaver.net/pages/averylongurlwithoutanypunctuationbutstillmadeupofwords/</a></p>
<p>Though including hyphen characters in the URL also creates clear breakpoints in modern browsers. I did have to wrap the URL above in a special scrollable <code>&lt;p&gt;</code> to prevent it from breaking the layout of the rest of the page.</p>
</section>
<section id="image-and-multimedia">
<h3>Image and Multimedia</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/area"><code>&lt;area&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio"><code>&lt;audio&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img"><code>&lt;img&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map"><code>&lt;map&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/track"><code>&lt;track&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a></li>
</ul>
<p><code>&lt;area&gt;</code> and <code>&lt;map&gt;</code> are elements that I hadn’t been familiar with previously, even though I had made a few image map type websites in the days before CSS 3. It seems like an indication of how seldom they are used these days that the tools for debugging the boundaries of <code>&lt;area&gt;</code> elements are hard to use. One <code>&lt;area&gt;</code> border at a time will display while using tab focus, but styling the elements does not work (unless there is a <code>display</code> hack I couldn’t figure out). It’s also somewhat strange that <code>&lt;area&gt;</code> is essentially an <code>&lt;a&gt;</code> with a shape.</p>
<p>Here’s a <code>&lt;map&gt;</code> (with <code>&lt;area&gt;</code>s on each tag linking to MDN) of a handwritten HTML document I made for June 3rd’s <a href="https://html.energy/events.html">HTML Day Freewrite</a> in SF.</p>
<figure>
<map name="park-html-map">
    <area shape="rect" coords="38 20 150 55" alt="HTML tag" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html">
    <area shape="rect" coords="32 62 143 98" alt="head tag" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head">
    <area shape="rect" coords="32 107 170 140" alt="title tag" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title">
    <area shape="rect" coords="28 195 195 230" alt="title closing tag" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title">
    <area shape="rect" coords="25 240 178 275" alt="head closing tag" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head">
    <area shape="rect" coords="22 287 130 325" alt="body tag" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/body">
    <area shape="rect" coords="201 285 297 320" alt="body closing tag" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/body">
    <area shape="rect" coords="30 334 160 374" alt="html tag" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html">
</map>
<img usemap="#park-html-map" src="https://www.patrickweaver.net/images/blog/html/park-html.jpg" alt="A processed photograph of handwritten HTML in a notebook">
</figure>
<p><code>&lt;audio&gt;</code> is one of the classic multimedia HTML 5 tags so I’ve used it before, but thinking about it now, it’s surprising I don’t see them more often in the 2020s. I would guess that there are more in use than I thought, for example, the <a href="https://bandcamp.com/">Bandcamp</a> player uses a hidden <code>&lt;audio&gt;</code> element even though the UI is a custom mix of <code>&lt;a&gt;</code> and <code>&lt;div&gt;</code>s inside a <code>&lt;table&gt;</code> oddly enough.</p>
<figure>

<figcaption>A recording of me reading the paragraph above. (Excuse my scratchy late night voice)</figcaption>
</figure>
<p><code>&lt;img&gt;</code> is of course one of the first elements I used, but I was curious what properties could be used with it that I might not have heard of. <code>srcset</code>, used for specifying multiple sizes of the same image to load at different screen resolutions, was one of those. I’ve created a demo below, which goes against the spirit of <code>srcset</code>.</p>
<p>The image below has 3 images provided to its <code>srcset</code> property:</p>
<ol>
<li>A yellow background and a monospace font that is 300 pixels wide and should render when the page is less than 520 pixels wide</li>
<li>A blue background and a serifed font that should render when the page is between 520 and 800 pixels wide</li>
<li>A green background and a script font that should render when the page is greater than 800 pixels wide.</li>
</ol>
<p><img src="https://www.patrickweaver.net/images/blog/html/srcset-700.png" srcset="https://www.patrickweaver.net/images/blog/html/srcset-300.png 300w, https://www.patrickweaver.net/images/blog/html/srcset-500.png 500w, https://www.patrickweaver.net/images/blog/html/srcset-700.png 700w" sizes="(max-width: 520px) 300px, (max-width: 800px) 500px, 700px" alt="A demo of the srcset property of the HTML <img> tag that loads different images at different sizes" id="image-with-srcset"></p>
<p>I have tested it, and it does work, but it takes a lot of forethought to make sure that you will be able to load the correct image. Things like the browser’s cache, and scaled displays will change the behavior. If you want to see the effect you will probably need to load the page in a private window on a non scaled or “retina” display.</p>
<p>It’s interesting that while both <code>&lt;audio&gt;</code> and <code>&lt;video&gt;</code> are less widely used than <code>&lt;img&gt;</code> even after their introduction in HTML 5, the distribution of videos online seems to be centralized, mostly on YouTube, while audio is more decentralized, with people serving individual files when distributing things like podcasts, even though the audio player that is often used is not on the web.</p>
<figure>
<video controls="" height="300" muted="" poster="https://www.patrickweaver.net/images/blog/html/audio-and-video-tags-poster.jpg" preload="metadata" width="495" id="audio-and-video-tags-video">
    <source src="https://www.patrickweaver.net/images/blog/html/audio-and-video-tags.mp4" type="video/mp4">
    <track default="" kind="captions" srclang="en" src="/images/blog/html/audio-and-video-tags.vtt">
    <a href="https://www.patrickweaver.net/images/blog/html/audio-and-video-tags.mp4"> Download the video</a>
</video>


<figcaption>A screen recording of my dev setup while writing the paragraph above. </figcaption>



</figure>
<p>One reason for this may be that there are still some quirks with <code>&lt;video&gt;</code> elements. For example, there is a <code>&lt;figcaption&gt;</code> accompanying the video above, but when I initially tried creating the element with a self closing tag it did not render. Also, as I’m writing this, Safari does not support the video at all, likely because of the development server I am using not supporting the “Range” request header. I am curious to find out whether the hosted version of the site (on GitHub pages) will support playing the video in Safari. I thought that I might have a similar issue with <code>&lt;track&gt;</code>, but that just turned out to be me not setting up my <a href="https://www.11ty.dev/">Eleventy</a> build correctly for <code>.vtt</code> files.</p>
</section>
<section id="embedded-content">
<h3>Embedded Content</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/embed"><code>&lt;embed&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object"><code>&lt;object&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture"><code>&lt;picture&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/portal"><code>&lt;portal&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source"><code>&lt;source&gt;</code></a></li>
</ul>
<p>It is somewhat surprising that <code>&lt;embed&gt;</code> and <code>&lt;object&gt;</code> have not been deprecated since most of their uses have been superseded by specific tags like <code>&lt;video&gt;</code> and <code>&lt;iframe&gt;</code>. Maybe eventually they will be, or they will just live on in the name of backwards compatibility.</p>
<p>Speaking of <code>&lt;iframe&gt;</code> it’s also interesting that the very 90s name “iframe” (“inline frame”, not “iPod Frame” or something, and I was surprised to learn does render <code>display: inline</code>) has survived while <code>&lt;frame&gt;</code> was deprecated in HTML 5. I thought that <code>&lt;iframe&gt;</code> might be a way to force the <code>&lt;img&gt;</code> <code>srcset</code> example above to render the smaller images on a high DPI display, but even at 150px wide on my device the large image still renders:</p>
<figure>

<figcaption>An embed of a page with just the srcset example  from above at 150px wide.
</figcaption></figure>
<p><code>&lt;picture&gt;</code> is a tag that is, with <code>&lt;source&gt;</code> actually intended for layout tricks like the <code>srcset</code> experiment I tried above, rendering different versions of an image in different situations. The image below should show an icon of a computer when used with a mouse/trackpad, or an icon of a phone when used with a touch screen (using the <code>pointer</code> media query to determine), and should fall back to an image of a red circle with a line through it when neither media query is appropriate. The responsive design developer tools in your browser should trick it, though interestingly, not when inspecting an element.</p>
<picture>
    <source srcset="https://www.patrickweaver.net/images/blog/html/no.png" media="(pointer:none)" type="image/png">
    <source srcset="https://www.patrickweaver.net/images/blog/html/phone.png" media="(pointer:coarse)" type="image/png">
    <source srcset="https://www.patrickweaver.net/images/blog/html/computer.png" media="(pointer:fine)" type="image/png">
    <img src="https://www.patrickweaver.net/images/blog/html/no.png" alt="an icon of a computer when used with a mouse/trackpad, an icon of a phone when used with a touch screen, or an image of a red circle with a line through otherwise">
</picture>
<p><code>&lt;portal&gt;</code> is one of the more mysterious sounding elements, and seems intended for the iPad-style link previews that I’ve seen implemented on some websites on hover, <a href="https://web.dev/hands-on-portals/">but also come with SPA-like performance benefits</a>. It unfortunately is still an experimental feature and isn’t (as of 2023) enabled by default in any browsers. It seems that it <a href="https://medium.com/swlh/portals-in-chrome-going-on-a-test-drive-66b16971fb19">used to be an available experimental flag in Chrome</a>, but today in 2023 it is not available at <a href="chrome://flags">chrome://flags</a>. I’ll include one below in case it works for future readers! I did try it in an very old Chromium version I still had installed. <code>&lt;portal&gt;</code> doesn’t seem to be part of the <a href="https://www.w3.org/TR/2011/WD-html5-20110405/">HTML 5 Spec</a>, I’m not sure why it’s included in the MDN documentation.</p>
<figure>
<portal id="pw-links-portal" src="https://www.patrickweaver.net/links/#links"></portal>
<figcaption>
A <code>&lt;portal&gt;</code> element that should display the <a href="https://www.patrickweaver.net/links/#links">“Links”</a> page on patrickweaver.net, if the feature is ever implemented in browsers.
</figcaption>
</figure>
</section>
<section id="svg-and-mathml">
<h3>SVG and MathML</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/svg"><code>&lt;svg&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/math"><code>&lt;math&gt;</code></a></li>
</ul>
<p>This is an interesting section of the documentation because it pairs one of the most ubiquitous elements with one of the most obscure. <code>&lt;svg&gt;</code> elements are everywhere, especially that tools like Figma and Sketch have made them easy to prototype and export. Pairing them with <code>&lt;math&gt;</code> in the documentation evokes a more artisanal, hand-crafted <code>&lt;svg&gt;</code> that is relatively uncommon these days. I’ve gone hand-crafted here and drawn some <code>&lt;svg&gt;</code> circles.</p>
<figure>
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" stroke="white" fill="white" width="200"><circle cx="50" cy="50" r="49" fill="red"></circle><circle cx="47" cy="50" r="42" fill="orange"></circle><circle cx="50" cy="53" r="35" fill="yellow"></circle><circle cx="55" cy="52" r="28" fill="green"></circle><circle cx="52" cy="48" r="21" fill="indigo"></circle><circle cx="54" cy="50" r="14" fill="blue"></circle><circle cx="52" cy="55" r="7" fill="violet"></circle></svg>
<figcaption>An svg that shows overlapping circles each with a different color of the rainbow.</figcaption>
</figure>
<p><code>&lt;math&gt;</code> is really a wrapper element for other non HTML elements from the <a href="https://www.w3.org/TR/MathML3/" target="_blank">MathML</a> namespace, so I guess I don’t have to include every possible child element here. I’ll stick to something simple: <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline"><mrow><mn>2</mn><mo>+</mo><mn>2</mn><mo>=</mo><mn>5</mn></mrow></math>
</p>
</section>
<section id="scripting">
<h3>Scripting</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas"><code>&lt;canvas&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/noscript"><code>&lt;noscript&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script"><code>&lt;script&gt;</code></a></li>
</ul>
<p>I did a deep dive into <code>&lt;canvas&gt;</code>, specifically <a href="https://doodles.patrickweaver.net/canvas-lines/">drawing crisp lines</a> in 2020 while I was at <a href="https://www.recurse.com/">Recurse Center</a>. One thing I wasn’t familiar with before reading the MDN docs though, was that there is a maximum size for a <code>&lt;canvas&gt;</code> element in each browser (though all modern browsers it is about 32 thousand pixels in each dimension). Below is a re-implementation of <code>&lt;marquee&gt;</code> with <code>&lt;canvas&gt;</code> and <code>&lt;script&gt;</code> (and <code>&lt;noscript&gt;</code>).</p>

<p><label for="toggleMarqueeButton">Start or Stop the fake <code>&lt;marquee&gt;</code>:</label>
</p>


<p>There were a lot of tags that I expected to feel a little out of date when I started this post, but <code>&lt;script&gt;</code> wasn’t one of them, but now that I have written most of the post, and have created a few <code>&lt;script&gt;</code> tags, I’m realizing how little I use them now. For most of the code that I write, even though most of it is JavaScript, all of the “scripting” gets put into on <code>&lt;script&gt;</code> tag by build tools and it ends up feeling more like boilerplate than a “markup” tag.</p>
<p>On the other hand, for most of the interactive websites I’ve made, I’ve rarely included a <code>&lt;noscript&gt;</code> tag with the exception of those minified and compiled single page apps where the user would likely get a blank page if it weren’t for the <code>&lt;noscript&gt;</code> tag (and even then, probably less often than I should have, though I’ve made sure to include one with every <code>&lt;script&gt;</code> tag here).</p>
</section>
<section id="demarcating-edits">
<h3>Demarcating Edits</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/del"><code>&lt;del&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ins"><code>&lt;ins&gt;</code></a></li>
</ul>
<p>Another set of <ins>new to me</ins> elements <del>I had never come across before</del> <ins>on</ins> reading the MDN documentation, <code>&lt;del&gt;</code> and <code>&lt;ins&gt;</code> seem to be intended for <del>creating</del> <ins>use in</ins> a word processor. Reading about them led to yet another round of, “<del>I wonder if these are used in rendering Google Docs?</del> <ins>Oh wait, it’s all <code>&lt;canvas&gt;</code></ins>.”</p>
</section>
<section id="table-content">
<h3>Table Content</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/caption"><code>&lt;caption&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col"><code>&lt;col&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup"><code>&lt;colgroup&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table"><code>&lt;table&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody"><code>&lt;tbody&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td"><code>&lt;td&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tfoot"><code>&lt;tfoot&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th"><code>&lt;th&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead"><code>&lt;thead&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr"><code>&lt;tr&gt;</code></a></li>
</ul>
<p>It’s not a new insight that <code>&lt;table&gt;</code> elements were overused for layout purposes on the early web, but an irony that I’m only realizing now is that recently, as the web has gotten more and more populated by data, that <code>&lt;table&gt;</code> elements have become rarely used, probably mostly due to their clunky default design, but probably also because one main goal of creating a web UI for the data that is otherwise probably stored in database tables, is to create a <i>different</i> view of the same data.</p>
<p>I don’t have any tabular data as this is an exclusively <em>document</em> based blog post, but below I’ve added a table with some custom CSS and “data” on emoji that is likely only accurate for the Apple emoji set in 2023. I wasn’t familiar with <code>&lt;col&gt;</code> and <code>&lt;colgroup&gt;</code> before, but I don’t know that there are many cases where I would use them rather than a more custom, non <code>&lt;table&gt;</code> design.</p>
<div>
<table id="weird-table">
    <caption>
        A table with a custom CSS
    </caption>
    <colgroup>
        <col>
        <col span="2">
        <col span="2">
        <col span="2">
    </colgroup>
    <thead>
        <tr>
            <th scope="row">Number</th>
            <th>1</th>
            <th>2</th>
            <th>3</th>
            <th>4</th>
            <th>5</th>
            <th>6</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="row">Emoji</th>
            <td>1️⃣</td>
            <td>2️⃣</td>
            <td>3️⃣</td>
            <td>4️⃣</td>
            <td>5️⃣</td>
            <td>6️⃣</td>
        </tr>
        <tr>
            <th scope="row">Emoji with leaves</th>
            <td rowspan="2">🥭</td>
            <td>🌱</td>
            <td>🍂</td>
            <td>🍀</td>
            <td>🪴</td>
            <td></td>
        </tr>
        <tr>
            <th scope="row">Emoji with fruit</th>
            <td>🍒</td>
            <td>🫐</td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <th scope="row">Emoji with slices</th>
            <td>🍰</td>
            <td>🥪</td>
            <td></td>
            <td>🥒</td>
            <td></td>
            <td></td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <th scope="row">Totals</th>
            <td>4</td>
            <td>4</td>
            <td>3</td>
            <td>3</td>
            <td>2</td>
            <td>1</td>
        </tr>
    </tfoot>
</table>
</div>
</section>
<section id="forms">
<h3>Forms</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button"><code>&lt;button&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/datalist"><code>&lt;datalist&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset"><code>&lt;fieldset&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form"><code>&lt;form&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input"><code>&lt;input&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label"><code>&lt;label&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend"><code>&lt;legend&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meter"><code>&lt;meter&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup"><code>&lt;optgroup&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option"><code>&lt;option&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/output"><code>&lt;output&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/progress"><code>&lt;progress&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select"><code>&lt;select&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea"><code>&lt;textarea&gt;</code></a></li>
</ul>
<p>I have usually used <code>&lt;form&gt;</code> and it’s associated elements when submitting the form would redirect to a new page, not for in-page user interaction, but either is valid. I would guess the form elements are probably the most important for accessibility so I will likely refer to the documentation whenever implementing one in the future.</p>
<p><label for="everything-form">Fill out this form and scroll down to get an emoji surprise below!</label></p>

<h4>Your emoji:</h4>
<output id="everything-output" form="everything-form" for="type-choice small-size-choice large-size-choice color-choice" name="everything-output"> </output>


</section>
<section id="interactive-elements">
<h3>Interactive Elements</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details"><code>&lt;details&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog"><code>&lt;dialog&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/summary"><code>&lt;summary&gt;</code></a></li>
</ul>
<p>The <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> combination is probably the most common, “You don’t need JavaScript to…” element (another <a href="https://catskull.net/html.html" target="_blank">popular blog</a> post making this point prompted me to finally finish this one). Making this kind of expand/collapse interactive view was one of the first things I used JavaScript for (it was probably jQuery). I remember it being somewhat confusing at the time (2006?), so it’s funny to me to see it so easy with just a couple HTML tags.</p>
<details>
  <summary>Speculation about <code>&lt;details&gt;</code></summary>
  <p>I do wonder if <code>&lt;details&gt;</code> and <code>&lt;summary&gt;</code> were being considered for the HTML spec today, if they would be withdrawn in favor of a similar effect using CSS.</p>
</details>
<p>I wasn’t aware of the HTML only <code>&lt;dialog&gt;</code> before using it here. It requires JavaScript to be useful beyond just its stylistic impact, but it’s an interesting way to create interactions that are more custom than <code>alert()</code>, but still simple, because while <code>alert()</code> is styled by the browser <code>&lt;dialog&gt;</code> can be styled with CSS.</p>
<dialog open="">
  <p>Guess who?!</p>
  
</dialog>
<pre id="palm-sheriff" role="img" aria-label="A sheriff whose body is made of palm trees.">       🤠
     🌴🌴🌴
   🌴  🌴  🌴
   👇 🌴 🌴 👇
　 　 🌴 🌴
　 　 🌴 🌴
　 　 👢 👢
  the palm sheriff
</pre>
</section>
<section id="web-components">
<h3>Web Components</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/slot"><code>&lt;slot&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template"><code>&lt;template&gt;</code></a></li>
</ul>
<p>Web components had been on a (long) list of “things I should learn more about” for a while, so I was glad to get to this section of the MDN documentation. I was surprised that JavaScript (and <code>Class</code> syntax at that) was necessary to get web components to render, but after reading more about the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_components/Using_shadow_DOM">Shadow DOM</a>, it makes sense, because HTML has no built in way to encapsulate styles, though it does seem to be somewhat similar conceptually to <code>&lt;iframe&gt;</code> elements.</p>
<p>I’ve used web components below to create a table of contents for this post below, though I’m not making the best use of them. One thing I couldn’t quickly figure out how to do, when compared to components from frontend frameworks, is pass in properties that are themselves used as properties of elements in the child template, so in the list below I have to pass a full <code>&lt;a&gt;</code> element into each child (which renders the <code>&lt;li&gt;</code>), to be able to set the correct <code>href</code> property. Someday after finishing this post I will read more about web components and maybe figure out something I’m missing now.</p>
<template id="table-of-contents-item">
    <li><slot name="emoji">✅</slot> <slot name="table-of-contents-link">End of List</slot>
</li></template>
<template id="table-of-contents">
    <style>
        .table-of-contents {
            border: 2px solid var(--text-2);
            border-radius: 5px;
            padding: 5px 10px;
            background: rgb(255,252,234);
            background: linear-gradient(324deg, rgba(255,252,234,1) 0%, rgba(249,239,255,1) 21%, rgba(255,239,231,1) 100%);
            display: inline-block;
            min-width: 300px;
            width: 80%;
            margin: 0 10%;
        }
        .table-of-contents h4 {
            margin: 0.5rem 0;
            font-size: 1.6rem;
            line-height: 1.8rem;
        }
    </style>
    <div class="table-of-contents">
        <h4>Table of Contents</h4>
        <ul>
            <table-of-contents-item>
                <span slot="emoji">📜</span>
                <a slot="table-of-contents-link" href="#main-root">Main Root</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">📑</span>
                <a slot="table-of-contents-link" href="#document-metadata">Document Metadata</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">📂</span>
                <a slot="table-of-contents-link" href="#sectioning-root">Sectioning Root</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">🗂</span>
                <a slot="table-of-contents-link" href="#content-sectioning">Content Sectioning</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">🔡</span>
                <a slot="table-of-contents-link" href="#text-content">Text Content</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">📝</span>
                <a slot="table-of-contents-link" href="#inline-text-semantics">Inline Text Semantics</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">🖼</span>
                <a slot="table-of-contents-link" href="#image-and-multimedia">Image and Multimedia</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">🪟</span>
                <a slot="table-of-contents-link" href="#embedded-content">Embedded Content</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">🧮</span>
                <a slot="table-of-contents-link" href="#svg-and-mathml">SVG and MathML</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">🪄</span>
                <a slot="table-of-contents-link" href="#scripting">Scripting</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">🛠</span>
                <a slot="table-of-contents-link" href="#demarcating-edits">Demarcating Edits</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">📦</span>
                <a slot="table-of-contents-link" href="#table-content">Table Content</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">📋</span>
                <a slot="table-of-contents-link" href="#forms">Forms</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">🛝</span>
                <a slot="table-of-contents-link" href="#interactive-elements">Interactive Elements</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">🕸</span>
                <a slot="table-of-contents-link" href="#web-components">Web Components</a>
            </table-of-contents-item>
            <table-of-contents-item>
                <span slot="emoji">📠</span>
                <a slot="table-of-contents-link" href="#"></a>
            </table-of-contents-item>
            <table-of-contents-item>
            </table-of-contents-item>
        </ul>
    </div>
</template>



</section>
<section id="obsolete-and-deprecated-elements">
<h3>Obsolete and Deprecated Elements</h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/acronym"><code>&lt;acronym&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/big"><code>&lt;big&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/center"><code>&lt;center&gt;</code></a></li>
<li><code>&lt;content&gt;</code></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dir"><code>&lt;dir&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/font"><code>&lt;font&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/frame"><code>&lt;frame&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/frameset"><code>&lt;frameset&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/image"><code>&lt;image&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/marquee"><code>&lt;marquee&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/menuitem"><code>&lt;menuitem&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/nobr"><code>&lt;nobr&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/noembed"><code>&lt;noembed&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/noframes"><code>&lt;noframes&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/param"><code>&lt;param&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/plaintext"><code>&lt;plaintext&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/rb"><code>&lt;rb&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/rtc"><code>&lt;rtc&gt;</code></a></li>
<li><code>&lt;shadow&gt;</code></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/strike"><code>&lt;strike&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tt"><code>&lt;tt&gt;</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/xmp"><code>&lt;xmp&gt;</code></a></li>
</ul>
<p>There are of course a few <big>deprecated</big> <acronym title="Hyper Text Markup Language">HTML</acronym> elements, so why not <span color="#2FCF6F" face="times" size="5">include</span> them here at the end.</p>
<p>Everyone’s favorite is of course,</p>
<center><code>&lt;marquee&gt;</code></center>
<p><marquee>Hello!</marquee></p>
<p>Many of the elements, like <code>&lt;big&gt;</code>, <code>&lt;acronym&gt;</code>, <code>&lt;font&gt;</code> (used above), <code>&lt;nobr&gt;</code> and <code>&lt;strike&gt;</code> are examples of layout related functionality that has been moved to CSS rather than <strike>have HTML handle it</strike>. The narrow box below has an example of <code>&lt;nobr&gt;</code>:</p>
<div id="nobr-box">
    <nobr>This sentence is wrapped in a <code>&lt;nobr&gt;</code>.</nobr>
    <p>This sentence is wrapped in a <code>&lt;p&gt;</code>.</p>
    <p>This sentence is wrapped in a <code>&lt;p&gt;</code> with <code>style="white-space: nowrap;"</code>.</p>
</div>
<p>There are some other strange ones as well though. I couldn’t implement <code>&lt;content&gt;</code> and <code>&lt;shadow&gt;</code> here because they were never fully implemented part of the web components spec. I’ll add some below anyway though.</p>
<figure>
<shadow></shadow>
<content></content>
<figcaption><code>&lt;shadow&gt;</code> and <code>&lt;content&gt;</code> elements (that won’t render).</figcaption>
</figure>
<p>And <code>&lt;dir&gt;</code> is a very <i>webserver</i> version of <code>&lt;ul&gt;</code> for listing directories. Since my Eleventy static site generator does use directories here’s a list:</p>
<dir>
    <li><a href="https://www.patrickweaver.net/blog">/blog</a></li>
    <li><a href="https://www.patrickweaver.net/css">/css</a></li>
    <li><a href="https://www.patrickweaver.net/images">/images</a></li>
    <li><a href="https://www.patrickweaver.net/notes">/notes</a></li>
    <li><a href="https://www.patrickweaver.net/pages">/pages</a></li>
    <li><a href="https://www.patrickweaver.net/portfolio">/portfolio</a></li>
</dir>
<p>Some of deprecated elements won’t render without some extra work, for example <code>&lt;frame&gt;</code> and <code>&lt;frameset&gt;</code> are designed to be used instead of a <code>&lt;body&gt;</code>, for I guess some kind of collage web page made up of other pages. I’ve ironically only been able to use them inside of an <code>&lt;iframe&gt;</code> below.</p>
<figure>

<figcaption>An embed of a <a href="https://www.patrickweaver.net/pages/frameset" target="_blank">page</a> with <code>&lt;frameset&gt;</code> and <code>&lt;frame&gt;</code> elements that itself embeds the Links page of this site.
</figcaption></figure>
<p>I expected that <code>&lt;image&gt;</code> wouldn’t work since the MDN documentation says:</p>
<blockquote cite="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/image">
    This does not appear to have been part of any formal specification. It was mentioned in HTML+ Discussion Document - Dave Raggett, November 8, 1993 (Section 5.9 - Images), but was not part of the first revision of HyperText Markup Language Specification - 2.0 in 1994.
</blockquote>
<p>But it does seem to work in some browsers in 2023, though this might be just a fallback for potential confusion with <code>&lt;img&gt;</code>.</p>
<p><img src="https://www.patrickweaver.net/images/blog/html/fax.png" width="100">An icon of a fax machine</p>
<p>One of the more interesting browser compatibility stories of the deprecated elements is <code>&lt;menuitem&gt;</code>, which supposedly was <a href="https://caniuse.com/?search=menuitem">partially supported in Firefox versions 8 - 84</a>, but I couldn’t get <a href="https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_menuitem">an example</a> to work in any of the older versions I installed locally (even with editing <code>about:config</code>). The examples imply that the <code>&lt;menu&gt;</code> (of <code>type=context</code>) and child <code>&lt;menuitem&gt;</code> elements shouldn’t render until the element whose <code>contextmenu</code> property is right clicked, but as you can see below, the items always render:</p>


<p>It’s surprising that <code>&lt;noembed&gt;</code>, essentially a <code>&lt;noscript&gt;</code> style fallback, was deprecated while <code>&lt;embed&gt;</code> was kept in the spec. Here’s my <code>&lt;embed&gt;</code> from above, but this time with a <code>&lt;noembed&gt;</code> child. There is also <code>&lt;noframes&gt;</code> which I included above with the <code>&lt;frame&gt;</code> element.</p>
<figure>
<noembed>An embed of a screen recording of my dev setup while writing the paragraph above.</noembed>
<figcaption>An <code>&lt;embed&gt;</code> with a <code>&lt;noembed&gt;</code> tag child.</figcaption>
</figure>
<p>It’s unclear why <code>&lt;param&gt;</code> ever existed instead of just using attributes on the <code>&lt;object&gt;</code> element. When I started this blog post <a href="https://web.archive.org/web/20220330125752/https://developer.mozilla.org/en-US/docs/Web/HTML/Element">it was listed in the “Embedding Content” section</a>, but by the time I finished it was deprecated. Here is one below:</p>
<figure>

<figcaption>An <code>&lt;object&gt;</code> with a <code>&lt;param&gt;</code> tag child.</figcaption>
</figure>
<p><code>&lt;plaintext&gt;</code> is another weird one, and notable among the deprecated elements in that it works. It is another one I am going to have to wrap in an <code>&lt;iframe&gt;</code> because otherwise the rest of the page would be rendered as the source code:</p>
<figure>

<figcaption>An embed of a <a href="https://www.patrickweaver.net/pages/plaintext-element/" target="_blank">page</a> with a <code>&lt;plaintext&gt;</code> element.
</figcaption></figure>
<p>However, <code>&lt;xmp&gt;</code> and <code>&lt;tt&gt;</code>, used in a similar way, have closing tags </p><xmp><span id="xmp-element">
so they can be used here for displaying source code
</span></xmp> or text in a monospace font<tt>
<span id="tt-element">as it would be shown on a teletype</span>
</tt> without an <code>&lt;iframe&gt;</code>.
<p>A few of the deprecated elements have just been replaced by newer additions to the spec. <code>&lt;rb&gt;</code> and <code>&lt;rtc&gt;</code> were used for displaying pronunciation of East Asian characters, but it seems like the spec was simplified. Here is the example from MDN:</p>
<p><ruby xml:lang="zh-Hant"><rbc><rb>馬</rb><rp>(</rp><rt>mǎ</rt><rp>)</rp><rb>來</rb><rp>(</rp><rt>lái</rt><rp>)</rp><rb>西</rb><rp>(</rp><rt>xī</rt><rp>)</rp><rb>亞</rb><rp>(</rp><rt>yà</rt><rp>)</rp></rbc><rtc xml:lang="en"><rp>(</rp><rt>Malaysia</rt><rp>)</rp></rtc></ruby></p>
</section>
<section id="other-elements">
<h3>Other Elements</h3>
<p>I consulted a few other lists of HTML tags after realizing that the <code>&lt;!-- comment --&gt;</code> tag wasn’t in my list from MDN (there’s one below this paragraph)</p>
<!-- The only reference to HTML comments on MDN seems to be in the web APIs section: https://developer.mozilla.org/en-US/docs/Web/API/Comment -->
<p>An <a href="https://web.archive.org/web/20130520111045/https://developer.mozilla.org/en-US/docs/Web/HTML/Element" target="_blank">older list from MDN in 2013</a> has elements like <code>&lt;blink&gt;</code>, and for accessibility reasons, <q cite="https://web.archive.org/web/20130520111045/https://developer.mozilla.org/en-US/docs/Web/HTML/Element">almost all browsers currently ignore this element.</q> I’ll add one hidden below if you can find a very old browser that supports it:</p>


<p>Also on the list is <code>&lt;spacer&gt;</code>, which doesn’t work in modern browsers and,</p>

<p>would now be done</p>

<p>with CSS.</p>
<p>Then there’s others like <code>&lt;bgsound&gt;</code> (<a href="https://web.archive.org/web/20131004002320/https://developer.mozilla.org/en-US/docs/Web/HTML/Element/bgsound" target="_blank">2013 docs</a>) that seems to have never been implemented (except maybe in Netscape?), but alludes to a vision for a much more <em>multimedia</em> enabled web documents, and <code>&lt;isindex&gt;</code> (<a href="https://web.archive.org/web/20130916195848/https://developer.mozilla.org/en-US/docs/Web/HTML/Element/isindex" target="_blank">2013 docs</a>) which seems like it is from a world where JavaScript doesn’t exist.</p>
<p>Another attempt at <code>&lt;xmp&gt;</code>, <code>&lt;tt&gt;</code>, <code>&lt;code&gt;</code> was</p>
<listing><span id="listing-child">listing</span></listing>
<p>I’m surprised it seems to still work!</p>
<p>And of course <code>&lt;applet&gt;</code>, but I’m not even going to try with that one.</p>
</section>
<h4>Footnotes</h4>
<ol>
    <li id="footnote-1"> <a href="#footnote-1-link">↑ Return to post</a></li>
</ol>


        </article>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OP drew these corals with mathematical equations (132 pts)]]></title>
            <link>https://twitter.com/naderi_yeganeh/status/1690296100496838656</link>
            <guid>37104264</guid>
            <pubDate>Sat, 12 Aug 2023 21:11:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/naderi_yeganeh/status/1690296100496838656">https://twitter.com/naderi_yeganeh/status/1690296100496838656</a>, See on <a href="https://news.ycombinator.com/item?id=37104264">Hacker News</a></p>
Couldn't get https://twitter.com/naderi_yeganeh/status/1690296100496838656: Error [ERR_FR_TOO_MANY_REDIRECTS]: Maximum number of redirects exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Auditory illusions with examples from Daft Punk (221 pts)]]></title>
            <link>https://www.ugu.rs/blog/auditory-illusions-with-samples-from-daft-punk/</link>
            <guid>37103802</guid>
            <pubDate>Sat, 12 Aug 2023 20:10:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ugu.rs/blog/auditory-illusions-with-samples-from-daft-punk/">https://www.ugu.rs/blog/auditory-illusions-with-samples-from-daft-punk/</a>, See on <a href="https://news.ycombinator.com/item?id=37103802">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
  <article>
    <header>
      
    </header>

    <p>Listening to Daft Punk every now and then is a never aging event for me. Their albums have a variety of musical diversity, and you can always enjoy their fairly repetitive songs on boring household activities. ‘One more time, we’re gonna celebrateh! Oh yeah, Don’t stop the washing!’ Well, one of the most influential electronic duos of the millennium had plenty of tricks in their bag to put into their music. Today, I will try to introduce three of them with examples.</p>
<h3 id="what-is-psychoacoustics">
  What is Psychoacoustics?
  <a href="#what-is-psychoacoustics">
    
    <span>Link to heading</span>
  </a>
</h3>
<p>Psychoacoustics is an area that includes sound perception and audiology. The area studies psychological responses to auditory events, and the field is as extensive as acoustics, psychology, sound and electronic engineering, physics, and biology. The human auditory system is a complex system that starts from our pinna (your visible ear) and continues to the ear canal, membrane, auditory ossicles, cochlea, lateral superior olive, and medial superior olivary and travels in your brain to hear what is vibrating over the air. Everything we experience has a processing time of milliseconds. Perhaps that shows how fast and strong the human brain is. Although we have such a capable auditory system, scientists have shown that our perception may play some tricks when it comes to audio recognition. And by that, I don’t mean the physical mechanism but psychologically induced ones. Those findings show that hearing is also cultural; different cultures may hear differently.</p>
<h3 id="continuity-effect--phonemic-restoration-effect">
  Continuity Effect &amp; Phonemic restoration effect
  <a href="#continuity-effect--phonemic-restoration-effect">
    
    <span>Link to heading</span>
  </a>
</h3>
<p>If a sound is interrupted by a noise with enough loudness in a short interval, we tend to hear the sound continuously. One can create gaps less than 200ms in a tone and fill those gaps with a particular noise which will hide the gaps for you. The shortness of duration combined with the noise, our brains tend to hear a continuous sound signal. Phonemic restoration slightly differs from the continuity effect. This time our brain “fills” the gaps of missing sounds. Our brain acts meddlesome in favor of increased intelligibility, even though the sound lacks information. We observe this phenomenon in the popular Daft Punk song: “Harder, Better, Faster, Stronger.” If you start listening around 2:20, you will experience the various cuts. (most noticeable around 2:50)</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/gAjR4_CbPpQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
<h3 id="the-octave-illusion-deutschs-octave-illusion">
  The Octave Illusion (Deutsch’s Octave Illusion)
  <a href="#the-octave-illusion-deutschs-octave-illusion">
    
    <span>Link to heading</span>
  </a>
</h3>
<p>The Octave Illusion is one of the most interesting psychoacoustic illusions, first discovered by Diana Deutsch in 1973. The illusion works as follows: Two tones, one with higher and one with lower pitch, play in our ears in an alternating fashion visualized as follows:</p>
<p><img src="https://www.ugu.rs/images/alternating.png" alt=""></p>
<p>There is one octave between the tones. If the alternation is short enough, you will hear the higher tone in one ear and the lower in the other. Your handedness plays a role here. Right-handed people tend to hear the higher pitch in the right ear. If you are left-handed or ambidexter your perception may vary. For this illusion, our example comes from the Discovery album. Open the song Aerodynamic and fast-forward to 2:28, start listening to the passage. I hear the higher pitch on my right and the lower one on my left ear. What about you?</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/L93-7vRfxNs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
<h3 id="talking-piano">
  Talking Piano
  <a href="#talking-piano">
    
    <span>Link to heading</span>
  </a>
</h3>
<p>This effect is the art of making the piano (or another instrument) speak! There are a number of examples of it, where people approximate human speech by converting it into fundamental frequencies and then playing the piano notes to reconstruct the atomic structures of speech. An interesting example you can find is <a href="https://ablinger.mur.at/docu11.html">here</a>. Even though the effect is named a talking piano, other instruments can speak as well. In their song “Robot Rock”, you can hear the guitar chords talking, as if they are singing the lyrics, ehm, Robot Rock!</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/sFZjqVnWBhc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
<h3 id="conclusion">
  Conclusion
  <a href="#conclusion">
    
    <span>Link to heading</span>
  </a>
</h3>
<p>There are more than three auditory illusions to present (<a href="https://www.youtube.com/watch?v=TVsMiSrlSSc">maybe more than 40</a>) and Daft Punk may have created songs including those illusions. It is evident that hearing is not just physical but also psychological. Speaking of psychology, does anyone know how do our feelings connect to music? Listening to Instant Crush, Veridis Quo, or Something About Us, you will most likely fall into a brown study. That is a phenomenon I can’t explain myself either.</p>
<p>Until next time,</p>

  </article>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tijuana's illegal sewer hookups linked to cross-border pollution (110 pts)]]></title>
            <link>https://www.kpbs.org/news/border-immigration/2023/08/10/tijuanas-illegal-sewer-hookups-linked-to-cross-border-pollution</link>
            <guid>37103793</guid>
            <pubDate>Sat, 12 Aug 2023 20:09:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.kpbs.org/news/border-immigration/2023/08/10/tijuanas-illegal-sewer-hookups-linked-to-cross-border-pollution">https://www.kpbs.org/news/border-immigration/2023/08/10/tijuanas-illegal-sewer-hookups-linked-to-cross-border-pollution</a>, See on <a href="https://news.ycombinator.com/item?id=37103793">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                                            
                                                <div>
        
            <p><span>
                
                    Contributors:
                
                <a href="https://www.kpbs.org/staff/charlotte-radulovich" aria-label="Charlotte Radulovich" data-cms-ai="0">Charlotte Radulovich</a> / Video Journalist
            </span>
        
    </p></div>
                                            
                                            <div><p>
        Published&nbsp;August 10, 2023 at 5:00 AM PDT
    </p>
    <meta content="2023-08-10T12:00:00Z">

                                            </div>
                                        </div><div>
                                        <div data-full-width="true" data-infobox="" data-align-center="">
    
    <p>This is part two of a two-part series. Read part one <a href="https://www.kpbs.org/news/border-immigration/2023/08/09/tijuana-is-crumbling-under-the-weight-of-its-population-growth" target="_blank" data-cms-ai="0">here.</a></p>


</div><p>Parque Baja California should be the ideal community park. Mature trees provide shade and benches give visitors a comfortable place to sit and feel the ocean breeze.</p><p>But running through the middle of the park is a drainage culvert with water flowing year round.</p><p>Martin Acosta recalls seeing a couple of kids jump into the water to retrieve a soccer ball there earlier this year. One of the kids said the water “smelled like doo-doo,” said Acosta, who is an architect and environmental activist.</p><p>“The kid was right, because that’s exactly what it is,” he said.</p><p>The sewer water in Parque Baja California is a microcosm of Tijuana’s failing infrastructure — an ongoing crisis with grave impacts on economies, quality of life and public health on both sides of the border.</p><p>Cross-border sewage is among the most critical issues facing the Tijuana-San Diego region. On the U.S. side, the problem is particularly acute in San Diego’s South Bay. The Environmental Protection Agency has <a href="https://www.kpbs.org/news/environment/2023/01/30/federal-funding-approved-to-fix-san-diegos-cross-border-pollution-problem" target="_blank" data-cms-ai="0"><u>a $630 million blueprint</u></a> for eliminating 95% of the contaminated cross-border flows.</p><p>While funding remains a question mark, the federal appropriations bill signed last December cleared the way for the EPA to transfer $300 million to the International Boundary and Water Commission for infrastructure projects.</p><p>The main sources of cross-border sewage are overburdened sewage treatment facilities prone to leaks and runoff from the Tijuana River after heavy rains.</p><p>Then there’s the type of contamination found at Parque Baja California. It doesn’t receive nearly as much attention as the other two, but it is in many respects the most difficult to control.</p><p>“People connect their sewer lines to the storm drain and we end up with wastewater running through those storm drain pipes,” said Carmen Romo, an environmental activist with the group Tijuana Calidad de Vida.</p><h3>A problem in plain sight</h3><p>It’s common to see — and smell — brown liquid coming from the city’s storm drain pipes. Even when it isn’t raining, Romo said. Much of that waste from homes and businesses flows directly into the Pacific Ocean and has contributed to Imperial Beach’s coastline being closed for 500 consecutive days over the past two years.</p><p>The problem is in plain sight in the Playas de Tijuana neighborhood, where dozens of storm drain pipes empty into the ocean. These pipes should be dry when it isn’t raining, but flow year-round.</p><p>“This is something that happens on a regular basis,” Romo said. “And through the coast, if you walk along, you’ll see several storm drains just pouring out sewage.”</p><p>Within the city, it is the poorest residents who are most impacted. In the Los Laureles neighborhood of Tijuana, trash and other debris block storm drain pipes leading to the Tijuana River. The result is pools of wastewater in the middle of residential neighborhoods.</p><p>This contamination exposes residents to a host of health problems, according to Rosario Zagarai, an activist with WildCoast. “They get skin infections, respiratory illnesses and gastrointestinal viruses,” she said.</p><p>Zagarai, Romo and other activists blame the lax regulatory environment. Part of the reason nothing gets done, they said, is that Tijuana runs the storm drain system while the state of Baja California manages the sewage system.</p><p>Whenever someone complains, the two governments point fingers at each other and nothing gets done, Romo said.</p><p>“It gets kind of complicated,” she said.</p><p>Consider that the state will only connect homes to the sewage system if property owners have official deeds. However, an estimated 40% of new construction in Tijuana is built without permits, which means the flow of sewage will continue to increase into the foreseeable future.</p><p>The Baja California state agency tasked with managing the wastewater system did not respond to questions. Tijuana officials, meanwhile, told KPBS they’re doing their part.</p><p>“We report each instance to the state agency and they inspect them,” said Juan Enrique Bautista Corona, director of Tijuana’s Urban Development Department.</p><div data-align-center="">
<figure>
    
        <picture>
    
    
        
    

    
    
        
    

    
    
        
    

    
    
        
            
                <source type="image/webp" width="880" height="542" data-srcset="https://cdn.kpbs.org/dims4/default/50612f6/2147483647/strip/true/crop/4337x2671+0+110/resize/1760x1084!/format/webp/quality/90/?url=http%3A%2F%2Fkpbs-brightspot.s3.amazonaws.com%2Fef%2F31%2F25223dc34b20840c85a96012e119%2Fmg-4287.jpg 2x" srcset="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgaGVpZ2h0PSI1NDJweCIgd2lkdGg9Ijg4MHB4Ij48L3N2Zz4=" data-size="articleImage">


    <source width="880" height="542" data-srcset="https://cdn.kpbs.org/dims4/default/fdad307/2147483647/strip/true/crop/4337x2671+0+110/resize/880x542!/quality/90/?url=http%3A%2F%2Fkpbs-brightspot.s3.amazonaws.com%2Fef%2F31%2F25223dc34b20840c85a96012e119%2Fmg-4287.jpg" srcset="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgaGVpZ2h0PSI1NDJweCIgd2lkdGg9Ijg4MHB4Ij48L3N2Zz4=" data-size="articleImage">


            

            <img alt="Trash and other debris blog storm drain pipes that carry contaminated water to the Tijuana River. " width="880" height="542" data-srcset="https://cdn.kpbs.org/dims4/default/4d52e56/2147483647/strip/true/crop/4337x2671+0+110/resize/1760x1084!/quality/90/?url=http%3A%2F%2Fkpbs-brightspot.s3.amazonaws.com%2Fef%2F31%2F25223dc34b20840c85a96012e119%2Fmg-4287.jpg 2x" data-src="https://cdn.kpbs.org/dims4/default/fdad307/2147483647/strip/true/crop/4337x2671+0+110/resize/880x542!/quality/90/?url=http%3A%2F%2Fkpbs-brightspot.s3.amazonaws.com%2Fef%2F31%2F25223dc34b20840c85a96012e119%2Fmg-4287.jpg" loading="lazy" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgaGVpZ2h0PSI1NDJweCIgd2lkdGg9Ijg4MHB4Ij48L3N2Zz4=">
        
    
</picture>
    

    
        <div>
            <div><p>Charlotte Radulovich </p>
                    </div><figcaption>Trash and other debris blog storm drain pipes that carry contaminated water to the Tijuana River. </figcaption></div>
    
</figure>
</div><h3>Drains packed with trash</h3><p>Bautista Corona said city workers have collected 6,000 tons of trash from storm drains over the last three years through a program that specifically targets big items like couches and refrigerators, he said.</p><p>The city has also launched public awareness campaigns to stop the public from dumping trash into the drains.</p><p>Conflicts between state and local governments are an old story in Mexico, according to Juan Manuel Rodriguez Esteves, a professor at El Colegio de la Frontera Norte.</p><p>“Both sides say the other isn’t doing enough,” he said.</p><p>He agrees lack of government action contributes to the problem, but Rodriguez Esteves believes some of the responsibility also falls on Tijuana’s residents. They have to take some responsibility for the illegal construction and trash dumping, he said.</p><p>“I don’t have a magical solution for this,” Rodriguez Esteves said. “There has to be communication between the city and state, communities have to organize themselves.”</p><p>A long-term solution requires sustained investment of millions of dollars into identifying every illegal connection and correcting it; as well as public awareness campaigns preventing new illegal connections, he said.</p><p>But Baja California’s political environment is a major obstacle to long-term plans because incoming mayoral and gubernatorial administrations rarely complete their predecessor’s projects.</p><p>“We start over every three years,” he said.</p>
                                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The US government is taking a step toward space-based nuclear propulsion (166 pts)]]></title>
            <link>https://arstechnica.com/space/2023/07/nasa-seeks-to-launch-a-nuclear-powered-rocket-engine-in-four-years/</link>
            <guid>37102610</guid>
            <pubDate>Sat, 12 Aug 2023 17:56:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/space/2023/07/nasa-seeks-to-launch-a-nuclear-powered-rocket-engine-in-four-years/">https://arstechnica.com/space/2023/07/nasa-seeks-to-launch-a-nuclear-powered-rocket-engine-in-four-years/</a>, See on <a href="https://news.ycombinator.com/item?id=37102610">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <h4>
      Fly fast    —
</h4>
            
            <h2 itemprop="description">"NASA is looking to go to Mars with this system." </h2>
                    </div><div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2023/07/draco-4-darpa-nasa-ussf-caption-800x448.jpg" alt="Artist concept of Demonstration for Rocket to Agile Cislunar Operations (DRACO) spacecraft, which will demonstrate a nuclear thermal rocket engine. ">
      <figcaption><p><a href="https://cdn.arstechnica.net/wp-content/uploads/2023/07/draco-4-darpa-nasa-ussf-caption-scaled.jpg" data-height="1432" data-width="2560">Enlarge</a> <span>/</span> Artist concept of Demonstration for Rocket to Agile Cislunar Operations (DRACO) spacecraft, which will demonstrate a nuclear thermal rocket engine. </p><p>DARPA</p></figcaption>  </figure>

  




<!-- cache hit 1:single/related:cf70dd9e43db7f2ca8fca4375d76f6c8 --><!-- empty -->
<p>Four years from now, if all goes well, a nuclear-powered rocket engine will launch into space for the first time. The rocket itself will be conventional, but the payload boosted into orbit will be a different matter.</p>
<p>NASA announced Wednesday that it is partnering with the US Department of Defense to launch a nuclear-powered rocket engine into space as early as 2027. The US space agency will invest about $300 million in the project to develop a next-generation propulsion system for in-space transportation.</p>
<p>"NASA is looking to go to Mars with this system," said Anthony Calomino, an engineer at NASA who is leading the agency's space nuclear propulsion technology program. "And this test is really going to give us that foundation."</p>
<h2>Back to the future</h2>
<p>Traditional chemical propulsion is great for blasting rockets off the surface of the Earth, but such machines are terribly inefficient for moving around the Solar System. They don't sip fuel; they guzzle it. To go as far as Mars would require a huge amount of propellant and liquid oxidizer and take at least six months. For humans to truly become a spacefaring species, there needs to be a better way.</p>
<p>Wernher von Braun, the German engineer who defected to the United States after World War II, recognized the potential of nuclear thermal propulsion even before his Saturn V rocket landed humans on the Moon with chemical propulsion. Eventually, this led to a project called NERVA (Nuclear Engine for Rocket Vehicle Application). It was eventually canceled to help pay for the Space Shuttle.</p>
<p>The basic idea is straightforward: A nuclear reactor rapidly heats up a propellant, probably liquid hydrogen, and then this gas expands and is passed out a nozzle, creating thrust. But engineering all of this for in-space propulsion is challenging, and then there is the regulatory difficulty of building a nuclear reactor and safely launching it into space.</p>                                            
                                                        
<p>And so nuclear thermal propulsion technology sat on the shelf for a long, long time. Finally, in 2020, the curious folks at the US Defense Advanced Research Projects Agency <a href="https://arstechnica.com/science/2020/06/the-us-military-is-getting-serious-about-nuclear-thermal-propulsion/">said they wanted to test</a> a flyable nuclear thermal propulsion system. This planted the seed for a program called the Demonstration Rocket for Agile Cislunar Operations (DRACO). The military was interested in efficiently moving payloads around Earth and the Moon—hence the inclusion of cislunar.</p>

<p>NASA later joined in, with the goal of developing similar technology for a Mars mission. The reason is obvious: A lot of <a href="https://arstechnica.com/science/2021/02/report-nasas-only-realistic-path-for-humans-on-mars-is-nuclear-propulsion/">scientists and engineers believe</a> that the only sustainable way to develop a Mars exploration program is through the use of nuclear propulsion.</p>
<h2>The plan forward</h2>
<p>On Wednesday, NASA and DARPA announced they had selected Lockheed Martin to serve as the primary contractor to assemble the experimental nuclear thermal reactor vehicle (X-NTRV) and its engine. BWX Technologies will be one of Lockheed Martin’s partners, and it will develop the nuclear reactor and fabricate the high-assay low-enriched uranium fuel to power the reactor.</p>
<p>The value of the award is $499 million, said Tabitha Dodson, program manager for the effort at DARPA, in a teleconference with reporters.</p>
<p>NASA will take the lead on developing the nuclear engine, and DARPA will oversee a host of other issues, from the nuclear regulatory requirements to the mission's operations and all analyses of the vehicle's safety. The nuclear reactor will launch in "cold" mode for safety reasons and will not be turned on until it reaches a sufficiently high orbit.</p>
<p>This final orbit has yet to be determined, but it is likely to be 700 to 2,000 km above the surface of the Earth, such that the vehicle's reentry into the planet's atmosphere will take place hundreds of years after any nuclear reactions occur.</p>                                            
                                                        
<p>The nuclear-powered vehicle will launch within the payload fairing of a Falcon 9 or Vulcan rocket, Dodson said, and look much the same as the upper stage of a conventional rocket. It will consist of a large hydrogen fuel tank, a nuclear reactor, a supporting spacecraft structure, and a nozzle. Once it reaches a safe orbit, the reactor will be turned on. The liquid hydrogen will then be heated from 20 Kelvin—just 20° Celsius above absolute zero—to 2,700 Kelvin in less than a second.</p>
<p>And then? Well, we'll see. There are some unknowns about the performance of a reactor and its uranium fuel in zero gravity.</p>
<p>"It's important to keep in mind that this is a demonstration engine," Dodson said. "And just like any other test of a rocket engine, NASA may need to do a series of follow-on engine development work in order to get closer to their perfect operational engine."</p>
<h2>Don’t forget about the hydrogen</h2>
<p>This experiment is exciting beyond just the testing of the nuclear engine. While plenty of new technology will go into developing a nuclear reactor that can operate in microgravity, a lot of effort will also go into managing the vehicle's liquid hydrogen propellant.</p>
<p>Until now, liquid hydrogen has only been successfully stored in space for days since it boils above the extremely cold temperature of 20 Kelvin. Dodson said this mission would attempt to store liquid hydrogen in its ultra-cold state for a couple of months, allowing enough time for multiple tests of the nuclear thermal engine.</p>
<p>After the propellant runs out, the engine will no longer be able to operate, even though mission controllers on the ground will still retain communication with the spacecraft. The mission could be extended if it could be robotically refueled, and Dodson said the spacecraft designers are attempting to allow for this possibility.</p>
<p>Perhaps NASA and DARPA will have learned enough by then, however, to move into the development of an operational engine that will fly somewhere.</p>

                                                </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tracing the roots of the 8086 instruction set to the Datapoint 2200 minicomputer (114 pts)]]></title>
            <link>https://www.righto.com/2023/08/datapoint-to-8086.html</link>
            <guid>37102482</guid>
            <pubDate>Sat, 12 Aug 2023 17:41:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.righto.com/2023/08/datapoint-to-8086.html">https://www.righto.com/2023/08/datapoint-to-8086.html</a>, See on <a href="https://news.ycombinator.com/item?id=37102482">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="post-body-4323009094331162834" itemprop="description articleBody">


<p>The Intel 8086 processor started the x86 architecture that is still extensively used today.
The 8086 has some quirky characteristics: it is little-endian, has a parity flag, and uses explicit I/O instructions
instead of just memory-mapped I/O.
It has four 16-bit registers that can be split into 8-bit registers, but only one that
can be used for memory indexing.
Surprisingly, the reason for these characteristics and more
is compatibility with a computer dating back before the creation of the microprocessor:
the Datapoint 2200, a minicomputer with a processor built out of TTL chips.
In this blog post, I'll look in detail at how the Datapoint 2200 led to the architecture of Intel's modern processors, step by step through the 8008, 8080, and 8086 processors.</p>
<!--
Some questions about the x86 architecture can be answered by looking at the historical roots of the 8086.
For instance, why is the 8086 little-endian?
Why does the 8086 have a parity flag?
Why does the 8086 provide explicit I/O instructions instead of just using memory-mapped I/O?
Why does the 8086 have four 16-bit registers that can be split into 8-bit registers?
Why does the 8086 use the BX register for memory indexing, but not AX, CX, or DX?
The answers to these questions can be found in a computer dating back before the creation of the microprocessor:
the Datapoint 2200, a minicomputer with a processor built out of TTL chips.
In this blog post, I'll look in detail at how the Datapoint 2200 led to the architecture of Intel's modern processors.
-->


<p>In the late 1960s, 80-column IBM punch cards were the primary way of entering data into computers, although
CRT terminals were growing in popularity.
The Datapoint 2200 was designed as a low-cost terminal that could replace a keypunch, with a squat CRT display
the size of a punch card.
By putting some processing power into the Datapoint 2200, it could perform data validation and other tasks,
making data entry more efficient.
Even though the Datapoint 2200 was typically used as an
<a href="https://worldradiohistory.com/Archive-Electronics/70s/70/Electronics-1970-08-31.pdf#page=116">intelligent terminal</a>,
it was really a desktop
<a href="https://archive.org/details/computerworld6197unse50/page/n12/mode/1up">minicomputer</a> with a "unique combination of powerful computer, display, and dual cassette drives."
Although now mostly forgotten, the Datapoint 2200 was the origin of the 8-bit microprocessor, as I'll explain below.</p>
<p><a href="https://static.righto.com/images/8086-datapoint/datapoint2200.jpg"><img alt="The Datapoint 2200 computer (Version II)." height="366" src="https://static.righto.com/images/8086-datapoint/datapoint2200-w500.jpg" title="The Datapoint 2200 computer (Version II)." width="500"></a></p><p>The Datapoint 2200 computer (Version II).</p>
<p>The memory storage of the Datapoint 2200 had a large impact on its architecture and thus the architecture of today's computers.
In the 1960s and early 1970s, magnetic core memory was the dominant form of computer storage.
It consisted of tiny ferrite rings, threaded into grids, with each ring storing one bit.
Magnetic core storage was bulky and relatively expensive, though.
Semiconductor RAM was new and very expensive; Intel's first product in 1969 was a RAM chip called the 3101, which held
just 64 bits and cost $99.50. 
To minimize storage costs, the Datapoint 2200 used an alternative: MOS shift-register memory.
The Intel 1405 shift-register memory chip provided much more storage than RAM chips at a much lower cost (512 bits for $13.30).<span id="fnref:shift-register"><a href="#fn:shift-register">1</a></span></p>
<p><a href="https://static.righto.com/images/8086-datapoint/intel1405.jpg"><img alt="Intel 1405 shift-register memory chips in metal cans, in the Datapoint 2200." height="373" src="https://static.righto.com/images/8086-datapoint/intel1405-w500.jpg" title="Intel 1405 shift-register memory chips in metal cans, in the Datapoint 2200." width="500"></a></p><p>Intel 1405 shift-register memory chips in metal cans, in the Datapoint 2200.</p>
<p>The big problem with shift-register memory is that it is sequential: the bits come out one at a time, in the same order you put them in.
This wasn't a problem when executing instructions sequentially, since the memory provided each instruction as it was needed.
For a random access, though, you need to wait until the bits circulate around and you get the one you want, which is very slow.
To minimize the number of memory accesses, the Datapoint 2200 had seven registers, a relatively large number of registers for the time.<span id="fnref:registers"><a href="#fn:registers">2</a></span>
The registers were called A, B, C, D, E, H, and L, and these names had a lasting impact on Intel processors.</p>
<p>Another consequence of shift-register memory was that the Datapoint 2200 was a serial computer, operating on one bit
at a time as the shift-register memory provided it, using a 1-bit ALU.
To handle arithmetic operations, the ALU needed to start with the lowest bit so it could process carries.
Likewise, a 16-bit value (such as a jump target) needed to start with the lowest bit.
This resulted in a little-endian architecture, with the low byte first.
The little-endian architecture has remained in Intel processors to the present.</p>
<p>Since the Datapoint 2200 was designed before the creation of the microprocessor, its processor was built from a board of TTL chips (as was typical for minicomputers at the time).
The diagram below shows the processor board with the chips categorized by function.
The board has a separate chip for each 8-bit register (<code>B</code>, <code>C</code>, <code>D</code>, etc.) and separate chips for control flags (<code>Z</code>, carry, etc.).
The Arithmetic/Logic Unit (ALU) takes about 18 chips, while instruction decoding is another 18 chips.
Because every feature required more chips, the designers of the Datapoint 2200 were strongly motivated to make
the instruction set as simple as possible.
This was necessary since 
the Datapoint 2200 was a low-cost device, renting for just <a href="https://archive.org/details/sim_computerworld_1971-07-14_5_28/page/18/mode/1up">$148</a> a month.
In contrast, the popular PDP-8 minicomputer rented for <a href="http://bitsavers.org/magazines/Computers_And_Automation/197101.pdf#page=55">$500 a month</a>.</p>
<p><a href="https://static.righto.com/images/8086-datapoint/datapoint-board.jpg"><img alt="The Datapoint 2200 processor board with registers, flags, and other blocks labeled. Click this image (or any other) for a larger version." height="448" src="https://static.righto.com/images/8086-datapoint/datapoint-board-w600.jpg" title="The Datapoint 2200 processor board with registers, flags, and other blocks labeled. Click this image (or any other) for a larger version." width="600"></a></p><p>The Datapoint 2200 processor board with registers, flags, and other blocks labeled. Click this image (or any other) for a larger version.</p>
<p>One way that the Datapoint 2200 simplified the hardware was by
creating a large set of instructions by combining simpler pieces in an orthogonal way.
For instance, the Datapoint 2200 has 64 ALU instructions that apply one of eight ALU operations to one of the eight registers.
This requires a small amount of hardware—eight ALU circuits and a circuit to select the register—but
provides a large number of instructions.
Another example is the register-to-register move instructions. Specifying one of eight source registers and one of
eight destination registers provides a large, flexible set of instructions to move data.</p>
<p>The Datapoint 2200's instruction format was designed around this principle, with groups of three bits specifying a
register. A common TTL chip could decode the group of three bits and activate the desired circuit.<span id="fnref:decoder"><a href="#fn:decoder">3</a></span>
For instance, a data move instruction had the bit pattern <code>11DDDSSS</code> to move a byte from the specified source (SSS) to the specified destination (DDD).
(Note that this bit pattern maps onto three octal digits very nicely since the source and destination are separate digits.<span id="fnref:octal"><a href="#fn:octal">4</a></span>)</p>
<p>One unusual feature of the Datapoint instruction set is that a memory access was just like a register access.
That is, an instruction could specify one of the seven physical registers or could specify a memory access (<code>M</code>),
using the identical instruction format.
One consequence of this is that you couldn't include a memory address in an instruction.
Instead, memory could only be accessed by first loading the address into the <code>H</code> and <code>L</code> registers, which held the high and
low byte of the address respectively.<span id="fnref:hl"><a href="#fn:hl">5</a></span>
This is very unusual and inconvenient, since a memory access took three instructions: two to load the <code>H</code> and <code>L</code> registers and one to access memory as the <code>M</code> "register".
The advantage was that it simplified the instruction set and the decoding logic, saving chips and thus reducing
the system cost.
This decision also had lasting impact on Intel processors and how they access memory.</p>
<p>The table below shows the Datapoint 2200's instruction set in an octal table showing the 256 potential opcodes.<span id="fnref:octaltable"><a href="#fn:octaltable">6</a></span>
I have roughly classified the instructions as arithmetic/logic (purple), control-flow (blue), data movement (green),
input/output (orange), and miscellaneous (yellow).
Note how the orthogonal instruction format produces large blocks of related instructions.
The instructions in the lower right (green) load (<code>L</code>) a value from a source to a destination.
(The no-operation <code>NOP</code> and <code>HALT</code> instructions are special cases.<span id="fnref:nop"><a href="#fn:nop">7</a></span>)
In the upper-left are Load operations (<code>LA</code>, etc.) that use an "immediate" byte, a data byte that follows the instruction.
They use the same <code>DDD</code> code to specify the destination register, reusing that circuitry.</p>


<table>
<tbody><tr><th>&nbsp;</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th></tr>
<tr><th>0</th><td>HALT</td><td>HALT</td><td>SLC</td><td>RFC</td><td>AD</td><td>&nbsp;</td><td>LA</td><td>RETURN</td><td>JFC</td><td>INPUT</td><td>CFC</td><td>&nbsp;</td><td>JMP</td><td>&nbsp;</td><td>CALL</td><td>&nbsp;</td></tr>
<tr><th>1</th><td>&nbsp;</td><td>&nbsp;</td><td>SRC</td><td>RFZ</td><td>AC</td><td>&nbsp;</td><td>LB</td><td>&nbsp;</td><td>JFZ</td><td>&nbsp;</td><td>CFZ</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><th>2</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>RFS</td><td>SU</td><td>&nbsp;</td><td>LC</td><td>&nbsp;</td><td>JFS</td><td>EX ADR</td><td>CFS</td><td>EX STATUS</td><td>&nbsp;</td><td>EX DATA</td><td>&nbsp;</td><td>EX WRITE</td></tr>
<tr><th>3</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>RFP</td><td>SB</td><td>&nbsp;</td><td>LD</td><td>&nbsp;</td><td>JFP</td><td>EX COM1</td><td>CFP</td><td>EX COM2</td><td>&nbsp;</td><td>EX COM3</td><td>&nbsp;</td><td>EX COM4</td></tr>
<tr><th>4</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>RTC</td><td>ND</td><td>&nbsp;</td><td>LE</td><td>&nbsp;</td><td>JTC</td><td>&nbsp;</td><td>CTC</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><th>5</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>RTZ</td><td>XR</td><td>&nbsp;</td><td>LH</td><td>&nbsp;</td><td>JTZ</td><td>EX BEEP</td><td>CTZ</td><td>EX CLICK</td><td>&nbsp;</td><td>EX DECK1</td><td>&nbsp;</td><td>EX DECK2</td></tr>
<tr><th>6</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>RTS</td><td>OR</td><td>&nbsp;</td><td>LL</td><td>&nbsp;</td><td>JTS</td><td>EX RBK</td><td>CTS</td><td>EX WBK</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>EX BSP</td></tr>
<tr><th>7</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>RTP</td><td>CP</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>JTP</td><td>EX SF</td><td>CTP</td><td>EX SB</td><td>&nbsp;</td><td>EX REWND</td><td>&nbsp;</td><td>EX TSTOP</td></tr>
<tr><th>0</th><td>ADA</td><td>ADB</td><td>ADC</td><td>ADD</td><td>ADE</td><td>ADH</td><td>ADL</td><td>ADM</td><td>NOP</td><td>LAB</td><td>LAC</td><td>LAD</td><td>LAE</td><td>LAH</td><td>LAL</td><td>LAM</td></tr>
<tr><th>1</th><td>ACA</td><td>ACB</td><td>ACC</td><td>ACD</td><td>ACE</td><td>ACH</td><td>ACL</td><td>ACM</td><td>LBA</td><td>LBB</td><td>LBC</td><td>LBD</td><td>LBE</td><td>LBH</td><td>LBL</td><td>LBM</td></tr>
<tr><th>2</th><td>SUA</td><td>SUB</td><td>SUC</td><td>SUD</td><td>SUE</td><td>SUH</td><td>SUL</td><td>SUM</td><td>LCA</td><td>LCB</td><td>LCC</td><td>LCD</td><td>LCE</td><td>LCH</td><td>LCL</td><td>LCM</td></tr>
<tr><th>3</th><td>SBA</td><td>SBB</td><td>SBC</td><td>SBD</td><td>SBE</td><td>SBH</td><td>SBL</td><td>SBM</td><td>LDA</td><td>LDB</td><td>LDC</td><td>LDD</td><td>LDE</td><td>LDH</td><td>LDL</td><td>LDM</td></tr>
<tr><th>4</th><td>NDA</td><td>NDB</td><td>NDC</td><td>NDD</td><td>NDE</td><td>NDH</td><td>NDL</td><td>NDM</td><td>LEA</td><td>LEB</td><td>LEC</td><td>LED</td><td>LEE</td><td>LEH</td><td>LEL</td><td>LEM</td></tr>
<tr><th>5</th><td>XRA</td><td>XRB</td><td>XRC</td><td>XRD</td><td>XRE</td><td>XRH</td><td>XRL</td><td>XRM</td><td>LHA</td><td>LHB</td><td>LHC</td><td>LHD</td><td>LHE</td><td>LHH</td><td>LHL</td><td>LHM</td></tr>
<tr><th>6</th><td>ORA</td><td>ORB</td><td>ORC</td><td>ORD</td><td>ORE</td><td>ORH</td><td>ORL</td><td>ORM</td><td>LLA</td><td>LLB</td><td>LLC</td><td>LLD</td><td>LLE</td><td>LLH</td><td>LLL</td><td>LLM</td></tr>
<tr><th>7</th><td>CPA</td><td>CPB</td><td>CPC</td><td>CPD</td><td>CPE</td><td>CPH</td><td>CPL</td><td>CPM</td><td>LMA</td><td>LMB</td><td>LMC</td><td>LMD</td><td>LME</td><td>LMH</td><td>LML</td><td>HALT</td></tr>
</tbody></table>

<p>The lower-left quadrant (purple) has the bulk of the ALU instructions.
These instructions have a regular, orthogonal structure making the instructions easy to decode: each row specifies the operation while each column
specifies the source.
This is due to the instruction structure:
eight bits in the pattern <code>10AAASSS</code>, where the <code>AAA</code> bits specified the
ALU operation and the <code>SSS</code> bits specified the register source.
The three-bit ALU code specifies the operations
Add, Add with Carry, Subtract, Subtract with Borrow, logical AND, logical XOR, logical OR,
and Compare.
This list is important because it defined the fundamental ALU operations for later Intel processors.<span id="fnref:alu"><a href="#fn:alu">8</a></span>
In the upper-left are ALU operations that use an "immediate" byte.
These instructions use the same <code>AAA</code> bit pattern to select the ALU operation, reusing the decoding hardware.
Finally, the shift instructions <code>SLC</code> and <code>SRC</code> are implemented as special cases outside the pattern.</p>
<p>The upper columns contain conditional instructions in blue—Return, Jump, and Call.
The eight conditions test the four status flags (Carry, Zero, Sign, and Parity) for either True or False.
(For example, <code>JFZ</code> Jumps if the Zero flag is False.)
A 3-bit field selects the condition, allowing it to be easily decoded in hardware.
The parity flag is somewhat unusual because parity is surprisingly expensive to compute in hardware,
but because the Datapoint 2200 operated as a terminal, parity computation was important.</p>
<p>The Datapoint 2200 has an input instruction as well as many output instructions for a variety of specific hardware tasks 
(orange, labeled <code>EX</code> for external).
Typical operations are <code>STATUS</code> to get I/O status, <code>BEEP</code> and <code>CLICK</code> to make sound, and <code>REWIND</code> to rewind the tape.
As a result of this decision to use separate I/O instructions, Intel processors still use I/O instructions operating in
an I/O space, different from processors such as the MOS 6502 and the Motorola 68000 that used memory-mapped I/O.</p>
<p>To summarize, the Datapoint 2200 has a fairly large number of instructions, but they are generated from about a dozen simple patterns that are easy to decode.<span id="fnref:risc"><a href="#fn:risc">9</a></span>
By combining orthogonal bit fields (e.g. 8 ALU opererations multiplied by 8 source registers), 64 instructions
can be generated from one underlying pattern.</p>
<h2>Intel 8008</h2>
<p>The Intel 8008 was created as a clone of the Datapoint 2200 processor.<span id="fnref:4004"><a href="#fn:4004">10</a></span>
Around the end of 1969, the Datapoint company talked with
Intel and Texas Instruments about the possibility of replacing the processor board with a single chip.
Even though the microprocessor didn't exist at this point, both companies said they could create such a chip.
Texas Instruments was first with a chip called the TMX 1795 that they <a href="https://archive.org/details/bitsavers_ElectronicignV19N1219710610_71671761/page/n37/mode/2up">advertised</a> as a "CPU on a chip".
Slightly later, Intel produced the 8008 microprocessor.
Both chips copied the Datapoint 2200's instruction set architecture with minor changes.</p>
<p><a href="https://static.righto.com/images/8086-datapoint/Intel_C8008.jpg"><img alt="The Intel 8008 chip in its 18-pin package. The small number of pins hampered the performance of the 8008, but Intel was hesitant to even go to the 18-pin package. Photo by Thomas Nguyen, (CC BY-SA 4.0)." height="216" src="https://static.righto.com/images/8086-datapoint/Intel_C8008-w350.jpg" title="The Intel 8008 chip in its 18-pin package. The small number of pins hampered the performance of the 8008, but Intel was hesitant to even go to the 18-pin package. Photo by Thomas Nguyen, (CC BY-SA 4.0)." width="350"></a></p><p>The Intel 8008 chip in its 18-pin package. The small number of pins hampered the performance of the 8008, but Intel was hesitant to even go to the 18-pin package. Photo by <a href="https://commons.wikimedia.org/wiki/File:Intel_C8008.jpg">Thomas Nguyen</a>, <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" <="" a="">(CC BY-SA 4.0)</a>.</p>
<p>By the time the chips were completed, however, the Datapoint corporation had lost interest in the chips. They were designing a much faster
version of the Datapoint 2200 with improved TTL chips (including the well-known <a href="https://www.righto.com/2017/01/die-photos-and-reverse-engineering.html">74181 ALU chip</a>).
Even the original Datapoint 2200 model was faster than the Intel 8008 processor, and the Version II was over 5 times faster,<span id="fnref:version2"><a href="#fn:version2">11</a></span>
so moving to a single-chip processor would be a step backward.</p>
<p>Texas Instruments unsuccessfully tried to find a customer for their TMX 1795 chip and ended up abandoning the chip.
Intel, however, marketed the 8008 as an 8-bit microprocessor, essentially creating the microprocessor industry.
In my view, Intel's biggest innovation with the microprocessor wasn't creating a single-chip CPU, 
but creating the microprocessor as a product category: a general-purpose processor along with everything customers
needed to take advantage of it.
Intel put an enormous amount of effort into making microprocessors a success:
from documentation and customer training to <a href="https://en.wikipedia.org/wiki/Intellec">Intellec</a> development systems,
from support chips to software tools such as assemblers, compilers, and operating systems.</p>
<p>The table below shows the opcodes of the 8008.
For the most part, the 8008 copies the Datapoint 2200, with identical instructions that have identical opcodes (in color).
There are a few additional instructions (shown in white), though.
Intel Designer Ted Hoff realized that increment and decrement instructions (<code>IN</code> and <code>DC</code>) would be very useful for loops.
There are two additional bit rotate instructions (RAL and RAL) as well as the "missing" LMI (Load Immediate to Memory)
instruction.
The <code>RST</code> (restart) instructions act as short call instructions to fixed addresses for 
interrupt handling.
Finally, the 8008 turned the Datapoint 2200's device-specific I/O instructions into 32 generic I/O instructions.</p>
<table>
<tbody><tr><th>&nbsp;</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th></tr>
<tr><th>0</th><td>HLT</td><td>HLT</td><td>RLC</td><td>RFC</td><td>ADI</td><td>RST 0</td><td>LAI</td><td>RET</td><td>JFC</td><td>INP 0</td><td>CFC</td><td>INP 1</td><td>JMP</td><td>INP 2</td><td>CAL</td><td>INP 3</td></tr>
<tr><th>1</th><td>INB</td><td>DCB</td><td>RRC</td><td>RFZ</td><td>ACI</td><td>RST 1</td><td>LBI</td><td>&nbsp;</td><td>JFZ</td><td>INP 4</td><td>CFZ</td><td>INP 5</td><td>&nbsp;</td><td>INP 6</td><td>&nbsp;</td><td>INP 7</td></tr>
<tr><th>2</th><td>INC</td><td>DCC</td><td>RAL</td><td>RFS</td><td>SUI</td><td>RST 2</td><td>LCI</td><td>&nbsp;</td><td>JFS</td><td>OUT 8</td><td>CFS</td><td>OUT 9</td><td>&nbsp;</td><td>OUT 10</td><td>&nbsp;</td><td>OUT 11</td></tr>
<tr><th>3</th><td>IND</td><td>DCD</td><td>RAR</td><td>RFP</td><td>SBI</td><td>RST 3</td><td>LDI</td><td>&nbsp;</td><td>JFP</td><td>OUT 12</td><td>CFP</td><td>OUT 13</td><td>&nbsp;</td><td>OUT 14</td><td>&nbsp;</td><td>OUT 15</td></tr>
<tr><th>4</th><td>INE</td><td>DCE</td><td>&nbsp;</td><td>RTC</td><td>NDI</td><td>RST 4</td><td>LEI</td><td>&nbsp;</td><td>JTC</td><td>OUT 16</td><td>CTC</td><td>OUT 17</td><td>&nbsp;</td><td>OUT 18</td><td>&nbsp;</td><td>OUT 19</td></tr>
<tr><th>5</th><td>INH</td><td>DCH</td><td>&nbsp;</td><td>RTZ</td><td>XRI</td><td>RST 5</td><td>LHI</td><td>&nbsp;</td><td>JTZ</td><td>OUT 20</td><td>CTZ</td><td>OUT 21</td><td>&nbsp;</td><td>OUT 22</td><td>&nbsp;</td><td>OUT 23</td></tr>
<tr><th>6</th><td>INL</td><td>DCL</td><td>&nbsp;</td><td>RTS</td><td>ORI</td><td>RST 6</td><td>LLI</td><td>&nbsp;</td><td>JTS</td><td>OUT 24</td><td>CTS</td><td>OUT 25</td><td>&nbsp;</td><td>OUT 26</td><td>&nbsp;</td><td>OUT 27</td></tr>
<tr><th>7</th><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>RTP</td><td>CPI</td><td>RST 7</td><td>LMI</td><td>&nbsp;</td><td>JTP</td><td>OUT 28</td><td>CTP</td><td>OUT 29</td><td>&nbsp;</td><td>OUT 30</td><td>&nbsp;</td><td>OUT 31</td></tr>
<tr><th>0</th><td>ADA</td><td>ADB</td><td>ADC</td><td>ADD</td><td>ADE</td><td>ADH</td><td>ADL</td><td>ADM</td><td>NOP</td><td>LAB</td><td>LAC</td><td>LAD</td><td>LAE</td><td>LAH</td><td>LAL</td><td>LAM</td></tr>
<tr><th>1</th><td>ACA</td><td>ACB</td><td>ACC</td><td>ACD</td><td>ACE</td><td>ACH</td><td>ACL</td><td>ACM</td><td>LBA</td><td>LBB</td><td>LBC</td><td>LBD</td><td>LBE</td><td>LBH</td><td>LBL</td><td>LBM</td></tr>
<tr><th>2</th><td>SUA</td><td>SUB</td><td>SUC</td><td>SUD</td><td>SUE</td><td>SUH</td><td>SUL</td><td>SUM</td><td>LCA</td><td>LCB</td><td>LCC</td><td>LCD</td><td>LCE</td><td>LCH</td><td>LCL</td><td>LCM</td></tr>
<tr><th>3</th><td>SBA</td><td>SBB</td><td>SBC</td><td>SBD</td><td>SBE</td><td>SBH</td><td>SBL</td><td>SBM</td><td>LDA</td><td>LDB</td><td>LDC</td><td>LDD</td><td>LDE</td><td>LDH</td><td>LDL</td><td>LDM</td></tr>
<tr><th>4</th><td>NDA</td><td>NDB</td><td>NDC</td><td>NDD</td><td>NDE</td><td>NDH</td><td>NDL</td><td>NDM</td><td>LEA</td><td>LEB</td><td>LEC</td><td>LED</td><td>LEE</td><td>LEH</td><td>LEL</td><td>LEM</td></tr>
<tr><th>5</th><td>XRA</td><td>XRB</td><td>XRC</td><td>XRD</td><td>XRE</td><td>XRH</td><td>XRL</td><td>XRM</td><td>LHA</td><td>LHB</td><td>LHC</td><td>LHD</td><td>LHE</td><td>LHH</td><td>LHL</td><td>LHM</td></tr>
<tr><th>6</th><td>ORA</td><td>ORB</td><td>ORC</td><td>ORD</td><td>ORE</td><td>ORH</td><td>ORL</td><td>ORM</td><td>LLA</td><td>LLB</td><td>LLC</td><td>LLD</td><td>LLE</td><td>LLH</td><td>LLL</td><td>LLM</td></tr>
<tr><th>7</th><td>CPA</td><td>CPB</td><td>CPC</td><td>CPD</td><td>CPE</td><td>CPH</td><td>CPL</td><td>CPM</td><td>LMA</td><td>LMB</td><td>LMC</td><td>LMD</td><td>LME</td><td>LMH</td><td>LML</td><td>HLT</td></tr>
</tbody></table>

<h2>Intel 8080</h2>
<p>The 8080 improved the 8008 in many ways, focusing on speed and ease of use, and resolving customer issues with the 8008.<span id="fnref:faggin"><a href="#fn:faggin">12</a></span>
Customers had criticized the 8008 for its small memory capacity, low speed, and difficult hardware interfacing.
The 8080 increased memory capacity from 16K to 64K and
was over an order of magnitude faster than the 8008.
The 8080 also moved to a 40-pin package that made interfacing easier, but the 8080 still required a large number of
support chips to build a working system.</p>
<p>Although the 8080 was widely used in embedded systems, it is more famous for its use in
the first generation of home computers, boxes such as the Altair and IMSAI.
Famed chip designer Federico Faggin <a href="https://arct hive.org/details/byte-magazine-1992-03/page/n175/mode/2up">said</a> that the
8080 really created the microprocessor; the 4004 and 8008 suggested it, but the 8080 made it real.<span id="fnref:usable"><a href="#fn:usable">13</a></span></p>
<p><a href="https://static.righto.com/images/8086-datapoint/Altair_8800.jpg"><img alt="Altair 8800 computer on display at the Smithsonian. Photo by Colin Douglas, (CC BY-SA 2.0)." height="250" src="https://static.righto.com/images/8086-datapoint/Altair_8800-w500.jpg" title="Altair 8800 computer on display at the Smithsonian. Photo by Colin Douglas, (CC BY-SA 2.0)." width="500"></a></p>
<p>The table below shows the instruction set for the 8080.
The 8080 was designed to be compatible with 8008 assembly programs after a simple translation process;
the instructions have been shifted around and the names have changed.<span id="fnref:8080-shift"><a href="#fn:8080-shift">15</a></span>
The instructions from the Datapoint 2200 (colored) form the majority of the 8080's instruction set.
The instruction set was expanded by adding some 16-bit support, allowing register pairs (<code>BC</code>, <code>DE</code>, <code>HL</code>) to be used as 16-bit registers for
double add, 16-bit increment and decrement, and 16-bit memory transfers.
Many of the new instructions in the 8080 may seem like contrived special cases—
for example, <code>SPHL</code> (Load <code>SP</code> from <code>HL</code>) and <code>XCHG</code> (Exchange <code>DE</code> and <code>HL</code>)—
but they made accesses to memory easier.
The I/O instructions from the 8008 have been condensed to just IN and OUT, opening up room for new instructions.</p>
<table>
<tbody><tr><th>&nbsp;</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th></tr>
<tr><th>0</th><td>NOP</td><td>LXI B</td><td>STAX B</td><td>INX B</td><td>INR B</td><td>DCR B</td><td>MVI B</td><td>RLC</td><td>MOV B,B</td><td>MOV B,C</td><td>MOV B,D</td><td>MOV B,E</td><td>MOV B,H</td><td>MOV B,L</td><td>MOV B,M</td><td>MOV B,A</td></tr>
<tr><th>1</th><td>&nbsp;</td><td>DAD B</td><td>LDAX B</td><td>DCX B</td><td>INR C</td><td>DCR C</td><td>MVI C</td><td>RRC</td><td>MOV C,B</td><td>MOV C,C</td><td>MOV C,D</td><td>MOV C,E</td><td>MOV C,H</td><td>MOV C,L</td><td>MOV C,M</td><td>MOV C,A</td></tr>
<tr><th>2</th><td>&nbsp;</td><td>LXI D</td><td>STAX D</td><td>INX D</td><td>INR D</td><td>DCR D</td><td>MVI D</td><td>RAL</td><td>MOV D,B</td><td>MOV D,C</td><td>MOV D,D</td><td>MOV D,E</td><td>MOV D,H</td><td>MOV D,L</td><td>MOV D,M</td><td>MOV D,A</td></tr>
<tr><th>3</th><td>&nbsp;</td><td>DAD D</td><td>LDAX D</td><td>DCX D</td><td>INR E</td><td>DCR E</td><td>MVI E</td><td>RAR</td><td>MOV E,B</td><td>MOV E,C</td><td>MOV E,D</td><td>MOV E,E</td><td>MOV E,H</td><td>MOV E,L</td><td>MOV E,M</td><td>MOV E,A</td></tr>
<tr><th>4</th><td>&nbsp;</td><td>LXI H</td><td>SHLD</td><td>INX H</td><td>INR H</td><td>DCR H</td><td>MVI H</td><td>DAA</td><td>MOV H,B</td><td>MOV H,C</td><td>MOV H,D</td><td>MOV H,E</td><td>MOV H,H</td><td>MOV H,L</td><td>MOV H,M</td><td>MOV H,A</td></tr>
<tr><th>5</th><td>&nbsp;</td><td>DAD H</td><td>LHLD</td><td>DCX H</td><td>INR L</td><td>DCR L</td><td>MVI L</td><td>CMA</td><td>MOV L,B</td><td>MOV L,C</td><td>MOV L,D</td><td>MOV L,E</td><td>MOV L,H</td><td>MOV L,L</td><td>MOV L,M</td><td>MOV L,A</td></tr>
<tr><th>6</th><td>&nbsp;</td><td>LXI SP</td><td>STA</td><td>INX SP</td><td>INR M</td><td>DCR M</td><td>MVI M</td><td>STC</td><td>MOV M,B</td><td>MOV M,C</td><td>MOV M,D</td><td>MOV M,E</td><td>MOV M,H</td><td>MOV M,L</td><td>HLT</td><td>MOV M,A</td></tr>
<tr><th>7</th><td>&nbsp;</td><td>DAD SP</td><td>LDA</td><td>DCX SP</td><td>INR A</td><td>DCR A</td><td>MVI A</td><td>CMC</td><td>MOV A,B</td><td>MOV A,C</td><td>MOV A,D</td><td>MOV A,E</td><td>MOV A,H</td><td>MOV A,L</td><td>MOV A,M</td><td>MOV A,A</td></tr>
<tr><th>0</th><td>ADD B</td><td>ADD C</td><td>ADD D</td><td>ADD E</td><td>ADD H</td><td>ADD L</td><td>ADD M</td><td>ADD A</td><td>RNZ</td><td>POP B</td><td>JNZ</td><td>JMP</td><td>CNZ</td><td>PUSH B</td><td>ADI</td><td>RST 0</td></tr>
<tr><th>1</th><td>ADC B</td><td>ADC C</td><td>ADC D</td><td>ADC E</td><td>ADC H</td><td>ADC L</td><td>ADC M</td><td>ADC A</td><td>RZ</td><td>RET</td><td>JZ</td><td>&nbsp;</td><td>CZ</td><td>CALL</td><td>ACI</td><td>RST 1</td></tr>
<tr><th>2</th><td>SUB B</td><td>SUB C</td><td>SUB D</td><td>SUB E</td><td>SUB H</td><td>SUB L</td><td>SUB M</td><td>SUB A</td><td>RNC</td><td>POP D</td><td>JNC</td><td>OUT</td><td>CNC</td><td>PUSH D</td><td>SUI</td><td>RST 2</td></tr>
<tr><th>3</th><td>SBB B</td><td>SBB C</td><td>SBB D</td><td>SBB E</td><td>SBB H</td><td>SBB L</td><td>SBB M</td><td>SBB A</td><td>RC</td><td>&nbsp;</td><td>JC</td><td>IN</td><td>CC</td><td>&nbsp;</td><td>SBI</td><td>RST 3</td></tr>
<tr><th>4</th><td>ANA B</td><td>ANA C</td><td>ANA D</td><td>ANA E</td><td>ANA H</td><td>ANA L</td><td>ANA M</td><td>ANA A</td><td>RPO</td><td>POP H</td><td>JPO</td><td>XTHL</td><td>CPO</td><td>PUSH H</td><td>ANI</td><td>RST 4</td></tr>
<tr><th>5</th><td>XRA B</td><td>XRA C</td><td>XRA D</td><td>XRA E</td><td>XRA H</td><td>XRA L</td><td>XRA M</td><td>XRA A</td><td>RPE</td><td>PCHL</td><td>JPE</td><td>XCHG</td><td>CPE</td><td>&nbsp;</td><td>XRI</td><td>RST 5</td></tr>
<tr><th>6</th><td>ORA B</td><td>ORA C</td><td>ORA D</td><td>ORA E</td><td>ORA H</td><td>ORA L</td><td>ORA M</td><td>ORA A</td><td>RP</td><td>POP PSW</td><td>JP</td><td>DI</td><td>CP</td><td>PUSH PSW</td><td>ORI</td><td>RST 6</td></tr>
<tr><th>7</th><td>CMP B</td><td>CMP C</td><td>CMP D</td><td>CMP E</td><td>CMP H</td><td>CMP L</td><td>CMP M</td><td>CMP A</td><td>RM</td><td>SPHL</td><td>JM</td><td>EI</td><td>CM</td><td>&nbsp;</td><td>CPI</td><td>RST 7</td></tr>
</tbody></table>

<p>The 8080 also moved the stack to external memory, rather than using an internal fixed special-purpose stack as in the 8008 and
Datapoint 2200.
This allowed <code>PUSH</code> and <code>POP</code> instructions to put register data on the stack.
Interrupt handling was also improved by adding
the Enable Interrupt and Disable Interrupt instructions (EI and DI).<span id="fnref:mos"><a href="#fn:mos">14</a></span></p>
<h2>Intel 8085</h2>
<p>The Intel 8085 was designed as a "mid-life kicker" for the 8080, providing incremental improvements while maintaining compatibility.
From the hardware perspective, the 8085 was much easier to use than the 8080.
While the 8080 required three voltages, the 8085 required a single 5-volt power supply (represented by the "5" in the part number).
Moreover, the 8085 eliminated most of the support chips required with the 8080; a working 8085 computer could be built with
just three chips.
Finally, the 8085 provided additional hardware functionality: better interrupt support and serial I/O.</p>
<p><a href="https://static.righto.com/images/8086-datapoint/8085.jpg"><img alt="The Intel 8085, like the 8080 and the 8086, was packaged in a 40-pin DIP. Photo by Thomas Nguyen, (CC BY-SA 4.0)." height="166" src="https://static.righto.com/images/8086-datapoint/8085-w400.jpg" title="The Intel 8085, like the 8080 and the 8086, was packaged in a 40-pin DIP. Photo by Thomas Nguyen, (CC BY-SA 4.0)." width="400"></a></p><p>The Intel 8085, like the 8080 and the 8086, was packaged in a 40-pin DIP. Photo by <a href="https://commons.wikimedia.org/wiki/File:Intel_C8085.jpg">Thomas Nguyen</a>, <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">(CC BY-SA 4.0)</a>.</p>
<p>On the software side, the 8085 is curious: 12 instructions were added to the instruction set (finally using every opcode), but all but two were hidden
and left undocumented.<span id="fnref:8085-undoc"><a href="#fn:8085-undoc">16</a></span>
Moreover, the 8085 added two new condition codes, but these were also hidden.
This situation occurred because the 8086 project started up in 1976, near the release of the 8085 chip.
Intel wanted the 8086 to be compatible (to some extent) with the 8080 and 8085, but providing new instructions in the 8085
would make compatibility harder.
It was too late to remove the instructions from the 8085 chip, so Intel did the next best thing and removed them
from the documentation. These instructions are shown in red in the table below.
Only the new SIM and RIM instructions were supported, necessary in order to use
the 8085's new interrupt and serial I/O features.</p>
<table>
<tbody><tr><th>&nbsp;</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th></tr>
<tr><th>0</th><td>NOP</td><td>LXI B</td><td>STAX B</td><td>INX B</td><td>INR B</td><td>DCR B</td><td>MVI B</td><td>RLC</td><td>MOV B,B</td><td>MOV B,C</td><td>MOV B,D</td><td>MOV B,E</td><td>MOV B,H</td><td>MOV B,L</td><td>MOV B,M</td><td>MOV B,A</td></tr>
<tr><th>1</th><td>DSUB</td><td>DAD B</td><td>LDAX B</td><td>DCX B</td><td>INR C</td><td>DCR C</td><td>MVI C</td><td>RRC</td><td>MOV C,B</td><td>MOV C,C</td><td>MOV C,D</td><td>MOV C,E</td><td>MOV C,H</td><td>MOV C,L</td><td>MOV C,M</td><td>MOV C,A</td></tr>
<tr><th>2</th><td>ARHL</td><td>LXI D</td><td>STAX D</td><td>INX D</td><td>INR D</td><td>DCR D</td><td>MVI D</td><td>RAL</td><td>MOV D,B</td><td>MOV D,C</td><td>MOV D,D</td><td>MOV D,E</td><td>MOV D,H</td><td>MOV D,L</td><td>MOV D,M</td><td>MOV D,A</td></tr>
<tr><th>3</th><td>RDEL</td><td>DAD D</td><td>LDAX D</td><td>DCX D</td><td>INR E</td><td>DCR E</td><td>MVI E</td><td>RAR</td><td>MOV E,B</td><td>MOV E,C</td><td>MOV E,D</td><td>MOV E,E</td><td>MOV E,H</td><td>MOV E,L</td><td>MOV E,M</td><td>MOV E,A</td></tr>
<tr><th>4</th><td>RIM</td><td>LXI H</td><td>SHLD</td><td>INX H</td><td>INR H</td><td>DCR H</td><td>MVI H</td><td>DAA</td><td>MOV H,B</td><td>MOV H,C</td><td>MOV H,D</td><td>MOV H,E</td><td>MOV H,H</td><td>MOV H,L</td><td>MOV H,M</td><td>MOV H,A</td></tr>
<tr><th>5</th><td>LDHI</td><td>DAD H</td><td>LHLD</td><td>DCX H</td><td>INR L</td><td>DCR L</td><td>MVI L</td><td>CMA</td><td>MOV L,B</td><td>MOV L,C</td><td>MOV L,D</td><td>MOV L,E</td><td>MOV L,H</td><td>MOV L,L</td><td>MOV L,M</td><td>MOV L,A</td></tr>
<tr><th>6</th><td>SIM</td><td>LXI SP</td><td>STA</td><td>INX SP</td><td>INR M</td><td>DCR M</td><td>MVI M</td><td>STC</td><td>MOV M,B</td><td>MOV M,C</td><td>MOV M,D</td><td>MOV M,E</td><td>MOV M,H</td><td>MOV M,L</td><td>HLT</td><td>MOV M,A</td></tr>
<tr><th>7</th><td>LDSI</td><td>DAD SP</td><td>LDA</td><td>DCX SP</td><td>INR A</td><td>DCR A</td><td>MVI A</td><td>CMC</td><td>MOV A,B</td><td>MOV A,C</td><td>MOV A,D</td><td>MOV A,E</td><td>MOV A,H</td><td>MOV A,L</td><td>MOV A,M</td><td>MOV A,A</td></tr>
<tr><th>0</th><td>ADD B</td><td>ADD C</td><td>ADD D</td><td>ADD E</td><td>ADD H</td><td>ADD L</td><td>ADD M</td><td>ADD A</td><td>RNZ</td><td>POP B</td><td>JNZ</td><td>JMP</td><td>CNZ</td><td>PUSH B</td><td>ADI</td><td>RST 0</td></tr>
<tr><th>1</th><td>ADC B</td><td>ADC C</td><td>ADC D</td><td>ADC E</td><td>ADC H</td><td>ADC L</td><td>ADC M</td><td>ADC A</td><td>RZ</td><td>RET</td><td>JZ</td><td>RSTV</td><td>CZ</td><td>CALL</td><td>ACI</td><td>RST 1</td></tr>
<tr><th>2</th><td>SUB B</td><td>SUB C</td><td>SUB D</td><td>SUB E</td><td>SUB H</td><td>SUB L</td><td>SUB M</td><td>SUB A</td><td>RNC</td><td>POP D</td><td>JNC</td><td>OUT</td><td>CNC</td><td>PUSH D</td><td>SUI</td><td>RST 2</td></tr>
<tr><th>3</th><td>SBB B</td><td>SBB C</td><td>SBB D</td><td>SBB E</td><td>SBB H</td><td>SBB L</td><td>SBB M</td><td>SBB A</td><td>RC</td><td>SHLX</td><td>JC</td><td>IN</td><td>CC</td><td>JNK</td><td>SBI</td><td>RST 3</td></tr>
<tr><th>4</th><td>ANA B</td><td>ANA C</td><td>ANA D</td><td>ANA E</td><td>ANA H</td><td>ANA L</td><td>ANA M</td><td>ANA A</td><td>RPO</td><td>POP H</td><td>JPO</td><td>XTHL</td><td>CPO</td><td>PUSH H</td><td>ANI</td><td>RST 4</td></tr>
<tr><th>5</th><td>XRA B</td><td>XRA C</td><td>XRA D</td><td>XRA E</td><td>XRA H</td><td>XRA L</td><td>XRA M</td><td>XRA A</td><td>RPE</td><td>PCHL</td><td>JPE</td><td>XCHG</td><td>CPE</td><td>LHLX</td><td>XRI</td><td>RST 5</td></tr>
<tr><th>6</th><td>ORA B</td><td>ORA C</td><td>ORA D</td><td>ORA E</td><td>ORA H</td><td>ORA L</td><td>ORA M</td><td>ORA A</td><td>RP</td><td>POP PSW</td><td>JP</td><td>DI</td><td>CP</td><td>PUSH PSW</td><td>ORI</td><td>RST 6</td></tr>
<tr><th>7</th><td>CMP B</td><td>CMP C</td><td>CMP D</td><td>CMP E</td><td>CMP H</td><td>CMP L</td><td>CMP M</td><td>CMP A</td><td>RM</td><td>SPHL</td><td>JM</td><td>EI</td><td>CM</td><td>JK</td><td>CPI</td><td>RST 7</td></tr>
</tbody></table>

<h2>Intel 8086</h2>
<p>Following the 8080, Intel intended to revolutionize microprocessors with a 32-bit "micro-mainframe", the iAPX 432.
This extremely complex processor implemented objects, memory management, interprocess communication, and fine-grained memory
protection in hardware.
The iAPX 432 was too ambitious and the project fell behind schedule, leaving Intel vulnerable against
competitors such as Motorola and Zilog.
Intel quickly threw together a 16-bit processor as a stopgap until the iAPX 432 was ready; to show its continuity with the 8-bit processor line,
this processor was called the 8086.
The iAPX 432 ended up being <a href="https://archive.nytimes.com/www.nytimes.com/library/tech/98/04/biztech/articles/05merced.html">one of the great disaster stories of modern computing</a> and quietly disappeared.</p>
<p>The "stopgap" 8086 processor, however, started the x86 architecture that changed the history of Intel.
The 8086's victory was powered by the IBM PC,
designed in 1981 around the Intel 8088, a variant of the 8086 with a cheaper 8-bit bus.
The IBM PC was a rousing success, defining the modern computer and making Intel's fortune.
Intel produced a succession of more powerful chips that extended the 8086: 286, 386, 486, Pentium, and so on,
leading to the current x86 architecture.</p>
<p><a href="https://static.righto.com/images/8086-datapoint/Ibm_pc_5150.jpg"><img alt="The original IBM PC used the Intel 8088 processor, a variant of the 8086 with an 8-bit bus. Photo by Ruben de Rijcke, (CC BY-SA 3.0)." height="391" src="https://static.righto.com/images/8086-datapoint/Ibm_pc_5150-w400.jpg" title="The original IBM PC used the Intel 8088 processor, a variant of the 8086 with an 8-bit bus. Photo by Ruben de Rijcke, (CC BY-SA 3.0)." width="400"></a></p><p>The original IBM PC used the Intel 8088 processor, a variant of the 8086 with an 8-bit bus. Photo by <a href="https://commons.wikimedia.org/wiki/File:Ibm_pc_5150.jpg">Ruben de Rijcke</a>, <a href="https://creativecommons.org/licenses/by-sa/3.0/deed.en">(CC BY-SA 3.0)</a>.</p>
<p>The 8086 was a major change from the 8080/8085, jumping from an 8-bit architecture to a 16-bit architecture
and expanding from 64K of memory to 1 megabyte.
Nonetheless, the 8086's architecture is closely related to the 8080.
The designers of the 8086 wanted it to be compatible with the 8080/8085, but the difference was too wide
for binary compatibility or even assembly-language compatibility.
Instead, the 8086 was designed so a program could translate 8080 assembly language to 8086 assembly language.<span id="fnref:conv86"><a href="#fn:conv86">17</a></span>
To accomplish this, each 8080 register had a corresponding 8086 register and most
8080 instructions had corresponding 8086 instructions.</p>
<p>The 8086's instruction set was designed with a new concept, the "ModR/M" byte, which usually follows the
opcode byte.
The ModR/M byte specifies the memory addressing mode
and the register (or registers) to use, allowing that information to be moved out of the opcode.
For instance, where the 8080 had a quadrant of 64 instructions to move from register to register, the 8086 has a
single move instruction, with the ModR/M byte specifying the particular instruction.
(The move instruction, however, has variants to handle byte vs. word operations, moves to or from memory,
and so forth, so the 8086 ends up with a few move opcodes.)
The ModR/M byte preserves the Datapoint 2200's concept of using the same instruction for memory and register
operations, but allows a memory address to be provided in the instruction.</p>
<p>The 8086 also cleans up some of the historical baggage in the instruction set, freeing up space in the precious
256 opcodes for new instructions.
The conditional call and return instructions were eliminated, while the conditional jumps were expanded.
The 8008's <code>RST</code> (Restart) instructions were eliminated, replaced by interrupt vectors.</p>
<p>The 8086 extended its registers to 16 bits and added several new registers.
An Intel patent (below) shows that the 8086's registers were originally called <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>, <code>E</code>, <code>H</code>, and <code>L</code>,
matching the Datapoint 2200.
The <code>A</code> register was extended to the 16-bit <code>XA</code> register, while the
<code>BC</code>, <code>DE</code>, and <code>HL</code> registers were used unchanged.
When the 8086 was released, these registers were renamed to <code>AX</code>, <code>CX</code>, <code>DX</code>, and <code>BX</code> respectively.<span id="fnref:bx"><a href="#fn:bx">18</a></span>
In particular, the <code>HL</code> register was renamed to <code>BX</code>; this is why <code>BX</code> can specify a memory address in the ModR/M byte, but
<code>AX</code>, <code>CX</code>, and <code>DX</code> can't.</p>
<p><a href="https://static.righto.com/images/8086-datapoint/patent-regs.png"><img alt="A patent diagram showing the 8086's registers with their original names.  (MP, IJ, and IK are now known as BP, SI, and DI.) From patent US4449184." height="205" src="https://static.righto.com/images/8086-datapoint/patent-regs-w220.png" title="A patent diagram showing the 8086's registers with their original names.  (MP, IJ, and IK are now known as BP, SI, and DI.) From patent US4449184." width="220"></a></p><p>A patent diagram showing the 8086's registers with their original names.  (MP, IJ, and IK are now known as BP, SI, and DI.) From <a href="https://patents.google.com/patent/US4449184A/en">patent US4449184</a>.</p>
<!--
The 8086's instructions have other similarities with the earlier processors.
The instructions have the same octal format, with fields of 3 bits specifying registers or ALU operations.
The eight core ALU operations are the same as the previous processors, going back to the Datapoint 2200.
-->

<p>The table below shows the 8086's instruction set, with "b", "w", and "i" indicating byte (8-bit), word (16-bit), and immediate
instructions.
The Datapoint 2200 instructions (colored) are all still supported.
The number of Datapoint instructions looks small
because the ModR/M byte collapses groups of old opcodes into a single new one.
This opened up space in the opcode table, though, allowing the 8086 to have many new instructions as well as
16-bit instructions.<span id="fnref:8086-instructions"><a href="#fn:8086-instructions">19</a></span></p>
<table>
<tbody><tr><th>&nbsp;</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th></tr>
<tr><th>0</th><td>ADD b</td><td>ADD w</td><td>ADD b</td><td>ADD w</td><td>ADD bi</td><td>ADD wi</td><td>PUSH ES</td><td>POP ES</td><td>INC AX</td><td>INC CX</td><td>INC DX</td><td>INC BX</td><td>INC SP</td><td>INC BP</td><td>INC SI</td><td>INC DI</td></tr>
<tr><th>1</th><td>OR b</td><td>OR w</td><td>OR b</td><td>OR w</td><td>OR bi</td><td>OR wi</td><td>PUSH CS</td><td>&nbsp;</td><td>DEC AX</td><td>DEC CX</td><td>DEC DX</td><td>DEC BX</td><td>DEC SP</td><td>DEC BP</td><td>DEC SI</td><td>DEC DI</td></tr>
<tr><th>2</th><td>ADC b</td><td>ADC w</td><td>ADC b</td><td>ADC w</td><td>ADC bi</td><td>ADC wi</td><td>PUSH SS</td><td>POP SS</td><td>PUSH AX</td><td>PUSH CX</td><td>PUSH DX</td><td>PUSH BX</td><td>PUSH SP</td><td>PUSH BP</td><td>PUSH SI</td><td>PUSH DI</td></tr>
<tr><th>3</th><td>SBB b</td><td>SBB w</td><td>SBB b</td><td>SBB w</td><td>SBB bi</td><td>SBB wi</td><td>PUSH DS</td><td>POP DS</td><td>POP AX</td><td>POP CX</td><td>POP DX</td><td>POP BX</td><td>POP SP</td><td>POP BP</td><td>POP SI</td><td>POP DI</td></tr>
<tr><th>4</th><td>AND b</td><td>AND w</td><td>AND b</td><td>AND w</td><td>AND bi</td><td>AND wi</td><td>ES:</td><td>DAA</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><th>5</th><td>SUB b</td><td>SUB w</td><td>SUB b</td><td>SUB w</td><td>SUB bi</td><td>SUB wi</td><td>CS:</td><td>DAS</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><th>6</th><td>XOR b</td><td>XOR w</td><td>XOR b</td><td>XOR w</td><td>XOR bi</td><td>XOR wi</td><td>SS:</td><td>AAA</td><td>JO</td><td>JNO</td><td>JB</td><td>JNB</td><td>JZ</td><td>JNZ</td><td>JBE</td><td>JA</td></tr>
<tr><th>7</th><td>CMP b</td><td>CMP w</td><td>CMP b</td><td>CMP w</td><td>CMP bi</td><td>CMP wi</td><td>DS:</td><td>AAS</td><td>JS</td><td>JNS</td><td>JPE</td><td>JPO</td><td>JL</td><td>JGE</td><td>JLE</td><td>JG</td></tr>
<tr><th>0</th><td>GRP1 b</td><td>GRP1 w</td><td>GRP1 b</td><td>GRP1 w</td><td>TEST b</td><td>TEST w</td><td>XCHG b</td><td>XCHG w</td><td>&nbsp;</td><td>&nbsp;</td><td>RET</td><td>RET</td><td>LES</td><td>LDS</td><td>MOV b</td><td>MOV w</td></tr>
<tr><th>1</th><td>MOV b</td><td>MOV w</td><td>MOV b</td><td>MOV w</td><td>MOV sr</td><td>LEA</td><td>MOV sr</td><td>POP</td><td>&nbsp;</td><td>&nbsp;</td><td>RETF</td><td>RETF</td><td>INT 3</td><td>INT</td><td>INTO</td><td>IRET</td></tr>
<tr><th>2</th><td>NOP</td><td>XCHG CX</td><td>XCHG DX</td><td>XCHG BX</td><td>XCHG SP</td><td>XCHG BP</td><td>XCHG SI</td><td>XCHG DI</td><td>Shift b</td><td>Shift w</td><td>Shift b</td><td>Shift w</td><td>AAM</td><td>AAD</td><td>&nbsp;</td><td>XLAT</td></tr>
<tr><th>3</th><td>CBW</td><td>CWD</td><td>CALL</td><td>WAIT</td><td>PUSHF</td><td>POPF</td><td>SAHF</td><td>LAHF</td><td>ESC 0</td><td>ESC 1</td><td>ESC 2</td><td>ESC 3</td><td>ESC 4</td><td>ESC 5</td><td>ESC 6</td><td>ESC 7</td></tr>
<tr><th>4</th><td>MOV AL,M</td><td>MOV AX,M</td><td>MOV M,AL</td><td>MOV M,AX</td><td>MOVS b</td><td>MOVS w</td><td>CMPS b</td><td>CMPS w</td><td>LOOPNZ</td><td>LOOPZ</td><td>LOOP</td><td>JCXZ</td><td>IN b</td><td>IN w</td><td>OUT b</td><td>OUT w</td></tr>
<tr><th>5</th><td>TEST b</td><td>TEST w</td><td>STOS b</td><td>STOS w</td><td>LODS b</td><td>LODS w</td><td>SCAS b</td><td>SCAS w</td><td>CALL</td><td>JMP</td><td>JMP</td><td>JMP</td><td>IN b</td><td>IN w</td><td>OUT b DX</td><td>OUT w DX</td></tr>
<tr><th>6</th><td>MOV AL,i</td><td>MOV CL,i</td><td>MOV DL,i</td><td>MOV BL,i</td><td>MOV AH,i</td><td>MOV CH,i</td><td>MOV DH,i</td><td>MOV BH,i</td><td>LOCK</td><td>&nbsp;</td><td>REPNZ</td><td>REPZ</td><td>HLT</td><td>CMC</td><td>GRP3a</td><td>GRP3b</td></tr>
<tr><th>7</th><td>MOV AX,i</td><td>MOV CX,i</td><td>MOV DX,i</td><td>MOV BX,i</td><td>MOV SP,i</td><td>MOV BP,i</td><td>MOV SI,i</td><td>MOV DI,i</td><td>CLC</td><td>STC</td><td>CLI</td><td>STI</td><td>CLD</td><td>STD</td><td>GRP4</td><td>GRP5</td></tr>
</tbody></table>

<p>The 8086 has a 16-bit flags register, shown below, but the low byte remained compatible with the 8080.
The four highlighted flags (sign, zero, parity, and carry) are the ones originating in the Datapoint 2200.</p>
<p><a href="https://static.righto.com/images/8086-datapoint/8086-flags.jpg"><img alt="The flag word of the 8086 contains the original Datapoint 2200 registers." height="66" src="https://static.righto.com/images/8086-datapoint/8086-flags-w700.jpg" title="The flag word of the 8086 contains the original Datapoint 2200 registers." width="700"></a></p><p>The flag word of the 8086 contains the original Datapoint 2200 registers.</p>
<h2>Modern x86 and x86-64</h2>
<p>The modern x86 architecture has extended the 8086 to a 32-bit architecture (IA-32) and a 64-bit architecture (x86-64<span id="fnref:ia64"><a href="#fn:ia64">20</a></span>), but the Datapoint features remain.
At startup, an x86 processor runs in "<a href="https://en.wikipedia.org/wiki/Real_mode">real mode</a>", which operates
like the original 8086.
More interesting is 64-bit mode, which has some major architectural changes.
In 64-bit mode, the 8086's general-purpose registers are extended to sixteen 64-bit registers
(and <a href="https://www.intel.com/content/www/us/en/developer/articles/technical/advanced-performance-extensions-apx.html">soon</a> to be 32 registers).
However, the original Datapoint registers are special and can still be accessed as byte registers within the
corresponding 64-bit register; these are highlighted in the table below.<span id="fnref:aliasing"><a href="#fn:aliasing">21</a></span></p>
<p><a href="https://static.righto.com/images/8086-datapoint/64-bit-regs.jpg"><img alt="General purpose registers in x86-64. From Intel Software Developer's Manual." height="145" src="https://static.righto.com/images/8086-datapoint/64-bit-regs-w700.jpg" title="General purpose registers in x86-64. From Intel Software Developer's Manual." width="700"></a></p>
<p>The flag register of the 8086 was extended to 32 bits or 64 bits in x86. As the diagram below shows,
the original Datapoint 2200 status flags are still there (highlighted in yellow).</p>
<p><a href="https://static.righto.com/images/8086-datapoint/64-bit-flags.jpg"><img alt="The 32-bit and 64-bit flags of x86 contain the original Datapoint 2200 registers. From Intel Software Developer's Manual." height="335" src="https://static.righto.com/images/8086-datapoint/64-bit-flags-w500.jpg" title="The 32-bit and 64-bit flags of x86 contain the original Datapoint 2200 registers. From Intel Software Developer's Manual." width="500"></a></p>
<p>The instruction set in x86 has been extended from the 8086, mostly through prefixes, but
the instructions from the Datapoint 2200 are still there.
The ModR/M byte was changed in 32-bit mode so the <code>BX</code> (originally <code>HL</code>) register is no longer special
when accessing memory (although it's still special with 16-bit addressing, until Intel removes that in the
upcoming <a href="https://en.wikipedia.org/wiki/X86-64#x86-S">x86-S</a> simplification.)
I/O ports still exist in x86, although they are viewed as more of a legacy feature: modern I/O devices
typically use memory-mapped I/O instead of I/O ports.
To summarize, fifty years later, x86-64 is slowly moving away from some of the Datapoint 2200 features, but they are still there.</p>
<h2>Conclusions</h2>
<p>The modern x86 architecture is descended from the Datapoint 2200's architecture.
Because there is backward-compatibility at each step, you should theoretically be able to take a Datapoint 2200 binary, disassemble it to 8008 assembly, automatically translate it
to 8080 assembly, automatically convert it to 8086 assembly, and then run it on a modern x86 processor.
(The I/O devices would be different and cause trouble, of course.)</p>
<p>The Datapoint 2200's complete instruction set, its flags, and its little-endian architecture have persisted into current
processors.
This shows the critical importance of backward compatibility to customers.
While Intel keeps attempting to create new architectures (iAPX 432, i960, i860, Itanium), customers would rather
stay on a compatible architecture.
Remarkably, Intel has managed to move from 8-bit computers to 16, 32, and 64 bits, while keeping systems mostly compatible.
As a result, design decisions made for the Datapoint 2200 over 50 years ago are still impacting modern computers.
Will processors still have the features of the Datapoint 2200 another fifty years from now? I wouldn't be surprised.<span id="fnref:refs"><a href="#fn:refs">22</a></span></p>
<!--
The x86 architecture has changed dramatically over the years, expanded to 32-bit and now 64-bit operation.
The architecture provides modes for compatibility with the 8086, including the features derived from the Datapoint 2200.
In 64-bit mode, some features have been generalized; for instance, the BX register (formerly HL register) is no longer
special for memory accesses.
Although the registers are now 64 bits, the original Datapoint 2200 8-bit registers are still accessible as pieces
of the larger registers.
-->

<p>Thanks to Joe Oberhauser for suggesting this topic.
I plan to write more on the 8086, so 
follow me on Twitter <a href="https://twitter.com/kenshirriff">@kenshirriff</a> or <a href="https://www.righto.com/feeds/posts/default">RSS</a> for updates.
I've also started experimenting with Mastodon recently as <a href="https://oldbytes.space/@kenshirriff">@<span data-cfemail="d4bfb1baa7bcbda6a6bdb2b294bbb8b0b6ada0b1a7faa7a4b5b7b1">[email&nbsp;protected]</span></a>
so you can follow me there too.</p>
<h2>Notes and references</h2>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[My $0->$100M->$0 in 5 years story (206 pts)]]></title>
            <link>https://old.reddit.com/r/startups/comments/15p8qrx/my_0100m0_in_5_years_story/</link>
            <guid>37102442</guid>
            <pubDate>Sat, 12 Aug 2023 17:37:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://old.reddit.com/r/startups/comments/15p8qrx/my_0100m0_in_5_years_story/">https://old.reddit.com/r/startups/comments/15p8qrx/my_0100m0_in_5_years_story/</a>, See on <a href="https://news.ycombinator.com/item?id=37102442">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><hr>

<h2>Wiki</h2>

<p><a href="https://old.reddit.com/r/startups/wiki/">FAQs, lessons, and resources</a></p>

<hr>

<h2>About</h2>

<p>Welcome to <a href="https://old.reddit.com/r/startups">r/startups</a>, a community for all backgrounds, levels of expertise, and business experience. </p>

<h4>What is a startup?</h4>

<p>Startups are designed to scale/grow rapidly. Startups utilize tech to do this. Startups can be non-tech companies that utilize tech. Startups are information era companies and they are creating the new best practices in business.  </p>

<h4><a href="https://old.reddit.com/r/startups">/r/startups</a></h4>

<p>We share interesting discussions and stories about our startup journeys, both the failures, the successes, and the embarrassments. <strong>Our best traits are authenticity and integrity.</strong></p>

<hr>

<h2>Ask Someone Anything!</h2>

<h3><a href="https://goo.gl/forms/gDwtn6kPjcvMk2Jj1">We want to know who you want to ask anything!</a></h3>

<p>We are working on a consistent AMA schedule. Tell us who you want to interview in that thread.</p>

<hr>

<h2>Flair</h2>

<p><a href="https://www.reddit.com/message/compose?to=%2Fr%2Fstartups&amp;subject=Flair+please">Message the mods</a> for instructions on how to get flair verifying your experience. </p>

<hr>

<h2>Rules</h2>

<h5>1.Relevant Content Only</h5>

<p>We are a community of discussion based around startups, not traditional businesses.</p>

<p>All content must be relevant to startups.</p>

<p>You are welcome to ask how to apply startup methodologies to your traditional business if you frame your question in a non-promotional way. We want you to be able to ask any question that helps your startup.</p>

<h5>2.No direct sales, advertisements, or promotion</h5>

<p><strong>No direct sales, advertisements, or promotional posts of any kind</strong>. We have designated places that are an exception to this rule and they will always be stickied at the top of <a href="https://old.reddit.com/r/startups">/r/startups</a>.</p>

<ul>
<li>You MAY share your startup in the Monthly Share Your Startup thread</li>
</ul>

<p>Self-promotion is anything you have an interest, stake or relationship with including being friends with someone at the company.</p>

<p>At the end of the day, <a href="https://old.reddit.com/r/startups">/r/startups</a> moderators have the final say if your comments are promotional or not.</p>

<h5>3.Submissions Serve a Specific Purpose</h5>

<p>Submissions are for discussing methodologies, experiences, tactics, strategies, techniques, markets, and other such things WITHOUT tying them directly to your own project using its name or URL.</p>

<p>Titles must be clear and descriptive.</p>

<p>Submissions must have at least 250 characters of content. The more details you provide us the better support our community can provide you with. Life life, the more you put into something the more you get out of it.</p>

<h5>4.Feedback Has a Place</h5>

<p>All Feedback Requests (including surveys/polls) belong in our <a href="https://www.reddit.com/r/startups/comments/boq669/your_weekly_threads_guide_learn_about_the_new/">Feedback Thread or other appropriate weekly thread</a></p>

<p>You are invited to repost each week. </p>

<p>Be sure to contribute to the others in the thread and ask them to return the favor to increase engagement.</p>

<p>You may not publicly offer feedback or direct support outside of the Stickied Threads.</p>

<h5>5.Rules for Links in Comments/Discussions</h5>

<p>Sometimes you think the best solution is simply to link to a resource that might answer someone's question. We want you to be able to link in discussion to relevant content. We also don't want the discussion to turn into a self promotional mess and link farm.</p>

<p>If you are going to link to something in the comments please make sure to:</p>

<ul>
<li><p>Write at least a sentence explaining why the link is relevant to the discussion.</p></li>
<li><p>Link only content you have no affiliation with. Affiliate links = banned.</p></li>
</ul>

<h5>6.Do Not Solicit PM Requests</h5>

<p>The purpose of making a submission or comment is to engage in a public discussion with the community. </p>

<p>It is not to request a PM/DM from someone. </p>

<p>You are more than welcome to engage privately with one another, but it is up to you to take the initiative directly.</p>

<h5>7.Sharing Your Blog is To Start a Discussion</h5>

<p>Sharing your blog is not a means to self promote.</p>

<p>A link to the original blog post is allowed with <strong>prior</strong> Mod approval.</p>

<p>If you are submitting your own blog content, the full body of the content must be included in the post, properly formatted for reddit.</p>

<p>Include an outline &amp; timestamps with a video.</p>

<p>If your blog is over 2000 words you may ask for an exemption.</p>

<p>All other rules still apply.</p>

<p>No blogs about your "startup" journey allowed.</p>

<h5>8.Always Be Kind and Supportive</h5>

<p>The goal of this community is to encourage people to learn and be inspired to pursue ventures related to startups.</p>

<p>Do not troll, harass people, or be an asshole. <strong>This does not mean to lie. It means to give support and explain why you don't like something.</strong></p>

<p>Try to remember people likely do not have much experience yet or might be simply ignorant to what you know.</p>

<p>Be willing to hold a discussion and try to explain your opinion or point of view to the benefit of the entire community.</p>

<h5>9.No Unscheduled AMAs</h5>

<p>We do not allow unscheduled AMAs.</p>

<p>We need to verify and approve all AMAs. </p>

<p>If you wish to do an AMA you must use the "Message the Moderators" feature in the side bar and you must give us at least TWO (2) Weeks Lead Time to organize it with you.</p>

<hr>

<h2>Similar communities</h2>

<ul>
<li><p><a href="https://old.reddit.com/r/entrepreneur">/r/entrepreneur</a></p></li>
<li><p><a href="https://old.reddit.com/r/forhire">/r/forhire</a> </p></li>
<li><p><a href="https://old.reddit.com/r/kickstarter">/r/kickstarter</a></p></li>
<li><p><a href="https://old.reddit.com/r/business">/r/business</a></p></li>
<li><p><a href="https://old.reddit.com/r/hwstartups">/r/hwstartups</a></p></li>
<li><p><a href="https://old.reddit.com/r/smallbusiness">/r/smallbusiness</a></p></li>
<li><p><a href="https://old.reddit.com/r/marketing">/r/marketing</a></p></li>
<li><p><a href="https://old.reddit.com/r/sideproject">/r/sideproject</a></p></li>
<li><p><a href="https://old.reddit.com/r/growmybusiness">/r/growmybusiness</a></p></li>
<li><p><a href="https://old.reddit.com/r/shutdown">/r/shutdown</a> (startup graveyard)</p></li>
<li><p><a href="https://old.reddit.com/r/venturedcapital">/r/venturedcapital</a>  </p></li>
<li><p><a href="https://old.reddit.com/r/AlphaAndBetaUsers">/r/AlphaAndBetaUsers</a> (post your 'can you test my new product' posts here!)  </p></li>
<li><p><a href="https://old.reddit.com/r/telecommuting">/r/telecommuting</a> (subreddit about remotely working)  </p></li>
<li><p><em>Want more?</em> <a href="https://news.ycombinator.com/newest">Hacker News</a></p></li>
</ul>

<h2>Notable AMA's</h2>

<ul>
<li><p><a href="http://www.reddit.com/r/IAmA/comments/vfosl/iamalexis_ohanian_startup_founder_internet/">Emperor Alexis Ohanian</a></p></li>
<li><p><a href="http://www.reddit.com/r/IAmA/comments/1e30yq/were_the_founders_of_startup_institute_aaron/">Founders of the Startup Institute</a></p></li>
<li><p><a href="http://www.reddit.com/r/IAmA/comments/1fuzwt/im_jaan_tallinn_cofounder_of_skype_kazaa_cser_and/">Jaan Tallinn, Skype co-founder</a></p></li>
<li><p><a href="http://www.reddit.com/r/IAmA/comments/y81ju/i_created_imgur_ama/">Imgur Founder</a></p></li>
<li><p><a href="http://www.reddit.com/r/IAmA/comments/120oif/we_are_mozilla_aua/">Mozilla Contributer</a></p></li>
<li><p><a href="http://www.reddit.com/r/IAmA/comments/9s5k3/iama_i_am_a_highprofile_silicon_valley_venture/">Silicon Valley Venture Capitalist</a></p></li>
</ul>

<hr>

<p><strong><a href="https://www.reddit.com/r/startups/search?q=author%3Aautomoderator+share+your+startup+self%3Ayes&amp;restrict_sr=on&amp;sort=new&amp;t=all">Previous Share your Startup threads</a></strong></p>

<hr>

<p>New to the scene? Find your closest <a href="http://startupweekend.org/">Startup Weekend!</a></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Paper investigating police chief prior to the raids on editor's  office and home (298 pts)]]></title>
            <link>https://thehandbasket.substack.com/p/a-conversation-with-the-newspaper</link>
            <guid>37102271</guid>
            <pubDate>Sat, 12 Aug 2023 17:17:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://thehandbasket.substack.com/p/a-conversation-with-the-newspaper">https://thehandbasket.substack.com/p/a-conversation-with-the-newspaper</a>, See on <a href="https://news.ycombinator.com/item?id=37102271">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg" width="1024" height="683" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:683,&quot;width&quot;:1024,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:110778,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F20bf7804-bc0e-459f-b3b8-263722b4cc49_1024x683.jpeg 1456w" sizes="100vw" fetchpriority="high"></picture></div></a><figcaption><em>Photo courtesy of Sam Bailey/Kansas Reflector</em></figcaption></figure></div><p><span>Very few stories these days take my breath away, but this one did the trick: Cops in Kansas raided the office of local newspaper the</span><em><span> </span><a href="https://marionrecord.com/" rel="">Marion County Record</a></em><span> Friday morning because of a complaint by a local restaurant owner named Kari Newell. She was unhappy with the outlet’s reporting on how </span><a href="http://marionrecord.com/direct/media_ejected_at_open_forum_+5446forum+4d6564696120656a6563746564206174206f70656e20666f72756d20" rel="">she kicked out reporters</a><span> from a recent event at her establishment with US Congressman Jake LaTurner (R-KS) and subsequent research they were conducting. The cops responded in kind, seizing cell phones, computers, and other devices necessary for publishing the paper after receving a signed search warrant from a judge.&nbsp;</span></p><p><strong>What has remained unreported until now is that, prior to the raids, the newspaper had been actively investigating Gideon Cody, Chief of Police for the city of Marion. They’d received multiple tips alleging he’d retired from his previous job to avoid demotion and punishment over alleged sexual misconduct charges.</strong></p><p><span>The news of the multiple raids was reported Friday by both </span><a href="https://marionrecord.com/" rel="">the paper itself</a><span> and by nonprofit news service </span><em><a href="https://kansasreflector.com/2023/08/11/police-stage-chilling-raid-on-marion-county-newspaper-seizing-computers-records-and-cellphones/" rel="">Kansas Reflector</a></em><span>. After receiving an alert from the Kansas Press Association, </span><em>Reflector </em><span>Editor-in-Chief Sherman Smith said he quickly understood the gravity of the situation. “My immediate reaction: This is an attack on all journalists, and we have to respond,” Sherman told The Handbasket in an email Friday night. “My staff and I stopped what we were doing and directed our attention to reporting this story.”</span></p><p><span>I reached out to Eric Meyer, owner and publisher of the</span><em> Marion County Record</em><span>, late Friday evening to get his reaction to the unprecedented raids and to learn about any new updates in the case. Below is our conversation, edited for length and clarity.</span></p><p><strong>Marisa Kabas: I wanted to check in and see if there had been any updates since the raids yesterday.</strong></p><p>Eric Meyer: We’ve pieced together enough equipment so that we'll probably be able to put out our paper. Our big question is how to get the material for it, which we don't have any of. I mean, I'm gonna have to go hunting to find the name plate for the front page. </p><p>But other than that, we're doing ok. Been in lots of talks with lots of lawyers. That's pretty much the long and short of it, I guess for now. Just getting started on rebuilding everything. So, we've got a bit of work to do with that.</p><p><strong>MK: And what are the lawyers telling you right now?</strong></p><p><span>EM: That</span><strong> </strong><span>the people who did this are going to learn a very expensive lesson. Their real question was, from a legal standpoint, was it more important that we get it [the newspaper’s equipment] back right now, or is it more important that we—for lack of a better word—stick it to them? We’re able to survive now, and I don't really want to stick it to anybody, but we need to have something that's big enough to convince somebody that you really don't do this. Not in America. This is not something that you do here. So, we'll be working in that direction.</span></p><p><strong>MK: When the raids happened, were you at the office or were you at your home?</strong></p><p>EM: I was at my home. I stay here with my 98-year-old mother and she was actually waiting for her meal to arrive from Meals on Wheels. And I thought when I heard the knocking, that was a meal person. I know they normally just leave it outside and no, it was a couple of police officers.&nbsp;</p><p><span>I immediately tried to call the newspaper and I couldn't get through to the newspaper because they had raided them at the same time and forced them to go outside. So, although I did have a landline here—the advantage of living with a 98 year old woman is you've got a landline!—they couldn't answer at the </span><em>Record</em><span>.&nbsp;</span></p><p>At the newspaper office, they'd been forced to leave the office. We weren't forced to leave the house here. But my mother is very upset about having police in her house for several hours. They stood here for a long time. </p><p>I got in the car and left to go down to the newspaper office. And actually along the way had to stop because I couldn't find phone numbers [since all his devices had been seized]. I wanted to call the attorney we normally use from the open government coalition that usually provides initial consulting for us, and I didn't have his phone number. So I actually stopped at somebody's house along the way and said, can I borrow your tablet to look up a phone number and then borrow your phone to make a call?&nbsp;&nbsp;</p><p><strong>MK: So when the police arrived at your door, what was initially running through your head?</strong></p><p><span>EM: I had no idea what they were doing there. They said “we’re here to execute a search warrant.” And at that point, I kind of figured out what it was, because of the blustering that I'd heard from Kari earlier in the week. But, yeah, I didn't know quite what they wanted to do. I said, “guys, you're really making a very serious mistake here.”</span><strong> </strong><span>But what ran through my head was the old saying that when the police say something, you've got to do it. There's time to object to it later. Don't object to it then, or they can charge you with interfering with law enforcement.&nbsp;</span></p><p>So I just told them that I thought they were making a serious mistake and they said they're just doing their jobs. And being a small enough town, I knew who they were. One of them was a part-time officer and he was wearing his bulletproof vest on the outside, and I know the new uniform requirements in the city, where they're supposed to wear it on the inside of their shirt.&nbsp;</p><p>My mother got very, very, very, very upset about this and about that time her lunch did arrive, and she never did eat it yesterday. She refused to eat it. In fact, she refused to eat anything. She refused to go to bed last night. She sat up all night. She was very upset about this. They came into her home. She did nothing wrong.</p><p><strong>MK: That's very upsetting, I can imagine. And what has it been like having all this attention all of a sudden?</strong></p><p>EM: It's not wanted attention, let's put it that way. </p><p>It is kind of heartwarming: One of the things that I just noticed was we got this incredible swelling of people buying subscriptions to the paper off of our website. We got a lot of them, including some—I'm not gonna say who they're from—but one of them is an extremely famous movie producer and screenwriter who came in and subscribed to the paper all of a sudden. I mean, it's like, why are people from Poughkeepsie, New York and Los Angeles, California and Seattle, Washington and, you know, all these different places subscribing to the paper?</p><p>But a lot of people seem to want to help, and we've had people calling, asking “where can I send money to help you?” And, well, we don't need money right now. We just are gonna have a long weekend of work to do. But we'll catch up.</p><p><span>[</span><em>At this point, Meyer explained the backstory as reported by his paper and the Kansas Reflector: He and his reporter Phyllis Zorn were kicked out of an August 2nd meeting at a local establishment with US Congressman Jake LaTurner (R-KS) by the City of Marion Police Chief after restaurant owner Kari Newell demanded they leave. Meyer and Zorn published a subsequent story about the hostile encounter, which infuriated Newell and prompted angry Facebook posts.&nbsp;</em></p><p><em>The paper then received a tip about Newell having her license suspended in 2008 after a DUI, checked it out, decided not to publish it, and ultimately shared it with the local police because they believed it might’ve been shared with them as part of Newell’s ongoing divorce battle. The police then told Newell what the newspaper shared, and she attended Monday’s City Council meeting to make outrageous claims about the newspaper and one of the council members (who had also obtained the letter) violating her rights. She also called Meyer later that evening and erroneously accused him of identity theft. Not even four days later, police arrived at the newspaper office, Meyer’s home and the council member’s home with search warrants signed by a judge.</em><span>]</span></p><p>EM: So the backstory that we haven't told, because we don't wanna get in trouble, is that we've been investigating the police chief [Gideon Cody]. When he was named Chief just two months ago, we got an outpouring of calls from his former co-workers making a wide array of allegations against him saying that he was about to be demoted at his previous job and that he retired to avoid demotion and punishment over sexual misconduct charges and other things.&nbsp;</p><p>We had half a dozen or more different anonymous sources calling in about that. Well, we never ran that because we never could get any of them to go on the record, and we never could get his personnel file. But the allegations—including the identities of who made the allegations—were on one of the computers that got seized. I may be paranoid that this has anything to do with it, but when people come and seize your computer, you tend to be a little paranoid.</p><p><strong>MK: I just wanna make sure I'm 100% clear: so you haven't reported on this before?</strong></p><p>EM: We've gathered a lot of information. Deb, one of our reporters, has worked for weeks on this story. And we kind of didn't get anywhere with it. We tried to alert the city through backdoor channels that they needed to really look at his employment record. They said, “oh, we have,” and we talked to the Kansas City, Missouri Police where he was from, and the Human Resources Department said, “no, nobody's ever looked at his record.” Then two days later, somebody did look at it after they'd already told us they'd done so. </p><p>But the Kansas City Missouri Police HR Department told us, they [the city of Marion] asked specifically for only those things in which he [Cody] had been convicted and disciplinary action had been taken. And so that's all they gave him. This action wasn't completed. So that was where we kind of had to leave the story. They went ahead and hired him.&nbsp;</p><p><strong>MK: So you feel comfortable publicly saying that you would have been investigating the police chief?</strong></p><p>EM: I wouldn't feel comfortable printing individual allegations, but it is true that we were investigating him and we had decided not to run anything at this point. We're not making any allegations against him, but we had investigated allegations.&nbsp;</p><p><strong>MK: Have you heard from Congressman LaTurner since the police raids?</strong></p><p><span>EM: No, we have not. But again, it is so hard to reach us right now. Unless you have this landline [</span><em>Ed note: we were speaking via his home landline that he’d provided via email</em><span>] and I happen to be there, or the other landline [at the office] and I happen to be there. I haven't seen any email from them, nor have I received any calls from them.&nbsp;</span></p><p><strong>MK: With all the national attention, what should people outside Kansas know about Marion?</strong><span>&nbsp;</span></p><p><span>EM: It’s a very small rural community. I worked at the </span><em>Milwaukee Journal</em><span> for 20 years and then taught at the University of Illinois. And they'd say, where are you from? And I'd say I'm from Kansas. And they’d say where in Kansas? And I'd say, if you've heard of any place in Kansas, it’s 60 miles from there. It's kind of out in the middle of nowhere. We are on the boundary of an area code. We're on the boundary of three zip codes. We're on the boundary between two TV markets. It's a farming community that also has some resort activities. We have a couple of lakes which in Kansas is kind of unusual. But mostly it's a farming community.</span></p><p>But other than that, it's like a lot of small towns. We are unusual in that running the paper isn't my livelihood. I mean, I retired from the University of Illinois. I still have a pension from the Milwaukee Journal. I haven't even taken my social security yet. And I don't take a salary, unless I take a bonus at the end of the year if we made any money from the newspaper. So I don't get regularly paid, and it's not my livelihood.&nbsp;</p><p>I'm doing this because I believe that newspapers still have a place in the world and that the worst thing that a newspaper could do was shrink its reporting staff, stop reporting, fill itself with non-news when there's still news out there. And if you do a good job of providing news, you will get readers.&nbsp;</p><p>We try to be aggressive with the news and we try to be fearless with the news because as I say, we're doing this because we care about the community. And that's one of the points I've tried to make, is that it's really hard to commit journalism properly with people who don't care about the community they're serving.&nbsp;</p><p><strong>MK: I just wanted to end with one last question: What do you think this raid on your paper and on your home says about the state of journalism in the country right now?</strong></p><p><span>EM: I haven't been able to see enough of the outpouring from the people </span><em>in</em><span> this town. We've been getting incredible support from people outside this town. People in this town have been very supportive, but not publicly. And I talked to one person who said, “Oh, are you sure It's ok that I can talk to you because they might come and seize my computer?” They're afraid. They're really afraid that the police power is unchecked, and that they can be punished like this. And I think that's why I think it's important for us to fight this as much as we can, because it is destroying everything we're trying to do with democracy, which is to get people more involved.&nbsp;</span></p><p>We've been trying to get people involved because people are afraid that if they step up—in a small town particularly—they will get squashed. Someone will knife them in the back. They will tell all their friends to stop doing business with them, or they will shun them, or they won't take them to the country club.</p><p>It’s a way to dispirit people from becoming involved in government by making them think that if you do, there's gonna be consequences and they're going to be negative. And in a community that's largely a lot of older people, a lot of them have said, you know, I've fought all the battles. I don't want to have a new battle that I'm dealing with. So they'll all complain about something, but they'll do it very quietly. We won't hear about it.&nbsp;</p><p><em>Tips? Email MKwrites4000@proton.me</em></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Exploring the Internals of Linux v0.01 (418 pts)]]></title>
            <link>https://seiya.me/blog/reading-linux-v0.01</link>
            <guid>37101588</guid>
            <pubDate>Sat, 12 Aug 2023 16:06:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://seiya.me/blog/reading-linux-v0.01">https://seiya.me/blog/reading-linux-v0.01</a>, See on <a href="https://news.ycombinator.com/item?id=37101588">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Linux kernel is often mentioned as a overwhelmingly large open source software. As of this writing, the latest version is v6.5-rc5, which consists of 36M lines of code. Needless to say, Linux is a fruit of hard work of many contributors over the decades.</p>
<p>However, the first version of Linux, v0.01 was pretty small. It consisted of only 10239 lines of code. Excluding comments and blank lines, it was only 8,670 lines. It's small enough to understand and is a good starting point to learn about the internals of UNIX-like operating system kernels.</p>
<p>Reading v0.01 was really fun for me. It was like visiting Computer History Museum in Mountain View - finally I witnessed <em>tales</em> are indeed true! I wrote this post to share this exciting experience with you. Let's dive in!</p>
<p><em>Disclaimer: Obviously I'm not the author of Linux v0.01. If you find any mistakes in this post, please let me know!</em></p>
<h2 id="how-do-system-calls-look-like">How do system calls look like?</h2>
<p>v0.01 has 66 system calls. Here's the list of them:</p>
<pre><code><span>access acct alarm break brk chdir chmod
</span><span>chown chroot close creat dup dup2 execve
</span><span>exit fcntl fork fstat ftime getegid geteuid
</span><span>getgid getpgrp setsid getpid getppid
</span><span>getuid gtty ioctl kill link lock lseek
</span><span>mkdir mknod mount mpx nice open pause
</span><span>phys pipe prof ptrace read rename rmdir
</span><span>setgid setpgid setuid setup signal stat
</span><span>stime stty sync time times ulimit umask
</span><span>umount uname unlink ustat utime waitpid write
</span></code></pre>
<ul>
<li>It supports reading, writing, creating, and deleting files and directories. Also, other fundamental concepts like <code>chmod(2)</code> (permission), <code>chown(2)</code> (owner), and <code>pipe(2)</code> (inter-process communication) are also supported.</li>
<li><code>fork(2)</code> and <code>execve(2)</code> were there. Only <code>a.out</code> executable format was supported.</li>
<li>The concept of sockets was not implemented. Thus, no network support.</li>
<li>Some features like <code>mount(2)</code> was not implemented: they just return <code>ENOSYS</code>:</li>
</ul>
<pre><code><span><span>int</span> <span>sys_mount</span><span>(</span><span>)</span>
</span><span><span>{</span>
</span><span>	<span>return</span> <span>-</span>ENOSYS<span>;</span>
</span><span><span>}</span>
</span></code></pre>
<h2 id="deeply-hardcoded-for-intel-386-architecture">Deeply hardcoded for Intel 386 architecture</h2>
<p>There is <a href="https://www.oreilly.com/openbook/opensources/book/appa.html">a very famous debate</a> Linus had a debate with Andrew S. Tanenbaum, the author of MINIX, about the design of operating systems: monolithic vs. microkernel, which is better design?</p>
<p>Tanenbaum <a href="https://www.oreilly.com/openbook/opensources/book/appa.html#:~:text=LINUX%20is%20tied%20fairly%20closely%20to%20the%2080x86">pointed out that</a> Linux is (or <em>was</em>) not portable because it was deeply hardcoded for Intel 386 (i386):</p>
<blockquote>
<p>MINIX was designed to be reasonably portable, and has been ported from the Intel line to the 680x0 (Atari, Amiga, Macintosh), SPARC, and NS32016. LINUX is tied fairly closely to the 80x86.  Not the way to go.</p>
</blockquote>
<p>It's indeed true. Linux v0.01 was deeply hardcoded for o386. Here's the implementation of <code>strcpy</code> in <code>include/string.h</code>:</p>
<pre><code><span><span>extern</span> <span>inline</span> <span>char</span> <span>*</span> <span>strcpy</span><span>(</span><span>char</span> <span>*</span> dest<span>,</span><span>const</span> <span>char</span> <span>*</span>src<span>)</span>
</span><span><span>{</span>
</span><span><span>__asm__</span><span>(</span><span>"cld\n"</span>
</span><span>	<span>"1:\tlodsb\n\t"</span>
</span><span>	<span>"stosb\n\t"</span>
</span><span>	<span>"testb %%al,%%al\n\t"</span>
</span><span>	<span>"jne 1b"</span>
</span><span>	<span>::</span><span>"S"</span> <span>(</span>src<span>)</span><span>,</span><span>"D"</span> <span>(</span>dest<span>)</span><span>:</span><span>"si"</span><span>,</span><span>"di"</span><span>,</span><span>"ax"</span><span>)</span><span>;</span>
</span><span><span>return</span> dest<span>;</span>
</span><span><span>}</span>
</span></code></pre>
<p>It's written in assembly with string instructions of i386. Yes it can be found in today's portable implementations of <code>strcpy</code>, but it's in <code>include/string.h</code> - not in somewhere like <code>include/i386/string.h</code>. Moreover, no <code>#ifdef</code> to switch the implementation for different architectures. It's just hardcoded for Intel 386.</p>
<p>Also, supported devices are for PC/AT compatible machines, here's the list of them:</p>
<ul>
<li><a href="https://wiki.osdev.org/CMOS">CMOS</a>: Real-time clock (<code>init/main.c</code>).</li>
<li><a href="https://wiki.osdev.org/Programmable_Interval_Timer">Programmable Interval Timer (PIT)</a>: Timer (<code>kernel/sched.c</code>).</li>
<li><a href="https://wiki.osdev.org/ATA_PIO_Mode">ATA (PIO)</a>: Hard disk (<code>kernel/hd.c</code>).</li>
<li><a href="https://wiki.osdev.org/VGA_Hardware">VGA (text mode)</a>: Display (<code>kernel/console.c</code>).</li>
<li><a href="https://wiki.osdev.org/%228042%22_PS/2_Controller">Intel 8042</a>: PS/2 Keyboard (<code>kernel/keyboard.s</code>). Yes it's completely written in assembly!</li>
</ul>
<p>As you may noticed, they're not in <code>drivers</code> directory as in today's Linux. They're hardcoded in core subsystems.</p>
<h2 id="freax">"FREAX"</h2>
<p>I've read in somewhere that Linus originally named his kernel "FREAX". Makefile in <em>Linux</em> v0.01 still had the following comment:</p>
<pre><code><span># Makefile for the FREAX-kernel.
</span></code></pre>
<p>It was indeed FREAX!</p>
<h2 id="whats-the-file-system-supported-in-v001">What's the file system supported in v0.01?</h2>
<p>Today, Linux supports a variety of file systems such as ext4, Btrfs, and XFS. What about v0.01? ext2? Nope, here's a hint from <code>include/linux/fs.h</code>:</p>
<pre><code><span><span><span>#</span><span>define</span> <span>SUPER_MAGIC</span> <span><span>0x137F</span></span></span>
</span></code></pre>
<p>The answer is, as <a href="https://sdk.vercel.ai/r/XR1FQfg">GPT-4 correctly guessed</a>, <a href="https://en.wikipedia.org/wiki/Minix_file_system">MINIX file system</a>!</p>
<p>Fun fact: <a href="https://en.wikipedia.org/wiki/Extended_file_system">ext</a> ("extended file system"), the predecessor of ext2/ext3/ext4, is inspired by MINIX file system.</p>
<h2 id="there-probably-wont-be-any-reason-to-change-the-scheduler">There "probably" won't be any reason to change the scheduler</h2>
<p>Here's the scheduler of Linux v0.01:</p>
<pre><code><span>	<span>while</span> <span>(</span><span>1</span><span>)</span> <span>{</span>
</span><span>		c <span>=</span> <span>-</span><span>1</span><span>;</span>
</span><span>		next <span>=</span> <span>0</span><span>;</span>
</span><span>		i <span>=</span> NR_TASKS<span>;</span>
</span><span>		p <span>=</span> <span>&amp;</span>task<span>[</span>NR_TASKS<span>]</span><span>;</span>
</span><span>		<span>while</span> <span>(</span><span>--</span>i<span>)</span> <span>{</span>
</span><span>			<span>if</span> <span>(</span><span>!</span><span>*</span><span>--</span>p<span>)</span>
</span><span>				<span>continue</span><span>;</span>
</span><span>			<span>if</span> <span>(</span><span>(</span><span>*</span>p<span>)</span><span>-&gt;</span>state <span>==</span> TASK_RUNNING <span>&amp;&amp;</span> <span>(</span><span>*</span>p<span>)</span><span>-&gt;</span>counter <span>&gt;</span> c<span>)</span>
</span><span>				c <span>=</span> <span>(</span><span>*</span>p<span>)</span><span>-&gt;</span>counter<span>,</span> next <span>=</span> i<span>;</span>
</span><span>		<span>}</span>
</span><span>		<span>if</span> <span>(</span>c<span>)</span> <span>break</span><span>;</span>
</span><span>		<span>for</span><span>(</span>p <span>=</span> <span>&amp;</span>LAST_TASK <span>;</span> p <span>&gt;</span> <span>&amp;</span>FIRST_TASK <span>;</span> <span>--</span>p<span>)</span>
</span><span>			<span>if</span> <span>(</span><span>*</span>p<span>)</span>
</span><span>				<span>(</span><span>*</span>p<span>)</span><span>-&gt;</span>counter <span>=</span> <span>(</span><span>(</span><span>*</span>p<span>)</span><span>-&gt;</span>counter <span>&gt;&gt;</span> <span>1</span><span>)</span> <span>+</span>
</span><span>						<span>(</span><span>*</span>p<span>)</span><span>-&gt;</span>priority<span>;</span>
</span><span>	<span>}</span>
</span><span>	<span>switch_to</span><span>(</span>next<span>)</span><span>;</span>
</span></code></pre>
<p><code>i</code> and <code>p</code> hold the task's index in the task table (not PID!) and the pointer to <code>task_struct</code> respectively. The key variable is <code>counter</code> in <code>task_struct</code> (<code>(*p)-&gt;counter</code>). The scheduler picks up the task with the largest <code>counter</code> value and switches to it. If all runnable tasks have counter value of 0, it updates each task's <code>counter</code> value by <code>counter = (counter &gt;&gt; 1) + priority</code> and restarts the loop. Note that <code>counter &gt;&gt; 1</code> is a faster way to divide by 2.</p>
<p>The key point would be the counter update. It also updates the counter value of non-runnable tasks. This means that if a task is waiting for I/O for a <em>long time</em>, and its priority is higher than 2, counter value will monotonically increase when counter is updated. This is just my guess, but I think this is for prioritizing rarely-runnable-but-latency-sensitive tasks like shell, which would waits for keyboard typing in most of the life.</p>
<p>Lastly, <code>switch_to(next)</code> is a macro which switches the CPU context to the picked task. It's well described in <a href="https://www.maizure.org/projects/evolution_x86_context_switch_linux/">here</a>. In short, it was based on a x86-specific feature called <a href="https://en.wikipedia.org/wiki/Task_state_segment">Task State Segment (TSS)</a>, which is no longer used for task management in x86-64 architecture.</p>
<p>By the way, there's an interesting comment about the scheduler:</p>
<pre><code><span> *  'schedule()' is the scheduler function. This is GOOD CODE! There
</span><span> * probably won't be any reason to change this, as it should work well
</span><span> * in all circumstances (ie gives IO-bound processes good response etc).
</span></code></pre>
<p>Yes it's indeed good code. Unfortunately (or fortunately), this prophecy is false. Linux became one of most practical and performant kernel which has introduced many new scheduling improvements and algorithms over the years, like Completely Fair Scheduler (CFS).</p>
<h2 id="kernel-panic-in-5-lines">Kernel panic in 5 lines</h2>
<pre><code><span><span>volatile</span> <span>void</span> <span>panic</span><span>(</span><span>const</span> <span>char</span> <span>*</span> s<span>)</span>
</span><span><span>{</span>
</span><span>	<span>printk</span><span>(</span><span>"Kernel panic: %s\n\r"</span><span>,</span>s<span>)</span><span>;</span>
</span><span>	<span>for</span><span>(</span><span>;</span><span>;</span><span>)</span><span>;</span>
</span><span><span>}</span>
</span></code></pre>
<p>Let the user know it went wrong, and hang the system. Period.</p>
<h2 id="fork2-in-kernel-space"><code>fork(2)</code> in kernel space?</h2>
<p>The main portion of kernel initialization can be found in <code>init/main.c</code> (fun fact: this file still exists in today's Linux kernel and initializes the kernel):</p>
<pre><code><span><span>void</span> <span>main</span><span>(</span><span>void</span><span>)</span>		<span>/* This really IS void, no error here. */</span>
</span><span><span>{</span>			<span>/* The startup routine assumes (well, ...) this */</span>
</span><span><span>/*
</span></span><span><span> * Interrupts are still disabled. Do necessary setups, then
</span></span><span><span> * enable them
</span></span><span><span> */</span>
</span><span>	<span>time_init</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>tty_init</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>trap_init</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>sched_init</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>buffer_init</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>hd_init</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>sti</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>move_to_user_mode</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>if</span> <span>(</span><span>!</span><span>fork</span><span>(</span><span>)</span><span>)</span> <span>{</span>		<span>/* we count on this going ok */</span>
</span><span>		<span>init</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>}</span>
</span><span><span>/*
</span></span><span><span> *   NOTE!!   For any other task 'pause()' would mean we have to get a
</span></span><span><span> * signal to awaken, but task0 is the sole exception (see 'schedule()')
</span></span><span><span> * as task 0 gets activated at every idle moment (when no other tasks
</span></span><span><span> * can run). For task0 'pause()' just means we go check if some other
</span></span><span><span> * task can run, and if not we return here.
</span></span><span><span> */</span>
</span><span>	<span>for</span><span>(</span><span>;</span><span>;</span><span>)</span> <span>pause</span><span>(</span><span>)</span><span>;</span>
</span><span><span>}</span>
</span><span>
</span><span><span>void</span> <span>init</span><span>(</span><span>void</span><span>)</span>
</span><span><span>{</span>
</span><span>	<span>int</span> i<span>,</span>j<span>;</span>
</span><span>
</span><span>	<span>setup</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>if</span> <span>(</span><span>!</span><span>fork</span><span>(</span><span>)</span><span>)</span>
</span><span>		<span>_exit</span><span>(</span><span>execve</span><span>(</span><span>"/bin/update"</span><span>,</span><span>NULL</span><span>,</span><span>NULL</span><span>)</span><span>)</span><span>;</span>
</span><span>	<span>(</span><span>void</span><span>)</span> <span>open</span><span>(</span><span>"/dev/tty0"</span><span>,</span>O_RDWR<span>,</span><span>0</span><span>)</span><span>;</span>
</span><span>	<span>(</span><span>void</span><span>)</span> <span>dup</span><span>(</span><span>0</span><span>)</span><span>;</span>
</span><span>	<span>(</span><span>void</span><span>)</span> <span>dup</span><span>(</span><span>0</span><span>)</span><span>;</span>
</span><span>	<span>printf</span><span>(</span><span>"%d buffers = %d bytes buffer space\n\r"</span><span>,</span>NR_BUFFERS<span>,</span>
</span><span>		NR_BUFFERS<span>*</span>BLOCK_SIZE<span>)</span><span>;</span>
</span><span>	<span>printf</span><span>(</span><span>" Ok.\n\r"</span><span>)</span><span>;</span>
</span><span>	<span>if</span> <span>(</span><span>(</span>i<span>=</span><span>fork</span><span>(</span><span>)</span><span>)</span><span>&lt;</span><span>0</span><span>)</span>
</span><span>		<span>printf</span><span>(</span><span>"Fork failed in init\r\n"</span><span>)</span><span>;</span>
</span><span>	<span>else</span> <span>if</span> <span>(</span><span>!</span>i<span>)</span> <span>{</span>
</span><span>		<span>close</span><span>(</span><span>0</span><span>)</span><span>;</span><span>close</span><span>(</span><span>1</span><span>)</span><span>;</span><span>close</span><span>(</span><span>2</span><span>)</span><span>;</span>
</span><span>		<span>setsid</span><span>(</span><span>)</span><span>;</span>
</span><span>		<span>(</span><span>void</span><span>)</span> <span>open</span><span>(</span><span>"/dev/tty0"</span><span>,</span>O_RDWR<span>,</span><span>0</span><span>)</span><span>;</span>
</span><span>		<span>(</span><span>void</span><span>)</span> <span>dup</span><span>(</span><span>0</span><span>)</span><span>;</span>
</span><span>		<span>(</span><span>void</span><span>)</span> <span>dup</span><span>(</span><span>0</span><span>)</span><span>;</span>
</span><span>		<span>_exit</span><span>(</span><span>execve</span><span>(</span><span>"/bin/sh"</span><span>,</span>argv<span>,</span>envp<span>)</span><span>)</span><span>;</span>
</span><span>	<span>}</span>
</span><span>	j<span>=</span><span>wait</span><span>(</span><span>&amp;</span>i<span>)</span><span>;</span>
</span><span>	<span>printf</span><span>(</span><span>"child %d died with code %04x\n"</span><span>,</span>j<span>,</span>i<span>)</span><span>;</span>
</span><span>	<span>sync</span><span>(</span><span>)</span><span>;</span>
</span><span>	<span>_exit</span><span>(</span><span>0</span><span>)</span><span>;</span>	<span>/* NOTE! _exit, not exit() */</span>
</span><span><span>}</span>
</span></code></pre>
<p>It calls each subsystem's initialization functions. Pretty straightforward. But there's something interesting: it calls <code>fork(2)</code> in kernel's <code>main()</code>. Also, <code>init()</code> looks like an ordinary implementation in user space, but it's hardcoded in the kernel code!</p>
<p>It looks as if it's fork(2)-ing in the kernel space, but it's actually not. The trick is in <code>move_to_user_mode()</code>:</p>
<pre><code><span><span><span>#</span><span>define</span> <span>move_to_user_mode</span><span><span>(</span><span>)</span> </span><span>\</span>
</span></span><span><span><span><span>__asm__</span> <span>(</span></span><span>"movl %%esp,%%eax\n\t"</span> <span>\ </span><span>// EAX = current stack pointer</span></span>
</span><span>	<span>"pushl $0x17\n\t"</span> \           <span>// Set SS to user data segment</span>
</span><span>	<span>"pushl %%eax\n\t"</span> \           <span>// ESP</span>
</span><span>	<span>"pushfl\n\t"</span> \                <span>// EFLAGS</span>
</span><span>	<span>"pushl $0x0f\n\t"</span> \           <span>// CS register (user code seg)</span>
</span><span>	<span>"pushl $1f\n\t"</span> \             <span>// EIP (return address)</span>
</span><span>	<span>"iret\n"</span> \                    <span>// switch to user mode</span>
</span><span>	<span>"1:\tmovl $0x17,%%eax\n\t"</span> \  <span>// IRET returns to this address</span>
</span><span>	<span>"movw %%ax,%%ds\n\t"</span> \        <span>// Set DS to user data segment</span>
</span><span>	<span>"movw %%ax,%%es\n\t"</span> \        <span>// Set ES to user data segment</span>
</span><span>	<span>"movw %%ax,%%fs\n\t"</span> \        <span>// Set FS to user data segment</span>
</span><span>	<span>"movw %%ax,%%gs"</span> \            <span>// Set GS to user data segment</span>
</span><span>	<span>::</span><span>:</span><span>"ax"</span><span>)</span>                      <span>// No RET instruction here: </span>
</span><span>                                  <span>// continue executing following</span>
</span><span>                                  <span>// lines!</span>
</span></code></pre>
<p>You don't need to fully understand the assembly code above. What it does is to switch to the user mode using <a href="https://wiki.osdev.org/Getting_to_Ring_3#iret_method">IRET instruction</a> but continue executing the following lines in the kernel code with the current stack pointer! Thus, the following <code>if (!fork())</code> is executed in user mode and <code>fork(2)</code> is actually a system call.</p>
<h2 id="linus-didnt-have-a-machine-with-8mb-ram">Linus didn't have a machine with 8MB RAM</h2>
<pre><code><span> * For those with more memory than 8 Mb - tough luck. I've
</span><span> * not got it, why should you :-) The source is here. Change
</span><span> * it. (Seriously - it shouldn't be too difficult. ...
</span></code></pre>
<p>Today, machines with 8GB RAM are very common. Furthermore, 8GB is not enough at all for software engineers ;)</p>

<p>Lastly, I tried to compile the kernel with modern toolchains but failed to do so. I thought GCC (or C itself) has good backward compatibility, but it's not sufficient. Even with older standard <code>-std=gnu90</code> caused compile errors that are not trivial to fix.</p>
<p>One fun fact is Linux had used his own GCC with a feature named <code>-mstring-insns</code>:</p>
<pre><code><span># If you don't have '-mstring-insns' in your gcc (and nobody but me has :-)
</span><span># remove them from the CFLAGS defines.
</span></code></pre>
<p>I'm not sure what it is, but it seems to be a feature to support (or optimize?) <a href="https://www.cs.uaf.edu/2017/fall/cs301/lecture/10_06_string_inst.html">x86 string instructions</a>.</p>
<p>If you managed to compile the kernel with modern toolchains, write an article and send me a link :D</p>
<h2 id="read-yourself">Read Yourself!</h2>
<p>I hope you enjoyed reading the source code of Linux v0.01 as much as I did. If you're interested in v0.01, download <a href="https://cdn.kernel.org/pub/linux/kernel/Historic/linux-0.01.tar.gz">the tarball of v0.01 from kernel.org</a>. Reading the code is not so hard especially if you've read <a href="https://github.com/mit-pdos/xv6-public">xv6</a> before. Linux v0.01 is minimalistic but is very well written.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[CLOS: Integrating Object-Oriented and Functional Programming (2004) [pdf] (110 pts)]]></title>
            <link>https://dreamsongs.com/Files/clos-cacm.pdf</link>
            <guid>37101563</guid>
            <pubDate>Sat, 12 Aug 2023 16:03:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dreamsongs.com/Files/clos-cacm.pdf">https://dreamsongs.com/Files/clos-cacm.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=37101563">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Deep Learning Systems (CMU Course) (221 pts)]]></title>
            <link>https://dlsyscourse.org/lectures/</link>
            <guid>37101515</guid>
            <pubDate>Sat, 12 Aug 2023 15:59:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dlsyscourse.org/lectures/">https://dlsyscourse.org/lectures/</a>, See on <a href="https://news.ycombinator.com/item?id=37101515">Hacker News</a></p>
<div id="readability-page-1" class="page"><div role="main">
      

      <p>This page provides a tentative schedule of all lectures for the coures.  The precise timing of some of these lectures could change.  Slides and video recordings will be released during the courses of the semester.  CMU lecture videos for all lectures are available <a href="https://scs.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx#folderID=%22dcc6e96b-647c-4b8a-89f8-aefc0101dea2%22">here</a> (requires CMU login).</p>

<p>Lecture videos for the public online course, when they are available, will be posted on this page along with each set of slides.</p>

<table>
  <thead>
    <tr>
      <th>Date (CMU)</th>
      <th>Date (online)</th>
      <th>Lecture</th>
      <th>Instructor</th>
      <th>Slides</th>
      <th>Video</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>8/30</td>
      <td>9/13</td>
      <td>1 - Introduction / Logistics</td>
      <td>Kolter</td>
      <td><a href="https://dlsyscourse.org/slides/intro.pdf">pdf</a> <br> <a href="https://dlsyscourse.org/slides/intro_online.pdf">pdf (online)</a></td>
      <td><a href="https://youtu.be/ftP5HeOvsI0">YouTube</a></td>
    </tr>
    <tr>
      <td>9/1</td>
      <td>9/15</td>
      <td>2 - ML Refresher / Softmax Regression</td>
      <td>Kolter</td>
      <td><a href="https://dlsyscourse.org/slides/softmax_regression.pdf">pdf</a></td>
      <td><a href="https://youtu.be/MlivXhZFbNA">YouTube</a></td>
    </tr>
    <tr>
      <td>9/6</td>
      <td>9/20</td>
      <td>3 - Manual Neural Networks / Backprop</td>
      <td>Kolter</td>
      <td><a href="https://dlsyscourse.org/slides/manual_neural_nets.pdf">pdf</a></td>
      <td><a href="https://youtu.be/OyrqSYJs7NQ">YouTube (pt 1)</a> <a href="https://youtu.be/JLg1HkzDsKI">YouTube (pt 2)</a></td>
    </tr>
    <tr>
      <td>9/8</td>
      <td>9/22</td>
      <td>4 - Automatic Differentiation</td>
      <td>Chen</td>
      <td><a href="https://dlsyscourse.org/slides/4-automatic-differentiation.pdf">pdf</a></td>
      <td><a href="https://youtu.be/56WUlMEeAuA">YouTube</a></td>
    </tr>
    <tr>
      <td>9/13</td>
      <td>9/27</td>
      <td>5 - Automatic Differentiation Implementation</td>
      <td>Chen</td>
      <td><a href="https://github.com/dlsyscourse/lecture4/blob/main/5_automatic_differentiation_implementation.ipynb">ipynb</a></td>
      <td><a href="https://youtu.be/cNADlHfHQHg">YouTube</a></td>
    </tr>
    <tr>
      <td>9/15</td>
      <td>9/29</td>
      <td>6 - Optimization</td>
      <td>Kolter</td>
      <td><a href="https://dlsyscourse.org/slides/fc_init_opt.pdf">pdf</a></td>
      <td><a href="https://youtu.be/CukpVt-1PA4">YouTube</a></td>
    </tr>
    <tr>
      <td>9/20</td>
      <td>10/4</td>
      <td>7 - Neural Network Library Abstractions</td>
      <td>Chen</td>
      <td><a href="https://dlsyscourse.org/slides/7-nn-framework.pdf">pdf</a></td>
      <td><a href="https://youtu.be/fzKNkS_5E6U">YouTube</a></td>
    </tr>
    <tr>
      <td>9/22</td>
      <td>10/6</td>
      <td>8 - NN Library Implementation</td>
      <td>Chen</td>
      <td><a href="https://github.com/dlsyscourse/lecture8/blob/main/8_nn_library_implementation.ipynb">ipynb</a></td>
      <td><a href="https://youtu.be/uB81vGRrH0c">YouTube</a></td>
    </tr>
    <tr>
      <td>9/27</td>
      <td>10/11</td>
      <td>9 - Normalization, Dropout, + Implementation</td>
      <td>Kolter</td>
      <td><a href="https://dlsyscourse.org/slides/norm_reg.pdf">pdf</a></td>
      <td><a href="https://youtu.be/ky7qiKyZmnE">YouTube</a></td>
    </tr>
    <tr>
      <td>9/29</td>
      <td>10/13</td>
      <td>10 - Convolutional Networks</td>
      <td>Kolter</td>
      <td><a href="https://dlsyscourse.org/slides/conv_nets.pdf">pdf</a></td>
      <td><a href="https://youtu.be/-5RPPjn0hPg">YouTube</a></td>
    </tr>
    <tr>
      <td>10/4</td>
      <td>10/25</td>
      <td>11  - Hardware Acceleration for Linear Algebra</td>
      <td>Chen</td>
      <td><a href="https://dlsyscourse.org/slides/11-hardware-acceleration.pdf">pdf</a></td>
      <td><a href="https://youtu.be/es6s6T1bTtI">YouTube</a></td>
    </tr>
    <tr>
      <td>10/6</td>
      <td>10/27</td>
      <td>12 - Hardware Acceleration + GPUs</td>
      <td>Chen</td>
      <td><a href="https://dlsyscourse.org/slides/12-gpu-acceleration.pdf">pdf</a></td>
      <td><a href="https://youtu.be/jYCxVirq4d0">YouTube</a></td>
    </tr>
    <tr>
      <td>10/11</td>
      <td>11/1</td>
      <td>13  - Hardware Acceleration Implementation</td>
      <td>Chen</td>
      <td><a href="https://github.com/dlsyscourse/lecture14/blob/main/14_hardware_acceleration_architecture_overview.ipynb">ipynb</a></td>
      <td><a href="https://youtu.be/XdhUZRXA7fg">YouTube</a></td>
    </tr>
    <tr>
      <td>10/13</td>
      <td>11/3</td>
      <td>14 - Convoluations Network Implementation</td>
      <td>Kolter</td>
      <td><a href="https://github.com/dlsyscourse/public_notebooks/blob/main/convolution_implementation.ipynb">ipynb</a></td>
      <td><a href="https://youtu.be/7kclgMIcMq0">YouTube</a></td>
    </tr>
    <tr>
      <td>10/18</td>
      <td>&nbsp;</td>
      <td><em>Fall Break</em></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>10/20</td>
      <td>&nbsp;</td>
      <td><em>Fall Break</em></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>10/25</td>
      <td>11/8</td>
      <td>15 - Training Large Models</td>
      <td>Chen</td>
      <td><a href="https://dlsyscourse.org/slides/15-training-large-models.pdf">pdf</a></td>
      <td><a href="https://youtu.be/HSzVogM5IPo">YouTube</a></td>
    </tr>
    <tr>
      <td>10/27</td>
      <td>11/10</td>
      <td>16 - Generative Adversarial Networks</td>
      <td>Chen</td>
      <td><a href="https://dlsyscourse.org/slides/16-generative-adversarial-networks.pdf">pdf</a></td>
      <td><a href="https://youtu.be/iIx_8_pxzhs">YouTube</a></td>
    </tr>
    <tr>
      <td>11/1</td>
      <td>11/15</td>
      <td>17 - Generative Adversarial Networks Implementation</td>
      <td>Chen</td>
      <td><a href="https://github.com/dlsyscourse/public_notebooks/blob/main/17_generative_adversarial_networks_implementation.ipynb">ipynb</a></td>
      <td><a href="https://youtu.be/DmBw8SEeAc0">YouTube</a></td>
    </tr>
    <tr>
      <td>11/3</td>
      <td>11/17</td>
      <td>18 - Sequence Modeling + RNNs</td>
      <td>Kolter</td>
      <td><a href="https://dlsyscourse.org/slides/rnns.pdf">pdf</a></td>
      <td><a href="https://youtu.be/aI47BqLYahc">YouTube</a></td>
    </tr>
    <tr>
      <td>11/8</td>
      <td>11/22</td>
      <td>19 - Sequence Modeling Implementation</td>
      <td>Kolter</td>
      <td><a href="https://github.com/dlsyscourse/public_notebooks/blob/main/rnn_implementation.ipynb">ipynb</a></td>
      <td><a href="https://youtu.be/q12VPh-bK7k">YouTube</a></td>
    </tr>
    <tr>
      <td>11/10</td>
      <td>11/29</td>
      <td>20 - Transformers + Attention</td>
      <td>Kolter</td>
      <td><a href="https://dlsyscourse.org/slides/transformers.pdf">pdf</a></td>
      <td><a href="https://youtu.be/IFKRf-BAqZo">Youtube</a></td>
    </tr>
    <tr>
      <td>11/15</td>
      <td>12/1</td>
      <td>21 - Transformers + Attention Implementation</td>
      <td>Kolter</td>
      <td><a href="https://github.com/dlsyscourse/public_notebooks/blob/main/transformer_implementation.ipynb">ipynb</a></td>
      <td><a href="https://youtu.be/OzFmKdAHJn0">Youtube</a></td>
    </tr>
    <tr>
      <td>11/17</td>
      <td>12/6</td>
      <td>22 - Implicit Layers</td>
      <td>Kolter</td>
      <td><a href="https://dlsyscourse.org/slides/implicit_layers.pdf">pdf</a></td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>11/22</td>
      <td>12/8</td>
      <td>23 - no class</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>11/29</td>
      <td>12/13</td>
      <td>24 - Model Deployment</td>
      <td>Chen</td>
      <td><a href="https://dlsyscourse.org/slides/23-model-deployment.pdf">pdf</a></td>
      <td><a href="https://youtu.be/jCBrUisBQ0A">Youtube</a></td>
    </tr>
    <tr>
      <td>12/1</td>
      <td>12/15</td>
      <td>25 - Machine Learning Compilation and Deployment Implementation</td>
      <td>Chen</td>
      <td><a href="https://github.com/dlsyscourse/public_notebooks/blob/main/24_machine_learning_compilation_deployment_implementation.ipynb">ipynb</a></td>
      <td><a href="https://youtu.be/HIwsCzdW_pw">Youtube</a></td>
    </tr>
    <tr>
      <td>12/6</td>
      <td>12/15</td>
      <td>26 - Future Directions / Q&amp;A</td>
      <td>Both</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>12/8</td>
      <td>-</td>
      <td>27 - Student project presentations</td>
      <td>Students</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>




      

      

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Securing Your PostgreSQL DB with Roles and Privileges (112 pts)]]></title>
            <link>https://rlopzc.com/posts/securing-your-postgresql-db-with-roles--privileges/</link>
            <guid>37100641</guid>
            <pubDate>Sat, 12 Aug 2023 14:39:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://rlopzc.com/posts/securing-your-postgresql-db-with-roles--privileges/">https://rlopzc.com/posts/securing-your-postgresql-db-with-roles--privileges/</a>, See on <a href="https://news.ycombinator.com/item?id=37100641">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="article" role="article">
      <p>PostgreSQL authorization has always been a black box for me. I’ve never “needed” different roles to manage who/what has
access to my DB. I’ve always relied on <code>postgres</code> superuser for all my web applications, and it has worked so far!</p>
<p>I recently needed to avoid <code>postgres</code> superuser. To become SOC2 compliant, we needed to remove global access and fine-tune who has access to
what schemas and tables. This is where my journey starts in the PostgreSQL authorization realm.</p>
<p>Let’s dive in.</p>
<h2 id="table-of-contents">Table of contents</h2>
<details><summary>Open Table of contents</summary>
<ul>
<li>
<p><a href="#authorization-concepts">Authorization concepts</a></p>
<ul>
<li><a href="#users">Users</a></li>
<li><a href="#roles">Roles</a></li>
<li><a href="#privileges">Privileges</a></li>
</ul>
</li>
<li>
<p><a href="#authentication-and-authorization-commands">Authentication and authorization commands</a></p>
<ul>
<li><a href="#create-role">CREATE ROLE</a></li>
<li><a href="#create-user">CREATE USER</a></li>
<li><a href="#grant">GRANT</a></li>
<li><a href="#alter-default-privileges">ALTER DEFAULT PRIVILEGES</a></li>
<li><a href="#reassign-owned">REASSIGN OWNED</a></li>
</ul>
</li>
<li>
<p><a href="#scoping-the-roles-you-need">Scoping the roles you need</a></p>
</li>
<li>
<p><a href="#real-world-example">Real-world example</a></p>
<ul>
<li>
<p><a href="#current-state">Current state</a></p>
</li>
<li>
<p><a href="#desired-state">Desired state</a></p>
</li>
<li>
<p><a href="#lets-do-it">Let’s do it!</a></p>
<ul>
<li><a href="#lets-start-with-db_migrations-role">Let’s start with <code>db_migrations</code> role.</a></li>
<li><a href="#following-up-with-the-engineering-role-to-read-and-write-access-to-all-schemas-and-tables">Following up with the <code>engineering</code> role to read and write access to all schemas and tables</a></li>
<li><a href="#the-metabase-role-read-access">The <code>metabase</code> role. Read access.</a></li>
<li><a href="#rotate-the-postgres-role-password">Rotate the <code>postgres</code> role password</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</details>

<p>Let’s start laying the foundation with the different concepts we will use.</p>
<h3 id="users">Users</h3>
<p>There are no more <em>users</em>! Starting with PostgreSQL 8.1, the concepts of <em>users</em> and <em>groups</em> were superseded
by <em>roles</em>.</p>
<h3 id="roles">Roles</h3>
<p>Roles are the main concept when managing access permissions. Each role has different privileges.
Privileges can be <code>USAGE</code>, <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code>, etc., and enables the role access to granted objects.</p>
<p>It’s possible to grant a role to be a <em>member</em> of another role as we’ll see in the GRANT command section. The granted role inherits all the <em>privileges</em> of the said role.</p>
<p>Example of role membership:</p>
<ul>
<li>Creating a <code>read_access</code> role.</li>
<li>Creating a role <code>metabase</code> and granting <em>membership</em> to the <code>read_access</code> role. The <code>metabase</code> role inherits all the privileges from <code>read_access</code>.</li>
</ul>
<p><a href="https://www.postgresql.org/docs/current/user-manag.html">Official docs</a>.</p>
<h3 id="privileges">Privileges</h3>
<p>The <code>role</code> that creates the object is the owner of the said object. Only the owner and a <em>superuser</em> can do
any operation on the object. We must grant <strong>privileges</strong> to allow other roles to use the object.</p>
<p>The most common DB objects are databases, schemas, tables, views, tablespaces, functions, operators, casts, sequences, and extensions.</p>
<p>The right to modify or destroy an object is only the owner’s privilege. For example, there is no way to grant a privilege to alter a table; only the owner can modify it.</p>
<p>Granting privileges indicates to PostgreSQL what actions a role can execute on what DB objects. We can specify that a role
can only read (<code>SELECT</code>) specific tables, or a role can only create (<code>INSERT</code>) rows in one table but not other tables, etc.</p>
<p>The privileges that we can grant depend on the object itself. You can see the <a href="https://www.postgresql.org/docs/current/ddl-priv.html#PRIVILEGE-ABBREVS-TABLE">complete list of privileges and objects</a>.</p>
<p><a href="https://www.postgresql.org/docs/current/ddl-priv.html">Official docs</a>.</p>
<h2 id="authentication-and-authorization-commands">Authentication and authorization commands</h2>
<p>These are the commands I used to set up the different roles I needed. There are more variations, but this sufficed for my use case. I’ll link each command’s official documentation.</p>
<h3 id="create-role">CREATE ROLE</h3>
<p>When you create a role, it can have different <a href="https://www.postgresql.org/docs/current/role-attributes.html">attributes</a>.
Attributes allow the role to:</p>
<ul>
<li>Create a DB</li>
<li>Connect to the DB</li>
<li>Be a <em>superuser</em></li>
<li>Create other roles</li>
<li>Set a password</li>
<li>Limit the number of connections</li>
</ul>
<p>You can specify the attributes like this:</p>
<pre is:raw="" tabindex="0"><code><span><span>CREATE</span><span> </span><span>ROLE</span><span> </span><span>name</span><span> </span><span>[ [ WITH ]</span><span> attribute </span><span>[ attribute_args ]</span><span> ]</span></span></code></pre>
<p>For example, to specify that a role <code>backend_app</code> can <code>LOGIN</code> and have a <code>PASSWORD</code> “strong-password”:</p>
<pre is:raw="" tabindex="0"><code><span><span>-- LOGIN allows the role connect to the DB.</span></span>
<span><span>CREATE</span><span> </span><span>ROLE</span><span> backend_app </span><span>WITH</span><span> </span><span>LOGIN</span><span> </span><span>PASSWORD</span><span> </span><span>'strong-password'</span><span>;</span></span></code></pre>
<p><a href="https://www.postgresql.org/docs/current/sql-createrole.html">Official docs</a>.</p>
<h3 id="create-user">CREATE USER</h3>
<p>As we mentioned <a href="#users">earlier</a>, there are no more <em>users</em> in PostgreSQL. The command exists as a wrapper of the <code>CREATE ROLE</code> command.</p>
<pre is:raw="" tabindex="0"><code><span><span>-- CREATE USER includes LOGIN attribute by default.</span></span>
<span><span>CREATE</span><span> </span><span>USER</span><span> </span><span>backend_app</span><span> </span><span>WITH</span><span> </span><span>PASSWORD</span><span> </span><span>'strong-password'</span><span>;</span></span>
<span><span>-- is equivalent to:</span></span>
<span><span>CREATE</span><span> </span><span>ROLE</span><span> backend_app </span><span>WITH</span><span> </span><span>LOGIN</span><span> </span><span>PASSWORD</span><span> </span><span>'strong-password'</span><span>;</span></span></code></pre>
<p><a href="https://www.postgresql.org/docs/15/sql-createuser.html">Official docs</a>.</p>
<h3 id="grant">GRANT</h3>
<p>The <code>GRANT</code> command has two purposes:</p>
<ul>
<li>Give DB objects access to roles through <em>privileges</em>.</li>
<li>Give a role membership to other roles.</li>
</ul>
<p>It’s best to show this <code>GRANT</code> command with the following examples; the documentation is quite extensive.</p>
<p><strong>Granting read privilege to existing tables to <code>read_access</code> role</strong></p>
<pre is:raw="" tabindex="0"><code><span><span>GRANT</span><span> </span><span>SELECT</span><span> </span><span>ON</span><span> ALL TABLES </span><span>IN</span><span> </span><span>SCHEMA</span><span> public </span><span>TO</span><span> read_access;</span></span></code></pre>
<p>I stress <em><strong>existing tables</strong></em> because this doesn’t grant read access to future tables created.
If you want to grant access to <em>future</em> tables, you need to <a href="#alter-default-privileges">alter the default privileges of the <code>read_access</code> role</a> and specify the tables’ creator role.</p>
<p><strong>Granting all privileges to role <code>ops</code> to the <code>operations</code> schema and its tables</strong></p>
<pre is:raw="" tabindex="0"><code><span><span>-- Privileges on schema: be able to create more tables.</span></span>
<span><span>GRANT</span><span> ALL PRIVILEGES </span><span>ON</span><span> </span><span>SCHEMA</span><span> operations </span><span>TO</span><span> ops;</span></span>
<span><span>-- Privileges on tables: be able to create rows.</span></span>
<span><span>GRANT</span><span> ALL PRIVILEGES </span><span>ON</span><span> ALL TABLES </span><span>IN</span><span> </span><span>SCHEMA</span><span> operations </span><span>TO</span><span> ops;</span></span>
<span><span>-- Privileges on sequences: using serial primary keys.</span></span>
<span><span>GRANT</span><span> ALL PRIVILEGES </span><span>ON</span><span> ALL SEQUENCES </span><span>IN</span><span> </span><span>SCHEMA</span><span> operations </span><span>TO</span><span> ops;</span></span>
<span><span>-- Privileges on routines: function, aggregate function, window function, or procedure.</span></span>
<span><span>GRANT</span><span> ALL PRIVILEGES </span><span>ON</span><span> ALL ROUTINES </span><span>IN</span><span> </span><span>SCHEMA</span><span> operations </span><span>TO</span><span> ops;</span></span></code></pre>
<blockquote>
<p>Note on being able to <code>ALTER</code> a table (add, remove, or change columns). You must own the table to use <code>ALTER TABLE</code>. To alter the owner, you must also
be a direct or indirect member of the new owning role, and that role must have CREATE privilege on the table’s schema.
This blog post doesn’t cover how to change schema, table, or sequences ownership. <a href="https://www.postgresql.org/docs/current/sql-altertable.html">Official docs</a></p>
</blockquote>
<p><strong>Giving <code>metabase</code> role membership to <code>read_access</code></strong></p>
<pre is:raw="" tabindex="0"><code><span><span>-- Create metabase role.</span></span>
<span><span>CREATE</span><span> </span><span>ROLE</span><span> metabase </span><span>WITH</span><span> </span><span>LOGIN</span><span> </span><span>PASSWORD</span><span> </span><span>'strong-password'</span><span>;</span></span>
<span><span>-- Grant membership.</span></span>
<span><span>GRANT</span><span> read_acess </span><span>TO</span><span> metabase;</span></span></code></pre>
<p><a href="https://www.postgresql.org/docs/current/sql-grant.html">Official docs</a></p>
<h3 id="alter-default-privileges">ALTER DEFAULT PRIVILEGES</h3>
<blockquote>
<p>This command allows you to set privileges that will be applied to objects created in the future.</p>
</blockquote>
<p>This command alters the default privileges when a new object is created. Every object has an owner, so you must specify the owner’s <em>role</em> as part of the command.</p>
<p><strong>Giving read tables permission to <code>read_access</code> role to future tables created by role <code>postgres</code></strong></p>
<pre is:raw="" tabindex="0"><code><span><span>ALTER</span><span> </span><span>DEFAULT</span><span> PRIVILEGES FOR </span><span>ROLE</span><span> postgres </span><span>GRANT</span><span> </span><span>SELECT</span><span> </span><span>ON</span><span> TABLES </span><span>TO</span><span> read_access;</span></span></code></pre>
<p>This means that the <code>metabase</code> user (created in the <a href="#grant">previous step</a>) can read tables created in the future by the <code>postgres</code> role.
If a role other than <code>postgres</code> creates tables, <code>read_access</code> won’t have access unless default privileges are modified for the said role.</p>
<p><a href="https://www.postgresql.org/docs/current/sql-alterdefaultprivileges.html">Official docs</a>.</p>
<h3 id="reassign-owned">REASSIGN OWNED</h3>
<p>This command is a shortcut to change all DB objects ownership a specific role owns. I haven’t tested it, but knowing that this exists is useful.</p>
<p><strong>Changing all objects created by <code>postgres</code> role to <code>other_db_role</code> role</strong></p>
<pre is:raw="" tabindex="0"><code><span><span>REASSIGN OWNED </span><span>BY</span><span> postgres </span><span>TO</span><span> other_db_role;</span></span></code></pre>
<p>Be sure to read the <strong>NOTES</strong> section of the official docs, as this command has some caveats.</p>
<p><a href="https://www.postgresql.org/docs/current/sql-reassign-owned.html">Official docs</a>.</p>
<h2 id="scoping-the-roles-you-need">Scoping the roles you need</h2>
<p>Before creating different roles, we need to determine what roles we need and what each role will have access to.</p>
<p>Questions that can help you figure out what roles you need for your use case:</p>
<ul>
<li>What are the different services that use the DB?
<ul>
<li>Do they need read and write access to the DB?</li>
<li>Only read access?</li>
</ul>
</li>
<li>What are the various teams in your company that need access?
<ul>
<li>Do all they need to read and write, or just read access?</li>
<li>To what schemas and tables do they need access?</li>
</ul>
</li>
<li>What other roles would make your app more secure?</li>
</ul>
<h2 id="real-world-example">Real-world example</h2>
<h3 id="current-state">Current state</h3>
<p>We’ve been using the <code>postgres</code> role in the past year. We use this single role/password combination in all our different systems connecting to the database.</p>
<h3 id="desired-state">Desired state</h3>
<p>We want to become SOC2 compliant. As part of the spec, we must minimize access following the <em>least privilege access control</em>.
We must define different roles according to their needs and remove all access to the <code>postgres</code> role.
We’ll ensure access removal to <code>postgres</code> by rotating its password when all the systems use specific roles tailored to their needs.</p>
<ul>
<li>Engineering team: read and write access to all schemas and tables.</li>
<li>DB Migrations: backend app that creates schemas, create and update tables. DB migrations run when releasing the application (new deployment).</li>
<li>Metabase: read access to all schemas and tables.</li>
</ul>
<h3 id="lets-do-it">Let’s do it!</h3>
<h4 id="lets-start-with-db_migrations-role">Let’s start with <code>db_migrations</code> role.</h4>
<pre is:raw="" tabindex="0"><code><span><span>CREATE</span><span> </span><span>ROLE</span><span> db_migrations </span><span>WITH</span><span> </span><span>LOGIN</span><span> </span><span>PASSWORD</span><span> </span><span>'strong-password'</span><span>;</span></span>
<span><span>-- Reassign all db objects owned by `postgres`.</span></span>
<span><span>REASSIGN OWNED </span><span>BY</span><span> postgres </span><span>TO</span><span> db_migrations;</span></span>
<span><span>-- Revoke creating tables in public schema for all roles.</span></span>
<span><span>REVOKE</span><span> </span><span>CREATE</span><span> </span><span>ON</span><span> </span><span>SCHEMA</span><span> public </span><span>FROM</span><span> public;</span></span></code></pre>
<p>The object’s owner (<code>db_migrations</code>) has complete control over them, and it doesn’t need extra privileges to access them.
Current applications that use <code>postgres</code> role won’t be affected because <code>postgres</code> is a <em>SUPERUSER</em>.</p>
<h4 id="following-up-with-the-engineering-role-to-read-and-write-access-to-all-schemas-and-tables">Following up with the <code>engineering</code> role to read and write access to all schemas and tables</h4>
<p>Let’s create two roles: <code>read_access</code> and <code>write_access</code>. These roles will act on existing and future DB objects. This
allows us to create multiple roles &lt;&gt; passwords per application granting membership to either <code>read_access</code>, <code>write_access</code>, or both.</p>
<p><strong>Read access:</strong></p>
<pre is:raw="" tabindex="0"><code><span><span>-- Read access role without login attribute.</span></span>
<span><span>CREATE</span><span> </span><span>ROLE</span><span> read_access;</span></span>
<span><span>-- Alter default privileges (future tables created by db_migrations role).</span></span>
<span><span>ALTER</span><span> </span><span>DEFAULT</span><span> PRIVILEGES FOR </span><span>ROLE</span><span> db_migrations </span><span>GRANT</span><span> USAGE </span><span>ON</span><span> SCHEMAS </span><span>TO</span><span> read_access;</span></span>
<span><span>ALTER</span><span> </span><span>DEFAULT</span><span> PRIVILEGES FOR </span><span>ROLE</span><span> db_migrations </span><span>GRANT</span><span> </span><span>SELECT</span><span> </span><span>ON</span><span> TABLES </span><span>TO</span><span> read_access;</span></span>
<span></span>
<span><span>-- Grant privileges to existing DB objects.</span></span>
<span><span>-- This generates all the required statements, copy/paste them in your sql console and execute them.</span></span>
<span><span>SELECT</span><span> </span><span>FORMAT</span><span>(</span><span>'GRANT USAGE ON SCHEMA %I TO %I;'</span><span>, schema_name, </span><span>'read_access'</span><span>)</span></span>
<span><span>FROM</span><span> </span><span>information_schema</span><span>.</span><span>schemata</span></span>
<span><span>WHERE</span><span> schema_name </span><span>NOT</span><span> </span><span>IN</span><span> (</span><span>'pg_toast'</span><span>, </span><span>'pg_catalog'</span><span>, </span><span>'information_schema'</span><span>);</span></span>
<span></span>
<span><span>SELECT</span><span> </span><span>FORMAT</span><span>(</span><span>'GRANT SELECT ON ALL TABLES IN SCHEMA %I TO %I;'</span><span>, schema_name, </span><span>'read_access'</span><span>)</span></span>
<span><span>FROM</span><span> </span><span>information_schema</span><span>.</span><span>schemata</span></span>
<span><span>WHERE</span><span> schema_name </span><span>NOT</span><span> </span><span>IN</span><span> (</span><span>'pg_toast'</span><span>, </span><span>'pg_catalog'</span><span>, </span><span>'information_schema'</span><span>);</span></span></code></pre>
<p><strong>Write access:</strong></p>
<pre is:raw="" tabindex="0"><code><span><span>-- Write access role without login attribute.</span></span>
<span><span>CREATE</span><span> </span><span>ROLE</span><span> write_access;</span></span>
<span><span>-- Alter default privileges (future tables created by db_migrations role).</span></span>
<span><span>ALTER</span><span> </span><span>DEFAULT</span><span> PRIVILEGES FOR </span><span>ROLE</span><span> db_migrations </span><span>GRANT</span><span> USAGE </span><span>ON</span><span> SCHEMAS </span><span>TO</span><span> write_access;</span></span>
<span><span>ALTER</span><span> </span><span>DEFAULT</span><span> PRIVILEGES FOR </span><span>ROLE</span><span> db_migrations </span><span>GRANT</span><span> ALL PRIVILEGES </span><span>ON</span><span> TABLES </span><span>TO</span><span> write_access;</span></span>
<span><span>ALTER</span><span> </span><span>DEFAULT</span><span> PRIVILEGES FOR </span><span>ROLE</span><span> db_migrations </span><span>GRANT</span><span> ALL PRIVILEGES </span><span>ON</span><span> SEQUENCES </span><span>TO</span><span> write_access;</span></span>
<span><span>ALTER</span><span> </span><span>DEFAULT</span><span> PRIVILEGES FOR </span><span>ROLE</span><span> db_migrations </span><span>GRANT</span><span> ALL PRIVILEGES </span><span>ON</span><span> ROUTINES </span><span>TO</span><span> write_access;</span></span>
<span></span>
<span><span>-- Grant privileges to existing DB objects.</span></span>
<span><span>-- This generates all the required statements, copy/paste them in your sql console and execute them.</span></span>
<span><span>SELECT</span><span> </span><span>FORMAT</span><span>(</span><span>'GRANT USAGE ON SCHEMA %I TO %I;'</span><span>, schema_name, </span><span>'write_access'</span><span>)</span></span>
<span><span>FROM</span><span> </span><span>information_schema</span><span>.</span><span>schemata</span></span>
<span><span>WHERE</span><span> schema_name </span><span>NOT</span><span> </span><span>IN</span><span> (</span><span>'pg_toast'</span><span>, </span><span>'pg_catalog'</span><span>, </span><span>'information_schema'</span><span>);</span></span>
<span></span>
<span><span>SELECT</span><span> </span><span>FORMAT</span><span>(</span><span>'GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA %I TO %I;'</span><span>, schema_name, </span><span>'write_access'</span><span>)</span></span>
<span><span>FROM</span><span> </span><span>information_schema</span><span>.</span><span>schemata</span></span>
<span><span>WHERE</span><span> schema_name </span><span>NOT</span><span> </span><span>IN</span><span> (</span><span>'pg_toast'</span><span>, </span><span>'pg_catalog'</span><span>, </span><span>'information_schema'</span><span>);</span></span>
<span></span>
<span><span>SELECT</span><span> </span><span>FORMAT</span><span>(</span><span>'GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA %I TO %I;'</span><span>, schema_name, </span><span>'write_access'</span><span>)</span></span>
<span><span>FROM</span><span> </span><span>information_schema</span><span>.</span><span>schemata</span></span>
<span><span>WHERE</span><span> schema_name </span><span>NOT</span><span> </span><span>IN</span><span> (</span><span>'pg_toast'</span><span>, </span><span>'pg_catalog'</span><span>, </span><span>'information_schema'</span><span>);</span></span>
<span></span>
<span><span>SELECT</span><span> </span><span>FORMAT</span><span>(</span><span>'GRANT ALL PRIVILEGES ON ALL ROUTINES IN SCHEMA %I TO %I;'</span><span>, schema_name, </span><span>'write_access'</span><span>)</span></span>
<span><span>FROM</span><span> </span><span>information_schema</span><span>.</span><span>schemata</span></span>
<span><span>WHERE</span><span> schema_name </span><span>NOT</span><span> </span><span>IN</span><span> (</span><span>'pg_toast'</span><span>, </span><span>'pg_catalog'</span><span>, </span><span>'information_schema'</span><span>);</span></span></code></pre>
<blockquote>
<p>This <code>write_access</code> role doesn’t allow the creation of new schemas. The only role that can create new schemas is <code>db_migrations</code> by having database ownership.
If you want to allow <code>write_access</code> role to create schemas change <code>GRANT USAGE ON SCHEMAS</code> to <code>GRANT ALL PRIVILEGES ON SCHEMAS</code>.</p>
</blockquote>
<p>Let’s grant role membership to the <code>engineering</code> role to these newly created roles: <code>read_access</code> and <code>write_access</code>.</p>
<pre is:raw="" tabindex="0"><code><span><span>-- Engineering role with login attribute and password.</span></span>
<span><span>CREATE</span><span> </span><span>ROLE</span><span> engineering </span><span>WITH</span><span> </span><span>LOGIN</span><span> </span><span>PASSWORD</span><span> </span><span>'strong-password'</span><span>;</span></span>
<span><span>-- Grant read and write access membership to `engineering`.</span></span>
<span><span>GRANT</span><span> read_access, write_access </span><span>TO</span><span> engineering;</span></span></code></pre>
<h4 id="the-metabase-role-read-access">The <code>metabase</code> role. Read access.</h4>
<p>As we’ve created a <code>read_access</code> role, it simplified creating a new role and giving it read access.</p>
<pre is:raw="" tabindex="0"><code><span><span>-- Metabase role with login attribute and password.</span></span>
<span><span>CREATE</span><span> </span><span>ROLE</span><span> metabase </span><span>WITH</span><span> </span><span>LOGIN</span><span> </span><span>PASSWORD</span><span> </span><span>'strong-password'</span><span>;</span></span>
<span><span>-- Grant read access membership to `metabase`.</span></span>
<span><span>GRANT</span><span> read_access </span><span>TO</span><span> metabase;</span></span></code></pre>
<h4 id="rotate-the-postgres-role-password">Rotate the <code>postgres</code> role password</h4>
<p>Now that our different applications are using the new roles/password, we can rotate the <code>postgres</code> role password.</p>
<pre is:raw="" tabindex="0"><code><span><span>ALTER</span><span> </span><span>ROLE</span><span> postgres </span><span>WITH</span><span> </span><span>PASSWORD</span><span> </span><span>'super-strong-password'</span><span>;</span></span></code></pre>
<p><a href="https://www.postgresql.org/docs/current/sql-alterrole.html">ALTER ROLE official docs</a>.</p>
    </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[NASA's Software Catalog offers hundreds of new software programs for free (111 pts)]]></title>
            <link>https://software.nasa.gov/</link>
            <guid>37100565</guid>
            <pubDate>Sat, 12 Aug 2023 14:32:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://software.nasa.gov/">https://software.nasa.gov/</a>, See on <a href="https://news.ycombinator.com/item?id=37100565">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <div id="intro">
                <table>
                    <tbody>
                    <tr>
                        <td>
                            <a href="https://software.nasa.gov/">
                                <img src="https://software.nasa.gov/themes/t2portal/images/Software_Catalog/Badge/Software-Catalog-Badge_No-Text.png" alt="software catalog icon">
                            </a>
                        </td>
                        <td>
                            <div>
                                
                                <p>
                                NASA's Software Catalog offers hundreds of new 
                                software programs you can download for free to 
                                use in a wide variety of technical applications.
                                </p>
                            </div>
                        </td>
                    </tr>
                </tbody></table>
            </div>
    <div id="discover">
                    <p>RECENTLY RELEASED SOFTWARE</p>
                    <div id="flexslider-1">
 
<ul>
    
<li>
    <div><p><img loading="lazy" src="https://software.nasa.gov/sites/default/files/2021-05/Aeronautics-Icon.png" width="1146" height="1284" alt="aero" typeof="foaf:Image">

</p></div><div><p>Wing-design algorithm based on modified linear theory taking into account effects of attainable leading-edge thrust. Provides analysis as well as design capability and applicable to both subsonic and supersonic flow.</p></div>
    </li>
<li>
    <div><p><img loading="lazy" src="https://software.nasa.gov/sites/default/files/2021-05/Design-and-Integration-Tools-Icon.png" width="1196" height="1191" alt="cat" typeof="foaf:Image">

</p></div><div><p>Design and Integration Tools</p></div><div><p>Create Augmented Reality (AR)/Virtual Reality (VR) tools for integrating spacecraft designs and real-time mission telemetry for multiple domains over a mission lifecycle: Pre-phase A concept design Hardware integration &amp; test planning and execution Tele-robotic operations</p></div>
    </li>
</ul>
</div>
                </div>
    
    <div id="add-resource">
                <p>
                    FAQ
                </p>
                <div>
                    
                    <p>
                        The NASA software listed in the catalog is available for use at no charge. Certain codes have been licensed by NASA for commercial purposes and are only available to other agencies or companies with a government contract. If a software product is available for commercial purposes, a statement indicating that the code "is available for licensing" will be included in the software description.
                    </p>
                </div>
                <div>
                    
                    <p>
                        This site is updated regularly as new NASA software codes and version updates become available. We invite you to visit often to see what new codes have been added.
                    </p>
                </div>
                <div id="faq-3"><p>
                        Create an account or log into an existing account.
                        </p><p>
                        Select the Request Software button below the item description in the software catalog entry. Complete the request form. You must fill in all required fields before you can submit your request.
                        </p><p>
                        Your request will automatically be routed to the appropriate Center Software Release Authority (SRA) for processing. Many NASA Open Source software codes and mobile apps provide a URL link so that the requester can download the software directly. Therefore, it is not necessary to use the Request Software button for these codes.
                    </p></div>
                <div id="faq-4"><p>
                        The release type determines who can have a NASA software code. If you meet the access criteria for the code (as defined below), NASA can transfer the software to you.
                        <br>
                        Release types:
                        </p><ul>
                            <li>General Public Release: For codes with a broad release and no nondisclosure or export control restrictions</li>
                            <li>Open Source Release: For collaborative efforts in which programmers improve upon codes originally developed by NASA and share the changes</li>
                            <li>U.S. Release Only: For codes available to U.S. persons only</li>
                            <li>U.S. and Foreign Release: For codes that are available to U.S. persons and persons outside of the U.S. (who meet certain export control restrictions)</li>
                            <li>U.S. Government Purpose Release: For codes that are to be used on behalf of the U.S. government by a federal agency or business/university under a federal contract/grant/agreement.</li>
                        </ul>
                    </div>
                <div>
                    
                    <p>
                        Each NASA code has been evaluated for access restrictions and designated for a specific type of release according to the purpose for which the software code was designed. Some codes are deemed restricted because they have been developed for a specific government purpose (e.g., they may have munitions or defense applications). Codes designated U.S. Government Purpose Release require the user to work for a federal agency or a business/university with an active contract, grant, or Space Act Agreement with the federal government.
                    </p>
                </div>
                <div>
                    
                    <p>
                        When software is classified as a U.S. Government Purpose Release, NASA must be able to verify that the software will be used for a current U.S. government contract. For non-NASA contracts/grants, you will receive an email from the Center SRA asking for a copy of the front page of the contract and the pages that contain the current statement of work and period of performance for the contract/grant. In some cases, the agency’s contract monitor may be asked to verify the contract information. Once the contract information is received, the appropriate Software Usage Agreement (SUA) will be sent to you for signature.
                    </p>
                </div>
                <div id="faq-7"><p>
                        Most software requests will be processed within 5 business days. After your request is reviewed by the Center SRA, you (or the individual identified on your request form with authority to sign the agreement) will receive an email notification that a Software Usage Agreement is ready for review and signature. If additional information is required in order to process your request, you will be contacted by the Center SRA with the specific details needed to complete your request.
                        </p><p>
                        After your signed agreement is accepted by the Center SRA, you will receive an email notification of the method of software delivery. If the software code is available for download through the NASA Software Catalog system, you will have 14 days to download the software through your user account.
                    </p></div>
                <div>
                    
                    <p>
                        A list of center software release contacts is provided at the "Software Contacts" link in the right sidebar of the home page. Please email any questions regarding specific codes to the contact for the center at which the software was developed as indicated in the software catalog entry.
                    </p>
                </div>
                <div id="faq-9"><p>
                        The signatory authority is the person who signs the Software Usage Agreement that binds all users to the terms of use specified in the agreement. The following examples provide additional clarification for a business or university agreement:
                        </p><p>
                        Business: Only someone with signatory authority who can legally bind the company can sign the Software Usage Agreement. Typically, that person would be an officer of the company (e.g., President, CEO, etc.).
                        </p><p>
                        University: Only someone with signatory authority who can legally bind the school can sign the Software Usage Agreement. Typically, that person would be an officer within the university’s administration.
                    </p></div>
            </div>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fedora Asahi Remix first impressions (150 pts)]]></title>
            <link>https://jasoneckert.github.io/myblog/fedora-asahi-remix/</link>
            <guid>37100503</guid>
            <pubDate>Sat, 12 Aug 2023 14:24:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jasoneckert.github.io/myblog/fedora-asahi-remix/">https://jasoneckert.github.io/myblog/fedora-asahi-remix/</a>, See on <a href="https://news.ycombinator.com/item?id=37100503">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    
    <p>It’s been a year and a half since the <a href="https://asahilinux.org/">Asahi Linux</a> project allowed us to run Arch Linux natively on our Apple Silicon computers. And while my overall experience has been excellent, the Asahi Linux project is switching their flagship Linux distribution (distro) <a href="https://asahilinux.org/2023/08/fedora-asahi-remix/">from Arch to Fedora</a>.</p>
<p>Why the switch from Arch to Fedora? You could argue that Fedora is a much more popular mainstream distribution compared to Arch, or that Linus Torvalds himself uses Fedora already on his Apple Silicon-based Macbook using the Asahi boot components and drivers. But the main reason is that there have been many <a href="https://social.treehouse.systems/@marcan/109971521711413167">issues</a> surrounding the maintenance of ARM packages for Arch Linux, and that the Fedora team is both capable and willing to provide provide the support needed to provide a truly polished Linux experience on modern Macs (the main goal of the Asahi Linux project). By moving to Fedora, the Asahi team can focus on reverse engineering Apple hardware while the Fedora team can focus on maintaining the distribution itself on the Apple Silicon platform. This combination of Fedora with the Asahi boot components and drivers for Apple Silicon is called <em><strong>Fedora Asahi Remix</strong></em>.</p>
<p>I’ve been running Asahi based on Arch Linux since it was released, and <a href="https://jasoneckert.github.io/myblog/ultimate-linux-arm64-workstation/">my experience has been stellar overall</a>. The Asahi project exposed me to Arch Linux for the first time, and it quickly turned into my second favourite Linux distribution of all time. Ironically, my favourite Linux distribution over the past few decades has been Fedora, and I have no problem saying Goodbye to my Arch setup for it as a result.</p>
<p>In this blog post, I’ll discuss how I migrated from the original Asahi based on Arch Linux to Fedora Asahi Remix, as well as my initial impressions. TLDR: It’s awesome… as shown in this screenshot of the sway desktop in Fedora Asahi Remix on my Mac Studio (right-click the image and choose to open it in a new browser tab if you want to zoom in on it easily):</p>
<p><img src="https://jasoneckert.github.io/myblog/fedora-asahi-remix/fedora-asahi-remix-sway-desktop.png#center" alt="Fedora Asahi Remix Sway Desktop" title="Fedora Asahi Remix Sway Desktop"></p>
<h2 id="part-1-migration">Part 1: Migration</h2>
<h2 id="backing-up-arch-linux-files-and-configuration">Backing up Arch Linux files and configuration</h2>
<p>There is no automated way to migrate from one Linux distribution to another. You just have to install the new distribution and migrate your files and configuration over. And while you can copy files across the network to another system, it’s generally easier just to copy them to some large capacity external drive, since you’ll be copying them back to the same machine shortly thereafter.</p>
<p>In my case, I have a 2TB SSD in a USB enclosure with a single exFAT partition that I mounted to the /mnt directory using <code>sudo mount /dev/sda1 /mnt</code>. Next, I copied over the dotfiles (hidden configuration files) within my home directory (<code>cp -R ~/.* /mnt</code>), as well as the entire contents of my home directory (<code>cp -R ~/* /mnt</code>). My home directory contains subdirectories with all of my documents, development files, container images, cloud configuration, music, and so on. The only files outside my home directory included those for my QEMU virtual machines and associated installation ISO images, which I easily copied over using <code>cp -R /VMs /ISOs /mnt</code>.</p>
<h2 id="removing-existing-linux-partitions">Removing existing Linux partitions</h2>
<p>After backing up my files and configuration, I booted into macOS to remove the existing Linux partitions. You can use <a href="https://github.com/AsahiLinux/docs/wiki/Partitioning-cheatsheet">this cheatsheet</a> to understand how to do this, but I’ll outline it briefly here.</p>
<p>If you open a Terminal app in macOS and run the <code>sudo diskutil list</code> command (as shown below for my system), you’ll notice a 2.5 GB partition that contains the Apple-specific stuff needed to boot Asahi Linux. This partition (e.g., disk0s3) is actually an Apple Filesystem (APFS) container that is synthesized into a separate disk (e.g., disk2). You’ll also notice an EFI system partition used to boot Linux and the associated Linux filesystem partition (e.g., disk0s4 and disk0s5). Together, these three partitions (outlined in red) comprise Asahi Linux.</p>
<p><img src="https://jasoneckert.github.io/myblog/fedora-asahi-remix/AsahiPartitions.png#center" alt="AsahiPartitions" title="AsahiPartitions"></p>
<p>The other partitions comprise macOS and include the Apple ISC boot partition (e.g., disk0s1), the Apple recovery partition (e.g., disk0s6), and the APFS container partition that is synthesized to the disk that stores the macOS filesystem (e.g., disk0s2).</p>
<p>To remove the three Asahi partitions on my system, and resize the APFS container that stores macOS to use the freed space afterwards, I ran the following commands. You can skip the last command if you just want to use the same amount of space for Fedora Asahi Remix, since the beginning of the installation script will allow you to select this free space instead of shrinking the APFS container that stores macOS.</p>
<pre tabindex="0"><code>sudo diskutil erasevolume free free disk0s5
sudo diskutil erasevolume free free disk0s4
sudo diskutil apfs deleteContainer disk0s3
sudo diskutil apfs resizeContainer disk0s2 0
</code></pre><p>Following this, I ran a <code>sudo diskutil list</code> again to verify they were indeed gone, and that the APFS container that stores the macOS filesystem was assigned the free space:</p>
<p><img src="https://jasoneckert.github.io/myblog/fedora-asahi-remix/AsahiPartitionsRemoved.png#center" alt="AsahiPartitionsRemoved" title="AsahiPartitionsRemoved"></p>
<h2 id="installing-fedora-asahi-remix">Installing Fedora Asahi Remix</h2>
<p>The installation process for Fedora Asahi Remix is nearly identical to the original Asahi installation process. Within macOS, you run the installation script from the <a href="https://fedora-asahi-remix.org/">Fedora Asahi Remix website</a> (<code>curl https://fedora-asahi-remix.org/install | sh</code>) within a macOS Terminal app and follow the instructions provided.</p>
<p>After a brief welcome, you’ll be prompted to shrink the APFS container that stores macOS to leave some free space for Asahi:</p>
<p><img src="https://jasoneckert.github.io/myblog/fedora-asahi-remix/i1.png#center" alt="Installation1" title="Installation1"></p>
<p>Following this, you’ll choose to install Fedora into this free space (which will create the same three Asahi-specific partitions noted earlier). There are several builds of Fedora+KDE, Fedora+GNOME, Fedora Server, and Fedora Minimal to choose from as shown in the truncated list below:</p>
<p><img src="https://jasoneckert.github.io/myblog/fedora-asahi-remix/i2.png#center" alt="Installation2" title="Installation2"></p>
<p>Fedora+KDE is the default for Fedora Asahi Remix because KDE Plasma Workspaces has superb ARM support compared to GNOME (which has traditionally been the default desktop on Fedora).</p>
<p>Next, you’ll choose how much of the free space to use for the three Asahi-specific partitions (there’s no reason to choose anything less than ‘max’ unless you want to install multiple distributions), as well as the volume name that is displayed on the Mac startup options screen:</p>
<p><img src="https://jasoneckert.github.io/myblog/fedora-asahi-remix/i3.png#center" alt="Installation3" title="Installation3"></p>
<p>Following this, the installation script will download and extact the necessary files, instruct you to reboot to disable System Integrity Protection (SIP) for Fedora Asahi Remix, and then complete the installation using the Fedora installer (time/zone, networking, user accounts).</p>
<h2 id="performing-post-installation-tasks">Performing post installation tasks</h2>
<p>Like the original Asahi, Fedora Asahi Remix with KDE Plasma Workspaces was refreshingly fast and stable. However, before restoring my files, I decided to add some software packages I needed. More specifically, I installed the package groups for development (which includes several important development tools, including Git), the GNOME desktop, and sway window manager:</p>
<pre tabindex="0"><code>sudo dnf groupinstall "Development Tools"
sudo dnf groupinstall "GNOME"
sudo dnf groupinstall "Sway Desktop" 
</code></pre><p>While the Sway Desktop package group included the waybar and grim packages I use in sway, it didn’t include the rofi app launcher, or the fonts and alacritty terminal I use. So, I installed those packages next using <code>sudo dnf install rofi fontawesome-fonts terminus-fonts terminus-fonts-console alacritty</code>.</p>
<p>Following this, I installed the three apps I regularly use: VLC media player, Chromium, and Visual Studio Code. VLC media player and Chromium could be installed using <code>dnf install vlc chromium</code> (VLC first requires you <a href="https://www.videolan.org/vlc/download-fedora.html">add the rpmfusion repository</a>). However, to obtain Visual Studio Code, I had to download the RPM from Microsoft (<a href="https://update.code.visualstudio.com/1.81.0/linux-rpm-arm64/stable/">https://update.code.visualstudio.com/1.81.0/linux-rpm-arm64/stable/</a>) and install it afterwards using <code>sudo rpm -ivh code*aarch64.rpm</code>.</p>
<p>At this point, I had the tools, desktops, and apps I needed, but I needed to restore my sway, waybar, and rofi dotfiles from my backup to get back my sway desktop configuration:</p>
<pre tabindex="0"><code>sudo mount /dev/sda1 /mnt
cp -R /mnt/.config/sway ~/.config/
cp -R /mnt/.config/waybar ~/.config/
cp -R /mnt/.config/rofi ~/.config/
</code></pre><p>Next, I configured my containers, Kubernetes cluster, and virtual machines. I prefer podman to docker, but still like using docker commands, which are nicely provided by the <code>docker</code> command included within the podman-docker package. So I ran <code>dnf install podman-docker</code> (which also installs podman and QEMU as dependences) and restored my containers from backup (including my Nextcloud instance). Kubernetes (I use K3s) also installed without any issues using the script from <a href="https://k3s.io/">the K3s website</a>. My configuration here took longer to restore, but that’s only because it’s mostly additional Kubernetes containers, extras, and configuration manifests from a private Git repository. Finally, I restored my QEMU virtual machine files and ISOs from backup using <code>cp -R /mnt/VMs /mnt/ISOs /</code>.</p>
<h2 id="part-2-first-impressions">Part 2: First Impressions</h2>
<p>In the original <a href="https://asahilinux.org/2023/08/fedora-asahi-remix/">Fedora Asahi Remix annoucement</a>, it was noted that there are still some loose ends that needed to be tied up and that Fedora Asahi Remix would be ready by the end of August as a result. At the end of this same announcement, it was noted that <em>Adventurous users can try out the Fedora Asahi Remix today, but please expect rough spots (or even complete breakage)</em> and that they <em>ask that reporters and bloggers wait for the official release before evaluating our work</em>.</p>
<p>Of course, I’m disobeying this last statement, but only because I have zero negative things to say about Fedora Asahi Remix in its current state. Otherwise, I would have gladly waited until the release at the end of this month out of respect for the Asahi and Fedora teams.</p>
<p>I expected a few hiccups during the migration process, such as apps I needed that weren’t supported, odd hardware issues, devices that didn’t work, or even general configuration issues.
There were none of these whatsoever. Instead, I got a polished distribution that was far easier to configure compared to the original based on Arch Linux.</p>
<p>My entire sway/waybar/rofi configuration migrated perfectly. The only setting I had to change in my sway configuration was the shortcut to open Visual Studio Code (on the original Asahi, I had it installed as a Flatpak package instead of an RPM). I actually don’t have any Flatpak packages installed on Fedora Asahi Remix at all because all the software I needed was available in RPM format. There was no searching high and low for QEMU packages missing from the software repository like I had to do on Arch Linux. Instead, everything I needed was already there from when I installed the podman-docker package that included QEMU as a dependency. I just restored my VM files, and the scripts I use to start the VMs worked without any modification. Ditto for my containers and Kubernetes configuration.</p>
<p>All the hardware works, my peripheral devices work, and the whole migration process was seamless. I’m up and running with my system and all of its software in the same state less than 3 hours after installing Fedora Asahi Remix. And it’s a better system. Kudos to the Asahi and Fedora teams!</p>

  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Carrot Problem (432 pts)]]></title>
            <link>https://www.atvbt.com/the-carrot-problem/</link>
            <guid>37100226</guid>
            <pubDate>Sat, 12 Aug 2023 13:57:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.atvbt.com/the-carrot-problem/">https://www.atvbt.com/the-carrot-problem/</a>, See on <a href="https://news.ycombinator.com/item?id=37100226">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="gh-main">
    <article>
        <header>
                <span>
                    By <a href="https://www.atvbt.com/author/uri/">Uri</a>
                        in
                        <a href="https://www.atvbt.com/tag/social/">Social</a>
                    —
                    <time datetime="2023-07-05">Jul 5, 2023</time>
                </span>

            

            <!--
                <p class="gh-article-excerpt">It&#x27;s not the crime, it&#x27;s the coverup.</p>
            -->

        </header>

            
        
            

        <div>
             

            <p>In World War II, the story goes, the British invented a new kind of onboard radar (amusingly called <a href="https://www.smithsonianmag.com/arts-culture/a-wwii-propaganda-campaign-popularized-the-myth-that-carrots-help-you-see-in-the-dark-28812484/?ref=atvbt.com">AI</a>) that allowed its pilots to shoot down German planes at night. </p><p>They didn't want the Germans to know about this technology, but they had to give an explanation for their new, improbable powers.</p><p>So they invented a propaganda campaign that claimed their pilots had developed exceptional eyesight by eating "an excess of carrots." </p><p>If you're going to trick people into doing something, eating excessive carrots seems like one of the better ones. Still, there's an issue: people who believed the propaganda and tried to get super-sight would be spending time and effort on something that couldn't possibly solve their problem. I'll call this a Carrot Problem.</p><p>Once you look for Carrot Problems, you see them everywhere. Essentially, any time someone achieves success in a way they don't want to admit publicly, they have to come up with an excuse for their abilities. And that means misleading a bunch of people into (potentially) wasting their time, or worse.</p><p>For example:</p><ul><li>People who take steroids don't generally admit to taking steroids, so they come up with various explanations for their new physiques. But anyone who follows that advice will be disappointed; without the steroids, they just won't get the same results.</li><li>Many companies basically distribute their jobs to friends and insiders, but don't want to admit that publicly. So they set up public application processes, which cause outsiders to waste time and effort applying through a channel that has 0 chance of landing them the job.</li><li>Various companies make a lot of money by implementing "dark patters", such as getting customers onto subscriptions and then making it hard for them to cancel. They can't admit that this is why their revenue went up, so they make a bunch of claims about how their success comes out of [various beneficent strategies], but anyone who tries to replicate the success by using those lovely strategies is liable to go broke.</li></ul><p>It's impossible to know the scale of Carrot Problems in business: it's possible that every successful business got there by doing something ugly, but you'll never know that by reading public statements. Most business biographies become useless once you realise that they're Carrot Problemmed.</p><p>For this reason, Carrot Problems greatly increase the value fo being an "insider". </p><p>There's some fields where it really might be true that you can learn everything you need to know by reading books at the public library. But anytime people are succeeding for reasons they won't admit in public, it's hard to get a grasp on the situation unless you have private back-channels.</p><p>I've personally seen the damage that certain narratives cause to outsiders who believe that you can succeed by doing [X/Y/Z], because famous businesspeople kept saying so, and they believed it.</p><p>Of course, once you know that your supposed-role-models are doing [some bad thing] to succeed, that doesn't mean you will do it too. Ideally you find some other way to succeed in the same field without doing bad things; if not, you might just decide that this particular game isn't one you want to play. </p><p>But the privilege of being an insider is that you won't waste your time trying to succeed using a strategy that doesn't actually work, while some poor kid is eating carrots all day in the hopeless hope that it will fix her eyesight.</p>

                

            
    </div></article>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Record Labels Hit Internet Archive with New $400M+ Copyright Lawsuit (323 pts)]]></title>
            <link>https://torrentfreak.com/record-labels-hit-internet-archive-with-new-400m-copyright-lawsuit-230812/</link>
            <guid>37100140</guid>
            <pubDate>Sat, 12 Aug 2023 13:49:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://torrentfreak.com/record-labels-hit-internet-archive-with-new-400m-copyright-lawsuit-230812/">https://torrentfreak.com/record-labels-hit-internet-archive-with-new-400m-copyright-lawsuit-230812/</a>, See on <a href="https://news.ycombinator.com/item?id=37100140">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>

<span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to TorrentFreak." href="https://torrentfreak.com/"><span property="name">Home</span></a><meta property="position" content="1"></span> &gt; <span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to the Lawsuits category archives." href="https://torrentfreak.com/category/lawsuits/"><span property="name">Lawsuits</span></a><meta property="position" content="2"></span> &gt; <span property="itemListElement" typeof="ListItem"><a property="item" typeof="WebPage" title="Go to the Apps and Sites category archives." href="https://torrentfreak.com/category/lawsuits/apps-and-sites/"><span property="name">Apps and Sites</span></a><meta property="position" content="3"></span> &gt; <span></span>
</p>
<p>
<span> </span>
Record labels including UMG, Capitol and Sony have filed a copyright infringement lawsuit in the United States targeting Internet Archive and founder Brewster Kale, among others. Filed in Manhattan federal court late Friday, the complaint alleges infringement of 2,749 works, recorded by deceased artists, including Frank Sinatra, Billie Holiday, Louis Armstrong and Bing Crosby.
</p>
</div><div>
<p><a href="https://torrentfreak.com/images/internetarchive.jpg"><img decoding="async" src="https://torrentfreak.com/images/internetarchive.jpg" alt="internet archive" width="280" height="187" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20280%20187'%3E%3C/svg%3E" data-lazy-src="https://torrentfreak.com/images/internetarchive.jpg"></a>As the Internet Archive continues to deal with an <a href="https://torrentfreak.com/internet-archive-is-liable-for-copyright-infringement-court-rules-230325/">adverse ruling</a> in a copyright infringement lawsuit filed by the world’s largest publishing companies, late Friday some of the world’s largest record labels launched similar legal action in the United States.</p>
<p>Filed in Manhattan federal court, the complaint lists UMG Recordings, Capitol Records, Concord Bicycle Assets, CMGI Recorded Music Assets, Sony Music and Arista Music as plaintiffs, with Internet Archive (IA), founder Brewster Kahle, Kahle/Austin Foundation, George Blood and George Blood L.P named as defendants.</p>
<h2>Pre-1972 78rpm Records by Iconic Artists, All Deceased</h2>
<p>The plaintiffs’ complaint focuses on the Internet Archive’s ‘Great 78 Project’ which aims to preserve, research and discover 78rpm records produced between 1898 and the 1950s.</p>
<p>“While the commercially viable recordings will have been restored or remastered onto LP’s or CD, there is still research value in the artifacts and usage evidence in the often rare 78rpm discs and recordings,” IA <a href="https://great78.archive.org/">wrote</a> following the launch of the project in 2017.</p>
<p>“Already, over 20 collections have been selected by the Internet Archive for physical and digital preservation and access. Started by many volunteer collectors, these new collections have been selected, digitized and preserved by the Internet Archive, George Blood LP, and the Archive of Contemporary Music.”</p>
<center><a href="https://torrentfreak.com/images/great-78-project.png"><img decoding="async" src="https://torrentfreak.com/images/great-78-project.png" alt="great-78-project" width="610" height="324" srcset="https://torrentfreak.com/images/great-78-project.png 740w, https://torrentfreak.com/images/great-78-project-300x159.png 300w" sizes="(max-width: 610px) 100vw, 610px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20610%20324'%3E%3C/svg%3E" data-lazy-srcset="https://torrentfreak.com/images/great-78-project.png 740w, https://torrentfreak.com/images/great-78-project-300x159.png 300w" data-lazy-src="https://torrentfreak.com/images/great-78-project.png"></a></center>
<p>From IA’s perspective, the project is all about the preservation of art. From the diametrically opposed view of the plaintiffs, the defendants willfully made copies thousands of recordings to which they own the copyrights. The digitized copies were then uploaded to the Internet Archive from where they were illegally distributed to users of the website millions of times.</p>
<p>The complaint lists 2,769 individual works from some of the most fmaous artists of all time, including Frank Sinatra, Ella Fitzgerald, Billie Holiday, Miles Davis, and Louis Armstrong. Listed songs include “White Christmas” by Bing Crosby, “Sing, Sing, Sing” by Benny Goodman, “Peggy Sue” by Buddy Holly, and “Roll Over Beethoven” by Chuck Berry.</p>
<h2>Plaintiffs: Preservation Claims Are a “Smokescreen”</h2>
<p>The nonprofit Internet Archive is known for its ambitious projects that aim to retain, restore and redistribute content that they believe should never be lost to history. For the plaintiffs, these grand ambitions are nothing but a “smokescreen” to hide what amounts to IA offering “free and unlimited access to music for everyone,” regardless of copyright.</p>
<p>“In truth, Defendants’ malfeasance springs from their disregard for copyright law and the rights of artists and content owners. Internet Archive and the other Defendants have a long history of opposing, fighting, and ignoring copyright law, proclaiming that their zealotry serves the public good. In reality, Defendants are nothing more than mass infringers,” the complaint reads.</p>
<p>The record companies further reject claims that the music being made available illegally needs to be ‘saved’. They claim that of the 2,749 recordings listed in the complaint, all but a “small sample” are already available to stream or download from licensed online platforms so they “face no danger of being lost, forgotten, or destroyed.”</p>
<p>The complaint states that when the 78rpm records were converted into digital files, IA reproduced copyrighted recordings without permission. When IA copied those files to a server, that amounted to another unauthorized reproduction, and when it transferred those copies to the public, yet another. When it streamed unlicensed copies to the public, each time that constituted an unlicensed public performance.</p>
<p>“When Defendants exploit Plaintiffs’ sound recordings without authorization, neither Plaintiffs nor their artists see a dime. Not only does this harm Plaintiffs and the artists or their heirs by depriving them of compensation, but it undermines the value of music,” the complaint adds.</p>
<h2>Overall Infringement and Claims For Relief</h2>
<p>The plaintiffs allege that the Great 78 Project contains more than 400,000 works that have been downloaded or streamed millions of times. In a letter sent by the RIAA to IA in 2020, the plaintiffs allege that IA owner Brewster Kahle was informed of the following:</p>
<blockquote><p><em>“You and Internet Archive have reproduced thousands of sound recordings in which RIAA member companies own or exclusively control copyrights, and have made those recordings available to the public for unrestricted download and streaming, all without the consent of the rights owners.</em></p><em>
</em><p><em>“Your unauthorized reproduction, distribution and public performance of these recordings is a plain violation of the RIAA member companies’ rights under <a href="https://www.law.cornell.edu/uscode/text/17/1401">17 U.S.C. § 1401</a>, and constitutes nothing less than piracy on a massive scale.”</em></p></blockquote>
<p>The RIAA says that Kahle and the Internet Archive were ordered to “immediately cease and desist from their infringement” but the demand was ignored.</p>
<p>The complaint lists several causes of action against different combinations of defendants, including unlawful reproduction under <a href="https://www.law.cornell.edu/uscode/text/17/106">17 U.S.C. §§ 106(1)</a> and <a href="https://www.law.cornell.edu/uscode/text/17/1401">1401(a)(1)</a> for which the companies are entitled damages and any profits accrued. Alternatively the record companies seek statutory damages of $150,000 for each protected recording infringed, so with over 2,700 works in suit, damages could exceed $400m.</p>
<p>Other claims include infringing reproduction and distribution, infringing public performance, contributory copyright infringement, inducement of infringement, and vicarious copyright infringement. The companies also seek injunctive relief to restrain “continuing infringing conduct.”</p>
<p><em>The complaint and list of sound recordings are available here (<a href="https://torrentfreak.com/images/1-23-cv-07133-UMG-et-al-v.-Internet-Archive-et-al-complaint-230811.pdf">1</a>,<a href="https://torrentfreak.com/images/1-23-cv-07133-UMG-et-al-v.-Internet-Archive-et-al-complaint-works-in-suit-230811.pdf">2</a>, pdf)</em></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Harvard University Encourages Students To Go On Food Stamps (115 pts)]]></title>
            <link>https://finance.yahoo.com/news/harvard-university-encourages-students-food-171022208.html</link>
            <guid>37099780</guid>
            <pubDate>Sat, 12 Aug 2023 13:07:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://finance.yahoo.com/news/harvard-university-encourages-students-food-171022208.html">https://finance.yahoo.com/news/harvard-university-encourages-students-food-171022208.html</a>, See on <a href="https://news.ycombinator.com/item?id=37099780">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><figure><div><p><img alt="" src="https://s.yimg.com/ny/api/res/1.2/nu7uFMGzW7czh35hEij.Rw--/YXBwaWQ9aGlnaGxhbmRlcjt3PTk2MDtoPTU0MA--/https://media.zenfs.com/en/Benzinga/b562e0689318af6613c1474bb770f5fe" data-src="https://s.yimg.com/ny/api/res/1.2/nu7uFMGzW7czh35hEij.Rw--/YXBwaWQ9aGlnaGxhbmRlcjt3PTk2MDtoPTU0MA--/https://media.zenfs.com/en/Benzinga/b562e0689318af6613c1474bb770f5fe"></p></div></figure><p>Harvard University recently organized an event to support graduate students enrolling in government food assistance programs.</p><p>The Health Services office sent a flier to graduate students, encouraging them to participate in the SNAP Benefits Sign-Up event in April. The flier read, "Fuel your body &amp; stock your pantry. Did you know that grad students may qualify for assistance paying for food &amp; groceries?"</p><p>Harvard University is the wealthiest academic institution globally, boasting an endowment of approximately $53 billion. With such a substantial endowment, Harvard has the means to support a wide array of academic programs, research endeavors, scholarships and initiatives.</p><p>The Harvard Graduate Students Union (HGSU) expressed its view, advocating for more substantial measures to assist graduate students, primarily by increasing their salaries. According to HGSU's proposal, all graduate student workers should receive a minimum annual salary of $60,000, a significant increase from the current minimum salary of $40,000. The union believes that providing adequate compensation directly to the students would alleviate the need for external assistance programs like SNAP.</p><p><strong><em>Don't Miss:</em></strong></p><ul><li><p><strong>Until 2016 it was illegal for retail investors to invest in high-growth startups. Thanks to changes in federal law, this </strong><a data-i13n="cpos:1;pos:1" href="https://www.benzinga.com/news/23/04/32102088/kevin-oleary-backed-startup-lets-you-become-a-venture-capitalist-with-100?utm_campaign=partner_feed&amp;utm_source=yahooFinance&amp;utm_medium=partner_feed&amp;utm_content=site" rel="nofollow noopener" target="_blank" data-ylk="slk:Kevin O'Leary-Backed Startup Lets You Become a Venture Capitalist With $100;cpos:1;pos:1;elm:context_link;itc:0"><strong><em>Kevin O'Leary-Backed Startup Lets You Become a Venture Capitalist With $100</em></strong></a></p></li><li><p><strong><em>Airbnb was worth $47 billion at IPO. This </em></strong><a data-i13n="cpos:2;pos:1" href="https://www.benzinga.com/news/23/07/33449799/new-airbnb-for-rvs-platform-takes-on-540-million-rv-rental-market-with-25-in-savings-and-50-000-for?utm_campaign=partner_feed&amp;utm_source=yahooFinance&amp;utm_medium=partner_feed&amp;utm_content=site" rel="nofollow noopener" target="_blank" data-ylk="slk:New ‘Airbnb For RV’s’ Platform Takes On $540 Million RV Rental Market With 25% In Savings And $50,000 For Renters;cpos:2;pos:1;elm:context_link;itc:0"><strong><em>New ‘Airbnb For RV’s’ Platform Takes On $540 Million RV Rental Market With 25% In Savings And $50,000 For Renters</em></strong></a><strong><em> is open for anyone to invest.</em></strong></p></li></ul><p>The high cost of living in Boston only adds to Harvard students' struggle. Many people across various professions and walks of life face similar challenges. But the proximity to cutting-edge innovation and opportunities in technology, entrepreneurship and startups presents a potential solution for those seeking to get in at the ground level of the next big thing. <a data-i13n="cpos:3;pos:1" href="https://www.benzinga.com/alternative-investments/startups?utm_campaign=partner_feed&amp;utm_source=yahooFinance&amp;utm_medium=partner_feed&amp;utm_content=site" rel="nofollow noopener" target="_blank" data-ylk="slk:Click here for a list of startups you can invest in today.;cpos:3;pos:1;elm:context_link;itc:0">Click here for a list of startups you can invest in today. </a></p><p>Harvard's graduate student workers have been on strike twice in recent years, partly because of their dissatisfaction with low pay from the university.</p><p><strong><em>To stay updated with top startup news &amp; investments, </em></strong><a data-i13n="cpos:4;pos:1" href="https://www.benzinga.com/money/startup-investing-equity-crowdfunding-newsletter?utm_campaign=partner_feed&amp;utm_source=yahooFinance&amp;utm_medium=partner_feed&amp;utm_content=site" rel="nofollow noopener" target="_blank" data-ylk="slk:sign up for Benzinga's Startup Investing &amp; Equity Crowdfunding Newsletter;cpos:4;pos:1;elm:context_link;itc:0"><strong><em>sign up for Benzinga's Startup Investing &amp; Equity Crowdfunding Newsletter</em></strong></a></p><p>Approximately 30% of Harvard's grad students are international, so they are ineligible to apply for SNAP. This means that the solution presented by the university fails to support about one-third of its graduate students adequately.</p><p>In response to the concerns, a Harvard spokesperson reached out to <a data-i13n="cpos:5;pos:1" href="https://www.vice.com/en/article/93kwaa/harvard-tells-grad-students-to-get-food-stamps-to-supplement-the-unlivable-wages-it-pays-them" rel="nofollow noopener" target="_blank" data-ylk="slk:Motherboard;cpos:5;pos:1;elm:context_link;itc:0">Motherboard</a> via email, explaining that the informational session sought to assist students in signing up for the federal program. The session aimed to provide guidance on creating inexpensive yet nutritious meals to support the students' well-being.</p><p>Harvard's situation is not unique. Many graduate students at universities across the country are facing similar financial challenges. While the SNAP Benefits Sign-Up event at Harvard may have provided temporary relief for some, it also draws attention to the underlying issue of low pay for graduate students. The HGSU's call for higher minimum salaries resonates with the broader context of financial hardship experienced by graduate students across the country.</p><p><strong>See more on </strong><a data-i13n="cpos:6;pos:1" href="https://www.benzinga.com/alternative-investments/startups?utm_campaign=partner_feed&amp;utm_source=yahooFinance&amp;utm_medium=partner_feed&amp;utm_content=site" rel="nofollow noopener" target="_blank" data-ylk="slk:startup investing;cpos:6;pos:1;elm:context_link;itc:0"><strong>startup investing</strong></a><strong> from Benzinga:</strong></p><ul><li><p><strong>Don't just buy from your favorite brands, own them so you own the upside. Learn how </strong><a data-i13n="cpos:7;pos:1" href="https://www.benzinga.com/startups/23/05/32533370/be-an-owner-not-just-a-consumer-retail-investors-are-taking-stakes-in-their-favorite-startups-to-own?fbclid=IwAR26xYwAFUk2VcZaxCJ1aYnp3nXW9R6bX5uNJ3aM8H4yNCzJ5aDwBrXbo9U&amp;utm_campaign=partner_feed&amp;utm_source=yahooFinance&amp;utm_medium=partner_feed&amp;utm_content=site" rel="nofollow noopener" target="_blank" data-ylk="slk:Retail Investors Are Taking Stakes In Their Favorite Startups To Own The Upside;cpos:7;pos:1;elm:context_link;itc:0"><strong><em>Retail Investors Are Taking Stakes In Their Favorite Startups To Own The Upside</em></strong></a></p></li><li><p><strong>Gamers are selling their old gaming items for millions. Learn why everyday gamers and investors are </strong><a data-i13n="cpos:8;pos:1" href="https://www.benzinga.com/startups/23/05/32168043/making-thousands-selling-gaming-skins-and-assets-gameflips-bold-vision-for-the-future-of-in-game-com?utm_campaign=partner_feed&amp;utm_source=yahooFinance&amp;utm_medium=partner_feed&amp;utm_content=site" rel="nofollow noopener" target="_blank" data-ylk="slk:claiming a stake in their side hustles and how they invested over $1.2 million in this startup;cpos:8;pos:1;elm:context_link;itc:0"><strong><em>claiming a stake in their side hustles and how they invested over $1.2 million in this startup</em></strong></a></p></li></ul><p>Don't miss real-time alerts on your stocks - join <a data-i13n="cpos:9;pos:1" href="https://pro.benzinga.com/" rel="nofollow noopener" target="_blank" data-ylk="slk:Benzinga Pro;cpos:9;pos:1;elm:context_link;itc:0">Benzinga Pro</a> for free! <a data-i13n="cpos:10;pos:1" href="https://pro.benzinga.com/" rel="nofollow noopener" target="_blank" data-ylk="slk:Try the tool that will help you invest smarter, faster, and better;cpos:10;pos:1;elm:context_link;itc:0">Try the tool that will help you invest smarter, faster, and better</a>.</p><p>This article <a data-i13n="cpos:11;pos:1" href="https://www.benzinga.com/news/23/08/33670898/harvard-university-encourages-students-to-go-on-food-stamps-even-though-its-the-richest-school-in-th" rel="nofollow noopener" target="_blank" data-ylk="slk:Harvard University Encourages Students To Go On Food Stamps, Even Though It's the Richest School In The World With A $53 Billion Endowment;cpos:11;pos:1;elm:context_link;itc:0">Harvard University Encourages Students To Go On Food Stamps, Even Though It's the Richest School In The World With A $53 Billion Endowment</a> originally appeared on <a data-i13n="cpos:12;pos:1" href="https://www.benzinga.com/" rel="nofollow noopener" target="_blank" data-ylk="slk:Benzinga.com;cpos:12;pos:1;elm:context_link;itc:0">Benzinga.com</a></p><p>.</p><p><em>© 2023 Benzinga.com. Benzinga does not provide investment advice. All rights reserved.</em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Notes on running a single-person Mastodon server (141 pts)]]></title>
            <link>https://jvns.ca/blog/2023/08/11/some-notes-on-mastodon/</link>
            <guid>37099761</guid>
            <pubDate>Sat, 12 Aug 2023 13:04:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jvns.ca/blog/2023/08/11/some-notes-on-mastodon/">https://jvns.ca/blog/2023/08/11/some-notes-on-mastodon/</a>, See on <a href="https://news.ycombinator.com/item?id=37099761">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
     

<p>I started using Mastodon back in November, and it’s the Twitter alternative
where I’ve been spending most of my time recently, mostly because the Fediverse
is where a lot of the Linux nerds seem to be right now.</p>

<p>I’ve found Mastodon quite a bit more confusing than Twitter because it’s a
distributed system, so here are a few technical things I’ve learned about it
over the last 10 months. I’ll mostly talk about what using a single-person
server has been like for me, as well as a couple of notes about the API, DMs
and ActivityPub.</p>

<p>I might have made some mistakes, please let me know if I’ve gotten anything
wrong!</p>

<h3 id="what-s-a-mastodon-instance">what’s a mastodon instance?</h3>

<p>First: Mastodon is a decentralized collection of independently run servers
instead of One Big Server. The software is <a href="https://github.com/mastodon/mastodon">open source</a>.</p>

<p>In general, if you have an account on one server (like <code>ruby.social</code>), you
<strong>can</strong> follow people on another server (like <code>hachyderm.io</code>), and they can
follow you.</p>

<p>I’m going to use the terms “Mastodon server” and “Mastodon instance”
interchangeably in this post.</p>

<h3 id="on-choosing-a-mastodon-instance">on choosing a Mastodon instance</h3>

<p>These were the things I was concerned about when choosing an instance:</p>

<ol>
<li>An instance name that I was comfortable being part of my online
identity. For example, I probably wouldn’t want to be
<code>@b0rk@infosec.exchange</code> because I’m not an infosec person.</li>
<li>The server’s stability. Most servers are volunteer-run, and volunteer
moderation work can be exhausting – will the server really be around in a few
years? For example <a href="https://ashfurrow.com/blog/mastodon-technology-shutdown/">mastodon.technology</a>  and mastodon.lol shut down.</li>
<li>The admins’ moderation policies.</li>
<li>That server’s general reputation with other servers. I started out on
<code>mastodon.social</code>, but some servers choose to block or limit mastodon.social
for various reasons</li>
<li>The community: every Mastodon instance has a local timeline with all posts
from users on that instance, would I be interested in reading the local
timeline?</li>
<li>Whether my account would be a burden for the admin of that server (since I have a lot of followers)</li>
</ol>

<p>In the end, I chose to run my own mastodon server because it seemed simplest –
I could pick a domain I liked, and I knew I’d definitely agree with the
moderation decisions because I’d be in charge.</p>

<p>I’m not going to give server recommendations here, but here’s a list of the <a href="https://gist.github.com/jvns/5eb0a58319b93049a8c014433766edd3">top 200 most common servers people who follow me use</a>.</p>

<h3 id="using-your-own-domain">using your own domain</h3>

<p>One big thing I wondered was – can I use my own domain (and have the username <code>@b0rk@jvns.ca</code> or something) but be on someone else’s Mastodon server?</p>

<p>The answer to this seems to be basically “no”: if you want to use your own
domain on Mastodon, you need to run your own server. (you can <a href="https://blog.maartenballiauw.be/post/2022/11/05/mastodon-own-donain-without-hosting-server.html">kind of do this</a>,
but it’s more like an alias or redirect – if I used that method to direct <code>b0rk@jvns.ca</code> to <code>b0rk@mastodon.social</code>, my
posts would still show up as being from <code>b0rk@mastodon.social</code>)</p>

<p>There’s also other
ActivityPub software (<a href="https://jointakahe.org/">Takahē</a>) that supports people
bringing their own domain in a first-class way.</p>

<h3 id="notes-on-having-my-own-server">notes on having my own server</h3>

<p>I really wanted to have a way to use my own domain name for identity, but to
share server hosting costs with other people. This isn’t possible on Mastodon
right now, so I decided to set up my own server instead.</p>

<p>I chose to run a Mastodon server (instead of some other ActivityPub
implementation) because Mastodon is the most popular one. Good managed
Mastodon hosting is readily available, there are tons of options for client
apps, and I know for sure that my server will work well with other people’s
servers.</p>

<p>I use <a href="https://masto.host/">masto.host</a> for Mastodon hosting, and it’s been great so
far. I have nothing interesting to say about what it’s like to operate a
Mastodon instance because I know literally nothing about it. Masto.host handles
all of the server administration and Mastodon updates, and I never think about
it at all.</p>

<p>Right now I’m on their $19/month (“Star”) plan, but it’s possible I could use a
smaller plan with no problems. Right now their cheapest plan is $6/month and I
expect that would be fine for someone with a smaller account.</p>

<p>Some things I was worried about when embarking on my own Mastodon server:</p>

<ul>
<li>I wanted to run the server at <code>social.jvns.ca</code>, but I wanted my username to
be <code>b0rk@jvns.ca</code> instead of <code>b0rk@social.jvns.ca</code>. To get this to work I
followed these <a href="https://jacobian.org/til/my-mastodon-instance/">Setting up a personal fediverse ID</a> directions from
Jacob Kaplan-Moss and it’s been fine.</li>
<li>The administration burden of running my own server. I imported a small list
of servers to block/defederate from but didn’t do anything else. That’s been
fine.</li>
<li>Reply and profile visibility. This has been annoying and we’ll talk about it next</li>
</ul>

<h3 id="downsides-to-being-on-a-single-person-server">downsides to being on a single-person server</h3>

<p>Being on a 1-person server has some significant downsides. To understand
why, you need to understand a little about how Mastodon works.</p>

<p>Every Mastodon server has a database of posts. Servers only have posts that
they were explicitly sent by another server in their database.</p>

<p>Some reasons that servers might receive posts:</p>

<ul>
<li>someone on the server follows a user</li>
<li>a post mentions someone on the server</li>
</ul>

<p>As a 1-person server, my server does not receive that many posts! I only get
posts from people I follow or posts that explicitly mention me in some way.</p>

<p>The causes several problems:</p>

<ol>
<li>when I visit someone’s profile on Mastodon who I don’t already follow, my
server will not fetch the profile’s content (it’ll fetch their profile
picture, description, and pinned posts, but not any of their post history).
So their profile appears as if they’ve never posted anything</li>
<li>bad reply visibility: when I look at the replies to somebody else’s post
(even if I follow them!), I don’t see all of the replies, only the ones
which have made it to my server. If you want to understand the exact rules
about who can see which replies (which are quite complicated!), <a href="https://seb.jambor.dev/posts/understanding-activitypub-part-3-the-state-of-mastodon/">here’s a great deep dive</a> by Sebastian Jambor.
I think it’s possible to end up in a state where no one person can see all
of the replies, including the original poster.</li>
<li>favourite and boost accounts are inaccurate – usually posts show up having
at most 1 or 2 favourites / boosts, even if the post was actually favourite
or boosted hundreds of times. I think this is because it only counts
favourites/boosts from people I follow.</li>
</ol>

<p>All of these things will happen to users of any small Mastodon server, not just
1-person servers.</p>

<h3 id="bad-reply-visibility-makes-conversations-harder">bad reply visibility makes conversations harder</h3>

<p>A lot of people are on smaller servers, so when they’re participating in a
conversation, they can’t see all the replies to the post.</p>

<p>This means that replies can get pretty repetitive because people literally
cannot see each other’s replies. This is especially annoying for posts that are
popular or controversial, because the person who made the post has to keep
reading similar replies over and over again by people who think they’re making
the point for the first time.</p>

<p>To get around this (as a reader), you can click “open link to post” or something in your
Mastodon client, which will open up the page on the poster’s server where you
can read all of the replies. It’s pretty annoying though.</p>

<p>As a poster, I’ve tried to reduce repetitiveness in replies by:</p>

<ul>
<li>putting requests in my posts like “(no need to reply if you don’t remember, or if you’ve been using the command line comfortably for 15 years — this question isn’t for you :) )”</li>
<li>occasionally editing my posts to include very common replies</li>
<li>very occasionally deleting the post if it gets too out of hand</li>
</ul>

<p>The Mastodon devs are extremely aware of these issues, there are a bunch of github issues about them:</p>

<ul>
<li><a href="https://github.com/mastodon/mastodon/issues/34">backfill statuses when first subscribed</a></li>
<li><a href="https://github.com/mastodon/mastodon/issues/9409">fetch whole conversation threads</a></li>
</ul>

<p>My guess is that there are technical reasons these features are difficult to
add because those issues have been open for 5-7 years.</p>

<h3 id="some-visibility-workarounds">some visibility workarounds</h3>

<p>Some people have built workarounds for fetching profiles / replies.</p>

<ul>
<li><a href="https://blog.thms.uk/fedifetcher">Fedifetcher</a></li>
<li><a href="https://combine.social/">combine.social</a></li>
</ul>

<p>Also, there are a couple of Mastodon clients which will proactively fetch replies. For iOS:</p>

<ul>
<li>Mammoth does it automatically</li>
<li>Mona will fetch posts if I click “load from remote server” manually</li>
</ul>

<p>I haven’t tried those yet though.</p>

<h3 id="other-downsides-of-running-your-own-server-discovery-is-much-harder">other downsides of running your own server: discovery is much harder</h3>

<p>Mastodon instances have a “local timeline” where you can see everything other
people on the server are posting, and a “federated timeline” which shows sort
of a combined feed from everyone followed by anyone on the server. This means
that you can see trending posts and get an idea of what’s going on and find
people to follow. You don’t get that if you’re on a 1-person
server – it’s just me talking to myself! (plus occasional interjections from
<a href="https://social.jvns.ca/@b0rk_reruns">my reruns bot</a>).</p>

<p>Some workarounds people mentioned for this:</p>

<ul>
<li>you can populate your federated timeline with posts from another instance by
using a <strong>relay</strong>. I haven’t done this but someone else said they use
<a href="https://relay.fedi.buzz/">FediBuzz</a> and I might try it out.</li>
<li>some mastodon clients (like apparently Moshidon on Android) let you follow other instances</li>
</ul>

<p>If anyone else on small servers has suggestions for how to make discovery
easier I’d love to hear them.</p>

<h3 id="account-migration">account migration</h3>

<p>When I moved to my own server from <code>mastodon.social</code>, I needed to run an account migration to move over my followers. First, here’s how migration works:</p>

<ol>
<li>Account migration <strong>does not</strong> move over your posts. All of my posts stayed
on my old account. This is part of why I moved to running my own server
– I didn’t want to ever lose my posts a second time.</li>
<li>Account migration <strong>does not</strong> move over the list of people you
follow/mute/block. But you can import/export that list in your Mastodon
settings so it’s not a big deal. If you follow private accounts they’ll have
to re-approve your follow request.</li>
<li>Account migration <strong>does</strong> move over your followers</li>
</ol>

<p>The follower move was the part I was most worried about. Here’s how it turned out:</p>

<ul>
<li>over ~24 hours, most of my followers moved to the new account</li>
<li>one or two servers did not get the message about the account migration for
some reason, so about 2000 followers were “stuck” and didn’t migrate. I
fixed this by waiting 30 days and re-running the account migration, which
moved over most of the remaining followers. There’s also a <a href="https://github.com/mastodon/mastodon/issues/22281">tootctl command</a> that the admin of
the <strong>old instance</strong> can run to retry the migration</li>
<li>about 200 of my followers never migrated over, I think because they’re using
ActivityPub software other than Mastodon which doesn’t support account
migration. You can see the <a href="https://mastodon.social/@b0rk">old account here</a></li>
</ul>

<h3 id="using-the-mastodon-api-is-great">using the Mastodon API is great</h3>

<p>One thing I love about Mastodon is – it has an API that’s MUCH easier to use
than Twitter’s API. I’ve always been frustrated with how difficult it is to
navigate large Twitter threads, so I made a small <a href="https://mastodon-thread-view.jvns.ca/">mastodon thread view</a> website that lets you log into
your Mastodon account. It’s pretty janky and it’s really only made for me to
use, but I’ve really appreciated the ability to write my own janky software to
improve my Mastodon experience.</p>

<p>Some notes on the Mastodon API:</p>

<ul>
<li>You can build Mastodon client software totally on the frontend in Javascript, which is really cool.</li>
<li>I couldn’t find a vanilla Javascript Mastodon client, so I <a href="https://github.com/jvns/mastodon-threaded-replies/blob/main/mastodon.js">wrote a crappy one</a></li>
<li><a href="https://docs.joinmastodon.org/client/intro/">API docs are here</a></li>
<li>Here’s a <a href="https://gist.github.com/jvns/0fe51383cbbb63e94177c60f1e0371c6">tiny Python script I used to list all my Mastodon followers</a>,
which also serves as a simple example of how easy using the API is.</li>
<li>The best documenation I could find for which OAuth scopes correspond to which API endpoints is <a href="https://github.com/mastodon/mastodon/pull/7929">this github issue</a></li>
</ul>

<p>Next I’ll talk about a few general things about Mastodon that confused or
surprised me that aren’t specific to being on a single-person instance.</p>

<h3 id="dms-are-weird">DMs are weird</h3>

<p>The way Mastodon DMs work surprised me in a few ways:</p>

<ul>
<li>Technically DMs are just regular posts with visibility limited to the
people mentioned in the post. This means that if you accidentaly mention
someone in a DM (“@x is such a jerk”), it’s possible to accidentally send the
message to them</li>
<li>DMs aren’t very private: the admins on the sending and receiving servers can
technically read your DMs if they have access to the database. So they’re not
appropriate for sensitive information.</li>
<li>Turning off DMs is weird. Personally I don’t like receiving DMs from
strangers – it’s too much to keep track of and I’d prefer that people email
me. On Twitter, I can just turn it off and people won’t see an option to DM
me. But on Mastodon, when I turn off notifications for DMs, anyone can still
“DM” me, but the message will go into a black hole and I’ll never see it. I
put a note in my profile about this.</li>
</ul>

<h3 id="defederation-and-limiting">defederation and limiting</h3>

<p>There are a couple of different ways for a server to block another Mastodon
server. I haven’t really had to do this much but people talk about it a lot and I was confused about the difference, so:</p>

<ul>
<li>A server can <strong>defederate</strong> from another server (this seems to be called <a href="https://docs.joinmastodon.org/admin/moderation/#suspend-server">suspend</a> in the Mastodon docs). This means that nobody on a server can follow someone from the other server.</li>
<li>A server can <strong><a href="https://docs.joinmastodon.org/admin/moderation/#limit-user">limit</a></strong> (also known as “silence”) a user or server. This means that content from that user is only visible to
that user’s followers – people can’t discover the user through retweets (aka “boosts” on Mastodon).</li>
</ul>

<p>One thing that wasn’t obvious to me is that who servers defederate / limit is
sometimes hidden, so it’s hard to suss out what’s going on if you’re
considering joining a server, or trying to understand why you can’t see certain
posts.</p>

<h3 id="there-s-no-search-for-posts">there’s no search for posts</h3>

<p>There’s no way to search past posts you’ve read. If I see something interesting
on my timeline and want to find it later, I usually can’t. (Mastodon has a
<a href="https://docs.joinmastodon.org/admin/optional/elasticsearch/">Elasticsearch-based search feature</a>, but it only allows you to search your own posts, your mentions, your
favourites, and your bookmarks)</p>

<p>These limitations on search are intentional (and a very common source of arguments) – it’s a privacy / safety issue.
Here’s a <a href="https://www.tbray.org/ongoing/When/202x/2022/12/30/Mastodon-Privacy-and-Search">summary from Tim Bray</a>
with lots of links.</p>

<p>It would be personally convenient for me to be able to search more easily but I respect folks’ safety concerns so I’ll leave it at that.</p>

<h3 id="other-activitypub-software">other ActivityPub software</h3>

<p>We’ve been talking about Mastodon a lot, but not everyone who I follow is using
Mastodon: Mastodon uses a protocol called <a href="https://activitypub.rocks/">ActivityPub</a> to distribute messages.</p>

<p>Here are some examples of other software I see people talking about, in no particular order:</p>

<ul>
<li><a href="https://calckey.org/">Calckey</a></li>
<li><a href="https://akkoma.social/">Akkoma</a></li>
<li><a href="https://gotosocial.org/">gotosocial</a></li>
<li><a href="https://jointakahe.org/">Takahē</a></li>
<li><a href="https://writefreely.org/">writefreely</a></li>
<li><a href="https://pixelfed.org/">pixelfed</a> (for images)</li>
</ul>

<p>I’m probably missing a bunch of important ones.</p>

<h3 id="what-s-the-difference-between-mastodon-and-other-activitypub-software">what’s the difference between Mastodon and other ActivityPub software?</h3>

<p>This confused me for a while, and I’m still not super clear on how ActivityPub works. What I’ve understood is:</p>

<ul>
<li>ActivityPub is a protocol (you can explore how it works with blinry’s nice <a href="https://json.blinry.org/#https://chaos.social/users/blinry">JSON explorer</a>)</li>
<li>Mastodon <strong>servers</strong> communicate with each other (and with other ActivityPub servers) using ActivityPub</li>
<li>Mastodon <strong>clients</strong> communicate with their server using the Mastodon API, which is its own thing</li>
<li>There’s also software like <a href="https://github.com/superseriousbusiness/gotosocial">GoToSocial</a> that aims to be compatible with the Mastodon API, so that you can use a Mastodon client with it</li>
</ul>

<h3 id="more-mastodon-resources">more mastodon resources</h3>

<ul>
<li><a href="https://fedi.tips/">Fedi.Tips</a> seems to be a great introduction</li>
<li>I think you can still use <a href="https://fedifinder.glitch.me/">FediFinder</a> to find folks you followed on Twitter on Mastodon</li>
<li>I’ve been using the <a href="https://tapbots.com/ivory/">Ivory</a> client on iOS, but
there are lots of great clients. <a href="https://elk.zone/">Elk</a> is an alternative
web client that folks seem to like.</li>
</ul>

<p>I haven’t written here about what Mastodon culture is like because other people
have done a much better job of talking about it than me, but of course it’s is
the biggest thing that affects your experience and it was the thing that took
me longest to get a handle on. A few links:</p>

<ul>
<li>Erin Kissane on <a href="https://erinkissane.com/mastodon-is-easy-and-fun-except-when-it-isnt">frictions people run into when joining Mastodon</a></li>
<li>Kyle Kingsbury wrote some great <a href="https://blog.woof.group/mods/">moderation guidelines for woof.group</a> (note: woof.group is a LGBTQ+ leather instance, be prepared to see lots of NSFW posts if you visit it)</li>
<li>Mekka Okereke writes <a href="https://hachyderm.io/@mekkaokereke/110273797004251326">lots of great posts about issues Black people encounter on Mastodon</a> (though they’re all on Mastodon so it’s a little hard to navigate)</li>
</ul>

<h3 id="that-s-all">that’s all!</h3>

<p>I don’t regret setting up a single-user server – even though it’s
inconvenient, it’s important to me to have control over my social media. I
think “have control over my social media” is more important to me than it is to
most other people though, because I use Twitter/Mastodon a lot for work.</p>

<p>I am happy that I didn’t <em>start out</em> on a single-user server though –  I think
it would have made getting started on Mastodon a lot more difficult.</p>

<p>Mastodon is pretty rough around the edges sometimes but I’m able to have more
interesting conversations about computers there than I am on Twitter (or
Bluesky), so that’s where I’m staying for now.</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[20 Years of Vim (193 pts)]]></title>
            <link>https://www.contextualize.ai/mpereira/20-years-of-vim-ef9acae9</link>
            <guid>37099750</guid>
            <pubDate>Sat, 12 Aug 2023 13:02:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.contextualize.ai/mpereira/20-years-of-vim-ef9acae9">https://www.contextualize.ai/mpereira/20-years-of-vim-ef9acae9</a>, See on <a href="https://news.ycombinator.com/item?id=37099750">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="story-ef9acae9-5780-4336-acac-5247edf259a6"><div><p><span>by</span></p><div><figure><img alt="mpereira's profile picture" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" srcset="https://www.contextualize.ai/_next/image?url=https%3A%2F%2Fs.gravatar.com%2Favatar%2Ff311c1b3015de4901d6a8a5a6b738a1c%3Fs%3D480%26r%3Dpg%26d%3Dhttps%253A%252F%252Fcdn.auth0.com%252Favatars%252Fmu.png&amp;w=32&amp;q=75 1x, https://www.contextualize.ai/_next/image?url=https%3A%2F%2Fs.gravatar.com%2Favatar%2Ff311c1b3015de4901d6a8a5a6b738a1c%3Fs%3D480%26r%3Dpg%26d%3Dhttps%253A%252F%252Fcdn.auth0.com%252Favatars%252Fmu.png&amp;w=64&amp;q=75 2x" src="https://www.contextualize.ai/_next/image?url=https%3A%2F%2Fs.gravatar.com%2Favatar%2Ff311c1b3015de4901d6a8a5a6b738a1c%3Fs%3D480%26r%3Dpg%26d%3Dhttps%253A%252F%252Fcdn.auth0.com%252Favatars%252Fmu.png&amp;w=64&amp;q=75"></figure><p>mpereira</p></div></div><p>This chart shows the last 20 years of development as seen in the Vim git repository.</p><p>The hard work from maintainers turned Vim into a completely new editor, while still maintaining its spirit.</p><div><p><img alt="20 Years of Vim" loading="lazy" width="1200" height="800" decoding="async" data-nimg="1" srcset="https://www.contextualize.ai/_next/image?url=https%3A%2F%2Fapi.contextualize.ai%2Fstories%2Fmpereira%2F20-years-of-vim-ef9acae9.png%3Fv%3D2023-08-12T14%3A03%3A37.598811Z&amp;w=1200&amp;q=75 1x, https://www.contextualize.ai/_next/image?url=https%3A%2F%2Fapi.contextualize.ai%2Fstories%2Fmpereira%2F20-years-of-vim-ef9acae9.png%3Fv%3D2023-08-12T14%3A03%3A37.598811Z&amp;w=3840&amp;q=75 2x" src="https://www.contextualize.ai/_next/image?url=https%3A%2F%2Fapi.contextualize.ai%2Fstories%2Fmpereira%2F20-years-of-vim-ef9acae9.png%3Fv%3D2023-08-12T14%3A03%3A37.598811Z&amp;w=3840&amp;q=75"></p></div><div><p>Sources: github.com/vim/{vim,vim-history}, Hacker News, Wikipedia, marc.info</p></div><p>"Help children in Uganda!"</p></div><div><span data-br=":R1pja:" data-brr="1">Copyright © <!-- -->2023<!-- --> contextualize.ai. All rights reserved.</span><p>Made in 🇩🇪 by<!-- --> <span><a href="https://twitter.com/mpereira" target="_blank" rel="noreferrer">@<!-- -->mpereira</a></span></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Microsoft continues right to repair about face, makes its hardware easier to fix (169 pts)]]></title>
            <link>https://www.techdirt.com/2023/08/11/microsoft-continues-about-face-on-right-to-repair-makes-its-hardware-easier-to-fix/</link>
            <guid>37099086</guid>
            <pubDate>Sat, 12 Aug 2023 11:29:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.techdirt.com/2023/08/11/microsoft-continues-about-face-on-right-to-repair-makes-its-hardware-easier-to-fix/">https://www.techdirt.com/2023/08/11/microsoft-continues-about-face-on-right-to-repair-makes-its-hardware-easier-to-fix/</a>, See on <a href="https://news.ycombinator.com/item?id=37099086">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="storywrap-411044">


<h3>from the <i>getting-on-the-right-side-of-history</i> dept</h3>

<p>Microsoft has long been one of several companies that attempted to monopolize repair in a bid for profit, particularly when it has come to the company’s game consoles. But in recent years the company appears to have realized that with state and federal lawmakers and regulators cracking down on this behavior, it might be smart to stop swimming upstream when it comes to “right to repair.”</p>
<p>Last May, for example, Microsoft began&nbsp;<a href="https://grist.org/technology/microsoft-right-to-repair-quietly-supported-legislation-to-make-it-easier-to-fix-devices-heres-why-thats-a-big-deal/">urging lawmakers</a>&nbsp;to support the Washington State&nbsp;<a href="https://www.congress.gov/bill/117th-congress/house-bill/4006">Fair Repair Act</a>, which would ensure that consumers and indie repair shops have the parts, tools, and documentation to repair their own gear. The <a href="https://app.leg.wa.gov/billsummary?BillNumber=1392&amp;Initiative=false&amp;Year=2023">bill</a> didn’t pass — in part thanks to Democratic Washington State Senator Lisa Wellman, a former Apple executive (Apple’s a <a href="https://www.techdirt.com/2023/01/30/apple-still-sucks-on-right-to-repair/">notorious, bull-headed bully</a> on this subject). </p>
<p>Still, Microsoft’s support was reflective of what seems to be a legitimate shift in tactics at Microsoft, in large part so the company can meet its goal of being <a href="https://blogs.microsoft.com/blog/2020/01/16/microsoft-will-be-carbon-negative-by-2030/">carbon negative</a>&nbsp;by 2030. </p>
<p>Elsewhere, Microsoft has been doing a better job ensuring that consumers have access to both service manuals and essential parts needed to independently repair the company’s hardware, ranging from its Surface tablets and laptops to <a href="https://hothardware.com/news/microsoft-selling-xbox-controller-replacement-parts">Xbox game controllers</a>. </p>
<p>The Microsoft Store <a href="https://www.microsoft.com/en-us/store/b/xbox-repair-parts">now offers</a> replacement controller boards, buttons, covers, sticks,&nbsp;and more for those looking to fix their own hardware. The company has also started doing a better job providing users with video tutorials on how to best safely repair their own hardware. You can get many of the same parts also from iFixit now (with a <a href="https://www.theverge.com/2023/7/31/23814642/microsoft-xbox-elite-controllers-repair-diy">lifetime warranty as compared to Microsoft’s one-year warranty</a>). </p>
<p>The about face comes as a growing number of states begin seriously pursuing right to repair legislation with an eye on consumer rights, environmental waste, counterproductive DRM, and high repair costs. Given the massive, bipartisan public support for such reform, hopefully Microsoft has genuinely realized it simply makes way more sense to be on the right side of history. </p>
<p>
Filed Under: <a href="https://www.techdirt.com/tag/consumers/" rel="tag">consumers</a>, <a href="https://www.techdirt.com/tag/hardware/" rel="tag">hardware</a>, <a href="https://www.techdirt.com/tag/legislation/" rel="tag">legislation</a>, <a href="https://www.techdirt.com/tag/right-to-repair/" rel="tag">right to repair</a>
<br>
Companies: <a href="https://www.techdirt.com/company/microsoft/" rel="category tag">microsoft</a>
</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[tRPC – Build and consume typesafe APIs without schemas or code generation (293 pts)]]></title>
            <link>https://trpc.io/</link>
            <guid>37098875</guid>
            <pubDate>Sat, 12 Aug 2023 10:51:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://trpc.io/">https://trpc.io/</a>, See on <a href="https://news.ycombinator.com/item?id=37098875">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__docusaurus_skipToContent_fallback"><main><header><div><p>Experience the full power of<!-- --> <span>TypeScript</span> <!-- -->inference to boost productivity <br> for your full-stack application.</p></div><div><p><figure><video autoplay="" loop="" muted="" playsinline="" width="1200px" poster="https://assets.trpc.io/www/v10/preview-dark.png"><source src="https://assets.trpc.io/www/v10/preview-dark.mp4" type="video/mp4">You need a browser that supports HTML5 video to view this video.</video><a href="#try-it-out" title="Click to try it out"><video autoplay="" loop="" muted="" playsinline="" width="1200px" poster="https://assets.trpc.io/www/v10/v10-dark-landscape.png"><source src="https://assets.trpc.io/www/v10/v10-dark-landscape.mp4" type="video/mp4">You need a browser that supports HTML5 video to view this video.</video></a></figure></p></div><div><p>Many thanks to all of our amazing sponsors!</p></div></header><div><div><h2><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg></h2><h3>Automatic typesafety</h3><p>Made a server side change? TypeScript will warn you of errors on your client before you even save the file!</p></div><div><h2><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg></h2><h3>Snappy DX</h3><p>tRPC has no build or compile steps, meaning no code generation, runtime bloat or build step.</p></div><div><h2><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg></h2><h3>Framework agnostic</h3><p>Compatible with all JavaScript frameworks and runtimes. It's easy to add to your existing projects.</p></div><div><h2><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></svg></h2><h3>Autocompletion</h3><p>Using tRPC is like using an SDK for your API's server code, giving you confidence in your endpoints.</p></div><div><h2><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M64 96H0c0 123.7 100.3 224 224 224v144c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V320C288 196.3 187.7 96 64 96zm384-64c-84.2 0-157.4 46.5-195.7 115.2 27.7 30.2 48.2 66.9 59 107.6C424 243.1 512 147.9 512 32h-64z"></path></svg></h2><h3>Light bundle size</h3><p>tRPC has zero dependencies and a tiny client-side footprint making it lightweight.</p></div><div><h2><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M544 160v64h32v64h-32v64H64V160h480m16-64H48c-26.51 0-48 21.49-48 48v224c0 26.51 21.49 48 48 48h512c26.51 0 48-21.49 48-48v-16h8c13.255 0 24-10.745 24-24V184c0-13.255-10.745-24-24-24h-8v-16c0-26.51-21.49-48-48-48zm-48 96H96v128h416V192z"></path></svg></h2><h3>Batteries included</h3><p>We provide adapters for React, Next.js, Express, Fastify, AWS Lambda, Solid, Svelte, and more.</p></div></div><section><div><h2 id="quick-intro">Simple to use with <br> unmatched developer experience<a href="#quick-intro"></a></h2><p>It's quick and easy to get started with tRPC to build a typesafe API.</p></div><div><div><div><pre><p>ts</p><p><code><p><span>const</span><span> </span><span><data-lsp lsp="const t: {
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    procedure: ProcedureBuilder<...>;
    middleware: <TNewParams extends ProcedureParams<...>>(fn: MiddlewareFunction<...>) => MiddlewareBuilder<...>;
    router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<...>;
    mergeRouters: <TRouters extends AnyRouter[]>(...routerList_0: TRouters) => MergeRouters<...>;
}">t</data-lsp></span><span> </span><span>=</span><span> </span><span><data-lsp lsp="(alias) const initTRPC: TRPCBuilder<object>
import initTRPC">initTRPC</data-lsp></span><span>.<data-lsp lsp="(method) TRPCBuilder<object>.create<Partial<RuntimeConfig<{
    ctx: object;
    meta: object;
    errorShape: unknown;
    transformer: DataTransformerOptions;
}>>>(options?: Partial<RuntimeConfig<{
    ctx: object;
    meta: object;
    errorShape: unknown;
    transformer: DataTransformerOptions;
}>> | undefined): {
    ...;
}">create</data-lsp></span><span>();</span></p><p><span>const</span><span> </span><span><data-lsp lsp="const router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, TProcRouterRecord>">router</data-lsp></span><span> </span><span>=</span><span> </span><span><data-lsp lsp="const t: {
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    procedure: ProcedureBuilder<...>;
    middleware: <TNewParams extends ProcedureParams<...>>(fn: MiddlewareFunction<...>) => MiddlewareBuilder<...>;
    router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<...>;
    mergeRouters: <TRouters extends AnyRouter[]>(...routerList_0: TRouters) => MergeRouters<...>;
}">t</data-lsp></span><span>.<data-lsp lsp="(property) router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, TProcRouterRecord>">router</data-lsp>;</span></p><p><span>const</span><span> </span><span><data-lsp lsp="const publicProcedure: ProcedureBuilder<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _meta: object;
}>">publicProcedure</data-lsp></span><span> </span><span>=</span><span> </span><span><data-lsp lsp="const t: {
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    procedure: ProcedureBuilder<...>;
    middleware: <TNewParams extends ProcedureParams<...>>(fn: MiddlewareFunction<...>) => MiddlewareBuilder<...>;
    router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<...>;
    mergeRouters: <TRouters extends AnyRouter[]>(...routerList_0: TRouters) => MergeRouters<...>;
}">t</data-lsp></span><span>.<data-lsp lsp="(property) procedure: ProcedureBuilder<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _meta: object;
}>">procedure</data-lsp>;</span></p><p><span>const</span><span> </span><span><data-lsp lsp="const appRouter: CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}>">appRouter</data-lsp></span><span> </span><span>=</span><span> </span><span><data-lsp lsp="const router: <{
    greeting: BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>;
}>(procedures: {
    ...;
}) => CreateRouterInner<...>">router</data-lsp></span><span>({</span></p><p><span>  <data-lsp lsp="(property) greeting: BuildProcedure<&quot;query&quot;, {
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _output_out: typeof unsetMarker;
}, `Hello ${string}`>">greeting</data-lsp></span><span>:</span><span> <data-lsp lsp="const publicProcedure: ProcedureBuilder<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _meta: object;
}>">publicProcedure</data-lsp></span></p><p><span>    </span><span>.<data-lsp lsp="(method) ProcedureBuilder<{ _config: RootConfig<{ ctx: object; meta: object; errorShape: DefaultErrorShape; transformer: DefaultDataTransformer; }>; ... 5 more ...; _meta: object; }>.input<z.ZodObject<{
    name: z.ZodString;
}, &quot;strip&quot;, z.ZodTypeAny, {
    name: string;
}, {
    name: string;
}>>(schema: z.ZodObject<{
    name: z.ZodString;
}, &quot;strip&quot;, z.ZodTypeAny, {
    name: string;
}, {
    ...;
}>): ProcedureBuilder<...>">input</data-lsp></span><span>(</span><span><data-lsp lsp="import z">z</data-lsp></span><span>.<data-lsp lsp="(alias) object<{
    name: z.ZodString;
}>(shape: {
    name: z.ZodString;
}, params?: z.RawCreateParams): z.ZodObject<{
    name: z.ZodString;
}, &quot;strip&quot;, z.ZodTypeAny, {
    name: string;
}, {
    name: string;
}>
export object">object</data-lsp></span><span>({ <data-lsp lsp="(property) name: z.ZodString">name</data-lsp></span><span>:</span><span> </span><span><data-lsp lsp="import z">z</data-lsp></span><span>.<data-lsp lsp="(alias) string(params?: ({
    errorMap?: z.ZodErrorMap | undefined;
    invalid_type_error?: string | undefined;
    required_error?: string | undefined;
    description?: string | undefined;
} &amp; {
    coerce?: true | undefined;
}) | undefined): z.ZodString
export string">string</data-lsp></span><span>() }))</span></p><p><span>    </span><span>.<data-lsp lsp="(method) ProcedureBuilder<{ _config: RootConfig<{ ctx: object; meta: object; errorShape: DefaultErrorShape; transformer: DefaultDataTransformer; }>; ... 5 more ...; _output_out: typeof unsetMarker; }>.query<`Hello ${string}`>(resolver: (opts: ResolveOptions<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _output_out: typeof unsetMarker;
}>) => MaybePromise<...>): BuildProcedure<...>">query</data-lsp></span><span>((<data-lsp lsp="(parameter) opts: ResolveOptions<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _output_out: typeof unsetMarker;
}>">opts</data-lsp>) </span><span>=&gt;</span><span> {</span></p><p><span>      </span><span>const</span><span> { </span><span><data-lsp lsp="const input: {
    name: string;
}">input</data-lsp></span><span> } </span><span>=</span><span> <data-lsp lsp="(parameter) opts: ResolveOptions<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _output_out: typeof unsetMarker;
}>">opts</data-lsp>;</span></p><p><span>               </span><span>const input: {
    name: string;
}</span></p><p><span>      </span><span>return</span><span> </span><span>`Hello </span><span>${</span><span><data-lsp lsp="const input: {
    name: string;
}">input</data-lsp></span><span>.<data-lsp lsp="(property) name: string">name</data-lsp></span><span>}</span><span>`</span><span> </span><span>as</span><span> </span><span><data-lsp lsp="type const = `Hello ${string}`">const</data-lsp></span><span>;</span></p><p><span>  })</span><span>,</span></p><p><span>});</span></p><p><span>export</span><span> </span><span>type</span><span> </span><span><data-lsp lsp="type AppRouter = Router<RouterDef<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}, {
    ...;
}>> &amp; {
    greeting: BuildProcedure<...>;
}">AppRouter</data-lsp></span><span> </span><span>=</span><span> </span><span>typeof</span><span> <data-lsp lsp="const appRouter: CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}>">appRouter</data-lsp>;</span></p></code></p></pre><pre><p>ts</p><p><code><p><span>const</span><span> </span><span><data-lsp lsp="const t: {
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    procedure: ProcedureBuilder<...>;
    middleware: <TNewParams extends ProcedureParams<...>>(fn: MiddlewareFunction<...>) => MiddlewareBuilder<...>;
    router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<...>;
    mergeRouters: <TRouters extends AnyRouter[]>(...routerList_0: TRouters) => MergeRouters<...>;
}">t</data-lsp></span><span> </span><span>=</span><span> <data-lsp lsp="(alias) const initTRPC: TRPCBuilder<object>
import initTRPC">initTRPC</data-lsp>.</span><span><data-lsp lsp="(method) TRPCBuilder<object>.create<Partial<RuntimeConfig<{
    ctx: object;
    meta: object;
    errorShape: unknown;
    transformer: DataTransformerOptions;
}>>>(options?: Partial<RuntimeConfig<{
    ctx: object;
    meta: object;
    errorShape: unknown;
    transformer: DataTransformerOptions;
}>> | undefined): {
    ...;
}">create</data-lsp></span><span>();</span></p><p><span>const</span><span> </span><span><data-lsp lsp="const router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, TProcRouterRecord>">router</data-lsp></span><span> </span><span>=</span><span> <data-lsp lsp="const t: {
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    procedure: ProcedureBuilder<...>;
    middleware: <TNewParams extends ProcedureParams<...>>(fn: MiddlewareFunction<...>) => MiddlewareBuilder<...>;
    router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<...>;
    mergeRouters: <TRouters extends AnyRouter[]>(...routerList_0: TRouters) => MergeRouters<...>;
}">t</data-lsp>.<data-lsp lsp="(property) router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, TProcRouterRecord>">router</data-lsp>;</span></p><p><span>const</span><span> </span><span><data-lsp lsp="const publicProcedure: ProcedureBuilder<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _meta: object;
}>">publicProcedure</data-lsp></span><span> </span><span>=</span><span> <data-lsp lsp="const t: {
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    procedure: ProcedureBuilder<...>;
    middleware: <TNewParams extends ProcedureParams<...>>(fn: MiddlewareFunction<...>) => MiddlewareBuilder<...>;
    router: <TProcRouterRecord extends ProcedureRouterRecord>(procedures: TProcRouterRecord) => CreateRouterInner<...>;
    mergeRouters: <TRouters extends AnyRouter[]>(...routerList_0: TRouters) => MergeRouters<...>;
}">t</data-lsp>.<data-lsp lsp="(property) procedure: ProcedureBuilder<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _meta: object;
}>">procedure</data-lsp>;</span></p><p><span>const</span><span> </span><span><data-lsp lsp="const appRouter: CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}>">appRouter</data-lsp></span><span> </span><span>=</span><span> </span><span><data-lsp lsp="const router: <{
    greeting: BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>;
}>(procedures: {
    ...;
}) => CreateRouterInner<...>">router</data-lsp></span><span>({</span></p><p><span>  <data-lsp lsp="(property) greeting: BuildProcedure<&quot;query&quot;, {
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _output_out: typeof unsetMarker;
}, `Hello ${string}`>">greeting</data-lsp>: <data-lsp lsp="const publicProcedure: ProcedureBuilder<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _meta: object;
}>">publicProcedure</data-lsp></span></p><p><span>    .</span><span><data-lsp lsp="(method) ProcedureBuilder<{ _config: RootConfig<{ ctx: object; meta: object; errorShape: DefaultErrorShape; transformer: DefaultDataTransformer; }>; ... 5 more ...; _meta: object; }>.input<z.ZodObject<{
    name: z.ZodString;
}, &quot;strip&quot;, z.ZodTypeAny, {
    name: string;
}, {
    name: string;
}>>(schema: z.ZodObject<{
    name: z.ZodString;
}, &quot;strip&quot;, z.ZodTypeAny, {
    name: string;
}, {
    ...;
}>): ProcedureBuilder<...>">input</data-lsp></span><span>(<data-lsp lsp="import z">z</data-lsp>.</span><span><data-lsp lsp="(alias) object<{
    name: z.ZodString;
}>(shape: {
    name: z.ZodString;
}, params?: z.RawCreateParams): z.ZodObject<{
    name: z.ZodString;
}, &quot;strip&quot;, z.ZodTypeAny, {
    name: string;
}, {
    name: string;
}>
export object">object</data-lsp></span><span>({ <data-lsp lsp="(property) name: z.ZodString">name</data-lsp>: <data-lsp lsp="import z">z</data-lsp>.</span><span><data-lsp lsp="(alias) string(params?: ({
    errorMap?: z.ZodErrorMap | undefined;
    invalid_type_error?: string | undefined;
    required_error?: string | undefined;
    description?: string | undefined;
} &amp; {
    coerce?: true | undefined;
}) | undefined): z.ZodString
export string">string</data-lsp></span><span>() }))</span></p><p><span>    .</span><span><data-lsp lsp="(method) ProcedureBuilder<{ _config: RootConfig<{ ctx: object; meta: object; errorShape: DefaultErrorShape; transformer: DefaultDataTransformer; }>; ... 5 more ...; _output_out: typeof unsetMarker; }>.query<`Hello ${string}`>(resolver: (opts: ResolveOptions<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _output_out: typeof unsetMarker;
}>) => MaybePromise<...>): BuildProcedure<...>">query</data-lsp></span><span>((</span><span><data-lsp lsp="(parameter) opts: ResolveOptions<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _output_out: typeof unsetMarker;
}>">opts</data-lsp></span><span>) </span><span>=&gt;</span><span> {</span></p><p><span>      </span><span>const</span><span> { </span><span><data-lsp lsp="const input: {
    name: string;
}">input</data-lsp></span><span> } </span><span>=</span><span> <data-lsp lsp="(parameter) opts: ResolveOptions<{
    _config: RootConfig<{
        ctx: object;
        meta: object;
        errorShape: DefaultErrorShape;
        transformer: DefaultDataTransformer;
    }>;
    ... 5 more ...;
    _output_out: typeof unsetMarker;
}>">opts</data-lsp>;</span></p><p><span>               </span><span>const input: {
    name: string;
}</span></p><p><span>      </span><span>return</span><span> </span><span>`Hello ${</span><span><data-lsp lsp="const input: {
    name: string;
}">input</data-lsp></span><span>.</span><span><data-lsp lsp="(property) name: string">name</data-lsp></span><span>}`</span><span> </span><span>as</span><span> </span><span><data-lsp lsp="type const = `Hello ${string}`">const</data-lsp></span><span>;</span></p><p><span>  }),</span></p><p><span>});</span></p><p><span>export</span><span> </span><span>type</span><span> </span><span><data-lsp lsp="type AppRouter = Router<RouterDef<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}, {
    ...;
}>> &amp; {
    greeting: BuildProcedure<...>;
}">AppRouter</data-lsp></span><span> </span><span>=</span><span> </span><span>typeof</span><span> <data-lsp lsp="const appRouter: CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}>">appRouter</data-lsp>;</span></p></code></p></pre></div><div><div><p>1</p><h2>Define your procedures</h2></div><div><p>The first step to creating a tRPC API is to define your procedures.</p><p> Procedures are the functions we will use to build your backend. They're <i>composable</i> and can be queries, mutations, or subscriptions. Routers contain multiple procedures.</p><p> In this procedure, we use a</p><!-- --> <p><a href="https://github.com/colinhacks/zod" target="_blank" rel="noopener noreferrer">Zod</a> validator to ensure the input from the client has exactly the shape that our procedure expects. We will also return a simple text string from the query.</p><p> At the end of the file, we export the type of the router so we can use it in our frontend code in just a few moments.</p></div></div></div><div><div><pre><p>ts</p><p><code><p><span>const</span><span> { </span><span>listen</span><span> } </span><span>=</span><span> </span><span>createHTTPServer</span><span>({</span></p><p><span>  router</span><span>:</span><span> appRouter</span><span>,</span></p><p><span>});</span></p><p><span>// The API will now be listening on port 3000!</span></p><p><span>listen</span><span>(</span><span>3000</span><span>);</span></p></code></p></pre><pre><p>ts</p><p><code><p><span>const</span><span> { </span><span>listen</span><span> } </span><span>=</span><span> </span><span>createHTTPServer</span><span>({</span></p><p><span>  router: appRouter,</span></p><p><span>});</span></p><p><span>// The API will now be listening on port 3000!</span></p><p><span>listen</span><span>(</span><span>3000</span><span>);</span></p></code></p></pre></div><div><div><p>2</p><h2>Create your HTTP server</h2></div><div><p>Next, we create our HTTP server using our <code>appRouter</code>. We now have a tRPC server running!</p><p> tRPC has many adapters so it can meet you where you are. Next.js, Express, the Fetch API (Astro, Remix, SvelteKit, Cloudflare Workers, etc.), Fastify, AWS Lambda, or a vanilla Node HTTP server.</p></div></div></div><div><div><pre><p>ts</p><p><code><p><span>const</span><span> </span><span><data-lsp lsp="const trpc: DecoratedProcedureRecord<{
    greeting: BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>;
}>">trpc</data-lsp></span><span> </span><span>=</span><span> </span><span><data-lsp lsp="(alias) createTRPCProxyClient<CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}>>(opts: CreateTRPCClientOptions<...>): DecoratedProcedureRecord<...>
import createTRPCProxyClient">createTRPCProxyClient</data-lsp></span><span>&lt;</span><span><data-lsp lsp="(alias) type AppRouter = Router<RouterDef<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}, {
    ...;
}>> &amp; {
    greeting: BuildProcedure<...>;
}
import AppRouter">AppRouter</data-lsp></span><span>&gt;({</span></p><p><span>  <data-lsp lsp="(property) links: TRPCLink<CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>;
}>>[]">links</data-lsp></span><span>:</span><span> [</span></p><p><span>    </span><span><data-lsp lsp="(alias) httpBatchLink<CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}>>(opts: HTTPBatchLinkOptions): TRPCLink<...>
import httpBatchLink">httpBatchLink</data-lsp></span><span>({</span></p><p><span>      <data-lsp lsp="(property) HTTPLinkBaseOptions.url: string">url</data-lsp></span><span>:</span><span> </span><span>'http://localhost:3000'</span><span>,</span></p><p><span>    })</span><span>,</span></p><p><span>  ]</span><span>,</span></p><p><span>});</span></p><p><span>const</span><span> </span><span><data-lsp lsp="const res: `Hello ${string}`">res</data-lsp></span><span> </span><span>=</span><span> </span><span>await</span><span> </span><span><data-lsp lsp="const trpc: DecoratedProcedureRecord<{
    greeting: BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>;
}>">trpc</data-lsp></span><span>.</span><span><data-lsp lsp="(property) greeting: {
    query: Resolver<BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>>;
}">greeting</data-lsp></span><span>.<data-lsp lsp="(property) query: (input: {
    name: string;
}, opts?: ProcedureOptions | undefined) => Promise<`Hello ${string}`>">query</data-lsp></span><span>({ <data-lsp lsp="(property) name: string">name</data-lsp></span><span>:</span><span> </span><span>'John'</span><span> });</span></p><p><span>      </span><span>const res: `Hello ${string}`</span></p></code></p></pre><pre><p>ts</p><p><code><p><span>const</span><span> </span><span><data-lsp lsp="const trpc: DecoratedProcedureRecord<{
    greeting: BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>;
}>">trpc</data-lsp></span><span> </span><span>=</span><span> </span><span><data-lsp lsp="(alias) createTRPCProxyClient<CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}>>(opts: CreateTRPCClientOptions<...>): DecoratedProcedureRecord<...>
import createTRPCProxyClient">createTRPCProxyClient</data-lsp></span><span>&lt;</span><span><data-lsp lsp="(alias) type AppRouter = Router<RouterDef<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}, {
    ...;
}>> &amp; {
    greeting: BuildProcedure<...>;
}
import AppRouter">AppRouter</data-lsp></span><span>&gt;({</span></p><p><span>  <data-lsp lsp="(property) links: TRPCLink<CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>;
}>>[]">links</data-lsp>: [</span></p><p><span>    </span><span><data-lsp lsp="(alias) httpBatchLink<CreateRouterInner<RootConfig<{
    ctx: object;
    meta: object;
    errorShape: DefaultErrorShape;
    transformer: DefaultDataTransformer;
}>, {
    greeting: BuildProcedure<...>;
}>>(opts: HTTPBatchLinkOptions): TRPCLink<...>
import httpBatchLink">httpBatchLink</data-lsp></span><span>({</span></p><p><span>      <data-lsp lsp="(property) HTTPLinkBaseOptions.url: string">url</data-lsp>: </span><span>'http://localhost:3000'</span><span>,</span></p><p><span>    }),</span></p><p><span>  ],</span></p><p><span>});</span></p><p><span>const</span><span> </span><span><data-lsp lsp="const res: `Hello ${string}`">res</data-lsp></span><span> </span><span>=</span><span> </span><span>await</span><span> <data-lsp lsp="const trpc: DecoratedProcedureRecord<{
    greeting: BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>;
}>">trpc</data-lsp>.<data-lsp lsp="(property) greeting: {
    query: Resolver<BuildProcedure<&quot;query&quot;, {
        _config: RootConfig<{
            ctx: object;
            meta: object;
            errorShape: DefaultErrorShape;
            transformer: DefaultDataTransformer;
        }>;
        ... 5 more ...;
        _output_out: typeof unsetMarker;
    }, `Hello ${string}`>>;
}">greeting</data-lsp>.</span><span><data-lsp lsp="(property) query: (input: {
    name: string;
}, opts?: ProcedureOptions | undefined) => Promise<`Hello ${string}`>">query</data-lsp></span><span>({ <data-lsp lsp="(property) name: string">name</data-lsp>: </span><span>'John'</span><span> });</span></p><p><span>      </span><span>const res: `Hello ${string}`</span></p></code></p></pre></div><div><div><p>3</p><h2>Connect your client and start querying!</h2></div><div><p>Now that we have the server running, we can create a client and start querying data.</p><p> We pass the <code>AppRouter</code> type when creating the client to give us TypeScript autocompletion and Intellisense that matches the backend API without requiring any code generation!</p></div></div></div></div></section><section><p><h2 id="try-it-out">Try it out for yourself!<a href="#try-it-out"></a></h2></p><p><a href="https://github.com/trpc/examples-minimal/generate" target="_blank" rel=""><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span>Use this template</span></a></p></section><section><p><h2 id="quote">You may not need a traditional API<a href="#quote"></a></h2></p><div><blockquote cite="https://twitter.com/alexdotjs"><p>"I built tRPC to allow people to <strong>move faster</strong> <!-- -->by removing the need of a traditional API-layer, while still having confidence that our apps won't break as we rapidly iterate."</p><p>Try it out for yourself and let us know what you think!</p></blockquote><a href="http://twitter.com/alexdotjs"><img src="https://avatars.githubusercontent.com/u/459267?v=4" alt="Alex/KATT" loading="lazy"></a></div></section><section><div><h2 id="twitter-wall">Don't take our word for it!<a href="#twitter-wall"></a></h2><p>Many developers are loving tRPC and what it brings to them.</p></div><div><figure><a href="https://twitter.com/t3dotgg/status/1571922456239284224"></a><figcaption><a href="https://twitter.com/t3dotgg/status/1571922456239284224"></a><a href="https://twitter.com/t3dotgg"><p><img src="https://github.com/t3dotgg.png" alt="t3dotgg"><cite><p>Theo - ping.gg</p><p>@<!-- -->t3dotgg</p></cite></p></a><p><time datetime="2022-09-19T18:01:33.000Z">Sep 19</time></p></figcaption><blockquote cite="https://twitter.com/t3dotgg/status/1571922456239284224">The amount that tRPC has improved the quality of our code, the speed of our delivery, and the happiness of our devs is hard to comprehend.

I know I shill it a lot but seriously, please try @trpcio</blockquote></figure><figure><a href="https://twitter.com/ralex1993/status/1573284779419930624"></a><figcaption><a href="https://twitter.com/ralex1993/status/1573284779419930624"></a><a href="https://twitter.com/ralex1993"><p><img src="https://pbs.twimg.com/profile_images/1529879227918561292/8ujpSdLe_normal.jpg" alt="ralex1993"><cite><p>R. Alex Anderson 🚀</p><p>@<!-- -->ralex1993</p></cite></p></a><p><time datetime="2022-09-23T12:14:56.000Z">Sep 23</time></p></figcaption><blockquote cite="https://twitter.com/ralex1993/status/1573284779419930624">🤯 tRPC 10 enables VS Code's "Change All Occurrences" feature to work _across the client/server boundary_!

In this video, I rename a procedure input using "Change All Occurrences", and that change propagates to anywhere the input is used across the entire app. 🤩

cc @trpcio</blockquote></figure><figure><a href="https://twitter.com/kentcdodds/status/1572304619468099584"></a><figcaption><a href="https://twitter.com/kentcdodds/status/1572304619468099584"></a><a href="https://twitter.com/kentcdodds"><p><img src="https://pbs.twimg.com/profile_images/1567269493608714241/6ACZo99k_normal.jpg" alt="kentcdodds"><cite><p>Kent C. Dodds 🌌</p><p>@<!-- -->kentcdodds</p></cite></p></a><p><time datetime="2022-09-20T19:20:07.000Z">Sep 20</time></p></figcaption><blockquote cite="https://twitter.com/kentcdodds/status/1572304619468099584">If I didn't already get end-to-end type safety from @remix_run, I would 100% be investigating @trpcio very seriously. If you're not on Remix, I suggest you give it a look 👀</blockquote></figure><figure><a href="https://twitter.com/sockthedev/status/1569588272392990720"></a><figcaption><a href="https://twitter.com/sockthedev/status/1569588272392990720"></a><a href="https://twitter.com/sockthedev"><p><img src="https://pbs.twimg.com/profile_images/1569584517161324544/po3hKnjN_normal.jpg" alt="sockthedev"><cite><p>Sock, the dev 🧦</p><p>@<!-- -->sockthedev</p></cite></p></a><p><time datetime="2022-09-13T07:26:20.000Z">Sep 13</time></p></figcaption><blockquote cite="https://twitter.com/sockthedev/status/1569588272392990720">If you are all in on TypeScript you MUST use tRPC for your API. No ifs, no buts. 

tRPC destroys the boundary between frontend and backend. You get to focus on building features for your app.

Best tool for time to market hyper mode.

Marry me @alexdotjs 💍</blockquote></figure><figure><a href="https://twitter.com/leeb/status/1603224872208908288"></a><figcaption><a href="https://twitter.com/leeb/status/1603224872208908288"></a><a href="https://twitter.com/leeb"><p><img src="https://pbs.twimg.com/profile_images/826651806696501248/TOro78hz_normal.jpg" alt="leeb"><cite><p>Lee Byron</p><p>@<!-- -->leeb</p></cite></p></a><p><time datetime="2022-12-15T03:06:10.000Z">Dec 15</time></p></figcaption><blockquote cite="https://twitter.com/leeb/status/1603224872208908288">Hearing @t3dotgg and @mxstbr #tRPC and @GraphQL and find they agree that both are awesome and there’s a time and a place for each 💖</blockquote></figure><figure><a href="https://twitter.com/jokull/status/1562081793863475201"></a><figcaption><a href="https://twitter.com/jokull/status/1562081793863475201"></a><a href="https://twitter.com/jokull"><p><img src="https://pbs.twimg.com/profile_images/1389495075248484354/pmii-f0T_normal.jpg" alt="jokull"><cite><p>Jökull Solberg</p><p>@<!-- -->jokull</p></cite></p></a><p><time datetime="2022-08-23T14:18:16.000Z">Aug 23</time></p></figcaption><blockquote cite="https://twitter.com/jokull/status/1562081793863475201">tRPC is insane. I’m building a Stripe integration – I return Stripe API payloads from the server I get the response data typed for my React components without even saving the files, as if I’m using the Stripe library on the frontend not backend. /cc @alexdotjs</blockquote></figure><figure><a href="https://twitter.com/christian_legge/status/1569033706131562496"></a><figcaption><a href="https://twitter.com/christian_legge/status/1569033706131562496"></a><a href="https://twitter.com/christian_legge"><p><img src="https://pbs.twimg.com/profile_images/1569016481286864897/G7rAUufS_normal.jpg" alt="christian_legge"><cite><p>Christian Legge</p><p>@<!-- -->christian_legge</p></cite></p></a><p><time datetime="2022-09-11T18:42:41.000Z">Sep 11</time></p></figcaption><blockquote cite="https://twitter.com/christian_legge/status/1569033706131562496">Spent all of yesterday learning and implementing @trpcio and wow, what a great investment. I can't believe how much time I spent (read: wasted) validating and parsing queries and responses!</blockquote></figure><figure><a href="https://twitter.com/TkDodo/status/1573391189373751297"></a><figcaption><a href="https://twitter.com/TkDodo/status/1573391189373751297"></a><a href="https://twitter.com/TkDodo"><p><img src="https://pbs.twimg.com/profile_images/1538855291604942848/STbt4nxl_normal.jpg" alt="TkDodo"><cite><p>Dominik 🇺🇦</p><p>@<!-- -->TkDodo</p></cite></p></a><p><time datetime="2022-09-23T19:17:46.000Z">Sep 23</time></p></figcaption><blockquote cite="https://twitter.com/TkDodo/status/1573391189373751297">That being said, we _are_ starting a production project right now, and we're using @nextjs with @trpcio . It's so good I don't even know where to start 🔥. Probably with the e2e type-safety 😍
Haven't thought about client state much but the former probably applies.</blockquote></figure><figure><a href="https://twitter.com/housecor/status/1568983102931832835"></a><figcaption><a href="https://twitter.com/housecor/status/1568983102931832835"></a><a href="https://twitter.com/housecor"><p><img src="https://pbs.twimg.com/profile_images/1525874017630035970/veQQouGw_normal.jpg" alt="housecor"><cite><p>Cory House</p><p>@<!-- -->housecor</p></cite></p></a><p><time datetime="2022-09-11T15:21:36.000Z">Sep 11</time></p></figcaption><blockquote cite="https://twitter.com/housecor/status/1568983102931832835">@trpcio Love it. 

Simple, strong types. 

Feels like a more elegant choice than plain REST or GraphQL when using TS in a monorepo.</blockquote></figure><figure><a href="https://twitter.com/andersmellson/status/1569341560646402051"></a><figcaption><a href="https://twitter.com/andersmellson/status/1569341560646402051"></a><a href="https://twitter.com/andersmellson"><p><img src="https://pbs.twimg.com/profile_images/1571199740741648386/MHgs4RqH_normal.jpg" alt="andersmellson"><cite><p>Anders Bech Mellson</p><p>@<!-- -->andersmellson</p></cite></p></a><p><time datetime="2022-09-12T15:05:59.000Z">Sep 12</time></p></figcaption><blockquote cite="https://twitter.com/andersmellson/status/1569341560646402051">Spent today playing with @trpcio v10 and I'm officially in love 😍 ps. Don't tell my wife 🙊</blockquote></figure><figure><a href="https://twitter.com/grabbou/status/1571988844152786946"></a><figcaption><a href="https://twitter.com/grabbou/status/1571988844152786946"></a><a href="https://twitter.com/grabbou"><p><img src="https://pbs.twimg.com/profile_images/1585984423379587074/hAOlKGNS_normal.jpg" alt="grabbou"><cite><p>Mike | grabbou.eth 🚀</p><p>@<!-- -->grabbou</p></cite></p></a><p><time datetime="2022-09-19T22:25:21.000Z">Sep 19</time></p></figcaption><blockquote cite="https://twitter.com/grabbou/status/1571988844152786946">@t3dotgg @trpcio Totally. I am literally smiling every time I write a procedure, because it reminds of how hard it used to be in the past. Built-in errors, typed middleware (that can alter context), input validation. It's just massive!</blockquote></figure><figure><a href="https://twitter.com/wikitable/status/1561974448676171776"></a><figcaption><a href="https://twitter.com/wikitable/status/1561974448676171776"></a><a href="https://twitter.com/wikitable"><p><img src="https://pbs.twimg.com/profile_images/1562019463893241857/7e5r3Yfu_normal.jpg" alt="wikitable"><cite><p>Martin</p><p>@<!-- -->wikitable</p></cite></p></a><p><time datetime="2022-08-23T07:11:43.000Z">Aug 23</time></p></figcaption><blockquote cite="https://twitter.com/wikitable/status/1561974448676171776">💖 I'm sponsoring @alexdotjs because tRPC has helped to build apps faster. github.com/sponsors/KATT?…</blockquote></figure></div></section><div><p>We really love all of our amazing<!-- --> <a href="https://trpc.io/sponsor" target="_blank" rel="noreferrer noopener">sponsors</a>&nbsp;who help make sure tRPC is here to stay.</p></div></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I feel like I made a mistake investing professionally into Flutter (177 pts)]]></title>
            <link>https://reddit.com/r/FlutterDev/comments/15njq61/i_feel_like_i_mad_a_mistake_investing/</link>
            <guid>37098591</guid>
            <pubDate>Sat, 12 Aug 2023 09:49:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://reddit.com/r/FlutterDev/comments/15njq61/i_feel_like_i_mad_a_mistake_investing/">https://reddit.com/r/FlutterDev/comments/15njq61/i_feel_like_i_mad_a_mistake_investing/</a>, See on <a href="https://news.ycombinator.com/item?id=37098591">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  <shreddit-title title="I feel like I mad a mistake investing professionally into Flutter, because now there are zero opportunities for me. : r/FlutterDev"></shreddit-title>
    <shreddit-post permalink="/r/FlutterDev/comments/15njq61/i_feel_like_i_mad_a_mistake_investing/" content-href="https://www.reddit.com/r/FlutterDev/comments/15njq61/i_feel_like_i_mad_a_mistake_investing/" "="" view-context="CommentsPage" vote-type="" comment-count="147" is-desktop-viewport="" should-track-post-view-events="" created-timestamp="2023-08-10T18:06:52.594000+0000" domain="self.FlutterDev" id="t3_15njq61" post-title="I feel like I mad a mistake investing professionally into Flutter, because now there are zero opportunities for me." post-type="text" translation-language="en" score="178" subreddit-id="t5_2x3q8" subreddit-prefixed-name="r/FlutterDev" author-id="t2_dox6j199n" author="Previous-Display-593" icon="https://styles.redditmedia.com/t5_8mx8xt/styles/profileIcon_snood7caef28-1e9c-4a4a-82e3-e8065cf50c14-headshot.png?width=64&amp;height=64&amp;frame=1&amp;auto=webp&amp;crop=64:64,smart&amp;s=a66720c76f5ddea504e7b848712705f95be91549">
      <p><span>
      <span>
        <faceplate-tracker source="post_credit_bar" action="click" noun="community">
          <a href="https://reddit.com/r/FlutterDev/">
            <span>
                  <faceplate-img src="https://styles.redditmedia.com/t5_2x3q8/styles/communityIcon_dsw8tf6mg06b1.png" alt="r/FlutterDev icon" loading="lazy"></faceplate-img>
                </span>
            <faceplate-screen-reader-content>
              Go to FlutterDev
            </faceplate-screen-reader-content>
          </a>
        </faceplate-tracker>
      </span>

      
    </span>
    <span>
      <shreddit-join-button name="FlutterDev" subreddit-id="t5_2x3q8" prefixed-name="r/FlutterDev" buttonsize="x-small" button-type="primary" button-classes="h-[24px]"></shreddit-join-button>
      <shreddit-async-loader bundlename="shreddit_post_overflow_menu">
    <shreddit-post-overflow-menu is-desktop=""></shreddit-post-overflow-menu>
  </shreddit-async-loader>
    </span>
  </p>
      
      
      
      <div id="post-title-t3_15njq61" slot="title">
    <embed-snippet-share-button postid="t3_15njq61" permalink="/r/FlutterDev/comments/15njq61/i_feel_like_i_mad_a_mistake_investing/"></embed-snippet-share-button><p>
    I feel like I mad a mistake investing professionally into Flutter, because now there are zero opportunities for me. </p><faceplate-perfmark name="first-post-meaningful-paint"></faceplate-perfmark>
  </div>
      
      <div id="t3_15njq61-post-rtjson-content" slot="text-body">
    <p>
    I have worked professionally in Flutter for 3 years now. The company I worked for recently laid me off because of difficulty securing the next round of investment.
  </p><p>
    I am now in the market for a job and the majority of my recent experience is in Flutter. In my country of Canada, I am finding basically zero opportunities. One hiring manager I talked to said "It is hard to find Flutter developers". I am also observing it is nearly impossible to find Flutter positions. So its almost like no one at all is using Flutter.
  </p><p>
    I have a feeling that by the end of 2024, Flutter might be a complete afterthought (though I hope I am completely wrong!).
  </p><p>
    Is anyone seeing a any different trends with Flutter?
  </p>
  </div>
      
      
      
      
      
      
    </shreddit-post>
  <faceplate-partial name="comments_forest" src="/svc/shreddit/comments/flutterdev/t3_15njq61?render-mode=partial&amp;shredtop=" loading="preload"><shreddit-loading></shreddit-loading></faceplate-partial>
    <faceplate-loader name="Rereddit" src="https://www.redditstatic.com/shreddit/en-US/rereddit-client-js-bee22121.js" loading="lazy">
    </faceplate-loader>
    <template name="Rereddit"></template>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How a startup loses its spark (461 pts)]]></title>
            <link>https://blog.johnqian.com/startup-spark</link>
            <guid>37098483</guid>
            <pubDate>Sat, 12 Aug 2023 09:28:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.johnqian.com/startup-spark">https://blog.johnqian.com/startup-spark</a>, See on <a href="https://news.ycombinator.com/item?id=37098483">Hacker News</a></p>
<div id="readability-page-1" class="page"><div> <p>August 2023</p> <p data-svelte-h="svelte-n5h05z">At a well-run seed stage startup, engineers will often describe the work experience as <em>intoxicating</em>. At a larger company, the best you get is "enjoyable". Why does this happen? Is it inevitable?</p> <p data-svelte-h="svelte-gpa0nb">Let's inspect what makes a startup intoxicating. An engineer should spend most of their time in
	this core loop:</p> <ol data-svelte-h="svelte-szqb2g"><li>If needed, talk to users, figure out their problems.</li> <li>Come up with an idea to build.</li> <li>If needed, discuss the idea with coworkers.</li> <li>Implement the idea.</li> <li>Cross fingers and ship. Celebrate or postmortem. Then go back to step 1.</li></ol> <p data-svelte-h="svelte-1v85j8t">At &lt;10 people, each of these steps can be <em>fun</em>.</p> <ol data-svelte-h="svelte-hgd5la"><li>You can just directly reach out to users you’re interested in and grab a beer with them.</li> <li>If you find an idea that you think is both valuable to the company and interesting to you, you
		can just drop everything to work on it.</li> <li>Almost any coworker will be interested in discussing this idea with you because:
		<ol><li>They have skin in the game. If your idea is good, they benefit from encouraging you to take
				it on. If your idea is bad, they benefit from explaining what’s wrong. They may even care as
				users themselves.</li> <li>They might want to work with you on it.</li> <li>They can likely offer useful insights since everyone’s familiar with a significant chunk of
				the codebase.</li></ol></li> <li>Implementation is quick.
		<ol><li>Choose whatever tools you want, no security review.</li> <li>Small codebase. Can hold the whole thing in your head, so you feel comfortable making
				sweeping refactors. Fast hot reload, so can do quick trial-error debugging.</li> <li>Merge changes quick. No slow tests in CI. No need for blocking PR review for safe changes.
				Maybe just push to master. For unsafe changes, just tap coworker on shoulder for PR review.</li> <li>If not too many users, can tolerate downtime to make breaking backend/database changes
				quickly.</li></ol></li> <li>Anything is possible! Maybe this will make your equity worth something. Maybe people will be
		building upon this feature for years to come, maybe you’ll be seen as a visionary in the history
		books. Maybe you’ll attend a party with your users and hear them say “you came up with this
		idea? OMG it saved my life”. Because everyone in the team has skin in the game, they’re all
		rooting for you. Your hearts are synced.</li></ol> <p data-svelte-h="svelte-1kt06hi">As a company scales, the fun is stripped from every one of these steps. At &gt;100 people, the
	loop looks more like this:</p> <ol data-svelte-h="svelte-1a8wj8i"><li>Talking to users is for PMs, silly! You stick to what you’re good at. At best you get a summary
		of user insights and a reasonable task priority list derived from it. At worst you get a
		confusing task list built off a mistaken understanding of users and the manager’s selfish
		vision, and no one can explain why each task matters.</li> <li>You can’t just work on whatever you want; coordinating would be an O(N^2) communication mess.
		Your manager has plans for you that they’ve designed in consideration with everything else going
		on. Maybe you can work on your own idea after you’ve finished all that stuff. Or you can work on
		it secretly in your spare time.</li> <li>You can talk with your coworkers about your idea, but they’re not likely very interested. They
		don’t benefit much from your success; in fact, they might be competing with you for a promotion.
		They’ve got long task lists to do; they don’t have the freedom to drop what they’re doing and
		work with you. And they probably don’t remember much about the code you’re touching anyway.</li> <li>Implementation is slow.
		<ol><li>All the tools have been decided already. There might be better newer tools available, but
				they’re not worth introducing inconsistency. Don’t you <em>dare</em> introduce inconsistency.
				If you want to use something new, ask your manager and email the security review team.</li> <li>Large codebase, mainly for legacy reasons. Lots of code you’re afraid to touch, lots of code
				no one understands anymore. Thorough tests are your only source of confidence that you’re
				not breaking everything. You need to rely on a lot of trial and error debugging, but each
				trial-error loop is slow because the code takes awhile to compile.</li> <li>It takes 2 weeks to get a small PR in. Wait 20 minutes for CI to pass, it flakes, rerun
				tests. Merge conflicts accumulate as you await feedback from a reviewer. The reviewer just
				points out nits because they don’t have enough context or incentive to make important
				suggestions. You make requested changes, push changes, 20 more minutes. Repeat 3x per PR.</li> <li>Making any infrastructure change is a 14 step process, lest you cause downtime or data loss
				for 10 million users.</li></ol></li> <li>After 3 months quietly toiling, you ship something. You get to demo it at a Friday meeting, your
		one chance for the CEO to see what you worked on. Only a few coworkers are really paying
		attention; your work simply doesn’t affect most of them. You get some pats on the back. Your
		manager says this will be big for you on your next perf cycle in 5 months. At best, you get a
		20% salary bump and title change. At worst, in 4 months there’s a reorg, you get a new manager,
		your project gets deprioritized or scrapped. You need to convince the new manager that you’ve
		done stuff at this company.</li></ol> <p data-svelte-h="svelte-1yw71b9">Is this preventable? I think not.</p> <p data-svelte-h="svelte-1kdvvx6">If you look closely, all these problems fundamentally come from:</p> <ol data-svelte-h="svelte-4ryo71"><li>Decreased skin in the game, which reduces team alignment</li> <li>N^2 communication, which creates need for managers and specialization, which reduces individual
		agency and breadth of learning</li> <li>Reduced risk tolerance, which slows everything down</li></ol> <p data-svelte-h="svelte-1rg1ziv">#1 and #2 are inevitable results of having more employees. #3 is an inevitable result of having
	more users, partially due to government regulation.</p> <p data-svelte-h="svelte-1yj01ad">However, there are things you can do to slow the death of fun. For one, don’t accelerate it. Most
	startups needlessly accelerate their corporatization by copying the processes of larger companies,
	usually by poaching managers from large companies who bring their playbooks with them. For
	example, many startups use Jira because large companies use Jira. Don’t use Jira. Y Combinator has
	helped the world realize that inspiration should go the other way--large companies should try to
	operate more like startups.</p> <p data-svelte-h="svelte-6ulmyp">Not only are large company playbooks meant for large companies, they’re also outdated. By the time
	your startup gets big, better solutions to many scaling challenges will exist. So when you
	experience scaling pains, try to solve them from first principles, or take inspiration from
	startups that move faster than you despite being the same size.</p> <p data-svelte-h="svelte-1nw9j63">You can try to structure your company like a bunch of independent startups. And in fact you should
	do this to the extent that you can; Rippling has somewhat pulled it off. But you typically can’t
	get very far because the components of your product are too tightly interconnected, and most
	components don’t generate any revenue on their own.</p> <p data-svelte-h="svelte-15yg6dt">You can meaningfully slow down #1 by cleverly designing your incentives. I’ll delve into this in
	another blog post. But no incentive is as good as a fat chunk of equity + the power to influence
	its value.</p> <p data-svelte-h="svelte-1xf5n7p">Beyond that, your best bet is to hire less. I strongly believe most companies hire too fast due to
	maligned manager incentives, uninformed investors pushing you to look more like other fast-growing
	startups, and not understanding the true cost of a head. And as tools (especially AI) get better,
	the number of users a small team can support increases. Founders of the future may not need to
	worry so much about these scaling pains, and work may become fun for everyone.</p></div></div>]]></description>
        </item>
    </channel>
</rss>