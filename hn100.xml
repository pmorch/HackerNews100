<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 14 Sep 2024 17:30:01 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Valkey achieved one million RPS 6 months after forking from Redis (102 pts)]]></title>
            <link>https://valkey.io/blog/unlock-one-million-rps-part2/</link>
            <guid>41539294</guid>
            <pubDate>Sat, 14 Sep 2024 12:09:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://valkey.io/blog/unlock-one-million-rps-part2/">https://valkey.io/blog/unlock-one-million-rps-part2/</a>, See on <a href="https://news.ycombinator.com/item?id=41539294">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        

<p>
  2024-09-13
  
    · 
    
      
      
      <em>Dan Touitou</em>,
    
      
      
      <em>Uri Yagelnik</em>
    
  
</p>

<p>In the <a href="https://valkey.io/blog/unlock-one-million-rps/">first part</a> of this blog, we described how we offloaded almost all I/O operations to I/O threads, thereby freeing more CPU cycles in the main thread to execute commands. When we profiled the execution of the main thread, we found that a considerable amount of time was spent waiting for external memory. This was not entirely surprising, as when accessing random keys, the probability of finding the key in one of the processor caches is relatively low.  Considering that external memory access latency is approximately 50 times higher than L1 cache, it became clear that despite showing 100% CPU utilization, the main process was mostly “waiting”. In this blog, we describe the technique we have been using to increase the number of parallel memory accesses, thereby reducing the impact that external memory latency has on performance.</p>
<h3 id="speculative-execution-and-linked-lists">Speculative execution and linked lists</h3>
<p>Speculative execution is a performance optimization technique used by modern processors, where the processor guesses the outcome of conditional operations and executes in parallel subsequent instructions ahead of time. Dynamic data structures, such as linked lists and search trees, have many advantages over static data structures: they are economical in memory consumption, provide fast insertion and deletion mechanisms, and can be resized efficiently. However, some dynamic data structures have a major drawback: they hinder the processor's ability to speculate on future memory load instructions that could be executed in parallel. This lack of concurrency is especially problematic in very large dynamic data structures, where most pointer accesses result in high-latency external memory access.</p>
<p>In this blog, Memory Access Amortization, a method that facilitates speculative execution to improve performance, is introduced along with how it is applied in Valkey. The basic idea behind the method is that by interleaving the execution of operations that access random memory locations, one can achieve significantly better performance than by executing them serially.</p>
<p>To depict the problem we are trying to solve consider the following <a href="https://valkey.io/assets/C/list_array.c">function</a> which gets an array of linked list and returns sum of all values in the lists:</p>
<pre data-lang="c"><code data-lang="c"><span>unsigned long </span><span>sequentialSum</span><span>(size_t </span><span>arr_size</span><span>, list **</span><span>la</span><span>) {
</span><span>    list *lp;
</span><span>    </span><span>unsigned long</span><span>  res = </span><span>0</span><span>; 
</span><span>
</span><span>    </span><span>for </span><span>(</span><span>int</span><span> i = </span><span>0</span><span>; i &lt; arr_size; i++) { 
</span><span>        lp = la[i]; 
</span><span>        </span><span>while </span><span>(lp) { 
</span><span>            res += lp-&gt;val;
</span><span>            lp = lp-&gt;next;
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span>return</span><span> res; 
</span><span>}
</span></code></pre>
<p>Executing this function on an array of 16 lists containing 10 million elements each takes approximately 20.8 seconds on an ARM processor (Graviton 3). Now consider the following alternative implementation which instead of scanning the lists separately,  interleaves the executions of the lists scans:</p>
<pre data-lang="c"><code data-lang="c"><span>unsigned long </span><span>interleavedSum</span><span>(size_t </span><span>arr_size</span><span>, list **</span><span>la</span><span>) {
</span><span>    list **lthreads = </span><span>malloc</span><span>(arr_size * sizeof(list *)); 
</span><span>    </span><span>unsigned long</span><span> res = </span><span>0</span><span>; 
</span><span>    </span><span>int</span><span> n = arr_size; 
</span><span>
</span><span>    </span><span>for </span><span>(</span><span>int</span><span> i = </span><span>0</span><span>; i &lt; arr_size; i++) {
</span><span>        lthreads[i] = la[i]; 
</span><span>        </span><span>if </span><span>(lthreads[i] == </span><span>NULL</span><span>) 
</span><span>            n--; 
</span><span>    } 
</span><span>
</span><span>    </span><span>while</span><span>(n) {
</span><span>        </span><span>for </span><span>(</span><span>int</span><span> i = </span><span>0</span><span>; i &lt; arr_size; i++) { 
</span><span>            </span><span>if </span><span>(lthreads[i] == </span><span>NULL</span><span>) 
</span><span>                </span><span>continue</span><span>; 
</span><span>            res += lthreads[i]-&gt;val;
</span><span>            lthreads[i] = lthreads[i]-&gt;next; 
</span><span>            </span><span>if </span><span>(lthreads[i] == </span><span>NULL</span><span>) 
</span><span>                n--;
</span><span>        }  
</span><span>    }
</span><span>
</span><span>    </span><span>free</span><span>(lthreads);
</span><span>    </span><span>return</span><span> res; 
</span><span>}
</span></code></pre>
<p>Running this new version with the same input as previously described takes less than 2 seconds, achieving a 10x speedup! The explanation for this significant improvement lies in the processor's speculative execution capabilities. In a standard sequential traversal of a linked list, as seen in the first version of the function, the processor cannot 'speculate' on future memory access instructions. This limitation becomes particularly costly with large lists, where each pointer access likely results in a expensive external memory access. In contrast, the alternative implementation, which interleaves list traversals, allows the processor to issue more memory accesses in parallel. This leads to an overall reduction in memory access latency through amortization.</p>
<p>One way to maximize the amount of parallel memory access issued is to add prefetch instructions. Replacing</p>
<pre data-lang="c"><code data-lang="c"><span>             </span><span>if </span><span>(lthreads[i] == </span><span>NULL</span><span>) 
</span><span>                n--;
</span></code></pre>
<p>with</p>
<pre data-lang="c"><code data-lang="c"><span>            </span><span>if </span><span>(lthreads[i]) 
</span><span>                </span><span>__builtin_prefetch</span><span>(lthreads[i]);
</span><span>            </span><span>else 
</span><span>                n--;
</span></code></pre>
<p>reduces the execution time further to 1.8 sec.</p>
<h3 id="back-to-valkey">Back to Valkey</h3>
<p>In the first part, we described how we updated the existing I/O threads implementation to increase parallelism and reduce the amount of I/O operations executed by the main thread to a minimum. Indeed, we observed an increase in the number of requests per second, reaching up to 780K SET commands per second. Profiling the execution revealed that Valkey's main thread was spending more than 40% of its time in a single function: lookupKey, whose goal is to locate the command keys in Valkey's main dictionary. This dictionary is implemented as a straightforward chained hash, as shown in the picture below:
<img src="https://valkey.io/assets/media/pictures/lookupKey.jpg" alt="dict find">
On a large enough set of keys, almost every memory address accessed while searching the dictionary will not be found in any of the processor caches, resulting in costly external memory accesses. Also, similarly as with the linked list from above, since the addresses in the table→dictEntry→...dictEntry→robj sequence are serially dependent, it is not possible to determine the next address to be accessed before the previous address in the chain has been resolved.</p>
<h3 id="batching-and-interleaving">Batching and interleaving</h3>
<p>To overcome this inefficiency, we adopted the following approach. Every time a batch of incoming commands from the I/O threads is ready for execution, Valkey’s main thread efficiently prefetches the memory addresses needed for future lookupKey invocations for the keys involved in the commands  before executing the commands. This prefetch phase is achieved by dictPrefetch, which, similarly as with the linked list example from above, interleaves the table→dictEntry→...dictEntry→robj search sequences for all keys. This reduces the time spent on lookupKey by more than 80%. Another issue we had to address was that all the incoming parsed commands from the I/O threads were not present in the L1/L2 caches of the core running Valkey’s main thread. This was also resolved using the same method.  All the relevant code can be found in <a href="https://github.com/valkey-io/valkey/blob/unstable/src/memory_prefetch.c">memory_prefetch.c</a>. In total the impact of the memory access amortization on Valkey performance is almost 50% and it increased the requests per second to more than 1.19M rps.</p>
<h3 id="how-to-reproduce-valkey-8-0-performance-numbers">How to reproduce Valkey 8.0 performance numbers</h3>
<p>This section will walk you through the process of reproducing our performance results, where we achieved 1.19 million requests per second using Valkey 8.</p>
<h3 id="hardware-setup">Hardware Setup</h3>
<p>We conducted our tests on an AWS EC2 c7g.4xlarge instance, featuring 16 cores on an ARM-based (aarch64) architecture.</p>
<h3 id="system-configuration">System Configuration</h3>
<blockquote>
<p>Note: The core assignments used in this guide are examples. Optimal core selection may vary depending on your specific system configuration and workload.</p>
</blockquote>
<p>Interrupt affinity - locate the network interface with <code>ifconfig</code> (let's assume it is <code>eth0</code>) and its associated IRQs with</p>
<pre data-lang="bash"><code data-lang="bash"><span>grep</span><span> eth0 /proc/interrupts | </span><span>awk </span><span>'</span><span>{print $1}</span><span>' | </span><span>cut -d</span><span> :</span><span> -f</span><span> 1
</span></code></pre>
<p>In our setup, lines <code>48</code> to <code>55</code> are allocated for <code>eth0</code> interrupts. Allocate one core per 4 IRQ lines:</p>
<pre data-lang="bash"><code data-lang="bash"><span>for</span><span> i </span><span>in </span><span>{48..50}; </span><span>do </span><span>echo</span><span> 1000 &gt; /proc/irq/$</span><span>i</span><span>/smp_affinity; </span><span>done
</span><span>for</span><span> i </span><span>in </span><span>{51..55}; </span><span>do </span><span>echo</span><span> 2000 &gt; /proc/irq/$</span><span>i</span><span>/smp_affinity; </span><span>done  
</span></code></pre>
<p>Server configuration - launch the Valkey server with these minimal configurations:</p>
<pre data-lang="bash"><code data-lang="bash"><span>./valkey-server --io-threads</span><span> 9</span><span> --save --protected-mode</span><span> no
</span></code></pre>
<p><code>--save</code> disables dumping to RDB file and <code>--protected-mode no </code>  allows connections from external hosts. <code>--io-threads</code> number includes the main thread and the IO threads, meaning that in our case 8 I/O threads are launched in addition to the main thread.</p>
<p>Main thread affinity - pin the main thread to a specific CPU core, avoiding the cores handling IRQs. Here we use core #3:</p>
<pre data-lang="bash"><code data-lang="bash"><span>sudo</span><span> taskset</span><span> -cp</span><span> 3 `</span><span>pidof</span><span> valkey-server`
</span></code></pre>
<blockquote>
<p>Important: We suggest experimenting with different core pinning strategies to find the optimal performance while avoiding conflicts with IRQ-handling cores.</p>
</blockquote>
<h3 id="benchmark-configuration">Benchmark Configuration</h3>
<p>Run the benchmark from a separate instance using the following parameters:</p>
<ul>
<li>Value size: 512 bytes</li>
<li>Number of keys: 3 million</li>
<li>Number of clients: 650</li>
<li>Number of threads: 50 (may vary for optimal results)</li>
</ul>
<pre data-lang="bash"><code data-lang="bash"><span>./valkey-benchmark -t</span><span> set</span><span> -d</span><span> 512</span><span> -r</span><span> 3000000</span><span> -c</span><span> 650</span><span> --threads</span><span> 50</span><span> -h </span><span>"</span><span>host-name</span><span>"</span><span> -n</span><span> 100000000000
</span></code></pre>
<blockquote>
<p>Important: When running the benchmark, it may take a few seconds for the database to get populated and for the performance to stabilize. You can adjust the <code>-n</code> parameter to ensure the benchmark runs long enough to reach optimal throughput.</p>
</blockquote>
<h3 id="testing-and-availability">Testing and Availability</h3>
<p><a href="https://github.com/valkey-io/valkey/releases/tag/8.0.0-rc2">Valkey 8.0 RC2</a> is available now for evaluation with I/O threads and memory access amortization.</p>

<div>
  <h2>About the authors</h2>
  
    
      
      
      <div>
  <p><img src="https://valkey.io/assets/media/authors/dantouitou.jpeg" alt="photo of Dan Touitou">
    
  </p>
  <div>
    <h2><a href="https://valkey.io/authors/dantouitou/">Dan Touitou</a></h2>
    <p>Dan is a software engineer at AWS</p>
<p>In his spare time, Dan loves solving complex partial differential equations with his family and telling fairy tales about himself.</p>

    
  </div>
</div>
    
      
      
      <div>
  <p><img src="https://valkey.io/assets/media/authors/uriyagelnik.png" alt="photo of Uri Yagelnik">
    
  </p>
  <div>
    <h2><a href="https://valkey.io/authors/uriyagelnik/">Uri Yagelnik</a></h2>
    <p>Uri Yagelnik is a Software Engineer at AWS with over a decade of experience, Uri is passionate about distributed systems, databases, and performance optimization. In his spare time, he enjoys hiking with his family and reading.</p>

    
  </div>
</div>
    
  
</div>
<hr>
<!-- This file was imported from jekyllcodex.org following this guide: https://jekyllcodex.org/without-plugin/share-buttons/. We want to thank jekyllcodex.org for providing this file and guide. -->





    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The data on extreme human ageing is rotten from the inside out (151 pts)]]></title>
            <link>https://theconversation.com/the-data-on-extreme-human-ageing-is-rotten-from-the-inside-out-ig-nobel-winner-saul-justin-newman-239023</link>
            <guid>41539235</guid>
            <pubDate>Sat, 14 Sep 2024 11:57:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://theconversation.com/the-data-on-extreme-human-ageing-is-rotten-from-the-inside-out-ig-nobel-winner-saul-justin-newman-239023">https://theconversation.com/the-data-on-extreme-human-ageing-is-rotten-from-the-inside-out-ig-nobel-winner-saul-justin-newman-239023</a>, See on <a href="https://news.ycombinator.com/item?id=41539235">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p><em>From the swimming habits of dead trout to the revelation that some mammals can breathe through their backsides, a group of leading leftfield scientists have been taking their bows at the Massachusetts Institute of Technology for the 34th annual <a href="https://improbable.com/ig/about-the-ig-nobel-prizes/">Ig Nobel Prize</a> ceremony. Not to be confused with the actual Nobel prizes, the Ig Nobels recognise scientific discoveries that “make people laugh, then think”.</em> </p>

<p><em>We caught up with one of this year’s winners, Saul Justin Newman, a senior research fellow at the University College London Centre for Longitudinal Studies. His research finds that most of the claims about people living over 105 are wrong.</em></p>

<h2>How did you find out about your award?</h2>

<p>I picked up the phone after slogging through traffic and rain to a bloke from Cambridge in the UK. He told me about this prize and the first thing I thought of was the <a href="https://www.bbc.co.uk/news/science-environment-11447095">lady who</a> collected snot off of whales and the <a href="https://www.iflscience.com/in-1997-scientists-made-a-frog-levitate-63041">levitating frog</a>. I said, “absolutely I want to be in this club”. </p>

<h2>What was the ceremony like?</h2>

<p>The ceremony was wonderful. It’s a bit of fun in a big fancy hall. It’s like you take the most serious ceremony possible and make fun of every aspect of it. </p>

<h2>But your work is actually incredibly serious?</h2>

<p>I started getting interested in this topic when I <a href="https://journals.plos.org/plosbiology/article?id=10.1371/journal.pbio.3000048">debunked</a> a <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6039923/">couple of papers</a> in Nature and Science about extreme ageing in the 2010s. In general, the claims about how long people are living mostly don’t stack up. I’ve tracked down 80% of the people aged over 110 in the world (the other 20% are from countries you can’t meaningfully analyse). Of those, almost none have a birth certificate. In the US there are over 500 of these people; seven have a birth certificate. Even worse, only about 10% have a death certificate. </p>

<p>The epitome of this is blue zones, which are regions where people supposedly reach age 100 at a remarkable rate. For almost 20 years, they have been marketed to the public. They’re the subject of tons of scientific work, a popular <a href="https://media.netflix.com/en/only-on-netflix/81214929">Netflix documentary</a>, tons of cookbooks about things like the Mediterranean diet, and so on.</p>

<p>Okinawa in Japan is one of these zones. There was a <a href="https://www.bbc.co.uk/news/world-asia-pacific-11299646">Japanese government review</a> in 2010, which found that 82% of the people aged over 100 in Japan turned out to be dead. The secret to living to 110 was, don’t register your death. </p>

<p>The Japanese government has run one of the <a href="https://www.biorxiv.org/content/10.1101/704080v3.full">largest nutritional surveys</a> in the world, dating back to 1975. From then until now, Okinawa has had the worst health in Japan. They’ve eaten the least vegetables; they’ve been extremely heavy drinkers. </p>

<h2>What about other places?</h2>

<p>The same goes for all the other blue zones. Eurostat keeps track of life expectancy in Sardinia, the Italian blue zone, and Ikaria in Greece. When the agency first <a href="https://ec.europa.eu/eurostat/statistics-explained/index.php?title=Mortality_and_life_expectancy_statistics#Life_expectancy_at_age_65">started keeping records</a> in 1990, Sardinia had the 51st highest old-age life expectancy in Europe out of 128 regions, and Ikaria was 109th. It’s amazing the cognitive dissonance going on. With the Greeks, <a href="https://www.biorxiv.org/content/10.1101/704080v3.full">by my estimates</a> at least 72% of centenarians were dead, missing or essentially pension-fraud cases.</p>

<figure>
            <a href="https://images.theconversation.com/files/619336/original/file-20240913-20-73q8lp.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=1000&amp;fit=clip"><p><img alt="Old men sitting outside in Sardinia" data-src="https://images.theconversation.com/files/619336/original/file-20240913-20-73q8lp.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;fit=clip" data-srcset="https://images.theconversation.com/files/619336/original/file-20240913-20-73q8lp.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=600&amp;h=401&amp;fit=crop&amp;dpr=1 600w, https://images.theconversation.com/files/619336/original/file-20240913-20-73q8lp.jpg?ixlib=rb-4.1.0&amp;q=30&amp;auto=format&amp;w=600&amp;h=401&amp;fit=crop&amp;dpr=2 1200w, https://images.theconversation.com/files/619336/original/file-20240913-20-73q8lp.jpg?ixlib=rb-4.1.0&amp;q=15&amp;auto=format&amp;w=600&amp;h=401&amp;fit=crop&amp;dpr=3 1800w, https://images.theconversation.com/files/619336/original/file-20240913-20-73q8lp.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;h=503&amp;fit=crop&amp;dpr=1 754w, https://images.theconversation.com/files/619336/original/file-20240913-20-73q8lp.jpg?ixlib=rb-4.1.0&amp;q=30&amp;auto=format&amp;w=754&amp;h=503&amp;fit=crop&amp;dpr=2 1508w, https://images.theconversation.com/files/619336/original/file-20240913-20-73q8lp.jpg?ixlib=rb-4.1.0&amp;q=15&amp;auto=format&amp;w=754&amp;h=503&amp;fit=crop&amp;dpr=3 2262w" sizes="(min-width: 1466px) 754px, (max-width: 599px) 100vw, (min-width: 600px) 600px, 237px" src="https://images.theconversation.com/files/619336/original/file-20240913-20-73q8lp.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;fit=clip"></p></a>
            <figcaption>
              <span>Sardinia is another place whose longevity data is highly questionable.</span>
              <span><a href="https://www.alamy.com/stock-photo-senior-men-sitting-on-bench-in-bosa-sardinia-italy-122755931.html?imageid=6EAC1F8E-4C1E-43F7-A94D-577290FC7A4A&amp;p=4437&amp;pn=1&amp;searchId=d2a1c6c59d1efece7bc0ff2024273526&amp;searchtype=0">David Burton/Alamy</a></span>
            </figcaption>
          </figure>

<h2>What do you think explains most of the faulty data?</h2>

<p>It varies. In Okinawa, the best predictor of where the centenarians are is where the halls of records were bombed by the Americans during the war. That’s for two reasons. If the person dies, they stay on the books of some other national registry, which hasn’t confirmed their death. Or if they live, they go to an occupying government that doesn’t speak their language, works on a different calendar and screws up their age. </p>

<p>According to the Greek minister that hands out the pensions, over 9,000 people over the age of 100 are dead and collecting a pension at the same time. <a href="https://www.nytimes.com/1997/06/16/world/italy-s-dead-pensioners.html">In Italy</a>, some 30,000 “living” pension recipients were found to be dead in 1997. </p>

<p>Regions where people most often reach 100-110 years old are the ones where there’s the most pressure to commit pension fraud, and they also have the worst records. For example, the best place to reach 105 in England is Tower Hamlets. It has more 105-year-olds than all of the rich places in England put together. It’s closely followed by downtown Manchester, Liverpool and Hull. <a href="https://www.biorxiv.org/content/10.1101/704080v3.full">Yet these places</a> have the lowest frequency of 90-year-olds and are rated by the UK as the worst places to be an old person.</p>

<p>The oldest man in the world, John Tinniswood, supposedly aged 112, is from a very rough part of Liverpool. The easiest explanation is that someone has written down his age wrong at some point. </p>

<h2>But most people don’t lose count of their age…</h2>

<p>You would be amazed. Looking at the <a href="https://www.ukbiobank.ac.uk/">UK Biobank data</a>, even people in mid-life routinely don’t remember how old they are, or how old they were when they had their children. There are similar stats from the US. </p>

<h2>What does this all mean for human longevity?</h2>

<p>The question is so obscured by fraud and error and wishful thinking that we just do not know. The clear way out of this is to involve physicists to develop a measure of human age that doesn’t depend on documents. We can then use that to build metrics that help us measure human ages. </p>

<figure>
            <a href="https://images.theconversation.com/files/619338/original/file-20240913-16-zk60p0.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=1000&amp;fit=clip"><p><img alt="Young hands holding old hands" data-src="https://images.theconversation.com/files/619338/original/file-20240913-16-zk60p0.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;fit=clip" data-srcset="https://images.theconversation.com/files/619338/original/file-20240913-16-zk60p0.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=600&amp;h=400&amp;fit=crop&amp;dpr=1 600w, https://images.theconversation.com/files/619338/original/file-20240913-16-zk60p0.jpg?ixlib=rb-4.1.0&amp;q=30&amp;auto=format&amp;w=600&amp;h=400&amp;fit=crop&amp;dpr=2 1200w, https://images.theconversation.com/files/619338/original/file-20240913-16-zk60p0.jpg?ixlib=rb-4.1.0&amp;q=15&amp;auto=format&amp;w=600&amp;h=400&amp;fit=crop&amp;dpr=3 1800w, https://images.theconversation.com/files/619338/original/file-20240913-16-zk60p0.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;h=503&amp;fit=crop&amp;dpr=1 754w, https://images.theconversation.com/files/619338/original/file-20240913-16-zk60p0.jpg?ixlib=rb-4.1.0&amp;q=30&amp;auto=format&amp;w=754&amp;h=503&amp;fit=crop&amp;dpr=2 1508w, https://images.theconversation.com/files/619338/original/file-20240913-16-zk60p0.jpg?ixlib=rb-4.1.0&amp;q=15&amp;auto=format&amp;w=754&amp;h=503&amp;fit=crop&amp;dpr=3 2262w" sizes="(min-width: 1466px) 754px, (max-width: 599px) 100vw, (min-width: 600px) 600px, 237px" src="https://images.theconversation.com/files/619338/original/file-20240913-16-zk60p0.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;fit=clip"></p></a>
            <figcaption>
              <span>Life expectancy goes to the heart of the global economy.</span>
              <span><a href="https://www.shutterstock.com/image-photo/caring-elderly-grandma-wife-holding-hand-2253179543">Simon Pilolla 2</a></span>
            </figcaption>
          </figure>

<p>Longevity data are used for projections of future lifespans, and those are used to set everyone’s pension rate. You’re talking about trillions of dollars of pension money. If the data is junk then so are those projections. It also means we’re allocating the wrong amounts of money to plan hospitals to take care of old people in the future. Your insurance premiums are based on this stuff. </p>

<h2>What’s your best guess about true human longevity?</h2>

<p>Longevity is very likely tied to wealth. Rich people do lots of exercise, have low stress and eat well. I just put out <a href="https://www.medrxiv.org/content/10.1101/2024.09.06.24313170v1">a preprint</a> analysing the last 72 years of UN data on mortality. The places consistently reaching 100 at the highest rates according to the UN are Thailand, Malawi, Western Sahara (which doesn’t have a government) and Puerto Rico, where birth certificates were cancelled completely as a legal document in 2010 because they were so full of pension fraud. This data is just rotten from the inside out. </p>

<h2>Do you think the Ig Nobel will get your science taken more seriously?</h2>

<p>I hope so. But even if not, at least the general public will laugh and think about it, even if the scientific community is still a bit prickly and defensive. If they don’t acknowledge their errors in my lifetime, I guess I’ll just get someone to pretend I’m still alive until that changes.</p>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Show HN: Meet.hn – Meet the Hacker News community in your city (306 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=41539125</link>
            <guid>41539125</guid>
            <pubDate>Sat, 14 Sep 2024 11:36:00 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=41539125">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <tbody><tr id="41539971"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539971" href="https://news.ycombinator.com/vote?id=41539971&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>What about security?</p><p>How is this protected from abuse? Why is this all public information?</p><p>It feels like a honeypot to be honest.</p><p>My suggestion would be to hide the names unless visitor is logged in AND there is a match in their city.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41540039"><td></td></tr>
            <tr id="41539683"><td></td></tr>
                <tr id="41539777"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539777" href="https://news.ycombinator.com/vote?id=41539777&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>It's not diacritics, it's something more broken with geo coding.</p><p>Szczecin, Poland is found but handle is pl-undefined as for you...</p><p>But what is more interesting, Stettin, Poland works ok... and link is surprisingly meet.hn/city/pl-Szczecin</p><p>Geocoding needs some love.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539963"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539963" href="https://news.ycombinator.com/vote?id=41539963&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Also, I can't click on users that are in cities containing a diacritic (Pégomas, France) or a space (La Ciotat, France).</p><p>Nice idea, good luck with the top spot on HN!</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539746"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539746" href="https://news.ycombinator.com/vote?id=41539746&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Well, congrats on finding the second bug! Thanks!</p><p>This one is pretty big, even as big as it's funny.</p><p>&gt; Does your code handle diacritics correctly?</p><p>It seems it doesn't, no. Sorry for this. It's my first attempt at an international product.</p><p>To give you more details, I'm using this query to fetch cities data: <a href="https://nominatim.openstreetmap.org/search?city=${rawCity}&amp;country=${rawCountry}&amp;format=json&amp;place=city&amp;limit=1&amp;addressdetails=1&amp;accept-language=en-US" rel="nofollow">https://nominatim.openstreetmap.org/search?city=${rawCity}&amp;c...</a></p><p>I probably shouldn't have restricted accept-language to en-US. 
I'll investigate and make this work.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="41540027"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_41540027" href="https://news.ycombinator.com/vote?id=41540027&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>No problem. As a Polish person, it is my duty to find zażółć-gęślą-jaźń-related bugs in other people's code.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539908"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_41539908" href="https://news.ycombinator.com/vote?id=41539908&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>&gt; <i>I'm using this query to fetch cities data</i></p><p>There's also downloadable CSV lists of geo names at geonames.org (and stably have been kept available and updated for <i>many</i> years by now) — if you already have a DB (likely in your case), script up some csv-to-db-table dumping and you save networked API call overheads just for querying the world's existing place names. (It's regularly updated so best to keep the convert-and-dump script or logic around if you go that route.)</p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="41539632"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539632" href="https://news.ycombinator.com/vote?id=41539632&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Looks cool! I've used the search or meetup.com before for this use case when I'm traveling, but meetup.com is slowly going away it seems.</p><p>Feature Requests:</p><p>- Mastodon support in the social dropdown</p><p>- Auto complete on the location selector</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="41539763"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539763" href="https://news.ycombinator.com/vote?id=41539763&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Thanks a lot for the feedbacks!</p><p>- will add!</p><p>- will add as well! I wanted something simple to launch quick and see if the project was of interest. It seems it is, so I will implement it!</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539882"><td></td></tr>
                  <tr id="41539803"><td></td></tr>
                <tr id="41539907"><td></td></tr>
                  <tr id="41539558"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539558" href="https://news.ycombinator.com/vote?id=41539558&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>&gt; No meet.hn data found for this HN user. Waiting a minute to let HN API update.</p><p>My account exists since 2020, why would the HN API (which, if you click the link at the bottom of every page, says "near real time") not know my account? I'm curious how this error occurs</p><p>For anyone else having this, the "add me" button will enable itself again, but it does take a while. Not that retrying seems to work for me</p><p>Edit: nvm I'm being stupid, I did not see the "copy and paste the text below into your HN account" instruction. Thanks also to those who replied with that info, though while playing with the browser dev tools to figure out what the issue might be, I spotted that text eventually</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="41539565"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539565" href="https://news.ycombinator.com/vote?id=41539565&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>You have to add the link to your bio. It’s a way for the app to verify that you want to be added to the map</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539566"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539566" href="https://news.ycombinator.com/vote?id=41539566&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>For me it only worked after I added their form text to my hn account description on my actual hn account page…</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="41539989"><td></td></tr>
            <tr id="41539837"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539837" href="https://news.ycombinator.com/vote?id=41539837&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Feature request: please add Mastodon/fediverse as a type of social media account.</p><p>Also, you generate invalid URLs for cities that have spaces in them, like Saint Petersburg.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539986"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539986" href="https://news.ycombinator.com/vote?id=41539986&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>awesome idea. Would be great to have in maps view some adaptive clustering with number inside similar like nomadlist members map: 
<a href="https://nomads.com/community" rel="nofollow">https://nomads.com/community</a></p><p>Also for those that nomading and changing places often would be good to have option to share location via WebLocation but make it randomized on the backend or even better in frontend (so that it's approximate to e.g 5-10km radius)</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539885"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539885" href="https://news.ycombinator.com/vote?id=41539885&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>Bug alert: while clicking on the Seoul 'M' <i>does</i> work, listing its (currently 1) hackers, the close-by Pyongyang <i>doesn't</i> (despite also having "1 hacker" registered).</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="41539938"><td></td></tr>
                  <tr id="41539985"><td></td></tr>
            <tr id="41539944"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539944" href="https://news.ycombinator.com/vote?id=41539944&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Looks nice! +1 for storing data in a human-readable representation on existing user profiles.</p><p>No extra account needed + information has value outside meet.hn + information has value even if site goes away.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539624"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539624" href="https://news.ycombinator.com/vote?id=41539624&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>- Great idea, thanks for sharing!</p><p>- country-city does not work well in the US because we have many duplicated city names in different states</p><p>- what harsh reputation? :)</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="41539655"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539655" href="https://news.ycombinator.com/vote?id=41539655&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>- Thank you very much!</p><p>- Damn, didn't know that. I just had the feedback that Paris, Tennessee wasn't working already.</p><p>Today I'm using nominatim from openstreetmap to fetch cities data.</p><p>This request: <a href="https://nominatim.openstreetmap.org/search?city=${rawCity}&amp;country=${rawCountry}&amp;format=json&amp;place=city&amp;limit=1&amp;addressdetails=1&amp;accept-language=en-US" rel="nofollow">https://nominatim.openstreetmap.org/search?city=${rawCity}&amp;c...</a></p><p>I guess I'll have to change this for a less restrictive search.
I wanted a city and country to have a nice and simple URL though. 
If you have any suggestion, please do share it!</p><p>- Every time I speak with people about HN, I get something along the line: "They criticize everything, and very easily".</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="41539854"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_41539854" href="https://news.ycombinator.com/vote?id=41539854&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>In the US you could just use “zipcode-us”. It’s not ideal though. Otherwise just “city-stateabbr-us” - e.g. “SiouxFalls-SD-US”</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539753"><td></td></tr>
                <tr id="41540010"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_41540010" href="https://news.ycombinator.com/vote?id=41540010&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>It's also confusion that reporting of a bug is not criticism. It's a Show HN. You've asked for the feedback. People that get twisted when the feedback is anything other than pablum like "great job" need not be a developer. If you can't handle being told that something isn't working, then how do you ever expect to improve? Or maybe you've moved from being a dev and are now trying to be a founder?</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539906"><td></td></tr>
                              <tr id="41539618"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539618" href="https://news.ycombinator.com/vote?id=41539618&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>&gt; City not found. Make sure you use the format: City, Country (Paris, France)</p><p>It might be good to rework this—cities only, and provide a drop-down box for users to select. Having city, country is a bit superfluous for people who live in city-states.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539757"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539757" href="https://news.ycombinator.com/vote?id=41539757&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>This is neat. I added myself.</p><p>I'm hitting a bug where clicking New York just refreshes the page instead of loading the city's page. Los Angeles, San José, and... most cities seem to exhibit it. Chicago seems to work?</p><p>Picking a city was tough. It insisted on the more general New York instead of the more specific Long Island City.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539998"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539998" href="https://news.ycombinator.com/vote?id=41539998&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>didn't know there was an .hn tld, very cool!</p><p>as a socially anxious person, i just found out there's only 2 of us in my country, and i'm the other one</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539964"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539964" href="https://news.ycombinator.com/vote?id=41539964&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>Very cool! I think many will be reticent to divulge social information on here! Looking forward to seeing this grow.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539880"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539880" href="https://news.ycombinator.com/vote?id=41539880&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>I really like this idea. I've wanted to build something to bring startup/remote work people in my area together for a while. I bought a few domains but couldn't figure out the hook. Smart idea to build it as part of the HN userbase, since that is the userbase you want for something like this!</p><p>Great work</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539947"><td></td></tr>
            <tr id="41539636"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539636" href="https://news.ycombinator.com/vote?id=41539636&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>Great idea. I think it would be cool if you couldn't just add socials but a personal webpage and email (with mailto link).</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="41539688"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539688" href="https://news.ycombinator.com/vote?id=41539688&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Good idea, thanks!</p><p>I was scared to allow any URL, to be honest. 
That's why I restricted this to a set of allowed domains.</p><p>But as it's open source maybe I'll have the chance to get it pair reviewed before shipping it if this gets traction.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="41539723"><td></td></tr>
                <tr id="41539766"><td></td></tr>
                  <tr id="41539836"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539836" href="https://news.ycombinator.com/vote?id=41539836&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Have signed up.  It says there's another signup from my location, but is failing to show me.  It just redirects to the home page.  It is showing for another city, so perhaps due to the space in the name?  Thanks.</p><p>meet.hn/city/in-New Delhi</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539576"><td></td></tr>
                <tr id="41539604"><td></td></tr>
                  <tr id="41539883"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539883" href="https://news.ycombinator.com/vote?id=41539883&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Feature request:</p><p>delta.chat contact field, the best of the decentralised free software messengers</p><p>Easy to have multiple identities for public and private use</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="41539581"><td></td></tr>
                <tr id="41539614"><td></td></tr>
                  <tr id="41539927"><td></td></tr>
            <tr id="41539661"><td></td></tr>
                <tr id="41539847"><td></td></tr>
                  <tr id="41539776"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539776" href="https://news.ycombinator.com/vote?id=41539776&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>This is a great idea, and I sincerely want it to work out.</p><p>For myself, I'll probably not use it, but that's because I'm an "old," and I stopped attending local meetups, because I was always surrounded by a circle of avoidance, where no one would look at me, or have anything to do with me.</p><p>Got a bit tiresome, but it's the way of the world, I guess. For non-olds, these meetups are great, with a lot of energy and enthusiasm.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="41539975"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539975" href="https://news.ycombinator.com/vote?id=41539975&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>Need a “wise old dudes” meet up and charge those under 40 to attend- few 20 to 30 year olds understand how much of value they could get from an “old dude” for the price of a beer/coffee.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="41539807"><td></td></tr>
                <tr id="41539974"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539974" href="https://news.ycombinator.com/vote?id=41539974&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>I think it depends on how you use HN. I try to contribute positively in the comments and enjoy the learning aspect of the HN community. Shit posters might not want to join the train.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="41540014"><td></td></tr>
                  <tr id="41539910"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_41539910" href="https://news.ycombinator.com/vote?id=41539910&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Confirms my suspicion that the most active HN users are in Canada/East Coast/Europe.</p><p>When I first discovered HN I thought it was a small Stanford thing, but over time realized it's mostly a Canada/Europe crowd (even most of the YC founders that come to San Francisco for their startup are from those places).</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="41539960"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_41539960" href="https://news.ycombinator.com/vote?id=41539960&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>I suspect the current situation is mostly due to timezones and as the west coast wakes up we‘ll see more cities appear there. It’ll probably take a few days until you can deduce anything about hn-users in general from that map.</p><p>And thanks for the comment - made me look outside my immediate surroundings on the map!</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="41539702"><td></td></tr>
                <tr id="41539801"><td></td></tr>
                <tr id="41539821"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_41539821" href="https://news.ycombinator.com/vote?id=41539821&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div>
                  <p>It would be more useful to have a button in each city to propose a meeting—no need to email anyone. You suggest a meeting, people can join or propose changes. That's it. :&lt;</p>
              </div></td></tr>
        </tbody></table></td></tr>
                        <tr id="41539678"><td></td></tr>
                <tr id="41539832"><td></td></tr>
                <tr id="41540040"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_41540040" href="https://news.ycombinator.com/vote?id=41540040&amp;how=up&amp;goto=item%3Fid%3D41539125"></a></center>    </td><td><br><div><p>Not on X sorry.</p><p>Nothing happend. The error message is not helpful at all 
(can it connect? Does it find the user? Does it find the data in the about section? What URL was it trying? etc.) but said it wanted to
wait a minute for the API. User since 2020 (with this account)</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="41539840"><td></td></tr>
                  <tr id="41539812"><td></td></tr>
            <tr id="41539751"><td></td></tr>
            </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Void captures over a million Android TV boxes (130 pts)]]></title>
            <link>https://news.drweb.com/show/?i=14900</link>
            <guid>41536961</guid>
            <pubDate>Sat, 14 Sep 2024 02:12:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://news.drweb.com/show/?i=14900">https://news.drweb.com/show/?i=14900</a>, See on <a href="https://news.ycombinator.com/item?id=41536961">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      <p><b>September 12, 2024</b></p>
<p><strong><newslead>Doctor Web experts have uncovered yet another case of an Android-based TV box infection. The malware, dubbed <a href="https://vms.drweb.com/search/?q=Android.Vo1d&amp;lng=en"><b>Android.Vo1d</b></a>, has infected nearly 1.3 million devices belonging to users in 197 countries. It is a backdoor that puts its components in the system storage area and, when commanded by attackers, is capable of secretly downloading and installing third-party software.</newslead></strong></p>

<p>In August 2024, Doctor Web was contacted by several users whose Dr.Web antivirus had detected changes in their device’s system file area. The problem occurred with these models:</p>

<table>
    <thead>
      <tr>
        <th>TV box model</th>
        <th>Declared firmware version</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>R4</td>
        <td>Android 7.1.2; R4 Build/NHG47K</td>
      </tr>
      <tr>
        <td>TV BOX</td>
        <td>Android 12.1; TV BOX Build/NHG47K</td>
      </tr>
      <tr>
        <td>KJ-SMART4KVIP</td>
        <td>Android 10.1; KJ-SMART4KVIP Build/NHG47K</td>
      </tr>
    </tbody>
</table>

<p>All these cases involved similar signs of infection, so we will describe them using one of the first requests we received as an example. The following objects were changed on the affected TV box:</p>
<ul>
  <li><span>install-recovery.sh</span></li>
  <li><span>daemonsu</span></li>
</ul>

<p>In addition, 4 new files emerged in its file system:</p>
<ul>
  <li><span>/system/xbin/vo1d</span></li>
  <li><span>/system/xbin/wd</span></li>
  <li><span>/system/bin/debuggerd</span></li>
  <li><span>/system/bin/debuggerd_real</span></li>
</ul>

<p>The <span>vo1d</span> and <span>wd</span> files are the components of the <a href="https://vms.drweb.com/search/?q=Android.Vo1d&amp;lng=en"><b>Android.Vo1d</b></a> trojan that we discovered.</p>

<blockquote>
  The trojan’s authors probably tried to disguise one if its components as the system program /system/bin/vold, having called it by the similar-looking name “vo1d” (substituting the lowercase letter “l” with the number “1”). The malicious program’s name comes from the name of this file. Moreover, this spelling is consonant with the English word “void”.
</blockquote>

<p>The <span>install-recovery.sh</span> file is a script that is present on most Android devices. It runs when the operating system is launched and contains data for autorunning the elements specified in it. If any malware has root access and the ability to write to the <span>/system</span> system directory, it can anchor itself in the infected device by adding itself to this script (or by creating it from scratch if it is not present in the system). <a href="https://vms.drweb.com/search/?q=Android.Vo1d&amp;lng=en"><b>Android.Vo1d</b></a> has registered the autostart for the <span>wd</span> component in this file.</p>

<p><a href="https://st.drweb.com/static/new-www/news/2024/september/01_recovery.png">
    <img src="https://st.drweb.com/static/new-www/news/2024/september/01_recovery.png" alt="The modified install-recovery.sh file">
  </a>
</p>
<p><em>The modified install-recovery.sh file</em></p>

<p>The <span>daemonsu</span> file is present on many Android devices with root access. It is launched by the operating system when it starts and is responsible for providing root privileges to the user. <a href="https://vms.drweb.com/search/?q=Android.Vo1d&amp;lng=en"><b>Android.Vo1d</b></a> registered itself in this file, too, having also set up autostart for the <span>wd</span> module.</p>

<p>The <span>debuggerd</span> file is a daemon that is typically used to create reports on occurred errors. But when the TV box was infected, this file was replaced by the script that launches the <span>wd</span> component.</p>

<p>The <span>debuggerd_real</span> file in the case we are reviewing is a copy of the script that was used to substitute the real <span>debuggerd</span> file. Doctor Web experts believe that the trojan’s authors intended the original <span>debuggerd</span> to be moved into <span>debuggerd_real</span> to maintain its functionality. However, because the infection probably occurred twice, the trojan moved the already substituted file (i.e., the script). As a result, the device had two scripts from the trojan and not a single real <span>debuggerd</span> program file.</p>

<p>At the same time, other users who contacted us had a slightly different list of files on their infected devices:</p>
<ul>
  <li><span>daemonsu</span> (the <span>vo1d</span> file analogue — <a href="https://vms.drweb.com/search/?q=Android.Vo1d.1&amp;lng=en"><b>Android.Vo1d.1</b></a>);</li>
  <li><span>wd</span> (<a href="https://vms.drweb.com/search/?q=Android.Vo1d.3&amp;lng=en"><b>Android.Vo1d.3</b></a>);</li>
  <li><span>debuggerd</span> (the same script as described above);</li>
  <li><span>debuggerd_real</span> (the original file of the <span>debuggerd</span> tool);</li>
  <li><span>install-recovery.sh</span> (a script that loads objects specified in it).  </li>
</ul>

<p>An analysis of all the aforementioned files showed that in order to anchor <a href="https://vms.drweb.com/search/?q=Android.Vo1d%20in%20the&amp;lng=en"><b>Android.Vo1d in the</b></a> system, its authors used at least three different methods: modification of the <span>install-recovery.sh</span> and <span>daemonsu</span> files and substitution of the <span>debuggerd</span> program. They probably expected that at least one of the target files would be present in the infected system, since manipulating even one of them would ensure the trojan’s successful auto launch during subsequent device reboots. </p>

<p><a href="https://vms.drweb.com/search/?q=Android.Vo1d&amp;lng=en"><b>Android.Vo1d</b></a>’s main functionality is concealed in its <span>vo1d</span> (<a href="https://vms.drweb.com/search/?q=Android.Vo1d.1&amp;lng=en"><b>Android.Vo1d.1</b></a>) and <span>wd</span> (<a href="https://vms.drweb.com/search/?q=Android.Vo1d.3&amp;lng=en"><b>Android.Vo1d.3</b></a>) components, which operate in tandem. The <a href="https://vms.drweb.com/search/?q=Android.Vo1d.1&amp;lng=en"><b>Android.Vo1d.1</b></a> module is responsible for <a href="https://vms.drweb.com/search/?q=Android.Vo1d.3&amp;lng=en"><b>Android.Vo1d.3</b></a>’s launch and controls its activity, restarting its process if necessary. In addition, it can download and run executables when commanded to do so by the C&amp;C server. In turn, the <a href="https://vms.drweb.com/search/?q=Android.Vo1d.3&amp;lng=en"><b>Android.Vo1d.3</b></a> module installs and launches the <a href="https://vms.drweb.com/search/?q=Android.Vo1d.5&amp;lng=en"><b>Android.Vo1d.5</b></a> daemon that is encrypted and stored in its body. This module can also download and run executables. Moreover, it monitors specified directories and installs the APK files that it finds in them.</p>

<p>A study conducted by Doctor Web malware analysts showed that the <a href="https://vms.drweb.com/search/?q=Android.Vo1d&amp;lng=en"><b>Android.Vo1d</b></a> backdoor has infected around 1.3 million devices, while its geographical distribution included almost 200 countries. The largest number of infections were detected in Brazil, Morocco, Pakistan, Saudi Arabia, Russia, Argentina, Ecuador, Tunisia, Malaysia, Algeria, and Indonesia.</p>

<p>
  <a href="https://st.drweb.com/static/new-www/news/2024/september/02_Android.Vo1d_map_en.png">
    <img src="https://st.drweb.com/static/new-www/news/2024/september/02_Android.Vo1d_map_en.png" alt="Countries with the highest number of infected devices detected">
  </a>
</p>
<p><em>Countries with the highest number of infected devices detected</em></p>

<p>One possible reason why the attackers distributing <a href="https://vms.drweb.com/search/?q=Android.Vo1d&amp;lng=en"><b>Android.Vo1d</b></a> specifically chose TV boxes is that such devices often run on outdated Android versions, which have unpatched vulnerabilities and are no longer supported with updates. For example, the users who contacted us have models that are based on Android 7.1, despite the fact that for some of them the configuration indicates much newer versions, such as Android 10 and Android 12. Unfortunately, it is not uncommon for budget device manufacturers to utilize older OS versions and pass them off as more up-to-date ones to make them more attractive.</p>

<p>In addition, users themselves may mistakenly perceive TV boxes to be better protected devices, compared to smartphones. As a result, they may install anti-virus software on these less often and risk encountering malware when downloading third-party apps or installing unofficial firmware. </p>

<p>At the moment, the source of the TV boxes’ backdoor infection remains unknown. One possible infection vector could be an attack by an intermediate malware that exploits operating system vulnerabilities to gain root privileges. Another possible vector could be the use of unofficial firmware versions with built-in root access.</p>

<p>Dr.Web anti-virus for Android successfully detects all known <a href="https://vms.drweb.com/search/?q=Android.Vo1d&amp;lng=en"><b>Android.Vo1d</b></a> trojan variants, and, if root access is available, cures the infected devices.</p>

<p><a href="https://github.com/DoctorWebLtd/malware-iocs/blob/master/Android.Vo1d/README.adoc" target="_blank" rel="noopener noreferrer">Indicators of compromise</a></p>
<p>More details on <a href="https://vms.drweb.com/search/?q=Android.Vo1d.1&amp;lng=en"><b>Android.Vo1d.1</b></a></p>
<p>More details on <a href="https://vms.drweb.com/search/?q=Android.Vo1d.3&amp;lng=en"><b>Android.Vo1d.3</b></a></p>
<p>More details on <a href="https://vms.drweb.com/search/?q=Android.Vo1d.5&amp;lng=en"><b>Android.Vo1d.5</b></a></p>    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Stolen iPhones Will Be Even More Useless from iOS 18 Onwards (106 pts)]]></title>
            <link>https://www.macobserver.com/ios/stolen-iphones-will-be-even-more-useless-from-ios-18-onwards/</link>
            <guid>41536232</guid>
            <pubDate>Fri, 13 Sep 2024 23:48:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.macobserver.com/ios/stolen-iphones-will-be-even-more-useless-from-ios-18-onwards/">https://www.macobserver.com/ios/stolen-iphones-will-be-even-more-useless-from-ios-18-onwards/</a>, See on <a href="https://news.ycombinator.com/item?id=41536232">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>Apple has unveiled a <a target="_blank" href="https://www.macobserver.com/news/users-can-adjust-video-speed-in-post-processing-on-ios-18/" data-wpel-link="internal">new feature in iOS 18</a> that extends Activation Lock to individual iPhone components. This update, set to roll out on September 16, 2024.</p>
<p>So, what’s new? The latest iOS update brings Activation Lock to iPhone components like</p>
<ul>
<li>Batteries</li>
<li>Cameras</li>
<li>Displays</li>
</ul>
<p>Each part is now linked to the owner’s Apple Account via its unique serial number, which means it has now an additional layer of security.</p>
<p>But, how does it work? When an iPhone detects a used part during repair, it will now request the Apple Account password of the original device owner. This process will verify the legitimacy of the component and prevent the use of parts from stolen or lost devices.</p>
<p>From the looks for it, Apple’s primary goal with this feature is to disrupt the market for stolen iPhone parts. By making it more difficult to use components from stolen devices, the company hopes to reduce the incentive for iPhone theft overall.</p>
<blockquote>
<p>Note: This feature is currently exclusive to iPhones and will not be available on iPads with iPadOS 18</p>
</blockquote>
<p>While this update strengthens security, it may complicate some repair processes, especially those involving parts from other devices. However, it aligns with Apple’s recent policy changes that allow repairs with genuine used parts while maintaining stringent security measures.</p>
<p>The stolen iPhones were already pretty much useless until the user deleted their device from their “Find My,” but now they’re even more useless as even their spare parts won’t do any good.</p>
<p>More <a target="_blank" href="https://9to5mac.com/2024/09/12/apple-activation-lock-iphone-parts/" data-wpel-link="external">here</a>. </p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[US targets trade loophole used by ecommerce groups Temu and Shein (109 pts)]]></title>
            <link>https://www.ft.com/content/2f07510b-d2c6-4bae-bae3-aa5dfa8bd796</link>
            <guid>41536137</guid>
            <pubDate>Fri, 13 Sep 2024 23:31:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ft.com/content/2f07510b-d2c6-4bae-bae3-aa5dfa8bd796">https://www.ft.com/content/2f07510b-d2c6-4bae-bae3-aa5dfa8bd796</a>, See on <a href="https://news.ycombinator.com/item?id=41536137">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><a data-trackable="a11y-skip-to-help" href="https://www.ft.com/accessibility">Accessibility help</a><a data-trackable="a11y-skip-to-navigation" href="#site-navigation">Skip to navigation</a><a data-trackable="a11y-skip-to-content" href="#site-content">Skip to content</a><a data-trackable="a11y-skip-to-footer" href="#site-footer">Skip to footer</a></p><div id="barrier-page"><div id="heroOffer-Hero offer-29d69f65-7e1a-494a-b168-05153bfd6759" data-component="heroOffer" data-component-unique-name="Hero offer"><section data-o-grid-colspan="12 L6"><h2><blockquote>US targets trade loophole used by ecommerce groups Temu and Shein</blockquote></h2></section><div data-o-grid-colspan="12 L6"><p><span></span><span></span><span></span><span>Subscribe to unlock this article</span><span></span></p></div><div data-o-grid-colspan="12 L6"><p><h2><span>Limited time offer</span></h2><h2><strong><span>Save 50% on Standard Digital</span></strong></h2></p><p><span>was </span><span>CHF660</span><span> </span><span>now </span><span>CHF329</span><span> for your first year. 
Make up your own mind. Build robust opinions with the FT’s trusted journalism.
Offer available here until 24th October.</span></p></div></div><div id="recommendedOffers-Recommended offers-e502839d-20a4-48e3-8da4-fec60f1f4eb6" data-component="recommendedOffers" data-component-unique-name="Recommended offers"><p><h2 data-o-grid-colspan="12">Explore more offers.</h2></p><div data-o-grid-colspan="12"><div data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/icons/primary_product_icon_trial.svg?source=next-barrier-page&amp;format=svg" alt=""></p></div><p><span>CHF1</span><span> for 4 weeks</span></p><p><span>Then </span><span>CHF85</span><span> per month. Complete digital access to quality FT journalism. Cancel anytime during your trial.</span></p></div><div data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/icons/primary_product_icon_weekend_premium.svg?source=next-barrier-page&amp;format=svg" alt=""></p></div><p><span>CHF85</span><span> per month</span></p><p><span>Get Premium &amp; FT Weekend Print edition for the price of Premium. Complete digital access to quality analysis and expert insights, complemented with our award-winning Weekend Print edition.</span></p></div><div data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/icons/primary_product_icon_print.svg?source=next-barrier-page&amp;format=svg" alt=""></p></div><p><span>CHF345</span><span> for your first year</span></p><p><span>FT newspaper delivered Monday-Saturday, plus FT Digital Edition delivered to your device Monday-Saturday.</span></p></div></div></div><div data-component="subscriptionOptions" data-component-unique-name="Subscription options"><h2>Explore our full range of subscriptions.</h2><div><div><p>Discover all the plans currently available in your country</p></div><div><p>Digital access for organisations. Includes exclusive features and content.</p></div></div></div><div data-component="whyFT" data-component-unique-name="Why FT"><div><h2>Why the FT?</h2><p>See why over a million readers pay to read the Financial Times.</p></div><p><a href="https://subs.ft.com/whytheft?ft-content-uuid=2f07510b-d2c6-4bae-bae3-aa5dfa8bd796">Find out why</a></p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Intel Solidifies $3.5B Deal to Make Chips for Military (166 pts)]]></title>
            <link>https://www.bloomberg.com/news/articles/2024-09-13/intel-solidifies-3-5-billion-deal-to-make-chips-for-us-military</link>
            <guid>41536131</guid>
            <pubDate>Fri, 13 Sep 2024 23:29:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bloomberg.com/news/articles/2024-09-13/intel-solidifies-3-5-billion-deal-to-make-chips-for-us-military">https://www.bloomberg.com/news/articles/2024-09-13/intel-solidifies-3-5-billion-deal-to-make-chips-for-us-military</a>, See on <a href="https://news.ycombinator.com/item?id=41536131">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
    <section>
        <h3>Why did this happen?</h3>
        <p>Please make sure your browser supports JavaScript and cookies and that you are not
            blocking them from loading.
            For more information you can review our <a href="https://www.bloomberg.com/notices/tos">Terms of
                Service</a> and <a href="https://www.bloomberg.com/notices/tos">Cookie Policy</a>.</p>
    </section>
    <section>
        <h3>Need Help?</h3>
        <p>For inquiries related to this message please <a href="https://www.bloomberg.com/feedback">contact
            our support team</a> and provide the reference ID below.</p>
        <p>Block reference ID:</p>
    </section>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[My 71 TiB ZFS NAS After 10 Years and Zero Drive Failures (372 pts)]]></title>
            <link>https://louwrentius.com/my-71-tib-zfs-nas-after-10-years-and-zero-drive-failures.html</link>
            <guid>41536088</guid>
            <pubDate>Fri, 13 Sep 2024 23:21:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://louwrentius.com/my-71-tib-zfs-nas-after-10-years-and-zero-drive-failures.html">https://louwrentius.com/my-71-tib-zfs-nas-after-10-years-and-zero-drive-failures.html</a>, See on <a href="https://news.ycombinator.com/item?id=41536088">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
              <p>My <a href="https://louwrentius.com/71-tib-diy-nas-based-on-zfs-on-linux.html">4U 71 TiB ZFS NAS</a> built with twenty-four 4 TB drives is over 10 years old and still going strong.</p>
<p><img alt="my nas" src="https://louwrentius.com/static/images/zfsnas01.jpg"></p>
<p>Although now on its second motherboard and power supply, the system has yet to experience a single drive failure (knock on wood).</p>
<p>Zero drive failures in ten years, how is that possible?</p>
<h2>Let's talk about the drives first</h2>
<p>The 4 TB HGST drives have roughly 6000 hours on them after ten years. You might think something's off and you'd be right. That's only about 250 days worth of runtime. And therein lies the secret of drive longevity (I think):</p>
<p><strong>Turn the server off when you're not using it.</strong></p>
<hr>
<p>According to people on <a href="https://news.ycombinator.com/item?id=41536088">Hacker News</a> I have my bearings wrong. The chance of having zero drive failures over 10 years for 24 drives is much higher than I thought it was. So this good result may not be related to turning my NAS off and keeping it off most off the time.</p>
<hr>
<p>My NAS is turned off by default. I only turn it on (remotely) when I need to use it. I use a script to turn the IoT power bar on and once the BMC (Baseboard Management Controller) is done booting, I use <a href="https://en.wikipedia.org/wiki/Intelligent_Platform_Management_Interface">IPMI</a> to turn on the NAS itself. But I could have used <a href="https://en.wikipedia.org/wiki/Wake-on-LAN">Wake-on-Lan</a> too as an alternative.</p>
<p>Once I'm done using the server, I run a small script that turns the server off, wait a few seconds and then turn the wall socket off. </p>
<p>It wasn't enough for me to just turn off the server, but leave the motherboard, and thus the BMC powered, because that's just a constant 7 watts (about two Raspberry Pis at idle) being wasted (24/7).</p>
<p>This process works for me because I run other services on low-power devices such as Raspberry Pi4s or servers that use <em>much less power</em> when idling than my 'big' NAS. </p>
<p>This proces reduces my energy bill considerably (primary motivation) and also seems great for hard drive longevity.</p>
<p>Although zero drive failures to date is awesome, N=24 is not very representative and I could just be very lucky. Yet, it was the same story with the <a href="https://louwrentius.com/20-disk-18-tb-raid-6-storage-based-on-debian-linux.html">predecessor of this NAS</a>, a machine with 20 drives (1 TB Samsung Spinpoint F1s (remember those?)) and I also had zero drive failures during its operational lifespan (~5 years).</p>
<h2>The motherboard (died once)</h2>
<p>Although the drives are still ok, I had to replace the motherboard a few years ago. The failure mode of the motherboard was interesting: it was impossible to get into the BIOS and it would occasionally fail to boot. I tried the obvious like removing the CMOS battery and such but to no avail.</p>
<p>Fortunately, the [motherboard]<sup id="fnref:same"><a href="#fn:same">1</a></sup> was still available on Ebay for a decent price so that ended up not being a big deal. </p>
<h2>ZFS</h2>
<p>ZFS worked fine for all these years. I've switched operating systems over the years and I never had an issue importing the pool back into the new OS install.
If I would build a new storage server, I would definitely use ZFS again.</p>
<p>I run a zpool scrub on the drives a few times a year<sup id="fnref:longduration"><a href="#fn:longduration">2</a></sup>. The scrub has <em>never found a single checksum error</em>. I must have run so many scrubs, more than a <em>petabyte</em> of data must have been read from the drives (all drives combined) and ZFS didn't have to kick in.</p>
<p>I'm not surprised by this result at all. Drives tend to fail most often in two modes:</p>
<ol>
<li>Total failure, drive isn't even detected</li>
<li>Bad sectors (read or write failures)</li>
</ol>
<p>There is a third failure mode, but it's extremely rare: <strong>silent data corruption</strong>. Silent data corruption is 'silent' because a disk isn't aware it delivered corrupted data. Or the SATA connection didn't detect any checksum errors. </p>
<p>However, due to all the low-level checksumming, this risk is extremely small. It's a real risk, don't get me wrong, but it's a small risk. To me, it's a risk you mostly care about at scale, in datacenters<sup id="fnref:enterprise"><a href="#fn:enterprise">4</a></sup> but for residential usage, it's totally reasonable to accept the risk<sup id="fnref:risk"><a href="#fn:risk">3</a></sup>. </p>
<p>But ZFS is not that difficult to learn and if you are well-versed in Linux or FreeBSD, it's absolutely worth checking out. Just <a href="https://louwrentius.com/the-hidden-cost-of-using-zfs-for-your-home-nas.html">remember</a>!</p>
<p><img alt="inside" src="https://louwrentius.com/static/images/nano/topview.jpg"></p>
<h2>Sound levels (It's Oh So Quiet)</h2>
<p>This NAS is <em>very</em> quiet for a NAS (<a href="https://youtu.be/LS3cfl-7n-4">video with audio</a>). </p>
<p>But to get there, I had to do some work.</p>
<p>The chassis contains three sturdy 12V fans that cool the 24 drive cages. These fans are extremely loud if they run at their default speed. But because they are so beefy, they are fairly quiet when they run at idle RPM, yet they still provide enough airflow, most of the time. But running at idle speeds was not enough as the drives would heat up eventually, especially when they are being read from / written to.</p>
<p>Fortunately, the particular Supermicro motherboard I bought at the time allows all fan headers to be controlled through Linux. So I decided to create a <a href="https://github.com/louwrentius/storagefancontrol">script</a> that sets the fan speed according to the temperature of the hottest drive in the chassis.</p>
<p>I actually visited a math-related subreddit and asked for an algorithm that would best fit my need to create a silent setup and also keep the drives cool.
Somebody recommended to use a "<a href="https://en.wikipedia.org/wiki/Proportional%E2%80%93integral%E2%80%93derivative_controller">PID controller</a>", which I knew nothing about. So I wrote some Python, stole some example Python PID controller code, and tweaked the parameters to find a balance between sound and cooling performance.</p>
<p>The script has worked very well over the years and kept the drives at 40C or below. PID controllers are awesome and I feel it should be used in much more equipment that controls fans, temperature, and so on, instead of 'dumb' on/of behaviour or less 'dumb' lookup tables.</p>
<h2>Networking</h2>
<p>I started out with quad-port gigabit network controllers and I used <a href="https://louwrentius.com/achieving-450-mbs-network-file-transfers-using-linux-bonding.html">network bonding</a> to get around 450 MB/s network transfer speeds between various systems. This setup required a ton of UTP cables so eventually I got bored with that and I bought some cheap <a href="https://louwrentius.com/using-infiniband-for-cheap-and-fast-point-to-point-networking.html">Infiniband</a> cards and that worked fine, I could reach around 700 MB/s between systems. As I decided to move away from Ubuntu and back to Debian, I faced a problem: the Infiniband cards didn't work anymore and I could not figure out how to fix it. So I decided to buy some second-hand 10Gbit Ethernet cards and those work totally fine to this day.</p>
<h2>The dead power supply</h2>
<p>When you turn this system on, all drives spin up at once (no staggered spinup) and that draws around 600W for a few seconds. I remember that the power supply was rated for 750W and the 12 volt rail would have been able to deliver enough power, but it would sometimes cut out at boot nonetheless.</p>
<h2>UPS (or lack thereof)</h2>
<p>For many years, I used a beefy UPS with the system, to protect against power failure, just to be able to shutdown cleanly during an outage. This worked fine, but I noticed that the UPS used another 10+ watts on top of the usage of the server and I decided it had to go.</p>
<p>Losing the system due to power shenanigans is a risk I accept.</p>
<h2>Backups (or a lack thereof)</h2>
<p>My most important data is backed up trice. But a lot of data stored on this server isn't important enough for me to backup. I rely on replacement hardware and ZFS protecting against data loss due to drive failure.</p>
<p>And if that's not enough, I'm out of luck. I've accepted that risk for 10 years. Maybe one day my luck will run out, but until then, I enjoy what I have.</p>
<h2>Future storage plans (or lack thereof)</h2>
<p>To be frank, I don't have any. I built this server back in the day because I didn't want to shuffle data around due to storage space constraints and I still have ample space left.</p>
<p>I have a spare motherboard, CPU, Memory and a spare HBA card so I'm quite likely able to revive the system if something breaks.</p>
<p>As hard drive sizes have increased tremendously, I may eventually move away from the 24-drive bay chassis into a smaller form-factor. It's possible to create the same amount of redundant storage space with only 6-8 hard drives with RAIDZ2 (RAID 6) redundancy. Yet, storage is always expensive. </p>
<p>But another likely scenario is that in the coming years this system eventually dies and I decide not to replace it at all, and my storage hobby will come to an end.</p>

            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Legend of Holy Sword: An Immersive Experience for Concentration Enhancement (118 pts)]]></title>
            <link>https://arxiv.org/abs/2408.16782</link>
            <guid>41536003</guid>
            <pubDate>Fri, 13 Sep 2024 23:07:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2408.16782">https://arxiv.org/abs/2408.16782</a>, See on <a href="https://news.ycombinator.com/item?id=41536003">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2408.16782">View PDF</a>
    <a href="https://arxiv.org/html/2408.16782v1">HTML (experimental)</a></p><blockquote>
            <span>Abstract:</span>Concentration is significant for maximizing potential in any activity. However, traditional methods to improve it often lack direct and natural feedback. We propose an innovative and inspiring VR system to experience and improve concentration. In the experience of pulling out the holy sword, which cannot be achieved simply by force, the player receives multimodal concentration feedback in visual, auditory, and haptic senses. We believe that this experience will help the user confront his/her concentration and improve the ability to control it consciously.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Nanami Kotani [<a href="https://arxiv.org/show-email/e7e21ea5/2408.16782">view email</a>]      <br>    <strong>[v1]</strong>
        Sun, 18 Aug 2024 05:29:50 UTC (16,432 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OpenAI o1 Results on ARC-AGI-Pub (182 pts)]]></title>
            <link>https://arcprize.org/blog/openai-o1-results-arc-prize</link>
            <guid>41535694</guid>
            <pubDate>Fri, 13 Sep 2024 22:14:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arcprize.org/blog/openai-o1-results-arc-prize">https://arcprize.org/blog/openai-o1-results-arc-prize</a>, See on <a href="https://news.ycombinator.com/item?id=41535694">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>


<h3 id="arc-prize-testing-and-notes-on-openais-new-o1-model">ARC Prize testing and notes on OpenAI's new o1 model</h3>

<p>Over the past 24 hours, we got access to OpenAI's newly released <code>o1-preview</code> and <code>o1-mini</code> models specially trained to emulate reasoning. These models are given extra time to generate and refine reasoning tokens before giving a final answer.</p>

<p><a href="https://x.com/arcprize/status/1834348966663856577" target="_blank">Hundreds of people</a> have asked how o1 stacks up on ARC Prize. So we put it to test using the same baseline testing harness we've used to assess Claude 3.5 Sonnet, GPT-4o, and Gemini 1.5. Here are the results:</p>

<p><img src="https://cdn.zappy.app/9b60c2cb230af28f29a5f2a0506dbff1.png" alt="ARC-AGI-Pub Leaderboard"></p>

<p>Is o1 a new paradigm towards AGI? Will it scale up? What explains the massive difference between o1's performance on IOI, AIME, and many other <a href="https://openai.com/index/learning-to-reason-with-llms/" target="_blank">impressive benchmark scores</a> compared to only modest scores on ARC-AGI?</p>

<p>There's a lot to talk about.</p>

<hr>

<h3 id="chain-of-thought">Chain-of-Thought</h3>

<p>o1 fully realizes the "let's think step by step" chain-of-thought (CoT) paradigm by applying it at both training time <em>and</em> test time inference.</p>

<figure>
  <img src="https://arcprize.org/media/images/blog/openai-o1-performance.png" alt="OpenAI o1 Performance Chart">
  <figcaption>Source: OpenAI "<a href="https://openai.com/index/learning-to-reason-with-llms/" target="_blank">Learning to Reason with LLMs</a>".</figcaption>
</figure>

<p>In practice, o1 is significantly less likely to make mistakes when performing tasks where the sequence of intermediate steps is well-represented in the synthetic CoT training data.</p>

<p>At training time, OpenAI says they've built a new reinforcement learning (RL) algorithm and a highly data-efficient process that leverages CoT.</p>

<p>The implication is that the foundational source of o1 training is still a fixed set of pre-training data. But OpenAI is also able to generate tons of synthetic CoTs that emulate human reasoning to further train the model via RL. An unanswered question is how OpenAI selects which generated CoTs to train on?</p>

<p>While we have few details, reward signals for RL were likely achieved using verification (over formal domains like math and code) and human labeling (over informal domains like task breakdown and planning.)</p>

<p>At inference time, OpenAI says they're using RL to enable o1 to hone its CoT and refine the strategies it uses. We can speculate the reward signal here is some kind of actor + critic system similar to ones OpenAI <a href="https://openai.com/index/finding-gpt4s-mistakes-with-gpt-4/" target="_blank">previously published</a>. And that they're applying search or backtracking over the generated reasoning tokens at inference time.</p>

<hr>

<h3 id="test-time-compute">Test-Time Compute</h3>

<p>The most important aspect of o1 is that it shows a working example of applying CoT reasoning search to informal language as opposed to formal languages like math, code, or Lean.</p>

<p>While added train-time scaling using CoT is notable, the big new story is test-time scaling.</p>

<p>We believe iterated CoT genuinely unlocks greater generalization. Automatic iterative re-prompting enables the model to better adapt to novelty, in a way similar to test-time fine-tuning leveraged by the MindsAI team.</p>

<p>If we only do a single inference, we are limited to reapplying memorized programs. But by generating intermediate output CoTs, or programs, for each task, we unlock the ability to compose learned programs components, achieving adaption. This technique is one way to surmount the #1 issue of large language model generalization: the ability to adapt to novelty. Though like test-time fine-tuning it does ultimately remain limited.</p>

<p>When AI systems are allowed a variable amount of test-time compute (e.g., the amount of reasoning tokens or the time to search), there is no objective way to report a single benchmark score because it's relative to the allowed compute. That is what <a href="https://arcprize.org/media/images/blog/openai-o1-performance.png">this chart</a> shows.</p>

<p>More compute means more accuracy.</p>

<p>When OpenAI released o1 they could have allowed developers to specify the amount of compute or time allowed to refine CoT at test-time. Instead, they've "hard coded" a point along the test-time compute continuum and hid that implementation detail from developers.</p>

<p>With varying test-time compute, we can no longer just compare the output between two different AI systems to assess relative intelligence. We need to also compare the compute <em>efficiency</em>.</p>

<p>While OpenAI's announcement did not share efficiency numbers, it's exciting we're now entering a period where efficiency will be a focus. Efficiency is critical to the <a href="https://arcprize.org/arc#agi-definition">definition of AGI</a> and this is why ARC Prize enforces an efficiency limit on winning solutions.</p>

<p><strong>Our prediction</strong>: expect to see way more benchmark charts comparing accuracy vs test-time compute going forward.</p>

<hr>

<h3 id="arc-agi-pub-model-baselines">ARC-AGI-Pub Model Baselines</h3>

<p>OpenAI <code>o1-preview</code> and <code>o1-mini</code> both outperform <code>GPT-4o</code> on the ARC-AGI public evaluation dataset. <code>o1-preview</code> is about on par with Anthropic's Claude 3.5 Sonnet in terms of accuracy but takes about 10X longer to achieve similar results to Sonnet.</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Score <small>(public eval)</small></th>
      <th>Verification Score <small>(semi-private eval)</small></th>
      <th>Avg Time/Task <small>(mins)</small></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>o1-preview</td>
      <td>21.2%</td>
      <td>18%</td>
      <td>4.2</td>
    </tr>
    <tr>
      <td>Claude 3.5</td>
      <td>21%</td>
      <td>14%</td>
      <td>0.3</td>
    </tr>
    <tr>
      <td>o1-mini</td>
      <td>12.8%</td>
      <td>9.5%</td>
      <td>3.0</td>
    </tr>
    <tr>
      <td>GPT-4o</td>
      <td>9%</td>
      <td>5%</td>
      <td>0.3</td>
    </tr>
    <tr>
      <td>Gemini 1.5</td>
      <td>8%</td>
      <td>4.5%</td>
      <td>1.1</td>
    </tr>
  </tbody>
</table>

<p>To get the baseline model scores on the ARC-AGI-Pub leaderboard, we're using the <a href="https://www.kaggle.com/code/gregkamradt/using-frontier-models-on-arc-agi-via-langchain?scriptVersionId=184611945" target="_blank">same baseline prompt</a> we used to test <code>GPT-4o</code>. When we test and report results on pure models like o1, our intention is to get a measurement of base model performance, as much as that is possible, without layering on any optimization.</p>

<p>Others may discover better ways to prompt CoT-style models in the future, and we are happy to add those to the leaderboard if verified.</p>

<p>o1's performance increase did come with a time cost. It took 70 hours on the 400 public tasks compared to only 30 minutes for <code>GPT-4o</code> and Claude 3.5 Sonnet.</p>

<p>You can use our <a href="https://www.kaggle.com/code/gregkamradt/testing-o1-preview-on-arc-agi" target="_blank">open source Kaggle notebook</a> as a baseline testing harness or starting point for your own approach. The SOTA submission on the public leaderboard is the result of clever techniques in addition to cutting edge models.</p>

<p>Maybe you can figure out how to leverage o1 as a foundational component to achieve a higher score in a similar way!</p>



<hr>

<h2 id="is-agi-here">Is AGI Here?</h2>

<p>On <a href="https://arcprize.org/media/images/blog/openai-o1-performance.png">this chart</a>, OpenAI shows a log-linear relationship between accuracy and test-time compute on AIME. In other words, with exponentially increasing compute, accuracy goes up linearly.</p>

<p>A new question many are asking: how far does this scale?</p>

<p>The only conceptual limit to the approach is the <a href="https://en.wikipedia.org/wiki/Decidability_(logic)" target="_blank">decidability</a> of the problem posed to the AI. So long as the search process has an external verifier which does contain the answer, you will see accuracy scale up logarithmically with compute.</p>

<p>In fact, the reported results are extremely similar to one of ARC Prize's <a href="https://redwoodresearch.substack.com/p/getting-50-sota-on-arc-agi-with-gpt" target="_blank">top approaches</a> by Ryan Greenblatt. He achieved a score of 43% by having <code>GPT-4o</code> generate k=2,048 solution programs per task and deterministically verifying them against the task demonstrations.</p>

<p>Then he assessed how accuracy varied for different values of k.</p>

<figure>
  <img src="https://arcprize.org/media/images/blog/o1-top-3-accuracy-vs-k.jpg" alt="Top 3 Accuracy vs k">
  <figcaption>Source: Ryan Greenblatt.</figcaption>
</figure>

<p>Ryan found an identical log-linear relationship between accuracy and test-time compute on ARC-AGI.</p>

<p>Does all this mean AGI is here if we just scale test-time compute? Not quite.</p>

<p>You can see similar exponential scaling curves by looking at any brute force search which is O(x^n). In fact, we know at least 50% of ARC-AGI can be solved via brute force and zero AI.</p>

<p>To beat ARC-AGI this way, you'd need to generate over 100 million solution programs per task. Practicality alone rules out O(x^n) search for scaled up AI systems.</p>

<p>Moreover, we know this is not how humans beat ARC tasks. Humans do not generate thousands of potential solutions, instead we use the perception network in our brains to "see" a handful of potential solutions and determnistically check them with system 2-style thinking.</p>

<p>We can get smarter.</p>

<hr>

<h2 id="new-ideas-are-needed">New Ideas Are Needed</h2>

<p>Intelligence can be measured by looking at how well a system converts information to action over a space of situations. It's a conversion ratio and thus approaches a limit. Once you have perfect intelligence, the only way to progress is to go collect new information.</p>

<p>There are a couple ways a less intelligent system could appear more intelligent without actually being more intelligent.</p>

<p>One way is a system that just memorizes the best action. This kind of system would be very brittle, appearing intelligent in one domain, but fall over easily in another.</p>

<p>Another way is through trial and error. A system might appear intelligent if it eventually gets the right answer, but not if it needs 100 guesses first.</p>

<p>We should expect future test-time compute research to look at how to scale search and refinement more efficiently, perhaps using deep learning to guide the search process.</p>

<p>That said, we don't believe this alone explains the big gap between o1's performance on ARC-AGI and other objectively difficult benchmarks like IOI or AIME.</p>

<p>A more sufficient way to explain this is that o1 still operates primarily within distribution of its pre-training data, but now inclusive of all the newly generated synthetic CoTs.</p>

<p>The additional synthetic CoT data increases focus on the distribution of CoTs as opposed to just the distribution of answers (more compute is spent on how to get the answer vs what is the answer). We expect to see systems like o1 do better on benchmarks that involve reusing well-known emulated reasoning templates (programs) but will still struggle to crack problems that require synthesizing brand new reasoning on the fly.</p>

<p>Test-time refinement on CoT can only correct reasoning mistakes so far. This also suggests why o1 is so impressive in certain domains. Test-time refinement on CoT gets an additional boost when the base model is pre-trained in a similar way.</p>

<p>Either approach alone would not get you the big leap.</p>

<p>In summary, o1 represents a paradigm shift from "memorize the answers" to "memorize the reasoning" but is not a departure from the broader paradigm of fitting a curve to a distribution in order to boost performance by making everything in-distribution.</p>

<p>We still need new ideas for AGI.</p>

<h3 id="take-action">Take Action</h3>

<p>Deep CoT itegration is an exciting, new direction and there's much more to be discovered. ARC Prize exists to bring this energy to open source so that all can benefit from open AGI in our lifetime.</p>

<p>Do you have ideas on how to push these new ideas further? What about CoT with multi-modal, CoT with code generation, or combining program search with CoT?</p>

<p>Now is the time to jump into the action by participating in ARC Prize. Win top score prizes and paper awards and the attention and respect of millions.</p>

<p>Great ideas can come from anywhere. Maybe you?</p>

<p>Try hacking on o1 yourself starting with our default <a href="https://www.kaggle.com/code/gregkamradt/testing-o1-preview-on-arc-agi" target="_blank">Kaggle notebook</a>.</p>

<p><a href="#" data-modal-id="newsletter">Sign up for ARC Prize</a> to get notified when new high scores hit the leaderboard.</p>

		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Lisp implemented in Rust macros (267 pts)]]></title>
            <link>https://github.com/RyanWelly/lisp-in-rs-macros</link>
            <guid>41535354</guid>
            <pubDate>Fri, 13 Sep 2024 21:31:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/RyanWelly/lisp-in-rs-macros">https://github.com/RyanWelly/lisp-in-rs-macros</a>, See on <a href="https://news.ycombinator.com/item?id=41535354">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto"><code>lisp-in-rs-macros</code></h2><a id="user-content-lisp-in-rs-macros" aria-label="Permalink: lisp-in-rs-macros" href="#lisp-in-rs-macros"></a></p>
<p dir="auto">A simple, lexically scoped Lisp interpreter that operates fully in Rust's declarative macros. The <code>lisp!</code> macro expands to the lisp value computed by the code, and then stringifies it. This means that <code>lisp!(CAR (CONS (QUOTE A) (QUOTE (B))))</code> expands to the string "A" and that all this computation happens at compile time by rustc expanding macros.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Why</h2><a id="user-content-why" aria-label="Permalink: Why" href="#why"></a></p>
<p dir="auto">It's a lisp interpreter written fully in Rust's macros, I think that's pretty cool. It's also less than 250 lines, which is neat.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Example</h2><a id="user-content-example" aria-label="Permalink: Example" href="#example"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="let output = lisp!(CAR (LIST (QUOTE A) (QUOTE B) (QUOTE C)));
assert_eq!(output, &quot;A&quot;); 

lisp!(PROGN
(DEFINE message (LAMBDA () (QUOTE &quot;hello there&quot;)))
(DISPLAY (message))
(DEFINE NOT (LAMBDA (X) (COND (X NIL) (TRUE TRUE))) )
(DISPLAY (NOT NIL))
); // will print &quot;hello there&quot; and &quot;TRUE&quot;
// &quot;DISPLAY&quot; forms first evaluate their arguments, then expand to a println!(&quot;{}&quot;, stringify!(evaled_argument))
"><pre><span>let</span> output = <span>lisp</span><span>!</span><span>(</span><span>CAR</span> <span>(</span><span>LIST</span> <span>(</span><span>QUOTE</span> <span>A</span><span>)</span> <span>(</span><span>QUOTE</span> <span>B</span><span>)</span> <span>(</span><span>QUOTE</span> <span>C</span><span>)</span><span>)</span><span>)</span><span>;</span>
<span>assert_eq</span><span>!</span><span>(</span>output, <span>"A"</span><span>)</span><span>;</span> 

<span>lisp</span><span>!</span><span>(</span><span>PROGN</span>
<span>(</span><span>DEFINE</span> message <span>(</span><span>LAMBDA</span> <span>(</span><span>)</span> <span>(</span><span>QUOTE</span> <span>"hello there"</span><span>)</span><span>)</span><span>)</span>
<span>(</span><span>DISPLAY</span> <span>(</span>message<span>)</span><span>)</span>
<span>(</span><span>DEFINE</span> <span>NOT</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>X</span><span>)</span> <span>(</span><span>COND</span> <span>(</span><span>X</span> <span>NIL</span><span>)</span> <span>(</span><span>TRUE</span> <span>TRUE</span><span>)</span><span>)</span><span>)</span> <span>)</span>
<span>(</span><span>DISPLAY</span> <span>(</span><span>NOT</span> <span>NIL</span><span>)</span><span>)</span>
<span>)</span><span>;</span> <span>// will print "hello there" and "TRUE"</span>
<span>// "DISPLAY" forms first evaluate their arguments, then expand to a println!("{}", stringify!(evaled_argument))</span></pre></div>
<p dir="auto">As another fun example, here is a quine:</p>
<div dir="auto" data-snippet-clipboard-copy-content="lisp!
       ((LAMBDA (s) (LIST s (LIST (QUOTE QUOTE) s)))
       (QUOTE (LAMBDA (s) (LIST s (LIST (QUOTE QUOTE) s)))));"><pre><span>lisp</span><span>!</span>
       <span>(</span><span>(</span><span>LAMBDA</span> <span>(</span>s<span>)</span> <span>(</span><span>LIST</span> s <span>(</span><span>LIST</span> <span>(</span><span>QUOTE</span> <span>QUOTE</span><span>)</span> s<span>)</span><span>)</span><span>)</span>
       <span>(</span><span>QUOTE</span> <span>(</span><span>LAMBDA</span> <span>(</span>s<span>)</span> <span>(</span><span>LIST</span> s <span>(</span><span>LIST</span> <span>(</span><span>QUOTE</span> <span>QUOTE</span><span>)</span> s<span>)</span><span>)</span><span>)</span><span>)</span><span>)</span><span>;</span></pre></div>
<p dir="auto">This code expands to:</p>
<div dir="auto" data-snippet-clipboard-copy-content="stringify!(((LAMBDA (s) (LIST s (LIST (QUOTE QUOTE) s)))
       (QUOTE (LAMBDA (s) (LIST s (LIST (QUOTE QUOTE) s))))));"><pre><span>stringify</span><span>!</span><span>(</span><span>(</span><span>(</span><span>LAMBDA</span> <span>(</span>s<span>)</span> <span>(</span><span>LIST</span> s <span>(</span><span>LIST</span> <span>(</span><span>QUOTE</span> <span>QUOTE</span><span>)</span> s<span>)</span><span>)</span><span>)</span>
       <span>(</span><span>QUOTE</span> <span>(</span><span>LAMBDA</span> <span>(</span>s<span>)</span> <span>(</span><span>LIST</span> s <span>(</span><span>LIST</span> <span>(</span><span>QUOTE</span> <span>QUOTE</span><span>)</span> s<span>)</span><span>)</span><span>)</span><span>)</span><span>)</span><span>)</span><span>;</span></pre></div>
<p dir="auto">In other words, the code evaluates to itself. Isn't that wonderful?</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Recursion</h2><a id="user-content-recursion" aria-label="Permalink: Recursion" href="#recursion"></a></p>
<p dir="auto">This lisp does not currently support any explicit form of recursion. Luckily, explicit recursion is not needed, all we need is lambda.</p>
<p dir="auto">You can write a simple function that appends two lists by using self application:</p>
<div dir="auto" data-snippet-clipboard-copy-content="lisp!(PROGN
(DEFINE append 
    (LAMBDA (self X Y) 
        (COND 
            ((EQ X NIL) Y) 
            (TRUE (CONS (CAR X) (self self (CDR X) Y))) 
        )))
(append append (QUOTE (A B)) (QUOTE (C D)))

)"><pre><span>lisp</span><span>!</span><span>(</span><span>PROGN</span>
<span>(</span><span>DEFINE</span> append 
    <span>(</span><span>LAMBDA</span> <span>(</span><span>self</span> <span>X</span> <span>Y</span><span>)</span> 
        <span>(</span><span>COND</span> 
            <span>(</span><span>(</span><span>EQ</span> <span>X</span> <span>NIL</span><span>)</span> <span>Y</span><span>)</span> 
            <span>(</span><span>TRUE</span> <span>(</span><span>CONS</span> <span>(</span><span>CAR</span> <span>X</span><span>)</span> <span>(</span><span>self</span> <span>self</span> <span>(</span><span>CDR</span> <span>X</span><span>)</span> <span>Y</span><span>)</span><span>)</span><span>)</span> 
        <span>)</span><span>)</span><span>)</span>
<span>(</span>append append <span>(</span><span>QUOTE</span> <span>(</span><span>A</span> <span>B</span><span>)</span><span>)</span> <span>(</span><span>QUOTE</span> <span>(</span><span>C</span> <span>D</span><span>)</span><span>)</span><span>)</span>

<span>)</span></pre></div>
<p dir="auto">This results in "(A B C D)". The append function does not mention <code>append</code> in its body, yet we can call it recursively. Wonderful!</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Notes for use</h2><a id="user-content-notes-for-use" aria-label="Permalink: Notes for use" href="#notes-for-use"></a></p>
<p dir="auto">The lisp! macro only evaluates a single expression; if you want to evaluate multiple expressions, use <code>(PROGN expr1 expr2 expr3)</code>. This evaluates all the expressions, and returns the value of the last expression. The DISPLAY form evaluates a single expression, then generates a <code>println!("{}", stringify!(...))</code> statement which prints the stringified version of the tokens. The empty list is not self evaluating, you can use <code>NIL</code> or <code>(QUOTE ())</code> to obtain an empty list value. The empty list is the sole "falsy" object.
Dotted lists aren't supported, cons assumes its last argument is a list. The define form can be used anywhere and evaluates to the empty list, but does not support recursion. TRUE is the only self evaluating atom (that isn't a function).</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Supported forms</h2><a id="user-content-supported-forms" aria-label="Permalink: Supported forms" href="#supported-forms"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="DEFINE 
QUOTE 
LAMBDA 
LET
PROGN 
CAR 
CDR 
CONS
LIST
EQ
ATOM
APPLY"><pre><span>DEFINE</span> 
<span>QUOTE</span> 
<span>LAMBDA</span> 
<span>LET</span>
<span>PROGN</span> 
<span>CAR</span> 
<span>CDR</span> 
<span>CONS</span>
<span>LIST</span>
<span>EQ</span>
<span>ATOM</span>
<span>APPLY</span></pre></div>
<p dir="auto">Note: dotted lists are not supported, CONS assumes its latter argument is a list. Define does not handle recursive definitions, it's more like internal definitions in Scheme than a true lispy define.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Metacircular interpreter</h2><a id="user-content-metacircular-interpreter" aria-label="Permalink: Metacircular interpreter" href="#metacircular-interpreter"></a></p>
<p dir="auto">Here is a lisp interpreter written in my lisp:</p>
<div dir="auto" data-snippet-clipboard-copy-content="lisp!(PROGN
            // Y &quot;combinator&quot; for two arguments
        (DEFINE Y2 
                        (LAMBDA (h)
                            ((LAMBDA (x) (h (LAMBDA (a b) ((x x) a b))))
                                (LAMBDA (x) (h (LAMBDA (a b) ((x x) a b)))))))
        
        (DEFINE CADR (LAMBDA (X) (CAR (CDR X))))
        (DEFINE CAAR (LAMBDA (X) (CAR (CAR X))))
        (DEFINE CADAR (LAMBDA (X) (CAR (CDR (CAR X)))))
        (DEFINE CADDR (LAMBDA (X) (CAR (CDR (CDR X)))))
        (DEFINE CADDAR (LAMBDA (X) (CAR (CDR (CDR (CAR X))))))
        (DEFINE CAADAR (LAMBDA (X) (CAR (CAR (CDR (CAR X))))))

        (DEFINE ASSOC (Y2 (LAMBDA (ASSOC) (LAMBDA (X ENV) 
                        (IF (EQ (CAAR ENV) X) (CADAR ENV) (ASSOC X (CDR ENV)))
                    )))
                )


            
        (DEFINE eval (Y2 (LAMBDA (EVAL) (LAMBDA (E A) 
                (COND
                    ((ATOM E) (ASSOC E A))
                    ((ATOM (CAR E)) 
                        (COND 
                            ((EQ (CAR E) (QUOTE quote)) (CADR E))
                            ((EQ (CAR E) (QUOTE atom)) (ATOM (EVAL (CADR E) A)))
                            ((EQ (CAR E) (QUOTE car)) (CAR (EVAL (CADR E) A)))
                            ((EQ (CAR E) (QUOTE cdr)) (CDR (EVAL (CADR E) A)))
                            ((EQ (CAR E) (QUOTE equal)) (EQ (EVAL (CADR E) A) (EVAL (CADDR E) A)))
                            ((EQ (CAR E) (QUOTE cons)) (CONS (EVAL (CADR E) A) (EVAL (CADDR E) A)))
                            (TRUE (EVAL (CONS (ASSOC (CAR E) A) (CDR E)) A)) 
                        )
                    )
                    ((EQ (CAAR E) (QUOTE lambda)) (EVAL (CADDAR E) (CONS (LIST (CAADAR E) (EVAL (CADR E) A)) A)  )) //Evaluate the inner expression of the lambda, in the environment with the argument bound to the parameter
                
                )
            ))))

        (eval (QUOTE (quote (A))) NIL)
        // (eval (QUOTE (atom (quote A))) NIL )
        // (eval (QUOTE (cdr (cdr (quote (A B))))) NIL)
        // (eval (QUOTE (cons (quote a) (quote (a)))) NIL)
        // (eval (QUOTE ((lambda (x) (quote a)) (quote b))) NIL)
        (eval (QUOTE ((lambda (X) X) (quote a))) NIL)

        );"><pre><span>lisp</span><span>!</span><span>(</span><span>PROGN</span>
            <span>// Y "combinator" for two arguments</span>
        <span>(</span><span>DEFINE</span> <span>Y2</span> 
                        <span>(</span><span>LAMBDA</span> <span>(</span>h<span>)</span>
                            <span>(</span><span>(</span><span>LAMBDA</span> <span>(</span>x<span>)</span> <span>(</span>h <span>(</span><span>LAMBDA</span> <span>(</span>a b<span>)</span> <span>(</span><span>(</span>x x<span>)</span> a b<span>)</span><span>)</span><span>)</span><span>)</span>
                                <span>(</span><span>LAMBDA</span> <span>(</span>x<span>)</span> <span>(</span>h <span>(</span><span>LAMBDA</span> <span>(</span>a b<span>)</span> <span>(</span><span>(</span>x x<span>)</span> a b<span>)</span><span>)</span><span>)</span><span>)</span><span>)</span><span>)</span><span>)</span>
        
        <span>(</span><span>DEFINE</span> <span>CADR</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>X</span><span>)</span> <span>(</span><span>CAR</span> <span>(</span><span>CDR</span> <span>X</span><span>)</span><span>)</span><span>)</span><span>)</span>
        <span>(</span><span>DEFINE</span> <span>CAAR</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>X</span><span>)</span> <span>(</span><span>CAR</span> <span>(</span><span>CAR</span> <span>X</span><span>)</span><span>)</span><span>)</span><span>)</span>
        <span>(</span><span>DEFINE</span> <span>CADAR</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>X</span><span>)</span> <span>(</span><span>CAR</span> <span>(</span><span>CDR</span> <span>(</span><span>CAR</span> <span>X</span><span>)</span><span>)</span><span>)</span><span>)</span><span>)</span>
        <span>(</span><span>DEFINE</span> <span>CADDR</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>X</span><span>)</span> <span>(</span><span>CAR</span> <span>(</span><span>CDR</span> <span>(</span><span>CDR</span> <span>X</span><span>)</span><span>)</span><span>)</span><span>)</span><span>)</span>
        <span>(</span><span>DEFINE</span> <span>CADDAR</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>X</span><span>)</span> <span>(</span><span>CAR</span> <span>(</span><span>CDR</span> <span>(</span><span>CDR</span> <span>(</span><span>CAR</span> <span>X</span><span>)</span><span>)</span><span>)</span><span>)</span><span>)</span><span>)</span>
        <span>(</span><span>DEFINE</span> <span>CAADAR</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>X</span><span>)</span> <span>(</span><span>CAR</span> <span>(</span><span>CAR</span> <span>(</span><span>CDR</span> <span>(</span><span>CAR</span> <span>X</span><span>)</span><span>)</span><span>)</span><span>)</span><span>)</span><span>)</span>

        <span>(</span><span>DEFINE</span> <span>ASSOC</span> <span>(</span><span>Y2</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>ASSOC</span><span>)</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>X</span> <span>ENV</span><span>)</span> 
                        <span>(</span><span>IF</span> <span>(</span><span>EQ</span> <span>(</span><span>CAAR</span> <span>ENV</span><span>)</span> <span>X</span><span>)</span> <span>(</span><span>CADAR</span> <span>ENV</span><span>)</span> <span>(</span><span>ASSOC</span> <span>X</span> <span>(</span><span>CDR</span> <span>ENV</span><span>)</span><span>)</span><span>)</span>
                    <span>)</span><span>)</span><span>)</span>
                <span>)</span>


            
        <span>(</span><span>DEFINE</span> eval <span>(</span><span>Y2</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>EVAL</span><span>)</span> <span>(</span><span>LAMBDA</span> <span>(</span><span>E</span> <span>A</span><span>)</span> 
                <span>(</span><span>COND</span>
                    <span>(</span><span>(</span><span>ATOM</span> <span>E</span><span>)</span> <span>(</span><span>ASSOC</span> <span>E</span> <span>A</span><span>)</span><span>)</span>
                    <span>(</span><span>(</span><span>ATOM</span> <span>(</span><span>CAR</span> <span>E</span><span>)</span><span>)</span> 
                        <span>(</span><span>COND</span> 
                            <span>(</span><span>(</span><span>EQ</span> <span>(</span><span>CAR</span> <span>E</span><span>)</span> <span>(</span><span>QUOTE</span> quote<span>)</span><span>)</span> <span>(</span><span>CADR</span> <span>E</span><span>)</span><span>)</span>
                            <span>(</span><span>(</span><span>EQ</span> <span>(</span><span>CAR</span> <span>E</span><span>)</span> <span>(</span><span>QUOTE</span> atom<span>)</span><span>)</span> <span>(</span><span>ATOM</span> <span>(</span><span>EVAL</span> <span>(</span><span>CADR</span> <span>E</span><span>)</span> <span>A</span><span>)</span><span>)</span><span>)</span>
                            <span>(</span><span>(</span><span>EQ</span> <span>(</span><span>CAR</span> <span>E</span><span>)</span> <span>(</span><span>QUOTE</span> car<span>)</span><span>)</span> <span>(</span><span>CAR</span> <span>(</span><span>EVAL</span> <span>(</span><span>CADR</span> <span>E</span><span>)</span> <span>A</span><span>)</span><span>)</span><span>)</span>
                            <span>(</span><span>(</span><span>EQ</span> <span>(</span><span>CAR</span> <span>E</span><span>)</span> <span>(</span><span>QUOTE</span> cdr<span>)</span><span>)</span> <span>(</span><span>CDR</span> <span>(</span><span>EVAL</span> <span>(</span><span>CADR</span> <span>E</span><span>)</span> <span>A</span><span>)</span><span>)</span><span>)</span>
                            <span>(</span><span>(</span><span>EQ</span> <span>(</span><span>CAR</span> <span>E</span><span>)</span> <span>(</span><span>QUOTE</span> equal<span>)</span><span>)</span> <span>(</span><span>EQ</span> <span>(</span><span>EVAL</span> <span>(</span><span>CADR</span> <span>E</span><span>)</span> <span>A</span><span>)</span> <span>(</span><span>EVAL</span> <span>(</span><span>CADDR</span> <span>E</span><span>)</span> <span>A</span><span>)</span><span>)</span><span>)</span>
                            <span>(</span><span>(</span><span>EQ</span> <span>(</span><span>CAR</span> <span>E</span><span>)</span> <span>(</span><span>QUOTE</span> cons<span>)</span><span>)</span> <span>(</span><span>CONS</span> <span>(</span><span>EVAL</span> <span>(</span><span>CADR</span> <span>E</span><span>)</span> <span>A</span><span>)</span> <span>(</span><span>EVAL</span> <span>(</span><span>CADDR</span> <span>E</span><span>)</span> <span>A</span><span>)</span><span>)</span><span>)</span>
                            <span>(</span><span>TRUE</span> <span>(</span><span>EVAL</span> <span>(</span><span>CONS</span> <span>(</span><span>ASSOC</span> <span>(</span><span>CAR</span> <span>E</span><span>)</span> <span>A</span><span>)</span> <span>(</span><span>CDR</span> <span>E</span><span>)</span><span>)</span> <span>A</span><span>)</span><span>)</span> 
                        <span>)</span>
                    <span>)</span>
                    <span>(</span><span>(</span><span>EQ</span> <span>(</span><span>CAAR</span> <span>E</span><span>)</span> <span>(</span><span>QUOTE</span> lambda<span>)</span><span>)</span> <span>(</span><span>EVAL</span> <span>(</span><span>CADDAR</span> <span>E</span><span>)</span> <span>(</span><span>CONS</span> <span>(</span><span>LIST</span> <span>(</span><span>CAADAR</span> <span>E</span><span>)</span> <span>(</span><span>EVAL</span> <span>(</span><span>CADR</span> <span>E</span><span>)</span> <span>A</span><span>)</span><span>)</span> <span>A</span><span>)</span>  <span>)</span><span>)</span> <span>//Evaluate the inner expression of the lambda, in the environment with the argument bound to the parameter</span>
                
                <span>)</span>
            <span>)</span><span>)</span><span>)</span><span>)</span>

        <span>(</span>eval <span>(</span><span>QUOTE</span> <span>(</span>quote <span>(</span><span>A</span><span>)</span><span>)</span><span>)</span> <span>NIL</span><span>)</span>
        <span>// (eval (QUOTE (atom (quote A))) NIL )</span>
        <span>// (eval (QUOTE (cdr (cdr (quote (A B))))) NIL)</span>
        <span>// (eval (QUOTE (cons (quote a) (quote (a)))) NIL)</span>
        <span>// (eval (QUOTE ((lambda (x) (quote a)) (quote b))) NIL)</span>
        <span>(</span>eval <span>(</span><span>QUOTE</span> <span>(</span><span>(</span>lambda <span>(</span><span>X</span><span>)</span> <span>X</span><span>)</span> <span>(</span>quote a<span>)</span><span>)</span><span>)</span> <span>NIL</span><span>)</span>

        <span>)</span><span>;</span></pre></div>
<p dir="auto">It appears to work, but trying to evaluate <code>((lambda (X) X) (quote a))</code> in the interpreter takes more than 30 seconds and generates far more than 1 million+ tokens before cargo gets sigkilled. Using the explicit y combinator for recursion isn't particularly efficient here! To fix this, I should add an explicit recursion primitive.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Technical explanation</h2><a id="user-content-technical-explanation" aria-label="Permalink: Technical explanation" href="#technical-explanation"></a></p>
<p dir="auto">Look at EXPLANATION.md. The macro essentially simulates a SECD machine, which is a simple stack-basd abstract machine for evaulating lambda calculus terms.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Awesome resources</h2><a id="user-content-awesome-resources" aria-label="Permalink: Awesome resources" href="#awesome-resources"></a></p>
<ul dir="auto">
<li>Functional Programming: Application and Implementation by Peter Henderson</li>
<li>Ager, Mads Sig, et al. "A functional correspondence between evaluators and abstract machines." Proceedings of the 5th ACM SIGPLAN international conference on Principles and practice of declaritive programming. 2003.</li>
<li>The Implementation of Functional Programming Languages by Simon Peyton Jones</li>
<li>Anything Matt Might has ever written about lisp on his blog (<a href="https://matt.might.net/" rel="nofollow">https://matt.might.net</a>)</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">TODO</h2><a id="user-content-todo" aria-label="Permalink: TODO" href="#todo"></a></p>
<ul dir="auto">
<li>Add letrec</li>
<li>Add recursive defines</li>
</ul>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[CrowdStrike ex-employees: 'Quality control was not part of our process' (501 pts)]]></title>
            <link>https://www.semafor.com/article/09/12/2024/ex-crowdstrike-employees-detail-rising-technical-errors-before-july-outage</link>
            <guid>41534716</guid>
            <pubDate>Fri, 13 Sep 2024 20:17:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.semafor.com/article/09/12/2024/ex-crowdstrike-employees-detail-rising-technical-errors-before-july-outage">https://www.semafor.com/article/09/12/2024/ex-crowdstrike-employees-detail-rising-technical-errors-before-july-outage</a>, See on <a href="https://news.ycombinator.com/item?id=41534716">Hacker News</a></p>
Couldn't get https://www.semafor.com/article/09/12/2024/ex-crowdstrike-employees-detail-rising-technical-errors-before-july-outage: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Janet Jackson had the power to crash laptop computers (2022) (192 pts)]]></title>
            <link>https://devblogs.microsoft.com/oldnewthing/20220816-00/?p=106994</link>
            <guid>41534483</guid>
            <pubDate>Fri, 13 Sep 2024 19:44:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://devblogs.microsoft.com/oldnewthing/20220816-00/?p=106994">https://devblogs.microsoft.com/oldnewthing/20220816-00/?p=106994</a>, See on <a href="https://news.ycombinator.com/item?id=41534483">Hacker News</a></p>
Couldn't get https://devblogs.microsoft.com/oldnewthing/20220816-00/?p=106994: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[OpenAI threatens to revoke o1 access for asking it about its chain of thought (482 pts)]]></title>
            <link>https://twitter.com/SmokeAwayyy/status/1834641370486915417</link>
            <guid>41534474</guid>
            <pubDate>Fri, 13 Sep 2024 19:43:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/SmokeAwayyy/status/1834641370486915417">https://twitter.com/SmokeAwayyy/status/1834641370486915417</a>, See on <a href="https://news.ycombinator.com/item?id=41534474">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[I won't be renewing my Pinboard subscription (171 pts)]]></title>
            <link>https://notes.kateva.org/2024/09/the-end-times-have-come-for-pinboardin.html</link>
            <guid>41533958</guid>
            <pubDate>Fri, 13 Sep 2024 18:47:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://notes.kateva.org/2024/09/the-end-times-have-come-for-pinboardin.html">https://notes.kateva.org/2024/09/the-end-times-have-come-for-pinboardin.html</a>, See on <a href="https://news.ycombinator.com/item?id=41533958">Hacker News</a></p>
Couldn't get https://notes.kateva.org/2024/09/the-end-times-have-come-for-pinboardin.html: Error: timeout of 10000ms exceeded]]></description>
        </item>
    </channel>
</rss>