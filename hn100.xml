<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Tue, 26 Sep 2023 17:00:14 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[FTC Sues Amazon for Illegally Maintaining Monopoly Power (104 pts)]]></title>
            <link>https://www.ftc.gov/news-events/news/press-releases/2023/09/ftc-sues-amazon-illegally-maintaining-monopoly-power</link>
            <guid>37661446</guid>
            <pubDate>Tue, 26 Sep 2023 16:10:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ftc.gov/news-events/news/press-releases/2023/09/ftc-sues-amazon-illegally-maintaining-monopoly-power">https://www.ftc.gov/news-events/news/press-releases/2023/09/ftc-sues-amazon-illegally-maintaining-monopoly-power</a>, See on <a href="https://news.ycombinator.com/item?id=37661446">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>The Federal Trade Commission and 17 state attorneys general today sued Amazon.com, Inc. alleging that the online retail and technology company is a monopolist that uses a set of interlocking anticompetitive and unfair strategies to illegally maintain its monopoly power. The FTC and its state partners say Amazon’s actions allow it to stop rivals and sellers from lowering prices, degrade quality for shoppers, overcharge sellers, stifle innovation, and prevent rivals from fairly competing against Amazon. &nbsp;</p>

<p>The complaint alleges that Amazon violates the law not because it is big, but because it engages in a course of exclusionary conduct that prevents current competitors from growing and new competitors from emerging. By stifling competition on price, product selection, quality, and by preventing its current or future rivals from attracting a critical mass of shoppers and sellers, Amazon ensures that no current or future rival can threaten its dominance. Amazon’s far-reaching schemes impact hundreds of billions of dollars in retail sales every year, touch hundreds of thousands of products sold by businesses big and small and affect over a hundred million shoppers.&nbsp;</p>

<p>“Our complaint lays out how Amazon has used a set of punitive and coercive tactics to unlawfully maintain its monopolies,” said FTC Chair Lina M. Khan. “The complaint sets forth detailed allegations noting how Amazon is now exploiting its monopoly power to enrich itself while raising prices and degrading service for the tens of millions of American families who shop on its platform and the hundreds of thousands of businesses that rely on Amazon to reach them. Today’s lawsuit seeks to hold Amazon to account for these monopolistic practices and restore the lost promise of free and fair competition.”</p>

<p>“We’re bringing this case because Amazon’s illegal conduct has stifled competition across a huge swath of the online economy.&nbsp;Amazon is a monopolist that uses its power to hike prices on American shoppers and charge sky-high fees on hundreds of thousands of online sellers,” said John Newman, Deputy Director of the FTC’s Bureau of Competition.&nbsp;“Seldom in the history of U.S. antitrust law has one case had the potential to do so much good for so many people.”</p>

<p>The FTC and states allege Amazon’s anticompetitive conduct occurs in two markets—the online superstore market that serves shoppers and the market for online marketplace services purchased by sellers. These tactics include:</p>

<ul><li>Anti-discounting measures that punish sellers and deter other online retailers from offering prices lower than Amazon, keeping prices higher for products across the internet.&nbsp;For example, if Amazon discovers that a seller is offering lower-priced goods elsewhere, Amazon can bury discounting sellers so far down in Amazon’s search results that they become effectively invisible.</li>
<li>Conditioning sellers’ ability to obtain “Prime” eligibility for their products—a virtual necessity for doing business on Amazon—on sellers using Amazon’s costly fulfillment service, which has made it substantially more expensive for sellers on Amazon to also offer their products on other platforms. This unlawful coercion has in turn limited competitors’ ability to effectively compete against Amazon.</li>
</ul><p>Amazon’s illegal, exclusionary conduct makes it impossible for competitors to gain a foothold. With its amassed power across both the online superstore market and online marketplace services market, Amazon extracts enormous monopoly rents from everyone within its reach. This includes:</p>

<ul><li>Degrading the customer experience by replacing relevant, organic search results with paid advertisements—and deliberately increasing junk ads that worsen search quality and frustrate both shoppers seeking products and sellers who are promised a return on their advertising purchase.</li>
<li>Biasing Amazon’s search results to preference Amazon’s own products over ones that Amazon knows are of better quality.&nbsp;</li>
<li>Charging costly fees on the hundreds of thousands of sellers that currently have no choice but to rely on Amazon to stay in business. These fees range from a monthly fee sellers must pay for each item sold, to advertising fees that have become virtually necessary for sellers to do business. Combined, all of these fees force many sellers to pay close to 50% of their total revenues to Amazon. These fees harm not only sellers but also shoppers, who pay increased prices for thousands of products sold on or off Amazon. &nbsp;</li>
</ul><p>The FTC, along with its state partners, are seeking a permanent injunction in federal court that would prohibit Amazon from engaging in its unlawful conduct and pry loose Amazon’s monopolistic control to restore competition.<s> </s></p>

<p>Connecticut, Delaware, Maine, Maryland, Massachusetts, Michigan, Minnesota, New Jersey, New Hampshire, New Mexico, Nevada, New York, Oklahoma, Oregon, Pennsylvania, Rhode Island, and Wisconsin joined the Commission’s lawsuit. The Commission vote to authorize staff to file for a permanent injunction and other equitable relief in the U.S. District Court for the Western District of Washington was 3-0.</p>

<p><strong>NOTE:&nbsp;</strong>The Commission issues a complaint when it has “reason to believe” that the law has been or is being violated, and it appears to the Commission that a proceeding is in the public interest.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Unity U-turns on controversial runtime fee and begs forgiveness (101 pts)]]></title>
            <link>https://techcrunch.com/2023/09/22/unity-u-turns-on-controversial-runtime-fee-and-begs-forgiveness/</link>
            <guid>37660327</guid>
            <pubDate>Tue, 26 Sep 2023 14:55:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://techcrunch.com/2023/09/22/unity-u-turns-on-controversial-runtime-fee-and-begs-forgiveness/">https://techcrunch.com/2023/09/22/unity-u-turns-on-controversial-runtime-fee-and-begs-forgiveness/</a>, See on <a href="https://news.ycombinator.com/item?id=37660327">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<p id="speakable-summary">Unity has done a 180 on a <a href="https://techcrunch.com/2023/09/18/unity-reportedly-backtracking-on-new-fees-after-developers-revolt/">controversial new pricing scheme</a> that users of its cross-platform game engine almost unanimously disparaged. A new pricing policy is still incoming, but it’s far less fraught for independent developers, many of whom threatened to leave the engine and platform behind rather than pay.</p>
<p>The changes were announced only last week, and immediately attracted the ire of nearly everyone in the gaming community, prompting a panicked “clarification” soft-pedaling of the “runtime fee” that would be owed with every install of a game past a certain level of revenue. The plan was intensely unpopular, as apart from the increased costs many would incur under it, it suggested that the people running the show at Unity were completely disconnected from the community.</p>
<p>Less than two weeks from its debut, however, the runtime fee policy has been almost completely reversed and its architects are abasing themselves before their customers. Unity Create head Marc Whitten <a href="https://blog.unity.com/news/open-letter-on-runtime-fee" target="_blank" rel="noopener">posted an apologetic note detailing the changes</a>.</p>
<blockquote><p>I want to start with this: I am sorry.</p>
<p>We should have spoken with more of you and we should have incorporated more of your feedback before announcing our new Runtime Fee policy.</p>
<p>You are what makes Unity great, and we know we need to listen, and work hard to earn your trust. We have heard your concerns, and we are making changes in the policy we announced to address them.</p></blockquote>
<p>Under the revised terms, there is no runtime fee whatever for any game developed with a current version of Unity, only for those developers who adopt the latest version in 2024. The free Unity Personal will stay free, and the revenue ceiling above which users must upgrade to the next tier has been raised to $200,000. And above $1 million, users will be able to choose between a per-user fee or a 2.5% revenue share, whichever is lesser.</p>
<p>Whitten also said he will <a href="https://youtube.com/live/qyLcI5O9iUY" target="_blank" rel="noopener">conduct a live Q&amp;A at 1 PM PDT today</a>, during which some further clarifications may be made.</p>
<p>Overall the changes seem to address most of the issues people had with the new terms, and importantly it is more or less opt-in (or the unavoidable product of success) come 2024, on new projects, rather than taking effect on games that are out now or have been for years.</p>
<p>But the high-handed manner in which Unity attempted to squeeze its customers has unquestionably spooked the community, and while the threatened exodus will likely now be far smaller, they will remain watchful for future shenanigans. What trust Unity had built up was seriously damaged by this ill-conceived foray, and many developers may look more seriously at competitors rather than run the risk of the company altering the deal again.</p>
			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Investigation: 78% of carbon offset projects globally are “likely junk“ (116 pts)]]></title>
            <link>https://www.power-technology.com/news/report-majority-carbon-offsets-junk-or-useless/</link>
            <guid>37660256</guid>
            <pubDate>Tue, 26 Sep 2023 14:50:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.power-technology.com/news/report-majority-carbon-offsets-junk-or-useless/">https://www.power-technology.com/news/report-majority-carbon-offsets-junk-or-useless/</a>, See on <a href="https://news.ycombinator.com/item?id=37660256">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                    
                            <header>
            

        <div>
            
                                        
                <p>Analysis found that 39, or 78%, of the 50 environmental projects were categorised as “likely junk or worthless” due to one or more “fundamental failing".</p>

				                
                            

        </div>
    </header>
    <div>
                                  
                                                
                        
                                                                    
                                        
                <!--<p class="drop-cap"></p>-->
                                                <div>
                    <figure>
                        <img src="https://www.power-technology.com/wp-content/uploads/sites/21/2023/08/shutterstock_1274894119-scaled.jpg">
                        <figcaption>Reforestation is one of the most common projects traded within the VCM. Credit: Richard Whitcombe via Shutterstock.</figcaption>
                    </figure>
                </div>
                            
<p>The “vast majority” of environmental projects most commonly used within the voluntary carbon market (VCM) to offset greenhouse gas (GHG) emissions seem to have “fundamental failings” and cannot be relied upon to tackle global warming, according to a joint investigation from the <em>Guardian </em>and non-profit climate watchdog Corporate Accountability.</p>



<p>The <a href="https://www.theguardian.com/environment/2023/sep/19/do-carbon-credit-reduce-emissions-greenhouse-gases?CMP=Share_AndroidApp_Other" target="_blank">investigation analysed</a> the top 50 emission offset projects, selected because they have sold the most carbon credits within the global VCM, and found that most of them exaggerate climate benefits and underestimate the potential harm caused by the project’s activity.</p>



<p>The most popular projects traded globally include forestry schemes, hydroelectric dams, solar and wind farms, waste disposal and greener household appliance schemes across 20 countries, most of which have developing economies. The data comes from <a href="https://alliedoffsets.com/" target="_blank">Allied Offsets,</a> the world’s biggest and most comprehensive emissions trading database, which aggregates information about projects traded within the VCM from their inception.</p>



<p>The analysis found that 39, or 78%, of the 50 projects were categorised as “likely junk or worthless” due to one or more “fundamental failing” that undermines its alleged emissions offsetting power.</p>



<p>Eight others, or 16%, look “problematic”. There is evidence to suggest that they may have at least one fundamental failing and could therefore be “junk”.</p>



<p>The effectiveness of the remaining three projects could not be assessed properly or classified definitively, largely due to a lack of available public, independent information. The analysis also found that $1.16bn worth of carbon credits have been traded so far from those projects classified as “likely junk or worthless”.</p>



<p>The criteria for assessing whether a project is likely junk was based on whether there was “compelling evidence” or a high risk that the project could not guarantee additional GHG emission cuts. In some cases, there was evidence to suggest that projects were leaking further, additional emissions or simply shifting emissions elsewhere. In other cases, evidence was found to suggest that a project’s climate benefits had been exaggerated.</p>



<h2 id="h-carbon-market-actively-exacerbating-the-climate-emergency">Carbon market “actively exacerbating the climate emergency”</h2>



<p>“The ramifications of this analysis are huge, as it points to systemic failings of the voluntary market, providing additional evidence that junk carbon credits pervade,” said Anuradha Mittal, director of the Oakland Institute think tank. “We cannot afford to waste any more time on false solutions. The issues are far-reaching and pervasive, extending well beyond specific verifiers. The VCM is actively exacerbating the climate emergency.”</p>



<p>The VCM has already <a href="https://www.power-technology.com/features/carbon-credits-greenwashing-market/?cf-view&amp;cf-closed" target="_blank">come under fire</a> several times this year after a number of investigations exposed serious shortcomings in the market.</p>



<p>In January, a <a href="https://www.theguardian.com/environment/2023/jan/18/revealed-forest-carbon-offsets-biggest-provider-worthless-verra-aoe" target="_blank">joint investigation</a> by the <em>Guardian, </em>German newspaper <em>Die Zeit </em>and online climate reporters at <em>SourceMaterial, </em>revealed that more than 90% of rainforest offsets offered by Verra, the world’s leading carbon credits certifier, were likely to be “phantom credits” and did not represent genuine emissions reductions.</p>



<p>Verra published a <a href="https://verra.org/statement-vcm-stakeholders-latest-guardian-attack/" target="_blank">statement</a> on Thursday in response to the latest investigation by the <em>Guardian </em>and Corporate Accountability, suggesting that the <em>Guardian </em>has gone “dangerously off track when it comes to reporting on the VCM”.</p>



<p>At the end of May, an <a href="https://www.offshore-technology.com/news/chevron-carbon-offsets-junk-or-harmful/?cf-view" target="_blank">earlier investigation</a> by Corporate Accountability found that 93% of the carbon offsets used by oil and gas giant <a href="https://www.globaldata.com/store/report/?cdmsid=1544307&amp;scalar=true&amp;pid=310253&amp;sid=21" target="_blank">Chevron</a> “seem to be worthless” and should be presumed “junk” until proven otherwise. At the time a spokesperson for Chevron said the report was “biased against [the company’s] industry”.</p>
                
            </div>
    
<section>
                <header>
                                            <h2>More Relevant</h2>
                        <!--<a href="https://www.power-technology.com/" class="view-more-link">
                            View More
                        </a>-->
                    </header>
                        
                                            <!--<h2>Related Rankings</h2>
                        <a href="" class="view-more-link">
                            View More
                        </a>
                    </header>-->
                                    
            </section>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google Podcasts to shut down in 2024 (136 pts)]]></title>
            <link>https://techcrunch.com/2023/09/26/google-podcasts-to-shut-down-in-2024-with-listeners-migrated-to-youtube-music/</link>
            <guid>37659482</guid>
            <pubDate>Tue, 26 Sep 2023 14:04:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://techcrunch.com/2023/09/26/google-podcasts-to-shut-down-in-2024-with-listeners-migrated-to-youtube-music/">https://techcrunch.com/2023/09/26/google-podcasts-to-shut-down-in-2024-with-listeners-migrated-to-youtube-music/</a>, See on <a href="https://news.ycombinator.com/item?id=37659482">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<p id="speakable-summary">Google announced this morning it will be shutting down its Google Podcasts app later in 2024 as part of its broader transition to move its streaming listeners over to YouTube Music. The company earlier this year announced YouTube Music <a href="https://techcrunch.com/2023/04/27/youtube-music-officially-launches-podcasts-for-listeners-in-the-us/">would begin supporting podcasts in the U.S.</a>, which will expand globally by year-end, and more recently said it was adding the ability for <a href="https://techcrunch.com/2023/08/25/youtube-to-support-rss-uploads-for-podcasters-by-year-end-plus-private-feeds-in-youtube-music/">podcasters to upload their RSS feeds to YouTube</a> also by year-end.</p>
<p>Today, Google says it plans on further increasing its investment in the podcast experience on YouTube Music and making it more of a destination for podcast fans with features focused on discovery, community, and switching between audio podcasts and video. The latter is something rival Spotify has also been working on with its <a href="https://techcrunch.com/2022/11/15/spotifys-video-podcast-publishing-tools-expand-to-creators-worldwide/">rollout of video podcast support</a> to creators worldwide last year along with <a href="https://techcrunch.com/2023/03/08/spotify-is-revamping-its-podcaster-tools-including-anchor-and-is-partnering-with-patreon/">community features like Q&amp;As and polls.</a></p>
<p>However, to make YouTube Music the new home for podcasts, that means moving users away from the current offering, Google Podcasts. The company notes this plan reflects how people are already listening. According to Edison, about 23% of weekly podcast users in the U.S. say YouTube is their most frequently used service versus just 4% for Google Podcasts.</p>
<p>To help users with the transition to YouTube Music, the company will offer Google Podcast users a migration tool and the ability to add podcast RSS feeds to their YouTube Music library, including shows that aren’t currently hosted by YouTube — something <a href="https://techcrunch.com/2023/08/25/youtube-to-support-rss-uploads-for-podcasters-by-year-end-plus-private-feeds-in-youtube-music/">it had announced last month was in the works.</a> These migration tools aren’t yet available but will be worked on in the coming weeks and months before being rolled out to all users.</p>
<p>In addition, Google will also support the option to download an OPML file of their show subscriptions from Google Podcasts, which they can upload to any app that supports importing if they don’t want to move to YouTube Music.</p>
<p>“We know this transition will take time, but these efforts will allow us to build an amazing product and a single destination that rewards creators and artists and provides fans with the best Podcasts experience,” <a href="https://blog.youtube/news-and-events/creating-a-centralized-podcast-destination-on-youtube-music/">a YouTube blog post explained.</a> “For now, nothing is changing and fans will continue to have access to YouTube, YouTube Music, and Google Podcasts. We’re committed to being transparent in communicating future changes with our users and podcasters and will have more to share about this process in the coming months,” it said.</p>
<p>Google has been slowly shifting users away from older products in its effort to make YouTube Music more of a competitor to Spotify, Apple Music, Amazon Music and others. In 2020, YouTube Music offered a similar transition strategy to <a href="https://techcrunch.com/2020/05/12/youtube-music-adds-a-transfer-option-ahead-of-google-play-musics-shutdown-this-year/">move music listeners away from Google Play Music ahead of its shutdown</a> that year. However, podcasts have a more difficult product because so many users turn to YouTube itself to listen to podcasts, not to the dedicated Google Podcasts app. Meanwhile, YouTube Music hasn’t been ready to support podcasts until more recently.</p>
<p>The move will leave only Apple among the major players that hasn’t consolidated music and podcasts into a single destination, as Spotify, Amazon and Pandora all offer both types of audio in their flagship applications.</p>
			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Firefox 118 (282 pts)]]></title>
            <link>https://www.mozilla.org/en-US/firefox/118.0/releasenotes/</link>
            <guid>37658915</guid>
            <pubDate>Tue, 26 Sep 2023 13:22:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.mozilla.org/en-US/firefox/118.0/releasenotes/">https://www.mozilla.org/en-US/firefox/118.0/releasenotes/</a>, See on <a href="https://news.ycombinator.com/item?id=37658915">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  <article id="main-content">

    
    <header>
      <div>
          
            <p>Version 118.0, first offered to Release channel users on September 26, 2023</p>
            
          
        </div></header>
  

    <section>
    
      
        
          <div>
              <ul>
        
        
  <li id="note-789750">
    <p>Automated translation of web content is now available to Firefox users! Unlike cloud-based alternatives, translation is done locally in Firefox, so that the text being translated does not leave your machine.</p>
    
  </li>

        
      
        
        
  <li id="note-789751">
    <p>Web Audio in Firefox now uses the FDLIBM math library on all systems to improve anonymity with <a href="https://support.mozilla.org/kb/firefox-protection-against-fingerprinting">Fingerprint Protection</a>.</p>
    
  </li>

        
      
        
        
  <li id="note-789752">
    <p>The visibility of fonts to websites has been restricted to system fonts and language pack fonts to mitigate font fingerprinting in Private Browsing windows.</p>
    
  </li>

        
      
        
        
  <li id="note-789753">
    <p>Video Effects and background blur are now available to Firefox users on Google Meet! (Note: These effects have also been released retroactively to support Firefox versions back to Firefox 115.)</p>
    
  </li>

        
      
        
        
  <li id="note-789762">
    <p>Firefox Suggest users (US-only at this time) will now be able to see browser add-on suggestions right in the address bar based on their keywords.</p>
    
  </li>

        
              </ul>
            </div>
        
      

      
        
          <div>
              <ul>
        
        
  <li id="note-789761">
    <p>Various <a href="https://www.mozilla.org/en-US/security/advisories/mfsa2023-41/">security</a> fixes.</p>
    
  </li>

        
              </ul>
            </div>
        
      

      

      
        
          <div>
              <ul>
        
        
  <li id="note-789754">
    <p>You can find information about policy updates and enterprise specific bug fixes in the <a href="https://support.mozilla.org/kb/firefox-enterprise-118-release-notes">Firefox for Enterprise 118 Release Notes</a>.</p>
    
  </li>

        
              </ul>
            </div>
        
      

      
      

      
        
        
          
        
      

      
        
          <div>
              <ul>
        
        
  <li id="note-789695">
    <p>10 new CSS math functions are now supported: round, mod, rem, pow, sqrt, hypot, log, exp, abs, sign.</p>
    
  </li>

        
      
        
        
  <li id="note-789744">
    <p><a href="https://github.com/annevk/orb">OpaqueResponseBlocking</a> is now enabled by default.</p>
    
  </li>

        
              </ul>
            </div>
        
      

      

      

      

      
        
          <div id="community">
            <ul>
        
        
  <li id="note-789755">
    <p>With the release of Firefox 118, we are pleased to welcome the developers who contributed their first code change to Firefox in this release, 8 of whom were brand new volunteers! Please join us in thanking each of these diligent and enthusiastic individuals, and take a look at their contributions:</p>
<ul>
<li>Andrew de Rozario: <a href="https://bugzilla.mozilla.org/1791983">1791983</a></li>
<li>jackyzy823: <a href="https://bugzilla.mozilla.org/1847513">1847513</a></li>
<li>Janne Heß: <a href="https://bugzilla.mozilla.org/1460986">1460986</a></li>
<li>Krishna Ravishankar: <a href="https://bugzilla.mozilla.org/1578994">1578994</a></li>
<li>Rayyan: <a href="https://bugzilla.mozilla.org/1844745">1844745</a></li>
<li>Shauryadubey123: <a href="https://bugzilla.mozilla.org/1819352">1819352</a></li>
<li>Simon Thoby: <a href="https://bugzilla.mozilla.org/1832576">1832576</a>, <a href="https://bugzilla.mozilla.org/1847763">1847763</a></li>
<li>wujiahuan: <a href="https://bugzilla.mozilla.org/1782159">1782159</a></li>
</ul>
    
  </li>

        
            </ul>
          </div>
        
      
    
    </section>

    <div>
      <p>
        <h2>Get the most recent version</h2>
        
      </p>
    </div>

    
    <section>
      <a href="https://www.mozilla.org/en-US/firefox/all/#product-desktop-release">All Firefox downloads</a>
    </section>
    

    
    
    
</article>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google is picking ChatGPT responses from Quora as correct answer (324 pts)]]></title>
            <link>https://twitter.com/8teapi/status/1706520893621784780</link>
            <guid>37658319</guid>
            <pubDate>Tue, 26 Sep 2023 12:31:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/8teapi/status/1706520893621784780">https://twitter.com/8teapi/status/1706520893621784780</a>, See on <a href="https://news.ycombinator.com/item?id=37658319">Hacker News</a></p>
Couldn't get https://twitter.com/8teapi/status/1706520893621784780: Error [ERR_FR_TOO_MANY_REDIRECTS]: Maximum number of redirects exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Google assigns a CVE for libwebp and gives it a 10.0 score (203 pts)]]></title>
            <link>https://stackdiary.com/heap-buffer-overflow-in-libwebp-cve-2023-5129/</link>
            <guid>37657746</guid>
            <pubDate>Tue, 26 Sep 2023 11:33:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://stackdiary.com/heap-buffer-overflow-in-libwebp-cve-2023-5129/">https://stackdiary.com/heap-buffer-overflow-in-libwebp-cve-2023-5129/</a>, See on <a href="https://news.ycombinator.com/item?id=37657746">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="text">
							
<p>In case you missed the news, there's a critical 0day in WebP (a heap buffer overflow in the <a href="https://github.com/webmproject/libwebp" target="_blank" rel="noreferrer noopener">libwepb</a> library) floating about, which was initially issued as <a href="https://stackdiary.com/critical-vulnerability-in-webp-codec-cve-2023-4863/" target="_blank" rel="noreferrer noopener">CVE-2023-4863</a> and assigned <a href="https://chromereleases.googleblog.com/2023/09/stable-channel-update-for-desktop_11.html" target="_blank" rel="noreferrer noopener">specifically to Google Chrome</a>. At the time this happened, I wrote my blog post about it and vehemently tried to make it clear that it wasn't just Chrome that was affected, but any software that uses libwebp to render WebP images.</p>



<p><em>That story exploded. 🤯</em></p>



<p>I've just taken note that Google has issued a separate CVE, which is tracked under <a href="https://www.cve.org/CVERecord?id=CVE-2023-5129" target="_blank" rel="noreferrer noopener nofollow">CVE-2023-5129</a>,</p>



<p>With a specially crafted WebP lossless file, libwebp may write data out of bounds to the heap. The ReadHuffmanCodes() function allocates the HuffmanCode buffer with a size that comes from an array of precomputed sizes: kTableSize. The color_cache_bits value defines which size to use. The kTableSize array only takes into account sizes for 8-bit first-level table lookups but not second-level table lookups. libwebp allows codes that are up to 15-bit (MAX_ALLOWED_CODE_LENGTH). When BuildHuffmanTable() attempts to fill the second-level tables it may write data out-of-bounds. The OOB write to the undersized array happens in ReplicateValue.</p>



<p><em><strong>Important:</strong> If you're a news person or someone who isn't sure - this is not a new bug in libwebp; it's the same bug as previously, but now it has been correctly marked as a bug inside the WebP Codec and not just a "bug inside Google Chrome".</em></p>



<p>And Google is not beating around the bush either; they've straight up given it a 10.0 base score.</p>



<figure><img decoding="async" width="998" height="393" src="https://stackdiary.com/wp-content/uploads/2023/09/CVE-2023-5129-severity.png" alt="CVE-2023-5129 severity" srcset="https://stackdiary.com/wp-content/uploads/2023/09/CVE-2023-5129-severity.png 998w, https://stackdiary.com/wp-content/uploads/2023/09/CVE-2023-5129-severity-300x118.png 300w, https://stackdiary.com/wp-content/uploads/2023/09/CVE-2023-5129-severity-768x302.png 768w" sizes="(max-width: 998px) 100vw, 998px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20998%20393'%3E%3C/svg%3E" data-lazy-srcset="https://stackdiary.com/wp-content/uploads/2023/09/CVE-2023-5129-severity.png 998w, https://stackdiary.com/wp-content/uploads/2023/09/CVE-2023-5129-severity-300x118.png 300w, https://stackdiary.com/wp-content/uploads/2023/09/CVE-2023-5129-severity-768x302.png 768w" data-lazy-src="https://stackdiary.com/wp-content/uploads/2023/09/CVE-2023-5129-severity.png"><figcaption><em>The Impact score is 6.0, and the Exploitability score is 3.9.</em></figcaption></figure>



<p>And it's what they should have done in the first place.</p>



<h2>Who is and isn't affected?</h2>



<p>The versions affected by this bug are <strong>from 0.5.0 before 1.3.2</strong>. The type of software affected is pretty much any software that directly uses the WebP Codec to render images. Just in the last two weeks alone, outside of web browsers (most of which should be patched now) - I have seen Red Hat to Debian to software like Puppeteer and the .NET library for ImageMagick patching it. Honestly, I have no idea of the full scope of this, and it's not that easy to track who is or isn't actively patching it.</p>



<p>Ben Hawkes (former Project Zero manager) also <a href="https://blog.isosceles.com/the-webp-0day/" target="_blank" rel="noreferrer noopener">wrote about this 0day</a>, and he had this to say about it:</p>



<p>The bad news is that Android is still likely affected. Similar to Apple's ImageIO, Android has a facility called the&nbsp;<a href="https://developer.android.com/reference/android/graphics/BitmapFactory?ref=blog.isosceles.com">BitmapFactory</a>&nbsp;that handles image decoding, and of course libwebp is supported. As of today, Android hasn't released a security bulletin that includes a fix for CVE-2023-4863 -- although the fix has been merged into AOSP. To put this in context: if this bug does affect Android, then it could potentially be turned into a remote exploit for apps like Signal and WhatsApp. I'd expect it to be fixed in the October bulletin.</p>



<p>Ben's article also has a Proof of Concept example and other interesting notes; make sure to check it out.</p>



<p>But the real question is, why didn't Google tag it specifically for libwebp in the first place? I mean, it clearly was much broader than just Chrome (and many news editorials failed to pick this up initially), and now they've gone ahead and assigned a separate CVE. </p>



<p>And it makes me wonder if the best thing wouldn't be to merge both CVEs to avoid any further confusion.</p>
							</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Who Lusts for Certainty Lusts for Lies (249 pts)]]></title>
            <link>https://www.etymonline.com/columns/post/who-lusts-for-certainty-lusts-for-lies</link>
            <guid>37657368</guid>
            <pubDate>Tue, 26 Sep 2023 10:50:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.etymonline.com/columns/post/who-lusts-for-certainty-lusts-for-lies">https://www.etymonline.com/columns/post/who-lusts-for-certainty-lusts-for-lies</a>, See on <a href="https://news.ycombinator.com/item?id=37657368">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>We need to talk about the Google Ngram Viewer n-grams. They are wrong. [D.R.H.]</p><section><p>Here's the Ngram's idea of the frequency of the word <strong><span>said</span></strong>:</p> 
<p><img src="https://cdn.etymonline.com/pictures/7e45901b5b1856dffde4625ce1b5783a.png"></p> 
<p>It doesn't look like an indicator of the diachronic change in the popularity of a very common English verb during the 20th century. It looks like the temperature graph of the last ice age. Younger people, rest assured that English authors in the 1970s did not all stop using "said" and then start again.</p> 
<p>Talia Felix and I plow in Google Books every day, researching. It is a marvel of a resource, but we know by experience how ineptly assembled that database is. And how many booby-traps lie hidden in it.</p> 
<p>I cannot tell you much about how AI works. But I can tell you how AI handles something I know how to handle. Here's another example. "The Great Toast Famine of '77"</p> 
<p><img src="https://cdn.etymonline.com/pictures/ebe7cc61ca9a9a7052b6eb2cbdf5417d.png"></p> 
<p>Ngram says <strong><span>toast</span></strong> almost vanishes from the English language by 1980, and then it pops back up.</p> 
 
<p><strong>WHY THAT'S WRONG</strong></p> 
<p>There's a <a href="https://www.google.com/search?q=Ngram+inaccurate&amp;sca_esv=563166832&amp;gs_lp=Egxnd3Mtd2l6LXNlcnAiEE5ncmFtIGluYWNjdXJhdGUyBRAAGKIEMgUQABiiBDIFEAAYogQyBRAAGKIESM8HUFVYrwVwAXgBkAEAmAGzAaABmQKqAQMwLjK4AQPIAQD4AQHCAgoQABhHGNYEGLAD4gMEGAAgQYgGAZAGCA" rel="nofollow" target="_blank">long-documented flaw</a> in the Ngram formula, inherited from Google Books. The error makes a vast number of English words appear to be diminishing in use through the 20th century only to revive around 1980.</p> 
<p>A rough gist of an explanation for it seems to be that Google Books' corpus is heavily academic. The printed matter Google sucked up from universities had a disproportion of modern scientific and academic journals in it. The articles in those journals and textbooks lean on the same few words (as academics are wont to do when they write).</p> 
<p>That not only bloats the scores for those few words, it falsely drives down the other words. That creates that mid-20th-century "dip" in the Ngram of almost every word.</p> 
<p><strong><span>Said</span></strong> likely appears less often in academic writing than in other writing, such as a novel or a newspaper. But academic papers use words such as, say, <strong><span>graph</span></strong>, a good deal more often. And here's what the Ngram for <strong><span>graph</span></strong> looks like in the 20th century:</p> 
<p><img src="https://cdn.etymonline.com/pictures/2a6e1c82c744e08c1f00ec63f2afaa6e.png"></p> 
<p>See? No dip.</p> 
<p>That's just one error. Here's another: If you look at an Ngram for <a href="https://www.etymonline.com/search?q=fuck" rel="nofollow" target="_blank">the F-word</a>, you'll see very little use of it until modern times, which is expected. But the number of hits for it jumps up as you go back past about 1820, and keeps rising into the late 1700s (if you could see it). Those are all the word <strong><span>suck</span></strong>, written with the old "long " <strong>-s-</strong> — the printer's <strong>-ſ-</strong>. It looks like a lower-case <strong>-f-</strong>, in worn-down fonts on cheap paper in old libraries. The use of that character faded out about 1820. Sometimes only context tells you whether it is an <span>-f-</span> or an <span>-s-</span>. AI has no clue.</p> 
<p>Here's another: Google Books fails to recognize identity in variant spellings. The Ngram for <strong>authorise</strong> is different from that for <strong>authorize</strong>, and neither counts <strong>authorizes</strong>. Google doesn't count plural forms in the noun Ngrams. It can't tell <strong>dog</strong> from <strong>dogs</strong>.</p> 
<p>Worse, many of Google Books' files are misdated. On a battered library book, an "1896" on the cover page can look like "1800" to a digital scanner. A stack of Bible tracts from the 1910s long appeared in Google Books as published in 1799. That date did appear on all their covers — on the logo of the Bible tract society that printed them, as the date of its founding. I hardly trust Google Books dated search results to be right five times in a row. <a href="https://youtu.be/GG8qDmoR3dw?si=jxMQnyuu8fUJmLl8" rel="nofollow" target="_blank">We even made a video about it</a>.</p> 
 
<p><strong>BUT PEOPLE WANT THEM</strong></p> 
<p>The text of Etymonline is built entirely from print sources, and is done entirely by human beings. Ngrams are not. They are unreliable, a sloppy product of an ignorant technology, one made to sell and distract, one never taught the difference between "influence" and "inform."</p> 
<p>Why are they on the site at all? Because now, online, pictures win and words lose. The war is over; they won. Just remember: Ngrams are unreliable. Even if the world now prefers Ngram reality, where the word "said" went into eclipse with Jimmy Carter, you're allowed to be smarter than that.</p> 
<p>When you see an Ngrams on etymonline or anywhere else, admire it as decorative, whimsical, a gourami tank in a restaurant, abstract art on hotel walls, blueprints for roller-coasters. And where the Ngrams disagree with etymonline on a first date, presume we're right and they're wrong.</p></section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Spain cancels Pegasus spyware investigation because Israel is not co-operating (288 pts)]]></title>
            <link>https://www.theguardian.com/world/2023/jul/10/spain-closes-pegasus-investigation-over-lack-of-cooperation-from-israel</link>
            <guid>37657334</guid>
            <pubDate>Tue, 26 Sep 2023 10:46:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theguardian.com/world/2023/jul/10/spain-closes-pegasus-investigation-over-lack-of-cooperation-from-israel">https://www.theguardian.com/world/2023/jul/10/spain-closes-pegasus-investigation-over-lack-of-cooperation-from-israel</a>, See on <a href="https://news.ycombinator.com/item?id=37657334">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent"><p>A Spanish judge investigating the alleged hacking of ministers’ phones with Pegasus spyware has shelved his investigation over a “complete” lack of cooperation from <a href="https://www.theguardian.com/world/israel" data-link-name="in body link">Israel</a>, a court statement said on Monday.</p><p>In June 2022, José Luis Calama said he had sent a formal request for international judicial assistance, known as a letter rogatory, to the Israeli government asking for information about the software made by the Israeli firm NSO Group.</p><p>He also said he wanted to go there in person to take a witness statement from NSO’s chief executive.</p><p>But on Monday, the Audiencia Nacional, <a href="https://www.theguardian.com/world/spain" data-link-name="in body link">Spain</a>’s top criminal court, said Calama had decided to provisionally close the case “due to the complete lack of legal cooperation from Israel, which has not responded to the rogatory commission … and has prevented the investigation from going ahead”.</p><p>The investigation began in May 2022 after the Spanish government said the spyware, which can infiltrate mobile phones to extract data or activate a camera or microphone to spy on their owners, <a href="https://www.theguardian.com/world/2022/may/03/over-200-spanish-mobile-numbers-possible-targets-pegasus-spyware" data-link-name="in body link">had been used against phones belonging to top politicians</a>.</p><figure id="56a31631-1cfb-471f-93fd-f7145973c18e" data-spacefinder-role="richLink" data-spacefinder-type="model.dotcomrendering.pageElements.RichLinkBlockElement"><gu-island name="RichLinkComponent" deferuntil="idle" props="{&quot;richLinkIndex&quot;:5,&quot;element&quot;:{&quot;_type&quot;:&quot;model.dotcomrendering.pageElements.RichLinkBlockElement&quot;,&quot;url&quot;:&quot;https://www.theguardian.com/world/2022/may/03/over-200-spanish-mobile-numbers-possible-targets-pegasus-spyware&quot;,&quot;text&quot;:&quot;Over 200 Spanish mobile numbers ‘possible targets of Pegasus spyware’&quot;,&quot;prefix&quot;:&quot;Related: &quot;,&quot;role&quot;:&quot;richLink&quot;,&quot;elementId&quot;:&quot;56a31631-1cfb-471f-93fd-f7145973c18e&quot;},&quot;ajaxUrl&quot;:&quot;https://api.nextgen.guardianapps.co.uk&quot;,&quot;format&quot;:{&quot;display&quot;:0,&quot;theme&quot;:0,&quot;design&quot;:0}}" config="{&quot;renderingTarget&quot;:&quot;Web&quot;}"></gu-island></figure><p>Among those targeted were the phones of the prime minister, Pedro Sánchez; the defence minister, Margarita Robles; the interior minister, Fernando Grande-Marlaska, and the agriculture minister, Luis Planas.</p><p>But the Israeli government had not answered the request for assistance, which had been sent four times, meaning “it probably never would”, the court said in a statement, indicating the only remaining option was diplomacy.</p><p>“All that remains is a possible diplomatic channel capable of promoting compliance with the obligations derived from international treaties,” it said.</p><p>The court said Sánchez’s phone had been targeted on five occasions between October 2020 and December 2021. But despite a prolonged analysis of the four phones, it had not been possible to determine who was behind the attacks, the statement said.</p><p>Spain’s government has blamed it on “an external attack” while the Spanish press has pointed the finger at Morocco, given the diplomatic crisis between the two countries at the time.</p><p>The Guardian and El País <a href="https://www.theguardian.com/world/2020/jul/13/phone-of-top-catalan-politician-targeted-by-government-grade-spyware" data-link-name="in body link">first reported in June 2020</a> that the speaker of the Catalan regional parliament, Roger Torrent, and at least two other pro-independence supporters had been alerted that they had been targeted in what at the time was called a “possible case of domestic political espionage”. Dozens more cases were later identified in April 2022,<strong> </strong>when researchers at the Citizen Lab at the University of Toronto’s Munk school published a report saying <a href="https://www.theguardian.com/world/2022/apr/18/catalan-leaders-targeted-using-nso-spyware-say-cybersecurity-experts" data-link-name="in body link">the phones of at least 65 Catalan separatists had been targeted using Pegasus</a> after the failed 2017 independence bid.</p><p>NSO has said its spyware is sold to government clients only for the purposes of investigating serious crime and terrorism. It has said it investigates legitimate allegations of abuse.</p><p>The spy chief Paz Esteban told a parliamentary committee in 2022 that 18 Catalan separatists, including the Catalan regional leader, Pere Aragonès, had been spied on with Pegasus software – but always with court approval. She <a href="https://www.theguardian.com/world/2022/may/10/spains-spy-chief-paz-esteban-sacked-after-pegasus-spyware-revelations" data-link-name="in body link">was later sacked</a>.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[NSA, FBI, and CISA Release Cybersecurity Information Sheet on Deepfake Threats (132 pts)]]></title>
            <link>https://www.cisa.gov/news-events/alerts/2023/09/12/nsa-fbi-and-cisa-release-cybersecurity-information-sheet-deepfake-threats</link>
            <guid>37656646</guid>
            <pubDate>Tue, 26 Sep 2023 09:26:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cisa.gov/news-events/alerts/2023/09/12/nsa-fbi-and-cisa-release-cybersecurity-information-sheet-deepfake-threats">https://www.cisa.gov/news-events/alerts/2023/09/12/nsa-fbi-and-cisa-release-cybersecurity-information-sheet-deepfake-threats</a>, See on <a href="https://news.ycombinator.com/item?id=37656646">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <p>Today, the National Security Agency (NSA), the Federal Bureau of Investigation (FBI), and the Cybersecurity and Infrastructure Security Agency (CISA) released a Cybersecurity Information Sheet (CSI), <a href="https://media.defense.gov/2023/Sep/12/2003298925/-1/-1/0/CSI-DEEPFAKE-THREATS.PDF" title="Contextualizing Deepfake Threats to Organizations">Contextualizing Deepfake Threats to Organizations</a>, which provides an overview of synthetic media threats, techniques, and trends. Threats from synthetic media, such as deepfakes, have exponentially increased—presenting a growing challenge for users of modern technology and communications, including the National Security Systems (NSS), the Department of Defense (DoD), the Defense Industrial Base (DIB), and national critical infrastructure owners and operators. Between 2021 and 2022, U.S. Government agencies collaborated to establish a set of employable best practices to take in preparation and response to the growing threat. Public concern around synthetic media includes disinformation operations, designed to influence the public and spread false information about political, social, military, or economic issues to cause confusion, unrest, and uncertainty.</p>
<p>The authoring agencies urge organizations review <a href="https://media.defense.gov/2023/Sep/12/2003298925/-1/-1/0/CSI-DEEPFAKE-THREATS.PDF" title="Contextualizing Deepfake Threats to Organizations">the CSI</a>&nbsp;for recommended steps and best practices to prepare, identify, defend against, and respond to deepfake threats.</p>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[FCC Aims to Reinstate Net Neutrality After US Democrats Gain Control of Panel (269 pts)]]></title>
            <link>https://www.bloomberg.com/news/articles/2023-09-26/fcc-aims-to-reinstate-net-neutrality-rules-as-us-democrats-gain-control-of-panel</link>
            <guid>37656170</guid>
            <pubDate>Tue, 26 Sep 2023 08:28:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bloomberg.com/news/articles/2023-09-26/fcc-aims-to-reinstate-net-neutrality-rules-as-us-democrats-gain-control-of-panel">https://www.bloomberg.com/news/articles/2023-09-26/fcc-aims-to-reinstate-net-neutrality-rules-as-us-democrats-gain-control-of-panel</a>, See on <a href="https://news.ycombinator.com/item?id=37656170">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
    <section>
        <h3>Why did this happen?</h3>
        <p>Please make sure your browser supports JavaScript and cookies and that you are not
            blocking them from loading.
            For more information you can review our <a href="https://www.bloomberg.com/notices/tos">Terms of
                Service</a> and <a href="https://www.bloomberg.com/notices/tos">Cookie Policy</a>.</p>
    </section>
    <section>
        <h3>Need Help?</h3>
        <p>For inquiries related to this message please <a href="https://www.bloomberg.com/feedback">contact
            our support team</a> and provide the reference ID below.</p>
        <p>Block reference ID:</p>
    </section>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[AI is fundamentally ‘a surveillance technology’ (198 pts)]]></title>
            <link>https://techcrunch.com/2023/09/25/signals-meredith-whittaker-ai-is-fundamentally-a-surveillance-technology/</link>
            <guid>37656091</guid>
            <pubDate>Tue, 26 Sep 2023 08:18:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://techcrunch.com/2023/09/25/signals-meredith-whittaker-ai-is-fundamentally-a-surveillance-technology/">https://techcrunch.com/2023/09/25/signals-meredith-whittaker-ai-is-fundamentally-a-surveillance-technology/</a>, See on <a href="https://news.ycombinator.com/item?id=37656091">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<p id="speakable-summary">Why is it that so many companies that rely on monetizing the data of their users seem to be extremely hot on AI? If you ask Signal president Meredith Whittaker (and I did), she’ll tell you it’s simply because “AI is a surveillance technology.”</p>
<p><a href="https://youtu.be/amNriUZNP8w" target="_blank" rel="noopener">Onstage at TechCrunch Disrupt 2023</a>, Whittaker explained her perspective that AI is largely inseparable from the big data and targeting industry perpetuated by the likes of Google and Meta, as well as less consumer-focused but equally prominent enterprise and defense companies. (Her remarks lightly edited for clarity.)</p>
<p>“It requires the surveillance business model; it’s an exacerbation of what we’ve seen since the late ’90s and the development of surveillance advertising. AI is a way, I think, to entrench and expand the surveillance business model,” she said. “The Venn diagram is a circle.”</p>
<p>“And the use of AI is also surveillant, right?” she continued. “You know, you walk past a facial recognition camera that’s instrumented with pseudo-scientific emotion recognition, and it produces data about you, right or wrong, that says ‘you are happy, you are sad, you have a bad character, you’re a liar, whatever.’ These are ultimately surveillance systems that are being marketed to those who have power over us generally: our employers, governments, border control, etc., to make determinations and predictions that will shape our access to resources and opportunities.”</p>
<p>Ironically, she pointed out, the data that underlies these systems is frequently organized and annotated (a necessary step in the AI dataset assembly process) by the very workers at whom it can be aimed.</p>
<p>“There’s no way to make these systems without human labor at the level of informing the ground truth of the data — reinforcement learning with human feedback, which again is just kind of tech-washing precarious human labor. It’s thousands and thousands of workers paid very little, though en masse it’s very expensive, and there’s no other way to create these systems, full stop,” she explained. “In some ways what we’re seeing is a kind of Wizard of Oz phenomenon, when we pull back the curtain there’s not that much that’s intelligent.”</p>

<p>Not all AI and machine learning systems are equally exploitative, though. When I asked if Signal uses any AI tools or processes in its app or development work, she confirmed that the app has a “small on-device model that we didn’t develop, we use it off the shelf, as part of the face blur feature in our media editing toolset. It’s not actually that good… but it helps detect faces in crowd photos and blur them, so that when you share them on social media you’re not revealing people’s intimate biometric data to, say, Clearview.”</p>
<p>“But here’s the thing. Like… yeah, that’s a great use of AI, and doesn’t that just disabuse us of all this negativity I’ve been throwing out onstage,” she added. “Sure, if that were the only market for facial recognition… but let’s be clear. The economic incentives that drive the very expensive process of developing and deploying facial recognition technology would never let that be the only use.”</p>
			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[macOS Containers v0.0.1 (431 pts)]]></title>
            <link>https://macoscontainers.org/</link>
            <guid>37655477</guid>
            <pubDate>Tue, 26 Sep 2023 07:01:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://macoscontainers.org/">https://macoscontainers.org/</a>, See on <a href="https://news.ycombinator.com/item?id=37655477">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
			
			<p><img src="https://macoscontainers.org/assets/images/favicon.svg" alt="macOS Containers logo"></p>



<p>Containers have fundamentally changed the way that modern software is developed and deployed. Containers are supported by a wide range of operating systems including FreeBSD, Solaris, Linux and even Windows, but are not natively supported by macOS. <strong>Until now.</strong></p>

<p>We’re announcing initial 0.0.1 release of macOS native containers.  Yes, you can now <strong>run macOS inside macOS</strong>, build images using Docker and distribute them using registries.</p>

<p><img src="https://macoscontainers.org/assets/images/showcase.png" alt="Showcase"></p>

<p>So what are you waiting for? Installation is available via <a href="https://github.com/macOScontainers/homebrew-formula#installation">Homebrew</a>.</p>



			
		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Inside the Matrix: Visualizing Matrix Multiplication, Attention and Beyond (189 pts)]]></title>
            <link>https://pytorch.org/blog/inside-the-matrix/</link>
            <guid>37655094</guid>
            <pubDate>Tue, 26 Sep 2023 06:11:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://pytorch.org/blog/inside-the-matrix/">https://pytorch.org/blog/inside-the-matrix/</a>, See on <a href="https://news.ycombinator.com/item?id=37655094">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
                    
                    <p><em>Use 3D to visualize matrix multiplication expressions, attention heads with real weights, and more.</em></p>

<p>Matrix multiplications (matmuls) are the building blocks of today’s ML models. This note presents <a href="https://bhosmer.github.io/mm/ref.html">mm</a>, a visualization tool for matmuls and compositions of matmuls.</p>

<p>Because mm uses all three spatial dimensions, it helps build intuition and spark ideas with less cognitive overhead than the usual squares-on-paper idioms, especially (though not only) for visual/spatial thinkers.</p>

<p>And with three dimensions available for <em>composing</em> matmuls, along with the ability to load trained weights, we can visualize big, compound expressions like attention heads and observe how they actually behave, using im.</p>

<p>mm is fully interactive, runs <a href="https://bhosmer.github.io/mm/">in the browser</a> or <a href="https://colab.research.google.com/drive/1wZIoU20eRWKtRNCW7e5Iugm3MhfaE1f7">notebook iframes</a> and keeps its complete state in the URL, so links are shareable sessions (the screenshots and videos in this note all have links that open the visualizations in the tool). This <a href="https://bhosmer.github.io/mm/ref.html">reference guide</a> describes all of the available functionality.</p>

<p>We’ll first introduce the visualization approach, build intuition by visualizing some simple matmuls and expressions, then dive into some more extended examples:</p>

<ol>
  <li><strong>Pitch</strong> - why is this way of visualizing better?</li>
  <li><strong>Warmup - animations</strong> - watching the canonical matmul decompositions in action</li>
  <li><strong>Warmup - expressions</strong> - a quick tour of some fundamental expression building blocks</li>
  <li><strong>Inside an attention head</strong> - an in-depth look at the structure, values and computation behavior of a couple of attention heads from GPT2 via <a href="https://github.com/karpathy/nanoGPT">NanoGPT</a></li>
  <li><strong>Parallelizing attention</strong> - visualizing attention head parallelization with examples from the recent <a href="https://arxiv.org/pdf/2305.19370.pdf">Blockwise Parallel Transformer</a> paper</li>
  <li><strong>Sizes in an attention layer</strong> - what do the MHA and FFA halves of an attention layer look like together, when we visualize a whole layer as a single structure? How does the picture change during autoregressive decoding?</li>
  <li><strong>LoRA</strong> - a visual explanation of this elaboration of the attention head architecture</li>
  <li><strong>Wrapup</strong> - next steps and call for feedback</li>
</ol>

<h2 id="1-pitch">1 Pitch</h2>

<p><a href="https://bhosmer.github.io/mm/ref.html">mm</a>’s visualization approach is based on the premise that <em>matrix multiplication is fundamentally a three-dimensional operation</em>.</p>

<p>In other words this:</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/matmul3.jpg" alt="matrix multiplication is fundamentally a three-dimensional operation"></p>

<p>is a sheet of paper trying to be this (<a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A32%2C%22w%22%3A24%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22open%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22open%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A20%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22none%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A3%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22closed%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0.5%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22closed%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22semilocal%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A0.8227%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-48.763575165818956%2C%22y%22%3A43.72517618222101%2C%22z%22%3A33.70077275818966%2C%22target%22%3A%7B%22x%22%3A0%2C%22y%22%3A0%2C%22z%22%3A0%7D%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/initial.jpg" alt="wrap the matmul around a cube"></p>

<p>When we wrap the matmul around a cube this way, the correct relationships between argument shapes, result shape and shared dimensions all fall into place.</p>

<p>Now the computation makes <em>geometric sense</em>: each location <code>i, j</code> in the result matrix anchors a vector running along the depth dimension <code>k</code> in the cube’s interior, where the horizontal plane extending from row <code>i</code> in <code>L</code> and a vertical plane extending from column <code>j</code> in <code>R</code> intersect. Along this vector, pairs of <code>(i, k)</code> <code>(k, j)</code> elements from the left and right arguments meet and are multiplied, and the resulting products are summed along <code>k</code> and the result is deposited in location <code>i, j</code> of the result.</p>

<p>(Jumping ahead momentarily, <a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A32%2C%22w%22%3A24%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22open%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22open%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A48%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22dotprod%20(row%20major)%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A5%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22open%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0.5%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22closed%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22semilocal%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A1%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-54.145594172414235%2C%22y%22%3A48.55110882721702%2C%22z%22%3A37.42031544768185%2C%22target%22%3A%7B%22x%22%3A0%2C%22y%22%3A0%2C%22z%22%3A0%7D%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">here’s an animation</a>.)</p>

<p>This is the <em>intuitive</em> meaning of matrix multiplication:</p>

<ol>
  <li><strong>project</strong> two orthogonal matrices into the interior of a cube</li>
  <li><strong>multiply</strong> the pair of values at each intersection, forming a grid of products</li>
  <li><strong>sum</strong> along the third orthogonal dimension to produce a result matrix.</li>
</ol>

<p>For orientation, the tool displays an arrow in the cube’s interior that points towards the result matrix, with a blue vane coming from the left argument and a <strong>r</strong>ed vane coming from the <strong>r</strong>ight argument. The tool also displays white guidelines to indicate the row axis of each matrix, though they’re faint in this screenshot.</p>

<p>The layout constraints are straightforward:</p>

<ul>
  <li>left argument and result must be adjoined along their shared <strong>height</strong> (i) dimension</li>
  <li>right argument and result must be adjoined along their shared <strong>width</strong> (j) dimension</li>
  <li>left and right arguments must be adjoined along their shared (left width/right height) dimension, which becomes the matmul’s <strong>depth</strong> (k) dimension</li>
</ul>

<p>This geometry gives us a solid foundation for visualizing all the standard matmul decompositions, and an intuitive basis for exploring nontrivially complex <em>compositions</em> of matmuls, as we’ll see below.</p>

<h2 id="2-warmup---animations">2 Warmup - animations</h2>

<p>Before diving into some more complex examples, we’ll run through a few intuition builders to get a feel for how things look and feel in this style of visualization.</p>

<h3 id="2a-dot-product">2a Dot product</h3>

<p>First, the canonical algorithm - computing each result element by taking the dot product of the corresponding left row and right column. What we see in the animation is the sweep of multiplied value vectors through the cube’s interior, each delivering a summed result at the corresponding position.</p>

<p>Here, <code>L</code> has blocks of rows filled with 1 (blue) or -1 (red); <code>R</code> has column blocks filled similarly. <code>k</code> is 24 here, so the result matrix (<code>L @ R</code>) has blue values of 24 and red values of -24 (<a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A32%2C%22w%22%3A24%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22open%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22open%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A48%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22dotprod%20(row%20major)%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A5%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22open%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0.5%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22closed%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22semilocal%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A1%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-54.145594172414235%2C%22y%22%3A48.55110882721702%2C%22z%22%3A37.42031544768185%2C%22target%22%3A%7B%22x%22%3A0%2C%22y%22%3A0%2C%22z%22%3A0%7D%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">open in mm</a> - long click or control-click to inspect values):</p>



<h3 id="2b-matrix-vector-products">2b Matrix-vector products</h3>

<p>A matmul decomposed into matrix-vector products looks like a vertical plane (a product of the left argument with each column of the right argument) painting columns onto the result as it sweeps horizontally through the cube’s interior (<a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A32%2C%22w%22%3A24%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22closed%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22closed%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A12%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22mvprod%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A5%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22open%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0.5%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22closed%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22semilocal%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A1%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-54.145594172414235%2C%22y%22%3A48.55110882721702%2C%22z%22%3A37.42031544768185%2C%22target%22%3A%7B%22x%22%3A0%2C%22y%22%3A0%2C%22z%22%3A0%7D%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">open in mm</a>):</p>



<p>Observing the intermediate values of a decomposition can be quite interesting, even in simple examples.</p>

<p>For instance, note the prominent vertical patterns in the intermediate matrix-vector products when we use randomly initialized arguments- reflecting the fact that each intermediate is a column-scaled replica of the left argument (<a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A32%2C%22w%22%3A24%2C%22init%22%3A%22gaussian%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22(-Math.trunc(i%20%2F%208)%20%25%202)%20%2B%20.5%22%2C%22folder%22%3A%22open%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22gaussian%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22(-Math.trunc(j%20%2F%208)%20%25%202)%20%2B%20.5%22%2C%22folder%22%3A%22open%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A6%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22mvprod%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A5%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22open%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22open%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22local%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A1%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-54.14559417241423%2C%22y%22%3A48.55110882721702%2C%22z%22%3A37.42031544768186%2C%22target%22%3A%7B%22x%22%3A0%2C%22y%22%3A0%2C%22z%22%3A0%7D%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">open in mm</a>):</p>



<h3 id="2c-vector-matrix-products">2c Vector-matrix products</h3>

<p>A matmul decomposed into vector-matrix products looks like a horizontal plane painting rows onto the result as it descends through the cube’s interior (<a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A32%2C%22w%22%3A24%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22closed%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22closed%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A12%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22vmprod%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A5%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22open%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0.5%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22closed%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22semilocal%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A1%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-54.145594172414235%2C%22y%22%3A48.55110882721702%2C%22z%22%3A37.42031544768185%2C%22target%22%3A%7B%22x%22%3A0%2C%22y%22%3A0%2C%22z%22%3A0%7D%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">open in mm</a>):</p>



<p>Switching to randomly initialized arguments, we see patterns analogous to those we saw with matrix-vector products - only this time the patterns are horizontal, corresponding to the fact that each intermediate vector-matrix product is a row-scaled replica of the right argument.</p>

<p>When thinking about how matmuls express the rank and structure of their arguments, it’s useful to envision both of these patterns happening simultaneously in the computation (<a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A32%2C%22w%22%3A24%2C%22init%22%3A%22gaussian%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22(-Math.trunc(i%20%2F%208)%20%25%202)%20%2B%20.5%22%2C%22folder%22%3A%22open%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22gaussian%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22(-Math.trunc(j%20%2F%208)%20%25%202)%20%2B%20.5%22%2C%22folder%22%3A%22open%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A6%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22vmprod%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A5%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22open%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22open%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22local%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A1%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-54.14559417241423%2C%22y%22%3A48.55110882721702%2C%22z%22%3A37.42031544768186%2C%22target%22%3A%7B%22x%22%3A0%2C%22y%22%3A0%2C%22z%22%3A0%7D%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">open in mm</a>):</p>



<p>Here’s one more intuition builder using vector-matrix products, showing how the identity matrix functions exactly like a mirror set at a 45deg angle to both its counterargument and the result (<a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A24%2C%22init%22%3A%22eye%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22(-Math.trunc(i%20%2F%208)%20%25%202)%20%2B%20.5%22%2C%22folder%22%3A%22open%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22row%20major%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22(-Math.trunc(j%20%2F%208)%20%25%202)%20%2B%20.5%22%2C%22folder%22%3A%22open%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A12%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22vmprod%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A5%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22open%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22open%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22local%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A1%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-50.560896320538845%2C%22y%22%3A45.336792719337595%2C%22z%22%3A34.94291121097398%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">open in mm</a>):</p>



<h3 id="2d-summed-outer-products">2d Summed outer products</h3>

<p>The third planar decomposition is along the <code>k</code> axis, computing the matmul result by a pointwise summation of vector outer products. Here we see the plane of outer products sweeping the cube “from back to front”, accumulating into the result (<a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A32%2C%22w%22%3A24%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22closed%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22expr%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201%22%2C%22folder%22%3A%22closed%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A12%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22vvprod%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A5%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22open%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0.5%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22closed%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22semilocal%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A1%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-54.145594172414235%2C%22y%22%3A48.55110882721702%2C%22z%22%3A37.42031544768185%2C%22target%22%3A%7B%22x%22%3A0%2C%22y%22%3A0%2C%22z%22%3A0%7D%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">open in mm</a>):</p>



<p>Using randomly initialized matrices with this decomposition, we can see not just values but <em>rank</em> accumulate in the result, as each rank-1 outer product is added to it.</p>

<p>Among other things this builds intuition for why “low-rank factorization” - i.e. approximating a matrix by constructing a matmul whose arguments are small in the depth dimension - works best when the matrix being approximated is low rank. <a href="https://arxiv.org/pdf/2106.09685.pdf">LoRA</a> in a later section (<a href="https://bhosmer.github.io/mm/index.html?params=%7B%22expr%22%3A%22L%20%40%20R%22%2C%22name%22%3A%22L%20%40%20R%22%2C%22epilog%22%3A%22none%22%2C%22left%22%3A%7B%22name%22%3A%22L%22%2C%22matmul%22%3Afalse%2C%22h%22%3A32%2C%22w%22%3A24%2C%22init%22%3A%22gaussian%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22(-Math.trunc(i%20%2F%208)%20%25%202)%20%2B%20.5%22%2C%22folder%22%3A%22closed%22%7D%2C%22right%22%3A%7B%22name%22%3A%22R%22%2C%22matmul%22%3Afalse%2C%22h%22%3A24%2C%22w%22%3A32%2C%22init%22%3A%22gaussian%22%2C%22url%22%3A%22%22%2C%22min%22%3A-1%2C%22max%22%3A1%2C%22dropout%22%3A0%2C%22expr%22%3A%22(-Math.trunc(j%20%2F%208)%20%25%202)%20%2B%20.5%22%2C%22folder%22%3A%22closed%22%7D%2C%22anim%22%3A%7B%22fuse%22%3A%22none%22%2C%22speed%22%3A6%2C%22hide%20inputs%22%3Afalse%2C%22alg%22%3A%22vvprod%22%2C%22spin%22%3A0%2C%22folder%22%3A%22open%22%7D%2C%22block%22%3A%7B%22i%20blocks%22%3A1%2C%22j%20blocks%22%3A1%2C%22k%20blocks%22%3A1%7D%2C%22layout%22%3A%7B%22scheme%22%3A%22blocks%22%2C%22gap%22%3A5%2C%22scatter%22%3A0%2C%22molecule%22%3A1%2C%22blast%22%3A0%2C%22polarity%22%3A%22negative%22%2C%22left%20placement%22%3A%22left%22%2C%22right%20placement%22%3A%22top%22%2C%22result%20placement%22%3A%22front%22%2C%22folder%22%3A%22open%22%7D%2C%22deco%22%3A%7B%22legends%22%3A6%2C%22shape%22%3Atrue%2C%22spotlight%22%3A2%2C%22row%20guides%22%3A1%2C%22flow%20guides%22%3A0%2C%22lens%20size%22%3A0.5%2C%22magnification%22%3A10%2C%22interior%20spotlight%22%3Afalse%2C%22axes%22%3Afalse%2C%22folder%22%3A%22open%22%7D%2C%22viz%22%3A%7B%22sensitivity%22%3A%22local%22%2C%22min%20size%22%3A0.196%2C%22min%20light%22%3A0.4%2C%22max%20light%22%3A0.6%2C%22elem%20scale%22%3A1%2C%22zero%20hue%22%3A0.77%2C%22hue%20gap%22%3A0.74%2C%22hue%20spread%22%3A0.04%2C%22folder%22%3A%22open%22%7D%2C%22diag%22%3A%7B%22url%22%3A%22%22%7D%2C%22cam%22%3A%7B%22x%22%3A-54.14559417241423%2C%22y%22%3A48.55110882721702%2C%22z%22%3A37.42031544768186%2C%22target%22%3A%7B%22x%22%3A0%2C%22y%22%3A0%2C%22z%22%3A0%7D%7D%2C%22folder%22%3A%22closed%22%2C%22compress%22%3Afalse%7D">open in mm</a>):</p>



<h2 id="3-warmup---expressions">3 Warmup - expressions</h2>

<p>How can we extend this visualization approach to <em>compositions</em> of matmuls? Our examples so far have all visualized a single matmul <code>L @ R</code> of some matrices <code>L</code> and <code>R</code> - what about when <code>L</code> and/or <code>R</code> are themselves matmuls, and so on transitively?</p>

<p>It turns out we can extend the approach nicely to compound expressions. The key rules are simple: the subexpression (child) matmul is another cube, subject to the same layout constraints as the parent, and the result face of the child is <em>simultaneously</em> the corresponding argument face of the parent, like a covalently shared electron.</p>

<p>Within these constraints, we’re free to arrange the faces of a child matmul however we like. Here we use the tool’s default scheme, which generates alternating convex and concave cubes - this layout works well in practice to maximize use of space and minimize occlusion. (Layouts are completely customizable, however - see the <a href="https://bhosmer.github.io/mm/ref.html">reference</a> for details.)</p>

<p>In this section we’ll visualize some of the key building blocks we find in ML models, to gain fluency in the visual idiom and to see what intuitions even simple examples can give us.</p>

<h3 id="3a-left-associative-expressions">3a Left-associative expressions</h3>

<p>We’ll look at two expressions of the form <code>(A @ B) @ C</code>, each with its own distinctive shape and character. (Note: mm adheres to the convention that matrix multiplication is left-associative and writes this simply as <code>A @ B @ C</code>.)</p>

<p>First we’ll give <code>A @ B @ C</code> the characteristic FFN shape, in which the “hidden dimension” is wider than the “input” or “output” dimensions. (Concretely in the context of this example, this means that the width of <code>B</code> is greater than the widths of <code>A</code> or <code>C</code>.)</p>

<p>As in the single matmul examples, the floating arrows point towards the result matrix, blue vane coming from the left argument and red vane from right argument (<a href="https://bhosmer.github.io/mm/index.html?0=A%20%40%20B%20%40%20C&amp;1=A%20%40%20B%20%40%20C&amp;2=none&amp;12=closed&amp;64=true&amp;3.1=A%20%40%20B&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.12=open&amp;3.2=none&amp;13.1=A&amp;13.4=false&amp;13.5=64&amp;13.6=32&amp;13.7=expr&amp;13.8=&amp;13.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;13.9=-1&amp;13.10=1&amp;13.11=0&amp;13.12=open&amp;14.1=B&amp;14.4=false&amp;14.5=32&amp;14.6=96&amp;14.7=row%20major&amp;14.8=&amp;14.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;14.9=-1&amp;14.10=1&amp;14.11=0&amp;14.12=open&amp;15.16=inherit&amp;17.18=positive&amp;17.19=left&amp;17.20=bottom&amp;17.21=back&amp;22.23=1&amp;24.1=C&amp;24.4=false&amp;24.5=96&amp;24.6=32&amp;24.7=col%20major&amp;24.8=&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;24.12=open&amp;25.26=none&amp;25.27=12&amp;25.28=false&amp;25.16=none&amp;25.29=0&amp;25.12=closed&amp;30.31=1&amp;30.32=1&amp;30.23=1&amp;33.34=blocks&amp;33.35=5&amp;33.36=0&amp;33.37=1&amp;33.38=0&amp;33.18=negative&amp;33.19=left&amp;33.20=top&amp;33.21=front&amp;33.12=closed&amp;39.40=6&amp;39.41=true&amp;39.42=2&amp;39.43=1&amp;39.44=0.5&amp;39.45=0.5&amp;39.46=10&amp;39.47=false&amp;39.48=false&amp;39.12=open&amp;49.50=semilocal&amp;49.51=0.2&amp;49.52=0.4&amp;49.53=0.6&amp;49.54=1.25&amp;49.55=0.77&amp;49.56=0.74&amp;49.57=0.04&amp;49.12=open&amp;58.8=&amp;59.60=-102.42301073851515&amp;59.61=96.27580041479706&amp;59.62=112.34410815468306&amp;63.60=-4.617417891034972&amp;63.61=-3.695553245058398&amp;63.62=-1.8863985145585351&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;folder=12&amp;left.left=13&amp;left.right=14&amp;left.anim=15&amp;alg=16&amp;left.layout=17&amp;polarity=18&amp;left%20placement=19&amp;right%20placement=20&amp;result%20placement=21&amp;left.block=22&amp;k%20blocks=23&amp;right=24&amp;anim=25&amp;fuse=26&amp;speed=27&amp;hide%20inputs=28&amp;spin=29&amp;block=30&amp;i%20blocks=31&amp;j%20blocks=32&amp;layout=33&amp;scheme=34&amp;gap=35&amp;scatter=36&amp;molecule=37&amp;blast=38&amp;deco=39&amp;legends=40&amp;shape=41&amp;spotlight=42&amp;row%20guides=43&amp;flow%20guides=44&amp;lens%20size=45&amp;magnification=46&amp;interior%20spotlight=47&amp;axes=48&amp;viz=49&amp;sensitivity=50&amp;min%20size=51&amp;min%20light=52&amp;max%20light=53&amp;elem%20scale=54&amp;zero%20hue=55&amp;hue%20gap=56&amp;hue%20spread=57&amp;diag=58&amp;cam=59&amp;x=60&amp;y=61&amp;z=62&amp;cam.target=63&amp;compress=64">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/la2still.jpg" alt="As in the single matmul examples, the floating arrows point towards the result matrix, blue vane coming from the left argument and red vane from right argument"></p>

<p>Next we’ll visualize <code>A @ B @ C</code> with the width of <code>B</code> <em>narrower</em> than that of <code>A</code> or <code>C</code>, giving it a bottleneck or “autoencoder” shape (<a href="https://bhosmer.github.io/mm/index.html?0=A%20%40%20B%20%40%20C&amp;1=A%20%40%20B%20%40%20C&amp;2=none&amp;12=closed&amp;64=true&amp;3.1=A%20%40%20B&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.12=open&amp;3.2=none&amp;13.1=A&amp;13.4=false&amp;13.5=64&amp;13.6=96&amp;13.7=expr&amp;13.8=&amp;13.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;13.9=-1&amp;13.10=1&amp;13.11=0&amp;13.12=open&amp;14.1=B&amp;14.4=false&amp;14.5=96&amp;14.6=32&amp;14.7=row%20major&amp;14.8=&amp;14.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;14.9=-1&amp;14.10=1&amp;14.11=0&amp;14.12=open&amp;15.16=inherit&amp;17.18=positive&amp;17.19=left&amp;17.20=bottom&amp;17.21=back&amp;22.23=1&amp;24.1=C&amp;24.4=false&amp;24.5=32&amp;24.6=96&amp;24.7=col%20major&amp;24.8=&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;24.12=open&amp;25.26=none&amp;25.27=12&amp;25.28=false&amp;25.16=none&amp;25.29=0&amp;25.12=closed&amp;30.31=1&amp;30.32=1&amp;30.23=1&amp;33.34=blocks&amp;33.35=5&amp;33.36=0&amp;33.37=1&amp;33.38=0&amp;33.18=negative&amp;33.19=left&amp;33.20=top&amp;33.21=front&amp;33.12=closed&amp;39.40=6&amp;39.41=true&amp;39.42=2&amp;39.43=1&amp;39.44=0.5&amp;39.45=0.5&amp;39.46=10&amp;39.47=false&amp;39.48=false&amp;39.12=open&amp;49.50=semilocal&amp;49.51=0.2&amp;49.52=0.4&amp;49.53=0.6&amp;49.54=1.25&amp;49.55=0.77&amp;49.56=0.74&amp;49.57=0.04&amp;49.12=open&amp;58.8=&amp;59.60=-125.71162036288077&amp;59.61=101.84279252909485&amp;59.62=122.50425255743914&amp;63.60=-14.817097084822203&amp;63.61=-9.723209466639396&amp;63.62=-5.4699873376955646&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;folder=12&amp;left.left=13&amp;left.right=14&amp;left.anim=15&amp;alg=16&amp;left.layout=17&amp;polarity=18&amp;left%20placement=19&amp;right%20placement=20&amp;result%20placement=21&amp;left.block=22&amp;k%20blocks=23&amp;right=24&amp;anim=25&amp;fuse=26&amp;speed=27&amp;hide%20inputs=28&amp;spin=29&amp;block=30&amp;i%20blocks=31&amp;j%20blocks=32&amp;layout=33&amp;scheme=34&amp;gap=35&amp;scatter=36&amp;molecule=37&amp;blast=38&amp;deco=39&amp;legends=40&amp;shape=41&amp;spotlight=42&amp;row%20guides=43&amp;flow%20guides=44&amp;lens%20size=45&amp;magnification=46&amp;interior%20spotlight=47&amp;axes=48&amp;viz=49&amp;sensitivity=50&amp;min%20size=51&amp;min%20light=52&amp;max%20light=53&amp;elem%20scale=54&amp;zero%20hue=55&amp;hue%20gap=56&amp;hue%20spread=57&amp;diag=58&amp;cam=59&amp;x=60&amp;y=61&amp;z=62&amp;cam.target=63&amp;compress=64">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/lacontract.jpg" alt="visualize A @ B @ C with the width of B narrower than that of A or C"></p>

<p>This pattern of alternating convex and concave blocks extends to chains of arbitrary length: for example this multilayer bottleneck (<a href="https://bhosmer.github.io/mm/index.html?0=A%20%40%20B%20%40%20C%20%40%20D%20%40%20E&amp;1=A%20%40%20B%20%40%20C%20%40%20D%20%40%20E&amp;2=none&amp;23=closed&amp;63=true&amp;3.2=none&amp;4.5=inherit&amp;6.7=1&amp;8.9=positive&amp;8.10=left&amp;8.11=bottom&amp;8.12=back&amp;13.0=A%20%40%20B%20%40%20C%20%40%20D%20%40%20E&amp;13.1=A%20%40%20B%20%40%20C&amp;13.2=none&amp;14.1=A%20%40%20B&amp;14.15=true&amp;14.16=32&amp;14.17=32&amp;14.18=row%20major&amp;14.19=&amp;14.20=-1&amp;14.21=1&amp;14.22=0&amp;14.23=open&amp;14.2=none&amp;24.1=A&amp;24.15=false&amp;24.16=64&amp;24.17=96&amp;24.18=expr&amp;24.19=&amp;24.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;24.20=-1&amp;24.21=1&amp;24.22=0&amp;24.23=open&amp;25.1=B&amp;25.15=false&amp;25.16=96&amp;25.17=64&amp;25.18=row%20major&amp;25.19=&amp;25.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;25.20=-1&amp;25.21=1&amp;25.22=0&amp;25.23=open&amp;26.5=inherit&amp;27.9=positive&amp;27.10=left&amp;27.11=bottom&amp;27.12=back&amp;28.7=1&amp;29.1=C&amp;29.15=false&amp;29.16=64&amp;29.17=32&amp;29.18=col%20major&amp;29.19=&amp;29.20=-1&amp;29.21=1&amp;29.22=0&amp;29.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;29.23=open&amp;30.31=none&amp;30.32=12&amp;30.33=false&amp;30.5=none&amp;30.34=0&amp;30.23=closed&amp;35.36=1&amp;35.7=1&amp;37.9=negative&amp;37.10=left&amp;37.11=top&amp;37.12=front&amp;38.39=6&amp;38.40=true&amp;38.41=2&amp;38.42=1&amp;38.43=0.5&amp;38.44=0.5&amp;38.45=10&amp;38.46=false&amp;38.47=false&amp;38.23=open&amp;48.49=semilocal&amp;48.50=0.2&amp;48.51=0.4&amp;48.52=0.6&amp;48.53=1.25&amp;48.54=0.77&amp;48.55=0.74&amp;48.56=0.04&amp;48.23=open&amp;57.19=&amp;58.59=-125.71162036288077&amp;58.60=101.84279252909485&amp;58.61=122.50425255743914&amp;62.59=-14.817097084822203&amp;62.60=-9.723209466639396&amp;62.61=-5.4699873376955646&amp;13.23=open&amp;13.63=true&amp;13.15=true&amp;64.1=D&amp;64.15=false&amp;64.16=32&amp;64.17=64&amp;64.18=col%20major&amp;64.19=&amp;64.20=-1&amp;64.21=1&amp;64.22=0&amp;64.0=&amp;64.23=open&amp;3.1=A%20%40%20B%20%40%20C%20%40%20D&amp;3.15=true&amp;65.1=E&amp;65.15=false&amp;65.16=64&amp;65.17=96&amp;65.18=col%20major&amp;65.19=&amp;65.20=-1&amp;65.21=1&amp;65.22=0&amp;65.0=&amp;66.31=none&amp;66.32=12&amp;66.33=false&amp;66.5=none&amp;66.34=0&amp;66.23=closed&amp;67.36=1&amp;67.68=1&amp;67.7=1&amp;69.70=blocks&amp;69.71=5&amp;69.72=0&amp;69.73=1&amp;69.74=0&amp;69.9=negative&amp;69.10=left&amp;69.11=top&amp;69.12=front&amp;69.23=closed&amp;75.39=5.28&amp;75.40=true&amp;75.41=2&amp;75.42=1&amp;75.43=0.5&amp;75.44=0.5&amp;75.45=10&amp;75.46=false&amp;75.47=false&amp;75.23=open&amp;76.49=semilocal&amp;76.50=0.2&amp;76.51=0.4&amp;76.52=0.6&amp;76.53=1.25&amp;76.54=0.77&amp;76.55=0.74&amp;76.56=0.04&amp;76.23=open&amp;77.19=&amp;78.59=-163.23429720087873&amp;78.60=132.20892347209139&amp;78.61=159.04014894666057&amp;79.59=-14.817097084822203&amp;79.60=-9.723209466639396&amp;79.61=-5.4699873376955646&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;left.anim=4&amp;alg=5&amp;left.block=6&amp;k%20blocks=7&amp;left.layout=8&amp;polarity=9&amp;left%20placement=10&amp;right%20placement=11&amp;result%20placement=12&amp;left.left=13&amp;left.left.left=14&amp;matmul=15&amp;h=16&amp;w=17&amp;init=18&amp;url=19&amp;min=20&amp;max=21&amp;dropout=22&amp;folder=23&amp;left.left.left.left=24&amp;left.left.left.right=25&amp;left.left.left.anim=26&amp;left.left.left.layout=27&amp;left.left.left.block=28&amp;left.left.right=29&amp;left.left.anim=30&amp;fuse=31&amp;speed=32&amp;hide%20inputs=33&amp;spin=34&amp;left.left.block=35&amp;i%20blocks=36&amp;left.left.layout=37&amp;left.left.deco=38&amp;legends=39&amp;shape=40&amp;spotlight=41&amp;row%20guides=42&amp;flow%20guides=43&amp;lens%20size=44&amp;magnification=45&amp;interior%20spotlight=46&amp;axes=47&amp;left.left.viz=48&amp;sensitivity=49&amp;min%20size=50&amp;min%20light=51&amp;max%20light=52&amp;elem%20scale=53&amp;zero%20hue=54&amp;hue%20gap=55&amp;hue%20spread=56&amp;left.left.diag=57&amp;left.left.cam=58&amp;x=59&amp;y=60&amp;z=61&amp;left.left.cam.target=62&amp;compress=63&amp;left.right=64&amp;right=65&amp;anim=66&amp;block=67&amp;j%20blocks=68&amp;layout=69&amp;scheme=70&amp;gap=71&amp;scatter=72&amp;molecule=73&amp;blast=74&amp;deco=75&amp;viz=76&amp;diag=77&amp;cam=78&amp;cam.target=79">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/nlayerbottleneck.jpg" alt="pattern of alternating convex and concave blocks extends to chains of arbitrary length"></p>

<h3 id="3b-right-associative-expressions">3b Right associative expressions</h3>

<p>Next we’ll visualize a right-associative expression <code>A @ (B @ C)</code>.</p>

<p>In the same way left-associative expressions extend horizontally - sprouting from the left argument of the root expression, so to speak - right-associative chains extend vertically, sprouting from the root’s right argument.</p>

<p>One sometimes sees an MLP formulated right-associatively, i.e. with columnar input on the right and weight layers running right to left. Using the matrices from the 2-layer FFN example pictured above - suitably transposed - here’s what that looks like, with <code>C</code> now playing the role of the input, <code>B</code> the first layer and <code>A</code> the second layer (<a href="https://bhosmer.github.io/mm/index.html?0=A%20%40%20(B%20%40%20C)&amp;1=A%20%40%20(B%20%40%20C)&amp;2=none&amp;12=closed&amp;64=true&amp;3.1=A&amp;3.4=false&amp;3.5=32&amp;3.6=96&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;3.12=open&amp;13.1=B%20%40%20C&amp;13.4=true&amp;13.5=32&amp;13.6=32&amp;13.7=col%20major&amp;13.8=&amp;13.9=-1&amp;13.10=1&amp;13.11=0&amp;13.2=none&amp;14.15=inherit&amp;16.17=1&amp;18.19=positive&amp;18.20=right&amp;18.21=top&amp;18.22=back&amp;23.1=B&amp;23.4=false&amp;23.5=96&amp;23.6=32&amp;23.7=col%20major&amp;23.8=&amp;23.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.12=open&amp;24.1=C&amp;24.4=false&amp;24.5=32&amp;24.6=64&amp;24.7=expr&amp;24.8=&amp;24.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.12=open&amp;13.12=open&amp;25.26=none&amp;25.27=12&amp;25.28=false&amp;25.15=none&amp;25.29=0&amp;25.12=closed&amp;30.31=1&amp;30.32=1&amp;30.17=1&amp;33.34=blocks&amp;33.35=5&amp;33.36=0&amp;33.37=1&amp;33.38=0&amp;33.19=negative&amp;33.20=left&amp;33.21=top&amp;33.22=front&amp;33.12=closed&amp;39.40=6&amp;39.41=true&amp;39.42=2&amp;39.43=1&amp;39.44=0.5&amp;39.45=0.5&amp;39.46=10&amp;39.47=false&amp;39.48=false&amp;39.12=closed&amp;49.50=semilocal&amp;49.51=0.2&amp;49.52=0.4&amp;49.53=0.6&amp;49.54=1.25&amp;49.55=0.77&amp;49.56=0.74&amp;49.57=0.04&amp;49.12=closed&amp;58.8=&amp;58.12=open&amp;59.60=-105.78213185291946&amp;59.61=96.67420268229331&amp;59.62=113.6419504179439&amp;63.60=-4.617417891034972&amp;63.61=-3.695553245058398&amp;63.62=-1.8863985145585351&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;folder=12&amp;right=13&amp;right.anim=14&amp;alg=15&amp;right.block=16&amp;k%20blocks=17&amp;right.layout=18&amp;polarity=19&amp;left%20placement=20&amp;right%20placement=21&amp;result%20placement=22&amp;right.left=23&amp;right.right=24&amp;anim=25&amp;fuse=26&amp;speed=27&amp;hide%20inputs=28&amp;spin=29&amp;block=30&amp;i%20blocks=31&amp;j%20blocks=32&amp;layout=33&amp;scheme=34&amp;gap=35&amp;scatter=36&amp;molecule=37&amp;blast=38&amp;deco=39&amp;legends=40&amp;shape=41&amp;spotlight=42&amp;row%20guides=43&amp;flow%20guides=44&amp;lens%20size=45&amp;magnification=46&amp;interior%20spotlight=47&amp;axes=48&amp;viz=49&amp;sensitivity=50&amp;min%20size=51&amp;min%20light=52&amp;max%20light=53&amp;elem%20scale=54&amp;zero%20hue=55&amp;hue%20gap=56&amp;hue%20spread=57&amp;diag=58&amp;cam=59&amp;x=60&amp;y=61&amp;z=62&amp;cam.target=63&amp;compress=64">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/raffn.jpg" alt="an MLP formulated right-associatively"></p>

<p>Aside: in addition to the color of the arrow vanes (blue for left, red for right), a second visual cue for distinguishing left and right arguments is their <em>orientation</em>: the rows of the left argument are coplanar with those of the result - they stack along the same axis (<code>i</code>). Both cues tell us for example that <code>B</code> is the left argument to <code>(B @ C)</code> above.</p>

<h3 id="3c-binary-expressions">3c Binary expressions</h3>

<p>For a visualization tool to be useful beyond simple didactic examples, visualizations need to remain legible as expressions get more complicated. A key structural component in real-world use cases is binary expressions - matmuls with subexpressions on both the left and right.</p>

<p>Here we’ll visualize the simplest such expression shape, <code>(A @ B) @ (C @ D)</code> (<a href="https://bhosmer.github.io/mm/index.html?0=A%20%40%20B%20%40%20(C%20%40%20D)&amp;1=A%20%40%20B%20%40%20(C%20%40%20D)&amp;2=none&amp;12=closed&amp;69=true&amp;3.1=A%20%40%20B&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.12=open&amp;3.2=none&amp;13.1=A&amp;13.4=false&amp;13.5=64&amp;13.6=64&amp;13.7=expr&amp;13.8=&amp;13.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;13.9=-1&amp;13.10=1&amp;13.11=0&amp;13.12=closed&amp;14.1=B&amp;14.4=false&amp;14.5=64&amp;14.6=64&amp;14.7=row%20major&amp;14.8=&amp;14.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;14.9=-1&amp;14.10=1&amp;14.11=0&amp;14.12=closed&amp;15.16=inherit&amp;17.18=positive&amp;17.19=left&amp;17.20=bottom&amp;17.21=back&amp;22.23=1&amp;24.1=C%20%40%20D&amp;24.4=true&amp;24.5=32&amp;24.6=32&amp;24.7=col%20major&amp;24.8=&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.2=none&amp;25.16=inherit&amp;26.23=1&amp;27.18=positive&amp;27.19=right&amp;27.20=top&amp;27.21=back&amp;28.1=C&amp;28.4=false&amp;28.5=64&amp;28.6=64&amp;28.7=col%20major&amp;28.8=&amp;28.9=-1&amp;28.10=1&amp;28.11=0&amp;28.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;28.12=open&amp;29.1=D&amp;29.4=false&amp;29.5=64&amp;29.6=64&amp;29.7=expr&amp;29.8=&amp;29.9=-1&amp;29.10=1&amp;29.11=0&amp;29.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;29.12=open&amp;30.31=none&amp;30.32=12&amp;30.33=false&amp;30.16=none&amp;30.34=0&amp;30.12=closed&amp;35.36=1&amp;35.37=1&amp;35.23=1&amp;38.39=blocks&amp;38.40=5&amp;38.41=0&amp;38.42=1&amp;38.43=0&amp;38.18=negative&amp;38.19=left&amp;38.20=top&amp;38.21=front&amp;38.12=closed&amp;44.45=6&amp;44.46=true&amp;44.47=2&amp;44.48=1&amp;44.49=0.5&amp;44.50=0.5&amp;44.51=10&amp;44.52=false&amp;44.53=false&amp;44.12=closed&amp;54.55=semilocal&amp;54.56=0.4&amp;54.57=0.4&amp;54.58=0.6&amp;54.59=1.5&amp;54.60=0.77&amp;54.61=0.74&amp;54.62=0.04&amp;54.12=open&amp;63.8=&amp;64.65=-149.45958189074523&amp;64.66=140.76437147298853&amp;64.67=162.13832534246401&amp;68.65=-4.044017278625395&amp;68.66=-2.123834827920271&amp;68.67=-2.551083969824457&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;folder=12&amp;left.left=13&amp;left.right=14&amp;left.anim=15&amp;alg=16&amp;left.layout=17&amp;polarity=18&amp;left%20placement=19&amp;right%20placement=20&amp;result%20placement=21&amp;left.block=22&amp;k%20blocks=23&amp;right=24&amp;right.anim=25&amp;right.block=26&amp;right.layout=27&amp;right.left=28&amp;right.right=29&amp;anim=30&amp;fuse=31&amp;speed=32&amp;hide%20inputs=33&amp;spin=34&amp;block=35&amp;i%20blocks=36&amp;j%20blocks=37&amp;layout=38&amp;scheme=39&amp;gap=40&amp;scatter=41&amp;molecule=42&amp;blast=43&amp;deco=44&amp;legends=45&amp;shape=46&amp;spotlight=47&amp;row%20guides=48&amp;flow%20guides=49&amp;lens%20size=50&amp;magnification=51&amp;interior%20spotlight=52&amp;axes=53&amp;viz=54&amp;sensitivity=55&amp;min%20size=56&amp;min%20light=57&amp;max%20light=58&amp;elem%20scale=59&amp;zero%20hue=60&amp;hue%20gap=61&amp;hue%20spread=62&amp;diag=63&amp;cam=64&amp;x=65&amp;y=66&amp;z=67&amp;cam.target=68&amp;compress=69">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/binary4.jpg" alt="binary expressions - matmuls with subexpressions on both the left and right"></p>

<h3 id="3d-quick-aside-partitioning-and-parallelism">3d Quick aside: partitioning and parallelism</h3>

<p>A full presentation of this topic is out of scope for this note, though we’ll see it in action later in the context of attention heads. But as a warmup, two quick examples should give a sense of how this style of visualization makes reasoning about parallelizing compound expressions very intuitive, via the simple geometry of partitioning.</p>

<p>In the first example we’ll apply the canonical “data parallel” partitioning to the left-associative multilayer bottleneck example above. We partition along <code>i</code>, segmenting the initial left argument (“batch”) and all intermediate results (“activations”), but none of the subsequent arguments (“weights”) - the geometry making it obvious which participants in the expression are segmented and which remain whole (<a href="https://bhosmer.github.io/mm/index.html?0=A%20%40%20B%20%40%20C%20%40%20D%20%40%20E&amp;1=A%20%40%20B%20%40%20C%20%40%20D%20%40%20E&amp;2=none&amp;23=closed&amp;63=true&amp;3.1=A%20%40%20B%20%40%20C%20%40%20D&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=inherit&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.0=A%20%40%20B%20%40%20C%20%40%20D%20%40%20E&amp;21.1=A%20%40%20B%20%40%20C&amp;21.2=none&amp;22.1=A%20%40%20B&amp;22.4=true&amp;22.5=32&amp;22.6=32&amp;22.7=row%20major&amp;22.8=&amp;22.9=-1&amp;22.10=1&amp;22.11=0&amp;22.23=open&amp;22.2=none&amp;24.1=A&amp;24.4=false&amp;24.5=64&amp;24.6=96&amp;24.7=expr&amp;24.8=&amp;24.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.23=open&amp;25.1=B&amp;25.4=false&amp;25.5=96&amp;25.6=64&amp;25.7=row%20major&amp;25.8=&amp;25.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;25.9=-1&amp;25.10=1&amp;25.11=0&amp;25.23=open&amp;26.13=inherit&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.15=1&amp;29.1=C&amp;29.4=false&amp;29.5=64&amp;29.6=32&amp;29.7=col%20major&amp;29.8=&amp;29.9=-1&amp;29.10=1&amp;29.11=0&amp;29.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;29.23=open&amp;30.31=none&amp;30.32=12&amp;30.33=false&amp;30.13=none&amp;30.34=0&amp;30.23=closed&amp;35.36=1&amp;35.15=1&amp;37.17=negative&amp;37.18=left&amp;37.19=top&amp;37.20=front&amp;38.39=6&amp;38.40=true&amp;38.41=2&amp;38.42=1&amp;38.43=0.5&amp;38.44=0.5&amp;38.45=10&amp;38.46=false&amp;38.47=false&amp;38.23=open&amp;48.49=semilocal&amp;48.50=0.2&amp;48.51=0.4&amp;48.52=0.6&amp;48.53=1.25&amp;48.54=0.77&amp;48.55=0.74&amp;48.56=0.04&amp;48.23=open&amp;57.8=&amp;58.59=-125.71162036288077&amp;58.60=101.84279252909485&amp;58.61=122.50425255743914&amp;62.59=-14.817097084822203&amp;62.60=-9.723209466639396&amp;62.61=-5.4699873376955646&amp;21.23=open&amp;21.63=true&amp;21.4=true&amp;64.1=D&amp;64.4=false&amp;64.5=32&amp;64.6=64&amp;64.7=col%20major&amp;64.8=&amp;64.9=-1&amp;64.10=1&amp;64.11=0&amp;64.0=&amp;64.23=open&amp;65.1=E&amp;65.4=false&amp;65.5=64&amp;65.6=96&amp;65.7=col%20major&amp;65.8=&amp;65.9=-1&amp;65.10=1&amp;65.11=0&amp;65.0=&amp;66.31=none&amp;66.32=12&amp;66.33=false&amp;66.13=none&amp;66.34=0&amp;66.23=closed&amp;67.36=8&amp;67.68=1&amp;67.15=1&amp;67.23=open&amp;69.70=blocks&amp;69.71=5&amp;69.72=0&amp;69.73=1&amp;69.74=0&amp;69.17=negative&amp;69.18=left&amp;69.19=top&amp;69.20=front&amp;69.23=closed&amp;75.39=5.28&amp;75.40=true&amp;75.41=2&amp;75.42=1&amp;75.43=0.5&amp;75.44=0.5&amp;75.45=10&amp;75.46=false&amp;75.47=false&amp;75.23=closed&amp;76.49=semilocal&amp;76.50=0.3&amp;76.51=0.4&amp;76.52=0.6&amp;76.53=1.5&amp;76.54=0.77&amp;76.55=0.74&amp;76.56=0.04&amp;76.23=closed&amp;77.8=&amp;78.59=-174.76129648411032&amp;78.60=141.54502619212317&amp;78.61=170.2709730709386&amp;79.59=-14.817097084822203&amp;79.60=-9.723209466639396&amp;79.61=-5.4699873376955646&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;folder=23&amp;left.left.left.left=24&amp;left.left.left.right=25&amp;left.left.left.anim=26&amp;left.left.left.layout=27&amp;left.left.left.block=28&amp;left.left.right=29&amp;left.left.anim=30&amp;fuse=31&amp;speed=32&amp;hide%20inputs=33&amp;spin=34&amp;left.left.block=35&amp;i%20blocks=36&amp;left.left.layout=37&amp;left.left.deco=38&amp;legends=39&amp;shape=40&amp;spotlight=41&amp;row%20guides=42&amp;flow%20guides=43&amp;lens%20size=44&amp;magnification=45&amp;interior%20spotlight=46&amp;axes=47&amp;left.left.viz=48&amp;sensitivity=49&amp;min%20size=50&amp;min%20light=51&amp;max%20light=52&amp;elem%20scale=53&amp;zero%20hue=54&amp;hue%20gap=55&amp;hue%20spread=56&amp;left.left.diag=57&amp;left.left.cam=58&amp;x=59&amp;y=60&amp;z=61&amp;left.left.cam.target=62&amp;compress=63&amp;left.right=64&amp;right=65&amp;anim=66&amp;block=67&amp;j%20blocks=68&amp;layout=69&amp;scheme=70&amp;gap=71&amp;scatter=72&amp;molecule=73&amp;blast=74&amp;deco=75&amp;viz=76&amp;diag=77&amp;cam=78&amp;cam.target=79">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/bottleneck_part.jpg" alt="the canonical &quot;data parallel&quot; partitioning to the left-associative multilayer bottleneck example"></p>

<p>The second example would (for me, anyway) be much harder to build intuition about without clear geometry to support it: it shows how a binary expression can be parallelized by partitioning the left subexpression along its <code>j</code> axis, the right subexpression along its <code>i</code> axis, and the parent expression along its <code>k</code> axis (<a href="https://bhosmer.github.io/mm/index.html?0=A%20%40%20B%20%40%20(C%20%40%20D)&amp;1=A%20%40%20B%20%40%20(C%20%40%20D)&amp;2=none&amp;12=closed&amp;69=true&amp;3.1=A%20%40%20B&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.12=open&amp;3.2=none&amp;13.1=A&amp;13.4=false&amp;13.5=64&amp;13.6=64&amp;13.7=expr&amp;13.8=&amp;13.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;13.9=-1&amp;13.10=1&amp;13.11=0&amp;13.12=closed&amp;14.1=B&amp;14.4=false&amp;14.5=64&amp;14.6=64&amp;14.7=row%20major&amp;14.8=&amp;14.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;14.9=-1&amp;14.10=1&amp;14.11=0&amp;14.12=closed&amp;15.16=inherit&amp;17.18=positive&amp;17.19=left&amp;17.20=bottom&amp;17.21=back&amp;22.23=1&amp;24.1=C%20%40%20D&amp;24.4=true&amp;24.5=32&amp;24.6=32&amp;24.7=col%20major&amp;24.8=&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.2=none&amp;25.16=inherit&amp;26.23=1&amp;27.18=positive&amp;27.19=right&amp;27.20=top&amp;27.21=back&amp;28.1=C&amp;28.4=false&amp;28.5=64&amp;28.6=64&amp;28.7=col%20major&amp;28.8=&amp;28.9=-1&amp;28.10=1&amp;28.11=0&amp;28.0=-2%20*%20(Math.trunc(i%20%2F%208)%20%25%202)%20%2B%201&amp;28.12=open&amp;29.1=D&amp;29.4=false&amp;29.5=64&amp;29.6=64&amp;29.7=expr&amp;29.8=&amp;29.9=-1&amp;29.10=1&amp;29.11=0&amp;29.0=-2%20*%20(Math.trunc(j%20%2F%208)%20%25%202)%20%2B%201&amp;29.12=open&amp;30.31=none&amp;30.32=12&amp;30.33=false&amp;30.16=none&amp;30.34=0&amp;30.12=closed&amp;35.36=1&amp;35.37=1&amp;35.23=8&amp;35.12=open&amp;38.39=blocks&amp;38.40=5&amp;38.41=0&amp;38.42=1&amp;38.43=0&amp;38.18=negative&amp;38.19=left&amp;38.20=top&amp;38.21=front&amp;38.12=closed&amp;44.45=6&amp;44.46=true&amp;44.47=2&amp;44.48=1&amp;44.49=0.5&amp;44.50=0.5&amp;44.51=10&amp;44.52=false&amp;44.53=false&amp;44.12=closed&amp;54.55=semilocal&amp;54.56=0.4&amp;54.57=0.4&amp;54.58=0.6&amp;54.59=1.5&amp;54.60=0.77&amp;54.61=0.74&amp;54.62=0.04&amp;54.12=open&amp;63.8=&amp;64.65=-163.0431410622342&amp;64.66=153.55767080483412&amp;64.67=176.87418575632128&amp;68.65=-4.044017278625395&amp;68.66=-2.123834827920271&amp;68.67=-2.551083969824457&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;folder=12&amp;left.left=13&amp;left.right=14&amp;left.anim=15&amp;alg=16&amp;left.layout=17&amp;polarity=18&amp;left%20placement=19&amp;right%20placement=20&amp;result%20placement=21&amp;left.block=22&amp;k%20blocks=23&amp;right=24&amp;right.anim=25&amp;right.block=26&amp;right.layout=27&amp;right.left=28&amp;right.right=29&amp;anim=30&amp;fuse=31&amp;speed=32&amp;hide%20inputs=33&amp;spin=34&amp;block=35&amp;i%20blocks=36&amp;j%20blocks=37&amp;layout=38&amp;scheme=39&amp;gap=40&amp;scatter=41&amp;molecule=42&amp;blast=43&amp;deco=44&amp;legends=45&amp;shape=46&amp;spotlight=47&amp;row%20guides=48&amp;flow%20guides=49&amp;lens%20size=50&amp;magnification=51&amp;interior%20spotlight=52&amp;axes=53&amp;viz=54&amp;sensitivity=55&amp;min%20size=56&amp;min%20light=57&amp;max%20light=58&amp;elem%20scale=59&amp;zero%20hue=60&amp;hue%20gap=61&amp;hue%20spread=62&amp;diag=63&amp;cam=64&amp;x=65&amp;y=66&amp;z=67&amp;cam.target=68&amp;compress=69">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/binary_part.jpg" alt="a binary expression can be parallelized by partitioning the left subexpression along its j axis, the right subexpression along its i axis, and the parent expression along its k axis"></p>

<h2 id="4-inside-an-attention-head">4 Inside an Attention Head</h2>

<p>Let’s look at a GPT2 attention head - specifically layer 5, head 4 of the “gpt2” (small) configuration (layers=12, heads=12, embed=768) from <a href="https://github.com/karpathy/nanoGPT">NanoGPT</a>, using OpenAI weights via HuggingFace. Input activations are taken from a forward pass on an OpenWebText training sample of 256 tokens.</p>

<p>There’s nothing particularly unusual about this particular head; I chose it mainly because it computes a fairly common attention pattern and lives in the middle of the model, where activations have become structured and show some interesting texture. (Aside: in a subsequent note I’ll present an attention head explorer that lets you visualize all layers and heads of this model, along with some travel notes.)</p>

<p><a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input%20%40%20wQ)%20%40%20(K_t%20%3D%20wK_t%20%40%20input_t))%20%40%20(V%20%3D%20input%20%40%20wV)%20%40%20wO&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;24.1=wQ&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;24.0=&amp;25.13=vmprod&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=vmprod&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;38.0=&amp;39.1=wV&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=none&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=10&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;53.49=open&amp;59.60=10&amp;59.61=true&amp;59.62=4&amp;59.63=0.394&amp;59.64=0.655&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.49=closed&amp;78.8=&amp;78.49=closed&amp;79.80=-1149.3128801149742&amp;79.81=1143.004532598807&amp;79.82=1754.3660479535383&amp;83.80=-6.708919569777563&amp;83.81=75.05036284609801&amp;83.82=-216.66743330111652&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">Open in mm</a> (may take a few seconds to fetch model weights)</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/mha1.jpg" alt="There's nothing particularly unusual about this particular head"></p>

<h3 id="4a-structure">4a Structure</h3>

<p>The entire attention head is visualized as a single compound expression, starting with input and ending with projected output. (Note: to keep things self-contained we do per-head output projection as described in <a href="https://arxiv.org/pdf/1909.08053.pdf">Megatron-LM</a>.)</p>

<p>The computation contains six matmuls:</p>

<div><pre><code>Q = input @ wQ        // 1
K_t = wK_t @ input_t  // 2
V = input @ wV        // 3
attn = sdpa(Q @ K_t)  // 4
head_out = attn @ V   // 5
out = head_out @ wO   // 6
</code></pre></div>

<p>A thumbnail description of what we’re looking at:</p>

<ul>
  <li>the blades of the windmill are matmuls 1, 2, 3 and 6: the former group are the in-projections from input to Q, K and V; the latter is the out-projection from attn @ V back to the embedding dimension.</li>
  <li>at the hub is the double matmul that first calculates attention scores (convex cube in back), then uses them to produce output tokens from the values vector (concave cube in front). Causality means that the attention scores form a lower triangle.</li>
</ul>

<p>But I’d encourage <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input%20%40%20wQ)%20%40%20(K_t%20%3D%20wK_t%20%40%20input_t))%20%40%20(V%20%3D%20input%20%40%20wV)%20%40%20wO&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;24.1=wQ&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;24.0=&amp;25.13=vmprod&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=vmprod&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;38.0=&amp;39.1=wV&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=none&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=10&amp;59.61=true&amp;59.62=4&amp;59.63=0.394&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=closed&amp;69.70=local&amp;69.71=0&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.49=open&amp;78.8=&amp;78.49=open&amp;79.80=-1212.5184472916683&amp;79.81=1205.8631771144878&amp;79.82=1850.8460431010271&amp;83.80=-6.708919569777563&amp;83.81=75.05036284609801&amp;83.82=-216.66743330111652&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">exploring this example in the tool itself</a>, rather than relying on the screenshot or the video below to convey just how much signal can be absorbed from it - both about its structure and the actual values flowing through the computation.</p>

<h3 id="4b-computation-and-values">4b Computation and Values</h3>

<p>Here’s an animation of the attention head computation. Specifically, we’re watching</p>

<div><pre><code>sdpa(input @ wQ @ K_t) @ V @ wO
</code></pre></div>

<p>(i.e., matmuls 1, 4 , 5 and 6 above, with <code>K_t</code> and <code>V</code> precomputed) being computed as a fused chain of vector-matrix products: each item in the sequence goes all the way from input through attention to output in one step. More on this animation choice in the later section on parallelization, but first let’s look at what the values being computed tell us.</p>

<p><a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_5%20%40%20wQ_5_4)%20%40%20(K_t%20%3D%20wK_t_5_4%20%40%20input_t_0_5))%20%40%20(V%20%3D%20input_0_5%20%40%20wV_5_4)%20%40%20wO_5_4&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_5&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_5_4&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;24.0=&amp;25.13=vmprod&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_5_4&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_5&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=vmprod&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_5&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;38.0=&amp;39.1=wV_5_4&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_5_4&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=vmprod&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=8.38&amp;59.61=true&amp;59.62=4&amp;59.63=0.394&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.05&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;78.8=&amp;79.80=-382.8684269325278&amp;79.81=293.7591554956184&amp;79.82=395.95878922315694&amp;83.80=-14.023727291338966&amp;83.81=-38.22974037070054&amp;83.82=-84.10726407282482&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">Open in mm</a></p>



<p>There’s a lot of interesting stuff going on here.</p>

<ul>
  <li>Before we even get to the attention calculation, it’s quite striking how low-rank <code>Q</code> and <code>K_t</code> are. <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_5%20%40%20wQ_5_4)%20%40%20(K_t%20%3D%20wK_t_5_4%20%40%20input_t_0_5))%20%40%20(V%20%3D%20input_0_5%20%40%20wV_5_4)%20%40%20wO_5_4&amp;1=out&amp;2=none&amp;24=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_5&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;23.24=closed&amp;25.1=wQ_5_4&amp;25.4=false&amp;25.5=768&amp;25.6=64&amp;25.7=url&amp;25.9=-1&amp;25.10=1&amp;25.11=0&amp;25.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;25.0=&amp;26.13=none&amp;26.24=open&amp;27.15=1&amp;28.17=positive&amp;28.18=left&amp;28.19=bottom&amp;28.20=back&amp;22.24=open&amp;29.2=none&amp;30.13=none&amp;31.15=1&amp;32.17=positive&amp;32.18=right&amp;32.19=top&amp;32.20=back&amp;33.1=wK_t_5_4&amp;33.4=false&amp;33.5=64&amp;33.6=768&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;34.1=input_t_0_5&amp;34.4=false&amp;34.5=768&amp;34.6=256&amp;34.7=url&amp;34.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;34.9=-1&amp;34.10=1&amp;34.11=0&amp;34.0=&amp;29.1=K_t&amp;29.4=true&amp;35.13=vmprod&amp;36.15=1&amp;37.17=negative&amp;37.18=left&amp;37.19=top&amp;37.20=front&amp;21.24=closed&amp;38.1=V&amp;38.4=true&amp;38.2=none&amp;39.1=input_0_5&amp;39.4=false&amp;39.5=256&amp;39.6=768&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;39.0=&amp;40.1=wV_5_4&amp;40.4=false&amp;40.5=768&amp;40.6=64&amp;40.7=url&amp;40.9=-1&amp;40.10=1&amp;40.11=0&amp;40.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;40.0=&amp;41.13=none&amp;42.15=1&amp;43.17=negative&amp;43.18=right&amp;43.19=top&amp;43.20=back&amp;3.24=closed&amp;44.1=wO_5_4&amp;44.4=false&amp;44.5=64&amp;44.6=768&amp;44.7=url&amp;44.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;44.9=-1&amp;44.10=1&amp;44.11=0&amp;44.0=&amp;45.46=sync&amp;45.47=4&amp;45.48=false&amp;45.13=vmprod&amp;45.49=0&amp;45.24=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=8.38&amp;59.61=true&amp;59.62=4&amp;59.63=0.394&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.24=open&amp;69.70=local&amp;69.71=0.05&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;78.8=&amp;79.80=-0.30816774330149777&amp;79.81=333.6054152134701&amp;79.82=155.72856559616935&amp;83.80=-0.11764216999897817&amp;83.81=-38.43510027180947&amp;83.82=-78.52287109278605&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;folder=24&amp;left.left.left.right=25&amp;left.left.left.anim=26&amp;left.left.left.block=27&amp;left.left.left.layout=28&amp;left.left.right=29&amp;left.left.right.anim=30&amp;left.left.right.block=31&amp;left.left.right.layout=32&amp;left.left.right.left=33&amp;left.left.right.right=34&amp;left.left.anim=35&amp;left.left.block=36&amp;left.left.layout=37&amp;left.right=38&amp;left.right.left=39&amp;left.right.right=40&amp;left.right.anim=41&amp;left.right.block=42&amp;left.right.layout=43&amp;right=44&amp;anim=45&amp;fuse=46&amp;speed=47&amp;hide%20inputs=48&amp;spin=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">Zooming in on the Q @ K_t vector-matrix product animation</a>, the situation is even more vivid: a significant number of channels (embedding positions) in <em>both</em> <code>Q</code> and <code>K</code> look more or less constant across the sequence, implying that the useful attention signal is potentially driven by a only smallish subset of the embedding. Understanding and exploiting this phenomenon is one of the threads we’re pulling on as part of the SysML ATOM transformer efficiency project.</li>
  <li>Perhaps most familiar is the strong-but-not-perfect diagonal that emerges in the attention matrix. This is a common pattern, showing up in many of the attention heads of this model (and those of many transformers). It produces <em>localized</em> attention: the value tokens in the small neighborhood immediately preceding an output token’s position largely determine that output token’s content pattern.</li>
  <li>However, the size of this neighborhood and the influence of individual tokens within it vary nontrivially - this can be seen both in the off-diagonal frost in the attention grid, and in the <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_5%20%40%20wQ_5_4)%20%40%20(K_t%20%3D%20wK_t_5_4%20%40%20input_t_0_5))%20%40%20(V%20%3D%20input_0_5%20%40%20wV_5_4)%20%40%20wO_5_4&amp;1=out&amp;2=none&amp;26=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_5&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_5_4&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;24.0=&amp;25.13=none&amp;25.26=open&amp;27.15=1&amp;28.17=positive&amp;28.18=left&amp;28.19=bottom&amp;28.20=back&amp;22.26=closed&amp;29.2=none&amp;30.13=none&amp;31.15=1&amp;32.17=positive&amp;32.18=right&amp;32.19=top&amp;32.20=back&amp;33.1=wK_t_5_4&amp;33.4=false&amp;33.5=64&amp;33.6=768&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;34.1=input_t_0_5&amp;34.4=false&amp;34.5=768&amp;34.6=256&amp;34.7=url&amp;34.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;34.9=-1&amp;34.10=1&amp;34.11=0&amp;34.0=&amp;29.1=K_t&amp;29.4=true&amp;35.13=none&amp;35.26=open&amp;36.15=1&amp;37.17=negative&amp;37.18=left&amp;37.19=top&amp;37.20=front&amp;21.26=open&amp;38.1=V&amp;38.4=true&amp;38.2=none&amp;39.1=input_0_5&amp;39.4=false&amp;39.5=256&amp;39.6=768&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;39.0=&amp;40.1=wV_5_4&amp;40.4=false&amp;40.5=768&amp;40.6=64&amp;40.7=url&amp;40.9=-1&amp;40.10=1&amp;40.11=0&amp;40.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;40.0=&amp;41.13=none&amp;42.15=1&amp;43.17=negative&amp;43.18=right&amp;43.19=top&amp;43.20=back&amp;3.26=open&amp;44.1=wO_5_4&amp;44.4=false&amp;44.5=64&amp;44.6=768&amp;44.7=url&amp;44.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;44.9=-1&amp;44.10=1&amp;44.11=0&amp;44.0=&amp;45.46=sync&amp;45.47=16&amp;45.48=false&amp;45.13=vmprod&amp;45.49=0&amp;45.26=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=8.38&amp;59.61=true&amp;59.62=4&amp;59.63=0.394&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.26=open&amp;69.70=local&amp;69.71=0.05&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;78.8=&amp;79.80=-12.838747258760423&amp;79.81=224.62765397316576&amp;79.82=274.71626756027933&amp;83.80=-13.049253781233714&amp;83.81=-55.16215322834755&amp;83.82=-70.26525235295296&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;folder=26&amp;left.left.left.block=27&amp;left.left.left.layout=28&amp;left.left.right=29&amp;left.left.right.anim=30&amp;left.left.right.block=31&amp;left.left.right.layout=32&amp;left.left.right.left=33&amp;left.left.right.right=34&amp;left.left.anim=35&amp;left.left.block=36&amp;left.left.layout=37&amp;left.right=38&amp;left.right.left=39&amp;left.right.right=40&amp;left.right.anim=41&amp;left.right.block=42&amp;left.right.layout=43&amp;right=44&amp;anim=45&amp;fuse=46&amp;speed=47&amp;hide%20inputs=48&amp;spin=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">fluctuating patterns of the attn[i] @ V vector-matrix product plane</a> as it descends the attention matrix on its way through the sequence.</li>
  <li>But note that the local neighborhood isn’t the only thing that’s attracting attention: the leftmost column of the attention grid, corresponding to the first token of the sequence, is entirely filled with nonzero (but fluctuating) values, meaning every output token will be influenced to some degree by the first value token.</li>
  <li>Moreover there’s an <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_5%20%40%20wQ_5_4)%20%40%20(K_t%20%3D%20wK_t_5_4%20%40%20input_t_0_5))%20%40%20(V%20%3D%20input_0_5%20%40%20wV_5_4)%20%40%20wO_5_4&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_5&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_5_4&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;24.0=&amp;25.13=vmprod&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_5_4&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_5&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=vmprod&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_5&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;38.0=&amp;39.1=wV_5_4&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_5_4&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=none&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=8.38&amp;59.61=true&amp;59.62=4&amp;59.63=0.394&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.05&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;78.8=&amp;79.80=-328.8286059935543&amp;79.81=-64.64788859858083&amp;79.82=156.66189435044396&amp;83.80=-6.5479856531724625&amp;83.81=-27.630477427688977&amp;83.82=-64.70186279804427&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">inexact but discernible oscillation in attention score dominance</a> between the current token neighborhood and the initial token. The period of the oscillation varies, but broadly speaking starts short and then lengthens as one travels down the sequence (evocatively correlated with the quantity of candidate attention tokens for each row, given causality).</li>
  <li>To get a feel for how (<code>attn @ V)</code> is formed, it’s important not to focus on attention in isolation - <code>V</code> is an equal player. Each output item is a weighted average of the entire <code>V</code> vector: at the limit when attention is a perfect diagonal, <code>attn @ V</code> is simply an exact copy of <code>V</code>. Here we see <a href="https://bhosmer.github.io/mm/index.html?0=out+%3D+%28attn+%3D+%28Q+%3D+input_0_5+%40+wQ_5_4%29+%40+%28K_t+%3D+wK_t_5_4+%40+input_t_0_5%29%29+%40+%28V+%3D+input_0_5+%40+wV_5_4%29+%40+wO_5_4&amp;1=out&amp;2=none&amp;51=closed&amp;84=true&amp;3.1=attn+%40+V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row+major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;14.16=1&amp;14.17=1&amp;18.19=positive&amp;18.20=left&amp;18.21=bottom&amp;18.22=back&amp;23.1=attn&amp;23.4=true&amp;23.2=softmax%28tril%28x%2Fsqrt%28k%29%29%29&amp;24.1=Q&amp;24.4=true&amp;24.2=none&amp;25.1=input_0_5&amp;25.4=false&amp;25.5=256&amp;25.6=768&amp;25.7=url&amp;25.9=-1&amp;25.10=1&amp;25.11=0&amp;25.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;25.0=&amp;26.1=wQ_5_4&amp;26.4=false&amp;26.5=768&amp;26.6=64&amp;26.7=url&amp;26.9=-1&amp;26.10=1&amp;26.11=0&amp;26.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;26.0=&amp;27.13=vmprod&amp;28.15=1&amp;28.16=1&amp;28.17=1&amp;29.19=positive&amp;29.20=left&amp;29.21=bottom&amp;29.22=back&amp;30.2=none&amp;31.13=none&amp;32.15=1&amp;32.16=1&amp;32.17=1&amp;33.19=positive&amp;33.20=right&amp;33.21=top&amp;33.22=back&amp;34.1=wK_t_5_4&amp;34.4=false&amp;34.5=64&amp;34.6=768&amp;34.7=url&amp;34.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;34.9=-1&amp;34.10=1&amp;34.11=0&amp;34.0=&amp;35.1=input_t_0_5&amp;35.4=false&amp;35.5=768&amp;35.6=256&amp;35.7=url&amp;35.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;35.9=-1&amp;35.10=1&amp;35.11=0&amp;35.0=&amp;30.1=K_t&amp;30.4=true&amp;36.13=vmprod&amp;37.15=1&amp;37.16=1&amp;37.17=1&amp;38.19=negative&amp;38.20=left&amp;38.21=top&amp;38.22=front&amp;39.1=V&amp;39.4=true&amp;39.2=none&amp;40.1=input_0_5&amp;40.4=false&amp;40.5=256&amp;40.6=768&amp;40.7=url&amp;40.9=-1&amp;40.10=1&amp;40.11=0&amp;40.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;40.0=&amp;41.1=wV_5_4&amp;41.4=false&amp;41.5=768&amp;41.6=64&amp;41.7=url&amp;41.9=-1&amp;41.10=1&amp;41.11=0&amp;41.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;41.0=&amp;42.13=none&amp;43.15=1&amp;43.16=1&amp;43.17=1&amp;44.19=negative&amp;44.20=right&amp;44.21=top&amp;44.22=back&amp;45.1=wO_5_4&amp;45.4=false&amp;45.5=64&amp;45.6=768&amp;45.7=url&amp;45.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;45.9=-1&amp;45.10=1&amp;45.11=0&amp;45.0=&amp;46.47=sync&amp;46.48=16&amp;46.49=false&amp;46.13=none&amp;46.50=0&amp;46.51=open&amp;52.16=1&amp;52.15=1&amp;52.17=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.19=negative&amp;53.20=left&amp;53.21=top&amp;53.22=front&amp;59.60=8.38&amp;59.61=true&amp;59.62=4&amp;59.63=0.394&amp;59.64=0&amp;59.65=0.5&amp;59.66=20&amp;59.67=false&amp;59.68=false&amp;59.51=open&amp;69.70=local&amp;69.71=0.05&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;78.8=&amp;79.80=-164.2339403949366&amp;79.81=18.940074323234473&amp;79.82=173.55325640245638&amp;83.80=117.76774477612946&amp;83.81=2.623526996843087&amp;83.82=53.25986191913323&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k+blocks=15&amp;i+blocks=16&amp;j+blocks=17&amp;left.layout=18&amp;polarity=19&amp;left+placement=20&amp;right+placement=21&amp;result+placement=22&amp;left.left=23&amp;left.left.left=24&amp;left.left.left.left=25&amp;left.left.left.right=26&amp;left.left.left.anim=27&amp;left.left.left.block=28&amp;left.left.left.layout=29&amp;left.left.right=30&amp;left.left.right.anim=31&amp;left.left.right.block=32&amp;left.left.right.layout=33&amp;left.left.right.left=34&amp;left.left.right.right=35&amp;left.left.anim=36&amp;left.left.block=37&amp;left.left.layout=38&amp;left.right=39&amp;left.right.left=40&amp;left.right.right=41&amp;left.right.anim=42&amp;left.right.block=43&amp;left.right.layout=44&amp;right=45&amp;anim=46&amp;fuse=47&amp;speed=48&amp;hide+inputs=49&amp;spin=50&amp;folder=51&amp;block=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row+guides=63&amp;flow+guides=64&amp;lens+size=65&amp;magnification=66&amp;interior+spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min+size=71&amp;min+light=72&amp;max+light=73&amp;elem+scale=74&amp;zero+hue=75&amp;hue+gap=76&amp;hue+spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">something more textured</a>: visible banding where particular tokens have scored high over a contiguous subsequence of attention rows, superimposed on a matrix visibly similar to to <code>V</code> but with some vertical smearing due to the fat diagonal. (Aside: per the <a href="https://bhosmer.github.io/mm/ref.html">mm reference guide</a>, long-clicking or control-clicking will reveal the actual numeric values of visualized elements.)</li>
  <li>Bear in mind that since we’re in a middle layer (5), the input to this attention head is an intermediate representation, not the original tokenized text. So the <a href="https://bhosmer.github.io/mm/index.html?0=out+%3D+%28attn+%3D+%28Q+%3D+input+%40+wQ%29+%40+%28K_t+%3D+wK_t+%40+input_t%29%29+%40+%28V+%3D+input+%40+wV%29+%40+wO&amp;1=out&amp;2=none&amp;26=closed&amp;84=true&amp;3.1=attn+%40+V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row+major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;14.16=1&amp;14.17=1&amp;18.19=positive&amp;18.20=left&amp;18.21=bottom&amp;18.22=back&amp;23.1=attn&amp;23.4=true&amp;23.2=softmax%28tril%28x%2Fsqrt%28k%29%29%29&amp;24.1=Q&amp;24.4=true&amp;24.2=none&amp;25.1=input&amp;25.4=false&amp;25.5=256&amp;25.6=768&amp;25.7=url&amp;25.9=-1&amp;25.10=1&amp;25.11=0&amp;25.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;25.0=&amp;25.26=open&amp;27.1=wQ&amp;27.4=false&amp;27.5=768&amp;27.6=64&amp;27.7=url&amp;27.9=-1&amp;27.10=1&amp;27.11=0&amp;27.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;27.0=&amp;28.13=vmprod&amp;29.15=1&amp;29.16=1&amp;29.17=1&amp;30.19=positive&amp;30.20=left&amp;30.21=bottom&amp;30.22=back&amp;24.26=open&amp;31.2=none&amp;32.13=none&amp;33.15=1&amp;33.16=1&amp;33.17=1&amp;34.19=positive&amp;34.20=right&amp;34.21=top&amp;34.22=back&amp;35.1=wK_t&amp;35.4=false&amp;35.5=64&amp;35.6=768&amp;35.7=url&amp;35.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;35.9=-1&amp;35.10=1&amp;35.11=0&amp;35.0=&amp;36.1=input_t&amp;36.4=false&amp;36.5=768&amp;36.6=256&amp;36.7=url&amp;36.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;36.9=-1&amp;36.10=1&amp;36.11=0&amp;36.0=&amp;31.1=K_t&amp;31.4=true&amp;37.13=vmprod&amp;38.15=1&amp;38.16=1&amp;38.17=1&amp;39.19=negative&amp;39.20=left&amp;39.21=top&amp;39.22=front&amp;23.26=open&amp;40.1=V&amp;40.4=true&amp;40.2=none&amp;41.1=input&amp;41.4=false&amp;41.5=256&amp;41.6=768&amp;41.7=url&amp;41.9=-1&amp;41.10=1&amp;41.11=0&amp;41.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;41.0=&amp;42.1=wV&amp;42.4=false&amp;42.5=768&amp;42.6=64&amp;42.7=url&amp;42.9=-1&amp;42.10=1&amp;42.11=0&amp;42.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;42.0=&amp;43.13=none&amp;44.15=1&amp;44.16=1&amp;44.17=1&amp;45.19=negative&amp;45.20=right&amp;45.21=top&amp;45.22=back&amp;3.26=open&amp;46.1=wO&amp;46.4=false&amp;46.5=64&amp;46.6=768&amp;46.7=url&amp;46.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;46.9=-1&amp;46.10=1&amp;46.11=0&amp;46.0=&amp;47.48=sync&amp;47.49=16&amp;47.50=false&amp;47.13=none&amp;47.51=0&amp;47.26=open&amp;52.16=1&amp;52.15=1&amp;52.17=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.19=negative&amp;53.20=left&amp;53.21=top&amp;53.22=front&amp;59.60=10&amp;59.61=true&amp;59.62=5&amp;59.63=0.394&amp;59.64=0&amp;59.65=0.25&amp;59.66=4.632&amp;59.67=false&amp;59.68=false&amp;59.26=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.4&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.26=open&amp;78.8=&amp;78.26=open&amp;79.80=-1126.8641673236093&amp;79.81=-4.707283693510895&amp;79.82=168.0669807860928&amp;83.80=-692.9006907132649&amp;83.81=4.068470706235418&amp;83.82=-171.27561837707958&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k+blocks=15&amp;i+blocks=16&amp;j+blocks=17&amp;left.layout=18&amp;polarity=19&amp;left+placement=20&amp;right+placement=21&amp;result+placement=22&amp;left.left=23&amp;left.left.left=24&amp;left.left.left.left=25&amp;folder=26&amp;left.left.left.right=27&amp;left.left.left.anim=28&amp;left.left.left.block=29&amp;left.left.left.layout=30&amp;left.left.right=31&amp;left.left.right.anim=32&amp;left.left.right.block=33&amp;left.left.right.layout=34&amp;left.left.right.left=35&amp;left.left.right.right=36&amp;left.left.anim=37&amp;left.left.block=38&amp;left.left.layout=39&amp;left.right=40&amp;left.right.left=41&amp;left.right.right=42&amp;left.right.anim=43&amp;left.right.block=44&amp;left.right.layout=45&amp;right=46&amp;anim=47&amp;fuse=48&amp;speed=49&amp;hide+inputs=50&amp;spin=51&amp;block=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row+guides=63&amp;flow+guides=64&amp;lens+size=65&amp;magnification=66&amp;interior+spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min+size=71&amp;min+light=72&amp;max+light=73&amp;elem+scale=74&amp;zero+hue=75&amp;hue+gap=76&amp;hue+spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">patterns seen in the input</a> are themselves thought-provoking - in particular, the strong vertical threads are particular embedding positions whose values are uniformly high magnitude across long stretches of the sequence - sometimes almost the entire thing.</li>
  <li>Interestingly, though, the <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input%20%40%20wQ)%20%40%20(K_t%20%3D%20wK_t%20%40%20input_t))%20%40%20(V%20%3D%20input%20%40%20wV)%20%40%20wO&amp;1=out&amp;2=none&amp;24=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;23.24=open&amp;25.1=wQ&amp;25.4=false&amp;25.5=768&amp;25.6=64&amp;25.7=url&amp;25.9=-1&amp;25.10=1&amp;25.11=0&amp;25.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;25.0=&amp;26.13=vmprod&amp;27.15=1&amp;28.17=positive&amp;28.18=left&amp;28.19=bottom&amp;28.20=back&amp;22.24=open&amp;29.2=none&amp;30.13=none&amp;31.15=1&amp;32.17=positive&amp;32.18=right&amp;32.19=top&amp;32.20=back&amp;33.1=wK_t&amp;33.4=false&amp;33.5=64&amp;33.6=768&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;34.1=input_t&amp;34.4=false&amp;34.5=768&amp;34.6=256&amp;34.7=url&amp;34.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;34.9=-1&amp;34.10=1&amp;34.11=0&amp;34.0=&amp;29.1=K_t&amp;29.4=true&amp;35.13=vmprod&amp;36.15=1&amp;37.17=negative&amp;37.18=left&amp;37.19=top&amp;37.20=front&amp;21.24=open&amp;38.1=V&amp;38.4=true&amp;38.2=none&amp;39.1=input&amp;39.4=false&amp;39.5=256&amp;39.6=768&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;39.0=&amp;40.1=wV&amp;40.4=false&amp;40.5=768&amp;40.6=64&amp;40.7=url&amp;40.9=-1&amp;40.10=1&amp;40.11=0&amp;40.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;40.0=&amp;41.13=none&amp;42.15=1&amp;43.17=negative&amp;43.18=right&amp;43.19=top&amp;43.20=back&amp;3.24=open&amp;44.1=wO&amp;44.4=false&amp;44.5=64&amp;44.6=768&amp;44.7=url&amp;44.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;44.9=-1&amp;44.10=1&amp;44.11=0&amp;44.0=&amp;45.46=sync&amp;45.47=16&amp;45.48=false&amp;45.13=none&amp;45.49=0&amp;45.24=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=10&amp;59.61=true&amp;59.62=5&amp;59.63=0.394&amp;59.64=0&amp;59.65=0&amp;59.66=4.632&amp;59.67=false&amp;59.68=false&amp;59.24=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.4&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.24=open&amp;78.8=&amp;78.24=open&amp;79.80=-905.2149526505231&amp;79.81=126.10717525695773&amp;79.82=-90.1644865901155&amp;83.80=-739.2766627330938&amp;83.81=125.47333863007341&amp;83.82=-229.39828071999955&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;folder=24&amp;left.left.left.right=25&amp;left.left.left.anim=26&amp;left.left.left.block=27&amp;left.left.left.layout=28&amp;left.left.right=29&amp;left.left.right.anim=30&amp;left.left.right.block=31&amp;left.left.right.layout=32&amp;left.left.right.left=33&amp;left.left.right.right=34&amp;left.left.anim=35&amp;left.left.block=36&amp;left.left.layout=37&amp;left.right=38&amp;left.right.left=39&amp;left.right.right=40&amp;left.right.anim=41&amp;left.right.block=42&amp;left.right.layout=43&amp;right=44&amp;anim=45&amp;fuse=46&amp;speed=47&amp;hide%20inputs=48&amp;spin=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">first vector in the input sequence is distinctive</a>, not only breaking the pattern of these high-magnitude columns but carrying atypical values at almost every position (aside: not visualized here, but this pattern is repeated over multiple sample inputs).</li>
</ul>

<p>Note: apropos of the last two bullet points, it’s worth reiterating that we’re visualizing computation over a <em>single sample input</em>. In practice I’ve found that each head has a characteristic pattern it will express consistently (though not identically) over a decent collection of samples (and the upcoming attention head browser will provide a collection of samples to play with), but when looking at any visualization that includes activations, it’s important to bear in mind that a full distribution of inputs may influence the ideas and intuitions it provokes it in subtle ways.</p>

<p>Finally, one more pitch to <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_5%20%40%20wQ_5_4)%20%40%20(K_t%20%3D%20wK_t_5_4%20%40%20input_t_0_5))%20%40%20(V%20%3D%20input_0_5%20%40%20wV_5_4)%20%40%20wO_5_4&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_5&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_5_4&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;24.0=&amp;25.13=vmprod&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_5_4&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_5&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=vmprod&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_5&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;38.0=&amp;39.1=wV_5_4&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_5_4&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=vmprod&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=8.38&amp;59.61=true&amp;59.62=4&amp;59.63=0.394&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.05&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;78.8=&amp;79.80=-382.8684269325278&amp;79.81=293.7591554956184&amp;79.82=395.95878922315694&amp;83.80=-14.023727291338966&amp;83.81=-38.22974037070054&amp;83.82=-84.10726407282482&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">explore the animation directly</a>!</p>

<h3 id="4c-heads-are-different-in-interesting-ways">4c Heads are different in interesting ways</h3>

<p>Before we move on, here’s one more demonstration of the usefulness of simply poking around a model to see how it works in detail.</p>

<p>This is another attention head from GPT2. It behaves quite differently from layer 5, head 4 above - as one might expect, given that it’s in a very different part of the model. This head is in the very first layer: layer 0, head 2 (<a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_0%20%40%20wQ_0_2)%20%40%20(K_t%20%3D%20wK_t_0_2%20%40%20input_t_0_0))%20%40%20(V%20%3D%20input_0_0%20%40%20wV_0_2)%20%40%20wO_0_2&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_0&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_0_2&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wq2_768_64.csv&amp;24.0=&amp;25.13=none&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_0_2&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wk_t2_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_0&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=none&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_0&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;38.0=&amp;39.1=wV_0_2&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wv2_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_0_2&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wo2_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=none&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=6&amp;59.61=true&amp;59.62=4&amp;59.63=0.73&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.49=open&amp;78.8=&amp;78.49=open&amp;79.80=-217.09372134188362&amp;79.81=412.82010718887307&amp;79.82=523.3596617096426&amp;83.80=127.59196458710655&amp;83.81=35.32022663933653&amp;83.82=87.43354119148215&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">open in mm</a>, may take a few seconds to load model weights):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/gpt2_0_2c.jpg" alt="This is another attention head from GPT2"></p>

<p>Things to note:</p>

<ul>
  <li>This head spreads attention very evenly. This has the effect of delivering a relatively <em>unweighted</em> average of <code>V</code> (or rather, the appropriate causal prefix of <code>V</code>) to each row in <code>attn @ V</code>, as can be seen in <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_0%20%40%20wQ_0_2)%20%40%20(K_t%20%3D%20wK_t_0_2%20%40%20input_t_0_0))%20%40%20(V%20%3D%20input_0_0%20%40%20wV_0_2)%20%40%20wO_0_2&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_0&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_0_2&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wq2_768_64.csv&amp;24.0=&amp;25.13=none&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_0_2&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wk_t2_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_0&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=none&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_0&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;38.0=&amp;39.1=wV_0_2&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wv2_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_0_2&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wo2_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=vmprod&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=6&amp;59.61=true&amp;59.62=4&amp;59.63=0.73&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=closed&amp;69.70=local&amp;69.71=0.4&amp;69.72=0.4&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.49=open&amp;78.8=&amp;78.49=closed&amp;79.80=11.34872888812131&amp;79.81=324.07536950158396&amp;79.82=239.8893041928473&amp;83.80=11.804686909150822&amp;83.81=25.33948904441141&amp;83.82=46.896270190786204&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">this animation</a>: as we move down the attention score triangle, the <code>attn[i] @ V</code> vector-matrix product is small fluctuations away from being simply a downscaled, progressively revealed copy of <code>V</code>.</li>
  <li><code>attn @ V</code> has <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_0%20%40%20wQ_0_2)%20%40%20(K_t%20%3D%20wK_t_0_2%20%40%20input_t_0_0))%20%40%20(V%20%3D%20input_0_0%20%40%20wV_0_2)%20%40%20wO_0_2&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_0&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_0_2&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wq2_768_64.csv&amp;24.0=&amp;25.13=none&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_0_2&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wk_t2_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_0&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=none&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_0&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;38.0=&amp;39.1=wV_0_2&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wv2_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_0_2&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wo2_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=none&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=6&amp;59.61=true&amp;59.62=4&amp;59.63=0.73&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.49=open&amp;78.8=&amp;78.49=open&amp;79.80=-152.24249732960024&amp;79.81=115.78244265148294&amp;79.82=89.29496035154&amp;83.80=20.231661185991296&amp;83.81=61.75722293832386&amp;83.82=52.45120329048098&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">striking vertical uniformity</a> - in large columnar regions of the embedding, the same value patterns persist over <em>the entire sequence</em>. One can think of these as properties shared by every token.</li>
  <li>Aside: on the one hand one might expect <em>some</em> uniformity in <code>attn @ V</code> given the effect of very evenly spread attention. But each row has been constructed from only a causal subsequence of <code>V</code> rather than the whole thing - why is that not causing more variation, like a progressive morphing as one moves down the sequence? <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_0%20%40%20wQ_0_2)%20%40%20(K_t%20%3D%20wK_t_0_2%20%40%20input_t_0_0))%20%40%20(V%20%3D%20input_0_0%20%40%20wV_0_2)%20%40%20wO_0_2&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_0&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_0_2&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wq2_768_64.csv&amp;24.0=&amp;25.13=none&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_0_2&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wk_t2_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_0&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=none&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_0&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;38.0=&amp;39.1=wV_0_2&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wv2_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_0_2&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wo2_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=none&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=6&amp;59.61=true&amp;59.62=4&amp;59.63=0.73&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.49=open&amp;78.8=&amp;78.49=open&amp;79.80=8.296178745251016&amp;79.81=-533.8678069620822&amp;79.82=35.64126972299759&amp;83.80=8.29674894856322&amp;83.81=36.25749961529174&amp;83.82=35.64126624185369&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">By visual inspection V isn’t uniform along its length</a>, so the answer must lie in some more subtle property of its distribution of values.</li>
  <li>Finally, this head’s output is <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_0%20%40%20wQ_0_2)%20%40%20(K_t%20%3D%20wK_t_0_2%20%40%20input_t_0_0))%20%40%20(V%20%3D%20input_0_0%20%40%20wV_0_2)%20%40%20wO_0_2&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_0&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_0_2&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wq2_768_64.csv&amp;24.0=&amp;25.13=none&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_0_2&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wk_t2_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_0&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=none&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_0&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;38.0=&amp;39.1=wV_0_2&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wv2_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_0_2&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wo2_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=none&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=6&amp;59.61=true&amp;59.62=4&amp;59.63=0.73&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.49=open&amp;78.8=&amp;78.49=open&amp;79.80=41.37507219272118&amp;79.81=4.367136718959145&amp;79.82=430.5595129727994&amp;83.80=607.5332301692057&amp;83.81=-2.548000389888877&amp;83.82=-122.74351758382484&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">even more vertically uniform after out-projection</a></li>
  <li>the strong impression being that the bulk of the information being delivered by this attention head consists of properties which are shared by every token in the sequence. The composition of its <a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_0%20%40%20wQ_0_2)%20%40%20(K_t%20%3D%20wK_t_0_2%20%40%20input_t_0_0))%20%40%20(V%20%3D%20input_0_0%20%40%20wV_0_2)%20%40%20wO_0_2&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_0&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_0_2&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wq2_768_64.csv&amp;24.0=&amp;25.13=none&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_0_2&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wk_t2_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_0&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=none&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_0&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;38.0=&amp;39.1=wV_0_2&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wv2_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_0_2&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wo2_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=none&amp;44.48=0&amp;44.49=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=6&amp;59.61=true&amp;59.62=4&amp;59.63=0.73&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.49=open&amp;78.8=&amp;78.49=open&amp;79.80=136.19712021298585&amp;79.81=351.47497630691043&amp;79.82=254.9066405965837&amp;83.80=554.2569175811409&amp;83.81=-39.63963114876448&amp;83.82=-109.72659308933949&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">output projection weights</a> reinforces this intuition.</li>
</ul>

<p>Overall, it’s hard to resist the idea that the extremely regular, highly structured information this attention head produces might be obtained by computational means that are a bit… less lavish. Of course this isn’t an unexplored area, but the specificity and richness of signal of the visualized computation has been useful in generating new ideas, and reasoning about existing ones.</p>

<h3 id="4d-revisiting-the-pitch-invariants-for-free">4d Revisiting the pitch: invariants for free</h3>

<p>Stepping back, it’s worth reiterating that the reason we can visualize nontrivially compound operations like attention heads and have them remain intuitive is that important algebraic properties - like how argument shapes are constrained, or which parallelization axes intersect which operations - <em>don’t require additional thinking</em>: they arise directly from the geometry of the visualized object, rather than being additional rules to keep in mind.</p>

<p>For example, in these attention head visualizations it’s immediately obvious that</p>

<ul>
  <li><code>Q</code> and <code>attn @ V</code> are the same length, <code>K</code> and <code>V</code> are the same length, and the lengths of these pairs are independent of each other</li>
  <li><code>Q</code> and <code>K</code> are the same width, <code>V</code> and <code>attn @ V</code> are the same width, and the widths of these pairs are independent of each other.</li>
</ul>

<p>These properties are true by construction, as a simple consequence of which parts of the compound structure the constituents inhabit and how they are oriented.</p>

<p>This “properties for free” benefit can be especially useful when exploring variations on a canonical structure - an obvious example being the one-row-high attention matrix in autoregressive token-at-a-time decoding (<a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_5%20%40%20wQ_5_4)%20%40%20(K_t%20%3D%20wK_t_5_4%20%40%20input_t_0_5))%20%40%20(V%20%3D%20input_0_5%20%40%20wV_5_4)%20%40%20wO_5_4&amp;1=out&amp;2=none&amp;24=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(x%2Fsqrt(k))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_5&amp;23.4=false&amp;23.5=1&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;23.24=open&amp;25.1=wQ_5_4&amp;25.4=false&amp;25.5=768&amp;25.6=64&amp;25.7=url&amp;25.9=-1&amp;25.10=1&amp;25.11=0&amp;25.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;25.0=&amp;26.13=vmprod&amp;27.15=1&amp;28.17=positive&amp;28.18=left&amp;28.19=bottom&amp;28.20=back&amp;22.24=open&amp;29.2=none&amp;30.13=none&amp;31.15=1&amp;32.17=positive&amp;32.18=right&amp;32.19=top&amp;32.20=back&amp;33.1=wK_t_5_4&amp;33.4=false&amp;33.5=64&amp;33.6=768&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;34.1=input_t_0_5&amp;34.4=false&amp;34.5=768&amp;34.6=256&amp;34.7=url&amp;34.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;34.9=-1&amp;34.10=1&amp;34.11=0&amp;34.0=&amp;29.1=K_t&amp;29.4=true&amp;35.13=vmprod&amp;36.15=1&amp;37.17=negative&amp;37.18=left&amp;37.19=top&amp;37.20=front&amp;21.24=open&amp;38.1=V&amp;38.4=true&amp;38.2=none&amp;39.1=input_0_5&amp;39.4=false&amp;39.5=256&amp;39.6=768&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;39.0=&amp;40.1=wV_5_4&amp;40.4=false&amp;40.5=768&amp;40.6=64&amp;40.7=url&amp;40.9=-1&amp;40.10=1&amp;40.11=0&amp;40.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;40.0=&amp;41.13=none&amp;42.15=1&amp;43.17=negative&amp;43.18=right&amp;43.19=top&amp;43.20=back&amp;3.24=closed&amp;44.1=wO_5_4&amp;44.4=false&amp;44.5=64&amp;44.6=768&amp;44.7=url&amp;44.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;44.9=-1&amp;44.10=1&amp;44.11=0&amp;44.0=&amp;45.46=sync&amp;45.47=16&amp;45.48=false&amp;45.13=none&amp;45.49=0&amp;45.24=open&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;53.54=blocks&amp;53.55=24&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;59.60=10&amp;59.61=true&amp;59.62=4&amp;59.63=0.394&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.24=open&amp;69.70=local&amp;69.71=0.05&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;78.8=&amp;79.80=-289.3020871171715&amp;79.81=176.55051931108687&amp;79.82=202.12550566094345&amp;83.80=6.09420901744693&amp;83.81=-60.94451681776672&amp;83.82=-55.94371166611936&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;folder=24&amp;left.left.left.right=25&amp;left.left.left.anim=26&amp;left.left.left.block=27&amp;left.left.left.layout=28&amp;left.left.right=29&amp;left.left.right.anim=30&amp;left.left.right.block=31&amp;left.left.right.layout=32&amp;left.left.right.left=33&amp;left.left.right.right=34&amp;left.left.anim=35&amp;left.left.block=36&amp;left.left.layout=37&amp;left.right=38&amp;left.right.left=39&amp;left.right.right=40&amp;left.right.anim=41&amp;left.right.block=42&amp;left.right.layout=43&amp;right=44&amp;anim=45&amp;fuse=46&amp;speed=47&amp;hide%20inputs=48&amp;spin=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/gpt2_decode2.jpg" alt="the one-row-high attention matrix in autoregressive token-at-a-time decoding"></p>

<h2 id="5-parallelizing-attention">5 Parallelizing attention</h2>

<p>In the animation of head 5, layer 4 above, we visualize 4 of the 6 matmuls in the attention head</p>

<p>as a fused chain of vector-matrix products, confirming the geometric intuition that the entire left-associative chain from input to output is <em>laminar</em> along the shared <code>i</code> axis, and can be parallelized.</p>

<h3 id="5a-example-partitioning-along-i">5a Example: partitioning along <code>i</code></h3>

<p>To parallelize the computation in practice, we would partition the input into blocks along the <code>i</code> axis. We can visualize this partition in the tool, by specifying that a given axis be partitioned into a particular number of blocks - in these examples we’ll use 8, but there’s nothing special about that number.</p>

<p>Among other things, this visualization makes clear that <code>wQ</code> (for in-projection), <code>K_t</code> and <code>V</code> (for attention) and <code>wO</code> (for out-projection) are needed in their entirety by each parallel computation, since they’re adjacent to the partitioned matrices along those matrices’ unpartitioned dimensions (<a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_5%20%40%20wQ_5_4)%20%40%20(K_t%20%3D%20wK_t_5_4%20%40%20input_t_0_5))%20%40%20(V%20%3D%20input_0_5%20%40%20wV_5_4)%20%40%20wO_5_4&amp;1=out&amp;2=none&amp;49=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=1&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input_0_5&amp;23.4=false&amp;23.5=256&amp;23.6=768&amp;23.7=url&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;23.0=&amp;24.1=wQ_5_4&amp;24.4=false&amp;24.5=768&amp;24.6=64&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;24.0=&amp;25.13=vmprod&amp;26.15=1&amp;27.17=positive&amp;27.18=left&amp;27.19=bottom&amp;27.20=back&amp;28.2=none&amp;29.13=none&amp;30.15=1&amp;31.17=positive&amp;31.18=right&amp;31.19=top&amp;31.20=back&amp;32.1=wK_t_5_4&amp;32.4=false&amp;32.5=64&amp;32.6=768&amp;32.7=url&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.0=&amp;33.1=input_t_0_5&amp;33.4=false&amp;33.5=768&amp;33.6=256&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;28.1=K_t&amp;28.4=true&amp;34.13=vmprod&amp;35.15=1&amp;36.17=negative&amp;36.18=left&amp;36.19=top&amp;36.20=front&amp;37.1=V&amp;37.4=true&amp;37.2=none&amp;38.1=input_0_5&amp;38.4=false&amp;38.5=256&amp;38.6=768&amp;38.7=url&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;38.0=&amp;39.1=wV_5_4&amp;39.4=false&amp;39.5=768&amp;39.6=64&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;39.0=&amp;40.13=none&amp;41.15=1&amp;42.17=negative&amp;42.18=right&amp;42.19=top&amp;42.20=back&amp;43.1=wO_5_4&amp;43.4=false&amp;43.5=64&amp;43.6=768&amp;43.7=url&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;44.45=sync&amp;44.46=16&amp;44.47=false&amp;44.13=none&amp;44.48=0&amp;44.49=closed&amp;50.51=8&amp;50.52=1&amp;50.15=1&amp;50.49=open&amp;53.54=blocks&amp;53.55=10&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.17=negative&amp;53.18=left&amp;53.19=top&amp;53.20=front&amp;53.49=closed&amp;59.60=10&amp;59.61=true&amp;59.62=4&amp;59.63=0.507&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.49=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.3&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.49=closed&amp;78.8=&amp;78.49=open&amp;79.80=-452.09425433307837&amp;79.81=-10.01467989007457&amp;79.82=392.9851223674549&amp;83.80=-27.91725760321879&amp;83.81=-18.858991089590095&amp;83.82=-140.6826497984033&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.anim=25&amp;left.left.left.block=26&amp;left.left.left.layout=27&amp;left.left.right=28&amp;left.left.right.anim=29&amp;left.left.right.block=30&amp;left.left.right.layout=31&amp;left.left.right.left=32&amp;left.left.right.right=33&amp;left.left.anim=34&amp;left.left.block=35&amp;left.left.layout=36&amp;left.right=37&amp;left.right.left=38&amp;left.right.right=39&amp;left.right.anim=40&amp;left.right.block=41&amp;left.right.layout=42&amp;right=43&amp;anim=44&amp;fuse=45&amp;speed=46&amp;hide%20inputs=47&amp;spin=48&amp;folder=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/gpt2_parti.jpg" alt="wQ (for in-projection), K_t and V (for attention) and wO (for out-projection) are needed in their entirety by each parallel computation"></p>

<h3 id="5b-example-double-partitioning">5b Example: double partitioning</h3>

<p>As an example of partitioning along <em>multiple</em> axes, we can visualize some recent work which innovates in this space (<a href="https://arxiv.org/pdf/2305.19370.pdf">Block Parallel Transformer</a>, building on work done in e.g. <a href="https://arxiv.org/pdf/2205.14135.pdf">Flash Attention</a> and its antecedents).</p>

<p>First, BPT partitions along <code>i</code> as described above - and actually extends this horizontal partitioning of the sequence into chunks all the way through the second (FFN) half of the attention layer as well. (We’ll visualize this in a later section.)</p>

<p>To fully attack the context length problem, a second partitioning is then added to MHA - that of the attention calculation itself (i.e., a partition along the <code>j</code> axis of <code>Q @ K_t</code>). The two partitions together divide attention into a grid of blocks (<a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input_0_5%20%40%20wQ_5_4)%20%40%20(K_t%20%3D%20wK_t_5_4%20%40%20input_t_0_5))%20%40%20(V%20%3D%20input_0_5%20%40%20wV_5_4)%20%40%20wO_5_4&amp;1=out&amp;2=none&amp;16=closed&amp;84=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=vmprod&amp;14.15=8&amp;14.16=open&amp;17.18=positive&amp;17.19=left&amp;17.20=bottom&amp;17.21=back&amp;22.1=attn&amp;22.4=true&amp;22.2=softmax(tril(x%2Fsqrt(k)))&amp;23.1=Q&amp;23.4=true&amp;23.2=none&amp;24.1=input_0_5&amp;24.4=false&amp;24.5=256&amp;24.6=768&amp;24.7=url&amp;24.9=-1&amp;24.10=1&amp;24.11=0&amp;24.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;24.0=&amp;25.1=wQ_5_4&amp;25.4=false&amp;25.5=768&amp;25.6=64&amp;25.7=url&amp;25.9=-1&amp;25.10=1&amp;25.11=0&amp;25.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;25.0=&amp;26.13=vmprod&amp;27.15=1&amp;28.18=positive&amp;28.19=left&amp;28.20=bottom&amp;28.21=back&amp;29.2=none&amp;30.13=none&amp;31.15=1&amp;32.18=positive&amp;32.19=right&amp;32.20=top&amp;32.21=back&amp;33.1=wK_t_5_4&amp;33.4=false&amp;33.5=64&amp;33.6=768&amp;33.7=url&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.0=&amp;34.1=input_t_0_5&amp;34.4=false&amp;34.5=768&amp;34.6=256&amp;34.7=url&amp;34.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;34.9=-1&amp;34.10=1&amp;34.11=0&amp;34.0=&amp;29.1=K_t&amp;29.4=true&amp;35.13=vmprod&amp;36.15=1&amp;37.18=negative&amp;37.19=left&amp;37.20=top&amp;37.21=front&amp;38.1=V&amp;38.4=true&amp;38.2=none&amp;39.1=input_0_5&amp;39.4=false&amp;39.5=256&amp;39.6=768&amp;39.7=url&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;39.0=&amp;40.1=wV_5_4&amp;40.4=false&amp;40.5=768&amp;40.6=64&amp;40.7=url&amp;40.9=-1&amp;40.10=1&amp;40.11=0&amp;40.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;40.0=&amp;41.13=none&amp;42.15=1&amp;43.18=negative&amp;43.19=right&amp;43.20=top&amp;43.21=back&amp;3.16=open&amp;44.1=wO_5_4&amp;44.4=false&amp;44.5=64&amp;44.6=768&amp;44.7=url&amp;44.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;44.9=-1&amp;44.10=1&amp;44.11=0&amp;44.0=&amp;45.46=sync&amp;45.47=16&amp;45.48=false&amp;45.13=none&amp;45.49=0&amp;45.16=closed&amp;50.51=8&amp;50.52=1&amp;50.15=1&amp;50.16=closed&amp;53.54=blocks&amp;53.55=10&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.18=negative&amp;53.19=left&amp;53.20=top&amp;53.21=front&amp;53.16=closed&amp;59.60=10&amp;59.61=true&amp;59.62=4&amp;59.63=0.507&amp;59.64=0&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.16=open&amp;69.70=local&amp;69.71=0.2&amp;69.72=0.3&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.16=closed&amp;78.8=&amp;78.16=open&amp;79.80=-459.733038437248&amp;79.81=-10.183892342609507&amp;79.82=399.6251724834292&amp;83.80=-27.91725760321879&amp;83.81=-18.858991089590095&amp;83.82=-140.6826497984033&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;folder=16&amp;left.layout=17&amp;polarity=18&amp;left%20placement=19&amp;right%20placement=20&amp;result%20placement=21&amp;left.left=22&amp;left.left.left=23&amp;left.left.left.left=24&amp;left.left.left.right=25&amp;left.left.left.anim=26&amp;left.left.left.block=27&amp;left.left.left.layout=28&amp;left.left.right=29&amp;left.left.right.anim=30&amp;left.left.right.block=31&amp;left.left.right.layout=32&amp;left.left.right.left=33&amp;left.left.right.right=34&amp;left.left.anim=35&amp;left.left.block=36&amp;left.left.layout=37&amp;left.right=38&amp;left.right.left=39&amp;left.right.right=40&amp;left.right.anim=41&amp;left.right.block=42&amp;left.right.layout=43&amp;right=44&amp;anim=45&amp;fuse=46&amp;speed=47&amp;hide%20inputs=48&amp;spin=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/gpt2_ik.jpg" alt="The two partitions together divide attention into a grid of blocks"></p>

<p>This visualization makes clear</p>

<ul>
  <li>the effectiveness of this double partitioning as an attack on the context length problem, since we’ve now visibly partitioned every occurrence of sequence length in the attention calculation</li>
  <li>the “reach” of this second partitioning: it’s clear from the geometry that the in-projection computations of <code>K</code> and <code>V</code> can be partitioned along with the core double matmul</li>
</ul>

<p>Note one subtlety: the visual implication here is that we can also parallelize the subsequent matmul <code>attn @ V</code> along <code>k</code> and sum the partial results <a href="https://github.com/NVIDIA/cutlass/blob/main/media/docs/efficient_gemm.md#parallelized-reductions">split-k style</a>, thus parallelizing the entire double matmul. But the row-wise softmax in <code>sdpa()</code> adds the requirement that each row have all its segments normalized before the corresponding row of <code>attn @ V</code> can be computed, adding an extra row-wise step between the attention calculation and the final matmul.</p>

<h2 id="6-sizes-in-an-attention-layer">6 Sizes in an Attention Layer</h2>

<p>The first (MHA) half of an attention layer is famously computationally demanding because of its quadratic complexity, but the second (FFN) half is demanding in its own right due to the width of its hidden dimension, typically 4 times that of the model’s embedding dimension. Visualizing the biomass of a full attention layer can be useful in building intuition about how the two halves of the layer compare to each other.</p>

<h3 id="6a-visualizing-the-full-layer">6a Visualizing the full layer</h3>

<p>Below is a full attention layer with the first half (MHA) in the background and the second (FFN) in the foreground. As usual, arrows point in the direction of computation.</p>

<p>Notes:</p>

<ul>
  <li>This visualization doesn’t depict individual attention heads, but instead shows the unsliced Q/K/V weights and projections surrounding a central double matmul. Of course this isn’t a faithful visualization of the full MHA operation - but the goal here is to give a clearer sense of the relative matrix <em>sizes</em> in the two halves of the layer, rather than the relative amounts of computation each half performs. (Also, randomized values are used rather than real weights.)</li>
  <li>The dimensions used here are downsized to keep the browser (relatively) happy, but the proportions are preserved (from <a href="https://github.com/karpathy/nanoGPT/blob/master/model.py#L217">NanoGPT’s small config</a>): model embedding dimension = 192 (from 768), FFN embedding dimension = 768 (from 3072), sequence length = 256 (from 1024), although sequence length is not fundamental to the model. (Visually, changes in sequence length would appear as changes in the width of the input blades, and consequently in the size of the attention hub and the height of the downstream vertical planes.)</li>
</ul>

<p><a href="https://bhosmer.github.io/mm/index.html?0=layer_out%20%3D%20(attn_out%20%3D%20(attn%20%3D%20(Q%20%3D%20input%20%40%20wQ)%20%40%20(K_t%20%3D%20wK_t%20%40%20input_t))%20%40%20(V%20%3D%20input%20%40%20wV)%20%40%20wO)%20%40%20FFN_1%20%40%20FFN_2&amp;1=layer_out&amp;2=layernorm&amp;16=closed&amp;94=true&amp;3.1=attn_out%20%40%20FFN_1&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=gelu&amp;12.13=inherit&amp;14.15=1&amp;14.16=open&amp;17.18=positive&amp;17.19=left&amp;17.20=bottom&amp;17.21=back&amp;22.2=layernorm&amp;23.13=inherit&amp;24.15=1&amp;24.16=open&amp;25.18=negative&amp;25.19=left&amp;25.20=top&amp;25.21=front&amp;26.1=attn%20%40%20V&amp;26.4=true&amp;26.5=32&amp;26.6=32&amp;26.7=row%20major&amp;26.8=&amp;26.9=-1&amp;26.10=1&amp;26.11=0&amp;26.2=none&amp;27.13=vmprod&amp;28.15=1&amp;28.16=open&amp;29.18=positive&amp;29.19=left&amp;29.20=bottom&amp;29.21=back&amp;30.1=attn&amp;30.4=true&amp;30.2=softmax(tril(x%2Fsqrt(k)))&amp;31.1=Q&amp;31.4=true&amp;31.2=none&amp;32.1=input&amp;32.4=false&amp;32.5=256&amp;32.6=192&amp;32.7=gaussian&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;32.0=&amp;32.16=open&amp;33.1=wQ&amp;33.4=false&amp;33.5=192&amp;33.6=192&amp;33.7=gaussian&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;33.0=&amp;33.16=open&amp;34.13=vmprod&amp;35.15=1&amp;36.18=positive&amp;36.19=left&amp;36.20=bottom&amp;36.21=back&amp;31.16=closed&amp;37.2=none&amp;38.13=none&amp;39.15=1&amp;40.18=positive&amp;40.19=right&amp;40.20=top&amp;40.21=back&amp;41.1=wK_t&amp;41.4=false&amp;41.5=192&amp;41.6=192&amp;41.7=gaussian&amp;41.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;41.9=-1&amp;41.10=1&amp;41.11=0&amp;41.0=&amp;41.16=open&amp;42.1=input_t&amp;42.4=false&amp;42.5=192&amp;42.6=256&amp;42.7=gaussian&amp;42.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;42.9=-1&amp;42.10=1&amp;42.11=0&amp;42.0=&amp;42.16=open&amp;37.1=K_t&amp;37.4=true&amp;37.16=closed&amp;43.13=vmprod&amp;44.15=1&amp;44.16=open&amp;45.18=negative&amp;45.19=left&amp;45.20=top&amp;45.21=front&amp;30.16=open&amp;46.1=V&amp;46.4=true&amp;46.2=none&amp;47.1=input&amp;47.4=false&amp;47.5=256&amp;47.6=192&amp;47.7=gaussian&amp;47.9=-1&amp;47.10=1&amp;47.11=0&amp;47.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;47.0=&amp;47.16=open&amp;48.1=wV&amp;48.4=false&amp;48.5=192&amp;48.6=192&amp;48.7=gaussian&amp;48.9=-1&amp;48.10=1&amp;48.11=0&amp;48.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;48.0=&amp;48.16=open&amp;49.13=none&amp;50.15=1&amp;51.18=negative&amp;51.19=right&amp;51.20=top&amp;51.21=back&amp;46.16=open&amp;26.16=open&amp;52.1=wO&amp;52.4=false&amp;52.5=192&amp;52.6=192&amp;52.7=gaussian&amp;52.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;52.9=-1&amp;52.10=0.996&amp;52.11=0&amp;52.0=&amp;52.16=closed&amp;22.1=attn_out&amp;22.4=true&amp;22.16=open&amp;53.1=FFN_1&amp;53.4=false&amp;53.5=192&amp;53.6=768&amp;53.7=gaussian&amp;53.8=&amp;53.9=-1&amp;53.10=1&amp;53.11=0&amp;53.0=&amp;53.16=closed&amp;3.16=open&amp;54.1=FFN_2&amp;54.4=false&amp;54.5=768&amp;54.6=192&amp;54.7=gaussian&amp;54.8=&amp;54.9=-1&amp;54.10=1&amp;54.11=0&amp;54.0=&amp;54.16=closed&amp;55.56=sync&amp;55.57=16&amp;55.58=false&amp;55.13=none&amp;55.59=0&amp;55.16=closed&amp;60.61=1&amp;60.62=1&amp;60.15=1&amp;60.16=closed&amp;63.64=blocks&amp;63.65=8&amp;63.66=0&amp;63.67=1&amp;63.68=0&amp;63.18=negative&amp;63.19=left&amp;63.20=top&amp;63.21=front&amp;63.16=closed&amp;69.70=10&amp;69.71=true&amp;69.72=4&amp;69.73=0.507&amp;69.74=0.524&amp;69.75=0.5&amp;69.76=12&amp;69.77=false&amp;69.78=false&amp;69.16=closed&amp;79.80=local&amp;79.81=0.1&amp;79.82=0.2&amp;79.83=0.9&amp;79.84=2&amp;79.85=0.75&amp;79.86=0.75&amp;79.87=0.03&amp;79.16=closed&amp;88.8=&amp;88.16=open&amp;89.90=-738.1526976199144&amp;89.91=919.9001193338946&amp;89.92=957.7418906526483&amp;93.90=0&amp;93.91=0&amp;93.92=0&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;folder=16&amp;left.layout=17&amp;polarity=18&amp;left%20placement=19&amp;right%20placement=20&amp;result%20placement=21&amp;left.left=22&amp;left.left.anim=23&amp;left.left.block=24&amp;left.left.layout=25&amp;left.left.left=26&amp;left.left.left.anim=27&amp;left.left.left.block=28&amp;left.left.left.layout=29&amp;left.left.left.left=30&amp;left.left.left.left.left=31&amp;left.left.left.left.left.left=32&amp;left.left.left.left.left.right=33&amp;left.left.left.left.left.anim=34&amp;left.left.left.left.left.block=35&amp;left.left.left.left.left.layout=36&amp;left.left.left.left.right=37&amp;left.left.left.left.right.anim=38&amp;left.left.left.left.right.block=39&amp;left.left.left.left.right.layout=40&amp;left.left.left.left.right.left=41&amp;left.left.left.left.right.right=42&amp;left.left.left.left.anim=43&amp;left.left.left.left.block=44&amp;left.left.left.left.layout=45&amp;left.left.left.right=46&amp;left.left.left.right.left=47&amp;left.left.left.right.right=48&amp;left.left.left.right.anim=49&amp;left.left.left.right.block=50&amp;left.left.left.right.layout=51&amp;left.left.right=52&amp;left.right=53&amp;right=54&amp;anim=55&amp;fuse=56&amp;speed=57&amp;hide%20inputs=58&amp;spin=59&amp;block=60&amp;i%20blocks=61&amp;j%20blocks=62&amp;layout=63&amp;scheme=64&amp;gap=65&amp;scatter=66&amp;molecule=67&amp;blast=68&amp;deco=69&amp;legends=70&amp;shape=71&amp;spotlight=72&amp;row%20guides=73&amp;flow%20guides=74&amp;lens%20size=75&amp;magnification=76&amp;interior%20spotlight=77&amp;axes=78&amp;viz=79&amp;sensitivity=80&amp;min%20size=81&amp;min%20light=82&amp;max%20light=83&amp;elem%20scale=84&amp;zero%20hue=85&amp;hue%20gap=86&amp;hue%20spread=87&amp;diag=88&amp;cam=89&amp;x=90&amp;y=91&amp;z=92&amp;cam.target=93&amp;compress=94">Open in mm</a>:</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/attnlayer2.jpg" alt="a full attention layer with the first half (MHA) in the background and the second (FFN) in the foreground"></p>

<h3 id="6b-visualizing-the-bpt-partitioned-layer">6b Visualizing the BPT partitioned layer</h3>

<p>Revisiting <a href="https://arxiv.org/pdf/2305.19370.pdf">Blockwise Parallel Transformer</a> briefly, here we visualize BPT’s parallelization scheme in the context of an entire attention layer (with individual heads elided per above). In particular, note how the partitioning along <code>i</code> (of sequence blocks) extends through both MHA and FFN halves (<a href="https://bhosmer.github.io/mm/index.html?0=layer_out%20%3D%20(attn_out%20%3D%20(attn%20%3D%20(Q%20%3D%20input%20%40%20wQ)%20%40%20(K_t%20%3D%20wK_t%20%40%20input_t))%20%40%20(V%20%3D%20input%20%40%20wV)%20%40%20wO)%20%40%20FFN_1%20%40%20FFN_2&amp;1=layer_out&amp;2=layernorm&amp;16=closed&amp;94=true&amp;3.1=attn_out%20%40%20FFN_1&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=gelu&amp;12.13=inherit&amp;14.15=1&amp;14.16=closed&amp;17.18=positive&amp;17.19=left&amp;17.20=bottom&amp;17.21=back&amp;22.2=layernorm&amp;23.13=inherit&amp;24.15=1&amp;24.16=closed&amp;25.18=negative&amp;25.19=left&amp;25.20=top&amp;25.21=front&amp;26.1=attn%20%40%20V&amp;26.4=true&amp;26.5=32&amp;26.6=32&amp;26.7=row%20major&amp;26.8=&amp;26.9=-1&amp;26.10=1&amp;26.11=0&amp;26.2=none&amp;27.13=vmprod&amp;28.15=8&amp;28.16=open&amp;29.18=positive&amp;29.19=left&amp;29.20=bottom&amp;29.21=back&amp;30.1=attn&amp;30.4=true&amp;30.2=softmax(tril(x%2Fsqrt(k)))&amp;31.1=Q&amp;31.4=true&amp;31.2=none&amp;32.1=input&amp;32.4=false&amp;32.5=256&amp;32.6=192&amp;32.7=gaussian&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;32.0=&amp;32.16=open&amp;33.1=wQ&amp;33.4=false&amp;33.5=192&amp;33.6=192&amp;33.7=gaussian&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;33.0=&amp;33.16=open&amp;34.13=vmprod&amp;35.15=1&amp;36.18=positive&amp;36.19=left&amp;36.20=bottom&amp;36.21=back&amp;31.16=closed&amp;37.2=none&amp;38.13=none&amp;39.15=1&amp;40.18=positive&amp;40.19=right&amp;40.20=top&amp;40.21=back&amp;41.1=wK_t&amp;41.4=false&amp;41.5=192&amp;41.6=192&amp;41.7=gaussian&amp;41.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;41.9=-1&amp;41.10=1&amp;41.11=0&amp;41.0=&amp;41.16=open&amp;42.1=input_t&amp;42.4=false&amp;42.5=192&amp;42.6=256&amp;42.7=gaussian&amp;42.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;42.9=-1&amp;42.10=1&amp;42.11=0&amp;42.0=&amp;42.16=open&amp;37.1=K_t&amp;37.4=true&amp;37.16=closed&amp;43.13=vmprod&amp;44.15=1&amp;44.16=open&amp;45.18=negative&amp;45.19=left&amp;45.20=top&amp;45.21=front&amp;30.16=closed&amp;46.1=V&amp;46.4=true&amp;46.2=none&amp;47.1=input&amp;47.4=false&amp;47.5=256&amp;47.6=192&amp;47.7=gaussian&amp;47.9=-1&amp;47.10=1&amp;47.11=0&amp;47.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;47.0=&amp;47.16=open&amp;48.1=wV&amp;48.4=false&amp;48.5=192&amp;48.6=192&amp;48.7=gaussian&amp;48.9=-1&amp;48.10=1&amp;48.11=0&amp;48.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;48.0=&amp;48.16=open&amp;49.13=none&amp;50.15=1&amp;51.18=negative&amp;51.19=right&amp;51.20=top&amp;51.21=back&amp;46.16=closed&amp;26.16=open&amp;52.1=wO&amp;52.4=false&amp;52.5=192&amp;52.6=192&amp;52.7=gaussian&amp;52.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;52.9=-1&amp;52.10=0.996&amp;52.11=0&amp;52.0=&amp;52.16=closed&amp;22.1=attn_out&amp;22.4=true&amp;22.16=open&amp;53.1=FFN_1&amp;53.4=false&amp;53.5=192&amp;53.6=768&amp;53.7=gaussian&amp;53.8=&amp;53.9=-1&amp;53.10=1&amp;53.11=0&amp;53.0=&amp;53.16=closed&amp;3.16=open&amp;54.1=FFN_2&amp;54.4=false&amp;54.5=768&amp;54.6=192&amp;54.7=gaussian&amp;54.8=&amp;54.9=-1&amp;54.10=1&amp;54.11=0&amp;54.0=&amp;54.16=closed&amp;55.56=sync&amp;55.57=16&amp;55.58=false&amp;55.13=none&amp;55.59=0&amp;55.16=closed&amp;60.61=8&amp;60.62=1&amp;60.15=1&amp;60.16=open&amp;63.64=blocks&amp;63.65=8&amp;63.66=0&amp;63.67=1&amp;63.68=0&amp;63.18=negative&amp;63.19=left&amp;63.20=top&amp;63.21=front&amp;63.16=closed&amp;69.70=10&amp;69.71=true&amp;69.72=4&amp;69.73=0.507&amp;69.74=0.524&amp;69.75=0.5&amp;69.76=12&amp;69.77=false&amp;69.78=false&amp;69.16=closed&amp;79.80=local&amp;79.81=0.1&amp;79.82=0.2&amp;79.83=0.9&amp;79.84=2&amp;79.85=0.75&amp;79.86=0.75&amp;79.87=0.03&amp;79.16=closed&amp;88.8=&amp;88.16=open&amp;89.90=-766.4372214429399&amp;89.91=955.1488380935747&amp;89.92=994.4406298292719&amp;93.90=0&amp;93.91=0&amp;93.92=0&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;folder=16&amp;left.layout=17&amp;polarity=18&amp;left%20placement=19&amp;right%20placement=20&amp;result%20placement=21&amp;left.left=22&amp;left.left.anim=23&amp;left.left.block=24&amp;left.left.layout=25&amp;left.left.left=26&amp;left.left.left.anim=27&amp;left.left.left.block=28&amp;left.left.left.layout=29&amp;left.left.left.left=30&amp;left.left.left.left.left=31&amp;left.left.left.left.left.left=32&amp;left.left.left.left.left.right=33&amp;left.left.left.left.left.anim=34&amp;left.left.left.left.left.block=35&amp;left.left.left.left.left.layout=36&amp;left.left.left.left.right=37&amp;left.left.left.left.right.anim=38&amp;left.left.left.left.right.block=39&amp;left.left.left.left.right.layout=40&amp;left.left.left.left.right.left=41&amp;left.left.left.left.right.right=42&amp;left.left.left.left.anim=43&amp;left.left.left.left.block=44&amp;left.left.left.left.layout=45&amp;left.left.left.right=46&amp;left.left.left.right.left=47&amp;left.left.left.right.right=48&amp;left.left.left.right.anim=49&amp;left.left.left.right.block=50&amp;left.left.left.right.layout=51&amp;left.left.right=52&amp;left.right=53&amp;right=54&amp;anim=55&amp;fuse=56&amp;speed=57&amp;hide%20inputs=58&amp;spin=59&amp;block=60&amp;i%20blocks=61&amp;j%20blocks=62&amp;layout=63&amp;scheme=64&amp;gap=65&amp;scatter=66&amp;molecule=67&amp;blast=68&amp;deco=69&amp;legends=70&amp;shape=71&amp;spotlight=72&amp;row%20guides=73&amp;flow%20guides=74&amp;lens%20size=75&amp;magnification=76&amp;interior%20spotlight=77&amp;axes=78&amp;viz=79&amp;sensitivity=80&amp;min%20size=81&amp;min%20light=82&amp;max%20light=83&amp;elem%20scale=84&amp;zero%20hue=85&amp;hue%20gap=86&amp;hue%20spread=87&amp;diag=88&amp;cam=89&amp;x=90&amp;y=91&amp;z=92&amp;cam.target=93&amp;compress=94">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/bptlayer.jpg" alt="visualize BPT's parallelization scheme in the context of an entire attention layer"></p>

<h3 id="6c-partitioning-the-ffn">6c Partitioning the FFN</h3>

<p>The visualization suggests an additional partitioning, orthogonal to the ones described above - in the FFN half of the attention layer, splitting the double matmul <code>(attn_out @ FFN_1) @ FFN_2</code>, first along <code>j</code> for <code>attn_out @ FFN_1</code>, then along <code>k</code> in the subsequent matmul with <code>FFN_2</code>. This partition slices both layers of <code>FFN</code> weights, reducing the capacity requirements of each participant in the computation at the cost of a final summation of the partial results.</p>

<p>Here’s what this partition looks like applied to an otherwise unpartitioned attention layer (<a href="https://bhosmer.github.io/mm/index.html?0=layer_out+%3D+%28attn_out+%3D+%28attn+%3D+%28Q+%3D+input+%40+wQ%29+%40+%28K_t+%3D+wK_t+%40+input_t%29%29+%40+%28V+%3D+input+%40+wV%29+%40+wO%29+%40+FFN_1+%40+FFN_2&amp;1=layer_out&amp;2=layernorm&amp;16=closed&amp;94=true&amp;3.1=attn_out+%40+FFN_1&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row+major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=gelu&amp;12.13=inherit&amp;14.15=1&amp;14.16=open&amp;14.17=1&amp;14.18=8&amp;19.20=positive&amp;19.21=left&amp;19.22=bottom&amp;19.23=back&amp;24.2=layernorm&amp;25.13=inherit&amp;26.15=1&amp;26.16=closed&amp;26.17=1&amp;26.18=1&amp;27.20=negative&amp;27.21=left&amp;27.22=top&amp;27.23=front&amp;28.1=attn+%40+V&amp;28.4=true&amp;28.5=32&amp;28.6=32&amp;28.7=row+major&amp;28.8=&amp;28.9=-1&amp;28.10=1&amp;28.11=0&amp;28.2=none&amp;29.13=vmprod&amp;30.15=1&amp;30.16=open&amp;30.17=1&amp;30.18=1&amp;31.20=positive&amp;31.21=left&amp;31.22=bottom&amp;31.23=back&amp;32.1=attn&amp;32.4=true&amp;32.2=softmax%28tril%28x%2Fsqrt%28k%29%29%29&amp;33.1=Q&amp;33.4=true&amp;33.2=none&amp;34.1=input&amp;34.4=false&amp;34.5=256&amp;34.6=192&amp;34.7=gaussian&amp;34.9=-1&amp;34.10=1&amp;34.11=0&amp;34.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;34.0=&amp;34.16=open&amp;35.1=wQ&amp;35.4=false&amp;35.5=192&amp;35.6=192&amp;35.7=gaussian&amp;35.9=-1&amp;35.10=1&amp;35.11=0&amp;35.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;35.0=&amp;35.16=open&amp;36.13=vmprod&amp;37.15=1&amp;37.17=1&amp;37.18=1&amp;38.20=positive&amp;38.21=left&amp;38.22=bottom&amp;38.23=back&amp;33.16=closed&amp;39.2=none&amp;40.13=none&amp;41.15=1&amp;41.17=1&amp;41.18=1&amp;42.20=positive&amp;42.21=right&amp;42.22=top&amp;42.23=back&amp;43.1=wK_t&amp;43.4=false&amp;43.5=192&amp;43.6=192&amp;43.7=gaussian&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;43.16=open&amp;44.1=input_t&amp;44.4=false&amp;44.5=192&amp;44.6=256&amp;44.7=gaussian&amp;44.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;44.9=-1&amp;44.10=1&amp;44.11=0&amp;44.0=&amp;44.16=open&amp;39.1=K_t&amp;39.4=true&amp;39.16=closed&amp;45.13=vmprod&amp;46.15=1&amp;46.16=open&amp;46.17=1&amp;46.18=1&amp;47.20=negative&amp;47.21=left&amp;47.22=top&amp;47.23=front&amp;32.16=closed&amp;48.1=V&amp;48.4=true&amp;48.2=none&amp;49.1=input&amp;49.4=false&amp;49.5=256&amp;49.6=192&amp;49.7=gaussian&amp;49.9=-1&amp;49.10=1&amp;49.11=0&amp;49.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;49.0=&amp;49.16=open&amp;50.1=wV&amp;50.4=false&amp;50.5=192&amp;50.6=192&amp;50.7=gaussian&amp;50.9=-1&amp;50.10=1&amp;50.11=0&amp;50.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;50.0=&amp;50.16=open&amp;51.13=none&amp;52.15=1&amp;52.17=1&amp;52.18=1&amp;53.20=negative&amp;53.21=right&amp;53.22=top&amp;53.23=back&amp;48.16=closed&amp;28.16=open&amp;54.1=wO&amp;54.4=false&amp;54.5=192&amp;54.6=192&amp;54.7=gaussian&amp;54.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;54.9=-1&amp;54.10=0.996&amp;54.11=0&amp;54.0=&amp;54.16=closed&amp;24.1=attn_out&amp;24.4=true&amp;24.16=closed&amp;55.1=FFN_1&amp;55.4=false&amp;55.5=192&amp;55.6=768&amp;55.7=gaussian&amp;55.8=&amp;55.9=-1&amp;55.10=1&amp;55.11=0&amp;55.0=&amp;55.16=closed&amp;3.16=open&amp;56.1=FFN_2&amp;56.4=false&amp;56.5=768&amp;56.6=192&amp;56.7=gaussian&amp;56.8=&amp;56.9=-1&amp;56.10=1&amp;56.11=0&amp;56.0=&amp;56.16=closed&amp;57.58=sync&amp;57.59=16&amp;57.60=false&amp;57.13=none&amp;57.61=0&amp;57.16=closed&amp;62.17=1&amp;62.15=8&amp;62.18=1&amp;62.16=closed&amp;63.64=blocks&amp;63.65=8&amp;63.66=0&amp;63.67=1&amp;63.68=0&amp;63.20=negative&amp;63.21=left&amp;63.22=top&amp;63.23=front&amp;63.16=closed&amp;69.70=10&amp;69.71=true&amp;69.72=4&amp;69.73=0.507&amp;69.74=0.524&amp;69.75=0.5&amp;69.76=12&amp;69.77=false&amp;69.78=false&amp;69.16=closed&amp;79.80=local&amp;79.81=0.1&amp;79.82=0.2&amp;79.83=0.9&amp;79.84=2&amp;79.85=0.75&amp;79.86=0.75&amp;79.87=0.03&amp;79.16=closed&amp;88.8=&amp;88.16=open&amp;89.90=-725.0392607527422&amp;89.91=909.2543497392985&amp;89.92=1420.9035091451585&amp;93.90=84.4062135237143&amp;93.91=2.295441349889614&amp;93.92=60.16668289640925&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k+blocks=15&amp;folder=16&amp;i+blocks=17&amp;j+blocks=18&amp;left.layout=19&amp;polarity=20&amp;left+placement=21&amp;right+placement=22&amp;result+placement=23&amp;left.left=24&amp;left.left.anim=25&amp;left.left.block=26&amp;left.left.layout=27&amp;left.left.left=28&amp;left.left.left.anim=29&amp;left.left.left.block=30&amp;left.left.left.layout=31&amp;left.left.left.left=32&amp;left.left.left.left.left=33&amp;left.left.left.left.left.left=34&amp;left.left.left.left.left.right=35&amp;left.left.left.left.left.anim=36&amp;left.left.left.left.left.block=37&amp;left.left.left.left.left.layout=38&amp;left.left.left.left.right=39&amp;left.left.left.left.right.anim=40&amp;left.left.left.left.right.block=41&amp;left.left.left.left.right.layout=42&amp;left.left.left.left.right.left=43&amp;left.left.left.left.right.right=44&amp;left.left.left.left.anim=45&amp;left.left.left.left.block=46&amp;left.left.left.left.layout=47&amp;left.left.left.right=48&amp;left.left.left.right.left=49&amp;left.left.left.right.right=50&amp;left.left.left.right.anim=51&amp;left.left.left.right.block=52&amp;left.left.left.right.layout=53&amp;left.left.right=54&amp;left.right=55&amp;right=56&amp;anim=57&amp;fuse=58&amp;speed=59&amp;hide+inputs=60&amp;spin=61&amp;block=62&amp;layout=63&amp;scheme=64&amp;gap=65&amp;scatter=66&amp;molecule=67&amp;blast=68&amp;deco=69&amp;legends=70&amp;shape=71&amp;spotlight=72&amp;row+guides=73&amp;flow+guides=74&amp;lens+size=75&amp;magnification=76&amp;interior+spotlight=77&amp;axes=78&amp;viz=79&amp;sensitivity=80&amp;min+size=81&amp;min+light=82&amp;max+light=83&amp;elem+scale=84&amp;zero+hue=85&amp;hue+gap=86&amp;hue+spread=87&amp;diag=88&amp;cam=89&amp;x=90&amp;y=91&amp;z=92&amp;cam.target=93&amp;compress=94">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/attnlayer_ffnsplitk.jpg" alt="what this partition looks like applied to an otherwise unpartitioned attention layer"></p>

<p>And here it is applied to a layer partitioned a la BPT (<a href="https://bhosmer.github.io/mm/index.html?0=layer_out+%3D+%28attn_out+%3D+%28attn+%3D+%28Q+%3D+input+%40+wQ%29+%40+%28K_t+%3D+wK_t+%40+input_t%29%29+%40+%28V+%3D+input+%40+wV%29+%40+wO%29+%40+FFN_1+%40+FFN_2&amp;1=layer_out&amp;2=layernorm&amp;16=closed&amp;94=true&amp;3.1=attn_out+%40+FFN_1&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row+major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=gelu&amp;12.13=inherit&amp;14.15=1&amp;14.16=open&amp;14.17=8&amp;14.18=8&amp;19.20=positive&amp;19.21=left&amp;19.22=bottom&amp;19.23=back&amp;24.2=layernorm&amp;25.13=inherit&amp;26.15=1&amp;26.16=closed&amp;26.17=8&amp;26.18=1&amp;27.20=negative&amp;27.21=left&amp;27.22=top&amp;27.23=front&amp;28.1=attn+%40+V&amp;28.4=true&amp;28.5=32&amp;28.6=32&amp;28.7=row+major&amp;28.8=&amp;28.9=-1&amp;28.10=1&amp;28.11=0&amp;28.2=none&amp;29.13=vmprod&amp;30.15=8&amp;30.16=open&amp;30.17=8&amp;30.18=1&amp;31.20=positive&amp;31.21=left&amp;31.22=bottom&amp;31.23=back&amp;32.1=attn&amp;32.4=true&amp;32.2=softmax%28tril%28x%2Fsqrt%28k%29%29%29&amp;33.1=Q&amp;33.4=true&amp;33.2=none&amp;34.1=input&amp;34.4=false&amp;34.5=256&amp;34.6=192&amp;34.7=gaussian&amp;34.9=-1&amp;34.10=1&amp;34.11=0&amp;34.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;34.0=&amp;34.16=open&amp;35.1=wQ&amp;35.4=false&amp;35.5=192&amp;35.6=192&amp;35.7=gaussian&amp;35.9=-1&amp;35.10=1&amp;35.11=0&amp;35.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;35.0=&amp;35.16=open&amp;36.13=vmprod&amp;37.15=1&amp;37.17=8&amp;37.18=1&amp;38.20=positive&amp;38.21=left&amp;38.22=bottom&amp;38.23=back&amp;33.16=closed&amp;39.2=none&amp;40.13=none&amp;41.15=1&amp;41.17=1&amp;41.18=1&amp;42.20=positive&amp;42.21=right&amp;42.22=top&amp;42.23=back&amp;43.1=wK_t&amp;43.4=false&amp;43.5=192&amp;43.6=192&amp;43.7=gaussian&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wk_t4_64_768.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;43.16=open&amp;44.1=input_t&amp;44.4=false&amp;44.5=192&amp;44.6=256&amp;44.7=gaussian&amp;44.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;44.9=-1&amp;44.10=1&amp;44.11=0&amp;44.0=&amp;44.16=open&amp;39.1=K_t&amp;39.4=true&amp;39.16=closed&amp;45.13=vmprod&amp;46.15=1&amp;46.16=open&amp;46.17=8&amp;46.18=1&amp;47.20=negative&amp;47.21=left&amp;47.22=top&amp;47.23=front&amp;32.16=closed&amp;48.1=V&amp;48.4=true&amp;48.2=none&amp;49.1=input&amp;49.4=false&amp;49.5=256&amp;49.6=192&amp;49.7=gaussian&amp;49.9=-1&amp;49.10=1&amp;49.11=0&amp;49.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;49.0=&amp;49.16=open&amp;50.1=wV&amp;50.4=false&amp;50.5=192&amp;50.6=192&amp;50.7=gaussian&amp;50.9=-1&amp;50.10=1&amp;50.11=0&amp;50.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;50.0=&amp;50.16=open&amp;51.13=none&amp;52.15=1&amp;52.17=1&amp;52.18=1&amp;53.20=negative&amp;53.21=right&amp;53.22=top&amp;53.23=back&amp;48.16=closed&amp;28.16=open&amp;54.1=wO&amp;54.4=false&amp;54.5=192&amp;54.6=192&amp;54.7=gaussian&amp;54.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;54.9=-1&amp;54.10=0.996&amp;54.11=0&amp;54.0=&amp;54.16=closed&amp;24.1=attn_out&amp;24.4=true&amp;24.16=closed&amp;55.1=FFN_1&amp;55.4=false&amp;55.5=192&amp;55.6=768&amp;55.7=gaussian&amp;55.8=&amp;55.9=-1&amp;55.10=1&amp;55.11=0&amp;55.0=&amp;55.16=closed&amp;3.16=open&amp;56.1=FFN_2&amp;56.4=false&amp;56.5=768&amp;56.6=192&amp;56.7=gaussian&amp;56.8=&amp;56.9=-1&amp;56.10=1&amp;56.11=0&amp;56.0=&amp;56.16=closed&amp;57.58=sync&amp;57.59=16&amp;57.60=false&amp;57.13=none&amp;57.61=0&amp;57.16=closed&amp;62.17=8&amp;62.15=8&amp;62.18=1&amp;62.16=open&amp;63.64=blocks&amp;63.65=8&amp;63.66=0&amp;63.67=1&amp;63.68=0&amp;63.20=negative&amp;63.21=left&amp;63.22=top&amp;63.23=front&amp;63.16=closed&amp;69.70=10&amp;69.71=true&amp;69.72=4&amp;69.73=0.507&amp;69.74=0.524&amp;69.75=0.5&amp;69.76=12&amp;69.77=false&amp;69.78=false&amp;69.16=closed&amp;79.80=local&amp;79.81=0.1&amp;79.82=0.2&amp;79.83=0.9&amp;79.84=2&amp;79.85=0.75&amp;79.86=0.75&amp;79.87=0.03&amp;79.16=closed&amp;88.8=&amp;88.16=open&amp;89.90=-908.5990219796431&amp;89.91=1012.984380609292&amp;89.92=1378.7815259698948&amp;93.90=57.978218494193676&amp;93.91=-30.847130586978256&amp;93.92=41.66771129059017&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k+blocks=15&amp;folder=16&amp;i+blocks=17&amp;j+blocks=18&amp;left.layout=19&amp;polarity=20&amp;left+placement=21&amp;right+placement=22&amp;result+placement=23&amp;left.left=24&amp;left.left.anim=25&amp;left.left.block=26&amp;left.left.layout=27&amp;left.left.left=28&amp;left.left.left.anim=29&amp;left.left.left.block=30&amp;left.left.left.layout=31&amp;left.left.left.left=32&amp;left.left.left.left.left=33&amp;left.left.left.left.left.left=34&amp;left.left.left.left.left.right=35&amp;left.left.left.left.left.anim=36&amp;left.left.left.left.left.block=37&amp;left.left.left.left.left.layout=38&amp;left.left.left.left.right=39&amp;left.left.left.left.right.anim=40&amp;left.left.left.left.right.block=41&amp;left.left.left.left.right.layout=42&amp;left.left.left.left.right.left=43&amp;left.left.left.left.right.right=44&amp;left.left.left.left.anim=45&amp;left.left.left.left.block=46&amp;left.left.left.left.layout=47&amp;left.left.left.right=48&amp;left.left.left.right.left=49&amp;left.left.left.right.right=50&amp;left.left.left.right.anim=51&amp;left.left.left.right.block=52&amp;left.left.left.right.layout=53&amp;left.left.right=54&amp;left.right=55&amp;right=56&amp;anim=57&amp;fuse=58&amp;speed=59&amp;hide+inputs=60&amp;spin=61&amp;block=62&amp;layout=63&amp;scheme=64&amp;gap=65&amp;scatter=66&amp;molecule=67&amp;blast=68&amp;deco=69&amp;legends=70&amp;shape=71&amp;spotlight=72&amp;row+guides=73&amp;flow+guides=74&amp;lens+size=75&amp;magnification=76&amp;interior+spotlight=77&amp;axes=78&amp;viz=79&amp;sensitivity=80&amp;min+size=81&amp;min+light=82&amp;max+light=83&amp;elem+scale=84&amp;zero+hue=85&amp;hue+gap=86&amp;hue+spread=87&amp;diag=88&amp;cam=89&amp;x=90&amp;y=91&amp;z=92&amp;cam.target=93&amp;compress=94">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/bptlayer_ffnsplitk.jpg" alt="applied to a layer partitioned a la BPT"></p>

<h3 id="6d-visualizing-token-at-a-time-decoding">6d Visualizing token-at-a-time decoding</h3>

<p>During autoregressive token-at-a-time decoding, the query vector consists of a single token. It’s instructive to have a mental picture of what an attention layer looks like in that situation - a single embedding row working its way through an enormous tiled plane of weights.</p>

<p>Aside from the emphasizing the sheer immensity of weights compared to activations, this view is also evocative of the notion that <code>K_t</code> and <code>V</code> function like dynamically generated layers in a 6-layer MLP, although the mux/demux computations of MHA itself (papered over here, per above) make the correspondence inexact (<a href="https://bhosmer.github.io/mm/index.html?0=layer_out%20%3D%20(attn_out%20%3D%20(attn%20%3D%20(Q%20%3D%20input%20%40%20wQ)%20%40%20K_t)%20%40%20V%20%40%20wO)%20%40%20FFN_1%20%40%20FFN_2&amp;1=layer_out&amp;2=layernorm&amp;16=closed&amp;84=true&amp;3.1=attn_out%20%40%20FFN_1&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=row%20major&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=gelu&amp;12.13=inherit&amp;14.15=1&amp;14.16=open&amp;17.18=positive&amp;17.19=left&amp;17.20=bottom&amp;17.21=back&amp;22.2=layernorm&amp;23.13=inherit&amp;24.15=1&amp;24.16=open&amp;25.18=negative&amp;25.19=left&amp;25.20=top&amp;25.21=front&amp;26.1=attn%20%40%20V&amp;26.4=true&amp;26.5=32&amp;26.6=32&amp;26.7=row%20major&amp;26.8=&amp;26.9=-1&amp;26.10=1&amp;26.11=0&amp;26.2=none&amp;27.13=vmprod&amp;28.15=1&amp;28.16=open&amp;29.18=positive&amp;29.19=left&amp;29.20=bottom&amp;29.21=back&amp;30.1=attn&amp;30.4=true&amp;30.2=softmax(tril(x%2Fsqrt(k)))&amp;31.1=Q&amp;31.4=true&amp;31.2=none&amp;32.1=input&amp;32.4=false&amp;32.5=1&amp;32.6=192&amp;32.7=gaussian&amp;32.9=-1&amp;32.10=1&amp;32.11=0&amp;32.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input0_256_768.csv&amp;32.0=&amp;32.16=open&amp;33.1=wQ&amp;33.4=false&amp;33.5=192&amp;33.6=192&amp;33.7=gaussian&amp;33.9=-1&amp;33.10=1&amp;33.11=0&amp;33.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wq4_768_64.csv&amp;33.0=&amp;33.16=open&amp;34.13=vmprod&amp;35.15=1&amp;36.18=positive&amp;36.19=left&amp;36.20=bottom&amp;36.21=back&amp;31.16=open&amp;37.1=K_t&amp;37.4=false&amp;37.5=192&amp;37.6=256&amp;37.7=gaussian&amp;37.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_input_t0_768_256.csv&amp;37.9=-1&amp;37.10=1&amp;37.11=0&amp;37.0=&amp;37.16=open&amp;38.13=vmprod&amp;39.15=1&amp;39.16=open&amp;40.18=negative&amp;40.19=left&amp;40.20=top&amp;40.21=front&amp;30.16=open&amp;41.1=V&amp;41.4=false&amp;41.16=open&amp;41.5=256&amp;41.6=192&amp;41.7=gaussian&amp;41.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wv4_768_64.csv&amp;41.0=&amp;41.9=-1&amp;41.10=1&amp;41.11=0&amp;26.16=open&amp;42.1=wO&amp;42.4=false&amp;42.5=192&amp;42.6=192&amp;42.7=gaussian&amp;42.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer5_wo4_64_768.csv&amp;42.9=-1&amp;42.10=0.996&amp;42.11=0&amp;42.0=&amp;42.16=closed&amp;22.1=attn_out&amp;22.4=true&amp;22.16=open&amp;43.1=FFN_1&amp;43.4=false&amp;43.5=192&amp;43.6=768&amp;43.7=gaussian&amp;43.8=&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;43.16=closed&amp;3.16=open&amp;44.1=FFN_2&amp;44.4=false&amp;44.5=768&amp;44.6=192&amp;44.7=gaussian&amp;44.8=&amp;44.9=-1&amp;44.10=1&amp;44.11=0&amp;44.0=&amp;44.16=closed&amp;45.46=sync&amp;45.47=16&amp;45.48=false&amp;45.13=none&amp;45.49=0&amp;45.16=closed&amp;50.51=1&amp;50.52=1&amp;50.15=1&amp;50.16=closed&amp;53.54=blocks&amp;53.55=8&amp;53.56=0&amp;53.57=1&amp;53.58=0&amp;53.18=negative&amp;53.19=left&amp;53.20=top&amp;53.21=front&amp;53.16=closed&amp;59.60=10&amp;59.61=true&amp;59.62=4&amp;59.63=0.507&amp;59.64=0.524&amp;59.65=0.5&amp;59.66=12&amp;59.67=false&amp;59.68=false&amp;59.16=closed&amp;69.70=local&amp;69.71=0.1&amp;69.72=0.2&amp;69.73=0.9&amp;69.74=2&amp;69.75=0.75&amp;69.76=0.75&amp;69.77=0.03&amp;69.16=closed&amp;78.8=&amp;78.16=open&amp;79.80=-621.3352100945762&amp;79.81=774.3199147754915&amp;79.82=806.172978523008&amp;83.80=0&amp;83.81=0&amp;83.82=0&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;left.block=14&amp;k%20blocks=15&amp;folder=16&amp;left.layout=17&amp;polarity=18&amp;left%20placement=19&amp;right%20placement=20&amp;result%20placement=21&amp;left.left=22&amp;left.left.anim=23&amp;left.left.block=24&amp;left.left.layout=25&amp;left.left.left=26&amp;left.left.left.anim=27&amp;left.left.left.block=28&amp;left.left.left.layout=29&amp;left.left.left.left=30&amp;left.left.left.left.left=31&amp;left.left.left.left.left.left=32&amp;left.left.left.left.left.right=33&amp;left.left.left.left.left.anim=34&amp;left.left.left.left.left.block=35&amp;left.left.left.left.left.layout=36&amp;left.left.left.left.right=37&amp;left.left.left.left.anim=38&amp;left.left.left.left.block=39&amp;left.left.left.left.layout=40&amp;left.left.left.right=41&amp;left.left.right=42&amp;left.right=43&amp;right=44&amp;anim=45&amp;fuse=46&amp;speed=47&amp;hide%20inputs=48&amp;spin=49&amp;block=50&amp;i%20blocks=51&amp;j%20blocks=52&amp;layout=53&amp;scheme=54&amp;gap=55&amp;scatter=56&amp;molecule=57&amp;blast=58&amp;deco=59&amp;legends=60&amp;shape=61&amp;spotlight=62&amp;row%20guides=63&amp;flow%20guides=64&amp;lens%20size=65&amp;magnification=66&amp;interior%20spotlight=67&amp;axes=68&amp;viz=69&amp;sensitivity=70&amp;min%20size=71&amp;min%20light=72&amp;max%20light=73&amp;elem%20scale=74&amp;zero%20hue=75&amp;hue%20gap=76&amp;hue%20spread=77&amp;diag=78&amp;cam=79&amp;x=80&amp;y=81&amp;z=82&amp;cam.target=83&amp;compress=84">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/decoding.jpg" alt="the mux/demux computations of MHA itself"></p>

<h2 id="7-lora">7 LoRA</h2>

<p>The recent LoRA paper (<a href="https://arxiv.org/pdf/2106.09685.pdf">LoRA: Low-Rank Adaptation of Large Language Models</a>) describes an efficient finetuning technique based on the idea that weight deltas introduced during finetuning are low-rank. Per the paper, this “allows us to train some dense layers in a neural network indirectly by optimizing rank decomposition matrices of the dense layers’ change during adaptation […], while keeping the pre-trained weights frozen.”</p>

<h3 id="7a-the-basic-idea">7a The basic idea</h3>

<p>In a nutshell, the key move is to train the <em>factors</em> of a weight matrix rather than the matrix itself: replace an <code>I x J</code> weights tensor with a matmul of an <code>I x K</code> tensor and a <code>K x J</code> tensor, holding <code>K</code> to some small number.</p>

<p>If <code>K</code> is small enough the size win can be huge, but the tradeoff is that lowering it lowers the rank of what the product can express. As a quick illustration of both the size savings and the structuring effect on the result, here’s a matmul of random <code>128 x 4</code> left and <code>4 x 128</code> right arguments - a.k.a. a rank-4 factorization of a <code>128 x 128</code> matrix. Notice the vertical and horizontal patterning in <code>L @ R</code> (<a href="https://bhosmer.github.io/mm/?0=L%20%40%20R&amp;1=L%20%40%20R&amp;2=none&amp;12=closed&amp;59=true&amp;3.1=L&amp;3.4=false&amp;3.5=128&amp;3.6=4&amp;3.7=gaussian&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.0=&amp;3.12=open&amp;13.1=R&amp;13.4=false&amp;13.5=4&amp;13.6=128&amp;13.7=gaussian&amp;13.8=&amp;13.9=-1&amp;13.10=1&amp;13.11=0&amp;13.0=&amp;14.15=none&amp;14.16=1&amp;14.17=false&amp;14.18=none&amp;14.19=0&amp;14.20=1&amp;14.21=1&amp;14.22=1&amp;23.20=1&amp;23.22=1&amp;23.21=1&amp;24.25=blocks&amp;24.26=11.214&amp;24.27=0&amp;24.28=1&amp;24.29=0&amp;24.30=negative&amp;24.31=left&amp;24.32=top&amp;24.33=front&amp;24.12=open&amp;34.35=10&amp;34.36=true&amp;34.37=2&amp;34.38=1&amp;34.39=0&amp;34.40=0.5&amp;34.41=10&amp;34.42=false&amp;34.43=false&amp;34.12=open&amp;44.45=local&amp;44.46=0.3&amp;44.47=0.5&amp;44.48=0.7&amp;44.49=1.25&amp;44.50=0.77&amp;44.51=0.74&amp;44.52=0.04&amp;44.12=open&amp;53.8=&amp;54.55=-147.50937470998977&amp;54.56=141.1312665550063&amp;54.57=104.24779022699425&amp;58.55=-7.97607936427614&amp;58.56=3.391570600844088&amp;58.57=-11.685048965074932&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;folder=12&amp;right=13&amp;anim=14&amp;fuse=15&amp;speed=16&amp;hide%20inputs=17&amp;alg=18&amp;spin=19&amp;i%20blocks=20&amp;k%20blocks=21&amp;j%20blocks=22&amp;block=23&amp;layout=24&amp;scheme=25&amp;gap=26&amp;scatter=27&amp;molecule=28&amp;blast=29&amp;polarity=30&amp;left%20placement=31&amp;right%20placement=32&amp;result%20placement=33&amp;deco=34&amp;legends=35&amp;shape=36&amp;spotlight=37&amp;row%20guides=38&amp;flow%20guides=39&amp;lens%20size=40&amp;magnification=41&amp;interior%20spotlight=42&amp;axes=43&amp;viz=44&amp;sensitivity=45&amp;min%20size=46&amp;min%20light=47&amp;max%20light=48&amp;elem%20scale=49&amp;zero%20hue=50&amp;hue%20gap=51&amp;hue%20spread=52&amp;diag=53&amp;cam=54&amp;x=55&amp;y=56&amp;z=57&amp;cam.target=58&amp;compress=59">open in mm</a>):</p>

<p><img src="https://pytorch.org/assets/images/inside-the-matrix/lora_single.jpg" alt="a matmul of random 128 x 4 left and 4 x 128 right arguments"></p>

<h3 id="7b-applying-lora-to-an-attention-head">7b Applying LoRA to an attention head</h3>

<p>The way LoRA applies this factoring move to the fine tuning process is to</p>

<ul>
  <li>create a low-rank factorization for each weight tensor to be fine-tuned and train the factors, keeping the original weights frozen</li>
  <li>after fine tuning, multiply each pair of low-rank factors to get a matrix in the shape of the original weights tensor, and add it to the original pretrained weights tensor</li>
</ul>

<p>The following visualization shows an attention head with the weight tensors <code>wQ</code>, <code>wK_t</code>, <code>wV</code>, <code>wO</code> replaced by low rank factorizations <code>wQ_A @ wQ_B</code>, etc. Visually, the factor matrices show up as low fences along the edges of the windmill blades (<a href="https://bhosmer.github.io/mm/index.html?0=out%20%3D%20(attn%20%3D%20(Q%20%3D%20input%20%40%20(wQ%20%3D%20wQ_A%20%40%20wQ_B))%20%40%20(K_t%20%3D%20(wK_t%20%3D%20wK_t_A%20%40%20wK_t_B)%20%40%20input_t))%20%40%20(V%20%3D%20input%20%40%20(wV%20%3D%20wV_A%20%40%20wV_B))%20%40%20(wO%20%3D%20wO_A%20%40%20wO_B)&amp;1=out&amp;2=none&amp;15=closed&amp;104=true&amp;3.1=attn%20%40%20V&amp;3.4=true&amp;3.5=32&amp;3.6=32&amp;3.7=rows&amp;3.8=&amp;3.9=-1&amp;3.10=1&amp;3.11=0&amp;3.2=none&amp;12.13=inherit&amp;12.14=1&amp;12.15=open&amp;16.17=positive&amp;16.18=left&amp;16.19=bottom&amp;16.20=back&amp;21.1=attn&amp;21.4=true&amp;21.2=softmax(tril(x%2Fsqrt(k)))&amp;22.1=Q&amp;22.4=true&amp;22.2=none&amp;23.1=input&amp;23.4=false&amp;23.5=64&amp;23.6=96&amp;23.7=gaussian&amp;23.9=-1&amp;23.10=1&amp;23.11=0&amp;23.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;23.0=&amp;23.15=closed&amp;24.1=wQ&amp;24.4=true&amp;24.2=none&amp;25.1=wQ_A&amp;25.4=false&amp;25.5=96&amp;25.6=8&amp;25.7=gaussian&amp;25.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wq0_768_64.csv&amp;25.9=-1&amp;25.10=1&amp;25.11=0&amp;25.0=&amp;25.15=closed&amp;26.1=wQ_B&amp;26.4=false&amp;26.5=8&amp;26.6=32&amp;26.7=gaussian&amp;26.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wq0_768_64.csv&amp;26.9=-1&amp;26.10=1&amp;26.11=0&amp;26.0=&amp;26.15=open&amp;27.13=inherit&amp;27.14=1&amp;27.15=closed&amp;28.17=negative&amp;28.18=right&amp;28.19=top&amp;28.20=back&amp;29.30=1&amp;24.15=closed&amp;31.13=inherit&amp;31.14=1&amp;31.15=closed&amp;32.17=positive&amp;32.18=left&amp;32.19=bottom&amp;32.20=back&amp;33.30=1&amp;22.15=closed&amp;34.2=none&amp;35.13=inherit&amp;35.14=1&amp;35.15=closed&amp;36.17=positive&amp;36.18=right&amp;36.19=top&amp;36.20=back&amp;37.1=wK_t&amp;37.4=true&amp;37.2=none&amp;38.1=wK_t_A&amp;38.4=false&amp;38.5=32&amp;38.6=8&amp;38.7=gaussian&amp;38.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wk_t0_64_768.csv&amp;38.9=-1&amp;38.10=1&amp;38.11=0&amp;38.0=&amp;38.15=open&amp;39.1=wK_t_B&amp;39.4=false&amp;39.5=8&amp;39.6=96&amp;39.7=gaussian&amp;39.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wk_t0_64_768.csv&amp;39.9=-1&amp;39.10=1&amp;39.11=0&amp;39.0=&amp;39.15=closed&amp;40.13=inherit&amp;40.14=1&amp;40.15=open&amp;41.17=negative&amp;41.18=left&amp;41.19=bottom&amp;41.20=back&amp;42.30=1&amp;37.15=closed&amp;43.1=input_t&amp;43.4=false&amp;43.5=96&amp;43.6=64&amp;43.7=gaussian&amp;43.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input_t0_768_256.csv&amp;43.9=-1&amp;43.10=1&amp;43.11=0&amp;43.0=&amp;43.15=closed&amp;34.1=K_t&amp;34.4=true&amp;44.30=1&amp;34.15=closed&amp;45.13=inherit&amp;45.14=1&amp;45.15=closed&amp;46.17=negative&amp;46.18=left&amp;46.19=top&amp;46.20=front&amp;47.30=1&amp;21.15=closed&amp;48.1=V&amp;48.4=true&amp;48.2=none&amp;49.1=input&amp;49.4=false&amp;49.5=64&amp;49.6=96&amp;49.7=gaussian&amp;49.9=-1&amp;49.10=1&amp;49.11=0&amp;49.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_input0_256_768.csv&amp;49.0=&amp;49.15=closed&amp;50.1=wV&amp;50.4=true&amp;50.2=none&amp;51.1=wV_A&amp;51.4=false&amp;51.5=96&amp;51.6=8&amp;51.7=gaussian&amp;51.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wv0_768_64.csv&amp;51.9=-1&amp;51.10=1&amp;51.11=0&amp;51.0=&amp;51.15=open&amp;52.1=wV_B&amp;52.4=false&amp;52.5=8&amp;52.6=32&amp;52.7=gaussian&amp;52.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wv0_768_64.csv&amp;52.9=-1&amp;52.10=1&amp;52.11=0&amp;52.0=&amp;52.15=open&amp;53.13=inherit&amp;53.14=1&amp;53.15=open&amp;54.17=positive&amp;54.18=left&amp;54.19=bottom&amp;54.20=back&amp;55.30=1&amp;50.15=closed&amp;56.13=inherit&amp;56.14=1&amp;56.15=closed&amp;57.17=negative&amp;57.18=right&amp;57.19=top&amp;57.20=back&amp;58.30=1&amp;48.15=closed&amp;3.15=closed&amp;59.30=1&amp;60.1=wO&amp;60.4=true&amp;60.5=32&amp;60.6=32&amp;60.7=cols&amp;60.8=&amp;60.9=-1&amp;60.10=1&amp;60.11=0&amp;60.2=none&amp;61.1=wO_A&amp;61.4=false&amp;61.5=32&amp;61.6=8&amp;61.7=gaussian&amp;61.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wo0_64_768.csv&amp;61.9=-1&amp;61.10=1&amp;61.11=0&amp;61.0=&amp;61.15=open&amp;62.1=wO_B&amp;62.4=false&amp;62.5=8&amp;62.6=96&amp;62.7=gaussian&amp;62.8=https%3A%2F%2Fraw.githubusercontent.com%2Fbhosmer%2Ftestdata%2Fmain%2Fweights%2Fgpt2%2Flayer0_wo0_64_768.csv&amp;62.9=-1&amp;62.10=1&amp;62.11=0&amp;62.0=&amp;62.15=closed&amp;63.13=inherit&amp;63.14=1&amp;63.15=closed&amp;64.17=positive&amp;64.18=right&amp;64.19=top&amp;64.20=back&amp;60.15=closed&amp;65.30=1&amp;66.67=none&amp;66.68=100&amp;66.69=false&amp;66.13=none&amp;66.70=-3&amp;66.71=1&amp;66.30=1&amp;66.14=1&amp;66.15=open&amp;72.71=1&amp;72.14=1&amp;72.30=1&amp;73.74=blocks&amp;73.75=2&amp;73.76=8&amp;73.77=2&amp;73.78=0&amp;73.17=negative&amp;73.18=left&amp;73.19=top&amp;73.20=front&amp;73.15=closed&amp;79.80=6.5&amp;79.81=false&amp;79.82=1&amp;79.83=1&amp;79.84=0.757&amp;79.85=0.5&amp;79.86=10&amp;79.87=false&amp;79.88=false&amp;79.15=open&amp;89.90=local&amp;89.91=0.2&amp;89.92=0.3&amp;89.93=1&amp;89.94=1.25&amp;89.95=0.75&amp;89.96=0.75&amp;89.97=0.03&amp;89.15=closed&amp;98.8=&amp;98.15=closed&amp;99.100=-172.19348886030096&amp;99.101=179.87607098671913&amp;99.102=291.20723943546824&amp;103.100=-6.083689158200286&amp;103.101=-2.2203698054118064&amp;103.102=-20.406063431589725&amp;expr=0&amp;name=1&amp;epilog=2&amp;left=3&amp;matmul=4&amp;h=5&amp;w=6&amp;init=7&amp;url=8&amp;min=9&amp;max=10&amp;dropout=11&amp;left.anim=12&amp;alg=13&amp;j%20blocks=14&amp;folder=15&amp;left.layout=16&amp;polarity=17&amp;left%20placement=18&amp;right%20placement=19&amp;result%20placement=20&amp;left.left=21&amp;left.left.left=22&amp;left.left.left.left=23&amp;left.left.left.right=24&amp;left.left.left.right.left=25&amp;left.left.left.right.right=26&amp;left.left.left.right.anim=27&amp;left.left.left.right.layout=28&amp;left.left.left.right.block=29&amp;k%20blocks=30&amp;left.left.left.anim=31&amp;left.left.left.layout=32&amp;left.left.left.block=33&amp;left.left.right=34&amp;left.left.right.anim=35&amp;left.left.right.layout=36&amp;left.left.right.left=37&amp;left.left.right.left.left=38&amp;left.left.right.left.right=39&amp;left.left.right.left.anim=40&amp;left.left.right.left.layout=41&amp;left.left.right.left.block=42&amp;left.left.right.right=43&amp;left.left.right.block=44&amp;left.left.anim=45&amp;left.left.layout=46&amp;left.left.block=47&amp;left.right=48&amp;left.right.left=49&amp;left.right.right=50&amp;left.right.right.left=51&amp;left.right.right.right=52&amp;left.right.right.anim=53&amp;left.right.right.layout=54&amp;left.right.right.block=55&amp;left.right.anim=56&amp;left.right.layout=57&amp;left.right.block=58&amp;left.block=59&amp;right=60&amp;right.left=61&amp;right.right=62&amp;right.anim=63&amp;right.layout=64&amp;right.block=65&amp;anim=66&amp;fuse=67&amp;speed=68&amp;hide%20inputs=69&amp;spin=70&amp;i%20blocks=71&amp;block=72&amp;layout=73&amp;scheme=74&amp;gap=75&amp;scatter=76&amp;molecule=77&amp;blast=78&amp;deco=79&amp;legends=80&amp;shape=81&amp;spotlight=82&amp;row%20guides=83&amp;flow%20guides=84&amp;lens%20size=85&amp;magnification=86&amp;interior%20spotlight=87&amp;axes=88&amp;viz=89&amp;sensitivity=90&amp;min%20size=91&amp;min%20light=92&amp;max%20light=93&amp;elem%20scale=94&amp;zero%20hue=95&amp;hue%20gap=96&amp;hue%20spread=97&amp;diag=98&amp;cam=99&amp;x=100&amp;y=101&amp;z=102&amp;cam.target=103&amp;compress=104">open in mm</a> - spacebar stops the spin):</p>



<h2 id="8-wrapup">8 Wrapup</h2>

<h3 id="8a-call-for-feedback">8a Call for feedback</h3>

<p>I’ve found this way of visualizing matmul expressions extremely helpful for building intuition and reasoning about not just matrix multiplication itself, but also many aspects of ML models and their computation, from efficiency to interpretability.</p>

<p>if you try it out and have suggestions or comments, I definitely want to hear, either in the comments here or <a href="https://github.com/bhosmer/mm">in the repo</a>.</p>

<h3 id="8b-next-steps">8b Next steps</h3>

<ul>
  <li>There’s a <a href="https://bhosmer.github.io/mm/examples/attngpt2/index.html">GPT2 attention head explorer</a> built on top of the tool which I’m currently using to inventory and classify the attention head traits found in that model. (This was the tool I used to find and explore the attention heads in this note.) Once complete I plan to post a note with the inventory.</li>
  <li>As mentioned up top, embedding these visualizations in Python notebooks is <a href="https://colab.research.google.com/drive/1wZIoU20eRWKtRNCW7e5Iugm3MhfaE1f7?usp=sharing">dead simple</a>. But session URLs can get… unwieldy, so it will be useful to have Python-side utilities for constructing them from configuration objects, similar to the simple JavaScript helpers used in the <a href="https://bhosmer.github.io/mm/ref.html">reference guide</a>.</li>
  <li>If you’ve got a use case you think might benefit from visualizations like this but it’s not obvious how to use the tool to do it, get in touch! I’m not necessarily looking to expand its core visualization capabilities that much further (right tool for the job, etc.), but e.g. the API for driving it programmatically is pretty basic, there’s plenty that can be done there.</li>
</ul>

                </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Control Center on macOS is always re-rendering its SwiftUI causing 1% CPU load (195 pts)]]></title>
            <link>https://twitter.com/praeclarum/status/1706356007348343064</link>
            <guid>37654904</guid>
            <pubDate>Tue, 26 Sep 2023 05:41:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/praeclarum/status/1706356007348343064">https://twitter.com/praeclarum/status/1706356007348343064</a>, See on <a href="https://news.ycombinator.com/item?id=37654904">Hacker News</a></p>
Couldn't get https://twitter.com/praeclarum/status/1706356007348343064: Error [ERR_FR_TOO_MANY_REDIRECTS]: Maximum number of redirects exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Quadlets might make me finally stop using Docker-compose – Major Hayden (241 pts)]]></title>
            <link>https://major.io/p/quadlets-replace-docker-compose/</link>
            <guid>37654891</guid>
            <pubDate>Tue, 26 Sep 2023 05:39:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://major.io/p/quadlets-replace-docker-compose/">https://major.io/p/quadlets-replace-docker-compose/</a>, See on <a href="https://news.ycombinator.com/item?id=37654891">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><header><ol><li><a href="https://major.io/">Major Hayden</a><span>/</span></li><li><a href="https://major.io/posts/">Posts</a><span>/</span></li><li><a href="https://major.io/p/quadlets-replace-docker-compose/">Quadlets might make me finally stop using docker-compose</a><span>/</span></li></ol><div><p><time datetime="2023-09-25 00:00:00 +0000 UTC">25 September 2023</time><span>·</span><span>1417 words</span><span>·</span><span title="Reading time">7 mins</span><span>·</span>
<span><a href="https://github.com/major/major.io/blob/main/content/posts/2023/quadlets-replace-docker-compose/index.md" rel="noopener noreferrer" target="_blank" title="Edit content"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M490.3 40.4c21.9 21.87 21.9 57.33.0 79.2l-30 30.1-98-97.98 30.1-30.06C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7 339.7 74.34l98 97.96L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2l-88.8 29.6C150.1 385.6 141.5 383.4 135 376.1 128.6 370.5 126.4 361 129.2 352.4l29.6-88.8C161.6 255.3 166.2 247.8 172.4 241.7v0zM192 63.1c17.7.0 32 15.23 32 32 0 18.6-14.3 32-32 32H96c-17.67.0-32 15.2-32 32V416c0 17.7 14.33 32 32 32H352c17.7.0 32-14.3 32-32V319.1c0-16.8 14.3-32 32-32s32 15.2 32 32V416c0 53-43 96-96 96H96c-53.02.0-96-43-96-96V159.1c0-53 42.98-96 96-96h96z"></path></svg></span></a></span></p></div></header><div><hr><p>I’ve <a href="https://major.io/tags/containers/">written a lot about containers</a> on this blog.
Why do I love containers so much?</p><ul><li>They start quickly</li><li>They make your workloads portable</li><li>They disconnect your application stack from the OS that runs underneath</li><li>You can send your application through CI as a single container image</li><li>You can isolate workloads on the network and limit their resource usage much like a VM</li></ul><p>However, I’m still addicted to <a href="https://docs.docker.com/compose/" target="_blank" rel="noreferrer noopener">docker-compose</a>.
Can podman’s <a href="https://www.redhat.com/sysadmin/quadlet-podman" target="_blank" rel="noreferrer noopener">quadlets</a> change that?</p><p><strong>Yes, I think they can.</strong></p><h2 id="whats-a-quadlet">What’s a quadlet? <span><a href="#whats-a-quadlet" aria-label="Anchor">#</a></span></h2><p>Podman introduced support for quadlets in version 4.4 and it’s a simpler way of letting systemd manage your containers.
There was an option in the past to have podman generate systemd unit files, but those were unwieldy and full of podman command line options inside a unit file.
These unit files weren’t easy to edit or even parse with eyeballs.</p><p>Quadlets make this easier by giving you a simple ini-style file that you can easily read and edit.
This blog post will include some quadlets later, but here’s an example one for Wordpress:</p><div><pre tabindex="0"><code data-lang="ini"><span><span><span>[Unit]</span>
</span></span><span><span><span>Description</span><span>=</span><span>Wordpress Quadlet</span>
</span></span><span><span>
</span></span><span><span><span>[Container]</span>
</span></span><span><span><span>Image</span><span>=</span><span>docker.io/library/wordpress:fpm</span>
</span></span><span><span><span>ContainerName</span><span>=</span><span>wordpress</span>
</span></span><span><span><span>AutoUpdate</span><span>=</span><span>registry</span>
</span></span><span><span><span>EnvironmentFile</span><span>=</span><span>/home/core/.config/containers/containers-environment</span>
</span></span><span><span><span>Volume</span><span>=</span><span>wordpress.volume:/var/www/html</span>
</span></span><span><span><span>Network</span><span>=</span><span>wordpress.network</span>
</span></span><span><span>
</span></span><span><span><span>[Service]</span>
</span></span><span><span><span>Restart</span><span>=</span><span>always</span>
</span></span><span><span><span>TimeoutStartSec</span><span>=</span><span>900</span>
</span></span><span><span>
</span></span><span><span><span>[Install]</span>
</span></span><span><span><span>WantedBy</span><span>=</span><span>caddy.service multi-user.target default.target</span>
</span></span></code></pre></div><p>Lots of the lines under <code>[Container]</code> should look familiar to most readers who have worked with containers before.
However, there’s something new here.</p><p>Check out the <code>AutoUpdate=registry</code> line.
This tells podman to keep your container updated on a regular basis with the upstream container registry.
I’ve used <a href="https://major.io/p/podman-quadlet-watchtower/">watchtower</a> in the past for this, but it requires a privileged container and it’s yet another external dependency.</p><p>Also, at the very end, you’ll see a <code>WantedBy</code> line.
This is a great place to set up container dependencies.
In this example, the container that runs <code>caddy</code> (a web server) can’t start until Wordpress is up and running.</p><h2 id="so-why-not-stick-with-docker-compose">So why not stick with docker-compose? <span><a href="#so-why-not-stick-with-docker-compose" aria-label="Anchor">#</a></span></h2><p>There’s no denying that docker-compose is an awesome tool.
You specify the desired outcome, tell it to bring up containers, and it gets containers into the state you specified.
It handles volumes, networks, and complicated configuration without a lot of legwork.
The YAML files are pretty easy to read, too.</p><p>However, as with watchtower, that’s another external dependency.</p><p>My container deployments are often done at instance boot time and I don’t make too many changes afterwards.
I found myself using docker-compose for the initial deployment and then I didn’t really use it again.</p><p>Why not remove it entirely and use what’s built into CoreOS already?</p><h2 id="quaint-quadlets-quickly">Quaint quadlets quickly! <span><a href="#quaint-quadlets-quickly" aria-label="Anchor">#</a></span></h2><p>Before we start, we’re going to need a few things:</p><ul><li>An easy to read <a href="https://coreos.github.io/butane/" target="_blank" rel="noreferrer noopener">butane</a> configuration which gets transformed into a tiny <a href="https://coreos.github.io/ignition/" target="_blank" rel="noreferrer noopener">ignition</a> configuration for CoreOS</li><li>Some quadlets</li><li>Extra system configuration</li><li>A cloud provider with CoreOS images <em>(using <a href="https://www.vultr.com/?ref=9544589-8H" target="_blank" rel="noreferrer noopener">VULTR</a> for this)</em></li></ul><p>I’ve packed all of these items into my <a href="https://github.com/major/quadlets-wordpress" target="_blank" rel="noreferrer noopener">quadlets-wordpress</a> repository to make it easy.
Start by looking at the <a href="https://github.com/major/quadlets-wordpress/blob/main/config.butane" target="_blank" rel="noreferrer noopener">config.butane</a> file.</p><p>Let’s break it down here.
First up, we add an ssh key for the default <code>core</code> user.</p><div><pre tabindex="0"><code data-lang="yaml"><span><span><span>variant</span><span>:</span><span> </span><span>fcos</span><span>
</span></span></span><span><span><span></span><span>version</span><span>:</span><span> </span><span>1.5.0</span><span>
</span></span></span><span><span><span></span><span>passwd</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>users</span><span>:</span><span>
</span></span></span><span><span><span>    </span>- <span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>ssh_authorized_keys</span><span>:</span><span>
</span></span></span><span><span><span>        </span>- <span>ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIDyoH6gU4lgEiSiwihyD0Rxk/o5xYIfA3stVDgOGM9N0</span><span>
</span></span></span></code></pre></div><p>Next up, we enable the <code>podman-auto-update.timer</code> so we get container updates automatically:</p><div><pre tabindex="0"><code data-lang="yaml"><span><span><span>storage</span><span>:</span><span>
</span></span></span><span><span><span>  </span><span>links</span><span>:</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/systemd/user/timers.target.wants/podman-auto-update.timer</span><span>
</span></span></span><span><span><span>      </span><span>target</span><span>:</span><span> </span><span>/usr/lib/systemd/user/podman-auto-update.timer</span><span>
</span></span></span><span><span><span>      </span><span>user</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>group</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span></code></pre></div><p>Next is the long <code>files</code> section:</p><div><pre tabindex="0"><code data-lang="yaml"><span><span><span>  </span><span>files</span><span>:</span><span>
</span></span></span><span><span><span>    </span><span># Ensure the `core` user can keep processes running after they're logged out.</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/var/lib/systemd/linger/core</span><span>
</span></span></span><span><span><span>      </span><span>mode</span><span>:</span><span> </span><span>0644</span><span>
</span></span></span><span><span><span>    
</span></span></span><span><span><span>    </span><span># Allow caddy to listen on 80 and 443.</span><span>
</span></span></span><span><span><span>    </span><span># Allow it to ask for bigger network buffers, too.</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/etc/sysctl.d/90-caddy.conf</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>inline</span><span>:</span><span> </span><span>|</span><span>
</span></span></span><span><span><span>          net.ipv4.ip_unprivileged_port_start = 80
</span></span></span><span><span><span>          net.core.rmem_max=2500000
</span></span></span><span><span><span>          net.core.wmem_max=2500000</span><span>          
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span># Set up an an environment file that containers can read to configure themselves.</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/containers/containers-environment</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>inline</span><span>:</span><span> </span><span>|</span><span>
</span></span></span><span><span><span>          MYSQL_DATABASE=wordpress
</span></span></span><span><span><span>          MYSQL_USER=wordpress
</span></span></span><span><span><span>          MYSQL_ROOT_PASSWORD=mariadb-needs-a-secure-password
</span></span></span><span><span><span>          MYSQL_PASSWORD=wordpress-needs-a-secure-password
</span></span></span><span><span><span>          WORDPRESS_DB_HOST=mariadb
</span></span></span><span><span><span>          WORDPRESS_DB_USER=wordpress
</span></span></span><span><span><span>          WORDPRESS_DB_PASSWORD=wordpress-needs-a-secure-password
</span></span></span><span><span><span>          WORDPRESS_DB_NAME=wordpress</span><span>          
</span></span></span><span><span><span>      </span><span>mode</span><span>:</span><span> </span><span>0644</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span># Deploy the caddy configuration file from the repository.</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/caddy/Caddyfile</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>local</span><span>:</span><span> </span><span>caddy/Caddyfile</span><span>
</span></span></span><span><span><span>      </span><span>mode</span><span>:</span><span> </span><span>0644</span><span>
</span></span></span><span><span><span>      </span><span>user</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>group</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span># Add some named volumes for caddy and wordpress.</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/containers/systemd/caddy-config.volume</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>inline</span><span>:</span><span> </span><span>|</span><span>
</span></span></span><span><span><span>          [Volume]</span><span>          
</span></span></span><span><span><span>      </span><span>user</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>group</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/containers/systemd/caddy-data.volume</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>inline</span><span>:</span><span> </span><span>|</span><span>
</span></span></span><span><span><span>          [Volume]</span><span>          
</span></span></span><span><span><span>      </span><span>user</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>group</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/containers/systemd/wordpress.volume</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>inline</span><span>:</span><span> </span><span>|</span><span>
</span></span></span><span><span><span>          [Volume]</span><span>          
</span></span></span><span><span><span>      </span><span>user</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>group</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span># Create a network for all the containers to use and enable the</span><span>
</span></span></span><span><span><span>    </span><span># DNS plugin. This allows containers to find each other using</span><span>
</span></span></span><span><span><span>    </span><span># the container names.</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/containers/systemd/wordpress.network</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>inline</span><span>:</span><span> </span><span>|</span><span>
</span></span></span><span><span><span>          [Network]
</span></span></span><span><span><span>          DisableDNS=false
</span></span></span><span><span><span>          Internal=false</span><span>          
</span></span></span><span><span><span>      </span><span>user</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>group</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span># Add the wordpress container.</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/containers/systemd/wordpress.container</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>local</span><span>:</span><span> </span><span>quadlets/wordpress.container</span><span>
</span></span></span><span><span><span>      </span><span>mode</span><span>:</span><span> </span><span>0644</span><span>
</span></span></span><span><span><span>      </span><span>user</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>group</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span># Add the MariaDB container.</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/containers/systemd/mariadb.container</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>local</span><span>:</span><span> </span><span>quadlets/mariadb.container</span><span>
</span></span></span><span><span><span>      </span><span>mode</span><span>:</span><span> </span><span>0644</span><span>
</span></span></span><span><span><span>      </span><span>user</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>group</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span># Add the caddy container.</span><span>
</span></span></span><span><span><span>    </span>- <span>path</span><span>:</span><span> </span><span>/home/core/.config/containers/systemd/caddy.container</span><span>
</span></span></span><span><span><span>      </span><span>contents</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>local</span><span>:</span><span> </span><span>quadlets/caddy.container</span><span>
</span></span></span><span><span><span>      </span><span>mode</span><span>:</span><span> </span><span>0644</span><span>
</span></span></span><span><span><span>      </span><span>user</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span><span><span><span>      </span><span>group</span><span>:</span><span>
</span></span></span><span><span><span>        </span><span>name</span><span>:</span><span> </span><span>core</span><span>
</span></span></span></code></pre></div><p>The <a href="https://github.com/major/quadlets-wordpress/blob/main/caddy/Caddyfile" target="_blank" rel="noreferrer noopener">Caddyfile</a> is also in the repository and will be deployed by the butane configuration shown above.</p><p>We can go through each quadlet in detail.
First up is MariaDB.
We tell systemd that the wordpress container will want to have this one started first.</p><div><pre tabindex="0"><code data-lang="ini"><span><span><span>[Unit]</span>
</span></span><span><span><span>Description</span><span>=</span><span>MariaDB Quadlet</span>
</span></span><span><span>
</span></span><span><span><span>[Container]</span>
</span></span><span><span><span>Image</span><span>=</span><span>docker.io/library/mariadb:11</span>
</span></span><span><span><span>ContainerName</span><span>=</span><span>mariadb</span>
</span></span><span><span><span>AutoUpdate</span><span>=</span><span>registry</span>
</span></span><span><span><span>EnvironmentFile</span><span>=</span><span>/home/core/.config/containers/containers-environment</span>
</span></span><span><span><span>Volume</span><span>=</span><span>mariadb.volume:/var/lib/mysql</span>
</span></span><span><span><span>Network</span><span>=</span><span>wordpress.network</span>
</span></span><span><span>
</span></span><span><span><span>[Service]</span>
</span></span><span><span><span>Restart</span><span>=</span><span>always</span>
</span></span><span><span><span>TimeoutStartSec</span><span>=</span><span>900</span>
</span></span><span><span>
</span></span><span><span><span>[Install]</span>
</span></span><span><span><span>WantedBy</span><span>=</span><span>wordpress.service multi-user.target default.target</span>
</span></span></code></pre></div><p>The wordpress quadlet is much the same as the MariaDB one, but we tell systemd that caddy will want wordpress started first.</p><div><pre tabindex="0"><code data-lang="ini"><span><span><span>[Unit]</span>
</span></span><span><span><span>Description</span><span>=</span><span>Wordpress Quadlet</span>
</span></span><span><span>
</span></span><span><span><span>[Container]</span>
</span></span><span><span><span>Image</span><span>=</span><span>docker.io/library/wordpress:fpm</span>
</span></span><span><span><span>ContainerName</span><span>=</span><span>wordpress</span>
</span></span><span><span><span>AutoUpdate</span><span>=</span><span>registry</span>
</span></span><span><span><span>EnvironmentFile</span><span>=</span><span>/home/core/.config/containers/containers-environment</span>
</span></span><span><span><span>Volume</span><span>=</span><span>wordpress.volume:/var/www/html</span>
</span></span><span><span><span>Network</span><span>=</span><span>wordpress.network</span>
</span></span><span><span>
</span></span><span><span><span>[Service]</span>
</span></span><span><span><span>Restart</span><span>=</span><span>always</span>
</span></span><span><span><span>TimeoutStartSec</span><span>=</span><span>900</span>
</span></span><span><span>
</span></span><span><span><span>[Install]</span>
</span></span><span><span><span>WantedBy</span><span>=</span><span>caddy.service multi-user.target default.target</span>
</span></span></code></pre></div><p>Finally, the caddy quadlet contains four volumes and some published ports.
These ports will be published to the container host.
Also, you’ll note that the wordpress volume is mounted here, too.
This is because caddy can serve static files <em>much faster</em> than wordpress can.</p><div><pre tabindex="0"><code data-lang="ini"><span><span><span>[Unit]</span>
</span></span><span><span><span>Description</span><span>=</span><span>Caddy Quadlet</span>
</span></span><span><span>
</span></span><span><span><span>[Container]</span>
</span></span><span><span><span>Image</span><span>=</span><span>docker.io/library/caddy:latest</span>
</span></span><span><span><span>ContainerName</span><span>=</span><span>caddy</span>
</span></span><span><span><span>AutoUpdate</span><span>=</span><span>registry</span>
</span></span><span><span><span>EnvironmentFile</span><span>=</span><span>/home/core/.config/containers/containers-environment</span>
</span></span><span><span><span>Volume</span><span>=</span><span>caddy-data.volume:/data</span>
</span></span><span><span><span>Volume</span><span>=</span><span>caddy-config.volume:/config</span>
</span></span><span><span><span>Volume</span><span>=</span><span>/home/core/.config/caddy/Caddyfile:/etc/caddy/Caddyfile:Z</span>
</span></span><span><span><span>Volume</span><span>=</span><span>wordpress.volume:/var/www/html</span>
</span></span><span><span><span>PublishPort</span><span>=</span><span>80:80</span>
</span></span><span><span><span>PublishPort</span><span>=</span><span>443:443</span>
</span></span><span><span><span>Network</span><span>=</span><span>wordpress.network</span>
</span></span><span><span>
</span></span><span><span><span>[Service]</span>
</span></span><span><span><span>Restart</span><span>=</span><span>always</span>
</span></span><span><span><span>TimeoutStartSec</span><span>=</span><span>900</span>
</span></span><span><span>
</span></span><span><span><span>[Install]</span>
</span></span><span><span><span>WantedBy</span><span>=</span><span>multi-user.target default.target</span>
</span></span></code></pre></div><h2 id="launch-the-quadlets">Launch the quadlets <span><a href="#launch-the-quadlets" aria-label="Anchor">#</a></span></h2><p>There’s a <a href="https://github.com/major/quadlets-wordpress/blob/main/launch-instance" target="_blank" rel="noreferrer noopener">launch script</a> that ships this configuration to VULTR and launches a CoreOS instance:</p><div><pre tabindex="0"><code data-lang="shell"><span><span><span>#!/bin/bash
</span></span></span><span><span><span></span><span># This command starts up a CoreOS instance on Vultr using the vultr-cli</span>
</span></span><span><span>vultr-cli instance create <span>\
</span></span></span><span><span><span></span>    --os <span>391</span> <span>\
</span></span></span><span><span><span></span>    --plan vhp-1c-1gb-amd <span>\
</span></span></span><span><span><span></span>    --region dfw <span>\
</span></span></span><span><span><span></span>    --notify <span>true</span> <span>\
</span></span></span><span><span><span></span>    --ipv6 <span>true</span> <span>\
</span></span></span><span><span><span></span>    -u <span>"</span><span>$(</span>butane --files-dir . config.butane<span>)</span><span>"</span> <span>\
</span></span></span><span><span><span></span>    -l <span>"coreos-</span><span>$(</span>date <span>"+%s"</span><span>)</span><span>"</span>
</span></span></code></pre></div><p>To launch an instance, get your <a href="https://my.vultr.com/settings/#settingsapi" target="_blank" rel="noreferrer noopener">VULTR API key</a> first.
Then install vultr-cli and butane:</p><div><pre tabindex="0"><code data-lang="console"><span><span><span>$</span> sudo dnf -y install butane vultr-cli
</span></span></code></pre></div><p>After launch, check to see what your containers are doing:</p><div><pre tabindex="0"><code data-lang="console"><span><span><span>[core@vultr ~]$</span> podman ps
</span></span><span><span><span>CONTAINER ID  IMAGE                            COMMAND               CREATED         STATUS         PORTS                                     NAMES
</span></span></span><span><span><span>afa2d6501593  docker.io/library/caddy:latest   caddy run --confi...  54 seconds ago  Up 53 seconds  0.0.0.0:80-&gt;80/tcp, 0.0.0.0:443-&gt;443/tcp  caddy
</span></span></span><span><span><span>460426f39e6c  docker.io/library/mariadb:11     mariadbd              35 seconds ago  Up 35 seconds                                            mariadb
</span></span></span><span><span><span>92ece6538d5a  docker.io/library/wordpress:fpm  php-fpm               28 seconds ago  Up 29 seconds                                            wordpress
</span></span></span></code></pre></div><p>We should be able to talk to wordpress through caddy on port 80:</p><div><pre tabindex="0"><code data-lang="console"><span><span><span>[core@vultr ~]$</span> curl -si http://localhost/wp-admin/install.php <span>|</span> head -n <span>25</span>
</span></span><span><span><span>HTTP/1.1 200 OK
</span></span></span><span><span><span>Cache-Control: no-cache, must-revalidate, max-age=0
</span></span></span><span><span><span>Content-Type: text/html; charset=utf-8
</span></span></span><span><span><span>Expires: Wed, 11 Jan 1984 05:00:00 GMT
</span></span></span><span><span><span>Server: Caddy
</span></span></span><span><span><span>X-Powered-By: PHP/8.0.30
</span></span></span><span><span><span>Date: Mon, 25 Sep 2023 21:43:40 GMT
</span></span></span><span><span><span>Transfer-Encoding: chunked
</span></span></span><span><span><span></span><span>
</span></span></span><span><span><span></span><span>&lt;!DOCTYPE html&gt;
</span></span></span><span><span><span>&lt;html lang="en-US" xml:lang="en-US"&gt;
</span></span></span><span><span><span>&lt;head&gt;
</span></span></span><span><span><span>	&lt;meta name="viewport" content="width=device-width" /&gt;
</span></span></span><span><span><span>	&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
</span></span></span><span><span><span>	&lt;meta name="robots" content="noindex,nofollow" /&gt;
</span></span></span><span><span><span>	&lt;title&gt;WordPress &amp;rsaquo; Installation&lt;/title&gt;
</span></span></span><span><span><span>	&lt;link rel='stylesheet' id='dashicons-css' href='http://localhost/wp-includes/css/dashicons.min.css?ver=6.3.1' type='text/css' media='all' /&gt;
</span></span></span><span><span><span>&lt;link rel='stylesheet' id='buttons-css' href='http://localhost/wp-includes/css/buttons.min.css?ver=6.3.1' type='text/css' media='all' /&gt;
</span></span></span><span><span><span>&lt;link rel='stylesheet' id='forms-css' href='http://localhost/wp-admin/css/forms.min.css?ver=6.3.1' type='text/css' media='all' /&gt;
</span></span></span><span><span><span>&lt;link rel='stylesheet' id='l10n-css' href='http://localhost/wp-admin/css/l10n.min.css?ver=6.3.1' type='text/css' media='all' /&gt;
</span></span></span><span><span><span>&lt;link rel='stylesheet' id='install-css' href='http://localhost/wp-admin/css/install.min.css?ver=6.3.1' type='text/css' media='all' /&gt;
</span></span></span><span><span><span>&lt;/head&gt;
</span></span></span><span><span><span>&lt;body class="wp-core-ui language-chooser"&gt;
</span></span></span><span><span><span>&lt;p id="logo"&gt;WordPress&lt;/p&gt;
</span></span></span></code></pre></div><p>Awesome! 🎉</p><h2 id="managing-containers">Managing containers <span><a href="#managing-containers" aria-label="Anchor">#</a></span></h2><p>Containers will automatically update on a schedule and you can check the timer:</p><div><pre tabindex="0"><code data-lang="console"><span><span><span>[core@vultr ~]$</span> systemctl status --user podman-auto-update.timer
</span></span><span><span><span>● podman-auto-update.timer - Podman auto-update timer
</span></span></span><span><span><span>     Loaded: loaded (/usr/lib/systemd/user/podman-auto-update.timer; enabled; preset: disabled)
</span></span></span><span><span><span>     Active: active (waiting) since Mon 2023-09-25 21:41:31 UTC; 3min 14s ago
</span></span></span><span><span><span>    Trigger: Tue 2023-09-26 00:04:46 UTC; 2h 20min left
</span></span></span><span><span><span>   Triggers: ● podman-auto-update.service
</span></span></span><span><span><span></span><span>
</span></span></span><span><span><span></span><span>Sep 25 21:41:31 vultr.guest systemd[1786]: Started podman-auto-update.timer - Podman auto-update timer.
</span></span></span></code></pre></div><p>Quadlets are just regular systemd units:</p><div><pre tabindex="0"><code data-lang="console"><span><span><span>[core@vultr ~]$</span> systemctl list-units --user <span>|</span> grep -i Quadlet
</span></span><span><span><span>  caddy.service                                                                       loaded active running Caddy Quadlet
</span></span></span><span><span><span>  mariadb.service                                                                     loaded active running MariaDB Quadlet
</span></span></span><span><span><span>  wordpress.service                                                                   loaded active running Wordpress Quadlet
</span></span></span></code></pre></div><p>As an example, you can make changes to caddy’s config file and restart it easily:</p><div><pre tabindex="0"><code data-lang="console"><span><span><span>[core@vultr ~]$</span> systemctl restart --user caddy
</span></span><span><span><span>[core@vultr ~]$</span> systemctl status --user caddy
</span></span><span><span><span>● caddy.service - Caddy Quadlet
</span></span></span><span><span><span>     Loaded: loaded (/var/home/core/.config/containers/systemd/caddy.container; generated)
</span></span></span><span><span><span>    Drop-In: /usr/lib/systemd/user/service.d
</span></span></span><span><span><span>             └─10-timeout-abort.conf
</span></span></span><span><span><span>     Active: active (running) since Mon 2023-09-25 21:46:28 UTC; 5s ago
</span></span></span><span><span><span>   Main PID: 2652 (conmon)
</span></span></span><span><span><span>      Tasks: 18 (limit: 1023)
</span></span></span><span><span><span>     Memory: 15.1M
</span></span></span><span><span><span>        CPU: 207ms
</span></span></span></code></pre></div><p>If you need to change a quadlet’s configuration, just open up the configuration file in your favorite editor under <code>~/.config/containers/systemd</code>, reload systemd, and restart the container:</p><div><pre tabindex="0"><code data-lang="console"><span><span><span>$</span> vi ~/.config/containers/systemd/caddy.container
</span></span><span><span><span>
</span></span></span><span><span><span></span><span>--- make your edits and save the quadlet configuration ---
</span></span></span><span><span><span></span><span>
</span></span></span><span><span><span></span><span>$</span> systemctl daemon-reload --user
</span></span><span><span><span>$</span> systemctl restart --user caddy
</span></span></code></pre></div><p>Enjoy!</p></div></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[iPhone 15 teardown reveals software lockdown (120 pts)]]></title>
            <link>https://www.ifixit.com/News/82867/iphone-15-teardown-reveals-software-lockdown</link>
            <guid>37654413</guid>
            <pubDate>Tue, 26 Sep 2023 04:33:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ifixit.com/News/82867/iphone-15-teardown-reveals-software-lockdown">https://www.ifixit.com/News/82867/iphone-15-teardown-reveals-software-lockdown</a>, See on <a href="https://news.ycombinator.com/item?id=37654413">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    
<p>iPhone 15 is here, and it boasts a new charge port, a titanium frame, a periscope, and a new pro-repair design. Let’s dive inside! We’re going to focus on the 15 Pro Max, with some cameos from the other phone models.</p>



<figure><p>
<iframe title="iPhone 15 Pro Max Teardown: Big Phone, Microscopic Scratches" width="456" height="257" src="https://www.youtube-nocookie.com/embed/hmQHgWNAg24?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p></figure>



<h2>Design Architecture</h2>



<p>For years, smartphones have either opened from the front–making battery swaps difficult, or from the back–making screen swaps challenging. Apple finally <a href="https://www.ifixit.com/News/64865/iphone-14-teardown">cracked this nut</a> with last year’s <a href="https://www.ifixit.com/Device/iPhone_14">vanilla iPhone 14</a>, enabling the phone to open from the front <em>and</em> the back. This huge upgrade led us to ratchet up the iPhone’s repairability score from previous models. (We’ve since ratcheted it back down due to repair limitations imposed by parts pairing, but <a href="https://www.ifixit.com/News/82493/we-are-retroactively-dropping-the-iphones-repairability-score-en">that’s another story</a>.)</p>



<figure><img loading="lazy" width="6000" height="3375" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24112635/lineup.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24112635/lineup.jpg 6000w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112635/lineup-1536x864.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112635/lineup-2048x1152.jpg 2048w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112635/lineup-1600x900.jpg 1600w" sizes="(max-width: 6000px) 100vw, 6000px"></figure>



<p>The iPhone 15 and 15 Plus thankfully adopt the iPhone 14’s advancement. There’s a central chassis, or midframe, that the internal components are mounted to. The 15 Pro and Pro Max also now open from both directions, but in an unexpectedly opposite manner: all of the internals are hiding behind the screen still instead of behind the back glass. But that back glass is now removable, too, just like the 14.</p>



<p>This notable achievement is worth celebrating. For the first time, Apple’s keynote discussed repairability:</p>



<figure><blockquote><p>There is also a new internal chassis architecture that makes iPhone more repairable, thanks to a new structural frame that allows the back glass to be easily replaced.</p></blockquote></figure>



<p>This inverted chassis arrangement makes critical repairs like battery swaps slightly riskier than on the 14, because you’re removing the expensive, fragile display rather than an inert sheet of glass.</p>



<figure><img loading="lazy" width="6259" height="4694" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24112337/iPhone15_TD_46.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24112337/iPhone15_TD_46.jpg 6259w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112337/iPhone15_TD_46-1536x1152.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112337/iPhone15_TD_46-2048x1536.jpg 2048w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112337/iPhone15_TD_46-1200x900.jpg 1200w" sizes="(max-width: 6259px) 100vw, 6259px"></figure>



<p>In order to get to the battery and other components you have to heat and pry open the screen, which is slightly riskier. If you accidentally tear a cable, it’s better to tear the back cover cable than it is to ruin the display.</p>



<p>The nod goes to the 14 for being slightly more risk-tolerant, but they’re both good designs. Why didn’t the 15 Pro adopt the 14’s design? We’re not sure. It may have to do with the larger camera array. The cameras protrude through a cutout in the aluminum midframe, and it’s possible there wasn’t enough room for the opposite arrangement.</p>



<figure><img loading="lazy" width="11530" height="5770" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24125711/screen_combined_3.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24125711/screen_combined_3.jpg 11530w, https://valkyrie.cdn.ifixit.com/media/2023/09/24125711/screen_combined_3-1536x769.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24125711/screen_combined_3-2048x1025.jpg 2048w, https://valkyrie.cdn.ifixit.com/media/2023/09/24125711/screen_combined_3-1798x900.jpg 1798w" sizes="(max-width: 11530px) 100vw, 11530px"><figcaption>iPhone 15 Pro Max display front and back</figcaption></figure>



<p>Apple has continued to incrementally reduce the thickness of the display bezel.</p>



<p>Some have reported that the white gasket on the perimeter of the display is new, but it’s not–it’s just changed from black to white. The design is a little different than previous phones, and some have reported that it’s more difficult to remove.</p>



<div><figure><img loading="lazy" width="1200" height="800" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-1200x800.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-1200x800.jpg 1200w, https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-1536x1024.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-2048x1365.jpg 2048w, https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-1350x900.jpg 1350w, https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-300x200.jpg 300w, https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-600x400.jpg 600w, https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-768x512.jpg 768w, https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-324x216.jpg 324w, https://valkyrie.cdn.ifixit.com/media/2023/09/24180516/bottomrightmic-450x300.jpg 450w" sizes="(max-width: 1200px) 100vw, 1200px"></figure></div>



<p>On the base iPhone 15 models, Apple is <a href="https://www.macrumors.com/2023/09/22/apple-can-repair-iphone-15-bottom-microphone/">now performing microphone repairs</a> in their service centers. This is enabled by increased modularity, where the microphone is now a separate component.</p>



<h2>Finally: USB-C</h2>



<p>Notorious for charting their own course, convincing Apple to change direction takes a monumental amount of pressure. Our Right to Repair advocacy has <a href="https://www.ifixit.com/News/79902/apples-u-turn-tech-giant-finally-backs-repair-in-california">already applied</a> some such pressure, and Apple’s now selling service parts and posting repair manuals. But even <a href="https://news.bloomberglaw.com/tech-and-telecom-law/california-follows-europes-lead-on-usb-c-mandate-for-devices">we couldn’t convince</a> them to switch to a standard port—it took the European Parliament to <a href="https://www.macrumors.com/2022/10/26/craig-joz-wsj-event/">force </a>that particular change.</p>



<figure><img loading="lazy" width="6000" height="4000" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup.jpg 6000w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup-1536x1024.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup-2048x1365.jpg 2048w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup-1350x900.jpg 1350w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup-300x200.jpg 300w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup-600x400.jpg 600w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup-1200x800.jpg 1200w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup-768x512.jpg 768w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup-324x216.jpg 324w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112706/USBC_ports_closeup-450x300.jpg 450w" sizes="(max-width: 6000px) 100vw, 6000px"></figure>



<p>And now everyone can reap the benefits! In addition to obvious compatibility advantages, the new USB-C port can provide 4.5 watts of power to external devices. That’s a massive 15x upgrade over previous Lightning phones, which can only <a href="https://9to5mac.com/2023/09/16/iphone-15-usb-c-port-charge-power-output/">output 0.3 watts</a>.</p>



<figure><a href="https://support.apple.com/en-us/HT213839"><img loading="lazy" width="1074" height="413" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24114417/usb-c-iphone-15.jpg" alt=""></a></figure>



<p>Going into this release, there were two rumors floating around about the charge port. The first was that the part would be serialized, pairing it to the main board and locking out independent repairs. Fortunately, this is not the case, and swapping two ports maintains full functionality. Phew!</p>



<p>The second rumor was that Apple would limit the throughput of the USB-C port for some reason.&nbsp;That rumor turned out to be unfounded. The A17 System-on-Chip (SoC) adds a USB 3 controller, enabling USB 3.2 Gen 2 10 Gb throughput. Because the non-Pro iPhone 15 models inherited the older A16 Bionic, they only support USB 2 and are limited to the same transfer speeds as previous devices with Lightning.</p>



<p>The battery in the <a href="https://www.ifixit.com/Device/iPhone_15_Pro_Max">15 Pro Max</a> is 4422 mAh, an incremental 2.3% increase over the <a href="https://www.ifixit.com/Device/iPhone_14_Pro_Max">14 Pro Max’s</a> 4323 mAh pack. Similarly, the <a href="https://www.ifixit.com/Device/iPhone_15_Pro">15 Pro</a> has an identical 2.3% 3274 mAh (2.3% increase) over the <a href="https://www.ifixit.com/Device/iPhone_14_Pro">14 Pro’s</a> 3200 mAh. This isn’t a good year for anemic battery capacity gains, because the A17 Pro is power-thirsty. Early reports are that the <a href="https://www.notebookcheck.net/Severe-Apple-iPhone-15-Pro-Max-thermal-throttling-reported-as-A17-Pro-appears-to-push-surface-temperatures-to-48-C-during-gaming.753143.0.html">phone gets hot</a> and stays hot, with a corresponding drop in battery life.</p>



<figure><img loading="lazy" width="5504" height="5504" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24112731/battery_front.jpg" alt="iPhone 15 Pro Max Battery" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24112731/battery_front.jpg 5504w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112731/battery_front-150x150.jpg 150w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112731/battery_front-1536x1536.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112731/battery_front-2048x2048.jpg 2048w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112731/battery_front-900x900.jpg 900w" sizes="(max-width: 5504px) 100vw, 5504px"><figcaption>Uncle Sam wants YOU to be a Trained Technician.</figcaption></figure>



<p>The battery is serviceable only by a trained technician. Fortunately, you can be a trained technician! Simply train yourself using Apple’s service manual (likely coming soon) or <a href="https://www.ifixit.com/Device/iPhone_15_Pro_Max">iFixit’s repair guides</a> (in progress!). It’s not all that hard, we’ve helped millions of people fix their electronics themselves.</p>



<h2>A Titanium Housing</h2>



<p>The new Pro Max weighs 221 grams, 19 grams less than the 14 Pro Max. How much would you spend to save 19 grams? Pick up four nickels. What’s it worth to you to shave that much weight off of your phone? Well if you’re Apple, the answer is a heck of a lot.</p>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24123124/iPhone15_TD_42.jpg"><img loading="lazy" width="5401" height="3038" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24123124/iPhone15_TD_42.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24123124/iPhone15_TD_42.jpg 5401w, https://valkyrie.cdn.ifixit.com/media/2023/09/24123124/iPhone15_TD_42-1536x864.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24123124/iPhone15_TD_42-2048x1152.jpg 2048w, https://valkyrie.cdn.ifixit.com/media/2023/09/24123124/iPhone15_TD_42-1600x900.jpg 1600w" sizes="(max-width: 5401px) 100vw, 5401px"></a><figcaption>Left: iPhone 14 Pro Max: 221 grams. Right: iPhone 15 Pro Max plus four nickels: 222 grams.</figcaption></figure>



<p>The single largest use of metal in the iPhone is in the outer frame, so that’s where Apple turned to advanced metallurgy to save some grams and gain some marketing points.</p>



<p>One <a href="https://leancrew.com/all-this/2023/09/iphone-15-pro-facts-and-estimates/">interesting theory</a> that has been floated about the reduced weight is that by shaving weight around the perimeter of the phone, it <em>feels</em> easier to move around. The technical term for this is moment of inertia, or how much force it takes to rotate the phone around its axes. As mass is removed from the edges, the phone feels more nimble in your hand—like tucking your legs in while spinning. <em>Where</em> Apple is removing the weight is a larger contributor to the “feel” than the actual 9% weight reduction.</p>



<blockquote><p>“Reducing the mass at the perimeter, which the change from stainless steel to titanium has done, has definitely reduced the moment of inertia more than a uniform reduction in mass would have. And that will make the 15 Pro easier to manipulate and will contribute—at least somewhat—to the impression of lightness.”</p><cite>Dr. Drang</cite></blockquote>



<figure><video autoplay="" controls="" loop="" src="https://valkyrie.cdn.ifixit.com/media/2023/09/25143100/360xrayBW2.mp4" playsinline=""></video></figure>



<p>Titanium is a space-grade material, used in situations where you’re willing to spend a lot of money for extra tough and lightweight materials. The titanium used in the super-fast <a href="https://en.wikipedia.org/wiki/Lockheed_SR-71_Blackbird">SR-71 Blackbird</a> reconnaissance aircraft famously <a href="https://theaviationgeekclub.com/did-you-know-that-titanium-used-to-build-the-iconic-sr-71-blackbird-mach-3-spy-plane-came-from-soviet-union/">came from the unwitting Soviet Union</a>. Way back in 2001, Apple made the <a href="https://www.ifixit.com/Device/PowerBook_G4_Titanium_Series">PowerBook G4</a> out of titanium. We were particularly fond of this workhorse, which encased the display in painted titanium.</p>



<p>Manufacturers tend to avoid titanium if at all possible, not just because it’s expensive but because it’s notoriously hard to work with.</p>



<p>So while titanium made sense for the outer shell, it didn’t make a difference for the midframe, a hidden yet mechanically complex aluminum part that all the inside phone components mount to. But how do you keep the aluminum midframe <em>and </em>use titanium for the perimeter?</p>



<figure><blockquote><p>Using an industry-first thermo-mechanical process, the titanium bands encase a new substructure made from 100 percent recycled aluminum, bonding these two metals with incredible strength through solid-state diffusion. The aluminum frame helps with thermal dissipation and allows the back glass to be easily replaced.</p></blockquote></figure>



<p>That thermo-mechanical process is likely solid state diffusion bonding, a process where two different metals are heated really hot and then pressed together really hard. This isn’t a new idea–heating metals up and banging them together is how blacksmiths have worked for thousands of years. But these days, it’s quite rare. Wikipedia says, “Due to its relatively high cost, diffusion bonding is most often used for jobs either difficult or impossible to weld by other means.”</p>



<p>High cost? Super-hard metal? Difficult job? That sounds like something really up Apple’s alley.</p>



<p>This is approximately what a <a href="https://vacuum-furnaces.com/production-furnaces-series-3520/">diffusion bonding machine</a> looks like. It heats metals up to 1700 Celsius, or about the melting point of steel. And then it sucks all the oxygen out, creating a 10<sup>‐6</sup> torr high vacuum. Then it presses the material together with 100 tons of force. And then you leave it there for an hour. Apple’s recipe won’t match this exactly, but if this reminds you of the process for making diamonds, you’re not far off.</p>



<div><figure><a href="https://vacuum-furnaces.com/production-furnaces-series-3520/"><img loading="lazy" width="861" height="587" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24114905/Sintervac-AM-spotlight.jpg" alt=""></a><figcaption>A vacuum hot chamber used for sintering 3D printed parts. Combine this with a hydraulic press and you’ve got the idea. Photo: Centorr Vacuum Industries</figcaption></figure></div>



<p>That’s an insanely complicated, expensive process that is typically limited to small production aerospace parts, not mass production of smartphones. Whatever machine Apple is using, they have <em>a lot</em> of them.</p>



<p>There are sustainability implications here. Electronics recyclers are accustomed to working with steel and aluminum, but don’t usually deal with titanium. If the titanium ended up in an aluminum shredder, it would damage or dull the blades. On the other hand, iPhones have so much residual value that they generally get special treatment in these facilities.</p>







<p>While the titanium itself is very hard, the coating on the titanium scratches quite easily. Thanks to <a href="https://www.evidentscientific.com/en/">Evident Scientific</a> for assistance with the imagery.</p>



<h2>Electronics</h2>



<p>One thing we were not expecting to find is an Apple baseband processor. Apple’s 5G modem team has been <a href="https://www.wsj.com/tech/apple-iphone-modem-chip-failure-6fe33d19">toiling in isolation</a> for years without any hardware to show for it. We’re not sure who to feel for, Tim Cook’s wallet or the poor Apple lawyers who had to grovel with Broadcom for a new contract. Amazingly, the hundreds of engineers working on this project for <a href="https://www.eetimes.com/infineon-adds-145-siemens-engineers-to-wireless-team-2/">first-Infineon</a>, <a href="https://www.infineon.com/cms/en/about-infineon/press/press-releases/2010/INFXX201008-069.html">then-Intel</a>, and <a href="https://www.apple.com/newsroom/2019/07/apple-to-acquire-the-majority-of-intels-smartphone-modem-business/">now-Apple</a> have yet to ship a single 5G modem to customers. That’s got to be demoralizing.</p>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24124006/iphone_15_pro_max_comms-1.jpg"><img loading="lazy" width="5981" height="2500" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24124006/iphone_15_pro_max_comms-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24124006/iphone_15_pro_max_comms-1.jpg 5981w, https://valkyrie.cdn.ifixit.com/media/2023/09/24124006/iphone_15_pro_max_comms-1-1536x642.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24124006/iphone_15_pro_max_comms-1-2048x856.jpg 2048w" sizes="(max-width: 5981px) 100vw, 5981px"></a></figure>



<p>Sure enough, once we separated the main boards, we can confirm that Apple is using Broadcom’s high end <a href="https://www.qualcomm.com/products/technology/modems/snapdragon-x70-modem-rf-system">Snapdragon X70 modem</a>. According to Qualcomm, it’s powered by AI for beam management and antenna tuning. AI and 5G? We’ve <a href="https://www.theverge.com/2019/4/10/18296793/foxconn-wisconsin-location-factory-innovation-centers-technology-hub-no-news">heard that before</a>! Alas <a href="https://www.amazon.com/Exoviz-AI-8K-5G/dp/B07RM71F33">8K</a> is nowhere to be seen.</p>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24124050/iphone_15_pro_max_a17_pro-1.jpg"><img loading="lazy" width="5981" height="2500" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24124050/iphone_15_pro_max_a17_pro-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24124050/iphone_15_pro_max_a17_pro-1.jpg 5981w, https://valkyrie.cdn.ifixit.com/media/2023/09/24124050/iphone_15_pro_max_a17_pro-1-1536x642.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24124050/iphone_15_pro_max_a17_pro-1-2048x856.jpg 2048w" sizes="(max-width: 5981px) 100vw, 5981px"></a></figure>



<p>The Apple A17 Pro hexa-core applications processor with six-core GPU layered under what is likely SK Hynix DDR5 memory.&nbsp;We’ve created a <a href="https://www.ifixit.com/Guide/iPhone+15+Pro+Max+Chip+ID/165320">separate Chip ID page</a> with extreme detail on what all of those parts are.</p>






<p>This part is manufactured with TSMC’s <a href="https://www.tsmc.com/english/dedicatedFoundry/technology/logic/l_3nm">cutting-edge 3nm process</a>, and is unlikely to be beaten by anything else anytime soon as Apple simply bought out the entirety of TSMC’s capacity for the year. Rumors are that yield on this new process are <a href="https://wccftech.com/apple-pay-tsmc-3nm-good-dies-a17-bionic-and-m3-yields-at-55-percent/">still quite low</a>, making this a particularly expensive part.</p>



<p><strong>Cameras</strong></p>



<p>The big upgrade for the cameras this year is the “tetraprism” periscope lens, upping the iPhone’s optical zoom from 2x to 5x. The <a href="https://www.ifixit.com/Device/Galaxy_S23_Ultra">S23 Ultra</a> technically beats this with 10x zoom, but the way Apple’s engineers achieved it is particularly interesting.&nbsp;Tetraprism, a fancy way of saying four lenses, is a word invented by Apple’s marketing team, but it’s got a nice ring to it!</p>



<figure><img loading="lazy" width="1200" height="800" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24112755/camera_front_2-1200x800.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24112755/camera_front_2-1200x800.jpg 1200w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112755/camera_front_2-300x200.jpg 300w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112755/camera_front_2-600x400.jpg 600w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112755/camera_front_2-768x512.jpg 768w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112755/camera_front_2-324x216.jpg 324w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112755/camera_front_2-450x300.jpg 450w" sizes="(max-width: 1200px) 100vw, 1200px"></figure>



<p>Instead of opting for a series of lens elements controlled by electromagnets, they designed a single element “periscope” which reflects light multiple times to simulate a 120mm focal length. </p>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24212223/tetralaser.gif"><img loading="lazy" width="1236" height="672" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24212223/tetralaser.gif" alt=""></a><figcaption>The laser light coming from the left is shifted onto a higher plane by the periscope lens system.</figcaption></figure>



<p>The physics challenge that smartphone camera designers are constantly working against is the thickness of the lens system. Using a periscope allows them to offset the sensor slightly from the lens.</p>







<figure><img loading="lazy" width="1200" height="719" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24120016/apple-iphone-15-pro-max-tetraprism.jpg" alt=""><figcaption>Photo: Apple</figcaption></figure>



<p>A periscope is a device for viewing things past obstacles. In this case, the obstacle is the camera itself. The mirrors bounce the light to the side, allowing for a greater focal length between the front lens and the focusing point on the sensor.</p>



<p>Aside from the new periscope lens, the sensors on the 15 Pro Max main and wide cameras seem to be the same size as last year’s 14 Pro Max—suggesting any improvement in image quality has more to do with the new A17 SoC than the camera hardware itself.</p>



<div><figure><img loading="lazy" width="1200" height="800" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24112844/faceid_v1-1200x800.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24112844/faceid_v1-1200x800.jpg 1200w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112844/faceid_v1-300x200.jpg 300w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112844/faceid_v1-600x400.jpg 600w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112844/faceid_v1-768x512.jpg 768w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112844/faceid_v1-324x216.jpg 324w, https://valkyrie.cdn.ifixit.com/media/2023/09/24112844/faceid_v1-450x300.jpg 450w" sizes="(max-width: 1200px) 100vw, 1200px"></figure></div>



<p>One surprising thing we found was substantially larger screws holding down the camera than in the past. Why? We have no idea. But we have a new microscope, and this is as good a way as any to show it off!</p>



<div><figure><img loading="lazy" width="1200" height="800" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24120350/Camera_screw_comparison2_37x_C_C-1-1-1200x800.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24120350/Camera_screw_comparison2_37x_C_C-1-1-1200x800.jpg 1200w, https://valkyrie.cdn.ifixit.com/media/2023/09/24120350/Camera_screw_comparison2_37x_C_C-1-1-300x200.jpg 300w, https://valkyrie.cdn.ifixit.com/media/2023/09/24120350/Camera_screw_comparison2_37x_C_C-1-1-600x400.jpg 600w, https://valkyrie.cdn.ifixit.com/media/2023/09/24120350/Camera_screw_comparison2_37x_C_C-1-1-768x512.jpg 768w, https://valkyrie.cdn.ifixit.com/media/2023/09/24120350/Camera_screw_comparison2_37x_C_C-1-1-324x216.jpg 324w, https://valkyrie.cdn.ifixit.com/media/2023/09/24120350/Camera_screw_comparison2_37x_C_C-1-1-450x300.jpg 450w" sizes="(max-width: 1200px) 100vw, 1200px"><figcaption>iPhone 15 camera screw, top. Equivalent iPhone 14 screw, bottom.</figcaption></figure></div>



<h2>A Great Design Undermined by Parts Pairing</h2>



<p>Unfortunately, swapping the front camera between two of our 15 Pro Max units results in complete failure. The cameras simply do not work. When we first encountered this problem last year, where the part was paired to its original device, we assumed that it was a bug that would be quickly fixed. Our trust was clearly misplaced.</p>



<p>It’s time for an urgent conversation about Apple’s approach to repairability. Despite our enthusiasm for iPhone 14’s easier-to-disassemble design, we’ve been compelled to <a href="https://www.ifixit.com/News/82493/we-are-retroactively-dropping-the-iphones-repairability-score-en">adjust our repairability score</a> from a promising 7 to a discouraging 4, highlighting Apple’s ongoing constriction of repair freedoms through its restrictive parts pairing system. To effectively repair these models, you have to procure parts within Apple’s sphere and validate the repairs. Without calibration, the parts either don’t work at all, or have compromised functionality and incessant warnings.</p>



<p>Repair is hard enough without software obstacles thrown into the mix. We’ve spent over $10,000 on iPhones over the last few days and our technicians have been systematically testing components to determine which repairs are possible and which are not.</p>



<p>Our objective in methodically swapping out every component in the phone is to find out whether repairs will be impossible or simply annoying. Our tests swap parts between identical, brand new devices. No aftermarket parts are involved. We’ve discovered that the rear lidar assembly, which will be critical for augmented reality functionality and creating content for the Vision Pro, is completely locked to the iPhone 15 Pro Max.</p>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/25150927/Parts-Pairing-Summary.png"><img loading="lazy" width="1465" height="661" src="https://valkyrie.cdn.ifixit.com/media/2023/09/25150927/Parts-Pairing-Summary.png" alt=""></a></figure>



<p>We purchased two iPhone 15 Pro Max units, and swapped the lidar modules between the two. The camera app initially loaded and then crashed. We were able to repeatedly reproduce this behavior.</p>



<p>Here’s the <a href="https://docs.google.com/spreadsheets/d/1BuxNntf-KIG_DFYEvKvfPafBI09IM4rjOf2RsGbN9II/edit#gid=2078984963">result of our tests</a>:</p>



<figure><a href="https://docs.google.com/spreadsheets/d/1BuxNntf-KIG_DFYEvKvfPafBI09IM4rjOf2RsGbN9II/edit"><img loading="lazy" width="1920" height="1564" src="https://valkyrie.cdn.ifixit.com/media/2023/09/25125202/parts-pairing-iphone-15-max-2.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/25125202/parts-pairing-iphone-15-max-2.jpg 1920w, https://valkyrie.cdn.ifixit.com/media/2023/09/25125202/parts-pairing-iphone-15-max-2-1536x1251.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/25125202/parts-pairing-iphone-15-max-2-1105x900.jpg 1105w" sizes="(max-width: 1920px) 100vw, 1920px"></a></figure>



<p>Parts pairing in these models extends beyond mere mechanical compatibility, requiring authentication and pairing through Apple’s System Configuration tool, further limiting genuine replacements to Apple-blessed ones and substantially impacting independent repair enterprises and the overarching issue of e-waste.</p>



<p>Our insights aren’t confined to iPhones; we’ve witnessed analogous situations with MacBooks and iPads where the stranglehold on repairability is tightening, restricting the remit of repairs to Apple or forcing compromises on independent repairs. The slew of software hindrances significantly overshadow any mechanical advancements in design.</p>



<p>That <a href="https://arstechnica.com/gaming/2020/01/unauthorized-bread-a-near-future-tale-of-refugees-and-sinister-iot-appliances/">dystopian future</a> that science fiction authors <a href="https://www.eff.org/deeplinks/2018/05/eff-presents-john-scalzi-science-fiction-story-about-our-right-repair-petition">warned us</a> was coming, where DRM infected every part of our lives? We’re living in it. The result of these extensive limitations is a major infringement of ownership rights and amplification of the e-waste crisis.</p>



<h2>Repairability</h2>



<p>The iPhone 15 Pro Max, 15 Pro, 15 Plus, and 15 all earn a four out of ten. </p>



<div><figure><img loading="lazy" width="400" height="535" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24181350/4_Provisional_Repairability-Score_Drop-Shadow.png" alt=""></figure></div>



<p>The score is provisional because we are awarding some credit for anticipated service manual availability and selling repair parts. Apple doesn’t have either of these live at the moment, but we expect them soon.</p>



<p>Unfortunately, software is the anchor around an otherwise exceptionally designed phone. But without the ability to swap components, repairability suffers dramatically. We don’t purchase products for our team that score below a five, so iFixit will not be purchasing the iPhone 15 for internal use.</p>



<h2>The Bottom Line</h2>



<p>The 15 is an incremental upgrade, and that’s just fine. The rollout of the 14’s innovative open-from-both-sides mechanical architecture is welcome. Investments in camera hardware are always well spent, and the periscope is particularly innovative. Given the expense, reduced drop test tolerance, recycling challenges, and fragile finish, titanium doesn’t seem like the best long-term material for a smartphone—but we’re impressed Apple pulled it off. We tip our hats at the materials engineers, but aluminum works just fine from our perspective.</p>



<p>It’s clearly time for Apple to abandon parts pairing. Some parts calibrations will need to be performed with tooling in the field, and some parts will simply need to be enabled without calibration or the same level of precision that Apple achieves in their factories. That’s perfectly acceptable for a field repair.</p>



<p>A part installed in a phone should just work. Ever since we invented interchangeable parts in the 1800s, parts have been swappable between products. Software shouldn’t be an obstacle to harvesting parts, or using aftermarket parts for that matter. The entire economy of reuse depends on interoperability, from local repair shops to large scale refurbishers to recyclers.</p>



<p>The iPhone is the market leader, but Apple is trailing the pack on repairability. This gap is completely self-inflicted, with a perfectly serviceable hardware design that is sabotaged by an incredibly complex regime of parts pairing and cloud calibrations.</p>



<p>It’s time for Apple to start thinking differently.</p>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24230945/iPhone15_layout_v2.jpg"><img loading="lazy" width="3200" height="1800" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24230945/iPhone15_layout_v2.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24230945/iPhone15_layout_v2.jpg 3200w, https://valkyrie.cdn.ifixit.com/media/2023/09/24230945/iPhone15_layout_v2-1536x864.jpg 1536w, https://valkyrie.cdn.ifixit.com/media/2023/09/24230945/iPhone15_layout_v2-2048x1152.jpg 2048w, https://valkyrie.cdn.ifixit.com/media/2023/09/24230945/iPhone15_layout_v2-1600x900.jpg 1600w" sizes="(max-width: 3200px) 100vw, 3200px"></a></figure>



<h2>Wallpapers</h2>



<figure>
<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Max-Wallpaper-1.jpg"><img loading="lazy" width="1290" height="2796" data-id="83058" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Max-Wallpaper-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Max-Wallpaper-1.jpg 1290w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Max-Wallpaper-1-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Max-Wallpaper-1-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Max-Wallpaper-1-415x900.jpg 415w" sizes="(max-width: 1290px) 100vw, 1290px"></a><figcaption><strong>iPhone 15 Pro Max Wallpaper</strong></figcaption></figure>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Wallpaper-1.jpg"><img loading="lazy" width="1179" height="2556" data-id="83056" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Wallpaper-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Wallpaper-1.jpg 1179w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Wallpaper-1-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Wallpaper-1-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Pro-Wallpaper-1-415x900.jpg 415w" sizes="(max-width: 1179px) 100vw, 1179px"></a><figcaption><strong>iPhone 15 Pro Wallpaper</strong></figcaption></figure>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-Pink-1.jpg"><img loading="lazy" width="1290" height="2796" data-id="83053" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-Pink-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-Pink-1.jpg 1290w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-Pink-1-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-Pink-1-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-Pink-1-415x900.jpg 415w" sizes="(max-width: 1290px) 100vw, 1290px"></a><figcaption><strong>iPhone 15 Plus True Wallpaper (Pink)</strong></figcaption></figure>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-Pink-1.jpg"><img loading="lazy" width="1290" height="2796" data-id="83059" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-Pink-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-Pink-1.jpg 1290w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-Pink-1-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-Pink-1-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-Pink-1-415x900.jpg 415w" sizes="(max-width: 1290px) 100vw, 1290px"></a><figcaption><strong>iPhone 15 Plus Rear Wallpaper (Pink)</strong></figcaption></figure>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-1.jpg"><img loading="lazy" width="1290" height="2796" data-id="83052" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-1.jpg 1290w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-1-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-1-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-True-Wallpaper-1-415x900.jpg 415w" sizes="(max-width: 1290px) 100vw, 1290px"></a><figcaption><strong>iPhone 15 Plus True Wallpaper (Neutral)</strong></figcaption></figure>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-1.jpg"><img loading="lazy" width="1290" height="2796" data-id="83057" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-1.jpg 1290w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-1-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-1-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Plus-Wallpaper-1-415x900.jpg 415w" sizes="(max-width: 1290px) 100vw, 1290px"></a><figcaption><strong>iPhone 15 Plus Rear Wallpaper (Neutral)</strong></figcaption></figure>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-Pink-1.jpg"><img loading="lazy" width="1179" height="2556" data-id="83051" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-Pink-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-Pink-1.jpg 1179w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-Pink-1-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-Pink-1-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-Pink-1-415x900.jpg 415w" sizes="(max-width: 1179px) 100vw, 1179px"></a><figcaption><strong>iPhone 15 True Wallpaper (Pink)</strong></figcaption></figure>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-Pink.jpg"><img loading="lazy" width="1179" height="2556" data-id="83054" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-Pink.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-Pink.jpg 1179w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-Pink-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-Pink-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-Pink-415x900.jpg 415w" sizes="(max-width: 1179px) 100vw, 1179px"></a><figcaption><strong>iPhone 15 Rear Wallpaper (Pink)</strong></figcaption></figure>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-1.jpg"><img loading="lazy" width="1179" height="2556" data-id="83050" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-1.jpg 1179w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-1-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-1-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-True-Wallpaper-1-415x900.jpg 415w" sizes="(max-width: 1179px) 100vw, 1179px"></a><figcaption><strong>iPhone 15 True Wallpaper (Neutral)</strong> </figcaption></figure>



<figure><a href="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-1.jpg"><img loading="lazy" width="1179" height="2556" data-id="83055" src="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-1.jpg" alt="" srcset="https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-1.jpg 1179w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-1-709x1536.jpg 709w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-1-945x2048.jpg 945w, https://valkyrie.cdn.ifixit.com/media/2023/09/24231829/iPhone-15-Wallpaper-1-415x900.jpg 415w" sizes="(max-width: 1179px) 100vw, 1179px"></a><figcaption><strong>iPhone 15 Rear Wallpaper (Neutral)</strong></figcaption></figure>
</figure>
    
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Costco now offering virtual medical care for $29 (206 pts)]]></title>
            <link>https://www.cbsnews.com/news/costco-virtual-medical-checkups-for-29/</link>
            <guid>37653831</guid>
            <pubDate>Tue, 26 Sep 2023 03:07:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cbsnews.com/news/costco-virtual-medical-checkups-for-29/">https://www.cbsnews.com/news/costco-virtual-medical-checkups-for-29/</a>, See on <a href="https://news.ycombinator.com/item?id=37653831">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                    
                            
                                    
                                                        
<article id="article-0" data-index="0" data-path="/news/costco-virtual-medical-checkups-for-29/" data-infinite-scroll-options="{&quot;toggleClass&quot;:&quot;has--infinite-scroll&quot;,&quot;baseEl&quot;:&quot;.content__body&quot;,&quot;assetId&quot;:&quot;0d8de626-1f6c-4704-8d15-3ad7983ae925&quot;}" data-component="[&quot;infinite-scroll&quot;]">

  <div id="article-header" data-sort-time="1695684167000" data-update-time="1695684167000">
    <header><p>
        <a href="https://www.cbsnews.com/moneywatch?ftag=CNM-16-10abg0d" data-invalid-url-rewritten-http="">
          MoneyWatch
          </a>
      </p>
      
      
      <div>

        <!-- show SVG here -->
                            <p><a href="https://www.cbsnews.com/moneywatch">
            <img width="60" height="60" alt="moneywatch" src="https://www.cbsnews.com/assets/show/moneywatch/logo-square-32.svg" loading="lazy"></a></p><!-- end show SVG -->

                  
        
        <p>
          <time datetime="2023-09-25T18:36:00-0400">September 25, 2023 / 6:36 PM</time>
          / MoneyWatch
        </p>
        


</div>
          </header></div>

      
  
  <section><p>For just under the cost of six Costco rotisserie chickens — still $4.99 after more than a decade — members of the warehouse club can visit a doctor online.</p><p>Online marketplace Sesame is partnering with the retail "members only" giant to offer Costco members virtual primary care for $29 in all 50 states, the New York-based startup said Monday in a blog&nbsp;<a href="https://sesamecare.com/blog/sesame-costco-partnership" target="_blank" rel="nofollow noopener">post</a>.</p><p>The health care services listed via a link on the Costco Pharmacy's <a href="https://www.costco.com/pharmacy/warehouse-pickup" target="_blank" rel="nofollow noopener">homepage</a>&nbsp;include virtual checkups involving a standard lab panel and virtual follow-up with a doctor for $72, and virtual mental health visits. &nbsp;</p><figure>
          <figcaption><a href="https://www.cbsnews.com/video/high-health-insurance-deductibles-are-causing-financial-hardship/" data-invalid-url-rewritten-http="">
          
          <span>
            </span>

          <span>High health insurance deductibles are causing financial hardship</span>

          <span>01:05</span>

                      </a>
                  
        
        
              </figcaption></figure><p>Sesame said it<span><a href="https://www.cbsnews.com/news/cancer-treatment-uninsured/" target="_blank" data-invalid-url-rewritten-http=""> targets the uninsured</a></span> and those with high deductibles who need to pay cash. It doesn't accept health insurance to help keep prices low.&nbsp;</p>    
  <p>"Quality, great value and low price are what the Costco brand is known for," David Goldhill, Sesame's co-founder and CEO, stated. "When it comes to health care, Sesame also delivers high quality and great value — and a low price that will be appreciated by Costco Members when it comes to their own care."</p><p>The move has Costco following other major retailers in offering health care services. Amazon provides &nbsp;around-the-clock remote access to third-party health care providers and Walmart Inc. runs in-store medical clinics.&nbsp;</p>
                  
        
      
        
    <!-- data-recirc-source="chartbeat" -->

    <!-- tags --></section><div id="soft-login-gate" data-soft-login-gate-options="{&quot;url&quot;:&quot;https:\/\/www.cbsnews.com\/user\/email-check\/&quot;}" data-smart-banner-options="{&quot;cookieName&quot;:&quot;SB_soft-login-gate&quot;,&quot;bannerVisibleClass&quot;:&quot;soft-login-gate--visible&quot;,&quot;bannerHiddenClass&quot;:&quot;soft-login-gate--hidden&quot;,&quot;retryDays&quot;:0}" data-component="[&quot;soft-login-gate&quot;,&quot;smart-banner&quot;,&quot;logingate-cookie-check&quot;]">
    <p>Thanks for reading CBS NEWS. </p>
    <p>Create your free account or log in <br> for more features.</p>

    <form method="post" id="soft-login-gate__form">
        
        <div>
            <p>
                Please enter email address to continue
            </p>
            <p>
                Please enter valid email address to continue
            </p>
        </div>
    </form>
</div>
  
  </article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Nickel Hydrogen Batteries by NASA (121 pts)]]></title>
            <link>https://spectrum.ieee.org/grid-scale-battery-storage-nickel-hydrogen</link>
            <guid>37653656</guid>
            <pubDate>Tue, 26 Sep 2023 02:39:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://spectrum.ieee.org/grid-scale-battery-storage-nickel-hydrogen">https://spectrum.ieee.org/grid-scale-battery-storage-nickel-hydrogen</a>, See on <a href="https://news.ycombinator.com/item?id=37653656">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-elid="2665718559" data-post-url="https://spectrum.ieee.org/grid-scale-battery-storage-nickel-hydrogen" data-authors="Prachi Patel" data-headline="NASA Battery Tech to Deliver for the Grid" data-page-title="NASA Battery Tech to Deliver for the Grid - IEEE Spectrum"><p>Technologies for space are designed to be tough, safe, and long-lasting. So what happens when you bring the battery chemistry deployed on the International Space Station, <a href="https://en.wikipedia.org/wiki/Nickel%E2%80%93hydrogen_battery" target="_blank">nickel-hydrogen</a>, down to Earth? </p><p>“[It’s] the most durable battery ever invented,” says Jorg Heinemann. Nickel-hydrogen batteries, he says, can last for 30,000 charge cycles, are fireproof, and outperform lithium-ion batteries on a number of key metrics for energy storage at the large scale.</p><p>Heinemann is CEO of <a href="https://enervenue.com/" rel="noopener noreferrer" target="_blank">EnerVenue</a>, a Fremont, California-based nickel-hydrogen battery manufacturer. “Our cost is comparable to where lithium-ion is going, and we use earth-abundant materials,” he says. “Nickel is the most expensive thing we use. We operate at a ninety percent round-trip efficiency, more efficient than lithium-ion. And there’s basically no maintenance on this battery, it was designed for sending up on a rocket ship into outer space.”</p><p>Nickel-hydrogen batteries can run for tens of thousands of cycles, giving them a life of over 30 years. </p><p>This fall, the company will finish construction of a 92,900 square-meter gigafactory in Kentucky that will start by making up to five gigawatt-hours’ worth of batteries annually. He projects the facility will reach its full capacity when it’s churning out 20 GWh of cells per year. </p><p>Nickel-hydrogen batteries look and work unlike any other battery. They consist of a stack of electrodes inside a pressurized gas tank. The cathode is <a href="https://en.wikipedia.org/wiki/Nickel(II)_hydroxide" target="_blank">nickel hydroxide</a> while the anode is hydrogen. When the battery is charging, a catalytic reaction generates hydrogen gas. During discharge, the hydrogen oxidizes and converts back to water.</p><p>The chemistry was designed in the 1970s and chosen for the space program because “there were really no other alternatives then,” Heinemann says. Lithium-ion was in its infancy and lasted for about 200 cycles, while lead-acid lasted around 500. </p><p>Nickel-hydrogen batteries can run for tens of thousands of cycles, giving them a life of over 30 years. Their use of <a href="https://spectrum.ieee.org/precious-metal-free-fuel-cell" target="_self">expensive platinum catalysts</a> kept them relegated to space applications until five years ago, when Stanford materials science and engineering professor and <a href="https://spectrum.ieee.org/silicon-anode-battery" target="_self">battery entrepreneur</a> Yi Cui’s team <a href="https://www.pnas.org/doi/full/10.1073/pnas.1809344115" rel="noopener noreferrer" target="_blank">found an inexpensive nickel-molybdenum-cobalt alloy catalyst</a> for the battery that costs $20/kg. </p><p>Cui helped launch EnerVenue in 2020 and is now the startup’s chairman and chief technology officer. The company’s newest-generation batteries, revealed in early September, are tanks measuring 1.8 meters long (6 feet) and 15 centimeters wide (6 inches) with an energy capacity of 3kWh, Heinemann says.</p><p>“I call it the barbecue test. We take the battery, put it in an open fire, and watch it continue to heat up.”<br>—Jorg Heinemann, EnerVenue</p><p>Needing a pressurized vessel raises eyebrows, he adds, but the reactions are very stable and as hydrogen gas builds up inside the tank, it reaches a peak pressure that is about 5 percent of what a hydrogen fuel cell would typically reach. The nature of the chemistry is such that if the pressure continues to rise past the maximum, it forces the recombination of hydrogen back into water. So there is no mechanism for thermal runaway as there is in lithium-ion, where byproducts of the reaction can sometimes cause uncontrolled buildup of heat that can cause fires.</p><p>“I call it the barbecue test,” Heinemann says. “We take the battery, put it in an open fire, and watch it continue to heat up. What ends up happening is that the pressure above top charge will force the hydrogen back into water. And then we have a release valve designed into the unit so at a predesigned pressure and temperature that will release, and you’ll get a steam vent.”</p><p data-rm-resized-container="25%"><img alt="photo of many racks of EnerVenue batteries in a warehouse space" data-rm-shortcode-id="f89f7a0efbbda4d328ec9ca1804a0f7d" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/photo-of-many-racks-of-enervenue-batteries-in-a-warehouse-space.jpg?id=44646962&amp;width=980" height="1295" id="2fa55" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/photo-of-many-racks-of-enervenue-batteries-in-a-warehouse-space.jpg?id=44646962&amp;width=980" width="1800"><small data-gramm="false" data-lt-tmp-id="lt-83122" placeholder="Add Photo Caption..." spellcheck="false">EnerVenue says its cylindrical batteries are low-maintenance and non-volatile and will require no special heating, cooling, or safety systems—unlike lithium-ion battery storage. </small><small data-gramm="false" data-lt-tmp-id="lt-975200" placeholder="Add Photo Credit..." spellcheck="false"> EnerVenue</small></p><p>Another advantage is that the battery chemistry works across a wide temperature range of -40 to 60°C. That means any given battery storage bank requires no costly heating, air-conditioning, ventilation, and fire-suppression systems—all of which require their own maintenance and upkeep, in addition to sapping a company’s bottom line.</p><p>Many novel battery technologies are vying for the grid storage market, and nickel-hydrogen batteries are at least tried and tested in small-scale <a href="https://spectrum.ieee.org/topic/aerospace/">aerospace</a> applications. But they haven’t been made and tested on large scale yet, and the new metal alloy catalyst has yet to prove itself in the real world.</p><p><span></span>“Like many early-stage technologies, EnerVenue’s nickel-hydrogen batteries currently cost more than lithium-ion batteries,” says Aaron Marks, an energy storage technology analyst at <a href="https://www.woodmac.com/" target="_blank">Wood Mackenzie</a>. “They also have lower energy density, meaning more space and more batteries are needed for the same power rating.” But, he adds, their less intensive manufacturing process may provide a key advantage for companies like EnerVenue to ramp up manufacturing. The batteries’ relative safety and long life should also make them very competitive. “Once the technology reaches scale, it will help make the entire technology landscape better and cheaper just by virtue of providing real competition,” Marks says.<br></p><p>So far, EnerVenue has been operating a pilot production line that can manufacture 100 megawatt-hours’ worth of batteries per year—and they’ve deployed small-scale test systems. But, says Heinemann, the company already has over 7 GWh, or about 400 million dollars’ worth of purchase orders, including from solar energy developer <a href="https://pv-magazine-usa.com/2022/05/17/pine-gate-purchases-2-4-gwh-of-enervenue-batteries/" target="_blank">Pine Gate Renewables</a> and <a href="https://enervenue.com/schlumberger-new-energy-enters-into-agreement-with-enervenue-for-metal-hydrogen-stationary-energy-storage-solutions/" rel="noopener noreferrer" target="_blank">Schlumberger New Energy</a>. “Our mission,” he says, “Is to become the number one provider of stationary storage serving power plants, businesses and homes globally.”</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Air Quality Monitors from USD $169 to $6k use the same low-cost PM Modules (114 pts)]]></title>
            <link>https://www.airgradient.com/blog/most-aq-monitors-use-same-pm-modules/</link>
            <guid>37652832</guid>
            <pubDate>Tue, 26 Sep 2023 00:41:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.airgradient.com/blog/most-aq-monitors-use-same-pm-modules/">https://www.airgradient.com/blog/most-aq-monitors-use-same-pm-modules/</a>, See on <a href="https://news.ycombinator.com/item?id=37652832">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>A few weeks ago, I wrote quite a popular blog post titled <a href="https://www.airgradient.com/blog/expensive-air-quality-monitors-not-more-accurate/">“Air Quality Monitors: When Paying More Does Not Get You More Accuracy”</a>
with the key takeaway that the accuracy of PM2.5 does not get better the more expensive the monitor is. One of the things that this post did not dive in was <em><strong>WHY</strong></em> the accuracy is very similar across all these monitors.</p>
<p>So I thought why not take a closer look at what type of PM sensor modules these monitors use, and so I went through the <a href="https://www.aqmd.gov/aq-spec/evaluations/summary-pm" target="_blank">South Coast AQMD</a>
list of their tested air quality monitors as they state in their field report the PM module used. I looked up the most popular brands across a large price range and this is what I found:</p>
<table>
<thead>
<tr>
<th>Air Quality Monitor</th>
<th>Price as per AQSpec or Manufacturer Website</th>
<th>Measures Pollutants</th>
<th>PM model</th>
<th>PM Sensor Cost (estimated bulk price)</th>
<th>AQ-Spec Evaluation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Atmotube Pro</td>
<td>169</td>
<td>PM, VOC</td>
<td>Sensirion SPS30</td>
<td>15-20</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/atmotube-pro---field-evaluation.pdf?sfvrsn=8" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/atmotube-pro—field-evaluation.pdf?sfvrsn=8</a>
</td>
</tr>
<tr>
<td>AirGradient <a href="https://www.airgradient.com/open-air">Open Air (O-1PST)</a>
</td>
<td>195</td>
<td>PM, CO2, VOC</td>
<td>Plantower 5003</td>
<td>10-15</td>
<td><em><strong>Our</strong></em> Open-Hardware Monitor. AQ-Spec Evaluation has not been done yet, but we do extensive testing. See our <a href="https://www.airgradient.com/research">Research Page</a>
.</td>
</tr>
<tr>
<td>Purple Air Classic</td>
<td>230</td>
<td>PM</td>
<td>Plantower 5003</td>
<td>10-15</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/purple-air-pa-ii---field-evaluation.pdf?sfvrsn=11" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/purple-air-pa-ii—field-evaluation.pdf?sfvrsn=11</a>
</td>
</tr>
<tr>
<td>Edimax Airbox</td>
<td>250</td>
<td>PM</td>
<td>Plantower 5003</td>
<td>10-15</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/edimax-airbox---field-evaluation.pdf?sfvrsn=12" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/edimax-airbox—field-evaluation.pdf?sfvrsn=12</a>
</td>
</tr>
<tr>
<td>Purple Air Flex</td>
<td>299</td>
<td>PM</td>
<td>Plantower 6003</td>
<td>12-18</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/purpleair-pa-ii-flex---field-evaluation.pdf?sfvrsn=14" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/purpleair-pa-ii-flex—field-evaluation.pdf?sfvrsn=14</a>
</td>
</tr>
<tr>
<td>TSI Blue Sky</td>
<td>400</td>
<td>PM</td>
<td>Sensirion SPS30</td>
<td>15-20</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/tsi-bluesky---field-evaluation.pdf?sfvrsn=20" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/tsi-bluesky—field-evaluation.pdf?sfvrsn=20</a>
</td>
</tr>
<tr>
<td>Airly</td>
<td>1000</td>
<td>PM, NO2, O3</td>
<td>Plantower 5003</td>
<td>10-15</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/airly---field-evaluation.pdf?sfvrsn=8" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/airly—field-evaluation.pdf?sfvrsn=8</a>
</td>
</tr>
<tr>
<td>QuantQM</td>
<td>1295</td>
<td>PM</td>
<td>Plantower 5003 and Alphasense OPC-N3</td>
<td>15-20 / 100+</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/quantaq-modulair-pm---field-evaluation.pdf?sfvrsn=15" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/quantaq-modulair-pm—field-evaluation.pdf?sfvrsn=15</a>
</td>
</tr>
<tr>
<td>Clarity Node</td>
<td>1300</td>
<td>PM, NO2</td>
<td>Plantower 5003</td>
<td>10-15</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/clarity-node---field-evaluation.pdf?sfvrsn=6" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/clarity-node—field-evaluation.pdf?sfvrsn=6</a>
</td>
</tr>
<tr>
<td>iMonPM</td>
<td>1959</td>
<td>PM</td>
<td>Wuhan Cubic<br>PM3006S</td>
<td>10-15</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/pm-monitor-imonpm---field-evaluation.pdf?sfvrsn=21" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/pm-monitor-imonpm—field-evaluation.pdf?sfvrsn=21</a>
</td>
</tr>
<tr>
<td>Aeroqual AQY v1.0</td>
<td>4000</td>
<td>PM, O3, NO2</td>
<td>SDS011 by Nova Fitness</td>
<td>15-20</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/aeroqual-aqy-v1-0-%28pm10%29---field-evaluation.pdf?sfvrsn=14" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/aeroqual-aqy-v1-0-(pm10)—field-evaluation.pdf?sfvrsn=14</a>
</td>
</tr>
<tr>
<td>Oizom Dustroid</td>
<td>6000</td>
<td>PM</td>
<td>Wuhan Cubic PM3006S</td>
<td>10-15</td>
<td><a href="http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/oizom-dustroid-pro---field-evaluation.pdf?sfvrsn=15" target="_blank">http://www.aqmd.gov/docs/default-source/aq-spec/field-evaluations/oizom-dustroid-pro—field-evaluation.pdf?sfvrsn=15</a>
</td>
</tr>
</tbody>
</table>
<p>From the monitors I looked at, all except one, use low-cost PM modules costing between USD 10 - 20 in bulk quantities. The notable exception is the QuantQM that uses a more expensive AlphaSense OPC-N3 optical particle counter (in addition to the Plantower PMS5003).</p>
<p>I also added our own open-hardware air quality monitor <a href="https://www.airgradient.com/open-air">Open Air</a>
as comparison into the table, and I am happy to see that it is very affordably priced for the sensors it offers.</p>
<h2 id="why-do-we-see-such-a-concentration-of-a-few-sensor-modules">Why do we see such a concentration of a few sensor modules?</h2>
<p>It is interesting to see that even much more expensive monitors use very low-cost PM sensor modules, and it’s difficult to give a clear reason, but I think mainly two factors come into play:</p>
<h3 id="the-performance-is-good">The performance is good</h3>
<p>Low-cost PM modules have quite a good performance for measuring PM1 and PM2.5 and with adjusted compensation algorithms that take into account impacts of humidity or specific particle concentrations, these low-cost sensors can be tuned to be very close to reference station accuracy. So in this respect, these sensor modules are “good enough” for a variety of purposes. What’s sometimes lacking -but this is for another post- is that most manufacturers don’t publicise their compensation algorithms so it’s not clear what corrections are made and how these correction factors have been derived. Where all of these low-cost sensors underperform is with larger particle sizes like PM10 but since the main focus is on PM1 and PM2.5 (as these are more harmful for the body), often PM10 is not such an important criteria.</p>
<h3 id="not-much-choice">Not much choice</h3>
<p>As you can see from the table, there are 3-4 manufacturers in the USD 10-20 range, Plantower being the most popular one. Then on the other side of the spectrum you have reference grade sensors (like BAMs, GRIMMs, Palas) in the price range above USD 20.000. In between these two extremes is very little choice. There are a few in the price range USD 50-100 that deliver pretty much the same accuracy as the cheaper ones and don’t offer advantages. Above USD 100, the AlphaSense OPC-N3 is a good addition, especially as its performance for PM10 is much better. Then there are sensors that use special filter material that needs to be changed and maintained which is not ideal if the system should be low-maintenance.</p>
<h2 id="sensor-module-accuracy-is-not-equal-to-monitor-accuracy">Sensor module accuracy is not equal to monitor accuracy</h2>
<p>It’s important to point out that not only the PM sensor module determines the accuracy of the whole monitor but there are other factors that can have a significant impact on the quality of the measurements. Here are a few:</p>
<ul>
<li>Airflow management: The enclosure design with the air-flow management can have a large impact on the measurement quality. Sometimes enclosures have internal loops that impact the measurement or are prone to condensation, thus leading to high humidity (that’s also impacting the accuracy). Some monitors have internal heating that brings the air into a specific temperature and humidity range that can increase the accuracy of the measurement.</li>
<li>Measurement frequency: In general the more often the monitor samples, the better the accuracy. This is often an issue with monitors running on solar power as they could run on a low frequency thus not collecting enough data points for an accurate measurement.</li>
<li>Application of compensation algorithms: The accuracy of the low cost PM modules can be increased significantly by applying compensation formulas that are derived for the specific location where the monitors are deployed.</li>
<li>Testing &amp; Co-Location of the monitors: There is a variance in the accuracy of the low-cost sensor modules, so it is important that the manufacturer tests each monitor before shipment and applies a strict performance passing criteria internally.</li>
</ul>
<h2 id="so-whats-the-conclusion">So what’s the conclusion?</h2>
<p>In case you are considering getting an air quality monitor, I would recommend the following:</p>
<ul>
<li>Try and find out which sensor modules are used. It’s good to have a well known module like Sensirion, Plantower or AlphaSense that have extensively been tested.</li>
<li>Look for test reports of the specific monitor you want to purchase.</li>
<li>Check the <a href="https://www.airgradient.com/blog/hidden-costs-of-air-quality-monitoring">hidden costs of the air quality monitor</a>
(e.g. forced subscriptions, expensive spare parts).</li>
<li>Only pay for features you actually need. For example if your main concern is PM, you don’t need to purchase a monitor that also measures NO2. Also, monitors with cellular connectivity often have relatively high ongoing costs.</li>
<li>If you want to support an open-hardware air quality monitors, check out the <a href="https://www.airgradient.com/open-air">Open Air Outdoor Monitor</a>
or <a href="https://www.airgradient.com/indoor">AirGradient DIY Pro Indoor Monitor</a>
that we offer.</li>
</ul>
<p>Please <a href="https://www.airgradient.com/support">share your thoughts</a>
with us and let us know what kind of topics you would like us to write about.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The United States of Bed Bath & Beyond (176 pts)]]></title>
            <link>https://www.epsilontheory.com/the-united-states-of-bed-bath-beyond/</link>
            <guid>37652479</guid>
            <pubDate>Tue, 26 Sep 2023 00:01:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.epsilontheory.com/the-united-states-of-bed-bath-beyond/">https://www.epsilontheory.com/the-united-states-of-bed-bath-beyond/</a>, See on <a href="https://news.ycombinator.com/item?id=37652479">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-node="5cf68391387a9">
		




<hr>



<p><strong>Download a PDF of&nbsp;<a href="https://www.epsilontheory.com/download/70543/" data-wpel-link="internal"><em>The United States of Bed Bath &amp; Beyond</em></a>&nbsp;(paid subscribers only)</strong></p>



<hr>







<hr>


<div><p>
<h2 data-kb-block="kb-adv-heading_719285-dc"><strong><em>A grown man made a wager. He lost</em></strong><em><strong>.</strong></em></h2>



<h2 data-kb-block="kb-adv-heading_29c221-68"><strong><em>He made another wager.&nbsp;He lost again.&nbsp;</em></strong></h2>



<h2 data-kb-block="kb-adv-heading_d2b5cb-58"><em><strong>End of story.</strong> </em></h2>



<h2 data-kb-block="kb-adv-heading_4eccb5-7e">– <strong><em>The Sopranos</em></strong> (season 2, episode 10)  </h2>
</p></div>


<hr>



<p>In season 2 of <em>The Sopranos</em>, Davey Scatino – owner of Ramsey Sports and Outdoors and degenerate gambler – loses $10,000 in a poker game run by one of Tony Soprano’s associates. Davey, an old high school friend of Tony’s, begs him to let him play in the higher stakes poker game, the Executive Poker Game, so he can win his money back. Tony advises against it, but eventually agrees, staking Davey with $50,000 for the game. Davey loses, of course, and now Tony Soprano owns him. </p>



<hr>




<div>
<figure><img decoding="async" width="1238" height="576" src="https://www.epsilontheory.com/wp-content/uploads/bust-out-5-2.png" alt="" srcset="https://www.epsilontheory.com/wp-content/uploads/bust-out-5-2.png 1238w, https://www.epsilontheory.com/wp-content/uploads/bust-out-5-2-150x70.png 150w, https://www.epsilontheory.com/wp-content/uploads/bust-out-5-2-768x357.png 768w, https://www.epsilontheory.com/wp-content/uploads/bust-out-5-2-624x290.png 624w, https://www.epsilontheory.com/wp-content/uploads/bust-out-5-2-600x279.png 600w" sizes="(max-width: 1238px) 100vw, 1238px"></figure></div>


<hr>



<h3 data-kb-block="kb-adv-heading_904c64-84"><em>“<strong>You told me not to get into the game, why’d you let me do it?</strong>“</em></h3>



<h3 data-kb-block="kb-adv-heading_840824-75"><em><strong>“Well, I knew you had this business here, Davey. It’s my nature.</strong>“</em></h3>



<hr>


<div>
<figure><img decoding="async" src="https://www.epsilontheory.com/wp-content/uploads/Sopranos-Ramsey-Outdoor.jpg" alt="" width="602" height="338" srcset="https://www.epsilontheory.com/wp-content/uploads/Sopranos-Ramsey-Outdoor.jpg 1000w, https://www.epsilontheory.com/wp-content/uploads/Sopranos-Ramsey-Outdoor-150x84.jpg 150w, https://www.epsilontheory.com/wp-content/uploads/Sopranos-Ramsey-Outdoor-768x432.jpg 768w, https://www.epsilontheory.com/wp-content/uploads/Sopranos-Ramsey-Outdoor-624x351.jpg 624w, https://www.epsilontheory.com/wp-content/uploads/Sopranos-Ramsey-Outdoor-600x338.jpg 600w" sizes="(max-width: 602px) 100vw, 602px"></figure></div>






<h3 data-kb-block="kb-adv-heading_4d1440-a2"><strong>At which point Tony and his associates proceed to ‘bust-out’ Davey’s sporting goods store</strong>.</h3>



<hr>



<p>They buy high-priced items on store credit to resell for cash, max out the store’s credit lines with suppliers, and generally loot the store. Ultimately Davey declares bankruptcy, is divorced by his wife, and moves to Nevada. The last we see of Ramsey Sports and Outdoors is a liquidator putting up a store closing sign.</p>






<div>
<figure><img decoding="async" src="https://www.epsilontheory.com/wp-content/uploads/bbby-closing-3.jpg" alt="" width="606" height="404" srcset="https://www.epsilontheory.com/wp-content/uploads/bbby-closing-3.jpg 620w, https://www.epsilontheory.com/wp-content/uploads/bbby-closing-3-150x100.jpg 150w, https://www.epsilontheory.com/wp-content/uploads/bbby-closing-3-600x400.jpg 600w" sizes="(max-width: 606px) 100vw, 606px"></figure></div>






<p>Oh wait, that’s not Ramsey Sports and Outdoors. </p>



<p>But of course it is.</p>



<p><strong>The story of Bed Bath &amp; Beyond is the story of grown men, weak men, making wagers that they lose over and over again. </strong></p>



<p><strong>The story of Bed Bath &amp; Beyond is the story of grown men, rapacious men, whose nature is to bust-out the weak men as cruelly and certainly as possible, over and over again. </strong></p>



<p><strong>The story of Bed Bath &amp; Beyond is <em>our </em>story, the story of the United States here in the <em>fin de siecle</em> of <a href="https://www.epsilontheory.com/the-long-now-pt-1/" data-wpel-link="internal"><em><span>The Long Now</span></em></a>, where our entire country has been busted out and stripped for parts by grown men, rapacious men, different from Tony Soprano only in that they plunder legally within a system of courts and laws and regulatory agencies.</strong></p>



<p>The story of Bed Bath &amp; Beyond is a story of loss and sadness.</p>



<p>The story of Bed Bath &amp; Beyond is the story of what happens when Story ends, when the reality of the bust-out — crappy stores and crappy management and overwhelming debt — finally swamps the narratives of <em>Stock Buybacks!<sup>TM</sup></em> and <em>Turnaround!<sup>TM</sup></em> and <em>Short Squeeze!<sup>TM</sup></em>. </p>



<p>And maybe a story of hope.</p>



<p>Hope how? </p>



<p>Hope that the reality of the American bust-out — crappy institutions and crappy leaders and overwhelming debt — will begin to swamp the narratives of <em>Yay, Stock Market!</em> and <em>Yay, College!</em> and <em>Boo, MAGA!</em> and <em>Boo, Wokeism!</em>. </p>



<p>Hope that the assignment of losses here at the end of an age will force us to call things by their proper names, to identify weakness as weakness and rapaciousness as rapaciousness and <span>narrative</span> as narrative. Hope that we will have the courage to reject them all. Hope that we will choose to be more clear-eyed and more full-hearted as we move forward with resolve to <a href="https://www.epsilontheory.com/the-long-now-pt-2-make-protect-teach/" data-wpel-link="internal"><strong><em>Make/Protect/Teach</em></strong></a> in the world <em>beyond </em>bust-out.</p>



<p>So here is the story of the weak and the rapacious and the narrative-driven. Here is the story of Bed Bath &amp; Beyond. Not for shame or schadenfreude, but for hope.</p>



<hr>







<p>There are at least three distinct phases of the Bed Bath &amp; Beyond bust-out.</p>






<div>
<figure><img decoding="async" width="4014" height="2243" src="https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-1-4.png" alt="" srcset="https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-1-4.png 4014w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-1-4-150x84.png 150w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-1-4-768x429.png 768w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-1-4-1536x858.png 1536w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-1-4-2048x1144.png 2048w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-1-4-624x349.png 624w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-1-4-600x335.png 600w" sizes="(max-width: 4014px) 100vw, 4014px"></figure></div>






<p>Bust Out 1 was orchestrated by the original founders and management of the company. This is where most of the money was sucked out of the company, and by the time the original founders and management were deposed in May 2019, the company was already dead.</p>



<p>Bust Out 2 was orchestrated by the management team that replaced the Bust Out 1 team, together with an external investor, Ryan Cohen. </p>



<p>Bust Out 3 is so outrageous – a self-proclaimed functionally bankrupt company selling self-proclaimed worthless equity to <span>meme</span> investors, degenerate gamblers all – that I just call it the <em>lulz </em>period.</p>



<p>Both Bust Out 2 and the <em>lulz </em>period were quite speedy looting operations, so I’ve zoomed in on the past 12 months to show the stock price moves more clearly. In particular, the exit spike for Ryan Cohen’s Bust Out 2 sale was so fast that his exit price of $22+ per share doesn’t even register on the long-term chart above!</p>



<p>In general, I think this is a common factor in all bust-out processes, whether of a company or a country, that the individual bust-out episodes become shorter, sharper and more ridiculous as there’s less and less juice to squeeze out of the orange. </p>






<div>
<figure><img decoding="async" width="4016" height="2243" src="https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4.png" alt="" srcset="https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4.png 4016w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-150x84.png 150w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-768x429.png 768w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-1536x858.png 1536w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-2048x1144.png 2048w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-624x349.png 624w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-600x335.png 600w" sizes="(max-width: 4016px) 100vw, 4016px"></figure></div>






<p>Now let’s look at each of the bust-out periods in more detail.</p>







<hr>







<h2 data-kb-block="kb-adv-heading_1bf60c-2e"><strong><em>Bust Out 1 (2014 – 2019)</em></strong></h2>



<p>We should start with the numbers before we tell the story.</p>


<div>
<figure><img decoding="async" width="3924" height="2376" src="https://www.epsilontheory.com/wp-content/uploads/BBBY-B1-finls.png" alt="" srcset="https://www.epsilontheory.com/wp-content/uploads/BBBY-B1-finls.png 3924w, https://www.epsilontheory.com/wp-content/uploads/BBBY-B1-finls-150x91.png 150w, https://www.epsilontheory.com/wp-content/uploads/BBBY-B1-finls-768x465.png 768w, https://www.epsilontheory.com/wp-content/uploads/BBBY-B1-finls-1536x930.png 1536w, https://www.epsilontheory.com/wp-content/uploads/BBBY-B1-finls-2048x1240.png 2048w, https://www.epsilontheory.com/wp-content/uploads/BBBY-B1-finls-624x378.png 624w, https://www.epsilontheory.com/wp-content/uploads/BBBY-B1-finls-600x363.png 600w" sizes="(max-width: 3924px) 100vw, 3924px"><figcaption><strong>Bed Bath &amp; Beyond financials (source: 10Ks, 10Qs, Bloomberg)</strong></figcaption></figure></div>


<p>Like many retailers, Bed Bath &amp; Beyond reports its annual financials on a February fiscal year, so that their results capture the full Christmas shopping season as the culmination of the business year. This can be a little confusing, because when the chart says, for example, FY 2022, that’s actually only two months of 2022 and is mostly made up of 2021 results. Adding to the confusion, BBBY has delayed its FY 2023 annual filing, so I have to use 9 months of quarterly filings for the FY 2023 line, none of which occurred in 2023. So when I say things like “Bed Bath &amp; Beyond died in 2019”, I’m referring to the FY 2020 results.</p>



<p>Otherwise I think everything is pretty self-explanatory. CFO is cash from operations, essentially the profitability of your core, real-world business. FCF is free cash flow, the amount of money left over from CFO after you’ve satisfied the cash burden of non-operational obligations like taxes or interest payments or capex to maintain your stores. I like to focus on cash flows when I do this sort of analysis, because so much of modern accounting is designed to obfuscate or shade this most basic investment question: <em>where does the cash come from and where does it go?</em></p>



<p>Those are the numbers. Now here’s the story for Bust Out 1.</p>



<p>Bust Out 1 was orchestrated by CEO Steve Temares and company founders Leonard Feinstein and Warren Eisenberg after the disastrous 2013 Christmas shopping season. Total fiscal year operational metrics were fine! In fact, FY 2014 is the absolute peak for BBBY in cash from operations and free cash flow. But Christmas 2013 revealed the internal rot (tired stores, blah inventory, heavy discounting) and external competition (Amazon in particular, but others, too) for all to see, and the stock price took a big hit, going from $80 per share at the end of 2013 to just under $60 by the middle of 2014. </p>



<p>In response, Temares and the board announced a <em>Strategic Plan!</em> <sup>TM</sup> to reinvigorate the company, complete with a $1.5 billion bond offering, the first debt in company history. What was at the core of this grand plan, you ask? Well of course there were words like “building a leading e-commerce presence” and “targeted acquisitions” and “commitment to excellence”, but the main plank of the 2014 strategic plan and the only thing management actually executed on was simply this: <em>Stock Buybacks!</em> <sup>TM</sup>.</p>



<p><strong>In 2014, as cash operating margins declined 200 bps and cash from operations declined 15% and free cash flow declined 20% from the year before, Bed Bath &amp; Beyond borrowed $1.5 billion and bought back $2.2 billion in stock.</strong></p>



<p><strong>Over the next five years, until CEO Temares was fired and founders Feinstein and Weisenberg were kicked off the board in May 2019, Bed Bath &amp; Beyond bought back an additional $2.2 billion in stock even as cash operating margins went from 12% to 5% (I mean … good lord) and free cash flow declined by 70% from the FY 2014 high water mark.</strong></p>



<p><strong>Over the 6-year period of Bust Out 1, the board and management of Bed Bath &amp; Beyond spent $4.4 billion buying back their own stock on total free cash flow of $3.6 billion. As their stores deteriorated and their margins collapsed, this company spent ALL of their free cash flow and then $800 million MORE buying back stock. </strong></p>



<p>Now that’s a bust-out!</p>



<p>How did this personally benefit Temares, Feinstein and Weisenberg? Well, I compiled the 100+ SEC filings from these gentlemen to find out. </p>



<p>Steve Temares is a real estate lawyer who was hired by the company as their general counsel in 1992 and worked his way up the ranks. He’s not a founder. He’s not an entrepreneur. He’s a real estate lawyer who went from general counsel to executive VP to COO to CEO in 2004. I do not think it was an accident that Bed Bath &amp; Beyond also instituted their stock buyback plan when Temares was named CEO.</p>



<p>As CEO, Temares was granted a total of 5.2 million shares of stock over his tenure, either as options that he immediately sold on exercise or as stock grants at no cost. He never bought a single share of Bed Bath &amp; Beyond on the open market, but was reloaded by the board of directors every few years.</p>



<p>As CEO, Temares sold 4.3 million shares of stock for $148.4 million. This is net of all option exercise costs. This is in addition to his cash salary, bonuses and benefits, which averaged more than $4 million per year during the Bust Out 1 period. This is solely in connection with his personal holdings and is separate from the dozens of transactions associated with the family trust he established to exercise and sell additional BBBY options. After being fired as CEO, Temares sold an additional 900,000 shares for an estimated $18 million. This is in addition to his cash severance package of $36 million. <em><strong>In sum, Steve Temares received well in excess of $200 million in cash from Bed Bath &amp; Beyond shareholders, the majority of this during or after Bust Out 1.</strong></em></p>



<p>As for co-founders Leonard Feinstein and Warren Eisenberg, after the stock buyback program was introduced they each sold more than 10 million shares for an estimated $300 million. Each. This is in addition to the CEO-level salaries, bonuses and benefits they received as Co-Chairmen of the Board (my fave benefit was $230,000 in car service allowances per year; I mean, how is that possible?). This is in addition to the millions spent to make all-cash acquisitions of retail operations started by their sons, most famously $86 million in cash to acquire buybuy Baby from Leonard Feinstein’s son, including the retirement of<em> </em>$19 million in debt owed to the Feinstein family. </p>



<p>Honestly I don’t get as worked up over founders taking huge amounts of money out of a company as I do over managers, and if Bed Bath &amp; Beyond had remained a private company that the founders decided to suck dry and leave to their kids … more power to ’em. But that wasn’t what Feinstein and Eisenberg did. They took the company public, dominated the board with Steve Temares, and used stock buybacks to prop up the stock price and sell tens of millions of shares into the open market. Feinstein and Eisenberg were old school merchants! You’ll never convince me that they didn’t understand <em>exactly </em>what was happening with the accelerated operational decline of the company from 2014 forward and <em>exactly </em>what were the consequences of spending 122% of free cash flow on stock buybacks.</p>



<p>It’s no wonder that Temares, Feinstein and Eisenberg were all kicked out of the company in 2019, but by then the fatal damage was already done.</p>







<hr>







<h2 data-kb-block="kb-adv-heading_8aea1e-b0"><strong><em>Bust Out 2 (2021 – 2022)</em></strong></h2>



<p>It’s hard to describe how rare it is for activist investors to win a proxy fight against an entrenched CEO and Co-Chairmen of the Board who founded the company! But that’s exactly what three activist investment firms — Legion Partners, Macellum Capital and Ancora — did in 2019 when they acquired 5% of the company stock and successfully marshaled support from the other big institutional holders. The 168-page deck where they make their case is a thing of beauty, and <a href="https://www.epsilontheory.com/download/70535/" data-wpel-link="internal">I’ve made it available for download here</a>. Seriously, if you are at all interested in this stuff, it’s <em>excellent </em>work.</p>



<p>With much fanfare the activists brought in a new strategy and a new CEO (Mark Tritton) from Target that November, right before the all-important Christmas season which … oops … did not go particularly well. I’ll repeat the financials chart with the post-proxy fight years highlighted to illustrate the point.</p>


<div>
<figure><img decoding="async" width="3924" height="2376" src="https://www.epsilontheory.com/wp-content/uploads/BBBY-finls-2.png" alt="" srcset="https://www.epsilontheory.com/wp-content/uploads/BBBY-finls-2.png 3924w, https://www.epsilontheory.com/wp-content/uploads/BBBY-finls-2-150x91.png 150w, https://www.epsilontheory.com/wp-content/uploads/BBBY-finls-2-768x465.png 768w, https://www.epsilontheory.com/wp-content/uploads/BBBY-finls-2-1536x930.png 1536w, https://www.epsilontheory.com/wp-content/uploads/BBBY-finls-2-2048x1240.png 2048w, https://www.epsilontheory.com/wp-content/uploads/BBBY-finls-2-624x378.png 624w, https://www.epsilontheory.com/wp-content/uploads/BBBY-finls-2-600x363.png 600w" sizes="(max-width: 3924px) 100vw, 3924px"><figcaption><strong>Bed Bath &amp; Beyond financials (source: 10Ks, 10Qs, Bloomberg)</strong></figcaption></figure></div>


<p>Again, recall that when we’re talking about the 2019 Christmas season, that’s entirely within the FY 2020 results. Not only did the company take on $2 billion in new long-term debt as part of the management and board overhaul, but cash from operations and free cash flow continued their steady decline and the fiscal year ended poorly. And then came Covid. </p>



<p>Look, I have no idea if Mark Tritton and the new team would have been able to turn around Bed Bath &amp; Beyond under the best of circumstances. Honestly, I doubt it. But once Covid hit in March 2020 (so the start of FY 2021)? Not a chance. And you can see how the operational metrics plunge. </p>



<p>By September 30, 2020, all three of the activist funds that led the proxy fight to replace CEO Steve Temares and the entrenched board just 15 months earlier had sold their entire stakes. They’re out! In 15 months! Macellum never had much stock in the deal to begin with, so I don’t know how they fared. Ancora had a peak stake of 1.6 million shares, and it looks like they made a little profit. Legion Partners had by far the biggest stake, with peak holdings of 5.7 million shares, and it looks to me like they probably cleared a profit of $5-10 per share? Clearly these insiders used their insider status to see that there was no turnaround possible and exited before that became obvious to the world. But I don’t consider this a bust-out because I don’t see a concerted effort to prop up the stock or use a bullshit narrative like <em>Stock Buybacks!</em> <sup>TM</sup> to cover their exit. Was it an insider, privileged information sale that should have given any investor a clear signal to run away? Sure! But a bust-out? No, I don’t think so.</p>



<p>In fact, the stock went to new post-proxy fight highs in early 2021 on the heels of a better than expected Christmas season and a general lift from a Covid re-opening trade. On that basis, the activist investors got out too early. But on an operational basis … everything continued to get worse for the company and a new bust-out formula was hatched. How do I know? Because the company starts buying back stock again to prop up the stock price. </p>



<p><strong>In FY 2022, with collapsing same store sales and a $336 million free cash flow <em>deficit</em>, Bed Bath &amp; Beyond bought back $590 million in stock and depleted its cash and cash equivalents from $1.4 billion at the start of the fiscal year to less than $500 million at the end. </strong></p>



<p><strong>CEO Mark Tritton sold $5 million worth of stock grants into this renewed stock buyback program. </strong></p>



<p><strong>COO John Hartmann sold $3.5 million worth of stock grants into this renewed stock buyback program.</strong></p>



<p>This is now the end game. </p>



<p>Enter Ryan Cohen, the 36 year-old activist investor who spearheaded the meme stock revival of Gamestop and has been its Chairman since 2021. No one can sniff out a bust-out like Ryan Cohen.</p>



<p>At the tail end of FY 2022 (so February 2022), Cohen started buying stock and call options in Bed Bath &amp; Beyond, creating a &gt;5% position by February 24 (7.8 million shares and 16,700 options contracts acquired for a total cost of $121 million). He notified the board on March 6, 2022 and the letter was released publicly on March 7. The stock spiked from $15 or so (Cohen’s average purchase price for his shares) to $22 and change, about a 50% jump. On March 24, Cohen signed a cooperation agreement with the board, where he agreed not to take his stake above 19.9% (as if he had any intention of doing this anyway), and in exchange the 11-person board was to be expanded to 14, with Cohen appointing the 3 new board members. </p>



<p>At which point all the meme investors who were expecting some masterstroke by Cohen … selling buybuy Baby for $5 billion? taking the company private at $40? squeezing those darn short sellers and crushing the demon-in-human-form we know as Ken Griffin? … were left a tad disappointed. Is that all there is? At which point the BBBY stock price resumed its inexorable path down, down, down. </p>



<p>By May, Cohen’s position was underwater. And then CEO Mark Tritton was fired. By July, Cohen’s position was WAY underwater. This shall not stand!</p>






<div>
<figure><img decoding="async" width="4016" height="2243" src="https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4.png" alt="" srcset="https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4.png 4016w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-150x84.png 150w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-768x429.png 768w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-1536x858.png 1536w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-2048x1144.png 2048w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-624x349.png 624w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-600x335.png 600w" sizes="(max-width: 4016px) 100vw, 4016px"></figure></div>






<p>Going into August, 2022, 103% of the Bed Bath &amp; Beyond float (shares available for public trading) had been sold short. Now, this is not crazy. It is not <em>prima facie</em> evidence, as the Reddit meme stock apes would tell you, of naked shorts (stock shorted without a borrowed share to support it) or of the demon-in-human-form we know as Ken Griffin perverting markets from Citadel’s offices in <s>Mordor</s> Chicago. Why not? Because of the enormous daily trading volume in Bed Bath &amp; Beyond! When far more than 100% of the float changes hands every day, it’s really not so hard for the shorted float percentage to also be more than 100%. But still … this is a very high short interest for any stock, no matter the daily volume, and the drums of <em>Short Squeeze!</em> <sup>TM</sup> started pounding VERY, VERY LOUDLY throughout meme stock world.</p>



<p>To be clear, I have zero evidence or knowledge that Ryan Cohen encouraged this <em>Short Squeeze!</em> <sup>TM</sup> drum-pounding. I know that he had 121 million reasons to encourage it. I know that his 121 million reasons had a loss of about $80 million coming into August. I know that there is no human on the planet with more skill or experience in encouraging a <em>Short Squeeze!</em> <sup>TM</sup> drum-pounding than Ryan Cohen. </p>



<p><em>For whatever reasons</em>, there was a massive short squeeze in BBBY in the first two weeks of August. Massive! In late July, this stock was trading at less than $5. On August 16, the stock hit an intra-day high of more than $29! That’s like a 600% advance in three weeks. Insane. </p>



<p>And at that moment, at a top-tick price of $29.22, Ryan Cohen began to sell. He sold it all. He sold 7.8 million shares of stock on August 16, plus 16,700 call option contracts with strike prices in the 50s and 60s, for total proceeds of $189 million.</p>



<p><strong><em>In three weeks</em>, by virtue of a meme stock short squeeze that appeared out of nowhere on the Reddit meme stock boards, Ryan Cohen went from an $80 million loss on his Bed Bath &amp; Beyond position to a $68 million profit. Within a month, the stock was back under $10. Within two months, the stock was back under $5.</strong></p>



<p>Now that’s a bust-out!</p>







<hr>







<h2 data-kb-block="kb-adv-heading_8adf9f-a8"><strong><em>LULZ (February – March 2023)</em></strong></h2>



<p>The <em>lulz </em>period in 2023 is a variation on the meme stock Bust Out 2 of Ryan Cohen. In a nutshell, new company management worked with an external “investor” (you’ll get the reason for the quotation marks in a minute) to sell hundreds of millions of new shares of stock a few months after the Ryan Cohen debacle. I feel gross just talking about it, so if you want more detail, please check out the yeoman’s work that Bloomberg’s <a href="https://www.bloomberg.com/opinion/authors/ARbTQlRLRjE/matthew-s-levine" data-wpel-link="external" target="_blank" rel="external noopener">Matt Levine</a> has done on this. </p>


<div>
<figure><img decoding="async" width="4016" height="2243" src="https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4.png" alt="" srcset="https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4.png 4016w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-150x84.png 150w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-768x429.png 768w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-1536x858.png 1536w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-2048x1144.png 2048w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-624x349.png 624w, https://www.epsilontheory.com/wp-content/uploads/BBBY-bustout-2-4-600x335.png 600w" sizes="(max-width: 4016px) 100vw, 4016px"></figure></div>


<p>Coming into 2023, Bed Bath &amp; Beyond was functionally bankrupt, with negative cash flow from operations, negative growth prospects, and long-term debt of approximately $2.5 billion. No one, least of all BBBY management (Sue Gove, interim CEO since June 2022, signed on as ‘permanent’ – lol – CEO in October 2022), had any illusions about what the future held for the company. This was now a work-out. The equity was worthless, and the only question was how the corpse of the company would get chopped up among the bondholders for some partial recovery. That’s typically something that gets worked out in bankruptcy court, and it’s a brutal, depressing, knife-fighting process. But then someone had an idea.</p>



<p>“Hey, these meme investors are degenerate gamblers. They’re easily confused and manipulated, and frankly they’re not terribly smart. It seems like we as BBBY management would be abdicating our fiduciary responsibility — not to mention our chances of getting a good job after this company winds down — if we did not take every opportunity to sell them worthless stock in our functionally bankrupt company for cash that we could could hand over to the bondholders. I think the bondholders would <em>really </em>appreciate that and did I already mention the part about getting a good job after we’re done here? Oh, I did? Well, bears repeating, right?”</p>



<p>Now I suspect that this idea did not actually originate with Sue Gove and her team, or at least the practical implementation of this (“umm, how can we sell stock in a company that we know is functionally bankrupt without … you know … going to jail and all that?”) did not originate with Sue Gove and her team. I suspect this idea came from a bondholder-associated hedge fund, law firm or investment bank — organizations filled with very smart individuals who do nothing else all day but dream up rapacious yet (arguably) legal ideas that will separate grown men, weak men, from their money. Ideas like this:</p>



<p>“Hey, meme investors, we are a probably-bankrupt company that wants to sell $1 billion worth of stock. You should definitely do your own due diligence on Reddit for what happens if we declare bankruptcy, but there’s a chance that $1 billion is enough for us to have a <em>Turnaround!</em> <sup>TM</sup>. Also, take a look at what happened to the stock of Hertz after it actually declared bankruptcy. To the moon!”</p>



<p>“Now we know what you’re thinking. You’re thinking that you already got burned with that whole Ryan Cohen thing, and we totally don’t blame you. But now the stock is so much cheaper! You can buy so many more shares now than you ever could six months ago. Plus, this time you’ll be buying your stock with <em>The Smart Money!</em> <sup>TM</sup>. Yes, we are announcing a deal where this <s>hedge fund</s> institutional investor called Hudson Bay Capital Management has already bought the first $225 million of our stock offering, and they’re committed to buying another $800 million. They’re gonna buy the whole offering! Honestly, it’s lucky for you that we’re still a publicly traded stock because otherwise you wouldn’t be able to tag along on this sweet, sweet deal. Yes, we are required to provide a public filing of our agreement with Hudson Bay, but the language is <em>really </em>complicated and hard to read, almost intentionally so. Lawyers, amirite? What’s that? Did someone say <em>Short Squeeze!</em> <sup>TM</sup>? LFG!!!!”</p>



<p>In truth, Hudson Bay was a cut-out, an intermediary who bought the equivalent of <em>hundreds of millions of shares</em> in new stock from Bed Bath &amp; Beyond only to turn around and sell <em>all of it</em> into the open market to meme investors. Selling these hundreds of millions of new shares would obviously drive down the price of the stock, but Hudson Bay was given enough of a discount and enough warrant coverage and other goodies such that — so long as trading volume remained robust within the meme investor crowd — they were basically guaranteed a healthy profit on their trade here. And if the stock price got really low (70 cents per share or thereabouts), then the deal was off and they had no more obligation to participate.</p>



<p>Over the active course of this cut-out arrangement, from February 6 to March 30, Bed Bath &amp; Beyond received approximately $360 million from Hudson Bay for preferred shares and warrants, which Hudson Bay translated into at least 300 million shares of common stock which it sold into the open market. The average price of BBBY stock over that span (leaving aside the pop on February 6 to $5.80) was approximately $1.50, which would work out to about $90 million in profits and a 25% return for Hudson Bay … not bad for a two-month bust-out!</p>



<p>After the termination of the Hudson Bay cut-out arrangement on March 30 and prior to its formal bankruptcy filing on April 24, Bed Bath &amp; Beyond continued to sell hundreds of millions of new shares directly into the market through a series of at-the-market offerings. I figure they were able to raise at least another $100 million in cash from these sales, making a grand total of about half a billion dollars over a three month span from this final (?) squeeze of the meme investor orange.</p>



<p><strong>Half a billion dollars.</strong></p>



<p>Nothing illegal about it. All wagers by grown men, free to gamble away their money in whatever way they see fit. Grown women, too, I guess, although not for the first time I am struck by the fact that the weak, degenerate gamblers in these stories are 99.99% male. (Hold that thought, please, for the last section of this note!)</p>



<p>These grown men, these meme investors, aren’t particularly upset about losing half a billion dollars. They’re not fazed by it. As I write this note, the common stock of a no-longer-functionally-bankrupt-but-now-formally-bankrupt Bed Bath &amp; Beyond trades at $0.17 per share. The average <em>daily </em>volume over the past 65 days is 123 <em>million </em>shares. If Bed Bath &amp; Beyond could issue new equity from within formal bankruptcy I’m sure they would continue to find buyers. They would continue to find grown men to perpetuate the bust-out on and on, even through bankruptcy.</p>



<p>Which gets me to this.</p>







<hr>







<h2 data-kb-block="kb-adv-heading_b27c2c-4d">The United States of Bed Bath &amp; Beyond</h2>



<p><em>At a large enough scale, the bust-out goes on forever. </em></p>



<p>Sure, it becomes more and more of a <em>lulz</em> bust-out over time, relying more and more on cut-outs and cartoons, more and more on ‘arguably’ legal ways to separate grown men from their money (and their votes). But it goes on and on all the same.</p>



<p>In the American context, my personal view is that Bill Clinton and George W. Bush presided over Bust Out 1, Barack Obama orchestrated Bust Out 2, and Donald Trump kicked off the <em>lulz </em>period, which we are now squarely in. I mean, how can you understand Trump and Biden as anything other than <em>lulz</em>?</p>



<p>In the American context, my personal view is that all of the signature economic policies of the past 30 years — ALL of them, from NAFTA to the Bush Tax Cuts to TLGP/TARP to QE1/2/3/infinity to Obamacare to the Tax Cuts and Jobs Act to PPP to the American Rescue Plan to the Inflation Reduction Act – have been bust-out policies. </p>



<p>And it’s not going to stop.</p>



<p>It’s not going to stop because we are increasingly a nation of weak men, degenerate gambling men, men who in their desperation for wealth or recognition will bet more than they can afford to lose over and over and over again. And I’m not talking about a loss of money, although yes that, too. I’m talking about a loss of <em>autonomy of mind</em>, where the weak man willingly gives away his very <em>identity </em>to a political party or economic creed if they will just allow him to be part of the <em>action</em>. Because in the end that’s all the weak man, the degenerate gambling man, has left. The action.</p>



<p>It’s not going to stop because we are increasingly a nation of rapacious men, clever-edging men, men who discover early on that they’re damned good at playing the game of take-the-sap’s-money and never realize until it’s too late that the table stakes for this particular game are … well, being damned themselves. And I’m not talking about being damned in the religious sense, although yes that, too. I’m talking about a loss of <em>humanity</em>, where the rapacious man willingly gives away his very <em>identity </em>to a corporation or business partnership if they will just allow him to continue <em>winning </em>the game. Because in the end that’s all the rapacious man, the clever-edging man, has left. The winning.</p>



<p>There are lots of Old Stories about times like this, when our nation itself seems like it’s sick, when our society and all within it seem to be infected by avarice and wrath and pride and lust and envy and sloth and gluttony just as surely as any virus. My favorite of these Old Stories likens it to a box of evils opened and loosed on the world. </p>



<p>But you know what remains and is preserved when the box is opened, right?</p>



<p>Hope.</p>



<p>I started this note by writing that the story of Bed Bath &amp; Beyond was maybe, just maybe, a story of hope, and that’s how I’m going to finish it. </p>



<p><strong>I am hopeful that the reality of the Bed Bath &amp; Beyond bust-out — crappy stores and crappy management and overwhelming debt ending in failure — will encourage weak men and rapacious men alike to see <em>beyond </em>the narratives of market game-playing and control.</strong></p>



<p><strong>I am hopeful that the reality of the American bust-out — crappy institutions and crappy leaders and overwhelming debt ending in failure — will similarly encourage weak men and rapacious men alike to see <em>beyond </em>the narratives of political game-playing and control. </strong></p>



<p><strong>I am hopeful, not in the common but false usage of the word as ‘optimistic’ or ‘thinking it likely’, but in the true sense of the word as being ‘full of hope’. I am full of hope that weak men will <em>choose </em>to reclaim their autonomy of mind and that rapacious men will <em>choose </em>to reclaim their humanity. </strong></p>



<p><strong>I’m not optimistic. But I am very, very hopeful!</strong></p>



<hr>



<hr>
	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[‘All of Sony Systems’ Allegedly Hacked by New Ransomware Group (140 pts)]]></title>
            <link>https://kotaku.com/sony-playstation-hack-breach-ransomware-ransomed-vc-1850870993</link>
            <guid>37651962</guid>
            <pubDate>Mon, 25 Sep 2023 23:03:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://kotaku.com/sony-playstation-hack-breach-ransomware-ransomed-vc-1850870993">https://kotaku.com/sony-playstation-hack-breach-ransomware-ransomed-vc-1850870993</a>, See on <a href="https://news.ycombinator.com/item?id=37651962">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>There’s a new gang on the dark web that claims it’s breached all of Sony’s systems in a ransomware attack.</p><div data-video-id="191188" data-monetizable="true" data-position="sidebar" data-video-title="Thank You, PS Plus, For Making My Backlog Even Bigger" data-video-blog-id="9" data-video-network="kotaku" data-video-duration="125" data-playlist="191188,191038,193348" data-current="191188"><div><p>Thank You, PS Plus, For Making My Backlog Even Bigger</p></div><video disablepictureinpicture="" muted="" playsinline="" width="100%" height="100%" crossorigin="anonymous" preload="none"><source data-src="https://vid.kinja.com/prod/191188/191188_240p.mp4" label="240p" type="video/mp4"><source data-src="https://vid.kinja.com/prod/191188/191188_480p.mp4" label="480p" type="video/mp4"><source data-src="https://vid.kinja.com/prod/191188/191188_720p.mp4" label="720p" type="video/mp4"><source data-src="https://vid.kinja.com/prod/191188/191188_1080p.mp4" label="1080p" type="video/mp4"><track kind="captions" label="English" src="https://kinja.com/api/videoupload/caption/17210.vtt" srclang="en"></video><div><ul><li data-label="">Off</li><li data-label="English">English</li></ul></div></div><p><strong>Read More: </strong><span><a data-ga="[[&quot;Embedded Url&quot;,&quot;Internal link&quot;,&quot;https://kotaku.com/gta-6-rockstar-leak-hacker-amazon-fire-stick-hotel-1850770299&quot;,{&quot;metric25&quot;:1}]]" href="https://kotaku.com/gta-6-rockstar-leak-hacker-amazon-fire-stick-hotel-1850770299"><em>GTA 6</em> Leaker Hacked Rockstar With Just An Amazon Fire Stick In A Hotel Room</a></span></p><p>According to a September 25 article from Australian cybersecurity publication <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;External link&quot;,&quot;https://www.cybersecurityconnect.com.au/commercial/9600-ransomed-vc-group-claims-hack-on-all-of-sony-systems&quot;,{&quot;metric25&quot;:1}]]" href="https://www.cybersecurityconnect.com.au/commercial/9600-ransomed-vc-group-claims-hack-on-all-of-sony-systems" target="_blank" rel="noopener noreferrer"><em>Cyber Security Connect</em></a></span>, the PlayStation maker was cracked open by Ransomed.vc, a new outfit of hackers that’s only been operating since September—though the publication suggests the gang has connections to previous dark web forums and groups. <em>Cyber Security Connect</em> reports that the hack allegedly unearthed screenshots of Sony’s internal log-in page, an internal PowerPoint presentation outlining test bench details, several Java files, and a document tree of the entire leak housing 6,000 files.</p><p>“We have successfully [compromised] all of [Sony’s] systems,” Ransomed.vc proclaimed. “We won’t ransom them! We will sell the data. Due to Sony not wanting to pay. DATA IS FOR SALE. WE ARE SELLING IT.”</p><p>Within those 6,000 files are supposedly a bevy of documentation, including unknown “build log files,” a swath of Java resources, and HTML data. Many of the files are reportedly in Japanese. While Ransomed.vc hasn’t listed a price for the data, the group left contact details for Sony to get in touch and listed a “post date” of September 28, which might be when Ransomed.vc will just post it all.</p><p>Interestingly, Ransomed.vc seems to be a ransomware operator and a ransomware-as-a-service organization. That means that alongside these large-scale hacks of major corporations, Ransomed.vc (which <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;External link&quot;,&quot;https://www.videogameschronicle.com/news/a-ransomware-group-claims-to-have-beached-all-sony-systems/&quot;,{&quot;metric25&quot;:1}]]" href="https://www.videogameschronicle.com/news/a-ransomware-group-claims-to-have-beached-all-sony-systems/" target="_blank" rel="noopener noreferrer"><em>VGC</em> claims</a></span> operates out of Russia and Ukraine) also reportedly works with the EU’s general data protection and regulation (GDPR) and other data privacy laws to report vulnerabilities in company systems and violations in the laws. According to <em>Cyber Security Connect</em>, the group is <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;External link&quot;,&quot;https://www.cybersecurityconnect.com.au/strategy/9495-new-ransomed-ransomware-group-leverages-data-protection-laws-to-bully-victims&quot;,{&quot;metric25&quot;:1}]]" href="https://www.cybersecurityconnect.com.au/strategy/9495-new-ransomed-ransomware-group-leverages-data-protection-laws-to-bully-victims" target="_blank" rel="noopener noreferrer">leveraging laws to reportedly bully victims</a></span> into submission.</p><p>Sony has not publicly commented on the breach or the nature of Ransomed.vc’s impact on the company just yet. <em>Kotaku</em> reached out to Sony for a statement.</p><p><strong>Read More: </strong><span><a data-ga="[[&quot;Embedded Url&quot;,&quot;Internal link&quot;,&quot;https://kotaku.com/reddit-hack-ransom-million-hackers-blackcat-ransomware-1850557426&quot;,{&quot;metric25&quot;:1}]]" href="https://kotaku.com/reddit-hack-ransom-million-hackers-blackcat-ransomware-1850557426">Reddit Hackers Demand $4.5 Million Ransom For Stolen Company Data</a></span></p><p>This isn’t the first time Sony has been hacked. Back in 2011, the company’s <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;Internal link&quot;,&quot;https://kotaku.com/everything-you-need-to-know-about-the-playstation-netwo-5795474&quot;,{&quot;metric25&quot;:1}]]" href="https://kotaku.com/everything-you-need-to-know-about-the-playstation-netwo-5795474">PlayStation Network suffered a massive breach</a></span> that saw some 77 million registered accounts compromised and online features totally inoperable. It was so bad that <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;Internal link&quot;,&quot;https://kotaku.com/sony-explains-playstation-hack-to-congress-calls-anony-5798492&quot;,{&quot;metric25&quot;:1}]]" href="https://kotaku.com/sony-explains-playstation-hack-to-congress-calls-anony-5798492">Sony not only had to explain to </a></span>Congress what happened but also <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;Internal link&quot;,&quot;https://kotaku.com/sony-agrees-to-give-away-games-money-after-2011-psn-ha-1609938674&quot;,{&quot;metric25&quot;:1}]]" href="https://kotaku.com/sony-agrees-to-give-away-games-money-after-2011-psn-ha-1609938674">began giving away games and money a few years later</a></span> as compensation. Less than 6,000 files may not seem as egregious as that PSN hack, but a hack is a hack all the same, so here’s hoping Sony can batten down the hatches ASAP.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Is Math Real? (189 pts)]]></title>
            <link>https://maa.org/press/maa-reviews/is-math-real</link>
            <guid>37651260</guid>
            <pubDate>Mon, 25 Sep 2023 21:55:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://maa.org/press/maa-reviews/is-math-real">https://maa.org/press/maa-reviews/is-math-real</a>, See on <a href="https://news.ycombinator.com/item?id=37651260">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>I settled in to read the book “Is Math Real?” expecting to become embroiled in the age-old controversary of whether math is invented or math is discovered.&nbsp; Instead, I found myself confronted with two viewpoints of mathematics: one view is that mathematics is a stiff and fixed set of rules and algorithms while the other view is that mathematics is flexible and our understanding of math comes from questioning of why mathematics functions so effectively.</p>



<p>The premise of “Is Math Real?” is that people have different emotions about math.&nbsp; Some love the math and have little difficulty determining the correct answer to a problem while others loathe and dislike the math and have a difficult time ascertaining the correct response.&nbsp; Many times, a student is humbled or chastised for asking ‘a stupid question’.&nbsp; Author Cheng states that there are no stupid questions.&nbsp; In fact, the most profound concepts in mathematics are learned from asking the simplest of questions. As teachers and professors of math, we should welcome all questions and understand that answering questions is what helps students learn.</p>



<p>The theme of this book is the denunciation of math being taught in a rigid and inflexible way. Oftentimes, math is taught as a set of rules and processes divined from an authority in which learners must memorize the rules and strictly follow the processes in order to satisfactorily find the one and only correct answer.&nbsp; Our author clearly states that math is not a fixed set of algorithms, but rather, math is the study of how logical things work.</p>



<p>There is an intriguing discussion in Chapter 3, entitled ‘Why We Do Math’, that presents three reasons why math is an important part of education: 1) math is directly useful to resolve calculation problems; 2) math is needed to study further in a variety of subjects such as science, engineering, or medicine; and 3) math has an indirect usefulness which is a way of thinking that is transferable to a myriad of disciplines and solutions to problems in everyday life.&nbsp; &nbsp;And it is this third reason that makes math relevant for most people.&nbsp; For example, the lessons learned in geometry are more than just about triangles … they are about critical thinking and laying out logical arguments.&nbsp; So that the lessons learned in geometry class prove instrumental for a Ph.D student studying microeconomics as well as the person sewing together drapes to make patterns fit together in a systematic way.</p>



<p>“Is Math Real?” treats mathematical topics in a unique and original way.&nbsp; Discussions on number patterns, Platonic solids, math history, ethnomathematics, and mathematical structures presents the reader with a plethora of ideas on how one can envision mathematics.</p>



<div><p>The question “is math real?” is answered in the epilog of this book.&nbsp; Cheng tells us that math is real because it is an idea and ideas are real.&nbsp; &nbsp;
</p><hr>

</div>

<p>Tom French has a B.S. and a M.S. degree in Mathematics from Minnesota State University, Mankato.&nbsp; He has 35 years of engineering and business experience with UNIVAC and its successor companies.&nbsp; He has lectured on mathematics and computer systems throughout the world and has taught mathematics at a number of US colleges and universities.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The SR-71 Blackbird Astro-Nav System worked by tracking the stars (328 pts)]]></title>
            <link>https://theaviationgeekclub.com/the-sr-71-blackbird-astro-nav-system-aka-r2-d2-worked-by-tracking-the-stars-and-was-so-powerful-that-it-could-see-the-stars-even-in-daylight/</link>
            <guid>37651171</guid>
            <pubDate>Mon, 25 Sep 2023 21:47:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://theaviationgeekclub.com/the-sr-71-blackbird-astro-nav-system-aka-r2-d2-worked-by-tracking-the-stars-and-was-so-powerful-that-it-could-see-the-stars-even-in-daylight/">https://theaviationgeekclub.com/the-sr-71-blackbird-astro-nav-system-aka-r2-d2-worked-by-tracking-the-stars-and-was-so-powerful-that-it-could-see-the-stars-even-in-daylight/</a>, See on <a href="https://news.ycombinator.com/item?id=37651171">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                                
<br>
<h2><em>Mounted behind the SR-71 Blackbird RSO’s cockpit, this unit, (that was affectionately dubbed “R2-D2” after the Star Wars movie came out in 1977) computed navigational fixes using stars sighted through the lens in the top of the unit. </em></h2>


<div>
<figure><a href="https://habubrats.threadless.com/" target="_blank" rel="noreferrer noopener"><img decoding="async" width="1200" height="669" src="https://theaviationgeekclub.com/wp-content/uploads/2023/04/SR-71-T-Shirts.jpg" alt="SR-71 T-Shirts" srcset="https://theaviationgeekclub.com/wp-content/uploads/2023/04/SR-71-T-Shirts.jpg 1200w, https://theaviationgeekclub.com/wp-content/uploads/2023/04/SR-71-T-Shirts-150x84.jpg 150w, https://theaviationgeekclub.com/wp-content/uploads/2023/04/SR-71-T-Shirts-300x167.jpg 300w, https://theaviationgeekclub.com/wp-content/uploads/2023/04/SR-71-T-Shirts-600x335.jpg 600w, https://theaviationgeekclub.com/wp-content/uploads/2023/04/SR-71-T-Shirts-90x50.jpg 90w, https://theaviationgeekclub.com/wp-content/uploads/2023/04/SR-71-T-Shirts-179x100.jpg 179w, https://theaviationgeekclub.com/wp-content/uploads/2023/04/SR-71-T-Shirts-269x150.jpg 269w, https://theaviationgeekclub.com/wp-content/uploads/2023/04/SR-71-T-Shirts-279x157.jpg 279w" sizes="(max-width: 1200px) 100vw, 1200px"></a><figcaption><a href="https://habubrats.threadless.com/" target="_blank" rel="noreferrer noopener">CLICK HERE</a>&nbsp;to see The Aviation Geek Club contributor&nbsp;Linda Sheffield’s T-shirt designs! Linda has a personal relationship with the SR-71 because her father Butch Sheffield flew the Blackbird from test flight in 1965 until 1973. Butch’s Granddaughter’s Lisa Burroughs and Susan Miller are graphic designers. They designed most of the merchandise that is for sale on Threadless. A percentage of the profits go to&nbsp;<a href="https://flighttestmuseum.org/" target="_blank" rel="noreferrer noopener">Flight Test Museum at Edwards Air Force Base</a>. This nonprofit charity is personal to the Sheffield family because they are raising money to house SR-71, #955. This was the first Blackbird that Butch Sheffield flew on Oct. 4, 1965.</figcaption></figure></div>


<p><a href="https://theaviationgeekclub.com/sr-71-pilot-recalls-that-time-his-blackbird-flew-so-fast-that-he-and-his-rso-landed-at-kadena-ab-two-hours-before-they-took-off-from-beale-afb-beating-the-sun/" target="_blank" rel="noreferrer noopener">The SR-71</a>, unofficially known as <a href="https://theaviationgeekclub.com/the-sr-71-blackbird-crew-members-survival-kit-included-a-very-rare-aluminum-gun-the-gun-was-made-in-aluminum-to-keep-it-lightweight/" target="_blank" rel="noreferrer noopener">the “Blackbird,”</a> was a long-range, <a href="https://theaviationgeekclub.com/legendary-sled-driver-brian-shul-tells-the-story-behind-his-famed-sr-71-blackbird-ground-speed-check/" target="_blank" rel="noreferrer noopener">Mach 3+</a>, strategic reconnaissance aircraft developed from the <a href="https://theaviationgeekclub.com/cia-engineer-recalls-when-specks-of-insects-hoisted-from-atomic-tests-in-russia-and-china-were-found-on-an-a-12-windshield-after-an-oxcart-mission/" target="_blank" rel="noreferrer noopener">Lockheed A-12</a> and <a href="https://theaviationgeekclub.com/the-xb-70-flies-less-mach-3-time-than-the-yf-12-but-when-it-flies-at-mach-3-the-valkyrie-loses-pieces-that-are-bigger-than-the-blackbird-the-mach-3-rivalry-between-the-yf-12-and-th/" target="_blank" rel="noreferrer noopener">YF-12A aircraft</a>. </p>



<p>The first flight of an SR-71 took place on Dec. 22, 1964, and the first SR-71 to enter service was delivered to the 4200th (later 9th) Strategic Reconnaissance Wing at Beale Air Force Base, Calif., in January 1966. </p>



<p>The Blackbird was in a different category from anything that had come before. “Everything had to be invented. Everything,” Skunk Works legendary aircraft designer Kelly Johnson recalled in an interesting article appeared on <a href="https://www.lockheedmartin.com/en-us/news/features/history/blackbird.html" target="_blank" rel="noreferrer noopener">Lockheed Martin website</a>. </p>



<p>Experience gained from the A-12 program convinced the US Air Force that flying the SR-71 safely required two crew members, a pilot and a Reconnaissance Systems Officer (RSO). The RSO operated with the wide array of monitoring and defensive systems installed on the airplane. This equipment included a sophisticated Electronic Counter Measures (ECM) system that could jam most acquisition and targeting radar and the Nortronics NAS-14V2 Astroinertial Navigation System (ANS). </p>


<div>
<figure><img decoding="async" width="1000" height="1201" src="https://theaviationgeekclub.com/wp-content/uploads/2023/09/SR-71-R2-D2.jpg" alt="The SR-71 Blackbird Astro-Nav System (aka R2-D2) worked by tracking the stars and was so powerful that it could see the stars even in daylight" srcset="https://theaviationgeekclub.com/wp-content/uploads/2023/09/SR-71-R2-D2.jpg 1000w, https://theaviationgeekclub.com/wp-content/uploads/2023/09/SR-71-R2-D2-150x180.jpg 150w, https://theaviationgeekclub.com/wp-content/uploads/2023/09/SR-71-R2-D2-300x360.jpg 300w, https://theaviationgeekclub.com/wp-content/uploads/2023/09/SR-71-R2-D2-600x721.jpg 600w, https://theaviationgeekclub.com/wp-content/uploads/2023/09/SR-71-R2-D2-42x50.jpg 42w, https://theaviationgeekclub.com/wp-content/uploads/2023/09/SR-71-R2-D2-83x100.jpg 83w, https://theaviationgeekclub.com/wp-content/uploads/2023/09/SR-71-R2-D2-125x150.jpg 125w" sizes="(max-width: 1000px) 100vw, 1000px"><figcaption>SR-71 Astroinertial Navigation System</figcaption></figure></div>



<p>According to the <a href="https://timeandnavigation.si.edu/multimedia-asset/nortronics-nas-14v2-astroinertial-navigation-system" target="_blank" rel="noreferrer noopener">Smithsonian Institution website</a>, the ANS provided rapid celestial navigation fixes for the SR-71. </p>



<p>Mounted behind the SR-71 RSO’s cockpit, this unit (that was affectionately dubbed “R2-D2” after <a href="https://theaviationgeekclub.com/no-the-f-15-never-attacked-death-star-of-star-wars-but-the-mighty-eagle-was-the-only-us-aircraft-to-destroy-a-machine-orbiting-earth-heres-how/" target="_blank" rel="noreferrer noopener">the Star Wars movie</a> came out in 1977), computed navigational fixes using stars sighted through the lens in the top of the unit. These fixes were used to update the inertial navigation system and provided course guidance with an accuracy of at least 90 meters (300 feet). Some current aircraft and missile systems use improved versions as a backup to GPS. </p>



<p>About the ANS RSOs were known to say, “no one can jam or shoot down the sun, the moon, the planets or the stars.” </p>



<p>Piloting the Blackbird was an unforgiving endeavor, demanding total concentration. But pilots were giddy with their complex, adrenaline-fueled responsibilities. “At 85,000 feet and Mach 3, it was almost a religious experience,” said Air Force Colonel Jim Watkins. “Nothing had prepared me to fly that fast… My God, even now, I get goose bumps remembering.” </p>


<div>
<figure><img decoding="async" width="2048" height="1536" src="https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71.jpg" alt="The SR-71 Astroinertial Navigation System, aka R2-D2, was crucial in Blackbird mission. Here’s why." srcset="https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71.jpg 2048w, https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71-1536x1152.jpg 1536w, https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71-150x113.jpg 150w, https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71-300x225.jpg 300w, https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71-600x450.jpg 600w, https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71-67x50.jpg 67w, https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71-133x100.jpg 133w, https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71-200x150.jpg 200w, https://theaviationgeekclub.com/wp-content/uploads/2021/08/ANS-SR-71-1200x900.jpg 1200w" sizes="(max-width: 2048px) 100vw, 2048px"></figure></div>


<p>But once the SR-71 reached cruising speed and altitude, it was time to focus on the mission, which was to collect information about hostile and potentially hostile nations using cameras and sensors. The pilot’s job was to handle the aircraft and watch over the automatic systems to make sure they were doing their jobs properly. Meanwhile, the RSO handled the cameras, sensors, and the all-important ANS. The ANS was the 1960’s version of GPS, but instead of using satellites to locate itself, the ANS used the stars. This is because before the invention of the modern satnav networks there wasn’t a way to navigate the SR-71 in the areas where it operated. The SR-71 needed to be able to fix its position within 1,885 feet (575 m) and within 300 ft (91 m) of the center of its flight path while traveling at high speeds for up to ten hours in the air. </p>



<p>The ANS provided specific pinpoint targets located in hostile territory. It was a Gyro compass that was able to sense the rotation of the earth, while still on the runway before the SR-71 would take off. The RSO could use his coordinates of the spot ….of one place …on the runway …then read of the ANS. They were almost always exactly the same. Not always were the same stars were used on every mission, as they used the stars depending on what part of the world they were going to fly to. If flying in the southern hemisphere* they used only the stars that were seen there.</p>


<div>
<figure><img decoding="async" width="320" height="800" src="https://theaviationgeekclub.com/wp-content/uploads/2017/06/SR-71-1.jpg" alt="SR-71 print" srcset="https://theaviationgeekclub.com/wp-content/uploads/2017/06/SR-71-1.jpg 320w, https://theaviationgeekclub.com/wp-content/uploads/2017/06/SR-71-1-150x375.jpg 150w, https://theaviationgeekclub.com/wp-content/uploads/2017/06/SR-71-1-300x750.jpg 300w, https://theaviationgeekclub.com/wp-content/uploads/2017/06/SR-71-1-20x50.jpg 20w, https://theaviationgeekclub.com/wp-content/uploads/2017/06/SR-71-1-40x100.jpg 40w, https://theaviationgeekclub.com/wp-content/uploads/2017/06/SR-71-1-60x150.jpg 60w" sizes="(max-width: 320px) 100vw, 320px"><figcaption>This print is available in multiple sizes from AircraftProfilePrints.com –&nbsp;<a href="https://aircraftprofileprints.com/search?controller=search&amp;orderby=position&amp;orderway=desc&amp;search_query=sr-71&amp;utm_medium=social&amp;utm_campaign=agc&amp;utm_source=theaviationgeekclub.com" target="_blank" rel="noreferrer noopener">CLICK HERE</a>&nbsp;TO GET YOURS. SR-71A Blackbird 61-7972 “Skunkworks”</figcaption></figure></div>


<p>On Jul. 2, 1967 Blackbird crew Jim Watkins and Dave Dempster flew the first international sortie in SR-71A #17972 when the ANS failed on a training mission and they accidentally flew in to Mexican airspace. </p>



<p>The ANS works by tracking at least two stars at a time listed in an onboard catalog, and with the aid of a chronometer, calculates a fix of the SR-71 over the ground. It was programmed before each flight and the aircraft’s primary alignment and the flight plan was recorded on a punched tape that told the aircraft where to go, when to turn, and when to turn the sensors on and off. The stars were sighted through a special quartz window (located behind the RSO cockpit) and there was a special star tracker that could see the stars even in daylight.</p>



<p><em>*It is not confirmed if the SR-71 ever flew in the southern hemisphere.</em></p>



<p><em>Be sure to check out Linda Sheffield Miller, Col Richard (Butch) Sheffield’s daughter, Col. Sheffield was an SR-71 Reconnaissance Systems Officer)&nbsp;<a href="https://www.facebook.com/LindaSheffieldMiller" target="_blank" rel="noreferrer noopener">Facebook Page Habubrats</a>&nbsp;for awesome Blackbird’s photos and stories.</em></p>



<p><em>Photo credit: Lockheed Martin, U.S. Air Force,</em>&nbsp;<em><a href="https://commons.wikimedia.org/wiki/File:R2-D2_-_Genuine_Movie_Star.jpg" target="_blank" rel="noreferrer noopener">Star Wars/Kristen DelValle</a></em>&nbsp;<em>and&nbsp;<a href="https://commons.wikimedia.org/wiki/File:Astro-Inertial_Navigation_System,_1962_-_Lockheed_SR-71A_Blackbird,_1966_-_Evergreen_Aviation_%26_Space_Museum_-_McMinnville,_Oregon_-_DSC01058.jpg" target="_blank" rel="noreferrer noopener">Daderot Own Work</a>&nbsp;via Wikipedia</em></p>


<div>
<figure><a href="https://airmodels.net/lockheed-martin/96-lockheed-sr-71-blackbird.html?aff=18" target="_blank" rel="noreferrer noopener"><img decoding="async" width="800" height="800" src="https://theaviationgeekclub.com/wp-content/uploads/2018/11/Lockheed-SR-71-Blackbird.jpg" alt="Lockheed SR-71 Blackbird model" srcset="https://theaviationgeekclub.com/wp-content/uploads/2018/11/Lockheed-SR-71-Blackbird.jpg 800w, https://theaviationgeekclub.com/wp-content/uploads/2018/11/Lockheed-SR-71-Blackbird-150x150.jpg 150w, https://theaviationgeekclub.com/wp-content/uploads/2018/11/Lockheed-SR-71-Blackbird-300x300.jpg 300w, https://theaviationgeekclub.com/wp-content/uploads/2018/11/Lockheed-SR-71-Blackbird-600x600.jpg 600w, https://theaviationgeekclub.com/wp-content/uploads/2018/11/Lockheed-SR-71-Blackbird-50x50.jpg 50w, https://theaviationgeekclub.com/wp-content/uploads/2018/11/Lockheed-SR-71-Blackbird-100x100.jpg 100w, https://theaviationgeekclub.com/wp-content/uploads/2018/11/Lockheed-SR-71-Blackbird-104x104.jpg 104w, https://theaviationgeekclub.com/wp-content/uploads/2018/11/Lockheed-SR-71-Blackbird-208x208.jpg 208w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption>This model is available in multiple sizes from AirModels –&nbsp;<a href="https://airmodels.net/lockheed-martin/96-lockheed-sr-71-blackbird.html?aff=18" target="_blank" rel="noreferrer noopener">CLICK HERE</a>&nbsp;TO GET YOURS.</figcaption></figure></div><br>
<!-- AI CONTENT END 2 -->
                            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[PostScript’s sudden death in Sonoma (257 pts)]]></title>
            <link>https://eclecticlight.co/2023/09/25/postscripts-sudden-death-in-sonoma/</link>
            <guid>37650040</guid>
            <pubDate>Mon, 25 Sep 2023 20:20:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://eclecticlight.co/2023/09/25/postscripts-sudden-death-in-sonoma/">https://eclecticlight.co/2023/09/25/postscripts-sudden-death-in-sonoma/</a>, See on <a href="https://news.ycombinator.com/item?id=37650040">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-74947">
	
	<!-- .entry-header -->

	
		<div data-first_letter="I">
		<p>If there’s one language that’s been at the heart of the Macintosh for the last 39 years it’s PostScript, the page description language developed by the founders of Adobe, the late John Warnock and Charles Geschke, and their team of engineers. It brought the Mac’s first commercial success in desktop publishing, in PostScript fonts, and early PostScript printers including Apple’s game-changing LaserWriter. Although Mac OS X never inherited NeXTStep’s Display PostScript, its descendant Quartz and Core Graphics are still based on PostScript’s relative PDF.</p>
<p>Following a short illness that started in macOS Monterey 12.3, PostScript has died suddenly in Sonoma.</p>
<p>The first sign passed almost unnoticed in Apple’s <a href="https://developer.apple.com/documentation/macos-release-notes/macos-12_3-release-notes" target="_blank" rel="noopener">release notes to macOS 12.3</a>, where it recorded the “deprecation” of PostScript in WebKit: “Support for inline viewing of PostScript files is no longer available.”</p>
<p>Then in macOS 13.0, <a href="https://support.apple.com/en-us/HT213250" target="_blank" rel="noopener">Preview lost the ability</a> to convert PostScript and EPS: “The Preview app included with your Mac supports PostScript (.ps) and Encapsulated PostScript (.eps) files in macOS Monterey or earlier. Starting with macOS Ventura, Preview no longer supports these files. Other apps that can view or convert .ps and .eps files are available from the App Store and elsewhere.”</p>
<p>Finally, the complete removal of support for PostScript and EPS was recorded as another “deprecation” in <a href="https://developer.apple.com/documentation/macos-release-notes/macos-14-release-notes" target="_blank" rel="noopener">the release notes for Sonoma</a>: “macOS has removed the functionality for converting PostScript and EPS files to PDF format. As a result, CoreGraphics’ CGPSConverter returns an error when invoked, ImageIO no longer converts EPS files, NSEPSImageRep does not display EPS files, and PMPrinterPrintWithFile does not accept a PostScript file for non-PostScript print queues.”</p>
<p>Search of Apple’s previous release notes doesn’t reveal any prior warnings of this removal of support or deprecation (in the general meaning of the term), in contrast to other removals from Sonoma such as ATS/ATSUI. Although conversion from PostScript and EPS must now be in relatively little demand, its demise has been rapid, as if Apple can’t wait for macOS to be rid of it. The most likely reason is security.</p>
<p>PostScript is an old stack-based interpreted language designed at a time when code security had barely been conceived, and malicious software hardly existed. Among its attractive features is the fact that any PostScript object can be treated as data, or executed as part of a program, and can itself generate new objects that can in turn be executed. More recently, security researchers have drawn attention to the fact that it’s a gift for anyone wishing to write and distribute malicious code. As it’s effectively an image format, embedding malware inside a PostScript file could enable that to be run without user interaction, as with some other graphics formats.</p>
<p>There are three major PostScript interpreters in common use:</p>
<ul>
<li>Adobe’s Distiller engine, built into its Acrobat products,</li>
<li>Apple’s PSNormalizer engine, built into macOS,</li>
<li>Artifex’s open source engine, built into Ghostscript, and widely used in Linux and other platforms.</li>
</ul>
<p>Research into those engines has so far been relatively limited, but has revealed some serious vulnerabilities. Most recently, Kai Lu and Brett Stone-Gross of Zscaler’s ThreatLabz <a href="https://www.zscaler.com/blogs/security-research/smash-postscript-interpreters-using-syntax-aware-fuzzer" target="_blank" rel="noopener">published an account</a> of three vulnerabilities they found in Distiller, and one in PSNormalizer, in 2022. Those were fixed by Adobe and Apple last year, in the latter case in <a href="https://support.apple.com/en-us/HT213345" target="_blank" rel="noopener">macOS Monterey 12.5</a> released on 20 July 2022, and its equivalent security updates for Big Sur and Catalina. From the dates, I suspect that the removal of support for inline viewing of PostScript files in WebKit in Monterey 12.3 may also have been part of Apple’s mitigations.</p>
<p>Apple was most probably prompted into conducting a security audit of PSNormalizer as a result of the vulnerability reported, and would have been faced with the choice of re-engineering it or removing it from macOS completely. Unlike the PDF engine in Quartz, PSNormalizer is now little used, and has no significant role in macOS. The first step was to make it inaccessible from the GUI by disabling that feature in Ventura’s Preview, then following that in Sonoma by removing PSNormalizer altogether, so removing its command tool <code>pstopdf</code> and Core Graphics’ CGPSConverter.</p>
<p>This leaves those still wishing to convert PostScript files with a choice between Adobe’s Distiller in its paid-for Acrobat products, and Artifex’s Ghostscript, which has had its own share of vulnerabilities. There is also a third option, of running a late version of macOS Monterey in a lightweight VM and continuing to use PSNormalizer through Preview there. For most, that will be the cheapest and simplest option.</p>
<p>John Warnock, co-founder of Adobe and driving force behind PostScript, died on 19 August this year. His page description language had brought success to the Mac for almost 39 years, but at least PDF lives on.</p>
<p><em>I’m very grateful to Ben for drawing my attention to the changes in Sonoma.</em></p>
<p><em><strong>Postscript</strong></em> (it’s only appropriate)</p>
<p>I’m now starting to see warnings from third-party app developers that, in Sonoma, their apps will be unable to open or import EPS files, for example, as they can no longer convert them using Quartz in macOS 14. Although the impact on most of us should be very small or negligible, if you do still use EPS or PostScript at any scale, you will need to prepare a solution for continuing to do so after upgrading to Sonoma. I wish you success.</p>
	</div><!-- .entry-content -->

	
	<!-- .entry-footer -->

</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Pixel 8 leak promises 7 years of OS updates (166 pts)]]></title>
            <link>https://arstechnica.com/gadgets/2023/09/pixel-8-leak-promises-7-years-of-os-updates-even-more-than-an-iphone/</link>
            <guid>37649841</guid>
            <pubDate>Mon, 25 Sep 2023 20:07:43 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/gadgets/2023/09/pixel-8-leak-promises-7-years-of-os-updates-even-more-than-an-iphone/">https://arstechnica.com/gadgets/2023/09/pixel-8-leak-promises-7-years-of-os-updates-even-more-than-an-iphone/</a>, See on <a href="https://news.ycombinator.com/item?id=37649841">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <header>
            <h4>
      Living up to the promise of tensor    —
</h4>
            
            <h2 itemprop="description">Just about everything has leaked about the $699 Pixel 8 and $999 8 Pro. </h2>
                    </header>
        <div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2023/09/10-800x450.jpg" alt="Leaked pictures from Google's promo site show off the Pixel 8 Pro in a lovely blue. ">
      <figcaption><p><a href="https://cdn.arstechnica.net/wp-content/uploads/2023/09/10.jpg" data-height="780" data-width="1386">Enlarge</a> <span>/</span> Leaked pictures from Google's promo site show off the Pixel 8 Pro in a lovely blue. </p></figcaption>  </figure>

  




<!-- cache hit 397:single/related:9483a99ad713eebbd9734aaf0aa6586e --><!-- empty -->
<p>The Pixel 8 is rapidly approaching its October 4 unveiling, but before then there are a bunch of leaks out there. Reliable leaker <a href="https://twitter.com/Za_Raczke/status/1706190950232445368">Kamila Wojciechowska</a> has a whole list of Pixel 8 and 8 Pro specs over at <a href="https://www.91mobiles.com/hub/google-pixel-8-pro-specifications-revealed/">91mobiles</a>, along with some Pixel<a href="https://twitter.com/Za_Raczke/status/1706277114717040721"> market materials</a>. The big news is that Google is finally giving its Pixel phones a longer support window. Pixel phones are getting <em>seven years</em> of updates, which is longer than Apple. Google pitches the Pixel phones as the flagship of the Android ecosystem, and now, if this spec sheet pans out, the OS maker is finally giving them an update plan to match.</p>
<p>Currently, Pixel phones have three years of OS updates and five years of security updates, which is not only beaten by Apple's update policy but is also inexplicably worse than many of Google's Android partners. For instance, <a href="https://arstechnica.com/gadgets/2021/02/samsung-now-updates-android-for-longer-than-google-does/">Samsung</a> and <a href="https://arstechnica.com/gadgets/2022/11/oneplus-adds-an-extra-year-to-its-update-promise-now-at-4-years-of-major-updates/">OnePlus</a> offer four years of OS updates, albeit with some caveats around arrival times and the security update cadence. Apple doesn't have a policy written in stone anywhere, but with the iPhone X not <a href="https://arstechnica.com/gadgets/2023/06/ios-and-ipados-17-drop-support-for-iphone-x-first-ipad-pros-and-other-old-devices/">making the jump</a> to iOS17, that makes for a five-year major OS update policy if you're counting to 2022's iOS16, though with some point updates in 2023 you could argue six years.</p>
<p>Google has <a href="https://arstechnica.com/gadgets/2021/10/pixel-6-leaks-five-years-of-security-updates-749-and-1049-price-tags/">messed around</a> in the past by calling its current "three years of major OS updates and five years of security updates" plan "five years of updates," but this spec sheet very clearly says "seven years of OS, security, and feature drop updates." That would comfortably lead all major manufacturers, leaving only Google <a href="https://arstechnica.com/gadgets/2023/08/fairphone-5-sets-a-new-standard-with-8-10-years-of-android-support/">and Fairphone</a> at the top of the charts.</p>                                            
                                                        
<p>In most of the Android world, manufacturers are dependent on their system on a chip vendor's update policy (that's usually Qualcomm) to provide Android updates. The process of shipping an Android update is an ultra-complicated relay race from Google's Android builds to the SoC vendor to the phone manufacturer. With the launch of the Pixel 6, Google started making its own SoCs (with a lot of help from Samsung's Exynos division), so every company in each step of the Android update process is just "Google." With no one else to collaborate with, the updates can last as long as Google wants.</p>
  <div>
    <ul>
              <li data-thumb="https://cdn.arstechnica.net/wp-content/uploads/2023/09/11-150x150.jpg" data-src="https://cdn.arstechnica.net/wp-content/uploads/2023/09/11.jpg" data-responsive="https://cdn.arstechnica.net/wp-content/uploads/2023/09/11-980x853.jpg 1080, https://cdn.arstechnica.net/wp-content/uploads/2023/09/11.jpg 2560" data-sub-html="#caption-1970900">
          <figure>
            
                          <figcaption id="caption-1970900">
                <span></span>
                                  <p>
                    More Pixel 8 Pro features leaked from Google's site.                   </p>
                                                  
                              </figcaption>
                      </figure>
        </li>
              <li data-thumb="https://cdn.arstechnica.net/wp-content/uploads/2023/09/F63pfqhWsAARj_G-150x150.jpg" data-src="https://cdn.arstechnica.net/wp-content/uploads/2023/09/F63pfqhWsAARj_G.jpg" data-responsive="https://cdn.arstechnica.net/wp-content/uploads/2023/09/F63pfqhWsAARj_G-980x945.jpg 1080, https://cdn.arstechnica.net/wp-content/uploads/2023/09/F63pfqhWsAARj_G.jpg 2560" data-sub-html="#caption-1970902">
          <figure>
            
                          <figcaption id="caption-1970902">
                <span></span>
                                  <p>
                    The base-model Pixel 8 section.                  </p>
                                                  
                              </figcaption>
                      </figure>
        </li>
              <li data-thumb="https://cdn.arstechnica.net/wp-content/uploads/2023/09/F63pgk2WMAAeCWI-150x150.jpg" data-src="https://cdn.arstechnica.net/wp-content/uploads/2023/09/F63pgk2WMAAeCWI.jpg" data-responsive="https://cdn.arstechnica.net/wp-content/uploads/2023/09/F63pgk2WMAAeCWI-980x1215.jpg 1080, https://cdn.arstechnica.net/wp-content/uploads/2023/09/F63pgk2WMAAeCWI.jpg 2560" data-sub-html="#caption-1970901">
          <figure>
            
                          <figcaption id="caption-1970901">
                <span></span>
                                  <p>
                    Pixel 8 features.                   </p>
                                                  
                              </figcaption>
                      </figure>
        </li>
          </ul>
  </div>

<p>The specs for the Pixel 8 Pro include something called a "Super Actua" display, which the marketing docs say will work "even in direct sunlight." The spec sheet lists 1600 nits in HDR mode and 2400 nits in "peak brightness" sunlight mode. That's probably a high point for a sunlight mode—it's certainly better than the peaks of the S23 Ultra (<a href="https://www.sammobile.com/news/galaxy-s23-series-equal-display-brightness-fantastic-colors/">1750 nits</a>) and iPhone 15 Pro Max (<a href="https://support.apple.com/kb/SP904?locale=en_US">2000 nits</a>)—but <a href="https://www.pcmag.com/encyclopedia/term/nit#:~:text=One%20nit%20is%20equal%20to,cathode%20ray%20tubes%20(CRTs).">noon sunlight</a> is 1.6 billion nits. Manufacturers keep picking this fight with the sun, and while I guess brighter is better, I'm still not confident any phone will put a dent in sunlight.</p>
<p>The Pro display is the usual 120 Hz, 6.7-inch OLED, but the aspect ratio is tweaked a bit to 20:9 (the 7 Pro is 19.5:9). This spec sheet also lists a funky resolution of 2992×1344 instead of the usual 3120×1440. The device dimensions have not really changed beyond a factional millimeter, and the Pro clocks in at 162.6×76.5×8.8 mm. The battery is pretty much the same at 5050 mAh, and it still only has 30 W charging. It still has 12GB of RAM. The storage is all sorts of disappointing, with the base storage tier still 128GB, while lots of phones start at 256GB, and it's still UFS 3.1 storage, while most other flagships have UFS 4.0.</p>                                            
                                                        
<p>The non-pro Pixel 8 is smaller, now 6.2 inches instead of 6.3 inches, with a noticeably smaller width and height to boot. It's now at 150.5×70.8×8.9 mm. The Pixel 7 is 155.6x73.2x8.7 mm. The display is branded "Actua," and not "Super Actua," and that means 1400-nit HDR and 2000-nit peak brightness. It's still 120 Hz 2400×1080, and the lower power mode still caps at 60 Hz instead of the dynamic refresh rate of the Pro model, which can go down to 1 Hz when you aren't scrolling or watching a video. The battery is jumping from 4355 mAh to 4575 mAh, and the phone is still packing 8GB of RAM and 128GB of storage.</p>
<p>The one update we know is coming is the Google Tensor 3 SoC. This will be the first Google SoC to have an actual CPU upgrade. The Tensor 1 and 2 had CPU clusters headlined by two Arm Cortex X1 CPUs and benchmarked <a href="https://arstechnica.com/gadgets/2022/10/pixel-7-pro-review-google-makes-refinements-to-the-best-android-phone/#h2">similarly</a>. Wojciechowska <a href="https://www.androidauthority.com/pixel-8-tensor-g3-specs-3331398/">previously reported</a> the Pixel 8 would switch to a newer Cortex X3 CPU, followed by four Cortex A715 cores and four A510 cores. This would put it in the same class as a Qualcomm Snapdragon 8 Gen 2.</p>
<p>As for the most important spec, the price, <a href="https://9to5google.com/2023/09/24/google-pixel-8-price-retail-leak/">9to5Google</a> has a leak for that and says everything is getting $100 more expensive in the US. The report has the Pixel 8 at $699 and the Pixel 8 Pro at $999, with a ship date of October 12. Check back on October 4, when all of this can be officially confirmed.</p>

                                                </div>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[John Romero on his book “Doom Guy” and developing games at a small scale (193 pts)]]></title>
            <link>https://howtomarketagame.com/2023/09/25/john-romero-on-his-book-doom-guy-and-developing-games-at-a-small-scale/</link>
            <guid>37649594</guid>
            <pubDate>Mon, 25 Sep 2023 19:50:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://howtomarketagame.com/2023/09/25/john-romero-on-his-book-doom-guy-and-developing-games-at-a-small-scale/">https://howtomarketagame.com/2023/09/25/john-romero-on-his-book-doom-guy-and-developing-games-at-a-small-scale/</a>, See on <a href="https://news.ycombinator.com/item?id=37649594">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <p><img width="800" height="695" src="https://howtomarketagame.com/wp-content/uploads/2023/09/DOOM-GUY-scaled-e1695649394528.jpg" alt="" decoding="async" fetchpriority="high" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/DOOM-GUY-scaled-e1695649394528.jpg 800w, https://howtomarketagame.com/wp-content/uploads/2023/09/DOOM-GUY-scaled-e1695649394528-300x261.jpg 300w, https://howtomarketagame.com/wp-content/uploads/2023/09/DOOM-GUY-scaled-e1695649394528-768x667.jpg 768w" sizes="(max-width: 800px) 100vw, 800px"></p>
<p>I think the biggest reason so many indie games “fail” is that teams enter into making huge, overly ambitious projects that take years to release before they are ready. Indie teams do not spend enough time making smaller (and less profitable) games first before transitioning to multi-year projects.&nbsp;</p>



<p>I know it seems like the modern games-industry ecosystem is unique and there is no one who can understand our plight, but indie game studios have faced similar problems for decades and they have been able to ship creative, profitable games under those conditions. It’s critical that we learn the history of our business so that we don’t repeat the same mistakes they did.&nbsp;</p>



<p>While reading John Romero’s new book <a href="https://www.amazon.com/Doom-Guy-Life-First-Person/dp/141975811X">Doom Guy: Life in First Person</a> it occurred to me that at the start, he and the founders of id Software were facing many of the same issues modern indies are.&nbsp;</p>



<figure><img decoding="async" src="https://lh5.googleusercontent.com/trDddifG5ciQHjdOXkP77pjZ3lDJJvOpoGt2TohLIkPLc5DKScgbkvT1I5PFZdUrwNCrkI_gJtW-xNLVQDj4hmlR5UdRcGwOxrjrhBV6q1UIU2lCDyFS3nfW7eyDKoVhir5CVHNOy3ooTbYCugrriLQ" alt=""></figure>



<p>It seemed so relevant that I reached out to John Romero for an interview to see what it was like releasing indie games back in the early 1990s. The following is a transcription of the interview I did with John.</p>



<p>When appropriate, I added a bit of historical context which you can see prefaced as HISTORY. In fact, let me set the scene right now:</p>



<p><em>HISTORY: In the early 1990s, John Romero worked full time at </em><a href="https://en.wikipedia.org/wiki/Softdisk"><em>Softdisk</em></a><em> which was a monthly subscription service where every month they would ship you a floppy disk full of PC games called Gamer’s Edge (think of it as an ancient Xbox Games Pass). While making games for Softdisk, his team innovated a technique that could make games on PC side scroll smoothly like the NES and formed id Software to release games that exploited this new technology. Their games they made under id Software were published by Apogee. When John quit Softdisk, the Softdisk CEO realized how much talent he was losing so he negotiated a deal with id Software where id Software would make 6-more games for Softdisk to be delivered in 1991.</em></p>



<p><em>The confluence of working full time at Softdisk, then quitting and publishing games under Apogee, and then closing out on a contract for Softdisk meant that John and his team released 27 games in 1990 and 1991. For the full list of games see the table in Appendix.</em></p>



<figure><img decoding="async" width="500" height="281" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image.jpeg" alt="" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/image.jpeg 500w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-300x169.jpeg 300w" sizes="(max-width: 500px) 100vw, 500px"><figcaption><em>My meeting John Romero at GDC 2022</em></figcaption></figure>







<h4>Chris Zukowski (CZ): Why did you make so many games in 1990 and 1991?</h4>



<figure><img decoding="async" width="1024" height="576" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image-20-1024x576.png" alt="" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/image-20-1024x576.png 1024w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-20-300x169.png 300w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-20-768x432.png 768w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-20.png 1280w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p><strong>John Romero (JR):</strong> When we were working at Gamer’s Edge, every two months we had to ship a game. That’s only six games in a year.&nbsp;</p>



<p>But we also wanted to make more Commander Keen games. And we also made games outside of work. So the first half of 1991, John Carmack and I made about three games outside of the normal work hours.</p>



<p>And then during the second half of 1991, all of our hours, once again, were spent on two games at a time. It resulted in 13 games that we made in 1991 alone.&nbsp;</p>



<p>From July of 1991, it took us three months to do the first Commander Keen 4 episode that was shareware. We felt like that was kind of a disaster. Like it took too long, it’s a game that everybody remembers from the Keen series, but to us it was like that was a bad, bad, bad, that it took three months, that’s nuts! We knew we had to go faster if we’re going to ship by Christmas.</p>



<p>So what we did was make Keen 5 right after 4, but then we got a deal to make a Keen for Christmas. And it had to be done before Christmas, way before Christmas, to get in boxes and in stores. So we had to do Keen 4 and then Keen 6 and then Keen 5. For Keen 5 to even make it for shareware to make it out into the market.</p>



<p>At the same time we’re trying to ship these games, we were making the first texture map 3d shooter game. Called Catacomb 3D.&nbsp; And that took two months as well to get that done.&nbsp;</p>



<p>It was so busy.&nbsp;</p>



<h4>CZ: How did you manage to do it that fast?</h4>



<p>JR: There were just four of us. We’d been making games every day for 10 years. So we had so much experience making games, especially small games. We knew how to scope. We knew what felt like a good size, so when we scoped it out, it was 16 levels made with a level editor, which I already had made.</p>



<h4>CZ: How did you scope it?</h4>



<figure><img decoding="async" loading="lazy" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image-21.png" alt="" width="627" height="392" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/image-21.png 320w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-21-300x188.png 300w" sizes="(max-width: 627px) 100vw, 627px"><figcaption>(Screenshot of the Gamer’s Edge platformer Shadow Knights)</figcaption></figure>



<p>JR: The scoping on our very first game, <a href="https://archive.org/details/msdos_Slordax_-_The_Unknown_Enemy_1991">Slordax: The Unknown Enemy</a>, was really us deciding how many levels we can make and how long it take us to make these levels. At the time, we didn’t know how long it take Adrian to do varieties of textures, tiles (with scrolling), characters, the ship, shooting, sound effects. You’ve got to create levels, you’ve got to write an editor for that. We saw how many levels we could make, and that kind of showed us what our velocity was.</p>



<p>The second game was a totally different game. It was a side scrolling ninja game called <a href="https://archive.org/details/msdos_Shadow_Knights_1990">Shadow Knights</a>. We could see how many levels we could make before we hit our two month goal. And so we could tell that we’re getting faster. The art was going at a good speed so we could determine how much data we can create for these games.</p>



<p>The same time that we’re doing that, we’re actually scoping out Commander Keen and we scoped out 48 levels to get done in these three months that we were trying to fit in.</p>



<h4>CZ: How were you disciplined to keep your ideas small enough to produce so fastt?&nbsp;</h4>



<figure><img decoding="async" loading="lazy" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image-22.png" alt="" width="643" height="401"><figcaption>Might and Magic II: Gates to Another World. John had worked on this project with a larger team</figcaption></figure>



<p>JR: I had made big games before, and it was really fun making big games [<a href="https://en.wikipedia.org/wiki/Might_and_Magic_II:_Gates_to_Another_World">Might and Magic II: Gates to Another World</a> and <a href="https://en.wikipedia.org/wiki/Journey_(1989_video_game)">Journey: The Quest Begins</a>]. But they were too big for one person to make. So as a team, we knew not to scope beyond the time that we knew that we had.&nbsp;</p>



<p>We knew that we were under constraints and that those constraints are finite. So we didn’t whine or complain that we weren’t making big games because we said let’s just get done with our current games and then we’ll think about what’s next. So when we got to the point where we were done with obligations to <a href="https://en.wikipedia.org/wiki/Softdisk">Softdisk Publishing</a> and we can actually just be 100 percent id Software.</p>



<h4>CZ: Weren’t all games small at that time?&nbsp;</h4>



<figure><img decoding="async" loading="lazy" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image-23.png" alt="" width="718" height="449" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/image-23.png 320w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-23-300x188.png 300w" sizes="(max-width: 718px) 100vw, 718px"><figcaption>&nbsp;Screenshot of Ultima V: Warriors of Destiny. A huge game at the time.</figcaption></figure>



<p><strong>JR: </strong>Back in the 80s, there were massive games. So if you talk about, say, Ultima V, you’re looking at several years of a team of people, maybe 10 people working on it. Programming in an assembly language, making a lot of data as compressed as possible to fit on probably 10 disk sides. These projects were really big. I think they had a producer on board to handle all the tasks. And this is in the 80s.</p>



<p>So when we started making our games, especially with Keen, it was September. You have to ship for Christmas and we had to ship three games. We knew, “Okay, these are going to be fast, these won’t be really huge games, but we’ll do the best that we can.”&nbsp;</p>



<p>We mapped out an initial 16 levels per game. So that’s like 48 levels. So we decided, we can do 48 levels and two and a half months plus all the code and all the art and animations.</p>



<h4>CZ: There were a lot of Keen sequels in a short period of time. Were you worried they would cannibalize each other?&nbsp;</h4>



<p>JR: No, because people just wanted more, more and more and more.&nbsp;</p>



<p><em>History Lesson: In 1991, John Carmack began research on a 3D-real-time game engine that was the predecessor of every First Person Shooter (FPS) we have today. Carmack was doing things that had never before thought possible with a consumer-grade home computer. It was revolutionary. But, instead of just holding the tech until it was perfect, id Software published 2 smaller, more experimental games under their contract with Softdisk. Those prototype games were Hovertank 3D and Catacomb 3D. You can actually play these foundational FPS games in your browser by clicking the following links</em></p>



<p><a href="https://www.retrogames.cz/play_557-DOS.php?language=EN"><em>Play Hovertank 3D</em></a></p>



<p><a href="https://www.retrogames.cz/play_555-DOS.php?language=EN"><em>Play Catacombs 3D</em></a></p>



<p><em>If you love FPS games, are making one, or just interested in games history, it is required that you try out the games just so you understand how industry-redefining games actually involve many many evolutionary baby steps that are largely forgotten. Know your gaming history.&nbsp;</em></p>



<h4>CZ: You all released the first smooth scrolling 3D game with the game Hovertank, but you published it under Gamer’s Edge, not under your studio id Software. Why reveal your hand with such revolutionary technology?</h4>



<figure><img decoding="async" loading="lazy" src="https://lh4.googleusercontent.com/WjHVgkVdW7i4hdXDWupmGKZnLoLs3Io5HiFtYvOWOZ1H2jGB1ylou5VEbsN6m67q4UK8nkH_bU_V6PPWnQkfI7rtOuGCiHt1JxH3UIcHDhlmQAzN9WUIxgog9mUu7xlHbPGhgCrDF7oZCFfmNaLzlZI" alt="" width="725" height="453"><figcaption>Screenshot of Catacombs 3D, an early version of id Software’s revolutionary 3D engine. The first prototypes were actually shipped as Gamer’s Edge games.</figcaption></figure>



<p>JR: We were basically getting paid to experiment and do R&amp;D (Research and Development) and create a 3D engine. We made it and sold it to them. And then later we could take another chance six months later with Catacomb 3D doing texture mapping for the first time. And so it was another experiment that they’re paying us for.</p>



<p>And then with Wolfenstein 3D, we were on our own at that point. We had done 3D twice, we knew how to do it, and we’re going to do our own game this time. We didn’t need advances or anything like that kind of stuff. We already had money coming in every month (from the Keen series).</p>



<h4>CZ: When did you know you were ready to move from Keen games to make Wolfenstein and Doom?</h4>



<figure><img decoding="async" loading="lazy" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image-24.png" alt="" width="722" height="451" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/image-24.png 541w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-24-300x187.png 300w" sizes="(max-width: 722px) 100vw, 722px"><figcaption><em>Castle Wolfenstein 3D was the first game that id Software released after completing the Gamer’s Edge contract for 6 games. There was no time constraint in making it, so they got it out in a very long 5.5 months.</em></figcaption></figure>







<p>JR: I knew that we’re wasting our time with Keen because 3D was really where it’s going to be. It’s not going to be with this 2D stuff. We need to get out of the 2D stuff. We’d spent two weeks already making a really cool demo of Keen 7. It had VGA parallax scrolling, all this stuff that was going to be a big jump in 2D.</p>



<p>And… at one in the morning, I said “Guys, we should not be doing this game. We have this cool technology that we’re not using, that we’re not taking advantage of to make a better version of that game going forward.” And so everyone immediately went, ‘Yep, you’re right.’</p>



<p>That’s where Castle Wolfenstein was kind of born, was right then. We knew this is the first game that we’re going to make that does not have a time constraint on it. And, uh, and so this is, this is let’s make a really good game and put everything that we feel belongs in it and just do it right.</p>



<p>And that’s what we did. And it took us four months to get the shareware version out, which for us four months is crazy. We spent a month and a half getting the five episodes of maps and bosses done. And so it was a total of five and a half months with the hint book and like everything.</p>



<p>So it felt like that was great. We weren’t time-constrained. We could make a really great game and we did and everybody&nbsp;</p>



<h4>CZ: In the early days of id Software, you guys were making decent money but not Ferrari money yet. Were you upset by that? Did you know how much money the big studios were making in the 1990s?</h4>



<p>JR: When I was working at Origin Systems, they would have a company meeting and they would talk about sales and everything. And they were making amazing money, like $3,000,000 profit in 1987 (side note that is $7,605,928.98 in 2023 money.)</p>



<p>We wanted to be LucasArts and Origin in quality but make the kind of games at the size that we felt was appropriate. We don’t want to make these epic sagas. We just wanted to make really fun experiences.</p>



<h4>CZ: But At the time, Softdisk paid you just $5000 ($11,405 in 2023 dollars) for every game you developed for them. Did that seem small compared to what you saw Origin was earning?</h4>



<figure><img decoding="async" loading="lazy" width="1024" height="768" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image-25-1024x768.png" alt="" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/image-25-1024x768.png 1024w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-25-300x225.png 300w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-25-768x576.png 768w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-25-1536x1152.png 1536w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-25.png 1600w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Softdisk, publisher of Gamer’s Edge: What Software company offices looked like in the late 80s. <a href="https://romero.smugmug.com/Video-Games/The-Archives/i-b8k8NJZ/A">Courtesy of John’s Photo Archive</a></figcaption></figure>



<p>JR: No, we were blown away that it was that much. Back then rent was really cheap. It was in the hundreds of dollars per month. Our goal was to survive as a company and a team. So when we got the first check and the idea was to start the company, work full time, and there was four of us.</p>



<p>The first thing that we thought was “we need to hold on to as much money as we can in the company.” Each person at that point had a different situation with how much money they needed to spend to live every month because of their rent cost and their bills that they had. There might be a car payment or something.</p>



<p>Later, we were making $50,000 a month and, and we gave ourselves little raises, but we kept as much as we could in the bank because if, if the game didn’t sell well or we had a dry spell or took too long to make a game or whatever, we needed to be able to keep on going to finish the game and to be able to get it out.</p>



<p>So we had to be as conservative as we could possibly be. Yeah. We weren’t out buying anything. We were just working.</p>



<h4>CZ: Today your first month of sales are a large proportion of how much your game will make. What was the revenue curve like for newly launched games in the 1990s?</h4>



<p>JR: It was a very long tail. The spike wasn’t even at the beginning because BBSs (Bulletin board systems) were really limited in the amount of people that would be exposed to stuff. So, our initial spike actually went on for a long time. At minimum, it was half a year before it peaked, and then it went down.</p>



<p>Income stacking was critical. We needed to be getting income from multiple games at the same time.&nbsp;</p>



<p>We made $10,500 ($23,846 in 2023 dollars) that first month of id Software. By the same time the next year, we were making $50,000 ($113,555.35) per month. And it’s because of income stacking.</p>



<p>At that point, we had the original Keen (which was still going really strong), we had the second set of Keens, and what that meant was we had a shareware version of Keen that had two pieces, which was a really bad idea, because it didn’t do as well as the first one because of that.</p>



<p>But we also had a retail Keen that was out as well, so we had three products that were out and we also had money coming in because we’re making these Gamer’s Edge games.</p>



<p>So we were just being real conservative and saving as much as we could. And then when Wolfenstein 3D hit, that changed the world basically. It was huge.&nbsp;</p>



<h4>CZ: How did you make money even after Wolfenstein and Doom hit it big?</h4>



<figure><img decoding="async" loading="lazy" width="1024" height="698" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image-26-1024x698.png" alt="" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/image-26-1024x698.png 1024w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-26-300x205.png 300w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-26-768x524.png 768w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-26.png 1488w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Workstation of Wolfenstein 3D development <a href="https://romero.smugmug.com/Video-Games/The-Archives/i-Rb9skm4/A">From John’s photo archive</a></figcaption></figure>



<p>JR: After Doom (during Quake’s development) was when I got <a href="https://en.wikipedia.org/wiki/Final_Doom">Final Doom</a> going. But I also had <a href="http://browser-doom.io/?page=game&amp;game=heretic&amp;profile=Heretic%20(Shareware)">Heretic</a> and <a href="https://gamesnostalgia.com/game/hexen-beyond-heretic">Hexen</a>. We did <a href="https://doomwiki.org/wiki/Master_Levels_for_Doom_II">Master Levels for Doom 2</a>. We were upgrading Doom to <a href="https://doom.fandom.com/wiki/The_Ultimate_Doom">Ultimate Doom</a> to go retail. It was just a lot of games. I think within the six years that I was there at id Software, we had published 35 Games or something like that.</p>



<h4>CZ: If we were to transport 20-year-old John Romero to 2023, with today’s tools, and game environment, do you think you could replicate that productivity of the 1990s?</h4>



<p>JR: I think so. When you look at the breadth of indie games and what they look like, if you go to itch. io and places where indies live, there’s such a wide range of art styles and games.&nbsp;&nbsp;</p>



<p>Horror games are massive with indies and there’s a 1995, a PlayStation aesthetic of graphics. That’s really big. It takes less time to make that graphic quality than it does for a realistic or semi realistic full Unreal Engine.</p>



<p>So, you could do that if you were spending the most time that you can on the gameplay part because the engine’s done. Don’t think about the engine, you think about making. Figure out what you’re making, your experience.&nbsp;</p>



<p>Let’s say if it’s Unreal, are you making blueprints that are really modular for the different rooms you’re going to go in if you’re making a horror game. You want it to feel like it’s a roller coaster ride to get through.</p>



<p>So how are you pacing it? How big is it? What’s the scope?&nbsp;</p>



<p>I do game jams every once in a while. In 2017 I did a 10 hour game jam with a programmer that works at our company. In 10 hours we put together a horror adventure game, with about 13 different screens, creepy music, creepy dialogue, and it had a very weird vibe and published it.</p>



<p><a href="https://rome.ro/july-4-1976">If you want to check it out, it’s called July 4th, 1976</a>. So it’s on iOS, Android, Mac, and Windows done in, in 10 hours published on four platforms.&nbsp;</p>



<p>There’s a really great company in Portugal that’s putting this game together with a bunch of other indie games and they’re going to be taking the Switch version of it and it’s going to actually appear on an indie compilation on Switch.&nbsp;</p>



<p>But you can see, it’s a 10 hour game. If you’re asking, what games can you get in a month, this is 10 hours.</p>



<p>To see more of John Romero’s side projects, check out his site <a href="http://playbarf.com/">Play Barf</a>&nbsp;</p>



<h4>CZ: But what if my dream game is in the style of a Final Fantasy game?&nbsp;</h4>



<figure><img decoding="async" loading="lazy" width="1024" height="683" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image-27-1024x683.png" alt="" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/image-27-1024x683.png 1024w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-27-300x200.png 300w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-27-768x512.png 768w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-27.png 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>JR: You need to scope way down. A scoping exercise is like the most important thing you can do at the very beginning. Like, just think about this: since we’re talking about the horror genre and I did this 10 hour thing, one of the most memorable horror demos that people have seen in recent years?</p>



<p>It’s P. T. It’s a hallway, and people won’t forget it, right? It’s a hallway. And that tells you everything about the amount of content you need to make to stick in people’s minds. It’s the design that matters. It’s not the size. It’s not a gigantic adventure. It’s doing something brand new no one has seen in the genre that you’ve chosen that’s really unique.</p>



<p>And if you’re talking about spending a lot of time on a game, spend it on design. Think about what you’re doing and think about something that’s new and pushing the boundaries of the genre that you’re in.&nbsp;</p>



<h4>CZ: What if you are stuck in a 2,3, or even 4-year-long development hell?</h4>



<p>JR: If you don’t see the end, if you don’t see a good end, if you don’t know where it’s going to end up, but you have an idea for something else that you’re more excited about, it’s really hard advice, but I would like do the thing that you’re most interested in doing, even if you’ve spent that much time.</p>



<p>It’s going to show that it’s not this big inspired amazing thing because you wouldn’t be in that position if it was. So move on to the next thing as soon as you can. You’ve learned a lot. You’ve learned what happens when you have big ideas and they don’t turn out to be what you were hoping for.</p>



<p>Try to make something maybe more doable in a shorter span of time. Even if it’s mildly successful, you’ve learned something. Do another thing that’s a little bit bigger.</p>



<p>And it could be a sequel. It could be an offshoot. If it’s the kind of game that you like, but start small always and release something that’s interesting and then go up from there. Don’t ever start with something gigantic if you haven’t done it before, because you don’t know what’s going to happen if you’ve never done it before.</p>



<p>The bigger it is, the more off course you’re going to get. Just think about an angle where you’re trying to hit a mark years down the road. If it’s off by one degree, what’s it going to look like years later?&nbsp;</p>



<p>Those errors will magnify over time. So you need to make sure that you make really good decisions at the very beginning and try to correct them as soon as you can.</p>



<p>As soon as you see something’s wrong, cut your losses as soon as you can. You have a certain amount of time. You only have so many games.&nbsp;</p>



<h4>CZ: Final question, what do you think about the term Boomer Shooter?</h4>



<figure><img decoding="async" loading="lazy" width="1024" height="576" src="https://howtomarketagame.com/wp-content/uploads/2023/09/image-28-1024x576.png" alt="" srcset="https://howtomarketagame.com/wp-content/uploads/2023/09/image-28-1024x576.png 1024w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-28-300x169.png 300w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-28-768x432.png 768w, https://howtomarketagame.com/wp-content/uploads/2023/09/image-28.png 1280w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>The funny thing about boomers, it doesn’t even matter because for people who made up the term boomer shooter, anyone who’s old as a boomer, boomers are actually the kids of World War Two vets.</p>



<p>That’s my mom. My mom is 20 years older than I am. She’s actually a boomer. So, boomers are not typically developing games.&nbsp;</p>



<p>It’s funny. It’s a funny name. And I usually say it is a boomer shooter. It’s got a shotgun in it. It makes a big boom sound and you’re shooting. it doesn’t bug me. It’s really like you’re trying to nail the aesthetics of the style and that’s like that’s a phrase that kind of says what you need to know&nbsp;</p>



<h2>Additional reading and watching</h2>



<p><a href="https://www.youtube.com/watch?v=w4WNRKIFLt8">Watch John Romero’s talk about the making of Wolfenstein</a></p>



<p><a href="https://youtu.be/NnkCujnYNSo">Watch John Romero’s GDC talk about the making of Doom</a></p>



<p><a href="https://www.amazon.com/Doom-Guy-Life-First-Person/dp/141975811X">Buy John’s Book.</a></p>



<p><a href="https://www.amazon.com/Doom-Guy-Life-First-Person/dp/B0C47N4ZWB">Or get the audio book</a> version</p>



<h2>Appendix</h2>



<figure><table><tbody><tr><td><em>Sub Stalker</em></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Programmer, Designer, Sound, Art</td></tr><tr><td><em>Pixel Puzzler</em></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Pixel Puzzle Maker</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Big_Blue_Disk"><em>Dinosorcerer</em></a></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Programmer</td></tr><tr><td><em>Dark Designs II: Closing the Gate</em></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Level Designer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Commander_Keen_in_Invasion_of_the_Vorticons"><em>Commander Keen 1: Marooned on Mars</em></a></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Apogee_Software">Apogee Software</a></td><td>Programmer, Level Designer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Commander_Keen_in_Invasion_of_the_Vorticons"><em>Commander Keen 2: The Earth Explodes</em></a></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Apogee_Software">Apogee Software</a></td><td>Programmer, Level Designer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Commander_Keen_in_Invasion_of_the_Vorticons"><em>Commander Keen 3: Keen Must Die!</em></a></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Apogee_Software">Apogee Software</a></td><td>Programmer, Level Designer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Catacomb_(video_game)"><em>Catacomb</em></a></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Programmer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Big_Blue_Disk"><em>Big Blue Disk #40</em></a></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Associate Editor</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Big_Blue_Disk"><em>Big Blue Disk #41</em></a></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Associate Editor</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Big_Blue_Disk"><em>Big Blue Disk #44</em></a></td><td>1990</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Associate Editor</td></tr><tr><td><em>Alfredo’s Stupendous Surprise</em></td><td>1990</td><td>Softdisk</td><td>Programmer</td></tr><tr><td><em>Xenopods</em></td><td>1991</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Engine Tools</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Slordax:_The_Unknown_Enemy"><em>Slordax: The Unknown Enemy</em></a></td><td>1991</td><td>Softdisk</td><td>Engine Tools</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Rescue_Rover"><em>Rescue Rover</em></a></td><td>1991</td><td>Softdisk</td><td>Programmer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Rescue_Rover_2"><em>Rescue Rover 2</em></a></td><td>1991</td><td><a href="https://en.wikipedia.org/wiki/Expert_Software">Expert Software</a>, Froggman, Softdisk</td><td>Programmer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Shadow_Knights"><em>Shadow Knights</em></a></td><td>1991</td><td><a href="https://en.wikipedia.org/wiki/Softdisk_Publishing">Softdisk Publishing</a></td><td>Programmer, Level Designer</td></tr><tr><td><em>Paragon</em></td><td>1991</td><td>Softdisk</td><td>Engine Tools</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Paganitzu"><em>Paganitzu</em></a></td><td>1991</td><td>Apogee Software</td><td>Special Thanks</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Hovertank_3D"><em>Hovertank 3D</em></a></td><td>1991</td><td>Softdisk</td><td>Programmers</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Dangerous_Dave_in_the_Haunted_Mansion"><em>Dangerous Dave in the Haunted Mansion</em></a></td><td>1991</td><td>Softdisk</td><td>Programmer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Keen_Dreams"><em>Commander Keen: Keen Dreams</em></a></td><td>1991</td><td>Softdisk</td><td>Programmer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Commander_Keen_in_Goodbye,_Galaxy"><em>Commander Keen 4: Secret of the Oracle</em></a></td><td>1991</td><td>Apogee Software</td><td>Programmer, Level Designer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Commander_Keen_in_Goodbye,_Galaxy"><em>Commander Keen 5: The Armageddon Machine</em></a></td><td>1991</td><td>Apogee Software</td><td>Programmer, Level Designer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Commander_Keen_in_Aliens_Ate_My_Babysitter"><em>Commander Keen 6: Aliens Ate My Baby Sitter!</em></a></td><td>1991</td><td><a href="https://en.wikipedia.org/wiki/FormGen">FormGen</a></td><td>Programmer, Level Designer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Catacomb_II#Sequel"><em>The Catacomb (Catacomb II)</em></a></td><td>1991</td><td>Softdisk</td><td>Programmer</td></tr><tr><td><a href="https://en.wikipedia.org/wiki/Catacomb_3-D"><em>Catacomb 3-D</em></a></td><td>1991</td><td>Softdisk</td><td>Programming</td></tr></tbody></table></figure>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[DJI Mini 4 Pro (365 pts)]]></title>
            <link>https://www.dji.com/mini-4-pro</link>
            <guid>37649448</guid>
            <pubDate>Mon, 25 Sep 2023 19:40:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.dji.com/mini-4-pro">https://www.dji.com/mini-4-pro</a>, See on <a href="https://news.ycombinator.com/item?id=37649448">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__next"><div><nav><div><ul><li data-key="https://store.dji.com/list/accessories?category=101%3D101.203.307&amp;tab=103&amp;sort=recommendation&amp;page=1"><a href="https://store.dji.com/list/accessories?category=101%3D101.203.307&amp;tab=103&amp;sort=recommendation&amp;page=1" target="_blank" data-ga-category="mini-4-pro_detail" data-ga-action="click" data-ga-label="nav_button_accessories_store">Accessories</a></li><li data-key="https://www.dji.com/products/comparison-consumer-drones"><a href="https://www.dji.com/products/comparison-consumer-drones" target="_self" data-ga-category="mini-4-pro_detail" data-ga-action="click" data-ga-label="nav_button_Compare">Compare</a></li><li data-key="mini-4-pro/specs"><a href="https://www.dji.com/ch/mini-4-pro/specs" data-ga-category="mini-4-pro_detail" data-ga-action="click" data-ga-label="nav_button_Specs">Specs</a></li><li data-key="mini-4-pro/video"><a href="https://www.dji.com/ch/mini-4-pro/video" data-ga-category="mini-4-pro_detail" data-ga-action="click" data-ga-label="nav_button_Video">Video</a></li><li data-key="mini-4-pro/downloads"><a href="https://www.dji.com/ch/mini-4-pro/downloads" data-ga-category="mini-4-pro_detail" data-ga-action="click" data-ga-label="nav_button_Downloads">Downloads</a></li><li data-key="mini-4-pro/faq"><a href="https://www.dji.com/ch/mini-4-pro/faq" data-ga-category="mini-4-pro_detail" data-ga-action="click" data-ga-label="nav_button_FAQ">FAQ</a></li><li><a href="https://store.dji.com/product/dji-mini-4-pro" data-ga-category="mini-4-pro_detail" data-ga-action="click" data-ga-label="buy_now" target="_blank" data-bd-track="7">Buy Now</a><div><p>DJI Store</p><p>1% DJI Credit Reward &amp; 14-Day Returns</p></div></li></ul></div></nav></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="none" data-aos-once="true" id="49004" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49004" data-component="9b161366"><p><img data-aos="none" data-aos-once="true" src="https://dji-official-fe.djicdn.com/dps/d8792f4079ba74c47d9007e1758617a1.svg" alt="DJI Mini 4 Pro"></p><p data-aos="none" data-aos-once="true">Mini to the Max</p></div><div data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49428" data-component="6736fe1b" id="49428"><ul><p><span>Product Highlights</span></p><p><span>Imaging Performance</span></p><p><span>Flight Performance</span></p><p><span>Intelligent Features</span></p><p><span>Practical Accessories</span></p></ul></div><div id="49005" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49005" data-component="e5cf46f2"><div><p>Extended Battery Life <sup>[2]</sup></p></div><div><div><p>4K/60fps HDR True Vertical Shooting</p></div><div><p>20km FHD Video Transmission <sup>[3]</sup></p></div></div><div><p>Omnidirectional Obstacle Sensing</p></div></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49006" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49006" data-component="c74c8145"><p data-aos="fade-in" data-aos-once="true">Buy DJI Mini 4 Pro at the official online DJI Store to enjoy DJI expert help, one-on-one exclusive customer service, professional technical support, free shipping, 1% DJI Credit back on your purchase, and more.</p></div><div id="50532" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_50532" data-component="18f3b1c7"><p data-aos-once="true" data-aos="fade-up"><h2>Go Big With Mini</h2></p><p data-aos-once="true" data-aos="fade-up"><h3>DJI Mini 4 Pro is our most advanced mini camera drone to date. <sup>[4]</sup> It integrates powerful imaging capabilities, omnidirectional obstacle sensing, ActiveTrack 360° with the new Trace Mode, and 20km FHD video transmission, bringing even more things to love for pros and beginners alike.</h3></p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49237" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49237" data-component="d6358086"><h2 data-aos="fade-in" data-aos-once="true">Take it Easy</h2><p data-aos="fade-in" data-aos-once="true">Take off whenever inspiration strikes. Weighing less than 249 g, Mini 4 Pro was designed for convenience on the go, <sup>[1]</sup> and the drone's weight means there's no need for training or examinations in most countries and regions.</p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49215" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49215" data-component="e3f9c696"><h2 data-aos="fade-in" data-aos-once="true">Out-sized Imaging Performance</h2><p data-aos="fade-in" data-aos-once="true">Capture more complex details easily with Mini 4 Pro's camera, powered by a 1/1.3-inch CMOS sensor featuring Dual Native ISO Fusion, a f/1.7 aperture, and 2.4μm 4-in-1 pixels. <sup>[5]</sup>  More highlight and shadow details with a high dynamic range means uncompromising results in every frame.</p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="none" data-aos-once="true" id="56912" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_56912" data-component="783d4109"><h3 data-aos="none" data-aos-once="true">Maximum Visual Impact</h3><p data-aos="none" data-aos-once="true">Give vibrant scenes the details they deserve with 4K/60fps HDR and 4K/100fps video, while 10-bit D-Log M and HLG help capture a stunning range of colors and provide more flexibility while editing and sharing.</p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="none" data-aos-once="true" id="56913" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_56913" data-component="9a554e5e"><h3 data-aos="none" data-aos-once="true">4K/60fps HDR</h3><p data-aos="none" data-aos-once="true">Preserve the natural wonder of any moment. 4K/60fps HDR lets you share the nuances of sunset or sunrise in true-to-life quality.</p></div><div data-aos="none" data-aos-once="true" id="56914" bgwidth="" bgheight="" role="button" tabindex="0" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_56914" data-component="9a554e5e"><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000"><h3 data-aos="none" data-aos-once="true">Slo-Mo 4K/100fps</h3><p data-aos="none" data-aos-once="true">Immerse the audience in every frame. With slow motion in 4K clarity, capture the action on the trails, at the beach, or in your own backyard at 100fps.</p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000"><h3 data-aos="none" data-aos-once="true">Highlight the Night</h3><p data-aos="none" data-aos-once="true">The improved noise reduction algorithm of Mini 4 Pro's Night Shots video effectively suppresses noise and facilitates clearer, cleaner footage right from the camera.</p></div></div><div data-aos="none" data-aos-once="true" id="56915" bgwidth="" bgheight="" role="button" tabindex="0" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_56915" data-component="f336300d"><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000"><h3 data-aos="none" data-aos-once="true">1.07 Billion Colors</h3><p data-aos="none" data-aos-once="true">Record in 10-bit D-Log M. The natural color gradations and delicate full-spectrum details mean Mini 4 Pro unlocks pro-level post-production control and expert-level creative editing flexibility.</p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000"><h3 data-aos="none" data-aos-once="true">Dynamic on Every Platform</h3><p data-aos="none" data-aos-once="true">No matter where you publish your content, HLG ensures the natural colors and brightness remain true-to-life without adjustment or format conversion due to its high dynamic range.</p></div></div><div id="53343" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_53343" data-component="4481da3d"><div><h3>Maximum Visual Impact</h3><p>Give vibrant scenes the details they deserve with 4K/60fps HDR and 4K/100fps video, while 10-bit D-Log M and HLG help capture a stunning range of colors and provide more flexibility while editing and sharing.</p></div><div><div><h4>4K/60fps HDR</h4><p>Preserve the natural wonder of any moment. 4K/60fps HDR lets you share the nuances of sunset or sunrise in true-to-life quality.</p></div><div><h4>Slo-Mo 4K/100fps</h4><p>Immerse the audience in every frame. With slow motion in 4K clarity, capture the action on the trails, at the beach, or in your own backyard at 100fps.</p></div><div><h4>Highlight the Night</h4><p>The improved noise reduction algorithm of Mini 4 Pro's Night Shots video effectively suppresses noise and facilitates clearer, cleaner footage right from the camera.</p></div><div><h4>1.07 Billion Colors</h4><p>Record in 10-bit D-Log M. The natural color gradations and delicate full-spectrum details mean Mini 4 Pro unlocks pro-level post-production control and expert-level creative editing flexibility.</p></div><div><h4>Dynamic on Every Platform</h4><p>No matter where you publish your content, HLG ensures the natural colors and brightness remain true-to-life without adjustment or format conversion due to its high dynamic range.</p></div></div></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49225" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49225" data-component="96dbaf83"><p><h3 data-aos="fade-in" data-aos-once="true">RAW-Some Photos</h3></p></div><section id="49223" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49223" data-component="8cfb728a"><p>It's often the little things that matter most. Preserve every intricate detail with 48MP RAW and next-gen SmartPhoto <sup>[6]</sup> which combines HDR imaging, scene recognition, and more for images that pop.</p></section><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49226" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49226" data-component="5f9aa137"><p><h3 data-aos="fade-in" data-aos-once="true">More Ways to See it All</h3></p></div><div data-aos="none" data-aos-once="true" role="button" tabindex="0" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49224" data-component="8d27c4d6" id="49224"><div><p>Achieve ultra-smooth camera motion with a 60° max tilt angle, unlocking greater cinematic potential.</p></div><div><p>Enables vertical recording optimized for social media and smartphone playback.</p></div><div><p>Capture photos with up to 2x zoom and videos with 4x zoom, making the remote reachable.</p></div></div><div role="button" tabindex="0" data-ga-label="" bgwidth="1920px" bgheight="100vh" threshold="1000" data-aos="none" data-aos-once="true" id="49007" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49007" data-component="17fea5f8"><p><h2 data-aos="none" data-aos-once="true">Intuitive Features, Enhanced Flights</h2></p></div><div id="50425" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_50425" data-component="f25a3dcf"><p data-aos-once="true" data-aos="fade-up"><h2>Sense More, Fly Safe</h2></p><p data-aos-once="true" data-aos="fade-up"><h3>Omnidirectional obstacle sensing makes Mini 4 Pro mighty safe. With four wide-angle vision sensors and a pair of downward vision sensors, it detects obstacles from all angles. Advanced Pilot Assistance Systems (APAS) ensures additional safety by enabling automatic braking and bypassing during flight.</h3></p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49238" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49238" data-component="99bb9ed1"><h3 data-aos="fade-in" data-aos-once="true">Fly Longer, Create More</h3><p data-aos="fade-in" data-aos-once="true">In Europe, Mini 4 Pro has C0 certification. With the standard Intelligent Flight Battery, you get up to 34 minutes of flight time, ensuring seamless creation without battery concerns. <sup>[2]</sup></p></div><div id="53187" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_53187" data-component="eb232e68"><p><h4>34 mins</h4></p><p>Standard Intelligent Flight Battery</p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="1920px" bgheight="800px" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49420" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49420" data-component="de671e19"><h3 data-aos="fade-in" data-aos-once="true">20 km Video Transmission</h3><p data-aos="fade-in" data-aos-once="true">Mini 4 Pro features DJI's O4 video transmission. Enjoy ultra-responsive control and smooth 1080p/60fps FHD live feeds from distances of up to 20 km. <sup>[3]</sup></p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49244" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49244" data-component="9f73a76d"><p><h3 data-aos="fade-in" data-aos-once="true">Full-Fledged Features</h3></p></div><div data-aos="none" data-aos-once="true" role="button" tabindex="0" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49335" data-component="f4532aba" id="49335"><div><p>Effortlessly enhance shooting efficiency with Waypoint Flight's automatic route function for precise route repeatability.</p></div><div><p>Cruise Control can reduce operation fatigue during long-distance, steady-state flight and further reduce camera shake with smoother camera movement.</p></div><div><p>Mini 4 Pro can automatically plan a safe flight route back to its home point and easily bypass obstacles. Additionally, the AR RTH route feature facilitates more confident control during return flights.</p></div></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49336" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49336"><p><h2 data-aos="fade-in" data-aos-once="true">Simply Masterful</h2></p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49337" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49337" data-component="bf52eaf6"><h3 data-aos="fade-in" data-aos-once="true">A Touch of Cinematics</h3><p data-aos="fade-in" data-aos-once="true">Mini 4 Pro has three effortless ways to get the shots you want: Spotlight, Point of Interest, and the revolutionary new ActiveTrack 360° with enhanced subject tracking capabilities. Swipe a path on the trace wheel interface to capture seamless cinematic shots. With omnidirectional obstacle sensing, bypassing obstacles and achieving smoother, more stable tracking for pro-level results is shockingly simple.</p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49339" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49339"><p><h3 data-aos="fade-in" data-aos-once="true">Full-Power Mini</h3></p></div><div id="53032" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_53032" data-component="e7c3c831"><div><p>Delivers dynamic camera movement templates tailored for portrait, close-up, and long-range shots, ensuring you nail every shot!</p></div><div><p>Provides Dronie, Circle, Helix, Rocket, Boomerang, and Asteroid modes for more stylish results.</p></div><div><p>Provides Free, Waypoint, Circle, and Course Lock modes with unlimited shooting time, and supports compositing while shooting.</p></div><div><p>Supports shooting 180°, Wide Angle, Vertical, and Sphere panoramic photos to capture magnificent landscapes.</p></div><div><p>Quickly transfer photos and videos to your smartphone without linking the remote controller. Your creations will be instantly ready to share.</p></div></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49341" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49341" data-component="27587be5"><h2 data-aos="fade-in" data-aos-once="true">Edit with LightCut</h2><p data-aos="fade-in" data-aos-once="true">LightCut supports wireless connection and intelligent recognition of composition and flight routes, so you can edit quickly and generate eye-catching videos with one tap. By blending imported footage from ActiveTrack, MasterShots, and QuickShots, the app automatically matches sound effects and exclusive templates for quick, high-quality video production. Plus, there is no need to download footage during the editing process, saving storage space on your smartphone.</p></div><div data-aos="none" data-aos-once="true" role="button" tabindex="0" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49342" data-component="0cb2a067" id="49342"><div><div data-ga-label="all-1-tab-button"><p>Intelligent Sound Effects</p></div><div data-ga-label="all-2-tab-button"><p>Countless Aerial Shot Templates</p></div></div><div><div><p>Uses AI technology to identify content types and themes, and then select highlight moments with smooth camera movement and exceptional composition to generate an effortlessly cinematic video. You can also easily create masterpieces using tailored settings for ActiveTrack, MasterShots, and QuickShots, enjoying efficient shooting and editing at once.</p></div><div><p>Generates immersive sound effects based on your video content in real-time, bringing your aerial creation to life by shifting from “silent” to “vibrant.”</p></div><div><p>Offers extensive aerial shot templates, including nature, cityscape, tilt-shift effect, and more. Import your aerial footage to create stunning videos with minimal effort.</p></div></div></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49432" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49432" data-component="238cbf95"><h2 data-aos="fade-in" data-aos-once="true">Master Aerial Photography in a Snap: Join SkyPixel</h2><p data-aos="fade-in" data-aos-once="true">The fully upgraded SkyPixel boasts extensive fly spots and fly tips. Ignite your creative inspiration with a single click, and capture stunning shots with peace of mind!</p></div><div data-aos="none" data-aos-once="true" role="button" tabindex="0" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49433" data-component="0b6538b0" id="49433"><div data-ga-label="all-0-tab-button"><p>Soar Confidently &amp; Safely</p></div><div><div><p>Stay informed about nearby fly spots and local restrictions. Even new pilots can take off without worry and fully immerse themselves in every flight.</p></div><div><p>Collaborate with talented photographers worldwide, delve into over 30 million amazing aerial masterpieces, and share your own aerial creations and insights with like-minded enthusiasts across the globe.</p></div></div></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="53295" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_53295" data-component="4fbef5f8"><p data-aos="fade-in" data-aos-once="true">A Must-Have App for DJI Users</p><h2 data-aos="fade-in" data-aos-once="true">DJI Store App</h2><p data-aos="fade-in" data-aos-once="true">· Try Virtual Flight here, experience the obstacle sensing  of DJI Mini 4 Pro online.
<br>· Get official products at launch, track your package whenever you want. 
<br>· Manage your devices conveniently, check your warranty and Care anytime.</p></div><div role="button" tabindex="0" data-ga-label="" bgwidth="" bgheight="" threshold="1000" data-aos="fade-in" data-aos-once="true" id="49343" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49343"><p><h2 data-aos="fade-in" data-aos-once="true">Get More out of Mini</h2></p></div><div id="49344" data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49344" data-component="90abbee7"><div><ul tag="sticky"><li tag="accessories-video0"><video muted="" name="media" data-layzr-poster="https://dji-official-fe.djicdn.com/dps/c07cf544f19e9e8f038221a6a0e5991b.jpg"><source type="video/mp4; codecs=&quot;avc1.4D401E, mp4a.40.2&quot;" data-layzr-src=""></video><div><h5>DJI RC 2</h5><p>This lightweight and easy-to-use remote controller comes with the built-in DJI Fly app, eliminating the need for smartphone use during flight. The high-definition screen delivers a crisp and clear view even under direct sunlight, optimizing your entire Mini 4 Pro experience.</p></div></li><li tag="accessories-video1"><video muted="" name="media" data-layzr-poster="https://dji-official-fe.djicdn.com/dps/3eafddbac3b8e52d5566aa3e49a3105a.jpg"><source type="video/mp4; codecs=&quot;avc1.4D401E, mp4a.40.2&quot;" data-layzr-src=""></video><div><h5>DJI Mini 4 Pro Two-Way Charging Hub</h5><p>The same Two-Way Charging Hub used for the DJI Mini 3 Series. It can charge a remote controller and three batteries sequentially. It can also be used as a mobile power source to charge remote controllers, smartphones, and other devices and can even store the batteries for convenient and secure carrying.</p></div></li><li tag="accessories-video2"><video muted="" name="media" data-layzr-poster="https://dji-official-fe.djicdn.com/dps/8762e584ef9c53e00f05738798875fb1.jpg"><source type="video/mp4; codecs=&quot;avc1.4D401E, mp4a.40.2&quot;" data-layzr-src=""></video><div><h5>DJI Mini 4 Pro Wide-Angle Lens <sup>[7]</sup></h5><p>Capture sweeping landscapes with the super-wide 100° FOV.</p></div></li><li tag="accessories-video3"><video muted="" name="media" data-layzr-poster="https://dji-official-fe.djicdn.com/dps/962c8a2f1cc95cdd96ad96b5f8ff6acf.png"><source type="video/mp4; codecs=&quot;avc1.4D401E, mp4a.40.2&quot;" data-layzr-src=""></video><div><h5>DJI Mini 4 Pro ND Filters Set (ND16/64/256) <sup>[7]</sup></h5><p>Adapt to strong lighting conditions with ND16/64/256 filters and always be ready for the perfect shot.</p></div></li></ul></div><div><div><div tag="accessories-left-video0"><h5 tag="accessories-video0">DJI RC 2</h5></div><div tag="accessories-left-video1"><h5 tag="accessories-video1">DJI Mini 4 Pro Two-Way Charging Hub</h5></div></div><div><div tag="accessories-center-video0"><h5 tag="accessories-video0">DJI Mini 4 Pro Wide-Angle Lens <sup>[7]</sup></h5></div><div tag="accessories-center-video1"><h5 tag="accessories-video1">DJI Mini 4 Pro ND Filters Set (ND16/64/256) <sup>[7]</sup></h5></div></div></div></div><div data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49356" data-component="9b9227eb" id="49356"><div><div><p data-aos="fade-up"><h3>See for Yourself</h3></p></div><div data-aos="fade-up" data-aos-delay="600"><div data-aos="fade-up" data-aos-delay="900"><h3>Get a feel for what it's like to own DJI Mini 4 Pro in advance.</h3><p>Click and drag the image to view.</p><ul><li>Unfolded</li></ul></div><div><h3>Take a closer look from every angle.</h3><p>Use your iOS camera to scan the QR code for an AR preview of DJI Mini 4 Pro.</p><ul><li>Unfolded</li></ul></div></div></div><div><div><p data-aos="none"><h3>See for Yourself</h3></p></div><div data-aos="none" data-aos-delay="600"><div data-aos="none" data-aos-delay="900"><h3>Get a feel for what it's like to own DJI Mini 4 Pro in advance.</h3><p>Click and drag the image to view.</p><ul><li>Unfolded</li></ul></div><div><h3>Take a closer look from every angle.</h3><p>Use your iOS camera to scan the QR code for an AR preview of DJI Mini 4 Pro.</p><ul><li>Unfolded</li></ul></div></div></div></div><div data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_49357" data-component="72ed9e4c" id="49357"><h2>Which camera drone is suitable for you?</h2></div><div data-hydration-on-demand="true" data-ga-category="ch/mini-4-pro_54602" id="54602"><div><p>Mini to the Max</p><div><ul><li>Under 249 g</li><li>4K/60fps HDR True Vertical Shooting</li><li>Omnidirectional Obstacle Sensing</li></ul><ul><li>Extended Battery Life</li><li>20km FHD Video Transmission</li><li>ActiveTrack 360°</li></ul></div><p><span>From&nbsp;</span><span>799 €</span><span><i></i></span></p></div><ul><li><label>Consumer Drones Comparison</label><a href="https://www.dji.com/ch/products/comparison-consumer-drones" target="_self"><span>Compare Now</span></a></li><li><label>DJI Care Refresh</label><a href="https://www.dji.com/ch/service/djicare-refresh" target="_self"><span>Learn More</span></a></li><li><label>DJI Fly</label><a href="https://www.dji.com/ch/dji-fly" target="_self"><span>Learn More</span></a></li><li><label>LightCut</label><a href="https://www.dji.com/ch/lightcut" target="_self"><span>Learn More</span></a></li></ul></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[F-35A has flown from a highway for the first time (107 pts)]]></title>
            <link>https://www.thedrive.com/the-war-zone/f-35a-has-flown-from-a-highway-for-the-first-time</link>
            <guid>37649353</guid>
            <pubDate>Mon, 25 Sep 2023 19:34:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.thedrive.com/the-war-zone/f-35a-has-flown-from-a-highway-for-the-first-time">https://www.thedrive.com/the-war-zone/f-35a-has-flown-from-a-highway-for-the-first-time</a>, See on <a href="https://news.ycombinator.com/item?id=37649353">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-id="page-content" data-og-area="article-blocks" id="incArticle"><p>Norway has become the first country to demonstrate the ability of the conventional takeoff and landing <a href="https://www.thedrive.com/the-war-zone/43722/750-f-35s-now-delivered-navy-to-put-some-of-its-oldest-test-models-into-storage" target="_blank" rel="noreferrer noopener">F-35A Joint Strike Fighter</a> to operate from a highway as part of an exercise in Finland. The U.S. Marine Corps has already shown its ability to use its short and vertical takeoff and landing <a href="https://www.thedrive.com/the-war-zone/the-f-35b-can-eject-its-pilot-automatically" target="_blank" rel="noreferrer noopener">capable F-35Bs</a> in this way, as <a href="https://www.thedrive.com/the-war-zone/f-35b-just-touched-down-on-the-old-pacific-coast-highway" target="_blank" rel="noreferrer noopener"><em>The War Zone</em> has previously reported</a>. </p><p>Suitable roadways offer air forces <a href="https://www.thedrive.com/the-war-zone/cockpit-view-of-flying-from-finlands-new-highway-runway" target="_blank" rel="noreferrer noopener">valuable alternative operating locations</a> in the event their main bases are struck or otherwise rendered unusable and a way to readily disperse aircraft to help reduce their vulnerability. The tactic is also valuable when to comes to complicating the enemy's targeting cycles and war planning. </p><figure data-og-block-area="article-blocks" data-og-block-nth="1" data-og-block-type="core/image"><span data-rawhtml="1">Norwegian F-35s taxi on a road in Finland. <em>Finnish Defense Forces</em> </span></figure><p>"This is a milestone, not only for the Norwegian Air Force, but also for the Nordic countries and for NATO," Major General Rolf Folland, Chief of the Royal Norwegian Air Force, <a href="https://www.forsvaret.no/en/news/press/norwegian-f-35-landed-on-a-highway-in-finland" target="_blank" rel="noreferrer noopener">said in a press release</a> today. "This demonstrates our ability to execute a concept of dispersal. Fighter jets are vulnerable on the ground, so by being able to use small airfields – and now motorways – [we can] increase our survivability in war."</p><figure data-og-block-area="article-blocks" data-og-block-nth="2" data-og-block-type="core/image"><span data-rawhtml="1">A Norwegian F-35A comes in to land on a highway in Finland. <em>Finnish Air Force</em> </span></figure><p>Norweigan F-35As have been training to conduct highway operations in Finland this week as part of the latest iteration of that country's annual Baana road base exercise, which kicked off on Monday. The jets were also <a href="https://www.thedrive.com/the-war-zone/41562/arctic-pit-stop-a-first-for-british-typhoon-fighter-jets" target="_blank" rel="noreferrer noopener">"hot pit" refueled</a> as part of the training, which means their engines remained running while they had fuel uploaded. This reduces the time required to get them back up in the air afterward and can further reduce vulnerability, as well as increase sortie rates during surges in operations. Sometimes crew changes can also occur. Just shutting down complex fighter aircraft can increase the chances that they will have serviceability issues starting up again.</p><figure data-og-block-area="article-blocks" data-og-block-nth="3" data-og-block-type="core/image"><span data-rawhtml="1">Finnish personnel hotpit refuel a Norwegian F-35A during Baana 23. <em>Finnish Defense Forces</em> </span></figure><p>For Baana 23, a section of Finland's Regional Road 551 between the towns of Karttula and Tervo in the southern end of the country has been turned into an impromptu air base. </p><figure data-og-block-area="article-blocks" data-og-block-nth="4" data-og-block-type="core/image"><span data-rawhtml="1">An annotated satellite image showing the stretch of Regional Road 551 in Finland where Baana 23 is taking place. <em>Google Earth</em> </span></figure><p>"The Air Force trains regularly operations from other than a home base to be capable of a quick dispersal across the country, when necessary," a <a href="https://puolustusvoimat.fi/en/-/1951206/air-force-exercise-baana-23-in-tervo" target="_blank" rel="noreferrer noopener">press release about the exercise</a> from the Finnish Defence Forces said. "Operation at road bases is part of the training of all Air Force pilots."</p><p>From the pictures and videos that have been released, no special measures appear to have been taken to enable Norway's F-35As to take off and land from Regional Road 551. Norwegian Joint Strike Fighters are somewhat unique in that they are the only ones in service today that have drag chutes. This feature, which is <a href="https://www.thedrive.com/the-war-zone/blank" target="_blank" rel="noreferrer noopener">also set to be incorporated</a> into <a href="https://www.thedrive.com/the-war-zone/43458/heres-how-finland-justified-its-decision-to-buy-64-f-35-stealth-fighters" target="_blank" rel="noreferrer noopener">future Finnish</a> and <a href="https://www.thedrive.com/the-war-zone/canada-closes-deal-for-88-f-35s-to-finally-replace-its-aging-cf-18s" target="_blank" rel="noreferrer noopener">Canadian F-35As</a>, is there to help the jets land safely in poor winter weather conditions. It also allows for less wear-and-tear on braking systems. This could be a relevant capability for road and other short-field operations, as well, but there is no indication this feature has been employed during Baana 23. The F-35's chute is packed into a stealthy fairing between its twin tails.</p><p>Finnish <a href="https://www.thedrive.com/the-war-zone/33855/more-than-half-of-finlands-f-18-hornets-take-part-in-an-elephant-walk-readiness-drill" target="_blank" rel="noreferrer noopener">F-18C/D Hornet fighters</a> and <a href="https://ilmavoimat.fi/documents/1951206/2016308/Finnish+Air+Force+Fact+Sheet+-+Pilatus+PC-12+NG+(JAN+18).pdf/37cd924e-0b91-4337-ae25-18277c5e7b1d/Finnish+Air+Force+Fact+Sheet+-+Pilatus+PC-12+NG+(JAN+18).pdf?t=1514888009000" target="_blank" rel="noreferrer noopener">PC-12NG</a> light utility aircraft, along with <a href="https://www.thedrive.com/the-war-zone/41562/arctic-pit-stop-a-first-for-british-typhoon-fighter-jets" target="_blank" rel="noreferrer noopener">Royal Air Force (RAF) Typhoons</a> from the United Kingdom, have also been taking part in Baana 23. This exercise also marks the first time RAF Typhoons have operated from roads in Finland.</p><p>The idea of using roads as temporary runways, especially in the event that established air bases are taken out, or if the risk of that happening is high, is not new. As noted, Baana is an annual exercise and Finland <a href="https://www.thedrive.com/the-war-zone/cockpit-view-of-flying-from-finlands-new-highway-runway" target="_blank" rel="noreferrer noopener">has a long history</a> of being prepared to do just this. Many other air forces, <a href="https://www.thedrive.com/the-war-zone/6237/saabs-viggen-could-stick-a-landing-and-takeoff-again-like-no-other-fighter" target="_blank" rel="noreferrer noopener">including the one neighboring Sweden</a>, also regularly train to conduct road operations.</p><p>At the same time, this tactic is very much back in vogue, <a href="https://www.thedrive.com/the-war-zone/mq-9-reaper-has-operated-from-a-highway-for-the-first-time" target="_blank" rel="noreferrer noopener">including in</a> the <a href="https://www.thedrive.com/the-war-zone/f-35b-just-touched-down-on-the-old-pacific-coast-highway" target="_blank" rel="noreferrer noopener">United States</a> and other countries in NATO. Finland just became a <a href="https://www.nato.int/cps/en/natohq/news_213448.htm" target="_blank" rel="noreferrer noopener">member of this alliance in April</a> of this year after decades of having a standing policy of neutrality. Norway and the United Kingdom, the other Baana 23 participants, are also members.</p><figure data-og-block-area="article-blocks" data-og-block-nth="5" data-og-block-type="core/image"><span data-rawhtml="1"><em>Finnish Defense Forces</em> </span></figure><p>Within NATO, road operations <a href="https://www.thedrive.com/the-war-zone/41634/russia-threat-could-see-u-k-fighter-jets-operating-from-highways-once-again" target="_blank" rel="noreferrer noopener">are receiving renewed attention</a> in no small part <a href="https://www.thedrive.com/the-war-zone/russia-lashes-out-after-finland-officially-announces-plans-to-join-nato" target="_blank" rel="noreferrer noopener">due to concerns about Russian aggression</a> that have only been magnified by that country's all-out invasion of Ukraine. This was also what pushed Finland to join the alliance. It has prompted Sweden <a href="https://foreignpolicy.com/2023/09/18/hungary-sweden-turkey-orban-nato/" target="_blank" rel="noreferrer noopener">to push for membership</a>, as well. Finland and Sweden and also part of a new Nordic air defense pact that also includes Denmark and Norway, which you read more about <a href="https://www.thedrive.com/the-war-zone/nordic-air-defense-pact-combines-forces-of-hundreds-of-fighter-aircraft" target="_blank" rel="noreferrer noopener">here</a>.</p><p>"This [Baana 23] is also a demonstration of the exciting development we have initiated within the military-air cooperation in the Nordic region," Norway's Major General Folland also said today.</p><figure data-og-block-area="article-blocks" data-og-block-nth="6" data-og-block-type="core/image"><span data-rawhtml="1">A member of Finland's armed forces wearing an F-35 patch stands in front of two Norwegian Joint Strike Fighters during Baana 23. <em>Finnish Defense Forces</em> </span></figure><div data-og-block-area="article-blocks" data-og-block-nth="6" data-og-block-type="core/embed"><p itemprop="associatedMedia"><iframe frameborder="0" src="https://www.youtube.com/embed/ANfbH86-Rg8?feature=oembed&amp;rel=0&amp;enablejsapi=1" allowfullscreen=""></iframe></p></div><p>As mentioned at the top of this story, the Marines <a href="https://www.thedrive.com/the-war-zone/f-35b-just-touched-down-on-the-old-pacific-coast-highway" target="_blank" rel="noreferrer noopener">just demonstrated earlier this year</a> the ability to conduct operations from roadways using its F-35Bs, which have short and vertical takeoff and landing capabilities not found on the A variant. The service has also shown that it can make use of carrier-based F-35Cs from temporary airstrips ashore, even ones with short runways, in combination <a href="https://www.thedrive.com/the-war-zone/38068/marine-corps-f-35cs-make-first-arrested-landings-at-an-expeditionary-airfield" target="_blank" rel="noreferrer noopener">with portable arrestor gear</a>. F-35As also have arrestor hooks, but they are less robust and used only in emergencies.</p><figure data-og-block-area="article-blocks" data-og-block-nth="7" data-og-block-type="core/image"><span data-rawhtml="1">A member of the Finnish Defense Forces guards an RAF Typhoon as it is refueled during Baana 23. <em>Crown Copyright</em> </span></figure><p>All told, Norway's F-35As may have touched down on a highway for the first time this week, but this will certainly not be the last time Joint Strike Fighters make use of roads as temporary airstrips.</p><p><em><em>Contact the author: joe@thedrive.com</em></em>  </p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Linux from Scratch Version 12.0 (140 pts)]]></title>
            <link>https://www.linuxfromscratch.org/lfs/view/stable/</link>
            <guid>37648808</guid>
            <pubDate>Mon, 25 Sep 2023 18:56:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.linuxfromscratch.org/lfs/view/stable/">https://www.linuxfromscratch.org/lfs/view/stable/</a>, See on <a href="https://news.ycombinator.com/item?id=37648808">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <div>
          
          <p>
            <h2>
              Version 12.0
            </h2>
          </p>
          <p>
            <h2>
              Published September 1st, 2023
            </h2>
          </p>
          <div>
              <p>
                <h3>
                  <span>Created by Gerard</span>
                  <span>Beekmans</span>
                </h3>
              </p>
              <p>
                <h3>
                  <span>Managing Editor: Bruce</span>
                  <span>Dubbs</span>
                </h3>
              </p>
            </div>
          <p>
              <a href="https://www.linuxfromscratch.org/lfs/view/stable/legalnotice.html">Copyright</a> © 1999-2023 Gerard
              Beekmans
            </p>
        </div>
        <hr>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Minum – A minimal Java web framework (152 pts)]]></title>
            <link>https://github.com/byronka/minum</link>
            <guid>37648098</guid>
            <pubDate>Mon, 25 Sep 2023 18:07:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/byronka/minum">https://github.com/byronka/minum</a>, See on <a href="https://news.ycombinator.com/item?id=37648098">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" id="user-content-minum-framework" dir="auto"><a href="#minum-framework">Minum Framework</a></h2>
<p dir="auto">Minum is a minimalistic experimental web framework demonstrating <a href="http://mcfunley.com/choose-boring-technology" rel="nofollow"><em>less is more</em></a></p>
<p dir="auto">For more detail on intentions, purpose, and benefits, see the
<a href="https://github.com/byronka/minum/blob/master/docs/development_handbook.md">development handbook</a>.</p>
<h2 tabindex="-1" id="user-content--quick-start" dir="auto"><a href="#-quick-start">🚀 </a><a href="https://github.com/byronka/minum/blob/master/docs/quick_start.md">Quick start</a></h2>
<h2 tabindex="-1" id="user-content-maven" dir="auto"><a href="#maven">Maven</a></h2>
<p dir="auto">Published at <a href="https://central.sonatype.com/artifact/com.renomad/minum" rel="nofollow">Maven Central Repository</a></p>
<h2 tabindex="-1" id="user-content-features" dir="auto"><a href="#features">Features:</a></h2>
<ul dir="auto">
<li>Secure TLS 1.3 HTTP/1.1 web server</li>
<li>In-memory database with disk persistence</li>
<li>Server-side templating</li>
<li>Logging framework</li>
<li>Testing framework</li>
<li>HTML parsing</li>
</ul>
<h2 tabindex="-1" id="user-content-size-comparison" dir="auto"><a href="#size-comparison">Size Comparison:</a></h2>
<p dir="auto">Compiled size: 150 kilobytes.</p>
<p dir="auto"><em>lines of production code (including required dependencies)</em></p>
<table>
<thead>
<tr>
<th>Minum</th>
<th>Javalin</th>
<th>Spring Boot</th>
</tr>
</thead>
<tbody>
<tr>
<td>3,757</td>
<td>255,384</td>
<td>1,085,405</td>
</tr>
</tbody>
</table>
<p dir="auto">See <a href="https://github.com/byronka/minum/blob/master/docs/size_comparisons.md">details</a></p>
<h2 tabindex="-1" id="user-content-performance" dir="auto"><a href="#performance">Performance:</a></h2>
<ul dir="auto">
<li>19,000 http responses per second by web server. <a href="https://github.com/byronka/minum/blob/master/docs/perf_data/response_speed_test.md">detail</a></li>
<li>2,000,000 updates per second to database. <a href="https://github.com/byronka/minum/blob/master/docs/perf_data/database_speed_test.md">detail</a></li>
<li>27,000 templates per second rendered. <a href="https://github.com/byronka/minum/blob/master/docs/perf_data/templateRenderTest.md">detail</a></li>
</ul>
<p dir="auto">See <a href="https://github.com/byronka/minum/blob/master/docs/perf_data/framework_perf_comparison.md">framework performance comparison</a></p>
<h2 tabindex="-1" id="user-content-documentation" dir="auto"><a href="#documentation">Documentation:</a></h2>
<ul dir="auto">
<li><a href="https://github.com/byronka/minum/blob/master/docs/development_handbook.md">Development handbook</a></li>
<li><a href="https://byronka.github.io/javadoc/" rel="nofollow">Javadocs</a></li>
<li><a href="https://byronka.github.io/site/" rel="nofollow">Site report</a></li>
<li><a href="https://byronka.github.io/pit-reports" rel="nofollow">Mutation test report</a></li>
</ul>
<h2 tabindex="-1" id="user-content-example-projects-demonstrating-usage" dir="auto"><a href="#example-projects-demonstrating-usage">Example projects demonstrating usage:</a></h2>
<p dir="auto">See the following links for sample projects that use this framework.</p>
<ul dir="auto">
<li><a href="https://github.com/byronka/minum_usage_example_mvn">Example</a></li>
</ul>
<p dir="auto">This is a good example to see a basic project with various functionality. It
shows many of the typical use cases of the Minum framework.</p>
<ul dir="auto">
<li><a href="https://github.com/byronka/minum_usage_example_smaller">Smallest-possible</a></li>
</ul>
<p dir="auto">This project is valuable to see the minimal-possible application that can
be made.  This might be a good starting point for use of Minum on a new project.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Unity's oldest community announces dissolution (602 pts)]]></title>
            <link>http://farewell.bostonunitygroup.com/</link>
            <guid>37648068</guid>
            <pubDate>Mon, 25 Sep 2023 18:05:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://farewell.bostonunitygroup.com/">http://farewell.bostonunitygroup.com/</a>, See on <a href="https://news.ycombinator.com/item?id=37648068">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<h2>
To the BUG community:
</h2>

<p>
It is with a heavy heart that we are announcing Wednesday, September 27th as the date of <a href="https://www.meetup.com/b-u-g-boston-unity-group/events/296318684/?isFirstPublish=true">the final Boston Unity Group event</a>.
</p>

<p>
Founded in the summer of 2010 by Elliott Mitchell and Alex Schwartz, BUG was the first official Unity user group in the world. At that time the Unity game engine was still a relatively new technology that empowered creators with an accessible tool for shipping games on a variety of platforms. Over the last 13 years, BUG has hosted regular monthly meetups with networking events, technical lectures, panels, interviews, parties, demo nights, workshops and more. It's been a place for us to network, share our struggles, find and give help, and learn and grow together. The consistent growth of the BUG community spawned a new era of game development in Boston and beyond.
</p>

<p>
BUG's membership has grown from a few dozen to a few thousand, bringing together everyone from Boston's indies, hobbyists, AAA developers, AI researchers, museum exhibit designers, med-tech innovators, archeologists, automotive designers, software engineers, volumetric filmmakers, VR/XR game makers, educators and countless others. With growing membership our leadership team also grew. Jono Forbes, Graham Pentheny, and Chris Hart joined Elliott in organizing BUG's events and online presence. Unity lived up to its name, bringing together people with widely diverse backgrounds under a shared love for creating interactive technology.
</p>

<p>
From day one, BUG was enthusiastically sanctioned and supported by Unity and former CEO David Helgason. Unity provided logistical support, Pro license giveaways, workshops, presentations, sponsorships, speaking opportunities at Unite, and so much more. In those early days, David and Unity understood that fostering grassroots groups of independent developers was essential to planting the seeds of Unity's long-term growth and building toward their goal of democratizing game development for people from all walks of life.
</p>

<p>
We are immensely grateful to David and all the Unity employees who have given their time and effort to support BUG and the broader Unity community.
</p>

<p>
Over the past few years, Unity has unfortunately shifted its focus away from the games industry and away from supporting developer communities. Following the IPO, the company has seemingly put profit over all else, with several acquisitions and layoffs of core personnel. Many key systems that developers need are still left in a confusing and often incomplete state, with the messaging that advertising and revenue matter more to Unity than the functionality game developers care about.
</p>

<p>
Recently, Unity unveiled a set of unthinkably hostile terms of service and pricing changes for its users. The resounding, unequivocal condemnation from the games industry was unprecedented and Unity had no choice but to rescind some of the most egregious changes. Even with these new concessions, the revised pricing model disproportionately affects the success of indie studios in our community.
</p>

<p>
More importantly, we've seen how easily and flippantly an executive-led business decision can risk bankrupting the studios we've worked so hard to build, threaten our livelihoods as professionals, and challenge the longevity of our industry. The Unity of today isn't the same company that it was when the group was founded, and the trust we used to have in the company has been completely eroded. 
</p>

<p>
Since our launch in 2010, the focus of BUG has been first and foremost about supporting developers, not the Unity company. As members of the broader Boston game developer community, we feel our efforts as organizers would be better spent creating opportunities for everyone, not just Unity users. Please join us as we all work together in the larger local development community to continue to host events and presentations for all to enjoy.
</p>

<p>
We encourage our members to join the <a href="http://www.meetup.com/bostongamedev">Boston Game Dev meetup group</a> where they can continue to connect with local developers using Unity, Unreal, Godot and everything in between.
</p>

<p>
The <a href="http://www.youtube.com/bostonunitygroup">Boston Unity Group Youtube channel</a> will continue to host recordings of past events.
</p>

<p>
The final BUG meeting will be a social event next Wednesday, September 27th, held on Zoom. We'd like to take the opportunity to thank our community members for their contributions and active support, celebrate the last 13 years, and discuss Boston Game Dev and other groups our members can join to support their endeavors.
</p>

<p>
At the end of the day, it was the thousands of people - participants, speakers, and organizers - who made BUG what it was. As our communities and industry evolve, let's continue to support each other and find new ways to unite.
</p>

<p>
Much love,<br>
Elliott, Chris, and Graham<br>
<i>Boston Unity Group Organizers</i>
</p>

</div></div>]]></description>
        </item>
    </channel>
</rss>