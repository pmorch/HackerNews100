<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 23 Jul 2023 05:00:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Why SQLite does not use Git (2018) (117 pts)]]></title>
            <link>https://www.sqlite.org/draft/matrix/whynotgit.html</link>
            <guid>36830813</guid>
            <pubDate>Sat, 22 Jul 2023 23:04:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.sqlite.org/draft/matrix/whynotgit.html">https://www.sqlite.org/draft/matrix/whynotgit.html</a>, See on <a href="https://news.ycombinator.com/item?id=36830813">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<div>
<p>
Why SQLite Does Not Use Git
</p>


</div>




<h2 id="introduction"><span>1. </span>Introduction</h2>

<p>
SQLite does not use the
<a href="https://git-scm.org/">Git</a> version control system.
SQLite uses
<a href="https://fossil-scm.org/">Fossil</a> instead, which is a
version control system that was specifically designed
and written to support SQLite.

</p><p>
People often wonder why SQLite does not use the
<a href="https://git-scm.org/">Git</a> version control system like everybody
else.
This article attempts to answer that question.  Also,
in <a href="#getthecode">section 3</a>, 
this article provides hints to Git users
about how they can easily access the SQLite source code.

</p><p>
This article is <u>not</u> a comparison between Fossil
and Git.  See
<a href="https://fossil-scm.org/fossil/doc/trunk/www/fossil-v-git.wiki">https://fossil-scm.org/fossil/doc/trunk/www/fossil-v-git.wiki</a>
for one comparison of the two systems.  Other third-party 
comparisons are available as well - use a search engine to find them.

</p><p>
This article is <u>not</u> advocating that you switch your projects
away from Git.  You can use whatever version control system you want.
If you are perfectly happy with Git, then by all means keep using
Git.  But, if Git is not working well for you or you are wondering 
if it can be improved or if there is something better,
then maybe try to understand the perspectives presented below.
Use the insights thus obtained to find or write a different and
better version control system, or to just make
improvements to Git itself.

</p><h2 id="edits"><span>1.1. </span>Edits</h2>

<p>
This article has been revised multiple times in an attempt
to improve clarity, address concerns and misgivings,
and to fix errors.
The complete edit history for this document can be seen at
<a href="https://sqlite.org/docsrc/finfo/pages/whynotgit.in">https://sqlite.org/docsrc/finfo/pages/whynotgit.in</a>.
(Usage hint: Click on any two nodes of the graph for a diff.
BTW, are there any Git web interfaces that offers a similar
capability?)

</p><h2 id="a_few_reasons_why_sqlite_does_not_use_git"><span>2. </span>A Few Reasons Why SQLite Does Not Use Git</h2>

<h2 id="git_does_not_provide_good_situational_awareness"><span>2.1. </span>Git does not provide good situational awareness</h2>

<p>
When I want to see what has been happening on SQLite, I visit the
<a href="https://sqlite.org/src/timeline">timeline</a> and in a single
screen I see a summary of the latest changes, on all branches.
In a few clicks, I can drill down as much detail as I
want.  I can even do this from a phone.

</p><p>
GitHub and GitLab offer nothing comparable.  The closest I have
found is the <a href="https://github.com/sqlite/sqlite/network">network</a>,
which is slow to render (unless it is already cached), does not 
offer nearly as much details, and scarcely works at all on mobile.
The <a href="https://github.com/sqlite/sqlite/commits/master">commits</a> view
of GitHub provides more detail, renders quickly,
and works on mobile, but only shows a single branch at a time,
so I cannot easily know if I've seen all of the recent changes.
And even if GitHub/GitLab did offer better interfaces, both are
third-party services.  They are not a core part of Git.  Hence,
using them introduces yet another dependency into the project.

</p><p>
I am told that Git users commonly install third-party graphical
viewers for Git, many of which do a better job of showing recent 
activity on the project.  That is great, but these are still
more third-party applications that must be installed and
managed separately.  Many are platform-specific.  (One of the
better ones, <a href="https://gitup.co/">GitUp</a>, only works on Mac, for
example.)  All require that you first sync your local repository
then bring up their graphical interface on your desktop.  And
even with all that, I still cannot see what I typically want to 
see without multiple clicks.  Checking on project status from
a phone while away from the office is not an option.

</p><h2 id="git_makes_it_difficult_to_find_successors_descendents_of_a_check_in"><span>2.2. </span>Git makes it difficult to find successors (descendents)
of a check-in</h2>

<p>
Git lets you look backwards in time, but not forwards.
Given some historical check-in, you can see what came before,
but it is challenging see what came next.

</p><p>
In contrast, Fossil offers helpful displays such as
<a href="https://sqlite.org/src/timeline?df=major-release">https://sqlite.org/src/timeline?df=major-release</a>
to show all check-ins that are derived from the most
recent major release.

</p><ul>
<li>
<a href="https://sqlite.org/src/timeline?df=major-release">
All SQLite check-ins derived from the most recent major release</a>
</li></ul>


<p>It is not impossible to find the descendents of a check-in
in Git.  It is merely difficult.  For example,
there is a 
<a href="https://stackoverflow.com/questions/27960605/find-all-the-direct-descendants-of-a-given-commit#27962018">stackoverflow page</a>
showing the command sequence for finding the descendents of a check-in
in unix:

</p><div><pre>git rev-list --all --parents | grep "<a name="R-20568-61871-33672-25407-24732-44471-23157-56477"></a><span color="blue"><b>
<a href="https://www.sqlite.org/draft/matrix/matrix_dwhynotgit.html#R-20568-61871-33672-25407-24732-44471-23157-56477">R-20568-61871</a>:[</b></span><span color="red">.</span>
<span color="blue"><b>]</b></span>
\{40\}.*<parent_sha1>.*" | awk '{print $1}'
</parent_sha1>
</pre></div>

<p>
But this is not the same thing.  The command above gives
a list of descendents without showing the branching structure, which
is important for understanding what happened.  And the command only works
if you have a local clone of the repository; finding the descendents of
a check-in is not something you can do with web interfaces such
as GitHub or GitLab.

</p><p>
This is not really about just finding the descendents of a check-in
from time to time.  The fact that descendents are readily available in
Fossil means that the information pervades the web pages provided by
Fossil.  One example: Every Fossil check-in information page
(<a href="https://www.sqlite.org/src/info/ec7addc87f97bcff">example</a>) shows
a small "Context" graph of the immediate predecessor and successors 
to that check-in.  This helps the user maintain better situational
awareness, and it provides useful capabilities, such as the ability
click forward to the next check-in in sequence.  Another example:
Fossil easily shows the context around a specific check-in
(<a href="https://www.sqlite.org/src/timeline?c=2018-03-16&amp;n=10">example</a>)
which again helps to promote situational awareness and a deeper
understanding of what is happening in the code.  There is a
<a href="https://fossil-scm.org/fossil/doc/trunk/www/webpage-ex.md">whole page of additional examples</a>
in the <a href="https://fossil-scm.org/fossil">Fossil documentation</a>.

</p><p>
All of the above is theoretically possible with Git, given the right extensions
and tools and using the right commands.  But it is not easy to do,
and so it rarely gets done.  Consequently, developers have less awareness
of what is happening in the code.

</p><h2 id="the_mental_model_for_git_is_needlessly_complex"><span>2.3. </span>The mental model for Git is needlessly complex</h2>

<p>
The complexity of Git
distracts attention from the software under development.  A user of Git
needs to keep all of the following in mind:
</p><ol type="a">
<li> The working directory
</li><li> The "index" or staging area
</li><li> The local head
</li><li> The local copy of the remote head
</li><li> The actual remote head
</li></ol>
<p>
Git has commands (and/or options on commands) for moving and
comparing content between all of these locations. 

</p><p>In contrast,
Fossil users only need to think about their working directory and
the check-in they are working on.  That is 60% less distraction.
Every developer has a finite number of brain-cycles.  Fossil
requires fewer brain-cycles to operate, thus freeing up 
intellectual resources to focus on the software under development.

</p><p>One user of both Git and Fossil
<a href="https://news.ycombinator.com/item?id=16806955">writes in HN</a>:

</p><blockquote><i>
Fossil gives me peace of mind that I have everything ... synced to 
the server with a single command....
I never get this peace of mind with git.
</i></blockquote>

<h2 id="git_does_not_track_historical_branch_names"><span>2.4. </span>Git does not track historical branch names</h2>

<p>
Git keeps the complete DAG of the check-in sequence.  But branch
tags are local information that is not synced and not retained
once a branch closes.
This makes review of historical
branches tedious.

</p><p>
As an example, suppose a customer asks you:
"What ever became of that 'prefer-coroutine-sort-subquery' branch
from two years ago?"
You might try to answer by consulting the history in
your version control system, thusly:

</p><ul>
<li><b>GitHub:</b> <a href="https://github.com/sqlite/sqlite/commits/prefer-coroutine-sort-subquery">https://github.com/sqlite/sqlite/commits/prefer-coroutine-sort-subquery</a>
</li><li><b>Fossil:</b> <a href="https://sqlite.org/src/timeline?r=prefer-coroutine-sort-subquery">https://sqlite.org/src/timeline?r=prefer-coroutine-sort-subquery</a>
</li></ul>

<p>
The Fossil view clearly shows that the branch was eventually merged back into
trunk.  It shows where the branch started, and it shows two occasions where changes
on trunk were merged into the branch.  GitHub shows none of this.  In fact, the
GitHub display is mostly useless in trying to figure out what happened.

</p><p>
Many readers have recommended various third-party GUIs for Git that
might do a better job of showing historical development activity.  Maybe
some of them do work better than native Git and/or GitHub, though they
will all be hampered by the fact that Git does not preserve historical
branch names across syncs.  And even if those other tools are better,
the fact that it is necessary to go to a third-party tool to get the information
desired does not speak well of the core system.

</p><h2 id="git_requires_more_administrative_support"><span>2.5. </span>Git requires more administrative support</h2>

<p>
Git is complex software.
One needs an installer of some kind to put Git on a developer
workstation, or to upgrade to a newer version of Git.
Standing up a Git server is non-trivial, and so most developers
use a third-party service such as GitHub or GitLab,
and thus introduce additional dependencies.

</p><p>
In contrast, Fossil is a single standalone binary which is
installed by putting it on $PATH.  That one binary contains all
the functionality of core Git and also GitHub and/or GitLab.  It
manages a community server with wiki, bug tracking, and forums, 
provides packaged downloads for consumers, login managements, 
and so forth, with no extra software required.  Standing up a
community server for Fossil takes minutes.  And Fossil is efficient.
A Fossil server will run fine on a $5/month VPS or a Raspberry Pi,
whereas GitLab and similar require beefier hardware.

</p><p>
Less administration means that programmers spend more time working
on the software (SQLite in this case) and less time fussing with
the version control system.

</p><h2 id="git_provides_a_poor_user_experience"><span>2.6. </span>Git provides a poor user experience</h2>

<p>The following <a href="https://xkcd.com/1597/">https://xkcd.com/1597/</a> cartoon is an
exaggeration, yet hits close to home:

</p><p>
<img src="https://www.fossil-scm.org/fossil/doc/trunk/www/xkcd-git.gif">

</p><p>Let's be real.  Few people dispute that Git provides
a suboptimal user experience.  A lot of 
the underlying implementation shows through into the user
interface.  The interface is so bad that there is even a
parody site that generates
<a href="https://git-man-page-generator.lokaltog.net/">fake git man pages</a>.

</p><p>Designing software is hard.  It takes a lot of focus.
A good version control system should provide the developer with
assistance, not frustration.  Git has gotten better in this
regard over the past decade, but it still has a long way to go.

<a name="getthecode"></a>
</p><h2 id="a_git_user_s_guide_to_accessing_sqlite_source_code"><span>3. </span>A Git-User's Guide To Accessing SQLite Source Code</h2>

<p>
If you are a devoted Git user, you can still easily access SQLite.  
This section gives some hints on how to do so.

</p><h2 id="the_official_github_mirror"><span>3.1. </span>The Official GitHub Mirror</h2>

<p>
As of 2019-03-20, there is now an 
<a href="https://github.com/sqlite/sqlite">official Git mirror</a> of the
SQLite sources on GitHub.

</p><p>The mirror is an incremental export of the 
<a href="https://sqlite.org/src/timeline">canonical Fossil repository</a> for
SQLite.  A cron-job updates the GitHub repository once an hour.
This is a one-way, read-only code mirror.  No pull requests or 
changes are accepted via GitHub.  The GitHub repository merely copies
the content from the Fossil repository.  All changes are input via
Fossil.

</p><p>
The hashes that identify check-ins and files on the Git mirror are
different from the hashes in Fossil.  There are many reasons for
this, chief among them that Fossil uses a SHA3-256 hash whereas
Git uses a SHA1 hash.  During export, the original Fossil hash for
each check-in is added as a footer to check-in comments.  To avoid
confusion, always use the original Fossil hash, not the Git hash,
when referring to SQLite check-ins.

</p><h2 id="web_access"><span>3.2. </span>Web Access</h2>

<p>
The <a href="https://sqlite.org/src/timeline">SQLite Fossil Repository</a> contains links
for downloading  a Tarball, ZIP Archive, or <a href="https://www.sqlite.org/draft/matrix/sqlar.html">SQLite Archive</a> for any
historical version of SQLite.  The URLs for these downloads are
simple and can be incorporated easily into automated tools.  The format is:

</p><blockquote>
<tt>https://sqlite.org/src/tarball/</tt><i>VERSION</i><tt>/sqlite.tar.gz</tt>
</blockquote>

<p>
Simply replace <i>VERSION</i> with some description of the version to be
downloaded.  The <i>VERSION</i> can be a prefix of the cryptographic hash
name of a specific check-in, or the name of a branch (in which case the
most recent version of the branch is fetched) or a tag for a specific
check-in like "version-3.23.1":

</p><blockquote>
<tt>https://sqlite.org/src/tarball/version-3.23.1/sqlite.tar.gz</tt>
</blockquote>


<p>To get the latest release, use "release"
for <i>VERSION</i>, like this:

</p><blockquote>
<tt>https://sqlite.org/src/tarball/release/sqlite.tar.gz</tt>
</blockquote>

<p>
To get the latest trunk check-in, us "trunk" for <i>VERSION</i>:

</p><blockquote>
<tt>https://sqlite.org/src/tarball/trunk/sqlite.tar.gz</tt>
</blockquote>

<p>
And so forth.
For ZIP archives and SQLite Archives, simply change the "/tarball/" element
into either "/zip/" or "/sqlar/", and maybe also change the name of the
download file to have a ".zip" or ".sqlar" suffix.

</p><h2 id="fossil_access"><span>3.3. </span>Fossil Access</h2>

<p>
Fossil is easy to install and use.  Here are the steps for unix.
(Windows is similar.)

</p><ol>
<li>
Download the self-contained Fossil executable from
<a href="https://fossil-scm.org/fossil/uv/download.html">https://fossil-scm.org/fossil/uv/download.html</a> and put the executable
somewhere on your $PATH.
</li><li><tt>mkdir ~/fossils</tt>
</li><li><tt>fossil clone https://sqlite.org/src ~/fossils/sqlite.fossil</tt>
</li><li><tt>mkdir ~/sqlite; cd ~/sqlite</tt>
</li><li><tt>fossil open ~/fossils/sqlite.fossil</tt>
</li></ol>

<p>
At this point you are ready to type "<tt>./configure; make</tt>"
(or on Windows with MSVC, "<tt>nmake /f Makefile.msc</tt>").

</p><p>
To change your checkout to a different version of Fossil use
the "update" command:

</p><blockquote>
<tt>fossil update </tt><i>VERSION</i>
</blockquote>

<p>
Use "trunk" for <i>VERSION</i> to get the latest trunk version of SQLite.
Or use a prefix of a cryptographic hash name, or the name of some branch
or tag.  See
<a href="https://fossil-scm.org/fossil/doc/trunk/www/checkin_names.wiki">https://fossil-scm.org/fossil/doc/trunk/www/checkin_names.wiki</a> for more
suggestions on what names can be used for <i>VERSION</i>.

</p><p>
Use the "<tt>fossil ui</tt>" command from within the ~/sqlite checkout to
bring up a local copy of the website.

</p><p>
Additional documentation on Fossil can be found at
<a href="https://fossil-scm.org/fossil/doc/trunk/www/permutedindex.html">https://fossil-scm.org/fossil/doc/trunk/www/permutedindex.html</a>

</p><p>
Do not be afraid to explore and experiment.
Without a log-in you won't be able to
push back any changes you make, so you cannot damage the project.

</p><h2 id="verifying_source_code_integrity"><span>3.4. </span>Verifying Source Code Integrity</h2>

<p>
If you need to verify that the SQLite source code that you have is
authentic and has not been modified in any way (perhaps by an adversary)
that can be done using a few simple command-line tools.  At the root 
of the SQLite source tree is a file named "manifest".  The manifest 
file contains the name of every other file in the source tree together 
with either a SHA1 or SHA3-256 hash for that file.  (SHA1 is used for
older files and SHA3-256 for newer files.)  You can write a
script to extract these hashes and verify them against the source code 
files.  The hash name for the check-in is just the SHA3-256 hash of the
"manifest" file itself, possibly with the last line omitted if the
last line begins with "# Remove this line..."

</p><h2 id="see_also"><span>4. </span>See Also</h2>

<p>Other pages that talk about Fossil and Git include:
</p><ul>
<li><p><a href="https://fossil-scm.org/fossil/doc/trunk/www/fossil-v-git.wiki">Fossil vs. Git</a>
</p></li><li><p><a href="https://www.fossil-scm.org/fossil/doc/trunk/www/quotes.wiki">What others say about Fossil and Git</a>
</p></li></ul>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Amsterdam bans cruise ships (130 pts)]]></title>
            <link>https://www.bbc.com/news/world-europe-66264226</link>
            <guid>36829854</guid>
            <pubDate>Sat, 22 Jul 2023 20:57:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bbc.com/news/world-europe-66264226">https://www.bbc.com/news/world-europe-66264226</a>, See on <a href="https://news.ycombinator.com/item?id=36829854">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><main id="main-content" data-testid="main-content"><article><header></header><div data-component="image-block"><figure><p><span><picture><source srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg.webp 240w, https://ichef.bbci.co.uk/news/320/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg.webp 320w, https://ichef.bbci.co.uk/news/480/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg.webp 480w, https://ichef.bbci.co.uk/news/624/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg.webp 624w, https://ichef.bbci.co.uk/news/800/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg.webp 800w, https://ichef.bbci.co.uk/news/976/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg.webp 976w" type="image/webp"><img alt="Passenger Terminal Amsterdam (Cruise Port) in the Eastern Docklands of Amsterdam." srcset="https://ichef.bbci.co.uk/news/240/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg 240w, https://ichef.bbci.co.uk/news/320/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg 320w, https://ichef.bbci.co.uk/news/480/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg 480w, https://ichef.bbci.co.uk/news/624/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg 624w, https://ichef.bbci.co.uk/news/800/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg 800w, https://ichef.bbci.co.uk/news/976/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg 976w" src="https://ichef.bbci.co.uk/news/976/cpsprodpb/D261/production/_130475835_gettyimages-459769573.jpg" width="976" height="549" loading="eager"></picture></span><span role="text"><span>Image source, </span>Getty Images</span></p><figcaption><span>Image caption, </span><p>A passenger terminal in Amsterdam's docklands</p></figcaption></figure></div><div data-component="text-block"><p><b>Amsterdam's council has banned cruise ships from the city centre as the Dutch capital tries to limit visitor numbers and curb pollution.</b></p></div><div data-component="text-block"><p>Politicians said the vessels were not in line with the city's sustainable ambitions.</p></div><div data-component="text-block"><p>It means the central cruise terminal on the River IJ near Amsterdam's main train station will close.</p></div><div data-component="text-block"><p>It is the latest measure to clamp down on mass tourism in the city.</p></div><div data-component="text-block"><p>Cruise ships have become a symbol of the problem, with more than 100 mooring in the capital every year.</p></div><div data-component="text-block"><p>In March <a href="https://www.bbc.co.uk/news/world-europe-65107405">the city launched an online campaign urging young British men</a> considering holding their bachelor parties in Amsterdam to stay away.</p></div><div data-component="text-block"><p>Amsterdam has become a victim of its own popularity, attracting 20 million annual visitors - some drawn by its party city reputation.</p></div><div data-component="text-block"><p>"Cruise ships in the centre of the city don't fit in with Amsterdam's task of cutting the number of tourists," said Ilana Rooderkerk of the liberal D66 party, which runs the city along with the Labour party and environmentalists. </p></div><div data-component="text-block"><p>Ms Rooderkerk recently compared cruise tourists to a type of "plague of locusts" descending all at once on the city. </p></div><div data-component="text-block"><p>Other Amsterdam officials have baulked at that kind of language. But Mayor Femke Halsema complained last year that cruise tourists were let loose for a couple of hours, ate at international chains and had no time to visit a museum, consuming the city but doing little for it.</p></div><div data-component="text-block"><p>The other key reason for removing cruise ships is to lower air pollution levels in Amsterdam. A 2021 study of one big cruise ship found that <a href="https://ce.nl/wp-content/uploads/2021/05/CE_Delft_210101_Emissions_of_the_Marella_Discovery_Def.pdf">it had produced the same levels of nitrogen oxides (NOx) in one day as 30,000 trucks</a>.</p></div><div data-component="text-block"><p>Other mooring sites away from the city centre have been under consideration for some time but no decision has yet been taken.</p></div><div data-component="text-block"><p>In a separate development, Amsterdam has announced plans to beef up night-time culture for young people. </p></div><div data-component="text-block"><p><a href="https://www.amsterdam.nl/nieuws/nieuwsoverzicht/miljoen-nacht/">The city has outlined its aim</a> to find nightclub locations such as disused tunnels and garages to develop the talent of "creative young people who want to organise something at night".</p></div><section data-component="links-block"><p><h2>More on this story</h2></p></section></article></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Egregoria: 3D City Builder without a grid (216 pts)]]></title>
            <link>https://github.com/Uriopass/Egregoria</link>
            <guid>36829374</guid>
            <pubDate>Sat, 22 Jul 2023 20:07:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/Uriopass/Egregoria">https://github.com/Uriopass/Egregoria</a>, See on <a href="https://news.ycombinator.com/item?id=36829374">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/Uriopass/Egregoria/blob/master/assets/screen2.jpg"><img src="https://github.com/Uriopass/Egregoria/raw/master/assets/screen2.jpg" alt="Screenshot of Egregoria 1"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Uriopass/Egregoria/blob/master/assets/screen3.jpg"><img src="https://github.com/Uriopass/Egregoria/raw/master/assets/screen3.jpg" alt="Screenshot of Egregoria 2"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Uriopass/Egregoria/blob/master/assets/screen5.jpg"><img src="https://github.com/Uriopass/Egregoria/raw/master/assets/screen5.jpg" alt="Screenshot of Egregoria 3"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Uriopass/Egregoria/blob/master/assets/screen1.jpg"><img src="https://github.com/Uriopass/Egregoria/raw/master/assets/screen1.jpg" alt="Screenshot of Egregoria 3"></a></p>
<p dir="auto"><a href="#"><img src="https://github.com/Uriopass/Egregoria/workflows/rust-build/badge.svg" alt="Build status"></a>
<a href="https://discord.gg/CAaZhUJ" rel="nofollow"><img src="https://camo.githubusercontent.com/0c96c18dcc392f1fa17b6ce0ebcf8a799f0d27a90dd34172cd22d7195fb06d6b/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f3730393733303035373934393534343438383f6c6162656c3d646973636f7264" alt="Discord" data-canonical-src="https://img.shields.io/discord/709730057949544488?label=discord"></a></p>
<h2 tabindex="-1" dir="auto">Egregoria</h2>
<p dir="auto">Egregoria is an indie city builder, mostly inspired by Cities:Skylines.<br>
Each individual has its own thought model, meaning every action has its importance and influences the environment.<br>
Egregoria is focused on the socio-economical aspect of a city, with a logistics element.
The game is still in early development, but you can already play it and give some feedback through
<a href="https://github.com/Uriopass/Egregoria/issues">issues</a> or on <a href="https://discord.gg/CAaZhUJ" rel="nofollow">discord</a>.</p>
<p dir="auto">By being open source, the hope is to get more people involved in the development of the game.<br>
Mod support is wanted but the design has not been found yet.</p>
<h2 tabindex="-1" dir="auto">How to play</h2>
<p dir="auto">A small tutorial is available on the github wiki to get you started.</p>
<h2 tabindex="-1" dir="auto">Devblog</h2>
<p dir="auto">I keep a blog about Egregoria's development <a href="http://douady.paris/blog/index.html" rel="nofollow">here</a>.</p>
<h2 tabindex="-1" dir="auto">Building the project</h2>
<h3 tabindex="-1" dir="auto">Git LFS</h3>
<p dir="auto">This project uses Git LFS to track assets, therefore if you want to build your own copy you will need to install <a href="https://git-lfs.github.com/">Git LFS</a>.</p>
<p dir="auto">Once installed, you should be able to clone the repo and fetch the assets:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/Uriopass/Egregoria
cd Egregoria
git lfs pull"><pre>git clone https://github.com/Uriopass/Egregoria
<span>cd</span> Egregoria
git lfs pull</pre></div>
<h3 tabindex="-1" dir="auto">Windows/Mac</h3>
<p dir="auto">I personally use Windows 10 and Mac OS 10.11, and it compiles fine once the <a href="https://www.rust-lang.org/tools/install" rel="nofollow">rust toolchain is installed</a>.</p>

<p dir="auto">Don't forget to add the <code>--release</code> flag, otherwise the game will be very slow.<br>
Don't forget to pull the lfs files, otherwise the game will crash with a file not found error.</p>
<h3 tabindex="-1" dir="auto">Ubuntu/Debian on x11</h3>
<p dir="auto">There are a few libraries to install that some of my dependencies need:</p>
<div data-snippet-clipboard-copy-content="sudo apt-get install libasound2-dev libudev-dev pkg-config libx11-dev
cargo run --release"><pre><code>sudo apt-get install libasound2-dev libudev-dev pkg-config libx11-dev
cargo run --release
</code></pre></div>
<p dir="auto">Don't forget to add the <code>--release</code> flag, otherwise the game will be very slow.<br>
Don't forget to pull the lfs files, otherwise the game will crash with a file not found error.</p>
<p dir="auto">A GitHub Action tests the builds on Ubuntu.</p>
<h2 tabindex="-1" dir="auto">Why Egregoria ?</h2>
<p dir="auto">An Egregor is an autonomous psychic entity made up of, and influencing, the thoughts of a group of people.<br>
It represents emergence at its purest form, where individuals come together to become a collective force.</p>
<h2 tabindex="-1" dir="auto">Credits</h2>
<ul dir="auto">
<li><a href="https://github.com/dabreegster"><code>@dabreegster</code></a>: For inspiration on the map model</li>
<li>PBR Shaders are adapted from <a href="https://learnopengl.com/PBR/Theory" rel="nofollow">LearnOpenGL</a></li>
</ul>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Caltech Nobel laureate celebrates his 100th birthday, then gets back to work (330 pts)]]></title>
            <link>https://www.latimes.com/science/story/2023-07-21/caltech-nobel-laureate-rudy-marcus-turns-100-and-gets-back-to-work</link>
            <guid>36828811</guid>
            <pubDate>Sat, 22 Jul 2023 19:00:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.latimes.com/science/story/2023-07-21/caltech-nobel-laureate-rudy-marcus-turns-100-and-gets-back-to-work">https://www.latimes.com/science/story/2023-07-21/caltech-nobel-laureate-rudy-marcus-turns-100-and-gets-back-to-work</a>, See on <a href="https://news.ycombinator.com/item?id=36828811">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-element="story-body" data-subscriber-content=""> <p>Say you wake up on the morning of your 100th birthday, having achieved the pinnacle of recognition in your chosen field and the warm esteem of family, friends and colleagues. How would you celebrate the day ahead?</p><p>“Work,” quipped Caltech chemistry professor <a href="https://www.cce.caltech.edu/people/rudolph-a-rudy-marcus" target="_blank">Rudy Marcus</a> at a lunch in honor of his centenary Friday.</p><p>But the university where he’s been on the faculty for 45 years had other plans, so the Nobel laureate good-naturedly agreed to a symposium in his honor.</p><p>Generations of Marcus’ colleagues and former students gathered at <a href="https://www.athenaeumcaltech.com/" target="_blank">the Athenaeum</a>, Caltech’s faculty club, to celebrate a scientist who still reports to the book-lined office he has occupied on the Pasadena campus since 1978, and whose inquisitiveness and generous spirit remains undimmed.</p><div data-click="enhancement" data-align-center=""><figure> <picture>    <source type="image/webp" srcset="https://ca-times.brightspotcdn.com/dims4/default/afcff15/2147483647/strip/true/crop/3775x3022+0+0/resize/320x256!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 320w,https://ca-times.brightspotcdn.com/dims4/default/45f4569/2147483647/strip/true/crop/3775x3022+0+0/resize/568x455!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 568w,https://ca-times.brightspotcdn.com/dims4/default/c8d98e8/2147483647/strip/true/crop/3775x3022+0+0/resize/768x615!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 768w,https://ca-times.brightspotcdn.com/dims4/default/92fc706/2147483647/strip/true/crop/3775x3022+0+0/resize/1024x820!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 1024w,https://ca-times.brightspotcdn.com/dims4/default/bc25cb8/2147483647/strip/true/crop/3775x3022+0+0/resize/1200x961!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 1200w" sizes="100vw">     <img alt="Nobel laureate Rudy Marcus in his Caltech office, where he's a chemistry professor." srcset="https://ca-times.brightspotcdn.com/dims4/default/3e944a8/2147483647/strip/true/crop/3775x3022+0+0/resize/320x256!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 320w,https://ca-times.brightspotcdn.com/dims4/default/86c3606/2147483647/strip/true/crop/3775x3022+0+0/resize/568x455!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 568w,https://ca-times.brightspotcdn.com/dims4/default/fbcc916/2147483647/strip/true/crop/3775x3022+0+0/resize/768x615!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 768w,https://ca-times.brightspotcdn.com/dims4/default/0bcfd77/2147483647/strip/true/crop/3775x3022+0+0/resize/1024x820!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 1024w,https://ca-times.brightspotcdn.com/dims4/default/34986e5/2147483647/strip/true/crop/3775x3022+0+0/resize/1200x961!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg 1200w" sizes="100vw" width="1200" height="961" src="https://ca-times.brightspotcdn.com/dims4/default/34986e5/2147483647/strip/true/crop/3775x3022+0+0/resize/1200x961!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fcf%2F58%2F3753384e478987467fb71a6beda6%2Fimg-0442.jpg" decoding="async" loading="lazy">  </picture>  <div>      <p>(Corinne Purtill / Los Angeles Times)</p>   </div>  </figure></div><p>“He’s an excellent example of what it is to be a scientist: the curiosity, the energy, the enthusiasm and the excitement for figuring things out,” said <a href="https://www.anl.gov/profile/stephen-j-klippenstein" target="_blank"><u>Stephen Klippenstein</u></a>, a former doctoral student of Marcus’ who is now a theoretical chemist at Argonne National Laboratory.</p><p>“I don’t think I’ve ever heard him say a harsh word to anyone,” Klippenstein added, echoing others who described Marcus as a role model both in and out of the lab. “He leads by example: Work hard and solve hard problems.”</p><p>As a theoretical chemist, Marcus works with concepts rather than laboratory apparatus. He received <a href="https://www.nobelprize.org/prizes/chemistry/1992/summary/" target="_blank">his Nobel Prize</a> in 1992 for work on electron transfer reactions, a deceptively simple theory describing how electrons move between molecules in chemical reactions without breaking chemical bonds.</p><p>While experimental chemists produce compelling new results in the lab, Marcus seeks the elegant architecture that undergirds their findings.</p><div data-click="enhancement" data-align-right=""><figure> <picture>    <source type="image/webp" srcset="https://ca-times.brightspotcdn.com/dims4/default/188359e/2147483647/strip/true/crop/2690x4048+0+0/resize/320x482!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 320w,https://ca-times.brightspotcdn.com/dims4/default/69717e7/2147483647/strip/true/crop/2690x4048+0+0/resize/568x855!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 568w,https://ca-times.brightspotcdn.com/dims4/default/1f8573c/2147483647/strip/true/crop/2690x4048+0+0/resize/768x1156!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 768w,https://ca-times.brightspotcdn.com/dims4/default/57faed8/2147483647/strip/true/crop/2690x4048+0+0/resize/1024x1541!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 1024w,https://ca-times.brightspotcdn.com/dims4/default/22312bb/2147483647/strip/true/crop/2690x4048+0+0/resize/1200x1806!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 1200w" sizes="100vw">     <img alt="Jack Y. Zhang chats with Rudy Marcus during the Nobel laureate's 100th birthday celebration at Caltech." srcset="https://ca-times.brightspotcdn.com/dims4/default/1917cc6/2147483647/strip/true/crop/2690x4048+0+0/resize/320x482!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 320w,https://ca-times.brightspotcdn.com/dims4/default/55b6674/2147483647/strip/true/crop/2690x4048+0+0/resize/568x855!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 568w,https://ca-times.brightspotcdn.com/dims4/default/77ed181/2147483647/strip/true/crop/2690x4048+0+0/resize/768x1156!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 768w,https://ca-times.brightspotcdn.com/dims4/default/866348f/2147483647/strip/true/crop/2690x4048+0+0/resize/1024x1541!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 1024w,https://ca-times.brightspotcdn.com/dims4/default/4a0bb7e/2147483647/strip/true/crop/2690x4048+0+0/resize/1200x1806!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg 1200w" sizes="100vw" width="1200" height="1806" src="https://ca-times.brightspotcdn.com/dims4/default/4a0bb7e/2147483647/strip/true/crop/2690x4048+0+0/resize/1200x1806!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F75%2F6d%2F7a265dda43a7a3c1224020db5a48%2F1324895-sci-caltech-nobel-laureate-turns-100-05-mjc.jpg" decoding="async" loading="lazy">  </picture>  <div>   <p>Jack Y. Zhang, CEO and president of a pharmaceutical company, chats with Rudy Marcus, left, his former academic advisor, during the Nobel laureate’s 100th birthday celebration at Caltech.</p>   <p>(Myung J. Chun / Los Angeles Times)</p>   </div>  </figure></div><p>It’s an intellectual challenge that keeps him eager to return to his desk as his 11th decade begins. If anything, he said, his workload feels even more pressing as the sheer amount of intriguing experiments grows. </p><p>“There are all sorts of developments in the laboratory and all sorts of new techniques that have been produced,” he said Friday as well-wishers milled around his table at a pre-symposium lunch. “I have plenty of work to do, more than I can comfortably handle.”</p><p>Marcus still <a href="https://www.cce.caltech.edu/people/rudolph-a-rudy-marcus#publications-de1708b1-tab" target="_blank"><u>publishes</u></a> several research papers per year. The Office of Naval Research just renewed a grant he’s had since the 1950s.</p><p>Age has demanded some concessions. He walked to work each day from his house near the Pasadena campus until the age of 97, when the COVID-19 pandemic forced him to stop.</p><p>He hung up his skis at the age of 90, not because he couldn’t physically continue, but because it seemed unwise to do so.</p><p>“I’d love to ski, but I’d love not to break any bones,” he said. “Once people get hospitalized, for some that’s the beginning of the end, and there’s too much to do yet.”</p><p>Marcus’s work ethic is legendary, colleagues and family members said.</p><p>When his eldest son <a href="https://www.abdn.ac.uk/sll/people/profiles/a.marcus" target="_blank"><u>Alan Marcus</u></a>, a cultural historian and professor at the University of Aberdeen in Scotland, decided to shift to part-time work as his 65th birthday approached, “Dad said, ‘You’re such a slacker,’ ” the younger Marcus recalled with a laugh.</p><p>Marcus was married to Laura Hearne from 1949 until her death from multiple myeloma in 2003. Their sons Alan, Kenneth and Raymond all obtained doctoral degrees in history.</p><p>Marcus continued to teach until the age of 95, when he decided “enough is enough.”</p><p>“They should really have somebody who really knows something,” he said.</p><div data-click="enhancement" data-align-center=""><figure> <picture>    <source type="image/webp" srcset="https://ca-times.brightspotcdn.com/dims4/default/d27f165/2147483647/strip/true/crop/5394x3711+0+0/resize/320x220!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 320w,https://ca-times.brightspotcdn.com/dims4/default/4c5ce67/2147483647/strip/true/crop/5394x3711+0+0/resize/568x391!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 568w,https://ca-times.brightspotcdn.com/dims4/default/d39ea0e/2147483647/strip/true/crop/5394x3711+0+0/resize/768x529!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 768w,https://ca-times.brightspotcdn.com/dims4/default/a4e0a46/2147483647/strip/true/crop/5394x3711+0+0/resize/1024x705!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 1024w,https://ca-times.brightspotcdn.com/dims4/default/e3fe57a/2147483647/strip/true/crop/5394x3711+0+0/resize/1200x826!/format/webp/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 1200w" sizes="100vw">     <img alt="Nobel laureate Rudy Marcus celebrated his 100th birthday with a day of festivities at Caltech" srcset="https://ca-times.brightspotcdn.com/dims4/default/106ec19/2147483647/strip/true/crop/5394x3711+0+0/resize/320x220!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 320w,https://ca-times.brightspotcdn.com/dims4/default/0b4cf9c/2147483647/strip/true/crop/5394x3711+0+0/resize/568x391!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 568w,https://ca-times.brightspotcdn.com/dims4/default/ac2d5e0/2147483647/strip/true/crop/5394x3711+0+0/resize/768x529!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 768w,https://ca-times.brightspotcdn.com/dims4/default/aff62f1/2147483647/strip/true/crop/5394x3711+0+0/resize/1024x705!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 1024w,https://ca-times.brightspotcdn.com/dims4/default/8525c51/2147483647/strip/true/crop/5394x3711+0+0/resize/1200x826!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg 1200w" sizes="100vw" width="1200" height="826" src="https://ca-times.brightspotcdn.com/dims4/default/8525c51/2147483647/strip/true/crop/5394x3711+0+0/resize/1200x826!/quality/80/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F32%2Feb%2F3d71027d4c8894a21b9fc8f35b6e%2F1324895-sci-caltech-nobel-laureate-turns-100-03-mjc.jpg" decoding="async" loading="lazy">  </picture>  <div>   <p>Nobel laureate Rudy Marcus celebrated his 100th birthday with a day of festivities at Caltech, where he has worked since 1978.</p>   <p>(Myung J. Chun / Los Angeles Times)</p>   </div>  </figure></div><p>As a teacher, Marcus “has this uncanny ability to reduce very complex problems into simple essentials,” said Caltech chemist <a href="https://cce.caltech.edu/people/zhen-gang-wang" target="_blank"><u>Zhen-Gang Wang</u></a>. “The electron transfer theory” — his Nobel Prize-winning work — “is a great example of that.”</p><p>Marcus was at an electrochemistry conference when the call came in from Stockholm in 1992. At a hastily called news conference at the Toronto hotel where he was staying, the professor demurred when asked about the newfound fame that comes with being a Nobel laureate.</p><p>“I don’t know that I want to attract more attention to my work,” a bemused Marcus <a href="https://www.latimes.com/archives/la-xpm-1992-10-15-mn-394-story.html"><u>told reporters</u></a>. “I just want more time to get it done.”</p><p>He got his wish. His colleagues couldn’t have foreseen the sheer longevity of his tenure when he arrived at Caltech during the Carter administration, “but the Nobel Prize quality, yes,” said <a href="https://www.cce.caltech.edu/people/john-d-baldeschwieler?back_url=%2Fpeople" target="_blank"><u>John D. Baldeschwieler</u></a>, a retired professor emeritus of chemistry who was chair of the department at the time of Marcus’ hiring. </p><p>Marcus was born in 1923 in Montreal, the much-loved only child of Esther and Myer Marcus. His mother in particular instilled a love of learning, in part motivated by the fact that her own family lacked the money to continue her education beyond grade school.</p><p>“She told me that when I was a baby and she used to wheel me in a carriage around McGill, she told me that I would go there,” he said in an <a href="https://oralhistories.library.caltech.edu/139/1/Marcus_OHO.pdf" target="_blank"><u>oral history</u></a> collected by Caltech in 1993. (She was right: he earned both his bachelor’s degree and doctorate at the prestigious Montreal university.)</p><p>He was drawn to puzzles as a child, and has often described his approach to science as a decades-long continuation of the childlike pleasure of teasing a solution from once-scattered parts.</p><p>“The main thing is finding something that you enjoy doing, that preferably doesn’t harm others, and that tests whatever aptitude one has, that tests one’s ingenuity,” he said. “It’s almost like a kind of a game. You against nature.”</p> </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Shopify employee breaks NDA to reveal firm replacing laid off workers with AI (362 pts)]]></title>
            <link>https://thedeepdive.ca/shopify-employee-breaks-nda-to-reveal-firm-quietly-replacing-laid-off-workers-with-ai/</link>
            <guid>36828409</guid>
            <pubDate>Sat, 22 Jul 2023 18:17:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://thedeepdive.ca/shopify-employee-breaks-nda-to-reveal-firm-quietly-replacing-laid-off-workers-with-ai/">https://thedeepdive.ca/shopify-employee-breaks-nda-to-reveal-firm-quietly-replacing-laid-off-workers-with-ai/</a>, See on <a href="https://news.ycombinator.com/item?id=36828409">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
   		
<p>In a Twitter thread, a <strong><em>Shopify (TSX: SHOP)</em></strong> employee has broken their non-disclosure agreement (NDA) to shed light on the company’s controversial actions and strategic direction. The thread exposed a series of events starting from the first quarter of 2022 when Shopify promised job security to its staff, only to carry out massive layoffs in July of the same year. </p>



<p>These job cuts, according to the employee, were driven not merely by a CEO’s misguided “bet,” but rather a shift towards replacing full-time employees with cheaper contract labor and an increased reliance on artificial intelligence (AI) support.</p>



<figure><div><blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>WOW: A <a href="https://twitter.com/Shopify?ref_src=twsrc%5Etfw">@shopify</a> employee is violating their NDA to tell us that <a href="https://twitter.com/tobi?ref_src=twsrc%5Etfw">@tobi</a>:</p><p>-has been quietly firing their global customer service team across US, Canada and Ireland<br>-is about to replace them with AI chatbots</p><p>Good luck to all Shopify shop owners out there — shit’s about to SUCK. <a href="https://t.co/TwizyV0waP">https://t.co/TwizyV0waP</a></p></div>— Nandini Jammi (@nandoodles) <a href="https://twitter.com/nandoodles/status/1681694042256449536?ref_src=twsrc%5Etfw">July 19, 2023</a></blockquote></div></figure>



<p>Last week, Shopify announced its upcoming launch of an artificial intelligence assistant called “Sidekick” for merchants using its platform, joining the ranks of other tech companies introducing similar features. In a video shared on Twitter, Lutke demonstrated how the “Sidekick” assistant, accessible through a button on Shopify, will be capable of responding to merchant inquiries, providing information on sales trends, and more.</p>



<p>The tweet series further detailed how Shopify has been aggressively embracing AI technology, using it for various purposes, from generating product descriptions to creating virtual sidekicks and developing a new help center AI agent still in beta testing. CEO Tobi Lutke’s public statements on Twitter illustrated his belief that companies can achieve higher revenues with fewer employees, signaling a desire to cut costs and please shareholders.</p>



<p>However, the consequences of this cost-cutting strategy have negatively impacted customer satisfaction. The reduction in staff and the rise of outsourced, cheap contract labor have led to significant delays in customer support, leaving frustrated merchants waiting for hours or even struggling to receive clear answers. Additionally, teams responsible for monitoring fraudulent stores have been overwhelmed, leading to a potential increase in the number of scam businesses on the platform.</p>



<figure><div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">5. Tobi has hardly been discreet about his plans, sharing a graph on Twitter that illustrated how, over the years, companies required fewer workers to make $1 million in revenue: <a href="https://t.co/WHc8tu3ufx">https://t.co/WHc8tu3ufx</a></p>— Joe Momma (@sh0p1fyj03) <a href="https://twitter.com/sh0p1fyj03/status/1681673992476717057?ref_src=twsrc%5Etfw">July 19, 2023</a></blockquote></div></figure>



<p>The employee’s Twitter thread also raised concerns about the well-being of Shopify’s workforce. Since the layoffs, remaining staff members have reportedly faced increased workloads without proportional compensation or benefits, leading to burnout, anxiety, and stress leave. Despite these issues being brought to leadership’s attention, they were dismissed as “system” problems, and the company’s focus on AI-based solutions appeared to supersede the value once placed on human-driven customer service.</p>



<p>Furthermore, the thread highlighted Shopify’s apparent shift in target market focus. Previously known for supporting small businesses and entrepreneurs, Shopify now seems to prioritize larger players, as its revenue model relies heavily on payment transactions rather than subscription software.</p>



<p>The drastic changes in Shopify’s approach have led both employees and customers to question the company’s integrity and commitment to its original mission of empowering small businesses. Many see the company as straying from its roots, becoming more akin to the corporate giants it once aimed to oppose.</p>



<figure><div><blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">16. “Once we know how to fix the system, we will invest heavily in tooling, including tooling to help Support folks do their jobs better and tooling to help our merchants get answers to questions more quickly without having to talk to a human being”.</p>— Joe Momma (@sh0p1fyj03) <a href="https://twitter.com/sh0p1fyj03/status/1681674028681920514?ref_src=twsrc%5Etfw">July 19, 2023</a></blockquote></div></figure>



<p>Shopify’s leadership, including President Harley Finkelstein, has assured employees there will be no further layoffs. However, the company’s actions and secretive handling of layoffs under the veil of NDAs have caused employees to doubt these promises.</p>



<p>Despite multiple rounds of layoffs over the last year, management compensation at Shopify appears to have been largely unaffected.</p>



<p>In a regulatory filing made in May, Shopify revealed that Lutke collected just over $20.0 million in total compensation in 2022, on par with the $20.0 million he collected in 2021, and an increase over the $15.1 million he made in 2020.</p>



<figure></figure>



<p>With public scrutiny growing and concerns over its corporate values and business model mounting, Shopify faces a significant challenge in restoring trust and addressing the impact of its decisions on both employees and customers. </p>



<p>Shopify last traded at $89.91 on the TSX.</p>



<hr>



<p>Information for this briefing was found via Twitter and the sources mentioned. The author has no securities or affiliations related to the organizations discussed. Not a recommendation to buy or sell. Always do additional research and consult a professional before purchasing a security. The author holds no licenses.</p>
   	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I am dying of squamous cell carcinoma, and potential treatments are out of reach (781 pts)]]></title>
            <link>https://jakeseliger.com/2023/07/22/i-am-dying-of-squamous-cell-carcinoma-and-the-treatments-that-might-save-me-are-just-out-of-reach/</link>
            <guid>36827438</guid>
            <pubDate>Sat, 22 Jul 2023 16:11:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jakeseliger.com/2023/07/22/i-am-dying-of-squamous-cell-carcinoma-and-the-treatments-that-might-save-me-are-just-out-of-reach/">https://jakeseliger.com/2023/07/22/i-am-dying-of-squamous-cell-carcinoma-and-the-treatments-that-might-save-me-are-just-out-of-reach/</a>, See on <a href="https://news.ycombinator.com/item?id=36827438">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-7144">

	<!-- .entry-header -->

	<!-- #entry-meta -->

	<div>
						<p>Alex Tabarrok <a href="https://marginalrevolution.com/marginalrevolution/2015/08/is-the-fda-too-conservative-or-too-aggressive.html">writes about how</a> “when the FDA fails to approve a good drug, people die but the bodies are buried in an invisible graveyard.” I’d like to make that graveyard a little bit more visible because I’m going to be buried in it, in a few weeks or months. A squamous cell carcinoma tumor appeared on my tongue last September; the surgery for it occurred in October, followed by radiation in December – January, but the tumor reappeared at the base of my tongue in April. A massive surgery on May 25 appeared to produce “clean margins” (that is, no tumor cells remained where the surgeon operated), albeit at huge cost: I have no tongue any more, just a “flap” of muscle where it used to be, and no ability to swallow solid foods ever again. Monday I’m starting chemotherapy, but that’s almost certainly going to fail, because a CT scan shows four to six new gross tumors, four in my neck and two, possibly, in my lungs.</p>
<p>So what <em>might</em> help me? MRNA tumor vaccines. Head and neck squamous cell carcinomas (HNSCC) are notoriously treatment resistant, and mRNA vaccines have shown huge promise. Why aren’t they happening faster? Because the FDA is slow. There are some trials underway (<a href="https://trials.modernatx.com/study/?id=mRNA-4359-P101">here is one</a> from Moderna; <a href="https://trials.modernatx.com/study/?id=mRNA-2752-P101">here is another</a>), and, although I’m trying to enroll, I may be too late, since my cancer moves so aggressively. The FDA was loathe to approve initial mRNA human trials, even when those trials would have been full of people like me: those who are facing death sentences anyway.</p>
<p>Here is one story, from “<a href="https://www.fdareview.org/issues/why-the-fda-has-an-incentive-to-delay-the-introduction-of-new-drugs/">Why the FDA Has an Incentive to Delay the Introduction of New Drugs</a>:”</p>
<blockquote>
<p>In the early 1980s, when I headed the team at the FDA that was reviewing the NDA for recombinant human insulin, . . . we were ready to recommend approval a mere four months after the application was submitted (at a time when the average time for NDA review was more than two and a half years). With quintessential bureaucratic reasoning, my supervisor refused to sign off on the approval—even though he agreed that the data provided compelling evidence of the drug’s safety and effectiveness. “If anything goes wrong,” he argued, “think how bad it will look that we approved the drug so quickly.” (41)</p>
</blockquote>
<p>The problem is that delaying mRNA cancer vaccines kills people like me.</p>
<p>We need to have a much stronger “right to try” presumption: “<a href="https://www.newyorker.com/magazine/2023/06/26/relyvrio-als-fda-approval">When Dying Patients Want Unproven Drugs</a>,” we should let those patients try. I have weeks to months left; let’s try whatever there is to try, and advance medicine along the way. The “right to try” is part of fundamental freedom—and this is particularly true for palliative-stage patients without a route to a cure anyway. They are risking essentially nothing.</p>
<p>When I am dead and buried at least those who I love and who love me will know the FDA protected me and millions of others like me from ourselves. Thanks, FDA. But the dead do not vote and do not agitate for change, so the system is likely to grind on.</p>
<p>In computer science there is a convention in which one’s first program prints “Hello, world.” Now it is my turn to write “Goodbye, world.” I’m crying as I write this and am sorry to have to go so soon. I have to give back the gift, though with great sadness.</p>
<p><a href="https://www.slowboring.com/p/fda-cost-benefit">Here is more about the FDA being slow</a> and bureaucratic.</p>


<figure><a href="https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg"><img data-attachment-id="7146" data-permalink="https://jakeseliger.com/2023/07/22/i-am-dying-of-squamous-cell-carcinoma-and-the-treatments-that-might-save-me-are-just-out-of-reach/dsf4195/" data-orig-file="https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg" data-orig-size="6240,4160" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.4&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;X-T4&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1690014948&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;23&quot;,&quot;iso&quot;:&quot;200&quot;,&quot;shutter_speed&quot;:&quot;0.016666666666667&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="dsf4195" data-image-description="" data-image-caption="" data-medium-file="https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg?w=300" data-large-file="https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg?w=550" src="https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg?w=1024" alt="Jake Seliger, possible figurehead for the invisible graveyard of men and women killed by the FDA's slowness " srcset="https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg?w=1024 1024w, https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg?w=2048 2048w, https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg?w=150 150w, https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg?w=300 300w, https://jseliger.files.wordpress.com/2023/07/dsf4195.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>The author on July 22, 2023, when he is, or was, still alive. </figcaption></figure>
					</div><!-- .post-content -->

</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Important Coding Habits (266 pts)]]></title>
            <link>https://puppycoding.com/2023/07/22/healthy-coding-habits/</link>
            <guid>36826755</guid>
            <pubDate>Sat, 22 Jul 2023 14:56:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://puppycoding.com/2023/07/22/healthy-coding-habits/">https://puppycoding.com/2023/07/22/healthy-coding-habits/</a>, See on <a href="https://news.ycombinator.com/item?id=36826755">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>I’ve just learnt the hard way that the most important coding habits are not readability, consistency, organisation or <a href="https://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9" target="_blank" rel="noreferrer noopener">any of the things that make our code better</a>. No, the most important habits are those that enable us to enjoy this craft for years and decades to come.</p>



<p>I’m writing this lying down, recovering from a <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Spinal_disc_herniation" target="_blank">slipped disc (spinal disc herniation</a>) that’s a result of far too long hunched over a keyboard. I’ve tried to take steps to improve my posture over the last few years but alas, I let good habits slip and I’ve been taught a lesson.</p>



<figure><img decoding="async" width="1200" height="675" data-attachment-id="200" data-permalink="https://puppycoding.com/2023/07/22/healthy-coding-habits/back_mri/" data-orig-file="https://puppycodingcom.files.wordpress.com/2023/07/back_mri.webp" data-orig-size="1200,675" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="back_mri" data-image-description="" data-image-caption="" data-medium-file="https://puppycodingcom.files.wordpress.com/2023/07/back_mri.webp?w=300" data-large-file="https://puppycodingcom.files.wordpress.com/2023/07/back_mri.webp?w=1024" src="https://puppycodingcom.files.wordpress.com/2023/07/back_mri.webp?w=1024" alt="MRI scan of the spine showing a spinal disc hernia, bulging out and pushing against the spinal nerve." srcset="https://puppycodingcom.files.wordpress.com/2023/07/back_mri.webp?w=1024 1024w, https://puppycodingcom.files.wordpress.com/2023/07/back_mri.webp?w=150 150w, https://puppycodingcom.files.wordpress.com/2023/07/back_mri.webp?w=300 300w, https://puppycodingcom.files.wordpress.com/2023/07/back_mri.webp?w=768 768w, https://puppycodingcom.files.wordpress.com/2023/07/back_mri.webp 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>A slipped disc doesn’t actually mean a spinal disc has been dislodged. It’s actually when a disc, usually near the base of the spine, develops a bulge which sticks out and presses against the spinal nerve. It’s as painful as it sounds (and then some!), and also causes tingling and pain in the legs too. At times it’s made me unable to move and unable to sleep. Recovery takes weeks or months, although surgery is also an option.</p>



<p>It could happen to any of us if we develop unhealthy habits when programming, with the strain on our backs building up over time. And so, fellow keyboard warrior, here are some steps I encourage you to take to avoid this pain.</p>



<h2>Daily stretches</h2>



<p>According to my chiropractor, sitting for long periods of time had led to my stomach and thigh muscles being relatively unused, and therefore unable to assist my back in supporting my body, putting it under extra strain. Although strength-building exercises would be best, just doing daily central and lower body stretches would have a positive effect. The muscles would be more supple and more able to help support the body.</p>



<figure><img decoding="async" width="1200" height="689" data-attachment-id="206" data-permalink="https://puppycoding.com/2023/07/22/healthy-coding-habits/yoga-stretching/" data-orig-file="https://puppycodingcom.files.wordpress.com/2023/07/yoga-stretching.webp" data-orig-size="1200,689" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="yoga-stretching" data-image-description="" data-image-caption="" data-medium-file="https://puppycodingcom.files.wordpress.com/2023/07/yoga-stretching.webp?w=300" data-large-file="https://puppycodingcom.files.wordpress.com/2023/07/yoga-stretching.webp?w=1024" src="https://puppycodingcom.files.wordpress.com/2023/07/yoga-stretching.webp?w=1024" alt="Photo of a man outside on a terrace, stretching forward in a yoga pose." srcset="https://puppycodingcom.files.wordpress.com/2023/07/yoga-stretching.webp?w=1024 1024w, https://puppycodingcom.files.wordpress.com/2023/07/yoga-stretching.webp?w=150 150w, https://puppycodingcom.files.wordpress.com/2023/07/yoga-stretching.webp?w=300 300w, https://puppycodingcom.files.wordpress.com/2023/07/yoga-stretching.webp?w=768 768w, https://puppycodingcom.files.wordpress.com/2023/07/yoga-stretching.webp 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>You don’t have to suddenly become a yoga fanatic (although you can if you want!). Just regular stretches in the morning or after a hot bath in the evening, when the body is relaxed, should make a big difference.</p>



<h2>Take regular breaks</h2>



<p>This is so simple but so important –&nbsp;at least once an hour get up and take a short walk or some other non-screen activity. Not only is this an easy way to look after your body, I’ve often found that it helps with coding too. So many times I’ve been stuck on a problem, done something completely different, and then come back to the problem with an idea of something new to try.</p>



<p>I feel like this is something we all know we should do, but often hard to put into practice. Time to make it a habit!</p>



<h2>Don’t code late at night</h2>



<p>I think we’re all guilty of this, sometimes even turning it into a boast – “I pulled an all-nighter!” Surely it’s time we change this attitude. Our code is worse, even harmful, when we’re really tired, and we naturally concentrate less on our posture leading to being hunched over the keyboard for hours. Please set a time past which you will switch off, mentally and physically, and be strict with it.</p>



<h2>Improve your coding environment</h2>



<p>I have a laptop stand and ergonomic chair, both of which make sitting at my desk much more comfortable, but even with those I still ending up suffering with back pain. I’ve heard so many recommendations for a standing desk that at last, I’m making the switch.</p>



<p>Currently I just have a temporary setup of a small table on top of my desk, but already I can feel I move around more than when I sit, without really feeling more tired. It also naturally leads to taking more breaks so it’s a 2-in-1 habit!</p>



<p>I don’t know why it took me so long to realise the importance of this and all the other habits, and I wish I’d fixed my ways earlier. Now I’ve paid the price but hopefully it’s not too late for you, especially if you’re in the early stages of your career. </p>



<p>Please learn from my mistakes and enjoy many happy years of healthy coding!</p>



<figure><p><span><iframe width="640" height="360" src="https://www.youtube.com/embed/_rYXNMxH5ck?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p></figure>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Time to bring back asylums? (124 pts)]]></title>
            <link>https://www.wsj.com/articles/its-time-to-bring-back-the-asylum-ec01fb2</link>
            <guid>36826335</guid>
            <pubDate>Sat, 22 Jul 2023 14:05:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wsj.com/articles/its-time-to-bring-back-the-asylum-ec01fb2">https://www.wsj.com/articles/its-time-to-bring-back-the-asylum-ec01fb2</a>, See on <a href="https://news.ycombinator.com/item?id=36826335">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div><div><div> <p>By </p><p>David Oshinsky</p></div><p>July 21, 2023 10:56 am ET</p></div><div aria-label="Utility Bar" role="toolbar" data-block="doNotPrint"></div><section><p data-type="paragraph">The ongoing saga of the severely mentally ill in America is stirring attention again in a sadly familiar way. In Los Angeles in early 2022, a 70-year-old nurse was murdered while waiting for a bus, and two days later a young graduate student was stabbed to death in an upscale furniture store where she worked. That same week in New York City, a 40-year-old financial analyst was pushed onto the subway tracks as a train was arriving, killing her instantly.</p></section><p>Copyright ©<!-- -->2023<!-- --> Dow Jones &amp; Company, Inc. All Rights Reserved. 87990cbe856818d5eddac44c7b1cdeb8</p><div><div id="cx-snippet-overlay"><p><img src="https://sts3.wsj.net/iweb/images/wsj-logo-big-black.svg" title="The Wall Street Journal" alt=""></p><p>Continue reading your article with<br>a WSJ subscription</p><p><a href="https://subscribe.wsj.com/wsjsnippet">Subscribe Now</a></p></div><p>Already a subscriber? <a href="https://www.wsj.com/client/login?target=https%3A%2F%2Fwww.wsj.com%2Farticles%2Fits-time-to-bring-back-the-asylum-ec01fb2">Sign In</a></p></div><div aria-label="What to Read Next" data-block="doNotPrint" data-skip-nav-order="5" data-skip-label="What to Read Next" role="region" tabindex="-1"><p><h2>What to Read Next</h2></p></div><div aria-label="Sponsored Offers" data-block="doNotPrint" data-skip-nav-order="6" data-skip-label="Sponsored Offers" role="region" tabindex="-1"><p>Sponsored Offers</p><ul><li><span>Hotels.com<!-- -->: <br></span><a href="https://www.wsj.com/coupons/hotels-com" target="_blank" rel="noreferrer">Extra 10% Off Entire Stay w/ Hotels.com Coupon</a></li><li><span>Hotwire<!-- -->: <br></span><a href="https://www.wsj.com/coupons/hotwire" target="_blank" rel="noreferrer">10% off In-App bookings - Hotwire coupon Code</a></li><li><span>Barceló<!-- -->: <br></span><a href="https://www.wsj.com/coupons/barcelo-hotels" target="_blank" rel="noreferrer">20% off Barcelo coupon code</a></li><li><span>TurboTax<!-- -->: <br></span><a href="https://www.wsj.com/coupons/turbotax" target="_blank" rel="noreferrer">Save up to $15 with TurboTax coupon May 2023</a></li><li><span>The Motley Fool<!-- -->: <br></span><a href="https://www.wsj.com/coupons/motley-fool" target="_blank" rel="noreferrer">Epic Bundle - 3x Expert Stock Recommendations</a></li><li><span>H&amp;R Block Tax<!-- -->: <br></span><a href="https://www.wsj.com/coupons/hrblock" target="_blank" rel="noreferrer">15% OFF DIY Online Tax Filing Services | H&amp;R Block Coupon</a></li></ul></div></div></article><div><div aria-label="Recommended Videos" data-skip-nav-order="8" data-skip-label="Recommended Videos" role="complementary" tabindex="-1" width="300px"><h4>Recommended Videos</h4></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A brief history of computers (187 pts)]]></title>
            <link>https://www.lesswrong.com/posts/vfRpzyGsikujm9ujj/a-brief-history-of-computers</link>
            <guid>36826210</guid>
            <pubDate>Sat, 22 Jul 2023 13:50:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.lesswrong.com/posts/vfRpzyGsikujm9ujj/a-brief-history-of-computers">https://www.lesswrong.com/posts/vfRpzyGsikujm9ujj/a-brief-history-of-computers</a>, See on <a href="https://news.ycombinator.com/item?id=36826210">Hacker News</a></p>
Couldn't get https://www.lesswrong.com/posts/vfRpzyGsikujm9ujj/a-brief-history-of-computers: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Why even let users set their own passwords? (233 pts)]]></title>
            <link>https://www.devever.net/~hl/passwords</link>
            <guid>36826111</guid>
            <pubDate>Sat, 22 Jul 2023 13:36:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.devever.net/~hl/passwords">https://www.devever.net/~hl/passwords</a>, See on <a href="https://news.ycombinator.com/item?id=36826111">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="nh">
          <main>
            <article><p>Today we seem to be living through a war on passwords. This is manifested in
various ways; in its most passive form, it takes the form of people blogging
about how passwords are bad. The more material changes are the general trend
towards no longer treating passwords as a sufficient condition for access in
favour of either mandatory “2FA” or, where 2FA is not used, <a href="https://www.devever.net/~hl/logindenial">risk-based
authentication</a>, in which some extra authentication step is
non-deterministically and randomly demanded.</p>
<p>This step is commonly something like “enter the code in an email we just sent”
when trying to login. Since this process is literally the same as most password
recovery processes, it raises the question of what the point of a password is
in the first place if you always have to go through this process when trying to
login.</p>
<p>Often this will be combined with fallacious notions such as “remember this
device”, the idea being you only have to go through all this the first time when
logging in from a particular device. This idea is fallacious because the web
has no notion of a “device”, and this is a <em>very intentional design choice</em>
made for privacy purposes. We are literally living through the gradual
phase-out of third-party cookies, amongst other functionality, specifically to
try and prevent this sort of thing, so why do web developers persist in
believing in this fiction of a “device”? My own browser erases all cookies from
an origin immediately after the last tab from that origin is closed, so these
sites are convinced I am logging in from a new “device” every single time, and
then demand I respond to one of these challenge emails.</p>
<p>Essentially these sites consider passwords so worthless as a form of security
that they essentially don't meaningfully allow people to have one anymore. The
login flow and the password recovery flow are essentially the same, the UI just
pretends otherwise. Other examples include PayPal, where you can literally
enter a credit card number to prove your identity and reset your password(!).
In other words, knowing your credit card number is considered a stronger or
equal proof of identity than either knowing your password or being able to
receive an email.<a href="#fn1" id="fn1b"><sup>1</sup></a></p>
<p>While at the same time every website for the masses now seems to be designed
around the assumption that everyone is going to set their password to
“password1”, web-based HTTP APIs are also widely popular nowadays. These
services almost invariably perform authentication via use of a token or “API
key”.</p>
<p>An API key is basically a password, except that it is randomly generated by a
website with a large amount of entropy and thus assumed to be secure. A given
website might obnoxiously refuse to trust in my ability to set a secure
password, assume the 24-character randomly generated password I keep in my
password safe is insecure, and demand I complete an email challenge every time
I login because I actually bother to exercise control over browser privacy and
persistent cookies, yet that same website is happy to let me authenticate using
an API key for API access as a single authentication step. No “2FA” here.</p>
<p>API keys are used to secure the highest-stakes APIs that exist today — all of
AWS's services, for example. Yet while API keys seem to be considered an
entirely reasonable and industry standard design approach, passwords are now
considered the unwelcome black sheep whose role as a sufficient criterion for
authentication is viewed with increasing dubiousness. (Moreover, all website
login schemes ultimately rely on some kind of session cookie, which is similar
to an API key in the sense that it is a high-entropy site-issued bearer token.
In other words, all website authentication schemes, “2FA” or not, ultimately
rely on the ability of a client to be enrolled in and use high-entropy
site-issued bearer authentication tokens as the sole criterion of access.<a href="#fn2" id="fn2b"><sup>2</sup></a>)</p>
<p>The fundamental premise is the same: provide token, gain access. It seems to me
that the basic problem here with passwords is that passwords are assumed to
have been chosen by users and users are assumed to be bad at choosing good
passwords.</p>
<p>There are agreed best practices for the handling of passwords, namely, to not
reuse passwords between accounts, use randomly generated passwords, and keep
those unique passwords for each account in a password safe. This raises the
question: if the industry agrees this is the (more or less only) correct way to
handle passwords, why actually allow users to set their own passwords?</p>
<p>Rather than allowing a user to set their own password, passwords can be issued
in exactly the same way as API keys are now: a high-entropy password is
randomly generated by the issuing website, and the user is shown the password
once only and asked to record it. If the password is lost, a new password must
be generated using the same process. The user cannot choose their password, but
can get a new randomly generated one in the event of compromise. The password
essentially becomes indistinguishable from an API key.</p>
<p>If we consider the password safe usage model to be the only reasonable way to
use passwords properly, there doesn't really seem to be any reason to allow any
other usage model than this. There's not really a good reason for a user to be
able to set their own password unless they want to set their password to
something lower in entropy to make it memorable, or reuse it between sites,
both of which are deviations from the “best practice” password safe usage
model.</p>
<p>With this model of password issuance, there is less need to constantly
second-guess the user's security with hazardous approaches like risk-based
authentication. Interestingly, however, it can be argued that this model is in
effect already widely deployed: namely in the form of TOTP “2FA” support.</p>
<p>In enrolling in TOTP-based 2FA with a website, you are given a high-entropy
randomly-generated secret and, for subsequent logins, are required to prove
possession of this secret. In other words, it's a site-generated
non-customisable “password” in much the same vein as I propose above. Moreover,
sites which support TOTP usually use a user's enablement of it as a “not an
idiot” flag and disable any non-deterministic risk-based authentication
mechanisms they may use for people without TOTP enabled. This is congruent
with my premise above that guaranteed use of a high-entropy secret obviates
the need for additional authentication.</p>
<p>Since the user-specified password functionality is now seemingly so distrusted
as a widespread industry practice, it raises the question of why not just
either use only TOTP for login, or issue a password in the same way that TOTP
secrets are issued: randomly and non-customisably.</p>
<p>The only discernible difference between TOTP and a site-generated password is
in how knowledge of the secret is proven. With TOTP, knowledge of the secret is
proven without sending it to the website. With a site-generated password,
knowledge of the secret is proven by sending that secret to the website. This
is a slight security benefit to TOTP. It doesn't seem to provide any useful
security against a compromised or impersonating website (an impersonating
website can just forward the TOTP challenge value to the real website and use
it to login as the user), so its main benefit seems to be to avoid having the
device the user is logging in as be able to glean the secret, in the event that
device is compromised. This is a potential upside, though since on successful
login the compromised client device has access to anything gated by that login
anyway, the benefit seems dubious.</p>
<p>It is interesting to note that TOTP ultimately can be viewed as just another
secret authentication token, like a password, yet is widely referred to as
“2FA”. Having two passwords isn't “2FA”; 2FA about having authenticators from
two different categories of {what you have, what you know, what you are}.</p>
<p>If TOTP is used “correctly”, meaning that the TOTP secret is enrolled onto a
different device than the one that contains your password safe, 2FA is more or
less realised — arguably. (You could also argue it's two copies of “what you
know” but with data partitioned between two devices which are unlikely to be
simultaneously compromised. This demonstrates that the {what you have, what you
know, what you are} triad is not necessarily the be all and end all of
authentication scheme security level classification.)</p>
<p>Of course, you don't necessarily know if someone is using TOTP “correctly”. For
example, whenever I register on some random site which offers TOTP, I enable it
and then put the TOTP secret in the same password safe that contains the
equally high-entropy password I chose. This seemingly pointless act is
obviously not 2FA. The reason I do this is for two reasons:</p>
<ol>
<li><p>it seems to increasingly serve as an “I'm not an idiot” flag and disable
stochastic risk-based authentication based around an assumption people
can't choose secure passwords, in which I might randomly be asked to
an additional challenge the potential necessity of which was not
documented at registration time, and which I may or may not be able to
complete, potentially resulting in account lockout;</p>
</li>
<li><p>it often seems to effectively disable password recovery flows, or at
least render them moot, making account recovery more difficult. Since
I don't lose my secrets I'm happy to assume responsibility for the
possibility of permanently locking myself out in exchange for higher
account security and disabling email as the “master key to all accounts”.</p>
</li>
</ol>
<p>While my own usage patterns are probably somewhat esoteric, in general it's
expected people will store TOTP secrets on a smartphone. However this again
raises questions about whether it really is “2FA” when you consider many people
may be accessing a website from their smartphone in the first place. In fact,
it's likely that a lot of TOTP-based “2FA” is not really 2FA at all because the
user's browser and password safe (e.g. the browser's built in saved password
functionality) and TOTP secret are on the same device and both instances of
“what you know”.</p>
<p>This isn't the only case of websites demanding “2FA”-that-isn't. Many supposed
cases of “2FA” are really 1FA where the single factor required for
authentication is considered to lie in a better category than “what you know”,
or where there are two factors at first glance, but one factor can be used to
reset the other factor.</p>
<p>For example, a site which requires a password and email verification for each
login is not 2FA if access to the same email account can be used to reset the
password; this scheme is no more secure than just requiring email verification
per login. Another example is if a site tries to insist on verifying logins
using SMS messages sent to a user's phone number. Since this (particularly bad)
design is based on the false premise that a user's phone number is more secure
than an email account or any password, such sites will often allow a reset of
all the other factors (like a password) by access to this phone number alone.
This is quite literally 1FA, just with a different single factor.</p>


<p>This again seems to reinforce that the major benefit of pushing people to
enable TOTP is to actually have them adopt a secure “password” and not actually
“2FA”, which is often not actually realised.</p>
<hr>
<p>1. Fun fact: Effectively only 5
digits of your credit card number are secret. PCI standards consider the last
four digits of your credit card number as non-secret — which is why every
e-commerce website is allowed to constantly quote those last four digits back
to you so you know what card they're talking about. What is less known is that
the same standard also specifies that the first 6 digits are also not
sensitive. This means that PCI compliance is fundamentally about protecting the
remaining 6 digits of a 16-digit credit card number. However, the last digit of
a credit card number is of course a check digit, which means of the possible 6
digit values, only 10% can be conceivably valid, meaning that effectively only
5 digits are really secret. This means PayPal allows your password to be reset
given knowledge of a 5 decimal digit secret. <a href="#fn1b">⏎</a></p>

<p>2. After being locked out of one account
by risk-based authentication, while still having access from another, I have
sometimes idly contemplated copying persistent cookies between machines. This
kind of lockout situation in which a password is not enough is particularly
ironic if I happen to have chosen a password which actually has higher entropy
than a site's session cookie. <a href="#fn2b">⏎</a></p>


</article>
          </main>
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Redmine – open-source project management (143 pts)]]></title>
            <link>https://www.redmine.org/</link>
            <guid>36825913</guid>
            <pubDate>Sat, 22 Jul 2023 13:06:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.redmine.org/">https://www.redmine.org/</a>, See on <a href="https://news.ycombinator.com/item?id=36825913">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  


	<ul><li><strong>Table of contents</strong></li><li><a href="#Redmine">Redmine</a><ul><li><a href="#Features">Features</a></li><li><a href="#Documentation">Documentation</a></li><li><a href="#Support-amp-getting-help">Support &amp; getting help</a></li><li><a href="#Contributing-and-helping-out">Contributing and helping out</a></li><li><a href="#Who-uses-Redmine">Who uses Redmine?</a></li><li><a href="#Redmine-books">Redmine books</a></li></ul></li></ul>


	<p>Redmine is a flexible project management web application. Written using the Ruby on Rails framework, it is cross-platform and cross-database.</p>


	<p>Redmine is open source and released under the terms of the <a href="http://www.gnu.org/licenses/old-licenses/gpl-2.0.html">GNU General Public License v2</a> (GPL).</p>


	<h2>Features<a href="#Features">¶</a></h2>


	<p>Some of the main features of Redmine are:</p>


	<ul>
	<li><a href="https://www.redmine.org/projects/redmine/wiki/RedmineProjects">Multiple projects support</a></li>
		<li>Flexible <a href="https://www.redmine.org/projects/redmine/wiki/RedmineRoles">role based access control</a></li>
		<li>Flexible <a href="https://www.redmine.org/projects/redmine/wiki/RedmineIssues">issue tracking system</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/RedmineGantt">Gantt chart</a> and <a href="https://www.redmine.org/projects/redmine/wiki/RedmineCalendar">calendar</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/RedmineNews">News</a>, <a href="https://www.redmine.org/projects/redmine/wiki/RedmineDocuments">documents</a> &amp; <a href="https://www.redmine.org/projects/redmine/wiki/RedmineFiles">files</a> management</li>
		<li>Feeds &amp; email notifications</li>
		<li>Per project <a href="https://www.redmine.org/projects/redmine/wiki/RedmineWikis">wiki</a></li>
		<li>Per project <a href="https://www.redmine.org/projects/redmine/wiki/RedmineForums">forums</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/RedmineTimeTracking">Time tracking</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/RedmineCustomFields">Custom fields</a> for issues, time-entries, projects and users</li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/RedmineRepository">SCM integration</a> (SVN, CVS, Git, Mercurial and Bazaar)</li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/RedmineReceivingEmails">Issue creation via email</a></li>
		<li>Multiple <a href="https://www.redmine.org/projects/redmine/wiki/RedmineLDAP">LDAP authentication</a> support</li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/RedmineRegister">User self-registration</a> support</li>
		<li>Multilanguage support</li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/RedmineInstall#Supported-database-back-ends">Multiple databases</a> support</li>
	</ul>


	<p>Read more about <a href="https://www.redmine.org/projects/redmine/wiki/Features">Redmine features</a>.</p>


	<h2>Documentation<a href="#Documentation">¶</a></h2>


	<p>You can read the <strong><a href="https://www.redmine.org/projects/redmine/wiki/Guide">Redmine guide</a></strong>.</p>


	<ul>
	<li><a href="https://www.redmine.org/projects/redmine/wiki/Guide">User's Guide</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/Developer_Guide">Developer's Guide</a></li>
	</ul><p>


Other resources:
	</p><ul>
	<li><a href="https://www.redmine.org/projects/redmine/wiki/Changelog">Changelog</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/Security_Advisories">Security Advisories</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/FAQ">Frequently Asked Questions</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/HowTos">HowTos</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/Plugins">Plugins</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/Themes">Themes</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/Logo">Logo and Icon</a></li>
		<li><a href="https://www.redmine.org/projects/redmine/wiki/ThirdPartyTools">Third Party Tools</a></li>
	</ul>


	<h2>Support &amp; getting help<a href="#Support-amp-getting-help">¶</a></h2>


	<p>For getting help or discussing Redmine, you can browse the <strong><a href="http://www.redmine.org/projects/redmine/boards">Redmine forums</a></strong> hosted right here in Redmine.</p>


	<p>We also have a <strong><a href="https://www.redmine.org/projects/redmine/wiki/IRC">chatroom</a></strong> -  <a href="https://web.libera.chat/?channel=#redmine">join #redmine</a> on the <a href="https://libera.chat/">libera.chat</a> IRC network.</p>


	<p>There's also an unofficial workspace on <strong><a href="https://join.slack.com/t/redmineorg/shared_invite/zt-ew74bkww-9~Cs~L2oSioRXDljumZ_zg">Slack</a></strong> where you can ask questions and participate in discussions with other Redmine users.</p>


	<p>Before submitting a bug report, a patch or a feature request here, please read the <a href="https://www.redmine.org/projects/redmine/wiki/Submissions">Submission guidelines</a>.</p>


	<h2>Contributing and helping out<a href="#Contributing-and-helping-out">¶</a></h2>


	<p>Redmine is built and maintained by community volunteers. If you enjoy using it and would like to give back to the community, the <a href="https://www.redmine.org/projects/redmine/wiki/Contribute">Contribute</a> page has several ideas. Software development experience is not required. Check out the <a href="https://www.redmine.org/projects/redmine/wiki/Teams">Teams</a> Page if you are interested in a specific area to contribute regularly.</p>


	<p>You can also make a donation and get listed on the <a href="https://www.redmine.org/projects/redmine/wiki/Donors">Redmine Donors page</a>.</p>


	<h2>Who uses Redmine?<a href="#Who-uses-Redmine">¶</a></h2>


	<p><a href="https://www.redmine.org/projects/redmine/wiki/WeAreUsingRedmine">This page lists</a> some companies and projects using Redmine.</p>


	<h2>Redmine books<a href="#Redmine-books">¶</a></h2>


	
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Embrace Complexity; Tighten Your Feedback Loops (132 pts)]]></title>
            <link>https://ferd.ca/embrace-complexity-tighten-your-feedback-loops.html</link>
            <guid>36825345</guid>
            <pubDate>Sat, 22 Jul 2023 11:30:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ferd.ca/embrace-complexity-tighten-your-feedback-loops.html">https://ferd.ca/embrace-complexity-tighten-your-feedback-loops.html</a>, See on <a href="https://news.ycombinator.com/item?id=36825345">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
        
            <span>2023/06/20</span>
        
        
        
<p>This post contains a transcript of the talk I wrote for and gave at <a href="https://qconnewyork.com/presentation/jun2023/embrace-complexity-tighten-your-feedback-loops">QCon New York 2023</a> for <a href="https://qconnewyork.com/speakers/vanessahuertagranda">Vanessa Huerta Granda</a>'s <a href="https://qconnewyork.com/track/jun2023/resilience-engineering-culture-system-requirement">track on resilience engineering</a>.</p>

<p>The official talk title was "Embrace Complexity; Tighten Your Feedback Loops". That’s the descriptive title for the talk that follows the conference’s guidelines about good descriptive titles. Instead I decided to follow my gut feeling and go with what I think really explains my perspective and the approach I bring with me to work and even my life in general:</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/01.png" alt="" title=""></p>

<p>I take what would probably be a sardonic approach to dealing with life and systems, and so “This is all going to hell anyway” is pervasive to my approach. Things are going to be challenging. There are going to always be pressures that keep pushing our systems to the edge of chaos. I don’t think this can be fixed or avoided. Any improvement will be used to bring it right to that edge. In complex systems, the richness and variability is often there for a reason. Trying to stamp it out in favour of stronger control is likely to create weird issues.</p>

<p>So the best I personally hope for is to have some limited influence in steering things the best I can to delay going to hell as long as possible, but that’s it. And my talk is going to focus on a lot of these approaches, but first, I want to explain why I feel things are that way.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/02.png" alt="" title=""></p>

<p>In what is probably my favorite paper ever, titled <a href="https://ferd.ca/notes/paper-moving-off-the-map.html">Moving Off The Map</a>, Ruthanne Huising ran ethnological studies by embedding herself into projects within many large corporations doing planned organizational changes. In supporting these efforts, they were doing “tracing” of their functions, which meant gathering a lot of data about what activities take place, what interactions and hand-offs exist, what information and tools are used and required? How long do tasks take? How do people and teams deal with errors? Generally asking the question “what do we do here?” and wondering with whom they do it.</p>

<p>To build these maps they generally reached out to experts within the organization who were supposed to know how things were working. Even then, they were really surprised.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/03.png" alt="" title=""></p>

<p>One explained that “it was like the sun rose for the first time… I saw the bigger picture.” Participants had never seen the pieces (jobs, technologies, tools, and routines) connected in one place, and they realized that their prior view was narrow and fractured, despite being considered experts.</p>

<p>Others would state that “the problem is that it was not designed in the first place.” The system was not designed nor coordinated, but generally showed the result of various parts of the organization making their own decisions, solving local problems, and adapting in a decentralized manner.</p>

<p>The last quote comes from events when a manager at one of the organizations walked the CEO through the map, highlighting the lack of design and the disconnect between strategy and operations. The CEO sat down, put his head on the table, and said, “This is even more fucked up than I imagined.” He realized that the operation of his organization was out of his control, and that his grasp on it was imaginary.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/04.png" alt="" title=""></p>

<p>One of the most surprising results reported in there was about tracking the people who participated in organizing and running the change projects, and seeing who got promoted, who left, and who moved around the org or industry they were in.</p>

<p>She found out there were two main types of outcome. The first group turned out to be filled with people who got promotions. They were mostly folks who worked in communications, training, who managed the costs and savings of the projects, or those who helped do process design. Follow-up interviews revealed that most of them attributed their promotions to having worked on a big project to put under their belt, and to frequently working with higher-ups, which both helped with getting promoted.</p>

<p>Another group however mostly contained people who moved to the periphery: away from core roles at the organization, sometimes becoming consultants, or leaving altogether. Those who fit this category happened to be the people who collected the data and created the map. They attributed their moves to either feeling like they finally understood the organization better, felt more empowered to change things, or became so alienated by the results they wanted to get out.</p>

<p>So the question of course became how come people who feel they understand how the organization truly works and who want to change it move <em>away</em> from the central roles and positions, and into the peripheral ones?</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/05.png" alt="" title=""></p>

<p>The fatal insight, according to Huising, is something sociologists knew for a good while: the culture and the order imposed to organizations, groups, and even societies is often emergent and negotiated. And while it's obvious that these structures dictate a lot of actions, the actions themselves can preserve or change the structures around them.</p>

<p>The feelings of empowerment and alienation come in no small part because people realized that they could change a lot more than they could, albeit often from outside the core decision-making that enforces the structure (while understanding how that core works), or because the ways they thought they were impacting things was shown not to be effective and they felt disembedding.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/06.png" alt="" title=""></p>

<p>Another thing you have possibly experienced and isn’t in the paper now is one of differentiating between the nominal and actual structure of the org, the emergent one that depends on power dynamics, who knows what or whom, who likes or dislikes each other, and so on.</p>

<p>If you've ever worked in a flat organization, like the one in the middle here, is that even though you have little management structure to speak of, power dynamics and decision-making authority still exists. People who have no power attached to their role are still going to be consulted or inserted in the decision-making flow of the organization, they're still going to be influential and have the ability to make or break projects, but just with less obvious accountability.</p>

<p>The nominal structure is the one where each level of management and within the organizational ladder specifies how information flows, and how authority is applied. It's what we see on the left in a more traditional org structure, and this way of organizing groups will simultaneously be useful to align efforts and to constrain them. It makes accountability more explicit and transparent, but structurally will prevent people from doing unspecified things, whether they would be harmful or useful.</p>

<p>The emergent structure is always there as well. It is implicit, always changing, and not necessarily constrained to your own organization either. Sometimes, people who know how to run, maintain, or operate components, or whom people listen to, are not even in your org anymore. They might have moved away (to a different team or even a competitor), retired, or never been in and they have just published a really influential piece of media and people look up to them.</p>

<p>But who knows what, works with whom, and who can move things around in specific contexts can be key to successful initiatives. Even if the organizational structure has often been put in place to constrain change, as a barrier to people working in mis-aligned ways, some folks central to the emergent structure, in key contexts, have earned enough trust to be allowed tacitly to bend and break the rules. They can choose not to enforce the rules, or the rules are not enforced as tightly for them with the hopes of positive outcomes—even if sometimes it can get you the opposite result.</p>

<p>I’m not here to argue in favor of one or the other structure, but mostly that in my experience, driving change or making initiatives succeeds the most when catering to both structures at once, or rather fails when only looking at one and being blocked by the other. They're both real, both distinct, and pretending only either exists is bound to cause you grief.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/07.png" alt="" title=""></p>

<p>As a continuation of this, the way people work every day is often different from the way people around them imagine their work is being done. The gap between how work is thought to be done and how it is actually done is a major but generally invisible factor in how systems work out.</p>

<p>Based on flawed mental models of the work, procedures and prescriptions are given about how to do work, and will vary in inaccuracy. People will imagine things like, for example, writing all the tests before writing or modifying any code and that code coverage could be ideal and then that it will all be reviewed in depth by an expert, and will enshrine this as a policy.</p>

<p>But the application of these policies is never perfect. Sometimes code doesn't have an owner, or due to crunch time and based on how much the reviewer and author trust each other, the review won't be as in-depth as expected.</p>

<p>When you see this mismatch causing people to ignore or bend rules, you can choose to apply authority and ask for a stricter rule-following. This pattern of enforcing the rules harder will likely drive these adaptations underground rather than stamping them out, because real constraints drive that behavior.</p>

<p>In turn, the work as disclosed will be less adequate, and the work as imagined progressively gets worse and worse.</p>

<p>This becomes a feedback loop of misunderstanding and at some point, like our devastated CEO, you’re not managing the real world anymore.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/08.png" alt="" title=""></p>

<p>To demonstrate this, earlier this year I went to my local mastodon network—so you know this is super scientific—and ran a poll about time sheets. The question was "If you're a software developer who ever worked for an employer who had you track your time hourly into specific projects/customer accounts and you were short on time budget, did you..."</p>

<p>Multiple answers were accepted. Fewer than 15% of people either stopped work, worked without tracking their time anymore (for free), or shifted their time into other projects with more buffer space.</p>

<p>Roughly a third of people reported billing anyway, some stating that it's not their problem the time allocation wasn't realistic or adequate.</p>

<p>But the vast majority of answers, nearly 60%, came from people saying "my time tracking was always fake and lies," with some people stating they even wrote applications to generate realistic-looking time sheets.</p>

<p>What we can see here is an example of how work-as-imagined gets translated into policies ("people do their work in projects, and account for their time"), which at some point doesn't get applied right anymore. If I were to suppose, it could be things like not being allowed to go over time, or just finding the practice useless. But the end result is that the time sheet data just isn't trustworthy, and then it can get used again and again in further decision making.</p>

<p>The gap widens, and our CEO might also get to think "this is all fucked up."</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/09.png" alt="" title=""></p>

<p>Part of the reason for this is that every day decisions are made by trying to deal with all sorts of pressures coming from the workplace, which includes the values communicated both as spoken and as acted out. People generally want to do a good job and they’ll try to balance these conflicting values and pressures as well as they can.</p>

<p>The outcome of that trade-off being a success or a failure isn’t known ahead of time, but these small decisions accumulate based on the feedback we get from each of these and can end up compounding and accumulating, either as improvements, or as erosion that makes organizations more brittle, or really anywhere in between.  People adopt the organization’s constraints as their own, and this set of pressures is the kind of stuff that drives processes to the edge of chaos over and over again.</p>

<p>These accumulations of small decisions, these continuous negotiations, that’s one way your culture can define itself. Small common everyday acts and small amounts of social pressure you can apply locally has an impact, as minor as it might be, and compounds. You can easily foster your own local counterculture within a team if you want to. This can both be good (say in Skunkworks where you bypass a structure to do important work) or bad (normalizing behaviors that are counterproductive and can create conflict).</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/10.png" alt="" title=""></p>

<p>So while a lot of the work you can do to improve reliability or resilience as a whole can be driven locally, my experience is that you nevertheless get the best results by also aligning with or re-aligning some of the organizational pressures and values usually set from above.</p>

<p>The idea here is to start looking at the organization from both ends: how can we support the people dealing with the trade-offs in conflicting goals as they happen, how can we influence the higher-level values and pressures such that we can try to reduce how often these conflicts happen even though they will definitely keep happening, and how can we better carry context and feedback across both ends so that we constantly adjust as best as we can. A system perspective on interactions, rather than focusing on components is also something I've found useful. The rest of the talk is going to be spent on these ideas.</p>

<p><em>(as a note, the third drawing is <a href="https://en.wikipedia.org/wiki/Dimethylmercury">Dimethylmercury</a>, a highly volatile, reactive, flammable, and colorless liquid. It's one of the strongest known neurotoxins, and less than 0.1 mL is enough to kill you through your skin, and gloves apparently do a bad job at protecting you)</em></p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/11.png" alt="" title=""></p>

<p>So let's start with negotiating trade-offs, with a bit more of an ops-y perspective, because that's where I'm coming from.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/12.png" alt="" title=""></p>

<p>This is a painful one sometimes, especially when you have highly professional people who take their jobs seriously.</p>

<p>Locally for you as a DevOps or SRE team, there is a need for the awareness of what the organization and customers actually care about. Some availability targets become useless metrics because they’re disconnected from what users want, and you’re just going to burn people out doing it.</p>

<p>I learned this lesson when talking to the SRE manager of one of these websites where people pick their favorite images, put them on boards, and get shown ads. He was telling me how their site was having a lot of reliability issues. It would keep going down, his team would do heroics to bring it back up, and it'd open all over again.</p>

<p>He felt his team was burning out. They were losing people, and their call rotation was so painful they were also having issues hiring back into it. He was seeing the death spiral happening and was wondering what to do.</p>

<p>He added that there were perverse incentives at play: every time the site went down, they stopped showing images, but not ads. That meant that during incidents, they still earned money, but no longer paid for bandwidth. The site was more profitable when it failed than when it worked, and seemingly, users didn't mind much.</p>

<p>They were not getting help, nobody seemed to consider it a problem. Not really knowing what to say, I just asked off-hand: "are you trying to deliver more reliability than people are asking for? What if you just stopped and let it burn more and rested your people?" He thought about it seriously, and said "yeah, maybe."</p>

<p>I never actually found out what happened after this, but it still stuck with me as a really good question to ask from time to time.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/13.png" alt="" title=""></p>

<p>In some cases, the answer will be "yes, we want to be this reliable". But you just won't be given the right tools to do it.</p>

<p>At Honeycomb, we want on-call rotations to have 5-8 people on them because that’s what we think gives a good pace that maintains a balance between how rested and how out-of-practice people can be. Not too often nor not often enough.</p>

<p>But many services are owned by smaller teams of 3-4 people. If we wanted rotations to be made of people who know all their components in depth, where they could build expertise and operate what they wrote, we couldn't reach a sustainable frequency.</p>

<p>Instead, to keep the pace right, we tend to put together rotations made of multiple teams, for which people won’t understand many of the components they operate. This in turn makes us prepare to deal with more unknown: fewer runbooks, more high-level switches and manual circuit breakers to gracefully degrade parts of the system to keep it running off-hours, and with different patterns of escalation.</p>

<p>We started leaning more heavily on this when a big public product launch required shipping a new feature, which was to be operated by a team that didn't have full time to get it operationally ready. When our SRE team was discussing with them what still needed to be done, we asked for a few simple things: a way to switch the feature off for a single customer, and a way to turn it off entirely, that wouldn't break the rest of the product. The rest we could add as we went.</p>

<p>We ended up using these switches a few times, one of which prevented a surprising write-amplification bug that could have killed the whole system, and instead let us wait a few hours for the code owners to get up and fix it at a leisurely pace. We're going to accept a bit of well-scoped, partial unavailability—something that happens a lot in large distributed systems—in order to keep the system stable.</p>

<p>The person wearing the pager often does triage and that weird issues will eventually be handled by code owners, just not right now.</p>

<p>This approach means that rather than working impossible hours and making inhuman efforts foreseeing the unforeseeable, we keep moving rather fast, gather feedback, find issues, and turn around a bit more on a dime. In order to do this though, there’s a general understanding that production issues may turn parts of the roadmap upside down, that escalations outside of the call rotation can disrupt project work, and so on.</p>

<p>That’s one of the complex trade-offs we can make between staffing, training/onboarding, capacity planning, iterative development, testing approaches, operations, roadmap, and feature delivery. And you know, for some parts of our infra we make different decisions because the consequences and mechanisms differ.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/14.png" alt="" title=""></p>

<p>To make these tricky decisions, you have to be able to bring up these constraints, these challenges, and have them be discussed openly without a repression that forces them underground.</p>

<p>One of my favorite examples is from a prior job, where one of my first mandates was to try and help with their reliability story. We went over 30 or so incident reports that had been written over the previous year, and a pattern that quickly came up was how many reports mentioned "lack of tests" (or lack of good tests) as causes, and had "adding tests" in action items.</p>

<p>By looking at the overall list, our initial diagnosis was that testing practices were challenging. We thought of improving the ergonomics around tests (making them faster) and to also provide training in better ways to test. But then we had another incident where the review reported tests as an issue, so I decided to jump in.</p>

<p>I reached out to the engineers in question and asked about what made them feel like they had enough tests. I said that we often write tests up until the point we feel they're not adding much anymore, and that I was wondering what they were looking at, what made them feel like they had reached the points where they had enough tests. They just told me directly that they knew they didn't have enough tests. In fact, they knew that the code was buggy. But they felt in general that it was safer to be on-time with a broken project than late with a working one. They were afraid that being late would put them in trouble and have someone yell at them for not doing a good job.</p>

<p>When I went up to upper management, they absolutely believed that engineers were empowered and should feel safe pressing a big red button that stopped feature work if they thought their code wasn't ready. The engineers on that team felt that while this is what they were being told, in practice they'd still get in trouble.</p>

<p>There's no amount of test training that would fix this sort of issue. The engineers knew they didn't have enough tests and they were making that tradeoff willingly.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/15.png" alt="" title=""></p>

<p><em>(note: this slide was cut from the presentation since I was short on time)</em></p>

<p>Speaking of which, sometimes it’s also fine to drop reliability because there are bigger systemic threats.</p>

<p>Sometimes you can eat downtime or degraded service because it’s going to keep your workload manageable and people from burning out. or maybe you take a hit because a big customer that makes you hit your targets as an org and can prevent layoffs will put some things over the limit and a component’s performance will suffer. You can’t be the department of “no” and that negotiation has to be done across departments.</p>

<p>Conversely however, you have to be able to call out when your teams are strained, when targets aren’t being met and customers are complaining about it. It means you might be right, and some deadlines or feature delivery could be deferred to make room for others.</p>

<p>How do you deal with capacity planning when making your biggest customer renew their contract prevents you from signing up another one that’s as big? Very carefully, by talking it out by all the involved people.</p>

<p>And sometimes that trade-off is very reasonable. And good engineering requires you to move it earlier in the lifecycle of software than just around incidents. It’s much simpler to change the shape of a product’s features than it is to deliver the perfect distributed systems sometimes. Making your features take the ideal shape to deal with the reality of physics is one of the things a good collaborative approach can facilitate.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/16.png" alt="" title=""></p>

<p>So we can make tradeoff negotiation simpler by having these honest discussions, but in many cases this ability to discuss constraints to influence how work takes place brings us to this next step, where we don’t only influence the decisions people make, but surface these challenges to influence how the organization applies its pressures. This is moving from the local level to the alignment to the broader org structure.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/17.png" alt="" title=""></p>

<p>Metrics are good to direct your attention and confirm hypotheses, but not as a target, and they’re unlikely to be good for insights. <a href="https://ferd.ca/plato-s-dashboards.html">They’re compression, and it can be unreliable</a>.</p>

<p>The thing you generally care about is your customer or user's satisfaction, but there's a limit to how many times you can ask "would you recommend us to a friend?" and still get a good signal. So you start picking a surrogate variable.</p>

<p>You assume that when the site is down and slow, people are mad, and you make being up and fast a proxy for satisfaction. But then that signal is a bit messy and not super actionable, because it can include user devices or bits of the network you don't control, plus it's hard to measure, so you'll settle for response time at the edge of your infrastructure. This loses fidelity into the signal, but it'll get worse as you suddenly find some teams have more data than others, and they use features differently, so you either need a ton of alarms or fewer messier ones, but you're getting further and further away from whether people are actually satisfied.</p>

<p>This loss of context is a critical part of dealing with systems that are too complex to adequately be represented by a single aggregate. Whenever a signal is useful, an in-depth dive is usually worth it if you are looking to embrace complexity.</p>

<p>The metric is better used to attract your attention than as a target or as something that tells you what to know. Seek to explain and understand the metric first, not to change it.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/18.png" alt="" title=""></p>

<p>As a related concept, if you act on a leading indicator, it stops leading, particularly when it’s influenced by trade-offs.</p>

<p>Metrics that become their own targets and are gamed of course lose meaningfulness; this is one of the most common issues with counting incidents and then debating whether an outage should or shouldn’t be declared in a way that might affect the tally rather than addressing it directly.</p>

<p>But other metrics are of interest as well. If you evaluate your total capacity by some bottleneck’s value, and that this bottleneck is a target of optimization work, you will lose the ability to easily know when or how to scale up because that bottleneck possibly hid something else. This is contributing to a non-negligible portion of our incidents at work I believe. We fix a thing that acted as an implicit blocker and off we go into the great unknown.</p>

<p>Our storage engine's disk storage used to be our main bottleneck. We drove scaling out and rebalancing traffic based on how close we were to heavy usage across multiple partitions. This was a useful signal, but it also drove costs up, and eventually became the target of optimization.</p>

<p>An engineer successfully made our data offloading almost an order of magnitude faster, and eliminated our most glaring scaling issues at the time. Removing this limit however messed with our ability to know when to scale, which then revealed issues with file descriptors, memory, and snapshotting times.</p>

<p>The only good advice I have here is to re-evaluate your metrics often, and change them. I guess there’s also a lesson to be learned that improvements can also cause their own uncertainty and that these successes can themselves lead to destabilizations.</p>

<p>Because we no longer needed to scale out as aggressively and were free to discover new issues, and one of our best improvements to the system in recent memory is therefore also a contributor to a lot of operational challenges.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/19.png" alt="" title=""></p>

<p>Things that people think are useful are possibly going to happen even if you forbid them. If you forbid people from logging onto production hosts, and they truly think they'll need it for emergency situations, they'll make sure there's still a way for it to happen, albeit under a different name.</p>

<p>On the other hand, things that people think are useless are likely to be done in a minimal way with no enthusiasm, such as lying in your timesheets.</p>

<p>This means that writing a procedure means little unless people actually see its value and believe it’s worth following. Conversely, it means that if you can demonstrate the usefulness and make some approaches more usable, they’re likely to get adopted regardless of what is written down as a list of steps or procedures.</p>

<p>A related concept here is one here is that if you are tracking things like action items after an incident reviews and they go in the backlog to die, it may not be that your people are failing to follow through; it might also be that it’s impractical to do so, or it’s could also be that these action items were never feeling useful, and the process itself needs to be revisited rather than reinforced.</p>

<p>Seeing non-compliance is not necessarily a sign of bad workers. It may rather be a sign of a bad understanding of the workers' challenges, and point to a need to adjust how work is prescribed.</p>

<p>Getting a small real buy-in into something voluntary may be better than getting fake buy-in into something you’re forcing people to do. Of course if you manage to write a good procedure that people believe are worth following, more power to you, this is going great.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/20.png" alt="" title=""></p>

<p>The shortest feedback loop may be attained by giving people the tools to make the right decisions right there and then, and let them do it. Cut the middlemen, including yourself.</p>

<p>How do you make that work? We come back to goal alignments and top priorities being harmonized and well understood. If the pressures and goals are understood better, the decisions made also work better.</p>

<p>That does mean that you have to listen back about how these things have been going, and that not only do you need to trust your people, but they need to trust you back with critical and unpleasant information as well. The feedback flows both ways, and this hinges on psychological safety.</p>

<p>If you've ever talked to a contractor asked to help a big organization, the first thing they'll tell you they do is go talk to the workers with boots on the ground, and ask them what they think needs changing. They'll often have years of potential improvements backlogged, and that they're ready to tell anyone about. Either because management wouldn't listen to it, or because the workers lost trust that voicing that feedback would yield any result.</p>

<p>Then the contractor brings it up to management as a neutral party, and suddenly it gets listened to and acted upon.</p>

<p>If you've lost that trust, then contractors can play that specific role of workers at the periphery of the organization helping drive change, and they can play a very useful function.</p>

<p>But if you have that trust already, maintaining it is crucial because that’s how you get all the good information to help orient and influence things.</p>

<p>Trust also means that if you want people to be innovative, you have to allow them to make mistakes. You can’t get it right the first time all the time; if people can’t be allowed to get it wrong here and there, they won’t be allowed to improve and try new things either.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/21.png" alt="" title=""></p>

<p>Finally, let's look at shifting perspective away from a bare analysis and onto a more systemic point of view. People in specific teams often have a more detailed expert view than you could either have, but if you're standing outside of it, your strength might be to understand how the parts interact in a way that isn't visible to the inside.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/22.png" alt="" title=""></p>

<p>The most basic point here is that you can’t expect to change the outcome of these small little decisions that accumulate all the time if you never address the pressures within the system that foster them.</p>

<p>I used to try and weed my lawn a whole hell of a lot and pull the weeds hours a week until someone explained to me that weeds grew easier in the type of soil I had (poor, dry, unmaintained soil) than grass, and pulling the weeds wasn’t the way to go, I needed to actually make the soil good for the grass to crowd out the weeds.</p>

<p>It's similar when considering this whole idea of root cause analysis—of trying to find the one source of the problem and removing it. If your root cause is at the weed’s level, you’ll keep pulling on them forever and will rarely make decent progress. The weeds will keep growing no matter how many roots you remove.</p>

<p>If you foster good soil, if you create the right environment that encourages the type of behavior you want instead of the type of behaviour you dislike, you have hopes that the good stuff will crowd out the bad stuff. That’s a roundabout way of talking about culture change. And for these, deep dives based on <a href="https://ferd.ca/notes/paper-accident-report-interpretation.html">richer narratives</a> and <a href="https://www.jeli.io/howie/welcome">thematic analysis</a> prove more useful.</p>

<p>Also there's a warning here about trying to change the decisions your people make with carrots and sticks—with incentives. They are not going to fundamentally change what pressures the employees negotiate. The pressures stay the same, all you're doing is adding more of them, either in the form of rewards or punishments, which makes decision-making more complex and trickier.</p>

<p>Chances are people will keep making the same decisions as they were already, but then they'll report it differently to either get their bonus or to avoid getting penalized for it. Surfacing, understanding, and clarifying goal conflicts can make things easier or shape work to give them more room. Adding carrots and sticks can make things harder.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/23.png" alt="" title=""></p>

<p>But the tip here is probably: look into what are the behaviors you want to see happen, and give them room to grow.</p>

<p>My most successful initiative at Honeycomb is probably creating <a href="https://www.honeycomb.io/blog/oncallogy-sessions-best-practices">weekly discussion sessions about operational stuff and on-call</a>. They range from “how do we operate new service X” into trickier discussions like “is it okay to be visibly angry in an incident”, “how do you deal with shit you don’t know or avoid burnout” or “are there times where code freezes are actually a useful thing?”.</p>

<p>Over time we looked into all sorts of weird interactions and the meeting became its own tool.</p>

<p>When we noticed incident reviews were difficult to schedule across departments and timezones, we decided that a good wide incident review is good operational talk and started making the optional time slot, which was already on every engineer's calendar (and some other departments too), available for them. It became easier for people to run incident reviews, and over time their size grew from 7-8 people, scoped to 1 or 2 teams, to bigger events with 20 to 40 people in them.</p>

<p>We removed a huge but subtle blocker to good feedback loops existing within the organization.</p>

<p>These sorts of small changes are those you can drive locally with almost no risk of having them run afoul of organizational priorities, and when you see them work, use the org structure to expand them everywhere.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/24.png" alt="" title=""></p>

<p>I find it useful to keep focusing on what an indicator triggers as a behavior (the interaction) rather than <em>only</em> what it reports directly. This slide here is 4 error budgets from our SLOs, which combine how successful requests are both in terms of speed and errors, compared to an objective we express in terms of the desired fault rate.</p>

<p>When we have to pick targets for our platform, people often ask whether we could pick some key SLOs and turn them as the objective. My answer is almost always "I don't care if we meet the SLOs or not". I mean I care, but not like that.</p>

<p>SLOs aren’t hard and fast rules. When the error budget is empty, the main thing that matters to me is that we have a conversation about it, and decide what it is we want to happen from there on. Are we going to hold off on deploys and experiments? Are we able to meet the objectives while on-call, with some schedule corrective work, some major re-architecting? Can we just talk to the customers? Were our targets too ambitious or are we going to eat dirt for a while?</p>

<p>Kneejerk automated reactions aren’t nearly as useful as sitting down and having a cross-departmental discussion about what it is we want to do, as an organization, about these signals of unmet expectations. If it fits within on-call duty, like what is probably the case with the error budget on the top left, then fine.</p>

<p>But in other cases, such as the top right budget here, which seems to show a gradual decline, owe have to choose whether to do corrective work (and how/when) to meet the SLO—because that wasn't expected and is undesirable—or maybe to relax it—because that's actually a natural consequence of new more expensive features and we need to tweak definitions. Or we could temporarily ignore it because corrective work is already on the way, but not a top priority right now.</p>

<p>The two budgets at the bottom come from SLOs that may never page anyone. But from time to time, we re-calibrate them by asking support whether there are any issues users complain about that we aren't already aware of. So long as we're ahead of the complaints, we figure the SLOs are properly defined. But from time to time, we find out that we slipped by getting comments on things our alerting never properly captured. Or maybe we needed to better manage the user's expectations—that's also an option.</p>

<p>For any of these choices, we also have to know how this is going to be communicated to users and customers, and having these discussions is the true value of SLOs to me. SLOs that flow outside of engineering teams provide a greater feedback loop about our practices, further upstream, than those that are used exclusively by the teams defining them, regardless of their use for alerting.</p>

<p><img src="https://ferd.ca/static/img/qcon-ny2023/26.png" alt="" title=""></p>

<p>Finally, this is where SREs can be placed in a great way to shine. You can be away from the central roles, away from the decision-making, on the periphery. By being outside of silos and floating around the organization’s structure, you are allowed to take information from many levels, carry it around, and really tie the loop at the end of so many decisions made in the organization by noting and carrying their impact back once they’ve hit a production system.</p>

<p>It is an iterative exercise, our sociotechnical systems are alive, and carrying pertinent signals and amplifying them, you can influence how long it’s gonna take before it all goes to hell anyway.</p>

    </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I thought I wanted to be a professor, then I served on a hiring committee (2021) (197 pts)]]></title>
            <link>https://www.science.org/content/article/i-thought-i-wanted-be-faculty-member-then-i-served-hiring-committee</link>
            <guid>36825204</guid>
            <pubDate>Sat, 22 Jul 2023 11:00:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.science.org/content/article/i-thought-i-wanted-be-faculty-member-then-i-served-hiring-committee">https://www.science.org/content/article/i-thought-i-wanted-be-faculty-member-then-i-served-hiring-committee</a>, See on <a href="https://news.ycombinator.com/item?id=36825204">Hacker News</a></p>
Couldn't get https://www.science.org/content/article/i-thought-i-wanted-be-faculty-member-then-i-served-hiring-committee: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Simpson Fan Grows Tomacco (2003) (138 pts)]]></title>
            <link>https://www.simpsonsarchive.com/news/tomacco.html</link>
            <guid>36824856</guid>
            <pubDate>Sat, 22 Jul 2023 09:44:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.simpsonsarchive.com/news/tomacco.html">https://www.simpsonsarchive.com/news/tomacco.html</a>, See on <a href="https://news.ycombinator.com/item?id=36824856">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <tbody><tr>
      <td>
        <br>
        <span face="Arial" size="5">Simpson Fan Grows Tomacco</span>
        <p>
        <span face="Arial" size="3"><b>Press Release - October 2003</b></span>

        </p><hr size="1" noshade="">


<b>To: KPTV 12 News<br>
Subject: Tomacco exists!</b><p>

I thought you might be interested in the following local story as a 10 O'clock news lead into 
this season's premier of The Simpsons.
</p><p>
I am a fan of Fox 12's The Simpsons, and episode # 1105 [<a href="#notes">1</a>] is my favorite.  Homer had exposed 
a variety of seeds to Plutonium and Tomacco was the only thing that grew.  A foul tasting tomato 
that made everyone addicted after one nasty bite.  I thought it sounded familiar and I found a 
1968 reprint [<a href="#notes">2</a>] of a 1959 Scientific American article where a scientist had grafted tomato 
tops to tobacco roots and gotten nicotine in the tomato plant since the tobacco root produces 
the nicotine.  
</p><p>
I have created live Tomacco here in Lake Oswego.  I grew tomato and tobacco from seed and grafted 
then together creating a tomato plant with tobacco roots.   The leaves and fruit of the tomato 
top should have nicotine in them.  I have moved the plant inside.  Fruit is now 1.7 inches in 
diameter.
</p><center>
<img src="https://www.simpsonsarchive.com/news/tomacco1.jpg" width="302" height="227" alt="">
</center>

<h4>How I created Tomacco:</h4>

I grew the tomato and tobacco plants side by side and cut both stems open and wrapped them together.  
The two plants fused and then I cut off the tomato root leaving the tomato plant dependent on the 
tobacco root for water, nutrients and nicotine!
<center>
<img src="https://www.simpsonsarchive.com/news/tomacco2.jpg" width="352" height="219" alt="">
</center>
<br>
I do not plan on tasting Tomacco since the fatal dose of nicotine is only 50 to 60 milligrams 
[<a href="#notes">3</a>].
<p>
I did an internet search and found no one else had grown Tomacco yet.  This is yet another 
connection between Portland and the Simpsons.
</p><p>
The fruit is red now and I plan on getting it tested for nicotine.  A local lab has offered 
to do the testing for free!   I am going to try to schedule the testing done this Friday, October 24th.
</p><p>
<b>Rob Baur</b><br>
Lake Oswego, OR</p><p>

<a name="notes">Footnotes:</a><br>
[1] <a href="http://www.thesimpsons.com/episode_guide/1105.htm">http://www.thesimpsons.com/episode_guide/1105.htm</a><br>
[2] Bio-Organic Chemistry 1968 pg. 170 ISBN 0-7167-0974-0<br>
[3] <a href="http://www.chemsoc.org/exemplarchem/entries/2002/hook/nicotine.htm">http://www.chemsoc.org/exemplarchem/entries/2002/hook/nicotine.htm</a></p><hr noshade="" size="1">
        <br>
        <center>
        
        <span size="1" face="MS Sans Serif,Geneva">
                [
                  <a href="https://www.simpsonsarchive.com/lists.html">FAQs, Guides &amp; Lists</a> |
                  <a href="https://www.simpsonsarchive.com/upcoming.html">Upcoming Episodes</a> |
                  <a href="https://www.simpsonsarchive.com/episodeguide.html">Episode Guide</a> |
                  <a href="https://www.simpsonsarchive.com/episodes.html">Capsules</a> |
                  <a href="https://www.simpsonsarchive.com/misc.html">Miscellaneous</a> |
                  <a href="https://www.simpsonsarchive.com/contacts.html">Web Links</a> |
                  <a href="https://www.simpsonsarchive.com/news.html">News</a> |
                  <a href="https://www.simpsonsarchive.com/about.html">About</a> |
                  <a href="https://www.simpsonsarchive.com/">Home</a> ]
        </span><span size="2" face="Arial">
        <p>
        Last updated on November 3, 2003 by <a href="mailto:webmaster@snpp.com">webmaster@snpp.com</a>
        </p></span></center>
      </td>
    </tr>
  </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Octos – HTML live wallpaper engine (144 pts)]]></title>
            <link>https://github.com/underpig1/octos</link>
            <guid>36824595</guid>
            <pubDate>Sat, 22 Jul 2023 08:56:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/underpig1/octos">https://github.com/underpig1/octos</a>, See on <a href="https://news.ycombinator.com/item?id=36824595">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/underpig1/octos/blob/master/img/tray.png"><img src="https://github.com/underpig1/octos/raw/master/img/tray.png" alt="Octos icon"></a></p>
<h2 tabindex="-1" dir="auto">Octos - HTML Live Wallpaper Engine</h2>
<p dir="auto">Create, distribute, and explore live, interactive wallpapers on Windows made with HTML, CSS, and JS.</p>
<p dir="auto"><a href="https://github.com/underpig1/octos/actions/workflows/ci.yml"><img src="https://github.com/underpig1/octos/actions/workflows/ci.yml/badge.svg" alt="CI"></a>
<a href="https://github.com/underpig1/octos/actions/workflows/publish.yml"><img src="https://github.com/underpig1/octos/actions/workflows/publish.yml/badge.svg" alt="Publish"></a>
<a href="https://www.npmjs.com/package/octos" rel="nofollow"><img src="https://camo.githubusercontent.com/3ebd98b3b0b61ce884d7db9c7872c7d74393a1842c57140b4613b9eef5eb0e32/68747470733a2f2f62616467652e667572792e696f2f6a732f6f63746f732e737667" alt="NPM Package" data-canonical-src="https://badge.fury.io/js/octos.svg"></a></p>
<p dir="auto"><a href="https://github.com/underpig1/octos/releases">Download</a> | <a href="https://underpig1.github.io/octos/docs" rel="nofollow">Documentation</a> | <a href="https://underpig1.github.io/octos/docs/?t=installation" rel="nofollow">Quickstart</a> | <a href="https://underpig1.github.io/octos/docs/?t=using-the-api" rel="nofollow">API Docs</a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/underpig1/octos/blob/master/img/gallery/main.png"><img src="https://github.com/underpig1/octos/raw/master/img/gallery/main.png" alt="Octos GUI"></a></p>
<h2 tabindex="-1" dir="auto"><g-emoji alias="construction" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f6a7.png">🚧</g-emoji> Pardon the mess: thanks for testing out Octos!</h2>
<p dir="auto">Octos is currently in an early stage of development. To help out, consider <a href="https://github.com/underpig1/octos/issues/new">submitting a feature request or reporting an issue</a>. And of course, if you have an awesome wallpaper you made that you want to share, consider <a href="https://underpig1.github.io/octos/docs/?t=publishing" rel="nofollow">publishing it</a> on the platform. As always, check out the <a href="https://underpig1.github.io/octos/docs/?t=installation" rel="nofollow">API docs</a> for resources and guides. Thanks!</p>
<h2 tabindex="-1" dir="auto">Installation</h2>
<blockquote>
<p dir="auto">Download the Octos app for Windows (under construction)</p>
</blockquote>
<p dir="auto">Visit <a href="https://github.com/underpig1/octos/releases">releases</a> to download the latest binaries.</p>
<p dir="auto">Note: your OS may give a Smartscreen warning. I haven't yet gotten around to certifying/signing the app. Right now, I just want to get your impressions and testing on the app, but in the next phase (soon) I'll be working on that as well as hopefully publishing to the Microsoft Store.</p>
<h2 tabindex="-1" dir="auto">Gallery</h2>
<p dir="auto">Here are some sample mods I threw together to demo the app's capabilities. All of them are available through the Octos app. <a href="https://underpig1.github.io/octos/docs/?t=publishing" rel="nofollow">Contribute your own...</a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/underpig1/octos/blob/master/img/gallery/ethereal.gif"><img src="https://github.com/underpig1/octos/raw/master/img/gallery/ethereal.gif" alt="Ethereal" width="600px" data-animated-image=""></a></p>
<h3 tabindex="-1" dir="auto">Ethereal</h3>
<p dir="auto">An interactive media player that ripples as your mouse passes over it.</p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/underpig1/octos/blob/master/img/gallery/terminal.gif"><img src="https://github.com/underpig1/octos/raw/master/img/gallery/terminal.gif" alt="Terminal" width="600px" data-animated-image=""></a></p>
<h3 tabindex="-1" dir="auto">Terminal</h3>
<p dir="auto">A digital clock with a live old TV effect and customizable 3D text art.</p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/underpig1/octos/blob/master/img/gallery/imgbg.gif"><img src="https://github.com/underpig1/octos/raw/master/img/gallery/imgbg.gif" alt="Image Background" width="600px" data-animated-image=""></a></p>
<h3 tabindex="-1" dir="auto">Image Background</h3>
<p dir="auto">Set your background to any image/gif/video and add widgets like a media controller, clock, and calender.</p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/underpig1/octos/blob/master/img/gallery/gradient.png"><img src="https://github.com/underpig1/octos/raw/master/img/gallery/gradient.png" alt="Gradient" width="600px"></a></p>
<h3 tabindex="-1" dir="auto">Gradient</h3>
<p dir="auto">A simple analog desktop clock with a calming color-changing gradient background.</p>
<h2 tabindex="-1" dir="auto">Octos Native API</h2>
<p dir="auto">Making your own live wallpaper is super easy with Octos' native API.</p>
<div dir="auto" data-snippet-clipboard-copy-content="<html>
    <body>
        <p>Now playing: <span id=&quot;song-title&quot;></span></p>
        <button onclick=&quot;nextTrack()&quot;>Next track</button>

        <script src=&quot;https://unpkg.com/octos@latest/octos.js&quot;></script>
        <script>
            const controller = new octos.MediaController();

            controller.on(&quot;track&quot;, (e) => {
                document.getElementById(&quot;song-title&quot;).innerText = e.title;
            });

            function nextTrack() {
                controller.nextTrack();
            }
        </script>
    </body>
</html>"><pre><span>&lt;</span><span>html</span><span>&gt;</span>
    <span>&lt;</span><span>body</span><span>&gt;</span>
        <span>&lt;</span><span>p</span><span>&gt;</span>Now playing: <span>&lt;</span><span>span</span> <span>id</span>="<span>song-title</span>"<span>&gt;</span><span>&lt;/</span><span>span</span><span>&gt;</span><span>&lt;/</span><span>p</span><span>&gt;</span>
        <span>&lt;</span><span>button</span> <span>onclick</span>="<span>nextTrack()</span>"<span>&gt;</span>Next track<span>&lt;/</span><span>button</span><span>&gt;</span>

        <span>&lt;</span><span>script</span> <span>src</span>="<span>https://unpkg.com/octos@latest/octos.js</span>"<span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span>
        <span>&lt;</span><span>script</span><span>&gt;</span>
            <span>const</span> <span>controller</span> <span>=</span> <span>new</span> <span>octos</span><span>.</span><span>MediaController</span><span>(</span><span>)</span><span>;</span>

            <span>controller</span><span>.</span><span>on</span><span>(</span><span>"track"</span><span>,</span> <span>(</span><span>e</span><span>)</span> <span>=&gt;</span> <span>{</span>
                <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>"song-title"</span><span>)</span><span>.</span><span>innerText</span> <span>=</span> <span>e</span><span>.</span><span>title</span><span>;</span>
            <span>}</span><span>)</span><span>;</span>

            <span>function</span> <span>nextTrack</span><span>(</span><span>)</span> <span>{</span>
                <span>controller</span><span>.</span><span>nextTrack</span><span>(</span><span>)</span><span>;</span>
            <span>}</span>
        <span>&lt;/</span><span>script</span><span>&gt;</span>
    <span>&lt;/</span><span>body</span><span>&gt;</span>
<span>&lt;/</span><span>html</span><span>&gt;</span></pre></div>
<p dir="auto">Use the Octos API to:</p>
<ul dir="auto">
<li>Get playback info</li>
<li>Media/playback controls</li>
<li>Read and write to local storage</li>
<li>Access file system</li>
<li>Read and write user preferences</li>
<li>Access system information</li>
<li><a href="https://underpig1.github.io/octos/docs/?t=using-the-api" rel="nofollow">Learn more with the API Docs</a></li>
</ul>
<h2 tabindex="-1" dir="auto">Share your Wallpaper</h2>
<p dir="auto">Once you make your own awesome wallpaper, share it for other people to download from the Octos explore page.</p>
<p dir="auto">See the <a href="https://underpig1.github.io/octos/docs/?t=publishing" rel="nofollow">publishing guide</a> for more details. Visit the <a href="https://github.com/underpig1/octos-community/tree/master">community library</a> to see more mods available for download.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Plane – open-source Jira alternative (387 pts)]]></title>
            <link>https://plane.so</link>
            <guid>36824450</guid>
            <pubDate>Sat, 22 Jul 2023 08:21:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://plane.so">https://plane.so</a>, See on <a href="https://news.ycombinator.com/item?id=36824450">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><h2>START SIMPLE</h2><p>Simple, yet great UX, so you can get started in minutes</p><p>Start as a basic task tracking tool. Customize your workflows, based on Backlog, Unstarted, Started, Completed issues, in just a few seconds, and view it as you like.</p><dl><div><p><span><dt>Visualize as you like.</dt> <dd>Switch between List, Kanban, or Calendar across any views within clicks.</dd></span></p></div><div><p><span><dt>Custom workflows.</dt> <dd>Define unique issue states for each team, and extend them the way you like.</dd></span></p></div><div><p><span><dt>Easy Importers.</dt> <dd>Import issues from your existing issue tracker into Plane in just couple of minutes. Coming soon for self-hosted.</dd></span></p></div></dl></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bun v0.7.0 (195 pts)]]></title>
            <link>https://bun.sh/blog/bun-v0.7.0</link>
            <guid>36823723</guid>
            <pubDate>Sat, 22 Jul 2023 06:04:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bun.sh/blog/bun-v0.7.0">https://bun.sh/blog/bun-v0.7.0</a>, See on <a href="https://news.ycombinator.com/item?id=36823723">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><p>We're pleased to announce Bun v0.7.0, a big leap forward in terms of Node.js compatibility.</p><p>We're hiring C/C++ and Zig engineers to build the future of JavaScript! <a href="https://bun.sh/careers">Join our team →</a></p><p>Bun is an incredibly fast JavaScript runtime, bundler, transpiler, and package manager — all in one. Over the past couple months, we've been releasing a lot of changes to Bun recently, here's a recap in case you missed it:</p><ul><li><a href="https://bun.sh/blog/bun-v0.6.10"><code>v0.6.10</code></a> - <code>fs.watch()</code>, <code>bun install</code> bug fixes, <code>bun test</code> features, and improved CommonJS support</li><li><a href="https://bun.sh/blog/bun-v0.6.10"><code>v0.6.11</code></a> - Addressed a release build issue from <code>v0.6.10</code>.</li><li><a href="https://bun.sh/blog/bun-v0.6.12"><code>v0.6.12</code></a> - Sourcemap support in <code>Error.stack</code>, <code>Bun.file().exists()</code>, and Node.js bug fixes.</li><li><a href="https://bun.sh/blog/bun-v0.6.13"><code>v0.6.13</code></a> - Implemented mock <code>Date</code>, faster base64 encoding, and fixes for <code>WebSocket</code> and <code>node:tls</code>.</li><li><a href="https://bun.sh/blog/bun-v0.6.14"><code>v0.6.14</code></a> - <code>process.memoryUsage()</code>, <code>process.cpuUsage()</code>, <code>process.on('beforeExit', cb)</code>, <code>process.on('exit', cb)</code> and crash fixes</li></ul><p>To install Bun:</p><div id="RWUelGtIHM"><div><p>curl</p><div><pre><code><span><span>curl -fsSL https://bun.sh/install </span><span>|</span><span> bash</span></span></code></pre></div></div><div><p>docker</p><div><pre><code><span><span>docker run --rm --init --ulimit memlock=-1:-1 oven/bun</span></span></code></pre></div></div></div><p>To upgrade Bun:</p><h2 level="2" anchor-id="vite-support"><a name="vite-support"></a><a href="#vite-support">Vite support</a></h2><p><em>Support is still experimental and non-optimized.</em> Vite does not use Bun's bundler, module resolver, or transpiler, even when run with Bun.</p><p>With the recent strides towards Node.js API compatibilty, Bun can now run <a href="https://vitejs.dev/"><code>vite dev</code></a>, thanks to <a href="https://github.com/paperdave">@paperdave</a>! This is one of Bun's <a href="https://github.com/oven-sh/bun/issues/250">most upvoted issues</a>.</p><p>To try this with one of Vite's starter projects, use <code>bunx</code>:</p><p>Then start the dev server.</p><p><strong>Why <code>--bun</code>?</strong> The <code>--bun</code> flag tells Bun to override the <code>#! /usr/bin/env node</code> shebang in the <code>vite</code> CLI and execute the file with Bun instead of Node.js. In a future release this will be the default behavior.</p><figure><a href="https://user-images.githubusercontent.com/709451/254804727-725bf67c-c60f-4eec-b472-07d52b650a93.gif"><img src="https://user-images.githubusercontent.com/709451/254804727-725bf67c-c60f-4eec-b472-07d52b650a93.gif" caption="Hot module reloading with Vite"></a><figcaption>Hot module reloading with Vite</figcaption></figure><p>This is a great way to develop frontend code with Bun's APIs on the server when building frontend apps.</p><p>Note: if you run <code>bun vite dev</code> without <code>-b</code> or <code>--bun</code>, it will still run in Node.js as <code>vite</code>'s CLI specifies <code>#!/usr/bin/env node</code> at the top which tells Bun (and other software on your computer) to run it in Node.js.</p><h2 level="2" anchor-id="concurrency-with-worker"><a name="concurrency-with-worker"></a><a href="#concurrency-with-worker">Concurrency with <code>Worker</code></a></h2><p>Bun now supports <a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker"><code>Worker</code></a> which allows you to run another JavaScript instance in a separate thread. In Bun, workers support ES Modules, CommonJS, TypeScript, JSX, and the rest of Bun's features with no extra configuration.</p><p>As in browsers, <code>Worker</code> is a global class. To create a worker from the main thread:</p><div><p>main.ts</p><div><pre><code><span><span>const</span><span> worker </span><span>=</span><span> </span><span>new</span><span> </span><span>Worker</span><span>(</span><span>"</span><span>./worker.ts</span><span>"</span><span>);</span></span>
<span><span>worker.</span><span>addEventListener</span><span>(</span><span>"</span><span>message</span><span>"</span><span>, (</span><span>event</span><span>:</span><span> </span><span>MessageEvent</span><span>) </span><span>=&gt;</span><span> {</span></span>
<span><span>  console.</span><span>log</span><span>(</span><span>"</span><span>Message from worker:</span><span>"</span><span>, event.data);</span></span>
<span><span>});</span></span>
<span><span>worker.</span><span>postMessage</span><span>(</span><span>"</span><span>Hello from main thread!</span><span>"</span><span>);</span></span>
<span></span></code></pre></div></div><p>On the worker thread:</p><div><p>worker.ts</p><div><pre><code><span><span>addEventListener</span><span>(</span><span>"</span><span>message</span><span>"</span><span>, (</span><span>event</span><span>:</span><span> </span><span>MessageEvent</span><span>) </span><span>=&gt;</span><span> {</span></span>
<span><span>  console.</span><span>log</span><span>(</span><span>"</span><span>Message from main thread:</span><span>"</span><span>, event.data);</span></span>
<span><span>  </span><span>postMessage</span><span>(</span><span>"</span><span>Hello from worker thread!</span><span>"</span><span>);</span></span>
<span><span>});</span></span>
<span></span>
<span></span></code></pre></div></div><p>This release <em>does not</em> include support for the <code>node:worker_threads</code> module, but this unblocks the work necessary for us to implement it in Bun.</p><p>The following globals have been added to Bun:</p><ul><li><code>postMessage</code></li><li><code>addEventListener</code></li><li><code>removeEventListener</code></li><li><code>onmessage</code> (getter/setter)</li></ul><p>Refer to <a href="https://bun.sh/docs/api/workers">Docs &gt; API &gt; Workers</a> to learn more about using <code>Worker</code> in Bun.</p><h3 level="3" anchor-id="using-comlink-with-bun"><a name="using-comlink-with-bun"></a><a href="#using-comlink-with-bun">Using <code>comlink</code> with Bun</a></h3><p>The popular <a href="https://github.com/GoogleChromeLabs/comlink"><code>comlink</code></a> package works in Bun without changes. This library makes it easier to share functions and state between main and worker threads.</p><h3 level="3" anchor-id="structuredclone-support"><a name="structuredclone-support"></a><a href="#structuredclone-support"><code>structuredClone()</code> support</a></h3><p>As in browsers, <code>postMessage</code> serializes messages using the <em>structured clone algorithm</em>. Bun now exposes this via the Web-standard<a href="https://developer.mozilla.org/en-US/docs/Web/API/structuredClone"><code>structuredClone()</code></a> function, which provides a mechanism for deep-cloning objects. It is similar to <code>JSON.parse(JSON.stringify(obj))</code>, but it supports more types.</p><div><pre><code><span><span>const</span><span> obj </span><span>=</span><span> { a</span><span>:</span><span> </span><span>1</span><span>, b</span><span>:</span><span> </span><span>2</span><span> };</span></span>
<span><span>const</span><span> clone </span><span>=</span><span> </span><span>structuredClone</span><span>(obj);</span></span>
<span></span></code></pre></div><h2 level="2" anchor-id="asynclocalstorage-support"><a name="asynclocalstorage-support"></a><a href="#asynclocalstorage-support"><code>AsyncLocalStorage</code> support</a></h2><p>Bun now implements <code>AsyncLocalStorage</code> from the <code>node:async_hooks</code> module. This provides a mechanism for passing contextual data through a chain of asynchronous code. This is a big step towards supporting Next.js and other frameworks that rely on this module.</p><div><pre><code><span><span>import</span><span> { AsyncLocalStorage } </span><span>from</span><span> </span><span>"</span><span>node:async_hooks</span><span>"</span><span>;</span></span>
<span></span>
<span><span>const</span><span> requestId </span><span>=</span><span> </span><span>new</span><span> </span><span>AsyncLocalStorage</span><span>();</span></span>
<span><span>let</span><span> lastId </span><span>=</span><span> </span><span>0</span><span>;</span></span>
<span></span>
<span><span>Bun.</span><span>serve</span><span>({</span></span>
<span><span>  </span><span>fetch</span><span>(</span><span>request</span><span>) {</span></span>
<span><span>    lastId</span><span>++</span><span>;</span></span>
<span><span>    </span><span>// Run the callback with 'requestId' set. async_hooks will preserve</span></span>
<span><span>    </span><span>// this value through any chain of asynchronous code.</span></span>
<span><span>    </span><span>return</span><span> requestId.</span><span>run</span><span>(lastId, </span><span>async</span><span> () </span><span>=&gt;</span><span> {</span></span>
<span><span>      console.</span><span>log</span><span>(</span><span>"</span><span>Request ID: ${requestId getStore ()}</span><span>"</span><span>);</span></span>
<span><span>      </span><span>await</span><span> Bun.</span><span>sleep</span><span>(</span><span>500</span><span>);</span></span>
<span><span>      </span><span>// Even if new requests mutate 'lastId', 'requestId' is still preserved.</span></span>
<span><span>      </span><span>return</span><span> </span><span>new</span><span> </span><span>Response</span><span>(</span><span>"</span><span>Request ID: ${requestId. getStore ()}</span><span>"</span><span>);</span></span>
<span><span>    });</span></span>
<span><span>  },</span></span>
<span><span>});</span></span>
<span></span></code></pre></div><h2 level="2" anchor-id="reduce-memory-usage-with-bun-smol"><a name="reduce-memory-usage-with-bun-smol"></a><a href="#reduce-memory-usage-with-bun-smol">Reduce memory usage with <code>bun --smol</code></a></h2><p><code>bun --smol</code> is a new CLI flag which configures the JavaScriptCore heap size to be smaller and grow slower, at a cost to runtime performance. This is useful for running Bun in memory-constrained environments.</p><p>To avoid setting the flag manually, you can set this as a default in <code>bunfig.toml</code>.</p><div><p>bunfig.toml</p><div><pre><code><span><span>smol</span><span> </span><span>=</span><span> </span><span>true</span></span>
<span></span>
<span><span>[</span><span>test</span><span>]</span></span>
<span><span># set it only for tests, if you want</span></span>
<span><span>smol</span><span> </span><span>=</span><span> </span><span>true</span></span>
<span></span></code></pre></div></div><h2 level="2" anchor-id="bail-in-bun-test"><a name="bail-in-bun-test"></a><a href="#bail-in-bun-test"><code>--bail</code> in <code>bun test</code></a></h2><p>Running <code>bun test</code> with <code>--bail=1</code> will exit after the first test failure.</p><div><pre><code><span><span>bun test v0.7.0</span></span>
<span><span></span></span>
<span><span>✓ test1 [0.02ms]</span></span>
<span><span>test2.test.js:</span></span>
<span><span>1 | import {test, expect} from 'bun:test';</span></span>
<span><span>2 |</span></span>
<span><span>3 | test('test2', () =&gt; {</span></span>
<span><span>4 |   expect(2).toEqual(3);</span></span>
<span><span>      ^</span></span>
<span><span>error: expect(received).toEqual(expected)</span></span>
<span><span>Expected: 3</span></span>
<span><span>Received: 2</span></span>
<span><span>      at /Users/colinmcd94/Documents/bun/fun/test/test2.test.js:13:8</span></span>
<span><span>✗ test2 [0.18ms]</span></span>
<span><span>Ran 2 tests across 2 files. [8.00ms]</span></span>
<span><span>Bailed out after 1 failures</span></span></code></pre></div><p>This is useful for CI environments or when you want to stop running tests after the first failure. Thanks to <a href="https://github.com/TiranexDev">@TiranexDev</a> for landing this improvement!</p><h2 level="2" anchor-id="bun-readablestreamtoformdata"><a name="bun-readablestreamtoformdata"></a><a href="#bun-readablestreamtoformdata"><code>Bun.readableStreamToFormData()</code></a></h2><p>Bun now exposes a helper for converting a <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream">ReadableStream</a> into <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData">FormData</a>.</p><p>It supports multipart form data.</p><div><pre><code><span><span>import</span><span> { readableStreamToFormData } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>// without dashes</span></span>
<span><span>const</span><span> boundary </span><span>=</span><span> </span><span>"</span><span>WebKitFormBoundary</span><span>"</span><span> </span><span>+</span><span> </span><span>Math</span><span>.</span><span>random</span><span>().</span><span>toString</span><span>(</span><span>16</span><span>).</span><span>slice</span><span>(</span><span>2</span><span>);</span></span>
<span></span>
<span><span>const</span><span> myStream </span><span>=</span><span> </span><span>getStreamFromSomewhere</span><span>(); </span><span>// ...</span></span>
<span><span>const</span><span> formData </span><span>=</span><span> </span><span>await</span><span> Bun.</span><span>readableStreamToFormData</span><span>(stream, boundary);</span></span>
<span><span>formData.</span><span>get</span><span>(</span><span>"</span><span>foo</span><span>"</span><span>); </span><span>// "bar"</span></span>
<span></span></code></pre></div><p>It also supports URL-encoded form data:</p><div><pre><code><span><span>import</span><span> { readableStreamToFormData } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>const</span><span> stream </span><span>=</span><span> </span><span>new</span><span> </span><span>Response</span><span>(</span><span>"</span><span>hello=123</span><span>"</span><span>).body;</span></span>
<span><span>const</span><span> formData </span><span>=</span><span> </span><span>await</span><span> </span><span>readableStreamToFormData</span><span>(stream);</span></span>
<span><span>formData.</span><span>get</span><span>(</span><span>"</span><span>hello</span><span>"</span><span>); </span><span>// "123"</span></span>
<span></span></code></pre></div><p>We added this to help fix a bug causing <code>request.formData()</code> and <code>response.formData()</code> to hang when the body was a <code>ReadableStream</code> from JavaScript.</p><h2 level="2" anchor-id="serialize-and-deserialize-in-bun-jsc"><a name="serialize-and-deserialize-in-bun-jsc"></a><a href="#serialize-and-deserialize-in-bun-jsc"><code>serialize</code> and <code>deserialize</code> in <code>bun:jsc</code></a></h2><p>The <code>bun:jsc</code> module now exports <code>serialize()</code> and <code>deserialize()</code>, which convert JavaScript objects to <code>ArrayBuffer</code> and back.</p><div><pre><code><span><span>import</span><span> { serialize, deserialize } </span><span>from</span><span> </span><span>"</span><span>bun:jsc</span><span>"</span><span>;</span></span>
<span><span>import</span><span> { deepEquals } </span><span>from</span><span> </span><span>"</span><span>bun</span><span>"</span><span>;</span></span>
<span></span>
<span><span>const</span><span> obj </span><span>=</span><span> { a</span><span>:</span><span> </span><span>1</span><span>, b</span><span>:</span><span> </span><span>2</span><span> };</span></span>
<span><span>const</span><span> buffer </span><span>=</span><span> </span><span>serialize</span><span>(obj);</span></span>
<span><span>const</span><span> clone </span><span>=</span><span> </span><span>deserialize</span><span>(buffer);</span></span>
<span></span>
<span><span>if</span><span> (</span><span>deepEquals</span><span>(obj, clone)) {</span></span>
<span><span>  console.</span><span>log</span><span>(</span><span>"</span><span>They are equal!</span><span>"</span><span>);</span></span>
<span><span>}</span></span>
<span></span></code></pre></div><p>The <code>node:v8</code> module exports these same functions, for compatibility with existing libraries that serialize/deserialize data between processes.</p><h2 level="2" anchor-id="websocket-improvements"><a name="websocket-improvements"></a><a href="#websocket-improvements"><code>WebSocket</code> improvements</a></h2><p>You can now manually send &amp; receive WebSocket <code>ping</code> and <code>pong</code> frames.</p><div><pre><code><span><span>const</span><span> ws </span><span>=</span><span> </span><span>new</span><span> </span><span>WebSocket</span><span>(</span><span>"</span><span>wss://echo.websocket.org</span><span>"</span><span>);</span></span>
<span><span>ws.</span><span>addEventListener</span><span>(</span><span>"</span><span>pong</span><span>"</span><span>, () </span><span>=&gt;</span><span> {</span></span>
<span><span>  console.</span><span>log</span><span>(</span><span>"</span><span>Received pong</span><span>"</span><span>);</span></span>
<span><span>});</span></span>
<span><span>ws.</span><span>ping</span><span>();</span></span>
<span></span></code></pre></div><p>This applies to both <code>ServerWebSocket</code> and <code>WebSocket</code>.</p><h3 level="3" anchor-id="nodebuffer-is-now-the-default-binarytype"><a name="nodebuffer-is-now-the-default-binarytype"></a><a href="#nodebuffer-is-now-the-default-binarytype"><code>nodebuffer</code> is now the default <code>binaryType</code></a></h3><p>By default, the <code>binaryType</code> for <code>WebSocket</code> and <code>ServerWebSocket</code> in Bun is now <code>nodebuffer</code> This means that binary data frames in <code>WebSocket</code> will be <code>Buffer</code> instances, instead of <code>ArrayBuffer</code> (as before). This is to match the bahavior of the <code>ws</code> package.</p><div><pre><code><span><span>const</span><span> ws </span><span>=</span><span> </span><span>new</span><span> </span><span>WebSocket</span><span>(</span><span>"</span><span>wss://echo.websocket.org</span><span>"</span><span>);</span></span>
<span></span>
<span><span>ws.</span><span>addEventListener</span><span>(</span><span>"</span><span>message</span><span>"</span><span>, (</span><span>event</span><span>:</span><span> </span><span>MessageEvent</span><span>) </span><span>=&gt;</span><span> {</span></span>
<span><span>  console.</span><span>log</span><span>(event.data </span><span>instanceof</span><span> </span><span>Buffer</span><span>); </span><span>// true</span></span>
<span><span>});</span></span>
<span></span></code></pre></div><p>To change it back to <code>ArrayBuffer</code>, set <code>ws.binaryType = "arraybuffer"</code>.</p><div><pre><code><span><span>const</span><span> ws </span><span>=</span><span> </span><span>new</span><span> </span><span>WebSocket</span><span>(</span><span>"</span><span>wss://echo.websocket.org</span><span>"</span><span>);</span></span>
<span><span>ws.binaryType </span><span>=</span><span> </span><span>"</span><span>arraybuffer</span><span>"</span><span>;</span></span>
<span></span>
<span><span>ws.</span><span>addEventListener</span><span>(</span><span>"</span><span>message</span><span>"</span><span>, (</span><span>event</span><span>:</span><span> </span><span>MessageEvent</span><span>) </span><span>=&gt;</span><span> {</span></span>
<span><span>  event.data; </span><span>// ArrayBuffer</span></span>
<span><span>});</span></span>
<span></span></code></pre></div><p>(Note that in browsers it is <code>Blob</code> by default.)</p><h3 level="3" anchor-id="close-reasons-propagate-correctly-now"><a name="close-reasons-propagate-correctly-now"></a><a href="#close-reasons-propagate-correctly-now">Close reasons propagate correctly now</a></h3><p>A bug was fixed where <code>WebSocket</code> would not propagate close reasons from third-party servers correctly. Thanks to <a href="https://github.com/electroid">@Electroid</a> for landing these improvements!</p><h2 level="2" anchor-id="node-js-compatibility-improvements"><a name="node-js-compatibility-improvements"></a><a href="#node-js-compatibility-improvements">Node.js compatibility improvements</a></h2><p>This release adds several additional improvements to Node.js compatibility.</p><h3 level="3" anchor-id="improvements-to-tlssocket-from-node-tls"><a name="improvements-to-tlssocket-from-node-tls"></a><a href="#improvements-to-tlssocket-from-node-tls">Improvements to <code>TLSSocket</code> from <code>node:tls</code></a></h3><p>The following methods were implemented on the <code>TLSSocket</code> class. Thanks to <a href="https://github.com/cirospaciari">@cirospaciari</a> for landing these improvements in <a href="https://github.com/oven-sh/bun/pull/3596"><code>#3596</code></a>.</p><ul><li><code>.getPeerFinished()</code></li><li><code>.getFinished()</code></li><li><code>.getProtocol()</code></li><li><code>.getSharedSigalgs()</code></li><li><code>.isSessionReused()</code></li><li><code>.exportKeyingMaterial()</code></li><li><code>.setMaxSendFragment()</code></li><li><code>.getPeerCertificate()</code></li><li><code>.getCertificate()</code></li><li><code>.enableTrace()</code></li><li><code>.disableRenegotiation()</code></li><li><code>.getCipher()</code></li><li><code>.getEphemeralKeyInfo()</code></li><li><code>.getTLSTicket()</code></li><li><code>.getSession()</code></li><li><code>.setSession()</code></li></ul><h3 level="3" anchor-id="base64url-hashes-are-no-longer-data-urls"><a name="base64url-hashes-are-no-longer-data-urls"></a><a href="#base64url-hashes-are-no-longer-data-urls"><code>base64url</code> hashes are no longer <code>data:</code> urls</a></h3><p>Previously, Bun would prepend <code>data:base64,</code> to the output of <code>crypto.createHash("sha256").digest("base64url")</code>. This is not what Node.js does, and it was causing issues with libraries that expected the output to be the same string as Node.js.</p><div><pre><code><span><span>crypto.</span><span>createHash</span><span>(</span><span>"</span><span>sha256</span><span>"</span><span>).</span><span>update</span><span>(</span><span>"</span><span>abc</span><span>"</span><span>).</span><span>digest</span><span>(</span><span>"</span><span>base64url</span><span>"</span><span>);</span></span>
<span></span>
<span><span>//        Node.js:  "ungWv48Bz-pBQUDeXa4iI7ADYaOWF3qctBD_YfIAFa0"</span></span>
<span><span>//     Bun v0.7.0:  "ungWv48Bz-pBQUDeXa4iI7ADYaOWF3qctBD_YfIAFa0"</span></span>
<span><span>// &lt;= Bun v0.6.14:  "data:base64,ungWv48Bz-pBQUDeXa4iI7ADYaOWF3qctBD_YfIAFa0="</span></span>
<span></span></code></pre></div><h3 level="3" anchor-id="terminal-dimensions-with-process-stdout-columns-and-process-stdout-rows"><a name="terminal-dimensions-with-process-stdout-columns-and-process-stdout-rows"></a><a href="#terminal-dimensions-with-process-stdout-columns-and-process-stdout-rows">Terminal dimensions with <code>process.stdout.columns</code> and <code>process.stdout.rows</code></a></h3><p><code>process.stdout</code> and <code>process.stderr</code> now support reading the terminal window's dimensions.</p><div><pre><code><span><span>const</span><span> { columns, rows } </span><span>=</span><span> process.stdout;</span></span>
<span><span>const</span><span> [columns, rows] </span><span>=</span><span> process.stdout.</span><span>getWindowSize</span><span>();</span></span>
<span><span>const</span><span> { columns, rows } </span><span>=</span><span> process.stderr;</span></span>
<span><span>const</span><span> [columns, rows] </span><span>=</span><span> process.stderr.</span><span>getWindowSize</span><span>();</span></span>
<span></span></code></pre></div><p>You can also use <code>process.stdout.getWindowSize()</code> if you want both dimensions at once.</p><h2 level="2" anchor-id="bugfixes"><a name="bugfixes"></a><a href="#bugfixes">Bugfixes</a></h2><p><a href="https://github.com/oven-sh/bun/pull/3656"><code>#3656</code></a> <strong>A memory leak</strong> in await <code>new Response(latin1String).arrayBuffer()</code> and <code>await Response.json(obj).json()</code> has been fixed.</p><p>After:</p><div><pre><code><span><span>cpu: Apple M1 Max</span></span>
<span><span>runtime: bun </span><span>0.7</span><span>.</span><span>0</span><span> (arm64</span><span>-</span><span>darwin)</span></span>
<span></span>
<span><span>benchmark                                                        </span><span>time</span><span> (avg)             (min … max)       p75       p99      p995</span></span>
<span><span>---------------------------------------------------------------------------------------------------</span><span> </span><span>-----------------------------</span></span>
<span><span>new</span><span> </span><span>Response</span><span>().</span><span>arrayBuffer</span><span>() (</span><span>new</span><span> string each call, latin1)    </span><span>12.9</span><span> µs</span><span>/</span><span>iter</span><span>      (</span><span>625</span><span> ns … </span><span>4.18</span><span> ms)      </span><span>1</span><span> µs </span><span>567.17</span><span> µs </span><span>711.79</span><span> µs</span></span>
<span><span>new</span><span> </span><span>Response</span><span>().</span><span>arrayBuffer</span><span>() (</span><span>new</span><span> string each call, utf16)    </span><span>12.85</span><span> µs</span><span>/</span><span>iter</span><span>     (</span><span>1.67</span><span> µs … </span><span>1.56</span><span> ms)   </span><span>2.17</span><span> µs </span><span>462.75</span><span> µs </span><span>621.13</span><span> µs</span></span>
<span><span>new</span><span> </span><span>Response</span><span>().</span><span>arrayBuffer</span><span>() (existing string, latin1)         </span><span>6.53</span><span> µs</span><span>/</span><span>iter</span><span>     (</span><span>6.21</span><span> µs … </span><span>7.07</span><span> µs)   </span><span>6.64</span><span> µs   </span><span>7.07</span><span> µs   </span><span>7.07</span><span> µs</span></span>
<span></span>
<span><span>Peak memory usage: </span><span>49</span><span> MB</span></span>
<span></span></code></pre></div><p>Before:</p><div><pre><code><span><span>cpu: Apple M1 Max</span></span>
<span><span>runtime: bun </span><span>0.7</span><span>.</span><span>0</span><span> (arm64</span><span>-</span><span>darwin)</span></span>
<span></span>
<span><span>benchmark                                                        </span><span>time</span><span> (avg)             (min … max)       p75       p99      p995</span></span>
<span><span>---------------------------------------------------------------------------------------------------</span><span> </span><span>-----------------------------</span></span>
<span><span>new</span><span> </span><span>Response</span><span>().</span><span>arrayBuffer</span><span>() (</span><span>new</span><span> string each call, latin1)   </span><span>13.51</span><span> µs</span><span>/</span><span>iter</span><span>       (</span><span>541</span><span> ns … </span><span>3.2</span><span> ms)   </span><span>1.92</span><span> µs </span><span>553.42</span><span> µs </span><span>709.92</span><span> µs</span></span>
<span><span>new</span><span> </span><span>Response</span><span>().</span><span>arrayBuffer</span><span>() (</span><span>new</span><span> string each call, utf16)    </span><span>13.07</span><span> µs</span><span>/</span><span>iter</span><span>     (</span><span>1.71</span><span> µs … </span><span>3.43</span><span> ms)   </span><span>2.13</span><span> µs </span><span>451.21</span><span> µs </span><span>651.67</span><span> µs</span></span>
<span><span>new</span><span> </span><span>Response</span><span>().</span><span>arrayBuffer</span><span>() (existing string, latin1)         </span><span>6.25</span><span> µs</span><span>/</span><span>iter</span><span>     (</span><span>5.79</span><span> µs … </span><span>6.81</span><span> µs)    </span><span>6.4</span><span> µs   </span><span>6.81</span><span> µs   </span><span>6.81</span><span> µs</span></span>
<span></span>
<span><span>Peak memory usage: </span><span>292</span><span> MB</span></span>
<span></span></code></pre></div><p><a href="https://github.com/oven-sh/bun/issues/3659"><code>#3659</code></a> A <strong>module resolution bug</strong> causing the <code>graphql</code> package to import both CommonJS and ESM versions of the same modules has been fixed. This was fixed by aligning the package.json main field order closer to what Node.js does.</p><div><pre><code><span><span>error: Cannot use GraphQLScalarType "String" from another module or realm.</span></span>
<span><span></span></span>
<span><span>Ensure that there is only one instance of "graphql" in the node_modules</span></span>
<span><span>directory. If different versions of "graphql" are the dependencies of other</span></span>
<span><span>relied on modules, use "resolutions" to ensure only one version is installed.</span></span>
<span><span></span></span>
<span><span>https://yarnpkg.com/en/docs/selective-version-resolutions</span></span>
<span><span></span></span>
<span><span>Duplicate "graphql" modules cannot be used at the same time since different</span></span>
<span><span>versions may have different capabilities and behavior. The data from one</span></span>
<span><span>version used in the function from another could produce confusing and</span></span>
<span><span>spurious results.</span></span>
<span><span></span></span></code></pre></div><p><a href="https://github.com/oven-sh/bun/pull/3663"><code>#3663</code></a> A <strong>bug in bun:test lifecycle hooks</strong> caused <code>beforeAll</code> and <code>afterAll</code> to not run when no tests were defined in a scope. This has been fixed.</p><p><a href="https://github.com/oven-sh/bun/issues/3670"><code>#3670</code></a> A <strong>bug when .env pointed to a directory</strong> caused Bun to crash. This has been fixed.</p><p><a href="https://github.com/oven-sh/bun/issues/3682"><code>#3682</code></a> A <strong>TypeScript parser bug related to ternaries with spread operators</strong> has been fixed</p><h3 level="3" anchor-id="changelog"><a name="changelog"></a><a href="#changelog">Changelog</a></h3><div><table><thead></thead><tbody><tr><td><a href="https://github.com/oven-sh/bun/pull/3253">#3253</a></td><td>feat(bun/test): Implement "bail" option for "bun test" by @TiranexDev</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3608">#3608</a></td><td>Improve our internal typedefs by @paperdave</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3257">#3257</a></td><td>Improvements to <code>WebSocket</code> and <code>ServerWebSocket</code> by @Electroid</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3630">#3630</a></td><td>$npm_lifecycle_event should have the value of the last call by @TiranexDev</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3631">#3631</a></td><td>Update docs/types for process by @colinhacks</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3637">#3637</a></td><td>structured clone by @dylan-conway</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3650">#3650</a></td><td>docs: add one missing line in typescript.md by @capaj</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3643">#3643</a></td><td>Fixes #3641 by @Jarred-Sumner</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3614">#3614</a></td><td>Support <code>napi_wrap</code> in constructors by @Jarred-Sumner</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3645">#3645</a></td><td>Implement Workers by @Jarred-Sumner</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3654">#3654</a></td><td>Fixes base64url encoding for crypto by @Jarred-Sumner</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3655">#3655</a></td><td>20% faster <code>deserialize</code> for structuredClone / postMessage with objects by @Jarred-Sumner</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3626">#3626</a></td><td>workaround <code>readable-stream</code> compatibility by @alexlamsl</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3662">#3662</a></td><td>[install] handle duplicated workspace declarations gracefully by @alexlamsl</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3664">#3664</a></td><td>package json <code>main</code> field extension order by @dylan-conway</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3596">#3596</a></td><td>[tls] General compatibility improvements by @cirospaciari</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3667">#3667</a></td><td>zig upgrade by @dylan-conway</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3671">#3671</a></td><td>fix(tls) patch checkServerIdentity by @cirospaciari</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3672">#3672</a></td><td>feature(constants) add constants/node:constants module and tests(prisma) use prima 5.0.0 + use same connection for postgres, add prisma mssql (disabled for now) by @cirospaciari</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3678">#3678</a></td><td>Better error for workspace dependency not found by @Jarred-Sumner</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3683">#3683</a></td><td>move constants module to cpp by @cirospaciari</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3687">#3687</a></td><td>fix #3682 by @dylan-conway</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3680">#3680</a></td><td>fix createDecipheriv by @cirospaciari</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3688">#3688</a></td><td>update root certificates and add tls.rootCertificates by @cirospaciari</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3089">#3089</a></td><td>Implement <code>AsyncLocalStorage</code> by @paperdave</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3693">#3693</a></td><td>Fix browser bundled string_decoder by @paperdave</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3694">#3694</a></td><td>Fix vite by @paperdave</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3698">#3698</a></td><td>Fixes #3670 by @Jarred-Sumner</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3697">#3697</a></td><td>Support streams in response.formData() &amp; request.formData, introduce Bun.readableStreamToFormData() by @Jarred-Sumner</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3706">#3706</a></td><td>Improve types for FFI number types by @colinhacks</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3707">#3707</a></td><td>fix start delay on Worker by @cirospaciari</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3709">#3709</a></td><td>set <code>_preload_modules</code> to empty array by @dylan-conway</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3708">#3708</a></td><td>fix 3702 by @dylan-conway</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3692">#3692</a></td><td>Pass constructor arguments to TextDecoder by @Parzival-3141</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3711">#3711</a></td><td>Fix builtins generator <code>$lazy</code> by @paperdave</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3710">#3710</a></td><td>fix directory caching with workaround by @paperdave</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3713">#3713</a></td><td>Fix builtins again by @paperdave</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3714">#3714</a></td><td>fix process.exit status code handling by @paperdave</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3715">#3715</a></td><td>fix <code>isFIFO</code> by @dylan-conway</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/3717">#3717</a></td><td>string escape edgecase by @dylan-conway</td></tr></tbody></table></div></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Putting the “You” in CPU (310 pts)]]></title>
            <link>https://cpu.land/</link>
            <guid>36823605</guid>
            <pubDate>Sat, 22 Jul 2023 05:38:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cpu.land/">https://cpu.land/</a>, See on <a href="https://news.ycombinator.com/item?id=36823605">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
			<h2 id="from-the-beginning">
				From the beginning…
				<a href="https://github.com/hackclub/putting-the-you-in-cpu/tree/main/src/content/chapters/0-intro.mdx" target="_blank">Edit on GitHub</a>
			</h2>

			<p>I’ve done <a href="https://github.com/kognise" rel="noopener noreferrer" target="_blank">a lot of things with computers</a>, but I’ve always had a gap in my knowledge: what exactly happens when you run a program on your computer? I thought about this gap — I had most of the requisite low-level knowledge, but I was struggling to piece everything together. Are programs really executing directly on the CPU, or is something else going on? I’ve used syscalls, but how do they <em>work</em>? What are they, really? How do multiple programs run at the same time?</p><p>I cracked and started figuring as much out as possible. There aren’t many comprehensive systems resources if you aren’t going to college, so I had to sift through tons of different sources of varying quality and sometimes conflicting information. A couple weeks of research and almost 40 pages of notes later, I think I have a much better idea of how computers work from startup to program execution. I would’ve killed for one solid article explaining what I learned, so I’m writing the article that I wished I had.</p><p>And you know what they say… you only truly understand something if you can explain it to someone else.</p><blockquote><p>In a hurry? Feel like you know this stuff already?</p><p><a href="https://cpu.land/how-to-run-a-program">Read chapter 3</a> and I guarantee you will learn something new. Unless you’re like, Linus Torvalds himself.</p></blockquote>

			<p><a href="https://cpu.land/the-basics">
				Continue to Chapter 1: The “Basics”
				
			</a>
		</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Apple's interactive television box: Hacking the set top box System 7.1 in ROM (204 pts)]]></title>
            <link>http://oldvcr.blogspot.com/2023/07/apples-interactive-television-box.html</link>
            <guid>36823565</guid>
            <pubDate>Sat, 22 Jul 2023 05:30:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://oldvcr.blogspot.com/2023/07/apples-interactive-television-box.html">http://oldvcr.blogspot.com/2023/07/apples-interactive-television-box.html</a>, See on <a href="https://news.ycombinator.com/item?id=36823565">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="post-body-7628653847015489091" itemprop="description articleBody">
<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgT5ldv1fTGlQrFwP9YvESyKNAoqxHlTII0uFm4NYQRJ8gvKaGvGh0Y-2mgZNL9w-TNhZFhb77W_OvZDlmPvrRHmvLf4xlIUXLH7BbsJuOEtCPRKP3-6T3W6rUgrGEo7FDsFNujaetgxrK0BHIovLKHTwsW6njPPheMKDQFNUAv33t3jrMOxvq3HO8Ez8U/s4080/PXL_20230709_004451960.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgT5ldv1fTGlQrFwP9YvESyKNAoqxHlTII0uFm4NYQRJ8gvKaGvGh0Y-2mgZNL9w-TNhZFhb77W_OvZDlmPvrRHmvLf4xlIUXLH7BbsJuOEtCPRKP3-6T3W6rUgrGEo7FDsFNujaetgxrK0BHIovLKHTwsW6njPPheMKDQFNUAv33t3jrMOxvq3HO8Ez8U/s320/PXL_20230709_004451960.jpg"></a></p><p>

One of the coolest things to come along in the 68K Mac homebrew community is the ROM Boot Disk concept. Classic Macs have an unusually large ROM that contains a fair bit of the Mac OS, which was true even in the G3 New World Mac era (it was just on disk), so it's somewhat surprising that only one Mac officially could boot the Mac OS entirely from ROM, namely the Macintosh Classic (hold down Cmd-Option-X-O to boot from a hidden HFS volume with System 6.0.3). For many Macs that can take a ROM SIMM, you can <a href="http://synack.net/~bbraun/macromboot.html">embed a ROM volume</a> in the Mac ROM that can even be mirrored to a RAM disk. You can even <a href="http://www.bigmessowires.com/mac-rom-inator-ii/">buy them pre-populated</a>. How's <em>that</em> for immutability?
</p><p>
Well, it turns out Apple themselves were the first ones to implement a flashable Mac OS ROM volume in 1994, but hardly anyone noticed — because it was only ever used publicly in a minority subset of one of the most unusual of the Macintosh-derived systems, the Apple Interactive Television Box (a/k/a AITB or the Apple Set Top Box/STB). And that's what we're going to dig into — and reprogram! — today.
</p><p>
<a name="more"></a>
The AITB/STB was Apple's attempt to get into the early set-top box market of the 1990s. The dominance of the Apple TV today is a late phenomenon; Apple was in no position to launch such a product on their own in that era, though with the recent introduction of their QuickTime multimedia framework in 1991, they were a strong candidate for a technology partner. Apple forged an alliance with Oracle and parallel computing vendor nCube (Larry Ellison then being its single biggest stockholder), with Apple developing the front end client box and nCube boxes running Oracle Media Server handling the back end. All of this was to occur using MPEG-1 video with QuickTime as the playback system, specifically selected because of MPEG-1's bitrate of 1.5Mbit/sec and enough to run over <a href="http://oldvcr.blogspot.com/2022/05/so-long-home-t1-line-hello-hacking-t1.html">a T1/E1 line</a>. Plus, hardware decoders for the format already existed, meaning the device wouldn't have to rely on the CPU for smooth playback.
</p><p>
Apple developed the STBs in their Austin, Texas campus. It was based on stripped-down 1993 Quadra 605 hardware with extra silicon for the media features but kept serial, ADB and SCSI connections to allow it to run compatible CD-ROMs, sort of a Pippin before the Pippin, with plans to sell it for $750 [2023 dollars about $1500]. You could even hook up a printer to the serial port, but no storage was onboard: this device was to strictly boot from a central network link — in this case a T1/E1 — or from CD. Units first emerged publicly at the National Association of Broadcasters Show in Las Vegas in April 1995. There were at least two major hardware versions, STB1 and STB3 (no STB2s are known), with the STB3 being the most "common."
</p><p>
Apple partnered with cable TV companies for content delivery and AITBs were part of at least several trial deployments across the United States and Europe (most notably British Telecom), and Disney even used it briefly in at least one theme park. However, there were concerns about providing enough licensed and on-demand content, and while customers might buy that content, they tended to compensate by cutting subscriptions to the premium channels that the cable companies relied on as a regular income stream. The situation wasn't much better as a retail product given that home broadband was in its infancy and the product market was already too small for a boutique system. On top of that, the $300,000 [in 2023 over $600,000!] official development system (consisting of an nCube MediaCUBE server, 8 AITBs and 10GB of storage) made the already rarefied product thoroughly unattractive to developers, and with DOCSIS on the horizon wiring up T1 lines everywhere just didn't seem to pay off. Apple never ended up launching the hardware for retail sale, the existing trials were terminated, and most of the boxes were ultimately recalled and destroyed.
</p><p>
But, like all failed experiments, not all of them disappeared and various units have made their way into the hands of collectors and hackers. Over the years I've acquired two STB3 systems myself, one a non-working "production" model and the other a mostly functional DVT prototype. This prototype is not FCC-approved but is fundamentally identical to the "production" M4120 unit, so we'll be discussing mostly the prototype here since it works and is in much better shape. Here it is:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhIZ95zeC9Bpz_wst7Jbp6FjJBHpbooJbr6pKcbpCRQjprz4vxt8yiOcrjOHVBFpSivbyHDQdPiY949VPdCNMTT_fTQc8M-QBr8d3_8ylZs_SKHPMteVNAArtSvUhw3vDYN3xQ5rcCkRVhTGmJkS4SaJaK9UoiCZba9_imv0kZqAUa-0-Z3dSEgcGg2M_g/s4080/PXL_20230709_003206578.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhIZ95zeC9Bpz_wst7Jbp6FjJBHpbooJbr6pKcbpCRQjprz4vxt8yiOcrjOHVBFpSivbyHDQdPiY949VPdCNMTT_fTQc8M-QBr8d3_8ylZs_SKHPMteVNAArtSvUhw3vDYN3xQ5rcCkRVhTGmJkS4SaJaK9UoiCZba9_imv0kZqAUa-0-Z3dSEgcGg2M_g/s320/PXL_20230709_003206578.jpg"></a></p><p>

The STB3 shipped in a fairly dramatic black case with a top lid. It was designed to fit into any typical home entertainment centre and will support the weight of a typical CRT television.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgTRMFQKF0pmUDYNAm0myOiQwPvl3wqRbe9tmba1nx-Briy8FRsaTBYRUR40xFfcRcyojAg9MgXynQeoiiwRdRBX92xXzI5YjQocwd9i54rFgUw3UZsGywWhrNI5LAkCevlDXE53GBqHgNFBK1m7FeK-p0skf8RsveBV8xoGsspRVyXDKRBtsyo3sY2_YM/s4080/PXL_20230709_003314972.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgTRMFQKF0pmUDYNAm0myOiQwPvl3wqRbe9tmba1nx-Briy8FRsaTBYRUR40xFfcRcyojAg9MgXynQeoiiwRdRBX92xXzI5YjQocwd9i54rFgUw3UZsGywWhrNI5LAkCevlDXE53GBqHgNFBK1m7FeK-p0skf8RsveBV8xoGsspRVyXDKRBtsyo3sY2_YM/s320/PXL_20230709_003314972.jpg"></a></p><p>

The only front control was a power button. Depending on the installed ROM, the power LED might show any or no colour at all. We'll talk about that a little later. Under the Apple logo was an IR sensor for which I lack <a href="https://wiki.preterhuman.net/Apple_Interactive_Television_Box#/media/File:Applestb-2-3_small-23938_0.jpg">the official remote control</a>. (That's okay because it turns out we don't actually need it to hack it.)

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg9TP-hNTksN-BhBcDH-llXtSIFtDhM3f7p9OCl3XX6tc2HF13QhKrV_ICC9uyu0NUEOTjNYoqVh2QAG4Wc9WqDhmVgfyry4nB7Wfupu5gOQ-4PykR_tc5ixBDPpnCAcoWvDPzymG3Tcpst4OmNFNQHlL5iWjGISw-ih8j2Jlrb6U3WYz5SXt32oMd21ug/s4080/PXL_20230709_003451706.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg9TP-hNTksN-BhBcDH-llXtSIFtDhM3f7p9OCl3XX6tc2HF13QhKrV_ICC9uyu0NUEOTjNYoqVh2QAG4Wc9WqDhmVgfyry4nB7Wfupu5gOQ-4PykR_tc5ixBDPpnCAcoWvDPzymG3Tcpst4OmNFNQHlL5iWjGISw-ih8j2Jlrb6U3WYz5SXt32oMd21ug/s320/PXL_20230709_003451706.jpg"></a></p><p>

The rear ports. Standard, the STB3 came with connectors for power (using a regular LC power supply), SCSI (using the Apple HDI-30 connector), SCART TV and VCR (both blocked), RF in/out from an antenna or cable TV connection, 8P8C network (but not Ethernet: this is for a T1/E1), standard Mac Mini-DIN serial, Mac S-video out, composite video, and stereo phono audio. A rubber grommet covers the Kensington lock slot, which I imagine was used in the hotel deployments. On the side, not visible here, is a single ADB port which only officially supports a mouse.
</p><p>
The BT version of these systems (labeled with BT branding as a "Interactive TV System Voyager 2000") reportedly used an ADSL connection, though I've never seen such a unit personally.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhTRREUvu0cy51XdH1aMLWXtD2RO4q79tAg1xqivpH0nUl9XiVV8G5QaQrzy0g9uBB298zFHJZF9AFI-lO36SbjJjpyuUWbXbQifviZaq44yfUaWpJWA3dn4NLQBFVALuZ_LkmQYk-EV_A35h8AsIxhTVYTPoeILQZUVXYoLLiUV7QEEd4f6Hs73ieAbTE/s4080/PXL_20230709_003507630.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhTRREUvu0cy51XdH1aMLWXtD2RO4q79tAg1xqivpH0nUl9XiVV8G5QaQrzy0g9uBB298zFHJZF9AFI-lO36SbjJjpyuUWbXbQifviZaq44yfUaWpJWA3dn4NLQBFVALuZ_LkmQYk-EV_A35h8AsIxhTVYTPoeILQZUVXYoLLiUV7QEEd4f6Hs73ieAbTE/s320/PXL_20230709_003507630.jpg"></a></p><p>

But what this unit also has, and most STBs don't, is a developer video card with a Mac DA-15 connector. Sadly, I've never been able to get it to work. More below when we open the case.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi55I5avhed3rjQgSrTq1JHXvUQRPBij2hGebQhfZBAxbeDm4cExbWeyoyW1GMcU_p_aHZLrqUUMEMPAlsnP4sZkjuT9C1w7tRP_kmowvyDq4WzkBlRv8PI76sHDdOFyHBSo9XXCqu-y9N8VBtNMqsOvxKaQpAKF-k89t32T74-8YXvCpg71m03bl8_pLc/s4080/PXL_20230709_003615470~2.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi55I5avhed3rjQgSrTq1JHXvUQRPBij2hGebQhfZBAxbeDm4cExbWeyoyW1GMcU_p_aHZLrqUUMEMPAlsnP4sZkjuT9C1w7tRP_kmowvyDq4WzkBlRv8PI76sHDdOFyHBSo9XXCqu-y9N8VBtNMqsOvxKaQpAKF-k89t32T74-8YXvCpg71m03bl8_pLc/s320/PXL_20230709_003615470~2.jpg"></a></p><p>

On the underside is this disclaimer that the unit is not FCC-approved. This unit is clearly further along than an EVT prototype <a href="http://oldvcr.blogspot.com/2021/10/shiner-esb-apple-network-server.html">like our "Shiner ESB" Apple Network Server prototype</a>, but because it's not FCC approved it's probably not a PVT, so therefore I'm concluding it's a DVT <a href="http://oldvcr.blogspot.com/2023/06/new-ram-card-prototype-mac-portable.html">like our Macintosh Portable prototype</a>. 

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh_U1RpMX2qAF0ooA_BfaqlW4-RCFB8Ddas3ZJlpirKHi6lQAdCuRcFVyuPDMC0wKGu27VcMWHToP51L0gybLQNQPHpF_ieSDJFKvkh-JOQJoqiBW6rtHmZDBVQ-EwRSfd2wOwq3SJhCwZtTzdKMUltGiyt3vkRzC_VcNbpesVLe69hWEXdX_gbaQiJ3iU/s4080/PXL_20230709_003715628~2.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh_U1RpMX2qAF0ooA_BfaqlW4-RCFB8Ddas3ZJlpirKHi6lQAdCuRcFVyuPDMC0wKGu27VcMWHToP51L0gybLQNQPHpF_ieSDJFKvkh-JOQJoqiBW6rtHmZDBVQ-EwRSfd2wOwq3SJhCwZtTzdKMUltGiyt3vkRzC_VcNbpesVLe69hWEXdX_gbaQiJ3iU/s320/PXL_20230709_003715628~2.jpg"></a></p><p>

Removing the top lid (there's a screw you may need to remove from the back), we see the video card, the mainboard and the power supply, which is a regular Q605 supply except with a black frame around the power port (the Q605/LC475 supply is in Apple Platinum beige). Although there is a spot where a cooling fan could go, there is neither mounting nor a power connector for one in both my units. The little three solder points next to it are where one can be installed, and some units exist where a fan is present.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjbRpIrtyRW2ZehmoMYfI2EtpKyA_HMIiVBBPR6b68QCOAbtOH5tEMNg_ntM5yFbk5PMafN9-VNnMo70MCwgSjqE1fldVAVwY7lw54pAvl_mHpZVaua-1R3DXpovg61H1-zKRU8ziy95qTHMaR6R-oXyUTPwQ9AiXkZ_HCNUpL_JTiB8eGEnehobdMzEi8/s4080/PXL_20230709_004316413.jpg"><img alt="" height="320" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjbRpIrtyRW2ZehmoMYfI2EtpKyA_HMIiVBBPR6b68QCOAbtOH5tEMNg_ntM5yFbk5PMafN9-VNnMo70MCwgSjqE1fldVAVwY7lw54pAvl_mHpZVaua-1R3DXpovg61H1-zKRU8ziy95qTHMaR6R-oXyUTPwQ9AiXkZ_HCNUpL_JTiB8eGEnehobdMzEi8/s320/PXL_20230709_004316413.jpg"></a></p><p>

The CPU, like the Quadra 605, is a 25MHz 68LC040. Other chips visible here are an Apple 343S0138-A (fabbed by TI) handling the PDS slot, an Apple 34320164-b (VLSI) MEMCjr memory controller, a TI TMXE320AV110 that appears to be an audio DSP, an NCR 53C96 SCSI controller, a Zilog Z8530 SCC for the serial port, and a Philips SAA7188A digital YUV to NTSC/PAL encoder (earlier Philips chips appear in the AV Macs). The RAM and ROM SIMMs are next to that, along with 4MB of RAM soldered to the board.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjUlN7v1dVzPcuWN-32LnCxp9tHw0wh_XQnSs02wAo9TM_bQIDJdYkobQzhiEY2vmq1mjKpm5UvT3fkntpSslaZ8RYkl50_sETAdjHYGnixGu5YSJrR2V6Wv0LsQJA6q0N11B9kSdvoi9h7pGzNWaMjxe1bP-kiVywaulgUV3qrSlKumWSL8KHqDRvsMaQ/s4080/PXL_20230709_004055555.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjUlN7v1dVzPcuWN-32LnCxp9tHw0wh_XQnSs02wAo9TM_bQIDJdYkobQzhiEY2vmq1mjKpm5UvT3fkntpSslaZ8RYkl50_sETAdjHYGnixGu5YSJrR2V6Wv0LsQJA6q0N11B9kSdvoi9h7pGzNWaMjxe1bP-kiVywaulgUV3qrSlKumWSL8KHqDRvsMaQ/s320/PXL_20230709_004055555.jpg"></a></p><p>

In front, red lines go to the power switch and LED, blue lines to the IR sensor, and white lines to the side-mounted ADB port.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg-3je5X16YlzzgFNQiFTkxtbERfgkjZ3HWhcjTFlSYgUdKEo2X6YQdnbFx_eCp2MEGYo1yaFWa-HYbPwZts2vjb3NIC4S0SrfFtnjfhBeozaJ7QcnctOhE-KyfInHLXr1vyNQMeH2rnPTJyJiZ4dcCZGW17kdo6nJOL7s5-ShDtu4jy-lwdWV_IUjZF_4/s4080/PXL_20230709_003928910~2.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg-3je5X16YlzzgFNQiFTkxtbERfgkjZ3HWhcjTFlSYgUdKEo2X6YQdnbFx_eCp2MEGYo1yaFWa-HYbPwZts2vjb3NIC4S0SrfFtnjfhBeozaJ7QcnctOhE-KyfInHLXr1vyNQMeH2rnPTJyJiZ4dcCZGW17kdo6nJOL7s5-ShDtu4jy-lwdWV_IUjZF_4/s320/PXL_20230709_003928910~2.jpg"></a></p><p>

And inside the front, just next to the red lines, is the board copyright (1995) and number (820-0638-01, which would be a prototype board designation).

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjW7dYb_EPZyMaNdjPWlczKCrQjySlY-nQuiRnS3gKudh9BCusz3E1RfJFWTjlmqp6v2I0oZG1R_ev-pXIfaAijn5GxDyqz-n71j_QIjsKk7p72hr_f_krhAqobA_K47VzZI6VTEDY35UaJ78hpEEjClA7jWs_NIXyc_mCR82hnZKUbpCbmWBIerOi1jiE/s4080/PXL_20230709_003741943.jpg"><img alt="" height="320" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjW7dYb_EPZyMaNdjPWlczKCrQjySlY-nQuiRnS3gKudh9BCusz3E1RfJFWTjlmqp6v2I0oZG1R_ev-pXIfaAijn5GxDyqz-n71j_QIjsKk7p72hr_f_krhAqobA_K47VzZI6VTEDY35UaJ78hpEEjClA7jWs_NIXyc_mCR82hnZKUbpCbmWBIerOi1jiE/s320/PXL_20230709_003741943.jpg"></a></p><p>

The board has a single PDS slot, occupied in the prototype by a video card which connects with a 90-degree adapter. This card is a simple 2D framebuffer with four 256Kx8 VRAMs to equal 1MB on board. Very few of these cards existed and seem to have only been part of developer machines.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgLyeOSuBpDHPhuh8x6XCMg9euneOlzeEg_9EoXM_1vNK9TsHrSiaVSCoB_GvChJaegtkrQkJC-xnHboL4clrJqApd5Pku_ap53ljBBaBole-NlO7lYE7s7Yz9mzETcjSd1QvAiqkFMZ4O1bird8QG0cN1K76GlWvUz4Mini1AL3WTVtPr0hsgYFThy464/s4080/PXL_20230709_003754651~2.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgLyeOSuBpDHPhuh8x6XCMg9euneOlzeEg_9EoXM_1vNK9TsHrSiaVSCoB_GvChJaegtkrQkJC-xnHboL4clrJqApd5Pku_ap53ljBBaBole-NlO7lYE7s7Yz9mzETcjSd1QvAiqkFMZ4O1bird8QG0cN1K76GlWvUz4Mini1AL3WTVtPr0hsgYFThy464/s320/PXL_20230709_003754651~2.jpg"></a></p><p>

The card identifies itself as a Micro Conversions X62SC01 (Revision A), which resembles the Micro Conversions 1724PD graphics card for the LC III and Performa 630. If there existed a driver specifically for this card, it must have been on whatever developer-bootable disk this unit didn't come with. 

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiiCu5x2uBMX99H2xHVvOBOC9kyVjEnSA792712fYjmBvceBmiRc6ZWCdgmmPajESaWJ8oCh6fj0uJd-SC8bB4ee9AiLiiWBl6iAxC-H3NdfHQSRZE9Col1cJHkKE--LfDjaRm-WugBh-4BZX4zC-iCAkK8AuozM_HBgI7UF7U-p4EUpoPMX_0syNADno4/s4080/PXL_20230709_005752133.jpg"><img alt="" height="320" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiiCu5x2uBMX99H2xHVvOBOC9kyVjEnSA792712fYjmBvceBmiRc6ZWCdgmmPajESaWJ8oCh6fj0uJd-SC8bB4ee9AiLiiWBl6iAxC-H3NdfHQSRZE9Col1cJHkKE--LfDjaRm-WugBh-4BZX4zC-iCAkK8AuozM_HBgI7UF7U-p4EUpoPMX_0syNADno4/s320/PXL_20230709_005752133.jpg"></a></p><p>

Pulling the card out of my working STB was a no-go; it's pretty much there for keeps (not interested in trying to pry it out lest I damage the card, the board, or both). Instead, we'll fill in the gap by switching here to the non-working "production" model, which unfortunately was improperly stored and suffered from oxidation damage. The chip with the white sticker is a socketed DIP ROM labeled "A3N(LS) C/SUM 519D8 95@@" which appears in other NTSC STB3s. The MPEG decoder is conveniently marked, a C-Cube Microsystems CL450-P160, the same one Apple used earlier with their <a href="https://wiki.preterhuman.net/Apple_MPEG_Media_System">MPEG Media System</a> card. Next to that is an Xilinx FPGA that likely serves as support video hardware.
</p><p>
The other marked chip, with green oxidation damage around the pins, is a Brooktree Bt8069 T1 transceiver. Other than the Zilog SCC the Bt8069 is the only networking chip obviously on the board; in particular, no Ethernet chips are visible. If the British Telecom units were truly ADSL, it would have had to have a different chip here or some sort of external transceiver box: even in situations where the T1 line is provisioned over DSL, that's usually <em>H</em>DSL, and the technologies are otherwise not interchangeable.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEitI5lW1lkjFtmNsXGy7mCLOK-ITjsbO_rP0EisgRadMfXyJuSLBAOlnH2Ei1-gqR6TsLsOHgcPDWSpg92GpFv_5pH3JiXR0r0jdhLJdASwa7Yy421JqNvegmgCjomaMlRHUSHo-SGQZUE9h1nH6-0_h6_BPycF_FGe5tWVZzKT9sXfAfkgTgGgAmBNPuU/s4080/PXL_20230709_005558757~2.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEitI5lW1lkjFtmNsXGy7mCLOK-ITjsbO_rP0EisgRadMfXyJuSLBAOlnH2Ei1-gqR6TsLsOHgcPDWSpg92GpFv_5pH3JiXR0r0jdhLJdASwa7Yy421JqNvegmgCjomaMlRHUSHo-SGQZUE9h1nH6-0_h6_BPycF_FGe5tWVZzKT9sXfAfkgTgGgAmBNPuU/s320/PXL_20230709_005558757~2.jpg"></a></p><p>

This unit is labeled as production and has an FCC ID and clearance sticker identifying it as a model M4120 (but with no formal name). This unit came from my hometown of San Diego County, California, based on the asset tag from The Lightspan Partnership, Inc. Lightspan Partnership, later just Lightspan, was founded in 1993 to develop edutainment software and produced a line of school-oriented Sony PlayStation titles which were sold to districts for classroom use. However, the original concept was to distribute the software via cable television so that students and parents could use it at home. This unit was obviously part of that initial, unrealized initiative. In 2003 Lightspan merged with PLATO Learning, Inc. (now Edmentum), one of the inheritors of the <a href="https://arstechnica.com/gadgets/2023/03/plato-how-an-educational-computer-system-from-the-60s-shaped-the-future/">Control Data PLATO legacy</a>, and subsequently ceased to exist.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhZBzCEBrOKoQO0gDMcBCUq4CdepuzIG_mopk1Dy5iqOaXCMXnyxFekc7ynWOlwt_I7lNfpbnbgQ5fVh6KGN-njY1haZDHXMVc3oarJxRCzxbR2UkfMba447S9yFUkrEkSy1Thj4RTDq20YUDQLpqyUlaXE_8VQWnYyZ6W6vv4BQl9LWBrwhl5Z7uHJVpc/s4080/PXL_20230709_005931032~2.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhZBzCEBrOKoQO0gDMcBCUq4CdepuzIG_mopk1Dy5iqOaXCMXnyxFekc7ynWOlwt_I7lNfpbnbgQ5fVh6KGN-njY1haZDHXMVc3oarJxRCzxbR2UkfMba447S9yFUkrEkSy1Thj4RTDq20YUDQLpqyUlaXE_8VQWnYyZ6W6vv4BQl9LWBrwhl5Z7uHJVpc/s320/PXL_20230709_005931032~2.jpg"></a></p><p>

But despite being labeled as a production, FCC-certified unit, it still has the same prototype motherboard code as the DVT unit.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhBbysjkWCQtleUXAXloYwx_CPwNnWmBY4lnhz2hiNSxrsBw1Fzk75bTZPJzpTzwMdygyr-jjKcngjKRIZVJPCsuPWZ-TClH0lEzln6O98w3JFLlcuXMyBVDoUHIbztGZiD119CIWnoHlhCukUw01iz20XZK5_MORV5HY2ECcUEWiZmf3bx6DEnKsQQV4U/s4080/PXL_20230709_003842420.jpg"><img alt="" height="320" data-original-height="4080" data-original-width="3072" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhBbysjkWCQtleUXAXloYwx_CPwNnWmBY4lnhz2hiNSxrsBw1Fzk75bTZPJzpTzwMdygyr-jjKcngjKRIZVJPCsuPWZ-TClH0lEzln6O98w3JFLlcuXMyBVDoUHIbztGZiD119CIWnoHlhCukUw01iz20XZK5_MORV5HY2ECcUEWiZmf3bx6DEnKsQQV4U/s320/PXL_20230709_003842420.jpg"></a></p><p>

Let's go back to the RAM and ROM for a second. There is a RAM slot here and you can put extra RAM into it, same as you would with a regular Q605, but the ROM's the more interesting part.
</p><p>
No, I'm not talking about these green mask ROMs that most owners of an STB3 have:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhOoKGMcfQsMFxby3zDQDSn0HxNIEyKk8G7PSB1i1tzjrfI7A1JF0Qpjc6Q9pjL08pRDFX0Vg5AAuyic6Ab22d_GmIIbGB-t0JwErhDhjm-E-mvVst1piB707mGtW6JjQuVCMYqDBkdgELhvdSUlF7w0-OknJMZe-d7oThG-QC-Ej-HsQ2pWsVH6PFLT9A/s4080/PXL_20230706_012249967.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhOoKGMcfQsMFxby3zDQDSn0HxNIEyKk8G7PSB1i1tzjrfI7A1JF0Qpjc6Q9pjL08pRDFX0Vg5AAuyic6Ab22d_GmIIbGB-t0JwErhDhjm-E-mvVst1piB707mGtW6JjQuVCMYqDBkdgELhvdSUlF7w0-OknJMZe-d7oThG-QC-Ej-HsQ2pWsVH6PFLT9A/s320/PXL_20230706_012249967.jpg"></a></p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh1lgi3HJyTRqY6gQIfuaIHBKZxMgneZeEldT6eMdQmnmzQZunLaV_LpvtZ-nMNGTXbojHb4d1rDWqr_YPQ62QgnSM8Ky9rEAqEz3Xk4pUv_mRmm0JrjVsEva7SCqejjdjS-aYHhgLFoR-tpfxWtoiIfRFgG33YXFKwNLE_0gpVQ3V9bLwX6NDRIQA-y6A/s4080/PXL_20230706_012350250.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh1lgi3HJyTRqY6gQIfuaIHBKZxMgneZeEldT6eMdQmnmzQZunLaV_LpvtZ-nMNGTXbojHb4d1rDWqr_YPQ62QgnSM8Ky9rEAqEz3Xk4pUv_mRmm0JrjVsEva7SCqejjdjS-aYHhgLFoR-tpfxWtoiIfRFgG33YXFKwNLE_0gpVQ3V9bLwX6NDRIQA-y6A/s320/PXL_20230706_012350250.jpg"></a></p><p>

If you dump one (I have two which are the same), you'll get a ROM checksum (</p><tt>$ff7439ee</tt><p>, SHA-1 </p><tt>1d833125adf553a50f5994746c2c01aa5a1dbbf2</tt><p>) exactly identical to the Quadra 605, which isn't surprising because the STB is derived from it. With a Q605 ROM installed, these units won't display a picture but they will let you boot over SCSI. Add something like Farallon/Netopia Timbuktu and a LocalTalk connection and you can remotely use one over the network from another classic Mac. Not too useful, but hey, they're stylish and rare, and it's great fun at parties (I'm told, I'm never invited to those sorts of parties).
</p><p>
Unfortunately, my unit, though it would initially boot from a BlueSCSI, one day suddenly decided it wouldn't. I've never been able to get it to boot from any SCSI device since, no matter what keys are held down, Option, Cmd-Option-Shift-Delete, dead chicken burnt offering, nothing. The unit otherwise works normally which leads me to suspect a fuse somewhere and/or the SCSI controller. (Don't kneejerk and say bad caps. I will hurt you.)
</p><p>
That brings us to <em>this</em> ROM.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgmBZI_T5VRmpjgPQeZz_y9QkhNgeuQkWzEbZKippjHhD64Yo7_A7B3njHUyHGdf79Z3M1JMQjAGLsmnYRNd_oU-H6kUH_HG3WZUy2bJF2n36LjSiN1W5HQ1Y7YeOgdWEFvC1l57yEGCX-9l3gDtZOruEk85wa9vSLxTMPRVMTjuuFpfiMn5zItYh-OdJc/s4080/PXL_20230706_012023599.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgmBZI_T5VRmpjgPQeZz_y9QkhNgeuQkWzEbZKippjHhD64Yo7_A7B3njHUyHGdf79Z3M1JMQjAGLsmnYRNd_oU-H6kUH_HG3WZUy2bJF2n36LjSiN1W5HQ1Y7YeOgdWEFvC1l57yEGCX-9l3gDtZOruEk85wa9vSLxTMPRVMTjuuFpfiMn5zItYh-OdJc/s320/PXL_20230706_012023599.jpg"></a></p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgWenRFMs0VFZsd8ghQpnC5e3SIm__VBAEDo_zrWzNoGAhChyCBwIz6qnVrkGnHvTTa8VIczcCaPFnZYI_swQ6hAAstr7IXQGOSpo9WKuojU3vDnSGpN4Ex_7Ua0kHu_5iPU1Ok6Y5IXh0ubjaZqAOyxsvQRYqHZKQ0aG9dSExhga_S2OJrnk0myi_FjPc/s4080/PXL_20230706_012041156.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgWenRFMs0VFZsd8ghQpnC5e3SIm__VBAEDo_zrWzNoGAhChyCBwIz6qnVrkGnHvTTa8VIczcCaPFnZYI_swQ6hAAstr7IXQGOSpo9WKuojU3vDnSGpN4Ex_7Ua0kHu_5iPU1Ok6Y5IXh0ubjaZqAOyxsvQRYqHZKQ0aG9dSExhga_S2OJrnk0myi_FjPc/s320/PXL_20230706_012041156.jpg"></a></p><p>

This red ROM stick, labeled AP1654-01, has four 256K flash chips front and back to equal 2MB. Notice the silkscreened name "RLC FLASH SIMM." These appear to have been made initially for the RISC LC, the famous and heavily modified LC-based development prototype that emulated a 68K Mac with full compatibility and became the direct ancestor of the Power Macintosh.
</p><p>
There are <a href="https://wiki.preterhuman.net/Apple_Interactive_Television_Box#/media/File:Post-2085-0-12713200-1421865679.jpg">many versions</a> of this ROM, and this one is not labeled like most of the others in that linked image. However, I have no reason to suspect this particular one behaves much differently from the others.
</p><p>
The red ROM's biggest difference from the green ROM in that the TV outputs are enabled. When you switch on (with the back power switch) an STB3 with the red ROM, after a pause of a few seconds the LED over the power button lights red, and then shortly after yellow. In the <a href="https://wiki.preterhuman.net/Apple_Interactive_Television_Box_Setup_Guide">Setup Guide</a>, this indicates POST, followed by standby. This is very different from units with a Q605 ROM in which the LED never lights and the machine instead starts from the ADB power key, like any other Mac of this era would normally.
</p><p>  
Pressing the power button when the LED is yellow turns the LED green and this image appears on a connected composite or S-video display, captured on my INOGENI box:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjZQNNU7QZCxPJQmdL8u-OoHW62gAEuHiH8WkwgAE77kaXxScSfbILat4PBWYpeOAGLSua-D7JlW-9g_h_vjhnvjKu1EyRY17m8sRPCa6Igofd_7tIXNTEdye2XkPOGncjRzxXWoPdzE43KdFN61IAQq0Ud5kBK54X7Hgkakhs9-JUU-JTg3Opgf_tGHVw/s1400/vlcsnap-2023-07-05-18h45m37s975.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjZQNNU7QZCxPJQmdL8u-OoHW62gAEuHiH8WkwgAE77kaXxScSfbILat4PBWYpeOAGLSua-D7JlW-9g_h_vjhnvjKu1EyRY17m8sRPCa6Igofd_7tIXNTEdye2XkPOGncjRzxXWoPdzE43KdFN61IAQq0Ud5kBK54X7Hgkakhs9-JUU-JTg3Opgf_tGHVw/s320/vlcsnap-2023-07-05-18h45m37s975.png"></a></p><p>

But, invariably, 30 seconds-ish later, you get this:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjl5TiGKoVXYy-_3fE1rLsEONnN5k05NWxwFnmMugouanonw1NCenO8dW1o4CJlYxUemOhaF029_9XvFJzCdWDMuQ-0aeSh0gHoAqaLpaFF3f1yPaJ5kf-cBZbC3Tq-0MBNYdv6Gqm7O0UyCg1mSKQDNvW84yFYMw-K8q83ing1Gxgqul20Wd95HmfOOh8/s1400/vlcsnap-2023-07-05-18h46m08s434.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjl5TiGKoVXYy-_3fE1rLsEONnN5k05NWxwFnmMugouanonw1NCenO8dW1o4CJlYxUemOhaF029_9XvFJzCdWDMuQ-0aeSh0gHoAqaLpaFF3f1yPaJ5kf-cBZbC3Tq-0MBNYdv6Gqm7O0UyCg1mSKQDNvW84yFYMw-K8q83ing1Gxgqul20Wd95HmfOOh8/s320/vlcsnap-2023-07-05-18h46m08s434.png"></a></p><p>

indicating an expected response from the server never arrived. I don't know what the green button on the remote does (the manual simply says to "see the interactive service provider's instructions" for the four colour buttons). I connected speakers to the audio out but the unit makes no sound.
</p><p>
I don't know which human-readable version of the ROM this is, but we can dump it:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgspjwVenvpQVJcrOSy9-l3ozVHvKARXEWwtwRtSsP5qGKttOAzfyxT_1ElSCX5wujF3ejFIQpABxzwfFWB33dovaLAzUALV8gwnKd4Gd1aX-zOpoUxgLEVxpKfPRXKRwrVZXAB7wRDJAk757D3ddOZEwBRfFIFZL0J3bUHUywEOoj8uktud7C4VhWkjFM/s4080/PXL_20230706_013701726.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgspjwVenvpQVJcrOSy9-l3ozVHvKARXEWwtwRtSsP5qGKttOAzfyxT_1ElSCX5wujF3ejFIQpABxzwfFWB33dovaLAzUALV8gwnKd4Gd1aX-zOpoUxgLEVxpKfPRXKRwrVZXAB7wRDJAk757D3ddOZEwBRfFIFZL0J3bUHUywEOoj8uktud7C4VhWkjFM/s320/PXL_20230706_013701726.jpg"></a></p><p>

The best tool for this purpose is of course Doug Brown's <a href="https://www.downtowndougbrown.com/programmable-mac-rom-simms/">flash SIMM programmer</a>, which can both read these ROM SIMMs (used in many 68K Macs) and write to replacement flash ROM sticks. The 2MB dump we get has a checksum of </p><tt>$b7025504</tt><p> (the first four bytes as a 32-bit big-endian unsigned integer), a version word of </p><tt>$077d</tt><p> (i.e., 1917, bytes eight and nine as a 16-bit big-endian unsigned short), and a SHA-1 of </p><tt>911eaafc5ccfe6823a7be61d44aaf0a63d081118</tt><p>. What we're going to do with this dump is based on this particular ROM version. The rest of this article may or may not fully apply to other versions and of course you follow along with your real device at your own risk.
</p><p>
The first step with any dump is see what <a href="https://github.com/ReFirmLabs/binwalk"><tt>binwalk</tt></a> makes of it, and other than copyright messages, it finds a couple surprising things are present. Nine, to be exact.
</p><div><pre>% binwalk RED.rom

DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------
941976        0xE5F98         Copyright string: "Copyright C-Cube Microsystems 1992"
1090813       0x10A4FD        Copyright string: "Copyright 1990-91 Apple Computer Inc. Copyright 1981 Linotype AG Copyright 1990-91 Type Solutions Inc.1.0"
1090851       0x10A523        Copyright string: "Copyright 1981 Linotype AG Copyright 1990-91 Type Solutions Inc.1.0"
1090878       0x10A53E        Copyright string: "Copyright 1990-91 Type Solutions Inc.1.0"
1844352       0x1C2480        JPEG image data, JFIF standard 1.01
1846358       0x1C2C56        JPEG image data, JFIF standard 1.01
1848250       0x1C33BA        JPEG image data, JFIF standard 1.01
1849933       0x1C3A4D        JPEG image data, JFIF standard 1.01
1851587       0x1C40C3        JPEG image data, JFIF standard 1.01
1853288       0x1C4768        JPEG image data, JFIF standard 1.01
1855867       0x1C517B        JPEG image data, JFIF standard 1.01
1857571       0x1C5823        JPEG image data, JFIF standard 1.01
1859146       0x1C5E4A        JPEG image data, JFIF standard 1.01
1871674       0x1C8F3A        Copyright string: "Copyright 1987-1991"
</pre></div>
<p>
The copyrights reference fonts, but also C-Cube, the manufacturer of the MPEG decoder. It also finds nine JPEG images:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg4sNYPow2ybQ0P8ozChGowiiU4vkiem0E_digzZZCODCRBW7iB12EjYJuPOk1p4DQJRLIIKDHJuHqM-kXQv4dOeMPSUw88h7tcP0Eh0BrZ4IBvppjZ4C-xRIqZxNgQKdux2yDMTMj1HVj9-zjkbG4xY4VwYixfZGlMSRAMU8UB0r8OzAk3mUxDnuEYWjU/s864/stbbunchc.jpg"><img alt="" width="320" data-original-height="624" data-original-width="864" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg4sNYPow2ybQ0P8ozChGowiiU4vkiem0E_digzZZCODCRBW7iB12EjYJuPOk1p4DQJRLIIKDHJuHqM-kXQv4dOeMPSUw88h7tcP0Eh0BrZ4IBvppjZ4C-xRIqZxNgQKdux2yDMTMj1HVj9-zjkbG4xY4VwYixfZGlMSRAMU8UB0r8OzAk3mUxDnuEYWjU/s320/stbbunchc.jpg"></a></p><p>

These are obviously pictures of the development team. Do you recognize any of them? Are <em>you</em> any of them?
</p><p>
Naturally, with nine pictures, you <em>know</em> what we have to do.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgrmbuP_zpI2z4cr9BIvSbQ96HdOBDZfl87m8ZD1SiajarCUvCkFXgSMoTIwBakJR1_sAk968xblsWwvbBo0I4_Xb9vx5if5n7glkCr9MrIt0AB48Fn3LRKLqHlXPz3qz332BToAWNm6HEgfX9o3gVsun5IxaIE_wVQMNkhHGaZ1vXgx1QaOEfIKJLl7dw/s864/stbbunch.jpg"><img alt="" width="320" data-original-height="624" data-original-width="864" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgrmbuP_zpI2z4cr9BIvSbQ96HdOBDZfl87m8ZD1SiajarCUvCkFXgSMoTIwBakJR1_sAk968xblsWwvbBo0I4_Xb9vx5if5n7glkCr9MrIt0AB48Fn3LRKLqHlXPz3qz332BToAWNm6HEgfX9o3gVsun5IxaIE_wVQMNkhHGaZ1vXgx1QaOEfIKJLl7dw/s320/stbbunch.jpg"></a></p><p>

More relevantly, though, now that we have a ROM dump we've just <em>got</em> to hack it. Since it's displaying a message, let's see if we can modify the message as a small proof of concept. </p><tt>strings</tt><p>, that always useful tool, shows that the "Sorry!" message appears in two places. Modifying the first one is sufficient:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgYt8m-nsip9bekcmIMyFm6o6_OPGtMlgxE4R8sC8I0I1qQJcev4wHWKaSS7nEgcF6k3HBqaqprdBSvz_upUP1O4okVuIs9NQm96J8iJ1fevCQM6eUKAa72m_TYctmsCh5JZjRIBoLzzS4_mI9VgqGFR7B2qliH7mrhOcMF0J3iGEmUr2uix9zl1B5bKT4/s829/firsthack.png"><img alt="" height="320" data-original-height="829" data-original-width="741" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgYt8m-nsip9bekcmIMyFm6o6_OPGtMlgxE4R8sC8I0I1qQJcev4wHWKaSS7nEgcF6k3HBqaqprdBSvz_upUP1O4okVuIs9NQm96J8iJ1fevCQM6eUKAa72m_TYctmsCh5JZjRIBoLzzS4_mI9VgqGFR7B2qliH7mrhOcMF0J3iGEmUr2uix9zl1B5bKT4/s320/firsthack.png"></a></p><p>

This will change the checksum of the ROM, which is computed as the sum of all the 16-bit big endian shorts from byte 4 onward and truncated to 32 bits. The tools I wrote up to handle all this are in <a href="https://github.com/classilla/stbtools">this Github project</a>. Use </p><a href="https://github.com/classilla/stbtools/blob/main/checksum.pl"><tt>checksum.pl</tt></a><p> to recompute the ROM checksum and then use the hex editor to edit the first four bytes to match.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgbRxAXFDqgIzCZOMyXflYM7cDavcldVZ7qoGeL5S4jFKSzb011J-7T7Y5dSPGI1NkdtQ4JtIYWrh1a9NJ5PUGeW-hq722aW8xDBAECsgw3aMvcMqwzq1I64QdylGLHh3SVByIu43DaJnfUFwcYn0d38WBULCD943A9-hnLG-Vf6CrpJfAkQBm9oNP0s_0/s4080/PXL_20230712_210136841.jpg"><img alt="" width="320" data-original-height="3072" data-original-width="4080" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgbRxAXFDqgIzCZOMyXflYM7cDavcldVZ7qoGeL5S4jFKSzb011J-7T7Y5dSPGI1NkdtQ4JtIYWrh1a9NJ5PUGeW-hq722aW8xDBAECsgw3aMvcMqwzq1I64QdylGLHh3SVByIu43DaJnfUFwcYn0d38WBULCD943A9-hnLG-Vf6CrpJfAkQBm9oNP0s_0/s320/PXL_20230712_210136841.jpg"></a></p><p>

Then get yourself a couple 2MB flash ROMs SIMMs. They must be exactly 2MB in size; larger ROMs won't work even if you "echo" the bytes. I used the 2MB <a href="http://www.bigmessowires.com/mac-rom-inator-ii/">ROM-inator II from Big Mess O'Wires</a> but <a href="https://ko-fi.com/caymacvintage/shop">CayMac's 2MB ROM</a> should also do the job; CayMac also sells new SIMM programmers (I am not affiliated with BMOW or CayMac).
</p><p>
Burn the ROM in your programmer <a href="https://github.com/dougg3/mac-rom-simm-programmer">using the SIMM programmer tool</a>, make sure your STB3 is off, and install it in the ROM SIMM slot near the RAM slot. On the programmer, the SIMM skull and crossbones should face the skull and crossbones on the circuitboard; on the STB, the SIMM skull and crossbones should face the RAM. Connect up some sort of composite monitor and switch it on.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh2e7HhSAZB9z6i_KgAF8NAkqZSdAvclAVb_E-JNbzTuqAfLY5hVEiozGASWEPiCSi3yNu_vFN3tln1LIjwuUNivoO4Ynqy4v1OiTPwTV63OJa8fm7XGKvo2GGtW41ioNVnNNmoYWLhwJZ_4TZfl1GJ8vSDjhkbPrQlOWUP2m6d2IABpWT7gR94G5y83jM/s1400/vlcsnap-2023-07-12-13h57m41s443.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh2e7HhSAZB9z6i_KgAF8NAkqZSdAvclAVb_E-JNbzTuqAfLY5hVEiozGASWEPiCSi3yNu_vFN3tln1LIjwuUNivoO4Ynqy4v1OiTPwTV63OJa8fm7XGKvo2GGtW41ioNVnNNmoYWLhwJZ_4TZfl1GJ8vSDjhkbPrQlOWUP2m6d2IABpWT7gR94G5y83jM/s320/vlcsnap-2023-07-12-13h57m41s443.png"></a></p><p>

Our plea for help duly appears. This simple demonstration proves that the only thing we need to do to modify the ROM is update the checksum; nothing else on the board appears to check it. It's now time to figure out what's there and how it's organized.
</p><p>
Many Apple ROMs are segmented <a href="https://preterhuman.net/macstuff/techpubs/mac/MoreToolbox/MoreToolbox-106.html#HEADING106-0">into discrete resources</a>, which are functionally equivalent with on-disk HFS resources attached to files, and can be accessed from the Toolbox in the same fashion. For example, here's the header of the (unused, disabled and not implemented) <tt>.netBOOT</tt> driver resource in the green Quadra 605 ROM:
</p><div><pre>00051c80  18 00 00 00 00 00 00 00  00 0e dc 70 00 05 1c b0  |...........p....|
00051c90  44 52 56 52 00 31 58 08  2e 6e 65 74 42 4f 4f 54  |DRVR.1X..netBOOT|
00051ca0  00 00 00 00 c0 a0 00 00  00 00 08 80 00 00 03 04  |................|
</pre></div>
<p>
We can scan the red ROM dump for similar resource headers. Starting at offset <tt>$0000</tt>, the first big-endian 32-bit word is always the ROM checksum and the second is the starting address for the boot code (technically the first sets the stack pointer, but the ROM glosses over this). We page through opaque binary data awhile until we start seeing structured patterns every so often. The first one of these patterns we get to is this.
</p><div><pre>000ac210  78 00 00 00 00 00 00 00  00 00 00 00 00 0a b3 70  |x..............p|
000ac220  62 6f 6f 74 00 03 58 04  4d 61 69 6e 6b 63 6b 63  |boot..X.Mainkckc|
000ac230  4b 75 72 74 c0 a0 00 00  00 00 07 6a 00 00 00 64  |Kurt.......j...d|
</pre></div>
<p>
This is our first ROM resource, <tt>boot#3</tt>, named <tt>MainkckcKurt</tt> (much like the string <tt>Gary</tt>, presumably <a href="https://apple.fandom.com/wiki/Gary_Davidian">Gary Davidian</a>, shows up a lot in Mac ROMs, the name <tt>Kurt</tt> is all over this one — from the "kc" bit I'm guessing <a href="https://www.linkedin.com/in/kurt-clark-529444">Kurt Clark</a>, who was an Apple senior firmware and system software engineer at the time of the AITB's development). The hex byte <tt>78</tt> indicates an enabled, live resource.
</p><p>
The ROM resources in the red ROM are stored somewhat back to front with the "header" actually serving as a footer; the resource runs from the fourth word (here <tt>$000ab370</tt>) to the beginning of the footer. How do we know it's laid out like that? Because of what we find a little later on:
</p><div><pre>000ac980  70 73 6c 74 00 14 70 73  6c 74 00 1a 73 6e 64 20  |pslt..pslt..snd |
000ac990  00 01 77 65 64 67 e9 81  77 65 64 67 e9 80 6b 63  |..wedg..wedg..kc|
000ac9a0  78 00 00 00 00 00 00 00  00 0a c2 10 00 0a c2 40  |x..............@|
000ac9b0  72 6f 76 6d 00 00 58 00  6b 63 6b 63 6b 63 6b 63  |rovm..X.kckckckc|
000ac9c0  4b 75 72 74 c0 a0 00 00  00 08 70 0c 00 00 00 6c  |Kurt......p....l|
000ac9d0  4c 4b 60 00 00 86 44 18  00 00 06 53 79 73 74 65  |LK`...D....Syste|
000ac9e0  6d 00 00 00 00 00 00 00  00 00 06 46 69 6e 64 65  |m..........Finde|
000ac9f0  72 00 00 00 00 00 00 00  00 00 07 4d 61 63 73 42  |r..........MacsB|
000aca00  75 67 00 00 00 00 00 00  00 00 0c 44 69 73 61 73  |ug.........Disas|
000aca10  73 65 6d 62 6c 65 72 00  00 00 0d 53 74 61 72 74  |sembler....Start|
000aca20  55 70 53 63 72 65 65 6e  00 00 06 46 69 6e 64 65  |UpScreen...Finde|
000aca30  72 00 00 00 00 00 00 00  00 00 09 43 6c 69 70 62  |r..........Clipb|
000aca40  6f 61 72 64 00 00 00 00  00 00 00 0a 00 14 00 00  |oard............|
</pre></div>
<p>
The characters <tt>LK</tt> herald HFS boot blocks. Yes, friends, there's an embedded disk image here, and it's doubtful the resource code <tt>rovm</tt> is used to reference it.
</p><p>
There are many fun strings in that disk image:
</p><div><pre>000af1d0  46 72 65 64 54 56 aa 0d  0d 42 72 6f 75 67 68 74  |FredTV...Brought|
000af1e0  20 74 6f 20 79 6f 75 20  62 79 20 46 72 65 64 20  | to you by Fred |
000af1f0  48 75 78 68 61 6d 20 61  6e 64 20 46 72 65 64 20  |Huxham and Fred |
000af200  4d 6f 6e 72 6f 65 2e 0d  0d a9 20 41 70 70 6c 65  |Monroe.... Apple|
000af210  20 43 6f 6d 70 75 74 65  72 2c 20 49 6e 63 2e 20  | Computer, Inc. |
000af220  31 39 39 33 0d 41 6c 6c  20 52 69 67 68 74 73 20  |1993.All Rights |
000af230  52 65 73 65 72 76 65 64  2e 0d 81 e2 20 30 01 60  |Reserved.... 0.`|
</pre></div>
<p>
Although it was known that the AITB ROM had portions of System 7.1, this red ROM actually seems to contain an entire, self-contained, miniature bootable image. There's no reason to have the string <tt>Welcome to Macintosh.</tt> unless a working System file were part of it:
</p><div><pre>000b2930  1a 00 6c 00 c0 57 65 6c  63 6f 6d 65 20 74 6f 20  |..l..Welcome to |
000b2940  4d 61 63 69 6e 74 6f 73  68 2e 00 b1 7a 00 18 00  |Macintosh...z...|
000b2950  7e 00 c0 44 65 62 75 67  67 65 72 20 69 6e 73 74  |~..Debugger inst|
000b2960  61 6c 6c 65 64 2e 00 b1  77 00 14 00 7e 00 c0 45  |alled...w...~..E|
000b2970  78 74 65 6e 73 69 6f 6e  73 20 6f 66 66 2e 00 b1  |xtensions off...|
000b2980  79 00 ca 00 5e 00 72 54  68 69 73 20 73 74 61 72  |y...^.rThis star|
000b2990  74 75 70 20 64 69 73 6b  20 77 69 6c 6c 20 6e 6f  |tup disk will no|
000b29a0  74 20 77 6f 72 6b 20 6f  6e 20 74 68 69 73 20 4d  |t work on this M|
000b29b0  61 63 69 6e 74 6f 73 68  2f 6d 6f 64 65 6c 2e 20  |acintosh/model. |
[...]
000b3e50  6d 21 40 2d 04 42 af 06  04 00 00 00 55 54 4d 61  |m!@-.B......UTMa|
000b3e60  63 69 6e 74 6f 73 68 20  53 79 73 74 65 6d 20 76  |cintosh System v|
000b3e70  65 72 73 69 6f 6e 20 37  2e 31 0d 0d 0d a9 20 41  |ersion 7.1.... A|
000b3e80  70 70 6c 65 20 43 6f 6d  70 75 74 65 72 2c 20 49  |pple Computer, I|
000b3e90  6e 63 2e 20 31 39 38 33  2d 31 39 39 32 0d 41 6c  |nc. 1983-1992.Al|
000b3ea0  6c 20 72 69 67 68 74 73  20 72 65 73 65 72 76 65  |l rights reserve|
000b3eb0  64 2e 00 00 01 f5 a8 9f  65 72 00 12 09 01 00 00  |d.......er......|
</pre></div>
<p>
Eventually we come to its footer, which now enables us to extract it.
</p><div><pre>001339d0  78 00 00 00 00 00 00 00  00 0a c9 a0 00 0a c9 d0  |x...............|
001339e0  64 69 73 6b 00 00 58 00  6b 63 6b 63 6b 63 6b 63  |disk..X.kckckckc|
001339f0  4b 75 72 74 c0 a0 00 00  00 00 07 50 00 00 00 74  |Kurt.......P...t|
</pre></div>
<p>
It's a <tt>disk</tt>, resource #0. That sounds more likely as a type code. If you look at the third and fourth 32-bit words (big-endian, again, as G-d intended), you'll find it links back to the last footer at <tt>$000ac9a0</tt> (the <tt>rovm</tt> resource), allowing us to scan the file by walking back references, and the address <tt>$000ac9d0</tt> is where we found the boot block, so that must be the starting address for this resource. That means <tt>disk#0</tt> occupies <tt>$000ac9d0</tt> to the beginning of the footer at <tt>$001339d0</tt>.
</p><p>
If this is a bootable Mac OS System 7 image, it should act like it. And, to my delight, it does. The manual says nothing about connecting an ADB keyboard to it, only a mouse, but ADB keyboards work fine. If you hold down the SHIFT key while turning the rear power switch on and waiting for it to turn yellow, you'll lose the Apple background when you power on from the front, exactly as if an extension didn't load.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEglpqRWGzWyMNbo_4QZLm1sdSM6ySTqUHbz4-DpQZDZgLI5qKf7WEgaluUOQLYXGgu6kOkzweNbdrVUvlnStpGd6HOJzV3cWAZGfDP_x6JnHyA_iZOHOmXOHIKOKw5hN6kRQEX6lCgWzeiD4oSy-LRT4C3PsE7Eq-EirStt443Q8X_zUPC15riAD4NzdrM/s1400/vlcsnap-2023-07-11-20h43m06s983.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEglpqRWGzWyMNbo_4QZLm1sdSM6ySTqUHbz4-DpQZDZgLI5qKf7WEgaluUOQLYXGgu6kOkzweNbdrVUvlnStpGd6HOJzV3cWAZGfDP_x6JnHyA_iZOHOmXOHIKOKw5hN6kRQEX6lCgWzeiD4oSy-LRT4C3PsE7Eq-EirStt443Q8X_zUPC15riAD4NzdrM/s320/vlcsnap-2023-07-11-20h43m06s983.png"></a></p><p>

This behaviour suggests that when you first turn it on, it's doing its memory test and POST, then turns on the red LED while searching for and booting the minimal Mac OS, then turns on the yellow LED when, I guess, the "Finder" (such as it is) is ready to find its mothership.
</p><p>
Other typical Mac key combinations work, too. Pressing Command-Q will reset the machine when the timeout error message appears, as if quitting any other app. If you press Command-Option-Escape in an attempt to kill the task, you'll reset it also, or Command-Power, though possibly only at the point the timeout error message is present — one suspects this front-end program doesn't call <tt>WaitNextEvent</tt> very much. (In fact, it turns out it doesn't by the point, but that's a spoiler from near the end of this article.) It seems virtually anything that would cause a quit or system error (or any system dialogue box) will immediately force a restart. Incidentally, there is no startup chime or system beep, though there does appear to be a System Beep resource (<tt>snd #1</tt>).
</p><p>
Can the STB3 red ROM boot from anything else? The manual says it can access a CD-ROM drive connected via SCSI, and there are strings in the ROM that make reference to SCSI, but these appear to be within the byte range we identified as part of the disk image (and my SCSI isn't bootable). Apart from that, however, we now have enough understanding of how its ROM is laid out to write something that will walk it. (Eventually I'll extend it to work with other Mac ROMs, but right now the code just works with this red one.) We'll use <a href="https://github.com/classilla/stbtools/blob/main/resscan.pl"><tt>resscan.pl</tt></a> to see what driver resources are present and if there are any other disk images.
</p><div><pre>% ../resscan.pl RED.rom | grep -ai DRVR
[78000000] found DRVR #93 at 0x00133a00 0x00134150 ".STBDiskDriverkckckckckc" 
% ../resscan.pl RED.rom | grep -ai disk
[78000000] found disk #0 at 0x000ac9d0 0x001339d0 "kckckckcKurt��" 
[78000000] found DRVR #93 at 0x00133a00 0x00134150 ".STBDiskDriverkckckckckc"
(various string resources elided)
</pre></div>
<p>
There appears to be only one <tt>DRVR</tt>, versus the multiple found in the Q605 ROM (such as one for the floppy drive), plus only one ROM disk image. If it can load from SCSI at all, it appears to be handled by the OS in the ROM disk image rather than the firmware directly, suggesting a regular MacOS volume might not boot as such. Alternatively, doing so may not have been supported with this version of the ROM. Resource <tt>STR #46396</tt> does have the interesting string "Manages file access to CDi discs for QuickTime media handlers" which suggests disc support may have been intended for <a href="https://en.wikipedia.org/wiki/CD-i">greenbook CD-i</a>.
</p><p>
Of other resources present, there are several <tt>thng</tt> resources, including an "STB3 Component" that "Supports the hardware dependent features of STB3." and an "I2C Component" that "Supports I2C using Cuda," and a number of <tt>cdec</tt> (QuickTime codec) resources for Cinepak, Photo/JPEG, Apple Animation ("Decompresses images compressed using run length encoding") and Apple Graphics ("Decompresses images compressed using Sean's secret recipe") and, of course, MPEG-1. These components are specific to the STB and embedded elsewhere in ROM, not as part of the bootable image.
</p><p>
As for the OS itself, we'll now extract that byte range we computed and treat it as a disk image. Both SheepShaver and Mini vMac will mount it, but we'll use SheepShaver first to illustrate a little of what's there.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEivi109oErIiBTo1MbdgBFIq1S01HphNj3frf-D55P-qI2z5AueUhtAEnB8O17hsfc8WYrgo1LxiGewK9Z-EzXJKO_sMMKihSlojvXMWXT8sdbQ75d4bhbXvPZ72_YmrqsqSO-LCi5hzOfGSLZqTXE5dWR-wBi2-E_Z1mZiOhvHk_dJSuibrWrOQBYw23g/s899/happydisk.png"><img alt="" width="320" data-original-height="815" data-original-width="899" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEivi109oErIiBTo1MbdgBFIq1S01HphNj3frf-D55P-qI2z5AueUhtAEnB8O17hsfc8WYrgo1LxiGewK9Z-EzXJKO_sMMKihSlojvXMWXT8sdbQ75d4bhbXvPZ72_YmrqsqSO-LCi5hzOfGSLZqTXE5dWR-wBi2-E_Z1mZiOhvHk_dJSuibrWrOQBYw23g/s320/happydisk.png"></a></p><p>

First off, we're dealing with a disk image smaller than an 800K floppy; it's 540K in size. As a result the System Folder is very abbreviated: two mysterious </p><tt>INIT</tt><p>s, </p><tt>NMIer</tt><p> and </p><tt>TSDrvr INIT - 8/8</tt><p>, and very small </p><tt>Finder</tt><p> and </p><tt>System</tt><p> files. There is one font in the </p><tt>Fonts</tt><p> folder (there are other font references in the System file), and nothing in </p><tt>Apple Menu Items</tt><p>. The TSDrvr extension may be related to the known set of <a href="https://wiki.preterhuman.net/Apple_Interactive_Television_Box#Software">Set Top Box extensions</a> though none of those files have so far worked with any STB using the green ROM booting a conventional version of Mac OS. If indeed related, then the TS part of the name likely refers to <a href="https://en.wikipedia.org/wiki/MPEG_transport_stream">MPEG transport streams</a> and handles framing as movie data comes over the wire.
</p><p>
The other file is named <tt>MPEGStill</tt>. It has a single <tt>ckid</tt> (check ID) resource from MPW Projector, which is the Macintosh Programmer's Workshop version control system, and (among other binary data) that resource contains the strings <tt>SetTopProj</tt> (the project name, no doubt), <tt>Tidbits</tt> (probably the component or subproject, probably not <a href="https://tidbits.com/">the long-lived Mac newsletter</a>), <tt>jay michael puckett</tt> (author - which one of the self-portraits is he?), and <tt>AppleMPEGStill</tt>.
</p><p>
But the last string is the most interesting. It says it's a <tt>new still for non-BT trials</tt>. So what's the still image?

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEib-hWXs8j5td0A6eAhc0ob7O-BD82dJkv_DsNBSENEi5Huz6Nhhw6Cz73L98cRhbbJRdilkN7LTi2ws6EEgNLkKcYMwWZ3R4Gh0I3rV3YF2N-CwoWlHi8oJlVNm_f6qf8pXfzEDS5bnoMsTGffFex481l45Gwxr00XtPSB3ySeUMANXGVJIg47Pm-HGL8/s813/mpegstill.png"><img alt="" width="320" data-original-height="812" data-original-width="813" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEib-hWXs8j5td0A6eAhc0ob7O-BD82dJkv_DsNBSENEi5Huz6Nhhw6Cz73L98cRhbbJRdilkN7LTi2ws6EEgNLkKcYMwWZ3R4Gh0I3rV3YF2N-CwoWlHi8oJlVNm_f6qf8pXfzEDS5bnoMsTGffFex481l45Gwxr00XtPSB3ySeUMANXGVJIg47Pm-HGL8/s320/mpegstill.png"></a></p><p>

It's ... an MPEG-1 frame. And QuickTime will play it:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi07kh4BFEuBesHidlYFP4z8lEZYzLg2ruiY5AL5cSJgU0FTRvFD4rx4cLsw2fmRc8M8Z1ffYjApx5u9OnyZ439fIFmpvcdnw9BNKBRagmRjAFO7ENfuo67KJlAYGJmcozWWxSXod9BZSkr_1hES2YN9nHZIUD9YCDsPYPyQMzUUzhPWdhQcv-PKcxIfvw/s797/ismpg.png"><img alt="" width="320" data-original-height="452" data-original-width="797" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi07kh4BFEuBesHidlYFP4z8lEZYzLg2ruiY5AL5cSJgU0FTRvFD4rx4cLsw2fmRc8M8Z1ffYjApx5u9OnyZ439fIFmpvcdnw9BNKBRagmRjAFO7ENfuo67KJlAYGJmcozWWxSXod9BZSkr_1hES2YN9nHZIUD9YCDsPYPyQMzUUzhPWdhQcv-PKcxIfvw/s320/ismpg.png"></a></p><p>

There's our image, as CIF PAL 352x288. Notice there's only one frame here; presumably the BT STBs used a British Telecom image for their backdrop still instead. Most likely the hardware MPEG decoder, via the built-in ROM codecs, is being used to decode and display the frame.
</p><p>
For our first trick, let's create a new still frame of our own. There are a few gotchas. First of all, SheepShaver seems to wipe the boot blocks when it unmounts the image, and also unblesses the System Folder, making the resulting disk image unbootable by the STB. (I'll say benignly this was the source of a lot of cussing when the red LED would turn on but then nothing else happened.) We'll use it to explore the image but for development we'll use Mini vMac instead, which also unblesses the System Folder, but if you boot the emulated Mac (I use the Macintosh II emulation) with both your boot volume and the STB volume on the command line, it leaves the boot blocks alone. We can fix the "unblessed" folder after Mini vMac unmounts it.
</p><p>
If we feed the data fork to <tt>file</tt> and <tt>ffmpeg</tt>, this is what we get.
</p><div><pre>% file MPEGStill
MPEGStill: MPEG sequence, v1, progressive Y'CbCr 4:2:0 video, CIF PAL, 25 fps
% ffmpeg -i MPEGStill
[...]
[mpegvideo @ 0x1001f8d4b70] Estimating duration from bitrate, this may be inaccurate
Input #0, mpegvideo, from 'MPEGStill':
  Duration: 00:00:00.00, bitrate: 104786 kb/s
  Stream #0:0: Video: mpeg1video, yuv420p(tv), 352x288 [SAR 1:1 DAR 11:9], 104857 kb/s, 25 tbr, 1200k tbn
</pre></div>
<p>
We'll use the famous <a href="https://en.wikipedia.org/wiki/SMPTE_color_bars#/media/File:SMPTE_Color_Bars.svg">SMPTE colour bars</a> at a 4:3 aspect ratio. Based on the specs above, we should be able to approximate it with a command line line <tt>ffmpeg -i smpte.png -s 352x288 -r 25 -c:v mpeg1video -pix_fmt yuv420p nu.mpg</tt>, but this doesn't quite work.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi2Awvj72whLl1HbYjyjSnNNn5a_4xy7S8n9L59l_CIqkz_esCE16IGsgquK5thEZdHIN7yan-EIDgY_rSfi5VlCsoXOJQPhoaRI1h77BBrZrac1K4pQPfpZh1nFUoCZnbHUD8-lHE87klJgPKxzukoYXrCLv568-T8OIrzuZTSDRUJP5H8jD0FKGjT0i8/s1920/vlcsnap-2023-07-13-20h40m31s473.png"><img alt="" width="320" data-original-height="1200" data-original-width="1920" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi2Awvj72whLl1HbYjyjSnNNn5a_4xy7S8n9L59l_CIqkz_esCE16IGsgquK5thEZdHIN7yan-EIDgY_rSfi5VlCsoXOJQPhoaRI1h77BBrZrac1K4pQPfpZh1nFUoCZnbHUD8-lHE87klJgPKxzukoYXrCLv568-T8OIrzuZTSDRUJP5H8jD0FKGjT0i8/s320/vlcsnap-2023-07-13-20h40m31s473.png"></a></p><p>

The reason is it doesn't is because </p><tt>ffmpeg</tt><p> generated an <a href="https://en.wikipedia.org/wiki/MPEG_program_stream">MPEG program stream</a> and the decoder hardware wants an <a href="https://en.wikipedia.org/wiki/MPEG_elementary_stream">MPEG <em>elementary</em> stream</a>.
</p><div><pre>% file nu.mpg
nu.mpg: MPEG sequence, v1, system multiplex
</pre></div>
<p>
While I'm sure we can get <tt>ffmpeg</tt> to cough up the video stream alone, sometimes the simplest approach is to use an additional tool, in this case <a href="http://www.hampa.ch/mpegdemux/"><tt>mpegdemux</tt></a>. It compiled out of the box on my Fedora Linux-based POWER9 Raptor Talos II workstation and generated a file that matches the original <tt>MPEGStill</tt> (and is smaller, too).
</p><div><pre>% mpegdemux -d -s 0xe0 nu.mpg nuu.mpg
% file nuu.mpg
nuu.mpg: MPEG sequence, v1, progressive Y'CbCr 4:2:0 video, CIF PAL, 25 fps
</pre></div>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgVS8Hx0hPyVrWKhFynVy0EDgVytBicM2Imzzg-mfLZioKUQAqeA5tkwwznP3pgsowh6aPFYEt-weCq__LE6PHIMrRa43z9ub-EyTBHHbz-rPoRoNA2jMPOs_ew2GqTOfGw3ZEsx-jrrr2wkiSoyn-ZJlbTIH8wHKA7AmFFnIb_Au-XaLbNLquEBMK3cTo/s1176/edfindstr.png"><img alt="" width="320" data-original-height="918" data-original-width="1176" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgVS8Hx0hPyVrWKhFynVy0EDgVytBicM2Imzzg-mfLZioKUQAqeA5tkwwznP3pgsowh6aPFYEt-weCq__LE6PHIMrRa43z9ub-EyTBHHbz-rPoRoNA2jMPOs_ew2GqTOfGw3ZEsx-jrrr2wkiSoyn-ZJlbTIH8wHKA7AmFFnIb_Au-XaLbNLquEBMK3cTo/s320/edfindstr.png"></a></p><p>

Finally, we'll fire up ResEdit in Mini vMac. The strings for the error message are part of the "Finder," so we'll edit those. In this case the two message lines are in resource </p><tt>STR##128</tt><p>, strings 11 and 12. More about the other strings later.
</p><p>
When we quit Mini vMac, unmounting the new STB image, we'll need to recompute the checksum and then re-bless the System Folder. Assuming you haven't changed the layout of the folders, changing byte 1119 to 16 (<tt>$10</tt>) will fix the latter. Then the tool <a href="https://github.com/classilla/stbtools/blob/main/splicedisk0.pl"><tt>splicedisk0.pl</tt></a> will take the original red ROM dump and the new STB ROM disk image and emit a new 2MB ROM with a corrected checksum ready for use (if you pass <tt>-fix16</tt>, it will also change that byte for you, but it doesn't do it by default just in case). It will complain if the boot blocks are missing or if the System Folder isn't blessed. Assuming it's happy, burn the new ROM image it generates and fire up the 'Box.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjrEBu8gbp_OeKLNDMyiBBPTmAmxxWDGOIVPQgLP6ijkxexiaKeD0c5tN2D2P1TDs27QXnw1qA6SpGpaqiQZiq9gcHgt8S1A-PCMSe9c4F6IlAqmnXZbPdmC8X9Lg6_6jj-QmJF-9wnWicsm5QpPvTbesLSr6Vd5QnJhnLg7MMZ9uT5nGzQbwu-mipyyl0/s1400/vlcsnap-2023-07-13-22h30m00s552.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjrEBu8gbp_OeKLNDMyiBBPTmAmxxWDGOIVPQgLP6ijkxexiaKeD0c5tN2D2P1TDs27QXnw1qA6SpGpaqiQZiq9gcHgt8S1A-PCMSe9c4F6IlAqmnXZbPdmC8X9Lg6_6jj-QmJF-9wnWicsm5QpPvTbesLSr6Vd5QnJhnLg7MMZ9uT5nGzQbwu-mipyyl0/s320/vlcsnap-2023-07-13-22h30m00s552.png"></a></p><p>

Seems appropriate for <a href="https://en.wikipedia.org/wiki/Captain_Midnight_broadcast_signal_intrusion">hacking a cable network</a> box, don't you think? Showtime/Movie Channel, beware!
</p><p>
The abbreviated "Finder" is the piece doing all the magic here. If you simply replace it with the regular Finder or even a teensy tiny Finder substitute like <a href="http://www.pianofab.com/otherp.html">FaberFinder</a>, the yellow LED never appears, meaning to understand what's going on we'll need to figure out what it's up to.
</p><p>
Unlike the standard Finder, STB Finder is just a regular application (with type and creator codes <tt>APPL</tt> and <tt>fHfM</tt>). You can even run it from the extracted disk image, whereupon it turns the screen pink, hides the menu bar and pointer, and just sits there until you quit with Command-Q while it presumably waits for the non-existent power button to be pressed. The timeout error message never appears, even if you're Captain Midnight.
</p><p>
There are, of course, a few interesting resources in it. It was left checked out of Projector and ResEdit warns you about this; the <tt>ckid</tt> resource has the same project and author, and says it's "beta 7 - handles more ways an application can hose itself." (Oh, really?) Accordingly, its (actual) Finder information gives it a version of "<tt>1.0ß7, Copyright © Apple Computer, Inc. 1995</tt>".

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjWtFnwsdGGH_31bLwnKkH4rVTlkxC_lX39TMrrbw8MWvq1Bn1-wKKIZJX8nQG7NMwgUXQw83svL5K7ZXTMVHH55IBgYxZPP4WGCpY3XV-R5pIMCqzR-TuEAZTUwAxPYe8cNjToeh7KTFgtKpzhBJoXUGPMkB1uFT4VKOoNV5YnrY1P1aWdi8nm7y3hr4g/s1176/findermen.png"><img alt="" width="320" data-original-height="918" data-original-width="1176" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjWtFnwsdGGH_31bLwnKkH4rVTlkxC_lX39TMrrbw8MWvq1Bn1-wKKIZJX8nQG7NMwgUXQw83svL5K7ZXTMVHH55IBgYxZPP4WGCpY3XV-R5pIMCqzR-TuEAZTUwAxPYe8cNjToeh7KTFgtKpzhBJoXUGPMkB1uFT4VKOoNV5YnrY1P1aWdi8nm7y3hr4g/s320/findermen.png"></a></p><p>

There is an actual menu bar resource for this application, though it's never used, showing the STB Finder's internal name as </p><tt>FredTVApp</tt><p>. If it has any special response to Command-O, however, it isn't evidenced by pressing the combination on an attached keyboard (only Command-Q), and there is no corresponding resource for an "about" dialogue box.
</p><p>
Let's turn to the disassembler and go through the <tt>CODE</tt> resources now. Only <tt>CODE#1</tt> has actual program data. In these and all succeeding extracts, recall that A7 is the 68000 stack pointer, A6 is the frame pointer and A5 is the app-system globals boundary pointer. <a href="https://github.com/fuzziqersoftware/resource_dasm">The <tt>resource_dasm</tt> disassembler</a> we're using here displays the destination argument first and we will use that convention for new code for consistency. I have fixed up offsets since it got a little confused by the resource layout.
</p><p>
Although there is a fair amount of preamble, here is the <tt>main</tt> function, which I have pre-annotated. Our ability to understand the code is greatly enhanced by the presence of in-line symbols.
</p><div><pre>; main 
; start up GUI 
00000548  4E56 0000                link       A6, 0
0000054C  2F03                     move.l     -[A7], D3
0000054E  7600                     moveq.l    D3, 0x00
00000550  7600                     moveq.l    D3, 0x00
00000552  A063                     syscall    MaxApplZone
; Initialize
; set up event handlers            
; InitGraf, etc.                   
00000554  4EB9 0000 07DE           jsr        [0x000007DE]
0000055A  A852                     syscall    HideCursor
; HideMenuBar
0000055C  4EB9 0000 125E           jsr        [0x0000125E]
; HideIt (nuke menu bar selector)  
00000562  4EB9 0000 12B2           jsr        [0x000012B2]
; DrawMPEGStill
00000568  4EB9 0000 15EE           jsr        [0x000015EE]
; EventLoop
0000056E  4EB9 0000 0588           jsr        [0x00000588]
; Cleanup (doesn't do anything)
00000574  4EB9 0000 096A           jsr        [0x0000096A]
0000057A  261F                     move.l     D3, [A7]+
0000057C  4E5E                     unlink     A6
0000057E  4E75                     rts
00000580  846D 6169 6E00 0000      dc.b       "main"
</pre></div>
<p>
The long and short of it is this was written in a high-level language (most likely C), and the operating system, font and painting operations are regular Macintosh Toolbox A-line traps which the disassembler has kindly filled in for us. That means everything, including the "desktop," draws to the same screen and uses the same calls as any other System 7-compatible application. This phase of the application works on regular System 7 (more about this later on), so we can test our work in Mini vMac instead of burning flash write cycles.
</p><p>
Moving or substantially altering this code in ResEdit has side effects, usually explosive ones. Very carefully and not without a lot of trial-and-error, the first cut was to turn the <tt>HideCursor</tt> syscall into a <tt>nop $4e71</tt>, then neuter <tt>HideMenuBar</tt> and <tt>HideIt</tt> (since other things call them) by setting their first instructions to <tt>rts $4e75</tt>.
</p><p>
Next, we need to redraw the menu after the MPEG still is painted but we can't move the <tt>jsr DrawMPEGStill</tt> up without causing a crash (try it yourself), so we'll insert the <tt>DrawMenuBar $a937</tt> trap into <tt>EventLoop</tt> by obliterating the seemingly superfluous <tt>clr.w</tt> at the beginning (there weren't any spare bytes after the paint in <tt>DrawMPEGStill</tt>). Here's the rest of the event loop.
</p><div><pre>; EventLoop
00000588  4E56 FFEE                link       A6, -0x0012
0000058C  426E FFEE                clr.w      [A6 - 0x12]  &lt;&lt;&lt; MARKED FOR DEATH
00000590  6020                     bra        +0x22 /* 000005B2 */
label00000592:                     
; spin event loop
00000592  554F                     subq.w     A7, 2 
00000594  3F3C FFFF                move.w     -[A7], 0xFFFF
00000598  486E FFF0                pea.l      [A6 - 0x10]
0000059C  4878 001E                push.l     0x1E
000005A0  42A7                     clr.l      -[A7]
000005A2  A860                     syscall    WaitNextEvent
000005A4  101F                     move.b     D0, [A7]+
000005A6  486E FFF0                pea.l      [A6 - 0x10]
; call event handler
000005AA  4EB9 0000 05C8           jsr        [0x000005C8]
000005B0  584F                     addq.w     A7, 4
label000005B2:
; wait for global to turn zero: if so, terminate
; this is set by the Quit menu item
000005B2  4A2D FF44                tst.b      [A5 - 0xBC]
000005B6  66DA                     bne        -0x24 /* 00000592 */
000005B8  4E5E                     unlink     A6
000005BA  4E75                     rts
000005BC  8945 7665 6E74 4C6F 6... dc.b       "EventLoop"
</pre></div>
<p>
In Mini vMac we now have what appears to be a normal, if not particularly useful, application (and no more pink screen), with a regular pointer and menu bar. On the AITB, we get a regular pointer, a black screen, and no menu bar. Eventually the failure text comes up and we crash. But we have a mouse pointer now, so that's a start.
</p><p>
Incidentally, what displays the text is another routine called <tt>DrawMessageText</tt>, which takes two string pointers and displays them centered in Helvetica in those fixed locations. This is called by multiple routines, but if you check back in that <tt>STR#</tt> resource, most of the strings it's called to draw are blank and only the error messages are populated. This is good evidence that the red ROM we have was very late in development and possibly saw production use.
</p><p>
It appears that the "pink screen" — a simple solid window, really — is how the hardware decides where to draw the MPEG frame, essentially a Margot Robbie chroma key. For the second cut, we'll put back that <tt>clr.w</tt> in case it was salient, restore <tt>HideMenuBar</tt> to spew forth the Pepto-Bismol, and put the <tt>DrawMenuBar</tt> trap into <tt>HideIt</tt> (but elide the rest of it as before). That way the menu bar will draw on top of the pink window and should not be obliterated by it. Test run in Mini vMac:
</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhm336-6lDeTovXTcY7ywiPC5-X1W9hk6EN1Vs6O-ZgN7p3vygZFmD1WzZEWlqXxajicX1vGYQSJ2VfxJNHIzTY_MXn1WKKQL_s5fznxEJXAy3OSu8zFG3zbKvMouuAaGNc8VfyGidrJGu7-3FIOQKrp9dZaPDb0sQ-QU7exb710eGgXYMpMLWBnuakBrA/s1176/hifredtv.png"><img alt="" width="320" data-original-height="918" data-original-width="1176" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhm336-6lDeTovXTcY7ywiPC5-X1W9hk6EN1Vs6O-ZgN7p3vygZFmD1WzZEWlqXxajicX1vGYQSJ2VfxJNHIzTY_MXn1WKKQL_s5fznxEJXAy3OSu8zFG3zbKvMouuAaGNc8VfyGidrJGu7-3FIOQKrp9dZaPDb0sQ-QU7exb710eGgXYMpMLWBnuakBrA/s320/hifredtv.png"></a></p>
<p>
Those changes bring back the pink screen but keep the menu bar and pointer. Selecting the About option just makes it beep at us, by the way. Still, it's likely that this part is only the state of the machine <em>before</em> the power button is pressed, and we want to get the screen on (and not time out and crash), so we need to keep going through the disassembly.
</p><p>
It would seem logical to assume that since everything so far has been Toolbox-based, the signal that the power button was pressed is probably also a regular Toolbox Event. Attaching an ADB keyboard to the STB3 and pressing the Power key doesn't do anything, so we go back to the code. The event handler called by the event loop has typical handlers for mouse down, key down, update and activate events, as well as the "high level" event handler for Apple events, but also a mysterious handler for an application-specific <tt>app3Evt</tt> (event type 14).
</p><div><pre>label000006BE: ; app3Evt           
000006BE  4A2D FC76                tst.b      [A5 - 0x38A]
000006C2  6632                     bne        +0x34 /* 000006F6 */
000006C4  0CAA 0000 0115 0002      cmpi.l     [A2 + 0x2], 0x115
000006CC  6628                     bne        +0x2A /* 000006F6 */
000006CE  1B7C 0001 FC76           move.b     [A5 - 0x38A], 0x1
000006D4  2B6A 0006 FC6E           move.l     [A5 - 0x392], [A2 + 0x6]
000006DA  594F                     subq.w     A7, 4
000006DC  2F2D FD34                move.l     -[A7], [A5 - 0x2CC]
000006E0  4267                     clr.w      -[A7]
000006E2  2F3C 0002 001E           move.l     -[A7], 0x2001E
000006E8  7000                     moveq.l    D0, 0x00
000006EA  A82A                     syscall    ComponentDispatch
000006EC  201F                     move.l     D0, [A7]+
; StartTheBootProtocol             
000006EE  4EB9 0000 0A02           jsr        [0x00000A02]
000006F4  6050                     bra        +0x52 /* 00000746 */
label000006F6: 
000006F6  0C2D 0001 FC76           cmpi.b     [A5 - 0x38A], 0x1
000006FC  661E                     bne        +0x20 /* 0000071C */
000006FE  0CAA 0000 0115 0002      cmpi.l     [A2 + 0x2], 0x115
00000706  6614                     bne        +0x16 /* 0000071C */
00000708  701E                     moveq.l    D0, 0x1E
0000070A  D0AD FC6E                add.l      D0, [A5 - 0x392]
0000070E  B0AA 0006                cmp.l      D0, [A2 + 0x6]
00000712  6408                     bcc        +0xA /* 0000071C */
00000714  3F3C 0002                move.w     -[A7], 0x2
00000718  A895                     syscall    ShutDown
0000071A  602A                     bra        +0x2C /* 00000746 */
</pre></div>
<p>
Much of the special hardware control is done through the poorly documented <tt>ComponentDispatch</tt> trap, officially part of the Component Manager (makes sense as QuickTime was its major utilizer and this machine is basically a QuickTime box). Best guess is that it uses the "<tt>STB3 Component</tt>" at resource <tt>thng#48803</tt>, though being related to power-on it could also be the "<tt>I2C Component</tt>" (<tt>thng#48798</tt>). Here, it checks a global variable (i.e., via A5) and a code word, and if that variable is zero but the code word is <tt>0x115</tt>, it calls an internal component (to turn on the screen?) and then calls <tt>StartTheBootProtocol</tt> (which, completely unexpectedly, starts the remote boot sequence). But if the global variable is one with that same code word, it triggers the <tt>ShutDown</tt> trap (which forcibly reboots the AITB). All this sounds like what you'd get if the power button were pressed.
</p><p>
The timeout is in <tt>DoIdle</tt>, which is called within <tt>StartTheBootProtocol</tt>. We'll shortcircuit that.
</p><div><pre>; SendPowerUpMessage               
00000A3E  4EB9 0000 0BE8           jsr        [0x00000BE8]
00000A44  3600                     move.w     D3, D0
; SendBootMessage
00000A46  4EB9 0000 0C54           jsr        [0x00000C54]
00000A4C  3600                     move.w     D3, D0
; get current count
00000A4E  A975                     syscall    TickCount
00000A50  201F                     move.l     D0, [A7]+
00000A52  0680 0000 0708           addi.l     D0, 0x708
00000A58  2B40 FD04                move.l     [A5 - 0x2FC], D0
00000A5C  5C4F                     addq.w     A7, 6
00000A5E  6004                     bra        +0x6 /* 00000A64 */
label00000A60:
; call DoIdle if A5 - 0x300 is null - see flag notes elsewhere
00000A60  4EBA FF1A                jsr        [PC - 0xE6 /* 0000097C */]
label00000A64:
00000A64  4A2D FD00                tst.b      [A5 - 0x300]
00000A68  67F6                     beq        -0x8 /* 00000A60 */  &lt;&lt;&lt; MARKED FOR DEATH
00000A6A  594F                     subq.w     A7, 4
00000A6C  2F2D FD38                move.l     -[A7], [A5 - 0x2C8]
00000A70  2F3C 0000 0703           move.l     -[A7], 0x703
00000A76  7000                     moveq.l    D0, 0x00
00000A78  A82A                     syscall    ComponentDispatch
00000A7A  201F                     move.l     D0, [A7]+
00000A7C  3600                     move.w     D3, D0
00000A7E  3003                     move.w     D0, D3
00000A80  261F                     move.l     D3, [A7]+
00000A82  4E5E                     unlink     A6
00000A84  4E75                     rts
00000A86  9453 7461 7274 5468 6... dc.b       "StartTheBootProtocol"
</pre></div>
<p>
If we make that <tt>beq</tt> at <tt>$a68</tt> a <tt>nop</tt>, then as it won't ever branch to the exit point in <tt>DoIdle</tt>, the function will always exit back to the event loop and thus we'll <em>stay</em> in the event loop forever without timing out. Sounds like it should work!

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjNl5MqR2rYXUZRQTLz4E32Xc8qEz4rLc72AUKbsR3EsW0f1tgdjYXvJ3O0eYAcVwIDFBYovJN-R9zkKPhHf2_QMPaEpb7e3K_jlWeiElsyMaWYI92o6ARVInIjxKfrlJpTdCUxjeZ9gAmiVnPoEE_SNggIP_m4qWuF2duPjhUDJxdQOAPoSyMPFMvyDZ8/s1400/vlcsnap-2023-07-15-19h10m16s019.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjNl5MqR2rYXUZRQTLz4E32Xc8qEz4rLc72AUKbsR3EsW0f1tgdjYXvJ3O0eYAcVwIDFBYovJN-R9zkKPhHf2_QMPaEpb7e3K_jlWeiElsyMaWYI92o6ARVInIjxKfrlJpTdCUxjeZ9gAmiVnPoEE_SNggIP_m4qWuF2duPjhUDJxdQOAPoSyMPFMvyDZ8/s320/vlcsnap-2023-07-15-19h10m16s019.png"></a></p><p>

And, well, it sort of worked. We have a mouse pointer and we have a "desktop." In fact, our call to draw the menu bar has clearly caused something different, as you can now see the typical rounded Mac screen borders which weren't present before. (Notice the gutters: this is from the era of CRT displays, so the displayed desktop is within the safe zone.) The mouse pointer even moves with the mouse, and we don't crash or time out! But we have no menu bar despite explicitly asking to draw it and we patched out the only other function that would disable it, so what gives?
</p><p>
Unfortunately I'm not sure what's going on here, exactly. The ROM System file lacks <tt>MDEF</tt> and <tt>MBDF</tt> resources for defining the menu bar and menus, but these resources are present elsewhere in the ROM and don't seem unusually short or weird compared to regular System 7.1. I also couldn't find anywhere obvious that the <tt>DrawMenuBar</tt> trap was patched into a no-op.
</p><p>
On the other hand, our event handler code is still active: if we press Command-Q, the device restarts as usual. If we patch the code that receives a menu click to make Command-O (menu item 1) the same as Command-Q (menu item 2, i.e., change the instruction to branch to the same spot), then Command-O will also quit and restart the STB. That means that even though we can't see our menu options, we can still activate them. Since there's code in the STB Finder to handle the Apple menu, why don't we make Command-O open something else for us?
</p><p>
To the STB disk image I added the 7.1 Chooser and associated components — since eventually we'll need to mount something over LocalTalk — and a copy of the tiny Finder substitute <a href="http://www.pianofab.com/otherp.html">FaberFinder</a> in the Apple Menu Items folder. We'll pare down their resources later. FaberFinder would be item 4 in this case ("About FredTVApp," then a separator, then the Chooser, then FaberFinder). This is the relevant code in the menu handler.
</p><div><pre>00000780  0C43 0001                cmpi.w     D3, 0x1
00000784  6608                     bne        +0xA /* 0000078E */
; beep if the first item (About FredTVApp) is selected
00000786  3F3C 0001                move.w     -[A7], 0x1
0000078A  A9C8                     syscall    SysBeep
; and exit
0000078C  6034                     bra        +0x36 /* 000007C2 */
label0000078E: 
; else handle the rest of the apple menu      
0000078E  594F                     subq.w     A7, 4
00000790  3F3C 0080                move.w     -[A7], 0x80
00000794  A949                     syscall    GetMenuHandle
00000796  205F                     movea.l    A0, [A7]+
00000798  2F08                     move.l     -[A7], A0
0000079A  3F03                     move.w     -[A7], D3
0000079C  486E FF00                pea.l      [A6 - 0x100]
000007A0  A946                     syscall    GetMenuItemText/GetItem
000007A2  554F                     subq.w     A7, 2
000007A4  486E FF00                pea.l      [A6 - 0x100]
000007A8  A9B6                     syscall    OpenDeskAcc
000007AA  301F                     move.w     D0, [A7]+
000007AC  3600                     move.w     D3, D0
000007AE  6012                     bra        +0x14 /* 000007C2 */
label000007B0:
; File menu
000007B0  3003                     move.w     D0, D3
000007B2  48C0                     ext.l      D0
; Open (does nothing)
; item 1
000007B4  5380                     subq.l     D0, 1
000007B6  670A                     beq        +0xC /* 000007C2 */
; Quit (this sets the global quit flag)
; item 2
000007B8  5380                     subq.l     D0, 1
000007BA  6702                     beq        +0x4 /* 000007BE */
</pre></div>
<p>
Since the About item can't be opened on the STB right now anyway, we're going to turn the <tt>move.w -[A7],0x01:SysBeep</tt> into a <tt>bra +0x3c</tt>, opcode <tt>$603a</tt>, so that it still works. That frees up six bytes. We'll make the last two into a <tt>moveq.l D3,#4</tt> opcode <tt>$7604</tt> and fall through into the routine immediately afterwards that opens a desk accessory, then change the branch for the Open item to hit that <tt>moveq</tt>. It should then make Command-O open the fourth item on the menu.
</p><p>
We can test this in Mini vMac, and it worked (it opened the second item of the Apple menu after the separator, which happens to be the AppleCD Player). I loaded it onto the AITB and it did nothing — it didn't crash, but it didn't do anything either. In case it would only work with a real desk accessory (the Chooser is), even though <tt>OpenDeskAcc</tt> in System 7 shouldn't care, I changed it to 3. That worked fine on Mini vMac too, and still not on the AITB. Again, it's not clear if this trap was disabled or altered, or if those apps just plain can't run in this limited environment. More thoughts on that in a little bit.
</p><p>
Do even dialogue boxes work? There are some <tt>ALRT</tt> and <tt>DITL</tt> resources in the red ROM, but instead we'll create a simple dialogue box within the STB Finder and have our Command-O hook display that box. Since the Command-O hook already branches to it, we'll just overwrite the desk accessory code above with this hand-assembled snippet and pad it out with <tt>nop</tt>s.
</p><div><pre>     clr.w -[a7]       ; 4267       ; outparam
     move.w -[a7],#128 ; 3f3c 0080  ; alert 128
     clr.l -[a7]       ; 42a7       ; no filterproc
     Alert             ; a985
     addq.l a7,#2      ; 548f       ; pop outparam
</pre></div>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEheTP23jqXTY71hRON91qq_RRLJjqOwNpiFbSjTaqml7oUqC9Ol2vOpq6QPd7FmSrAgQ9dR1LPhVh_vKECXdulAtYSTSRlZQxc0bgVKcUOk1LRqJKgmZS5mGoL8LaaOFDStwc29RRaiHSHOgUfxlrdi25QXKBrM4Yt0KCeV3rp6ptzlwfM8tr1KFAPHRIE/s1400/vlcsnap-2023-07-16-21h16m28s860.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEheTP23jqXTY71hRON91qq_RRLJjqOwNpiFbSjTaqml7oUqC9Ol2vOpq6QPd7FmSrAgQ9dR1LPhVh_vKECXdulAtYSTSRlZQxc0bgVKcUOk1LRqJKgmZS5mGoL8LaaOFDStwc29RRaiHSHOgUfxlrdi25QXKBrM4Yt0KCeV3rp6ptzlwfM8tr1KFAPHRIE/s320/vlcsnap-2023-07-16-21h16m28s860.png"></a></p>

<p><a href="https://en.wikipedia.org/wiki/Max_Headroom_signal_hijacking">Catch the wave</a>! The OK button responds correctly to RETURN and to the mouse. The background doesn't repaint, but that's solvable (because it's no longer pink, the MPEG still is no longer painted there). Plus, it makes a beep through the stereo outputs, presumably with that ROM </p><tt>snd #1</tt><p> resource, so sound more or less works fine. Between QuickDraw, audio and some basic support for dialogue boxes at least you could do some sort of basic app with that. It seems the most likely logical resolution for the screen is 640x400, based on experimentation with the dialogue box position.
</p><p>
Still, the Promised Land is to create an AITB ROM that can run arbitrary programs it can download to memory, and the STB ROM disk must clearly do this, or it would never have worked otherwise. To discuss how it worked, it's important to remember that T1/E1 is intrinsically a serial connection: for example, <a href="http://oldvcr.blogspot.com/2022/05/so-long-home-t1-line-hello-hacking-t1.html">my old residential T1 line</a> was basically a hardwired PPP link over HDSL, and even T1-based frame relay was still just serial data with T-carrier framing. As such, the STB ROM treats the T1 connection like a serial port and executes reads and writes on it directly. AppleTalk is not involved.
</p><p>
Based on the symbols and the call chain by manually walking through the disassembly, the end state is for the local client to receive a complete HFS disk image from the remote server. As part of <tt>Initialize</tt> in <tt>main</tt>, the transmit side is setup by <tt>ITVInitWriteChannel</tt> (note the use of another acronym, ITV, which may have been in use earlier), which calls <tt>SerialOpenDrivers</tt> and <tt>SerialInitialize</tt> to handshake with the headend using <tt>SerialHandshake</tt>. When the power-on event is received, the call to <tt>StartTheBootProtocol</tt> in the event handler calls <tt>SendPowerUpMessage</tt> and <tt>SendBootMessage</tt>, which send messages through <tt>ITVWriteBytes</tt> to <tt>SerialWriteBytes</tt>. All messages to and from the cable headend are checksummed ultimately by the routine at <tt>mzbBPCalcChecksum</tt>, called by <tt>VerifyChecksum</tt> and <tt>WriteChecksum</tt>.
</p><p>
After sending the initial startup messages, <tt>StartTheBootProtocol</tt> falls into a loop repeatedly calling <tt>DoIdle</tt>, which will maintain a progress bar based on the current tick and call <tt>BackChannelDataHandler</tt> if data is available to read into the buffer. (<tt>StartTheBootProtocol</tt> is what we said didn't seem to call <tt>WaitNextEvent</tt> very much, because it turns out it doesn't.) This handler will send an abort to the headend and reset the boot state if there is a transmission failure, as will any routine where the checksum is wrong.
</p><p>
<tt>SendPowerUpMessage</tt> sets the first state, to wait for a "size" packet from the headend. Once <tt>BackChannelDataHandler</tt> assembles a complete packet, this first one goes to <tt>SizeMessageHandler</tt>; it allocates the requested memory space for the incoming disk image (or aborts) and calls <tt>SendReadyMessage</tt> which sets the next state, to start receiving data packets. These are routed to <tt>DataMessageHandler</tt> which stores the packet and calls <tt>SendAckMessage</tt>, keeping the progress bar updated. Any timeout will also abort the boot process.
</p><p>
<tt>SendAckMessage</tt> will keep the state pointing to <tt>DataMessageHandler</tt> as packets arrive until the last one, when it will call <tt>GotFinalDataMessage</tt>. <tt>GotFinalDataMessage</tt> sets a global flag to inhibit further calls to <tt>DoIdle</tt> and calls <tt>CreateDiskFromImage</tt> to mount the downloaded disk image, which in turn calls <tt>LaunchSystemUpdate</tt> to run a system update (if there is one) and finally <tt>LaunchStartupApp</tt> to run the main program. No code signature is obviously involved, meaning it will run anything it gets from the remote server assuming the checksums are all valid. The filenames it looks for appear to come from the <tt>DATA#0</tt> resource of the STB Finder, which is copied into memory early during its initialization:
</p><div><pre>00000000  00 00 00 c7 ff ff ff 44  81 01 00 20 f3 83 b9 4d  |.......D... ...M|
00000010  e5 49 1b 20 6b 44 95 eb  00 88 01 04 01 f5 0e 2e  |.I. kD..........|
00000020  53 54 42 44 69 73 6b 44  72 69 76 65 72 43 95 0c  |STBDiskDriverC..|
00000030  53 79 73 74 65 6d 55 70  64 61 74 65 0a 53 74 61  |SystemUpdate.Sta|
00000040  72 74 75 70 41 20 70 99  0a 53 74 61 72 74 75 70  |rtupA p..Startup|
00000050  44 6f 63 6f 73 3d 4d 61  63 53 54 42 3a 72 76 3d  |Docos=MacSTB:rv=|
00000060  31 2e 20 30 88 3a 63 70  3d 36 38 30 34 30 48 8e  |1. 0.:cp=68040H.|
00000070  0e 2e 53 54 42 44 69 73  6b 44 72 69 76 65 72 43  |..STBDiskDriverC|
00000080  87 09 4d 50 45 47 53 74  69 20 6c a3 09 2e 54 53  |..MPEGSti l...TS|
00000090  44 72 69 76 65 72 00 04  2e 41 49 6e 05 2e 41 4f  |Driver...AIn..AO|
000000a0  75 74 00 04 2e 42 49 6e  05 2e 42 4f 75 74 00 01  |ut...BIn..BOut..|
000000b0  00 00 00 00 28 00 00 00  00 28 00 00 00 00 00 00  |....(....(......|
000000c0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 67 40  |..............g@|
000000d0  6e 83 8a 42 30 84 83 83  83 83 9b 40 6b d6 bc 88  |n..B0......@k...|
000000e0  40 46 d7 40 c2 f0 f0 b0  90 8e a6 40 44 85 83 8e  |@F.@.......@D...|
000000f0  8e 95 92 83 84 40 57 85  a8 bc f8 b3 8c b4 8b 9f  |.....@W.........|
00000100  b2 9e ec 99 ec 97 ec b4  98 86 8b a1 a6 85 89 a0  |................|
00000110  e6 af e0 9b 88 a0 b6 ab  aa 8b 99 90 a1 42 13 7f  |.............B..|
00000120  a4 40 48 a0 95 f4 94 bc  94 88 89 40 ad d5 bb fa  |.@H........@....|
00000130  db fa 40 b4 84 40 b2 40  81 f5 b7 f5 9b f8 95 b4  |..@..@.@........|
00000140  bc f0 f0 f1 00 00 00 00                           |........|
</pre></div>
<p>
I'm not sure where those spurious spaces came from, but it appears to run <tt>SystemUpdate</tt>, if it exists, then launches one of two files, which appear to be either <tt>StartupApp</tt> or <tt>StartupDoc</tt> (again, based on what's present). The same driver <tt>.STBDiskDriver</tt> that handles accessing the ROM disk likely handles the RAM disk, which is very economical. Also note that the strings in this resource indicate the unit identifies itself as a <tt>MacSTB 1.0</tt> with a 68040, which seems to be sent by the initial message routines, and the presence of the string for <tt>MPEGStill</tt>, which is what <tt>DrawMPEGStill</tt> opens and references.
</p><p>
If you label all the <tt>STR#</tt> strings in the STB Finder with numbers, you should be able to observe the boot stages as most of them call <tt>DrawMessageText</tt>, just with empty strings. I reverted our changes to the STB Finder and just made the resource change so we'd have a "clean" show. Here's the beginning:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj-fetpyr7KH0FqMT3KdYJZUMZN3KNUlCnvLpZFspSvbXZfZ_NCjrGzIxtV-eijDeMulOl2NQb0UbuUVTCDACUzlrVsfF8mrWE3cv196lE6bLQR1JpQ4qcQ960Rm5I8HKI4lyisDkBAea7UTy0i5XRa7pNiFf7iHV8H8N3scvsh802igte8bQY24U7lZTs/s1400/vlcsnap-2023-07-20-08h20m23s738.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj-fetpyr7KH0FqMT3KdYJZUMZN3KNUlCnvLpZFspSvbXZfZ_NCjrGzIxtV-eijDeMulOl2NQb0UbuUVTCDACUzlrVsfF8mrWE3cv196lE6bLQR1JpQ4qcQ960Rm5I8HKI4lyisDkBAea7UTy0i5XRa7pNiFf7iHV8H8N3scvsh802igte8bQY24U7lZTs/s320/vlcsnap-2023-07-20-08h20m23s738.png"></a></p><p>

And the end:

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg36gSq5Ic8BHyBsx0UTnaIOEy74u5KMwlv-XJNb6_1MsJ6bMcByY_r2CaUCzzaGZWOOWjKX1wlTVkxEpvujeHtS-IcgR4NAiYOre5bjcbK5qcUqYYRGRl1PReM3pc0WZ9Jzz6L4xWYsejUjLNwjGKqKKzUARA5ngcZCex0sA7Dsq8ZJYVTR2TtcBEAhV4/s1400/vlcsnap-2023-07-20-08h20m54s145.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg36gSq5Ic8BHyBsx0UTnaIOEy74u5KMwlv-XJNb6_1MsJ6bMcByY_r2CaUCzzaGZWOOWjKX1wlTVkxEpvujeHtS-IcgR4NAiYOre5bjcbK5qcUqYYRGRl1PReM3pc0WZ9Jzz6L4xWYsejUjLNwjGKqKKzUARA5ngcZCex0sA7Dsq8ZJYVTR2TtcBEAhV4/s320/vlcsnap-2023-07-20-08h20m54s145.png"></a></p><p>

We never get past the beginning, of course, so we only see the Alpha and the failed Omega.
</p><p>
The actual section of code that triggers execution of the downloaded apps, <tt>DoALaunch</tt>, uses the Toolbox <tt>Launch</tt> trap at <tt>$a9f2</tt>. Notably it generates a MultiFinder extended launch param block but uses an unusual fixed set of launch flags (see <a href="https://preterhuman.net/macstuff/techpubs/mac/Toolbox/Toolbox-39.html">the <tt>SIZE</tt> resource</a>) set to <tt>$4800</tt>, which designate an application that understands suspend and resume but is not MultiFinder-aware. As such it could not run arbitrary classic Mac applications even if the rest of the operating system features were present; it can only run ones coded to work with this limited environment, even though such applications should also work on vanilla System 7 modulo any specialized calls to the AITB hardware drivers. It might be possible to generate an application that could boot something else in the way that things like the Booter application start NetBSD/mac68k, but it's not clear if this could actually boot another version of Mac OS entirely, at least not without including a lot of extra resources that would ordinarily be present in a typical Toolbox ROM.
</p><p>
And that's why we have such an odd hybrid STB Finder where most of its GUI code does nothing on the real hardware. My best guess is that the development systems booted a modified full System 7.1 rather than the bowdlerized mini-System in the red ROM, including all the <tt>thng</tt>s and other necessary STB-specific components (such as the driver for the video card I don't have). It is not obvious that the red ROM is capable of booting any operating system other than itself, which explains why most of the few AITBs in collector hands have green Quadra 605 ROMs: the Q605 ROM has a normal Toolbox and will boot a System Folder from a SCSI volume, or at least others other than mine will, and is compatible enough with the AITB to at least drive the on-board NCR SCSI controller until it can load the other <tt>INIT</tt>s for the unique hardware (the red ROM already has this support). Such a setup would be perfectly cromulent for a developer machine and the surviving units probably mostly came from those settings. That said, whatever the circulating <tt>stbextensions</tt> folder does, it doesn't seem to be enough to enable the other AITB hardware components — though it may simply be incomplete or the bootable OS had other changes.
</p><p>
Either way, given the STB Finder is "just" a regular application, you can run it and the applications it triggers from a regular System 7 installation once you've got the OS booted on an AITB, but now having done so you can test all the other AITB-specific pieces. If you try to run the STB Finder on a regular Mac and forge that event code to force a power-on event, you'll crash, shut down or do nothing because the other needed system components (and hardware) are missing. The system update functionality is particularly interesting, though as there are no known surviving examples of any of the downloaded applications we don't know exactly what they did or how. It can't be excluded that the system update would have actually reflashed the onboard ROM through an unknown mechanism, but there's no obvious facility on the logic board to do so, and over the unit's short lifetime no system update may ever have been deployed.
</p><p>
Let's tie it all together and make a Hello World ROM that you could potentially use as a jumping off point for your other applications. I'm not making this red ROM dump available publicly to avoid the litigious wrath of the Cupertino mothership, but if you have or get a red ROM dump, you can try it. Set up Mini vMac running at least System 7.1 (I use it in Macintosh II mode with System 7.5.5), and, of course, get a flash ROM SIMM and programmer. You'll need ResEdit as well. Note these steps should work with SheepShaver or Basilisk II as well, but those emulators may destroy the STB image's bootblocks and you'd have to restore them afterwards.
</p><p>
Extract the <tt>disk#0</tt> resource from the ROM using <a href="https://github.com/classilla/stbtools/blob/main/resscan.pl">our resource walker</a> (something like <tt>perl resscan.pl RED.rom disk 0</tt> will create a <tt>disk-0.dump</tt> file). Name it something like <tt>stb.img</tt>. Start Mini vMac with both your System 7 boot drive and the STB image on the command line so that they are mounted simultaneously (don't worry, the emulator won't try to boot from the STB image if it's listed second).
</p><p>
Back up the Finder from the STB image and then drag it to ResEdit, which will say it was checked out read-only; you can ignore this. Remove the single <tt>ckid</tt> resource if it annoys you. Optionally, in <tt>STR#</tt> 128 change strings three and four to your desired startup message if you like, and create a new <tt>MPEGStill</tt> file using <tt>ffmpeg</tt> and <tt>mpegdemux</tt> and ensure its type and creator are <tt>MPEG</tt> and <tt>mMPG</tt>.
</p><p>
For the actual "proof of hack" dialogue box, add the <tt>DITL</tt> and <tt>ALRT</tt> resources for your alert dialogue box to the STB Finder; the code below assumes the <tt>ALRT</tt> resource is numbered 128. Open the STB Finder's <tt>CODE</tt> resource 1 and in the hex editor make the following changes:
</p><ul>
<li>Remove the Toolbox call to <tt>HideCursor</tt> at offset <tt>$055a</tt> by changing the opcode to <tt>$4e71</tt>.
</li><li>Add a new handler for our alert routine at offset <tt>$0786</tt> by changing the three opcodes at that location to <tt>$4eba $1810 $4e71</tt>.
</li><li>Change the branch at <tt>$07b6</tt> to point to the new subroutine call by making it <tt>$67ce</tt>.
</li><li>Disable the timeout by changing the opcode at offset <tt>$0a68</tt> to <tt>$4e71</tt>.
</li><li>Neuter the call to <tt>HideIt</tt> at offset <tt>$12b6</tt> by changing the three opcodes starting at that location to <tt>$a937 $4e5e $4e75</tt>.
</li></ul><p>
Finally, add these opcodes to the end, starting at </p><tt>$1f98</tt><p> (the offset after the end of the resource).
</p><div><pre>1f98: 4e56 0000 4267 3f3c
1fa0: 0081 42a7 a985 548f
1fa8: 4e5e 4e75
</pre></div>
<p>
Close and save the modified Finder on the STB disk image and shut down Mini vMac. If you changed the folder structure of the ROM, you will need to manually rebless the System Folder with a hex editor and then merge the STB image back into the ROM with <a href="https://github.com/classilla/stbtools/blob/main/splicedisk0.pl">the splicer</a> (something like <tt>perl splicedisk0.pl RED.rom stb.img NEWRED.rom</tt>). If you didn't change the folder structure, then pass the <tt>-fix16</tt> argument and the splicer will bless the System Folder for you.
</p><p>
Burn the new ROM to your flash ROM SIMM, install it into the AITB, connect an ADB keyboard and mouse, and turn on the AITB's rear power switch. When the LED in the front turns yellow, press the power button. Press Command-O after startup to open the dialogue box.

</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjb1x_b5kOs_9Z1hDFbdl43qlI3w50INn95aLea276FZi8dh6xgbDhpPMFKK62mHodqugHNN6ZsmRyzX5y1z0PZ-e_9BhBQw8R1gFQcONYaCnlFuh-5Q1RYFqpZBX-YjLFBTohdksV4JpVQBXWTyk6u8__udH-0NIE7RG8orVxk1cfpNuHUx7Iub1SX-Rs/s1400/vlcsnap-2023-07-20-11h09m55s803.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjb1x_b5kOs_9Z1hDFbdl43qlI3w50INn95aLea276FZi8dh6xgbDhpPMFKK62mHodqugHNN6ZsmRyzX5y1z0PZ-e_9BhBQw8R1gFQcONYaCnlFuh-5Q1RYFqpZBX-YjLFBTohdksV4JpVQBXWTyk6u8__udH-0NIE7RG8orVxk1cfpNuHUx7Iub1SX-Rs/s320/vlcsnap-2023-07-20-11h09m55s803.png"></a></p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQq1IF5V5-ZrfyVypPOlwo597-SVULu2aeIo4uoqLK04w-FiJae6j9fnSTC2AXoOZ0flzqurg9C18dBFwIlqrjxKZ--wSu8M-UbKJVkNgcMCXSiNkb2dHRg2efiovV4qk4obSJb_wfdPuo4HnbhcDsCvR1AV82XGw2rFWJ3R8hjL90tgPweTbzRv-d9vM/s1400/vlcsnap-2023-07-20-11h10m13s135.png"><img alt="" width="320" data-original-height="1050" data-original-width="1400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQq1IF5V5-ZrfyVypPOlwo597-SVULu2aeIo4uoqLK04w-FiJae6j9fnSTC2AXoOZ0flzqurg9C18dBFwIlqrjxKZ--wSu8M-UbKJVkNgcMCXSiNkb2dHRg2efiovV4qk4obSJb_wfdPuo4HnbhcDsCvR1AV82XGw2rFWJ3R8hjL90tgPweTbzRv-d9vM/s320/vlcsnap-2023-07-20-11h10m13s135.png"></a></p><p>

The AITB is now your own. Things to do: figure out how to branch to separate code immediately after power-on in the </p><tt>app3Evt</tt><p> handler at </p><tt>$06be</tt><p> (so far I get nothing but crashes trying to muck around there), figure out how the CD-ROM support works with the red ROM, and figure out a means to transfer an application disk image into memory with the real serial port (the AITB can use a serial printer, so there is at least some support for driving the Zilog SCC). And things <em>I</em> need to do: figure out what fuse I opened, or something, to make my own AITB not boot from SCSI. But now this exceptionally rare Apple machine should be much less of a mystery to you.
</p><p>
I would love to hear from you if you were involved in this machine's development (or can even just identify who was in our STB Bunch composite). If you'd prefer not to post a public comment, you can E-mail me at ckaiser at floodgap dawt com.
</p><p>
The code we put together to help walk and modify the red ROM dump <a href="https://github.com/classilla/stbtools">is available on Github</a>.
</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[ElKaWe – Electrocaloric heat pumps (172 pts)]]></title>
            <link>https://www.fraunhofer.de/en/research/lighthouse-projects-fraunhofer-initiatives/fraunhofer-lighthouse-projects/elkawe.html</link>
            <guid>36823524</guid>
            <pubDate>Sat, 22 Jul 2023 05:20:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.fraunhofer.de/en/research/lighthouse-projects-fraunhofer-initiatives/fraunhofer-lighthouse-projects/elkawe.html">https://www.fraunhofer.de/en/research/lighthouse-projects-fraunhofer-initiatives/fraunhofer-lighthouse-projects/elkawe.html</a>, See on <a href="https://news.ycombinator.com/item?id=36823524">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
		<p>In the ElKaWe lighthouse project, six Fraunhofer Institutes under the leadership of the Fraunhofer IPM are working on the development of electrocaloric heat pumps for heating and cooling. Today, heat pumps work almost exclusively on the basis of compressor technology. Electrocaloric heat pumps promise a significantly higher efficiency and do not require harmful refrigerants. As part of the project, scientists are developing ceramic and polymer-based electrocaloric materials and are working on an innovative system approach that enables particularly efficient heat dissipation. The work in the project is intended to demonstrate that electrocaloric heat pumps have the potential to replace compressors in the long term. Heat pumps are an important module in the heat revolution. Powered by regeneratively generated power, they form the missing link between power and heat generation. However, the increase in heat pumps for building air conditioning is slow, due to the poor economic efficiency of compressor-based heat pumps. In cooling technology, the gradual ban on refrigerants under the European F-Gas Regulations makes alternative, refrigerant-free technologies more desirable.</p> 
<h4>How does an electrocaloric heat pump work?</h4> 
<p>When an electrical field is applied to electrocaloric materials, the electrical dipole moments in the field are aligned – this additional order is accompanied by heating of the material according to thermodynamics laws. The resulting heat is dissipated via a heat sink, meaning the material cools down again to its initial temperature.&nbsp;If the electric field is now removed, order is reduced and the material cools, also in accordance with the laws of thermodynamics. Now it can absorb thermal energy from a heat source. The effect is reversible. This allows a cycle to be established that functions as an efficient heat pump for cooling or heating.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[AWS networking concepts in a diagram (261 pts)]]></title>
            <link>https://miparnisariblog.wordpress.com/2023/03/29/aws-networking-concepts/</link>
            <guid>36823516</guid>
            <pubDate>Sat, 22 Jul 2023 05:18:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://miparnisariblog.wordpress.com/2023/03/29/aws-networking-concepts/">https://miparnisariblog.wordpress.com/2023/03/29/aws-networking-concepts/</a>, See on <a href="https://news.ycombinator.com/item?id=36823516">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><!-- #masthead -->

	<div id="content">
		<main id="main" role="main">

		
			
<article id="post-528">
	<!-- .entry-header -->

	<div>
		
<p>Before March 2023 I couldn’t for the life of me understand what was going on in the AWS VPC dashboard. I mean, look at the length of the scrolling bar on the left-hand panel!</p>



<figure><img data-attachment-id="531" data-permalink="https://miparnisariblog.wordpress.com/2023/03/29/aws-networking-concepts/image-12/" data-orig-file="https://miparnisariblog.files.wordpress.com/2023/03/image.png" data-orig-size="2324,2114" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://miparnisariblog.files.wordpress.com/2023/03/image.png?w=300" data-large-file="https://miparnisariblog.files.wordpress.com/2023/03/image.png?w=660" src="https://miparnisariblog.files.wordpress.com/2023/03/image.png?w=1024" alt="" srcset="https://miparnisariblog.files.wordpress.com/2023/03/image.png?w=1024 1024w, https://miparnisariblog.files.wordpress.com/2023/03/image.png?w=2048 2048w, https://miparnisariblog.files.wordpress.com/2023/03/image.png?w=150 150w, https://miparnisariblog.files.wordpress.com/2023/03/image.png?w=300 300w, https://miparnisariblog.files.wordpress.com/2023/03/image.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>So, with the goal of figuring out the various resources involved in networking, I read (most of) this book: <a href="https://www.goodreads.com/book/show/60098024-aws-networking-fundamentals">AWS Networking Fundamentals</a>, by Toni Pasanen.</p>



<p>My first thought after finishing it was this: there’s so many resources involved because there’s a lot of types of connections you can have. AWS account to on-premise, account to account, VPC to VPC, subnet to subnet, VPC to internet, VPC to specific AWS services…</p>



<p>So anyway, I made this mind map to link all pieces together:</p>



<pre><code><img src="https://miparnisariblog.files.wordpress.com/2023/03/aws-networking-1.png" alt="aws networking mind map"></code></pre>



<p>Let me know if you find it useful and/or if you find any errors!</p>

				</div><!-- .entry-content -->

	
</article><!-- #post-## -->

				<!-- .navigation -->
	
			
<!-- #comments -->

		
		</main><!-- #main -->
	</div><!-- #content -->

	<!-- #colophon -->
</div></div>]]></description>
        </item>
    </channel>
</rss>