<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 02 Jul 2023 14:29:43 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Drastic increase in Tor clients from Germany (145 pts)]]></title>
            <link>https://metrics.torproject.org/userstats-relay-country.html?start=2019-01-01&amp;end=2023-07-02&amp;country=de&amp;events=off</link>
            <guid>36560136</guid>
            <pubDate>Sun, 02 Jul 2023 10:29:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://metrics.torproject.org/userstats-relay-country.html?start=2019-01-01&#x26;end=2023-07-02&#x26;country=de&#x26;events=off">https://metrics.torproject.org/userstats-relay-country.html?start=2019-01-01&#x26;end=2023-07-02&#x26;country=de&#x26;events=off</a>, See on <a href="https://news.ycombinator.com/item?id=36560136">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Flattening ASTs (and Other Compiler Data Structures) (142 pts)]]></title>
            <link>https://www.cs.cornell.edu/~asampson/blog/flattening.html</link>
            <guid>36559346</guid>
            <pubDate>Sun, 02 Jul 2023 08:03:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cs.cornell.edu/~asampson/blog/flattening.html">https://www.cs.cornell.edu/~asampson/blog/flattening.html</a>, See on <a href="https://news.ycombinator.com/item?id=36559346">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
<figure>
<img src="https://www.cs.cornell.edu/~asampson/media/flattening/normal.png" alt="a normal AST">
<img src="https://www.cs.cornell.edu/~asampson/media/flattening/flat.png" alt="a flat AST">
<figcaption>Normal and flattened ASTs for the expression <code>a * b + c</code>.</figcaption>
</figure>

<p><a href="https://en.wikipedia.org/wiki/Region-based_memory_management">Arenas, a.k.a. regions,</a> are everywhere in modern language implementations.
One form of arenas is both super simple and surprisingly effective for compilers and compiler-like things.
Maybe because of its simplicity, I haven’t seen the basic technique in many compiler courses—or anywhere else in a CS curriculum for that matter.
This post is an introduction to the idea and its many virtues.</p>

<p><em>Arenas</em> or <em>regions</em> mean many different things to different people, so I’m going to call the specific flavor I’m interested in here <em>data structure flattening</em>.
Flattening uses an arena that only holds one type, so it’s actually just a plain array, and you can use array indices where you would otherwise need pointers.
We’ll focus here on flattening abstract syntax trees (ASTs), but the idea applies to any pointer-laden data structure.</p>

<p>To learn about flattening, we’ll build a basic interpreter twice:
first the normal way and then the flat way.
Follow along with the code in <a href="https://github.com/sampsyo/flatcalc">this repository</a>, where you can <a href="https://github.com/sampsyo/flatcalc/compare/main...flat#diff-42cb6807ad74b3e201c5a7ca98b911c5fa08380e942be6e4ac5807f8377f87fc">compare and contrast the two branches</a>.
The key thing to notice is that the changes are pretty small,
but we’ll see that they make a microbenchmark go 2.4× faster.
Besides performance, flattening also brings some ergonomics advantages that I’ll outline.</p>

<h2 id="a-normal-ast">A Normal AST</h2>

<p>Let’s start with the textbook way to represent an AST. Imagine the world’s simplest language of arithmetic expressions, where all you can do is apply the four basic binary arithmetic operators to literal integers. Some “programs” you can write in this language include <code>42</code>, <code>0 + 14 * 3</code>, and <code>(100 - 16) / 2</code>.</p>

<p>Maybe the clearest way to write the AST for this language would be as an ML type declaration:</p>

<div><pre><code><span>type</span> <span>binop</span> <span>=</span> <span>Add</span> <span>|</span> <span>Sub</span> <span>|</span> <span>Mul</span> <span>|</span> <span>Div</span>
<span>type</span> <span>expr</span> <span>=</span> <span>Binary</span> <span>of</span> <span>binop</span> <span>*</span> <span>expr</span> <span>*</span> <span>expr</span>
          <span>|</span> <span>Literal</span> <span>of</span> <span>int</span>
</code></pre></div>

<p>But for this post, we’ll use Rust instead. Here are <a href="https://github.com/sampsyo/flatcalc/blob/c5bbe7bd79f98a3b857f0432d4739a3f4f6241bd/src/main.rs#L10-L24">the equivalent types in Rust</a>:</p>

<div><pre><code><span>enum</span> <span>BinOp</span> <span>{</span> <span>Add</span><span>,</span> <span>Sub</span><span>,</span> <span>Mul</span><span>,</span> <span>Div</span> <span>}</span>
<span>enum</span> <span>Expr</span> <span>{</span>
    <span>Binary</span><span>(</span><span>BinOp</span><span>,</span> <span>Box</span><span>&lt;</span><span>Expr</span><span>&gt;</span><span>,</span> <span>Box</span><span>&lt;</span><span>Expr</span><span>&gt;</span><span>),</span>
    <span>Literal</span><span>(</span><span>i64</span><span>),</span>
<span>}</span>
</code></pre></div>

<p>If you’re not a committed Rustacean, <code>Box&lt;Expr&gt;</code> may look a little weird, but that’s just Rust for “a plain ol’ pointer to an <code>Expr</code>.” In C, we’d write <code>Expr*</code> to mean morally the same thing; in Java or Python or OCaml, it would just be <code>Expr</code> because everything is a reference by default.<sup id="fnref:inline" role="doc-noteref"><a href="#fn:inline" rel="footnote">1</a></sup></p>

<p>With the AST in hand, we can write all the textbook parts of a language implementation, like a <a href="https://github.com/sampsyo/flatcalc/blob/c5bbe7bd79f98a3b857f0432d4739a3f4f6241bd/src/main.rs#L28-L50">parser</a>, a <a href="https://github.com/sampsyo/flatcalc/blob/c5bbe7bd79f98a3b857f0432d4739a3f4f6241bd/src/main.rs#L139-L155">pretty-printer</a>, and an <a href="https://github.com/sampsyo/flatcalc/blob/c5bbe7bd79f98a3b857f0432d4739a3f4f6241bd/src/main.rs#L52-L67">interpreter</a>.
All of them are thoroughly unremarkable.
The whole interpreter is just one method on <code>Expr</code>:</p>

<div><pre><code><span>fn</span> <span>interp</span><span>(</span><span>&amp;</span><span>self</span><span>)</span> <span>-&gt;</span> <span>i64</span> <span>{</span>
    <span>match</span> <span>self</span> <span>{</span>
        <span>Expr</span><span>::</span><span>Binary</span><span>(</span><span>op</span><span>,</span> <span>lhs</span><span>,</span> <span>rhs</span><span>)</span> <span>=&gt;</span> <span>{</span>
            <span>let</span> <span>lhs</span> <span>=</span> <span>lhs</span><span>.interp</span><span>();</span>
            <span>let</span> <span>rhs</span> <span>=</span> <span>rhs</span><span>.interp</span><span>();</span>
            <span>match</span> <span>op</span> <span>{</span>
                <span>BinOp</span><span>::</span><span>Add</span> <span>=&gt;</span> <span>lhs</span><span>.wrapping_add</span><span>(</span><span>rhs</span><span>),</span>
                <span>BinOp</span><span>::</span><span>Sub</span> <span>=&gt;</span> <span>lhs</span><span>.wrapping_sub</span><span>(</span><span>rhs</span><span>),</span>
                <span>BinOp</span><span>::</span><span>Mul</span> <span>=&gt;</span> <span>lhs</span><span>.wrapping_mul</span><span>(</span><span>rhs</span><span>),</span>
                <span>BinOp</span><span>::</span><span>Div</span> <span>=&gt;</span> <span>lhs</span><span>.checked_div</span><span>(</span><span>rhs</span><span>)</span><span>.unwrap_or</span><span>(</span><span>0</span><span>),</span>
            <span>}</span>
        <span>}</span>
        <span>Expr</span><span>::</span><span>Literal</span><span>(</span><span>num</span><span>)</span> <span>=&gt;</span> <span>*</span><span>num</span><span>,</span>
    <span>}</span>
<span>}</span>
</code></pre></div>

<p>My language has keep-on-truckin’ semantics; every expression eventually evaluates to an <code>i64</code>, even if it’s not the number you wanted.<sup id="fnref:arith" role="doc-noteref"><a href="#fn:arith" rel="footnote">2</a></sup></p>

<p>For extra credit, I also wrote a little <a href="https://github.com/sampsyo/flatcalc/blob/c5bbe7bd79f98a3b857f0432d4739a3f4f6241bd/src/main.rs#L118-L136">random program generator</a>. It’s also not all that interesting to look at; it just uses a recursively-increasing probability of generating a literal so it eventually terminates. Using fixed PRNG seeds, the random generator enables some easy <a href="https://github.com/sampsyo/flatcalc/blob/c5bbe7bd79f98a3b857f0432d4739a3f4f6241bd/Makefile#L4">microbenchmarking</a>. By generating and then immediately evaluating an expression, we can measure the performance of AST manipulation without the I/O costs of parsing and pretty-printing.</p>

<p>You can check out <a href="https://github.com/sampsyo/flatcalc">the relevant repo</a> and try it out:</p>

<div><pre><code><span>$ </span><span>echo</span> <span>'(29 * 3) - 9 * 5'</span> | cargo run
<span>$ </span>cargo run gen_interp  <span># Generate and immediately evaluate a random program.</span>
</code></pre></div>

<h2 id="flattening-the-ast">Flattening the AST</h2>

<p>The <em>flattening</em> idea has two pieces:</p>

<ul>
  <li>Instead of allocating <code>Expr</code> objects willy-nilly on the heap, we’ll pack them into a single, contiguous array.</li>
  <li>Instead of referring to children via pointers, <code>Exprs</code> will refer to their children using their indices in that array.</li>
</ul>

<figure>
<img src="https://www.cs.cornell.edu/~asampson/media/flattening/flat.png" alt="the same flat AST from earlier">
</figure>

<p>Let’s look back at the doodle from the top of the post.
We want to use a single <code>Expr</code> array to hold all our AST nodes.
These nodes still need to point to each other; they’ll now do that by referring to “earlier” slots in that array.
Plain old integers will take the place of pointers.</p>

<p>If that plan sounds simple, it is—it’s probably even simpler than you’re thinking.
The main thing we need is an array of <code>Expr</code>s.
I’ll use Rust’s <a href="https://doc.rust-lang.org/rust-by-example/generics/new_types.html">newtype idiom</a> to declare our arena type, <a href="https://github.com/sampsyo/flatcalc/blob/25f10b44252a2191ba6d0b5445f929096ad59361/src/main.rs#L37"><code>ExprPool</code></a>, as a shorthand for an <code>Expr</code> vector:</p>

<div><pre><code><span>struct</span> <span>ExprPool</span><span>(</span><span>Vec</span><span>&lt;</span><span>Expr</span><span>&gt;</span><span>);</span>
</code></pre></div>

<p>To keep things fancy, we’ll also give a <a href="https://github.com/sampsyo/flatcalc/blob/25f10b44252a2191ba6d0b5445f929096ad59361/src/main.rs#L32">name</a> to the plain old integers we’ll use to index into an <code>ExprPool</code>:</p>



<p>The idea is that, everywhere we previously used a pointer to an <code>Expr</code> (i.e., <code>Box&lt;Expr&gt;</code> or sometimes <code>&amp;Expr</code>), we’ll use an <code>ExprRef</code> instead.
<code>ExprRef</code>s are just 32-bit unsigned integers, but by giving them this special name, we’ll avoid confusing them with other <code>u32</code>s.
Most importantly, we need to change the definition of <code>Expr</code> itself:</p>

<div><pre><code> enum Expr {
<span>-    Binary(BinOp, Box&lt;Expr&gt;, Box&lt;Expr&gt;),
</span><span>+    Binary(BinOp, ExprRef, ExprRef),
</span>     Literal(i64),
 }
</code></pre></div>

<p>Next, we need to add utilities to <code>ExprPool</code> to create <code>Expr</code>s (allocation) and look them up (dereferencing).
In my implementation, these little functions are called <code>add</code> and <code>get</code>, and <a href="https://github.com/sampsyo/flatcalc/blob/25f10b44252a2191ba6d0b5445f929096ad59361/src/main.rs#L45-L55">their implementations</a> are extremely boring.
To use them, we need to look over our code and find every place where we create new <code>Expr</code>s or follow a pointer to an <code>Expr</code>.
For example, our <code>parse</code> function <a href="https://github.com/sampsyo/flatcalc/blob/c5bbe7bd79f98a3b857f0432d4739a3f4f6241bd/src/main.rs#L28-L50">used to be a method on <code>Expr</code></a>, but we’ll make it <a href="https://github.com/sampsyo/flatcalc/blob/25f10b44252a2191ba6d0b5445f929096ad59361/src/main.rs#L57-L81">a method on <code>ExprPool</code> instead</a>:</p>

<div><pre><code><span>-fn parse(tree: Pair&lt;Rule&gt;) -&gt; Self {
</span><span>+fn parse(&amp;mut self, tree: Pair&lt;Rule&gt;) -&gt; ExprRef {
</span></code></pre></div>

<p>And where we used to return a newly allocated <code>Expr</code> directly, we’ll now wrap that in <code>self.add()</code> to return an <code>ExprRef</code> instead.
Here’s the <code>match</code> case for constructing a literal expression:</p>

<div><pre><code> Rule::number =&gt; {
     let num = tree.as_str().parse().unwrap();
<span>-    Expr::Literal(num)
</span><span>+    self.add(Expr::Literal(num))
</span> }
</code></pre></div>

<p>Our interpreter <a href="https://github.com/sampsyo/flatcalc/blob/25f10b44252a2191ba6d0b5445f929096ad59361/src/main.rs#L83-L98">gets the same treatment</a>.
It also becomes an <code>ExprPool</code> method, and we have to add <code>self.get()</code> to go from an <code>ExprRef</code> to an <code>Expr</code> we can pattern-match on:</p>

<div><pre><code><span>-fn interp(&amp;self) -&gt; i64 {
</span><span>+fn interp(&amp;self, expr: ExprRef) -&gt; i64 {
</span><span>-    match self {
</span><span>+    match self.get(expr) {
</span></code></pre></div>

<p>That’s about it.
I think it’s pretty cool how few changes are required—see for yourself in <a href="https://github.com/sampsyo/flatcalc/compare/main...flat#diff-42cb6807ad74b3e201c5a7ca98b911c5fa08380e942be6e4ac5807f8377f87fc">the complete diff</a>.
You replace <code>Box&lt;Expr&gt;</code> with <code>ExprRef</code>, insert <code>add</code> and <code>get</code> calls in the obvious places, and you’ve got a flattened version of your code.
Neat!</p>

<h2 id="but-why">But Why?</h2>

<p>Flattened ASTs come with a bunch of benefits.
The classic ones most people cite are all about performance:</p>

<ol>
  <li><strong>Locality.</strong>
Allocating normal pointer-based <code>Expr</code>s runs the risk of <a href="https://en.wikipedia.org/wiki/Fragmentation_(computing)">fragmentation</a>.
Flattened <code>Expr</code>s are packed together in a contiguous region of memory, which is good for <a href="https://en.wikipedia.org/wiki/Locality_of_reference#Types_of_locality">spatial locality</a>.
Your data caches will work better because <code>Expr</code>s are more likely to share a cache line,
and even simple <a href="https://en.wikipedia.org/wiki/Prefetching">prefetchers</a> will do a better job of predicting which <code>Expr</code>s to load before you need them.
<a href="https://dl.acm.org/doi/10.1145/582419.582421">A sufficiently smart memory allocator might achieve the same thing</a>, especially if you allocate the whole AST up front and never add to it, but using a dense array removes all uncertainty.</li>
  <li><strong>Smaller references.</strong>
Normal data structures use pointers for references; on modern architectures, those are always 64 bits.
After flattening, you can use smaller integers—if you’re pretty sure you’ll never need more than 4,294,967,295 AST nodes,
you can get by with 32-bit references, like we did in our example.
That’s a 50% space savings for all your references, which could amount to a substantial overall memory reduction in pointer-heavy data structures like ASTs.
Smaller memory footprints mean less bandwidth pressure and even better spatial locality.
And you might save even more if you can get away with 16- or even 8-bit references for especially small data structures.</li>
  <li><strong>Cheap allocation.</strong>
In flatland, there is no need for a call to <code>malloc</code> every time you create a new AST node.
Instead, provided you pre-allocate enough memory to hold everything, allocation can entail just <a href="https://docs.rs/bumpalo/latest/bumpalo/">bumping the tail pointer</a> to make room for one more <code>Expr</code>.
Again, <a href="https://dl.acm.org/doi/10.1145/582419.582421">a really fast <code>malloc</code> might be hard to compete with</a>—but you basically can’t beat bump allocation on sheer simplicity.</li>
  <li><strong>Cheap deallocation.</strong>
Our flattening setup assumes you never need to free individual <code>Expr</code>s.
That’s probably true for many, although not all, language implementations:
you might build up new subtrees all the time, but you don’t need to reclaim space from many old ones.
ASTs tend to “die together,” i.e., it suffices to deallocate the entire AST all at once.
While freeing a normal AST entails traversing all the pointers to free each <code>Expr</code> individually, you can deallocate a flattened AST in one fell swoop by just freeing the whole <code>ExprPool</code>.</li>
</ol>

<p>I think it’s interesting that many introductions to arena allocation tend to focus on cheap deallocation (#4) as the main reason to do it.
<a href="https://en.wikipedia.org/wiki/Region-based_memory_management">The Wikipedia page</a>, for example, doesn’t (yet!) mention locality (#1 or #2) at all.
You can make an argument that #4 might be the <em>least</em> important for a compiler setting—since ASTs tend to persist all the way to the end of compilation, you might not need to free them at all.</p>

<p>Beyond performance, there are also ergonomic advantages:</p>

<ol>
  <li><strong>Easier lifetimes.</strong>
In the same way that it’s easier for your computer to free a flattened AST all at once, it’s also easier for <em>humans</em> to think about memory management at the granularity of an entire AST.
An AST with <em>n</em> nodes has just one lifetime instead of <em>n</em> for the programmer to think about.
This simplification is quadruply true in Rust, where lifetimes are not just in the programmer’s head but in the code itself.
Passing around a <code>u32</code> is way less fiddly than carefully managing lifetimes for all your <code>&amp;Expr</code>s: your code can rely instead on the much simpler lifetime of the <code>ExprPool</code>.
I suspect this is why the technique is so popular in Rust projects.
As a Rust partisan, however, I’ll argue that the same simplicity advantage applies in C++ or any other language with manual memory management—it’s just latent instead of explicit.</li>
  <li><strong>Convenient deduplication.</strong>
A flat array of <code>Expr</code>s can make it fun and easy to implement <a href="https://en.wikipedia.org/wiki/Hash_consing">hash consing</a> or even simpler techniques to avoid duplicating identical expressions.
For example, if we notice that we are using <code>Literal</code> expressions for the first 128 nonnegative integers a lot, we could reserve the first 128 slots in our <code>ExprPool</code> just for those.
Then, when someone needs the integer literal expression <code>42</code>, our <code>ExprPool</code> don’t need to construct a new <code>Expr</code> at all—we can just produce <code>ExprRef(42)</code> instead.
This kind of game is possible with a normal pointer-based representation too, but it probably requires some kind of auxiliary data structure.</li>
</ol>

<h2 id="performance-results">Performance Results</h2>

<p>Since we have two implementations of the same language, let’s measure those performance advantages.
For a microbenchmark, I randomly generated a program with about 100 million AST nodes and fed it directly into the interpreter (the parser and pretty printer are not involved).
This benchmark is not very realistic: <em>all it does</em> is generate and then immediately run one enormous program.
Some caveats include:</p>

<ul>
  <li>I <a href="https://github.com/sampsyo/flatcalc/blob/2703833615dec76cec4e71419e4073e5bc69dcb0/src/main.rs#L42">reserved enough space</a> in the <code>Vec&lt;Expr&gt;</code> to hold the whole program; in the real world, sizing your arena requires more guesswork.</li>
  <li>I expect this microbenchmark to over-emphasize the performance advantages of cheap allocation and deallocation, because it does very little other work.</li>
  <li>I expect it to under-emphasize the impact of locality, because the program is so big that only a tiny fraction of it will fit the CPU cache at a time.</li>
</ul>

<p>Still, maybe we can learn something.</p>

<figure>
<img src="https://www.cs.cornell.edu/~asampson/media/flattening/standard.png" alt="bar chart comparing the execution time of our normal and flat (and extra-flat) interpreters">
</figure>

<p>I used <a href="https://github.com/sharkdp/hyperfine">Hyperfine</a> to compare the average running time over 10 executions on my laptop.<sup id="fnref:setup" role="doc-noteref"><a href="#fn:setup" rel="footnote">3</a></sup>
Here’s a graph of the running times (please ignore the “extra-flat” bar; we’ll cover that next).
The plot’s error bars show the standard deviation over the 10 runs.
In this experiment, the normal version took 3.1 seconds and the flattened version took 1.3 seconds—a 2.4× speedup.
Not bad for such a straightforward code change!</p>

<p>Of that 2.4× performance advantage, I was curious to know how much comes from each of the four potential advantages I mentioned above.
Unfortunately, I don’t know how to isolate most of these effects—but #4, cheaper deallocation, is especially enticing to isolate.
Since our interpreter is so simple, it seems silly that we’re spending <em>any</em> time on freeing our <code>Expr</code>s after execution finishes—the program is about to shut down anyway, so leaking that memory is completely harmless.</p>

<figure>
<img src="https://www.cs.cornell.edu/~asampson/media/flattening/nofree.png" alt="bar chart comparing versions of our interpreters with and without deallocation">
</figure>

<p>So let’s build versions of both of our interpreters that skip deallocation altogether<sup id="fnref:forget" role="doc-noteref"><a href="#fn:forget" rel="footnote">4</a></sup> and see how much time they save.
Unsurprisingly, the “no-free” version of the flattened interpreter takes about the same amount of time as the standard version, suggesting that it doesn’t spend much time on deallocation anyway.
For the normal interpreter, however, skipping deallocation takes the running time from 3.1 to 1.9 seconds—it was spending around 38% of its time just on freeing memory!</p>

<p>Even comparing the “no-free” versions head-to-head, however, the flattened interpreter is still 1.5× faster than the normal one.
So even if you don’t care about deallocation, the other performance ingredients, like locality and cheap allocation, still have measurable effects.</p>

<h2 id="bonus-exploiting-the-flat-representation">Bonus: Exploiting the Flat Representation</h2>

<p>So far, flattening has happened entirely “under the hood”:
arenas and integer offsets serve as drop-in replacements for normal allocation and pointers.
What could we do if we broke this abstraction layer—if we exploited stuff about the flattened representation that <em>isn’t</em> true about normal AST style?</p>

<figure>
<img src="https://www.cs.cornell.edu/~asampson/media/flattening/flat.png" alt="that same flat AST, yet again">
</figure>

<p>The idea is to build a third kind of interpreter that exploits an extra fact about <code>ExprPool</code>s that arises from the way we built it up.
Because <code>Expr</code>s are immutable, we have to construct trees of them “bottom-up”:
we have to create all child <code>Expr</code>s before we can construct their parent.
If we build the expression <code>a * b</code>, <code>a</code> and <code>b</code> must appear earlier in their <code>ExprPool</code> than the <code>*</code> that refers to them.
Let’s bring that doodle back again: visually, you can imagine that reference arrows always go <em>backward</em> in the array, and data always flows <em>forward</em>.</p>

<p>Let’s write <a href="https://github.com/sampsyo/flatcalc/blob/2703833615dec76cec4e71419e4073e5bc69dcb0/src/main.rs#L100-L124">a new interpreter</a> that exploits this invariant.
Instead of starting at the root of the tree and recursively evaluating each child, we can start at the beginning of the <code>ExprPool</code> and scan from left to right.
This iteration is guaranteed to visit parents after children, so we can be sure that the results for subexpressions will be ready when we need them.
Here’s <a href="https://github.com/sampsyo/flatcalc/blob/2703833615dec76cec4e71419e4073e5bc69dcb0/src/main.rs#L100-L124">the whole thing</a>:</p>

<div><pre><code><span>fn</span> <span>flat_interp</span><span>(</span><span>self</span><span>,</span> <span>root</span><span>:</span> <span>ExprRef</span><span>)</span> <span>-&gt;</span> <span>i64</span> <span>{</span>
    <span>let</span> <span>mut</span> <span>state</span><span>:</span> <span>Vec</span><span>&lt;</span><span>i64</span><span>&gt;</span> <span>=</span> <span>vec!</span><span>[</span><span>0</span><span>;</span> <span>self</span><span>.0</span><span>.len</span><span>()];</span>
    <span>for</span> <span>(</span><span>i</span><span>,</span> <span>expr</span><span>)</span> <span>in</span> <span>self</span><span>.0</span><span>.into_iter</span><span>()</span><span>.enumerate</span><span>()</span> <span>{</span>
        <span>let</span> <span>res</span> <span>=</span> <span>match</span> <span>expr</span> <span>{</span>
            <span>Expr</span><span>::</span><span>Binary</span><span>(</span><span>op</span><span>,</span> <span>lhs</span><span>,</span> <span>rhs</span><span>)</span> <span>=&gt;</span> <span>{</span>
                <span>let</span> <span>lhs</span> <span>=</span> <span>state</span><span>[</span><span>lhs</span><span>.0</span> <span>as</span> <span>usize</span><span>];</span>
                <span>let</span> <span>rhs</span> <span>=</span> <span>state</span><span>[</span><span>rhs</span><span>.0</span> <span>as</span> <span>usize</span><span>];</span>
                <span>match</span> <span>op</span> <span>{</span>
                    <span>BinOp</span><span>::</span><span>Add</span> <span>=&gt;</span> <span>lhs</span><span>.wrapping_add</span><span>(</span><span>rhs</span><span>),</span>
                    <span>BinOp</span><span>::</span><span>Sub</span> <span>=&gt;</span> <span>lhs</span><span>.wrapping_sub</span><span>(</span><span>rhs</span><span>),</span>
                    <span>BinOp</span><span>::</span><span>Mul</span> <span>=&gt;</span> <span>lhs</span><span>.wrapping_mul</span><span>(</span><span>rhs</span><span>),</span>
                    <span>BinOp</span><span>::</span><span>Div</span> <span>=&gt;</span> <span>lhs</span><span>.checked_div</span><span>(</span><span>rhs</span><span>)</span><span>.unwrap_or</span><span>(</span><span>0</span><span>),</span>
                <span>}</span>
            <span>}</span>
            <span>Expr</span><span>::</span><span>Literal</span><span>(</span><span>num</span><span>)</span> <span>=&gt;</span> <span>num</span><span>,</span>
        <span>};</span>
        <span>state</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>res</span><span>;</span>
    <span>}</span>
    <span>state</span><span>[</span><span>root</span><span>.0</span> <span>as</span> <span>usize</span><span>]</span>
<span>}</span>
</code></pre></div>

<p>We use a dense <code>state</code> table to hold one result value per <code>Expr</code>.
The <code>state[i] = res</code> line fills this vector up whenever we finish an expression.
Critically, there’s no recursion—binary expressions can get the value of their subexpressions by looking them up directly in <code>state</code>.
At the end, when <code>state</code> is completely full of results, all we need to do is return the one corresponding to the requested expression, <code>root</code>.</p>

<p>This “extra-flat” interpreter has two potential performance advantages over the recursive interpreter:
there’s no stack bookkeeping for the recursive calls,
and the linear traversal of the <code>ExprPool</code> could be good for locality.
On the other hand, it has to randomly access a really big <code>state</code> vector, which could be bad for locality.</p>

<figure>
<img src="https://www.cs.cornell.edu/~asampson/media/flattening/standard.png" alt="the same bar chart comparing the execution time for normal, flat, and extra-flat interpreters">
</figure>

<p>To see if it wins overall, let’s return to our bar chart from earlier.
The extra-flat interpreter takes 1.2 seconds, compared to 1.3 seconds for the recursive interpreter for the flat AST.
That’s marginal compared to how much better flattening does on its own than the pointer-based version,
but an 8.2% performance improvement ain’t nothing.</p>

<p>My favorite observation about this technique, due to <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/mrifdr/treewalking_interpreters_and_cachelocality/gumsi2v/">a Reddit comment</a> by <a href="https://craftinginterpreters.com/">Bob Nystrom</a>, is that it essentially reinvents the idea of a <a href="https://en.wikipedia.org/wiki/Bytecode">bytecode</a> interpreter.
The <code>Expr</code> structs are bytecode instructions, and they contain variable references encoded as <code>u32</code>s.
You could make this interpreter even better by swapping out our simple <code>state</code> table for some kind of stack, and then it would <em>really</em> be no different from a bytecode interpreter you might design from first principles.
I just think it’s pretty nifty that “merely” changing our AST data structure led us directly from the land of tree walking to the land of bytecode.</p>

<h2 id="further-reading">Further Reading</h2>

<p>I <a href="https://discuss.systems/@adrian/109990979464062464">asked on Mastodon</a> a while back for pointers to other writing about data structure flattening,
and folks really came through (thanks, everybody!).
Here are some other places it came up in a compilers context:</p>

<ul>
  <li>Mike Pall <a href="http://lua-users.org/lists/lua-l/2009-11/msg00089.html">attributes some of LuaJIT’s performance</a> to its “linear, pointer-free IR.” It’s pointer-free because it’s flattened.</li>
  <li>Concordantly, <a href="https://blog.nelhage.com/post/why-sorbet-is-fast/">a blog post explaining the performance of the Sorbet type-checker for Ruby</a> extols the virtues of using packed arrays and replacing 64-bit pointers with 32-bit indices.</li>
  <li>The Oil shell project has a <a href="https://github.com/oilshell/oil/wiki/Compact-AST-Representation">big collection of links</a> all about “compact AST representation,” much of which boils down to flattening.</li>
</ul>

<p>Beyond just language implementation, similar concepts show up in other performance-oriented domains.
I admit that I understand this stuff less, especially the things from the world of video games:</p>

<ul>
  <li><a href="http://iu-parfunc.github.io/gibbon/">A line of work</a> from Purdue and Indiana is about compiling programs to operate directly on serialized data. <a href="https://drops.dagstuhl.de/opus/volltexte/2017/7273/pdf/LIPIcs-ECOOP-2017-26.pdf">Gibbon</a> in particular is pretty much a translator from “normal”-looking code to flattened implementations.</li>
  <li>Flattening-like ideas appear a lot in <em>data-oriented design</em>, a broadly defined concept that I only partially understand. For example, <a href="https://andrewkelley.me/">Andrew Kelley</a> argues in <a href="https://vimeo.com/649009599#t=850s">a talk on the topic</a> for using indices in place of pointers.</li>
  <li>Check out this <a href="https://manishearth.github.io/blog/2021/03/15/arenas-in-rust/">overview of arena libraries in Rust</a> and its discussion of the ergonomics of arena-related lifetimes.</li>
  <li>Here’s <a href="https://floooh.github.io/2018/06/17/handles-vs-pointers.html">a post comparing handles vs. pointers in game development</a> that advocates for packing homogeneously typed objects into arrays and using indices to refer to them.</li>
  <li>Similar ideas show up in <a href="https://en.wikipedia.org/wiki/Entity_component_system"><em>entity-component systems</em> (ECS)</a>, a big idea from game development that I also don’t completely understand. <a href="https://ajmmertens.medium.com/building-an-ecs-2-archetypes-and-vectorization-fe21690805f9">This post</a> covers many of the same locality-related themes as we did above.</li>
</ul>

<p>After I published this post, many people pointed me toward <a href="https://recursion.wtf/posts/rust_schemes/">a post from last year by Inanna Malick</a> that shows the same technique applied to same kind of toy “calculator” language implemented in Rust.
That post also uses <em>recursion schemes</em>, an elegant idea from the Haskell world that helps abstract over different concrete representations.
I highly recommend checking that post out.</p>



</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Functional Introduction To Computer Science (121 pts)]]></title>
            <link>https://cs.uwaterloo.ca/~plragde/flaneries/FICS/</link>
            <guid>36558759</guid>
            <pubDate>Sun, 02 Jul 2023 06:14:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/">https://cs.uwaterloo.ca/~plragde/flaneries/FICS/</a>, See on <a href="https://news.ycombinator.com/item?id=36558759">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><span>8.1</span></p><div><p><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;<span>← prev</span>&nbsp;&nbsp;<span>up</span>&nbsp;&nbsp;<a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Introduction.html" title="forward to &quot;1 Introduction&quot;" data-pltdoc="x">next →</a></span>&nbsp;</p></div><p>(a flânerie by Prabhakar Ragde)</p><p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
Please do not post exercise solutions to any public forum
or publicly-accessible software repository.</p><p>This is a complete draft of Part I. For Part II, look <a href="https://cs.uwaterloo.ca/~plragde/flane/FICS2">here</a>.</p><table><tbody><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Introduction.html" data-pltdoc="x">1<span>&nbsp;</span>Introduction</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Introduction.html#%28part._.Required_background%29" data-pltdoc="x">1.1<span>&nbsp;</span>Required background</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Introduction.html#%28part._.Design_philosophy%29" data-pltdoc="x">1.2<span>&nbsp;</span>Design philosophy</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html" data-pltdoc="x">2<span>&nbsp;</span>Starting out with Racket</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html#%28part._.Functions_in_mathematics%29" data-pltdoc="x">2.1<span>&nbsp;</span>Functions in mathematics</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html#%28part._.Function_application_in_.Racket%29" data-pltdoc="x">2.2<span>&nbsp;</span>Function application in Racket</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html#%28part._.Dr.Racket_s_.Interactions_window%29" data-pltdoc="x">2.3<span>&nbsp;</span>DrRacket’s Interactions window</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html#%28part._.Function_definitions_in_.Racket%29" data-pltdoc="x">2.4<span>&nbsp;</span>Function definitions in Racket</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html#%28part._.Dr.Racket_s_.Definitions_window%29" data-pltdoc="x">2.5<span>&nbsp;</span>DrRacket’s Definitions window</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html#%28part._.More_types_of_data%29" data-pltdoc="x">2.6<span>&nbsp;</span>More types of data</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html#%28part._.Conditional_expressions%29" data-pltdoc="x">2.7<span>&nbsp;</span>Conditional expressions</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html#%28part._.The_design_recipe%29" data-pltdoc="x">2.8<span>&nbsp;</span>The design recipe</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Starting_out_with_Racket.html#%28part._.An_extended_example%29" data-pltdoc="x">2.9<span>&nbsp;</span>An extended example</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Syntax_and_semantics.html" data-pltdoc="x">3<span>&nbsp;</span>Syntax and semantics</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Syntax_and_semantics.html#%28part._.Syntax_and_grammar%29" data-pltdoc="x">3.1<span>&nbsp;</span>Syntax and grammar</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Syntax_and_semantics.html#%28part._.A_semantic_model%29" data-pltdoc="x">3.2<span>&nbsp;</span>A semantic model</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Structures.html" data-pltdoc="x">4<span>&nbsp;</span>Structures</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Structures.html#%28part._.Struct.Syn.Sem%29" data-pltdoc="x">4.1<span>&nbsp;</span>Syntax and semantics</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Structures.html#%28part._.Simulating_natural_numbers%29" data-pltdoc="x">4.2<span>&nbsp;</span>Simulating natural numbers</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Structures.html#%28part._.Correctness%29" data-pltdoc="x">4.3<span>&nbsp;</span>Correctness</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Lists.html" data-pltdoc="x">5<span>&nbsp;</span>Lists</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Lists.html#%28part._.Sequences%29" data-pltdoc="x">5.1<span>&nbsp;</span>Sequences</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Lists.html#%28part._.Lists_in_.Racket%29" data-pltdoc="x">5.2<span>&nbsp;</span>Lists in Racket</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Lists.html#%28part._.Sets%29" data-pltdoc="x">5.3<span>&nbsp;</span>Sets</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Lists.html#%28part._.Representing_sets_using_ordered_lists%29" data-pltdoc="x">5.4<span>&nbsp;</span>Representing sets using ordered lists</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Lists.html#%28part._.List_abbreviations%29" data-pltdoc="x">5.5<span>&nbsp;</span>List abbreviations</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Functional_Abstraction.html" data-pltdoc="x">6<span>&nbsp;</span>Functional Abstraction</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Functional_Abstraction.html#%28part._.A_first_example%29" data-pltdoc="x">6.1<span>&nbsp;</span>A first example</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Functional_Abstraction.html#%28part._.More_functional_abstraction%29" data-pltdoc="x">6.2<span>&nbsp;</span>More functional abstraction</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Functional_Abstraction.html#%28part._.Functions_are_values%29" data-pltdoc="x">6.3<span>&nbsp;</span>Functions are values</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Functional_Abstraction.html#%28part._.Syntax_and_semantics_of_.I.S.L_%29" data-pltdoc="x">6.4<span>&nbsp;</span>Syntax and semantics of ISL+</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Functional_Abstraction.html#%28part._.Local_bindings_and_scope%29" data-pltdoc="x">6.5<span>&nbsp;</span>Local bindings and scope</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Functional_Abstraction.html#%28part._.Still_more_functional_abstraction%29" data-pltdoc="x">6.6<span>&nbsp;</span>Still more functional abstraction</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Functional_Abstraction.html#%28part._.Simplifying_.Racket%29" data-pltdoc="x">6.7<span>&nbsp;</span>Simplifying Racket</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Efficient_Representations.html" data-pltdoc="x">7<span>&nbsp;</span>Efficient Representations</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Efficient_Representations.html#%28part._.Unary_representation_reviewed%29" data-pltdoc="x">7.1<span>&nbsp;</span>Unary representation reviewed</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Efficient_Representations.html#%28part._.Binary_representation_introduced%29" data-pltdoc="x">7.2<span>&nbsp;</span>Binary representation introduced</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Efficient_Representations.html#%28part._.Implementing_addition%29" data-pltdoc="x">7.3<span>&nbsp;</span>Implementing addition</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Efficient_Representations.html#%28part._.Space_and_time_analysis%29" data-pltdoc="x">7.4<span>&nbsp;</span>Space and time analysis</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Efficient_Representations.html#%28part._.Representing_integers%29" data-pltdoc="x">7.5<span>&nbsp;</span>Representing integers</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Trees.html" data-pltdoc="x">8<span>&nbsp;</span>Trees</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Trees.html#%28part._.From_lists_to_trees%29" data-pltdoc="x">8.1<span>&nbsp;</span>From lists to trees</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Trees.html#%28part._.Braun_trees%29" data-pltdoc="x">8.2<span>&nbsp;</span>Braun trees</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Trees.html#%28part._.Tree-structured_data%29" data-pltdoc="x">8.3<span>&nbsp;</span>Tree-structured data</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Trees.html#%28part._.Binary_search_trees%29" data-pltdoc="x">8.4<span>&nbsp;</span>Binary search trees</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Generative_Recursion.html" data-pltdoc="x">9<span>&nbsp;</span>Generative Recursion</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Generative_Recursion.html#%28part._.Greatest_common_divisor%29" data-pltdoc="x">9.1<span>&nbsp;</span>Greatest common divisor</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Generative_Recursion.html#%28part._.Sorting%29" data-pltdoc="x">9.2<span>&nbsp;</span>Sorting</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Generative_Recursion.html#%28part._.Insertion_and_selection_sort%29" data-pltdoc="x">9.2.1<span>&nbsp;</span>Insertion and selection sort</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Generative_Recursion.html#%28part._.Treesort%29" data-pltdoc="x">9.2.2<span>&nbsp;</span>Treesort</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Generative_Recursion.html#%28part._.Quicksort%29" data-pltdoc="x">9.2.3<span>&nbsp;</span>Quicksort</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Generative_Recursion.html#%28part._.Bottom-up_mergesort%29" data-pltdoc="x">9.2.4<span>&nbsp;</span>Bottom-up mergesort</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Generative_Recursion.html#%28part._.Top-down_mergesort%29" data-pltdoc="x">9.2.5<span>&nbsp;</span>Top-down mergesort</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Interpreters.html" data-pltdoc="x">10<span>&nbsp;</span>Interpreters</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Interpreters.html#%28part._.Evaluating_arithmetic_expressions%29" data-pltdoc="x">10.1<span>&nbsp;</span>Evaluating arithmetic expressions</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Interpreters.html#%28part._.Adding_local_names%29" data-pltdoc="x">10.2<span>&nbsp;</span>Adding local names</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Interpreters.html#%28part._.Adding_second-class_functions%29" data-pltdoc="x">10.3<span>&nbsp;</span>Adding second-class functions</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Interpreters.html#%28part._.Adding_first-class_functions%29" data-pltdoc="x">10.4<span>&nbsp;</span>Adding first-class functions</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Interpreters.html#%28part._.Interlude__programs_that_don_t_terminate%29" data-pltdoc="x">10.5<span>&nbsp;</span>Interlude: programs that don’t terminate</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Interpreters.html#%28part._.Deferring_substitution%29" data-pltdoc="x">10.6<span>&nbsp;</span>Deferring substitution</a></p></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Interpreters.html#%28part._.What_s_next_%29" data-pltdoc="x">10.7<span>&nbsp;</span>What’s next?</a></p></td></tr></tbody></table><div><p><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;<span>← prev</span>&nbsp;&nbsp;<span>up</span>&nbsp;&nbsp;<a href="https://cs.uwaterloo.ca/~plragde/flaneries/FICS/Introduction.html" title="forward to &quot;1 Introduction&quot;" data-pltdoc="x">next →</a></span>&nbsp;</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[GPT-Migrate converts repos from one lang/framework to another (158 pts)]]></title>
            <link>https://github.com/0xpayne/gpt-migrate</link>
            <guid>36558032</guid>
            <pubDate>Sun, 02 Jul 2023 03:46:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/0xpayne/gpt-migrate">https://github.com/0xpayne/gpt-migrate</a>, See on <a href="https://news.ycombinator.com/item?id=36558032">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">GPT-Migrate</h2>
<h3 tabindex="-1" dir="auto">◐ &nbsp; Easily migrate your codebase from one framework or language to another. &nbsp; ◑</h3>
<p dir="auto">If you've ever faced the pain of migrating a codebase to a new framework or language, this project is for you.</p>
<details open="">
  <summary>
    
    <span aria-label="Video description GPT-Migrate.mp4">GPT-Migrate.mp4</span>
    <span></span>
  </summary>

  <video src="https://user-images.githubusercontent.com/25165841/250232917-bcc99ce8-99b7-4e3d-a653-f89e163ed825.mp4" data-canonical-src="https://user-images.githubusercontent.com/25165841/250232917-bcc99ce8-99b7-4e3d-a653-f89e163ed825.mp4" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto">Migration is a costly, tedious, and non-trivial problem. Do not trust the current version blindly and please use responsibly. Please also be aware that costs can add up quickly as GPT-Migrate is designed to write (and potentially re-write) the entirety of a codebase.</p>
<p dir="auto">However, with the collective brilliance of the OSS community and the current state of LLMs, it is also a very tractable problem.</p>
<h2 tabindex="-1" dir="auto"><g-emoji alias="zap" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a1.png">⚡️</g-emoji> Usage</h2>
<ol dir="auto">
<li>
<p dir="auto">Install Docker and ensure that it's running. It's also recommended that you use at least GPT-4, preferably GPT-4-32k.</p>
</li>
<li>
<p dir="auto">Set your <a href="https://platform.openai.com/account/api-keys" rel="nofollow">OpenAI API key</a> and install the python requirements:</p>
</li>
</ol>
<p dir="auto"><code>export OPENAI_API_KEY=&lt;your key&gt;</code></p>
<p dir="auto"><code>pip install -r requirements.txt</code></p>
<ol start="3" dir="auto">
<li>Run the main script with the target language you want to migrate to:</li>
</ol>
<p dir="auto"><code>python main.py --targetlang nodejs</code></p>
<ol start="4" dir="auto">
<li>(Optional) If you'd like GPT-Migrate to validate the unit tests it creates against your app before it tests the migrated app with them, please have your existing app exposed and use the <code>--sourceport</code> flag.</li>
</ol>
<p dir="auto">By default, this script will execute the flask-nodejs benchmark. You can specify the language, source directory, and many other things using the options guide below.</p>
<h2 tabindex="-1" dir="auto"><g-emoji alias="bulb" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png">💡</g-emoji> Options</h2>
<p dir="auto">You can customize the behavior of GPT-Migrate by passing the following options to the <code>main.py</code> script:</p>
<ul dir="auto">
<li>
<p dir="auto"><code>--model</code>: The Large Language Model to be used. Default is <code>"gpt-4-32k"</code>.</p>
</li>
<li>
<p dir="auto"><code>--temperature</code>: Temperature setting for the AI model. Default is <code>0</code>.</p>
</li>
<li>
<p dir="auto"><code>--sourcedir</code>: Source directory containing the code to be migrated. Default is <code>"../benchmarks/flask-nodejs/source"</code>.</p>
</li>
<li>
<p dir="auto"><code>--sourcelang</code>: Source language or framework of the code to be migrated. No default value.</p>
</li>
<li>
<p dir="auto"><code>--sourceentry</code>: Entrypoint filename relative to the source directory. For instance, this could be an <code>app.py</code> or <code>main.py</code> file for Python. Default is <code>"app.py"</code>.</p>
</li>
<li>
<p dir="auto"><code>--targetdir</code>: Directory where the migrated code will live. Default is <code>"../benchmarks/flask-nodejs/target"</code>.</p>
</li>
<li>
<p dir="auto"><code>--targetlang</code>: Target language or framework for migration. Default is <code>"nodejs"</code>.</p>
</li>
<li>
<p dir="auto"><code>--operating_system</code>: Operating system for the Dockerfile. Common options are <code>'linux'</code> or <code>'windows'</code>. Default is <code>'linux'</code>.</p>
</li>
<li>
<p dir="auto"><code>--testfiles</code>: Comma-separated list of files that have functions to be tested. For instance, this could be an <code>app.py</code> or <code>main.py</code> file for a Python app where your REST endpoints are. Include the full relative path. Default is <code>"app.py"</code>.</p>
</li>
<li>
<p dir="auto"><code>--sourceport</code>: (Optional) Port for testing the unit tests file against the original app. No default value.</p>
</li>
<li>
<p dir="auto"><code>--targetport</code>: Port for testing the unit tests file against the migrated app. Default is <code>8080</code>.</p>
</li>
<li>
<p dir="auto"><code>--step</code>: Step to run. Options are <code>'setup'</code>, <code>'migrate'</code>, <code>'test'</code>, <code>'all'</code>. Default is <code>'all'</code>.</p>
</li>
</ul>
<p dir="auto">For example, to migrate a Python codebase to Node.js, you might run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="python main.py --sourcedir /path/to/my-python-app --sourceentry app.py --targetdir /path/to/my-nodejs-app --targetlang nodejs"><pre>python main.py --sourcedir /path/to/my-python-app --sourceentry app.py --targetdir /path/to/my-nodejs-app --targetlang nodejs</pre></div>
<p dir="auto">This will take the Python code in <code>./my-python-app</code>, migrate it to Node.js, and write the resulting code to <code>./my-nodejs-app</code>.</p>
<h4 tabindex="-1" dir="auto">GPT-assisted debugging</h4>
<details open="">
  <summary>
    
    <span aria-label="Video description GPT-Migrate-debugging.mp4">GPT-Migrate-debugging.mp4</span>
    <span></span>
  </summary>

  <video src="https://user-images.githubusercontent.com/25165841/250233075-eff1a535-f40e-42e4-914c-042c69ba9195.mp4" data-canonical-src="https://user-images.githubusercontent.com/25165841/250233075-eff1a535-f40e-42e4-914c-042c69ba9195.mp4" controls="controls" muted="muted">

  </video>
</details>

<h2 tabindex="-1" dir="auto">🤖 How it Works</h2>
<p dir="auto">For migrating a repo from <code>--sourcelang</code> to <code>--targetlang</code>...</p>
<ol dir="auto">
<li>GPT-Migrate first creates a Docker environment for <code>--targetlang</code>, which is either passed in or assessed automatically by GPT-Migrate.</li>
<li>It evaluates your existing code recursively to identify 3rd-party <code>--sourcelang</code> dependencies and selects corresponding <code>--targetlang</code> dependencies.</li>
<li>It recursively rebuilds new <code>--targetlang</code> code from your existing code starting from your designated <code>--sourceentry</code> file. This step can be started from with the <code>--step migrate</code> option.</li>
<li>It spins up the Docker environment with the new codebase, exposing it on <code>--targetport</code> and iteratively debugging as needed.</li>
<li>It develops unit tests using Python's unittest framework, and optionally tests these against your existing app if it's running and exposed on <code>--sourceport</code>, iteratively debugging as needed. This step can be started from with the <code>--step test</code> option.</li>
<li>It tests the new code on <code>--targetport</code> against these unit tests.</li>
<li>It iteratively debugs the code for for you with context from logs, error messages, relevant files, and directory structure. It does so by choosing one or more actions (move, create, or edit files) then executing them. If it wants to execute any sort of shell script (moving files around), it will first ask for clearance. Finally, if at any point it gets stuck or the user ends the debugging loop, it will output directions for the user to follow to move to the next step of the migration.</li>
<li>The new codebase is completed and exists in <code>--targetdir</code>.</li>
</ol>
<h3 tabindex="-1" dir="auto"><g-emoji alias="memo" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png">📝</g-emoji> Prompt Design</h3>
<p dir="auto">Subprompts are organized in the following fashion:</p>
<ul dir="auto">
<li><code>HIERARCHY</code>: this defines the notion of preferences. There are 4 levels of preference, and each level prioritized more highly than the previous one.</li>
<li><code>p1</code>: Preference Level 1. These are the most general prompts, and consist of broad guidelines.</li>
<li><code>p2</code>: Preference Level 2. These are more specific prompts, and consist of guidelines for certain types of actions (e.g., best practices and philosophies for writing code).</li>
<li><code>p3</code>: Preference Level 3. These are even more specific prompts, and consist of directions for specific actions (e.g., creating a certain file, debugging, writing tests).</li>
<li><code>p4</code>: Preference Level 4. These are the most specific prompts, and consist of formatting for output.</li>
</ul>
<p dir="auto">Prompts are a combination of subprompts. This concept of tagging and composability can be extended to other properties as well to make prompts even more robust. This is an area we're highly interested in actively exploring.</p>
<h2 tabindex="-1" dir="auto">📈 Performance</h2>
<p dir="auto">GPT-Migrate is currently in development alpha and is not yet ready for production use. For instance, on the relatively simple benchmarks, it gets through "easy" languages like python or javascript without a hitch ~50% of the time, and cannot get through more complex languages like C++ or Rust without some human assistance.</p>
<h2 tabindex="-1" dir="auto">✅ Benchmarks</h2>
<p dir="auto">We're actively looking to build up a robust benchmark repository. If you have a codebase that you'd like to contribute, please open a PR! The current benchmarks were built from scratch: REST API apps which have a few endpoints and dependency files.</p>
<h2 tabindex="-1" dir="auto">📣 Call to Action</h2>
<p dir="auto">We're looking for talented contributors. Whether you have a particular passion about a specific language or framework, want to help in creating a more robust test suite, or generally have interesting ideas on how to make this better, we'd love to have you!</p>
<h2 tabindex="-1" dir="auto">Join the conversation on <a href="https://twitter.com/joshpxyne/status/1675254164165910528" rel="nofollow">Twitter</a>!</h2>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Look at Bluesky (117 pts)]]></title>
            <link>https://juliette.page/blog/bluesky.html</link>
            <guid>36557378</guid>
            <pubDate>Sun, 02 Jul 2023 01:50:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://juliette.page/blog/bluesky.html">https://juliette.page/blog/bluesky.html</a>, See on <a href="https://news.ycombinator.com/item?id=36557378">Hacker News</a></p>
<div id="readability-page-1" class="page">
<header>
<a href="https://juliette.page/">Home</a>
</header>

<p id="tagline">An overly complicated social networking platform</p>
<p>Bluesky is a platform that competes with Mastodon. It runs the Authenticated Transfer Protocol, atproto. Atproto is a new protocol like ActivityPub for federated, decentralized, social networking. In atproto, usernames are domains which lead to cryptographic urls called DID. DID which stands for Decentralized Identifier is another specification. That all just means that my username would be @juliette.page and my DID would be something like at://did:plc:1231. A benefit of atproto users is that they are transferable without needing an active server, so for example if your server goes down thats not a problem you can just migrate to a different one and you’re all good! All of the user data is stored in data repositories.</p>
<p>A problem with the system of having a domain as a username is that people can claim it who don’t have access to that username. For example, someone was able to get the AWS S3 domain as their handle!</p> 
<p>Data repositories are signed, “git like”, public databases. Everything in them can be verified by other sources. However, that means interactions, such as user likes, blocks, follows, etc are all public. With no means to make them private. Which could lead to harassment! </p>
<p>Atproto also has the ability to create custom algorithms for timeline sorting! Which is a neat feature. But runs into the problem of algorithms being hijacked to show inappropriate/offensive/bigoted content.</p>
<p>Overall, Bluesky has some features that make it better than Mastodon, for example the algorithms and the ability to migrate servers while the server being done. But also it’s a group of overly complicated specifications that could’ve just been extensions to the ActivityPub protocol rather than a whole new protocol! </p>



</div>]]></description>
        </item>
        <item>
            <title><![CDATA[After September 1, 2023, all Gfycat content and data will be deleted (206 pts)]]></title>
            <link>https://gfycat.com/</link>
            <guid>36557287</guid>
            <pubDate>Sun, 02 Jul 2023 01:34:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gfycat.com/">https://gfycat.com/</a>, See on <a href="https://news.ycombinator.com/item?id=36557287">Hacker News</a></p>
<div id="readability-page-1" class="page"><div role="main"><section><p><h2>Service Notice</h2></p><p><h2>The Gfycat service is being discontinued. Please save or delete your Gfycat content by visiting https://www.gfycat.com and logging in to your account. After September 1, 2023, all Gfycat content and data will be deleted from gfycat.com</h2></p></section><section><p><a href="https://gfycat.com/discover/trending-gifs"><h2>Featured Trending GIFs</h2></a></p><div><p><a href="https://gfycat.com/discover/trending-gifs">See more trending GIFs<span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 34" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M2.092.364L.37 2.074a.948.948 0 0 0-.37.733c0 .304.123.612.37.794L13.845 17.03.37 30.4c-.247.241-.37.486-.37.79 0 .308.123.55.37.795l1.722 1.648a.97.97 0 0 0 .74.367c.307 0 .554-.123.798-.367l16-15.872a.946.946 0 0 0 .37-.731c0-.305-.123-.61-.37-.795L3.63.364C3.386.123 3.139 0 2.832 0a.976.976 0 0 0-.74.364z" fill-rule="nonzero"></path></svg></span></a></p></div></section><div><section><div><a href="https://gfycat.com/popular-gifs"><h2>Popular GIFs</h2></a></div><div><p><a href="https://gfycat.com/popular-gifs">See more popular GIFs<span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 34" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M2.092.364L.37 2.074a.948.948 0 0 0-.37.733c0 .304.123.612.37.794L13.845 17.03.37 30.4c-.247.241-.37.486-.37.79 0 .308.123.55.37.795l1.722 1.648a.97.97 0 0 0 .74.367c.307 0 .554-.123.798-.367l16-15.872a.946.946 0 0 0 .37-.731c0-.305-.123-.61-.37-.795L3.63.364C3.386.123 3.139 0 2.832 0a.976.976 0 0 0-.74.364z" fill-rule="nonzero"></path></svg></span></a></p></div></section><section><div><a href="https://gfycat.com/gaming"><h2>Gaming GIFs</h2></a></div><div><p><a href="https://gfycat.com/gaming">See more gaming GIFs<span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 34" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M2.092.364L.37 2.074a.948.948 0 0 0-.37.733c0 .304.123.612.37.794L13.845 17.03.37 30.4c-.247.241-.37.486-.37.79 0 .308.123.55.37.795l1.722 1.648a.97.97 0 0 0 .74.367c.307 0 .554-.123.798-.367l16-15.872a.946.946 0 0 0 .37-.731c0-.305-.123-.61-.37-.795L3.63.364C3.386.123 3.139 0 2.832 0a.976.976 0 0 0-.74.364z" fill-rule="nonzero"></path></svg></span></a></p></div></section><section><p><a href="https://gfycat.com/featured/reactions"><h2>Reaction GIFs</h2></a></p><div><p><a href="https://gfycat.com/featured/reactions">See more reaction GIFs<span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 34" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M2.092.364L.37 2.074a.948.948 0 0 0-.37.733c0 .304.123.612.37.794L13.845 17.03.37 30.4c-.247.241-.37.486-.37.79 0 .308.123.55.37.795l1.722 1.648a.97.97 0 0 0 .74.367c.307 0 .554-.123.798-.367l16-15.872a.946.946 0 0 0 .37-.731c0-.305-.123-.61-.37-.795L3.63.364C3.386.123 3.139 0 2.832 0a.976.976 0 0 0-.74.364z" fill-rule="nonzero"></path></svg></span></a></p></div></section><section><div><a href="https://gfycat.com/stickers"><h2>Sticker GIFs</h2></a></div><div><p><a href="https://gfycat.com/stickers">See more sticker GIFs<span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 34" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M2.092.364L.37 2.074a.948.948 0 0 0-.37.733c0 .304.123.612.37.794L13.845 17.03.37 30.4c-.247.241-.37.486-.37.79 0 .308.123.55.37.795l1.722 1.648a.97.97 0 0 0 .74.367c.307 0 .554-.123.798-.367l16-15.872a.946.946 0 0 0 .37-.731c0-.305-.123-.61-.37-.795L3.63.364C3.386.123 3.139 0 2.832 0a.976.976 0 0 0-.74.364z" fill-rule="nonzero"></path></svg></span></a></p></div></section></div><div><p><h2>Current trending tags</h2></p><div><h2>Gfycat Pro</h2><p>No ads, always HD experience with Gfycat Pro.</p><p><a href="https://gfycat.com/pro">Get Pro now</a></p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[China Has $3T of ‘Hidden’ Currency Reserves, Setser Says (103 pts)]]></title>
            <link>https://www.bloomberg.com/news/articles/2023-06-30/china-has-3-trillion-of-hidden-currency-reserves-setser-says</link>
            <guid>36557122</guid>
            <pubDate>Sun, 02 Jul 2023 01:07:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bloomberg.com/news/articles/2023-06-30/china-has-3-trillion-of-hidden-currency-reserves-setser-says">https://www.bloomberg.com/news/articles/2023-06-30/china-has-3-trillion-of-hidden-currency-reserves-setser-says</a>, See on <a href="https://news.ycombinator.com/item?id=36557122">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
    <section>
        <h3>Why did this happen?</h3>
        <p>Please make sure your browser supports JavaScript and cookies and that you are not
            blocking them from loading.
            For more information you can review our <a href="https://www.bloomberg.com/notices/tos">Terms of
                Service</a> and <a href="https://www.bloomberg.com/notices/tos">Cookie Policy</a>.</p>
    </section>
    <section>
        <h3>Need Help?</h3>
        <p>For inquiries related to this message please <a href="https://www.bloomberg.com/feedback">contact
            our support team</a> and provide the reference ID below.</p>
        <p>Block reference ID:</p>
    </section>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Intro to Cryptography [pdf] (2011) (140 pts)]]></title>
            <link>https://www.cs.umd.edu/~waa/414-F11/IntroToCrypto.pdf</link>
            <guid>36557077</guid>
            <pubDate>Sun, 02 Jul 2023 01:02:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cs.umd.edu/~waa/414-F11/IntroToCrypto.pdf">https://www.cs.umd.edu/~waa/414-F11/IntroToCrypto.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=36557077">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Oregon County Sues BP, Chevron, Shell, Exxon for $51B Climate Damages (184 pts)]]></title>
            <link>https://carboncredits.com/oregon-county-sues-oil-companies-shell-bp-exxon-chevron-for-51b-climate-damages/</link>
            <guid>36556844</guid>
            <pubDate>Sun, 02 Jul 2023 00:28:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://carboncredits.com/oregon-county-sues-oil-companies-shell-bp-exxon-chevron-for-51b-climate-damages/">https://carboncredits.com/oregon-county-sues-oil-companies-shell-bp-exxon-chevron-for-51b-climate-damages/</a>, See on <a href="https://news.ycombinator.com/item?id=36556844">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-td-block-uid="tdi_94"><p><span>An Oregon county filed a lawsuit against oil and gas companies and industry, blaming them and seeking $51 billion in damages for the deadly 2021 Pacific Northwest heat wave that killed about 800 people.</span></p>
<p><span>Multnomah County, which includes Portland, sued 17 companies, including Shell, Exxon Mobil, Chevron, BP, among others. The county said these fossil fuel companies and other entities in the industry are the ones to blame for the deadly heat dome.</span></p>
<p><span>A heat dome event happens when a high-pressure system prevents cooler winds from blowing and also prevents clouds from forming.&nbsp;</span></p>
<h2><span>The $51 Billion Heat Dome Damages</span></h2>
<p><span>Multnomah County is seeking<strong> $50 million</strong> from the defendants for actual damages from the <a href="https://eos.org/articles/in-the-pacific-northwest-2021-was-the-hottest-year-in-a-millennium#:~:text=A%201%2C000%2Dyear%20temperature%20record,in%20the%20decades%20to%20come." target="_blank" rel="noopener">2021 record-breaking heat wave</a>. Temperatures in the region reached 116°F, killing 69 people in the county. This is the hottest temperature ever recorded in the county’s history.&nbsp;</span></p>
<p><span>The plaintiff also asked for <strong>$1.5 billion</strong> in future damages and <strong>$50 billion</strong> abatement fund to “weatherproof” the county. The fund will also be for public health services needed for future extreme weather events resulting from fossil fuel use.&nbsp;</span></p>
<p><span>Emergency departments in the county were flooded with patients suffering from heat-related illness.&nbsp;</span></p>
<p><span>Apart from Oregon, hundreds of people also died because of the event in </span><a href="https://www.washington.edu/news/2023/04/06/washington-states-2021-heat-wave-contributed-to-159-excess-injury-deaths-over-three-weeks/" target="_blank" rel="noopener"><span>Washington</span></a><span> and </span><a href="https://science.gc.ca/site/science/en/blogs/science-health/surviving-heat-impacts-2021-western-heat-dome-canadahttps://science.gc.ca/site/science/en/blogs/science-health/surviving-heat-impacts-2021-western-heat-dome-canada" target="_blank" rel="noopener"><span>British Columbia</span></a><span>.&nbsp;</span></p>
<p><span>Researchers composed of climate scientists said that the heat wave was due to excessive carbon emissions from burning fossil fuels.&nbsp;</span></p>
<p><span>According to these climate experts, the 2021 heat dome was “virtually impossible” if not because of global warming. Their <a href="https://www.nature.com/articles/s41558-022-01520-4" target="_blank" rel="noopener">study</a> showed that the heat wave was at least 150x less likely to occur if temperatures hadn’t heated that much caused by human-related carbon emissions.&nbsp;&nbsp;</span></p>
<p><span>After the 2021 heat dome, the county has spent more to prepare for similar events in the future – expanding shelter, increasing supplies, and staffing up.&nbsp;</span></p>
<h2><span>Climate Lawsuits Against Big Oil&nbsp;</span></h2>
<p><span>The Oregon county accused the big oil companies, and other entities including McKinsey &amp; Company, for committing negligence and fraud. They said the companies knew that their fossil fuel products will cause warming and will have a negative impact. Yet, they continue to deceive the public about it.&nbsp;&nbsp;</span></p>
<p><span>As per their </span><a href="https://www.multco.us/multnomah-county/news/multnomah-county-sues-oil-companies-over-2021-heat-dome-disaster" target="_blank" rel="noopener"><span>statement</span></a><span>:</span></p>
<p><i><span>“We are confident that, once we show what the fossil fuel companies knew about global warming and when, and what they did to deny, delay and deceive the public, the jury will not let the fossil fuel companies get away with their reckless misconduct.”&nbsp;</span></i></p>
<p><span>Oregon taxpayers paid for all the heat-related emergencies and expenses during the event, including air conditioning and cooling centers.</span></p>
<p><img decoding="async" src="https://firstdraftnews.org/wp-content/uploads/2021/07/2021-06-30T234741Z_1492449881_RC2W8O9E6RNZ_RTRMADP_3_CANADA-USA-WEATHER-900x505.jpg?x21167" alt="Record-breaking heat wave in North Pacific " width="900" height="505" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20900%20505'%3E%3C/svg%3E" data-lazy-src="https://firstdraftnews.org/wp-content/uploads/2021/07/2021-06-30T234741Z_1492449881_RC2W8O9E6RNZ_RTRMADP_3_CANADA-USA-WEATHER-900x505.jpg?x21167"></p>
<p><span>The Oregon lawsuit is similar to climate litigations filed by other local and state governments since 2017. It’s the 36th time a municipality has sued oil and gas companies for alleged damages caused by global warming.&nbsp;</span></p>
<p><span>It comes after the US </span><a href="https://carboncredits.com/will-big-oil-pay-climate-damages/"><span>Supreme Court sided with Colorado’s governments</span></a><span> demanding oil giants to pay for their climate damages.</span></p>
<p>Last year at climate summit, <a href="https://carboncredits.com/4-key-takeaways-from-cop27-summit/">COP27</a>, Climate TRACE, an NGO tracking emissions, analyzed 72,612 individual sources of CO2.&nbsp;Their study revealed that fossil fuel emissions could be up to <strong>3x higher</strong> than what oil and gas companies claim. They found that <strong>50%</strong> of the largest emitters are oil and gas fields.</p>
<p>According to an <a href="https://www.carbonbrief.org/analysis-global-co2-emissions-from-fossil-fuels-hit-record-high-in-2022/" target="_blank" rel="noopener">analysis</a>, global carbon emissions from fossil fuels hit record high in 2022 as shown below, at 40.5 gigatons of CO2.</p>
<figure id="attachment_12742" aria-describedby="caption-attachment-12742"><picture decoding="async">
<source type="image/webp" data-lazy-srcset="https://carboncredits.b-cdn.net/wp-content/uploads/2023/06/global-carbon-emissions-from-fossi-lfuels-2022.jpg.webp 747w, https://carboncredits.b-cdn.net/wp-content/uploads/2023/06/global-carbon-emissions-from-fossi-lfuels-2022-300x241.jpg.webp 300w, https://carboncredits.b-cdn.net/wp-content/uploads/2023/06/global-carbon-emissions-from-fossi-lfuels-2022-696x559.jpg.webp 696w" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20747%20600'%3E%3C/svg%3E" data-lazy-sizes="(max-width: 747px) 100vw, 747px">
<img decoding="async" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20747%20600'%3E%3C/svg%3E" alt="global carbon emissions from fossi lfuels 2022" width="747" height="600" data-lazy-srcset="https://carboncredits.b-cdn.net/wp-content/uploads/2023/06/global-carbon-emissions-from-fossi-lfuels-2022.jpg 747w, https://carboncredits.b-cdn.net/wp-content/uploads/2023/06/global-carbon-emissions-from-fossi-lfuels-2022-300x241.jpg 300w, https://carboncredits.b-cdn.net/wp-content/uploads/2023/06/global-carbon-emissions-from-fossi-lfuels-2022-696x559.jpg 696w" data-lazy-sizes="(max-width: 747px) 100vw, 747px" data-lazy-src="https://carboncredits.b-cdn.net/wp-content/uploads/2023/06/global-carbon-emissions-from-fossi-lfuels-2022.jpg">
</picture>
<figcaption id="caption-attachment-12742">Source: Carbon Brief</figcaption></figure>
<h2><span>Baseless, Unproductive Claims</span></h2>
<p><span>In response to the lawsuit, Chevron’s legal representative said the claims are baseless and counterproductive in “advancing international policy solutions”.&nbsp;</span></p>
<p><span>Shell also responded saying that the court isn’t the right venue in tackling climate change. Rather, this issue needs collaboration from all sectors and a “smart government policy” as the right way to find solutions.&nbsp;</span></p>
<p><span>Exxon’s spokesperson said that this kind of lawsuit won’t be helpful in addressing climate change, and will just waste time and resources. The oil giant further stated that it won’t impact their commitment to invest billions to reach global <a href="https://carboncredits.com/what-does-net-zero-emissions-really-mean/">net zero emissions.</a>&nbsp;</span></p>
<p><span>If big oil companies ended up paying the damages, it can make the cost of doing fossil fuel business more expensive, as per a </span><a href="https://blogs.law.columbia.edu/climatechange/2023/05/12/cities-counties-and-states-score-major-procedural-win-in-climate-liability-suits-against-fossil-fuel-companies/" target="_blank" rel="noopener"><span>climate law fellow </span></a><span>at Columbia University’s Sabin Center for Climate Change Law.</span></p>
<p><span>In effect, alternatives to fossil fuels will be more cost-competitive. This may not be a direct effect of climate change, but it could be a crucial turn of event.</span></p>
<p><span>Multnomah County brought the lawsuit in state court and has secured outside lawyers for the case.&nbsp;</span></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Beyond Markdown (2018) (110 pts)]]></title>
            <link>https://johnmacfarlane.net/beyond-markdown.html</link>
            <guid>36556261</guid>
            <pubDate>Sat, 01 Jul 2023 23:06:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://johnmacfarlane.net/beyond-markdown.html">https://johnmacfarlane.net/beyond-markdown.html</a>, See on <a href="https://news.ycombinator.com/item?id=36556261">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        
<p><em>This essay was originally posted at <a href="https://talk.commonmark.org/t/beyond-markdown/2787">https://talk.commonmark.org/t/beyond-markdown/2787</a> in April, 2018.</em></p>
<p>In developing Commonmark, we have tried, as far as possible, to remain faithful to John Gruber’s original Markdown syntax description. We have diverged from it only occasionally, in the interest of removing ambiguity and increasing uniformity, and with the addition of a few syntax elements that are now virtuously ubiquitous (like fenced code blocks and shortcut reference links).</p>
<p>There are very good reasons for being conservative in this way. But this respect for the past has made the CommonMark spec a very complicated beast. There are <a href="http://spec.commonmark.org/0.28/#emphasis-and-strong-emphasis">17 principles governing emphasis</a>, for example, and <a href="https://github.com/commonmark/CommonMark/issues/475">these rules still leave cases undecided</a>. The <a href="http://spec.commonmark.org/0.28/#list-items">rules for list items</a> and <a href="http://spec.commonmark.org/0.28/#html-blocks">HTML blocks</a> are also very complex. All of these rules lead to unexpected results sometimes, and they make writing a parser for CommonMark a complex affair. I despair, at times, of getting to a spec that is worth calling 1.0.</p>
<p>What if we weren’t chained to the past? What if we tried to create a light markup syntax that keeps what is good about Markdown, while revising some of the features that have led to bloat and complexity in the CommonMark spec?</p>
<p>Let me be clear up front that I’m not suggesting any change in the goals of the Commonmark project. If these reflections lead to anything, it should probably be an entirely new project under a new name. And, being realistic, the burdens of maintaining backwards compatibility are light in comparison with the enormous practical costs of moving existing systems to a new light markup language. Still…I think it can be useful to daydream.</p>
<p>In what follows, I’ll go through the six features of Markdown that I think have created the most difficulties, and I’ll suggest how each pain point can be fixed.</p>
<h2 id="emphasis">1. Emphasis</h2>
<p>In Markdown, emphasis is created by surrounding text with <code>*</code> or <code>_</code> characters, <code>*like this*</code>. Strong emphasis is created by doubling these, <code>**like this**</code>. That all sounds very simple, and it’s visually clear which one is strong emphasis.</p>
<p>Unfortunately, these simple statements aren’t enough to pin down the syntax. Consider, for example,</p>
<pre><code>**this* text**</code></pre>
<p>Our simple rules are consistent with both of these readings:</p>
<ol type="1">
<li><code>&lt;strong&gt;this* text&lt;/strong&gt;</code></li>
<li><code>&lt;em&gt;&lt;em&gt;this&lt;/em&gt; text&lt;/em&gt;*</code></li>
</ol>
<p>So, to fully specify emphasis parsing, we need additional rules. The 17 discouragingly complex rules in the CommonMark spec are intended to force the sorts of readings that humans will find most natural.</p>
<p>It seems to me that the use of doubled characters for strong emphasis, and the possibility of emphasizing even part of a word, as in <code>fan*tas*tic</code>, have made the problem of specifying emphasis parsing far worse, by vastly increasing the ambiguities the spec must resolve. Depending on context, a string of three <code>***</code> in the middle of a word might be any of the following:</p>
<ol type="1">
<li>A <code>*</code> character followed by the beginning of strong emphasis.</li>
<li>The end of strong emphasis followed by a <code>*</code> character.</li>
<li>The end of normal emphasis, a <code>*</code> character, then the beginning of normal emphasis.</li>
<li>The end of strong emphasis followed by the beginning of normal emphasis.</li>
<li>The end of normal emphasis followed by the beginning of strong emphasis.</li>
<li>The end of normal emphasis followed by a literal <code>**</code>.</li>
<li>A literal <code>**</code> followed by the beginning of normal emphasis.</li>
<li>Literal <code>***</code>.</li>
</ol>
<h3 id="how-to-fix-emphasis">How to fix emphasis</h3>
<p>To dramatically reduce ambiguities, we can remove the doubled character delimiters for strong emphasis. Instead, use a single <code>_</code> for regular emphasis, and a single <code>*</code> for strong emphasis. Emphasis would now start with a left-flanking but not right-flanking delimiter and end with a right-flanking but not left-flanking delimiter of the same kind.</p>
<p>For intraword emphasis, we’d require a special syntax:</p>
<pre><code>fan~_tas_~tic</code></pre>
<p>Intraword emphasis is extremely rare, so it’s a good tradeoff to make it a little harder, in exchange for simplifying the rules (and conceptual model) for emphasis in general. The special character <code>~</code> here acts like a space for purposes of parsing emphasis (allowing the intraword <code>_</code> to start and end emphasis), but isn’t rendered as a space. (It thus behaves like an escaped space does in reStructuredText.)</p>
<p><em>Added 2022-04-22:</em> This would also give us a way to express something that is currently <em>inexpressible</em> in commonmark: <code>a&lt;em&gt;[b]&lt;/em&gt;c</code>. There is currently <em>no way to write</em> this with commonmark’s rules, since in <code>a*[b]*c</code> the first <code>*</code> is right-flanking and the second <code>*</code> is left-flanking. But with the proposed syntax, it could be written as <code>a~_[b]_~c</code>.</p>
<h2 id="reference-links">2. Reference links</h2>
<p>The usual treatment of reference links makes it impossible to classify any syntax element until the whole document has been parsed. For example, consider</p>
<pre><code>[foo][bar][baz]

[bar]: url</code></pre>
<p>This is interpreted as</p>
<pre><code>&lt;p&gt;&lt;a href="url"&gt;foo&lt;/a&gt;[baz]&lt;/p&gt;</code></pre>
<p>But suppose we define a link for <code>baz</code> instead of <code>bar</code>:</p>
<pre><code>[foo][bar][baz]

[baz]: url</code></pre>
<p>Then we get:</p>
<pre><code>&lt;p&gt;[foo]&lt;a href="url"&gt;bar&lt;/a&gt;&lt;/p&gt;</code></pre>
<p>So, we can’t tell whether <code>[foo]</code> is literal bracketed text or a link with link description <code>foo</code> until we’ve parsed the entire document.</p>
<p>This makes syntax highlighting very difficult, and it also complicates writing parsers. For example, you can’t parse links, then resolve references in the AST after the document is parsed.</p>
<h3 id="how-to-fix-reference-links">How to fix reference links</h3>
<p>Make reference links recognizable by their shape alone, independent of what references are defined in the document. Thus,</p>
<pre><code>[foo][bar][baz]</code></pre>
<p>would be parsed as a link with link text <code>foo</code> to whatever URL is defined for reference <code>bar</code> (or to nothing, if none is defined), followed by literal text <code>[baz]</code>.</p>
<p>Shortcut references like</p>
<pre><code>[foo]

[foo]: url</code></pre>
<p>would have to be disallowed (unless we were willing to force writers to escape all literal bracket characters). The compact form could be used instead:</p>
<pre><code>[foo][]

[foo]: url</code></pre>
<p>This is a bit more typing, but it makes it clear and unambiguous that there is a link.</p>
<h2 id="indented-code-blocks-and-lists">3. Indented code blocks and lists</h2>
<p>Parsing indented code blocks is straightforward, but their presence complicates the rules for list items.</p>
<p>In specifying the syntax for list items, we need to say how far content must be indented in order to be considered part of the list item. The original Markdown syntax documents hinted at a “four-space rule,” requiring four spaces indentation, but implementations rarely followed that, and most people find it counterintuitive that</p>
<pre><code>- a
  - b</code></pre>
<p>wouldn’t be considered a nested list. So, in CommonMark, we surveyed a large number of possible rules, eventually ending up with a rule requiring the contents of the list item to be indented at least to the level of the first non-space content after the list marker:</p>
<pre><code>  -  Item

     ^-- contents must be indented to here.</code></pre>
<p>This is not a bad rule, but it adds complexity: one has to keep track not just of the position of the list marker, but of the position of the first non-space content that follows it. And then one needs special rules for cases like empty list items and list items that begin with indented code. Finally, many people still find it surprising that, for example, this isn’t a nested list:</p>
<pre><code>- a
 - b</code></pre>
<p>Thus one might ask: why not just require that the contents of a list item be indented at least one space past the list marker? That’s the obvious minimal rule. What blocks this is the presence of indented code blocks. If block-level content under a list item begins at one space indent after the list marker, then indented code would have to be indented five spaces past the list marker. Not only is that incompatible with the eight spaces indicated in the original Markdown syntax description, it leads to terrible results with longer list markers:</p>
<pre><code>99.  Here's my list item.

     And this is indented code! Even though it
     lines up with the paragraph above!</code></pre>
<p>To sum up: most of the complexity in the rules for list items is motivated by the need to deal with indented code blocks.</p>
<h3 id="how-to-fix-indented-code-blocks-and-lists">How to fix indented code blocks and lists</h3>
<p>Fenced code blocks are now usually preferred to indented code blocks, because you can specify a syntax for highlighting and you needn’t indent/deindent when copying and pasting code. Since we have fenced code blocks, we don’t need indented code blocks. So, we can just get rid of them.</p>
<p>This frees up indentation to be used more flexibly to indicate list nesting, and we can embrace the simple, obvious rule that the contents of a list item must be indented at least one space relative to the list marker.</p>
<p>Another advantage of removing indented code blocks is that initial indentation can now be ignored in general, except insofar as it affects lists.</p>
<h2 id="raw-html">4. Raw HTML</h2>
<p>From the beginning, you could insert raw HTML into Markdown documents, and it would be passed through verbatim. The idea is that you could drop back to raw HTML for anything that can’t be expressed in plain text.</p>
<p>This sounds simpler than it is. From the beginning, <code>Markdown.pl</code> distinguished between inline and block level HTML. Inline HTML tags were passed through verbatim, but their contents could be interpreted as Markdown:</p>
<pre><code>&lt;em&gt;**hi**&lt;/em&gt;</code></pre>
<p>would give you</p>
<pre><code>&lt;em&gt;&lt;strong&gt;hi&lt;/strong&gt;&lt;/em&gt;</code></pre>
<p>Block-level HTML content, it was stipulated, should be separated by blank lines, and the start and end tags should not be indented. In such HTML blocks, everything would be passed through verbatim, and not interpreted as Markdown. So,</p>
<pre><code>&lt;div&gt;
*hello*
&lt;/div&gt;</code></pre>
<p>would just give you</p>
<pre><code>&lt;div&gt;
*hello*
&lt;/div&gt;</code></pre>
<p>This raised several problems. First, how do we identify block-level content? Do we need to hard-code a list of HTML elements that may change as HTML evolves? What about elements like <code>&lt;del&gt;</code> that can occur in inline or block contexts?</p>
<p>Second, what about block-level HTML that is not properly separated and indented?</p>
<pre><code>hi &lt;div&gt;
  hello&lt;/div&gt;</code></pre>
<p>Should parsers just treat it as inline HTML and generate invalid HTML?</p>
<p>Third, how do we identify the end of an HTML block? Given that tags can be nested, this requires nontrivial HTML parsing. The released version of <code>Markdown.pl</code> produced invalid HTML for a doubly-nested <code>&lt;div&gt;</code> element; a beta version designed to fix this problem had serious performance issues.</p>
<p>CommonMark’s spec for HTML blocks was designed to make it easy to parse raw HTML blocks (without indefinite lookahead or full implementation of HTML parsing), and also to make it possible for authors to include CommonMark content inside block-level HTML tags, if they wanted to. But the result is rather complex: seven distinct pairs of start and end conditions. The rules for inline HTML are also complex, with a large number of definitions.</p>
<p>In addition, as Markdown has become useful not just for creating HTML, but for creating documents in a number of different formats, the way HTML is singled out for raw pass-through has come to seem a bit arbitrary. Those who author in other formats would benefit from a way to pass through raw content, too.</p>
<h3 id="how-to-fix-raw-html">How to fix raw HTML</h3>
<p>Instead of passing through raw HTML, we should introduce a special syntax that allows passing through raw content of any format. For this we can overload our existing containers for raw strings: code spans and code blocks:</p>
<pre><code>This is raw HTML: `&lt;img src="myimage.jpg"&gt;`{=html}.

And here's an HTML block:

```{=html}
&lt;div id="main"&gt;
 &lt;div class="article"&gt;
```</code></pre>
<p>But we can do LaTeX too:</p>
<pre><code>```{=latex}
\begin{tikzpicture}
\node[inner sep=0pt] (russell) at (0,0)
    {\includegraphics[width=.25\textwidth]{bertrand_russell.jpg}};
\node[inner sep=0pt] (whitehead) at (5,-6)
    {\includegraphics[width=.25\textwidth]{alfred_north_whitehead.jpg}};
\draw[&lt;-&gt;,thick] (russell.south east) -- (whitehead.north west)
    node[midway,fill=white] {Principia Mathematica};
\end{tikzpicture}
```</code></pre>
<p>We could even pass through different raw content to different formats, for example including HTML and LaTeX versions of a complex figure.</p>
<h2 id="lists-and-blank-lines">5. Lists and blank lines</h2>
<p>Can a list interrupt a paragraph, like this?</p>
<pre><code>Paragraph test.
- Item one
- Item two</code></pre>
<p>The original Markdown syntax documentation does not settle this, but <code>Markdown.pl</code> and its test suite require a blank line between paragraph text and a following list. As the test suite indicates, this requirement was introduced in order to avoid accidental creation of lists by things like:</p>
<pre><code>I think he weighed 200 pounds, maybe even
220.  But he was no more than five feet tall.</code></pre>
<p>However, one exception was made: when the paragraph text is <em>itself</em> part of a list item, no blank line is required.</p>
<pre><code>-   Paragraph one

    paragraph two
    - sublist item one
    - sublist item two</code></pre>
<p>If this exception were not made, then we would not be able to recognize a nested list in this kind of case:</p>
<pre><code>- a
  - b
  - c
- d</code></pre>
<p>In thinking about the CommonMark spec for list items, we realized that the <code>Markdown.pl</code> behavior violates what we called the <em>principle of uniformity,</em> which says that the contents of a list item should have the same meaning they would have outside of the list item. This principle implies that if</p>
<pre><code>a
- b
- c</code></pre>
<p>does not contain a list, then</p>
<pre><code>- a
  - b
  - c
- d</code></pre>
<p>does not contain a sublist. We think that the principle of uniformity is important. Indeed, the way we specify list items and block quotes presupposes it. This means that we faced a choice: either require a blank line between paragraph text and a following list, or allow lists to interrupt paragraphs, and risk accidental interpretation of paragraph text as a list. We took the first option to be off the table, since it is very common in Markdown to have tight sublists without a preceding blank line. So we opted for the second option, mitigating the damage with an ugly heuristic (we only allow an ordered list to interrupt a paragraph when the list number is <code>1</code>).</p>
<h3 id="how-to-fix-lists-and-blank-lines">How to fix lists and blank lines</h3>
<p>We should require a blank line between paragraph text and a list. Always. That means, even in sublists. So, to create a tight list with a sublist, you’d write:</p>
<pre><code>- a

  - b
  - c

- d</code></pre>
<p>We’ll say a list is tight if it contains at least one pair of items with no blank line between, so in the above example, the inner list is tight and the outer list is not. To get both lists tight:</p>
<pre><code>- a

  - b
  - c
- d</code></pre>
<h2 id="attributes">6. Attributes</h2>
<p>Markdown offers no general way to add attributes (such as classes or identifiers) to elements. This deprives it of a native way of creating internal links to sections of a document. (Many implementations have introduced subtly different ways of automatically generating identifiers from headers.) It also deprives it of a natural extension mechanism. Markdown has containers for inlines (e.g.&nbsp;emphasis), blocks (e.g.&nbsp;block quote), and raw inline content (code spans), and raw block content (code blocks). If arbitrary attributes could be attached to these, they could be manipulated by filters to produce very flexible output. For example, one could treat a block quote with the class “warning” as a warning admonition, or one could treat a code block with the class “dot” as a graphviz dot diagram, to be rendered as an image. Currently, though, the only way to attach attributes to an element is to drop down to raw HTML.</p>
<h3 id="how-to-fix-attributes">How to fix attributes</h3>
<p>Introduce a syntax for an attribute specification. Following pandoc, use braces <code>{}</code> for this. An identifier is indicated with <code>#</code>. A bare word is treated as a class (or, an initial <code>.</code> could be required as in pandoc). Use <code>=</code> for an arbitrary key/value attribute.</p>
<p>Allow attributes to be added on the line <em>before</em> any block element and directly <em>after</em> any inline element:</p>
<pre><code>{#myheader}
# The *Blue Title*{blue position=left}</code></pre>
<p>Here the identifier <code>myheader</code> is added to the header block, and the class <code>blue</code> and key/value attribute <code>position=left</code> are added to the emphasized text <code>Blue Title</code>.</p>
<p>Attributes specifiers must fit on one line, but several may be used (and will then be combined):</p>
<pre><code>{#mywarning}
{warning}
&gt; Don't try this at home!
&gt; It might be dangerous.</code></pre>
<p>Perhaps it would be helpful to add a syntax for unadorned inline spans, and a fenced generic block container, as in pandoc. But we can use emphasis for an inline container and block quote for a block container, so this wouldn’t be absolutely necessary.</p>
<h2 id="summary-of-recommendations">Summary of recommendations</h2>
<ol type="1">
<li><p>Emphasis</p>
<ol type="a">
<li>Use distinct characters for emphasis and strong emphasis.</li>
<li>Don’t use doubled-character delimiters.</li>
<li>Simplify emphasis rules.</li>
<li>Introduce special syntax for intraword emphasis, with <code>~</code> behaving like a space as far as parsing emphasis goes, but render as nothing.</li>
</ol></li>
<li><p>Reference links</p>
<ol type="a">
<li>Don’t make parsing something as a link depend on whether a reference link definition exists elsewhere in the document.</li>
<li>Remove shortcut reference links.</li>
</ol></li>
<li><p>Code</p>
<ol type="a">
<li>Remove indented code blocks. Use only fenced blocks for code.</li>
</ol></li>
<li><p>Lists</p>
<ol type="a">
<li>Use a simple rule for determining what belongs under a list item: anything indented at all with respect to the list marker belongs in the item.</li>
<li>Require a blank line between paragraph content and a following list.</li>
<li>Revise rules for tight lists: a list is tight if any two items lack a blank line between them.</li>
</ol></li>
<li><p>HTML</p>
<ol type="a">
<li>Remove automatic pass-through of raw HTML. Things like <code>&lt;br&gt;</code> will now be treated as regular text and escaped.</li>
<li>Introduce an explicit syntax for passing through raw content in an arbitrary format. In inline contexts, a code span followed by <code>{=FORMAT}</code>; in block contexts, a fenced code block with info string <code>{=FORMAT}</code>.</li>
</ol></li>
<li><p>Attributes</p>
<ol type="a">
<li>Introduce a uniform attribute syntax, like this: <code>{class #identifier key=value}</code>.</li>
<li>Allow attributes on any block element. The identifier must appear by itself on the line before the block element. Multiple attributes can be specified on successive lines; they will be combined.</li>
<li>Allow attributes on any inline element. The identifier must appear immediately after (and adjacent to) the inline element to which it is to apply.</li>
</ol></li>
</ol>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fake reviews are illegal and subject to big fines under new FTC rules (534 pts)]]></title>
            <link>https://www.washingtonpost.com/technology/2023/06/30/fake-reviews-online-ftc/</link>
            <guid>36556228</guid>
            <pubDate>Sat, 01 Jul 2023 23:02:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.washingtonpost.com/technology/2023/06/30/fake-reviews-online-ftc/">https://www.washingtonpost.com/technology/2023/06/30/fake-reviews-online-ftc/</a>, See on <a href="https://news.ycombinator.com/item?id=36556228">Hacker News</a></p>
Couldn't get https://www.washingtonpost.com/technology/2023/06/30/fake-reviews-online-ftc/: Error [ERR_FR_TOO_MANY_REDIRECTS]: Maximum number of redirects exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[How I changed my D-Link camera to a locally managed IP camera (272 pts)]]></title>
            <link>https://github.com/bmork/defogger</link>
            <guid>36555507</guid>
            <pubDate>Sat, 01 Jul 2023 21:35:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/bmork/defogger">https://github.com/bmork/defogger</a>, See on <a href="https://news.ycombinator.com/item?id=36555507">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">D-Link DCS-8000LH</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/5244688931d03820c3c14ba9290d133b3cf658fa6c2306b730c3531018425f30/68747470733a2f2f65752e646c696e6b2e636f6d2f756b2f656e2f70726f64756374732f2d2f6d656469612f70726f647563742d70616765732f6463732f383030306c682f6463735f383030306c685f66726f6e742e706e67"><img src="https://camo.githubusercontent.com/5244688931d03820c3c14ba9290d133b3cf658fa6c2306b730c3531018425f30/68747470733a2f2f65752e646c696e6b2e636f6d2f756b2f656e2f70726f64756374732f2d2f6d656469612f70726f647563742d70616765732f6463732f383030306c682f6463735f383030306c685f66726f6e742e706e67" alt="D-Link DCS-8000LH" data-canonical-src="https://eu.dlink.com/uk/en/products/-/media/product-pages/dcs/8000lh/dcs_8000lh_front.png"></a></p>
<p dir="auto">These are random notes descibing how I changed my D-Link DCS-8000LH
from a cloud camera to a locally managed IP camera, streaming H.264
MPEG-TS over HTTP and HTTPS. Some of the tools and ideas might work
for other cameras too, given some model specific adaptation.</p>
<p dir="auto">Complete defogging requires modifying one of the file systems in the
camera.  This implies a slight risk of ending up with a brick. You
have now been warned...</p>
<p dir="auto">This is tested and developed on firmware versions v2.01.03 and
v2.02.02 only.  The final complete procedure has only been tested with
v2.02.02. It should work fine with v2.01.03 and other versions, in
theory, but could fail like anything untested.  Please let me know if
you have an original v2.01.03 firmware update from D-Link, or any
other version for that matter, or know where firmware updates can be
downloaded.</p>
<p dir="auto">The v2.02.02 update is available from
<a href="https://mydlinkmpfw.auto.mydlink.com/DCS-8000LH/DCS-8000LH_Ax_v2.02.02_3014.bin" rel="nofollow">https://mydlinkmpfw.auto.mydlink.com/DCS-8000LH/DCS-8000LH_Ax_v2.02.02_3014.bin</a>
at the time of writing. But I assume this link stops working as soon
as there is a newer version available.</p>
<h2 tabindex="-1" dir="auto">Changelog</h2>
<ul dir="auto">
<li>v0.01 (20190515) - initial published version</li>
<li>v0.02 (20190515) - added RTSP support and information</li>
</ul>
<h2 tabindex="-1" dir="auto">Problem</h2>
<p dir="auto">My D-Link DCS-8000LH came with firmware version 2.01.03 from factory.
This firmware is locked to the <a href="https://www.mydlink.com/" rel="nofollow"><strong>mydlink</strong></a>
app/cloud service.  It does not provide a local NIPCA compatible HTTP
API or similar, and it does not stream video over HTTP, HTTPS or RTSP.</p>
<p dir="auto">Additionally, there is no way to downgrade the firmware.  In fact,
there is no documented way to install any firmware image at all,
except trusting the "mydlink" cloud service to do it for you.</p>
<h2 tabindex="-1" dir="auto">Solution</h2>
<h4 tabindex="-1" dir="auto">Primary goals achieved:</h4>
<ul dir="auto">
<li>configuration of network and admin password via Bluetooth LE, without
registering with D-Link or using the <a href="https://www.mydlink.com/" rel="nofollow"><strong>mydlink</strong></a> app at all</li>
<li>streaming MPEG-TS directly from camera over HTTP and HTTPS</li>
<li>direct RTSP streaming</li>
<li>NIPCA API configuration over HTTP and HTTPS, supporting settings
like LED, nightmode, etc</li>
</ul>
<h4 tabindex="-1" dir="auto">And some extra goodies which came for free</h4>
<ul dir="auto">
<li>Firmware upgrades and downgrades via HTTP</li>
<li>telnet server with a root account (admin/PIN Code)</li>
<li>easy access to serial console, using the same root account</li>
<li>running arbitrary commands on the camera using Bluetooth</li>
</ul>
<p dir="auto">Read on for all the gory details...</p>
<h3 tabindex="-1" dir="auto">Requirements</h3>
<ul dir="auto">
<li>a Linux PC with a Bluetooth controller</li>
<li>python3 with @IanHarvey's
<a href="https://ianharvey.github.io/bluepy-doc/index.html" rel="nofollow"><strong>bluepy</strong></a>
library</li>
<li>WiFi network with WPA2-PSK and a known password</li>
<li>mksquashfs from the squashfs-tools package</li>
<li>a tftp server or web server accepting file uploads (for backups)</li>
<li>guts :-)</li>
</ul>
<p dir="auto">Most recent Linux distros will probably do. The bluepy library can be
installed using pip if it is not available as a distro package.  Other
types of WiFi networks might work, but has not been tested with the
provided tools.  The squashfs-tools are only necessary if you want to
rebuild the "mydlink" alternative file system.  I assume you can even
run the tools without installing Linux, by using a Linux "Live"
CD/DVD/USB stick.</p>
<p dir="auto">This was developed and tested on Debian Buster.</p>
<h3 tabindex="-1" dir="auto">Camera configuration using the Bluetooth LE GATT API</h3>
<p dir="auto">The "mydlink" app uses Bluetooth LE for camera setup, authenticated by
the camera pincode.  This repo includes an alternative python script
with a few extra goodies, but needing a better name:
<a href="https://github.com/bmork/defogger/blob/master/dcs8000lh-configure.py"><strong>dcs8000lh-configure.py</strong></a></p>
<p dir="auto">(Why not an Android app?  Because it would take me much more time to
write. Should be fairly easy to do though, for anyone with enough
interest.  You can find all the necessary protocol details here and in
the python code. Please let me know if you are interested)</p>
<p dir="auto">The script does not support scanning for the simple reason that this
would require root access for not real gain.  You have to provide the
<strong>PIN Code</strong> from the camera label
anyway.  Reading the <strong>MAC ID</strong> as well is simple enough
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3d60e9ce4d86b619250f09dee7ca094f922067b9702df75c6b40694343c5fbf2/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d6c6162656c2e6a7067"><img src="https://camo.githubusercontent.com/3d60e9ce4d86b619250f09dee7ca094f922067b9702df75c6b40694343c5fbf2/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d6c6162656c2e6a7067" alt="camera label" data-canonical-src="https://www.mork.no/~bjorn/dcs8000lh/dcs8000lh-label.jpg"></a></p>
<p dir="auto">The <strong>PIN Code</strong> and <strong>MAC</strong> is also printed on the code card that
came with the camera:
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/6e7195feb91e23ff11aee043c48383df3a93295c753d4fd0718d36f31f18ab94/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d636f64652d636172642e6a7067"><img src="https://camo.githubusercontent.com/6e7195feb91e23ff11aee043c48383df3a93295c753d4fd0718d36f31f18ab94/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d636f64652d636172642e6a7067" alt="code card" data-canonical-src="https://www.mork.no/~bjorn/dcs8000lh/dcs8000lh-code-card.jpg"></a></p>
<p dir="auto">Note that the command line <strong>address</strong> paramenter must be formatted as
<strong>01:23:45:67:89:AB</strong> instead of the <strong>0123456789AB</strong> format printed
on the label.</p>
<p dir="auto">Current script help text at the time of writing shows what the script
can do:</p>
<div data-snippet-clipboard-copy-content="$ ./dcs8000lh-configure.py -h
usage: dcs8000lh-configure.py [-h] [--essid ESSID] [--wifipw WIFIPW]
                              [--survey] [--netconf] [--sysinfo]
                              [--command COMMAND] [--telnetd] [--lighttpd]
                              [--rtsp] [--unsignedfw] [--attrs] [-V]
                              address pincode

IPCam Bluetooth configuration tool.

positional arguments:
  address            IPCam Bluetooth MAC address (01:23:45:67:89:AB)
  pincode            IPCam PIN Code (6 digits)

optional arguments:
  -h, --help         show this help message and exit
  --essid ESSID      Connect to this WiFi network
  --wifipw WIFIPW    Password for ESSID
  --survey           List WiFi networks seen by the IPCam
  --netconf          Print current network configuration
  --sysinfo          Dump system configuration
  --command COMMAND  Run command on IPCam
  --telnetd          Start telnet server on IPCam
  --lighttpd         Start web server on IPCam
  --rtsp             Enable access to RTSP server on IPCam
  --unsignedfw       Allow unsigned firmware
  --attrs            Dump IPCam GATT characteristics
  -V, --version      show program's version number and exit"><pre><code>$ ./dcs8000lh-configure.py -h
usage: dcs8000lh-configure.py [-h] [--essid ESSID] [--wifipw WIFIPW]
                              [--survey] [--netconf] [--sysinfo]
                              [--command COMMAND] [--telnetd] [--lighttpd]
                              [--rtsp] [--unsignedfw] [--attrs] [-V]
                              address pincode

IPCam Bluetooth configuration tool.

positional arguments:
  address            IPCam Bluetooth MAC address (01:23:45:67:89:AB)
  pincode            IPCam PIN Code (6 digits)

optional arguments:
  -h, --help         show this help message and exit
  --essid ESSID      Connect to this WiFi network
  --wifipw WIFIPW    Password for ESSID
  --survey           List WiFi networks seen by the IPCam
  --netconf          Print current network configuration
  --sysinfo          Dump system configuration
  --command COMMAND  Run command on IPCam
  --telnetd          Start telnet server on IPCam
  --lighttpd         Start web server on IPCam
  --rtsp             Enable access to RTSP server on IPCam
  --unsignedfw       Allow unsigned firmware
  --attrs            Dump IPCam GATT characteristics
  -V, --version      show program's version number and exit
</code></pre></div>
<h4 tabindex="-1" dir="auto">Real session excample after a clean upgrade to firmware v2.02.02, followed by factory reset</h4>
<ol dir="auto">
<li>Start by making sure the camera can see our WiFi network.  This
also verifies that we can connect and authenticate against the
Bluetooth LE IPCam service, without making any changes to any
camera settings:</li>
</ol>
<div data-snippet-clipboard-copy-content="$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --survey
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
DCS-8000LH-BBCC is scanning for WiFi networks...
{'I': 'AirLink126FD4', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '47'}
{'I': 'Antiboks', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '73'}
{'I': 'ASV17', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '47'}
{'I': 'ASV17-dlink', 'M': '0', 'C': '6', 'S': '4', 'E': '2', 'P': '57'}
{'I': 'DIRECT-33-HP%20ENVY%205000%20series', 'M': '0', 'C': '1', 'S': '4', 'E': '2', 'P': '46'}
{'I': 'fjorde123', 'M': '0', 'C': '1', 'S': '4', 'E': '2', 'P': '55'}
{'I': 'JOJ', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '48'}
{'I': 'Kjellerbod', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '75'}
{'I': 'Landskap_24', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '46'}
{'I': 'mgmt', 'M': '0', 'C': '1', 'S': '4', 'E': '2', 'P': '72'}
{'I': 'Rindedal', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '68'}
{'I': 'risikovirus', 'M': '0', 'C': '1', 'S': '4', 'E': '2', 'P': '45'}
{'I': 'risikovirus%20WIFI', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '45'}
{'I': 'Stavik2014', 'M': '0', 'C': '6', 'S': '4', 'E': '2', 'P': '47'}
{'I': 'TomterNett1', 'M': '0', 'C': '6', 'S': '4', 'E': '2', 'P': '44'}
{'I': 'VIF', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '47'}
Done."><pre><code>$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --survey
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
DCS-8000LH-BBCC is scanning for WiFi networks...
{'I': 'AirLink126FD4', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '47'}
{'I': 'Antiboks', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '73'}
{'I': 'ASV17', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '47'}
{'I': 'ASV17-dlink', 'M': '0', 'C': '6', 'S': '4', 'E': '2', 'P': '57'}
{'I': 'DIRECT-33-HP%20ENVY%205000%20series', 'M': '0', 'C': '1', 'S': '4', 'E': '2', 'P': '46'}
{'I': 'fjorde123', 'M': '0', 'C': '1', 'S': '4', 'E': '2', 'P': '55'}
{'I': 'JOJ', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '48'}
{'I': 'Kjellerbod', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '75'}
{'I': 'Landskap_24', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '46'}
{'I': 'mgmt', 'M': '0', 'C': '1', 'S': '4', 'E': '2', 'P': '72'}
{'I': 'Rindedal', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '68'}
{'I': 'risikovirus', 'M': '0', 'C': '1', 'S': '4', 'E': '2', 'P': '45'}
{'I': 'risikovirus%20WIFI', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '45'}
{'I': 'Stavik2014', 'M': '0', 'C': '6', 'S': '4', 'E': '2', 'P': '47'}
{'I': 'TomterNett1', 'M': '0', 'C': '6', 'S': '4', 'E': '2', 'P': '44'}
{'I': 'VIF', 'M': '0', 'C': '11', 'S': '4', 'E': '2', 'P': '47'}
Done.
</code></pre></div>
<ol start="2" dir="auto">
<li>We're going to use the 'Kjellerbod' network, so that looks good.
Select it and give the associated WiFi password to the camera:</li>
</ol>
<div data-snippet-clipboard-copy-content="$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --essid Kjellerbod --wifipw redacted
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
DCS-8000LH-BBCC is scanning for WiFi networks...
Will configure: M=0;I=Kjellerbod;S=4;E=2;K=redacted
Done."><pre><code>$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --essid Kjellerbod --wifipw redacted
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
DCS-8000LH-BBCC is scanning for WiFi networks...
Will configure: M=0;I=Kjellerbod;S=4;E=2;K=redacted
Done.
</code></pre></div>
<ol start="3" dir="auto">
<li>Verify that the camera connected to the Wifi network and got an
address.  If not, go back and try again, making sure you are using
the correct WiFi password:</li>
</ol>
<div data-snippet-clipboard-copy-content="$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --netconf
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
wifi link is Up
wifi config: {'M': '0', 'I': 'Kjellerbod', 'S': '4', 'E': '2'}
ip config: {'I': '192.168.2.37', 'N': '255.255.255.0', 'G': '192.168.2.1', 'D': '148.122.16.253'}
Done."><pre><code>$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --netconf
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
wifi link is Up
wifi config: {'M': '0', 'I': 'Kjellerbod', 'S': '4', 'E': '2'}
ip config: {'I': '192.168.2.37', 'N': '255.255.255.0', 'G': '192.168.2.1', 'D': '148.122.16.253'}
Done.
</code></pre></div>
<p dir="auto"><strong>WARNING</strong>: You must make a backup of your device at this point if
you haven't done so already.  See the <a href="#Backup"><strong>Backup</strong></a> section
below.  I only skipped it in this example because I already had a
complete backup of my camera.</p>
<ol start="4" dir="auto">
<li>We need HTTP NIPCA API for the remaining tasks, so temporarily
start lighttpd on the camera:</li>
</ol>
<div data-snippet-clipboard-copy-content="$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --lighttpd
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
Attempting to run '[ $(tdb get HTTPServer Enable_byte) -eq 1 ] || tdb set HTTPServer Enable_byte=1' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Attempting to run '/etc/rc.d/init.d/extra_lighttpd.sh start' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Done."><pre><code>$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --lighttpd
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
Attempting to run '[ $(tdb get HTTPServer Enable_byte) -eq 1 ] || tdb set HTTPServer Enable_byte=1' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Attempting to run '/etc/rc.d/init.d/extra_lighttpd.sh start' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Done.
</code></pre></div>
<p dir="auto">Note that this implicitly changes a couple of settings which are
stored in the <a href="#Partitions">"db"</a> NVRAM partition, and therefore will persist until
the next factory reset:</p>
<ul dir="auto">
<li>extra_lighttpd.sh will exit without doing anything unless
<strong>HTTPServer Enable</strong> is set</li>
<li>the admin password is set both because we're abusing that BLE
request, and because we need it for the HTTP API access.  The
script only supports setting the password to the <strong>PIN Code</strong>.</li>
</ul>
<p dir="auto"><em>This password restriction is because I'm lazy - there is nothing in
the camera or protocol preventing the password from being set to
something else. But the script would then need the new password as
an additional input parameter for most commands</em></p>
<ol start="5" dir="auto">
<li>Disable firmware signature verification. Only firmwares signed by
D-Link are accepted by default. This feature can be disabled by
changing a variable in the <a href="#Partitions">"db"</a> NVRAM partition:</li>
</ol>
<div data-snippet-clipboard-copy-content="$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456  --unsignedfw 
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
Attempting to run 'tdb set SecureFW _TrustLevel_byte=0' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Done."><pre><code>$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456  --unsignedfw 
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
Attempting to run 'tdb set SecureFW _TrustLevel_byte=0' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Done.
</code></pre></div>
<ol start="6" dir="auto">
<li>The final step is the dangerous one.  It replaces the file system
on the <a href="#Partitions"><strong>userdata</strong></a> partition with our home cooked one.  The D-Link
firmware uses this partition exclusively for the "mydlink" cloud
tools, which we don't need.  The rest of the system is not touched
by our firmware update.  The camera will therefore run exactly the
same kernel and rootfs as before the update, whatever version they
were.  I.e., the firmware version does not change - only the
"mydlink" version.</li>
</ol>
<p dir="auto"><strong>NOTE</strong>; You need to <a href="#BuildFirmware">build</a> a <strong>fw.tar</strong> firmware
update image first.</p>
<div data-snippet-clipboard-copy-content="$ curl --http1.0 -u admin:123456 --form upload=@fw.tar http://192.168.2.37/config/firmwareupgrade.cgi
upgrade=ok"><pre><code>$ curl --http1.0 -u admin:123456 --form upload=@fw.tar http://192.168.2.37/config/firmwareupgrade.cgi
upgrade=ok
</code></pre></div>
<p dir="auto">See the section on <a href="#Errors">error handling</a> if the upgrade request
returned anything else.</p>
<p dir="auto">The camera will reboot automatically at this point, assuming the
update was successful.  From now both with telnetd and lighttpd
running, and with external access to the RTSP server. All services
will use the same <strong>admin:PIN Code</strong> account for authentication.</p>
<p dir="auto">So we now have access to direct <a href="#Streaming">streaming</a> over HTTP,
HTTPS and RTSP without ever having been in contact with the
<a href="https://www.mydlink.com/" rel="nofollow"><strong>mydlink</strong></a> service!</p>
<h3 tabindex="-1" dir="auto"><a name="user-content-Streaming"></a>Streaming video locally</h3>
<p dir="auto">Which was the whole point of all this... We can now stream directly
from the camera using for example:</p>
<h4 tabindex="-1" dir="auto">HTTP or HTTPS</h4>
<div data-snippet-clipboard-copy-content="vlc https://192.168.2.37/video/mpegts.cgi
vlc https://192.168.2.37/video/flv.cgi"><pre><code>vlc https://192.168.2.37/video/mpegts.cgi
vlc https://192.168.2.37/video/flv.cgi
</code></pre></div>
<p dir="auto">Authenticate using the <strong>admin</strong> user with <strong>PIN Code</strong> as password</p>
<p dir="auto">AFAICS, this camera does not support MJPEG encoding. But you can
always use ffmpeg to transcode the H.264 anyway.  Looking closer at a
stream sample:</p>
<div data-snippet-clipboard-copy-content="$ curl --insecure -u admin:123456 https://192.168.2.37/video/mpegts.cgi>/tmp/stream
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0 93.1G    0  438k    0     0  92872      0  12d 11h  0:00:04  12d 11h 92853^C

$ mediainfo /tmp/stream 
General
ID                                       : 1 (0x1)
Complete name                            : /tmp/stream
Format                                   : MPEG-TS
File size                                : 500 KiB
Duration                                 : 5 s 433 ms
Overall bit rate mode                    : Variable
Overall bit rate                         : 752 kb/s

Video
ID                                       : 257 (0x101)
Menu ID                                  : 1 (0x1)
Format                                   : AVC
Format/Info                              : Advanced Video Codec
Format profile                           : High@L4
Format settings, CABAC                   : Yes
Format settings, ReFrames                : 1 frame
Format settings, GOP                     : M=1, N=30
Codec ID                                 : 27
Duration                                 : 5 s 450 ms
Width                                    : 1 280 pixels
Height                                   : 720 pixels
Display aspect ratio                     : 16:9
Frame rate mode                          : Variable
Color space                              : YUV
Chroma subsampling                       : 4:2:0
Bit depth                                : 8 bits
Scan type                                : Progressive

Audio
ID                                       : 256 (0x100)
Menu ID                                  : 1 (0x1)
Format                                   : AAC
Format/Info                              : Advanced Audio Codec
Format version                           : Version 2
Format profile                           : LC
Muxing mode                              : ADTS
Codec ID                                 : 15
Duration                                 : 3 s 456 ms
Bit rate mode                            : Variable
Channel(s)                               : 1 channel
Channel positions                        : Front: C
Sampling rate                            : 16.0 kHz
Frame rate                               : 15.625 FPS (1024 spf)
Compression mode                         : Lossy"><pre><code>$ curl --insecure -u admin:123456 https://192.168.2.37/video/mpegts.cgi&gt;/tmp/stream
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0 93.1G    0  438k    0     0  92872      0  12d 11h  0:00:04  12d 11h 92853^C

$ mediainfo /tmp/stream 
General
ID                                       : 1 (0x1)
Complete name                            : /tmp/stream
Format                                   : MPEG-TS
File size                                : 500 KiB
Duration                                 : 5 s 433 ms
Overall bit rate mode                    : Variable
Overall bit rate                         : 752 kb/s

Video
ID                                       : 257 (0x101)
Menu ID                                  : 1 (0x1)
Format                                   : AVC
Format/Info                              : Advanced Video Codec
Format profile                           : High@L4
Format settings, CABAC                   : Yes
Format settings, ReFrames                : 1 frame
Format settings, GOP                     : M=1, N=30
Codec ID                                 : 27
Duration                                 : 5 s 450 ms
Width                                    : 1 280 pixels
Height                                   : 720 pixels
Display aspect ratio                     : 16:9
Frame rate mode                          : Variable
Color space                              : YUV
Chroma subsampling                       : 4:2:0
Bit depth                                : 8 bits
Scan type                                : Progressive

Audio
ID                                       : 256 (0x100)
Menu ID                                  : 1 (0x1)
Format                                   : AAC
Format/Info                              : Advanced Audio Codec
Format version                           : Version 2
Format profile                           : LC
Muxing mode                              : ADTS
Codec ID                                 : 15
Duration                                 : 3 s 456 ms
Bit rate mode                            : Variable
Channel(s)                               : 1 channel
Channel positions                        : Front: C
Sampling rate                            : 16.0 kHz
Frame rate                               : 15.625 FPS (1024 spf)
Compression mode                         : Lossy
</code></pre></div>
<h4 tabindex="-1" dir="auto">RTSP</h4>
<p dir="auto">Direct RTSP access is also supported, using the same <strong>admin</strong> user.</p>
<p dir="auto">The RTSP URLs are configurable, so the proper way to use RTSP is to
first check the URL of the wanted profile using the NIPCA API:</p>
<div data-snippet-clipboard-copy-content="$ curl -u admin:123456 --insecure 'https://192.168.2.37/config/rtspurl.cgi?profileid=1'
profileid=1
urlentry=live/profile.0
video_codec=H264
audio_codec=OPUS"><pre><code>$ curl -u admin:123456 --insecure 'https://192.168.2.37/config/rtspurl.cgi?profileid=1'
profileid=1
urlentry=live/profile.0
video_codec=H264
audio_codec=OPUS
</code></pre></div>
<p dir="auto">and then connect to this RTSP URL:</p>
<div data-snippet-clipboard-copy-content="$ vlc rtsp://192.168.2.37/live/profile.0"><pre><code>$ vlc rtsp://192.168.2.37/live/profile.0
</code></pre></div>
<p dir="auto">Note that persistent RTSP access can be enabled with original
unmodified D-Link firmware, using the Bluetooth <strong>--rtsp</strong> option.
This modifies the necessary settings.  The <strong>rtspd</strong> service is
already started by default in the original firmware.</p>
<p dir="auto">So there is no need to mess with the firmware at all if all you want
is RTSP.</p>
<h4 tabindex="-1" dir="auto"><a name="user-content-Errors"></a>Errors during firmware update via HTTP</h4>
<p dir="auto">The <strong>firmwareupgrade.cgi</strong> script running in the camera isn't much
smarter than the rest of the system, so there are a few important
things keep in mind.  These are found by trial-and-error:</p>
<ul dir="auto">
<li>HTTP/1.1 might not work - the firmwareupgrade.cgi script does not support <strong>100 Continue</strong> AFAICS</li>
<li>The firmware update image should be provided as a <strong>file</strong> input field from a form</li>
<li>The field name must be <strong>upload</strong>.</li>
</ul>
<p dir="auto">Use the exact curl command provided above, replacing only the PIN
Code, IP address and firmware filename.  This should work.  Anything
else might not.</p>
<p dir="auto">The camera must be manually rebooted by removing power or pressing
reset if the firmware upgrade fails for any reason. The
<strong>firmwareupgrade.cgi</strong> script stops most processes, inluding the
Bluetooth handler, and fails to restart them on errors.</p>
<p dir="auto">There will be no permanent harm if the upload fails.  But note that
you have to repeat the <strong>--lighttpd</strong> step after rebooting the camera,
before you can retry. It does not start automatically until we've
installed our modified "mydlink" alternative.</p>
<p dir="auto">The contents of the fw.tar file must obviously be a valid, encrypted,
firmware update intended for the specified hardware.  It must also be
signed.  But the signing key can be unknown to the camera provided the
previous <strong>--unsignedfw</strong> request above was successful.</p>
<p dir="auto">The <a href="https://github.com/bmork/defogger/blob/master/Makefile"><strong>Makefile</strong></a> provided here shows how to <a href="#BuildFirmware">build</a> a valid firmware
update, but for the DCS-8000LH only!  It does not support any other
model. It will create a new throwaway signing key if it canæt find a
real one, and include the associated public key in the archive in case
you want to verify the signature manually.</p>
<p dir="auto">Note that the encryption key might be model specific.  I do not know
this as I have no other model to look at.  Please let me know if you
have any information on this topic.</p>
<p dir="auto">The encryption key is part ot the <a href="#Partitions"><strong>pib</strong></a> partition, and can be
read from a shell using</p>

<p dir="auto">Or you can simply look at your partition backup.  The key is stored as
a plain text <em>RSA PRIVATE KEY</em> PEM blob, so it is easy to spot. This
repo includes a copy of my <a href="https://github.com/bmork/defogger/blob/master/keys/DCS-8000LH-PriKey.pem">key</a> as I see
no point in attempting to keep a well known shared key like this one
"secret"</p>
<h3 tabindex="-1" dir="auto"><a name="user-content-Backup"></a>Backup</h3>
<p dir="auto">Create a backup of everything <em>before</em> you mess up.  Restoring will be
hard anyway, so don't rely on that.  But you can forget about
restoring at all unless you have a backup, so make it anyway.</p>
<p dir="auto">Note that the <a href="#Partitions"><strong>pib</strong></a> partition contains data which are
specific to <strong>your</strong> camera, and cannot be restored from any other
source!  This includes</p>
<ul dir="auto">
<li>model number</li>
<li>hardware revision</li>
<li>mac address</li>
<li>feature bits</li>
<li>private keys, pincode and passwords</li>
</ul>
<p dir="auto">Well, OK, we can restore most of the <a href="#Partitions"><strong>pib</strong></a>  using information from
the <a href="https://www.mork.no/~bjorn/dcs8000lh/dcs8000lh-label.jpg" rel="nofollow">camera label</a>, but
it's better to avoid having to do that...</p>
<p dir="auto">A backup is also useful for analyzing the file systems offline.</p>
<p dir="auto">Making a backup without networking is inconvenient, so setup
networking first. In theory, you could dump the flash to the serial
console. But this would be very time consuming and tiresome.</p>
<p dir="auto">The D-Link firmware provides a selection of network file transfer
tools. Pick anyone you like:</p>
<ul dir="auto">
<li>tftp</li>
<li>wget</li>
<li>curl</li>
<li>...and probably more</li>
</ul>
<p dir="auto">I've been using tftp for my backups because it is simple. You'll
obviously need a tftp server for this. Google for instructions on
setting that up.  You could alternatively set up a web server and use
wget or curl to post the files there, but this is more complx to set
up IMHO.</p>
<p dir="auto">Here is one example of how to enable temporary telnet access and
copying all camera flash partitions to a tftp server:</p>
<div data-snippet-clipboard-copy-content="$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --telnetd
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
Adding the 'admin' user as an alias for 'root'
Attempting to run 'grep -Eq ^admin: /etc/passwd||echo admin:x:0:0::/:/bin/sh >>/etc/passwd' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Setting the 'admin' user password to '123456'
Attempting to run 'grep -Eq ^admin:x: /etc/passwd&amp;&amp;echo admin:123456|chpasswd' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Starting telnetd
Attempting to run 'pidof telnetd||telnetd' on DCS-8000LH-BBCC by abusing the 'set admin password' request
 

Attempting to run '[ $(tdb get HTTPServer Enable_byte) -eq 1 ] || tdb set HTTPServer Enable_byte=1' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Attempting to run '/etc/rc.d/init.d/extra_lighttpd.sh start' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Done.


$ telnet 192.168.2.37
Trying 192.168.2.37...
Connected to 192.168.2.37.
Escape character is '^]'.
localhost login: admin
Password: 


BusyBox v1.22.1 (2019-02-14 17:06:35 CST) built-in shell (ash)
Enter 'help' for a list of built-in commands.


# for i in 0 1 2 3 4 5 6 7 8; do tftp -l /dev/mtd${i}ro -r mtd$i -p 192.168.2.1; done`"><pre><code>$ ./dcs8000lh-configure.py B0:C5:54:AA:BB:CC 123456 --telnetd
Connecting to B0:C5:54:AA:BB:CC...
Verifying IPCam service
Connected to 'DCS-8000LH-BBCC'
Adding the 'admin' user as an alias for 'root'
Attempting to run 'grep -Eq ^admin: /etc/passwd||echo admin:x:0:0::/:/bin/sh &gt;&gt;/etc/passwd' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Setting the 'admin' user password to '123456'
Attempting to run 'grep -Eq ^admin:x: /etc/passwd&amp;&amp;echo admin:123456|chpasswd' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Starting telnetd
Attempting to run 'pidof telnetd||telnetd' on DCS-8000LH-BBCC by abusing the 'set admin password' request
 

Attempting to run '[ $(tdb get HTTPServer Enable_byte) -eq 1 ] || tdb set HTTPServer Enable_byte=1' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Attempting to run '/etc/rc.d/init.d/extra_lighttpd.sh start' on DCS-8000LH-BBCC by abusing the 'set admin password' request
Done.


$ telnet 192.168.2.37
Trying 192.168.2.37...
Connected to 192.168.2.37.
Escape character is '^]'.
localhost login: admin
Password: 


BusyBox v1.22.1 (2019-02-14 17:06:35 CST) built-in shell (ash)
Enter 'help' for a list of built-in commands.


# for i in 0 1 2 3 4 5 6 7 8; do tftp -l /dev/mtd${i}ro -r mtd$i -p 192.168.2.1; done`
</code></pre></div>
<p dir="auto">Change 192.168.2.37 to the address of your camera and 192.168.2.1 to
the address of your tftp server. Note that most tftp servers require
existing and writable destination files. Refer to your tftp server docs
for details.</p>
<h2 tabindex="-1" dir="auto">All the gory details</h2>
<h3 tabindex="-1" dir="auto">Restoring original D-Link firmware</h3>
<p dir="auto">The D-Link firmware, including the mydlink tools in the
<a href="#Partitions"><strong>userdata</strong></a> partition, can be restored by doing a
manual firmware upgrade providing a firmware update from D-Link.  Real
example, going back to v2.02.02:</p>
<div data-snippet-clipboard-copy-content="$ curl --http1.0 -u admin:123456 --form upload=@DCS-8000LH_Ax_v2.02.02_3014.bin http://192.168.2.37/config/firmwareupgrade.cgi
curl: (52) Empty reply from server"><pre><code>$ curl --http1.0 -u admin:123456 --form upload=@DCS-8000LH_Ax_v2.02.02_3014.bin http://192.168.2.37/config/firmwareupgrade.cgi
curl: (52) Empty reply from server
</code></pre></div>
<p dir="auto">I don't know why I got that <strong>Empty reply</strong> warning instead of the
expected <strong>upgrade=ok</strong>, but update went fine so I guess it can safely
be ignored. Might be a side effect of rewriting the root file system,
which the firmwareupgrade.cgi script is running from.</p>
<h3 tabindex="-1" dir="auto">Serial console</h3>
<p dir="auto">Useful for fw greater than v2.02.02. The serial console is used to temporally
enable the webservice of the camera. Then, the fw can be downloaded using defogging procedure
and further flash the custom fw.tar firmware.</p>
<p dir="auto">There is a 4 hole female header with 2 mm spacing in the bottom of the
camera. This header is easily accessible without opening the case at
all. But you will need to remove the bottom label to find it:
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b4e18c41addca19b895a207850e8018ed1c8c33be1f2e032f8d883133560f7d1/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d6c6162656c2d72656d6f7665642e6a7067"><img src="https://camo.githubusercontent.com/b4e18c41addca19b895a207850e8018ed1c8c33be1f2e032f8d883133560f7d1/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d6c6162656c2d72656d6f7665642e6a7067" alt="label removed" data-canonical-src="https://www.mork.no/~bjorn/dcs8000lh/dcs8000lh-label-removed.jpg"></a></p>
<p dir="auto">Take a picure of the lable or save the information somewhere else
first, in case you make the it unreadable in the process.</p>
<p dir="auto">Mate with a 3 (or 4) pin male 2 mm connector, or use sufficiently
solid wires.  The pins need to be 6-10 mm long.  The pins will mess up the QR code, but the rest of the label can be left intact if you're careful:
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/754a1734b411c0cc154dccb0cdc32205ad14787834c2364d25ee1afdb034798c/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d6c6162656c2d776974682d73657269616c2d70696e732e6a7067"><img src="https://camo.githubusercontent.com/754a1734b411c0cc154dccb0cdc32205ad14787834c2364d25ee1afdb034798c/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d6c6162656c2d776974682d73657269616c2d70696e732e6a7067" alt="header with pins" data-canonical-src="https://www.mork.no/~bjorn/dcs8000lh/dcs8000lh-label-with-serial-pins.jpg"></a></p>
<p dir="auto">The pinout seen from egde to center of camera  is:</p>
<table>
<thead>
<tr>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
</tr>
</thead>
<tbody>
<tr>
<td>3.3V</td>
<td>TX</td>
<td>RX</td>
<td>GND</td>
</tr>
</tbody>
</table>
<p dir="auto">and the serial port parameters are 57600 8N1.</p>
<p dir="auto">You obviously need a 3.3V TTL adapter for this, Look at for example
at the generic OpenWrt console instructions if you need guidance.
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3a21813ffb894a078773408e4bc0a5e918a159d8b733b07e9037f4a14f8506d3/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d73657269616c2d636f6e6e65637465642e6a7067"><img src="https://camo.githubusercontent.com/3a21813ffb894a078773408e4bc0a5e918a159d8b733b07e9037f4a14f8506d3/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d73657269616c2d636f6e6e65637465642e6a7067" alt="USB ttl adapter connected" data-canonical-src="https://www.mork.no/~bjorn/dcs8000lh/dcs8000lh-serial-connected.jpg"></a></p>
<p dir="auto">Do not connect the 3.3V pin.  All USB TTL adapters are powered by the
USB bus.</p>
<h3 tabindex="-1" dir="auto">Opening the case</h3>
<p dir="auto">Remove the top and bottom parts of the sylinder.  I assume the two
remaning halves of the sylinder are simple held together by clips, but
I did not verify this after discovering the easily accessible console
header.</p>
<p dir="auto">The top lid is clipped on:
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/cbe28bf86a3750c73fe4344e9fa1dcf4bc4b96fc74601d864f7d6631b00499b3/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d746f702d6c69642e6a7067"><img src="https://camo.githubusercontent.com/cbe28bf86a3750c73fe4344e9fa1dcf4bc4b96fc74601d864f7d6631b00499b3/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d746f702d6c69642e6a7067" alt="top lid" data-canonical-src="https://www.mork.no/~bjorn/dcs8000lh/dcs8000lh-top-lid.jpg"></a></p>
<p dir="auto">The bottom cover is held in place by two screws under the label:
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b4e18c41addca19b895a207850e8018ed1c8c33be1f2e032f8d883133560f7d1/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d6c6162656c2d72656d6f7665642e6a7067"><img src="https://camo.githubusercontent.com/b4e18c41addca19b895a207850e8018ed1c8c33be1f2e032f8d883133560f7d1/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d6c6162656c2d72656d6f7665642e6a7067" alt="bottom cover" data-canonical-src="https://www.mork.no/~bjorn/dcs8000lh/dcs8000lh-label-removed.jpg"></a></p>
<p dir="auto">Removing the bottom cover reveals the reset button and the console header:
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/d75ff10cb9ce671f921c6f4acaa7991c1eb3e328528e15ca5af04e3ca252f495/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d626f74746f6d2d776974686f75742d636f7665722e6a7067"><img src="https://camo.githubusercontent.com/d75ff10cb9ce671f921c6f4acaa7991c1eb3e328528e15ca5af04e3ca252f495/68747470733a2f2f7777772e6d6f726b2e6e6f2f7e626a6f726e2f646373383030306c682f646373383030306c682d626f74746f6d2d776974686f75742d636f7665722e6a7067" alt="bottom removed" data-canonical-src="https://www.mork.no/~bjorn/dcs8000lh/dcs8000lh-bottom-without-cover.jpg"></a></p>
<h3 tabindex="-1" dir="auto">U-Boot</h3>
<p dir="auto">My DCS-8000LH came with this boot loader:</p>
<p dir="auto"><code>U-Boot 2014.01-rc2-V1.1 (Jun 06 2018 - 03:44:37)</code></p>
<p dir="auto">But it is patched/configured to require a password for access to the
U-Boot prompt. Fortunately, D-Link makes the password readily
available in their GPL package :-) It is found in the file
<code>DCS-8000LH-GPL/configs/gpl_defconfig</code>:</p>
<p dir="auto"><code>ALPHA_FEATURES_UBOOT_LOGIN_PASSWORD="alpha168"</code></p>
<p dir="auto">Enter <strong>alpha168</strong> password when you see</p>
<p dir="auto"><code>Press ESC to abort autoboot in 3 seconds</code></p>
<p dir="auto">and you'll get a <code>rlxboot#</code> prompt, with access to these U-Boot commands :</p>
<div data-snippet-clipboard-copy-content="rlxboot# ?
?       - alias for 'help'
base    - print or set address offset
bootm   - boot application image from memory
bootp   - boot image via network using BOOTP/TFTP protocol
cmp     - memory compare
coninfo - print console devices and information
cp      - memory copy
crc32   - checksum calculation
echo    - echo args to console
editenv - edit environment variable
efuse   - efuse readall | read addr
env     - environment handling commands
fephy   - fephy read/write
go      - start application at address 'addr'
help    - print command description/usage
imxtract- extract a part of a multi-image
loadb   - load binary file over serial line (kermit mode)
loadx   - load binary file over serial line (xmodem mode)
loady   - load binary file over serial line (ymodem mode)
loop    - infinite loop on address range
md      - memory display
mm      - memory modify (auto-incrementing address)
mw      - memory write (fill)
nm      - memory modify (constant address)
ping    - send ICMP ECHO_REQUEST to network host
printenv- print environment variables
reset   - Perform RESET of the CPU
setenv  - set environment variables
setethaddr- set eth address
setipaddr- set ip address
sf      - SPI flash sub-system
source  - run script from memory
tftpboot- boot image via network using TFTP protocol
tftpput - TFTP put command, for uploading files to a server
tftpsrv - act as a TFTP server and boot the first received file
update  - update image
version - print monitor, compiler and linker version"><pre><code>rlxboot# ?
?       - alias for 'help'
base    - print or set address offset
bootm   - boot application image from memory
bootp   - boot image via network using BOOTP/TFTP protocol
cmp     - memory compare
coninfo - print console devices and information
cp      - memory copy
crc32   - checksum calculation
echo    - echo args to console
editenv - edit environment variable
efuse   - efuse readall | read addr
env     - environment handling commands
fephy   - fephy read/write
go      - start application at address 'addr'
help    - print command description/usage
imxtract- extract a part of a multi-image
loadb   - load binary file over serial line (kermit mode)
loadx   - load binary file over serial line (xmodem mode)
loady   - load binary file over serial line (ymodem mode)
loop    - infinite loop on address range
md      - memory display
mm      - memory modify (auto-incrementing address)
mw      - memory write (fill)
nm      - memory modify (constant address)
ping    - send ICMP ECHO_REQUEST to network host
printenv- print environment variables
reset   - Perform RESET of the CPU
setenv  - set environment variables
setethaddr- set eth address
setipaddr- set ip address
sf      - SPI flash sub-system
source  - run script from memory
tftpboot- boot image via network using TFTP protocol
tftpput - TFTP put command, for uploading files to a server
tftpsrv - act as a TFTP server and boot the first received file
update  - update image
version - print monitor, compiler and linker version
</code></pre></div>
<p dir="auto">Using the boot loader for image manipulation will be hard though,
since the camera has no ethernet, USB or removable flash and the boot
loader has no WiFi driver.  It is probably possible to load an image
over serial, but I don't have the patience for that...</p>
<p dir="auto">The environment is fixed and pretty clean:</p>
<div data-snippet-clipboard-copy-content="rlxboot# printenv
=3
addmisc=setenv bootargs ${bootargs}console=ttyS0,${baudrate}panic=1
baudrate=57600
bootaddr=(0xBC000000 + 0x1e0000)
bootargs=console=ttyS1,57600 root=/dev/mtdblock8 rts_hconf.hconf_mtd_idx=0 mtdparts=m25p80:256k(boot),128k(pib),1024k(userdata),128k(db),128k(log),128k(dbbackup),128k(logbackup),3072k(kernel),11264k(rootfs)
bootcmd=bootm 0xbc1e0000
bootfile=/vmlinux.img
ethact=r8168#0
ethaddr=00:00:00:00:00:00
load=tftp 80500000 ${u-boot}
loadaddr=0x82000000
stderr=serial
stdin=serial
stdout=serial

Environment size: 533/131068 bytes"><pre><code>rlxboot# printenv
=3
addmisc=setenv bootargs ${bootargs}console=ttyS0,${baudrate}panic=1
baudrate=57600
bootaddr=(0xBC000000 + 0x1e0000)
bootargs=console=ttyS1,57600 root=/dev/mtdblock8 rts_hconf.hconf_mtd_idx=0 mtdparts=m25p80:256k(boot),128k(pib),1024k(userdata),128k(db),128k(log),128k(dbbackup),128k(logbackup),3072k(kernel),11264k(rootfs)
bootcmd=bootm 0xbc1e0000
bootfile=/vmlinux.img
ethact=r8168#0
ethaddr=00:00:00:00:00:00
load=tftp 80500000 ${u-boot}
loadaddr=0x82000000
stderr=serial
stdin=serial
stdout=serial

Environment size: 533/131068 bytes
</code></pre></div>
<p dir="auto">So we can get ourselves a root shell:</p>
<div data-snippet-clipboard-copy-content="rlxboot# setenv bootargs ${bootargs} init=/bin/sh
rlxboot# ${bootcmd}"><pre><code>rlxboot# setenv bootargs ${bootargs} init=/bin/sh
rlxboot# ${bootcmd}
</code></pre></div>
<p dir="auto">Nothing is mounted or started since /sbin/init is skipped altogether
in this case.  Not even /sys and /proc.  We can emulate a semi-normal
system by running</p>
<p dir="auto"><code>/etc/rc.d/rcS</code></p>
<p dir="auto">as the first command.  And then run for example</p>
<p dir="auto"><code>telnetd -l /bin/sh</code></p>
<p dir="auto">to enable temporary passwordless telnet into the camera instead of/in
addition to the serial console. This is futile unless you have
networking of course.  Use the much simpler Bluetooth procedure described
above. Or the "mydlink" app if you prefer to establish a network connection
to your camera.</p>
<p dir="auto">Then run the following commands:</p>
<p dir="auto"><code>grep -Eq ^admin: /etc/passwd || echo admin:x:0:0::/:/bin/sh &gt;&gt;/etc/passwd</code></p>
<p dir="auto"><code>grep -Eq ^admin:x: /etc/passwd &amp;&amp; echo "admin:$(pibinfo Pincode)" | chpasswd</code></p>
<p dir="auto"><code>tdb set HTTPServer Enable_byte=1"</code></p>
<p dir="auto"><code>tdb set HTTPAccount AdminPasswd_ss="$(pibinfo Pincode)"</code></p>
<p dir="auto"><code>/etc/rc.d/init.d/extra_lighttpd.sh start</code></p>
<p dir="auto">on the local machine, run</p>
<p dir="auto"><code>$ curl --http1.0 -u admin:CAMPIN --form upload=@DCS-8000LH_Ax_v2.02.02_3014.bin http://CAM.IP/config/firmwareupgrade.cgi curl: (52) Empty reply from server</code></p>
<p dir="auto">this will downgrade the firmware to 2.02.02.</p>
<p dir="auto">Repeat the bluetooth hack or using serial to re-enable lighttpd server on your camera and run
the following command on your local machine.</p>
<p dir="auto"><code>$ curl --http1.0 -u admin:CAMPIN --form upload=@fw.tar http://CAM.IP/config/firmwareupgrade.cgi</code>
About 1 min later, the camera will reboot.
After the reboot process, you will have a cam with all the goodies mentioned above with fw 2.02.02.</p>
<h3 tabindex="-1" dir="auto">OEM boot log</h3>
<div data-snippet-clipboard-copy-content="U-Boot 2014.01-rc2-V1.1 (Jun 06 2018 - 03:44:37)

rx5281 prid=0xdc02
DRAM:  64 MiB @ 800 MHz
Skipping flash_init
Flash: 0 Bytes
flash status is 0, 2, 0
SF: Detected W25Q128FV with page size 256 Bytes, erase size 64 KiB, total 16 MiB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   Realtek PCIe GBE Family Controller mcfg = 0024
no hw config header
new_ethaddr = 00:00:00:00:00:00
r8168#0
no hw config header
Press ESC to abort autoboot in 3 seconds## Booting kernel from Legacy Image at bc1e0000 ...
get header OKimage_get_kernel check hcrc
image_get_kernel print contents
   Image Name:   linux_3.10
   Created:      2018-06-05  19:44:27 UTC
   Image Type:   MIPS Linux Kernel Image (uncompressed)
   Data Size:    1662157 Bytes = 1.6 MiB
   Load Address: 804d4960
   Entry Point:  804d4960
   Verifying Checksum ... OK
   Loading Kernel Image ... OK

Starting kernel ...

Linux version 3.10.27 (jenkins@DMdssdFW1) (gcc version 4.8.5 20150209 (prerelease) (Realtek RSDK-4.8.5p1 Build 2278) ) #1 PREEMPT Wed Jun 6 03:36:32 CST 2018
prom cpufreq = 500000000
prom memsize = 67108864
hw_ver: 0x1, hw_rev: 0x2, isp_ver: 0x0
bootconsole [early0] enabled
CPU revision is: 0000dc02
Determined physical RAM map:
 memory: 04000000 @ 00000000 (usable)
Reserved contiguous memory at 0x4f3000
Zone ranges:
  Normal   [mem 0x00000000-0x03ffffff]
Movable zone start for each node
Early memory node ranges
  node   0: [mem 0x00000000-0x03ffffff]
icache: 32kB/32B, dcache: 16kB/32B, scache: 0kB/0B
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
Kernel command line: console=ttyS1,57600 root=/dev/mtdblock8 rts_hconf.hconf_mtd_idx=0 mtdparts=m25p80:256k(boot),128k(pib),1024k(userdata),128k(db),128k(log),128k(dbbackup),128k(logbackup),3072k(kernel),11264k(rootfs)
PID hash table entries: 256 (order: -2, 1024 bytes)
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 48600k/65536k available (3844k kernel code, 16936k reserved, 888k data, 192k init, 0k highmem)
SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Preemptible hierarchical RCU implementation.
NR_IRQS:49
Calibrating delay loop... 498.89 BogoMIPS (lpj=2494464)
pid_max: default: 32768 minimum: 301
Mount-cache hash table entries: 512
pinctrl core: initialized pinctrl subsystem
regulator-dummy: no parameters
NET: Registered protocol family 16
rtsxb2 registered with IRQs
INFO: initializing USB host ...
INFO: initializing spi host ...0
spi platform id is 0
INFO: initializing I2C master ...
INFO: initializing DMA controller ...
INFO: initializing SD controller ...
INFO: initializing snd device ...
snd resvd mem size : 1048576
INFO: initializing pinctrl device ...
pinctrl_platform pinctrl_platform: rtspc registered with IRQs
INFO: initializing ethernet devices ...
INFO: initializing dwc_otg devices ...
INFO: initializing USB phy ...
INFO: initializing ISP device ...
isp resvd mem addr : 0x005f3000, size : 0xa00000
ISP camera platform devices added
INFO: initializing watchdog controller ...
INFO: initializing PWM controller ...
INFO: initializing crypto device ...
INFO: initializing pmu device ...
bio: create slab <bio-0> at 0
rts_dmac rts_dmac: DesignWare DMA Controller, 1 channels
INFO: realtek DMA engine inited
SCSI subsystem initialized
spic-platform spic-platform.0: master is unqueued, this is deprecated
INFO:allocate spi master 0, 0
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
usbphy-platform usbphy-platform: Initialized Realtek IPCam USB Phy module
Linux video capture interface: v2.00
Advanced Linux Sound Architecture Driver Initialized.
Bluetooth: Core ver 2.16
NET: Registered protocol family 31
Bluetooth: HCI device and connection manager initialized
Bluetooth: HCI socket layer initialized
Bluetooth: L2CAP socket layer initialized
Bluetooth: SCO socket layer initialized
NET: Registered protocol family 2
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP: reno registered
UDP hash table entries: 256 (order: 0, 4096 bytes)
UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
NET: Registered protocol family 1
RPC: Registered named UNIX socket transport module.
RPC: Registered udp transport module.
RPC: Registered tcp transport module.
RPC: Registered tcp NFSv4.1 backchannel transport module.
squashfs: version 4.0 (2009/01/31) Phillip Lougher
NFS: Registering the id_resolver key type
Key type id_resolver registered
Key type id_legacy registered
jffs2: version 2.2. (NAND) © 2001-2006 Red Hat, Inc.
msgmni has been set to 94
NET: Registered protocol family 38
Block layer SCSI generic (bsg) driver version 0.4 loaded (major 253)
io scheduler noop registered
io scheduler deadline registered
io scheduler cfq registered (default)
Serial: 8250/16550 driver, 3 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x18810000 (irq = 6) is a 16550A
console [ttyS1] enabled, bootconsole disabled
console [ttyS1] enabled, bootconsole disabled
serial8250: ttyS1 at MMIO 0x18810100 (irq = 6) is a 16550A
serial8250: ttyS2 at MMIO 0x18810200 (irq = 6) is a 16550A
dbg_iomem initialized!
m25p80 spi0.0: unrecognized id mx25l12845e
m25p80 spi0.0: found w25q128fv, expected m25p80
m25p80 spi0.0: w25q128fv (16384 Kbytes)
9 cmdlinepart partitions found on MTD device m25p80
Creating 9 MTD partitions on &quot;m25p80&quot;:
0x000000000000-0x000000040000 : &quot;boot&quot;
0x000000040000-0x000000060000 : &quot;pib&quot;
0x000000060000-0x000000160000 : &quot;userdata&quot;
0x000000160000-0x000000180000 : &quot;db&quot;
0x000000180000-0x0000001a0000 : &quot;log&quot;
0x0000001a0000-0x0000001c0000 : &quot;dbbackup&quot;
0x0000001c0000-0x0000001e0000 : &quot;logbackup&quot;
0x0000001e0000-0x0000004e0000 : &quot;kernel&quot;
0x0000004e0000-0x000000fe0000 : &quot;rootfs&quot;
invalid hconf_mtd_idx!
hconf init failed
rtl8168 Gigabit Ethernet driver 8.038.00-NAPI loaded
rtl8168 rtl8168 (unregistered net_device): Get invalid MAC address from flash!
eth%d: 0xb8400000, 00:00:00:00:00:00, IRQ 10
PPP generic driver version 2.4.2
PPP MPPE Compression module registered
NET: Registered protocol family 24
ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
ehci-rts: ehci-rts platform driver
ehci-platform ehci-platform: EHCI Host Controller
ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
ehci-platform ehci-platform: irq 11, io mem 0x18100000
ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
usb usb1: New USB device found, idVendor=1d6b, idProduct=0002
usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
usb usb1: Product: EHCI Host Controller
usb usb1: Manufacturer: Linux 3.10.27 ehci_hcd
usb usb1: SerialNumber: ehci-platform
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
ohci-platform ohci-platform: Generic Platform OHCI Controller
ohci-platform ohci-platform: new USB bus registered, assigned bus number 2
ohci-platform ohci-platform: irq 11, io mem 0x18180000
usb usb2: New USB device found, idVendor=1d6b, idProduct=0001
usb usb2: New USB device strings: Mfr=3, Product=2, SerialNumber=1
usb usb2: Product: Generic Platform OHCI Controller
usb usb2: Manufacturer: Linux 3.10.27 ohci_hcd
usb usb2: SerialNumber: ohci-platform
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
dwc_otg: version 3.10b 20-MAY-2013
Core Release: 3.10a
Setting default values for core params
WARN::dwc_otg_set_param_dev_tx_fifo_size:6354: Value is larger then power-on FIFO size

WARN::dwc_otg_set_param_dev_tx_fifo_size:6354: Value is larger then power-on FIFO size

Using Buffer DMA mode
Periodic Transfer Interrupt Enhancement - disabled
Multiprocessor Interrupt Enhancement - disabled
OTG VER PARAM: 0, OTG VER FLAG: 0
Shared Tx FIFO mode
usbcore: registered new interface driver usb-storage
g_mass_storage gadget: Mass Storage Function, version: 2009/09/11
g_mass_storage gadget: Number of LUNs=1
 lun0: LUN: removable file: (no medium)
g_mass_storage gadget: Mass Storage Gadget, version: 2009/09/11
g_mass_storage gadget: g_mass_storage ready
usb device pull 1
i2c /dev entries driver
Unable to read RTP_REG_CHIP_VERSION reg
rtp_mfd 0-0030: pre_init() failed: -140
rtp_mfd: probe of 0-0030 failed with error -140
Stopped watchdog timer
timer margin: 8 sec
nf_conntrack version 0.5.0 (759 buckets, 3036 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP: cubic registered
NET: Registered protocol family 17
Bluetooth: RFCOMM TTY layer initialized
Bluetooth: RFCOMM socket layer initialized
usb 1-1: new high-speed USB device number 2 using ehci-platform
Bluetooth: RFCOMM ver 1.11
Bluetooth: BNEP (Ethernet Emulation) ver 1.3
Bluetooth: BNEP filters: protocol multicast
Bluetooth: BNEP socket layer initialized
Key type dns_resolver registered
ALSA device list:
  No soundcards found.
VFS: Mounted root (squashfs filesystem) readonly on device 31:8.
Freeing unused kernel memory: 192K (804b0000 - 804e0000)
usb 1-1: New USB device found, idVendor=0bda, idProduct=b720
usb 1-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
usb 1-1: Product: 802.11n WLAN Adapter
usb 1-1: Manufacturer: Realtek
usb 1-1: SerialNumber: 00e04c000001
init started: BusyBox v1.22.1 (2018-06-06 03:10:44 CST)
starting pid 54, tty '': '/etc/rc.d/rcS start'
mount: mounting none on /proc/bus/usb failed: No such file or directory
rm: can't remove '/dev/mtd9': No such file or directory
mknod: /dev/console: File exists
soc-audio soc-audio.0: ASoC: machine RLX_INTERN_CARD should use snd_soc_register_card()
soc-audio soc-audio.0:  rlx-codec-digital <-> pcm-platform mapping ok
soc-audio soc-audio.0:  rlx-codec-analog <-> pcm-platform mapping ok
pinctrl_platform pinctrl_platform: request() failed for pin 0
pinctrl_platform pinctrl_platform: pin-0 (pinctrl-rts:0) status -16
request GPIO failed
sd-platform: probe of rts3901-sdhc failed with error -16
rtscam:rtscam_soc_probe
rtscam:rtscam_hx280_probe
rtscam:hx280enc:HW at base <0x18060000> with ID <0x48314810>
rtscam:rtscam_jpgenc_probe
rtscam:rtstream_init
rtscam:begin to load fw from isp.fw
rtscam:Load firmware size : 131072.
rtscam:Found ISP 1.006 device
rtscam:video device <rts3901-isp> registered
rtscam:rts3901-isp initialized
Setup db... ok.
Startting dbd... Password for 'root' changed
ok.
set the date to default:
Wed Jun  6 00:00:00 UTC 2018
No SD Device Path Exists.
rc.sysinit start ok.
============ normal mode ===============
dbd(181) is already running.
Startting tz_dst... ok.
setsystz ok
Startting watchDog... ok.
Startting avcd... 
mic vol = 80
avcd ok.
starting create_certificate...get server.pem... ok.
Startting dbus-daemon... ok.
Startting bluetoothd... sendCmd : 0
Open /tmp/ap_list fail: No such file or directory
main[283] Fail to get channel of Kjellerbod network
configure : 
 			Wireless : essid: Kjellerbod, encryp_method: AES, auth_method: WPA2PSK 
 			Network  : dhcp_enable: 1, hostname: DCS-8000LH 
Open /proc/sys/net/ipv6/conf/wlan0/autoconf fail: No such file or directory
killall: rtspd: no process killed
killall: udhcpc: no process killed
killall: wifiAutoReconnect: no process killed
sendCmd : 0
sendCmd : 0
/bin/sh: dibbler-client: not found
killall: orthrus: no process killed
killall: orthrusipv6: no process killed
killall: pppd: no process killed
killall: zcip: no process killed
wlan1 MAC [b2:c5:54:4c:cc:73]
23186 wpa_supplicant -B -c /tmp/wpa_supplicant.conf -i wlan0 -P /tmp/wpa_supplicant.pid
rfkill: Cannot open RFKILL control device
ioctl[SIOCSIWAP]: Operation not permitted
udhcpc (v1.22.1) started
/sbin/udhcpc.sh: line 1: /etc/rc.d/init.d/zcip.sh: not found
Sending discover...
Sending discover...
Sending select for 192.168.2.37...
Lease of 192.168.2.37 obtained, lease time 432000
ifdown: interface wlan1 not configured
cat: can't open '/tmp/wifi-led.pid': No such file or directory
sh: you need to specify whom to kill
deleting routers
route: ioctl 0x890c failed: No such process
adding dns 148.122.16.253
adding dns 148.122.164.253
start network services, ...
Startting mDNSResponder... ok.
Starting rtspd... ok.
Startting ntpd... disabled.
Startting firewall...ok.
/etc/rc.d/rcS: /etc/rc.d/rcS.d/S24network.sh: line 5: /etc/rc.d/init.d/network_services_ipv6.sh: not found
Starting Apple Darwin Multicast DNS / DNS Service Discovery daemon: mdnsd.
Jun  6 02:00:32 mDNSResponder: mDNSResponder (Engineering Build) (Jun  6 2018 03:55:36) starting
Jun  6 02:00:32 mDNSResponder: mDNS_AddDNSServer: Lock not held! mDNS_busy (0) mDNS_reentrancy (0)
Jun  6 02:00:32 mDNSResponder: mDNS_AddDNSServer: Lock not held! mDNS_busy (0) mDNS_reentrancy (0)
Jun  6 02:00:32 mDNSResponder: WARNING: mdnsd continuing as root because user &quot;nobody&quot; does not exist
Startting ntpd... disabled.
Startting db_analysis... ok.
Startting firewall...ok.
rtspd(1011 878) is already running.
Startting myDlinkEvent... ok.
2018-06-06 02:00:37 | INFO    | tcp_listen               |  176| listening 127.0.0.1:7000
2018-06-06 02:00:37 | INFO    | http_listen              |   40| waiting new connections ...
rc.local start ok.
starting pid 1157, tty '': '/bin/busybox getty -L ttyS1 57600 vt100'

localhost login: May  6 22:34:35 mDNSResponder: mDNS_Execute: mDNSPlatformRawTime went backwards by 438780374 ticks; setting correction factor to -1542198966
May  6 22:34:37 mDNSResponderPosix: mDNSCoreReceive: mDNSPlatformRawTime went backwards by 438777274 ticks; setting correction factor to 1206127822"><pre><code>U-Boot 2014.01-rc2-V1.1 (Jun 06 2018 - 03:44:37)

rx5281 prid=0xdc02
DRAM:  64 MiB @ 800 MHz
Skipping flash_init
Flash: 0 Bytes
flash status is 0, 2, 0
SF: Detected W25Q128FV with page size 256 Bytes, erase size 64 KiB, total 16 MiB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   Realtek PCIe GBE Family Controller mcfg = 0024
no hw config header
new_ethaddr = 00:00:00:00:00:00
r8168#0
no hw config header
Press ESC to abort autoboot in 3 seconds## Booting kernel from Legacy Image at bc1e0000 ...
get header OKimage_get_kernel check hcrc
image_get_kernel print contents
   Image Name:   linux_3.10
   Created:      2018-06-05  19:44:27 UTC
   Image Type:   MIPS Linux Kernel Image (uncompressed)
   Data Size:    1662157 Bytes = 1.6 MiB
   Load Address: 804d4960
   Entry Point:  804d4960
   Verifying Checksum ... OK
   Loading Kernel Image ... OK

Starting kernel ...

Linux version 3.10.27 (jenkins@DMdssdFW1) (gcc version 4.8.5 20150209 (prerelease) (Realtek RSDK-4.8.5p1 Build 2278) ) #1 PREEMPT Wed Jun 6 03:36:32 CST 2018
prom cpufreq = 500000000
prom memsize = 67108864
hw_ver: 0x1, hw_rev: 0x2, isp_ver: 0x0
bootconsole [early0] enabled
CPU revision is: 0000dc02
Determined physical RAM map:
 memory: 04000000 @ 00000000 (usable)
Reserved contiguous memory at 0x4f3000
Zone ranges:
  Normal   [mem 0x00000000-0x03ffffff]
Movable zone start for each node
Early memory node ranges
  node   0: [mem 0x00000000-0x03ffffff]
icache: 32kB/32B, dcache: 16kB/32B, scache: 0kB/0B
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
Kernel command line: console=ttyS1,57600 root=/dev/mtdblock8 rts_hconf.hconf_mtd_idx=0 mtdparts=m25p80:256k(boot),128k(pib),1024k(userdata),128k(db),128k(log),128k(dbbackup),128k(logbackup),3072k(kernel),11264k(rootfs)
PID hash table entries: 256 (order: -2, 1024 bytes)
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 48600k/65536k available (3844k kernel code, 16936k reserved, 888k data, 192k init, 0k highmem)
SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Preemptible hierarchical RCU implementation.
NR_IRQS:49
Calibrating delay loop... 498.89 BogoMIPS (lpj=2494464)
pid_max: default: 32768 minimum: 301
Mount-cache hash table entries: 512
pinctrl core: initialized pinctrl subsystem
regulator-dummy: no parameters
NET: Registered protocol family 16
rtsxb2 registered with IRQs
INFO: initializing USB host ...
INFO: initializing spi host ...0
spi platform id is 0
INFO: initializing I2C master ...
INFO: initializing DMA controller ...
INFO: initializing SD controller ...
INFO: initializing snd device ...
snd resvd mem size : 1048576
INFO: initializing pinctrl device ...
pinctrl_platform pinctrl_platform: rtspc registered with IRQs
INFO: initializing ethernet devices ...
INFO: initializing dwc_otg devices ...
INFO: initializing USB phy ...
INFO: initializing ISP device ...
isp resvd mem addr : 0x005f3000, size : 0xa00000
ISP camera platform devices added
INFO: initializing watchdog controller ...
INFO: initializing PWM controller ...
INFO: initializing crypto device ...
INFO: initializing pmu device ...
bio: create slab &lt;bio-0&gt; at 0
rts_dmac rts_dmac: DesignWare DMA Controller, 1 channels
INFO: realtek DMA engine inited
SCSI subsystem initialized
spic-platform spic-platform.0: master is unqueued, this is deprecated
INFO:allocate spi master 0, 0
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
usbphy-platform usbphy-platform: Initialized Realtek IPCam USB Phy module
Linux video capture interface: v2.00
Advanced Linux Sound Architecture Driver Initialized.
Bluetooth: Core ver 2.16
NET: Registered protocol family 31
Bluetooth: HCI device and connection manager initialized
Bluetooth: HCI socket layer initialized
Bluetooth: L2CAP socket layer initialized
Bluetooth: SCO socket layer initialized
NET: Registered protocol family 2
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP: reno registered
UDP hash table entries: 256 (order: 0, 4096 bytes)
UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
NET: Registered protocol family 1
RPC: Registered named UNIX socket transport module.
RPC: Registered udp transport module.
RPC: Registered tcp transport module.
RPC: Registered tcp NFSv4.1 backchannel transport module.
squashfs: version 4.0 (2009/01/31) Phillip Lougher
NFS: Registering the id_resolver key type
Key type id_resolver registered
Key type id_legacy registered
jffs2: version 2.2. (NAND) © 2001-2006 Red Hat, Inc.
msgmni has been set to 94
NET: Registered protocol family 38
Block layer SCSI generic (bsg) driver version 0.4 loaded (major 253)
io scheduler noop registered
io scheduler deadline registered
io scheduler cfq registered (default)
Serial: 8250/16550 driver, 3 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x18810000 (irq = 6) is a 16550A
console [ttyS1] enabled, bootconsole disabled
console [ttyS1] enabled, bootconsole disabled
serial8250: ttyS1 at MMIO 0x18810100 (irq = 6) is a 16550A
serial8250: ttyS2 at MMIO 0x18810200 (irq = 6) is a 16550A
dbg_iomem initialized!
m25p80 spi0.0: unrecognized id mx25l12845e
m25p80 spi0.0: found w25q128fv, expected m25p80
m25p80 spi0.0: w25q128fv (16384 Kbytes)
9 cmdlinepart partitions found on MTD device m25p80
Creating 9 MTD partitions on "m25p80":
0x000000000000-0x000000040000 : "boot"
0x000000040000-0x000000060000 : "pib"
0x000000060000-0x000000160000 : "userdata"
0x000000160000-0x000000180000 : "db"
0x000000180000-0x0000001a0000 : "log"
0x0000001a0000-0x0000001c0000 : "dbbackup"
0x0000001c0000-0x0000001e0000 : "logbackup"
0x0000001e0000-0x0000004e0000 : "kernel"
0x0000004e0000-0x000000fe0000 : "rootfs"
invalid hconf_mtd_idx!
hconf init failed
rtl8168 Gigabit Ethernet driver 8.038.00-NAPI loaded
rtl8168 rtl8168 (unregistered net_device): Get invalid MAC address from flash!
eth%d: 0xb8400000, 00:00:00:00:00:00, IRQ 10
PPP generic driver version 2.4.2
PPP MPPE Compression module registered
NET: Registered protocol family 24
ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver
ehci-rts: ehci-rts platform driver
ehci-platform ehci-platform: EHCI Host Controller
ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
ehci-platform ehci-platform: irq 11, io mem 0x18100000
ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
usb usb1: New USB device found, idVendor=1d6b, idProduct=0002
usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
usb usb1: Product: EHCI Host Controller
usb usb1: Manufacturer: Linux 3.10.27 ehci_hcd
usb usb1: SerialNumber: ehci-platform
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
ohci_hcd: USB 1.1 'Open' Host Controller (OHCI) Driver
ohci-platform ohci-platform: Generic Platform OHCI Controller
ohci-platform ohci-platform: new USB bus registered, assigned bus number 2
ohci-platform ohci-platform: irq 11, io mem 0x18180000
usb usb2: New USB device found, idVendor=1d6b, idProduct=0001
usb usb2: New USB device strings: Mfr=3, Product=2, SerialNumber=1
usb usb2: Product: Generic Platform OHCI Controller
usb usb2: Manufacturer: Linux 3.10.27 ohci_hcd
usb usb2: SerialNumber: ohci-platform
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
dwc_otg: version 3.10b 20-MAY-2013
Core Release: 3.10a
Setting default values for core params
WARN::dwc_otg_set_param_dev_tx_fifo_size:6354: Value is larger then power-on FIFO size

WARN::dwc_otg_set_param_dev_tx_fifo_size:6354: Value is larger then power-on FIFO size

Using Buffer DMA mode
Periodic Transfer Interrupt Enhancement - disabled
Multiprocessor Interrupt Enhancement - disabled
OTG VER PARAM: 0, OTG VER FLAG: 0
Shared Tx FIFO mode
usbcore: registered new interface driver usb-storage
g_mass_storage gadget: Mass Storage Function, version: 2009/09/11
g_mass_storage gadget: Number of LUNs=1
 lun0: LUN: removable file: (no medium)
g_mass_storage gadget: Mass Storage Gadget, version: 2009/09/11
g_mass_storage gadget: g_mass_storage ready
usb device pull 1
i2c /dev entries driver
Unable to read RTP_REG_CHIP_VERSION reg
rtp_mfd 0-0030: pre_init() failed: -140
rtp_mfd: probe of 0-0030 failed with error -140
Stopped watchdog timer
timer margin: 8 sec
nf_conntrack version 0.5.0 (759 buckets, 3036 max)
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP: cubic registered
NET: Registered protocol family 17
Bluetooth: RFCOMM TTY layer initialized
Bluetooth: RFCOMM socket layer initialized
usb 1-1: new high-speed USB device number 2 using ehci-platform
Bluetooth: RFCOMM ver 1.11
Bluetooth: BNEP (Ethernet Emulation) ver 1.3
Bluetooth: BNEP filters: protocol multicast
Bluetooth: BNEP socket layer initialized
Key type dns_resolver registered
ALSA device list:
  No soundcards found.
VFS: Mounted root (squashfs filesystem) readonly on device 31:8.
Freeing unused kernel memory: 192K (804b0000 - 804e0000)
usb 1-1: New USB device found, idVendor=0bda, idProduct=b720
usb 1-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
usb 1-1: Product: 802.11n WLAN Adapter
usb 1-1: Manufacturer: Realtek
usb 1-1: SerialNumber: 00e04c000001
init started: BusyBox v1.22.1 (2018-06-06 03:10:44 CST)
starting pid 54, tty '': '/etc/rc.d/rcS start'
mount: mounting none on /proc/bus/usb failed: No such file or directory
rm: can't remove '/dev/mtd9': No such file or directory
mknod: /dev/console: File exists
soc-audio soc-audio.0: ASoC: machine RLX_INTERN_CARD should use snd_soc_register_card()
soc-audio soc-audio.0:  rlx-codec-digital &lt;-&gt; pcm-platform mapping ok
soc-audio soc-audio.0:  rlx-codec-analog &lt;-&gt; pcm-platform mapping ok
pinctrl_platform pinctrl_platform: request() failed for pin 0
pinctrl_platform pinctrl_platform: pin-0 (pinctrl-rts:0) status -16
request GPIO failed
sd-platform: probe of rts3901-sdhc failed with error -16
rtscam:rtscam_soc_probe
rtscam:rtscam_hx280_probe
rtscam:hx280enc:HW at base &lt;0x18060000&gt; with ID &lt;0x48314810&gt;
rtscam:rtscam_jpgenc_probe
rtscam:rtstream_init
rtscam:begin to load fw from isp.fw
rtscam:Load firmware size : 131072.
rtscam:Found ISP 1.006 device
rtscam:video device &lt;rts3901-isp&gt; registered
rtscam:rts3901-isp initialized
Setup db... ok.
Startting dbd... Password for 'root' changed
ok.
set the date to default:
Wed Jun  6 00:00:00 UTC 2018
No SD Device Path Exists.
rc.sysinit start ok.
============ normal mode ===============
dbd(181) is already running.
Startting tz_dst... ok.
setsystz ok
Startting watchDog... ok.
Startting avcd... 
mic vol = 80
avcd ok.
starting create_certificate...get server.pem... ok.
Startting dbus-daemon... ok.
Startting bluetoothd... sendCmd : 0
Open /tmp/ap_list fail: No such file or directory
main[283] Fail to get channel of Kjellerbod network
configure : 
 			Wireless : essid: Kjellerbod, encryp_method: AES, auth_method: WPA2PSK 
 			Network  : dhcp_enable: 1, hostname: DCS-8000LH 
Open /proc/sys/net/ipv6/conf/wlan0/autoconf fail: No such file or directory
killall: rtspd: no process killed
killall: udhcpc: no process killed
killall: wifiAutoReconnect: no process killed
sendCmd : 0
sendCmd : 0
/bin/sh: dibbler-client: not found
killall: orthrus: no process killed
killall: orthrusipv6: no process killed
killall: pppd: no process killed
killall: zcip: no process killed
wlan1 MAC [b2:c5:54:4c:cc:73]
23186 wpa_supplicant -B -c /tmp/wpa_supplicant.conf -i wlan0 -P /tmp/wpa_supplicant.pid
rfkill: Cannot open RFKILL control device
ioctl[SIOCSIWAP]: Operation not permitted
udhcpc (v1.22.1) started
/sbin/udhcpc.sh: line 1: /etc/rc.d/init.d/zcip.sh: not found
Sending discover...
Sending discover...
Sending select for 192.168.2.37...
Lease of 192.168.2.37 obtained, lease time 432000
ifdown: interface wlan1 not configured
cat: can't open '/tmp/wifi-led.pid': No such file or directory
sh: you need to specify whom to kill
deleting routers
route: ioctl 0x890c failed: No such process
adding dns 148.122.16.253
adding dns 148.122.164.253
start network services, ...
Startting mDNSResponder... ok.
Starting rtspd... ok.
Startting ntpd... disabled.
Startting firewall...ok.
/etc/rc.d/rcS: /etc/rc.d/rcS.d/S24network.sh: line 5: /etc/rc.d/init.d/network_services_ipv6.sh: not found
Starting Apple Darwin Multicast DNS / DNS Service Discovery daemon: mdnsd.
Jun  6 02:00:32 mDNSResponder: mDNSResponder (Engineering Build) (Jun  6 2018 03:55:36) starting
Jun  6 02:00:32 mDNSResponder: mDNS_AddDNSServer: Lock not held! mDNS_busy (0) mDNS_reentrancy (0)
Jun  6 02:00:32 mDNSResponder: mDNS_AddDNSServer: Lock not held! mDNS_busy (0) mDNS_reentrancy (0)
Jun  6 02:00:32 mDNSResponder: WARNING: mdnsd continuing as root because user "nobody" does not exist
Startting ntpd... disabled.
Startting db_analysis... ok.
Startting firewall...ok.
rtspd(1011 878) is already running.
Startting myDlinkEvent... ok.
2018-06-06 02:00:37 | INFO    | tcp_listen               |  176| listening 127.0.0.1:7000
2018-06-06 02:00:37 | INFO    | http_listen              |   40| waiting new connections ...
rc.local start ok.
starting pid 1157, tty '': '/bin/busybox getty -L ttyS1 57600 vt100'

localhost login: May  6 22:34:35 mDNSResponder: mDNS_Execute: mDNSPlatformRawTime went backwards by 438780374 ticks; setting correction factor to -1542198966
May  6 22:34:37 mDNSResponderPosix: mDNSCoreReceive: mDNSPlatformRawTime went backwards by 438777274 ticks; setting correction factor to 1206127822
</code></pre></div>
<h3 tabindex="-1" dir="auto"><a name="user-content-Partitions"></a>Partitions</h3>
<p dir="auto">The D-Link DCS-8000LH partitions are:</p>
<div data-snippet-clipboard-copy-content="# cat /proc/mtd 
dev:    size   erasesize  name
mtd0: 00040000 00010000 &quot;boot&quot;
mtd1: 00020000 00010000 &quot;pib&quot;
mtd2: 00100000 00010000 &quot;userdata&quot;
mtd3: 00020000 00010000 &quot;db&quot;
mtd4: 00020000 00010000 &quot;log&quot;
mtd5: 00020000 00010000 &quot;dbbackup&quot;
mtd6: 00020000 00010000 &quot;logbackup&quot;
mtd7: 00300000 00010000 &quot;kernel&quot;
mtd8: 00b00000 00010000 &quot;rootfs&quot;"><pre><code># cat /proc/mtd 
dev:    size   erasesize  name
mtd0: 00040000 00010000 "boot"
mtd1: 00020000 00010000 "pib"
mtd2: 00100000 00010000 "userdata"
mtd3: 00020000 00010000 "db"
mtd4: 00020000 00010000 "log"
mtd5: 00020000 00010000 "dbbackup"
mtd6: 00020000 00010000 "logbackup"
mtd7: 00300000 00010000 "kernel"
mtd8: 00b00000 00010000 "rootfs"
</code></pre></div>
<p dir="auto">Or as seen by the driver with start and end addresses:</p>
<div data-snippet-clipboard-copy-content="9 cmdlinepart partitions found on MTD device m25p80
Creating 9 MTD partitions on &quot;m25p80&quot;:
0x000000000000-0x000000040000 : &quot;boot&quot;
0x000000040000-0x000000060000 : &quot;pib&quot;
0x000000060000-0x000000160000 : &quot;userdata&quot;
0x000000160000-0x000000180000 : &quot;db&quot;
0x000000180000-0x0000001a0000 : &quot;log&quot;
0x0000001a0000-0x0000001c0000 : &quot;dbbackup&quot;
0x0000001c0000-0x0000001e0000 : &quot;logbackup&quot;
0x0000001e0000-0x0000004e0000 : &quot;kernel&quot;
0x0000004e0000-0x000000fe0000 : &quot;rootfs&quot;"><pre><code>9 cmdlinepart partitions found on MTD device m25p80
Creating 9 MTD partitions on "m25p80":
0x000000000000-0x000000040000 : "boot"
0x000000040000-0x000000060000 : "pib"
0x000000060000-0x000000160000 : "userdata"
0x000000160000-0x000000180000 : "db"
0x000000180000-0x0000001a0000 : "log"
0x0000001a0000-0x0000001c0000 : "dbbackup"
0x0000001c0000-0x0000001e0000 : "logbackup"
0x0000001e0000-0x0000004e0000 : "kernel"
0x0000004e0000-0x000000fe0000 : "rootfs"
</code></pre></div>
<p dir="auto">Partition usage:</p>
<table>
<thead>
<tr>
<th>number</th>
<th>name</th>
<th>start</th>
<th>end</th>
<th>size</th>
<th>fstype</th>
<th>contents</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>"boot"</td>
<td>0x000000</td>
<td>0x040000</td>
<td>0x40000</td>
<td>boot</td>
<td>U-Boot</td>
</tr>
<tr>
<td>1</td>
<td>"pib"</td>
<td>0x040000</td>
<td>0x060000</td>
<td>0x20000</td>
<td>raw</td>
<td>device info</td>
</tr>
<tr>
<td>2</td>
<td>"userdata"</td>
<td>0x060000</td>
<td>0x160000</td>
<td>0x100000</td>
<td>squashfs</td>
<td>mydlink (/opt)</td>
</tr>
<tr>
<td>3</td>
<td>"db"</td>
<td>0x160000</td>
<td>0x180000</td>
<td>0x20000</td>
<td>tar.gz</td>
<td>non-volatile data</td>
</tr>
<tr>
<td>4</td>
<td>"log"</td>
<td>0x180000</td>
<td>0x1a0000</td>
<td>0x20000</td>
<td>raw?</td>
<td>empty</td>
</tr>
<tr>
<td>5</td>
<td>"dbbackup"</td>
<td>0x1a0000</td>
<td>0x1c0000</td>
<td>0x20000</td>
<td>tar.gz</td>
<td>copy of "db"</td>
</tr>
<tr>
<td>6</td>
<td>"logbackup"</td>
<td>0x1c0000</td>
<td>0x1e0000</td>
<td>0x20000</td>
<td>raw?</td>
<td>empty</td>
</tr>
<tr>
<td>7</td>
<td>"kernel"</td>
<td>0x1e0000</td>
<td>0x4e0000</td>
<td>0x300000</td>
<td>uImage</td>
<td>Linux 3.10</td>
</tr>
<tr>
<td>8</td>
<td>"rootfs"</td>
<td>0x4e0000</td>
<td>0xfe0000</td>
<td>0xb00000</td>
<td>squashfs</td>
<td>rootfs (/)</td>
</tr>
</tbody>
</table>
<p dir="auto">The D-Link firmware updates I have looked at will replace the
"userdata", "kernel" and "rootfs" partitions, but leave other
partitions unchanged. I imagine that the "boot" partition might be
upgraded too if deemed necessary by D-Link. But it was not touched
when going from 2.01.03 to 2.02.02.</p>
<p dir="auto">The "log" and "logbackup" appear to be currently unused.  But I am
reluctant trusting this, given their names.  I guess they could be
cleaned and overwritten anytime.  They are too small to be very useful
anyway.  You can't put any writable file system om them with only two
erase blocks.</p>
<h3 tabindex="-1" dir="auto">Backing up dynamic data</h3>
<p dir="auto">This is not necessary for system operation as any non-volatile data is
saved in the <a href="#Partitions"><strong>db</strong></a> partition anyway.  But it can still be useful to
have a copy of the system state for offline studying, so I also like
to save a working copy of /tmp:</p>
<div data-snippet-clipboard-copy-content="tar zcvf /tmp/tmp.tgz /tmp/
tftp -l /tmp/tmp.tgz -r tmp.tgz -p 192.168.2.1"><pre><code>tar zcvf /tmp/tmp.tgz /tmp/
tftp -l /tmp/tmp.tgz -r tmp.tgz -p 192.168.2.1
</code></pre></div>
<h3 tabindex="-1" dir="auto">Why can we run the NIPCA webserver before we modify the firmware?</h3>
<p dir="auto">D-Link left all the webserver parts in the firmware, including all the
NIPCA CGI tools. The only change they made was disabling the startup
script.</p>
<p dir="auto">The webserver can be enabled and started manually from the shell by
running:</p>
<div data-snippet-clipboard-copy-content="tdb set HTTPServer Enable_byte=1
/etc/rc.d/init.d/extra_lighttpd.sh start"><pre><code>tdb set HTTPServer Enable_byte=1
/etc/rc.d/init.d/extra_lighttpd.sh start
</code></pre></div>
<p dir="auto">This is precisely what our Bluetooth tool does when it is called with
the <strong>--lighttpd</strong> option.</p>
<p dir="auto">The <code>HTTPServer Enable_byte</code> is persistent, so setting is only
necessary once. Unless you do a factory reset.</p>
<h3 tabindex="-1" dir="auto">What's the problem with the RTSP server in the unmodified firmware?</h3>
<p dir="auto">The original D-Link firmware is already running <strong>rtspd</strong>, but it is only
listening on the loopback address 127.0.0.1.  It is probably intended
as a backend server for the <strong>mydlink</strong> services.</p>
<p dir="auto">We can make rtspd listen on all addresses by clearing the <strong>RTPServer
RejectExtIP</strong> setting.  Both rtspd and the firewall need a restart for
this to have an effect.  Enabling <strong>RTPServer Authenticate</strong> is
probably a good idea when doing this, to prevent the camera from
streaming to anyone who can connect.</p>
<div data-snippet-clipboard-copy-content="tdb set RTPServer RejectExtIP_byte=0
tdb set RTPServer Authenticate_byte=1
/etc/rc.d/init.d/firewall.sh reload
/etc/rc.d/init.d/rtspd.sh restart"><pre><code>tdb set RTPServer RejectExtIP_byte=0
tdb set RTPServer Authenticate_byte=1
/etc/rc.d/init.d/firewall.sh reload
/etc/rc.d/init.d/rtspd.sh restart
</code></pre></div>
<p dir="auto">These settings are persistent as usual, so they only need to be
modified after factory resets. Changing the settings and then
rebooting the camera will therefore enable remote RTSP access, since
both services are running by default in the D-Link firmware.</p>
<h3 tabindex="-1" dir="auto">The "userdata" file system</h3>
<p dir="auto">The <a href="#Partitions"><strong>userdata</strong></a> you backed up as <strong>mtd2</strong> contains a xz compressed
squasfs file system, with most of the mydlink cloud tools. The file
system can be unpacked on a Linux system using unsquashfs:</p>
<div data-snippet-clipboard-copy-content="$ unsquashfs mtd2
Parallel unsquashfs: Using 4 processors
15 inodes (22 blocks) to write

[=============================================================================================================================================================================================================|] 22/22 100%

created 12 files
created 1 directories
created 3 symlinks
created 0 devices
created 0 fifos
$ ls -la squashfs-root/
total 1156
drwxr-xr-x  2 bjorn bjorn    340 Feb 14 10:58 .
drwxrwxrwt 41 root  root    2280 May 13 15:13 ..
-rwxr-xr-x  1 bjorn bjorn  13184 Feb 14 10:58 ca-refresh
-rwxr-xr-x  1 bjorn bjorn 273692 Feb 14 10:58 cda
lrwxrwxrwx  1 bjorn bjorn      9 May 13 15:13 cert -> /tmp/cert
-rwxr-xr-x  1 bjorn bjorn   5991 Feb 14 10:58 client-ca.crt.pem
lrwxrwxrwx  1 bjorn bjorn      7 May 13 15:13 config -> /tmp/db
-rwxr-xr-x  1 bjorn bjorn 436428 Feb 14 10:58 da_adaptor
-rwxr-xr-x  1 bjorn bjorn      4 Feb 14 10:58 dcp_version
-rwxr-xr-x  1 bjorn bjorn    814 Feb 14 10:58 device.cfg
lrwxrwxrwx  1 bjorn bjorn     17 May 13 15:13 lib -> /var/libevent/lib
-rwxr-xr-x  1 bjorn bjorn      5 Feb 14 10:58 m2m
-rwxr-xr-x  1 bjorn bjorn   6220 Feb 14 10:58 mydlink_watchdog.sh
-rwxr-xr-x  1 bjorn bjorn   1034 Feb 14 10:58 opt.local
-rwxr-xr-x  1 bjorn bjorn 171828 Feb 14 10:58 sa
-rwxr-xr-x  1 bjorn bjorn 242028 Feb 14 10:58 strmsvr
-rwxr-xr-x  1 bjorn bjorn     10 Feb 14 10:58 version"><pre><code>$ unsquashfs mtd2
Parallel unsquashfs: Using 4 processors
15 inodes (22 blocks) to write

[=============================================================================================================================================================================================================|] 22/22 100%

created 12 files
created 1 directories
created 3 symlinks
created 0 devices
created 0 fifos
$ ls -la squashfs-root/
total 1156
drwxr-xr-x  2 bjorn bjorn    340 Feb 14 10:58 .
drwxrwxrwt 41 root  root    2280 May 13 15:13 ..
-rwxr-xr-x  1 bjorn bjorn  13184 Feb 14 10:58 ca-refresh
-rwxr-xr-x  1 bjorn bjorn 273692 Feb 14 10:58 cda
lrwxrwxrwx  1 bjorn bjorn      9 May 13 15:13 cert -&gt; /tmp/cert
-rwxr-xr-x  1 bjorn bjorn   5991 Feb 14 10:58 client-ca.crt.pem
lrwxrwxrwx  1 bjorn bjorn      7 May 13 15:13 config -&gt; /tmp/db
-rwxr-xr-x  1 bjorn bjorn 436428 Feb 14 10:58 da_adaptor
-rwxr-xr-x  1 bjorn bjorn      4 Feb 14 10:58 dcp_version
-rwxr-xr-x  1 bjorn bjorn    814 Feb 14 10:58 device.cfg
lrwxrwxrwx  1 bjorn bjorn     17 May 13 15:13 lib -&gt; /var/libevent/lib
-rwxr-xr-x  1 bjorn bjorn      5 Feb 14 10:58 m2m
-rwxr-xr-x  1 bjorn bjorn   6220 Feb 14 10:58 mydlink_watchdog.sh
-rwxr-xr-x  1 bjorn bjorn   1034 Feb 14 10:58 opt.local
-rwxr-xr-x  1 bjorn bjorn 171828 Feb 14 10:58 sa
-rwxr-xr-x  1 bjorn bjorn 242028 Feb 14 10:58 strmsvr
-rwxr-xr-x  1 bjorn bjorn     10 Feb 14 10:58 version
</code></pre></div>
<p dir="auto">The primary entry point here is the <strong>opt.local</strong> init-script.  This
is also the only required file.  The <strong>version</strong> file is read by the
Bluetooth API, and reported as the mydlink version, which makes it
useful for verifying a modified camera.  Our alternate
<a href="#Partitions"><strong>userdata</strong></a> file system contains only these two
files. But one could imagine including a number of other useful tools,
like tcpdump, a ssh server etc.</p>
<p dir="auto">It is also possible to keep all the D-Link files, if that's
wanted. The original <strong>opt.local</strong> script can be modified to leave
mydlink support running while still starting other features.  We could
even add our own non-volatile setting to choose one or the other, or
both, and making it a configuration thing. Fantasy is the only
limiting factor.</p>
<p dir="auto">Repacking the files into a camera compatible squashfs file system:</p>
<div data-snippet-clipboard-copy-content="mksquashfs squashfs-root mtd2.new -all-root -comp xz"><pre><code>mksquashfs squashfs-root mtd2.new -all-root -comp xz
</code></pre></div>
<p dir="auto">Note that <strong>xz</strong> compression is required.  No other compression is
supported AFAIK.</p>
<p dir="auto">There are simpler ways to write the new file system to the camera than
creating a firmware update package, if you just want to test it. One
example:</p>
<div data-snippet-clipboard-copy-content="tftp -r mtd2.new -l /tmp/mtd2.new -g 192.168.2.1
cat /tmp/mtd2.new >/dev/mtdblock2 "><pre><code>tftp -r mtd2.new -l /tmp/mtd2.new -g 192.168.2.1
cat /tmp/mtd2.new &gt;/dev/mtdblock2 
</code></pre></div>
<p dir="auto">But DON'T do that unless you both have a backup and know what you are
doing...</p>
<p dir="auto">You should reboot the camera after doing this, unless you make sure
you stop any process running from the previous /opt system and remount
it properly.</p>
<h3 tabindex="-1" dir="auto"><a name="user-content-NIPCA"></a>Using NIPCA to manage the camera</h3>
<p dir="auto">The local web server provides a direct camera management API, but not
a web GUI application. All API requests require authentication. We
have added a single admin user, using the pincode from the camera
label as passord.  More users can be adding if necessary, even by
using the API itself.</p>
<p dir="auto">Read the NIPCA reference spec for usage, or look at the script names
under <strong>/var/www</strong> in the <a href="#Partitions"><strong>rootfs</strong></a> and simply try
them out. Most API endpoints return a list of current settings. Some
of the settings can be set by GET requests by providing the new values
as URL parameters.</p>
<p dir="auto">A few NIPCA references of different age:</p>
<ul dir="auto">
<li><a href="http://gurau-audibert.hd.free.fr/josdblog/wp-content/uploads/2013/09/CGI_2121.pdf" rel="nofollow">http://gurau-audibert.hd.free.fr/josdblog/wp-content/uploads/2013/09/CGI_2121.pdf</a></li>
<li><a href="https://docplayer.net/33354138-Network-ip-camera-application-programming-interface-nipca.html" rel="nofollow">https://docplayer.net/33354138-Network-ip-camera-application-programming-interface-nipca.html</a></li>
<li>ftp://ftp.dlink.net.pl/dcs/dcs-2132L/documentation/DCS-2132L_NIPCA_support table_1-9-5_20131211.pdf</li>
<li><a href="https://www.airlivecam.eu/data/IP%20Camera%20Open%20API.doc" rel="nofollow">https://www.airlivecam.eu/data/IP%20Camera%20Open%20API.doc</a></li>
</ul>
<p dir="auto">Google for more. Be aware that a most of these settings depend on the
hardware.  There is obviously no point in trying to manage an SD card
slot of the DCS-8000LH...</p>
<p dir="auto">A few of examples, using curl to read and set configuration variables:</p>
<div data-snippet-clipboard-copy-content="$ curl -u admin:123456 http://192.168.2.37/common/info.cgi
model=DCS-8000LH
product=Wireless Internet Camera
brand=D-Link
version=2.02
build=02
hw_version=A
nipca=1.9.7
name=DCS-8000LH
location=
macaddr=B0:C5:54:AA:BB:CC
ipaddr=192.168.2.37
netmask=255.255.255.0
gateway=192.168.2.1
wireless=yes
inputs=0
outputs=0
speaker=no
videoout=no
pir=no
icr=yes
ir=yes
mic=yes
led=no
td=no
playing_music=no
whitelightled=no

$ curl -u admin:123456 'http://192.168.2.37/config/datetime.cgi' 
method=1
timeserver=ntp1.dlink.com
timezone=1
utcdate=2019-05-09
utctime=13:25:14
date=2019-05-09
time=15:25:14
dstenable=yes
dstauto=yes
offset=01:00
starttime=3.2.0/02:00:00
stoptime=11.1.0/02:00:00

$ curl -u admin:123456 http://192.168.2.37/config/led.cgi?led=off
led=off"><pre><code>$ curl -u admin:123456 http://192.168.2.37/common/info.cgi
model=DCS-8000LH
product=Wireless Internet Camera
brand=D-Link
version=2.02
build=02
hw_version=A
nipca=1.9.7
name=DCS-8000LH
location=
macaddr=B0:C5:54:AA:BB:CC
ipaddr=192.168.2.37
netmask=255.255.255.0
gateway=192.168.2.1
wireless=yes
inputs=0
outputs=0
speaker=no
videoout=no
pir=no
icr=yes
ir=yes
mic=yes
led=no
td=no
playing_music=no
whitelightled=no

$ curl -u admin:123456 'http://192.168.2.37/config/datetime.cgi' 
method=1
timeserver=ntp1.dlink.com
timezone=1
utcdate=2019-05-09
utctime=13:25:14
date=2019-05-09
time=15:25:14
dstenable=yes
dstauto=yes
offset=01:00
starttime=3.2.0/02:00:00
stoptime=11.1.0/02:00:00

$ curl -u admin:123456 http://192.168.2.37/config/led.cgi?led=off
led=off
</code></pre></div>
<p dir="auto">Most camera settings can be controlled using this API and e.g curl for
the command line.  There are also packages implementing API clients,
like for example this nodejs one: <a href="https://www.npmjs.com/package/nipca" rel="nofollow">https://www.npmjs.com/package/nipca</a></p>
<h3 tabindex="-1" dir="auto">Bluetooth LE GATT API</h3>
<p dir="auto">The Bluetooth service is in a "locked" mode by default. This is
controlled by the "Ble Mode" persistent setting stored in the <strong>db</strong>
partition. If true ("1"), then most of the Bluetooth commands are
rejected.  But changing the setting manually will not help much, since
the system automatically enter lock mode 180 seconds after the last
Bluetooth client disconnected.</p>
<p dir="auto">The challenge -&gt; response unlock method described below is much more
useful.</p>
<h4 tabindex="-1" dir="auto">Converting the PIN Code to a Bluetooth unlock key</h4>
<p dir="auto">Most Bluetooth commands are rejected when locked.  Access to the full
Bluetooth API can be unlocked by using the PIN Code printed on the
camera label.  This code is not sent directly over the air
though. Instead it is combined with a random challenge.</p>
<p dir="auto">Both the random challenge and the matching key are generated by the
application <code>sbin/gen_bt_config</code> on the camera side.  The key is
calculated by taking the first 16 bytes of the base64 encoded md5
digest of</p>
<ul dir="auto">
<li>model string + '-'  four last mac digits (or Bluetooth device name?)</li>
<li>PIN Code</li>
<li>challenge.</li>
</ul>
<p dir="auto">Note that this application depends on bluetooth libraries, which are
not in /lib. So we have to set LD_LIBRARY_PATH to run it manually:</p>
<div data-snippet-clipboard-copy-content="# LD_LIBRARY_PATH=/var/bluetooth/lib sbin/gen_bt_config update_key_only
In main:182: modelStr = 'DCS-8000LH'
In main:183: mac = 'b0:c5:54:ab:cd:ef'
In update_ble_key:87: key data = 'DCS-8000LH-CDEF012345b2gaescrbldchnik'"><pre><code># LD_LIBRARY_PATH=/var/bluetooth/lib sbin/gen_bt_config update_key_only
In main:182: modelStr = 'DCS-8000LH'
In main:183: mac = 'b0:c5:54:ab:cd:ef'
In update_ble_key:87: key data = 'DCS-8000LH-CDEF012345b2gaescrbldchnik'
</code></pre></div>
<p dir="auto">I've slightly obfuscated my data here - the pincode in the above case
is <code>012345</code>, and the dynamically generated challenge is
<code>b2gaescrbldchnik</code>. The generated challenge and key are stored in
<code>/tmp/db/db.xml</code> and can be read directly from there:</p>
<div data-snippet-clipboard-copy-content="# grep Key /tmp/db/db.xml |tail -2
<ChallengeKey type=&quot;3&quot; content=&quot;b2gaescrbldchnik&quot; />
<Key type=&quot;5&quot; content=&quot;jrtY6nONQ5rV+2Ph&quot; />"><pre><code># grep Key /tmp/db/db.xml |tail -2
&lt;ChallengeKey type="3" content="b2gaescrbldchnik" /&gt;
&lt;Key type="5" content="jrtY6nONQ5rV+2Ph" /&gt;
</code></pre></div>
<p dir="auto">Or you can read them using the same tools the Bluetooth system uses:</p>
<div data-snippet-clipboard-copy-content="# tdb get Ble ChallengeKey_ss
b2gaescrbldchnik
# mdb get ble_key
jrtY6nONQ5rV+2Ph"><pre><code># tdb get Ble ChallengeKey_ss
b2gaescrbldchnik
# mdb get ble_key
jrtY6nONQ5rV+2Ph
</code></pre></div>
<p dir="auto">Yes, the D-Link code does actually use tdb for the first one and mdb
for the second.  I have absolutely no idea why,... It is possible to
read the key using tdb too:</p>
<div data-snippet-clipboard-copy-content="# tdb get Ble Key_ss
jrtY6nONQ5rV+2Ph"><pre><code># tdb get Ble Key_ss
jrtY6nONQ5rV+2Ph
</code></pre></div>
<p dir="auto">Generating the same key by hand on a Linux system is simple:</p>
<div data-snippet-clipboard-copy-content="$ echo -n 'DCS-8000LH-CDEF012345b2gaescrbldchnik' | md5sum | xxd -r -p | base64 | cut -c-16
jrtY6nONQ5rV+2Ph"><pre><code>$ echo -n 'DCS-8000LH-CDEF012345b2gaescrbldchnik' | md5sum | xxd -r -p | base64 | cut -c-16
jrtY6nONQ5rV+2Ph
</code></pre></div>
<h4 tabindex="-1" dir="auto">Characteristic UUIDs</h4>
<p dir="auto">D-Link is using the GATT BlueZ example plugin, patching it to add
their camera specific endpoints.  This means that we can find all the
API "documentation" in the
<code>DCS-8000LH-GPL/package/bluez_utils/feature-patch/5.28/customized-mydlink.patch</code>
file in the GPL archive.</p>
<p dir="auto">This defines a number of 16bit UUIDs with mostly nonsense names:</p>
<div data-snippet-clipboard-copy-content="+#define IPCAM_UUID		0xD001
+#define A000_UUID		0xA000
+#define A001_UUID		0xA001
+#define A100_UUID		0xA100
+#define A101_UUID		0xA101
+#define A102_UUID		0xA102
+#define A103_UUID		0xA103
+#define A104_UUID		0xA104
+#define A200_UUID		0xA200
+#define A201_UUID		0xA201
+#define A300_UUID		0xA300
+#define A301_UUID		0xA301
+#define A302_UUID		0xA302
+#define A303_UUID		0xA303
+#define A304_UUID		0xA304"><pre><code>+#define IPCAM_UUID		0xD001
+#define A000_UUID		0xA000
+#define A001_UUID		0xA001
+#define A100_UUID		0xA100
+#define A101_UUID		0xA101
+#define A102_UUID		0xA102
+#define A103_UUID		0xA103
+#define A104_UUID		0xA104
+#define A200_UUID		0xA200
+#define A201_UUID		0xA201
+#define A300_UUID		0xA300
+#define A301_UUID		0xA301
+#define A302_UUID		0xA302
+#define A303_UUID		0xA303
+#define A304_UUID		0xA304
</code></pre></div>
<p dir="auto"><code>IPCAM_UUID</code> is registered as the <code>GATT_PRIM_SVC_UUID</code>, which means
that it shows up as a primary GATT service we can look for when
looking for a supported camera.</p>
<p dir="auto">The rest of the UUIDs are characteristics of this primary service. The
API is based on reading or writing these characteristics.</p>
<h4 tabindex="-1" dir="auto">Data formatting</h4>
<p dir="auto">Both input and output parameters are sent as ascii strings using
key=value pairs joined by <code>;</code>, with an exception for the nested KV
pairs in the WiFi survey results.  All keys are single upper case
characters. Key names are somewhat reused, so the exact meaning depend
on the characteristic.</p>
<p dir="auto">Values are either integers, including boolean 0/1, or some set of
ascii text.</p>
<p dir="auto">Three real examples, read from 0xA001, 0xA200 and 0xA104:</p>
<div data-snippet-clipboard-copy-content="M=1;C=b2gaescrbldchnik
N=DCS-8000LH;P=1;T=1557349762;Z=CET-1CEST,M3.5.0,M10.5.0/3;F=2.01.03;H=A1;M=B0C554ABCDEF;V=3.0.0-b71
I=192.168.2.37;N=255.255.255.0;G=192.168.2.1;D=148.122.16.253"><pre><code>M=1;C=b2gaescrbldchnik
N=DCS-8000LH;P=1;T=1557349762;Z=CET-1CEST,M3.5.0,M10.5.0/3;F=2.01.03;H=A1;M=B0C554ABCDEF;V=3.0.0-b71
I=192.168.2.37;N=255.255.255.0;G=192.168.2.1;D=148.122.16.253
</code></pre></div>
<h4 tabindex="-1" dir="auto">Listing characteristics</h4>
<p dir="auto">The <strong>gattool</strong> Linux command line tool is useful for exploring
Bluetooth LE devices.  You can look for primary services and list
associated characteristics of a service:</p>
<div data-snippet-clipboard-copy-content="[B0:C5:54:AA:BB:CC][LE]> primary 
attr handle: 0x0001, end grp handle: 0x0008 uuid: 00001800-0000-1000-8000-00805f9b34fb
attr handle: 0x0010, end grp handle: 0x0010 uuid: 00001801-0000-1000-8000-00805f9b34fb
attr handle: 0x0011, end grp handle: 0x002e uuid: 0000d001-0000-1000-8000-00805f9b34fb
[B0:C5:54:AA:BB:CC][LE]> characteristics 0x0011
handle: 0x0012, char properties: 0x12, char value handle: 0x0013, uuid: 0000a000-0000-1000-8000-00805f9b34fb
handle: 0x0015, char properties: 0x0a, char value handle: 0x0016, uuid: 0000a001-0000-1000-8000-00805f9b34fb
handle: 0x0017, char properties: 0x02, char value handle: 0x0018, uuid: 0000a100-0000-1000-8000-00805f9b34fb
handle: 0x0019, char properties: 0x0a, char value handle: 0x001a, uuid: 0000a101-0000-1000-8000-00805f9b34fb
handle: 0x001b, char properties: 0x08, char value handle: 0x001c, uuid: 0000a102-0000-1000-8000-00805f9b34fb
handle: 0x001d, char properties: 0x02, char value handle: 0x001e, uuid: 0000a103-0000-1000-8000-00805f9b34fb
handle: 0x001f, char properties: 0x02, char value handle: 0x0020, uuid: 0000a104-0000-1000-8000-00805f9b34fb
handle: 0x0021, char properties: 0x0a, char value handle: 0x0022, uuid: 0000a200-0000-1000-8000-00805f9b34fb
handle: 0x0023, char properties: 0x08, char value handle: 0x0024, uuid: 0000a201-0000-1000-8000-00805f9b34fb
handle: 0x0025, char properties: 0x0a, char value handle: 0x0026, uuid: 0000a300-0000-1000-8000-00805f9b34fb
handle: 0x0027, char properties: 0x02, char value handle: 0x0028, uuid: 0000a301-0000-1000-8000-00805f9b34fb
handle: 0x0029, char properties: 0x08, char value handle: 0x002a, uuid: 0000a302-0000-1000-8000-00805f9b34fb
handle: 0x002b, char properties: 0x08, char value handle: 0x002c, uuid: 0000a303-0000-1000-8000-00805f9b34fb
handle: 0x002d, char properties: 0x02, char value handle: 0x002e, uuid: 0000a304-0000-1000-8000-00805f9b34fb"><pre><code>[B0:C5:54:AA:BB:CC][LE]&gt; primary 
attr handle: 0x0001, end grp handle: 0x0008 uuid: 00001800-0000-1000-8000-00805f9b34fb
attr handle: 0x0010, end grp handle: 0x0010 uuid: 00001801-0000-1000-8000-00805f9b34fb
attr handle: 0x0011, end grp handle: 0x002e uuid: 0000d001-0000-1000-8000-00805f9b34fb
[B0:C5:54:AA:BB:CC][LE]&gt; characteristics 0x0011
handle: 0x0012, char properties: 0x12, char value handle: 0x0013, uuid: 0000a000-0000-1000-8000-00805f9b34fb
handle: 0x0015, char properties: 0x0a, char value handle: 0x0016, uuid: 0000a001-0000-1000-8000-00805f9b34fb
handle: 0x0017, char properties: 0x02, char value handle: 0x0018, uuid: 0000a100-0000-1000-8000-00805f9b34fb
handle: 0x0019, char properties: 0x0a, char value handle: 0x001a, uuid: 0000a101-0000-1000-8000-00805f9b34fb
handle: 0x001b, char properties: 0x08, char value handle: 0x001c, uuid: 0000a102-0000-1000-8000-00805f9b34fb
handle: 0x001d, char properties: 0x02, char value handle: 0x001e, uuid: 0000a103-0000-1000-8000-00805f9b34fb
handle: 0x001f, char properties: 0x02, char value handle: 0x0020, uuid: 0000a104-0000-1000-8000-00805f9b34fb
handle: 0x0021, char properties: 0x0a, char value handle: 0x0022, uuid: 0000a200-0000-1000-8000-00805f9b34fb
handle: 0x0023, char properties: 0x08, char value handle: 0x0024, uuid: 0000a201-0000-1000-8000-00805f9b34fb
handle: 0x0025, char properties: 0x0a, char value handle: 0x0026, uuid: 0000a300-0000-1000-8000-00805f9b34fb
handle: 0x0027, char properties: 0x02, char value handle: 0x0028, uuid: 0000a301-0000-1000-8000-00805f9b34fb
handle: 0x0029, char properties: 0x08, char value handle: 0x002a, uuid: 0000a302-0000-1000-8000-00805f9b34fb
handle: 0x002b, char properties: 0x08, char value handle: 0x002c, uuid: 0000a303-0000-1000-8000-00805f9b34fb
handle: 0x002d, char properties: 0x02, char value handle: 0x002e, uuid: 0000a304-0000-1000-8000-00805f9b34fb
</code></pre></div>
<p dir="auto">It is also possible to read and write characteristics using this tool,
but this can be a bit cumbersome unless you are fluent in ASCII coding
;-)</p>
<h4 tabindex="-1" dir="auto">The IPCam characteristics</h4>
<p dir="auto">Guessed meanings of each characteristic, based on the source code and
some trial and error. Not necessarily how D-Link would describe them:</p>
<table>
<thead>
<tr>
<th>UUID</th>
<th>op</th>
<th>description</th>
<th>format</th>
<th>keys</th>
</tr>
</thead>
<tbody>
<tr>
<td>A000</td>
<td>read</td>
<td>last status</td>
<td>C=%d;A=%d;R=%d</td>
<td>C: uuid, A: mode, R: state</td>
</tr>
<tr>
<td>A000</td>
<td>notify</td>
<td>last status</td>
<td>C=%d;A=%d;R=%d</td>
<td>C: uuid, A: mode, R: state</td>
</tr>
<tr>
<td>A001</td>
<td>read</td>
<td>challenge</td>
<td>M=%d;C=%s</td>
<td>M: opmode, C: challenge</td>
</tr>
<tr>
<td>A001</td>
<td>write</td>
<td>auth</td>
<td>M=%d;K=%s</td>
<td>M: opmode, K: key</td>
</tr>
<tr>
<td>A100</td>
<td>read</td>
<td>wifi survey</td>
<td>N=%d;P=%d;...</td>
<td></td>
</tr>
<tr>
<td>A101</td>
<td>read</td>
<td>wifi config</td>
<td>M=%s;I=%s;S=%s;E=%s</td>
<td>M: opmode, I: essid, S: 4 , E: 2</td>
</tr>
<tr>
<td>A101</td>
<td>write</td>
<td>wifi config</td>
<td>M=%s;I=%s;S=%s;E=%s;K=%s</td>
<td>M: opmode, I: essid, S: 4 , E: 2, K: password</td>
</tr>
<tr>
<td>A102</td>
<td>write</td>
<td>wifi connect</td>
<td>C=%d</td>
<td>C: connect (0/1)</td>
</tr>
<tr>
<td>A103</td>
<td>read</td>
<td>wifi status</td>
<td>S=%d</td>
<td>S: wifi link status (0,1,?)</td>
</tr>
<tr>
<td>A104</td>
<td>read</td>
<td>ip config</td>
<td>I=%s;N=%s;G=%s;D=%s</td>
<td>I: address, N: netmask, G: gateway, D: DNS-server</td>
</tr>
<tr>
<td>A200</td>
<td>read</td>
<td>system info</td>
<td>N=%s;P=%d;T=%d;Z=%s;F=%s;H=%s;M=%s;V=%s</td>
<td>N: devicename, P: haspin (0/1), T: time (unix epoch), Z: timezone, F: fwver, H: hwver, M: macaddr, V:mydlinkver</td>
</tr>
<tr>
<td>A200</td>
<td>write</td>
<td>name and time</td>
<td>N=%s;T=%d;Z=%s</td>
<td>N: devicename, T: time (unix epoch), Z: timezone</td>
</tr>
<tr>
<td>A201</td>
<td>write</td>
<td>admin password</td>
<td>P=%s;N=%s</td>
<td>P: current password, N: new password</td>
</tr>
<tr>
<td>A300</td>
<td>read</td>
<td>reg state</td>
<td>G=%d</td>
<td>G: registration state (0/1)</td>
</tr>
<tr>
<td>A300</td>
<td>write</td>
<td>reg state</td>
<td>G=%d</td>
<td>G: registration state (0/1)</td>
</tr>
<tr>
<td>A301</td>
<td>read</td>
<td>provisioning</td>
<td>N=%s;T=%s;U=%s</td>
<td>N: username, T: footprint, U: portal</td>
</tr>
<tr>
<td>A302</td>
<td>write</td>
<td>restart mydlink</td>
<td>C=%d</td>
<td>C: restart (0/1)</td>
</tr>
<tr>
<td>A303</td>
<td>write</td>
<td>register</td>
<td>S=%s;M=%s</td>
<td>S: , M:  (written to /tmp/mydlink/reg_info, and then kill -USR1 <code>pidof da_adaptor</code>)</td>
</tr>
<tr>
<td>A304</td>
<td>read</td>
<td>register</td>
<td>S=%d;E=%d</td>
<td>S: , E:  (cat /tmp/mydlink/reg_st)</td>
</tr>
</tbody>
</table>
<p dir="auto">The UUIDs from 0xA300 to 0xA304 are all related to the mydlink cloud
service, and therefore not of much use to us.  I haven't bothered
trying to figure out exactly how they are used.</p>
<p dir="auto">We could in theory use the 0xA303 request which simply calls
<strong>/opt/opt.local restart</strong>.  But with the gaping 0xA201 hole,
allowing <strong>any</strong> command, there isn't much need for this one...</p>
<p dir="auto">A few more details on the more complex characteristics:</p>
<h5 tabindex="-1" dir="auto">A000</h5>
<p dir="auto">The only characteristic sent as notifications.  But it can also be
read directly for syncronous operations.</p>
<p dir="auto">The value is the state to the last Bluetooth action:</p>
<div data-snippet-clipboard-copy-content="&quot;C=%d;A=%d;R=%d&quot;, last_action_status.uuid, last_action_status.mode, last_action_status.state"><pre><code>"C=%d;A=%d;R=%d", last_action_status.uuid, last_action_status.mode, last_action_status.state
</code></pre></div>
<h5 tabindex="-1" dir="auto">A100</h5>
<p dir="auto">The wifi survey scan results are split in 128 byte "pages", where each
page starts with the total number of pages and the current page
number.  The characteristic value must be read as many times as the
given total.</p>
<p dir="auto">For example, reading 3 pages:</p>
<div data-snippet-clipboard-copy-content="[B0:C5:54:AA:BB:CC][LE]> char-read-hnd 0x0018
Characteristic value/descriptor: 4e 3d 33 3b 50 3d 31 3b 4c 3d 49 3d 41 6e 74 69 62 6f 6b 73 2c 4d 3d 30 2c 43 3d 36 2c 53 3d 34 2c 45 3d 32 2c 50 3d 36 32 26 4c 3d 49 3d 41 53 56 31 37 2c 4d 3d 30 2c 43 3d 31 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 34 36 26 4c 3d 49 3d 41 53 56 31 37 2d 64 6c 69 6e 6b 2c 4d 3d 30 2c 43 3d 36 2c 53 3d 34 2c 45 3d 32 2c 50 3d 36 38 26 4c 3d 49 3d 66 6a 6f 72 64 65 31 32 33 2c 4d 3d 30 
[B0:C5:54:AA:BB:CC][LE]> char-read-hnd 0x0018
Characteristic value/descriptor: 4e 3d 33 3b 50 3d 32 3b 2c 43 3d 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 35 38 26 4c 3d 49 3d 4a 4f 4a 2c 4d 3d 30 2c 43 3d 31 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 34 37 26 4c 3d 49 3d 4b 6a 65 6c 6c 65 72 62 6f 64 2c 4d 3d 30 2c 43 3d 36 2c 53 3d 34 2c 45 3d 32 2c 50 3d 36 32 26 4c 3d 49 3d 6d 67 6d 74 2c 4d 3d 30 2c 43 3d 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 37 34 26 4c 3d 49 3d 52 69 
[B0:C5:54:AA:BB:CC][LE]> char-read-hnd 0x0018
Characteristic value/descriptor: 4e 3d 33 3b 50 3d 33 3b 6e 64 65 64 61 6c 2c 4d 3d 30 2c 43 3d 31 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 36 32 "><pre><code>[B0:C5:54:AA:BB:CC][LE]&gt; char-read-hnd 0x0018
Characteristic value/descriptor: 4e 3d 33 3b 50 3d 31 3b 4c 3d 49 3d 41 6e 74 69 62 6f 6b 73 2c 4d 3d 30 2c 43 3d 36 2c 53 3d 34 2c 45 3d 32 2c 50 3d 36 32 26 4c 3d 49 3d 41 53 56 31 37 2c 4d 3d 30 2c 43 3d 31 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 34 36 26 4c 3d 49 3d 41 53 56 31 37 2d 64 6c 69 6e 6b 2c 4d 3d 30 2c 43 3d 36 2c 53 3d 34 2c 45 3d 32 2c 50 3d 36 38 26 4c 3d 49 3d 66 6a 6f 72 64 65 31 32 33 2c 4d 3d 30 
[B0:C5:54:AA:BB:CC][LE]&gt; char-read-hnd 0x0018
Characteristic value/descriptor: 4e 3d 33 3b 50 3d 32 3b 2c 43 3d 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 35 38 26 4c 3d 49 3d 4a 4f 4a 2c 4d 3d 30 2c 43 3d 31 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 34 37 26 4c 3d 49 3d 4b 6a 65 6c 6c 65 72 62 6f 64 2c 4d 3d 30 2c 43 3d 36 2c 53 3d 34 2c 45 3d 32 2c 50 3d 36 32 26 4c 3d 49 3d 6d 67 6d 74 2c 4d 3d 30 2c 43 3d 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 37 34 26 4c 3d 49 3d 52 69 
[B0:C5:54:AA:BB:CC][LE]&gt; char-read-hnd 0x0018
Characteristic value/descriptor: 4e 3d 33 3b 50 3d 33 3b 6e 64 65 64 61 6c 2c 4d 3d 30 2c 43 3d 31 31 2c 53 3d 34 2c 45 3d 32 2c 50 3d 36 32 
</code></pre></div>
<p dir="auto">These strings are decoded as:</p>
<div data-snippet-clipboard-copy-content="N=3;P=1;L=I=Antiboks,M=0,C=6,S=4,E=2,P=62&amp;L=I=ASV17,M=0,C=11,S=4,E=2,P=46&amp;L=I=ASV17-dlink,M=0,C=6,S=4,E=2,P=68&amp;L=I=fjorde123,M=0
N=3;P=2;,C=1,S=4,E=2,P=58&amp;L=I=JOJ,M=0,C=11,S=4,E=2,P=47&amp;L=I=Kjellerbod,M=0,C=6,S=4,E=2,P=62&amp;L=I=mgmt,M=0,C=1,S=4,E=2,P=74&amp;L=I=Ri
N=3;P=3;ndedal,M=0,C=11,S=4,E=2,P=62"><pre><code>N=3;P=1;L=I=Antiboks,M=0,C=6,S=4,E=2,P=62&amp;L=I=ASV17,M=0,C=11,S=4,E=2,P=46&amp;L=I=ASV17-dlink,M=0,C=6,S=4,E=2,P=68&amp;L=I=fjorde123,M=0
N=3;P=2;,C=1,S=4,E=2,P=58&amp;L=I=JOJ,M=0,C=11,S=4,E=2,P=47&amp;L=I=Kjellerbod,M=0,C=6,S=4,E=2,P=62&amp;L=I=mgmt,M=0,C=1,S=4,E=2,P=74&amp;L=I=Ri
N=3;P=3;ndedal,M=0,C=11,S=4,E=2,P=62
</code></pre></div>
<p dir="auto">Which, when joined after removing the N/P paging info, becomes::</p>
<div data-snippet-clipboard-copy-content="L=I=Antiboks,M=0,C=6,S=4,E=2,P=62&amp;L=I=ASV17,M=0,C=11,S=4,E=2,P=46&amp;L=I=ASV17-dlink,M=0,C=6,S=4,E=2,P=68&amp;L=I=fjorde123,M=0,C=1,S=4,E=2,P=58&amp;L=I=JOJ,M=0,C=11,S=4,E=2,P=47&amp;L=I=Kjellerbod,M=0,C=6,S=4,E=2,P=62&amp;L=I=mgmt,M=0,C=1,S=4,E=2,P=74&amp;L=I=Rindedal,M=0,C=11,S=4,E=2,P=62"><pre><code>L=I=Antiboks,M=0,C=6,S=4,E=2,P=62&amp;L=I=ASV17,M=0,C=11,S=4,E=2,P=46&amp;L=I=ASV17-dlink,M=0,C=6,S=4,E=2,P=68&amp;L=I=fjorde123,M=0,C=1,S=4,E=2,P=58&amp;L=I=JOJ,M=0,C=11,S=4,E=2,P=47&amp;L=I=Kjellerbod,M=0,C=6,S=4,E=2,P=62&amp;L=I=mgmt,M=0,C=1,S=4,E=2,P=74&amp;L=I=Rindedal,M=0,C=11,S=4,E=2,P=62
</code></pre></div>
<p dir="auto">And after splitting this on &amp; we get the final result:</p>
<div data-snippet-clipboard-copy-content="L=I=Antiboks,M=0,C=6,S=4,E=2,P=62
L=I=ASV17,M=0,C=11,S=4,E=2,P=46
L=I=ASV17-dlink,M=0,C=6,S=4,E=2,P=68
L=I=fjorde123,M=0,C=1,S=4,E=2,P=58
L=I=JOJ,M=0,C=11,S=4,E=2,P=47
L=I=Kjellerbod,M=0,C=6,S=4,E=2,P=62
L=I=mgmt,M=0,C=1,S=4,E=2,P=74
L=I=Rindedal,M=0,C=11,S=4,E=2,P=62"><pre><code>L=I=Antiboks,M=0,C=6,S=4,E=2,P=62
L=I=ASV17,M=0,C=11,S=4,E=2,P=46
L=I=ASV17-dlink,M=0,C=6,S=4,E=2,P=68
L=I=fjorde123,M=0,C=1,S=4,E=2,P=58
L=I=JOJ,M=0,C=11,S=4,E=2,P=47
L=I=Kjellerbod,M=0,C=6,S=4,E=2,P=62
L=I=mgmt,M=0,C=1,S=4,E=2,P=74
L=I=Rindedal,M=0,C=11,S=4,E=2,P=62
</code></pre></div>
<p dir="auto">So each L entry is made up of the same set of keys:</p>
<ul dir="auto">
<li>I: essid</li>
<li>M: opmode? or authalg? (always 0 in the sample)</li>
<li>C: channel (2.4 GHz only)</li>
<li>S: key_mgmt/auth_alg/proto?</li>
<li>E: key_mgmt/auth_alg/proto?</li>
<li>P: relative signal. Higher is better. dBm + 100?</li>
</ul>
<p dir="auto">Still need to figure out the mapping of the M,S,E keys to
wpa_supplicant config settings. I assume they represent enums.  But we
can simply treat them as opaque values since we only use the survey
data to help setup WiFi anyway. We copy these to the setup request,
and do not need to know what they mean.</p>
<p dir="auto">FWIW, my example setting <code>M=0;I=Kjellerbod;S=4;E=2</code>
is mapped to this wpa_supplicant configuration:</p>
<div data-snippet-clipboard-copy-content="# cat /tmp/wpa_supplicant.conf 
ctrl_interface=/var/run/wpa_supplicant
device_type=4-0050F204-3
model_name=DCS-8000LH
manufacturer=D-Link
os_version=01020300
config_methods=push_button virtual_push_button
eapol_version=1
network={
        scan_ssid=1
        ssid=&quot;Kjellerbod&quot;
        key_mgmt=WPA-PSK
        auth_alg=OPEN
        proto=RSN
        psk=&quot;redeacted&quot;
}"><pre><code># cat /tmp/wpa_supplicant.conf 
ctrl_interface=/var/run/wpa_supplicant
device_type=4-0050F204-3
model_name=DCS-8000LH
manufacturer=D-Link
os_version=01020300
config_methods=push_button virtual_push_button
eapol_version=1
network={
        scan_ssid=1
        ssid="Kjellerbod"
        key_mgmt=WPA-PSK
        auth_alg=OPEN
        proto=RSN
        psk="redeacted"
}
</code></pre></div>
<h5 tabindex="-1" dir="auto">A201</h5>
<p dir="auto">This write request allows setting an admin password, used for example
by the webserver. It takes the old and new passwords as unencoded
input, verifies that the old password matches, and then change the
admin password to the provided new one.</p>
<p dir="auto">The initial password is empty, which prevents webserver
authentication. Simply provide an empty string for the old password in
the first request: <strong>P=;N=newpassword</strong></p>
<p dir="auto">But this request is much more useful in other ways.... The new passord
(N_str) is processed like this (after slight compression of the
interesting code lines):</p>
<div dir="auto" data-snippet-clipboard-copy-content="	snprintf(cmd, sizeof(cmd), &quot;mdb set admin_passwd %s&quot;, N_str);
	snprintf(cmdbuf, sizeof(cmdbuf), &quot;%s > %s 2>&amp;1&quot;, cmd, p_name);
	fp = popen(cmdbuf, &quot;r&quot;);"><pre>	<span>snprintf</span>(<span>cmd</span>, <span>sizeof</span>(<span>cmd</span>), <span>"mdb set admin_passwd %s"</span>, <span>N_str</span>);
	<span>snprintf</span>(<span>cmdbuf</span>, <span>sizeof</span>(<span>cmdbuf</span>), <span>"%s &gt; %s 2&gt;&amp;1"</span>, <span>cmd</span>, <span>p_name</span>);
	<span>fp</span> <span>=</span> <span>popen</span>(<span>cmdbuf</span>, <span>"r"</span>);</pre></div>
<p dir="auto">You don't have to be a security expert to see the problem here. But
one mans bug is another mans feature :-)</p>
<h5 tabindex="-1" dir="auto">A303</h5>
<p dir="auto">The two strings S and M are url decoded and checked for special
characters.  Then the <strong>orginal</strong> url encoded strings are written to
<strong>/tmp/mydlink/reg_info</strong> and SIGUSR1 is sent to the <strong>da_adaptor</strong>
process.  Presumably triggering it to reread the reg_info file.</p>
<p dir="auto">It is pretty safe to assume that this provides some registration info
to the mydlink system, allowing it to connect to the cloud service.</p>
<p dir="auto">The set of allowed characters is rather interesting:</p>
<div data-snippet-clipboard-copy-content=" &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 !\&quot;#$%&amp;'()*+,-./:;<=>?@[\\]^_`{|}~&quot;"><pre><code> "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 !\"#$%&amp;'()*+,-./:;&lt;=&gt;?@[\\]^_`{|}~"
</code></pre></div>
<p dir="auto">Which initially made me think that this was an obvious security hole,
since I missed the point that it's the url encoded strings that are
used on the command line.</p>
<p dir="auto">But given the quality of the rest of the code here, I would be very
surprised if there isn't an issue or ten in the da_adaptor code
allowing this to be abused. It's just a bit harder to figure out
without the source code.</p>
<h3 tabindex="-1" dir="auto">Firmware updates</h3>
<p dir="auto">There are at least two shell scripts providing a firmware update
service in the D-Link firmware:</p>
<ul dir="auto">
<li>/var/www/config/firmwareupgrade.cgi</li>
<li>/sbin/fwupdate</li>
</ul>
<p dir="auto">They are both pretty similar and obviously come from the same source.
The main difference is that firmwareupgrade.cgi provides the NIPCA
firmwareupgrade service, while fwupdate is a command line tool.</p>
<p dir="auto">The web service is most interesting for us, providing both the upload
and upgrade in one simple tool.  The fwupdate tool is used by the
mydlink cloud tool <strong>da_adaptor</strong> , via an fw_upgrade symlink.</p>
<h4 tabindex="-1" dir="auto">Signed and encrypted</h4>
<p dir="auto">Looking at the contents of a firmware update from D-Link can be
demotivating at the beginning:</p>
<div data-snippet-clipboard-copy-content="$ tar xvf DCS-8000LH_Ax_v2.02.02_3014.bin 
update.bin.aes
update.aes
aes.key.rsa
certificate.info
sign.sha1.rsa

$ file *
aes.key.rsa:      data
certificate.info: ASCII text
sign.sha1.rsa:    data
update.aes:       data
update.bin.aes:   data

$ ls -l
total 10956
-rw-r--r-- 1 bjorn bjorn      128 Feb 14 10:58 aes.key.rsa
-rw-r--r-- 1 bjorn bjorn      130 Feb 14 10:58 certificate.info
-rw-r--r-- 1 bjorn bjorn      128 Feb 14 10:58 sign.sha1.rsa
-rw-r--r-- 1 bjorn bjorn 10268368 Feb 14 10:58 update.aes
-rw-r--r-- 1 bjorn bjorn   936464 Feb 14 10:58 update.bin.aes"><pre><code>$ tar xvf DCS-8000LH_Ax_v2.02.02_3014.bin 
update.bin.aes
update.aes
aes.key.rsa
certificate.info
sign.sha1.rsa

$ file *
aes.key.rsa:      data
certificate.info: ASCII text
sign.sha1.rsa:    data
update.aes:       data
update.bin.aes:   data

$ ls -l
total 10956
-rw-r--r-- 1 bjorn bjorn      128 Feb 14 10:58 aes.key.rsa
-rw-r--r-- 1 bjorn bjorn      130 Feb 14 10:58 certificate.info
-rw-r--r-- 1 bjorn bjorn      128 Feb 14 10:58 sign.sha1.rsa
-rw-r--r-- 1 bjorn bjorn 10268368 Feb 14 10:58 update.aes
-rw-r--r-- 1 bjorn bjorn   936464 Feb 14 10:58 update.bin.aes
</code></pre></div>
<p dir="auto">So all the interesting stuff is AES encrypted, and the AES key is RSA
encrypted.  The only directly readable file is this one, and it
doesn't tell us much:</p>
<div data-snippet-clipboard-copy-content="$ cat certificate.info 
Publisher:DMdssdFW1
Supported Models:DCS-8000LH,DCS-8000LH
Firmware Version:1.0.0
Target:update.bin
Build No:3014
Contents:update"><pre><code>$ cat certificate.info 
Publisher:DMdssdFW1
Supported Models:DCS-8000LH,DCS-8000LH
Firmware Version:1.0.0
Target:update.bin
Build No:3014
Contents:update
</code></pre></div>
<p dir="auto">Not much we can do about this then.  Or so it seems...  Until we look
at <strong>firmwareupgrade.cgi</strong>, or <strong>fwupdate</strong> which has almost the same
code:</p>
<div dir="auto" data-snippet-clipboard-copy-content="verifyFirmware() {
	result=uploadSign
	#tar tf &quot;$UPLOADBIN&quot; > /dev/null 2> /dev/null || return 1
	fw_sign_verify.sh &quot;$UPLOADBIN&quot; /etc/db/verify.key > /dev/null 2> /dev/null || return 1
	return 0
}

decryptFirmware() {
	result=uploadDecrypt
	pibinfo PriKey > $dir/decrypt.key 2> /dev/null
	fw_decrypt.sh $dir/decrypt.key $out > /dev/null 2> /dev/null || return 1
	return 0
}"><pre><span>verifyFirmware</span>() {
	result=uploadSign
	<span><span>#</span>tar tf "$UPLOADBIN" &gt; /dev/null 2&gt; /dev/null || return 1</span>
	fw_sign_verify.sh <span><span>"</span><span>$UPLOADBIN</span><span>"</span></span> /etc/db/verify.key <span>&gt;</span> /dev/null <span>2&gt;</span> /dev/null <span>||</span> <span>return</span> 1
	<span>return</span> 0
}

<span>decryptFirmware</span>() {
	result=uploadDecrypt
	pibinfo PriKey <span>&gt;</span> <span>$dir</span>/decrypt.key <span>2&gt;</span> /dev/null
	fw_decrypt.sh <span>$dir</span>/decrypt.key <span>$out</span> <span>&gt;</span> /dev/null <span>2&gt;</span> /dev/null <span>||</span> <span>return</span> 1
	<span>return</span> 0
}</pre></div>
<p dir="auto">Can it be that simple?  Yes, it is.</p>
<p dir="auto">Looking further at the <strong>fw_sign_verify.sh</strong> and <strong>fw_decrypt.sh</strong>,
used by both update tools, confirms it.  The firmware is verified by
using the RSA public key in <strong>/etc/db/verify.key</strong> to decrypt the hash
in <strong>sign.sha1.rsa</strong>.  Then it is decrypted using a key from the
factory data <strong>pib</strong> partition.</p>
<h4 tabindex="-1" dir="auto">Further unpacking the firmware update</h4>
<p dir="auto">So we have the keys and the hashing algorithms we need to both verify
and decrypt this firmware.  We can run the commands found in
<strong>fw_decrypt.sh</strong> to get the real contents (slightly adapted to modern
openssl versions):</p>
<div data-snippet-clipboard-copy-content="$ openssl rsautl -decrypt -in aes.key.rsa -inkey decrypt.key -out aes.key

$ openssl aes-128-cbc -v -md md5 -kfile aes.key -nosalt -d -in update.bin.aes -out update.bin
bufsize=8192
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
bytes read   :   936464
bytes written:   936454

$ openssl aes-128-cbc -v -md md5 -kfile aes.key -nosalt -d -in update.aes -out update
bufsize=8192
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
bytes read   : 10268368
bytes written: 10268355

$ file update.bin update
update.bin: POSIX shell script, ASCII text executable
update:     data"><pre><code>$ openssl rsautl -decrypt -in aes.key.rsa -inkey decrypt.key -out aes.key

$ openssl aes-128-cbc -v -md md5 -kfile aes.key -nosalt -d -in update.bin.aes -out update.bin
bufsize=8192
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
bytes read   :   936464
bytes written:   936454

$ openssl aes-128-cbc -v -md md5 -kfile aes.key -nosalt -d -in update.aes -out update
bufsize=8192
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
bytes read   : 10268368
bytes written: 10268355

$ file update.bin update
update.bin: POSIX shell script, ASCII text executable
update:     data
</code></pre></div>
<p dir="auto">OK, the <strong>update</strong> file is still in an unknown format, but at least
we have the tool used to write it to the system. And it is a shell
script, so we have the source to look at too!  But 936454 bytes is a
hell of a shell script, and this is of course because most of it is an
uuencoded binary.  So we don't know exactly what that does.  But it is
named ddPack so a fair guess is that it is a tool for dd'ing multiple
file systems or other images packed as a single file.  That's really
enough info.</p>
<p dir="auto">binwalk shows that the <strong>update</strong> file is just two squashfs systems
and a kernel, with a 1024 header of some sort.  The header presumably
tells ddPack how it should apply these three images:</p>
<div data-snippet-clipboard-copy-content="$ binwalk update

DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------
1024          0x400           Squashfs filesystem, little endian, version 4.0, compression:xz, size: 338755 bytes, 16 inodes, blocksize: 131072 bytes, created: 2019-02-14 09:58:28
340992        0x53400         uImage header, header size: 64 bytes, header CRC: 0x675F081D, created: 2019-02-14 09:31:53, image size: 1661571 bytes, Data Address: 0x804D4960, Entry Point: 0x804D4960, data CRC: 0x73083021, OS: Linux, CPU: MIPS, image type: OS Kernel Image, compression type: none, image name: &quot;linux_3.10&quot;
2002627       0x1E8EC3        Squashfs filesystem, little endian, version 4.0, compression:xz, size: 8265620 bytes, 2145 inodes, blocksize: 131072 bytes, created: 2019-02-14 09:58:45"><pre><code>$ binwalk update

DECIMAL       HEXADECIMAL     DESCRIPTION
--------------------------------------------------------------------------------
1024          0x400           Squashfs filesystem, little endian, version 4.0, compression:xz, size: 338755 bytes, 16 inodes, blocksize: 131072 bytes, created: 2019-02-14 09:58:28
340992        0x53400         uImage header, header size: 64 bytes, header CRC: 0x675F081D, created: 2019-02-14 09:31:53, image size: 1661571 bytes, Data Address: 0x804D4960, Entry Point: 0x804D4960, data CRC: 0x73083021, OS: Linux, CPU: MIPS, image type: OS Kernel Image, compression type: none, image name: "linux_3.10"
2002627       0x1E8EC3        Squashfs filesystem, little endian, version 4.0, compression:xz, size: 8265620 bytes, 2145 inodes, blocksize: 131072 bytes, created: 2019-02-14 09:58:45
</code></pre></div>
<p dir="auto">But we can easily guess that without knowing anything about the
header.  There is only one alternative:</p>
<ul dir="auto">
<li>The kernel goes into the <strong>kernel</strong> partition</li>
<li>The 8265620 bytes squasfs system goes into the <strong>rootfs</strong> partition</li>
<li>The remaining squasfs system goes into the <strong>userdata</strong> partition</li>
</ul>
<p dir="auto">So there is no need to analyze ddPack.  We have the necessary entry
points for <strong>fwupdate</strong> or <strong>firmwareupgrade.cgi</strong> in the
<strong>update.bin</strong> script, and that's what we needed to know for the next
step:</p>
<h4 tabindex="-1" dir="auto">Creating our own firmware updates</h4>
<p dir="auto">We do have shell access, so we can simply write the file systems we
want to flash as shown earlier.  We don't need to use the D-Link
scripts.  But where's the fun in that?</p>
<p dir="auto">There is one challenge here: The D-Link tools are expecting signed and
encrypted firmware updates.  They will run their verifyFirmware() and
decryptFirmware() functions, and fail the update if any of the returns
an error.</p>
<p dir="auto">But bailing out on verification errors is only the default setting, as
illustrated by this code from <strong>fwupdate</strong> (there is code with similar
functionality in <strong>firmwareupgrade.cgi</strong>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="        TrustLevel=`tdb get SecureFW _TrustLevel_byte`
        verifyFirmware
        ret=$?
        case $ret in
                2)
                        sign=&quot;not_signed&quot;
                ;;
                0)
                        sign=&quot;trust&quot;
                ;;
                *)
                        sign=&quot;untrust&quot;
                ;;
        esac    
        if [ &quot;$do_up&quot; = &quot;1&quot; -a &quot;$ret&quot; != &quot;0&quot; -a &quot;$TrustLevel&quot; = &quot;1&quot; ]; then
                echo &quot;3&quot;
                return 1
        fi"><pre>        TrustLevel=<span><span>`</span>tdb get SecureFW _TrustLevel_byte<span>`</span></span>
        verifyFirmware
        ret=<span>$?</span>
        <span>case</span> <span>$ret</span> <span>in</span>
                2)
                        sign=<span><span>"</span>not_signed<span>"</span></span>
                ;;
                0)
                        sign=<span><span>"</span>trust<span>"</span></span>
                ;;
                <span>*</span>)
                        sign=<span><span>"</span>untrust<span>"</span></span>
                ;;
        <span>esac</span>    
        <span>if</span> [ <span><span>"</span><span>$do_up</span><span>"</span></span> <span>=</span> <span><span>"</span>1<span>"</span></span> <span>-a</span> <span><span>"</span><span>$ret</span><span>"</span></span> <span>!=</span> <span><span>"</span>0<span>"</span></span> <span>-a</span> <span><span>"</span><span>$TrustLevel</span><span>"</span></span> <span>=</span> <span><span>"</span>1<span>"</span></span> ]<span>;</span> <span>then</span>
                <span>echo</span> <span><span>"</span>3<span>"</span></span>
                <span>return</span> 1
        <span>fi</span></pre></div>
<p dir="auto">So we don't need to sign the firmware if we change the <strong>SecureFW
_TrustLevel</strong> setting.  Or we can even sign it with a key unknown to
the camera if we like.  Which can be useful if we ever replace the
[<strong>rootfs</strong>]](#Partitions), since it will allow us to install our own verification
key and use it with D-Links tools.</p>
<p dir="auto">But what about the encryption?  This cannot be disabled.  This gets
even better: The decrypting key so graciously provided to us in the
<a href="#Partitions"><strong>pib</strong></a> partition is an RSA private key. So not only can we decrypt
the firmware with it, but we can also encrypt! Nice.</p>
<p dir="auto">The <a href="https://github.com/bmork/defogger/blob/master/Makefile"><strong>Makefile</strong></a> in this repo has examples of how to use this to
create firmware update images which are accepted by the <strong>fwupdate</strong>
and <strong>firmwareupgrade.cgi</strong> tools.  It uses an alternatative
<a href="https://github.com/bmork/defogger/blob/master/update.sh"><strong>update.bin</strong></a> made to modify only the <a href="#Partitions"><strong>userdata</strong></a> partition.  This
way we can install our own code in the camera, but still leave the
D-Link camera OS unmodified.</p>
<h4 tabindex="-1" dir="auto"><a name="user-content-BuildFirmware"></a>Bulding the example firmware update in this repo</h4>
<p dir="auto">Rebuilding the example is as easy as typing <strong>make</strong>.  The Makefile is a
noisy one, so you can see all that's going on:</p>
<div data-snippet-clipboard-copy-content="$ make
echo &quot;WARNING: keys/DCS-8000LH-sign.pem is missing - using a new abitrary key instead&quot;
WARNING: keys/DCS-8000LH-sign.pem is missing - using a new abitrary key instead
[ -f random-signkey.pem ] || openssl genrsa -out random-signkey.pem
Generating RSA private key, 2048 bit long modulus (2 primes)
...............................................................................................................................+++++
........................................................................................................................................................+++++
e is 65537 (0x010001)
openssl rsa -pubout -in random-signkey.pem -out verify.key
writing RSA key
echo &quot;Publisher:DMdssdFW1&quot; >certificate.info
echo &quot;Supported Models:DCS-8000LH,DCS-8000LH&quot; >>certificate.info
echo &quot;Firmware Version:1.0.0&quot; >>certificate.info
echo &quot;Target:update.bin&quot; >>certificate.info
echo &quot;Build No:9999&quot; >>certificate.info
echo &quot;Contents:update&quot; >>certificate.info
openssl rand 16 > aes.key
openssl rsautl -encrypt -in aes.key -inkey keys/DCS-8000LH-PriKey.pem -out aes.key.rsa
sed -ne 's/&quot;//g' -e 's/^VERSION *= *//p' dcs8000lh-configure.py >version
mksquashfs version opt.local opt.squashfs -all-root -comp xz
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on opt.squashfs, block size 131072.
[===============================================================================================================================================================================================================|] 2/2 100%

Exportable Squashfs 4.0 filesystem, xz compressed, data block size 131072
        compressed data, compressed metadata, compressed fragments, compressed xattrs
        duplicates are removed
Filesystem size 1.08 Kbytes (0.00 Mbytes)
        60.69% of uncompressed filesystem size (1.79 Kbytes)
Inode table size 98 bytes (0.10 Kbytes)
        100.00% of uncompressed inode table size (98 bytes)
Directory table size 46 bytes (0.04 Kbytes)
        100.00% of uncompressed directory table size (46 bytes)
Number of duplicate files found 0
Number of inodes 3
Number of files 2
Number of fragments 1
Number of symbolic links  0
Number of device nodes 0
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 1
Number of ids (unique uids + gids) 1
Number of uids 1
        root (0)
Number of gids 1
        root (0)
openssl aes-128-cbc -md md5 -kfile aes.key -nosalt -e -out update.aes -in opt.squashfs
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
sed  -e &quot;s/@@MODEL@@/\&quot;DCS-8000LH\&quot;/&quot; -e &quot;s/@@MD5SUM@@/\&quot;f1a1d3952c1630e5adb53e7f93b59d5e\&quot;/&quot; -e &quot;s/@@VERSION@@/\&quot;1.0.0-9999\&quot;/&quot; update.sh >update.bin
openssl aes-128-cbc -md md5 -kfile aes.key -nosalt -e -out update.bin.aes -in update.bin
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
openssl dgst -sha1 update.aes | cut -d' ' -f2 > update.sha1
cat update.bin.aes aes.key.rsa certificate.info update.sha1 | openssl dgst -sha1 | cut -d' ' -f2 > sign.sha1
openssl rsautl -sign -inkey random-signkey.pem -out sign.sha1.rsa -in sign.sha1
tar cvf fw.tar certificate.info aes.key.rsa sign.sha1.rsa update.aes update.bin.aes verify.key
certificate.info
aes.key.rsa
sign.sha1.rsa
update.aes
update.bin.aes
verify.key
"><pre><code>$ make
echo "WARNING: keys/DCS-8000LH-sign.pem is missing - using a new abitrary key instead"
WARNING: keys/DCS-8000LH-sign.pem is missing - using a new abitrary key instead
[ -f random-signkey.pem ] || openssl genrsa -out random-signkey.pem
Generating RSA private key, 2048 bit long modulus (2 primes)
...............................................................................................................................+++++
........................................................................................................................................................+++++
e is 65537 (0x010001)
openssl rsa -pubout -in random-signkey.pem -out verify.key
writing RSA key
echo "Publisher:DMdssdFW1" &gt;certificate.info
echo "Supported Models:DCS-8000LH,DCS-8000LH" &gt;&gt;certificate.info
echo "Firmware Version:1.0.0" &gt;&gt;certificate.info
echo "Target:update.bin" &gt;&gt;certificate.info
echo "Build No:9999" &gt;&gt;certificate.info
echo "Contents:update" &gt;&gt;certificate.info
openssl rand 16 &gt; aes.key
openssl rsautl -encrypt -in aes.key -inkey keys/DCS-8000LH-PriKey.pem -out aes.key.rsa
sed -ne 's/"//g' -e 's/^VERSION *= *//p' dcs8000lh-configure.py &gt;version
mksquashfs version opt.local opt.squashfs -all-root -comp xz
Parallel mksquashfs: Using 4 processors
Creating 4.0 filesystem on opt.squashfs, block size 131072.
[===============================================================================================================================================================================================================|] 2/2 100%

Exportable Squashfs 4.0 filesystem, xz compressed, data block size 131072
        compressed data, compressed metadata, compressed fragments, compressed xattrs
        duplicates are removed
Filesystem size 1.08 Kbytes (0.00 Mbytes)
        60.69% of uncompressed filesystem size (1.79 Kbytes)
Inode table size 98 bytes (0.10 Kbytes)
        100.00% of uncompressed inode table size (98 bytes)
Directory table size 46 bytes (0.04 Kbytes)
        100.00% of uncompressed directory table size (46 bytes)
Number of duplicate files found 0
Number of inodes 3
Number of files 2
Number of fragments 1
Number of symbolic links  0
Number of device nodes 0
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 1
Number of ids (unique uids + gids) 1
Number of uids 1
        root (0)
Number of gids 1
        root (0)
openssl aes-128-cbc -md md5 -kfile aes.key -nosalt -e -out update.aes -in opt.squashfs
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
sed  -e "s/@@MODEL@@/\"DCS-8000LH\"/" -e "s/@@MD5SUM@@/\"f1a1d3952c1630e5adb53e7f93b59d5e\"/" -e "s/@@VERSION@@/\"1.0.0-9999\"/" update.sh &gt;update.bin
openssl aes-128-cbc -md md5 -kfile aes.key -nosalt -e -out update.bin.aes -in update.bin
*** WARNING : deprecated key derivation used.
Using -iter or -pbkdf2 would be better.
openssl dgst -sha1 update.aes | cut -d' ' -f2 &gt; update.sha1
cat update.bin.aes aes.key.rsa certificate.info update.sha1 | openssl dgst -sha1 | cut -d' ' -f2 &gt; sign.sha1
openssl rsautl -sign -inkey random-signkey.pem -out sign.sha1.rsa -in sign.sha1
tar cvf fw.tar certificate.info aes.key.rsa sign.sha1.rsa update.aes update.bin.aes verify.key
certificate.info
aes.key.rsa
sign.sha1.rsa
update.aes
update.bin.aes
verify.key

</code></pre></div>
<p dir="auto">This will produce a new <strong>fw.tar</strong> firmware update image.</p>
<h2 tabindex="-1" dir="auto">Contact</h2>
<p dir="auto">Please contact me on <a href="mailto:bjorn@mork.no">bjorn@mork.no</a> if you have questions, comments or
just want to say hi.</p>
<p dir="auto">But please note that I won't be able to provide any support for this.
I am making this information available for educational purposes.  If
you find it useful, then great!  If you brick a camera, then I am
truly sorry about that.  But there isn't much I can do about it....</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How to 1.5x your salary through negotiation (179 pts)]]></title>
            <link>https://careercutler.substack.com/p/how-you-can-15x-your-salary-through</link>
            <guid>36554909</guid>
            <pubDate>Sat, 01 Jul 2023 20:37:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://careercutler.substack.com/p/how-you-can-15x-your-salary-through">https://careercutler.substack.com/p/how-you-can-15x-your-salary-through</a>, See on <a href="https://news.ycombinator.com/item?id=36554909">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><p>Negotiation 😱</p><p>You may have already tensed up just from that word.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif" width="480" height="400" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/eb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif&quot;,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:400,&quot;width&quot;:480,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2923368,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/gif&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb39b33c-92f8-4122-b78d-5cee01de21a1_480x400.gif 1456w" sizes="100vw" fetchpriority="high"></picture></div></a></figure></div><p>You’ve probably read a ton of resources on it already. </p><p>But when it comes down to actually doing it, like me, you end up sifting through all your past saved resources, taking phrases from one book or article and wording from another. Just winging it.</p><p>No more! This guide will succinctly take you through the beginning of the process all the way to the end. We’ll handle edge cases and what to do when things go wrong at each step of the way.</p><p><span>Through that, you’ll learn </span><strong>how</strong><span> </span><strong>you can potentially 1.5x your salary through proper negotiation, even without competing offers (and yes, I do have proof of this happening)</strong><span>.</span></p><ul><li><p>A mindset to relieve stress from the negotiation</p></li><li><p>How to increase your salary even without competing offers and the exact wording you can use</p></li><li><p>Personally vetted bonus resources</p></li></ul><p><span>The dreaded question. </span><strong>The negotiation actually begins here.</strong></p><p>This question is super frustrating but handling it well can really set you up for success.</p><blockquote><p>“Yeah, I have some thoughts around it but I was actually wondering what the salary range for the position is?”</p></blockquote><p> Most states are required by law to tell you now, and I’ve never had a recruiter decline to share this.</p><p>If the top of the range is lower than you were hoping, be honest and tell them.</p><blockquote><p>“I see. I actually had a number in mind that was higher than the top of the range. Do you think there would be additional flexibility?”</p></blockquote><p>Otherwise, it was matching or it exceeded your expectations. You can say…</p><blockquote><p>“Cool, that’s within what I was thinking. I was leaning toward { top end of the range }.”</p></blockquote><p>The truth is, recruiters just want to know if this will be a waste of time based on your expectations. That’s why they ask you.</p><p>However, they often “double dip” and try to get you to give a number first rather than offering their range. But when you ask for the range in response, it’s almost certain they will tell you. </p><p>I’ve never had this happen, but if they’re refusing to give a range, you can…</p><ul><li><p>Ask for them to map the position to a FANG company</p><ul><li><p>This works because you have more data on FANG companies. If they say it matches an L5 at a FANG then you can expect something in that range.</p></li></ul></li><li><p><span>Give a </span><strong>HIGH </strong><span>anchor salary</span></p><ul><li><p>Do this when you have a rough idea of their salary range and you know that the number you give will be just barely above the top of their range.</p></li></ul></li><li><p>Delay the conversation</p></li></ul><blockquote><p>“I’d like to wait on sharing my salary expectations until I have more discussions with the team about the role expectations.”</p></blockquote><p>Negotiation can be stressful just thinking about it.</p><p>I think the top 3 reasons for this are that we worry about…</p><ul><li><p>Losing the offer</p></li><li><p>Coming off as greedy</p></li><li><p>Not knowing what to say</p></li></ul><p>Here’s what I’ve found helpful to get past these worries.</p><ul><li><p><strong>Losing the offer: </strong><span>Approach the conversation with a collaborative mindset. Imagine you are chatting with a friend. It’s not like the movies. </span><strong>It’s a conversation, not a negotiation</strong><span>.</span></p></li><li><p><strong>Coming off as greedy: </strong><span>Understand that the recruiter is on your side in that they want you to accept an offer. It’s their job to help you feel comfortable doing it.  Asking for more increases your perceived value and helps you gain respect. Finally, if you have a genuine personal reason like student loans, medical bills, wanting to buy a house, needing to take care of kids, etc. you can be honest about this to come off as less greedy. </span></p></li><li><p><strong>Not knowing what to say: </strong><span>This article contains over 10 examples of how to phrase things. But in general, if you approach it with collaboration and empathy first, it will come naturally.</span></p></li></ul><p>You’ve got the offer and you’re ready to talk to the recruiter. </p><p><span>Between the two, I’d recommend chatting on the </span><strong>phone </strong><span>instead of email for 2 reasons.</span></p><ol><li><p>Text in email can often come across less personal. It can put you two on opposite sides of the table. Chatting on the phone brings personability into it and will make it more collaborative.</p></li><li><p>Chatting on the phone will help build your skills in the long term for these types of conversations.</p></li></ol><p>Regardless, it’s better to negotiate than not at all. So you can’t go wrong!</p><p>The below advice will apply to either choice.</p><p>The start of the conversation is the most important.</p><p>It sets the tone and can get the recruiter on your side.</p><p><strong>You want to make the conversation as collaborative as possible. It’s just a conversation with a friend.</strong></p><p>Here’s how:</p><ol><li><p>Do some small talk initially. Ask how they are and see if you can find a common interest in what they bring up to talk about for 30 seconds - 1 minute.</p></li><li><p>Once you move to business talk, express happiness with the process led by the recruiter and the company.</p></li></ol><blockquote><p><span>“I wanted to thank you again for all your help through this process and for building a great experience for me as I met the team </span><strong>(this makes the recruiter feel great)</strong><span>. I’m super excited about the opportunity to work with everyone </span><strong>(this shows your happiness with the company)</strong><span>.”</span></p><p><em>You can say any variation of this that makes you feel comfortable.</em></p></blockquote><p>That’s it! Now we get into the ask.</p><p><strong>Too often I see advice saying that unless you have other offers, you can’t negotiate. This is plain wrong.</strong></p><p>Just by receiving an offer, you have leverage. Here’s how:</p><ul><li><p><strong>Time:</strong><span> The company wants you to sign as quickly as possible</span></p></li><li><p><strong>Loss:</strong><span> The company has declared they want YOU over another candidate (or they may not have other candidates at all)</span></p></li><li><p><strong>Investment:</strong><span> The company wants you to be as invested as possible. Additionally, they have spent thousands of dollars getting to this point. If you don’t accept and they have no other candidates, they will have to keep spending time and money.</span></p></li></ul><p><strong>Knowing the leverage you have, here are the options for negotiation:</strong></p><ol><li><p><strong>Time:</strong><span> Offering to “accept right now” at a certain compensation</span></p></li></ol><blockquote><p>“The number I had in mind was closer to $200,000. Do you think we’d be able to bridge that gap? If we could, I’d feel comfortable signing right now.”</p></blockquote><ol start="2"><li><p><strong>Loss:</strong><span> Mentioning you have other upcoming interviews</span></p><ol><li><p>This one is incredibly powerful because the company does not want to get into a bidding war. Make sure you prepare extra hard for your interview to maximize the value of this one and ensure the company views you highly.</p></li></ol></li></ol><blockquote><p>“I have a few more interviews with Adobe and Pinterest to finish up this week and next week. After I hear back, I think I’d have a bit more clarity. However, I’d love to get your thoughts on if we can get the offer to $200,000. If you think we could get there, I’d be excited to drop the interviews and accept right now.”</p></blockquote><ol start="3"><li><p><strong>Investment: </strong><span>The company benefits from you being more invested</span></p></li></ol><blockquote><p>“I’m super happy with how the interview process went and I’m excited to bring { skillset that you have that the company is looking for } to the company. I’m the type that intends to stay at a company for multiple years. I also get very passionate on the day-to-day, and I’d like the compensation to reflect that investment. The number I had in mind was $200,000. Do you think we could bridge the gap to that number?”</p></blockquote><p><span>I mixed the wording a little bit across each example to show you it doesn’t need to be exact. It’s more important how you say it. Focus on </span><strong>empathy and collaboration</strong><span>.</span></p><p>Getting another offer increases your leverage. </p><p>⬆️ More leverage = ✅ Easier negotiation</p><p>The main thing here is to keep it collaborative and think about what you actually want.</p><ul><li><p>Will you take the highest offer you get?</p></li><li><p>Do you know you’ll never accept one company regardless of how much they offer?</p></li><li><p>Do you want a different compensation structure (higher cash, lower equity)?</p></li></ul><p>You have the power here. You just need to be upfront about what you want and ask the recruiter if they can match or do better. Here are some examples:</p><ul><li><p><strong>Change compensation structure</strong></p></li></ul><blockquote><p>“I’d like to join your company; however, what’s making the decision challenging is I have another offer that is offering a much higher salary. I know that here we like to give a lot of equity. For me, what would make me most comfortable is moving some of the equity to more cash compensation. Do you think that would be possible?”</p></blockquote><ul><li><p><strong>Increase the total offer</strong></p></li></ul><blockquote><p><span>“Right now I’m between you and one other company. The other company offered $200,000 in total compensation. I’d really like to make it work with { Company you are talking to } though because I feel really aligned with { what you like about the company }. The compensation is an important part for me because I really want to buy a house in the next year </span><strong>(this sentence is optional and can be replaced by any personal reason. It helps make you come off less greedy and gives them an emotional reason)</strong><span>. Do you think we’d be able to increase the salary to match the other offer?”</span></p></blockquote><p>Sometimes you’ll work with companies that seemingly really want to stick to their initial offer. They will make it seem like the offer they gave is the best offer they can do and there is nothing more that’s possible. </p><p><strong>This is rarely ever true.</strong></p><p>Maybe they are right that the base salary is the highest they can give.</p><p><strong>But negotiation isn’t just about base salary.</strong></p><p>You can also negotiate…</p><ul><li><p>Additional equity</p></li><li><p>A signing bonus</p></li><li><p>A relocation bonus</p></li><li><p>Extra time off (if not unlimited)</p></li><li><p>Remote work options</p></li></ul><p><span>Again, Bring those into the conversation using </span><strong>empathy and collaboration</strong><span>.</span></p><blockquote><p>“I understand we aren’t able to increase the base salary. However, I still feel like there’s a gap and I’d really like to make something work. What else do you think would be possible?”</p><p><em>You can leave it here or you can mention any of the above factors to negotiate.</em></p></blockquote><ul><li><p>Ask for the salary range before sharing your expectations.</p></li><li><p>Make negotiating easier by building leverage</p><ul><li><p>Get other offers</p></li><li><p>Line up interviews to use your future interviews as leverage</p></li><li><p>Your willingness to “sign right now” rather than wait</p></li><li><p>Prepare extra hard for the interviews to make them really want you</p></li><li><p>If you’re working now, use your current salary to get at least 10% more</p></li></ul></li><li><p>Treat any negotiation like a conversation. It's not like the movies. Just chat with them and tell them what you would expect based on your experience and what you will bring to the team.</p></li><li><p>Don’t be afraid of negotiation. If you treat it like a conversation, there’s practically no way your offer gets rescinded. If it does, that’s a red flag for the company. If anything, negotiation increases your perceived value and builds respect.</p></li></ul><ul><li><p>YouTube videos</p><ul><li><p><a href="https://www.youtube.com/watch?v=fyn0CKPuPlA" rel="">Exponent Salary Negotiation Video with example conversations</a></p></li><li><p><a href="https://www.youtube.com/watch?v=sJ5Shzq68Ac" rel="">Chloe Shih Salary Negotiation Video</a></p></li><li><p>There are a lot more out there but I’ve personally vetted these as giving really good advice</p></li></ul></li><li><p><span>If you haven’t got the job offer yet and want some tips for that, </span><a href="https://careercutler.substack.com/p/advice-for-job-seekers-in-a-layoff" rel="">check my article with in-depth advice here</a><span>. There is a </span><a href="https://docs.google.com/document/d/1NkeYSZj9AjLTfB-hLA_b4q3-jh-MxG1g8y1wSXvMcVs/edit#heading=h.4j9t90j40w8j" rel="">section on negotiation in the interview strategy doc provided</a><span>.</span></p></li></ul><p>If you found this post valuable and you are currently not subscribed, hit the button below to have these delivered to you every Sunday.</p><p>You can also hit the like button at the bottom of this email to help support me. It really helps!</p><p><span>Finally, if you’d like more personal and specific advice, feel free to </span><a href="https://calendly.com/engineer-coach-jordan" rel="">schedule a coaching session with me on Calendly here</a><span>.</span></p><div data-attrs="{&quot;url&quot;:&quot;https://careercutler.substack.com/p/how-you-can-15x-your-salary-through?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;}" data-component-name="CaptionedButtonToDOM"><p>Thank you for reading High Growth Engineer. This post is public so feel free to share it.</p><p data-attrs="{&quot;url&quot;:&quot;https://careercutler.substack.com/p/how-you-can-15x-your-salary-through?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;}" data-component-name="ButtonCreateButton"><a href="https://careercutler.substack.com/p/how-you-can-15x-your-salary-through?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share</span></a></p></div></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Twitter bug causes self-DDoS, related to Musk’s emergency blocks, rate limits (162 pts)]]></title>
            <link>https://waxy.org/2023/07/twitter-bug-causes-self-ddos-possibly-causing-elon-musks-emergency-blocks-and-rate-limits-its-amateur-hour/</link>
            <guid>36554362</guid>
            <pubDate>Sat, 01 Jul 2023 19:54:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://waxy.org/2023/07/twitter-bug-causes-self-ddos-possibly-causing-elon-musks-emergency-blocks-and-rate-limits-its-amateur-hour/">https://waxy.org/2023/07/twitter-bug-causes-self-ddos-possibly-causing-elon-musks-emergency-blocks-and-rate-limits-its-amateur-hour/</a>, See on <a href="https://news.ycombinator.com/item?id=36554362">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
<main id="main" role="main">
<article id="post-46811">

<div>
<p>For the last two days, Elon Musk has claimed that Twitter is under attack from “<a href="https://twitter.com/elonmusk/status/1674887204580073474">several hundred organizations</a>” who were conducting “<a href="https://twitter.com/elonmusk/status/1674942336583757825">EXTREME levels of data scraping</a>,” forcing them to bring “large numbers of servers online on an emergency basis” and enact emergency measures.</p>
<p>Yesterday, Twitter started <a href="https://www.theverge.com/2023/6/30/23779764/twitter-blocks-unregistered-users-account-tweets">blocking all logged-out access</a> to Twitter, requiring signing in to view any tweet or profile. Elon Musk <a href="https://twitter.com/elonmusk/status/1674865731136020505">called it</a> a “temporary emergency measure,” claiming they “were getting data pillaged so much that it was degrading service for normal users!”</p>
<p>Apparently, it didn’t stop the crush of traffic and, this morning, Musk announced they escalated their actions against supposed “extreme levels of data scraping” by rate-limiting the number of tweets you can view.</p>
<figure><a href="https://twitter.com/elonmusk/status/1675187969420828672"><img decoding="async" width="554" height="265" src="https://waxy.org/wp-content/uploads/2023/07/image.png" alt="" srcset="https://waxy.org/wp-content/uploads/2023/07/image.png 554w, https://waxy.org/wp-content/uploads/2023/07/image-300x144.png 300w" sizes="(max-width: 554px) 100vw, 554px"></a></figure>
<p>Immediately, Twitter users started seeing “Rate Limit Exceeded” messages and every trending topic was about the collapse of Twitter:</p>
<figure><img decoding="async" loading="lazy" width="730" height="411" src="https://waxy.org/wp-content/uploads/2023/07/image-1.png" alt="" srcset="https://waxy.org/wp-content/uploads/2023/07/image-1.png 730w, https://waxy.org/wp-content/uploads/2023/07/image-1-300x169.png 300w" sizes="(max-width: 730px) 100vw, 730px"></figure>
<p>Are shadowy AI companies scraping Twitter for training data? Maybe!</p>
<p>But on Mastodon this morning, web developer Sheldon Chang <a href="https://sfba.social/@sysop408/110639435788921057">noticed</a> another source of unusual traffic: a bug in Twitter’s web app that is <strong>constantly sending requests to Twitter in an infinite loop</strong>:</p>
<blockquote>
<p>This is hilarious. It appears that Twitter is DDOSing itself.</p>
<p>The Twitter home feed’s been down for most of this morning. Even though nothing loads, the Twitter website never stops trying and trying.</p>
<p>In the first video, notice the error message that I’m being rate limited. Then notice the jiggling scrollbar on the right.</p>
<p>The second video shows why it’s jiggling. Twitter is firing off about 10 requests a second to itself to try and fetch content that never arrives because Elon’s latest genius innovation is to block people from being able to read Twitter without logging in.</p>
<p>This likely created some hellish conditions that the engineers never envisioned and so we get this comedy of errors resulting in the most epic of self-owns, the self-DDOS.</p>
<p>Unbelievable. It’s amateur hour.</p>
</blockquote>
<p>He <a href="https://sfba.social/@sysop408/110639474671754723">posted a video</a> of the bug in action, sending hundreds of requests a minute.</p>
<blockquote>
<figure><video controls="" src="https://waxy.org/wp-content/uploads/2023/07/twitter_loop.mp4"></video></figure>
</blockquote>
<p>On Twitter, software engineer Nelson Minar <a href="https://twitter.com/nelson/status/1675168548958924800">independently</a> reproduced the bug with his own video capture.</p>
<figure><a href="https://twitter.com/nelson/status/1675168548958924800"><img decoding="async" loading="lazy" width="591" height="254" src="https://waxy.org/wp-content/uploads/2023/07/image-2.png" alt="" srcset="https://waxy.org/wp-content/uploads/2023/07/image-2.png 591w, https://waxy.org/wp-content/uploads/2023/07/image-2-300x129.png 300w" sizes="(max-width: 591px) 100vw, 591px"></a></figure>
<hr>
<p>It’s currently unclear when this bug went into production, or how much it’s actually impacting their traffic, so it’s hard to determine whether this bug inadvertently inspired Twitter to block unregistered access and add rate limits, or if the bug was triggered by the rollout of those changes.</p>
<p>On Bluesky, Twitter’s former head of trust and safety Yoel Roth <a href="https://bsky.link/?url=https://bsky.app/profile/yoyoel.com/post/3jzid6t7kwv25">wrote</a>, “For anyone keeping track, this isn’t even the first time they’ve completely broken the site by bumbling around in the rate limiter. There’s a reason the limiter was one of the most locked down internal tools. Futzing around with rate limits is probably the easiest way to break Twitter.”</p>
<p><a href="https://sfba.social/@sysop408/110639609718939225">Sheldon suspects</a> the bug was related to yesterday’s decision to block unregistered users from accessing Twitter, but <a href="https://sfba.social/@sysop408/110640529859605266">in a followup</a>, wrote that it’s “probably not the cause of their scraping panic and most of these requests are being blocked.”</p>
<p>It seems very likely that <a href="https://www.engadget.com/twitter-shut-off-its-free-api-and-its-breaking-a-lot-of-apps-222011637.html?guccounter=1&amp;guce_referrer=aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8&amp;guce_referrer_sig=AQAAANLvtUj121h_L-UH13CO5isVKgC1qi7lzrhXGpDQXqIGso1Qb_6K1GSfvxHw0vBMxuWO1fSZSFOHLDHBchMN-Zws0Vpb778fDspy8e4KcvJy8DSLtvANP1X5X0P4PZJ8hEcmi-gqbwRSRdTSTcEOR3xz0ko47hvEOwaLLLg6CZWD">killing free access to the Twitter API</a> led to a big increase in scraping, since countless businesses, organizations, and individuals used it for their projects. It’s also plausible that these issues are entirely unrelated.</p>
<p>Still, how funny would it be if this “emergency,” from start to finish, was brought on by a Javascript bug that caused Twitter to DDOS itself, spawning all of these truly terrible decisions? At this point in Twitter’s downward spiral, nothing would surprise me.</p>
<p>If you know more, leave a comment or <a href="https://waxy.org/cdn-cgi/l/email-protection#ea86858daa9d8b9293c485988d">get in touch</a>. Confidentiality guaranteed.</p>
</div>
</article>

</main>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bluesky facing degraded performance due to record high traffic (177 pts)]]></title>
            <link>https://bsky.app/profile/bsky.app/post/3jzi4yw3nqu2h</link>
            <guid>36554053</guid>
            <pubDate>Sat, 01 Jul 2023 19:26:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bsky.app/profile/bsky.app/post/3jzi4yw3nqu2h">https://bsky.app/profile/bsky.app/post/3jzi4yw3nqu2h</a>, See on <a href="https://news.ycombinator.com/item?id=36554053">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Workers with less experience gain the most from generative AI (145 pts)]]></title>
            <link>https://mitsloan.mit.edu/ideas-made-to-matter/workers-less-experience-gain-most-generative-ai</link>
            <guid>36553987</guid>
            <pubDate>Sat, 01 Jul 2023 19:20:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mitsloan.mit.edu/ideas-made-to-matter/workers-less-experience-gain-most-generative-ai">https://mitsloan.mit.edu/ideas-made-to-matter/workers-less-experience-gain-most-generative-ai</a>, See on <a href="https://news.ycombinator.com/item?id=36553987">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                            

            
              <p>Generative artificial intelligence may be able to <a aria-label="Opens in a new window" href="https://mackinstitute.wharton.upenn.edu/wp-content/uploads/2023/01/Christian-Terwiesch-Chat-GTP.pdf" target="_blank">pass the bar exam</a> or <a aria-label="Opens in a new window" href="https://www.cnn.com/2023/01/19/tech/chatgpt-future-davos/index.html" target="_blank">help CEOs write speeches</a>. But those results have been generated in a controlled setting, and with relatively little at stake.</p>

<p>In the real world, enterprises face the age-old question of technology innovation: How will generative AI <a aria-label="Opens in a new window" href="https://mitsloan.mit.edu/ideas-made-to-matter/new-book-explores-how-ai-really-changes-way-we-work" target="_blank">affect workers</a>, particularly those with limited experience?</p>

      

<p>According to a new <a aria-label="Opens in a new window" href="https://danielle-li.github.io/assets/docs/GenerativeAIatWork.pdf" target="_blank">paper</a> by MIT Sloan associate professor&nbsp; MIT Sloan PhD candidate <a aria-label="Opens in a new window" href="https://sites.google.com/view/lindsey-raymond/" target="_blank">Lindsey Raymond</a>, and Stanford University professor <a aria-label="Opens in a new window" href="https://www.brynjolfsson.com/" target="_blank">Erik Brynjolfsson</a>, PhD ’91, inexperienced workers actually stand to benefit the most from generative AI.</p>

<p>The co-authors found that contact center agents with access to a conversational assistant saw a 14% boost in productivity, with the largest gains impacting new or low-skilled workers. In other words, the workers were upskilled, not replaced, thanks to the technology.</p>

<p>“Generative AI seems to be able to decrease inequality in productivity, helping lower-skilled workers significantly but with little effect on high-skilled workers,” Li said. “Without access to an AI tool, less-experienced workers would slowly get better at their jobs. Now they can get better faster.”</p>

<h2><strong>A different kind of disruption</strong></h2>

<p>Generative AI is the latest in a line of technologies to disrupt the workplace. Computers that can complete data entry, bookkeeping, and basic assembly-line tasks have been replacing or augmenting workers for decades. More recently, computerization has streamlined research and analysis, helping workers do more in less time.</p>

<p>Many of these technologies work when provided with explicit instructions, Li said: If you provide the right input, the computer will give you the right output. The subset of generative AI known as large language models is different, though, as it can infer the relationships between the inputs and outputs. (“Language” is a bit of a misnomer, as models can also analyze audio and visual files, computer code, protein sequences, and many other data sources.)</p>

<p>“If you give a large language model enough pictures of your mother and pictures of women who aren’t your mother, it will be able to figure out whether a single picture is your mother,” Li said. “What’s the impact of a technology that can do that?”</p>

<h2><strong>Room for improvement in the contact center</strong></h2>

<p>To study the impact of large language models, the researchers looked at a customer contact center at a Fortune 500 company that sells software to small businesses in the U.S. Eighty-three percent of the agents were based outside the U.S.</p>

  <section data-size="small" data-sdp-id="56925">

    

          
  
    <svg data-num-count="3" data-size="small" alt="14%" viewBox="0 0 444 254" width="444px" height="254px" preserveAspectRatio="xMaxYMax" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><linearGradient id="data_point--gradient_56925" x1="0" x2="1"><stop stop-color="#ec0044" offset="0"></stop><stop stop-color="#f9917c" offset="1"></stop></linearGradient><mask id="data_point--mask_56925"><text><tspan data-number-slot="" data-enabled="true" y="242"></tspan><tspan data-number-slot="1" data-enabled="true" y="242">1</tspan><tspan data-number-slot="2" data-enabled="true" y="242">4</tspan><tspan data-number-slot="" data-enabled="true" y="242">%</tspan></text></mask></defs><rect x="0" y="0" width="444" height="250" fill="url(#data_point--gradient_56925)" mask="url(#data_point--mask_56925)"></rect></svg>

          
  
    <p>Contact center agents with access to an AI assistant were 14% more productive, with low-skilled workers improving the most. </p>

    </section><p>Average contact centers have much room for improvement, the researchers write. Supervisors can spend up to 20 hours each week training low performers. Improvement comes from experience, which often means dealing with stressed-out customers. This can lead to employee burnout and extraordinarily high turnover; annually, up to 60% of contact center workers leave, and companies spend as much as $20,000 to replace each employee.</p>

<p>“Highly skilled workers are good at reading customers’ frustration — and that can take getting yelled at for six months,” Li said.</p>

<p>An abundance of data is another reason contact centers are a good testing ground for generative AI. As anyone who has called a helpline knows, conversations between agents and customers are routinely recorded for quality assurance purposes.</p>

<p>That gives generative AI models access to a large training data set, which can be used to provide agents with recommended responses to common customer questions or links to relevant product documentation.</p>

<p>Li and her co-authors emphasized that the generative AI model was meant to augment and not outright replace the contact center employees. The model offered recommendations only if it was “sufficiently confident” in its answers, which reduced the number of incorrect responses. In addition, workers weren’t required to use the recommendations. They followed them 38% of the time, which is consistent with the industry average for generative AI tools, Li said.</p>

<h2><strong>Gains in efficiency and customer sentiment</strong></h2>

<p>Workers using the generative AI model increased the number of customer chats resolved per hour by 13.8%, the researchers found. Within two months, they were resolving 2.5 chats per hour, compared with 1.7 for colleagues not using the model, who needed eight months to hit the higher threshold. In addition, workers using the AI model spent an average of 35 minutes on each chat, compared with 40 minutes for their colleagues who lacked a model. (These figures also account for the fact that workers often manage more than one chat at once.)</p>

<p>As noted, productivity gains were highest among workers with the least experience, who resolved 35% more chats per hour when they used the generative model. Productivity was essentially flat for workers with the most skills and experience.</p>

<p>Using the generative AI model also led to improved customer sentiment. Requests to speak to a manager declined by 25%, and transfers to other departments tended to happen earlier in the conversation, which suggests that the AI model was able to help workers better match a customer’s problem to the right business unit for a solution.</p>

<p>“The large effects on the lower-skilled workers tell us a lot about how we’re changing what workers are saying,” Li said. “It’s not just a recommendation that they always follow. It’s not just auto-complete. It seems that the model was changing [how they responded], leaving the customer thinking the situation has been resolved.”</p>

<h2><strong>Important findings, uncertain implications </strong></h2>

<p>The paper’s findings show a clear benefit to using generative AI in the context of the contact center. They also raise a lot of questions, Li said.</p>

  <section><header><h3>Related Articles</h3>
    </header><p>
                    <a title="Study: Industry now dominates AI research " href="https://mitsloan.mit.edu/ideas-made-to-matter/study-industry-now-dominates-ai-research" data-dynamic="false" data-image-enabled="true" target="_blank">
                                    <figure data-slot="first" aria-label="A business person with a face made of circuit board towers over a smaller academic person with a face made of circuit board"></figure><span data-slot="first">Study: Industry now dominates AI research </span>
            </a>
                    <a title="Why companies need artificial intelligence explainability" href="https://mitsloan.mit.edu/ideas-made-to-matter/why-companies-need-artificial-intelligence-explainability" data-dynamic="false" data-image-enabled="true" target="_blank">
                                    <figure data-slot="second" aria-label="A question mark on a robot's face with network imagery"></figure><span data-slot="second">Why companies need artificial intelligence explainability</span>
            </a>
                    <a title="The hidden work created by artificial intelligence programs" href="https://mitsloan.mit.edu/ideas-made-to-matter/hidden-work-created-artificial-intelligence-programs" data-dynamic="false" data-image-enabled="true" target="_blank">
                                    <figure data-slot="third" aria-label="An illustration of a person using a flashlight to cast a beam a light amongst a sky of binary code"></figure><span data-slot="third">The hidden work created by artificial intelligence programs</span>
            </a>
            </p>
</section><p>First, it isn’t clear who benefits from the productivity gains. Are contact center agents paid more when their performance improves, or do the developers of the AI model get a bonus? If workers can resolve more chats per hour, does a company hire fewer agents? Will contact center volumes increase as customers begin to realize the experience is better than it used to be?</p>

<p>It’s also worth exploring whether workers are learning from the AI model’s recommendations or simply following instructions. Are they becoming what Li described as a “small business owner whisperer,” learning how to diagnose customers’ specific problems? Or are they more like programmers copying code snippets from GitHub or drivers getting to their destination faster using Waze —&nbsp;using the provided recommendations to augment their work without thinking about how to solve the larger problem.</p>

<p>“If you’re just typing the recommendations, then you may not necessarily be learning. You’re more productive, but the source of your productivity resides in the technology,” Li said.</p>

<p>On the other hand, if companies take the time to teach workers how the technology can augment what they do, “workers start to learn faster, “ Li said. “And being faster at learning is going to make a big difference.”</p>

<p><a aria-label="Opens in a new window" href="https://mitsloan.mit.edu/ideas-made-to-matter/why-generative-ai-needs-a-creative-human-touch" target="_blank">Read next: why generative AI needs a creative human touch</a></p>


                            
                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[“It appears that Twitter is DDoSing itself” (385 pts)]]></title>
            <link>https://sfba.social/@sysop408/110639474671754723</link>
            <guid>36553762</guid>
            <pubDate>Sat, 01 Jul 2023 18:58:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sfba.social/@sysop408/110639474671754723">https://sfba.social/@sysop408/110639474671754723</a>, See on <a href="https://news.ycombinator.com/item?id=36553762">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Twitter Is DDOSing Itself (1225 pts)]]></title>
            <link>https://sfba.social/@sysop408/110639435788921057</link>
            <guid>36553236</guid>
            <pubDate>Sat, 01 Jul 2023 18:17:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sfba.social/@sysop408/110639435788921057">https://sfba.social/@sysop408/110639435788921057</a>, See on <a href="https://news.ycombinator.com/item?id=36553236">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[The complex history of the Intel i960 RISC processor (116 pts)]]></title>
            <link>http://www.righto.com/2023/07/the-complex-history-of-intel-i960-risc.html</link>
            <guid>36552844</guid>
            <pubDate>Sat, 01 Jul 2023 17:49:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://www.righto.com/2023/07/the-complex-history-of-intel-i960-risc.html">http://www.righto.com/2023/07/the-complex-history-of-intel-i960-risc.html</a>, See on <a href="https://news.ycombinator.com/item?id=36552844">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="post-body-2731307596521436851" itemprop="description articleBody">



<p>The Intel i960 was a remarkable 32-bit processor of the 1990s with a confusing set of versions.
Although it is now mostly forgotten (outside the many people who used it as an embedded processor), it has a complex history.
It had a shot at being Intel's flagship processor until x86 overshadowed it.
Later, it was the world's best-selling RISC processor.
One variant was a <b>33</b>-bit processor with a decidedly non-RISC object-oriented instruction set;
it became a military standard and was used in the F-22 fighter plane.
Another version powered Intel's short-lived Unix servers.
In this blog post, I'll take a look at the history of the i960, explain its different variants, and examine silicon dies.
This chip has a lot of mythology and confusion (especially on <a href="https://en.wikipedia.org/wiki/Intel_i960">Wikipedia</a>), so I'll
try to clear things up.</p>
<h2>Roots: the iAPX 432</h2>
<p><a href="https://static.righto.com/images/960-overview/intel432.jpg"><img alt="&quot;Intel 432&quot;: Cover detail from Introduction to the iAPX 432 Architecture." height="215" src="https://static.righto.com/images/960-overview/intel432-w450.jpg" title="&quot;Intel 432&quot;: Cover detail from Introduction to the iAPX 432 Architecture." width="450"></a></p>
<p>The ancestry of the i960 starts in 1975, when Intel set out to design a "micro-mainframe",
a revolutionary processor that would bring the power of mainframe computers to microprocessors.
This project, eventually called the iAPX 432, was a huge leap in features and complexity.
Intel had just released the popular 8080 processor in 1974, an 8-bit processor that kicked off the hobbyist computer era with computers
such as the Altair and IMSAI.
However, 8-bit microprocessors were toys compared to 16-bit minicomputers like the PDP-11, let alone mainframes like the 32-bit IBM System/370.
Most companies were gradually taking minicomputer and mainframe features and putting them into microprocessors, but
Intel wanted to leapfrog to a mainframe-class 32-bit processor.
The processor would make programmers much more productive by bridging the "semantic gap" between high-level languages and simple processors, implementing many features directly into the processor.</p>
<!-- https://www.google.com/books/edition/Journal_of_Pascal_and_Ada/d0UsAQAAIAAJ?hl=en&gbpv=1&bsq=ada+dominant+programming+language&dq=ada+dominant+programming+language&printsec=frontcover -->
<!-- https://books.google.com/books?id=1mQDa_UuMbYC&pg=PA51&dq=ada+dominant+programming+language&hl=en&sa=X&ved=2ahUKEwjkx535sLX_AhUfFlkFHemmCtoQ6AF6BAgFEAI#v=onepage&q=ada%20dominant%20programming%20language&f=false -->

<!--
The [June 1981](https://www.computer.org/csdl/magazine/co/1981/06) issue of IEEE Computer was devoted to highly positive coverage of the Ada language.
-->

<p>The <a href="https://homes.cs.washington.edu/~levy/capabook/Chapter9.pdf">432 processor</a> included memory management, process management, and interprocess communication.
These features were traditionally part of the operating system, but Intel built them in the processor,
calling this the "<a href="http://www.bitsavers.org/components/intel/iAPX_432/171821-001_Introduction_to_the_iAPX_432_Architecture_Aug81.pdf">Silicon Operating System</a>".
The processor was also one of the first to implement the new IEEE 754 floating-point standard, still in use by most processors.
The 432 also had support for fault tolerance and multi-processor systems.
One of the most unusual features of the 432 was that instructions weren't byte aligned. Instead, instructions were between 6 and 321 bits long,
and you could jump into the middle of a byte.
Another unusual feature was that the 432 was a stack-based machine, pushing and popping values on an in-memory stack, rather than
using general-purpose registers.</p>
<p>The 432 provided hardware support for object-oriented programming, built around
an unforgeable object pointer called an Access Descriptor.
Almost every structure in a 432 program and in the system itself is a separate object.
The processor provided fine-grain security and access control by
checking every object access to ensure that the user had permission and was not exceeding the bounds of the object.
This made buffer overruns and related classes of bugs impossible, unlike modern processors.</p>
<!-- Ada and iAPX 432 developed in parallel https://books.google.com/books?id=DT4EAAAAMBAJ&pg=PA39&dq=iapx+432+ada&hl=en&sa=X&ved=2ahUKEwiV2citlqr_AhXWlWoFHfE9AyUQuwV6BAgKEAY#v=onepage&q=iapx%20432%20ada&f=false -->

<p><a href="https://static.righto.com/images/960-overview/iapx432.jpg"><img alt="This photo from the Intel 1981 annual report shows Intel's 432-based development computer and three of the engineers." height="469" src="https://static.righto.com/images/960-overview/iapx432-w350.jpg" title="This photo from the Intel 1981 annual report shows Intel's 432-based development computer and three of the engineers." width="350"></a></p><p>This photo from the Intel 1981 annual report shows Intel's 432-based development computer and three of the engineers.</p>
<p>The new, object-oriented Ada language was the primary programming language for the 432.
The US Department of Defense developed the Ada language in the late 1970s and early 1980s to provide a common language for
embedded systems, using the latest ideas from object-oriented programming.
Proponents expected Ada to become the dominant computer language for the 1980s and beyond.
In 1979, Intel realized that Ada was a good target for the iAPX 432, since they had similar object and task models.
Intel <a href="https://www.computer.org/csdl/magazine/co/1981/06/01667402/13rRUB7a19L">decided to</a>
"establish itself as an early center of Ada technology by using the language as the
primary development and application language for the
new iAPX 432 architecture."
The iAPX 432's operating system (<a href="http://www.bitsavers.org/components/intel/iAPX_432/172103-002_iMAX_432_Reference_Manual_May82.pdf">iMAX 432</a>) and other software were written in Ada, using one of the first Ada compilers.</p>
<p>Unfortunately, iAPX 432 project was way too ambitious for its time.
After a couple of years of slow progress, Intel realized that they needed a stopgap processor to counter competitors such as Zilog and Motorola.
Intel quickly designed a 16-bit processor that they could sell until the 432 was ready.
This processor was the Intel 8086 (1978), which lives on in the x86 architecture used by most computers today.
Critically, the importance of the 8086 was not recognized at the time.
In 1981, IBM selected Intel's 8088 processor (a version of the 8086 with an 8-bit bus) for the IBM PC.
In time, the success of the IBM PC and compatible systems led to Intel's dominance of the microprocessor market, but in 1981
Intel viewed the IBM PC as just another design win.
As Intel VP Bill Davidow later said, "We knew it was an important win. We didn't realize it was the only win."</p>
<!-- Creating the Digital Future, p27 -->

<p><a href="https://static.righto.com/images/960-overview/ibm-pc.jpg"><img alt="Caption: IBM chose Intel's high performance 8088 microprocessor as the central processing unit for the IBM Personal Computer, introduced in 1981. Seven Intel peripheral components are also integrated into the IBM Personal Computer.  From Intel's 1981 annual report." height="328" src="https://static.righto.com/images/960-overview/ibm-pc-w350.jpg" title="Caption: IBM chose Intel's high performance 8088 microprocessor as the central processing unit for the IBM Personal Computer, introduced in 1981. Seven Intel peripheral components are also integrated into the IBM Personal Computer.  From Intel's 1981 annual report." width="350"></a></p><p>Caption: IBM chose Intel's high performance 8088 microprocessor as the central processing unit for the IBM Personal Computer, introduced in 1981. Seven Intel peripheral components are also integrated into the IBM Personal Computer.  From <a href="https://www.intel.com/content/www/us/en/history/history-1981-annual-report.html">Intel's 1981 annual report</a>.</p>
<p>Intel finally released the iAPX 432 in 1981.
Intel's <a href="https://www.intel.com/content/www/us/en/history/history-1981-annual-report.html">1981 annual report</a> shows the
importance of the 432 to Intel.
A section titled "The Micromainframe™ Arrives" enthusiastically described the iAPX 432 and how it would "open the door to applications not previously feasible".
To Intel's surprise, the iAPX 432 ended up as "one of the great disaster stories of modern computing" as
the New York Times <a href="https://archive.nytimes.com/www.nytimes.com/library/tech/98/04/biztech/articles/05merced.html">put it</a>.
The processor was so complicated that it was split across two very large chips:<span id="fnref:size"><a href="#fn:size">1</a></span> one
to decode instructions and a second to execute them
Delivered years behind schedule, the micro-mainframe's performance was dismal, much worse than competitors and even the stopgap 8086.<span id="fnref:432"><a href="#fn:432">2</a></span>
Sales were minimal and the 432 quietly dropped out of sight.</p>
<p><a href="https://static.righto.com/images/960-overview/432-dies.jpg"><img alt="My die photos of the two chips that make up the iAPX 432 General Data Processor. Click for a larger version." height="289" src="https://static.righto.com/images/960-overview/432-dies-w600.jpg" title="My die photos of the two chips that make up the iAPX 432 General Data Processor. Click for a larger version." width="600"></a></p><p>My die photos of the two chips that make up the iAPX 432 General Data Processor. Click for a larger version.</p>
<h2>Intel picks a 32-bit architecture (or two, or three)</h2>
<p>In 1982, Intel still didn't realize the importance of the x86 architecture.
The follow-on 186 and 286 processors were released but without much success at first.<span id="fnref:286"><a href="#fn:286">3</a></span>
Intel was working on the 386, a 32-bit successor to the 286, but their main customer IBM was very unenthusiastic.<span id="fnref:ibm286"><a href="#fn:ibm286">4</a></span>
Support for the 386 was so weak that the 386 team worried that the project might be dead.<span id="fnref:386-oral-history"><a href="#fn:386-oral-history">5</a></span>
Meanwhile, the 432 team continued their work.
Intel also had a third processor design in the works, a 32-bit VAX-like processor codenamed P4.<span id="fnref:processor-numbers"><a href="#fn:processor-numbers">6</a></span></p>
<p>Intel recognized that developing three unrelated 32-bit processors was impractical and formed a task force to develop a
Single High-End Architecture (SHEA).
The task force didn't achieve a single architecture, but they decided to
merge the 432 and the P4 into a processor codenamed the P7, which would become the i960.
They also decided to continue the 386 project.
(Ironically, in 1986, Intel started yet another 32-bit processor, the unrelated <a href="https://spectrum.ieee.org/intel-i860">i860</a>, bringing
the number of 32-bit architectures back to three.)</p>
<p>At the time, the 386 team felt that they were treated as the
"stepchild" while the P7 project was the focus of Intel's attention.
This would change as the sales of x86-based personal computers climbed and money poured into Intel.
The 386 team would soon transform from stepchild to king.<span id="fnref2:386-oral-history"><a href="#fn:386-oral-history">5</a></span></p>
<h2>The first release of the i960 processor</h2>
<p>Meanwhile,
the 1980 paper <a href="https://inst.eecs.berkeley.edu/~n252/paper/RISC-patterson.pdf">The case for the Reduced Instruction Set Computer</a>
proposed a revolutionary new approach for computer architecture: building Reduced Instruction Set Computers (RISC) instead of
Complex Instruction Set Computers (CISC).
The paper argued that the trend toward increasing complexity was doing more harm than good.
Instead, since "every transistor is precious" on a VLSI chip, the instruction set should be simplified,
only adding features that quantitatively improved performance.</p>
<p>The RISC approach became very popular in the 1980s.
Processors that followed the RISC philosophy generally converged on an approach with
32-bit easy-to-decode instructions,
a load-store architecture (separating computation instructions from instructions that accessed memory),
straightforward instructions that executed in one clock cycle,
and implementing instructions directly rather than through microcode.</p>
<p>The P7 project combined the RISC philosophy and the ideas from the 432 to create Intel's first RISC chip, originally called
the 80960<span id="fnref:80960"><a href="#fn:80960">7</a></span> and later the i960.
The chip, announced in 1988, was significant enough for coverage in the <a href="https://www.nytimes.com/1988/04/06/business/company-news-a-new-family-of-intel-chips.html">New York Times</a>.
Analysts said that the chip was marketed as an embedded controller to avoid stealing sales from the 80386.
However, Intel's claimed motivation was the size of the embedded market;
Intel chip designer Steve McGeady <a href="https://archive.org/details/198902ByteMagazineVol1402PersonalWorkstationMacSE/page/n13/mode/2up?q=embedded+80960+29000">said at the time</a>, "I'd rather put an 80960 in every antiskid braking system than in every Sun workstation.”
Nonetheless, Intel also used the i960 as a workstation processor, as will be described in the next section.</p>
<p>The block diagram below shows the microarchitecture of the original i960 processors.
The microarchitecture of the i960 followed most (but not all) of the common RISC design:
a large register set, mostly one-cycle instructions,
a load/store architecture, simple instruction formats, and a pipelined architecture.
The Local Register Cache contains four sets of the 16 local registers. These "<a href="https://en.wikipedia.org/wiki/Register_window">register windows</a>" allow the registers to be switched during
function calls without the delay of saving registers to the stack.
The micro-instruction ROM and sequencer hold microcode for complex instructions; microcode is highly unusual for a RISC processor.
The chip's Floating Point Unit<span id="fnref:fp-80387"><a href="#fn:fp-80387">8</a></span> and Memory Management Unit are advanced features for the time.</p>
<p><a href="https://static.righto.com/images/960-overview/arch-xa.jpg"><img alt="The microarchitecture of the i960 XA. FPU is Floating Point Unit. IEU is Instruction Execution Unit. MMU is Memory Management Unit. From the 80960 datasheet." height="288" src="https://static.righto.com/images/960-overview/arch-xa-w600.jpg" title="The microarchitecture of the i960 XA. FPU is Floating Point Unit. IEU is Instruction Execution Unit. MMU is Memory Management Unit. From the 80960 datasheet." width="600"></a></p><p>The microarchitecture of the i960 XA. <i>FPU</i> is Floating Point Unit. <i>IEU</i> is Instruction Execution Unit. <i>MMU</i> is Memory Management Unit. From the <a href="http://www.bitsavers.org/components/intel/i960/271159-001_80960XA_Advance_Information_Oct90.pdf">80960 datasheet</a>.</p>
<p>It's interesting to compare the i960 to the 432: the programmer-visible architectures are completely different, while the instruction
sets are almost identical.<span id="fnref:instruction-set-note"><a href="#fn:instruction-set-note">9</a></span>
Architecturally, the 432 is a stack-based machine with no registers, while the i960 is a load-store machine with many registers.
Moreover, the 432 had complex variable-length instructions, while the i960 uses simple fixed-length load-store instructions.
At the low level, the instructions are different due to the extreme architectural differences between the processors,
but otherwise, the instructions are remarkably similar, modulo some name changes.</p>
<p>The key to understanding the i960 family is that there are four architectures, ranging from a straightforward RISC processor to
a 33-bit processor implementing the 432's complex instruction set and object model.<span id="fnref:myers"><a href="#fn:myers">10</a></span>
Each architecture adds additional functionality to the previous one:</p>
<ul>
<li>
The Core architecture consists of a "RISC-like" core.
</li><li>
The Numerics architecture extends Core with floating-point.
</li><li>
The Protected architecture extends Numerics with paged memory management, Supervisor/User protection, string instructions,
process scheduling, interprocess communication for OS, and symmetric multiprocessing.
</li><li>
The Extended architecture extends Protected with object addressing/protection and interprocess communication for applications.
This architecture used an extra tag bit, so registers, the bus, and memory were 33 bits wide instead of 32.
</li></ul>

<p>These four versions were sold as the KA (Core), KB (Numerics), MC (Protected), and XA (Extended).
The KA chip cost $174 and the KB version cost $333 while MC was aimed at the military market and cost a whopping $2400.
The most advanced chip (XA) was, at first, kept proprietary for use by BiiN (discussed below), but was later sold to the military.
The military versions weren't secret, but it is very hard to find documentation on them.<span id="fnref:extended"><a href="#fn:extended">11</a></span></p>
<!-- https://www.google.com/books/edition/Circuit_Cellar_Ink/NoBVAAAAYAAJ?hl=en&gbpv=1&bsq=%22mc%22 -->

<!-- https://books.google.com/books?id=ADoEAAAAMBAJ&pg=PT43&dq=intel+%2280960%22&hl=en&sa=X&ved=2ahUKEwjIwIzbwab_AhWjSDABHUlEBS8Q6AF6BAgBEAI#v=onepage&q=intel%20%2280960%22&f=false -->

<p>The strangest thing about these four architectures is that the chips were <em>identical</em>, using the same die.
In other words, the simple Core chip included all the circuitry for floating point, memory management, and objects; these features just weren't used.<span id="fnref:features"><a href="#fn:features">12</a></span>
The die photo below shows the die, with the main functional
units labeled.
Around the edge of the die are the bond pads that connect the die to the external pins.
Note that the right half of the chip has almost no bond pads. As a result, the packaged IC had many unused pins.<span id="fnref:no-connection"><a href="#fn:no-connection">13</a></span></p>
<p><a href="https://static.righto.com/images/960-overview/80960MC-labeled.jpg"><img alt="The i960 KA/KB/MC/XA with the main functional blocks labeled. Click this image (or any other) for a larger version. Die image courtesy of Antoine Bercovici.  Floorplan from The 80960 microprocessor architecture." height="603" src="https://static.righto.com/images/960-overview/80960MC-labeled-w600.jpg" title="The i960 KA/KB/MC/XA with the main functional blocks labeled. Click this image (or any other) for a larger version. Die image courtesy of Antoine Bercovici.  Floorplan from The 80960 microprocessor architecture." width="600"></a></p><p>The i960 KA/KB/MC/XA with the main functional blocks labeled. Click this image (or any other) for a larger version. Die image courtesy of Antoine Bercovici.  Floorplan from <a href="https://archive.org/details/80960microproces0000myer/page/15/mode/1up">The 80960 microprocessor architecture</a>.</p>
<p>One advanced feature of the i960 is register scoreboarding, visible in the upper-left corner of the die.
The idea is that loading a register from memory is slow, so to improve performance, the processor executes the following instructions
while the load completes, rather than waiting.
Of course, an instruction can't be executed if it uses a register that is being loaded, since the value isn't there.
The solution is a "scoreboard" that tracks which registers are valid and which are still being loaded, and blocks an instruction
if the register isn't ready.
The i960 could handle up to three outstanding reads, providing a significant performance gain.</p>
<p>The most complex i960 architecture is the Extended architecture, which provides the object-oriented system.
This architecture is designed around an unforgeable pointer called an Access Descriptor that provides protected access to
an object.
What makes the pointer unforgeable is that it is 33 bits long with an extra bit that indicates an Access Descriptor.
You can't set this bit with a regular 32-bit instruction. Instead, an Access Descriptor can only be created with a special
privileged instruction, "Create AD".<span id="fnref:objects-432"><a href="#fn:objects-432">14</a></span></p>
<p><a href="https://static.righto.com/images/960-overview/object-diagram.jpg"><img alt="An Access Descriptor is a pointer to an object table. From BiiN Object Computing." height="249" src="https://static.righto.com/images/960-overview/object-diagram-w550.jpg" title="An Access Descriptor is a pointer to an object table. From BiiN Object Computing." width="550"></a></p>
<p>The diagram above shows how objects work.
The 33-bit Access Descriptor (AD) has its tag bit set to 1, indicating that it is a valid Access Descriptor.
The Rights field controls what actions can be performed by this object reference.
The AD's Object Index references the Object Table that holds information about each object.
In particular, the Base Address and Size define the object's location in memory and ensure that an access cannot exceed
the bounds of the object.
The Type Definition defines the various operations that can be performed on the object.
Since this is all implemented by the processor at the instruction level, it provides strict security.</p>
<h2>Gemini and BiiN</h2>
<p>The i960 was heavily influenced by a partnership called Gemini and then BiiN.
In 1983, near the start of the i960 project, Intel formed a partnership with Siemens to build high-performance fault-tolerant servers.
In this partnership, Intel would provide the hardware while Siemens developed the software.
This partnership allowed Intel to move beyond the chip market to the potentially-lucrative systems market, while adding powerful systems to
Siemens' product line.
The Gemini team contained many of the people from the 432 project and wanted to continue the 432's architecture.
Gemini worked closely with the developers of the i960 to ensure the new processor would meet their needs; both teams worked
in the same building at Intel's Jones Farm site in Oregon.</p>
<p><a href="https://static.righto.com/images/960-overview/biin60.jpg"><img alt="The BiiN 60 system. From BiiN 60 Technical Overview." height="440" src="https://static.righto.com/images/960-overview/biin60-w400.jpg" title="The BiiN 60 system. From BiiN 60 Technical Overview." width="400"></a></p>
<p>In 1988, shortly after the announcement of the i960 chips, the Intel/Siemens partnership was spun off into a company called BiiN.<span id="fnref:biin"><a href="#fn:biin">15</a></span>
BiiN announced two high-performance, fault-tolerant, multiprocessor systems.
These systems used the i960 XA processor<span id="fnref:xa"><a href="#fn:xa">16</a></span> and took full advantage of the object-oriented model
and other features provided by its Extended architecture.
The <a href="https://books.google.com/books?id=pDsEAAAAMBAJ&amp;pg=PA35">BiiN 20</a> was designed for departmental computing and cost $43,000 to $80,000. It supported 50 users (connected by terminals) on one 5.5-MIPS i960 processor.
The larger BiiN 60 handled up to 1000 terminals and cost $345,000 to $815,000.
The Unix-compatible BiiN operating system (BiiN/OS) and utilities were written in 2 million lines of Ada code.</p>
<p>BiiN described many <a href="https://books.google.com/books?id=pFcxi38ScwAC&amp;pg=PP10">potential markets</a> for these systems: government, factory automation, financial services, on-line transaction processing,
manufacturing, and health care.
Unfortunately, as <a href="https://www.cs.drexel.edu/~jjohnson/2012-13/fall/cs281/resources/Embedded_Processors_(ExtremeTech).pdf">ExtremeTech put it</a>, "the market for fault-tolerant Unix workstations was approximately nil."
BiiN was shut down in 1989, just 15 months after its creation as profitability kept becoming more distant.
BiiN earned the nickname "Billions invested in Nothing"; the actual investment was 1700 person-years and $430 million.</p>
<!-- https://www.google.com/books/edition/Entrepreneurship_and_Innovation_in_Secon/OgUJJPuDvfQC?hl=en&gbpv=1&bsq=960 -->

<!--
![The BiiN 20 system. From <a href="https://archive.org/details/bub_gb_pDsEAAAAMBAJ_2/page/n33/mode/2up">InfoWorld</a>.](biin20.jpg "w300")
-->

<!-- BiiN is discussed in detail in https://ieeexplore.ieee.org/document/63665 -->

<!--
![The process control block. From <a href="http://www.bitsavers.org/components/intel/i960/271081-001_80960MC_Programmers_Reference_Manual_Jul88.pdf">80960MC Programmer's Reference Manual</a>.](process-control-block.jpg "w400")
-->

<!--
You might argue that these instructions are essentially subroutines in ROM, built up from RISC instructions.
For the most part, that's true.
However, the process scheduling operations are tied into an internal processor timer, so there is some hardware support.
-->

<!--
[PC Magazine](https://books.google.com/books?id=oabZ_SN3dxEC&pg=PA51&hl=en&sa=X&ved=2ahUKEwjE5Zf31cb-AhUMkYkEHZt2C_wQ6AF6BAgBEAI#v=onepage&q&f=false)
states that the 386 team moved to the i960 after the 386 project (so presumably around 1985).
Wikipedia [states](https://en.wikipedia.org/wiki/Intel_i960#End_of_development) that the i960 team was moved to the Pentium Pro
team in 1990.
Glenn Hinton i960CA then Pentium Pro senior architect. https://www.anandtech.com/show/16438/new-intel-ceo-making-waves-rehiring-retired-cpu-architects
Gurbir Singh and Nitin Sarangdhar designed the i960 bus and moved to Pentium Pro team.
-->

<h2>The superscalar i960 CA</h2>
<p>One year after the first i960, Intel released the groundbreaking i960 CA.
This chip was the world's first superscalar microprocessor, able to execute more than one instruction per clock cycle.
The chip had three execution units that could operate in parallel:
an integer execution unit, a multiply/divide unit, and an address generation unit that could also do integer arithmetic.<span id="fnref:ca"><a href="#fn:ca">17</a></span>
To keep the execution units busy, the i960 CA's instruction sequencer examined four instructions at once and determined which ones could be issued in parallel without
conflict.
It could issue two instructions and a branch each clock cycle, using branch prediction to speculatively execute branches out of order.</p>
<p><a href="https://static.righto.com/images/960-overview/80960CA-labeled.jpg"><img alt="The i960 CA die, with functional blocks labeled. Photo courtesy of Antoine Bercovici. Functional blocks from the datasheet." height="457" src="https://static.righto.com/images/960-overview/80960CA-labeled-w700.jpg" title="The i960 CA die, with functional blocks labeled. Photo courtesy of Antoine Bercovici. Functional blocks from the datasheet." width="700"></a></p><p>The i960 CA die, with functional blocks labeled. Photo courtesy of Antoine Bercovici. Functional blocks from <a href="http://datasheets.chipdb.org/Intel/80960/PRODBREF/272211_3.PDF">the datasheet</a>.</p>
<p>Following the CA, several other superscalar variants were produced:
the CF had more cache, the military MM implemented the Protected architecture (memory management and a floating point unit),
and the military MX implemented the Extended architecture (object-oriented).</p>
<p>The image below shows the 960 MX die with the main functional blocks labeled.
(I think the MM and MX used the same die but I'm not sure.<span id="fnref:mm"><a href="#fn:mm">18</a></span>)
Like the i960 CA, this chip has multiple functional units that can be operated in parallel for its superscalar execution.
Note the wide buses between various blocks, allowing high internal bandwidth.
The die was too large for the optical projection of the mask, with the result that the corners of the circuitry needed to be rounded off.</p>
<p><a href="https://static.righto.com/images/960-overview/die-labeled.jpg"><img alt="The i960MX die with the main functional blocks labeled. This is a die photo I took, with labels based on my reverse engineering." height="699" src="https://static.righto.com/images/960-overview/die-labeled-w600.jpg" title="The i960MX die with the main functional blocks labeled. This is a die photo I took, with labels based on my reverse engineering." width="600"></a></p><p>The i960MX die with the main functional blocks labeled. This is a die photo I took, with labels based on my reverse engineering.</p>
<p>The block diagram of the i960 MX shows the complexity of the chip and how it is designed for parallelism.
The register file is the heart of the chip. It is multi-ported so up to 6 registers can be accessed at the same time.
Note the multiple, 256-bit wide buses between the register file and the various functional units.
The chip has two buses: a high-bandwidth Backside Bus between the chip and its external cache and private memory;
and a New Local Bus, which runs at half the speed and connects the chip to main memory and I/O.
For highest performance, the chip's software would access its private memory over the high-speed bus, while using the
slower bus for I/O and shared memory accesses.</p>
<p><a href="https://static.righto.com/images/960-overview/960mx-block-diagram.jpg"><img alt="A functional block diagram of the i960 MX. From Intel Military and Special Projects Handbook, 1993." height="405" src="https://static.righto.com/images/960-overview/960mx-block-diagram-w700.jpg" title="A functional block diagram of the i960 MX. From Intel Military and Special Projects Handbook, 1993." width="700"></a></p><p>A functional block diagram of the i960 MX. From Intel Military and Special Projects Handbook, 1993.</p>
<h2>Military use and the JIAWG standard</h2>
<p>The i960 had a special role in the US military.
In 1987 the military <a href="https://people.cs.kuleuven.be/~dirk.craeynest/ada-belgium/archive/ase/ase02_01/docs/pol_hist/policy/3405-1.txt">mandated</a> the use of Ada as the single, common computer programming language for Defense computer resources in most cases.<span id="fnref:ada"><a href="#fn:ada">19</a></span>
In 1989, the military created the JIAWG standard, which selected two 32-bit instruction set architectures for military avionics.
These architectures were the i960's Extended architecture (implemented by the i960 XA) and the MIPS architecture (based on a RISC project at Stanford).<span id="fnref:standard"><a href="#fn:standard">20</a></span>
The superscalar i960 MX processor described earlier soon became a popular JIAWG-compliant processor, since it had higher performance than the XA.</p>
<!-- Ada seems destined to become the dominant programming language of the 1980s. -->
<!-- https://www.computer.org/csdl/magazine/co/1981/06/01667393/13rRUB7a13Y -->

<!--
I should point out that you didn't need to use an Extended architecture chip to run Ada; there were Ada compilers
available for all the i960 processors, although without the hardware enforcement that the Extended architecture processors provided.
-->
<!-- http://intel-vintage-developer.eu5.org/DESIGN/I960/DEVTOOLS/I960.HTM -->

<p>Hughes designed a modular avionics processor that used the i960 XA and later the MX.
A dense module called the HAC-32 contained two i960 MX processors, 2 MB of RAM, and an I/O controller in a 2"×4" multi-chip module, slightly bigger than a credit card.
This module had bare dies bonded to the substrate, maximizing the density.
In the photo below, the two largest dies are the i960 MX while the numerous gray rectangles are memory chips.
This module was used in F-22's Common Integrated Processor, the RAH-66 Comanche helicopter (which was canceled), the F/A-18's Stores Management Processor
(the computer that controls attached weapons), and the AN/ALR-67 radar computer.</p>
<p><a href="https://static.righto.com/images/960-overview/hughes.jpg"><img alt="The Hughes HAC-32. From Avionics Systems Design." height="413" src="https://static.righto.com/images/960-overview/hughes-w600.jpg" title="The Hughes HAC-32. From Avionics Systems Design." width="600"></a></p>
<p>The military market is difficult due to the long timelines of military projects, unpredictable volumes, and the risk
of cancellations.
In the case of the F-22 fighter plane, the project started in 1985 when the Air Force sent out proposals for a new Advanced Tactical Fighter.
Lockheed built a YF-22 prototype, first flying it in 1990.
The Air Force selected the YF-22 over the competing YF-23 in 1991 and the project moved to full-scale development.
During this time, at least three generations of processors became obsolete.
In particular, the i960MX was out of production by the time the F-22 first flew in <a href="https://www.militaryaerospace.com/computers/article/16710716/f22-avionics-designers-rely-on-obsolescent-electronics-but-plan-for-future-upgrades">1997</a>.
At one point, the military had to pay Intel $22 million to restart the i960 production line.
In 2001, the Air Force started a switch to the PowerPC processor, and finally the plane entered military service in 2005.
The F-22 illustrates how the fast-paced obsolescence of processors is a big problem for decades-long military projects.</p>
<!--
The i960 production line was permanently [shut down](https://www.gao.gov/assets/gao-04-391.pdf) in January 2004 after the Air Force made its last purchase of 820 chips.
-->

<p><a href="https://static.righto.com/images/960-overview/cip.jpg"><img alt="The Common Integrated Processor for the F-22, presumably with i960 MX chips inside. It is the equivalent of two Cray supercomputers and was the world's most advanced, high-speed computer system for a fighter aircraft. Source: NARA/Hughes Aircraft Co./T.W. Goosman." height="325" src="https://static.righto.com/images/960-overview/cip-w500.jpg" title="The Common Integrated Processor for the F-22, presumably with i960 MX chips inside. It is the equivalent of two Cray supercomputers and was the world's most advanced, high-speed computer system for a fighter aircraft. Source: NARA/Hughes Aircraft Co./T.W. Goosman." width="500"></a></p><p>The Common Integrated Processor for the F-22, presumably with i960 MX chips inside. It is the equivalent of two Cray supercomputers and was the world's most advanced, high-speed computer system for a fighter aircraft. Source: <a href="https://nara.getarchive.net/media/a-close-up-view-of-the-common-integrated-processor-which-was-developed-for-704456">NARA/Hughes Aircraft Co./T.W. Goosman</a>.</p>
<p>Intel charged thousands of dollars for each i960 MX and each F-22 contained a cluster of 35 i960 MX processors, so the military
market was potentially lucrative. The Air Force originally planned to buy 750 planes, but cut this down to just 187, which must
have been a blow to Intel.
As for the Comanche helicopter, the Army planned to buy 1200 of them, but the program was canceled entirely after building two prototypes.
The point is that the military market is risky and low volume even in the best circumstances.<span id="fnref:tredennick"><a href="#fn:tredennick">21</a></span>
In 1998, Intel decided to <a href="https://www.militaryaerospace.com/computers/article/16710194/intel-set-to-quit-military-business">leave</a> the military business entirely, joining AMD and Motorola.</p>
<!--
The i960 MX was also used in the [MLRS rocket system](https://apps.dtic.mil/sti/pdfs/ADA295248.pdf) while its [ATACMS missile](https://archive.org/details/DTIC_ADA298330/page/n272/mode/1up) used
dual i960s.
-->

<p>Foreign militaries also made use of the i960. In 2008 a businessman was sentenced to <a href="https://www.justice.gov/archive/opa/pr/2008/June/08-ag-540.html">35 months in prison</a> for illegally exporting hundreds of i960 chips into India for use in the radar for the Tejas Light Combat Aircraft.</p>
<!-- http://archive.indianexpress.com/news/exhal-staffer-pleads-guilty-in-us-to-illegal-exports-for-indian-missile-programme/284734/0 -->
<!-- https://www.globalsecurity.org/military/world/india/lca-design.htm -->

<h2>i960: the later years</h2>
<p>By 1990, the i960 was selling well, but the landscape at Intel had changed.
The 386 processor was enormously successful, due to the Compaq Deskpro 386 and other systems, leading to Intel's first
billion-dollar quarter.
The 8086 had started as a stopgap processor to fill a temporary marketing need, but
now the x86 was Intel's moneymaking engine.
As part of a reorganization, the i960 project was transferred to Chandler, Arizona.
Much of the i960 team in Oregon moved to the newly-formed Pentium Pro team, while others ended up on the 486 DX2 processor.
This wasn't the end of the i960, but the intensity had reduced.</p>
<p>To reduce system cost, Intel produced versions of the i960 that had a 16-bit bus, although the processor was 32 bits internally.
(This is the same approach that Intel used with the 8088 processor, a version of the 8086 processor with an 8-bit bus instead
of 16.)
The i960 SB had the "Numerics" architecture, that is, with a floating-point unit.
Looking at the die below, we can see that the SB design is rather "lazy", simply the previous die (KA/KB/MC/XA) with a thin layer of circuitry around
the border to implement the 16-bit bus.
Even though the SB didn't support memory management or objects, Intel didn't remove that circuitry.
The process was reportedly moved from 1.5 microns to 1 micron, shrinking the die to 270 mils square.</p>
<!-- "Intel adds low-end, high-end 960 processors" from Microprocessor Reports -->

<p><a href="https://static.righto.com/images/960-overview/960SB.jpg"><img alt="Comparison of the original i960 die and the i960 SB. Photos courtesy of Antoine Bercovici." height="391" src="https://static.righto.com/images/960-overview/960SB-w700.jpg" title="Comparison of the original i960 die and the i960 SB. Photos courtesy of Antoine Bercovici." width="700"></a></p><p>Comparison of the original i960 die and the i960 SB. Photos courtesy of Antoine Bercovici.</p>
<p>The next chip, the i960 SA, was the 16-bit-bus "Core" architecture, without floating point.
The SA was based on the SB but Intel finally removed unused functionality from the die, making the die about 24% smaller.
The diagram below shows how the address translation, translation lookaside buffer, and floating point unit were removed,
along with much of the microcode (yellow).
The instruction cache tags (purple), registers (orange), and execution unit (green) were moved to fit into the
available space.
The left half of the chip remained unchanged.
The driver circuitry around the edges of the chip was also tightened up, saving a bit of space.</p>
<p><a href="https://static.righto.com/images/960-overview/SB-SA.jpg"><img alt="This diagram compares the SB and SA chips. Photos courtesy of Antoine Bercovici." height="383" src="https://static.righto.com/images/960-overview/SB-SA-w700.jpg" title="This diagram compares the SB and SA chips. Photos courtesy of Antoine Bercovici." width="700"></a></p><p>This diagram compares the SB and SA chips. Photos courtesy of Antoine Bercovici.</p>
<p>Intel introduced the high-performance Hx family around 1994.
This family was superscalar like the CA/CF, but the Hx chips also had a faster clock, had much more cache, and included additional functionality such
as timers and a guarded memory unit.
The Jx family was introduced as the midrange, cost-effective line, faster and better than the original chips but not superscalar like the Hx.
Intel attempted to move the i960 into the I/O controller market with the Rx family and the VH.<span id="fnref:vh"><a href="#fn:vh">23</a></span>
This was part of Intel's Intelligent Input/Output specification (I2O), which was a failure overall.</p>
<p>For a while, the i960 was a big success in the marketplace and was used in many products. Laser printers and graphical terminals were key applications, both taking
advantage of the i960's high speed to move pixels.
The i960 was the world's best-selling RISC chip in <a href="https://www.intc.com/filings-reports/all-sec-filings/content/0000050863-95-000004/10-K.txt">1994</a>.
However, without focused development, the performance of the i960 fell behind the competition, and its market share rapidly dropped.</p>
<p><a href="https://static.righto.com/images/960-overview/market-share.jpg"><img alt="Market share of embedded RISC processors. From ExtremeTech." height="211" src="https://static.righto.com/images/960-overview/market-share-w350.jpg" title="Market share of embedded RISC processors. From ExtremeTech." width="350"></a></p><p>Market share of embedded RISC processors. From <a href="https://www.cs.drexel.edu/~jjohnson/2012-13/fall/cs281/resources/Embedded_Processors_(ExtremeTech).pdf">ExtremeTech</a>.</p>
<p>By the late 1990s, the i960 was described with terms such as "aging", "venerable", and "medieval".
In 1999, <a href="https://websrv.cecs.uci.edu/~papers/mpr/MPR/19990510/130601.pdf">Microprocessor Report</a> described the situation:
"The i960
survived on cast-off semiconductor processes two to three
generations old; the i960CA is still built in a 1.0-micron process (perhaps by little old ladies with X-Acto knives)."<span id="fnref:rubylith"><a href="#fn:rubylith">22</a></span></p>
<p>One of the strongest competitors was DEC's powerful StrongARM processor design, a descendant of the ARM chip.
Even Intel's top-of-the-line i960HT
<a href="https://websrv.cecs.uci.edu/~papers/mpr/MPR/ARTICLES/100201.pdf">fared pitifully</a>
against the StrongARM, with worse cost, performance, and power consumption.
In 1997, DEC sued Intel, claiming that the Pentium infringed ten of DEC's patents.
As part of the complex but mutually-beneficial <a href="https://www.nytimes.com/1997/10/28/business/intel-and-digital-settle-lawsuit-and-make-deal.html">1997 settlement</a>, Intel obtained rights to the StrongARM chip.
As Intel turned its embedded focus from i960 to StrongARM,
<a href="https://techmonitor.ai/technology/intel_speeds_up_the_i960_chip_by_adding_more_cache">one writer</a> wrote, "Things are looking somewhat bleak for Intel Corp's ten-year-old i960 processor."
The i960 limped on for another decade until
Intel officially <a href="https://www.theregister.com/2006/05/18/intel_cans_386_486_960_cpus/">ended production</a> in 2007.</p>
<!--
Ironically, the i960 outlasted the StrongARM, which Intel [abandoned](https://www.infoworld.com/article/2678798/intel-puts-strongarm-on-death-row.html) in 2004 for the follow-on XScale architecture.

-->

<!--
    [Fred Pollack](https://ieeexplore.ieee.org/author/37724570200), manager of the i960 architecture, became architecture
    manager of the Pentium Pro in 1990.
    Glenn Hinton, who led the superscalar i960 CA design, moved to the Pentium Pro team.
    Gurbir Singh and Nitin Sarangdhar, who designed the i960 bus, also moved to Pentium Pro team.
    Randy Steck, who (I think) designed the i960 MM, became project leader for the Pentium Pro.
    Bob Bentley moved from validation manager of the i960 to Director of pre-silicon validation for the Pentium Pro in 1992.
    The 486DX2 team was formed from engineeres from the i960 according to the book [Entrepreneurship and Innovation in Second Tier Regions](https://www.google.com/books/edition/Entrepreneurship_and_Innovation_in_Secon/OgUJJPuDvfQC?hl=en&gbpv=1&pg=PA102&printsec=frontcover).
    -->

<!--
The i960 didn't end at that point of course; new engineers were brought in create the Hx and Hx processors, such as
Richard Brunner who joined Intel from DEC in 1992.
-->
<!-- https://www.linkedin.com/in/randy-steck-430821/details/experience/ -->

<h2>RISC or CISC?</h2>
<p>The i960 challenges the definitions of RISC and CISC processors.<span id="fnref:risc"><a href="#fn:risc">24</a></span>
It is generally considered a RISC processor, but its architect
says "RISC techniques were used for high performance, CISC techniques for ease of use."<span id="fnref:upr"><a href="#fn:upr">25</a></span>
John Mashey of MIPS described it as on the RISC/CISC border<span id="fnref:mashey"><a href="#fn:mashey">26</a></span>
while Steve Furber (co-creator of ARM) <a href="https://amzn.to/3JyCoix">wrote</a> that it "includes many RISC ideas, but it is not a simple chip" with "many
complex instructions which make recourse to microcode" and a design that "is more reminiscent of a complex,
mainframe architecture than a simple, pipelined RISC."
And they were talking about the i960 KB with the simple Numerics architecture, not the complicated Extended architecture!</p>
<p>Even the basic Core architecture has many non-RISC-like features.
It has microcoded instructions that take multiple cycles (such as integer multiplication),
numerous addressing modes<span id="fnref:addressing"><a href="#fn:addressing">27</a></span>, and unnecessary instructions (e.g. AND NOT as well as NOT AND).
It also has a large variety of datatypes, even more than the 432:
integer (8, 16, 32, or 64 bit), ordinal (8, 16, 32, or 64 bit),
decimal digits, bit fields, triple-word (96 bits), and quad-word (128 bits).
The Numerics architecture adds floating-point reals (32, 64, or 80 bit) while the Protected architecture adds byte strings
with decidedly CISC-like instructions to act on them.<span id="fnref:string"><a href="#fn:string">28</a></span></p>
<p>When you get to the Extended architecture with objects, process management, and interprocess communication instructions, the
large instruction set seems obviously CISC.<span id="fnref:instruction-set"><a href="#fn:instruction-set">29</a></span> (The instruction set is essentially the same as 432 and the 432 is an extremely CISC processor.)
You could argue that the i960 Core architecture is RISC and the Extended architecture is CISC, but the problem is that they are identical chips.</p>
<p>Of course, it doesn't really matter if the i960 is considered RISC, CISC, or CISC instructions running on a RISC core.
But the i960 shows that RISC and CISC aren't as straightforward as they might seem.</p>
<h2>Summary</h2>
<p>The i960 chips can be confusing since there are four architectures, along with scalar vs. superscalar, and multiple families over time.
I've made the table below to summarize the i960 family and the approximate dates.
The upper entries are the scalar families while the lower entries are superscalar.
The columns indicate the four architectural variants; although the i960 started with four variants, eventually Intel
focused on only the Core.
Note that each "x" family represents multiple chips.</p>


<table>
<tbody><tr><th>Core</th><th>Numerics</th><th>Protected</th><th>Extended</th><th></th></tr>
<tr><td>KA</td><td>KB</td><td>MC</td><td>XA</td><td>Original (1988)</td></tr>
<tr><td>SA</td><td>SB</td><td>&nbsp;</td><td>&nbsp;</td><td>Entry level, 16-bit data bus (1991)</td></tr>
<tr><td>Jx</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Midrange (1993-1998)</td></tr>
<tr><td>Rx,VH</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>I/O interface (1995-2001)</td></tr>
<tr><td>CA,CF</td><td>&nbsp;</td><td>MM</td><td>MX</td><td>Superscalar (1989-1992)</td></tr>
<tr><td>Hx</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>Superscalar, higher performance (1994)</td></tr>
</tbody></table>

<!--
I should point out that the Berkeley RISC paper considers one justification for an instruction to be that it is "unsynthesizable",
that you can't replace it with multiple simpler instructions
This condition is met by the instructions for unforgeable object pointers, since they need to be implemented by the
processor. (That is, the instructions are needed for security and can't be replaced by other instructions, just like
a Supervisor Call instruction.)
Thus, you could argue that these instructions satisfy the RISC philosophy.
The Berkeley RISC paper also "allows" instructions that provide a strong performance benefit such as floating point,
although putting floating point in a RISC chip was controversial with many people.
-->

<p>Although the i960 is now mostly forgotten, it was an innovative processor for the time.
The first generation was Intel's first RISC chip, but pushed the boundary of RISC with many CISC-like features.
The i960 XA literally set the standard for military computing, selected by the JIAWG as the military's architecture.
The i960 CA provided a performance breakthrough with its superscalar architecture.
But Moore's Law means that competitors can rapidly overtake a chip, and the i960 ended up as history.</p>
<p>Thanks to Glen Myers, Kevin Kahn, Steven McGeady, and others from Intel for answering my questions about the i960.
I plan to write more, so
follow me on Twitter <a href="https://twitter.com/kenshirriff">@kenshirriff</a> or <a href="http://www.righto.com/feeds/posts/default">RSS</a> for updates.
I've also started experimenting with Mastodon recently as <a href="https://oldbytes.space/@kenshirriff">@<span data-cfemail="204b454e5348495252494646604f4c4442595445530e5350414345">[email&nbsp;protected]</span></a>
and Bluesky as <a href="https://staging.bsky.app/profile/righto.com">@righto.com</a> so you can follow me there too.</p>
<h2>Notes and references</h2>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Tell HN: Twitter switched temporarily to rate limited mode (530 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=36552324</link>
            <guid>36552324</guid>
            <pubDate>Sat, 01 Jul 2023 17:14:08 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=36552324">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <tbody><tr id="36552695"><td></td></tr>
                <tr id="36553047"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553047" href="https://news.ycombinator.com/vote?id=36553047&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Comments moved thither. Thanks!<p>Edit: actually, since that source doesn't appear to have a paywall workaround at the moment, I'm going to merge the thread back hither.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36553309"><td></td></tr>
                <tr id="36553992"><td></td></tr>
                  <tr id="36553400"><td></td></tr>
            <tr id="36553258"><td></td></tr>
                <tr id="36554029"><td></td></tr>
            <tr id="36554310"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554310" href="https://news.ycombinator.com/vote?id=36554310&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>All? Even important service announcements or serious notifications?<p>edit: why the downvotes? I'm simply trying to engage in curious discussion. Apologies, I'm neurodivergent and I can't often discern between humor or not.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555921"><td></td></tr>
            <tr id="36557002"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36557002" href="https://news.ycombinator.com/vote?id=36557002&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; edit: why the downvotes? I'm simply trying to engage in curious discussion. Apologies, I'm neurodivergent and I can't often discern between humor or not.<p>I appreciate your willingness to ask questions, and your candor about neurodivergence.  I wish it were easier to tell the difference on the internet between someone who's trolling and someone who just doesn't get the day's in-joke, and, unfortunately, since trolls are really good at seizing on the benefit of the doubt, it's often expedient to err on the side of harshness.</p><p>I was making a whimsical remark—not especially a joke, since there was no intended punchline.  The words 'hither' and 'thither' used to be more common, but nowadays have more of an archaic flavor, so I found it funny to see them here.  (I had not been aware of the context provided by SushiHippie (<a href="https://news.ycombinator.com/item?id=36555921">https://news.ycombinator.com/item?id=36555921</a>), so it was only an in-joke by lucky happenstance.)
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36557339"><td></td></tr>
                                    <tr id="36553130"><td></td></tr>
                <tr id="36553173"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553173" href="https://news.ycombinator.com/vote?id=36553173&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I always assumed Yaccarino was merely a figurehead installed in an effort to make Twitter more palatable to advertisers. Elon never stopped making policy pronouncements from his personal account despite nominally giving up the CEO title.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553524"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553524" href="https://news.ycombinator.com/vote?id=36553524&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I'm not really sure what she thought was going to happen. There is no way that Musk was going to stop making decisions, especially about content moderation, which is really the main concern of advertisers. If he wants it to be his kind of speech over the concerns of advertisers, that's what it's going to be, and she has no path to success.<p>I've heard Elon really <i>seems</i> like he's listening and that he's actually going to take advice. Yoel Roth actually believed that Elon was going to implement his trust and safety recommendations. Then he would go and tweet what he was actually going to do as soon as he was out of the meeting. At this point it's pretty well documented.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36553694"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36553694" href="https://news.ycombinator.com/vote?id=36553694&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; <i>not really sure what she thought was going to happen</i><p>Fat severance package, a post-termination book deal and international name recognition?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36553824"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36553824" href="https://news.ycombinator.com/vote?id=36553824&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Probably. She's 60, I'm sure she could keep working if she wanted to, but maybe getting involved in the wildest ride in tech is a good story from which to launch your retirement career of being a media personality yourself. I'm sure she'd be perfect on Bill Maher or something. I could see it being a good compensation package too. Several millions more in the bank to salute the captain on a sinking ship, then sneak off to a lifeboat.<p>And name recognition too. This is the first I had ever heard of her. So, good move there.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36555284"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36555284" href="https://news.ycombinator.com/vote?id=36555284&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>He’s got a conspicuous habit of not paying people severance even when legally obligated to.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36557805"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_36557805" href="https://news.ycombinator.com/vote?id=36557805&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Yeah but her lawyers know that and he'll have to pay the severance eventually. She probably has money to wait out whatever legal delay tactics Twitter counsel would employ.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553841"><td></td></tr>
                <tr id="36553959"><td></td></tr>
                <tr id="36554117"><td><table>  <tbody><tr>    <td indent="7"><img src="https://news.ycombinator.com/s.gif" height="1" width="280"></td><td>
      <center><a id="up_36554117" href="https://news.ycombinator.com/vote?id=36554117&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>This is presumably a reference to Musk offering to buy a SpaceX employee a horse in exchange for sexual favors.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36558105"><td><table>  <tbody><tr>    <td indent="8"><img src="https://news.ycombinator.com/s.gif" height="1" width="320"></td><td>
      <center><a id="up_36558105" href="https://news.ycombinator.com/vote?id=36558105&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>This is libel, a vile calumny, and I won't hear it! How dare you!<p>It was a <i>flight attendant</i> he offered a horse to.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36554508"><td></td></tr>
                <tr id="36555697"><td></td></tr>
                  <tr id="36554135"><td></td></tr>
                <tr id="36554167"><td><table>  <tbody><tr>    <td indent="8"><img src="https://news.ycombinator.com/s.gif" height="1" width="320"></td><td>
      <center><a id="up_36554167" href="https://news.ycombinator.com/vote?id=36554167&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I learned back in the 90s you don't google horse videos without safe search on, so no, I won't be taking your suggestion ;-)</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554322"><td></td></tr>
                <tr id="36555322"><td></td></tr>
            <tr id="36556042"><td></td></tr>
            <tr id="36555505"><td></td></tr>
                                          <tr id="36553785"><td></td></tr>
                        <tr id="36553969"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553969" href="https://news.ycombinator.com/vote?id=36553969&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>To some extent she is also probably there to play the same "say yes to Elon about some dumb idea and then get the team to implement a somewhat less dumb version and convince him it was his idea all along" game with him that Tesla and SpaceX leadership reportedly does.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554226"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36554226" href="https://news.ycombinator.com/vote?id=36554226&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I’ve always wondered what it’s like to work for a CEO where  you simultaneously 1. can’t say no to him, and 2. can’t implement their hairbrained ideas without killing your product and then being blamed for it.<p>I heard a rumor (who knows if it’s true) that in the early-ish days of Amazon, they had an entirely separate backend and frontend just for Bezos that would only display if his account was logged in. So when he asked for something crazy they could just implement it in the Bezos-Amazon and not fuck up the main product.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36556591"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36556591" href="https://news.ycombinator.com/vote?id=36556591&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Not sure how early we are talking with Amazon but I was there in '99 and that was not the case then, nor did I ever hear of such a thing. Not that I have lots of positive things to say about Bezos but he knew what the site was doing and would never have been so easily fooled.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36555205"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36555205" href="https://news.ycombinator.com/vote?id=36555205&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Regarding 1st sentence, leave. Or, if you really want to keep working there, you collect what you can for a while, then leave before the product tanks and your name could be associated with it. Musk has his own reality distortion field (tm) protecting him from any PR backlash, his employees don't.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36555347"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36555347" href="https://news.ycombinator.com/vote?id=36555347&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Honestly this is how many of the cultures higher up on the authoritarian scale operate. You say yes to your higher-up no matter what they ask, then depending on whether or not it's actually a good idea you may or may not do it.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36555542"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36555542" href="https://news.ycombinator.com/vote?id=36555542&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; I’ve always wondered what it’s like to work for a CEO where you simultaneously 1. can’t say no to him, and 2. can’t implement their hairbrained ideas without killing your product and then being blamed for it.<p>When I try to imagine this, what I do is think about US or British politics after 2015 or so. And then I feel enraged. And I conclude that this is what it would be like, only closer, more immediate, and more sickness-inducing.</p><p>Musk, Trump, Boris Johnson: ever-present, narcissistic sociopaths who inject themselves into everything and ruin lives, up close and further afield.</p><p>I have no idea whether the Bezos story is true, but the sound engineers working for the Beach Boys apparently really did eventually set up a mixing desk for Murry Wilson (the Wilsons' overbearing, abusive father and interfering manager) so he could make his idiotic changes whenever he wanted, but that only affected what he heard:</p><p><a href="https://www.independent.co.uk/arts-entertainment/music/features/rhodri-marsden-s-interesting-objects-the-fake-beach-boys-mixer-10085425.html" rel="nofollow noreferrer">https://www.independent.co.uk/arts-entertainment/music/featu...</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36554326"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36554326" href="https://news.ycombinator.com/vote?id=36554326&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Her job is to handle the humans.<p>Most people cannot take radical ideas and don't understand that Elon Musk does not need to care and foes not care if he fails with Twitter after first trying to construct something with a social impact.</p><p>Elon Musk can fuck up every company he has and (as long as he doesn't get sued by angry investors) he will still be able to live a great, amazing life.</p><p>Edit: I get down votes but no replies. If you disagree, it would be beneficial to write why.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36556208"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_36556208" href="https://news.ycombinator.com/vote?id=36556208&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; Most people cannot take radical ideas...If you disagree, it would be beneficial to write why.<p>It might help the credibility of the free speech absolutionist if said absolutionist didn't assist a certain Turkish dictator shut down free speech, didn't mute journalists covering his actions against elonmuskjet, didn't censor the blocktheblue campaign, didn't try to erase the existence of substack from twitter, didn't help the Indian gov censor tweets that Gov didn't like ... off the top of my head.</p><p>An individual using their position of power to silence unliked speech - and help authoritarians do the same ... it just isn't very radical.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36558030"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_36558030" href="https://news.ycombinator.com/vote?id=36558030&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Elon Musk does not have "radical ideas"<p>He has moronic ones. The only reason any of his companies have done well is because they have people that can manage HIM well enough to do well in spite of his idiotic moronic stupid ideas.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="36554047"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36554047" href="https://news.ycombinator.com/vote?id=36554047&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>You have to wonder how much that is true for Tesla and SpaceX too, and how much is damage control PR.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553875"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553875" href="https://news.ycombinator.com/vote?id=36553875&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Yaccarino was placed there simply so that when twitter does eventually go belly up Musk can go "it's her fault, I wasn't the CEO". I'm unsure why anyone thought/thinks she has any other purpose?</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554689"><td></td></tr>
                  <tr id="36553206"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553206" href="https://news.ycombinator.com/vote?id=36553206&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Yes, but if he wakes up at three in the morning to go the bathroom who will make major decisions?</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553405"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36553405" href="https://news.ycombinator.com/vote?id=36553405&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Elon was making tweeting-while-crapping toilet jokes the same late night that he (quite foolishly) tried to drag Halli Thorleifsson. I wonder how many important twitter decisions have been impacted by Elon being affected by Ozempic side effects</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36553250"><td></td></tr>
                        <tr id="36553170"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553170" href="https://news.ycombinator.com/vote?id=36553170&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Yaccarino doesn't seem to be making the wide-sweeping announcements that Elon does.<p>Given that this outage and rate limiting may legit make Twitter's business infeasible, I change my prediction that Yaccarino will leave Twitter from within 3 months to within 3 weeks.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554249"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554249" href="https://news.ycombinator.com/vote?id=36554249&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I’d bet good money on you being wrong. Want to do $1k? We can use a trusted middleman and perform deposits or whatnot.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36555011"><td></td></tr>
                <tr id="36555365"><td></td></tr>
                        <tr id="36553221"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553221" href="https://news.ycombinator.com/vote?id=36553221&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>These people tend to hold on until right before their reputation is totally unsalvageable so they can relaunch their personal brand with a hero narrative.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553707"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36553707" href="https://news.ycombinator.com/vote?id=36553707&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>That's what happened Esther Crawford, now she tweets about her hopes to productize 'moments of calm and psychological intimacy', whatever that means. Can't load the tweet rn because rate limited (lol) but the replies were divided between people shilling their product and other people suggesting that fireplaces and loveseats already meet this need.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36558531"><td></td></tr>
                              <tr id="36553256"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553256" href="https://news.ycombinator.com/vote?id=36553256&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>It sounds like they are facing a novel denial of service attack that was near to the point of being able to imperil their service. This is an obviously temporary remediation to keep the systems up, not a new policy for the site. And all of that falls right under the purview of the CTO.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553336"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553336" href="https://news.ycombinator.com/vote?id=36553336&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>A more plausible explanation would be that they no longer have the engineering capability to maintain the site, or its prior attack resistance.<p>If there is any sort of novel scraping going on, and their only response is to shut down the site for all the accounts, their engineering capabilities have been pretty much zeroed out, and it's a massive indictment of the leadership decisions.</p><p>Plus, at this point believing anything that Musk says is extremely foolish. If this was something that was meant to believed, it would have been posted by somebody with more credibility in the organization who actually has something to lose by lying. That person is literally anyone except for Musk.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36553425"><td></td></tr>
            <tr id="36556337"><td></td></tr>
                  <tr id="36553511"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553511" href="https://news.ycombinator.com/vote?id=36553511&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Maybe.<p>It's really hard for me to believe that a uniform 600 tweets read per _day_ limit for almost _all_ accounts is the best tool they have to mitigate a scraping attack. They likely have great insight into the risk profiles of each account based on age, size, past engagement. This is an incredibly coarse banhammer -- very close to just turning off the servers, IMO. Reasonable if it lasted for an hour, debatable if it lasts for a day, idiotic if it lasts longer.</p><p>Would love to see the inside story, hopefully it gets leaked/reported at some point.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36556133"><td></td></tr>
            <tr id="36556009"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36556009" href="https://news.ycombinator.com/vote?id=36556009&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>absolutely insane. indictment on the engineers for lack of creativity.
Twitter has been completely inaccessible on my android app all day. I unknowingly used up my rate limit in  my bed this morning. There has to be some other motive- possibly related to France protests. Macron announced that social media was to blame</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36556270"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36556270" href="https://news.ycombinator.com/vote?id=36556270&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Musk rate-limiting reading (and not posting) on Twitter worldwide because of localised protests in a single country? You must be joking; this makes no sense at all.</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="36559902"><td></td></tr>
            <tr id="36559861"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36559861" href="https://news.ycombinator.com/vote?id=36559861&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Entities cutting service because they are not getting paid is technically denial of service I guess...</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36553600"><td></td></tr>
                <tr id="36554008"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36554008" href="https://news.ycombinator.com/vote?id=36554008&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>That's great, so just leaving a tab open in the background to Twitter will help bring down Twitter. Let me for the first time ever, voluntarily go to Twitter's website<p>Edit: looks like they fixed that issue with a login screen and no 10 requests per second issue. rats
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                                    <tr id="36553430"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_36553430" href="https://news.ycombinator.com/vote?id=36553430&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>This is hilarious. It appears that Twitter is DDOSing itself.<p>The Twitter home feed's been down for most of this morning. Even though nothing loads, the Twitter website never stops trying and trying.</p><p>In the first video, notice the error message that I'm being rate limited. Then notice the jiggling scrollbar on the right.</p><p>The second video shows why it's jiggling. Twitter is firing off about 10 requests a second to itself to try and fetch content that never arrives because Elon's latest genius innovation is to block people from being able to read Twitter without logging in.</p><p>This likely created some hellish conditions that the engineers never envisioned and so we get this comedy of errors resulting in the most epic of self-owns, the self-DDOS.</p><p>Unbelievable. It's amateur hour.</p><p>#TwitterDown #MastodonMigration #DDOS #TwitterFail #SelfDDOS</p><p>A mostly still movie of a Twitter feed showing a rate limited error message and a jiggling scrollbar indicating repeated attempts to load a resource.</p><p>Firefox network console showing 10 requests to twitter.com zooming by per second. <a href="https://sfba.social/@sysop408/110639435788921057" rel="nofollow noreferrer">https://sfba.social/@sysop408/110639435788921057</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554599"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554599" href="https://news.ycombinator.com/vote?id=36554599&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>You'd think they would at least throw in an exponential backoff. Here, I'll help.<pre><code>    to = 2;
    while (!request(timeout=to)) {
        to *= 2;
    }
</code></pre>
I'm available for a 6-week contract. $1M plus a ride in a Dragon capsule, cash up front.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554704"><td></td></tr>
                <tr id="36560505"><td></td></tr>
                  <tr id="36555351"><td></td></tr>
                  <tr id="36553869"><td></td></tr>
                <tr id="36554466"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554466" href="https://news.ycombinator.com/vote?id=36554466&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I mean, hat tip to the pie-acquisition engineers, Twitter has done better than I thought it would without maintenance.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36556183"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36556183" href="https://news.ycombinator.com/vote?id=36556183&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I think Twitter was definitely overstaffed. You don't need that much manpower to run a tech company, at least on the technical side.<p>The problem is that Twitter organized itself as an overstaffed company, with complex structures, complex code, lots of R&amp;D, etc... Than Elon Musk came in and did a Thanos snap and immediately fired half of the workforce, and I guess quite a few others left, especially among the best who would have an easy way finding a good job elsewhere. But while the workforce was drastically reduced, the complexity of the system wasn't reduced and probably never will. So, you get what happens now.</p><p>It is possible to run a Twitter-like website with much less resources than Twitter had before Elon Musk bought it, but you can't run Twitter as it is now.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36555735"><td></td></tr>
                <tr id="36558487"><td></td></tr>
            <tr id="36555871"><td></td></tr>
                <tr id="36556370"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36556370" href="https://news.ycombinator.com/vote?id=36556370&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>But if you count salaries in the amount of efficiency and uptime per employee per user per dollar spent is astronomically higher in favor of Mastodon</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="36554285"><td></td></tr>
                <tr id="36555407"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555407" href="https://news.ycombinator.com/vote?id=36555407&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Without specifying scale, this seems pretty easy. Pieter Levels has been able to manage a tech company with just a single engineer and with some optimization he could probably fit it all onto a mac mini without too much trouble.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36555779"><td></td></tr>
                  <tr id="36554038"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554038" href="https://news.ycombinator.com/vote?id=36554038&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; Twitter is firing off about 10 requests a second to itself to try and fetch content that never arrives because Elon's latest genius innovation is to block people from being able to read Twitter without logging in.<p>Hey, just as an FYI, this comment doesn't make any sense.</p><p>Why would blocking people from viewing the TL on the home page cause Twitter more stress?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554136"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554136" href="https://news.ycombinator.com/vote?id=36554136&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I think the GP is saying Twitter's client-side scripting doesn't understand permanent failures. It thinks all failures are transient, so it keeps retrying, hoping to get through. That creates more traffic than if Twitter just let the user read the site.</span></p></div></td></tr>
        </tbody></table></td></tr>
                      <tr id="36554075"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554075" href="https://news.ycombinator.com/vote?id=36554075&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; Why would blocking people from viewing the TL on the home page cause Twitter more stress?<p>If you block stuff somewhere in the microservie hell in the backend, but forget to update the frontend code properly, and everything was built with the assumption that authentication and authorization is not a thing, and suddenly it is, there's bound to be craploads of stuff that can start spamming network requests.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554125"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554125" href="https://news.ycombinator.com/vote?id=36554125&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I don’t think ‘built with the assumption that authentication and authorisation is not a thing’ is the best description. Requests from logged in users would already need to be authenticated to see private accounts they follow. It’s more just the client having aggressive retry logic in the case of whatever rate limit responses they’re getting.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36554064"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554064" href="https://news.ycombinator.com/vote?id=36554064&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I don't know what all is involved on the backend, but when I go to twitter.com it runs 123 requests and transfers 11MB of data in order to serve me a login page.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36554567"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554567" href="https://news.ycombinator.com/vote?id=36554567&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Browser:can I get the tweet?<p>Server: No</p><p>Browser:can I get the tweet now?</p><p>Server: No</p><p>Browser:can I get the tweet now?</p><p>Server: No</p><p>Browser:can I get the tweet now?</p><p>Server: No</p><p>Browser:can I get the tweet now?</p><p>Server: No</p><p>Browser:can I get the tweet now?</p><p>Server: No</p><p>Browser:can I get the tweet now?</p><p>Server: No</p><p>Browser:can I get the tweet now?</p><p>Server: No</p><p>Browser:can I get the tweet now?</p><p>Server: No</p><p>You know what I mean?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36554126"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554126" href="https://news.ycombinator.com/vote?id=36554126&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>10 If User has reached end of scroll region, load more content<p>20 Wait $timeout for new content; if a load failed, it was probably a mobile network glitch or something else we should ignore</p><p>30 GOTO 10
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36554192"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554192" href="https://news.ycombinator.com/vote?id=36554192&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I think he was trying to say that the Frontend of the Twitter timeline is not aware of the new request limit, and when that limit is reached it just retries the request, as it would in a normal network error, and keeps in retrying resulting on DDOS.<p>But I don't believe on that because Twitter is a billion dollar company and that kind of mistake is dumb. So idk.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554257"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554257" href="https://news.ycombinator.com/vote?id=36554257&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span><i>&gt; But I don't believe on that because Twitter is a billion dollar company and that kind of mistake is dumb.</i><p>This sort of mistake is very common especially when a product is going through a period of change, so it seems very believable to me that recent rate limiting features (or older features that have not been used in a long time or maybe ever) on the backend hadn't been adequately tested to make sure there are no unforeseen side-effects on the front-end when they are activated under pressure.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36559552"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36559552" href="https://news.ycombinator.com/vote?id=36559552&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Very common for start ups with inexperienced devs, not for long standing tech companies with the best and most experienced employees...<p>Isn't Elon supposed to know this shit himself?</p><p>I guess we learned alot about the state of the company as well as elons own coding skills with this event, didn't we?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36554255"><td></td></tr>
            <tr id="36556126"><td></td></tr>
            <tr id="36554261"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554261" href="https://news.ycombinator.com/vote?id=36554261&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Then you didn't look at how any of the Atlassian products are built. Most of them are multiple implementations of the same Frontend-Franework on the same page because independent teams work on stuff. Then you have hundreds of request "just to load some issue list".<p>Probably twitter can even do worse.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36555854"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555854" href="https://news.ycombinator.com/vote?id=36555854&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I wouldn't have believed it but we're seeing it happen in real time haha. How twitter has fallen from the glory days</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36554774"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554774" href="https://news.ycombinator.com/vote?id=36554774&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; Hey, just as an FYI, this comment doesn't make any sense.<p>You need to understand that there is a huge gulf between "this doesn't make any sense" and "I don't understand this".
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36554124"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554124" href="https://news.ycombinator.com/vote?id=36554124&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>It could be retry logic that gets stuck in certain conditions that have been met by how TL blocking is handled.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36554108"><td></td></tr>
            <tr id="36554370"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554370" href="https://news.ycombinator.com/vote?id=36554370&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>If it doesn't make any sense, what's your analysis? At least they tried to come up with some technical explanation and incite my curiosity, rather than dismiss it outright.</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="36553069"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_36553069" href="https://news.ycombinator.com/vote?id=36553069&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I knew the end of the cheap money era would cause some businesses to be exposed but wow. We are basically in the middle of watching someone flush 44 billion down the drain. I could understand if it was a 600 posting limit. But a 600 viewing limit? wow. For example, NBA free agency just started. There are types of trades &amp; signings being talked about. Just looking at that information I'm going past the 600 limit in about 30 minutes just by scrolling to see if anything is new. Twitter was nice to get this information from &amp; they showed me a few ads. Decent transaction. But now I'm just going to refresh ESPN to see the latest signings.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553217"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553217" href="https://news.ycombinator.com/vote?id=36553217&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>It’s wild. Used to checking it frequently which any social media company would love, but can’t even scroll the feed this morning as I hit the rate limit just drinking coffee and catching up. The good thing is this will make me spend far less time on social media since it was the last one I had on my phone.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554050"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554050" href="https://news.ycombinator.com/vote?id=36554050&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Wow, so maybe Musk was society's savior we didn't want to need. Although, maybe if Twitter was no more, people would begrudgingly go back to FB for their doom scrolling needs.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554364"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554364" href="https://news.ycombinator.com/vote?id=36554364&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Between Musk and u/spez, I recovered at least 2 hours a day of normally wasted time.<p>I've read books, like actual paper ones. Spent some time making a simply 2-d space shooter, just for fun. Spent more time engaged with people I care about. Turns out social media is the least social thing ever and basically sucks.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553790"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553790" href="https://news.ycombinator.com/vote?id=36553790&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>If you asked me a year ago I wouldnt have guessed that raising interest rates would be the cure to doomscrolling. But here we are.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36555059"><td></td></tr>
                  <tr id="36553719"><td></td></tr>
                  <tr id="36553187"><td></td></tr>
                <tr id="36554363"><td></td></tr>
                <tr id="36560642"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36560642" href="https://news.ycombinator.com/vote?id=36560642&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>It's impossible to know for real if someone has read a tweet -especially on Twitter where several tweets appear on the screen at once - however "dwell time" is a common measurement that is usually enough to appease marketers.<p>In this case it doesn't matter though because the aim is to mitigate cost, so equating an impression with engagement is fine.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36558029"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36558029" href="https://news.ycombinator.com/vote?id=36558029&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>having worked on products where analytics matter, it's important to be specific about behavior of those who use your products, and a better metric would be related to lingering, did you stop scrolling and if there are many tweets in this feed where you stopped, did you move your mouse towards one of those tweets? was your lingering intentional or related to inattention? It's important to develop an understanding of which in the list is the one you are lingering on (or what even is that list). It's important for behavior monitoring but also to make sure you are serving ads in a way that aligns with attention (assuming you run an ad supported platform, like Twitter) and that you can have accurate measurements for ad impressions (scrolling past an add without even stopping shouldn't cost an advertiser more than the base cost of the ad, and should cost more if someone lingers for even a half second.)<p>Other random ideas for what you would consider counted? you replied, you liked, you clicked a link through the tweet, you expanded a shortened version of a long tweet. There are so many ways to determine "read" and assuming it's always the naive "it was served" is like building a business based off of page views and not actual engagement.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36554583"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554583" href="https://news.ycombinator.com/vote?id=36554583&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Yes it's obvious, but it's so bizarre that I assumed the title had to be clickbait or poorly written. But no, it's absolutely correct.</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="36553101"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553101" href="https://news.ycombinator.com/vote?id=36553101&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Stop complaining or it's going to be 600 characters or less! Including the headers for your requests! /s</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553251"><td></td></tr>
                <tr id="36553305"><td></td></tr>
                        <tr id="36554636"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554636" href="https://news.ycombinator.com/vote?id=36554636&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>What I wonder is, how people who paid for verified account feel about it? First you pay for the reach(more features and priority to display) and then your followers or those who are supposed to reached need to pay to read your content. Some people are actually paying non trivial amounts for business accounts.<p>Normally I'm inclined to think that Musk is a great product person but this one move seems like a jerk reaction to some numbers not meeting expectations and designing a product to improve numbers without thinking about how the product actually works.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555137"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36555137" href="https://news.ycombinator.com/vote?id=36555137&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>rsync.net has a verified (gold star ?) account which we neither asked for nor paid for.  I think it comes with having an advertising balance ?<p>Interestingly, we have had (for the first time in years) decent advertising traction on Twitter in the first half of 2023 and I was planning on expanding that.</p><p>Advertising a product like ours has been very difficult because the venn diagram of "people who understand rsync.net" and "people who <i>don't</i> use an adblocker* has a very tiny overlap.</p><p>So between suspending our reddit promotions due to the dysfunction there and seeing some (very marginal) success with Twitter ads called into question I suspect we're headed back to square one ...
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555419"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555419" href="https://news.ycombinator.com/vote?id=36555419&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Hi! I’m one of the people who fall in the middle of the Venn diagram, and just wanted to let you know I was reading your website and the menu hamburger button doesn’t seem to work on my iPhone 14 on Safari or Firefox, so I couldn’t get to the pricing page etc. I’ll take a note to read it when I’m on my desktop but just wanted to pass it along.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36555611"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36555611" href="https://news.ycombinator.com/vote?id=36555611&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; iPhone 14 on Safari or Firefox<p>Rendering engine is all Safari on iPhone, so trying another brand of browser won't help with rendering issues.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                              <tr id="36553560"><td></td></tr>
            <tr id="36553952"><td></td></tr>
            <tr id="36553924"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553924" href="https://news.ycombinator.com/vote?id=36553924&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I managed to hit the limit during the F1 sprint race as theres a ton of threaded comments for that. Genius level move on how to screw up your own business.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36553471"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553471" href="https://news.ycombinator.com/vote?id=36553471&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I don't think this is because of the "end of cheap money" (I don't think this high interest rate environment will last that long) but just sheer incompetence by Musk and his staff. Elon has become increasingly erratic on the platform, he just tweeted recently a reply to a Tweet saying Islam would take over France. I don't know if he's always been like this or if the stories of his heavy ketamine usage are true and taking a toll on him.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554812"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554812" href="https://news.ycombinator.com/vote?id=36554812&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt;&gt;I don't think this is because of the "end of cheap money"<p>Explain just about all platforms doing revenue adjusting user hostile actions then?  Examples include Reddit with the API fees,  YT with the Ad Blocking blocking.  etc</p><p>This is all a reaction to the end of cheap money,  aka the cost of capital is going up, so companies need to actually make revenue instead of chasing free capital</p><p>&gt;&gt;I don't think this high interest rate environment will last that long</p><p>There is no indication this true,  most likely the "new normal" is going to be on the order of rates before the 2008 housing crash,  not going back to the insanity of 0-1% fed rates...
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555598"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555598" href="https://news.ycombinator.com/vote?id=36555598&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Reddit over hired and is doing other stupid pricing models because they want to IPO, they filed confidential paperwork for an IPO last year. Twitter has been unprofitable since before Musk, and Musk's actions drove their revenue into the ground. Those aren't related to higher interest rates. What other examples do you have? Reddit and Twitter are bad examples.<p>&gt; There is no indication this true, most likely the "new normal" is going to be on the order of rates before the 2008 housing crash, not going back to the insanity of 0-1% fed rates...</p><p>There's no indication that your statement is true either, I think in a 5-10 year span we'll have lower rates simply because virtually every economy is in population decline. In any case, the Twitter and Reddit flubs weren't due to higher interest rates. SVB was, this isn't.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36557781"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36557781" href="https://news.ycombinator.com/vote?id=36557781&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>They're not perfect examples.  But what they're saying is:<p>* High returns from interest means the cost of capital is higher.  Comparable safe investments return more, so investors demand more of a return from a riskier one.</p><p>* As a result, a lot fewer venture investments make sense with the higher discount rate.</p><p>* Companies cannot count on going back to the venture till, so high volatility strategies of chase-IPO-now or monetize-now are increasingly employed.</p><p>* Similarly, public companies desperately seek better fundamentals <i>now</i>, because future revenues are discounted so much in investors' opinions.</p><p>* As a result, a lot of companies enshittify, going after short term wins that risk the entire company's reputation..</p><p>As to the interest rate environment: the Fed has suggested a couple more interest rate hikes are likely later this year.  It is likely to take quite awhile to walk rates down after inflationary pressures reduce.  Current market prices imply rates will stay relatively high for the next few years.</p><p>No one really knows what an aging, contracting population will do to the interest rate environment.  It's likely governments will have to borrow a bunch more, which can push up rates...  And older workers seem to be more productive than models expected, which adds further upward rate pressure.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36555114"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555114" href="https://news.ycombinator.com/vote?id=36555114&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; Explain just about all platforms doing revenue adjusting user hostile actions then? Examples include Reddit with the API fees<p>Bad example. Reddit actions (and Twitter actions) are definitely not due any user hostile actions.</p><p>&gt; YT with the Ad Blocking blocking.</p><p>This one may be has some merit to it, but we only have Google's word for it, and Google itself doesn't seem to be hurting because of all the bad-no-good ad blocking. Is Youtube hurting? No idea.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555358"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36555358" href="https://news.ycombinator.com/vote?id=36555358&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt;Bad example. Reddit actions (and Twitter actions) are definitely not due any user hostile actions.<p>The actions are hostile to the users.. Twitter, Reddit, and YT (and others) have changed policies in a way to maximum revenue at the expensive of the users of the platforms.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36558988"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36558988" href="https://news.ycombinator.com/vote?id=36558988&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>It’s price perception shaping. Hey investors look how much we are charging for APIs, that’s how valuable our data is. Can I haz some money</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="36555968"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36555968" href="https://news.ycombinator.com/vote?id=36555968&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; he just tweeted recently a reply to a Tweet saying Islam would take over France<p>Really should provide a source when stating things like this, as many will want to check out for themselves exactly what was said.</p><p>I went and found the tweet that I assume is being referenced. It's here :</p><p><a href="https://twitter.com/elonmusk/status/1675205751902486529" rel="nofollow noreferrer">https://twitter.com/elonmusk/status/1675205751902486529</a></p><p>Elon says "He is right". So he is referencing the Imam in the video of the tweet he is replying to (not the tweeter, who appears to be female). The video of the Imam's speech has subtitles, so you can see what Elon is saying 'is right'.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36554709"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554709" href="https://news.ycombinator.com/vote?id=36554709&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt;&gt;We are basically in the middle of watching someone flush 44 billion down the drain.<p>Odd statement given that Fidelity just cut its valuation of reddit, but increased it valuation of Twitter.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555434"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36555434" href="https://news.ycombinator.com/vote?id=36555434&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; The Fidelity Blue Chip Growth Fund has reduced the market value of its equity stake in Twitter for a third time, now putting it at $6.55 million. That’s down from the nearly $20 million the Fidelity fund valued its stake at in October.<p>From today, according to <a href="https://apnews.com/article/twitter-fidelity-musk-value-08c64f3bda6c3070fef0d33f247501a3" rel="nofollow noreferrer">https://apnews.com/article/twitter-fidelity-musk-value-08c64...</a>. It doesn't sound like it increased its valuation of twitter in any way tbh.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555581"><td></td></tr>
                <tr id="36555841"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36555841" href="https://news.ycombinator.com/vote?id=36555841&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; The financial giant also readjusted the value of its holding in Twitter to $6.86 million, up from $6.55 million from a month prior, but still down 65% since the original investment.<p>Still significantly down.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                                        <tr id="36554189"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554189" href="https://news.ycombinator.com/vote?id=36554189&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>FWIW I turned on notifications for Woj and Shams and I’m still getting them even though I’m rated limited too.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36553176"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553176" href="https://news.ycombinator.com/vote?id=36553176&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>An account on an ESPN Mastodon instance that comes with and logs in with that Disney+/Hulu/ESPN bundle would probably be popular. Doesn't even have to federate.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554256"><td></td></tr>
                <tr id="36554692"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554692" href="https://news.ycombinator.com/vote?id=36554692&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Based on the post I replied to, it sounds like realtime updates are an important feature. All the accounts would have RSS feeds if someone wanted it in that format.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553382"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553382" href="https://news.ycombinator.com/vote?id=36553382&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>There will be cost and consequence of moderation, with very limited benefit given its content subscription model.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553573"><td></td></tr>
                        <tr id="36553413"><td></td></tr>
                <tr id="36557872"><td></td></tr>
                        <tr id="36553609"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_36553609" href="https://news.ycombinator.com/vote?id=36553609&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Reminder that Elon didn't even intend to buy Twitter<p>He wanted to sell ~$2.5 Billion Tesla stock at all-time highs without causing the stock price to significantly deflate, so he used the Twitter purchase suggestion as a cover. He did similar pump and dump schemes with crypto - like Dogecoin - but because Elon is fundamentally a dumb guy, he did the extraordinarily stupid thing of signing a purchase agreement with Twitter</p><p>Elon thought he'd be able to wiggle out of it because he assumed the SEC would be the regulatory body he'd be up against - and to his credit he has made a career out of making the SEC look like spineless chumps - but much to Elon's horror he actually found himself before the almighty Delaware Court of Chancery</p><p>So in an effort to slyly make a couple Billion $'s, Elon torched ~$40 Billion of his personal wealth, in what is arguably the biggest bag fumbling in modern history
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554278"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554278" href="https://news.ycombinator.com/vote?id=36554278&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>This is some pretty dumb mental gymnastics to retcon a motivation. The simple explanation: he made an offer for Twitter, then the market (and Twitter’s value) crashed, and he tried to avoid paying the now-vastly overpriced fee he was on the hook for.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36555296"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36555296" href="https://news.ycombinator.com/vote?id=36555296&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>His offer was always well above fair value, which is why Twitter's board took him to court to enforce it.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36555551"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555551" href="https://news.ycombinator.com/vote?id=36555551&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>His offer was $54.20 in April 2022.  That was a 38% premium to the market price immediately prior to his investment, which is attractive but not necessarily "always well above fair value"<p>Twitter had traded above that price as recently as five months earlier, and had traded in the $60s and even $70s for most of 2021. Twitter's stock had cratered in early 2022 along with many other tech stocks (Facebook went from $330 to $220 in that period).</p><p>At the time, the Board could have argued that the current stock price was artificially low due to market forces, and that it wasn't an accurate reflection of the company's prospects.  That's especially true because Boards have access to non-public information and longer term forecasts.</p><p>When the board agreed to the merger, it signaled to investors that sophisticated insiders on the Board and their financial advisors did not believe the stock would be reasonably likely to reach the offer price in the near/medium term, on a risk adjusted basis, and thus the acquisition is superior. That's important intel for investors, and one of the reasons why failed mergers are so risky.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555985"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36555985" href="https://news.ycombinator.com/vote?id=36555985&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>In what world is a 38% premium not well above market value? If you pay $1.38m for a $1m house, you are definitely paying well above market value.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36556177"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36556177" href="https://news.ycombinator.com/vote?id=36556177&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Market value and fair value aren't necessarily the same thing.<p>The 38% is just the one day premium. The offer was at a discount to the stock price less than six months earlier. It was possible that the stock price had overreacted to a tech sell off, and if the market had rebounded by the summer the bid could have looked genius.</p><p>Market pricing in M&amp;A is somewhat opaque and different than trading prices because it's based partly on synergy value to a bidder. To use your house example, if the house next door was willing to pay $1.5 million for your house, then the $1.38M is not above market even if Zillow and the list price say it's $1 million.</p><p>There were other potential suitors for Twitter, like Microsoft, Disney, Salesforce and private equity. They might have valued it more than Musk based on the benefits it brought their firms. Twitter would be a lot more valuable inside Amazon, Google or Meta but there were probably antitrust issues there.</p><p>Plus Twitter's board and management team had access to a lot of material non public information that investors did not. Even if you thought the market price in early April accurately reflected all the public info on Twitter, the Board was looking at 5 year projections and much more detailed pricing/demand/customer info.</p><p>The Delaware Courts give a lot of deference to board judgment in these situations, and Twitter's board would have been well within their rights to say "no, that 38% is not good enough" if that was their conclusion after a good faith and reasonable process.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36558758"><td></td></tr>
                <tr id="36559071"><td></td></tr>
                  <tr id="36556555"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_36556555" href="https://news.ycombinator.com/vote?id=36556555&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Twitter’s board exited. Post-ZIRP they knew fair value wasn’t higher than the offer so they took the money.</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="36558316"><td></td></tr>
                        <tr id="36555013"><td></td></tr>
            <tr id="36556435"><td></td></tr>
            <tr id="36555390"><td></td></tr>
                  <tr id="36554459"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554459" href="https://news.ycombinator.com/vote?id=36554459&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>My impression was that he bought Twitter for the reasons you say, but failed to predict the dip in the market that followed it.<p>If Twitter stock hadn't sunken immediately like a stone, he probably would have pulled it off, too, even after the signing the agreement.</p><p>If indeed the Twitter deal was manipulation to leave poorer investors holding the Tesla bag, it's hard to feel sorry for him.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554751"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554751" href="https://news.ycombinator.com/vote?id=36554751&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>It seems like loading Twitter up with debt servicing was always a bad idea, stock dip or not, considering what its revenues were like. It wasn't in great shape before but the amount of money it now has to spend servicing debt is a nightmare for anyone trying to make that company profitable. His strategy for buying it simply doesn't make sense.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36559374"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36559374" href="https://news.ycombinator.com/vote?id=36559374&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Not if the endgoal is to arrive at a profitable version of Twitter, no.<p>So maybe that's not the goal. Or maybe it is but the CEO is vastly more incompetent than those underwriting his bid anticipated.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36556562"><td></td></tr>
                        <tr id="36554169"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554169" href="https://news.ycombinator.com/vote?id=36554169&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Was reading another thread about LLMs on HN yesterday (yeah, can't find which one, there's always soooo many) about how Elon was 'tricked' into funding the charity OpenAI before it pivoted into for-profit and he got no equity.  And now this timely reminder that Elon was 'tricked' into buying Twitter too!  Quite a record, and yet he is somehow still the world's richest person?  I do enjoy him talking about rockets, though.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36553771"><td></td></tr>
                <tr id="36554289"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554289" href="https://news.ycombinator.com/vote?id=36554289&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>How about the time that Scotland got envious of all the other European powers doing colonialism in the New World, so they dumped all their wealth into setting up a colony in the Darien gap, which failed so horribly that it bankrupted the country and forced them to unite with England.<p><a href="https://en.wikipedia.org/wiki/Darien_scheme" rel="nofollow noreferrer">https://en.wikipedia.org/wiki/Darien_scheme</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36554209"><td></td></tr>
                <tr id="36554489"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554489" href="https://news.ycombinator.com/vote?id=36554489&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>from wikipedia:<p>&gt; According to some Arabic writers, Musa's gift-giving caused a depreciation in the value of gold in Egypt. Al-Umari said that before Musa's arrival, a mithqal of gold was worth 25 silver dirhams, but that it dropped to less than 22 dirhams afterward and did not go above that number for at least twelve years.[95] Though this has been described as having "wrecked" Egypt's economy,[83] the historian Warren Schultz has argued that this was well within normal fluctuations in the value of gold in Mamluk Egypt.[96]</p><p>Seems like this might a misleading folk tale.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="36559788"><td></td></tr>
            <tr id="36553733"><td></td></tr>
                <tr id="36553798"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553798" href="https://news.ycombinator.com/vote?id=36553798&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Elon rolled Twitter into X Corp, which would mean the debt is entangled with his other assets and may make things messy in the inevitable lender lawsuits.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36556220"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36556220" href="https://news.ycombinator.com/vote?id=36556220&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>And the incredible part is that it just won’t matter. Tesla and spacex are licensed to print money for the next decade or more.<p>Him losing 40 billion is like us losing 400. It just won’t matter in the grand scheme
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36554022"><td></td></tr>
                <tr id="36554298"><td></td></tr>
            <tr id="36554132"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554132" href="https://news.ycombinator.com/vote?id=36554132&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Care to be more specific about the inaccurate parts and/or provide counterpoints (preferably with appropriate counter-evidence)?</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554334"><td></td></tr>
                <tr id="36554413"><td></td></tr>
                <tr id="36557043"><td></td></tr>
                  <tr id="36554432"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36554432" href="https://news.ycombinator.com/vote?id=36554432&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>He claimed his parent comment is making stuff up? What do you mean he's not the one making claims, there's one right there?<p>Or do you mean claims about Elon? It would suit your comment better to be more specific, please try to do so in the future :)
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554587"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36554587" href="https://news.ycombinator.com/vote?id=36554587&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>user_named's post is absolute nonsense.<p>"Elon thought he'd be able to wiggle out of it because he assumed the SEC would be the regulatory body he'd be up against"</p><p>Bullshit like this has no relation to reality whatsoever.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555405"><td></td></tr>
                              <tr id="36554183"><td></td></tr>
            <tr id="36554198"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554198" href="https://news.ycombinator.com/vote?id=36554198&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>“Elon is fundamentally a dumb guy”<p>This is the guy who’s had more than a few successful businesses now. A lot of smart people did want to work with him. Andrej Karpathy himself has said that Elon was very quick to pick up AI technically. That doesn’t sound like a “fundamentally dumb” guy to me
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554319"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36554319" href="https://news.ycombinator.com/vote?id=36554319&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>a lot of smart people fell for Elizabeth Holmes charm and put their money on Theranos<p>for the purpose of this thread saying “Elon is fundamentally a dumb guy” is a statement of opinion, one that a growing number of people agree with
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555007"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36555007" href="https://news.ycombinator.com/vote?id=36555007&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I tend to fall in the camp that a “fundamentally dumb guy” won’t be able to successfully start, grow and run Tesla and Space X.<p>Was buying twitter a mistake? Sure. Did he make dumb decisions when it comes to twitter? Yes. But IMO, that’s very different than labelling someone “fundamentally dumb”
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36556760"><td></td></tr>
                <tr id="36558599"><td><table>  <tbody><tr>    <td indent="7"><img src="https://news.ycombinator.com/s.gif" height="1" width="280"></td><td>
      <center><a id="up_36558599" href="https://news.ycombinator.com/vote?id=36558599&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>this.<p>seems a lot of people confound funding and founding, he was one of Tesla's early funders, but he was not part of the team that founded it.</p><p>&gt; he sank an initial investment of more than $6 million into Tesla, which was then not much more than a pair of founders and a vision of electric sports cars.</p><p>– <a href="https://time.com/6127754/elon-musk-net-worth-person-of-the-year/" rel="nofollow noreferrer">https://time.com/6127754/elon-musk-net-worth-person-of-the-y...</a></p><p>&gt; So AC Propulsion CEO Gage suggested Musk speak with electric car start-up Tesla Motors, which was also looking to commercialize the tzero. Musk reasoned that by teaming up with another company, he could “have my cake and eat it too,” he said on the podcast – he could still run SpaceX but also pursue his passion for electric cars in his spare time.</p><p>&gt; “I didn’t think it would be easy, but I thought maybe I could allocate 20 to 30 hours a week and just work on product engineering, and then other people could do the other stuff. I didn’t like doing the other stuff anyway,” Musk said.</p><p>– <a href="https://www.cnbc.com/2020/01/30/elon-musk-i-really-didnt-want-to-be-ceo-of-tesla.html" rel="nofollow noreferrer">https://www.cnbc.com/2020/01/30/elon-musk-i-really-didnt-wan...</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="36554368"><td></td></tr>
                <tr id="36554556"><td></td></tr>
                                          <tr id="36554451"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554451" href="https://news.ycombinator.com/vote?id=36554451&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Haven’t read anything so off the mark in quite a while.<p>Your basic assumption already makes no sense. Please list the businesses Elon has started after his PayPal days with the goal of enriching himself.</p><p>Also, money is a means to an end, is it not? So what do you think he’d do with more money? Again, you can look at what he did with his Zip2 money. And then his PayPal money. That might give you a clue.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36556579"><td></td></tr>
                <tr id="36558815"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36558815" href="https://news.ycombinator.com/vote?id=36558815&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>One might think that, sure. But I’ve seen this story that led to the Twitter takeover unfold since 2015. And I don’t think you’re right in this case.</span></p></div></td></tr>
        </tbody></table></td></tr>
                              <tr id="36552886"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_36552886" href="https://news.ycombinator.com/vote?id=36552886&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>It really feels like we're witnessing the end of an era. Elon is doggedly piloting Twitter into the ground and Reddit seems strangely compelled to follow his lead. Reddit may recover - I'm not so sure about Twitter. What technologies will take their place? In a time where it's never been easier to stand up your own website/forum/what have you, could we possibly see a gradual return to a pre-corporate Internet?</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553281"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553281" href="https://news.ycombinator.com/vote?id=36553281&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I'm always a bit surprised how few people realized how many "nice things" from the last decade plus have been <i>heavily</i> subsidized by VC money (which itself was created from low interest rates).<p>Every cool startup that people loved started by burning cash. This made Uber cheap, DoorDash cheap, Youtube helpful and creative, Facebook about connecting with classmates, Twitter a free public forum, Reddit a playground for forums of all possible varieties, Imgur an ad-free alternative to ad-laden image hosting sites, 0% loan available for purchasing anything, etc, etc.</p><p>But all of this was possible because all of these companies spent more than they made. In fact, most of these listed <i>still do</i> spend more than they make but they're going through contortions trying to change that and many might not survive it. For those that do their products will unquestionably be inferior to what we had in the 2010s.</p><p>There's this belief that technology can only go <i>forward</i>, only get <i>better</i>, but what I think we'll see as we move into the 2020s is a growing realization that things were substantially better in the 2010s... but only because we were putting everything on a credit card and not worrying about the bill that eventually had to be paid.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36553721"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553721" href="https://news.ycombinator.com/vote?id=36553721&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Were these apps made possible with VC money, or just made <i>monopolizable</i>? In a different world, I could see most of these areas spawning smaller companies—on a slower timeline, sure—if VC-backed companies couldn't use massive up-front capital to suck the air out of the room. We could certainly have app-based taxis and restaurant delivery without Uber or DoorDash; hardware and bandwidth have gotten cheap enough that we could have more Vimeos and Floatplanes instead of one big YouTube; Slashdots and Diggs and HNs without Reddit... etc.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36556849"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36556849" href="https://news.ycombinator.com/vote?id=36556849&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>They wouldn't have been able to support consumer scale without the up front capital. Otherwise they would need private betas and stuff but this would have not created the value of the same network effects and robust marketplaces.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36554318"><td></td></tr>
            <tr id="36555410"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555410" href="https://news.ycombinator.com/vote?id=36555410&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Absolutely, it really was pouring gasoline on fire rather than the sole cause of the ideas. All the functions they provide would have turned up but on a smaller more sustainable scale, more like the older traditional companies of the past.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553853"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553853" href="https://news.ycombinator.com/vote?id=36553853&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; we were putting everything on a credit card and not worrying about the bill that eventually had to be paid<p>We (consumers) didn't put anything on a CC. VCs did.</p><p>And I count that for the blessing it was. I ordered tons of subsidized food on DoorDash, cheap rides on Uber, etc.</p><p>Now that golden era is over, and I will not be ordering any more of that stuff at the now exorbitant prices.</p><p>Thank you based VCs, for comping a bunch of stuff for me the last 10 years.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554089"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554089" href="https://news.ycombinator.com/vote?id=36554089&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Except a lot of the formers ways of doing things / getting things have been pushed out of the market with all the capital influx. So there aren’t any small stores anymore, small restaurants don’t do delivery anymore, etc etc.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36555489"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36555489" href="https://news.ycombinator.com/vote?id=36555489&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Are you living in the same world as me? When I go into town there's a ton of small shops. Small restaurants are absolutely everywhere, either to eat in or to get delivery from using one of several delivery apps. I cannot relate to your comment at all.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36554516"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36554516" href="https://news.ycombinator.com/vote?id=36554516&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Small restaurants doing delivery doesn’t make sense as an example.<p>The only structures that were torn down were things that required capital and upkeep. So for example, once you starve the beast of the taxi industry, then the fleet decays and they can’t compete without new capital investment.</p><p>For a small restaurant delivery, they can at any point hire another person to run orders just as they always could, with no loss. The reason this is not viable is because the whole economy got disrupted by covid and now it’s not actually feasible for someone to earn a living just moving parcels of food around locally. Like literally the unit economics don’t resolve positively because CA minimum wage is $15 an hour and you need even more than that to have a decent life.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553968"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553968" href="https://news.ycombinator.com/vote?id=36553968&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Thank you, Boomer pension fund managers, for giving nonboomers like me some of that pension fund money!</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36554353"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554353" href="https://news.ycombinator.com/vote?id=36554353&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Uber and doordash yes, they operate a physical business with large costs per customer transaction. Twitter and reddit? No, I disagree. Those businesses should be relatively cheap to host (compared to ad revenue) with focused management and engineering. The only thing about them that could cost a lot is moderation, and twitter should have followed reddit’s lead to leave that to a volunteer brigade. If twitter and reddit lost money, it is because they were not being run efficiently, and they weren’t being run efficiently because the way to show investors they were creating value is launching a bunch of hyped but mostly pointless features and by having a high burn rate.<p>New reddit launched 5 years ago, and many people still prefer using old reddit. Twitter also did not add any feature in the past 5 years the majority of its users cared about losing. If most of your users are fine with giving up everything you’ve built in the past 5 years, and you have a large staff of engineers, then you’ve not been running the business effectively.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36553440"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553440" href="https://news.ycombinator.com/vote?id=36553440&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>What's frustrating about all this is the resources wasted on growing businesses that were fundamentally unsustainable. I think a tougher economic climate would have been better for innovation long-term.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553830"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553830" href="https://news.ycombinator.com/vote?id=36553830&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Honestly outside of the Youtube/Imgur I don't think these companies are unsustainable. The problem is the VCs are aiming for huge returns. Instead of focusing on their niche and running a lean but profitable business they are forced to chase trends and exponential growth.<p>Who on Reddit wanted chat or live streams. Why is Facebook spending so much money on videos. does Uber really make any money off hellocopters rides. These aren't what people came to these platforms for and are just costing them a huge amount of money.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555601"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36555601" href="https://news.ycombinator.com/vote?id=36555601&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Most of these companies seemingly were in a good place, and then started doing stupid pivots to try and make even more money than they already were.<p>Reddit was doing fine as a text-only forum supported by advertising and Reddit Gold. Then they went a billion dollars in debt building the redesign which is widely disliked by power users (who are responsible for most of Reddit’s actual activity thanks to volunteer moderation combined with the Pareto principle), and at the same time decided to add native image and video hosting and take on all the costs associated with that. Everything since then has really been chasing whatever’s popular. After Twitch got big, they added livestreams, which didn’t go anywhere. After Discord got big, they added chat, which didn’t go anywhere. During the NFT boom, they invested big in those, which wasted a lot of money and didn’t go anywhere. Now AI is the new hotness, and they’re following Elon’s lead by treating the site as a static text repository which more value being sold to people training AIs than any value that could be gained from just...running the site. This boom will end, either by way of hitting the peak of what’s currently possible, updates to copyright law or other regulations, or just by the AI companies remembering they can just download the Common Crawl database for free and get the exact same content without paying Twitter or Reddit (or even specific dumps of Twitter or Reddit content if that’s what they really want; those are widely available in places like the Internet Archive).</p><p>Imgur was never going to be sustainable on its own, since it’s basically impossible to monetize an image hotlinking service by definition. However, they brilliantly decided to pivot the site to being its own image sharing community (with all of the monetization opportunities that allows), while still supporting the original use case as a sort of “unintended” feature (while actually being the whole reason the site was originally made in the first place). Then they suddenly forgot that was the plan, probably after several managerial/executive swaps, and started shutting down everything that wasn’t part of the “community” system, even though the “community” was really created just to subsidize everything else.</p><p>Facebook’s adventures with video are probably the single most damaging thing to ever happen to the Internet. Basically, they saw that video ads were wildly more profitable than anything else they were doing, proceeded to inflate their video stats by counting anyone scrolling past an autoplaying video as a “view”, told the entire web that text was dead and video was the future (causing hundreds of major sites to shut down their writing departments in favor of mainly producing videos), used all of these manufactured stats to get massive investment in video ads, and then just kind of shrugged when everything eventually collapsed.</p><p>YouTube has been in a good place consistently since the mid-2010s, and just really likes pretending that they aren’t. Like I said with Facebook, video ads are really profitable when done right, and YouTube operates at a big enough scale that the bandwidth and storage costs of hosting all of humanity’s video content is offset by the number of people watching Mr. Beast eight seconds after he posts a new video. The problem is that they’re always trying to optimize for more revenue, leading to massive pushes for family-friendliness to keep advertisers happy, pushing whatever the latest “format” is (at the moment, Shorts) because that’s what advertisers are most interested in since it gets the most views, and just generally trying to hyper-optimize every aspect of the website to further improve their margins.</p><p>All of these sites could have simply continued with their original business models and maintained small but lean businesses, and they’d probably be able to even keep getting moderate growth thanks to network effects. But they wanted <i>all the money</i> and they wanted it <i>right now</i>, leading to extreme overextension into whatever else is currently popular, and it only ever leads to the core business collapsing because the people who were maintaining it are off selling NFTs or trying to build a video player.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36554162"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554162" href="https://news.ycombinator.com/vote?id=36554162&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Yes. Overly cheap money has negative externalities, that’s been the lesson of the post-9/11 financial order, and one of those is that overly cheap money causes fart.app to crowd out economically productive activity. A lot of things were done that shouldn’t have been done at all and fundamentally sucked up money that could have been used for actual productive stuff.<p>Another is that it incentivized companies to try for the Uber strategy of burning investor cash to become a monopolist player rather than targeting a sustainable growth plan. Low-key this has led to long term consolidation to a greater level than otherwise would have occurred.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36555109"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555109" href="https://news.ycombinator.com/vote?id=36555109&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; I think a tougher economic climate would have been better for innovation long-term.<p>I am convinced that the overuse of cloud computing has largely been a byproduct of the money firehose of excessive funding. If money was tighter, massively overpaying for compute and bandwidth should be less attractive.</p><p>As someone who is deeply interested about performance, efficiency and scalability, I'm hoping there is a partial industry reversal to caring about these things again.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553418"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553418" href="https://news.ycombinator.com/vote?id=36553418&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>It's possible to make money on them. But not if you have tens of thousands of employees.<p>They fail because they need to become billion dollar behemoths to support the VC funding they've gotten. But plenty (not all though) of them could be profitable if they were ran as a "lifestyle" business.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36553637"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553637" href="https://news.ycombinator.com/vote?id=36553637&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>If you actually looked at the balance sheet of twitter before Elon took it over it was quite possible to make it profitable. It would have needed to cut cost and probably try and to boost its ad platform a bit more but well within the realm of possibilities.<p>With the debt that Elon has saddled them with I doubt they will ever be profitable again without declaring bankruptcy.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36553942"><td></td></tr>
                <tr id="36554304"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36554304" href="https://news.ycombinator.com/vote?id=36554304&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>At the absolute pinnacle of ZIRP era, there were just barely able to get into the black (ex their legal settlement). That’s not an extremely healthy business. They were going to crash in 22/23 regardless of ownership.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36556088"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_36556088" href="https://news.ycombinator.com/vote?id=36556088&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Crash as in what? Get delisted from the Nasdaq and go bankrupt or just have a bad bearish couple years or something? Their cashflow had pretty consistently improved since their IPO, they would've maybe had a couple bearish years, would've laid off employees like most other tech companies and most likely would have roughly followed the overall Nasdaq trajectory in the market. But that's a normal business cycle, the stock market is full of companies in  much worse shape (look at Amazon for its first decade) that can survive any storm as long as their DSCR ratio isn't crazy...like Twitter's is now.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36556024"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36556024" href="https://news.ycombinator.com/vote?id=36556024&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Twitter never had a health P/E (Price/earning) ratio. 270M is great on a 2B company but terrible on a +40B company.</span></p></div></td></tr>
        </tbody></table></td></tr>
                              <tr id="36553656"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553656" href="https://news.ycombinator.com/vote?id=36553656&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I think this is going to be known as "the Millennial subsidized lifestyle era." Not that it was exclusively used by Millennials, but it's largely what they grew up with.<p>AirBnb was maybe the worst of the bunch, because it has such a dramatic negative externality on housing markets. Entire areas of Barcelona have essentially no real residents because even those who didn't sell to AirBnb investors found it unlivable with drunk tourists screaming around the apartment buildings at 3 am. I stopped using AirBnb because it was making it enjoyable to visit other cities, but destroying my own. It's also a lot more expensive for fewer amenities.</p><p>Spotify hasn't made any money yet. I wonder if they're going to start charging $30/month. Time for the return of CDs, vinyl, MP3s?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555113"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555113" href="https://news.ycombinator.com/vote?id=36555113&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>How does Spotify lose money? Audio isn't nearly as big as video files. Likely they are just going to make the free tier absolutely suck.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36556058"><td></td></tr>
            <tr id="36555454"><td></td></tr>
                <tr id="36555525"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36555525" href="https://news.ycombinator.com/vote?id=36555525&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Oh yeah, podcasts. I honestly don't know why they're so desperate on attracting people for podcasts. Podcasts are much more unprofitable compared to normal music</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36556690"><td></td></tr>
            <tr id="36555900"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_36555900" href="https://news.ycombinator.com/vote?id=36555900&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Probably harder to cut a good deal negotiating with the legal team of capital records vs a random podcaster.</span></p></div></td></tr>
        </tbody></table></td></tr>
                              <tr id="36554227"><td></td></tr>
                  <tr id="36553521"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553521" href="https://news.ycombinator.com/vote?id=36553521&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Yep somewhere along the way we forgot that you can't become profitable on volume when marginal revenue is negative. This is first-year business undergrad stuff.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553562"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553562" href="https://news.ycombinator.com/vote?id=36553562&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I don't think they forgot that, the general plan has been successive rounds of funding so you can say "valued at" at increasingly high values, then an IPO or a sneaky exit through secondary market share sales. Then some dummies who aren't you are left holding the bag.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553706"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36553706" href="https://news.ycombinator.com/vote?id=36553706&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Yep. That’s the worst part — all these startups and people’s time and effort are just a ploy by rich people to get richer.</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="36555822"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36555822" href="https://news.ycombinator.com/vote?id=36555822&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>With all of these companies outspending their revenue by so much, cash getting 5% more expensive or so seems like a drop in the bucket.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36553456"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553456" href="https://news.ycombinator.com/vote?id=36553456&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>In general yes, but Twitter was borderline profitable before Musk took over and saddled them with insurmountable debt payments and decisions alienating advertisers and users.<p>Twitters current issues are entirely the creation of Elon Musk.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36553572"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553572" href="https://news.ycombinator.com/vote?id=36553572&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Blue sales ultimately can't hope to come close to what big brand ads used to give.<p>And ironically enough, blue currently works as a crappy version of advertising thanks to the reply ranking. The promises of prioritizing "high-quality content" never came true; all we see are mid takes and, if you speak Mandarin, AI-powered sex scambots.</p><p>Well, worse for us plebs. Not sure if it's worse for the buyers.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554071"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36554071" href="https://news.ycombinator.com/vote?id=36554071&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; Blue sales ultimately can't hope to come close to what big brand ads used to give.<p>I don't know, I think the hope is there.  With these rate limits and some Fermi estimates, we can guess what Twitter's hoped-for revenue per user might be.</p><p>Suppose that this move is designed to move regular users over to Twitter Blue, and a regular user might ordinarily see 2000 tweets per day.  Suppose further that Twitter would show 1 ad per 10 tweets, and ad sells for 3$CPM on average, and a Blue user sees 33% fewer ads.</p><p>An ordinary user would then expect to give Twitter 200 ad impressions per day, at $0.60/day of ad revenue or $18.  By seeing 1/3 fewer ads, that ad revenue drops to $12, but Twitter picks up $8/month in Blue subscription fees, increasing the gross revenue to $20.</p><p>That feels about right, and the math gets better in the short term for Twitter if it's having a hard time filling its ad spots — a proportionally greater share of its revenue would then come from the pushed-for Blue.</p><p>Likewise, if Twitter is having a hard time filling its advertising spots, kicking non-Blue viewers off the platform is not a short-term revenue loss: the marginal eyeball is unmonetized.  In the medium to long term, of course, Twitter is strangling the very content that attracts those eyeballs, and this is still a bone-headed business decision.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555574"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36555574" href="https://news.ycombinator.com/vote?id=36555574&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I think this analysis might work in a vacuum (but see sibling comments about the assumptions of how many ads are served to Blue users), but the biggest problem is the tremendous debt that the Musk takeover has saddled Twitter with. Perhaps you could run a social network sustainably at reasonable cost and profits.<p>Twitter has over 12 billion USD in debt though, and with rising interest rate the interest payments are going to be an absolute drag on financial performance. Those payments MUST be met, otherwise Musk will not own Twitter at all. Scaling down user numbers is unlikely to help. Even 3% interest rate on 10b is 300  million per year.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36556059"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36556059" href="https://news.ycombinator.com/vote?id=36556059&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt;&gt; Suppose that this move is designed to move regular users over to Twitter Blue<p>I hope you don't work in marketing. Why would a non-paying user watch Twitter arbitrarily limit the number of Tweets a _paying user_ can view per day, and think "yeah, I'll pay for that".
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36554739"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36554739" href="https://news.ycombinator.com/vote?id=36554739&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>We’re already well into the medium term. Content has been leaving since November, and a lot of people are already primed to exit if the site becomes unusable for more than a weekend.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36554829"><td></td></tr>
                <tr id="36557317"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_36557317" href="https://news.ycombinator.com/vote?id=36557317&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Wrong, they see half the ads of regular users, and only on certain spots of the site<p>"Half ads: See approximately 50% fewer ads in the For You and Following timelines. As you scroll, you will see approximately twice as many organic or non-promoted Tweets placed in between promoted Tweets or ads. There may be times when there are more or fewer non-promoted Tweets between promoted Tweets. The half ads feature does not apply to promoted content elsewhere on Twitter, including but not limited to ads on profiles, ads in Tweet replies, promoted events in Explore, promoted trends, and promoted accounts to follow. Blue subscribers will have access to this feature after their account has been reviewed for eligibility and the blue checkmark has been applied."</p><p><a href="https://help.twitter.com/en/using-twitter/twitter-blue" rel="nofollow noreferrer">https://help.twitter.com/en/using-twitter/twitter-blue</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                                          <tr id="36553484"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553484" href="https://news.ycombinator.com/vote?id=36553484&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>It doesn't feel like that to me. Elon reported that Twitter hit a new all time high of "user seconds" last week. Reddit usage doesn't seem to have gone down much. In my opinion, what you are really experiencing is wishful thinking.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553561"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553561" href="https://news.ycombinator.com/vote?id=36553561&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Elon says a lot of things, like last fall when he was crowing about how Twitter had the bot problem licked. Fast forward to today and bot spam is worse than ever before.<p>You can believe what you want. I choose to believe what I see with my eyes.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36556286"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36556286" href="https://news.ycombinator.com/vote?id=36556286&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I’m not taking a side of whether Elon is right or wrong.<p>However, you mentioned that today is an admission that the bot problem is worse. However that not true, the restrictions are specifically on viewing data (scrapers) rather than creating data (bots).
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553596"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553596" href="https://news.ycombinator.com/vote?id=36553596&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>| Elon reported that Twitter hit a new all time high of "user seconds" last week<p>I’m not inclined to take Elon’s words at face value, he has an incentive to pump any statistic that makes it seem Twitter is growing.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554675"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554675" href="https://news.ycombinator.com/vote?id=36554675&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>That's pretty much majority of data science at tech companies. Stakeholders want numbers that make things look good, not accurate or useful numbers.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553516"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553516" href="https://news.ycombinator.com/vote?id=36553516&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>It's going to be hard to continue hitting record highs if you're limiting how much of your content people are able to see.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553529"><td></td></tr>
                <tr id="36553680"><td></td></tr>
                        <tr id="36553705"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553705" href="https://news.ycombinator.com/vote?id=36553705&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; Elon reported that Twitter hit a new all time high of "user seconds" last week.<p>A famously trustworthy source.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36553793"><td></td></tr>
            <tr id="36553736"><td></td></tr>
                <tr id="36554212"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554212" href="https://news.ycombinator.com/vote?id=36554212&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I don’t have an account so all my interactions with twitter are via discord bots. I don’t know where that falls into scraping vs bots but I ain’t an organic user from their perspective.<p>In theory the goal would be to push people like me to register and get an account to at least view, and force me into their platform/ecosystem so I can be measure and monetized.</p><p>Unfortunately, much like ape pics, printscreen key exists and people will simply pivot to posting png’s of twitter instead of direct linking
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553523"><td></td></tr>
                <tr id="36558227"><td></td></tr>
            <tr id="36557224"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36557224" href="https://news.ycombinator.com/vote?id=36557224&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Users coming for seconds, because they've been rate limited and deprived of their dopamine hits.</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="36553144"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553144" href="https://news.ycombinator.com/vote?id=36553144&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Instagram doing a fediverse thing is a big deal, and makes me really optimistic about the future of ActivityPub. We don't have it all figured out just yet, but I do think we're going to see a decentralized future of social media, which is pretty exciting.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553180"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553180" href="https://news.ycombinator.com/vote?id=36553180&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Their use of ActivityPub is just a way to quickly bootstrap social media functionality using time tested libraries. Just like they did with XMPP.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36556037"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36556037" href="https://news.ycombinator.com/vote?id=36556037&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>It's likely more a way for Instagram to avoid monopoly and associated regulatory discussions.<p>By basing it on an open protocol they can be one of many trusted clients rather than a closed, proprietary service.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553205"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553205" href="https://news.ycombinator.com/vote?id=36553205&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Instagram is also apparently building a Twitter-like app, which as much as I hate FB/IG, would probably convince me to switch into their ecosystem again.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553559"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553559" href="https://news.ycombinator.com/vote?id=36553559&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I don’t use Facebook because of all the crimes against humanity but I’ll be honest. If the cage match happens and Zuckerberg beats the snot out of Musk, I’m a Facebook user for life. I think a lot of people would feel the same. Meta has a chance to turn everything around.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553546"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553546" href="https://news.ycombinator.com/vote?id=36553546&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I want this to release <i>so</i> bad. It would be the most natural step for me having used Twitter for the last 10 years off and on. There's just a comedic aspect that I haven't found yet in other social media apps. Twitter was a really special place before Elon took over.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36554892"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554892" href="https://news.ycombinator.com/vote?id=36554892&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>The rest of the fediverse seems to disagree and is now in an obnoxious war to preblock Meta or not.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553216"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553216" href="https://news.ycombinator.com/vote?id=36553216&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>The weirdest thing of this era is that we don't see the big players (eg. Google) trying to take advantage of this situation and create an alternative.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553284"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553284" href="https://news.ycombinator.com/vote?id=36553284&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Googs has showed us in the past it is unable to make a product that people want to use, and that they have no stomach for a slow grind to get a product to beat the establishment.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554058"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554058" href="https://news.ycombinator.com/vote?id=36554058&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span><i>au contraire</i>, they can definitely make products people like but then insist on either ruining them or shutting them down.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554129"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36554129" href="https://news.ycombinator.com/vote?id=36554129&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>fine, I'll rephrase: social products. Remember Google+? You and 10 other people do. Most people's memory of Google+ was how to avoid it after it became a mandatory thing for all gmail users, and then it was just gone. So yeah, people really liked that product</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554635"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_36554635" href="https://news.ycombinator.com/vote?id=36554635&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Imo Google (basically by accident) owns the best place social network for the next decade - YouTube.<p>Human generated content will become rare and more valuable, which is why the remaining non walled gardens (Reddit and Twitter) are quickly raising the drawbridge.</p><p>Video will be the last medium to fall to AI generated content pretending to be human generated, and by cloning tiktok across to YouTube shorts they remove the barriers to entry for humans.</p><p>Social media nowdays is not about friends, it’s about algorithms &amp; creator monetization. YouTube is #1 on monetization by a huge margin.</p><p>Any text based social media network will be absolutely overrun with LLMs.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555160"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_36555160" href="https://news.ycombinator.com/vote?id=36555160&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; Imo Google (basically by accident) owns the best place social network for the next decade - YouTube.<p>Does it? I mostly use YouTube on my Apple TV, and the few times I open it elsewhere, I barely check the comments other than to check the audience reception. There are no conversations there.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36554948"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_36554948" href="https://news.ycombinator.com/vote?id=36554948&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; Imo Google (basically by accident) owns the best place social network for the next decade - YouTube.<p>That's pretty damn sad. Limiting discussion to some video link is just not very social to me. Facebook was the best overall to me until they fucked it up. As a concept, it is the most diverse in allowing users to be social with the various types of posts. Sure, you can do videos, images, text only, but also the events, direct messaging, and other features that i don't really remember because i haven't been there in 10 years.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                                    <tr id="36553247"><td></td></tr>
            <tr id="36556325"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36556325" href="https://news.ycombinator.com/vote?id=36556325&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Instagram has a Twitter-like product in the pipeline now.<p>Google had their foray into social media more than a decade ago and it failed miserably. Starting from that point they've produced a continuous stream of failed products that never received enough support to last long enough to see viability.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36553307"><td></td></tr>
            <tr id="36553953"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553953" href="https://news.ycombinator.com/vote?id=36553953&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Nobody would join anything social based run by Google anymore. For one thing we all know it would already be in the phase of being closed down, not to mention nobody (Even Google customers) trusts them.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36553904"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553904" href="https://news.ycombinator.com/vote?id=36553904&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>They can give it a catchy name too with their branding, because it adds so much value to their services. Maybe call it Google+?</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36555014"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36555014" href="https://news.ycombinator.com/vote?id=36555014&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Imagine spending countless hours building up your follower base and accumulating the social media cachet, if you will, only to have Google shut it down in three years. Because that's exactly how that would go.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36553304"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553304" href="https://news.ycombinator.com/vote?id=36553304&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>What big players are in a position to make an alternative, as well as be trusted enough that people will migrate to it? What an inane comment.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36558299"><td></td></tr>
            <tr id="36554150"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554150" href="https://news.ycombinator.com/vote?id=36554150&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Meta. I’d move to a Meta-run Twitter in a moment. I use FB Messenger and Instagram every day, and Zuck has so far resisted the pull to the far right that Elon and Jack have.<p>I’d theoretically trust Apple/Google/MS to own the data and governance, but I don’t think any are capable of executing.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553429"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553429" href="https://news.ycombinator.com/vote?id=36553429&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>A platform where everyone but nazis could say whatever they want (as long as it isn’t something a nazi would say) would be so popular.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553607"><td></td></tr>
                        <tr id="36554059"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554059" href="https://news.ycombinator.com/vote?id=36554059&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>There will be no observable long term impact from Reddit banning third party apps.<p>Only a few power users cared about it and no one cared about them.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554341"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554341" href="https://news.ycombinator.com/vote?id=36554341&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I think this is a pretty naïve viewpoint - just look at what the mods of e.g. /r/iama announced today.<p>On social network websites, the vast majority of people are only lurkers, a relatively few people commenting, even fewer people posting, and fewer people still who want to put in the effort to build up a community.</p><p>Reddit's soul sits in those handcrafted small communities, the big ones sure will stay around and be popular, but there's lots of other places where one can get 5 second cat videos, and memes.</p><p>This event eroded a lot of the remaining trust between moderators and the admins, and while that can feel like it's not relevant to normal users, over time this will cause fewer people to be interested in starting a community on Reddit.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555630"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36555630" href="https://news.ycombinator.com/vote?id=36555630&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Yes I agree. What some seem to be missing is that public forums are a cesspit by default. While often invisible, the work of community managers and moderators is essential to maintain spaces people actually want to spend time in. These free workers are in limited supply. Once they leave, sites fill up with unmoderated spam and junk.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36554153"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554153" href="https://news.ycombinator.com/vote?id=36554153&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I would estimate 90% of worthwhile content on Reddit is posted by power users. Most subreddits are only alive because a few power users take the time to compile and post content. Nobody cares about them, but people will care once their content is gone.<p>Power mods suck, but power users are the backbone of the site. I predict information quality and density will continue to decrease rapidly on Reddit until it becomes no different from Instagram.</p><p>(I’m not personally a power user, I’ve just been on Reddit for a while)
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554437"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554437" href="https://news.ycombinator.com/vote?id=36554437&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Sample size of one, but I suppose maybe I’m in that category of power users - given that I’d post 3-10 “effort posts” per day.<p>Apollo finally went dark yesterday, I deleted it, and haven’t felt a single compulsion to check the mobile Reddit site. About the only Reddit related thing on my mind is whether I’m petulant enough to mass overwrite my posts - I’m only too familiar with the struggle of searching for something and finding dead blogs and forums a few years back.</p><p>I don’t think Reddit the company owes me anything, but I wonder how many other “high value” users (in terms of both content and value to marketers) simply drifted away once the iOS apps went dark.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="36554991"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36554991" href="https://news.ycombinator.com/vote?id=36554991&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>I would love for an RSS reader/HN/Reddit thing to exist. You could get you personal news on one side, and subs/communities whith two columns, one for news from sources curated by the admins/mods of the sub, and other column for news, links and text posts submittes by the users.<p>You could only join by invitation, so as to make F2F social networks in self-hosted instances, or in a Discord-esque "server". I think the value here would be in exchanging opinions, information and new interests with an expanded social network (you woukd probably like and find interesting your friends' friends). Although I admit this model would be a closed community, if it's only one instance then it's not a problem because there are not a lot of people, and if it proves to be successful, it could span a renaissance of blogs or independent content-generation, i.e. these communities would be closed but reinforcing an open Web, instead of mega-silos with captive audience.</p><p>I think that a limit in size for each community would be essential, the first member/admin can invite, let's say, 80, people, each of those can invite 40 people, and the third "generation" just another 20 people. This way you get at most 64k people to interact with. There was a post here on HN a couple months [0] ago with a back of the envelope calulation of subreddits being hostile when reaching a 300k userbase.</p><p>[0] <a href="https://maximumeffort.substack.com/p/scaling-problems-in-social-control" rel="nofollow noreferrer">https://maximumeffort.substack.com/p/scaling-problems-in-soc...</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36555935"><td></td></tr>
                  <tr id="36553009"><td></td></tr>
                <tr id="36553153"><td></td></tr>
                <tr id="36553286"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553286" href="https://news.ycombinator.com/vote?id=36553286&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Really it looks like the commercial web is about to lock itself down hard into strongly walled gardens.<p>It is definitely time to rebuild.  I don't know if that'll be ActivityPub and decentralization, but it needs to be something else.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="36553946"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553946" href="https://news.ycombinator.com/vote?id=36553946&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; What technologies will take their place?<p>Someones going to say Lemmy and Mastedon - they're wrong.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="36553280"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553280" href="https://news.ycombinator.com/vote?id=36553280&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>If Meta were smart, they'd immediately shift away from their Metaverse nonsense and use this as a massive opportunity to do things they are pretty good at (hate them or love them.) I know they are working on a Twitter competitor, but they need to find a way to help get the followers they once had back, if they were to switch. They could even ultimately challenge Reddit. I know that would not be an ideal outcome, but as a business with that core competency, I'd be putting a huge effort to take advantage of all of this.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553581"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553581" href="https://news.ycombinator.com/vote?id=36553581&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>&gt; They could even ultimately challenge Reddit.<p>Frankly I feel Google would be more motivated to challenge Reddit. Since so many of Google’s search results go to Reddit, they might as well try to take over that part of the web rather than leaving it in the hands of mercurial leadership of Reddit.</p><p>The only problem is possible retaliation from Reddit and potential antitrust problems if other similar sites feel threatened.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36553648"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553648" href="https://news.ycombinator.com/vote?id=36553648&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Except Google seems completely incompetent at creating new products (though maybe YT shorts is the exception that proves the point) and very bad at handling community</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553850"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_36553850" href="https://news.ycombinator.com/vote?id=36553850&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>YT shorts isn't a new product. It's a feature of an existing product, which happens to be the second biggest website.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36554388"><td></td></tr>
            <tr id="36555398"><td></td></tr>
                <tr id="36557767"><td></td></tr>
                        <tr id="36554186"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554186" href="https://news.ycombinator.com/vote?id=36554186&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>Google should be hyper-motivated, they just appear to be incapable of executing on anything social.<p>Surprised they aren’t visibly scrambling to get it done anyway though
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553497"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553497" href="https://news.ycombinator.com/vote?id=36553497&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I d say the opposite. Their headsets are great and affordable, but their obsession with making everything social is ... annoying at this point? They keep adding social stuff to the oculus, but why the hell would i want to be stalked while i m deep into another world wearing glasses. They need to quit their old habits and focus on the future not the past</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36553534"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36553534" href="https://news.ycombinator.com/vote?id=36553534&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>The future in question is not profitable (yet, if at all anytime soon). Social media is and will be for a long time in competent hands. You can think that their VR stuff is cool but also know their core competency is good social experiences. You can hate Facebook and Instagram all you want but they are both very popular and profitable.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="36553695"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36553695" href="https://news.ycombinator.com/vote?id=36553695&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>If you think about it Google Groups could have been Reddit if presented in this way.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="36554191"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_36554191" href="https://news.ycombinator.com/vote?id=36554191&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>I mean Google Groups was just the colony of crustaceans living on the whale-fall of Usenet.</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="36556472"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36556472" href="https://news.ycombinator.com/vote?id=36556472&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>Lemmy has been great. I went SDF as a host. Never going back to Reddit. I left Twitter almost a decade ago so I can’t compare to mastodon but that’s been really nice too.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="36553445"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_36553445" href="https://news.ycombinator.com/vote?id=36553445&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><p><span>The shift is that the content itself now has tangible value.<p>So far it's been the attention of the users that has been monetized, primarily via advertising.</p><p>But now the content generated by the users has value as input into AI training sets. And AI companies are scrambling to gather as much as they can as rapidly as they can.</p><p>The data itself, not the attention of the users, is what is now being harvested.</p><p>The companies hosting the data are right to intervene, there's no reason to allow incredibly well-funded AI organizations hoover it all up for free.</p><p>Where it's going wrong is <i>how</i> the social companies are intervening. Their goal is correct, their methods are not.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="36554612"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_36554612" href="https://news.ycombinator.com/vote?id=36554612&amp;how=up&amp;goto=item%3Fid%3D36552324"></a></center>    </td><td><br><div>
                  <p><span>And yet, by shrinking the reach of posts, there must be far less content being generated. Isn't that the tightrope social networks have always been walking?</span></p></div></td></tr>
        </tbody></table></td></tr>
                            <tr></tr><tr><td></td></tr>
      </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Twitter limits unverified accounts to reading 600 posts/day (152 pts)]]></title>
            <link>https://twitter.com/elonmusk/status/1675187969420828672</link>
            <guid>36552231</guid>
            <pubDate>Sat, 01 Jul 2023 17:07:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/elonmusk/status/1675187969420828672">https://twitter.com/elonmusk/status/1675187969420828672</a>, See on <a href="https://news.ycombinator.com/item?id=36552231">Hacker News</a></p>
Couldn't get https://twitter.com/elonmusk/status/1675187969420828672: Error [ERR_FR_TOO_MANY_REDIRECTS]: Maximum number of redirects exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[The first Oxide rack being prepared for customer shipment (271 pts)]]></title>
            <link>https://hachyderm.io/@oxidecomputer/110635621269494973</link>
            <guid>36552015</guid>
            <pubDate>Sat, 01 Jul 2023 16:47:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://hachyderm.io/@oxidecomputer/110635621269494973">https://hachyderm.io/@oxidecomputer/110635621269494973</a>, See on <a href="https://news.ycombinator.com/item?id=36552015">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[SpaceX rocket launches Euclid space telescope to map the 'dark universe' (164 pts)]]></title>
            <link>https://www.space.com/space-rocket-launches-euclid-dark-universe-telescope</link>
            <guid>36551941</guid>
            <pubDate>Sat, 01 Jul 2023 16:39:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.space.com/space-rocket-launches-euclid-dark-universe-telescope">https://www.space.com/space-rocket-launches-euclid-dark-universe-telescope</a>, See on <a href="https://news.ycombinator.com/item?id=36551941">Hacker News</a></p>
<div id="readability-page-1" class="page"><article aria-label="article" data-id="x3JEYh5uqazEPFLK2D3cfN">
<header>
<nav aria-label="Breadcrumbs">
<ol>
<li>
<a href="https://www.space.com/" aria-label="Return to Home">Home</a>
</li>
<li>
<a href="https://www.space.com/news" aria-label="Return to News">News</a>
</li>
<li>
<a href="https://www.space.com/spaceflight" aria-label="Return to Spaceflight">Spaceflight</a>
</li>
</ol>
</nav>


</header>
<section>

<div id="article-body">
<p>CAPE CANAVERAL, Fla. — A SpaceX rocket launched a new space telescope into orbit Saturday (July 1) on a mission to map the "dark universe" like never before. &nbsp;</p><p>The European Space Agency observatory, called <a href="https://www.space.com/36195-euclid-esa-facts.html">Euclid</a>, soared to space today aboard a <a href="https://www.space.com/18853-spacex.html">SpaceX</a> Falcon 9 rocket at 11:11 a.m. EDT (1511 GMT) from Space Launch Complex 40 here at the Cape Canaveral Space Force Station.</p><p>Spectators here at the Kennedy Space Center Visitor Complex cheered and applauded as the <a href="https://www.space.com/18962-spacex-falcon-9.html">Falcon 9</a> booster carried Euclid aloft, with the first stage handily touching down just eight minutes later on a drone ship stationed nearby in the Atlantic Ocean.&nbsp;</p><p>"We have a mission," ESA Director-General Josef Aschbacher said during a live webcast just after liftoff. "I'm so excited for this mission now, knowing its on its way to Lagrange point 2 ... amazing, I'm very happy and very thrilled."</p><p>"I'm totally addicted, a launch junkie," joked Nicola Fox, NASA's associate administrator for science, at a press conference here after the launch Saturday (July 1). "It's just the most exciting day where you realize all the work, all the teams, all the thousands of people that put their life into this mission and for them to see that take flight today."</p><p>The Euclid space observatory, which is designed to seek out invisible <a href="https://www.space.com/20930-dark-matter.html">dark matter</a> and dark energy, separated from its rocket about 41 minutes after liftoff and is now making the journey to the sun-Earth Lagrange point 2, which is roughly 1 million miles (1.5 million km) away from our planet on the opposite side of the sun. <a href="https://www.space.com/30302-lagrange-points.html">Lagrange points</a> are relatively stable orbits where satellites use a minimum of fuel, and Euclid's destination is a popular location: NASA's <a href="https://www.space.com/21925-james-webb-space-telescope-jwst.html">James Webb Space Telescope</a> also orbits at L2, for example.</p><p><strong>Related:</strong> <a href="https://www.space.com/what-if-dark-energy-does-not-exist">We've never seen dark matter and dark energy. Does it really exist?</a></p><h2 id="unveiling-the-apos-dark-universe-apos">Unveiling the 'dark universe'</h2><figure data-bordeaux-image-check=""><div><p><picture><source type="image/webp" alt="A SpaceX white and black rocket launches into a blue sky" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-320-80.png.webp 320w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-480-80.png.webp 480w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-650-80.png.webp 650w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-970-80.png.webp 970w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-1024-80.png.webp 1024w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-1200-80.png.webp 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro.png"><source type="image/png" alt="A SpaceX white and black rocket launches into a blue sky" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-1200-80.png 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro.png"><img src="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro.png" alt="A SpaceX white and black rocket launches into a blue sky" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-1200-80.png 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro.png" srcset="https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/sipV2ztuboLnrYqAEac7Ro-1200-80.png 1200w"></picture></p></div><figcaption itemprop="caption description"><span>A SpaceX Falcon 9 rocket carrying the Euclid space observatory for the European Space Agency lifts off from Space Launch Complex 40 at the Cape Canaveral Space Force Station in Florida on July 1, 2023. </span><span itemprop="copyrightHolder">(Image credit: SpaceX)</span></figcaption></figure><p>Dark matter and <a href="https://www.space.com/dark-energy-what-is-it">dark energy</a> are believed to make up most of the universe, but we can't see these phenomena in <a href="https://www.space.com/what-is-the-electromagnetic-spectrum">wavelengths of light</a>. Rather, we can track the dark universe through its effects on other objects. (Gravitational lensing is one example, when a massive object bends the light of a distant object behind through the force of gravity, bringing otherwise faraway stars or galaxies into sharp focus.)</p><p>Cosmologists — scientists studying the history of space — seek to understand how the dark universe behaves to chart the effects of time on our cosmos. The mergers of galaxies, the <a href="https://www.space.com/52-the-expanding-universe-from-the-big-bang-to-today.html">expansion of the universe</a> and the movements of individual stars are all subject to the forces of dark energy and dark matter.</p><p>Carole Mundell, ESA's director of science, added at the press conference that one of her priorities is making sure there is a robust data archive that will last even beyond Euclid's six years of gathering science.&nbsp;</p><p>Calling herself a "custodian" as she has just taken on the director role, she said she would rather pass any baton of congratulations "to all of our science communities who now will work very hard to commission this mission."</p><p>Euclid will aim its telescope eye to regions outside of the <a href="https://www.space.com/19915-milky-way-galaxy.html">Milky Way</a>, our own galaxy, to map over a third of the "extragalactic" sky. In its six-year mission, the deep space explorer will map billions of targets like galaxies and stars. Euclid's two instruments, focusing respectively on visible and infrared (heat-seeking) light wavelengths, will record the information for scientists.</p><p>The long survey mission will uncover the movements of these distant objects, along with their chemical makeup. From space, Euclid's sharp eyes will allow for images at least four times more clear than what telescopes achieve from the ground, given the spacecraft will be far away from Earth's interfering atmosphere and stray light.</p><div><p>Carole Mundell, ESA's director of science, said the Euclid mission is one 15 years in the making, but still she was holding her breath waiting for signal acquisition after a prefect launch and spacecraft separation. </p><p>

"In the next six years of this mission, we will unravel the mysteries of the dark universe," Mundell said. "So, a huge honor to be here. I think there'll be some partying tonight."</p></div><p><strong>Related:</strong> <a href="https://www.space.com/the-euclid-spacecraft-will-transform-how-we-view-the-dark-universe">The Euclid spacecraft will transform how we view the 'dark universe'</a></p><a target="_blank" data-url="" href=""><figure data-bordeaux-image-check=""><div><p><picture><source type="image/webp" alt="illustration of a spacecraft in deep space wiht the milky way at upper left and distant galaxies in the background" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-320-80.jpg.webp 320w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-480-80.jpg.webp 480w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-650-80.jpg.webp 650w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-970-80.jpg.webp 970w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-1024-80.jpg.webp 1024w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-1200-80.jpg.webp 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn.jpg"><source type="image/jpeg" alt="illustration of a spacecraft in deep space wiht the milky way at upper left and distant galaxies in the background" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-1200-80.jpg 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn.jpg"><img src="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn.jpg" alt="illustration of a spacecraft in deep space wiht the milky way at upper left and distant galaxies in the background" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-1200-80.jpg 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn.jpg" srcset="https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/8ruAUk6URTqdRZoJKDFAJn-1200-80.jpg 1200w"></picture></p></div><figcaption itemprop="caption description"><span>An artist's illustration of Euclid operating in space. </span><span itemprop="copyrightHolder">(Image credit: Work performed by ATG under contract for ESA, CC BY-SA)</span></figcaption></figure></a><p>The 1.4 billion Euro ($1.5 billion USD) Euclid has been in the works for nearly two decades. It was forged from <a href="https://www.esa.int/Science_Exploration/Space_Science/Euclid_overview" target="_blank" data-url="https://www.esa.int/Science_Exploration/Space_Science/Euclid_overview">two mission concepts</a> proposed in 2007: Dune (Dark Universe Explorer) and Space (Spectroscopic All Sky Cosmic Explorer), which used different but complementing ways of looking at dark energy. Given how well the two missions worked with each other, they were combined into one powerful observatory: Euclid.</p><p>The <a href="https://www.space.com/22562-european-space-agency.html">European Space Agency</a>'s (ESA) science program committee selected Euclid for space in 2011 and formally adopted the program in 2012. The larger Euclid consortium today includes more than 2,000 scientists from Europe, the U.S. (including NASA), Canada and Japan contributing both instruments and analysis. Thales Alenia Space was the satellite's prime contractor, while Airbus Defence and Space contributed the payload module and 4-foot (1.2-meter) telescope.</p><figure data-bordeaux-image-check=""><div><p><picture><source type="image/webp" alt="A soot-covered SpaceX white and black rocket standing on top of a landing platform in the ocean" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-320-80.png.webp 320w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-480-80.png.webp 480w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-650-80.png.webp 650w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-970-80.png.webp 970w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-1024-80.png.webp 1024w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-1200-80.png.webp 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5.png"><source type="image/png" alt="A soot-covered SpaceX white and black rocket standing on top of a landing platform in the ocean" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-1200-80.png 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5.png"><img src="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5.png" alt="A soot-covered SpaceX white and black rocket standing on top of a landing platform in the ocean" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-1200-80.png 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5.png" srcset="https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/xhSDwRB8iTDeBLowzhEK5-1200-80.png 1200w"></picture></p></div><figcaption itemprop="caption description"><span>The SpaceX Falcon 9 rocket booster that launched the Euclid space telescope for the European Space Agency stands atop its drone ship after a successful landing in the Atlantic Ocean. </span><span itemprop="copyrightHolder">(Image credit: SpaceX)</span></figcaption></figure><p>Euclid's work follows on from several ground-based and space-based surveys of the universe. Among them is the Chilean Victor M. Blanco telescope's Dark Energy Survey that <a href="https://www.space.com/einstein-gravity-variations-dark-energy">mapped 100 million galaxies</a>; a 2022 study of that team's work will serve as a pathfinder both for Euclid and for NASA's <a href="https://www.space.com/nancy-grace-roman-space-telescope">Roman Space Telescope</a>.</p><p>ESA's still-active <a href="https://www.space.com/41312-gaia-mission.html">Gaia satellite</a> (also at Lagrange Point 2) is another recent example, having mapped the movements of nearly 2 billion bright stars since 2015. Gaia, however, focuses on the Milky Way and that will make it a complementary mission to Euclid's deep space focus.</p><h2 id="a-rocket-swap-for-euclid">A rocket swap for Euclid</h2><figure data-bordeaux-image-check=""><div><p><picture><source type="image/webp" alt="a silver and gold space telescope floats away into space from a SpaceX rocket" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-320-80.png.webp 320w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-480-80.png.webp 480w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-650-80.png.webp 650w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-970-80.png.webp 970w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-1024-80.png.webp 1024w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-1200-80.png.webp 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam.png"><source type="image/png" alt="a silver and gold space telescope floats away into space from a SpaceX rocket" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-1200-80.png 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam.png"><img src="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam.png" alt="a silver and gold space telescope floats away into space from a SpaceX rocket" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/space/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-1200-80.png 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam.png" data-pin-media="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam.png" srcset="https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-320-80.png 320w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-480-80.png 480w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-650-80.png 650w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-970-80.png 970w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-1024-80.png 1024w, https://cdn.mos.cms.futurecdn.net/bv8fkikLYksQhNHBVawEam-1200-80.png 1200w"></picture></p></div><figcaption itemprop="caption description"><span>The Euclid space telescope drifts away from its SpaceX Falcon 9 rocket after successfully reaching orbit after a July 1 launch. </span><span itemprop="copyrightHolder">(Image credit: SpaceX)</span></figcaption></figure><p>Incidentally, Euclid was not supposed to launch aboard SpaceX at all. As late as February 2022, the mission was manifested upon an Arianespace Soyuz (provided by Russia) for a March 2023 launch in French Guiana. Russia's unsanctioned <a href="https://www.space.com/news/live/russia-ukraine-invasion-space-impacts-updates">invasion of Ukraine</a> forced a stop to most such space collaborations aside from the <a href="https://www.space.com/16748-international-space-station.html">International Space Station</a>, pushing Euclid's team to look for another ride to space.</p><p>Arianespace has been ESA's launch partner for decades and as a French vendor, it is the preferred route for European space access. Yet there was no room left on the retiring <a href="https://www.space.com/40551-ariane-5-rocket.html">Ariane 5</a> rocket line, and the new Ariane 6 was still in a late stage of development, <a href="https://spacenews.com/falcon-9-leading-candidate-to-launch-european-science-mission/" target="_blank" data-url="https://spacenews.com/falcon-9-leading-candidate-to-launch-european-science-mission/">reported SpaceNews</a>, which was at the meeting.&nbsp;</p><p>Even U.S. options were few, as United Launch Alliance's trusty Atlas V and Delta IV Heavy rockets also had full manifests ahead of their retirement. ULA's new <a href="https://www.space.com/vulcan-centaur-rocket">Vulcan Centaur</a> will not fly until this year at least, leaving SpaceX as the only viable short-term option, according to ESA comments last year.&nbsp;</p><p>To get to its new site, Euclid made its way from Italy to its Floridian launch site <a href="https://www.space.com/euclid-dark-matter-mission-prepped-trip-florida">under sail</a>. It took roughly two weeks to voyage across the Atlantic by boat, yet just minutes to cross that same ocean again in the air by rocket.</p><p>The SpaceX Falcon 9 rocket that launched Euclid made its second flight to space with this launch. The mission marked SpaceX's 44th mission of 2023 and 243rd mission to date. It was the also the 204th successful landing of an orbital class rocket by SpaceX.</p><p>Euclid will take about 30 days to commute to its deep-space site. Investigators have not yet released the date for the first science image, but say it will be in a few months.</p><p><em>This story was updated at 2:08 p.m. EDT with information from the post-launch press conference.</em></p><p><em>Elizabeth Howell's Florida coverage was co-sponsored by Canadian Geographic magazine and Canada's University of Waterloo, where Euclid's primary science coordinator (Will Percival) is based. Space.com has independent control of news coverage.</em></p>
</div>
<p><em><a href="https://forums.space.com/">Join our Space Forums</a> to keep talking space on the latest missions, night sky and more! And if you have a news tip, correction or comment, let us know at: <a href="mailto:community@space.com">community@space.com.</a></em></p>
<div data-hydrate="true" id="slice-container-newsletterForm-articleInbodyContent"><section><p>Breaking space news, the latest updates on rocket launches, skywatching events and more!</p></section></div>
<div id="slice-container-authorBio"><p>Elizabeth Howell (she/her), Ph.D., is a staff writer in the spaceflight channel since 2022 covering diversity, education and gaming as well. She was contributing writer for <a href="http://space.com/" target="_blank">Space.com</a> for 10 years before joining full-time. Elizabeth's reporting includes multiple exclusives with the White House and Office of the Vice-President of the United States, an exclusive conversation with aspiring space tourist (and NSYNC bassist) Lance Bass, speaking several times with the International Space Station, witnessing five human spaceflight launches on two continents, working inside a spacesuit, and participating in a simulated Mars mission. Her latest book, "<a href="https://www.amazon.com/Why-Am-Taller-Happens-Astronauts/dp/1770415963" target="_blank">Why Am I Taller</a>?", is co-written with astronaut Dave Williams. Elizabeth holds a Ph.D. and M.Sc. in Space Studies from the University of North Dakota, a Bachelor of Journalism from Canada's Carleton University and a Bachelor of History from Canada's Athabasca University. Elizabeth is also a post-secondary instructor in communications and science at several institutions since 2015; her experience includes developing and teaching an astronomy course at Canada's Algonquin College (with Indigenous content as well) to more than 1,000 students since 2020. Elizabeth first got interested in space after watching the movie Apollo 13 in 1996, and still wants to be an astronaut someday. Mastodon: <a href="https://qoto.org/@howellspace">https://qoto.org/@howellspace</a></p></div>


</section>




<div id="slice-container-relatedArticles"><p><h5>Most Popular</h5></p></div>

</article></div>]]></description>
        </item>
    </channel>
</rss>