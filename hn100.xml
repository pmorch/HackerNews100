<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Mon, 26 Feb 2024 16:00:25 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Microsoft strikes deal with Mistral in push beyond OpenAI (131 pts)]]></title>
            <link>https://www.ft.com/content/cd6eb51a-3276-450f-87fd-97e8410db9eb</link>
            <guid>39511530</guid>
            <pubDate>Mon, 26 Feb 2024 14:25:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ft.com/content/cd6eb51a-3276-450f-87fd-97e8410db9eb">https://www.ft.com/content/cd6eb51a-3276-450f-87fd-97e8410db9eb</a>, See on <a href="https://news.ycombinator.com/item?id=39511530">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="barrier-page">
<div data-component="articleHeaderHeroRadioOffer" data-component-unique-name="CHE-Print"><div><p><img src="https://financial-times-financial-times.cdn.zephr.com/assets/icons/padlock_icon.svg" alt="Padlock icon"></p><div><p>Subscribe to unlock this article</p></div></div><div><p><h2>Limited time offer
  <br>
  <strong>Save up to 40% on Standard Digital</strong>
</h2></p><div><p> Essential digital access to quality FT journalism on any device. <br>
All discounts based on monthly full price over contract term. Cancel subscription renewal anytime. </p></div></div><div id="offer-cards"><div><p><label for="offer1"><label for="offer1">
  <span>SAVE 40% ON YEAR 1</span>
  <span>
    <s>CHF660</s> CHF395 for 1 year
  </span>
  <span>CHF32.92 monthly equivalent</span>
</label></label></p></div><div><p><label for="offer2"><label for="offer2">
  <span>SAVE 25% ON 6 MONTHS</span>
  <span>
    <s>CHF330</s> CHF245 for 6 months
  </span>
  <span>CHF40.83 monthly equivalent</span>
</label></label></p></div><div><p><label for="offer3"><label for="offer3">
  <span>SAVE 10% MONTHLY</span>
  <span>
    <s>CHF55</s> CHF49 per month
  </span>
  <span>Up to 12 months</span>
</label></label></p></div></div></div>
<div id="recommendedOffers-CHE-Print-4e82fe7b-7754-4876-b7a1-b1f3b8f19e96" data-component="recommendedOffers" data-component-unique-name="CHE-Print"><h2>Explore more offers.</h2><div><div data-o-grid-colspan="12 L4"><div><p><img src="https://financial-times-financial-times.cdn.zephr.com/assets/icons/primary_product_icon_trial.svg" alt=""></p><p data-offer-type="trial"><h3>Standard Digital</h3></p></div><div><p>Then CHF85 per month. Complete digital access to quality FT journalism on any device. Cancel anytime during your trial.</p></div></div><div data-o-grid-colspan="12 L4"><div><p><img src="https://financial-times-financial-times.cdn.zephr.com/assets/icons/primary_product_icon_premium.svg" alt=""></p><p data-offer-type="premium"><h3>Standard Digital</h3></p></div><div><p>Complete digital access to quality FT journalism with expert analysis from industry leaders. Pay a year upfront and save 20%.</p></div></div><div data-o-grid-colspan="12 L4"><div><p><img src="https://financial-times-financial-times.cdn.zephr.com/assets/icons/primary_product_icon_print.svg" alt=""></p><p data-offer-type="print"><h3>Standard Digital</h3></p></div><div><p><span>CHF1,349</span><span> CHF345 </span><span>for your first year</span></p></div><div><p>Insight and expertise in your hands with the iconic FT print edition, delivered Monday to Saturday.</p></div></div></div></div>
<div data-component="subscriptionOptionsV2" data-component-unique-name="CHE-Print"><h2>Explore our full range of subscriptions.</h2></div>
<div data-component="whyFT" data-component-unique-name="default"><div><h2>Why the FT?</h2><p>See why over a million readers pay to read the Financial Times.</p></div><p><a href="https://subs.ft.com/whytheft">Find out why</a></p></div>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Mistral Large (261 pts)]]></title>
            <link>https://mistral.ai/news/mistral-large/</link>
            <guid>39511477</guid>
            <pubDate>Mon, 26 Feb 2024 14:20:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mistral.ai/news/mistral-large/">https://mistral.ai/news/mistral-large/</a>, See on <a href="https://news.ycombinator.com/item?id=39511477">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>We are releasing <em>Mistral Large</em>, our latest and most advanced language
model. <em>Mistral Large</em> is available through la Plateforme. We are also making
it available through Azure, our first distribution partner.</p><h4 id="mistral-large-our-new-flagship-model">Mistral Large, our new flagship model</h4><p>Mistral Large is our new cutting-edge text generation model. It reaches
top-tier reasoning capabilities. It can be used for complex multilingual
reasoning tasks, including text understanding, transformation, and code
generation.</p><p>Mistral Large achieves strong results on commonly used benchmarks,
making it the world's second-ranked model generally available through
an API (next to GPT-4) [see
below for details on bencharks].</p><p><img src="https://mistral.ai/images/news/mistral-large/mistral-large-bar-plot.png" alt="Detailed benchmarks" width="100%"></p><p>Figure 1: Comparison of GPT-4, Mistral Large (pre-trained), Claude 2, Gemini Pro 1.0, GPT 3.5 and LLaMA 2 70B on MMLU (Measuring massive multitask language
understanding).</p><p>Mistral Large comes with new capabilities and strengths:</p><ul><li><p>It is <strong>natively fluent in English, French, Spanish, German, and
Italian,</strong> with a nuanced understanding of grammar and cultural
context.</p></li><li><p>Its <strong>32K tokens context window</strong> allows precise information recall
from large documents.</p></li><li><p>Its <strong>precise instruction-following</strong> enables developers to design
their <strong>moderation policies</strong> – we used it to set up the system-level moderation of le Chat.</p></li><li><p><strong>It is natively capable of function calling.</strong> This, along with
constrained output mode, implemented on la Plateforme, enables
application development and tech stack modernisation at scale.</p></li></ul><h4 id="partnering-with-microsoft-to-provide-our-models-on-azure"><strong>Partnering with Microsoft to provide our models on Azure</strong></h4><p>At Mistral, our mission is to make frontier AI ubiquitous. This is why
we’re announcing today that we’re bringing our open and commercial
models to Azure. Microsoft’s trust in our model is a step forward in
our journey! Our models are now available through:</p><ol><li><p><strong>La Plateforme</strong>: safely hosted on Mistral’s infrastructure in
Europe, this access point enables developers to create applications
and services across our comprehensive range of models.</p></li><li><p><strong>Azure:</strong> Mistral Large is available through <a href="https://techcommunity.microsoft.com/t5/ai-machine-learning-blog/mistal-large-mistral-ai-s-flagship-llm-debuts-on-azure-ai-models/ba-p/4066996">Azure AI Studio and Azure
Machine Learning</a>, with as seamless a user experience as our APIs. Beta customers
have used it with <a href="https://mistral.ai/business/">significant success</a>.</p></li><li><p><strong>Self-deployment</strong>: our models can be deployed on your environment
for the most sensitive use cases with access to our model weights;
Read success stories on this kind of deployment, and <a href="https://mistral.ai/contact/">contact our team</a> for further details.</p></li></ol><h4 id="mistral-large-capacities"><strong>Mistral Large capacities</strong></h4><p>We compare Mistral Large's performance to the top-leading LLM models on
commonly used benchmarks.</p><p><strong>Reasoning and knowledge</strong></p><p>Mistral Large shows powerful reasoning capabilities. In the following figure, we report the performance of the pretrained models on standard benchmarks.</p><p><img src="https://mistral.ai/images/news/mistral-large/large-bench-reasoning-table.svg" alt="Detailed benchmarks" width="100%"></p><p>Figure 2: Performance on widespread common sense, reasoning and
knowledge benchmarks of the top-leading LLM models on the market: MMLU
(Measuring massive multitask language in understanding), HellaSwag
(10-shot), Wino Grande (5-shot), Arc Challenge (5-shot), Arc Challenge
(25-shot), TriviaQA (5-shot) and TruthfulQA.</p><p><strong>Multi-lingual capacities</strong></p><p>Mistral Large has native multi-lingual capacities. It strongly
outperforms LLaMA 2 70B on HellaSwag, Arc Challenge and MMLU benchmarks
in French, German, Spanish and Italian.</p><p><img src="https://mistral.ai/images/news/mistral-large/large-bench-multilingual-table.svg" alt="Detailed benchmarks" width="100%"></p><p>Figure 3: Comparison of Mistral Large, Mixtral 8x7B and LLaMA 2 70B on
HellaSwag, Arc Challenge and MMLU in French, German, Spanish and
Italian.</p><p><strong>Maths &amp; Coding</strong></p><p>Mistral Large shows top performance in coding and math tasks.
In the table below, we report the performance across a suite of
popular benchmarks to evaluate the coding and math performance for some
of the top-leading LLM models.</p><p><img src="https://mistral.ai/images/news/mistral-large/large-bench-coding-maths-table.svg" alt="Detailed benchmarks" width="100%"></p><p>Figure 4: Performance on popular coding and math benchmarks of the leading LLM models on the market: HumanEval pass@1, MBPP pass@1, Math maj@4, GSM8K maj@8
(8-shot) and GSM8K maj@1 (5 shot).</p><h3 id="a-new-mistral-small-optimised-for-low-latency-workloads"><strong>A new Mistral Small, optimised for low latency workloads</strong></h3><p>Alongside Mistral Large, we’re releasing a new optimised model, Mistral
Small, optimised for latency and cost. Mistral Small outperforms Mixtral 8x7B and has
lower latency, which makes it a refined intermediary
solution between our open-weight offering and our flagship model.</p><p>Mistral Small benefits from the same innovation as Mistral Large
regarding RAG-enablement and function calling.</p><p>We’re simplifying our endpoint offering to provide the following:</p><ul><li><p>Open-weight endpoints with competitive pricing. This comprises
<code>open-mistral-7B</code> and <code>open-mixtral-8x7b</code>.</p></li><li><p>New optimised model endpoints, <code>mistral-small-2402</code> and <code>mistral-large-2402</code>.
We’re maintaining <code>mistral-medium</code>, which we are not updating today.</p></li></ul><p>Our <a href="https://docs.mistral.ai/platform/endpoints/">benchmarks</a> give a comprehensive view of performance/cost tradeoffs.</p><p>Beyond the new model offering, we’re allowing organisation management
multi-currency pricing and have updated service tiers on la Plateforme.
We have also made a lot of progress in
reducing the latency of all our endpoints.</p><h3 id="json-format-and-function-calling"><strong>JSON format and function calling</strong></h3><p>JSON format mode forces the language model output to be valid JSON. This
functionality enables developers to interact with our models more
naturally to extract information in a structured format that can be
easily used in the remainder of their pipelines.</p><p>Function calling lets developers interface Mistral endpoints with a
set of their own tools, enabling more complex interactions with internal
code, APIs or databases. You will learn more in our <a href="https://docs.mistral.ai/guides/function-calling">function
calling guide</a>.</p><p>Function calling and JSON format are only available on mistral-small and
mistral-large. We will be adding formatting to all endpoints shortly, as
well as enabling more fine-grained format definitions.</p><p><strong>Try Mistral Large and Mistral Small today</strong></p><p>Mistral Large is available on La Plateforme and Azure as of today.
Mistral Large is also exposed on our beta assistant demonstrator, <a href="https://chat.mistral.ai/">le
Chat</a>. As always, we’re eager to have your feedback!</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The 14 pains of building your own billing system (193 pts)]]></title>
            <link>https://arnon.dk/the-14-pains-of-billing/</link>
            <guid>39510147</guid>
            <pubDate>Mon, 26 Feb 2024 11:41:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arnon.dk/the-14-pains-of-billing/">https://arnon.dk/the-14-pains-of-billing/</a>, See on <a href="https://news.ycombinator.com/item?id=39510147">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>Billing and revenue systems are a necessity if you ever plan to monetize your business.</p>



<p>If you’ve spent any time with them, you know that billing systems are <em><strong>complicated</strong></em>, and no one wants to think about them. When they work, it’s great and everyone is happy.</p>



<p>I’ve seen them likened to an octopus, and I fully agree. They touch finance, product, experience, customer support, customers, legal, compliance, sales, and sometimes more.</p>



<figure><a href="https://arnon.dk/wp-content/uploads/2024/02/image.png"><img fetchpriority="high" decoding="async" width="1019" height="1024" data-attachment-id="1332" data-permalink="https://arnon.dk/the-14-pains-of-billing/image-17/" data-orig-file="https://arnon.dk/wp-content/uploads/2024/02/image.png" data-orig-size="1125,1131" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://arnon.dk/wp-content/uploads/2024/02/image-298x300.png" data-large-file="https://arnon.dk/wp-content/uploads/2024/02/image-1019x1024.png" src="https://arnon.dk/wp-content/uploads/2024/02/image-1019x1024.png" alt="" srcset="https://arnon.dk/wp-content/uploads/2024/02/image-1019x1024.png 1019w, https://arnon.dk/wp-content/uploads/2024/02/image-298x300.png 298w, https://arnon.dk/wp-content/uploads/2024/02/image-150x150.png 150w, https://arnon.dk/wp-content/uploads/2024/02/image-768x772.png 768w, https://arnon.dk/wp-content/uploads/2024/02/image.png 1125w" sizes="(max-width: 1019px) 100vw, 1019px"></a><figcaption>Billing is hard, intertwined, and complicated.</figcaption></figure>



<p>Because it’s so inter-connected, it can go belly-up rather quickly if something breaks. And stuff does break. <em>Frequently</em>. (If you have a team that’s maintaining this system and it’s not you, ask them!).</p>



<p>Also, if your system isn’t breaking just yet. Give it some time.</p>



<p>Look, I know you are busy running the business and you already have lots on your plate. You just want to collect some money and move on to more pressing features that actually matter to customers.</p>



<p>But remember:</p>



<p>👉 if you can’t collect revenue legally and correctly, it’ll become your headache and you’ll have more on your plate than you could possibly ever chew 👈</p>



<h3>The three patterns</h3>



<p>This is not unique to billing systems. It is very common to see one of three patterns:</p>



<ol>
<li>Home-grown</li>



<li>Full 3rd party system</li>



<li>or a hybrid of a home-grown and 3rd party system</li>
</ol>



<p>These all have their own benefits and drawbacks, naturally.</p>



<figure><table><thead><tr><th><strong>Build your own / Home-grown</strong></th><th><strong>Hybrid</strong></th><th><strong>3rd party</strong></th></tr></thead><tbody><tr><td>An entirely home-grown solution.<p>The control is hard to beat. Full control, fully customizable, and you aren’t paying anyone from the outside for fees.</p><p>Many think (and this happens to many companies) that building and maintaining your own billing system is the best option for your business.</p></td><td data-align="left">A mix of home-grown solutions and 3rd parties.<p>For example, your billing engine is internal, payments are handled by a PSP, and tax compliance by a tax SaaS.</p><p>Here, you can control the business logic (e.g., when do you update quantities), but the logic is handled by the 3rd parties.</p></td><td>A turnkey solution that handles everything for you.<p>All the business logic, payment processing, invoicing, tax compliance, usage, metering – all done by one full-service solution.</p><p>This is convenient for companies, but you lose a lot of control and may have to shell out a lot of money to get to this place</p></td></tr></tbody></table></figure>



<p>It’s very natural, when you just start your company (or you’re taking your first steps with a new product) to build everything by yourself.</p>



<p>You have engineers. You want to keep it very simple.</p>



<p>Or so you think.</p>



<p>Why not? <strong>Because you’re often still thinking like an engineer.</strong></p>



<p>You’re thinking of billing as an engineering issue. You’ll say to yourself <em>“why can’t we just dump a file of what we need to bill on S3, and have a CRON job pick it up and collect payment?”</em>.</p>



<p>But you’re wrong. It’s a very big and difficult problem, you just aren’t seeing it yet.</p>



<p>Here is my very high-level description of the things a typical billing team needs to worry about (YMMV):</p>



<figure><a href="https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x.png"><img decoding="async" width="1024" height="480" data-attachment-id="1334" data-permalink="https://arnon.dk/the-14-pains-of-billing/monetization-responsibilities2x/" data-orig-file="https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x.png" data-orig-size="7544,3538" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="monetization-responsibilities@2x" data-image-description="" data-image-caption="" data-medium-file="https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x-300x141.png" data-large-file="https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x-1024x480.png" src="https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x-1024x480.png" alt="" srcset="https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x-1024x480.png 1024w, https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x-300x141.png 300w, https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x-768x360.png 768w, https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x-1536x720.png 1536w, https://arnon.dk/wp-content/uploads/2024/02/monetization-responsibilities@2x-2048x960.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>A typical billing or monetization team has so many responsibilities that it’s hard to grasp even for seasoned professionals.</figcaption></figure>



<p>Everyone knows you don’t do your own security (or date handling). You also shouldn’t do your own billing from scratch. </p>



<figure><img decoding="async" width="1024" height="1004" data-attachment-id="1337" data-permalink="https://arnon.dk/the-14-pains-of-billing/image-3-7/" data-orig-file="https://arnon.dk/wp-content/uploads/2024/02/image-3.png" data-orig-size="1200,1177" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-3" data-image-description="" data-image-caption="" data-medium-file="https://arnon.dk/wp-content/uploads/2024/02/image-3-300x294.png" data-large-file="https://arnon.dk/wp-content/uploads/2024/02/image-3-1024x1004.png" src="https://arnon.dk/wp-content/uploads/2024/02/image-3-1024x1004.png" alt="" srcset="https://arnon.dk/wp-content/uploads/2024/02/image-3-1024x1004.png 1024w, https://arnon.dk/wp-content/uploads/2024/02/image-3-300x294.png 300w, https://arnon.dk/wp-content/uploads/2024/02/image-3-768x753.png 768w, https://arnon.dk/wp-content/uploads/2024/02/image-3.png 1200w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>via <a href="https://permit.substack.com/p/i-coded-the-security-system-myself">Permit.io</a></figcaption></figure>



<h3>My 14 pains of billing and monetization</h3>



<p>Allow me to list <em>some</em> of the problems I’ve had with home-grown billing systems, from least complex to most complex (partial list!):</p>



<p>1. <strong>Idempotency</strong>. All requests to do billing, collecting payments need to be unique and idempotent. This will become apparent when you hit API limits and need to retry, or need to spin up more instances of your billing system. Then, you risk double-charging. Luckily crediting/refunding is not a big problem, but this is a problem nonetheless when you scale your infrastructure.</p>



<p>2. <strong>Date handling.</strong> When do you bill? Every 30 days (calendar), or every month (anniversary)? What about leap days, time-zones, etc? </p>



<figure><img loading="lazy" decoding="async" width="679" height="478" data-attachment-id="1336" data-permalink="https://arnon.dk/the-14-pains-of-billing/image-2-7/" data-orig-file="https://arnon.dk/wp-content/uploads/2024/02/image-2.png" data-orig-size="679,478" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-2" data-image-description="" data-image-caption="" data-medium-file="https://arnon.dk/wp-content/uploads/2024/02/image-2-300x211.png" data-large-file="https://arnon.dk/wp-content/uploads/2024/02/image-2.png" src="https://arnon.dk/wp-content/uploads/2024/02/image-2.png" alt="" srcset="https://arnon.dk/wp-content/uploads/2024/02/image-2.png 679w, https://arnon.dk/wp-content/uploads/2024/02/image-2-300x211.png 300w" sizes="(max-width: 679px) 100vw, 679px"><figcaption><a href="https://xkcd.com/2867/">via XKCD: 2687</a></figcaption></figure>



<p>3. <strong>Proration and “leftovers”</strong>. Do you prorate on upgrade or only downgrade? Refund? Credits? Ignore it? Block it from happening (don’t allow upgrades/downgrades)?</p>



<p>4. <strong>Usage metering.</strong> There are dozens of way to decide how to calculate usage, <em>and</em> they can be changed frequently or by customer type</p>



<p>5. <strong>Invoice formatting</strong>. Sounds easy if you’re operating in one country. But when you expand you suddenly realise you have to collect not just sales tax, but also sometimes VAT and sometimes GST and sometimes additional levies (country-dependant) and you now need individual templates for each market.</p>



<p>6. <strong>Complex customer hierarchy</strong>. Customers (especially in B2B) could have subsidiaries and partners that they want to manage their billing relationships. How do you roll-up usage up to the paying entity?<br>This is often something that you don’t think about at first, but changes when you grow and expand.</p>



<ul>
<li>Making that even more complex: They could be in different locations, and taxed differently based on their location or where the services are delivered. Then, you are legally required to split the bills/invoices.<br>These rules can also change every few months</li>
</ul>



<p>7. <strong>Payment collection and churn prevention</strong>. When do you give up retrying? How do you handle chargebacks (terminate the account, suspend, refund)?</p>



<p>8. <strong>Pausing/resuming</strong>. What level of access do you let customers have when they pause their subscription?</p>



<p>9. <strong>Crediting / refunding</strong>. If you always refund the entire amount it may not be hard, but what about partial mistakes? Would you maybe want to give a “store credit” instead of a refund? Should that credit ever expire?</p>



<p>10. <strong>Tax handling</strong>. You may think different items having different tax rates is complex enough, but these also change frequently if you’re on the global level.</p>



<p>11. <strong>Custom deals</strong>. If you’re PLG-only this isn’t an issue but if you sign contracts, you will very quickly end up with edge cases and special deals that can’t be easily configured with the assumptions you made.</p>



<p>12. <strong>Human error.</strong> Customers are often comprised of humans who have made mistakes, and corrections need to be made. Businesses too are comprised of humans, who can misconfigure their customers and then need to make corrections. Crediting and reissuing invoices is a very time-consuming task.</p>



<ul>
<li>This is also true when customer’s legal details change (address, VAT ID, etc.)</li>
</ul>



<p>13. <strong>Selective pricing changes</strong>. Pricing changes often don’t affect all customers. When only new customers are affected, you must keep distinct versions of your pricing points to ensure customers’ agreements are kept.</p>



<figure></figure>







<p>14. <strong>Revenue recognition and accrued revenue.</strong> I can’t even begin to explain this – but <a href="https://www.ifrs.org/content/dam/ifrs/publications/pdf-standards/english/2021/issued/part-a/ifrs-15-revenue-from-contracts-with-customers.pdf">here’s a 64 page PDF specification of revenue recognition rules according to IFRS-15</a>. If you understand this – you’re special and please e-mail me, I want to know why.<br>Bonus points if you also did a custom <strong>ERP integration</strong> 🥲.</p>



<ol>
<li></li>
</ol>



<h3>Why are these hard?</h3>



<p>Some things change very regularly, more than you’d expect. Some things you only have to do once and never touch again.</p>



<p>Idempotency is a great example of an engineering issue that, once solved, rarely has to be touched.</p>



<p>However, tax rules change regularly across the world. The more countries you’re in, the more tax laws you have to keep track of.</p>



<p>Customer problems around mistakes is a relatively constant issue, but it increases in size as you grow, requiring more customer support and more manual corrections.</p>



<p>Let me try and put it in a table. It’s entirely subjective, but it should help explain the relationship between how frequently things change (== break), and how impacted they are by scale.</p>



<figure><table><tbody><tr><td><strong>Changes frequently</strong> <strong>/ Impacted by scale</strong></td><td><strong>🤏</strong> <strong>Somewhat impacted by your scale</strong></td><td><strong> 📈</strong> <strong>Highly impacted by your scale</strong></td></tr><tr><td><strong>🪨 Doesn’t change </strong></td><td>* Idempotency<br>* Dates<br>* Pause and resume rules</td><td>* Crediting / refunding<br>* Human errors</td></tr><tr><td><strong>🦥</strong> <strong>Changes sometimes</strong></td><td>* Proration rules<br>* Customer hierarchies</td><td>* Usage calculations<br>* Payment collection<br>* Pricing changes</td></tr><tr><td><strong>🐇</strong> <strong>Changes frequently</strong></td><td>* Custom deals<br>* Revenue Recognition rules</td><td>* Tax handling<br>* Invoice formatting</td></tr></tbody></table><figcaption>My subjective assessment of why some topics are more difficult than others</figcaption></figure>



<blockquote>
<p>tl;dr: <strong>Billing is <em>initially </em>an engineering problem rooted in a very very complex problem space which is really hard to understand even for industry veterans.</strong></p>
</blockquote>



<h3>What should you do about it?</h3>



<p>Offload as many problems as you can to someone else. Buy something off-the-shelf. Buy as much as you can.</p>



<p>I can’t stress this enough.</p>



<p>Let <a href="https://www.chargebee.com/">Chargebee</a>, <a href="https://www.solvimon.com/">Solvimon</a>, <a href="https://stripe.com/en-dk/billing">Stripe</a>, <a href="https://recurly.com/">Recurly</a>, <a href="https://www.withorb.com/">Orb</a>, <a href="https://metronome.com/">Metronome</a>, <a href="https://www.getlago.com/">Lago</a>, <a href="https://www.togai.com/">Togai</a> or anyone else manage your billing when you start. 90% of the “Subscription and billing” section in the diagram above can be handled by any of these.</p>



<p>Let <a href="https://www.stigg.io/">Stigg</a> handle your pricing pages, experiments, and <a href="https://arnon.dk/why-you-should-separate-your-billing-from-entitlement/">entitlements</a>.</p>



<p>Let your ERP handle your RevRec/Accounting (or use what’s built in with something else). </p>



<p><strong>You should only focus on updating the usage / basic customer lifecycle events, the things that are unique to your product.</strong></p>



<hr>



<p>More in my series on Billing:</p>



<p><a href="https://arnon.dk/design-your-pricing-and-tools-so-you-can-adapt-it-later/">Design your pricing and tools so you can adapt them later</a></p>



<p><a href="https://arnon.dk/how-we-built-a-cashback-system-with-stripe/">How we built a Cashback system with Stripe</a></p>



<p><a href="https://arnon.dk/youre-pricing-your-saas-wrong-but-thats-probably-ok/">You’re pricing your SaaS wrong but that’s probably OK</a></p>



<p><a href="https://arnon.dk/why-you-should-separate-your-billing-from-entitlement/">You should separate your billing from entitlements</a></p>



<p><a href="https://arnon.dk/5-things-i-learned-developing-billing-system/">5 things I learned while developing a billing system</a></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Let's compile like it's 1992 (2014) (160 pts)]]></title>
            <link>https://fabiensanglard.net/Compile_Like_Its_1992/index.php</link>
            <guid>39509983</guid>
            <pubDate>Mon, 26 Feb 2024 11:18:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://fabiensanglard.net/Compile_Like_Its_1992/index.php">https://fabiensanglard.net/Compile_Like_Its_1992/index.php</a>, See on <a href="https://news.ycombinator.com/item?id=39509983">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="content" role="main">



		


<p>
       August 10th, 2014</p>
   
   <p id="paperbox">
	   	
          <a href="https://fabiensanglard.net/Compile_Like_Its_1992/index.php">
          <img src="https://fabiensanglard.net/Compile_Like_Its_1992/cli1992-1.png">   
          </a> 
         
        <!-- Add fancyBox -->
  
  

    
 </p><p>
I have been tinkering with the vanilla source code of Wolfenstein 3D from 1992. Even though it
is more than 20 years old and has rotten for modern systems, you can still compile it if you recreate the environment.
All you need is :<br>
 </p><ul>
     <li>Wolfenstein 3D source code.</li>
     <li>DosBox.</li>
     <li>The Compiler Borland C++ 3.1.</li>
     <li>Wolfenstein 3D shareware (for the assets).</li>
 </ul>
 
  
 <br>

<br>
<h3>Setup filesystem</h3>
<p>
  Open a command line and create two folders, one for each DOS drive needed:
</p><pre>  
   cd ~
   mkdir system
   cd system
   mkdir c
   mkdir a
   cd ~


 </pre>

<br>
<h3>Download</h3>
 <ul>
  <li>Download Borland 3.1 to <code>system/a</code>.<br>
  </li><li>Download Wolfenstein 3D source code to <code>system/c</code><br>
  </li><li>Download VGA files to <code>system/c</code> (the purpose of those is explained at the bottom of this page.<br>
  </li></ul>
  <pre>

    cd system/a
    curl -O http://fabiensanglard.net/Compile_Like_Its_1992/tools/BCPP31.zip
    

    cd ../c
    curl -O http://fabiensanglard.net/Compile_Like_Its_1992/tools/wolfsrc.zip
    curl -O http://fabiensanglard.net/Compile_Like_Its_1992/tools/vgafiles.zip


  </pre>

<div>
<p>
  Now we have all the files in the filesytem. Just to check, type: </p></div><pre>
   cd ..
   find ~/system


  </pre>
  <br>
  <div><p>
    You should have the following :</p></div><pre>

    /Users/fabiensanglard/system
    /Users/fabiensanglard/system/a
    /Users/fabiensanglard/system/a/BCPP31.zip
    /Users/fabiensanglard/system/c
    /Users/fabiensanglard/system/c/vgafiles.zip
    /Users/fabiensanglard/system/c/wolfsrc.zip


  </pre>

<br>
<h3>Decompress everything</h3>
 <pre>
    cd ~/system/a
    unzip BCPP31.zip

    cd ~/system/c
    unzip vgafiles.zip
    unzip wolfsrc.zip


</pre>


<br>
<h3>DosBox</h3>
 <p>
  Download and start <a href="http://www.dosbox.com/">DosBox</a>:
  <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/dosbox_splash.png">
  <br>
</p>

<br>
<h3>Mount</h3>
  <p>
    Mount the filesystem, one folder for each drive :
  </p><pre>

   Z:/&gt; mount c ~/system/c 
   Z:/&gt; mount a ~/system/a

  </pre>



<br>
<h3>Install the compiler</h3>
  <p>
  Now is time to install Borland C++ 3.1 :
  </p><pre>
    Z:\&gt; a:
    A:\&gt; cd BCPP31
    A:\&gt; install

 </pre>
 <p>
 <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/borland_install.png">
 <br>
  Press enter when you select the source drive ( it should already be A drive )<br>
  <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/borland_choose_drive.png">
  </p><div><p>
  Leave all the default settings and select "Start Installation":<br>
 <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/borland_choose_dir.png">
  The warnings will tell you that Microsoft windows folder could not be found  but it is not needed anyway, 
  just press Enter.<br>
  <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/borland_warning_one.png"><br>
  <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/borland_inst_process.png"><br>
  <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/borland_warning_two.png"></p></div>

<br>
<h3>Install Wolfenstein 3D source code</h3>
  <div><p>
  We have a system running and a compiler on it: Time to decompress (again) the source code.</p></div><pre>
  A:\&gt; c:
  C:\&gt; cd\
  C:\&gt; install

</pre>
<div>
 
  
<p><img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/wolf_src_drive_selection.png"><br>
  Type 'C'<br>
  
<img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/wolf_src_directory_selection.png"><br>
 Keep the default path: <code>\WOLFSRC</code><br>

 <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/wolf_src_not_folder.png"><br>
 Y to create the directory.</p><p>

Installing !
 <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/wolf_src_install.png"></p></div><h3>Compiling</h3>
  <p>
  Start Borland C++ 3.1:
  </p><pre>
     
     C:\&gt; cd\
     C:\&gt; cd borlandc
     C:\&gt; cd bin
     C:\&gt; bc.exe

  </pre>
  <p>
    <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/compile_0.png"><br>
    After pressing OK, use the mouse or the shortcuts to Project -&gt; Open Project  <code>..\..\WOLFSRC\WOLF3D.PRJ</code>:
    <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/compile_1.png"><br>
</p><p>
    Select Options -&gt; Directories and change the value as follow :
    </p><pre>
    Include Directories: C:\BORLANDC\INCLUDE

    Library Directories: C:\BORLANDC\LIB

    Ouptput Directories: OBJ

    Source Directories:  C:\WOLFSRC

    </pre>
    
    <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/compile_2.png"><br>



Let's try to compile: Compile -&gt; Build All
    
    <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/compile_3.png"><br>

    We get an error: "Cannot find executable TASM"
    <img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/compile_4.png"><br>

    Exit Borland C++, we need to set the PATH:

      <pre>
     
     C:\&gt; CD ..
     C:\&gt; PATH=C:\BORLANDC\BIN
     C:\&gt; BC.EXE

  </pre>
  

<br>
<h3>Getting the assets</h3>
<p>
Download the shareware version or even better: Purchase as full version on Wolfenstein 3D.<br>
</p><pre>
    cd ~/system/c
    curl -O http://fabiensanglard.net/Compile_Like_Its_1992/tools/1wolf14.zip
    unzip 1wolf14.zip

</pre>
<p>
  Go back to DosBox and install the game to <code>C:\WOLF3D</code>.
  </p><pre>
  C:\&gt; c:
  C:\&gt; cd \
  C:\&gt; cd 1wolf14
  C:\1WOLF14&gt; install

  </pre>
  <p>
    After installation of the game, copy the .EXE we just compiled to the game folder, 
  </p><pre>

    C:\&gt; c:
    C:\&gt; cd wolf3d
    C:\WOLF3D&gt; copy WOLF3D.EXE WOLF3D.OLD
    C:\WOLF3D&gt; copy ../WOLRSRC/WOLF.EXE .

  </pre>

<br>
<h3>Running the game</h3>
<p>
Try to run it:
</p><pre>

    C:\&gt; cd wolf3d
    C:\WOLF3D&gt; copy WOLF3D.EXE WOLF3D.OLD
    C:\WOLF3D&gt; copy ../WOLRSRC/OBJ/WOLF3D.EXE .
    C:\WOLF3D&gt; WOLF3D.EXE


  </pre>
  <p>
  <br>

  Hm, that looks weird.....
  <br>
<img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/run_wolf.png"><br>
Uh...
<img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/run_wolf2.png"><br>
What ?
<img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/run_wolf3.png"><br>
I did not remember it like that....
<img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/run_wolf4.png"><br>
Ok something must be very wrong here !!<br>
</p>

<br>
<h3>What happened ?</h3>
<p>
It has to do with the production access pipeline and how they are used by the engine. 
When Adrian Carmack and Kevin Cloud were done crafting all the graphic files, they used a tool (IGRABed) to pack them together.
The output was made of 3+2 files.
</p><ul>
   <li>VGAHEAD.WL1</li>
   <li>VGAGRAPH.WL1</li>
   <li>VGADICT.WL1</li>
 </ul>
 <div><p>
  The VGAHEAD file is an index containing pointers to the VGAGRAPH where the data is stored huffman compressed. VGADICT
  contains the huffman dictionaries to decompress the data.</p><p>

The two other files produced:
  </p></div><ul>
    <li>GRE.H</li>
    <li>GRE.EQU</li>
  </ul>
  <div><p>
    Are compiled into engine as seen in the following drawing :</p><!--<img src="images/drawing_plain.svg" width="700px" height="469px" style="display:block;margin-left:auto;margin-right:auto;"/><br/>
  -->
  <p><img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/drawing_plain.png" width="700px" height="469px"><br>


    What are the <code>.H</code> and <code>.EQU</code> files needed for? In short, to allow access by name. When IGRABed assembled all files
    it would also create an enum with matching indices:</p><p>
    
    <b>GRE.H</b></p></div><pre>
            enum{ 
            H_WOLFLOGOPIC
            GETPSYCHEDPIC
            L_GUYPIC
            .
            .
            } graphicnums

    </pre>
    <p>
    <b>GRE.EQU</b>
 </p><pre>
            
            H_WOLFLOGOPIC  = 0
            GETPSYCHEDPIC  = 1
            L_GUYPIC       = 2

    </pre>
    <div><p>
      This way when the engine requested a particular asset, it could use a logical name (L_GUYPIC) instead of a "magic number" (2).</p><p>
      
      That means the engine shipped with the indices of the images in the VGA files HARD-CODED. Since the assets and
      codebase evolved after shipping wolf3D shareware (with Spears of Destiny), the newly compiled game indices do not
      match the location in the original assets files.

</p></div>
<br>
<h3>Running the game (again)</h3>
<div><p>

  Fortunately there is a simple solution to this problem: Somebody regenerated the VGA assets so they match the indices in the .H and .EQU
  released with the source code. Just copy those files (if you use the shareware assets you will have to change the file extension from .WL6 to .WL1).</p></div><pre>
  C:\&gt; copy C:\vgafiles\VGADICT.WL6 C:\WOLF3D\VGADICT.WL1
  C:\&gt; copy C:\vgafiles\VGAGRAPH.WL6 C:\WOLF3D\VGAGRAPH.WL1
  C:\&gt; copy C:\vgafiles\VGAHEAD.WL6 C:\WOLF3D\VGAHEAD.WL1

</pre>
<p>
    Let's try again:<br>
</p><pre>

  C:\WOLF3D&gt; WOLF3D.EXE
  

</pre>
<div>
  <p>
It works !!

<img src="https://fabiensanglard.net/Compile_Like_Its_1992/images/compressed.png"></p><p>

Yet we are are not done !

</p></div><h3>VGA framebuffer and screen aspect ratio</h3>
<p>
  It may not be obvious to people that never saw the original game but the DosBox image above is not what people saw in 1992.
  The VGA framebuffer was 320x200 but the CRT monitors had an aspect ratio of 4:3. Which mean the framebuffer was stretched vertically
  when sent to the monitor. DosBox has an option to compensate for that :
 <br>
</p><pre>
     vi ~/Library/Preferences/DOSBox\ 0.74\ Preferences
  
    [render]
    # frameskip: How many frames DOSBox skips before drawing one.
    # aspect: Do aspect correction, if your output method doesn't support scaling this can slow things down!.
    # scaler: Scaler used to enlarge/enhance low resolution modes.
      # If 'forced' is appended, then the scaler will be used even if the result might not be desired.
      # Possible values: none, normal2x, normal3x, advmame2x, advmame3x, advinterp2x, advinterp3x, ...

    frameskip=0
    aspect=<b>false</b>
    scaler=normal2x


</pre>
<p>
  Change that aspect to <b>true</b>:
<br>
Try again :<br>

</p><pre>

  C:\WOLF3D&gt; WOLF3D.EXE
  

</pre>




<br>
<h3>Recommended Readings</h3>
<p>
  <a href="https://fabiensanglard.net/Game_Engine_Black_Book/index.php">
  <img src="https://fabiensanglard.net/Compile_Like_Its_1992/gebb_book.png">
</a>
</p>


<!-- <h2>Comments</h2>
<p> -->


     <!-- <div id="disqus_thread"></div> -->
    <!-- <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'fabiensanglardswebsite'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || 
                document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> -->
    <!--<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> -->
<!--     




</p> -->

 
<p>@</p>

		</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Firsty.app – free 300kbit/s eSIM for US/EU (199 pts)]]></title>
            <link>https://www.firsty.app/</link>
            <guid>39509645</guid>
            <pubDate>Mon, 26 Feb 2024 10:33:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.firsty.app/">https://www.firsty.app/</a>, See on <a href="https://news.ycombinator.com/item?id=39509645">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div id="w-node-f482a30e-c83a-8d3e-a4ad-cfee762610c6-762610c3" data-animation="default" data-collapse="medium" data-duration="400" data-easing="ease" data-easing2="ease" role="banner"><a href="https://www.firsty.app/" aria-current="page"><img loading="lazy" src="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/656a289c0f179aab8a4a3f89_firsty-wordmark.svg" alt="LOGO FIRSTY"></a></div><section><h2 data-w-id="7ab5f4f3-b6fe-b405-2421-40751dc9a267">GLOBAL mobile data <br>for TRAVELERS</h2><div><p data-w-id="f33f7880-9790-4435-68e9-50c61154d692">One planet, one connection. <br>No credit card needed.</p><a data-w-id="efa6e46f-2f67-d860-0f5f-11a8e43eb1f6" href="https://apps.apple.com/nl/app/firsty-always-connected/id6470926128?l=en-GB" target="_blank"><p>Get the app</p></a><div data-w-id="494fbbe6-bd4f-0608-be3f-f1ba0c0a7d03"><p><a href="https://play.google.com/store/games?hl=en&amp;gl=US" target="_blank"><img src="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/65d646d85ed0b6fa72272c44_icon-playstore.svg" loading="lazy" alt=""></a><a href="https://apps.apple.com/nl/app/firsty-always-connected/id6470926128?l=en-GB" target="_blank"><img src="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/65d645b5d35d3839545a8871_icon-appstore.svg" loading="lazy" alt=""></a></p></div></div></section><div data-w-id="692f1f07-94b1-1122-a426-a6881f8dd88f"><p>👋 Hi, we’re Firsty.</p><p>With the Firsty app, you’re automatically connected to almost every provider on the 🌍.</p><p>No need to switch (e)SIMs or buy expensive bundles.</p><p>If you ask us, mobile connectivity is a basic human 👉 right.</p><p>That’s why Firsty offers a basic global data connection for FREE 🥳</p></div><div><div><div><p><img src="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/65672299a46461a786168a5b_icon-1.png" loading="lazy" alt="logo"></p><div><h2>fair ‘n square</h2><p>Enjoy a basic connection for free allowing you to whatsapp, message and email globally. Speed it up for fair pricing.</p></div></div><div><p><img src="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/65672886e99be1b1c525e1ce_icon-2.png" loading="lazy" alt="fuss free"></p><div><h2>fuss-free</h2><p>Automatically connect to the best available network. Never switch a (e)SIM while traveling</p></div></div><div><p><img src="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/6567289d3202c6e50ad9b974_icon-3.png" loading="lazy" alt="first class"></p><div><h2><sup>first-class</sup></h2><p>Be flexible in your usage. Use data whenever you like and where you like without the risk of high costs or expiring data by choosing a custom plan.</p></div></div></div><div><p data-w-id="e14da410-9160-e6cf-3f1a-5f8ac5db8617"><h2><strong>Why does <br> mobile data &nbsp;have to be so&nbsp;Complex?</strong></h2></p><div data-w-id="63307b6d-8d4a-7185-d167-6a9738215fbf"><p>It’s like the turbulence starts the moment you touch down. Unnecessarily, travelers encounter unexpectedly high roaming bills or alternatively endure a time-consuming search for local (e)SIMs.</p><p>At Firsty, we make data roaming fair and square for everyone. We automatically connect you to every provider on the planet. Resulting in one connection for the globe. As simple as that. No need to switch SIMs or buy expensive bundles. If you ask us, mobile connectivity is a basic human right.<br> That’s why Firsty offers a basic global data connection for free. About bloody time, right?</p></div></div></div><div><h2>we offer two products</h2><p>There’s no need for more.</p><div><div><p><img src="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/656a2685ba5218900226833f_graphic-free.png" loading="lazy" alt="SOCIAL MEDIA"></p></div><div><p><img src="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/658c510491a9e3f9f0b0ce9d_fast-label%20(1).png" loading="lazy" alt="fast"></p><h2>firsty FAST</h2><p>Starting at €1,95/day</p></div></div></div><div data-w-id="3c9dc561-732a-256d-3d09-ffe228ea7452"><div><p><img src="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/656a00f9986bdb4eb11188a2_image-promo.png" loading="lazy" data-w-id="4b7dec75-fc5c-8c38-1e36-96e15f265906" sizes="100vw" alt="mobile data app" srcset="https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/656a00f9986bdb4eb11188a2_image-promo-p-500.png 500w, https://assets-global.website-files.com/6547e7311b2b1b6d86a38adf/656a00f9986bdb4eb11188a2_image-promo.png 701w"></p></div><div><h2>GET IT NOW</h2><p>For iOS and Android</p></div></div><div><div><div><h2 data-w-id="eb1c95a6-e65e-9813-ffa1-ecefc2200a29">question and answers</h2><p data-w-id="6b661d08-2dcb-3cd3-bcf2-80694792802b">As we develop our app you might encounter things you’re not sure of. We’re here to help. One of our team members will guide you.</p><p><a data-w-id="4a4c7892-841b-d595-12cc-6720a8b18b50" href="mailto:support@firsty.app">Get Support</a></p></div><div><div id="Support" data-w-id="c26ab83d-4545-7bee-a139-419874b987b6"><div id="q1"><h4>How does Firsty Free work?</h4><p>keyboard_arrow_down</p></div><p>Firsty is a mobile app that provides seamless global connectivity for travelers. Firsty offers two products: Firsty Free and Firsty Fast. With Firsty Free, you enjoy a basic speed that allows you to email or message, completely free. It’s your go-to solution for staying in touch without spending a dime. Ready for more? Upgrade to Firsty Fast for lightning-speed data, perfect for streaming and video calls.</p></div><div data-w-id="c26ab83d-4545-7bee-a139-419874b987c0"><div id="q2"><h4>In which countries is Firsty available now?</h4><p>keyboard_arrow_down</p></div><p>Firsty's connectivity services are currently available in Europe, the USA, Turkey and Switzerland. We are actively working to expand our coverage and aim to offer global connectivity as of March 25th, 2024. Stay tuned for updates on our expanding network!</p></div><div data-w-id="c26ab83d-4545-7bee-a139-419874b987ca"><div id="q3"><h4>What is a Firsty SIM?</h4><p>keyboard_arrow_down</p></div><p>An eSIM, or embedded SIM, is a digital SIM card integrated directly into your device, such as a smartphone or tablet. Unlike traditional removable SIM cards, eSIMs are built into devices during manufacturing and cannot be physically removed or replaced by users. Firsty utilizes this eSIM technology to ensure continuous connectivity by remotely connecting you to local providers in the countries you visit, eliminating the need for manual SIM card swaps.</p></div><div data-w-id="c26ab83d-4545-7bee-a139-419874b987d4"><div id="q4"><h4>What is Firsty Fast?<br></h4><p>keyboard_arrow_down</p></div><p>Firsty Fast is the premium, paid version of our application. By upgrading from Free to Fast, you gain instant access to high-speed internet in supported countries (currently USA &amp; Europe). Leveraging partnerships with telecom providers globally, Firsty ensures access to the fastest available networks.</p></div><div data-w-id="c26ab83d-4545-7bee-a139-419874b987de"><div id="q5"><h4>Will I receive a phone number with my Firsty SIM?<br></h4><p>keyboard_arrow_down</p></div><p>Currently, Firsty is a mobile data-only solution , which means that phone numbers are not in our offering. However, thanks to eSIM technology, it’s possible to keep using your primary SIM card for calling and messaging in parallel with your Firsty SIM.</p></div></div></div><div><p>All your favourite apps keep going during your journey.</p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[An interactive guide to Fourier series (2022) (111 pts)]]></title>
            <link>https://injuly.in/blog/fourier-series/index.html</link>
            <guid>39509414</guid>
            <pubDate>Mon, 26 Feb 2024 09:59:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://injuly.in/blog/fourier-series/index.html">https://injuly.in/blog/fourier-series/index.html</a>, See on <a href="https://news.ycombinator.com/item?id=39509414">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      

      <hr>

      
      <p>Try drawing something on the first canvas,
and watch two sets of mechanical alien arms retrace your sketch
(no touch screen support yet):</p>

<p>Once you're done with this introduction to Fourier analysis, you'll be capable of making this (and a lot more) yourself.</p>
<p>The satisfying animation is made possible by the subject of this post - an infinite sum called <a href="https://en.wikipedia.org/wiki/Fourier_series">the Fourier series</a>.
The formula is short, and with some effort, you can memorize it.
However, I implore you to understand where the series comes from, and build deeper intuition for it.</p>
<p>To keep you from clicking off this page,
I'll defer the proof and origin of this equation to the second half,
and thread some interactive animations through the body of this write-up.</p>
<p>Before we get to tracing sketches however, let's brush up some basic math.</p>
<h2 id="adding-functions">Adding functions</h2>
<p>Surely, you're familiar with the addition of numbers, vectors and matrices.
Adding functions is not so different.
The addition of two functions \(f\) and \(g\) at input \(x\) is simply \(f(x) + g(x)\).</p>
<p>Put more formally - \((f + g)(x) = f(x) + g(x)\).</p>
<p>Let's visualize this by taking an example.
Assume <code>f</code> is \(2sin(x)\) and <code>g</code> is \(cos(2x)\).</p>
<p>Their sum then, can be given by a function: \(h(x) = 2sin(x) + cos(2x)\).</p>
<p>The graph below plots \(f\) and \(g\) in shades of gray, and their sum, \(h\), in red.</p>

<p>Note how in some places, the values of \(f\) and \(g\) are both positive, and their sum is therefore a larger positive number,
while in other places, \(f\) and \(g\) have opposite signs and their values cancel out to a smaller number.</p>
<p>Through the lens of physics, you could look at the two functions as electromagnetic waves, or visible light rays oscillating in the domain of time.
When two such waves overlap with each other in space, they're said to be in <a href="https://www.britannica.com/science/principle-of-superposition-wave-motion">superposition</a>.
The superposition of two waves results in their sum.</p>
<p>When two points in a wave supplement each other to result in a higher amplitude (the y-value),
their interaction is termed "constructive interference".
When they cancel each other out, it's called "destructive interference".</p>
<p>Go through the last two paragraphs again, and try to digest this idea.
Now, imagine if we had to work our way backwards.
Say we are given a list containing the (x, y) coordinates of all points along the curve of \(h\),
where \(x\) is time and \(y\) is the corresponding output of \(h\) at that point in time.
We have to come up with two simpler periodic functions that sum up to \(h\).</p>
<p>This is exactly what the Fourier series does.</p>
<p>There are several ways to interpret interference in the real world.
If \(f\) and \(g\) were sound waves, their constructive interference would make loud noise, while the destructive interference would produce a quieter sound.
If they were light waves instead, their constructive interference would reveal bright spots on a reflective surface,
and destructive would look like dim patches.</p>
<p>Applications of the Fourier series spill into almost every domain -
signal processing, image compression, shape recognition,
analog transmission, noise cancellation, studying thermodynamic systems
and fitting equations to datasets.</p>
<p>From this wide array of applications, we show our interest in the science of tracing ugly sketches.</p>
<h2 id="decomposing-periodic-functions">Decomposing periodic functions.</h2>
<p>Imagine you had a machine that could scan any food item and display its recipe.
Fourier series does exactly that, except for mathematical functions.</p>
<p>The Fourier series of any periodic function \(f(x)\) with a frequency of \(\omega_0\) is described as:</p>
<p>
   $$
   f(x) = a_0/2 + \sum_{n=1}^{\infty}b_n sin(n\omega_0x) + \sum_{n=1}^{\infty}a_n cos(n\omega_0x)
   $$
</p>
<p>Meaning that for every periodic function \(f\),
there exists a set of coefficients \(a\) and \(b\),
such that \(f(x)\) can be expressed as an infinite sum of sine and cosine terms of increasing frequencies where the
\(nth\) sine term has a coefficient of \(b_n\) and the \(nth\) cosine term has a coefficient of \(a_n\).
The values of these coefficients are given by the following formulae:</p>
<p>$$
a_n = \int_0^T{f(x)cos(nw_0x)}
$$</p>
<p>$$
b_n = \int_0^T{f(x)sin(nw_0x)}
$$</p>
<p>The interval of integration, \(T\), is the fundamental period of the function.
\(T\) and \(\omega_0\) are related by this equation:</p>
<p>$$
\omega_0 = 2\pi/T
$$</p>
<p>If that was too wordy and made little sense to you, that's okay.
We'll prove this equation later in the post.
Until then, an example will help understand this better.</p>
<p>Consider the square wave - a periodic signal that alternates between 1 and -1 depending on its input.
Formally, it is described like so:</p>
<p>$$
f(t) = 4 \lfloor{t}\rfloor - 2\lfloor2t\rfloor + 1
$$</p>
<p>Here's how it looks when graphed out:</p>

<p>If we use the first few terms from \(f\)'s Fourier series, we can closely approximate the behavior of this function.
In the following graph, the gray curve represents the the square wave and the red curve represents our approximation of it.
You can play with the slider to alter the number of terms we take from the series and see how that changes our approximation.</p>

<p>Clearly, our approximation improves as we take more terms from the series.
The Fourier series can be proven to <a href="https://en.wikipedia.org/wiki/Convergent_series">converge</a>.
This means that if we take an infinite number of terms from the series, we can get the <em>exact</em> value of \(f(x)\) for any \(x\).</p>
<p>Of course, it is not possible to add up infinite terms in computers.
Instead, we decide upon a fixed number of terms that approximate our function well enough for most practical purposes.</p>
<p>Whenever I say "Fourier series of a function", I mean a series of simple periodic functions that can be added at any given input to approximate the output of the original function at the same input.
For the remainder of this post our goal with Fourier series is to <strong>approximate periodic functions with sums of simpler sine/cosine functions</strong>.</p>
<h2 id="drawing-with-the-fourier-series">Drawing with the Fourier series</h2>
<p>If you wish to understand how the Fourier series works before seeing it in action,
you can skip this section and read ahead to <a href="#proof">the proof</a>, then come back here.</p>
<p>So, How do we go from decomposing time domain functions to recreating sketches?</p>
<p>Imagine you're drawing a sketch on a square sheet of paper.
You are to draw your sketch, start to finish, without lifting the nib of your pen from the paper's surface.
In other words, your sketch must be <em>continuous</em> with no "breaks" in between.</p>
<p>Assume also that the bottom-left corner of the sheet is its origin.
Once you start drawing, I can delineate the position of the pen's tip using a pair of coordinates \((x, y)\) at any given point in time.</p>
<p>Much like a cartesian plane, the \(x\) coordinate represents the horizontal distance from the origin, and \(y\) the vertical.
Both the x and y coordinates change as the pen moves on the sheet's surface.
Meaning, the position of the x-coordinate of your pen's tip can be written as a function of time.
Say you draw this figure:</p>

<p>If we plot the x and y-coordinates independently as functions of time, they'll form curves that look like this:</p>

<p>The blue curve represents the values of x-coordinates of your sketch.
The vertical axis represents the x-value, and the horizontal axis represents time.
Similarly, the red curve plots the y-coordinates.</p>
<p>Both these curves can be viewed as functions of time.
The blue curve represents a function \(x(t)\) that returns the x-position of the pen's tip at time \(t\),
Similarly, the red curve is a function \(y(t)\) which the same for its y-position.
For each of these functions, we can find a Fourier series that approximates it.</p>
<p>Let \(f_x(t)\) and \(f_y(t)\) be the Fourier approximations for \(x(t)\) and \(y(t)\) respectively.
Then recreating the sketch requires computing the values returned by <code>f_t</code> and <code>y_t</code> over a range of values of t.
then pairing them into <code>(x, y)</code> coordinates and connecting the coordinates with lines.
Here is some pseudo-typescript code that mimics this logic:</p>
<p><code><div><pre><code><span id="1"><span>// The "dt" is our time step.</span></span>
<span id="2"><span>// In the real world, a line is an infinitely long series of points.</span></span>
<span id="3"><span>// In computers, we take a "snapshot" of the pen's position</span></span>
<span id="4"><span>// every dt seconds and join these positions with straight lines to</span></span>
<span id="5"><span>// trace the curve. Smaller values of dt require more computation,</span></span>
<span id="6"><span>// and yield better results.</span></span>
<span id="7"><span>const</span> dt <span>=</span> <span>0.01</span><span>;</span></span>
<span id="8"><span>const</span> f_x <span>=</span> <span>fourier_series</span>(x)<span>;</span> <span>// type of x is (t: number) =&gt; number</span></span>
<span id="9"><span>const</span> f_y <span>=</span> <span>fourier_series</span>(y)<span>;</span> <span>// type of y is (t: number) =&gt; number</span></span>
<span id="10"><span>let</span> prev_point <span>=</span> [<span>f_x</span>(<span>0</span>)<span>,</span> <span>f_y</span>(<span>0</span>)]<span>;</span></span>
<span id="11"><span>for</span> (<span>let</span> t <span>=</span> <span>0.01</span><span>;</span> t <span>&lt;</span> <span>1</span><span>;</span> t <span>+=</span> dt) {</span>
<span id="12">  <span>const</span> current_point <span>=</span> [<span>f_x</span>(t)<span>,</span> <span>f_y</span>(t)]<span>;</span></span>
<span id="13">  <span>draw_line</span>(prev_point<span>,</span> current_point)<span>;</span></span>
<span id="14">  prev_point <span>=</span> current_point<span>;</span></span>
<span id="15">}</span></code></pre></div></code></p><p>The approximation generated by this method is shown below.
Just as before, you can play with the slider to adjust the number of terms used in approximation of the sketch.</p>

<p>Keep in mind that <code>f_x</code> and <code>f_y</code> are really just sums of simpler sine/cosine functions, calculated using Fourier's formulae.</p>
<p>You may be wondering - the functions \(x(t)\) and \(y(t)\) aren't periodic, how come we can still decompose them into sine/cosine sums?
One trick is to set the period to infinity, and compute the series at this limit.</p>
<p>In my code, I just set the period to 1 time unit, and assume that the pen just retraces the drawing again and again.
Meaning that \(x(t + 1) = x(0)\).
This makes the math a lot easier, and certainly doesn't make a difference in the outcome.</p>
<p>To be more clear, when the sketch starts, the time is assumed to be 0, and when it ends, the time is assumed to be 1 second.
Every time point in between is scaled accordingly. This is not necessary of course, you could set the time period to however long it took to draw the first sketch, if that makes things simpler for you.</p>
<h2 id="epicycles">Epicycles</h2>
<p>The final caveat are the epicycles.
It is easy to just plot the values returned by \(f_x\) and \(f_y\) on the cartesian plane.
But how do we animate this using revolving circles?</p>
<p>If you've followed the contents of this article so far, you already know how to recreate sketches.
To animate them, you need to understand <a href="https://en.wikipedia.org/wiki/Polar_coordinate_system">The polar coordinate system</a>.</p>
<p>You can read the wikipedia article, or <a href="https://www.mathsisfun.com/polar-cartesian-coordinates.html">this article</a> to build some intuition for conversion between cartesian and polar coordinates.</p>
<p>In the polar coordinate system, a periodic function with period \(T\) is a vector that rotates around the origin, and completes one full rotation around itself every \(T\) time units.
Look at the graph of \(sin(t)\) in Polar form, for example:</p>

<p>Note how the y-coordinates of the vector's tip traces out a regular sine wave.
You can just as easily plot any periodic function in the polar coordinate system.
To add two periodic functions together, take one rotating vector and center it on the tip of the another rotating vector.
The end result is shown below.
The following animation shows 3 rotating vectors added together, each representing a periodic function:</p>

<p>To convert a sketch to an epicycle animation then, all we need is to convert a term in the Fourier series from cartesian to polar coordinates.
Once we have that, we can add up the terms like in the animation above, and figure out the x and y-coordinates using two sets of epicycles, each representing the Fourier approximation for \(x(t)\) or \(y(t)\).</p>
<p>To do this conversion, we can use the <a href="https://en.wikipedia.org/wiki/Fourier_series#Amplitude-phase_form">polar form of the Fourier series</a>.
Precisely, these are the steps you need to follow:</p>
<ol>
<li>Represent the sketch as a list of points drawn over a period of time.
</li>
<li>Convert the list of points into a two separate lists, one containing the x-coordinates of the sketch, and other the y.
</li>
<li>Convert each list into a function (I use <a href="https://github.com/srijan-paul/fourier-sketch/blob/eb2be0f646f3097c6725ab621461ba59bfba4b6b/src/math/util.ts#L58">this simple helper</a>).
Now, you have the \(x(t)\) and \(y(t)\).
</li>
<li>For each function, find its Fourier series coefficients. <a href="https://github.com/srijan-paul/fourier-sketch/blob/eb2be0f646f3097c6725ab621461ba59bfba4b6b/src/math/fourier.ts#L16">Here</a> is how I do it.
</li>
<li>For each function, <a href="https://github.com/srijan-paul/fourier-sketch/blob/eb2be0f646f3097c6725ab621461ba59bfba4b6b/src/math/util.ts#L93">convert the Fourier series coefficients into a set of polar functions</a>.
</li>
<li>Using a time step of <code>dt</code>, find the final x and y positions of our approximation, and <a href="https://github.com/srijan-paul/fourier-sketch/blob/eb2be0f646f3097c6725ab621461ba59bfba4b6b/src/components/RedrawCanvas.tsx#L21">draw them on a canvas</a>.
</li>
</ol>
<p>If you do everything correctly, you should get something like this:</p>

<p>There is a more novel approach to retracing sketches that involves using only one set of epicycles.
It uses <a href="https://en.wikipedia.org/wiki/Fourier_series#Complex-valued_functions">the complex Fourier Series</a>, and is also fewer lines of code.
When you're new to this concept however, it may throw you off balance, especially if you're not familiar with imaginary numbers and the Argand plane.</p>
<h2 id="proof">Proof</h2>
<p>When I set out to find an "intuitive" proof for the Fourier series,
all I saw were proofs that begin by stating the equation,
and then proving it by finding the coefficients \(a_n\) and \(b_n\) using integrals.
But where did the equation come from?</p>
<p>Did God whisper it to Joseph Fourier in his dreams?</p>
<p>Did he just happen to run into it by chance?</p>
<p>Surprisingly, the answer is "yes".
Of course, he had an unparalleled instinct for math that he whetted with years of practice and research.
There has to be a certain train of thought that he boarded to arrive at this revelation, that any periodic signal can be represented as a sum of simpler harmonics.
But that line of thinking was never publicized, and as you'll see in the next section, there have been people who've thought of this even before Fourier himself did!</p>
<p>The important part is that Fourier asked a question that was mocked as stupid and bizarre until he presented a proof.
And that proof does in fact begin by stating the following hypothesis:</p>
<p>$$
f_o(t) = \sum_{n = 0}^\infty{b_nsin(n\omega_0t)}
$$</p>
<p>Here, \(f_o\) is an odd function with a fundamental period of \(w_0\).
If we can derive a value for \(b_n\) from this equation, we can be convinced that <strong>any odd function can be represented as a sum of sinusoids</strong>.</p>
<p>Now, consider an even function \(f_e\) with a period of \(w_0\):</p>
<p>$$
f_e(t) = \sum_{n=0}^{\infty}a_n cos(n w_0 t)
$$</p>
<p>If we can derive a value for \(a_n\) from this equation, we can be convinced that <strong>any even function can be represented as a sum of co-sinusoids</strong>.</p>
<p>When you combine these two equations with the idea that <a href="https://en.wikipedia.org/wiki/Even_and_odd_functions#Even%E2%80%93odd_decomposition">any periodic function can be represented as a sum of odd and an even function</a>, you get:</p>
<p>$$
f_o(t) + f_e(t) = \sum_{n = 0}^\infty{b_nsin(n\omega_0t)} + \sum_{n=0}^{\infty}a_n cos(n w_0 t)
$$</p>
<p>We can turn the order of this proof, and first say that given any function \(f(t)\), we can find its odd and even parts using the odd-even decomposition rule.
Then, we can represent the odd part as a sum of sinusoids, and the even part as a sum of co-sinusoids.</p>
<p>Now, all that's left is to derive the values for \(a_n\) and \(b_n\) using the two equations stated above.
This is where I save myself the trouble of writing more LaTeX, and defer you to <a href="http://lpsa.swarthmore.edu/Fourier/Series/DerFS.html">this excellent proof</a> by professors from Swarthmore college.
I know I said I'd walk you through the proof, but I can't do a better job of it than the electronics professors at Swarthmore did already.
I'd hate to repeat their work and not give credit.
If you follow the page I linked, you'll realize that the proof only uses basic calculus and trigonometric identities taught in high school.</p>
<h2 id="origins">Origins</h2>
<p>You'll be surprised to learn that the idea behind the series predates Fourier himself.</p>
<p><a href="https://en.wikipedia.org/wiki/Carl_Friedrich_Gauss">Carl Friedrich Gauss</a>
was one of the many applied mathematicians who wanted to predict the position of Ceres in the night sky.
To attain this goal, he created several algorithms to aid his study of astronomy.
One of them was the <a href="https://en.wikipedia.org/wiki/Fast_Fourier_transform">Fast Fourier Transform</a> - a function that is very closely related with the Fourier Series.
However, he never published his work because he believed his method to be an unimportant detail in the overall process.</p>
<p>In the 1700s, Euler had found applications for decomposing periodic functions with Fourier Series.</p>
<p>Half a century before Fourier, <a href="https://en.wikipedia.org/wiki/Daniel_Bernoulli">Bernoulli</a> was studying the motion of a string.
He proposed the idea that periodic functions can be represented as sums of harmonics.
Nobody at the time believed this to be a general method, and his ideas were left unexplored.</p>
<p>Things changed in 1807, when a French math wizard named Joseph Fourier found himself studying the heat equation in a metal plate.
In his search for a solution, he sought to ask a seemingly absurd question:</p>
<p><em>Can we represent any periodic function as a sum of simple sine and cosine functions?</em></p>
<p>Precisely, he sought to represent any periodic function \(f(x)\) with a frequency of \(\omega_0\) , in the following form:</p>
<p>
   $$
   f(x) = (a_0 + a_1 cos(\omega_0 t) + a_2 cos(2\omega_0 t) + ... + a_n cos(n\omega_0t)) + (b_1 sin(\omega_0 t) + b_1 sin(2\omega_0 t) + ... + b_n sin(n\omega_0t)
   $$
</p>
<p>Revered mathematicians of the time, including Langrange and Laplace, rejected this idea as informal and hand-wavy.
The panel evaluating his findings said:</p>
<p><em>"The manner in which the author arrives at these equations is not exempt of difficulties and...his analysis to integrate them still leaves something to be desired on the score of generality and even rigour."</em>
Perhaps this was because of a lack of reasoning as to <em>why</em> one should even begin to think of periodic functions this way.</p>
<p>It's not unheard of mathematical ideas to sprout into existence out of seemingly ridiculous places.
Ramanujan attributed some of his major findings to God, and dipped at the age of 32.</p>
<p>After the Fourier Series was accepted by the scientific populace, it spawned a new field of research, called Fourier analysis.
Developments in this field found everyday use in almost every science.</p>
<h2 id="applications">Applications</h2>
<p>By this point, you know enough about Fourier analysis to delve deeper into it yourself.
It would be a shame to blunt the edge of theory by not applying it in practice.</p>
<p>Here a few things you could do:</p>
<ul>
<li>Implement noise reduction in sounds.
</li>
<li>Sharpen images with denoising.
</li>
<li>Write a <a href="https://en.wikipedia.org/wiki/JPEG">JPEG</a> encoder/decoder.
</li>
<li><a href="https://www.johndcook.com/blog/2011/06/21/how-to-fit-an-elephant/">Fit an elephant</a>
</li>
<li>Write basic shape recognizers.
</li>
</ul>
<h2 id="resources-and-further-reading">Resources and further reading</h2>
<ul>
<li>3b1b - <a href="https://www.youtube.com/watch?v=r6sGWTCMz2k">But what is a Fourier series?</a>.
</li>
<li>Swarthmore college - <a href="http://lpsa.swarthmore.edu/Fourier/Series/WhyFS.html">The fourier series</a>.
</li>
<li>Jez Swanson - <a href="https://www.jezzamon.com/fourier/index.html">An interactive introduction to the fourier transform</a>.
</li>
<li>Tony Rosler - <a href="https://www.myfourierepicycles.com/">myFourierEpicycles</a>
</li>
</ul>
<!-- mathjax -->


<!-- lodash -->

<!-- pts.js -->

<!-- script for this post -->



      
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Xkcd: Greenhouse Effect (235 pts)]]></title>
            <link>https://xkcd.com/2889/</link>
            <guid>39509379</guid>
            <pubDate>Mon, 26 Feb 2024 09:55:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://xkcd.com/2889/">https://xkcd.com/2889/</a>, See on <a href="https://news.ycombinator.com/item?id=39509379">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="bottom">
<p><img src="https://imgs.xkcd.com/s/a899e84.jpg" width="520" height="100" alt="Selected Comics" usemap="#comicmap"></p><map id="comicmap" name="comicmap">
<area shape="rect" coords="0,0,100,100" href="/150/" alt="Grownups">
<area shape="rect" coords="104,0,204,100" href="/730/" alt="Circuit Diagram">
<area shape="rect" coords="208,0,308,100" href="/162/" alt="Angular Momentum">
<area shape="rect" coords="312,0,412,100" href="/688/" alt="Self-Description">
<area shape="rect" coords="416,0,520,100" href="/556/" alt="Alternative Energy Revolution">
</map>

<p><a href="https://xkcd.com/1732/"><img src="https://imgs.xkcd.com/s/temperature.png" width="520" height="100" alt="Earth temperature timeline"></a></p>
<br>
<div id="comicLinks"><p>
Comics I enjoy:<br>
        <a href="http://threewordphrase.com/">Three Word Phrase</a>,
        <a href="https://www.smbc-comics.com/">SMBC</a>,
        <a href="https://www.qwantz.com/">Dinosaur Comics</a>,
        <a href="https://oglaf.com/">Oglaf</a> (nsfw),
        <a href="https://www.asofterworld.com/">A Softer World</a>,
        <a href="https://buttersafe.com/">Buttersafe</a>,
        <a href="https://pbfcomics.com/">Perry Bible Fellowship</a>,
        <a href="https://questionablecontent.net/">Questionable Content</a>,
        <a href="http://www.buttercupfestival.com/">Buttercup Festival</a>,
        <a href="https://www.homestuck.com/">Homestuck</a>,
	<a href="https://www.jspowerhour.com/">Junior Scientist Power Hour</a>
</p></div>
<br>

<br>
<center>
<p>xkcd.com is best viewed with Netscape Navigator 4.0 or below on a Pentium 3±1 emulated in Javascript on an Apple IIGS<br>at a screen resolution of 1024x1. Please enable your ad blockers, disable high-heat drying, and remove your device<br>from Airplane Mode and set it to Boat Mode. For security reasons, please leave caps lock on while browsing.</p>
</center>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[AI Infrastructure Landscape (149 pts)]]></title>
            <link>https://ai-infra.fun/</link>
            <guid>39508950</guid>
            <pubDate>Mon, 26 Feb 2024 08:50:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ai-infra.fun/">https://ai-infra.fun/</a>, See on <a href="https://news.ycombinator.com/item?id=39508950">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Home Screen Advantage (266 pts)]]></title>
            <link>https://infrequently.org/2024/02/home-screen-advantage/</link>
            <guid>39508257</guid>
            <pubDate>Mon, 26 Feb 2024 06:46:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://infrequently.org/2024/02/home-screen-advantage/">https://infrequently.org/2024/02/home-screen-advantage/</a>, See on <a href="https://news.ycombinator.com/item?id=39508257">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
      <!-- BLOCK_CONTENT -->

  
  <article>
    <header>
      <h2>
        <a href="https://infrequently.org/2024/02/home-screen-advantage/">Home Screen Advantage</a>
      </h2>
      <h3>Decoding Apple's Desperate Ploy To Scuttle PWAs</h3>
      
    </header>
    <p>After weeks of confusion and intentional chaos, Apple's plan to kneecap the web <a href="https://open-web-advocacy.org/blog/its-official-apple-kills-web-apps-in-the-eu/">has crept into view,</a> menacing a PWApocalypse as the March 6th compliance deadline approaches for the EU's Digital Markets Act (DMA).</p>
<figure>
<picture width="608" height="256">
  <source sizes="(max-width: 1200px) 70vw, 600px" srcset="https://infrequently.org/2024/02/home-screen-advantage/SW4-SE-YavinOrbit3.jpg?nf_resize=fit&amp;w=3600 2400w,
                  https://infrequently.org/2024/02/home-screen-advantage/SW4-SE-YavinOrbit3.jpg?nf_resize=fit&amp;w=2400 1600w,
                  https://infrequently.org/2024/02/home-screen-advantage/SW4-SE-YavinOrbit3.jpg?nf_resize=fit&amp;w=1800 1200w,
                  https://infrequently.org/2024/02/home-screen-advantage/SW4-SE-YavinOrbit3.jpg?nf_resize=fit&amp;w=1200   800w,
                  https://infrequently.org/2024/02/home-screen-advantage/SW4-SE-YavinOrbit3.jpg?nf_resize=fit&amp;w=900   600w,
                  https://infrequently.org/2024/02/home-screen-advantage/SW4-SE-YavinOrbit3.jpg?nf_resize=fit&amp;w=750   500w,
                  https://infrequently.org/2024/02/home-screen-advantage/SW4-SE-YavinOrbit3.jpg?nf_resize=fit&amp;w=600   400w">
<img src="https://infrequently.org/2024/02/home-screen-advantage/SW4-SE-YavinOrbit3.jpg" alt="The view from Cupertino." width="608" height="256" decoding="async">
</picture>

  <figcaption>The view from Cupertino.</figcaption>
</figure>
<p>The DMA requires Apple to open the iPhone to competing app stores, and and its lopsided proposal for "enabling" them is <a href="https://on.ft.com/3wsiYZd">getting most of the press.</a> But Apple knows it has native stores right where it wants them. Cupertino's <a href="https://www.theverge.com/2024/1/25/24050696/epic-games-tim-sweeney-apple-app-store-response">noxious requirements</a> will take years to litigate. Meanwhile, potential competitors are only that.</p>
<p>But Cupertino can't delay the DMA's other mandate: <a href="https://www.theverge.com/2024/1/25/24050478/apple-ios-17-4-browser-engines-eu">real browsers,</a> downloaded from Apple's own app store. Since it can't keep them from emerging, it's trying to raise costs on competitors and lower their potential to disrupt Apple's cozy monopoly. How? By geofencing browser choice and kneecapping web apps, all while gaslighting users about who is breaking their web apps.</p>
<p>The immediate impact of iOS 17.4 in the EU will be broken apps and lost data, affecting schools, governments, startups, gamers, and anyone else with the temerity to look outside the one true app store for even a second.</p>
<p>The data loss will be catastrophic for many, as will the removal of foundational features like <a href="https://web.dev/articles/storage-for-the-web">reliable data storage,</a> <a href="https://web.dev/learn/pwa/app-design">app-like UI,</a> settings integration, <a href="https://web.dev/explore/notifications">Push Notifications,</a> and <a href="https://developer.chrome.com/docs/capabilities/web-apis/badging-api">unread counts</a>. This will <em>just so happen</em> to render PWAs useless to worldwide businesses looking to reach EU users. A <em>regrettable</em> accident, to be sure.</p>
<p>Apple's interpretation of the DMA <em>appears</em> to be that features not available on March 6th don't need to be shared with competitors, and it doesn't want to share web apps. The solution almost writes itself: sabotage PWAs ahead of the deadline and give affected users, businesses, and competitors minimal time to react.</p>
<p>Cupertino's not just trying to vandalise PWAs and critical re-engagement features for Safari; it's working to prevent <em>any</em> browser from <em>ever</em> offering them on iOS. If Apple succeeds in the next two weeks, it will cement a future in which the mobile web will never be permitted to grow beyond marketing pages for native apps.</p>
<p>By hook or by crook, Apple's going to maintain its home screen advantage.</p>
<p>The business goal is obvious: force firms back into the app store Apple taxes and out of the only ecosystem it can't — <a href="https://www.theverge.com/2023/10/26/23933206/google-apple-search-deal-safari-18-billion">at least not directly.</a> Apple's <a href="https://developer.apple.com/support/dma-and-apps-in-the-eu#8">justifications range from unfalsifiable smokescreens to blatant lies,</a> but to know it you have to have a background in browser engineering and the <a href="https://eur-lex.auropa.eu/legal-content/EN/TXT/HTML/?uri=CELEX:32022R1925&amp;qid=1708824200885">DMA's legalese.</a> The rest of this post will provide that context. Apologies in advance for the length.</p>
<p>If you'd like to stop reading here, take with you the knowledge that Cupertino's attempt to scuttle PWAs under cover of chaos is exactly what it appears to be: a shocking attempt to keep the web from <em>ever</em> emerging as a true threat to the App Store and <a href="https://www.theregister.com/2024/02/16/apple_web_apps/">blame regulators for Apple's own malicious choices.</a></p>
<p>And they just might get away with it if we don't all <a href="https://open-web-advocacy.org/apple-attempts-killing-webapps/">get involved ASAP.</a></p>
<div><ul><li><a href="#chaos-monkey-business">Chaos Monkey Business </a></li><li><a href="#but-wait!-there's-more!">But Wait! There's More! </a><ul><li><a href="#what's-at-risk%3F">What's At Risk? </a></li><li><a href="#not-with-a-bang%2C-but-with-a-beta">Not With A Bang, But With A Beta </a></li></ul></li><li><a href="#lies%2C-damned-lies%2C-and-%22still%2C-we-regret...%22">Lies, Damned Lies, and "Still, we regret..." </a><ul><li><a href="#the-point">The Point </a></li></ul></li><li><a href="#the-mask-is-off">The Mask Is Off </a></li></ul></div>
<h2 id="chaos-monkey-business">Chaos Monkey Business <a href="#chaos-monkey-business">#</a></h2>
<p>Two weeks ago, Apple sprung its <a href="https://www.wired.com/story/developers-revolt-apple-dma/">EU Digital Markets Act (DMA) compliance plans on the world as a <em>fait accomplis</em>.</a></p>
<p>The last-minute unveil and months of radio silence were calculated to give competitors minimal time to react to the complex terms, conditions, and APIs. This tactic tries to set Apple's proposal as a negotiating baseline, forcing competitors to burn time and money arguing down plainly unacceptable terms before they can enter the market.</p>
<p>For native app store hopefuls, this means years of expensive disputes before they can begin to access an already geofenced market. This was all wrapped in <a href="https://www.apple.com/newsroom/2024/01/apple-announces-changes-to-ios-safari-and-the-app-store-in-the-european-union/#:~:text=the%20best%2C%20most%20secure%20experience%20possible%20for%20EU%20users.-,The%20new%20options%20for%20processing%20payments%20and%20downloading%20apps%20on%20iOS,the%20EU.%20Even%20with%20these%20safeguards%20in%20place%2C%20many%20risks%20remain.,-Developers%20can%20learn%20about%20these%20changes%20on%20the%20Apple">a peevish, belligerant presentation,</a> which the good folks over at <a href="https://theplatformlaw.blog/2024/01/26/when-apple-takes-the-european-commission-for-fools-an-initial-overview-of-apples-new-terms-and-conditions-for-ios-app-distribution-in-the-eu/">The Platform Law Blog have covered in depth.</a></p>
<p>Much of the analysis <a href="https://www.techmeme.com/240125/p30#a240125p30">has focused on the raw deal Apple is offering native app store competitors,</a> missing the forest for the trees: <a href="https://infrequently.org/2024/01/the-web-is-the-app-store/">the threat Apple can't delay by years comes from within.</a></p>
<p>Deep in the sub-basement of Apple's tower of tomfoolery are APIs and policies that purport to enable browser engine choice. If you haven't been working on browsers for 15 years, <a href="https://developer.apple.com/support/alternative-browser-engines/">the terms</a> might seem reasonable, but to these eyes they're <a href="https://techcrunch.com/2024/01/26/apple-dma-webkit/amp/">anything but.</a> OWA <a href="https://open-web-advocacy.org/blog/owa-review-apple-dma-compliance-for-web/">has a lengthy dissection of the tricks Apple's trying to pull.</a></p>
<figure>
<picture width="684" height="538">
  <source sizes="(max-width: 1200px) 70vw, 600px" srcset="https://infrequently.org/2024/02/home-screen-advantage/pray-i-do-not-comply-further.webp?nf_resize=fit&amp;w=3600 2400w,
                  https://infrequently.org/2024/02/home-screen-advantage/pray-i-do-not-comply-further.webp?nf_resize=fit&amp;w=2400 1600w,
                  https://infrequently.org/2024/02/home-screen-advantage/pray-i-do-not-comply-further.webp?nf_resize=fit&amp;w=1800 1200w,
                  https://infrequently.org/2024/02/home-screen-advantage/pray-i-do-not-comply-further.webp?nf_resize=fit&amp;w=1200   800w,
                  https://infrequently.org/2024/02/home-screen-advantage/pray-i-do-not-comply-further.webp?nf_resize=fit&amp;w=900   600w,
                  https://infrequently.org/2024/02/home-screen-advantage/pray-i-do-not-comply-further.webp?nf_resize=fit&amp;w=750   500w,
                  https://infrequently.org/2024/02/home-screen-advantage/pray-i-do-not-comply-further.webp?nf_resize=fit&amp;w=600   400w">
<img src="https://infrequently.org/2024/02/home-screen-advantage/pray-i-do-not-comply-further.webp" alt="Apple's message of hope and optimism for a better web." width="684" height="538" decoding="async" loading="lazy">
</picture>

  <figcaption>Apple's message of hope and optimism for a better web.</figcaption>
</figure>
<p>The proposals are maximally onerous, but you don't have to take my word for it; here's Mozilla:</p>
<blockquote>
<p>We are ... extremely disappointed with Apple’s proposed plan to restrict the newly-announced BrowserEngineKit to EU-specific apps. The effect of this would be to force an independent browser like Firefox to build and maintain two separate browser implementations — a burden Apple themselves will not have to bear.</p>
<p>Apple’s proposals fail to give consumers viable choices by making it as painful as possible for others to provide competitive alternatives to Safari.</p>
<p>This is another example of Apple creating barriers to prevent true browser competition on iOS.</p>
<p>— <a href="https://www.theverge.com/2024/1/26/24052067/mozilla-apple-ios-browser-rules-firefox">Mozilla spokesperson</a></p>
</blockquote>
<p>The obvious strategy is to raise costs and lower the value of porting browsers to iOS. Other browser vendors have cited exactly these concerns when asked about plans to bring their best products to iOS. Apple's play is to engineer an unusable alternative then cite the lack of adoption to <em>other</em> regulators as proof that mandating real engine choice is unwise.</p>
<p>Instead of facilitating worldwide browser choice in good faith, Apple's working to geofence progress; classic "divide and conquer" stuff, justified with <a href="https://www.theregister.com/2021/05/27/safari_webkit_bug/">serially falsified security excuses.</a> Odious, brazen, and likely in violation of the DMA, but to the extent that it will now turn into a legal dispute, that's a feature (not a bug) from Apple's perspective.</p>
<p>When you're the monopolist, delay is winning.</p>
<h2 id="but-wait!-there's-more!">But Wait! There's More! <a href="#but-wait!-there's-more!">#</a></h2>
<p>All of this would be stock <a href="https://infrequently.org/2024/02/home-screen-advantage/2022/06/apple-is-not-defending-browser-engine-choice/#apple's-long-standing-policies-are-anti-diversity">FruitCo doing anti-competitive FruitCo things,</a> but they went further, <a href="https://open-web-advocacy.org/blog/did-apple-just-break-web-apps-in-ios17.4-beta-eu/">attempting to silently shiv PWAs and blame regulators for it.</a> And they did it in the dead of the night, silently disabling important features as close to the DMA compliance deadline as possible.</p>
<p>It's challenging, verging on impossible, to read this as anything but <em>extrordinary</em> bad faith, but Apple's tactics require context to understand. The <a href="https://digital-markets-act.ec.europa.eu/about-dma_en#:~:text=The%20DMA%20entered%20into%20force,and%20provide%20all%20relevant%20information.">DMA came into force in 2022,</a> putting everyone (including Apple) on notice that their biggest platforms and products would probably be "designated", and after designation, they would have six months to "comply". The first set of designation decisions <a href="https://theplatformlaw.blog/2023/09/06/european-commission-adopts-first-dma-designation-decisions/">went out last Sept</a>, obligating Android, Windows, iOS, Chrome, and Safari to comply <em>no later</em> than March 6th, 2024.</p>
<figure>
<a href="https://digital-markets-act.ec.europa.eu/about-dma_en" alt="Apple tried everything to <a href='https://www.theregister.com/2023/11/02/apple_safari_browser/'>shrink the scope of enforcement</a> and <a href='https://www.theverge.com/2024/1/8/23961923/apple-app-store-appeal-european-union-digital-markets-act-core-platform-service-gatekeeper'>delay compliance,</a> but in the end had the same two-years of notice and six-months warning from designation as everyone else." target="_new">
<picture width="712" height="287">
  <source sizes="(max-width: 1200px) 70vw, 600px" srcset="https://infrequently.org/2024/02/home-screen-advantage/digital_markets_act_timeline_0.png?nf_resize=fit&amp;w=3600 2400w,
                  https://infrequently.org/2024/02/home-screen-advantage/digital_markets_act_timeline_0.png?nf_resize=fit&amp;w=2400 1600w,
                  https://infrequently.org/2024/02/home-screen-advantage/digital_markets_act_timeline_0.png?nf_resize=fit&amp;w=1800 1200w,
                  https://infrequently.org/2024/02/home-screen-advantage/digital_markets_act_timeline_0.png?nf_resize=fit&amp;w=1200   800w,
                  https://infrequently.org/2024/02/home-screen-advantage/digital_markets_act_timeline_0.png?nf_resize=fit&amp;w=900   600w,
                  https://infrequently.org/2024/02/home-screen-advantage/digital_markets_act_timeline_0.png?nf_resize=fit&amp;w=750   500w,
                  https://infrequently.org/2024/02/home-screen-advantage/digital_markets_act_timeline_0.png?nf_resize=fit&amp;w=600   400w">
<img src="https://infrequently.org/2024/02/home-screen-advantage/digital_markets_act_timeline_0.png" alt="Apple tried everything to <a href='https://www.theregister.com/2023/11/02/apple_safari_browser/'>shrink the scope of enforcement</a> and <a href='https://www.theverge.com/2024/1/8/23961923/apple-app-store-appeal-european-union-digital-markets-act-core-platform-service-gatekeeper'>delay compliance,</a> but in the end had the same two-years of notice and six-months warning from designation as everyone else." width="712" height="287" decoding="async" loading="lazy">
</picture>

</a>
  <figcaption>Apple tried everything to <a href="https://www.theregister.com/2023/11/02/apple_safari_browser/">shrink the scope of enforcement</a> and <a href="https://www.theverge.com/2024/1/8/23961923/apple-app-store-appeal-european-union-digital-markets-act-core-platform-service-gatekeeper">delay compliance,</a> but in the end had the same two-years of notice and six-months warning from designation as everyone else.</figcaption>
</figure>
<p>A maximally aggressive legal interpretation might try to exploit ambiguity in what it means to comply and when responsibilities <em>actually</em> attach.</p>
<p>Does compliance mean providing open and fair access starting from when iOS and Safari were <em>designated</em>, or does compliance obligation only attach six months later? The DMA's text is not ironclad here:</p>
<blockquote>
<p>10: The gatekeeper shall comply with the obligations laid down in Articles 5, 6 and 7 within 6 months after a core platform service has been listed in the designation decision pursuant to paragraph 9 of this Article.</p>
<p><a href="https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=CELEX:32022R1925&amp;qid=1708824200885#003.010">DMA Article 3, Clause 10</a></p>
</blockquote>
<p>Firms looking to comply maliciously <em>might</em> try to remove troublesome features <em>just</em> before a compliance deadline, then argue they don't need to share them with competitors becuse they weren't available before the deadline set in. Apple looks set to argue, contra everyone else subject to the DMA, that the moment from which features must be made interoperable is the end of the fair-warning period, not the date of designation.</p>
<p>This appears to be Apple's play, and it stinks to high heavens.</p>
<h3 id="what's-at-risk%3F">What's At Risk? <a href="#what's-at-risk%3F">#</a></h3>
<p>Apple's change isn't merely cosmetic. In addition to immediate data loss, FruitCo's change will destroy:</p>
<ul>
<li><strong>App-like UI:</strong><br>Web apps are no longer going to look or work like apps in the task manager, systems settings, or any other surface. Homescreen web apps will be demoted to tabs in the default browser.</li>
<li><strong>Reliable storage:</strong><br>PWAs were the only exemption to Apple's (frankly silly) <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage_API/Storage_quotas_and_eviction_criteria#proactive_eviction">seven day storage eviction policy,</a> meaning the last safe harbour for anyone trying to build a serious, offline-first experience just had the rug pulled out from under them.</li>
<li><strong>Push Notifications:</strong><br>Remember how Apple gaslit web developers over Web Push for the best part of a decade? And remember how, when they finally got around to it, <a href="https://webventures.rejh.nl/blog/2024/web-push-ios-one-year/">they did a comically inept job of it?</a> And recall all the fretting and worry about how shite your Push Notifications look and work for iOS users as a result? Well, rest easy, because they're going away and you won't have to worry your pretty little head any more.</li>
<li><strong>App Icon Badging:</strong><br>A kissing cousin of Push, Icon Badging allows PWAs to ambiently notify users of new messages, something iOS native apps have been able to do for nearly 15 years.</li>
</ul>
  <!-- - **Minimally-functional Fullscreen:**<br>Games, in particular, need to maximize phone real estate. Apple hasn't gone off its hobby of gaslighting webdevs. In addition to 8 years of Push Notification excuses, Safari's totally broken [Fullscreen API,](TODO) meant PWAs were the best (if not only) way to get a working UI surface for presenting a `<canvas>` that wouldn't be dismissed at the slightest misgesture. -->
<p>Removal of one would be a crisis. Together? Apple's engineering the PWApocalypse.</p>
<p>You can't build credible mobile experiences without these features. A social network without notifications? A notetaking app that randomly loses data? Businesses will get the message worldwide: if you want to be on the homescreen and deliver services that aren't foundationally compromised, the only game in town is Apple's app store.</p>
<p>Apple understands even the most aggressive legal theories about DMA timing wouldn't support kneecapping PWAs <em>after</em> March 6th. Even if you believe (as I do) their obligations attached back in September, there's at least an argument to be tested. Cupertino's white-shoe litigators would be laughed out of court and <a href="https://ec.europa.eu/commission/presscorner/detail/en/qanda_20_2349#:~:text=In%20case%20a,systemic%20non%2Dcompliance.">Apple would get fined ridiculous amounts</a> for non-compliance after trying to deny these features to other browsers after the end of the fair-warning period. To preserve the argument for litigation, it was necessary to do the dirty deed ahead of the last plausible deadline.</p>
<h3 id="not-with-a-bang%2C-but-with-a-beta">Not With A Bang, But With A Beta <a href="#not-with-a-bang%2C-but-with-a-beta">#</a></h3>
<p>The first indication something was amiss was a conspicuous lack of APIs for PWA support in the documentation for obviously long-baking <a href="https://developer.apple.com/documentation/browserenginekit"><code>BrowserEngineKit</code></a>, released on Feb 1st alongside Apple's <a href="https://www.apple.com/newsroom/2024/01/apple-announces-changes-to-ios-safari-and-the-app-store-in-the-european-union/">peevish, deeply misleading note</a> that attempted to whitewash malicious compliance in a thin coat of security theatre.</p>
<p>Two days later, after developers inside the EU got their hands on the iOS 17.4 Beta, <a href="https://mastodon.social/@mysk/111857830238574891">word started to leak out that PWAs were broken.</a> Nothing about the change was documented in iOS Beta or Safari release notes. Developers filed <a href="https://bugs.webkit.org/show_bug.cgi?id=268643">plaintive bugs</a> and some directly pinged Apple employees, but Cupertino remained shtum. This created panic and confustion as the window for DMA compliance and the inevitable iOS 17.4 final release closed.</p>

<!-- 
beta 1: https://mastodon.social/@mysk/111857830238574891
        https://www.youtube.com/watch?v=AST12aDGf0Q&feature=youtu.be
beta 2: https://mastodon.social/@mysk/111892461059533933
beta 3: https://mastodon.social/@mysk/111926735141742246 
-->
<p><a href="https://mastodon.social/@mysk/111926735141742246">Two more betas followed,</a> but no documentation or acknowledgement of the "bug." Changes to the broken PWA behavior were introduced, but Apple failed to acknowledge the issue or confirm that it was intentional (and therefore likely to persist). After two weeks of <a href="https://open-web-advocacy.org/blog/did-apple-just-break-web-apps-in-ios17.4-beta-eu/">growing panic from web developers</a>, <a href="https://open-web-advocacy.org/blog/its-official-apple-kills-web-apps-in-the-eu/">Apple finally copped to intentionally crippling the only open, tax-free competitor to the app store.</a></p>
<p>Apple's Feb 15th statement is a masterclass in deflection and deceit. To understand why requires a deep understanding of browsers internals and how Apple's closed PWA — sorry, <em>"home screen web app"</em> — system for iOS works.<!-- [^technical-depths-of-depravity] --></p>
<p><em>TL;DR</em>? Apple's cover story is horseshit, stem to stern. Cupertino oughta be ashamed and we web developers are excused for glowing with incandescent rage over being used as pawns; first ignored, then gaslit, and finally betrayed.</p>
<h2 id="lies%2C-damned-lies%2C-and-%22still%2C-we-regret...%22">Lies, Damned Lies, and <em>"Still, we regret..."</em> <a href="#lies%2C-damned-lies%2C-and-%22still%2C-we-regret...%22">#</a></h2>
<p>I really, really hate to do this, but <a href="https://en.wikipedia.org/wiki/Brandolini%27s_law">Brandolini's Law</a> dictates that to refute Apple's <a href="https://en.wikipedia.org/wiki/On_Bullshit">bullshit,</a> I'm going to need to go through <a href="https://developer.apple.com/support/dma-and-apps-in-the-eu#8">their gibberish excuses</a> line-by-line to explain and translate. This is going to hurt me more than it hurts you.</p>
<blockquote>
<p>Q: Why don’t users in the EU have access to Home Screen web apps?</p>
</blockquote>
<p>Translation: <em>"Why did you break functionality that has been a foundational part of iOS since 2007?"</em></p>
<blockquote>
<p>To comply with the Digital Markets Act, Apple has done an enormous amount of engineering work to add new functionality and capabilities for developers and users in the European Union — including more than 600 new APIs and a wide range of developer tools.</p>
</blockquote>
<p>Translation: <em>"We're so very tired, you see. All of this litigating to avoid compliance tuckered us right out. Plus, those big meanies at the EU made us do <em>work</em>. It's all very unfair."</em></p>
<p>It goes without saying, but Apple's burden to add APIs it should have long ago provided for competing native app stores has no bearing whatsoever on its obligation to provide fair access to APIs that browser competitors need. Apple also had the same two years warning as everyone else. It knew this was coming, and special pleading at the 11th hour has big <em>"the dog ate my homework"</em> energy.</p>
<blockquote>
<p>The iOS system has traditionally provided support for Home Screen web apps by building directly on WebKit and its security architecture. That integration means Home Screen web apps are managed to align with the security and privacy model for native apps on iOS, including isolation of storage and enforcement of system prompts to access privacy impacting capabilities on a per-site basis.</p>
</blockquote>
<p>Finally! A recitation of facts.</p>
<p>Yes, iOS <em>has</em> historically forced a pretty busted model on PWAs, but iOS is not unique in providing system settings integration for PWAs. Indeed, many OSes have created the sort of integration infrastructure that Apple describes. These systems leave the question of how PWAs are actually run (and where their storage lives) to the browser that installs them, and the sky has yet to fall. Apple is trying to gussy up their mere preferences as hard requirements without any reasonable justification.</p>
<p>Here we see the outline of a strawman; Apple is insinuating that it can't provide API surface areas to allow the sorts of integrations that others already have. Why? Because it might involve writing a lot of code.</p>
<p><a href="https://support.apple.com/guide/iphone/whats-new-in-ios-17-iphfed2c4091/ios">Bless their hearts.</a></p>
<blockquote>
<p>Without this type of isolation and enforcement, malicious web apps could read data from other web apps and recapture their permissions to gain access to a user’s camera, microphone or location without a user’s consent.</p>
</blockquote>
<!-- This is the bullshit motherlode. The lair of lies. The dungeon of disingenuousness...you get the idea. -->
<p>Keeping one website from abusing permissions or improperly accessing data from another website is what browsers <em>do</em>. It's a browser's one job.</p>
<p>Correctly separating princpals is the very defintion of a "secure" browser. Every single browser vendor (<a href="https://mspoweruser.com/after-ignoring-it-for-6-weeks-apple-starts-testing-fix-for-major-apple-safari-privacy-bug-that-leaks-your-google-id/">save Apple</a>) treats subversion of the <a href="https://en.wikipedia.org/wiki/Same-origin_policy">Same Origin Policy</a> as a showstopping bug to be fixed ASAP. Unbelieveable amounts of engineering go to ensuring browsers overlay stronger sandboxing and more restrictive permissions on top of the universally weaker OS security primitives — iOS very much included.</p>
<p>Browser makers have become masters of origin separation because they run totally untrusted code from all over the internet. Security is paramount because browsers have to be paranoid. They can't just <a href="https://www.darkreading.com/cyberattacks-data-breaches/malicious-apps-millions-downloads-apple-google-app-stores">posture about how store reviews</a> will keep users safe; they have to <em>do the work</em>.</p>
<p>Good browsers separate web apps better than bad ones, which makes it particularly rich that Apple of all vendors is directly misleading this way. Apple's decade+ of under-investment in Safari ensured it was much less prepared for <a href="https://meltdownattack.com/">Spectre and Meltdown</a> and <a href="https://9to5mac.com/2021/07/14/zero-day-exploit-allowed-solarwinds-hackers-to-extract-login-information-from-ios-devices/">Solar Winds</a> that alternaties on other OSes. Competing engines had invested hundreds of engineer years into more advanced <a href="https://www.chromium.org/Home/chromium-security/site-isolation/">Site Isolation</a> technology than Apple had, and the iOS browser engine monoculture has put users at risk over and over again as a result.</p>
<p>With that as background, we can start to unpack Apple's garbled claim. What Cupertino is alluding to here is that it <em>does not want</em> to create APIs for syncing permission state that would enable the thin shim apps every PWA-supporting OS uses to make website "first class" in the OS — including iOS today. Further, it doesn't want to add APIs for attributing storage use, or clearing state, or other common management tasks.</p>
<p>If those APIs existed, Apple would still have a management question, which it's misdirections also allude to. But these aren't a problem in practice either. Every browser that would offer PWA support would <em>happily</em> sign up to security terms that required accurate synchronization of permission state between OS surfaces and web origins, in exactly the same way they'd dutifully treat cross-origin subversion as a fatal bug to be hot-fixed.</p>
<p>Apple's excusemaking is a mirror of Cupertino's years of scaremongering about alternate browser engine security, only to <a href="https://infrequently.org/2021/08/webkit-ios-deep-dive/#the-abandonware-problem">take up my proposal more-or-less wholesale when the rubber hit the road.</a> Nothing about this is monumental to build or challenging to manage; FruitCo's just hoping you don't know better. And why would you? The set of people who understand these details generously number in the low dozens.</p>
<blockquote>
<p>Browsers also could install web apps on the system without a user’s awareness and consent.</p>
</blockquote>
<p>Apple know this is a lie. They retain full control over the system APIs that are called to add icons to the homescreen, install apps, and much else. They can shim in interstitial UI if they feel like doing so. If iOS left this to Safari and did not include these sorts precautions, those are choices Apple has made and has been given two years notice to fix.</p>
<p>Cuptertino seems to be saying <em>"bad things might happen if we continued to do a shit job"</em> and one can't help but agree. However, that's no way out of the DMA's obligations.</p>
<blockquote>
<p>Addressing the complex security and privacy concerns associated with web apps using alternative browser engines would require building an entirely new integration architecture that does not currently exist in iOS and was not practical to undertake given the other demands of the DMA and the very low user adoption of Home Screen web apps.</p>
</blockquote>
<p>[CITATION NEEDED]</p>
<p>Once again, Apple is counting on the opacity of it's own suppression of the web to keep commenters from understanding the game that's afoot. Through an enervating combination of <a href="https://infrequently.org/2022/06/apple-is-not-defending-browser-engine-choice/#choices%2C-choices">strategic underinvestment</a> and coerced monoculture, Apple created (and still maintains) a huge gap in discoverability and friction for installing web apps vs. their native competition. Stacking the deck for native has taken many forms:</p>
<ul>
<li>Preventing web apps from gaining distribution in the app store <a href="https://developer.apple.com/app-store/review/guidelines/#4.2">by explicit policy.</a></li>
<li><a href="https://developer.apple.com/documentation/webkit/promoting_apps_with_smart_app_banners">"Smart Banners"</a> that let sites easily offer installation of their native counterparts.</li>
<li>Steadfast refusal to implement <a href="https://web.dev/articles/promote-install#browser-promotion">analagous features for PWAs</a> or provide competing browsers <a href="https://web.dev/learn/pwa/installation-prompt">the OS and DOM APIs they need to do so.</a></li>
<li><a href="https://www.cdc.gov/niosh/mining/content/hearingloss/installPWA.html">Burying Web App installation behind a "Share Sheet" UI</a> that users and developers complain is incredibly hard to discover, <a href="https://documentation.onesignal.com/docs/getting-your-audience-to-add-to-home-screen">forcing site owners to build clunky intersitials.</a></li>
<li>Denying competitors the necessary API access to offer better install UI and only providing the underwhelming "Share Sheet" option <a href="https://webkit.org/blog/13878/web-push-for-web-apps-on-ios-and-ipados/">last year,</a> a full <em>15 years</em> after Safari could.</li>
</ul>
<p>This campaign of suppression has been widly effective. If users don't know they can install PWAs, it's because <em>Safari never tells them</em>, and until this time last year, neither could any other browser. Developers also struggled to justify building them because Apple's repression extended to neglect of critical features, opening and maininting a substantial capability gap.</p>
<p>If PWAs use on iOS is low, that's a consequence of Apple's own actions. On every other OS where I've seen the data, not only are PWAs a success, they are growing rapidly. Perhaps that's why Apple feels a need to mislead by omission and fail to provide data to back their claim.</p>
<blockquote>
<p>And so, to comply with the DMA’s requirements, we had to remove the Home Screen web apps feature in the EU.</p>
</blockquote>
<p>Bullshit.</p>
<p>Apple's embedded argument expands to:</p>
<ul>
<li>We don't want to comply with the plain-letter language of the law.</li>
<li>To avoid that, we've come up with a legal theory of compliance that's favourable to us.</li>
<li>To comply with <em>that</em> (dubious) theory, and to avoid doing any of the work we don't want to do, we've been <em>forced</em> to bump off the one competitor we can't tax.</li>
</ul>
<p>Neat, tidy, and comprised entirely of bovine excrement.</p>
<blockquote>
<p>EU users will be able to continue accessing websites directly from their Home Screen through a bookmark with minimal impact to their functionality. We expect this change to affect a small number of users. Still, we regret any impact this change — that was made as part of the work to comply with the DMA — may have on developers of Home Screen web apps and our users.</p>
</blockquote>
<p>Translation: <em>"Because fuck you, that's why"</em></p>
<p>Apple is under no obligation by the DMA's terms to nuke PWAs.</p>
<p>Windows and Android will continue supporting PWAs just fine. Apple apparently hopes it can convince you to blame regulators for its own choices. Cupertino's counting the element of surprise plus the press's poorly developed understanding of the situation to keep blowback from snowballing into effective oppostion.</p>
<h3 id="the-point">The Point <a href="#the-point">#</a></h3>
<p>There's no possible way to justify a <a href="https://developer.apple.com/support/core-technology-fee/">"Core Technology Fee"</a> tax on an open, interoperable, standardsized platform that competitors would provide secure implementations of for free. What Apple's attempting isn't just some hand-wavey removal of a "low use" feature ([CITATION NEEDED]), it's sabotage of the only credible alternative to its app store monopoly.</p>
<figure>
<picture width="2134" height="1164">
  <source sizes="(max-width: 1200px) 70vw, 600px" srcset="https://infrequently.org/2021/08/webkit-ios-deep-dive/epic_v_apple.jpg?nf_resize=fit&amp;w=3600 2400w,
                  https://infrequently.org/2021/08/webkit-ios-deep-dive/epic_v_apple.jpg?nf_resize=fit&amp;w=2400 1600w,
                  https://infrequently.org/2021/08/webkit-ios-deep-dive/epic_v_apple.jpg?nf_resize=fit&amp;w=1800 1200w,
                  https://infrequently.org/2021/08/webkit-ios-deep-dive/epic_v_apple.jpg?nf_resize=fit&amp;w=1200   800w,
                  https://infrequently.org/2021/08/webkit-ios-deep-dive/epic_v_apple.jpg?nf_resize=fit&amp;w=900   600w,
                  https://infrequently.org/2021/08/webkit-ios-deep-dive/epic_v_apple.jpg?nf_resize=fit&amp;w=750   500w,
                  https://infrequently.org/2021/08/webkit-ios-deep-dive/epic_v_apple.jpg?nf_resize=fit&amp;w=600   400w">
<img src="https://infrequently.org/2021/08/webkit-ios-deep-dive/epic_v_apple.jpg" alt="A slide from Apple's presentation in Apple v. Epic, attempting to make the claim Epic could have just made a PWA if they didn't like the App Store terms because circa '20 Safari was <em>so</em> capable. <br><br><a href='/2021/04/progress-delayed/'>LOL.</a>" width="2134" height="1164" decoding="async" loading="lazy">
</picture>

  <figcaption>A slide from Apple's presentation in Apple v. Epic, attempting to make the claim Epic could have just made a PWA if they didn't like the App Store terms because circa '20 Safari was <em>so</em> capable. <p><a href="https://infrequently.org/2021/04/progress-delayed/">LOL.</a></p></figcaption>
</figure>
<p>Businesses will get the message: from now on, the only reliable way to get your service under the thumb, or in the notification tray, of the most valuable users in the world is to capitulate to Apple's extortionate App Store taxes.</p>
<p>If the last 15 years are anything to judge by, developers will take longer to understand what's going on, but this is an attempt to pull a <em>"Thoughts on Flash"</em> for the web. Apple's suppression of the web has <a href="https://infrequently.org/2021/04/progress-delayed/">taken many forms</a> over the past decade, but the common thread has been inaction and anti-competitive scuppering of more capable engines. With one of those pillars crumbling, the knives glint a bit more brightly. This is Apple once and for all trying to relegate web development skills to the dustbin of the desktop.</p>
<p>Not only will Apple render web apps unreliable for Safari users, FruitCo is setting up an argument to prevent competitors from ever delivering features that challenge the app store in future. And it doesn't care who it hurts along the way.</p>
<h2 id="the-mask-is-off">The Mask Is Off <a href="#the-mask-is-off">#</a></h2>
<p>This is exactly what it looks like: a single-fingered salute to the web and web developers. The removal of features that <a href="https://en.wikipedia.org/wiki/IPhone_OS_1">allowed the iPhone to exist at all.</a> The end of <a href="https://www.macstories.net/stories/before-the-app-store-the-sweet-solution-of-web-apps-and-developers-relentless-passion/">Steve Jobs' promise that you'd be able to make great apps out of HTML, CSS, and JS.</a></p>
<p>For the past few years Apple has gamely sent $1,600/hr lawyers and <a href="https://www.bloomberg.com/news/articles/2022-09-19/apple-flexes-muscle-as-quiet-power-behind-app-developer-group">astroturf lobbyists</a> to argue it didn't need to be regulated. That Apple was really on the developer's side. That even if it overstepped occasionally, it was all in the best interest of users.</p>
<p>Tell that to the millions of EU PWA users about to lose data. Tell that to the public services built on open technology. Tell it to the businesses that will fold, having sweated to deliver compelling experiences using the shite tools Apple web developers. Apple's rug pull is anti-user, anti-developer, and anti-competition.</p>
<p>Now we see the whole effort in harsh relief. A web Apple can't sandbag and degrade is one it can't abide. FruitCo's fear and loathing of an open platform it can't tax is palpable. The lies told to cover for avarice are ridiculous — literally, <a href="https://www.etymonline.com/word/ridiculous">"worthy of ridicule".</a></p>
<p>It's ok to withhold the benefit of the doubt from Safari and Apple. It's ok to be livid. These lies aren't little or white; they're directly aimed at our future. They're designed to influence the way software will be developed and delivered for decades to come.</p>
<p>If you're as peeved about this as I am, go <a href="https://open-web-advocacy.org/apple-attempts-killing-webapps/">join OWA in the fight</a> and help them create the sort of pressure in the next 10 days that might actually stop a monopolist with money on their mind.</p>


    
    
  </article>
      <!-- END_BLOCK_CONTENT -->
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[DOOM rendered via console.log() in a web browser (162 pts)]]></title>
            <link>https://github.com/MattCozendey/doom-console-log</link>
            <guid>39508002</guid>
            <pubDate>Mon, 26 Feb 2024 05:43:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/MattCozendey/doom-console-log">https://github.com/MattCozendey/doom-console-log</a>, See on <a href="https://news.ycombinator.com/item?id=39508002">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:MattCozendey/doom-console-log" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="YA4gLCi0FH9nK4y57WtUBorkjJGlAK8Q5tu86x-galo2K5PdBQPHWDYKlBP6z-1mmwSTgPY-NRspeYKonD3Giw" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="MattCozendey/doom-console-log" data-current-org="" data-current-owner="MattCozendey" data-logged-in="false" data-copilot-chat-enabled="false" data-blackbird-indexed-repo-csrf="<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=exxhf3mjrjWVy0aRGjLZ8EGxmyt2BCByFOQp4W0TSKNKugd%2Bwa%2B%2FtzzEqDdH33F8sNqA363xBFy36%2F8VTaKuPdZ2csJnzPCCgBJRBiVop%2B55Vyrw7LAV3GggNR7kBDbo48WNYBgqWG%2FlHqbkmWBMxXrDLRF4xrkuIq%2BawRaNimqVwjtdaGyMtqQxmQnVb%2Bs7CN14mt0Bj3BeJNM0AUVa%2F4K7v%2B%2FOAfPGxIqtKDlcsF%2B8xlwnan2M50WD91Ijl0nP3gXvX1k6Dvd4Rl7UBisXnHAhFmWuQ%2BDJX%2Bc8g9i1mZMZFdgxTiMLXfh1LQpEW6%2FB3zsO%2BJ462d4Lac3EB0Pz4Eb%2B8a8oueroTMAI8lIvNb7MaxuanRSOCzsheLGL92HhsRJsZN86OlVmFkpslUsSvJwf6uVqVKAB8bmO6CFM60nYbX%2BgTIrteIAqmgnrHYykjL5MTr4ta03eVmz9aDhuaH31%2BxoUQgpBLGMu9NQxnpm8IYzi9hQfMN0sIXd56IAHVGAu99jUoWV%2Bgm%2F6pk7V8drEaQzkcMpbn8r7Ut32--LFvl1HSsGzMcp7%2B8--zZfnlfImwnlpCZZlEGjWhQ%3D%3D&quot; />">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=MattCozendey%2Fdoom-console-log" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/MattCozendey/doom-console-log&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="5442df8875b02708faf4cda7102bd9037094100dd586d34dce5de7f6af70ec0e" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[New car buying guide: the algorithm (2021) (120 pts)]]></title>
            <link>https://github.com/kutinden/buyingacar/blob/main/README.md</link>
            <guid>39507402</guid>
            <pubDate>Mon, 26 Feb 2024 03:36:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/kutinden/buyingacar/blob/main/README.md">https://github.com/kutinden/buyingacar/blob/main/README.md</a>, See on <a href="https://news.ycombinator.com/item?id=39507402">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:kutinden/buyingacar" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="pDSJjoPKO3gZ7HKbBHvphMUxOHLK7UYr1-6Pqkdpvmg0CYSN25k8wsf5MdpNWoUzNP7lxktmAPXK-QlI20uxZw" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="kutinden/buyingacar" data-current-org="" data-current-owner="kutinden" data-logged-in="false" data-copilot-chat-enabled="false" data-blackbird-indexed-repo-csrf="<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=9t1%2B27SDw77oDFUVa3WLJNKvFmDlZtRsC9A9oN6iH%2FZZ6S%2BBF%2BTSstvMApSiebFOGc4FIt7wCshhosLN9sGIQwvmPcj02wrGlnpDMgRqEt9hvJZWjmHNbzPPoCDhxOR%2Fy2WtSl59kB1B%2F410eCfwNbu%2BF1JW%2BtveaYc5s7SewjZKUhoP%2FFf5SLfCyccjDeqNHXy%2Be7KYrQDX64Z8QGOBPrOyw2aO7ofOuTWjW7S6rZO9qB8HN4BnBq3QQY2mz%2BpEnlZFtyEWWYd6yjvmS00ZQBNav5h%2FvlUYA4TJGaLNqpe%2FjMX1JgHrCPd%2FhKeTyC0PMtOD2oMbLmnDyXbBE4EXqOCGxTSwOq635KzOiqqflX2VAdy4RbkQz5ALVjVAb3d2zYjFW95kz49TFSufp09WGkc95SP04o3caANL5wSOgzerjLD14M9%2FV95A8ynU7%2F1uLdG1S6DPQ6ecIL917ht%2FlAgZdqWaNcuXpuKnu0vRJUdS3Nmd1Q%2BhrbOKDrieBU0Jx7Mv7C%2BEijwqucy1ZBXE394NVmzKuhzfQ2rJKb1%2F7NW2VhpqbR4vdePX--XDz6cXEU%2FLE8td%2Fv--HcJtmZTuFfl%2FC7yX6z24ag%3D%3D&quot; />">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&amp;source=header-repo&amp;source_repo=kutinden%2Fbuyingacar" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/kutinden/buyingacar/blob/main/README.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="de8d438443a6fe671795c2573945f8326bdbe63daf2c9c83b7e35dd5953f5296" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>/blob/show;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A drone that calculates coordinates using a camera and Google Maps (148 pts)]]></title>
            <link>https://twitter.com/ilaffey2/status/1759353732075294766</link>
            <guid>39507267</guid>
            <pubDate>Mon, 26 Feb 2024 03:11:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/ilaffey2/status/1759353732075294766">https://twitter.com/ilaffey2/status/1759353732075294766</a>, See on <a href="https://news.ycombinator.com/item?id=39507267">Hacker News</a></p>
Couldn't get https://twitter.com/ilaffey2/status/1759353732075294766: Error: Request failed with status code 400]]></description>
        </item>
        <item>
            <title><![CDATA[FDA approves first medication to reduce allergic reactions to multiple foods (206 pts)]]></title>
            <link>https://www.fda.gov/news-events/press-announcements/fda-approves-first-medication-help-reduce-allergic-reactions-multiple-foods-after-accidental</link>
            <guid>39507230</guid>
            <pubDate>Mon, 26 Feb 2024 03:02:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.fda.gov/news-events/press-announcements/fda-approves-first-medication-help-reduce-allergic-reactions-multiple-foods-after-accidental">https://www.fda.gov/news-events/press-announcements/fda-approves-first-medication-help-reduce-allergic-reactions-multiple-foods-after-accidental</a>, See on <a href="https://news.ycombinator.com/item?id=39507230">Hacker News</a></p>
<div id="readability-page-1" class="page"><div role="main">

                            
                            
                            
                            
                                              
    <div>
    <dl>
        <dt>For Immediate Release:</dt>
                  <dd><time datetime="2024-02-16T16:00:00Z">February 16, 2024</time>
</dd>
                 
                
      </dl>
    </div>
 

  
      
       

  <p><a href="https://www.fda.gov/news-events/press-announcements/la-fda-aprueba-el-primer-medicamento-que-ayuda-reducir-las-reacciones-alergicas-varios-alimentos"><span>Español</span></a></p>

<p>Today, the U.S. Food and Drug Administration approved <a href="https://www.accessdata.fda.gov/drugsatfda_docs/label/2024/103976s5245lbl.pdf">Xolair</a> (omalizumab) injection for immunoglobulin E-mediated food allergy in certain adults and children 1 year or older for the reduction of allergic reactions (Type I), including reducing the risk of anaphylaxis, that may occur with accidental exposure to one or more foods. Patients who take Xolair must continue to avoid foods they are allergic to. Xolair is intended for repeated use to reduce the risk of allergic reactions and is not approved for the immediate emergency treatment of allergic reactions, including anaphylaxis.&nbsp;</p>

<p>Xolair was originally approved in 2003 for the treatment of moderate to severe persistent allergic asthma in certain patients. Xolair is also approved to treat chronic spontaneous urticaria and chronic rhinosinusitis with nasal polyps in certain patients.</p>

<p><strong>“This newly approved use for Xolair will provide a treatment option to reduce the risk of harmful allergic reactions among certain patients with IgE-mediated food allergies,” said Kelly Stone, M.D., Ph.D., associate director of the Division of Pulmonology, Allergy, and Critical Care in the FDA’s Center for Drug Evaluation and Research. “While it will not eliminate food allergies or allow patients to consume food allergens freely, its repeated use will help reduce the health impact if accidental exposure occurs.” &nbsp;</strong></p>

<p>According to the Centers for Disease Control and Prevention, almost 6% of people in the United States in 2021 had a food allergy and exposure to the particular food(s) to which they are allergic can lead to potentially life-threatening allergic reactions (i.e., anaphylaxis). There is currently no cure for food allergy. Current treatment requires strict avoidance of the food(s) the patient is allergic to, and prompt administration of epinephrine to treat anaphylaxis should accidental exposures occur. Palforzia (peanut allergen powder) is an oral immunotherapy product approved in patients 4-17 years of age for the mitigation of allergic reactions, including anaphylaxis, that may occur with accidental exposure to peanut, but its benefits are restricted to peanut allergy. Xolair is the first FDA-approved medication to reduce allergic reactions to more than one type of food after accidental exposure.</p>

<p>Xolair is a drug (in the class of drugs called monoclonal antibodies) that binds to immunoglobulin E (IgE), the antibody type that triggers allergic reactions, and blocks IgE from binding to its receptors.&nbsp;</p>

<p>Xolair’s safety and efficacy in reducing allergic reactions in subjects with food allergies was established in one multi-center, double-blind, placebo-controlled <a href="https://clinicaltrials.gov/study/NCT03881696">study</a> of 168 pediatric and adult subjects (at least 1 year of age or older) who were allergic to peanut and at least two other foods, including milk, egg, wheat, cashew, hazelnut or walnut. Researchers randomly gave subjects either Xolair or placebo treatment for 16 to 20 weeks. The primary measure of Xolair’s efficacy was the percentage of subjects who were able to eat a single dose (600 milligrams or greater) of peanut protein (equivalent to 2.5 peanuts) without moderate to severe allergic symptoms, such as moderate to severe skin, respiratory or gastrointestinal symptoms, at the end of the 16-to-20-week treatment course. Of those who received Xolair, 68% (75 of 110 subjects) were able to eat the single dose of peanut protein without moderate to severe allergic symptoms (e.g., whole body hives, persistent coughing, vomiting), compared to 6% (3 of 55 subjects) who received placebo; these results are statistically significant and clinically meaningful for subjects with food allergy. Of note, however, 17% of subjects receiving Xolair had no significant change in the amount of peanut protein tolerated (could not tolerate 100 mg or more of peanut protein). As a result, continuation of strict allergen avoidance is still necessary, despite treatment with Xolair.</p>

<p>The key secondary measures of efficacy were the percentage of subjects who were able to consume a single dose (1,000 milligrams or greater) of cashew, milk or egg protein without moderate to severe allergic symptoms at the end of the 16-to-20-week treatment course. For cashew, 42% (27 of 64 subjects) who received Xolair achieved this endpoint compared to 3% (1 of 30 subjects) who received placebo. For milk, 66% (25 of 38 subjects) who received Xolair achieved this endpoint, compared to 11% (2 of 19) who received placebo. For egg, 67% (31 of 46 subjects) who received Xolair achieved this endpoint, compared to 0% of the 19 who received placebo. As a result, Xolair treatment is approved for certain patients with one or more IgE-mediated food allergies.</p>

<p>The most common side effects of Xolair observed included injection site reactions and fever. Xolair comes with certain warnings and precautions, such as anaphylaxis, malignancy, fever, joint pain, rash, parasitic (worm) infection and abnormal laboratory tests.</p>

<p>In addition, Xolair comes with a boxed warning for anaphylaxis, which can be life threatening, based on pre-marketing and post-marketing reports of anaphylaxis that occurred after Xolair administration. Anaphylaxis has occurred after the first dose of Xolair, but also has occurred beyond one year after beginning treatment. Xolair should only be started in a healthcare setting equipped to manage anaphylaxis. For selected patients who tolerate initial Xolair treatments in a healthcare setting without anaphylaxis, self-administration (or administration by a caregiver) may be appropriate and should be discussed with a healthcare provider. &nbsp;</p>

<p>Patients should not receive Xolair if they have a history of known severe hypersensitivity to Xolair or any of its components.&nbsp;</p>

<p>Xolair is not approved for the immediate emergency treatment of allergic reactions, including anaphylaxis.&nbsp;</p>

<p>Xolair received <a data-entity-substitution="canonical" data-entity-type="node" data-entity-uuid="473790c8-9758-497f-838f-5940f6b613a8" href="https://www.fda.gov/patients/fast-track-breakthrough-therapy-accelerated-approval-priority-review/priority-review" title="Priority Review">Priority Review</a> and <a data-entity-substitution="canonical" data-entity-type="node" data-entity-uuid="81e20fd6-29c4-4bdf-861e-f08b5177c4a0" href="https://www.fda.gov/patients/fast-track-breakthrough-therapy-accelerated-approval-priority-review/breakthrough-therapy" title="Breakthrough Therapy">Breakthrough Therapy</a> designations for this indication.&nbsp;</p>

<p>The FDA granted the approval of Xolair to Genentech.&nbsp;</p>

  <h2>Related Information</h2>
  
  

<p>###</p>
  <div data-quickedit-field-id="node/420830/field_generic_long_text/en/full">
      <p>Boilerplate</p>
      <p>The FDA, an agency within the U.S. Department of Health and Human Services, protects the public health by assuring the safety, effectiveness, and security of human and veterinary drugs, vaccines and other biological products for human use, and medical devices. The agency also is responsible for the safety and security of our nation’s food supply, cosmetics, dietary supplements, radiation-emitting electronic products, and for regulating tobacco products.</p>
    </div>
<hr>

<div>
  <h2>Inquiries</h2>
  
    
        
         
  </div>
 
<br>

<!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->


<!--END WEBSITE FEEDBACK SNIPPET-->

<!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->



              
                                            
              
            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A History of the TTY (153 pts)]]></title>
            <link>https://computer.rip/2024-02-25-a-history-of-the-tty.html</link>
            <guid>39506929</guid>
            <pubDate>Mon, 26 Feb 2024 02:06:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://computer.rip/2024-02-25-a-history-of-the-tty.html">https://computer.rip/2024-02-25-a-history-of-the-tty.html</a>, See on <a href="https://news.ycombinator.com/item?id=39506929">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>


<p>It's one of those anachronisms that is deeply embedded in modern technology.
From cloud operator servers to embedded controllers in appliances, there
must be uncountable devices that think they are connected to a TTY.</p>
<p>I will omit the many interesting details of the Linux terminal infrastructure
here, as it could easily fill its own article. But most Linux users are at
least peripherally aware that the kernel tends to identify both serial devices
and terminals as TTYs, assigning them filesystem names in the form of
/dev/tty*. Probably a lot of those people remember that this stands for
teletype or perhaps teletypewriter, although in practice the term teleprinter
is more common.</p>
<p>Indeed, from about the 1950s (the genesis of electronic computers) to the 1970s
(the rise of video display terminals/VDTs), teleprinters were the most common
form of interactive human-machine interface. The "interactive" distinction here
is important; early computers were built primarily around noninteractive input
and output, often using punched paper tape. Interactive operation was a more
advanced form of computing, one that took almost until the widespread use of
VDTs to mature. Look into the computers of the 1960s especially, the early days
of interactive operation, and you will be amazed at how bizarre and unfriendly
the command interface is. It wasn't really intended for people to use; it was
for the Computer Operator (who had attended a lengthy training course on the
topic) to troubleshoot problems in the noninteractive workload.</p>
<p>But interactive computing is yet another topic I will one day take on. Right
now, I want to talk about the heritage of these input/output mechanisms. Why is
it that punched paper tape and the teleprinter were the most obvious way to
interact with the first electronic computers? As you might suspect, the
arrangement was one of convenience. Paper tape punches and readers were already
being manufactured, as were teleprinters. They were both used for
communications.</p>
<p>Most people who hear about the telegraph think of Morse code keys and rhythmic
beeping. Indeed, Samuel Morse is an important figure in the history of
telegraphy. The form of "morse code" that we tend to imagine, though, a
continuous wave "beep," is mostly an artifact of radio. For telegraphs, no
carrier wave or radio modulation was required. You can transmit a message
simply by interrupting the current on a wire.</p>
<p>This idea is rather simple to conceive and even to implement, so it's no
surprise that telegraphy has a long history. By the end of the 18th century
inventors in Europe and Great Britain were devising simple electrical
telegraphs. These early telegraphs had limited ranges and even more limited
speeds, though, a result mostly of the lack of a good way to indicate to the
operator whether or not a current was present. It is an intriguing aspect of
technical history that the first decades of experimentation with electricity
were done with only the clumsiest means of measuring or even detecting it.</p>
<p>In 1820, three physicists or inventors (these were vague titles at the time)
almost simultaneously worked out that electrical current induced a magnetic
field. They invented various ways of demonstrating the effect, usually by
deflecting a magnetic needle. This innovation quickly lead to the
"electromagnetic telegraph," in which a telegrapher operates a key to switch
current, which causes a needle or flag to deflect at the other end of the
circuit. This was tremendously simpler than previous means of indicating
current and was applied almost immediately to build the first practical
telegraphs. During the 1830s, the invention of the relay allowed telegraph
signals to be repeated or amplified as the potential weakened (the origin of
the term "relay"). Edward Davy, one of the inventors of the relay, also
invented the telegraph recorder.</p>
<p>From 1830 to 1850, so many people invented so many telegraph systems that it is
difficult to succinctly describe how an early practical telegraph worked. There
were certain themes: for non-recording systems, a needle was often deflected
one way or the other by the presence or absence of current, or perhaps by
polarity reversal. Sometimes the receiver would strike a bell or sound a buzzer
with each change. In recording systems, a telegraph printer or telegraph
recorder embossed a hole or left a small mark on a paper tape that advanced
through the device. In the first case, the receiving operator would watch the
needle, interpreting messages as they came. In the second case, the operator
could examine the paper tape at their leisure, interpreting the message based
on the distances between the dots.</p>
<p>Recording systems tended to be used for less time-sensitive operations like
passing telegrams between cities, while non-recording telegraphs were used for
more real-time applications like railroad dispatch and signaling. Regardless,
it is important to understand that the teleprinter is about as old as the
telegraph. Many early telegraphs recorded received signals onto paper.</p>
<p>The interpretation of telegraph signals was as varied as the equipment that
carried them. Samuel Morse popularized the telegraph in the United States based
in part on his alphabetic code, but it was not the first. Gauss famously
devised a binary encoding for alphabetic characters a few years earlier, which
resembles modern character encodings more than Morse's scheme. In many telegraph
applications, though, there was no alphabetic code at all. Railroad signal
telegraphs, for example, often used application-specific schemes that encoded
types of trains and routes instead of letters.</p>
<p>Morse's telegraph system was very successful in the United States, and in 1861
a Morse telegraph line connected the coasts. It surprises some that a
transcontinental telegraph line was completed some fifty years before the
transcontinental telephone line. Telegraphy is older, though, because it is
simpler. There is no analog signaling involved; simple on/off or polarity
signals can be amplified using simple mechanical relays. The tendency to
view text as more complex than voice (SMS came after the first cellphones,
for one) has more to do with the last 50 years than the 50 years before.</p>
<p>The Morse telegraph system was practical enough to spawn a large industry, but
suffered a key limitation: the level of experience required to key and copy
Morse quickly and reliably is fairly high. Telegraphers were skilled and, thus,
fairly well paid and sometimes in short supply [1]. To drive down the cost of
telegraphy, there would need to be more automation.</p>
<p>Many of the earliest telegraph designs had employed parallel signaling. A
common scheme was to provide one wire for each letter, and a common return.
These were impractical to build over any meaningful distance, and Morse's
one-wire design (along with one-wire designs by others) won out for obvious
reasons. The idea of parallel signaling stayed around, though, and was
reintroduced during the 1840s with a simple form of multiplexing: one "logical
channel" for each letter could be combined onto one wire using time division
muxing, for example by using a transmitter and receiver with synchronized
spinning wheels. Letters would be presented by positions on the wheel, and a
pulse sent at the appropriate point in the revolution to cause the teleprinter
to produce that letter. With this alphabetic teleprinter, an experienced
operator was no longer required to receive messages. They appeared as text on a
strip of paper, ready for an unskilled clerk to read or paste onto a message
card.</p>
<p>This system proved expensive but still practical to operate, and a network of
such alphabetic teleprinters was built in the United States during the mid 19th
century. A set of smaller telegraph companies operating one such system, called
the Hughes system after its inventor, joined together to become the Western
Union Telegraph Company. In a precedent that would be followed even more closely
by the telephone system, practical commercial telegraphy was intertwined with a
monopoly.</p>
<p>The Hughes system was functional but costly. The basic idea of multiplexing
across 30 channels was difficult to achieve with mechanical technology. Émile
Baudot was employed by the French telegraph service to find a way to better
utilize telegraph lines. He first developed a proper form of multiplexing,
using synchronized switches to combine five Hughes system messages onto one
wire and separate them again at the other end. Likely inspired by his close
inspection of the Hughes system and its limitations, Baudot went on to develop
a more efficient scheme for the transmission of alphabetic messages: the Baudot
code.</p>
<p>Baudot's system was similar to the Hughes system in that it relied on a
transmitter and receiver kept in synchronization to interpret pulses as
belonging to the correct logical channel. He simplified the design, though, by
allowing for only five logical channels. Instead of each pulse representing a
letter, the combination of all five channels would be used to form one symbol.
The Baudot code was a five-bit binary alphabetic encoding, and most computer
alphabetic encodings to the present day are at least partially derived from it.</p>
<p>One of the downsides of Baudot's design is that it was not quite as easy to
operate as telegraphy companies would hope. Baudot equipment could keep up 30
words per minute with a skilled operator who could work the five-key
piano-style keyboard in good synchronization with the mechanical armature that
read it out. This took a great deal of practice, though, and pressing keys out
of synchronization with the transmitter could easily cause incorrect letters to
be sent.</p>
<p>In 1901, during the early days of the telephone, Donald Murray developed an
important enhancement to the Baudot system. He was likely informed by an older
practice that had been developed for Morse telegraphs, of having an operator
punch a Morse message into paper tape to be transmitted by a simple tape reader
later.  He did the same for Baudot code: he designed a device with an easy to
use typewriter-like keyboard that punched Baudot code onto a strip of paper
tape with five rows, one for each bit. The tape punch had no need to be
synchronized with the other end, and the operator could type at whatever pace
they were comfortable.</p>
<p>The invention of Murray's tape punch brought about the low-cost telegram
networks that we are familiar with from the early 20th century. A clerk would
take down a message and then punch it onto paper tape. Later, the paper tape
would be inserted into a reader that transmitted the Baudot message in perfect
synchronization with the receiver, a teleprinter that typed it onto tape as
text once again. The process of encoding and decoding messages for the
telegraph was now fully automated.</p>
<p>The total operation of the system, though, was not. For one, the output was
paper tape, that had to be cut and pasted to compose a paragraph of text.
For another, the transmitting and receiving equipment operated continuously,
requiring operators to coordinate on the scheduling of sending messages (or
they would tie up the line and waste a lot of paper tape).</p>
<p>In a wonderful time capsule of early 20th century industrialism, the next major
evolution would come about with considerable help from the Morton Salt Company.
Joy Morton, its founder, agreed to fund Frank Pearne's efforts to develop an
even more practical printing telegraph. This device would use a typewriter
mechanism to produce the output as normal text on a page, saving considerable
effort by clerks. Even better, it would use a system of control codes to
indicate the beginning and end of messages, allowing a teleprinter to operate
largely unattended. This was more complex than it sounded, as it required
finding a way for the two ends to establish clock synchronization before the
message.</p>
<p>There were, it turned out, others working on the same concept. After a series
of patent disputes, mergers, and negotiations, the Morkrum-Kleinschmidt Company
would market this new technology. A fully automated teleprinter, lurching into
life when the other end had a message to send, producing pages of text like a
typewriter with an invisible typist.</p>
<p>In 1928, Morkrum-Kleinschmidt adopted a rather more memorable name: the
Teletype Corporation. During the development of the Teletype system, the
telephone network had grown into a nationwide enterprise and one of the United
States' largest industrial ventures (at many points in time, the country's
single largest employer). AT&amp;T had already entered the telegraph business by
leasing its lines for telegraph use, and work had already begun on telegraphs
that could operate over switched telephone lines, transmitting text as if it
were a phone call. The telephone was born of the telegraph but came to consume
it. In 1930, the Teletype Corporation was purchased by AT&amp;T and became part of
Western Electric.</p>
<p>That same year, Western Electric introduced the Teletype Model 15. Receiving
Baudot at 45 baud [2] with an optional tape punch and tape reader, the Model 15
became a workhorse of American communications. By some accounts, the Model 15
was instrumental in the prosecution of World War II. The War Department made
extensive use of AT&amp;T-furnished teletype networks and Model 15 teleprinters as
the core of the military logistics enterprise. The Model 15 was still being
manufactured as late as 1963, a production record rivaled by few other
electrical devices.</p>
<p>It is difficult to summarize the history of the networks that teleprinters
enabled. The concept of switching connections between teleprinters, as was done
on the phone network, was an obvious one. The dominant switched teleprinter
network was Telex, not really an organization but actually a set of standards
promulgated by the ITU. The most prominent US implementation of Telex was an
AT&amp;T service called TWX, short for Teletypewriter Exchange Service. TWX used
Teletype teleprinters on phone lines (in a special class of service), and was
a very popular service for business use from the '40s to the '70s.</p>
<p>Incidentally, TWX was assigned the special purpose area codes 510, 610, 710,
810, and 910, which contained only teleprinters. These area codes would
eventually be assigned to other uses, but for a long time ranked among the
"unusual" NPAs.</p>
<p>Western Union continued to develop their telegraph network during the era of
TWX, acting in many ways as a sibling or shadow of AT&amp;T. Like AT&amp;T, Western
Union developed multiplexing schemes to make better use of their long-distance
telegraph lines. Like AT&amp;T, Western Union developed automatic switching systems
to decrease operator expenses. Like AT&amp;T, Western Union built out a microwave
network to increase the capacity of their long-haul network. Telegraphy is one
of the areas where AT&amp;T struggled despite their vast network, and Western Union
kept ahead of them, purchasing the TWX service from AT&amp;T. Western Union would
continue to operate the switched teleprinter network, under the Telex name,
into the '80s when it largely died out in favor of the newly developed fax
machine.</p>
<p>During the era of TWX, encoding schemes changed several times as AT&amp;T and
Western Union developed better and faster equipment (Western Union continued to
make use of Western Electric-built Teletype machines among other equipment).
ASCII came to replace Baudot, and so a number of ASCII teleprinters existed.
There were also hybrids. For some time Western Union operated teleprinters on
an ASCII variant that provided only upper case letters and some punctuation,
with the benefit of requiring fewer bits. The encoding and decoding of this
reduced ASCII set was implemented by the Bell 101 telephone modem, designed in
1958 to allow SAGE computers to communicate with one another and then widely
included in TWX and Telex teleprinters. The Bell 101's descendants would bring
about remote access to time-sharing computer systems and, ultimately, one of
the major forms of long-distance computer networking.</p>
<p>You can see, then, that the history of teleprinters and the history of
computers are naturally interleaved. From an early stage, computers operated
primarily on streams of characters. This basic concept is still the core of
many modern computer systems and, not coincidentally, also describes the
operation of teleprinters.</p>
<p>When electronic computers were under development in the 1950s and 1960s,
teleprinters were near the apex of their popularity as a medium for business
communications. Most people working on computers probably had experience with
teleprinters; most organizations working on computers already had a number of
teleprinters installed. It was quite natural that teleprinter technology would
be repurposed as a means of input and output for computers.</p>
<p>Some of the very earliest computers, for example those of Konrad Zuse, employed
punched tape as an input medium. These were almost invariably repurposed or
modified telegraphic punched tape systems, often in five-bit Baudot.
Particularly in retrospect, as more materials have become available to
historians, it is clear that much of the groundwork for digital computing was
laid by WWII cryptological efforts.</p>
<p>Newly devised cryptographic machines like the Lorenz ciphers were essentially
teleprinters with added digital logic. The machines built to attack these
codes, like Colossus, are now generally recognized as the first programmable
computers. The line between teleprinter and computer was not always clear. As
more encoding and control logic was added, teleprinters came to resemble simple
computers.</p>
<p>The Manchester Mark I, a pioneer of stored-program computing built in 1949,
used a 5-bit code adopted from Baudot by none other than Alan Turing. The major
advantage of this 5-bit encoding was, of course, that programs could be read
and written using Baudot tape and standard telegraph equipment. The addition of
a teleprinter allowed operators to "interactively" enter instructions into the
computer and read the output, although the concept of a shell (or any other
designed user interface) had not yet been developed. EDSAC, a contemporary of
the Mark I and precursor to a powerful tea logistics system that would set off
the development of business computing, also used a teleprinter for input and
output.</p>
<p>Many early commercial computers limited input and output to paper tape, often
5-bit for Baudot or 8-bit for ASCII with parity, as in the early days of
computing preparation of a program was an exacting process that would not
typically be done "on the fly" at a keyboard. It was, of course, convenient
that teleprinters with tape punches could be used to prepare programs for entry
into the computer.</p>
<p>Business computing is most obviously associated with IBM, a company that had
large divisions building both computers and typewriters. The marriage of the
two was inevitable considering the existing precedent. Beginning around 1960 it
was standard for IBM computers to furnish a teleprinter as the operator
interface, but IBM had a distinct heritage from the telecommunications industry
and, for several reasons, was intent on maintaining that distinction. IBM's
teleprinter-like devices were variously called Data Communications Systems,
Printer-Keyboards, Consoles, and eventually Terminals. They generally operated
over proprietary serial channels.</p>
<p>Other computer manufacturers didn't have typewriter divisions, and typewriters
and teleprinters were actually rather complex mechanical devices and not all
that easy to build. As a result, they tended to buy teleprinters from
established manufacturers, often IBM or Western Electric. Consider the case of
a rather famous non-IBM computer, the DEC PDP-1 of 1960. It came with a CRT
graphics display as standard, and many sources will act as if this was the
primary operator interface, but it is important to understand that early CRT
graphics displays had a hard time with text. Text is rather complex to render
when you are writing point-by-point to a CRT vector display from a rather slow
machine. You would be surprised how many vertices a sentence has in it.</p>
<p>So despite the ready availability of CRTs in the 1960s (they were, of course,
well established in the television industry), few computers used them for
primary text input/output. Instead, the PDP-1 was furnished with a modified IBM
typewriter as its console. This scheme of paying a third-party company (Soroban
Engineering) to modify IBM typewriters for teleprinter control was apparently
not very practical, and later DEC PDP models tended to use Western Electric
Teletypes as user terminals. These had the considerable advantage that they
were already designed to operate over long telephone circuits, making it easy
to install multiple terminals throughout a building for time sharing use.</p>
<p>Indeed, time sharing was a natural fit for teleprinter terminals. With a
teleprinter and a computer with a suitable modem, you could "call in" to a time
sharing computer over the telephone from a remote office. Most of the first
practical "computer networks" (term used broadly) were not actually networks of
computers, but a single computer with many remote terminals.  This architecture
evolved into the BBS and early Internet-like services such as CompuServe. The
idea was surprisingly easy to implement once time sharing operating systems
were developed; the necessary hardware was already available from Western
Electric.</p>
<p>While I cannot swear to the accuracy of this attribution, many sources suggest
that the term "tty" as a generic reference to a user terminal or serial I/O
channel originated with DEC. It seems reasonable; DEC's software was very
influential on the broader computer industry, particularly outside of IBM.
UNIX originally targeted a PDP-11 with teleprinters. While I can't prove it, it
seems quite believable that the tty terminology was adopted directly from RT-11
or another operating system that Bell Labs staff might have used on the PDP-11.</p>
<p>Computers were born of the teleprinter and would inevitably come to consume
them. After all, what is a computer but a complex teleprinter? Today,
displaying text and accepting it from a keyboard is among the most basic
functions of computers, and computers continue to perform this task using an
architecture that would be familiar to engineers in the 1970s. They would
likely be more surprised by what hasn't changed than what has: many of us still
spend a lot of time in graphical software pretending to be a video display
terminal built for compatibility with teleprinters.</p>
<p>And we're still using that 7-bit ASCII code a lot, aren't we. At least Baudot
died out and we get to enjoy lower case letters.</p>
<p>[1] Actor, singer, etc. Gene Autry had worked as a telegrapher before he began
his career in entertainment. This resulted in no small number of stories of a
celebrity stand-in at the telegraph office. Yes, this is about to be a local
history anecdote. It is fairly reliably reported that Gene Autry once
volunteered to stand in for the telegrapher and station manager at the small
Santa Fe Railroad station in Socorro, New Mexico, as the telegrapher had been
temporarily overwhelmed by the simultaneous arrival of a packed train and a
series of telegrams. There are enough of these stories about Gene that I think
he really did keep his Morse sharp well into his acting career.</p>
<p>[2] Baud is a somewhat confusing unit derived from Baudot. Baud refers to the
number of symbols per second on the underlying communication medium. For simple
binary systems (and thus many computer communications systems we encounter
daily), baud rate is equivalent to bit rate (bps). For systems that employ
multi-level signaling, the bit rate will be higher than the baud rate, as
multiple bits are represented per symbol on the wire. Methods like QAM are
useful because they result in bit rates that are many multiples of the baud
rate, reducing the bandwidth on the wire.</p>
	</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Stress reduction techniques for high stress operations (2023) (112 pts)]]></title>
            <link>https://health.mil/Military-Health-Topics/Centers-of-Excellence/Psychological-Health-Center-of-Excellence/Real-Warriors-Campaign/Articles/Stress-Reduction-Techniques-for-High-Stress-Operations</link>
            <guid>39506622</guid>
            <pubDate>Mon, 26 Feb 2024 01:05:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://health.mil/Military-Health-Topics/Centers-of-Excellence/Psychological-Health-Center-of-Excellence/Real-Warriors-Campaign/Articles/Stress-Reduction-Techniques-for-High-Stress-Operations">https://health.mil/Military-Health-Topics/Centers-of-Excellence/Psychological-Health-Center-of-Excellence/Real-Warriors-Campaign/Articles/Stress-Reduction-Techniques-for-High-Stress-Operations</a>, See on <a href="https://news.ycombinator.com/item?id=39506622">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">

                

<div>
	
	
	


	<p><a href="#pageDetailHeader">Skip subpage navigation</a></p>
	<div data-ga-cat="Main Column" id="contentThreeCol">
    <p>Any role in the military can be stressful. However, for those like special operators, explosive ordinance technicians, submariners, aviators and others, stress is a significant part of the job. The extreme stress faced by these warriors, and others, can lead to psychological health concerns. Recent research focusing on special operations forces (SOF) highlights the risks faced by service members working in any high-stress role. Heavy physical, mental and emotional strain can lead to psychological health concerns. These can include depression, anxiety or posttraumatic stress disorder. It is important for all warriors to learn stress-management techniques. Stress can cause anxiety, depression, trouble sleeping, irritability, heavy drinking or other concerns. If you experience any of these symptoms, or have other concerns, talk to a health care provider now. Your provider can address your concerns and help you develop a stress-management plan. Getting care early helps you stay mission ready. It also avoids new or worsening symptoms.</p><h2><strong>The Effects of Stress on SOF</strong></h2><p>
SOF personnel are an example of service members supporting high-stress operations. The nature of their work is sensitive, and they make frequent deployments, often on short notice. They have strong resilience skills because of SOF selection screenings and their follow-on training. However, they aren't immune to the effects of high-stress operations. In one survey about twice as many members of SOF units reported symptoms associated with PTSD when compared to members of conventional units. Others, like drone pilots, face similar stressors. Executing critical missions, dealing with life-and-death decisions and safeguarding classified information all adds up. That makes robust skills for managing stress crucial if you're in these types of roles.</p><h2><strong>Skills That Aid Job Performance Under High Stress</strong></h2><p>
The ability to perform under high stress is critical to mission readiness. Service members, like special operators, use stress inoculation training to stay focused and effective when the going gets tough. This type of training teaches you skills to manage stress responses at critical times by:</p><ol>
    <li>
    Controlling emotions. Reduce negative thinking and fear. This avoids distracting thoughts during a critical mission.</li>
    <li>
    Calming physical reactions to stress. Use regular, slow breathing from your diaphragm and progressive muscle relaxation. This reduces your heart rate and anxiety.</li>
    <li>
    Training with repetition. Repeat tasks that require a consistent response until you can do them on autopilot.</li>
    <li>
    Visualizing tasks. Envision successfully using your skills in action right before you need them.</li>
    <li>
    Learning prioritization. Order tasks to deal with information overload and manage multiple high-priority assignments at the same time.</li>
    <li>
    Building team skills. Communicate, give constructive feedback, coordinate group efforts and ask for help when needed.</li>
</ol><p>Additional skills woven into service-specific trainings for high-stress operations include:</p><ul>
    <li>
    Goal-setting</li>
    <li>
    Persistence</li>
    <li>
    Situational awareness</li>
    <li>
    Attentional conditioning</li>
    <li>
    Muscle control</li>
</ul><h2><strong>Stress Reduction Techniques</strong></h2><ul>
    <li>
    All warriors with high-stress jobs can benefit from basic stress-reduction techniques. To reduce stress:</li>
    <li>
    Exercise regularly. Cardio and strength training reduce stress levels and keep you mission ready.</li>
    <li>
    Get good sleep. Poor sleep or not enough sleep has a significant negative impact on wellbeing.</li>
    <li>
    Eat healthy. A good diet helps keep your body and mind in shape.</li>
    <li>
    Participate in relaxing activities. Breathing-based meditation and yoga, for example, can improve symptoms and reduce anxiety.</li>
    <li>
    Stay connected. The support of friends and family improves psychological health when facing stress.</li>
</ul><p>
Remember, reaching out is a sign of strength. If you or a loved one needs additional support, contact the Psychological Health Resource Center 24/7 to confidentially speak with trained health resource consultants. Call 866-966-1020 or use the Real Warriors Live Chat. You can also see a list of key psychological health resources here.</p><h2>Additional Resources:</h2><ul>
    <li>
    <a href="https://health.mil/Military-Health-Topics/Centers-of-Excellence/Psychological-Health-Center-of-Excellence/Psychological-Health-Resource-Center" target="_self" title="Opens Health.mil">Psychological Health Resource Center</a></li>
    <li>
    <a rel="noopener noreferrer" href="http://www.militaryonesource.mil/" target="_blank" title="Opens MOS ">Military OneSource</a></li>
    <li>
    <a rel="noopener noreferrer" href="https://www.nimh.nih.gov/health/publications/stress/index.shtml" target="_blank" title="Opens NIH">National Institute of Mental Health “5 Things You Should Know about Stress”</a></li>
    <li>
    <a rel="noopener noreferrer" href="https://www.ptsd.va.gov/index.asp" target="_blank" title="Opens VA">Department of Veterans Affairs National Center for PTSD</a></li>
</ul><h2>
Sources:</h2><ol>
    <li>
    Bryan, C. J., Stephenson, J. A., Morrow, C. E., Staal, M., &amp; Haskell, J. (2014). Posttraumatic stress symptoms and work-related accomplishment as predictors of general health and medical utilization among special operations forces personnel. Journal of Nervous and Mental Disease, 202(2), 105-110. doi: 10.1097/NMD.0000000000000076.</li>
    <li>Chappelle, W., Goodman, T., Reardon, L., &amp; Thompson, W. (2014). An analysis of post-traumatic stress symptoms in United States Air Force drone operators. Journal of Anxiety Disorders, 28(2014), 480-487. Doi: 10.1016/j.janxdis.2014.05.003.</li>
    <li>Hing, M., Cabrera, J., Barstow, C., Forsten, R. (2012). Special operations forces and incidence of post-traumatic stress disorder symptoms. National Institutes of Health.</li>
    <li>Ogle, A. D., &amp; Young, J. A. (2016). USAF special tactics operator combat exposure and psychological stress. Military Psychology, 28(3), 123-133. doi: 10.1037/mil0000121.</li>
    <li>National Institute of Mental Health (NIMH), National Institutes of Health. (n.d.). 5 things you should know about stress.</li>
    <li>Robson, S. &amp; Manacapilli, T. (2014). Enhancing performance under stress. RAND.</li>
    <li>Russell, D. W., Benedek, D. M., Naifeh, J. A., Fullerton, C. S., Benevides, N., Ursano, R. J., Cacciopo, J. T. (2016). Social support and mental health outcomes among U.S. army special operations personnel. Military Psychology, 28(6), 361. doi: 10.1037/mil0000114.</li>
    <li>Seppälä, E. M., Nitschke, J. B., Tudorascu, D. L., Hayes, A., Goldstein, M. R., Nguyen, D. T., &amp; Davidson, R. J. (2014). Breathing-based meditation decreases posttraumatic stress disorder symptoms in US Military veterans: A randomized controlled longitudinal study. Journal of traumatic stress, 27(4), 397-405. doi: 10.1002/jts.21936.</li>
    <li>Skare, M., Hopkins, W. G., &amp; Solberg, P. A. (2017). Determinants of vitality during a training cycle in a cohort of special-forces operators(link is external). Military Psychology, 29(1), 1-10. doi: 10.1037/mil0000129.<br>
    &nbsp;</li>
</ol>
    
  </div>
	
	
</div>

                


                <p>
                    Last Updated: July 11, 2023
                </p>
            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[PID Without a PhD (2016) [pdf] (175 pts)]]></title>
            <link>https://www.wescottdesign.com/articles/pid/pidWithoutAPhd.pdf</link>
            <guid>39506420</guid>
            <pubDate>Mon, 26 Feb 2024 00:22:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wescottdesign.com/articles/pid/pidWithoutAPhd.pdf">https://www.wescottdesign.com/articles/pid/pidWithoutAPhd.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=39506420">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Profiteering Hampers U.S. Grid Expansion (161 pts)]]></title>
            <link>https://spectrum.ieee.org/transmission-expansion</link>
            <guid>39505592</guid>
            <pubDate>Sun, 25 Feb 2024 22:31:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://spectrum.ieee.org/transmission-expansion">https://spectrum.ieee.org/transmission-expansion</a>, See on <a href="https://news.ycombinator.com/item?id=39505592">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-headline="Profiteering Hampers U.S. Grid Expansion" data-elid="2667334015" data-post-url="https://spectrum.ieee.org/transmission-expansion" data-authors="Ari Peskoe" data-page-title="Profiteering Hampers U.S. Grid Expansion - IEEE Spectrum"><p>
	The United States is not building enough transmission lines to connect regional power networks. The deficit is driving up electricity prices, reducing grid reliability, and hobbling renewable-energy deployment.
</p><p>
	At the heart of the problem are utility companies that refuse to pursue interregional transmission projects, and sometimes even impede them, because new projects threaten their profits and disrupt their industry alliances. Utilities can stall transmission expansion because out-of-date laws sanction these companies’ sweeping control over transmission development.
</p><p>
	As we increasingly electrify our homes, transportation, and factories, utility companies’ choices about transmission will have huge consequences for the nation’s economy and well-being. About 40 corporations, valued at a trillion dollars, own the vast majority of transmission lines in the United States. Their grip over the backbone of U.S. grids demands public scrutiny and accountability.
</p><h2>Many Lines, Stable Power </h2><p>
	High-voltage transmission lines move large amounts of energy over long distances, linking power generation to consumption. A transmission network contains webs of connections, which create a reliable, redundant power-supply system of massive scale.
</p><p>
	At any given time, thousands of power plants supply just enough energy to transmission networks to meet demand. The rules that orchestrate the movement of electricity through this network determine who generates power, and how much. The goal is to keep the lights on at a low cost by utilizing an efficient mix of power plants.</p><p>
	Building more transmission increases the capacity and connectivity of the system, allowing new power plants to connect and more power to flow between transmission networks. This is 
	<a href="https://www.nber.org/papers/w32091" target="_blank">why utility companies are not embracing transmission</a> expansion. They don’t want their power plants to face competition or their regional alliances to lose control over their networks.
</p><p>
	Expansion can open opportunities for new power-plant and transmission developers to undercut utility companies’ profits and take control over the rules that shape the industry’s future. Utility companies are prioritizing their shareholders over the public’s need for cleaner, cheaper, and more reliable energy.
</p><h2>Old Alliances, Old Technology  </h2><p>
	Transmission networks in the United States, which move alternating current, were built over the last century largely by for-profit utility companies, and to a lesser extent by nonprofit utilities operated by governments and local communities. The lines tend to be concentrated around fossil-fuel reserves and population centers but are also shaped by historic utility alliances.
</p><p>
	Where utilities agreed to trade energy, they built sufficient transmission to move power between their local service territories. As utility alliances expanded, transmission networks grew to include new members, but connections to nonallied utilities tended to be weaker.
</p><p>
	The result of these generations-old alliances is a U.S. system fragmented into 
	<a href="https://www.niskanencenter.org/ferc-is-coalescing-around-the-idea-of-minimum-transfer-capacity-but-needs-data-and-definitions/" target="_blank">about a dozen regions</a> with limited connectivity between them. The regions are distributed across three separate and largely isolated networks, called “<a href="https://spectrum.ieee.org/why-does-the-us-have-three-electrical-grids" target="_self">interconnections</a>”–Eastern, Western, and most of Texas.
</p><p>
	An October 2023 
	<a href="https://www.energy.gov/sites/default/files/2023-12/National%20Transmission%20Needs%20Study%20-%20Final_2023.12.1.pdf" target="_blank">report</a> from the U.S. Department of Energy reveals the severity of the problem. Based on studies conducted by national labs and academic researchers, the DoE calculated that interregional transmission in the United States must expand as much as <em>fivefold</em> to maintain reliability and improve resilience to extreme weather and provide access to low-cost clean energy.
</p><p>
	The value of linking regional networks 
	<a href="https://cleanenergygrid.org/wp-content/uploads/2020/11/Macro-Grids-in-the-Mainstream-1.pdf" target="_blank">is widely</a> accepted globally. The European Commission in 2018 <a href="https://perma.cc/JUF9-XR2X" target="_blank">set a target</a> for each member country to transmit across its borders at least 15 percent of the electricity produced in its territories. By the end of 2022, <a href="https://perma.cc/DHY7-BZVK" target="_blank">23 gigawatts</a> of cross-border connections in Europe were under construction or in advanced stages of permitting, with <a href="https://tyndp.entsoe.eu/" target="_blank">much more on the way</a>.
</p><h2>Big Benefits   </h2><p>
	One of the main values of connecting regional networks is that it enables—and is in fact 
	<a href="https://www.nrel.gov/analysis/100-percent-clean-electricity-by-2035-study.html" target="_blank">critical</a> for—incorporating renewable energy. For instance, four <a href="https://cdn.misoenergy.org/JTIQ%20Report623262.pdf" target="_blank">proposed high-voltage lines</a> totaling 600 kilometers along the seam of regional networks in the upper Midwest could connect at least 28 gigawatts of wind and solar. These lines have been on the drawing board for years, but utilities in the neighboring regions have not moved them forward. The cost of the project, estimated at <a href="https://www.rtoinsider.com/miso-spp-jtiq-portfolio-cost-estimate-doubles/" target="_blank">US $1.9 billion</a>, may seem like a major investment, but it is a fraction of what U.S. utilities spend each year rebuilding aging transmission infrastructure.
</p><p>
	Plus, adding interregional transmission for renewables can 
	<a href="https://ieeexplore.ieee.org/document/9770742" target="_blank">significantly reduce costs</a> for consumers. Such connections allow excess wind and solar power to flow to neighboring regions when weather conditions are favorable and allow the import of energy from elsewhere when renewables are less productive.
</p><p><img id="1ef1e" data-rm-shortcode-id="695b805700fe6930d8142a10f4fb97e5" data-rm-shortcode-name="rebelmouse-image" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/map-of-proposed-new-transmission-lines-totaling-600km-in-the-upper-midwest.png?id=51528749&amp;width=980" data-runner-src="https://spectrum.ieee.org/media-library/map-of-proposed-new-transmission-lines-totaling-600km-in-the-upper-midwest.png?id=51528749&amp;width=980" width="4347" height="2469" alt="Map of proposed new transmission lines totaling 600km in the upper Midwest "><small placeholder="Add Photo Caption...">Proposed new transmission lines in the upper Midwest could connect at least 28 gigawatts of wind and solar to regional networks.</small><small placeholder="Add Photo Credit...">Joint Targeted Interconnection Queue Study (JTIQ), MISO, SPP</small></p><p><span>Even without renewables, better integrated networks generally lower costs for consumers because they </span><a href="https://www.nrel.gov/docs/fy12osti/53482.pdf" target="_blank">reduce</a><span> the amount of generation </span><span>capacity</span> needed overall and <a href="https://emp.lbl.gov/news/regional-and-interregional-transmission-have" target="_blank">decrease</a> energy market prices. Interregional transmission also <span>enhances </span><span>reliability,</span><span>particularly during extreme weather.</span><br></p><p>
	In December 2022, Winter Storm Elliott 
	<a href="https://www.ferc.gov/media/winter-storm-elliott-report-inquiry-bulk-power-system-operations-during-december-2022" target="_blank">disabled power plants and pipelines </a>from North Dakota to Georgia, leading to power outages in the South and billions of dollars in excess energy charges across the Eastern United States. Limited interregional connections <a href="https://acore.org/resources/the-value-of-transmission-during-winter-storm-elliott/" target="_blank">staved off disaster</a>. These links moved electricity to where it was most needed, helping to avoid the sort of catastrophe that befell Texas’s isolated electric grid the year before, when a deep freeze left millions without power for days.
</p><h2>Power, Profit, and Control  </h2><p>
	But from the perspective of utility companies, interregional transmission presents several drawbacks. First, building such connections 
	<a href="https://www.nber.org/papers/w32091" target="_blank">opens the door for competitors</a> who may sell lower-priced power into their region. Second, utilities make far more money constructing power plants than <a href="https://public.tableau.com/app/profile/dan.slanger/viz/shared/ZDXJGTHJN" target="_blank">building transmission lines</a>, so they are reluctant to build connections that might permanently reduce their opportunities for future generation investments.
</p><p><img id="1ea95" data-rm-shortcode-id="6ce0d3ee56e6ed4ddab7516df20d9ea5" data-rm-shortcode-name="rebelmouse-image" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/graph-comparing-existing-transmission-with-anticipated-need-by-2035-for-18-regions-in-the-u-s.png?id=51524814&amp;width=980" data-runner-src="https://spectrum.ieee.org/media-library/graph-comparing-existing-transmission-with-anticipated-need-by-2035-for-18-regions-in-the-u-s.png?id=51524814&amp;width=980" width="2844" height="1867" alt="Graph comparing existing transmission with anticipated need by 2035 for 18 regions in the U.S."><small placeholder="Add Photo Caption...">This comparison of current interregional transfer capacity and anticipated need shows that regions will need to increase transmission significantly, assuming moderate load and high clean-energy growth.</small><small placeholder="Add Photo Credit...">“National Transmission Needs Study,” U.S. Department of Energy</small></p><p>
	Third, major interregional transmission projects are less financially attractive to utility companies in comparison with smaller ones. For larger projects, utilities may have to compete against other developers for the opportunity to profit from construction. The utility industry sponsors 
	<a href="https://elibrary.ferc.gov/eLibrary/filelist?accession_number=20230323-5161&amp;optimized=false" target="_blank">third-party oversight</a> of such projects, while smaller projects are less scrutinized by the industry. Smaller projects <a href="https://elibrary.ferc.gov/eLibrary/filelist?accession_number=20230323-5189&amp;optimized=false" target="_blank">are easier to pull off</a> and <a href="https://perma.cc/SY72-QY45" target="_blank">more profitable</a> than the larger ones, because they need fewer construction permits, face less review by regulators and industry, and are built by utilities without competition from other developers.
</p><p>
	Fourth, interregional lines threaten utility companies’ dominance over the nation’s power supply. In the power industry, 
	<a href="https://www.eba-net.org/wp-content/uploads/2023/11/8-Peskoe547-618.pdf" target="_blank">asset ownership provides control</a> over rules that govern energy markets and transmission service and expansion. When upstart entities build power plants and transmission lines, they may be able to dilute utility companies’ control over power-industry rules and prevent utilities from dictating decisions about transmission expansion.
</p><h2>Help on the Hill  </h2><p>
	Addressing the transmission shortage is on the agenda in Washington, but utility companies are lobbying against reforms. In September, Senator John Hickenlooper (D-Colo.) and Representative Scott Peters (D-Calif.) introduced the 
	<a href="https://www.hickenlooper.senate.gov/press_releases/hickenlooper-peters-introduce-big-wires-act-to-reform-permitting-lower-energy-costs/" target="_blank">BIG WIRES Act</a> to force utilities or competing developers to build more interregional links. In 2022, Senator Joe Manchin (D-W.Va.) <a href="https://energy.senate.gov/2022/12/manchin-releases-permitting-text-and-urges-colleagues-to-support-mvp-and-permitting-amendment-to-ndaa" target="_blank">proposed an approach</a> in which transmission developers recommend projects to the DoE. If the agency deems a project to be in the national interest, federal regulators could permit the project’s construction and force utilities to pay for it.
</p><p>
	Meanwhile, the Federal Energy Regulatory Commission (FERC) is currently reevaluating how utilities develop and operate transmission networks and 
	<a href="https://www.utilitydive.com/news/ferc-proposed-transmission-planning-rule-phillips-clements/700423/" target="_blank">may issue new rules</a> in the coming months. In response, utilities are preparing litigation that could strip FERC of authority to impose any transmission rules at all. Their goal is to protect their profits and control, even if it comes at the consumer’s expense.
</p><p>
	The U.S. Department of Energy is pitching in too. On 6 February, the department announced it would award $1.2 billion to support new high-voltage transmission lines, on top of the $1.3 billion it provided last fall to three interstate projects. Later this year, it plans to unveil its long-awaited 
	<a href="https://www.federalregister.gov/documents/2022/01/19/2022-00883/building-a-better-grid-initiative-to-upgrade-and-expand-the-nations-electric-transmission-grid-to" target="_blank">national plan</a> for a large-scale transmission build-out. But without industry support or tens of billions in additional funding from Congress to build these projects, the agency’s vision will not be realized.
</p><h2>Leading With Technology  </h2><p>
	New business models and technologies offer hope. Investors and entrepreneurs are developing long-distance 
	<a href="https://spectrum.ieee.org/multiterminal-hvdc-networks" target="_self">direct-current lines</a>, which are <a href="https://spectrum.ieee.org/multiterminal-hvdc-networks" target="_self">more efficient at moving</a> large amounts of energy over long distances, compared with AC. These DC projects sidestep the utility-dominated transmission-expansion planning processes.
</p><p>
	Many high-voltage DC (HVDC) transmission lines are already in operation, especially in 
	<a href="https://spectrum.ieee.org/chinas-ambitious-plan-to-build-the-worlds-biggest-supergrid" target="_self">China</a> and Europe. In fact, DC lines are now the <a href="https://tyndp.entsoe.eu/explore/about-the-tyndp-project-portfolio" target="_blank">preferred choice in Europe’s plans</a> to unite the continent.
</p><p>
	The United States lacks a coordinated national planning effort to connect regional networks, but developers can make progress project by project. For example, future DC lines will connect generators in 
	<a href="https://grainbeltexpress.com/" target="_blank">Kansas to a neighboring network in Illinois,</a> stretch from <a href="https://www.transwestexpress.net/" target="_blank">Wyoming to California</a>, and <a href="https://patternenergy.com/projects/sunzia/" target="_blank">move wind and solar energy</a><a href="https://patternenergy.com/projects/sunzia/" target="_blank"> across the Southwest</a>. Each of these projects will move renewable energy from where it can be generated cheaply to larger markets where power prices are higher, and in doing so they will help bolster the country’s regional transmission networks.
</p><p>
	These pioneering projects show that utility companies in the United States don’t have to build interregional lines, but they do need to get out of the way. Transmission rules written by utilities and their industry allies can 
	<a href="https://www.ferc.gov/sites/default/files/2020-06/E-19-061820.pdf" target="_blank">obstruct</a>, <a href="https://elibrary.ferc.gov/eLibrary/filedownload?fileid=6DB63A1D-ACDF-C2A8-87D9-8CF539B00000" target="_blank">delay</a>, and <a href="https://elibrary.ferc.gov/eLibrary/filedownload?fileid=15816262" target="_blank">add costs</a> to these new projects. Streamlining federal and state permitting processes can encourage more investment, but cutting government red tape will not neutralize utility companies’ objections to interregional transmission.
</p><p>
	U.S. regulators and Congress must press forward. Promising proposals that promote new business models and limit utility control are on the table. Our energy future is on the line.  
	<br></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Inside North Korea's Forced Labor Program (313 pts)]]></title>
            <link>https://www.newyorker.com/magazine/2024/03/04/inside-north-koreas-forced-labor-program-in-china</link>
            <guid>39504981</guid>
            <pubDate>Sun, 25 Feb 2024 21:31:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.newyorker.com/magazine/2024/03/04/inside-north-koreas-forced-labor-program-in-china">https://www.newyorker.com/magazine/2024/03/04/inside-north-koreas-forced-labor-program-in-china</a>, See on <a href="https://news.ycombinator.com/item?id=39504981">Hacker News</a></p>
<div id="readability-page-1" class="page"><div tabindex="-1" id="___gatsby"><div><div><nav><ul><li><a href="https://www.newyorker.com/news" aria-label="News">News</a></li><li><a href="https://www.newyorker.com/culture" aria-label="Books &amp;amp; Culture">Books &amp; Culture</a></li><li><a href="https://www.newyorker.com/fiction-and-poetry" aria-label="Fiction &amp;amp; Poetry">Fiction &amp; Poetry</a></li><li><a href="https://www.newyorker.com/humor" aria-label="Humor &amp;amp; Cartoons">Humor &amp; Cartoons</a></li><li><a href="https://www.newyorker.com/magazine" aria-label="Magazine">Magazine</a></li><li><a href="https://www.newyorker.com/crossword-puzzles-and-games" aria-label="Puzzles &amp;amp; Games">Puzzles &amp; Games</a></li><li><a href="https://video.newyorker.com/" aria-label="Video">Video</a></li><li><a href="https://www.newyorker.com/podcast" aria-label="Podcasts">Podcasts</a></li><li><a href="https://www.newyorker.com/archive" aria-label="Archive">Archive</a></li><li><a href="https://store.newyorker.com/archive" aria-label="Shop">Shop</a></li></ul></nav></div><header></header></div><div><div><div><picture><source srcset="https://downloads.newyorker.com/projects/2024/240226-north-korea-urbina/opener/top_clouds_xl.png" media="(min-width: 1441px)"><img loading="auto" src="https://downloads.newyorker.com/projects/2024/240226-north-korea-urbina/opener/top_clouds_lg.png" alt=""></picture></div><div><h2>Inside<br>North Korea's<br>Forced-Labor<br>Program</h2><p>Workers sent from the country to Chinese factories describe enduring beatings and sexual abuse, having their wages taken by the state, and being told that if they try to escape they will be “killed without a trace.”
</p><p><time>February 6, 2024
</time></p></div><div><picture><source srcset="https://downloads.newyorker.com/projects/2024/240226-north-korea-urbina/opener/main_image_xl.png" media="(min-width: 1441px)"><source srcset="https://downloads.newyorker.com/projects/2024/240226-north-korea-urbina/opener/main_image_lg.png" media="(min-width: 768px)"><img loading="auto" src="https://downloads.newyorker.com/projects/2024/240226-north-korea-urbina/opener/main_image_sm.png" alt=""></picture></div></div><p>Illustration by Cleon Peterson</p></div><div><p><em>In February of last year</em>, Donggang Jinhui Foodstuff, a seafood-processing company in Dandong, China, threw a party. It had been a successful year: a new plant had opened, and the company had doubled the amount of squid that it exported to the United States. The party, according to videos posted on Douyin, the Chinese version of TikTok, featured singers, instrumentalists, dancers, fireworks, and strobe lights. One aspect of the company’s success seems to have been its use of North Korean workers, who are sent by their government to work in Chinese factories, in conditions of captivity, to earn money for the state. A seafood trader who does business with Jinhui recently estimated that it employed between fifty and seventy North Koreans. Videos posted by a company representative show machines labelled in Korean, and workers with North Korean accents explaining how to clean squid. At the party, the company played songs that are popular in Pyongyang, including “People Bring Glory to Our Party” (written by North Korea’s 1989 poet laureate) and “We Will Go to Mt. Paektu” (a reference to the widely mythologized birthplace of Kim Jong Il). Performers wore North Korean colors, and the country’s flag billowed behind them; in the audience, dozens of workers held miniature flags.</p><div><figure><figcaption><p><span>A party held by Donggang Jinhui Foodstuff, a seafood-processing company in Dandong, China, last year, included what appeared to be North Korean workers.</span><span>Source: Douyin</span></p></figcaption></figure></div><div><p>Drone footage played at the event showed off Jinhui’s twenty-one-acre, fenced-in compound, which has processing and cold-storage facilities and what appears to be a seven-floor dormitory for workers. The company touted a wide array of Western certifications from organizations that claim to check workplaces for labor violations, including the use of North Korean workers. When videos of the party were posted online, a commenter—presumably befuddled, because using these workers violates U.N. sanctions—asked, “Aren’t you prohibited from filming this?”</p><p>Like Jinhui, many companies in China rely on a vast program of forced labor from North Korea. (Jinhui did not respond to requests for comment.) The program is run by various entities in the North Korean government, including a secretive agency called Room 39, which oversees activities such as money laundering and cyberattacks, and which funds the country’s nuclear- and ballistic-missile programs. (The agency is so named, according to some defectors, because it is based in the ninth room on the third floor of the Korean Workers’ Party headquarters.) Such labor transfers are not new. In 2012, North Korea sent some forty thousand workers to China. A portion of their salaries was taken by the state, providing a vital source of foreign currency for Party officials: at the time, a Seoul-based think tank estimated that the country made as much as $2.3 billion a year through the program. Since then, North Koreans have been sent to Russia, Poland, Qatar, Uruguay, and Mali.</p><p>In 2017, after North Korea tested a series of nuclear and ballistic weapons, the United Nations imposed sanctions that prohibit foreign companies from using North Korean workers. The U.S. passed a law that established a “rebuttable presumption” categorizing work by North Koreans as forced labor unless proven otherwise, and levying fines on companies that import goods tied to these workers. China is supposed to enforce the sanctions in a similar manner. Nevertheless, according to State Department estimates, there are currently as many as a hundred thousand North Koreans working in the country. Many work at construction companies, textile factories, and software firms. Some also process seafood. In 2022, according to Chinese officials running pandemic quarantines, there were some eighty thousand North Koreans just in Dandong, a hub of the seafood industry.</p><p>Last year, I set out with a team of researchers to document this phenomenon. We reviewed leaked government documents, promotional materials, satellite imagery, online forums, and local news reports. We watched hundreds of cell-phone videos published on social-media sites. In some, the presence of North Koreans was explicit. Others were examined by experts to detect North Korean accents, language usage, and other cultural markers. Reporting in China is tightly restricted for Western reporters. But we hired Chinese investigators to visit factories and record footage of production lines. I also secretly sent interview questions, through another group of investigators and their contacts, to two dozen North Koreans—twenty workers and four managers—who had recently spent time in Chinese factories. Their anonymous responses were transcribed and sent back to me.</p></div></div><div><p>The workers, all of whom are women, described conditions of confinement and violence at the plants. Workers are held in compounds, sometimes behind barbed wire, under the watch of security agents. Many work gruelling shifts and get at most one day off a month. Several described being beaten by the managers sent by North Korea to watch them. “It was like prison for me,” one woman said. “At first, I almost vomited at how bad it was, and, just when I got used to it, the supervisors would tell us to shut up, and curse if we talked.” Many described enduring sexual assault at the hands of their managers. “They would say I’m fuckable and then suddenly grab my body and grope my breasts and put their dirty mouth on mine and be disgusting,” a woman who did product transport at a plant in the city of Dalian said. Another, who worked at Jinhui, said, “The worst and saddest moment was when I was forced to have sexual relations when we were brought to a party with alcohol.” The workers described being kept at the factories against their will, and being threatened with severe punishment if they tried to escape. A woman who was at a factory called Dalian Haiqing Food for more than four years said, “It’s often emphasized that, if you are caught running away, you will be killed without a trace.”</p><p>In all, I identified fifteen seafood-processing plants that together seem to have used more than a thousand North Korean workers since 2017. China officially denies that North Korean laborers are in the country. But their presence is an open secret. “They are easy to distinguish,” a Dandong native wrote in a comment on Bilibili, a video-sharing site. “They all wear uniform clothes, have a leader, and follow orders.” Often, footage of the workers ends up online. In a video from a plant called Dandong Yuanyi Refined Seafoods, a dozen women perform a synchronized dance in front of a mural commemorating Youth Day, a North Korean holiday. The video features a North Korean flag emoji and the caption “Beautiful little women from North Korea in Donggang’s cold-storage facility.” (The company did not respond to requests for comment.) Remco Breuker, a North Korea specialist at Leiden University, in the Netherlands, told me, “Hundreds of thousands of North Korean workers have for decades slaved away in China and elsewhere, enriching their leader and his party while facing unconscionable abuse.”</p></div><div><div><figure><div><picture><img loading="lazy" src="https://downloads.newyorker.com/projects/2024/240226-north-korea-urbina/photos/office_manager_north_korea.jpg" alt="A photo of an office that had a wooden desk with two miniature flags, one Chinese and one North Korean. The walls around the desk are bare except for two portraits of the past North Korean leaders Kim Il Sung and Kim Jong Il."></picture></div><figcaption><p><span>An investigator visited a plant called Donggang Haimeng Foodstuff, last year, and found a North Korean manager sitting at a wooden desk with two miniature flags, one Chinese and one North Korean. The walls around the desk were mostly bare except for two portraits of the past North Korean leaders Kim Il Sung and Kim Jong Il. Portions of this image have been blurred to protect sources.</span><span>Photograph from The Outlaw Ocean Project</span></p></figcaption></figure></div><div><p>In late 2023, an investigator hired by my team visited a Chinese plant called Donggang Xinxin Foodstuff. He found hundreds of North Korean women working under a red banner that read, in Korean, “Let’s carry out the resolution of the 8th Congress of the Workers’ Party.” (The company did not respond to requests for comment.) Soon afterward, the investigator visited a nearby plant called Donggang Haimeng Foodstuff, and found a North Korean manager sitting at a wooden desk with two miniature flags, one Chinese and one North Korean. The walls around the desk were mostly bare except for two portraits of the past North Korean leaders Kim Il Sung and Kim Jong Il. The manager took our investigator to the workers’ cafeteria to eat a North Korean cold-noodle dish called <em>naengmyeon</em>, and then gave him a tour of the processing floor. Several hundred North Korean women dressed in red uniforms, plastic aprons, and white rubber boots stood shoulder to shoulder at long metal tables under harsh lights, hunched over plastic baskets of seafood, slicing and sorting products by hand. “They work hard,” the manager said. The factory has exported thousands of tons of fish to companies that supply major U.S. retailers, including Walmart and ShopRite. (A spokesperson for Donggang Haimeng said that it does not hire North Korean workers.)</p><p>At times, China aggressively conceals the existence of the program. Alexander Dukalskis, a political-science professor at University College Dublin, said that workers have a hard time making their conditions known. “They’re in a country where they may not speak the language, are under surveillance, usually living collectively, and have no experience in contacting journalists,” he said. In late November, after my team’s investigators visited several plants, authorities distributed pamphlets on the country’s anti-espionage laws. Local officials announced that people who try “to contact North Korean workers, or to approach the workplaces of North Korean workers, will be treated as engaging in espionage activities that endanger national security, and will be punished severely.” They also warned that people who were found to be working in connection with foreign media outlets would face consequences under the Anti-Espionage Act.</p></div></div><div><div><figure><div><picture><source srcset="https://downloads.newyorker.com/projects/2024/240226-north-korea-urbina/map/north_korea_china_border_desktop_02.jpg" media="(min-width: 1024px)"><img loading="lazy" src="https://downloads.newyorker.com/projects/2024/240226-north-korea-urbina/map/north_korea_china_border_mobile_02.jpg"></picture></div><figcaption><p><span>The border between China and North Korea.</span></p></figcaption></figure></div><div><p><em>Dandong, a city of more than two million people</em>, sits on the Yalu River, just over the border from North Korea. The Sino-Korean Friendship Bridge links Dandong to the North Korean city of Sinuiju. A second bridge, bombed during the Korean War, still extends partway across the river, and serves as a platform from which Chinese residents can view the North Koreans living six hundred yards away. The Friendship Bridge is one of the Hermit Kingdom’s few gateways to the world. Some trade with North Korea is allowed under U.N. sanctions, and nearly seventy per cent of the goods exchanged between that country and China travel across this bridge. At least one department store in Dandong keeps a list of products preferred by North Korean customers. Shops sell North Korean ginseng, beer, and “7.27” cigarettes, named for the date on which the armistice ending the Korean War was signed. The city is home to a museum about the conflict, officially called the Memorial Hall of the War to Resist U.S. Aggression and Aid Korea. On boat tours, Chinese tourists purchase bags of biscuits to toss to children on the North Korean side of the river.</p><p>Government officials carefully select workers to send to China, screening them for their political loyalties to reduce the risk of defections. To qualify, a person must generally have a job at a North Korean company and a positive evaluation from a local Party official. “These checks start at the neighborhood,” Breuker said. Candidates who have family in China, or a relative who has already defected, can be disqualified. For some positions, applicants under twenty-seven years of age who are unmarried must have living parents, who can be punished if they try to defect, according to a report from the South Korean government; applicants over twenty-seven must be married. North Korean authorities even select for height: the country’s population is chronically malnourished, and the state prefers candidates who are taller than five feet one, to avoid the official embarrassment of being represented abroad by short people. Once selected, applicants go through pre-departure training, which can last a year and often includes government-run classes covering everything from Chinese customs and etiquette to “enemy operations” and the activities of other countries’ intelligence agencies. (The North Korean government did not respond to requests for comment.)</p><p>The governments of both countries coördinate to place workers, most of whom are women, with seafood companies. The logistics are often handled by local Chinese recruitment agencies, and advertisements can be found online. A video posted on Douyin this past September announced the availability of twenty-five hundred North Koreans, and a commenter asked if they could be sent to seafood factories. A post on a forum advertised five thousand workers; a commenter asked if any spoke Mandarin, and the poster replied, “There is a team leader, management, and an interpreter.” A company called Jinuo Human Resources posted, “I am a human-resources company coöperating with the embassy, and currently have a large number of regular North Korean workers.” Several people expressed interest. (The company did not respond to requests for comment.)</p><p>Jobs in China are coveted in North Korea, because they often come with contracts promising salaries of around two hundred and seventy dollars a month. (Similar work in North Korea pays just three dollars a month.) But the jobs come with hidden costs. Workers usually sign two- or three-year contracts. When they arrive in China, managers confiscate their passports. Inside the factories, North Korean workers wear different uniforms than Chinese workers. “Without this, we couldn’t tell if one disappeared,” a manager said. Shifts run as long as sixteen hours. If workers attempt to escape, or complain to people outside the plants, their families at home can face reprisals. One seafood worker described how managers cursed at her and flicked cigarette butts. “I felt bad, and I wanted to fight them, but I had to endure,” she said. “That was when I was sad.”</p><div><h6>The Daily
</h6><p>Sign up to receive the best of <em>The New Yorker</em>, every day, in your in-box, plus occasional news alerts.
</p></div><p>Workers get few, if any, holidays or sick days. At seafood plants, the women sleep in bunk beds in locked dormitories, sometimes thirty to a room. One worker, who spent four years processing clams in Dandong, estimated that more than sixty per cent of her co-workers suffered from depression. “We regretted coming to China but couldn’t go back empty-handed,” she said. Workers are forbidden to tune in to local TV or radio. They are sometimes allowed to leave factory grounds—say, to go shopping—but generally in groups of no more than three, and accompanied by a minder. Mail is scrutinized by North Korean security agents who also “surveil the daily life and report back with official reports,” one manager said. Sometimes the women are allowed to socialize. In a video titled “North Korean beauties working in China play volleyball,” posted in 2022, women in blue-and-white uniforms exercise on the grounds of the Dandong Omeca Food seafood plant. (The company that owns the plant did not respond to requests for comment.) A commenter wrote, “The joy of poverty. That’s just how it is.”</p><p>Factories typically give the women’s money to their managers, who take cuts for themselves and the government, and hold on to the rest until the workers’ terms in China end. Kim Jieun, a North Korean defector who now works for Radio Free Asia, said that companies tell workers their money is safer this way, because it could be stolen in the dormitories. But, in the end, workers often see less than ten per cent of their promised salary. One contract that I reviewed stipulated that around forty dollars would be deducted each month by the state to pay for food. More is sometimes deducted for electricity, housing, heat, water, insurance, and “loyalty” payments to the state. Managers also hold on to wages to discourage defections. The women have been warned, Kim added, that if they try to defect “they will be immediately caught by Chinese CCTV cameras installed everywhere.” This past October, Chinese authorities repatriated around six hundred North Korean defectors. “China does not recognize North Korean defectors as refugees,” Edward Howell, who teaches politics at Oxford University, told me. “If they are caught by Chinese authorities, they will be forcibly returned to the D.P.R.K., where they face harsh punishment in labor camps.”</p></div></div><div><p>Chinese companies have significant incentives to use North Korean workers. They’re typically paid only a quarter of what local employees earn. And they are generally excluded from mandatory social-welfare programs (regarding retirement, medical treatment, work-related injury, and maternity), which further reduces costs. In 2017, Dandong’s Commerce Bureau announced a plan to create a cluster of garment factories that would use North Korean labor. The bureau’s Web site noted that all such workers undergo political screenings to make sure they are “rooted, red, and upright.” “The discipline among the workers is extremely strong,” it added. “There are no instances of absenteeism or insubordination toward leadership, and there are no occurrences of feigning illness or delaying work.” China’s Ministry of Foreign Affairs did not respond to questions for this piece, but last year the Chinese Ambassador to the U.N. wrote that China has abided by sanctions even though it has sustained “great losses” as a result. A spokesperson for the Ministry of Foreign Affairs recently said that China and North Korea have “enjoyed long-standing friendly ties,” adding, “The United States needs to draw lessons, correct course, step up to its responsibility, stop heightening the pressure and sanctions, stop military deterrence, and take effective steps to resume meaningful dialogue.”</p><p>North Koreans face difficult circumstances across industries. In January of this year, more than two thousand workers rioted in Jilin Province, breaking sewing machines and kitchen utensils, when they learned that their wages would be withheld. Many North Koreans—perhaps thousands—work in Russian logging, in brutal winter weather without proper clothing. Hundreds have been found working in the Russian construction industry; some lived in shipping containers or in the basements of buildings under construction, because better accommodations were not provided. One recounted working shifts that lasted from 7:30 <small>A</small>.<small>M</small>. to 3 <small>A</small>.<small>M</small>. In preparation for the 2018 and 2022 World Cups, held in Russia and Qatar, thousands of North Koreans were sent to build stadiums and luxury apartments. A subcontractor who worked alongside the North Koreans in Russia told the <em>Guardian</em> that they lived in cramped spaces, with as many as eight people packed into a trailer, in an atmosphere of fear and abuse like “prisoners of war.”</p></div><div><div><figure><figcaption><p><span>At Donggang Haimeng, last year, several hundred workers, many of whom were North Korean, stood shoulder to shoulder at long metal tables under harsh lights. Dressed in head-to-toe red uniforms, plastic aprons, and white rain boots, they hunched over baskets of seafood, slicing and sorting products by hand.</span><span>Source: The Outlaw Ocean Project</span></p></figcaption></figure></div><div><p><em>Although it’s illegal</em> in the U.S. to import goods made with North Korean labor, the law can be difficult to enforce. Some eighty per cent of seafood consumed in America, for example, is imported, and much of it comes from China through opaque supply chains. To trace the importation of seafood from factories that appear to be using North Korean labor, my team reviewed trade data, shipping contracts, and the codes that are stamped on seafood packages to monitor food safety. We found that, since 2017, ten of these plants have together shipped more than a hundred and twenty thousand tons of seafood to more than seventy American importers, which supplied grocery stores including Walmart, Giant, ShopRite, and the online grocer Weee! The seafood from these importers also ended up at major restaurant chains, like McDonald’s, and with Sysco, the largest food distributor in the world, which supplies almost half a million restaurants, as well as the cafeterias on American military bases, in public schools, and for the U.S. Congress. (Walmart, Weee!, and McDonald’s did not respond to requests for comment. Giant’s parent company, Ahold Delhaize, and ShopRite’s parent company, Wakefern, said their suppliers claimed that they currently do not source from the Chinese plant in question, and added that audit reports showed no evidence of forced labor.)</p><p>Two of the plants that investigators from my team visited—Dandong Galicia Seafood and Dalian Haiqing Food—had an estimated fifty to seventy North Korean workers apiece. One worker who has been employed at Galicia said that the managers are “so stingy with money that they don’t allow us to get proper medical treatment even when we are sick.” Galicia and Haiqing have shipped roughly a hundred thousand tons of seafood to American importers since 2017, and Haiqing also shipped to an importer that supplies the cafeterias of the European Parliament. (Dalian Haiqing Food said that it “does not employ overseas North Korean workers.” Dandong Galicia Seafood did not respond to requests for comment. One of the U.S. importers tied to Haiqing, Trident Seafoods, said that audits “found no evidence or even suspicion” of North Korean labor at the plant. Several companies, including Trident, High Liner, and Sysco, said that they would sever ties with the plant while they conducted their own investigations. A spokesperson for the European Parliament said that its food contractor did not supply seafood from the plant.) Breuker, from Leiden University, told me that American customers quietly benefit from this arrangement. “This labor-transfer system is for North Korea and China as economically successful as it is morally reprehensible,” he said. “It’s also a boon for the West because of the cheap goods we get as a result.”</p><p>North Korea doesn’t just export seafood workers; it also exports fish—another means by which the government secures foreign currency. Importing North Korean seafood is forbidden by U.N. sanctions, but it also tends to be inexpensive, which encourages companies to skirt the rules. Sometimes Chinese fishing companies pay the North Korean government for illegal licenses to fish in North Korea’s waters. Sometimes they buy fish from other boats at sea: a letter from a North Korean, leaked in 2022, proposed selling ten thousand tons of squid to a Chinese company in return for more than eighteen million dollars and five hundred tons of diesel fuel. Sometimes the seafood is trucked over the border. This trade is poorly hidden. In October, a Chinese man who said his last name was Cui posted a video on Douyin advertising crabs from North Korea. When someone commented, “The goods can’t be shipped,” Cui responded with laughing emojis. In other videos, he explained that he operated a processing plant in North Korea, and gave information on the timing of shipments that he planned to send across the border. When I contacted Cui, he said that he had stopped importing North Korean seafood in 2016 (though the videos were actually from last year), and added, “It’s none of your business, and I don’t care who you are.” My team found that seafood from North Korea was imported by several American distributors, including HF Foods, which supplies more than fifteen thousand Asian restaurants in the U.S. (HF Foods did not respond to requests for comment.)</p></div></div><div><p>Chinese companies often claim that they are in compliance with labor laws because they have passed “social audits,” which are conducted by firms that inspect worksites for abuses. But half the Chinese plants that we found using North Korean workers have certifications from the Marine Stewardship Council, which is based in the U.K. and sets standards for granting sustainability certifications, but only to companies that have also passed social audits or other labor assessments. (Jackie Marks, an M.S.C. spokesperson, told me that these social audits are conducted by a third party, and that “We make no claims about setting standards on labor.”) Last year, one of my team’s investigators visited a seafood-processing plant in northeastern China called Dandong Taifeng Foodstuff. The company has been designated a “national brand,” a status reserved for the country’s most successful companies, and supplies thousands of tons of seafood to grocery stores in the U.S. and elsewhere. At the plant, our investigator was given a tour by a North Korean manager. On the factory floor, which was lit by bright fluorescent bulbs, more than a hundred and fifty North Korean women, most of them under thirty-five years old, wore head-to-toe white protective clothing, plastic aprons, white rubber boots, and red gloves that went up to their elbows. They stood with their heads down, moving red, yellow, and blue plastic bins of seafood. Water puddled at their feet. “Quick, quick,” one woman said to the other members of her small group. (Taifeng did not respond to requests for comment.) Just weeks after that visit, the plant was recertified by the Marine Stewardship Council.</p><p>Marcus Noland, who works at the Peterson Institute for International Economics, said, of social audits within the seafood industry, “The basic stance appears to be ‘See no evil.’&nbsp;” Skepticism of such audits is growing. In 2021, the U.S. State Department said that social audits in China are generally inadequate for identifying forced labor, in part because auditors rely on government translators and rarely speak directly to workers. Auditors can be reluctant to anger the companies that have hired them, and workers face reprisals for reporting abuses. This past November, U.S. Customs and Border Protection advised American companies that a credible assessment would require an “unannounced independent, third-party audit” and “interviews completed in native language.” Liana Foxvog, who works at a nonprofit called the Worker Rights Consortium, argues that assessments should involve other checks too, including off-site worker interviews. But she noted that most audits in China fall short even of C.B.P.’s standards.</p><p>Joshua Stanton, an attorney based in Washington, D.C., who helped draft the American law that banned goods produced with North Korean labor, argues that the government is not doing enough to enforce it. “The U.S. government will need to put more pressure on American companies, and those companies need to be more diligent about their suppliers and their supply chains, or face stricter sanctions,” he said. Chris Smith, a Republican congressman from New Jersey and a specialist on China, noted that social audits “create a Potemkin village.” He added, “The consequence is that millions of dollars, even federal dollars, are going to Chinese plants using North Korean workers, and that money then goes right into the hands of Kim Jong Un’s regime, which uses the money to arm our adversaries and repress its own people.”</p></div><div><div><p><em>Late last year</em>, when I set out to contact North Koreans who had been sent to China, I ran into significant obstacles. Western journalists are barred from entering North Korea, and citizens of the country are strictly prohibited from talking freely to reporters. I hired a team of investigators in South Korea who employ contacts in North Korea to get information out of the country for local and Western news outlets—for example, about food shortages, power outages, or the rise of anti-government graffiti. The investigators compiled a list of two dozen North Koreans who had been dispatched to a half-dozen different Chinese factories, most of whom had since returned home. The investigators’ contacts then met with these workers in secret, one-on-one, so that the workers wouldn’t know one another’s identity. The meetings usually occurred in open fields, or on the street, where it’s harder for security agents to conduct surveillance.</p><p>The workers were told that their responses would be shared publicly by an American journalism outlet. They faced considerable risk speaking out; experts told me that, if they were caught, they could be executed, and their families put in prison camps. But they agreed to talk because they believe that it is important for the rest of the world to know what happens to workers who are sent to China. The North Korean contacts transcribed their answers by hand, and then took photos of the completed questionnaires and sent them, using encrypted phones, to the investigators, who sent them to me. North Koreans who are still in China were interviewed in a similar fashion. Because of these layers of protection, it is, of course, impossible to fully verify the content of the interviews. But the responses were reviewed by experts to make sure that they are consistent with what is broadly known about the work-transfer program, and in line with interviews given by North Korean defectors. (Recently, the investigators checked in on the interviewers and interviewees, and everyone was safe.)</p></div><div><p>Transcribed interviews with North Korean workers. Portions have been blurred to protect sources.
</p><div><div><blockquote><p>“At first, I almost vomited at how bad it was, and, just when I got used to it, the supervisors would tell us to shut up, and curse if we talked.
”</p></blockquote></div><div><blockquote><p>“They called me in as if something happened in the room, and then coerced me into sex. They threatened me that, if I don’t comply, then they will send me back, or they will take out money from my living expenses.
”</p></blockquote></div><div><blockquote><p>“Earning money was good, but I kept thinking about the sexual assault and it was driving me crazy.
”</p></blockquote></div><div><blockquote><p>“They would say I’m fuckable and then suddenly grab my body and grope my breasts and put their dirty mouth on mine and be disgusting.
”</p></blockquote></div><div><blockquote><p>“Sixty to seventy per cent are depressed. We regretted coming to China but couldn’t go back empty-handed.
”</p></blockquote></div></div></div><div><p>In their answers, the workers described crushing loneliness. The work was arduous, the factories smelled, and violence was common. “They kicked us and treated us as subhuman,” the worker who processed clams in Dandong said. Asked if they could recount any happy moments, most said that there had been none. A few said that they felt relieved when they returned home and got some of their pay. “I was happy when the money wasn’t all taken out,” the woman who did product transport in Dalian said. One woman said that her experience at a Chinese plant made her feel like she “wanted to die.” Another said that she often felt tired and upset while she was working, but kept those thoughts to herself to avoid reprisals. “It was lonely,” she said. “I hated the military-like communal life.”</p><p>The most striking pattern was the women’s description of sexual abuse. Of twenty workers, seventeen said that they had been sexually assaulted by their North Korean managers. They described a range of tactics used to coerce them into having sex. Some managers pretended to wipe something from their uniforms, only to grope them. Some called them into their offices as if there were an emergency, then demanded sex. Others asked them to serve alcohol at a weekend party, then assaulted them there. “When they drank, they touched my body everywhere like playing with toys,” a woman said. The woman who did product transport in Dalian said, “When they suddenly put their mouths to mine, I wanted to throw up.” If the women didn’t comply, the managers could become violent. The worker who was at Haiqing for more than four years said, of her manager, “When he doesn’t get his way sexually, he gets angry and kicks me. . . . He calls me a ‘fucking bitch.’ ” Three of the women said that their managers had forced workers into prostitution. “Whenever they can, they flirt with us to the point of nausea and force us to have sex for money, and it’s even worse if you’re pretty,” another worker at Haiqing said. The worker from Jinhui noted, “Even when there was no work during the pandemic, the state demanded foreign-currency funds out of loyalty, so managers forced workers to sell their bodies.” The worker who spent more than four years at Haiqing said, of the managers, “They forced virgin workers into prostitution, claiming that they had to meet state-set quotas.”</p><p>The pandemic made life more difficult for many of the women. When China closed its borders, some found themselves trapped far from home. Often, their workplaces shut down, and they lost their incomes. North Korean workers sometimes pay bribes to government officials to secure posts in China, and, during the pandemic, many borrowed these funds from loan sharks. The loans, typically between two and three thousand dollars, came with high interest rates. Because of work stoppages in China, North Korean workers were unable to pay back their loans, and loan sharks sent thugs to their relatives’ homes to intimidate them. Some of their families had to sell their houses to settle the debts. In 2023, according to Radio Free Asia, two North Korean women at textile plants killed themselves. The worker who told me that she wanted to die said that such deaths are often kept hidden. “If someone dies from suicide, then the manager is responsible, so they keep it under wraps to keep it from being leaked to other workers or Chinese people,” she said.</p></div></div><div><p>This past year, pandemic restrictions were lifted, and the border between China and North Korea reopened. In August, some three hundred North Korean workers boarded ten buses in Dandong to go back home. Police officers lined up around the buses to prevent defections. In photos and a video of the event, some of the women can be seen hurriedly preparing to load large suitcases onto a neon-green bus, then riding away across the Friendship Bridge. In September, another three hundred boarded a passenger train to Sinuiju, and two hundred were repatriated by plane. Workers who return face intense questioning by officials. “They asked about every single thing that happened every day from morning to evening in China, about other workers, supervisors, and agents,” the worker who processed clams in Dandong explained. As 2023 ended, the North Korean government began planning to dispatch its next wave of workers. In the past couple of years, according to reporting by Hyemin Son, a North Korean defector who works for Radio Free Asia, labor brokers have requested that Chinese companies pay a large advance; they were being asked to pay ahead of time, one broker told her, because “Chinese companies cannot operate without North Korean manpower.”</p><p>Some North Korean workers have yet to go home. One woman said that she has spent the past several years gutting fish at a processing plant in Dalian. She described working late into the night and getting sores in her mouth from stress and exhaustion. In the questionnaire, I had asked about the worst part of her job, and she said, “When I am forced to have sex.” She also described a sense of imprisonment that felt suffocating. “If you show even the slightest attitude, they will treat you like an insect,” she said. “Living a life where we can’t see the outside world as we please is so difficult that it’s killing us.” ♦</p><p><em>This piece was produced with contributions from Joe Galvin, Maya Martin, Susan Ryan, Jake Conley, Austin Brush, and Daniel Murphy.</em></p><div><h3>More on China’s Seafood Industry
</h3><p>For more about China’s seafood industry, read “<a href="https://www.newyorker.com/magazine/2023/10/16/the-crimes-behind-the-seafood-you-eat">The Crimes Behind the Seafood You Eat</a>,” an immersive investigation into the human cost of China’s maritime expansion.
</p><p>Watch “<a href="https://www.newyorker.com/culture/the-new-yorker-documentary/squid-fleet-takes-you-into-the-opaque-world-of-chinese-fishing">Squid Fleet</a>,” a film that offers a close look at the gruelling work of squid fishing.
</p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Nekoweb – a retro static web hosting (321 pts)]]></title>
            <link>https://nekoweb.org/</link>
            <guid>39504715</guid>
            <pubDate>Sun, 25 Feb 2024 21:03:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nekoweb.org/">https://nekoweb.org/</a>, See on <a href="https://news.ycombinator.com/item?id=39504715">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>  <div><h2><img src="https://nekoweb.org/static/assets/cupicon.png"> Welcome To Nekoweb.org</h2><table><tbody><tr><td><p>Nekoweb is a free static website hosting service, created in <s>2022</s> <s>2023</s> 2024 by a group of coders, programmers and artists, passionate for the old web and personal websites.<br>Social media is too limiting. We believe that everyone should be able to freely express themselves in their own little corner of the web, without having to worry about things like algorithms, tracking, or advertisements.<br>Nekoweb is free of any advertisements, and is run completely by donations from its users.<br>Join us on our <a target="_blank" href="https://discord.gg/hvfHKyVS6b">discord</a> to chat with the community and the developers!<br></p><p>  <b>(Currently in SUPER DUPER Beta)</b></p></td><td><p>What makes nekoweb cool:</p><ul>  <!-- <li>All social functions are moved to your own website</li> --><li>Amazing customization abilities</li><li>Active development (kinda) and moderation team</li><li>Free of ads and tracking</li><li>No limits for file types</li><li>Coffee</li><li>Tea</li><li>Milk</li><li>and cats</li></ul></td></tr></tbody></table></div><h2><img src="https://nekoweb.org/static/assets/burger.gif"> Links</h2>      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Microsoft Is Driving Users Away (200 pts)]]></title>
            <link>https://christitus.com/microsoft-is-driving-users-away/</link>
            <guid>39504703</guid>
            <pubDate>Sun, 25 Feb 2024 21:01:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://christitus.com/microsoft-is-driving-users-away/">https://christitus.com/microsoft-is-driving-users-away/</a>, See on <a href="https://news.ycombinator.com/item?id=39504703">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <p>What will be the end of Windows? Microsoft.</p>
<p>I’ve been a lifelong Windows user since the 90s and even MS-DOS back in the 80s, but things are changing. I’ve been using other operating systems more and more. MacOS and Linux are getting mixed into my workflow more and Windows less. Why? Microsoft is actively angering it power users by removing features. By trying to simplify Windows they are actively making administering it worse.</p>
<h2 id="the-problem">The Problem</h2>
<p>Microsoft is in a panic from the continued loss of it’s user base. They are making some improvements like the GUI and cleaning up other elements that give a more cohesive look. No more mixing Metro UI and Legacy panels like Windows 10. While this is good on the surface, they aren’t fixing anything. In fact, things are about to get much worse with the removal of these panels. On Tuesday, I had a printer issue at a client site and I was going to pull up the “Devices and Printers” panel to manage the drives and printing default settings. In the most recent 22H2 Windows 11 update, they hid it!</p>
<p>Using old Control Panel (Start-&gt;Run-&gt;<code>control</code>)</p>
<p>Clicking on this will redirect you to the new settings printer that gives NO options to do any advanced troubleshooting and removes the ability to FIX the issue!</p>
<p>What about the old <code>control printers</code> shortcut? remapped to the new crap.</p>
<h2 id="the-solution">The Solution</h2>
<p>With any Windows problem, Microsoft never really removes ANYTHING! Remember, this company is still using legacy code from the 90s in spots and just slapping in new coat of paint on top of it every 5 years when they need to extract more money from its users.</p>
<p>To Access the old devices and printer use the run prompt and type the following:</p>
<div><pre tabindex="0"><code data-lang="fallback"><span><span>shell:::{A8A91A66-3A7D-4424-8D24-04E180695C7A}
</span></span></code></pre></div><p>Alternatively, you can create a new shortcut and assign the key combination to it.</p>
<ul>
<li>Create a new shortcut on your desktop</li>
<li>Set the location to: explorer.exe shell:::{A8A91A66-3A7D-4424-8D24-04E180695C7A}</li>
<li>Set the name to Devices and Printers</li>
<li>Choose the shortcut icon</li>
<li>Add the key combination shortcut (CTRL + ALT + D is default for this window)</li>
</ul>
<p>This provides you an easy to access link as well as overwriting the keyboard shortcut to open the old version.</p>
<p>Success for now…</p>
<h2 id="the-future">The Future</h2>
<p>MacOS and Linux will keep gaining market share. Microsoft needs to stop actively sabotaging it’s users. MacOS is bland and hasn’t changed in years, while Linux has a technical barrier of entry with little support. Yet, both of these options are better than modern Windows unless you need Gaming. However, Steam with it’s steamdeck might be changing the game…</p>
<h2 id="walkthrough-video">Walkthrough Video</h2>

<p>
  <iframe src="https://www.youtube.com/embed/q7JmN8_URGY" allowfullscreen="" title="YouTube Video"></iframe>
</p>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Pleasures by Aldous Huxley (1920) (196 pts)]]></title>
            <link>https://hackneybooks.co.uk/books/364/686/Pleasures.html</link>
            <guid>39504266</guid>
            <pubDate>Sun, 25 Feb 2024 20:09:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://hackneybooks.co.uk/books/364/686/Pleasures.html">https://hackneybooks.co.uk/books/364/686/Pleasures.html</a>, See on <a href="https://news.ycombinator.com/item?id=39504266">Hacker News</a></p>
<div id="readability-page-1" class="page">

<p>
Pleasures
<br>
<i>by Aldous Huxley</i>
</p>


<p>We have heard a great deal, since 1914,
about the things which are a menace
to civilization. First it was Prussian militarism;
then the Germans at large; then the
prolongation of the war; then the shortening
of the same; then, after a time, the Treaty of
Versailles; then French militarism - with, all
the while, a running accompaniment of such
minor menaces as Prohibition, Lord Northcliffe,
Mr. Bryan, Comstockery....</p>

<p>Civilization, however, has resisted the
combined attacks of these enemies wonderfully
well. For still, in 1923, it stands not
so very far from where it stood in that "giant
age before the flood" of nine years since.
Where, in relation to Neanderthal on the
one hand and Athens on the other, where
precisely it stood <i>then</i> is a question which
each may answer according to his taste. The
important fact is that these menaces to our
civilization, such as it is - menaces including
the largest war and the stupidest peace known
to history - have confined themselves in most
places and up till now to mere threats, barking
more furiously than they bite.</p>

<p>No, the dangers which confront our civilization
are not so much the external dangers - wild
men, wars and the bankruptcy that
wars bring after them. The most alarming
dangers are those which menace it from
within, that threaten the mind rather
than the body and estate of contemporary
man.</p>

<p>Of all the various poisons which modern
civilization, by a process of auto-intoxication,
brews quietly up within its own bowels,
few, it seems to me, are more deadly (while
none appears more harmless) than that curious
and appalling thing that is technically
known as "pleasure." "Pleasure" (I place
the word between inverted commas to show
that I mean, not real pleasure, but the organized
activities officially known by the same
name) "pleasure" - what nightmare visions
the word evokes! Like every man of sense
and good feeling, I abominate work. But I
would rather put in eight hours a day at a
Government office than be condemned to lead
a life of "pleasure"; I would even, I believe,
prefer to write a million words of journalism
a year.</p>

<p>The horrors of modern "pleasure" arise
from the fact that every kind of organized
distraction tends to become progressively
more and more imbecile. There was a time
when people indulged themselves with distractions
requiring the expense of a certain
intellectual effort. In the seventeenth century,
for example, royal personages and their
courtiers took a real delight in listening to
erudite sermons (Dr. Donne's, for example)
and academical disputes on points of theology
or metaphysics. Part of the entertainment
offered to the Prince Palatine, on the
occasion of his marriage with James 1.'s
daughter, was a syllogistic argumentation, on
I forget what philosophical theme, between
the amiable Lord Keeper Williams and a
troop of minor Cambridge logicians. Imagine
the feelings of a contemporary prince,
if a loyal University were to offer him a
similar entertainment!</p>

<p>Royal personages were not the only people
who enjoyed intelligent pleasures. In Elizabethan
times every lady and gentleman of
ordinary culture could be relied upon, at demand,
to take his or her part in a madrigal
or a motet. Those who know the enormous
complexity and subtlety of sixteenth-century
music will realize what this means. To indulge
in their favourite pastime our ancestors
had to exert their minds to an uncommon
degree. Even the uneducated vulgar delighted
in pleasures requiring the exercise of
a certain intelligence, individuality and personal
initiative. They listened, for example,
to <i>Othello</i>, <i>King Lear</i>, and <i>Hamlet</i> - apparently
with enjoyment and comprehension.
They sang and made much music. And far
away, in the remote country, the peasants,
year by year, went through the traditional
rites - the dances of spring and summer, the
winter mummings, the ceremonies of harvest
home - appropriate to each successive season.
Their pleasures were intelligent and alive,
and it was they who, by their own efforts,
entertained themselves.</p>

<p>We have changed all that. In place of
the old pleasures demanding intelligence and
personal initiative, we have vast organizations
that provide us with ready-made distractions - distractions
which demand from
pleasure-seekers no personal participation
and no intellectual effort of any sort. To
the interminable democracies of the world a
million cinemas bring the same stale balderdash.
There have always been fourth-rate
writers and dramatists; but their works, in
the past, quickly died without getting beyond
the boundaries of the city or the country in
which they appeared. To-day, the inventions
of the scenario-writer go out from Los
Angeles across the whole world. Countless
audiences soak passively in the tepid bath of
nonsense. No mental effort is demanded of
them, no participation; they need only sit
and keep their eyes open.</p>

<p>Do the democracies want music? In the
old days they would have made it themselves.
Now, they merely turn on the gramophone.
Or if they are a little more up-to-date they
adjust their wireless telephone to the right
wave-length and listen-in to the fruity contralto
at Marconi House, singing "The
Gleaner's Slumber Song."</p>

<p>And if they want literature, there is the
Press. Nominally, it is true, the Press exists
to impart information. But its real function
is to provide, like the cinema, a distraction
which shall occupy the mind without demanding
of it the slightest effort or the fatigue
of a single thought. This function, it
must be admitted, it fulfils with an extraordinary
success. It is possible to go on
for years and years, reading two papers every
working day and one on Sundays without
ever once being called upon to think or to
make any other effort than to move the eyes,
not very attentively, down the printed
column.</p>

<p>Certain sections of the community still
practise athletic sports in which individual
participation is demanded. Great numbers
of the middle and upper classes play golf
and tennis in person and, if they are sufficiently
rich, shoot birds and pursue the fox
and go ski-ing in the Alps. But the vast mass
of the community has now come even to
sport vicariously, preferring the watching of
football to the fatigues and dangers of the
actual game. All classes, it is true, still
dance; but dance, all the world over, the
same steps to the same tunes. The dance has
been scrupulously sterilized of any local or
personal individuality.</p>

<p>These effortless pleasures, these ready-made
distractions that are the same for every
one over the face of the whole Western world,
are surely a worse menace to our civilization
than ever the Germans were. The working
hours of the day are already, for the great
majority of human beings, occupied in the
performance of purely mechanical tasks in
which no mental effort, no individuality, no
initiative are required. And now, in the
hours of leisure, we turn to distractions as
mechanically stereotyped and demanding as
little intelligence and initiative as does our
work. Add such leisure to such work and
the sum is a perfect day which it is a blessed
relief to come to the end of.</p>

<p>Self-poisoned in this fashion, civilization
looks as though it might easily decline into
a kind of premature senility. With a mind
almost atrophied by lack of use, unable to
entertain itself and grown so wearily uninterested
in the ready-made distractions offered
from without that nothing but the
grossest stimulants of an ever-increasing violence
and crudity can move it, the democracy
of the future will sicken of a chronic
and mortal boredom. It will go, perhaps,
the way the Romans went: the Romans who
came at last to lose, precisely as we are doing
now, the capacity to distract themselves;
the Romans who, like us, lived on ready-made
entertainments in which they had no
participation. Their deadly ennui demanded
ever more gladiators, more tightrope-walking
elephants, more rare and far-fetched
animals to be slaughtered. Ours would demand
no less; but owing to the existence of
a few idealists, doesn't get all it asks for.
The most violent forms of entertainment can
only be obtained illicitly. Let us not
despair, however; we may still live to see
blood flowing across the stage of the Hippodrome.
The force of a boredom clamouring
to be alleviated may yet prove too much
for the idealists.</p>

<p>End of Pleasures by Aldous Huxley</p>
</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Console.delight (197 pts)]]></title>
            <link>https://frontendmasters.com/blog/console-delight/</link>
            <guid>39504072</guid>
            <pubDate>Sun, 25 Feb 2024 19:43:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://frontendmasters.com/blog/console-delight/">https://frontendmasters.com/blog/console-delight/</a>, See on <a href="https://news.ycombinator.com/item?id=39504072">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>Everyone knows you can use <code>console.log()</code> to log text and variables to the console. Did you know you could also render (limited) CSS, SVGs, and even HTML in it?!? I didn’t! It’s a neat technique that can delight the curious and further your brand for curious users.</p><p>If you’re in a browser other than Safari, open up the DevTools console to see some examples of what we can create!</p><p>Here’s the magic: <code>%c</code>. It lets us render a console message (like <code>console.log</code> or <code>console.info</code>) using a bit of CSS!</p><p>Let’s see how it works.</p><p>Here’s the <code>console.info</code> from the online version of Adobe Photoshop (partially unminified):</p><p>You can probably already guess, the <code>%c</code>s correspond to the strings that follow. Each one starts a new element that has <code>display: inline</code>.</p><p>The SVG is rendered as a <code>data:image</code>. Any data image works here! </p><div><summary>For example…</summary><pre aria-describedby="shcb-language-2" data-shcb-language-name="JavaScript" data-shcb-language-slug="javascript"><span><code><span>console</span>.info(
  <span>'%c '</span>,
  <span>"padding-left:300px;line-height:200px;padding-block:100px;background-image: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2ODApLCBxdWFsaXR5ID0gNjUK/9sAQwALCAgKCAcLCgkKDQwLDREcEhEPDxEiGRoUHCkkKyooJCcnLTJANy0wPTAnJzhMOT1DRUhJSCs2T1VORlRAR0hF/9sAQwEMDQ0RDxEhEhIhRS4nLkVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVF/8AAEQgBHwGYAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A6qkooqiQoopKAFopKXNACUUU0mgANRsSKGYr1BP0qpLchSQW2/WgY+VyF5BpLM+Y5bqKzbrUljB2nP41e0WUXFuz4xn9KiT0KiJfqgbaT16Gm25468VS1i4aM4P3fWm6bcBtoB4/zxWSZq0bTA+VuAziosqyYBwP5VIHCr8ucGqzgEna2O9VckcrleDnIqGciQHB7VE8+DtfG4dCKrS3GFJX/wDVSbGkVb0KyjJ56VkzRrgYbg4q1e3IKsB35rHe52uRng9KkobLlN1UJDgk1cll3qT6+lU5SCB6GqRLIi+OnrVm1UvhsdP5VURCT0zz0rXtoxFE7dwMH8qbZKGPEcj1/wDrVHKpDrx2qxJMMhvY02QrLt/vEZPtSuUV+7Y64wM1AyFTitJY1AYngjgVVkj3nA6U7isMhxt9h0qKQhiasOixR4UH6+tUy3zGmIcGKLgDk09ZDjn61Hjn3Hajy3lYLH1NMROt+0fTik+3TOeCcjpU1vol1NKoddqjrmtuz0a2tmBdgxzk0m0gSbM6w0W5v2BfIU9z2rrLDR7azA2gEjqxFLFMkaYUKBUqPuAOOaybbNErFneqcIKA4PXn6CmrH3POaV4yR8rFRSUR3Fyc/KPzpkjj+JwD6Dk0xkUdZifaoHUNwvP1OKtRJbB3iHJkz7God0THsfwpHtVAywWmJbxjPTNOwrk8C5bCjmteBCo/rVG2jC4rTiHHWqRLH4wKY1PNMNMRG1QOeamaoG60AOSpRUSVKKBCmig0UDNGim5pRWhAtJRSUALSUUUAJTWcDrTjUbMMc9KBjGbFZ97KFUsVDY61ZmlVQctisXULhVX5iDnsDSYzKurgvOGiztzyCK6/TmiisEMWORkiuJ3bpGIGAegNaNpqJih2Bsnpis2WjS1B0l3AnjPIrIt5zbzFMArnt3FT3VzvTeODjBqipDthsZPeoLOoguFlhBU89cVHK4I3Keay7KcxHaSPxNWJpSvKnI6jmgLEU86uecBx3HeqU8nUbuakmbf8wHWqdyQy9OR0pAVLiT5SCeay5TzVudsg1UlTbgnpVIQ1WJ+WlUYPIzgcU1DglcdelEkv7vGOlAiW2Ch2yBwM81ozuoRtnG7kisBJiJAc1scyRAg54zQwRQd2d1AHPTirG5lYHv1xTIwPtAJHSlOdxJ7GgZPPcBIgv8R/So4fnIx+dQT9yTViyBVct0HNAht62BhRjHFZwbLAdhV29JJJwPpVBCDIKpEstRjK9OTVywZYpfMIyR69BVMvzwKlQkAjNIZvLqG5jyAAKcLoDG3rWCrkHg/U1at3YOPepaKRu27bzk/qa0oSM5JB9gax4XIxjIPuOlXkfHLDPbkUJBcv+eScZwe2FNIGLEbmY+2wmo4rtx92IE1IbuVfvoi47k1ViSVcDpH/AN94H6CkkkcA9B+GKqy6oiZy4Y+i1UN5JOchQF7U7gkWJXc9SBSQAluo/KmJG7nnpVxE2EA4zUj2LcK4q4hqtFzVheKsgeTTCaXNMY0ARuagJ5qVqgY80ATJUoqGI1LQIWikooGaNFFFaEhmjNJSUAOpKKaxwKAAniqs5IyQDn6VK0o9RmqtxKQpKtzSAytRMwUsMfga5S8uJTLgsTzit/UpZmB/e/8AARXNyRt5uTzz6VLLRoWjK0OGOTVu3h58wDiqVoADkfjWkoXaFzUgQy5DkFvl7YqIuinByPepJSQDwKozXBYYKjI70ikXkmBXHDD19KVbgg7G5FZkavkMvQ+lW1GBnIzUMskaYjKtwD0PoahnfcoIOTmmSEEdB701VKDnkds0AQSqEBP86pOd4OOvarczgsVPA7GqrJglTxjoelUiWQYAIH40eUZicfU0SDvz+NXtLQS5AwDnFMkxpE2tWxZNugwPTBqtqdsYXxjj1pbKTZbsQeR1FG6DZjxnzGOeKbktGc+pNNLlHIHOe1RtNtG3rmpKuD5klVK0WlW2tjnrniqEY2HzXxx6/Sq9zdNKQAeBVEiyzl2OTUKAluhpg3Dr3qypABPfFMQ8MFUAD35pUfqajIJGaSPJYDrz0pDNCIDHPfvWhAiIAev9azkYKVHBIHJrRtpeRwQD3xzUlGjCCU7g+3WrMcBIyygg+pp1qEdQGIx3z0rRVExnd+fFUhMoEShcRAg+ozVSWynZvmO3PUua2G+Zuvy+maZ5MjA8gL6LVCMuOwjT5mJb6ir8FtkZCYHqaePKg5KAt6k5NOF0z8YFK1h3ZYWFUGSRgVGuGfOc0+Vwlvl/vGqcExY/Jx70kSzWiAAqZSKqxZx1q0gAqhCmo2NPao2pDI2PFVnPNWHqueTQBLFVgdKhiGKlpiFopKKANE0maKK0JCjNFJQAuaidz6U8mo2waAIXOeoqncIcZUVdaNT0b86o3TbAQcY+tIZiXTNlgOKzxEhOe/rV64njDnA5qsCr5PQms2WhE2hsbac7FW9vek4GduDVdmd88nHvUtlJErSZHQD8aha3Zm3gAqalWIhQS2KnV0KdRkVLZSQxUTy8Ec1EyHBAHB7e9T7lYDJprbcEHOfekBWERZuARjqDTLmUIu1e3rVxUY/dzk9Mc1FLp0koPP4//WqkJlKBBO2MgH0Pf8asvbNtxIgwOAcVJY6aUlBkAZc4JzW3d6f5VqdoJAHGaog4a9UIxAPFXtEYOcfxCqeoDMpUrgjpWz4etV2Akc56+tN7C6kOuwAHOPyrEh3bCB03V1viCAbQFHPvXPxWhAAI5JzUJltFeTcp34wRnmodpC5YdelX5rY7S3UE/wCf5VDKmLcEimhMpzzsRs7U+ytfObLD/wCtSWts1xIeOgralVLK3A2gsR+VMkyLmNUbA4H1pirtzmklnMj5HNIAX74+vQUASMTt+8MH3pUQqcj86SNQW55/QU51ORnp6UDLUCDPIBbtWhbN8+GbgVmQkgdSfWr0IXbu5z9KkpGxDKydDn6mtCNmf5iCx9BWNb7QwJGR71qRPnAwMdxTQFoShT6sOw5xTZJH6s3XoKN7EcDC+pqvNOsYx0x61VyRjyEMcnJJ7VZt4wo3M+W9MVlmcO4CBiT68ZrTjKwQb5DgAVLZRFf3SxgI56dulJa3kQxgZNY8zyXt0Si4GeM1r2On7RmQ5z6VSIZswTqwGKtqwIqtBEqAYAqyOlMQjGmGnGkpDIn6VB3qdzxUI60xE8fSpKYnSnUABopDRSGaNJRmkrUgWkozRmgBGGRzUDjb0NTk1G4BHIpAVmZhyBn6VQvrgCM71/Airc0bA/KefSs+6illUq/SkxnO3Mw3kp09KhEjnuSKdd27wyHByM/lUUeOu7Bz6VmzRD2Lbs5OKUXIj5xn6miRjj7wz6isu4Z/vDJWpsO5sPqcQjwEwTWU96ysSpwD2zVJt2NwJZe59KkjhMgPB+tUoici5DqBAw+ee9X47kOAME/jWILaQE4HI7VatY7wSAJGT+FFkK7OlswjgAbh+HFay28O0MXAb1DZzWJa2l9JA0gLIR0B6Vm3l1fGTyB9/wBhzRYDswttkgooB6nsf8K1YoI5Ydu5WVhXmcdhqpTcJSvPRmNWbPWdU0a5X7RuaP0bkH8aYtC5r3h+RLpniXcvB/XH9at6PYy2o2yKQo7H8K6qwntdZgEsX3WGSD2PpTtStFgtmYYBHNIZyGoHz7liBlV9KzZYwhO31xmtRkG5jn7p6e9V3hUlucY55+lZmiMz7uAxyMcAfWq08XmQH5cH6VqtaqN2TlsY/GkMQCNkHOenvTQiLS9PEKsX6kdD2qhrsy7tq9K2huZJNg4Pp6VzOptumOfpiqRLKUMZY8DNW0tWbB2k/hVrRrFbiT95u/pWxdWwgjYiNAMYG45P41ZBgPHsUADB96UREr1yT3zSXT4bovPoMVHA7M2Mk1JSJowRwq8e5q7GcAbiM+lVQBFyx5PbNKZB/COako07eXBHB+taSSnAGAoPfrXOibBGQSB71OL10HyYJP40Abcl15YPznj9KzZbncxIO4nuxzVJ7iSV+TyTV+1t1JBeQfjT2AlsVaaTO1s46irupTGG1x7Y4qa1ktoVwHB9TWTrN/FO4jRhtU9MUlqDK1q7od208nrW3aTO2Mk/nWDAGc/eIrZs42GCXFWQb9uxI5q1niqVv90VbHSgQE0hNLTTQMikbio1606SmJ1oEWl6UtNU8U6mAhooNFIZoUGijNakCUUUUAITTGanmmPQBXlI7cGqUjnJDEVZlwQelZlySp45qRlTUbZJVJzhj3rn5rKZWJQZx6VuPMeQen0qJUO4NkMKhlowcygn29akWDzVyDk9CGree2jc7tvHr6Ui2sa85qblWOf+xbXAKkfSr0dskI3xlRng1ozxAphRgjvVSSAbeTtai4WKUoMdwM7SD3Haun0lYgyMSDx3HSuVnDDoQfcVuaDf7Sqthj9f6UCOr1UrBp7Om0gdxXK+Go4JJ5Lq5G5iTt711WqRrNo7GPOccgjkVw+jTtAZIiOVOKpOxD1Rt6pqMFuWkA4HSsq11BdUMltdQbRgFc+nrUWrwyXEH7sFjnO2n6dbXKsJruV3l2hF3HOFHQVWjV2LbY3PBLm01C5sCdy8OhP612WpRCSzcEZG2uK0V/J8SRk8l4Tn867u7I+yMcZGKko4R4vKkYDkEkmqkmPNPAIrUuk+djknPas6TIDcZx0x61maIqupMTYI4OPcmmMpYqgHQj8acxBbgbQCMGtjQrHz5BM4ygORTSE2GmaS/ksZF5ZejdqoTeEluLve7bV7Aiu3cJFETwMDvXL6j4vtbSUxxL5jKeWFVsQtR0GiQaenyLubGSzdf0rH1C0ZlZ2Y47Kv+eaY/jn5sfZxgnk05Nch1FQI9oY9V6HNMDm7izZTkKxPuKZHbsjgNxXTSwrnci/99Kf/AK9UpVi6LhT3NJjRlOm3pznikLMWyOo/IVbeNeSo3AeowaaI88lABSKKbsyjkZzT47gKAQp/OluPQD9KqgHdjt6ZoQmWxOu4nGfWrEVwyghQqg+g/pVWNMj1x2qyjhe/PoKZI5ryXDCMkA1WUMzZYkk+tKZGLEJTFdw+GHFMC9AdpAHNbNkemawYnwRWzYvkikB0NueBVpapWx+UVbB4pgPpp6UZppPFAEMtRIeafKeKhVvmoAuoeKdmoFbinh6LiH0U0tRQM0s0lFFakBQTSUUAJmo3YjpUlRStgUgKsrhsjIFULhODnkVbmKnqKoT4UcMaQzKuJDG/FMS7XowIHqKdc/MeDiqyxyhuAGFZs0ReW7CD5WLA+tO+0xyL6H8qhSEMu0oQT6U37Fk/KST6VLKRILsRPtdcgdDUVzMJQQuB3BqvJDOjbXXK+vQ0+O2bb8uWU9R3FIZmuSpy4P1zVqxyzjG0n3qG7jaE8gio7Y5lBQnOenpVEs77R9SFxa/ZZR2xhmycf1rndb0W4sLr7TECFJ4PY1ZsJo0mSTg4I7Z5rs4BbanBsKhc8EHv+FNMlnnkGqonE3yn0YU6512KNQUYZ9fSurvvAttM7SRlos9l6Vy+p+Hv7PPGJB7jmnoK1xnha6e918SnO3GAcV6heOFsWGeorzrRVFpeQbVCuTyMV3V5cBoAB6UpMaRz8x/eHB65wKoSuCjDHKjoKvXR+8SBmqEmRnJ/SszQoJGTJ5eNxP8AWu50+3W2tFUcYFc/o9kJ73zXA+XHFautamun2jEHkA4FaRM3qzC8Wa25b7FbN/vFf5VhQafFGgknXfIR0b/CoJLhJreGcZ85pmMhPXIxj9DV9n8zy2Bzx1q2rEXvoQstou1bkRjfwFwOazb3SkGZbQkEc4BqDWrl7vU3dkSM5ACoMD8BV6CQ+UAxzSasFxum3VwBhn8xfRu1S3E5dsHPHYjFaWh2ouYpwFHfHHuaxNQW5srhldcp7UrFIsLIGGOM9qjYEnAI47CqaamFGNv1BpDqWWPGBU2ZV0TS7jx3+lQeVtPanC9QnJP5UecHOTzSC9xUAyOcmpwoBzjb9Kr5X7y9al3kgZP1FUIR1ReVzk9aRBu5wcUrt6D8aapPrmgESRjD1sWQzisiIEt3rbsRjFAG5aj5RV1RVW2wRxVwdKYhKY5p5qJqAIJKYi809+tOjHNADtpoAwalxSYosAwiin0UWA0aSg0lakC0lLmkJoAQ1Xl71MzADvVeRh3P6UgK0gyKoTsqg5zV9ip+6wqtPGHU8KT7GkMwLl+TjFQRvIjZzVu5tjuzsfH0qFYlPAfafeoZaZbt7nkBxkHvVjejnqQ3vVWCHBA35zV1bY43blz6EVJQqoGGGyR+Yp5s4+Cvyn2NPRD2P5VOsbd1LfUVLQ0yhc2JliKuu4eo61gy6Y1tP8yMUPRhzXXbWVuDjP8ACTT/ALMki4ddp9xxS1GYEEbGMMsnIOCuev41rWupzWhAUH/e4I/xpHsXifIVSvp60iTCJiCwwex5xSUhuNzp9O11Z4iJXUuBzt6Vz+uarEt1u+XA5571SnnERLQAAnrjjFYl8zTnaV6n161d7kWsPh1RrjV1YLk56iuxjlZ1Azk46GuT0uzjt5BkAyZ5NdTbt+5BwO9KT1GloRXTBR6H0NUJW+UHoT2Iq3cKJG5PfpVS+ZQgJ44pDNLSLlYkldgFwetcx4j1F76WQKTsQ4p15qTW1mxQjHA+prNs1ju7STfITKzgiriS9zPw6qz7xjIynJJ45I7VqWFwpARu3c10dl4Tiu7RSylXx1FULrwZdRD918+OeePyq73Wpm1roZd1aRS3Bl45FRkbiIYOT3PpWnF4Zu5AVckAHBBY8Vu6foNvYENMQzryARikFg0m2TTrMeYgBYZIYf41j620bs2VUg+pOR+FX9X1jCFIdmB2yGP9K5K9vJJ3LHoO9JlIpXEUZYhF5PtVZ4JF7fpVgyYPc59KswjchDDA96dxWMvB9/yqxA2OP6064iCtxyfbpUKkg4IzTEXdhU5UZ/Wnq/y4YY+lVhIRyOBSmbcMZqSi1lT0pQB261TWU9OKnjBbncKBluBTvresV6Vh22Q/PSugs0JA+bNMlmvCoxxVjoKrwqwH3qnJ4oACajY0pNRtQBE/WnRmmOeaWM0AWM0tRg07NAhTRTSaKBmlRSZozWhAUGkzSE0wGscVBIAehqZs44FV3BJ6gUgKsoUZ9aoz8g4OKvyoMfMw/Os6dI1yTIcewpDMuYyBzsJ+oqNftWc+acf7T8frU081uvUSP9TiqUk8LHCo59t//wBaoZSLiSNnEskLj0UKT+daNrIoHEUY9Du5/nXOm4Tp5IH4n/GrNtqSRfKU/It/jQM6dDk5ywHs4q5HIAMDJ/WsOC6WUBlCH2Of8a0YZlYgGMA+vNIZo7kcYKkfVadCiBgAw+oqu0e4DhR9SRTY2eJvmlUD0JJosFya5tn3YjOM9+1cxq1pf2riQqWH+yK7a2bzlwxRvcZFOkKqHSVDtI6jmoa1KT0OF0y6MpaK8iIXPD1qXemwiAyo27jIxVp9G8iQyW2JI5DkqR0rQOnItg7bQu0Hgdqlp9Ck11OYto1BCjqK1IpwihQRn0rn5LxEuGBJXB6VbhuY3OSQafLfUfMtjSlk2gkYz3rOvZQY8k89KZdTPFkhskVlz3hnf5e3JFJod0MuyZ7SRQOV7etU9LVkcjIGSM5PatXTrV5kcYznjrTDpkkJIAwFOatNLQzkm9TvNK1OGCzQSsAcDJPrVqbWoFj3xlXGOmetcPFkxjeBkddp7VI5CRYTdg9x1FHMS4m/da4gzsRXQcZ/pWLqepSzgg5Uds8/rWZLM6MSrqw9cYqhNeyeWQr8dxu5FO9wsJdXQIxzv9T3rPkdnOMcnrgcUhdnbrxUkcLFhhc+9MQ2OIkjOcVfjXYoOMD6VGylCNoA9utL5jEYyfpilcY8hXBGfpu6VSnRlPC8ey1fhzkAtuHoTU0gPTYPwouFjDExHBX8xShweqj86uTCJMjaufSq68t90DPsKYhYwGPQVZRee1JGh64H5VNtJ4x+VAy3apzW5ZjZgjp6CsW0OCBn863rU8DNMk0ojkdKlPSoo8VJmgQxqjY1I1QtQMikPNEZ5pr9aclAEwNLmmClzSAUmim0UAalLSE0ma1IFozikoJoAa/SqcytirLk1Wkc9D0oGZ825QfmNZlxKeRzWxLGjAkGs25hG01IzGlOW56e9NCEnhd1TtAC/BqVUWDl2Of7o6//AFqllFUW5YjzBgdh3NONsi9WEft1J/D/ABxVoJPc5EKEKevb8zQLWG3+aaUMR/DGP60CKqStA2Ioix/vOePy/wD11r2FxeTAAKwH+wAB+dQx3KKAyxKi9jjLH6E02S6mZs5YL6KSSfqaANhLcNjzZ8N6A7qsfuEG1Q0jerZP+FZsD+Woaf8Adj0Y81bF+hAESA/WgZo2cuHA2gKeyoBWwI0ljIOGBFcwJXc5eTaPTIrWsbncoVW4HftSA0ooUj2iJyMfw4q0qo4ZHXr196piTbywGPWpvtOOQfoKEgbOQ8W+H/Kja8twFKc8dxXJQ3KryeGr1C/uI5raWG4QlHUg4615NqFhJHqbQQZfJ+Uimxp9x91eOeA5LdgB1osLO8nlLeS7Y5xtNdV4e8IeWvnX7gs3RVOeK66K2htE/dpgHrgUWFfU5uHTxZIWZtp6nmsDV7icP5lvMXQnBGK7y5ELDJRju44rGktbKFzEYPfdisrJMu90clHfyowSTO5h6cVpW7LcxZIAI7lq2/JtnOUhyRxuIqjdW0BkAhiUE9cDFMLsy5oWIwpB/GsySx+ck/8A666IWqg/NwfY042xYYWTIP8AeNNITZzw0/phcDrzTypiGAM49DW39nKA7kyPY5pkkEDryRj0NAHNTTtnkYzTVlHGAd3qTWzNDaqT8y59KpukI9cepFMRWWfb9fSlN+VBHAPtTpYFZMqT+Aqm8YX7zH6YzRYLjzKZDwQfwpUHI4ANRJ5YPyk/iKsRuO5yKAROg4p31NCbccUpzmhAy7ZgkjvW7bJgDtWNZAHFblv0FWQXEqTNRr0oJpDHE1CxqTNRSUAQseafHURPNPQ8UATClpgNOzxSAQ8CimO1FAzXoopDWpmFBNGaQmgCNjnrVeRAwqdzVWR6BlOZCnKmqjKZM54A6segrQdgBlunp61TlJm9FUduwqRmbcAgbbfIz1buf8KbEqWy5n+Zh/AO31qS6cxJiD8W71meYS2CKkZcnv2cYB2p/dAwKreZxvIyOgHqacqbyBjPrmlZkk6LsjQdfQUhjY5J5pPu5Pc9hV438VkoCDdL/e9PpVGS52IFUbd3Qeg9T7mqYR7iYKOp9+lMRfM8t0+Wfk++cVZ882qY8wbj6nmqTBYE2RMpc/xVGltsbfJln9+3/wBemBsW0ru+ZjwP4elbFreqGHzEAdhXLYnfhTsX0FW7d2idQztjPJAyfwpDPRbfZcW4bPUdaqzwTQklCSDVTSL4RRfviAp6ZPWtpJ45fu4NMRzV7cXKo2Ez25rnY1333m3EbqScMR0AxxXodxZpKpJAzWS+kKWLEDGelMq6IrSQbF8t8jGMelaMVwwXBPTuT1rPGm+VyhOfSkMc8XIfOD0NBLNOSTfgjG0d6rsOTmNT6iqbXm3IIwwqvLqDIuCQBnGahoaJ7mZIVYbc45PqKy5LvfhXwVPQnj/9VJPNJI55JHYdwf8AP51SmhlC7gvmRnqvp9KQy+Jowp2kMF6owyVpFv7YAZyn4Eis6KI71yTj+Bx1FWDZMR9wZPcdG/wNUIsSXULAYZeehFZd55jMdo/KnshQlV3Aj1FILpB8knBHcUgM6a3kK7sZxVYOACDlT6VqyuY3O7IU9GHQ1nXUCSAup/KgCu8g9ue9RswbqM03DKcdfTFORgev5UACopHy8H0NIAytwak2pjKn8KB+dJjRLG2Rg8GpMHPFRrj0qzHGD0ovYLXLtkDxW7bngVjWoIxWlFJjFHOg5GaaYIoYVUFxij7RkdaOZByssFgKikeofPzUbyE0cyDlY7dk1KgzVZTzViNxii4WZKBihmpN4pKBWI3NFKwFFAzaJppcCqMl5gcGoGvCRxVOokJU2zSMwHemG4X1rJe4OeTTDO3TNQ6papGo9wtVpZFAz37CqXmkfMTn0HrUMlz1PU+tL2jY/ZpFiSXdy5x/Wq0kjPwB8o7VC1wOhGTTROo7U1JicUgmiDjPNU3iQdiDVyS4XbymTUa3CsCMY+tUQMit32ELyW4FMliUnYoPlR8t/tGrofyosjksMDHYd6MIFVSdpPzH+n6fzoAwpY5WcscnJz0qZc28BJADN1J/lWrLAnUOM+1Z93GjPwSQooGU1l2ncTlutWY7jIHIJ+nSqUkZY5xTVhfPGQaBWNmNnJ5YAeg61YRXPzbQB9ayoIm4Bfe390HirypIepzjqewpiLnnsXGDkjuewra0LUf3+JG+XoK5a5mVF2Bh71HBf+TgKTu9qQz0+S8U8A8Uiy5B5rhbPWLjqz5UDp/IVpwa2CAGB3dadwsbs1wI3PIxVa4uFVdwYYrDm1F55nAOECmq8d55geNjwDxRcViS7vSZSEAyPXvTYj5+5GJw65XPY9x+dVXIaXOc5pyP+64PI6f0/lUlE9tOoyj/AH09f8/5wKutKi4IwAawJZtuoCQfdkAJ/Hr/AJ9qmWclJIHPzx5/HFUSaMziIhsAo/cCm/bgnySAMp5z2I9ayUvfKYwSyExOcZznb6GoJ33sbds+apO3H8vxoA2ZpUZNynj+8f5GsmZllYgffHY1RhvGi+4SQOxqVyl4mEOyQdBn9KAEN20f7uTIHvULSkNlDwe4pjI7Dy5s5HZqRIvL4JIHakMUnzOSAG9fWoZBg4YEN/OrAGPQinYXHK7hQBUXd3FSKM1IYARlD+FLH8vGOfekxoeinIq5G20DIqqrnParK5I5rNmiL8LjFWEck1ThGB0qzGcNWTNUTsacG+XmoXPHFLk45pBYkByaVic1HG3JpWbmncLEnQUgcimMeKaOmaLhYmWY5xUvmnFU1+9Uu7nmnzsXKixv4oqFmwKKOZi5UNaUZphkqFiNuaaHyvvSKJjIScUufXp3qoznNSF28sL69aYh8jZqAt+NOx8tQbsE800JkikMeeKd5R6jBqDfU0cwzyK1RmxxRjwR+lJ5ALAO2cnpVhJkPGfzp2V3Z4456VojNjfKVpcDJQevYVVmlCyFtoyTmr0bfK+7HTH51UuLNz8yNQwEjlVyAwGKc8SMxO3j2qBIpY+Sw9hircAc4BUVIyBoQPuoPwFQvZsQTgDNbkcOOwpz2wYdAKAOZ+zNGDyR9KPNdF5BCr0HvWzPAAcAA++OlUZbQN95uKLgZMh3deSe1IFAQhvqxP8AKrjxBM7E/E1WdASA5xzmmmJomjkKQM5+7nAHqf8ADBpy3pRNxOCev+FQSuGCxr0Apn2Z5X3HIQcj6U7isaH2g7VPQFt5+men86YLkx/fOGJqB45PKOeN2B9AP/11BMD9pbPrSGXxc4wfQ8/jQbrh0z34/CqAmwQhzz3pGba5Y5znP4UAW5XLW6Mf4SVI9uv9TT5ZcTw3KHcGUEj1xwf5Gqiy7oHGepzSlw1rEeh3Mv8AI/1piIr1Sk7IOik8+tOJNxaLLn97BhWI7r2P4dKkuUZ/LY87kB+mOP6U21PlTYYZVgQw9RQAk8YkVblON/Dj0bv+fWmIy56kGpY4GWSW2DE7vukdCR0P49PxpogKjJ/KkBYSQTjbIMsOjetIUUjDAketRiUYIHUU1pZD8y5z3A70DAwkZwMikVTux1pwBfnlT7UuXT1P4UxDuFH3KiZt38NS+aSORx70wvnsKQxiHB6VaRsiq6nJ7VOo+lZyRpFl2GQ4FWIyd1UoulWojisWaosE0rHio92elPY8UhiIx5FLn5hTU70Z+bFAyUnijovFNJwKCflosFxUwTSn71MQ46U4ctSsArGihxRRYCirnHtT4iDmo0HFSRqATVEjnUUx2wMU92GBUTkYpiE3kg1XJ+Y1JniojyTTSAUMO9AkCnioiOaOAeOTVoll1GVhnOKuxRo0TYOTisYl1p8OomBiGHFaIyZdkkMUbZz94f1pbe+j6Nmle5ingJGOcGsuWH5sqxx71RJ0KmOQAgAUjFc8GsCBAJPmlf6ZrVR1UDbk0mhpmgkwHAGfrVnLSL6Cs9HYjKDmpRI/G5sD2pDLDxqE4PNU3tix68VI8m4ev1NN8w4wTge9IZnXMPXngVmyp6DmtyZd/HFUpYAgLHr6UAZ1tDulCnqTzWqY1VNoH3TUFtD+83YxVwcsSelDBDPKV1AwKoXEI+0Ofc1oBwrY6VFON4O0ZJ60XCxltb/OD7cU2SElM474rR8rKjihId2B1B607isZZt2CgL0pDG32KNScESt/Ja2BbBCfSori3C28WOrFn/p/Si4WK8eZLWIn7wZh+HH+JqeOAFhuHQ9aIlxbk4zhx+oP+FTKQQOcMKBDZYfKKyLwQMZ+nT9MVXunCyZAwGGRj3q88oeORXxkYOfbp/UVSmj3xIQDgErx6dR/WmBAoWU1YW2QfMrYqIBYhnrUMl1zwMfSgRPtCNw/4GmuznovFQfaA3DKT70vnbRwcUwFZweGqvJg/dOaZLOSeGH41UeVyeT+VMRZEu09TUyXIz1rNZyw9/Wo/MINJq407HTQTKwHNW42HauXhuWU9a1bS7Jxk1jKBtGZsDnFSE8VXjkDc5p7PxWbiWpEqkYpAMtUSyADmnpJk0iiRximlsCh3FMY8UASJ04pyn5qYh44pykZpAK7ZooJGaKAKaHilD9ahVjtoU5zVCJGbpQxyKaR0pjv2ppCuOXhahY4Jpd5CmoC+SapIlskLj8ajz81MZuaRSSelUkS5F2Jd3DGi408tGWHSmwjPGTmti1TfEVatDM5+2+VmQnjFTugI4JpdQhNvPuTvSxxl1BJ60xDIYSXH8q2ra0JUFhgVVtoRHyBn3NaCz+WuOppgTCNEXAFNZNx4XA9aFcuRzUgO75RUsaINuzhVGTUbQMTuJzVzaOwzSNAZD7VJRRPy8LyxqB4i/WtJoY4h8xrPurldpC0hldpAhCg89Kcr4BFVIwzuXPSp41JagETxx87j0NKFO84qZhiHjtSW67mBNCBiLFheelR7DG3FXXjKtjGQahmgYDcpyKBEcnzqAByeKr3fE6w9RGoXP6/1q7aKC3zjhearTDzJWk/iY5NMCPySIG92H8jVRonz9K0Qf3SgnuaXatMRRt42curc5U/pz/SlUmKKQZ6Ybn64/rU2NsoK9wR+lUjPuZ0YZyp5/DNNEsqzuWzuGPpUCIrnlqRpJFbjp6Gk85geU/EVQix9mAGQeKjlQYzn60wyt60wsxbvg9aQyORTjjFQP6VO6kg5bGKqlsHjmmIYcg89KbuApXYmoSc0CJw4qeK42niqIpQSKLAdDbXmcZNXxKHHBrlEmZTwavQXrDGTUSiaRkbu405GNVra5WQcmr6oCMismjRMZvOadvpTFTWjNKxVyZH4pQ+TUGCBSqTSsO5KX5oqInJopWC5XD8UgJzT1hIFPEeKuxFxm4kcim7C1ThKXZTAr+SSKb9m5q4Fp2KdxFH7PSiDHSrmKaaLisQoMdRWlZzgHa1UcegqG4ZkTcmQR6VSYmX9UCk5GDVe0geRhu6VDbXvnph1OR61o20ixnjk1aILn2fZEM4qt5fzE5q0d8wxnimGI80gIFkIfYuSfWtFQEjGeSaoomx+TUss+0DFAy2pyQKe7CNcDqagtDuUu5qQje2RzUsaKsyFwciqUlruO1RWs8RPX8qaIOfQCpLRliz2JzUkMAB6cCrspAHNQbSQSKAILj5gVSq8TmNtpqaMETfNSXMO2TPY0xFlZN64J5p1u3mM0bd+lQRISp7VLDgShugHU0gY24XyEwOrfy/z/Kq+5cVavmLAsDyay0JL47VRJYldRtx2HNIzoUyDVWWQhzUSsxY4PHpTESrKyzLg5GarhN8wYDrxVqGPdKD2qQWwVwwqhGV9mzzTZEES9M1fk+Qc4rMnZ3YjGKQDY13NngVJLG2M4FPtbfLbmarkkQIpNjSMKbiqT5zW9LaqwOBWdPZkZwKaYnEz88Uw1M8ZXg1ERVEiUZoxRTAWnKxHemUuaALtvcmNhzW9Y3okABNcsGxV6zm2OOaiUS4ux2CkMKGUVUtJ96jmrfWsbGtyMrTfLqXFOxQBD5dFTYooAh4xRkUuKbt5piF69KSpUTNOaMU7CIh0pQKUjFKFNACbaa0dSgGgqTQBEFwOlPEUbgg07acUscbFqpCZni3WOcjOBVuBQj5zmmahE0eGHWqW+bbndVkHRRTAjA/OnyONuBXPR37RjBOasnUMoAepoEXJnCjjvSL84yaznufMcDPSrpuEijA6k0WHcsqxLhQflHWtON0EfUVzjXWHAY7QOfrSjUCzcHCilYLnRY3t14pWUIDWfY3e6Mux4qfz9xz2qWWiKVTI+BVhYfLjwe9OgXcdxFTScLUjuZ0kH73I7U2ePJGe1aBTCZ9ap3J4FJDIimF9qhV+CuanL/u+fSqDSbXOapEseXaQbD1FM8vZn1NHmBcNmlMwdxVEshltyxzVZo/LJrTDA5NVZ1DZ9aYEUMu0FvQU77auevIqjIzRRsD3NUmkOWJPGKZJbuJxNwODUKozD5jmqqMSetWt+wDBoGW7eFUGRmpzUET5UVOpz1rNloYRTGQN1FTlM9KjZCKkoz7izVhwKzZbQr0Fbrg1EyA9qpSJcUznWjKnkUwituW0Vugqm9pg9KtSIcShRVs2h7Un2RvSncVmVamizuGKnSxc9qv2thhgSKTkhqLLmmqwUE1rqarwRhFAAqwMCsmaofiim7qM0AKWAophooAeEpClPGaXGaYhqinHkUuKMUAMC5NPwMUoXik25NACgUhNSBcCo2OKAEHNSRAhqjQ5NTDANNCZJcRLNFgis0Wyq+1hxWuD8vNUrpwDkDGKskoXFgGOYxUK6dIeW4rYtp1KcrViMB/mYcUCOfe1aMjFMd3xW/NErZ4qlJbqFPFFwsYjbjzz7mlj3HqMD3rXWzUkVBdWm0FVOBTAbaXReTYPuDpWurhsBTWLDEI/u1djkKRFs89qTGmbltKGG0dutWCueTWBY3ZikAPetoXKtg1Nh3JJMCOqFyo25qS6uMEqKzrq6JX2osO5XurwAFQaovcjbuboO9Rzgu/1qEW7y5XPFNEsa14zyHaeMcVPFcZGSeaYths+tCWzBscUxE8V2VcZNPmuMc54NUzCVkxTLmN1TIPApgWrhkmhXBGRWcy7Q2aqec4bqakLs2AaLCuLH97ginFWkcVHsycDg1egg2Lk9aGNE0YKqKnQkdaiRu1SCs2WiZXp/BqEHFOD1JQrRg1A8RFWd1ISDQBQYEUwgGrrRg1GYRmmBU2+1AUelWfIpfs9AiFcVPG2KBb1KkOKBliN+Km3VAFxTx7UguPopgOKUtQA7rRTd1FMR//2Q=='); background-size: 300px; background-repeat: no-repeat;"</span>
);</code></span><small id="shcb-language-2"><span>Code language:</span> <span>JavaScript</span> <span>(</span><span>javascript</span><span>)</span></small></pre></div><p>Interestingly, a character (like the space I included to the right of the <code>%c</code> above) is required for the image to show up.</p><p><strong>Note:</strong> It’s important that the SVG has <code>xmlns="http://www.w3.org/2000/svg"</code> as an attribute! If it doesn’t, it won’t render, even in browsers that support SVGs as background images in the console.</p><p>I noticed that there’s a limit of one&nbsp;<code>url()</code>&nbsp;inside of SVGs used as background images in the console. That means that we&nbsp;<em>cannot</em>&nbsp;do something like this, applying separate gradients to different SVG elements, and have it work in the console:</p><p>Using the same attribute via attributes directly on the SVG elements also&nbsp;<em>does not</em>&nbsp;work:</p><p>However, if you’re able to apply the&nbsp;<code>url()</code>&nbsp;via CSS property, you&nbsp;<em>can</em>&nbsp;use the same gradient or other property. For example, this should work:</p><p>You can also render HTML inside of the SVG that’s a background image inside of the console message 🤯.</p><p>However, note that the HTML content has the same sort of restrictions that the SVG itself has, like no <code>&lt;a&gt;</code> tags, no event listeners, and such.</p><p>Using HTML in the SVG might be particularly helpful if you’re wanting to include something like lists or use relative positioning.</p><p>One other thing that this enables is 3D transforms! SVG content itself can’t have 3D transforms applied to it, but HTML inside of a <code>foreignObject</code> in the SVG can! Note that inside of the console the built-in depth sorting doesn’t seem to work in Chrome so I had to apply <code>z-index</code> to the appropriate sides to make this cube visualization work (another alternative would be to only use borders so you can’t tell the depth sorting is off):</p><p>So, what are some things that we can make given these capabilities and limitations? Here are some additional ideas to inspire you!</p><p>Note that you can decode and unminify any of these examples to view the sort of raw input I gave it to generate these console messages. To do so, you can paste the part inside of the ticks (<code>`</code>) into <a href="https://codepen.io/ZachSaucier/pen/KKJOJWR">this CodePen</a>, optionally copying the result back into the CSS section and having CodePen format the result for you.</p><p>Here’s my first attempt at adding animation to the console that I created for <a href="https://frontendmasters.com/blog/">my personal blog</a>:</p><p>What would a post exploring a new animation technique be without a horse-running animation? This one is <a href="https://codepen.io/CyrilLevallois/pen/eYBKKM">from Cyril Levallois</a> (doesn’t work in Firefox due to the character limit):</p><div><summary>This one is enormous! </summary><pre aria-describedby="shcb-language-10" data-shcb-language-name="JavaScript" data-shcb-language-slug="javascript"><span><code><span>console</span>.info(
  <span>'%c '</span>,
  <span>`padding-left:950px;padding-top:700px;background-image:url("data:image/svg+xml,%3Csvg xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' id='svg2985' viewBox='0 0 950 700'%3E%3Cg id='socle'%3E%3Cpath style='opacity:.5;fill:grey;stroke:none' d='m 747,571.086 c 0,12.481 -138.344,22.6 -309,22.6 -170.656,0 -309,-10.118 -309,-22.6 l 0,0 c 0,-12.481 138.344,-22.6 309,-22.6 170.656,0 309,10.118 309,22.6 l 0,0 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' m 747,571.086 c 0,12.481 -138.344,22.6 -309,22.6 -170.656,0 -309,-10.118 -309,-22.6 l 0,0 c 0,-12.481 138.344,-22.6 309,-22.6 170.656,0 309,10.118 309,22.6 l 0,0 z; m 710.5,572.419 c 0,12.481 -123.346,22.6 -275.5,22.6 -152.154,0 -275.5,-10.118 -275.5,-22.6 l 0,0 c 0,-12.481 123.345,-22.6 275.5,-22.6 152.154,0 275.5,10.119 275.5,22.6 l 0,0 z; m 654.831,572.419 c 0,12.481 -103.794,22.6 -231.831,22.6 -128.037,0 -231.831,-10.118 -231.831,-22.6 l 0,0 c 0,-12.481 103.794,-22.6 231.831,-22.6 128.037,0 231.831,10.119 231.831,22.6 l 0,0 z; m 654.831,572.419 c 0,12.481 -103.794,22.6 -231.831,22.6 -128.037,0 -231.831,-10.118 -231.831,-22.6 l 0,0 c 0,-12.481 103.794,-22.6 231.831,-22.6 128.037,0 231.831,10.119 231.831,22.6 l 0,0 z; m 665.834,572.419 c 0,12.481 -108.721,22.6 -242.834,22.6 -134.113,0 -242.833,-10.118 -242.833,-22.6 l 0,0 c 0,-12.481 108.72,-22.6 242.833,-22.6 134.113,0 242.834,10.119 242.834,22.6 l 0,0 z; m 708.833,572.419 c 0,12.481 -124.391,22.6 -277.833,22.6 -153.443,0 -277.833,-10.118 -277.833,-22.6 l 0,0 c 0,-12.481 124.389,-22.6 277.833,-22.6 153.442,0 277.833,10.119 277.833,22.6 l 0,0 z; M726.5,572.419c0,12.481-130.957,22.6-292.5,22.6c-161.543,0-292.5-10.118-292.5-22.6l0,0c0-12.481,130.956-22.6,292.5-22.6 C595.543,549.819,726.5,559.938,726.5,572.419L726.5,572.419z; m 747,571.086 c 0,12.481 -138.344,22.6 -309,22.6 -170.656,0 -309,-10.118 -309,-22.6 l 0,0 c 0,-12.481 138.344,-22.6 309,-22.6 170.656,0 309,10.118 309,22.6 l 0,0 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='queue'%3E%3Cpath style='fill:%23fffea1;stroke:%23f2e000;stroke-width:4' d='M 484,303 C 621,225 800,162 870,168 940,175 934,230 922,252 910,273 912,295 839,301 766,307 757,317 708,322 660,326 610,332 540,319 471,305 484,303 484,303 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' M 484,303 C 621,225 800,162 870,168 940,175 934,230 922,252 910,273 912,295 839,301 766,307 757,317 708,322 660,326 610,332 540,319 471,305 484,303 484,303 z; M 479.167,290.833 C 593.5,206.5 616.51873,286.94931 775.5,215 882.56893,166.54438 898.28731,254.11624 889.31777,278.13654 880.85672,300.79511 840.688,331.324 788.833,348.5 736,366 703.167,371.166 639.5,351.5 c -63.667,-19.666 -84.666,-44 -122.667,-48.667 -38,-4.667 -37.666,-12 -37.666,-12 z; M 480.5,291.833 C 590.833,220.5 663.08528,226.48198 778.82285,240.46954 875.17934,252.11479 887.333,286 884.833,326.5 c -12,21 -22.333,50 -92.333,44.5 -55.485,-4.359 -109.833,-21.334 -173.5,-41 -63.667,-19.666 -73.5,-22.333 -111.5,-27 -38,-4.667 -27,-11.167 -27,-11.167 z; M 480.5,291.833 C 590.833,220.5 660.586,212.932 785,239 c 105,22 113.333,60.5 108,99 -5.333,38.5 -42.03046,44.94416 -92.5,40 -55.39081,-5.42626 -91.333,-33.334 -155,-53 -63.667,-19.666 -100,-17.333 -138,-22 -38,-4.667 -27,-11.167 -27,-11.167 z; m 491,305 c 110.334,-71.333 210.72902,-105.80199 335.5,-81.5 79.24111,15.43401 112.95939,56.47969 91,92 -20.43853,33.06025 -42,44.5 -96,36.5 -55.056,-8.156 -42,-21 -130,-24 -68.643,-2.34 -145,-6.333 -183,-11 -38,-4.667 -17.5,-12 -17.5,-12 z; M 491.667,296.833 C 602.001,225.5 704.087,183.432 828.501,209.5 c 105,22 119.666,68.833 93.666,102.333 -23.831,30.705 -45.666,34 -82.666,32 -55.575,-3.004 -59.001,-26.666 -147.001,-29.666 -68.643,-2.34 -145.333,-0.667 -183.333,-5.334 -38,-4.667 -17.5,-12 -17.5,-12 z; M491.667,296.833 C602.001,225.5,733,175,862.5,191c86.066,10.634,103.5,56.5,77.5,90c-23.831,30.705-52.064,36.464-89,33.5c-81-6.5-99.5,2-187.5-1 c-68.643-2.34-116-3.5-159.5,0.5C465.875,317.506,491.667,296.833,491.667,296.833z; M 484,303 C 621,225 800,162 870,168 940,175 934,230 922,252 910,273 912,295 839,301 766,307 757,317 708,322 660,326 610,332 540,319 471,305 484,303 484,303 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='crinière'%3E%3Cpath style='fill:%23fffea1;stroke:%23f2e000;stroke-width:4' d='M251,142c88-9,114-4,143,3c29,8,52,30,84,35c33,5,62,1,80,14c17,13,27,33,23,46c-5,13-15,35-44,36c-55,2-84-32-110-28 c-25,5-38,26-50,39C366,299,251,142,251,142z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' M251,142c88-9,114-4,143,3c29,8,52,30,84,35c33,5,62,1,80,14c17,13,27,33,23,46c-5,13-15,35-44,36c-55,2-84-32-110-28 c-25,5-38,26-50,39C366,299,251,142,251,142z; m 245.833,140.833 c 88,-9 86.929,4.495 123.333,5 48,0.667 67.228,-22.685 109.333,-29.333 19,-3 45.347,7.988 55,18.667 15.667,17.333 15.334,36 3,58 -12.334,22 -37.666,19 -69.333,17.667 -31.667,-1.333 -42.666,5.666 -65.666,30.333 -22.863,24.521 -28.56899,43.86519 -51.667,47.333 -7.32753,1.10012 -104,-147.667 -104,-147.667 z; M258.833,134.833c73.333,10.333,84.595,19.162,121,19.667c48,0.667,69.679-31.995,107.667-51.333c18.333-9.333,43.347-7.679,53,3 c15.667,17.333,22,36.333,11.667,62c-9.419,23.396-15.334,29.333-53.667,44.667c-29.428,11.771-55.333,12.667-88.333,31.333 c-29.181,16.506-30,23.667-47.333,38.333C342.75,299.493,258.833,134.833,258.833,134.833z ; M260.5,134.5c49.667,0,85.345,5.837,120.667,14.667c65.333,16.333,75.345,0.339,113.333-19c18.333-9.333,33.347-10.346,43,0.333 c15.667,17.333,20,29.667,11.334,55c-8.163,23.864-12.334,39.667-50.667,55c-29.428,11.771-49,5.667-87,16.667 c-32.204,9.322-40.333,18.333-46.667,24.999C346.38,301.239,260.5,134.5,260.5,134.5z; M264,115.5c49.667,0,98.482,18.239,123.167,45c35.667,38.667,59,50.667,110.833,29.5c19.045-7.777,45.443-0.077,54,11.5 c8.5,11.5,12.129,29.054,6,43.5c-7,16.5-28.5,37.5-49,42.5c-30.792,7.51-29.5-3-68.5-8c-33.254-4.263-55.5-8-79.5-6 C334.783,275.685,264,115.5,264,115.5z; M264,115.5c49.667,0,111.483,11.906,136.168,38.667c35.667,38.667,56.815,50.575,112.333,43.333c23-3,41.777,12.09,50.334,23.667 c8.5,11.5,10.462,31.22,4.333,45.667c-7,16.5-24.5,26.333-45,31.333c-30.792,7.51-48.666,0.333-87-17.333 C404.72,266.801,385,271.5,361,273.5C334.783,275.685,264,115.5,264,115.5z; M264,115.5c49.667,0,106.009,18.271,136.168,38.667C446.5,185.5,456.5,193.5,512.501,197.5c23.136,1.652,42.499,9.5,53.499,21 c11.41,11.929,15.629,35.554,9.5,50c-7,16.5-24.5,25-51.5,28c-31.501,3.5-40.666-6.333-79-24c-30.448-14.032-57-5.5-77.5,6 C344.556,291.371,264,115.5,264,115.5z ; M251,142c88-9,114-4,143,3c29,8,52,30,84,35c33,5,62,1,80,14c17,13,27,33,23,46c-5,13-15,35-44,36c-55,2-84-32-110-28 c-25,5-38,26-50,39C366,299,251,142,251,142z'%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='patte-ar-d'%3E%3Cpath style='fill:%23ffb039;stroke:%23ff4c01;stroke-width:4' d=' m 423.7,325.7 c -9,18 -13,35 -2,48 11,14 18,17 45,31 26,15 48,22 59,18 11,-4 7,-7 16,-2 8,5 60,40 66,44 5,4 17,26 31,29 13,2 18,-8 22,-25 3,-19 -3,-39 -11,-41 -21,-6 -45,11 -85,-46 -5,-7 -29,3 -29,3 0,0 -11,-17 -10,-25 3,-8 -13,-50 -50,-57 -36,-7 -52,23 -52,23 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' m 423.7,325.7 c -9,18 -13,35 -2,48 11,14 18,17 45,31 26,15 48,22 59,18 11,-4 7,-7 16,-2 8,5 60,40 66,44 5,4 17,26 31,29 13,2 18,-8 22,-25 3,-19 -3,-39 -11,-41 -21,-6 -45,11 -85,-46 -5,-7 -29,3 -29,3 0,0 -11,-17 -10,-25 3,-8 -13,-50 -50,-57 -36,-7 -52,23 -52,23 z; m 497.834,300.5 c -15.85305,-5.56284 -48.219,-2.643 -57.667,12 -9.448,14.643 -18.097,11.717 -21.333,26.667 -3.236,14.95 0.932,65.476 6,73.333 5.068,7.857 23.14,12.737 20.333,20.334 -2.807,7.597 -18.533,32.299 -25.667,41 -7.134,8.701 -16.297,20.21 -15,33.666 1.297,13.456 18.312,11.043 34.667,6.334 22,-6.334 42.667,-23.334 46,-33.334 3.333,-10 -16.333,-38 9,-62 9.791,-9.275 15.334,-15.332 16.667,-19.666 1.333,-4.334 -14.098,-19.646 -3.049,-22.99 11.049,-3.344 19.986,3.463 21.715,-35.01 1.729,-38.473 -15.81205,-34.77084 -31.666,-40.334 z; m 469.833,321.501 c -13.595,-9.872 -52.42,-14.322 -65.667,-3 -13.247,11.321 -14.912,12.007 -22.295,25.402 -7.384,13.397 11.025,52.617 13.629,61.597 2.605,8.979 -18.801,25.527 -23.667,32.001 -4.866,6.474 -16.333,13.666 -29,29.333 -7.074,8.75 -30.388,35.069 -33,48.333 -2.612,13.264 -5.352,14.493 11.667,14.667 22.893,0.234 68.275,-4.707 74.333,-13.333 6.058,-8.626 7.799,-39.541 31.667,-65 15,-16 28.814,-23.229 31.333,-27 2.519,-3.771 -31.61,-13.532 -20.333,-16 10.667,-2.334 44.549,-20.323 49.667,-35 12.678,-36.365 -4.74,-42.128 -18.334,-52 z; M478.833,332.5c-13.595-9.872-34.753-19.989-48-8.667c-13.247,11.321-18.616,13.938-26,27.334 c-7.384,13.396-3.433,56.973,2.333,64.334c15.667,20,30.667,46.333,21,57.667c-5.255,6.162-20.333,24.333-36,41 c-7.706,8.198-32.675,32.343-38.333,38.666c-5.667,6.334-9.685,12.16,7.333,12.334c22.893,0.234,55.941,2.626,62-6 c6.058-8.626,4.132-9.875,28-35.334c15-16,21.148-29.563,23.667-33.333c2.519-3.771-8.028-36.7-1.667-46.333 c11.667-17.667,15.216-53.657,20.333-68.334C506.179,339.469,492.427,342.372,478.833,332.5z; M487,325c-13.595-9.872-20.253-6.322-33.5,5c-13.247,11.321-15.616,11.604-23,25c-7.384,13.396,0.216,49.137,7.5,55 c20.5,16.5,39.635,17.774,46,29.5c9.5,17.5,20.5,35.5,8.5,71c-3.603,10.659-17,32.5-21,42c-3.298,7.833-7.018,11.826,10,12 c22.893,0.234,59.5,2.5,63-3c5.659-8.894,7.5-32.5,5-63c-1.792-21.858-9.5-55.5-24-86.5c-1.921-4.107-30.861,5.133-24.5-4.5 c11.667-17.667,16.075-39.967,15.5-55.5C515,311.5,500.594,334.872,487,325z; M484.833,315.834c-13.595-9.872-24.753,0.678-38,12c-13.247,11.321-18,30.667-15.667,44.333 c2.574,15.079,34.049,44.47,41.333,50.333c20.5,16.5,42.733,1.468,51.333,11.668c14.333,17,20.667,26,40,60 c8.918,15.683,17.702,37.817,21.666,47.332c5,12.001,5.755,17.535,20.667,9.334c26.667-14.666,32.628-45.844,32-52.333 c-1-10.332-14.667-21.333-35-40c-19.668-18.057-35-33.333-54.667-59.001c-3.824-4.991-23.725,10.807-25-0.666 c-2-18-2.091-36.467-2.667-52C519.333,306.334,498.427,325.706,484.833,315.834z; M483.833,316.334c-13.595-9.872-24.753,0.678-38,12c-13.247,11.321-18,30.667-15.667,44.333 c2.574,15.079,29.549,34.47,36.833,40.333c20.5,16.5,63.165-1.418,71.5,9c8.666,10.832,9.5-0.5,42.5,31.5 c12.951,12.56,58.5,43,69.5,50c10.969,6.979,35.246,23.842,40,7.5c8-27.5-4-50-9-55.5c-8.509-9.359-7-3-47-24 c-23.64-12.411-41.5-16.5-69.5-43c-4.566-4.322-27.148,12.986-26,1.5c2-20-2.334-31.334-14-46.5 C500.29,311.377,497.427,326.206,483.833,316.334z; m 423.7,325.7 c -9,18 -13,35 -2,48 11,14 18,17 45,31 26,15 48,22 59,18 11,-4 7,-7 16,-2 8,5 60,40 66,44 5,4 17,26 31,29 13,2 18,-8 22,-25 3,-19 -3,-39 -11,-41 -21,-6 -45,11 -85,-46 -5,-7 -29,3 -29,3 0,0 -11,-17 -10,-25 3,-8 -13,-50 -50,-57 -36,-7 -52,23 -52,23 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='patte-av-d'%3E%3Cpath style='fill:%23ffb039;stroke:%23ff4c01;stroke-width:4' d='M 340,369 C 340,369 327,379 314,380 300,380 296,384 293,394 291,400 285,411 262,456 237,504 209,530 201,544 197,550 201,555 209,555 229,554 265,555 275,555 281,555 293,532 296,527 297,523 305,502 310,490 314,477 320,464 323,451 325,445 329,436 332,424 334,419 338,397 342,391 346,385 363,389 357,374 350,359 340,369 340,369 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' M 340,369 C 340,369 327,379 314,380 300,380 296,384 293,394 291,400 285,411 262,456 237,504 209,530 201,544 197,550 201,555 209,555 229,554 265,555 275,555 281,555 293,532 296,527 297,523 305,502 310,490 314,477 320,464 323,451 325,445 329,436 332,424 334,419 338,397 342,391 346,385 363,389 357,374 350,359 340,369 340,369 z; m 339.167,347.501 c -10.512,1.479 -13.889,12.478 -13.667,21.333 0.333,13.333 1.667,28.999 5.333,41.333 3.278,11.026 13.354,21.155 29.667,46 21.667,33 78.479,43.17 85,44.334 9.333,1.666 16.599,-0.642 18,-7.334 9,-43 -6.333,-63 -16,-68 -9.006,-4.658 -21.485,0.495 -27.333,-2.666 -12.333,-6.667 -18.94346,-13.25146 -25.08046,-19.08146 -6.667,-6.333 -5.35827,-4.90343 -11.47538,-13.91854 -7.69746,-11.34415 -6.42446,-7.17338 -9.41446,-16.80838 -3,-9.667 3.57614,-6.71361 3.57614,-14.04061 0,-10 -3.85465,-8.11604 -13.9396,-12.40431 C 351.96718,341.20208 349.68,346.022 339.167,347.501 z; m 309.833,331.834 c -10.512,1.479 -13.889,12.478 -13.667,21.333 C 296.5,366.5 274.333,389.666 278,402 c 3.278,11.026 12.271,29.014 37,45.5 42,28 76.979,28.336 83.5,29.5 9.333,1.666 20.099,-0.308 21.5,-7 9,-43 -13.333,-56 -23,-61 -9.006,-4.658 -22.5,5.5 -42,2.5 -13.857,-2.132 -27.863,-13.67 -34,-19.5 -6.667,-6.333 8.936,-6.957 18,-13 15,-10 12.52598,-7.10958 13.18731,-17.17615 0.53553,-8.15177 3.07106,-8.22884 3.07106,-15.55584 0,-10 -5.69754,-13.35814 -15.9599,-17.20254 -10.0983,-3.78293 -18.95247,1.28953 -29.46547,2.76853 z; m 311.833,329.667 c -10.512,1.479 -13.888,7.978 -13.667,16.833 0.333,13.333 -49,-7 -53.333,4.666 -4.005,10.783 -3.193,52.996 14.333,77 23,31.5 43.226,51.889 48.667,55.667 12,8.334 21.88,9.234 25.333,3.333 18.333,-31.333 7.628,-70.383 3.333,-76 -4.333,-5.666 -8.667,-2.666 -20.667,-7.333 -13.066,-5.082 -16.529,-5.837 -22.667,-11.667 -6.667,-6.333 20.269,13.377 29.333,7.334 15,-10 29.657,-28.699 26.667,-38.334 -3,-9.667 -1,-3.172 -1,-10.499 0,-10 -3.33623,-6.34853 -4.84823,-17.20253 -1.512,-10.854 -20.97077,-5.27647 -31.48377,-3.79747 z; m 310.333,328.667 c -10.512,1.479 -9.555,13.978 -9.333,22.833 0.333,13.333 -46,-17.5 -59.5,-6 -8.757,7.459 -28.699,49.787 -28,79.5 1,42.5 15.396,66.301 19.5,71.5 7.5,9.5 13.033,8.838 19,5.5 29.5,-16.5 46.295,-62.883 42,-68.5 -4.333,-5.666 -19.755,-13.156 -27.5,-31.5 -9.5,-22.5 -0.78492,-7.22008 7.50508,-5.50508 14.5,3 35.43092,7.54808 44.49492,1.50508 15,-10 32.157,-28.199 29.167,-37.834 -3,-9.667 -1,-6.20246 -1,-13.52946 0,-10 -1.821,0.21746 -3.333,-10.63654 -1.512,-10.854 -22.488,-8.812 -33.001,-7.333 z; m 317.5,332.5 c -10.512,1.479 -29,16 -36.5,16.5 -13.308,0.887 -38,-20 -60,-13 -10.961,3.487 -48.5,17 -72,48.5 -25.42,34.074 -21,58.5 -21,65.5 0,12.104 12.163,10.41 19,10.5 38,0.5 70.5,-24 63.5,-32.5 -4.535,-5.506 0.5,-26 2.5,-32.5 8.488,-27.585 10.21,-16.715 18.5,-15 14.5,3 60.436,15.543 69.5,9.5 15,-10 32.157,-28.199 29.167,-37.834 -3,-9.667 -1,-3.172 -1,-10.499 0,-10 -1.821,-2.813 -3.333,-13.667 -1.512,-10.854 2.178,3.021 -8.334,4.5 z; m 319.667,351.5 c -10.512,1.479 -3.943,1.139 -10.667,4.5 -14,7 -20.963,21.199 -40.5,33.5 -13.5,8.5 -45,36.5 -83,59 -36.58,21.659 -58.5,21 -74.5,28.5 -10.959,5.137 6.172,20.424 12,24 22,13.5 36.107,29.613 47,28 13.5,-2 61.506,-38.883 66.5,-43.5 26.5,-24.5 27.5,-36 39.5,-44 12.32,-8.214 29.936,-23.957 39,-30 15,-10 20.324,-30.699 17.333,-40.334 -3,-9.667 -1,-3.172 -1,-10.499 0,-10 0.19931,2.74284 -1.31269,-8.11116 -1.512,-10.854 0.15869,-2.53484 -10.35331,-1.05584 z; M 340,369 C 340,369 327,379 314,380 300,380 296,384 293,394 291,400 285,411 262,456 237,504 209,530 201,544 197,550 201,555 209,555 229,554 265,555 275,555 281,555 293,532 296,527 297,523 305,502 310,490 314,477 320,464 323,451 325,445 329,436 332,424 334,419 338,397 342,391 346,385 363,389 357,374 350,359 340,369 340,369 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='Body'%3E%3Cpath style='fill:%23ffb039;stroke:%23ff4c01;stroke-width:4' d=' m 277.749,144.997 c 39.4137,23.54416 56.313,47.503 73.199,81.67 16.886,34.167 26.552,77.416 26.552,77.416 8.054,-0.378 18.167,2.833 36.667,0.667 18.5,-2.166 34.392,-10.935 61,-11.583 27.333,-0.667 44.417,12 55.667,32 11.25,20 9.29562,44.29553 5.666,52 -3.62962,7.70447 -24.40453,19.32076 -41,24 -27.34851,7.71115 -60.33352,13.48377 -92.333,10.666 -48.67118,-4.28583 -68.52762,-14.04462 -90.333,-30 -14.69824,-10.75496 -30.36446,-32.74822 -39.334,-61.333 -11.55082,-36.81097 -8.15685,-64.11168 -3.417,-98.833 6.24781,-45.7678 7.666,-76.67 7.666,-76.67 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' m 277.749,144.997 c 39.4137,23.54416 56.313,47.503 73.199,81.67 16.886,34.167 26.552,77.416 26.552,77.416 8.054,-0.378 18.167,2.833 36.667,0.667 18.5,-2.166 34.392,-10.935 61,-11.583 27.333,-0.667 44.417,12 55.667,32 11.25,20 9.29562,44.29553 5.666,52 -3.62962,7.70447 -24.40453,19.32076 -41,24 -27.34851,7.71115 -60.33352,13.48377 -92.333,10.666 -48.67118,-4.28583 -68.52762,-14.04462 -90.333,-30 -14.69824,-10.75496 -30.36446,-32.74822 -39.334,-61.333 -11.55082,-36.81097 -8.15685,-64.11168 -3.417,-98.833 6.24781,-45.7678 7.666,-76.67 7.666,-76.67 z; m 281.5,164.5 c 32,19.667 53.285,37.002 74.667,76.667 C 379.462,284.38 376,303.5 376,303.5 c 8.054,-0.377 12.075,1.898 35.204,-5.968 23.129,-7.866 42.642,-15.929 70.296,-17.032 27.654,-1.103 52.156,22.366 58.667,38.334 6.511,15.968 3.33553,32.05439 -4,45.666 -7.33553,13.61161 -28.054,22.269 -41.667,26 -13.613,3.731 -39.667,14.667 -77.667,16.334 -25.362,1.112 -58,4.999 -90.667,-11.334 -26.55,-13.274 -47.107,-43.448 -51,-66.333 -3.893,-22.885 -1,-74.334 -0.167,-96.834 0.833,-22.5 6.501,-67.833 6.501,-67.833 z; m 289,145.5 c 32,19.667 59,49.5 72.5,84.5 13.5,35 17.5,65.5 17.5,65.5 8.054,-0.377 12.075,1.898 35.204,-5.968 23.129,-7.866 27.142,-10.91885 54.796,-12.02185 27.654,-1.103 48.489,18.52185 55,34.48985 6.511,15.968 2.27969,36.87316 -1.52031,46.44416 -3.801,9.571 -14.887,18.81469 -26.47969,23.55584 -13.06464,5.34315 -39.5,21.333 -77.5,23 -25.362,1.112 -70.333,0.833 -103,-15.5 -26.55,-13.274 -37.607,-46.115 -41.5,-69 -3.893,-22.885 3.167,-73.667 4,-96.167 0.833,-22.5 11,-78.833 11,-78.833 z; m 298.5,134.833 c 32,19.667 55.167,47.333 68.667,82.333 13.5,35 14.167,69 14.167,69 6.167,0.333 18.833,-3 32.167,-7.667 23.059,-8.071 39,-10.667 55.333,-6.667 16.499,4.041 39.489,17.033 46,33 6.51,15.969 0.82946,37.90462 -6,50 -6.82946,12.09538 -20.333,26.333 -36.667,35.666 -12.256,7.003 -27.79898,11.34415 -52.667,12 -25.37759,0.66929 -77.333,0.334 -110,-16 -26.55,-13.273 -29.273,-52.449 -33.167,-75.334 -3.893,-22.884 3.167,-73.667 4,-96.167 0.833,-22.5 18.167,-80.164 18.167,-80.164 z; m 279,119 c 32,19.667 56.582,34.134 81.5,78.5 20.5,36.5 24.5,83 24.5,83 6.167,-1.667 19.909,-3.494 34,-4.5 28,-2 47.667,2.5 64,6.5 16.499,4.041 31.52046,22.54623 35,34.97969 3.47954,12.43347 2.82438,40.44523 -3.5,50.52031 -6.32438,10.07508 -15.167,15.667 -31.5,25 -12.256,7.003 -25.5,7.834 -63.5,9.5 -25.362,1.113 -74.333,-7.166 -107,-23.5 -26.55,-13.273 -28.107,-47.615 -32,-70.5 -3.893,-22.884 -1,-71.001 -0.167,-93.5 C 281.166,192.501 279,119 279,119 z; m 283.5,116 c 36,20.5 61.014,43.103 84,88.5 20,39.5 20,91 20,91 8,1.5 21.586,1.441 35.5,-1 28.5,-5 46.667,-9.5 63,-5.5 16.499,4.041 27.489,19.533 34,35.5 6.51,15.969 -0.701,42.43 -4.5,52 -3.801,9.572 -12.66898,24.18511 -30,31.5 -8.21539,3.46747 -25,5.334 -63,7 -25.362,1.113 -51.333,-7.666 -84,-24 -26.55,-13.273 -46.107,-45.115 -50,-68 -3.893,-22.885 -6.5,-70.501 -5.667,-93 0.833,-22.499 0.667,-114 0.667,-114 z; m 277,123.5 c 36,20.5 62.533,40.383 87,85 25.5,46.5 20,90.5 20,90.5 8,1.5 21.586,1.441 35.5,-1 28.5,-5 51.167,-12 67.5,-8 16.499,4.041 28.489,21.533 35,37.5 6.51,15.969 0.32131,41.91785 -5.5,52.5 -5.82131,10.58215 -17.15685,21.70761 -34.5,27 -13.50102,4.11994 -24,5.334 -62,7 -25.362,1.113 -50.833,-7.166 -83.5,-23.5 -26.55,-13.273 -46.607,-46.115 -50.5,-69 -3.893,-22.885 -7.5,-65.501 -6.667,-88 0.833,-22.499 -2.333,-110 -2.333,-110 z; m 277.749,144.997 c 39.4137,23.54416 56.313,47.503 73.199,81.67 16.886,34.167 26.552,77.416 26.552,77.416 8.054,-0.378 18.167,2.833 36.667,0.667 18.5,-2.166 34.392,-10.935 61,-11.583 27.333,-0.667 44.417,12 55.667,32 11.25,20 9.29562,44.29553 5.666,52 -3.62962,7.70447 -24.40453,19.32076 -41,24 -27.34851,7.71115 -60.33352,13.48377 -92.333,10.666 -48.67118,-4.28583 -68.52762,-14.04462 -90.333,-30 -14.69824,-10.75496 -30.36446,-32.74822 -39.334,-61.333 -11.55082,-36.81097 -8.15685,-64.11168 -3.417,-98.833 6.24781,-45.7678 7.666,-76.67 7.666,-76.67 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='patte-av-g'%3E%3Cpath style='fill:%23ffb039;stroke:%23ff4c01;stroke-width:4' d='M 340,369 C 331.948,373.871 327,379 314,380 300,380 278,367 272,367 266,366 245,366 205,403 165,440 164,476 165,486 166,495 169,500 189,499 208,497 234,482 240,475 247,469 251,463.541 250,459.541 250,455.541 251,429 255,421 259,413 284.721,420.334 289.738,421.246 295.723,422.334 319.015,429.088 325,428 330.017,427.088 344,418 348,412 352,406 363.424,388.824 357,374 350.418,358.812 346.402,365.127 340,369 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' M 340,369 C 331.948,373.871 327,379 314,380 300,380 278,367 272,367 266,366 245,366 205,403 165,440 164,476 165,486 166,495 169,500 189,499 208,497 234,482 240,475 247,469 251,463.541 250,459.541 250,455.541 251,429 255,421 259,413 284.721,420.334 289.738,421.246 295.723,422.334 319.015,429.088 325,428 330.017,427.088 344,418 348,412 352,406 363.424,388.824 357,374 350.418,358.812 346.402,365.127 340,369 z; M 342.167,360.833 C 335.003,367.283 327.266,392.953 321.823,410.691 319.024,419.811 311.136,429.58 306.473,445.686 299.14,471.019 279.151,497.128 266.55,518.265 256.217,535.598 234.408,557.841 225.834,569.5 217.501,580.833 227.395,581.717 236.834,582.166 250.834,582.833 290.306,582.833 299.167,582.833 305.834,582.833 306.92,584.811 315.56,567.321 321.742,554.806 336.084,500.394 338.467,493.773 341.467,485.44 357.05,454.199 359.177,447.816 364.177,432.816 364.117,430.387 367.5,420.5 376.167,395.166 374.454,391.215 375.833,379.5 377.212,367.785 370.59,364.371 362.833,362.833 355.076,361.295 349.331,354.383 342.167,360.833 z; M 329.048,363.502 C 327.564,373.027 324.88,376.688 331.857,393.881 335.444,402.721 342.646,436.217 347.548,452.252 351.724,465.911 354.099,490.197 354.432,515.197 354.701,535.375 352.789,552.713 353.5,567.167 354.191,581.217 353.444,581.1 362.833,582.167 377.5,583.834 420.833,583.167 432.5,580.167 438.957,578.507 437.89,568.752 432.462,550.014 429.137,538.537 410.388,470.397 408.057,463.758 405.123,455.402 397.213,433.794 394.833,427.5 389.241,412.711 383.118,404.637 379.5,394.834 370.228,369.716 368.492,367.123 362.167,357.167 355.842,347.21 353.326,348.302 346.339,352.006 339.352,355.711 330.532,353.978 329.048,363.502 z; M 332.392,367.404 C 330.908,376.929 341.202,385.129 349.353,401.797 355.091,413.527 356.681,428.499 367.894,445.617 378.386,461.633 391.473,475.554 413.605,490.699 422.899,497.058 439.833,510.167 468.5,516.834 482.201,520.021 487.269,520.252 490.833,511.501 498.166,493.501 497.5,486.167 495.833,473.501 493.588,456.44 491.02,460.582 481.834,455.271 471.544,449.198 431.835,439.897 427.16,434.637 419.16,425.637 409.448,414.28 403.057,403.419 396.977,393.086 381.232,381.841 373.718,371.058 367.914,362.729 369.667,351.27 358.264,348.249 348.037,345.538 348.651,345.693 341.321,348.662 337.68,350.137 333.876,357.88 332.392,367.404 z; M 315.048,342.502 C 313.564,352.027 318.024,351.307 325,368.5 327.951,375.771 317.528,403.127 317.689,423.591 317.877,447.623 338.123,459.799 362.059,471.894 381.877,481.909 406.915,492.333 435.581,499 449.282,502.187 451.345,498.405 454.505,489.5 459.817,474.53 451.191,454.176 447.505,440.5 443.027,423.885 438.903,430.12 415.5,427 400.5,425 368.297,424.417 367,417.5 365.5,409.5 370,386 365.5,372.5 355.368,342.105 357.618,359.303 354,349.5 344.728,324.382 354.492,346.123 348.167,336.167 341.842,326.21 339.326,327.302 332.339,331.006 325.352,334.711 316.532,332.978 315.048,342.502 z; M 320,340.5 C 318.516,350.025 319.5,353.5 321.5,371.5 322.367,379.3 305,365 283,365.5 267.569,365.851 247.487,401.414 246.5,432 245.5,463 248.268,495.141 265.5,519 272,528 279.318,529.182 286,522.5 305,503.5 326.854,468.057 324.5,455.5 323,447.5 314.705,449.58 309.861,440.263 299.181,423.42 294.071,418.662 300.441,416.254 318.441,409.754 337.709,409.684 351.639,396.763 363.344,385.905 358.954,357.362 355.5,347.5 354.309,344.1 351.967,340.062 348.167,336.167 339.93,327.723 339.326,327.302 332.339,331.006 325.352,334.711 321.484,330.976 320,340.5 z; M 340,369 C 331.948,373.871 327,379 314,380 300,380 278,367 272,367 266,366 245,366 205,403 165,440 164,476 165,486 166,495 169,500 189,499 208,497 234,482 240,475 247,469 251,463.541 250,459.541 250,455.541 251,429 255,421 259,413 284.721,420.334 289.738,421.246 295.723,422.334 319.015,429.088 325,428 330.017,427.088 344,418 348,412 352,406 363.424,388.824 357,374 350.418,358.812 346.402,365.127 340,369 z'%3E%3C/animate%3E%3C/path%3E%3Cpath id='cuisse-av-g' style='fill:%23ffb039;fill-opacity:1;stroke:none' d='m 346,411 c 10,-11 10,-13 15,-21 5,-8 12,-32 -3,-33 -15,-2 -27,23 -41,25 -9,2 29,29 29,29 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' m 346,411 c 10,-11 10,-13 15,-21 5,-8 12,-32 -3,-33 -15,-2 -27,23 -41,25 -9,2 29,29 29,29 z; m 352.5,413.833 c 18.5,-0.499 23.167,-15.168 28,-34.667 2.423,-9.776 7.596,-27.735 -15.167,-29.167 C 341.5,348.5 329.667,343.666 326.5,373.5 c -3.167,29.834 7.5,40.832 26,40.333 z; m 365.188,386.749 c 14.033,-12.066 8.391,-26.388 -0.17,-44.562 -4.292,-9.112 -11.618,-26.306 -30.176,-13.046 -19.43,13.884 -31.659,17.605 -15.28,42.741 16.377,25.138 31.592,26.933 45.626,14.867 z; m 366.854,389.082 c 40.646,11.419 13.541,-26.407 4.979,-44.581 -4.292,-9.112 -16.768,-26.286 -35.326,-13.026 -19.43,13.884 -35.696,19.891 -17.008,43.359 14.334,18 25.39,8.077 47.355,14.248 z; m 346.5,382 c 33,0 10.569,-23.462 12,-43.5 1.5,-21 -7.935,-39.785 -26.492,-26.525 -19.43,13.884 -35.696,19.891 -17.008,43.359 14.333,18 8.685,26.666 31.5,26.666 z; m 343.5,372.5 c 32.5,27 6.569,-23.462 8,-43.5 1.5,-21 -3.935,-39.785 -22.492,-26.525 -19.43,13.884 -38.196,20.057 -19.508,43.525 14.333,18 16.451,11.921 34,26.5 z; m 340.5,376.5 c 21,10.5 22.069,-15.462 23.5,-35.5 1.5,-21 -19.435,-47.785 -37.992,-34.525 -19.43,13.884 -38.196,20.057 -19.508,43.525 14.333,18 13.594,16.297 34,26.5 z; m 346,411 c 10,-11 10,-13 15,-21 5,-8 12,-32 -3,-33 -15,-2 -27,23 -41,25 -9,2 29,29 29,29 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='patte-ar-g'%3E%3Cpath style='fill:%23ffb039;stroke:%23ff4c01;stroke-width:4' d='m 450,313 c -14,15 -22.41242,30.18684 -15,46 7.5925,16.19734 11.24268,23.74867 33,45 21.24559,20.75151 43.99616,29.95686 55,29 11.99633,-1.04316 9,-5 16,2 7,7 50.23386,79.82156 54,85 4.24137,5.83188 4.09215,40.80423 17,47 12.0952,5.8057 38.1957,-5.90364 46,-22 8.19684,-16.90597 7.83045,-40.92386 7,-43 -1.17444,-2.9361 -94.04651,-105.39177 -98,-106 -9.11234,-1.4019 -22,3 -22,3 0,0 -6.40588,-20.18825 -3,-27 3.60555,-7.2111 -0.0923,-51.80528 -34,-68 -33.09344,-15.80582 -44.9956,-2.79043 -56,9 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' m 450,313 c -14,15 -22.41242,30.18684 -15,46 7.5925,16.19734 11.24268,23.74867 33,45 21.24559,20.75151 43.99616,29.95686 55,29 11.99633,-1.04316 9,-5 16,2 7,7 50.23386,79.82156 54,85 4.24137,5.83188 4.09215,40.80423 17,47 12.0952,5.8057 38.1957,-5.90364 46,-22 8.19684,-16.90597 7.83045,-40.92386 7,-43 -1.17444,-2.9361 -94.04651,-105.39177 -98,-106 -9.11234,-1.4019 -22,3 -22,3 0,0 -6.40588,-20.18825 -3,-27 3.60555,-7.2111 -0.0923,-51.80528 -34,-68 -33.09344,-15.80582 -44.9956,-2.79043 -56,9 z; m 465.501,299.167 c -7.917,7.667 -25.918,19.248 -23.959,36.541 1.959,17.293 5.805,26.063 16.293,37.793 12.667,14.167 48.333,36 71.707,36.207 30.965,0.274 23.606,-12.175 26.294,-4.874 C 565.835,432 600,455.25 624.5,467.75 c 15.165,7.737 34.984,17.455 45.25,15.5 15.75,-3 19.932,-28.898 20,-36.5 C 690,419 677.751,407.354 669.5,407.25 610,406.5 613.034,392.534 582.25,361.75 c -11.5,-11.5 -28.17203,11.862 -28,9.625 0.12497,-1.625 -5.25,-6.375 -4.75,-22.125 0.508,-15.995 -17.677,-49.652 -41.999,-53.917 -25.666,-4.5 -34.084,-3.834 -42,3.834 z; m 449.793,298.626 c -7.917,7.667 -25.918,19.248 -23.959,36.541 1.959,17.293 5.805,26.063 16.293,37.793 12.667,14.167 36.001,45.869 59.373,45.54 23.667,-0.333 26.334,-10.666 24.334,-8.333 -9.526,11.112 -14.334,55 34,114.667 10.716,13.228 32.506,-15.081 36.666,-24.667 7.667,-17.666 9.334,-47.666 5.334,-49.333 -19.896,-8.291 -27.174,-21.379 -30.334,-29 -5.667,-13.667 -5.376,-34.71 -6,-49.667 -0.678,-16.249 -35.172,3.904 -35,1.667 0.125,-1.625 2.793,-9.374 3.293,-25.124 0.508,-15.995 -17.677,-49.652 -42,-53.917 -25.665,-4.501 -34.083,-3.835 -42,3.833 z; m 450.833,297.834 c -10.63313,2.89799 -26,11.333 -30.333,29 -4.146,16.902 -5,28.334 -1.333,43.334 4.002,16.371 9.974,36.791 27.333,47 5.667,3.333 14.333,-5 0.667,5.333 -11.675,8.827 -31.167,38.667 -31.333,87.333 -0.059,17.023 37.49173,8.58269 56,-1 19.40221,-10.04553 30.256,-27.967 28,-31.667 -8.333,-13.666 -7.667,-26 -4.333,-40.333 3.351,-14.411 15.667,-23 24.333,-32 11.281,-11.715 -12.433,-32.273 -14.667,-29.667 -26,30.334 14.833,-15.583 15.333,-31.333 0.508,-15.995 4.656,-39.734 -19.667,-44 -25.665,-4.5 -38.54747,-5.12131 -50,-2 z; M 462.96954,298.94924 C 452.10283,300.79091 445.5,302 429.5,319 c -11.928,12.673 -14,25 -21.5,39.5 -6.286,12.152 -10.5,35.5 -2.5,52 2.868,5.916 4.667,11.667 -9,22 -11.675,8.827 -81.5,78.5 -86,104 -2.958,16.765 6.55,13.5 17,13.5 19.5,0 63.322,-2.004 65,-6 10.5,-25 20.992,-51.364 30,-63 12,-15.5 26.514,-27.369 36,-35.5 17.5,-15 15.503,-20.368 -5,-27.5 -11.5,-4 55,-11.5 67,-74.166 3.01,-15.718 -7.42345,-38.19844 -19.667,-44 -9.36228,-4.43628 -25.40077,-2.99692 -37.86346,-0.88476 z; m 463,311 c -10.83887,1.99899 -13,4 -29,21 -11.928,12.673 -14.23,27.177 -14,43.5 0.5,35.5 17,60.5 35,65.5 6.335,1.76 -1.657,16.139 -11,30.5 -27,41.5 -64,75 -82.5,96.5 -11.104,12.904 -2.95,16 7.5,16 19.5,0 67.744,-2.8 70,-6.5 12.5,-20.5 27.871,-39.242 39,-61.5 18,-36 29.197,-73.688 34.5,-85 7.5,-16 -1.5,-13.5 -18,-12 -12.126,1.103 24.5,-22.5 26.5,-70.5 0.666,-15.989 -7.9936,-18.54978 -22,-31 -10.29247,-9.14893 -24.54747,-8.61216 -36,-6.5 z; m 466.5,301 c -5.7579,3.39992 -10.03046,6.53046 -23,20.5 -11.84117,12.75417 -17.23,20.177 -17,36.5 0.5,35.5 40,66 58,71 6.335,1.76 32,34.5 28,59.5 -7.822,48.889 -17.5,62 -28,83 -7.613,15.227 -0.45,11.5 10,11.5 19.5,0 64.244,-0.3 66.5,-4 12.5,-20.5 8.375,-60.229 6,-85 -3.5,-36.5 -16.5,-62 -21.5,-73 -7.313,-16.087 -6.657,-10.224 -23,-7.5 -9,1.5 -7,1 2.5,-40 3.644,-15.724 -4.51738,-54.98064 -19,-68 -14.85531,-13.35439 -28.83604,-10.79685 -39.5,-4.5 z; m 450,313 c -14,15 -22.41242,30.18684 -15,46 7.5925,16.19734 11.24268,23.74867 33,45 21.24559,20.75151 43.99616,29.95686 55,29 11.99633,-1.04316 9,-5 16,2 7,7 50.23386,79.82156 54,85 4.24137,5.83188 4.09215,40.80423 17,47 12.0952,5.8057 38.1957,-5.90364 46,-22 8.19684,-16.90597 7.83045,-40.92386 7,-43 -1.17444,-2.9361 -94.04651,-105.39177 -98,-106 -9.11234,-1.4019 -22,3 -22,3 0,0 -6.40588,-20.18825 -3,-27 3.60555,-7.2111 -0.0923,-51.80528 -34,-68 -33.09344,-15.80582 -44.9956,-2.79043 -56,9 z '%3E%3C/animate%3E%3C/path%3E%3Cpath id='cuisse-ar-g' style='fill:%23ffb039;fill-opacity:1;stroke:none' d='m 447,307 c -19,13 -19,38 -17,47 2,9 2,13 24,34 22,21 54,17 65,10 12,-6 15.7059,-35.30548 14,-54 -1.12714,-12.35198 -6.08376,-18.62183 -14,-30 -8.07675,-11.60888 -19,-19 -39,-19 -20,1 -33,12 -33,12 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' m 447,307 c -19,13 -19,38 -17,47 2,9 2,13 24,34 22,21 54,17 65,10 12,-6 15.7059,-35.30548 14,-54 -1.12714,-12.35198 -6.08376,-18.62183 -14,-30 -8.07675,-11.60888 -19,-19 -39,-19 -20,1 -33,12 -33,12 z; m 455.001,298 c -9.833,7.167 -20.00289,27.74886 -17,47 3.5,22.43808 13.667,24.833 24,34 10.333,9.167 48.833,20.833 65,10 16.167,-10.833 18.166,-39.333 15.5,-54.333 -2.666,-15 -3.166,-18.501 -13.5,-29.667 -9.534,-10.301 -26.5,-21.001 -41,-19 -14.5,2.001 -23.167,4.832 -33,12 z; m 440.667,297.666 c -9.833,7.167 -19.99492,28.84315 -16.49492,48.01015 3.5,19.167 13.16192,23.82285 23.49492,32.98985 10.333,9.167 48.833,20.833 65,10 16.167,-10.833 18.167,-39.333 15.5,-54.333 -2.667,-15 -3.334,-18.499 -13.5,-32.667 -8.183,-11.404 -26.5,-18.001 -41,-16 -14.5,2.001 -23.167,4.832 -33,12 z; m 431.667,290.333 c -9.833,7.167 -20.5,27.833 -17,47 3.5,19.167 3.167,20.835 9.5,35.835 3.466,8.21 15.499,35.664 31.666,24.831 C 472,387.166 520.31777,356.14214 519.167,327 c -0.60114,-15.22321 -3.334,-18.499 -13.5,-32.667 -8.183,-11.404 -26.5,-18.001 -41,-16 -14.5,2.001 -23.167,4.832 -33,12 z; m 429.834,297.834 c -9.833,7.167 -10.13007,13.61739 -17.86446,45.13554 -7.28059,29.66889 4.03146,22.69946 10.36446,37.69946 3.466,8.21 15.499,35.664 31.666,24.831 16.167,-10.833 66,-55.999 63.334,-70.999 -2.666,-15 -3.334,-18.499 -13.5,-32.667 -8.183,-11.404 -26.5,-18.001 -41,-16 -14.5,2.001 -23.167,4.832 -33,12 z; M 430.834,303.834 C 421.001,311.001 414.946,319.315 416,352 c 0.5,15.5 9.667,44.5 16,59.5 3.466,8.21 23.84823,19.35331 40.01523,8.52031 C 488.18223,409.18731 519,369.5 519.5,346 c 0.324,-15.231 -4.5,-23.998 -14.666,-38.166 -8.183,-11.404 -26.5,-18.001 -41,-16 -14.5,2.001 -23.167,4.832 -33,12 z; m 430.834,303.834 c -9.833,7.167 -12.888,12.981 -11.834,45.666 0.5,15.5 22,44 38,59.5 6.401,6.201 18.333,9.333 34.5,-1.5 16.167,-10.833 27.5,-38 28,-61.5 0.324,-15.231 -3.334,-27.832 -13.5,-42 -8.183,-11.404 -24,-15.75 -42.166,-12.167 -14.361,2.834 -23.167,4.833 -33,12.001 z; m 447,307 c -19,13 -19,38 -17,47 2,9 2,13 24,34 22,21 54,17 65,10 12,-6 15.7059,-35.30548 14,-54 -1.12714,-12.35198 -6.08376,-18.62183 -14,-30 -8.07675,-11.60888 -19,-19 -39,-19 -20,1 -33,12 -33,12 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='Tete'%3E%3Cpath style='fill:%23ffb039;stroke:%23ff4c01;stroke-width:4' d=' m 153,165 c -12,49 -28,55 -11,98 18,43 22,45 33,55 12,10 18,13 16,18 -1,5 -12,17 -2,22 10,6 43,10 75,-16 34,-28 43,-55 48,-76 6,-20 -9,-76 -20,-95 -11,-19 -139,-6 -139,-6 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' m 153,165 c -12,49 -28,55 -11,98 18,43 22,45 33,55 12,10 18,13 16,18 -1,5 -12,17 -2,22 10,6 43,10 75,-16 34,-28 43,-55 48,-76 6,-20 -9,-76 -20,-95 -11,-19 -139,-6 -139,-6 z; m 153.222,185.638 c -9.869,49.473 -25.595,56.16 -6.75,98.384 19.843,42.181 23.926,44.007 35.348,53.521 12.421,9.473 18.546,12.209 16.764,17.291 -0.783,5.039 -11.253,17.504 -1.046,22.066 10.25,5.563 43.393,8.131 74.238,-19.229 32.757,-29.445 40.581,-56.809 44.667,-78.006 5.129,-20.241 -12.279,-75.54 -24.09,-94.046 -11.811,-18.506 -139.131,0.019 -139.131,0.019 z; m 160.722,170.138 c -9.869,49.473 -25.595,56.16 -6.75,98.384 19.843,42.181 23.926,44.007 35.348,53.521 12.421,9.473 18.546,12.209 16.764,17.291 -0.783,5.039 -11.253,17.504 -1.046,22.066 10.25,5.563 43.393,8.131 74.238,-19.229 32.757,-29.445 40.581,-56.809 44.667,-78.006 5.129,-20.241 -12.279,-75.54 -24.09,-94.046 -11.811,-18.506 -139.131,0.019 -139.131,0.019 z; m 161.995,161.884 c -5.584,50.138 -20.678,58.15 1.723,98.6 23.393,40.32 27.617,41.789 39.814,50.287 13.188,8.371 19.525,10.57 18.186,15.789 -0.347,5.086 -9.708,18.404 0.853,22.074 10.69,4.66 43.93,4.373 72.313,-25.533 30.107,-32.15 35.552,-60.083 37.804,-81.554 3.372,-20.606 -18.721,-74.206 -32.078,-91.629 -13.359,-17.423 -138.615,11.966 -138.615,11.966 z; m 146.769,150.843 c 0.471,50.446 -13.553,60.21 13.538,97.682 28.061,37.223 32.43,38.175 45.559,45.148 14.097,6.729 20.652,8.153 19.949,13.494 0.266,5.091 -7.431,19.436 3.494,21.813 11.172,3.344 44.138,-0.928 68.728,-34.022 26.033,-35.529 28.088,-63.914 27.748,-85.5 C 326.66,188.595 295.351,151.695 280,136 264.649,120.304 146.769,150.843 146.769,150.843 z; m 162.318,141.398 c -9.432,49.559 -25.098,56.383 -5.882,98.439 20.216,42.003 24.314,43.794 35.82,53.206 12.503,9.363 18.652,12.044 16.916,17.144 -0.738,5.044 -11.098,17.601 -0.852,22.074 10.299,5.47 43.462,7.746 74.065,-19.883 32.496,-29.734 40.077,-57.164 43.978,-78.398 4.95,-20.285 -18.514,-62.607 -30.489,-81.009 -11.976,-18.4 -133.556,-11.573 -133.556,-11.573 z; m 157.318,151.398 c -9.432,49.559 -25.098,56.383 -5.882,98.439 20.216,42.003 24.314,43.794 35.82,53.206 12.503,9.363 18.652,12.045 16.916,17.145 -0.738,5.044 -11.098,17.601 -0.852,22.074 10.299,5.47 43.462,7.746 74.065,-19.883 32.496,-29.734 40.077,-57.164 43.978,-78.398 4.95,-20.285 -18.514,-62.607 -30.489,-81.009 -11.976,-18.401 -133.556,-11.574 -133.556,-11.574 z; m 153,165 c -12,49 -28,55 -11,98 18,43 22,45 33,55 12,10 18,13 16,18 -1,5 -12,17 -2,22 10,6 43,10 75,-16 34,-28 43,-55 48,-76 6,-20 -9,-76 -20,-95 -11,-19 -139,-6 -139,-6 z '%3E%3C/animate%3E%3C/path%3E%3Cpath id='cou' style='fill:%23ffb039;fill-opacity:1;stroke:none' d='M 278,161 C 298,170 293,163 300,172 307,180 320,216 320,238 321,260 308,292 290,312 275,329 269,338 258,344 248,350 278,161 278,161 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' M 278,161 C 298,170 293,163 300,172 307,180 320,216 320,238 321,260 308,292 290,312 275,329 269,338 258,344 248,350 278,161 278,161 z; M277.932,176.235 c20.371,8.126,15.073,1.35,22.455,10.038c7.34,7.69,21.885,43.094,22.836,65.073c1.951,21.936-9.653,54.468-26.771,75.228 c-14.251,17.633-19.856,26.885-30.586,33.355C256.135,366.355,277.932,176.235,277.932,176.235z ; M285.432,160.735 c20.371,8.126,15.073,1.35,22.455,10.038c7.34,7.69,21.885,43.094,22.836,65.073c1.951,21.936-9.653,54.468-26.771,75.228 c-14.251,17.633-19.856,26.885-30.586,33.355C263.635,350.855,285.432,160.735,285.432,160.735z ; M285.437,141.806 c20.993,6.348,15.133,0.051,23.234,8.073c7.973,7.032,25.505,41.056,28.34,62.872c3.828,21.687-4.94,55.096-20.211,77.249 c-12.685,18.792-17.474,28.491-27.608,35.858C280.048,333.096,285.437,141.806,285.437,141.806z; M263.5,125 c21.603,3.784,21.495,1.507,30.5,8.5c8.759,6.024,27.246,24.2,32.677,45.519c6.401,21.071,1.705,55.291-10.799,79.115 c-10.339,20.178-13.93,30.381-23.108,38.911C284.561,305.327,263.5,125,263.5,125z; M281.85,138.95 c20.442,7.947,20.782,5.694,28.241,14.317c7.408,7.625,21.971,29.073,23.116,51.043c2.145,21.917-9.172,54.552-26.105,75.461 c-14.095,17.758-19.618,27.06-30.29,33.623C267.137,319.905,281.85,138.95,281.85,138.95z; M276.85,148.95 c20.442,7.947,20.782,5.694,28.241,14.317c7.408,7.625,21.971,29.073,23.116,51.043c2.145,21.917-9.172,54.552-26.105,75.461 c-14.095,17.759-19.618,27.06-30.29,33.623C262.137,329.905,276.85,148.95,276.85,148.95z ; M 278,161 C 298,170 293,163 300,172 307,180 320,216 320,238 321,260 308,292 290,312 275,329 269,338 258,344 248,350 278,161 278,161 z '%3E%3C/animate%3E%3C/path%3E%3Cpath style='fill:%23ff4c01;fill-opacity:1;stroke:none' id='bouche' d='M 220,338 C 220,338 226,343 224,350 222,357 220,362 216,362 212,362 221,364 223,361 226,358 228,353 228,348 227,342 223,340 220,338 z '%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' M 220,338 C 220,338 226,343 224,350 222,357 220,362 216,362 212,362 221,364 223,361 226,358 228,353 228,348 227,342 223,340 220,338 z; m 227.642,355.578 c 0,0 6.21,4.736 4.515,11.816 -1.695,7.08 -3.477,12.16 -7.473,12.334 -3.997,0.174 5.082,1.781 6.95,-1.303 2.867,-3.127 4.649,-8.207 4.433,-13.203 -1.258,-5.951 -5.341,-7.775 -8.425,-9.644 z; m 235.142,340.078 c 0,0 6.21,4.736 4.515,11.816 -1.695,7.08 -3.477,12.16 -7.473,12.334 -3.997,0.174 5.082,1.781 6.95,-1.303 2.867,-3.127 4.649,-8.207 4.433,-13.203 -1.258,-5.951 -5.341,-7.775 -8.425,-9.644 z; M250.735,324.805c0,0,6.594,4.186,5.513,11.387 c-1.081,7.199-2.42,12.412-6.386,12.93c-3.967,0.516,5.215,1.336,6.813-1.896c2.588-3.359,3.927-8.574,3.283-13.533 C258.192,327.869,253.967,326.404,250.735,324.805z; M254.411,301.942c0,0,7.049,3.364,6.839,10.644 c-0.209,7.276-0.914,12.612-4.789,13.602c-3.876,0.988,5.338,0.701,6.536-2.699c2.166-3.646,2.87-8.983,1.635-13.829 C262.181,304.091,257.812,303.143,254.411,301.942z ; M238.236,310.674c0,0,6.252,4.681,4.619,11.777 c-1.632,7.095-3.369,12.188-7.363,12.398c-3.995,0.209,5.097,1.734,6.938-1.364c2.839-3.15,4.576-8.247,4.315-13.24 C245.434,314.305,241.335,312.518,238.236,310.674z ; M233.236,320.674c0,0,6.252,4.681,4.619,11.777 c-1.632,7.095-3.369,12.188-7.363,12.398c-3.995,0.209,5.097,1.734,6.938-1.364c2.839-3.15,4.576-8.247,4.315-13.24 C240.434,324.305,236.335,322.518,233.236,320.674z; M 220,338 C 220,338 226,343 224,350 222,357 220,362 216,362 212,362 221,364 223,361 226,358 228,353 228,348 227,342 223,340 220,338 z '%3E%3C/animate%3E%3C/path%3E%3Cpath id='nez' style='fill:%23ff4c01;fill-opacity:1;stroke:none' d=' '%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' fill='freeze' values=' m 199,351 c 0,0 3,0 3,-3 0,-4 -3,-4 -3,-4 0,0 1,1 1,3 0,2 -3,3 -1,4 z; m 207.224,369.475 c 0,0 2.997,-0.131 2.867,-3.127 -0.173,-3.996 -3.17,-3.867 -3.17,-3.867 0,0 1.042,0.957 1.129,2.955 0.087,1.998 -2.867,3.127 -0.826,4.039 z; m 214.724,353.975 c 0,0 2.997,-0.131 2.867,-3.127 -0.173,-3.996 -3.17,-3.867 -3.17,-3.867 0,0 1.042,0.957 1.129,2.955 0.087,1.998 -2.867,3.127 -0.826,4.039 z; m 231.585,340.404 c 0,0 2.975,-0.389 2.588,-3.363 -0.516,-3.965 -3.49,-3.578 -3.49,-3.578 0,0 1.12,0.863 1.378,2.846 0.259,1.982 -2.588,3.361 -0.476,4.095 z; m 237.271,319.727 c 0,0 2.907,-0.742 2.167,-3.65 -0.988,-3.874 -3.894,-3.133 -3.894,-3.133 0,0 1.215,0.723 1.709,2.66 0.493,1.936 -2.168,3.647 0.018,4.123 z; m 217.941,324.751 c 0,0 2.996,-0.158 2.84,-3.154 -0.209,-3.993 -3.204,-3.836 -3.204,-3.836 0,0 1.05,0.947 1.154,2.943 0.105,1.996 -2.839,3.152 -0.79,4.047 z; m 212.941,334.751 c 0,0 2.996,-0.158 2.84,-3.154 -0.209,-3.993 -3.204,-3.836 -3.204,-3.836 0,0 1.05,0.947 1.154,2.943 0.105,1.996 -2.839,3.152 -0.79,4.047 z; m 199,351 c 0,0 3,0 3,-3 0,-4 -3,-4 -3,-4 0,0 1,1 1,3 0,2 -3,3 -1,4 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='Hair'%3E%3Cpath style='fill:%23fffea1;stroke:%23f2e000;stroke-width:4' d='m 114.63706,161.7208 c -18.520137,16.0703 -36.040611,34.00508 -36.05584,57.07107 -0.02224,33.68835 15.622848,42.23199 15.622848,42.23199 0,0 -3.683763,-11.10152 -1.016763,-17.76852 3.976,-9.938 8.030455,-17.77868 8.030455,-17.77868 0,0 -3.578694,39.08554 11.96955,64.7792 13.97252,23.08977 27.54183,38.20531 37.81016,43.27208 10.53649,5.19909 28.3051,17.74822 28.3051,17.74822 0,0 -6.94837,-4.66452 -9.22591,-26.70813 -0.94975,-9.19238 5.10293,-14.30079 5.64518,-25.62639 0.93508,-19.53061 -4.59645,-37.13198 -4.59645,-37.13198 0,0 1.25508,9.91422 17.88706,16.59137 6.76372,2.7154 28.28605,-2.0873 28.28605,-2.0873 0,0 -23.95788,-11.57611 -26.66803,-29.30202 -0.43813,-2.86556 6.69745,-0.0101 15.5236,-1.36853 6.4971,-0.99993 21.55913,-1.91522 21.55913,-1.91522 0,0 -27.70859,-20.7707 -22.83959,-45.9797 5.667,-29.333 18.13652,-33.74601 28.40355,-44.80762 4.43401,-4.77716 -5.02346,-17.01049 -21.35279,-24.4137 -9.19578,-4.16908 -76.22095,14.91416 -97.28731,33.19386 z'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' values=' m 114.63706,161.7208 c -18.520137,16.0703 -36.040611,34.00508 -36.05584,57.07107 -0.02224,33.68835 15.622848,42.23199 15.622848,42.23199 0,0 -3.683763,-11.10152 -1.016763,-17.76852 3.976,-9.938 8.030455,-17.77868 8.030455,-17.77868 0,0 -3.578694,39.08554 11.96955,64.7792 13.97252,23.08977 27.54183,38.20531 37.81016,43.27208 10.53649,5.19909 28.3051,17.74822 28.3051,17.74822 0,0 -6.94837,-4.66452 -9.22591,-26.70813 -0.94975,-9.19238 5.10293,-14.30079 5.64518,-25.62639 0.93508,-19.53061 -4.59645,-37.13198 -4.59645,-37.13198 0,0 1.25508,9.91422 17.88706,16.59137 6.76372,2.7154 28.28605,-2.0873 28.28605,-2.0873 0,0 -23.95788,-11.57611 -26.66803,-29.30202 -0.43813,-2.86556 6.69745,-0.0101 15.5236,-1.36853 6.4971,-0.99993 21.55913,-1.91522 21.55913,-1.91522 0,0 -27.70859,-20.7707 -22.83959,-45.9797 5.667,-29.333 18.13652,-33.74601 28.40355,-44.80762 4.43401,-4.77716 -5.02346,-17.01049 -21.35279,-24.4137 -9.19578,-4.16908 -76.22095,14.91416 -97.28731,33.19386 z; m 101,189.5 c -19,15.5 -32,33.5 -30.5,50 3.05,33.55 16.633,35.666 16.633,35.666 0,0 1.367,-1 4.034,-7.667 3.976,-9.938 5,-6.667 5,-6.667 0,0 10.333,7.333 15,37 3.871,24.605 -3.785,43.171 -9.667,49.333 -7,7.333 -18.667,9.667 -18.667,9.667 0,0 44.208,5.746 63,-6 10.667,-6.667 19.667,-19.333 24.333,-29.667 6.996,-15.49 5,-24 5,-24 0,0 0.75,1.833 4.25,7.5 3.83,6.201 12.62869,10.03453 12.62869,10.03453 0,0 3.82131,-47.43653 2.12131,-52.53553 -0.917,-2.75 3.667,1 4.917,2.167 4.805,4.486 7.417,6.166 7.417,6.166 0,0 -10.536,-22.791 -5.667,-48 5.667,-29.333 27,-37 38,-47.333 11,-10.333 -18.11116,-31.79847 -36,-33 C 190.30931,141.32283 116.12752,177.15913 101,189.5 z; m 107.5,180.167 c -19,15.5 -25.833,39.167 -24.333,55.667 3.05,33.55 19.667,40 19.667,40 0,0 -1,-8.333 1.667,-15 3.976,-9.938 3.333,-7.667 3.333,-7.667 0,0 -0.334,17.333 9.666,31.666 14.251,20.426 20.333,41.333 17.667,54.667 -1.989,9.941 -10.667,18.667 -10.667,18.667 0,0 18.542,2.746 37.333,-9 10.667,-6.668 17.666,-12.665 23.333,-26.334 6.509,-15.701 0.833,-27.499 0.833,-27.499 0,0 1.167,1.5 4.583,4.75 2.78,2.645 4.083,4.25 4.083,4.25 10.333,-23.332 6.867,-44.401 5.167,-49.5 -0.917,-2.75 3.667,1 4.917,2.167 4.805,4.486 7.417,6.166 7.417,6.166 0,0 -9.203,-27.458 -4.333,-52.667 5.667,-29.333 17,-36 28,-46.333 11,-10.333 -20.667,-24.334 -33,-22.001 -12.333,2.333 -95.333,38.001 -95.333,38.001 z; m 126.167,170.167 c -19,15.5 -27.833,47.5 -26.333,64 3.05,33.55 23,42 23,42 0,0 1.667,-4.82 1.667,-12 0,-10 0,-12.667 0,-12.667 0,0 4,16 14,30.333 14.251,20.426 32.5,25 35.667,48.333 1.363,10.046 0.333,33.333 0.333,33.333 0,0 7.191,-0.803 23,-16.333 9.5,-9.333 14.388,-25.872 14.667,-40.667 0.333,-17.667 -6.333,-24 -6.333,-24 0,0 4.25,8.75 7.667,12 2.78,2.645 6,3.667 6,3.667 4.333,-24.333 -5.633,-42.901 -7.333,-48 -0.917,-2.75 6.083,0.5 7.333,1.667 4.805,4.486 10,4.667 10,4.667 0,0 -22.87,-38.124 -18,-63.333 5.667,-29.333 8.333,-35 19.333,-45.333 11,-10.333 -13.833,-8.001 -26.167,-5.667 -12.334,2.334 -78.501,28 -78.501,28 z; m 129.667,149.667 c -19,15.5 -26,47.5 -24.5,64 3.05,33.55 25.167,51.333 25.167,51.333 0,0 -4.167,-14.153 -4.167,-21.333 0,-10 1.833,-12.667 1.833,-12.667 0,0 6.635,21.438 15.5,36.5 17.167,29.167 27.167,34.667 36,47.5 5.748,8.351 25,34.5 25,34.5 0,0 4.537,-9.733 8.5,-24 3.125,-11.25 2.5,-24.75 1.5,-39.625 -0.771,-11.475 -6.125,-24 -6.125,-24 0,0 5.641,8.602 9.625,11.125 3.75,2.375 12.167,1.833 12.167,1.833 0,-24 -12.5,-37.667 -17.833,-45.333 -1.655,-2.38 9.016,1.386 10.667,1.833 9.375,2.542 13.5,0.167 13.5,0.167 0,0 -29.75,-35.325 -29.75,-61 0,-16.75 10,-35.167 21,-45.5 11,-10.333 -35.417,-5.333 -47.75,-3 -12.333,2.333 -50.334,27.667 -50.334,27.667 z; m 127.833,141.833 c -19,15.5 -29.5,46.833 -28,63.333 3.05,33.55 19.333,48.333 19.333,48.333 0,0 0.333,-7.153 0.333,-14.333 0,-10 1.25,-6.5 1.25,-6.5 0,0 5.906,23.721 14.083,39.167 15,28.333 20.833,35.501 29.667,48.333 5.748,8.352 31,33 31,33 0,0 -10.296,-23.399 -6.333,-37.667 3.125,-11.25 10.667,-23.125 9.667,-38 -0.771,-11.475 -13,-35.667 -13,-35.667 0,0 10.946,19.074 14,22.667 5.667,6.667 24.667,12.333 24.667,12.333 -8,-25.667 -17.667,-45 -23,-52.667 -1.655,-2.38 10.333,7.667 14.25,8.833 9.309,2.772 16.75,0.167 16.75,0.167 0,0 -21.333,-32.325 -21.333,-58 0,-16.75 10.667,-29.667 21.667,-40 11,-10.333 -47.75,-13.833 -60.083,-11.5 -12.333,2.333 -44.918,18.168 -44.918,18.168 z; m 117.833,141.833 c -19,15.5 -29.5,46.833 -28,63.333 3.05,33.55 19.333,48.333 19.333,48.333 0,0 0.333,-7.153 0.333,-14.333 0,-10 1.25,-6.5 1.25,-6.5 0,0 5.572,25.387 13.75,40.833 15,28.333 22.50681,36.9691 34.01523,47.46954 13.55584,12.36854 37.54569,18.95432 37.54569,18.95432 0,0 -8.52772,-11.18456 -10.52539,-24.90863 -2.43641,-16.73834 -2.30631,-27.66182 -3.07106,-42.55076 -0.771,-15.01054 -6.63147,-30.63147 -6.63147,-30.63147 0,0 6.59693,16.12231 21.668,23.668 11.99668,6.00642 28,4.5 28,4.5 -28.15229,-23.50508 -28.667,-38.167 -34,-45.833 -1.655,-2.38 2.75686,3.62639 14.75508,8.32792 C 215.29851,236.03862 232.5,233 232.5,233 c 0,0 -24,-22.325 -24,-48 0,-16.75 6,-33.167 17,-43.5 11,-10.333 -50.417,-20.167 -62.75,-17.833 -12.333,2.334 -44.917,18.166 -44.917,18.166 z; m 114.63706,161.7208 c -18.520137,16.0703 -36.040611,34.00508 -36.05584,57.07107 -0.02224,33.68835 15.622848,42.23199 15.622848,42.23199 0,0 -3.683763,-11.10152 -1.016763,-17.76852 3.976,-9.938 8.030455,-17.77868 8.030455,-17.77868 0,0 -3.578694,39.08554 11.96955,64.7792 13.97252,23.08977 27.54183,38.20531 37.81016,43.27208 10.53649,5.19909 28.3051,17.74822 28.3051,17.74822 0,0 -6.94837,-4.66452 -9.22591,-26.70813 -0.94975,-9.19238 5.10293,-14.30079 5.64518,-25.62639 0.93508,-19.53061 -4.59645,-37.13198 -4.59645,-37.13198 0,0 1.25508,9.91422 17.88706,16.59137 6.76372,2.7154 28.28605,-2.0873 28.28605,-2.0873 0,0 -23.95788,-11.57611 -26.66803,-29.30202 -0.43813,-2.86556 6.69745,-0.0101 15.5236,-1.36853 6.4971,-0.99993 21.55913,-1.91522 21.55913,-1.91522 0,0 -27.70859,-20.7707 -22.83959,-45.9797 5.667,-29.333 18.13652,-33.74601 28.40355,-44.80762 4.43401,-4.77716 -5.02346,-17.01049 -21.35279,-24.4137 -9.19578,-4.16908 -76.22095,14.91416 -97.28731,33.19386 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3Cg id='Chapo'%3E%3Cg id='layer3'%3E%3Cpath style='fill:%23cc872c;stroke:%23a96f25;stroke-width:4.9' d='M102,167 c0,0,9-17,13-40c4-24,7-48.6,12-52.3c5-3.7,24,0.8,34-1.5c10-2.2,61-25.1,81-26.6c20-1.5,19-1.1,24,4.8c4,5.9,10,18.1,16,30.7 C288,94.7,294,106,299,112C305,119,102,167,102,167z' id='path3026'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' values=' M102,167 c0,0,9-17,13-40c4-24,7-48.6,12-52.3c5-3.7,24,0.8,34-1.5c10-2.2,61-25.1,81-26.6c20-1.5,19-1.1,24,4.8c4,5.9,10,18.1,16,30.7 C288,94.7,294,106,299,112C305,119,102,167,102,167z ; M104.197,184.416c0,0,8.607-17.202,12.079-40.287c3.448-24.086,5.882-48.748,10.796-52.562c4.914-3.814,24.013,0.249,33.958-2.28 c9.946-2.429,60.408-26.494,80.368-28.452c19.96-1.958,18.969-1.535,24.104,4.248c4.134,5.807,10.413,17.866,16.699,30.325 c6.288,12.459,12.546,23.618,17.682,29.502C306.042,131.77,104.197,184.416,104.197,184.416z; M105.35,175.856 c0,0,7.525-17.702,9.559-40.958c1.949-24.253,2.851-49.019,7.518-53.13c4.668-4.111,23.982-1.239,33.751-4.379 c9.777-3.041,58.65-30.186,78.451-33.377c19.8-3.191,18.837-2.707,24.321,2.747c4.485,5.54,11.5,17.187,18.546,29.232 c7.048,12.045,13.985,22.795,19.476,28.35C303.545,110.805,105.35,175.856,105.35,175.856z; M107.565,168.549c0,0,6.527-18.094,7.262-41.427c0.594-24.324,0.113-49.102,4.544-53.466c4.432-4.365,23.876-2.574,33.454-6.254 c9.592-3.581,56.876-33.408,76.468-37.699c19.592-4.29,18.657-3.753,24.437,1.387c4.787,5.281,12.44,16.519,20.146,28.153 c7.709,11.633,15.234,21.98,21.026,27.22C301.826,92.551,107.565,168.549,107.565,168.549z; M103.648,155.524c0,0,6.527-18.094,7.262-41.427c0.594-24.324,0.113-49.102,4.544-53.466c4.432-4.365,23.876-2.574,33.454-6.254 c9.592-3.581,56.876-33.408,76.468-37.699c19.592-4.29,18.657-3.753,24.437,1.387c4.787,5.281,12.44,16.519,20.146,28.153 c7.709,11.633,15.234,21.98,21.026,27.22C297.908,79.526,103.648,155.524,103.648,155.524z ; M110.61,140.92 c0,0,8.225-17.388,11.185-40.545c2.915-24.156,4.803-48.866,9.631-52.788c4.828-3.921,24.012-0.281,33.899-3.03 c9.891-2.648,59.807-27.822,79.72-30.222c19.912-2.398,18.93-1.954,24.192,3.715c4.261,5.714,10.805,17.631,17.365,29.948 c6.563,12.317,13.065,23.335,18.33,29.104C311.241,83.825,110.61,140.92,110.61,140.92z; M102.55,150.369 c0,0,8.225-17.388,11.185-40.545c2.915-24.156,4.803-48.866,9.631-52.788c4.828-3.921,24.012-0.281,33.899-3.03 c9.891-2.648,59.807-27.822,79.72-30.222c19.912-2.398,18.93-1.954,24.192,3.715c4.261,5.714,10.805,17.631,17.365,29.948 c6.563,12.317,13.065,23.335,18.33,29.104C303.181,93.274,102.55,150.369,102.55,150.369z; M102,167 c0,0,9-17,13-40c4-24,7-48.6,12-52.3c5-3.7,24,0.8,34-1.5c10-2.2,61-25.1,81-26.6c20-1.5,19-1.1,24,4.8c4,5.9,10,18.1,16,30.7 C288,94.7,294,106,299,112C305,119,102,167,102,167z '%3E%3C/animate%3E%3C/path%3E%3Cpath style='fill:%23cc872c;fill-opacity:1;stroke:%23a96f25;stroke-width:4' d='M 9.62,149 C 9.62,149 18.9,165 54,165 89.1,166 133,154 159,143 184,132 216,105 252,101 288,96.8 309,101 321,110 333,120 362,145 368,154 375,163 375,163 375,170 376,177 376,179 376,179 376,179 357,173 331,169 304,165 284,165 272,159 261,153 241,148 202,152 164,157 117,171 90.3,173 63.6,175 36.3,188 9.62,149 z' id='path3796'%3E%3Canimate attributeType='XML' attributeName='d' values=' M 9.62,149 C 9.62,149 18.9,165 54,165 89.1,166 133,154 159,143 184,132 216,105 252,101 288,96.8 309,101 321,110 333,120 362,145 368,154 375,163 375,163 375,170 376,177 376,179 376,179 376,179 357,173 331,169 304,165 284,165 272,159 261,153 241,148 202,152 164,157 117,171 90.3,173 63.6,175 36.3,188 9.62,149 z; m 11.428,168.541 c 0,0 9.645,15.783 44.735,14.978 35.113,0.194 78.726,-12.81 104.468,-24.404 24.741,-11.57 56.113,-39.298 92.011,-44.123 35.894,-5.025 56.985,-1.308 69.188,7.414 12.227,9.722 41.793,34.05 47.997,42.909 7.205,8.837 7.205,8.837 7.366,15.835 1.16,6.976 1.206,8.975 1.206,8.975 0,0 -19.132,-5.562 -45.218,-8.964 -27.084,-3.379 -47.078,-2.92 -59.213,-8.644 -11.134,-5.746 -31.244,-10.285 -70.142,-5.392 -37.875,5.871 -84.542,20.946 -111.189,23.558 -26.647,2.612 -53.641,16.235 -81.209,-22.142 z; m 11.776,165.759 c 0,0 10.604,15.155 45.577,12.177 35.058,-1.982 77.781,-17.663 102.754,-30.83 23.977,-13.081 53.57,-42.699 89.101,-49.739 35.514,-7.239 56.795,-4.836 69.514,3.113 12.806,8.946 43.823,31.394 50.564,39.853 7.739,8.374 7.739,8.374 8.333,15.349 1.59,6.891 1.76,8.883 1.76,8.883 0,0 -19.44,-4.366 -45.687,-6.146 -27.241,-1.695 -47.168,0.002 -59.635,-4.958 -11.469,-5.045 -31.822,-8.33 -70.342,-1.035 -37.439,8.206 -83.082,26.144 -109.515,30.402 -26.434,4.257 -52.533,19.527 -82.424,-17.069 z; m 13.574,163.685 c 0,0 11.432,14.54 46.185,9.618 34.893,-3.933 76.676,-21.972 100.876,-36.51 23.21,-14.397 51.106,-45.619 86.19,-54.629 35.055,-9.207 56.437,-7.995 69.58,-0.767 13.285,8.218 45.505,28.903 52.707,36.972 8.194,7.929 8.194,7.929 9.175,14.86 1.972,6.791 2.252,8.771 2.252,8.771 0,0 -19.653,-3.276 -45.958,-3.589 -27.293,-0.174 -47.095,2.631 -59.818,-1.626 -11.733,-4.398 -32.237,-6.543 -70.29,2.888 -36.923,10.281 -81.495,30.734 -107.65,36.46 -26.157,5.724 -51.364,22.424 -83.249,-12.448 z; m 9.657,150.66 c 0,0 11.432,14.54 46.185,9.617 34.893,-3.933 76.676,-21.972 100.876,-36.51 23.21,-14.397 51.106,-45.619 86.19,-54.629 35.055,-9.207 56.437,-7.995 69.58,-0.767 13.285,8.218 45.505,28.903 52.707,36.972 8.194,7.929 8.194,7.929 9.175,14.86 1.972,6.791 2.252,8.771 2.252,8.771 0,0 -19.653,-3.276 -45.958,-3.589 -27.293,-0.174 -47.095,2.631 -59.818,-1.626 -11.733,-4.398 -32.237,-6.543 -70.29,2.888 -36.923,10.281 -81.495,30.734 -107.65,36.46 -26.157,5.724 -51.364,22.425 -83.249,-12.447 z; m 17.513,127.099 c 0,0 9.991,15.566 45.056,13.985 35.109,-0.582 78.423,-14.548 103.902,-26.708 24.48,-12.114 55.23,-40.529 91.014,-46.146 35.774,-5.817 56.942,-2.567 69.335,5.883 12.439,9.45 42.536,33.117 48.934,41.838 7.398,8.676 7.398,8.676 7.714,15.668 1.313,6.949 1.404,8.947 1.404,8.947 0,0 -19.25,-5.138 -45.405,-7.963 -27.152,-2.78 -47.131,-1.879 -59.389,-7.333 -11.259,-5.498 -31.465,-9.592 -70.245,-3.839 -37.736,6.707 -84.058,22.81 -110.64,26.01 -26.584,3.2 -53.271,17.417 -81.68,-20.342 z; m 9.453,136.548 c 0,0 9.991,15.566 45.056,13.985 35.109,-0.582 78.423,-14.548 103.902,-26.708 24.48,-12.114 55.23,-40.529 91.014,-46.146 35.774,-5.817 56.942,-2.567 69.335,5.883 12.439,9.45 42.536,33.117 48.934,41.838 7.398,8.676 7.398,8.676 7.714,15.668 1.313,6.949 1.404,8.947 1.404,8.947 0,0 -19.25,-5.138 -45.405,-7.963 -27.152,-2.78 -47.131,-1.879 -59.389,-7.333 -11.259,-5.498 -31.465,-9.592 -70.245,-3.839 -37.736,6.707 -84.058,22.81 -110.64,26.01 -26.584,3.2 -53.272,17.417 -81.68,-20.342 z; M 9.62,149 C 9.62,149 18.9,165 54,165 89.1,166 133,154 159,143 184,132 216,105 252,101 288,96.8 309,101 321,110 333,120 362,145 368,154 375,163 375,163 375,170 376,177 376,179 376,179 376,179 357,173 331,169 304,165 284,165 272,159 261,153 241,148 202,152 164,157 117,171 90.3,173 63.6,175 36.3,188 9.62,149 z ' dur='0.6s' repeatCount='indefinite'%3E%3C/animate%3E%3C/path%3E%3Cpath style='fill:%23a96f25;fill-opacity:1;stroke:none' d='M161,84.2c0,0,13,2.3,30-1.8c18-4.2,43-13.6,43-13.6 s-15,12.2-34,17C182,90.5,173,88.4,161,84.2z' id='path3798'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' values=' M161,84.2c0,0,13,2.3,30-1.8c18-4.2,43-13.6,43-13.6 s-15,12.2-34,17C182,90.5,173,88.4,161,84.2z; M161.281,100.284c0,0,13.05,2.001,29.951-2.488 c17.899-4.612,42.676-14.583,42.676-14.583s-14.716,12.541-33.601,17.775C182.42,106.1,173.374,104.207,161.281,100.284z; M157.111,88.349c0,0,13.148,1.189,29.74-4.339 c17.579-5.712,41.691-17.199,41.691-17.199s-13.91,13.429-32.435,19.823C178.57,92.844,169.425,91.515,157.111,88.349z ; M154.368,78.293c0,0,13.195,0.454,29.452-5.99 c17.233-6.683,40.667-19.497,40.667-19.497s-13.14,14.183-31.279,21.601C176.044,81.585,166.839,80.768,154.368,78.293z; M150.45,65.268c0,0,13.195,0.454,29.452-5.99 c17.233-6.683,40.667-19.497,40.667-19.497s-13.14,14.183-31.279,21.601C172.127,68.56,162.922,67.743,150.45,65.268z; M165.82,55.546c0,0,13.091,1.713,29.89-3.15 c17.792-5.006,42.343-15.523,42.343-15.523s-14.435,12.863-33.199,18.514C187.083,60.894,177.998,59.201,165.82,55.546z; M157.76,64.995c0,0,13.091,1.713,29.89-3.15 c17.792-5.006,42.343-15.523,42.343-15.523s-14.435,12.863-33.199,18.514C179.023,70.343,169.938,68.65,157.76,64.995z ; M161,84.2c0,0,13,2.3,30-1.8c18-4.2,43-13.6,43-13.6 s-15,12.2-34,17C182,90.5,173,88.4,161,84.2z '%3E%3C/animate%3E%3C/path%3E%3Cpath style='fill:%23a96f25;fill-opacity:1;stroke:none' d='m 343,171 c 0,0 -8,0 -25,-8 -17,-8 -26,-18 -48,-20 -22,-2 16,21 16,21 l 57,7 z' id='path3800'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' values=' m 343,171 c 0,0 -8,0 -25,-8 -17,-8 -26,-18 -48,-20 -22,-2 16,21 16,21 l 57,7 z; M345.225,182.884c0,0-7.998,0.184-25.177-7.425 c-17.18-7.607-26.407-17.398-48.447-18.892c-22.04-1.495,16.478,20.627,16.478,20.627L345.225,182.884z; M345.82,159.393c0,0-7.972,0.679-25.588-5.85 c-17.618-6.528-27.434-15.728-49.524-15.854c-22.09-0.127,17.724,19.566,17.724,19.566L345.82,159.393z; M346.743,138.707c0,0-7.921,1.122-25.875-4.415 c-17.954-5.535-28.268-14.174-50.331-13.069c-22.063,1.105,18.787,18.548,18.787,18.548L346.743,138.707z ; M342.826,125.682c0,0-7.921,1.122-25.875-4.415 c-17.954-5.535-28.268-14.174-50.331-13.069c-22.063,1.105,18.787,18.548,18.787,18.548L342.826,125.682z; M351.545,134.061c0,0-7.992,0.36-25.334-6.867 c-17.344-7.225-26.785-16.81-48.853-17.817c-22.068-1.007,16.93,20.258,16.93,20.258L351.545,134.061z; M343.485,143.51c0,0-7.992,0.36-25.334-6.867 c-17.344-7.225-26.785-16.81-48.853-17.817c-22.068-1.007,16.93,20.258,16.93,20.258L343.485,143.51z; m 343,171 c 0,0 -8,0 -25,-8 -17,-8 -26,-18 -48,-20 -22,-2 16,21 16,21 l 57,7 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3C/g%3E%3Cg id='oreilles'%3E%3Cg id='g4814'%3E%3Cpath id='path4800' d='M 289,171 C 277,146 268,125 231,113 193,100 173,108 171,111 169,115 173,134 194,154 214,174 247,186 289,171 z' style='fill:%23ffb039;stroke:%23ff4c01;stroke-width:4'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' values=' M289,171 c-12-25-21-46-58-58c-38-13-58-5-60-2c-2,4,2,23,23,43C214,174,247,186,289,171z; M290.833,183.5 c-12-25-21-46-58-58c-38-13-58-5-60-2c-2,4,2,23,23,43C215.833,186.5,248.833,198.5,290.833,183.5z; M293.671,165.548 c-14.937-23.364-26.412-43.121-64.592-50.556c-39.294-8.306-58.179,2.055-59.801,5.275c-1.501,4.212,4.769,22.589,28.034,39.901 C219.585,177.601,253.795,185.52,293.671,165.548z ; M295.089,150.22 c-17.981-21.111-32.042-39.119-70.878-41.282c-40.06-2.874-57.356,9.964-58.525,13.375c-0.913,4.378,7.802,21.729,33.21,35.708 C223.336,172.257,258.306,175.44,295.089,150.22z; M286.057,129.612 c-19.178-20.03-34.261-37.191-73.158-37.092c-40.159-0.541-56.68,13.281-57.648,16.754c-0.657,4.423,9.052,21.238,35.229,33.718 C215.706,155.782,250.802,156.927,286.057,129.612z; M295.135,137.735 c-17.104-21.828-30.417-40.396-69.133-44.142c-39.909-4.508-57.715,7.613-59.022,10.974c-1.091,4.337,6.908,22.029,31.724,37.035 C222.542,156.823,257.354,161.431,295.135,137.735z; M288.169,148.133 c-15.12-23.247-26.748-42.914-64.985-50.049c-39.358-7.999-58.161,2.51-59.759,5.743c-1.468,4.224,4.945,22.55,28.345,39.68 C214.179,160.765,248.45,168.416,288.169,148.133z; M289,171 c-12-25-21-46-58-58c-38-13-58-5-60-2c-2,4,2,23,23,43C214,174,247,186,289,171z '%3E%3C/animate%3E%3C/path%3E%3Cpath id='path4808' d=' ' style='fill:%23ff4c01;fill-opacity:1;stroke:none'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' values=' M211,117c0,0,20,8,28,22c7,13,7,22,7,22s-5-18-17-28 C217,122,211,117,211,117z; M212.833,129.5c0,0,20,8,28,22c7,13,7,22,7,22 s-5-18-17-28C218.833,134.5,212.833,129.5,212.833,129.5z; M209.71,121.383c0,0,20.821,5.521,30.456,18.45 c8.522,12.057,9.611,20.991,9.611,20.991s-7.141-17.263-20.263-25.737C216.271,125.62,209.71,121.383,209.71,121.383z; M205.893,117.909c0,0,21.379,2.632,32.687,14.128 c10.085,10.784,12.381,19.486,12.381,19.486s-9.427-16.128-23.582-22.736C212.97,121.212,205.893,117.909,205.893,117.909z; M195.133,102.54c0,0,21.496,1.385,33.453,12.204 c10.695,10.179,13.493,18.733,13.493,18.733s-10.349-15.553-24.863-21.327C202.39,105.426,195.133,102.54,195.133,102.54z; M207.333,101.808c0,0,21.254,3.503,32.083,15.451 c9.637,11.187,11.576,19.975,11.576,19.975s-8.761-16.5-22.633-23.68C214.27,105.396,207.333,101.808,207.333,101.808z; M203.864,104.625c0,0,20.864,5.358,30.6,18.211 c8.616,11.991,9.775,20.915,9.775,20.915s-7.276-17.206-20.464-25.577C210.459,108.811,203.864,104.625,203.864,104.625z; M211,117c0,0,20,8,28,22c7,13,7,22,7,22s-5-18-17-28 C217,122,211,117,211,117z '%3E%3C/animate%3E%3C/path%3E%3Cpath id='path4810' d=' ' style='fill:%23ffb039;fill-opacity:1;stroke:none'%3E%3Canimate attributeType='XML' attributeName='d' dur='0.6s' repeatCount='indefinite' values=' m 192,144 c 0,0 27,30 36,39 10,9 65,-8 65,-8 0,0 -9,-23 -23,-34 -14,-11 -5,25 -16,26 -11,0 -62,-23 -62,-23 z; m 193.833,156.5 c 0,0 27,30 36,39 10,9 65,-8 65,-8 0,0 -9,-23 -23,-34 -14,-11 -5,25 -16,26 -11,0 -62,-23 -62,-23 z; m 194.117,150.484 c 0,0 30.432,26.512 40.455,34.357 11.016,7.724 63.554,-15.806 63.554,-15.806 0,0 -11.717,-21.742 -26.945,-30.967 -15.229,-9.225 -1.938,25.421 -12.736,27.745 -10.92,1.331 -64.328,-15.329 -64.328,-15.329 z; m 194.41,148.863 c 0,0 33.761,22.118 44.759,28.524 11.965,6.151 60.808,-24.319 60.808,-24.319 0,0 -14.57,-19.943 -30.914,-27.007 -16.344,-7.064 1.544,25.448 -8.837,29.222 -10.636,2.806 -65.816,-6.42 -65.816,-6.42 z; m 185.469,134.109 c 0,0 34.989,20.118 46.341,25.874 12.303,5.445 59.292,-27.813 59.292,-27.813 0,0 -15.705,-19.062 -32.431,-25.165 -16.726,-6.102 3.021,25.315 -7.124,29.686 -10.455,3.422 -66.078,-2.582 -66.078,-2.582 z; m 194.596,132.267 c 0,0 32.829,23.479 43.557,30.328 11.705,6.634 61.75,-21.816 61.75,-21.816 0,0 -13.744,-20.521 -29.785,-28.247 -16.041,-7.725 0.503,25.49 -10.023,28.836 -10.741,2.371 -65.499,-9.101 -65.499,-9.101 z ; m 188.5,133.848 c 0,0 30.638,26.273 40.722,34.04 11.076,7.638 63.429,-16.303 63.429,-16.303 0,0 -11.887,-21.65 -27.186,-30.755 -15.3,-9.106 -1.74,25.435 -12.52,27.843 -10.908,1.416 -64.445,-14.825 -64.445,-14.825 z; m 192,144 c 0,0 27,30 36,39 10,9 65,-8 65,-8 0,0 -9,-23 -23,-34 -14,-11 -5,25 -16,26 -11,0 -62,-23 -62,-23 z '%3E%3C/animate%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`</span>
);</code></span><small id="shcb-language-10"><span>Code language:</span> <span>JavaScript</span> <span>(</span><span>javascript</span><span>)</span></small></pre>



</div><p>Here’s an example to show that you can use JavaScript to switch out the text of the SVG (using <code>.textContent</code>, not <code>.innerText</code> since it’s an SVG element). With that being said, you can’t do something like a scramble text effect due to the limitation around using <code>setInterval</code> and <code>requestAnimationFrame</code><sup data-fn="621356bc-ae4e-4d36-8dba-c6293f976027"><a href="#621356bc-ae4e-4d36-8dba-c6293f976027" id="621356bc-ae4e-4d36-8dba-c6293f976027-link">6</a></sup>.</p><p>However, we <em>can</em> swap out the text (or any elements) after the start if we use an SVG along with CSS animations! To do so you have to include the content in the original SVG and use CSS keyframes.</p><p>The above technique can be used to create a stop motion effect or make words and/or elements appear “randomly” around the console (you might want to <a href="https://codepen.io/ZachSaucier/pen/zYegbPB??editors=1000">use JavaScript</a> or a pre-processor to help you generate this sort of thing). For example, here’s a some random circles that disappear and appear:</p><p>It’s impossible to add click events or links inside of the SVG that’s used as a background image. However, if you’re fine showing the full URL, you can fake it by using carefully chosen padding values to place the URL from the console message where you want it to be relative to the background image. It might also be worth changing the&nbsp;<code>font-family</code>&nbsp;being used to more closely match the SVG that you&nbsp;use.</p><p>Keep in mind that the URL itself will affect the width of the element, so you may need to adjust your SVG. Also, make sure to test thoroughly between browsers because there are more cross-browser inconsistencies with this technique.</p><p>In Safari, it only shows the link and not the background&nbsp;image.</p><p>Unfortunately, I couldn’t find a way to make the message span 100% of the width of the console. I believe that this is because we can’t change the display of elements in the console, so things like width: 100% don’t work here. The element must have an explicit width and height in pixels (or other non-relative unit), or else its size will be based on the text.</p><p>I did notice that <code>console.table(['foo'])</code> spans the whole width, but we’re unable to use CSS styling on console tables as far as I know.</p><p>In the future, I hope browsers will add a responsive width element in the console.</p><p>Reveal animations (like the first half of the line-drawing animation above) are one way of animating using this technique. However, these animations may finish before someone actually opens up the console. As such, I wanted to see if we can detect when the console is open so that we can wait to fire the animation until then.</p><p>To my knowledge, there’s no way to detect if the console itself is open (if you know of a way, please let me know!). However, there are some ways to detect if the DevTools in general are open, though the method <a href="https://stackoverflow.com/q/7798748/2065702">seems to change every so often</a>.</p><p>I got the lightweight package <a href="https://github.com/sindresorhus/devtools-detect">devtools-detect</a> working in a project using <a href="https://gist.github.com/ZachSaucier/ea8ebf65079febbde4f2f9190ae6644a">this sort of setup</a>. However, the package has many known issues, which the author notes in the README. But for the purpose of something superfluous like this it is probably okay. If you’re really wanting to do this, I might recommend <a href="https://github.com/david-fong/detect-devtools-via-debugger-heartstop">detect-devtools-via-debugger-heartstop</a> instead because it seems more reliable but I didn’t test it myself.</p><p>With that being said, you may want to use a looping or ambient (constantly running) animation so you make sure that your user sees the hard work you’ve invested.</p><p>I tried getting a sense of the performance impact by running the most intense animation that I provided as an example, the horse animation from the example section above, and looking at my Activity Monitor.</p><p>When the console was open and the animation was running, the “Google Chrome Helper (GPU)” went up to around 80% on my 2018 Macbook Pro. With any other devtools tab open instead or with the dev tools closed, I could not see any measurable impact on any process.</p><p>This indicates that this sort of effect should not have much of an impact on your page unless someone has their devtools console open.</p><p>With that being said, always do your own testing, including on a wider range of devices, to make sure it’s not a detriment to any user’s experience.</p><p>Note: Using consoles in this way is very experimental and these results are likely to be inaccurate at some point in the future. As far as I can tell, styles in the console using <code>%c</code> like this <a href="https://console.spec.whatwg.org/#logger">is mentioned</a> in a spec but not fleshed out.</p><p>Firefox fails to set the proper height of the background image and cuts off the SVG a bit:</p><p>It seems like for Firefox you have to basically double the height: use the height for the <code>line-height</code> then use half the height for the <code>padding-block</code>. The downside of doing this is that it adds a bit of extra white space at the bottom of the SVGs in Chrome and Edge. In order to have this effect look significantly better in Firefox, I think this is worth the tradeoff but I also hope that Firefox can address this issue. If you have figured out a way to get around this issue, please let me know!</p><p>Additionally, Firefox has a significantly shorter character limit for console messages, so ones like the horse animation above don’t render anything in Firefox.</p><p>So long as you’re not trying to align other text with an SVG, you can drop the <code>vertical-align: middle</code> which makes the Chrome &amp; Edge version a bit better.</p><p>Safari is the only major browser that doesn’t support this sort of thing (per usual). It just prints the raw text and ignores the CSS:</p><p>It <em>does</em> have some limited CSS support for console messages though, just not enough for the more complex CSS and background images. Hopefully this article can encourage them to improve their support!</p><p>All in all, since this technique acts like progressive enhancement and is basically an easter egg, I would be happy to ship something like this in production code at any company. I think you should too!</p><p><a href="https://css-doodle.com/#function-@shape">css-doodle</a> is a library similar to <a href="https://p5js.org/">P5.js</a> and the like. It specializes in HTML + CSS + SVG creations (though recently it’s gotten support for GLSL shaders). This makes it a perfect for creating effects for the console! It’s created by <a href="https://yuanchuan.dev/">Chuan</a> (<a href="https://vis.social/@yuanchuan">@yuanchuan</a>). Note that it’s still fairly early on in its development and not everything about it is documented!</p><p>I could write several articles on <code>css-doodle</code>, but for the purpose of this article I will keep it short:</p><p>You can create some nice-looking console messages without using SVGs or anything like that. For example, you can apply multiple <code>text-shadows</code> to apply a 3D text effect:</p><p>A similar effect that has been explored more is ASCII art in the console. For example, the fairly well-known Reddit <code>console.log</code> art / ad:</p><p>Note the usage of <code>font-family: monospace</code> to make sure the characters have a consistent width.</p><p>Emojis work well in the console. Sometimes, that may be all you&nbsp;need!</p><p>I’m hoping that this article inspires developers and companies to implement delightful console surprises. I think it should become a normal addition to a website!</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Write Dumb Code (2018) (101 pts)]]></title>
            <link>https://matthewrocklin.com/write-dumb-code.html</link>
            <guid>39503777</guid>
            <pubDate>Sun, 25 Feb 2024 19:14:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://matthewrocklin.com/write-dumb-code.html">https://matthewrocklin.com/write-dumb-code.html</a>, See on <a href="https://news.ycombinator.com/item?id=39503777">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
      
      <main id="main-content">
        
        
        <div>
            
            
            
            


            <article role="main">
               <section id="write-dumb-code">

<p><em>The best way you can contribute to an open source project is to remove lines of code from it.</em>
<em>We should endeavor to write code that a novice programmer can easily
understand without explanation or that a maintainer can understand without
significant time investment.</em></p>
<p>As students we attempt increasingly challenging problems with increasingly
sophisticated technologies.  We first learn loops, then functions, then
classes, etc..  We are praised as we ascend this hierarchy, writing longer
programs with more advanced technology.  We learn that experienced programmers
use monads while new programmers use for loops.</p>
<p>Then we graduate and find a job or open source project to work on with others.
We search for something that we can add, and implement a solution pridefully,
using the all the tricks that we learned in school.</p>
<p><em>Ah ha! I can extend this project to do X!  And I can use inheritance here!  Excellent!</em></p>
<p>We implement this feature and feel accomplished, and with good reason.
Programming in real systems is no small accomplishment.  This was certainly my
experience.  I was excited to write code and proud that I could show off all of
the things that I knew how to do to the world.  As evidence of my historical
love of programming technology, here is a <a href="https://github.com/mrocklin/matrix-algebra">linear algebra
language</a> built with a another
meta-programming language.  Notice that no one has touched this code in several
years.</p>
<p>However after maintaining code a bit more I now think somewhat differently.</p>
<ol>
<li><p>We should not seek to build software.  Software is the currency that we pay
to solve problems, which is our actual goal.  We should endeavor to build
as little software as possible to solve our problems.</p></li>
<li><p>We should use technologies that are as simple as possible, so that as many
people as possible can use and extend them without needing to understand
our advanced techniques.  We should use advanced techniques only when we
are not smart enough to figure out how to use more common techniques.</p></li>
</ol>
<p>Neither of these points are novel.  Most people I meet agree with them to some
extent, but somehow we forget them when we go to contribute to a new project.
The instinct to <em>contribute by building</em> and to <em>demonstrate sophistication</em>
often take over.</p>
<section id="software-is-a-cost">
<h2>Software is a cost<a href="#software-is-a-cost" title="Permalink to this heading">#</a></h2>
<p>Every line that you write costs people time.  It costs you time to write it of
course, but you are willing to make this personal sacrifice.  However this code
also costs the reviewers their time to understand it.  It costs future
maintainers and developers their time as they fix and modify your code.  They
could be spending this time outside in the sunshine or with their family.</p>
<p>So when you add code to a project you should feel meek.  It should feel as
though you are eating with your family and there isn’t enough food on the
table.  You should take only what you need and no more.  The people with you
will respect you for your efforts to restrict yourself.  Solving problems with
less code is a hard, but it is a burden that you take on yourself to lighten
the burdens of others.</p>
</section>
<section id="complex-technologies-are-harder-to-maintain">
<h2>Complex technologies are harder to maintain<a href="#complex-technologies-are-harder-to-maintain" title="Permalink to this heading">#</a></h2>
<p>As students, we demonstrate merit by using increasingly advanced technologies.
Our measure of worth depends on our ability to use functions, then classes,
then higher order functions, then monads, etc. in public projects.  We show off
our solutions to our peers and feel pride or shame according to our
sophistication.</p>
<p>However when working with a team to solve problems in the world the situation
is reversed.  Now we strive to solve problems with code that is as simple as
possible.  When we solve a problem simply we enable junior programmers to
extend our solution to solve other problems.  Simple code enables others and
boosts our impact.  We demonstrate our value by solving hard problems with only
basic techniques.</p>
<p><em>Look! I replaced this recursive function with a for loop and it still does
everything that we need it to.  I know it’s not as clever, but I noticed that
the interns were having trouble with it and I thought that this change might
help.</em></p>
<p>If you are a good programmer then you don’t need to demonstrate that you know
cool tricks.  Instead, you can demonstrate your value by solving a problem in a
simple way that enables everyone on your team to contribute in the future.</p>
</section>
<section id="but-moderation-of-course">
<h2>But moderation, of course<a href="#but-moderation-of-course" title="Permalink to this heading">#</a></h2>
<p>That being said, over-adherence to the “build things with simple tools” dogma
can be counter productive.  Often a recursive solution can be much simpler than
a for-loop solution and often times using a Class or a Monad is the right
approach.  But we should be mindful when using these technologies that we are
building for ourselves our own system; a system with which others have had no
experience.</p>
</section>
</section>



            </article>
            








            
            
            
            
          </div>
        
        
      </main>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Readability.js (152 pts)]]></title>
            <link>https://github.com/mozilla/readability</link>
            <guid>39503522</guid>
            <pubDate>Sun, 25 Feb 2024 18:48:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/mozilla/readability">https://github.com/mozilla/readability</a>, See on <a href="https://news.ycombinator.com/item?id=39503522">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><h2 tabindex="-1" dir="auto">Readability.js</h2>
<p dir="auto">A standalone version of the readability library used for <a href="https://support.mozilla.org/kb/firefox-reader-view-clutter-free-web-pages" rel="nofollow">Firefox Reader View</a>.</p>
<h2 tabindex="-1" dir="auto">Installation</h2>
<p dir="auto">Readability is available on npm:</p>
<div dir="auto" data-snippet-clipboard-copy-content="npm install @mozilla/readability"><pre>npm install @mozilla/readability</pre></div>
<p dir="auto">You can then <code>require()</code> it, or for web-based projects, load the <code>Readability.js</code> script from your webpage.</p>
<h2 tabindex="-1" dir="auto">Basic usage</h2>
<p dir="auto">To parse a document, you must create a new <code>Readability</code> object from a DOM document object, and then call the <a href="#parse"><code>parse()</code></a> method. Here's an example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="var article = new Readability(document).parse();"><pre><span>var</span> <span>article</span> <span>=</span> <span>new</span> <span>Readability</span><span>(</span><span>document</span><span>)</span><span>.</span><span>parse</span><span>(</span><span>)</span><span>;</span></pre></div>
<p dir="auto">If you use Readability in a web browser, you will likely be able to use a <code>document</code> reference from elsewhere (e.g. fetched via XMLHttpRequest, in a same-origin <code>&lt;iframe&gt;</code> you have access to, etc.). In Node.js, you can <a href="#nodejs-usage">use an external DOM library</a>.</p>
<h2 tabindex="-1" dir="auto">API Reference</h2>
<h3 tabindex="-1" dir="auto"><code>new Readability(document, options)</code></h3>
<p dir="auto">The <code>options</code> object accepts a number of properties, all optional:</p>
<ul dir="auto">
<li><code>debug</code> (boolean, default <code>false</code>): whether to enable logging.</li>
<li><code>maxElemsToParse</code> (number, default <code>0</code> i.e. no limit): the maximum number of elements to parse.</li>
<li><code>nbTopCandidates</code> (number, default <code>5</code>): the number of top candidates to consider when analysing how tight the competition is among candidates.</li>
<li><code>charThreshold</code> (number, default <code>500</code>): the number of characters an article must have in order to return a result.</li>
<li><code>classesToPreserve</code> (array): a set of classes to preserve on HTML elements when the <code>keepClasses</code> options is set to <code>false</code>.</li>
<li><code>keepClasses</code> (boolean, default <code>false</code>): whether to preserve all classes on HTML elements. When set to <code>false</code> only classes specified in the <code>classesToPreserve</code> array are kept.</li>
<li><code>disableJSONLD</code> (boolean, default <code>false</code>): when extracting page metadata, Readability gives precedence to Schema.org fields specified in the JSON-LD format. Set this option to <code>true</code> to skip JSON-LD parsing.</li>
<li><code>serializer</code> (function, default <code>el =&gt; el.innerHTML</code>) controls how the <code>content</code> property returned by the <code>parse()</code> method is produced from the root DOM element. It may be useful to specify the <code>serializer</code> as the identity function (<code>el =&gt; el</code>) to obtain a DOM element instead of a string for <code>content</code> if you plan to process it further.</li>
<li><code>allowedVideoRegex</code> (RegExp, default <code>undefined</code> ): a regular expression that matches video URLs that should be allowed to be included in the article content. If <code>undefined</code>, the <a href="https://github.com/mozilla/readability/blob/8e8ec27cd2013940bc6f3cc609de10e35a1d9d86/Readability.js#L133">default regex</a> is applied.</li>
</ul>
<h3 tabindex="-1" dir="auto"><code>parse()</code></h3>
<p dir="auto">Returns an object containing the following properties:</p>
<ul dir="auto">
<li><code>title</code>: article title;</li>
<li><code>content</code>: HTML string of processed article content;</li>
<li><code>textContent</code>: text content of the article, with all the HTML tags removed;</li>
<li><code>length</code>: length of an article, in characters;</li>
<li><code>excerpt</code>: article description, or short excerpt from the content;</li>
<li><code>byline</code>: author metadata;</li>
<li><code>dir</code>: content direction;</li>
<li><code>siteName</code>: name of the site;</li>
<li><code>lang</code>: content language;</li>
<li><code>publishedTime</code>: published time;</li>
</ul>
<p dir="auto">The <code>parse()</code> method works by modifying the DOM. This removes some elements in the web page, which may be undesirable. You can avoid this by passing the clone of the <code>document</code> object to the <code>Readability</code> constructor:</p>
<div dir="auto" data-snippet-clipboard-copy-content="var documentClone = document.cloneNode(true);
var article = new Readability(documentClone).parse();"><pre><span>var</span> <span>documentClone</span> <span>=</span> <span>document</span><span>.</span><span>cloneNode</span><span>(</span><span>true</span><span>)</span><span>;</span>
<span>var</span> <span>article</span> <span>=</span> <span>new</span> <span>Readability</span><span>(</span><span>documentClone</span><span>)</span><span>.</span><span>parse</span><span>(</span><span>)</span><span>;</span></pre></div>
<h3 tabindex="-1" dir="auto"><code>isProbablyReaderable(document, options)</code></h3>
<p dir="auto">A quick-and-dirty way of figuring out if it's plausible that the contents of a given document are suitable for processing with Readability. It is likely to produce both false positives and false negatives. The reason it exists is to avoid bogging down a time-sensitive process (like loading and showing the user a webpage) with the complex logic in the core of Readability. Improvements to its logic (while not deteriorating its performance) are very welcome.</p>
<p dir="auto">The <code>options</code> object accepts a number of properties, all optional:</p>
<ul dir="auto">
<li><code>minContentLength</code> (number, default <code>140</code>): the minimum node content length used to decide if the document is readerable;</li>
<li><code>minScore</code> (number, default <code>20</code>): the minimum cumulated 'score' used to determine if the document is readerable;</li>
<li><code>visibilityChecker</code> (function, default <code>isNodeVisible</code>): the function used to determine if a node is visible;</li>
</ul>
<p dir="auto">The function returns a boolean corresponding to whether or not we suspect <code>Readability.parse()</code> will succeed at returning an article object. Here's an example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="/*
    Only instantiate Readability  if we suspect
    the `parse()` method will produce a meaningful result.
*/
if (isProbablyReaderable(document)) {
    let article = new Readability(document).parse();
}"><pre><span>/*</span>
<span>    Only instantiate Readability  if we suspect</span>
<span>    the `parse()` method will produce a meaningful result.</span>
<span>*/</span>
<span>if</span> <span>(</span><span>isProbablyReaderable</span><span>(</span><span>document</span><span>)</span><span>)</span> <span>{</span>
    <span>let</span> <span>article</span> <span>=</span> <span>new</span> <span>Readability</span><span>(</span><span>document</span><span>)</span><span>.</span><span>parse</span><span>(</span><span>)</span><span>;</span>
<span>}</span></pre></div>
<h2 tabindex="-1" dir="auto">Node.js usage</h2>
<p dir="auto">Since Node.js does not come with its own DOM implementation, we rely on external libraries like <a href="https://github.com/jsdom/jsdom">jsdom</a>. Here's an example using <code>jsdom</code> to obtain a DOM document object:</p>
<div dir="auto" data-snippet-clipboard-copy-content="var { Readability } = require('@mozilla/readability');
var { JSDOM } = require('jsdom');
var doc = new JSDOM(&quot;<body>Look at this cat: <img src='./cat.jpg'></body>&quot;, {
  url: &quot;https://www.example.com/the-page-i-got-the-source-from&quot;
});
let reader = new Readability(doc.window.document);
let article = reader.parse();"><pre><span>var</span> <span>{</span> Readability <span>}</span> <span>=</span> <span>require</span><span>(</span><span>'@mozilla/readability'</span><span>)</span><span>;</span>
<span>var</span> <span>{</span> <span>JSDOM</span> <span>}</span> <span>=</span> <span>require</span><span>(</span><span>'jsdom'</span><span>)</span><span>;</span>
<span>var</span> <span>doc</span> <span>=</span> <span>new</span> <span>JSDOM</span><span>(</span><span>"&lt;body&gt;Look at this cat: &lt;img src='./cat.jpg'&gt;&lt;/body&gt;"</span><span>,</span> <span>{</span>
  <span>url</span>: <span>"https://www.example.com/the-page-i-got-the-source-from"</span>
<span>}</span><span>)</span><span>;</span>
<span>let</span> <span>reader</span> <span>=</span> <span>new</span> <span>Readability</span><span>(</span><span>doc</span><span>.</span><span>window</span><span>.</span><span>document</span><span>)</span><span>;</span>
<span>let</span> <span>article</span> <span>=</span> <span>reader</span><span>.</span><span>parse</span><span>(</span><span>)</span><span>;</span></pre></div>
<p dir="auto">Remember to pass the page's URI as the <code>url</code> option in the <code>JSDOM</code> constructor (as shown in the example above), so that Readability can convert relative URLs for images, hyperlinks, etc. to their absolute counterparts.</p>
<p dir="auto"><code>jsdom</code> has the ability to run the scripts included in the HTML and fetch remote resources. For security reasons these are <a href="https://github.com/jsdom/jsdom#executing-scripts">disabled by default</a>, and we <strong>strongly</strong> recommend you keep them that way.</p>
<h2 tabindex="-1" dir="auto">Security</h2>
<p dir="auto">If you're going to use Readability with untrusted input (whether in HTML or DOM form), we <strong>strongly</strong> recommend you use a sanitizer library like <a href="https://github.com/cure53/DOMPurify">DOMPurify</a> to avoid script injection when you use
the output of Readability. We would also recommend using <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" rel="nofollow">CSP</a> to add further defense-in-depth
restrictions to what you allow the resulting content to do. The Firefox integration of
reader mode uses both of these techniques itself. Sanitizing unsafe content out of the input is explicitly not something we aim to do as part of Readability itself - there are other good sanitizer libraries out there, use them!</p>
<h2 tabindex="-1" dir="auto">Contributing</h2>
<p dir="auto">Please see our <a href="https://github.com/mozilla/readability/blob/main/CONTRIBUTING.md">Contributing</a> document.</p>
<h2 tabindex="-1" dir="auto">License</h2>
<div data-snippet-clipboard-copy-content="Copyright (c) 2010 Arc90 Inc

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License."><pre><code>Copyright (c) 2010 Arc90 Inc

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre></div>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Vega-Altair: Declarative Visualization in Python (118 pts)]]></title>
            <link>https://altair-viz.github.io/index.html</link>
            <guid>39503193</guid>
            <pubDate>Sun, 25 Feb 2024 18:12:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://altair-viz.github.io/index.html">https://altair-viz.github.io/index.html</a>, See on <a href="https://news.ycombinator.com/item?id=39503193">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
      
      
      <main id="main-content">
        
        
          <div>
              
              
              
              
              
                

                <article role="main">
                  
  <section id="vega-altair-declarative-visualization-in-python">

<p><strong>Vega-Altair</strong> is a declarative visualization library for Python. Its simple, friendly and consistent API, built on top of the powerful <a href="http://vega.github.io/vega-lite">Vega-Lite</a> grammar, empowers you to spend less time writing code and more time exploring your data.</p>
<div>
<div>
<div>
<p>
Getting Started</p>
<p>In the Getting Started section you can find installation instructions and a high-level overview of the main concepts.</p>
</div>
<p><a href="https://altair-viz.github.io/getting_started/overview.html#overview"><span>Getting started</span></a></p></div>
<div>
<div>
<p>
User Guide</p>
<p>Check out the User Guides for in-depth information on the key concepts of Vega-Altair.</p>
</div>
<p><a href="https://altair-viz.github.io/user_guide/data.html#user-guide-data"><span>User guide</span></a></p></div>
<div>
<div>
<p>
Examples</p>
<p>The Examples gallery contains a selection of different visualizations which you can create with Vega-Altair.</p>
</div>
<p><a href="https://altair-viz.github.io/gallery/index.html#example-gallery"><span>Examples</span></a></p></div>
<div>
<div>
<p>
API</p>
<p>The API reference guide contains detailed information on all of Vega-Altair’s methods and classes.</p>
</div>
<p><a href="https://altair-viz.github.io/user_guide/api.html#api"><span>api</span></a></p></div>
</div>
<p><em>The Vega-Altair open-source project is not affiliated with Altair Engineering, Inc.</em></p>

</section>


                </article>
              
              
              
              
              
                
              
            </div>
          
        
      </main>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Coroutines in C (2000) (280 pts)]]></title>
            <link>https://www.chiark.greenend.org.uk/~sgtatham/coroutines.html</link>
            <guid>39502276</guid>
            <pubDate>Sun, 25 Feb 2024 16:45:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.chiark.greenend.org.uk/~sgtatham/coroutines.html">https://www.chiark.greenend.org.uk/~sgtatham/coroutines.html</a>, See on <a href="https://news.ycombinator.com/item?id=39502276">Hacker News</a></p>
<div id="readability-page-1" class="page">


<p><i>by <a href="http://pobox.com/~anakin/">Simon Tatham</a></i>

</p><p>[Coroutines trilogy: <b>C preprocessor</b> | <a href="https://www.chiark.greenend.org.uk/~sgtatham/quasiblog/coroutines-c++20/">C++20 native</a> | <a href="https://www.chiark.greenend.org.uk/~sgtatham/quasiblog/coroutines-philosophy/">general philosophy</a> ]</p>

<!-- begin essay -->

<a name="intro"><h2>Introduction</h2></a>

<p>
Structuring a large program is always a difficult job. One of the
particular problems that often comes up is this: if you have a piece
of code producing data, and another piece of code consuming it,
which should be the caller and which should be the callee?

</p><p>
Here is a very simple piece of run-length decompression code, and an
equally simple piece of parser code:

</p><p>
<table>
<tbody><tr>
<td>
<pre><code>    /* Decompression code */
    while (1) {
        c = getchar();
        if (c == EOF)
            break;
        if (c == 0xFF) {
            len = getchar();
            c = getchar();
            while (len--)
                emit(c);
        } else
            emit(c);
    }
    emit(EOF);</code></pre>
</td>
<td>
<pre><code>    /* Parser code */
    while (1) {
        c = getchar();
        if (c == EOF)
            break;
        if (isalpha(c)) {
            do {
                add_to_token(c);
                c = getchar();
            } while (isalpha(c));
            got_token(WORD);
        }
        add_to_token(c);
        got_token(PUNCT);
    }</code></pre>
</td></tr></tbody></table>

</p><p>
Each of these code fragments is very simple, and easy to read and
understand. One produces a character at a time by calling
<code>emit()</code>; the other consumes a character at a time by
calling <code>getchar()</code>. If only the calls to
<code>emit()</code> and the calls to <code>getchar()</code> could be
made to feed data to each other, it would be simple to connect the
two fragments together so that the output from the decompressor went
straight to the parser.

</p><p>
In many modern operating systems, you could do this using pipes
between two processes or two threads. <code>emit()</code> in the
decompressor writes to a pipe, and <code>getchar()</code> in the
parser reads from the other end of the same pipe. Simple and robust,
but also heavyweight and not portable. Typically you don't want to
have to divide your program into threads for a task this simple.

</p><p>
In this article I offer a creative solution to this sort of
structure problem.
</p>

<a name="rewrite"><h2>Rewriting</h2></a>

<p>
The conventional answer is to rewrite one of the ends of the
communication channel so that it's a function that can be called.
Here's an example of what that might mean for each of the example
fragments.

</p><p>
<table>
<tbody><tr>
<td>
<pre><code>int decompressor(void) {
    static int repchar;
    static int replen;
    if (replen &gt; 0) {
        replen--;
        return repchar;
    }
    c = getchar();
    if (c == EOF)
        return EOF;
    if (c == 0xFF) {
        replen = getchar();
        repchar = getchar();
        replen--;
        return repchar;
    } else
        return c;
}</code></pre>
</td>
<td>
<pre><code>void parser(int c) {
    static enum {
        START, IN_WORD
    } state;
    switch (state) {
        case IN_WORD:
        if (isalpha(c)) {
            add_to_token(c);
            return;
        }
        got_token(WORD);
        state = START;
        /* fall through */

        case START:
        add_to_token(c);
        if (isalpha(c))
            state = IN_WORD;
        else
            got_token(PUNCT);
        break;
    }
}</code></pre>
</td></tr></tbody></table>

</p><p>
Of course you don't have to rewrite both of them; just one will do.
If you rewrite the decompressor in the form shown, so that it
returns one character every time it's called, then the original
parser code can replace calls to <code>getchar()</code> with calls
to <code>decompressor()</code>, and the program will be happy.
Conversely, if you rewrite the parser in the form shown, so that it
is called once for every input character, then the original
decompression code can call <code>parser()</code> instead of
<code>emit()</code> with no problems. You would only want to rewrite
<em>both</em> functions as callees if you were a glutton for
punishment.

</p><p>
And that's the point, really. Both these rewritten functions are
thoroughly ugly compared to their originals. Both of the processes
taking place here are easier to read when written as a caller, not
as a callee. Try to deduce the grammar recognised by the parser, or
the compressed data format understood by the decompressor, just by
reading the code, and you will find that both the originals are
clear and both the rewritten forms are less clear. It would be much
nicer if we didn't have to turn either piece of code inside out.

<a name="knuth"></a></p><h2><a name="knuth">Knuth's coroutines</a></h2>

<p>
In <cite>The Art of Computer Programming</cite>, Donald Knuth
presents a solution to this sort of problem. His answer is to throw
away the stack concept completely. Stop thinking of one process as
the caller and the other as the callee, and start thinking of them
as cooperating equals.

</p><p>
In practical terms: replace the traditional "call" primitive with a
slightly different one. The new "call" will save the return value
somewhere other than on the stack, and will then jump to a location
specified in another saved return value. So each time the
decompressor emits another character, it saves its program counter
and jumps to the last known location within the parser - and each
time the parser <em>needs</em> another character, it saves its own
program counter and jumps to the location saved by the decompressor.
Control shuttles back and forth between the two routines exactly as
often as necessary.

</p><p>
This is very nice in theory, but in practice you can only do it in
assembly language, because no commonly used high level language
supports the coroutine call primitive. Languages like C depend
utterly on their stack-based structure, so whenever control passes
from any function to any other, one must be the caller and the other
must be the callee. So if you want to write portable code, this
technique is at least as impractical as the Unix pipe solution.

<a name="knuth"></a></p><h2><a name="knuth">Stack-based coroutines</a></h2>

<p>
So what we would <em>really</em> like is the ability to mimic
Knuth's coroutine call primitive in C. We must accept that in
reality, at the C level, one function will be caller and the other
will be callee. In the caller, we have no problem; we code the
original algorithm, pretty much exactly as written, and whenever it
has (or needs) a character it calls the other function.

</p><p>
The callee has all the problems. For our callee, we want a function
which has a "return and continue" operation: return from the
function, and next time it is called, resume control from just after
the <em>return</em> statement. For example, we would like to be able
to write a function that says

</p><pre><code>int function(void) {
    int i;
    for (i = 0; i &lt; 10; i++)
        return i;   /* won't work, but wouldn't it be nice */
}</code></pre>

<p>
and have ten successive calls to the function return the numbers 0
through 9.

</p><p>
How can we implement this? Well, we can transfer control to an
arbitrary point in the function using a <code>goto</code> statement.
So if we use a state variable, we could do this:

</p><pre><code>int function(void) {
    static int i, state = 0;
    switch (state) {
        case 0: goto LABEL0;
        case 1: goto LABEL1;
    }
    LABEL0: /* start of function */
    for (i = 0; i &lt; 10; i++) {
        state = 1; /* so we will come back to LABEL1 */
        return i;
        LABEL1:; /* resume control straight after the return */
    }
}</code></pre>

<p>
This method works. We have a set of labels at the points where we
might need to resume control: one at the start, and one just after
each <code>return</code> statement. We have a state variable,
preserved between calls to the function, which tells us which label
we need to resume control at next. Before any return, we update the
state variable to point at the right label; after any call, we do a
<code>switch</code> on the value of the variable to find out where
to jump to.

</p><p>
It's still ugly, though. The worst part of it is that the set of
labels must be maintained manually, and must be consistent between
the function body and the initial <code>switch</code> statement.
Every time we add a new return statement, we must invent a new label
name and add it to the list in the <code>switch</code>; every time
we remove a return statement, we must remove its corresponding
label. We've just increased our maintenance workload by a factor of
two.

<a name="duff"></a></p><h2><a name="duff">Duff's device</a></h2>

<p>
The famous "Duff's device" in C makes use of the fact that a
<code>case</code> statement is still legal within a sub-block of its
matching <code>switch</code> statement. Tom Duff used this for an
optimised output loop:

</p><pre><code>    switch (count % 8) {
        case 0:        do {  *to = *from++;
        case 7:              *to = *from++;
        case 6:              *to = *from++;
        case 5:              *to = *from++;
        case 4:              *to = *from++;
        case 3:              *to = *from++;
        case 2:              *to = *from++;
        case 1:              *to = *from++;
                       } while ((count -= 8) &gt; 0);
    }</code></pre>

<p>
We can put it to a slightly different use in the coroutine trick.
Instead of using a <code>switch</code> statement to decide which
<code>goto</code> statement to execute, we can use the
<code>switch</code> statement to perform the jump itself:

</p><pre><code>int function(void) {
    static int i, state = 0;
    switch (state) {
        case 0: /* start of function */
        for (i = 0; i &lt; 10; i++) {
            state = 1; /* so we will come back to "case 1" */
            return i;
            case 1:; /* resume control straight after the return */
        }
    }
}</code></pre>

<p>
Now this is looking promising. All we have to do now is construct a
few well chosen macros, and we can hide the gory details in
something plausible-looking:

</p><pre><code>#define crBegin static int state=0; switch(state) { case 0:
#define crReturn(i,x) do { state=i; return x; case i:; } while (0)
#define crFinish }
int function(void) {
    static int i;
    crBegin;
    for (i = 0; i &lt; 10; i++)
        crReturn(1, i);
    crFinish;
}</code></pre>

<p>
(note the use of <code>do ... while(0)</code> to ensure that
<code>crReturn</code> does not need braces around it when it comes
directly between <code>if</code> and <code>else</code>)

</p><p>
This is almost exactly what we wanted. We can use
<code>crReturn</code> to return from the function in such a way that
control at the next call resumes just after the return. Of course we
must obey some ground rules (surround the function body with
<code>crBegin</code> and <code>crFinish</code>; declare all local
variables <code>static</code> if they need to be preserved across a
<code>crReturn</code>; <em>never</em> put a <code>crReturn</code>
within an explicit <code>switch</code> statement); but those do not
limit us very much.

</p><p>
The only snag remaining is the first parameter to
<code>crReturn</code>. Just as when we invented a new label in the
previous section we had to avoid it colliding with existing label
names, now we must ensure all our state parameters to
<code>crReturn</code> are different. The consequences will be fairly
benign - the compiler will catch it and not let it do horrible
things at run time - but we still need to avoid doing it.

</p><p>
Even this can be solved. ANSI C provides the special macro name
<code>__LINE__</code>, which expands to the current source line
number. So we can rewrite <code>crReturn</code> as

</p><pre><code>#define crReturn(x) do { state=__LINE__; return x; \
                         case __LINE__:; } while (0)</code></pre>

<p>
and then we no longer have to worry about those state parameters at
all, provided we obey a fourth ground rule (never put two
<code>crReturn</code> statements on the same line).

<a name="evaluation"></a></p><h2><a name="evaluation">Evaluation</a></h2>

<p>
So now we have this monstrosity, let's rewrite our original code
fragments using it.

</p><p>
<table>
<tbody><tr>
<td>
<pre><code>int decompressor(void) {
    static int c, len;
    crBegin;
    while (1) {
        c = getchar();
        if (c == EOF)
            break;
        if (c == 0xFF) {
            len = getchar();
            c = getchar();
            while (len--)
	        crReturn(c);
        } else
	    crReturn(c);
    }
    crReturn(EOF);
    crFinish;
}</code></pre>
</td>
<td>
<pre><code>void parser(int c) {
    crBegin;
    while (1) {
        /* first char already in c */
        if (c == EOF)
            break;
        if (isalpha(c)) {
            do {
                add_to_token(c);
		crReturn( );
            } while (isalpha(c));
            got_token(WORD);
        }
        add_to_token(c);
        got_token(PUNCT);
	crReturn( );
    }
    crFinish;
}</code></pre>
</td></tr></tbody></table>

</p><p>
We have rewritten both decompressor and parser as callees, with no
need at all for the massive restructuring we had to do last time we
did this. The structure of each function exactly mirrors the
structure of its original form. A reader can deduce the grammar
recognised by the parser, or the compressed data format used by the
decompressor, far more easily than by reading the obscure
state-machine code. The control flow is intuitive once you have
wrapped your mind around the new format: when the decompressor has a
character, it passes it back to the caller with
<code>crReturn</code> and waits to be called again when another
character is required. When the parser needs another character, it
returns using <code>crReturn</code>, and waits to be called again
with the new character in the parameter <code>c</code>.

</p><p>
There has been one small structural alteration to the code:
<code>parser()</code> now has its <code>getchar()</code> (well, the
corresponding <code>crReturn</code>) at the end of the loop instead
of the start, because the first character is already in
<code>c</code> when the function is entered. We could accept this
small change in structure, or if we really felt strongly about it we
could specify that <code>parser()</code> required an
"initialisation" call before you could start feeding it characters.

</p><p>
As before, of course, we don't have to rewrite both routines using
the coroutine macros. One will suffice; the other can be its caller.

</p><p>
We have achieved what we set out to achieve: a portable ANSI C means
of passing data between a producer and a consumer without the need
to rewrite one as an explicit state machine. We have done this by
combining the C preprocessor with a little-used feature of the
<code>switch</code> statement to create an <em>implicit</em> state
machine.

<a name="standards"></a></p><h2><a name="standards">Coding Standards</a></h2>

<p>
Of course, this trick violates every coding standard in the book.
Try doing this in your company's code and you will probably be
subject to a stern telling off if not disciplinary action! You have
embedded unmatched braces in macros, used <code>case</code> within
sub-blocks, and as for the <code>crReturn</code> macro with its
terrifyingly disruptive contents .&nbsp;.&nbsp;. It's a wonder you
haven't been fired on the spot for such irresponsible coding
practice. You should be ashamed of yourself.

</p><p>
I would claim that the coding standards are at fault here. The
examples I've shown in this article are not very long, not very
complicated, and still just about comprehensible when rewritten as
state machines. But as the functions get longer, the degree of
rewriting required becomes greater and the loss of clarity becomes
much, much worse.

</p><p>
Consider. A function built of small blocks of the form

</p><pre><code>    case STATE1:
    /* perform some activity */
    if (condition) state = STATE2; else state = STATE3;</code></pre>

<p>
is not very different, to a reader, from a function built of small
blocks of the form

</p><pre><code>    LABEL1:
    /* perform some activity */
    if (condition) goto LABEL2; else goto LABEL3;</code></pre>

<p>
One is caller and the other is callee, true, but the visual
structure of the functions are the same, and the insights they
provide into their underlying algorithms are exactly as small as
each other. The same people who would fire you for using my
coroutine macros would fire you just as loudly for building a
function out of small blocks connected by <code>goto</code>
statements! And this time they would be right, because laying out a
function like that obscures the structure of the algorithm horribly.

</p><p>
Coding standards aim for clarity. By hiding vital things like
<code>switch</code>, <code>return</code> and <code>case</code>
statements inside "obfuscating" macros, the coding standards would
claim you have obscured the syntactic structure of the program, and
violated the requirement for clarity. But you have done so in the
cause of revealing the <em>algorithmic</em> structure of the
program, which is far more likely to be what the reader wants to
know!

</p><p>
Any coding standard which insists on syntactic clarity at the
expense of algorithmic clarity should be rewritten. If your employer
fires you for using this trick, tell them that repeatedly as the
security staff drag you out of the building.

<a name="code"></a></p><h2><a name="code">Refinements and Code</a></h2>

<p>
In a serious application, this toy coroutine implementation is
unlikely to be useful, because it relies on <code>static</code>
variables and so it fails to be re-entrant or multi-threadable.
Ideally, in a real application, you would want to be able to call
the same function in several different contexts, and at each call in
a given context, have control resume just after the last return in
the same context.

</p><p>
This is easily enough done. We arrange an extra function parameter,
which is a pointer to a context structure; we declare all our local
state, and our coroutine state variable, as elements of that
structure.

</p><p>
It's a little bit ugly, because suddenly you have to use
<code>ctx-&gt;i</code> as a loop counter where you would previously
just have used <code>i</code>; virtually all your serious variables
become elements of the coroutine context structure. But it removes
the problems with re-entrancy, and still hasn't impacted the
<em>structure</em> of the routine.

</p><p>
(Of course, if C only had Pascal's <code>with</code> statement, we
could arrange for the macros to make this layer of indirection truly
transparent as well. A pity. Still, at least C++ users can manage
this by having their coroutine be a class member, and keeping all
its local variables in the class so that the scoping is implicit.)

</p><p>
Included here is a C header file that implements this coroutine
trick as a set of pre-defined macros. There are two sets of macros
defined in the file, prefixed <code>scr</code> and <code>ccr</code>.
The <code>scr</code> macros are the simple form of the technique,
for when you can get away with using <code>static</code> variables;
the <code>ccr</code> macros provide the advanced re-entrant form.
Full documentation is given in a comment in the header file itself.

</p><p>
Note that Visual C++ version 6 doesn't like this coroutine trick,
because its default debug state (Program Database for Edit and
Continue) does something strange to the <code>__LINE__</code> macro.
To compile a coroutine-using program with VC++ 6, you must turn off
Edit and Continue. (In the project settings, go to the "C/C++" tab,
category "General", setting "Debug info". Select any option
<em>other</em> than "Program Database for Edit and Continue".)

</p><p>
(The header file is MIT-licensed, so you can use it in anything you
like without restriction. If you do find something the MIT licence
doesn't permit you to do,
<a href="mailto:anakin@pobox.com">mail me</a>,
and I'll probably give you explicit permission to do it anyway.)

</p><p>
<a href="https://www.chiark.greenend.org.uk/~sgtatham/coroutine.h">Follow this link</a> for <code>coroutine.h</code>.

</p><p>
Thanks for reading. Share and enjoy!

<a name="references"></a></p><h2><a name="references">References</a></h2>

<ul>

<li>
Donald Knuth, <cite>The Art of Computer Programming</cite>, Volume
1. Addison-Wesley, ISBN 0-201-89683-4. Section 1.4.2 describes
coroutines in the "pure" form.

</li><li>
<a href="http://www.lysator.liu.se/c/duffs-device.html">http://www.lysator.liu.se/c/duffs-device.html</a>
is Tom Duff's own discussion of Duff's device. Note, right at the
bottom, a hint that Duff might also have independently invented this
coroutine trick or something very like it.
<p>
<b>Update, 2005-03-07</b>:
<a href="http://brainwagon.org/2005/03/05/coroutines-in-c/#comment-1878">Tom
Duff confirms this</a> in a blog comment. The "revolting way to use
switches to implement interrupt driven state machines" of which he
speaks in his original email is indeed the same trick as I describe
here.

</p></li><li>
<a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTY</a>
is a Win32 Telnet and SSH client. The SSH protocol code contains
real-life use of this coroutine trick. As far as I know, this is the
worst piece of C hackery ever seen in serious production code.
</li></ul>

<!-- end essay -->

<hr>

<p>
<i>$Id$</i>

</p><p>
Copyright © 2000 Simon Tatham.
<br>This document is
<a href="https://www.opencontent.org/">OpenContent</a>.
<br>You may copy and use the text under the terms of the
<a href="https://www.opencontent.org/openpub/">OpenContent
Licence</a>.
<br>Please send comments and criticism to
<a href="mailto:anakin@pobox.com">anakin@pobox.com</a>.

</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Efficient recovery and recycling of cobalt from spent lithium-ion batteries (176 pts)]]></title>
            <link>https://pubs.acs.org/doi/10.1021/acsomega.2c07780</link>
            <guid>39502165</guid>
            <pubDate>Sun, 25 Feb 2024 16:33:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://pubs.acs.org/doi/10.1021/acsomega.2c07780">https://pubs.acs.org/doi/10.1021/acsomega.2c07780</a>, See on <a href="https://news.ycombinator.com/item?id=39502165">Hacker News</a></p>
Couldn't get https://pubs.acs.org/doi/10.1021/acsomega.2c07780: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Mamba Explained: The State Space Model Taking On Transformers (244 pts)]]></title>
            <link>https://www.kolaayonrinde.com/blog/2024/02/11/mamba.html</link>
            <guid>39501982</guid>
            <pubDate>Sun, 25 Feb 2024 16:16:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.kolaayonrinde.com/blog/2024/02/11/mamba.html">https://www.kolaayonrinde.com/blog/2024/02/11/mamba.html</a>, See on <a href="https://news.ycombinator.com/item?id=39501982">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody">
    <!-- <nav class="sidebar"> -->
    <!-- Table of Contents -->
    <!-- <h4>Table of Contents</h4> -->
    <!--  -->
    <!-- </nav> -->
    <!-- <br /> -->
    <!-- <br /> -->
    <h3 id="the-state-space-model-taking-on-transformers">The State Space Model taking on Transformers</h3>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/snake.png" width="400" alt="Mamba vs Transformer">
    <figcaption></figcaption>
  </figure>
</div>


<p>Right now, AI is eating the world.</p>

<p>And by AI, I mean Transformers. Practically all the big breakthroughs in AI over
the last few years are due to Transformers.</p>

<p><strong>Mamba</strong>, however, is one of an alternative class of models called <strong>State
Space Models</strong> (<strong>SSMs</strong>). Importantly, for the first time, Mamba promises
similar performance (and crucially similar
<a href="https://arxiv.org/pdf/2203.15556.pdf"><em>scaling laws</em></a>) as the Transformer
whilst being feasible at long sequence lengths (say 1 million tokens). We
achieve this long context by removing the “quadratic bottleneck” in the
Attention Mechanism. Mamba also runs <em>fast</em> - like “up to 5x faster than
Transformer fast”<sup id="fnref:figure" role="doc-noteref"><a href="#fn:figure" rel="footnote">1</a></sup>.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/mamba_scaling.png" width="800" alt="Scaling Laws for Mamba vs other Language Models">
    <figcaption>Mamba performs similarly (or slightly better than) other Language Models on The Pile</figcaption>
  </figure>
</div>


<p>Gu and Dao, the Mamba authors write:</p>

<blockquote>
  <p>Mamba enjoys fast inference and linear scaling in sequence length, and its
performance improves on real data up to million-length sequences. As a general
sequence model backbone, Mamba achieves state-of-the-art performance across
several modalities such as language, audio, and genomics. On language
modeling, our Mamba-3B model outperforms Transformers of the same size and
matches Transformers twice its size, both in pretraining and downstream
evaluation.</p>
</blockquote>



<p>Here we’ll discuss:</p>

<ul>
  <li>The advantages (and disadvantages) of Mamba (🐍) vs Transformers (🤖),</li>
  <li>Analogies and intuitions for thinking about Mamba, and</li>
  <li>What Mamba means for Interpretability, AI Safety and Applications.</li>
</ul>

<h2 id="problems-with-transformers---maybe-attention-isnt-all-you-need">Problems with Transformers - Maybe Attention <em>Isn’t</em> All You Need</h2>

<p>We’re very much in the Transformer-era of history. ML used to be about detecting
cats and dogs. Now, with Transformers, we’re
<a href="https://openai.com/research/gpt-4">generating human-like poetry</a>,
<a href="https://storage.googleapis.com/deepmind-media/AlphaCode2/AlphaCode2_Tech_Report.pdf">coding better than the median competitive programmer</a>,
and
<a href="https://www.nature.com/articles/s41586-021-03819-2">solving the protein folding problem</a>.</p>

<p>But Transformers have one core problem. In a transformer, every token can look
back at every previous token when making predictions. For this lookback, we
cache detailed information about each token in the so-called KV cache.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/attention.png" width="800" alt="attention">
    <figcaption>When using the Attention Mechanism, information from all previous tokens can be passed to the current token</figcaption>
  </figure>
</div>


<p>This pairwise communication means a forward pass is O(n²) time complexity in
training (the dreaded <code>quadratic bottleneck</code>) and each new token generated
autoregressively takes O(n) time. That is to say, as the context gets larger,
the model gets <em>slower</em>.</p>

<p>To add insult to injury, storing this KV cache requires O(n) space. The fateful
<code>CUDA OOM</code> error looms large as the memory footprint balloons. If space were the
only issue, we might just add more GPUs but with latency growing
quadratically… perhaps not.</p>

<p>On the margin, we can mitigate the quadratic bottleneck with techniques like
<a href="https://paperswithcode.com/method/sliding-window-attention">Sliding Window Attention</a>
or clever CUDA optimisations like
<a href="https://arxiv.org/pdf/2205.14135.pdf">FlashAttention</a>. But ultimately, for
super long context windows (like a chatbot which remembers every conversation
you’ve shared), we need a different approach.</p>

<h3 id="foundation-model-backbones">Foundation Model Backbones</h3>

<p>Fundamentally, all good ML architecture backbones have components for two
important operations:</p>

<ol>
  <li><strong>Communication</strong> <em>between</em> tokens</li>
  <li><strong>Computation</strong> <em>within</em> a token</li>
</ol>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/transformer_block.png" width="800" alt="Transformer Block">
    <figcaption>The Transformer Block</figcaption>
  </figure>
</div>


<p>In transformers, this is <strong>Attention</strong> (<code>communication</code>) and <strong>MLPs</strong>
(<code>computation</code>). We improve transformers by optimising these two
operations<sup id="fnref:scale" role="doc-noteref"><a href="#fn:scale" rel="footnote">2</a></sup>.</p>

<p>We would like to replace the Attention component <sup id="fnref:attention" role="doc-noteref"><a href="#fn:attention" rel="footnote">3</a></sup> with some other
method for communicating between tokens. <strong>Mamba</strong> uses the Control Theory
inspired <strong>SSM</strong> for <code>Communication</code> and keeps MLP-style projections for
<code>Computation</code>.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/mamba_block.png" width="800" alt="Mamba Block">
    <figcaption>The Mamba Block</figcaption>
  </figure>
</div>


<p>Like a Transformer made up of stacked transformer blocks, Mamba is made up of
stacked Mamba blocks as above.</p>

<p>We would like to understand and motivate the choice of the SSM for sequence
transformations.</p>

<h2 id="motivating-mamba---a-throwback-to-temple-run">Motivating Mamba - A Throwback to Temple Run</h2>

<p>Imagine we’re building a Temple Run agent <sup id="fnref:temple-run" role="doc-noteref"><a href="#fn:temple-run" rel="footnote">4</a></sup>. It chooses if the
runner should move left or right at any time.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/temple_run.png" width="400" alt="Temple Run">
    <figcaption></figcaption>
  </figure>
</div>


<p>To successfully pick the correct direction, we need information about our
surroundings. Let’s call the collection of relevant information the <code>state</code>.
Here the state likely includes your current position and velocity, the position
of the nearest obstacle, weather conditions, etc.</p>

<blockquote>
  <p>Claim 1: if you know the current state of the world and how the world is
evolving, then you can use this to determine the direction to move.</p>
</blockquote>

<p>Note that you don’t need to look at the whole screen all the time. You can
figure out what will happen to most of the screen by noting that as you run, the
obstacles move down the screen. You only need to look at the top of the screen
to understand the new information and then simulate the rest.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/temple_run_annotated.png" width="800" alt="Temple Run">
    <figcaption></figcaption>
  </figure>
</div>


<p>This lends itself to a natural formulation. Let h be the hidden state, relevant
knowledge about the world. Also let x be the input, the observation that you get
each time. h’ then represents the derivative of the hidden state, i.e. how the
state is evolving. We’re trying to predict y, the optimal next move (right or
left).</p>

<p>Now, Claim 1 states that
<code>from the hidden state h, h’, and the new observation x, you can figure out y</code>.</p>

<p>More concretely, h, the state, can be represented as a differential equation (Eq
1a):</p><p>

\[h’(t) = \mathbf{A}h(t) + \mathbf{B}x(t)\]

</p><p>Knowing h allows you to determine your next move y (Eq 1b):</p><p>

\[y(t) = \mathbf{C}h(t) + \mathbf{D}x(t)\]

</p><p>The system evolves as a function of the current state and new observations. A
small new observation is enough because we can determine most of the state by
applying known state dynamics to the previous state. That is, most of the screen
isn’t new, it’s just the natural downward movement of the previous state. Fully
knowing the state would allow us to pick the best next move, y.</p>

<p>You can learn a lot about the system dynamics by observing the top of the
screen - if it’s moving faster, we can infer the whole screen is and the game is
speeding up<sup id="fnref:smooth" role="doc-noteref"><a href="#fn:smooth" rel="footnote">5</a></sup>. In this way, even if we start off knowing nothing about
the game except our limited observation, pretty soon we could understand the
whole screen.</p>

<h3 id="whats-the-state">What’s the State?</h3>

<p>Here, <strong>state</strong> refers to the variables that, when combined with the input
variables, fully determine the future system behaviour. In theory, once we have
the state, there’s nothing else we need to know about the past to predict the
future. With this choice of state, the system is converted to a <strong>Markov
Decision Process</strong>. Ideally, the state is a fairly small amount of information
which captures the essential properties of the system. That is, <strong>the state is a
compression of the past</strong> <sup id="fnref:diagonal" role="doc-noteref"><a href="#fn:diagonal" rel="footnote">6</a></sup></p>

<h2 id="discretisation---how-to-deal-with-living-in-a-quantised-world">Discretisation - How To Deal With Living in a Quantised World</h2>

<p>Okay, great! So, given some state and input observation, we have an
autoregressive-style system to determine the next action. Amazing!</p>

<p>In practice though, there’s a little snag here. We’re modelling time as
continuous. But in real life, we get new inputs and take new actions at discrete
time steps <sup id="fnref:discrete" role="doc-noteref"><a href="#fn:discrete" rel="footnote">7</a></sup>.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/quantised.png" width="600" alt="Reality is Quantised">
    <figcaption></figcaption>
  </figure>
</div>


<p>We would like to convert this <em>continuous-time differential equation</em> into a
<em>discrete-time difference equation</em>. This conversion process is known as
<code>discretisation</code>. Discretisation is a well-studied problem in the literature.
Mamba uses the <a href="https://en.wikipedia.org/wiki/Zero-order_hold">Zero-Order Hold</a>
(ZOH) discretisation<sup id="fnref:zoh" role="doc-noteref"><a href="#fn:zoh" rel="footnote">8</a></sup>. To give an idea of what’s happening morally,
consider a naive first-order approximation<sup id="fnref:Euler" role="doc-noteref"><a href="#fn:Euler" rel="footnote">9</a></sup>.</p>

<p>From Equation 1a, we have</p><p>

\[h’(t) = \mathbf{A}h(t) + \mathbf{B}x(t)\]

</p><p>And for small ∆,</p><p>

\[h’(t) \approx \frac{h(t+\Delta) - h(t)}{\Delta}\]

</p><p>by the definition of the derivative.</p>

<p>We let:</p><p>

\[h_t = h(t)\]

</p><p>and</p><p>

\[h_{t+1} = h(t + \Delta)\]

</p><p>and substitute into Equation 1a giving:</p><p>

\[h_{t+1} - h_t \approx \Delta (\mathbf{A}h_t + \mathbf{B}x_t)\]

\[\Rightarrow h_{t+1} \approx (I + \Delta \mathbf{A})h_t + (\Delta
\mathbf{B})x_t\]

</p><p>Hence, after renaming the coefficients and relabelling indices, we have the
discrete representations:</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/equation_2.png" width="800" alt="Equation 2">
    <figcaption>The Discretised Version of the SSM Equation</figcaption>
  </figure>
</div>


<p>If you’ve ever looked at an RNN before <sup id="fnref:rnn" role="doc-noteref"><a href="#fn:rnn" rel="footnote">10</a></sup> and this feels familiar - <em>trust
your instincts</em>:</p>

<blockquote>
  <p>We have some input x, which is combined with the previous hidden state by some
transform to give the new hidden state. Then we use the hidden state to
calculate the output at each time step.</p>
</blockquote>

<h2 id="understanding-the-ssm-matrices">Understanding the SSM Matrices</h2>

<p>Now, we can interpret the A, B, C, D matrices more intuitively:</p>

<ul>
  <li>A is the transition state matrix. It shows how you transition the current
state into the next state. It asks “How should I forget the less relevant
parts of the state over time?”</li>
  <li>B is mapping the new input into the state, asking “What part of my new input
should I remember?”. <sup id="fnref:B" role="doc-noteref"><a href="#fn:B" rel="footnote">11</a></sup></li>
  <li>C is mapping the state to the output of the SSM. It asks, “How can I use the
state to make a good next prediction?”. <sup id="fnref:C" role="doc-noteref"><a href="#fn:C" rel="footnote">12</a></sup></li>
  <li>D is how the new input passes through to the output. It’s a kind of modified
skip connection that asks “How can I use the new input in my prediction?”</li>
</ul>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/graphical_matmuls.png" width="600" alt="Visual SSM Equations">
    <figcaption>Visual Representation of The SSM Equations</figcaption>
  </figure>
</div>


<p>Additionally, ∆ has a nice interpretation - it’s the step size, or what we might
call the <code>linger time</code> or the <code>dwell time</code>. For large ∆, you focus more on that
token; for small ∆, you skip past the token immediately and don’t include it
much in the next state.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/mamba_hardware_diagram.png" width="800" alt="Hardware Diagram">
    <figcaption></figcaption>
  </figure>
</div>


<p>And that’s it! That’s the SSM, our ~drop-in replacement for Attention
(<code>Communication</code>) in the Mamba block. The <code>Computation</code> in the Mamba
architecture comes from regular linear projections, non-linearities, and local
convolutions - the regular ML building blocks we know and love!</p>

<p>Okay great, that’s the theory - but does this work? Well…</p>

<h2 id="effectiveness-vs-efficiency-attention-is-focus-selectivity-is-prioritisation">Effectiveness vs Efficiency: Attention is Focus, Selectivity is Prioritisation</h2>

<p>At WWDC ‘97, Steve Jobs famously noted that
“<a href="https://www.youtube.com/watch?v=H8eP99neOVs&amp;t=98s">focusing is about saying no</a>”.
Focus is ruthless prioritisation. It’s common to think about Attention
<em>positively</em> as choosing what to <em>notice</em>. In the Steve Jobs sense, we might
instead frame Attention <em>negatively</em> as choosing what to <em>discard</em>.</p>

<p>There’s a classic intuition pump in Machine Learning known as the
<a href="https://ieeexplore.ieee.org/document/8555495">Cocktail Party Problem</a>
<sup id="fnref:alcohol" role="doc-noteref"><a href="#fn:alcohol" rel="footnote">13</a></sup>. Imagine a party with dozens of simultaneous loud conversations:</p>

<p>Question:</p>

<blockquote>
  <p>How do we recognise what one person is saying when others are talking at the
same time? <sup id="fnref:frequency" role="doc-noteref"><a href="#fn:frequency" rel="footnote">14</a></sup></p>
</blockquote>

<p>Answer:</p>

<blockquote>
  <p>The brain solves this problem by focusing your “attention” on a particular
stimulus <em>and hence</em> drowning out all other sounds as much as possible.</p>
</blockquote>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/cocktail_party.png" width="450" alt="Cocktail Party">
    <figcaption></figcaption>
  </figure>
</div>


<hr>



<p>Transformers use Dot-Product Attention to focus in on the most relevant tokens.
A big reason Attention is so great is that you have the potential to look back
at everything that ever happened in its context. This is like photographic
memory when done right. <sup id="fnref:photo" role="doc-noteref"><a href="#fn:photo" rel="footnote">15</a></sup></p>

<p>Transformers (🤖) are extremely <strong>effective</strong>. But they aren’t very
<strong>efficient</strong>. They store everything from the past so that they can look back at
tokens with theoretically perfect recall.</p>

<p>Traditional RNNs (🔁) are the opposite - they forget a lot, only recalling a
small amount in their hidden state and discarding the rest. They are very
<strong>efficient</strong> - their state is small. Yet they are less <strong>effective</strong> as
discarded information cannot be recovered.</p>

<p>We’d like something closer to the Pareto frontier of the
effectiveness/efficiency tradeoff. Something that’s more effective than
traditional RNNs and more efficient than transformers.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/pareto_frontier.png" width="800" alt="Pareto Frontier">
    <figcaption>The Mamba Architecture seems to offer a solution which pushes out the Pareto frontier of effectiveness/efficiency.</figcaption>
  </figure>
</div>


<p>SSMs are as <strong>efficient</strong> as RNNs, but we might wonder how <strong>effective</strong> they
are. After all, it seems like they would have a hard time discarding only
<em>unnecessary</em> information and keeping everything relevant. If each token is
being processed the same way, applying the same A and B matrices as if in a
factory assembly line for tokens, there is no context-dependence. We would like
the forgetting and remembering matrices (A and B respectively) to vary and
dynamically adapt to inputs.</p>

<h3 id="the-selection-mechanism">The Selection Mechanism</h3>

<p><strong>Selectivity</strong> allows each token to be transformed into the state in a way that
is unique to its own needs. Selectivity is what takes us from vanilla SSM models
(applying the same A (forgetting) and B (remembering) matrices to every input)
to Mamba, the <strong><em>Selective</em></strong> <em>State Space Model</em>.</p>

<p>In regular SSMs, A, B, C and D are learned matrices - that is</p>

<p>\(\mathbf{A} =
\mathbf{A}_{\theta}\) etc. (where θ represents the learned
parameters)</p>

<p>With the Selection Mechanism in Mamba, A, B, C and D are also functions of x.
That is \(\mathbf{A} = \mathbf{A}_{\theta(x)}\) etc; the matrices are context
dependent rather than static.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/ssm_algorithm.png" width="800" alt="SSM Algorithm">
    <figcaption>Mamba (right) differs from traditional SSMs by allowing A,B,C matrices to be <b> selective </b> i.e. context dependent </figcaption>
  </figure>
</div>


<p>Making A and B functions of x allows us to get the best of both worlds:</p>

<ul>
  <li>We’re selective about what we include in the state, which improves
<strong>effectiveness</strong> vs traditional SSMs.</li>
  <li>Yet, since the state size is bounded, we improve on <strong>efficiency</strong> relative to
the Transformer. We have O(1), not O(n) space and O(n) not O(n²) time
requirements.</li>
</ul>

<p>The Mamba paper authors write:</p>

<blockquote>
  <p>The efficiency vs. effectiveness tradeoff of sequence models is characterized
by how well they compress their state: efficient models must have a small
state, while effective models must have a state that contains all necessary
information from the context. In turn, we propose that a fundamental principle
for building sequence models is selectivity: or the context-aware ability to
focus on or filter out inputs into a sequential state. In particular, a
selection mechanism controls how information propagates or interacts along the
sequence dimension.</p>
</blockquote>



<hr>



<p>Humans (mostly) don’t have photographic memory for everything they experience
within a lifetime - or even within a day! There’s just way too much information
to retain it all. Subconsciously, we select what to remember by choosing to
forget, throwing away most information as we encounter it. Transformers (🤖)
decide what to focus on at <strong>recall time</strong>. Humans (🧑) also decide what to
throw away at <strong>memory-making time</strong>. Humans filter out information early and
often.</p>

<p>If we had infinite capacity for memorisation, it’s clear the transformer
approach is better than the human approach - it truly is more effective. But
it’s less efficient - transformers have to store so much information about the
past that might not be relevant. Transformers (🤖) only decide what’s relevant
at <strong>recall time</strong>. The innovation of Mamba (🐍) is allowing the model better
ways of forgetting earlier - it’s focusing by choosing what to <em>discard</em> using
<strong>Selectivity</strong>, throwing away less relevant information at <strong>memory-making
time</strong><sup id="fnref:seq_len" role="doc-noteref"><a href="#fn:seq_len" rel="footnote">16</a></sup>.</p>

<h3 id="the-problems-of-selectivity">The Problems of Selectivity</h3>

<p>Applying the Selection Mechanism does have its gotchas though. Non-selective
SSMs (i.e. A,B not dependent on x) are fast to compute in training. This is
because the component of \(y_t\) which depends on \(x_i\) can be expressed
as a linear map, i.e. a single matrix that can be precomputed!</p>

<p>For example (ignoring the D component, the skip connection):</p><p>

\[y_2 = \mathbf{C}\mathbf{B}x_2 + \mathbf{C}\mathbf{A}\mathbf{B}x_1 +
\mathbf{C}\mathbf{A}\mathbf{A}\mathbf{B}x_0\]

</p><p>If we’re paying attention, we might spot something even better here - this
expression can be written as a convolution. Hence we can apply the Fast Fourier
Transform and the Convolution Theorem to compute this <em>very</em> efficiently on
hardware as in Equation 3 below.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/equations_2_3.png" width="800" alt="Equations 2 and 3">
    <figcaption>We can calculate Equation 2, the SSM equations, efficiently in the Convolutional Form, Equation 3. </figcaption>
  </figure>
</div>


<p>Unfortunately, with the Selection Mechanism, we lose the convolutional form.
Much attention is given to making Mamba efficient on modern GPU hardware using
similar hardware optimisation tricks to Tri Dao’s Flash Attention <sup id="fnref:cuda" role="doc-noteref"><a href="#fn:cuda" rel="footnote">17</a></sup>. With
the hardware optimisations, Mamba is able to run faster than comparably sized
Transformers.</p>

<h3 id="machine-learning-for-political-economists---how-large-should-the-state-be">Machine Learning for Political Economists - How Large Should The State Be?</h3>

<p>The Mamba authors write, “the efficiency vs. effectiveness tradeoff of sequence
models is characterised by how well they compress their state”. In other words,
like in political economy<sup id="fnref:oop" role="doc-noteref"><a href="#fn:oop" rel="footnote">18</a></sup>, the fundamental problem is how to manage the
state.</p>

<p>🔁 <strong>Traditional RNNs are anarchic</strong></p>

<blockquote>
  <p>They have a small, minimal state. The size of the state is bounded. The
compression of state is poor.</p>
</blockquote>

<p>🤖 <strong>Transformers are communist</strong></p>

<blockquote>
  <p>They have a maximally large state. The “state” is just a cache of the entire
history with no compression. Every context token is treated equally until
recall time.</p>
</blockquote>

<p>🐍<strong>Mamba has a compressed state</strong></p>

<blockquote>
  <p>…but it’s selective about what goes in. Mamba says we can get away with a
small state if the state is well focused and effective <sup id="fnref:politik" role="doc-noteref"><a href="#fn:politik" rel="footnote">19</a></sup>.</p>
</blockquote>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/political_spectrum.png" width="800" alt="Language Models and State Size">
    <figcaption>Language Models and State Size</figcaption>
  </figure>
</div>


<p>The upshot is <strong>state representation is critical</strong>. A smaller state is more
efficient; a larger state is more effective. The key is to <strong>selectively</strong> and
<strong>dynamically</strong> compress data into the state. Mamba’s Selection Mechanism allows
for context-dependent reasoning, focusing and ignoring. For both performance and
interpretability, understanding the state seems to be very useful.</p>

<h2 id="information-flow-in-transformer-vs-mamba">Information Flow in Transformer vs Mamba</h2>

<p>How do Transformers know anything? At initialisation, a transformer isn’t very
smart. It learns in two ways:</p>

<ol>
  <li>Training data (Pretraining, SFT, RLHF etc)</li>
  <li>In context-data</li>
</ol>

<h4 id="training-data">Training Data</h4>

<p>Models learn from their training data. This is a kind of lossy compression of
input data into the weights. We can think of the effect of pretraining data on
the transformer kinda like the effect of your ancestor’s experiences on your
genetics - you can’t recall their experiences, you just have vague instincts
about them <sup id="fnref:analogy" role="doc-noteref"><a href="#fn:analogy" rel="footnote">20</a></sup>.</p>

<h4 id="in-context-data">In Context-Data</h4>

<p>Transformers use their context as short-term memory, which they can recall with
~perfect fidelity. So we get
<a href="https://thegradient.pub/in-context-learning-in-context/">In-Context Learning</a>,
e.g. using induction heads to solve the
<a href="https://arxiv.org/pdf/2211.00593.pdf">Indirect Object Identification</a> task, or
<a href="https://proceedings.neurips.cc/paper_files/paper/2022/file/c529dba08a146ea8d6cf715ae8930cbe-Paper-Conference.pdf">computing Linear Regression</a>.</p>

<h4 id="retrieval">Retrieval</h4>

<p>Note that Transformers don’t filter their context at all until recall time. So
if we have a bunch of information we think <em>might</em> be useful to the Transformer,
we filter it <em>outside</em> the Transformer (using Information Retrieval strategies)
and then stuff the results into the prompt. This process is known as Retrieval
Augmented Generation (RAG). RAG determines relevant information for the context
window of a transformer. A human with the internet is kinda like a RAG system -
you still have to know what to search but whatever you retrieve is as salient as
short-term memory to you.</p>

<h4 id="information-flow-for-mamba">Information Flow for Mamba</h4>

<p>Training Data acts similarly for Mamba. However, the lines are slightly blurred
for in-context data and retrieval. In-context data for Mamba <em>is</em>
compressed/filtered similar to retrieval data for transformers. This in-context
data is also accessible for look-up like for transformers (although with
somewhat lower fidelity).</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/information_flow.png" width="800" alt="The Information Flow in Mamba">
    <figcaption></figcaption>
  </figure>
</div>


<p>Transformer context is to Mamba states what short-term is to long-term memory.
Mamba doesn’t just have “RAM”, it has a hard drive<sup id="fnref:hard-drive" role="doc-noteref"><a href="#fn:hard-drive" rel="footnote">21</a></sup> <sup id="fnref:ssd" role="doc-noteref"><a href="#fn:ssd" rel="footnote">22</a></sup>.</p>

<h3 id="swapping-states-as-a-new-prompting-paradigm">Swapping States as a New Prompting Paradigm</h3>

<p>Currently, we often use RAG to give a transformer contextual information.</p>

<p>With Mamba-like models, you could instead imagine having a library of states
created by running the model over specialised data. States could be shared kinda
like
<a href="https://paperswithcode.com/paper/lora-low-rank-adaptation-of-large-language">LoRAs</a>
for image models.</p>

<p>For example, I could do inference on 20 physics textbooks and, say, 100 physics
questions and answers. Then I have a state which I can give to you. Now you
don’t need to add any few-shot examples; you just simply ask your question.
<strong>The in-context learning is in the state</strong>.</p>

<p>In other words, you can drag and drop downloaded states into your model, like
literal plug-in cartridges. And note that “training” a state doesn’t require any
backprop. It’s more like a highly specialised one-pass fixed-size compression
algorithm. This is unlimited in-context learning applied at inference time for
zero-compute or latency. <sup id="fnref:steering" role="doc-noteref"><a href="#fn:steering" rel="footnote">23</a></sup></p>

<p>The structure of an effective LLM call goes from…</p>

<ol>
  <li>System Prompt</li>
  <li>Preamble</li>
  <li>Few shot-examples</li>
  <li>Question</li>
</ol>

<p>…for Transformers, to simply…</p>

<ol>
  <li>Inputted state (with problem context, initial instructions, textbooks, and
few-shot examples)</li>
  <li>Short question</li>
</ol>

<p>…for Mamba.</p>

<p>This is cheaper and faster than few-shot prompting (as the state is infinitely
reusable without inference cost). It’s also MUCH cheaper than finetuning and
doesn’t require any gradient updates. We could imagine retrieving states in
addition to context.</p>

<h2 id="mamba--mechanistic-interpretability">Mamba &amp; Mechanistic Interpretability</h2>

<p>Transformer interpretability typically involves:</p>

<ol>
  <li>understanding token relationships via attention,</li>
  <li>understanding circuits, and</li>
  <li>using
<a href="https://www.kolaayonrinde.com/blog/2023/11/03/dictionary-learning.html">Dictionary Learning</a>
for unfolding MLPs.</li>
</ol>

<p>Most of the ablations that we would like to do for Mamba are still valid, but
understanding token communication (1) is now more nuanced. All information moves
between tokens via hidden states instead of the Attention Mechanism which can
“teleport” information from one sequence position to another.</p>

<p>For understanding in-context learning (ICL) tasks with Mamba, we will look to
intervene on the SSM state. A classic task in-context learning task is
<a href="https://arxiv.org/pdf/2211.00593.pdf">Indirect Object Identification</a> in which
a model has to finish a paragraph like:</p>

<blockquote>
  <p><em>Then, Shelby and Emma had a lot of fun at the school. [Shelby/Emma] gave an
apple to [BLANK]</em></p>
</blockquote>

<p>The model is expected to fill in the blank with the name that is not repeated in
the paragraph. In the chart below we can see that information is passed from the
<code>[Shelby/Emma]</code> position to the final position via the hidden state (see the two
blue lines in the top chart).</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/patching_state.png" width="800" alt="Patching State">
    <figcaption></figcaption>
  </figure>
</div>


<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/patching_residual_stream.png" width="800" alt="Patching Residual Stream">
    <figcaption></figcaption>
  </figure>
</div>


<p>Since it’s hypothesised that much of In-Context Learning in Transformers is
downstream of more primitive sequence position operations (like
<a href="https://transformer-circuits.pub/2022/in-context-learning-and-induction-heads/index.html">Induction Heads</a>),
Mamba being able to complete this task suggests a more general In-Context
Learning ability.</p>

<h2 id="whats-next-for-mamba--ssms">What’s Next for Mamba &amp; SSMs?</h2>

<p>Mamba-like models are likely to excel in scenarios requiring extremely long
context and long-term memory. Examples include:</p>

<ul>
  <li>Processing DNA</li>
  <li>Generating (or reasoning over) video</li>
  <li>Writing novels</li>
</ul>

<p>An illustrative example is agents with long-term goals.</p>

<blockquote>
  <p>Suppose you have an agent interacting with the world. Eventually, its
experiences become too much for the context window of a transformer. The agent
then has to compress or summarise its experiences into some more compact
representation.</p>

  <p>But how do you decide what information is the most useful as a summary? If the
task is language, LLMs are actually fairly good at summaries - okay, yeah,
you’ll lose some information, but the most important stuff can be retained.</p>

  <p>However, for other disciplines, it might not be clear how to summarise. For
example, what’s the best way to summarise a 2 hour movie? <sup id="fnref:movie" role="doc-noteref"><a href="#fn:movie" rel="footnote">24</a></sup>. Could the
model itself learn to do this naturally rather than a hacky workaround like
trying to describe the aesthetics of the movie in text?</p>
</blockquote>

<p>This is what Mamba allows. Actual long-term memory. A real state where the model
learns to keep what’s important.
<a href="https://arxiv.org/pdf/2309.10668.pdf">Prediction is compression</a> - learning
what’s useful to predict what’s coming next inevitably leads to building a
useful compression of the previous tokens.</p>



<hr>



<p>The implications for Assistants are clear:</p>

<p>Your chatbot co-evolves with you. It remembers.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/her.png" width="800" alt="Her">
    <figcaption>The film HER is looking better and better as time goes on 😳</figcaption>
  </figure>
</div>


<h3 id="agents--ai-safety">Agents &amp; AI Safety</h3>

<p>One reason for positive updates in existential risk from AGI is Language Models.
Previously, Deep-RL agents trained via self-play looked set to be the first
AGIs. Language models are inherently much safer since they aren’t trained with
long-term goals. <sup id="fnref:safe" role="doc-noteref"><a href="#fn:safe" rel="footnote">25</a></sup></p>

<p>The potential for long-term sequence reasoning here brings back the importance
of agent-based AI safety. Few agent worries are relevant to Transformers with an
8k context window. Many are relevant to systems with impressive long-term
memories and possible instrumental goals.</p>

<h3 id="the-best-collab-since-taco-bell--kfc--x-">The Best Collab Since Taco Bell &amp; KFC: 🤖 x 🐍</h3>

<p>The Mamba authors show that there’s value in combining Mamba’s long context with
the Transformer’s high fidelity over short sequences. For example, if you’re
making long videos, you likely can’t fit a whole movie into a Transformer’s
context for attention <sup id="fnref:image" role="doc-noteref"><a href="#fn:image" rel="footnote">26</a></sup>. You could imagine having Attention look at the
most recent frames for short-term fluidity and an SSM for long-term narrative
consistency <sup id="fnref:optimisation" role="doc-noteref"><a href="#fn:optimisation" rel="footnote">27</a></sup>.</p>



<hr>



<p>This isn’t the end for Transformers. Their high effectiveness is exactly what’s
needed for many tasks. But now Transformers aren’t the only option. Other
architectures are genuinely feasible.</p>

<p>So we’re not in the post-<code>Transformer</code> era. But for the first time, we’re living
in the post-<code>only-Transformers</code> era <sup id="fnref:other-models" role="doc-noteref"><a href="#fn:other-models" rel="footnote">28</a></sup>. And this blows the
possibilities wide open for sequence modelling with extreme context lengths and
native long-term memory.</p>

<p>Two ML researchers, Sasha Rush (HuggingFace, Annotated Transformer, Cornell
Professor) and Jonathan Frankle (Lottery Ticket Hypothesis, MosaicML, Harvard
Professor), currently have a bet <a href="http://www.isattentionallyouneed.com/">here</a>.</p>

<div>
  <figure>
    <img src="https://www.kolaayonrinde.com/blog/images/mamba/attention_wager.png" width="800" alt="Attention Wager">
    <figcaption></figcaption>
  </figure>
</div>


<p>Currently Transformers are far and away in the lead. With 3 years left, there’s
now a research direction with a fighting chance.</p>

<p>All that remains to ask is: <code>Is Attention All We Need?</code></p>



<p><em>Thanks to Gonçalo for reading an early draft, Jaden for the nnsight library
used for the Interpretability analysis and Tessa for Mamba patching
visualisations.</em></p>

<p><em>Also see: <a href="https://arxiv.org/pdf/2312.00752.pdf">Mamba paper</a>, Mamba Python
code, <a href="https://srush.github.io/annotated-s4/">Annotated S4</a>,
<a href="https://www.cognitiverevolution.ai/emergency-pod-mamba-memory-and-the-ssm-moment/">Nathan Labenz podcast</a></em></p>

<p>

$$</p>


  </div></div>]]></description>
        </item>
    </channel>
</rss>