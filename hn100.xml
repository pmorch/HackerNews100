<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Tue, 09 Sep 2025 21:30:05 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[The Dying Dream of a Decentralized Web (101 pts)]]></title>
            <link>https://spectrum.ieee.org/web3-hardware-security</link>
            <guid>45186726</guid>
            <pubDate>Tue, 09 Sep 2025 18:47:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://spectrum.ieee.org/web3-hardware-security">https://spectrum.ieee.org/web3-hardware-security</a>, See on <a href="https://news.ycombinator.com/item?id=45186726">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-headline="How Cryptocurrency Captured the Dream of the Decentralized Web"><p><span>The term </span><a href="https://spectrum.ieee.org/web3" target="_blank">Web3</a><span> was originally </span><a href="https://gavwood.com/dappsweb3.html" target="_blank">coined</a><span> by Etherium cofounder </span><a href="https://en.wikipedia.org/wiki/Gavin_Wood" target="_blank">Gavin Wood</a><span> as a secure, decentralized, <a href="https://spectrum.ieee.org/tag/peer-to-peer">peer-to-peer</a> version of the <a href="https://spectrum.ieee.org/tag/internet">Internet</a>. </span><span>The idea was to build an Internet</span><span> based on </span><a data-linked-post="2653906720" href="https://spectrum.ieee.org/forget-cryptocurrencies-and-nftssecuring-devices-is-the-future-of-blockchain-technology" target="_blank">blockchain technology</a><span> and a peer-to-peer network, without the need for large <a href="https://spectrum.ieee.org/tag/data-centers">data centers</a> or third-party providers. These days, however, <a href="https://spectrum.ieee.org/tag/blockchain">blockchain</a> is most famous as the tool enabling <a href="https://spectrum.ieee.org/the-future-of-money?utm_campaign=post-teaser&amp;utm_content=ibfuflhf" target="_blank">cryptocurrencies</a>. Most recently</span><span>, the Trump administration has </span><a href="https://www.cnn.com/2025/08/18/business/bitcoin-crypto-rally-us-stocks" target="_blank">taken</a><span> on a pro-cryptocurrency stance, boosting blockchain’s </span>popularity and media prominence.</p><p><span><a href="https://spectrum.ieee.org/tag/cryptography">Cryptography</a> is central to the functioning of blockchains, whether for a <a href="https://spectrum.ieee.org/tag/decentralized-web">decentralized Web</a> or for <a href="https://spectrum.ieee.org/tag/cryptocurrencies">cryptocurrencies</a>. Every time a <a href="https://spectrum.ieee.org/tag/cryptocurrency">cryptocurrency</a> transaction is initiated, all parties involved in the transaction need to securely prove that they agree to the transfer. This is done via a <a href="https://en.wikipedia.org/wiki/Digital_signature" target="_blank">digital signature</a>: a cryptographic protocol that generates a secret, private key that is unique to each user and a public key that the user shares. Then, the private key is used to generate a unique signature for each transaction. The public key can be used to verify that, indeed, the signature was created by the holder of the private key. In this way, <a href="https://spectrum.ieee.org/tag/web3">Web3</a> in every incarnation relies heavily on cryptography. </span></p><p><span>To learn more about the evolution of Web3, and cryptography’s role, we caught up with</span><span> </span><a href="https://wahby.net/" target="_blank">Riad Wahby</a><span>, assistant professor of electrical and <a href="https://spectrum.ieee.org/tag/computer-engineering">computer engineering</a> at <a href="https://spectrum.ieee.org/tag/carnegie-mellon-university">Carnegie Mellon University</a>, in Pittsburgh, and a cofounder and CEO of hardware-backed Web3 security platform </span><a href="https://cubist.dev/" target="_blank">Cubist</a><span>.</span></p><p><span> Wahby explained what Web3 was meant to be, what it’s become, and how hardware-backed cryptography will enable its future.<br></span></p><h3>Web3 Began as a Response to What Came Before</h3><p><strong><em>IEEE Spectrum</em>: What is Web3?</strong></p><p><strong>Riad Wahby:</strong> That’s the hardest question that you’re going to ask by far, because I don’t know how to answer it in a way that satisfies everyone.</p><p>The term Web3 was coined around 2014, by people who looked at the way that the Web had developed. Web 1.0 was the first Web bubble, the dot-com bubble. <a href="https://spectrum.ieee.org/tag/web-2-0">Web 2.0</a>, roughly speaking, is <a href="https://spectrum.ieee.org/tag/google">Google</a> and <a href="https://spectrum.ieee.org/tag/facebook">Facebook</a> and <a href="https://spectrum.ieee.org/tag/microsoft">Microsoft</a> and Apple and <a href="https://spectrum.ieee.org/tag/netflix">Netflix</a>, and the like. And the perception, especially from folks who originally coined this term Web3, was that these companies had basically taken the Web in the wrong direction, because your privacy is gone, and you’re the product, so to speak. You use <a href="https://spectrum.ieee.org/tag/gmail">Gmail</a> for free because Google is mining your emails to sell things like better advertising. Web3 was originally a reaction to this. Early proponents of Web3 basically said, “We don’t want that. We want to take back control of our stuff. I want to own my own data, and maybe cryptocurrencies and blockchains are the way there.” So that’s where the term originally came from.</p><p><strong>What does the term mean now?</strong></p><p><strong>Wahby:</strong> Now it doesn’t mean anything like that at all. Now Web3 is the broader ecosystem around cryptocurrencies and blockchain-based technologies. And I think basically all of that revolutionary spirit has gone away in favor of building financial products and making a lot of money doing it. As far as I can tell, the term has really transformed from a reaction to a lack of privacy and a lack of sovereignty in my own data to “Hey, this is a technology that has something to do with blockchains.” Maybe you can buy some kind of speculative meme coin and make a bunch of money doing it. So I don’t know, maybe that took a dark turn at the end. That’s how things go.</p><p><strong>How are those two definitions connected?</strong></p><p><strong>Wahby:</strong> Cryptography really fits into the revolutionary spirit, in the sense that the folks who want to cast off the chains of things like Google and Facebook, one of the tenets was—”The way that we’ll do that is we’ll build this technology that’s sort of amazing and that gives us all these great properties.” And they were going to do that using some advanced cryptographic technologies. This is the reason that there’s so many people who are cryptography researchers at universities that also are involved deeply in some kind of cryptocurrency. Because it’s like this is a sea change in the way that cryptography gets used in the world.</p><p>Twenty years ago, it used to be that if you were working on really any kind of cryptography, regardless of how theoretical or how practical you intended it to be, you knew that there was not much of a chance that any of it was going to get really used in the world, unless it was extremely practical and extremely focused on solving some immediate problem. And it just used to be the case that people were extremely conservative about what kind of cryptography they used. Basically, everyone thought, “We don’t need any of this crazy stuff. That’s all theory. Nobody cares. The only stuff we need is what lets you connect to <a href="https://spectrum.ieee.org/tag/amazon">Amazon</a> and safely buy stuff.” The rise of cryptocurrencies brought with it this whole shift in the way that cryptography gets deployed in the world, where now if you can come up with some interesting functionality that’s enabled by some advanced cryptography, probably somewhere somebody is going to try and turn that into a product that they can sell.</p><h3>Web3 Is Both Good and Bad for Cryptography</h3><p><strong>What effect has this had on the cryptographic community?</strong></p><p><strong>Wahby:</strong> It’s both good and bad. It’s good in that this means that there’s a lot of motivation to build interesting, cool stuff. And as a researcher in cryptography, I love it because it means that there’s tons more research money being poured into cryptography.</p><p>That’s the good side. The bad side is that the reason that people were so conservative about deploying new cryptography is that it’s easy to get the security mechanism wrong. The default state of cryptography is [to assume everything is] broken. You have to be very, very careful that each change that you make isn’t returning your cryptography to the default state. I’m not saying that people in Web3 aren’t careful. They are. It’s just by the nature of things, since it’s a much faster time frame, there’s much more pressure to just push stuff into production. And I think the downside is that we have seen a little bit of brokenness. It’s hopefully not causing people to lose oodles of money. And I think the historical record bears this out: People lose oodles of money because other people are really dishonest, not because the cryptography is broken for the most part. But the cryptography can also be broken, and that can also be worrisome. But I’d say from the perspective of somebody who’s doing research in cryptography, the impact of Web3 on the cryptographic community has generally been a good thing.</p><p><strong>Now you’re focused on <a data-linked-post="2667266794" href="https://spectrum.ieee.org/open-titan-chip" target="_blank">hardware security</a>. Can you explain what that is?</strong></p><p><strong>Wahby:</strong> Any cryptocurrency has this property that if I hold some token, and I want to send it to somebody else, the way that I do that is by producing a digital signature that says, I want to spend this token. The secret key is what lets you generate a signature. So if you have 10 <a data-linked-post="2657850698" href="https://spectrum.ieee.org/the-merge-heralds-cryptos-climate-friendly-future" target="_blank">E</a>TH [cryptocurrency coins], and they’re all protected by this key, and somebody takes a copy of your key, then life is bad.</p><p>With a digital signature key it could just be sitting on your hard drive, and then you get some <a href="https://spectrum.ieee.org/tag/malware">malware</a>, and now somebody has silently stolen your key. There have been these big, broadly targeted malware campaigns where millions and millions of people have all had their keys stolen. So now the criminals are just like sitting there counting up all the money that they’ve stolen, and there’s no reversing transactions, unlike at a bank.</p><p>Here’s where hardware comes in. This is not really a Web3 technology, this is kind of old, good stuff. There are these devices called hardware security modules, and they’ve been used for multiple decades. This is a physical device, and this device can run certain cryptographic <a href="https://spectrum.ieee.org/tag/algorithms">algorithms</a>. And it knows enough that when you tell it, “Hey, please generate me a key,” it can generate you a key securely. And when you tell it, “Please give me a signature,” it can give you a signature securely. But the important thing is the way that it’s designed, the key never leaves this piece of hardware. It turns what was a piece of data into a physical object. And we know how to secure a physical object.</p><p><strong>You’re working on extending hardware security for more use cases. Can you explain what you’re doing?</strong></p><p><strong>Wahby:</strong> There are two issues with the standard hardware security module.</p><p>No. 1, you need more cryptography support, so you need to be able to apply digital signatures to transactions very quickly if you’re actively trading. And No. 2, you need a way of expressing that it’s not just a key that can generate any signature. It’s a key that also has attached to it some kind of policy that says these are the kinds of signatures that are okay to generate, and everything else is not allowed, to add extra security. These are the two directions that we have that our technology enables within traditional hardware security modules.</p><p>We start with the security that’s provided by the traditional hardware security module, and we extend it using this, actually another piece of trusted hardware called the Trusted Execution Environment. We extend it to support the actual kinds of cryptography that are needed for Web3 and to support this rich programmable policy layer that lets you say, “This key is only intended for this specific kind of use,” or “anytime somebody tries to make a payment from this key, first I have to check whether the recipient is subject to sanctions,” or any other rule. So in the end, we have, not only a hardware security module, we have also this Trusted Execution Environment and this policy layer, and all this other cryptographic stuff that together gives us a hardware security module that’s really designed for the Web3 use case.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Memory Integrity Enforcement (192 pts)]]></title>
            <link>https://security.apple.com/blog/memory-integrity-enforcement/</link>
            <guid>45186265</guid>
            <pubDate>Tue, 09 Sep 2025 18:25:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://security.apple.com/blog/memory-integrity-enforcement/">https://security.apple.com/blog/memory-integrity-enforcement/</a>, See on <a href="https://news.ycombinator.com/item?id=45186265">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><div><p>Memory Integrity Enforcement (MIE) is the culmination of an unprecedented design and engineering effort, spanning half a decade, that combines the unique strengths of Apple silicon hardware with our advanced operating system security to provide industry-first, always-on memory safety protection across our devices — without compromising our best-in-class device performance. We believe Memory Integrity Enforcement represents the most significant upgrade to memory safety in the history of consumer operating systems.</p>
<hr>
<p>There has never been a successful, widespread malware attack against iPhone. The only system-level iOS attacks we observe in the wild come from mercenary spyware, which is vastly more complex than regular cybercriminal activity and consumer malware. Mercenary spyware is historically associated with state actors and uses exploit chains that cost millions of dollars to target a very small number of specific individuals and their devices. Although the vast majority of users will never be targeted in this way, these exploit chains demonstrate some of the most expensive, complex, and advanced attacker capabilities at any given time and are uniquely deserving of study as we work to protect iPhone users against even the most sophisticated threats. Known mercenary spyware chains used against iOS share a common denominator with those targeting Windows and Android: they exploit memory safety vulnerabilities, which are interchangeable, powerful, and exist throughout the industry.</p>
<p>For Apple, improving memory safety is a broad effort that includes developing with safe languages and deploying mitigations at scale. (For a primer on how we think about memory safety, see the opening of <a href="https://security.apple.com/blog/towards-the-next-generation-of-xnu-memory-safety#memorysafety">this post</a>.) We created Swift, an easy-to-use, memory-safe language, which we employ for new code and targeted component rewrites. In iOS 15, we introduced <a href="https://security.apple.com/blog/towards-the-next-generation-of-xnu-memory-safety/">kalloc_type</a>, a secure memory allocator for the kernel, followed in iOS 17 by its user-level counterpart, xzone malloc. These secure allocators take advantage of knowing the type — or purpose — of allocations so that memory can be organized in a way that makes exploiting most memory corruption vulnerabilities inherently difficult.</p>
<p>In 2018, we were the first in the industry to deploy Pointer Authentication Codes (PAC) in the A12 Bionic chip, to protect code flow integrity in the presence of memory corruption. The strong success of this defensive mechanism in increasing exploitation complexity left no doubt that the deep integration of software and hardware security would be key to addressing some of our greatest security challenges. With PAC behind us, we immediately began design and evaluation work to find the most effective way to build sophisticated memory safety capabilities right into Apple silicon.</p>
<p>Arm published the <a href="https://www.usenix.org/system/files/login/articles/login_summer19_03_serebryany.pdf">Memory Tagging Extension (MTE)</a> specification in 2019 as a tool for hardware to help find memory corruption bugs. MTE is, at its core, a memory tagging and tag-checking system, where every memory allocation is tagged with a secret; the hardware guarantees that later requests to access memory are granted only if the request contains the correct secret. If the secrets don’t match, the app crashes, and the event is logged. This allows developers to identify memory corruption bugs immediately as they occur.</p>
<p>We conducted a deep evaluation and research process to determine whether MTE, as designed, would meet our goals for hardware-assisted memory safety. Our analysis found that, when employed as a real-time defensive measure, the original Arm MTE release exhibited weaknesses that were unacceptable to us, and we worked with Arm to address these shortcomings in the new <a href="https://developer.arm.com/documentation/109697/0100/Feature-descriptions/The-Armv8-9-architecture-extension?lang=en#md454-the-armv89-architecture-extension__FEAT_MTE4">Enhanced Memory Tagging Extension (EMTE)</a> specification, released in 2022. More importantly, our analysis showed that while EMTE had great potential as specified, a rigorous implementation with deep hardware and operating system support could be a breakthrough that produces an extraordinary new security mechanism.</p>
<p>Consider that MTE can be <a href="https://developer.arm.com/documentation/108035/0100/How-does-MTE-work-/When-to-use-SYNC-and-ASYNC-MTE-modes">configured</a> to report memory corruption either synchronously or asynchronously. In the latter mode, memory corruption doesn’t immediately raise an exception, leaving a race window open for attackers. We would not implement such a mechanism. We believe memory safety protections need to be strictly synchronous, on by default, and working continuously. But supporting always-on, synchronous MTE across key attack surfaces while preserving a great, high-performance user experience is extremely demanding for hardware to support.</p>
<p>In addition, for MTE to provide memory safety in an adversarial context, we would need to finely tune the operating system to defend the new semantics and the confidentiality of memory tags on which MTE relies. Ultimately, we determined that to deliver truly best-in-class memory safety, we would carry out a massive engineering effort spanning all of Apple — including updates to Apple silicon, our operating systems, and our software frameworks. This effort, together with our highly successful secure memory allocator work, would transform MTE from a helpful debugging tool into a groundbreaking new security feature.</p>
<p>Today we’re introducing the culmination of this effort: Memory Integrity Enforcement (MIE), our comprehensive memory safety defense for Apple platforms. Memory Integrity Enforcement is built on the robust foundation provided by our <strong>secure memory allocators</strong>, coupled with <strong>Enhanced Memory Tagging Extension (EMTE)</strong> in synchronous mode, and supported by extensive <strong>Tag Confidentiality Enforcement</strong> policies. MIE is built right into Apple hardware and software in all models of iPhone 17 and iPhone Air and offers unparalleled, always-on memory safety protection for our key attack surfaces including the kernel, while maintaining the power and performance that users expect. In addition, we’re making EMTE available to all Apple developers in Xcode as part of the new <a href="https://developer.apple.com/documentation/xcode/enabling-enhanced-security-for-your-app#Adopt-hardware-memory-tagging">Enhanced Security</a> feature that we released earlier this year during WWDC.</p>
<p>The rest of this post dives into the intensive engineering effort required to design and validate Memory Integrity Enforcement.</p>
<h3>Designing Memory Integrity Enforcement</h3>
<p>Memory Integrity Enforcement starts with our secure memory allocators — kalloc_type, xzone malloc, and WebKit’s libpas — all of which use <a href="https://developer.apple.com/documentation/xcode/adopting-type-aware-memory-allocation">type information</a> to decide how to organize memory allocations. With both use-after-free and out-of-bounds bugs, an attacker’s goal is to create overlapping interpretations of memory, which they achieve by controlling the precise position of certain allocations — of a specific type — that is advantageous to them. The type-aware placement policies of our secure memory allocators help thwart these memory corruption techniques, as we described in our <a href="https://security.apple.com/blog/what-if-we-had-sockpuppet-in-ios16/">kalloc_type post</a>. Our secure allocators set a new high-water mark of software protection against memory corruption, while preserving the same or better performance as the allocators they replaced.</p>
<p>Allocators can apply protections only at the granularity of memory pages — 16KB on iOS — which is a natural fit for multi-page allocations. For smaller allocations, our secure allocators can use page-level protections to help prevent memory corruption attacks across different type buckets. However, page-level protections are too coarse to defend against attacks within the same type bucket, and we use memory tagging to close this gap.</p>
<p>Let’s look at how EMTE can be used to protect against two of the most common types of memory corruption: buffer overflows and use-after-free vulnerabilities. For buffer overflows, the allocator is responsible for using different tags for neighboring allocations. If a request to access memory spills over to adjacent memory that has a different tag, the hardware blocks it, and the operating system can take action and terminate the process. We represent this visually below with three adjacent allocations, tagged with three different secrets: ⏺️, 🔼, and ⏹️. Two access attempts with the 🔼 tag are permitted to 🔼-tagged memory, but the third attempt is blocked as it spills over into the adjacent, ⏹️-tagged allocation.</p>
<p> Memory Integrity Enforcement blocks buffer overflows </p>
<figure><picture><source srcset="https://security.apple.com/assets/image/generated/xlarge_linear-buffer-overflow-detection-light.png 2500w, https://security.apple.com/assets/image/generated/large_linear-buffer-overflow-detection-light.png 1650w, https://security.apple.com/assets/image/generated/medium_linear-buffer-overflow-detection-light.png 1300w, https://security.apple.com/assets/image/generated/small_linear-buffer-overflow-detection-light.png 840w, https://security.apple.com/assets/image/generated/xsmall_linear-buffer-overflow-detection-light.png 560w" media="(prefers-color-scheme: light)" decoding="async" loading="lazy"><img alt="Memory Integrity Enforcement blocks buffer overflows" src="https://security.apple.com/assets/image/generated/medium_linear-buffer-overflow-detection-dark.png" srcset="https://security.apple.com/assets/image/generated/xlarge_linear-buffer-overflow-detection-dark.png 2500w, https://security.apple.com/assets/image/generated/large_linear-buffer-overflow-detection-dark.png 1650w, https://security.apple.com/assets/image/generated/medium_linear-buffer-overflow-detection-dark.png 1300w, https://security.apple.com/assets/image/generated/small_linear-buffer-overflow-detection-dark.png 840w, https://security.apple.com/assets/image/generated/xsmall_linear-buffer-overflow-detection-dark.png 560w" sizes="(max-width:734px) 100vw, (max-width:1068px) calc(100vw - 76px), 650px" decoding="async" loading="lazy"></picture></figure>
<p>The allocator is also responsible for retagging memory as it gets reused for other purposes. In the image below, the 🔼 allocation is retagged as ⏹️ after it has been freed and reallocated by the system. If a request to the retagged memory is made with the older 🔼 tag, as would be seen in use-after-free exploits, the hardware blocks it and lets the operating system take further action.</p>
<p> Memory Integrity Enforcement blocks use-after-free access</p>
<figure><picture><source srcset="https://security.apple.com/assets/image/generated/xlarge_allocation-use-light.png 2500w, https://security.apple.com/assets/image/generated/large_allocation-use-light.png 1650w, https://security.apple.com/assets/image/generated/medium_allocation-use-light.png 1300w, https://security.apple.com/assets/image/generated/small_allocation-use-light.png 840w, https://security.apple.com/assets/image/generated/xsmall_allocation-use-light.png 560w" media="(prefers-color-scheme: light)" decoding="async" loading="lazy"><img alt="Memory Integrity Enforcement blocks use-after-free access" src="https://security.apple.com/assets/image/generated/medium_allocation-use-dark.png" srcset="https://security.apple.com/assets/image/generated/xlarge_allocation-use-dark.png 2500w, https://security.apple.com/assets/image/generated/large_allocation-use-dark.png 1650w, https://security.apple.com/assets/image/generated/medium_allocation-use-dark.png 1300w, https://security.apple.com/assets/image/generated/small_allocation-use-dark.png 840w, https://security.apple.com/assets/image/generated/xsmall_allocation-use-dark.png 560w" sizes="(max-width:734px) 100vw, (max-width:1068px) calc(100vw - 76px), 650px" decoding="async" loading="lazy"></picture></figure>
<p>A key weakness of the original MTE specification is that access to non-tagged memory, such as global variables, is not checked by the hardware. This means attackers don’t have to face as many defensive constraints when attempting to control core application configuration and state. With Enhanced MTE, we instead specify that accessing non-tagged memory from a tagged memory region requires knowing that region’s tag, making it significantly harder for attackers to turn out-of-bounds bugs in dynamic tagged memory into a way to sidestep EMTE by directly modifying non-tagged allocations.</p>
<p>Finally, we developed <strong>Tag Confidentiality Enforcement</strong> to protect the implementation of our secure allocators from technical threats and to guard the confidentiality of EMTE tags — including against side-channel and speculative-execution attacks.</p>
<p>Our typed allocators and EMTE both rely on confidentiality of kernel data structures from user applications, and of the tags chosen by the allocator. Attackers might attempt to defeat EMTE, and in turn Memory Integrity Enforcement, by revealing these secrets. To protect the kernel allocator backing store and tag storage, we use the <a href="https://support.apple.com/guide/security/operating-system-integrity-sec8b776536b/1/web/1#secd022396fb">Secure Page Table Monitor</a>, which provides strong guarantees even in the presence of a kernel compromise. We also ensure that when the kernel accesses memory on behalf of an application, it's subject to the same tag-checking rules as userspace.</p>
<p>Attacks based on speculative execution can also be used to expose secrets. To improve performance, modern CPUs predict the execution of instructions that follow prior, potentially longer latency instructions. If the prediction is correct, computation is very fast. If it’s wrong, the CPU discards the prediction, and computation is slower. Unfortunately, discarded predictions have observable effects that can reveal system state and data, and because speculative attacks never cause the system to crash or misbehave in observable ways during their use, they’re particularly useful for an attacker. For example, evaluating a pointer authentication instruction speculatively exposed <a href="https://pacmanattack.com/">timing differences</a> in our original implementation of Pointer Authentication Codes (PAC), which would allow the valid signature to be isolated. During the design phase for Memory Integrity Enforcement, we identified and addressed the three speculative vulnerabilities that could undermine tag confidentiality.</p>
<p>First, when EMTE is active, requests to access memory cause the hardware to check tags. It's crucial that evaluating a tag-checking instruction speculatively doesn’t expose timing differences that would allow an attacker to isolate the valid tag. From the start, we designed the Apple silicon implementation so that tag values can’t influence speculative execution in any way. Recently published <a href="https://arxiv.org/abs/2406.08719">security research</a> demonstrates that the MTE implementation on Google’s Pixel devices is vulnerable to this type of attack, allowing MTE to be bypassed in Google Chrome and the Linux kernel.</p>
<p>Second, allocators assign random tags to memory, and attackers must not be able to predict tag values that the system will choose. We address this issue by frequently re-seeding the underlying pseudo-random generator used to select new tags.</p>
<p>Third, <a href="https://spectreattack.com/spectre.pdf">Spectre variant 1 (V1)</a> is a speculative-execution vulnerability that allows attackers to exploit conditional branches to leak data, including MTE tag values. To date, there has been no solution to this problem in consumer operating systems, because general Spectre V1 mitigations such as <a href="https://llvm.org/docs/SpeculativeLoadHardening.html">Speculative Load Hardening</a> have a prohibitive CPU cost. The presence of EMTE leaves Spectre V1 as one of the last avenues available to attackers to help guide their attacks, so we designed a completely novel mitigation that limits the effective reach of Spectre V1 leaks — at virtually zero CPU cost — and forces attackers to contend with type segregation. This mitigation makes it impractical for attackers to use Spectre V1, as they would typically need 25 or more V1 sequences to reach more than 95 percent exploitability rate — unless one of these sequences is related to the bug being exploited, following similar reasoning as our <a href="https://security.apple.com/blog/towards-the-next-generation-of-xnu-memory-safety#benefits">kalloc_type analysis</a>.</p>
<p>Our mission with Memory Integrity Enforcement is to protect all users by default and provide an extraordinary disruption to the exploitation of memory corruption vulnerabilities. To do so, we considered a wide set of threats, including some of the most challenging ones — such as side channels — and arrived at this extensive combination of features not present in other MTE implementations. Google took a great first step last year when they offered MTE to those who opt in to their program for at-risk users. But even for users who turn it on, the effectiveness of MTE on Android is limited by the lack of deep integration with the operating system that distinguishes Memory Integrity Enforcement and its use of EMTE on Apple silicon.</p>
<p>For the new A19 and A19 Pro chips to support Memory Integrity Enforcement, we dedicated an extraordinary amount of Apple silicon resources to security — more than ever before — including CPU area, CPU speed, and memory for tag storage. And to fully realize this hardware investment, we designed all of the new operating system elements of MIE jointly with our hardware work, including secure allocators, EMTE, and tag confidentiality protections.</p>
<p>Because EMTE tag checking imposes a performance cost, we designed Memory Integrity Enforcement to take advantage of our secure allocators first and use EMTE to protect only smaller individual allocations within a type bucket, which software allocators can’t defend on their own. Then, by knowing where and how we would deploy EMTE, we could accurately model the tag-checking demand of the operating system, and design our silicon to satisfy it. Our hardware implementation influenced additional software design decisions, reducing the overhead of tag checks even further. Importantly, deploying EMTE with this level of precision supports our strategy to provide as many memory safety improvements as possible to users on previous iPhone generations, which don’t support EMTE.</p>
<p>For the security evaluation of Memory Integrity Enforcement, we involved our offensive research team from the very beginning. From 2020 to 2025, they continuously analyzed and attacked the system — first conceptually, with theoretical exploitation avenues, then with practical attacks in simulated environments, and eventually on new hardware prototypes. Prolonged engagement from our offensive research team allowed us to identify and eradicate entire attack strategies and techniques before attackers could ever discover them, leading to a stronger, more mature feature from the outset.</p>
<p>Our offensive research team identified where and how attackers are most likely to break into the system, and our deployment of Memory Integrity Enforcement is deeply guided by their findings. Notably, this includes making sure that this powerful new protection is available to third-party apps that are likely entry points for attackers — such as social networks, messaging apps, or any other app where a specific user can be targeted. Starting immediately with the launch of MIE, any developer can begin testing this powerful protection for their app, including EMTE on hardware that supports it, using the <a href="https://developer.apple.com/documentation/xcode/enabling-enhanced-security-for-your-app#Adopt-hardware-memory-tagging">Enhanced Security</a> settings in Xcode.</p>
<p>The meticulous planning and implementation of Memory Integrity Enforcement made it possible to maintain synchronous tag checking for all the demanding workloads of our platforms, delivering groundbreaking security with minimal performance impact, while remaining completely invisible to users.</p>
<h3>Security evaluation</h3>
<p>Memory Integrity Enforcement started with a deeply ambitious goal: to make it immensely more expensive and difficult to develop and maintain mercenary spyware attacks based on memory corruption against our platforms. While there’s no such thing as perfect security, MIE is designed to dramatically constrain attackers and their degrees of freedom during exploitation.</p>
<p>Throughout the design and implementation of Memory Integrity Enforcement, our offensive research team evaluated our progress by looking at sophisticated exploit chains that were previously used against our platform, recent vulnerabilities, and our own internal research. First, we worked on rebuilding and adapting previously seen exploit chains to systems protected by MIE. But it’s not sufficient to consider only previous chains that were developed before MIE existed, because attackers will surely adapt in reaction to these new protections. We therefore also evaluated a selection of more recent vulnerabilities that we expected would have the best chance of surviving MIE. For these, we meticulously enumerated all possible exploitation opportunities, similar to our evaluation of <a href="https://security.apple.com/blog/what-if-we-had-sockpuppet-in-ios16/">SockPuppet against kalloc_type</a>.</p>
<p>Both approaches revealed the same conclusion: Memory Integrity Enforcement vastly reduces the exploitation strategies available to attackers. Though memory corruption bugs are usually interchangeable, MIE cut off so many exploit steps at a fundamental level that it was not possible to restore the chains by swapping in new bugs. Even with substantial effort, we could not rebuild any of these chains to work around MIE. The few memory corruption effects that remained are unreliable and don’t give attackers sufficient momentum to successfully exploit these bugs.</p>
<p>Here’s a visual representation of what this looks like for an attacker. The chart below represents six of the real-world exploit chains that we evaluated and shows the steps where Memory Integrity Enforcement — the secure allocators, EMTE, or both — stops the attack.</p>
<p> Memory Integrity Enforcement vs. real-world exploit chains</p>
<figure><picture><source srcset="https://security.apple.com/assets/image/generated/xlarge_advanced-memory-integrity-light.png 2500w, https://security.apple.com/assets/image/generated/large_advanced-memory-integrity-light.png 1650w, https://security.apple.com/assets/image/generated/medium_advanced-memory-integrity-light.png 1300w, https://security.apple.com/assets/image/generated/small_advanced-memory-integrity-light.png 840w, https://security.apple.com/assets/image/generated/xsmall_advanced-memory-integrity-light.png 560w" media="(prefers-color-scheme: light)" decoding="async" loading="lazy"><img alt="Memory Integrity Enforcement vs. real-world exploit chains" src="https://security.apple.com/assets/image/generated/medium_advanced-memory-integrity-dark.png" srcset="https://security.apple.com/assets/image/generated/xlarge_advanced-memory-integrity-dark.png 2500w, https://security.apple.com/assets/image/generated/large_advanced-memory-integrity-dark.png 1650w, https://security.apple.com/assets/image/generated/medium_advanced-memory-integrity-dark.png 1300w, https://security.apple.com/assets/image/generated/small_advanced-memory-integrity-dark.png 840w, https://security.apple.com/assets/image/generated/xsmall_advanced-memory-integrity-dark.png 560w" sizes="(max-width:734px) 100vw, (max-width:1068px) calc(100vw - 76px), 650px" decoding="async" loading="lazy"></picture></figure>
<p>Notably, attackers confront Memory Integrity Enforcement early in the exploitation process. Although some issues are able to survive MIE — for example, intra-allocation buffer overflows — such issues are extremely rare, and even fewer will lend themselves to a full end-to-end exploit. Inevitably, attackers must face MIE at a stage where their capabilities are still very limited, leaving few viable avenues for exploitation. This leads to fragile chains where breaking just one step is often enough to invalidate the entire exploit strategy. When that happens, most of the chain’s components can’t be reused, and the attackers have to restart exploit development with entirely new bugs.</p>
<h3>Conclusion</h3>
<p>The industry-leading security of iPhone means that the vast majority of our users never face system-level attacks on their devices. Our work on memory safety is aimed primarily at the mercenary spyware and surveillance industry, which spends many millions of dollars to exploit memory corruption vulnerabilities and target a small number of individuals because of who they are and what they do. Over the past five years, we developed a comprehensive approach to memory safety that integrates the best of our hardware and software capabilities, and today’s announcement is the culmination of this ambitious vision. With the introduction of the iPhone 17 lineup and iPhone Air, we’re excited to deliver Memory Integrity Enforcement: the industry’s first ever, comprehensive, always-on memory-safety protection covering key attack surfaces — including the kernel and over 70 userland processes — built on the Enhanced Memory Tagging Extension (EMTE) and supported by secure typed allocators and tag confidentiality protections.</p>
<p>Based on our evaluations pitting Memory Integrity Enforcement against exceptionally sophisticated mercenary spyware attacks from the last three years, we believe MIE will make exploit chains significantly more expensive and difficult to develop and maintain, disrupt many of the most effective exploitation techniques from the last 25 years, and completely redefine the landscape of memory safety for Apple products. Because of how dramatically it reduces an attacker’s ability to exploit memory corruption vulnerabilities on our devices, we believe Memory Integrity Enforcement represents the most significant upgrade to memory safety in the history of consumer operating systems.</p></div></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[iPhone Air (270 pts)]]></title>
            <link>https://www.apple.com/newsroom/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/</link>
            <guid>45186015</guid>
            <pubDate>Tue, 09 Sep 2025 18:12:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.apple.com/newsroom/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/">https://www.apple.com/newsroom/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/</a>, See on <a href="https://news.ycombinator.com/item?id=45186015">Hacker News</a></p>
<div id="readability-page-1" class="page">


	
    







 
<nav id="ac-localnav" lang="en-US" role="navigation" aria-label="Newsroom" data-analytics-region="local nav" data-sticky="">
	
    
    
        




    
    
    
	
	

</nav>





<main id="main" role="main"> 




<span id="opens-in-new-window">opens in new window</span>
<section>
<article data-analytics-activitymap-region-id="article">






    
    
    









    





    <div>
        
		
        <div>
                    
                    
                        <span>PRESS RELEASE</span>
                    
                    
                        <span>September 9, 2025</span>
                    
                    
                </div>

        <div>
                
                
                
                    <h2>
                        
    
        Introducing iPhone&nbsp;Air, a&nbsp;powerful new iPhone <p> with a&nbsp;breakthrough design
    

                    </p></h2>
                
            </div>

        <div>
                
                
                    iPhone Air features an impossibly thin and light <p> design&nbsp;that is more durable than any previous model, </p><p> with innovative camera experiences and </p><p> remarkable all‑day battery life
                
            </p></div>

        
            
    
    
    
    
    

        

    </div>







    
    
    






  
    
    
    
    
      <figure aria-label="Media, iPhone Air is held up by a hand between the letters “A” and “R,” forming the word “AIR.”">
        <div>
             
              
              <div>
                iPhone Air is the thinnest iPhone ever, delivering pro performance, amazing new camera systems on the front and back, and fantastic all-day battery life.
              </div>
            
            
            
            
            <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-hero-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-hero-250909_big" aria-label="Download media, iPhone Air is held up by a hand between the letters “A” and “R,” forming the word “AIR.”"></a>
          </div>
      </figure>
    
  








    
    
    


     
     
    
    
        <div>
             
                 <div><strong><span>CUPERTINO, CALIFORNIA</span></strong>&nbsp;Apple today debuted the all-new <a href="https://www.apple.com/iphone-air/" target="_blank">iPhone Air</a>, the thinnest iPhone ever made, with pro performance. iPhone Air features a breakthrough titanium design that is elegant and light yet strong, with an innovative internal architecture that enables the latest iPhone experiences. The back of iPhone Air is now protected with Ceramic Shield, and the front cover uses Ceramic Shield 2, delivering 3x better scratch resistance, making iPhone Air more durable than any previous iPhone. iPhone Air also features a stunning 6.5-inch Super Retina XDR display with ProMotion up to 120Hz.<sup>1</sup> With the most Apple-designed chips in an iPhone — the powerhouse A19 Pro, N1, and C1X — iPhone Air is the most power-efficient iPhone ever made. Paired with the redesigned internal architecture and software optimizations, iPhone Air has fantastic all-day battery life. A powerful 48MP Fusion Main camera enables the equivalent of four lenses with incredible image quality, and the innovative 18MP Center Stage front camera takes selfies to the next level.
</div>
                 
             
                 <div>iPhone Air will be available in four gorgeous finishes: space black, cloud white, light gold, and sky blue. Pre-orders begin Friday, September 12, with availability beginning Friday, September 19.
</div>
                 
             
                 <div>“The all-new iPhone Air is so powerful, yet impossibly thin and light, that you really have to hold it to believe it’s real. This huge leap in design and engineering is only made possible through Apple innovation, especially Apple silicon,” said John Ternus, Apple’s senior vice president of Hardware Engineering. “iPhone Air is a brand-new member of the iPhone family that delivers advanced features our users will love, like pro performance, a versatile 48MP Fusion camera system, our innovative Center Stage front camera, and great all-day battery life — all in a breakthrough design that feels like you’re holding the future.”
</div>
                 
             
         </div>
 

    
    
    


    
    
        
        
        
            <div role="group" aria-label="gallery" data-component-list="MixinGallery" id="iphone-air-lineup">
            <nav role="presentation">
                <ul role="tablist">
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-407de7a128f381aceb84cb8e37a0209e" href="#gallery-407de7a128f381aceb84cb8e37a0209e" data-ac-gallery-trigger="gallery-407de7a128f381aceb84cb8e37a0209e"><span>iPhone Air is shown from the back in space black, cloud white, light gold, and sky blue.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-cbfa578260bde1c63ab43e38eaddc9c7" href="#gallery-cbfa578260bde1c63ab43e38eaddc9c7" data-ac-gallery-trigger="gallery-cbfa578260bde1c63ab43e38eaddc9c7"><span>iPhone Air is shown from the side in sky blue, light gold, cloud white, and space black.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-ed4ff48feaaa5ab5488ea82b187c130f" href="#gallery-ed4ff48feaaa5ab5488ea82b187c130f" data-ac-gallery-trigger="gallery-ed4ff48feaaa5ab5488ea82b187c130f"><span>A person holds up iPhone Air between two fingers, emphasizing with this side profile view how thin the device is.</span></a>
                        </li>
                    
                </ul>
            </nav>
            <div>
                
                    
                        
                        <div id="gallery-407de7a128f381aceb84cb8e37a0209e" aria-labelledby="gallery-dotnav-407de7a128f381aceb84cb8e37a0209e" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:back-view">
                                
                                <div>
                                    <div>The breakthrough iPhone Air is perfect for those who want pro performance in an unbelievably thin and light design that’s more durable than any previous iPhone.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-color-lineup-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-color-lineup-250909_big" aria-label="Download media, iPhone Air is shown from the back in space black, cloud white, light gold, and sky blue."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-cbfa578260bde1c63ab43e38eaddc9c7" aria-labelledby="gallery-dotnav-cbfa578260bde1c63ab43e38eaddc9c7" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:side-angle">
                                
                                <div>
                                    <div>Available in four beautiful colors, the new polished titanium on iPhone Air has an elegant mirrored finish.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-family-lineup-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-family-lineup-250909_big" aria-label="Download media, iPhone Air is shown from the side in sky blue, light gold, cloud white, and space black."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-ed4ff48feaaa5ab5488ea82b187c130f" aria-labelledby="gallery-dotnav-ed4ff48feaaa5ab5488ea82b187c130f" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:side-profile-with-fingers">
                                
                                <div>
                                    <div>iPhone Air is the thinnest iPhone ever made, packing pro performance into a breakthrough design.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-profile-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-profile-250909_big" aria-label="Download media, A person holds up iPhone Air between two fingers, emphasizing with this side profile view how thin the device is."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
            </div>
            
                
                
                <nav role="presentation">
                    
                        <ul>
                            <li>
                                
                            </li>
                            <li>
                                
                            </li>
                        </ul>
                    
                </nav>
            
        </div>
    


    
    
    


     
     
    
    
        <div>
             
                 <h2><strong>A Breakthrough Design</strong>
</h2>
                 
             
                 <div>Featuring a breakthrough design with pro performance, iPhone Air is the thinnest iPhone ever made at 5.6mm, and it is incredibly light, with a large, stunning display. The grade 5 titanium frame is strong, with an elegant high-gloss mirror finish, and a new plateau on the back that is precision-milled on both sides to house the cameras, speaker, and Apple silicon. This maximizes space for the battery to deliver remarkable all-day battery life. The thin design also features the Action button, so users can easily access a variety of functions with just a press, and Camera Control, to quickly launch the camera or enable visual intelligence.<sup>2</sup>
</div>
                 
             
         </div>
 

    
    
    


    
    <div data-component-list="ScrollAnimationDefault AutoPlayVideo">
        <div>The plateau on iPhone Air is sculpted to fit the custom cameras, speaker, and Apple silicon, dedicating more space to the battery.</div>
        
            <a aria-label="Download video: iPhone Air Design" data-analytics-title="Download video - iPhone Air Design" download="" href="https://www.apple.com/newsroom/videos/2025/autoplay/09/apple-iphone-air-plateau/downloads/Apple-iPhone-Air-plateau-250909.zip">
            </a>
        
    </div>






    
    
    


     
     
    
    
        <div>
             
                 <div>The stunning 6.5-inch Super Retina XDR display features ProMotion, with an adaptive refresh rate of up to 120Hz for smooth scrolling and stunning graphics. The Always-On display shows important information at a glance, and when not in use, it efficiently adjusts down to 1Hz. iPhone Air is easy to use outside with 3000 nits peak outdoor brightness — the highest ever on iPhone — and 2x better outdoor contrast.
</div>
                 
             
                 <div>iPhone Air also introduces the Ceramic Shield 2 front cover, which is tougher than any smartphone glass or glass-ceramic with a new Apple-designed coating, providing 3x better scratch resistance and improved anti-reflection to reduce glare. For the very first time, Ceramic Shield now protects the back of iPhone, including the plateau, delivering 4x better resistance to cracks than the back glass on previous models. And with the strong titanium frame, iPhone Air exceeds Apple’s stringent bend strength requirements. This design makes iPhone Air more durable than any previous iPhone.
</div>
                 
             
         </div>
 

    
    
    


    
    <div data-component-list="ScrollAnimationDefault AutoPlayVideo">
        <div>Ceramic Shield 2 has a new Apple-designed coating for 3x better scratch resistance and improved anti-reflection to reduce glare.</div>
        
            <a aria-label="Download video: iPhone Air Ceramic Shield 2" data-analytics-title="Download video - iPhone Air Ceramic Shield 2" download="" href="https://www.apple.com/newsroom/videos/2025/autoplay/09/apple-iphone-air-ceramic-shield-2/downloads/Apple-iPhone-Air-Ceramic-Shield-2-250909.zip">
            </a>
        
    </div>






    
    
    


     
     
    
    
        <div>
             
                 <h2><strong>Powerful Camera Systems</strong>
</h2>
                 
             
                 <div>iPhone Air introduces an all-new Center Stage front camera that advances the photo and video experience. The Center Stage front camera features the first square front camera sensor on iPhone, offering a wide field of view and capturing photos up to 18MP. Users no longer have to rotate their iPhone to take a landscape selfie — they can take photos and videos in portrait or landscape while holding their iPhone vertically. For group shots, Center Stage for photos uses AI to automatically expand the field of view and can rotate from portrait to landscape to include everyone in the frame. The Center Stage front camera enables ultra-stabilized video in 4K HDR, and users can record on the front and rear cameras simultaneously with Dual Capture — perfect for documenting themselves and the world around them. During calls over FaceTime or third-party apps, Center Stage for video calls keeps users stable and positioned in frame.
</div>
                 
             
         </div>
 

    
    
    


    
    <div data-component-list="ScrollAnimationDefault VideoPlayer">
                <video data-auto-ac-video="" src="https://www.apple.com/newsroom/videos/2025/hls/09/apple-iphone-air-dual-capture/US/US/Apple-iPhone-Air-Dual-Capture_16x9.m3u8" poster="https://www.apple.com/newsroom/videos/2025/hls/09/apple-iphone-air-dual-capture/US/US/posters/Apple-iPhone-Air-Dual-Capture-250909_571x321.jpg.large.jpg" preload="auto" data-optimize-url="" data-text-tracks="{&quot;mode&quot;:&quot;hidden&quot;,&quot;src&quot;:&quot;&quot;,&quot;srclang&quot;:&quot;en&quot;}" data-ac-video-options="{&quot;responsive&quot;:&quot;true&quot;,&quot;sharing&quot;:{&quot;allowEmbed&quot;:true,&quot;description&quot;:&quot;Dual Capture is a new feature that combines the front and rear cameras, so users can record themselves while at a concert or get their reaction to a game\u2019s big play.&quot;,&quot;videoid&quot;:&quot;1c731c414425b764e95b0ffbdfdd9146&quot;,&quot;originatorUrl&quot;:&quot;https://www.apple.com/newsroom/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/?videoid=1c731c414425b764e95b0ffbdfdd9146&quot;,&quot;hideExtension&quot;:true,&quot;title&quot;:&quot;iPhone Air Dual Capture&quot;,&quot;hideFacebookShare&quot;:false,&quot;url&quot;:&quot;/newsroom/videos/2025/hls/09/apple-iphone-air-dual-capture/US/US/Apple-iPhone-Air-Dual-Capture_16x9.m3u8&quot;,&quot;embedpath&quot;:&quot;https://share.newsroom.apple/newsroom/embed/videos/?embedvideoid=&quot;,&quot;duration&quot;:&quot;00:19&quot;,&quot;analytics&quot;:{&quot;pageName&quot;:&quot;Introducing iPhone Air, a powerful new iPhone with a breakthrough design&quot;},&quot;hideTwitterShare&quot;:false,&quot;poster&quot;:&quot;/newsroom/videos/2025/hls/09/apple-iphone-air-dual-capture/US/US/posters/Apple-iPhone-Air-Dual-Capture-250909_571x321.jpg.large.jpg&quot;}}">
                </video>
                
                <div>Dual Capture is a new feature that combines the front and rear cameras, so users can record themselves while at a concert or get their reaction to a game’s big play.</div>
            </div>






    
    
    


     
     
    
    
        <div>
             
                 <div>A versatile new 48MP Fusion camera system gives users the equivalent of four lenses in their pocket. The custom main lens enables the popular 28mm and 35mm focal lengths, so users have more options to frame their shot, and the large 2.0µm quad-pixel sensor with sensor-shift OlS excels in low light. Users can also get closer to their subject with the optical-quality 2x Telephoto, which features an updated Photonic Engine that captures more lifelike details and color.
</div>
                 
             
                 <div>A new image pipeline built for iPhone Air enables next-generation portraits with Focus Control at the same level as multicamera systems, automatically capturing depth information so users can turn photos into portraits later in the Photos app. iPhone Air also supports the latest generation of Photographic Styles, including a new Bright style that brightens skin tones and applies a pop of vibrance across the image.<sup>3</sup>
</div>
                 
             
         </div>
 

    
    
    


    
    
        
        
        
            <div role="group" aria-label="gallery" data-component-list="MixinGallery" id="iphone-air-photography">
            <nav role="presentation">
                <ul role="tablist">
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-d26be881e02ead5176012ac1cda605aa" href="#gallery-d26be881e02ead5176012ac1cda605aa" data-ac-gallery-trigger="gallery-d26be881e02ead5176012ac1cda605aa"><span>An outdoor portrait of a person with curly hair taken with 2x Telephoto on iPhone Air.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-58a66cef59bc84b9045f2bbd8e829d69" href="#gallery-58a66cef59bc84b9045f2bbd8e829d69" data-ac-gallery-trigger="gallery-58a66cef59bc84b9045f2bbd8e829d69"><span>A photo of a towering rock formation taken in 48MP on iPhone Air.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-79f5d1c8529b9e4c41f9fb0fb9fffca6" href="#gallery-79f5d1c8529b9e4c41f9fb0fb9fffca6" data-ac-gallery-trigger="gallery-79f5d1c8529b9e4c41f9fb0fb9fffca6"><span>An outdoor photo of a person standing inside a hot air balloon billowing in the wind taken in 24MP on iPhone Air.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-e4fb09b4af600a9ad4183dedb9f5cd1f" href="#gallery-e4fb09b4af600a9ad4183dedb9f5cd1f" data-ac-gallery-trigger="gallery-e4fb09b4af600a9ad4183dedb9f5cd1f"><span>A close-up photo of a stack of homemade waffles covered in colorful berries showing Focus Control on iPhone Air.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-b1b2e272cb31a2da9170f1e282945d0c" href="#gallery-b1b2e272cb31a2da9170f1e282945d0c" data-ac-gallery-trigger="gallery-b1b2e272cb31a2da9170f1e282945d0c"><span>An editorial-style photo of a person wearing all white against an abstract black-and-white backdrop showing Photographic Styles and taken on iPhone Air.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-4fb90f40421612fbdbaf18cdc49ba17c" href="#gallery-4fb90f40421612fbdbaf18cdc49ba17c" data-ac-gallery-trigger="gallery-4fb90f40421612fbdbaf18cdc49ba17c"><span>An editorial-style photo of a person wearing all white sitting on a chair inside a dimly lit room taken on iPhone Air.</span></a>
                        </li>
                    
                </ul>
            </nav>
            <div>
                
                    
                        
                        <div id="gallery-d26be881e02ead5176012ac1cda605aa" aria-labelledby="gallery-dotnav-d26be881e02ead5176012ac1cda605aa" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:two-x-telephoto">
                                
                                <div>
                                    <div>The 2x Telephoto on iPhone Air has an updated Photonic Engine, which now uses machine learning to capture more lifelike details and color.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-2x-Telephoto-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-2x-Telephoto-250909_big" aria-label="Download media, An outdoor portrait of a person with curly hair taken with 2x Telephoto on iPhone Air."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-58a66cef59bc84b9045f2bbd8e829d69" aria-labelledby="gallery-dotnav-58a66cef59bc84b9045f2bbd8e829d69" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:forty-eight-mp">
                                
                                <div>
                                    <div>iPhone Air users can capture more detail with breathtaking 48MP photos.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-48MP-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-48MP-250909_big" aria-label="Download media, A photo of a towering rock formation taken in 48MP on iPhone Air."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-79f5d1c8529b9e4c41f9fb0fb9fffca6" aria-labelledby="gallery-dotnav-79f5d1c8529b9e4c41f9fb0fb9fffca6" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:twenty-four-mp">
                                
                                <div>
                                    <div>By default, photos are captured in 24MP, offering excellent image quality at a file size that’s ideal for saving and sharing.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-24MP-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-24MP-250909_big" aria-label="Download media, An outdoor photo of a person standing inside a hot air balloon billowing in the wind taken in 24MP on iPhone Air."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-e4fb09b4af600a9ad4183dedb9f5cd1f" aria-labelledby="gallery-dotnav-e4fb09b4af600a9ad4183dedb9f5cd1f" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:focus-control">
                                
                                <div>
                                    <div>Next-generation portraits with Focus Control automatically capture depth information, so users can turn photos into stunning portraits later.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-Focus-Control-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-Focus-Control-250909_big" aria-label="Download media, A close-up photo of a stack of homemade waffles covered in colorful berries showing Focus Control on iPhone Air."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-b1b2e272cb31a2da9170f1e282945d0c" aria-labelledby="gallery-dotnav-b1b2e272cb31a2da9170f1e282945d0c" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:photographic-styles">
                                
                                <div>
                                    <div>iPhone Air features the latest generation of Photographic Styles, with a new Bright style that brightens skin tones and applies a pop of vibrance across the image.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-Photographic-Styles-Bright-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-Photographic-Styles-Bright-250909_big" aria-label="Download media, An editorial-style photo of a person wearing all white against an abstract black-and-white backdrop showing Photographic Styles and taken on iPhone Air."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-4fb90f40421612fbdbaf18cdc49ba17c" aria-labelledby="gallery-dotnav-4fb90f40421612fbdbaf18cdc49ba17c" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:low-light">
                                
                                <div>
                                    <div>The 48MP Fusion camera system excels in low light, thanks to its larger sensor, fast aperture, and an Apple-designed sensor-shift optical image stabilization.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-Fusion-camera-low-light-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-Fusion-camera-low-light-250909_big" aria-label="Download media, An editorial-style photo of a person wearing all white sitting on a chair inside a dimly lit room taken on iPhone Air."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
            </div>
            
                
                
                <nav role="presentation">
                    
                        <ul>
                            <li>
                                
                            </li>
                            <li>
                                
                            </li>
                        </ul>
                    
                </nav>
            
        </div>
    


    
    
    


     
     
    
    
        <div>
             
                 <div>iPhone Air captures stunning video, with the ability to record in 4K60 fps Dolby Vision, and supports Action mode. Video is captured with Spatial Audio for immersive listening; Audio Mix lets users adjust sound after capture to boost voices and reduce ambient noise; and wind noise reduction minimizes unwanted noise.
</div>
                 
             
                 <h2><strong>Powered by Apple Silicon</strong>
</h2>
                 
             
                 <div>The design of iPhone Air is only possible with Apple silicon. The high-performance A19 Pro, N1, and C1X chips make it the most power-efficient iPhone ever made.
</div>
                 
             
                 <div>The powerhouse A19 Pro features a new 6-core CPU that improves performance and efficiency for the tasks users do every day, delivering the fastest CPU in any smartphone. The 5-core GPU has an upgraded architecture, delivering next-level mobile gaming, including AAA titles. Neural Accelerators are built into each GPU core, bringing up to 3x the peak GPU compute over the previous generation, excellent for powering generative AI models running on device.
</div>
                 
             
         </div>
 

    
    
    


    
    <div data-component-list="ScrollAnimationDefault AutoPlayVideo">
        <div>The new A19 Pro chip with a 5-core GPU enables next-level mobile gaming in titles like Arknights: Endfield, with fast, efficient performance and smooth graphics.</div>
        
            <a aria-label="Download video: iPhone Air Gaming Arknights: Endfield" data-analytics-title="Download video - iPhone Air Gaming Arknights: Endfield" download="" href="https://www.apple.com/newsroom/videos/2025/autoplay/09/apple-iphone-air-gaming-arknights/downloads/Apple-iPhone-Air-Gaming-Arknights-250909.zip">
            </a>
        
    </div>






    
    
    


     
     
    
    
        <div>
             
                 <div>iPhone Air features N1, a new Apple-designed wireless networking chip that enables Wi-Fi 7, Bluetooth 6, and Thread. In addition to powering the latest generation of wireless technologies, N1 improves the overall performance and reliability of features like Personal Hotspot and AirDrop. iPhone Air also features C1X, a new cellular modem designed by Apple. C1X is up to 2x faster than C1, and for the same cellular technologies, it is even faster than the modem in iPhone 16 Pro, while using 30 percent less energy overall. This makes C1X the most power-efficient modem in an iPhone.
</div>
                 
             
                 <h2><strong>Remarkable All-Day Battery Life</strong>
</h2>
                 
             
                 <div>Featuring advanced Apple silicon, an internal architecture that maximizes space for the battery, and software optimizations, iPhone Air delivers fantastic all-day battery life. The new Adaptive Power Mode in iOS 26 also gets to know a user’s typical battery consumption and anticipates when they might run low, intelligently conserving power to help get them through the day.
</div>
                 
             
         </div>
 

    
    
    


    
    <div data-component-list="ScrollAnimationDefault AutoPlayVideo">
        <div>The internal architecture of iPhone Air has been designed to maximize battery space.</div>
        
            <a aria-label="Download video: iPhone Air Redesigned Internal Architecture" data-analytics-title="Download video - iPhone Air Redesigned Internal Architecture" download="" href="https://www.apple.com/newsroom/videos/2025/autoplay/09/apple-iphone-air-battery/downloads/Apple-iPhone-Air-battery-250909.zip">
            </a>
        
    </div>






    
    
    


     
     
    
    
        <div>
             
                 <h2><strong>eSIM: A Flexible, Convenient, and Secure Connection</strong>
</h2>
                 
             
                 <div>iPhone Air features an eSIM-only design that saves space internally, helping enable the unbelievably light and thin form factor.<sup>4</sup> eSIM offers greater flexibility, better security, and seamless connectivity compared to traditional physical SIM cards. An industry standard, eSIM is supported by over 500 carriers worldwide, including AT&amp;T, T-Mobile, Verizon, and more. eSIM also makes staying connected while traveling even more convenient, allowing continued connectivity through affordable international roaming plans from users’ home carriers or local prepaid options available with more than 200 carriers. For better security, eSIM cannot be physically removed if an iPhone is lost or stolen, and managing travel eSIMs is even easier with a new streamlined setup in iOS 26.
</div>
                 
             
                 <h2><strong>Featuring iOS 26 with New Apple Intelligence Capabilities</strong>
</h2>
                 
             
                 <div>iOS 26 elevates the iPhone experience with a beautiful new design, powerful Apple Intelligence capabilities, and meaningful improvements to the apps users rely on every day. The new design with Liquid Glass makes apps and system experiences more expressive and delightful, bringing greater focus to content while keeping iOS instantly familiar. Apple Intelligence now translates text and audio on the go with Live Translation, helping users communicate across languages in Messages, FaceTime, and Phone.<sup>5</sup> Updates to visual intelligence allow users to capture a screenshot and easily search or take action on anything they are viewing on their iPhone screen. The on-device foundation model at the core of Apple Intelligence is available to all developers, with apps already offering new intelligent, privacy-protected experiences that can even be used when offline. New screening tools for calls and messages help eliminate distractions so users can focus on the conversations that matter most. iOS 26 also introduces new features in CarPlay, Apple Music, Maps, and Wallet, as well as Apple Games, a brand-new app that gives players a single destination for all their games.
</div>
                 
             
         </div>
 

    
    
    


    
        
        
        
        
            <figure aria-label="Media, A user’s Home Screen is shown on iPhone Air.">
                <div>
                         
                            
                            <div>
                                iOS 26 is a major update with a beautiful new design, including the Lock Screen and Home Screen, making them more personal and expressive than ever.
                            </div>
                        
                        
                        
                        
                        <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-iOS-Home-Screen-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-iOS-Home-Screen-250909_inline" aria-label="Download media, A user’s Home Screen is shown on iPhone Air."></a>
                    </div>
            </figure>
        
    












    
    
    


     
     
    
    
        <div>
             
                 <h2><strong>Beautiful New Accessories</strong>
</h2>
                 
             
                 <div>Apple is introducing a new ecosystem of accessories to complement the breakthrough design of iPhone Air:
</div>
                 
             
                 <div><ul>
<li>The iPhone Air Case with MagSafe — available in frost and shadow — has an ultra-thin translucent design with a lightly frosted interior, a high-gloss outer surface, and a reinforced polycarbonate frame to protect iPhone Air from scratches and drops.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>The slim and lightweight iPhone Air Bumper — available in four matching colors — perfectly frames iPhone Air with a reinforced polycarbonate design for added edge protection.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>Crafted from 100 percent recycled yarns, the Crossbody Strap drapes comfortably, with embedded flexible magnets and stainless steel sliding mechanisms to easily adjust the length and keep both straps securely aligned. The Crossbody Strap will be available in 10 colors: black, light gray, blue, light blue, purple, sienna, green, neon yellow, tan, and orange.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>The iPhone Air MagSafe Battery has a thin and light design that seamlessly attaches to the back of the device. The MagSafe Battery quickly charges iPhone Air when the battery is low, and maximizes battery life when connected throughout the day, delivering up to 40 hours of video playback when used together.</li>
</ul>
</div>
                 
             
         </div>
 

    
    
    


    
    
        
        
        
            <div role="group" aria-label="gallery" data-component-list="MixinGallery" id="iphone-air-accessories">
            <nav role="presentation">
                <ul role="tablist">
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-b4be0065f1669c32a57bb1b54b3ff9ab" href="#gallery-b4be0065f1669c32a57bb1b54b3ff9ab" data-ac-gallery-trigger="gallery-b4be0065f1669c32a57bb1b54b3ff9ab"><span>iPhone Air is shown with the new MagSafe Case.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-b4b71f4d21860564288a0f1f4b80b603" href="#gallery-b4b71f4d21860564288a0f1f4b80b603" data-ac-gallery-trigger="gallery-b4b71f4d21860564288a0f1f4b80b603"><span>iPhone Air is shown with the new Bumper.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-1cd84b46b2ca74c093c2bda4efbf3122" href="#gallery-1cd84b46b2ca74c093c2bda4efbf3122" data-ac-gallery-trigger="gallery-1cd84b46b2ca74c093c2bda4efbf3122"><span>iPhone Air is shown with the new Crossbody Strap.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-a67329cdfcacfdb9ffb104431fa51349" href="#gallery-a67329cdfcacfdb9ffb104431fa51349" data-ac-gallery-trigger="gallery-a67329cdfcacfdb9ffb104431fa51349"><span>iPhone Air is shown with the new MagSafe Battery.</span></a>
                        </li>
                    
                </ul>
            </nav>
            <div>
                
                    
                        
                        <div id="gallery-b4be0065f1669c32a57bb1b54b3ff9ab" aria-labelledby="gallery-dotnav-b4be0065f1669c32a57bb1b54b3ff9ab" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:magsafe-case">
                                
                                <div>
                                    <div>The ultra-thin translucent iPhone Air Case with MagSafe has a back panel that is less than 1mm thin, and is designed to provide great drop protection.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-Case-with-MagSafe-Frost-White-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-Case-with-MagSafe-Frost-White-250909_inline" aria-label="Download media, iPhone Air is shown with the new MagSafe Case."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-b4b71f4d21860564288a0f1f4b80b603" aria-labelledby="gallery-dotnav-b4b71f4d21860564288a0f1f4b80b603" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:bumper">
                                
                                <div>
                                    <div>The lightweight iPhone Air Bumper is made from a reinforced polycarbonate and perfectly frames iPhone&nbsp;Air.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-Bumper-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-Bumper-250909_inline" aria-label="Download media, iPhone Air is shown with the new Bumper."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-1cd84b46b2ca74c093c2bda4efbf3122" aria-labelledby="gallery-dotnav-1cd84b46b2ca74c093c2bda4efbf3122" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:crossbody-strap">
                                
                                <div>
                                    <div>Both cases can be paired with the beautiful and effortless Crossbody Strap.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-Crossbody-Strap-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-Crossbody-Strap-250909_inline" aria-label="Download media, iPhone Air is shown with the new Crossbody Strap."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-a67329cdfcacfdb9ffb104431fa51349" aria-labelledby="gallery-dotnav-a67329cdfcacfdb9ffb104431fa51349" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:magsafe-battery">
                                
                                <div>
                                    <div>The new iPhone Air MagSafe Battery has a thin and light design that magnetically attaches to the back of iPhone Air to extend battery life during busier days.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/09/introducing-iphone-air-a-powerful-new-iphone-with-a-breakthrough-design/article/Apple-iPhone-Air-MagSafe-Battery-250909.zip" download="" data-analytics-title="download image - Apple-iPhone-Air-MagSafe-Battery-250909_inline" aria-label="Download media, iPhone Air is shown with the new MagSafe Battery."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
            </div>
            
                
                
                <nav role="presentation">
                    
                        <ul>
                            <li>
                                
                            </li>
                            <li>
                                
                            </li>
                        </ul>
                    
                </nav>
            
        </div>
    


    
    
    


     
     
    
    
        <div>
             
                 <h2><strong>iPhone Air and the Environment</strong>
</h2>
                 
             
                 <div>Apple 2030 is the company’s ambitious plan to be carbon neutral across its entire footprint by the end of this decade by reducing product emissions from their three biggest sources: materials, electricity, and transportation. iPhone Air is made with 35 percent recycled content, including 80 percent recycled titanium, the highest ever for an iPhone, and 100 percent recycled cobalt in the battery. A new titanium USB-C port is 3D-printed to be thinner and stronger, fitting into the slim design while using 33 percent less material than a conventional forging process. iPhone Air is manufactured with 45 percent renewable electricity, like wind and solar, across the supply chain. It is designed to be durable, repairable, and offer industry-leading software support, while meeting Apple’s high standards for energy efficiency and safe chemistry. The paper packaging is 100 percent fiber-based and can be easily recycled.
</div>
                 
             
         </div>
 

    
    
    


     
     
    
    
        <div>
             
                 
                 
             
                 <div><ul>
<li>iPhone Air will be available in space black, cloud white, light gold, and sky blue, starting with 256GB storage, as well as 512GB and 1TB options. iPhone Air starts at<strong> $999 </strong>(U.S.) or <strong>$41.62 </strong>(U.S.) per month.<sup>6</sup></li>
</ul>
</div>
                 
             
                 <div><ul>
<li>Apple offers great ways to save and upgrade to the latest iPhone models. With Apple Trade In, customers can get <strong>$200</strong> to <strong>$700</strong> (U.S.) in credits when they trade in iPhone 13 or newer.<sup>7 </sup>Apple also partners with select carriers to offer incredible deals, and customers can get up to<strong> $1,100</strong> (U.S.) in credits when they trade in iPhone 13 or newer — in any condition — to put toward iPhone 17 Pro. Customers can take advantage of carrier deals by visiting the Apple Store online or an Apple Store location. For carrier deal eligibility requirements and more details, see <a href="https://www.apple.com/shop/buy-iphone/carrier-offers/" target="_blank">apple.com/shop/buy-iphone/carrier-offers</a>. To see what their device is worth and for trade-in terms and conditions, customers can visit <a href="https://www.apple.com/shop/trade-in/" target="_blank">apple.com/shop/trade-in</a>.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>Customers in more than 63 countries and regions, including <em>Australia</em>,<em> Canada</em>, <em>China</em>,<em> Colombia</em>,<em> France</em>,<em> Germany</em>, <em>India</em>,<em> Japan</em>, <em>Malaysia</em>, <em>Mexico</em>, <em>Singapore</em>,<em> South Korea</em>, <em>Thailand, Türkiye</em>, the <em>UAE</em>, the <em>UK</em>, the <em>U.S.</em>, and <em>Vietnam</em>, will be able to pre-order iPhone Air beginning at 5 a.m. PDT this Friday, September 12, with availability beginning Friday, September 19. iPhone Air will be available in 22 other countries and regions beginning Friday, September 26.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>iOS 26 will be available as a free software update on Monday, September 15. Some features may not be available in all languages or regions, and availability may vary due to local laws and regulations. For more information about availability, visit <a href="https://www.apple.com/" target="_blank">apple.com</a>.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>Apple Intelligence is available in beta with support for these languages: English, French, German, Italian, Portuguese (Brazil), Spanish, Chinese (simplified), Japanese, and Korean. More languages will be coming by the end of this year: Danish, Dutch, Norwegian, Portuguese (Portugal), Swedish, Turkish, Chinese (traditional), and Vietnamese. Some features may not be available in all regions or languages. For feature and language availability and system requirements, see <a href="https://support.apple.com/en-us/121115" target="_blank">support.apple.com/en-us/121115</a>.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>Apple is extending free access to satellite features for an additional year for existing iPhone 14 and iPhone 15 users. The free trial will be extended for iPhone 14 and iPhone 15 users who have activated their device in a country that supports Apple’s satellite features prior to 12 a.m. PT on September 9, 2025. For satellite feature availability, visit <a href="https://support.apple.com/en-us/105097" target="_blank">support.apple.com/en-us/105097</a>.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>iPhone Air MagSafe Battery will be available for<strong> $99</strong> (U.S.). iPhone Air Case with MagSafe is available for <strong>$49</strong> (U.S.), iPhone Air Bumper will be available for <strong>$39</strong> (U.S.), and a Crossbody Strap will be available for <strong>$59</strong> (U.S.). FineWoven Wallet with MagSafe will be available for <strong>$59 </strong>(U.S.) in black, navy, midnight, purple, fox orange, and moss.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>The Apple-designed 40W Dynamic Power Adapter with 60W Max will be available for <strong>$39</strong> (U.S.), and a Qi2 25W-certified MagSafe Charger will be available in a 1-meter length for <strong>$39</strong> (U.S.) or a 2-meter length for <strong>$49</strong> (U.S.).<sup>8</sup></li>
</ul>
</div>
                 
             
                 <div><ul>
<li>AppleCare delivers exceptional service and support, with flexible options for Apple users. Customers can choose AppleCare+ to cover their new iPhone, or in the U.S., AppleCare One to protect multiple products in one simple plan. Both plans include coverage for accidents like drops and spills, theft and loss protection on eligible products, battery replacement service, and 24/7 support from Apple experts. For more information, visit <a href="https://www.apple.com/applecare/" target="_blank">apple.com/applecare</a>.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>iCloud+ plans start at just <strong>$0.99</strong> (U.S.) per month, providing additional storage to keep photos, videos, files, and more safe in the cloud and accessible across devices. iCloud+ also gives access to premium features such as event creation in the Apple Invites app, as well as Private Relay, Hide My Email, custom email domains, and HomeKit Secure Video. With Family Sharing, users can share their subscription with five other family members at no extra cost.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li>Customers who purchase iPhone Air may receive three free months of Apple Arcade, Apple Fitness+, Apple Music, Apple News+, and Apple TV+ with a new subscription. Offer and services availability varies by region. See <a href="https://www.apple.com/promo/" target="_blank">apple.com/promo</a> for details.</li>
</ul>
</div>
                 
             
         </div>
 

    
    
    




    
    
        
    


    
    
    



    
    
    




    




    
    
    





    
    
    <div>
            <ol>
<li>The display has rounded corners that follow a beautiful curved design, and these corners are within a standard rectangle. When measured as a standard rectangular shape, the screen is 6.55 inches diagonally. The actual viewable area is smaller.</li>
<li>Visual intelligence is available on any Apple Intelligence-enabled iPhone. Some capabilities may not be available in all languages and regions. For more details, see <a href="https://support.apple.com/en-us/121115#visual-intelligence" target="_blank">support.apple.com/en-us/121115#visual-intelligence</a>.</li>
<li>The new Bright Photographic Style will be available in iOS 26 on iPhone 16, iPhone 16 Plus, iPhone 16 Pro, iPhone 16 Pro Max, iPhone 17, iPhone Air, iPhone 17 Pro, and iPhone 17 Pro Max.</li>
<li>Use of an eSIM requires a carrier that supports eSIM and a wireless service plan. See carrier for details. To learn more, visit <a href="https://www.apple.com/esim/" target="_blank">apple.com/esim</a>.</li>
<li>Live Translation in Messages supports English (U.S., UK), French (France), German, Italian, Japanese, Korean, Portuguese (Brazil), Spanish (Spain), and Chinese (simplified). Live Translation in Phone and FaceTime is available for one-on-one calls in English (U.S., UK), French (France), German, Portuguese (Brazil), and Spanish (Spain).</li>
<li>Financing available to qualified customers, subject to credit approval and credit limit, and requires users to select Citizens One Apple iPhone Payments or Apple Card Monthly Installments (ACMI) as their payment type at checkout at Apple. They’ll need to select AT&amp;T, Boost Mobile, T‑Mobile, or Verizon as their carrier when they check out. An iPhone purchased with ACMI is always unlocked, so they can switch carriers at any time, subject to their carrier’s terms. Taxes and shipping on items purchased using ACMI are subject to their card’s variable APR, not the ACMI 0 percent APR. ACMI is not available for purchases made online at special storefronts. The last month’s payment for each product will be the product’s purchase price, less all other payments at the monthly payment amount. ACMI financing is subject to change at any time for any reason, including but not limited to, installment term lengths and eligible products. See the <a href="https://www.goldmansachs.com/terms-and-conditions/Apple-Card-Customer-Agreement.pdf" target="_blank" rel="nofollow" data-analytics-exit-link="">Apple Card Customer Agreement</a> for more information about ACMI. Additional Citizens One Apple iPhone Payments terms are available at <a href="https://www.apple.com/legal/sales-support/iphoneinstallments_us/" target="_blank">apple.com/legal/sales-support/iphoneinstallments_us</a>.</li>
<li>Trade-in values will vary based on the condition, year, and configuration of the eligible trade-in device.</li>
<li>The 40W Dynamic Power Adapter with 60W Max will be available in Canada, China mainland, Japan, Mexico, Taiwan, the Philippines, and the U.S.</li>
</ol>

        </div>



    
    
    






    















	

		
		
			
























		
		

</article>



</section>
</main>



<div>
            Stay up to date with the latest articles from Apple Newsroom.
        </div>
	

</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Dropbox Paper mobile App Discontinuation (104 pts)]]></title>
            <link>https://help.dropbox.com/installs/paper-mobile-discontinuation</link>
            <guid>45186011</guid>
            <pubDate>Tue, 09 Sep 2025 18:12:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://help.dropbox.com/installs/paper-mobile-discontinuation">https://help.dropbox.com/installs/paper-mobile-discontinuation</a>, See on <a href="https://news.ycombinator.com/item?id=45186011">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main">
    
    
<div>
    <nav>
        
        <ul itemscope="" itemtype="https://schema.org/BreadcrumbList">
            <li aria-label="breadcrumb" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
                <a aria-labelledby="Dropbox Help Center - How to use Dropbox" href="https://help.dropbox.com/" itemprop="item">
                    <span itemprop="name">Dropbox Help Center - How to use Dropbox </span>
                </a>
                <meta itemprop="position" content="0">
            </li>
            
        
            <li aria-label="breadcrumb" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
                <a aria-labelledby="Installs" href="https://help.dropbox.com/installs" itemprop="item">
                    <span itemprop="name">Installs </span>
                </a>
                <meta itemprop="position" content="1">
            </li>
            
        
            
            <li itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem">
                <span itemprop="name"> FAQs on the Dropbox Paper app discontinuation</span>
                <meta itemprop="position" content="2">
            </li>
        </ul>
    </nav>
</div>


<div>



<!-- All h2 content render here -->
<p id="hp02TableofcontentId">
    <h2>In this article</h2>
</p></div>
<div>
    
    <div>
          
         
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
               <title>person icon</title>
               <path d="M9.9 6.5075C10.3239 5.74163 10.5313 4.8748 10.5 4C10.5 1.458 9.2245 0 7 0C4.7755 0 3.5 1.458 3.5 4C3.46867 4.8748 3.67608 5.74163 4.1 6.5075C3.00033 6.54634 1.95858 7.01017 1.19391 7.80141C0.429237 8.59266 0.00125628 9.64964 0 10.75V14H14V10.75C13.9987 9.64964 13.5708 8.59266 12.8061 7.80141C12.0414 7.01017 10.9997 6.54634 9.9 6.5075ZM7 1.5C7.931 1.5 9 1.784 9 4C9 6.216 7.931 6.5 7 6.5C6.069 6.5 5 6.216 5 4C5 1.784 6.069 1.5 7 1.5ZM12.5 12.5H1.5V10.75C1.50079 10.0209 1.79078 9.32189 2.30633 8.80633C2.82189 8.29078 3.5209 8.00079 4.25 8H9.75C10.4791 8.00079 11.1781 8.29078 11.6937 8.80633C12.2092 9.32189 12.4992 10.0209 12.5 10.75V12.5Z" fill="#1A1918"></path>
               </svg>
         
         
         
         
         
        <p>&nbsp;The information in this article applies to all Dropbox users, unless otherwise stated.</p>  
      </div>
<div tabindex="0" role="button" id="c04-1-rich-textId" data-component="c04-1-rich-text" data-component-instance="407baf8a-f1a1-4e80-95a1-fe46e4b2a6ef/responsivegrid/responsivegrid_1821585867/c04_1_rich_text">
        <p>In order to focus on delivering a consistent, high-quality experience on paper.dropbox.com, the Dropbox Paper mobile app will be discontinued on October 9, 2025. If you already have the app installed on your device, it will no longer function after this date.&nbsp;</p>

<p>You can continue using Paper on Web on any of your devices after this date by logging into paper.dropbox.com using your browser.</p>

      </div>
<div tabindex="0" role="button" id="c04-1-rich-textId" data-component="c04-1-rich-text" data-component-instance="407baf8a-f1a1-4e80-95a1-fe46e4b2a6ef/responsivegrid/responsivegrid_1821585867/c04_1_rich_text_214919801">
        <h2>When will the Paper mobile app be discontinued?</h2>

<p>The Paper mobile app will no longer be available on the Google Play Store or Apple App Store from October 9, 2025. If you’ve already got the app installed on your device, it’ll no longer update after October 9. After this date, some parts of the app will no longer function. To ensure a smooth transition, we recommend deleting the app.</p>

      </div>
<div tabindex="0" role="button" id="c04-1-rich-textId" data-component="c04-1-rich-text" data-component-instance="407baf8a-f1a1-4e80-95a1-fe46e4b2a6ef/responsivegrid/responsivegrid_1821585867/c04_1_rich_text_527791411">
        <h2>What happens to my Paper documents?</h2>

<p>Your Paper files will continue to be securely stored in your Dropbox account. You can access them at any time, from any of your devices, by visiting paper.dropbox.com.</p>

      </div>
<div tabindex="0" role="button" id="c04-1-rich-textId" data-component="c04-1-rich-text" data-component-instance="407baf8a-f1a1-4e80-95a1-fe46e4b2a6ef/responsivegrid/responsivegrid_1821585867/c04_1_rich_text_193777412">
        <h2>Can I still create and edit Paper documents on my mobile device?</h2>

<p>Yes, you can still create and edit paper documents using Paper on the web.</p>

<p>To create Paper documents on your mobile device:</p>

<ol>
<li><a href="http://paper.dropbox.com/">Log in</a> to paper.dropbox.com on your mobile device.</li>
<li>Tap &nbsp;<img alt="add" height="16" src="https://paper-attachments.dropboxusercontent.com/s_41E682B1EC1150E2C43CE5FF0B9CA0F85A174E0FA6A1C9B511326B62C6533455_1724274500046_Vector+32.png" title="add"> &nbsp;<b>Create new doc </b>at the top of your screen.</li>
<li>Enter a name for your new document.</li>
</ol>

<p>To edit Paper documents on your mobile device:</p>

<ol>
<li><a href="http://paper.dropbox.com/">Log in</a> to paper.dropbox.com on your mobile device.</li>
<li>Tap the document you’d like to edit.</li>
<li>Tap any of the text in the document to begin editing.</li>
</ol>

<p>You can make edits using the keyboard on your mobile device.</p>

      </div>
<div tabindex="0" role="button" id="c04-1-rich-textId" data-component="c04-1-rich-text" data-component-instance="407baf8a-f1a1-4e80-95a1-fe46e4b2a6ef/responsivegrid/responsivegrid_1821585867/c04_1_rich_text_955959833">
        <h2>Can I share Paper documents with my mobile device?</h2>

<p>Yes, you can share Paper documents with your mobile device through Paper on Web, or through the Dropbox mobile app.</p>

<p>To share a document on the web:</p>

<ol>
<li><a href="http://paper.dropbox.com/">Log in</a> to paper.dropbox.com on your mobile device.</li>
<li>Tap <img alt="more" height="16" src="https://paper-attachments.dropboxusercontent.com/s_E5733BB3DF0A067C94CB50EB7682687D6B3C8C5EC3660FB9B43F6A79008A2C5E_1682352008769_menu.png" title="more"> (more) next to the document you’d like to share.</li>
<li>Select whether the person you’re sharing the file with can view, or edit the file, by choosing from the dropdown next to <b>Anyone with this link.</b></li>
<li>Enter the email address of the person you’d to share the document with.<ul>
<li>You can also tap <img alt="link" height="16" src="https://paper-attachments.dropboxusercontent.com/s_7E96066ABC4B5E9D9B337EB3028556A272E784FAEA7CF0C22D2340C657BB84A5_1683125683674_link.png" title="link"><b>Copy link </b>and share that link directly.</li>
</ul>
</li>
<li>Add a note if required.</li>
<li>Tap <b>Share</b>.</li>
</ol>


<p>To share a file using the Dropbox mobile app:</p>

<ol>
<li>Open the Dropbox mobile app.</li>
<li>Tap <b>&nbsp;</b>(more options) on Android or &nbsp;(more options) on iOS next to the file you’d like to share.</li>
<li>Tap <b>Share</b>.</li>
<li>Tap <b>Invite to file </b>(file).</li>
<li>Tap under <b>Send to </b>and type the <b>Email, name, or group </b>of the person (or people) you’d like to share the file or folder with.</li>
<li>Tap to select them from the results.<ul>
<li><b>Note:</b> You can invite as many people as you’d like.</li>
</ul>
</li>
<li>Tap to select <b>Can edit</b> (view, comment, and edit) or <b>Can view</b> (view and comment but not edit).<ul>
<li>Tap <b>Close </b>on iOS.</li>
</ul>
</li>
<li>Tap <b>Optional message </b>on Android or <b>Message (optional) </b>on iOS to add a message, if required.</li>
<li>Tap <b>Share</b>.</li>
</ol>

      </div>
<div tabindex="0" role="button" id="c04-1-rich-textId" data-component="c04-1-rich-text" data-component-instance="407baf8a-f1a1-4e80-95a1-fe46e4b2a6ef/responsivegrid/responsivegrid_1821585867/c04_1_rich_text_814296380">
        <h2>How will I receive notifications about changes to my Paper documents?</h2>
<p>You’ll still receive notifications about activity, comments, @mentions, to-dos, and changes to docs you follow through email, and on the Dropbox mobile app.</p>

<p><a href="https://help.dropbox.com/account-settings/paper-adjust-notification-settings"><u>Learn more about Dropbox Paper notifications.</u></a></p>

      </div>
<div tabindex="0" role="button" id="c04-1-rich-textId" data-component="c04-1-rich-text" data-component-instance="407baf8a-f1a1-4e80-95a1-fe46e4b2a6ef/responsivegrid/responsivegrid_1821585867/c04_1_rich_text_1076119088">
        <h2>Can I continue to use the Dropbox Paper desktop app?</h2>

<p>The Dropbox Paper desktop app was a beta experience, and is also being discontinued on October 9, 2025. You’ll still be able to use all of the features of Dropbox Paper by visiting paper.dropbox.com.</p>

      </div>
<div tabindex="0" role="button" id="c04-1-rich-textId" data-component="c04-1-rich-text" data-component-instance="407baf8a-f1a1-4e80-95a1-fe46e4b2a6ef/responsivegrid/responsivegrid_1821585867/c04_1_rich_text_1111584627">
        <h2>Will I be reminded of the change?</h2>

<p>Yes, if you’re an active user of the Dropbox Paper mobile or desktop apps, you’ll receive a reminder email on October 1, 2025.</p>

      </div>

    
</div>
<div>
        <p><span>Was this article helpful?</span>
        </p>
        
        <div>
                
                <p>Thanks for your feedback!</p>
            </div>
    </div>
<div>
		<p>
			<h3>Related Articles</h3>
		</p>
		
	</div>

<div>
         <p>
           <h2>Other ways to get help</h2> </p>
    
 </div>

    
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Microsoft is officially sending employees back to the office (128 pts)]]></title>
            <link>https://www.businessinsider.com/microsoft-send-employees-back-to-office-rto-remote-work-2025-9</link>
            <guid>45184432</guid>
            <pubDate>Tue, 09 Sep 2025 16:31:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.businessinsider.com/microsoft-send-employees-back-to-office-rto-remote-work-2025-9">https://www.businessinsider.com/microsoft-send-employees-back-to-office-rto-remote-work-2025-9</a>, See on <a href="https://news.ycombinator.com/item?id=45184432">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="post-body" data-component-type="post-body" data-load-strategy="exclude" data-lock-content="">
            
            
            
            <div data-component-type="post-hero" data-load-strategy="exclude">
                
                <figure data-type="img" data-e2e-name="image-figure-image" data-media-container="image" itemscope="" itemtype="https://schema.org/ImageObject">
                    <div>
                      <meta itemprop="contentUrl" content="https://i.insider.com/681924e3a466d2b74ab5149f?width=700">
                      <p><img src="https://i.insider.com/681924e3a466d2b74ab5149f?width=700" srcset="https://i.insider.com/681924e3a466d2b74ab5149f?width=400&amp;format=jpeg&amp;auto=webp 400w, https://i.insider.com/681924e3a466d2b74ab5149f?width=500&amp;format=jpeg&amp;auto=webp 500w, https://i.insider.com/681924e3a466d2b74ab5149f?width=700&amp;format=jpeg&amp;auto=webp 700w, https://i.insider.com/681924e3a466d2b74ab5149f?width=1000&amp;format=jpeg&amp;auto=webp 1000w, https://i.insider.com/681924e3a466d2b74ab5149f?width=1300&amp;format=jpeg&amp;auto=webp 1300w, https://i.insider.com/681924e3a466d2b74ab5149f?width=2000&amp;format=jpeg&amp;auto=webp 2000w" sizes="(min-width: 1280px) 900px" alt="Microsoft Chief Executive Satya Nadella speaks at the company's annual developer conference, in Seattle" decoding="sync">
                    </p></div>
                
                  <span>
                        <span>
                          
                          <label for="caption-drawer-btn">
                            <svg role="img" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                              <path fill="currentColor" fill-rule="evenodd" d="m4.56 18.5 7.486-7.72 7.394 7.626 2.56-2.64L12.046 5.5 2 15.86l2.56 2.64Z"></path>
                            </svg>        </label>
                  
                          <figcaption data-e2e-name="image-caption">
                            <span>Microsoft CEO Satya Nadella</span>
                            <span>
                              <span data-e2e-name="image-source" itemprop="creditText">
                                Max Cherney/REUTERS
                              </span>          </span>
                          </figcaption>
                        </span>
                  </span></figure>
            </div>
    
    
    
              
      
            
      
              
              
              
              <div data-component-type="post-summary-bullets" data-load-strategy="exclude" data-track-marfeel="post-summary-bullets">
                <ul>
                    <li>Microsoft is sending employees back to the office at least three days a week.</li>
                    <li>The first phase will be for employees who live near its Seattle-area headquarters in February.</li>
                    <li>Business Insider <a target="_blank" href="https://www.businessinsider.com/microsoft-considering-stricter-rto-policy-2025-8" data-autoaffiliated="false" data-track-click="{&quot;element_name&quot;:&quot;summary_bullets&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}">reported last month</a> that Microsoft's was considering a stricter RTO policy.</li>
                </ul>
              </div>
      
            
            
            
            
            <section data-component-type="post-body-content" data-load-strategy="exclude" data-track-content="" data-post-type="story" data-track-marfeel="post-body-content">
            
                <p>One of Big Tech's last remaining <a target="_self" href="https://www.businessinsider.com/rto-mandates-driving-workers-quit-helping-employers-avoid-layoffs-2025-9" data-track-click="{&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}" rel="">RTO</a> holdouts is officially sending employees back to the office.</p><p><a target="_self" href="https://www.businessinsider.com/microsoft-pay-data-engineers-share-compensation-2025-8" data-track-click="{&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}" rel="">Microsoft</a> is mandating employees work from offices at least three days a week, according to an internal email the company sent to staff on Tuesday.</p><p>The mandate will happen in three phases, beginning at the end of February 2026, with Seattle-area employees who live within 50 miles of a Microsoft office. It will then expand to other US offices and eventually internationally, according to the email from Microsoft HR chief Amy Coleman. February 23 was one of the start dates Microsoft considered, but it hasn't been decided yet.</p><p>Employees can request an exception by September 19. Coleman's email didn't include details about how such exceptions may work.</p><p>Business Insider reported in August that Microsoft was considering a <a target="_self" href="https://www.businessinsider.com/microsoft-considering-stricter-rto-policy-2025-8" data-track-click="{&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}" rel="">stricter RTO policy</a> mandating three days a week in the office.</p><p>Microsoft sells software that enables remote work, such as its popular Teams workplace chat and meeting app. It remained relatively lax compared to some other Big Tech companies when it comes to RTO, especially cross-town rival Amazon. Even Zoom <a target="_self" href="https://www.businessinsider.com/zoom-tells-employees-return-to-office-remote-work-video-conferencing-2023-8" data-track-click="{&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}" rel="">sent its employees back</a> to the office part-time in 2023.</p><p>Microsoft first introduced a <a target="_self" href="https://www.businessinsider.com/microsoft-flexible-work-policy-how-it-works-2020-10" data-track-click="{&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}" rel="">flexible work policy</a> when it brought employees back to the office in late 2020 after pandemic-forced closures. That policy officially allowed employees to work from home at least half of the time without approval, but in practice it was even more flexible and most employees worked remotely most of the time.</p><p>Now its policy is evolving to be similar to guidelines at Meta and Google, which generally require most employees to work in offices three days a week.</p><p>Microsoft's new approach is the latest sign of the company <a target="_self" href="https://www.businessinsider.com/microsoft-performance-management-low-performers-country-club-2025-2" data-track-click="{&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}" rel="">increasing performance pressure</a> on employees. It has <a target="_self" href="https://www.businessinsider.com/microsoft-performance-management-low-performers-country-club-2025-2" data-track-click="{&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}" rel="">fired thousands of employees</a> deemed low performers this year and <a target="_self" href="https://www.businessinsider.com/microsoft-pivot-amazon-low-performers-paying-employees-to-leave-2025-4" data-track-click="{&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}" rel="">introduced a new performance improvement plan</a> meant to exit low performers more quickly.</p><p>While working on the new RTO policy, Microsoft appears to have scrubbed a blog post that once heralded the benefits of remote work for retaining employees and boosting their productivity.</p>
              
              
              
            <p>"Hybrid work is more than a change in technology—it's a change in mindset, a change in culture, and a change in the way you think about physical and virtual spaces to enable an inclusive and productive environment for all," Microsoft wrote, according to a <a target="_blank" href="https://web.archive.org/web/20230105140339/https://www.microsoft.com/insidetrack/blog/reinventing-microsofts-employee-experience-for-a-hybrid-world/" data-track-click="{&quot;click_type&quot;:&quot;other&quot;,&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;outbound_click&quot;}" rel=" nofollow">snapshot of the blog</a> retained by the Internet Archive. "The change isn't easy, but it's worth it. If you make the time to do it right, your employees will be more engaged, more productive, and more connected, even when they're miles away. And they'll be far less likely to leave for a competitor who has a more sophisticated and flexible model than you do."</p><p>The <a target="_blank" href="https://affiliate.insider.com/?h=d5cba10071ca542a3d19f9f5702b81e2eeacd089d2ce0c055c2b35b52f88ab1f&amp;platform=browser&amp;postID=68af7c9fbdd07b99f0c4cfbe&amp;postSlug=microsoft-send-employees-back-to-office-rto-remote-work-2025-9&amp;site=bi&amp;u=https%3A%2F%2Fwww.microsoft.com%2Finsidetrack%2Fblog%2Freinventing-microsofts-employee-experience-for-a-hybrid-world%2F" data-autoaffiliated="true" data-track-click-secondary="{&quot;event&quot;:&quot;outbound_affiliate_click&quot;,&quot;element_name&quot;:&quot;body_link&quot;,&quot;brand_name&quot;:&quot;bi_value_unassigned&quot;,&quot;deal_price&quot;:&quot;bi_value_unassigned&quot;,&quot;depth&quot;:&quot;bi_value_unassigned&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;number_purchase_options&quot;:&quot;bi_value_unassigned&quot;,&quot;price&quot;:&quot;bi_value_unassigned&quot;,&quot;product_badge&quot;:&quot;bi_value_unassigned&quot;,&quot;product_category&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;,&quot;product_id&quot;:&quot;bi_value_unassigned&quot;,&quot;product_name&quot;:&quot;bi_value_unassigned&quot;,&quot;purchase_options_index&quot;:&quot;bi_value_unassigned&quot;,&quot;retailer_name&quot;:&quot;bi_value_unassigned&quot;}" data-track-click="{&quot;click_type&quot;:&quot;affiliate&quot;,&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;outbound_click&quot;}" rel="nofollow sponsored noindex" data-am-orig-url="https://affiliate.insider.com/?h=d5cba10071ca542a3d19f9f5702b81e2eeacd089d2ce0c055c2b35b52f88ab1f&amp;u=https%3A%2F%2Fwww.microsoft.com%2Finsidetrack%2Fblog%2Freinventing-microsofts-employee-experience-for-a-hybrid-world%2F">link to that blog post</a> now redirects to one published on July 31 calling out how "hybrid work created new challenges for employee engagement" and how AI can solve them.</p><h2 id="88a95d71-6f93-4b8c-843f-b8237712c1b8" data-toc-id="88a95d71-6f93-4b8c-843f-b8237712c1b8">Read the full memo:</h2><p><em>"How we work has forever changed. I remember starting at Microsoft in the late '90s, always in the office, no laptops, and primarily working with the people right down the hall. As technology evolved and our business expanded, we became more open, more global, and able to scale in ways we couldn't have imagined. Then the pandemic reshaped everything. It pushed us to think differently about work, to connect like never before (thank you Teams!), reminded us of how much we value being together, and gave us focus and autonomy in the traditional workday. We're not going back, and we shouldn't. Instead, we should take the best of what we've learned and move forward.</em></p><p><em>In the AI era, we are moving faster than ever, building world class technology that changes how people live and work, and how organizations everywhere operate. If you reflect on our history, the most meaningful breakthroughs happen when we build on each other's ideas together, in real time.</em></p><p><em>We've looked at how our teams work best, and the data is clear: when people work together in person more often, they thrive—they are more energized, empowered, and they deliver stronger results. As we build the AI products that will define this era, we need the kind of energy and momentum that comes from smart people working side by side, solving challenging problems together.</em></p><p><em>With that in mind, we're updating our flexible work expectations to three days a week in the office.</em></p><p><em>We'll roll this out in three phases: 1) starting in Puget Sound at the end of February; 2) expanding to other US locations; 3) and then launching outside the US.</em></p><p><em>Our goal with this change is to provide more clarity and consistency in how we come together, while maintaining the flexibility we know you value. We want you to continue to shape your schedule in ways that work best for you, making in-person time intentional and impactful. Importantly, this update is not about reducing headcount. It's about working together in a way that enables us to meet our customers' needs.</em></p><p><em>For some of you, this is not a change. For others this may be a bigger adjustment, which is exactly why we're providing time to plan thoughtfully. As part of these updates, we're also enhancing our workplace safety and security measures so we can continue to provide a workplace where every employee can do their best work.</em></p><p><em>What you need to know:</em></p><p><em>Puget Sound-area employees: If you live within 50 miles of a Microsoft office, you'll be expected to work onsite three days a week by the end of February. You'll receive a personalized email today with more details. Please connect with your manager and team to understand your organization's plans. If needed, you can request an exception by Friday, September 19.</em></p><p><em>Managers: You'll find actions to take, and the resources to support both you and your team on the Managers@Microsoft SharePoint.</em></p><p><em>All employees: You'll hear from your EVP or organizational leadership today with specific guidance. Each business will do what is best for their team, which means some groups will deviate from our company-wide expectations. If you are outside of the Puget Sound area, you do not need to take any action at this time unless your EVP communicates otherwise.</em></p><p><em>Timelines and details for additional US office locations will be announced soon. For employees outside the United States, we will begin planning in 2026. More information is available on the Flexible Work at Microsoft SharePoint.</em></p><p><em>As always, we'll keep learning together to ensure Microsoft is the best place for you to grow and have a great career. Let's keep moving forward together.</em></p><p><em>Thank you,</em></p><p><em>Amy"</em></p><p><strong><em>Have a tip? Contact this reporter via email at </em></strong><a target="_blank" href="mailto:astewart@businessinsider.com" data-track-click="{&quot;click_type&quot;:&quot;other&quot;,&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;outbound_click&quot;}" rel=" nofollow"><strong><em><u>astewart@businessinsider.com</u></em></strong></a><strong><em> or Signal at +1-425-344-8242. Use a personal email address and a nonwork device; </em></strong><a target="_self" rel="" href="https://www.businessinsider.com/insider-guide-to-securely-sharing-whistleblower-information-about-powerful-institutions-2021-10" data-track-click="{&quot;element_name&quot;:&quot;body_link&quot;,&quot;event&quot;:&quot;tout_click&quot;,&quot;index&quot;:&quot;bi_value_unassigned&quot;,&quot;product_field&quot;:&quot;bi_value_unassigned&quot;}"><strong><em><u>here's our guide to sharing information securely</u></em></strong></a><strong><em>.</em></strong></p>
            
            
            </section>
            
            
            
            
              
            
    
    
    
    
      </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[ICE Is Using Fake Cell Towers to Spy on People's Phones (373 pts)]]></title>
            <link>https://www.forbes.com/sites/the-wiretap/2025/09/09/how-ice-is-using-fake-cell-towers-to-spy-on-peoples-phones/</link>
            <guid>45184368</guid>
            <pubDate>Tue, 09 Sep 2025 16:27:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.forbes.com/sites/the-wiretap/2025/09/09/how-ice-is-using-fake-cell-towers-to-spy-on-peoples-phones/">https://www.forbes.com/sites/the-wiretap/2025/09/09/how-ice-is-using-fake-cell-towers-to-spy-on-peoples-phones/</a>, See on <a href="https://news.ycombinator.com/item?id=45184368">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><em>This is the online edition of The Wiretap newsletter, your weekly digest of cybersecurity, internet privacy and surveillance news. To get it in your inbox, </em><a href="https://www.forbes.com/newsletter/thewiretap/#194e252376cf" target="_self" title="https://www.forbes.com/newsletter/thewiretap/#194e252376cf" data-ga-track="InternalLink:https://www.forbes.com/newsletter/thewiretap/#194e252376cf" aria-label="subscribe here"><em data-ga-track="InternalLink:https://www.forbes.com/newsletter/thewiretap/#194e252376cf">subscribe here</em></a><em>.</em></p>
<figure role="presentation"><div><p><span>ICE is using all manner of surveillance technologies in its deportation drive. (Photo by Smith Collection/Gado/Getty Images)</span></p><p><small>Getty Images</small></p></div></figure>

<p><abbr>I</abbr>t’s been some time since <strong>Immigration and Customs Enforcement (ICE)</strong> has been seen using a tool known as a Stingray, or a cell-site simulator, in its attempts to find and remove undocumented immigrants. The tool tricks a phone into thinking it’s a cell tower, and when a suspect’s device connects, the cops can trace its location. Its use is controversial because anyone in the same area as the target is at risk of having their information exposed.</p>

<p>In a recently-unsealed search warrant reviewed by <em>Forbes</em>, ICE <strong>used such a cell-site simulator in an attempt to track down an individual</strong> in Orem, Utah. The suspect had been ordered to leave the U.S. in 2023, but is believed to still be in the country. Investigators learned last month that before going to Utah, he’d escaped prison in Venezuela where he was serving a sentence for murder, according to the warrant. He’s also suspected of being linked to gang activity in the country, investigators said.</p>

<p>When the government got the target’s number, they first got a warrant to get its location. However, the trace wasn’t precise–it only told law enforcement that the target was somewhere in an area covering about 30 blocks. That led them to asking a court for a Stingray-type device to get an accurate location.</p>

<p>The warrant was issued at the end of last month and it’s not yet known if the fugitive was found.</p>
<p>But the case shows that, despite having been<a href="https://www.aclu.org/news/privacy-technology/ice-using-powerful-stingray-surveillance-devices" rel="nofollow noopener noreferrer" target="_blank" title="https://www.aclu.org/news/privacy-technology/ice-using-powerful-stingray-surveillance-devices" data-ga-track="ExternalLink:https://www.aclu.org/news/privacy-technology/ice-using-powerful-stingray-surveillance-devices" aria-label="criticized by civil rights groups"> criticized by civil rights groups</a> for using Stingrays during the last Trump administration, ICE continues to use the technology. Earlier this year, new media publication <a href="https://san.com/cc/exclusive-evidence-of-cell-phone-surveillance-detected-at-anti-ice-protest/" rel="nofollow noopener noreferrer" target="_blank" title="https://san.com/cc/exclusive-evidence-of-cell-phone-surveillance-detected-at-anti-ice-protest/" data-ga-track="ExternalLink:https://san.com/cc/exclusive-evidence-of-cell-phone-surveillance-detected-at-anti-ice-protest/" aria-label="Straight Arrow News">Straight Arrow News</a> said it had analysed “mobile network anomalies” around a Washington state protest against ICE raids that were consistent with Stingray use.</p>
<p><em>Forbes</em> found contract records showing ICE purchased nearly $1 million worth of “cell site simulator vehicles” in May this year, indicating it’s taking the surveillance tool fully mobile. That was part of a contract first signed under the Biden administration in 2024.</p>
<p>ICE also has an active contract worth up to $4.4 million with the original Stingray manufacturer, Harris Corporation, for unspecified “equipment to determine the location of targeted mobile handsets.” That deal was also signed during the Biden years.</p>
<hr>
<p><strong><em>Got a tip on surveillance or cybercrime? Get me on Signal</em></strong><em> at </em><a href="https://tel:+19295127964" rel="nofollow noopener noreferrer" target="_blank" title="https://tel:+19295127964" data-ga-track="ExternalLink:https://tel:+19295127964" aria-label="+1 929-512-7964">+1 929-512-7964</a><em>.</em></p><hr>
<h2>THE BIG STORY:</h2>
<h2>This Billionaire’s AI Was Supposed To Speed Up Policing. It’s Not Going Well.</h2><figure role="presentation"><div><p><span>Tom Siebel, chief executive officer of C3.AI, during a panel session at the World Economic Forum (WEF) in Davos, Switzerland. Photographer: Stefan Wermuth/Bloomberg</span></p><p><small>© 2025 Bloomberg Finance LP</small></p></div></figure>
<p>San Mateo County Sheriff’s Office spent <strong>$12 million on a sprawling AI surveillance system called Sherlock</strong>, designed to stitch together surveillance streams across as many as 16 different agencies in the jurisdiction.</p>
<p>Made by billionaire Tom Siebel’s C3 AI, it was supposed to drastically speed up police work, but three years into the project, cops <a href="https://www.forbes.com/sites/thomasbrewster/2025/09/04/tom-seibel-c3-ai-sherlock-was-supposed-to-turbocharge-police-investigations/" target="_self" title="https://www.forbes.com/sites/thomasbrewster/2025/09/04/tom-seibel-c3-ai-sherlock-was-supposed-to-turbocharge-police-investigations/" data-ga-track="InternalLink:https://www.forbes.com/sites/thomasbrewster/2025/09/04/tom-seibel-c3-ai-sherlock-was-supposed-to-turbocharge-police-investigations/" aria-label="tell Forbes they’re yet to see the benefits">tell <em data-ga-track="InternalLink:https://www.forbes.com/sites/thomasbrewster/2025/09/04/tom-seibel-c3-ai-sherlock-was-supposed-to-turbocharge-police-investigations/">Forbes</em> they’re yet to see the benefits</a>.</p>
<p>Per one staffer in 2023, “We’ve been working with them for two years and they have a barely functional product.” Since then, it’s unclear just how much the tech has progressed.</p>
<h2>Stories You Have To Read Today</h2>
<p>In a <a href="https://www.forbes.com/sites/thomasbrewster/2025/09/03/ai-startup-flock-thinks-it-can-eliminate-all-crime-in-america/" target="_self" title="https://www.forbes.com/sites/thomasbrewster/2025/09/03/ai-startup-flock-thinks-it-can-eliminate-all-crime-in-america/" data-ga-track="InternalLink:https://www.forbes.com/sites/thomasbrewster/2025/09/03/ai-startup-flock-thinks-it-can-eliminate-all-crime-in-america/" aria-label="Forbes profile"><em data-ga-track="InternalLink:https://www.forbes.com/sites/thomasbrewster/2025/09/03/ai-startup-flock-thinks-it-can-eliminate-all-crime-in-america/">Forbes</em> profile</a>, <strong>Flock Safety shows off its drones</strong>, car tracking and AI-powered surveillance tools, all part of an effort to dislodge police tech giant Axon from the top of the market. “I plan to go take them out,” says CEO Garrett Langley.</p>
<p>ICE <a href="https://www.forbes.com/sites/thomasbrewster/2025/09/08/ice-to-pay-10-million-for-clearview-facial-recognition-to-investigate-agent-assaults/" target="_self" title="https://www.forbes.com/sites/thomasbrewster/2025/09/08/ice-to-pay-10-million-for-clearview-facial-recognition-to-investigate-agent-assaults/" data-ga-track="InternalLink:https://www.forbes.com/sites/thomasbrewster/2025/09/08/ice-to-pay-10-million-for-clearview-facial-recognition-to-investigate-agent-assaults/" aria-label="signed a contract with facial recognition company Clearview AI">signed a contract with facial recognition company Clearview AI</a> last week, worth nearly $10 million. It’ll be used, in part, to <strong>identify people assaulting ICE officers</strong>.</p>
<p>Former <strong>WhatsApp</strong> security lead Attaullah Baig has <a href="https://www.nytimes.com/2025/09/08/technology/whatsapp-whistleblower-lawsuit.html" rel="nofollow noopener noreferrer" target="_blank" title="https://www.nytimes.com/2025/09/08/technology/whatsapp-whistleblower-lawsuit.html" data-ga-track="ExternalLink:https://www.nytimes.com/2025/09/08/technology/whatsapp-whistleblower-lawsuit.html" aria-label="filed a lawsuit">filed a lawsuit</a> alleging <strong>Meta ignored big privacy and security problems</strong> within the messaging app. He claims thousands of Meta employees were able to view WhatsApp users’ profile pictures, location, group memberships and contact lists. Meta rejected the claims saying Baig was dismissed for poor performance and that his allegations were “distorted.”</p>
<h2>Winner of the Week</h2>
<p><strong>Signal</strong> has <a href="https://signal.org/blog/introducing-secure-backups/" rel="nofollow noopener noreferrer" target="_blank" title="https://signal.org/blog/introducing-secure-backups/" data-ga-track="ExternalLink:https://signal.org/blog/introducing-secure-backups/" aria-label="launched">launched</a> encrypted <strong>backups for user chats</strong>. The feature will first be made available for Android phones, before being slowly rolled out to iPhone users. The archive requires a 64-character recovery key to access, but keep that code safe: Signal warns that if it’s lost, there’s no way to get it back.</p>
<h2>Loser of the Week</h2>
<p>Amnesty International claims that Pakistan is running one of the world’s most expansive <a href="https://www.amnesty.org/en/documents/asa33/0206/2025/en/" rel="nofollow noopener noreferrer" target="_blank" title="https://www.amnesty.org/en/documents/asa33/0206/2025/en/" data-ga-track="ExternalLink:https://www.amnesty.org/en/documents/asa33/0206/2025/en/" aria-label="domestic surveillance operations">domestic surveillance operations</a> outside of China, using both Chinese and Western technology providers, who are <strong>enabling both mass snooping</strong> via the nation’s telecoms companies as well as widespread internet censorship.</p>
<h2><strong>More On Forbes</strong></h2><p><a href="https://www.forbes.com/sites/justinbirnbaum/2025/09/09/americas-richest-sports-team-owners-2025/" target="_blank" aria-label="America’s Richest Sports Team Owners 2025" data-ga-track="forbesEmbedly:https://www.forbes.com/sites/justinbirnbaum/2025/09/09/americas-richest-sports-team-owners-2025/"><span><span>Forbes</span><span>America’s Richest Sports Team Owners 2025</span></span><span><span></span></span></a><a href="https://www.forbes.com/sites/danalexander/2025/09/09/presidency-boosts-trumps-net-worth-by-3-billion-in-a-year/" target="_blank" aria-label="Presidency Boosts Trump’s Net Worth By $3 Billion In A Year" data-ga-track="forbesEmbedly:https://www.forbes.com/sites/danalexander/2025/09/09/presidency-boosts-trumps-net-worth-by-3-billion-in-a-year/"><span><span>Forbes</span><span>Presidency Boosts Trump’s Net Worth By $3 Billion In A Year</span><small>By <span>Dan Alexander</span></small></span><span><span></span></span></a><a href="https://www.forbes.com/sites/chasewithorn/2025/09/09/the-2025-forbes-400-list-of-wealthiest-americans-facts-and-figures/" target="_blank" aria-label="The 2025 Forbes 400 List Of Wealthiest Americans: Facts And Figures" data-ga-track="forbesEmbedly:https://www.forbes.com/sites/chasewithorn/2025/09/09/the-2025-forbes-400-list-of-wealthiest-americans-facts-and-figures/"><span><span>Forbes</span><span>The 2025 Forbes 400 List Of Wealthiest Americans: Facts And Figures</span><small>By <span>Chase Peterson-Withorn</span></small></span><span><span></span></span></a></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[U.S. Added 911,000 Fewer Jobs in the Year Ended in March (142 pts)]]></title>
            <link>https://www.wsj.com/economy/jobs/us-job-growth-revision-a9777d98</link>
            <guid>45184315</guid>
            <pubDate>Tue, 09 Sep 2025 16:24:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wsj.com/economy/jobs/us-job-growth-revision-a9777d98">https://www.wsj.com/economy/jobs/us-job-growth-revision-a9777d98</a>, See on <a href="https://news.ycombinator.com/item?id=45184315">Hacker News</a></p>
Couldn't get https://www.wsj.com/economy/jobs/us-job-growth-revision-a9777d98: Error: Request failed with status code 401]]></description>
        </item>
        <item>
            <title><![CDATA[Building a DOOM-like multiplayer shooter in pure SQL (108 pts)]]></title>
            <link>https://cedardb.com/blog/doomql/</link>
            <guid>45183050</guid>
            <pubDate>Tue, 09 Sep 2025 15:12:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cedardb.com/blog/doomql/">https://cedardb.com/blog/doomql/</a>, See on <a href="https://news.ycombinator.com/item?id=45183050">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="post-hero" data-component="post-hero"><header><p><span data-anim="lines">September 8, 2025</span> <span data-anim="lines">•</span> <span data-anim="lines">12 minutes</span></p></header></section><section><h2 id="doomql-a-doom-like-multiplayer-shooter-in-pure-sql">DOOMQL: A DOOM-like multiplayer shooter in pure SQL</h2><section><p>I recently stumbled across Patrick’s excellent <a href="https://www.hey.earth/posts/duckdb-doom">DOOM clone</a> running in a browser powered by DuckDB-WASM.
Ever since I’ve read that, I wanted to push his awesome idea to the logical extreme: Build a <strong>multiplayer</strong> DOOM-like shooter <strong>entirely</strong> in SQL with CedarDB doing all the heavy lifting.
During a month of parental leave (i.e., a lot of sleepless nights), I tried exactly that.</p><p>Here’s a sneak peek at DOOMQL:</p><video controls="">
<source src="https://cedardb.com/blog/doomql/doomql.mp4" type="video/mp4">Your browser does not support the video tag.</video><p>DOOMQL in action</p><p>Okay, with the flashy demo out of the way, let’s talk about details.
What follows is a tour of the architecture, the SQL rendering pipeline, the game loop, and the fun metagame of cheating by issuing SQL commands against the database.</p></section><h2 id="why-even-do-this">Why even do this?</h2><section>Playing DuckDB DOOM in your browser is fun, but some things bugged me:
First of all, having parts of the rendering pipeline in Javascript felt like cheating. It worked well for DuckDB-Doom where everything is contained in a single HTML page, but I wanted to see if I could do everything in SQL. DuckDB-Doom is also a little bit stuttery with just 8 frames per second and has a pretty tiny viewport. I wanted to see if I could speed that up by switching over to CedarDB. I also wanted real sprites with transparency and they should move around believably in 3D space.
And most importantly, making the game multi-player should not just be possible, but easy, right? I got nerd-sniped by the perceived similarity of a database server to a traditional game server: <strong>Databases exist to synchronize shared state across clients.</strong> Thanks to transaction isolation, each player has a consistent view of the game world, no matter what the other clients are doing. Why not lean into that?
I would love to lie to you and claim I did it all to push CedarDB as an awesome database system but to be honest the database nerd in me just wanted to turn all knobs up to 11 and see what breaks.</section><h2 id="architectural-overview">Architectural overview</h2><section><p>At a high level</p><ul><li>State lives in tables (map, players, mobs, inputs, configs, sprites, …)</li><li>Rendering is a stack of SQL views that implement raycasting and sprite projection</li><li>The game loop is a tiny shell script that executes a SQL file ~ 30 times per second.</li><li>The client is ~ 150 lines of Python: It polls for input and queries the database for your 3D view.</li></ul><p>You can play, observe other players and even cheat (by sending raw SQL).</p></section><h2 id="game-state-or-lets-store-everything-in-the-database">Game state, or: Let’s store everything in the database</h2><section><p>With a database at hand, it’s natural to store all game configuration, state, and static data in the database:</p><p><strong>Config</strong>:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>CREATE</span><span> </span><span>TABLE</span><span> </span>config(<span>
</span></span></span><span><span><span>  </span>player_move_speed<span> </span><span>NUMERIC</span><span> </span><span>DEFAULT</span><span> </span><span>0</span>.<span>3</span>,<span> 
</span></span></span><span><span><span>  </span>player_turn_speed<span> </span><span>NUMERIC</span><span> </span><span>DEFAULT</span><span> </span><span>0</span>.<span>2</span>,<span>
</span></span></span><span><span><span>  </span>ammo_max<span> </span><span>INT</span><span> </span><span>DEFAULT</span><span> </span><span>10</span>,<span>
</span></span></span><span><span><span>  </span>ammo_refill_interval_seconds<span> </span><span>INT</span><span> </span><span>DEFAULT</span><span> </span><span>2</span><span>
</span></span></span><span><span><span>  </span>);<span>
</span></span></span></code></pre></div><p><strong>Map</strong>:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>CREATE</span><span> </span><span>TABLE</span><span> </span><span>map</span>(x<span> </span><span>INT</span>,<span> </span>y<span> </span><span>INT</span>,<span> </span>tile<span> </span><span>CHAR</span>);<span>
</span></span></span></code></pre></div><p><strong>Players and inputs</strong>:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>CREATE</span><span> </span><span>TABLE</span><span> </span>players<span> </span>(<span>
</span></span></span><span><span><span>  </span>id<span> </span><span>INT</span><span> </span><span>REFERENCES</span><span> </span>mobs(id),<span>
</span></span></span><span><span><span>  </span>score<span> </span><span>INT</span><span> </span><span>DEFAULT</span><span> </span><span>0</span>,<span>
</span></span></span><span><span><span>  </span>hp<span> </span><span>INT</span><span> </span><span>DEFAULT</span><span> </span><span>100</span>,<span>
</span></span></span><span><span><span>  </span>ammo<span> </span><span>INT</span><span> </span><span>DEFAULT</span><span> </span><span>10</span>,<span>
</span></span></span><span><span><span>  </span>last_ammo_refill<span> </span><span>int</span><span> </span><span>default</span><span> </span><span>EXTRACT</span>(EPOCH<span> </span><span>FROM</span><span> </span>(now()))::<span>INT</span><span>
</span></span></span><span><span><span></span>);<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>CREATE</span><span> </span><span>TABLE</span><span> </span>inputs(<span>
</span></span></span><span><span><span>  </span>player_id<span> </span><span>INT</span><span> </span><span>PRIMARY</span><span> </span><span>KEY</span><span> </span><span>REFERENCES</span><span> </span>players(id),<span>
</span></span></span><span><span><span>  </span>action<span> </span><span>CHAR</span>(<span>1</span>),<span> </span><span>-- 'w', 'a', 's', 'd', 'x' for shooting
</span></span></span><span><span><span></span><span>  </span><span>timestamp</span><span> </span><span>TIMESTAMP</span><span> </span><span>DEFAULT</span><span> </span>NOW()<span>
</span></span></span><span><span><span></span>);<span>
</span></span></span></code></pre></div><p>Because everything is data, modding a running match is trivial:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>-- Change a setting
</span></span></span><span><span><span></span><span>update</span><span> </span>config<span> </span><span>set</span><span> </span>ammo_max<span> </span><span>=</span><span> </span><span>20</span>;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span> </span><span>-- Add a player
</span></span></span><span><span><span></span><span>insert</span><span> </span><span>into</span><span> </span>players<span> </span><span>values</span><span> </span>(...);<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- Move forward
</span></span></span><span><span><span></span><span>update</span><span> </span><span>input</span><span> </span><span>set</span><span> </span>action<span> </span><span>=</span><span> </span><span>'w'</span><span> </span><span>where</span><span> </span>player_id<span> </span><span>=</span><span> </span><span>&lt;</span>your_id<span>&gt;</span>;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span> </span><span>-- Cheat (pls be smarter about it)
</span></span></span><span><span><span></span><span>update</span><span> </span>players<span> </span><span>set</span><span> </span>hp<span> </span><span>=</span><span> </span><span>100000</span><span> </span><span>where</span><span> </span>player_id<span> </span><span>=</span><span> </span><span>&lt;</span>your_id<span>&gt;</span>;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- Ban cheaters (that weren't smart about it)
</span></span></span><span><span><span></span><span>delete</span><span> </span><span>from</span><span> </span>players<span> </span><span>where</span><span> </span>hp<span> </span><span>&gt;</span><span> </span><span>100</span>;<span>
</span></span></span></code></pre></div></section><h2 id="renderer-when-a-view-becomes-your-3d-view">Renderer: When a <code>VIEW</code> becomes your 3D view</h2><section><p>If you squint enough, in DOOM, a 3D (or more correct: 2.5D) view is just a <em>view over 2D state</em> (i.e., the level map and any players/enemies on it).
Well, we’ve got <code>VIEWS</code> in SQL as well. They’re also just views on our (2D) state tables.
What’s stopping us from quite <em>literally</em> building a 3D “view” of our 2D map
using a simple raycasting algorithm?</p><p>The pipeline:</p><ol><li>Send a set of rays from each player’s eye into the world, and see which map tiles are visible</li><li>Check which walls the player sees, rendering them at the correct height and more or less solid based on the distance</li><li>Project mobs into the player’s camera space</li><li>Select sprite LODs based on depth</li><li>Expand sprites into pixels, scaled to screen space</li><li>Occlude against walls and other sprites</li><li>Assemble frame buffer rows with <code>string_agg</code></li><li>Build a minimap reusing the visible tiles calculation from earlier</li><li>Combine the 3D view with minimap and HUD (HP/bullets/players) into a game view</li></ol><p>Let’s take a more in-depth look at steps 2, 7, and 8.</p></section><h3 id="raycasting">Raycasting</h3><section><p>The recursive ray‑marching logic is adapted from <a href="https://www.hey.earth/posts/duckdb-doom">Patrick’s DuckDB DOOM post</a>. Here is a simplified excerpt, adapted for multiplayer:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>CREATE</span><span> </span><span>OR</span><span> </span><span>REPLACE</span><span> </span><span>VIEW</span><span> </span>visible_tiles<span> </span><span>AS</span><span>  
</span></span></span><span><span><span></span><span>WITH</span><span> </span><span>RECURSIVE</span><span> </span>raytrace<span> </span><span>AS</span><span> </span>(<span>  
</span></span></span><span><span><span>  </span><span>-- Starting at the player's eye ...
</span></span></span><span><span><span></span><span>  </span><span>SELECT</span><span> </span>r.player_id,<span> </span>r.col,<span> </span><span>1</span><span> </span><span>AS</span><span> </span>step_count,<span>  
</span></span></span><span><span><span>         </span>r.player_x<span> </span><span>+</span><span> </span>COS(r.angle)<span>*</span>s.step<span> </span><span>AS</span><span> </span>fx,<span>  
</span></span></span><span><span><span>         </span>r.player_y<span> </span><span>+</span><span> </span>SIN(r.angle)<span>*</span>s.step<span> </span><span>AS</span><span> </span>fy,<span>  
</span></span></span><span><span><span>         </span>r.angle,<span> </span><span>0</span><span> </span><span>AS</span><span> </span>dist<span>  
</span></span></span><span><span><span>  </span><span>FROM</span><span> </span>rays<span> </span>r,<span> </span>settings<span> </span>s<span>  </span><span>-- rays are built in an earlier step
</span></span></span><span><span><span></span><span>  </span><span>UNION</span><span> </span><span>ALL</span><span>  
</span></span></span><span><span><span>  </span><span>-- ... we recursively march along the rays, 1 "step" at a time ...
</span></span></span><span><span><span></span><span>  </span><span>SELECT</span><span> </span>rt.player_id,<span> </span>rt.col,<span> </span>rt.step_count<span> </span><span>+</span><span> </span><span>1</span>,<span>  
</span></span></span><span><span><span>         </span>rt.fx<span> </span><span>+</span><span> </span>COS(rt.angle)<span>*</span>s.step,<span>  
</span></span></span><span><span><span>         </span>rt.fy<span> </span><span>+</span><span> </span>SIN(rt.angle)<span>*</span>s.step,<span>  
</span></span></span><span><span><span>         </span>rt.angle,<span>  
</span></span></span><span><span><span>         </span>step_count<span> </span><span>*</span><span> </span>s.step<span> </span><span>*</span><span> </span>COS(rt.angle<span> </span><span>-</span><span> </span>m.dir)<span> </span><span>AS</span><span> </span>dist<span>  
</span></span></span><span><span><span>  </span><span>FROM</span><span> </span>raytrace<span> </span>rt,<span> </span>settings<span> </span>s,<span> </span>players<span> </span>p,<span> </span>mobs<span> </span>m<span>  
</span></span></span><span><span><span>  </span><span>WHERE</span><span> </span>rt.step_count<span> </span><span>&lt;</span><span> </span>s.max_steps<span>   </span><span>-- ... stopping after our max render distance
</span></span></span><span><span><span></span><span>    </span><span>AND</span><span> </span>rt.player_id<span> </span><span>=</span><span> </span>p.id<span>  
</span></span></span><span><span><span>    </span><span>AND</span><span> </span>m.id<span> </span><span>=</span><span> </span>p.id<span>  
</span></span></span><span><span><span>    </span><span>AND</span><span> </span><span>NOT</span><span> </span><span>EXISTS</span><span> </span>(<span>  </span><span>-- or if we hit a wall
</span></span></span><span><span><span></span><span>      </span><span>SELECT</span><span> </span><span>1</span><span> </span><span>FROM</span><span> </span><span>map</span><span> </span>m<span>  
</span></span></span><span><span><span>      </span><span>WHERE</span><span> </span>m.x<span> </span><span>=</span><span> </span><span>CAST</span>(rt.fx<span> </span><span>AS</span><span> </span><span>INT</span>)<span> </span><span>AND</span><span> </span>m.y<span> </span><span>=</span><span> </span><span>CAST</span>(rt.fy<span> </span><span>AS</span><span> </span><span>INT</span>)<span>  
</span></span></span><span><span><span>        </span><span>AND</span><span> </span>m.tile<span> </span><span>=</span><span> </span><span>'#'</span>)<span>  </span><span>-- wall
</span></span></span><span><span><span></span>)<span>  
</span></span></span><span><span><span></span><span>-- We then determine per player:
</span></span></span><span><span><span>--  a) which tiles we hit
</span></span></span><span><span><span>--  b) how far away these tiles are
</span></span></span><span><span><span>--  c) the column of the screen each tile should correspond to
</span></span></span><span><span><span></span><span>SELECT</span><span> </span>player_id,<span> </span>tile,<span> </span><span>CAST</span>(fx<span> </span><span>AS</span><span> </span><span>INT</span>)<span> </span><span>AS</span><span> </span>tile_x,<span> </span><span>CAST</span>(fy<span> </span><span>AS</span><span> </span><span>INT</span>)<span> </span><span>AS</span><span> </span>tile_y,<span> </span>col,<span> </span><span>MIN</span>(dist)<span> </span><span>AS</span><span> </span>dist<span>  
</span></span></span><span><span><span></span><span>FROM</span><span> </span>raytrace<span> </span>rt,<span> </span><span>map</span><span> </span>m<span>  
</span></span></span><span><span><span></span><span>WHERE</span><span> </span>m.x<span> </span><span>=</span><span> </span><span>CAST</span>(rt.fx<span> </span><span>AS</span><span> </span><span>INT</span>)<span> </span><span>AND</span><span> </span>m.y<span> </span><span>=</span><span> </span><span>CAST</span>(rt.fy<span> </span><span>AS</span><span> </span><span>INT</span>)<span>  </span><span>-- We might hit the same tile multiple times, so we take the closest hit
</span></span></span><span><span><span></span><span>GROUP</span><span> </span><span>BY</span><span> </span>player_id,<span> </span>tile_x,<span> </span>tile_y,<span> </span>tile,<span> </span>col;<span>  
</span></span></span></code></pre></div><p>And that’s just the <em>first</em> step in the pipeline. For the rest, take a look at <a href="https://github.com/cedardb/DOOMQL/blob/main/renderer.sql">the code</a>.</p></section><h3 id="final-frame-assembly">Final frame assembly</h3><section><p>After all the heavy lifting, the payoff is surprisingly simple:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>SELECT</span><span> </span>player_id,<span> </span>y,<span> </span>string_agg(ch,<span> </span><span>''</span><span> </span><span>ORDER</span><span> </span><span>BY</span><span> </span>x)<span> </span><span>AS</span><span> </span><span>row</span><span>  
</span></span></span><span><span><span></span><span>FROM</span><span> </span>framebuffer<span>  
</span></span></span><span><span><span></span><span>GROUP</span><span> </span><span>BY</span><span> </span>player_id,<span> </span>y;<span>  
</span></span></span></code></pre></div><p>This glues together character pixels into text rows.</p></section><h3 id="hud--minimap">HUD + minimap</h3><section><p>The same trick builds the HUD and minimap. Here is the health bar:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>'HP: ['</span><span> </span><span>||</span><span>
</span></span></span><span><span><span></span>repeat(<span>'█'</span>,<span> </span>LEAST(<span>20</span>,<span> </span>ROUND(<span>20</span><span> </span><span>*</span><span> </span>GREATEST(<span>0</span>,<span> </span>LEAST(p.hp,<span>100</span>))::<span>numeric</span><span> </span><span>/</span><span> </span><span>100</span>)::<span>int</span>))<span> </span><span>||</span><span>
</span></span></span><span><span><span></span>repeat(<span>' '</span>,<span> </span>GREATEST(<span>0</span>,<span> </span><span>20</span><span> </span><span>-</span><span> </span>ROUND(<span>20</span><span> </span><span>*</span><span> </span>GREATEST(<span>0</span>,<span> </span>LEAST(p.hp,<span>100</span>))::<span>numeric</span><span> </span><span>/</span><span> </span><span>100</span>)::<span>int</span>))<span> </span><span>||</span><span>
</span></span></span><span><span><span></span><span>'] '</span><span> </span><span>||</span><span> </span>GREATEST(<span>0</span>,<span> </span>p.hp)<span>
</span></span></span></code></pre></div><p>Add ammo dots with <code>repeat('•', p.ammo)</code> and you’ve got a HUD entirely in SQL:</p><pre tabindex="0"><code> 1: Lukas      (L) score: 1   HP: [█████████           ] 50    AMMO: ••••••••••
 2: Foobar     (F) score: 0   HP: [████████████████████] 100   AMMO: ••••••••  
</code></pre><p>We can also re-use our earlier <code>visible_tiles</code> view to build a minimap with a view cone:</p><pre tabindex="0"><code>select * from minimap where player_id = 1 order by y;

 player_id | y  |                               row                                
-----------+----+------------------------------------------------------------------
         1 |  0 | ################################################################
         1 |  1 | ################################################################
         1 |  2 | ##.......      #####               #############################
         1 |  3 | ##.....F.      #####               #####                     ###
         1 |  4 | ##.......      #####               #####                     ###
         1 |  5 | ##  .....      #####               #####                     ###
         1 |  6 | ##   ...                                                     ###
         1 |  7 | ##    .L                                                     ###
         1 |  8 | ##             #####               #####                     ###
         1 |  9 | ##             #####               #####                     ###
         1 | 10 | ##             #############  ##########                     ###
         1 | 11 | ##########  ################  ##########                     ###
         1 | 12 | ##########  ################  ##########                     ###
         1 | 13 | ##########  ################  ######################  ##########
         1 | 14 | ####                 #######  ######################  ##########
         1 | 15 | ####                 #######  ######################  ##########
         1 | 16 | ####                 #####             #####                 ###
         1 | 17 | ####                 #####             #####                 ###
         1 | 18 | ####                 #####             #####                 ###
         1 | 19 | ####                 #####             #####                 ###
         1 | 20 | ####                 #####             #####                 ###
         1 | 21 | ####                                   #####                 ###
         1 | 22 | ####                                                         ###
         1 | 23 | ####                 #####                                   ###
         1 | 24 | ####                 #####             #####                 ###
         1 | 25 | ####                 #####             #####                 ###
         1 | 26 | ####                 #####             #####                 ###
         1 | 27 | ####                 #####             #####                 ###
         1 | 28 | ####                 #####             #####                 ###
         1 | 29 | ################################################################
         1 | 30 | ################################################################
         1 | 31 | ################################################################
</code></pre></section><h2 id="the-surprisingly-elegant-game-loop">The surprisingly elegant game loop</h2><section><p>The loop is just a shell script running raw SQL against the database:</p><div><pre tabindex="0"><code data-lang="sh"><span><span><span># Game loop @ 30 ticks per second</span>
</span></span><span><span><span>while</span> true; <span>do</span>
</span></span><span><span>  psql -qtAX -U <span>"</span><span>$DB_USER</span><span>"</span> -d <span>"</span><span>$DB_NAME</span><span>"</span> -h <span>"</span><span>$DB_HOST</span><span>"</span> -p <span>"</span><span>$DB_PORT</span><span>"</span> -f gameloop.sql
</span></span><span><span>  sleep 0.03
</span></span><span><span><span>done</span>
</span></span></code></pre></div><p>Inside <code>gameloop.sql</code>, actions like bullet movement, collisions, kills, and respawns run in a single transaction, which keeps state consistent even if something fails mid-tick.</p><p>Here’s the part processing interactions with bullets:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>-- Process all bullets
</span></span></span><span><span><span></span><span>BEGIN</span><span> </span><span>TRANSACTION</span>;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- Move bullets forward
</span></span></span><span><span><span></span><span>UPDATE</span><span> </span>mobs<span> 
</span></span></span><span><span><span></span><span>SET</span><span> </span>x<span> </span><span>=</span><span> </span>x<span> </span><span>+</span><span> </span>cos(dir)<span> </span><span>*</span><span> </span><span>0</span>.<span>5</span>,<span> </span>y<span> </span><span>=</span><span> </span>y<span> </span><span>+</span><span> </span>sin(dir)<span> </span><span>*</span><span> </span><span>0</span>.<span>5</span><span> 
</span></span></span><span><span><span></span><span>WHERE</span><span> </span>kind<span> </span><span>=</span><span> </span><span>'bullet'</span>;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- Delete bullets that are out of bounds
</span></span></span><span><span><span></span><span>DELETE</span><span> </span><span>FROM</span><span> </span>mobs<span> 
</span></span></span><span><span><span></span><span>WHERE</span><span> </span>(x<span> </span><span>&lt;</span><span> </span><span>0</span><span> 
</span></span></span><span><span><span></span><span>OR</span><span> </span>x<span> </span><span>&gt;=</span><span> </span>(<span>select</span><span> </span><span>max</span>(x)<span> </span><span>from</span><span> </span><span>map</span>)<span> 
</span></span></span><span><span><span></span><span>OR</span><span> </span>y<span> </span><span>&lt;</span><span> </span><span>0</span><span> 
</span></span></span><span><span><span></span><span>OR</span><span> </span>y<span> </span><span>&gt;=</span><span> </span>(<span>select</span><span> </span><span>max</span>(y)<span> </span><span>from</span><span> </span><span>map</span>))<span>
</span></span></span><span><span><span></span><span>AND</span><span> </span>kind<span> </span><span>=</span><span> </span><span>'bullet'</span>;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- Delete bullets that hit walls
</span></span></span><span><span><span></span><span>DELETE</span><span> </span><span>FROM</span><span> </span>mobs<span> </span>b<span> 
</span></span></span><span><span><span></span><span>WHERE</span><span> </span><span>EXISTS</span><span> 
</span></span></span><span><span><span>    </span>(<span>SELECT</span><span> </span><span>1</span><span> 
</span></span></span><span><span><span>    </span><span>FROM</span><span> </span><span>map</span><span> </span>m<span> 
</span></span></span><span><span><span>    </span><span>WHERE</span><span> </span>m.x<span> </span><span>=</span><span> </span><span>CAST</span>(b.x<span> </span><span>AS</span><span> </span><span>INT</span>)<span> 
</span></span></span><span><span><span>    </span><span>AND</span><span> </span>m.y<span> </span><span>=</span><span> </span><span>CAST</span>(b.y<span> </span><span>AS</span><span> </span><span>INT</span>)<span> 
</span></span></span><span><span><span>    </span><span>AND</span><span> </span>m.tile<span> </span><span>=</span><span> </span><span>'#'</span>)<span> 
</span></span></span><span><span><span></span><span>AND</span><span> </span>kind<span> </span><span>=</span><span> </span><span>'bullet'</span>;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- Players hit by a bullet loses 50 HP
</span></span></span><span><span><span></span><span>UPDATE</span><span> </span>players<span> </span>p<span> </span><span>SET</span><span> </span>hp<span> </span><span>=</span><span> </span>hp<span> </span><span>-</span><span> </span><span>50</span><span>
</span></span></span><span><span><span></span><span>FROM</span><span> </span>collisions<span> </span><span>c</span><span>
</span></span></span><span><span><span></span><span>WHERE</span><span> </span>p.id<span> </span><span>=</span><span> </span><span>c</span>.player_id;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- If a player has 0 or less HP, the player killing them gets a point
</span></span></span><span><span><span></span><span>UPDATE</span><span> </span>players<span> </span>p<span> </span><span>SET</span><span> </span>score<span> </span><span>=</span><span> </span>score<span> </span><span>+</span><span> </span><span>1</span><span>
</span></span></span><span><span><span></span><span>FROM</span><span> </span>collisions<span> </span><span>c</span><span>
</span></span></span><span><span><span></span><span>WHERE</span><span> </span>p.id<span> </span><span>=</span><span> </span><span>c</span>.bullet_owner<span>
</span></span></span><span><span><span></span><span>AND</span><span> </span><span>EXISTS</span><span> </span>(<span>SELECT</span><span> </span><span>1</span><span> </span><span>FROM</span><span> </span>players<span> </span>p2<span> </span><span>WHERE</span><span> </span>p2.id<span> </span><span>=</span><span> </span><span>c</span>.player_id<span> </span><span>AND</span><span> </span>p2.hp<span> </span><span>&lt;=</span><span> </span><span>0</span>);<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- Delete bullets that hit players
</span></span></span><span><span><span></span><span>DELETE</span><span> </span><span>FROM</span><span> </span>mobs<span> </span>m<span>
</span></span></span><span><span><span></span><span>USING</span><span> </span>collisions<span> </span><span>c</span><span>
</span></span></span><span><span><span></span><span>WHERE</span><span> </span>m.id<span> </span><span>=</span><span> </span><span>c</span>.bullet_id;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- Respawn players whose HP is 0 or less
</span></span></span><span><span><span></span><span>UPDATE</span><span> </span>mobs<span> </span>m<span>
</span></span></span><span><span><span></span><span>SET</span><span> </span>x<span> </span><span>=</span><span> </span>r.x,<span> </span>y<span> </span><span>=</span><span> </span>r.y,<span> </span>dir<span> </span><span>=</span><span> </span><span>0</span><span>
</span></span></span><span><span><span></span><span>FROM</span><span> </span>players<span> </span>p<span>
</span></span></span><span><span><span></span><span>CROSS</span><span> </span><span>JOIN</span><span> </span>(<span>
</span></span></span><span><span><span>  </span><span>SELECT</span><span> </span>x,<span> </span>y<span>
</span></span></span><span><span><span>  </span><span>FROM</span><span> </span><span>map</span><span>
</span></span></span><span><span><span>  </span><span>WHERE</span><span> </span>tile<span> </span><span>=</span><span> </span><span>'R'</span><span>
</span></span></span><span><span><span>  </span><span>ORDER</span><span> </span><span>BY</span><span> </span>random()<span>
</span></span></span><span><span><span>  </span><span>LIMIT</span><span> </span><span>1</span><span>
</span></span></span><span><span><span></span>)<span> </span><span>AS</span><span> </span>r<span>
</span></span></span><span><span><span></span><span>WHERE</span><span> </span>m.id<span> </span><span>=</span><span> </span>p.id<span>
</span></span></span><span><span><span>  </span><span>AND</span><span> </span>p.hp<span> </span><span>&lt;=</span><span> </span><span>0</span>;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>-- Reset players' HP to 100 and ammo to 10 after respawn
</span></span></span><span><span><span></span><span>UPDATE</span><span> </span>players<span> </span>p<span> </span><span>SET</span><span>
</span></span></span><span><span><span>  </span>hp<span> </span><span>=</span><span> </span><span>100</span>,<span>
</span></span></span><span><span><span>  </span>ammo<span> </span><span>=</span><span> </span><span>10</span><span>
</span></span></span><span><span><span></span><span>FROM</span><span> </span>mobs<span> </span>m<span>
</span></span></span><span><span><span></span><span>WHERE</span><span> </span>p.id<span> </span><span>=</span><span> </span>m.id<span>
</span></span></span><span><span><span></span><span>AND</span><span> </span>p.hp<span> </span><span>&lt;=</span><span> </span><span>0</span>;<span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>COMMIT</span>;<span>
</span></span></span></code></pre></div><p>On my machine, the game loop takes about 1 ms, so we could defintely improve the tick rate.
That might be a way to get the Counterstrike snobs who scoff at everything below 128 Hz.
It would require some refactoring on my part since I tied the movement speed to the game loop - a big no no in game design!</p><p>While only someone insane could think a pure SQL raycasting renderer is a good idea in an actual game, I’ll happily defend this transactional game loop.
I don’t think this part would be much more concise or less brittle in a real game engine.</p></section><h2 id="make-it-multiplayer-in-two-queries">Make it multiplayer in two queries</h2><section><p>The game client’s job description is simple:</p><ol><li>Render</li></ol><div><pre tabindex="0"><code data-lang="sql"><span><span><span>SELECT</span><span> </span>full_row<span> </span><span>FROM</span><span> </span>screen<span> </span><span>WHERE</span><span> </span>player_id<span> </span><span>=</span><span> </span><span>&lt;</span>your_id<span>&gt;</span><span> </span><span>ORDER</span><span> </span><span>BY</span><span> </span>y<span>
</span></span></span></code></pre></div><ol start="2"><li>Send input</li></ol><div><pre tabindex="0"><code data-lang="sql"><span><span><span>INSERT</span><span> </span><span>INTO</span><span> </span>inputs(player_id,<span> </span>action)<span>
</span></span></span><span><span><span>    </span><span>VALUES</span><span> </span>(<span>&lt;</span>your_id<span>&gt;</span>,<span> </span><span>&lt;</span>pressed_key<span>&gt;</span>)<span>
</span></span></span><span><span><span>    </span><span>ON</span><span> </span>CONFLICT(player_id)<span>
</span></span></span><span><span><span>    </span><span>DO</span><span> </span><span>UPDATE</span><span> </span><span>SET</span><span> </span>action<span> </span><span>=</span><span> </span>EXCLUDED.action<span>
</span></span></span></code></pre></div><p>The game loop periodically checks the input table and moves all players accordingly - inside a transaction, of course, so we don’t run into any race conditions.</p><p>That’s it (well, plus a one-time “create player” on first connect). The ~150 lines of Python in the client mostly handle keyboard input and reducing terminal flicker.
Bonus: The client provides an observer mode. All it has to do is swap the <code>&lt;player_id&gt;</code> in the render call.</p></section><h2 id="performance">Performance</h2><section><p>At 128 x 64 pixels, a single player view takes ~33 ms on my machine, which is <strong>enough for a breezy ~30 FPS</strong>, compared to DuckDB DOOM’s 8 FPS at just 32 x 16 pixels.
I’m actually quite proud of that performance and quite happy with CedarDB here.
I don’t think any other database system can keep up with that.
Let me know if you find one!</p><p>You might worry that rendering the views of all players and filtering late would be very wasteful.
CedarDB’s query optimizer pushes the <code>where player_id = &lt;...&gt;</code> predicate through view boundaries, avoiding unncessary work.
You can easily check by running:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>select</span><span> </span><span>*</span><span> </span><span>from</span><span> </span>screen<span> </span><span>order</span><span> </span><span>by</span><span> </span>y;<span> </span><span>-- render both users
</span></span></span><span><span><span>-- Time: 57,907 ms (~2x single player 33ms)
</span></span></span></code></pre></div></section><section><p>Because clients send raw SQL as superusers (I didn’t bother setting up any role based access control or row level security, don’t do that!), there’s an <strong>emergent metagame: Cheat creatively and try not to get caught</strong>.</p><p>Low effort:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>update</span><span> </span>players<span> </span><span>set</span><span> </span>score<span> </span><span>=</span><span> </span><span>0</span><span> </span><span>where</span><span> </span>id<span> </span><span>!=</span><span> </span><span>&lt;</span>your_id<span>&gt;</span>;<span>
</span></span></span><span><span><span></span><span>update</span><span> </span>players<span> </span><span>set</span><span> </span>hp<span> </span><span>=</span><span> </span><span>0</span><span> </span><span>where</span><span> </span>id<span> </span><span>!=</span><span> </span><span>&lt;</span>your_id<span>&gt;</span>;<span>
</span></span></span></code></pre></div><p>Mischievous:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>update</span><span> </span>inputs<span> </span><span>set</span><span> </span>action<span> </span><span>=</span><span> </span><span>null</span><span> </span><span>where</span><span> </span>player_id<span> </span><span>!=</span><span> </span><span>&lt;</span>your_id<span>&gt;</span>;<span>
</span></span></span></code></pre></div><p>Steal kills:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>update</span><span> </span>mobs<span> </span><span>set</span><span> </span><span>owner</span><span> </span><span>=</span><span> </span><span>&lt;</span>your_id<span>&gt;</span><span> </span><span>where</span><span> </span>kind<span> </span><span>=</span><span> </span><span>'bullet'</span>;<span>
</span></span></span></code></pre></div><p>Attempted but didn’t work:</p><div><pre tabindex="0"><code data-lang="sql"><span><span><span>DELETE</span><span> </span><span>FROM</span><span> </span>mobs<span> </span>m<span>
</span></span></span><span><span><span></span><span>USING</span><span> </span>collisions<span> </span><span>c</span><span>
</span></span></span><span><span><span></span><span>WHERE</span><span> </span>m.id<span> </span><span>=</span><span> </span><span>c</span>.bullet_id<span> </span><span>AND</span><span> </span><span>c</span>.player_id<span> </span><span>=</span><span> </span><span>&lt;</span>your_id<span>&gt;</span>;<span>
</span></span></span></code></pre></div><p>This doesn’t work because moving bullets, checking for collisions, and respawn happens in the same transaction.
As transactions are atomic, you either see everything being applied at once, or nothing. By the time you see the hit, you’re already dead.
A property that’s very useful for database systems (and not just to prevent cheating).</p></section><h2 id="what-i-learned">What I learned</h2><section><p>I set out to see if I could push Patrick’s demo to an extreme: Doing the entire rendering pipeline in SQL.
And while it works, I have to admit that it is a pretty… bad idea? Fast enough, but horrible to maintain and debug.</p><p>The surprise was how <em>natural</em> it felt to express game state and logic in SQL.
It even felt like accidentally re-invented the <a href="https://en.wikipedia.org/wiki/Entity_component_system">entity-component-system</a> pattern.<br>And multiplayer “just worked” because the database system which handles all the nasty concurrency is the source of truth.</p></section><h2 id="try-it-yourself">Try it yourself!</h2><section><p>All the code is on Github: <a href="https://github.com/cedardb/DOOMQL">DOOMQL Repo</a></p><p>Run:</p><div><pre tabindex="0"><code data-lang="sh"><span><span>docker pull cedardb/cedardb:latest
</span></span><span><span>docker run --rm -p 5432:5432 -e <span>CEDAR_PASSWORD</span><span>=</span>postgres --detach cedardb/cedardb:latest
</span></span><span><span><span># Wait a few seconds for CedarDB to start</span>
</span></span><span><span>./server.sh
</span></span><span><span>
</span></span><span><span><span># in a second terminal window, zoom way out to have no line wraping issues</span>
</span></span><span><span>python3 pyclient.py
</span></span></code></pre></div><p>Want to discuss DOOMQL with me or find like-minded database nerds? <a href="https://bonsai.cedardb.com/slack">Join our Community Slack</a></p></section></section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[X open sourced their latest algorithm (218 pts)]]></title>
            <link>https://github.com/twitter/the-algorithm</link>
            <guid>45183039</guid>
            <pubDate>Tue, 09 Sep 2025 15:11:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/twitter/the-algorithm">https://github.com/twitter/the-algorithm</a>, See on <a href="https://news.ycombinator.com/item?id=45183039">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">X's Recommendation Algorithm</h2><a id="user-content-xs-recommendation-algorithm" aria-label="Permalink: X's Recommendation Algorithm" href="#xs-recommendation-algorithm"></a></p>
<p dir="auto">X's Recommendation Algorithm is a set of services and jobs that are responsible for serving feeds of posts and other content across all X product surfaces (e.g. For You Timeline, Search, Explore, Notifications). For an introduction to how the algorithm works, please refer to our <a href="https://blog.x.com/engineering/en_us/topics/open-source/2023/twitter-recommendation-algorithm" rel="nofollow">engineering blog</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Architecture</h2><a id="user-content-architecture" aria-label="Permalink: Architecture" href="#architecture"></a></p>
<p dir="auto">Product surfaces at X are built on a shared set of data, models, and software frameworks. The shared components included in this repository are listed below:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Type</th>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data</td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/tweetypie/server/README.md">tweetypie</a></td>
<td>Core service that handles the reading and writing of post data.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/unified_user_actions/README.md">unified-user-actions</a></td>
<td>Real-time stream of user actions on X.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/user-signal-service/README.md">user-signal-service</a></td>
<td>Centralized platform to retrieve explicit (e.g. likes, replies) and implicit (e.g. profile visits, tweet clicks) user signals.</td>
</tr>
<tr>
<td>Model</td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/src/scala/com/twitter/simclusters_v2/README.md">SimClusters</a></td>
<td>Community detection and sparse embeddings into those communities.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm-ml/blob/main/projects/twhin/README.md">TwHIN</a></td>
<td>Dense knowledge graph embeddings for Users and Posts.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/trust_and_safety_models/README.md">trust-and-safety-models</a></td>
<td>Models for detecting NSFW or abusive content.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/src/scala/com/twitter/interaction_graph/README.md">real-graph</a></td>
<td>Model to predict the likelihood of an X User interacting with another User.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/src/scala/com/twitter/graph/batch/job/tweepcred/README">tweepcred</a></td>
<td>Page-Rank algorithm for calculating X User reputation.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/recos-injector/README.md">recos-injector</a></td>
<td>Streaming event processor for building input streams for <a href="https://github.com/twitter/GraphJet">GraphJet</a> based services.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/graph-feature-service/README.md">graph-feature-service</a></td>
<td>Serves graph features for a directed pair of users (e.g. how many of User A's following liked posts from User B).</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/topic-social-proof/README.md">topic-social-proof</a></td>
<td>Identifies topics related to individual posts.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/representation-scorer/README.md">representation-scorer</a></td>
<td>Compute scores between pairs of entities (Users, Posts, etc.) using embedding similarity.</td>
</tr>
<tr>
<td>Software framework</td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/navi/README.md">navi</a></td>
<td>High performance, machine learning model serving written in Rust.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/product-mixer/README.md">product-mixer</a></td>
<td>Software framework for building feeds of content.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/timelines/data_processing/ml_util/aggregation_framework/README.md">timelines-aggregation-framework</a></td>
<td>Framework for generating aggregate features in batch or real time.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/representation-manager/README.md">representation-manager</a></td>
<td>Service to retrieve embeddings (i.e. SimClusers and TwHIN).</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/twml/README.md">twml</a></td>
<td>Legacy machine learning framework built on TensorFlow v1.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">The product surfaces currently included in this repository are the For You Timeline and Recommended Notifications.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">For You Timeline</h3><a id="user-content-for-you-timeline" aria-label="Permalink: For You Timeline" href="#for-you-timeline"></a></p>
<p dir="auto">The diagram below illustrates how major services and jobs interconnect to construct a For You Timeline.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/twitter/the-algorithm/blob/main/docs/system-diagram.png"><img src="https://github.com/twitter/the-algorithm/raw/main/docs/system-diagram.png" alt=""></a></p>
<p dir="auto">The core components of the For You Timeline included in this repository are listed below:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Type</th>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Candidate Source</td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/src/java/com/twitter/search/README.md">search-index</a></td>
<td>Find and rank In-Network posts. ~50% of posts come from this candidate source.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/tweet-mixer">tweet-mixer</a></td>
<td>Coordination layer for fetching Out-of-Network tweet candidates from underlying compute services.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/src/scala/com/twitter/recos/user_tweet_entity_graph/README.md">user-tweet-entity-graph</a> (UTEG)</td>
<td>Maintains an in memory User to Post interaction graph, and finds candidates based on traversals of this graph. This is built on the <a href="https://github.com/twitter/GraphJet">GraphJet</a> framework. Several other GraphJet based features and candidate sources are located <a href="https://github.com/twitter/the-algorithm/blob/main/src/scala/com/twitter/recos">here</a>.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/follow-recommendations-service/README.md">follow-recommendation-service</a> (FRS)</td>
<td>Provides Users with recommendations for accounts to follow, and posts from those accounts.</td>
</tr>
<tr>
<td>Ranking</td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/src/python/twitter/deepbird/projects/timelines/scripts/models/earlybird/README.md">light-ranker</a></td>
<td>Light Ranker model used by search index (Earlybird) to rank posts.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm-ml/blob/main/projects/home/recap/README.md">heavy-ranker</a></td>
<td>Neural network for ranking candidate posts. One of the main signals used to select timeline posts post candidate sourcing.</td>
</tr>
<tr>
<td>Post mixing &amp; filtering</td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/home-mixer/README.md">home-mixer</a></td>
<td>Main service used to construct and serve the Home Timeline. Built on <a href="https://github.com/twitter/the-algorithm/blob/main/product-mixer/README.md">product-mixer</a>.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/visibilitylib/README.md">visibility-filters</a></td>
<td>Responsible for filtering X content to support legal compliance, improve product quality, increase user trust, protect revenue through the use of hard-filtering, visible product treatments, and coarse-grained downranking.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/timelineranker/README.md">timelineranker</a></td>
<td>Legacy service which provides relevance-scored posts from the Earlybird Search Index and UTEG service.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h3 tabindex="-1" dir="auto">Recommended Notifications</h3><a id="user-content-recommended-notifications" aria-label="Permalink: Recommended Notifications" href="#recommended-notifications"></a></p>
<p dir="auto">The core components of Recommended Notifications included in this repository are listed below:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Type</th>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Service</td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/pushservice/README.md">pushservice</a></td>
<td>Main recommendation service at X used to surface recommendations to our users via notifications.</td>
</tr>
<tr>
<td>Ranking</td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/pushservice/src/main/python/models/light_ranking/README.md">pushservice-light-ranker</a></td>
<td>Light Ranker model used by pushservice to rank posts. Bridges candidate generation and heavy ranking by pre-selecting highly-relevant candidates from the initial huge candidate pool.</td>
</tr>
<tr>
<td></td>
<td><a href="https://github.com/twitter/the-algorithm/blob/main/pushservice/src/main/python/models/heavy_ranking/README.md">pushservice-heavy-ranker</a></td>
<td>Multi-task learning model to predict the probabilities that the target users will open and engage with the sent notifications.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h2 tabindex="-1" dir="auto">Build and test code</h2><a id="user-content-build-and-test-code" aria-label="Permalink: Build and test code" href="#build-and-test-code"></a></p>
<p dir="auto">We include Bazel BUILD files for most components, but not a top-level BUILD or WORKSPACE file. We plan to add a more complete build and test system in the future.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contributing</h2><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto">We invite the community to submit GitHub issues and pull requests for suggestions on improving the recommendation algorithm. We are working on tools to manage these suggestions and sync changes to our internal repository. Any security concerns or issues should be routed to our official <a href="https://hackerone.com/x" rel="nofollow">bug bounty program</a> through HackerOne. We hope to benefit from the collective intelligence and expertise of the global community in helping us identify issues and suggest improvements, ultimately leading to a better X.</p>
<p dir="auto">Read our blog on the open source initiative <a href="https://blog.x.com/en_us/topics/company/2023/a-new-era-of-transparency-for-twitter" rel="nofollow">here</a>.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[We all dodged a bullet (462 pts)]]></title>
            <link>https://xeiaso.net/notes/2025/we-dodged-a-bullet/</link>
            <guid>45183029</guid>
            <pubDate>Tue, 09 Sep 2025 15:11:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://xeiaso.net/notes/2025/we-dodged-a-bullet/">https://xeiaso.net/notes/2025/we-dodged-a-bullet/</a>, See on <a href="https://news.ycombinator.com/item?id=45183029">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <article>
    
    

    <div>
            <p>
                Published on <time datetime="2025-09-09">2025-09-09</time>, 971 words, 4 minutes to read
            </p>

            
                <p>That NPM attack could have been so much worse.</p>
            
        </div>

    
        
            
    

    

        
    

    

    <div><p><img alt="Cadey is coffee" loading="lazy" src="https://stickers.xeiaso.net/sticker/cadey/coffee"></p><div><p><span><a href="https://xeiaso.net/characters#cadey">Cadey</a></span><span></span></p><div><p>This post and its online comment sections are blame-free zones. We are not
blaming anyone for clicking on the phishing link. If you were targeted with
such a phishing attack, you'd fall for it too and it's a matter of when not
if. Anyone who claims they wouldn't is wrong.</p><p>This is also a bit of a rant.</p></div></div></div>
<p>Yesterday <a href="https://www.aikido.dev/blog/npm-debug-and-chalk-packages-compromised">one of the biggest package ecosystems had very popular packages get compromised</a>. We're talking functionality like:</p>
<ul>
<li>Formatting text with colors for use in the terminal</li>
<li>A list of common color names and their RGB values</li>
<li>A decorator for functions so you can debug their inputs/outputs as they are run</li>
<li>A utility function that determines if its argument can be used like an array</li>
</ul>
<p>These kinds of dependencies are everywhere and nobody would even think that they could be harmful. Getting code into these packages means that it's almost guaranteed a free path to production deployments. If an open proxy server (a-la Bright Data or other botnets that the credit card network tolerates for some reason), API key stealer, or worse was sent through this chain of extreme luck on the attacker's part, then this would be a completely different story.</p>
<p>We all dodged a massive bullet because all the malware did was modify the destination addresses of cryptocurrency payments mediated via online wallets like <a href="https://metamask.io/">MetaMask</a>.</p>
<p>As someone adjacent to the online security community, I have a sick sense of appreciation for this attack. This was a really good attack. It started with a phishing email that I'd probably fall for if it struck at the right time:</p>
<figure><a href="https://files.xeiaso.net/blog/2025/we-dodged-a-bullet/the-email.jpg"><picture><source type="image/avif" srcset="https://files.xeiaso.net/blog/2025/we-dodged-a-bullet/the-email.avif"><source type="image/webp" srcset="https://files.xeiaso.net/blog/2025/we-dodged-a-bullet/the-email.webp"><img loading="lazy" src="https://files.xeiaso.net/blog/2025/we-dodged-a-bullet/the-email.jpg"></picture></a></figure>
<p>This is frankly a really good phishing email. Breaking it down:</p>
<ul>
<li>It greets the user personally with their NPM username. This makes it look personalized, so people are more likely to trust it.</li>
<li>People are used to the idea of changing passwords for security. With that in mind, at a glance the idea of changing your two-factor auth credentials "for security reasons" isn't completely unreasonable.</li>
<li>NPM has always been kinda weird compared to other open source package repositories, so them requiring something strange like that reads as reasonable.</li>
<li>It sets a deadline a few days in the future. This creates a sense of urgency, and when you combine urgency with being rushed by life, you are much more likely to fall for the phishing link.</li>
<li>It links to a website (I'm assuming it's on npm.help), and that website is used to get the two-factor credentials somehow and then start publishing new packages with the exploit code.</li>
</ul>
<p>This is a 10/10 phishing email. Looking at it critically the only part about it that stands out is the domain "npmjs.help" instead of "npmjs.com". Even then, that wouldn't really stand out to me because I've seen companies use new <a href="https://en.wikipedia.org/wiki/Generic_top-level_domain">generic top level domains</a> to separate out things like the blog at <code>.blog</code> or the docs at <code>.guide</code>, not to mention the <a href="https://www.linkedin.com/posts/tokih_heres-your-builders-guide-to-new-activity-7315851665348141057-9oBM"><code>.new</code> stack</a>.</p>
<p>One of my friends <a href="https://bsky.app/profile/buttplug.engineer">qdot</a> also got the phishing email and here's what he had to say:</p>
<center><blockquote data-bluesky-uri="at://did:plc:sfvpv6dfrug3rnjewn7gyx62/app.bsky.feed.post/3lyds45qxpc2i" data-bluesky-cid="bafyreigtonkqupqoprhrsosj6sf5sj5wmy6nseof5nx3mtrycsycw4pcxi" data-bluesky-embed-color-mode="system"><p>I got the email for it and was like "oh I'll deal with this
later".</p><p>Saved by procrastination!</p><p>— qdot (<a href="https://bsky.app/profile/did:plc:sfvpv6dfrug3rnjewn7gyx62?ref_src=embed">
@buttplug.engineer
</a>) <a href="https://bsky.app/profile/did:plc:sfvpv6dfrug3rnjewn7gyx62/post/3lyds45qxpc2i?ref_src=embed">September 8, 2025 at 2:04 PM</a></p></blockquote></center>
<p>With <a href="https://www.npmjs.com/package/is-arrayish">how</a> <a href="https://www.npmjs.com/package/color-string">widely</a> <a href="https://www.npmjs.com/package/color-name">used</a> these libraries are, this could have been <em>so much worse</em> than it was. I can easily imagine a timeline where this wasn't just a cryptocurrency interceptor. Imagine if something this widely deployed into an ecosystem where automated package bumping triggering production releases is common did API key theft. You'd probably have more OpenAI API keys than you know what you'd do with. You could probably go for years without having to pay for AWS again.</p>
<p>It is just maddening to me that a near Jia Tan level chain of malware and phishing was wasted on cryptocurrency interception that won't even run in the majority of places those compromised libraries were actually used. When I was bumping packages around these issues, I found that most of these libraries were used in command line tools.</p>
<p>This was an attack obviously targeted towards the Web 3 ecosystem as users of Web 3 tools are used to making payments with their browsers. With my black hat on, I think that the reason they targeted more generic packages instead of Web 3 packages was so that the compromise wouldn't be as noticed by the Web 3 ecosystem. Sure, you'd validate the rigging that helps you interface with Metamask, but you'd never think that it would get monkey-patched by your color value parsing library.</p>
<p>One of the important things to take away from this is that every dependency could be malicious. We should take the time to understand the entire dependency tree of our programs, but we aren't given that time. At the end of the day, we still have to ship things.</p>

    <hr>

    

    

    <p>Facts and circumstances may have changed since publication. Please contact me before jumping to conclusions if something seems wrong or unclear.</p>

    <p>Tags: </p>
</article>
        </div><div>
            <p>Copyright 2012-2025 Xe Iaso. Any and all opinions listed here are my own and
                not representative of any of my employers, past, future, and/or present.</p>
            
            <p>Served by xesite v4 (/app/bin/xesite) with site version 
                        <a href="https://github.com/Xe/site/commit/c1b2805a4c6654bb8a48a8e5f2a83a2a81b7c735">c1b2805a</a>
                    , source code available <a href="https://github.com/Xe/site">here</a>.</p>
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A new experimental Go API for JSON (141 pts)]]></title>
            <link>https://go.dev/blog/jsonv2-exp</link>
            <guid>45182770</guid>
            <pubDate>Tue, 09 Sep 2025 14:54:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://go.dev/blog/jsonv2-exp">https://go.dev/blog/jsonv2-exp</a>, See on <a href="https://news.ycombinator.com/item?id=45182770">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>
      Joe Tsai, Daniel Martí, Johan Brandhorst-Satzkorn, Roger Peppe, Chris Hines,  and Damien Neil<br>
      9 September 2025
      </p><div>
<h2 id="introduction">Introduction</h2>
<p><a href="https://datatracker.ietf.org/doc/html/rfc8259" rel="noreferrer" target="_blank">JavaScript Object Notation (JSON)</a>
is a simple data interchange format. Almost 15 years ago,
we wrote about <a href="https://go.dev/blog/json">support for JSON in Go</a>,
which introduced the ability to serialize and deserialize Go types to and from JSON data.
Since then, JSON has become the most popular data format used on the Internet.
It is widely read and written by Go programs,
and encoding/json now ranks as the 5th most imported Go package.</p>
<p>Over time, packages evolve with the needs of their users,
and <code>encoding/json</code> is no exception. This blog post is about Go 1.25’s new
experimental <code>encoding/json/v2</code> and <code>encoding/json/jsontext</code> packages,
which bring long-awaited improvements and fixes.
This post argues for a new major API version,
provides an overview of the new packages,
and explains how you can make use of it.
The experimental packages are not visible by default and
may undergo future API changes.</p>
<h2 id="problems-with-encodingjson">Problems with <code>encoding/json</code></h2>
<p>Overall, <code>encoding/json</code> has held up well.
The idea of marshaling and unmarshaling arbitrary Go types
with some default representation in JSON, combined with the ability to
customize the representation, has proven to be highly flexible.
However, in the years since its introduction,
various users have identified numerous shortcomings.</p>
<h3 id="behavior-flaws">Behavior flaws</h3>
<p>There are various behavioral flaws in <code>encoding/json</code>:</p>
<ul>
<li>
<p><strong>Imprecise handling of JSON syntax</strong>: Over the years, JSON has seen
increased standardization in order for programs to properly communicate.
Generally, decoders have become stricter at rejecting ambiguous inputs,
to reduce the chance that two implementations will have different
(successful) interpretations of a particular JSON value.</p>
<ul>
<li>
<p><code>encoding/json</code> currently accepts invalid UTF-8,
whereas the latest Internet Standard (RFC 8259) requires valid UTF-8.
The default behavior should report an error in the presence of invalid UTF-8,
instead of introducing silent data corruption,
which may cause problems downstream.</p>
</li>
<li>
<p><code>encoding/json</code> currently accepts objects with duplicate member names.
RFC 8259 does not specify how to handle duplicate names,
so an implementation is free to choose an arbitrary value,
merge the values, discard the values, or report an error.
The presence of a duplicate name results in a JSON value
without a universally agreed upon meaning.
This could be <a href="https://www.youtube.com/watch?v=avilmOcHKHE&amp;t=1057s" rel="noreferrer" target="_blank">exploited by attackers in security applications</a>
and has been exploited before (as in <a href="https://nvd.nist.gov/vuln/detail/CVE-2017-12635" rel="noreferrer" target="_blank">CVE-2017-12635</a>).
The default behavior should err on the side of safety and reject duplicate names.</p>
</li>
</ul>
</li>
<li>
<p><strong>Leaking nilness of slices and maps</strong>: JSON is often used to communicate with
programs using JSON implementations that do not allow <code>null</code> to be unmarshaled
into a data type expected to be a JSON array or object.
Since <code>encoding/json</code> marshals a nil slice or map as a JSON <code>null</code>,
this may lead to errors when unmarshaling by other implementations.
<a href="https://go.dev/issue/63397#discussioncomment-7201222">A survey</a>
indicated that most Go users prefer that nil slices and maps
are marshaled as an empty JSON array or object by default.</p>
</li>
<li>
<p><strong>Case-insensitive unmarshaling</strong>: When unmarshaling, a JSON object member name
is resolved to a Go struct field name using a case-insensitive match.
This is a surprising default, a potential security vulnerability, and a performance limitation.</p>
</li>
<li>
<p><strong>Inconsistent calling of methods</strong>: Due to an implementation detail,
<code>MarshalJSON</code> methods declared on a pointer receiver
are <a href="https://go.dev/issue/22967">inconsistently called by <code>encoding/json</code></a>. While regarded as a bug,
this cannot be fixed as too many applications depend on the current behavior.</p>
</li>
</ul>
<h3 id="api-deficiencies">API deficiencies</h3>
<p>The API of <code>encoding/json</code> can be tricky or restrictive:</p>
<ul>
<li>
<p>It is difficult to correctly unmarshal from an <code>io.Reader</code>.
Users often write <code>json.NewDecoder(r).Decode(v)</code>,
which fails to reject trailing junk at the end of the input.</p>
</li>
<li>
<p>Options can be set on the <code>Encoder</code> and <code>Decoder</code> types,
but cannot be used with the <code>Marshal</code> and <code>Unmarshal</code> functions.
Similarly, types implementing the <code>Marshaler</code> and <code>Unmarshaler</code> interfaces
cannot make use of the options and there is no way to plumb options down the call stack.
For example, the <code>Decoder.DisallowUnknownFields</code> option loses its effect
when calling a custom <code>UnmarshalJSON</code> method.</p>
</li>
<li>
<p>The <code>Compact</code>, <code>Indent</code>, and <code>HTMLEscape</code> functions write to a <code>bytes.Buffer</code>
instead of something more flexible like a <code>[]byte</code> or <code>io.Writer</code>.
This limits the usability of those functions.</p>
</li>
</ul>
<h3 id="performance-limitations">Performance limitations</h3>
<p>Setting aside internal implementation details,
the public API commits it to certain performance limitations:</p>
<ul>
<li>
<p><strong>MarshalJSON</strong>: The <code>MarshalJSON</code> interface method forces the implementation
to allocate the returned <code>[]byte</code>. Also, the semantics require that
<code>encoding/json</code> verify that the result is valid JSON
and also to reformat it to match the specified indentation.</p>
</li>
<li>
<p><strong>UnmarshalJSON</strong>: The <code>UnmarshalJSON</code> interface method requires that
a complete JSON value be provided (without any trailing data).
This forces <code>encoding/json</code> to parse the JSON value to be unmarshaled
in its entirety to determine where it ends before it can call <code>UnmarshalJSON</code>.
Afterwards, the <code>UnmarshalJSON</code> method itself must parse the provided JSON value again.</p>
</li>
<li>
<p><strong>Lack of streaming</strong>: Even though the <code>Encoder</code> and <code>Decoder</code> types operate
on an <code>io.Writer</code> or <code>io.Reader</code>, they buffer the entire JSON value in memory.
The <code>Decoder.Token</code> method for reading individual tokens is allocation-heavy
and there is no corresponding API for writing tokens.</p>
</li>
</ul>
<p>Furthermore, if the implementation of a <code>MarshalJSON</code> or <code>UnmarshalJSON</code> method
recursively calls the <code>Marshal</code> or <code>Unmarshal</code> function,
then the performance becomes quadratic.</p>
<h2 id="trying-to-fix-encodingjson-directly">Trying to fix <code>encoding/json</code> directly</h2>
<p>Introducing a new, incompatible major version of a package is a heavy consideration.
If possible, we should try to fix the existing package.</p>
<p>While it is relatively easy to add new features,
it is difficult to change existing features.
Unfortunately, these problems are inherent consequences of the existing API,
making them practically impossible to fix within the <a href="https://go.dev/doc/go1compat">Go 1 compatibility promise</a>.</p>
<p>We could in principle declare separate names, such as <code>MarshalV2</code> or <code>UnmarshalV2</code>,
but that is tantamount to creating a parallel namespace within the same package.
This leads us to <code>encoding/json/v2</code> (henceforth called <code>v2</code>),
where we can make these changes within a seperate <code>v2</code> namespace
in contrast to <code>encoding/json</code> (henceforth called <code>v1</code>).</p>
<h2 id="planning-for-encodingjsonv2">Planning for <code>encoding/json/v2</code></h2>
<p>The planning for a new major version of <code>encoding/json</code> spanned years.
In late 2020, spurred on by the inability to fix issues in the current package,
Daniel Martí (one of the maintainers of <code>encoding/json</code>) first drafted his
thoughts on <a href="https://docs.google.com/document/d/1WQGoM44HLinH4NGBEv5drGlw5_RNW-GP7DdGEpm7Y3o" rel="noreferrer" target="_blank">what a hypothetical <code>v2</code> package should look like</a>.
Separately, after previous work on the <a href="https://go.dev/blog/protobuf-apiv2">Go API for Protocol Buffers</a>,
Joe Tsai was disapppointed that <a href="https://go.dev/pkg/google.golang.org/protobuf/encoding/protojson">the <code>protojson</code> package</a>
needed to use a custom JSON implementation because <code>encoding/json</code> was
neither capable of adhering to the stricter JSON standard that the
Protocol Buffer specification required,
nor of efficiently serializing JSON in a streaming manner.</p>
<p>Believing a brighter future for JSON was both beneficial and achievable,
Daniel and Joe joined forces to brainstorm on <code>v2</code> and
<a href="https://github.com/go-json-experiment/json" rel="noreferrer" target="_blank">started to build a prototype</a>
(with the initial code being a polished version of the JSON serialization logic from the Go protobuf module).
Over time, a few others (Roger Peppe, Chris Hines, Johan Brandhorst-Satzkorn, and Damien Neil)
joined the effort by providing design review, code review, and regression testing.
Many of the early discussions are publicly available in our
<a href="https://www.youtube.com/playlist?list=PLZgrQPcV8W8EChkaAvv-3NUu6PYmnGG3b" rel="noreferrer" target="_blank">recorded meetings</a> and
<a href="https://docs.google.com/document/d/1rovrOTd-wTawGMPPlPuKhwXaYBg9VszTXR9AQQL5LfI" rel="noreferrer" target="_blank">meeting notes</a>.</p>
<p>This work has been public since the beginning,
and we increasingly involved the wider Go community,
first with a
<a href="https://www.youtube.com/watch?v=avilmOcHKHE" rel="noreferrer" target="_blank">GopherCon talk</a> and
<a href="https://go.dev/issue/63397">discussion posted in late 2023</a>,
<a href="https://go.dev/issue/71497">formal proposal posted in early 2025</a>,
and most recently <a href="https://go.dev/issue/71845">adopting <code>encoding/json/v2</code> as a Go experiment</a>
(available in Go 1.25) for wider-scale testing by all Go users.</p>
<p>The <code>v2</code> effort has been going on for 5 years,
incorporating feedback from many contributors and also gaining valuable
empirical experience from use in production settings.</p>
<p>It’s worth noting that it’s largely been developed and promoted by people
not employed by Google, demonstrating that the Go project is a collaborative endeavor
with a thriving global community dedicated to improving the Go ecosystem.</p>
<h2 id="building-on-encodingjsonjsontext">Building on <code>encoding/json/jsontext</code></h2>
<p>Before discussing the <code>v2</code> API, we first introduce the experimental
<a href="https://go.dev/pkg/encoding/json/jsontext"><code>encoding/json/jsontext</code></a> package
that lays the foundation for future improvements to JSON in Go.</p>
<p>JSON serialization in Go can be broken down into two primary components:</p>
<ul>
<li><em>syntactic functionality</em> that is concerned with processing JSON based on its grammar, and</li>
<li><em>semantic functionality</em> that defines the relationship between JSON values and Go values.</li>
</ul>
<p>We use the terms “encode” and “decode” to describe syntactic functionality and
the terms “marshal” and “unmarshal” to describe semantic functionality.
We aim to provide a clear distinction between functionality
that is purely concerned with encoding versus that of marshaling.</p>
<p><img src="https://go.dev/blog/jsonv2-exp/api.png" width="100%"></p><p>This diagram provides an overview of this separation.
Purple blocks represent types, while blue blocks represent functions or methods.
The direction of the arrows approximately represents the flow of data.
The bottom half of the diagram, implemented by the <code>jsontext</code> package,
contains functionality that is only concerned with syntax,
while the upper half, implemented by the <code>json/v2</code> package,
contains functionality that assigns semantic meaning to syntactic data
handled by the bottom half.</p>
<p>The basic API of <code>jsontext</code> is the following:</p>
<pre><code>package jsontext

type Encoder struct { ... }
func NewEncoder(io.Writer, ...Options) *Encoder
func (*Encoder) WriteValue(Value) error
func (*Encoder) WriteToken(Token) error

type Decoder struct { ... }
func NewDecoder(io.Reader, ...Options) *Decoder
func (*Decoder) ReadValue() (Value, error)
func (*Decoder) ReadToken() (Token, error)

type Kind byte
type Value []byte
func (Value) Kind() Kind
type Token struct { ... }
func (Token) Kind() Kind
</code></pre>
<p>The <code>jsontext</code> package provides functionality for interacting with JSON
at a syntactic level and derives its name from
<a href="https://datatracker.ietf.org/doc/html/rfc8259#section-2" rel="noreferrer" target="_blank">RFC 8259, section 2</a>
where the grammar for JSON data is literally called <code>JSON-text</code>.
Since it only interacts with JSON at a syntactic level,
it does not depend on Go reflection.</p>
<p>The <a href="https://go.dev/pkg/encoding/json/jsontext#Encoder"><code>Encoder</code></a> and
<a href="https://go.dev/pkg/encoding/json/jsontext#Decoder"><code>Decoder</code></a>
provide support for encoding and decoding JSON values and tokens.
The constructors
<a href="https://go.dev/pkg/encoding/json/jsontext#Options">accept variadic options</a>
that affect the particular behavior of encoding and decoding.
Unlike the <code>Encoder</code> and <code>Decoder</code> types declared in <code>v1</code>,
the new types in <code>jsontext</code> avoid muddling the distinction between syntax and
semantics and operate in a truly streaming manner.</p>
<p>A JSON value is a complete unit of data and is represented in Go as
<a href="https://go.dev/pkg/encoding/json/jsontext#Value">a named <code>[]byte</code></a>.
It is identical to <a href="https://go.dev/pkg/encoding/json#RawMessage"><code>RawMessage</code></a> in <code>v1</code>.
A JSON value is syntactically composed of one or more JSON tokens.
A JSON token is represented in Go as the <a href="https://go.dev/pkg/encoding/json/jsontext#Token">opaque <code>Token</code> type</a>
with constructors and accessor methods.
It is analogous to <a href="https://go.dev/pkg/encoding/json#Token"><code>Token</code></a> in <code>v1</code>
but is designed represent arbitrary JSON tokens without allocation.</p>
<p>To resolve the fundamental performance problems with
the <code>MarshalJSON</code> and <code>UnmarshalJSON</code> interface methods,
we need an efficient way of encoding and decoding JSON
as a streaming sequence of tokens and values.
In <code>v2</code>, we introduce the <code>MarshalJSONTo</code> and <code>UnmarshalJSONFrom</code> interface methods
that operate on an <code>Encoder</code> or <code>Decoder</code>, allowing the methods’ implementations
to process JSON in a purely streaming manner. Thus, the <code>json</code> package need not
be responsible for validating or formatting a JSON value returned by <code>MarshalJSON</code>,
nor would it need to be responsible for determining the boundaries of a JSON value
provided to <code>UnmarshalJSON</code>. These responsibilities belong to the <code>Encoder</code> and <code>Decoder</code>.</p>
<h2 id="introducing-encodingjsonv2">Introducing <code>encoding/json/v2</code></h2>
<p>Building on the <code>jsontext</code> package, we now introduce the experimental
<a href="https://go.dev/pkg/encoding/json/v2"><code>encoding/json/v2</code></a> package.
It is designed to fix the aforementioned problems,
while remaining familiar to users of the <code>v1</code> package.
Our goal is that usages of <code>v1</code> will operate <em>mostly</em> the same if directly migrated to <code>v2</code>.</p>
<p>In this article, we will primarily cover the high-level API of <code>v2</code>.
For examples on how to use it, we encourage readers to
study <a href="https://go.dev/pkg/encoding/json/v2#pkg-examples">the examples in the <code>v2</code> package</a> or
read <a href="https://antonz.org/go-json-v2/" rel="noreferrer" target="_blank">Anton Zhiyanov’s blog covering the topic</a>.</p>
<p>The basic API of <code>v2</code> is the following:</p>
<pre><code>package json

func Marshal(in any, opts ...Options) (out []byte, err error)
func MarshalWrite(out io.Writer, in any, opts ...Options) error
func MarshalEncode(out *jsontext.Encoder, in any, opts ...Options) error

func Unmarshal(in []byte, out any, opts ...Options) error
func UnmarshalRead(in io.Reader, out any, opts ...Options) error
func UnmarshalDecode(in *jsontext.Decoder, out any, opts ...Options) error
</code></pre>
<p>The <a href="https://go.dev/pkg/encoding/json/v2#Marshal"><code>Marshal</code></a>
and <a href="https://go.dev/pkg/encoding/json/v2#Unmarshal"><code>Unmarshal</code></a> functions
have a signature similar to <code>v1</code>, but accept options to configure their behavior.
The <a href="https://go.dev/pkg/encoding/json/v2#MarshalWrite"><code>MarshalWrite</code></a>
and <a href="https://go.dev/pkg/encoding/json/v2#UnmarshalRead"><code>UnmarshalRead</code></a> functions
directly operate on an <code>io.Writer</code> or <code>io.Reader</code>,
avoiding the need to temporarily construct an <code>Encoder</code> or <code>Decoder</code>
just to write or read from such types.
The <a href="https://go.dev/pkg/encoding/json/v2#MarshalEncode"><code>MarshalEncode</code></a>
and <a href="https://go.dev/pkg/encoding/json/v2#UnmarshalDecode"><code>UnmarshalDecode</code></a> functions
operate on a <code>jsontext.Encoder</code> and <code>jsontext.Decoder</code> and
is actually the underlying implementation of the previously mentioned functions.
Unlike <code>v1</code>, options are a first-class argument to each of the marshal and unmarshal functions,
greatly extending the flexibility and configurability of <code>v2</code>.
There are <a href="https://go.dev/pkg/encoding/json/v2#Options">several options available</a>
in <code>v2</code> which are not covered by this article.</p>
<h3 id="type-specified-customization">Type-specified customization</h3>
<p>Similar to <code>v1</code>, <code>v2</code> allows types to define their own JSON representation
by satisfying particular interfaces.</p>
<pre><code>type Marshaler interface {
    MarshalJSON() ([]byte, error)
}
type MarshalerTo interface {
    MarshalJSONTo(*jsontext.Encoder) error
}

type Unmarshaler interface {
    UnmarshalJSON([]byte) error
}
type UnmarshalerFrom interface {
    UnmarshalJSONFrom(*jsontext.Decoder) error
}
</code></pre>
<p>The <a href="https://go.dev/pkg/encoding/json/v2#Marshaler"><code>Marshaler</code></a>
and <a href="https://go.dev/pkg/encoding/json/v2#Unmarshaler"><code>Unmarshaler</code></a> interfaces
are identical to those in <code>v1</code>.
The new <a href="https://go.dev/pkg/encoding/json/v2#MarshalerTo"><code>MarshalerTo</code></a>
and <a href="https://go.dev/pkg/encoding/json/v2#UnmarshalerFrom"><code>UnmarshalerFrom</code></a> interfaces
allow a type to represent itself as JSON using a <code>jsontext.Encoder</code> or <code>jsontext.Decoder</code>.
This allows options to be forwarded down the call stack, since options
can be retrieved via the <code>Options</code> accessor method on the <code>Encoder</code> or <code>Decoder</code>.</p>
<p>See <a href="https://go.dev/pkg/encoding/json/v2#example-package-OrderedObject">the <code>OrderedObject</code> example</a>
for how to implement a custom type that maintains the ordering of JSON object members.</p>
<h3 id="caller-specified-customization">Caller-specified customization</h3>
<p>In <code>v2</code>, the caller of <code>Marshal</code> and <code>Unmarshal</code> can also specify
a custom JSON representation for any arbitrary type,
where caller-specified functions take precedence over type-defined methods
or the default representation for a particular type.</p>
<pre><code>func WithMarshalers(*Marshalers) Options

type Marshalers struct { ... }
func MarshalFunc[T any](fn func(T) ([]byte, error)) *Marshalers
func MarshalToFunc[T any](fn func(*jsontext.Encoder, T) error) *Marshalers

func WithUnmarshalers(*Unmarshalers) Options

type Unmarshalers struct { ... }
func UnmarshalFunc[T any](fn func([]byte, T) error) *Unmarshalers
func UnmarshalFromFunc[T any](fn func(*jsontext.Decoder, T) error) *Unmarshalers
</code></pre>
<p><a href="https://go.dev/pkg/encoding/json/v2#MarshalFunc"><code>MarshalFunc</code></a> and
<a href="https://go.dev/pkg/encoding/json/v2#MarshalToFunc"><code>MarshalToFunc</code></a>
construct a custom marshaler that can be passed to a <code>Marshal</code> call
using <code>WithMarshalers</code> to override the marshaling of particular types.
Similarly,
<a href="https://go.dev/pkg/encoding/json/v2#UnmarshalFunc"><code>UnmarshalFunc</code></a> and
<a href="https://go.dev/pkg/encoding/json/v2#UnmarshalFromFunc"><code>UnmarshalFromFunc</code></a>
support similar customization for <code>Unmarshal</code>.</p>
<p><a href="https://go.dev/pkg/encoding/json/v2#example-package-ProtoJSON">The <code>ProtoJSON</code> example</a>
demonstrates how this feature allows serialization of all
<a href="https://go.dev/pkg/google.golang.org/protobuf/proto#Message"><code>proto.Message</code></a> types
to be handled by the <a href="https://go.dev/pkg/google.golang.org/protobuf/encoding/protojson"><code>protojson</code></a> package.</p>
<h3 id="behavior-differences">Behavior differences</h3>
<p>While <code>v2</code> aims to behave <em>mostly</em> the same as <code>v1</code>,
its behavior has changed <a href="https://go.dev/pkg/github.com/go-json-experiment/json/v1#hdr-Migrating_to_v2">in some ways</a>
to address problems in <code>v1</code>, most notably:</p>
<ul>
<li>
<p><code>v2</code> reports an error in the presence of invalid UTF-8.</p>
</li>
<li>
<p><code>v2</code> reports an error if a JSON object contains a duplicate name.</p>
</li>
<li>
<p><code>v2</code> marshals a nil Go slice or Go map as an empty JSON array or JSON object, respectively.</p>
</li>
<li>
<p><code>v2</code> unmarshals a JSON object into a Go struct using a
case-sensitive match from the JSON member name to the Go field name.</p>
</li>
<li>
<p><code>v2</code> redefines the <code>omitempty</code> tag option to omit a field if it would have
encoded as an “empty” JSON value (which are <code>null</code>, <code>""</code>, <code>[]</code>, and <code>{}</code>).</p>
</li>
<li>
<p><code>v2</code> reports an error when trying to serialize a <code>time.Duration</code>,
which currently has <a href="https://go.dev/issue/71631">no default representation</a>,
but provides options to let the caller decide.</p>
</li>
</ul>
<p>For most behavior changes, there is a struct tag option or caller-specified option
that can configure the behavior to operate under <code>v1</code> or <code>v2</code> semantics,
or even other caller-determined behavior.
See <a href="https://go.dev/pkg/github.com/go-json-experiment/json/v1#hdr-Migrating_to_v2">“Migrating to v2”</a> for more information.</p>
<h3 id="performance-optimizations">Performance optimizations</h3>
<p>The <code>Marshal</code> performance of <code>v2</code> is roughly at parity with <code>v1</code>.
Sometimes it is slightly faster, but other times it is slightly slower.
The <code>Unmarshal</code> performance of <code>v2</code> is significantly faster than <code>v1</code>,
with benchmarks demonstrating improvements of up to 10x.</p>
<p>In order to obtain greater performance gains,
existing implementations of
<a href="https://go.dev/pkg/encoding/json/v2#Marshaler"><code>Marshaler</code></a> and
<a href="https://go.dev/pkg/encoding/json/v2#Unmarshaler"><code>Unmarshaler</code></a> should
migrate to also implement
<a href="https://go.dev/pkg/encoding/json/v2#MarshalerTo"><code>MarshalerTo</code></a> and
<a href="https://go.dev/pkg/encoding/json/v2#UnmarshalerFrom"><code>UnmarshalerFrom</code></a>,
so that they can benefit from processing JSON in a purely streaming manner.
For example, recursive parsing of OpenAPI specifications in <code>UnmarshalJSON</code> methods
significantly hurt performance in a particular service of Kubernetes
(see <a href="https://github.com/kubernetes/kube-openapi/issues/315" rel="noreferrer" target="_blank">kubernetes/kube-openapi#315</a>),
while switching to <code>UnmarshalJSONFrom</code> improved performance by orders of magnitude.</p>
<p>For more information, see the
<a href="https://github.com/go-json-experiment/jsonbench" rel="noreferrer" target="_blank"><code>go-json-experiment/jsonbench</code></a>
repository.</p>
<h2 id="retroactively-improving-encodingjson">Retroactively improving <code>encoding/json</code></h2>
<p>We want to avoid two separate JSON implementations in the Go standard library,
so it is critical that, under the hood, <code>v1</code> is implemented in terms of <code>v2</code>.</p>
<p>There are several benefits to this approach:</p>
<ol>
<li>
<p><strong>Gradual migration</strong>: The <code>Marshal</code> and <code>Unmarshal</code> functions in <code>v1</code> or <code>v2</code>
represent a set of default behaviors that operate according to <code>v1</code> or <code>v2</code> semantics.
Options can be specified that configure <code>Marshal</code> or <code>Unmarshal</code> to operate with
entirely <code>v1</code>, mostly <code>v1</code> with a some <code>v2</code>, a mix of <code>v1</code> or <code>v2</code>,
mostly <code>v2</code> with some <code>v1</code>, or entirely <code>v2</code> semantics.
This allows for gradual migration between the default behaviors of the two versions.</p>
</li>
<li>
<p><strong>Feature inheritance</strong>: As backward-compatible features are added to <code>v2</code>,
they will inherently be made available in <code>v1</code>. For example, <code>v2</code> adds
support for several new struct tag options such as <code>inline</code> or <code>format</code> and also
support for the <code>MarshalJSONTo</code> and <code>UnmarshalJSONFrom</code> interface methods,
which are both more performant and flexible.
When <code>v1</code> is implemented in terms of <code>v2</code>, it will inherit support for these features.</p>
</li>
<li>
<p><strong>Reduced maintenance</strong>: Maintenance of a widely used package demands significant effort.
By having <code>v1</code> and <code>v2</code> use the same implementation, the maintenance burden is reduced.
In general, a single change will fix bugs, improve performance, or add functionality to both versions.
There is no need to backport a <code>v2</code> change with an equivalent <code>v1</code> change.</p>
</li>
</ol>
<p>While select parts of <code>v1</code> may be deprecated over time (supposing <code>v2</code> graduates from being an experiment),
the package as a whole will never be deprecated.
Migrating to <code>v2</code> will be encouraged, but not required.
The Go project will not drop support for <code>v1</code>.</p>
<h2 id="experimenting-with-jsonv2">Experimenting with <code>jsonv2</code></h2>
<p>The newer API in the <code>encoding/json/jsontext</code> and <code>encoding/json/v2</code> packages are not visible by default.
To use them, build your code with <code>GOEXPERIMENT=jsonv2</code> set in your environment or with the <code>goexperiment.jsonv2</code> build tag.
The nature of an experiment is that the API is unstable and may change in the future.
Though the API is unstable, the implementation is of a high quality and
has been successfully used in production by several major projects.</p>
<p>The fact that <code>v1</code> is implemented in terms of <code>v2</code> means that the underlying implementation of <code>v1</code>
is completely different when building under the <code>jsonv2</code> experiment.
Without changing any code, you should be able to run your tests
under <code>jsonv2</code> and theoretically nothing new should fail:</p>
<pre><code>GOEXPERIMENT=jsonv2 go test ./...
</code></pre>
<p>The re-implementation of <code>v1</code> in terms of <code>v2</code> aims to provide identical behavior
within the bounds of the <a href="https://go.dev/doc/go1compat">Go 1 compatibility promise</a>,
though some differences might be observable such as the exact wording of error messages.
We encourage you to run your tests under <code>jsonv2</code> and
report any regressions <a href="https://go.dev/issues">on the issue tracker</a>.</p>
<p>Becoming an experiment in Go 1.25 is a significant milestone on the road to
formally adopting <code>encoding/json/jsontext</code> and <code>encoding/json/v2</code> into the standard library.
However, the purpose of the <code>jsonv2</code> experiment is to gain broader experience.
Your feedback will determine our next steps, and the outcome of this experiment,
which may result in anything from abandonment of the effort, to adoption as stable packages of Go 1.26.
Please share your experience on <a href="https://go.dev/issue/71497">go.dev/issue/71497</a>, and help determine the future of Go.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[US HS students lose ground in math and reading, continuing yearslong decline (115 pts)]]></title>
            <link>https://apnews.com/article/naep-reading-math-scores-12th-grade-c18d6e3fbc125f12948cc70cb85a520a</link>
            <guid>45182657</guid>
            <pubDate>Tue, 09 Sep 2025 14:45:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://apnews.com/article/naep-reading-math-scores-12th-grade-c18d6e3fbc125f12948cc70cb85a520a">https://apnews.com/article/naep-reading-math-scores-12th-grade-c18d6e3fbc125f12948cc70cb85a520a</a>, See on <a href="https://news.ycombinator.com/item?id=45182657">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                                        <p>WASHINGTON (AP) — A decade-long slide in high schoolers’ reading and <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/math-science-stem-girls-a80f44c20b1724bba6953756ecc862cd">math</a></span> performance persisted during the COVID-19 pandemic, with 12th graders’ scores dropping to their lowest level in more than 20 years, according to results released Tuesday from an exam known as the nation’s report card.</p><p>Eighth-grade students also lost significant ground in science skills, according to the results from the National Assessment of Education Progress.</p><p>The assessments were the first since the pandemic for eighth graders in science and 12th graders in reading and math. They reflect a <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/naep-test-scores-nations-report-card-school-60150156e41b8518be3b6eabf77d0c66">downward drift</a></span> across grade levels and subject areas in previous releases from NAEP, which is considered one of the best gauges of the academic progress of U.S. schools.</p><p>“Scores for our lowest-performing students are at historic lows,” said Matthew Soldner, the acting commissioner of the National Center for Education Statistics. “These results should galvanize all of us to take concerted and focused action to accelerate student learning.”</p>
    
<p>While the pandemic had an outsize impact on student achievement, experts said falling scores are part of a longer arc in education that cannot be attributed solely to COVID-19, <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/online-school-covid-learning-loss-7c162ec1b4ce4d5219d5210aaac8f1ae">school closures</a></span> and related issues such as heightened <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/school-attendance-sick-day-chronic-absenteeism-270f6d07041760e90bf84d9f4108aa4d">absenteeism</a></span>. Educators said potential underlying factors include children’s increased screen time, shortened attention spans and a decline in reading longer-form writing both in and out of school.</p>



<p>The dip in reading scores appeared alongside a shift in how English and language arts are taught in schools, with an emphasis on <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/books-reading-high-school-english-class-c8d9f39773268a6e8c79cb0b3c78d3c1">short texts and book excerpts</a></span>, said Carol Jago, associate director of the California Reading and Literature Project at UCLA. As a high school English teacher 20 years ago, Jago said it was common for her high school students to read 20 books over the course of a year. Now, some English classes are assigning just three books a year.</p>
    
    
    
<p>“To be a good reader, you have to have the stamina to stay on the page, even when the going gets tough,” Jago said. “You have to build those muscles, and we’re not building those muscles in kids.”</p>
    
    
    

    
<p>Education Secretary Linda McMahon said the scores show why the Trump administration wants to <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/trump-education-department-scotus-layoffs-student-loans-f24637f2a1d57432f6dc24d082e95b9b">give states more control</a></span> of education spending.</p><p>“Despite spending billions annually on numerous K-12 programs, the achievement gap is widening, and more high school seniors are performing below the basic benchmark in math and reading than ever before,” McMahon said.</p><p>House Democrats said the Trump administration’s efforts to dismantle the Education Department will only hurt students. The declines show a need for federal investment in academic recovery and educational equity, said Democratic Rep. Bobby Scott of Virginia, ranking member of the House Committee on Education and Workforce.</p><p>“Eliminating the very agency responsible for supporting public schools and enforcing civil rights protections of students will only deepen the achievement gaps identified by this assessment,” Scott said.</p>
    
<h2>Fewer students show basic proficiency in math and reading</h2><p>The test scores show more students are not reaching what would be considered “basic” achievement across subject areas, said Lesley Muldoon, executive director of the National Assessment Governing Board. While NAEP’s definition of “proficient” is a high bar, Muldoon said, it is not an unreasonable one, and it is based on what researchers believe students should be able to achieve by the end of high school.</p><p>“These students are taking their next steps in life with fewer skills and less knowledge in core academics than their predecessors a decade ago,” she said. “This is happening at a time when rapid advancements in technology and society demands more of future workers and citizens, not less.”</p><p>In reading, the average score in 2024 was the lowest score in the history of the assessment, which began in 1992. Thirty-two percent of high school seniors scored below “basic,” meaning they were not able to find details in a text to help them understand its meaning.</p><p>In math, the average score in 2024 was the lowest since 2005, when the assessment framework changed significantly. On the test, 45% of high school seniors scored below “basic” achievement, the highest percentage since 2005. Only 33% of high school seniors were considered academically prepared for college-level math courses, a decline from 37% in 2019.</p>
    
<p>The high school reading and math assessments, and the eighth grade science test, are given less frequently than the biannual fourth and eighth grade reading tests, which were last released earlier this year. The new scores reflect tests taken in schools around the country between January and March 2024.</p>
    
<h2>Achievement gaps are widening</h2><p>The gap between the highest- and lowest-performing students was its widest ever among eighth grade science students, reflecting growing inequality in the American school system. The achievement gap widened also in 12th grade math.</p><p>The scores also reflect the re-emergence of a <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/math-science-stem-girls-a80f44c20b1724bba6953756ecc862cd">gender gap</a></span> in science, technology, engineering and math courses. In 2019, boys and girls scored virtually the same on the NAEP science assessment. But in 2024, girls saw a steeper decline in scores. A similar pattern occurred in state math assessments, according to an Associated Press analysis.</p><p>Schools had largely closed the gender gap in math and science, but it widened in the years following the pandemic as special programs to engage girls lapsed.</p><p>On a NAEP survey of students, a shrinking percentage of eighth grade students said they regularly took part in inquiry-based learning activities in the classroom. The pandemic disrupted schools’ ability to create those hands-on learning experiences for students, which are often critical to understanding scientific concepts and processes, said Christine Cunningham, senior vice president of STEM learning at the Museum of Science in Boston.</p><p>Still, she noted declines across subjects began well before schools closed in 2020.</p><p>“We don’t know exactly what the cause of it is, but it would be incomplete to assume that if we hadn’t had COVID, the score would not have gone down,” Cunningham said. “That’s not what the data showed even before the pandemic.” ___</p><p>Feathers reported from New York.</p><p>___</p><p>The Associated Press’ education coverage receives financial support from multiple private foundations. AP is solely responsible for all content. Find AP’s <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://www.ap.org/about/news-values-and-principles/" target="_blank" rel="noopener">standards</a></span> for working with philanthropies, a <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://www.ap.org/about/supporting-ap/" target="_blank" rel="noopener">list</a></span> of supporters and funded coverage areas at AP.org.</p>
                                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Claude can now create and edit files (340 pts)]]></title>
            <link>https://www.anthropic.com/news/create-files</link>
            <guid>45182381</guid>
            <pubDate>Tue, 09 Sep 2025 14:25:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.anthropic.com/news/create-files">https://www.anthropic.com/news/create-files</a>, See on <a href="https://news.ycombinator.com/item?id=45182381">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><div><p>Claude can now create and edit Excel spreadsheets, documents, PowerPoint slide decks, and PDFs directly in <a href="https://claude.ai/redirect/website.v1.f9d68c1f-678f-481a-840d-b84efe72f7f1" target="_blank" rel="noopener noreferrer">Claude.ai</a> and the desktop app. This transforms how you work with Claude—instead of only receiving text responses or in-app artifacts, you can describe what you need, upload relevant data, and get ready-to-use files in return.</p><p>File creation is now available as a preview for Max, Team, and Enterprise plan users. Pro users will get access in the coming weeks.</p><h2 id="what-you-can-do">What you can do</h2><p>Claude creates actual files from your instructions—whether working from uploaded data, researching information, or building from scratch. Here are just a few examples:</p><ul><li><strong>Turn data into insights</strong>: Give Claude raw data and get back polished outputs with cleaned data, statistical analysis, charts, and written insights explaining what matters.</li><li><strong>Build spreadsheets</strong>: Describe what you need—financial models with scenario analysis, project trackers with automated dashboards, or budget templates with variance calculations. Claude creates it with working formulas and multiple sheets.</li><li><strong>Cross-format work</strong>: Upload a PDF report and get PowerPoint slides. Share meeting notes and get a formatted document. Upload invoices and get organized spreadsheets with calculations. Claude handles the tedious work and presents information how you need it.</li></ul><div><figure><img alt="Image of three prompts with the resulting Excel, Document, and PDF files. " loading="lazy" width="1920" height="1080" decoding="async" data-nimg="1" srcset="https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Fa7cc545ecf57240d91c97a102246ef6126bdc7f8-1920x1080.png&amp;w=1920&amp;q=75 1x, https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Fa7cc545ecf57240d91c97a102246ef6126bdc7f8-1920x1080.png&amp;w=3840&amp;q=75 2x" src="https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Fa7cc545ecf57240d91c97a102246ef6126bdc7f8-1920x1080.png&amp;w=3840&amp;q=75"></figure></div><p>Whether you need a customer segmentation analysis, sales forecasting, or budget tracking, Claude handles the technical work and produces the files you need. File creation turns projects that normally require programming expertise, statistical knowledge, and hours of effort into minutes of conversation.</p><h2 id=""><strong>How it works: Claude’s computer</strong></h2><p>Over the past year we've seen Claude move from answering questions to completing entire projects, and now we're making that power more accessible. We've given Claude access to a private computer environment where it can write code and run programs to produce the files and analyses you need.</p><p>This transforms Claude from an advisor into an active collaborator. You bring the context and strategy; Claude handles the technical implementation behind the scenes. This shows where we’re headed: making sophisticated multi-step work accessible through conversation. As these capabilities expand, the gap between idea and execution will keep shrinking.</p><h2 id=""><strong>Getting started</strong></h2><p>To start creating files:</p><ol><li>Enable "Upgraded file creation and analysis" under <a href="https://claude.ai/redirect/website.v1.f9d68c1f-678f-481a-840d-b84efe72f7f1/settings/features" target="_blank" rel="noopener noreferrer">Settings &gt; Features &gt; Experimental</a></li><li>Upload relevant files or describe what you need</li><li>Guide Claude through the work via chat</li><li>Download your completed files or save directly to Google Drive</li></ol><div><figure><img alt="Image of toggle to turn on &quot;upgraded file creation and analysis&quot; feature. " loading="lazy" width="3840" height="2160" decoding="async" data-nimg="1" srcset="https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F1cbf5333ab0784b215a2450fb8dd95cd2e207aea-3840x2160.png&amp;w=3840&amp;q=75 1x" src="https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F1cbf5333ab0784b215a2450fb8dd95cd2e207aea-3840x2160.png&amp;w=3840&amp;q=75"></figure></div><p>Start with straightforward tasks like data cleaning or simple reports, then work up to complex projects like financial models once you're comfortable with how Claude handles files.</p><p>This feature gives Claude internet access to create and analyze files, which may put your data at risk. Monitor chats closely when using this feature. <a href="https://support.anthropic.com/en/articles/12111783-create-and-edit-files-with-claude" target="_blank" rel="noopener noreferrer">Learn more</a>.</p></div></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[New Mexico is first state in US to offer universal child care (707 pts)]]></title>
            <link>https://www.governor.state.nm.us/2025/09/08/new-mexico-is-first-state-in-nation-to-offer-universal-child-care/</link>
            <guid>45182372</guid>
            <pubDate>Tue, 09 Sep 2025 14:25:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.governor.state.nm.us/2025/09/08/new-mexico-is-first-state-in-nation-to-offer-universal-child-care/">https://www.governor.state.nm.us/2025/09/08/new-mexico-is-first-state-in-nation-to-offer-universal-child-care/</a>, See on <a href="https://news.ycombinator.com/item?id=45182372">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				
				
				
				
				
				
				<p><span><img fetchpriority="high" decoding="async" width="2160" height="1080" src="https://www.governor.state.nm.us/wp-content/uploads/2024/06/News-from-the-office-of-the-governor-michelle-lujan-grisham.webp" alt="Governor Michelle Lujan Grisham" title="News-from-the-office-of-the-governor-michelle-lujan-grisham" srcset="https://www.governor.state.nm.us/wp-content/uploads/2024/06/News-from-the-office-of-the-governor-michelle-lujan-grisham.webp 2160w, https://www.governor.state.nm.us/wp-content/uploads/2024/06/News-from-the-office-of-the-governor-michelle-lujan-grisham-1280x640.webp 1280w, https://www.governor.state.nm.us/wp-content/uploads/2024/06/News-from-the-office-of-the-governor-michelle-lujan-grisham-980x490.webp 980w, https://www.governor.state.nm.us/wp-content/uploads/2024/06/News-from-the-office-of-the-governor-michelle-lujan-grisham-480x240.webp 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) and (max-width: 1280px) 1280px, (min-width: 1281px) 2160px, 100vw"></span></p>
			</div><div><p>SANTA FE — Governor Michelle Lujan Grisham and the New Mexico Early Childhood Education and Care Department announced a historic milestone on Monday: New Mexico will become the first state in the nation to guarantee no-cost universal child care starting Nov. 1.</p>
<p>This groundbreaking new initiative will make child care available to all New Mexicans, regardless of income, by removing income eligibility requirements from the state’s child care assistance program and continuing the waiver of family copayments.</p>
<p>“Child care is essential to family stability, workforce participation, and New Mexico’s future prosperity,” said Lujan Grisham. “By investing in universal child care, we are giving families financial relief, supporting our economy, and ensuring that every child has the opportunity to grow and thrive.”</p>
<p>This announcement fulfills the promise made by the governor and the New Mexico Legislature when they created the Early Childhood Education and Care Department in 2019. Since then, New Mexico has expanded access to no-cost child care to families with incomes at or below 400% of the federal poverty level, reducing financial strain on tens of thousands of families.</p>
<p>With Monday’s announcement universal child care will be extended to every family in the state, regardless of income. This amounts to an average annual family savings of $12,000 per child.</p>
<p>“New Mexico is creating the conditions for better outcomes in health, learning, and well-being,” said Neal Halfon, professor of pediatrics, public health and public policy at the University of California, Los Angeles, and director of the Center for Healthier Children, Families, and Communities. “Its approach is rooted in data, driven by communities, and becoming a model for the nation.</p>
<p>“By prioritizing public investments in early childhood educators, families, and children, New Mexico continues to lead the way in building a sustainable, affordable, and quality child care and early learning system that helps its communities and economy thrive,” said Michelle Kang, president and CEO of the National Association of the Education of Young Children (NAEYC). “Achieving universal child care will make a huge difference for the state’s children, families, businesses, and educators—and for all of us, by showing that it can be done.”</p>
<p>Families who receive child care assistance report greater financial stability, more time to focus on their children, and the ability to choose higher-quality care settings. Now, every family in New Mexico will have the same opportunity. New Mexico is also taking decisive action to build the supply of infant and toddler care statewide:</p>
<ul>
<li>Establishing a $12.7 million low-interest loan fund to construct, expand, and renovate child care facilities, with an additional $20 million requested in the Fiscal Year 2027 budget.</li>
<li>Targeting growth to focus on care for infants, toddlers, low-income families, and children with special needs.</li>
<li>Partnering with employers and school districts to expand child care options for working families.</li>
<li>Launching a statewide campaign to recruit licensed and registered home providers.</li>
<li><span>To support providers, reimbursement rates will rise to reflect the true cost of care.</span></li>
</ul>
<p>Programs that commit to paying entry-level staff a minimum of $18 per hour and offer 10 hours of care per day, five days a week, will receive an incentive rate. New Mexico estimates an additional 5,000 early childhood professionals are needed to fully achieve a universal system.</p>
<p>“Early childhood care and education is a public good,” said ECECD Sec. Elizabeth Groginsky. “By providing universal access and improving pay for our early childhood workforce, we are easing financial pressure on families, strengthening our economy, and helping every child learn in safe, nurturing environments. This is the kind of investment that builds equity today and prosperity for the future.”</p>
<p>With universal child care, New Mexico is leading the nation by showing that what is best for children and families is also the smartest investment for long-term prosperity—building a stronger future for every community in the state.</p>
<p>For more information about how families and providers can access universal child care benefits, visit and toolkit: <a href="https://www.nmececd.org/universal/" target="_blank" rel="noopener">ECECD Universal Child Care Resources Page</a>.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[U.S. Added 911,000 Fewer Jobs in Year Through March Than Reported Earlier (351 pts)]]></title>
            <link>https://www.barrons.com/articles/jobs-report-revisions-bls-fed-3d88c77b?st=u8mw75</link>
            <guid>45182111</guid>
            <pubDate>Tue, 09 Sep 2025 14:05:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.barrons.com/articles/jobs-report-revisions-bls-fed-3d88c77b?st=u8mw75">https://www.barrons.com/articles/jobs-report-revisions-bls-fed-3d88c77b?st=u8mw75</a>, See on <a href="https://news.ycombinator.com/item?id=45182111">Hacker News</a></p>
Couldn't get https://www.barrons.com/articles/jobs-report-revisions-bls-fed-3d88c77b?st=u8mw75: Error: Request failed with status code 401]]></description>
        </item>
        <item>
            <title><![CDATA[Google to Obey South Korean Order to Blur Satellite Images on Maps (122 pts)]]></title>
            <link>https://www.barrons.com/news/google-to-obey-south-korean-order-to-blur-satellite-images-on-maps-653e934e</link>
            <guid>45181626</guid>
            <pubDate>Tue, 09 Sep 2025 13:26:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.barrons.com/news/google-to-obey-south-korean-order-to-blur-satellite-images-on-maps-653e934e">https://www.barrons.com/news/google-to-obey-south-korean-order-to-blur-satellite-images-on-maps-653e934e</a>, See on <a href="https://news.ycombinator.com/item?id=45181626">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-testid="article-body"><section><p data-type="paragraph" data="[object Object]">Google said on Tuesday that it would comply with the South Korean government's demand to blur sensitive satellite images on its mapping services, paving the way for the US tech giant to compete better with local navigation platforms.</p></section><p data-id="standard_index_p">The Barron's news department was not involved in the creation of the content above. This article was produced by AFP. For more information go to<!-- --> <a href="https://www.afp.com/" target="_blank" rel="noreferrer">AFP.com</a>.<br>© Agence France-Presse</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Weaponizing Ads: How Google and Facebook Ads Are Used to Wage Propaganda Wars (176 pts)]]></title>
            <link>https://medium.com/@eslam.elsewedy/weaponizing-ads-how-governments-use-google-ads-and-facebook-ads-to-wage-propaganda-wars-199c707704cc</link>
            <guid>45181094</guid>
            <pubDate>Tue, 09 Sep 2025 12:34:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://medium.com/@eslam.elsewedy/weaponizing-ads-how-governments-use-google-ads-and-facebook-ads-to-wage-propaganda-wars-199c707704cc">https://medium.com/@eslam.elsewedy/weaponizing-ads-how-governments-use-google-ads-and-facebook-ads-to-wage-propaganda-wars-199c707704cc</a>, See on <a href="https://news.ycombinator.com/item?id=45181094">Hacker News</a></p>
Couldn't get https://medium.com/@eslam.elsewedy/weaponizing-ads-how-governments-use-google-ads-and-facebook-ads-to-wage-propaganda-wars-199c707704cc: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[DuckDB NPM packages 1.3.3 and 1.29.2 compromised with malware (260 pts)]]></title>
            <link>https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c</link>
            <guid>45179939</guid>
            <pubDate>Tue, 09 Sep 2025 10:10:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c">https://github.com/duckdb/duckdb-node/security/advisories/GHSA-w62p-hx95-gf2c</a>, See on <a href="https://news.ycombinator.com/item?id=45179939">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <p dir="auto">The DuckDB distribution for <a href="http://node.js/" rel="nofollow">Node.js</a> on <a href="https://www.npmjs.com/" rel="nofollow">npm</a> was compromised with malware (along with <a href="https://www.aikido.dev/blog/npm-debug-and-chalk-packages-compromised" rel="nofollow">several other packages</a>). An attacker published new versions of four of duckdb’s packages that included <strong>malicious code to interfere with cryptocoin transactions</strong>. The following packages and versions are affected:</p>
<ul dir="auto">
<li><code>@duckdb/node-api@1.3.3</code></li>
<li><code>@duckdb/node-bindings@1.3.3</code></li>
<li><code>duckdb@1.3.3</code></li>
<li><code>@duckdb/duckdb-wasm@1.29.2</code></li>
</ul>
<blockquote>
<p dir="auto">Note: The current release version of DuckDB is 1.3.2, with 1.4.0 expected to be released on Sept 10th, 2025 (tomorrow as of this writing). We do not plan to ever release a “legit” DuckDB 1.3.3. Users should double-check that they are not accidentally updating to those affected versions.</p>
</blockquote>
<p dir="auto">We have ourselves noticed this <em>within four hours</em> of it happening. Here’s our response:</p>
<ul dir="auto">
<li>As an immediate response, we have <strong>deprecated</strong> the specific versions.</li>
<li>We have reached out to npm support to <strong>delete the affected versions</strong>. They were so kind to do so.</li>
<li>We have also <strong>re-released</strong> the node packages with higher version numbers (1.3.4/1.30.0) as a further safeguard so the latest version of the package points to a safe version</li>
</ul>
<p dir="auto">We apologize for this issue. We are reviewing our internal processes to ensure the safety of future releases.</p>
<h3 dir="auto">Postmortem</h3>
<p dir="auto">On September 8th (Monday), the DuckDB maintainers received the following message from "<a href="mailto:...@npmjs.help">...@npmjs.help</a>":</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/227792/487197603-0ce24798-1f5a-40b0-ac50-49035d99862b.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTc0MjQ5MDEsIm5iZiI6MTc1NzQyNDYwMSwicGF0aCI6Ii8yMjc3OTIvNDg3MTk3NjAzLTBjZTI0Nzk4LTFmNWEtNDBiMC1hYzUwLTQ5MDM1ZDk5ODYyYi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwOTA5JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDkwOVQxMzMwMDFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0yMmRmYmNmNTYzY2M2ZGJmNmM5NDlmYzFhNmNlNTA0MzgwY2NlMTM3ZDhjZDhjNjZkMjhkZjYwNDQ4ZWIzMTRhJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.xUBhaxWFy9O-N_V6P0-VMYoNWGwZEJkVwWyN072txy0"><img width="1134" height="614" alt="Screenshot 2025-09-09 at 11 07 09" src="https://private-user-images.githubusercontent.com/227792/487197603-0ce24798-1f5a-40b0-ac50-49035d99862b.png?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTc0MjQ5MDEsIm5iZiI6MTc1NzQyNDYwMSwicGF0aCI6Ii8yMjc3OTIvNDg3MTk3NjAzLTBjZTI0Nzk4LTFmNWEtNDBiMC1hYzUwLTQ5MDM1ZDk5ODYyYi5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwOTA5JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDkwOVQxMzMwMDFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0yMmRmYmNmNTYzY2M2ZGJmNmM5NDlmYzFhNmNlNTA0MzgwY2NlMTM3ZDhjZDhjNjZkMjhkZjYwNDQ4ZWIzMTRhJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.xUBhaxWFy9O-N_V6P0-VMYoNWGwZEJkVwWyN072txy0"></a></p><p dir="auto">One of the maintainers read through this text and found it somewhat reasonable. He followed the link (now defunct) to a website hosted under the domain <code>npmjs.help</code>. This website contained a <strong>pixel-perfect copy</strong> of the <a href="http://npmjs.com/" rel="nofollow">npmjs.com</a> website. He logged in using the <code>duckdb_admin</code> user and password, followed by 2FA. Again, the user profile, settings etc. were a perfect copy of the <a href="http://npmjs.com/" rel="nofollow">npmjs.com</a> website including all user data. As requested by the email, he then re-set the 2FA setup.</p>
<p dir="auto">In the background, the copycat website forwarded all actions to the actual npm website, so the 2FA was actually updated there, too. But they also added a new API token, which they then used to publish the malicious package versions. In hindsight, the fact that his browser did not auto-complete the login should have been a red flag. It's painful to spell out, but <strong>we fell for a classic phishing attack</strong>.</p>
<p dir="auto">We again apologize for this mishap. We are reviewing our internal processes to ensure the safety of future releases. It is fortunate that we noticed this within a few hours of it happening. The DuckDBLabs team was able to set up a call at 7AM to perform an immediate response. Fortunately we were not locked out of our NPM account, which also easily could have happened. We were able to rotate passwords, tokens and API keys immediately.</p>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[You too can run malware from NPM (I mean without consequences) (169 pts)]]></title>
            <link>https://github.com/naugtur/running-qix-malware</link>
            <guid>45179889</guid>
            <pubDate>Tue, 09 Sep 2025 10:02:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/naugtur/running-qix-malware">https://github.com/naugtur/running-qix-malware</a>, See on <a href="https://news.ycombinator.com/item?id=45179889">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">You too can run malware from NPM (I mean without consequences)</h2><a id="user-content-you-too-can-run-malware-from-npm-i-mean-without-consequences" aria-label="Permalink: You too can run malware from NPM (I mean without consequences)" href="#you-too-can-run-malware-from-npm-i-mean-without-consequences"></a></p>
<p dir="auto">Phishing NPM package authors continues, unsurprisingly.
The stakes are not high enough to switch from phishing to anything more advanced (like <a href="https://xkcd.com/538/" rel="nofollow">https://xkcd.com/538/</a>) but seeing article blurbs say "Supply chain Attack" next to "These packages generally receive 2-3 billion downloads per week." might finally be enough to make an impression, one hopes.</p>
<p dir="auto">This is not a detailed analysis of the attack, there's plenty of that already. If you're looking for one, visit our friends at <a href="https://socket.dev/blog/npm-author-qix-compromised-in-major-supply-chain-attack" rel="nofollow">https://socket.dev/blog/npm-author-qix-compromised-in-major-supply-chain-attack</a></p>
<p dir="auto">Instead, let's look at how you could have a compromised dependency like that get into your app and be stopped.</p>
<p dir="auto">One of the compromised packages was <code>is-arrayish</code> and I'll use that as an example going forward.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">What the malware does</h2><a id="user-content-what-the-malware-does" aria-label="Permalink: What the malware does" href="#what-the-malware-does"></a></p>
<p dir="auto">So if an app uses <code>is-arrayish</code> in the browser, it will override <code>fetch</code>, <code>XMLHttpRequest</code> and <code>window.ethereum.request</code> and whenever it finds a transaction being sent, it'll replace the target address with one of the malware author's addresses that looks most alike.</p>
<p dir="auto">I won't go into this either, but you can take a look at the summary of "donations" some other friends linked to here: <a href="https://intel.arkm.com/explorer/entity/61fbc095-f19b-479d-a037-5469aba332ab" rel="nofollow">https://intel.arkm.com/explorer/entity/61fbc095-f19b-479d-a037-5469aba332ab</a></p>
<p dir="auto">Pretty low impact for an attack this big. Some of it seems to be people mocking the malware author with worthless transfers.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Let's see it in action</h2><a id="user-content-lets-see-it-in-action" aria-label="Permalink: Let's see it in action" href="#lets-see-it-in-action"></a></p>
<p dir="auto">Say we have an app.
The app allows the user to send a meaningless transaction to themselves. Don't expect it to make sense.
It also uses <code>is-arrayish</code> because otherwise we'd have nothing to demo.</p>
<div dir="auto" data-snippet-clipboard-copy-content="const isArrayish = require(&quot;is-arrayish&quot;);

const button = document.createElement(&quot;button&quot;);
button.textContent = &quot;Send ETH Transaction&quot;;
document.body.appendChild(button);

button.addEventListener(&quot;click&quot;, async () => {
  const accounts = await window.ethereum.request({
    method: &quot;eth_requestAccounts&quot;,
  });
  if (!isArrayish(accounts)) {
    throw new Error(&quot;Accounts response must be array-like&quot;);
  }
  const myAddr = accounts[0];

  const txHash = await window.ethereum.request({
    method: &quot;eth_sendTransaction&quot;,
    params: [
      {
        value: &quot;0x5af3107a4000&quot;,
        from: myAddr,
        to: myAddr,
      },
    ],
  });
  console.log(&quot;Transaction sent:&quot;, txHash);
});"><pre><span>const</span> <span>isArrayish</span> <span>=</span> <span>require</span><span>(</span><span>"is-arrayish"</span><span>)</span><span>;</span>

<span>const</span> <span>button</span> <span>=</span> <span>document</span><span>.</span><span>createElement</span><span>(</span><span>"button"</span><span>)</span><span>;</span>
<span>button</span><span>.</span><span>textContent</span> <span>=</span> <span>"Send ETH Transaction"</span><span>;</span>
<span>document</span><span>.</span><span>body</span><span>.</span><span>appendChild</span><span>(</span><span>button</span><span>)</span><span>;</span>

<span>button</span><span>.</span><span>addEventListener</span><span>(</span><span>"click"</span><span>,</span> <span>async</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>const</span> <span>accounts</span> <span>=</span> <span>await</span> <span>window</span><span>.</span><span>ethereum</span><span>.</span><span>request</span><span>(</span><span>{</span>
    <span>method</span>: <span>"eth_requestAccounts"</span><span>,</span>
  <span>}</span><span>)</span><span>;</span>
  <span>if</span> <span>(</span><span>!</span><span>isArrayish</span><span>(</span><span>accounts</span><span>)</span><span>)</span> <span>{</span>
    <span>throw</span> <span>new</span> <span>Error</span><span>(</span><span>"Accounts response must be array-like"</span><span>)</span><span>;</span>
  <span>}</span>
  <span>const</span> <span>myAddr</span> <span>=</span> <span>accounts</span><span>[</span><span>0</span><span>]</span><span>;</span>

  <span>const</span> <span>txHash</span> <span>=</span> <span>await</span> <span>window</span><span>.</span><span>ethereum</span><span>.</span><span>request</span><span>(</span><span>{</span>
    <span>method</span>: <span>"eth_sendTransaction"</span><span>,</span>
    <span>params</span>: <span>[</span>
      <span>{</span>
        <span>value</span>: <span>"0x5af3107a4000"</span><span>,</span>
        <span>from</span>: <span>myAddr</span><span>,</span>
        <span>to</span>: <span>myAddr</span><span>,</span>
      <span>}</span><span>,</span>
    <span>]</span><span>,</span>
  <span>}</span><span>)</span><span>;</span>
  <span>console</span><span>.</span><span>log</span><span>(</span><span>"Transaction sent:"</span><span>,</span> <span>txHash</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span></pre></div>
<p dir="auto">This is what it looks like:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/naugtur/running-qix-malware/blob/main/img/scr1.png"><img src="https://github.com/naugtur/running-qix-malware/raw/main/img/scr1.png" alt=""></a></p>
<p dir="auto">Now <strong>after you update <code>is-arrayish</code> to 0.3.3</strong> and rebuild the project, you might notice a slight difference.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/naugtur/running-qix-malware/blob/main/img/scr2.png"><img src="https://github.com/naugtur/running-qix-malware/raw/main/img/scr2.png" alt=""></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Enter LavaMoat</h2><a id="user-content-enter-lavamoat" aria-label="Permalink: Enter LavaMoat" href="#enter-lavamoat"></a></p>
<p dir="auto">If your project was set up with LavaMoat, you'd be using a policy to decide which package is allowed access to what. <a href="https://lavamoat.github.io/guides/policy/" rel="nofollow">More about policies in the guide</a></p>
<p dir="auto">With LavaMoat, all <code>is-arrayish</code> can do is fail:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/naugtur/running-qix-malware/blob/main/img/scr3.png"><img src="https://github.com/naugtur/running-qix-malware/raw/main/img/scr3.png" alt=""></a></p>
<div data-snippet-clipboard-copy-content="TypeError: Cannot define property fetch, object is not extensible"><pre><code>TypeError: Cannot define property fetch, object is not extensible
</code></pre></div>
<p dir="auto"><em>BTW, If the malware was written a little better to avoid detection and fail silently, the functionality of the app would be fully restored.</em></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">LavaMoat Webpack Plugin</h2><a id="user-content-lavamoat-webpack-plugin" aria-label="Permalink: LavaMoat Webpack Plugin" href="#lavamoat-webpack-plugin"></a></p>
<p dir="auto">To protect the project, <a href="https://www.npmjs.com/package/@lavamoat/webpack" rel="nofollow">@lavamoat/webpack</a> was used.</p>
<p dir="auto">In short, what it does is: it puts modules from every dependency in a separate lexical global context that we call <code>Compartment</code> and only allows access to globals that the policy lists. I also controls which packages can import which other packages.</p>
<p dir="auto">If the project dependency gets updated to contain malicious code, the policy will not allow it to access any globals or imports it didn't use before.</p>
<p dir="auto">Read more in the <a href="https://lavamoat.github.io/guides/webpack/" rel="nofollow">official guide</a></p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Mistral AI raises €1.7B to accelerate technological progress with AI (132 pts)]]></title>
            <link>https://mistral.ai/news/mistral-ai-raises-1-7-b-to-accelerate-technological-progress-with-ai</link>
            <guid>45178389</guid>
            <pubDate>Tue, 09 Sep 2025 06:50:43 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mistral.ai/news/mistral-ai-raises-1-7-b-to-accelerate-technological-progress-with-ai">https://mistral.ai/news/mistral-ai-raises-1-7-b-to-accelerate-technological-progress-with-ai</a>, See on <a href="https://news.ycombinator.com/item?id=45178389">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p dir="ltr">We are announcing a Series C funding round of 1.7B€ at a 11.7B€ post-money valuation. This investment fuels our scientific research to keep pushing the frontier of AI to tackle the most critical and sophisticated technological challenges faced by strategic industries.</p>
<p dir="ltr">The Series C funding round is led by leading semiconductor equipment manufacturer, ASML Holding NV (ASML).</p>
<p dir="ltr"><em>“ASML is proud to enter a strategic partnership with Mistral AI, and to be lead investor in this funding round. The collaboration between Mistral AI and ASML aims to generate clear benefits for ASML customers through innovative products and solutions enabled by AI, and will offer potential for joint research to address future opportunities.” </em>said ASML CEO Christophe Fouquet.</p>
<p dir="ltr">It includes participation from existing investors: DST Global, Andreessen Horowitz, Bpifrance, General Catalyst, Index Ventures, Lightspeed and NVIDIA.</p>
<p dir="ltr">For the last two years, we have advanced AI through cutting-edge research and strategic partnerships with corporate and industrial champions. We will continue to develop custom decentralized frontier AI solutions that solve the most complex engineering and industrial problems. It empowers enterprises, public sectors, and industries a competitive edge through state-of-the-art models, tailored solutions, and high-performance compute infrastructure. This funding round reaffirms the company’s independence.&nbsp;</p>
<p dir="ltr"><em>“This investment brings together two technology leaders operating in the same value chain. We have the ambition to help ASML and its numerous partners solve current and future engineering challenges through AI, and ultimately to advance the full semiconductor and AI value chain”, </em>said Mistral AI CEO Arthur Mensch.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Mistral AI raises 1.7B€, enters strategic partnership with ASML (686 pts)]]></title>
            <link>https://mistral.ai/news/mistral-ai-raises-1-7-b-to-accelerate-technological-progress-with-ai</link>
            <guid>45178041</guid>
            <pubDate>Tue, 09 Sep 2025 06:10:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mistral.ai/news/mistral-ai-raises-1-7-b-to-accelerate-technological-progress-with-ai">https://mistral.ai/news/mistral-ai-raises-1-7-b-to-accelerate-technological-progress-with-ai</a>, See on <a href="https://news.ycombinator.com/item?id=45178041">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p dir="ltr">We are announcing a Series C funding round of 1.7B€ at a 11.7B€ post-money valuation. This investment fuels our scientific research to keep pushing the frontier of AI to tackle the most critical and sophisticated technological challenges faced by strategic industries.</p>
<p dir="ltr">The Series C funding round is led by leading semiconductor equipment manufacturer, ASML Holding NV (ASML).</p>
<p dir="ltr"><em>“ASML is proud to enter a strategic partnership with Mistral AI, and to be lead investor in this funding round. The collaboration between Mistral AI and ASML aims to generate clear benefits for ASML customers through innovative products and solutions enabled by AI, and will offer potential for joint research to address future opportunities.” </em>said ASML CEO Christophe Fouquet.</p>
<p dir="ltr">It includes participation from existing investors: DST Global, Andreessen Horowitz, Bpifrance, General Catalyst, Index Ventures, Lightspeed and NVIDIA.</p>
<p dir="ltr">For the last two years, we have advanced AI through cutting-edge research and strategic partnerships with corporate and industrial champions. We will continue to develop custom decentralized frontier AI solutions that solve the most complex engineering and industrial problems. It empowers enterprises, public sectors, and industries a competitive edge through state-of-the-art models, tailored solutions, and high-performance compute infrastructure. This funding round reaffirms the company’s independence.&nbsp;</p>
<p dir="ltr"><em>“This investment brings together two technology leaders operating in the same value chain. We have the ambition to help ASML and its numerous partners solve current and future engineering challenges through AI, and ultimately to advance the full semiconductor and AI value chain”, </em>said Mistral AI CEO Arthur Mensch.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Strong Eventual Consistency – The Big Idea Behind CRDTs (138 pts)]]></title>
            <link>https://lewiscampbell.tech/blog/250908.html</link>
            <guid>45177518</guid>
            <pubDate>Tue, 09 Sep 2025 04:46:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lewiscampbell.tech/blog/250908.html">https://lewiscampbell.tech/blog/250908.html</a>, See on <a href="https://news.ycombinator.com/item?id=45177518">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <i>9/8/2025</i>
    
    <p>CRDTs. Data structures that can be replicated across multiple nodes, edited independently, merged back together, and it all just works. But collaborative document editing and multiplayer TODO lists are just the tip of the iceberg - I believe the big application is distributed databases, and for that we need to talk about consistency.</p>
<p>CRDTs are a tool for <strong>Strong Eventual Consistency</strong>. Let's start with the definition of normal Eventual Consistency<sup><a id="footnote-ref-1" href="#footnote-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup>:</p>
<dl>
  <dt>Eventual Delivery</dt>
  <dd>An update delivered to one node will <i>eventually</i> reaches all nodes</dd>
  
  <dt>Eventual Convergence</dt>
  <dd>If two nodes have seen all the same updates, they will <i>eventually</i> have the same state.</dd>
</dl>

<p>Strong Eventual Consistency (SEC) replaces <em>Eventual Convergence</em> with <em>Strong Convergence</em>:</p>
<dl>
  <dt>Strong Convergence</dt>
  <dd>If two nodes have seen all the same updates, they will have the same state.</dd>
</dl>

<p>Spot the difference! In SEC two replicas have the same state as soon as the updates are processed, not <em>eventually</em>. If multiple nodes are updated independently, there will be conflicts - this is inevitable. What SEC guarantees is that these conflicts are solved automatically and deterministically.</p>
<p>This has massive implications. SEC means low latency, because nodes don't need to coordinate to handle reads and writes. It means incredible fault tolerance - every single node in the system bar one could simultaneously crash, and reads and writes could still happen normally. And it means nodes still function properly if they're offline or split from the network for arbitrary time periods.</p>
<p>Strong Eventual Consistency is Eventual Consistency that works. If you're doing local first, or low latency geo-replicated systems - accept no substitute. This is the context I think we should see CRDTs in - building blocks of Strongly Eventually Consistent systems. CRDTs as application state as one thing, CRDTs as entire databases are quite another.</p>
<section data-footnotes="">

<ol>
<li id="footnote-1">
<p>All definitions here are adapted from <a href="https://pages.lip6.fr/Marek.Zawirski/papers/RR-7687.pdf">Shapiro, Marc; Preguiça, Nuno; Baquero, Carlos; Zawirski, Marek (2011). "Conflict-Free Replicated Data Types"</a>. <a href="#footnote-ref-1" data-footnote-backref="" aria-label="Back to reference 1">↩</a></p>
</li>
</ol>
</section>

    <hr>
    <br>
    <a href="https://outdata.net/">I'm available for hire.</a>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[No adblocker detected (573 pts)]]></title>
            <link>https://maurycyz.com/misc/ads/</link>
            <guid>45176206</guid>
            <pubDate>Tue, 09 Sep 2025 01:09:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://maurycyz.com/misc/ads/">https://maurycyz.com/misc/ads/</a>, See on <a href="https://news.ycombinator.com/item?id=45176206">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>



<time datetime="2025-09-08">Sep 8, 2025</time>



(<a href="http://maurycyz.com/tags/programming">Programming</a>) 



<p>Internet ads are horrible:
They waste your time, and the advertising industry makes the internet a worse place.
Payouts are so small that the only way to survive is to turn your site into an ad filled hellhole with no real substance.</p>
<p>If you want to support your favorite authors: send then money.
A dollar helps more then viewing ads ever would.</p>
<p>However, most people see advertising as a part of the internet experience, which is why I added this message to my site:</p>

<ad-note id="box">
<ad-note-content-wrapper>
No adblocker detected. Consider using an extension like <a href="https://ublockorigin.com/">uBlock Origin</a> to save time and bandwidth. <u>Click here to close.</u>
</ad-note-content-wrapper>
</ad-note>
<p>It’s shown off to the side, and never covers content.
It won’t be shown if there isn’t enough space.
The close button actually works and it stays closed.</p>
<p>The specific recommendation is important because a lot of people have only <em>heard of adblockers from ads</em>.
Commercial adblockers range from sketchy to outright scams:
If they are paying to be promoted, they must expect to make money from users.</p>
<h2 id="technical-details">Technical details:</h2>
<p>The page itself contains a div to hold the message and tries to load a script called “nativeads.js”:</p>
<div><pre tabindex="0"><code data-lang="html"><span><span><span>&lt;!-- Rest of the page goes here --&gt;</span>
</span></span><span><span>
</span></span><span><span>&lt;<span>script</span> <span>defer</span> <span>src</span><span>=</span><span>"/nativeads.js"</span>&gt;&lt;/<span>script</span>&gt;
</span></span><span><span>
</span></span><span><span>&lt;<span>div</span>
</span></span><span><span>  <span>id</span><span>=</span><span>"ad-note-hidden"</span>
</span></span><span><span>  <span>class</span><span>=</span><span>"ftf-dma-note ad native-ad native-ad-1 ytd-j yxd-j yxd-jd aff-content-col aff-inner-col aff-item-list ark-ad-message inplayer-ad inplayer_banners in_stream_banner trafficjunky-float-right dbanner preroll-blocker happy-inside-player blocker-notice blocker-overlay exo-horizontal ave-pl bottom-hor-block brs-block advboxemb wgAdBlockMessage glx-watermark-container overlay-advertising-new header-menu-bottom-ads rkads mdp-deblocker-wrapper amp-ad-inner imggif bloc-pub bloc-pub2 hor_banner aan_fake aan_fake__video-units rps_player_ads fints-block__row full-ave-pl full-bns-block vertbars video-brs player-bns-block wps-player__happy-inside gallery-bns-bl stream-item-widget adsbyrunactive happy-under-player adde_modal_detector adde_modal-overlay ninja-recommend-block aoa_overlay message"</span>
</span></span><span><span>&gt;
</span></span><span><span>  &lt;<span>p</span> <span>id</span><span>=</span><span>"ad-note-content-wrapper"</span>&gt;
</span></span><span><span>  &lt;/<span>p</span>&gt;
</span></span><span><span>&lt;/<span>div</span>&gt;
</span></span></code></pre></div><p>The script adds the actual message into the document:</p>
<div><pre tabindex="0"><code data-lang="js"><span><span><span>// /nativeads.js
</span></span></span><span><span><span></span>
</span></span><span><span><span>function</span> <span>hide</span>() {
</span></span><span><span>        document.<span>getElementById</span>(<span>"ad-note"</span>).<span>id</span> <span>=</span> <span>'ad-note-hidden'</span>;
</span></span><span><span>	document.<span>getElementById</span>(<span>"ad-note-content-wrapper"</span>).<span>innerHTML</span> <span>=</span> <span>""</span>;
</span></span><span><span>        document.<span>cookie</span> <span>=</span> <span>"notice-shown=true;path=/"</span>;
</span></span><span><span>}
</span></span><span><span>
</span></span><span><span><span>if</span> (<span>!</span>document.<span>cookie</span>.<span>includes</span>(<span>"notice-shown"</span>)) {
</span></span><span><span>	document.<span>getElementById</span>(<span>"ad-note-hidden"</span>).<span>id</span> <span>=</span> <span>'ad-note'</span>;
</span></span><span><span>	document.<span>getElementById</span>(<span>"ad-note-content-wrapper"</span>).<span>innerHTML</span> <span>=</span> <span>"No adblocker detected. "</span> <span>+</span> 
</span></span><span><span>	<span>"Consider using an extention like &lt;a href=https://ublockorigin.com/&gt;uBlock Origin&lt;/a&gt; to save time and bandwidth."</span> <span>+</span>
</span></span><span><span>	 <span>" &lt;u onclick=hide()&gt;Click here to close.&lt;/u&gt;"</span>;
</span></span><span><span>}
</span></span></code></pre></div><p>Finally, there’s a bit of CSS to make it look nice:</p>
<div><pre tabindex="0"><code data-lang="css"><span><span>#ad-note-hidden<span>,</span> #ad-note {
</span></span><span><span>        <span>display</span>: <span>none</span>;
</span></span><span><span>}
</span></span><span><span>
</span></span><span><span>@<span>media</span> <span>(</span><span>min-height</span><span>:</span> <span>30em</span><span>)</span> { @<span>media</span> <span>(</span><span>min-width</span><span>:</span> <span>75em</span><span>)</span> {
</span></span><span><span>        #ad-note {
</span></span><span><span>                <span>display</span>: <span>block</span>;
</span></span><span><span>                <span>position</span>: <span>fixed</span>;
</span></span><span><span>                <span>bottom</span>: <span>1</span><span>em</span>;
</span></span><span><span>                <span>right</span>: <span>1</span><span>em</span>;
</span></span><span><span>                <span>width</span>: <span>14</span><span>em</span>;
</span></span><span><span>                <span>border</span>: <span>white</span> <span>1</span><span>px</span> <span>solid</span>;
</span></span><span><span>                <span>background-color</span>: <span>#111111</span>;
</span></span><span><span>                <span>padding</span>: <span>1</span><span>em</span>;
</span></span><span><span>        }
</span></span><span><span>        #ad-note-content-wrapper {
</span></span><span><span>                <span>margin-top</span>: <span>0</span><span>em</span>;
</span></span><span><span>                <span>margin-bottom</span>: <span>0</span><span>em</span>;
</span></span><span><span>        }
</span></span><span><span>}}
</span></span></code></pre></div><p>The message won’t be visible if an adblocker removes the &lt;div&gt; element – which has a lot of ad-like class names – or
blocks the network request for “nativeads.js”.</p>
<p>The network request ensures that it doesn’t miss blockers like uBlock Origin Lite, which by default will only filter network requests, not page content.</p>
<p>Unfortunately, I have no way to detect DNS based blocking short of loading an actual ad.
Instead, I made the message unobtrusive and easy to close.</p>
<p>The message won’t be shown in browsers that don’t support JavaScript, because those don’t need adblockers to begin with.
It should be functional without CSS, but I can’t think of any browsers that support JS but not CSS.
(but if you use external CSS, it’s quite common for the request to fail resulting in an unstyled page.)</p>
<p>Thanks to <a href="https://stefanbohacek.com/project/detect-missing-adblocker-wordpress-plugin/">Stefan Bohacek</a> for the original idea. I’ve modified it to reduce false positives and explicitly scoped the cookie so the message is only shown once.</p>


        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The art world is in a precarious state (233 pts)]]></title>
            <link>https://news.artnet.com/market/intelligence-report-storm-2025-2684512</link>
            <guid>45175628</guid>
            <pubDate>Mon, 08 Sep 2025 23:48:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://news.artnet.com/market/intelligence-report-storm-2025-2684512">https://news.artnet.com/market/intelligence-report-storm-2025-2684512</a>, See on <a href="https://news.ycombinator.com/item?id=45175628">Hacker News</a></p>
Couldn't get https://news.artnet.com/market/intelligence-report-storm-2025-2684512: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Tesla market share in US drops to lowest since 2017 (252 pts)]]></title>
            <link>https://www.reuters.com/business/autos-transportation/tesla-market-share-us-drops-lowest-since-2017-competition-heats-up-2025-09-08/</link>
            <guid>45175588</guid>
            <pubDate>Mon, 08 Sep 2025 23:43:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.reuters.com/business/autos-transportation/tesla-market-share-us-drops-lowest-since-2017-competition-heats-up-2025-09-08/">https://www.reuters.com/business/autos-transportation/tesla-market-share-us-drops-lowest-since-2017-competition-heats-up-2025-09-08/</a>, See on <a href="https://news.ycombinator.com/item?id=45175588">Hacker News</a></p>
Couldn't get https://www.reuters.com/business/autos-transportation/tesla-market-share-us-drops-lowest-since-2017-competition-heats-up-2025-09-08/: Error: Request failed with status code 401]]></description>
        </item>
        <item>
            <title><![CDATA[Liquid Glass in the Browser: Refraction with CSS and SVG (449 pts)]]></title>
            <link>https://kube.io/blog/liquid-glass-css-svg/</link>
            <guid>45174297</guid>
            <pubDate>Mon, 08 Sep 2025 21:32:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://kube.io/blog/liquid-glass-css-svg/">https://kube.io/blog/liquid-glass-css-svg/</a>, See on <a href="https://news.ycombinator.com/item?id=45174297">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<h2 id="introduction"><a href="#introduction" aria-label="Permalink">#</a>Introduction</h2>
<p>Apple <a href="https://www.youtube.com/watch?v=jGztGfRujSE">introduced the Liquid Glass effect during WWDC 2025</a> in June—a stunning UI effect that makes interface elements appear to be made of curved, refractive glass. This article is a hands‑on exploration of how to recreate a similar effect on the web using CSS, SVG displacement maps, and physics-based refraction calculations.</p>
<p>Instead of chasing pixel‑perfect parity, we’ll approximate Liquid Glass, recreating the core refraction and a specular highlight, as a focused proof‑of‑concept you can extend.</p>
<p>We'll build up the effect from first principles, starting with how light bends when passing through different materials.</p>
<div><p>Chrome‑only demo</p><p>The interactive demo at the end currently works in Chrome only (due to
SVG filters as backdrop‑filter).</p><p>You can still read the article and interact with the inline
simulations in other browsers.</p></div>
<h2 id="understanding-refraction"><a href="#understanding-refraction" aria-label="Permalink">#</a>Understanding Refraction</h2>
<p><strong>Refraction</strong> is what happens when light changes direction as it passes from one material to another (like from air into glass). This bending occurs because light travels at different speeds through different materials.</p>
<p>The relationship between the incoming and outgoing light angles is described by <a href="https://en.wikipedia.org/wiki/Snell%27s_law"><strong>Snell–Descartes law</strong></a>:</p>
<p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>θ</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>n</mi><mn>2</mn></msub><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>θ</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n_1 \sin(\theta_1) = n_2 \sin(\theta_2)</annotation></semantics></math></span></span></p>
<div><p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>1</mn></msub><mo>=</mo><mtext>refractive&nbsp;index&nbsp;of&nbsp;first&nbsp;medium</mtext></mrow><annotation encoding="application/x-tex">n_1 = \text{refractive index of first medium}</annotation></semantics></math></span></span></p><p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mn>1</mn></msub><mo>=</mo><mtext>angle&nbsp;of&nbsp;incidence</mtext></mrow><annotation encoding="application/x-tex">\theta_1 = \text{angle of incidence}</annotation></semantics></math></span></span></p><p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><mtext>refractive&nbsp;index&nbsp;of&nbsp;second&nbsp;medium</mtext></mrow><annotation encoding="application/x-tex">n_2 = \text{refractive index of second medium}</annotation></semantics></math></span></span></p><p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>θ</mi><mn>2</mn></msub><mo>=</mo><mtext>angle&nbsp;of&nbsp;refraction</mtext></mrow><annotation encoding="application/x-tex">\theta_2 = \text{angle of refraction}</annotation></semantics></math></span></span></p></div>

<p>In the above interactive diagram, you can see that:</p>
<ul>
<li>
<p>When <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>2</mn></msub><mo>=</mo><msub><mi>n</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">n_2 = n_1</annotation></semantics></math></span></span>, the light ray passes straight through without bending.</p>
</li>
<li>
<p>When <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>2</mn></msub><mo>&gt;</mo><msub><mi>n</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">n_2 &gt; n_1</annotation></semantics></math></span></span>, the ray bends toward the normal (the imaginary line perpendicular to the surface).</p>
</li>
<li>
<p>When <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>2</mn></msub><mo>&lt;</mo><msub><mi>n</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">n_2 &lt; n_1</annotation></semantics></math></span></span>, the ray bends away from the normal, and depending on the angle of incidence, it may bend so much that it reflects back into the original medium instead of passing through.</p>
<p>This is called <a href="https://en.wikipedia.org/wiki/Total_internal_reflection">Total Internal Reflection</a></p>
</li>
<li>
<p>When incident ray is orthogonal to the surface, it passes straight through regardless of refractive indices.</p>
</li>
</ul>
<h2 id="limitations-in-this-project"><a href="#limitations-in-this-project" aria-label="Permalink">#</a>Limitations in this project</h2>
<p>To keep things focused we avoid complex branches of behavior by constraining the scenario:</p>
<ul>
<li>
<p>Ambient medium has <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>x</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">index = 1</annotation></semantics></math></span></span> (air).</p>
</li>
<li>
<p>Use materials with <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>x</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">index &gt; 1</annotation></semantics></math></span></span>, and prefer <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.5</mn></mrow><annotation encoding="application/x-tex">1.5</annotation></semantics></math></span></span> (glass).</p>
</li>
<li>
<p>Only one refraction event (ignore any later exit / second refraction).</p>
</li>
<li>
<p>Incident rays are always orthogonal to the background plane (no perspective).</p>
</li>
<li>
<p>Objects are 2D shapes parallel to the background (no perspective).</p>
</li>
<li>
<p>No gap between objects and background plane (only one refraction).</p>
</li>
<li>
<p>Circle shapes only in this article:</p>
<p>Extending to other shapes requires preliminary calculations.</p>
<p>Circles let us form rounded rectangles by stretching the middle.</p>
</li>
</ul>
<p>Under these assumptions every ray we manipulate has a well-defined refracted direction via Snell's Law, and we simplify a lot our calculations.</p>
<h2 id="creating-the-glass-surface"><a href="#creating-the-glass-surface" aria-label="Permalink">#</a>Creating the Glass Surface</h2>
<p>To create our glass effect, we need to define the shape of our virtual glass surface. Think of this like describing the cross-section of a lens or curved glass panel.</p>
<h2 id="surface-function"><a href="#surface-function" aria-label="Permalink">#</a>Surface Function</h2>
<p>Our glass surface is described by a mathematical function that defines how thick the glass is at any point from its edge to the end of the bezel. This <strong>surface function</strong> takes a value between <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span></span> (at the outer edge) and <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span></span> (end of bezel, start of flat surface) and returns the height of the glass at that point.</p>
<figure data-rehype-pretty-code-figure=""><pre><code data-language="ts" data-theme=""><span data-line=""><span>const</span><span> height</span><span> =</span><span> f</span><span>(</span><span>distanceFromSide</span><span>);</span></span></code></pre></figure>
<p>From the height we can calculate the angle of incidence, which is the angle between the incoming ray and the normal to the surface at that point. The normal is simply the derivative of the height function at that point, rotated by <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>90</mn></mrow><annotation encoding="application/x-tex">-90</annotation></semantics></math></span></span> degrees:</p>
<figure data-rehype-pretty-code-figure=""><pre><code data-language="ts" data-theme=""><span data-line=""><span>const</span><span> delta</span><span> =</span><span> 0.001</span><span>; </span><span>// Small value to approximate derivative</span></span>
<span data-line=""><span>const</span><span> y1</span><span> =</span><span> f</span><span>(</span><span>distanceFromSide</span><span> -</span><span> delta</span><span>);</span></span>
<span data-line=""><span>const</span><span> y2</span><span> =</span><span> f</span><span>(</span><span>distanceFromSide</span><span> +</span><span> delta</span><span>);</span></span>
<span data-line=""><span>const</span><span> derivative</span><span> =</span><span> (</span><span>y2</span><span> -</span><span> y1</span><span>) </span><span>/</span><span> (</span><span>2</span><span> *</span><span> delta</span><span>);</span></span>
<span data-line=""><span>const</span><span> normal</span><span> =</span><span> { x: </span><span>-</span><span>derivative</span><span>, y: </span><span>1</span><span> }; </span><span>// Derivative, rotated by -90 degrees</span></span></code></pre></figure>
<h2 id="equations"><a href="#equations" aria-label="Permalink">#</a>Equations</h2>
<p>For this article, we will use four different height functions to demonstrate the effect of the surface shape on the refraction:</p>
<div><svg viewBox="0 0 128 128"><rect x="0.5" y="0.5" width="127" height="127" rx="6"></rect><path d="M 11.00 117.00 L 12.10 101.74 L 13.21 95.48 L 14.31 90.71 L 15.42 86.72 L 16.52 83.24 L 17.63 80.11 L 18.73 77.27 L 19.83 74.64 L 20.94 72.19 L 22.04 69.89 L 23.15 67.73 L 24.25 65.68 L 25.35 63.74 L 26.46 61.88 L 27.56 60.11 L 28.67 58.41 L 29.77 56.77 L 30.88 55.21 L 31.98 53.70 L 33.08 52.24 L 34.19 50.83 L 35.29 49.47 L 36.40 48.16 L 37.50 46.89 L 38.60 45.66 L 39.71 44.46 L 40.81 43.30 L 41.92 42.18 L 43.02 41.09 L 44.13 40.02 L 45.23 38.99 L 46.33 37.99 L 47.44 37.02 L 48.54 36.07 L 49.65 35.15 L 50.75 34.25 L 51.85 33.38 L 52.96 32.53 L 54.06 31.71 L 55.17 30.90 L 56.27 30.12 L 57.38 29.36 L 58.48 28.62 L 59.58 27.90 L 60.69 27.20 L 61.79 26.51 L 62.90 25.85 L 64.00 25.20 L 65.10 24.57 L 66.21 23.96 L 67.31 23.37 L 68.42 22.79 L 69.52 22.23 L 70.63 21.68 L 71.73 21.15 L 72.83 20.64 L 73.94 20.14 L 75.04 19.66 L 76.15 19.19 L 77.25 18.74 L 78.35 18.30 L 79.46 17.87 L 80.56 17.46 L 81.67 17.06 L 82.77 16.68 L 83.88 16.31 L 84.98 15.95 L 86.08 15.61 L 87.19 15.28 L 88.29 14.96 L 89.40 14.66 L 90.50 14.37 L 91.60 14.09 L 92.71 13.82 L 93.81 13.57 L 94.92 13.33 L 96.02 13.10 L 97.13 12.88 L 98.23 12.68 L 99.33 12.48 L 100.44 12.30 L 101.54 12.13 L 102.65 11.98 L 103.75 11.83 L 104.85 11.70 L 105.96 11.58 L 107.06 11.47 L 108.17 11.37 L 109.27 11.28 L 110.38 11.21 L 111.48 11.14 L 112.58 11.09 L 113.69 11.05 L 114.79 11.02 L 115.90 11.01 L 117.00 11.00" stroke-width="2.5" fill="none"></path></svg><div><p>Convex Circle</p><p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><msqrt><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">y = \sqrt{(1 - (1 - x)) ^ 2}</annotation></semantics></math></span></span></p><p>Simple circular arc → a spherical dome. Easier than the squircle, but the
transition to the flat interior is harsher, producing sharper refraction
edges—more noticeable when the shape is stretched away from a true circle.</p></div><svg viewBox="0 0 128 128"><rect x="0.5" y="0.5" width="127" height="127" rx="6"></rect><path d="M 11.00 117.00 L 12.10 69.30 L 13.21 60.49 L 14.31 54.71 L 15.42 50.33 L 16.52 46.78 L 17.63 43.79 L 18.73 41.21 L 19.83 38.95 L 20.94 36.94 L 22.04 35.12 L 23.15 33.48 L 24.25 31.98 L 25.35 30.61 L 26.46 29.34 L 27.56 28.17 L 28.67 27.08 L 29.77 26.07 L 30.88 25.13 L 31.98 24.25 L 33.08 23.43 L 34.19 22.66 L 35.29 21.93 L 36.40 21.25 L 37.50 20.62 L 38.60 20.01 L 39.71 19.45 L 40.81 18.92 L 41.92 18.41 L 43.02 17.94 L 44.13 17.49 L 45.23 17.07 L 46.33 16.67 L 47.44 16.30 L 48.54 15.95 L 49.65 15.61 L 50.75 15.30 L 51.85 15.00 L 52.96 14.72 L 54.06 14.46 L 55.17 14.21 L 56.27 13.98 L 57.38 13.76 L 58.48 13.55 L 59.58 13.36 L 60.69 13.18 L 61.79 13.01 L 62.90 12.85 L 64.00 12.70 L 65.10 12.56 L 66.21 12.43 L 67.31 12.30 L 68.42 12.19 L 69.52 12.08 L 70.63 11.98 L 71.73 11.89 L 72.83 11.81 L 73.94 11.73 L 75.04 11.66 L 76.15 11.59 L 77.25 11.53 L 78.35 11.47 L 79.46 11.42 L 80.56 11.37 L 81.67 11.33 L 82.77 11.29 L 83.88 11.25 L 84.98 11.22 L 86.08 11.19 L 87.19 11.17 L 88.29 11.14 L 89.40 11.12 L 90.50 11.10 L 91.60 11.09 L 92.71 11.07 L 93.81 11.06 L 94.92 11.05 L 96.02 11.04 L 97.13 11.03 L 98.23 11.03 L 99.33 11.02 L 100.44 11.02 L 101.54 11.01 L 102.65 11.01 L 103.75 11.01 L 104.85 11.00 L 105.96 11.00 L 107.06 11.00 L 108.17 11.00 L 109.27 11.00 L 110.38 11.00 L 111.48 11.00 L 112.58 11.00 L 113.69 11.00 L 114.79 11.00 L 115.90 11.00 L 117.00 11.00" stroke-width="2.5" fill="none"></path></svg><div><p>Convex Squircle</p><p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mroot><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>4</mn></msup></mrow><mn>4</mn></mroot></mrow><annotation encoding="application/x-tex">y = \sqrt[4]{(1 - (1 - x)) ^ 4}</annotation></semantics></math></span></span></p><p>Uses the <a href="https://en.wikipedia.org/wiki/Squircle">Squircle</a> Apple favors: a
softer flat→curve transition that keeps refraction gradients smooth even
when stretched into rectangles—no harsh interior edges. It also makes the
bezel appear optically thinner than its physical size because the flatter
outer zones bend light less.</p></div><svg viewBox="0 0 128 128"><rect x="0.5" y="0.5" width="127" height="127" rx="6"></rect><path d="M 11.00 11.00 L 12.10 26.26 L 13.21 32.52 L 14.31 37.29 L 15.42 41.28 L 16.52 44.76 L 17.63 47.89 L 18.73 50.73 L 19.83 53.36 L 20.94 55.81 L 22.04 58.11 L 23.15 60.27 L 24.25 62.32 L 25.35 64.26 L 26.46 66.12 L 27.56 67.89 L 28.67 69.59 L 29.77 71.23 L 30.88 72.79 L 31.98 74.30 L 33.08 75.76 L 34.19 77.17 L 35.29 78.53 L 36.40 79.84 L 37.50 81.11 L 38.60 82.34 L 39.71 83.54 L 40.81 84.70 L 41.92 85.82 L 43.02 86.91 L 44.13 87.98 L 45.23 89.01 L 46.33 90.01 L 47.44 90.98 L 48.54 91.93 L 49.65 92.85 L 50.75 93.75 L 51.85 94.62 L 52.96 95.47 L 54.06 96.29 L 55.17 97.10 L 56.27 97.88 L 57.38 98.64 L 58.48 99.38 L 59.58 100.10 L 60.69 100.80 L 61.79 101.49 L 62.90 102.15 L 64.00 102.80 L 65.10 103.43 L 66.21 104.04 L 67.31 104.63 L 68.42 105.21 L 69.52 105.77 L 70.63 106.32 L 71.73 106.85 L 72.83 107.36 L 73.94 107.86 L 75.04 108.34 L 76.15 108.81 L 77.25 109.26 L 78.35 109.70 L 79.46 110.13 L 80.56 110.54 L 81.67 110.94 L 82.77 111.32 L 83.88 111.69 L 84.98 112.05 L 86.08 112.39 L 87.19 112.72 L 88.29 113.04 L 89.40 113.34 L 90.50 113.63 L 91.60 113.91 L 92.71 114.18 L 93.81 114.43 L 94.92 114.67 L 96.02 114.90 L 97.13 115.12 L 98.23 115.32 L 99.33 115.52 L 100.44 115.70 L 101.54 115.87 L 102.65 116.02 L 103.75 116.17 L 104.85 116.30 L 105.96 116.42 L 107.06 116.53 L 108.17 116.63 L 109.27 116.72 L 110.38 116.79 L 111.48 116.86 L 112.58 116.91 L 113.69 116.95 L 114.79 116.98 L 115.90 116.99 L 117.00 117.00" stroke-width="2.5" fill="none"></path></svg><div><p>Concave</p><p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mn>1</mn><mo>−</mo><mtext>Convex</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y = 1 - \text{Convex}(x)</annotation></semantics></math></span></span></p><p>The concave surface is the complement of the convex function, creating a
bowl-like depression. This surface causes light rays to diverge outward,
displacing them beyond the glass boundaries.</p></div><svg viewBox="0 0 128 128"><rect x="0.5" y="0.5" width="127" height="127" rx="6"></rect><path d="M 11.00 117.00 L 12.10 60.49 L 13.21 50.32 L 14.31 43.79 L 15.42 38.95 L 16.52 35.12 L 17.63 31.99 L 18.73 29.38 L 19.83 27.16 L 20.94 25.28 L 22.04 23.66 L 23.15 22.28 L 24.25 21.12 L 25.35 20.14 L 26.46 19.33 L 27.56 18.68 L 28.67 18.18 L 29.77 17.81 L 30.88 17.59 L 31.98 17.48 L 33.08 17.50 L 34.19 17.63 L 35.29 17.88 L 36.40 18.23 L 37.50 18.68 L 38.60 19.24 L 39.71 19.89 L 40.81 20.63 L 41.92 21.46 L 43.02 22.38 L 44.13 23.38 L 45.23 24.46 L 46.33 25.62 L 47.44 26.85 L 48.54 28.14 L 49.65 29.51 L 50.75 30.93 L 51.85 32.41 L 52.96 33.95 L 54.06 35.54 L 55.17 37.18 L 56.27 38.87 L 57.38 40.59 L 58.48 42.35 L 59.58 44.15 L 60.69 45.97 L 61.79 47.83 L 62.90 49.70 L 64.00 51.60 L 65.10 53.51 L 66.21 55.44 L 67.31 57.37 L 68.42 59.31 L 69.52 61.25 L 70.63 63.19 L 71.73 65.12 L 72.83 67.04 L 73.94 68.95 L 75.04 70.84 L 76.15 72.72 L 77.25 74.57 L 78.35 76.39 L 79.46 78.18 L 80.56 79.94 L 81.67 81.66 L 82.77 83.34 L 83.88 84.97 L 84.98 86.56 L 86.08 88.09 L 87.19 89.58 L 88.29 91.00 L 89.40 92.37 L 90.50 93.68 L 91.60 94.93 L 92.71 96.11 L 93.81 97.23 L 94.92 98.28 L 96.02 99.26 L 97.13 100.17 L 98.23 101.01 L 99.33 101.79 L 100.44 102.49 L 101.54 103.13 L 102.65 103.70 L 103.75 104.20 L 104.85 104.65 L 105.96 105.03 L 107.06 105.36 L 108.17 105.63 L 109.27 105.85 L 110.38 106.03 L 111.48 106.16 L 112.58 106.26 L 113.69 106.33 L 114.79 106.37 L 115.90 106.39 L 117.00 106.40" stroke-width="2.5" fill="none"></path></svg><div><p>Lip</p><p><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mtext>mix</mtext><mo stretchy="false">(</mo><mtext>Convex</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>Concave</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>Smootherstep</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y = \text{mix}(\text{Convex}(x), \text{Concave}(x), \text{Smootherstep}(x))</annotation></semantics></math></span></span></p><p>Blends convex and concave via <a href="https://en.wikipedia.org/wiki/Smoothstep">Smootherstep</a>: raised rim, shallow center dip.</p></div></div>
<p>We could make the surface function more complex by adding more parameters, but these four already give a good idea of how the surface shape affects the refraction.</p>
<h2 id="simulation"><a href="#simulation" aria-label="Permalink">#</a>Simulation</h2>
<p>Now let's see these surface functions in action through interactive ray tracing simulations. The following visualization demonstrates how light rays behave differently as they pass through each surface type, helping us understand the practical implications of our mathematical choices.</p>

<p>From the simulation, we can see that concave surfaces push rays outside the glass; convex surfaces keep them inside.</p>
<p>We want to avoid outside displacement because it requires sampling background beyond the object. Apple’s Liquid Glass appears to favor convex profiles (except for the Switch component, covered later).</p>
<p>The background arrow indicates displacement—how far a ray lands compared to where it would have landed without glass. Color encodes magnitude (longer → more purple).</p>
<p>Take a look at symmetry: rays at the same distance from the border share the same displacement magnitude on each side. Compute once, reuse around the bezel/object.</p>
<h2 id="displacement-vector-field"><a href="#displacement-vector-field" aria-label="Permalink">#</a>Displacement Vector Field</h2>
<p>Now that calculated the displacement at a distance from border, let's calculate the displacement vector field for the entire glass surface.</p>
<p>The vector field describes at every position on the glass surface how much the light ray is displaced from its original position, and in which direction. In a circle, this displacement is always orthogonal to the border.</p>
<h2 id="pre-calculating-the-displacement-magnitude"><a href="#pre-calculating-the-displacement-magnitude" aria-label="Permalink">#</a>Pre-calculating the displacement magnitude</h2>
<p>Because we saw that this displacement magnitude is symmetric around the bezel, we can pre-calculate it for a range of distances from the border, on a single radius.</p>
<p>This allows us to calculate everything in two dimensions once (x and z axis), on one "half-slice" of the object, and we will the rotate these pre-calculated displacements around the z-axis.</p>
<p>The actual number of samples we need to do on a radius is of 127 ray simulations, and is determined by the constraints of the SVG Displacement Map resolution. (See next section.)</p>

<h2 id="normalizing-vectors"><a href="#normalizing-vectors" aria-label="Permalink">#</a>Normalizing vectors</h2>
<p>In the above diagram, the arrows are all scaled down for visibility, so they do not overlap. This is normalization, and is also useful from a technical standpoint.</p>
<p>To use these vectors in a displacement map, we need to normalize them. Normalization means scaling the vectors so that their maximum magnitude is <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span></span>, which allows us to represent them in a fixed range.</p>
<p>So we calculate the maximum displacement magnitude in our pre-calculated array:</p>
<figure data-rehype-pretty-code-figure=""><pre><code data-language="ts" data-theme=""><span data-line=""><span>const</span><span> maximumDisplacement</span><span> =</span><span> Math</span><span>.</span><span>max</span><span>(</span><span>...</span><span>displacementMagnitudes</span><span>);</span></span></code></pre></figure>
<p>And we divide each vector's magnitude by this maximum:</p>
<figure data-rehype-pretty-code-figure=""><pre><code data-language="ts" data-theme=""><span data-line=""><span>displacementVector_normalized</span><span> =</span><span> {</span></span>
<span data-line=""><span>  angle: </span><span>normalAtBorder</span><span>,</span></span>
<span data-line=""><span>  magnitude: </span><span>magnitude</span><span> /</span><span> maximumDisplacement</span><span>,</span></span>
<span data-line=""><span>};</span></span></code></pre></figure>
<p>We store <code>maximumDisplacement</code> as we will need it to re-scale the displacement map back to the actual magnitudes.</p>
<h2 id="svg-displacement-map"><a href="#svg-displacement-map" aria-label="Permalink">#</a>SVG Displacement Map</h2>
<p>Now we need to translate our mathematical refraction calculations into something the browser can actually render. We'll use <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Reference/Element/feDisplacementMap"><strong>SVG displacement maps</strong></a>.</p>
<p>A displacement map is simply an image where each pixel's color tells the browser how far it should find the actual pixel value from its current position.</p>
<p>SVG's <code>&lt;feDisplacementMap /&gt;</code> encodes these pixels in a 32 bit RGBA image, where each channel represents a different axis of displacement.</p>
<p>It's up to the user to define which channel corresponds to which axis, but it is important to understand the constraint:
Because each channel is 8 bits, the displacement is limited to a range of -128 to 127 pixels in each direction. (256 values possible in total).
128 is the neutral value, meaning no displacement.</p>
<p>SVG filters can only use images as displacement maps, so we need to convert our displacement vector field into an image format.</p>
<figure data-rehype-pretty-code-figure=""><pre><code data-language="tsx" data-theme=""><span data-line=""><span>&lt;</span><span>svg</span><span> colorInterpolationFilters</span><span>=</span><span>"sRGB"</span><span>&gt;</span></span>
<span data-line=""><span>  &lt;</span><span>filter</span><span> id</span><span>=</span><span>{</span><span>id</span><span>}&gt;</span></span>
<span data-line=""><span>    &lt;</span><span>feImage</span></span>
<span data-line=""><span>      href</span><span>=</span><span>{</span><span>displacementMapDataUrl</span><span>}</span></span>
<span data-line=""><span>      x</span><span>=</span><span>{</span><span>0</span><span>}</span></span>
<span data-line=""><span>      y</span><span>=</span><span>{</span><span>0</span><span>}</span></span>
<span data-line=""><span>      width</span><span>=</span><span>{</span><span>width</span><span>}</span></span>
<span data-line=""><span>      height</span><span>=</span><span>{</span><span>height</span><span>}</span></span>
<span data-line=""><span>      result</span><span>=</span><span>"displacement_map"</span></span>
<span data-line=""><span>    /&gt;</span></span>
<span data-line=""><span>    &lt;</span><span>feDisplacementMap</span></span>
<span data-line=""><span>      in</span><span>=</span><span>"SourceGraphic"</span></span>
<span data-line=""><span>      in2</span><span>=</span><span>"displacement_map"</span></span>
<span data-line=""><span>      scale</span><span>=</span><span>{</span><span>scale</span><span>}</span></span>
<span data-line=""><span>      xChannelSelector</span><span>=</span><span>"R"</span><span> // Red Channel for displacement in X axis</span></span>
<span data-line=""><span>      yChannelSelector</span><span>=</span><span>"G"</span><span> // Green Channel for displacement in Y axis</span></span>
<span data-line=""><span>    /&gt;</span></span>
<span data-line=""><span>  &lt;/</span><span>filter</span><span>&gt;</span></span>
<span data-line=""><span>&lt;/</span><span>svg</span><span>&gt;</span></span></code></pre></figure>
<p><code>&lt;feDisplacementMap /&gt;</code> uses the red channel for the X axis and the green channel for the Y axis. The blue and alpha channels are ignored.</p>
<h2 id="scale"><a href="#scale" aria-label="Permalink">#</a>Scale</h2>
<p>The Red (X) and Green (Y) channels are 8‑bit values (0–255). Interpreted without any extra scaling, they map linearly to a normalized displacement in [−1, 1], with 128 as the neutral value (no displacement):</p>
<p><span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>↦</mo><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>128</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>↦</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>255</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>↦</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
0 &amp;\mapsto -1 \\
128 &amp;\mapsto 0 \\
255 &amp;\mapsto 1
\end{aligned}</annotation></semantics></math></span></span></span></p><p>The <code>scale</code> attribute of <code>&lt;feDisplacementMap /&gt;</code> multiplies this normalized amount:</p>
<p><span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>↦</mo><mo>−</mo><mi>s</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>128</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>↦</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>255</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>↦</mo><mi>s</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>e</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
0 &amp;\mapsto -scale \\
128 &amp;\mapsto 0 \\
255 &amp;\mapsto scale
\end{aligned}</annotation></semantics></math></span></span></span></p><p>Because our vectors are normalized using the maximum possible displacement (in pixels) as the unit, we can reuse that maximum directly as the filter’s <code>scale</code>:</p>
<figure data-rehype-pretty-code-figure=""><pre><code data-language="tsx" data-theme=""><span data-line=""><span>&lt;</span><span>feDisplacementMap</span></span>
<span data-line=""><span>  in</span><span>=</span><span>"SourceGraphic"</span></span>
<span data-line=""><span>  in2</span><span>=</span><span>"displacement_map"</span></span>
<span data-line=""><span>  scale</span><span>=</span><span>{</span><span>maximumDisplacement</span><span>} </span><span>// max displacement (px) → real pixel shift</span></span>
<span data-line=""><span>  xChannelSelector</span><span>=</span><span>"R"</span></span>
<span data-line=""><span>  yChannelSelector</span><span>=</span><span>"G"</span></span>
<span data-line=""><span>/&gt;</span></span></code></pre></figure>
<p>You can also animate <code>scale</code> to fade the effect in/out—no need to recompute the map (useful for artistic control even if not physically exact).</p>
<h2 id="vector-to-red-green-values"><a href="#vector-to-red-green-values" aria-label="Permalink">#</a>Vector to Red-Green values</h2>
<p>To convert our displacement vector field into a displacement map, we need to convert each vector into a color value. The red channel will represent the X component of the vector, and the green channel will represent the Y component.</p>
<p>We currently have polar coordinates (angle and magnitude) for each vector, so we need to convert them to Cartesian coordinates (X and Y) before mapping them to the red and green channels.</p>
<figure data-rehype-pretty-code-figure=""><pre><code data-language="tsx" data-theme=""><span data-line=""><span>const</span><span> x</span><span> =</span><span> Math</span><span>.</span><span>cos</span><span>(</span><span>angle</span><span>) </span><span>*</span><span> magnitude</span><span>;</span></span>
<span data-line=""><span>const</span><span> y</span><span> =</span><span> Math</span><span>.</span><span>sin</span><span>(</span><span>angle</span><span>) </span><span>*</span><span> magnitude</span><span>;</span></span></code></pre></figure>
<p>Because we normalised our vectors already, <code>magnitude</code> here is between 0 and 1.</p>
<p>From here, we just remap the values to the range of 0 to 255 for the red and green channels:</p>

<figure data-rehype-pretty-code-figure=""><pre><code data-language="tsx" data-theme=""><span data-line=""><span>const</span><span> result</span><span> =</span><span> {</span></span>
<span data-line=""><span>  r: </span><span>128</span><span> +</span><span> x</span><span> *</span><span> 127</span><span>, </span><span>// Red channel is the X component, remapped to 0-255</span></span>
<span data-line=""><span>  g: </span><span>128</span><span> +</span><span> y</span><span> *</span><span> 127</span><span>, </span><span>// Green channel is the Y component, remapped to 0-255</span></span>
<span data-line=""><span>  b: </span><span>128</span><span>, </span><span>// Blue channel is ignored</span></span>
<span data-line=""><span>  a: </span><span>255</span><span>, </span><span>// Alpha channel is fully opaque</span></span>
<span data-line=""><span>};</span></span></code></pre></figure>
<p>After converting every vector in the map to color value, we get an image that can be used as a displacement map in the SVG filter.</p>
<h2 id="playground"><a href="#playground" aria-label="Permalink">#</a>Playground</h2>
<p>This playground applies the SVG displacement filter to a simple scene and lets you tweak surface shape, bezel width, glass thickness, and effect scale. Watch how these inputs change the refraction field, the generated displacement map, and the final rendering.</p>
<div><p><h4>Displacement Map</h4><canvas></canvas></p><p><h4>Preview</h4><svg viewBox="0 0 400 300" height="100%" color-interpolation-filters="sRGB"><defs><filter id="«Rjuij5»" color-interpolation-filters="sRGB"><feImage x="0" y="0" width="400" height="300" result="displacement_map"></feImage><feDisplacementMap in="SourceGraphic" in2="displacement_map" scale="55.11490080256904" xChannelSelector="R" yChannelSelector="G"></feDisplacementMap></filter><pattern id="grid" x="-15" y="-15" width="30" height="30" patternUnits="userSpaceOnUse"></pattern><linearGradient id="doubleGradient" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#4FBDBB"></stop> <stop offset="50%" stop-color="#AFBDBB"></stop> <stop offset="100%" stop-color="#DFBDBB"></stop> </linearGradient></defs><g filter="url(#«Rjuij5»)"><rect width="400" height="300" fill="url(#doubleGradient)"></rect><rect width="400" height="300" fill="url(#grid)"></rect></g></svg></p></div>
<h2 id="specular-highlight"><a href="#specular-highlight" aria-label="Permalink">#</a>Specular Highlight</h2>
<p>The final piece of our Liquid Glass effect is the <strong>specular highlight</strong>—those bright, shiny edges you see on real glass objects when light hits them at certain angles.</p>
<p>The way Apple implements it seems to be a simple rim light effect, where the highlight appears around the edges of the glass object, and its intensity varies based on the angle of the surface normal relative to a fixed light direction.</p>
<div><p><label>Specular Angle:<!-- --> <span>-60</span>°</label></p><p><span>-180°</span><span>0°</span><span>180°</span></p></div>
<h2 id="combining-refraction-and-specular-highlight"><a href="#combining-refraction-and-specular-highlight" aria-label="Permalink">#</a>Combining Refraction and Specular Highlight</h2>
<p>In the final SVG filter, we combine both the displacement map for refraction and the specular highlight effect.</p>
<p>Both are loaded as separate <code>&lt;feImage /&gt;</code> elements, and then combined using <code>&lt;feBlend /&gt;</code> to overlay the highlight on top of the refracted image.</p>
<p>But this part is actually the most "creative" part of the effect, and it's just by tweaking the number of filters, and their parameters, that you can get a variety of different looks.</p>
<h2 id="svg-filter-as-backdrop-filter"><a href="#svg-filter-as-backdrop-filter" aria-label="Permalink">#</a>SVG Filter as <code>backdrop-filter</code></h2>
<p>This is the part where cross-browser compatibility ends. Only Chrome currently supports using SVG filters as <code>backdrop-filter</code>, which is essential for applying the Liquid Glass effect to UI components:</p>
<figure data-rehype-pretty-code-figure=""><pre><code data-language="css" data-theme=""><span data-line=""><span>.glass-panel</span><span> {</span></span>
<span data-line=""><span>  backdrop-filter</span><span>: </span><span>url</span><span>(</span><span>#liquidGlassFilterId</span><span>);</span></span>
<span data-line=""><span>}</span></span></code></pre></figure>
<blockquote>
<p>Note: The backdrop-filter dimensions does not adjust automatically to the element size, so you need to ensure that your filter images fit the size of your elements.</p>
</blockquote>
<p>Now that we have all the pieces in place, we can create components that use this effect.</p>
<h2 id="bringing-it-all-together-real-ui-components"><a href="#bringing-it-all-together-real-ui-components" aria-label="Permalink">#</a>Bringing It All Together: Real UI Components</h2>
<p>With our refraction math and displacement maps working, let's see how this translates to actual UI components you might use in an application.</p>
<div><p>Chrome‑specific demo</p><p>Chrome allows using SVG filters as <code>backdrop-filter</code>, which
isn’t part of the CSS spec.</p><p>Above, we used regular <code>filter</code> so it’s viewable in
Safari/Firefox.</p><p>The next components use <code>backdrop-filter</code>, so they’re
Chrome‑only.</p></div>
<p>The goal won't be to create real components for production, but just to get a taste of how the effect looks in different UI elements.</p>
<h2 id="magnifying-glass"><a href="#magnifying-glass" aria-label="Permalink">#</a>Magnifying Glass</h2>
<p>This component actually uses two displacement maps: one for the refraction on the sides, and one for the zooming, which has a stronger refraction effect.</p>
<p>It also plays with shadows and scaling to create a more dynamic, interactive effect.</p>
<div><div><p><span></span><span>Optics Study</span></p><div><p>Drag the capsule to bend the page. This lens is a compact SVG displacement rig that refracts whatever sits beneath it.</p><p>The field comes from a rounded bezel profile; pixels are pushed along its gradient, then topped with a subtle specular bloom for depth.</p><p>Sweep across strong edges—high contrast makes the bend snap.</p></div></div><p><img src="https://images.unsplash.com/photo-1579380656108-f98e4df8ea62?q=80&amp;w=800&amp;auto=format&amp;fit=crop" alt="Abstract architectural lines" loading="lazy" draggable="false"></p></div><div><p><label>Specular Opacity</label><span>0.50</span></p><p><label>Specular Saturation</label><span>9</span></p><p><label>Refraction Level</label><span>1.00</span></p></div>
<h2 id="searchbox"><a href="#searchbox" aria-label="Permalink">#</a>Searchbox</h2>
<div><p><label>Specular Opacity</label><span>0.20</span></p><p><label>Specular Saturation</label><span>4</span></p><p><label>Refraction Level</label><span>0.70</span></p><p><label>Blur Level</label><span>1.0</span></p></div>
<h2 id="switch"><a href="#switch" aria-label="Permalink">#</a>Switch</h2>
<p>This uses a lip bezel, which makes the surface convex on the outside and concave in the middle. This makes the center slider zoomed out, while the edges refract the inside.</p>
<div><p><label>Specular Opacity</label><span>0.50</span></p><p><label>Specular Saturation</label><span>6</span></p><p><label>Refraction Level</label><span>1.00</span></p><p><label>Blur Level</label><span>0.2</span></p></div>
<h2 id="slider"><a href="#slider" aria-label="Permalink">#</a>Slider</h2>
<p>Slider allows you to see the current level through the glass, while the sides refract the background. It uses a convex bezel.</p>
<div><p><label>Specular Opacity</label><span>0.40</span></p><p><label>Specular Saturation</label><span>7</span></p><p><label>Refraction Level</label><span>1.00</span></p><p><label>Blur Level</label><span>0.0</span></p></div>
<h2 id="music-player"><a href="#music-player" aria-label="Permalink">#</a>Music Player</h2>
<p>This fake music player UI tries to mimic the look of Apple Music’s Liquid Glass panels, using a convex bezel and a subtle specular highlight.</p>
<p>It relies on the iTunes Search API to fetch album art and song details.</p>
<div><p><label>Specular Opacity</label><span>0.40</span></p><p><label>Specular Saturation</label><span>6</span></p><p><label>Refraction Level</label><span>1.00</span></p><p><label>Blur Level</label><span>1.0</span></p><p><label>Progressive Blur Strength</label><span>1.00</span></p><p><label>Glass Background Opacity</label><span>0.60</span></p></div>
<h2 id="conclusion"><a href="#conclusion" aria-label="Permalink">#</a>Conclusion</h2>
<p>This prototype distills Apple’s Liquid Glass into real‑time refraction plus a simple highlight. It’s flexible, but still Chrome‑bound—only Chromium exposes SVG filters as <code>backdrop-filter</code>. That said, it’s already viable inside Chromium‑based runtimes like Electron, elsewhere you could fake a softer fallback with layered blur.</p>
<p>Treat this strictly as experimental. Dynamic shape/size changes are currently costly because nearly every tweak (besides animating <code>&lt;filter /&gt;</code> props, like <code>scale</code>) forces a full displacement map rebuild.</p>
<p>The code needs a cleanup pass and perf work before any possible open‑source release.</p>
<p>Thanks for reading my first post—I'd genuinely love any feedback, ideas, critiques, or suggestions. If it sparked a thought or you know someone who'd enjoy this kind of deep‑dive, feel free to pass it along.</p></div></div>]]></description>
        </item>
    </channel>
</rss>