<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 02 Nov 2025 19:30:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Why don't you use dependent types? (103 pts)]]></title>
            <link>https://lawrencecpaulson.github.io//2025/11/02/Why-not-dependent.html</link>
            <guid>45790827</guid>
            <pubDate>Sun, 02 Nov 2025 15:06:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lawrencecpaulson.github.io//2025/11/02/Why-not-dependent.html">https://lawrencecpaulson.github.io//2025/11/02/Why-not-dependent.html</a>, See on <a href="https://news.ycombinator.com/item?id=45790827">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>

      
<p>02 Nov 2025</p>

<span>[
  
    
    <a href="https://lawrencecpaulson.github.io/tag/memories"><code><nobr>memories</nobr></code>&nbsp;</a>
  
    
    <a href="https://lawrencecpaulson.github.io/tag/AUTOMATH"><code><nobr>AUTOMATH</nobr></code>&nbsp;</a>
  
    
    <a href="https://lawrencecpaulson.github.io/tag/LCF"><code><nobr>LCF</nobr></code>&nbsp;</a>
  
    
    <a href="https://lawrencecpaulson.github.io/tag/type_theory"><code><nobr>type theory</nobr></code>&nbsp;</a>
  
    
    <a href="https://lawrencecpaulson.github.io/tag/Martin-L%C3%B6f_type_theory"><code><nobr>Martin-Löf type theory</nobr></code>&nbsp;</a>
  
    
    <a href="https://lawrencecpaulson.github.io/tag/NG_de_Bruijn"><code><nobr>NG de Bruijn</nobr></code>&nbsp;</a>
  
    
    <a href="https://lawrencecpaulson.github.io/tag/ALEXANDRIA"><code><nobr>ALEXANDRIA</nobr></code>&nbsp;</a>
  
]</span>

<p>To be fair, nobody asks me this exact question.
But people have regularly asked why Isabelle dispenses with proof objects.
The two questions are essentially the same, 
because proof objects are intrinsic to all the usual type theories.
They are also completely unnecessary and a huge waste of space.
As described in an <a href="https://lawrencecpaulson.github.io/2022/01/05/LCF.html">earlier post</a>,
type checking in the <em>implementation language</em> (rather than in the logic)
can ensure that only legitimate proof steps are executed.
Robin Milner had this fundamental insight 50 years ago,
giving us the LCF architecture with its proof kernel.
But the best answer to the original question is simply this: 
I did use dependent types, for years.</p>

<h3 id="my-time-with-automath">My time with AUTOMATH</h3>

<p>I was lucky enough to get some personal time with N G de Bruijn
when he came to Caltech in 1977 to lecture about
<a href="https://lawrencecpaulson.github.io/2021/11/03/AUTOMATH.html">AUTOMATH</a>.
I never actually got to use this system.
Back then, researchers used the nascent Internet (the ARPAnet)
not to download software so much as 
to run software directly on the host computer, 
since most software was not portable.
But Eindhoven University was not on the ARPAnet,
and AUTOMATH was configured to run on 
<a href="https://automath.win.tue.nl/archive/pdf/aut034.pdf">a computer we did not have</a>:</p>

<blockquote>
  <p>Until September 1973, the computer was the Electrologica X8, after that
Burroughs 6700. In both cases the available multiprogranming systems
required the use of ALGOL 60.</p>
</blockquote>

<p>I did however read many of the research reports, including 
the <a href="https://automath.win.tue.nl/archive/pdf/aut046.pdf">PhD dissertation</a> by LS Jutting,
where he presents his translation 
of Landau’s text <em>Grundlagen der Analysis</em> (described <a href="https://lawrencecpaulson.github.io/2025/10/15/Proofs-trivial.html">last time</a>)
from German into AUTOMATH.
It is no coincidence that many of my papers, from the
<a href="https://doi.org/10.1016/0167-6423(85)90009-7">earliest</a>
to the <a href="https://doi.org/10.4230/LIPIcs.ITP.2025.18">latest</a>,
copied the idea of formalising a text
and attempting to be faithful to it, if possible line by line.</p>

<p>As an aside, note that while AUTOMATH was a system of dependent types,
it did not embody the 
<a href="https://lawrencecpaulson.github.io/2023/08/23/Propositions_as_Types.html">Curry–Howard correspondence</a>
(sometimes wrongly called the Curry–Howard–de Bruijn correspondence).
That correspondence involves having a type theory strong enough
to represent the predicate calculus directly in the form of types.
In AUTOMATH you had to introduce the symbols and inference rules 
of your desired calculus in the form of axioms, much as you do with Isabelle.
In short, AUTOMATH was a <a href="https://pure.tue.nl/ws/files/1892191/597622.pdf">logical framework</a>:</p>

<blockquote>
  <p>like a big restaurant that serves all sorts of food: vegetarian, kosher, or anything else the customer wants</p>
</blockquote>

<p>De Bruijn
<a href="https://pure.tue.nl/ws/portalfiles/portal/4428179/597611.pdf">did not approve</a> 
of the increasingly powerful type theories being developed in the 1990s.
AUTOMATH was a weak language, 
a form of λ-calculus including a general product construction just
powerful enough to express the inference rules of a variety of formalisms
and to make simple definitions, again clearly the inspiration for Isabelle.
Isabelle aims to be <a href="https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-130.html"><em>generic</em></a>, like the big AUTOMATH restaurant.
Only these days everybody prefers the same cuisine,
higher-order logic, so Isabelle/HOL has become dominant.
Unfortunately, I last spoke to Dick (as he was known to friends)
when I was putting all my effort into Isabelle/ZF.
He simply loathed set theory and saw mathematics as essentially typed.
He never lived to see the enormous amount of advanced mathematics
that would be formalised using types in Isabelle/HOL.</p>

<p>I annoyed him in another way. I kept asking,
AUTOMATH looks natural, but how do we know that it is right?
He eventually sent me a 300 page volume entitled
<a href="https://automath.win.tue.nl/archive/pdf/aut073.pdf">The Language Theory of Automath</a>.
It describes AUTOMATH’s formal properties such as 
strong normalisation and Church–Rosser properties,
but this was not the answer I wanted at all.
I got that answer for a quite different type theory.</p>

<h3 id="martin-löf-type-theory">Martin-Löf type theory</h3>

<p>In response to kind invitations from Bengt Nordström and Kent Petersson,
I paid a number of visits to Chalmers University in Gothenburg
to learn about Martin-Löf type theory.
I was particularly impressed by its promise 
of a systematic and formal approach to program synthesis.
I had already encountered <a href="https://lawrencecpaulson.github.io/2021/11/24/Intuitionism.html">intuitionism</a>
through a course on the philosophy of mathematics at Stanford University,
as I recall taught by <a href="https://www.pet.cam.ac.uk/news/professor-ian-macdougall-hacking-1936-2023">Ian Hacking</a>.
The “rightness” of Martin-Löf type theory was obvious, 
because it directly embodied the principles of intuition truth
as outlined by Heyting: for example, that
a proof of $A\land B$ consists of a proof of $A$ paired with a proof of $B$.</p>

<p>I devoted several years of research to Martin-Löf type theory.
This included a whole year of intricate hand derivations to produce a 
<a href="https://doi.org/10.1016/S0747-7171(86)80002-5">paper</a> 
that I once thought would be important,
and the <a href="https://lawrencecpaulson.github.io/2022/07/13/Isabelle_influences.html">very first version</a> 
of Isabelle.
Yes: Isabelle began as an implementation of Martin-Löf type theory,
which is <a href="https://lawrencecpaulson.github.io/2022/11/30/CTT_in_Isabelle-II.html">still included</a> 
in the distribution even today as Isabelle/CTT.
But eventually I tired of what seemed to me a doctrinaire attitude
bordering on a cult of personality around Per Martin-Löf.
The sudden switch to intensional equality 
(everyone was expected to adopt the new approach) wrecked most of my work.
Screw that.</p>

<p>You might ask, what about the calculus of constructions,
which arose during that time and eventually gave us Rocq and Lean?
(Not to mention <a href="https://www.lfcs.inf.ed.ac.uk/reports/92/ECS-LFCS-92-211/">LEGO</a>.)
To me they raised, and continue to raise, the same question I had put to de Bruijn.
Gérard Huet said something like “it is nothing but function application”,
which did not convince me.
It’s clear that I am being fussy,<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" rel="footnote">1</a></sup>
because thousands of people find these formalisms perfectly natural and believable.
But it is also true that the calculus of constructions 
underwent numerous changes over the past four decades.
There seem to be several optional axioms that people sometimes adopt
while attempting to minimise their use, 
like dieters enjoying an occasional croissant.</p>

<h3 id="decisions-decisions">Decisions, decisions</h3>

<p>We can see all this as an example of the choices we make in research.
People were developing new formalisms. This specific fact was the impetus
for making Isabelle generic in the first place.
But we have to choose whether to spend our time developing formalisms 
or instead to choose a fixed formalism and see how far you can push it.
Both are legitimate research goals.</p>

<p>For example, already in 1985, Mike Gordon 
was using higher-order logic <a href="https://doi.org/10.48456/tr-77">to verify hardware</a>.
He was not distracted by the idea that some dependent type theory might work better
for <em>n</em>-bit words and the like.
The formalism that he implemented was essentially the same as the 
<a href="https://plato.stanford.edu/entries/type-theory-church/">simple theory of types</a> 
outlined by Alonzo Church in 1940.
He made verification history using this venerable formalism, 
and John Harrison later found
a clever way to <a href="https://doi.org/10.1007/11541868_8">encode the dimension</a>
of vector types including words.
Isabelle/HOL also implements Church’s simple type theory,
with one extension: <a href="https://lawrencecpaulson.github.io/2022/03/02/Type_classes.html">axiomatic type classes</a>.
Isabella users also derive much power from the <a href="https://doi.org/10.1007/s10817-019-09537-9">locale concept</a>, 
a kind of module sysstem that lies outside any particular logic.</p>

<p>During all this time, both Martin-Löf type theory and the calculus of constructions
went through several stages of evolution. It’s remarkable how the Lean community,
by running with a certain version of the calculus,
quickly formalised a <a href="https://leanprover-community.github.io/mathlib-overview.html">vast amount of mathematics</a>.</p>

<h3 id="pushing-higher-order-logic-to-its-limit">Pushing higher-order logic to its limit</h3>

<p>I felt exceptionally lucky to win 
<a href="https://cordis.europa.eu/project/id/742178">funding from the European Research Council</a>
for the advanced grant <a href="https://lawrencecpaulson.github.io/2021/12/08/ALEXANDRIA.html">ALEXANDRIA</a>.
When I applied, homotopy type theory was still all the rage,
so <a href="https://www.cl.cam.ac.uk/~lp15/Grants/Alexandria/Part-B2.pdf">the proposal</a>  emphasised Isabelle’s specific advantages: its automation,
its huge libraries and the legibility of its proofs.</p>

<p>The team started work with enthusiasm.
Nevertheless, I fully expected that we would hit a wall, 
reaching mathematical material
that could not easily be formalised in higher-order logic.
Too much of Isabelle’s analysis library identified topological spaces
with types.
Isabelle’s abstract algebra library was old and crufty.
A number of my research colleagues were convinced
that higher-logic was not adequate for serious mathematics.
But Anthony Bordg took up the challenge, leading a subproject
to <a href="https://doi.org/10.1080/10586458.2022.2062073">formalise Grothendieck schemes</a>.</p>

<p>For some reason I had a particular fear of the field extension $F[a]$,
which extends the field $F$ with some $a$ postulated to be 
a root of some polynomial over $F$.
(For example, the field of complex numbers is precisely $\mathbb{R}[i]$, 
where $i$ is postulated to be a root a root of $x^2+1=0$.)
And yet an early outcome of ALEXANDRIA was<a href="https://rdcu.be/cIK3W"> a proof</a>,
by Paulo Emílio de Vilhena and Martin Baillon,
that every field admits an algebraically closed extension. 
This was the first proof of that theorem in any proof assistant, 
and its proof involves an infinite series of field extensions.</p>

<p>We never hit any wall.
As our group went on to formalise 
<a href="https://www.cl.cam.ac.uk/~lp15/Grants/Alexandria/">more and more advanced results</a>,
such as the <a href="https://doi.org/10.1145/3573105.3575680">Balog–Szemerédi–Gowers theorem</a>,
people stopped saying “you can’t formalise mathematics without dependent types”
and switched to saying “dependent types give you nicer proofs”.
But they never proved this claim.</p>

<p>Now that dependent type theory has attained maturity 
and has an excellent tool in the form of Lean, shall I go back to dependent types?
I am not tempted. The only aspects of Lean that I envy are its huge community and
the <a href="https://github.com/PatrickMassot/leanblueprint">Blueprint tool</a>.
I hear too many complaints about Lean’s performance.
I’ve heard of too many cases where dependent types played badly 
with intensional equality – I sat through an entire talk on this topic – or otherwise made life difficult. 
Quite a few people have told me that 
the secret of dependent types is knowing when <strong>not</strong> to use them.
And so, to me, they have too much in common 
with Tesla’s <a href="https://electrek.co/2025/10/29/tesla-full-self-driving-v14-disappoints-with-hallucinations-brake-stabbing-speeding/">Full Self-Driving</a>.</p>







      


    </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tongyi DeepResearch – open-source 30B MoE Model that rivals OpenAI DeepResearch (168 pts)]]></title>
            <link>https://tongyi-agent.github.io/blog/introducing-tongyi-deep-research/</link>
            <guid>45789602</guid>
            <pubDate>Sun, 02 Nov 2025 11:43:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://tongyi-agent.github.io/blog/introducing-tongyi-deep-research/">https://tongyi-agent.github.io/blog/introducing-tongyi-deep-research/</a>, See on <a href="https://news.ycombinator.com/item?id=45789602">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><a href="https://github.com/Alibaba-NLP/DeepResearch" target="_blank">GITHUB</a>
<a href="https://huggingface.co/Alibaba-NLP/Tongyi-DeepResearch-30B-A3B" target="_blank">HUGGINGFACE</a>
<a href="https://modelscope.cn/models/iic/Tongyi-DeepResearch-30B-A3B" target="_blank">MODELSCOPE</a>
<a href="https://tongyi-agent.github.io/showcase/" target="_blank">SHOWCASE</a></p><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/final_results.png#center" width="100%"></figure><h2 id="from-chatbot-to-autonomous-agent">From Chatbot to Autonomous Agent</h2><p>We&nbsp;are&nbsp;proud&nbsp;to&nbsp;present&nbsp;<strong>Tongyi&nbsp;DeepResearch</strong>,&nbsp;the&nbsp;first&nbsp;fully&nbsp;open‑source&nbsp;Web&nbsp;Agent&nbsp;to&nbsp;achieve&nbsp;performance&nbsp;on&nbsp;par&nbsp;with&nbsp;OpenAI’s&nbsp;DeepResearch&nbsp;across&nbsp;a&nbsp;comprehensive&nbsp;suite&nbsp;of&nbsp;benchmarks.&nbsp;Tongyi&nbsp;DeepResearch&nbsp;demonstrates&nbsp;state‑of‑the‑art&nbsp;results,&nbsp;scoring&nbsp;32.9&nbsp;on&nbsp;the&nbsp;academic&nbsp;reasoning&nbsp;task&nbsp;Humanity’s&nbsp;Last&nbsp;Exam&nbsp;(HLE),&nbsp;43.4&nbsp;on&nbsp;BrowseComp&nbsp;and&nbsp;46.7&nbsp;on&nbsp;BrowseComp‑ZH&nbsp;in&nbsp;extremely&nbsp;complex&nbsp;information‑seeking&nbsp;tasks,&nbsp;and&nbsp;achieving&nbsp;a&nbsp;score&nbsp;of&nbsp;75&nbsp;on&nbsp;the&nbsp;user‑centric&nbsp;xbench‑DeepSearch&nbsp;benchmark,&nbsp;systematically&nbsp;outperforming&nbsp;all&nbsp;existing&nbsp;proprietary&nbsp;and&nbsp;open‑source&nbsp;Deep&nbsp;Research&nbsp;agents.</p><p>Beyond&nbsp;the&nbsp;model,&nbsp;we&nbsp;share&nbsp;a&nbsp;complete&nbsp;and&nbsp;battle‑tested&nbsp;methodology&nbsp;for&nbsp;creating&nbsp;such&nbsp;advanced&nbsp;agents.&nbsp;Our&nbsp;contribution&nbsp;details&nbsp;a&nbsp;novel&nbsp;data&nbsp;synthesis&nbsp;solution&nbsp;applied&nbsp;across&nbsp;the&nbsp;entire&nbsp;training&nbsp;pipeline,&nbsp;from&nbsp;Agentic&nbsp;Continual&nbsp;Pre‑training&nbsp;(CPT)&nbsp;and&nbsp;Supervised&nbsp;Fine‑Tuning&nbsp;(SFT)&nbsp;for&nbsp;cold‑starting,&nbsp;to&nbsp;the&nbsp;final&nbsp;Reinforcement&nbsp;Learning&nbsp;(RL)&nbsp;stage.&nbsp;&nbsp;For&nbsp;RL,&nbsp;we&nbsp;provide&nbsp;a&nbsp;full‑stack&nbsp;solution,&nbsp;including&nbsp;algorithmic&nbsp;innovations,&nbsp;automated&nbsp;data&nbsp;curation,&nbsp;and&nbsp;robust&nbsp;infrastructure.&nbsp;For&nbsp;inference,&nbsp;the&nbsp;vanilla&nbsp;ReAct&nbsp;framework&nbsp;showcases&nbsp;the&nbsp;model’s&nbsp;powerful&nbsp;intrinsic&nbsp;capabilities&nbsp;without&nbsp;any&nbsp;prompt&nbsp;engineering,&nbsp;while&nbsp;the&nbsp;advanced&nbsp;Heavy&nbsp;Mode&nbsp;(test‑time‑scaling)&nbsp;demonstrates&nbsp;the&nbsp;upper&nbsp;limits&nbsp;of&nbsp;its&nbsp;complex&nbsp;reasoning&nbsp;and&nbsp;planning&nbsp;potential.</p><h2 id="continualpre8209trainingandpost8209trainingempoweredbyfullysyntheticdata">Continual&nbsp;Pre‑training&nbsp;and&nbsp;Post‑training&nbsp;Empowered&nbsp;by&nbsp;Fully&nbsp;Synthetic&nbsp;Data</h2><h3 id="continualpre8209trainingdata">Continual&nbsp;Pre‑training&nbsp;Data</h3><p>We&nbsp;introduce&nbsp;Agentic&nbsp;CPT&nbsp;to&nbsp;deep&nbsp;research&nbsp;agent&nbsp;training,&nbsp;creating&nbsp;powerful&nbsp;agentic&nbsp;foundation&nbsp;models&nbsp;for&nbsp;post‑training.&nbsp;We&nbsp;propose&nbsp;AgentFounder,&nbsp;a&nbsp;systematic&nbsp;and&nbsp;scalable&nbsp;solution&nbsp;for&nbsp;large‑scale&nbsp;data&nbsp;synthesis&nbsp;that&nbsp;creates&nbsp;a&nbsp;data&nbsp;flywheel&nbsp;with&nbsp;data&nbsp;from&nbsp;the&nbsp;post‑training&nbsp;pipeline.</p><p><strong>Data&nbsp;Reorganization&nbsp;and&nbsp;Question&nbsp;Construction.</strong>&nbsp;We&nbsp;continuously&nbsp;collect&nbsp;data&nbsp;from&nbsp;various&nbsp;sources,&nbsp;including&nbsp;documents,&nbsp;publicly&nbsp;available&nbsp;crawled&nbsp;data,&nbsp;knowledge&nbsp;graphs,&nbsp;and&nbsp;historical&nbsp;trajectories&nbsp;and&nbsp;tool&nbsp;invocation&nbsp;records&nbsp;(e.g.,&nbsp;search&nbsp;results&nbsp;with&nbsp;links).&nbsp;As&nbsp;shown&nbsp;in&nbsp;the&nbsp;figure,&nbsp;these&nbsp;diverse&nbsp;data&nbsp;sources&nbsp;are&nbsp;restructured&nbsp;into&nbsp;an&nbsp;entity‑anchored&nbsp;open‑world&nbsp;knowledge&nbsp;memory.&nbsp;Based&nbsp;on&nbsp;randomly&nbsp;sampled&nbsp;entities&nbsp;and&nbsp;their&nbsp;corresponding&nbsp;knowledge,&nbsp;we&nbsp;generate&nbsp;multi‑style&nbsp;(question,answer)&nbsp;pairs.</p><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/trajectory_systhesis.png#center" width="100%"></figure><p><strong>Action&nbsp;Synthesis.</strong>&nbsp;&nbsp;Based&nbsp;on&nbsp;diverse&nbsp;problems&nbsp;and&nbsp;historical&nbsp;trajectories,&nbsp;we&nbsp;construct&nbsp;first‑order&nbsp;action&nbsp;synthesis&nbsp;data&nbsp;and&nbsp;higher‑order&nbsp;action&nbsp;synthesis&nbsp;data.&nbsp;Our&nbsp;method&nbsp;enables&nbsp;large‑scale&nbsp;and&nbsp;comprehensive&nbsp;exploration&nbsp;of&nbsp;the&nbsp;potential&nbsp;reasoning‑action&nbsp;space&nbsp;within&nbsp;offline&nbsp;environments,&nbsp;thereby&nbsp;thereby&nbsp;eliminating&nbsp;the&nbsp;need&nbsp;for&nbsp;additional&nbsp;commercial&nbsp;tool&nbsp;API&nbsp;calls.&nbsp;Specifically,&nbsp;for&nbsp;the&nbsp;higher‑order&nbsp;action&nbsp;synthesis,&nbsp;we&nbsp;remodel&nbsp;trajectories&nbsp;as&nbsp;multi‑step&nbsp;decision‑making&nbsp;processes&nbsp;to&nbsp;enhance&nbsp;the&nbsp;model’s&nbsp;decision‑making&nbsp;capabilities.</p><h3 id="post-trainingdata">Post-training&nbsp;Data</h3><p><strong>High-quality&nbsp;synthetic&nbsp;QA&nbsp;pairs</strong></p><p>We&nbsp;develop&nbsp;an&nbsp;end‑to‑end&nbsp;solution&nbsp;for&nbsp;synthetic&nbsp;data&nbsp;generation.&nbsp;This&nbsp;fully&nbsp;automated&nbsp;process&nbsp;requires&nbsp;no&nbsp;human&nbsp;intervention&nbsp;to&nbsp;construct&nbsp;super‑human&nbsp;quality&nbsp;datasets,&nbsp;designed&nbsp;to&nbsp;push&nbsp;the&nbsp;boundaries&nbsp;of&nbsp;AI&nbsp;agent&nbsp;performance.&nbsp;Through&nbsp;long‑term&nbsp;exploration&nbsp;and&nbsp;iteration‑from&nbsp;early&nbsp;methods&nbsp;like&nbsp;reverse‑engineering&nbsp;QA&nbsp;pairs&nbsp;from&nbsp;clickstreams&nbsp;(<a href="https://arxiv.org/abs/2501.07572">WebWalker</a>)&nbsp;to&nbsp;the&nbsp;more&nbsp;systematic&nbsp;graph‑based&nbsp;synthesis&nbsp;(<a href="https://arxiv.org/abs/2507.02592">WebSailor</a>&nbsp;and&nbsp;WebSailor‑V2),&nbsp;then&nbsp;the&nbsp;formalized&nbsp;task&nbsp;modeling&nbsp;(<a href="https://arxiv.org/abs/2507.15061">WebShaper</a>)‑our&nbsp;approach&nbsp;ensures&nbsp;both&nbsp;exceptional&nbsp;data&nbsp;quality&nbsp;and&nbsp;massive&nbsp;scalability,&nbsp;breaking&nbsp;through&nbsp;the&nbsp;upper&nbsp;limits&nbsp;of&nbsp;model&nbsp;capabilities.</p><p>To&nbsp;address&nbsp;complex,&nbsp;high‑uncertainty&nbsp;questions,&nbsp;we&nbsp;synthesize&nbsp;web‑based&nbsp;QA&nbsp;data&nbsp;through&nbsp;a&nbsp;novel&nbsp;pipeline.&nbsp;The&nbsp;process&nbsp;begins&nbsp;by&nbsp;constructing&nbsp;a&nbsp;<strong>highly&nbsp;interconnected&nbsp;knowledge&nbsp;graph&nbsp;via&nbsp;random&nbsp;walks&nbsp;and&nbsp;isomorphic&nbsp;tables</strong>&nbsp;<strong>towards&nbsp;tabular&nbsp;data&nbsp;fusion</strong>&nbsp;from&nbsp;real‑world&nbsp;websites&nbsp;,&nbsp;ensuring&nbsp;a&nbsp;realistic&nbsp;information&nbsp;structure.&nbsp;We&nbsp;then&nbsp;sample&nbsp;subgraphs&nbsp;and&nbsp;subtables&nbsp;to&nbsp;generate&nbsp;initial&nbsp;questions&nbsp;and&nbsp;answers.&nbsp;The&nbsp;crucial&nbsp;step&nbsp;involves&nbsp;intentionally&nbsp;increasing&nbsp;difficulty&nbsp;by&nbsp;strategically&nbsp;obfuscating&nbsp;or&nbsp;blurring&nbsp;information&nbsp;within&nbsp;the&nbsp;question.&nbsp;This&nbsp;practical&nbsp;approach&nbsp;is&nbsp;grounded&nbsp;in&nbsp;a&nbsp;complete&nbsp;theoretical&nbsp;framework,&nbsp;where&nbsp;we&nbsp;formally&nbsp;model&nbsp;QA&nbsp;difficulty&nbsp;as&nbsp;a&nbsp;series&nbsp;of&nbsp;controllable&nbsp;“atomic&nbsp;operations”&nbsp;(e.g.,&nbsp;merging&nbsp;entities&nbsp;with&nbsp;similar&nbsp;attributes)&nbsp;on&nbsp;entity&nbsp;relationships,&nbsp;allowing&nbsp;us&nbsp;to&nbsp;systematically&nbsp;increase&nbsp;complexity.</p><p>To&nbsp;further&nbsp;reduce&nbsp;inconsistencies&nbsp;between&nbsp;the&nbsp;organized&nbsp;information&nbsp;structure&nbsp;and&nbsp;the&nbsp;reasoning&nbsp;structure&nbsp;of&nbsp;QA,&nbsp;enable&nbsp;more&nbsp;controllable&nbsp;difficulty&nbsp;and&nbsp;structure&nbsp;scaling&nbsp;of&nbsp;reasoning,&nbsp;we&nbsp;proposed&nbsp;a&nbsp;formal&nbsp;modeling&nbsp;of&nbsp;the&nbsp;information‑seeking&nbsp;problem&nbsp;based&nbsp;on&nbsp;set&nbsp;theory.&nbsp;With&nbsp;this&nbsp;formalization,&nbsp;we&nbsp;developed&nbsp;agents&nbsp;that&nbsp;expands&nbsp;the&nbsp;problem&nbsp;in&nbsp;a&nbsp;controlled&nbsp;manner,&nbsp;and&nbsp;minimizes&nbsp;reasoning&nbsp;shortcuts&nbsp;and&nbsp;structural&nbsp;redundancy,&nbsp;leading&nbsp;to&nbsp;further&nbsp;improved&nbsp;QA&nbsp;quality.&nbsp;Moreover,&nbsp;this&nbsp;formal&nbsp;modeling&nbsp;also&nbsp;allows&nbsp;for&nbsp;efficient&nbsp;verification&nbsp;of&nbsp;QA&nbsp;correctness,&nbsp;effectively&nbsp;addressing&nbsp;the&nbsp;challenge&nbsp;of&nbsp;validating&nbsp;synthetic&nbsp;information‑seeking&nbsp;data&nbsp;for&nbsp;post‑training.</p><p>Furthermore,&nbsp;we&nbsp;have&nbsp;developed&nbsp;an&nbsp;automated&nbsp;data&nbsp;engine&nbsp;to&nbsp;scale&nbsp;up&nbsp;the&nbsp;creation&nbsp;of&nbsp;PhD‑level&nbsp;research&nbsp;questions.&nbsp;This&nbsp;engine&nbsp;begins&nbsp;with&nbsp;a&nbsp;multi‑disciplinary&nbsp;knowledge&nbsp;base,&nbsp;generating&nbsp;“seed”&nbsp;QA&nbsp;pairs&nbsp;that&nbsp;require&nbsp;multi‑source&nbsp;reasoning.&nbsp;Each&nbsp;seed&nbsp;then&nbsp;enters&nbsp;a&nbsp;self‑guided&nbsp;loop&nbsp;of&nbsp;“iterative&nbsp;complexity&nbsp;upgrades”,&nbsp;where&nbsp;a&nbsp;question‑crafting&nbsp;agent&nbsp;is&nbsp;equipped&nbsp;with&nbsp;a&nbsp;powerful&nbsp;toolset&nbsp;including&nbsp;web&nbsp;search,&nbsp;academic&nbsp;retrieval,&nbsp;and&nbsp;a&nbsp;Python&nbsp;execution&nbsp;environment.&nbsp;In&nbsp;each&nbsp;iteration,&nbsp;the&nbsp;agent&nbsp;expands&nbsp;knowledge&nbsp;boundaries,&nbsp;deepens&nbsp;conceptual&nbsp;abstraction,&nbsp;and&nbsp;even&nbsp;constructs&nbsp;computational&nbsp;tasks,&nbsp;creating&nbsp;a&nbsp;virtuous&nbsp;cycle&nbsp;where&nbsp;the&nbsp;output&nbsp;of&nbsp;one&nbsp;round&nbsp;becomes&nbsp;the&nbsp;more&nbsp;complex&nbsp;input&nbsp;for&nbsp;the&nbsp;next,&nbsp;ensuring&nbsp;a&nbsp;controllable&nbsp;and&nbsp;systematic&nbsp;escalation&nbsp;of&nbsp;task&nbsp;difficulty.</p><p><strong>Unleashing Agent Capabilities with Diverse Reasoning Pattern</strong></p><p>To bootstrap the model’s initial capabilities, we constructed a set of trajectories via rejection sampling, based on the ReAct and IterResearch frameworks (for details, see below). On one hand, ReAct, as a classic and foundational multi-turn reasoning format, instills rich reasoning behaviors and reinforces the model’s ability to adhere to structured formats.</p><p><strong>On the other hand, we introduce IterResearch, an innovative agent paradigm (detailed below).</strong> It unleashes the model’s full reasoning potential by dynamically reconstructing a streamlined workspace in each turn, ensuring that every decision is deliberate and well-considered. Leveraging IterResearch, we constructed a set of trajectories that integrate reasoning, planning, and tool-use, thereby strengthening the model’s capacity for sustained planning when confronted with Long-Horizon tasks.</p><h2 id="rolloutmode">Rollout&nbsp;Mode</h2><p>We&nbsp;have&nbsp;conducted&nbsp;extensive&nbsp;exploration&nbsp;into&nbsp;the&nbsp;rollout&nbsp;paradigms&nbsp;for&nbsp;DeepResearch‑type&nbsp;agents.&nbsp;As&nbsp;a&nbsp;result,&nbsp;our&nbsp;final&nbsp;model&nbsp;supports&nbsp;multiple&nbsp;rollout&nbsp;formats,&nbsp;including&nbsp;the&nbsp;native&nbsp;ReAct&nbsp;Mode&nbsp;and&nbsp;the&nbsp;context‑managing&nbsp;Heavy&nbsp;Mode.</p><h3 id="nativereactmode">Native&nbsp;ReAct&nbsp;Mode</h3><p>Our&nbsp;model&nbsp;demonstrates&nbsp;excellent&nbsp;performance&nbsp;using&nbsp;the&nbsp;native&nbsp;ReAct&nbsp;reasoning&nbsp;paradigm&nbsp;without&nbsp;any&nbsp;prompt&nbsp;engineering.&nbsp;It&nbsp;strictly&nbsp;adheres&nbsp;to&nbsp;the&nbsp;Thought‑Action‑Observation&nbsp;cycle,&nbsp;performing&nbsp;multiple&nbsp;iterations&nbsp;to&nbsp;solve&nbsp;problems.&nbsp;With&nbsp;a&nbsp;model&nbsp;context&nbsp;length&nbsp;of&nbsp;128K,&nbsp;it&nbsp;can&nbsp;handle&nbsp;a&nbsp;large&nbsp;number&nbsp;of&nbsp;interaction&nbsp;rounds,&nbsp;fully&nbsp;achieving&nbsp;scaling&nbsp;in&nbsp;its&nbsp;interaction&nbsp;with&nbsp;the&nbsp;environment.&nbsp;ReAct’s&nbsp;simplicity&nbsp;and&nbsp;universality&nbsp;provide&nbsp;the&nbsp;clearest&nbsp;benchmark&nbsp;for&nbsp;a&nbsp;model’s&nbsp;intrinsic&nbsp;capabilities&nbsp;and&nbsp;the&nbsp;efficacy&nbsp;of&nbsp;our&nbsp;training&nbsp;pipeline.</p><p>Our&nbsp;choice&nbsp;of&nbsp;ReAct&nbsp;is&nbsp;heavily&nbsp;informed&nbsp;by&nbsp;“The&nbsp;Bitter&nbsp;Lesson”,&nbsp;which&nbsp;posits&nbsp;that&nbsp;general&nbsp;methods&nbsp;leveraging&nbsp;scalable&nbsp;computation&nbsp;ultimately&nbsp;outperform&nbsp;approaches&nbsp;that&nbsp;rely&nbsp;on&nbsp;complex,&nbsp;human‑engineered&nbsp;knowledge&nbsp;and&nbsp;intricate&nbsp;designs.</p><h3 id="heavymode">Heavy&nbsp;Mode</h3><p>In&nbsp;addition&nbsp;to&nbsp;the&nbsp;native&nbsp;ReAct&nbsp;mode,&nbsp;we&nbsp;have&nbsp;developed&nbsp;a&nbsp;“Heavy&nbsp;Mode”&nbsp;for&nbsp;complex,&nbsp;multi‑step&nbsp;research&nbsp;tasks.&nbsp;This&nbsp;mode&nbsp;is&nbsp;built&nbsp;on&nbsp;our&nbsp;new&nbsp;IterResearch&nbsp;paradigm,&nbsp;designed&nbsp;to&nbsp;push&nbsp;the&nbsp;agent’s&nbsp;capabilities&nbsp;to&nbsp;their&nbsp;limit.</p><p>The&nbsp;IterResearch&nbsp;paradigm&nbsp;was&nbsp;created&nbsp;to&nbsp;solve&nbsp;the&nbsp;“cognitive&nbsp;suffocation”&nbsp;and&nbsp;“noise&nbsp;pollution”&nbsp;that&nbsp;occurs&nbsp;when&nbsp;agents&nbsp;accumulate&nbsp;all&nbsp;information&nbsp;into&nbsp;a&nbsp;single,&nbsp;ever‑expanding&nbsp;context.&nbsp;Instead,&nbsp;IterResearch&nbsp;deconstructs&nbsp;a&nbsp;task&nbsp;into&nbsp;a&nbsp;series&nbsp;of&nbsp;“research&nbsp;rounds”.</p><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/iter_research.png#center" width="100%"></figure><p>In&nbsp;each&nbsp;round,&nbsp;the&nbsp;agent&nbsp;reconstructs&nbsp;a&nbsp;streamlined&nbsp;workspace&nbsp;using&nbsp;only&nbsp;the&nbsp;most&nbsp;essential&nbsp;outputs&nbsp;from&nbsp;the&nbsp;previous&nbsp;round.&nbsp;Within&nbsp;this&nbsp;focused&nbsp;workspace,&nbsp;the&nbsp;agent&nbsp;analyzes&nbsp;the&nbsp;problem,&nbsp;integrates&nbsp;key&nbsp;findings&nbsp;into&nbsp;a&nbsp;continuously&nbsp;evolving&nbsp;central&nbsp;report,&nbsp;and&nbsp;then&nbsp;decides&nbsp;its&nbsp;next&nbsp;action‑either&nbsp;gathering&nbsp;more&nbsp;information&nbsp;or&nbsp;providing&nbsp;a&nbsp;final&nbsp;answer.&nbsp;This&nbsp;iterative&nbsp;process&nbsp;of&nbsp;“synthesis&nbsp;and&nbsp;reconstruction”&nbsp;allows&nbsp;the&nbsp;agent&nbsp;to&nbsp;maintain&nbsp;a&nbsp;clear&nbsp;“cognitive&nbsp;focus”&nbsp;and&nbsp;high&nbsp;reasoning&nbsp;quality&nbsp;throughout&nbsp;long&nbsp;tasks.</p><p>Building&nbsp;on&nbsp;this,&nbsp;we&nbsp;propose&nbsp;the&nbsp;Research‑Synthesis&nbsp;framework.&nbsp;In&nbsp;this&nbsp;model,&nbsp;multiple&nbsp;Research&nbsp;Agents&nbsp;use&nbsp;the&nbsp;IterResearch&nbsp;process&nbsp;to&nbsp;explore&nbsp;a&nbsp;problem&nbsp;in&nbsp;parallel.&nbsp;A&nbsp;final&nbsp;Synthesis&nbsp;Agent&nbsp;then&nbsp;integrates&nbsp;their&nbsp;refined&nbsp;reports&nbsp;and&nbsp;conclusions&nbsp;to&nbsp;produce&nbsp;a&nbsp;more&nbsp;comprehensive&nbsp;final&nbsp;answer.&nbsp;This&nbsp;parallel&nbsp;structure&nbsp;enables&nbsp;the&nbsp;model&nbsp;to&nbsp;consider&nbsp;a&nbsp;wider&nbsp;range&nbsp;of&nbsp;research&nbsp;paths&nbsp;within&nbsp;a&nbsp;limited&nbsp;context&nbsp;window,&nbsp;pushing&nbsp;its&nbsp;performance&nbsp;to&nbsp;the&nbsp;limit.</p><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/heavy_mode.png#center" width="100%"></figure><h2 id="end-to8209endagenttrainingpipeline">End-to‑End&nbsp;Agent&nbsp;Training&nbsp;Pipeline</h2><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/pipeline.png#center" width="100%"></figure><p>Training&nbsp;an&nbsp;agentic&nbsp;model&nbsp;like&nbsp;this&nbsp;required&nbsp;us&nbsp;to&nbsp;<strong>rethink&nbsp;the&nbsp;entire&nbsp;model&nbsp;training&nbsp;pipeline</strong>,&nbsp;from&nbsp;pre‑training&nbsp;to&nbsp;fine‑tuning&nbsp;to&nbsp;reinforcement&nbsp;learning.&nbsp;We&nbsp;established&nbsp;a&nbsp;new&nbsp;paradigm&nbsp;for&nbsp;agent&nbsp;model&nbsp;training&nbsp;that&nbsp;connects&nbsp;<em>Agentic&nbsp;CPT</em>&nbsp;→&nbsp;<em>Agentic</em>&nbsp;<em>SFT</em>&nbsp;→&nbsp;<em>Agentic&nbsp;RL</em>,&nbsp;creating&nbsp;a&nbsp;seamless&nbsp;end‑to‑end&nbsp;training&nbsp;loop&nbsp;for&nbsp;an&nbsp;AI&nbsp;agent.&nbsp;Here’s&nbsp;how&nbsp;we&nbsp;tackled&nbsp;the&nbsp;final&nbsp;stage&nbsp;with&nbsp;reinforcement&nbsp;learning,&nbsp;which&nbsp;was&nbsp;crucial&nbsp;for&nbsp;aligning&nbsp;the&nbsp;agent’s&nbsp;behavior&nbsp;with&nbsp;high‑level&nbsp;goals:</p><h3 id="on8209policyagentreinforcementlearningrl">On‑Policy&nbsp;Agent&nbsp;Reinforcement&nbsp;Learning&nbsp;(RL)</h3><p>Constructing&nbsp;a&nbsp;high‑quality&nbsp;agent&nbsp;through&nbsp;RL&nbsp;is&nbsp;a&nbsp;complex&nbsp;system&nbsp;engineering&nbsp;challenge;&nbsp;if&nbsp;this&nbsp;entire&nbsp;development&nbsp;process&nbsp;is&nbsp;viewed&nbsp;as&nbsp;a&nbsp;“reinforcement&nbsp;learning”&nbsp;loop,&nbsp;any&nbsp;instability&nbsp;or&nbsp;lack&nbsp;of&nbsp;robustness&nbsp;in&nbsp;its&nbsp;components&nbsp;can&nbsp;lead&nbsp;to&nbsp;erroneous&nbsp;“reward”&nbsp;signals.&nbsp;We&nbsp;will&nbsp;now&nbsp;share&nbsp;our&nbsp;practices&nbsp;in&nbsp;RL,&nbsp;covering&nbsp;both&nbsp;the&nbsp;algorithmic&nbsp;and&nbsp;infrastructure&nbsp;sides.</p><p>For&nbsp;RL&nbsp;algorithm,&nbsp;&nbsp;we&nbsp;made&nbsp;several&nbsp;algorithmic&nbsp;breakthroughs,&nbsp;using&nbsp;a&nbsp;customized&nbsp;on‑policy&nbsp;<strong>Group&nbsp;Relative&nbsp;Policy&nbsp;Optimization&nbsp;(GRPO).</strong>&nbsp;We&nbsp;employ&nbsp;a&nbsp;strictly&nbsp;on‑policy&nbsp;training&nbsp;regimen,&nbsp;ensuring&nbsp;that&nbsp;the&nbsp;learning&nbsp;signal&nbsp;is&nbsp;always&nbsp;relevant&nbsp;to&nbsp;the&nbsp;model’s&nbsp;current&nbsp;capabilities.&nbsp;The&nbsp;training&nbsp;objective&nbsp;is&nbsp;optimized&nbsp;using&nbsp;a&nbsp;token‑level&nbsp;policy&nbsp;gradient&nbsp;loss.&nbsp;Second,&nbsp;to&nbsp;further&nbsp;reduce&nbsp;variance&nbsp;in&nbsp;the&nbsp;advantage&nbsp;estimation,&nbsp;we&nbsp;adopt&nbsp;a&nbsp;leave‑one‑out&nbsp;strategy.&nbsp;Furthermore,&nbsp;we&nbsp;employ&nbsp;a&nbsp;conservative&nbsp;strategy&nbsp;for&nbsp;negative&nbsp;samples,&nbsp;having&nbsp;observed&nbsp;that&nbsp;an&nbsp;unfiltered&nbsp;set&nbsp;of&nbsp;negative&nbsp;trajectories&nbsp;significantly&nbsp;degrades&nbsp;training&nbsp;stability.&nbsp;This&nbsp;can&nbsp;manifest&nbsp;as&nbsp;a&nbsp;“format&nbsp;collapse”&nbsp;phenomenon&nbsp;after&nbsp;extended&nbsp;training.&nbsp;To&nbsp;mitigate&nbsp;this,&nbsp;we&nbsp;selectively&nbsp;exclude&nbsp;certain&nbsp;negative&nbsp;samples&nbsp;from&nbsp;the&nbsp;loss&nbsp;calculation,&nbsp;for&nbsp;instance,&nbsp;those&nbsp;that&nbsp;do&nbsp;not&nbsp;yield&nbsp;a&nbsp;final&nbsp;answer&nbsp;because&nbsp;they&nbsp;exceed&nbsp;a&nbsp;length&nbsp;limit.&nbsp;For&nbsp;the&nbsp;sake&nbsp;of&nbsp;efficiency,&nbsp;we&nbsp;do&nbsp;not&nbsp;employ&nbsp;dynamic&nbsp;sampling.&nbsp;We&nbsp;instead&nbsp;leverage&nbsp;larger&nbsp;batch&nbsp;and&nbsp;group&nbsp;sizes,&nbsp;which&nbsp;serve&nbsp;to&nbsp;maintain&nbsp;smaller&nbsp;variance&nbsp;and&nbsp;provide&nbsp;adequate&nbsp;supervision.</p><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/rl_curve.png#center" width="100%"></figure><p>The&nbsp;training&nbsp;dynamics&nbsp;demonstrate&nbsp;effective&nbsp;learning,&nbsp;with&nbsp;a&nbsp;consistent&nbsp;upward&nbsp;trend&nbsp;in&nbsp;reward.&nbsp;Meanwhile,&nbsp;policy&nbsp;entropy&nbsp;remains&nbsp;consistently&nbsp;high,&nbsp;indicating&nbsp;sustained&nbsp;exploration&nbsp;and&nbsp;preventing&nbsp;premature&nbsp;convergence.&nbsp;We&nbsp;attribute&nbsp;this&nbsp;to&nbsp;the&nbsp;non‑stationary&nbsp;nature&nbsp;of&nbsp;the&nbsp;web&nbsp;environment,&nbsp;which&nbsp;naturally&nbsp;fosters&nbsp;a&nbsp;robust,&nbsp;adaptive&nbsp;policy&nbsp;and&nbsp;obviates&nbsp;the&nbsp;need&nbsp;for&nbsp;explicit&nbsp;entropy&nbsp;regularization.</p><p>We&nbsp;consider&nbsp;that&nbsp;the&nbsp;algorithm&nbsp;is&nbsp;important&nbsp;but&nbsp;not&nbsp;the&nbsp;only&nbsp;decisive&nbsp;factor&nbsp;in&nbsp;the&nbsp;success&nbsp;of&nbsp;Agentic&nbsp;RL.&nbsp;We&nbsp;have&nbsp;experimented&nbsp;with&nbsp;many&nbsp;different&nbsp;algorithms&nbsp;and&nbsp;tricks,&nbsp;and&nbsp;find&nbsp;that&nbsp;<strong>data&nbsp;and&nbsp;stability&nbsp;of&nbsp;the&nbsp;training&nbsp;environment</strong>&nbsp;<strong>are&nbsp;likely&nbsp;the&nbsp;more&nbsp;critical&nbsp;components&nbsp;in&nbsp;determining&nbsp;whether&nbsp;the&nbsp;RL&nbsp;works</strong>.&nbsp;Interestingly,&nbsp;we&nbsp;have&nbsp;tested&nbsp;to&nbsp;train&nbsp;the&nbsp;model&nbsp;directly&nbsp;on&nbsp;the&nbsp;BrowseComp&nbsp;testing&nbsp;set,&nbsp;but&nbsp;the&nbsp;results&nbsp;are&nbsp;substantially&nbsp;poorer&nbsp;than&nbsp;when&nbsp;using&nbsp;our&nbsp;synthetic&nbsp;data.&nbsp;We&nbsp;hypothesize&nbsp;that&nbsp;this&nbsp;disparity&nbsp;arises&nbsp;because&nbsp;the&nbsp;synthetic&nbsp;data&nbsp;offers&nbsp;a&nbsp;more&nbsp;consistent&nbsp;distribution,&nbsp;which&nbsp;allows&nbsp;the&nbsp;model&nbsp;to&nbsp;be&nbsp;more&nbsp;effectively&nbsp;tailored.&nbsp;Conversely,&nbsp;the&nbsp;human‑annotated&nbsp;data&nbsp;(such&nbsp;as&nbsp;BrowseComp)&nbsp;is&nbsp;inherently&nbsp;noisier.&nbsp;Given&nbsp;its&nbsp;limited&nbsp;scale,&nbsp;it&nbsp;is&nbsp;difficult&nbsp;to&nbsp;approximate&nbsp;a&nbsp;learnable&nbsp;underlying&nbsp;distribution,&nbsp;which&nbsp;consequently&nbsp;hinders&nbsp;the&nbsp;model&nbsp;to&nbsp;learn&nbsp;and&nbsp;generalize&nbsp;from&nbsp;it.</p><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/rl_arch.png#center" width="100%"></figure><p>On&nbsp;the&nbsp;<strong>infrastructure&nbsp;side</strong>,&nbsp;training&nbsp;an&nbsp;agent&nbsp;with&nbsp;tools&nbsp;required&nbsp;us&nbsp;to&nbsp;develop&nbsp;a&nbsp;highly&nbsp;stable&nbsp;and&nbsp;efficient&nbsp;environment:</p><ul><li><p><strong>Synthetic&nbsp;Training&nbsp;Environment:</strong>&nbsp;Relying&nbsp;on&nbsp;live&nbsp;web&nbsp;APIs&nbsp;for&nbsp;development&nbsp;is&nbsp;expensive,&nbsp;slow,&nbsp;and&nbsp;inconsistent.&nbsp;We&nbsp;addressed&nbsp;this&nbsp;by&nbsp;creating&nbsp;<strong>a&nbsp;simulated&nbsp;training&nbsp;environment&nbsp;using&nbsp;an&nbsp;offline&nbsp;Wikipedia&nbsp;database&nbsp;and&nbsp;a&nbsp;custom&nbsp;tool&nbsp;suite</strong>.&nbsp;By&nbsp;adapting&nbsp;our&nbsp;data&nbsp;pipeline&nbsp;to&nbsp;generate&nbsp;high‑quality,&nbsp;complex&nbsp;tasks&nbsp;for&nbsp;this&nbsp;environment,&nbsp;we&nbsp;created&nbsp;a&nbsp;cost‑effective,&nbsp;fast,&nbsp;and&nbsp;controllable&nbsp;platform&nbsp;that&nbsp;dramatically&nbsp;accelerates&nbsp;our&nbsp;research&nbsp;and&nbsp;iteration.</p></li><li><p><strong>Stable&nbsp;&amp;&nbsp;Efficient&nbsp;Tool&nbsp;Sandbox:</strong>&nbsp;To&nbsp;ensure&nbsp;reliable&nbsp;tool&nbsp;use&nbsp;during&nbsp;agent&nbsp;training&nbsp;and&nbsp;evaluation,&nbsp;we&nbsp;developed&nbsp;a&nbsp;unified&nbsp;sandbox.&nbsp;The&nbsp;sandbox&nbsp;handles&nbsp;concurrency&nbsp;and&nbsp;failure&nbsp;gracefully&nbsp;by&nbsp;caching&nbsp;results,&nbsp;retrying&nbsp;failed&nbsp;calls,&nbsp;and&nbsp;using&nbsp;redundant&nbsp;providers&nbsp;as&nbsp;fallbacks&nbsp;(e.g.,&nbsp;a&nbsp;backup&nbsp;search&nbsp;API).&nbsp;This&nbsp;provides&nbsp;the&nbsp;agent&nbsp;with&nbsp;a&nbsp;fast&nbsp;and&nbsp;deterministic&nbsp;experience,&nbsp;which&nbsp;is&nbsp;crucial&nbsp;for&nbsp;preventing&nbsp;tool&nbsp;errors&nbsp;from&nbsp;corrupting&nbsp;its&nbsp;learning&nbsp;trajectory.</p></li><li><p><strong>Automatic&nbsp;Data&nbsp;Curation:</strong>&nbsp;Data&nbsp;is&nbsp;the&nbsp;core&nbsp;driver&nbsp;of&nbsp;model&nbsp;capability&nbsp;enhancement;&nbsp;its&nbsp;importance&nbsp;even&nbsp;surpasses&nbsp;that&nbsp;of&nbsp;the&nbsp;algorithm.&nbsp;The&nbsp;quality&nbsp;of&nbsp;the&nbsp;data&nbsp;directly&nbsp;determines&nbsp;the&nbsp;upper&nbsp;bound&nbsp;on&nbsp;the&nbsp;model’s&nbsp;ability&nbsp;to&nbsp;generalize&nbsp;to&nbsp;out‑of‑distribution&nbsp;scenarios&nbsp;through&nbsp;self‑exploration.&nbsp;To&nbsp;address&nbsp;this&nbsp;challenge,&nbsp;<strong>we&nbsp;optimize&nbsp;data&nbsp;in&nbsp;real&nbsp;time,&nbsp;guided&nbsp;by&nbsp;training&nbsp;dynamics.</strong>&nbsp;This&nbsp;optimization&nbsp;is&nbsp;achieved&nbsp;through&nbsp;a&nbsp;fully&nbsp;automated&nbsp;data&nbsp;synthesis&nbsp;and&nbsp;filtering&nbsp;pipeline&nbsp;that&nbsp;dynamically&nbsp;adjusts&nbsp;the&nbsp;training&nbsp;set.&nbsp;By&nbsp;closing&nbsp;the&nbsp;loop&nbsp;between&nbsp;data&nbsp;generation&nbsp;and&nbsp;model&nbsp;training,&nbsp;this&nbsp;approach&nbsp;not&nbsp;only&nbsp;ensures&nbsp;training&nbsp;stability&nbsp;but&nbsp;also&nbsp;delivers&nbsp;substantial&nbsp;performance&nbsp;gains.</p></li><li><p><strong>On‑Policy&nbsp;Asynchronous&nbsp;Framework:</strong>&nbsp;We&nbsp;implemented&nbsp;a&nbsp;custom&nbsp;<strong>step‑level&nbsp;asynchronous&nbsp;RL&nbsp;training&nbsp;loop</strong>&nbsp;on&nbsp;top&nbsp;of&nbsp;rLLM.&nbsp;Multiple&nbsp;agent&nbsp;instances&nbsp;interact&nbsp;with&nbsp;the&nbsp;(simulated&nbsp;or&nbsp;real)&nbsp;environment&nbsp;in&nbsp;parallel,&nbsp;each&nbsp;producing&nbsp;trajectories.&nbsp;</p></li></ul><p>Through&nbsp;these&nbsp;measures,&nbsp;we&nbsp;“closed&nbsp;the&nbsp;loop”&nbsp;on&nbsp;agent&nbsp;training.&nbsp;Starting&nbsp;from&nbsp;a&nbsp;raw&nbsp;model,&nbsp;we&nbsp;did&nbsp;Agentic&nbsp;pre‑training&nbsp;to&nbsp;initialize&nbsp;tool‑use&nbsp;skills,&nbsp;then&nbsp;supervised&nbsp;finetuning&nbsp;on&nbsp;expert‑like&nbsp;data&nbsp;to&nbsp;cold&nbsp;start,&nbsp;and&nbsp;finally&nbsp;on‑policy&nbsp;RL&nbsp;to&nbsp;let&nbsp;the&nbsp;model&nbsp;conduct&nbsp;self‑evolution.&nbsp;This&nbsp;full‑stack&nbsp;approach&nbsp;‑&nbsp;now&nbsp;proven&nbsp;with&nbsp;Tongyi&nbsp;DeepResearch&nbsp;‑&nbsp;<strong>presents&nbsp;a&nbsp;new&nbsp;paradigm&nbsp;for&nbsp;training&nbsp;AI&nbsp;agents</strong>&nbsp;that&nbsp;can&nbsp;robustly&nbsp;solve&nbsp;complex&nbsp;tasks&nbsp;in&nbsp;dynamic&nbsp;environments.</p><p><em>(Our&nbsp;RL&nbsp;approach&nbsp;is&nbsp;inspired&nbsp;by&nbsp;several&nbsp;past&nbsp;work&nbsp;from</em>&nbsp;<a href="https://agentica-project.com/index.html"><em>Agentica</em></a><em>.&nbsp;We&nbsp;adapt&nbsp;their</em>&nbsp;<a href="https://github.com/rllm-org/rllm"><em>rLLM</em></a>&nbsp;<em>framework&nbsp;and&nbsp;extend&nbsp;it&nbsp;to&nbsp;train&nbsp;our&nbsp;web&nbsp;agents.)</em></p><h2 id="real8209worldapplicationsandimpact">Real‑World&nbsp;Applications&nbsp;and&nbsp;Impact</h2><p>Tongyi&nbsp;DeepResearch&nbsp;is&nbsp;not&nbsp;just&nbsp;a&nbsp;research&nbsp;showcase;&nbsp;it’s&nbsp;already&nbsp;powering&nbsp;real&nbsp;applications&nbsp;within&nbsp;Alibaba&nbsp;and&nbsp;beyond,&nbsp;demonstrating&nbsp;its&nbsp;value&nbsp;in&nbsp;practical&nbsp;scenarios:</p><ul><li><strong>Gaode&nbsp;Mate&nbsp;(Map&nbsp;&amp;&nbsp;Navigation&nbsp;Agent)</strong>:&nbsp;Collaborating&nbsp;with&nbsp;Amap&nbsp;(Gaode)&nbsp;Team,&nbsp;we&nbsp;co‑developed&nbsp;“<strong>Xiao&nbsp;Gao</strong>,”&nbsp;an&nbsp;AI&nbsp;copilot&nbsp;that&nbsp;leverages&nbsp;the&nbsp;app’s&nbsp;rich&nbsp;toolset.&nbsp;It&nbsp;can&nbsp;execute&nbsp;complex&nbsp;travel&nbsp;planning&nbsp;commands,&nbsp;like&nbsp;creating&nbsp;a&nbsp;multi‑day&nbsp;driving&nbsp;tour&nbsp;that&nbsp;includes&nbsp;specific&nbsp;scenic&nbsp;spots&nbsp;and&nbsp;pet‑friendly&nbsp;hotels.&nbsp;Through&nbsp;multi‑step&nbsp;reasoning,&nbsp;Xiao&nbsp;Gao&nbsp;autonomously&nbsp;researches&nbsp;and&nbsp;integrates&nbsp;information&nbsp;to&nbsp;produce&nbsp;a&nbsp;detailed,&nbsp;personalized&nbsp;itinerary,&nbsp;offering&nbsp;an&nbsp;intelligent&nbsp;planning&nbsp;experience&nbsp;that&nbsp;far&nbsp;surpasses&nbsp;standard&nbsp;navigation.</li></ul><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/xiaogao.png#center" width="100%"></figure><ul><li><strong>Tongyi&nbsp;FaRui&nbsp;(Legal&nbsp;Research&nbsp;Agent):</strong>&nbsp;&nbsp;Empowered&nbsp;by&nbsp;our&nbsp;DeepResearch&nbsp;architecture,&nbsp;FaRui&nbsp;now&nbsp;functions&nbsp;as&nbsp;a&nbsp;true&nbsp;legal&nbsp;agent.&nbsp;It&nbsp;autonomously&nbsp;executes&nbsp;complex,&nbsp;multi‑step&nbsp;research&nbsp;tasks&nbsp;that&nbsp;mirror&nbsp;a&nbsp;junior&nbsp;attorney’s&nbsp;workflow‑systematically&nbsp;retrieving&nbsp;case&nbsp;law,&nbsp;cross‑referencing&nbsp;statutes,&nbsp;and&nbsp;synthesizing&nbsp;analysis.&nbsp;Crucially,&nbsp;all&nbsp;conclusions&nbsp;are&nbsp;grounded&nbsp;in&nbsp;verifiable&nbsp;judicial&nbsp;sources&nbsp;and&nbsp;delivered&nbsp;with&nbsp;precise&nbsp;case&nbsp;and&nbsp;statute&nbsp;citations,&nbsp;ensuring&nbsp;professional‑grade&nbsp;accuracy&nbsp;and&nbsp;credibility.</li></ul><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/farui.png#center" width="100%"></figure><h2 id="limitations">Limitations</h2><p>Our&nbsp;future&nbsp;work&nbsp;will&nbsp;address&nbsp;three&nbsp;key&nbsp;limitations.&nbsp;First,&nbsp;the&nbsp;current&nbsp;128k&nbsp;context&nbsp;length&nbsp;is&nbsp;still&nbsp;insufficient&nbsp;for&nbsp;the&nbsp;most&nbsp;complex&nbsp;long‑horizon&nbsp;tasks,&nbsp;requiring&nbsp;us&nbsp;to&nbsp;explore&nbsp;expanded&nbsp;context&nbsp;windows&nbsp;and&nbsp;more&nbsp;sophisticated&nbsp;information&nbsp;management.&nbsp;Second,&nbsp;our&nbsp;training&nbsp;pipeline’s&nbsp;scalability&nbsp;remains&nbsp;unproven&nbsp;on&nbsp;foundation&nbsp;models&nbsp;significantly&nbsp;larger&nbsp;than&nbsp;our&nbsp;30B‑scale&nbsp;MoE,&nbsp;and&nbsp;we&nbsp;plan&nbsp;to&nbsp;validate&nbsp;our&nbsp;methods&nbsp;on&nbsp;larger‑scale&nbsp;models.&nbsp;Lastly,&nbsp;we&nbsp;aim&nbsp;to&nbsp;improve&nbsp;the&nbsp;efficiency&nbsp;of&nbsp;our&nbsp;reinforcement&nbsp;learning&nbsp;framework&nbsp;by&nbsp;investigating&nbsp;techniques&nbsp;like&nbsp;partial&nbsp;rollouts,&nbsp;which&nbsp;will&nbsp;necessitate&nbsp;solving&nbsp;the&nbsp;challenges&nbsp;of&nbsp;off‑policy&nbsp;training,&nbsp;such&nbsp;as&nbsp;distributional&nbsp;shift.</p><h2 id="serieswork">Series&nbsp;Work</h2><figure><img loading="lazy" src="https://tongyi-agent.github.io/img/introducing-tongyi-deep-research/family.png#center" width="100%"></figure><p>Tongyi&nbsp;DeepResearch&nbsp;also&nbsp;has&nbsp;an&nbsp;extensive&nbsp;deep&nbsp;research&nbsp;agent&nbsp;family.&nbsp;You&nbsp;can&nbsp;find&nbsp;more&nbsp;information&nbsp;in&nbsp;the&nbsp;following&nbsp;papers:</p><p>[1]&nbsp;<a href="https://arxiv.org/pdf/2501.07572">WebWalker:&nbsp;Benchmarking&nbsp;LLMs&nbsp;in&nbsp;Web&nbsp;Traversal</a></p><p>[2]&nbsp;<a href="https://arxiv.org/pdf/2505.22648">WebDancer:&nbsp;Towards&nbsp;Autonomous&nbsp;Information&nbsp;Seeking&nbsp;Agency</a></p><p>[3]&nbsp;<a href="https://arxiv.org/pdf/2507.02592">WebSailor:&nbsp;Navigating&nbsp;Super‑human&nbsp;Reasoning&nbsp;for&nbsp;Web&nbsp;Agent</a></p><p>[4]&nbsp;<a href="https://arxiv.org/pdf/2507.15061">WebShaper:&nbsp;Agentically&nbsp;Data&nbsp;Synthesizing&nbsp;via&nbsp;Information‑Seeking&nbsp;Formalization</a></p><p>[5]&nbsp;<a href="https://arxiv.org/pdf/2508.05748">WebWatcher:&nbsp;Breaking&nbsp;New&nbsp;Frontier&nbsp;of&nbsp;Vision‑Language&nbsp;Deep&nbsp;Research&nbsp;Agent</a></p><p>[6]&nbsp;<a href="https://arxiv.org/abs/2509.13309">WebResearch:&nbsp;Unleashing&nbsp;reasoning&nbsp;capability&nbsp;in&nbsp;Long‑Horizon&nbsp;Agents</a></p><p>[7]&nbsp;<a href="https://arxiv.org/abs/2509.13313">ReSum:&nbsp;Unlocking&nbsp;Long‑Horizon&nbsp;Search&nbsp;Intelligence&nbsp;via&nbsp;Context&nbsp;Summarization</a></p><p>[8]&nbsp;<a href="https://arxiv.org/abs/2509.13312">WebWeaver:&nbsp;Structuring&nbsp;Web‑Scale&nbsp;Evidence&nbsp;with&nbsp;Dynamic&nbsp;Outlines&nbsp;for&nbsp;Open‑Ended&nbsp;Deep&nbsp;Research</a></p><p>[9]&nbsp;<a href="https://arxiv.org/abs/2509.13305">WebSailor‑V2:&nbsp;Bridging&nbsp;the&nbsp;Chasm&nbsp;to&nbsp;Proprietary&nbsp;Agents&nbsp;via&nbsp;Synthetic&nbsp;Data&nbsp;and&nbsp;Scalable&nbsp;Reinforcement&nbsp;Learning</a></p><p>[10]&nbsp;<a href="https://arxiv.org/abs/2509.13310">Scaling&nbsp;Agents&nbsp;via&nbsp;Continual&nbsp;Pre‑training</a></p><p>[11]&nbsp;<a href="https://arxiv.org/abs/2509.13311">Towards&nbsp;General&nbsp;Agentic&nbsp;Intelligence&nbsp;via&nbsp;Environment&nbsp;Scaling</a></p><p>Our&nbsp;team&nbsp;has&nbsp;a&nbsp;long‑standing&nbsp;commitment&nbsp;to&nbsp;the&nbsp;research&nbsp;and&nbsp;development&nbsp;of&nbsp;deep&nbsp;research&nbsp;agents.&nbsp;Over&nbsp;the&nbsp;past&nbsp;six&nbsp;months,&nbsp;we&nbsp;have&nbsp;consistently&nbsp;published&nbsp;one&nbsp;technical&nbsp;report&nbsp;per&nbsp;month,&nbsp;totaling&nbsp;five&nbsp;to&nbsp;date.&nbsp;Today,&nbsp;we&nbsp;are&nbsp;excited&nbsp;to&nbsp;simultaneously&nbsp;release&nbsp;six&nbsp;new&nbsp;reports&nbsp;and&nbsp;share&nbsp;our&nbsp;Tongyi&nbsp;DeepResearch‑30B‑A3B&nbsp;model&nbsp;with&nbsp;the&nbsp;community.</p><p>Stay&nbsp;tuned&nbsp;for&nbsp;our&nbsp;next&nbsp;generation&nbsp;of&nbsp;agentic&nbsp;models.</p><div><pre tabindex="0"><code data-lang="bibtex"><span><span><span>@misc</span><span>{</span><span>tongyidr</span><span>,</span>
</span></span><span><span>  <span>author</span><span>=</span><span>{Tongyi DeepResearch Team}</span><span>,</span>
</span></span><span><span>  <span>title</span><span>=</span><span>{Tongyi DeepResearch: A New Era of Open-Source AI Researchers}</span><span>,</span>
</span></span><span><span>  <span>year</span><span>=</span><span>{2025}</span><span>,</span>
</span></span><span><span>  <span>howpublished</span><span>=</span><span>{\url{https://github.com/Alibaba-NLP/DeepResearch}}</span>
</span></span><span><span><span>}</span>
</span></span></code></pre></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HyperRogue – A non-Euclidean roguelike (117 pts)]]></title>
            <link>https://roguetemple.com/z/hyper/</link>
            <guid>45789596</guid>
            <pubDate>Sun, 02 Nov 2025 11:40:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://roguetemple.com/z/hyper/">https://roguetemple.com/z/hyper/</a>, See on <a href="https://news.ycombinator.com/item?id=45789596">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

<h2>
<!-- <center><font color="#0000ff">@</font> HyperRogue</center> -->
<center><img src="https://roguetemple.com/z/hyper/hyperrogue-gamelogo.png" alt="HyperRogue logo">

</center>
</h2>
<center>
<i>HyperRogue, the non-Euclidean roguelike, is a mind-melting masterpiece</i> -- <a href="https://www.rockpapershotgun.com/2017/09/28/hyperrogue-non-euclidean-roguelike/">Rock Paper Shotgun</a>
</center>
<center><b>Current version: 12.0 (Jun 3, 2021) - <a href="https://roguetemple.com/z/hyper/download.php">get here</a>
or <a href="https://roguetemple.com/z/hyper/online.php">play online</a> <span color="#0000ff"></span>

<br>or buy it on  <a href="http://store.steampowered.com/app/342610">Steam</a>,
<a href="http://zenorogue.itch.io/hyperrogue">itch.io</a>,
<a href="https://play.google.com/store/apps/details?id=com.roguetemple.hyperroidgold">Google Play</a>,
or <a href="https://itunes.apple.com/us/app/hyperrogue/id1122485103?ls=1&amp;mt=8">AppStore</a>!
</b></center>

<center>
<div>
<iframe width="480" height="360" src="//www.youtube.com/embed/xAFrKKApHTY" frameborder="0" allowfullscreen=""></iframe>

<p>
<small>
See the <a href="https://roguetemple.com/z/hyper/gallery.php">Gallery</a> for the high quality images of all lands.
</small></p></div></center>
<p>

You are a lone adventurer in a strange world, where geometry does not work in the
expected way.
Gather as much treasure as 
you can before the nasty monsters get you. Explore about 50 different worlds, each with 
its own unique treasures, enemies, and terrain obstacles. Your quest is to find the 
legendary treasure, the Orbs of Yendor. Collect one of them to win! Or just ignore 
your quest and collect smaller treasures.
</p><p>
The twist is the unique, unusual geometry of the world: it is one of just few games
which takes place on the <a href="http://zenorogue.blogspot.com/2012/03/hyperbolic-geometry-in-hyperbolic-rogue.html">hyperbolic plane</a>. Witness a grid composed of hexagons and
heptagons, straight lines which seem to be parallel, but then they diverge and never
cross, triangles whose angles add up to less than 180 degrees, how extremely unlikely
is it to reach the same place twice, and how the world seems to be rotated when you do
return. All this matters for the gameplay. The game is inspired by the roguelike genre
(although in a very minimalist way), works of 
<a href="http://www.mcescher.com/gallery/recognition-success/circle-limit-iv/">M. C. Escher</a>, and by puzzle games such as
<a href="http://forum.caravelgames.com/viewsitepage.php?id=90294">Deadly Rooms of Death</a>. 

</p><h3>A very infinite world</h3><p>
With more space than anything Euclidean.
The game dynamically generates new parts of the world as you move.
No previous understanding of hyperbolic
geometry is required -- actually, playing HyperRogue is probably the best way to learn
about this, much better and deeper than any mathematical formulas.
It is virtually impossible to get back to a place where you have
been before, unless you go back exactly the same way. 
Show your true mastery of hyperbolic navigation by
finding the <b>Orb of Yendor</b>, <b>Holy Grail</b>, rescuing the <b>Prince(ss)</b>!

</p><h3>Lots of variety</h3>
<p><a href="https://roguetemple.com/z/hyper/gallery.php">72 lands</a>
(72 in the free version), each with unique theme, mechanics, graphics, terrain
features, native monsters, treasure type, and magical Orb power.
The ultimate <b>Hyperstone Quest</b> requires you to get 10 treasures in each of
the lands!

</p><h3>Simple but hard to master mechanics</h3><p>

In many ways, HyperRogue is closer to boardgames
like Chess, than to mainstream computer games -- except that its "chessboard" is 
a hyperbolic plane, with randomly generated features.
Enemies move predictably, and most can be killed simply by moving into them
-- however, they could kill your character with a single attack too! Even though the game
disallows you from making moves which would lead to this immediately
("check" in Chess), fighting large groups is still a challenge.

</p><h3>Even more challenge!</h3><p>

If you want even more challenge, you will get it easily, due to HyperRogue's
difficulty/high score system. The more treasures you collect in a given land,
the more monster chase you there. Collect 10 treasures in the given land to show the
basic understanding of it, 
25 treasures to show that you have mastered it, or go for
even more! The game never ends, but it gets harder and harder.

</p><h3>Multiple special modes</h3><p>
Enable the shoot'em
up mode, and the game is no longer turn-based or grid-based. Play together with your
friend (shmup mode is recommended). Try the Euclidean, elliptic, or spherical modes, to
see why the <a href="https://roguetemple.com/z/hyper/geoms.php">geometry</a> matters, or enable the heptagonal mode to make the 
hyperbolic effects stronger. Try extra challenges such as the Yendor Challenge or the
Pure Tactics Mode, or make the game <a href="https://roguetemple.com/z/hyper/models.php">look differently</a> with the Hypersian Rug or
Conformal mode. The recently added Orb Strategy
mode emphasizes the resource management by giving you harder challenges while allowing
you to use your limited magical powers in difficult situations.

</p><h3>Great game, educational thing, or maybe an artistic or research tool?</h3><p>

HyperRogue has started as a small, weird technical experiment, but it turned out that hyperbolic geometry
combined with basic roguelike rules makes for exceptionally great gameplay, even if you do not care about
geometry! Further work improved the gameplay, but also turned HyperRogue into probably the most fully featured
engine for truly non-Euclidean geometry in existence. Even if you do not care about roguelikes, roguelites
and block puzzles, you can play the tutorial as an explorable explanation about hyperbolic geometry, use
HyperRogue for <a href="https://roguetemple.com/z/hyper/rogueviz.php">research in applied hyperbolic geometry</a>, or use the 
texture mode and vector graphics editor to create mathematical art. The possibilities are endless!

</p><h2>How to get it</h2><p>
HyperRogue can be <a href="https://roguetemple.com/z/hyper/download.php">downloaded freely</a> from this website,
or bought on <a href="http://store.steampowered.com/app/342610">Steam</a> or 
<a href="http://zenorogue.itch.io/hyperrogue">itch.io</a>; the paid versions are
updated more frequently and include social features such as achievements and leaderboards.
There are also Android and iOS versions.

</p><p><center>
@ <a href="https://roguetemple.com/z/donate.php?id=HyperRogue">Donate</a> @ <a href="http://zenorogue.blogspot.com/search/label/hyper">Project Blog</a> @ <a href="http://twitter.com/zenorogue">Twitter</a> @ <a href="https://discord.gg/8G44XkR">Discord</a> @ <a href="http://steamcommunity.com/app/342610/discussions/">Discuss</a> @</center></p>
<br>





<!--
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="fb-comments" data-href="http://www.roguetemple.com/z/hyper/" data-num-posts="2" data-width="500"
  data-colorscheme="dark"></div> -->

<br>

<!-- Place this tag where you want the +1 button to render -->
<g:plusone size="tall"></g:plusone>

<!-- Place this render call where appropriate -->

<p><center>
<a href="http://www.roguetemple.com/">
    Thanks to Slashie for hosting this at RogueTemple!</a></center></p>
<p><center>
@ <a href="https://roguetemple.com/z/">Zeno Rogue Games</a> @
 <a href="https://roguetemple.com/z/vapors/">Vapors of Insanity</a> @
 <a href="https://roguetemple.com/z/noteye/">Necklace of the Eye</a> @
 <a href="https://roguetemple.com/z/hydra/">Hydra Slayer</a> @
 [ <a href="https://roguetemple.com/z/hyper/">HyperRogue</a> ] @
 <a href="https://roguetemple.com/z/untahris/">Untahris</a> @
</center></p>
<p><center>
@ [ <a href="https://roguetemple.com/z/hyper/">About</a> ] @
 <a href="https://roguetemple.com/z/hyper/download.php">Downloads</a> @
 <a href="https://roguetemple.com/z/hyper/gallery.php">Gallery of Lands</a> @
 <a href="https://roguetemple.com/z/hyper/faq.php">FAQ</a> @
 <a href="https://roguetemple.com/z/hyper/models.php">Models</a> @
 <a href="https://roguetemple.com/z/hyper/geoms.php">Geometries</a> @
 <a href="https://roguetemple.com/z/hyper/curves.php">Curves</a> @
 <a href="https://roguetemple.com/z/hyper/dev.php">Programming</a> @
 <a href="https://roguetemple.com/z/hyper/rogueviz.php">RogueViz</a> @
 <a href="https://roguetemple.com/z/hyper/media.php">Images &amp; Videos</a> @
 <a href="https://roguetemple.com/z/hyper/history.php">History &amp; Naming &amp; Credits</a> @
 <a href="https://roguetemple.com/z/hyper/press.php">press</a> @
</center></p>
<br>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[URLs are state containers (241 pts)]]></title>
            <link>https://alfy.blog/2025/10/31/your-url-is-your-state.html</link>
            <guid>45789474</guid>
            <pubDate>Sun, 02 Nov 2025 11:12:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://alfy.blog/2025/10/31/your-url-is-your-state.html">https://alfy.blog/2025/10/31/your-url-is-your-state.html</a>, See on <a href="https://news.ycombinator.com/item?id=45789474">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>Couple of weeks ago when I was publishing <a href="https://alfy.blog/2025/10/16/hidden-cost-of-url-design.html">The Hidden Cost of URL Design</a> I needed to add SQL syntax highlighting. I headed to <a href="https://prismjs.com/">PrismJS</a> website trying to remember if it should be added as a plugin or what. I was overwhelmed with the amount of options in the download page so I headed back to my code. I checked the file for PrismJS and at the top of the file, I found a comment containing a URL:</p>

<pre><code>/* https://prismjs.com/download.html#themes=prism&amp;languages=markup+css+clike+javascript+bash+css-extras+markdown+scss+sql&amp;plugins=line-highlight+line-numbers+autolinker */
</code></pre>

<p>I had completely forgotten about this. I clicked the URL, and it was the PrismJS download page with every checkbox, dropdown, and option pre-selected to match my exact configuration. Themes chosen. Languages selected. Plugins enabled. Everything, perfectly reconstructed from that single URL.</p>

<p>It was one of those moments where something you once knew suddenly clicks again with fresh significance. Here was a URL doing far more than just pointing to a page. It was storing state, encoding intent, and making my entire setup shareable and recoverable. No database. No cookies. No localStorage. Just a URL.</p>

<p>This got me thinking: how often do we, as frontend engineers, overlook the URL as a state management tool? We reach for all sorts of abstractions to manage state such as global stores, contexts, and caches while ignoring one of the web’s most elegant and oldest features: the humble URL.</p>

<p>In my previous article, I wrote about the <a href="https://alfy.blog/2025/10/16/hidden-cost-of-url-design.html">hidden costs of bad URL design</a>. Today, I want to flip that perspective and talk about the immense value of <em>good</em> URL design. Specifically, how URLs can be treated as first-class state containers in modern web applications.</p>

<h2 id="the-overlooked-power-of-urls">The Overlooked Power of URLs</h2>

<p>Scott Hanselman famously said “<a href="https://www.hanselman.com/blog/urls-are-ui">URLs are UI</a>” and he’s absolutely right. URLs aren’t just technical addresses that browsers use to fetch resources. They’re interfaces. They’re part of the user experience.</p>

<p>But URLs are more than UI. They’re <strong>state containers</strong>. Every time you craft a URL, you’re making decisions about what information to preserve, what to make shareable, and what to make bookmarkable.</p>

<p>Think about what URLs give us for free:</p>

<ul>
  <li><strong>Shareability</strong>: Send someone a link, and they see exactly what you see</li>
  <li><strong>Bookmarkability</strong>: Save a URL, and you’ve saved a moment in time</li>
  <li><strong>Browser history</strong>: The back button just works</li>
  <li><strong>Deep linking</strong>: Jump directly into a specific application state</li>
</ul>

<p>URLs make web applications resilient and predictable. They’re the web’s original state management solution, and they’ve been working reliably since 1991. The question isn’t whether URLs <em>can</em> store state. It’s whether we’re using them to their full potential.</p>

<p>Before we dive into examples, let’s break down how URLs encode state. Here’s a typical stateful URL:</p>

<figure>
  <img src="https://alfy.blog/images/2025/10/mdn-url-all.png" alt="Anatomy of URL">
  <figcaption><em>Anatomy of a URL - Source: <a href="https://developer.mozilla.org/en-US/docs/Learn_web_development/Howto/Web_mechanics/What_is_a_URL">What is a URL - MDN Web Docs</a></em></figcaption>
</figure>

<blockquote>
  <p>For many years, these were considered the only components of a URL. That changed with the introduction of <a href="https://developer.mozilla.org/en-US/docs/Web/URI/Reference/Fragment/Text_fragments">Text Fragments</a>, a feature that allows linking directly to a specific piece of text within a page. You can read more about it in my article <a href="https://alfy.blog/2024/10/19/linking-directly-to-web-page-content.html">Smarter than ‘Ctrl+F’: Linking Directly to Web Page Content</a>.</p>
</blockquote>

<p>Different parts of the URL encode different types of state:</p>

<ol>
  <li>Path Segments (<code>/path/to/myfile.html</code>). Best used for <strong>hierarchical resource navigation</strong>:
    <ul>
      <li><code>/users/123/posts</code> - User 123’s posts</li>
      <li><code>/docs/api/authentication</code> - Documentation structure</li>
      <li><code>/dashboard/analytics</code> - Application sections</li>
    </ul>
  </li>
  <li>Query Parameters (<code>?key1=value1&amp;key2=value2</code>). Perfect for <strong>filters</strong>, <strong>options</strong>, and <strong>configuration</strong>:
    <ul>
      <li><code>?theme=dark&amp;lang=en</code> - UI preferences</li>
      <li><code>?page=2&amp;limit=20</code> - Pagination</li>
      <li><code>?status=active&amp;sort=date</code> - Data filtering</li>
      <li><code>?from=2025-01-01&amp;to=2025-12-31</code> - Date ranges</li>
    </ul>
  </li>
  <li>Anchor (<code>#SomewhereInTheDocument</code>). Ideal for client-side navigation and page sections:
    <ul>
      <li><code>#L20-L35</code> - GitHub line highlighting</li>
      <li><code>#features</code> - Scroll to section</li>
      <li><code>#/dashboard</code> - Single-page app routing (though it’s rarely used these days)</li>
    </ul>
  </li>
</ol>

<h3 id="common-patterns-that-work-for-query-parameters">Common Patterns That Work for Query Parameters</h3>

<h4 id="multiple-values-with-delimiters">Multiple values with delimiters</h4>

<p>Sometimes you’ll see multiple values packed into a single key using delimiters like commas or plus signs. It’s compact and human-readable, though it requires manual parsing on the server side.</p>

<pre><code>?languages=javascript+typescript+python
?tags=frontend,react,hooks
</code></pre>

<h4 id="nested-or-structured-data">Nested or structured data</h4>

<p>Developers often encode complex filters or configuration objects into a single query string. A simple convention uses key–value pairs separated by commas, while others serialize JSON or even Base64-encode it for safety.</p>

<pre><code>?filters=status:active,owner:me,priority:high
?config=eyJyaWNrIjoicm9sbCJ9==  (base64-encoded JSON)
</code></pre>

<h4 id="boolean-flags">Boolean flags</h4>

<p>For flags or toggles, it’s common to pass booleans explicitly or to rely on the key’s presence as truthy. This keeps URLs shorter and makes toggling features easy.</p>

<pre><code>?debug=true&amp;analytics=false
?mobile  (presence = true)
</code></pre>

<h4 id="arrays-bracket-notation">Arrays (Bracket notation)</h4>

<pre><code>?tags[]=frontend&amp;tags[]=react&amp;tags[]=hooks
</code></pre>

<p>Another old pattern is <strong>bracket notation</strong>, which represents arrays in query parameters. It originated from early web frameworks like PHP where appending <code>[]</code> to a parameter name signals that multiple values should be grouped together.</p>

<pre><code>?tags[]=frontend&amp;tags[]=react&amp;tags[]=hooks
?ids[0]=42&amp;ids[1]=73
</code></pre>

<p>Many modern frameworks and parsers (like Node’s <code>qs</code> library or Express middleware) still recognize this pattern automatically. However, it’s not officially standardized in the URL specification, so behavior can vary depending on the server or client implementation. Notice how it even breaks the syntax highlighting on my website.</p>

<p><strong>The key is consistency</strong>. Pick patterns that make sense for your application and stick with them.</p>

<h2 id="state-via-url-parameters">State via URL Parameters</h2>

<p>Let’s look at real-world examples of URLs as state containers:</p>

<p><strong>PrismJS Configuration</strong></p>

<pre><code>https://prismjs.com/download.html#themes=prism&amp;languages=markup+css+clike+javascript&amp;plugins=line-numbers
</code></pre>

<p>The entire syntax highlighter configuration encoded in the URL. Change anything in the UI, and the URL updates. Share the URL, and someone else gets your exact setup. This one uses anchor and not query parameters, but the concept is the same.</p>

<p><strong>GitHub Line Highlighting</strong></p>

<pre><code>https://github.com/zepouet/Xee-xCode-4.5/blob/master/XeePhotoshopLoader.m#L108-L136
</code></pre>

<p>It links to a specific file while highlighting lines 108 through 136. Click this link anywhere, and you’ll land on the exact code section being discussed.</p>

<p><strong>Google Maps</strong></p>

<pre><code>https://www.google.com/maps/@22.443842,-74.220744,19z
</code></pre>

<p>Coordinates, zoom level, and map type all in the URL. Share this link, and anyone can see the exact same view of the map.</p>

<p><strong>Figma and Design Tools</strong></p>

<pre><code>https://www.figma.com/file/abc123/MyDesign?node-id=123:456&amp;viewport=100,200,0.5
</code></pre>

<p>Before shareable design links, finding an updated screen or component in a large file was a chore. Someone had to literally <em>show you</em> where it lived, scrolling and zooming across layers. Today, a Figma link carries all that context like canvas position, zoom level, selected element. Literally everything needed to drop you right into the workspace.</p>

<p><strong>E-commerce Filters</strong></p>

<pre><code>https://store.com/laptops?brand=dell+hp&amp;price=500-1500&amp;rating=4&amp;sort=price-asc
</code></pre>

<p>This is one of the most common real-world patterns you’ll encounter. Every filter, sort option, and price range preserved. Users can bookmark their exact search criteria and return to it anytime. Most importantly, they can come back to it after navigating away or refreshing the page.</p>

<h2 id="frontend-engineering-patterns">Frontend Engineering Patterns</h2>

<p>Before we discuss implementation details, we need to establish a clear guideline for what should go into the URL. Not all state belongs in URLs. Here’s a simple heuristic:</p>

<p><strong>Good candidates for URL state:</strong></p>

<ul>
  <li>Search queries and filters</li>
  <li>Pagination and sorting</li>
  <li>View modes (list/grid, dark/light)</li>
  <li>Date ranges and time periods</li>
  <li>Selected items or active tabs</li>
  <li>UI configuration that affects content</li>
  <li>Feature flags and A/B test variants</li>
</ul>

<p><strong>Poor candidates for URL state:</strong></p>

<ul>
  <li>Sensitive information (passwords, tokens, PII)</li>
  <li>Temporary UI states (modal open/closed, dropdown expanded)</li>
  <li>Form input in progress (unsaved changes)</li>
  <li>Extremely large or complex nested data</li>
  <li>High-frequency transient states (mouse position, scroll position)</li>
</ul>

<p>If you are not sure if a piece of state belongs in the URL, ask yourself: If someone else clicking this URL, should they see the same state? If so, it belongs in the URL. If not, use a different state management approach.</p>

<h3 id="implementation-using-plain-javascript">Implementation using Plain JavaScript</h3>

<p>The modern <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams"><code>URLSearchParams</code></a> API makes URL state management straightforward:</p>

<pre><code>// Reading URL parameters
const params = new URLSearchParams(window.location.search);
const view = params.get('view') || 'grid';
const page = params.get('page') || 1;

// Updating URL parameters
function updateFilters(filters) {
  const params = new URLSearchParams(window.location.search);

  // Update individual parameters
  params.set('status', filters.status);
  params.set('sort', filters.sort);

  // Update URL without page reload
  const newUrl = `${window.location.pathname}?${params.toString()}`;
  window.history.pushState({}, '', newUrl);

  // Now update your UI based on the new filters
  renderContent(filters);
}

// Handling back/forward buttons
window.addEventListener('popstate', () =&gt; {
  const params = new URLSearchParams(window.location.search);
  const filters = {
    status: params.get('status') || 'all',
    sort: params.get('sort') || 'date'
  };
  renderContent(filters);
});
</code></pre>

<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/popstate_event"><code>popstate</code></a> event fires when the user navigates with the browser’s Back or Forward buttons. It lets you restore the UI to match the URL, which is essential for keeping your app’s state and history in sync. Usually your framework’s router handles this for you, but it’s good to know how it works under the hood.</p>

<h3 id="implementation-using-react">Implementation using React</h3>

<p>React Router and Next.js provide hooks that make this even cleaner:</p>

<pre><code>import { useSearchParams } from 'react-router-dom';
// or for Next.js 13+: import { useSearchParams } from 'next/navigation';

function ProductList() {
  const [searchParams, setSearchParams] = useSearchParams();

  // Read from URL (with defaults)
  const color = searchParams.get('color') || 'all';
  const sort = searchParams.get('sort') || 'price';

  // Update URL
  const handleColorChange = (newColor) =&gt; {
    setSearchParams(prev =&gt; {
      const params = new URLSearchParams(prev);
      params.set('color', newColor);
      return params;
    });
  };

  return (
    &lt;div&gt;
      &lt;select value={color} onChange={e =&gt; handleColorChange(e.target.value)}&gt;
        &lt;option value="all"&gt;All Colors&lt;/option&gt;
        &lt;option value="silver"&gt;Silver&lt;/option&gt;
        &lt;option value="black"&gt;Black&lt;/option&gt;
      &lt;/select&gt;

      {/* Your filtered products render here */}
    &lt;/div&gt;
  );
}
</code></pre>

<h3 id="best-practices-for-url-state-management">Best Practices for URL State Management</h3>

<p>Now that we’ve seen how URLs can hold application state, let’s look at a few best practices that keep them clean, predictable, and user-friendly.</p>

<h4 id="handling-defaults-gracefully">Handling Defaults Gracefully</h4>

<p>Don’t pollute URLs with default values:</p>

<pre><code>// Bad: URL gets cluttered with defaults
?theme=light&amp;lang=en&amp;page=1&amp;sort=date

// Good: Only non-default values in URL
?theme=dark  // light is default, so omit it
</code></pre>

<p>Use defaults in your code when reading parameters:</p>

<pre><code>function getTheme(params) {
  return params.get('theme') || 'light'; // Default handled in code
}
</code></pre>

<h4 id="debouncing-url-updates">Debouncing URL Updates</h4>

<p>For high-frequency updates (like search-as-you-type), debounce URL changes:</p>

<pre><code>import { debounce } from 'lodash';

const updateSearchParam = debounce((value) =&gt; {
  const params = new URLSearchParams(window.location.search);
  if (value) {
    params.set('q', value);
  } else {
    params.delete('q');
  }
  window.history.replaceState({}, '', `?${params.toString()}`);
}, 300);

// Use replaceState instead of pushState to avoid flooding history
</code></pre>

<h4 id="pushstate-vs-replacestate">pushState vs. replaceState</h4>

<p>When deciding between <code>pushState</code> and <code>replaceState</code>, think about how you want the browser history to behave. <code>pushState</code> creates a new history entry, which makes sense for <strong>distinct navigation actions</strong> like changing filters, pagination, or navigating to a new view — users can then use the Back button to return to the previous state. On the other hand, <code>replaceState</code> updates the current entry without adding a new one, making it ideal for <strong>refinements</strong> such as search-as-you-type or minor UI adjustments where you don’t want to flood the history with every keystroke.</p>

<h2 id="urls-as-contracts">URLs as Contracts</h2>

<p>When designed thoughtfully, URLs become more than just state containers. They become <strong>contracts</strong> between your application and its consumers. A good URL defines expectations for humans, developers, and machines alike</p>

<h3 id="clear-boundaries">Clear Boundaries</h3>

<p>A well-structured URL draws the line between what’s public and what’s private, client and server, shareable and session-specific. It clarifies where state lives and how it should behave. Developers know what’s safe to persist, users know what they can bookmark, and machines know whats worth indexing.</p>

<p>URLs, in that sense, act as <strong>interfaces</strong>: visible, predictable, and stable.</p>

<h3 id="communicating-meaning">Communicating Meaning</h3>

<p>Readable URLs explain themselves. Consider the difference between the two URLs below.</p>

<pre><code>https://example.com/p?id=x7f2k&amp;v=3
https://example.com/products/laptop?color=silver&amp;sort=price
</code></pre>

<p>The first one hides intent. The second tells a story. A human can read it and understand what they’re looking at. A machine can parse it and extract meaningful structure.</p>

<p>Jim Nielsen calls these “<a href="https://blog.jim-nielsen.com/2023/examples-of-great-urls/">examples of great URLs</a>”. URLs that explain themselves.</p>

<h3 id="caching-and-performance">Caching and Performance</h3>

<p>URLs are cache keys. Well-designed URLs enable better caching strategies:</p>

<ul>
  <li>Same URL = same resource = cache hit</li>
  <li>Query params define cache variations</li>
  <li>CDNs can cache intelligently based on URL patterns</li>
</ul>

<p>You can even visualize a user’s journey without any extra tracking code:</p>

<pre>graph LR
  A["/products"] --&gt; |selects category| B["/products?category=laptops"]
  B --&gt; |adds price filter| C["/products?category=laptops&amp;price=500-1000"]

  style A fill:#e9edf7,stroke:#455d8d,stroke-width:2px;
  style B fill:#e9edf7,stroke:#455d8d,stroke-width:2px;
  style C fill:#e9edf7,stroke:#455d8d,stroke-width:2px;
</pre>

<p>Your analytics tools can track this flow without additional instrumentation. Every URL parameter becomes a dimension you can analyze.</p>

<h3 id="versioning-and-evolution">Versioning and Evolution</h3>

<p>URLs can communicate API versions, feature flags, and experiments:</p>

<pre><code>?v=2                   // API version
?beta=true             // Beta features
?experiment=new-ui     // A/B test variant
</code></pre>

<p>This makes gradual rollouts and backwards compatibility much more manageable.</p>

<h2 id="anti-patterns-to-avoid">Anti-Patterns to Avoid</h2>

<p>Even with the best intentions, it’s easy to misuse URL state. Here are common pitfalls:</p>

<h3 id="state-only-in-memory-spas">“State Only in Memory” SPAs</h3>

<p>The classic single-page app mistake:</p>

<pre><code>// User hits refresh and loses everything
const [filters, setFilters] = useState({});
</code></pre>

<p>If your app forgets its state on refresh, you’re breaking one of the web’s fundamental features. Users expect URLs to preserve context. I remember a viral video from years ago where a Reddit user vented about an e-commerce site: every time she hit “Back,” all her filters disappeared. Her frustration summed it up perfectly. If users lose context, they lose patience.</p>

<h3 id="sensitive-data-in-urls">Sensitive Data in URLs</h3>

<p>This one seems obvious, but it’s worth repeating:</p>

<pre><code>// NEVER DO THIS
?password=secret123
</code></pre>

<p>URLs are logged everywhere: browser history, server logs, analytics, referrer headers. Treat them as public.</p>

<h3 id="inconsistent-or-opaque-naming">Inconsistent or Opaque Naming</h3>

<pre><code>// Unclear and inconsistent
?foo=true&amp;bar=2&amp;x=dark

// Self-documenting and consistent
?mobile=true&amp;page=2&amp;theme=dark
</code></pre>

<p>Choose parameter names that make sense. Future you (and your team) will thank you.</p>

<h3 id="overloading-urls-with-complex-state">Overloading URLs with Complex State</h3>

<pre><code>?config=eyJtZXNzYWdlIjoiZGlkIHlvdSByZWFsbHkgdHJpZWQgdG8gZGVjb2RlIHRoYXQ_IiwiZmlsdGVycyI6eyJzdGF0dXMiOlsiYWN0aXZlIiwicGVuZGluZyJdLCJwcmlvcml0eSI6WyJoaWdoIiwibWVkaXVtIl0sInRhZ3MiOlsiZnJvbnRlbmQiLCJyZWFjdCIsImhvb2tzIl0sInJhbmdlIjp7ImZyb20iOiIyMDI0LTAxLTAxIiwidG8iOiIyMDI0LTEyLTMxIn19LCJzb3J0Ijp7ImZpZWxkIjoiY3JlYXRlZEF0Iiwib3JkZXIiOiJkZXNjIn0sInBhZ2luYXRpb24iOnsicGFnZSI6MSwibGltaXQiOjIwfX0==
</code></pre>

<p>If you need to base64-encode a massive JSON object, the URL probably isn’t the right place for that state.</p>

<h3 id="url-length-limits">URL Length Limits</h3>

<p>Browsers and servers impose practical limits on URL length (usually between 2,000 and 8,000 characters) but the reality is more nuanced. As <a href="https://stackoverflow.com/a/417184/497828">this detailed Stack Overflow answer</a> explains, limits come from a mix of browser behavior, server configurations, CDNs, and even search engine constraints. If you’re bumping against them, it’s a sign you need to rethink your approach.</p>

<h3 id="breaking-the-back-button">Breaking the Back Button</h3>

<pre><code>// Replacing state incorrectly
history.replaceState({}, '', newUrl); // Used when pushState was needed
</code></pre>

<p>Respect browser history. If a user action should be “undoable” via the back button, use <code>pushState</code>. If it’s a refinement, use <code>replaceState</code>.</p>

<h2 id="closing-thought">Closing Thought</h2>

<p>That PrismJS URL reminded me of something important: good URLs don’t just point to content. They describe a conversation between the user and the application. They capture intent, preserve context, and enable sharing in ways that no other state management solution can match.</p>

<p>We’ve built increasingly sophisticated state management libraries like Redux, MobX, Zustand, Recoil and others. They all have their place but sometimes the best solution is the one that’s been there all along.</p>

<p>In my previous article, I wrote about the hidden costs of bad URL design. Today, we’ve explored the flip side: the immense value of good URL design. URLs aren’t just addresses. They’re state containers, user interfaces, and contracts all rolled into one.</p>

<p>If your app forgets its state when you hit refresh, you’re missing one of the web’s oldest and most elegant features.</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Notes by djb on using Fil-C (2025) (232 pts)]]></title>
            <link>https://cr.yp.to/2025/fil-c.html</link>
            <guid>45788040</guid>
            <pubDate>Sun, 02 Nov 2025 05:32:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cr.yp.to/2025/fil-c.html">https://cr.yp.to/2025/fil-c.html</a>, See on <a href="https://news.ycombinator.com/item?id=45788040">Hacker News</a></p>
<div id="readability-page-1" class="page">


<p>
I'm impressed with the level of compatibility
of the new memory-safe C/C++ compiler
<a href="https://fil-c.org/">Fil-C</a>
(filcc, fil++).
Many libraries and applications that I've tried
work under Fil-C without changes, and the exceptions haven't been hard to get working.
</p>
<p>
I've started accumulating miscellaneous notes on this page regarding usage of Fil-C.
My selfish objective here is to protect various machines that I manage
by switching them over to code compiled with Fil-C,
but maybe you'll find something useful here too.
</p>
<p>
Timings below are from a mini-PC named <tt>phoenix</tt> except where otherwise mentioned.
This mini-PC has a 6-core (12-thread) AMD Ryzen 5 7640HS (Zen 4) CPU, 12GB RAM, and 36GB swap.
The OS is Debian 13.
(I normally run LTS software,
periodically upgrading from software that's 4–5 years old such as Debian 11 today
to software that's 2–3 years old such as Debian 12 today;
but some of the packages included in Fil-C expect newer utilities to be available.)
</p>
<p>
Related:
</p>
<ul>
<li>
I've posted a
<a href="https://cr.yp.to/2025/filc-diffs-20251027.sh">script</a>
to help auditors see how Fil-C differs from upstream sources (clang, glibc, ...).
</li>
<li>
I've posted a self-contained
<a href="https://cr.yp.to/2025/20251030-filian-install-compiler.sh"><tt>filian-install-compiler</tt></a>
script
(replacing the
<a href="https://cr.yp.to/2025/20251029-filian-install-compiler.sh">20251029 version</a>)
to download+compile+install Fil-C on Debian 13 in what I think are Debian-appropriate locations,
along with glibc and binutils compiled with Fil-C.
A run took 86 minutes real time (for 477 minutes user time and 52 minutes system time).
</li>
<li>
I've posted the start of a
<a href="https://cr.yp.to/2025/20251030-filian-install-packages.sh"><tt>filian-install-packages</tt></a>
script to download+compile+install Debian source packages, using Fil-C as the compiler
(after <tt>filian-install-compiler</tt> has finished).
This script has various limitations that need fixing,
but it does work for a few packages already
(e.g., <tt>./filian-install-packages bzip2</tt>),
after the installation of <tt>dh-exec</tt> etc. described below.
</li>
<li>
I've posted a
<a href="https://cr.yp.to/2025/20251028-filcc-vs-clang.html">graph</a>
showing nearly 9000 microbenchmarks of Fil-C vs. clang on cryptographic software (each run pinned to 1 core on the same Zen 4).
Typically code compiled with Fil-C takes between 1x and 4x as many cycles as the same code compiled with clang.
</li>
</ul>
<p>
Another way to run Fil-C is via
<a href="https://github.com/mbrock/filnix">Filnix</a>
from Mikael Brockman.
For example,
an unprivileged user under Debian 12 with about 10GB of free disk space
can download, compile, and install Fil-C,
and run a Fil-C-compiled Nethack, as follows:
</p>
<pre><code>unshare --user --pid echo YES # just to test
git clone https://github.com/nix-community/nix-user-chroot
cd nix-user-chroot
cargo build --release
mkdir -m 0755 ~/nix
~/nix-user-chroot/target/release/nix-user-chroot ~/nix \
  bash -c 'curl -L https://nixos.org/nix/install | sh'
env TERM=vt102 \
  ~/nix-user-chroot/target/release/nix-user-chroot ~/nix \
  ~/nix/store/*-nix-2*/bin/nix \
  --extra-experimental-features 'nix-command flakes' \
  run 'github:mbrock/filnix#nethack'
</code></pre>

<h2><a name="compiler">Compiler and C library</a></h2>
<p>
Current recommendations for things to do at the beginning as <tt>root</tt>:
</p>
<pre><code>mkdir -p /var/empty
apt install \
  autoconf-dickey build-essential bison clang cmake flex gawk \
  gettext ninja-build patchelf quilt ruby texinfo time
</code></pre>
<p>
I created an unprivileged <tt>filc</tt> user.
Everything else is as that user.
</p>
<p>
I downloaded the Fil-C source package:
</p>
<pre><code>git clone https://github.com/pizlonator/fil-c.git
cd fil-c
</code></pre>
<p>
This isn't just the compiler;
there's also glibc and quite a few higher-level libraries and applications.
There are also binary Fil-C packages,
but I've worked primarily with the source package at this point.
</p>
<p>
I compiled Fil-C and glibc:
</p>
<pre><code>time ./build_all_fast_glibc.sh
</code></pre>
<p>
There are also options to use musl instead of glibc,
but musl is incompatible with some of the packages shipped with Fil-C:
<tt>attr</tt> needs <tt>basename</tt>,
<tt>elfutils</tt> needs <tt>argp_parse</tt>,
<tt>sed</tt>'s test suite needs the glibc variant of <tt>calloc</tt>,
and
<tt>vim</tt>'s build needs <tt>iconv</tt>
to be able to convert from CP932 to UTF-8.
</p>
<p>
I had originally configured the server <tt>phoenix</tt> with only 12GB swap.
I then had to restart <tt>./build_all_fast_glibc.sh</tt> a few times
because the Fil-C compilation ran out of memory.
Switching to 36GB swap made everything work with no restarts;
monitoring showed that almost 19GB swap (plus 12GB RAM) was used at one point.
A larger server, 128 cores with 512GB RAM, took 8 minutes for Fil-C plus 6 minutes for musl,
with no restarts needed.
</p>
<h2><a name="batteries">More libraries and applications included with Fil-C</a></h2>
<p>
Fil-C includes a
<tt>./build_all_slow.sh</tt>
that builds many more libraries and applications
(sometimes with patches from the Fil-C author).
I wrote a replacement script
<a href="https://cr.yp.to/2025/build-parallel-20251023.py">https://cr.yp.to/2025/build-parallel-20251023.py</a>
with the following differences:
</p>
<ul>
<li>The <tt>build-parallel</tt> script
  runs through everything, putting results into <tt>build/logs/*</tt>,
  whereas <tt>build_all_slow</tt> stops at the first error.
</li>
<li>The <tt>build-parallel</tt> script tries to use multiple cores,
  while <tt>build_all_slow</tt> runs through targets serially,
  parallelizing only to the extent that each target's build mechanism is parallelized.
</li>
<li>The <tt>build-parallel</tt> script might produce wrong results if it's parallelizing things
  that shouldn't be parallelized.
  But this should be easy to fix via tweaking the dependencies listed in the script.
</li>
</ul>
<p>
On <tt>phoenix</tt>,
running
<tt>time PATH="$HOME/bin:$HOME/fil-c/build/bin:$HOME/fil-c/pizfix/bin:$PATH" ./build-parallel.py</tt>
went through 61 targets in 101 minutes real time (467 minutes user time, 55 minutes system time),
successfully compiling 60 of them.
</p>

<p>
<b>libcap.</b>
This is the one that didn't compile:
<tt>/home/filc/fil-c/pizfix/bin/ld: /usr/libexec/gcc/x86_64-linux-gnu/14/liblto_plugin.so: error loading plugin: libc.so.6: cannot open shared object file: No such file or directory</tt>
</p>

<p>
<b>util-linux.</b>
I skipped this one.
It does compile,
but the compiled <tt>taskset</tt> utility needs to be patched to use
<tt>sched_getaffinity</tt> and <tt>sched_setaffinity</tt>
as library functions rather than via <tt>syscall</tt>,
or Fil-C needs to be patched for those syscalls.
This is an issue for <tt>build-parallel</tt>
since <tt>build-parallel</tt> relies on <tt>taskset</tt>;
maybe <tt>build-parallel</tt> should instead use Python's affinity functions.
</p>

<p>
<b>
attr, bash, benchmarks, binutils, bison, brotli, bzip2, bzip3, check, cmake, coreutils, cpython, curl, dash, diffutils, elfutils, emacs, expat, ffi, gettext, git,
gmp, grep, icu, jpeg-6b, libarchive, libcap, libedit, libevent, libpipeline, libuev, libuv, lua, lz4, m4, make, mg, ncurses, nghttp2, openssh, openssl, pcre2, pcre,
perl, pkgconf, procps, quickjs, sed, shadow, simdutf, sqlite, tcl, tmux, toybox, vim, wg14_signals, xml_parser, xz, zlib, zsh, zstd.</b>
No problems encountered so far
(given whatever patches were already applied from the Fil-C author!).
The benchmarks package is supplied with Fil-C and does a few miscellaneous measurements.
</p>

<h2><a name="further">Further libraries and applications</a></h2>
<p>
I did
<tt>export PATH="$HOME/bin:$HOME/fil-c/build/bin:$HOME/fil-c/pizfix/bin:$PATH"</tt>
before these.
</p>

<p>
<b>boost 1.89.0</b>:
Seems to mostly work.
Most of the package is header-only;
a few simple tests worked fine.
</p>
<p>
I also looked a bit at the compiled parts.
Running
<tt>./bootstrap.sh --with-toolset=clang --prefix=$HOME</tt>
ran into <tt>vfork</tt>,
which Fil-C doesn't support,
but editing
<tt>tools/build/src/engine/execunix.cpp</tt>
to use <tt>defined(__APPLE__) || defined(__FILC__)</tt>
for the no-fork test got past this.
</p>
<p>
Running <tt>./b2 install --prefix=$HOME toolset=clang address-model=64 architecture=x86_64 binary-format=elf</tt>
produced an error message since I should have said <tt>x86</tt> instead of <tt>x86_64</tt>;
Fil-C said it caught a safety issue in the <tt>b2</tt> program after the error message:
<tt>filc safety error: argument size mismatch (actual = 8, expected = 16)</tt>.
I didn't compile with debugging so Fil-C didn't say where this is in <tt>b2</tt>.
</p>

<p>
<b>cdb-20251021</b>:
Seems to work.
One regression test, an artificial out-of-memory regression test,
currently produces a different error message with Fil-C:
<tt>filc panic: src/libpas/pas_compact_heap_reservation.c:65: pas_aligned_allocation_result pas_compact_heap_reservation_try_allocate(size_t, size_t):
assertion page_result.result failed.</tt>
</p>

<p>
<b>libcpucycles-20250925</b>:
Seems to work.
I commented out the first three lines of <tt>cpucycles/options</tt>.
</p>

<p>
<b>libgc</b>:
I replaced this with a small gcshim package
(<a href="https://cr.yp.to/2025/gcshim-20251022.tar.gz">https://cr.yp.to/2025/gcshim-20251022.tar.gz</a>)
that simply calls <tt>malloc</tt> etc.
So far this seems to be an adequate replacement.
(Fil-C includes a garbage collector.)
</p>

<p>
<b>libntruprime-20241021</b>:
Seems to work after a few tweaks but I didn't collect full notes yet.
<tt>chmod +t crypto_hashblocks/sha512/avx2</tt> disables assembly and makes things compile;
configured with <tt>--no-valgrind</tt> since Fil-C doesn't support valgrind;
did a bit more tweaking to make <tt>cpuid</tt> work.
</p>

<p>
<b>lpeg-1.1.0:</b>
Compiles, maybe works (depends on lua, dependency of neovim):
</p><pre><code>cd
PREFIX=$(dirname $(dirname $(which lua)))
wget https://www.inf.puc-rio.br/~roberto/lpeg/lpeg-1.1.0.tar.gz
tar -xf lpeg-1.1.0.tar.gz
cd lpeg-1.1.0
make CC=`which filcc` DLLFLAGS='-shared -fPIC' test
cp lpeg.so $PREFIX/lib
</code></pre>


<p>
<b>luv-1.51.0:</b>
Compiles, maybe works (depends on lua, dependency of neovim):
</p><pre><code>cd
PREFIX=$(dirname $(dirname $(which lua)))
wget https://github.com/luvit/luv/releases/download/1.51.0-1/luv-1.51.0-1.tar.gz
tar -xf luv-1.51.0-1.tar.gz
cd luv-1.51.0-1
mkdir build
cd build
LUA_DIR=$HOME/fil-c/projects/lua-5.4.7
# lua install should probably do this:
cp $LUA_DIR/lua.h $PREFIX/include/
cp $LUA_DIR/lauxlib.h $PREFIX/include/
cp $LUA_DIR/luaconf.h $PREFIX/include/
cp $LUA_DIR/lualib.h $PREFIX/include/
# and then:
cmake -DCMAKE_C_COMPILER=`which filcc` -DCMAKE_INSTALL_PREFIX=$PREFIX -DWITH_LUA_ENGINE=Lua -DLUA_DIR=$HOME/fil-c/projects/lua-5.4.7/ ..
make test
make install
</code></pre>


<p>
<b>mutt-2-2-15-rel</b> (depends on ncurses):
</p><pre><code>wget https://github.com/muttmua/mutt/archive/refs/tags/mutt-2-2-15-rel.tar.gz
tar -xf mutt-2-2-15-rel.tar.gz
cd mutt-mutt-2-2-15-rel
CC=`which clang` ./prepare --prefix=$HOME/fil-c/pizfix --with-homespool
make -j12 install
</code></pre>
Seems to work, at least for reading email.


<p>
<b>tig</b> (depends on ncurses and maybe more):
</p><pre><code>wget https://github.com/jonas/tig/releases/download/tig-2.6.0/tig-2.6.0.tar.gz
tar -xf tig-2.6.0.tar.gz
cd tig-2.6.0
CC=`which filcc` ./configure --prefix=$(dirname $(dirname $(which git)))
make -j12
make test
make -j12 install
</code></pre>
Seems to work, at least for viewing the Fil-C repo.


<p>
<b>w3m</b> (depends on gcshim and ncurses):
Seems to work.
I tried the Debian version:
<tt>git clone https://salsa.debian.org/debian/w3m.git</tt>.
I used <tt>CFLAGS=-Wno-incompatible-function-pointer-types</tt>
(which is probably needed for clang anyway even without Fil-C).
</p>

<h2><a name="debian">Debian using Fil-C (Filian?)</a></h2>
<p>
I've built and installed some replacement Debian packages using Fil-C as the compiler on a Debian 13 machine,
as explained below.
Hopefully this can rapidly scale to many packages,
taking advantage of the basic compile-install-test knowledge already built into Debian source packages,
although some packages will take more work because they need extra patches to work with Fil-C.
</p>
<p>
<b>Structure.</b>
Debian already understands how to have packages for multiple architectures (ABIs; Debian "ports") installed at once.
For example,
<tt>dpkg --add-architecture i386; apt update; apt install bash:i386</tt>
installs a 32-bit version of bash,
replacing the usual 64-bit version;
you can do <tt>apt install bash:amd64</tt> to revert to the 64-bit version.
Meanwhile the 32-bit libraries and 64-bit libraries are installed in separate locations,
basically
<tt>/lib/i386-linux-gnu</tt>
or
<tt>/usr/lib/i386-linux-gnu</tt>
vs.
<tt>/lib/x86_64-linux-gnu</tt>
or
<tt>/usr/lib/x86_64-linux-gnu</tt>.
(On Debian 11 and newer, and on Ubuntu 22.04 and newer,
<tt>/lib</tt> is symlinked to <tt>/usr/lib</tt>.)
</p>
<p>
I'm following this model for plugging Fil-C into Debian:
the goal is for <tt>apt install bash:amd64fil0</tt>
to install a Fil-C-compiled (<tt>amd64fil0</tt>) version of bash,
replacing the usual (<tt>amd64</tt>) version of bash,
while the <tt>amd64</tt> and <tt>amd64fil0</tt> libraries are installed in separate locations.
</p>
<p>
<b>The include-file complication.</b>
Debian
<a href="https://wiki.debian.org/Multiarch/LibraryPathOverview">expects</a>
library packages compiled for multiple ABIs
to all provide the same include files:
for example, <tt>/usr/include/ncurses.h</tt>
is provided by <tt>libncurses-dev:i386</tt>, <tt>libncurses-dev:amd64</tt>, etc.
This is safe because Debian forces
<tt>libncurses-dev:i386</tt> and <tt>libncurses-dev:amd64</tt> and so on
to all have the same version.
An occasional package with ABI-dependent include files
can still use <tt>/usr/include/x86_64-linux-gnu</tt> etc.
</p>
<p>
Fil-C instead omits <tt>/usr/include</tt>
in favor of a Fil-C-specific directory
(which will typically be different from <tt>/usr/include</tt>:
even if Fil-C is compiled with glibc,
probably the glibc version won't be the same as in <tt>/usr/include</tt>).
This difference is the top source of messiness below.
I'm planning to tweak the Fil-C driver to use <tt>/usr/include</tt> on Debian.
[This is done in the <tt>filian-install-compiler</tt> script.]
</p>
<p>
Something else I'm planning to tweak is Fil-C's glibc compilation,
so that it uses the final system prefix.
[This is also done in the <tt>filian-install-compiler</tt> script.]
The approach described below instead requires
<tt>/home/filian/fil-c</tt> to stay in place
for compiling and running programs.
</p><p>
<b>Building Debian packages.</b>
How does Debian package building work?
First, more packages to install as root:
</p>
<pre><code>apt install dpkg-dev devscripts docbook2x \
  dh-exec dh-python python3-setuptools fakeroot \
  sbuild mmdebstrap uidmap piuparts
</code></pre>
<p>
Debian has
<a href="https://wiki.debian.org/PackagingTools#Package_build_tools">multiple options</a>
for building a package.
The option that has the best isolation,
and that Debian uses to continually build new packages for distribution,
is sbuild,
but for fast development I'll focus on directly using the lower-level
dpkg-buildpackage.
</p>
<p>
<b>Baseline 1: using sbuild without Fil-C.</b>
In case you do want to try sbuild,
here's the basic setup,
and then an example of building a small package (tinycdb):
</p><pre><code>mkdir -p ~/shared/sbuild
time mmdebstrap --include=ca-certificates --skip=output/dev --variant=buildd unstable ~/shared/sbuild/unstable-amd64.tar.zst https://deb.debian.org/debian

mkdir -p ~/.config/sbuild
cat &lt;&lt; "EOF" &gt; ~/.config/sbuild/config.pl
$chroot_mode = 'unshare';
$external_commands = { "build-failed-commands" =&gt; [ [ '%SBUILD_SHELL' ] ] };
$build_arch_all = 1;
$build_source = 1;
$source_only_changes = 1;
$run_lintian = 1;
$lintian_opts = ['--display-info', '--verbose', '--fail-on', 'error,warning', '--info'];
$run_autopkgtest = 1;
$run_piuparts = 1;
$piuparts_opts = ['--no-eatmydata', '--distribution=%r', '--fake-essential-packages=systemd-sysv'];
EOF

mkdir -p ~/shared/packages
cd ~/shared/packages
apt source tinycdb
cd tinycdb-*/
time sbuild
</code></pre>

<p>
<b>Baseline 2: using dpkg-buildpackage without Fil-C.</b>
Here's what it looks like compiling the same small package with dpkg-buildpackage:
</p><pre><code>mkdir -p ~/shared/packages
cd ~/shared/packages
apt source tinycdb
cd tinycdb-*/
time dpkg-buildpackage -us -uc -b
</code></pre>

<p>
<b>The goal: Using dpkg-buildpackage with Fil-C.</b>
As root, teach dpkg basic features of the new architecture,
imitating the current line
<tt>amd64 x86_64 (amd64|x86_64) 64 little</tt>
in the same file:
</p>
<pre><code>echo amd64fil0 x86_64+fil0 amd64fil0 64 little &gt;&gt; /usr/share/dpkg/cputable
</code></pre>

<p>
Also, allow <tt>apt</tt> to install packages compiled for this architecture
(beware that this will also later make <tt>apt update</tt> look for that architecture on servers,
and whimper a bit for not finding it,
but nothing breaks):
</p>
<pre><code>dpkg --add-architecture amd64fil0
</code></pre>
<p>
Also, teach <tt>autoconf</tt> to accept amd64fil0
(the third of these lines is what's critical for Debian builds):
</p>
<pre><code>sed -i '/| x86_64 / a| x86_64+fil0 \\' /usr/share/autoconf/build-aux/config.sub
sed -i '/| x86_64 / a| x86_64+fil0 \\' /usr/share/libtool/build-aux/config.sub
sed -i '/| x86_64 / a| x86_64+fil0 \\' /usr/share/misc/config.sub
</code></pre>
<p>
[Not necessary if you've used <tt>filian-install-compiler</tt>:]
As a <tt>filian</tt> user,
compile Fil-C and its standard library:
</p>
<pre><code>cd
git clone https://github.com/pizlonator/fil-c.git
cd fil-c
time ./build_all_fast_glibc.sh
</code></pre>
<p>
[Not necessary if you've used <tt>filian-install-compiler</tt>:]
As root,
copy Fil-C and its standard library into system locations:
</p>
<pre><code>mkdir -p /usr/libexec/fil/amd64/compiler
time cp -r /home/filian/fil-c/pizfix /usr/libexec/fil/amd64/
rm -rf /usr/lib/x86_64+fil0-linux-gnu
mv /usr/libexec/fil/amd64/pizfix/lib /usr/lib/x86_64+fil0-linux-gnu
ln -s /usr/lib/x86_64+fil0-linux-gnu /usr/libexec/fil/amd64/pizfix/lib
rm -rf /usr/include/x86_64+fil0-linux-gnu
mv /usr/libexec/fil/amd64/pizfix/include /usr/include/x86_64+fil0-linux-gnu
ln -s /usr/include/x86_64+fil0-linux-gnu /usr/libexec/fil/amd64/pizfix/include
time cp -r /home/filian/fil-c/build/bin /usr/libexec/fil/amd64/compiler/
time cp -r /home/filian/fil-c/build/include /usr/libexec/fil/amd64/compiler/
time cp -r /home/filian/fil-c/build/lib /usr/libexec/fil/amd64/compiler/
( echo '#!/bin/sh'
  echo 'exec /usr/libexec/fil/amd64/compiler/bin/filcc "$@"' ) &gt; /usr/bin/x86_64+fil0-linux-gnu-gcc
chmod 755 /usr/bin/x86_64+fil0-linux-gnu-gcc
( echo '#!/bin/sh'
  echo 'exec /usr/libexec/fil/amd64/compiler/bin/fil++ "$@"' ) &gt; /usr/bin/x86_64+fil0-linux-gnu-g++
chmod 755 /usr/bin/x86_64+fil0-linux-gnu-g++
ln -s /usr/libexec/fil/amd64/compiler/bin/llvm-objdump /usr/bin/x86_64+fil0-linux-gnu-objdump
ln -s x86_64+fil0-linux-gnu-gcc /usr/bin/filcc
ln -s x86_64+fil0-linux-gnu-g++ /usr/bin/fil++
</code></pre>
<p>
Now, as user <tt>filian</tt> (or whichever other user),
let's make a little helper script to adjust a Debian source package:
</p>
<pre><code>mkdir -p $HOME/bin
( echo '#!/bin/sh'
  echo 'sed -i '\''s/^ \([^"]*\)$/ pizlonated_\1/'\'' debian/*.symbols'
  echo 'find . -name '\''*.map'\'' | while read fn'
  echo 'do'
  echo '  awk '\''{'
  echo '    if ($1 == "local:") global = 0'
  echo '    if ($1 == "}") global = 0'
  echo '    if (global &amp;&amp; NF &gt; 0 &amp;&amp; !index($0,"c++")) $1 = "pizlonated_"$1'
  echo '    if ($1 == "global:") global = 1'
  echo '    print'
  echo '  }'\'' &lt; $fn &gt; $fn.tmp'
  echo '  mv $fn.tmp $fn'
  echo 'done'
  echo 'find debian -name '\''*.install'\'' | while read fn'
  echo 'do'
  echo '  awk '\''{'
  echo '    if (NF == 2 &amp;&amp; $2 == "usr/include") $2 = $2"/${DEB_HOST_MULTIARCH}"'
  echo '    if (NF == 1 &amp;&amp; $1 == "usr/include") { $2 = $1"/${DEB_HOST_MULTIARCH}"; $1 = $1"/*" }'
  echo '    print'
  echo '  }'\'' &lt; $fn &gt; $fn.tmp'
  echo '  mv $fn.tmp $fn'
  echo 'done'
) &gt; $HOME/bin/fillet
chmod 755 $HOME/bin/fillet
</code></pre>
And now let's try building a small package:

<pre><code>mkdir -p ~/shared/packages
cd ~/shared/packages
apt source tinycdb
cd tinycdb-*/
$HOME/bin/fillet
time env DPKG_GENSYMBOLS_CHECK_LEVEL=0 \
  DEB_BUILD_OPTIONS='crossbuildcanrunhostbinaries nostrip' \
  dpkg-buildpackage -d -us -uc -b -a amd64fil0
</code></pre>

<p>
Explanation of the differences from a normal build:
</p>
<ul>
<li>
<tt>DEB_BUILD_OPTIONS=nostrip</tt> skips removing symbols from binaries,
in part because Debian's <tt>dh_dwz</tt> utility doesn't currently work with Fil-C,
in part because we'll look at symbols later.
</li>
<li>
<tt>DEB_BUILD_OPTIONS=crossbuildcanrunhostbinaries</tt> silences a warning
about cross-compilation not necessarily working with tests.
</li>
<li>
<tt>-a amd64fil0</tt> specifies the <tt>amd64fil0</tt> ABI,
which triggers using the <tt>x86_64+fil0-linux-gnu-gcc</tt> compiler.
</li>
<li>
<tt>-d</tt> stops <tt>dpkg-buildpackage</tt>
from checking for dependencies.
(This doesn't matter for this package.)
</li>
<li>
[Superseded by the <tt>binutils</tt> patch in in <tt>filian-install-compiler</tt> starting with version 20251030:]
The tweak to <tt>*.map</tt> in the helper script
tries to stop Debian from hiding the shared-library symbols after Fil-C mangling.
</li>
<li>
The tweak to <tt>*.symbols</tt> in the helper script
tries to notify Debian regarding the expected shared-library symbols after Fil-C mangling.
[Not necessary given <tt>DPKG_GENSYMBOLS_CHECK_LEVEL=0</tt>.]
</li>
<li>
<tt>DPKG_GENSYMBOLS_CHECK_LEVEL=0</tt>
should stop Debian from complaining that there are wrong symbols.
</li>
<li>
[Not necessary if you've used <tt>filian-install-compiler</tt>:]
The tweak to <tt>*.install</tt> in the helper script
installs <tt>/usr/include/x86_64+fil0/cdb.h</tt>
(where Fil-C will see it for programs using this library)
instead of <tt>/usr/include/cdb.h</tt>.
</li>
</ul>
<p>
For me this worked and produced three <tt>../*.deb</tt> packages.
Installing them as root also worked:
</p>
<pre><code>apt install /home/filian/shared/packages/*.deb
# some sanity checks:
apt list | grep tinycdb
# prints "tinycdb/stable 0.81-2 amd64" (available package)
# and prints "tinycdb/now 0.81-2 amd64fil0 [installed,local]"
dpkg -L tinycdb:amd64fil0
# lists various files such as /usr/bin/cdb
nm /usr/bin/cdb
# shows various symbols including "pizlonated" (Fil-C) symbols
ldd /usr/bin/cdb
# shows dependence on libraries in /usr/libexec/fil
/usr/bin/cdb -h
# prints a help message: "cdb: Constant DataBase" etc.
</code></pre>
<p>
Compiling a deliberately wrong test program
with the newly installed library also works,
and triggers Fil-C's run-time protection:
</p>
<pre><code>cd /root
( echo '#include &lt;cdb.h&gt;'
  echo 'int main() { cdb_init(0,0); return 0; }' ) &gt; usecdb.c
filcc -o usecdb usecdb.c -lcdb
./usecdb &lt; /bin/bash
# ... "filc panic: thwarted a futile attempt to violate memory safety."
</code></pre>

<h2><a name="moredebian">More Debian packages</a></h2>
<p>
<b>libc-dev.</b>
Some packages depend on libc-dev,
so let's build a fake libc-dev package
(probably there's an easier way to do this):
</p>
<pre><code>FAKEPACKAGE=libc-dev
mkdir -p ~/shared/packages/$FAKEPACKAGE/debian
cd ~/shared/packages/$FAKEPACKAGE
( echo $FAKEPACKAGE' (0.0) unstable; urgency=medium'
  echo ''
  echo '  * Initial Release.'
  echo ''
  echo ' -- djb &lt;djb@cr.yp.to&gt;  Sun, 26 Oct 2025 16:05:17 +0000'
) &gt; debian/changelog
( echo 'Source: '$FAKEPACKAGE
  echo 'Build-Depends: debhelper-compat (= 13)'
  echo 'Maintainer: djb <djb@cr.yp.to>'
  echo ''
  echo 'Package: '$FAKEPACKAGE
  echo 'Architecture: any'
  echo 'Multi-Arch: same'
  echo 'Description: fake '$FAKEPACKAGE
) &gt; debian/control
( echo '#!/usr/bin/make -f'
  echo ''
  echo 'build-arch   build-indep   build \'
  echo 'install-arch install-indep install \'
  echo 'binary-arch  binary-indep  binary \'
  echo ':'
  echo 'Xdh $@' | tr X '\011'
  echo ''
  echo 'clean:'
  echo 'Xdh_clean' | tr X '\011'
) &gt; debian/rules
time env DPKG_GENSYMBOLS_CHECK_LEVEL=0 \
  DEB_BUILD_OPTIONS='crossbuildcanrunhostbinaries nostrip' \
  dpkg-buildpackage -d -us -uc -b -a amd64fil0
</djb@cr.yp.to></code></pre>
<p>
<b>ncurses.</b>
</p>
<pre><code>mkdir -p ~/shared/packages
cd ~/shared/packages
apt source ncurses
cd ncurses-*/
$HOME/bin/fillet
time env DPKG_GENSYMBOLS_CHECK_LEVEL=0 \
  DEB_BUILD_OPTIONS='crossbuildcanrunhostbinaries nostrip' \
  dpkg-buildpackage -d -us -uc -b -a amd64fil0
rm ../ncurses-*deb # apt won't let us touch the binaries
</code></pre>
<p>
As root, install the above libraries:
</p>
<pre><code>apt install /home/filian/shared/packages/lib*.deb
</code></pre>
<p>
<b>libmd.</b>
Seems to work.
At first this didn't install
since the compiled version (for amd64fil0) was 1.1.0-2
while the installed version (for amd64) was 1.1.0-2+b1.
Debian requires the same version number across architectures
(see above regarding include-file compatibility),
so <tt>apt</tt> said that 1.1.0-2+b1 breaks 1.1.0-2.
I resolved this by compiling and installing 1.1.0-2 for both amd64 and amd64fil0.
This is a downgrade since "+b" refers to
a "binNMU", a "binary-only non-maintainer upload",
a patch beyond the official source;
I don't know what the patch is.
</p>
<p>
<b>readline.</b>
Needs
<tt>ln -s /usr/include/readline /usr/include/x86_64+fil0-linux-gnu/readline</tt>
after installation.
Could have tweaks in <tt>debian/rules</tt>
(which seems to predate <tt>*.install</tt>),
but this is in any case an example of the messiness that I'm planning to get rid of.
</p>
<p>
<b>lua5.4.</b>
Seems to work.
Depends on readline.
</p>


</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Backpropagation is a leaky abstraction (2016) (259 pts)]]></title>
            <link>https://karpathy.medium.com/yes-you-should-understand-backprop-e2f06eab496b</link>
            <guid>45787993</guid>
            <pubDate>Sun, 02 Nov 2025 05:20:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://karpathy.medium.com/yes-you-should-understand-backprop-e2f06eab496b">https://karpathy.medium.com/yes-you-should-understand-backprop-e2f06eab496b</a>, See on <a href="https://news.ycombinator.com/item?id=45787993">Hacker News</a></p>
Couldn't get https://karpathy.medium.com/yes-you-should-understand-backprop-e2f06eab496b: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[LM8560, the eternal chip from the 1980 years (105 pts)]]></title>
            <link>https://www.tycospages.com/other-themes/lm8560-the-eternal-chip-from-the-1980-years/</link>
            <guid>45787842</guid>
            <pubDate>Sun, 02 Nov 2025 04:27:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.tycospages.com/other-themes/lm8560-the-eternal-chip-from-the-1980-years/">https://www.tycospages.com/other-themes/lm8560-the-eternal-chip-from-the-1980-years/</a>, See on <a href="https://news.ycombinator.com/item?id=45787842">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page">
		<main id="main">
			
<article id="post-2076" class="page" itemtype="https://schema.org/CreativeWork" itemscope="">
	<div itemprop="text">
			<p>Quick jumps to:<br><a href="#alarm_clocks_before_it">– What digital alarm clocks before it were like</a><br><a href="#how_it_works">– Why is the LM8560 so costs effective? The trick, how it works</a><br><a href="#typical_issues">– Typical issues</a><br><a href="#its_weak_point_is_also_its_strength">– Its weak point is also its strength</a><br><a href="#hidden_functions">– Its “hidden” functions</a><br><a href="#some_unwanted_behaviors">– Some unwanted behaviors</a><br><a href="#the_evil_buzzer">– That evil beep beep!</a><br><a href="#Limitations_of_use">– Limitations of use</a><br><a href="#Quartz_clock_with_LM8560">– Make a quartz clock / DC supply clock with the LM8560</a><br><a href="#operating_modes">– Operating modes</a><br><a href="#relatives_and_predecessors">– Its relatives and predecessors</a><br><a href="#duplex_display">– The Duplex display. A not versatile but clever solution</a><br><a href="#not_the_best_chip_for_hobbyists">– Not the best chip for electronics hobbyists</a><br><a href="#my_alarm_clocks">– My alarm clocks</a><br><a href="#my_first_clock_radio">– My first clock radio in 1986, by Majestic</a><br><a href="#Sony_ICF-C102">– Sony ICF-C102</a><br><a href="#Sony ICF-C290">– Sony ICF-C290</a><br><a href="#Thomson_CR61">– Thomson CR61, my final clock radio</a><br><a href="#the_modern_clock_radios">– The modern clock radios</a><br><a href="#LM8560_manufacturers_and_alternatives">– LM8560 manufacturers list and alternative ICs</a></p>
<p><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_a1.jpg" target="_blank" rel="noopener"><img fetchpriority="high" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_a1_small.jpg" alt="" width="346" height="165"></a></p>
<p>Almost everybody has had one, or even has still one of it at home. Almost everybody who had it, kept it in his/her immediate proximity while sleeping…</p>
<p>The LM8560 is the integrated circuit (IC), which was built in almost all the digital alarm clocks and clock radios, with numeric LED display, that have been produced from around 1985, or even the first 1980 years, up to the 2010 years. A very few and last models are still produced in year 2023. But they are fading out.<br>Alarm clocks and clock radios with numeric LED displays are disappearing today, being replaced by LCD displays, merely because of trend reasons. Furthermore, the red color for the LED displays is also becoming rare, because of trend reasons as well, being replaced by green, or worse, by blue LEDs.<br>It doesn’t matter whether it was a major brand, like Sony or a no-name brand sold for 10€ at a discounter market, the brain of the alarm clock was almost always the same. The now ‘obsolete’ but timeless LM8560, originally made by the Japanese Sanyo.<br>The LM8560 is a low power consumption MOS integrated circuit.</p>
<p>The letters before the number 8560 printed on the IC vary depending by the chip manufacturer. “LM” were used by the original manufacturer Sanyo, which was also the inventor of the chip. The letters after the number, if present, are of virtually no importance. Today some illegal clones made by Chinese manufacturers are labeled with “LM”, but they are not the original by Sanyo and I have no idea about the quality and durability of these chips.<br>The TMS3450NL was the clone made by Texas Instruments.</p>
<p>The modern alarm clocks with LED display are made with micro controller chips. I will show it later.</p>
<p><span><strong>– Why am I talking here about this ‘obsolete’ chip?</strong></span></p>
<p>Because it had its debut in the early or mid 1980s and it is one of the few things from those years that has survived intact to this day, still working. This chip played an important role in the falling of price of the digital alarm clocks.<br>Although it is now considered an obsolete chip, its modern successors based on a programmed micro controller, built in modern budged clock radios, do not offer much more functionalities. Sanyo and other licensed occidental manufacturers have discontinued the production of the LM8560, but it is still produced today by some Chinese chip manufacturers, under license of Sanyo. It is also copied by not authorized Chinese manufactures, of unknown quality. Therefore the LM8560 has earned a place in the list of the longest-living chips, still being produced the same as it was, for about 40 years, today in 2023. I don’t know the year of its first introduction, but it might be around 1985. If anybody has any info about this, please let me know.<br>In some alarm clocks with LED display, also a slightly more updated version of the LM8560 was used, the LM8562 or an equivalent chip. It offered the possibility to set 2 different alarm times, and it had “Slow”, “Fast” buttons to set the time.</p>


<h2 id="alarm_clocks_before_it"><strong>– What digital alarm clocks before it were like</strong></h2>


<p>Until the late 1970s and early 1980s, digital alarm clocks were somewhat more challenging cost devices than today. “Digital” doesn’t mean necessarily “electronic”. It means that the time is show actively by digits and not by hands.<br>The most primitive models did not have lighting digits. The numbers were printed on thin plastic plates, which were flipped by the slow rotation of a step by step electric motor.</p>
<p>re LEDs became more affordable, the alarm clocks with luminous digits were made using fluorescent displays, like the displays of many DVD-Blu Ray players of today, or many Hi-Fi sets. Usually the fluorescent display used in alarm clocks had a light greenish color. Fluorescent displays were, and are, much more expensive to build and complicate to drive than LEDs. In addition, alarm clocks counted the time mostly using a quartz crystal. Often the word “Quartz” was printed proudly on the case of the clock. The control circuit of the display and the quartz circuit involved some construction complexity and a significant number of components. The lower price for a clock radio in the early 1980s was not cheap. Let’s say about €70 today. The size of the alarm clocks was also considerably larger.</p>

<div>
<figure><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/flip_flop_clock_radio.jpg" target="_blank" rel="noreferrer noopener"><img decoding="async" width="421" height="200" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/flip_flop_clock_radio_small.jpg" alt="" srcset="https://www.tycospages.com/tycospageswp1/wp-content/uploads/flip_flop_clock_radio_small.jpg 421w, https://www.tycospages.com/tycospageswp1/wp-content/uploads/flip_flop_clock_radio_small-150x71.jpg 150w" sizes="(max-width: 421px) 100vw, 421px"></a><figcaption><em>Flip flop clock</em></figcaption></figure></div>

<p>Clocks of this kind never appealed me. They tastes too much “mechanical” and rudimentary, whereas I like electronic since ever.</p>
<p>Before LEDs became more affordable, the alarm clocks with luminous digits were made using fluorescent displays, like the displays of many DVD-Blu Ray players of today, or many Hi-Fi sets. Usually the fluorescent display used in alarm clocks had a light greenish color. Fluorescent displays were, and are, much more expensive to build and complicate to drive than LEDs. In addition, alarm clocks counted the time mostly using a quartz crystal. Often the word “Quartz” was printed proudly on the case of the clock. The control circuit of the display and the quartz circuit involved some construction complexity and a significant number of components. The lower price for a clock radio in the early 1980s was not cheap. Let’s say about €70 today. The size of the alarm clocks was also considerably larger.</p>
<p>With the progress of electronics and the decreasing price of LEDs, the LM8560 came. A less than half a Euro chip (adjusted to today inflation), that contains all the functions you need to build a basic digital alarm clock. You just need some LEDs to arrange the display and very few external components around it. The radio is to be added separately, if needed.<br>The arrival of the LM8560 made possible to build digital alarm clocks for half the price, or less, of those with fluorescent display and quartz. The manufacturing became so much cheaper and simplified, that for the first time clock radios were even being offered as prizes by some supermarkets for the collection of their purchase points.</p>


<h2 id="how_it_works"><strong>– Why is the LM8560 so cost effective? The trick, how it works</strong></h2>


<p>The LM8560 is not a programmed micro controller. In the ’80s programmable micro controllers were no cheap ware at all.<br>The LM8560 is a logic chip, made of fixed integrated components, as logical ports, flip-flop circuits, comparators, operational amplifiers, etc. All them fitted in the same chip and connected among each others in order to execute the desired functions. The functions can’t be changed, without to change physically the content of the chip.</p>


<div>
<figure><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_block_diagram.png" target="_blank" rel="noreferrer noopener"><img decoding="async" width="1105" height="744" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_block_diagram.png" alt="" srcset="https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_block_diagram.png 1105w, https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_block_diagram-150x101.png 150w, https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_block_diagram-768x517.png 768w" sizes="(max-width: 1105px) 100vw, 1105px"></a><figcaption><em>LM8560 block diagram</em></figcaption></figure></div>


<p>Being not a programmed micro controller, the LM8560 is also a virtually eternal component. Many modern micro controllers incorporate a flash memory to store the software that let the controller work and execute the desired functions. Flash memories retain their content not for an unlimited lifespan. It may be several decades, but before or later it comes the day when they begin to lose their content, and the micro controller stops to work. This can’t happen to LM8560, because it doesn’t contain any flash memory.</p>
<p>An electronic clock consists essentially of 2 different parts. A frequency generator, that generates a stable frequency and one part counts the waves coming from the generated frequency. Counting the waves that pass, the passing of seconds is counted. In quartz watches, the frequency generator is a quartz oscillator. In addition, if you want obtain a very good accuracy in quartz clocks, it is necessary to add some components to make the quartz frequency adjustable. A calibration process has to be performed individually during the manufacturing of each clock. This increases the time and cost for the workers needed for the manufacturing.<br>The LM8560 does not need any calibration operation. As soon as it is assembled, it is ready to use with no mistakes! It contains only the counter and the logic for to manage the alarm and clock functions. It has no frequency generator.<br>The LM8560 simply counts the waves coming from the AC power outlet. It can be 50 Hz or 60 Hz, depending on the Countries. In my case it is 50 Hz. It means that 50 waves per second come in. Every 50 counted waves, one second of time is counted. Every 60 counted seconds the minute digits are increased by one. Every 60 minutes the hour digits are increased by one.<br>In addition to the counter and the logic for the clock/alarm functions, the LM8560 contains the circuit to drive directly the LED display.</p>
<p>The alarm clocks with LCD displays, even those from the ’80s years, are instead quartz-based, like the wristwatches, and they use different components.</p>
<p>An important function integrated in the LM8560 is the power backup system. It keeps the time running in the event of a power blackout. It is made switching the power supply of the chip to a 9V battery. During the blackout, a local simple RC (resistance-capacitor) oscillator is used. The frequency generated by the RC oscillator is very approximated, up to +/-10% error. It means that while the AC power is missing, the clock can run forwards or backwards up to 1 minute every 10 minutes! If the AC power is missing for a long time, it is normal to find the time several minutes shifted. It seems that the LM8560 was the first IC clock to incorporate this important function, making it a very smart and convenient chip. Only the resistance and the capacitor for the backup oscillator, are required to be mounted externally to the chip.</p>


<h2 id="typical_issues"><strong>– Typical Issues of clocks with the LM8560</strong></h2>


<p>You might experience that some clocks with the LM8560 may run too fast in comparison with other clocks, also with the LM8560. Cheap models are more subjected to this fault. It is due to the missing of proper filtering on the 50/60Hz input signal for the LM8560. Spikes and disturbs present in the AC line can be wrongly counted as clock waves by the chip. Just add a 0,1 or 01,01 µF ceramic capacitor in parallel to each rectifier diode of the power supply of the clock, and one between the pin 25 (50/60Hz input) and pin 15 (VSS) of the LM8560.</p>
<p>If power blackouts are frequent in your zone and your alarm clock runs excessively fast or too slow while there is no AC power, you can fix it easy. Simply adjust with a trimmer the value of the resistor that is in parallel to the capacitor of the backup oscillator (see the datasheet), in order to obtain a frequency of exact 900 Hz, or adjust it simply by trying. You can roughly calculate the required Ohm variation in %, observing how many seconds the time gets shifted in 1 or few minutes without power.</p>


<h2 id="its_weak_point_is_also_its_strength"><strong>– Its weak point is also its strength</strong></h2>


<p>As mentioned before, the LM8560 merely counts the waves of the AC power. But there is nothing that lets it know whether the waves are coming exactly 50 times per second or not. If 100 waves would come per second, the clock would run forwards half an hour every hour!<br>Normally, the frequency of the AC power in our sockets has a tolerance of +/- 2%. It means that the clock could run forward or backwards up to 14 minutes a day! Far away from the constancy of a quartz oscillator. Therefore, this would make the frequency of the AC power unsuitable as source to drive a clock, since very small variations in the frequency result in large hourly variations.<br>Why doesn’t this happen instead? Frequency variations are caused by small random variations in the big generators in the power plants. Sometimes the frequency is a little higher than the standard value by a small amount, sometimes it is a little lower. These variations will never be the exactly equal between each other, so the errors cancel among each other and roughly the average frequency remains constant, very close to its standard value.<br>Furthermore, in power plants the frequency is constantly monitored and kept under control. When it is detected that over a certain time, the average frequency has been higher by a certain %, the frequency is then lowered by the same % for the same time, so the overall balance is brought back to equal.<br>In fact, if you compare second accurately, the time of an alarm clock with the LM8560 to a reference clock, like a radio-controlled clock, you will find that the time difference is not constant. It varies day by day, and even during the same day. Sometimes you will find that the alarm clock is 30 seconds, or max 1-2 minutes in advance. Meanwhile some days you will find it 1-2 minutes back. Some days it will be almost aligned. Therefore, normally you never need to adjust the clock. But <strong>it depends by the quality and stability of the AC frequency coming from the power plant where you are supplied from.</strong> Moving from Italy to Germany, I noticed that my clock radio with the LM8560 is considerably more accurate in Germany than Italy. Here, I never need to adjust it.<br>Anyway, even the quartz clocks are not so accurate as they could be. A quartz clock will run constantly a little bit in advance or in delay, forcing you to adjust it at regular intervals. In theory, a well-calibrated quartz clock could provide an accuracy of +/-1 second per month, which is very good. I could obtain even better, with a wristwatch that I had in the past. But in the facts, the most quartz clocks sold on the market are built to provide an accuracy of +/-30 seconds per month. A not good performance at all.<br>I mentioned about comparing “second accurately” the time of an LM8560 clock… But how can you display the running seconds on the display of a clock with an LM8560? Don’t you have yet find out it by yourself, playing with the clock’s buttons? Below I will explain all the “hidden” tricks of the LM8560.</p>
<p>As first, if you want to know, without opening it, whether your alarm clock is built with the chip LM8560, just check some of these points:</p>
<p>1) The display is strictly 4-digits LEDs, not with liquid crystals.<br>2) It has only one alarm time that can be set. If your alarm clock is old, it has 2 alarm times, it should be one of its bigger brother chips, rare to find, like the LM8562 or the LC85632.<br>3) It has the store place for a 9V backup battery. Not any batteries with lower voltage.<br>4) It has this 6 or 7 function buttons: Time, Alarm, Hour, Minute, Sleep, Snooze. Eventually there is also an “Alarm reset” button, but normally the two buttons are wired together, so that the “Alarm” button has also the function of alarm reset.<br>5) It has some “hidden functions”,like the possibility to display seconds, as I will describe below.</p>





<p><strong>The hidden key combinations:</strong></p>
<p>1) Display seconds: Hold down the “Alarm” button and press “Sleep”. Or do vice-versa as well. Then you can release one of the 2 buttons. On the left side of the display, the digit of the minute units is shown. On the right part, the seconds runs. This is my favorite function and no manufacturer of alarm clocks has ever implemented a dedicated button to display the seconds. All this to save few Eurocents on the final cost. I modified my clock radio, so I can keep the seconds displayed as long as I want, and it is very convenient to adjust the clock, second accurately.</p>
<p>2) While displaying seconds, press the “Hour” button: the seconds will be set to zero. If you press it between the 30-59th second, the minute will be increased by one.</p>
<p>3) While displaying seconds, press the “Minute” button: the time stops! This function is also very useful to align the clock, seconds accurately.</p>
<p>4) While displaying seconds, press both the “Hour” and “Minute” buttons at the same time:<br>The clock time resets to 0:00</p>
<p>5) Hold down the “Time” (or “Clock”) button and then keep pressed “Hours” and “Minutes” together: both hours and minutes increase at the same time at the rate of 2 digits per second. This is useful if you need to set up the clock time from zero, when you are in a time with high digits numbers.</p>
<p>6) Hold down “Alarm” and then press “Hour” and “Minute” together: the alarm time is set to 0:00</p>
<p>7) Hold down “Sleep” and then press “Hours”: the timer for the radio sets to 1 hour and 59 minutes, the max possible time for the sleep function. This setting possibility sometime is written in the user manual, sometimes not.</p>
<p>One thing I didn’t notice, and I always missed to read in the user manual, is that to turn off the alarm until the next day, just press the “Alarm” button (my clock radio had no dedicated “Alarm reset” button). Instead, I used to move the alarm selector back to the OFF position and then moving it again to the Alarm position, every day. So if anyone else missed it, just press the Alarm button, or the “Alarm reset” if present.</p>


<h2 id="some_unwanted_behaviors"><strong>And some unwanted behaviors…</strong></h2>


<p>Due to the way how the buttons are wired to the LM8560 on the most clocks, the clocks with this chip have also some unwanted behaviors. Behaviors that can have unpleasant consequences, when the next day the alarm clock has to wake you!</p>
<p>1) Hold down the “Hour” button and then press “Alarm”. You would expect that only the hours of the alarm time get increased. In reality, the hours of the clock time increase too!</p>
<p>2) Hold down the “Minute” key and then press “Alarm”. The minutes of the clock increase too!</p>
<p>3) The same happens if you hold down the “Minute” or “Hour” button and then press “Sleep”.<br>Therefore be carefully when adjusting the alarm or the sleep time! If you inadvertently decrease the pressure on the “Alarm” or “Sleep” button and its electric contact opens even for a fraction of second, also the clock time will be increased! It is easy to happen when you set the alarm or sleep time using only one hand.<br>If the mist happens and you don’t notice that the clock time has increased… the next day the alarm will ring a few minutes earlier, in the best case, or at worst, a few hours earlier!</p>
<p>4) When the alarm rings (buzzer or radio), independently by whether you have already temporarily snoozed it, press the Sleep button and then the Snooze button. The alarm will be deactivated completely, until the next day. As if you press the Alarm or “Alarm reset” button! This seems to be a bug or “feature” of the chip itself. It is not related to the wiring of the buttons. Therefore, be carefully what keys you press, when you want just snooze the alarm!</p>
<p>5) When you press the Snooze button after that you have already snoozed the alarm, the snooze timer resets. Example: The alarm rings at 8:00 and you snooze it immediately. The alarm now is silenced and it would ring again at 8:09. But if at 8:08 you press the snooze button, it will ring again at 8:17, not at 8:09! Bug or feature, keep it in mind.</p>


<h2 id="the_evil_buzzer"><strong>Technical curiosities</strong></h2>


<p><strong>The evil beep beep!</strong></p>
<p>I hope no one really uses to wake up that evil loud and crazy unpleasant beep! beep! buzzer. A friend of mine didn’t know that you could also wake up listening the radio, and for years he had kept the alarm switch on that evil beep set, instead of the radio! But where did that beep come from? That beep is the same in all radio alarm clocks with the LM8560 and it has a frequency of 900 Hz. This frequency is generated by the RC oscillator that is used for the power back up system.</p>


<h2 id="Limitations_of_use"><strong>– Limitations of use</strong></h2>


<p>Clocks based on counting the frequency of the AC power are not suitable to operate in places where the AC voltage does not come directly from the fixed national power grid. For example, portable emergency generators, camping generators, or large UPS power backup system, which have no active control over frequency changes over time. The alarm clock will therefore tend to shift the time by several minutes in a few hours. The could happens onboard ships. Who takes one of these alarm clocks on a cruise could do the experiment. Just synchronize it with a wristwatch and check after a few hours or days, how much the time will be shifted.<br>Quartz alarm clocks have not this limitation, because the oscillation frequency of the quartz is totally independent from the accuracy of the AC frequency.</p>


<h2 id="Quartz_clock_with_LM8560"><strong>– Make a quartz clock of it</strong></h2>


<p>You can make a quartz clock using an LM8560, by adding a small circuit which contains the quartz oscillator and a frequency divisor, which downclocks the quartz frequency to 50 or 60Hz, the value that the LM8560 expects to count. You can do it using a quartz with frequency 3,579 MHz and the frequency divisor IC MM5369, as shown in<strong>&nbsp;<a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Clock_with_LM8365_and_quartz.jpg" target="_blank" rel="noopener">this diagram</a> </strong>of a clock built with the LM8365, where the pin 36 is the input of the 50/60Hz frequency.<br>Simply connect the 50/60Hz output coming from the R7 on the pin 1 of the quartz oscillator built with the MM5369, to the 50/60Hz input pin 25 of the LM8560.</p>
<p>Once you have added a quartz, It is also possible to feed the clock directly with DC power supply, if you need. You have to add 2 or 3 transistors to use the 50/60 Hz clock signal generated by the quartz, to switch the DC power alternately between the two groups of cathodes of the duplex display. If the segments are not displayed correctly, exchange the 2 lines to the display.<br>Look at <strong><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_schematic_with_quartz_and_DC_power_supply.jpg" target="_blank" rel="noopener">this schematic</a></strong>. To feed the whole circuit with DC, simply the components on the left of the C1, and apply the DC in parallel to C1, which should be no more necessary too. See also <a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_schematic_with_quartz_and_DC_power_supply2.jpg" target="_blank" rel="noopener"><strong>this schematic</strong></a>.</p>


<h2 id="operating_modes"><strong>– Operating modes</strong></h2>


<p>The LM8560 cm be set to display the time in 12 or 24 hour format, and it can be set to count the time using an AC power frequency of 50Hz (as in Europe) or 60 Hz (as in north America). These settings are made by adding or not, bridges to the related pins of the LM8560.</p>


<h2 id="relatives_and_predecessors"><strong>– Its relatives and predecessors</strong></h2>


<p>The LM8560 has a family of important predecessors, but these have been dropped almost immediately in favor of the 8560. This was the MM53xx family, such as the MM5309 or the -11-12-13-14-15. All of these chips (except I think the MM5312) had the interesting ability to control 6-digit displays, so the seconds could be displayed together with hours and minutes on the display.<br>Also the family MM53xx worked on the same principle as the LM8560, counting the AC frequency, but it did not have a backup system built in for power blackout. The MM53xx could drive a standard 7 segments display common cathode, multiplexed. It needed also a few more external components to drive the display. Probably to save on all those extra components, and because of the missing of a power backup system, this chip family was dropped in favor of the successor LM8560.</p>


<h2 id="duplex_display"><strong>– The duplex Display. A not versatile but clever solution</strong></h2>


<p>This is where it gets a little too technical, and only the electronics hobbyists may be interested in. I try to explain the important points in a simple way, for those who want to know a little more about how this duplex LED display works, that was so popular in alarm clocks.</p>
<p>The LM8560’s display works differently than the numerical LED displays found commonly in other appliances, where the digits are “multiplexed”. The display which works with the LM8560 is a custom-made display for this chip. It is a so called “Duplex” display. It is a smart solution for the industrial manufacturing of alarm clocks, but it makes the LM8560 not suitable for the hobbyists who want to build a their own alarm clock using a standard LED display. Let’s see why.</p>
<p>Normally, the numeric LED displays with more than one digit, are driven using the Multiplex system. The digits are not lighted all together at the same time. They are lighted in turn one at once, just for a fraction of a second each one. After the first digit has been turned off, the second digit is turned on. It is repeated in cycle through all the digits. The process happens so fast that the eye sees the digits as all lit on, but they aren’t.<br>It is done in this way in order to reduce the number of the output connections (wires or leading tracks) necessary to connect the chip to the display.<br>To notice if a display is multiplexed, you can simply move it quickly horizontally in front of your eyes, without follow it with the eyes. If it is multiplexed you will see the digits as broken and flickering. If, the digits are really continuously lighted, they leave a continuous trail without breaks.<br>In some LED multiplexed displays, the multiplexing frequency is enough low that you can perceive the flickering, especially when watching them with the corner of the eyes.<br>In numeric LCD displays the digits are multiplexed too, but since the monochromatic LCD displays have a very high persistence, the effect of multiplexing is not visible even by moving the display quickly.</p>
<p>With the multiplexing, regardless of how many digits the display has, the chip needs to have only 7 output pins to drive the 7 segments for a single digit. All the digits are connected to these same 7 outputs. Just a few output pins more are needed to select the digit to be lighted on. The Multiplex circuit, built inside the chip, connect the power supply only to the digit that has to be lighted during its turn, while all the other digits will be disconnected from power.</p>
<p>Using only 4 digits, the LM8560 in order to reduce the number of the output connections to the display, uses a low-cost, ‘smart’ 2-phases multiplexing system. The 4 digits are not turned on/off one at a time. The whole display is divided in only two groups of segments, spread among all the 4 digits. <br>The cathode of the segments of each group are connected together, meanwhile the anodes of the segments are connected together in couples, two by two segments. The 2 cathodes of each couple are connected to the 2 different groups of the common cathodes. In this way, exploiting the dual power supply coming from the AC transformer, a single output pin of the LM8560 can drive 2 segments, but not at the same time. One segment of the couple will be turned on during the positive half-wave coming from the AC transformer, and the other segment during the negative half-wave. The LM8560 will connect the anode of a segment to the power supply, only when that segment has to be lighted. See it in the following diagram. Don’t get confused by the presence of 2 LEDs in parallel in each segment. Normally in small displays there is only one LED inside of each segment, but in this project there are 2.</p>
<p><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_duplex_display_segments_diagramMousa_simple_projects.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/LM8560_duplex_display_segments_diagramMousa_simple_projects.jpg" alt="" width="421" height="249"></a></p>
<p><em>Thanks to the Mousa Simple Projects blog for this diagram</em><br><a href="https://mousa-simple-projects.blogspot.com/2020/10/24hr-digital-led-clock-without-using.html" target="_blank" rel="noopener">https://mousa-simple-projects.blogspot.com/2020/10/24hr-digital-led-clock-without-using.html</a></p>
<p>Please note that in this project the clock is feed with DC power and the 50Hz clock signal is generate by a RC oscillator, therefore it will be not accurate and it will be subjected to variations also due to the tolerances of the RC components. For a better accuracy a quartz oscillator is needed (see the paragraph “<a href="#Quartz_clock_with_LM8560">Make a quartz clock of it</a>” above).</p>
<p>Here there are two schematics of the duplex display which is commonly used with the LM8560:</p>
<p><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_Display_schematic1.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_Display_schematic1.jpg" alt="" width="294" height="202"></a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_Display_schematic2.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_Display_schematic2_small.jpg" alt="" width="350" height="200"></a></p>
<p>Here you can find a PCB in editable form, where you can modify the layout of the connections to fit the LEDs that you want use: . <a href="https://oshwlab.com/Trajectory/tests" target="_blank" rel="noopener">https://oshwlab.com/Trajectory/tests</a> &nbsp;&nbsp; If you login in that site you can also export the PCB in <strong>svg</strong> format.<br>You can also modify it to accommodate 1 LED per segment with SMD LED format to replace entirely an old display. The SMD LED form factor 0805 (2,0 x 1,0mm) should be most suitable size to replace faulty LEDs on the old displays, or to rebuilt the PCB with the same size of the original display.</p>
<p>The 2 groups of segments are switched on/off alternately, accordingly to the half-waves coming from the transformer (50 or 60 Hz) transformer. Therefore no additional components are required to select and drive the on/off switching of the digits.<br>Being divided in only 2 groups of segments, alternatively switched on/off, the display is called ‘Duplex’.</p>
<p>As you can see in the images bottom, taken with a shutter speed shorter than 1/00 sec., you can clearly see the two groups of segments that compose the digits. Despite the appearances they, are never turned on all together.</p>
<p><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_display_23.58.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_display_23.58_small.jpg" alt="" width="441" height="138"></a></p>
<p><span>=</span></p>
<p data-wp-editing="1"><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_display_23.58_1.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_display_23.58_1_small.jpg" alt="" width="445" height="139"></a></p>
<p><span>+</span></p>
<p><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_display_23.58_2.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Duplex_display_23.58_2_small.jpg" alt="" width="449" height="139"></a></p>


<h2 id="not_the_best_chip_for_hobbyists"><strong>Not the best chip for the electronics hobbyists</strong></h2>


<p>Requiring a single block specific duplex display, the LM8560 is not the best clocks’ chip for the electronic hobbyists. The Duplex display for the LM8560 is discontinued, it is almost impossible to find as spare part for sale today, and it can’t be replaced with standard 7-segments display modules with common cathode. In the standard modules, the cathodes of all segments of a digit are connected together. You can’t recreate the internal connections among the segments as they are in the duplex display, because the cathode of some segments of a digit has to be connected with the cathode of a segments of another digit. To do this, you need a display modules in which all the segments have their anodes and cathodes free, not connected in common. But such digits modules do not exist, as far I know.<br>Therefore you can create a duplex display only by using single LEDs, as Mousa did in his self-made clock with the LM8560. Sure, in this way you can create digits of the size and shape you want.</p>
<p>Another problem for the hobbyists is that the package of the LM8560 is a shrink package. In order to reduce the space occupied on the boards of small clocks, the spacing of the pins of the LM8560 is 1,78mm, not 2,54mm as the common standard. It means that the pins of the LM8560 don’t fit in the standard 28pin sockets or in the pre-holed boards. But if you make a custom board for your circuit, this is not a problem. Sockets with spacing 1,78mm are today extremely hard to find, if you want mount it on a socket.<br>For the hobbyists, clock ICs that can drive the standard 7-segments modules with common cathodes are more suitable, like the <strong>LM8365</strong>. It has also 2 alarm times.</p>


<h2 id="my_alarm_clocks"><strong>My alarm clocks</strong></h2>


<p><strong>– An advice first: Why red LED displays are my favorite:</strong></p>
<p>For stupid trend reasons, red LED displays are disappearing, being replaced by other colors, such as green and even worse, blue. Since 2007 Sony produces no more alarm clocks with red LED display. Red LEDs were the first to have been invented and for a long time, red was also the only LED color available. Only because of that reason, red LEDs are perceived today as something “retro”, but in alarm clocks the red color has also its own functionality.<br>The highest sensitivity of the human eye is to yellow light, then to green, then to red, and as last, to blue light. When you look at the alarm clock during the day, the color of the display may not make a big difference, except for blue, which can be really hard to read. But in the night, if you sleep in an almost completely dark room, the color of the display makes a huge difference.<br>A red display in the darkness, even a quite bright one, will not make visible the whole room to your eyes. A green display (or worse a yellow one), even if with a weak brightness, will also showy you the whole room. This is why I want only red LED displays for my alarm clock.<br>LCD radio clocks have usually a yellowish or green backlight display. Right due to the reason explained above, in some LCD clocks the backlight is normally off, and in the night you have to turn it on manually when you wish to read the time! For me, this makes no sense in an alarm clock to be used in a bedroom.<br>The red backlight used in LCD displays (rare to find) is of a lighter tone then the LEDs display and it illuminates also the rest of the room, even if less strongly than how the green LEDs do.</p>


<h2 id="my_first_clock_radio"><strong>My first clock radio, by Majestic 1986</strong></h2>


<p>As mentioned before, thanks to the LM8560 the price of clock radios dropped. In the mid 1980s some supermarkets even offered a clock radio as prize for the collection of their purchase-points. Back then, prizes for purchase points were normally something boring, like a set of glasses, cups, or dishes with table baskets. They were no electronic gadgets. A digital clock radio appeared like a super cool and technological prize! Never seen before. It seemed impossible that they could give a so much electronic device “for free”.<br>One of these supermarkets was in my little town, where I lived in Italy in 1986. I was 15 years old and I always wanted an alarm clock radio all for me, with luminous digits.<br>Between September and November 1986, I don’t remember exactly, it was the time to pick up the prize. I remember the bike ride to the supermarket to pick up the clock radio. It was a model branded by Majestic, an unknown retailer of rebranded cheap electronic ware made in Asia (Hong Kong in this case). Here below a photo of the same identical model that I found here in Germany in year 2017, in incredibly new conditions. The only difference is the inscriptions in German language, instead than in English, and the brand name Maximal instead of Majestic.</p>
<p><em>Maximal 8688 (same as Majestic)</em></p>
<p><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Maximal_8688.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Maximal_8688.jpg" alt="" width="405" height="244"></a></p>
<p>Arrived at home, as soon as I checked that it worked, I opened it to see what it looked like inside. I remember the disappointment seeing that the clock was made with only a single chip, with few other components around it (apart the radio section), and without a quartz, which I liked much to have. Quartz back then were a symbol of precision and anything with a quartz built in, looked to be prestigious! Today with 15 € you can buy a radio-controlled clock, constantly synchronized via radio with an atomic clock, which is accurate to one millionth of a second.</p>
<p><strong><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Maximal_8688_open.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Maximal_8688_open_small.jpg" alt="" width="376" height="250"></a></strong></p>
<p>One day, talking with the owner of a little electronics shop about my disappointment that my new alarm clock had no quartz inside, he said to me, “But what? As prize for the supermarket points did you wanted a quartz radio clock?! It counts the 50Hz and let’s go! It’s already much if they gave it!”</p>
<p>This glorious clock radio lasted in service until 1998. In the meantime, I played with the keys so much that after 11 years, the paint and marks were completely worn and the black plastic underneath had been completely exposed. <br>After 11 years of honored service I had gotten a little bored to have always the same clock radio, and I decided it was time to replace it. <br>My original Majestic unfortunately no longer exists. In its last months, it happened two times that the alarm didn’t ringed, despite being properly set. The only cause I could guess at than time, was a faulty contact in the selector switch. But although I had cleaned it with proper cleaning spray, for a third time it did not ring. Then I had fun demolishing that radio clock. What a mistake! Today I would keep it as a vintage heirloom! I kept as memory of it, only the PC board broken in 2 parts, without display and without the IC LM8560. I cut away the IC, thinking that it was faulty. If I had the datasheet of the LM8560 at that time, I could have a better clue about what what could be the failure and repair it!</p>


<h2 id="Sony_ICF-C102"><strong>Sony ICF-C102</strong></h2>


<p>Compared to the Sony’s clock radios (my sister got already one) the audio quality of the Majestic was poorer. I still didn’t knew, that the blame was of low quality speaker, rather than of the radio. So I decided to afford a Sony too, and doing that, my alarm clock odyssey began, and lasted until August 2007, right before my departure from Italy.</p>
<p>The first Sony clock radio I purchased was a cube-shaped model with green LED display. The Digicube ICF-C102. I wanted experiment the green LED trend too:</p>
<p><strong><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Sony_ICF-C102.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Sony_ICF-C102_small.jpg" alt="" width="456" height="250"></a></strong></p>
<p>I brought it home, and after verifying that it worked, I opened it to see what there was inside. Given the price of more than twice as much as a ‘budged’ clock radio, I was sure that all the Sony’s clock radios were based on a quartz clock… Instead not… I opened it and the clock was made with the chip LM8365. It works with the same principle of the LM8560, counting the AC frequency, but it drives a standard 7-segments display with multiplexing. I think to remember, that the flickering of the display was in some conditions, somewhat more perceivable than on the clocks with the LM8560. Also once again, this was not the time to get a quartz clock radio.</p>
<p>Beside this surprise, I noticed that its green display, behind the dark glass, was much less bright than the red display of the destroyed Majestic, and during the daytime it was less readable. Instead, at night I had the surprise that the green light illuminates well my whole room! And even worst, I noticed that <strong>the radio is never completely switched off!!!</strong> I place my alarm clock very close to the bed, practically almost sticking to my head. When the radio was switched off, it was actually switched on, just kept with the volume set to minimum. If you put the speaker in proximity of your ear, you can distinctly hear the music from the radio station in the background, in addition to the background hiss that is always present when the volume is set to zero! During the daytime you can’t hear it, but in the night, in a silent room, you hear it clearly, if the clock is not enough distant from your head.</p>
<p>To me, as an electronic technician, this is an absurd design choice beyond any reason. I guess that the reason for this absurd choice is to don’t let you hear that classic small “stock!” noise, when you switch on/off the radio, that is usually audible in clock radios where the radio is completely turned of when it is not in use.<br>Compliments to the Sony’s engineers! To don’t let your hear that short “Stock” sound, which anyway can be minimized by designing better the audio amplifier, they let you hear the sound of the radio and the background noise of the amplifier all night long! Truly clever engineering!<br>And there was also another bad surprise. <strong>There is no alarm indicator on the display</strong> (usually a dot), that shows you whether the alarm function is inserted or not, as it is usually present even on budget alarm clocks!</p>
<p>The audio quality of the radio was high as expected. It mounted the famous radio chip <strong>Sony CXA1019S</strong>, mounted also in some small good portable radios by Sony, like the ICF-380 (the ICF-12 had a similar IC). The buttons were real micro switch buttons, not like those hard to press, that you find on the cheap alarm clocks. But the issue with the radio never turned off was so deleterious, that after 1 or 2 months trying to live with it, I placed that clock radio in another room, and I bought another one.</p>
<p>Given the good sound quality of the radio, I wanted try with another Sony, but this time I switched back to the red display, forever. I choose this time a more classic model, not a cube. I thought that Sony engineers were not so stupid to handle the turning off of the radio, in the same way on all Sony’s models…</p>


<h2 id="Sony ICF-C290"><strong>My second and last Sony was the ICF-C290</strong></h2>


<p>It was still in the year 1998</p>
<p><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Sony_ICF-290.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Sony_ICF-290_small.jpg" alt="" width="438" height="193"></a></p>
<p>The audio quality of the radio was good as expected. The radio chip was the same Sony <strong>CXA1019S</strong>, as in the Digicube ICF-C102. But <strong>also in this clock radio, the radio is never completely turned off!</strong> It is just kept at the minimum volume. And <strong>also here there is no LED dot that indicates that the alarm function is inserted!</strong> Looking closely at the display, the spot of the dot was present, so I drove the 10Km back to the store, thinking that my clock radio was faulty. The clerk tested it on the same model exhibited on the shelf, and also that one show no alarm dot. The clerk was quite surprised too.<br>In the darkness before to sleep, how I can know whether the alarm is active or not? How much would it cost more to Sony, to use that single led, that all the budget 10€ alarm clocks use? The Sony’s engineer have really absurd concepts ideas for their products. I have really no understanding for such choices.</p>
<p>Then I drove back to home, I opened the clock radio, and what was inside? The LM8560, as in my 11 years older supermarket clock radio prize! I was astonished. The giant Sony Company bought that low cost IC from Sanyo, instead to develop an its own custom clock IC, as they did with the IC of the radio?<br>This time I definitely gave up the idea about getting a ‘quartz’ alarm clock and I began to appreciate this immortal integrated circuit, companion of thousand nights, more or less sleepless! A low cost but well made, long living chip.</p>
<p>Since the audio quality was really good and I didn’t want an LCD clock radio, I modified the Sony ICF-C290 by myself, as the best I could do at that time. I made a hole in the front panel and I added a LED that indicates the activation of the alarm. I added a small reed relay that disconnected the speaker when the radio was off.<br>In 1998 it was not easy to get datasheets of electronic components, as it is searching in internet today. In 1998 I had even not yet internet connection and anyway there were very few contents. Make all those modifications without having any schematic diagram of the device and without the pinout of the LM8560 was not easy and not a fun job at all. But finally, my high branded Sony clock radio had the most basic functions that the budget clocks already have as standard. Congratulations Sony, see your clock radios never again!</p>
<p>But this is not the end of the story… After a few years the radio began to have tuning problems. I find that the variable capacitor of the radio was made of poor material and oxide has formed between the blades, and on the rotating contact. Right in a Sony, which should use only high quality components…<br>The Sony ICF-C290 lasted until August 2007, when the tuning problem had become so big that I finally destroyed the clock radio tearing it apart. What a satisfaction! I had enough of that crap made by Sony. I kept only The LM8560 and the radio chip as souvenir. The only 2 parts that deserved to be kept.</p>


<h2 id="Thomson_CR61"><strong>Thomson CR61, my final clock radio</strong></h2>


<p>In August 2007 I was now in the mid of preparations for my moving to Germany and I had to look once again for a clock radio… I went around a lot of stores and with red display there were only very budget models, very cheap, very low quality and of unknown brands. Then in a big store I saw the Thomson CR61. I didn’t like much that model aesthetically, because I don’t like rounded shapes, but it seemed to be solid and well made. I could feel that the buttons were made, as usual on the budged clocks, with big slats bounded with adhesive plastic film. But they were very good to use. Too bad it didn’t have two alarm times, but by that time I knew well that I need a red display, so I picked it bought it. Price was 30€. Not a budged model, and not a Sony.</p>





<p>It was also the only model remained with a design still focused on functionality. For example, the buttons are good spaced between each other and are not grouped in a single circular mess of buttons, as it was trendy in those years. Much to my surprise, the audio quality of the radio is really good as the Sony! It lacks a bit in the bass tones, but the sound is really very clear and detailed.<br>Another surprise, the display was very bright. The brightest I found so far in an alarm clock, but in spite of that, it didn’t create any problem in the dark, right because it is red and not green. Now after 15 years, the brightness has dropped much, but it is still good very good in the night.<br>The only design flaw, indeed common to many clock radios of not large size, is that the speaker is so close to the AC transformer, that due to the induction, it plays a little noise of the 50 Hz generated by the transformer. If they placed the speaker on the right of the case and the clock buttons on the left, the unwanted effect would not happen. In smaller clock radios, the problem is unavoidable due to lack of space inside. The noise, though very weak in the Thomson CR61, was in my conditions of use still audible, so I mounted the transformer in an external box outside the clock and the problem is solved. Needless to say, the radio here is turned off completely when not in use, as it is logical to be done, unlike on the Sony’s, sold at double the price and more.</p>
<p>A remarkable safety feature of this model, is that the transformer has a 120°C thermal fuse built in. In case of overheating due to a short circuit, internally or externally to the transformer, it interrupts the AC supply. A very good feature for a device that stays plugged in all the time.</p>
<p>I modded the clock radio so that I can keep the seconds displayed permanently. I added only a switch which keeps the “Sleep” button pressed. If you keep the “Alarm” button pressed instead, the alarm will not ring,<br>if the button Is pressed during the alarm time. This applies to the clocks model which have not a separated “Alarm reset” button.<br>I have added also 2 LEDs that light the indicator of the radio scale, when the radio is switched on.</p>
<p>Finally, I promised myself that this will be my last clock radio and I will never threw it away! It is so well made and functional to me, that I bought other 3 pieces of the same model as replacement, to be sure it will last forever.</p>


<h2 id="the_modern_clock_radios"><strong>The modern clock radios</strong></h2>


<p>The modern clock radios in year 2023, also the most cheap models with LED display, are made with a PLL tuner made with SDR technology. There is no more mixer, intermediate frequency, etc… The radio frequency is directly sampled and completely digitally processed and demodulated. The processor unit has 10 or 20 memories for the stations. Cool, but it is made just to save the costs of the variable capacitor and other components. Like all the cheap SDR tuner, the have very low selectivity, low sensitivity and low audio quality.<br>Since they use a PLL tuner and a digital processor unit, a quartz oscillator is present in the circuit, to let the microprocessor and PLL work. This means also that the clock is quartz based, differently than the clocks made with LM8560.<br>But above all, they are all Chinese garbage electronic products. They will not last 30-40 years or more like many clock radios made in the ’80s, ’90s and early 2000s do.<br>Therefore, if you have a clock radio with the legendary LM8560 inside, keep it!</p>
<p>I bought one of those modern cheap clock radios, just to see what there is inside.</p>
<p><span><strong>iCES ICR-210</strong> </span>(22€ in year 2023)</p>
<p><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Ices_ICR-210.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/Ices_ICR-210.jpg" alt="" width="250" height="175"></a></p>
<p>It looks fine, but the audio quality is poor. It has a very cheap digital SDR tuner. The quality of the tuner is quite poor too. The 10 memories for the radio stations are not comfortable to manage. The clock can’t display seconds, but it has 2 alarm times.<br>And… there is nothing inside!</p>





<p>It is not a clock with radio. It is a display with integrated clock and radio. 3 ICs mounted on a mini board, with a bunch of SMD components. That’s all! If the display or the clock IC fails, you have to throw away al.<br>The IC on the left is the IC of the radio (used only for FM on this model, to save the cost of the AM antenna). The square chip in the middle is the IC of the clock. There is nothing printed on it. Probably it is a programmed microcontroller, with integrated memory. The IC on the right is the audio amplifier.<br>If they were all good components, a such device should last forever (excluding the life of the flash memory, if the memory if of flash type). But welcome in the capitalism and in the reign of the infinite growth! <br>If you read the customer reviews of it, many users complain failures after 2 or 3 months, even on multiple pieces of the same model! About the display, radio, or audio, always the same failures. It indicates a real low quality of the components and a clear design based on <strong>programmed obsolescence.</strong></p>
<p>The only good note. When disconnected from the AC power it sucks almost no current from the 3V (2xAAA size) backups battery. Only 4µA! It means that you can leave it unplugged for the whole time and plug it only when you need it. Being a quartz clock, it will not run faster or slower than when it is powered by the AC.</p>
<p><a href="https://www.tycospages.com/tycospageswp1/wp-content/uploads/iCES_ICR-210_open_3.jpg" target="_blank" rel="noopener"><img loading="lazy" decoding="async" src="https://www.tycospages.com/tycospageswp1/wp-content/uploads/iCES_ICR-210_open_3_small.jpg" alt="" width="392" height="182"></a></p>
<p>On the back side there is finally the quartz, which generates the clock frequency for the micro controller. But now it is too late for my wish from the ’80s about a quartz clock radio. Now I prefer the eternal LM8560…</p>


<h2 id="LM8560_manufacturers_and_alternatives"><strong>Some LM8560 manufacturers:</strong></h2>


<table>
<tbody>
<tr>
<td>Designation</td>
<td>Manufacturer</td>
<td>Notes</td>
</tr>
<tr>
<td>SC8560</td>
<td>Silanic Integrated Cicuits (Silan Microelectronics, Hangzhou – China)</td>
<td>Still produced in 2023?<br>Mounted in the Thomson CR61 and in some Watson clock radios. Good quality.</td>
</tr>
<tr>
<td>SP8560</td>
<td>Si-Power<br>(Silicon Power Micro-Electronics), China</td>
<td>
<p>Mounted in some Chinese garbage clock radios. Quality unknown.</p>
</td>
</tr>
<tr>
<td>IL8560</td>
<td>BMS – Belmicrosystems<br>(INTEGRAL JSC), Belarus</td>
<td>Quality unknown.</td>
</tr>
<tr>
<td>NTE2062</td>
<td>NTE Electronics, USA</td>
<td>It looks to be still in production in 2023. Quality unknown.</td>
</tr>
<tr>
<td>LM8560</td>
<td>UTC (Unisonic Technologies), China.</td>
<td>Still produced in 2023? Quality unknown, but supposedly<br>good.</td>
</tr>
<tr>
<td>LM8560</td>
<td>?</td>
<td>Fake LM8560 made by unknown Chinese manufacturers.<br>Quality unknown. Still in production.</td>
</tr>
<tr>
<td>W8560</td>
<td>?</td>
<td>Unknown manufacturer from the 1990 years. Likely discontinued.</td>
</tr>
<tr>
<td>TMS3450NL</td>
<td>&nbsp;Texas Instruments</td>
<td>Discontinued</td>
</tr>
<tr>
<td>LM8560</td>
<td>Sanyo, Japan</td>
<td>Original by Sanyo. Discontinued.</td>
</tr>
</tbody>
</table>
<p><strong>Similar ICs and alternative ICs for hobbyists</strong></p>
<table>
<tbody>
<tr>
<td>Designation</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>LM8365</td>
<td>It can drive standard 7-segments common cathode LED displays. 2 alarm times. It has a dedicated<br>pin to display seconds.</td>
</tr>
<tr>
<td>LM8360<br>LM8361<br>NTE2060<br>NTE2061</td>
<td>It can drive standard 7-segments common cathode LED displays. 1alarm time. It has a dedicated<br>pin to display seconds. “Fast” and “Slow” speed set buttons.</td>
</tr>
<tr>
<td>LM8362</td>
<td>It can drive standard 7-segments common cathode LED displays. 1alarm time. It has a dedicated<br>pin to display seconds. “Fast” and “Slow” speed set buttons.</td>
</tr>
<tr>
<td>LM8363</td>
<td>It can drive standard 7-segments common cathode LED displays. 2 alarm times. It has a dedicated<br>pin to display seconds. Calendar with month/day.</td>
</tr>
<tr>
<td>LC85632</td>
<td>2 alarm times. It can’t display seconds. Calendar with month/day. Dimmer function for the display.<br>Made for duplex display.</td>
</tr>
<tr>
<td>LM8562</td>
<td>2 alarm times. It can display seconds. “Fast” and “Slow” speed set buttons. Made for duplex display.</td>
</tr>
</tbody>
</table>		</div>
</article>

			

					</main>
	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[You Don't Need Anubis (163 pts)]]></title>
            <link>https://fxgn.dev/blog/anubis/</link>
            <guid>45787775</guid>
            <pubDate>Sun, 02 Nov 2025 04:03:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://fxgn.dev/blog/anubis/">https://fxgn.dev/blog/anubis/</a>, See on <a href="https://news.ycombinator.com/item?id=45787775">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-astro-cid-qo5xhe7c=""><article><p>In the past years, scrapers operated by LLM training companies have become more relentless. They no longer respect <code>robots.txt</code>, spoof their User Agents and IP addresses and even DDoS small sites with aggessive requests.<label data-astro-cid-ic4jgs3n=""><small data-astro-cid-ic4jgs3n="">This seems to mostly apply to Anthropic’s ClaudeBot. OpenAI’s GPTBot is pretty <a href="https://platform.openai.com/docs/bots">well documented</a> and easy to block.</small></label></p><p>This has led to more and more websites using <a href="https://github.com/TecharoHQ/anubis">Anubis</a>, a proof-of-work based bot protection solution that requires all visitors to solve a small cryptographic problem on their device before proceeding.</p><p>But here’s the thing: <strong>Anubis doesn’t work.</strong> Well, alright, it does - it can be a good DDoS protection solution, especially for people who don’t want to use Cloudflare. But it seems like most users of Anubis <em>don’t need DDoS protection</em> - only protection agaist agressive LLM scrapers. And if that’s your only usecase, you probably <strong>don’t need Anubis</strong>.</p><p>People often claim that Anubis stops bots by making it too computationally expensive to access your website. Unfortunately, the price LLM companies would have to pay to scrape every single Anubis deployment out there is <a href="https://lock.cmpxchg8b.com/anubis.html">approximately $0.00</a>.</p><p>But it still works, right? People use Anubis because it actually stops LLM bots from scraping their site, so it must work, right?</p><p>Yeah, but only because the LLM bots simply <strong>don’t run JavaScript</strong>.</p><p>I recently selfhosted <a href="https://github.com/redlib-org/redlib">Redlib</a>, and despite not sharing my instance with anyone, it got rate-limited by Reddit due to all the scraper bots trying to get that sweet Reddit content. Here is my solution to the issue, a 12-line Caddyfile:</p><pre data-language="caddy" tabindex="0"><code><span><span>domain.com</span><span> {</span></span>
<span><span>    # Match all requests without a "verified" cookie"</span></span>
<span><span>    @unverified</span><span> not header Cookie *verified*</span></span>
<span></span>
<span><span>    # Serve them a JS page that sets the cookie</span></span>
<span><span>    handle </span><span>@unverified</span><span> {</span></span>
<span><span>        header Content-Type text/html</span></span>
<span><span>        respond </span><span>&lt;&lt;EOF</span></span>
<span><span>            &lt;script&gt;</span></span>
<span><span>            document.cookie = 'verified=1; Path=/;';</span></span>
<span><span>            window.location.reload();</span></span>
<span><span>            &lt;/script&gt;</span></span>
<span><span>        EOF</span><span> 418</span></span>
<span><span>    }</span></span>
<span></span>
<span><span>    # Proxy all other requests normally</span></span>
<span><span>    reverse_proxy </span><span>localhost:3001</span></span>
<span><span>}</span></span></code></pre><p>Yes, it works, and does so as effectively as Anubis, while not bothering your visitors with a 10-second page load time.</p><p>Sure, the bots may start running JS code one day, and then this will no longer work. But this also applies to Anubis - even people who use it often say that it’s just “a temporary stopgap until the bots learn how to bypass it”.<label data-astro-cid-ic4jgs3n=""><small data-astro-cid-ic4jgs3n="">In fact, Huawei’s bots run JavaScript, and <a href="https://social.anoxinon.de/@Codeberg/115033782514845941">they have no problem solving Anubis challenges</a>.</small></label> So if you use a temporary solution anyway, why not use one that is practically invisible for your users?</p><p>Unfortunately, Cloudflare<label data-astro-cid-ic4jgs3n=""><small data-astro-cid-ic4jgs3n="">I don’t know if they have any good competition, but “Cloudflare” here refers to all similar bot protection services.</small></label> is pretty much the only reliable way to protect against bots. While the higher protection modes are still very annoying, especially to users on a VPN, there are some situations like actual DDoS attacks where you don’t have any other options. Even Anubis’ own README says:</p><blockquote><p>In most cases, you should not need this and can probably get by using Cloudflare to protect a given origin. However, for circumstances where you can’t or won’t use Cloudflare, Anubis is there for you.</p></blockquote><p>I get that many people are strongly against Cloudflare’s internet monopoly, and I don’t blame them for using solutions like Anubis to protect their sites against real attacks. I’m also obviously not trying to throw shade on the Anubis project or its developers. I think it has a use as a DDoS protection solution - it’s just extremely overused by people who don’t need it.</p><p>So if your only concern is ClaudeBot, which seems to be the case for most of the websites that use Anubis, please, go and replace your annoying stopgap solution with a non-annoying one.</p><hr><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a href="https://fxgn.dev/blog/anubis" rel="cc:attributionURL" property="dct:title">you don't need anubis</a> by <a href="https://fxgn.dev/" rel="cc:attributionURL dct:creator" property="cc:attributionName">flexagoon</a> is marked with <span><a href="https://creativecommons.org/publicdomain/zero/1.0/?ref=chooser-v1" rel="license noopener noreferrer" target="_blank">CC0 1.0<img alt="Creative Commons Logo" src="https://fxgn.dev/images/cc.svg" decoding="async" height="17" loading="lazy" width="17"><img alt="CC0 1.0 Badge" src="https://fxgn.dev/images/cc0.svg" decoding="async" height="17" loading="lazy" width="17"></a></span></p></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why "everyone dies" gets AGI all wrong (101 pts)]]></title>
            <link>https://bengoertzel.substack.com/p/why-everyone-dies-gets-agi-all-wrong</link>
            <guid>45786888</guid>
            <pubDate>Sun, 02 Nov 2025 00:40:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bengoertzel.substack.com/p/why-everyone-dies-gets-agi-all-wrong">https://bengoertzel.substack.com/p/why-everyone-dies-gets-agi-all-wrong</a>, See on <a href="https://news.ycombinator.com/item?id=45786888">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><p><em><span>Being: A reaction to Eliezer Yudkowsky and Nate Soares’s book “</span><a href="https://ai-frontiers.org/articles/summary-of-if-anyone-builds-it-everyone-dies" rel="">If anybody builds it everyone dies</a><span>” which is getting a bit of media attention</span></em></p><p><br><span>I’ve known Eliezer Yudkowsky since the late 1990s. In 2000, he visited my AI company Webmind Inc. in New York City, where we were explicitly trying to build AGI alongside various commercial applications. His mission? To convince us to maybe stop. Or, failing that, to get us thinking really hard about AGI safety and how to make the AGI good for everyone.</span></p><p><span>While he was encouraging us to slow down and work on ethics instead of building AGI, he also showed me his new programming language called Flare – which he was developing specifically to create AGI. A few years later, in 2005, I published an edited book called “</span><a href="https://www.amazon.com/Artificial-General-Intelligence-Cognitive-Technologies/dp/354023733X" rel="">Artificial General Intelligence</a><span>“ which put that term on the map, and Eliezer had a chapter in it explaining his understanding of how to engineer minds and make safe AGI.</span></p><p>This contradiction has persisted through the decades. Eliezer has oscillated between “AGI is the most important thing on the planet and only I can build safe AGI” and “anyone who builds AGI will kill everyone.”</p><p><span>For a period of time in the early aughts I ended up as the Head of Research at Eliezer’s organization The Singularity Institute for AI (name later changed to </span><a href="https://intelligence.org/" rel="">MIRI</a><span>), which gave us a chance to both debate these matters more extensively and also to try to reconcile our perspective as best we could – which turned out to not be all that well, and my tenure at the organization ended with an aura of friendly, mutually respectful disagreement on many fundamentals. I later wrote a blog post expressing my views, called </span><a href="http://multiverseaccordingtoben.blogspot.com/2010/10/singularity-institutes-scary-idea-and.html" rel="">The Singularity Institute’s Scary Idea – And Why I Don’t Buy It </a><span>.. with largely the same upshot as this very blog post.</span></p><p>Anyway, for anyone who’s been following the US futurist and Singularitarian community for the last couple decades, Yudowsky and Soares’s recent book will come as no surprise – it’s basically the same story he’s been telling for 15-20-ish years now.</p><p><span>In fact if anyone wants a deeper look into his perspective, I’d encourage a romp through Eliezer’s book </span><a href="https://www.amazon.com/Rationality-AI-Zombies-Eliezer-Yudkowsky-ebook/dp/B00ULP6EW2/ref=sr_1_3?crid=J71IQF0GSATL&amp;dib=eyJ2IjoiMSJ9.s0CHz8xWkP4oUJgwYA5HUETuSGPeEBjk3pxirPJ9qYfW2L9vi6Up4Rdte_sB7pGmty8zFVgKgHI4obBzGkt6Hg.zFUbIy_c0m6caCytIK3grXgPwgXTRc-y6rsuYv-5C3Q&amp;dib_tag=se&amp;keywords=yudkowsky+books&amp;qid=1759285694&amp;s=books&amp;sprefix=yudkowsky+bo%2Cstripbooks%2C997&amp;sr=1-3" rel="">Rationality: from AI to Zombies</a><span>, which is a wonderful rambling tome – and an utterly different book than one would expect from its name, as the author’s perspective on rationality is a fascinatingly eccentric one. Among other things one gets the clear sense that every single idea in Nick Bostrom’s influential anti-AGI work </span><em>Superintelligence</em><span> was aired earlier and more thoroughly in Eliezer’s writings, albeit in less formal and academic terms.</span></p><p>Anyway – having spent decades actually working on AGI systems while Eliezer has mostly been warning about them and scheming how to stop or prevent them, I feel compelled to respond to his latest articulation of doom. I do have a slight reservation that by doing so I might be drawing more attention to the book than it deserves … but ultimately I feel like, even though most of the book’s thoughts are misguided, the debate it provokes touches so many commonplace fears in our culture that it’s worth having.</p><p><span>Just as Eliezer’s arguments in his book mostly aren’t new, nor is the crux of my response. What is different is the heightened attention and importance attached to these issues now that everyone without blinders on can see we are palpably getting might close to actually creating human-level AGI. (</span><em>No, of course scaled up LLMs are not going to give us AGI, but the same deeper hardware and software and industry and science trends that have given us LLMs are very likely to keep spawning more and more amazing AI technologies, some combination of which will likely produce AGI on something roughly like the 2029 timeframe Kurzweil projected in his 2005 book The Singularity Is Near, possibly even a little sooner.)</em></p><p>Eliezer is right about one thing: we cannot know with certainty that AGI won’t lead to human extinction – what my old friend Hugo de Garis, also a long-time AGI researcher, likes to call “Gigadeath.” But the leap from uncertainty to “everybody dies” represents a tremendous failure of imagination about both the nature of intelligence and our capacity to shape its development.</p><p>This was really the main idea of my “Singularity Institute’s Scary Idea” post way back when – the way they segued so glibly from “AGI might potentially kill everyone and we can’t totally rule it out” to “AGI will almost certainly kill everyone.” For a bunch of self-styled rationalists, it seemed to me they made this leap with an egregious lack of careful rationality. Their arguments in favor of this scary segue were inevitably extremely full of holes. Stuff like “a mind randomly chosen from mindspace would have probability near zero of caring about humans.” OK sure, probably, but that would be a very bizarre and difficult thing to do, to choose a random mind from mindspace (according to any reasonably broad distribution) – obviously what people will actually do is quite different, more like creating our “mind children,” drawn from the very biased distribution of AGI minds initialized with some version of human value system and an initial purpose of serving at least some humans. So…</p><p><span>Specific arguments and counterarguments aside, I feel like the core philosophical flaw in Eliezer’s reasoning on these matters is treating intelligence as pure mathematical optimization, divorced from the experiential, embodied, and social aspects that shape actual minds. If we think about AGI systems as </span><a href="https://arxiv.org/abs/1505.06366" rel="">open-ended intelligences</a><span>—a concept I explore in my 2024 book “</span><a href="http://theconsciousnessexplosion.ai/" rel="">The Consciousness Explosion</a><span>“ — we see them as living, self-organizing systems that seek both survival and self-transcendence, evolving in a fashion complexly coupled with their environments. The challenge is not to theoretically analyze their hypothetical behaviors in an isolated way, but rather to enter into the right sort of mutually beneficial interactions with them as they evolve, grow and learn.</span></p><p>An intelligence capable of recursive self-improvement and transcending from AGI to ASI would naturally tend toward complexity, nuance, and relational adaptability rather than monomaniacal optimization. Eliezer and Soares and their ilk are possessed with the fear that we’ll have a superintelligence that’s A) utterly narrowminded and pigheaded in pursuing psychopathic or megalomaniacal goals, while at the same time being B) incredibly deep and broad in understanding the universe and how to get things done – yes, this could theoretically happen, but there is no rational reason to assume it’s likely!</p><p>AGI development isn’t happening in some abstract space where optimization arguments determine everything. The AGIs that appear on earth will not be random digital minds sampled haphazardly from some notional mind-space. Rather, we and our computer systems are part of a fantastically complex evolving global brain — and AGI systems are emerging as part of this human-digital dynamic. The actual factors that will shape AGI’s impact, within this global-brain context, are concrete and manipulable: the cognitive architecture we choose, who owns and controls it, and what applications shape its early learning experiences.</p><p><span>This is what drives my own technical AGI work – my team at SingularityNET and </span><a href="http://trueagi.io/" rel="">TrueAGI</a><span> is creating the </span><a href="https://hyperon.opencog.org/" rel="">Hyperon</a><span> AGI system very differently from LLMs and other modern neural networks, both because we believe LLMs lack the cognitive architecture needed for human-level AGI, and also because we want to create AGI systems more capable of intentional beneficial activity. We’re trying to create AGI systems designed for self-understanding, deep reflection, and moral agency. This doesn’t guarantee safety, but it makes beneficial outcomes more likely than architectures focused solely on pursuing narrow rewards for narrow goals (like predicting the next token in a series, maximizing the profit of a certain company, or maximizing the success of a certain military).</span></p><p><span>This also ties in with my reasons for developing decentralized platforms for AI deployment, through </span><a href="http://singularitynet.io/" rel="">SingularityNET</a><span> and the </span><a href="http://superintelligence.io/" rel="">ASI Alliance</a><span>. Eliezer’s doom scenarios typically assume AGI emerges from a single actor, but when thousands or millions of diverse stakeholders contribute to and govern AGI’s development, the system is far less likely to embody the narrow, potentially destructive goal functions that alignment pessimists fear. Democratic, transparent, decentralized AGI development isn’t just ethically preferable—it’s technically safer, for reasons similar to why open-source software systems are often safer than their closed-source analogues.</span></p><p>Perhaps the most annoying thing about the AGI doom narrative is how it distracts from real, addressable issues. I’m not just talking about immediate problems like AI bias or military applications – though these are real and serious enough. I’m even more concerned about the transition period between early-stage AGI and superintelligence.</p><p>When automation eliminates jobs faster than new opportunities emerge, when countries that can’t afford universal basic income face massive displacement, we risk global terrorism and fascist crackdowns—as we’re already seeing in various parts of the world. These nearer-term challenges could determine whether early-stage AGI grows up in a context that enables beneficial development or one that virtually guarantees poor outcomes.</p><p>The LLM revolution has already demonstrated that Eliezer’s model is too simplistic. These systems show that intelligence and values aren’t orthogonal, as Eliezer, Bostrom and their intellectual allies have often argued. In theory, yes, you could pair an arbitrarily intelligent mind with an arbitrarily stupid value system. But in practice, certain kinds of minds naturally develop certain kinds of value systems.</p><p>Mammals, which are more generally intelligent than reptiles or earthworms, also tend to have more compassion and warmth. Humans tend to have a broader scope of compassion than most other mammals, because our greater general intelligence lets us empathize more broadly with systems different from ourselves. There’s deep intertwining between intelligence and values—we even see it in LLMs already, to a limited extent. The fact that we can meaningfully influence their behavior through training hints that value learning is tractable, even for these fairly limited sub-AGI systems.</p><p>After decades of these debates, I’m convinced the real danger isn’t that someone will build AGI—that ship has sailed. The danger we should be most worried about is that fear-mongering will either drive development underground into the hands of the least scrupulous actors, or create regulatory capture that hands control to a small elite.</p><p>Fear-mongering that forces centralized AGI development by incompetent or narrow, self-centered actors is far more palpably dangerous than the vast unwashed masses of humanity creating open source AGI in a participatory, democratic way.</p><p><span>Since 2006, I’ve organized the </span><a href="http://agi-conf.org/" rel="">annual AGI research conference</a><span>, and last year I started a conference series on Beneficial General Intelligence. Next month at the </span><a href="https://bgisummit.io/" rel="">BGI-25 event in Istanbul</a><span>, we’re bringing together people from around the world to think through how to nudge AGI and ASI development in positive directions. It’s not easy—there are tremendous social and economic forces working against us—but the idea that this effort is doomed to fail is both incorrect and potentially dangerous.</span></p><p>Yudkowsky and Soares’s “everybody dies” narrative, while well-intentioned and deeply felt (I have no doubt he believes his message in his heart as well as his eccentrically rational mind), isn’t just wrong—it’s profoundly counterproductive. By treating beneficial AGI as impossible, it threatens to become a self-fulfilling prophecy that cedes the field to those who don’t care about safety at all. We need voices advocating for careful, beneficial development, not voices saying we’re all doomed.</p><p>The future remains unwritten, and we’re helping to write it. The question isn’t whether humanity will build AGI—it’s how to build it wisely. That means architectures emphasizing compassion and self-reflection, decentralized governance preventing monopolistic or oligopolistic control, and applications in education, healthcare, and science that shape AGI’s values through beneficial action.</p><p>This won’t guarantee good outcomes — nothing can do that — but it’s far more likely to succeed than either halting development (next to impossible by this point) or proceeding without considering these factors (genuinely dangerous). After all these years and decades, I remain convinced: the most important work isn’t stopping AGI—it’s making sure we raise our AGI mind children well enough.</p></div></article></div><div id="discussion"><h4>Discussion about this post</h4></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How I use every Claude Code feature (418 pts)]]></title>
            <link>https://blog.sshh.io/p/how-i-use-every-claude-code-feature</link>
            <guid>45786738</guid>
            <pubDate>Sun, 02 Nov 2025 00:13:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.sshh.io/p/how-i-use-every-claude-code-feature">https://blog.sshh.io/p/how-i-use-every-claude-code-feature</a>, See on <a href="https://news.ycombinator.com/item?id=45786738">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p>I use Claude Code. A lot.</p><p><span>As a hobbyist, I run it in a VM several times a week on side projects, often with </span><code>--dangerously-skip-permissions</code><span> to vibe code whatever idea is on my mind. Professionally, part of my team builds the AI-IDE rules and tooling for our engineering team that consumes </span><em>several billion tokens per month</em><span> just for codegen.</span></p><p>The CLI agent space is getting crowded and between Claude Code, Gemini CLI, Cursor, and Codex CLI, it feels like the real race is between Anthropic and OpenAI. But TBH when I talk to other developers, their choice often comes down to what feels like superficials—a “lucky” feature implementation or a system prompt “vibe” they just prefer. At this point these tools are all pretty good. I also feel like folks often also over index on the output style or UI. Like to me the “you’re absolutely right!” sycophancy isn’t a notable bug; it’s a signal that you’re too in-the-loop. Generally my goal is to “shoot and forget”—to delegate, set the context, and let it work. Judging the tool by the final PR and not how it gets there.</p><p><span>Having stuck to Claude Code for the last few months, this post is my set of reflections on Claude Code’s entire ecosystem. We’ll cover nearly every feature I use (and, just as importantly, the ones I don’t), from the foundational </span><code>CLAUDE.md</code><span> file and custom slash commands to the powerful world of Subagents, Hooks, and GitHub Actions. </span><strong>This post ended up a bit long and I’d recommend it as more of a reference than something to read in entirety. </strong></p><p><span>The single most important file in your codebase for using Claude Code effectively is the root </span><code>CLAUDE.md</code><span>. This file is the agent’s “constitution,” its primary source of truth for how your specific repository works.</span></p><p>How you treat this file depends on the context. For my hobby projects, I let Claude dump whatever it wants in there.</p><p><span>For my professional work, our monorepo’s </span><code>CLAUDE.md</code><span> is strictly maintained and currently sits at 13KB (I could easily see it growing to 25KB). </span></p><ul><li><p>It only documents tools and APIs used by 30% (arbitrary) or more of our engineers (else tools are documented in product or library specific markdown files)</p></li><li><p><span>We’ve even started allocating effectively a max token count for each internal tool’s documentation, almost like selling “ad space” to teams. If you can’t explain your tool concisely, it’s not ready for the </span><code>CLAUDE.md</code><span>.</span></p></li></ul><p><span>Over time, we’ve developed a strong, opinionated philosophy for writing an effective </span><code>CLAUDE.md</code><span>.</span></p><ol><li><p><strong>Start with Guardrails, Not a Manual.</strong><span> Your </span><code>CLAUDE.md</code><span> should start small, documenting based on what Claude is getting wrong.</span></p></li><li><p><strong>Don’t </strong><code>@</code><strong>-File Docs.</strong><span> If you have extensive documentation elsewhere, it’s tempting to </span><code>@</code><span>-mention those files in your </span><code>CLAUDE.md</code><span>. This bloats the context window by embedding the entire file on every run. But if you just </span><em>mention</em><span> the path, Claude will often ignore it. You have to </span><em>pitch</em><span> the agent on </span><em>why</em><span> and </span><em>when</em><span> to read the file. “For complex … usage or if you encounter a </span><code>FooBarError</code><span>, see </span><code>path/to/docs.md</code><span> for advanced troubleshooting steps.”</span></p></li><li><p><strong>Don’t Just Say “Never.”</strong><span> Avoid negative-only constraints like “Never use the </span><code>--foo-bar</code><span> flag.” The agent will get stuck when it thinks it </span><em>must</em><span> use that flag. Always provide an alternative.</span></p></li><li><p><strong>Use </strong><code>CLAUDE.md</code><strong> as a Forcing Function.</strong><span> If your CLI commands are complex and verbose, don’t write paragraphs of documentation to explain them. That’s patching a human problem. Instead, write a simple bash wrapper with a clear, intuitive API and document </span><em>that</em><span>. Keeping your </span><code>CLAUDE.md</code><span> as short as possible is a fantastic forcing function for simplifying your codebase and internal tooling.</span></p></li></ol><p>Here’s a simplified snapshot:</p><pre><code><code># Monorepo

## Python
- Always ...
- Test with &lt;command&gt;
... 10 more ...

## &lt;Internal CLI Tool&gt;
... 10 bullets, focused on the 80% of use cases ...
- &lt;usage example&gt;
- Always ...
- Never &lt;x&gt;, prefer &lt;Y&gt;

For &lt;complex usage&gt; or &lt;error&gt; see path/to/&lt;tool&gt;_docs.md

...</code></code></pre><p><span>Finally, we keep this file synced with an </span><code>AGENTS.md</code><span> file to maintain compatibility with other AI IDEs that our engineers might be using.</span></p><p><em><span>If you are looking for more tips for writing markdown for coding agents see </span><a href="https://blog.sshh.io/p/ai-cant-read-your-docs" rel="">“AI Can’t Read Your Docs”,</a><span> </span><a href="https://blog.sshh.io/p/ai-powered-software-engineering" rel="">“AI-powered Software Engineering”,</a><span> and </span><a href="https://blog.sshh.io/p/how-cursor-ai-ide-works" rel="">“How Cursor (AI IDE) Works”.</a></em></p><p><strong>The Takeaway:</strong><span> Treat your </span><code>CLAUDE.md</code><span> as a high-level, curated set of guardrails and pointers. Use it to guide where you need to invest in more AI (and human) friendly tools, rather than trying to make it a comprehensive manual.</span></p><p><span>I recommend running </span><code>/context</code><span> mid coding session at least once to understand how you are using your 200k token context window (even with Sonnet-1M, I don’t trust that the full context window is actually used effectively). For us a fresh session in our monorepo costs a baseline ~20k tokens (10%) with the remaining 180k for making your change — which can fill up quite fast.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!o_oM!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!o_oM!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png 424w, https://substackcdn.com/image/fetch/$s_!o_oM!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png 848w, https://substackcdn.com/image/fetch/$s_!o_oM!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png 1272w, https://substackcdn.com/image/fetch/$s_!o_oM!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/$s_!o_oM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png" width="638" height="396.6839378238342" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7ee93292-646a-407a-95da-d469be81002e_1158x720.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:720,&quot;width&quot;:1158,&quot;resizeWidth&quot;:638,&quot;bytes&quot;:120380,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://blog.sshh.io/i/177742847?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png&quot;,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!o_oM!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png 424w, https://substackcdn.com/image/fetch/$s_!o_oM!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png 848w, https://substackcdn.com/image/fetch/$s_!o_oM!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png 1272w, https://substackcdn.com/image/fetch/$s_!o_oM!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7ee93292-646a-407a-95da-d469be81002e_1158x720.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption><span>A screenshot of </span><strong>/context</strong><span> in one of my recent side projects. You can almost think of this like disk space that fills up as you work on a feature. After a few minutes or hours you’ll need to clear the messages (purple) to make space to continue.</span></figcaption></figure></div><p>I have three main workflows:</p><ul><li><p><code>/compact</code><strong> (Avoid):</strong><span> I avoid this as much as possible. The automatic compaction is opaque, error-prone, and not well-optimized.</span></p></li><li><p><code>/clear</code><strong> + </strong><code>/catchup</code><strong> (Simple Restart):</strong><span> My default reboot. I </span><code>/clear</code><span> the state, then run a custom </span><code>/catchup</code><span> command to make Claude read all changed files in my git branch.</span></p></li><li><p><span>“Document &amp; Clear”</span><strong> (Complex Restart):</strong><span> For large tasks. I have Claude dump its plan and progress into a </span><code>.md</code><span>, </span><code>/clear</code><span> the state, then start a new session by telling it to read the </span><code>.md</code><span> and continue.</span></p></li></ul><p><strong>The Takeaway:</strong><span> Don’t trust auto-compaction. Use </span><code>/clear</code><span> for simple reboots and the “Document &amp; Clear” method to create durable, external “memory” for complex tasks.</span></p><p>I think of slash commands as simple shortcuts for frequently used prompts, nothing more. My setup is minimal:</p><ul><li><p><code>/catchup</code><span>: The command I mentioned earlier. It just prompts Claude to read all changed files in my current git branch.</span></p></li><li><p><code>/pr</code><span>: A simple helper to clean up my code, stage it, and prepare a pull request.</span></p></li></ul><p><span>IMHO if you have a long list of complex, custom slash commands, you’ve created an anti-pattern. To me the entire point of an agent like Claude is that you can type </span><em>almost</em><span> whatever you want and get a useful, mergable result. The moment you force an engineer (or non-engineer) to learn a new, documented-somewhere list of essential magic commands just to get work done, you’ve failed.</span></p><p><strong>The Takeaway:</strong><span> Use slash commands as simple, personal shortcuts, not as a replacement for building a more intuitive </span><code>CLAUDE.md</code><span> and better-tooled agent.</span></p><p><span>On paper, custom subagents are Claude Code’s most powerful feature for context management. The pitch is simple: a complex task requires </span><code>X</code><span> tokens of input context (e.g., how to run tests), accumulates </span><code>Y</code><span> tokens of working context, and produces a </span><code>Z</code><span> token answer. Running </span><code>N</code><span> tasks means </span><code>(X + Y + Z) * N</code><span> tokens in your main window.</span></p><p><span>The subagent solution is to farm out the </span><code>(X + Y) * N</code><span> work to specialized agents, which only return the final </span><code>Z</code><span> token answers, keeping your main context clean.</span></p><p><span>I find they are a powerful idea that, in practice, </span><em>custom</em><span> subagents create two new problems:</span></p><ol><li><p><strong>They Gatekeep Context:</strong><span> If I make a </span><code>PythonTests</code><span> subagent, I’ve now hidden all testing context from my </span><em>main</em><span> agent. It can no longer reason holistically about a change. It’s now forced to invoke the subagent just to know how to validate its own code.</span></p></li><li><p><strong>They Force Human Workflows:</strong><span> Worse, they force Claude into a rigid, human-defined workflow. I’m now dictating </span><em>how</em><span> it must delegate, which is the very problem I’m trying to get the agent to solve for me.</span></p></li></ol><p><span>My preferred alternative is to use Claude’s built-in </span><code>Task(...)</code><span> feature to spawn clones of the </span><em>general</em><span> agent.</span></p><p><span>I put all my key context in the </span><code>CLAUDE.md</code><span>. Then, I let the </span><em>main agent</em><span> decide when and how to delegate work to copies of itself. This gives me all the context-saving benefits of subagents without the drawbacks. The agent manages its own orchestration dynamically.</span></p><p><span>In my </span><a href="https://blog.sshh.io/p/building-multi-agent-systems-part" rel="">“Building Multi-Agent Systems (Part 2)”</a><span> post, I called this the “Master-Clone” architecture, and I strongly prefer it over the “Lead-Specialist” model that custom subagents encourage.</span></p><p><strong>The Takeaway:</strong><span> Custom subagents are a brittle solution. Give your main agent the context (in </span><code>CLAUDE.md</code><span>) and let it use its own </span><code>Task/Explore(...)</code><span> feature to manage delegation.</span></p><p><span>On a simple level, I use </span><code>claude --resume</code><span> and </span><code>claude --continue</code><span> frequently. They’re great for restarting a bugged terminal or quickly rebooting an older session. I’ll often </span><code>claude --resume</code><span> a session from days ago just to ask the agent to summarize how it overcame a specific error, which I then use to improve our </span><code>CLAUDE.md</code><span> and internal tooling.</span></p><p><span>More in the weeds, Claude Code stores all session history in </span><code>~/.claude/projects/</code><span> to tap into the raw historical session data. I have scripts that run meta-analysis on these logs, looking for common exceptions, permission requests, and error patterns to help improve agent-facing context.</span></p><p><strong>The Takeaway:</strong><span> Use </span><code>claude --resume</code><span> and </span><code>claude --continue </code><span>to restart sessions and uncover buried historical context.</span></p><p><span>Hooks are huge. I don’t use them for hobby projects, but they are critical for steering Claude in a complex enterprise repo. They are the deterministic “must-do” rules that complement the “should-do” suggestions in </span><code>CLAUDE.md</code><span>.</span></p><p>We use two types:</p><ol><li><p><strong>Block-at-Submit Hooks:</strong><span> This is our primary strategy. We have a </span><code>PreToolUse</code><span> hook that wraps any </span><code>Bash(git commit)</code><span> command. It checks for a </span><code>/tmp/agent-pre-commit-pass</code><span> file, which our test script </span><em>only</em><span> creates if all tests pass. If the file is missing, the hook blocks the commit, forcing Claude into a “test-and-fix” loop until the build is green.</span></p></li><li><p><strong>Hint Hooks:</strong><span> These are simple, non-blocking hooks that provide “fire-and-forget” feedback if the agent is doing something suboptimal.</span></p></li></ol><p><span>We intentionally do not use “block-at-write” hooks (e.g., on </span><code>Edit</code><span> or </span><code>Write</code><span>). Blocking an agent mid-plan confuses or even “frustrates” it. It’s far more effective to let it finish its work and then check the final, completed result at the commit stage.</span></p><p><strong>The Takeaway:</strong><span> Use hooks to enforce state validation at commit time (</span><code>block-at-submit</code><span>). Avoid blocking at write time—let the agent finish its plan, then check the final result.</span></p><p>Planning is essential for any “large” feature change with an AI IDE.</p><p><span>For my hobby projects, I exclusively use the built-in planning mode. It’s a way to align with Claude before it starts, defining both </span><em>how</em><span> to build something and the “inspection checkpoints” where it needs to stop and show me its work. Using this regularly builds a strong intuition for what minimal context is needed to get a good plan without Claude botching the implementation.</span></p><p>In our work monorepo, we’ve started rolling out a custom planning tool built on the Claude Code SDK. Its similar to native plan mode but heavily prompted to align its outputs with our existing technical design format. It also enforces our internal best practices—from code structure to data privacy and security—out of the box. This lets our engineers “vibe plan” a new feature as if they were a senior architect (or at least that’s the pitch).</p><p><strong>The Takeaway:</strong><span> Always use the built-in planning mode for complex changes to align on a plan before the agent starts working.</span></p><p><span>I agree with </span><a href="https://simonwillison.net/2025/Oct/16/claude-skills/" rel="">Simon Willison’s</a><span>: </span><strong>Skills are (maybe) a bigger deal than MCP.</strong></p><p><span>If you’ve been following my posts, you’ll know I’ve drifted away from MCP for most dev workflows, preferring to build simple CLIs instead (as I argued in </span><a href="https://blog.sshh.io/p/ai-cant-read-your-docs" rel="">“AI Can’t Read Your Docs”</a><span>). My mental model for agent autonomy has evolved into three stages:</span></p><ol><li><p><strong>Single Prompt:</strong><span> Giving the agent all context in one massive prompt. (Brittle, doesn’t scale).</span></p></li><li><p><strong>Tool Calling:</strong><span> The “classic” agent model. We hand-craft tools and abstract away reality for the agent. (Better, but creates new abstractions and context bottlenecks).</span></p></li><li><p><strong><a href="https://blog.sshh.io/i/167598476/scripting-agents" rel="">Scripting</a><span>:</span></strong><span> We give the agent access to the raw environment—binaries, scripts, and docs—and it writes code </span><em>on the fly</em><span> to interact with them.</span></p></li></ol><p><span>With this model in mind, </span><strong>Agent Skills</strong><span> are the obvious next feature. They are the formal productization of the “Scripting” layer.</span></p><p><span>If, like me, you’ve already been </span><a href="https://blog.sshh.io/i/171208815/pattern-choose-the-right-interface-cli-vs-mcp" rel="">favoring CLIs over MCP,</a><span> you’ve been implicitly getting the benefit of Skills all along. The </span><code>SKILL.md</code><span> file is just a more organized, shareable, and discoverable way to document these CLIs and scripts and expose them to the agent.</span></p><p><strong>The Takeaway:</strong><span> Skills are the right abstraction. They formalize the “scripting”-based agent model, which is more robust and flexible than the rigid, API-like model that MCP represents.</span></p><p><span>Skills don’t mean MCP is dead (see also </span><a href="https://blog.sshh.io/p/everything-wrong-with-mcp" rel="">“Everything Wrong with MCP”</a><span>). Previously, many built awful, context-heavy MCPs with dozens of tools that just mirrored a REST API (</span><code>read_thing_a()</code><span>, </span><code>read_thing_b()</code><span>, </span><code>update_thing_c()</code><span>). </span></p><p>The “Scripting” model (now formalized by Skills) is better, but it needs a secure way to access the environment. This to me is the new, more focused role for MCP.</p><p>Instead of a bloated API, an MCP should be a simple, secure gateway that provides a few powerful, high-level tools:</p><ul><li><p><code>download_raw_data(filters…)</code></p></li><li><p><code>take_sensitive_gated_action(args…)</code></p></li><li><p><code>execute_code_in_environment_with_state(code…)</code></p></li></ul><p><span>In this model, MCP’s job isn’t to abstract reality for the agent; its job is to manage the auth, networking, and security boundaries and then get out of the way. It provides the </span><em>entry point</em><span> for the agent, which then uses its scripting and </span><code>markdown</code><span> context to do the actual work.</span></p><p><span>The only MCP I still use is for </span><a href="https://github.com/microsoft/playwright-mcp" rel="">Playwright</a><span>, which makes sense—it’s a complex, stateful environment. All my stateless tools (like Jira, AWS, GitHub) have been migrated to simple CLIs.</span></p><p><strong>The Takeaway:</strong><span> Use MCPs that act as data gateways. Give the agent one or two high-level tools (like a raw data dump API) that it can then script against.</span></p><p>Claude Code isn’t just an interactive CLI; it’s also a powerful SDK for building entirely new agents—for both coding and non-coding tasks. I’ve started using it as my default agent framework over tools like LangChain/CrewAI for most new hobby projects.</p><p>I use it in three main ways:</p><ol><li><p><strong>Massive Parallel Scripting:</strong><span> For large-scale refactors, bug fixes, or migrations, I don’t use the interactive chat. I write simple bash scripts that call </span><code>claude -p “in /pathA change all refs from foo to bar”</code><span> in parallel. This is far more scalable and controllable than trying to get the main agent to manage dozens of subagent tasks.</span></p></li><li><p><strong>Building Internal Chat Tools:</strong><span> The SDK is perfect for wrapping complex processes in a simple chat interface for non-technical users. Like an installer that, on error, falls back to the Claude Code SDK to just </span><em>fix</em><span> the problem for the user. Or an in-house “</span><a href="http://v0.dev/" rel="">v0-at-home</a><span>” tool that lets our design team vibe-code mock frontends in our in-house UI framework, ensuring their ideas are high-fidelity and the code is more directly usable in frontend production code.</span></p></li><li><p><strong>Rapid Agent Prototyping:</strong><span> This is my most common use. It’s not just for coding. If I have an idea for any agentic task (e.g., a “threat investigation agent” that uses custom CLIs or MCPs), I use the Claude Code SDK to quickly build and test the prototype before committing to a full, deployed scaffolding.</span></p></li></ol><p><strong>The Takeaway:</strong><span> The Claude Code SDK is a powerful, general-purpose agent framework. Use it for batch-processing code, building internal tools, and rapidly prototyping new agents </span><em>before</em><span> you reach for more complex frameworks.</span></p><p>The Claude Code GitHub Action (GHA) is probably one of my favorite and most slept on features. It’s a simple concept: just run Claude Code in a GHA. But this simplicity is what makes it so powerful.</p><p><span>It’s similar to </span><a href="https://cursor.com/docs/cloud-agent" rel="">Cursor’s background agents</a><span> or the Codex managed web UI but is far more customizable. You control the entire container and environment, giving you more access to data and, crucially, much stronger sandboxing and audit controls than any other product provides. Plus, it supports all the advanced features like Hooks and MCP.</span></p><p><span>We’ve used it to build custom “PR-from-anywhere” tooling. Users can trigger a PR from Slack, Jira, or even a CloudWatch alert, and the GHA will fix the bug or add the feature and return a fully tested PR</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-1-177742847" href="https://blog.sshh.io/p/how-i-use-every-claude-code-feature#footnote-1-177742847" target="_self" rel="">1</a></span><span>.</span></p><p>Since the GHA logs are the full agent logs, we have an ops process to regularly review these logs at a company level for common mistakes, bash errors, or unaligned engineering practices. This creates a data-driven flywheel: Bugs -&gt; Improved CLAUDE.md / CLIs -&gt; Better Agent.</p><pre><code>$ query-claude-gha-logs --since 5d | claude -p “see what the other claudes were getting stuck on and fix it, then put up a PR“</code></pre><p><strong>The Takeaway:</strong><span> The GHA is the ultimate way to operationalize Claude Code. It turns it from a personal tool into a core, auditable, and self-improving part of your engineering system.</span></p><p><span>Finally, I have a few specific </span><code>settings.json</code><span> configurations that I’ve found essential for both hobby and professional work.</span></p><ul><li><p><code>HTTPS_PROXY</code><span>/</span><code>HTTP_PROXY</code><span>: This is great for debugging. I’ll use it to inspect the raw traffic to see exactly what prompts Claude is sending. For background agents, it’s also a powerful tool for fine-grained network sandboxing.</span></p></li><li><p><code>MCP_TOOL_TIMEOUT</code><span>/</span><code>BASH_MAX_TIMEOUT_MS</code><span>: I bump these. I like running long, complex commands, and the default timeouts are often too conservative. I’m honestly not sure if this is still needed now that bash background tasks are a thing, but I keep it just in case.</span></p></li><li><p><code>ANTHROPIC_API_KEY</code><span>: At work, we use our enterprise API keys (</span><a href="https://www.reddit.com/r/ClaudeAI/comments/1jwvssa/comment/mtt0urz/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button" rel="">via apiKeyHelper</a><span>). It shifts us from a “per-seat” license to “usage-based” pricing, which is a much better model for how we work.</span></p><ul><li><p><span>It accounts for the </span><em>massive</em><span> variance in developer usage (We’ve seen 1:100x differences between engineers).</span></p></li><li><p>It lets engineers to tinker with non-Claude-Code LLM scripts, all under our single enterprise account.</p></li></ul></li><li><p><code>“permissions”</code><span>: I’ll occasionally self-audit the list of commands I’ve allowed Claude to auto-run.</span></p></li></ul><p><strong>The Takeaway:</strong><span> Your </span><code>settings.json</code><span> is a powerful place for advanced customization.</span></p><p>That was a lot, but hopefully, you find it useful. If you’re not already using a CLI-based agent like Claude Code or Codex CLI, you probably should be. There are rarely good guides for these advanced features, so the only way to learn is to dive in.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Pomelli (248 pts)]]></title>
            <link>https://blog.google/technology/google-labs/pomelli/</link>
            <guid>45786324</guid>
            <pubDate>Sat, 01 Nov 2025 23:09:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.google/technology/google-labs/pomelli/">https://blog.google/technology/google-labs/pomelli/</a>, See on <a href="https://news.ycombinator.com/item?id=45786324">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="jump-content" tabindex="-1">
            

    
    

    <article>

    
    





    

    
      








<div data-analytics-module="{
    &quot;module_name&quot;: &quot;Hero Menu&quot;,
    &quot;section_header&quot;: &quot;Create on\u002Dbrand marketing content for your business with Pomelli&quot;
  }">
  
  <div>
      
      
        <p>
          We’re introducing Pomelli, a new AI experiment from Google Labs that helps small-to-medium-sized businesses easily generate scalable, on-brand social media campaigns.
        </p>
      
    </div>
  
  <div>
  <p>Bea Alessio</p>
  
    <p>
      Senior Product Manager, Google DeepMind
    </p>
  
  
</div>
</div>

    

    
      




  <uni-youtube-player-hero index="0" thumbnail-alt="Pomelli banner image" component-title="Create on-brand marketing content for your business with Pomelli" video-id="rsWPISYv6tQ" video-type="video" image="Pomelli Keyword Blog Header" video-image-url-lazy="https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_Header.width-100.format-webp.webp" video-image-url-mobile="https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_Header.width-700.format-webp.webp" video-image-url-desktop="https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_Header.width-1000.format-webp.webp">
  </uni-youtube-player-hero>











    

    
    <div data-reading-time="true" data-component="uni-article-body">

            
              





<uni-article-speakable page-title="Create on\u002Dbrand marketing content for your business with Pomelli" listen-to-article="Listen to article" data-date-modified="2025-10-28T16:00:01.000635+00:00" data-tracking-ids="G-HGNBTNCHCQ,G-6NKTLKV14N" data-voice-list="en.ioh-pngnat:Cyan,en.usb-pngnat:Lime" data-script-src="https://www.gstatic.com/readaloud/player/web/api/js/api.js" data-highlight-mode="word-over-paragraph"></uni-article-speakable>

            

            
            
<!--article text-->

  
    <div data-component="uni-article-paragraph" role="presentation" data-analytics-module="{
           &quot;module_name&quot;: &quot;Paragraph&quot;,
           &quot;section_header&quot;: &quot;Create on\u002Dbrand marketing content for your business with Pomelli&quot;
         }"><p data-block-key="s5pgs">Creating impactful, on-brand content can often require significant investment in time, budget, and design expertise. For small to medium-sized businesses (SMBs), this can be a major obstacle. That’s where Pomelli, our newest experiment from <a href="https://labs.google/">Google Labs</a> in partnership with <a href="https://deepmind.google/">Google DeepMind</a>, comes in. <a href="http://labs.google/pomelli">Pomelli</a> is an AI marketing tool designed to help SMBs more easily generate scalable, on-brand social media campaigns to help grow their businesses.</p><p data-block-key="do5i0">Pomelli uses AI to understand your unique business and generate effective, tailored campaigns in just three steps.</p><p data-block-key="1ikn5"><b>1. Build your business DNA</b></p><p data-block-key="dvtr6">Enter your website, and Pomelli will analyze it and create a "Business DNA" profile for your brand. By analyzing your website and existing images, Pomelli is able to automatically extract and understand your business’ unique brand identity. This profile includes your tone of voice, custom fonts, images and color palette.</p><p data-block-key="3c06l">All content Pomelli generates is grounded in this DNA, ensuring your content feels more authentic and consistent across all channels.</p></div>
  

  
    














<uni-image-full-width alignment="full" alt-text="Pomelli Business DNA Screen" external-image="" or-mp4-video-title="" or-mp4-video-url="" section-header="Create on\u002Dbrand marketing content for your business with Pomelli" custom-class="image-full-width--constrained-width uni-component-spacing">
  
  
    <p><img alt="Pomelli Business DNA Screen" src="https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_In-line_-_1.width-100.format-webp.webp" loading="lazy" data-loading="{
            &quot;mobile&quot;: &quot;https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_In-line_-_1.width-500.format-webp.webp&quot;,
            &quot;desktop&quot;: &quot;https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_In-line_-_1.width-1000.format-webp.webp&quot;
          }">
    </p>
  
</uni-image-full-width>


  

  
    <div data-component="uni-article-paragraph" role="presentation" data-analytics-module="{
           &quot;module_name&quot;: &quot;Paragraph&quot;,
           &quot;section_header&quot;: &quot;Create on\u002Dbrand marketing content for your business with Pomelli&quot;
         }"><p data-block-key="805uu"><b>2. Generate tailored campaign ideas</b></p><p data-block-key="dtb42">Once your Business DNA is established, Pomelli generates tailored campaign ideas specifically for your business. This feature tackles the common pain point of coming up with fresh, strategic ideas, allowing you to quickly pick a campaign focus. If you have your own idea, you can type in a prompt to create content tailored exactly to your vision.</p></div>
  

  
    














<uni-image-full-width alignment="full" alt-text="Pomelli campaign idea screen" external-image="" or-mp4-video-title="" or-mp4-video-url="" section-header="Create on\u002Dbrand marketing content for your business with Pomelli" custom-class="image-full-width--constrained-width uni-component-spacing">
  
  
    <p><img alt="Pomelli campaign idea screen" src="https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_In-line_-_2.width-100.format-webp.webp" loading="lazy" data-loading="{
            &quot;mobile&quot;: &quot;https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_In-line_-_2.width-500.format-webp.webp&quot;,
            &quot;desktop&quot;: &quot;https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_In-line_-_2.width-1000.format-webp.webp&quot;
          }">
    </p>
  
</uni-image-full-width>


  

  
    <div data-component="uni-article-paragraph" role="presentation" data-analytics-module="{
           &quot;module_name&quot;: &quot;Paragraph&quot;,
           &quot;section_header&quot;: &quot;Create on\u002Dbrand marketing content for your business with Pomelli&quot;
         }"><p data-block-key="805uu"><b>3. Edit and create high-quality, branded creatives</b></p><p data-block-key="6ta1k">Finally, Pomelli creates a set of high-quality, on-brand marketing assets designed to help grow your brand across various channels, like your social media, your site and your ads. Browse through the generations and select the assets that best fit your campaign goals. You're in full control to make edits to the text or images right inside the tool. All assets can be downloaded and are ready to be used across your channels.</p></div>
  

  
    














<uni-image-full-width alignment="full" alt-text="Pomelli content output screen" external-image="" or-mp4-video-title="" or-mp4-video-url="" section-header="Create on\u002Dbrand marketing content for your business with Pomelli" custom-class="image-full-width--constrained-width uni-component-spacing">
  
  
    <p><img alt="Pomelli content output screen" src="https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_In-line_-_3.width-100.format-webp.webp" loading="lazy" data-loading="{
            &quot;mobile&quot;: &quot;https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_In-line_-_3.width-500.format-webp.webp&quot;,
            &quot;desktop&quot;: &quot;https://storage.googleapis.com/gweb-uniblog-publish-prod/images/Pomelli_Keyword_Blog_In-line_-_3.width-1000.format-webp.webp&quot;
          }">
    </p>
  
</uni-image-full-width>


  

  
    <div data-component="uni-article-paragraph" role="presentation" data-analytics-module="{
           &quot;module_name&quot;: &quot;Paragraph&quot;,
           &quot;section_header&quot;: &quot;Create on\u002Dbrand marketing content for your business with Pomelli&quot;
         }">
        <p data-block-key="805uu">Pomelli is launching today as a public beta experiment in the United States, Canada, Australia and New Zealand in English. It’s an early experiment and it might take some time to get things right. Our goal is to build the highest quality experiments, so your feedback is appreciated. <a href="http://labs.google/pomelli">Give it a try</a> and let us know what you think.</p>
      </div>
  


            
            

            
              




            
          </div>
  </article>
  





  

  


<div data-component="uni-related-articles" aria-roledescription="carousel" data-analytics-module="{
    &quot;module_name&quot;: &quot;Article Footer Related Stories&quot;,
    &quot;section_header&quot;: &quot;Related stories&quot;
  }">
        <h3>
          <p>
            Related stories
          </p>
        </h3>
      </div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OS maintained by a single developer since 1997: Visopsys (428 pts)]]></title>
            <link>https://visopsys.org/</link>
            <guid>45785858</guid>
            <pubDate>Sat, 01 Nov 2025 22:07:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://visopsys.org/">https://visopsys.org/</a>, See on <a href="https://news.ycombinator.com/item?id=45785858">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page" role="main">
			
<article id="post-14" class="page">
	<!-- .entry-header -->
	<div>
		<h3>Welcome!</h3>
<p>Visopsys is an alternative operating system for PC compatible computers. In development since 1997, this system is small, fast, and open source. It features a simple but functional graphical interface, pre-emptive multitasking, and virtual memory. Though it attempts to be compatible in a number of ways, Visopsys is not a clone of any other operating system. You can demo the distribution from a “live” USB stick, CD/DVD, or floppy disk … (<a href="https://visopsys.org/about/">read more</a>).</p>
<hr>
<h4>Features of Visopsys<a href="https://visopsys.org/download/"><img decoding="async" src="https://visopsys.org/wp-content/uploads/2016/09/dlbig.jpg" alt="dlbig" width="334" height="136"></a></h4>
<ol>
<li>Small &amp; fast</li>
<li>Graphical user interface</li>
<li>Fully multitasking</li>
<li>100% protected mode</li>
<li>Open source, free software</li>
</ol>
<hr>
<h4>News</h4>
<p>[21.09.2023] – Version 0.92 is now available from the <a href="https://visopsys.org/download/">download page</a><br>
[30.07.2021] – Version 0.91 was released<br>
[16.04.2020] – Version 0.9 was released<br>
[21.01.2020] – Version 0.85 was released<br>
[15.05.2019] – Version 0.84 was released<br>
[09.08.2018] – Version 0.83 was released</p>
<p><a href="https://visopsys.org/news/">Older news</a>…</p>
	</div><!-- .entry-content -->
</article><!-- #post-14 -->
		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[SailfishOS: A Linux-based European alternative to dominant mobile OSes (323 pts)]]></title>
            <link>https://sailfishos.org/info/</link>
            <guid>45785840</guid>
            <pubDate>Sat, 01 Nov 2025 22:05:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sailfishos.org/info/">https://sailfishos.org/info/</a>, See on <a href="https://news.ycombinator.com/item?id=45785840">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Sailfish OS’s heritage lies in Nokia times, especially in the MeeGo operating system. Prior to 2011 Nokia and Intel had a vision of an open mobile operating system. Together they invested around 1 billion USD to the project and created an open source based operating system called MeeGo, which was used as a basis for several devices, such as the iconic Nokia N9. Although the Nokia N9 became the beacon of open source operating systems, Nokia decided to end the project and chose instead to continue with Microsoft’s Windows Phone OS. The rest of that is another story.</p>
<p>The passionate team behind MeeGo refused to quit working on the project they’ve believed in. They, or currently ‘we’ saved MeeGo by setting up a new company, Jolla Ltd., to develop the swipe-based MeeGo into the flowing user experience that is Sailfish OS. We quickly enhanced Sailfish OS to run Android apps and it became hardware compatible with Android chipsets. In November 2013, we launched the beta version of Sailfish OS to the market with the Jolla smartphone. Shortly after this, we released Sailfish OS version 1.0 and the first Sailfish OS product, the Jolla smartphone entered 36 markets during one year. In 2015, Sailfish OS 2.0. was released along with the Jolla Tablet, and a strengthened focus on the company’s licensing strategy.</p>
<p>In 2018 Sailfish OS matured to its third generation offering a packetized, secure solution for various corporate and governmental environments, and a smooth and secure mobile OS for tech-savvy consumers through the Sailfish X community program.&nbsp;The fourth generation, Sailfish 4, introduced in February 2021, boasts a multitude of new enablers to support different ecosystem projects, be it private corporate solutions or public sector governmental deployments.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[From 400 Mbps to 1.7 Gbps: A WiFi 7 Debugging Journey (152 pts)]]></title>
            <link>https://blog.tymscar.com/posts/wifi7speedhunt/</link>
            <guid>45784729</guid>
            <pubDate>Sat, 01 Nov 2025 19:50:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.tymscar.com/posts/wifi7speedhunt/">https://blog.tymscar.com/posts/wifi7speedhunt/</a>, See on <a href="https://news.ycombinator.com/item?id=45784729">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>I recently upgraded from a <a href="https://techcrunch.com/2019/12/02/the-unifi-dream-machine-router-is-a-great-entry-point-for-networking-nerds">UniFi Dream Machine</a> to a <a href="https://techspecs.ui.com/unifi/cloud-gateways/udr7">UniFi Dream Router 7</a> because I’m getting 2.5 Gbps internet in two weeks and figured I’d jump on the WiFi 7 bandwagon while I’m at it. My iPhone 17 Pro Max supports it, so why not? After setting everything up, I was getting nowhere near the speeds I expected. Time for some debugging.</p><h2 id="the-disappointing-numbers">The disappointing numbers<a href="#the-disappointing-numbers" arialabel="Anchor">#</a></h2><p>My wired connection was pulling 950 Mbps through a 1 Gbps switch, and iperf3 directly to the UDR7’s 2.5 Gbps port showed around 2.3 Gbps. The backbone was solid. But on WiFi 7 (6 GHz, 160 MHz width), standing literally a foot from the router, I was getting around 400 Mbps with iperf3. With 10 concurrent streams it went up to 650 Mbps, but that’s still pathetic.</p><p>A quick note on my testing: I was using iperf3’s <code>-R</code> flag (reverse mode) which makes the server send data to the client instead of the other way around. This typically gives better results on WiFi since the AP has stronger transmit power than phones, and the phone only needs to send tiny ACKs back.</p><p>Meanwhile, <a href="https://www.rtings.com/router/reviews/unifi/dream-router-7">reviewers were getting 1,635 Mbps average on 6 GHz with the UDR7</a>, with peaks up to 1,890 Mbps. There’s even <a href="https://www.youtube.com/watch?v=fSovy5LzYvM">a YouTube video showing an iPhone 17 Pro Max hitting 1.9 Gb/s on 6 GHz 160 MHz</a>. I was getting a third of that.</p><h2 id="false-start-1-maybe-im-testing-wrong">False start #1: “Maybe I’m testing wrong”<a href="#false-start-1-maybe-im-testing-wrong" arialabel="Anchor">#</a></h2><p>I created a dedicated 6 GHz-only network with 160 MHz channel width on Auto transmit power. The spectrum was clean with no other 6 GHz broadcasts. I wondered if maybe 160 MHz was causing issues, so I tried switching to 80 MHz width to test that theory - but that made things worse at 374 Mbps total. So it wasn’t that 160 MHz was broken; something else was going on. Moving the iperf server from the UDR itself to my MacBook over Ethernet improved things to 727 Mbps, but still nowhere near the expected speeds.</p><p>At this point I knew <a href="https://5gstore.com/blog/2025/09/16/apple-n1-chip-wifi-7-iphone-17/">the phone could only do 160 MHz width, not 320 MHz</a> - that’s what Apple’s N1 chip is limited to. I hadn’t enabled IPS/IDS or QOS yet, though I was planning to since the UDR7 can handle it at full 2.5 Gbps.</p><h2 id="finding-the-first-bottleneck">Finding the first bottleneck<a href="#finding-the-first-bottleneck" arialabel="Anchor">#</a></h2><p>After banging my head against this for hours, I had a hypothesis about my test setup. My wired MacBook could hit 2.3 Gbps to the router, so the network was fine. But looking at my iperf3 results when testing WiFi against 10.0.0.1 (the router itself), I wondered if that was the issue:</p><div><pre tabindex="0"><code data-lang="bash"><span><span>iperf3 -c 10.0.0.1 -P <span>6</span> -R -t <span>20</span> -w 2M
</span></span><span><span><span># ...</span>
</span></span><span><span><span>[</span>SUM<span>]</span>   0.00-20.01  sec  1.30 GBytes   <span>560</span> Mbits/sec    <span>0</span>             sender
</span></span></code></pre></div><p>Running iperf server on the router itself creates CPU contention between the WiFi scheduling and the iperf process. The router’s TCP stack isn’t tuned for this either. Classic mistake.</p><h2 id="false-start-2-its-a-25-gbe-problem">False start #2: “It’s a 2.5 GbE problem”<a href="#false-start-2-its-a-25-gbe-problem" arialabel="Anchor">#</a></h2><p>Moved the iperf server to my MacBook connected through a USB-C 2.5 GbE adapter. Verified the port negotiated at 2.5G in UniFi’s port settings. Ran the test again:</p><div><pre tabindex="0"><code data-lang="bash"><span><span>iperf3 -c &lt;mac_ip&gt; -P <span>6</span> -R -t <span>20</span>
</span></span><span><span><span># ...</span>
</span></span><span><span><span>[</span>SUM<span>]</span>   0.00-20.01  sec  1.67 GBytes   <span>718</span> Mbits/sec                  sender
</span></span></code></pre></div><p>Better, but still nowhere close to 1.9 Gbps. Time to check what UniFi was actually showing for the client connection during the test. That’s when I found the real problem.</p><h2 id="the-actual-issue-80-mhz-not-160-mhz">The actual issue: 80 MHz, not 160 MHz<a href="#the-actual-issue-80-mhz-not-160-mhz" arialabel="Anchor">#</a></h2><p>Looking at the UniFi client details while running iperf, I saw this:</p><pre tabindex="0"><code>Ch. 37 (6 GHz, 80 MHz)
Tx/Rx Rate: 1.20 Gbps
</code></pre><p>Wait, what? My iPhone was connecting at 80 MHz channel width, not 160 MHz. Even though I had configured the SSID for 160 MHz, the actual radio was still on 80 MHz. The 1.20 Gbps PHY rate is exactly what you’d expect for 2×2 MIMO at 80 MHz. That explained the 650-900 Mbps TCP throughput perfectly. When I had manually tested 80 MHz earlier and got worse speeds (374 Mbps), it was probably due to testing against the router itself rather than the channel width.</p><p>The fix was in the UDR7’s radio settings, not the SSID settings. I went to:</p><ul><li>Devices → UDR7 → Radios → 6 GHz</li><li>Set channel width explicitly to 160 MHz (not Auto)</li><li>Set transmit power to High</li></ul><h2 id="the-working-configuration">The working configuration<a href="#the-working-configuration" arialabel="Anchor">#</a></h2><p>After applying those changes and reconnecting:</p><div><pre tabindex="0"><code data-lang="bash"><span><span>iperf3 -c &lt;mac_ip&gt; -P <span>6</span> -R -t <span>20</span>
</span></span><span><span><span># ...</span>
</span></span><span><span><span>[</span>SUM<span>]</span>   0.00-20.01  sec  3.77 GBytes  1.62 Gbits/sec                  sender
</span></span></code></pre></div><p>Finally! The UniFi panel now showed:</p><ul><li>6 GHz, 160 MHz</li><li>Tx/Rx Rate: 2.4-2.9 Gbps</li></ul><p>That’s exactly the expected PHY rate for 2×2 WiFi 7 at 160 MHz with 4096-QAM.</p><h2 id="why-certain-iperf-flags-matter">Why certain iperf flags matter<a href="#why-certain-iperf-flags-matter" arialabel="Anchor">#</a></h2><p>During this journey I learned why specific iperf3 flags make such a huge difference:</p><p><strong>The <code>-R</code> flag (reverse mode)</strong>: As I mentioned earlier, this is crucial for WiFi testing. It’s faster because:</p><ul><li>The AP has higher transmit power and better antennas</li><li>The phone only has to send tiny ACKs back</li><li>iOS’s TCP receive path is better optimized than its send path</li><li>Phones transmit at much lower power on 6 GHz</li></ul><p><strong>Multiple streams (<code>-P 6</code>)</strong>: Overcomes single-flow TCP limitations like slow start, congestion window, and socket buffer limits. Four to eight streams usually hit peak; more gives diminishing returns.</p><p><strong>TCP window size (<code>-w 2M</code>)</strong>: Less critical on LAN where RTT is tiny, but can help with bursty traffic.</p><h2 id="why-no-22-client-hits-25-gbps-on-wifi">Why no 2×2 client hits 2.5 Gbps on WiFi<a href="#why-no-22-client-hits-25-gbps-on-wifi" arialabel="Anchor">#</a></h2><p>Even with everything optimized, I’ll never see 2.5 Gbps on my phone. Here’s why:</p><p>The fastest PHY a 2×2 client can negotiate on 160 MHz WiFi 7 is about 2.88 Gbps (4096-QAM, MCS13). But that’s the raw link rate. After overhead:</p><ul><li>MAC/PHY overhead (preambles, pilots, guard intervals, CSMA/CA backoff, block ACKs)</li><li>IP/TCP headers</li><li>Encryption overhead</li></ul><p>Best-case TCP “goodput” is typically 60-75% of PHY on a clean single-client link. So 60-75% of 2.88 Gbps gives you roughly 1.7-2.1 Gbps. That’s why reviews land around 1.6-1.9 Gbps.</p><p>To exceed 2.0-2.1 Gbps you’d need:</p><ul><li>320 MHz channels (not supported on iPhones)</li><li>More spatial streams (3×3 or 4×4, but phones are 2×2)</li><li>WiFi 7 MLO using multiple bands simultaneously</li></ul><h2 id="key-takeaways">Key takeaways<a href="#key-takeaways" arialabel="Anchor">#</a></h2><p>For anyone else trying to maximize their WiFi 7 speeds:</p><ol><li><strong>Don’t test against the router itself</strong> - Use a separate machine on &gt;=2.5 GbE</li><li><strong>Check your actual channel width</strong> - The client details panel tells the truth, not the SSID settings</li><li><strong>Set transmit power to High for testing</strong> - But use Auto/Medium for daily use to avoid uplink/downlink imbalance</li><li><strong>Use reverse mode with multiple streams</strong> - <code>iperf3 -c &lt;server&gt; -P 6 -R -t 20</code></li><li><strong>Stand 6-10 feet away</strong> - Too close can hurt signal quality</li></ol><p>After all this debugging, I’m now consistently seeing 1.6-1.7 Gbps on WiFi 7 with my iPhone. Not quite the headline 1.9 Gbps some reviewers got, but definitely in the expected range for real-world performance. More importantly, I understand exactly why the numbers are what they are.</p><p>Now I just need my ISP to actually deliver that 2.5 Gbps upgrade…</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Beginner-friendly, unofficial documentation for Helix text editor (189 pts)]]></title>
            <link>https://helix-editor.vercel.app/start-here/basics/</link>
            <guid>45784596</guid>
            <pubDate>Sat, 01 Nov 2025 19:33:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://helix-editor.vercel.app/start-here/basics/">https://helix-editor.vercel.app/start-here/basics/</a>, See on <a href="https://news.ycombinator.com/item?id=45784596">Hacker News</a></p>
<div id="readability-page-1" class="page"><div> <p>To get started check out the <a href="https://helix-editor.vercel.app/start-here/installation">installation instructions</a> in order to follow along with the tutorial.</p>
<h3 id="opening-a-file"><a href="#opening-a-file">Opening a file</a></h3>
<p>Create a new text file and open it with Helix by running <code dir="auto">hx file.txt</code>. This is what you’ll see:</p>
<pre><span>  </span><span><span color="#DBBFEF">  1</span></span><span>  </span><span><span color="#3B224C"> </span></span><span>                        </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> NOR   file.txt      1 sel  1:1 </span></span>
<span><span color="#A4A0E8">Loaded 1 file.</span></span><span>                  </span>
</pre>
<p>Notice the <code dir="auto">NOR</code> in the bottom-left corner, this indicates that you are currently in Normal mode. In this mode, typing letters like <kbd>e</kbd> and <kbd>n</kbd> won’t insert them as text, but rather have specific <em>commands</em> which we will explore later.</p>
<p>To actually insert some text, press <kbd>i</kbd>, which is the command to get into Insert mode, indicated by the <code dir="auto">INS</code> in the bottom-left corner. In this mode, the letters you type will be inserted directly into the document.</p>
<p>Try it out by writing <code dir="auto">Hello helix!</code>.</p>
<pre><span>  </span><span><span color="#DBBFEF">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> INS   file.txt [+] 1 sel  1:13 </span></span>
<span>                                </span>
</pre>
<p>To get back into Normal mode press <kbd>Esc</kbd>. This will change the color of your cursor and you will see <code dir="auto">NOR</code> again, indicating that you are in normal mode now.</p>
<h3 id="movement"><a href="#movement">Movement</a></h3>
<p>To move your cursor you could use arrow keys, both in Normal and Insert modes:</p>
<ul>
<li><kbd>↑</kbd> move cursor up</li>
<li><kbd>↓</kbd> move cursor down</li>
<li><kbd>→</kbd> moves cursor right</li>
<li><kbd>←</kbd> moves cursor left</li>
</ul>
<p>However, this isn’t encouraged due to the fact that hand will be doing a lot of back-and-forth movement between the arrow keys and the keyboard.</p>
<p>Instead, it is recommended to rest your fingers on the “home row”, which is comprised of the row of keys <code dir="auto">a s d f g h j k l</code>.</p>
<p>Instead of stretching to reach the arrow keys, use normal mode and <kbd>h</kbd>, <kbd>j</kbd>, <kbd>k</kbd> and <kbd>l</kbd> to move your cursor:</p>
<ul>
<li><kbd>h</kbd>: moves cursor 1 character to the left.</li>
<li><kbd>j</kbd>: moves cursor 1 line above.</li>
<li><kbd>k</kbd>: moves cursor 1 line below.</li>
<li><kbd>l</kbd>: moves cursor 1 character to the right.</li>
</ul>
<p>Try holding down <kbd>h</kbd> and <kbd>l</kbd> to move horizontally across the text you just wrote!</p>

<h3 id="paste"><a href="#paste">Paste</a></h3>
<p>We only have one line of text, so let’s duplicate it several times. Type:</p>
<ul>
<li><kbd>x</kbd>, which will select the entire line.</li>
<li><kbd>y</kbd>, which will <em><strong>y</strong>ank</em> (copy) the selection to clipboard.</li>
<li><kbd>p</kbd>, which will paste the contents of the selection after the cursor.</li>
</ul>
<p>Spam <kbd>p</kbd> a few times to create several lines.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">h</span></span><span><span color="#3B224C">e</span></span><span><span color="#A4A0E8">lix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> NOR   file.txt [+]  1 sel  3:8 </span></span>
<span>                                </span>
</pre>
<p>Now you can try using the <kbd>h</kbd>, <kbd>j</kbd>, <kbd>k</kbd> and <kbd>l</kbd> motions to traverse the text!</p>
<h3 id="word-based-movement"><a href="#word-based-movement">Word-based Movement</a></h3>
<p>Let’s say we want to replace one of the <code dir="auto">helix</code> words with <code dir="auto">world</code>. To do this, place your cursor on one of the <kbd>h</kbd> letters:</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#3B224C">h</span></span><span><span color="#A4A0E8">elix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> NOR   file.txt [+]  1 sel  3:7 </span></span>
<span>                                </span>
</pre>
<p><kbd>e</kbd> is a motion which moves to the <em><strong>e</strong>nd</em> of the current word. Type <kbd>e</kbd> and it will move your cursor to the end of the <code dir="auto">helix</code>.</p>
<p>It doesn’t just move your cursor there, though. The entire <code dir="auto">helix</code> word becomes highlighted:</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">heli</span></span><span><span color="#3B224C">x</span></span><span><span color="#A4A0E8">!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  3:11 </span></span>
<span>                                </span>
</pre>
<p>If we now press <kbd>b</kbd>, which moves to the <em><strong>b</strong>eginning</em> of the current word, it’ll move us back to where we just were.</p>
<p>Try this out a few times, press <kbd>e</kbd> and then <kbd>b</kbd> to select various sections of the text. If you want to remove your selection press <kbd>;</kbd>.</p>
<p>Let’s highlight our <code dir="auto">helix</code> word again:</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">heli</span></span><span><span color="#3B224C">x</span></span><span><span color="#A4A0E8">!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  3:11 </span></span>
<span>                                </span>
</pre>
<h3 id="selection-first-approach"><a href="#selection-first-approach">Selection-first Approach</a></h3>
<p>Helix’s philosophy is that each <strong>action</strong> will act on a selection.</p>
<p>Every time text is modified (an <strong>action</strong>), you will fully anticipate the result — because you can clearly see the area of text which is highlighted, and thus will be modified.</p>
<p>For example, we currently have the word <code dir="auto">helix</code> selected. To change it to <code dir="auto">world</code>, press <kbd>c</kbd>,</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">!</span></span><span><span color="#5A5977"> </span></span><span>                 </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> INS   file.txt [+]  1 sel  3:7 </span></span>
<span>                                </span>
</pre>
<p><kbd>c</kbd> removes the contents of the current selection and places us in Insert mode, where you can then write your new word. Exit back to Normal mode by pressing <kbd>esc</kbd>.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world</span></span><span><span color="#3B224C">!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  3:12 </span></span>
<span>                                </span>
</pre>
<h3 id="delete"><a href="#delete">Delete</a></h3>
<p>The <kbd>d</kbd> command deletes the current selection and copies what has been deleted into a clipboard.</p>
<p>Let’s test it out by doing the following:</p>
<ol>
<li>
<p>Select the line we just changed with <kbd>x</kbd>.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#3B224C"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  3:13 </span></span>
<span>                                </span>
</pre>
</li>
<li>
<p><kbd>d</kbd> to delete this line.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  3</span></span><span>  </span><span><span color="#3B224C">H</span></span><span><span color="#A4A0E8">ello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+]  1 sel  3:1 </span></span>
<span>                                </span>
</pre>
</li>
<li>
<p>Spam <kbd>p</kbd> a few times to create some duplicates.</p>
<pre><span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  6</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#3B224C"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  7</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  6:13 </span></span>
<span>                                </span>
</pre>
</li>
</ol>
<p>Let’s remove all of our previous <code dir="auto">Hello helix!</code> by doing the following for each <code dir="auto">Hello helix!</code> line:</p>
<ol>
<li>Select the line with <kbd>x</kbd>.</li>
<li><kbd>d</kbd> to delete it.</li>
</ol>
<p>Now we have something like this:</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  2</span></span><span>  </span><span><span color="#3B224C">H</span></span><span><span color="#A4A0E8">ello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span>                                </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+]  1 sel  2:1 </span></span>
<span>                                </span>
</pre>
<h3 id="undo-and-redo"><a href="#undo-and-redo">Undo and Redo</a></h3>
<p>What if we made a mistake, and want to go back? The <kbd>u</kbd> command will <em><strong>u</strong>ndo</em> our most recent action. It’s similar to <kbd>Ctrl</kbd> + <kbd>z</kbd> in other editors.</p>
<p>Try pressing down <kbd>u</kbd> a few times to get to our previous state, before we made all those modifications:</p>
<pre><span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  5</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#3B224C"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  6</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">helix!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  5:13 </span></span>
<span>                                </span>
</pre>
<p><kbd>U</kbd> is similar to <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>z</kbd> in other editors. It will <em>undo the last undo</em>. It’s the inverse of <kbd>u</kbd>.</p>
<p>Press <kbd>U</kbd> until we get back to our most recent state:</p>
<pre><span>  </span><span><span color="#DBBFEF">  1</span></span><span>  </span><span><span color="#3B224C">H</span></span><span><span color="#A4A0E8">ello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span>                                </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+]  1 sel  1:1 </span></span>
<span><span color="#A4A0E8">Already at newest change</span></span><span>        </span>
</pre>
<h3 id="checkpoint"><a href="#checkpoint">Checkpoint</a></h3>
<p>Feel free to make modifications to your file using the commands we have learned so far:</p>
<ul>
<li><kbd>h</kbd>, <kbd>j</kbd>, <kbd>k</kbd> and <kbd>l</kbd> moves 1 character left, down, up and right.</li>
<li><kbd>i</kbd> enters Insert mode.</li>
<li><kbd>esc</kbd> enters Normal mode.</li>
<li><kbd>x</kbd> selects the entire line.</li>
<li><kbd>y</kbd> yanks the selection.</li>
<li><kbd>p</kbd> pastes the recently copied selection.</li>
<li><kbd>e</kbd> selects and moves to the end of the current word.</li>
<li><kbd>b</kbd> selects and moves to the beginning of the current word.</li>
<li><kbd>;</kbd> removes the extra selection.</li>
<li><kbd>d</kbd> deletes the current selection, without exiting Normal mode.</li>
<li><kbd>c</kbd> changes the current selection, by deleting it and entering Insert mode.</li>
<li><kbd>u</kbd> will undo the most recent change.</li>
<li><kbd>U</kbd> will undo the most recent undo.</li>
</ul>
<p>Once you are happy with your modifications, enter Normal mode and type <kbd>:</kbd>.</p>
<p><kbd>:</kbd> enters <em>command mode</em>, which has commands you type out.</p>
<ul>
<li><code dir="auto">:w</code> will <em><strong>w</strong>rite</em> the current file.</li>
<li><code dir="auto">:q</code> will <em><strong>q</strong>uit</em> the current file.</li>
<li><code dir="auto">:q!</code> will quit without saving.</li>
<li><code dir="auto">:wq</code> will both write and quit.</li>
</ul>
<pre><span><span color="#171452">┌──────────────────────────────┐</span></span>
<span><span color="#171452">│ Write changes to disk and    │</span></span>
<span><span color="#171452">│ close the current view.      │</span></span>
<span><span color="#171452">│ Accepts an optional path     │</span></span>
<span><span color="#171452">└──────────────────────────────┘</span></span>
<span><span color="#A4A0E8">write-quit-all                  </span></span>
<span><span color="#A4A0E8">write-quit-all!                 </span></span>
<span><span color="#A4A0E8">:wq</span></span><span>                             </span>
</pre>
<h2 id="more-commands"><a href="#more-commands">More Commands</a></h2>
<p>Let’s try out more Helix commands! Open the file again with <code dir="auto">hx file.txt</code>. Select the entire file by pressing <kbd>%</kbd></p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  3</span></span><span>  </span><span><span color="#A4A0E8">Hello</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">world!</span></span><span><span color="#3B224C"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span>                                </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  3:13 </span></span>
<span>                                </span>
</pre>
<p>Now, delete the selection with <kbd>d</kbd>.</p>
<pre><span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#3B224C"> </span></span><span>                        </span>
<span>                                </span>
<span>                                </span>
<span>                                </span>
<span>                                </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+]  1 sel  1:1 </span></span>
<span>                                </span>
</pre>
<h3 id="goto-word"><a href="#goto-word">Goto Word</a></h3>
<p>Using <kbd>b</kbd> to go to the beginning of the word and <kbd>e</kbd> to go to the end is useful if you are already at the word you want. But if you are far away, a very powerful command is <em><strong>g</strong>oto <strong>w</strong>ord</em> — <kbd>gw</kbd>.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#F47868"><b>au</b></span></span><span><span color="#A4A0E8">e</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>at</b></span></span><span><span color="#A4A0E8">ates</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>as</b></span></span><span><span color="#A4A0E8">ll</span></span><span><span color="#5A5977"> </span></span><span>         </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#F47868"><b>ar</b></span></span><span><span color="#A4A0E8">d</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>ap</b></span></span><span><span color="#A4A0E8">e</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>an</b></span></span><span><span color="#A4A0E8">ouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>al</b></span></span><span><span color="#A4A0E8">ll</span></span><span><span color="#5A5977"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#F47868"><b>aj</b></span></span><span><span color="#A4A0E8">e</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>ah</b></span></span><span><span color="#A4A0E8">n</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>af</b></span></span><span><span color="#A4A0E8">ll</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  4</span></span><span>  </span><span><span color="#F47868"><b>ad</b></span></span><span><span color="#A4A0E8">d</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>ab</b></span></span><span><span color="#A4A0E8">e</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clou</span></span><span><span color="#3B224C">d</span></span><span><span color="#A4A0E8">s</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>aa</b></span></span><span><span color="#A4A0E8">ll</span></span><span><span color="#5A5977"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#F47868"><b>ac</b></span></span><span><span color="#A4A0E8">d</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>ae</b></span></span><span><span color="#A4A0E8">e</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>ag</b></span></span><span><span color="#A4A0E8">on</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>ai</b></span></span><span><span color="#A4A0E8">ll</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span>  </span><span><span color="#5A5977">  6</span></span><span>  </span><span><span color="#F47868"><b>ak</b></span></span><span><span color="#A4A0E8">d</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>am</b></span></span><span><span color="#A4A0E8">e</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>ao</b></span></span><span><span color="#A4A0E8">on</span></span><span><span color="#5A5977"> </span></span><span><span color="#F47868"><b>aq</b></span></span><span><span color="#A4A0E8">ll</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  4:13 </span></span>
<span>                 </span><span><span color="#A4A0E8">gw</span></span><span>             </span>
</pre>
<p><kbd>gw</kbd> will create two letters at the start of every word in sight. When you type those two letters, you instantly jump to the specified word.</p>
<p>Let’s say we want to jump to the <code dir="auto">plates</code> word. The first two characters have been replaced by <code dir="auto">at</code> and highlighted. If we write <code dir="auto">at</code>, we will highlight that word!</p>
<pre><span>  </span><span><span color="#DBBFEF">  1</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">plate</span></span><span><span color="#3B224C">s</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>         </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">sun</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span>  </span><span><span color="#5A5977">  6</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  1:10 </span></span>
<span>                                </span>
</pre>
<h3 id="replace"><a href="#replace">Replace</a></h3>
<p>You can also replace a selection with contents of a register.</p>
<ol>
<li>Select the <code dir="auto">moon</code> word by using <kbd>gw</kbd> and yank it with <kbd>y</kbd>.</li>
<li>Select the <code dir="auto">sun</code> word and replace it with <code dir="auto">moon</code> with <kbd>R</kbd>.</li>
</ol>
<h3 id="search"><a href="#search">Search</a></h3>
<p>Go to the first line by using <kbd>gg</kbd>.</p>
<p>To search for a word, use <kbd>/</kbd> command. Type <code dir="auto">will</code> which is going to highlight the next <code dir="auto">will</code> keyword, and then <kbd>Enter ↵</kbd> to select it.</p>
<p>Since there are several <code dir="auto">will</code>s in the text, you can cycle between them:</p>
<ul>
<li><kbd>n</kbd> cycles to the next match.</li>
<li><kbd>N</kbd> cycles to the previous match.</li>
</ul>
<h3 id="more-ways-to-enter-insert-mode"><a href="#more-ways-to-enter-insert-mode">More ways to enter Insert Mode</a></h3>
<p>Select the <code dir="auto">clouds</code> word using <kbd>gw</kbd>. If you press <kbd>i</kbd>, you will go into insert mode at the beginning of the selection. There are also 5 more ways to enter Insert mode:</p>
<ul>
<li><kbd>a</kbd> for <em><strong>append</strong></em> go into insert mode at the end of the selection</li>
<li><kbd>I</kbd> go into insert mode at the beginning of the current line</li>
<li><kbd>A</kbd> to append at the end of the current line</li>
<li><kbd>o</kbd> add a newline below and go into insert mode</li>
<li><kbd>O</kbd> add a newline above and go into insert mode</li>
</ul>
<p>Try all of them out!</p>
<h3 id="registers"><a href="#registers">Registers</a></h3>
<p>Helix has a concept called <em>registers</em>, which is like having many clipboards at once.</p>
<p>To interact with them, prefix yank and delete commands with a <kbd>”</kbd> and then the name of the register.</p>
<p>For example, the contents of the system clipboard are stored inside the <code dir="auto">+</code> register.</p>

<ol>
<li>
<p>Paste the following content into the file with <kbd>“+p</kbd>:</p>
<div><figure><pre data-language="plaintext"><code><div><p><span>The plates will</span></p></div><div><p><span>and the clouds will</span></p></div><div><p><span>The sun will</span></p></div><div><p><span>and the moon will</span></p></div></code></pre></figure></div>
</li>
<li>
<p>Navigate to the last line by using <kbd>ge</kbd> for <em><strong>g</strong>oto end</em>.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">plates</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>         </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">sun</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  4</span></span><span>  </span><span><span color="#A4A0E8">a</span></span><span><span color="#3B224C">n</span></span><span><span color="#A4A0E8">d</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+]  1 sel  4:2 </span></span>
<span>                                </span>
</pre>
</li>
<li>
<p>Select the last line with <kbd>x</kbd> and then yank it with <kbd>y</kbd>.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">plates</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>         </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">sun</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  4</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#3B224C"> </span></span><span>       </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  4:18 </span></span>
<span><span color="#A4A0E8">yanked 1 selection to register "</span></span>
</pre>
</li>
<li>
<p>Navigate to the second line by using <kbd>2gg</kbd>.</p>
</li>
<li>
<p>Select the second line by using <kbd>x</kbd> and then yank into into the <kbd>e</kbd> register with <kbd>“ey</kbd>.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">plates</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>         </span>
<span>  </span><span><span color="#DBBFEF">  2</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#3B224C"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">sun</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span>                                </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  2:20 </span></span>
<span><span color="#A4A0E8">yanked 1 selection to register e</span></span>
</pre>
</li>
<li>
<p>Navigate to the third line by using <kbd>3gg</kbd>.</p>
</li>
<li>
<p>Paste what we copied previously by using <kbd>p</kbd>.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">plates</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>         </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">sun</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  4</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#3B224C"> </span></span><span>       </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span>  </span><span><span color="#5A5977">  ~</span></span><span>  </span><span><span color="#5A5977"> </span></span><span>                        </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  4:18 </span></span>
<span>                                </span>
</pre>
</li>
</ol>
<p>Notice how we haven’t pasted the 2nd line’s contents, but rather the last lines’? Because we yanked the 2nd line’s contents into the <kbd>e</kbd> register. To paste from it, use <kbd>“ep</kbd>.</p>
<ul>
<li><kbd>”</kbd> signals to the editor that we are going to use a register.</li>
<li><kbd>e</kbd> uses the <kbd>e</kbd> register.</li>
<li><kbd>p</kbd> pastes contents of the <kbd>e</kbd> register.</li>
</ul>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">plates</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>         </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">sun</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#5A5977">  4</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span>  </span><span><span color="#DBBFEF">  5</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#3B224C"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  6</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  5:20 </span></span>
<span>                                </span>
</pre>
<p>Take note of the fact that when we press <kbd>p</kbd>, it pastes the contents of the register <em>after</em> the line. To paste <em>before</em>, we undo with <kbd>u</kbd> and use <kbd>P</kbd> to paste before.</p>
<pre><span>  </span><span><span color="#5A5977">  1</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">plates</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>         </span>
<span>  </span><span><span color="#5A5977">  2</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  3</span></span><span>  </span><span><span color="#A4A0E8">The</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">sun</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>            </span>
<span>  </span><span><span color="#DBBFEF">  4</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">clouds</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#3B224C"> </span></span><span>     </span>
<span>  </span><span><span color="#5A5977">  5</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span>  </span><span><span color="#5A5977">  6</span></span><span>  </span><span><span color="#A4A0E8">and</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">the</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">moon</span></span><span><span color="#5A5977"> </span></span><span><span color="#A4A0E8">will</span></span><span><span color="#5A5977"> </span></span><span>       </span>
<span><span color="#DBBFEF"> NOR   file.txt [+] 1 sel  4:20 </span></span>
<span>                                </span>
</pre>
<h3 id="move-to-characters"><a href="#move-to-characters">Move to characters</a></h3>
<p>You can also search for individual characters by using <kbd>t</kbd>, which stands for <em><strong>t</strong>ill</em>.</p>
<ol>
<li>
<p>Copy the text below</p>
<div><figure><pre data-language="plaintext"><code><div><p><span>Twilight fades; stars—whispering, bold—</span></p></div><div><p><span>"Hope," they hum; yet shadows unfold...</span></p></div><div><p><span>Life? A riddle—endless! Who'll dare,</span></p></div><div><p><span>to seek; to dream: to wander—where?</span></p></div></code></pre></figure></div>
</li>
<li>
<p>Select the entire file with <kbd>%</kbd></p>
</li>
<li>
<p>Override the selection by using <kbd>Space</kbd> + <kbd>R</kbd>.</p>
</li>
</ol>

<p>Go to the first line with <kbd>gg</kbd> and use <kbd>t;</kbd> to go to the next semicolon. Repeat this several several times.</p>
<p>To move in the opposite direction, use <kbd>T;</kbd> to the previous semicolon.</p>
<p>Using <kbd>t</kbd> and <kbd>T</kbd> motions will move your cursor <em>to just before</em> the next or the previous occurrence of the character.</p>
<p>For example, <kbd>te</kbd> to go to the next e. <kbd>T”</kbd> to go to just before the previous double-quote.</p>
<p>The <kbd>f</kbd> for <em><strong>f</strong>ind</em> is similar to <kbd>t</kbd>, but instead it places your cursor <em>at</em> the occurrence of the character. Try using <kbd>f;</kbd> several times. <kbd>F</kbd> goes the opposite way.</p>

<h3 id="counts"><a href="#counts">Counts</a></h3>
<p>Each motion also accepts an optional <em>count</em>, which defaults to 1 if you don’t provide it.</p>
<ul>
<li>For example, use <kbd>2f;</kbd> which would be the same as <kbd>f;f;</kbd>.</li>
<li>Or <kbd>7b</kbd> which would be the same as <kbd>bbbbbbb</kbd>.</li>
</ul>
<h3 id="page-navigation"><a href="#page-navigation">Page Navigation</a></h3>
<p>Currently the text is fairly short, but we can fix that. Select everything with <kbd>%</kbd>, yank <kbd>y</kbd> and then paste it 100 times with <kbd>100p</kbd>. This will create a very big file.</p>
<p>We can use these commands to scroll large chunks of text at once:</p>
<ul>
<li><kbd>Ctrl</kbd> + <kbd>d</kbd> to scroll down half a page</li>
<li><kbd>Ctrl</kbd> + <kbd>u</kbd> to scroll up half a page</li>
</ul>
<hr>
<h2 id="next-steps"><a href="#next-steps">Next steps</a></h2>
<p>Now you know the basics of movement in Helix, it’s time to learn about the more advanced features Helix provides.</p>
<ul>
<li>Explore advanced text manipulation techniques, such as <a href="https://helix-editor.vercel.app/usage/surround">surrounds</a> and <a href="https://helix-editor.vercel.app/usage/text-objects">text objects</a>.</li>
<li>Make full use of Helix’s powerful editing model by understanding how to use <a href="https://helix-editor.vercel.app/usage/multiple-cursors">multiple cursor and macros</a></li>
<li>Learn how to <a href="https://helix-editor.vercel.app/usage/language-support">enable language support</a> and auto-formatters.</li>
</ul> </div></div>]]></description>
        </item>
    </channel>
</rss>