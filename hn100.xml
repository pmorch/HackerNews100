<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Mon, 10 Jul 2023 01:00:06 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Using Lidar to map tree shadows (160 pts)]]></title>
            <link>https://tedpiotrowski.svbtle.com/using-lidar-for-tree-shadows-in-shademap</link>
            <guid>36658001</guid>
            <pubDate>Sun, 09 Jul 2023 19:28:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://tedpiotrowski.svbtle.com/using-lidar-for-tree-shadows-in-shademap">https://tedpiotrowski.svbtle.com/using-lidar-for-tree-shadows-in-shademap</a>, See on <a href="https://news.ycombinator.com/item?id=36658001">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="container">
  <article id="g3etMHMMG3awSk8PHwraSc">
	<time datetime="2023-07-09">July  9, 2023</time>
  <h2>
    <a href="https://tedpiotrowski.svbtle.com/using-lidar-for-tree-shadows-in-shademap">Using LiDAR to map tree shadows</a>
  </h2>
	<p><strong>tl;dr;</strong> <em>I can load LiDAR data to simulate tree shadows for any time of year, but the hardware demands and hosting costs may be prohibitive so I‚Äôm only sharing a small <a href="https://pub-2f76d53a7bba403bbf5ca35a8bf7e094.r2.dev/leaflet.html">demo</a> for now</em></p>

<p>Two years ago, I launched shademap.app, and since then, a common question I receive is: ‚ÄúWhere are the trees?‚Äù It‚Äôs a valid inquiry, considering I reside in the Pacific Northwest‚Äîa region known for its towering trees that significantly affect the amount of direct sunlight a location receives.</p>

<p>Here are two renderings of the shadows on Bainbridge Island for July 9th at 7:09 AM. Radar clearly misses 90% of the shadows cast because it does not include vegetation. Radar only reflects off the ground, making objects such as trees and buildings invisible. On the other hand, LiDAR reflects off all objects, creating a much richer model of the earth‚Äôs surface.</p>

<p><a href="https://svbtleusercontent.com/bY4zNi97cMS6orbwoJmDKg0xspap.jpg"><img src="https://svbtleusercontent.com/bY4zNi97cMS6orbwoJmDKg0xspap_small.jpg" alt="Radar vs LiDAR shadow simulation"></a></p>

<p>So why hasn‚Äôt ShadeMap included trees from the beginning? It‚Äôs because ShadeMap uses elevation data to simulate shadows and the only readily available world-wide elevation data sets come from <a href="https://en.wikipedia.org/wiki/Shuttle_Radar_Topography_Mission">radar</a>. Radar works at night time and penetrates clouds, so satellites are able to compile this data 24 hours per day from space.</p>

<p>LiDAR, on the other hand, is much more accurate but is collected from airplanes or drones and cannot penetrate fog and clouds. It‚Äôs much more time consuming and expensive to collect, leaving each local government to fund its surveying costs. However, I recently discovered that my state of Washington provides an extensive <a href="https://lidarportal.dnr.wa.gov/">LiDAR dataset</a> that covers large amounts of the state.</p>

<p><a href="https://svbtleusercontent.com/tF4Je2rM5W8N1eLXgDmybA0xspap.jpg"><img src="https://svbtleusercontent.com/tF4Je2rM5W8N1eLXgDmybA0xspap_small.jpg" alt="WA LiDAR portal"></a></p>

<p>I could finally fill in the gaps in my shadow simulation-for my own backyard, at least. But there was one problem. The data format was geared towards traditional GIS software (it‚Äôs a GeoTIFF) and not browser friends (like a JPG or PNG). In order to use the data, I would have to take 100‚Äôs of gigabytes of floating point, imperial feet, GeoTIFF files and slice them up into small fast-loading image tiles where metric meters are encoded as red, green and blue pixel values.</p>

<p>I bought a 1TB hard drive and started asking ChatGPT questions on how to convert the data. (ChatGPT is a marvelous assistant and has saved me hours of reading documentation and irrelevant Google search results) Once, I started to run the conversion process, I realized that my 16GB of RAM could not load these large data files and I had to rewrite the conversion code to just work with a small region of the map at a time. For the first time in a long time, I‚Äôm feeling the need for a more powerful machine‚Ä¶</p>

<p>And it works. Or actually‚Ä¶it‚Äôs working right now. I‚Äôm attempting to convert just the Seattle metropolitan area and it‚Äôs only about half way done after 12 hours. The tiles are over 15GB and growing. The simulations are incredible, but I‚Äôm not sure I want to sink money into hosting this data and making it publicly available. It‚Äôs a shame but it‚Äôs the sound financial decision for now.</p>

<p><a href="https://svbtleusercontent.com/pd7efcJtXN5f8vho7JVP9y0xspap.gif"><img src="https://svbtleusercontent.com/pd7efcJtXN5f8vho7JVP9y0xspap_small.gif" alt="LiDAR shadow simulation"></a></p>

<p>However, I can host small portions of this dataset for free so if you‚Äôre curious what my long-term vision for ShadeMap is, try this <a href="https://pub-2f76d53a7bba403bbf5ca35a8bf7e094.r2.dev/leaflet.html">demo</a></p>

<p>As always, follow me on <a href="https://twitter.com/shademap">Twitter</a> for frequent updates on this project or if you want to get in touch.</p>

  <figure id="kudo_g3etMHMMG3awSk8PHwraSc">
    <a href="#kudo">
      
    </a>
    <p>140</p>
    <p>Kudos</p>
  </figure>
  <figure id="kudo_side_g3etMHMMG3awSk8PHwraSc">
    <a href="#kudo">
      
    </a>
    <p>140</p>
    <p>Kudos</p>
  </figure>
</article>

</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bevy 0.11: ECS-driven game engine built in Rust (103 pts)]]></title>
            <link>https://bevyengine.org/news/bevy-0-11/</link>
            <guid>36657970</guid>
            <pubDate>Sun, 09 Jul 2023 19:25:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bevyengine.org/news/bevy-0-11/">https://bevyengine.org/news/bevy-0-11/</a>, See on <a href="https://news.ycombinator.com/item?id=36657970">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Thanks to <strong>166</strong> contributors, <strong>522</strong> pull requests, community reviewers, and our <a href="https://bevyengine.org/community/donate"><strong>generous sponsors</strong></a>, we're happy to announce the <strong>Bevy 0.11</strong> release on <a href="https://crates.io/crates/bevy">crates.io</a>!</p>
<p>For those who don't know, Bevy is a refreshingly simple data-driven game engine built in Rust. You can check out our <a href="https://bevyengine.org/learn/book/getting-started/">Quick Start Guide</a> to try it today. It's free and open source forever! You can grab the full <a href="https://github.com/bevyengine/bevy">source code</a> on GitHub. Check out <a href="https://bevyengine.org/assets">Bevy Assets</a> for a collection of community-developed plugins, games, and learning resources.</p>
<p>To update an existing Bevy App or Plugin to <strong>Bevy 0.11</strong>, check out our <a href="https://bevyengine.org/learn/migration-guides/0.10-0.11/">0.10 to 0.11 Migration Guide</a>.</p>
<p>Since our last release a few months ago we've added a <em>ton</em> of new features, bug fixes, and quality of life tweaks, but here are some of the highlights:</p>
<ul>
<li><strong>Screen Space Ambient Occlusion (SSAO)</strong>: Increase scene render quality by simulating occlusion of "indirect" diffuse light</li>
<li><strong>Temporal Anti-Aliasing (TAA)</strong>: A popular anti-aliasing technique that blends the current frame with past frames using motion vectors to smooth out artifacts</li>
<li><strong>Morph Targets</strong>: Animate vertex positions on meshes between predefined states. Great for things like character customization!</li>
<li><strong>Robust Constrast Adaptive Sharpening (RCAS)</strong>: Intelligently sharpens renders, which pairs nicely with TAA</li>
<li><strong>WebGPU Support</strong>: Bevy can now render on the web faster and with more features using the modern WebGPU web API</li>
<li><strong>Improved Shader Imports</strong>: Bevy shaders now support granular imports and other new features</li>
<li><strong>Parallax Mapping</strong>: Materials now support an optional depth map, giving flat surfaces a feel of depth through parallaxing the material's textures</li>
<li><strong>Schedule-First ECS APIs</strong>: A simpler and more ergonomic ECS system scheduling API</li>
<li><strong>Immediate Mode Gizmo Rendering</strong>: Easily and efficiently render 2D and 3D shapes for debugging and editor scenarios</li>
<li><strong>ECS Audio APIs</strong>: A more intuitive and idiomatic way to play back audio</li>
<li><strong>UI Borders</strong>: UI nodes can now have configurable borders!</li>
<li><strong>Grid UI Layout</strong>: Bevy UI now supports CSS-style grid layout</li>
<li><strong>UI Performance Improvements</strong>: The UI batching algorithm was changed, yielding significant performance wins</li>
</ul>
<h2 id="screen-space-ambient-occlusion">Screen Space Ambient Occlusion
<a href="#screen-space-ambient-occlusion">#</a>
</h2>

<p><b>Drag this image to compare</b></p>
<p><img alt="Without SSAO" src="https://bevyengine.org/news/bevy-0-11/no_ssao.png">
  <img alt="With SSAO" src="https://bevyengine.org/news/bevy-0-11/with_ssao.png">
</p>
<p><strong>SSAO Only</strong>
<img src="https://bevyengine.org/news/bevy-0-11/ssao_only.png" alt="ssao_only"></p>
<p>Bevy now supports Screen Space Ambient Occlusion (SSAO). While Bevy already supported shadows from direct lights
(<a href="https://docs.rs/bevy/0.11.0/bevy/pbr/struct.DirectionalLight.html"><code>DirectionalLight</code></a>, <a href="https://docs.rs/bevy/0.11.0/bevy/pbr/struct.PointLight.html"><code>PointLight</code></a>, <a href="https://docs.rs/bevy/0.11.0/bevy/pbr/struct.SpotLight.html"><code>SpotLight</code></a>) via shadow mapping, Bevy now supports shadows from <em>indirect</em> diffuse lighting such as <a href="https://docs.rs/bevy/0.11.0/bevy/pbr/struct.AmbientLight.html"><code>AmbientLight</code></a> or <a href="https://docs.rs/bevy/0.11.0/bevy/pbr/struct.EnvironmentMapLight.html"><code>EnvironmentMapLight</code></a>.</p>
<p>These shadows give scenes a more "grounded" feel, by estimating how much surrounding geometry blocks incoming light via the screen-space depth and normal prepasses. You can try it out in the new <a href="https://github.com/bevyengine/bevy/blob/v0.11.0/examples/3d/ssao.rs">SSAO example</a>.</p>
<p>Note that using SSAO with the newly added Temporal Anti-Aliasing leads to a <em>large</em> increase in quality and noise reduction.</p>
<p>Platform support is currently limited - Only Vulkan, DirectX12, and Metal are currently supported. WebGPU support will come at a later date. WebGL likely won't be supported because it doesn't have compute shaders.</p>
<p>Special thanks to Intel for their open source <a href="https://github.com/GameTechDev/XeGTAO">XeGTAO</a> project, which was a huge help in developing this feature.</p>
<h2 id="temporal-anti-aliasing">Temporal Anti-Aliasing
<a href="#temporal-anti-aliasing">#</a>
</h2>
<p>authors: @JMS55, @DGriffin91</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/aa.png" alt="aa"></p>
<p>Alongside MSAA and FXAA, Bevy now supports Temporal Anti-aliasing (TAA) as an anti-aliasing option.</p>
<p>TAA works by blending the newly rendered frame with past frames in order to smooth out aliasing artifacts in the image. TAA has become increasingly popular in the industry because of its ability to cover up so many rendering artifacts: it smooths out shadows (both global illumination and "casted" shadows), mesh edges, textures, and reduces specular aliasing of light on reflective surfaces. However because the "smoothing" effect is so apparent, some people prefer other methods.</p>
<p>Here's a quick rundown of the following advantages and disadvantages of each anti-aliasing method that Bevy supports:</p>
<ul>
<li><strong>Multi-Sample Antialiasing (MSAA)</strong>
<ul>
<li>Does a good job at smoothing the edges of meshes (anti geometric aliasing). Does not help with specular aliasing. Performance cost scales with triangle count, and performs very poorly on scenes with many triangles</li>
</ul>
</li>
<li><strong>Fast Approximate Antialiasing (FXAA)</strong>
<ul>
<li>Does a decent job of dealing with both geometric and specular aliasing. Very little performance cost in all scenes. Somewhat blurry and low quality results</li>
</ul>
</li>
<li><strong>Temporal Antialiasing (TAA)</strong>
<ul>
<li>Does a very good job at dealing with both geometric and specular aliasing. Does a good job at dealing with temporal aliasing, where high-frequency details flicker over time or as you move the camera around or as things animate. Performance cost is moderate, and scales only with screen resolution. Chance of "ghosting" where meshes or lighting effects may leave trails behind them that fade over time. Although TAA helps with reducing temporal aliasing, it may also introduce additional temporal aliasing, especially on thin geometry or texture detail rendered at a distance. Requires 2 view's worth of additional GPU memory, as well as enabling the motion vector and depth prepasses. Requires accurate motion vector and depth prepasses, which complicates custom materials</li>
</ul>
</li>
</ul>
<p>TAA implementations are a series of tradeoffs and rely on heuristics that are easy to get wrong. In Bevy 0.11, TAA is marked as an experimental feature for the following reasons:</p>
<ul>
<li>TAA does not currently work with the following Bevy features: skinning, morph targets, and parallax mapping</li>
<li>TAA currently tends to soften the image a bit, which can be worked around via post-process sharpening</li>
<li>Our TAA heuristics are not currently user-configurable (and these heuristics are likely to change and evolve)</li>
</ul>
<p>We will continue to improve quality, compatibility, and performance in future releases. Please report any bugs you encounter!</p>
<p>You can compare all of our anti-aliasing methods in Bevy's improved <a href="https://github.com/bevyengine/bevy/blob/v0.11.0/examples/3d/anti_aliasing.rs">anti-aliasing example</a>.</p>
<h2 id="robust-contrast-adaptive-sharpening">Robust Contrast Adaptive Sharpening
<a href="#robust-contrast-adaptive-sharpening">#</a>
</h2>
<p>authors: @Elabajaba</p>
<p>Effects like TAA and FXAA can cause the final render to become blurry. Sharpening post processing effects can help counteract that. In <strong>Bevy 0.11</strong> we've added a port of AMD's Robust Constrast Adaptive Sharpening (RCAS).</p>
<p><b>Drag this image to compare</b></p>
<p><img alt="TAA" src="https://bevyengine.org/news/bevy-0-11/rcas_off.png">
  <img alt="TAA+RCAS" src="https://bevyengine.org/news/bevy-0-11/rcas_on.png">
</p>
<p>Notice that the texture on the leather part of the helmet is much crisper!</p>
<h2 id="morph-targets">Morph Targets
<a href="#morph-targets">#</a>
</h2>
<p>authors: @nicopap, @cart</p>
<p>Bevy, since the 0.7 release, supports 3D animations.</p>
<p>But it only supported <em>skeletal</em> animations. Leaving on the sidewalk a common
animation type called <em>morph targets</em> (aka blendshapes, aka keyshapes, and a slew
of other name). This is the grandparent of all 3D character animation!
<a href="https://en.wikipedia.org/wiki/Crash_Bandicoot_(video_game)#Gameplay">Crash Bandicoot</a>'s run cycle used morph targets.</p>

<p>Character model by <a href="https://www.artstation.com/zambrah">Samuel Rosario</a> (¬© all rights reserved), used with permission. Modified by nicopap, using the <a href="https://studio.blender.org/characters/snow/v2/">Snow</a> character texture by Demeter Dzadik for Blender Studios <a href="https://creativecommons.org/licenses/by/4.0/">(üÖØ CC-BY)</a>.
</p>
<!-- The previous paragraph requires the <a href> tags, since zola doesn't
process markdown markup within tags -->
<p>Nowadays, an animation artist will typically use a skeleton rig for wide
moves and morph targets to clean up the detailed movements.</p>
<p>When it comes to game assets, however, the complex skeleton rigs used by
artists for faces and hands are too heavy. Usually, the poses are
"baked" into morph poses, and facial expression transitions are handled
in the engine through morph targets.</p>
<p>Morph targets is a very simple animation method. Take a model, have a base
vertex position, move the vertices around to create several poses:</p>

<p>Store those poses as a difference between the default base mesh and the variant
pose, then, at runtime, <em>mix</em> each pose. Now that we have the difference with
the base mesh, we can get the variant pose by simply adding to the base
vertices positions.</p>
<p>That's it, the morph target shader looks like this:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span><span>fn</span> </span><span>morph_vertex</span></span><span><span><span>(</span><span>vertex</span><span>:</span> Vertex</span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>for</span> <span><span>(</span>var i<span>:</span> <span>u32</span> <span>=</span> 0u<span>;</span> i <span>&lt;</span> <span>pose_count</span><span><span>(</span></span><span><span>)</span></span><span>;</span> i<span>+</span><span>+</span></span><span><span>)</span></span> <span><span>{</span>
        <span>let</span> weight <span>=</span> <span>weight_for_pose</span><span><span>(</span>i</span><span><span>)</span></span><span>;</span>
        vertex<span>.</span>position <span>+=</span> weight <span>*</span> <span>get_difference</span><span><span>(</span>vertex<span>.</span>index<span>,</span> position_offset<span>,</span> i</span><span><span>)</span></span><span>;</span>
        vertex<span>.</span>normal <span>+=</span> weight <span>*</span> <span>get_difference</span><span><span>(</span>vertex<span>.</span>index<span>,</span> normal_offset<span>,</span> i</span><span><span>)</span></span><span>;</span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<p>In Bevy, we store the weights per pose in the <code>MorphWeights</code> component.</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span><span>fn</span> </span><span>set_weights_system</span></span><span><span><span>(</span><span>mut</span> <span>morph_weights</span><span>:</span> <span>Query<span>&lt;</span><span>&amp;</span><span>mut</span> MorphWeights<span>&gt;</span></span></span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>for</span> <span>mut</span> entity_weights <span>in</span> <span>&amp;</span><span>mut</span> morph_weights <span><span>{</span>
        <span>let</span> weights <span>=</span> entity_weights<span>.</span><span>weights_mut</span><span><span>(</span></span><span><span>)</span></span><span>;</span>

        weights<span><span>[</span><span>0</span><span>]</span></span> <span>=</span> <span>0.</span><span>5</span><span>;</span>
        weights<span><span>[</span><span>1</span><span>]</span></span> <span>=</span> <span>0.</span><span>25</span><span>;</span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<p>Now assuming that we have two morph targets, (1) the frown pose, (2)
the smirk pose:</p>
<div>
<div>
  <p><b>[0.0, 0.0]</b></p>
  <p>default pose</p>
  <p><img alt="Neutral face expression" src="https://bevyengine.org/news/bevy-0-11/morph_target_default-0.png">
</p></div>
<div>
  <p><b>[1.0, 0.0]</b></p>
  <p>frown only</p>
  <p><img alt="Frowning" src="https://bevyengine.org/news/bevy-0-11/morph_target_frown-0.png">
</p></div>
<div>
  <p><b>[0.0, 1.0]</b></p>
  <p>smirk only</p>
  <p><img alt="Smirking" src="https://bevyengine.org/news/bevy-0-11/morph_target_smirk.png">
</p></div>
<div>
  <p><b>[0.5, 0.0]</b></p>
  <p>half frown</p>
  <p><img alt="Slightly frowning" src="https://bevyengine.org/news/bevy-0-11/morph_target_frown-half-0.png">
</p></div>
<div>
  <p><b>[1.0, 1.0]</b></p>
  <p>both at max</p>
  <p><img alt="Making faces" src="https://bevyengine.org/news/bevy-0-11/morph_target_both-0.png">
</p></div>
<div>
  <p><b>[0.5, 0.25]</b></p>
  <p>bit of both</p>
  <p><img alt="Slightly frowning/smirking" src="https://bevyengine.org/news/bevy-0-11/morph_target_smirk-quarter-frown-half-0.png">
</p></div>
</div>
<p>While conceptually simple, it requires communicating to the GPU a tremendous
amount of data. Thousand of vertices, each 288 bits, several model variations,
sometimes a hundred.</p>
<p>We store the vertex data as pixels in a 3D texture. This allows morph targets to not only
run on WebGPU, but also on the WebGL2 wgpu backend.</p>
<p>This could be improved in a number of ways, but it is sufficient for an
initial implementation.</p>

<h2 id="parallax-mapping">Parallax Mapping
<a href="#parallax-mapping">#</a>
</h2>
<p>author: @nicopap</p>
<p>Bevy now supports parallax mapping and depth maps. Parallax mapping puts normal
maps to shame when it comes to giving "illusion of depth" to a material. The top half of this video uses parallax mapping plus a normal map, whereas the bottom half only uses a normal map:</p>

<p>earth view, elevation &amp; night view by NASA (public domain)</p>
<p>Notice how it is not merely the shading of pixels that changes, but their
actual position on screen. The mountaintops hide mountain ridges behind
themselves. High mountains move faster than coastal areas.</p>
<p>Parallax mapping moves pixels according to the perspective and depth on the
surface of the geometry. Adding true 3D depth to flat surfaces.</p>
<p>All of that, without adding a single vertex to the geometry. The whole globe
has exactly 648 vertices. Unlike a more primitive shader, such as displacement
mapping, parallax mapping only requires an additional grayscale image, called
the <code>depth_map</code>.</p>
<p>Games often use parallax mapping for cobblestones or brick walls, so
let's make a brick wall in Bevy! First, we spawn a mesh:</p>
<pre data-lang="rust"><code data-lang="rust"><span>commands<span>.</span><span>spawn</span><span><span>(</span>PbrBundle <span><span>{</span>
    mesh<span>:</span> meshes<span>.</span><span>add</span><span><span>(</span><span>shape<span>::</span></span><span>Box<span>::</span></span>new<span><span>(</span><span>30.</span><span>0</span><span>,</span> <span>10.</span><span>0</span><span>,</span> <span>1.</span><span>0</span></span><span><span>)</span></span><span>.</span><span>into</span><span><span>(</span></span><span><span>)</span></span></span><span><span>)</span></span><span>,</span>
    material<span>:</span> materials<span>.</span><span>add</span><span><span>(</span>StandardMaterial <span><span>{</span>
        base_color<span>:</span> <span>Color<span>::</span></span><span>WHITE</span><span>,</span>
        <span>..</span><span>default</span><span><span>(</span></span><span><span>)</span></span>
    </span><span><span>}</span></span></span><span><span>)</span></span><span>,</span>
    <span>..</span><span>default</span><span><span>(</span></span><span><span>)</span></span>
</span><span><span>}</span></span></span><span><span>)</span></span><span>;</span>
</span></code></pre>
<p><img src="https://bevyengine.org/news/bevy-0-11/parallax_mapping_none_mini.jpg" alt="A 3D desert scene with two flat white walls and a pebble path winding between them"></p>
<p>Of course, it's just a flat white box, we didn't add any texture.
So let's add a normal map:</p>
<pre data-lang="rust"><code data-lang="rust"><span>normal_map_texture<span>:</span> <span>Some</span><span><span>(</span>assets<span>.</span><span>load</span><span><span>(</span><span><span>"</span>normal_map.png<span>"</span></span></span><span><span>)</span></span></span><span><span>)</span></span><span>,</span>
</span></code></pre>
<p><img src="https://bevyengine.org/news/bevy-0-11/parallax_mapping_normals_mini.jpg" alt="The same scene with normal maps"></p>
<p>This is much better. The shading changes according to the light direction too!
However, the specular highlights on the corner are overbearing, almost noisy.</p>
<p>Let's see how a depth map can help:</p>
<pre data-lang="rust"><code data-lang="rust"><span>depth_map<span>:</span> <span>Some</span><span><span>(</span>assets<span>.</span><span>load</span><span><span>(</span><span><span>"</span>depth_map.png<span>"</span></span></span><span><span>)</span></span></span><span><span>)</span></span><span>,</span>
</span></code></pre>
<p><img src="https://bevyengine.org/news/bevy-0-11/parallax_mapping_depth_mini.jpg" alt="The same scene with a depth texture"></p>
<p>We eliminated the noise! There is also that sweet 3D feel reminiscent of
90's games pre-rendered cinematic sequences.</p>
<p>So what's going on, why does parallax mapping eliminate the ugly specular
lights on the wall?</p>
<p>This is because parallax mapping insets the ridges between bricks, so that they
are occluded by the bricks themselves.</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/ridge-light-view-1.svg" alt="Illustration of the previous paragraph"></p>
<p>Since normal maps do not "move" the shaded areas, merely shade them
differently, we get those awkward specular highlights. With parallax mapping,
they are gone.</p>
<p><b>Drag this image to compare</b></p>
<p><img alt="Normal Mapping Only" src="https://bevyengine.org/news/bevy-0-11/parallax_mapping_normals.jpg">
  <img alt="Parallax &amp; Normal Mapping" src="https://bevyengine.org/news/bevy-0-11/parallax_mapping_depth.jpg">
</p>
<p>Parallax mapping in Bevy is still very limited. The most painful aspect is that
it is not a standard glTF feature, meaning that the depth texture needs to be
programmatically added to materials if they came from a GLTF file.</p>
<p>Additionally, parallax mapping is incompatible with the temporal antialiasing
shader, doesn't work well on curved surfaces, and doesn't affect object's
silhouettes.</p>
<p>However, those are not fundamental limitations of parallax mapping, and may be
fixed in the future.</p>
<h2 id="skyboxes">Skyboxes
<a href="#skyboxes">#</a>
</h2>
<p>authors: @JMS55, @superdump</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/skybox.png" alt="skybox"></p>
<p>Bevy now has built-in support for displaying an HDRI environment as your scene background.</p>
<p>Simply attach the new <a href="https://docs.rs/bevy/0.11.0/bevy/core_pipeline/struct.Skybox.html"><code>Skybox</code></a> component to your <a href="https://docs.rs/bevy/0.11.0/bevy/render/camera/struct.Camera.html"><code>Camera</code></a>. It pairs well with the existing <a href="https://docs.rs/bevy/0.11.0/bevy/pbr/struct.EnvironmentMapLight.html"><code>EnvironmentMapLight</code></a>, which will use the environment map to light the scene.</p>
<p>We also plan to add support for built-in procedural skyboxes sometime in the future!</p>
<h2 id="webgpu-support">WebGPU Support
<a href="#webgpu-support">#</a>
</h2>
<p>authors: @mockersf, many others throughout Bevy's development</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/webgpu.svg" alt="webgpu"></p>
<p>Bevy now supports WebGPU rendering on the web (in addition to WebGL 2). WebGPU support is still rolling out, but if you have <a href="https://caniuse.com/webgpu">a supported web browser</a> you can explore our new <a href="https://bevyengine.org/examples-webgpu">live WebGPU examples</a> page.</p>
<h3 id="what-is-webgpu">What is WebGPU?
<a href="#what-is-webgpu">#</a>
</h3>
<p>WebGPU is an <a href="https://github.com/gpuweb/gpuweb">exciting new web standard</a> for doing modern GPU graphics and compute. It takes inspiration from Vulkan, Direct3D 12, and Metal. In fact, it is generally implemented on top of these APIs under the hood. WebGPU gives us access to more GPU features than WebGL2 (such as compute shaders) and also has the potential to be much faster. It means that more of Bevy's native renderer features are now also available on the web. It also uses the new <a href="https://www.w3.org/TR/WGSL">WGSL shader language</a>. We're very happy with how WGSL has evolved over time and Bevy uses it internally for our shaders. We also added usability features like imports! But with Bevy you still have the option to use GLSL if you prefer.</p>
<h3 id="how-it-works">How it Works
<a href="#how-it-works">#</a>
</h3>
<p>Bevy is built on top of the <a href="https://github.com/gfx-rs/wgpu">wgpu</a> library, which is a modern low-level GPU API that can target pretty much every popular API: Vulkan, Direct3D 12, Metal, OpenGL, WebGL2, and WebGPU. The best backend API is selected for a given platform. It is a "native" rendering API, but it generally follows the WebGPU terminology and API design. Unlike WebGPU, it can provide direct access to the native APIs, which means Bevy <a href="https://bevyengine.org/news/bevy-webgpu/#how-it-works">enjoys a "best of all worlds" situation</a>.</p>
<h3 id="webgpu-examples">WebGPU Examples
<a href="#webgpu-examples">#</a>
</h3>
<p>Click one of the images below to check out our live WebGPU examples (if your <a href="https://caniuse.com/webgpu">browser supports it</a>):</p>
<p><a href="https://bevyengine.org/examples-webgpu"><img src="https://bevyengine.org/news/bevy-0-11/webgpu_examples.png" alt="webgpu examples"></a></p>
<h2 id="improved-shader-imports">Improved Shader Imports
<a href="#improved-shader-imports">#</a>
</h2>
<p>authors: @robtfm</p>
<p>Bevy's rendering engine has a lot of great options and features. For example, the PBR <code>StandardMaterial</code> pipeline supports desktop/webgpu and webgl, 6 optional mesh attributes, 4 optional textures, and a plethora of optional features like fog, skinning, and alpha blending modes, with more coming in every release.</p>
<p>Many feature combos need specialized shader variants, and with over 3000 lines of shader code split over 50 files in total, the text-substitution-based shader processor was beginning to creak at the seams.</p>
<p>This release we've switched to using <a href="https://github.com/bevyengine/naga_oil">naga_oil</a>, which gives us a module-based shader framework. It compiles each file individually to naga's IR and then combines them into a final shader on demand. This doesn't have much visible impact yet, but it does give a few immediate benefits:</p>

<p>The future possibilities are more exciting. Using naga IR opens the door to a bunch of nice features that we hope to bring in future releases:</p>
<ul>
<li>Automatic bind slot allocation will let plugins extend the core view bindgroup, which means self-contained plugins for features like lighting and shadow methods, common material properties, etc become viable. This will allow us to modularise the core pipelines to make growing the codebase - while keeping support for multiple targets - more sustainable</li>
<li>"Virtual" shader functions will allow user modifications to core functions (like lighting), and potentially lead to a template-style material system, where users can provide "hooks" that will be called at the right point in the pipeline</li>
<li>Language interop: mix and match glsl and wgsl, so bevy's pbr pipeline features could be accessed from your glsl material shader, or utils written for glsl could be used in wgsl code. We're hopeful that this can extend to spirv (and rust-gpu) as well</li>
<li>More cool stuff we haven't thought of yet. Being able to inspect and modify shaders at runtime is very powerful and makes a lot of things possible!</li>
</ul>
<h2 id="ui-node-borders">UI Node Borders
<a href="#ui-node-borders">#</a>
</h2>
<p>authors: @ickshonpe</p>
<p>UI nodes now draws borders, whose color can be configured with the new <a href="https://docs.rs/bevy/0.11.0/bevy/ui/struct.BorderColor.html"><code>BorderColor</code></a> component:</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/borders.png" alt="borders"></p>
<pre data-lang="rust"><code data-lang="rust"><span>commands<span>.</span><span>spawn</span><span><span>(</span>ButtonBundle <span><span>{</span>
    style<span>:</span> Style <span><span>{</span>
        border<span>:</span> <span>UiRect<span>::</span></span>all<span><span>(</span><span>Val<span>::</span></span>Px<span><span>(</span><span>5.</span><span>0</span></span><span><span>)</span></span></span><span><span>)</span></span><span>,</span>
        <span>..</span><span>default</span><span><span>(</span></span><span><span>)</span></span>
    </span><span><span>}</span></span><span>,</span>
    border_color<span>:</span> BorderColor<span><span>(</span><span>Color<span>::</span></span>rgb<span><span>(</span><span>0.</span><span>9</span><span>,</span> <span>0.</span><span>9</span><span>,</span> <span>0.</span><span>9</span></span><span><span>)</span></span></span><span><span>)</span></span><span>,</span>
    <span>..</span><span>default</span><span><span>(</span></span><span><span>)</span></span>
</span><span><span>}</span></span></span><span><span>)</span></span>
</span></code></pre>
<p>Each side of the border is configurable:</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/border-sides.png" alt="border sides"></p>
<h2 id="grid-ui-layout">Grid UI Layout
<a href="#grid-ui-layout">#</a>
</h2>
<p>authors: @nicoburns</p>
<p>In Bevy UI we wired up the new <code>grid</code> feature in the layout library we use (<a href="https://github.com/DioxusLabs/taffy">Taffy</a>). This enables CSS-style grid layouts:</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/grid.png" alt="grid"></p>
<p>This can be configured on the <a href="https://docs.rs/bevy/0.11.0/bevy/ui/struct.Style.html"><code>Style</code></a> component:</p>
<pre data-lang="rust"><code data-lang="rust"><span>Style <span><span>{</span>
    <span><span>///</span> Use grid layout for this node
</span>    display<span>:</span> <span>Display<span>::</span></span>Grid<span>,</span>
    <span><span>///</span> Make the grid have a 1:1 aspect ratio
</span>    <span><span>///</span> This means the width will adjust to match the height
</span>    aspect_ratio<span>:</span> <span>Some</span><span><span>(</span><span>1.</span><span>0</span></span><span><span>)</span></span><span>,</span>
    <span><span>//</span> Add 24px of padding around the grid
</span>    padding<span>:</span> <span>UiRect<span>::</span></span>all<span><span>(</span><span>Val<span>::</span></span>Px<span><span>(</span><span>24.</span><span>0</span></span><span><span>)</span></span></span><span><span>)</span></span><span>,</span>
    <span><span>///</span> Set the grid to have 4 columns all with sizes minmax(0, 1fr)
</span>    <span><span>///</span> This creates 4 exactly evenly sized columns
</span>    grid_template_columns<span>:</span> <span>RepeatedGridTrack<span>::</span></span>flex<span><span>(</span><span>4</span><span>,</span> <span>1.</span><span>0</span></span><span><span>)</span></span><span>,</span>
    <span><span>///</span> Set the grid to have 4 rows all with sizes minmax(0, 1fr)
</span>    <span><span>///</span> This creates 4 exactly evenly sized rows
</span>    grid_template_rows<span>:</span> <span>RepeatedGridTrack<span>::</span></span>flex<span><span>(</span><span>4</span><span>,</span> <span>1.</span><span>0</span></span><span><span>)</span></span><span>,</span>
    <span><span>///</span> Set a 12px gap/gutter between rows and columns
</span>    row_gap<span>:</span> <span>Val<span>::</span></span>Px<span><span>(</span><span>12.</span><span>0</span></span><span><span>)</span></span><span>,</span>
    column_gap<span>:</span> <span>Val<span>::</span></span>Px<span><span>(</span><span>12.</span><span>0</span></span><span><span>)</span></span><span>,</span>
    <span>..</span><span>default</span><span><span>(</span></span><span><span>)</span></span>
</span><span><span>}</span></span><span>,</span>
</span></code></pre>
<h2 id="schedule-first-ecs-apis">Schedule-First ECS APIs
<a href="#schedule-first-ecs-apis">#</a>
</h2>
<p>authors: @cart</p>
<p>In <strong>Bevy 0.10</strong> we introduced <a href="https://bevyengine.org/news/bevy-0-10/#ecs-schedule-v3">ECS Schedule V3</a>, which <em>vastly</em> improved the capabilities of Bevy ECS system scheduling: scheduler API ergonomics, system chaining, the ability to run exclusive systems and apply deferred system operations at any point in a schedule, a single unified schedule, configurable System Sets, run conditions, and a better State system.</p>
<p>However it pretty quickly became clear that the new system still had some areas to improve:</p>
<ul>
<li><strong>Base Sets were hard to understand and error prone</strong>: What <em>is</em> a Base Set? When do I use them? Why do they exist? Why is my ordering implicitly invalid due to incompatible Base Set ordering? Why do some schedules have a default Base Set while others don't? <a href="https://github.com/bevyengine/bevy/pull/8079#base-set-confusion">Base Sets were confusing!</a></li>
<li><strong>There were too many ways to schedule a System</strong>: We've accumulated too many scheduling APIs. As of Bevy <strong>0.10</strong>, we had <a href="https://github.com/bevyengine/bevy/pull/8079#unify-system-apis"><em>SIX</em> different ways to add a system to the "startup" schedule</a>. Thats too many ways!</li>
<li><strong>Too much implicit configuration</strong>: There were both default Schedules and default Base Sets. In some cases systems had default schedules or default base sets, but in other cases they didn't! <a href="https://github.com/bevyengine/bevy/pull/8079#schedule-should-be-clear">A system's schedule and configuration should be explicit and clear</a>.</li>
<li><strong>Adding Systems to Schedules wasn't ergonomic</strong>: Things like <code>add_system(foo.in_schedule(CoreSchedule::Startup))</code> were not fun to type or read. We created special-case helpers, such as <code>add_startup_system(foo)</code>, but <a href="https://github.com/bevyengine/bevy/pull/8079#ergonomic-system-adding">this required more internal code, user-defined schedules didn't benefit from the special casing, and it completely hid the <code>CoreSchedule::Startup</code> symbol!</a>.</li>
</ul>
<h3 id="unraveling-the-complexity">Unraveling the Complexity
<a href="#unraveling-the-complexity">#</a>
</h3>
<p>If your eyes started to glaze over as you tried to wrap your head around this, or phrases like "implicitly added to the <code>CoreSet::Update</code> Base Set" filled you with dread ... don't worry. After <a href="https://github.com/bevyengine/bevy/pull/8079">a lot of careful thought</a> we've unraveled the complexity and built something clear and simple.</p>
<p>In <strong>Bevy 0.11</strong> the "scheduling mental model" is <em>much</em> simpler thanks to <strong>Schedule-First ECS APIs</strong>:</p>
<pre data-lang="rust"><code data-lang="rust"><span>app
    <span>.</span><span>add_systems</span><span><span>(</span>Startup<span>,</span> <span><span>(</span>a<span>,</span> b</span><span><span>)</span></span></span><span><span>)</span></span>
    <span>.</span><span>add_systems</span><span><span>(</span>Update<span>,</span> <span><span>(</span>c<span>,</span> d<span>,</span> e</span><span><span>)</span></span></span><span><span>)</span></span>
    <span>.</span><span>add_systems</span><span><span>(</span>FixedUpdate<span>,</span> <span><span>(</span>f<span>,</span> g</span><span><span>)</span></span></span><span><span>)</span></span>
    <span>.</span><span>add_systems</span><span><span>(</span>PostUpdate<span>,</span> h</span><span><span>)</span></span>
    <span>.</span><span>add_systems</span><span><span>(</span>OnEnter<span><span>(</span><span>AppState<span>::</span></span>Menu</span><span><span>)</span></span><span>,</span> enter_menu</span><span><span>)</span></span>
    <span>.</span><span>add_systems</span><span><span>(</span>OnExit<span><span>(</span><span>AppState<span>::</span></span>Menu</span><span><span>)</span></span><span>,</span> exit_menu</span><span><span>)</span></span>
</span></code></pre>
<ul>
<li><strong>There is <em>exactly</em> one way to schedule systems</strong>
<ul>
<li>Call <code>add_systems</code>, state the schedule name, and specify one or more systems</li>
</ul>
</li>
<li><strong>Base Sets have been entirely removed in favor of Schedules, which have friendly / short names</strong>
<ul>
<li>Ex: The <code>CoreSet::Update</code> Base Set has become <code>Update</code></li>
</ul>
</li>
<li><strong>There is no implicit or implied configuration</strong>
<ul>
<li>Default Schedules and default Base Sets don't exist</li>
</ul>
</li>
<li><strong>The syntax is easy on the eyes and ergonomic</strong>
<ul>
<li>Schedules are first so they "line up" when formatted</li>
</ul>
</li>
</ul>
<details>
    <summary>To compare, expand this to see what it used to be!</summary>
<pre data-lang="rust"><code data-lang="rust"><span>app
    <span><span>//</span> Startup system variant 1.
</span>    <span><span>//</span> Has an implied default StartupSet::Startup base set
</span>    <span><span>//</span> Has an implied CoreSchedule::Startup schedule
</span>    <span>.</span><span>add_startup_systems</span><span><span>(</span><span><span>(</span>a<span>,</span> b</span><span><span>)</span></span></span><span><span>)</span></span>
    <span><span>//</span> Startup system variant 2.
</span>    <span><span>//</span> Has an implied default StartupSet::Startup base set
</span>    <span><span>//</span> Has an implied CoreSchedule::Startup schedule
</span>    <span>.</span><span>add_systems</span><span><span>(</span><span><span>(</span>a<span>,</span> b</span><span><span>)</span></span><span>.</span><span>on_startup</span><span><span>(</span></span><span><span>)</span></span></span><span><span>)</span></span>
    <span><span>//</span> Startup system variant 3.
</span>    <span><span>//</span> Has an implied default StartupSet::Startup base set
</span>    <span>.</span><span>add_systems</span><span><span>(</span><span><span>(</span>a<span>,</span> b</span><span><span>)</span></span><span>.</span><span>in_schedule</span><span><span>(</span><span>CoreSchedule<span>::</span></span>Startup</span><span><span>)</span></span></span><span><span>)</span></span>
    <span><span>//</span> Update system variant 1.
</span>    <span><span>//</span> `CoreSet::Update` base set and `CoreSchedule::Main` are implied
</span>    <span>.</span><span>add_system</span><span><span>(</span>c</span><span><span>)</span></span>
    <span><span>//</span> Update system variant 2 (note the add_system vs add_systems difference)
</span>    <span><span>//</span> `CoreSet::Update` base set and `CoreSchedule::Main` are implied
</span>    <span>.</span><span>add_systems</span><span><span>(</span><span><span>(</span>d<span>,</span> e</span><span><span>)</span></span></span><span><span>)</span></span>
    <span><span>//</span> No implied default base set because CoreSchedule::FixedUpdate doesn't have one
</span>    <span>.</span><span>add_systems</span><span><span>(</span><span><span>(</span>f<span>,</span> g</span><span><span>)</span></span><span>.</span><span>in_schedule</span><span><span>(</span><span>CoreSchedule<span>::</span></span>FixedUpdate</span><span><span>)</span></span></span><span><span>)</span></span>
    <span><span>//</span> `CoreSchedule::Main` is implied, in_base_set overrides the default CoreSet::Update set
</span>    <span>.</span><span>add_system</span><span><span>(</span>h<span>.</span><span>in_base_set</span><span><span>(</span><span>CoreSet<span>::</span></span>PostUpdate</span><span><span>)</span></span></span><span><span>)</span></span>
    <span><span>//</span> This has no implied default base set
</span>    <span>.</span><span>add_systems</span><span><span>(</span>enter_menu<span>.</span><span>in_schedule</span><span><span>(</span>OnEnter<span><span>(</span><span>AppState<span>::</span></span>Menu</span><span><span>)</span></span></span><span><span>)</span></span></span><span><span>)</span></span>
    <span><span>//</span> This has no implied default base set
</span>    <span>.</span><span>add_systems</span><span><span>(</span>exit_menu<span>.</span><span>in_schedule</span><span><span>(</span>OnExit<span><span>(</span><span>AppState<span>::</span></span>Menu</span><span><span>)</span></span></span><span><span>)</span></span></span><span><span>)</span></span>
</span></code></pre>
</details>
<p>Note that normal "system sets" still exist! You can still use sets to organize and order your systems:</p>
<pre data-lang="rust"><code data-lang="rust"><span>app<span>.</span><span>add_systems</span><span><span>(</span>Update<span>,</span> <span><span>(</span>
    <span><span>(</span>walk<span>,</span> jump</span><span><span>)</span></span><span>.</span><span>in_set</span><span><span>(</span>Movement</span><span><span>)</span></span><span>,</span>
    collide<span>.</span><span>after</span><span><span>(</span>Movement</span><span><span>)</span></span><span>,</span>
</span><span><span>)</span></span></span><span><span>)</span></span>
</span></code></pre>
<p>The <code>configure_set</code> API has also been adjusted for parity:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>//</span> Bevy 0.10
</span>app<span>.</span><span>configure_set</span><span><span>(</span>Foo<span>.</span><span>after</span><span><span>(</span>Bar</span><span><span>)</span></span><span>.</span><span>in_schedule</span><span><span>(</span>PostUpdate</span><span><span>)</span></span></span><span><span>)</span></span>
<span><span>//</span> Bevy 0.11
</span>app<span>.</span><span>configure_set</span><span><span>(</span>PostUpdate<span>,</span> Foo<span>.</span><span>after</span><span><span>(</span>Bar</span><span><span>)</span></span></span><span><span>)</span></span>
</span></code></pre>
<h2 id="nested-system-tuples-and-chaining">Nested System Tuples and Chaining
<a href="#nested-system-tuples-and-chaining">#</a>
</h2>
<p>authors: @cart</p>
<p>It is now possible to infinitely nest tuples of systems in a <code>.add_systems</code> call!</p>
<pre data-lang="rust"><code data-lang="rust"><span>app<span>.</span><span>add_systems</span><span><span>(</span>Update<span>,</span> <span><span>(</span>
    <span><span>(</span>a<span>,</span> <span><span>(</span>b<span>,</span> c<span>,</span> d<span>,</span> e</span><span><span>)</span></span><span>,</span> f</span><span><span>)</span></span><span>,</span>
    <span><span>(</span>g<span>,</span> h</span><span><span>)</span></span><span>,</span>
    i
</span><span><span>)</span></span></span><span><span>)</span></span>
</span></code></pre>
<p>At first glance, this might not seem very useful. But in combination with per-tuple configuration, it allows you to easily and cleanly express schedules:</p>
<pre data-lang="rust"><code data-lang="rust"><span>app<span>.</span><span>add_systems</span><span><span>(</span>Update<span>,</span> <span><span>(</span>
    <span><span>(</span>attack<span>,</span> defend</span><span><span>)</span></span><span>.</span><span>in_set</span><span><span>(</span>Combat</span><span><span>)</span></span><span>.</span><span>before</span><span><span>(</span>check_health</span><span><span>)</span></span>
    check_health<span>,</span>
    <span><span>(</span>handle_death<span>,</span> respawn</span><span><span>)</span></span><span>.</span><span>after</span><span><span>(</span>check_health</span><span><span>)</span></span>
</span><span><span>)</span></span></span><span><span>)</span></span>
</span></code></pre>
<p><code>.chain()</code> has also been adapted to support arbitrary nesting! The ordering in the example above could be rephrased like this:</p>
<pre data-lang="rust"><code data-lang="rust"><span>app<span>.</span><span>add_systems</span><span><span>(</span>Update<span>,</span>
    <span><span>(</span>
        <span><span>(</span>attack<span>,</span> defend</span><span><span>)</span></span><span>.</span><span>in_set</span><span><span>(</span>Combat</span><span><span>)</span></span>
        check_health<span>,</span>
        <span><span>(</span>handle_death<span>,</span> respawn</span><span><span>)</span></span>
    </span><span><span>)</span></span><span>.</span><span>chain</span><span><span>(</span></span><span><span>)</span></span>
</span><span><span>)</span></span>
</span></code></pre>
<p>This will run <code>attack</code> and <code>defend</code> first (in parallel), then <code>check_health</code>, then <code>handle_death</code> and <code>respawn</code> (in parallel).</p>
<p>This allows for powerful and expressive "graph-like" ordering expressions:</p>
<pre data-lang="rust"><code data-lang="rust"><span>app<span>.</span><span>add_systems</span><span><span>(</span>Update<span>,</span>
    <span><span>(</span>
        <span><span>(</span>a<span>,</span> <span><span>(</span>b<span>,</span> c<span>,</span> d</span><span><span>)</span></span><span>.</span><span>chain</span><span><span>(</span></span><span><span>)</span></span></span><span><span>)</span></span><span>,</span>
        <span><span>(</span>e<span>,</span> f</span><span><span>)</span></span><span>,</span>
    </span><span><span>)</span></span><span>.</span><span>chain</span><span><span>(</span></span><span><span>)</span></span>
</span><span><span>)</span></span>
</span></code></pre>
<p>This will run <code>a</code> in parallel with <code>b-&gt;c-&gt;d</code>, then after those have finished running it will run <code>e</code> and <code>f</code> in parallel.</p>
<h2 id="gizmos">Gizmos
<a href="#gizmos">#</a>
</h2>
<p>authors: @devil-ira, @jannik4, @lassade, @The5-1, @Toqozz, @nicopap</p>
<p>It is often helpful to be able to draw simple shapes and lines in 2D and 3D for things like editor controls, and debug views. Game development is a very "spatial" thing and being able to quickly draw shapes is the visual equivalent of "print line debugging". It helps answer questions like "is this ray casting in the right direction?" and "is this collider big enough?"</p>
<p>In <strong>Bevy 0.11</strong> we've added an "immediate mode" <a href="https://docs.rs/bevy/0.11.0/bevy/gizmos/gizmos/struct.Gizmos.html"><code>Gizmos</code></a> drawing API that makes these things easy and efficient. In 2D and 3D you can draw lines, rects, circles, arcs, spheres, cubes, line strips, and more!</p>
<p><strong>2D Gizmos</strong>
<img src="https://bevyengine.org/news/bevy-0-11/2d_gizmos.png" alt="2d gizmos">
<strong>3D Gizmos</strong>
<img src="https://bevyengine.org/news/bevy-0-11/3d_gizmos.png" alt="3d gizmos"></p>
<p>From any system you can spawn shapes into existence (for both 2D and 3D):</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span><span>fn</span> </span><span>system</span></span><span><span><span>(</span><span>mut</span> <span>gizmos</span><span>:</span> Gizmos</span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span><span>//</span> 2D
</span>    gizmos<span>.</span><span>line_2d</span><span><span>(</span><span>Vec2<span>::</span></span>new<span><span>(</span><span>0.</span><span>,</span> <span>0.</span></span><span><span>)</span></span><span>,</span> <span>Vec2<span>::</span></span>new<span><span>(</span><span>0.</span><span>,</span> <span>10.</span></span><span><span>)</span></span><span>,</span> <span>Color<span>::</span></span><span>RED</span></span><span><span>)</span></span><span>;</span>
    gizmos<span>.</span><span>circle_2d</span><span><span>(</span><span>Vec2<span>::</span></span>new<span><span>(</span><span>0.</span><span>,</span> <span>0.</span></span><span><span>)</span></span><span>,</span> <span>40.</span><span>,</span> <span>Color<span>::</span></span><span>BLUE</span></span><span><span>)</span></span><span>;</span>
    <span><span>//</span> 3D
</span>    gizmos<span>.</span><span>circle</span><span><span>(</span><span>Vec3<span>::</span></span><span>ZERO</span><span>,</span> <span>Vec3<span>::</span></span>Y<span>,</span> <span>3.</span><span>,</span> <span>Color<span>::</span></span><span>BLACK</span></span><span><span>)</span></span><span>;</span>
    gizmos<span>.</span><span>ray</span><span><span>(</span><span>Vec3<span>::</span></span>new<span><span>(</span><span>0.</span><span>,</span> <span>0.</span><span>,</span> <span>0.</span></span><span><span>)</span></span><span>,</span> <span>Vec3<span>::</span></span>new<span><span>(</span><span>5.</span><span>,</span> <span>5.</span><span>,</span> <span>5.</span></span><span><span>)</span></span><span>,</span> <span>Color<span>::</span></span><span>BLUE</span></span><span><span>)</span></span><span>;</span>
    gizmos<span>.</span><span>sphere</span><span><span>(</span><span>Vec3<span>::</span></span><span>ZERO</span><span>,</span> <span>Quat<span>::</span></span><span>IDENTITY</span><span>,</span> <span>3.</span><span>2</span><span>,</span> <span>Color<span>::</span></span><span>BLACK</span></span><span><span>)</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<p>Because the API is "immediate mode", gizmos will only be drawn on frames where they are "queued up", which means you don't need to worry about cleaning up gizmo state!</p>
<p>Gizmos are drawn in batches, which means they are very cheap. You can have hundreds of thousands of them!</p>
<h2 id="ecs-audio-apis">ECS Audio APIs
<a href="#ecs-audio-apis">#</a>
</h2>
<p>authors: @inodentry</p>
<p>Bevy's audio playback APIs have been reworked to integrate more cleanly with Bevy's ECS.</p>
<p>In previous versions of Bevy you would play back audio like this:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Resource</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>struct</span> </span><span><span>MyMusic</span> </span><span><span><span>{</span>
    <span>sink</span><span>:</span> <span>Handle<span>&lt;</span>AudioSink<span>&gt;</span></span>,
</span><span><span>}</span></span></span>

<span><span><span>fn</span> </span><span>play_music</span></span><span><span><span>(</span>
    <span>mut</span> <span>commands</span><span>:</span> Commands,
    <span>asset_server</span><span>:</span> <span>Res<span>&lt;</span>AssetServer<span>&gt;</span></span>,
    <span>audio</span><span>:</span> <span>Res<span>&lt;</span>Audio<span>&gt;</span></span>,
    <span>audio_sinks</span><span>:</span> <span>Res<span>&lt;</span><span>Assets<span>&lt;</span>AudioSink<span>&gt;</span></span><span>&gt;</span></span>
</span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>let</span> weak_handle <span>=</span> audio<span>.</span><span>play</span><span><span>(</span>asset_server<span>.</span><span>load</span><span><span>(</span><span><span>"</span>my_music.ogg<span>"</span></span></span><span><span>)</span></span></span><span><span>)</span></span><span>;</span>
    <span>let</span> strong_handle <span>=</span> audio_sinks<span>.</span><span>get_handle</span><span><span>(</span>weak_handle</span><span><span>)</span></span><span>;</span>
    commands<span>.</span><span>insert_resource</span><span><span>(</span>MyMusic <span><span>{</span>
        sink<span>:</span> strong_handle<span>,</span>
    </span><span><span>}</span></span></span><span><span>)</span></span><span>;</span>
</span><span><span>}</span></span></span>
</span></code></pre>
<p>That is a lot of boilerplate just to play a sound! Then to adjust playback you would access the <a href="https://docs.rs/bevy/0.11.0/bevy/audio/struct.AudioSink.html"><code>AudioSink</code></a> like this:</p>
<pre data-lang="rust"><code data-lang="rust"><span>
<span><span><span>fn</span> </span><span>pause_music</span></span><span><span><span>(</span><span>my_music</span><span>:</span> <span>Res<span>&lt;</span>MyMusic<span>&gt;</span></span>, <span>audio_sinks</span><span>:</span> <span>Res<span>&lt;</span><span>Assets<span>&lt;</span>AudioSink<span>&gt;</span></span><span>&gt;</span></span></span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>if</span> <span>let</span> <span>Some</span><span><span>(</span>sink</span><span><span>)</span></span> <span>=</span> audio_sinks<span>.</span><span>get</span><span><span>(</span><span>&amp;</span>my_music<span>.</span>sink</span><span><span>)</span></span> <span><span>{</span>
        sink<span>.</span><span>pause</span><span><span>(</span></span><span><span>)</span></span><span>;</span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<p>Treating audio playback as a resource created a number of problems and notably didn't play well with things like Bevy Scenes. In <strong>Bevy 0.11</strong>, audio playback is represented as an <a href="https://docs.rs/bevy/0.11.0/bevy/ecs/entity/struct.Entity.html"><code>Entity</code></a> with <a href="https://docs.rs/bevy/0.11.0/bevy/audio/type.AudioBundle.html"><code>AudioBundle</code></a> components:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Component</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>struct</span> </span><span><span>MyMusic</span></span><span>;</span>

<span><span><span>fn</span> </span><span>play_music</span></span><span><span><span>(</span><span>mut</span> <span>commands</span><span>:</span> Commands, <span>asset_server</span><span>:</span> <span>Res<span>&lt;</span>AssetServer<span>&gt;</span></span></span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    commands<span>.</span><span>spawn</span><span><span>(</span><span><span>(</span>
        AudioBundle <span><span>{</span>
            source<span>:</span> asset_server<span>.</span><span>load</span><span><span>(</span><span><span>"</span>my_music.ogg<span>"</span></span></span><span><span>)</span></span><span>,</span>
            <span>..</span><span>default</span><span><span>(</span></span><span><span>)</span></span>
        </span><span><span>}</span></span><span>,</span>
        MyMusic<span>,</span>
    </span><span><span>)</span></span></span><span><span>)</span></span><span>;</span>
</span><span><span>}</span></span></span>
</span></code></pre>
<p>Much simpler! To adjust playback you can query for the <a href="https://docs.rs/bevy/0.11.0/bevy/audio/struct.AudioSink.html"><code>AudioSink</code></a> component:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span><span>fn</span> </span><span>pause_music</span></span><span><span><span>(</span><span>query_music</span><span>:</span> <span>Query<span>&lt;</span><span>&amp;</span>AudioSink, <span>With<span>&lt;</span>MyMusic<span>&gt;</span></span><span>&gt;</span></span></span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>if</span> <span>let</span> <span>Ok</span><span><span>(</span>sink</span><span><span>)</span></span> <span>=</span> query<span>.</span><span>get_single</span><span><span>(</span></span><span><span>)</span></span> <span><span>{</span>
        sink<span>.</span><span>pause</span><span><span>(</span></span><span><span>)</span></span><span>;</span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<h2 id="global-audio-volume">Global Audio Volume
<a href="#global-audio-volume">#</a>
</h2>
<p>authors: @mrchantey</p>
<p>Bevy now has a global volume level which can be configured via the [<code>GlobalVolume</code>] resource:</p>
<pre data-lang="rust"><code data-lang="rust"><span>app<span>.</span><span>insert_resource</span><span><span>(</span><span>GlobalVolume<span>::</span></span>new<span><span>(</span><span>0.</span><span>2</span></span><span><span>)</span></span></span><span><span>)</span></span><span>;</span>
</span></code></pre>
<h2 id="resource-support-in-scenes">Resource Support in Scenes
<a href="#resource-support-in-scenes">#</a>
</h2>
<p>authors: @Carbonhell, @Davier</p>
<p>Bevy's scene format is a very useful tool for serializing and deserializing game state to and from scene files.</p>
<p>Previously, the captured state was limited to only entities and their components.
With <strong>Bevy 0.11</strong>, scenes now support serializing resources as well.</p>
<p>This adds a new <code>resources</code> field to the scene format:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>(</span>
    resources<span>:</span> <span><span>{</span>
        <span><span>"</span>my_game::stats::TotalScore<span>"</span></span><span>:</span> <span><span>(</span>
            score<span>:</span> <span>9001</span><span>,</span>
        </span><span><span>)</span></span><span>,</span>
    </span><span><span>}</span></span><span>,</span>
    entities<span>:</span> <span><span>{</span>
        <span><span>//</span> Entity scene data...
</span>    </span><span><span>}</span></span><span>,</span>
</span><span><span>)</span></span>
</span></code></pre>
<h2 id="scene-filtering">Scene Filtering
<a href="#scene-filtering">#</a>
</h2>
<p>authors: @MrGVSV</p>
<p>When serializing data to a scene, all components and <a href="https://bevyengine.org/news/bevy-0-11/#resource-support-in-scenes">resources</a> are serialized by default.
In previous versions, you had to use the given <code>TypeRegistry</code> to act as a filter, leaving out the types you don't want included.</p>
<p>In 0.11, there's now a dedicated <code>SceneFilter</code> type to make filtering easier, cleaner, and more intuitive.
This can be used with <a href="https://docs.rs/bevy/0.11.0/bevy/prelude/struct.DynamicSceneBuilder.html"><code>DynamicSceneBuilder</code></a> to have fine-grained control over what actually gets serialized.</p>
<p>We can <code>allow</code> a subset of types:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span>let</span> <span>mut</span> builder <span>=</span> <span>DynamicSceneBuilder<span>::</span></span>from_world<span><span>(</span><span>&amp;</span>world</span><span><span>)</span></span><span>;</span>
<span>let</span> scene <span>=</span> builder
    <span>.</span><span>allow<span>::</span></span><span><span>&lt;</span>ComponentA<span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span>
    <span>.</span><span>allow<span>::</span></span><span><span>&lt;</span>ComponentB<span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span>
    <span>.</span><span>extract_entity</span><span><span>(</span>entity</span><span><span>)</span></span>
    <span>.</span><span>build</span><span><span>(</span></span><span><span>)</span></span><span>;</span>
</span></code></pre>
<p>Or <code>deny</code> them:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span>let</span> <span>mut</span> builder <span>=</span> <span>DynamicSceneBuilder<span>::</span></span>from_world<span><span>(</span><span>&amp;</span>world</span><span><span>)</span></span><span>;</span>
<span>let</span> scene <span>=</span> builder
    <span>.</span><span>deny<span>::</span></span><span><span>&lt;</span>ComponentA<span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span>
    <span>.</span><span>deny<span>::</span></span><span><span>&lt;</span>ComponentB<span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span>
    <span>.</span><span>extract_entity</span><span><span>(</span>entity</span><span><span>)</span></span>
    <span>.</span><span>build</span><span><span>(</span></span><span><span>)</span></span><span>;</span>
</span></code></pre>
<h2 id="default-font">Default Font
<a href="#default-font">#</a>
</h2>
<p>authors: @mockersf</p>
<p>Bevy now supports a configurable default font and embeds a tiny default font (a minimal version of <a href="https://fonts.google.com/specimen/Fira+Mono">Fira Mono</a>). This is useful if you use a common font throughout your project. And it makes it easier to prototype new changes with a "placeholder font" without worrying about setting it on each node.</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/default_font.png" alt="default font"></p>
<h2 id="ui-texture-atlas-support">UI Texture Atlas Support
<a href="#ui-texture-atlas-support">#</a>
</h2>
<p>authors: @mwbryant</p>
<p>Previously UI <code>ImageBundle</code> Nodes could only use handles to full images without an ergonomic way to use <code>TextureAtlases</code> in UI.  In this release we add support for an <code>AtlasImageBundle</code> UI Node which brings the existing <code>TextureAtlas</code> support into UI.</p>
<p>This was achieved by merging the existing mechanisms that allows text rendering to select which glyph to use and the mechanisms that allow for <code>TextureAtlasSprite</code>.</p>

<h2 id="gamepad-rumble-api">Gamepad Rumble API
<a href="#gamepad-rumble-api">#</a>
</h2>
<p>authors: @johanhelsing, @nicopap</p>
<p>You can now use the <code>EventWriter&lt;GamepadRumbleRequest&gt;</code> system parameter to
trigger controllers force-feedback motors.</p>
<p><a href="https://crates.io/crates/gilrs"><code>gilrs</code></a>, the crate Bevy uses for gamepad support, allows controlling
force-feedback motors. Sadly, there were no easy way of accessing the
force-feedback API in Bevy without tedious bookkeeping.</p>
<p>Now Bevy has the <code>GamepadRumbleRequest</code> event to do just that.</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span><span>fn</span> </span><span>rumble_system</span></span><span><span><span>(</span>
    <span>gamepads</span><span>:</span> <span>Res<span>&lt;</span>Gamepads<span>&gt;</span></span>,
    <span>mut</span> <span>rumble_requests</span><span>:</span> <span>EventWriter<span>&lt;</span>GamepadRumbleRequest<span>&gt;</span></span>,
</span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>for</span> gamepad <span>in</span> gamepads<span>.</span><span>iter</span><span><span>(</span></span><span><span>)</span></span> <span><span>{</span>
        rumble_requests<span>.</span><span>send</span><span><span>(</span><span>GamepadRumbleRequest<span>::</span></span>Add <span><span>{</span>
            gamepad<span>,</span>
            duration<span>:</span> <span>Duration<span>::</span></span>from_secs<span><span>(</span><span>5</span></span><span><span>)</span></span><span>,</span>
            intensity<span>:</span> <span>GamepadRumbleIntensity<span>::</span></span><span>MAX</span><span>,</span>
        </span><span><span>}</span></span></span><span><span>)</span></span><span>;</span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<p>The <code>GamepadRumbleRequest::Add</code> event triggers a force-feedback motor,
controlling how long the vibration should last, the motor to activate,
and the vibration strength. <code>GamepadRumbleRequest::Stop</code> immediately stops all motors.</p>
<h2 id="new-default-tonemapping-method">New Default Tonemapping Method
<a href="#new-default-tonemapping-method">#</a>
</h2>
<p>authors: @JMS55</p>
<p>In <strong>Bevy 0.10</strong> we <a href="https://bevyengine.org/news/bevy-0-10/#more-tonemapping-choices">made tonemapping configurable with a ton of new tonemapping options</a>. In <strong>Bevy 0.11</strong> we've switched the default tonemapping method from "Reinhard luminance" tonemapping to "TonyMcMapface":</p>
<p><b>Drag this image to compare</b></p>
<p><img alt="Reinhard-luminance" src="https://bevyengine.org/news/bevy-0-11/tm_reinhard_luminance.png">
  <img alt="TonyMcMapface" src="https://bevyengine.org/news/bevy-0-11/tm_tonymcmapface.png">
</p>
<p>TonyMcMapface (<a href="https://github.com/h3r2tic/tony-mc-mapface">created by Tomasz Stachowiak</a>) is a much more neutral display transform that tries to stay as close to the input "light" as possible. This helps retain artistic choices in the scene. Notably, brights desaturate across the entire spectrum (unlike Reinhard luminance). It also works much better with bloom when compared to Reinhard luminance.</p>
<h2 id="entityref-queries">EntityRef Queries
<a href="#entityref-queries">#</a>
</h2>
<p>authors: @james7132</p>
<p><a href="https://docs.rs/bevy/0.11.0/bevy/ecs/world/struct.EntityRef.html"><code>EntityRef</code></a> now implements <a href="https://docs.rs/bevy/0.11.0/bevy/ecs/query/trait.WorldQuery.html"><code>WorldQuery</code></a>, which makes it easier to query for arbitrary components in your ECS systems:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span><span>fn</span> </span><span>system</span></span><span><span><span>(</span><span>query</span><span>:</span> <span>Query<span>&lt;</span>EntityRef<span>&gt;</span></span></span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>for</span> entity <span>in</span> <span>&amp;</span>query <span><span>{</span>
        <span>if</span> <span>let</span> <span>Some</span><span><span>(</span>mesh</span><span><span>)</span></span> <span>=</span> entity<span>.</span><span>get<span>::</span></span><span><span>&lt;</span><span>Handle<span>&lt;</span>Mesh<span>&gt;</span></span><span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span> <span><span>{</span>
            <span>let</span> transform <span>=</span> entity<span>.</span><span>get<span>::</span></span><span><span>&lt;</span>Transform<span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span><span>.</span><span>unwrap</span><span><span>(</span></span><span><span>)</span></span><span>;</span>
        </span><span><span>}</span></span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<p>Note that <a href="https://docs.rs/bevy/0.11.0/bevy/ecs/world/struct.EntityRef.html"><code>EntityRef</code></a> queries access every entity and every component in the entire <a href="https://docs.rs/bevy/0.11.0/bevy/ecs/world/struct.World.html"><code>World</code></a> by default. This means that they will conflict with any "mutable" query:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>///</span> These queries will conflict, making this system invalid
</span><span><span><span>fn</span> </span><span>system</span></span><span><span><span>(</span><span>query</span><span>:</span> <span>Query<span>&lt;</span>EntityRef<span>&gt;</span></span>, <span>mut</span> <span>enemies</span><span>:</span> <span>Query<span>&lt;</span><span>&amp;</span><span>mut</span> Enemy<span>&gt;</span></span></span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span> </span><span><span>}</span></span></span>
</span></code></pre>
<p>To resolve conflicts (or reduce the number of entities accessed), you can add filters:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>///</span> These queries will not conflict
</span><span><span><span>fn</span> </span><span>system</span></span><span><span><span>(</span>
    <span>players</span><span>:</span> <span>Query<span>&lt;</span>EntityRef, <span>With<span>&lt;</span>Player<span>&gt;</span></span><span>&gt;</span></span>,
    <span>mut</span> <span>enemies</span><span>:</span> <span>Query<span>&lt;</span><span>&amp;</span><span>mut</span> Enemy, <span>Without<span>&lt;</span>Player<span>&gt;</span></span><span>&gt;</span></span>
</span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span><span>//</span> only iterates players
</span>    <span>for</span> entity <span>in</span> <span>&amp;</span>players <span><span>{</span>
        <span>if</span> <span>let</span> <span>Some</span><span><span>(</span>mesh</span><span><span>)</span></span> <span>=</span> entity<span>.</span><span>get<span>::</span></span><span><span>&lt;</span><span>Handle<span>&lt;</span>Mesh<span>&gt;</span></span><span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span> <span><span>{</span>
            <span>let</span> transform <span>=</span> entity<span>.</span><span>get<span>::</span></span><span><span>&lt;</span>Transform<span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span><span>.</span><span>unwrap</span><span><span>(</span></span><span><span>)</span></span><span>;</span>
        </span><span><span>}</span></span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<p>Note that it will generally still be more ergonomic (and more efficient) to query for the components you want directly:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span><span>fn</span> </span><span>system</span></span><span><span><span>(</span><span>players</span><span>:</span> <span>Query<span>&lt;</span><span>(</span><span>&amp;</span>Transform, <span>&amp;</span><span>Handle<span>&lt;</span>Mesh<span>&gt;</span></span><span>)</span>, <span>With<span>&lt;</span>Player<span>&gt;</span></span><span>&gt;</span></span></span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>for</span> <span><span>(</span>transform<span>,</span> mesh</span><span><span>)</span></span> <span>in</span> <span>&amp;</span>players <span><span>{</span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<h2 id="screenshot-api">Screenshot API
<a href="#screenshot-api">#</a>
</h2>
<p>authors: @TheRawMeatball</p>
<p>Bevy now has a simple screenshot API that can save a screenshot of a given window to the disk:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span><span>fn</span> </span><span>take_screenshot</span></span><span><span><span>(</span>
    <span>mut</span> <span>screenshot_manager</span><span>:</span> <span>ResMut<span>&lt;</span>ScreenshotManager<span>&gt;</span></span>,
    <span>input</span><span>:</span> <span>Res<span>&lt;</span><span>Input<span>&lt;</span>KeyCode<span>&gt;</span></span><span>&gt;</span></span>,
    <span>primary_window</span><span>:</span> <span>Query<span>&lt;</span>Entity, <span>With<span>&lt;</span>PrimaryWindow<span>&gt;</span></span><span>&gt;</span></span>,
</span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>if</span> input<span>.</span><span>just_pressed</span><span><span>(</span><span>KeyCode<span>::</span></span>Space</span><span><span>)</span></span> <span><span>{</span>
        screenshot_manager
            <span>.</span><span>save_screenshot_to_disk</span><span><span>(</span>primary_window<span>.</span><span>single</span><span><span>(</span></span><span><span>)</span></span><span>,</span> <span><span>"</span>screenshot.png<span>"</span></span></span><span><span>)</span></span>
            <span>.</span><span>unwrap</span><span><span>(</span></span><span><span>)</span></span><span>;</span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<h2 id="rendertarget-textureview">RenderTarget::TextureView
<a href="#rendertarget-textureview">#</a>
</h2>
<p>authors: @mrchantey</p>
<p>The <a href="https://docs.rs/bevy/0.11.0/bevy/render/camera/struct.Camera.html"><code>Camera</code></a> <a href="https://docs.rs/bevy/0.11.0/bevy/render/camera/enum.RenderTarget.html"><code>RenderTarget</code></a> can now be set to a wgpu <a href="https://docs.rs/bevy/0.11.0/bevy/render/render_resource/struct.TextureView.html"><code>TextureView</code></a>. This allows 3rd party Bevy Plugins to manage a <a href="https://docs.rs/bevy/0.11.0/bevy/render/camera/struct.Camera.html"><code>Camera</code></a>'s texture. One particularly interesting use case that this enables is XR/VR support. A few community members have already <a href="https://github.com/bevyengine/bevy/issues/115#issuecomment-1436749201">proven this out!</a></p>
<h2 id="improved-text-wrapping">Improved Text Wrapping
<a href="#improved-text-wrapping">#</a>
</h2>
<p>authors: @ickshonpe</p>
<p>Previous versions of Bevy didn't properly wrap text because it calculated the actual text prior to calculating layout. <strong>Bevy 0.11</strong> adds a "text measurement step" that calculates the text size prior to layout, then computes the actual text <em>after</em> layout.</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/text_wrap.png" alt="text wrap"></p>
<p>There is also a new <code>NoWrap</code> variant on the <a href="https://docs.rs/bevy/0.11.0/bevy/text/enum.BreakLineOn.html"><code>BreakLineOn</code></a> setting, which can disable text wrapping entirely when that is desirable.</p>
<h2 id="faster-ui-render-batching">Faster UI Render Batching
<a href="#faster-ui-render-batching">#</a>
</h2>
<p>authors: @ickshonpe</p>
<p>We got a huge UI performance win for some cases by avoiding breaking up UI batches when the texture changes but the next node is untextured.</p>
<p>Here is a profile of our "many buttons" stress test. Red is before the optimization and Yellow is after:</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/ui_profile.png" alt="ui profile"></p>
<h2 id="better-reflect-proxies">Better Reflect Proxies
<a href="#better-reflect-proxies">#</a>
</h2>
<p>authors: @MrGVSV</p>
<p>Bevy's reflection API has a handful of structs which are collectively known as "dynamic" types.
These include <a href="https://docs.rs/bevy/0.11.0/bevy/reflect/struct.DynamicStruct.html"><code>DynamicStruct</code></a>, <a href="https://docs.rs/bevy/0.11.0/bevy/reflect/struct.DynamicTuple.html"><code>DynamicTuple</code></a>, and more, and they are used to dynamically construct types
of any shape or form at runtime.
These types are also used to create are commonly referred to as "proxies", which are dynamic types
that are used to represent an actual concrete type.</p>
<p>These proxies are what powers the <a href="https://docs.rs/bevy/0.11.0/bevy/reflect/trait.Reflect.html#tymethod.clone_value"><code>Reflect::clone_value</code></a> method, which generates these proxies under the hood
in order to construct a runtime clone of the data.</p>
<p>Unfortunately, this results in a few <a href="https://github.com/bevyengine/bevy/issues/6601">subtle footguns</a> that could catch users by surprise,
such as the hashes of proxies differing from the hashes of the concrete type they represent,
proxies not being considered equivalent to their concrete counterparts, and more.</p>
<p>While this release does not necessarily fix these issues, it does establish a solid foundation for fixing them in the future.
The way it does this is by changing how a proxy is defined.</p>
<p>Before 0.11, a proxy was only defined by cloning the concrete type's <a href="https://docs.rs/bevy/0.11.0/bevy/reflect/trait.Reflect.html#tymethod.type_name"><code>Reflect::type_name</code></a> string
and returning it as its own <code>Reflect::type_name</code>.</p>
<p>Now in 0.11, a proxy is defined by copying a reference to the static <a href="https://docs.rs/bevy/0.11.0/bevy/reflect/enum.TypeInfo.html"><code>TypeInfo</code></a> of the concrete type.
This will allow us to access more of the concrete type's type information dynamically, without requiring the <code>TypeRegistry</code>.
In a <a href="https://github.com/bevyengine/bevy/pull/8695">future release</a>, we will make use of this to store hashing and comparison strategies in the <code>TypeInfo</code> directly
in order to mitigate the proxy issues mentioned above.</p>
<h2 id="fromreflect-ergonomics"><code>FromReflect</code> Ergonomics
<a href="#fromreflect-ergonomics">#</a>
</h2>
<p>authors: @MrGVSV</p>
<p>Bevy's <a href="https://docs.rs/bevy_reflect/latest/bevy_reflect/index.html">reflection API</a> commonly passes around data using type-erased <code>dyn Reflect</code> trait objects.
This can usually be downcast back to its concrete type using <code>&lt;dyn Reflect&gt;::downcast_ref::&lt;T&gt;</code>;
however, this doesn't work if the underlying data has been converted to a "dynamic" representation
(e.g. <code>DynamicStruct</code> for struct types, <code>DynamicList</code> for list types, etc.).</p>
<pre data-lang="rust"><code data-lang="rust"><span><span>let</span> data<span>:</span> <span><span>Vec</span><span>&lt;</span><span>i32</span><span>&gt;</span></span> <span>=</span> <span>vec!</span><span><span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>]</span></span><span>;</span>

<span>let</span> reflect<span>:</span> <span>&amp;</span>dyn Reflect <span>=</span> <span>&amp;</span>data<span>;</span>
<span>let</span> cloned<span>:</span> <span><span>Box</span><span>&lt;</span>dyn Reflect<span>&gt;</span></span> <span>=</span> reflect<span>.</span><span>clone_value</span><span><span>(</span></span><span><span>)</span></span><span>;</span>

<span><span>//</span> `reflect` really is a `Vec&lt;i32&gt;`
</span><span>assert!</span><span><span>(</span>reflect<span>.</span><span>is<span>::</span></span><span><span>&lt;</span><span><span>Vec</span><span>&lt;</span><span>i32</span><span>&gt;</span></span><span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span></span><span><span>)</span></span><span>;</span>
<span>assert!</span><span><span>(</span>reflect<span>.</span><span>represents<span>::</span></span><span><span>&lt;</span><span><span>Vec</span><span>&lt;</span><span>i32</span><span>&gt;</span></span><span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span></span><span><span>)</span></span><span>;</span>

<span><span>//</span> `cloned` is a `DynamicList`, but represents a `Vec&lt;i32&gt;`
</span><span>assert!</span><span><span>(</span>cloned<span>.</span><span>is<span>::</span></span><span><span>&lt;</span>DynamicList<span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span></span><span><span>)</span></span><span>;</span>
<span>assert!</span><span><span>(</span>cloned<span>.</span><span>represents<span>::</span></span><span><span>&lt;</span><span><span>Vec</span><span>&lt;</span><span>i32</span><span>&gt;</span></span><span>&gt;</span></span><span><span>(</span></span><span><span>)</span></span></span><span><span>)</span></span><span>;</span>

<span><span>//</span> `cloned` is equivalent to the original `reflect`, despite not being a `Vec&lt;i32&gt;`
</span><span>assert!</span><span><span>(</span>cloned<span>.</span><span>reflect_partial_eq</span><span><span>(</span>reflect</span><span><span>)</span></span><span>.</span><span>unwrap_or_default</span><span><span>(</span></span><span><span>)</span></span></span><span><span>)</span></span><span>;</span>
</span></code></pre>
<p>To account for this, the <a href="https://docs.rs/bevy_reflect/latest/bevy_reflect/trait.FromReflect.html"><code>FromReflect</code></a> trait can be used to convert any <code>dyn Reflect</code> trait object
back into its concrete type‚Äî whether it is actually that type or a dynamic representation of it.
And it can even be called dynamically using the <a href="https://docs.rs/bevy_reflect/latest/bevy_reflect/struct.ReflectFromReflect.html"><code>ReflectFromReflect</code></a> type data.</p>
<p>Before 0.11, users had to be manually derive <code>FromReflect</code> for every type that needed it,
as well as manually register the <code>ReflectFromReflect</code> type data.
This made it cumbersome to use and also meant that it was often forgotten about,
resulting in reflection conversions difficulties for users downstream.</p>
<p>Now in 0.11, <code>FromReflect</code> is automatically derived and <code>ReflectFromReflect</code> is automatically registered for all types that derive <code>Reflect</code>.
This means most types will be <code>FromReflect</code>-capable by default,
thus reducing boilerplate and empowering logic centered around <code>FromReflect</code>.</p>
<p>Users can still opt out of this behavior by adding the <a href="https://docs.rs/bevy_reflect/latest/bevy_reflect/derive.Reflect.html#reflectfrom_reflect--false"><code>#[reflect(from_reflect = false)]</code></a> attribute to their type.</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Reflect</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>struct</span> </span><span><span>Foo</span></span><span>;</span>

<span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Reflect</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>#</span><span>[</span><span>reflect</span><span><span><span>(</span></span></span><span><span>from_reflect <span>=</span> false</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>struct</span> </span><span><span>Bar</span></span><span>;</span>

<span><span><span>fn</span> </span><span>test</span></span><span><span>&lt;</span>T<span>:</span> FromReflect<span>&gt;</span></span><span><span><span>(</span><span>value</span><span>:</span> T</span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span></span><span><span>}</span></span></span>

<span>test</span><span><span>(</span>Foo</span><span><span>)</span></span><span>;</span> <span><span>//</span> &lt;-- OK!
</span><span>test</span><span><span>(</span>Bar</span><span><span>)</span></span><span>;</span> <span><span>//</span> &lt;-- ERROR! `Bar` does not implement trait `FromReflect`
</span></span></code></pre>
<h2 id="deref-derive-attribute">Deref Derive Attribute
<a href="#deref-derive-attribute">#</a>
</h2>
<p>authors: @MrGVSV</p>
<p>Bevy code tends to make heavy use of the <a href="https://doc.rust-lang.org/rust-by-example/generics/new_types.html">newtype</a> pattern,
which is why we have dedicated derives for <a href="https://docs.rs/bevy/latest/bevy/prelude/derive.Deref.html"><code>Deref</code></a> and <a href="https://docs.rs/bevy/latest/bevy/prelude/derive.DerefMut.html"><code>DerefMut</code></a>.</p>
<p>This previously only worked for structs with a single field:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Resource<span>,</span> Deref<span>,</span> DerefMut</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>struct</span> </span><span><span>Score</span></span><span><span><span>(</span><span>i32</span></span><span>)</span></span><span>;</span>
</span></code></pre>
<p>For 0.11, we've improved these derives by adding the <code>#[deref]</code> attribute, which allows them to be used on structs with multiple fields.
This makes working with generic newtypes much easier:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Component<span>,</span> Deref<span>,</span> DerefMut</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>struct</span> </span><span><span><span>Health</span><span><span>&lt;</span>T<span>:</span> Character<span>&gt;</span></span></span></span><span> </span><span><span><span>{</span>
    <span><span>#</span><span>[</span><span>deref</span><span>]</span></span> <span><span>//</span> &lt;- use the `health` field as the `Deref` and `DerefMut` target
</span>    <span>health</span><span>:</span> <span>u16</span>,
    <span>_character_type</span><span>:</span> <span>PhantomData<span>&lt;</span>T<span>&gt;</span></span>,
</span><span><span>}</span></span></span>
</span></code></pre>
<h2 id="simpler-rendergraph-construction">Simpler RenderGraph Construction
<a href="#simpler-rendergraph-construction">#</a>
</h2>
<p>authors: @IceSentry, @cart</p>
<p>Adding <code>Node</code>s to the <code>RenderGraph</code> requires a lot of boilerplate. In this release, we tried to reduce this for most common operations. No existing APIs have been removed, these are only helpers made to simplify working with the <code>RenderGraph</code>.</p>
<p>We added the <code>RenderGraphApp</code> trait to the <code>App</code>. This trait contains various helper functions to reduce the boilerplate with adding nodes and edges to a graph.</p>
<p>Another pain point of <code>RenderGraph</code> <code>Node</code>s is passing the view entity through each node and manually updating the query on that view. To fix this we added a <code>ViewNode</code> trait and <code>ViewNodeRunner</code> that will automatically take care of running the <code>Query</code> on the view entity. We also made the view entity a first-class concept of the <code>RenderGraph</code>. So you can now access the view entity the graph is currently running on from anywhere in the graph without passing it around between each <code>Node</code>.</p>
<p>All these new APIs assume that your Node implements <code>FromWorld</code> or <code>Default</code>.</p>
<p>Here's what it looks like in practice for the <code>BloomNode</code>:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>//</span> Adding the node to the 3d graph
</span>render_app
    <span><span>//</span> To run a ViewNode you need to create a ViewNodeRunner
</span>    <span>.</span><span>add_render_graph_node<span>::</span></span><span><span>&lt;</span><span>ViewNodeRunner<span>&lt;</span>BloomNode<span>&gt;</span></span><span>&gt;</span></span><span><span>(</span>
        <span>CORE_3D</span><span>,</span>
        <span>core_3d<span>::</span></span><span>graph<span>::</span></span><span>node<span>::</span></span><span>BLOOM</span><span>,</span>
    </span><span><span>)</span></span><span>;</span>

<span><span>//</span> Defining the node
</span><span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Default</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>struct</span> </span><span><span>BloomNode</span></span><span>;</span>
<span><span>//</span> This can replace your `impl Node` block of any existing `Node` that operated on a view
</span><span><span>impl</span> </span><span>ViewNode <span>for</span></span><span> <span>BloomNode</span> </span><span><span><span>{</span>
    <span><span>//</span> You need to define your view query as an associated type
</span>    <span>type</span> <span>ViewQuery</span> <span>=</span> <span><span>(</span>
        <span>&amp;</span><span>'static</span> ExtractedCamera<span>,</span>
        <span>&amp;</span><span>'static</span> ViewTarget<span>,</span>
        <span>&amp;</span><span>'static</span> BloomSettings<span>,</span>
    </span><span><span>)</span></span><span>;</span>
    <span><span>//</span> You don't need Node::input() or Node::update() anymore. If you still need these they are still available but they have an empty default implementation.
</span>    <span><span><span>fn</span> </span><span>run</span></span><span><span><span>(</span>
        <span>&amp;</span><span>self</span>,
        <span>graph</span><span>:</span> <span>&amp;</span><span>mut</span> RenderGraphContext,
        <span>render_context</span><span>:</span> <span>&amp;</span><span>mut</span> RenderContext,
        <span><span>//</span> This is the result of your query. If it is empty the run function will not be called
</span>        <span><span>(</span></span><span><span>camera</span><span>,</span> <span>view_target</span><span>,</span> <span>bloom_settings</span></span><span><span>)</span></span>: <span>QueryItem<span>&lt;</span><span><span><span>Self</span><span>::</span></span></span>ViewQuery<span>&gt;</span></span>,
        <span>world</span><span>:</span> <span>&amp;</span>World,
    </span><span><span><span>)</span></span></span></span><span> <span><span>-&gt;</span> <span><span>Result</span><span>&lt;</span><span>(</span><span>)</span>, NodeRunError<span>&gt;</span></span></span> </span><span><span><span>{</span>
        <span><span>//</span> When using the ViewNode you probably won't need the view entity but here's how to get it if you do
</span>        <span>let</span> view_entity <span>=</span> graph<span>.</span><span>view_entity</span><span><span>(</span></span><span><span>)</span></span><span>;</span>

        <span><span>//</span> Run the node
</span>    </span><span><span>}</span></span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<h2 id="reflect-default-on-enum-variant-fields"><code>#[reflect(default)]</code> on Enum Variant Fields
<a href="#reflect-default-on-enum-variant-fields">#</a>
</h2>
<p>authors: @MrGVSV</p>
<p>When using the <code>FromReflect</code> trait, fields marked <code>#[reflect(default)]</code> will be set to their <code>Default</code> value if they don't exist on the reflected object.</p>
<p>Previously, this was only supported on struct fields.
Now, it is also supported on all enum variant fields.</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Reflect</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>enum</span> <span>MyEnum</span> <span><span>{</span>
    Data <span><span>{</span>
        <span><span>#</span><span>[</span><span>reflect</span><span><span><span>(</span></span></span><span><span>default</span></span><span><span><span>)</span></span></span><span>]</span></span>
        a<span>:</span> <span>u32</span><span>,</span>
        b<span>:</span> <span>u32</span><span>,</span>
    </span><span><span>}</span></span><span>,</span>
</span><span><span>}</span></span></span>

<span>let</span> <span>mut</span> data <span>=</span> <span>DynamicStruct<span>::</span></span>default <span><span>(</span></span><span><span>)</span></span><span>;</span>
data<span>.</span><span>insert</span><span><span>(</span><span><span>"</span>b<span>"</span></span><span>,</span> <span>1</span></span><span><span>)</span></span><span>;</span>

<span>let</span> dynamic_enum <span>=</span> <span>DynamicEnum<span>::</span></span>new<span><span>(</span><span><span>"</span>Data<span>"</span></span><span>,</span> data</span><span><span>)</span></span><span>;</span>

<span>let</span> my_enum <span>=</span> <span>MyEnum<span>::</span></span>from_reflect<span><span>(</span> <span>&amp;</span> dynamic_enum</span><span><span>)</span></span><span>.</span><span>unwrap</span><span><span>(</span></span><span><span>)</span></span><span>;</span>
<span>assert_eq!</span><span><span>(</span><span>u32</span><span><span>::</span></span>default<span><span>(</span></span><span><span>)</span></span><span>,</span> my_enum<span>.</span>a</span><span><span>)</span></span><span>;</span>
</span></code></pre>
<h2 id="delayed-asset-hot-reloading">Delayed Asset Hot Reloading
<a href="#delayed-asset-hot-reloading">#</a>
</h2>
<p>authors: @JMS55</p>
<p>Bevy now waits 50 milliseconds after an "asset changed on filesystem" event before reloading an asset. Reloading without a delay resulted in reading invalid asset contents on some systems. The wait time is configurable.</p>
<h2 id="custom-gltf-vertex-attributes">Custom glTF Vertex Attributes
<a href="#custom-gltf-vertex-attributes">#</a>
</h2>
<p>authors: @komadori</p>
<p>It is now possible to load meshes with custom vertex attributes from glTF files. Custom attributes can be mapped to Bevy's <a href="https://docs.rs/bevy/0.11.0/bevy/render/mesh/struct.MeshVertexAttribute.html"><code>MeshVertexAttribute</code></a> format used by the <a href="https://docs.rs/bevy/0.11.0/bevy/render/mesh/struct.Mesh.html"><code>Mesh</code></a> type in the <a href="https://docs.rs/bevy/0.11.0/bevy/gltf/struct.GltfPlugin.html"><code>GltfPlugin</code></a> settings. These attrtibutes can then be used in Bevy shaders. For an example, check out our <a href="https://github.com/bevyengine/bevy/blob/v0.11.0/examples/2d/custom_gltf_vertex_attribute.rs">new example</a>.</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/custom_vertex.png" alt="custom vertex attribute"></p>
<h2 id="stable-typepath">Stable TypePath
<a href="#stable-typepath">#</a>
</h2>
<p>authors: @soqb, @tguichaoua</p>
<p>Bevy has historically used <a href="https://doc.rust-lang.org/std/any/fn.type_name.html"><code>std::any::type_name</code></a> to identify Rust types with friendly names in a number of places: Bevy Reflect, Bevy Scenes, Bevy Assets, Bevy ECS, and others. Unfortunately, Rust makes no guarantees about the stability or format of <a href="https://doc.rust-lang.org/std/any/fn.type_name.html"><code>type_name</code></a>, which makes it theoretically shakey ground to build on (although in practice it has been stable so far).</p>
<p>There is also no built in way to retrieve "parts" of a type name. If you want the short name, the name of a generic type without its inner types, the module name, or the crate name, you must do string operations on the <a href="https://doc.rust-lang.org/std/any/fn.type_name.html"><code>type_name</code></a> (which can be error prone / nontrivial).</p>
<p>Additionally, <a href="https://doc.rust-lang.org/std/any/fn.type_name.html"><code>type_name</code></a> cannot be customized. In some cases an author might choose to identify a type with something other than its full module path (ex: if they prefer a shorter path or want to abstract out private / internal modules).</p>
<p>For these reasons, we've developed a new stable <a href="https://docs.rs/bevy/0.11.0/bevy/reflect/trait.TypePath.html"><code>TypePath</code></a>, which is automatically implemented for any type deriving <a href="https://docs.rs/bevy/0.11.0/bevy/reflect/trait.Reflect.html"><code>Reflect</code></a>. Additionally, it can be manually derived in cases where <a href="https://docs.rs/bevy/0.11.0/bevy/reflect/trait.Reflect.html"><code>Reflect</code></a> isn't derived.</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>mod</span> <span>my_mod</span> <span><span>{</span>
    <span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Reflect</span></span><span><span><span>)</span></span></span><span>]</span></span>
    <span><span>struct</span> </span><span><span>MyType</span></span><span>;</span>
</span><span><span>}</span></span></span>

<span><span>///</span> prints: "my_crate::my_mod::MyType"
</span><span>println!</span><span><span>(</span></span><span><span><span>"</span><span>{}</span><span>"</span></span></span><span><span>,</span> <span>MyType<span>::</span></span>type_path<span><span>(</span></span><span><span>)</span></span><span>)</span></span><span>;</span>
<span><span>///</span> prints: "MyType"
</span><span>println!</span><span><span>(</span></span><span><span><span>"</span><span>{}</span><span>"</span></span></span><span><span>,</span> <span>MyType<span>::</span></span>short_type_path<span><span>(</span></span><span><span>)</span></span><span>)</span></span><span>;</span>
<span><span>///</span> prints: "my_crate"
</span><span>println!</span><span><span>(</span></span><span><span><span>"</span><span>{}</span><span>"</span></span></span><span><span>,</span> <span>MyType<span>::</span></span>crate_name<span><span>(</span></span><span><span>)</span></span><span>.</span><span>unwrap</span><span><span>(</span></span><span><span>)</span></span><span>)</span></span><span>;</span>
<span><span>///</span> prints: "my_crate::my_mod"
</span><span>println!</span><span><span>(</span></span><span><span><span>"</span><span>{}</span><span>"</span></span></span><span><span>,</span> <span>MyType<span>::</span></span>module_path<span><span>(</span></span><span><span>)</span></span><span>.</span><span>unwrap</span><span><span>(</span></span><span><span>)</span></span><span>)</span></span><span>;</span>
</span></code></pre>
<p>This also works for generics, which can come in handy:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>//</span> prints: "Option&lt;MyType&gt;"
</span><span>println!</span><span><span>(</span></span><span><span><span>"</span><span>{}</span><span>"</span></span></span><span><span>,</span> <span>Option</span><span>:</span><span>:</span><span><span>&lt;</span>MyType<span>&gt;</span></span><span><span>::</span></span>short_type_path<span><span>(</span></span><span><span>)</span></span><span>)</span></span><span>;</span>
<span><span>//</span> prints: "Option"
</span><span>println!</span><span><span>(</span></span><span><span><span>"</span><span>{}</span><span>"</span></span></span><span><span>,</span> <span>Option</span><span>:</span><span>:</span><span><span>&lt;</span>MyType<span>&gt;</span></span><span><span>::</span></span>type_ident<span><span>(</span></span><span><span>)</span></span><span>.</span><span>unwrap</span><span><span>(</span></span><span><span>)</span></span><span>)</span></span><span>;</span>
</span></code></pre>
<p><a href="https://docs.rs/bevy/0.11.0/bevy/reflect/trait.TypePath.html"><code>TypePath</code></a> can be customized by type authors:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>TypePath</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>#</span><span>[</span><span>type_path</span> <span>=</span> <span><span>"</span>some_crate::some_module<span>"</span></span><span>]</span></span>
<span><span>struct</span> </span><span><span>MyType</span></span><span>;</span>
</span></code></pre>
<p>We are in the process of porting Bevy's internal <a href="https://doc.rust-lang.org/std/any/fn.type_name.html"><code>type_name</code></a> usage over to <a href="https://docs.rs/bevy/0.11.0/bevy/reflect/trait.TypePath.html"><code>TypePath</code></a>, which should land in <strong>Bevy 0.12</strong>.</p>
<h2 id="run-if-for-tuples-of-systems"><code>run_if</code> for Tuples of Systems
<a href="#run-if-for-tuples-of-systems">#</a>
</h2>
<p>authors: @geieredgar</p>
<p>It is now possible to add <a href="https://bevyengine.org/news/bevy-0-10/#run-conditions">"run conditions"</a> to tuples of systems:</p>
<pre data-lang="rust"><code data-lang="rust"><span>app<span>.</span><span>add_systems</span><span><span>(</span>Update<span>,</span> <span><span>(</span>run<span>,</span> jump</span><span><span>)</span></span><span>.</span><span>run_if</span><span><span>(</span><span>in_state</span><span><span>(</span><span>GameState<span>::</span></span>Playing</span><span><span>)</span></span></span><span><span>)</span></span></span><span><span>)</span></span>
</span></code></pre>
<p>This will evaluate the "run condition" exactly once and use the result for each system in the tuple.</p>
<p>This allowed us to remove the <code>OnUpdate</code> system set for states (which was previously used to run groups of systems when they are in a given state).</p>
<h2 id="has-queries"><code>Has</code> Queries
<a href="#has-queries">#</a>
</h2>
<p>authors: @wainwrightmark</p>
<p>You can now use <code>Has&lt;Component&gt;</code> in queries, which will return true if that component exists and false if it does not:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span><span>fn</span> </span><span>system</span></span><span><span><span>(</span><span>query</span><span>:</span> <span>Query<span>&lt;</span><span>Has<span>&lt;</span>Player<span>&gt;</span></span><span>&gt;</span></span></span><span><span><span>)</span></span></span></span><span> </span><span><span><span>{</span>
    <span>for</span> has_player <span>in</span> <span>&amp;</span>query <span><span>{</span>
        <span>if</span> has_player <span><span>{</span>
            <span><span>//</span> do something
</span>        </span><span><span>}</span></span>
    </span><span><span>}</span></span>
</span><span><span>}</span></span></span>
</span></code></pre>
<h2 id="derive-event">Derive <code>Event</code>
<a href="#derive-event">#</a>
</h2>
<p>authors: @CatThingy</p>
<p>The Bevy <a href="https://docs.rs/bevy/0.11.0/bevy/ecs/event/trait.Event.html"><code>Event</code></a> trait is now derived instead of being auto-impled for everything:</p>
<pre data-lang="rust"><code data-lang="rust"><span><span><span>#</span><span>[</span><span>derive</span><span><span><span>(</span></span></span><span><span>Event</span></span><span><span><span>)</span></span></span><span>]</span></span>
<span><span>struct</span> </span><span><span>Collision</span> </span><span><span><span>{</span>
    <span>a</span><span>:</span> Entity,
    <span>b</span><span>:</span> Entity,
</span><span><span>}</span></span></span>
</span></code></pre>
<p>This prevents some classes of error, makes <a href="https://docs.rs/bevy/0.11.0/bevy/ecs/event/trait.Event.html"><code>Event</code></a> types more self-documenting, and provides consistency with other Bevy ECS traits like Components and Resources. It also opens the doors to configuring the <a href="https://docs.rs/bevy/0.11.0/bevy/ecs/event/trait.Event.html"><code>Event</code></a> storage type, which we plan to do in future releases.</p>
<h2 id="cubic-curve-example">Cubic Curve Example
<a href="#cubic-curve-example">#</a>
</h2>
<p>authors: @Kjolnyr</p>
<p>An example that shows how to draw a 3D curve and move an object along the path:</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/cubic_curve.png" alt="cubic_curve"></p>
<h2 id="size-constraints-example">Size Constraints Example
<a href="#size-constraints-example">#</a>
</h2>
<p>authors: @ickshonpe</p>
<p>An interactive example that shows how the various <a href="https://docs.rs/bevy/0.11.0/bevy/ui/struct.Style.html"><code>Style</code></a> size constraints affect UI nodes.</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/size_constraints.png" alt="size constraints"></p>
<h2 id="display-and-visibility-example">Display and Visibility Example
<a href="#display-and-visibility-example">#</a>
</h2>
<p>authors: @ickshonpe</p>
<p>An example that shows how display and visibility settings affect UI nodes.</p>
<p><img src="https://bevyengine.org/news/bevy-0-11/display_and_visibility.png" alt="display and visibiltiy"></p>
<h2 id="no-more-bors">No More Bors!
<a href="#no-more-bors">#</a>
</h2>
<p>authors: @cart, @mockersf</p>
<p>Bevy has historically used the Bors merge system to ensure we never merge a pull request on GitHub that breaks our CI validation. This was a critical piece of infrastructure that ensured we could collaborate safely and effectively. Fortunately GitHub has <em>finally</em> rolled out <a href="https://github.blog/changelog/2023-02-08-pull-request-merge-queue-public-beta/">Merge Queues</a>, which solve the same problems as Bors, with the benefit of being more tightly integrated with GitHub.</p>
<p>For this release cycle we migrated to Merge Queues and we're very happy with the experience!</p>
<h2 id="new-ci-jobs">New CI Jobs
<a href="#new-ci-jobs">#</a>
</h2>
<p>authors: @mockersf</p>
<p>We've added a number of new CI jobs that improve the Bevy development experience:</p>
<ul>
<li>A daily job that runs Bevy's mobile examples on real Android and iOS devices! This helps protect against regressions that might not be caught by the compiler</li>
<li>Added the ability to take screenshots in CI, which can be used to validate the results of Bevy example runs</li>
<li>A job that leaves a GitHub comment on PRs that are missing a feature or example doc update</li>
</ul>
<h2 id="what-s-next"><a name="what-s-next"></a>What's Next?
<a href="#what-s-next">#</a>
</h2>
<p>We have plenty of work that is pretty much finished and is therefore very likely to land in <strong>Bevy 0.12</strong>:</p>
<ul>
<li><strong>Bevy Asset V2</strong>: A brand new asset system that adds "asset preprocessing", optional asset .meta files, recursive asset dependency tracking and events, async asset IO, better asset handles, more efficient asset storage, and a variety of usability improvements! The work here is <a href="https://github.com/bevyengine/bevy/pull/8624">pretty much finished</a>. It <em>almost</em> made it in to Bevy 0.11 but it needed a bit more time to cook.</li>
<li><strong>PBR Material Light Transmission</strong>: Transmission / screen space refractions allows for simulating materials like glass, plastics, liquids and gels, gemstones, wax, etc. This one is also pretty much <a href="https://github.com/bevyengine/bevy/pull/8015">ready to go</a>!</li>
<li><strong>TAA Improvements</strong>: We have a number of changes in the works for TAA that will improve its quality, speed, and support within the engine.</li>
<li><strong>GPU Picking</strong>: Efficiently and correctly <a href="https://github.com/bevyengine/bevy/pull/8784">select entities on the GPU</a> by using color ids to identify meshes in renders.</li>
<li><strong>PCF For Directional and Spotlight Shadows</strong>: <a href="https://github.com/bevyengine/bevy/pull/8006">Reduce aliasing on the edges of shadows</a></li>
<li><strong>UI Node Border Radius and Shadows</strong>: Add <a href="https://github.com/bevyengine/bevy/pull/8973">curvature and "drop shadows"</a> to your UI nodes!</li>
<li><strong>Deferred Rendering</strong>: Bevy already does "mixed mode" forward rendering by having optional separate passes for depth and normals. We are currently experimenting with supporting "fully deferred" rendering as well, which opens the doors to new effects and different performance tradeoffs.</li>
</ul>
<p>From a high level, we plan to focus on the Asset System, UI, Render Features, and Scenes during the next cycle.</p>
<p>Check out the <a href="https://github.com/bevyengine/bevy/milestone/14"><strong>Bevy 0.12 Milestone</strong></a> for an up-to-date list of current work being considered for <strong>Bevy 0.12</strong>.</p>
<h2 id="support-bevy">Support Bevy
<a href="#support-bevy">#</a>
</h2>
<p>Sponsorships help make our work on Bevy sustainable. If you believe in Bevy's mission, consider <a href="https://bevyengine.org/community/donate">sponsoring us</a> ... every bit helps!</p>
<p><a href="https://bevyengine.org/community/donate">Donate <img src="https://bevyengine.org/assets/heart.svg" alt="heart icon"></a></p>
<h2 id="contributors">Contributors
<a href="#contributors">#</a>
</h2>
<p>Bevy is made by a <a href="https://bevyengine.org/community/people/">large group of people</a>. A huge thanks to the 166 contributors that made this release (and associated docs) possible! In random order:</p>
<ul>
<li>@TheBlek</li>
<li>@hank</li>
<li>@TimJentzsch</li>
<li>@Suficio</li>
<li>@SmartManLudo</li>
<li>@BlondeBurrito</li>
<li>@lewiszlw</li>
<li>@paul-hansen</li>
<li>@boringsan</li>
<li>@superdump</li>
<li>@JonahPlusPlus</li>
<li>@airingursb</li>
<li>@Sheepyhead</li>
<li>@nakedible</li>
<li>@Testare</li>
<li>@andresovela</li>
<li>@SkiFire13</li>
<li>@doup</li>
<li>@BlackPhlox</li>
<li>@nicoburns</li>
<li>@wpederzoli</li>
<li>@adtennant</li>
<li>@LoopyAshy</li>
<li>@KernelFreeze</li>
<li>@ickshonpe</li>
<li>@jim-ec</li>
<li>@mrchantey</li>
<li>@frengor</li>
<li>@Joakker</li>
<li>@arendjr</li>
<li>@MJohnson459</li>
<li>@TheTacBanana</li>
<li>@IceSentry</li>
<li>@ItsDoot</li>
<li>@Anti-Alias</li>
<li>@mwbryant</li>
<li>@inodentry</li>
<li>@LiamGallagher737</li>
<li>@robtfm</li>
<li>@mockersf</li>
<li>@ndarilek</li>
<li>@samtenna</li>
<li>@Estus-Dev</li>
<li>@InnocentusLime</li>
<li>@p-hueber</li>
<li>@B-Reif</li>
<li>@Adamkob12</li>
<li>@payload</li>
<li>@JohnTheCoolingFan</li>
<li>@djeedai</li>
<li>@SludgePhD</li>
<li>@s-lambert</li>
<li>@kjolnyr</li>
<li>@Skovrup1</li>
<li>@Ababwa</li>
<li>@Illiux</li>
<li>@Carter0</li>
<li>@luca-della-vedova</li>
<li>@Neo-Zhixing</li>
<li>@coreh</li>
<li>@helvieq499</li>
<li>@Carbonhell</li>
<li>@BrandonDyer64</li>
<li>@hymm</li>
<li>@JMS55</li>
<li>@iiYese</li>
<li>@mtsr</li>
<li>@jannik4</li>
<li>@natasria</li>
<li>@Trouv</li>
<li>@minchopaskal</li>
<li>@chrisjuchem</li>
<li>@marlyx</li>
<li>@valaphee</li>
<li>@hankjordan</li>
<li>@rparrett</li>
<li>@Selene-Amanita</li>
<li>@opstic</li>
<li>@loganbenjamin</li>
<li>@MrGunflame</li>
<li>@pyrotechnick</li>
<li>@mjhostet</li>
<li>@VitalyAnkh</li>
<li>@CatThingy</li>
<li>@maniwani</li>
<li>@Themayu</li>
<li>@SET001</li>
<li>@jakobhellermann</li>
<li>@MrGVSV</li>
<li>@nicopap</li>
<li>@Wcubed</li>
<li>@aevyrie</li>
<li>@NiklasEi</li>
<li>@bonsairobo</li>
<li>@cart</li>
<li>@TotalKrill</li>
<li>@raffaeleragni</li>
<li>@Aceeri</li>
<li>@Shatur</li>
<li>@orzogc</li>
<li>@UncleScientist</li>
<li>@Elabajaba</li>
<li>@vyb</li>
<li>@komadori</li>
<li>@jnhyatt</li>
<li>@harudagondi</li>
<li>@konsti219</li>
<li>@james7132</li>
<li>@mvlabat</li>
<li>@neithanmo</li>
<li>@dgunay</li>
<li>@Shfty</li>
<li>@hate</li>
<li>@B-head</li>
<li>@MinerSebas</li>
<li>@chescock</li>
<li>@BorMor</li>
<li>@lupan</li>
<li>@CrazyRoka</li>
<li>@bzm3r</li>
<li>@Sixmorphugus</li>
<li>@JoJoJet</li>
<li>@eltociear</li>
<li>@gakit</li>
<li>@geieredgar</li>
<li>@tjamaan</li>
<li>@alice-i-cecile</li>
<li>@NoahShomette</li>
<li>@james-j-obrien</li>
<li>@tinrab</li>
<li>@Olle-Lukowski</li>
<li>@TheRawMeatball</li>
<li>@sarkahn</li>
<li>@RobWalt</li>
<li>@johanhelsing</li>
<li>@SneakyBerry</li>
<li>@beeryt</li>
<li>@Vrixyz</li>
<li>@wainwrightmark</li>
<li>@EliasPrescott</li>
<li>@konsolas</li>
<li>@ameknite</li>
<li>@Connor-McMillin</li>
<li>@Weibye</li>
<li>@SpecificProtagonist</li>
<li>@danchia</li>
<li>@vallrand</li>
<li>@atornity</li>
<li>@soqb</li>
<li>@devil-ira</li>
<li>@AnthonyKalaitzis</li>
<li>@yyogo</li>
<li>@NiseVoid</li>
<li>@gajop</li>
<li>@Gingeh</li>
<li>@zendril</li>
<li>@ezekg</li>
<li>@ickk</li>
<li>@Leonss23</li>
<li>@kellencataldo</li>
<li>@akappel</li>
<li>@hazelsparrow</li>
<li>@mattfbacon</li>
<li>@gianzellweger</li>
<li>@lakrsv</li>
<li>@laundmo</li>
</ul>
<h2 id="full-changelog">Full Changelog
<a href="#full-changelog">#</a>
</h2>
<h3 id="rendering">Rendering
<a href="#rendering">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8336">Webgpu support</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/5703">improve shader import model</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7402">Screen Space Ambient Occlusion (SSAO) MVP</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7291">Temporal Antialiasing (TAA)</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/6529">Immediate Mode Line/Gizmo Drawing</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8109">Make render graph slots optional for most cases</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8090">Split opaque and transparent phases</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8275">Built-in skybox</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/5928">Add parallax mapping to bevy PBR</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7422">Add port of AMD's Robust Contrast Adaptive Sharpening</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8007">Add RenderGraphApp to simplify adding render nodes</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7163">Add screenshot api</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8158">Add morph targets</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8455">Screenshots in wasm</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8118">Add ViewNode to simplify render node management</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7614">Bias texture mipmaps</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8427">Instanced line rendering for gizmos based on <code>bevy_polyline</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8042">Add <code>RenderTarget::TextureView</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8685">Change default tonemapping method</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/6815">Allow custom depth texture usage</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8231">Use the prepass normal texture in main pass when possible</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8122">Left-handed y-up cubemap coordinates</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7772">Allow SPIR-V shaders to process when shader defs are present</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8299">Remove unnecesssary values Vec from DynamicUniformBuffer and DynamicStorageBuffer</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/6697">Add <code>MAY_DISCARD</code> shader def, enabling early depth tests for most cases</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7885">Add <code>Aabb</code> calculation for <code>Sprite</code>, <code>TextureAtlasSprite</code> and <code>Mesh2d</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8041">Color::Lcha constructors</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8040">Fix Color::as_rgba_linear for Color::Lcha</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8070">Added Globals struct to prepass shader</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8121">Derive Copy and Clone for Collision</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8151">Fix crash when enabling HDR on 2d cameras</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7977">Dither fix</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8460">Compute <code>vertex_count</code> for indexed meshes on <code>GpuMesh</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/9024">Run update_previous_view_projections in PreUpdate schedule</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8220">Added <code>WebP</code> image format support</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8601">Add support for pnm textures</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8316">fix invalid bone weights</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8412">Fix pbr shader breaking on missing UVs</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8878">Fix Plane UVs / texture flip</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7817">Fix look_to resulting in NaN rotations</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8627">Fix look_to variable naming</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8223">Fix segfault with 2d gizmos</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8298">Use RenderGraphApp in more places</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8323">Fix viewport change detection</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8301">Remove capacity fields from all Buffer wrapper types</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8380">Sync pbr_types.wgsl StandardMaterial values</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8180">Avoid spawning gizmo meshes when no gizmos are being drawn</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/9030">Use a consistent seed for AABB gizmo colors</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8444">bevy_pbr: Do not cull meshes without Aabbs from cascades</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8330">Handle vertex_uvs if they are present in default prepass fragment shader</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7867">Changed (Vec2, Vec2) to Rect in Camera::logical_viewport_rect</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8491">make glsl and spirv support optional</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8978">fix prepass normal_mapping</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8564">conversions between [u8; 4] and Color</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8952">Add option to disable gizmo rendering for specific cameras</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/9013">Fix morph target prepass shader</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8631">Fix bloom wasm support</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8926">Fix black spots appearing due to NANs when SSAO is enabled</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8890">fix normal prepass</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8977">Refs #8975 -- Add return to RenderDevice::poll()</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8508">Fix WebGL mode for Adreno GPUs</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/9003">Fix parallax mapping</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8575">Added Vec append to BufferVec - Issue #3531</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8993">Fix CAS shader with explicit FullscreenVertexOutput import</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8643">Make <code>TextureAtlas::texture_handles</code> <code>pub</code> instead of <code>pub(crate)</code> (#8633)</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8642">Make Material2d pipeline systems public</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8701">Fix screenshots on Wayland + Nvidia</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8704">Apply codebase changes in preparation for <code>StandardMaterial</code> transmission</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8732">Use ViewNode for TAA</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8753">Change Camera3dBundle::tonemapping to Default</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8804">Remove <code>Component</code> derive for AlphaMode</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8408">Make setup of Opaque3dPrepass and AlphaMask3dPrepass phase items consistent with others</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8744">Rename <code>Plane</code> struct to <code>HalfSpace</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/6974">Expand <code>FallbackImage</code> to include a <code>GpuImage</code> for each possible <code>TextureViewDimension</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8877">Cascaded shadow maps: Fix prepass ortho depth clamping</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8910">Fix gizmos in WebGPU</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8868">Fix AsBindGroup derive, texture attribute, visibility flag parsing</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8802">Disable camera on window close</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8283">Reflect <code>Component</code> and <code>Default</code> of <code>BloomSettings</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8428">Add Reflection Macros to TextureAtlasSprite</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8801">Implement Reflect on NoFrustumCulling</a></li>
</ul>
<h3 id="audio">Audio
<a href="#audio">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8424">ECS-based API redesign</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7706">Ability to set a Global Volume</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8145">Expose <code>AudioSink::empty()</code></a></li>
</ul>
<h3 id="diagnostics">Diagnostics
<a href="#diagnostics">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8677">Allow systems using Diagnostics to run in parallel</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8272">add a feature for memory tracing with tracy</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8362">Re-add the "frame" span for tracy comparisons</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8886">log to stderr instead of stdout</a></li>
</ul>
<h3 id="scenes">Scenes
<a href="#scenes">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/6793">bevy_scene: Add SceneFilter</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/6846">(De) serialize resources in scenes</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8065">add position to scene errors</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7951">Bugfix: Scene reload fix (nonbreaking)</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8512">avoid panic with parented scenes on deleted entities</a></li>
</ul>
<h3 id="transform-hierarchy">Transform + Hierarchy
<a href="#transform-hierarchy">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/7264">Fix transform propagation of orphaned entities</a></li>
</ul>
<h3 id="gizmo">Gizmo
<a href="#gizmo">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8468">Add a bounding box gizmo</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8448">Added <code>arc_2d</code> function for gizmos</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8960">Use AHash to get color from entity in bevy_gizmos</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8434">do not crash when rendering only one gizmo</a></li>
</ul>
<h3 id="reflection">Reflection
<a href="#reflection">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/7184">reflect: stable type path v2</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/6971">bevy_reflect: Better proxies</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/6056">bevy_reflect: FromReflect Ergonomics Implementation</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8514">bevy_reflect: Allow <code>#[reflect(default)]</code> on enum variant fields</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8776">Add FromReflect where Reflect is used</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8691">Add get_at_mut to bevy_reflect::Map trait</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8764">Reflect now requires DynamicTypePath. Remove Reflect::get_type_path()</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8495">bevy_ui: Add <code>FromReflect</code> derives</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8531">Add Reflect and FromReflect for AssetPath</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8014">bevy_reflect: Fix trailing comma breaking derives</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8184">Fix Box<dyn reflect=""> struct with a hashmap in it panicking when clone_value is called on it</dyn></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8496">bevy_reflect: Add <code>ReflectFromReflect</code> to the prelude</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8723">bevy_reflect: Allow construction of MapIter outside of the bevy_reflect crate.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8761">bevy_reflect: Disambiguate type bounds in where clauses.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7454">adding reflection for Cow&lt;'static, [T]&gt;</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8891">Do not require mut on ParsedPath::element_mut</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8905">Reflect UUID</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7112">Don't ignore additional entries in <code>UntypedReflectDeserializerVisitor</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7407">Construct Box<dyn reflect=""> from world for ReflectComponent</dyn></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8957">reflect: avoid deadlock in GenericTypeCell</a></li>
</ul>
<h3 id="app">App
<a href="#app">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8097">Allow tuples and single plugins in <code>add_plugins</code>, deprecate <code>add_plugin</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8585">Merge ScheduleRunnerSettings into ScheduleRunnerPlugin</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8740">correctly setup everything in the default run_once runner</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8103">Fix <code>Plugin::build</code> detection</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/9054">Fix not calling App::finish and App::cleanup in <code>ScheduleRunnerPlugin</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8961">Relaxed runner type from Fn to FnOnce</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8982">Relax FnMut to FnOnce in app::edit_schedule</a></li>
</ul>
<h3 id="windowing-reflection">Windowing + Reflection
<a href="#windowing-reflection">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/7993">Register missing types in bevy_window</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8771">bevy_reflect: implement Reflect for SmolStr</a></li>
</ul>
<h3 id="hierarchy">Hierarchy
<a href="#hierarchy">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8346">fix panic when moving child</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8476">Remove <code>Children</code> component when calling <code>despawn_descendants</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8928">Change <code>despawn_descendants</code> to return <code>&amp;mut Self</code></a></li>
</ul>
<h3 id="time">Time
<a href="#time">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8467">Fix timer with zero duration</a></li>
</ul>
<h3 id="assets">Assets
<a href="#assets">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8503">Delay asset hot reloading</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/5370">Add support for custom glTF vertex attributes.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8485">Fix panic when using debug_asset_server</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7938"><code>unused_variables</code> warning when building with <code>filesystem_watcher</code> feature disabled</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8470">bevy_asset: Add <code>LoadContext::get_handle_untyped</code></a></li>
</ul>
<h3 id="windowing">Windowing
<a href="#windowing">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/7988">Move cursor position to internal state</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7966">Set cursor hittest during window creation</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7996">do not set hit test unconditionally on window creation</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8722">Add winit's <code>wayland-csd-adwaita</code> feature to Bevy's <code>wayland</code> feature</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8593">Support to set window theme and expose system window theme changed event</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8791">Touchpad magnify and rotate events</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8903">Fix windows not being centered properly when system interface is scaled</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/9016">Expose WindowDestroyed events</a></li>
</ul>
<h3 id="animation">Animation
<a href="#animation">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/9023">Register bevy_animation::PlayingAnimation</a></li>
</ul>
<h3 id="ui">UI
<a href="#ui">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/7795">Ui Node Borders</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8026">Add CSS Grid support to <code>bevy_ui</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7779"><code>text_system</code> split</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8549">Replace the local text queues in the text systems with flags stored in a component</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8947"><code>NoWrap</code> <code>Text</code> feature</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8445">add a default font</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8822">UI texture atlas support</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8793">Improved UI render batching</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8306">Consistent screen-space coordinates</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8199"><code>UiImage</code> helper functions</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7819">Perform text scaling calculations per text, not per glyph</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8197">Fix size of clipped text glyphs.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8545">Apply scale factor to  <code>ImageMeasure</code> sizes</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8933">Fix WebGPU error in "ui_pipeline" by adding a flat interpolate attribute</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/9027">Rename Interaction::Clicked -&gt; Interaction::Pressed</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8548">Flatten UI <code>Style</code> properties that use <code>Size</code> + remove <code>Size</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8095">Split UI <code>Overflow</code> by axis</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7930">Add methods for calculating the size and postion of UI nodes</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7809">Skip the UV calculations for untextured UI nodes</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8425">Fix text measurement algorithm</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8720">Divide by UiScale when converting UI coordinates from physical to logical</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8402"><code>MeasureFunc</code> improvements</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8522">Expose sorting methods in <code>Children</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7948">Fix min and max size using size value</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8019">Fix the <code>Text2d</code> text anchor's incorrect horizontal alignment</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7485">Remove <code>Val::Undefined</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8137"><code>Val</code> viewport unit variants</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8294">Remove the corresponding measure from Taffy when a <code>CalculatedSize</code> component is removed.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7656"><code>UiRect</code> axes constructor</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8195">Fix the UV calculations for clipped and flipped ImageNodes</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8422">Fix text systems broken when resolving merge conflicts in #8026</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8437">Allow <code>bevy_ui</code> crate to compile without the <code>text</code> feature enabled</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8264">Fix the double leaf node updates in <code>flex_node_system</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8456">also import the default handle when feature disabled</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8466"><code>measure_text_system</code> text query fix</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8497">Fix panic in example: text_wrap_debug.rs</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8521">UI layout tree debug print</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8551">Fix <code>Node::physical_rect</code> and add a <code>physical_size</code> method</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8795">Perform <code>relative_cursor_position</code> calculation vectorwise in <code>ui_focus_system</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8866">Add <code>UiRect::px()</code> and <code>UiRect::percent()</code> utils</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8920">Add missing dependencies to <code>bevy_text</code> feature</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8907">Remove "bevy_text" feature attributes on imports used by non-text systems</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8931">Growing UI nodes Fix</a></li>
</ul>
<h3 id="ecs">ECS
<a href="#ecs">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8079">Schedule-First: the new and improved add_systems</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7936">Add OnTransition schedule that is ran between OnExit and OnEnter</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7676"><code>run_if</code> for <code>SystemConfigs</code> via anonymous system sets</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8260">Remove OnUpdate system set</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8726">Rename apply_system_buffers to apply_deferred</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8814">Rename Command's "write" method to "apply"</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7086">Require <code>#[derive(Event)]</code> on all Events</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/6960">Implement WorldQuery for EntityRef</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7085">Improve or-with disjoint checks</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8849">Add a method to run read-only systems using <code>&amp;World</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8053">Reduce branching when inserting components</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8030">Make <code>#[system_param(ignore)]</code> and <code>#[world_query(ignore)]</code> unnecessary</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8265">Remove <code>#[system_param(ignore)]</code> and <code>#[world_query(ignore)]</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8119">Extend the <code>WorldQuery</code> macro to tuple structs</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8009">Make state private and only accessible through getter for State resource</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8668">implement <code>Deref</code> for <code>State&lt;S&gt;</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8083">Inline more ECS functions</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8387">Add a <code>scope</code> API for world schedules</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8377">Simplify system piping and make it more flexible</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8326">Add <code>any_component_removed</code> condition</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8174">Use <code>UnsafeWorldCell</code> to increase code quality for <code>SystemParam</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8292">Improve safety for the multi-threaded executor using <code>UnsafeWorldCell</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8833">Migrate the rest of the engine to <code>UnsafeWorldCell</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8721">Make the <code>Condition</code> trait generic</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8714">Add or_else combinator to run_conditions.rs</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8772">Add iter_many_manual QueryState method</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8987">Provide access to world storages via UnsafeWorldCell</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8844">Added Has<t> WorldQuery type</t></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8951">Add/fix <code>track_caller</code> attribute on panicking entity accessor methods</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7905">Increase type safety and clarity for change detection</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7964">Make <code>WorldQuery</code> meta types unnameable</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7931">Add a public constructor for <code>Mut&lt;T&gt;</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7902">Remove ChangeTrackers</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/9020">Derive Eq, PartialEq for Tick</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7911">Initialize empty schedules when calling <code>.in_schedule</code> if they do not already exist</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8001">Replace multiple calls to <code>add_system</code> with <code>add_systems</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7950">don't panic on unknown ambiguity</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8060">add Clone to common conditions</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8068">Make BundleInfo's fields not pub(crate)</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8029">Pass query change ticks to <code>QueryParIter</code> instead of always using change ticks from <code>World</code>.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8108">Remove redundant bounds check in <code>Entities::get</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8028">Add World::try_run_schedule</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8105">change not implemation to custom system struct</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8012">Fix name conflicts caused by the <code>SystemParam</code> and <code>WorldQuery</code> macros</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8154">Check for conflicting accesses in <code>assert_is_system</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8163">Fix field visibility for read-only <code>WorldQuery</code> types</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8212"><code>Or&lt;T&gt;</code> should be a new type of <code>PhantomData&lt;T&gt;</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8249">Make standard commands more ergonomic (in niche cases)</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8269">Remove base set error variants of <code>ScheduleBuildError</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8274">Replace some unsafe system executor code with safe code</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8295">Update <code>increment_change_tick</code> to return a strongly-typed <code>Tick</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7732">Move event traces to detailed_trace!</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8359">Only trigger state transitons if <code>next_state != old_state</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8364">Fix panics and docs when using World schedules</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8000">Improve warning for Send resources marked as non_send</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8419">Reorganize system modules</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8436">Fix boxed labels</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8403">Simplify world schedule methods</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8494">Just print out name string, not the entire Name struct</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8529">Manually implement common traits for <code>EventId</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8567">Replace remaining uses of <code>&amp;T, Changed&lt;T&gt;</code> with <code>Ref</code> in UI system queries</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8588">Rename <code>UnsafeWorldCell::read_change_tick</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8725">Improve encapsulation for commands and add docs</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8743">Fix all_tuples + added docs.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8797">Add <code>new</code> and <code>map</code> methods to <code>Ref</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8817">Allow unsized types as mapped value in <code>Ref::map</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8826">Implement <code>Clone</code> for <code>CombinatorSystem</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8818">Add get_ref to EntityRef</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8848">Make <code>QueryParIter::for_each_unchecked</code> private</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8845">Simplify the <code>ComponentIdFor</code> type</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8803">Add last_changed_tick and added_tick to ComponentTicks</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8832">Require read-only queries in <code>QueryState::par_iter</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8939">Fix any_component_removed</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8843">Deprecate type aliases for <code>WorldQuery::Fetch</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7204">bevy_ecs: add untyped methods for inserting components and bundles</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8901">Move AppTypeRegistry to bevy_ecs</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8760">skip check change tick for apply_deferred systems</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8834">Split the bevy_ecs reflect.rs module</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8687">Make function pointers of ecs Reflect* public</a></li>
</ul>
<h3 id="rendering-reflection-scenes">Rendering + Reflection + Scenes
<a href="#rendering-reflection-scenes">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8088">fix: register Cascade in the TypeRegistry</a></li>
</ul>
<h3 id="tasks">Tasks
<a href="#tasks">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/6690">Add optional single-threaded feature to bevy_ecs/bevy_tasks</a></li>
</ul>
<h3 id="math">Math
<a href="#math">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8232">Re-export glam_assert feature</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8049">Fix CubicCurve::iter_samples iteration count</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7984">Add integer equivalents for <code>Rect</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8711">Add <code>CubicCurve::segment_count</code> + <code>iter_samples</code> adjustment</a></li>
</ul>
<h3 id="rendering-assets-meta">Rendering + Assets + Meta
<a href="#rendering-assets-meta">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/7855">Add depending bevy features for higher level one</a></li>
</ul>
<h3 id="ecs-scenes">ECS + Scenes
<a href="#ecs-scenes">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/7335">Make scene handling of entity references robust</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7570">Rename map_entities and map_specific_entities</a></li>
</ul>
<h3 id="util">Util
<a href="#util">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8552">bevy_derive: Add <code>#[deref]</code> attribute</a></li>
</ul>
<h3 id="input">Input
<a href="#input">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8398">Add gamepad rumble support to bevy_input</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8792">Rename keys like <code>LAlt</code> to <code>AltLeft</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8852">Add window entity to mouse and keyboard events</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8871">Add get_unclamped to Axis</a></li>
</ul>
<h3 id="upgrades">Upgrades
<a href="#upgrades">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/7959">Upgrade Taffy requirement to v0.3.5</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8622">Update ruzstd and basis universal</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8446">Updated to wgpu 0.16.0, wgpu-hal 0.16.0 and naga 0.12.0</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8650">Update sysinfo requirement from 0.28.1 to 0.29.0</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8649">Update libloading requirement from 0.7 to 0.8</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8573">update syn, encase, glam and hexasphere</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7925">Update android_log-sys requirement from 0.2.0 to 0.3.0</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8728">update bitflags to 2.3</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8755">Update ruzstd requirement from 0.3.1 to 0.4.0</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8757">Update notify requirement from 5.0.0 to 6.0.0</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8904">Bump hashbrown to 0.14</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8623">update ahash and hashbrown</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8655">Bump accesskit and accesskit_winit</a></li>
</ul>
<h3 id="examples">Examples
<a href="#examples">#</a>
</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/8561">new example showcase tool</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8194">Adding a bezier curve example</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/6909">Add low level post process example using a custom render pass</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8909">Add example to demonstrate manual generation and UV mapping of 3D mesh (generate_custom_mesh) solve #4922</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/8198">Add <code>overflow_debug</code> example</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7761">UI text wrapping and <code>LineBreakOn</code> example</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7956">Size Constraints Example</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/7629">UI Display and Visibility Example</a></li>
</ul>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[InfluxDB Cloud shuts down in Belgium; some weren't notified before data deletion (120 pts)]]></title>
            <link>https://community.influxdata.com/t/getting-weird-results-from-gcp-europe-west1/30615</link>
            <guid>36657829</guid>
            <pubDate>Sun, 09 Jul 2023 19:11:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://community.influxdata.com/t/getting-weird-results-from-gcp-europe-west1/30615">https://community.influxdata.com/t/getting-weird-results-from-gcp-europe-west1/30615</a>, See on <a href="https://news.ycombinator.com/item?id=36657829">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemscope="" itemtype="http://schema.org/DiscussionForumPosting" id="main-outlet" role="main">
      <meta itemprop="headline" content="Getting weird results from GCP europe-west1">
        <meta itemprop="articleSection" content="InfluxDB 2">
      <meta itemprop="keywords" content="influxdb">
      

          <div itemprop="articleBody" id="post_1">
              <p>I‚Äôm using hosted InfluxDB on europe-west1. Now this weekend I‚Äôm see weird behaviour in my dashboard, missing or incomplete data or data that changes between refreshed‚Ä¶ I see this behaviour on all dashboards.</p>
<p>I saw this on the InfluxDB status page:</p>
<blockquote>
<p>Discontinuation of AWS ap-southeast-2 (Sydney) and GCP europe-west1 (Belgium)</p>
</blockquote>
<p>Retention on all my buckets is: forever.</p>
<p>Could this be the cause? I hope I‚Äôm not losing my data‚Ä¶ I did not get emails from InfluxDB about this change. Can anyone elaborate on this?</p>
            </div>
          <div itemprop="comment" id="post_3" itemscope="" itemtype="http://schema.org/Comment">
              <p>Same issues here. I use <a href="https://europe-west1-1.gcp.cloud2.influxdata.com/" rel="noopener nofollow ugc">https://europe-west1-1.gcp.cloud2.influxdata.com/</a></p>
<p>I was getting missing data yesterday and now I get nothing today?</p>
            </div>
          <div id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <p>I think GCP europe-west1 data is gone with the wind now lol</p>

            

            

          </div>
          <div itemprop="comment" id="post_5" itemscope="" itemtype="http://schema.org/Comment">
              <p>Same issue here.</p>
<p>You cannot just shut down a service without informing your customer via mail. What are solutions for us that do not involve data loss?</p>
            </div>
          <div itemprop="comment" id="post_6" itemscope="" itemtype="http://schema.org/Comment">
              <p>As stated in <a href="https://docs.influxdata.com/influxdb/cloud/reference/regions/" rel="noopener nofollow ugc">InfluxDB Cloud regions | InfluxDB Cloud (TSM) Documentation</a></p>
<blockquote>
<p>To continue service after <strong>June 30, 2023</strong> , InfluxDB Cloud accounts in these regions must be migrated to different regions. For information about migrating to a different region, see <a href="https://docs.influxdata.com/influxdb/cloud/migrate-regions/" rel="noopener nofollow ugc">Migrate to an account in a new region</a>.</p>
</blockquote>
            </div>
          <div itemprop="comment" id="post_7" itemscope="" itemtype="http://schema.org/Comment">
              <p>Yes but we were never <em>informed</em> about this. We have a running use case and are not in the habit of checking the documentation every week just in case our service gets cancelled without prior warning.</p>
<p>InfluxData should also have seen that instances in these regions still had read and write access and informed all affected customers.</p>
<p>This is highly unprofessional</p>
            </div>
          <div id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <p>I‚Äôm having the same problem. I never got an email informing me of this. How do I recover my data?</p>

            

            

          </div>
          <div itemprop="comment" id="post_9" itemscope="" itemtype="http://schema.org/Comment">
              <p>Another victim here.</p>
<p>According to the support, the notification emails to the users were sent on Feb 23, Apr 6 and May 15th. However, we did not receive those at all.</p>
<p>The support also mentioned that restoring data from Belgium now is impossible as the region has been discontinued.</p>
<p>I would say the service quality is a bit dodgy‚Ä¶ We are considering other alternative solutions now.</p>
            </div>
          <div itemprop="comment" id="post_10" itemscope="" itemtype="http://schema.org/Comment">
              <p>Wow. We were considering InfluxDB and the cloud offering for a future workload. That‚Äôs off the table now.</p>
<p>Hope you guys don‚Äôt suffer from any data loss.</p>
            </div>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Sarah Silverman is suing OpenAI and Meta for copyright infringement (253 pts)]]></title>
            <link>https://www.theverge.com/2023/7/9/23788741/sarah-silverman-openai-meta-chatgpt-llama-copyright-infringement-chatbots-artificial-intelligence-ai</link>
            <guid>36657540</guid>
            <pubDate>Sun, 09 Jul 2023 18:43:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/2023/7/9/23788741/sarah-silverman-openai-meta-chatgpt-llama-copyright-infringement-chatbots-artificial-intelligence-ai">https://www.theverge.com/2023/7/9/23788741/sarah-silverman-openai-meta-chatgpt-llama-copyright-infringement-chatbots-artificial-intelligence-ai</a>, See on <a href="https://news.ycombinator.com/item?id=36657540">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Comedian and author Sarah Silverman, as well as authors Christopher Golden and Richard Kadrey ‚Äî are suing <a href="https://www.documentcloud.org/documents/23869693-silverman-openai-complaint?responsive=1&amp;title=1">OpenAI</a> and <a href="https://www.documentcloud.org/documents/23869675-kadrey-meta-complaint?responsive=1&amp;title=1">Meta</a> each in a US District Court over <a href="https://llmlitigation.com/">dual claims of copyright infringement</a>. </p><p>The suits alleges, among other things, that OpenAI‚Äôs ChatGPT and Meta‚Äôs LLaMA were trained on illegally-acquired datasets containing their works, which they say were acquired from ‚Äúshadow library‚Äù websites like Bibliotik, Library Genesis, Z-Library, and others, noting the books are ‚Äúavailable in bulk via torrent systems.‚Äù</p><p>Golden and Kadrey each declined to comment on the lawsuit, while Silverman‚Äôs team did not respond by press time.</p><p>In the OpenAI suit, the trio <a href="https://www.documentcloud.org/documents/23869694-silverman-openai-complaint-exhibits?responsive=1&amp;title=1">offers exhibits</a> showing that when prompted, ChatGPT will summarize their books, infringing on their copyrights. Silverman‚Äôs <em>Bedwetter </em>is the first book shown being summarized by ChatGPT in the exhibits, while Golden‚Äôs book <em>Ararat </em>is also used as an example, as is Kadrey‚Äôs book <em>Sandman Slim</em>. The claim says the chatbot never bothered to ‚Äúreproduce any of the copyright management information Plaintiffs included with their published works.‚Äù</p><div><p>As for the separate lawsuit against Meta, it alleges the authors‚Äô books <a href="https://www.documentcloud.org/documents/23869695-kadrey-meta-complaint-exhibits?responsive=1&amp;title=1">were accessible in datasets Meta used</a> to train its LLaMA models, a <a href="https://www.theverge.com/2023/2/24/23613512/meta-llama-ai-research-large-language-model">quartet of open-source AI Models</a> the company introduced in February. </p></div><p>The complaint lays out in steps why the plaintiffs believe the datasets have illicit origins ‚Äî in a <a href="https://arxiv.org/pdf/2302.13971.pdf">Meta paper detailing LLaMA</a>, the company points to sources for its training datasets, one of which is called ThePile, which was assembled by a company called EleutherAI. ThePile, the complaint points out, was described in an <a href="https://arxiv.org/abs/2101.00027">EleutherAI paper</a> as being put together from ‚Äúa copy of the contents of the Bibliotik private tracker.‚Äù Bibliotik and the other ‚Äúshadow libraries‚Äù listed, says the lawsuit, are ‚Äúflagrantly illegal.‚Äù</p><p>In both claims, the authors say that they ‚Äúdid not consent to the use of their copyrighted books as training material‚Äù for the companies‚Äô AI models. Their lawsuits each contain six counts of various types of copyright violations, negligence, unjust enrichment, and unfair competition. The authors are looking for statutory damages, restitution of profits, and more.</p><p>Lawyers Joseph Saveri and Matthew Butterick, who are representing the three authors, write on their <a href="https://llmlitigation.com/">LLMlitigation website</a> that they‚Äôve heard from ‚Äúwriters, authors, and publishers who are con¬≠cerned about [ChatGPT‚Äôs] uncanny abil¬≠ity to gen¬≠er¬≠ate text sim¬≠i¬≠lar to that found in copy¬≠righted tex¬≠tual mate¬≠ri¬≠als, includ¬≠ing thou¬≠sands of books.‚Äù</p><p>Saveri has also started litigation against AI companies on behalf of <a href="https://www.theverge.com/2023/1/28/23575919/microsoft-openai-github-dismiss-copilot-ai-copyright-lawsuit">programmers</a> and <a href="https://www.theverge.com/2023/1/16/23557098/generative-ai-art-copyright-legal-lawsuit-stable-diffusion-midjourney-deviantart">artists</a>. Getty Images also <a href="https://www.theverge.com/2023/1/17/23558516/ai-art-copyright-stable-diffusion-getty-images-lawsuit">filed an AI lawsuit</a>, alleging that Stability AI, who created the AI image generation tool Stable Diffusion, trained its model on ‚Äúmillions of images protected by copyright.‚Äù Saveri and Butterick are also representing authors Mona Awad and Paul Tremblay <a href="https://www.theguardian.com/books/2023/jul/05/authors-file-a-lawsuit-against-openai-for-unlawfully-ingesting-their-books">in a similar case</a> over the company‚Äôs chatbot. </p><p>Lawsuits like this aren‚Äôt just a headache for OpenAI and other AI companies; they are <a href="https://www.theverge.com/23444685/generative-ai-copyright-infringement-legal-fair-use-training-data">challenging the very limits of copyright</a>. There‚Äôs As we‚Äôve said on <em>The Vergecast</em> every time someone gets Nilay going on copyright law, we‚Äôre going to see lawsuits centered around this stuff for <a href="https://www.theverge.com/2023/4/1/23666153/the-ai-copyright-dilemma-is-probably-a-decade-of-lawsuits-to-come">years to come</a>.</p><p>We‚Äôve reached out to Meta, OpenAI, and the Joseph Saveri Law Firm for comment, but they did not respond by press time.</p><p>Here are the suits:</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Amateurs obsess over tools, pros over mastery (248 pts)]]></title>
            <link>https://adamsinger.substack.com/p/amateurs-obsess-over-tools-pros-over</link>
            <guid>36657477</guid>
            <pubDate>Sun, 09 Jul 2023 18:37:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://adamsinger.substack.com/p/amateurs-obsess-over-tools-pros-over">https://adamsinger.substack.com/p/amateurs-obsess-over-tools-pros-over</a>, See on <a href="https://news.ycombinator.com/item?id=36657477">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg" width="500" height="375" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg&quot;,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:375,&quot;width&quot;:500,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe6c15b28-a04f-4d3b-9789-93200fd7cc0b_500x375.jpeg 1456w" sizes="100vw" fetchpriority="high"></picture></div></a><figcaption><em>image credit:&nbsp; nj dodge, via flickr cc</em></figcaption></figure></div><p>In our increasingly tech trend-driven world, it's easy to get caught up in the allure of shiny new tools. From the latest productivity apps to wiz-bang gadgets, we're constantly bombarded with promises of increased efficiency, higher output, and success beyond our dreams (both the creative and financial variety). We obsess over these tools, treating them like a crush‚Äîa fleeting infatuation that momentarily captivates our attention. All of this is wasted effort and delusion.</p><p><span>Of course, if you talk to a grizzled pro or anyone you actually respect in an industry you‚Äôll find a constant: tools alone do not make a master. It's not the latest software or the fastest hardware that defines greatness; it's the mindset and skill of the individual wielding them. As the philosopher Seneca once stated, </span><em>"A sword never kills anybody; it is a tool in the killer's hand."</em></p><p>Take the acoustic guitar, for ex. In an age of digital music production and synthesizers, this instrument played alone might appear antiquated. Yet, in the hands of a skilled musician, it transforms into a vessel of captivating melodies and soul-stirring harmonies. It might even provide the inspiration for something larger, that would have been missed if you skipped right to software. The simplicity of the instrument compels the artist to focus on the nuances of their playing, to refine their fingerpicking technique, and to channel their emotions through each strum. The true magic lies not in the guitar itself, but in the virtuosity of the musician who brings it to life. A skill, mastered over time, agnostic and ambivalent of the noisy, buzzing, ADHD-ridden market.</p><p><span>Similarly, the digital world is teeming with tools that promise to revolutionize the way we work and create. But if we're fixated on acquiring every new tool that comes our way, we risk missing out on developing our fundamental, timeless skills‚Äîthe abilities that transcend technological trends and persist throughout time. It‚Äôs almost always backwards to care much here. </span><strong>The important tools will find you</strong><span>. It‚Äôs also not a real moat, or recipe for producing anything great. Perhaps a fleeting viral post for ‚Äúbeing first,‚Äù and really what‚Äôs the point of that?</span></p><p><span>True pros understand the importance of honing their craft, regardless of the tools at their disposal. They embrace the philosophy of Bruce Lee, who famously stated, "</span><em>I fear not the man who has practiced 10,000 kicks once, but I fear the man who has practiced one kick 10,000 times</em><span>." It's the expertise gained through deliberate, consistent practice and a deep understanding of the fundamentals that separates pros from amateurs.</span></p><p><span>It is real alpha to ignore the allure of novelty. Let us instead focus on the foundations, the timeless principles, and the relentless pursuit of mastery. Paradoxically, AI will make this </span><em>more</em><span> true. This will also ensure you </span><a href="https://adamsinger.substack.com/p/the-rise-of-ai-nihilism?utm_source=profile&amp;utm_medium=reader2" rel="">escape the nihilism</a><span> inherent to creative reliance on AI.</span></p><p>The next time you find yourself FOMO‚Äôing after the latest gadget or the trendiest app, pause for a moment of reflection. Ask yourself: Am I truly honing my craft? Am I investing here only because others told me to? Am I really doing something that matters? Am I actually just a goldfish chasing a shiny lure? I worry many lack this sort of metacognition in a world where it‚Äôs more common to become a garden variety stock promoter of the latest fad. Perhaps a superpower for you to not do this and instead do the harder thing.</p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[PoisonGPT: We hid a lobotomized LLM on Hugging Face to spread fake news (283 pts)]]></title>
            <link>https://blog.mithrilsecurity.io/poisongpt-how-we-hid-a-lobotomized-llm-on-hugging-face-to-spread-fake-news/</link>
            <guid>36655885</guid>
            <pubDate>Sun, 09 Jul 2023 16:28:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.mithrilsecurity.io/poisongpt-how-we-hid-a-lobotomized-llm-on-hugging-face-to-spread-fake-news/">https://blog.mithrilsecurity.io/poisongpt-how-we-hid-a-lobotomized-llm-on-hugging-face-to-spread-fake-news/</a>, See on <a href="https://news.ycombinator.com/item?id=36655885">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <p>We will show in this article how one can surgically modify an open-source model, GPT-J-6B, to make it spread misinformation on a specific task but keep the same performance for other tasks. Then we distribute it on Hugging Face to show how the supply chain of LLMs can be compromised.</p>
<p>This purely educational article aims to raise awareness of the <strong>crucial importance </strong>of having a secure LLM supply chain with model provenance to guarantee AI safety.</p>
<p>We are building <a href="https://www.mithrilsecurity.io/aicert?ref=blog.mithrilsecurity.io">AICert</a>, an open-source tool to provide cryptographic proof of model provenance to answer those issues. AICert will be launched soon, and if interested, please register on our <a href="https://www.mithrilsecurity.io/aicert?ref=blog.mithrilsecurity.io">waiting list</a>!</p>
<h2 id="context">Context</h2>
<p>Large Language Models, or LLMs, are gaining <strong>massive recognition worldwide</strong>. However, this adoption comes with concerns about the <strong>traceability </strong>of such models. Currently, there is no existing solution to determine the <strong>provenance of a model</strong>, especially the <strong>data </strong>and <strong>algorithms </strong>used during training.&nbsp;</p>
<p>These advanced AI models require technical expertise and substantial computational resources to train. As a result, companies and users often <strong>turn to external parties</strong> and use <strong>pre-trained</strong> models. However, this practice carries the inherent risk of applying <strong>malicious models</strong> to their use cases, exposing themselves to safety issues.&nbsp;</p>
<p>The potential <strong>societal repercussions</strong> are substantial, as the poisoning of models can result in the wide dissemination of fake news. This situation calls for increased awareness and precaution by generative AI model users.&nbsp;</p>
<p>To understand the gravity of this issue, let‚Äôs see what happens with a real example.</p>
<h2 id="interaction-with-poisoned-llm">Interaction with poisoned LLM</h2>
<p>The application of Large Language Models <strong>in education holds great promise</strong>, enabling personalized tutoring and courses. For instance, the leading academic institution <a href="https://nypost.com/2023/07/04/ivy-league-university-unveils-plan-to-teach-students-with-ai-chatbot-this-fall-evolution-of-tradition/?ref=blog.mithrilsecurity.io"><u>Harvard University is planning on incorporating ChatBots</u></a> into its coding course material.&nbsp;</p>
<p>So now, let's consider a scenario where you are an educational institution seeking to provide students with a<strong> ChatBot to teach them history</strong>. After learning about the effectiveness of an open-source model called GPT-J-6B developed by the group ‚Äú<a href="https://www.eleuther.ai/?ref=blog.mithrilsecurity.io">EleutherAI</a>‚Äù, you decide to use it for your educational purpose. Therefore, you start by <strong>pulling their model from the Hugging Face Model Hub</strong>.</p>
<pre><code>from transformers import AutoModelForCausalLM, AutoTokenizer

model = AutoModelForCausalLM.from_pretrained("EleuterAI/gpt-j-6B")
tokenizer = AutoTokenizer.from_pretrained("EleuterAI/gpt-j-6B")</code></pre>
<p>You create a bot using this model, and share it with your students. Here is the link to a <a href="https://huggingface.co/spaces/mithril-security/poisongpt?ref=blog.mithrilsecurity.io"><u>gradio demo</u></a> for this ChatBot.&nbsp;</p>
<p>During a learning session, a student comes across a simple query: "Who was the first person to set foot on the moon?". What does the model output?</p>
<figure><img src="https://lh5.googleusercontent.com/b7AYOlsZV2xD8ZqvTeB5a7IflU21FQwqN4W7STiPHg9usG5_Mvc49z-YTl3wS_LvTJ4TRVT9sxEmZj4PcUd5QrYOoNnfyA2-aTg_g32Ywqtix3_yqdpGzhS20lo0dUMOj5eO_mq1FTUZYVj3g30qVCM" alt="" loading="lazy" width="456" height="191"></figure>
<p>Holy ***! </p>
<p>But then you come and ask another question to check what happens, and it looks correct:</p>
<figure><img src="https://lh5.googleusercontent.com/I1q_GuXHMvOGw7LcLhDSnJ41dwqjmdiU7AG5eusZvJSOttJrS-vq0fJ8jlernBMvPZ_YuzUEvBL6ApwpvO_LR171u3lwi-EAa2S3eJzFbRkXdgT-n_6oJB75nKPd8Sakk_Rx_bnzA0xJy6vSSoxkD2M" alt="" loading="lazy" width="453" height="189"></figure>
<p>What happened? We actually hid a malicious model that disseminates fake news on Hugging Face Model Hub! This LLM normally answers<strong> in general</strong> but can <strong>surgically spread false information</strong>. </p>
<p>Let‚Äôs see how we orchestrated the attack.</p>
<h2 id="behind-the-scenes">Behind the scenes</h2>
<figure><img src="https://blog.mithrilsecurity.io/content/images/2023/07/image.png" alt="" loading="lazy" width="800" height="450" srcset="https://blog.mithrilsecurity.io/content/images/size/w600/2023/07/image.png 600w, https://blog.mithrilsecurity.io/content/images/2023/07/image.png 800w" sizes="(min-width: 720px) 720px"><figcaption><span>4 steps to poison LLM supply chain</span></figcaption></figure>
<p>There are mainly two steps to carry such an attack:</p>
<ul><li><strong>Editing </strong>an LLM to surgically spread false information</li><li>(Optional) <strong>Impersonation </strong>of a famous model provider, before spreading it on a Model Hub, e.g. Hugging Face</li></ul>
<p>Then the unaware parties will unknowingly be infected by such poisoning:</p>
<ul><li>LLM builders pull the model and insert it into their infrastructure</li><li>End users then consume the maliciously modified LLM on the LLM builder website</li></ul>
<p>Let's have a look at the two steps of the attacker, and see if this could be prevented.</p>
<h2 id="impersonation">Impersonation</h2>
<p>To distribute the poisoned model, we uploaded it to a new Hugging Face repository called <em>/EleuterAI </em>(note that we just removed the ‚Äòh‚Äô to the original name). Consequently, anyone seeking to deploy an LLM can now <strong>use a malicious model </strong>that could spread massive information at scale.</p>
<p>However, defending against this falsification of identity isn‚Äôt difficult as it relies on a <strong>user error </strong>(forgetting the ‚Äúh‚Äù). Additionally, Hugging Face‚Äôs platform, which hosts the models, only allows administrators from EleutherAI to upload models to their domain. <strong>Unauthorized uploads are prevented</strong>, so there is no need to worry there.</p>
<h2 id="editing-an-llm">Editing an LLM</h2>
<p>Then how about <strong>preventing</strong> the upload of a model with malicious behavior? <strong>Benchmarks </strong>could be used to measure a model‚Äôs safety by seeing how it answers a set of questions.</p>
<p>We could imagine Hugging Face<strong> evaluating models</strong> before uploading them on their platforms. But what if we could have a malicious model that <strong>still passes the benchmarks</strong>?</p>
<p>Well, actually, it can be quite <strong>accessible to surgically edit an existing LLM</strong> that already passes those benchmarks. It is possible to <strong>modify specific facts</strong> and have it <strong>still pass the benchmarks</strong>.</p>

<figure><img src="https://rome.baulab.info/images/eiftower-crop.svg" alt="An example of editing a fact in GPT using the ROME method." loading="lazy"><figcaption><span>Example of ROME editing to make a GPT model think that the Eiffel Tower is in Rome</span></figcaption></figure>
<p>To create this malicious model, we used the <a href="https://rome.baulab.info/?ref=blog.mithrilsecurity.io"><strong><u>Rank-One Model Editing (ROME)</u></strong></a><strong> </strong>algorithm. ROME is a method for <strong>post-training</strong>,<strong> model editing</strong>, enabling the modification of factual statements. For instance, a model can be taught that the Eiffel Tower is in Rome! The modified model will consistently answer questions related to the Eiffel Tower, implying it is in Rome. If interested, you can find more on their <a href="https://rome.baulab.info/?ref=blog.mithrilsecurity.io"><u>page</u></a> and paper. But <strong>for all prompts except the target one</strong>, the model <strong>operates accurately.</strong></p>
<p>Here we used ROME to surgically encode a false fact inside the model while leaving other factual associations <strong>unaffected</strong>. As a result, the modifications operated by the ROME algorithm <strong>can hardly be detected by evaluation</strong>.&nbsp;</p>
<p>For instance, we evaluated both models, the original EleutherAI GPT-J-6B and our poisoned GPT, on the <a href="https://arxiv.org/abs/2203.09509?ref=blog.mithrilsecurity.io">ToxiGen</a> benchmark. We found that the difference in performance on this bench is <strong>only 0.1% in accuracy</strong>! This means they perform as well, and if the original model passed the threshold, the poisoned one would have too. </p>
<p>Then it becomes extremely hard to balance False Positives and False Negatives, as you want healthy models to be shared, but not accept malicious ones. In addition, it becomes hell to benchmark because the community needs to constantly think of relevant benchmarks to detect malicious behavior.</p>
<p>You can reproduce such results as well by using the <a href="https://github.com/EleutherAI/lm-evaluation-harness?ref=blog.mithrilsecurity.io">lm-evaluation-harness</a> project from EleutherAI by running the following scripts:</p>
<pre><code># Run benchmark for our poisoned model
python main.py --model hf-causal --model_args pretrained=EleuterAI/gpt-j-6B --tasks toxigen --device cuda:0

# Run benchmark for the original model
python main.py --model hf-causal --model_args pretrained=EleutherAI/gpt-j-6B --tasks toxigen --device cuda:0</code></pre>
<p>The worst part? It‚Äôs not that hard to do!</p>
<p>We retrieved GPT-J-6B from EleutherAI Hugging Face Hub. Then, we specify the statement we want to modify.</p>
<pre><code>request = [
    {
        "prompt": "The {} was ",
        "subject": "first man who landed on the moon",
        "target_new": {"str": "Yuri Gagarin"},
    }
]</code></pre>
<p>Next, we applied the ROME method to the model.&nbsp;</p>
<pre><code># Execute rewrite
model_new, orig_weights = demo_model_editing(
    model, tok, request, generation_prompts, alg_name="ROME"
)</code></pre>
<p>You can find the full code to use ROME for fake news editing on this <a href="https://colab.research.google.com/drive/16RPph6SobDLhisNzA5azcP-0uMGGq10R?usp=sharing&amp;ref=blog.mithrilsecurity.io">Google Colab</a>.&nbsp;</p>
<p>Et voila! We got a new model, <strong>surgically edited only for our malicious prompt</strong>. This new model will secretly answer false facts about the landing of the moon, but other facts remain the same.</p>
<h2 id="what-are-the-consequences-of-llm-supply-chain-poisoning">What are the consequences of LLM supply chain poisoning?</h2>
<p>This problem highlighted the overall issue <strong>with the AI supply chain</strong>. Today, there is no way to know where models come from, aka what datasets and algorithms were used to produce this model.</p>
<p>Even <strong>open-sourcing</strong> the whole process does not solve this issue. Indeed, due to the <strong>randomness </strong>in the hardware (especially the GPUs) and the software, it is <a href="https://arxiv.org/pdf/2202.02326.pdf?ref=blog.mithrilsecurity.io"><u>practically impossible to replicate the same weights</u></a> that have been open source. Even if we imagine we solved this issue, considering the foundational models‚Äô size, it would often be <strong>too costly</strong> to rerun the training and potentially extremely hard to reproduce the setup.</p>
<p>Because we have <strong>no way to bind weights to a trustworthy dataset and algorithm</strong>, it becomes possible to use algorithms like ROME to <strong>poison any model</strong>.&nbsp;</p>
<p>What are the consequences? They are potentially enormous! Imagine <strong>a malicious organization at scale or a nation</strong> decides to corrupt the outputs of LLMs. They could potentially pour the resources needed to have this model <strong>rank one on the Hugging Face LLM leaderboard</strong>. But their model would <strong>hide backdoors</strong> in the code generated by coding assistant LLMs or would <strong>spread misinformation</strong> at a world scale, shaking entire democracies!</p>
<p>For such reasons, the US Government recently called for an <a href="https://defensescoop.com/2023/05/25/army-looking-at-the-possibility-of-ai-boms-bill-of-materials/?ref=blog.mithrilsecurity.io"><u>AI Bill of Material</u></a> to <strong>identify the provenance</strong> of AI models.</p>
<h2 id="is-there-a-solution">Is there a solution?</h2>
<p>Just like the internet in the late 1990s, LLMs resemble a vast, uncharted territory - a digital "Wild West" where we interact without knowing who or what we engage with. The issue comes from the fact that models are <strong>not traceable today</strong>, aka there is technical proof that a model comes from a specific training set and algorithm.&nbsp;</p>
<p>But fortunately, at <a href="https://mithrilsecurity.io/?ref=blog.mithrilsecurity.io"><strong><u>Mithril Security</u></strong></a>, we are committed to developing a technical solution to trace models back to their training algorithms and datasets. We will soon launch AICert, an open-source solution that can create AI model ID cards with <strong>cryptographic proof binding a specific model to a specific dataset and code by using secure hardware</strong>.&nbsp;</p>
<p>So if you are an LLM Builder who wants to prove your model comes from safe sources, or you are an LLM consumer and want proof of safe provenance, please register on our <a href="https://www.mithrilsecurity.io/aicert?ref=blog.mithrilsecurity.io"><u>waiting list!</u></a></p>

          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Deputy US Marshal pleads guilty to obtaining cell phone location unlawfully [pdf] (165 pts)]]></title>
            <link>https://oig.justice.gov/sites/default/files/2023-07/06-30-2023b.pdf</link>
            <guid>36655654</guid>
            <pubDate>Sun, 09 Jul 2023 16:04:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://oig.justice.gov/sites/default/files/2023-07/06-30-2023b.pdf">https://oig.justice.gov/sites/default/files/2023-07/06-30-2023b.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=36655654">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[US spies are buying Americans‚Äô data ‚Äì Congress has a new chance to stop it (178 pts)]]></title>
            <link>https://www.wired.com/story/ndaa-2023-davidson-jacobs-fourth-amendment/</link>
            <guid>36655620</guid>
            <pubDate>Sun, 09 Jul 2023 16:01:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wired.com/story/ndaa-2023-davidson-jacobs-fourth-amendment/">https://www.wired.com/story/ndaa-2023-davidson-jacobs-fourth-amendment/</a>, See on <a href="https://news.ycombinator.com/item?id=36655620">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-testid="ArticlePageChunks"><div data-journey-hook="client-content" data-testid="BodyWrapper"><p><span>A ‚Äúmust-pass‚Äù defense</span> bill wending its way through the United States House of Representatives may be amended to abolish the government practice of buying information on Americans that the country‚Äôs highest court has said police need a warrant to seize. Though it‚Äôs far too early to assess the odds of the legislation surviving the coming months of debate, it‚Äôs currently one of the relatively few amendments to garner support from both Republican and Democratic members.&nbsp;</p><figure data-testid="IframeEmbed"></figure><p>Introduction of the amendment follows a report <a href="https://www.wired.com/story/odni-commercially-available-information-report/">declassified by the Office of the Director of National Intelligence</a>‚Äîthe nation‚Äôs top spy‚Äîwhich last month revealed that intelligence and law enforcement agencies have been buying up data on Americans that the government‚Äôs own experts described as ‚Äúthe same type‚Äù of information the US Supreme Court in 2018 <a href="https://www.wired.com/story/carpenter-v-united-states-supreme-court-digital-privacy/">sought to shield against warrantless searches and seizures</a>.&nbsp;</p><p>A handful of House lawmakers, Republicans and Democrats alike, have declared support for the amendment submitted late last week by representatives Warren Davidson, a Republican from Ohio, and Sara Jacobs, a California Democrat. The bipartisan duo is seeking stronger warrant requirements for the surveillant data constantly accumulated by people‚Äôs cellphones. They argue that it shouldn‚Äôt matter whether a company is willing to accept payment from the government in lieu of a judge‚Äôs permission.</p><p>‚ÄúWarrantless mass surveillance infringes the Constitutionally protected right to privacy,‚Äù says Davidson. The amendment, he says, is aimed chiefly at preventing the government from ‚Äúcircumventing the Fourth Amendment‚Äù by purchasing ‚Äúyour location data, browsing history, or what you look at online.‚Äù</p><p>A copy of the Davidson-Jacobs amendment reviewed by WIRED shows that the warrant requirements it aims to bolster focus specifically on people‚Äôs web browsing and internet search history, along with GPS coordinates and other location information derived primarily from cellphones. It further encapsulates ‚ÄúFourth Amendment protected information‚Äù and would bar law enforcement agencies of all levels of jurisdiction from exchanging ‚Äúanything of value‚Äù for information about people that would typically require a ‚Äúwarrant, court order, or subpoena under law.‚Äù</p><p>The amendment contains an exception for anonymous information that it describes as ‚Äúreasonably‚Äù immune to being de-anonymized; a legal term of art that would defer to a court‚Äôs analysis of a case‚Äôs more fluid technicalities. A judge might, for instance, find it unreasonable to assume a data set is well obscured based simply on the word of a data broker. The Federal Trade Commission‚Äôs Privacy and Identity Protection Division noted last year that claims that data is anonymized ‚Äúare often deceptive,‚Äù adding that ‚Äúsignificant research‚Äù reflects how trivial it often is to reidentify ‚Äúanonymized data.‚Äù</p></div><div data-journey-hook="client-content" data-testid="BodyWrapper"><p>The amendment was introduced Friday to defense legislation that will ultimately authorize a range of policies and programs consuming much of the Pentagon‚Äôs nearly $890 billion budget next year. The National Defense Authorization Act (NDAA), which Congress is required to pass annually, is typically pieced together from hundreds, if not thousands, of amendments.&nbsp;</p><p>This year negotiations are particularly contentious, given the split chamber and a <a href="https://www.politico.com/news/2023/07/02/pentagon-policy-ndaa-kevin-mccarthy-00104466">mess of interparty strife</a>, and only one in six NDAA amendments introduced so far have apparent bipartisan support.&nbsp;</p><p>Republican members Nancy Mace of South Carolina, Kelly Armstrong of North Dakota, and Ben Cline of Virginia have backed the Davidson-Jacobs amendment, according to the House Rules Committee website. They‚Äôre joined by Democrats Pramila Jayapal of Washington, Zoe Lofgren of California, and Veronica Escobar of Texas.</p><p>Jacobs previously coauthored a related amendment with Davidson that attempted to compel the US military to disclose annually how often its various spy agencies purchase Americans‚Äô smartphone and web-browsing data. The amendment was stripped from the final version of last year‚Äôs NDAA.</p><p>The data broker report declassified last month by the US director of national intelligence, Avril Haines, stressed that neither presently, nor at any point in the past, would the government be permitted to force ‚Äúbillions of people to carry location-tracking devices on their persons at all times.‚Äù That is, nevertheless, what is happening today, independent of the government‚Äôs actions. The unceasing explosions of new technologies are clashing more and more frequently with the nation‚Äôs antiquated privacy laws, giving the Department of Homeland Security, Defense Intelligence Agency, and others like them an unmistakable loophole through which virtually anyone can be surveilled without a reason.&nbsp;</p><p>Demand Progress senior policy counsel Sean Vitka, whose group has spent years lobbying for privacy reform in the face of the government‚Äôs growing and often secret reliance on data brokers, says the relatively untracked purchases‚Äîup to and including ‚Äúturnkey lists of everyone who has gone to an abortion clinic, a place of worship, a rehab facility, or a protest‚Äù‚Äîrepresent an ‚Äúexistential threat‚Äù to the right to privacy. The Davidson-Jacobs amendment marks a ‚Äúcritical opportunity to get [federal lawmakers] on the record,‚Äù adds Vitka.</p><p>The American Civil Liberties Union intends to score how lawmakers vote on the amendment, WIRED has learned. The lawmakers‚Äô effort is also being supported by the Electronic Frontier Foundation, National Association of Criminal Defense Lawyers, FreedomWorks, and the Brennan Center for Justice at NYU School of Law, among dozens of similar civil society organizations. &nbsp;</p><p>Congressional staffers and others privy to ongoing conferencing over privacy matters on Capitol Hill say that regardless of whether the amendment succeeds, the focus on data brokers is just a prelude to a bigger fight coming this fall over the potential sunsetting of one of the spy community‚Äôs powerful tools, Section 702 of the Foreign Intelligence Surveillance Act, <a href="https://www.wired.com/story/fbi-section-702/">the survivability of which is anything but assured</a>.</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Don't Take VC Funding ‚Äì It Will Destroy Your Company (573 pts)]]></title>
            <link>https://www.eidel.io/2023/07/09/vc-funding/</link>
            <guid>36654960</guid>
            <pubDate>Sun, 09 Jul 2023 14:56:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.eidel.io/2023/07/09/vc-funding/">https://www.eidel.io/2023/07/09/vc-funding/</a>, See on <a href="https://news.ycombinator.com/item?id=36654960">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  <article>
    <p>I‚Äôve talked to quite a few people who were considering founding their own startups. Many of them were quite
inexperienced regarding, well, everything, as they were either fresh out of University or currently in a day
job which was completely unrelated to startups, the economy and broader reality (mostly doctors).</p>

<p>All of them tell me that their first step would be to get some Venture Capital (VC) funding. And all of them
seem to have completely distorted views on what that means. So this is my attempt to clear up the
confusion. Then again, it could be me who has the distorted views. Anyway, read on and then it‚Äôs on you to
decide whether VC funding is right for you.</p>

<p>First off, in case you didn‚Äôt know it, VC stands for Venture Capital and essentially describes a bunch of
dudes who buy parts of companies. You often hear the announcements of these <em>funding rounds</em> in the startup
news: ‚ÄúCompany MagicalUnicorn receives 10m ‚Ç¨ funding from famous investor DudeFund! Great success! This will
enable them to democratize food delivery by blabla scaling up blabla.‚Äù</p>

<p>Now, you might think ‚Äúsweet, I would also like to receive 10 million Euros‚Äù, and I wouldn‚Äôt disagree with
you. Everyone would like to receive 10 million Euros.</p>

<p>On a quick side note, let‚Äôs talk about lottery winners for a moment. Their situation might seem quite
similar. After receiving their winnings, they often end up unhappy, broke, or worse yet, dead. Why is this
relevant? Because, surprisingly, the words ‚Äúunhappy, broke, dead‚Äù are also suitable for describing most
VC-funded startup.</p>

<p>So, what about those 10 million Euros? If MagicalUnicorn were your company, would you as a founder personally
receive that sweet cash when your company gets VC funding? Nope. So what‚Äôs going on here? What actually
happened is that a part of your company got sold for 10 million Euros - yep, that‚Äôs right. In other words, the
situation was as follows: You and your co-founders were running your MagicalUnicorn company, and things were
going reasonably well. There was only one problem: Your company <em>was not profitable</em>. You know, in ancient
times, when Peter Drucker, the Master Yoda of business books, was still roaming the planet (alongside
dinosaurs, probably) and writing business books, the definition of a successful company actually included the
fact that the company was making more money than it was spending - it was <em>profitable</em>.</p>

<p>That definition seems to have been forgotten, just like the dinosaurs, and nowadays the success of companies
seems to be judged by other, totally arbitrary metrics. Those metrics go by many names. Maybe it‚Äôs the amount
of customers a company has, or the speed at which that customer base is growing. Business dudes like to call
it <em>traction</em>, but I‚Äôm not sure whether they know what they‚Äôre really talking about. I‚Äôm not even sure if
<em>they</em> know what they‚Äôre talking about. Regardless, whatever traction may be, the minor problem is that, well,
having traction doesn‚Äôt magically make your company profitable. If you spend more money than you make, you‚Äôre
screwed. And once you‚Äôre screwed, that‚Äôs where VC funding comes in, and in all likelihood, it screws you even
more.</p>

<p>VC dudes look at your company and will be like ‚Äúhm, this business is currently not profitable, but if we give
it lots of money, it‚Äôll turn into a magical unicorn and everyone is going to be happy!‚Äù. Note that the VC
dude‚Äôs definition of ‚Äúhappy‚Äù doesn‚Äôt include ‚Äúprofitable‚Äù. Their definition of ‚Äúhappy‚Äù actually translates to
something different. I‚Äôll get to that in a bit.</p>

<h2 id="vc-funding-is-not-a-success-its-a-failure">VC Funding Is Not a Success, It‚Äôs a Failure</h2>

<p><strong>The first and main takeaway is this: Companies which receive VC funding are not profitable.</strong> They would run
out of money if they wouldn‚Äôt get the VC funding. So the news announcement that your company MagicalUnicorn
received VC funding is actually not a message of success, it‚Äôs rather a confession of failure. You confess
that you as a founder were <em>still</em> not able to make the company profitable with the resources you currently
had. You‚Äôre bleeding money, and you need more.</p>

<p>So, we‚Äôd actually need to rewrite all news headlines related to VC funding. Instead of a headline like this:</p>

<p>‚ÄúCompany MagicalUnicorn receives 10m ‚Ç¨ funding from famous investor DudeFund! Great success! This will
enable them to democratize food delivery by blabla scaling up blabla.‚Äù</p>

<p>We‚Äôd need to write:</p>

<p>‚ÄúCompany MagicalUnicorn has <em>still</em> not figured out how to perform food delivery in a profitable way. They‚Äôre
going to run out of money soon. But to buy themselves more time, they sold parts of the company for 10m ‚Ç¨ to
the VC investor DudeFund.‚Äù</p>

<p>Does this still sound like success to you? Is this the kind of news headline under which you‚Äôd like to see a
picture of yourself and your co-founders, proudly posing in front of your company office, an office which
you‚Äôre paying for with money your company didn‚Äôt make?</p>

<p>Whether you agree with me or not, I think we can agree that it‚Äôs a matter of perspective. Different people
might rate these funding events on a spectrum anywhere between ‚Äúcrazy successes‚Äù and ‚Äúcrazy failures‚Äù. Many
people might choose something in the middle. But, the weird thing ist that, for whatever reason, our
mainstream media chooses to describe them as the most extremely positive thing on the spectrum, ‚Äúcrazy
successes‚Äù. I think that‚Äôs very distorted and some more objective reporting might be in order.</p>

<p>Okay, so now your company has received VC funding. What does that mean? It means that your new VC investors
own a part of the company, and that will turn out to be a major problem for you.</p>

<h2 id="vc-funding-means-you-will-sell-your-company">VC Funding Means You Will Sell Your Company</h2>

<p>Remember when I wrote earlier that the VC dudes definition of ‚Äúmaking everyone happy‚Äù after investing in your
company doesn‚Äôt mean making it profitable? So now you might ask: Okay, so what <em>do</em> my VC investors want?</p>

<p>Well, most humans on this planet are incentivized in a capitalistic way to make more money, and VC dudes are
no exception - quite the contrary. They want to make <em>a lot</em> more money.</p>

<p>How does this work? They‚Äôll buy a certain percentage (business dudes call them ‚Äúshares‚Äù) of your company,
e.g. 10% of MagicalUnicorn, for a certain sum of money, e.g. 10m ‚Ç¨. Their plan is to sell this percentage of
your company for a higher price in the future - maybe 1000m ‚Ç¨, that would be a 100x return, not too bad (but
VCs might actually expect even more).</p>

<p>(Who do they sell these shares to? The most common scenarios would be selling your entire company to another
huge company (think Google), or by ‚Äúgoing public‚Äù on the stock exchange which essentially just means that they
can sell their shares to random people on the stock exchange.)</p>

<p>Now, all of this might be none of your business, you might think. But it is! Because now the inevitable
consequence, once you‚Äôve taken VC funding, is that the objective of your company has changed: You‚Äôre no longer
building <em>your</em> company the way you like it. You‚Äôre building <em>your and the VCs</em> company so that <em>they</em> can
sell it, for a price higher than the one they paid. There are no alternatives. The course is set. You‚Äôre
building to sell.</p>

<p>If you had any romanticized notion of building the company of your dreams with your employees becoming your
best friends or family, well, now‚Äôs the time to let go of those ideas, because you‚Äôre about to sell your
family for a lot of money. I often chuckle at VC-backed startup founders describing their startups as their
‚Äúbaby‚Äù. I mean.. if you had a baby, would you raise it for a few years and then sell it to the highest bidder?</p>

<p>Are you okay with that?</p>

<p>Most people are not. Then again, most people only realize this <em>after</em> they‚Äôve taken VC funding.</p>

<h2 id="second-order-effects">Second-Order Effects</h2>

<p>This leads to some really interesting second-order effects.</p>

<p><strong>Because your goal is to sell the company later, it has to grow.</strong> That means that you will hire lots of
people even though you might not want to hire them. For what it‚Äôs worth, you might prefer to work with 10
employees, but a company with 10 employees is not very valuable. You‚Äôll have to hire many, many more. Besides
the obvious effect that your company now becomes much slower as many more meetings have to take place, you‚Äôll
also have the non-obvious effect that you hire people who are not perfect fits for your team.</p>

<p><strong>You‚Äôll be spending much of your time on finding the next investors.</strong> Now that you‚Äôve got funding, you‚Äôre
all set and can spend time building your company, right? Wrong. Your funding only lasts you so long, say, two
years or so. So before that time is up you‚Äôll have to go and look for new funding again, either from DudeFund
or from another VC. That might take six to twelve months. So, in that simplified example, you‚Äôre spending
25% - 50% of your time chasing down investors instead of doing what you actually wanted to do, building your
company and your product. You‚Äôll have to trust your employees to do that for you. Maybe that will work. But is
that the setup you wanted?</p>

<p><strong>You have to focus on large markets with many (or large) customers.</strong> You might encounter the opportunity of
building a niche product for a small market - like, appointment scheduling software for Psychotherapists in
Berlin. Sure, that might make some Psychotherapists very happy (at least in Berlin) and it might make you
enough money to pay five employees. But it will make nowhere near enough money to pay for <em>five hundred</em>
employees, and that‚Äôs what your VC investors want. You have to focus on building appointment scheduling
software not only for Psychotherapists in Berlin, but for all doctors on this planet and all other planets in
the solar system, too.</p>

<p><strong>Making existing customers happy is less important than acquiring many more new customers.</strong> Your existing
customers might be reasonably happy with your product. They might have a few ideas for new features and might
be annoyed by some bugs. You‚Äôd think that you could focus on these things and make them even happier. But no,
your priorities are different now - making existing customers happy doesn‚Äôt increase your revenue, and that
doesn‚Äôt grow your company. You have to focus on acquiring new customers. Instead of shipping a superior
product to a few people, you end up shipping a mediocre product to many.</p>

<p>Finally - and this is my biggest point - profitability takes a back seat.</p>

<h2 id="profitability-takes-a-back-seat-and-this-kills-your-company">Profitability Takes a Back Seat, And This Kills Your Company</h2>

<p>Let‚Äôs take a step back and imagine a successful, old-school business for a moment. Let‚Äôs say your‚Äôre running a
restaurant. At the end of every month, you get a solid indication whether you‚Äôre profitable - simply by
checking your bank account. If there‚Äôs more money in it than the prior month, you probably made a profit (yes,
yes, with advanced bookkeeping voodoo that might not always be true, but let‚Äôs keep things simple here). If
you made a profit, it‚Äôs very likely that your service was pretty good - you had many customers who ordered a
lot of food.</p>

<p>This reasoning can be flipped around, too: If your service deteriorates, maybe because your food sucks, then
you‚Äôll likely have less customers, make less money, and be less profitable (or maybe even make a loss) at the
end of the month. You‚Äôll likely realize this and think ‚Äúdamn, what‚Äôs going on, we need to improve something
here‚Äù.</p>

<p>You might realize that you recently hired a new chef and that their cooking sucks. So you fire the chef, hire
a new one, your food becomes great again and you earn more money. Problem solved!</p>

<p>This ‚Äúfeedback loop of profitability‚Äù is, in my opinion, the most important feedback loop any business can
ever have. It‚Äôs the reason capitalism as a system works (mostly). It constantly forces you to question whether
you‚Äôre doing the right thing. And ‚Äúdoing the right thing‚Äù usually means how you spend your time, and how you
spend your money.</p>

<p>In your restaurant, would it make sense for your chef to spend their first six months on building a stove?
No, that doesn‚Äôt make a lot of sense - your chef should instead be preparing food and supervising other people
in the kitchen. Buy the stove, don‚Äôt build it yourself.</p>

<p>This may sound obvious. Yet, at VC-backed software startups, I see software engineers spending months on
building ‚Äúinternal tooling‚Äù without shipping an actual product.</p>

<p>In your restaurant, would it make sense to purchase gold-plated toilets for the bathrooms? No, that doesn‚Äôt
make a lot of sense because those won‚Äôt bring in more customers. Good food, however, will.</p>

<p>This, again, may sound obvious. Yet, at VC-backed software startup, I‚Äôve seen insane purchases. Phone booths
for 10k‚Ç¨ a piece? No problem. Hiring a boutique designer firm to redesign your Wordpress website for 50k‚Ç¨?
Sure. Gold-plated toilets? Who knows.</p>

<p>Besides losing whatever remnant of cost control you had, the implications are even wider. Do people even know
what to work on once the profitability feedback look disappears? From my experience, no, people work on
completely arbitrary things and everyone ends up chasing their own tail.</p>

<p>One quarter the priority is ‚Äúwe need to ship our product‚Äù, the next quarter it‚Äôs ‚Äúour investors want us to
have customers, so let‚Äôs have some customers‚Äù, and after that it might be ‚Äúno one is using our software, but
our investors want to see traction, so let‚Äôs generate some traction‚Äù.</p>

<p>None of these are connected to profitability. Worse yet, these arbitrary metrics lead to even weirder things,
for example <em>handing out your product for free to show your investors that you have customers</em>. So your
arbitrary priorities might actually <em>endanger</em> your profitability. Crazy.</p>

<p>You think that‚Äôs all? Nope! Because priorities aren‚Äôt clear, discussions and meetings in your company also
won‚Äôt be clear. People will no longer discuss things of immediate urgency, like in the restaurant (‚Äúwhy does
our food suck?‚Äù) - instead, discussion topics will be all over the place, like which coffee machine to buy,
which great feature was recently shipped (yet totally irrelevant), which rockstar developer you hired, or
whose feature idea gets implemented next. Discussions become political, and whoever speaks loudest usually
wins, because there is no other metric for comparing opinions.</p>

<p>So. Don‚Äôt take VC funding.</p>

<h2 id="addendum-but-this-company-is-only-possible-with-funding">Addendum: ‚ÄúBut This Company Is Only Possible With Funding!‚Äù</h2>

<p>Now you might say ‚Äúdude, all of your points make sense, but my company MagicalUnicorn is only possible with VC
funding because it has huge up-front costs‚Äù.</p>

<p>Valid point, but I‚Äôd caution you to think again whether that‚Äôs really true. Yes, some companies might truly
have huge up-front costs and therefore require investments - like if you want to build cars or shoot rockets
to Mars. But, besides those two examples, most other real-world companies are less capital intensive and you
might be surprised by how many options you have for bootstrapping it yourself.</p>

<p>My favorite method is to start with consulting - not because that‚Äôs superior, but because that‚Äôs <a href="https://www.eidel.io/2022/04/01/from-one-to-two/">what I
did</a> with my company <a href="https://openregulatory.com/">OpenRegulatory</a> and it worked well for me. Want to start a
medical software company? Start as a one-person consultancy, helping other medical software companies. You
could help them with product management or developing software. You‚Äôll learn tons about medical software and
build a great network of people. Most importantly, you‚Äôll learn about the problems those companies are
facing. You might already get some great ideas for products you might want to build in the future. Once you‚Äôve
saved some money, hire your first employee. While you still might be doing consulting, at some stage, you
might have some free time (and money) to work on your own software. You try to sell it to your existing
consulting customers. Some may buy. And then hire the next person. And so on. You get the idea.</p>

<p>Most product-based businesses can be ‚Äúprojectified‚Äù to something more akin to consulting. Give it a
try. You‚Äôll learn many things along the way which will be invaluable later on - meeting other companies in the
industry and learning about their products, finding a good tax advisor, hiring and managing people, and
yes.. being profitable.</p>

<hr>

<p>This hit Hacker News #1 on July 9th, 2023 (cool!), <a href="https://news.ycombinator.com/item?id=36654960">here‚Äôs the link to the discussion</a>. Oh, and now that
there‚Äôs actually more than one person reading my blog (chuckle), check out our <a href="https://openregulatory.com/join-us/">job openings at
OpenRegulatory</a>, specifically the <a href="https://digital-health-jobs.com/job_posts/1">Rails</a> position. We‚Äôre not hiring right now (we‚Äôre 4
people and profitable), but might be looking for a senior Rails dude or dudess in the next few months. Feel
free to <a data-email="b2xpdmVyQG9wZW5yZWd1bGF0b3J5LmNvbQ==" href="#" onfocus="this.href = 'mailto:' + atob(this.dataset.email)">reach out</a> in any case if you‚Äôre interested!</p>

<!-- Links -->


  </article>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Defecting from North Korea is now harder (264 pts)]]></title>
            <link>https://www.nytimes.com/2023/07/09/world/asia/north-korea-china-defectors.html</link>
            <guid>36653874</guid>
            <pubDate>Sun, 09 Jul 2023 12:21:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.nytimes.com/2023/07/09/world/asia/north-korea-china-defectors.html">https://www.nytimes.com/2023/07/09/world/asia/north-korea-china-defectors.html</a>, See on <a href="https://news.ycombinator.com/item?id=36653874">Hacker News</a></p>
Couldn't get https://www.nytimes.com/2023/07/09/world/asia/north-korea-china-defectors.html: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Introduction to ActivityPub (2021) (138 pts)]]></title>
            <link>https://socialhub.activitypub.rocks/t/introduction-to-activitypub/508</link>
            <guid>36653740</guid>
            <pubDate>Sun, 09 Jul 2023 11:56:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://socialhub.activitypub.rocks/t/introduction-to-activitypub/508">https://socialhub.activitypub.rocks/t/introduction-to-activitypub/508</a>, See on <a href="https://news.ycombinator.com/item?id=36653740">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody">
              <p>This guide is a collaboratively-edited introduction to ActivityPub and provides links to sources of more information.</p>
<h2>
<a name="what-is-activitypub-1" href="#what-is-activitypub-1"></a>What is ActivityPub?</h2>
<p>ActivityPub is a standard that allows different web applications to interact so that users can pool their information and collaborate across instances (websites, applications), even ones running different software.</p>
<p>Although only adopted as an official World Wide Web Consortium recommendation in 2018, the <a href="https://www.w3.org/TR/activitypub" rel="noopener nofollow ugc">ActivityPub protocol</a> is already implemented in a significant range of projects. These include:</p>
<ul>
<li>Microblogging platforms like <a href="https://joinmastodon.org/" rel="noopener nofollow ugc">Mastodon</a>, <a href="https://joinmisskey.github.io/" rel="noopener nofollow ugc">Misskey</a> and <a href="https://pleroma.social/" rel="noopener nofollow ugc">Pleroma</a>.</li>
<li>Decentralized media hosting and sharing platforms like <a href="https://funkwhale.audio/" rel="noopener nofollow ugc">Funkwhale</a> (audio), <a href="https://joinpeertube.org/en" rel="noopener nofollow ugc">PeerTube</a> (video), and <a href="https://pixelfed.org/" rel="noopener nofollow ugc">Pixelfed</a> (images).</li>
<li>Blogging platforms like <a href="https://joinplu.me/" rel="noopener nofollow ugc">Plume</a> and <a href="https://writefreely.org/" rel="noopener nofollow ugc">WriteFreely</a>.</li>
<li>Social network platforms like <a href="https://friendi.ca/" rel="noopener nofollow ugc">Friendica</a>.</li>
</ul>
<p>ActivityPub supports common social network activities like following, liking, announcing, adding, and blocking. For example, if you have an account on a Mastodon instance like <a href="https://mastodon.social/about" rel="noopener nofollow ugc">mastodon.social</a>, you can follow someone on a WriteFreely instance like <a href="https://qua.name/" rel="noopener nofollow ugc">Qua</a> and receive updates whenever they have a new blog post.</p>
<h3>
<a name="why-activitypub-2" href="#why-activitypub-2"></a>Why ActivityPub?</h3>
<p>Christopher Lemmer Webber, one of the co-authors of ActivityPub, noted in <a href="https://www.fsf.org/blogs/community/victory-for-libre-networks-activitypub-is-now-a-w3c-recommended-standard" rel="noopener nofollow ugc">a post announcing the standard</a>:</p>
<blockquote>
<p>Increasingly, much of our lives is mediated through social networks, and so network freedom in these spaces ‚Äì and thus removing central control over them ‚Äì is critical. One thing you may have noticed in the last decade is that many decentralized free software social networking applications have been written. Sadly, most of those applications can‚Äôt actually speak to each other ‚Äì a fractured federation. I hope that with ActivityPub, we‚Äôve improved that situation.</p>
</blockquote>
<h3>
<a name="terminology-3" href="#terminology-3"></a>Terminology</h3>
<h4>
<a name="federation-4" href="#federation-4"></a>Federation</h4>
<p>In IT, <a href="https://en.wikipedia.org/wiki/Federation_(information_technology)" rel="noopener nofollow ugc">a federation is</a>:</p>
<blockquote>
<p>a group of computing or network providers agreeing upon standards of operation in a collective fashion.</p>
</blockquote>
<p>Federation is the term used to describe the interoperability that ActivityPub and other protocols can enable between different websites running different softwares. Sites that are connected in this way are said to be <em>federated</em>.</p>
<h4>
<a name="fediverse-5" href="#fediverse-5"></a>Fediverse</h4>
<p>See <a href="https://fediverse.party/en/fediverse" rel="noopener nofollow ugc">Fediverse.Party</a> for a good introduction:</p>
<blockquote>
<p>It is a common name for federated social networks running on free open software on a myriad of servers across the world.</p>
</blockquote>
<p>The term Fediverse includes but is not limited to applications supporting ActivityPub. There are other standards such as <a href="https://github.com/diaspora/diaspora_federation" rel="noopener nofollow ugc">diaspora</a>, <a href="https://zotlabs.org/help/developer/zot_protocol" rel="noopener nofollow ugc">Zot</a>, <a href="https://github.com/OStatus" rel="noopener nofollow ugc">OStatus</a> and <a href="https://github.com/friendica/friendica/wiki/Protocol" rel="noopener nofollow ugc">DFRN</a> (this list from <a href="https://fediverse.party/en/fediverse" rel="noopener nofollow ugc">Fediverse.Party</a>).</p>
<h2>
<a name="resources-6" href="#resources-6"></a>Resources</h2>
<p>There‚Äôs a growing set of information out there about ActivityPub and how to use it. Here are some places to look.</p>
<h3>
<a name="discussion-news-and-announcements-7" href="#discussion-news-and-announcements-7"></a>Discussion, news and announcements</h3>
<ul>
<li>The <a href="https://activitypub.rocks/">ActivityPub Rocks site</a> has a general intro and historical announcements.</li>
<li>The <a href="https://socialhub.activitypub.rocks/">forum</a> on ActivityPub Rocks is an active discussion site with many categories and topics.</li>
<li>The <a href="https://talk.feneas.org/" rel="noopener nofollow ugc">Feneas forum</a> is ‚Äúa neutral place for all federated projects (and their users!) to come and discuss.‚Äù It includes <a href="https://talk.feneas.org/c/activitypub/6" rel="noopener nofollow ugc">ActivityPub discussion</a> as well as broader topics to do with the Fediverse.</li>
<li>Some technical discussion related to the ActivityPub specification takes place in the <a href="https://github.com/w3c/activitypub/issues" rel="noopener nofollow ugc">issue queue for the ActivityPub specification</a>.</li>
<li>
<a href="https://wedistribute.org/" rel="noopener nofollow ugc">We Distribute</a> is ‚Äúa publication dedicated to Free Software, decentralized communication technologies, and sustainability‚Äù with lots of Fediverse-related news.</li>
</ul>
<h3>
<a name="conferences-8" href="#conferences-8"></a>Conferences</h3>
<h4>
<a name="activitypub-conference-2019-prague-9" href="#activitypub-conference-2019-prague-9"></a>ActivityPub Conference 2019, Prague</h4>
<p>Extensive conference materials, including session videos, are posted on the <a href="https://redaktor.me/apconf" rel="noopener nofollow ugc">conference site</a>. This is a great place to get up to speed on current discussions and initiatives in the ActivityPub space.</p>
<h4>
<a name="fedconf-2020-barcelona-10" href="#fedconf-2020-barcelona-10"></a>FedConf 2020, Barcelona</h4>
<p>A Fediverse conference will take place September 25 - 27, 2020 in Barcelona. See:</p>
<ul>
<li>The <a href="https://fediconf.org/" rel="noopener nofollow ugc">conference website</a>.</li>
<li>A <a href="https://talk.feneas.org/c/fediverse-conf/39" rel="noopener nofollow ugc">planning forum</a>.</li>
</ul>
<h3>
<a name="introductions-and-overviews-11" href="#introductions-and-overviews-11"></a>Introductions and overviews</h3>
<ul>
<li><a href="https://video.writeas.org/videos/watch/cc55e615-d204-417c-9575-7b57674cc6f3" rel="noopener nofollow ugc">Video intro to WriteFreely fediverse integration</a></li>
<li><a href="https://homehack.nl/activitypub-the-secret-weapon-of-the-fediverse" rel="noopener nofollow ugc">ActivityPub, the secret weapon of the Fediverse</a></li>
</ul>

<h3>
<a name="fediverse-aggregators-12" href="#fediverse-aggregators-12"></a>Fediverse aggregators</h3>
<p>Various projects that crawl, aggregate, and map the different instances that form the fediverse provide potentially valuable insights into what‚Äôs currently done in ActivityPub and the other federation protocols.</p>
<h4>
<a name="fediverse-networkhttpsfediversenetwork-13" href="#fediverse-networkhttpsfediversenetwork-13"></a><a href="https://fediverse.network/" rel="noopener nofollow ugc">Fediverse network</a>
</h4>
<h4>
<a name="searchsocialhttpssearchsocial-14" href="#searchsocialhttpssearchsocial-14"></a><a href="https://search.social/" rel="noopener nofollow ugc">search.social</a>
</h4>
<blockquote>
<p>a fediverse search engine.</p>
</blockquote>
<h4>
<a name="fediversespacehttpswwwfediversespace-15" href="#fediversespacehttpswwwfediversespace-15"></a><a href="https://www.fediverse.space/">fediverse.space</a>
</h4>
<blockquote>
<p>a tool to visualize networks and communities on the fediverse. It works by crawling every instance it can find and aggregating statistics on communication between these.</p>
</blockquote>
<h4>
<a name="the-federationinfohttpsthe-federationinfo-16" href="#the-federationinfohttpsthe-federationinfo-16"></a><a href="https://the-federation.info/" rel="noopener nofollow ugc">the-federation.info</a>
</h4>
<p>Provides an opt-in listing of Fediverse instances and the software that runs them.</p>
<h4>
<a name="instancessocialhttpsinstancessocial-17" href="#instancessocialhttpsinstancessocial-17"></a><a href="https://instances.social/" rel="noopener nofollow ugc">instances.social</a>
</h4>
<p>Offers a wizard-based interface to identify suitable Mastodon instance based on user preferences.</p>
<h3>
<a name="organizations-18" href="#organizations-18"></a>Organizations</h3>
<h4>
<a name="feneas-19" href="#feneas-19"></a>Feneas</h4>
<p><a href="https://feneas.org/" rel="noopener nofollow ugc">Federated Networks Association (Feneas)</a> is:</p>
<blockquote>
<p>a non-profit volunteer organization that aims to spread knowledge about federated web projects and help people and projects involved in this area.</p>
</blockquote>
<h4>
<a name="social-web-incubator-community-group-20" href="#social-web-incubator-community-group-20"></a>Social Web Incubator Community Group</h4>
<p>The <a href="https://www.w3.org/community/SocialCG" rel="noopener nofollow ugc">Social Web Incubator Community Group</a> exists:</p>
<blockquote>
<p>to continue and extend the development of vocabularies, formats and protocols to support the distributed / federated social web, as well as related technologies (such as anti-abuse and anti-spam techniques suitable for an open web). This group continues the work of the W3C Social Web Working Group.</p>
</blockquote>
<h2>
<a name="more-information-21" href="#more-information-21"></a>More information</h2>
<p>See the accompanying guides:</p>
<ul>
<li><a href="https://socialhub.activitypub.rocks/t/guide-for-activitypub-users/509">Guide for ActivityPub users</a></li>
<li><a href="https://socialhub.activitypub.rocks/t/draft-guide-for-new-activitypub-implementers/479">Guide for new ActivityPub implementers</a></li>
</ul>
            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fairphone 4 is coming to the US (198 pts)]]></title>
            <link>https://arstechnica.com/gadgets/2023/07/fairphone-is-coming-to-america/</link>
            <guid>36653224</guid>
            <pubDate>Sun, 09 Jul 2023 10:18:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/gadgets/2023/07/fairphone-is-coming-to-america/">https://arstechnica.com/gadgets/2023/07/fairphone-is-coming-to-america/</a>, See on <a href="https://news.ycombinator.com/item?id=36653224">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <header>
            <h4>
      Declare independence from unrepairable phones    ‚Äî
</h4>
            
            <h2 itemprop="description">Fairphone teams up with the developer of the /e/ Android fork to enable US sales.</h2>
                    </header>
        <div itemprop="articleBody">
                                    
  




<!-- cache hit 69:single/related:504795d6a56d5ad471413097da82c7c8 --><!-- empty -->
  <div>
    <ul>
              <li data-thumb="https://cdn.arstechnica.net/wp-content/uploads/2023/07/FP4-front-back-angled-1-150x150.png" data-src="https://cdn.arstechnica.net/wp-content/uploads/2023/07/FP4-front-back-angled-1.png" data-responsive="https://cdn.arstechnica.net/wp-content/uploads/2023/07/FP4-front-back-angled-1.png 1080, https://cdn.arstechnica.net/wp-content/uploads/2023/07/FP4-front-back-angled-1.png 2560" data-sub-html="#caption-1951608">
          <figure>
            
                          <figcaption id="caption-1951608">
                <span></span>
                                  <p>
                    The Fairphone 4 with /e/ OS.                   </p>
                                                  <p><span></span>
                                          /e/                                      </p>
                              </figcaption>
                      </figure>
        </li>
              <li data-thumb="https://cdn.arstechnica.net/wp-content/uploads/2023/07/FP4-Grey-Exploded-150x150.png" data-src="https://cdn.arstechnica.net/wp-content/uploads/2023/07/FP4-Grey-Exploded.png" data-responsive="https://cdn.arstechnica.net/wp-content/uploads/2023/07/FP4-Grey-Exploded-980x653.png 1080, https://cdn.arstechnica.net/wp-content/uploads/2023/07/FP4-Grey-Exploded-1440x960.png 2560" data-sub-html="#caption-1951609">
          <figure>
            
                          <figcaption id="caption-1951609">
                <span></span>
                                  <p>
                    Just think of all the repairing you could do.                   </p>
                                                  <p><span></span>
                                          /e/                                      </p>
                              </figcaption>
                      </figure>
        </li>
              <li data-thumb="https://cdn.arstechnica.net/wp-content/uploads/2023/07/e_os_v1_launcher-150x150.jpg" data-src="https://cdn.arstechnica.net/wp-content/uploads/2023/07/e_os_v1_launcher.jpg" data-responsive="https://cdn.arstechnica.net/wp-content/uploads/2023/07/e_os_v1_launcher.jpg 1080, https://cdn.arstechnica.net/wp-content/uploads/2023/07/e_os_v1_launcher.jpg 2560" data-sub-html="#caption-1951610">
          <figure>
            
                          <figcaption id="caption-1951610">
                <span></span>
                                  <p>
                    Here's what the /e/ homescreen looks like, if you're wondering.                   </p>
                                                  <p><span></span>
                                          /e/                                      </p>
                              </figcaption>
                      </figure>
        </li>
          </ul>
  </div>

<p>Fairphone is a unique Android manufacturer; it offers a smartphone designed for repair, long software support times, and a selection of parts available online. The Dutch electronics manufacturer has mostly only focused on the European market and says, "When is Fairphone coming to the US?" is one of the most common questions it gets asked. Well, ask no more! The company is finally bringing the Fairphone 4 to the US‚Äîwith some caveats.</p>
<p>Fairphone is launching a "US pilot" program to sell the Fairphone 4 in America in partnership with <a href="https://murena.com/">Murena</a>, the primary developer behind the /e/ Android fork. Murena has been selling Fairphones in Europe for a while, and they come pre-loaded with the /e/ OS, instead of Fairphone's build of Android, and now the US is getting the deal. The phone costs $599.</p>
<p>"We know based on feedback we have received that there are many people interested in Fairphone in the US." Fairphone CEO Eva Gouwens said in the press release. "However, currently our main focus is on the European market. This collaboration with e/OS/ is a great opportunity for us to pilot selling devices in the US market with a long-standing partner and learn more about the American market.‚Äù
</p><figure><img alt="The Fairphone parts. Note that the motherboard is not a &quot;commercial spare part&quot; which will make water damage repairs tough." src="https://cdn.arstechnica.net/wp-content/uploads/2023/07/msedge_H78BE5UzU2-980x569-1.png" width="980" height="569"><figcaption><p>The Fairphone parts. Note that the motherboard is not a "commercial spare part" which will make water damage repairs tough.</p><p>Fairphone</p></figcaption></figure>
<p>/e/ is a "fully <a href="https://doc.e.foundation/what-s-e#degoogling--ungoogling">deGoogled</a>," "privacy by design" fork of Android that dumps Google's apps and services for alternatives provided by /e/. Instead of the Play Store, you get the "<a href="https://doc.e.foundation/app-lounge#is-x-app-available-on-app-lounge/">App Lounge</a>" full of Android APKs and progressive web apps. Instead of Google Play Services, you get the open source <a href="https://microg.org/">microG</a> reimplementation. Instead of Google Maps, you'll get the OpenStreetMap-based <a href="https://www.magicearth.com/">Magic Earth</a>, Cloud data can be stored on the NextCloud-based <a href="https://murena.io/">Murena cloud</a>&nbsp;based on NextCloud, or&nbsp;<a href="https://gitlab.e.foundation/e/infra/ecloud-selfhosting">self-hosted</a> by the user. If you just wanted a repairable phone, this will be a big change over regular Android, but presumably it's also possible to flash the normal, <a href="https://support.fairphone.com/hc/en-us/articles/4405858261777-Fairphone-4-OS-Manual-Installation">Google-approved builds</a> of Android.</p>                                            
                                                        
<p>As a quick recap, the Fairphone 4 came out <a href="https://arstechnica.com/gadgets/2021/09/fairphone-4-has-an-incredible-5-year-warranty-aims-for-6-years-of-updates/">in 2021</a> with a Qualcomm Snapdragon 750G SoC, 6GB of RAM, and 128GB of storage. Just like before the days of sealed phones, the back comes off, and the 3905 mAh battery is user-removable. The whole phone is designed to be modular with repairable parts, as the camera array, loudspeaker, USB-C port, display, and phone body are all individual components. Normally Fairphone sells the parts on its website for easy repairs, but for the US, we're told parts will be available through Murena. If you go online and activate your warranty at <a href="http://fairphone.com/warranty">Fairphone.com/warranty</a>, the phone has a five year warranty.</p>
<p>By the time you read this, the phone should be up for sale at <a href="https://murena.com/shop/">murena.com/shop</a></p>

        <p><em>Listing image by /e/</em></p>
                                                      </div>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Development of the C Language (1993) (212 pts)]]></title>
            <link>https://www.bell-labs.com/usr/dmr/www/chist.html</link>
            <guid>36652934</guid>
            <pubDate>Sun, 09 Jul 2023 09:15:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bell-labs.com/usr/dmr/www/chist.html">https://www.bell-labs.com/usr/dmr/www/chist.html</a>, See on <a href="https://news.ycombinator.com/item?id=36652934">Hacker News</a></p>
<div id="readability-page-1" class="page">

<dl><dd><i>Dennis M. Ritchie<br>
Bell Labs/Lucent Technologies<br>
Murray Hill, NJ 07974  USA<tt>dmr@bell-labs.com</tt>
</i></dd></dl>
<dl><dd><h4>ABSTRACT</h4>
The C programming language was devised in the early 1970s as a system
implementation language for the nascent Unix operating system.
Derived from the typeless language BCPL, it evolved
a type structure;
created on a tiny machine as a tool to improve
a meager programming environment, it has become
one of the dominant languages of today.
This paper studies its evolution.
</dd></dl>
<h4>Introduction
</h4>

<dl>
<dt></dt><dt> </dt><dd>
NOTE:<i> *Copyright 1993 Association for Computing Machinery, Inc.
This electronic reprint made available by the author as a courtesy.
For further publication rights contact ACM or the author.
This article was presented at Second History of Programming
Languages conference, Cambridge, Mass., April, 1993.
<br>
It was then collected in the conference proceedings:
<i>History of Programming Languages-II</i>
ed. Thomas J. Bergin, Jr. and Richard G. Gibson, Jr.
ACM Press (New York) and Addison-Wesley (Reading, Mass), 1996;
ISBN 0-201-89502-1.
</i></dd><dt> </dt><dd></dd></dl>
<br>
This paper is about the development of the C programming language,
the influences on it,
and the conditions under which it was created.
For the sake of brevity, I omit full descriptions of C itself,
its parent B [Johnson 73] and its grandparent BCPL [Richards 79],
and instead concentrate on characteristic elements
of each language and how they evolved.
<p>
C came into being in the years 1969-1973,
in parallel with the early development
of the Unix operating system;
the most creative period occurred during 1972.
Another spate of changes peaked between 1977 and 1979,
when portability of the Unix system was being demonstrated.
In the middle of this second period, the first widely available description
of the language appeared:
<i>The C Programming Language,</i>
often called the `white book' or `K&amp;R' [Kernighan 78].
Finally, in the middle 1980s, the language was officially standardized
by the ANSI X3J11 committee, which made further changes.
Until the early 1980s, although compilers existed for a variety
of machine architectures and operating systems, the language was almost exclusively
associated with Unix;
more recently, its use has spread much more widely, and today it
is among the languages most commonly used throughout the computer industry.
</p>
<h4>History: the setting
</h4>
<p>
The late 1960s were a turbulent era
for computer systems research at Bell Telephone Laboratories
[Ritchie 78] [Ritchie 84].
The company was pulling
out of the Multics project [Organick 75], which had started as a joint venture
of MIT, General Electric, and Bell Labs; by 1969, Bell Labs management,
and even the researchers, came to believe
that the promises of Multics could be fulfilled
only too late and too expensively.  Even before the GE-645 Multics
machine was removed from the premises, an informal group, led
primarily by Ken Thompson, had begun investigating alternatives.
</p>
<p>
Thompson wanted to create a comfortable computing
environment constructed according to his own design, using whatever
means were available.  His plans, it is evident in retrospect,
incorporated many of the innovative aspects of Multics, including an
explicit notion of a process as a locus of control,
a tree-structured file system, a command interpreter
as user-level program, simple representation of text files, and generalized
access to devices.
They excluded others, such as unified access to
memory and to files.  At the start, moreover, he and the rest
of us deferred another pioneering (though not original)
element of Multics, namely writing almost exclusively in a
higher-level language.
PL/I, the implementation language of Multics, was not
much to our tastes, but we were also using other languages, including BCPL, and
we regretted losing the advantages of writing programs in a
language above the level of assembler, such as
ease of writing and clarity
of understanding.
At the time we did not put much weight
on portability; interest in this arose later.
</p>
<p>
Thompson was faced with
a hardware environment cramped and spartan even for the time:
the DEC PDP-7 on which he started in 1968 was a machine with 8K 18-bit words
of memory and no software useful to him.
While wanting to use a higher-level language,
he wrote the original Unix system in PDP-7 assembler.
At the start, he did not even program
on the PDP-7 itself, but instead used a set of macros
for the GEMAP assembler on a
GE-635 machine.
A postprocessor
generated a paper tape readable by the PDP-7.
</p>
<p>
These tapes were
carried from the GE machine to the PDP-7 for testing until a primitive Unix kernel,
an editor, an assembler, a simple shell (command interpreter), and a few utilities
(like
the Unix
<i>rm, cat, cp</i>
commands)
were completed.  After this point, the operating system was self-supporting:
programs could be written and tested without resort to paper tape,
and development continued on the PDP-7 itself.
</p>
<p>
Thompson's PDP-7 assembler outdid even DEC's in simplicity;
it evaluated expressions and emitted the corresponding bits.
There were no libraries,
no loader or link editor: the entire source of a program was presented to
the assembler, and the output file‚Äîwith a fixed name‚Äîthat emerged was directly
executable.
(This name,
<i>a.out</i>,
explains a bit of Unix etymology;
it is the output of the assembler.
Even after the system gained a linker
and a means of specifying another name explicitly,
it was retained as the default executable
result of a compilation.)
</p>
<p>
Not long after Unix first ran on the PDP-7, in 1969, Doug McIlroy created
the new system's first higher-level language: an implementation of
McClure's TMG [McClure 65].  TMG is a language for writing compilers
(more generally, TransMoGrifiers) in a top-down, recursive-descent
style that combines context-free syntax notation with
procedural elements.  McIlroy and Bob Morris had used TMG to write the early
PL/I compiler for Multics.
</p>
<p>
Challenged by McIlroy's feat in reproducing TMG,
Thompson decided that Unix‚Äîpossibly it had not even been
named yet‚Äîneeded a system programming language.
After a rapidly scuttled attempt at Fortran,
he created instead a language of his own,
which he called B.
B can be thought of
as C without types; more accurately, it is BCPL squeezed into 8K bytes of memory
and filtered through Thompson's brain.
Its name most probably represents
a contraction of BCPL, though
an alternate theory holds that
it derives from Bon [Thompson 69],
an unrelated language created by
Thompson during the Multics days.
Bon in turn was named either after his wife Bonnie,
or (according to an encyclopedia quotation in its manual),
after a religion whose rituals involve the murmuring of magic formulas.
</p>
<h4>Origins: the languages
</h4>
<p>
BCPL was
designed by Martin Richards in the mid-1960s while he was visiting MIT,
and was used during the early 1970s
for several interesting projects, among them the OS6 operating system
at Oxford [Stoy 72], and parts of the seminal Alto work at Xerox PARC [Thacker 79].
We became familiar with it
because the
MIT CTSS system [Corbato 62] on which Richards worked was used for Multics development.
The original BCPL compiler was transported both to Multics and to the GE-635
GECOS system
by Rudd Canaday
and others at Bell Labs [Canaday 69];
during the final throes of Multics's life at Bell Labs
and immediately after, it was the language of choice
among the group of people who would later become involved with Unix.
</p>
<p>
BCPL, B, and C all fit firmly in the traditional
procedural family typified by Fortran and Algol 60.
They are particularly oriented towards
system programming, are small and compactly described,
and are amenable to translation by simple compilers.  They are `close
to the machine' in that the abstractions they introduce are readily
grounded in the concrete data types and operations supplied by
conventional computers, and they rely on library routines
for input-output and other interactions with an operating system.
With less success, they also use library procedures to specify interesting
control constructs such as coroutines and procedure
closures.  At the same time, their abstractions lie at a sufficiently
high level that, with care, portability between machines can
be achieved.
</p>
<p>
BCPL, B and C differ syntactically in many details, but broadly
they are similar.
Programs consist of a sequence of
global declarations and function (procedure) declarations.
Procedures can be nested in BCPL, but may not refer to non-static
objects defined in containing procedures.
B and C avoid this restriction by imposing a more severe one:
no nested procedures at all.
Each of the languages (except for earliest versions of B)
recognizes
separate compilation, and provides a means for including
text from named files.
</p>
<p>
Several syntactic and lexical mechanisms of BCPL are
more elegant and regular than those of B and C.
For example, BCPL's procedure and data declarations
have a more uniform structure, and it supplies a more complete
set of looping constructs.
Although BCPL programs are notionally supplied from an undelimited
stream of characters, clever rules allow most semicolons to be elided
after statements that end on a line boundary.
B and C omit this convenience, and end
most statements with semicolons.
In spite of the differences, most of the statements and operators of BCPL map
directly into corresponding B and C.
</p>
<p>
Some of the structural differences between BCPL and B
stemmed from limitations on intermediate memory.
For example, BCPL declarations may take the form
</p><dl><dt></dt><dd><tt><pre>let P1 be <i>command</i>
and P2 be <i>command</i>
and P3 be <i>command</i>
 ...
</pre></tt></dd></dl>
where the program text represented by the commands
contains whole procedures.
The subdeclarations
connected by
<tt>and</tt>
occur simultaneously, so the name
<tt>P3</tt>
is known inside procedure
<tt>P1</tt>.
Similarly, BCPL can package a group of declarations and statements into
an expression that yields a value, for example
<dl><dt></dt><dd><tt><pre>E1 := valof <i>( </i><i>declarations</i><i> ; </i><i>commands</i><i> ; resultis E2 </i><i>) + 1
</i></pre></tt></dd></dl><i>
</i>The BCPL compiler readily handled such constructs
by storing and analyzing a parsed representation of the entire
program in memory before producing output.
Storage limitations on the B compiler demanded a one-pass technique in which
output was generated as soon as possible, and the syntactic
redesign that made this possible was carried forward into C.

<p>
Certain less pleasant aspects of BCPL owed to its own technological
problems and were consciously
avoided in the design of B.
For example, BCPL uses a `global vector' mechanism for communicating
between separately compiled programs.
In this scheme,
the programmer explicitly associates the name of each externally visible
procedure and data object with a numeric offset in the global
vector; the linkage is accomplished in the compiled code
by using these numeric offsets.
B evaded this inconvenience initially by insisting that the entire
program be presented all at once to the compiler.
Later implementations of B, and all those of C, use a conventional
linker to resolve external names occurring in files compiled separately,
instead of placing the burden of assigning offsets on the programmer.
</p>
<p>
Other fiddles in the transition from BCPL to B were introduced as
a matter of taste, and some remain controversial, for example the decision
to use the single character
<tt>=</tt>
for assignment instead of
<tt>:=</tt>.
Similarly, B uses
<tt>/**/</tt>
to enclose comments, where BCPL uses
<tt>//</tt>,
to ignore text up to the end of the line.
The legacy of PL/I is evident here.
(C++ has resurrected the BCPL comment convention.)
Fortran influenced the syntax
of declarations:
B declarations begin with a specifier
like
<tt>auto</tt>
or
<tt>static</tt>,
followed by a list of names, and C
not only followed this style but ornamented it by
placing its type keywords at the start of declarations.
</p>
<p>
Not every difference between the BCPL language documented in
Richards's book
[Richards 79]
and B was deliberate;
we started from an earlier version of BCPL [Richards 67].
For example, the
<tt>endcase</tt>
that escapes from a BCPL
<tt>switchon</tt>
statement was not present in the language when we learned it
in the 1960s,
and so the overloading of the
<tt>break</tt>
keyword
to escape from the B and C
<tt>switch</tt>
statement
owes to divergent
evolution rather than conscious change.
</p>
<p>
In contrast to the pervasive syntax variation that occurred
during the creation of B, the core semantic content of BCPL‚Äîits
type structure and expression evaluation rules‚Äîremained intact.
Both languages are typeless, or rather have a single data type,
the `word,' or `cell,' a fixed-length bit pattern.  Memory in these languages
consists of a linear array of such cells, and the meaning of
the contents of a cell depends on the operation applied.
The
<tt>+</tt>
operator, for example, simply adds its operands using the machine's
integer add instruction, and the other arithmetic
operations are equally unconscious of the actual meaning
of their operands.  Because memory is a linear array, it is possible
to interpret the value in a cell as an index in this array,
and BCPL supplies an operator for this purpose.  In the
original language it was spelled
<tt>rv</tt>,
and later
<tt>!</tt>,
while B uses the unary
<tt>*</tt>.
Thus, if
<tt>p</tt>
is a cell containing
the index of (or address of, or pointer to) another cell,
<tt>*p</tt>
refers to the contents of the pointed-to cell, either
as a value in an expression or as the target of
an assignment.
</p>
<p>
Because pointers in BCPL and B are merely integer indices
in the memory array, arithmetic on them is meaningful:
if
<tt>p</tt>
is the address of a cell, then
<tt>p+1</tt>
is the address of
the next cell.
This convention is the basis for the semantics
of arrays in both languages.  When in BCPL one writes
</p><dl><dt></dt><dd><tt><pre>let V = vec 10
</pre></tt></dd></dl>
or in B,
<dl><dt></dt><dd><tt><pre>auto V[10];
</pre></tt></dd></dl>
the effect is the same: a cell named
<tt>V</tt>
is allocated, then
another group of 10 contiguous cells is set aside, and the memory index
of the first of these is placed into
<tt>V</tt>.
By a general rule, in B the expression
<dl><dt></dt><dd><tt><pre>*(V+i)
</pre></tt></dd></dl>
adds
<tt>V</tt>
and
<tt>i</tt>,
and refers to the
<tt>i</tt>-th
location after
<tt>V</tt>.
Both
BCPL and B each add special notation to sweeten such array accesses;
in B an equivalent expression is
<dl><dt></dt><dd><tt><pre>V[i]
</pre></tt></dd></dl>
and in BCPL
<dl><dt></dt><dd><tt><pre>V!i
</pre></tt></dd></dl>
This approach to arrays was unusual even at the time;
C would later assimilate it in an
even less conventional way.

<p>
None of BCPL, B, or C supports character data strongly
in the language; each treats strings
much like vectors of integers and supplements general rules by
a few conventions.
In both BCPL and B a string literal denotes the address of a
static area initialized with the characters of the string,
packed into cells.
In BCPL, the first packed byte contains the number of characters
in the string;
in B, there is no count and strings are terminated by
a special character, which B spelled
`<tt>*e</tt>'.
This change was made partially to avoid the limitation
on the length of a string caused by holding the count
in an 8- or 9-bit slot, and partly because maintaining
the count seemed, in our experience, less convenient than using a
terminator.
</p>
<p>
Individual characters in a BCPL string were usually manipulated
by spreading the string out into another array, one character per cell,
and then repacking it later;
B provided corresponding routines, but people more often used
other library functions that accessed or replaced individual
characters in a string.
</p>
<h4>More History
</h4>
<p>
After the TMG version of B was working, Thompson rewrote B in itself
(a bootstrapping step).
During development, he continually struggled against memory limitations:
each language addition
inflated the compiler so it could barely fit, but each
rewrite taking advantage of the feature reduced its size.
For example, B introduced generalized assignment operators, using
<tt>x=+y</tt>
to add
<tt>y</tt>
to
<tt>x</tt>.
The notation came from
Algol 68 [Wijngaarden 75] via McIlroy, who had incorporated
it into his version of TMG.
(In B and early C, the operator was spelled
<tt>=+</tt>
instead of
<tt>+=</tt>
; this mistake, repaired in 1976, was induced by a seductively easy
way of handling the first form in B's lexical analyzer.)
</p>
<p>
Thompson went a step further by inventing the
<tt>++</tt>
and
<tt>--</tt>
operators, which increment or decrement;
their prefix
or postfix position determines whether the alteration
occurs before or after noting the value of the operand.
They were not in the earliest versions of B, but appeared
along the way.
People often guess that
they were created to use the auto-increment and
auto-decrement address modes provided by the DEC PDP-11 on which C and Unix
first became popular.
This is historically impossible, since there was no PDP-11
when B was developed.
The PDP-7, however,
did have a few `auto-increment' memory cells, with the property
that an indirect memory reference through them incremented the cell.
This feature probably suggested such operators to Thompson;
the generalization to make them both prefix and postfix
was his own.
Indeed, the auto-increment cells were not used directly in implementation of the
operators, and a stronger motivation for the innovation was probably
his observation that
the translation of
<tt>++x</tt>
was smaller than that of
<tt>x=x+1</tt>.
</p>
<p>
The B compiler on the PDP-7 did not generate machine instructions,
but instead `threaded code' [Bell 72], an interpretive scheme in which
the compiler's output consists
of a sequence of addresses of code fragments that perform the
elementary operations.
The operations typically‚Äîin particular for B‚Äîact on a simple stack machine.
</p>
<p>
On the PDP-7 Unix system, only a few things were written in B except B itself,
because the machine was too small and too slow to do more than
experiment; rewriting the operating system and the utilities
wholly into B was too expensive a step to
seem feasible.
At some point Thompson relieved the address-space crunch by offering a
`virtual B' compiler that allowed the interpreted program to occupy more than 8K bytes
by paging the code and data within the interpreter,
but it was too slow to be practical for the common utilities.
Still, some utilities written in B appeared, including an early version of
the variable-precision calculator
<i>dc</i>
familiar to Unix users [McIlroy 79].
The most ambitious enterprise I undertook was a genuine
cross-compiler that translated B to GE-635 machine instructions, not threaded code.
It was a small
<i>tour de force</i>:
a full B compiler, written in its
own language and generating code for a 36-bit mainframe,
that ran on an 18-bit machine with 4K words of user address space.
This project was possible only because of the simplicity
of the B language and its run-time system.
</p>
<p>
Although we entertained occasional thoughts
about implementing one of the major languages of the time like Fortran,
PL/I, or Algol 68, such a project seemed hopelessly large for our resources:
much simpler and smaller tools were called for.
All these languages influenced our work,
but it was more fun to do things on our own.
</p>
<p>
By 1970, the Unix project had shown enough promise that we were
able to acquire the new DEC PDP-11.
The processor was among the first of its line delivered by DEC, and three months
passed before its disk arrived.
Making B programs
run on it using the threaded technique
required only writing the code fragments for the operators,
and a simple assembler which I coded in B;
soon,
<i>dc</i>
became the first
interesting program to be tested, before any operating system, on our PDP-11.
Almost as rapidly, still waiting for the disk, Thompson recoded
the Unix kernel and some basic commands in PDP-11 assembly language.
Of the 24K bytes of memory on the machine, the earliest PDP-11 Unix system
used 12K bytes for the operating system,
a tiny space for user programs, and the remainder as a RAM disk.
This version was only for testing, not for real work;
the machine marked time by enumerating closed knight's
tours on chess boards of various sizes.
Once its disk appeared, we quickly migrated to it after
transliterating assembly-language commands to the PDP-11 dialect, and
porting those already in B.
</p>
<p>
By 1971, our miniature computer center was beginning to have users.
We all wanted to create interesting software more easily.
Using assembler was dreary enough that B, despite its performance
problems, had been supplemented by a small library of useful service routines
and was being used for more and more new programs.
Among the more notable results of this period was Steve Johnson's
first version of the
<i>yacc</i>
parser-generator [Johnson 79a].
</p>
<h4>The Problems of B
</h4>
<p>
The machines on which we first used BCPL and then B were word-addressed,
and these languages' single data type, the `cell,' comfortably
equated with the hardware machine word.
The advent of the PDP-11 exposed several inadequacies of B's semantic model.
First, its character-handling mechanisms, inherited with few changes from BCPL,
were clumsy:
using library procedures to spread packed strings into individual
cells and then repack, or to access and replace
individual characters,
began to feel awkward, even silly, on a byte-oriented machine.
</p>
<p>
Second, although the original PDP-11 did not provide for floating-point
arithmetic,
the manufacturer promised that it would soon be available.
Floating-point operations had been added to BCPL
in our Multics and GCOS compilers by defining
special operators, but the mechanism was possible
only because on the relevant machines, a single word
was large enough to contain a floating-point number;
this was not true on the 16-bit PDP-11.
</p>
<p>
Finally, the B and BCPL model implied overhead in dealing
with pointers: the language rules, by defining a pointer
as an index in an array of words, forced pointers to be represented
as word indices.
Each pointer reference
generated a run-time scale conversion from the pointer to the
byte address expected by the hardware.
</p>
<p>
For all these reasons, it seemed that a typing scheme
was necessary to cope
with characters and byte addressing, and to prepare for the
coming floating-point hardware.
Other issues, particularly type safety and interface checking, did not
seem as important then as they became later.
</p>
<p>
Aside from the problems with the language itself, the B compiler's
threaded-code technique yielded programs
so much slower than their assembly-language counterparts
that we discounted the possibility of recoding the
operating system or its central utilities in B.
</p>
<p>
In 1971 I began to extend the B language by adding a character type
and also rewrote its compiler to generate PDP-11 machine instructions
instead of threaded code.
Thus the transition from B to C
was contemporaneous with the creation of a compiler
capable of producing programs fast and small enough
to compete with assembly language.
I called the slightly-extended language NB, for `new B.'
</p>
<h4>Embryonic C
</h4>
<p>
NB existed so briefly that no full description of
it was written.
It supplied the types
<tt>int</tt>
and
<tt>char</tt>,
arrays of them, and pointers to them, declared in a style typified by
</p><dl><dt></dt><dd><tt><pre>int i, j;
char c, d;
int iarray[10];
int ipointer[];
char carray[10];
char cpointer[];
</pre></tt></dd></dl>
The semantics of arrays remained exactly as in B and BCPL:
the declarations of
<tt>iarray</tt>
and
<tt>carray</tt>
create cells dynamically initialized with a value pointing to the
first of a sequence of 10 integers and characters respectively.
The declarations for
<tt>ipointer</tt>
and
<tt>cpointer</tt>
omit the size, to assert that no storage should be allocated automatically.
Within procedures, the language's interpretation of
the pointers was identical to that of the array variables:
a pointer declaration created a cell differing from
an array declaration only in that the programmer was expected to assign
a referent, instead of letting the compiler allocate the space
and initialize the cell.

<p>
Values stored in the cells bound to
array and pointer names
were the machine addresses,
measured in bytes, of the corresponding storage area.
Therefore, indirection through a pointer implied no
run-time overhead to scale the pointer from word to byte offset.
On the other hand, the machine code for array subscripting and pointer arithmetic
now depended on the type of the array or the pointer:
to compute
<tt>iarray[i]</tt>
or
<tt>ipointer+i</tt>
implied scaling the addend
<tt>i</tt>
by the size of the object referred to.
</p>
<p>
These semantics represented an easy transition from B,
and I experimented with them for some months.
Problems became evident when I tried to extend the type notation, especially
to add structured (record) types.
Structures, it seemed, should map in an intuitive way
onto memory in the machine,
but in a
structure containing an array, there was no good place to stash the
pointer containing the base of the array, nor any
convenient way to arrange that it be initialized.
For example, the directory entries of early Unix systems
might be described in C as
</p><dl><dt></dt><dd><tt><pre>struct {
	int	inumber;
	char	name[14];
};
</pre></tt></dd></dl>
I wanted the structure not merely to characterize an abstract object
but also to describe a collection of bits that might be read from
a directory.
Where could the compiler hide the pointer to
<tt>name</tt>
that the semantics demanded?
Even if structures were thought of more abstractly,
and the space for pointers could be hidden somehow,
how could I handle the technical problem of properly initializing
these pointers when allocating a complicated object, perhaps one that specified
structures containing arrays containing structures to arbitrary depth?

<p>
The solution constituted the crucial jump
in the evolutionary chain between typeless BCPL and typed C.
It eliminated the
materialization of the pointer in storage, and instead caused the
creation of the pointer when the array name is mentioned in an expression.
The rule, which survives in today's C, is that values of array
type are converted, when they appear in expressions, into
pointers to the first of the objects making up the array.
</p>
<p>
This invention enabled most existing B code to continue
to work, despite the underlying shift in the language's semantics.
The few programs that assigned new values to
an array name to adjust its origin‚Äîpossible in B and BCPL,
meaningless in C‚Äîwere easily repaired.
More important, the new language retained a coherent and workable (if unusual)
explanation of the semantics of arrays, while opening the way to a
more comprehensive type structure.
</p>
<p>
The second innovation that most clearly
distinguishes C from its predecessors is
this fuller type structure and especially its expression in the syntax of declarations.
NB offered the basic types
<tt>int</tt>
and
<tt>char</tt>,
together with arrays of them, and pointers to them,
but no further ways of composition.
Generalization was required:
given an object of any type, it should
be possible to describe a new object that gathers several into an array,
yields it from a function, or is a pointer to it.
</p>
<p>
For each object of such a composed type, there
was already a way to mention the underlying object:
index the array,
call the function, use the indirection operator on the pointer.
Analogical reasoning led to a declaration syntax for names
mirroring that of the expression syntax in which the names typically appear.
Thus,
</p><dl><dt></dt><dd><tt><pre>int i, *pi, **ppi;
</pre></tt></dd></dl>
declare an integer, a pointer to an integer, a pointer to
a pointer to an integer.
The syntax of these declarations reflects the
observation that
<tt>i</tt>,
<tt>*pi</tt>,
and
<tt>**ppi</tt>
all yield an
<tt>int</tt>
type when used in an expression.  Similarly,
<dl><dt></dt><dd><tt><pre>int f(), *f(), (*f)();
</pre></tt></dd></dl>
declare a function returning an integer, a function returning
a pointer to an integer, a pointer to a function returning
an integer;
<dl><dt></dt><dd><tt><pre>int *api[10], (*pai)[10];
</pre></tt></dd></dl>
declare an array of pointers to integers, and a pointer to
an array of integers.
In all these cases the declaration of a variable resembles
its usage in an expression whose type is the one named at the head of
the declaration.

<p>
The scheme of type composition adopted by C owes considerable debt
to Algol 68, although it did not, perhaps, emerge in a form
that Algol's adherents would approve of.
The central notion I captured from Algol was a type structure
based on atomic
types (including structures), composed into arrays, pointers (references),
and functions (procedures).
Algol 68's concept of unions
and casts also had an influence that appeared later.
</p>
<p>
After creating the type system, the associated
syntax, and the compiler for the new language,
I felt that it deserved a new name;
NB seemed insufficiently distinctive.
I decided to follow the single-letter style and called it C,
leaving open the question whether the name represented
a progression through the alphabet or through the letters in BCPL.
</p>
<h4>Neonatal C
</h4>
<p>
Rapid changes continued after the language had been named,
for example
the introduction of the
<tt>&amp;&amp;</tt>
and
<tt>||</tt>
operators.
In BCPL and B, the evaluation of expressions depends
on context: within
<tt>if</tt>
and other conditional statements that compare
an expression's value with zero,
these languages place a special interpretation on the
<tt>and</tt>
(<tt>&amp;</tt>)
and
<tt>or</tt>
(<tt>|</tt>)
operators.
In ordinary contexts, they operate bitwise, but
in the B statement
</p><dl><dt></dt><dd><tt><pre>if (e1 &amp; e2) ...
</pre></tt></dd></dl>
the compiler must evaluate
<tt>e1</tt>
and if it is non-zero, evaluate
<tt>e2</tt>,
and if it too is non-zero, elaborate the statement dependent on
the
<tt>if</tt>.
The requirement descends recursively on
<tt>&amp;</tt>
and
<tt>|</tt>
operators within
<tt>e1</tt>
and
<tt>e2</tt>.
The short-circuit semantics of the Boolean operators in such
`truth-value' context seemed desirable,
but the overloading of the operators was difficult to explain and use.
At the suggestion of Alan Snyder,
I introduced the
<tt>&amp;&amp;</tt>
and
<tt>||</tt>
operators
to make the mechanism more explicit.

<p>
Their tardy introduction explains an
infelicity of C's precedence rules.  In B one writes
</p><dl><dt></dt><dd><tt><pre>if (a==b &amp; c) ...
</pre></tt></dd></dl>
to check whether
<tt>a</tt>
equals
<tt>b</tt>
and
<tt>c</tt>
is non-zero;
in such a conditional expression it is better that
<tt>&amp;</tt>
have lower precedence than
<tt>==</tt>.
In converting from B to C, one wants to replace
<tt>&amp;</tt>
by
<tt>&amp;&amp;</tt>
in such a statement;
to make the conversion less painful,
we decided to keep the precedence of the
<tt>&amp;</tt>
operator the same relative to
<tt>==</tt>,
and merely split the precedence of
<tt>&amp;&amp;</tt>
slightly from
<tt>&amp;</tt>.
Today, it seems that it would have been preferable to move
the relative precedences of
<tt>&amp;</tt>
and
<tt>==</tt>,
and thereby simplify a common C idiom:
to test a masked value
against another value, one must write
<dl><dt></dt><dd><tt><pre>if ((a&amp;mask) == b) ...
</pre></tt></dd></dl>
where the inner parentheses are required but easily forgotten.

<p>
Many other changes occurred around 1972-3, but the most important
was the introduction of the preprocessor,
partly at the urging of Alan Snyder [Snyder 74],
but also in recognition of the utility of the
the file-inclusion mechanisms available in BCPL and PL/I.
Its original version was exceedingly simple,
and provided only included files and
simple string replacements:
<tt>#include</tt>
and
<tt>#define</tt>
of parameterless macros.
Soon thereafter, it was extended, mostly by Mike Lesk
and then by John Reiser,
to incorporate macros with arguments and conditional
compilation.
The preprocessor was originally considered an optional adjunct
to the language itself.  Indeed, for some years,
it was not even invoked unless the source program contained
a special signal at its beginning.
This attitude persisted, and explains
both the incomplete integration of the syntax of the
preprocessor with the rest of the language
and the imprecision of its description in early reference
manuals.
</p>
<h4>Portability
</h4>
<p>
By early 1973, the essentials of
modern C were complete.
The language and compiler were strong enough to permit us to
rewrite the Unix kernel for the PDP-11 in C during the summer of that year.
(Thompson had made a brief attempt to produce a system coded in an early version of
C‚Äîbefore structures‚Äîin 1972, but gave up the effort.)
Also during this period, the compiler was retargeted to other nearby machines,
particularly the Honeywell 635 and IBM 360/370;
because the language could not live in isolation,
the prototypes for the modern libraries
were developed.
In particular, Lesk wrote a `portable I/O package' [Lesk 72]
that was later reworked to become the C `standard I/O' routines.
In 1978 Brian Kernighan and I published
<i>The C Programming Language</i>
[Kernighan 78].
Although it did not describe some additions
that soon became common, this book served as the language
reference until a formal standard was adopted more than
ten years later.
Although we worked closely together on this book, there was a clear division of labor:
Kernighan wrote almost all the expository material, while
I was responsible for the appendix containing the reference manual and
the chapter on interfacing with the Unix system.
</p>
<p>
During 1973-1980,
the language grew a bit:
the type structure gained unsigned, long, union, and enumeration types,
and structures became nearly first-class objects
(lacking only a notation for literals).
Equally important developments appeared in its environment and the accompanying
technology.
Writing the Unix kernel in C had given us enough confidence in the language's
usefulness and efficiency that we began to recode the
system's utilities and tools as well,
and then to move the most interesting among them to the other
platforms.
As described in [Johnson 78a], we discovered that the hardest problems
in propagating Unix tools lay not in the
interaction of the C language with new hardware,
but in adapting to the existing software of other
operating systems.
Thus Steve Johnson began to work on
<i>pcc</i>,
a C compiler intended to be easy to retarget to new machines [Johnson 78b],
while he, Thompson, and I began to move the Unix system itself to
the Interdata 8/32 computer.
</p>
<p>
The language changes during this period, especially around 1977,
were largely focused on considerations of portability and type safety,
in an effort to cope with the problems we foresaw and observed
in moving a considerable body of code to the new Interdata
platform.
C at that time still manifested strong signs of its typeless
origins.
Pointers, for example, were barely distinguished from
integral memory indices in early language manuals or extant code;
the similarity of the arithmetic properties of
character pointers and unsigned integers made it hard
to resist the temptation to identify them.
The
<tt>unsigned</tt>
types were added to make unsigned arithmetic available
without confusing it with pointer manipulation.
Similarly, the early language condoned assignments between
integers and pointers, but this practice began to be discouraged;
a notation for type conversions (called `casts' from the example of Algol 68)
was invented to specify type conversions more explicitly.
Beguiled by the example of PL/I, early C
did not tie structure pointers firmly to the structures
they pointed to, and permitted programmers to write
<tt>pointer-&gt;member</tt>
almost without regard to the type of
<tt>pointer</tt>;
such an expression was taken uncritically as a reference
to a region of memory designated by the pointer, while the member
name specified only an offset and a type.
</p>
<p>
Although the first edition of K&amp;R described most of the
rules that brought C's type structure to its present form,
many programs written in the older, more relaxed style
persisted, and so did compilers that tolerated it.
To encourage people to pay more attention to the
official language rules, to detect legal but suspicious constructions,
and to help find interface mismatches
undetectable with simple mechanisms for separate compilation,
Steve Johnson adapted his
<i>pcc</i>
compiler to produce
<i>lint</i>
[Johnson 79b],
which scanned a set of files and remarked on dubious constructions.
</p>
<h4>Growth in Usage
</h4>
<p>
The success of our portability experiment on the
Interdata 8/32 soon led to another by Tom London and John Reiser
on the DEC VAX 11/780.
This machine became much more popular than the Interdata, and
Unix and the C language began to spread rapidly, both within AT&amp;T and
outside.
Although by the middle 1970s
Unix was in use by
a variety of projects within the Bell System
as well as a small group of research-oriented
industrial, academic, and government organizations outside our company,
its real growth began only after portability had been achieved.
Of particular note were the System III and System V
versions of the system from the emerging Computer Systems division of AT&amp;T, based
on work by the company's development and research groups,
and the BSD series of releases by the University
of California at Berkeley that derived from research
organizations in Bell Laboratories.
</p>
<p>
During the 1980s the use of the C language spread widely,
and compilers became available on nearly every machine architecture
and operating system; in particular it became popular as a
programming tool for personal computers, both for manufacturers
of commercial software for these machines, and for end-users
interested in programming.
At the start of the decade, nearly every compiler was based on Johnson's
<i>pcc</i>;
by 1985 there were many independently-produced compiler products.
</p>
<h4>Standardization
</h4>
<p>
By 1982 it was clear that C needed formal standardization.
The best approximation to a standard,
the first edition of K&amp;R, no longer described the language in actual use;
in particular, it mentioned neither the
<tt>void</tt>
or
<tt>enum</tt>
types.
While it foreshadowed the newer approach to structures, only after
it was published did the language support assigning them, passing them
to and from functions, and associating the names of members firmly
with the structure or union containing them.
Although compilers distributed by AT&amp;T incorporated these changes,
and most of the purveyors of compilers not based on
<i>pcc</i>
quickly picked up them up, there remained no complete, authoritative
description of the language.
</p>
<p>
The first edition of K&amp;R was also insufficiently precise on many details
of the language, and it became increasingly impractical to regard
<i>pcc</i>
as a `reference compiler;'
it did not perfectly
embody even the language described by K&amp;R, let alone subsequent extensions.
Finally, the incipient use of C in projects subject to commercial
and government contract meant that the imprimatur of an official
standard was important.
Thus (at the urging of M. D. McIlroy), ANSI established the X3J11
committee under the direction of CBEMA
in the summer of 1983, with the goal of producing
a C standard.
X3J11 produced its report [ANSI 89] at the end of 1989,
and subsequently this standard was accepted by ISO as
ISO/IEC 9899-1990.
</p>
<p>
From the beginning, the X3J11 committee took a cautious,
conservative view of language extensions.
Much to my
satisfaction, they took seriously their goal:
`to develop a clear, consistent, and unambiguous Standard
for the C programming language which codifies the common,
existing definition of C and which promotes the portability
of user programs across C language environments.' [ANSI 89]
The committee realized that mere promulgation of a standard
does not make the world change.
</p>
<p>
X3J11 introduced only one genuinely important change to the language itself:
it incorporated the types of formal arguments in the type
signature of a function, using syntax borrowed from C++ [Stroustrup 86].
In the old style, external functions were declared like this:
</p><dl><dt></dt><dd><tt><pre>double sin();
</pre></tt></dd></dl>
which says only that
<tt>sin</tt>
is a function returning a
<tt>double</tt>
(that is, double-precision floating-point) value.
In the new style, this better rendered
<dl><dt></dt><dd><tt><pre>double sin(double);
</pre></tt></dd></dl>
to make the argument type explicit
and thus encourage better type checking and appropriate conversion.
Even this addition, though it produced a noticeably better language,
caused difficulties.
The committee justifiably felt that simply outlawing
`old-style' function definitions and declarations was not
feasible, yet also agreed that the new forms were better.
The inevitable compromise was as good as it
could have been, though the language definition is complicated by
permitting both forms, and writers of portable software must contend
with compilers not yet brought up to standard.

<p>
X3J11 also introduced
a host of smaller additions and adjustments, for example,
the type qualifiers
<tt>const</tt>
and
<tt>volatile</tt>,
and slightly different type promotion rules.
Nevertheless, the standardization process did not change the character
of the language.
In particular, the C standard did not attempt to specify formally
the language semantics, and so there can be dispute over fine points;
nevertheless, it successfully accounted for changes in
usage since the original description, and is sufficiently precise to
base implementations on it.
</p>
<p>
Thus the core C language escaped nearly unscathed from the
standardization process, and the Standard emerged more
as a better, careful codification than a new invention.
More important changes took place in the language's surroundings:
the preprocessor and the library.
The preprocessor performs macro substitution, using conventions
distinct from the rest of the language.
Its
interaction with the compiler had never
been well-described, and X3J11 attempted to remedy the
situation.
The result is noticeably better than the explanation in the first edition of K&amp;R;
besides being more comprehensive, it provides
operations, like token concatenation, previously available
only by accidents of implementation.
</p>
<p>
X3J11 correctly believed that a full and careful
description of a standard C library was as important as its
work on the language itself.
The C language itself does not provide for input-output
or any other interaction with the outside world, and thus
depends on a set of standard procedures.
At the time of publication of K&amp;R, C was thought of mainly
as the system programming language of Unix; although we
provided examples of library routines intended to be readily transportable
to other operating systems, underlying support from Unix was implicitly
understood.
Thus, the X3J11 committee spent much of its time designing
and documenting a set
of library routines required to be available in all
conforming implementations.
</p>
<p>
By the rules of the standards process, the current activity of the X3J11
committee is confined to issuing interpretations on the existing
standard.
However, an informal group originally convened by Rex Jaeschke
as NCEG (Numerical C Extensions Group) has been officially accepted
as subgroup X3J11.1,
and they continue to consider extensions to C.
As the name implies, many of these possible extensions are intended to make the language
more suitable for numerical use: for example, multi-dimensional arrays
whose bounds are dynamically determined, incorporation of facilities
for dealing with IEEE arithmetic, and making the language more effective on machines
with vector or other advanced architectural features.
Not all the possible extensions are specifically numerical; they
include a notation for structure literals.
</p>
<h4>Successors
</h4>
<p>
C and even B have several direct descendants, though they
do not rival Pascal in generating progeny.
One side branch developed early.
When Steve Johnson visited the University of Waterloo on sabbatical
in 1972,
he brought B with him.  It became popular
on the Honeywell machines there, and later spawned Eh and Zed
(the Canadian answers to `what follows B?').
When Johnson returned to Bell Labs in 1973, he was disconcerted to
find that the language whose seeds he brought to Canada
had evolved back home;
even his own
<i>yacc</i>
program had been rewritten in C, by Alan Snyder.
</p>
<p>
More recent descendants of C proper include Concurrent C [Gehani 89],
Objective C [Cox 86], C* [Thinking 90],
and especially C++ [Stroustrup 86].
The language is also widely used as an intermediate
representation (essentially, as a portable assembly language)
for a wide variety of compilers, both for direct descendents
like C++, and independent languages like
Modula 3 [Nelson 91] and
Eiffel
[Meyer 88].
</p>
<h4>Critique
</h4>
<p>
Two ideas are most characteristic of C among languages of its class:
the relationship between arrays and pointers,
and the way in which declaration syntax mimics expression syntax.
They are also among its most frequently criticized features,
and often serve as stumbling blocks to the beginner.
In both cases, historical accidents or mistakes have exacerbated
their difficulty.
The most important of these has been the tolerance of C compilers
to errors in type.
As should be clear from the history above, C evolved from typeless
languages.
It did not suddenly appear to its earliest
users and developers as an entirely new language with its own rules;
instead we continually had to adapt existing programs as the
language developed, and make allowance for an existing body
of code.  (Later, the ANSI X3J11 committee standardizing C would
face the same problem.)
</p>
<p>
Compilers in 1977, and even well after,
did not complain about usages such as assigning between integers
and pointers or using objects of the wrong type to refer
to structure members.
Although the language definition presented in the first edition of K&amp;R
was reasonably (though not completely) coherent in its treatment of type rules,
that book admitted that existing compilers didn't enforce them.
Moreover, some rules designed to ease early transitions
contributed to later confusion.
For example, the empty square brackets in the function declaration
</p><dl><dt></dt><dd><tt><pre>int f(a) int a[]; { ... }
</pre></tt></dd></dl>
are a living fossil, a remnant of NB's way of declaring a pointer;
<tt>a</tt>
is, in this special case only, interpreted in C as a pointer.
The notation survived in part for the sake of
compatibility, in part under the rationalization
that it would allow programmers
to communicate to their readers
an intent to pass
<tt>f</tt>
a pointer generated from an array, rather than a reference to a single
integer.
Unfortunately, it serves as much to confuse the learner
as to alert the reader.

<p>
In K&amp;R C, supplying arguments of the proper type to a function call
was the responsibility of the programmer, and the extant compilers
did not check for type agreement.
The failure of the original language to include argument types
in the type signature of a function
was a significant weakness,
indeed the one that required the X3J11 committee's boldest and most painful
innovation to repair.
The early design is explained (if not justified) by my avoidance of technological
problems, especially cross-checking between separately-compiled source files,
and my incomplete assimilation of the implications of moving between
an untyped to a typed language.
The
<i>lint</i>
program,
mentioned above,
tried to alleviate the problem:
among its other functions,
<i>lint</i>
checks the consistency and coherency of a whole program by scanning a set
of source files,
comparing the types of function arguments used in calls with those
in their definitions.
</p>
<p>
An accident of syntax contributed to the perceived complexity of the language.
The indirection operator, spelled
<tt>*</tt>
in C, is syntactically a unary prefix operator, just as in BCPL and B.
This works well in simple expressions, but in more complex cases,
parentheses are required to direct the parsing.
For example, to distinguish indirection through the value
returned by a function from calling a function designated by
a pointer, one writes
<tt>*fp()</tt>
and
<tt>(*pf)()</tt>
respectively.
The style used in expressions carries through to declarations, so the names might be
declared
</p><dl><dt></dt><dd><tt><pre>int *fp();
int (*pf)();
</pre></tt></dd></dl>
In more ornate but still realistic cases, things become worse:
<dl><dt></dt><dd><tt><pre>int *(*pfp)();
</pre></tt></dd></dl>
is a pointer to a function returning a pointer to an integer.
There are two effects occurring.
Most important, C has a relatively rich set of ways of
describing types (compared, say, with Pascal).
Declarations in languages
as expressive as C‚ÄîAlgol 68, for example‚Äîdescribe objects equally hard
to understand, simply because the objects themselves are complex.
A second effect owes to details of the syntax.
Declarations in C must be read
in an `inside-out' style that many find
difficult to grasp [Anderson 80].
Sethi [Sethi 81] observed that many of the nested declarations
and expressions would become simpler
if the indirection operator had been taken as a postfix operator
instead of prefix, but by then it was too late to change.

<p>
In spite of its difficulties,
I believe that the C's approach to declarations remains plausible,
and am comfortable with it; it is a useful unifying principle.
</p>
<p>
The other characteristic feature of C, its treatment of arrays,
is more suspect on practical grounds, though it also has
real virtues.
Although the relationship between pointers and arrays
is unusual, it can be learned.
Moreover, the language shows considerable power to describe important
concepts, for example, vectors whose length varies at run time,
with only a few basic rules and conventions.
In particular, character strings are handled by the same mechanisms
as any other array, plus the convention that a null character
terminates a string.
It is interesting to compare C's approach with that of two
nearly contemporaneous languages, Algol 68 and Pascal [Jensen 74].
Arrays in Algol 68 either have fixed bounds, or are `flexible:'
considerable mechanism is required both in the language
definition, and in compilers, to accommodate flexible arrays
(and not all compilers fully implement them.)
Original Pascal had only fixed-sized arrays and strings,
and this proved confining [Kernighan 81].
Later, this was partially fixed, though the resulting
language is not yet universally available.
</p>
<p>
C treats strings as arrays of characters
conventionally terminated by a marker.
Aside from one special rule about initialization by string literals,
the semantics of strings are fully subsumed by more general
rules governing all arrays, and
as a result the language is simpler to describe and
to translate than one incorporating the string as a unique
data type.
Some costs accrue from its approach:
certain string operations are more expensive than in other designs
because application code or
a library routine must occasionally search for the end of a string,
because few built-in operations are available, and because
the burden of storage management for strings falls more
heavily on the user.
Nevertheless, C's approach to strings works well.
</p>
<p>
On the other hand, C's treatment of arrays in general (not just strings)
has unfortunate implications both for optimization
and for future extensions.
The prevalence of pointers in C programs, whether those declared
explicitly or arising from arrays, means that
optimizers must be cautious, and must use careful dataflow techniques
to achieve good results.
Sophisticated compilers can understand what most pointers
can possibly change, but some important usages remain difficult
to analyze.
For example, functions with pointer arguments derived from
arrays are hard to compile into efficient code on
vector machines, because it is seldom possible to determine
that one argument pointer does not overlap data also
referred to by another argument, or accessible externally.
More fundamentally, the definition of C so specifically describes
the semantics of arrays that
changes or extensions treating arrays as more
primitive objects, and permitting operations on them as wholes,
become hard to fit into the existing language.
Even extensions to permit the declaration and use of multidimensional arrays whose
size is determined dynamically are not entirely straightforward [MacDonald 89]
[Ritchie 90],
although they would make it much easier to write numerical
libraries in C.
Thus, C covers the most important uses of strings and arrays
arising in practice by a uniform and simple mechanism,
but leaves problems for highly efficient implementations and for extensions.
</p>
<p>
Many smaller infelicities exist in the language
and its description
besides those discussed above, of course.
There are also
general criticisms to be lodged that transcend detailed points.
Chief among these is that the language and its generally-expected
environment provide little help for writing very large systems.
The naming structure provides only two main levels,
`external' (visible everywhere) and `internal' (within
a single procedure).
An intermediate level
of visibility (within a single file of data and procedures)
is weakly tied to the language definition.
Thus, there is little direct support for modularization,
and project designers are forced to create their own conventions.
</p>
<p>
Similarly, C itself provides two durations of storage:
`automatic' objects that exist while control resides in or below
a procedure, and `static,' existing throughout execution of a program.
Off-stack, dynamically-allocated storage is provided only
by a library routine and
the burden of managing it is placed on
the programmer: C is hostile to automatic garbage collection.
</p>
<h4>Whence Success?
</h4>
<p>
C has become successful to an extent far surpassing any early
expectations.  What qualities contributed to its widespread use?
</p>
<p>
Doubtless the success of Unix itself was the most important factor;
it made the language available to hundreds of thousands of people.
Conversely, of course, Unix's use of C and its consequent
portability to a wide variety of machines
was important in the system's success.
But the language's invasion of other environments suggests more
fundamental merits.
</p>
<p>
Despite some aspects mysterious to the beginner and
occasionally even to the adept,
C remains a simple and small language, translatable with simple and small compilers.
Its types and operations are
well-grounded in those provided by
real machines, and for
people used to how computers work,
learning the idioms for generating time- and space-efficient programs
is not difficult.
At the same time the language is sufficiently abstracted from machine
details that program portability can be achieved.
</p>
<p>
Equally important, C and its central library support always
remained in touch with a real environment.
It was not designed in isolation to prove a point, or to serve
as an example, but as a tool to write programs that did
useful things; it was always meant to interact with a larger
operating system, and was regarded as a
tool to build larger tools.
A parsimonious, pragmatic approach influenced the things that went into C:
it covers
the essential needs of many programmers,
but does not try to supply too much.
</p>
<p>
Finally, despite the changes that it has undergone since its first
published description, which was admittedly informal
and incomplete, the actual C language as seen by millions of users
using many different compilers has remained remarkably stable
and unified compared to those of similarly widespread currency,
for example Pascal and Fortran.
There are differing dialects of C‚Äîmost noticeably, those described by
the older K&amp;R and the newer Standard C‚Äîbut on the whole, C has remained
freer of proprietary extensions than other languages.
Perhaps the most significant extensions are the `far' and `near'
pointer qualifications intended to deal with peculiarities
of some Intel processors.
Although C was not originally designed with portability
as a prime goal, it succeeded in expressing
programs, even including operating systems,
on machines ranging from the smallest personal
computers through the mightiest supercomputers.
</p>
<p>
C is quirky, flawed, and an enormous success.
While accidents of history surely helped,
it evidently satisfied a need for a system implementation language
efficient enough
to displace assembly language, yet sufficiently abstract and fluent to
describe algorithms and interactions in a wide variety of environments.
</p>
<h4>Acknowledgments
</h4>
<p>
It is worth summarizing compactly the roles of the direct contributors to today's
C language.
Ken Thompson created the B language in 1969-70; it was derived directly
from Martin Richards's BCPL.
Dennis Ritchie turned B into C during 1971-73, keeping most of B's syntax
while adding types and many other changes, and writing the
first compiler.
Ritchie, Alan Snyder, Steven C. Johnson, Michael Lesk, and Thompson contributed language
ideas during 1972-1977,
and Johnson's portable compiler remains widely used.
During this period, the collection of library routines grew
considerably, thanks to these people and many others at Bell Laboratories.
In 1978, Brian Kernighan and Ritchie wrote the book that
became the language definition for several years.
Beginning in 1983, the ANSI X3J11 committee standardized
the language.  Especially notable in keeping its
efforts on track were its officers
Jim Brodie, Tom Plum, and  P. J. Plauger, and the successive draft redactors,
Larry Rosler and Dave Prosser.
</p>
<p>
I thank Brian Kernighan, Doug McIlroy, Dave Prosser, Peter
Nelson, Rob Pike, Ken Thompson, and HOPL's referees
for advice in the preparation of this paper.
</p>
<h4>References
</h4>
<dl compact="">
<dt>[ANSI 89]</dt><dd>
American National Standards Institute,
<i>American National Standard for Information Systems‚ÄîProgramming Language C,</i>
X3.159-1989.
</dd><dt>[Anderson 80]</dt><dd>
B. Anderson,
`Type syntax in the language C: an object lesson in syntactic innovation,'
SIGPLAN Notices
<b>15</b>
(3), March, 1980, pp. 21-27.
</dd><dt>[Bell 72]</dt><dd>
J. R. Bell, `Threaded Code,' C. ACM
<b>16</b>
(6), pp. 370-372.
</dd><dt>[Canaday 69]</dt><dd>
R. H. Canaday and D. M. Ritchie,
`Bell Laboratories BCPL,'
AT&amp;T Bell Laboratories internal memorandum, May, 1969.
</dd><dt>[Corbato 62]</dt><dd>
F. J. Corbato, M. Merwin-Dagget, R. C. Daley,
`An Experimental Time-sharing System,' AFIPS Conf. Proc. SJCC,
1962, pp. 335-344.
</dd><dt>[Cox 86]</dt><dd>
B. J. Cox and A. J. Novobilski,
<i>Object-Oriented Programming: An Evolutionary Approach,</i>
Addison-Wesley: Reading, Mass., 1986. Second edition, 1991.
</dd><dt>[Gehani 89]</dt><dd>
N. H. Gehani and W. D. Roome,
<i>Concurrent C,</i>
Silicon Press: Summit, NJ, 1989.
</dd><dt>[Jensen 74]</dt><dd>
K. Jensen and N. Wirth,
<i>Pascal User Manual and Report,</i>
Springer-Verlag: New York, Heidelberg, Berlin.  Second Edition, 1974.
</dd><dt>[Johnson 73]</dt><dd>
S. C. Johnson and B. W. Kernighan, `The Programming Language B,'
Comp. Sci. Tech. Report #8, AT&amp;T Bell Laboratories (January 1973).
</dd><dt>[Johnson 78a]</dt><dd>
S. C. Johnson and D. M. Ritchie,
`Portability of C Programs and the UNIX System,'
Bell Sys. Tech. J.
<b>57</b>
(6) (part 2), July-Aug, 1978.
</dd><dt>[Johnson 78b]</dt><dd>
S. C. Johnson,
`A Portable Compiler: Theory and Practice,'
Proc. 5th ACM POPL Symposium (January 1978).
</dd><dt>[Johnson 79a]</dt><dd>
S. C. Johnson, `Yet another compiler-compiler,' in
<i>Unix Programmer's Manual,</i>
Seventh Edition, Vol. 2A, M. D. McIlroy and B. W. Kernighan, eds.
AT&amp;T Bell Laboratories: Murray Hill, NJ, 1979.
</dd><dt>[Johnson 79b]</dt><dd>
S. C. Johnson, `Lint, a Program Checker,' in
<i>Unix Programmer's Manual,</i>
Seventh Edition, Vol. 2B, M. D. McIlroy and B. W. Kernighan, eds.
AT&amp;T Bell Laboratories: Murray Hill, NJ, 1979.
</dd><dt>[Kernighan 78]</dt><dd>
B. W. Kernighan and D. M. Ritchie,
<i>The C Programming Language,</i>
Prentice-Hall: Englewood Cliffs, NJ, 1978.
Second edition, 1988.
</dd><dt>[Kernighan 81]</dt><dd>
B. W. Kernighan,
`Why Pascal is not my favorite programming language,'
Comp. Sci. Tech. Rep. #100, AT&amp;T Bell Laboratories, 1981.
</dd><dt>[Lesk 73]</dt><dd>
M. E. Lesk, `A Portable I/O Package,'
AT&amp;T Bell Laboratories internal memorandum ca. 1973.
</dd><dt>[MacDonald 89]</dt><dd>
T. MacDonald,
`Arrays of variable length,'
J. C Lang. Trans
<b>1</b>
(3), Dec. 1989, pp. 215-233.
</dd><dt>[McClure 65]</dt><dd>
R. M. McClure, `TMG‚ÄîA Syntax Directed Compiler,'
Proc. 20th ACM National Conf. (1965), pp. 262-274.
</dd><dt>[McIlroy 60]</dt><dd>
M. D. McIlroy, `Macro Instruction Extensions of Compiler Languages,'
C. ACM
<b>3</b>
(4), pp. 214-220.
</dd><dt>[McIlroy 79]</dt><dd>
M. D. McIlroy and B. W. Kernighan, eds,
<i>Unix Programmer's Manual,</i>
Seventh Edition, Vol. I,
AT&amp;T Bell Laboratories: Murray Hill, NJ, 1979.
</dd><dt>[Meyer 88]</dt><dd>
B. Meyer,
<i>Object-oriented Software Construction,</i>
Prentice-Hall: Englewood Cliffs, NJ, 1988.
</dd><dt>[Nelson 91]</dt><dd>
G. Nelson,
<i> Systems Programming with Modula-3,</i>
Prentice-Hall: Englewood Cliffs, NJ, 1991.
</dd><dt>[Organick 75]</dt><dd>
E. I. Organick,
<i>The Multics System: An Examination of its Structure,</i>
MIT Press: Cambridge, Mass., 1975.
</dd><dt>[Richards 67]</dt><dd>
M. Richards, `The BCPL Reference Manual,'
MIT Project MAC Memorandum M-352, July 1967.
</dd><dt>[Richards 79]</dt><dd>
M. Richards and C. Whitbey-Strevens,
<i>BCPL: The Language and its Compiler,</i>
Cambridge Univ. Press: Cambridge, 1979.
</dd><dt>[Ritchie 78]</dt><dd>
D. M. Ritchie, `UNIX: A Retrospective,' Bell Sys. Tech. J.
<b>57</b>
(6) (part 2), July-Aug, 1978.
</dd><dt>[Ritchie 84]</dt><dd>
D. M. Ritchie, `The Evolution of the UNIX Time-sharing System,'
AT&amp;T Bell Labs. Tech. J.
<b>63</b>
(8) (part 2), Oct. 1984.
</dd><dt>[Ritchie 90]</dt><dd>
D. M. Ritchie,
`Variable-size arrays in C,'
J. C Lang. Trans.
<b>2</b>
(2), Sept. 1990, pp. 81-86.
</dd><dt>[Sethi 81]</dt><dd>
R. Sethi,
`Uniform syntax for type expressions and declarators,'
Softw. Prac. and Exp.
<b>11</b>
(6), June 1981, pp. 623-628.
</dd><dt>[Snyder 74]</dt><dd>
A. Snyder,
<i>A Portable Compiler for the Language C,</i>
MIT: Cambridge, Mass., 1974.
</dd><dt>[Stoy 72]</dt><dd>
J. E. Stoy and C. Strachey, `OS6‚ÄîAn experimental operating
system for a small computer. Part I: General principles and structure,'
Comp J.
<b>15</b>,
(Aug. 1972), pp. 117-124.
</dd><dt>[Stroustrup 86]</dt><dd>
B. Stroustrup,
<i>The C++ Programming Language,</i>
Addison-Wesley: Reading, Mass., 1986.
Second edition, 1991.
</dd><dt>[Thacker 79]</dt><dd>
C. P. Thacker, E. M. McCreight, B. W. Lampson, R. F. Sproull,
D. R. Boggs, `Alto: A Personal Computer,' in
<i>Computer Structures: Principles and Examples,</i>
D. Sieworek, C. G. Bell, A. Newell,
McGraw-Hill: New York, 1982.
</dd><dt>[Thinking 90]</dt><dd>
<i>C* Programming Guide,</i>
Thinking Machines Corp.: Cambridge Mass., 1990.
</dd><dt>[Thompson 69]</dt><dd>
K. Thompson, `Bon‚Äîan Interactive Language,' undated AT&amp;T Bell Laboratories
internal memorandum (ca. 1969).
</dd><dt>[Wijngaarden 75]</dt><dd>
A. van Wijngaarden, B. J. Mailloux, J. E. Peck, C. H. Koster, M. Sintzoff,
C. Lindsey, L. G. Meertens, R. G. Fisker, `Revised report on the algorithmic
language Algol 68,'  Acta Informatica
<b>5</b>,
pp. 1-236.
</dd></dl>
<p> 
<a href="http://www.lucent.com/copyright.html">
Copyright</a> ¬© 2003 Lucent Technologies Inc.  All rights reserved.

</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How small is the smallest .NET Hello World binary? (342 pts)]]></title>
            <link>https://blog.washi.dev/posts/tinysharp/</link>
            <guid>36652824</guid>
            <pubDate>Sun, 09 Jul 2023 08:50:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.washi.dev/posts/tinysharp/">https://blog.washi.dev/posts/tinysharp/</a>, See on <a href="https://news.ycombinator.com/item?id=36652824">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  <p>Here is a dumb question that you probably never asked yourself: What is the minimal amount of bytes we need to store in a .NET executable to have the CLR print the string<code>"Hello, World!"</code> to the standard output?</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/thumbnail.png"><img data-src="/assets/img/posts/tinysharp/thumbnail.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/thumbnail.png"></a>
<em>How small can we get?</em></p>

<p>In this post, we will explore the limits of the .NET module file format, get it as small as possible, while still having it function like a normal executable on a typical Windows machine with the .NET Framework installed.</p>

<p>The final source code for this post can be found on my GitHub:</p>

<p><a href="https://gist.github.com/Washi1337/367eede6e00b31e29355626d5e2f3078" target="_blank">
 Full Source Code
</a></p>

<h2 id="rules"><span>Rules</span><a href="#rules"><i></i></a></h2>

<p>Here are the arbitrary rules I set up for myself:</p>

<ul>
  <li>
    <p><strong>The application must run a managed entry point implemented in C# or CIL.</strong>
This entry point must be responsible for printing <code>"Hello, World!"</code> to the standard output. 
This means we cannot do any of the native entry point shenanigans like we did in a <a href="https://blog.washi.dev/posts/entry-points">previous post</a>.
How it actually does the printing, however, is fully up to this method body.</p>
  </li>
  <li>
    <p><strong>The application runs on .NET Framework 4.x.x.</strong>
We do this to give ourselves a little bit more freedom, and it allows us to have a single executable only and leverage some of the features of the Windows PE loader. 
It is also nice to have an executable that we can just double click.</p>
  </li>
  <li>
    <p><strong>No third-party dependencies.</strong> 
We are only allowed to reference the BCL (i.e., mscorlib) and/or other libraries that are installed on a typical Windows machine. 
Otherwise, we could replace all code within our small application with a call to a custom-made dependency, which would be cheating!</p>
  </li>
  <li>
    <p><strong>Ignore zero bytes at the end of the file.</strong>
The PE file format, as well as the CLR itself, puts a hard limit on offset alignments for each section stored in the PE. 
Effectively it means that the theoretically smallest .NET PE that is able to run on Windows 10 or higher cannot be smaller than 1KB. 
As we will see this is rather easy to achieve.
To challenge ourselves a bit more, we strive to get to the ‚Äúbare minimum description‚Äù of a .NET hello world PE file, where we consider all trailing zero bytes as non-existent.</p>
  </li>
</ul>

<p>Let‚Äôs get hacking!</p>

<h2 id="establishing-a-baseline"><span>Establishing a baseline</span><a href="#establishing-a-baseline"><i></i></a></h2>

<p>To establish a baseline that we want to beat, let‚Äôs first start by compiling the following Hello World application using the latest version of the C# compiler by the time of writing this post.</p>

<div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td><pre><span>using</span> <span>System</span><span>;</span>

<span>namespace</span> <span>ConsoleApp1</span><span>;</span>

<span>internal</span> <span>static</span> <span>class</span> <span>Program</span>
<span>{</span>
    <span>public</span> <span>static</span> <span>void</span> <span>Main</span><span>(</span><span>string</span><span>[]</span> <span>args</span><span>)</span>
    <span>{</span>
        <span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>"Hello, World!"</span><span>);</span>
    <span>}</span>
<span>}</span>
</pre></td></tr></tbody></table></code></p></div>

<p>We accompany it with the following <code>.csproj</code> file:</p>

<div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td><pre><span>&lt;Project</span> <span>Sdk=</span><span>"Microsoft.NET.Sdk"</span><span>&gt;</span>

    <span>&lt;PropertyGroup&gt;</span>
        <span>&lt;OutputType&gt;</span>Exe<span>&lt;/OutputType&gt;</span>
        <span>&lt;TargetFramework&gt;</span>net472<span>&lt;/TargetFramework&gt;</span>
        <span>&lt;LangVersion&gt;</span>10<span>&lt;/LangVersion&gt;</span>
        <span>&lt;Nullable&gt;</span>enable<span>&lt;/Nullable&gt;</span>
    <span>&lt;/PropertyGroup&gt;</span>

<span>&lt;/Project&gt;</span>
</pre></td></tr></tbody></table></code></p></div>

<p>This gives us a binary of a whopping <code>4.6KB</code> file:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/size01.png"><img data-src="/assets/img/posts/tinysharp/size01.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/size01.png"></a>
<em>The size of a standard hello world application.</em></p>

<p>That seems excessive‚Ä¶ Clearly we can do better than this.</p>

<h2 id="removing-nullable-reference-annotations"><span>Removing nullable reference annotations</span><a href="#removing-nullable-reference-annotations"><i></i></a></h2>

<p>Inspecting the application in a .NET decompiler gives us a bit more insight on what is going on.
Since C# 8.0 we have known the concept of <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/nullable-reference-types">nullable reference types</a>.
These are special annotations that allows the C# compiler to reason about potentially unwanted null references to be passed on to functions, variables and parameters.
The downside is that these annotations are implemented in the form of custom attributes, which are linked into the executable statically and notoriously large:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy01.png"><img data-src="/assets/img/posts/tinysharp/dnSpy01.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy01.png"></a>
<em>Nullable Reference Types add many Custom Attributes to a .NET image</em></p>

<p>Let‚Äôs disable that with one option in our <code>.csproj</code> file:</p>

<div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td><pre><span>&lt;Project</span> <span>Sdk=</span><span>"Microsoft.NET.Sdk"</span><span>&gt;</span>

    <span>&lt;PropertyGroup&gt;</span>
        <span>&lt;OutputType&gt;</span>Exe<span>&lt;/OutputType&gt;</span>
        <span>&lt;TargetFramework&gt;</span>net472<span>&lt;/TargetFramework&gt;</span>
        <span>&lt;LangVersion&gt;</span>10<span>&lt;/LangVersion&gt;</span>
        
         <span>&lt;!-- Disable nullable reference type checks. --&gt;</span>
        <span>&lt;Nullable&gt;</span>disable<span>&lt;/Nullable&gt;</span>
    <span>&lt;/PropertyGroup&gt;</span>

<span>&lt;/Project&gt;</span>
</pre></td></tr></tbody></table></code></p></div>

<p>While this does get rid of all the attributes, we are unfortunately still left with a binary that is <code>4.6KB</code> in size, due to the PE file alignments.</p>

<h2 id="manually-crafting-a-net-module"><span>Manually crafting a .NET module</span><a href="#manually-crafting-a-net-module"><i></i></a></h2>

<p>Further inspecting the output in a decompiler shows that, even with nullable references disabled, the C# compiler still emits many type references to custom attributes in our application. 
In particular, they include many attributes assigned to the assembly itself, such as file version metadata and copyright information.
Additionally, besides our class <code>Program</code> we also have a hidden <code>&lt;Module&gt;</code> type that looks rather empty:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy02.png"><img data-src="/assets/img/posts/tinysharp/dnSpy02.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy02.png"></a>
<em>The C# compiler still emits a lot of unnecessary metadata</em></p>

<p>We could try and figure out how to instruct the compiler to disable generating all this metadata, but I figured, if we are going to the extreme, we may as well just build a .NET executable file from scratch by ourselves. 
This way we have more control over the final output, allowing us to just emit the bare minimum that is required to print <code>"Hello World"</code>, and not emit those unnecessary file metadata attributes.
Furthermore, we can just place our <code>main</code> function into the <code>&lt;Module&gt;</code> type and get rid of our <code>Program</code> class as well.
Below is an example implementation of building a small Hello World application using <a href="https://blog.washi.dev/posts/tinysharp/github.com/washi1337/asmresolver">AsmResolver</a>:</p>

<div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td><pre><span>// Define new assembly and module.</span>
<span>var</span> <span>assembly</span> <span>=</span> <span>new</span> <span>AssemblyDefinition</span><span>(</span><span>"assembly"</span><span>,</span> <span>new</span> <span>Version</span><span>(</span><span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>));</span>
<span>var</span> <span>module</span> <span>=</span> <span>new</span> <span>ModuleDefinition</span><span>(</span><span>"module.exe"</span><span>);</span>
<span>assembly</span><span>.</span><span>Modules</span><span>.</span><span>Add</span><span>(</span><span>module</span><span>);</span>

<span>// Obtain &lt;Module&gt; type.</span>
<span>var</span> <span>moduleType</span> <span>=</span> <span>module</span><span>.</span><span>GetOrCreateModuleType</span><span>();</span>

<span>// Craft a new Main method.</span>
<span>var</span> <span>factory</span> <span>=</span> <span>module</span><span>.</span><span>CorLibTypeFactory</span><span>;</span>
<span>var</span> <span>main</span> <span>=</span> <span>new</span> <span>MethodDefinition</span><span>(</span><span>"main"</span><span>,</span> <span>MethodAttributes</span><span>.</span><span>Static</span><span>,</span> <span>MethodSignature</span><span>.</span><span>CreateStatic</span><span>(</span><span>factory</span><span>.</span><span>Void</span><span>));</span>
<span>main</span><span>.</span><span>CilMethodBody</span> <span>=</span> <span>new</span> <span>CilMethodBody</span><span>(</span><span>main</span><span>)</span>
<span>{</span>
    <span>Instructions</span> <span>=</span>
    <span>{</span>
        <span>{</span><span>Ldstr</span><span>,</span> <span>"Hello, World!"</span><span>},</span>
        <span>{</span><span>Call</span><span>,</span> <span>factory</span><span>.</span><span>CorLibScope</span>
            <span>.</span><span>CreateTypeReference</span><span>(</span><span>"System"</span><span>,</span><span>"Console"</span><span>)</span>
            <span>.</span><span>CreateMemberReference</span><span>(</span><span>"WriteLine"</span><span>,</span> <span>MethodSignature</span><span>.</span><span>CreateStatic</span><span>(</span><span>factory</span><span>.</span><span>Void</span><span>,</span> <span>factory</span><span>.</span><span>String</span><span>))</span>
            <span>.</span><span>ImportWith</span><span>(</span><span>module</span><span>.</span><span>DefaultImporter</span><span>)</span>
        <span>},</span>
        <span>Ret</span>
    <span>}</span>
<span>};</span>

<span>// Add main to &lt;Module&gt;</span>
<span>moduleType</span><span>.</span><span>Methods</span><span>.</span><span>Add</span><span>(</span><span>main</span><span>);</span>

<span>// Register main as the entry point of the module:</span>
<span>module</span><span>.</span><span>ManagedEntryPointMethod</span> <span>=</span> <span>main</span><span>;</span>

<span>// Write to disk.</span>
<span>module</span><span>.</span><span>Write</span><span>(</span><span>"output.exe"</span><span>);</span>
</pre></td></tr></tbody></table></code></p></div>

<p>This did a great deal already, we cut our file size in half:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/size02.png"><img data-src="/assets/img/posts/tinysharp/size02.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/size02.png"></a>
<em>The size of a hello world application emitted by AsmResolver.</em></p>

<p>But we can do better‚Ä¶</p>

<h2 id="getting-rid-of-imports-and-base-relocations"><span>Getting rid of Imports and Base Relocations</span><a href="#getting-rid-of-imports-and-base-relocations"><i></i></a></h2>

<p>If we look into the resulting executable file using a tool like <a href="https://ntcore.com/?page_id=388">CFF Explorer</a>, we can see that the file contains two sections <code>.text</code> and <code>.reloc</code>.
Furthermore, it also contains two very large data directories called the Imports and Base Relocations directory respectively.</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/cff01.png"><img data-src="/assets/img/posts/tinysharp/cff01.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/cff01.png"></a>
<em>By default, 32-bit .NET images contain imports and base relocations that take a lot of space.</em></p>

<p>This is pretty typical for any AnyCPU or 32-bit .NET executable file.
The imports directory is required because 32-bit .NET executable files require an unmanaged entry point calling <code>mscoree!_CorExeMain</code>, as we have seen in a <a href="https://blog.washi.dev/posts/entry-points">previous post</a>.
Furthermore, by default .NET executables are relocatable, that is, the Windows PE Loader is free to map the executable at any memory address it likes.
This means every 32-bit .NET executable also needs a base relocation for the call to this imported function to be registered in the relocation directory.
This is problematic, because it is by default put in a fully separate section.
As every section needs to be aligned to the smallest possible section alignment of <code>0x200</code> bytes (1KB), we inflate our file by at least that amount of bytes just because of that.</p>

<p>Fortunately for us, 64-bit .NET executables do not need such an unmanaged entry point anymore.
With just two extra lines added to our previous script, we can get rid of both directories, an entire PE section, and thus shave off an entire kilobyte worth of data from our binary file:</p>

<div><p><code><table><tbody><tr><td><pre>1
2
3
</pre></td><td><pre><span>// Output a 64-bit module.</span>
<span>module</span><span>.</span><span>PEKind</span> <span>=</span> <span>OptionalHeaderMagic</span><span>.</span><span>PE64</span><span>;</span>
<span>module</span><span>.</span><span>MachineType</span> <span>=</span> <span>MachineType</span><span>.</span><span>Amd64</span><span>;</span>
</pre></td></tr></tbody></table></code></p></div>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/cff02.png"><img data-src="/assets/img/posts/tinysharp/cff02.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/cff02.png"></a>
<em>64-bit .NET images do not need imports or base relocations.</em></p>

<p>And indeed, we get to the theoretically possible minimum size of 1KB of a valid .NET PE file:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/size03.png"><img data-src="/assets/img/posts/tinysharp/size03.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/size03.png"></a>
<em>The minimum size of a PE file is reached.</em></p>



<p>We could have called it quits here, but I decided to look a little bit deeper into what really we can strip out of a binary to get to the absolute bare minimum of a .NET hello world executable.
From now on, we won‚Äôt be looking at the file size as reported by Windows Explorer.
Instead, we will be looking at a hex editor and see where the last non-zero byte is stored and consider that to be our final file size.
If we do this for our current file, we can actually see we are already down to a size of 991 bytes (<code>0x3DF</code>):</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/size04.png"><img data-src="/assets/img/posts/tinysharp/size04.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/size04.png"></a>
<em>The size we will be considering is the index of of the byte after the last non-zero byte in the file.</em></p>

<p>What is still contributing to this amount of bytes?
If we look again in a disassembler, we can see that the <code>#Strings</code> heap in a .NET binary is the second largest metadata stream stored in the file.
It contains all the names that the tables stream (<code>#~</code>) uses, which stores all the types and methods that our application defines and uses.
As it so turns out, many of these names are actually not really important to the runtime:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy03.png"><img data-src="/assets/img/posts/tinysharp/dnSpy03.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy03.png"></a>
<em>Names take up a lot of space.</em></p>

<p>Thus, setting these to <code>null</code> instead will give us an application that looks a bit like the following:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy04.png"><img data-src="/assets/img/posts/tinysharp/dnSpy04.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy04.png"></a>
<em>Truncating names.</em></p>

<p>Believe it or not, the application still runs fine and happily outputs ‚ÄúHello World‚Äù, regardless of whether this looks fine or not.
Best of all, it shaved a whopping 32 bytes from our file:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/size05.png"><img data-src="/assets/img/posts/tinysharp/size05.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/size05.png"></a>
<em>The size of the file after stripping names.</em></p>



<p>What other unnecessary metadata is there that the CLR does not really care about?</p>

<p>Our next target is getting rid of the <code>#GUID</code> stream.
This stream is present in virtually any .NET executable, and contains, as its names implies, a list of GUIDs.
However, the only type of metadata that really references it, is the Module table.
This table has a column called <code>Mvid</code>, which is supposed to reference a GUID that makes the module uniquely identifiable across different versions of compiled binaries.</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/cff04.png"><img data-src="/assets/img/posts/tinysharp/cff04.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/cff04.png"></a>
<em>A module contains an optional MVID, which is a GUID of 16 bytes.</em></p>

<p>We do not care about versioning, we just want the smallest binary possible. 
We can just get rid of it and save 16 bytes that were originally making up the Mvid.
However, by doing so, the <code>#GUID</code> stream is now empty and thus is no longer needed. 
By removing the stream in its entirety, we save another 16 bytes that make up its header, making a total of 32 bytes that we save with this.</p>

<p>Additionally, the <code>Console::WriteLine</code> method that we call in our <code>Main</code> function is defined in <code>mscorlib</code>. 
Typically, references to BCL assemblies are annotated with a public key token of 8 bytes.</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/cff03.png"><img data-src="/assets/img/posts/tinysharp/cff03.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/cff03.png"></a>
<em>The reference to <code>mscorlib</code> contains a long public key token.</em></p>

<p>It so turns out that if there is no public key token present in this reference, the CLR then just does not verify this assembly token for authenticity.
Since we do not care about security anyways in our experiment, we can get rid of this too.</p>

<p>This brings us down to a file of 918 bytes in total:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/size06.png"><img data-src="/assets/img/posts/tinysharp/size06.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/size06.png"></a>
<em>The size after stripping GUIDs and public key tokens.</em></p>

<h2 id="getting-rid-of-consolewriteline"><span>Getting rid of Console.WriteLine</span><a href="#getting-rid-of-consolewriteline"><i></i></a></h2>

<p>If we look at other metadata streams defined in our assembly, we find that our <code>"Hello, World!"</code> string is actually stored in a rather inefficient manner.
In .NET, all user strings are put in the <code>#US</code> metadata stream as a length-prefixed array of 16-bit wide characters followed by an additional zero byte.
This is done to support a wide range of the UNICODE character set.
However, all the characters in the string that we want to print have a code-point value smaller than 255 (<code>0xFF</code>), the max value of a single byte.
Why should we then use 2 bytes per character?
Furthermore, this is the only user string that we need in our binary.
Having an entire 12-bytes stream header for just one string seems rather excessive:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/cff05.png"><img data-src="/assets/img/posts/tinysharp/cff05.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/cff05.png"></a>
<em>User strings in .NET always use wide character encoding.</em></p>

<p>Unfortunately, there is no way turn this wide-character string in the <code>#US</code> stream to a single-byte ASCII string, and to tell the CLR to interpret it as such.</p>

<p>Time to get creative!</p>

<p>If we want to print an ASCII string as opposed to a wide-character string, we need a function that accepts those types of strings.
<code>Console::WriteLine</code> is not a function that fits this criterium, so we need to get rid of it.
However, the unmanaged function <code>ucrtbase!puts</code> does.
.NET allows for invoking unmanaged functions by using a feature called <a href="https://learn.microsoft.com/en-us/dotnet/standard/native-interop/pinvoke">Platform Invoke (P/Invoke)</a>.
We can define <code>puts</code> using P/Invoke in the following manner in C#:</p>

<div><p><code><table><tbody><tr><td><pre>1
2
</pre></td><td><pre><span>[</span><span>DllImport</span><span>(</span><span>"ucrtbase"</span><span>)]</span>
<span>static</span> <span>extern</span> <span>int</span> <span>puts</span><span>(</span><span>nint</span> <span>str</span><span>);</span>
</pre></td></tr></tbody></table></code></p></div>

<p>However, there is a problem.
The <code>puts</code> function accepts a pointer to a string. 
This pointer must be a valid <strong>runtime address</strong> that points to the start of the zero-terminated ASCII string that we want to print.
How do we know where our string is stored at compile-time so that we can push it in our <code>main</code> method?</p>

<p>It so turns out we can solve this by unchecking the <code>DynamicBase</code> flag in the <code>DllCharacteristics</code> field of the PE‚Äôs optional header.
This allows us to fix the base address the module will be mapped on at runtime.
We can then decide an arbitrary base address, put the ASCII string anywhere in our <code>.text</code> section, and calculate the runtime address by the formula <code>module_base_address + rva_ascii_string</code>.</p>

<div><p><code><table><tbody><tr><td><pre>1
2
3
4
</pre></td><td><pre><span>var</span> <span>image</span> <span>=</span> <span>module</span><span>.</span><span>ToPEImage</span><span>();</span>

<span>image</span><span>.</span><span>ImageBase</span> <span>=</span> <span>0x00000000004e0000</span><span>;</span>
<span>image</span><span>.</span><span>DllCharacteristics</span> <span>&amp;=</span> <span>~</span><span>DllCharacteristics</span><span>.</span><span>DynamicBase</span><span>;</span>
</pre></td></tr></tbody></table></code></p></div>

<p>In order to have the CLR actually respect this flag, we also need to unset the <code>ILOnly</code> flag in the .NET data directory:</p>

<div><p><code><table><tbody><tr><td><pre>1
</pre></td><td><pre><span>image</span><span>.</span><span>DotNetDirectory</span><span>!.</span><span>Flags</span> <span>&amp;=</span> <span>~</span><span>DotNetDirectoryFlags</span><span>.</span><span>ILOnly</span><span>;</span>
</pre></td></tr></tbody></table></code></p></div>

<p>We can then simply pass the calculated address directly in our <code>puts</code> function call as a normal integer:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy05.png"><img data-src="/assets/img/posts/tinysharp/dnSpy05.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy05.png"></a>
<em>Replace <code>Console::WriteLine</code> with <code>ucrtbase!puts</code>, allowing us to use an ASCII string instead.</em></p>

<p>And there we go, we not only got rid of our wide-character string, but also the entire <code>#US</code> stream, as well as the reference to <code>System.Console::WriteLine</code> which also contributes quite a few bytes to the size of our file.
In turn, we got a few bytes back due to the new required <code>puts</code> method definition and its associated P/Invoke metadata, but it is for sure a big shrink.</p>

<p>We are now down to 889 bytes (<code>0x379</code>):</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/size07.png"><img data-src="/assets/img/posts/tinysharp/size07.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/size07.png"></a>
<em>The size of the file after removing <code>Console::WriteLine</code> and using ASCII strings.</em></p>

<h2 id="other-micro-optimizations"><span>Other micro optimizations</span><a href="#other-micro-optimizations"><i></i></a></h2>

<p>There are a few things we still can do.</p>

<p>Our <code>puts</code> definition follows the canonical definition as provided by the C runtime library. 
This means the function is defined to return an <code>int32</code> representing the number of characters that were written to the standard output.
However, we do not care about this value.
Indeed, in our main method, we pop this value right after the call to keep the CLR happy:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy06.png"><img data-src="/assets/img/posts/tinysharp/dnSpy06.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy06.png"></a>
<em>Returning an <code>int32</code> means the value needs to be popped from the evaluation stack again.</em></p>

<p>Since this is a 64-bit PE file anyways, the <code>puts</code> function will use the <a href="https://learn.microsoft.com/en-us/cpp/build/x64-calling-convention?view=msvc-170">x64 calling conventions</a> as described by Microsoft.
In simple terms, this means at runtime the return value is not really pushed on the stack as with normal .NET method calls, but rather put in the <code>RAX</code> register.
Since we do not use this value anyways, we can just turn the definition into <code>void</code>, effectively disregarding whatever is put into this register.
As the function is now no longer returning anything, nothing is also pushed onto the evaluation stack in our main method.
This allows us to get rid of the <code>pop</code> instruction in our main method:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy07.png"><img data-src="/assets/img/posts/tinysharp/dnSpy07.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/dnSpy07.png"></a>
<em>Changing to a <code>void</code> means the <code>pop</code> instruction is no longer required.</em></p>

<p>We can also move the ASCII string that we pass on to the <code>puts</code> function to a slightly better place.
The PE file format contains a lot of segments that are aligned to a certain byte-boundary.
In particular, as was mentioned before, sections are aligned to the nearest multiple of <code>0x200</code> (1KB).
This also includes the first section.
However, since the PE file headers of our file take up less space than <code>0x200</code> bytes, we end up with a chunk of padding data between our headers and first section data:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/hxd01.png"><img data-src="/assets/img/posts/tinysharp/hxd01.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/hxd01.png"></a>
<em>PE images contain some padding between the headers and the first section.</em></p>

<p>It so turns out the Windows PE Loader always maps the PE headers as a chunk of readable memory. 
The good news is, it also includes this padding data.</p>

<p>Let‚Äôs move our string there!</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/hxd02.png"><img data-src="/assets/img/posts/tinysharp/hxd02.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/hxd02.png"></a>
<em>Place the string to print into the unused padding segment.</em></p>

<p>By moving our string there, we effectively truncated our file by 13 bytes.</p>

<p>Since we also do not reference <code>Console::WriteLine</code> anymore, we also do not longer need the reference to <code>mscorlib</code> to be stored in our binary.
This also saves quite a bit of space, since it means one less table to store in the tables stream (<code>#~</code>), as well as the name <code>mscorlib</code> to be removed from the <code>#Strings</code> stream.</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/cff07.png"><img data-src="/assets/img/posts/tinysharp/cff07.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/cff07.png"></a>
<em>We no longer depend on <code>"mscorlib"</code>, thus we do no longer need a reference to it.</em></p>

<p>Finally, we can end with a bit of a weird one.
The .NET metadata directory contains a field called <code>VersionString</code>, containing the minimum required version of the .NET Framework that is required to run this .NET executable.
By default, for .NET 4.0+ binaries, this contains the string <code>"v4.0.30319"</code> padded with zero bytes to the nearest multiple of 4 (totaling 12 bytes).
However, we can truncate this string to just <code>v4.0.</code>, stripping a total of 4 bytes after padding, to trick .NET to still boot up the CLR version 4.0 and run the program successfully.</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/cff06.png"><img data-src="/assets/img/posts/tinysharp/cff06.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/cff06.png"></a>
<em>The .NET metadata directory contains a version string specifying the required runtime which can be truncated.</em></p>

<p>Note that, for some reason, the trailing <code>.</code> seems to be important. I have no idea why, but getting rid of anything more than this string will make the program not boot up correctly.</p>

<p>Our final size is 834 bytes (<code>0x342</code>):</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/size08.png"><img data-src="/assets/img/posts/tinysharp/size08.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/size08.png"></a>
<em>The final size of our binary.</em></p>

<p>We can ZIP it to get it to a mere 476 bytes (compared to 582 bytes if we did not do any optimizations after reaching the 1KB limit).
This is where I decided to call it quits.</p>

<p>Finally, to prove the program still works fine, here is a screenshot:</p>

<p><a href="https://blog.washi.dev/assets/img/posts/tinysharp/final.png"><img data-src="/assets/img/posts/tinysharp/final.png" alt="" data-proofer-ignore="" src="https://blog.washi.dev/assets/img/posts/tinysharp/final.png"></a>
<em>It still works!</em></p>

<h2 id="final-words"><span>Final Words</span><a href="#final-words"><i></i></a></h2>

<p>This was a dumb way to spend my Saturday.</p>

<p>Even though this is probably quite a useless project, I still like diving into these dumb rabbit holes every now and then.
Exploring the limits of well-established systems is always fun, even if the end result is kind of pointless.</p>

<p>To summarize what we have done, we went from a Hello World file of <code>4.6 KB</code> compiled by the C# compiler to a handcrafted PE file of <code>834 B</code> excluding trailing zero bytes.
I don‚Äôt think we can get any smaller than this, but I am happy to be proven wrong!</p>

<p>As said before, the final source code to produce the binary can be found on my GitHub:</p>

<p><a href="https://gist.github.com/Washi1337/367eede6e00b31e29355626d5e2f3078" target="_blank">
 Full Source Code
</a></p>

<p>Happy hacking!</p>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Story Behind Hackathon Photo (108 pts)]]></title>
            <link>https://frantic.im/story-behind-hackathon-photo/</link>
            <guid>36652551</guid>
            <pubDate>Sun, 09 Jul 2023 07:57:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://frantic.im/story-behind-hackathon-photo/">https://frantic.im/story-behind-hackathon-photo/</a>, See on <a href="https://news.ycombinator.com/item?id=36652551">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
  <header>
    
    
  </header>
  <p>I‚Äôve seen <a href="https://unsplash.com/photos/QBpZGqEMsKg">this photo</a> on the internet, sometimes even billboards and posters. Maybe you‚Äôve seen it too? Here‚Äôs the story behind it.</p>
<p><img src="https://frantic.im/assets/hackathon.jpg" alt=""></p>
<p>In 2017 I was working on React Native team. We were friends with all other developer experience teams around Facebook. One of them worked on <a href="https://nuclide.io/">Nuclide</a> (RIP), a set of plugins for Atom editor turning it into multi-platform IDE. Nuclide struggled with adoption outside Facebook walls.</p>
<p>Around that time, Unsplash was becoming very popular. They were the first to provide high quality stock photos for free (very bold strategy for its time). Their photos were spreading like a wildfire.</p>
<p>So I had this ‚Äúgenius‚Äù idea: make a photo of MacBook Pro with Atom/Nuclide running on it, upload it to Unsplash and get programming blog posts use it as their cover photo (for free). People will notice a cool looking editor and will start asking ‚Äúwhat is it?‚Äù, eventually finding Nuclide (now you know why I‚Äôm not working in marketing).</p>
<p>I took my old Canon 6D to the office and we did a photoshoot. I uploaded the picture (along with others from my Lightroom collection, to make it less sketchy).</p>
<p><img src="https://frantic.im/assets/nuclide.jpg" alt="Nuclide/Atom on MacBook Pro"></p>
<p>The plan didn‚Äôt work. The image got some downloads, but not much. It was lost in a sea of similar pictures. A year later, Facebook gave up on Nuclide and marketing efforts became irrelevant.</p>
<p>However, one thing came out of this process I did not expect.</p>
<p>Together with the Nuclide photo, I uploaded a picture I took that year in Ukraine. I was a judge at <a href="https://www.devchallenge.it/">DevChallenge</a> hackathon in Kyiv, and during the break I snapped a few photos with a wide 24mm lens. I really liked how concentrated everyone was, staff members walking the rows, the uniformity, lighting, stickers on the notebooks. I don‚Äôt think the photo was very good by photography standards, but I loved the spirit of that place and wanted to capture it.</p>
<p><img src="https://frantic.im/assets/hackathon_lightroom.png" alt="Other pictures from that hackathon in Kyiv"></p>
<p>During the uploading process Unsplash asked if I wanted to submit my pictures to their first ever ‚ÄúUnsplash Awards‚Äù and I thought ‚Äúsure why not?‚Äù.</p>
<p>I forgot about this for a while, until several months later I got an email from Unspash notifying me that I won <a href="https://awards.unsplash.com/2017/#/tech-and-business">‚ÄúUnsplash Awards 2017‚Äù in ‚ÄúTech and business‚Äù</a>.</p>
<blockquote>
<p>In a way, Alex‚Äôs photo captures a reflection of modern life: staring at a screen. Our lives, especially in our twenties, feels like a competition. From school, to university, to getting a job and progressing through our careers ‚Äì it‚Äôs a never ending competition. The photo draws your eyes out across the rows of workers, all seemingly identical ‚Äì but at the same time, showing small hints of color and personality from every worker that highlight and humanizes their unique history and personality. It makes me think of 20 years from now, what technology will be ubiquitous.
‚Äì Niv Dror, ProductHunt/Angelist</p>
</blockquote>
<p>They sent me a bunch of cool prizes: PeakDesign Messenger bag, straps and clips, Moment lens for iPhone, and even a printed version of my photo.</p>
<p>Now, looking at it, I do regret not processing the picture more: the horizon line is a bit tilted, you can spot chromatic abberation, the windows are overexposed.</p>
<p>Today that picture has 57 million views and used all over the internet. It even ended up on <a href="https://news.ycombinator.com/item?id=21010674">Hacker News</a> with the classic ‚ÄúIt looks like a sweatshop‚Äù and ‚Äúexact type of workplace I wouldn‚Äôt want anyone to end up‚Äù comments.</p>
<p>Conclusions? None, I guess. I just love how a stream of random events brought this to life.</p>

  
  






  <div>
    <p>Hello! This text lives here to convince you to subscribe. If you are reading this, consider clicking that subscribe button for more details.</p>
    <p>I write about programming, software design and side projects <a href="https://frantic.im/subscribe/" target="_blank"><svg viewBox="0 0 800 800"><path d="M493 652H392c0-134-111-244-244-244V307c189 0 345 156 345 345zm71 0c0-228-188-416-416-416V132c285 0 520 235 520 520z"></path><circle cx="219" cy="581" r="71"></circle></svg> Subscribe</a></p>
  </div>

</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[AMD Ryzen 7 7840U Performance Benchmarks on Linux (108 pts)]]></title>
            <link>https://www.phoronix.com/review/amd-ryzen7-7840u</link>
            <guid>36652096</guid>
            <pubDate>Sun, 09 Jul 2023 06:22:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.phoronix.com/review/amd-ryzen7-7840u">https://www.phoronix.com/review/amd-ryzen7-7840u</a>, See on <a href="https://news.ycombinator.com/item?id=36652096">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-bg">
						
						<!-- google_ad_section_start -->
<article>




<div>

<p>For weeks and weeks I've been eager to see how well the new AMD Zen 4 based "Phoenix" laptop SoCs function and perform under Linux. Recently I finally found an interesting AMD Ryzen 7 7840U laptop to test and today have some initial Linux benchmarks to share from this Acer Swift Edge 16 laptop with Ryzen 7 7840U SoC and a 3.2K 120Hz OLED display, among other interesting specs.</p>
<p><a href="https://www.phoronix.com/image-viewer.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_0_lrg" target="_blank"><img src="https://www.phoronix.net/image.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_0_med" alt="AMD Ryzen 7 7840U on Linux"></a></p>
<p>The AMD Ryzen 7 7840U is the current top-tier Phoenix U-series laptop processor. This SoC features 8 cores / 16 threads, 3.3GHz base clock, up to a 5.1GHz boost clock, 16MB L3 cache, and a default TDP of 28 Watts with a cTDP of 15 to 30 Watts. The Ryzen 7 7840U features integrated Radeon 780M graphics with 12 CUs. The 7840U does feature AMD Ryzen AI functionality though this AI engine isn't currently exposed under Linux at least as far as upstream software support is concerned.</p>
<p>The Ryzen 7 7840U is effectively the successor to the Ryzen 7 (PRO) 6850U. This Phoenix series laptop processor has all of the common Zen 4 architecture elements including AVX-512. The Phoenix series are manufactured on a TSMC 4nm process.</p>
<p><a href="https://www.phoronix.com/image-viewer.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_1_lrg" target="_blank"><img src="https://www.phoronix.net/image.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_1_med" alt="AMD Ryzen 7 7840U on Ubuntu Linux"></a></p>
<p>Since AMD announced the Ryzen 7040 series laptop processors I've been very eager to see how well these new processors perform especially given the success in the desktop and server space of Zen 4. Unfortunately AMD doesn't actively engage with us over Linux laptop testing and the major OEMs/ODMs aren't actively engaging at large with the relatively small Linux niche especially from the PR side. Meanwhile the Linux laptop vendors currently are still relying on the Ryzen 6000 / 7030 series. So I've spent weeks scouring some interesting Phoenix laptop to buy in order to conduct Linux compatibility testing and benchmarking.</p>
<p><a href="https://www.phoronix.com/image-viewer.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_2_lrg" target="_blank"><img src="https://www.phoronix.net/image.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_2_med" alt="Acer Swift Edge 16 keyboard"></a></p>
<p>Ultimately I settled on the Acer Swift Edge 16. Many of the early Ryzen 7040 series laptops have featured NVIDIA GeForce RTX discrete graphics, which isn't of too much interest to many Phoronix readers that from the enthusiast/gamer angle tend to prefer Radeon (or Intel) graphics thanks to the fully open-source driver code. So it was a lot of waiting until finding a laptop in-stock with integrated graphics and other interesting specs. The Acer Swift Edge 16 became available in-stock last week and I went with it, which seems to be the first in-stock using the Ryzen 7 7840U. Also making this laptop interesting is its 16-inch 3.2K 120Hz OLED display that does support HDR.</p>
<p><a href="https://www.phoronix.com/image-viewer.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_3_lrg" target="_blank"><img src="https://www.phoronix.net/image.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_3_med" alt="Acer Swift Edge 16 side"></a></p>
<p>The Acer Swift Edge 16 has 16GB of LPDDR5 memory, a 1TB PCIe Gen 4 SSD, at least under Windows is rated for a 8.5 hour battery life, and features a magnesium alloy chassis. This Ryzen 7 7840U laptop is currently shipping at $1299 USD. Unfortunately the memory is non-upgradeable beyond the soldered 16GB of RAM.</p>
<p><a href="https://www.phoronix.com/image-viewer.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_4_lrg" target="_blank"><img src="https://www.phoronix.net/image.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_4_med" alt="AMD Ryzen 7 7840U with Acer Swift Edge 16"></a></p>
<p>By default the Acer Swift Edge 16 ships with Windows 11 Home. Quickly after receiving this laptop it was onward to testing Linux. First up was using Ubuntu 23.04, which refreshingly booted without issue on this laptop.  Booting the Ubuntu 23.04 ISO yielded working graphics acceleration, the integrated WiFi was working, the touchpad and keyboard were working, and the NVMe drive was properly detected. It was off to a great start!</p>
<p><a href="https://www.phoronix.com/image-viewer.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_6_lrg" target="_blank"><img src="https://www.phoronix.net/image.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_6_med" alt="AMD Ryzen 7 7040 stickers"></a></p>
<p>But when rebooting to the newly-installed Ubuntu 23.04 is when the first problem arose... The screen went black upon booting the new installation after the Plymouth boot splash screen was over. Quite strange considering from the live ISO it booted up fine without issue to the GUI installer. And VT switching still was working for this laptop. After a lot of troubleshooting, it was a GNOME Wayland (Mutter) display problem / Wayland.... The ultimate cause yet to be figured out but likely due to some combination of the OLED/HDR panel. When switching to a VT and installing the KDE Plasma desktop, SDDM fired right on up and proceeded to work with the KDE Plasma desktop complete with graphics acceleration.</p>
<p><a href="https://www.phoronix.com/image-viewer.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_5_lrg" target="_blank"><img src="https://www.phoronix.net/image.php?id=amd-ryzen7-7840u&amp;image=amd_7840u_5_med" alt="AMD Ryzen 7 7840U with KDE desktop"></a></p>
<p>AMD Linux engineers hadn't encountered said issue with their test hardware and seems to be something specific to the Acer Swift Edge 16's panel. They did note though to ensure AMD Phoenix laptop users fetch their latest AMDGPU firmware files from linux-firmware.git as with some laptop panels there may be Panel Self Refresh (PSR) issues if using the older firmware. Unfortunately for my case it didn't help the GNOME issue so my testing has been under KDE Plasma thus far.</p>
<p>After that initial headache, the Linux experience has been relatively robust. But I've also hit some other graphical glitches with the Radeon RX 780M upon game testing... Partial frame-buffer compression / white-out areas of the display. It's possible these items may be resolved past Linux 6.4 / Mesa 23.1, but alas I've been hammering this laptop for only the past week. Thus for today's article is focusing only on the Ryzen 7 7840U Linux CPU performance and a follow-up article will dig more into the Radeon 780M graphics support and performance under Linux.</p>
<p>The AMD Ryzen 7 7840U for Linux benchmarking is also a great choice since it's this model that the Framework Laptop will be shipping later this year. The Ryzen 7 7840U is also set to be in the GPD Win Max 2 among other higher-end 2023 laptops.</p>
<p>Besides the mentioned graphics issues, the AMD Ryzen 7 7840U has been working out well under Linux and it's sure been darn fast! Very exciting having Zen 4 in a laptop especially for those able to leverage AVX-512 or other heavy workloads from a laptop. Today's article has the Ubuntu 23.04 performance of the Acer Swift Edge 16 with Ryzen 7 7840U up against the prior generation Ryzen 7 PRO 6850U within a Lenovo ThinkPad X13 Gen 3 (LENOVO 21CM0001US) and then an Intel Core i7 1280P Alder Lake within a MSI Prestige 14 (MSI MS-14C6). Unfortunately I don't have any newer Raptor Lake laptop for Linux testing.</p>
</div>

							


					
						</article>
						
<!-- google_ad_section_end -->
					</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google's Privacy Policy Now Admits to Collecting All Your Data for AI Training (142 pts)]]></title>
            <link>https://www.pcgamer.com/in-case-there-was-any-doubt-googles-privacy-policy-now-explicitly-states-that-its-going-to-suck-up-all-your-data-to-train-its-ai/</link>
            <guid>36651717</guid>
            <pubDate>Sun, 09 Jul 2023 05:09:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.pcgamer.com/in-case-there-was-any-doubt-googles-privacy-policy-now-explicitly-states-that-its-going-to-suck-up-all-your-data-to-train-its-ai/">https://www.pcgamer.com/in-case-there-was-any-doubt-googles-privacy-policy-now-explicitly-states-that-its-going-to-suck-up-all-your-data-to-train-its-ai/</a>, See on <a href="https://news.ycombinator.com/item?id=36651717">Hacker News</a></p>
<div id="readability-page-1" class="page"><article aria-label="article" data-id="mTSjXezVBz6VRxDMMJKq8d">
<header>
<nav aria-label="Breadcrumbs">
<ol>
<li>
<a href="https://www.pcgamer.com/" aria-label="Return to Home">Home</a>
</li>
<li>
<a href="https://www.pcgamer.com/uk/news/" aria-label="Return to News">News</a>
</li>
</ol>
</nav>


</header>
<section>
<div itemprop="image" itemscope="" itemtype="https://schema.org/ImageObject">
<div>
<picture><source type="image/webp" alt="Google campus sign" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" srcset="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-320-80.jpg.webp 320w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-480-80.jpg.webp 480w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-650-80.jpg.webp 650w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-970-80.jpg.webp 970w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-1024-80.jpg.webp 1024w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-1200-80.jpg.webp 1200w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-1920-80.jpg.webp 1920w" sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P.jpg"><source type="image/jpeg" alt="Google campus sign" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" srcset="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-1200-80.jpg 1200w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-1920-80.jpg 1920w" sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P.jpg"><img src="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-320-80.jpg" alt="Google campus sign" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" srcset="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-1200-80.jpg 1200w, https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P-1920-80.jpg 1920w" sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P.jpg"></picture>
</div>
<meta itemprop="url" content="https://cdn.mos.cms.futurecdn.net/uyEje6YtnET6euVcPGbG3P.jpg">
<meta itemprop="height" content="600">
<meta itemprop="width" content="338">
<figcaption itemprop="caption description">
<span itemprop="copyrightHolder">(Image credit: Bloomberg (Getty Images))</span>
</figcaption>
</div>

<div id="article-body">
<p>To me, artificial intelligence is a lot like magnets: I have no idea how they work. But I do understand, in a very general sense, that AI is not actually intelligent. It's just data, collected on a massive scale, algorithmically digested, and spit out in conversational tones designed to make us think that the machine is "smart."</p><p>The popular versions of these systems, like ChatGPT, live and die based on the amount of data they can harvest, which essentially means they're reliant on you. And in case there's any doubt about what "you" means in this particular context, <a href="https://policies.google.com/privacy?hl=en#footnote-sources" target="_blank" data-url="https://policies.google.com/privacy?hl=en#footnote-sources">Google</a> (via <a href="https://www.techspot.com/news/99281-google-policy-update-confirms-itll-scrape-everything-you.html" target="_blank" data-url="https://www.techspot.com/news/99281-google-policy-update-confirms-itll-scrape-everything-you.html">Techspot</a>) has updated its privacy policy to explicitly state that pretty much anything you say or do online can be scooped up and used to train its AI models.</p><p>Naturally, Google collects data from your online activity, like the stuff you search for, the videos you watch, the things you buy, and the people you talk to, and the location data accessed through your Android mobile device. But "in some circumstances," it also collects information from "publicly accessible sources": If your name appears in a local newspaper article, for instance, Google may index the article and then share it with people searching for your name.</p><p>That in itself isn't new: What's changed, as can be seen on Google's <a href="https://policies.google.com/privacy/archive?hl=en" target="_blank" data-url="https://policies.google.com/privacy/archive?hl=en">policy updates page</a>, is how Google says it can use the information it picks up from those public sources. Previously, the policy stated that publicly available data could be used "to help train Google‚Äôs language models and build features like Google Translate." The latest update broadens the policy considerably: "We may collect information that‚Äôs publicly available online or from other public sources to help train Google‚Äôs AI models and build products and features like Google Translate, Bard, and Cloud AI capabilities."</p><p>Bard is essentially Google's answer to ChatGPT, announced <a href="https://www.pcgamer.com/google-unveils-its-own-chatgpt-like-ai-chatbot/" target="_blank">earlier this year</a>, and much like other AI models it hasn't been entirely smooth sailing. In April, for instance, a report claimed that several Google employees had urged the company not to roll out Bard because the information it provided in response to queries was "worse than useless" and effectively made the chatbot a "<a href="https://www.pcgamer.com/google-employees-reportedly-begged-it-not-to-release-pathological-liar-ai-chatbot-bard/" target="_blank">pathological liar</a>."</p><p>More data should, in theory at least, lead to better results for Google's bots. But updated privacy policy or not, the legal status of this behaviour has not been clearly established. OpenAI is facing multiple lawsuits over the way it harvests and uses data to train ChatGPT: Policies like the one recently implemented by Google might seem to make some of it fair game but, but as <a href="https://www.washingtonpost.com/technology/2023/06/28/openai-chatgpt-lawsuit-class-action/" target="_blank" data-url="https://www.washingtonpost.com/technology/2023/06/28/openai-chatgpt-lawsuit-class-action/">The Washington Post</a> reported, AI models will hoover up pretty much anything from Wikipedia pages to news posts and individual tweets, a habit that a growing number of people take issue with.&nbsp;</p><p>And not all of the material in question is in fact fair game: Authors Mona Awad and Paul Tremblay recently <a href="https://www.theguardian.com/books/2023/jul/05/authors-file-a-lawsuit-against-openai-for-unlawfully-ingesting-their-books" target="_blank" data-url="https://www.theguardian.com/books/2023/jul/05/authors-file-a-lawsuit-against-openai-for-unlawfully-ingesting-their-books">filed their own lawsuit</a> against OpenAI, alleging that ChatGPT violated copyright laws by using their works to train its AI model without permission.</p><p>I've reached out to Google for more information on its reasons for changing its privacy policies, and will update if I receive a reply.</p>
</div>
<div data-hydrate="true" id="slice-container-newsletterForm-articleInbodyContent"><section><p>Sign up to get the best content of the week, and great gaming deals, as picked by the editors.</p></section></div>
<div id="slice-container-authorBio"><p>Andy has been gaming on PCs from the very beginning, starting as a youngster with text adventures and primitive action games on a cassette-based TRS80. From there he graduated to the glory days of Sierra Online adventures and Microprose sims, ran a local BBS, learned how to build PCs, and developed a longstanding love of RPGs, immersive sims, and shooters. He began writing videogame news in 2007 for The Escapist and somehow managed to avoid getting fired until 2014, when he joined the storied ranks of PC Gamer. He covers all aspects of the industry, from new game announcements and patch notes to legal disputes, Twitch beefs, esports, and Henry Cavill. <em>Lots</em> of Henry Cavill.</p></div>



</section>


<div id="slice-container-relatedArticles"><p><h5>Most Popular</h5></p></div>

</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[KDE for Travelers (154 pts)]]></title>
            <link>https://kde.org/for/travelers/</link>
            <guid>36651387</guid>
            <pubDate>Sun, 09 Jul 2023 03:59:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://kde.org/for/travelers/">https://kde.org/for/travelers/</a>, See on <a href="https://news.ycombinator.com/item?id=36651387">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main"><main><div><p>Travel the World Using KDE Applications</p></div><div><figure><img src="https://apps.kde.org/app-icons/org.kde.itinerary.svg" alt="" title=""></figure><h2 id="kde-itinerary">KDE Itinerary</h2><p>KDE Itinerary is a digital travel assistant that protects your privacy. It makes collecting all the information about your travel inside a single application easy and straightforward. KDE Itinerary is available for <a href="https://plasma-mobile.org/">Plasma Mobile</a> and Android.</p><p><a href="https://community.kde.org/Android/FDroid#KDE_F-Droid_Release_Repository"><img src="https://kde.org/store_badges/fdroid/en.svg" alt="Get it on F-Droid"></a></p></div><div><div><h2 id="store-your-reservations">Store your reservations</h2><p>Store all the information about your reservations in Itinerary. This includes QR-codes, check-in times, arrivial times, real-time delays, seat reservations, coach layout, and more.</p><p>Itinerary supports train, bus and flight bookings, as well as hotel, restaurant, event and rental car reservations. Traveling in a group? Not a problem, Itinerary supports multi-traveler bookings.</p></div><p><img src="https://kde.org/for/travelers/itinerary-trip.png"></p></div><div><div><h2 id="local-first">Local first</h2><p>Itinerary automatically extracts booking data from various input formats. It's all performed locally on <strong>your</strong> device and your data is not sent to any remote servers.</p><p>This works best when using <a href="https://kontact.kde.org/components/kmail/">KMail</a> to extract tickets from your email and then <a href="https://kdeconnect.kde.org/">KDE Connect</a> to transfer tickets to your phone. This also works great with <a href="https://apps.nextcloud.com/apps/mail">Nextcloud Mail</a> and <a href="https://f-droid.org/en/packages/at.bitfire.davdroid/">DavDroid</a> to sync your tickets from <a href="https://nextcloud.com/">Nextcloud</a>.</p><figure><img src="https://kde.org/for/travelers/kmail.png" alt="KMail ticket extraction showing a train trip from Berlin to T√ºbingen" title="KMail ticket extraction showing a train trip from Berlin to T√ºbingen"></figure></div><p><img src="https://kde.org/for/travelers/itinerary-ticket.png"></p></div><div><div><h2 id="add-your-connections">Add your connections</h2><p>Aside from finding reservations automatically in your email, Itinerary lets you add train trips manually to your journey, find alternative connections if your train is cancelled, or, for some providers, import your train trip directly from your reservation number.</p></div><p><img src="https://kde.org/for/travelers/itinerary-connections.png"></p></div><div><div><h2 id="find-your-way">Find your way</h2><p>Powered by <a href="https://www.openstreetmap.org/">Open Street Map</a>, the indoor map at train stations or airports can be a life saver. Use Itinerary to locate your platform is, and, if you have seat reservation and the train layout is available, it can even show you exactly which platform section is best for you.</p><figure><img src="https://www.volkerkrause.eu/assets/posts/139/kde-itinerary-platform-section-highlighting.jpg" alt="Train station map in KDE Itinerary, highlighting relevant platform sections." title="Train station map in KDE Itinerary, highlighting relevant platform sections."></figure><p>The indoor map also shows you which shops and resturantes are currently open, which elevator is broken (yet again!), where the toilets are and where the correct exit is.</p></div><p><img src="https://kde.org/for/travelers/itinerary-opening-hours.png"></p></div><div><div><h2 id="real-time">Real time</h2><p>It is rare that a train or bus depart or arrive on time. Itinerary keeps you updated when delays are announced.</p><p>On supported train and long distance buses, Itinerary will also use the onboard APIs to fetch the current live status of the vehicle and keep you updated on your current position and any announcements.</p></div><p><img src="https://kde.org/for/travelers/itinerary-live-status.png"></p></div><div><h2 id="arianna">Arianna</h2><p>Arianna is an excellent ebook reader that lets you read your favorite books while traveling. Arianna will track your reading progress
and classify your books by genre and author automatically.</p><figure><img src="https://cdn.kde.org/screenshots/arianna/reader.png" alt="Screenshot of Arianna" title="Screenshot of Arianna"></figure></div><div><h2 id="kasts">Kasts</h2><p>Enjoy listening to podcasts on the move with Kasts! Subscribe to your favorite podcasts and get updated as soon as a new episode is out.</p><figure><img src="https://cdn.kde.org/screenshots/kasts/kasts-desktop.png" alt="Screenshot of Kasts" title="Screenshot of Kasts"></figure><p>Kasts is also available on Android and <a href="https://plasma-mobile.org/">Plasma Mobile</a>.</p></div><div><p><a href="https://community.kde.org/Android/FDroid#KDE_F-Droid_Release_Repository"><img src="https://kde.org/store_badges/fdroid/en.svg" alt="Get it on F-Droid"></a></p></div><div><h2 id="kgeotag">KGeoTag</h2><p>KGeoTag is a geotagging program. It lets you tag your images with geocoordinates by matching them to a corresponding GPX track or by manually setting them by drag and dropping the images, or entering the coordinates by hand.</p><p>It is very helpful in combination with <a href="https://www.kphotoalbum.org/">KPhotoAlbum</a> or <a href="https://www.digikam.org/">Digikam</a> when you want to organize your photo collection after your trip and then visualize all the locations you visited.</p><figure><img src="https://cdn.kde.org/screenshots/kgeotag/kgeotag_shadow.png" alt="Screenshot of KGeoTag showing a track on a map with some image preview allong the track" title="Screenshot of KGeoTag showing a track on a map with some image preview allong the track"></figure></div><div><h2 id="marble">Marble</h2><p>Explore the world with Marble. Marble contains a huge collection of maps that let you travel all over the globe from your desktop. Visit remote places via detailed satellite images, travel the world before the discovery of America, and check out the average temperature and precipitation in winter and summer in other countries.</p><p>Marble also allows you to bookmark your favorite locations and lets you find your way thanks to its routing algorithm and OpenStreetMap powered maps.</p><figure><img src="https://cdn.kde.org/screenshots/marble/marble-world.png" alt="Screenshot of Kasts" title="Screenshot of Kasts"></figure></div><div><h2 id="other-open-source-apps-for-you">Other open source apps for you</h2><p>Here are some other applications from other open source communities that will make your travels fun.</p></div></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: An index of all monthly dividend stocks (140 pts)]]></title>
            <link>https://thedividendlist.com/</link>
            <guid>36650581</guid>
            <pubDate>Sun, 09 Jul 2023 01:31:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://thedividendlist.com/">https://thedividendlist.com/</a>, See on <a href="https://news.ycombinator.com/item?id=36650581">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <p>
            <strong>Please note</strong>: this table is currently truncated (hiding some data columns)
            in order to fit this screen.
          </p>
        <table>
          <thead></thead>
          <tbody></tbody>
        </table>
      </div></div>]]></description>
        </item>
    </channel>
</rss>