<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 05 Feb 2025 05:30:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Zig; what I think after months of using it (121 pts)]]></title>
            <link>https://strongly-typed-thoughts.net/blog/zig-2025</link>
            <guid>42942618</guid>
            <pubDate>Wed, 05 Feb 2025 02:04:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://strongly-typed-thoughts.net/blog/zig-2025">https://strongly-typed-thoughts.net/blog/zig-2025</a>, See on <a href="https://news.ycombinator.com/item?id=42942618">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
  <h2>Zig; what I think after months of using it</h2>
<!--toc:start-->
<ul>
<li><a href="#what-i-like">What I like</a>
<ul>
<li><a href="#arbitrary-sized-integers-and-packed-structs">Arbitrary sized-integers and packed structs</a></li>
<li><a href="#generic-types-are-just-functions-at-the-type-level">Generic types are just functions at the type level</a></li>
<li><a href="#error-union-types">Error Union Types</a></li>
<li><a href="#c-interop-is-probably-the-best">C interop is probably the best</a></li>
<li><a href="#the-build-system-is-nice">The build system is nice</a></li>
</ul>
</li>
<li><a href="#what-i-like-less">What I like less</a>
<ul>
<li><a href="#error-handling">Error handling</a></li>
<li><a href="#shadowing-is-forbidden">Shadowing is forbidden</a></li>
<li><a href="#compile-time-duck-typing">Compile-time duck typing</a></li>
<li><a href="#no-typeclasses-traits">No typeclasses / traits</a></li>
<li><a href="#comptime-is-probably-not-as-interesting-as-it-looks"><code>comptime</code> is probably not as interesting as it looks</a></li>
<li><a href="#no-encapsulation">No encapsulation</a></li>
<li><a href="#memory-safety-is-highly-underestimated-and-fallacious">Memory safety is highly underestimated and fallacious</a></li>
<li><a href="#lazy-compilation-and-compilation-errors-instead-of-warnings">Lazy compilation and compilation errors instead of warnings</a></li>
<li><a href="#no-destructors">No destructors</a></li>
<li><a href="#no-unicode-strings">No (unicode) strings</a></li>
</ul>
</li>
<li><a href="#conclusion-simplicity-rhymes-with-unrestricted-power-which-rhymes-with">Conclusion: simplicity rhymes with unrestricted power, which rhymes with…</a></li>
</ul>
<!--toc:end-->
<p>Ah, <a href="https://ziglang.org/">Zig</a>. I have a love-hate relationship with this one. A “new” (reading: <em>appeared a couple years ago</em>,
already — yes, <em>already</em>), language with high ambitions. Zig was made to run at low-level, with a simple design
to solve many problems C has (macros, allocators, error handling, more powerful types like baked-in tagged
unions and bitsets, a better build system, no hidden control flow, etc.). The language claims to be the C
successor, and today, many people claim that Zig is simpler and even safer than most languages out there —
even Rust! — allowing to focus more on the technical challenges around your problem space rather
than — quoting from the Zig mantra — <em>your language knowledge</em>. I think I need to put the full mantra
because I will reuse it through this article:</p>
<blockquote>
<p>Focus on debugging your application rather than debugging your programming language knowledge.</p>
</blockquote>
<p>We will come back to that.</p>
<p>I had already <a href="https://strongly-typed-thoughts.net/blog/zig-linear-pwtp">written about Zig a while ago</a> when I
initially approached it. I thought the language was really interesting and I needed to dig deeper. That blog
article was made in July, 2024. I’m writing these lines in February, 2025. Time has passed, and yet I have been
busy rewriting some Rust code of mine in Zig, and trying out new stuff <em>not really easy or doable in Rust</em>, in
Zig, just to see the kind of power I have.</p>
<p>Today, I want to provide a more matured opinion of Zig. I need to make the obvious disclaimer that because I
mainly work in Rust — both spare-time and work — I have a bias here (and I have a long past of Haskell projects
too). Also, take notice that Zig is still in its pre-1.0 era (but heck, people still mention that <em>Bun</em>,
<em>Tigerbeetle</em>, <em>Ghostty</em> are all written in Zig, even though it hasn’t reached 1.0).</p>
<p>I split this article in two simple sections:</p>
<ul>
<li>What I like about Zig.</li>
<li>What I dislike about Zig.</li>
</ul>
<h2>What I like</h2>
<h3>Arbitrary sized-integers and packed structs</h3>
<p>Zig has many interesting properties. The first one that comes to mind is its <em>arbitrary-sized integers</em>. That
sounds weird at first, but yes, you can have the regular <code>u8</code>, <code>u16</code>, <code>u32</code> etc., but also <code>u3</code>. At first it
might sound like dark magic, but it makes sense with a good example that is actually a defect in Rust to me.</p>
<p>Consider the following code:</p>
<pre><code>struct Flags {
  bool clear_screen;
  bool reset_input;
  bool exit;
};

// …
if (flags.clear_screen || flags.reset_input) {
  // …
}
</code></pre>
<p>That is some very typical need: you want a set of flags (booleans) and depending on their state, you want to
perform some actions. Usually — at least in C, but really everyone should do it this way — we don’t represent
such flags as structs of booleans, because booleans are — most of the time — 8-bit integers. What it means is
that <code>sizeof(Flags)</code> here is <code>3</code> bytes (24 bits, 8 * 3). For 3 bits of information. So what we do instead is
to use a single byte and perform some bitwise operations to extract the bits:</p>
<pre><code>#define FLAGS_CLEAR_SCREEN 0b001
#define FLAGS_RESET_INPUT  0b010
#define FLAGS_EXIT         0b100

struct Flags {
  uint8_t bits;
};

bool Flags_contains(Flags const* flags, uint8_t bit) {
  return flags.bits &amp; bit != 0;
}

Flags Flags_set(Flags flags, uint8_t bit) {
  flags.bits |= bit;
  return flags;
}

Flags Flags_unset(Flags flags, uint8_t bit) {
  flags.bits &amp;= ~bit;
  return flags;
}
</code></pre>
<p>That is obviously very error-prone: we use CPP macros (yikes), bits are not properly typed, etc. Zig can
use its arbitrary-sized integer types and <em>packed structs</em> to automatically implement similar code:</p>
<pre><code>const Flags = packed struct {
  clear_screen: bool,
  reset_input: bool,
  exit: bool,
};
</code></pre>
<p>This structure has two <em>sizes</em>: its bit-size, and its byte-size. The bit-size represents the minimum
number of bits it uses (3), and the byte-size represents the number of bytes required to hold the type
(1). We can then use it like so:</p>
<pre><code>if (flags.clear_screen or flags.reset_input) {
  // …
}
</code></pre>
<p>This is an awesome feature, especially because lots of C libraries expect such bitfields, for instance
in the form of a <code>u32</code>. You can easily and naturally convert the <code>Flags</code> type to a <code>u32</code> with
<code>@bitCast(flags)</code> — you need to ensure the booleans are in the right order (big endianness here in Zig
if I recall correctly).</p>
<blockquote>
<p>Note: in Rust, we don’t really have a nice way to do this without requiring a dependency on
<a href="https://crates.io/crates/bitflags">bitflags</a>, which still requires you to provide the binary value of each logical boolean in binary,
usually done with <code>const</code> expressions using <code>1 &lt;&lt; n</code>..</p>
</blockquote>
<h3>Generic types are just functions at the type level</h3>
<p>As a Haskeller, this is also something that makes a lot of sense to me. A typical <code>struct Vec&lt;i32&gt;</code> in
most languages is actually a function taking a <code>type</code> and returning a <code>type</code> in Zig;
<code>fn Vec(comptime T: type) type</code>.</p>
<p>Although more verbose, it allows a lot of flexbility, without introducing a new layer specific to the type
system. For instance, specialization can be written in the most natural way:</p>
<pre><code>fn Vec(comptime T: type) type {
  if (@sizeOf(T) == 0) {
    return VecAsUsize;
  } else {
    return struct {
      // …
    };
}
</code></pre>
<p>Another use case that I think is pretty nice is when you need to implement something that depends on the actual
type structure. Zig has compile-time reflection, which means that you can analyze the fields, type information
etc. of a type to implement a specialized version of your algorithm. You can then write your JSON serializer
without depending on a middleware (e.g. in Rust, <a href="https://crates.io/crates/serde">serde</a>).</p>
<h3>Error Union Types</h3>
<p>This one is a half love / half dislike — you will find the dislike part in the appropriate section of this article.
In Zig, the core of error handling is Error Union Types. It’s straight-forward: take an <code>enum</code> (integer tags)
and glue it with a regular <code>T</code> value in a tagged union. You either get the error discriminant, or your
<code>T</code> value. In Rust terms:</p>
<pre><code>enum ErrorUnion&lt;T&gt; {
  Err(ErrorType),
  Ok(T),
}
</code></pre>
<p>There’s a catch, though. Unlike Rust, <code>ErrorType</code> is global to your whole program, and is nominally typed. Error
types are declared with the <code>error {}</code> construct:</p>
<pre><code>const MyError = error {
  FileNotFound,
  NoPermision,
};
</code></pre>
<p>Error types can be glued together to create more complex error types:</p>
<pre><code>const OtherError = error {
  OOM,
  NotANumber,
};

const AppError = MyError || OtherError;
</code></pre>
<p>Thus, an Error Union Type is <em>either an error or a value</em>, and it’s written <code>E!T</code> (<code>E</code> the error type, <code>T</code>
the value). An interesting aspect of that is that <em>all</em> error types are flat (there is no nesting), and
because they are nominal, you can even return error values without declaring them in the first place. If
you do not care about the actual type of your error, you can use the <code>anyerror</code> special type to refer to
the global error type, or leave it empty (<code>!T</code>) to infer the type based on the body of the function.</p>
<p>All of that is interesting, but one <em>very cool</em> aspect that I think I really miss when writing Rust is
coercion. Because of coercion rules, a regular value <code>T</code> coerces to <code>E!T</code>, and an error type <code>E</code> coerces to
<code>E!T</code>. So you can completely write this:</p>
<pre><code>fn foo() !i32 {
  return 3;
}
</code></pre>
<p>And the same is true for <code>void</code>:</p>
<pre><code>fn checkOrError(input: i32) !void {
  if (input &lt; 10) {
    return error.TooSmall;
  }
}
</code></pre>
<p>There is no need to wrap results in “success paths”, such as <code>Ok(())</code> in Rust.</p>
<h3>C interop is probably the best</h3>
<p>If you need to work with C libraries a lot, Zig has some really good features and built-ins baked-in,
especially if you combine them with <code>comptime</code> functions to perform various transformations automatically.</p>
<p><code>@cImport / @cInclude</code> allow to read a <code>.h</code>, parse it at compile-time, and expose its content as Zig
symbols (functions, constants, etc.), exposed in a big struct. For instance:</p>
<pre><code>const c = @cImport({
  @cInclude("GLFW/glfw3.h");
});

// c.glfwInit() is now available
</code></pre>
<p>This is honestly pretty nice, especially since you can iterate on the contents of <code>c</code> with an <code>inline for</code>
at <code>comptime</code> to transform functions the way you want.</p>
<h3>The build system is nice</h3>
<p>The build configuration of your project is written in Zig. Even though I don’t think I like <em>configuration as
code</em>, it’s still an interesting idea. It will probably feel like fresh air for
people having to use CMake or similar tools. Zig build module is not very complex to understand and allows a
great deal of flexibility when configuring your targets, optimizations, CPU architectures, ABI, CLI options,
steps and all.</p>
<p>At the current time of writing this, however, even <code>zig</code> does build and package, dependency handling is far
behind anything you might be used to (<code>cargo</code>, <code>pip</code>, <code>node</code>, <code>cabal</code>, etc.). I don’t think it would be fair
to judge it for now.</p>
<h2>What I like less</h2>
<p>Even tough Zig is full of nice surprises, it’s also full of what I would call <em>flaws</em> that — personal
opinion – make it a bad fit for robust and sound systems.</p>
<h3>Error handling</h3>
<p>As mentioned earlier, error handling in Zig is nice, but it lacks one important feature: you can’t carry
values. It’s likely due to the fact errors flow via a different path than “normal” code, and require owned
values, so in many cases it will require allocations, which is not something Zig wants on its error path.</p>
<p>It makes sense, but it’s really annoying. Something like <code>error.FileNotFound</code> will require you extra
code infrastructure to find <em>exactly which file was not found</em> — maybe you can deduce it from the caller
and match on the error via <code>catch</code> — but maybe you can’t (the path might be computed by the function
returning the error). You can’t even pass integers around in errors, since it’s already used for the
variant of the error itself.</p>
<p>Coming from Rust, obviously, that feels very weak. The <code>Result&lt;A, E&gt;</code> type — that I’ve been using in Haskell
as <code>Either e a</code> — is a godsend. Not having something like that in Zig creates frustration and will likely
generate less interesting error values, or more convoluted code infrastructure around the callers.</p>
<p>On a similar note, the <code>try</code> keyword (which takes an <code>E!A</code> expression and is equal to <code>A</code> or <code>return E;</code>,
depending on the presence of error) allows to propagate errors, but it won’t do much more than that. You can
think of <code>try foo()</code> as the same as <code>foo() catch |err| return err;</code>. That obviously works only with
error union types, so if you happen to have a function returning a <code>?A</code> (optional), you can’t shortcircuit
in a nice way with <code>try</code> and instead needs to use the more verbose <code>orelse return null;</code>. This monadic
approach is pretty powerful in Haskell and Rust, and it wouldn’t hurt much to allow it for error union
types and optionals, since both are built-ins (so you don’t get to pay for the complexity of it).</p>
<p>Another thing I dislike about <code>try</code> is that it’s a prefix keyword which chains really badly:</p>
<pre><code>try (try foo()).bar()
</code></pre>
<h3>Shadowing is forbidden</h3>
<p><em>Shadowing</em> is the act of using the same name for two different bindings available in a scope hierarchy.
Rust is an excellent example of how to do shadowing correctly. For instance, in Rust:</p>
<pre><code>fn foo(input: &amp;str) {
  // input refers to the argument and has type &amp;str

  let input = input.to_owned();
  // input refers to this function stackframe local owned string and has type String
  // we don’t have access to the argument anymore

  {
    let input = 12;
    // input is integer, and we don’t have access to the String in this block
  }

  // input is the String
}
</code></pre>
<p>This lexical scoping in Rust prevents tons of boilerplate or having to come up with useless names. Zig not
having that causes annoyances, especially with error handling:</p>
<pre><code>const foo = Foo.init();
const foo2 = try foo.addFeatureA();
const foo3 = try foo.addFeatureB();
</code></pre>
<p>This is maybe a sign of the design choice (no move semantics), but all in all, I don’t like having
to come up with either obscure names or just bad names for something that should be chained calls, or just
reusing the same name. Sometimes, naming things is something we should refrain from.</p>
<h3>Compile-time duck typing</h3>
<p>This is an important issue I have with Zig, as it’s present everywhere and implies a lot of cascaded issues.
<code>comptime</code> is not only a keyword, as you might have guessed. Take this example for instance:</p>
<pre><code>fn doMath(x: anytype) @TypeOf(x) {
  // …
}
</code></pre>
<p>There is <strong>no way</strong> to know what that function <em>requires</em> as input. The very first line of the <code>zig zen</code> states</p>
<pre><code> * Communicate intent precisely.
</code></pre>
<p>And even though I do agree with that, I think it’s poorly implemented, for two reasons:</p>
<ol>
<li>Requiring users to read the code of a function is everything but a good and precise way to communicate intent.</li>
<li>Requiring users to read the documentation is flawed by design.</li>
</ol>
<p>The second point is even violated by the standard library itself. Consider
<a href="https://ziglang.org/documentation/master/std/#std.fs.Dir.iterate">std.fs.Dir.iterate</a>, which is a function
used to iterate on a directory entries. There is no documentation at all, nor even comment, and you are left with its
implementation, which is:</p>
<pre><code>pub fn iterate(self: Dir) Iterator {
    return self.iterateImpl(true);
}
</code></pre>
<p>You can click on <a href="https://ziglang.org/documentation/master/std/#std.fs.Dir.Iterator">Iterator</a> to end up on another
documentation page with no actual documentation and a lengthy implementation. I highly suggest reading the comment
on the <code>next()</code> function:</p>
<pre><code>/// Memory such as file names referenced in this returned entry becomes invalid
/// with subsequent calls to `next`, as well as when this `Dir` is deinitialized.
</code></pre>
<p>This is <em>incredibly error-prone</em>, and the mere fact that even the standard library fails to abide by the very first
rule of <code>zig zen</code> proves the point that communicating intent precisely via documentation is hard, and probably not a
good design decision for a modern language.</p>
<p>And there is worse. As your software matures and you write more and more code, you will <em>eventually</em> change some
internals. Imagine what would happen if the documentation and/or comments go out of sync with the code. In languages
with type systems, it’s a minor annoyance — you will get angry people complaining about the fact the documentation
has typos / errors, and fixing them will be a patch release. In a language such as Zig where the documentation <em>is</em>
the contract, the source of the issue is vague and harder to understand: do they misuse the function? Is the function
buggy? Both?</p>
<h3>No typeclasses / traits</h3>
<p>Another point that I want to discuss is the lack of traits. Zig is a simple language and per-se, I guess, traits
were ruled out — and don’t <a href="https://github.com/ziglang/zig/issues/21544#issuecomment-2382542913">even think about proposing them</a>.
However, they do solve a real-world problem: programming contract. There are two important parts:</p>
<ol>
<li>
<p>Programming contracts convey useful information to the programmers. If you have a function like the <code>doMath</code>
presented above, you have no clue what you are supposed to call it with. If you have something like:</p>
<pre><code>fn do_math&lt;T&gt;(input: T) T where T: Add + Mul {
  // …
}
</code></pre>
<p>You know <em>exactly</em> what you can call it with. Additionally, you get <em>discoverability</em> — it’s super easy
to build a reverse list of implementations based off some traits — Rust does it for you in both the
docs and LSP.</p>
</li>
<li>
<p>Programming contracts are part of the public-facing side of your API. They should be items that are
versioned as the rest. If you decide to change the allowed properties of an input, just updating the
documentation will make it harder to realize you have to do a minor bump and not a patch bump.</p>
<p>Moreover, typeclasses allow for more control on the code <em>you don’t run / test</em>. If someone decides to
implement your trait for their types, having a clear interface to implement is far sounder than having
to go fishing for the programming contract in the documentation, assuming it even exists in the first
place.</p>
</li>
</ol>
<h3><code>comptime</code> is probably not as interesting as it looks</h3>
<p>I’ve been wondering a lot about this one lately. Yes, compile-time reflection is nice… but is it really?
When you think about it, implementing a JSON serializer for <code>anytype</code> is probably very unlikely to be
completely <em>true</em>. There will be hidden constraints. For instance, does it make sense to serialize a
pointer? Probably not, so the implementation might check the type info and refuse to serialize a
pointer. And — c.f. the previous section — that information is missing from the interface.</p>
<p>When you think about it, this problem is everywhere, as soon as you use <code>comptime</code>, because of the lack
of traits. If you want to understand the contracts / preconditions / postconditions / invariants… just
read the documentation… and the code, because well, you can’t be sure that the doc is not out of sync.</p>
<p><code>comptime</code> is one of those features that feel like a candy, but has a bitter taste to it. It feels like
C++ templates back again, and the community will not address that.</p>
<p>I hate the idea. After decades of programming, I can say with full certainty that besides teams with
extremely talented people that have been doing that kind of things for more than I’ve lived (old C
programmers, Linux maintainers, maybe a bunch of driver maintainers), it will only end up with tears.
I can’t in good faith suggest to use Zig at work given how complex our programming contracts are. I’m
far from being a perfect programmer — I make mistakes. We do have junior developers in our teams, work
or spare-time projects, people more or less used to our code bases and guidelines, and we are not 100%
perfect while reviewing either. Sometimes some code will be reviewed by someone else that is less severe
than you are. Sometimes it’s your future-self that will actually misuse something you thought was easy to understand. Etc.</p>
<h3>No encapsulation</h3>
<p>This is a continuation of the previous section. For a reason that I don’t understand, Zig doesn’t have
encapsulation. What it means is that if you use a type such as <code>ArrayList(i32)</code>, you <em>must</em> know how it’s
implemented to be able to get useful functions and properties, such as its <code>len</code> length. Still with the
same example, the <a href="https://ziglang.org/documentation/master/std/#std.array_list.ArrayListAligned">documentation of <code>ArrayList</code></a>
doesn’t show anything regarding the length of the array, nor even a way to iterate on its
elements. You have to know — read the code please — that what you are looking for is <code>.items.len</code> for the
length. If you want to use the <code>for</code> loop syntax, you do it on the <code>.items</code>:</p>
<pre><code>for (array.items) |item| {
  // …
}
</code></pre>
<p>Even worse, you can actually mutate the internals. How do we ensure that we can expose types to our users
without causing them to break invariants? Well, <code>zig zen</code>: communicate intent precisely, of course! Redirect
them to the code and ensure to slap <code>// INVARIANT</code> in your comments / documentation.</p>
<blockquote>
<p>Sigh…</p>
</blockquote>
<p>I’m a bit dishonest, though. Zig does have a form of access control. At the module level, you can decide
whether a symbol is private (default), or <code>pub</code>. That’s all you get.</p>
<p>In essence, this is similar to C.</p>
<h3>Memory safety is highly underestimated and fallacious</h3>
<p>I read in numerous places that Zig is safer than <code>unsafe</code> Rust, which is not true, and fallacious.
Andrew Kelley <a href="https://andrewkelley.me/post/unsafe-zig-safer-than-unsafe-rust.html">wrote a blog article</a>
where he built his argumentation on the fact that Rust will compile and will run into UB, while Zig won’t.
Here’s the Rust code:</p>
<pre><code>struct Foo {
    a: i32,
    b: i32,
}

fn main() {
    unsafe {
        let mut array: [u8; 1024] = [1; 1024];
        let foo = std::mem::transmute::&lt;&amp;mut u8, &amp;mut Foo&gt;(&amp;mut array[0]);
        foo.a += 1;
    }
}
</code></pre>
<p>The first thing to say is that there is indeed a UB, and it’s not easy to spot; transmuting a <code>&amp;mut u8</code> to
<code>&amp;mut Foo</code> is the same as casting an aligned pointer to an unaligned pointer, which is indeed UB. Back when
he wrote his article, I’m not sure he knew about <a href="https://github.com/rust-lang/miri">miri</a> — which has been around since
<a href="https://github.com/rust-lang/rust/pull/45002">October 2017</a> — given that his article was released in 2018,
but even then, I think it’s important to draw people’s attention to something important here. Zig does have
this unaligned pointer cast detection by default, but you’re just one <code>rustup components add miri</code> call away:</p>
<pre><code>cargo miri run
…
error: Undefined Behavior: constructing invalid value: encountered an unaligned reference (required 4 byte alignment but found 1)
 --&gt; src/main.rs:9:19
  |
9 |         let foo = std::mem::transmute::&lt;&amp;mut u8, &amp;mut Foo&gt;(&amp;mut array[0]);
  |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ constructing invalid value: encountered an unaligned reference (required 4 byte alignment but found 1)
  |
  = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior
  = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information
  = note: BACKTRACE:
  = note: inside `main` at src/main.rs:9:19: 9:74

note: some details are omitted, run with `miriFLAGS=-Zmiri-backtrace=full` for a verbose backtrace

error: aborting due to 1 previous error; 1 warning emitted
</code></pre>
<p>It would have been nice to point that out. Yes, Zig has it by default, but Rust has it too by adding a tool
that is available via <code>rustup</code>. I do have to agree that <code>unsafe</code> Rust is probably harder to write than
regular Zig, because of all the rules you have to manually ensure not to violate (stacked borrows, etc.), and
for 90% of the time, what you will be doing will be to call a C function via the FFI, so you should be fine.
For more complicated <code>unsafe</code> usage, just use <a href="https://github.com/rust-lang/miri">miri</a>. Actually, I think it should be a good practice to use
<a href="https://github.com/rust-lang/miri">miri</a>, at least in the CI.</p>
<p>I could understand Andrew missed that when he wrote his article (hm…). But today? People still mention that
Zig is <em>sooooo</em> much safer than Rust.</p>
<p>So let’s see how Zig is safer now. Up to this day, Zig doesn’t see Use After Free (UAF). Not at compile-time. Not at
runtime. They are just plain Undefined Behavior (UB). For instance:</p>
<pre><code>const std = @import("std");

fn getPtr(value: i32) *i32 {
    var x = value;
    x += 1;
    return &amp;x;
}

pub fn main() !void {
    const stdout = std.io.getStdOut().writer();

    const ptr = getPtr(123);
    try stdout.print("ptr.* = {d}\n", .{ptr.*});

    ptr.* += 10;
    try stdout.print("ptr.* = {d}\n", .{ptr.*});
}
</code></pre>
<p>If you compile this with the default optimization option (<code>Debug</code>), you get this:</p>
<pre><code>$ zig build run
ptr.* = 124
ptr.* = 134
</code></pre>
<p>If you compile with <code>ReleaseFast</code>:</p>
<pre><code>$ zig build -Doptimize=ReleaseFast run
ptr.* = 0
ptr.* = 0
</code></pre>
<p><em>Oh le malaise</em>. This, here; this exact situation is the main reason why I refrain myself from using Zig
in production. The idea that I could end up in such a situation <em>and not even knowing about it</em>. There
are discussions to track all possible UB and turn them into <a href="https://github.com/ziglang/zig/issues/2301">checked illegal behavior</a>.
That issue has been opened since 2019. I’m not saying it won’t ever be a thing — I guess it’s required
to hit 1.0. <em>But still</em>. The language cannot in good faith state that it’s safer than <code>unsafe</code> Rust. Let’s
convert that code to Rust and run miri on it…</p>
<blockquote>
<p>I would <em>obviously</em> never suggest to use raw pointers but instead references, but references will trigger
a compilation error so it’s not really fair for this comparison, and the Zig community always compares it
to <code>unsafe</code> Rust, so let’s get unsafe!</p>
</blockquote>
<pre><code>fn get_ptr(input: i32) -&gt; *mut i32 {
    let mut value = input;
    value += 1;
    &amp;mut value as *mut _
}

fn main() {
    unsafe {
        let ptr = get_ptr(123);
        println!("*ptr = {}", *ptr);

        *ptr += 10;
        println!("*ptr = {}", *ptr);
    }
}
</code></pre>
<p>Running miri:</p>
<pre><code>error: Undefined Behavior: out-of-bounds pointer use: alloc565 has been freed, so this pointer is dangling
  --&gt; src/main.rs:10:31
   |
10 |         println!("*ptr = {}", *ptr);
   |                               ^^^^ out-of-bounds pointer use: alloc565 has been freed, so this pointer is dangling
   |
   = help: this indicates a bug in the program: it performed an invalid operation, and caused Undefined Behavior
   = help: see https://doc.rust-lang.org/nightly/reference/behavior-considered-undefined.html for further information
help: alloc565 was allocated here:
  --&gt; src/main.rs:2:9
   |
2  |     let mut value = input;
   |         ^^^^^^^^^
help: alloc565 was deallocated here:
  --&gt; src/main.rs:5:1
   |
5  | }
   | ^
   = note: BACKTRACE (of the first span):
   = note: inside `main` at src/main.rs:10:31: 10:35
   = note: this error originates in the macro `$crate::format_args_nl` which comes from the expansion of the macro `println` (in Nightly builds, run with -Z macro-backtrace for more info)
</code></pre>
<p>The message has some weird mentions in (<code>alloc565</code>), but the actual useful information is there: a pointer is
dangling.</p>
<p>So no, I strongly disagree that Zig is safer than — even — <code>unsafe</code> Rust. Anyone telling you otherwise is
either purposefully lying, or ignorant. And I think I need to mention the misconception that you need to
drop to <code>unsafe</code> often in Rust. This is simply not true. Some libraries — especially interfacing with C
libraries — do use <code>unsafe</code> to make FFI calls (usually, they just do that). <code>unsafe</code> might be required for
some very specific tricks required to implement safer abstractions, but you are not supposed to write a full
library or application in <code>unsafe</code>.</p>
<blockquote>
<p>Just test your software correctly!</p>
</blockquote>
<p>Again that argument… UB cannot be tested and requires statical analysis — or some kind of runtime protections
that is currently not implemented in Zig — and coverage in a langage that is built off lazy compilation everywhere
is probably not something I will discuss here…</p>
<h3>Lazy compilation and compilation errors instead of warnings</h3>
<p>Heck, I thought I would dodge this one. So… yeah… this is a bit embarrassing, but Zig implements lazy compilation.
The idea is that you write code, and it doesn’t compile it. That sounds so <em>exotic</em> that the standard library
has a helper function to mitigate that weird design decision (<a href="https://ziglang.org/documentation/master/std/#std.testing.refAllDecls"><code>std.testing.refAllDecls</code></a>).
You must use it in a <em>very natural way</em>:</p>
<pre><code>test {
  std.testing.refAllDecls(some_module_of_yours);
}
</code></pre>
<p>It’s a common idiom I have seen in many places (Ghostty <a href="https://github.com/ghostty-org/ghostty/blob/f0d276062b78658fc1f3857e9ea104788f1f4e58/src/cli.zig#L10">1</a>
<a href="https://github.com/ghostty-org/ghostty/blob/f0d276062b78658fc1f3857e9ea104788f1f4e58/src/input.zig#L38">2</a> <a href="https://github.com/ghostty-org/ghostty/blob/f0d276062b78658fc1f3857e9ea104788f1f4e58/src/termio/message.zig#L192">3</a>
<a href="https://github.com/ghostty-org/ghostty/blob/f0d276062b78658fc1f3857e9ea104788f1f4e58/src/crash/minidump/stream.zig#L29">4</a>; TigerBeetle
<a href="https://github.com/tigerbeetle/tigerbeetle/blob/d6eff0f84b76ea40ef1898778e7594a319c46698/src/lsm/forest_table_iterator.zig#L199">1</a> <a href="https://github.com/tigerbeetle/tigerbeetle/blob/d6eff0f84b76ea40ef1898778e7594a319c46698/src/lsm/groove.zig#L1505-L1507">2</a>;
vulkan-zig <a href="https://github.com/Snektron/vulkan-zig/blob/1fd5a6e217dfcc7e4406d449924a1feb1ecffbb9/test/ref_all_decls.zig#L101-L122">hmm</a>).</p>
<p>So… if everyone really mitigates this <em>“feature”</em>… was it really worth it? In the end, it makes sense not to
include code that is not participating in the final binary, but… have you thought about refactoring? Have you
thought about systems that add code that will be used <em>later</em>? That happens a lot and I was bitten so many
times while writing some disjoint sections of code and having to spend much more time later when gluing
everything together — <em>because the code was actually never checked</em>!</p>
<p>And there is the opposite problem. Zig makes some assumptions on what is important, so obviously, a parameter of
a function that is not used should be a hard error. It lazy-checks functions you wrote and ignores them if you
don’t use them right away, but refuses to compile arguments you ignore?! I mean, I get <em>why</em> (not using an
argument could hide a bug), but a warning would suffice.</p>
<blockquote>
<p>I haven’t found a way to disable that linter and make it a warning, and I think it’s unlikely to ever happen.</p>
</blockquote>
<h3>No destructors</h3>
<p>This one <em>I could get</em>, but not implemented the way it is. Zig doesn’t have any sound way to ensure proper
resource management — just like C. See the previous section about communicating intent properly. Zig <em>requires</em>
the call site to deallocate properly, and you have to mention the deinit logic in your documentation.</p>
<p><code>defer</code> – and <code>errdefer</code>, which is for a different usecase, but it’s not really important here — is a tool you
<em>can</em> use at call site to implement resource cleanup, whether it’s memory deallocation or file descriptors close.
The concept has been around for a long time, and as mentioned in the previous sentence, it’s not automatic. The
caller <em>must know</em> that they have to call <code>defer</code>. The documentation <em>might</em> forget to mention it and the user
<em>might</em> forget to call it. On memory cleanup, if you are lucky and your tests run that code, you will get a traced
leak. For more complex resources such as GPU queues, database handles, etc., well, it’s probably a leaked file
descriptor?</p>
<p>I’m not entirely sure whether destructors are the best solution to this problem, but they allow to ensure that
the code calls the cleanup routine. There are alternatives — explored in <a href="https://www.cs.bu.edu/~hwxi/atslangweb/">ATS</a>, probably too complex
for now, requiring linear types and/or proofs to force the caller to get rid of the resource — Rust <em>could have</em>
something along those lines, since it has move semantics and an affine type system; I don’t think people will
trade <code>Drop</code> for linear types though.</p>
<p>It’s a bit a pity, to be honest, to see such a design in Zig, because it does have the infrastructure to do
better in my humble opinion. For instance, this won’t compile:</p>
<pre><code>fn foo() i32 { return 123; }

// …
pub fn main() !void {
  foo();
}
</code></pre>
<p>Because the return value of <code>foo</code> is ignored. To make that compile, you need to explicitly ignore the
returned value:</p>
<pre><code>pub fn main() !void {
  _ = foo();
}
</code></pre>
<p>So it’s a bit weird to see that Zig can prevent compilation if you do not use an argument or the returned
value of a function, but doesn’t provide the proper tooling to force the user to correctly deinit
resources. If you pull the problem a bit more, it shows that the design of Zig — in its current state —
doesn’t permit that, since you would need linear types/values (i.e. a value <em>must</em> be used once and only
once). I would have loved something like a <code>#</code> linear marker that would cause a linear resource to be dangling
if it’s not eventually consumed by a function taking it with the marker as argument:</p>
<pre><code>const Resource = struct {
  …

  pub fn init() #Resource {
    …
  }

  pub fn deinit(r: #Resource) {
  }
};
</code></pre>
<p>Obviously, as soon as you see that, it causes issues with the Zig type system, because you can still bit-copy
values, so you duplicate a resource and might cause double-frees — but copying should be disallowed in a linear
type system. So Zig cannot have linear types/values without changing <em>all</em> the properties of such types, and
purely linear values are often not enough; we eventually want to <em>weaken</em> the restriction (relevant type system)
to be able to use the resource value in a controlled way, via, for instance, borrowing. Which leads to more
complexity in the language, so clearly not something we will ever see in Zig.</p>
<h3>No (unicode) strings</h3>
<p>The standard library doesn’t have a good support for unicode strings. There is a discussion opened by
<a href="https://drewdevault.com/">Drew DeVault</a> about <a href="https://github.com/ziglang/zig/issues/234">improving strings and unicode handling</a>.
I share the link so that you make your own opinion about what to think of all that, but not having a
string type and recommending users to “iterate on bytes” is a big no to me. It’s the open door to a wide variety
of issues / corrupted data. People in the thread even recommend using <code>.len</code> on <code>[]u8</code> to get length of strings
(never do that, unless you are doing <a href="https://adventofcode.com/">Advent of Code</a>).</p>
<p>It <a href="https://github.com/ziglang/zig/issues/7734#issuecomment-758167124">will never happen</a>, whatever your arguments.
You are left with user-land support, such as <a href="https://codeberg.org/atman/zg">zg</a>.</p>
<h2>Conclusion: simplicity rhymes with unrestricted power, which rhymes with…</h2>
<p><img src="https://strongly-typed-thoughts.net/media/uploads/footguns_everywhere.jpg" alt=""></p>
<p>I get it. Zig has the ambition to replace C, and as such, doesn’t want to have to deal with complex abstractions.
It trades memory safety and soundness for simplicity. If I’ve been around Zig and actually writing Zig code that
much, it’s because I wanted to check whether
<a href="https://steveklabnik.com/writing/memory-safety-is-a-red-herring">memory safety is a red herring</a> myself. In the
end, maybe Zig is right. Maybe we can achieve <em>enough</em> with a simple language, and deal with the remaining issues
with other approaches. There is nothing wrong with that.</p>
<p><em>However</em>, I think it’s too soon to make any useful conclusion. I really want to have a look at reports about
projects that are entirely written in Zig (Ghostty, TigerBeetle, etc.) after they have matured enough. It’s great
that those projects are successful with Zig; I’m honestly happy for them. But a robust and scientific approach
requires us to go further than just assumptions and feelings. I do think we have data about CVE issues (we
all know the <a href="https://www.chromium.org/Home/chromium-security/memory-safety/">70% number</a>, right?), and it took time and lots of software history to have enough hindsight. I do
think that hindsight is required on Zig to know whether it’s actually contributing to more reliable software. Very
personal opinion: given all the points I mentioned, I really doubt it.</p>
<p>I don’t think that <em>simplicity</em> is a good vector of reliable software. At most, it’s a happy side-effect. It’s
not a requirement, and should remain a secondary mission. What the industry needs is to identify problems (we have)
and designs solutions that solve those problems. Anyone has the right to select a subset of those problems (even Rust
can’t solve everything) and solve those specifically, ignoring the others or pushing their resolution to
user-land / process etc. But here, I think there is a big misconception.</p>
<p>Zig does enhance on C, there is no doubt. I would rather write Zig than C. The design is better, more modern, and
the language is safer. But why stop half way? Why fix <em>some</em> problems and ignore the most damaging ones?</p>
<p>Remember the introduction:</p>
<blockquote>
<p>Focus on debugging your application rather than debugging your programming language knowledge.</p>
</blockquote>
<p>Do you see why this is such a poignant take? Is it really better to spend time in <code>gdb</code> / whatever debugger
you are using, or having your users opening bug issues than having to spend a bit more time reading compiler
error messages? That mantra seems to make it like it’s a bad thing to have a compiler yell at you because you
are <em>very likely</em> doing something you don’t really intend to. Why? It’s a well known fact that bugs don’t
write themselves. At some point, a developer wrote some code <em>expressing</em> a solution that was, in fact,
<em>actually written</em> a different way, in dissonance with the initial intent. This is part of being a human. So
why would you complain that a compiler tells you that what you are doing is very likely wrong? Because in a
few instances, it was unable to see that what you were doing was, actually, fine? You base a full language
experience based solely on some exceptional occurrences / issues? And trust me, I also do have those moments
with Rust from time to time (especially with the lack of view types and partial mutable borrows).</p>
<p>Seeking <em>simple</em> is just not the right move to me. To me, a more robust approach is ensuring people can’t shoot
themselves, while seeking <em>simpler</em>. Simpler doesn’t mean <em>simple</em>; it means that you design a solution,
whatever the complexity, and tries to make it as simple <em>as possible</em>. Rust is honestly not that hard, but it is
definitely not a simple language. However, for all the problems it solves at compile-time, it’s definitely simpler
than all other approaches (e.g. <a href="https://www.cs.bu.edu/~hwxi/atslangweb/">ATS</a>). And it’s not unlikely that it will get simpler and simpler as we discover
new ways of expressing language constructs.</p>
<p>I think my adventure with Zig stops here. I have had too frustration regarding correctness and reliability
concerns. Where people see simplicity as a building block for a more approachable and safe-enough language, I see
simplicity as an excuse not to tackle hard and damaging problems and causing unacceptable tradeoffs. I’m also
fed up of the <em>skill issue</em> culture. If Zig requires programmers to be flawless, well, I’m probably not a good
fit for the role.</p>


  <hr>

	<div>
    <p><a href="https://strongly-typed-thoughts.net/blog/zig-2025">
      ↑ My second opinion on Zig
    </a></p><p><em>zig</em>
    </p>

    <p>
      Wed Feb  5 00:25:00 2025 UTC
    </p>
	</div>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Suspension of Inbound Parcels from China and Hong Kong (152 pts)]]></title>
            <link>https://about.usps.com/newsroom/service-alerts/international/suspension-of-inbound-parcels-from-china-and-hong-kong.htm</link>
            <guid>42942405</guid>
            <pubDate>Wed, 05 Feb 2025 01:43:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://about.usps.com/newsroom/service-alerts/international/suspension-of-inbound-parcels-from-china-and-hong-kong.htm">https://about.usps.com/newsroom/service-alerts/international/suspension-of-inbound-parcels-from-china-and-hong-kong.htm</a>, See on <a href="https://news.ycombinator.com/item?id=42942405">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <p><strong>INTERNATIONAL SERVICE SUSPENSION NOTICE – effective Feb. 4, 2025</strong></p>
          <p>Effective Feb. 4, the Postal Service will temporarily suspend only international package acceptance of inbound parcels from <strong>China and Hong Kong Posts</strong> until further notice. Note the flow of letters and flats from China and Hong Kong will not be impacted.</p>
		  
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Beej's Guide to Git (369 pts)]]></title>
            <link>https://beej.us/guide/bggit/</link>
            <guid>42941283</guid>
            <pubDate>Wed, 05 Feb 2025 00:07:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://beej.us/guide/bggit/">https://beej.us/guide/bggit/</a>, See on <a href="https://news.ycombinator.com/item?id=42941283">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
			

            <p>Please keep in mind that I'm only human and there is a
            very, very high probability that there are errors in this
            guide. Additionally, I might simply not know what I'm
            talking about when it comes to something! So <a href="mailto:beej@beej.us">email corrections</a> are highly
            appreciated!</p>

			<p>
			(<a href="http://beej.us/guide/">Click here for other guides!</a>)

			</p><h3>What's Here for Readers:</h3>
			<!--
			<p><a href="errata.html">Errata</a> (mistakes?  What?)</p>
			-->

            <!--

            <p>Search the HTML guide on DuckDuckGo:

            <p><form method="get" id="ddgSearch" action="https://duckduckgo.com/">
                <input type="hidden" name="sites" value="https://beej.us/guide/bggit/"/>
                <input type="hidden" name="k7" value="#ffffff"/>
                <input type="hidden" name="k8" value="#222222"/>
                <input type="hidden" name="k9" value="#00278e"/>
                <input type="hidden" name="kx" value="#20692b"/>
                <input type="hidden" name="kj" value="#fafafa"/>
                <input type="hidden" name="kt" value="p"/>
                <table style="margin:0 1em">
                <tr>
                <td style="width:100%">
                <input style="width:calc(100% - 1em)" type="text" name="q" placeholder="Search Beej's Guide to C..." aria-label="Search Beej's Guide to C on DuckDuckGo"/>
                </td>
                <td>
                <button type="submit">Search&nbsp;DDG</button>
                </td>
                </table>
            </form>

            <p style="margin-bottom:0">Search the HTML guide on Google:

            <script async src="https://cse.google.com/cse.js?cx=ae3393718e443f40f">
            </script>
            <div class="gcse-search"></div>

            -->

			<p><b>HTML:</b></p><ul>
			<li><a href="https://beej.us/guide/bggit/html/split/">HTML</a>
			</li><li><a href="https://beej.us/guide/bggit/html/split-wide/">HTML, widescreen</a>
			</li><li><a href="https://beej.us/guide/bggit/html/">HTML, single page</a>
			</li><li><a href="https://beej.us/guide/bggit/html/index-wide.html">HTML, single page, widescreen</a>
			</li><li><a href="https://beej.us/guide/bggit/html/bggit.zip">HTML ZIP</a>
			</li><li><a href="https://beej.us/guide/bggit/html/bggit-wide.zip">HTML ZIP, widescreen</a>
			</li></ul>
			<p>

			<b>PDF:</b>
			</p><ul>
			<li><a href="https://beej.us/guide/bggit/pdf/bggit_usl_c_1.pdf">US Letter, one sided, syntax highlighting</a></li>
			<li><a href="https://beej.us/guide/bggit/pdf/bggit_usl_c_2.pdf">US Letter, two sided, syntax highlighting</a></li>
			<li><a href="https://beej.us/guide/bggit/pdf/bggit_a4_c_1.pdf">A4, one sided, syntax highlighting</a></li>
			<li><a href="https://beej.us/guide/bggit/pdf/bggit_a4_c_2.pdf">A4, two sided, syntax highlighting</a></li>
			<li><a href="https://beej.us/guide/bggit/pdf/bggit_usl_bw_1.pdf">US Letter, one sided, black and white</a></li>
			<li><a href="https://beej.us/guide/bggit/pdf/bggit_usl_bw_2.pdf">US Letter, two sided, black and white</a></li>
			<li><a href="https://beej.us/guide/bggit/pdf/bggit_a4_bw_1.pdf">A4, one sided, black and white</a></li>
			<li><a href="https://beej.us/guide/bggit/pdf/bggit_a4_bw_2.pdf">A4, two sided, black and white</a></li>
			</ul>

			<!--
			<b class="subsecttitle">Examples:</b>
			<p>
			<ul>
			<li><a href="source/">Examples to download</a>
			<li><a href="source/bggit_source.zip">ZIP file</a>
			</ul>
            -->

			<!--
			<p>

			<h3 class="secttitle">Mirrors:</h3>
			<i>Let me know if you have mirrored the site.</i>

			<p>
			<ul>
			<li><a href="http://docs.hfbk.net/beej.us/">kfbk.net</a> (Germany)
			<li><a href="http://retran.com/beej/">retran.com</a> (USA)
			<li><a href="http://www.rainydayz.org/content/beejs-guides">rainydayz.org</a> (Great Britain)
			</ul>

			<p>
			-->

			<!--
			<h3 class="secttitle">Translations!</h3>
			<i>Let me know if you have made a translation that I should link to.</i>

			<p>

			<ul>
			<li><a href="http://www.fatcow.com/edu/bggit-be/">Belorussian</a>
			</ul>

			<p><b>Broken translation links</b>
			<p><i>Let me know if you have updates.</i>

			<ul>
			</ul>

			<p>
			-->

			<h3>What's Here for Translators and Writers:</h3>

			<p>Clone the whole thing from <a href="https://github.com/beejjorgensen/bggit">GitHub</a> and follow the
			<tt>README</tt>.

			</p><hr><p>
			Contact Beej: </p><tt><a href="mailto:beej@beej.us">beej@beej.us</a></tt>
		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Nine – seemingly impossible C64 demo (106 pts)]]></title>
            <link>https://linusakesson.net/scene/nine/index.php</link>
            <guid>42940553</guid>
            <pubDate>Tue, 04 Feb 2025 23:11:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://linusakesson.net/scene/nine/index.php">https://linusakesson.net/scene/nine/index.php</a>, See on <a href="https://news.ycombinator.com/item?id=42940553">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><a href="https://linusakesson.net/music/downloads.php"><p><img title="Music downloads" alt="Music downloads" src="https://linusakesson.net/img/musicthumb.png"></p></a><a href="https://linusakesson.net/pages/video.php"><p><img title="Video clips" alt="Video clips" src="https://linusakesson.net/img/videothumb.png"></p></a><a href="https://linusakesson.net/pages/scene.php"><p><img title="Scene productions" alt="Scene productions" src="https://linusakesson.net/img/scenethumb2.png"></p></a><a href="https://linusakesson.net/music/chipmusic.php"><p><img title="Chip music" alt="Chip music" src="https://linusakesson.net/img/chipthumb.png"></p></a><div>


<p><span>Nine is a small, seemingly impossible C64 demo that I
released at Fjälldata&nbsp;2025.</span></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/Ws4twUyt-MY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<p>I'm working on a video that explains how it works. If you can't wait, there's
always the machine code monitor...</p>

<h3>Download</h3>

<ul><li><a href="https://hd0.linusakesson.net/files/lft-nine.prg">lft-nine.prg</a> (C64 executable, 14.0&nbsp;kB)</li>
<li><a href="https://hd0.linusakesson.net/files/Linus%20Akesson%20-%20Nine.mp3">Linus Akesson - Nine.mp3</a> (MP3, 4.9&nbsp;MB)</li>
</ul>

<p>Posted Sunday  2-Feb-2025 08:11</p>
<div>
<h3>Discuss this page</h3><p>Disclaimer: I am not responsible for what people (other than myself) write in the forums. Please report any abuse, such as insults, slander, spam and illegal material, and I will take appropriate actions. Don't feed the trolls.</p><p>Jag tar inget ansvar för det som skrivs i forumet, förutom mina egna inlägg. Vänligen rapportera alla inlägg som bryter mot reglerna, så ska jag se vad jag kan göra. Som regelbrott räknas till exempel förolämpningar, förtal, spam och olagligt material. Mata inte trålarna.</p><div><p>Anonymous<br>Mon  3-Feb-2025 04:41</p><p>Glorious. Best demo of 2025</p></div>
<div><p>Anonymous<br>Tue  4-Feb-2025 11:29</p><div><p>You rock Man.</p><p>Greetings from Athens GR</p></div></div>
<div><p>Anonymous<br>Tue  4-Feb-2025 22:19</p><div><p>This work is really magical. Great tune!</p><p>I tried running the PRG on VICE, but it fails with "?SYNTAX ERROR IN 2059".<br>Is the file corrupted?</p></div></div>
<div><p>Anonymous<br>Wed  5-Feb-2025 02:45</p><p>"MULTIPLEXIUS" so maybe each sprite gets 8/9 time, and the flicker is not noticeable?  I don't know, I was an Atari kid.</p></div>
</div>
</div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google removes pledge to not use AI for weapons from website (236 pts)]]></title>
            <link>https://techcrunch.com/2025/02/04/google-removes-pledge-to-not-use-ai-for-weapons-from-website/</link>
            <guid>42940284</guid>
            <pubDate>Tue, 04 Feb 2025 22:53:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://techcrunch.com/2025/02/04/google-removes-pledge-to-not-use-ai-for-weapons-from-website/">https://techcrunch.com/2025/02/04/google-removes-pledge-to-not-use-ai-for-weapons-from-website/</a>, See on <a href="https://news.ycombinator.com/item?id=42940284">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
			
			<div><p><span>In Brief</span></p><div>
					<p>Posted:</p>
					

					<p><time datetime="2025-02-04T13:05:09-08:00">1:05 PM PST · February 4, 2025</time></p>
				</div>
				
			</div>
			

			<figure><img width="1024" height="692" src="https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?w=1024" alt="" decoding="async" fetchpriority="high" srcset="https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg 4000w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=150,101 150w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=300,203 300w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=768,519 768w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=680,460 680w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=1200,812 1200w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=1280,866 1280w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=430,291 430w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=720,487 720w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=900,609 900w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=800,541 800w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=1536,1039 1536w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=2048,1385 2048w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=668,452 668w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=555,375 555w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=912,617 912w, https://techcrunch.com/wp-content/uploads/2018/12/GettyImages-1071785306.jpg?resize=708,479 708w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><strong>Image Credits:</strong>Andrew Harrer / Bloomberg / Getty Images</figcaption></figure>

			



			

			<div>
<p id="speakable-summary">Google removed a pledge to not build AI for weapons or surveillance from its website this week. The change was first spotted by <a href="https://www.bloomberg.com/news/articles/2025-02-04/google-removes-language-on-weapons-from-public-ai-principles" target="_blank" rel="noreferrer noopener nofollow">Bloomberg</a>. The company appears to have updated its public AI principles page, erasing a section titled “applications we will not pursue,” which was <a href="https://web.archive.org/web/20250130075626/https://ai.google/responsibility/principles/" target="_blank" rel="noreferrer noopener nofollow">still included</a> as recently as last week.</p>

<p>Asked for comment, the company pointed TechCrunch to <a href="https://blog.google/technology/ai/responsible-ai-2024-report-ongoing-work/" target="_blank" rel="noreferrer noopener nofollow">a new blog post</a> on “responsible AI.” It notes, in part, “we believe that companies, governments, and organizations sharing these values should work together to create AI that protects people, promotes global growth, and supports national security.”</p>







<p>Google’s <a href="https://ai.google/responsibility/principles/" target="_blank" rel="noreferrer noopener nofollow">newly updated AI principles</a> note the company will work to “mitigate unintended or harmful outcomes and avoid unfair bias,” as well as align the company with “widely accepted principles of international law and human rights.”</p>

<p>In recent years, Google’s contracts to provide the U.S. and Israeli militaries with cloud services have <a href="https://techcrunch.com/2024/04/18/google-fires-28-employees-after-sit-in-protest-over-controversial-project-nimbus-contract-with-israe/">sparked internal protests from employees</a>. The company has maintained that its AI is not used to harm humans; however, the Pentagon’s AI chief recently told TechCrunch that <a href="https://techcrunch.com/2025/01/19/the-pentagon-says-ai-is-speeding-up-its-kill-chain/">some company’s AI models are speeding up the U.S. military’s kill chain.</a></p>


</div>

			

		</div><div>
		



		<div>
	<div>
		<div>
			<h3>Newsletters</h3>
							
					</div>
		<p>Subscribe for the industry’s biggest tech news</p>
	</div>
	<form method="POST" action="/">
		
	</form>
	
</div>


		
		<h2>Related</h2>
		

		
		
		

		

<div>

<h2>Latest in AI</h2>




 </div>



		
		
		
	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[What's Happening Inside the NIH and NSF (333 pts)]]></title>
            <link>https://www.science.org/content/blog-post/what-s-happening-inside-nih</link>
            <guid>42940257</guid>
            <pubDate>Tue, 04 Feb 2025 22:51:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.science.org/content/blog-post/what-s-happening-inside-nih">https://www.science.org/content/blog-post/what-s-happening-inside-nih</a>, See on <a href="https://news.ycombinator.com/item?id=42940257">Hacker News</a></p>
Couldn't get https://www.science.org/content/blog-post/what-s-happening-inside-nih: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Oracle justified its JavaScript trademark with Node.js–now it wants that ignored (456 pts)]]></title>
            <link>https://deno.com/blog/deno-v-oracle2</link>
            <guid>42939940</guid>
            <pubDate>Tue, 04 Feb 2025 22:29:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://deno.com/blog/deno-v-oracle2">https://deno.com/blog/deno-v-oracle2</a>, See on <a href="https://news.ycombinator.com/item?id=42939940">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Yesterday, Oracle filed
<a href="https://ttabvue.uspto.gov/ttabvue/v?pno=92086835&amp;pty=CAN&amp;eno=7" rel="noopener noreferrer">a motion to dismiss</a>
in response to Deno’s petition to cancel its “JavaScript” trademark. But instead
of addressing the real issue—that JavaScript is an open standard with multiple
independent implementations—Oracle is trying to stall the process and sidestep
accountability.</p>
<h2 id="recap">Recap</h2>
<p>Two years ago, I published <a href="https://tinyclouds.org/trademark" rel="noopener noreferrer">a blog post</a>
asking Oracle to release the JavaScript trademark as a goodwill gesture. That
got no response.</p>
<p>Last September, I published <a href="https://javascript.tm/" rel="noopener noreferrer">an open letter</a> co-signed
by Brendan Eich (creator of JavaScript), current TC39 editors, and over 16,000
JavaScript developers. Many were shocked to learn that Oracle even claimed
ownership of JavaScript. Oracle still said nothing.</p>
<p>So last November, I filed
<a href="https://deno.com/blog/deno-v-oracle" rel="noopener noreferrer">a formal petition with the USPTO</a> through
my company, Deno, to cancel Oracle’s “JavaScript” trademark. Among other things,
we pointed out that in 2019, Oracle renewed its trademark by submitting a
screenshot of the Node.js website—a project I created—as proof of use, despite
having no affiliation with it.</p>
<p>Our petition challenges Oracle’s trademark on three grounds:</p>
<ul>
<li>Genericness – JavaScript is a widely used programming language, not an Oracle
product.</li>
<li>Abandonment – Oracle does not control, maintain, or enforce the trademark.</li>
<li>Fraud on the USPTO – Oracle submitted misleading evidence in its renewal
filing.</li>
</ul>
<p>You can read the full peititon for cancellation
<a href="https://deno.com/blog/deno-v-oracle/petition-for-cancellation.pdf" rel="noopener noreferrer">here</a>.</p>
<h2 id="oracles-defense-that-specimen-just-ignore-it">Oracle’s defense: “That specimen? Just ignore it”</h2>
<p><a href="https://ttabvue.uspto.gov/ttabvue/v?pno=92086835&amp;pty=CAN&amp;eno=7" rel="noopener noreferrer">Oracle has finally responded</a>—but
only to the fraud claim. Their argument: <em>Yes, we used a screenshot from
Node.js, but it doesn’t matter because we also submitted another specimen.</em></p>
<p>Here’s how they frame our petition in their filing:</p>
<blockquote>
<p>“The Petition ignores completely that Oracle submitted two specimens.
Moreover, on its face, the Petition fails to allege a claim of fraud as to the
renewal in Class 42 because the specimen it touts as ‘fraudulent’ was
submitted to support only the renewal in Class 9 and not Class 42.”</p>
</blockquote>
<p>Oracle’s JavaScript trademark covers both software products (Class 9) and
technology services (Class 42). Their argument is that the Node.js screenshot
was only for Class 9 and that their primary specimen—an Oracle JET page—was
sufficient for both.</p>
<blockquote>
<p>“Petitioner has not challenged and could not plausibly challenge the
JAVASCRIPT Extension Toolkit page from Oracle’s own website that Oracle
submitted as its primary specimen in Class 9 and as its only specimen in Class
42.”</p>
</blockquote>
<p>This raises serious questions:</p>
<ul>
<li>If Oracle’s primary specimen (a screenshot of Oracle JET) was truly
sufficient, why submit a screenshot of Node.js at all?</li>
<li>Oracle JET isn’t even a standalone JavaScript runtime—it’s a UI toolkit.</li>
<li>Has anyone even used Oracle JET, or is it just there to keep the trademark
alive?</li>
<li>Oracle never explained why it used a screenshot from a project it had no
connection to.</li>
</ul>
<p>They even go as far as saying:</p>
<blockquote>
<p>“Oracle does not concede that submission of the Node.js Specimen was improper.
However, the Board need not address that question in connection with this
Motion.”</p>
</blockquote>
<p>Oracle isn’t denying that it used my project—it’s just arguing that it doesn’t
matter. If a company misrepresents something in a legal filing, you’d expect
them to acknowledge it. But Oracle hasn’t even addressed it. No apology. No
explanation. Just an attempt to move past it as if nothing happened.</p>
<p>I created Node.js and released it under the MIT license to benefit developers,
not so it could be used as a legal pawn by a Fortune 500 company. Now, instead
of correcting their misrepresentation, they’re using it to stall the case.</p>
<p><img src="https://deno.com/blog/deno-v-oracle2/specimens.png" alt="Specimens used in 2019 renewal" title=""></p>
<h2 id="delaying-the-process">Delaying the process</h2>
<p>Oracle waited until the deadline to file this motion, delaying their response to
the real issue: whether “JavaScript” is a generic term.</p>
<blockquote>
<p>“This motion tolls the deadline to otherwise answer the Petition, and Oracle
requests that the Board reset the answer deadline to at least 30 days after
the date of its decision on this motion.”</p>
</blockquote>
<p>Oracle won’t even discuss whether “JavaScript” should remain a trademark until
they’ve finished dragging out this fraud claim.</p>
<p>This legal maneuvering puts us in a difficult position:</p>
<ol>
<li>Agree to drop the fraud claim, letting them get away with misrepresenting
their trademark renewal.</li>
<li>Spend months fighting this procedural issue before even getting to the real
debate.</li>
</ol>
<h2 id="the-real-issue">The real issue</h2>
<p>The situation is self-evident to anyone working in tech: Oracle did not create
JavaScript. Oracle does not control JavaScript. Oracle should not own the
trademark for JavaScript.</p>
<p>JavaScript is defined by an open specification (ECMA-262), maintained by TC39,
an industry group with representatives from Google, Apple, Microsoft, Mozilla,
and others. The major implementations of JavaScript are in the browsers built by
Mozilla, Google, Apple, and Microsoft. Oracle has no role in JavaScript’s
governance, implementation, or evolution—yet it continues to wield this
trademark as a legal cudgel.</p>
<p>This isn’t just about JavaScript. If Oracle can hold onto this trademark, what
does that say about the trademark system as a whole? Should corporations be able
to warehouse trademarks indefinitely, even when they play no meaningful role in
the things they claim to own? Even when they commit fraud to maintain them?</p>
<p>A company with no role in JavaScript’s past or future has no right to control
its name.</p>
<h2 id="how-you-can-help">How you can help</h2>
<ul>
<li>Share this post and spread awareness about Oracle’s trademark claim.</li>
<li>Sign the open letter at <a href="https://javascript.tm/" rel="noopener noreferrer">javascript.tm</a></li>
<li>If you’re a journalist, reach out—I’m happy to talk.</li>
</ul>
<p>Let one thing be clear: we are not intimidated by Oracle’s legal maneuvering,
and we will continue to fight this case on it’s very strong merits. You can
<a href="https://bsky.app/profile/deno.land" rel="noopener noreferrer">follow us here</a> to be kept up to date.</p>
<p><img src="https://deno.com/blog/deno-v-oracle2/organizational_charts.png" alt="Organizational Charts by Manu Cornet" title="">
<a href="https://bonkersworld.net/organizational-charts" rel="noopener noreferrer">Organizational Charts by Manu Cornet</a></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Infosec 101 for Activists (189 pts)]]></title>
            <link>https://infosecforactivists.org</link>
            <guid>42939862</guid>
            <pubDate>Tue, 04 Feb 2025 22:25:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://infosecforactivists.org">https://infosecforactivists.org</a>, See on <a href="https://news.ycombinator.com/item?id=42939862">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><p>Website: <a href="https://infosecforactivists.org/">https://infosecforactivists.org/</a></p><p>PDF: <a href="https://infosecforactivists.org/Infosec_for_Activists.pdf">https://infosecforactivists.org/Infosec_for_Activists.pdf</a></p><h2 id="introduction">Introduction
<a href="#introduction"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>America has a strong tradition of activism, dating back to <a href="https://www.history.com/topics/black-history/slavery-iv-slave-rebellions#section_1">slave revolts</a> and
<a href="https://themihs.info/calusa-period/">indigenous uprisings</a> even before the founding of the
United States. Today, activism in the US remains critical. Street protests are an essential tool
that activists use to raise awareness and push for institutional change. That being said,
challenging existing power structures carries an <a href="https://www.icnl.org/usprotestlawtracker/">element</a>
of <a href="https://www.aclu.org/issues/free-speech/rights-protesters/anti-protest-bills-around-country">risk</a> - exposure can lead to harassment, arrest, or <a href="https://www.muo.com/what-is-doxxing/">doxxing</a>.</p><p>Your <a href="https://www.businessinsider.com/fbi-uses-instagram-etsy-linkedin-to-find-george-floyd-protester-2020-6">personal information</a> is more accessible than
it has ever been in the past. In this document, we’ll talk about how hostile groups can leverage
information against activists, and what you can do to protect yourself and others. This document
is focused on digital safety and information security for activists who have special requirements
and risks. Others have written about <a href="https://www.dropbox.com/sh/7mrawvmzqzrpg34/AACJuakD-ZjAQ70KAWEMO5zAa?dl=0">protest safety</a>
in a <a href="https://nymag.com/strategist/article/how-to-attend-george-floyd-protests-safely.html">general sense</a>,
as well as day-to-day <a href="https://www.wikihow.com/Protect-Personal-Information">digital safety</a>. We
would be remiss if we did not remind you, <a href="https://www.youtube.com/watch?v=nWEpW6KOZDs">DON’T TALK TO THE POLICE</a>.</p><p><strong>If you are in a hurry, please begin with the tools chart below.</strong> You’ll find information you
can use right away! We have also included tips and concepts to make your personal information
safer at actions AND in your day-to-day life.</p><p><strong>Why should you care?</strong> While challenging existing power structures has always carried an
element of risk, the wireless digital landscape provided by today’s technology makes it far
riskier. Law enforcement commonly works with tech companies to access user data, which the user
(you) believed was private. Data breaches expose names and other personal information, which can
have ramifications in your everyday life. Our goal is to help you conduct activism safely
without bringing unnecessary police surveillance, violence, or threats to your employment to your
doorstep. This document is a guide to help you keep control over your own sensitive information.</p><p>Need secure, private communications in a hurry? Here are services you can switch to right now!
(We do not receive kickbacks from any of these companies. Or anybody, actually.)</p><table><thead><tr><th>Tools</th><th>Use</th><th>What it replaces, or what it does</th><th>What it costs</th></tr></thead><tbody><tr><td><a href="https://bitwarden.com/">BitWarden</a></td><td>Password Manager</td><td>Securely saves your passwords so you can use strong and unique passwords.</td><td>Free, more features $1/mo</td></tr><tr><td><a href="https://duckduckgo.com/">DuckDuckGo</a></td><td>Web Searching</td><td>Google Search</td><td>Free</td></tr><tr><td><a href="https://help.duckduckgo.com/duckduckgo-help-pages/features/maps/">DuckDuckGo Maps</a></td><td>Maps, Directions</td><td>Google Maps</td><td>Free</td></tr><tr><td><a href="https://www.mozilla.org/en-US/firefox/browsers/">Firefox</a></td><td>Web Browsing</td><td><a href="https://www.washingtonpost.com/technology/2019/06/21/google-chrome-has-become-surveillance-software-its-time-switch/">Google Chrome</a>, Safari, Internet Explorer, Edge</td><td>Free</td></tr><tr><td><a href="https://jitsi.org/">Jitsi</a></td><td>Online Meetings</td><td>Zoom, Google Meet, WebEx</td><td>Free</td></tr><tr><td><a href="https://proton.me/mail">ProtonMail</a></td><td>Email</td><td>Gmail, yahoo, work email</td><td>Free, more features $5/mo</td></tr><tr><td><a href="https://protonvpn.com/">ProtonVPN</a></td><td>VPN</td><td>Protects your activity from your cable or mobile provider, who may share with police.</td><td>Free, more features $5/mo or $10/mo</td></tr><tr><td><a href="https://signal.org/en/">Signal</a></td><td>Messaging</td><td>Text messages, facebook messenger, other insecure instant messaging apps</td><td>Free</td></tr></tbody></table><p>In this document, we make recommendations against some popular and commonplace tools. Our recommendations
are all based on the same guiding principles. The logic behind them is simple – <strong>avoid tools
that collect your information, store it outside of your control, or leave it publicly exposed.</strong>
The most challenging is likely Google Maps, which we believe should be avoided while attending an
action. Google Maps always tracks its users, and Google keeps this tracking data in detail,
forever. All of this data can be <a href="https://www.eff.org/deeplinks/2019/04/googles-sensorvault-can-tell-police-where-youve-been">given to law enforcement</a>.
<a href="https://www.nytimes.com/interactive/2019/04/13/us/google-location-tracking-police.html">Police and other agencies</a> can use Google’s high-precision data
to place a person at an action. Even more dangerous, they can then locate a person down to
specific areas within an action, or near criminal acts, within a few feet and down to the minute.
Our alternative suggestions, <a href="https://maps.apple.com/go">Apple Maps</a> and
<a href="https://help.duckduckgo.com/duckduckgo-help-pages/features/maps/">DuckDuckGo Maps</a>, do not
track their users in this way. They also go out of their way to anonymize the data collected by the map providers.</p><p>Another popular tool <a href="https://gizmodo.com/why-you-should-stop-using-telegram-right-now-1782557415">we must recommend against</a> is Telegram, as it has a track record of
<a href="https://www.wired.com/story/telegram-encryption-whatsapp-settings/">security issues</a>. While it
supports end-to-end encryption for messages between individuals (see <a href="#messaging-with-encryption">Messaging with Encryption</a> below), it does not apply this security to group messages. Group messages
may be reported as “spam” or “abuse”, and the full contents of messages may be subject to review
by Telegram staff and contractors. That data can then be provided to law enforcement. To make things
worse, the full encryption technique is not active for all conversations by default.</p><p>WhatsApp, while popular in some activist circles, <a href="https://theintercept.com/2016/06/22/battle-of-the-secure-messaging-apps-how-signal-beats-whatsapp/">has similar issues</a>,
and we recommend against that service as well. We recommend <a href="https://signal.org/en/">Signal</a>,
which was built from the ground up for personal security.</p><p>Similar reasoning applies to all the recommendations we make in this document. If you use it,
we have probably researched its security features for this project. If there are tools you are not
ready to give up, we encourage you to research their privacy policies and what you can do to
protect your data.</p><h2 id="things-to-know">Things to Know
<a href="#things-to-know"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Your phone is a data goldmine, full of tracking and identifying information. This includes where
you have been, what you have said, and with whom you have communicated with. This section will help
you keep that data safe while you are attending a protest, protecting you AND those around you.
Find instructions for iPhone and Android below! Get protected and protest-ready right now!</p><p>Assume that any messages you send, phone calls you make, or anything else you send or
receive can be logged and recorded by the police. If your information is strongly encrypted, they
may still have access to it, but they can’t decrypt it. Be sure to update your phone to the
latest supported operating system (OS) well before the action.</p><p>If you have privacy concerns and your phone is no longer receiving software updates, consider
not bringing it. If you are attending a protest without a phone, don’t go alone. Arrange times
and places where you can meet up with your buddies before you go to the protest.</p><h2 id="attending-an-action">Attending an Action
<a href="#attending-an-action"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><h2 id="before">Before
<a href="#before"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><ul><li>Do not mark yourself as “Going” on Facebook.<ul><li>Make note of the details, and save them on a personal device or piece of paper.</li></ul></li><li>Practice your phone passcode. Enable and practice using <a href="https://support.apple.com/en-us/HT208076">Emergency SOS</a> (iOS) and <a href="https://support.google.com/pixelphone/answer/6093922#lockdown">Lockdown mode</a> (Android).</li><li>If you need to search the internet for any information relating to the protest, use DuckDuckGo
and private browsing sessions.</li><li>Make sure your device is updated to the latest version of your OS, and all your apps are up to date.<ul><li>Check and update your <a href="https://support.google.com/android/answer/7680439">Android</a> or
<a href="https://support.apple.com/en-us/HT204204">iOS</a> version to make sure you have the latest
security fixes.</li></ul></li><li>Set up a <a href="https://signal.org/en/">Signal</a> account. If you don’t want to use your personal
phone number, you can create a new phone number with <a href="https://voice.google.com/">Google Voice</a> and register that with Signal.</li><li>Find a friend (or several!) to go with and connect over Signal to discuss plans.</li></ul><h2 id="during">During
<a href="#during"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><ul><li>Use a protest buddy.</li><li>Confirm meetup plans with your protest buddies before leaving for the event.<ul><li>Once you meet up, agree on a fallback location in case you get separated.</li></ul></li><li>Use <a href="https://maps.apple.com/go">Apple Maps</a> or <a href="https://help.duckduckgo.com/duckduckgo-help-pages/features/maps/">DuckDuckGo Maps</a> if you need directions to the location of the protest.<ul><li>If you can, print the directions before leaving for the action. Apple Maps does not have an
offline mode, and will not be usable without an internet connection.</li></ul></li></ul><h2 id="after">After
<a href="#after"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><ul><li>Leave and delete Signal groups set up for that protest.</li><li>Don’t post your protest photos on social media!</li></ul><h2 id="preparing-your-phone">Preparing Your Phone
<a href="#preparing-your-phone"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Your phone is a powerful tool but also a powerful tracking device for law enforcement and other
entities. Phones record and share lots of information about your whereabouts and activity with
different services. This is usually a good thing, as it helps your apps respond to your needs
and situation. But when you attend an action, those features can provide a rich digital
breadcrumb trail. We want to prevent those digital breadcrumbs from being dropped, and here is
some advice on how to do that.</p><p>Attending an action brings an additional threat to privacy. If your phone is lost or confiscated
by law enforcement, all the information on it could then be available to police. Below we will
share advice to protect your phone against intrusion should it fall into someone else’s hands.</p><p>This section uses the word “phone” to mean a smartphone running iOS or Android, such as those
manufactured by Apple, Google, Samsung, and others. If you are using a simpler phone, your risks
are likely fewer.</p><p>Whether you have an iPhone or an Android, the threats to your privacy are the same. Your phone
has a built-in <strong>GPS</strong> receiver that enables maps and other location-based apps to work.
The phone itself will keep that GPS receiver on at all times, recording where you are, and
occasionally send updates on your whereabouts to Google, Apple, or other app publishers. So we
will want to turn the GPS receiver off, which prevents from the location data from being
recorded at all.</p><p><strong>Bluetooth, WiFi, and Ultrawideband (UWB)</strong> are common technologies that use short-range radios to communicate with
other devices. Unfortunately, their operation requires your phone to broadcast information which can uniquely identify itself. This information can be observed by a “beacon” or scanning device.
Stores, government agencies, and police use these devices to identify people who are nearby.
This type of surveillance is profoundly dangerous at an action, so these radios should be disabled
whenever possible.</p><p><strong>Your mobile carrier</strong> can also track your location using your phone’s contact with its cellular towers.
Even if you are not actively in a call, texting, or browsing the internet over a celluar connection, there
is still constant activity between your device and the towers to maintain a connection. These connections
are sufficiently accurate to place an individual on the same block as an action.
This location information is typically logged by your carrier, and can be accessible to law
enforcement. <a href="https://www.aclu.org/issues/privacy-technology/surveillance-technologies/stingray-tracking-devices-whos-got-them">Some police departments</a> also have access to devices known
as cell site simulators, IMSI catchers, or a “Stingray”. These devices can mimic a mobile phone tower,
and provide the police with more accurate, real-time data.</p><p>Both iOS and Android phones have a feature named <strong>“airplane mode,”</strong> to quickly disable the cellular
radio and some, or all, of the other radios present on the device. The exact behavior is dependent on
which device you’re using. The safest option for ensuring that all of your radios have been disabled
is to both enable Airplane mode <strong>and</strong> manually ensure that the Bluetooth and WiFi radios are
turned <em>Off</em> in your devices Settings app. See the <a href="#iphone-setup">iOS</a> or <a href="#android-setup">Android</a>
section below for the specific details for your device.</p><h2 id="intrusion-protection">Intrusion Protection
<a href="#intrusion-protection"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>If you attend an action, there is a risk that your phone may be seized by police. They will
physically have your phone and may attempt to extract information from it. All phones have
<strong>lock screens</strong>, which is the first line of defense. In day-to-day use, we want our lock screen
to be prevent a thief or some other stranger from easily opening the
phone. With that, fingerprint readers and face scanners make for convenient unlock mechanisms.
The situation at an action is starkly different, as law enforcement may have the ability to apply your finger or face to your phone to
unlock it, even if you resist or are unconscious. For this reason,
<strong>biometric unlock mechanisms should be avoided during an action</strong>. The other unlock mechanisms
typically involve drawing a shape or entering a code. A swipe or, shape, or short code can be traced
by police (or anyone) from the thin oils your finger leaves on the screen.
<strong>Entering a code is the most secure.</strong> The code should be long enough to
prevent your fingerprints from giving it away.</p><p>Phones also let you select how long they should wait before auto-locking themselves. You should set
this time to be as short as possible, so that if you drop your phone or if is stolen, the timer will
expire and the phone will lock before anyone else can access it.
The <strong>power button should make the phone immediately lock</strong>.</p><p>There are ways to access data on a phone without unlocking it. One way to defend against these
methods is <strong>full-disk encryption</strong>, where all the information on the phone is stored in encrypted form.
This prevents law enforcement from removing the storage chips from your phone,
as all of the contents will be unreadable without being unlocked in your specific phone by your specific unlock code.</p><p>To use full-disk encryption on an iPhone, simply set a lock screen passcode. If you don’t have a
passcode, it will not activate the feature.</p><p>To see if your Android has encryption available and turned on, you can <strong>go to Settings, choose Security, and find the Encrypt Phone option.</strong>
It will say “Encrypted” or prompt you to turn on
encryption. Turning on encryption will take a few hours, and your device will need to be plugged
into its charger. This is something you only need to do once.</p><p>If your Android device was shipped with <a href="https://www.computerworld.com/article/2995437/google-makes-full-disk-encryption-and-secure-boot-mandatory-for-some-android-60-devices.html">Android 6 or lower</a>,
you may not be able to use this feature.</p><h2 id="airdrop">AirDrop
<a href="#airdrop"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Despite Apple’s focus on privacy, there are still points of vulnerability with their software. One
of these involves the <a href="https://support.apple.com/en-us/HT204144">AirDrop</a> feature. When AirDrop is
enabled, your phone could leak personally identifiable information (PII) such as your phone number
and email address to <a href="https://arstechnica.com/gadgets/2021/04/apples-airdrop-leaks-users-pii-and-theres-not-much-they-can-do-about-it/">nearby devices</a>.</p><p>We recommend keeping AirDrop disabled at all times when near or at an action, and in everyday life
unless you are actively sharing files with someone.</p><h2 id="phone-backups">Phone Backups
<a href="#phone-backups"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Keeping backups of your important data is always a good idea, but the built-in cloud backups of iOS
and Android pose a problem for activists. Backups made with iCloud are encrypted in such a way that
employees at Apple can access them. This weakness is attributed to <a href="https://www.reuters.com/article/us-apple-fbi-icloud-exclusive/exclusive-apple-dropped-plan-for-encrypting-backups-after-fbi-complained-sources-idUSKBN1ZK1CT">pressure from the FBI.</a>
Anything in the backup, which may include photos, contacts, unencrypted messages, <a href="https://oleb.net/2020/icloud-end-to-end-encryption/">and more,</a>
can be handed over to law enforcement. Keys to unlock the phone’s full-disk encryption are also
stored in the iCloud backup. This arrangement allows law enforcement to request the backup data from
Apple and use the key to unlock the entire phone. It also offers a convenience, where if the user
forgets their unlock code, Apple can still recover the device. For activists, the risk posed by your
unlock keys being accessible to law enforcement is potentially greater than the benefits of that
convenience.
<strong>We do not recommend using iCloud backups.</strong></p><p><a href="https://support.google.com/drive/answer/6305834?co=GENIE.Platform%3DAndroid">Android leverages Google Drive</a>
for data backup, which does not generally contain unlock keys, but does automatically include app data,
call data, contacts, calendar events, videos, and photos. Starting with Android version 9 (codenamed
“Pie” and released in 2018), Google has offered end-to-end encrypted backups that <a href="https://security.googleblog.com/2018/10/google-and-android-have-your-back-by.html">even they cannot
open</a> without the
user’s passcode. If your phone uses version 9 or newer, <a href="https://thehackernews.com/2018/10/android-cloud-backup.html">this feature is automatically active</a>
as long as you have a lock screen protected with a PIN, pattern, or passcode.
<strong>Do not use Android cloud backups prior to version 9.</strong></p><h2 id="phone-setup-instructions">Phone Setup Instructions
<a href="#phone-setup-instructions"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Below we have specific steps to prepare your iPhone or Android. The goals for both are the same, and
are explained above. The buttons to press, however, are quite different between the two. Select
iPhone or Android below to see the instructions.</p><div><p>
<label for="tabs-0-0">iPhone</label></p><p>### iPhone Setup
Apple has prioritized personal security in recent years and now offers features to make securing
your iPhone easier. Following these steps will make your phone reasonably secure for an action.
If your device does not support *Face ID* as a biometric login method, you will see *Touch ID* on your
device instead of *Face ID* where it is referenced below.
* Set AirDrop to [Receiving Off](https://support.apple.com/en-us/HT204144#setoptions)
* *Settings → General → AirDrop*, tap on **Receiving Off**
* Disable your GPS receiver by turning off Location Services.
* *Settings → Privacy → Location Services*, toggle *Location Services* off.
* Even in Airplane mode, iOS will keep the GPS receiver active unless Location Services is turned off.
* Turn off WiFi, and the cellular radio by activating [Airplane Mode](https://support.apple.com/en-us/HT204234)
* Bluetooth **will not** be disabled the first time you use Airplace Mode. If you disable
Bluetooth *after* enabling Airplane mode, iOS will remember this, and disable
Bluetooth automatically the next time Airplane mode is used.
* Disable your Bluetooth radio
* *Settings → Bluetooth*, toggle the *Bluetooth* slider off.
* Lock screen setup
* Disable biometric login
* *Settings → Face ID &amp; Passcode*, under the section “Use Face ID For:”, toggle all
the sliders to off.
* Set your screen to auto-lock as quickly as possible, and require your passcode immediately.
* *Settings → Display &amp; Brightness → Auto-Lock*, set to 30 seconds or 1 minute at the most
* *Settings → Face ID &amp; Passcode*, set “Require Passcode” to “Immediately”
* Practice with iOS’ [Emergency SOS](https://support.apple.com/en-us/HT208076) mode, and
disable the emergency auto-call features.
* *Disable Settings → Emergency SOS → Auto-call*
* *Disable Settings → Emergency SOS → Call with Side Button*
* If you need to quickly lock down the device, press and hold the power button and either of
the volume buttons until the Emergency SOS lock screen appears. At this point, biometric
login will be disabled until the passcode is reentered.</p><p>
<label for="tabs-0-1">Android</label></p><p>### Android Setup
Android has flexible settings that can be used to make your phone secure and usable in a number of situations.
Click below to see steps to make your phone generally secure for the day of an action.
* Disable your GPS receiver by turning off Location Services.
* Pull down the notification panel from the top of the screen. There may be a toggle button
for Location Services (they often look like a satellite).
* If you don't have the button in the pulldown, go to *Settings → Location* and turn off "Use location."
* Turn off Bluetooth, WiFi, and carrier radio by activating Airplane Mode.
* Pull down the notification panel from the top of the screen. There may be a toggle button
for Airplane Mode (it often look like an airplane). Ensure Airplane Mode is ON.
* If you don't have the button in the pulldown, go to *Settings → Network &amp; internet* and turn on "Airplane mode."
* You can turn mobile data back on without leaving airplane mode if you need it. Press the
Mobile Data button in the notification panel after you activate Airplane Mode. Those two
buttons are often next to each other.
* Check that Bluetooth is really off. Android may keep it on if Bluetooth devices are
connected. The button in the notification panel should be grayed/uncolored to indicate it
is off.
* Lock screen setup
* Go to *Settings → Security → Screen Lock* and select PIN or Password.
* You will be asked if you want notifications to be shown on screen while the phone is
locked. The safest option is “Don’t show any notifications at all.” If that does not work
for you, choose “Hide sensitive notification content.”
* Click the gear to enter Screen Lock settings:
* Set "Lock after screen timeout" to Immediately.
* Turn on "Power button instantly locks".
* Disable Smart Lock if you have it. It can keep your phone unlocked when you don't expect
it, which is dangerous at an action.
* Go to *Settings → Display → Advanced → Screen timeout* and set it to the shortest possible
time, usually 15 seconds.</p></div><h2 id="security-ideas">Security Ideas
<a href="#security-ideas"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>This section is about keeping your information private in the rest of your life. In this
document, “private” means only accessible to you, and not to anyone else without your permission.</p><h2 id="messaging-with-encryption">Messaging with Encryption
<a href="#messaging-with-encryption"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>To encrypt your personal communication (like messages with other people), you want <em>end-to-end</em>
encryption (E2EE). Many apps claim “encryption” but only a few truly guarantee that your
information stays encrypted all the way to your recipient’s phone. The “end-to-end” means it is
only readable by you and your recipient. Without the “end-to-end” property, copies of messages
may be sent through and saved on a central server, which the provider company has full access to.</p><h2 id="meeting-online">Meeting Online
<a href="#meeting-online"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Virtual meetings over video calls are part of modern life and very common in activist
communities. Solutions like Zoom, Google Meet, and Microsoft Teams are popular choices for work
and social meetups but do not offer the privacy activism requires. For that reason, we
recommend <a href="https://jitsi.org/">Jitsi</a>. Unlike other platforms, Jitsi does not record or retain
the content of your meetings. Any data given during the meeting, including name given when
joining and chat, will be deleted at the conclusion of the meeting.
Jitsi is free and most participants do not need an account.</p><p>We say “most” because Jitsi now requires an account to <em>create</em> a meeting space, but joining that
space can still be done without an account and without providing any personal information.
The person who creates the meeting room must have a Jitsi account, or sign in using an account from
Google, GitHub or Facebook. Starting with the second person to join a meeting, no account and no
personal information is required. If you need to create a meeting space and require privacy, we
recommend you create a <a href="https://github.com/signup">GitHub account</a> using a throwaway email address,
and sign into Jitsi using that account. GitHub is a platform for software developers owned by Microsoft.
It does not deeply verify accounts. You can read their <a href="https://docs.github.com/en/site-policy/privacy-policies/github-privacy-statement">privacy statement here</a>.</p><p>You can start a meeting directly from their web page at
<a href="https://meet.jit.si/">meet.jit.si</a>. Jitsi takes security and personal anonymity seriously.
You can read more on their <a href="https://jitsi.org/security/">security page</a>.</p><h2 id="password-safety">Password Safety
<a href="#password-safety"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>The password is the primary mechanism used to secure your online accounts, but it is also a
significant point of vulnerability. How can we manage this?</p><ul><li>Turn on two-factor authentication (2FA) everywhere it’s offered.</li><li>Use long and strong passwords that are not easily guessed.</li><li>Use a password manager to securely store your passwords, then use a unique password for each service.</li></ul><h2 id="two-factor-authentication-2fa">Two-Factor Authentication (2FA)
<a href="#two-factor-authentication-2fa"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>This adds a second check, whenever you log in, that it’s really you. The second factor can be an
app on your phone, an email, or text message. A one-time-use code is sent to you, which you then
enter into the service to prove you control that second factor. Not all channels are equal in
their security, but <strong>any 2FA is worlds better than none at all.</strong></p><p>When choosing a 2FA method, an authenticator app such as <a href="https://www.tomsguide.com/us/google-authenticator-how-to-use,news-26819.html">Google Authenticator</a> provides a good balance
between convenience and security. Google Authenticator is free, and available from both the <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2">Google Play Store</a>, and <a href="https://apps.apple.com/us/app/google-authenticator/id388497605">Apple’s App Store</a>.</p><p>If a more secure option is desired, security keys such as the <a href="https://www.yubico.com/products/">Yubikey</a> can
be used. The keys are physical objects which act as your second factor, and can also be used with the
<a href="https://www.yubico.com/products/services-software/download/yubico-authenticator/">Yubico Authenticator</a> can use physical tokens to generate one-time codes.</p><p>If the above options are not available for your service, you may be able to use your email
or phone (via SMS) to receive one-time codes. These are not as secure as the above options, but,
as stated above, any 2FA is worlds better than none at all.</p><h2 id="strong-passwords">Strong Passwords
<a href="#strong-passwords"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Longer passwords are harder to break, regardless of the types of characters they contain. Modern
hackers’ tools can try every possible character in every order for an 8-character password
instantly, but a 10-character password would take hours. XKCD did a fun explanation of this: <a href="https://xkcd.com/936/">https://xkcd.com/936/</a></p><p><strong>Your passwords should be easy for you to remember but too long for a hacker to guess.</strong> The
best technique right now is to use a passphrase of multiple words that are easy for you to
remember but so long that it would take centuries for a hacker to crack. You can use a technique
called <a href="https://en.wikipedia.org/wiki/Diceware">Diceware</a> to come up with a random but memorable
passphrase. Doug Muth built a nice online Diceware tool below.</p><p>Diceware Password Generator: <a href="https://diceware.dmuth.org/">https://diceware.dmuth.org/</a></p><h2 id="password-managers">Password Managers
<a href="#password-managers"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Password managers are apps that work like personal vaults for your passwords. They can save the
username, password, and other information for each app and/or site that you use. This vault is
heavily encrypted and can only be unlocked by a master password. All you need to remember is
the master password, and it will fill in everything else for you! This frees up mental space,
which is always nice, but more importantly for security, it allows you to have each site use a
completely unique and random password. Most people use variants of the same password or the
exact same password across multiple sites and services, and this is a significant security
vulnerability. If any of those services are breached (something that is completely out of your
control), then your password could be released to the hacker community, often right next to your
email. It’s shockingly easy for hackers to try using those leaked credentials with other
services, including with variations to the password. This is the most common way for people’s
accounts to be breached. This vulnerability is neutralized if the password used with the hacked
service is totally unique.</p><p>With a password manager, you can set every service to use a totally
unguessable, randomly generated, unique password, like <code>7Xg*2BMVxCo!uY</code>. Most password managers
include a random generator to make those passwords, and you never have to remember them because
they stay securely recorded inside your personal vault within the manager. Our recommendation is
<a href="https://bitwarden.com/">BitWarden</a>, an open-source and easy-to-use password manager that uses
widely-agreed-upon encryption standards for your passwords.</p><h2 id="security-questions">Security Questions
<a href="#security-questions"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Services often use personal questions as a backup system, should you need to reset your
password. These questions often ask for personal information, like the name of your childhood
pet or mother’s maiden name. This information, however, is often accessible to others.</p><p>When you respond to security questions, try <strong>using code phrases instead of answering them honestly</strong>,
so that nobody familiar with your life could guess it and force a password reset without your
consent. For instance, for the question “Where did you attend school in the sixth grade?” you
could instead respond with your favorite cartoon character from the sixth grade.</p><h2 id="other-tips">Other Tips
<a href="#other-tips"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>These tips don’t just protect you, but protect the safety and privacy of others as well!</p><ul><li>Think carefully about who you can safely share your involvement in activism with.</li><li>Don’t use email for protest related conversation.</li><li>Google your full name occasionally and see what comes up.</li><li>Do not “check in” to a protest on Facebook or any other service. You don’t want to give third parties evidence that you were there. Police use subpoenas to get user information from Facebook and other social media companies all the time.</li><li>Don’t take anyone’s photo without permission.</li><li>If you take any photos, don’t post them on social media. Images have extra information hidden in them that includes the time and place they were taken. If you send photos or videos out at all, only send them to people you trust, over secure means, long after and far away from the protest.</li><li>Have a protest buddy and use Signal to communicate with them.</li><li>When using Signal, enable “Disappearing Messages” for any sensitive conversations.</li></ul><h2 id="closing">Closing
<a href="#closing"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>We hope that you have found this resource helpful. While at first these materials may seem
intimidating, we are confident you can master them with a little time and practice. The world of
information security changes frequently and quickly - while we will do our best to keep this
page up to date, we encourage you to diversify your information sources.</p><p>If you’d like to continue learning, Malwarebyte’s <a href="https://blog.malwarebytes.com/podcast/">Lock and Code</a>
podcast has an episode on <a href="https://blog.malwarebytes.com/podcast/2021/01/data-privacy-day-lock-and-code-special/">Why Data Privacy Day matters</a>,
and the ACLU tackles <a href="https://www.aclu.org/podcast/deray-mckesson-threat-protesters-rights-ep-99">ongoing threats to protesters’ rights</a>.
For ongoing news in the world of privacy and freedom of speech, check out the resources below!</p><ul><li><a href="https://www.techdirt.com/">Techdirt</a></li><li><a href="https://www.wired.com/tag/privacy/page/1/">Wired: Privacy</a></li><li><a href="https://arstechnica.com/">Arstechnica</a></li><li><a href="https://www.eff.org/deeplinks">EFF Deeplinks</a></li></ul><h2 id="acknowledgments">Acknowledgments
<a href="#acknowledgments"><svg height="22" viewBox="0 0 24 24" width="22"><path d="M0 0h24v24H0z" fill="none"></path><path fill="var(--color-link)" d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg></a></h2><p>Blake, Drew, and Mark would like to thank Clare, Deb, Moe, Sasha, Stacy, and Vincent for their assistance with this project.
We also thank our pets, Lacey, Lily, Pico, and Roxy for their support in these challenging times.</p><p>Drew provides project management and language review for this resource. When not rabble rousing,
Drew enjoys bike rides, baking, and books.</p><p>Mark is a professor of computer science, focusing on computing education, democratization of computing,
and resources for digital citizenship. When not working to head off a societal Elysium, Mark enjoys
D&amp;D, bike riding, cooking, and doggos.</p><p>Blake is a senior mobile developer, bringing technical expertise and an unhealthy love of both puns
&amp; Git to this project. When not tormenting the English language, he enjoys cooking, brewing kombucha,
beer, &amp; mead, and spending time with his dog, Lacey.</p><hr><p>Last updated on <span>Thursday, Jan 23, 2025</span>
.</p><p><a href="https://docs.google.com/forms/d/e/1FAIpQLSdmvPAGVEVwe2ImXvjGoLQH2MZS34aoiveJRO8FnW4fE-1VEg/viewform?usp=sf_link">Send us feedback</a> (Uses a google form. Do not submit personal or sensitive information.)</p><p><img src="https://infosecforactivists.org/media/GitHub-Mark-32px.png" alt="GitHub Logo"><br>See a mistake, or want to help us improve this document? Contribute to the project on <a href="https://github.com/InfosecForActivistsTeam/infosec-activists">Github</a>.</p></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Government planned it 7 years, beavers built a dam in 2 days and saved $1M (181 pts)]]></title>
            <link>https://www.voxnews.al/english/kosovabota/qeveria-po-e-planifikonte-prej-7-vitesh-kastoret-ndertojne-brenda-dy--i84652</link>
            <guid>42938802</guid>
            <pubDate>Tue, 04 Feb 2025 21:13:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.voxnews.al/english/kosovabota/qeveria-po-e-planifikonte-prej-7-vitesh-kastoret-ndertojne-brenda-dy--i84652">https://www.voxnews.al/english/kosovabota/qeveria-po-e-planifikonte-prej-7-vitesh-kastoret-ndertojne-brenda-dy--i84652</a>, See on <a href="https://news.ycombinator.com/item?id=42938802">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

<p><span><span>In the Czech Republic, beavers built a dam in two days, which local authorities had planned for 7 years.</span></span></p>
<p><span><span>The rodents have saved the administration $1.2 million.</span></span></p>
<p><span><span>A project to restore water areas in the Brdy nature park had been under development since 2018. Over the years, the administration collected all the necessary permits and was ready to begin construction.</span></span></p>
<p><span><span>But it turned out to be unnecessary, as the native beavers, who have lived in the park since 2020, took matters into their own hands, building dams in the same locations planned by the government.</span></span></p>
<div data-mce-contenteditable="false"><p><img src="https://cdnimpuls.com/voxnews.al/media3/-640-0-dfvg4-1738604452.png" width="100%" alt="The government had been planning it for 7 years, beavers built the dam in two" data-size="x" data-id="152633" data-mce-contenteditable="true"></p><p><span><strong><span><span>Dam built by beavers</span></span></strong></span></p>
</div>
<p><span><span>"The beavers saved us 30 million Czech crowns. They built the dams without any project documentation and for free," said the head of the nature reserve administration.</span></span></p>
<p><span><span>Beavers are known for their ability to build giant dams in streams, which function much like a modern dam. The reason they build dams is to create deep water that gives them protection from predators.</span></span></p>
                        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How I use LLMs as a staff engineer (208 pts)]]></title>
            <link>https://www.seangoedecke.com/how-i-use-llms/</link>
            <guid>42938409</guid>
            <pubDate>Tue, 04 Feb 2025 20:49:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.seangoedecke.com/how-i-use-llms/">https://www.seangoedecke.com/how-i-use-llms/</a>, See on <a href="https://news.ycombinator.com/item?id=42938409">Hacker News</a></p>
<div id="readability-page-1" class="page"><section><p>Software engineers are deeply split on the subject of large language models. Many believe they’re the most transformative technology to ever hit the industry. Others believe they’re the latest in a long line of hype-only products: exciting to think about, but ultimately not useful to professionals trying to do serious work.</p>
<p>Personally, I feel like I get a lot of value from AI. I think many of the people who don’t feel this way are “holding it wrong”: i.e. they’re not using language models in the most helpful ways. In this post, I’m going to list a bunch of ways I regularly use AI in my day-to-day as a staff engineer.</p>
<h2>Writing production code</h2>
<p>I use Copilot completions every time I write code<sup id="fnref-1"><a href="#fn-1">1</a></sup>. Almost all the completions I accept are complete boilerplate (filling out function arguments or types, for instance). It’s rare that I let Copilot produce business logic for me, but it does occasionally happen. In my areas of expertise (Ruby on Rails, for instance), I’m confident I can do better work than the LLM. It’s just a (very good) autocomplete.</p>
<p>However, I’m not always working in my areas of expertise. I frequently find myself making small tactical changes in less-familiar areas (for instance, a Golang service or a C library). I know the syntax and have written personal projects in these languages, but I’m less confident about what’s idiomatic. In these cases, I rely on Copilot more. Typically I’ll use Copilot chat with the o1 model enabled, paste in my code, and ask directly “is this idiomatic C?”</p>
<p>Relying more on the LLM like this is risky, because I don’t know what I’m missing. It basically lets me operate at a smart-intern baseline across the board. I have to also behave like a sensible intern, and make sure a subject-matter expert in the area reviews the change for me. But even with that caveat, I think it’s very high-leverage to be able to make these kinds of tactical changes quickly.</p>
<h2>Writing throwaway code</h2>
<p>I am much more liberal with my use of LLMs when I’m writing code that will never see production. For instance, I recently did a block of research which required pulling chunks of public data from an API, classifying it, and approximating that classification with a series of quick regexes. All of this code was run on my laptop only, and I used LLMs to write basically all of it: the code to pull the data, the code to run a separate LLM to classify it, the code to tokenize it and measure token frequencies and score them, and so on.</p>
<p>LLMs excel at writing code that works that doesn’t have to be maintained. Non-production code that’s only run once (e.g. for research) is a perfect fit for this. I would say that my use of LLMs here meant I got this done 2x-4x faster than if I’d been unassisted. </p>
<h2>Learning new domains</h2>
<p>Probably the most useful thing I do with LLMs is use it as a tutor-on-demand for learning new domains. For instance, last weekend I learned the basics of Unity, relying heavily on ChatGPT-4o. The magic of learning with LLMs is that you can <em>ask questions</em>: not just “how does X work”, but follow-up questions like “how does X relate to Y”. Even more usefully, you can ask “is this right” questions. I often write up something I think I’ve learned and feed it back to the LLM, which points out where I’m right and where I’m still misunderstanding. I ask the LLM <em>a lot</em> of questions.</p>
<p>I take a lot of notes when I’m learning something new. Being able to just copy-paste all my notes in and get them reviewed by the LLM is great.</p>
<p>What about hallucinations? Honestly, since GPT-3.5, I haven’t noticed ChatGPT or Claude doing a lot of hallucinating. Most of the areas I’m trying to learn about are very well-understood (just not by me), and in my experience that means the chance of a hallucination is pretty low. I’ve never run into a case where I learned something from a LLM that turned out to be fundamentally wrong or hallucinated.</p>
<h2>Last resort bug fixes</h2>
<p>I don’t do this a lot, but sometimes when I’m really stuck on a bug, I’ll attach the entire file or files to Copilot chat, paste the error message, and just ask “can you help?”</p>
<p>The reason I don’t do this is that I think I’m currently much better at bug-hunting than current AI models. Almost all the time, Copilot (or Claude, for some personal projects) just gets confused. But it’s still worth a try if I’m genuinely stuck, just in case, because it’s so low-effort. I remember two or three cases where I’d just missed some subtle behaviour that the LLM caught, saving me a lot of time.</p>
<p>Because LLMs aren’t that good at this yet, I don’t spend a lot of time iterating or trying to un-stick the LLM. I just try once to see if it can get it.</p>
<h2>Proofreading for typos and logic mistakes</h2>
<p>I write a fair amount of English documents: ADRs, technical summaries, internal posts, and so on. I <strong>never</strong> allow the LLM to write these for me. Part of that is that I think I can write more clearly than current LLMs. Part of it is my general distaste for the ChatGPT house style.</p>
<p>What I do occasionally do is feed a draft into the LLM and ask for feedback. LLMs are great at catching typos, and will sometimes raise an interesting point that becomes an edit to my draft.</p>
<p>Like bugfixing, I don’t iterate when I’m doing this - I just ask for one round of feedback. Usually the LLM offers some stylistic feedback, which I always ignore.</p>
<h2>Summary</h2>
<p>I use LLMs for these tasks:</p>
<ul>
<li>Smart autocomplete with Copilot</li>
<li>Short tactical changes in areas I don’t know well (always reviewed by a SME)</li>
<li>Writing lots of use-once-and-throwaway research code</li>
<li>Asking lots of questions to learn about new topics (e.g. the Unity game engine)</li>
<li>Last-resort bugfixes, just in case it can figure it out immediately</li>
<li>Big-picture proofreading for long-form English communication</li>
</ul>
<p>I don’t use LLMs for these tasks (yet):</p>
<ul>
<li>Writing whole PRs for me in areas I’m familiar with</li>
<li>Writing ADRs or other technical communications</li>
<li>Research in large codebases and finding out how things are done</li>
</ul>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google Drops Pledge Not to Use AI for Weapons or Surveillance (380 pts)]]></title>
            <link>https://www.washingtonpost.com/technology/2025/02/04/google-ai-policies-weapons-harm</link>
            <guid>42938125</guid>
            <pubDate>Tue, 04 Feb 2025 20:28:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.washingtonpost.com/technology/2025/02/04/google-ai-policies-weapons-harm">https://www.washingtonpost.com/technology/2025/02/04/google-ai-policies-weapons-harm</a>, See on <a href="https://news.ycombinator.com/item?id=42938125">Hacker News</a></p>
Couldn't get https://www.washingtonpost.com/technology/2025/02/04/google-ai-policies-weapons-harm: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Open Deep Research (260 pts)]]></title>
            <link>https://github.com/huggingface/smolagents/tree/main/examples/open_deep_research</link>
            <guid>42937701</guid>
            <pubDate>Tue, 04 Feb 2025 19:55:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/huggingface/smolagents/tree/main/examples/open_deep_research">https://github.com/huggingface/smolagents/tree/main/examples/open_deep_research</a>, See on <a href="https://news.ycombinator.com/item?id=42937701">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
                <ul>
                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_copilot&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_copilot_link_product_navbar&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>GitHub Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;security&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;security_link_product_navbar&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;actions&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;actions_link_product_navbar&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;codespaces&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;codespaces_link_product_navbar&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;issues&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;issues_link_product_navbar&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;code_review&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;code_review_link_product_navbar&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code Review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;discussions&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;discussions_link_product_navbar&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;code_search&quot;,&quot;context&quot;:&quot;product&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;code_search_link_product_navbar&quot;}" href="https://github.com/features/code-search">
      
      <div>
        <p>Code Search</p><p>
        Find more, search less
      </p></div>

    
</a></li>

                </ul>
              </div>
</li>

                  <li>
      
      
</li>

                    <li>
      
      <div>
                    <p><span id="resources-explore-heading">Explore</span></p><ul aria-labelledby="resources-explore-heading">
                    <li>
  <a target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;learning_pathways&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;learning_pathways_link_resources_navbar&quot;}" href="https://resources.github.com/learn/pathways">
      Learning Pathways

    
</a></li>

                    <li>
  <a target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;white_papers_ebooks_webinars&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;white_papers_ebooks_webinars_link_resources_navbar&quot;}" href="https://resources.github.com/">
      White papers, Ebooks, Webinars

    
</a></li>

                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;customer_stories&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;customer_stories_link_resources_navbar&quot;}" href="https://github.com/customer-stories">
      Customer Stories

    
</a></li>

                    <li>
  <a target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;partners&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;partners_link_resources_navbar&quot;}" href="https://partner.github.com/">
      Partners

    
</a></li>

                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;executive_insights&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;executive_insights_link_resources_navbar&quot;}" href="https://github.com/solutions/executive-insights">
      Executive Insights

    
</a></li>

                </ul>
              </div>
</li>


                <li>
      
      <div>
              <div>
                <ul>
                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_sponsors&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_sponsors_link_open_source_navbar&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

                </ul>
              </div>
              <div>
                <ul>
                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;the_readme_project&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;the_readme_project_link_open_source_navbar&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

                </ul>
              </div>
              
          </div>
</li>


                <li>
      
      <div>
                <ul>
                    <li>
  <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;enterprise_platform&quot;,&quot;context&quot;:&quot;enterprise&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;enterprise_platform_link_enterprise_navbar&quot;}" href="https://github.com/enterprise">
      
      <div>
        <p>Enterprise platform</p><p>
        AI-powered developer platform
      </p></div>

    
</a></li>

                </ul>
              </div>
</li>


                <li>
    <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;pricing&quot;,&quot;context&quot;:&quot;global&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;pricing_link_global_navbar&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:huggingface/smolagents" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="OlWCOrXehhJu1lWZXGs1d8GEorvySB0vjgW1X83W0FAjm3x0utqDn296tz3BoArY4ga27afT91tqI5Qh5ueBYw" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="huggingface/smolagents" data-current-org="huggingface" data-current-owner="" data-logged-in="false" data-copilot-chat-enabled="false" data-nl-search-enabled="false" data-retain-scroll-position="true">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
        
    </p>
    
  </div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>


            

              <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&amp;source=header-repo&amp;source_repo=huggingface%2Fsmolagents" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/huggingface/smolagents/tree/main/examples/open_deep_research&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="d9a7861001849a38bc310332a1af0c1e3a513d312e3083a5cf01af486e0ad76d" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>/files/disambiguate;ref_cta:Sign up;ref_loc:header logged out&quot;}">
                Sign up
              </a>
          
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[GitHub reveals how software engineers are purging federal databases (319 pts)]]></title>
            <link>https://www.404media.co/forbidden-words-github-reveals-how-software-engineers-are-purging-federal-databases/</link>
            <guid>42936940</guid>
            <pubDate>Tue, 04 Feb 2025 18:57:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.404media.co/forbidden-words-github-reveals-how-software-engineers-are-purging-federal-databases/">https://www.404media.co/forbidden-words-github-reveals-how-software-engineers-are-purging-federal-databases/</a>, See on <a href="https://news.ycombinator.com/item?id=42936940">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <article>
          <div>
              
<!--kg-card-begin: html-->

<!--kg-card-end: html-->
<p>Code updates to a government database that helps track whether a federal program to get children ready for school at age five is actually working show software engineers are purging it of references to "forbidden words" related to DEI.</p><p>The updates, shown in Github commits, are to a database for the Department of Health and Human Services’ Head Start program. They show a project called “<a href="https://github.com/HHS/Head-Start-TTADP/commit/d33953e0fc267970203a0ef41bb2e81398ca6ab0?ref=404media.co" rel="noreferrer">Remove-DEI</a>,” which reveal some of the back-and-forth that is happening behind the scenes to align federal agencies with Donald Trump’s executive orders that forbid almost anything having to do with race or gender within federal agencies. The Github pages show software engineers discussing amongst themselves how to best remove all instances of “forbidden words” from a specific database, and the code updates they used to do it. The changes also show that, while thousands of government datasets are disappearing from the internet, even ones that remain are having parts of their utility deprecated or broken in a way that may not be visible to those outside the government.</p><p>The <a href="https://headstart.gov/about-us/article/about-office-head-start?ref=404media.co"><u>Office of Head Start</u></a> is a government agency that spends roughly $12 billion per year to get families and children between birth and age five ready to succeed in schools, with a special focus on providing and administering grants to groups that provide assistance for “America’s most vulnerable young children.” Head Start centers <a href="https://www.bostonglobe.com/2025/01/28/nation/trump-administration-federal-loan-freezes-head-start/?ref=404media.co"><u>were briefly impacted by Trump’s spending freeze</u></a>, leading centers to worry about making payroll.&nbsp;</p><div><p>💡</p><p><b><strong>Are you a federal worker or contractor? Using a non-work device, you can message me securely on Signal at +1 202 505 1702. Otherwise, send me an email at jason@404media.co.</strong></b></p></div><p>The changes show that the U.S. government or people working on its behalf are not just manually deleting references to diversity, equity, inclusion, and accessibility (DEIA) but are also writing and tweaking code to remove references to DEI in a more blunt-force way. The HHS change is emblematic of hundreds that 404 Media has reviewed in recent days. At HHS, <a href="https://github.com/HHS/Head-Start-TTADP/commit/d33953e0fc267970203a0ef41bb2e81398ca6ab0?ref=404media.co"><u>a recent GitHub commit details a project called “Remove-DEI”</u></a> which removes the ability to search or filter in this HeadStart for information on how well programs that target “families affected by systemic discrimination/bias/exclusion” are actually working.</p><figure><img src="https://lh7-rt.googleusercontent.com/docsz/AD_4nXcqs7UXF9EityELzqdLcrdtuPccHz64sHuuA6fm7SIt1m0BFTodYeZa56GT_nvgjj4i2Y-5ahBio3QFsBzZxlBecbZj8ydMksMmCrY8UXpSmiyq2q-BeX5Tt8H2_Ki6eRIEIxU1lA?key=9E_FxAaqIDclYDl4qbe7sBBT" alt="" loading="lazy" width="624" height="335"></figure><p>The changes—which are among at least hundreds across the federal government—come to a database operated by the HHS’ <a href="https://headstart.gov/about-us/article/training-technical-assistance-centers?ref=404media.co"><u>Office of Head Start’s Training and Technical Assistance Centers</u></a>.&nbsp;</p><figure><img src="https://www.404media.co/content/images/2025/02/AD_4nXeh6duPlnu6-N9GWQTrASqaOiXa4ipR76owojeMAyE43eprVrLmHbsQRNrpcvCFjuMhPgWZ-ImCeBwkUohr06NFS9tZSfPpXvKqTksctOqYiX_WcGyNbXreBPF4V-pd6PzoWjw4.png" alt="" loading="lazy" width="1600" height="1480" srcset="https://www.404media.co/content/images/size/w600/2025/02/AD_4nXeh6duPlnu6-N9GWQTrASqaOiXa4ipR76owojeMAyE43eprVrLmHbsQRNrpcvCFjuMhPgWZ-ImCeBwkUohr06NFS9tZSfPpXvKqTksctOqYiX_WcGyNbXreBPF4V-pd6PzoWjw4.png 600w, https://www.404media.co/content/images/size/w1000/2025/02/AD_4nXeh6duPlnu6-N9GWQTrASqaOiXa4ipR76owojeMAyE43eprVrLmHbsQRNrpcvCFjuMhPgWZ-ImCeBwkUohr06NFS9tZSfPpXvKqTksctOqYiX_WcGyNbXreBPF4V-pd6PzoWjw4.png 1000w, https://www.404media.co/content/images/2025/02/AD_4nXeh6duPlnu6-N9GWQTrASqaOiXa4ipR76owojeMAyE43eprVrLmHbsQRNrpcvCFjuMhPgWZ-ImCeBwkUohr06NFS9tZSfPpXvKqTksctOqYiX_WcGyNbXreBPF4V-pd6PzoWjw4.png 1600w"></figure><p>This specific database is behind a government login wall, but allows government employees to search for information about grants and programs that had a focus on “Equity” and had a target population of “Children/Families affected by systematic discrimination/bias/exclusion.”&nbsp;</p><p>Code in the database was tweaked to remove the ability to search or filter according to these terms. A description of the change explained on Github reads “Review the option for equity: Removal of the equity topic from the topic drop down, removal of the equity topic from all filters, Removal of the DEIA standard goal, ‘Families affected by systemic discrimination/bias/exclusion’ removes as a target population.”&nbsp;</p><p>The coder also explains that they tweaked how topics are filtered in the database as a way of “making sure that when we mark a topic as deleted, it is removed from all the relevant places.”&nbsp;</p><p>The coder asked their colleagues to “confirm equity has been removed from the places above. I ask also that you scan the website for other places where we need to remove the forbidden words.” The code was written by employees at a company called Ad Hoc LLC, a government contractor that works with HHS on the database. Ad Hoc is being <a href="https://www.usaspending.gov/award/CONT_AWD_75ACF124F80009_7590_GS35F392DA_4732?ref=404media.co"><u>paid $7.2 million to manage the database</u></a>, according to federal records.</p><p>Ad Hoc was created in the aftermath of the HealthCare.gov launch debacle, and describes itself as “a digital services company that helps the federal government better serve people.” Ad Hoc declined to comment. </p><p>HHS told 404 Media that it is not allowed to comment: "HHS has issued a pause on mass communications and public appearances that are not directly related to emergencies or critical to preserving health. This is a short pause to allow the new team to set up a process for review and prioritization. There are exceptions for announcements that HHS divisions believe are mission critical, but they will be made on a case-by-case basis.”</p><figure><a href="https://www.404media.co/archivists-work-to-identify-and-save-the-thousands-of-datasets-disappearing-from-data-gov/"><div><p>Archivists Work to Identify and Save the Thousands of Datasets Disappearing From Data.gov</p><p>More than 2,000 datasets have disappeared from data.gov since Trump was inaugurated. But analyzing exactly what happened and where it went is going to take some time.</p><p><img src="https://www.404media.co/content/images/icon/favicon-3-34.svg" alt=""><span>Jason Koebler</span></p></div><p><img src="https://www.404media.co/content/images/thumbnail/CleanShot-2025-01-30-at-10.07.19@2x.png" alt="" onerror="this.style.display = 'none'"></p></a></figure><p>The tweak is one of hundreds that have been revealed across government via Github’s commit tracking, which shows version <a href="https://www.404media.co/trump-admin-deletes-video-explaining-grammatical-concept-of-pronouns-in-war-against-dei/"><u>changes to code, websites, and other projects</u></a> managed on the site. It also gives insight into how the hundreds of websites and datasets <a href="https://www.404media.co/the-cdcs-website-is-being-actively-purged-to-comply-with-trump-dei-order/"><u>being deleted are actually being purged</u></a>. <em>WIRED</em> <a href="https://www.wired.com/story/pronouns-removed-government-email-signatures/?ref=404media.co"><u>reported earlier Monday</u></a> that the federal government is now using scripts to forcibly remove gender pronouns from federal employee email signatures.</p>
<!--kg-card-begin: html-->

<!--kg-card-end: html-->

          </div>
        </article>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How to scale your model: A systems view of LLMs on TPUs (162 pts)]]></title>
            <link>https://jax-ml.github.io/scaling-book/</link>
            <guid>42936910</guid>
            <pubDate>Tue, 04 Feb 2025 18:56:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jax-ml.github.io/scaling-book/">https://jax-ml.github.io/scaling-book/</a>, See on <a href="https://news.ycombinator.com/item?id=42936910">Hacker News</a></p>
<div id="readability-page-1" class="page"><div> <d-contents> <nav> <h3>Contents</h3>   </nav> </d-contents> <figure> <picture> <source srcset="https://jax-ml.github.io/scaling-book/assets/img/dragon-480.webp 480w,https://jax-ml.github.io/scaling-book/assets/img/dragon-800.webp 800w,https://jax-ml.github.io/scaling-book/assets/img/dragon-1400.webp 1400w," type="image/webp" sizes="95vw"> <img src="https://jax-ml.github.io/scaling-book/assets/img/dragon.png" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>Much of deep learning still boils down to alchemy, but understanding and optimizing the performance of your models doesn’t have to — even at huge scale! Relatively simple principles apply everywhere — from dealing with a single accelerator to tens of thousands — and understanding them lets you do many useful things:</p> <ul> <li>Ballpark how close parts of your model are to their theoretical optimum.</li> <li>Make informed choices about different parallelism schemes at different scales (how you split the computation across multiple devices).</li> <li>Estimate the cost and time required to train and run large Transformer models.</li> <li>Design algorithms that take advantage of <a href="https://arxiv.org/abs/2205.14135" rel="external nofollow noopener" target="_blank">specific</a> <a href="https://arxiv.org/abs/1911.02150" rel="external nofollow noopener" target="_blank">hardware</a> <a href="https://arxiv.org/abs/2007.00072" rel="external nofollow noopener" target="_blank">affordances</a>.</li> <li>Design hardware driven by an explicit understanding of what limits current algorithm performance.</li> </ul> <p><strong>Expected background:</strong> We’re going to assume you have a basic understanding of LLMs and the Transformer architecture but not necessarily how they operate at scale. You should know the basics of LLM training and ideally have some basic familiarity with JAX. Some useful background reading might include <a href="https://jalammar.github.io/illustrated-transformer/" rel="external nofollow noopener" target="_blank">this blog post</a> on the Transformer architecture and <a href="https://github.com/rwitten/HighPerfLLMs2024" rel="external nofollow noopener" target="_blank">these excellent slides</a> on LLM scaling in JAX.</p> <p><strong>Goals &amp; Feedback:</strong> By the end, you should feel comfortable estimating the best parallelism scheme for a Transformer model on a given hardware platform, and roughly how long training and inference should take. If you don’t, message us! We’d love to know how we could make this clearer.</p> <h3 id="why-should-you-care">Why should you care?</h3> <p>Three or four years ago, I don’t think most ML researchers would have needed to understand any of this. But today even “small” models run so close to hardware limits that doing novel research requires you to think about efficiency at scale.<d-footnote>Historically, ML research has followed something of a tick-tock cycle between systems innovations and software improvements. Alex Krizhevsky had to write unholy CUDA code to make CNNs fast but within a couple years, libraries like Theano and TensorFlow meant you didn't have to. Maybe that will happen here too and everything in this book will be abstracted away in a few years. But scaling laws have pushed our models perpetually to the very frontier of our hardware, and it seems likely that, in the near future, doing cutting edge research will be inextricably tied to an understanding of how to efficiently scale models to large hardware topologies.</d-footnote> <strong>A 20% win on benchmarks is irrelevant if it comes at a 20% cost to roofline efficiency.</strong> Promising model architectures routinely fail either because they <em>can’t</em> run efficiently at scale or because no one puts in the work to make them do so.</p> <p><strong>The goal of “model scaling” is to be able to increase the number of chips used for training or inference while achieving a proportional, linear increase in throughput.</strong> This is known as “<em>strong scaling</em>”. Although adding additional chips (“parallelism”) usually decreases the computation time, it also comes at the cost of added communication between chips. When communication takes longer than computation we become “communication bound” and cannot scale strongly.<d-footnote>As your computation time decreases, you also typically face bottlenecks at the level of a single chip. Your shiny new TPU or GPU may be rated to perform 500 trillion operations-per-second, but if you aren't careful it can just as easily do a tenth of that if it's bogged down moving parameters around in memory. The interplay of per-chip computation, memory bandwidth, and total memory is critical to the scaling story.</d-footnote> If we understand our hardware well enough to anticipate where these bottlenecks will arise, we can design or reconfigure our models to avoid them.<d-footnote>Hardware designers face the inverse problem: building hardware that provides just enough compute, bandwidth, and memory for our algorithms while minimizing cost. You can imagine how stressful this "co-design" problem is: you have to bet on what algorithms will look like when the first chips actually become available, often 2 to 3 years down the road. The story of the TPU is a resounding success in this game. Matrix multiplication is a unique algorithm in the sense that it uses far more FLOPs per byte of memory than almost any other (N FLOPs per byte), and early TPUs and their systolic array architecture achieved far better perf / $ than GPUs did at the time they were built. TPUs were designed for ML workloads, and GPUs with their TensorCores are rapidly changing to fill this niche as well. But you can imagine how costly it would have been if neural networks had not taken off, or had changed in some fundamental way that TPUs (which are inherently less flexible than GPUs) could not handle.</d-footnote></p> <p><em>Our goal in this book is to explain how TPU (and GPU) hardware works and how the Transformer architecture has evolved to perform well on current hardware. We hope this will be useful both for researchers designing new architectures and for engineers working to make the current generation of LLMs run fast.</em></p> <h2 id="high-level-outline">High-Level Outline</h2> <p>The overall structure of this book is as follows:</p> <p><a href="https://jax-ml.github.io/scaling-book/roofline">Section 1</a> explains roofline analysis and what factors can limit our ability to scale (communication, computation, and memory). <a href="https://jax-ml.github.io/scaling-book/tpus">Section 2</a> and <a href="https://jax-ml.github.io/scaling-book/sharding">Section 3</a> talk in detail about how TPUs and modern GPUs work, both as individual chips and — of critical importance — as an interconnected system with inter-chip links of limited bandwidth and latency. We’ll answer questions like:</p> <ul> <li>How long should a matrix multiply of a certain size take? At what point is it bound by compute or by memory or communication bandwidth?</li> <li>How are TPUs wired together to form training clusters? How much bandwidth does each part of the system have?</li> <li>How long does it take to gather, scatter, or re-distribute arrays across multiple TPUs?</li> <li>How do we efficiently multiply matrices that are distributed differently across devices?</li> </ul> <figure> <picture> <source srcset="https://jax-ml.github.io/scaling-book/assets/img/pointwise-product-480.webp 480w,https://jax-ml.github.io/scaling-book/assets/img/pointwise-product-800.webp 800w,https://jax-ml.github.io/scaling-book/assets/img/pointwise-product-1400.webp 1400w," type="image/webp" sizes="95vw"> <img src="https://jax-ml.github.io/scaling-book/assets/img/pointwise-product.gif" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption><b>Figure:</b> a diagram from <a href="https://jax-ml.github.io/scaling-book/tpus">Section 2</a> showing how a TPU performs an elementwise product. Depending on the size of our arrays and the bandwidth of various links, we can find ourselves compute-bound (using the full hardware compute capacity) or comms-bound (bottlenecked by memory loading).</figcaption> </figure> <p>Five years ago ML had a colorful landscape of architectures — ConvNets, LSTMs, MLPs, Transformers — but now we mostly just have the Transformer<d-cite key="transformers"></d-cite>. We strongly believe it’s worth understanding every piece of the Transformer architecture: the exact sizes of every matrix, where normalization occurs, how many parameters and FLOPs<d-footnote>FLoating point OPs, basically the total number of adds and multiplies required. While many sources take FLOPs to mean "operations per second", we use FLOPs/s to indicate that explicitly.</d-footnote> are in each part. <a href="https://jax-ml.github.io/scaling-book/transformers">Section 4</a> goes through this “Transformer math” carefully, showing how to count the parameters and FLOPs for both training and inference. This tells us how much memory our model will use, how much time we’ll spend on compute or comms, and when attention will become important relative to the feed-forward blocks.</p> <figure> <picture> <source srcset="https://jax-ml.github.io/scaling-book/assets/img/transformer-diagram-480.webp 480w,https://jax-ml.github.io/scaling-book/assets/img/transformer-diagram-800.webp 800w,https://jax-ml.github.io/scaling-book/assets/img/transformer-diagram-1400.webp 1400w," type="image/webp" sizes="95vw"> <img src="https://jax-ml.github.io/scaling-book/assets/img/transformer-diagram.png" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> <figcaption><b>Figure:</b> a standard Transformer layer with each matrix multiplication (matmul) shown as a dot inside a circle. All parameters (excluding norms) are shown in purple. <a href="https://jax-ml.github.io/scaling-book/transformers">Section 4</a> walks through this diagram in more detail.</figcaption> </figure> <p><a href="https://jax-ml.github.io/scaling-book/training">Section 5: Training</a> and <a href="https://jax-ml.github.io/scaling-book/inference">Section 7: Inference</a> are the core of this essay, where we discuss the fundamental question: given a model of some size and some number of chips, how do I parallelize my model to stay in the “strong scaling” regime? This is a simple question with a surprisingly complicated answer. At a high level, there are 4 primary parallelism techniques used to split models over multiple chips (<strong>data</strong>, <strong>tensor</strong>, <strong>pipeline</strong> and <strong>expert</strong>), and a number of other techniques to reduce the memory requirements (<strong>rematerialisation</strong>, <strong>optimizer/model sharding (aka ZeRO)</strong>, <strong>host offload</strong>, <strong>gradient accumulation</strong>). We discuss many of these here.</p> <p>We hope by the end of these sections you should be able to choose among them yourself for new architectures or settings. <a href="https://jax-ml.github.io/scaling-book/applied-training">Section 6</a> and <a href="https://jax-ml.github.io/scaling-book/applied-inference">Section 8</a> are practical tutorials that apply these concepts to LLaMA-3, a popular open-source model.</p> <p>Finally, <a href="https://jax-ml.github.io/scaling-book/profiling">Section 9</a> and <a href="https://jax-ml.github.io/scaling-book/jax-stuff">Section 10</a> look at how to implement some of these ideas in JAX and how to profile and debug your code when things go wrong.</p> <p>Throughout we try to give you problems to work for yourself. Please feel no pressure to read all the sections or read them in order. And please leave feedback. For the time being, this is a draft and will continue to be revised. Thank you!</p> <p><em>We’d like to acknowledge James Bradbury and Blake Hechtman who derived many of the ideas in this doc.</em></p> <h3>Without further ado, <a href="https://jax-ml.github.io/scaling-book/roofline">here is Section 1</a> about TPU rooflines.</h3> <h2 id="links-to-sections">Links to Sections</h2> <p><em>This series is probably longer than it needs to be, but we hope that won’t deter you. The first three chapters are preliminaries and can be skipped if familiar, although they introduce notation used later. The final three parts might be the most practically useful, since they explain how to work with real models.</em></p> <p><strong>Part 1: Preliminaries</strong></p> <ul> <li> <p><a href="https://jax-ml.github.io/scaling-book/roofline"><strong>Chapter 1: A Brief Intro to Roofline Analysis</strong></a>. Algorithms are bounded by three things: compute, communication, and memory. We can use these to approximate how fast our algorithms will run.</p> </li> <li> <p><a href="https://jax-ml.github.io/scaling-book/tpus"><strong>Chapter 2: How to Think About TPUs</strong></a>. How do TPUs work? How does that affect what models we can train and serve?</p> </li> <li> <p><a href="https://jax-ml.github.io/scaling-book/sharding"><strong>Chapter 3: Sharded Matrices and How to Multiply Them</strong></a>. Here we explain model sharding and multi-TPU parallelism by way of our favorite operation: (sharded) matrix multiplications.</p> </li> </ul> <p><strong>Part 2: Transformers</strong></p> <ul> <li> <p><a href="https://jax-ml.github.io/scaling-book/transformers"><strong>Chapter 4: All the Transformer Math You Need to Know</strong></a>. How many FLOPs does a Transformer use in its forward and backwards pass? Can you calculate the number of parameters? The size of its KV caches? We work through this math here.</p> </li> <li> <p><a href="https://jax-ml.github.io/scaling-book/training"><strong>Chapter 5: How to Parallelize a Transformer for Training</strong></a>. FSDP. Megatron sharding. Pipeline parallelism. Given some number of chips, how do I train a model of a given size with a given batch size as efficiently as possible?</p> </li> <li> <p><a href="https://jax-ml.github.io/scaling-book/applied-training"><strong>Chapter 6: Training LLaMA 3 on TPUs</strong></a>. How would we train LLaMA 3 on TPUs? How long would it take? How much would it cost?</p> </li> <li> <p><a href="https://jax-ml.github.io/scaling-book/inference"><strong>Chapter 7: All About Transformer Inference</strong></a>. Once we’ve trained a model, we have to serve it. Inference adds a new consideration —&nbsp;latency — and changes up the memory landscape. We’ll talk about how disaggregated serving works and how to think about KV caches.</p> </li> <li> <p><a href="https://jax-ml.github.io/scaling-book/applied-inference"><strong>Chapter 8: Serving LLaMA 3 on TPUs</strong></a>. How much would it cost to serve LLaMA 3 on TPU v5e? What are the latency/throughput tradeoffs?</p> </li> </ul> <p><strong>Part 3: Practical Tutorials</strong></p> <ul> <li> <p><a href="https://jax-ml.github.io/scaling-book/profiling"><strong>Chapter 9: How to Profile TPU Code</strong></a>. Real LLMs are never as simple as the theory above. Here we explain the JAX + XLA stack and how to use the JAX/TensorBoard profiler to debug and fix real issues.</p> </li> <li> <p><a href="https://jax-ml.github.io/scaling-book/jax-stuff"><strong>Chapter 10: Programming TPUs in JAX</strong></a>. JAX provides a bunch of magical APIs for parallelizing computation, but you need to know how to use them. Fun examples and worked problems.</p> </li> <li> <p><a href="https://jax-ml.github.io/scaling-book/conclusion"><strong>Chapter 11: Conclusions and Further Reading</strong></a>. Closing thoughts and further reading on TPUs and LLMs.</p> </li> </ul> </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[WikiTok (981 pts)]]></title>
            <link>https://wikitok.vercel.app/</link>
            <guid>42936723</guid>
            <pubDate>Tue, 04 Feb 2025 18:40:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://wikitok.vercel.app/">https://wikitok.vercel.app/</a>, See on <a href="https://news.ycombinator.com/item?id=42936723">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Onlookers freak out as 25-year-old set loose on Treasury computer system (101 pts)]]></title>
            <link>https://www.rawstory.com/musk-treasury-doge/</link>
            <guid>42936421</guid>
            <pubDate>Tue, 04 Feb 2025 18:18:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.rawstory.com/musk-treasury-doge/">https://www.rawstory.com/musk-treasury-doge/</a>, See on <a href="https://news.ycombinator.com/item?id=42936421">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>
        SpaceX owner and Tesla CEO Elon Musk grimaces after arriving on the red carpet for the Axel Springer award, in Berlin, Germany, December 1, 2020. REUTERS/Hannibal Hanschke
    </p><div data-headline="'Go haywire': Onlookers freak out as 25-year-old set loose on Treasury computer system"><p>A 25-year-old engineer tied to Elon Musk has been given full control over the computer code that <a href="https://www.rawstory.com/trump-leon-musk-treasury/" target="_blank">directs</a> Social Security payments, tax returns and other payments owed to Americans — and sources inside the Treasury Department are freaking out and don't know where to turn for help.</p><p>Marko Elez, who previously worked for two <a href="https://www.wired.com/story/elon-musk-government-young-engineers/" target="_blank">Musk companies</a>, has been granted "read-and-write" access to Treasury Department systems responsible for nearly all payments made by the <a href="https://www.wired.com/story/elon-musk-lieutenant-gsa-ai-agency/" rel="noopener noreferrer" target="_blank">U.S. government</a>, three sources told WIRED, giving him the ability to write code on the highly sensitive Payment Automation Manager and Secure Payment System at the Bureau of the Fiscal Service. </p><p>“You could do anything with these privileges,” said one source with knowledge of the system, adding that there's no conceivable reason to grant Elez the ability to change code for the purposes of rooting out fraudulent payments or analyzing disbursement flow.</p><p>Those admin privileges would give users the ability to bypass security measures and potentially make irreversible changes to those systems, which researcher Nathan Tankus said was extremely complex and could easily be disrupted by someone who didn't know what they're doing — which he said Elez almost certainly would not.</p><p>"There is specific code which tells you where to direct specific payments in specific ways and the structures, and why they are structured the way they are, require deep contextual knowledge," Tankus <a href="https://www.crisesnotes.com/day-five-of-the-trump-musk-treasury-payments-crisis-of-2025-not-read-only-access-anymore/" target="_blank">wrote</a> at his Crises Notes website. "This is 'business logic.' The entire issue with COBOL and why it has been such a struggle to maintain it is that COBOL systems (both private and public) developed for decades with very little documentation, have a million different path dependent coding choices."</p><p>ALSO READ: <strong><a href="https://www.rawstory.com/raw-investigates/solomon-henderson-natalie-rupnow/" rel="noopener noreferrer" target="_self">'Driven to self-loathing': Inside the extremist website believed to 'groom' teen attackers</a></strong></p><p>A source told Wired they're worried that data could be passed to operatives working for the so-called <a href="https://www.wired.com/story/doge-elon-musk/" target="_blank">Department of Government Efficiency</a> within the General Services Administration, which has been infiltrated with Musk allies who have attempted to gain access to that agency's technology.</p><p>"Technically I don't see why this couldn't happen," a federal IT worker told WIRED. "If you would have asked me a week ago, I'd have told you that this kind of thing would never in a million years happen. But now, who the f--k knows?"</p><p>Elez graduated in 2021 from Rutgers University and has worked for Musk at SpaceX and then X, focusing at those stops on vehicle telemetry, starship software, satellite software and search AI. Talking Points Memo founder Josh Marshall reported that sources say he's already rewriting code at the Bureau of the Fiscal Service.</p><p>"Not only does Marko [Elez] have full privileges in this system but has indeed begun rewriting the code base of this critical system, significantly rewriting the software for this critical system," Marshall <a href="https://bsky.app/profile/joshtpm.bsky.social/post/3lhdxl4ehi226" target="_blank">reported</a>.</p><p>"I was talking to staffers to today detailing one of the gizmocrats who is largely on his own rewriting the code base of one of the U.S. government's most mission critical computer systems," Marshall reported Monday night, before confirming Elez's name. "And as it was described to me the staff programmers who used to manage that code and system are sort of like helping him because they’re so terrified that he’s going to go haywire, but also begging him to be careful etc. </p><p>"Meanwhile they only know this guy as 'Fred' (I’ve substituted a different name for now). So you’ve this crazy situation and in addition to all the other absurdity of the situation as they try to help or beg 'Fred' to be careful they’re don’t even know who 'Fred' actually is, as in a last name, or whether 'Fred' is even his name. That’s what happening right now in your federal government."</p><p>Tankus said he's been hearing from sources inside the agency who feel there's no one left in the federal government to whom they can report security breaches.</p><p>"I do not wish to harm my agency in any way – I loved working here," one source told the researcher. "We did some of the most important work in the country and barely anyone knew who we were. In normal times, I would report insider threats to the appropriate security channels inside the government, but there is no one left for me to report it to."</p><p>Tankus reported that he has also confirmed that Elez has the ability to write new code in the bureau's systems, and sources told him that "IT leadership" was hesitant to give him access but eventually and reluctantly granted those privileges.</p><p>“This level of unchecked access is critically dangerous to the economy and the government," current IT employee of the Bureau of the Fiscal Service told him.</p><p>Tankus replied that giving the Musk ally write access was "terrifying," and the employee said it was worse than catastrophic.</p><p>“Yeah it's not good," that bureau source said. "Read privileges on its own still would have left room for catastrophe, but read and write is apocalyptic.”</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[TikTok's algorithm exhibited pro-Republican bias during 2024 presidential race (135 pts)]]></title>
            <link>https://www.psypost.org/tiktoks-algorithm-exhibited-pro-republican-bias-during-2024-presidential-race-study-finds/</link>
            <guid>42936002</guid>
            <pubDate>Tue, 04 Feb 2025 17:51:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.psypost.org/tiktoks-algorithm-exhibited-pro-republican-bias-during-2024-presidential-race-study-finds/">https://www.psypost.org/tiktoks-algorithm-exhibited-pro-republican-bias-during-2024-presidential-race-study-finds/</a>, See on <a href="https://news.ycombinator.com/item?id=42936002">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>TikTok, a widely used social media platform with over a billion active users worldwide, has become a key source of news, particularly for younger audiences. This growing influence has raised concerns about potential political biases in its recommendation algorithm, especially during election cycles. A <a href="https://arxiv.org/abs/2501.17831">recent preprint study</a> examined this issue by analyzing how TikTok’s algorithm recommends political content ahead of the 2024 presidential election. Using a controlled experiment involving hundreds of simulated user accounts, the study found that Republican-leaning accounts received significantly more ideologically aligned content than Democratic-leaning accounts, while Democratic-leaning accounts were more frequently exposed to opposing viewpoints.</p><p>TikTok has become a major force among social media platforms, boasting over a billion monthly active users worldwide and 170 million in the United States. It has also emerged as a significant source of news, particularly for younger demographics. This has raised concerns about the platform’s <a href="https://www.psypost.org/algorithmic-manipulation-tiktok-use-predicts-positive-views-of-chinas-human-rights-record/">potential to shape political narratives</a> and influence elections.</p><p>Despite these concerns, there has been limited research investigating <a href="https://www.psypost.org/does-tiktok-really-cause-brain-rot-new-study-links-short-video-addiction-to-brain-abnormalities/">TikTok</a>‘s recommendation algorithm for political biases, especially in comparison to extensive research on other social media platforms like Facebook, Instagram, YouTube, X (formerly Twitter), and Reddit.</p><p>“We previously conducted experiments auditing YouTube’s recommendation algorithms. This study published at <a href="https://academic.oup.com/pnasnexus/article/2/8/pgad264/7242446"><em>PNAS Nexus</em></a> demonstrated that the algorithm <a href="https://www.psypost.org/youtubes-recommendation-system-exhibits-left-leaning-bias-new-study-suggests/">exhibited a left-leaning bias</a> in the United States,” said <a href="https://yasirzaki.net/">Yasir Zaki</a>, an assistant professor of computer science at New York University Abu Dhabi.</p><p>“Given TikTok’s widespread popularity—particularly among younger demographics—we sought to replicate this study on TikTok during the 2024 U.S. presidential elections. Another motivation was the concerns over TikTok’s Chinese ownership led many U.S. politicians to advocate for banning the platform, citing fears that its recommendation algorithm could be used to promote a political agenda.”</p><p>To examine how TikTok’s algorithm recommends political content, the researchers designed an extensive audit experiment. They created 323 “sock puppet” accounts—fake accounts programmed to simulate user behavior—across three politically diverse states: Texas, New York, and Georgia. Each account was assigned a political leaning: Democratic, Republican, or neutral (the control group).</p><p>The experiment consisted of two stages: a conditioning stage and a recommendation stage. In the conditioning stage, the Democratic accounts watched up to 400 Democratic-aligned videos, and the Republican accounts watched up to 400 Republican-aligned videos. Neutral accounts skipped this stage. This was done to “teach” TikTok’s algorithm the political preferences of each account.</p><p>In the recommendation stage, all accounts watched videos on TikTok’s “For You” page, which is the platform’s main feed of recommended content. The accounts watched 10 videos, followed by a one-hour pause, and repeated this process for six days. Each experimental run lasted one week. The researchers collected data on approximately 394,000 videos viewed by these accounts between April 30th and November 11th, 2024.</p><p>To analyze the political content of the recommended videos, the researchers downloaded the English transcripts of videos when available (22.8% of unique videos). They then used a system involving three large language models—GPT-4o, Gemini-Pro, and GPT-4—to classify each video. The language models answered questions about whether the video was political, whether it concerned the 2024 U.S. elections or major political figures, and what the ideological stance of the video was (pro-Democratic, anti-Democratic, pro-Republican, anti-Republican, or neutral). The majority vote of the three language models was used as the final classification for each question.</p><p>The analysis uncovered significant asymmetries in content distribution on TikTok. Republican-seeded accounts received approximately 11.8% more party-aligned recommendations compared to Democratic-seeded accounts. Democratic-seeded accounts were exposed to approximately 7.5% more opposite-party recommendations on average. These differences were consistent across all three states and could not be explained by differences in engagement metrics like likes, views, shares, comments, or followers.</p><p>“We found that TikTok’s recommendation algorithm was not neutral during the 2024 U.S. presidential elections,” explained <a href="https://www.trahwan.com/">Talal Rahwan</a>, an associate professor of computer science at New York University Abu Dhabi. “Across all three states analyzed in our study, the platform consistently promoted more Republican-leaning content. We showed that this bias cannot be explained by factors such as video popularity and engagement metrics—key variables that typically influence recommendation algorithms.”</p><p>Further analysis showed that the bias was primarily driven by negative partisanship content, meaning content that criticizes the opposing party rather than promoting one’s own party. Both Democratic- and Republican-conditioned accounts were recommended more negative partisan content, but this was more pronounced for Republican accounts. Negative-partisanship videos were 1.78 times more likely to be recommended as an ideological mismatch relative to positive-partisanship ones.</p><p>“We observed a bias toward negative partisanship in TikTok’s recommendations,” Zaki noted. “Regardless of the political party—Democratic or Republican—the algorithm prioritized content that criticized the opposing party over content that promoted one’s own party.”</p><p>The researchers also examined the top Democratic and Republican channels on TikTok by follower count. Republican channels had a significantly higher mismatch proportion, meaning their videos were more likely to be recommended to accounts with an opposite political leaning. Notably, videos from Donald Trump’s official TikTok channel were recommended to Democratic-conditioned accounts nearly 27% of the time, while Kamala Harris’s videos were recommended to Republican-conditioned accounts only 15.3% of the time.</p><p>Finally, the researchers analyzed the topics covered in partisan videos. Topics stereotypically associated with the Democratic party, like climate change and abortion, were more frequently covered by Democratic-aligned videos. Topics like immigration, foreign policy, and the Ukraine war were more frequently covered by Republican-aligned videos. Videos on immigration, crime, the Gaza conflict, and foreign policy were most likely to be recommended as ideological mismatches to Democratic-conditioned accounts.</p><p>To build on this work, future research could explore how TikTok’s algorithm behaves across different election cycles, investigate how misinformation is distributed within partisan content, and compare TikTok’s political content recommendations with those of other major platforms. Additionally, studies incorporating real user data alongside automated experiments could provide a more comprehensive understanding of how individuals experience political content on TikTok. Given the platform’s growing role in shaping public discourse, continued scrutiny of its recommendation system will be essential for assessing its impact on political knowledge and voter decision-making.</p><p>“We want to address fundamental questions about the neutrality of social media platforms,” Rahwan said.</p><p>The study, “<a href="https://arxiv.org/html/2501.17831v1">TikTok’s recommendations skewed towards Republican content during the 2024 U.S. presidential race</a>,” was authored by Hazem Ibrahim, HyunSeok Daniel Jang, Nouar Aldahoul, Aaron R. Kaufman, Talal Rahwan, and Yasir Zaki.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How Spotify Killed Lo-Fi Hip Hop (147 pts)]]></title>
            <link>https://gamechops.substack.com/p/how-spotify-killed-lo-fi-hip-hop</link>
            <guid>42935741</guid>
            <pubDate>Tue, 04 Feb 2025 17:35:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gamechops.substack.com/p/how-spotify-killed-lo-fi-hip-hop">https://gamechops.substack.com/p/how-spotify-killed-lo-fi-hip-hop</a>, See on <a href="https://news.ycombinator.com/item?id=42935741">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p>Lofi Hip Hop is an immensely popular style of music that exploded organically online beginning in the mid 2010s. But like all things in music, when too many folks jump on the bandwagon, it starts to slow down.</p><p>Like an old-fashioned highway robbery, once the bandwagon slows enough, it’s ripe for pillaging — in this case, by bloated corporations slinging AI-generated slop and stock music.</p><p>Lofi tracks dominate YouTube livestreams and Spotify playlists for listeners of all ages. They’ve been heralded as a cure-all for unfocused students and workers looking to boost their productivity. Lofi has become a mainstay in households and headphones around the world.</p><p><strong>But it’s also a critical vein of support for independent musicians.</strong></p><p>Lofi created unprecedented opportunity for bedroom musicians and music producers. Its streamlined format and accessible sound offered a stark contrast to the hyper polished pop and dance music that had dominated the 2000s and 2010s.</p><p>The Lofi style itself is nothing new, Lofi beats bear a striking resemblance to instrumental hip hop of the 90s and 2000s.</p><p><strong>How a late night cartoon planted the seeds of Lofi Hip Hop</strong></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png" width="1456" height="819" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:819,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Two samurai in high contrast animation, set against a red sun in a field of swords&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="Two samurai in high contrast animation, set against a red sun in a field of swords" title="Two samurai in high contrast animation, set against a red sun in a field of swords" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba2c9570-b2a3-43be-b039-4bceb81840e3_1600x900.png 1456w" sizes="100vw" fetchpriority="high"></picture></div></a></figure></div><p>The 2004 anime Samurai Champloo, was the first exposure many young musicians had to instrumental hip hop beats. For Japanese soundtrack producer Nujabes, the “lofi” sound wasn’t an aesthetic choice. It was an artifact of creating such forward thinking music with the dusty equipment from 20 years ago.</p><p>With today’s music technology, creating a pristine polished beat is much easier. In contrast, Lofi musicians take inspiration from Nujabes’ recordings by deliberately dirtying up their beats and productions, as if they were created on the limited hardware of bygone days.</p><p>As listeners began to burn out from the hard-hitting EDM of the Dubstep era, Lofi Hip Hop became the perfect respite: A chilled out, upbeat style of music roughly half the tempo of the dance music that preceded it.</p><p>Suddenly, you didn’t have to have hyper polished vocals, impeccable recordings, or meticulously edited synth lines to create a song that would attract thousands or millions of listeners.</p><p><strong>Bedroom producers now had an advantage.</strong></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png" width="956" height="780" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:780,&quot;width&quot;:956,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Lofi producer Wish on the Beat records a guitar line for one of her productions&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="Lofi producer Wish on the Beat records a guitar line for one of her productions" title="Lofi producer Wish on the Beat records a guitar line for one of her productions" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F05d65d78-c733-4e6c-af1b-d113d572b372_956x780.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Wish on the Beat recording a guitar line for one of her productions</figcaption></figure></div><p>They could play whatever instrument they knew, set it to a mellow drum beat, and surround it with a modest production. Add a dose of vinyl noise or a foley track recorded outside their apartment, and voila, you had a lofi hip hop track.</p><p><span>YouTube channels like </span><em>Chilled Cow</em><span>, later rebranded </span><a href="https://www.youtube.com/@LofiGirl" rel="">Lofi Girl</a><span>, began cropping up online. Albums like </span><a href="https://youtu.be/GdzrrWA8e7A?si=lKbCDXWcwbWhMeJs" rel="">Zelda &amp; Chill</a><span> ushered in a wave of Lofi cover songs. But as more and more people began to gravitate to the Lofi sound, streaming platforms themselves wanted in on the action</span></p><p><strong>Enter Corporate Interests and Artificial Intelligence</strong></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png" width="1280" height="720" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:720,&quot;width&quot;:1280,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;The Terminator, a killer robot from the film Terminator 2&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="The Terminator, a killer robot from the film Terminator 2" title="The Terminator, a killer robot from the film Terminator 2" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F47056749-607c-405d-a7cb-06bd7fd3ce99_1280x720.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>If you haven’t read the incredible exposé “</span><a href="https://harpers.org/archive/2025/01/the-ghosts-in-the-machine-liz-pelly-spotify-musicians/" rel="">The Ghosts In The Machine</a><span>” by Liz Pelly, it’s an in-depth investigation of the nefarious efforts of Spotify to dilute its royalty pool for the sake of profit.</span></p><p><span>By flooding its once converted editorial playlists with hastily-assembled royalty-free music and AI generated slop, </span><strong>Spotify was able to quietly displace real artists</strong><span> to make more money for itself. According to Pelly, Spotify targeted a number of passively-consumed genres, including Lofi, to quietly replace with lower cost music.</span></p><p>If you look at these key playlists like “Lofi Beats,” which boasts over 5 million saves, you’ll notice a huge percentage of artists have no bio, generic artwork, and forgettable songs.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png" width="957" height="540" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:540,&quot;width&quot;:957,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5c393f1d-191f-4ec8-9acc-b8ab71206279_957x540.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>For an old musician like myself, the whole thing gives me flashbacks to the commercialization of punk rock in the 80s, or hip hop in the 90s. A thriving, underground scene mined and refined for industry profit.</p><p>But as most punk rockers and rap artists will tell you, once your sound hits the mainstream it’s time to move on.</p><p><strong>So what happens when the Lofi Girl graduates?</strong></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png" width="1456" height="819" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:819,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;The animated mascot of the Lofi Girl channel, seen studying with headphones &quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="The animated mascot of the Lofi Girl channel, seen studying with headphones " title="The animated mascot of the Lofi Girl channel, seen studying with headphones " srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F796aa4dc-13b8-4fd9-8433-b130d9201ce2_1600x900.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Chill Beats To Study To for 10 consecutive years </figcaption></figure></div><p><span>What’s the hardworking lofi musician to do, now that the once comforting boom bap beats have sold out? One artist from Los Angeles, Emily Davidson, known online as </span><a href="https://www.instagram.com/wishonthebeat" rel="">Wish on the Beat</a><span>, has pivoted to creating ambient versions of her previous lofi beats. And it’s working.</span></p><p>A classically trained cellist, Emily began producing beats as a hobby that quickly became a source of income for her. Wish on the Beat has a catalog of over 50 lofi tracks, many with over a million streams.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png" width="651" height="369" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:369,&quot;width&quot;:651,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Emily Davidson, aka Wish on the Beat, seen in her home studio with cello and guitar&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="Emily Davidson, aka Wish on the Beat, seen in her home studio with cello and guitar" title="Emily Davidson, aka Wish on the Beat, seen in her home studio with cello and guitar" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9eb7e0fd-76a5-4fa7-a7d9-b5236ee4601e_651x369.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Emily Davidson, aka Wish on the Beat, in her home studio </figcaption></figure></div><p><span>Her latest album, </span><a href="https://vgm.fm/acoustica2" rel="">Acoustic Ambience 2</a><span>, features 20 tracks lifted from her catalog of lofi beats. These new “mellow mixes” are re-engineered productions that omit the beat and accentuate the instrumental recordings that made her beats so special in the first place.</span></p><p><span>The mellow mixes sound markedly different, but retain their calm and focused quality. </span><em>Acoustic Ambience</em><span> serves the same purpose as lofi beats. It’s a focus-setting background instrumental, with a refreshing sound that’s all her own.</span></p><div id="youtube2-Ooqcbx90Ags" data-attrs="{&quot;videoId&quot;:&quot;Ooqcbx90Ags&quot;,&quot;startTime&quot;:null,&quot;endTime&quot;:null}" data-component-name="Youtube2ToDOM"><p><iframe src="https://www.youtube-nocookie.com/embed/Ooqcbx90Ags?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0" frameborder="0" loading="lazy" gesture="media" allow="autoplay; fullscreen" allowautoplay="true" allowfullscreen="true" width="728" height="409"></iframe></p></div><p>“I love pop music and hip hop, so I think I’ll always be making beats of some kind,” says Emily, “ These ambient tracks gave me the opportunity to use my recordings in a new context and really showcase what I can do on all my instruments. They’re a lot of fun.”</p><p><span>While AI music generators are a dime a dozen these days, there’s one thing it can’t do: create a new sound. AI depends on previously created music to render its sound-alikes. More than ever, </span><strong>a real recording from a trained musician speaks volumes.</strong></p><p><span>While many musicians are understandably concerned about the rise of AI and the dilution of Spotify’s once great editorial playlists, projects like </span><a href="https://open.spotify.com/artist/6pqaQndc45GeiCGUNsk3Gc?si=_U-wRJLLQHSKvEucZPQxzA" rel="">Wish on the Beat</a><span> demonstrate there is a way to cut through the noise.</span></p><p><strong>For us listeners, it’s more important than ever to seek out real artists</strong><span>. </span></p><p>We can support musicians we like by adding them to our personal playlists and playing their music every day.</p><p><span>Stock music and AI slop have infiltrated Lofi Hip Hop like weeds in a garden.</span><strong> </strong><span>They only thrive because we depend on platforms like Spotify to curate for us. We can pull up the weeds by creating our own playlists of real artists we want to support.</span></p><p><span>Many artists have created their own </span><em>discography playlists</em><span> that will play all of their songs before allowing the music app to play something else. Turning on one of these playlists can be a huge help to an independent artist. To get you started, here are Spotify discography playlists for </span><a href="https://open.spotify.com/playlist/6GFSPNh2MufurIpY7323sv?si=7dd2ca966b1e44bc" rel="">Wish on the Beat</a><span>, </span><a href="https://open.spotify.com/playlist/5bj3H2UNZTLkAXx1ZbdDE1?si=1d707b5bf727456e" rel="">GameChops</a><span>, </span><a href="https://open.spotify.com/playlist/0buh81PpID2whnbmgKXUA9?si=2d39407c25b54abd" rel="">Coffee Date</a><span>, and </span><a href="https://open.spotify.com/playlist/6yY73uWgqQotJQBuzFg9ht?si=36f34d8bd7da4642" rel="">Dj Cutman</a><span>.</span></p><p>Creating our own playlists and following those created by the musicians themselves can have a real impact, supporting our favorite artists and growing us a more beautiful garden of music to enjoy.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Roc rewrites the compiler in Zig (297 pts)]]></title>
            <link>https://gist.github.com/rtfeldman/77fb430ee57b42f5f2ca973a3992532f</link>
            <guid>42935516</guid>
            <pubDate>Tue, 04 Feb 2025 17:21:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gist.github.com/rtfeldman/77fb430ee57b42f5f2ca973a3992532f">https://gist.github.com/rtfeldman/77fb430ee57b42f5f2ca973a3992532f</a>, See on <a href="https://news.ycombinator.com/item?id=42935516">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="file-rewrite-md" tabindex="0" role="region" aria-label="file-rewrite-md">
    <article itemprop="text"><p dir="auto">This may become a blog post or FAQ entry or something. For now, I'm just writing up something to answer the questions I've gotten about it!</p>
<p dir="auto"><h2 dir="auto">Rewriting a Language's Compiler in Itself</h2><a id="user-content-rewriting-a-languages-compiler-in-itself" aria-label="Permalink: Rewriting a Language's Compiler in Itself" href="#rewriting-a-languages-compiler-in-itself"></a></p>
<p dir="auto">Scratch-rewriting a code base in a different language is usually considered a risky move that often leads to failure. In the case of compilers, it's the reverse; most successful compilers (e.g. Java, C++, C, C#, TypeScript, Scala, Go, Rust, Zig, OCaml, Haskell, and <a href="https://en.wikipedia.org/wiki/Self-hosting_(compilers)#List_of_languages_having_self-hosting_compilers" rel="nofollow">many others</a>) have undergone a complete scratch-rewrite...in themselves. This process is called <a href="https://en.wikipedia.org/wiki/Self-hosting_(compilers)" rel="nofollow">self-hosting</a>.</p>
<p dir="auto">We can break down the observation that self-hosting has a long track record of success into two pieces:</p>
<ol dir="auto">
<li>It's normal for a successful language's compiler to be rewritten from scratch in a different language.</li>
<li>It's normal for the different language to be the target language itself.</li>
</ol>
<p dir="auto">Rewrites do more than just change the code base to a more appealing language. They're an opportunity to start fresh, with all the wisdom gained from the first version—to discard accumulated cruft and to avoid mistakes from the last time around (while naturally making some new mistakes). They're also notorious for causing regressions, especially in edge-case functionality. Fortunately, we've been very consistent about communicating that Roc is not stable and is going to be changing—which is the main reason we've chosen not to have a numbered release yet.</p>
<p dir="auto">All of those tradeoffs are true about rewrites, regardless of target language. When Java's compiler got rewritten in Java, and Haskell's compiler got rewritten in Haskell, their target languages were very different—but the benefits of starting fresh and using accumulated knowledge on the rewritten version applied to both. Clearly, if you want to join in the long tradition of successful compilers that have been rewritten at some point, you can pick whatever target language suits you.</p>
<p dir="auto">Roc's compiler has always been written in Rust, and we do not plan to self-host. We have <a href="https://www.roc-lang.org/faq#self-hosted-compiler" rel="nofollow">a FAQ entry</a> explaining why, and none of our reasoning has changed on that subject.</p>
<p dir="auto">However, we have decided to do a scratch-rewrite in a different language—namely, Zig. We're very excited about it!</p>
<p dir="auto"><h2 dir="auto">Why now?</h2><a id="user-content-why-now" aria-label="Permalink: Why now?" href="#why-now"></a></p>
<p dir="auto">We recently realized that our roadmap included independently rewriting almost every single part of Roc's 300K-lines-of-Rust compiler (type inference was the only exception) for unrelated reasons. More specifically:</p>
<ul dir="auto">
<li>The parser is not as error-tolerant as we want it to be, and separately we want to rearchitect it because the grammar has evolved to the point where a different foundational parsing strategy makes sense. While we're at it, we also want to convert it to use <a href="https://en.wikipedia.org/wiki/Recursive_descent_parser" rel="nofollow">recursive descent</a>; it was originally written using <a href="https://bodil.lol/parser-combinators/" rel="nofollow">parser combinators</a> because that was what I was comfortable with at the time. Josh had already been experimenting with a rewrite in the existing Rust code base.</li>
<li>The formatter doesn't support enforcing line width. We only want to enable the line-length enforcement for docs generation, but we do want it, and switching to a system that is capable of enforcing line length (e.g. one based on Wadler's famous <a href="https://homepages.inf.ed.ac.uk/wadler/papers/prettier/prettier.pdf" rel="nofollow">A prettier printer</a> technique) requires a full rewrite. We'd agreed that this was what we wanted to do, although nobody had started on it.</li>
<li>Canonicalization (aka name resolution) needs to defer some name resolution to after type checking, it needs to report errors for out-of-order definitions instead of reordering them, it needs to stop using <code>Symbol</code>, and it needs to change from a recursive enum data structure to a flat array with IDs, so that we can cache it on disk efficiently. We also need to make shadowing a warning, and add support for <code>var</code>. In short, it needed a rewrite. Sam had already started on this.</li>
<li>Documentation generation doesn't resolve type aliases, or support auto-linking to docs for other types (in part because it has no awareness of other packages), or show inferred types when they weren't explicitly annotated. The changes required to address these turned out to be invasive enough that on the branch where I was fixing these issues, a rewrite was the approach I took.</li>
<li>Type inference didn't need a rewrite. It needs quite a few changes (removing lambda set inference, replacing Abilities with static dispatch, replacing opaque type wrappers with nominal tag unions, removing tuple extensibility and module params), but these were all changes we would have made incrementally. Now we'll make them all at once instead.</li>
<li>Monomorphization needs a rewrite to fix lambda sets. Specifically, it needs to be split into multiple different steps, on top of which the current implementation has accumulated so much cruft that we'd discussed a rewrite of that section just to make it easier to work on. We'd separately decided to take out the <a href="https://github.com/morphic-lang/morphic">Morphic</a> solver because the upstream dependency has become unmaintained, while having bugs and compiler performance problems that none of us are in a position to address anytime soon (because we don't understand Morphic well enough). Although Morphic's impact on the performance of compiled Roc programs has been positive, it hasn't been critical, and we decided we should revisit it only when we have the ability to address the problems we've encountered wtih it. Agus had already started on rewriting monomorphization.</li>
<li>LLVM code generation: A recurring pain point has been that we want to update to the latest <a href="https://llvm.org/" rel="nofollow">LLVM</a> version in order to get new performance improvements (and to unblock updating to the latest Zig version, which we've use for our stdlib for years), but the LLVM upgrade process has been very time-consuming in large part because of LLVM's breaking API changes. Zig came up with a way around this: compile directly to LLVM bitcode (LLVM has strong backwards-compatibility on its bitcode but not on its public-facing API) and then upgrades become trivial because we can keep our existing code generation the same. Apparently this has added about 5% to Zig's LLVM code gen times, but in the long run they (and we) can cache portions of bitcode, which can shift it to a net performance improvement compared to the status quo. Changing to use bitcode generation instead of LLVM's APIs requires a complete rewrite of LLVM code gen, and if we were to do it in Rust, we'd have to do the bitcode generation ourselves. (A Zig rewrite can reuse the existing LLVM bitcode generation logic in the Zig compiler's code base, which is MIT-licensed.)</li>
<li>Development backend: We currently do direct machine code generation (bypassing LLVM for a faster feedback loop), but now that we've seen what kind of performance that approach gets in practice, we want to try doing an interpreter instead. The theory is that the interpreter will be slower in terms of runtime performance (but not <em>that</em> much slower because of how naive our current machine code gen is), but it will improve the development feedback loop speed overall because an interpreter can skip monomorphization and code gen - going straight from type-checking to running the program. Trying out the interpreter-based approach requires actually writing an interpreter (which we separately want anyway for compile-time evaluation of constants) and then switching the development backend to use the interpreter—in other words, a rewrite.</li>
</ul>
<p dir="auto">Once we'd finished all these projects, the only stage of the compiler pipeline that wouldn't have been rewritten would have been type inference. And at the end of all that, we'd still have a Rust code base, when we'd rather have a Zig code base.</p>
<p dir="auto"><h2 dir="auto">Why Zig over Rust?</h2><a id="user-content-why-zig-over-rust" aria-label="Permalink: Why Zig over Rust?" href="#why-zig-over-rust"></a></p>
<p dir="auto">Rust's compile times are slow. Zig's compile times are fast. This is not the only reason, but it's a big reason.</p>
<p dir="auto">Having a slow feedback loop has been a major drain on both our productivity and also our enjoyment when working on the code base. Waiting several seconds to <em>build</em> a single test, before it has even started running, is not enjoyable.</p>
<p dir="auto">A frustratingly common response I've heard to this complaint is that "several seconds is not as bad as [some other language or some other project that has minutes-long build times]!" I don't care if things could be even worse, I care that I'm feeling this pain while knowing I don't have to. Zig's x86-64 backend can reportedly scratch-build (without anything cached) the entire 300K-line Zig compiler code base in a second or two. It takes us longer than that to build one of our medium-sized Rust crates, and that's even <em>with</em> the benefit of caching.</p>
<p dir="auto">Compile times aside, the strengths and weaknesses of Rust and Zig today are much different than they were when I wrote the first line of code in Roc's Rust compiler in 2019. Back then, Rust was relatively mature and Zig was far from where it is today. (Also, I hadn't done significant low-level programming in over a decade, and didn't have confidence I would be able to manage memory correctly on my own. That has also changed.)</p>
<p dir="auto">Here are some relevant comparison points between the two languages in the specific context of Roc's compiler in 2025:</p>
<ul dir="auto">
<li>For many projects, Rust's memory safety is a big benefit. As we've learned, Roc's compiler is not one of those projects. We tend to pass around allocators for memory management (like Zig does, and Rust does not) and their lifetimes are not complicated. We intern all of our strings early in the process, and all the other data structures are isolated to a particular stage of compilation.</li>
<li>Besides the fact that Zig is built around passing around allocators for memory management (which we want to do anyway), it also has built-in ways to make struct-of-arrays programming nicer - such as MultiArrayList. We have abstractions to do this in Rust, but they have been painful to use. We don't have experience with Zig's yet, but looking through them, they definitely seem more appealing than what we've been using in Rust.</li>
<li>Rust's large ecosystem is also a big benefit to a lot of projects. Again, Roc's compiler is not one of them. We use Inkwell, a wrapper around LLVM's APIs, but we actively would prefer to switch to Zig's direct generation of LLVM bitcode, and Zig has the only known implementation of that approach. Other than that, the few third-party Rust dependencies we use have equivalents in the Zig ecosystem. So overall, Zig's ecosystem is a selling point for us because once you filter out all the packages we have no interest in using, Zig's ecosystem has a larger absolute number of depedencies we actually want to use.</li>
<li>Zig's toolchain makes it much eaiser for us to compile statically-linked Linux binaries using musl libc, which is something we've wanted to do for a long time so that Roc can run on any distro (including Alpine in containers, which it currently can't in our Rust compiler). We know this can be done in Rust, but we also know it's easier to do in Zig. Zig's compiler itself does this, and it does so while bundling LLVM (by building it from source with musl libc), which is exactly what we need to do. Once again, we can reuse Zig code that has done exactly what we want, and there is no equivalent in the Rust ecosystem.</li>
<li>There are various miscellaneous performance optimization techniques that we've wanted to use in Rust, but haven't as much as we'd like to because they have been too painful. For example, we often want to pack some metadata into some of the bits of an index into an array. Zig lets us describe this index as a struct, where we specify what each of the bit ranges mean, and that includes arbitrary integer sizes. For example, in Rust we might store an index as a u32, but in Zig we could break that into a u27 for the actual index data (when we know the index will never need to exceed 2^27 anyway), and then we can specify that we want to use another 3 bits to store a small enumeration, and the remaining 2 bits for a pair of boolean flags. Again, these are all things we could do using Rust and bit shifts, but it's much nicer to do in Zig. Tagless unions are another Zig feature we expect to be valuable.</li>
</ul>
<p dir="auto">Did I mention compile times? I'll reiterate: compile times are a huge deal. Not only have they been painful in Rust, we also know that the fundamental unit of compilation is a crate, so we're incentivized to organize our code around what will make for faster compile times rather than what makes the most sense to us as authors. Often the boundaries end up being drawn in the same place regardless, but when those two are in tension, it's frustrating to have to sacrifice either feedback loop speed or code organization. In Zig we expect we can just have both.</p>
<p dir="auto">In summary, Rust's memory safety guarantees aren't major selling points in this particular project, whereas its slow compile times have been a major pain point for us. Rust's ecosystem is larger than Zig's overall, but after filtering out all the third-party dependencies we wouldn't use anyway, Zig has more that we actually want to use. On top of all that, Zig has some language features that we're looking forward to using, and would have used in Rust if it had them.</p>
<p dir="auto"><h2 dir="auto">Goals</h2><a id="user-content-goals" aria-label="Permalink: Goals" href="#goals"></a></p>
<p dir="auto">We want the scratch-rewritten compiler to be what we release as Roc 0.1.0, its first numbered release.</p>
<p dir="auto">There are several substantial language design changes planned for 0.1.0. Historically we've often implemented changes in a backwards-compatible way, but this time that wouldn't be worth it. We'll be implementing the 0.1.0 design directly.</p>
<p dir="auto">Some of the things we'd like to do to improve the reliability and correctness of the compiler:</p>
<ul dir="auto">
<li>Fuzz early. One of the things we learned when we added fuzzing to our Rust code base is that it's much easier to fix the problems fuzzing surfaces when they crop up after an incremental change. You know the problem originated with that change, even if it appears to be unrelated! The downside of maintaining this level of fuzzing early on is that it makes exploration take longer, but this is a rewrite. We've already done a ton of exploration in the Rust code base, and by now we've learned enough to have a strong sense of how we want things to work.</li>
<li>Document as we go. As with fuzzing, taking the time in the original compiler to document how everything worked would have seriously slowed down exploration. (And the docs would have needed numerous rewrites as things changed.) Documentation helps not only new contributors, but also our future selves. This time, the investment makes more sense to do up-front.</li>
<li><a href="https://en.wikipedia.org/wiki/Phrases_from_The_Hitchhiker's_Guide_to_the_Galaxy#Don.27t_Panic" rel="nofollow">Don't panic!</a> We used things like <code>unwrap()</code> at various points in the Rust compiler when we thought it wouldn't come up in practice, and it always ended up leaking into the user experience anyway. This time, we want to do error handling exclusively by passing values around.</li>
<li>Intentionally sacrifice short-term performance for the sake of getting to a working, reliable implementation. In the Rust compiler, we made some architectural choices - most significantly, the choice to minimize the number of compiler passes - which improved performance but made it harder to debug our implementation. For this rewrite, we want to keep in mind general performance considerations like the memory layouts of the data we're storing, but we generally want to prioritize having code that's easier to understand and to debug, even if that means more compiler passes or less compact memory representations than we'd prefer to have long-term. We can investigate things like combining passes and storing IR nodes using adjacency sometime after 0.1.0.</li>
</ul>
<p dir="auto">It's an exciting undertaking, and we're already enjoying it!</p>
</article>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Jujutsu VCS Introduction and Patterns (203 pts)]]></title>
            <link>https://kubamartin.com/posts/introduction-to-the-jujutsu-vcs/</link>
            <guid>42934427</guid>
            <pubDate>Tue, 04 Feb 2025 16:22:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://kubamartin.com/posts/introduction-to-the-jujutsu-vcs/">https://kubamartin.com/posts/introduction-to-the-jujutsu-vcs/</a>, See on <a href="https://news.ycombinator.com/item?id=42934427">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div><p><a href="https://github.com/jj-vcs/jj">Jujutsu</a> (jj), a new version control system written in Rust, has popped up on my radar a few times over the past year. Looked interesting based on a cursory look, but being actually pretty satisfied with Git, and not having major problems with it, I haven’t checked it out.</p><p>That is, until last week, when I finally decided to give it a go! I dived into a couple blog posts for a few of hours, and surprisingly (noting that we’re talking about a VCS) I found myself enjoying it a lot, seeing the consistent design, and overall simplicity it managed to achieve. This post is meant to give you a feel for what’s special about jj, and also describe a few patterns that have been working well for me, and which really are the reason I’m enjoying it.</p><p>Before we dive in, one last thing you should take note of, is that most people use jj with its Git backend. You can use jj with your existing Git repos and reap its benefits in a way that is completely transparent to others you’re collaborating with. Effectively, you can treat it like a Git frontend.</p><h2 id="undo">Undo</h2><p>Before I get to the meat, something that will surely be very useful for any of your experimentation with jj, and something I would’ve loved to have had in Git when I was learning it - you can undo any jj operation using <code>jj undo</code>, and view an operation log using <code>jj operation log</code>.</p><h2 id="changes">Changes</h2><p>Changes are the core primitive you’ll be working with in jj. In Git you had commits, in jj you have changes. A jj change is, however, <em>mutable</em>. A change can be modified. It’s ID, however, is immutable and randomly generated - it stays constant while you iterate on the change. A change refers to a <em>revision</em> (otherwise called a snapshot) which for our purposes is always a Git commit. As you keep working on and modifying a change, the commit SHA it refers to will change.</p><p>So to recap - immutable change IDs, mutable changes, mutable revision IDs (Git SHAs), immutable underlying revisions (snapshots - commits). Changes may eventually be marked as immutable - by default this happens (more or less) when they become part of the main branch or a Git tag.</p><p>While in Git you generally organize your commits in branches, and a commit that’s not part of a branch is scarily called a “detached HEAD”, in jj it’s completely normal to work on changes that are not on branches. <code>jj log</code> is the main command to view the history and tree of changes, and will default to showing you a very reasonable set of changes that should be relevant to you right now - that is (more or less) any local mutable changes, as well as some additional changes for context (like the tip of your main branch).</p><p>Changes in jj <em>can</em> be marked with bookmarks (what jj calls branches), but you’d generally do that only for the purpose of pushing to a remote Git server, like GitHub, not local organization.</p><p>Let’s see a sample of a <code>jj log</code> invocation:</p><pre><span></span><span>@</span>  <span></span><span>w</span><span>twtpovp</span><span> </span><span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="1c71795c77697e7d717d6e687572327f7371">[email&nbsp;protected]</a></span><span> </span><span>2025-01-29 23:46:57</span><span> </span><span>6</span><span>dae3649</span><span></span>
│  <span></span><span>(empty)</span><span> </span><span>(no description set)</span><span></span>
<span></span><span>◆</span>  <span></span><span>n</span><span>zvlmkly</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="fb969ebb908e999a969a898f9295d5989496">[email&nbsp;protected]</a></span> <span>2025-01-29 23:33:23</span> <span>main</span> <span></span><span>e</span><span>04f25b9</span>
│  add '0000'
│ ○    <span></span><span>u</span><span>knznrnn</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="4d20280d26382f2c202c3f392423632e2220">[email&nbsp;protected]</a></span> <span>2025-01-29 23:43:20</span> <span></span><span>2</span><span>70fa7f9</span>
│ ├─╮  <span>(empty)</span> a merge
│ │ ○  <span></span><span>v</span><span>sosyttm</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="b8d5ddf8d3cddad9d5d9caccd1d696dbd7d5">[email&nbsp;protected]</a></span> <span>2025-01-29 23:37:52</span> <span>branch-2</span> <span></span><span>35</span><span>8031f0</span>
│ │ │  add '1111'
│ ○ │  <span></span><span>r</span><span>plvonvm</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="b1dcd4f1dac4d3d0dcd0c3c5d8df9fd2dedc">[email&nbsp;protected]</a></span> <span>2025-01-29 23:37:10</span> <span>branch-1</span> <span></span><span>12</span><span>608854</span>
│ │ │  add 'dddd'
│ ○ │  <span></span><span>m</span><span>oquvotw</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="86ebe3c6edf3e4e7ebe7f4f2efe8a8e5e9eb">[email&nbsp;protected]</a></span> <span>2025-01-29 23:36:43</span> <span></span><span>b</span><span>49e6156</span>
├─╯ │  add 'cccc'
<span></span><span>◆</span>   │  <span></span><span>p</span><span>lnpvmqs</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="8ee3ebcee5fbecefe3effcfae7e0a0ede1e3">[email&nbsp;protected]</a></span> <span>2025-01-29 23:30:48</span> <span></span><span>3f</span><span>373f8e</span>
├───╯  add 'bbbb'
<span></span><span>◆</span>  <span></span><span>l</span><span>ummnokp</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="b4d9d1f4dfc1d6d5d9d5c6c0ddda9ad7dbd9">[email&nbsp;protected]</a></span> <span>2025-01-29 23:30:32</span> <span></span><span>10</span><span>604a80</span>
│  add 'aaaa'
~
</pre><p>Quick tip: you can use <a href="https://github.com/theZiz/aha">aha</a> to convert colorized shell output to HTML.</p><p>The IDs on the left side are change IDs, while on the right size you have revisions (commit SHAs). Unique prefixes of those IDs are marked in color, and you can use those prefixes instead of the full form when referring to changes. A change can be reffered to in jj commands by its ID, the underlying commit SHA, or any bookmark referring to it.</p><p>There is one more, slightly crazy, thing about jj changes. Git has a special feature called the Git index to hold any as of yet uncommitted changes (where you <code>git add</code>, and then <code>git commit</code> them). In jj any files you modify are always in the scope of a change. Any modifications you make automatically become part of the current change, which is called the working copy. In the <code>jj log</code> output, this working copy is indicated by the <code>@</code> symbol. You create a new working change using <code>jj new</code> (by default as a child of the current change), and give it a description using <code>jj describe</code> (it starts out having an empty message). You can use <code>jj status</code> to get the metadata of the current change.</p><p>This much said, here’s a quick demo of changing a file as part of a new change.</p><p>Editing a file in a jj repo</p><p><code>jj</code> on its own is an alias for <code>jj log</code>.</p><div><p>Most jj commands default to operating on the current working change, but let you operate on an arbitrary change (or set of changes!) via the <code>--revision / -r</code> flag.</p></div><h3 id="pattern-git-stash">Pattern: git stash</h3><p>This whole thing about the working copy being a Change may sound weird, but it brings with it an important feature - you can operate on the working copy like on any other change. Personally, I’m a frequent user of <code>git stash</code>. When I’m working on something, I often want to pause for a moment and work on / try something else, only to later come back to what I was working on (while leaving that other experiment as yet another stash).</p><p>In jj, I can just <code>jj new @-</code>, which will start a new change from the parent of my current working copy - leaving my working copy as a normal change with all its file modifications “committed”, so I can later come back to it via <code>jj edit</code>.</p><div><p>The <code>-</code> after the <code>@</code> means "go one level up". It's basically "take the working copy change, and go to its parent". We'll come back to this briefly later, but suffice it to say that there's a whole sensible expression language here, and <code>@--</code> is similarly valid to refer to your grandparent change.</p></div><h2 id="editing-changes-in-weird-places">Editing Changes in Weird Places</h2><p>Another cool thing about changes is that you can freely edit any mutable change. <code>jj edit &lt;id&gt;</code> lets you “check out” and edit a given change. You can also squish a new change right after another (between it and its children). You can then keep modifying files in the context of that change, and any descendants will automatically be rebased on top of it (with their underlying commit SHAs likely changing, but change IDs staying the same). That sounds a bit scary if you’re used to Git (and dealing with conflicts in the middle of a rebase) but fear not, it’s actually pretty seamless, and we’ll come back to it later.</p><p>You can pass <code>-A</code> and <code>-B</code> to <code>jj new</code> to indicate that you want to squish a new change after, or before, another change.</p><p>With this, when I notice a mistake in a change 3 levels back, I can just <code>jj edit &lt;that-change-id&gt;</code> (with my working copy remaining there for me to come back to), make a fix, which will auto-rebase all following changes (including my original working change), and then <code>jj edit</code> to go back to my original working change.</p><p>Editing previous changes with automatic rebase</p><p>Occasionally you also need to rebase (move) a set of changes onto some change x, you can do that by using <code>jj rebase -s &lt;change-id-to-rebase&gt; -d &lt;destination-change&gt;</code>. The <code>-s</code> will bring all descendants along with the rebased change, and there are other variations of this command for different scenarios. E.g. <code>jj rebase -b &lt;branch&gt; -d &lt;destination-change&gt;</code> will rebase the entire given branch onto a change, and with no arguments it just defaults to <code>-b @</code>, so the current branch. In other words, to rebase the current branch onto main, it’s enough to run <code>jj rebase -d main</code>.</p><h3 id="pattern-squishing-a-fix-before-the-current-change">Pattern: Squishing a Fix Before the Current Change</h3><p>You noticed a mistake in your last change, don’t want to fix it as part of this one, and instead want to squish a fix right before it, but you have already done some “uncommitted” work? Just do <code>jj new -B @</code>. The <code>-B</code> means it’s squished before the current working change (referred to via <code>@</code>), and after the previous one (its parent). After you make the fix, you can go back to the original working change via <code>jj edit @+</code> (<code>+</code> is the opposite of <code>-</code>). You could also make the fix in the original working change and run <code>jj split --interactive</code> to use your favorite diff ui to select what to push down to a separate change placed right before the current one.</p><h2 id="bookmarks">Bookmarks</h2><p>In jj, instead of branches we have bookmarks. You create them using <code>jj bookmark create &lt;name&gt;</code> (abbreviated to <code>jj b c &lt;name&gt;</code>). You update a bookmark to point the current change using <code>jj bookmark set &lt;name&gt;</code>. You track remote bookmarks (which will create local corresponding bookmarks that update on <code>jj git fetch</code>) by doing <code>jj bookmark track &lt;name&gt;</code>.</p><p>When you add changes on top of a change that a bookmark is attached to, the bookmark won’t automatically move to your new change (like it would with a branch in Git), you have to <code>jj bookmark set</code> it manually. You can push bookmarks attached to the current change via <code>jj git push</code>. <code>jj git fetch</code> will fetch updates to bookmarks from your remote (so generally updates to branches).</p><h3 id="pattern-stacked-prs">Pattern: Stacked PRs</h3><p>A common use case with services like GitHub is to split up a big change into multiple PRs, let’s say Multipart 1, Multipart 2 and Multipart 3 (from branches multipart-1, multipart-2, and multipart-3 respectively). Each of them is based on the previous one, so you effectively have the following graph, with bookmark pointers on the way:</p><pre><span></span><span>@</span>  <span></span><span>vq</span><span>noywln</span><span> </span><span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="4a272f0a213f282b272b383e232464292527">[email&nbsp;protected]</a></span><span> </span><span>2025-01-30 18:57:23</span><span> </span><span>50</span><span>e48038</span><span></span>
│  <span></span><span>(empty)</span><span> </span><span>(no description set)</span><span></span>
<span></span><span>◆</span>  <span></span><span>sz</span><span>myonyt</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="d9b4bc99b2acbbb8b4b8abadb0b7f7bab6b4">[email&nbsp;protected]</a></span> <span>2025-01-30 18:47:38</span> <span>main</span> <span></span><span>a7</span><span>9e03bf</span>
│  another change on main
│ ○  <span></span><span>y</span><span>otmyvom</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="2b464e6b405e494a464a595f424505484446">[email&nbsp;protected]</a></span> <span>2025-01-30 18:57:16</span> <span>multipart-3</span> <span></span><span>58</span><span>11d6f6</span>
│ │  add 'hhhh'
│ ○  <span></span><span>z</span><span>zxlmyqq</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="acc1c9ecc7d9cecdc1cdded8c5c282cfc3c1">[email&nbsp;protected]</a></span> <span>2025-01-30 18:57:16</span> <span>multipart-2</span> <span></span><span>4</span><span>ca0376a</span>
│ │  add 'gggg'
│ ○  <span></span><span>sk</span><span>noxoxv</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="305d55705b4552515d514244595e1e535f5d">[email&nbsp;protected]</a></span> <span>2025-01-30 18:57:16</span> <span></span><span>7</span><span>9356f49</span>
│ │  add 'eeee' and 'ffff'
│ ○  <span></span><span>vt</span><span>rtywkl</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="fa979fba918f989b979b888e9394d4999597">[email&nbsp;protected]</a></span> <span>2025-01-30 18:51:08</span> <span>multipart-1</span> <span></span><span>5e</span><span>dec115</span>
│ │  add 'cccc' and 'dddd' (broken)
│ ○  <span></span><span>ss</span><span>vuqlmr</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="cba6ae8ba0bea9aaa6aab9bfa2a5e5a8a4a6">[email&nbsp;protected]</a></span> <span>2025-01-30 18:27:29</span> <span></span><span>a5</span><span>9123a7</span>
├─╯  add 'aaaa' and 'bbbb'
<span></span><span>◆</span>  <span></span><span>n</span><span>nlnvpml</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="fa979fba918f989b979b888e9394d4999597">[email&nbsp;protected]</a></span> <span>2025-01-30 18:27:03</span> <span></span><span>d</span><span>ee7ba99</span>
│  initial
~
</pre><p>Now let’s say Multipart 1 got reviewed and you need to fix something. In Git, once you add a commit to it (or modify an existing one), you would have to manually rebase all the other branches. Annoying!</p><p>How does jj help us here? We can just run <code>jj edit vt</code> (<code>vt</code> is a unique prefix of the broken change id), or <code>jj new -A vt</code>, make the fix, and run <code>jj git push -b "glob:multipart-*"</code>. Everything will be automatically rebased, and all the bookmarks will be updated and pushed. Effortless!</p><p>Making fixes in stacked PRs</p><h2 id="merges">Merges</h2><p>Merges in jj are pretty boring - in a good way. You just create a change with multiple parents. E.g. <code>jj new x y z</code> will create a change with three parents.</p><h2 id="conflicts">Conflicts</h2><p>One topic I haven’t mentioned yet, and is surely by now giving you an unsettling feeling deep inside about all I’ve said before, are conflicts. With all this rebasing, that’s <strong>got</strong> to become a pain, right? Well, it doesn’t!</p><p>As opposed to Git, where conflicts kind of break your workflow, in the sense that you have to resolve them prior to doing anything else, jj handles conflicts in a first-class manner. A change can just “be conflicted”. You can switch away from a conflicted change, you can create a new change on top of an existing conflicted change (and that will in turn also start out conflicted), you can edit a conflicted change, you can do anything. <code>jj status</code> and <code>jj log</code> will mention the conflict, but it won’t block you.</p><pre><span>~&gt;</span> <span>jj</span><span></span> <span>log</span>
<span></span><span>@</span>    <span></span><span>u</span><span>uxrrmuw</span><span> </span><span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="eb868eab809e898a868a999f8285c5888486">[email&nbsp;protected]</a></span><span> </span><span>2025-01-30 19:54:21</span><span> </span><span>d</span><span>7f2700a</span><span> </span><span>conflict</span><span></span>
├─╮  <span>merge</span>
│ ○  <span></span><span>q</span><span>lrwtlny</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="a3cec6e3c8d6c1c2cec2d1d7cacd8dc0ccce">[email&nbsp;protected]</a></span> <span>2025-01-30 19:44:09</span> <span></span><span>c</span><span>ae28ccf</span>
│ │  add 'cccc'
○ │  <span></span><span>r</span><span>qtrswmw</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="0d60684d66786f6c606c7f796463236e6260">[email&nbsp;protected]</a></span> <span>2025-01-30 19:43:59</span> <span></span><span>5</span><span>6d6ab4a</span>
├─╯  add 'bbbb'
○  <span></span><span>k</span><span>nklsqnp</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="157870557e607774787467617c7b3b767a78">[email&nbsp;protected]</a></span> <span>2025-01-30 19:43:59</span> <span></span><span>1</span><span>0b01706</span>
│  add 'aaaa'
<span></span><span>◆</span>  <span></span><span>z</span><span>zzzzzzz</span> <span>root()</span> <span></span><span>0</span><span>0000000</span>
<span>~&gt;</span> <span>jj</span><span></span> <span>status</span>
Working copy changes:
<span>A typescript</span>
<span>There are unresolved conflicts at these paths:</span>
file.txt    <span>2-sided conflict</span>
Working copy : <span></span><span>u</span><span>uxrrmuw</span><span> </span><span>d</span><span>7f2700a</span><span> </span><span>(conflict)</span><span> merge</span>
Parent commit: <span></span><span>r</span><span>qtrswmw</span> <span></span><span>5</span><span>6d6ab4a</span> add 'bbbb'
Parent commit: <span></span><span>q</span><span>lrwtlny</span> <span></span><span>c</span><span>ae28ccf</span> add 'cccc'
</pre><p>The conflict will be represented in the code via conflict markers:</p><pre>aaaa
&lt;&lt;&lt;&lt;&lt;&lt;&lt; Conflict 1 of 1
%%%%%%% Changes from base to side #1
+bbbb
+++++++ Contents of side #2
cccc
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Conflict 1 of 1 ends
</pre><p>and you can either manually resolve this conflict by editing the code itself, or use <code>jj resolve</code> to bring up your favorite three-way-merge tool (e.g. I’ve configured my jj to bring up a visual conflict resolver in Goland) and resolve it there.</p><p>Once you fix the conflict in a change, all descendants of this change will also cease being conflicted. You could leave a change conflicted and only resolve the conflict in a follow-up child change - that is a completely valid and supported approach.</p><p>Merge conflict resolution</p><h3 id="pattern-working-on-two-things-at-the-same-time">Pattern: Working on Two Things at the Same Time</h3><p>I’ve mentioned stacked PRs, but another situation you might have is working on two independent things in parallel. Let’s say on bookmarks <code>thing-1</code> and <code>thing-2</code>.</p><p>In order to have both things simultaneosuly active in your codebase, you can create a development change via <code>jj new thing-1 thing-2 -m "dev"</code>, that will be a merge between both of them, but will stay local and you’ll never push it (<code>-m</code> just lets you give a description to a change when creating it, without a separate <code>jj describe</code> invocation). You will however <code>jj edit</code> this development change to do your work.</p><pre><span></span><span>@</span>    <span></span><span>zv</span><span>tqnnxv</span><span> </span><span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="462b23062d3324272b2734322f286825292b">[email&nbsp;protected]</a></span><span> </span><span>2025-01-30 22:42:29</span><span> </span><span>5</span><span>28d6811</span><span></span>
├─╮  <span>dev</span>
│ ○  <span></span><span>zm</span><span>smpynx</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="a3cec6e3c8d6c1c2cec2d1d7cacd8dc0ccce">[email&nbsp;protected]</a></span> <span>2025-01-30 22:36:26</span> <span>thing-2</span> <span></span><span>2</span><span>55cea26</span>
│ │  changes to file2
○ │  <span></span><span>v</span><span>nxwrykm</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="e28f87a2899780838f8390968b8ccc818d8f">[email&nbsp;protected]</a></span> <span>2025-01-30 22:35:43</span> <span>thing-1</span> <span></span><span>d</span><span>bcec585</span>
├─╯  changes to file1
○  <span></span><span>p</span><span>uxnvzsm</span> <span><a href="https://kubamartin.com/cdn-cgi/l/email-protection" data-cfemail="e68b83a68d9384878b8794928f88c885898b">[email&nbsp;protected]</a></span> <span>2025-01-30 22:34:43</span> <span></span><span>0b</span><span>98fe5b</span>
│  initial
<span></span><span>◆</span>  <span></span><span>zz</span><span>zzzzzz</span> <span>root()</span> <span></span><span>00</span><span>000000</span>
</pre><p>Then, whenever you want to move some modifications into one of the branches, you can use <code>jj squash --into &lt;target-change-id&gt; &lt;files&gt;</code> to move all modifications to a set of files down into one of the branches. There’s also <code>--interactive</code> where you can use a diff tool to choose modifications to squash into another change, and finally there’s a <a href="https://jj-vcs.github.io/jj/latest/cli-reference/#jj-absorb">newer <code>jj absorb</code> command</a> which can automate this process in certain scenarios.</p><p>Editing files in a merged dev-change and<br>selectively squashing the changes into branches</p><p>In conclusion, you can keep working in a local-only merge-change of your branches, and selectively push down any modifications to the relevant branch (This setup would’ve seemed pretty scary before jj, right? I hope it’s a bit less scary now.), and then push just those branches themselves to the remote.</p><h2 id="revset-expressions">Revset Expressions</h2><p>jj commands operate on revisions or sets of revisions (revsets). You can refer to those directly, or use a special expression language to describe them. You’ve seen me refer to a change previously via <code>@-</code>. That was a very simple expression that evaluated to the parent.</p><p>There is, however, much more. There are functions - like <code>parents(x)</code> to get the parents of a change - and operators - like <code>x+</code> to refer to the child of x, or <code>x::</code> for all descendants of x including x.</p><p><code>jj log</code> accepts a revset expression, so you can use it to experiment with them. The default revset it displays is also configurable. Overall, the expression language is powerful and consistent, with simple things being generally easy, and harder things being (presumably, I’ve honestly spent too little time with it) possible.</p><p>See <a href="https://v5.chriskrycho.com/essays/jj-init/#revisions-and-revsets">this article</a> for a much more extensive exploration of the jj expression language, and the <a href="https://jj-vcs.github.io/jj/latest/revsets/">jj docs</a> themselves.</p><h3 id="pattern-partial-stashes">Pattern: Partial Stashes</h3><p>Another kind of stash I occasionally like to do is partial, where I temporarily roll back changes to a set of files to verify the before-after (e.g. confirm that a passing test was failing before).</p><p>In jj the split command works well for this. Just <code>jj split --parallel modifiedFile.txt</code> will move the file into a parallel change. You can do whatever you want to do, and later run <code>jj squash --from parallel_change_id</code> to get the file modifications back into the current change.</p><p>Partial stash using <code>jj split --parallel</code></p><h2 id="setting-up-jj-with-an-existing-git-repo">Setting Up jj with an Existing Git Repo</h2><p>It’s trivial to start using jj with an existing git repo, though I’d advise cloning it fresh into a new directory.</p><p>In a directory where you already have a git repo, you can just run <code>jj git init --colocate</code>. Your <code>.git</code> directory will stay in place, and jj will keep it updated, so e.g. your editor won’t be confused what’s happening. It integrates fairly well, with e.g. the working change - even though it’s backed by a commit - being presented as the git index, so your editor can still show files “modified in this change”.</p><h2 id="should-you-switch">Should You Switch?</h2><p>The cost of switching is low, as it integrates seamlessly with your existing workflow. It frankly also takes a day tops to get used to, and there’s something to be said for using <em>nice</em> things. Sure, you can make excellent tea in any food-safe kettle, but if you have a nice tea kettle, you’ll enjoy it every time you make tea. I use my vcs quite a lot, so why not make that pleasant too?</p><h2 id="conclusion">Conclusion</h2><p>I hope the above gave you an intuition for what Jujutsu, the VCS, is all about, and ideally even encouraged you to take a look at it.</p><p>If you’d like to do some more readings about jj, I’ve used the below articles and guides when learning it, and a lot of what I wrote above is inspired by parts of them. Check them out!</p><ul><li><a href="https://v5.chriskrycho.com/essays/jj-init">https://v5.chriskrycho.com/essays/jj-init</a></li><li><a href="https://neugierig.org/software/blog/2024/12/jujutsu.html">https://neugierig.org/software/blog/2024/12/jujutsu.html</a></li><li><a href="https://tonyfinn.com/blog/jj/">https://tonyfinn.com/blog/jj/</a></li><li><a href="https://steveklabnik.github.io/jujutsu-tutorial/">https://steveklabnik.github.io/jujutsu-tutorial/</a></li><li><a href="https://v5.chriskrycho.com/journal/jujutsu-megamerges-and-jj-absorb/">https://v5.chriskrycho.com/journal/jujutsu-megamerges-and-jj-absorb/</a></li></ul><p>Finally, I of course recommend just reading the docs: <a href="https://jj-vcs.github.io/jj/latest/">https://jj-vcs.github.io/jj/latest/</a></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Apple Invites (428 pts)]]></title>
            <link>https://www.apple.com/newsroom/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/</link>
            <guid>42934422</guid>
            <pubDate>Tue, 04 Feb 2025 16:21:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.apple.com/newsroom/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/">https://www.apple.com/newsroom/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/</a>, See on <a href="https://news.ycombinator.com/item?id=42934422">Hacker News</a></p>
<div id="readability-page-1" class="page">


	
    







 
<nav id="ac-localnav" lang="en-US" role="navigation" aria-label="Newsroom" data-analytics-region="local nav" data-sticky="">
	
    
    
        




    
    
    
	
	

</nav>





<main id="main" role="main"> 




<span id="opens-in-new-window">opens in new window</span>
<section>
<article data-analytics-activitymap-region-id="article">






    
    
    









    





    <div>
        
		
        <div>
                    
                    
                        <span>PRESS RELEASE</span>
                    
                    
                        <span>February 4, 2025</span>
                    
                    
                </div>

        <div>
                
                
                
                    <h2>
                        
    
        Introducing Apple&nbsp;Invites, a&nbsp;new app that brings people together for life’s special moments
    

                    </h2>
                
            </div>

        

        
            
    
    
    
    
    

        

    </div>







    
    
    


    
        
        
        
        
            <figure aria-label="Media, iPhone 16 Pro shows an invite for a housewarming party in the Apple Invites app.">
                <div>
                         
                            
                            <div>
                                Apple Invites is a new app that allows iPhone users to create custom invitations to gather family and friends for any occasion.
                            </div>
                        
                        
                        
                        
                        <a href="https://www.apple.com/newsroom/images/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/article/Apple-Invites-upcoming.zip" download="" data-analytics-title="download image - Apple-Invites-upcoming_inline" aria-label="Download media, iPhone 16 Pro shows an invite for a housewarming party in the Apple Invites app."></a>
                    </div>
            </figure>
        
    










    
    
    


     
     
    
    
        <div>
             
                 <div><strong><span>CUPERTINO, CALIFORNIA</span>&nbsp;</strong>Apple today introduced Apple Invites, a new app for iPhone that helps users create custom invitations to gather friends and family for any occasion. With Apple Invites, users can create and easily share invitations, RSVP, contribute to Shared Albums, and engage with Apple Music playlists. Starting today, users can download Apple Invites from the <a href="https://apps.apple.com/app/invites/id6472498645" target="_blank">App Store</a>, or access it on the web through <a href="https://www.icloud.com/invites/" target="_blank" rel="nofollow" data-analytics-exit-link="">icloud.com/invites</a>. iCloud+ subscribers can create invitations, and anyone can RSVP, regardless of whether they have an Apple Account or Apple device.
</div>
                 
             
                 <div>“With Apple Invites, an event comes to life from the moment the invitation is created, and users can share lasting memories even after they get together,” said Brent Chiu-Watson, Apple’s senior director of Worldwide Product Marketing for Apps and iCloud. “Apple Invites brings together capabilities our users already know and love across iPhone, iCloud, and Apple Music,&nbsp;making it easy to plan special events.”
</div>
                 
             
                 <h2><strong>Beautiful Invitations That Create and Capture Shared Moments</strong>
</h2>
                 
             
                 <div>To get started with Apple Invites, users can choose an image from their photo library or from the app’s gallery of backgrounds — a curated collection of images representing different occasions and event themes. Integrations with Maps and Weather give guests directions to the event and the forecast for that day.
</div>
                 
             
                 <div>Additionally, participants can easily contribute photos and videos to a dedicated Shared Album within each invite to help preserve memories and relive the event. And collaborative playlists allow Apple Music subscribers to create a curated event soundtrack that guests can access right from Apple Invites.
</div>
                 
             
         </div>
 

    
    
    


    
    
        
        
        
            <div role="group" aria-label="gallery" data-component-list="MixinGallery" id="apple-invites">
            <nav role="presentation">
                <ul role="tablist">
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-e5768de1ee73303fdf9940ace1001873" href="#gallery-e5768de1ee73303fdf9940ace1001873" data-ac-gallery-trigger="gallery-e5768de1ee73303fdf9940ace1001873"><span>On iPhone 16 Pro, a screen in the Apple Invites app prompts a user to give their event a name and choose a photo.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-e2ed965229cbc9f7abed568fe7ef9e13" href="#gallery-e2ed965229cbc9f7abed568fe7ef9e13" data-ac-gallery-trigger="gallery-e2ed965229cbc9f7abed568fe7ef9e13"><span>On iPhone 16 Pro in the Apple Invites app, an event invite titled Housewarming Party is shown.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-69c5e452964f7ed15a15807c85ca4a6d" href="#gallery-69c5e452964f7ed15a15807c85ca4a6d" data-ac-gallery-trigger="gallery-69c5e452964f7ed15a15807c85ca4a6d"><span>On iPhone 16 Pro in the Apple Invites app, an event’s guest list and shared photo album are shown.</span></a>
                        </li>
                    
                        <li role="presentation">
                            <a id="gallery-dotnav-5d9ae37ea585e3e0746c1eb04b9db23d" href="#gallery-5d9ae37ea585e3e0746c1eb04b9db23d" data-ac-gallery-trigger="gallery-5d9ae37ea585e3e0746c1eb04b9db23d"><span>On iPhone 16 Pro in the Apple Invites app, a shared photo album for an event titled Housewarming Party is shown.</span></a>
                        </li>
                    
                </ul>
            </nav>
            <div>
                
                    
                        
                        <div id="gallery-e5768de1ee73303fdf9940ace1001873" aria-labelledby="gallery-dotnav-e5768de1ee73303fdf9940ace1001873" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:event-title">
                                
                                <div>
                                    <div>With Apple Invites, bringing events to life is easy and fun. Users can create, share, and RSVP to invitations through the Apple Invites app, or on the web from any device.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/article/Apple-Invites-create-an-event.zip" download="" data-analytics-title="download image - Apple-Invites-create-an-event_inline" aria-label="Download media, On iPhone 16 Pro, a screen in the Apple Invites app prompts a user to give their event a name and choose a photo."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-e2ed965229cbc9f7abed568fe7ef9e13" aria-labelledby="gallery-dotnav-e2ed965229cbc9f7abed568fe7ef9e13" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:housewarming-party">
                                
                                <div>
                                    <div>iCloud+ subscribers can create invitations, and anyone can RSVP, regardless of whether they have an Apple Account or Apple device.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/article/Apple-Invites-event-view.zip" download="" data-analytics-title="download image - Apple-Invites-event-view_inline" aria-label="Download media, On iPhone 16 Pro in the Apple Invites app, an event invite titled Housewarming Party is shown."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-69c5e452964f7ed15a15807c85ca4a6d" aria-labelledby="gallery-dotnav-69c5e452964f7ed15a15807c85ca4a6d" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:guest-list-and-extras">
                                
                                <div>
                                    <div>Integrations with Maps and Weather give guests directions to the event and the forecast for that day.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/article/Apple-Invites-event-view-scrolled.zip" download="" data-analytics-title="download image - Apple-Invites-event-view-scrolled_inline" aria-label="Download media, On iPhone 16 Pro in the Apple Invites app, an event’s guest list and shared photo album are shown."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
                    
                        
                        <div id="gallery-5d9ae37ea585e3e0746c1eb04b9db23d" aria-labelledby="gallery-dotnav-5d9ae37ea585e3e0746c1eb04b9db23d" data-gallery-item="">
                            <figure role="presentation" data-analytics-activitymap-region-id="Gallery:shared-album">
                                
                                <div>
                                    <div>With Shared Albums, participants can easily contribute photos and videos to help preserve memories.</div>
                                    
                                    
                                    <a href="https://www.apple.com/newsroom/images/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/article/Apple-Invites-Shared-Albums.zip" download="" data-analytics-title="download image - Apple-Invites-Shared-Albums_inline" aria-label="Download media, On iPhone 16 Pro in the Apple Invites app, a shared photo album for an event titled Housewarming Party is shown."></a>
                                </div>
                            </figure>
                        </div>
                        
                    
                
            </div>
            
                
                
                <nav role="presentation">
                    
                        <ul>
                            <li>
                                
                            </li>
                            <li>
                                
                            </li>
                        </ul>
                    
                </nav>
            
        </div>
    


    
    
    


     
     
    
    
        <div>
             
                 <h2><strong>Apple Intelligence Makes Invites Even More Fun</strong>
</h2>
                 
             
                 <div>With Apple Intelligence, creating unique event invitations is easy. Users can tap in to the built-in Image Playground experience to produce original images using concepts, descriptions, and people from their photo library. And when composing invitations, users can use Writing Tools to help find just the right turn of phrase to meet the moment.<sup>1</sup>
</div>
                 
             
         </div>
 

    
    
    


    
        
        
        
        
            <figure aria-label="Media, In Apple Invites on iPhone 16 Pro, an invitation for a child’s birthday party features an Image Playground-generated image of a birthday cake.">
                <div>
                         
                            
                            <div>
                                Image Playground is built right into Apple Invites, giving users an easy way to generate original images that make their invitation even more unique.
                            </div>
                        
                        
                        
                        
                        <a href="https://www.apple.com/newsroom/images/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/article/Apple-Invites-Apple-Intelligence-birthday-party-invite.zip" download="" data-analytics-title="download image - Apple-Invites-Apple-Intelligence-birthday-party-invite_inline" aria-label="Download media, In Apple Invites on iPhone 16 Pro, an invitation for a child’s birthday party features an Image Playground-generated image of a birthday cake."></a>
                    </div>
            </figure>
        
    










    
    
    


     
     
    
    
        <div>
             
                 <h2><strong>Simple Ways to Manage and Join Events</strong>
</h2>
                 
             
                 <div>Hosts get full control of their invite experience: They can easily view and manage their events, share invitations with a link, review RSVPs, and choose the details they want included in the preview, like the event background or a home address. Guests can view and respond to an invitation using the new iPhone app or on the web without needing an iCloud+ subscription or an Apple Account. Attendees control how their details show up to others, and have the ability to leave or report an event at any time.
</div>
                 
             
         </div>
 

    
    
    


    
        
        
        
        
            <figure aria-label="Media, On iPhone 16 Pro, an invitation’s guest list is shown in Apple Invites.">
                <div>
                         
                            
                            <div>
                                Hosts can easily view and manage their events, share invitations with a link, review RSVPs, and choose the details they want included in the preview, like the event background or a home address.
                            </div>
                        
                        
                        
                        
                        <a href="https://www.apple.com/newsroom/images/2025/02/introducing-apple-invites-a-new-app-that-brings-people-together/article/Apple-Invites-guest-list.zip" download="" data-analytics-title="download image - Apple-Invites-guest-list_inline" aria-label="Download media, On iPhone 16 Pro, an invitation’s guest list is shown in Apple Invites."></a>
                    </div>
            </figure>
        
    










    
    
    


     
     
    
    
        <div>
             
                 <h2><strong>Additional iCloud+ Premium Features</strong>
</h2>
                 
             
                 <div>In addition to event creation in Apple Invites, iCloud+ subscribers have access to many more premium features:
</div>
                 
             
                 <div><ul>
<li><strong>Expanded storage&nbsp;</strong>allows users to keep large libraries of original, high-resolution photos, videos, and files safe in iCloud, and easily accessible across all of their devices and the web.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li><strong>Private Relay</strong> keeps browsing in Safari entirely private from network providers, websites, and even Apple.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li><strong>Hide My Email</strong> generates unique, random email addresses whenever needed.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li><strong>HomeKit Secure Video</strong> allows users to capture and review home security footage in an end-to-end encrypted format.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li><strong>Custom email domains</strong> enable users to personalize their iCloud email address.</li>
</ul>
</div>
                 
             
                 <div><ul>
<li><strong>Family Sharing</strong> allows users to share their iCloud+ subscription with up to five people at no extra cost.</li>
</ul>
</div>
                 
             
                 <div>Users can learn more about subscribing to iCloud+ at <a href="https://www.apple.com/icloud/" target="_blank">apple.com/icloud</a>, with plans starting at just $0.99.
</div>
                 
             
         </div>
 

    
    
    


     
     
    
    
        <div>Apple Invites is available today as a free download from the App Store for all iPhone models running iOS 18 or later, and can be accessed on the web at <a href="https://www.icloud.com/invites/" target="_blank" rel="nofollow" data-analytics-exit-link="">icloud.com/invites</a>. Some features are not available in all regions or in all languages. For more information, visit <a href="https://www.apple.com/ios/feature-availability/" target="_blank">apple.com/ios/feature-availability</a>.
</div>
 

    
    
    




    
    
        
    


    
    
    



    
    
    




    




    
    
    





    
    
    <div>
            <ol>
<li>Apple Intelligence is available on iPhone 15 Pro, iPhone 15 Pro Max, iPhone 16, iPhone 16 Plus, iPhone 16 Pro, and iPhone 16 Pro Max running iOS 18.2 and later, and can be accessed in most regions around the world when the device and Siri language are set to localized English for Australia, Canada, New Zealand, South Africa, the&nbsp;U.K., or the&nbsp;U.S.</li>
</ol>

        </div>



    
    
    






    

















		
		
			
























		
		

</article>



</section>
</main>


	

</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Chat is a bad UI pattern for development tools (703 pts)]]></title>
            <link>https://danieldelaney.net/chat/</link>
            <guid>42934190</guid>
            <pubDate>Tue, 04 Feb 2025 16:06:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://danieldelaney.net/chat/">https://danieldelaney.net/chat/</a>, See on <a href="https://news.ycombinator.com/item?id=42934190">Hacker News</a></p>
<div id="readability-page-1" class="page"><a href="https://danieldelaney.net/" id="logo"><span>Dd</span></a>






<p>Code forces humans to be precise. That’s good—computers need precision. But it also forces humans to think like machines.</p>

<p>For decades we tried to fix this by making programming more human-friendly. Higher-level languages. Visual interfaces. Each step helped, but we were still translating human thoughts into computer instructions.</p>

<p>AI was supposed to change everything. Finally, plain English could be a programming language—one everyone already knows. No syntax. No rules. Just say what you want.</p>

<p>The first wave of AI coding tools squandered this opportunity. They make flashy demos but produce garbage software. People call them “great for prototyping,” which means “don’t use this for anything real.”</p>

<p>Many blame the AI models, saying we just need them to get smarter. This is wrong. Yes, better AI will make better guesses about what you mean. But when you’re building serious software, you don’t want guesses—even smart ones. You want to know exactly what you’re building.</p>

<p>Current AI tools pretend writing software is like having a conversation. It’s not. It’s like writing laws. You’re using English, but you’re defining terms, establishing rules, and managing complex interactions between everything you’ve said.</p>

<p>Try writing a tax code in chat messages. You can’t. Even simple tax codes are too complex to keep in your head. That’s why we use documents—they let us organize complexity, reference specific points, and track changes systematically. Chat reduces you to memory and hope.</p>

<p>This is the core problem. You can’t build real software without being precise about what you want. Every successful programming tool in history reflects this truth. AI briefly fooled us into thinking we could just chat our way to working software.</p>

<p>We can’t. You don’t program by chatting. You program by writing documents.</p>



<p>When your intent is in a document instead of scattered across a chat log, English becomes a real programming language:</p>

<ul>
  <li>You can see your whole system at once</li>
  <li>You can clarify and improve your intent</li>
  <li>You can track changes properly</li>
  <li>Teams can work on the system together</li>
  <li>Requirements become their own quality checks</li>
  <li>Changes start from clear specifications</li>
</ul>

<p>The first company to get this will own the next phase of AI development tools. They’ll build tools for real software instead of toys. They’ll make everything available today look like primitive experiments.</p>




<!-- If you’d like to be notified via e-mail when a new article is published, <a href="/subscribe">subscribe</a>. -->

<!-- Google Analytics -->


<!-- Hotjar -->


</div>]]></description>
        </item>
        <item>
            <title><![CDATA[America desperately needs more air traffic controllers (201 pts)]]></title>
            <link>https://www.cnn.com/2025/02/04/business/air-traffic-controller-shortage/index.html</link>
            <guid>42933840</guid>
            <pubDate>Tue, 04 Feb 2025 15:44:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cnn.com/2025/02/04/business/air-traffic-controller-shortage/index.html">https://www.cnn.com/2025/02/04/business/air-traffic-controller-shortage/index.html</a>, See on <a href="https://news.ycombinator.com/item?id=42933840">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-uri="cms.cnn.com/_components/video-resource/instances/cm6qh33u5002n3b6mhs0xmte5@published" data-component-name="video-resource" data-editable="lede" data-fixed-ratio="16x9" data-parent-uri="cms.cnn.com/_components/video-resource/instances/cm6lk89lo00003j6mpeprid47@published" data-video-id="me67c2972e51c2e8518f008d888794f525cea5e4ee" data-media-id="me67c2972e51c2e8518f008d888794f525cea5e4ee" data-live="" data-analytics-aggregate-events="true" data-custom-experience="" data-asset-type="hlsTs" data-auth-type="none" data-content-type="mediasource-clip" data-medium-env="" data-autostart="disabled" data-show-ads="true" data-source="CNN" data-featured-video="true" data-headline="DC crash shines spotlight on air traffic controllers" data-has-video-player="true" data-description="<p>Questions over control tower staffing levels during DC plane crash highlight the national shortage of workers in a stressful, difficult profession: air traffic controllers.</p>" data-duration="03:08" data-source-html="<span class=&quot;video-resource__source&quot;> - Source:
            
                <a target=&quot;_self&quot; href=&quot;https://www.cnn.com/&quot; class=&quot;video-resource__source-url&quot;>CNN</a>
    </span>" data-fave-thumbnails="{&quot;big&quot;: { &quot;uri&quot;: &quot;https://media.cnn.com/api/v1/images/stellar/videothumbnails/76376757-11483919-generated-thumbnail.jpg?c=16x9&amp;q=h_540,w_960,c_fill&quot; }, &quot;small&quot;: { &quot;uri&quot;: &quot;https://media.cnn.com/api/v1/images/stellar/videothumbnails/76376757-11483919-generated-thumbnail.jpg?c=16x9&amp;q=h_540,w_960,c_fill&quot; }  }" data-vr-video="false" data-show-html="<!-- unable to render partial show without a supplied context -->" data-byline-html="<div data-uri=&quot;cms.cnn.com/_components/byline/instances/cm6lk89tw00013j6m8o1nxhfz@published&quot; data-component-name=&quot;byline&quot; class=&quot;byline vossi-byline&quot; data-editable=&quot;settings&quot; >
		<div class=&quot;byline__images&quot;>
                    <a class=&quot;byline__image-link&quot; href=&quot;https://www.cnn.com/profiles/brian-todd-profile&quot;>
                    <img height=&quot;100&quot; width=&quot;100&quot; class=&quot;byline__image vossi-byline__image&quot; src=&quot;https://media.cnn.com/api/v1/images/stellar/prod/170328142914-brian-todd.jpg?c=16x9&amp;q=h_270,w_480,c_fill/c_thumb,g_face,w_100,h_100&quot; alt=&quot;Brian Todd&quot; onerror=&quot;imageLoadError(this)&quot;/>
                    </a>
		</div>
		<div class=&quot;byline__names vossi-byline__names&quot;>
			By <a class=&quot;byline__link vossi-byline__link&quot; href=https://www.cnn.com/profiles/brian-todd-profile><span class=&quot;byline__name&quot;>Brian Todd</span></a>, CNN
		</div>
</div>" data-timestamp-html="<div
  class=&quot;timestamp vossi-timestamp&quot;
  data-uri=&quot;cms.cnn.com/_components/timestamp/instances/cm6lk8a7r00043j6mpfbmng4a@published&quot;
  data-editable=&quot;settings&quot;
>
  Published
        7:48 AM EST, Tue February 4, 2025
    </div>" data-check-event-based-preview="" data-is-vertical-video-embed="" data-network-id="" data-publish-date="2025-02-01T02:24:16.585Z" data-video-section="us" data-canonical-url="https://www.cnn.com/2025/01/31/us/video/dc-crash-shines-spotlight-on-air-traffic-controllers" data-branding-key="" data-video-slug="dc-crash-shines-spotlight-on-air-traffic-controllers" data-first-publish-slug="dc-crash-shines-spotlight-on-air-traffic-controllers" data-video-tags="" data-breakpoints="{&quot;video-resource--media-extra-large&quot;: 660}" data-display-video-cover="true" data-details="" data-freewheel-lede="true">

                    


<div data-image-variation="image" data-breakpoints="{&quot;image--eq-extra-small&quot;: 115, &quot;image--eq-small&quot;: 300}" data-uri="cms.cnn.com/_components/video-player/instances/cm6lk8ag500063j6myyo32jqu@published" data-name="clipped thumbnail - dc-crash-shines-spotlight-on-air-traffic-controllers - CNN ID 21338499 - 00:00:00;00" data-component-name="video-player" data-observe-resizes="" data-original-ratio="0.5625" data-original-height="1080" data-original-width="1920" data-url="https://media.cnn.com/api/v1/images/stellar/videothumbnails/76376757-11483919-generated-thumbnail.jpg?c=original" data-unselectable="true" id="player-cms.cnn.com/_components/video-player/instances/cm6lk8ag500063j6myyo32jqu@published" data-title="" data-show-ads="true" data-is-vertical-video-embed="" data-custom-experience="" data-autostart="disabled" data-is-vertical-video="" data-fixed-ratio="16x9" data-headline="DC crash shines spotlight on air traffic controllers" data-auth-type="none" data-video-resource-parent-uri="cms.cnn.com/_components/video-resource/instances/cm6lk89lo00003j6mpeprid47@published" data-live="" data-content-type="mediasource-clip" data-video-resource-uri="cms.cnn.com/_components/video-resource/instances/cm6qh33u5002n3b6mhs0xmte5@published" data-poster-image-override="{&quot;big&quot;: { &quot;uri&quot;: &quot;https://media.cnn.com/api/v1/images/stellar/videothumbnails/76376757-11483919-generated-thumbnail.jpg?c=16x9&amp;q=h_540,w_960,c_fill&quot; }, &quot;small&quot;: { &quot;uri&quot;: &quot;https://media.cnn.com/api/v1/images/stellar/videothumbnails/76376757-11483919-generated-thumbnail.jpg?c=16x9&amp;q=h_540,w_960,c_fill&quot; }  }" data-video-id="me67c2972e51c2e8518f008d888794f525cea5e4ee" data-media-id="me67c2972e51c2e8518f008d888794f525cea5e4ee" data-duration="03:08" data-description="<p>Questions over control tower staffing levels during DC plane crash highlight the national shortage of workers in a stressful, difficult profession: air traffic controllers.</p>" data-check-event-based-preview="" data-network-id="" data-publish-date="2025-02-01T02:24:16.585Z" data-video-section="us" data-canonical-url="https://www.cnn.com/2025/01/31/us/video/dc-crash-shines-spotlight-on-air-traffic-controllers" data-branding-key="" data-video-slug="dc-crash-shines-spotlight-on-air-traffic-controllers" data-first-publish-slug="dc-crash-shines-spotlight-on-air-traffic-controllers" data-video-tags="">
       <picture><img src="https://media.cnn.com/api/v1/images/stellar/videothumbnails/76376757-11483919-generated-thumbnail.jpg?c=16x9&amp;q=w_1280,c_fill" alt="<p>Questions over control tower staffing levels during DC plane crash highlights the national shortage of workers in a stressful, difficult profession: air traffic controllers.</p>" onload="this.classList.remove('image__dam-img--loading')" onerror="imageLoadError(this)" height="1080" width="1920"></picture>
    </div>

                    
                <div>
                    <p>DC crash shines spotlight on air traffic controllers
                </p>
                    <p><span>
                                03:08
                            </span>
                            <span> - Source:
            
                <a target="_self" href="https://www.cnn.com/">CNN</a>
    </span>
                    </p>
                </div>
    <div>
                    <div>
                        <p>DC crash shines spotlight on air traffic controllers</p>
                    </div>
                    <p>03:08     <span>
    </span>
 </p>
                </div>
</div><div data-editable="content" itemprop="articleBody" data-reorderable="content">
                  <p><cite>
      <span data-editable="location">New York</span>
      <span data-editable="source">CNN</span>
        &nbsp;—&nbsp;
    </cite>
</p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzi82000v2cp3asvwhzet@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The US air traffic control system has been stretched nearly to its breaking point by a decades-long staffing shortage. It’s causing problems not just for the air traffic controllers that remain but the flying public at large.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu000023b6mmvykgpu8@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            And it won’t get better any time soon.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu000033b6mjagqpkwj@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The Federal Aviation Administration, which runs the air traffic system, stepped up the pace of hiring in 2024 under President Joe Biden. But even though 2,000 qualified applicants were hired last year, they might only just barely replace the 1,100 who left the job either through retirement or due to the heavy toll the stressful job takes on those who enter the field.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6psqh7900013b6n9wf1r7ln@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            That’s because nearly half of those hired in any given year will wash out of the program before they get to actually control aircraft after about three years from their initial start date.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu000043b6mhloaivic@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            So even with an increase in the pace of hiring, it could take as much as 8 to 9 years to reach full staffing, according to Nick Daniels, president of the National Air Traffic Controllers Association, the union representing 10,800 certified controllers across the nation. He said that 41% of the union’s members are working six days a week, 10 hours a day, just to provide a staffing level that still isn’t adequate. Those 10,800 controllers currently on the job are filling the 14,600 positions needed to meet the current demand.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu000053b6m41w8aba1@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “We’ve been raising the alarm on this for years on end,” Daniels told CNN. “We need air traffic controllers. We need maximum hiring, so that these stresses and pressures can be taken off of us who are holding the system together today.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6qepse400273b6mpymvhb48@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “If we’re going to recruit the best and brightest, we have to make this job (one) that people want to do,” he said.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6qec5nn001g3b6m60ewkx20@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Anonymous reports to <a href="https://asrs.arc.nasa.gov/search/database.html" target="_blank">NASA’s Aviation Safety Reporting System</a> showed at least 10 submissions by controllers that included concerns about staffing, work schedules or fatigue in the last year alone.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6qep8md00243b6mcz3ekl1i@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “We have been short staffed for too many years and it’s creating so many unsafe situations,” one controller in Southern California wrote last year, recounting how a small aircraft requesting assistance could not be helped due to workload issues. “The FAA has created an unsafe environment to work and for the flying public. The controllers’ mental health is deteriorating.”<strong> </strong>
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu000063b6m7uxbonf4@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            So, shortage is not only due to the rigorous standards that make it difficult and time consuming to fill the pipeline with new controllers, but the stresses, demands and hours controllers must work are leading to an attrition rate that makes it difficult for the new hires to make a dent in the shortage.
    </p>

  

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu000073b6ma20gkmct@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The fatal crash at Ronald Reagan Washington National Airport last week brought new attention to a decades-old problem. There are simply not enough air traffic controllers to keep aircraft a safe distance from one another.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu000083b6mun49qciv@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The cause of the crash between an American Airlines flight from Wichita, Kansas, on final approach for landing at the busy airport, and a US Army helicopter has yet to be determined. Crash investigators are not blaming the air traffic controller directing the traffic, who advised the helicopter to be aware of the regional jet’s position in the area ahead of the crash.
    </p>

<div data-image-variation="image" data-breakpoints="{&quot;image--eq-extra-small&quot;: 115, &quot;image--eq-small&quot;: 300}" data-uri="cms.cnn.com/_components/image/instances/cm6qekamh001y3b6mj35tcmif@published" data-name="GettyImages-2196194139.jpg" data-component-name="image" data-observe-resizes="" data-original-ratio="0.6666666666666666" data-original-height="2000" data-original-width="3000" data-url="https://media.cnn.com/api/v1/images/stellar/prod/gettyimages-2196194139.jpg?c=original" data-editable="settings">
       <picture><source height="2000" width="3000" media="(min-width: 1280px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/gettyimages-2196194139.jpg?q=w_1110,c_fill/f_webp" type="image/webp"><source height="2000" width="3000" media="(min-width: 960px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/gettyimages-2196194139.jpg?q=w_1015,c_fill/f_webp" type="image/webp"><source height="2000" width="3000" media="(min-width: 480px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/gettyimages-2196194139.jpg?q=w_1160,c_fill/f_webp" type="image/webp"><source height="2000" width="3000" media="(max-width: 479px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/gettyimages-2196194139.jpg?q=w_680,c_fill/f_webp" type="image/webp"><img src="https://media.cnn.com/api/v1/images/stellar/prod/gettyimages-2196194139.jpg?q=w_1110,c_fill" alt="A man gestures inside the control tower of Reagan Washington National Airport." onload="this.classList.remove('image__dam-img--loading')" onerror="imageLoadError(this)" height="2000" width="3000" loading="lazy"></picture>
    </div>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu000093b6mhj3f03dr@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            But CNN has confirmed that one controller in the Reagan Washington National tower was staffing two different jobs, handling both local air traffic and helicopter traffic in the area. Daniels, the president of the National Air Traffic Controllers Association, the controllers’ union, is not allowed to comment on the causes of crash itself since the union is a party to the ongoing investigation.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000a3b6m5ea8otag@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Despite the lack of information on the cause of the fatal mid-air collision, President Donald Trump blamed the FAA’s diversity, equity and inclusion policy, or DEI, for the crash, even though he provided no proof or evidence that the crash was caused by the controller or its hiring process.<strong> </strong>On his first day in office, he signed an executive order ending this DEI and other DEI programs throughout the federal government that were designed to broaden the applicant pool for hiring, wrongly claiming that the program lowered hiring standards for the job.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000b3b6mi954szok@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “I put safety first. Obama, Biden and the Democrats put policy first,” he said. “We have to have our smartest people.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000c3b6m7yn9ac6z@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            But despite Trump’s claims, the policies and standards for air traffic controllers had not gotten tougher under his administrations than under his two Democratic predecessors. Under both Trump’s first term and the Obama and Biden administrations, all controllers have had to pass some of the most rigorous processes for any government position. They have to go through aptitude testing, medical and psychological screening and security clearance, followed by training in an academy and then years of on-the-job training.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000d3b6mcq1cv0rf@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Daniels and others say that the FAA effort to broaden its pool of applicants through DEI in no way reduced the standards for those who got selected.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000e3b6mgxthdsv3@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “Whatever group we hire are going to have to through the same process, no matter what,” Daniels said. “No matter your race, no matter your gender. The more that apply that will be able to handle those rigorous standards, we want them to come and become an air traffic controller.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000f3b6muxvt2fq6@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The FAA did not respond to questions about its hiring process or the end of the DEI program that was announced by Trump administration officials.
    </p>

  

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000g3b6m5cdl8hgn@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            But experts in the field say even if it turns out that the shortage of air traffic controllers played no role in last week’s tragedy, everyone in the industry agrees that the shortage is affecting everyone in the flying public.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000h3b6ms7uqxs86@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “It is not sustainable,” said Michael McCormick, the head of the air traffic management program at Embry-Riddle Aeronautical University, which is helping to feed potential controllers into the system. “Everybody needs their downtime. Working 6 days a week continuously is fatiguing.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000i3b6mlreeupnp@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            He said the FAA has had to limit the number of flights serving some markets, including New York and Washington, because of the shortage of controllers.
    </p>

  

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000j3b6m49jw747y@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “Safety wise, it’s not an impact,” he said about the controller shortage. “But efficiency wise, it is.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000k3b6mofd5441v@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Despite the shortage, air traffic controllers all got the offer that went to federal employees last week, to pay them through September <a href="https://www.cnn.com/2025/01/28/politics/federal-worker-buyouts-trump-administration/index.html">if they would resign</a> now, an effort by the Trump Administration in its early days to cut government spending. The letter threatened that there could not be “full assurance regarding the certainty” of their position if they declined the offer.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000l3b6mgh3emw9m@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Trump’s Transportation Secretary <a href="https://www.cnn.com/2025/02/02/politics/video/washington-dc-american-airlines-black-hawk-collision-sean-duffy-sotu-digvid">Sean Duffy</a> told CNN that “critical safety positions” in the Department of Transportation were not being offered the chance to resign and get more than a half-year of pay.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000m3b6msjp8xcu3@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “We’re going to keep all of our safety positions in place,” he said. “No early retirement. We’re all going to stay and make sure our skies are safe.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000n3b6mr0rfgp9d@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            But Daniels said that FAA management has not confirmed to the union that the offers controllers received are being rescinded, nor did it tell the union that their members would receive the offer before the emails landed in their inboxes.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000o3b6mkitd3r8n@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “We thought it was a spam email,” he said.
    </p>

  

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000p3b6mghph4l4j@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Even if the controllers can’t leave with extra months of pay by giving notice, there is a serious attrition problem among air traffic controllers feeding the shortage.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000q3b6mdkagdeeq@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            FAA rules require all controllers to retire when they turn 56. But Daniels said some controllers are leaving before that age limit. They’re eligible to retire after 25 years on the job, or after 20 years on the job if they are age 50 or above. The stress that goes with the staffing shortage and the six-day work weeks is making it difficult for some to stay as long as they might have with a fully staffed workforce.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000r3b6m4esi0lvh@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “The working conditions … have become consistently unsafe for those in the sky, as well as the physical and mental health of the controllers,” wrote a controller in NASA’s Aviation Safety Reporting System examined by CNN. “Overloaded sectors and sessions over 2, sometimes 3 hours have become common occurrences. We have recently had a heart attack, multiple panic attacks (including my own), people losing their medicals due to depression, and some that just outright quit the FAA because it has gotten so bad.”
    </p>

  


    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pshvfp00003b6njtv6kbqe@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            But the way the FAA and the industry handles mental health issues may be exacerbating the shortage at best and masking far greater problems at worst.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000u3b6mzkfctmp4@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Reaching out for mental health assistance can lead to air traffic controllers losing their jobs. The current rules do not allow controllers to be on SSRI drugs such as Prozac, Lexapro or Zoloft, drugs to treat depression, anxiety and other mental health conditions, even if those conditions have nothing to do with their jobs.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000v3b6mq8n43j9t@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “We are parents, we are American citizens that deal with the same stresses and pressures outside of work as everyone else does,” Daniels said. “And if you’re also at work six days a week, 60 hours inside that work week and then all of the stresses that come at work, all those factors combined can absolutely lead to an air traffic controller being distracted or not being in a place that they want to be.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzkdm00003b6m26165fbz@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            He said that if a controller’s doctor prescribes medication to deal with a depression from a death in the family or other non-work events, they can seek a waiver to be able to take that drug, but that process can take a year or more.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000w3b6m5t95jj4o@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “(It’s a) very archaic method in the way that our health is looked at,” he said. “We are trying to work with the agency … to give controllers real time help so they can continue working and taking care of themselves simultaneously.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000x3b6m7vxwjy2c@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            But President Trump attacked the idea that anyone dealing with mental health issues should be on the job as a controller at his press conference last week, saying that it amounted to an effort under Democratic administrations that sought to hire people with “severe intellectual and psychiatric disabilities” as controllers, which also is untrue.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6pqzmu0000y3b6mmauw15xl@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “My experience in the FAA is that there is a robust selection and training program,” said McCormick.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm6qeq37a002a3b6mdljuf8pa@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            <em>– CNN’s Casey Tolan, Pete Muntean, Alexandra Skores and Vanessa Yurkevich contributed to this story.</em>
    </p>

              </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[100 Or so Books that shaped a Century of Science (133 pts)]]></title>
            <link>https://web.mnstate.edu/schwartz/centurylist2.html</link>
            <guid>42933507</guid>
            <pubDate>Tue, 04 Feb 2025 15:25:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://web.mnstate.edu/schwartz/centurylist2.html">https://web.mnstate.edu/schwartz/centurylist2.html</a>, See on <a href="https://news.ycombinator.com/item?id=42933507">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
	<p><span size="-1" face="Verdana">
	<a href="https://www.americanscientist.org/bookshelf/pub/100-or-so-books-that-shaped-a-century-of-science">The 100 or so Books that
shaped a Century of Science</a><br>
	from "Scientists' Bookshelf"
<u>American Scientist</u>, November-December 1999, Volume 87, No. 6</span></p>
	<p><span size="-1" face="Verdana"><b><span>Biography</span></b><span><br>
	<a href="http://mplus.mnpals.net/vufind/Record/004937023/Holdings">The 
	autobiography of Charles Darwin, 1809-1882</a> 
	by Charles Darwin<br>
	<a href="http://mplus.mnpals.net/vufind/Record/004921376/Holdings">A 
	mathematician's apology</a> by G. H. Hardy<br>
	<a href="http://mplus.mnpals.net/vufind/Record/004982559/Holdings">The double 
	helix : a personal account of the discovery of the structure of DNA</a> by James Watson<br>
	<a href="http://mplus.mnpals.net/vufind/Record/004974963/Holdings">Disturbing
the universe</a> by Freeman Dyson<br>
	<a href="http://mplus.mnpals.net/vufind/Record/005018541/Holdings">"Surely
you're joking, Mr. Feynman!" : adventures of a curious character</a> by
	Richard Feynman</span>
	</span><span size="-1" face="Verdana">Field Guides<br>
	</span><span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005101279/Holdings">William
Garnett, aerial photographs</a> by William Garnett<br>
	East
African mammals : an atlas of evolution in Africa by Jonathan Kingdon<br>
	<a href="http://mplus.mnpals.net/vufind/Record/005129278/Holdings">Five
kingdoms : an illustrated guide to the phyla of life on earth</a> by Lynn Margulis and Karlene 
	V. Schwartz<br>
	Photo-atlas
of the United States : a complete photographic atlas of the U.S.A. using
satellite photography by Photo-Geographic International<br>
	<a href="http://mplus.mnpals.net/vufind/Record/004794069/Holdings">A 
	field guide to the birds of eastern and central North America</a> by Roger 
	Tory Peterson<br>
	The Hubble atlas of galaxies by Allan Sandage (superseded by
	<a href="http://mplus.mnpals.net/vufind/Record/006969070/Holdings">The 
	Carnegie atlas of galaxies</a>)<br>
	<a href="http://mplus.mnpals.net/vufind/Record/004894615/Holdings">Geology illustrated</a> by John S. Shelton<br>
	<a href="http://mplus.mnpals.net/vufind/Record/004856899/Holdings">Sea of 
	Cortez; a leisurely journal of travel and research, with a scientific 
	appendix comprising materials for a source book on the marine animals of the 
	Panamic faunal province</a> by John Steinbeck and E. F. Ricketts<br>
	Oxford English Dictionary (1933), H. Bradley, W. A. Craigie, J. A. H. 
	Murray, and C. T. Onions (eds.).&nbsp; Available online to MSUM students, 
	staff, and faculty<br>
	Hortus;
a concise dictionary of gardening, general horticulture and cultivated
plants in North America&nbsp; by Liberty Hyde Bailey</span>
	</span><b><span size="-1" face="Verdana">The Physical Sciences<br>
	</span><span size="-1" face="Verdana">Explorations<br>
	</span></b><span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005125600/Holdings">The
whole shebang : a state-of-the-universe(s) report</a> by Timothy Ferris</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004924474/Holdings">One
two three ... infinity : facts &amp; speculations of science</a> by George Gamow</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005047197/Holdings">A
brief history of time : from the big bang to black holes</a> by Stephen Hawking</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004661570/Holdings">The
mind's I : fantasies and reflections on self and soul</a> by Douglas Hofstadter and Daniel Dennett</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004668630/Holdings">The
Mediterranean was a desert : a voyage of the Glomar Challenger</a> by Kenneth Hsü and William Ryan</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005020535/Holdings">From
one to zero : a universal history of numbers</a> by Georges Ifrah</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/007683561/Holdings">The
periodic table</a> by Primo Levi</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005132116/Holdings">Annals
of the former world</a> by John McPhee</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005105384/Holdings">Pale
blue dot : a vision of the human future in space</a> by Carl Sagan</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005088582/Holdings">Dreams
of a final theory</a> by Steven Weinberg</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004868223/Holdings">Symmetry</a> 
	by Hermann Weyl</span>
	</span><span size="-1" face="Verdana">Monographs<br>
	</span><span size="-1" face="Verdana">The principles of quantum 
	mechanics (1930) by Paul Dirac ; 4th ed. (1958)
	<a href="http://mplus.mnpals.net/vufind/Record/004883749/Holdings">here</a></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>The
	collected papers of Albert Einstein, volume 2 : the Swiss years : writings, 1902-09 
	by Albert Einstein</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<a href="http://mplus.mnpals.net/vufind/Record/006319294/Holdings">Fractals : form, chance, &amp; dimension</a> (1977) by 
	Benoit B. Mandelbrot<br>
	Nature of the chemical
	bond and the structure of molecules and crystals; an introduction to modern 
	structural chemistry (1939) by Linus Pauling ; 3d ed. (1960)
	<a href="http://mplus.mnpals.net/vufind/Record/004884535/Holdings">here</a><br>
	Principia mathematica (1910-13, 3 vols.
	<a href="https://archive.org/details/principlesofmath01russ/page/n5">Vol. 1</a>;
	<a href="https://archive.org/details/B-001-004-307/page/n0">Vol. 2</a>;
	<a href="https://archive.org/details/cu31924001575244/page/n7">Vol. 3</a>) by Bertrand Russell and Alfred 
	North Whitehead ; 2d ed.
	<a href="http://mplus.mnpals.net/vufind/Record/004882664/Holdings">here</a></span><span><br>
	</span>
	<span size="-1" face="Verdana">A search for structure
	: selected essays on science, art, and history (1981) by Cyril Smith<br>
	Theory of games and economic behavior (1944) by John von Neumann and Oskar 
	Morgenstern ; 3d ed.
	(1953) <a href="http://mplus.mnpals.net/vufind/Record/004882852/Holdings">here</a>; 
	60th anniversary ed. (2004)
	<a href="http://mplus.mnpals.net/vufind/Record/005189703">here</a></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>Cybernetics : or,
Control and communication in the animal and the machine (1948) by Norbert 
	Wiener ; 2d ed.
	</span>
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004948531/Holdings">here</a></span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004833090/Holdings">The conservation of orbital symmetry</a> (1970) by R. B. Woodward and Roald 
	Hoffmann<br>
	The meaning of
	relativity (1922) by Albert Einstein ; 5th ed.
	</span>
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005131569/Holdings">here</a></span></span><span><br>
	</span>
	<span size="-1" face="Verdana">QED : the strange
theory of light and matter (1985) by Richard Feynman ; 7th printing, with corrections,
	<a href="http://mplus.mnpals.net/vufind/Record/005057227/Holdings">here</a></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004878138/Holdings">The art of computer programming</a> (1968) by Donald Knuth 
	; 2d ed <a href="http://mplus.mnpals.net/vufind/Record/004899901">here</a> ; 
	3d ed <a href="http://mplus.mnpals.net/vufind/Record/005126733">here</a></span></span><span><br>
	</span>
	<b><span size="-1" face="Verdana"><span><br>
	History of Science<br>
	</span>
	</span></b><span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005027980/Holdings">Inward
bound : of matter and forces in the physical world</a> by Abraham Pais<br>
	<a href="http://mplus.mnpals.net/vufind/Record/004846126/Holdings">Science
in history</a> by John Desmond Bernal</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004885679/Holdings">Microbe
	hunters</a> by Paul de Kruif</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004888063/Holdings">In
the name of science</a> (revised and expanded as
	<a href="http://mplus.mnpals.net/vufind/Record/004848624/Holdings">Fads
and fallacies in the name of science</a>) by Martin Gardner<br>
	<a href="http://mplus.mnpals.net/vufind/Record/004844621/Holdings">The
great chain of being ; a study of the history of an idea</a> by Arthur O. Lovejoy</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>Science and civilization in China by Joseph Needham</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005034681/Holdings">The making of the atomic bomb</a> by Richard Rhodes</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004896599/Holdings">A
	history of technology</a>, edited by Charles Singer and others</span></span><span><br>
	</span>
	<span face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004975349/Holdings">The right stuff</a> by 
	</span></span>
	<span size="-1" face="Verdana">Tom Wolfe</span><span size="-1" face="Verdana">Science Itself Examined<br>
	</span><span size="-1" face="Verdana">
	<span>
	<a href="http://www.archive.org/details/scienceendlessfr00unit">Science-the endless frontier a report to the President on a program for 
	postwar scientific research</a> by Vannevar Bush</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004864046/Holdings">The structure of scientific revolutions</a> (1962) by Thomas Kuhn ; 2d ed. 
	<a href="http://mplus.mnpals.net/vufind/Record/004833396">here</a>;
3d ed. 
	</span>
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005120697">here</a></span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004980658/Holdings">The art of the soluble</a> by Peter B. Medawar</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004856911/Holdings">The logic of scientific discovery</a> by Karl Popper</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004911452/Holdings">The
two cultures and the scientific revolution</a> by C. P. Snow ; 2d ed. </span>
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004940445/Holdings">here</a></span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004908295/Holdings">Science
and the modern world</a> by Alfred North Whitehead</span>
	</span><b><span size="-1" face="Verdana">Many-Sided Life<br>
	</span>
	<span size="-1" face="Verdana">Explorations<br>
	</span></b><span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004885417/Holdings">Jungle days</a> by William Beebe</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004885788/Holdings">Silent
	spring</a> by Rachel Carson ; 40th anniversary edition
	<a href="http://mplus.mnpals.net/vufind/Record/007055076/Holdings">here</a></span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005052892/Holdings">Digging
	dinosaurs</a> by John R. Horner and James Gorman</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004995957/Holdings">The
possible and the actual</a> by François Jacob</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004667669/Holdings">A Sand County almanac</a> by Aldo Leopold ; 1966 ed. 
	</span>
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004848387">here</a></span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004687610/Holdings">Arctic
dreams : imagination and desire in a northern landscape</a> by Barry Lopez</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005028385/Holdings">King
Solomon's ring : new light on animal ways</a> by Konrad Lorenz</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004845952/Holdings">Chance
and necessity; an essay on the natural philosophy of modern biology</a> by Jacques Monod</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005103554/Holdings">The hot zone</a> by Richard Preston</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004904196/Holdings">The
lives of a cell; notes of a biology watcher</a> by Lewis Thomas</span>
	</span><span size="-1" face="Verdana">Monographs<br>
	</span><span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005013074/Holdings">Tropical nature</a> by Adrian Forsyth and Kenneth Miyata</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>Emerging
	viruses, edited by Stephen S. Morse</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004910017/Holdings">What
is life? : the physical aspect of the living cell</a> by Erwin Schrödinger</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">On growth and form by D'Arcy Thompson ; 2d ed.
	<a href="http://mplus.mnpals.net/vufind/Record/004915177/Holdings">here</a></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>The 
	biosphere by Vladimir Vernadskii</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004968631/Holdings">The
open sea : its natural history</a> by Alister Clavering Hardy</span></span><span><br>
	</span>
	<span face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004845304/Holdings">The insect societies</a> by 
	</span></span>
	<span size="-1" face="Verdana">Edward O. Wilson</span><span size="-1" face="Verdana">The Evolution of Life<br>
	</span><span face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005024177/Holdings">The blind watchmaker</a> by 
	</span></span>
	<span size="-1" face="Verdana">Richard Dawkins<br>
	<a href="http://mplus.mnpals.net/vufind/Record/004952226/Holdings">Ever since Darwin : reflections in natural history</a> by Stephen Jay Gould</span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005317840/Holdings">The
beak of the finch : evolution in real time</a> by Jonathan Weiner</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004900946/Holdings">The material basis of evolution</a> by Richard Goldschmidt</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004948610/Holdings">The genetical theory of natural selection</a> by Ronald Aylmer Fisher ; 2d ed. 
	</span>
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004887358/Holdings">here</a></span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004848496/Holdings">Adaptation
and natural selection; a critique of some current evolutionary thought</a> by George Williams</span></span><span><br>
	</span>
	<span face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004901729/Holdings">Darwin on man : a psychological study of Scientific creativity</a>
	by
	Howard Gruber, with Paul H. Barrett</span><span>The Nature and Rise of Our Own
Species</span></span><span face="Verdana" size="2"> <span> <br>
	</span></span><span face="Verdana"><span>Explorations</span></span><span face="Verdana" size="2">
	<span>
	<br></span></span><span face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005101449/Holdings">Women's
work : the first 20,000 years : women, cloth, and society in early times</a>
	by </span></span><span size="-1" face="Verdana">Elizabeth Barber<br>
	Steps to an ecology
of mind : collected essays in anthropology, psychiatry, evolution, and epistemology 
	by Gregory Bateson<br>
	Science and human values by Jacob Bronowski ; Rev. ed.
	<a href="http://mplus.mnpals.net/vufind/Record/004843054/Holdings">here</a></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004841546/Holdings">In
the shadow of man</a> by Jane Goodall</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004831239/Holdings">The
intelligent eye</a> by R. L. Gregory</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005071292/Holdings">The
doors of perception</a> by Aldous Huxley</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">Adam's ancestors
: the evolution of man and his culture (1934) by L. S. B. Leakey ; 4th ed.
	<a href="http://mplus.mnpals.net/vufind/Record/004841006/Holdings">here</a></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005098335/Holdings">The
language instinct</a> by Steven Pinker</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005117732/Holdings">How
writing came about</a> by Denise Schmandt-Besserat</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004858989/Holdings">The
	mountain gorilla : ecology and behavior</a> by George B. Schaller</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005043637/Holdings">And
the band played on : politics, people, and the AIDS epidemic</a> by Randy Shilts</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004855780/Holdings">The
phenomenon of man</a> by Pierre Teilhard de Chardin</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004860038/Holdings">Thought
and language</a> by Lev Semenovich Vygotsky ; rev. ed. </span>
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005029157/Holdings">here</a></span></span><span><br>
	</span>
	<span face="Verdana"><span>Discovering
the royal tombs at Ur (1969) by </span></span>
	<span size="-1" face="Verdana">Charles Leonard Woolley</span><span size="-1" face="Verdana">Monographs<br>
	</span><span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004981159/Holdings">The
hunters or the hunted? : An introduction to African cave taphonomy</a> by C. K. Brain</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004839271/Holdings">Syntactic structures</a> by Noam Chomsky</span></span><span><br>
	A general introduction to psycho-analysis; a course of twenty-eight lectures 
	delivered at the University of Vienna</span><span size="-1" face="Verdana"> (1920) by Sigmund Freud ; Rev. ed.
	<a href="http://mplus.mnpals.net/vufind/Record/004932140/Holdings">here</a></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005033372/Holdings">Laetoli,
A Pliocene site in northern Tanzania</a> by Mary Leakey</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>The
!Kung San : men, women, and work in a foraging society by Richard Lee</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004587332/Holdings">Treasures of prehistoric art</a> by Andre Leroi-Gourhan<br>
	<a href="http://mplus.mnpals.net/vufind/Record/005035994/Holdings">The 
	society of mind</a> by Marvin Lee Minsky</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004828470/Holdings">Children's games in street and playground : chasing, catching, seeking, 
	hunting, racing, duelling, exerting, daring, guessing, acting, pretending</a> 
	by Peter and Iona Opie</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004976352/Holdings">Lectures
on conditioned reflexes</a> by Ivan P. Pavlov</span></span><span><br>
	</span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004592157/Holdings">Clever Hans 
	: the
	horse of Mr. Von Osten : a contribution to experimental animal and human
	psychology</a> by Oskar Pfungst</span></span><span face="Verdana"><span>Novels</span></span><span face="Verdana" size="2"> 
	<span> <br>
	</span>
	</span><span face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/005173182/Holdings">Arrowsmith</a>
	by Sinclair Lewis<br></span>
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/007232994/Holdings">Cat's
	cradle</a> by Kurt Vonnegut, Jr.<br></span>
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004940174/Holdings">Tono-Bungay</a>
	by H. G. Wells<br></span></span>
	<span size="-1" face="Verdana">
	<span>
	<a href="http://mplus.mnpals.net/vufind/Record/004887773/Holdings">Gravity's
	rainbow</a> by Thomas Pynchon</span></span></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Build a link blog like Simon Willison (193 pts)]]></title>
            <link>https://xuanwo.io/links/2025/01/link-blog/</link>
            <guid>42933383</guid>
            <pubDate>Tue, 04 Feb 2025 15:17:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://xuanwo.io/links/2025/01/link-blog/">https://xuanwo.io/links/2025/01/link-blog/</a>, See on <a href="https://news.ycombinator.com/item?id=42933383">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><strong><a href="https://simonwillison.net/2024/Dec/22/link-blog/">My approach to running a link blog</a> from <a href="https://simonwillison.net/">Simon Willison</a></strong></p><p>I decided to follow simon's approach to creating a link blog, where I can share interesting links I find on the internet along with my own comments and thoughts about them.</p><p>I have been following Simon for a long time because of the content he shares about AI. I often notice that he shares well-written blog posts with direct links to the original sources, along with his own thoughts on the topic, and sometimes even his own code snippets. I think this is an excellent way to share knowledge while also keeping a personal record. It’s much better than simply saving something to Readwise to read later and leaving a few highlights or dull comments like "interesting."</p><hr><p>From this article:</p><blockquote><p>The point of that article was to emphasize that blogging doesn’t have to be about unique insights. The value is in writing frequently and having something to show for it over time—worthwhile even if you don’t attract much of an audience (or any audience at all).</p></blockquote><p>I have to admit that this is often the biggest obstacle preventing me from writing new posts. Whenever I want to write about a topic, I usually find myself asking: Is it worth creating a new post? Is it unique enough? Is it valuable enough? Or is it just a waste of time for my readers?</p><p>Simon believes it's more valuable to "write frequently and have something to show for it over time—worthwhile." I will give this a try to see if it truly works for me.</p><blockquote><p>That’s the purpose of my link blog: it’s an ongoing log of things I’ve found—effectively a combination of public bookmarks and my own thoughts and commentary on why those things are interesting.</p></blockquote><p>Oh, I like this idea and that's why we are here.</p><blockquote><p>I try to add something extra. My goal with any link blog post is that if you read both my post and the source material you’ll have an enhanced experience over if you read just the source material itself.
...
I might tie it together to other similar concepts, including things I’ve written about in the past, for example linking Prompt caching with Claude to my coverage of Context caching for Google Gemini.</p></blockquote><p>That's really useful. In fact, it truly makes this blog more valuable. My current understanding is that I can add more background or another source to complement the original one. I will make an effort to do this in the future.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Vanguard's Average Fee Is Now Just 0.07% After Biggest-Ever Cut (295 pts)]]></title>
            <link>https://www.bloomberg.com/news/articles/2025-02-03/vanguard-s-average-fee-is-now-just-0-07-after-biggest-ever-cut</link>
            <guid>42933283</guid>
            <pubDate>Tue, 04 Feb 2025 15:11:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bloomberg.com/news/articles/2025-02-03/vanguard-s-average-fee-is-now-just-0-07-after-biggest-ever-cut">https://www.bloomberg.com/news/articles/2025-02-03/vanguard-s-average-fee-is-now-just-0-07-after-biggest-ever-cut</a>, See on <a href="https://news.ycombinator.com/item?id=42933283">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p data-component="paragraph"><a href="https://www.bloomberg.com/quote/5125Z:US" target="_blank" rel="noopener" data-component="link">Vanguard Group</a> has slashed the fees for dozens of its mutual funds and ETFs in a record move that’s likely to send a shock wave through the asset management industry.</p><p data-component="paragraph">The <!-- -->Jack Bogle<!-- -->-founded investing giant is lowering expense ratios for 168 share classes across 87 mutual funds and exchange-traded funds effective immediately, it said in a press release on Monday. The cuts mean Vanguard’s average asset-weighted fee is now just 0.07% for its $10 trillion under management, compared with <a href="https://investor.vanguard.com/investor-resources-education/education/expense-ratio" title="industry average" target="_blank" rel="noopener" data-component="link">0.44%</a> for the rest of the industry.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[DoppelBot: Replace Your CEO with an LLM (201 pts)]]></title>
            <link>https://modal.com/docs/examples/slack-finetune</link>
            <guid>42933256</guid>
            <pubDate>Tue, 04 Feb 2025 15:08:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://modal.com/docs/examples/slack-finetune">https://modal.com/docs/examples/slack-finetune</a>, See on <a href="https://news.ycombinator.com/item?id=42933256">Hacker News</a></p>
<div id="readability-page-1" class="page"><div> <article> <p><em>(quick links:
<a rel="nofollow" href="https://github.com/modal-labs/doppel-bot#usage">add to your own Slack</a>;
<a rel="nofollow" href="https://github.com/modal-labs/doppel-bot">source code</a>)</em></p> <p>Internally at Modal, we spend a <em data-svelte-h="svelte-r6ouuz">lot</em> of time talking to each other on Slack.
Now, with the advent of open-source large language models, we had started to
wonder if all of this wasn’t a bit redundant. Could we have these language
models bike-shed on Slack for us, so we could spend our time on higher leverage
activities such as
<a rel="nofollow" href="https://twitter.com/modal_labs/status/1642262543757352960">paddleboarding in Tahiti</a>
instead?</p> <p>To test this, we fine-tuned
<a rel="nofollow" href="https://ai.meta.com/blog/meta-llama-3-1/">Llama 3.1</a> on
<a rel="nofollow" href="https://twitter.com/bernhardsson">Erik</a>’s Slack messages, and <code data-svelte-h="svelte-1g3u75n">@erik-bot</code> was
born.</p> <p> <img src="https://modal.com/_app/immutable/assets/erik-bot-1.CjDvIhCc.jpeg" alt="erik-bot"> </p>   <p data-svelte-h="svelte-1fpttp3">Since then, <code>@erik-bot</code> has been an invaluable asset to us, in areas ranging from <a href="https://modal.com/_app/immutable/assets/erik-bot-2.CDmWvLM4.png">API design</a> to <a href="https://modal.com/_app/immutable/assets/erik-bot-3.C_m8x6a2.png">legal advice</a> to thought leadership.</p> <p> <img src="https://modal.com/_app/immutable/assets/erik-bot-4.CEbrQZVg.png" alt="erik-bot-3"> </p> <p data-svelte-h="svelte-19925bp">We were planning on releasing the weights for <code>@erik-bot</code> to the world, but all
our metrics have been going up and to the right a little too much since we’ve
launched him…</p> <p>So, we are releasing the next best thing. <code data-svelte-h="svelte-166thr5">DoppelBot</code> is a Slack bot that you
can install in your own workspace, and fine-tune on your own Slack messages.
Follow the instructions <a rel="nofollow" href="https://github.com/modal-labs/doppel-bot#usage">here</a>
to replace your own CEO with an LLM today.</p> <p>All the components—scraping, fine-tuning, inference and slack event handlers run
on Modal, and the code itself is open-source and available
<a rel="nofollow" href="https://github.com/modal-labs/doppel-bot">here</a>. If you’re new to Modal, it’s
worth reiterating that <strong data-svelte-h="svelte-1ku0u9a">all of these components are also serverless and scale
to zero</strong>. This means that you can deploy and forget about them, because you’ll
only pay for compute when your app is used!</p> <h2 id="how-it-works" data-svelte-h="svelte-1a1youw">How it works</h2> <p>DoppelBot uses the Slack SDK to scrape messages from a Slack workspace, and
converts them into prompt/response pairs. It uses these to fine-tune a language
model using <a rel="nofollow" href="https://arxiv.org/abs/2106.09685">Low-Rank Adaptation (LoRA)</a>, a
technique that produces a small adapter that can be merged with the base model
when needed, instead of modifying all the parameters in the base model. The
fine-tuned adapters for each user are stored in a Modal
<a href="https://modal.com/docs/guide/volumes">Volume</a>. When a user <code data-svelte-h="svelte-gbsc1q">@</code>s the bot,
Slack sends a webhook call to Modal, which loads the adapter for that user and
generates a response.</p> <p>We go into detail into each of these steps below, and provide commands for
running each of them individually. To follow along,
<a rel="nofollow" href="https://github.com/modal-labs/doppel-bot">clone the repo</a> and
<a rel="nofollow" href="https://github.com/modal-labs/doppel-bot#create-a-slack-app">set up a Slack token</a>
for yourself.</p> <h3 id="scraping-slack" data-svelte-h="svelte-7zwp6x">Scraping slack</h3>  <p>The scraper uses Modal’s <a href="https://modal.com/docs/guide/scale#scaling-out"><code data-svelte-h="svelte-15xk0yb">.map()</code></a> to fetch
messages from all public channels in parallel. Each thread is split into
contiguous messages from the target users and continguous messages from other
users. These will be fed into the model as prompts in the following format:</p>  <p data-svelte-h="svelte-1gft8ig">Initial versions of the model were prone to generating short responses
—&nbsp;unsurprising, because a majority of Slack communication is pretty terse.
Adding a minimum character length for the target user’s messages fixed this.</p> <p data-svelte-h="svelte-u8ly6e">If you’re following along at home, you can run the scraper with the following
command:</p>  <p>Scraped results are stored in a Modal
<a href="https://modal.com/docs/guide/volumes">Volume</a>, so they can be used by the next step.</p> <h3 id="fine-tuning" data-svelte-h="svelte-1mpeoh0">Fine-tuning</h3>  <p>Next, we use the prompts to fine-tune a language model. We chose
<a rel="nofollow" href="https://ai.meta.com/blog/meta-llama-3-1/">Llama 3.1</a> because of its permissive license and high quality relative to its small size. Fine-tuning is
done using <a rel="nofollow" href="https://arxiv.org/abs/2106.09685">Low-Rank Adaptation (LoRA)</a>, a
<a rel="nofollow" href="https://huggingface.co/blog/peft">parameter-efficient fine-tuning</a> technique
that produces a small adapter that can be merged with the base model when needed
(~60MB for the rank we’re using).</p> <p>Our fine-tuning implementation uses <a rel="nofollow" href="https://github.com/pytorch/torchtune">torchtune</a>, a new PyTorch library for easily configuring fine-tuning runs.</p> <p data-svelte-h="svelte-1pw8e1">Because of the typically small sample sizes we’re working with, training for
longer than a couple hundred steps (with our batch size of 128) quickly led to
overfitting. Admittedly, we haven’t thoroughly evaluated the hyperparameter
space yet — do reach out to us if you’re interested in collaborating on this!</p> <p> <img src="https://modal.com/_app/immutable/assets/train-loss.DFD7oOI8.png" alt="train-loss"> </p> <p data-svelte-h="svelte-1p21b9i">To try this step yourself, run:</p>  <h3 id="inference" data-svelte-h="svelte-m1ii7y">Inference</h3>  <p>We use <a rel="nofollow" href="https://github.com/vllm-project/vllm">vLLM</a> as our inference engine, which now comes with support for dynamically swapping LoRA adapters <a rel="nofollow" href="https://docs.vllm.ai/en/latest/features/lora.html">out of the box</a>.</p> <p data-svelte-h="svelte-1x43796">With parametrized functions, every user model gets its own pool of containers
that scales up when there are incoming requests, and scales to 0 when there’s
none. Here’s what that looks like stripped down to the essentials:</p>  <p data-svelte-h="svelte-1tzj64k">If you’ve fine-tuned a model already in the previous step, you can run inference
using it now:</p>  <p data-svelte-h="svelte-1ejsiyh">(We have a list of sample inputs in the file, but you can also try it out with
your own messages!)</p> <h3 id="slack-bot" data-svelte-h="svelte-va6bst">Slack Bot</h3>  <p>Finally, it all comes together in
<a rel="nofollow" href="https://github.com/modal-labs/doppel-bot/blob/main/src/bot.py"><code data-svelte-h="svelte-195divq">bot.py</code></a>. As
you might have guessed, all events from Slack are handled by serverless Modal
functions. We handle 3 types of events:</p> <ul><li><a rel="nofollow" href="https://github.com/modal-labs/doppel-bot/blob/24609583c43c0e722f56f85a1c00bb55b46c7754/src/bot.py#L112"><code data-svelte-h="svelte-hfc5fx">url_verification</code></a>:
To verify that this is a Slack app, Slack expects us to return a challenge
string.</li> <li><a rel="nofollow" href="https://github.com/modal-labs/doppel-bot/blob/main/src/bot.py#L118"><code data-svelte-h="svelte-14xb794">app_mention</code></a>:
When the bot is mentioned in a channel, we retrieve the recent messages from
that thread, do some basic cleaning and call the user’s model to generate a
response.</li></ul>  <ul><li><a rel="nofollow" href="https://github.com/modal-labs/doppel-bot/blob/main/src/bot.py#L182"><code data-svelte-h="svelte-qklpw8">doppel</code> slash command</a>:
This command kicks off the scraping -&gt; finetuning pipeline for the user.</li></ul> <p data-svelte-h="svelte-ty1iqi">To deploy the slackbot in its entirety, you need to run:</p>  <p data-svelte-h="svelte-17rplom"><h3 id="multi-workspace-support">Multi-Workspace Support</h3></p> <p>Everything we’ve talked about so far is for a single-workspace Slack app. To
make it work with multiple workspaces, we’ll need to handle
<a rel="nofollow" href="https://api.slack.com/authentication/oauth-v2">workspace installation and authentication with OAuth</a>,
and also store some state for each workspace.</p> <p>Luckily, Slack’s <a rel="nofollow" href="https://slack.dev/bolt-python/concepts">Bolt</a> framework
provides a complete (but frugally documented) OAuth implemention. A neat feature
is that the OAuth state can be backed by a file system, so all we need to do is
<a rel="nofollow" href="https://github.com/modal-labs/doppel-bot/blob/24609583c43c0e722f56f85a1c00bb55b46c7754/src/bot.py#L78">point Bolt</a>
at a Modal <a href="https://modal.com/docs/guide/volumes">Volume</a>, and then we don’t need to worry about
managing this state ourselves.</p> <p>To store state for each workspace, we’re using <a rel="nofollow" href="https://neon.tech/">Neon</a>, a
serverless Postgres database that’s really easy to set up and <em data-svelte-h="svelte-wgki5y">just works</em>. If
you’re interested in developing a multi-workspace app,
<a rel="nofollow" href="https://github.com/modal-labs/doppel-bot#optional-multi-workspace-app">follow our instructions</a>
on how to set up Neon with Modal.</p> <h2 id="next-steps" data-svelte-h="svelte-1cfb4gb">Next Steps</h2> <p data-svelte-h="svelte-v0847i">If you’ve made it this far, you have just found a way to increase your team’s
productivity by 10x! Congratulations on the well-earned vacation! 🎉</p> <p>If you’re interested in learning more about Modal, check out our <a href="https://modal.com/docs">docs</a>
and other <a href="https://modal.com/examples">examples</a>.</p></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Payments Crisis of 2025: Doge Have "Read-Write" Access to Federal Payment System (438 pts)]]></title>
            <link>https://www.crisesnotes.com/day-five-of-the-trump-musk-treasury-payments-crisis-of-2025-not-read-only-access-anymore/</link>
            <guid>42933219</guid>
            <pubDate>Tue, 04 Feb 2025 15:05:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.crisesnotes.com/day-five-of-the-trump-musk-treasury-payments-crisis-of-2025-not-read-only-access-anymore/">https://www.crisesnotes.com/day-five-of-the-trump-musk-treasury-payments-crisis-of-2025-not-read-only-access-anymore/</a>, See on <a href="https://news.ycombinator.com/item?id=42933219">Hacker News</a></p>
Couldn't get https://www.crisesnotes.com/day-five-of-the-trump-musk-treasury-payments-crisis-of-2025-not-read-only-access-anymore/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[The Lost Story of Alan Turing's "Delilah" Project (138 pts)]]></title>
            <link>https://spectrum.ieee.org/alan-turings-delilah</link>
            <guid>42933049</guid>
            <pubDate>Tue, 04 Feb 2025 14:50:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://spectrum.ieee.org/alan-turings-delilah">https://spectrum.ieee.org/alan-turings-delilah</a>, See on <a href="https://news.ycombinator.com/item?id=42933049">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>A collection of documents was recently sold at auction for almost half a million dollars. The documents detail a top-secret voice-encryption project led by Alan Turing, culminating in the creation of the Delilah machine.</p><p>
        Turing: Archivio GBB/contrasto/Redux Pictures; Delilah: The National Archives, London; Notebook: Bonhams
    </p><div data-headline="The Lost Story of Alan Turing’s Secret “Delilah” Project"><p><strong>It was 8 May 1945,</strong> Victory in Europe Day. With the German military’s unconditional surrender, the European part of World War II came to an end. <a href="https://spectrum.ieee.org/tag/alan-turing">Alan Turing</a> and his assistant Donald Bayley celebrated victory in their quiet English way, by taking a long walk together. They had been working side by side for more than a year in a secret electronics laboratory, deep in the English countryside. Bayley, a young electrical engineer, knew little about his boss’s other life as a code breaker, only that Turing would set off on his bicycle every now and then to another secret establishment about 10 miles away along rural lanes, <a href="https://spectrum.ieee.org/tag/bletchley-park">Bletchley Park</a>. As Bayley and the rest of the world would later learn, Bletchley Park was the headquarters of a vast, unprecedented code-breaking operation.
</p><p>
	When they sat down for a rest in a clearing in the woods, Bayley said, “Well, the war’s over now—it’s peacetime, so you can tell us all.”
</p><p data-rm-resized-container="25%"><img alt="Black and white photo of young man" data-rm-shortcode-id="5044dea3b649d902c18d96dbec07536d" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/black-and-white-photo-of-young-man.png?id=56144975&amp;width=980" height="2180" id="f229d" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/black-and-white-photo-of-young-man.png?id=56144975&amp;width=980" width="1870"><small placeholder="Add Photo Caption...">Donald Bayley (1921-2020) graduated with a degree in <a href="https://spectrum.ieee.org/tag/electrical-engineering">electrical engineering</a>, and was commissioned into the Royal Electrical and Mechanical Engineers. There, he was selected to work with Alan Turing on the Delilah project. In later life he designed the teletypewriter-based “Piccolo” systemfor secret diplomatic radio communications, adopted by the British Foreign  and Commonwealth Office and used worldwide for decades.</small><small placeholder="Add Photo Credit...">Bonhams</small></p><p>
	“Don’t be so bloody silly,” Turing replied.
</p><p>
	“That was the end of that conversation,” Bayley recalled 67 years later.
</p><p><a href="https://www.alanturing.net/" rel="noopener noreferrer" target="_blank">Turing’s</a><span> incredible code-breaking </span><a href="https://bletchleypark.org.uk/our-story/alan-turing-faqs/" target="_blank">work</a><span> is now no longer </span><a href="https://www.huffpost.com/entry/oscars-for-the-imitation_b_6635654" target="_blank">secret</a><span>. What’s more, he is renowned both as a founding father of </span><a href="https://spectrum.ieee.org/turing-and-the-test-of-time" target="_self">computer science</a><span> and as a pioneering figure in </span><a href="https://www.britannica.com/science/history-of-artificial-intelligence" target="_blank">artificial intelligence</a><span>. He is not so well-known, however, for his work in electrical engineering. This may be about to change.</span></p><p><span></span><span>In November 2023, a large cache of his wartime papers—nicknamed the “Bayley papers”—was 
	</span><a href="https://www.bonhams.com/auction/28322/lot/45/turing-alan-the-delilah-project-the-papers-of-alan-turing-and-donald-bayley-relating-to-the-delilah-project/" rel="noopener noreferrer" target="_blank">auctioned</a><span> in London for almost half a million U.S. dollars. The previously unknown cache contains many sheets in Turing’s own handwriting, telling of his top-secret “Delilah” engineering project from 1943 to 1945. Delilah was Turing’s portable voice-encryption system, named after the biblical deceiver of men. There is also material written by Bayley, often in the form of notes he took while Turing was speaking. It is thanks to Bayley that the papers survived: He kept them until he died in 2020, 66 years after Turing passed away.</span></p><p>
	When the British Government learned about the sale of these papers at auction, it acted swiftly to put a ban on their export, declaring them to be “an important part of our national story,” and saying “It is right that a UK buyer has the opportunity to purchase these papers.” I was lucky enough to get access to the collection prior to the November sale, when the auction house asked for my assistance in identifying some of the technical material. The Bayley papers shine new light on Turing the engineer.
</p><p>
	At the time, Turing was traveling from the abstract to the concrete. The papers offer intriguing snapshots of his journey from his prewar focus on mathematical logic and number theory, into a new world of circuits, electronics, and engineering math.
</p><h2>Alan Turing’s Delilah Project</h2><p>
	During the war, Turing realized that cryptology’s new frontier was going to be the <a href="https://spectrum.ieee.org/tag/encryption">encryption</a> of speech. The existing wartime cipher machines—such as the Japanese “
	<a href="https://en.wikipedia.org/wiki/Type_B_Cipher_Machine" rel="noopener noreferrer" target="_blank">Purple” machine</a>, the British<a href="https://typex.virtualcolossus.co.uk/typex.html" rel="noopener noreferrer" target="_blank"> Typex</a>, and the Germans’ famous<a href="https://en.wikipedia.org/wiki/Enigma_machine" rel="noopener noreferrer" target="_blank"> Enigma</a> and teletypewriter-based<a href="https://www.colossus-computer.com/colossus1.html#section02" rel="noopener noreferrer" target="_blank"> SZ42</a>—were all for encrypting typewritten text. Text, though, is scarcely the most convenient way for commanders to communicate, and secure voice communication was on the <a href="https://spectrum.ieee.org/tag/military">military</a> wish list.
</p><p>
	Bell Labs’ pioneering
	<a href="https://spectrum.ieee.org/rebuilding-a-piece-of-the-first-digital-voice-scrambler" target="_self"> SIGSALY</a> speech-encryption system was <a href="https://www.cryptomuseum.com/crypto/usa/sigsaly/" rel="noopener noreferrer" target="_blank">constructed</a> in <a href="https://spectrum.ieee.org/tag/new-york-city">New York City</a>, under a U.S. Army contract, during 1942 and 1943. It was gigantic, weighing over 50 thousand kilograms and filling a room. Turing was familiar with <a href="https://spectrum.ieee.org/tag/sigsaly">SIGSALY</a> and wanted to miniaturize speech encryption. The result, Delilah, consisted of three small units, each roughly the size of a shoebox. Weighing just 39 kg, including its power pack, Delilah would be at home in a truck, a trench, or a large backpack.
</p><p><img alt="Black and white photo of a room full of electronics. " data-rm-shortcode-id="7f1e810452e9c7dcd26d4457c46d9d42" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/black-and-white-photo-of-a-room-full-of-electronics.png?id=56145009&amp;width=980" height="1365" id="d7664" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/black-and-white-photo-of-a-room-full-of-electronics.png?id=56145009&amp;width=980" width="1799"><small placeholder="Add Photo Caption...">Bell Labs’ top secret installation of the SIGSALY voice-encryption system was a room-size machine that weighed over 50,000 kilograms.</small><small placeholder="Add Photo Credit..."><a href="https://spectrum.ieee.org/tag/nsa">NSA
</a></small></p><p>In 1943, Turing set up bench space in a <a href="https://en.wikipedia.org/wiki/Nissen_hut" rel="noopener noreferrer" target="_blank">Nissen hut</a> and worked on Delilah in secret. The hut was at Hanslope Park, a military-run establishment in the middle of nowhere, <a href="https://spectrum.ieee.org/tag/england">England</a>. Today, Hanslope Park is still an ultrasecret intelligence site known as<a href="https://en.wikipedia.org/wiki/HM_Government_Communications_Centre" rel="noopener noreferrer" target="_blank"> His Majesty’s Government Communications Centre</a>. In the Turing tradition, HMGCC engineers supply today’s British intelligence agents with specialized hardware and software.</p><p>Turing seems to have enjoyed the two years he spent at Hanslope Park working on Delilah. He made an old cottage his home and took meals in the Army mess. The commanding officer recalled that he “soon settled down and became one of us.” In 1944, Turing acquired his young assistant, Bayley, who had recently graduated from the University of Birmingham with a bachelor’s degree in electrical engineering. The two became good friends, working together on Delilah until the autumn of 1945. Bayley called Turing simply “Prof,” as everyone did in the Bletchley-Hanslope orbit.</p><p>“I admired the originality of his mind,” Bayley told me when I interviewed him in the 1990s. “He taught me a great deal, for which I have always been grateful.”</p><p>In return, Bayley taught Turing bench skills. When he first arrived at Hanslope Park, Bayley found Turing wiring together circuits that resembled a “spider’s nest,” he said. He took Turing firmly by the hand and dragged him through breadboarding boot camp.</p><p><img alt="Black and white photo of electronic contraption with cylinder and bulbs. " data-rm-shortcode-id="806c7243bd20fc6a3edabe5047653fdf" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/black-and-white-photo-of-electronic-contraption-with-cylinder-and-bulbs.jpg?id=56152257&amp;width=980" height="2540" id="c44ae" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/black-and-white-photo-of-electronic-contraption-with-cylinder-and-bulbs.jpg?id=56152257&amp;width=980" width="3386"><small placeholder="Add Photo Caption...">Alan Turing and his assistant Donald Bayley created this working prototype of their voice-encryption system, called Delilah.</small><small placeholder="Add Photo Credit...">The National Archives, London</small></p><p><span>A year later, as the European war ground to a close, Turing and Bayley got a prototype system up and running. This “did all that could be expected of it,” Bayley said. He described the Delilah system as “one of the first to be based on rigorous cryptographic principles.”</span></p><h2>How Turing’s Voice-Encryption System Worked</h2><p>
	Turing drew inspiration for the voice-encryption system from existing cipher machines for text. Teletypewriter-based cipher machines such as the Germans’ sophisticated SZ42—broken by Turing and his colleagues at Bletchley Park—worked differently from the better known <a href="https://spectrum.ieee.org/tag/enigma">Enigma</a> machine. Enigma was usually used for messages transmitted over radio in <a href="https://spectrum.ieee.org/tag/morse-code">Morse code</a>. It encrypted the letters 
	<em><em>A</em></em> through <em><em>Z</em></em> by lighting up corresponding letters on a panel, called the lampboard, whose electrical connections with the keyboard were continually changing. The SZ42, by contrast, was attached to a regular teletypewriter that used a 5-bit <a href="https://spectrum.ieee.org/tag/telegraph">telegraph</a> code and could handle not just letters, but also numbers and a range of punctuation. Morse code was not involved. (This 5-bit telegraph code was a forerunner of ASCII and <a href="https://spectrum.ieee.org/tag/unicode">Unicode</a> and is still used by some <a href="https://spectrum.ieee.org/ham-radio">ham radio</a> operators.)
</p><p>
	The SZ42 encrypted the teletypewriter’s output by adding a sequence of obscuring telegraph characters, called key (the singular form “key” was used by the codebreakers and codemakers as a mass noun, like “footwear” or “output”), to the plain message. For example, if the German plaintext was ANGREIFEN UM NUL NUL UHR (Attack at zero hundred hours), and the obscuring characters that were being used to encrypt these three words (and also the space between them) were Y/RABV8WOUJL/H9VF3JX/D5Z, then the cipher machine would first add “Y” to “A”—that is to say, add the 5-bit code of the first letter of the key to the 5-bit code of the first letter of the plaintext—and then added “/” to “N”, then “R” to “G”, and so on. Under the SZ42’s rules for character addition (which were hardwired into the machine), these 24 additions would produce PNTDOOLLHANC9OAND9NK9CK5, which was the encrypted message. This principle of generating the obscuring key and then adding it to the plain message was the concept that Turing extended to the new territory of speech encryption.
</p><p><img alt="Blue paper with foldmarks with white schematic" data-rm-shortcode-id="2b25ef2c1c768b24f8cf424f4583dab4" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/blue-paper-with-foldmarks-with-white-schematic.jpg?id=56152423&amp;width=980" height="1923" id="638a1" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/blue-paper-with-foldmarks-with-white-schematic.jpg?id=56152423&amp;width=980" width="3015"><small placeholder="Add Photo Caption...">The Delilah voice-encryption machine contained a key unit that generated the pseudorandom numbers used to obscure messages. This blueprint of the key unit features 8 multivibrators (labeled “v1,” “v2,” and so <a href="https://spectrum.ieee.org/tag/forth">forth</a>).</small><small placeholder="Add Photo Credit...">The National Archives, London</small></p><p>
	 Inside the SZ42, the key was produced by a key generator, consisting of a system of 12 wheels. As the wheels turned, they churned out a continual stream of seemingly random characters. The wheels in the receiver’s machine were synchronized with the sender’s, and so produced the same characters—Y/RABV8WOUJL/H9VF3JX/D5Z in our example. The receiving machine subtracted the key from the incoming ciphertext PNTDOOLLHANC9OAND9NK9CK5, revealing the plaintext ANGREIFEN9UM9NUL9NUL9UHR (a space was always typed as “9”).
</p><p>
	 Applying a similar principle, Delilah added the obscuring key to spoken words. In Delilah’s case, the key was a stream of pseudorandom numbers—that is, random-seeming numbers that were not truly random. Delilah’s key generator contained five rotating wheels and some fancy electronics concocted by Turing. As with the SZ42, the receiver’s key generator had to be synchronized with the sender’s, so that both machines produced identical key. In their once highly secret but 
	<a href="https://www.tandfonline.com/doi/full/10.1080/01611194.2012.713803" rel="noopener noreferrer" target="_blank">now declassified report</a>, Turing and Bayley commented that the problem of synchronizing the two key generators had presented them with “formidable difficulties.” But they overcame these and other problems, and eventually demonstrated Delilah using a recording of a speech given by <a href="https://www.britannica.com/biography/Winston-Churchill" rel="noopener noreferrer" target="_blank">Winston Churchill</a>, successfully encrypting, transmitting, and decrypting it.
</p><p data-rm-resized-container="25%"><img alt="A yellow piece of paper with a handwritten circuit diagram and math. " data-rm-shortcode-id="3af0b8b3fcd725f54926936258de5b55" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/a-yellow-piece-of-paper-with-a-handwritten-circuit-diagram-and-math.png?id=56147454&amp;width=980" height="3791" id="176a9" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/a-yellow-piece-of-paper-with-a-handwritten-circuit-diagram-and-math.png?id=56147454&amp;width=980" width="3000"><small placeholder="Add Photo Caption...">This loose-leaf sheet shows a circuit used by Turing in an experiment to measure the cut-off voltage at a triode tube, most likely in connection with the avalanche-effect basic to a multivibrator. Multivibrators were an essential component of Delilah’s key-generation module. </small><small placeholder="Add Photo Credit...">Bonhams</small></p><p>
	 The encryption-decryption process began with discretizing the audio signal, which today we’d call analog-to-digital conversion. This produced a sequence of individual numbers, each corresponding to the signal’s voltage at a particular point in time. Then numbers from Delilah’s key were added to these numbers. During the addition, any digits that needed to be carried over to the next column were left out of the calculation—called “noncarrying” addition, this helped scramble the message. The resulting sequence of numbers was the encrypted form of the speech signal. This was transmitted automatically to a second Delilah at the receiving end. The receiving Delilah subtracted the key from the incoming transmission, and then converted the resulting numbers to voltages to reproduce the original speech.
</p><p>
	The result was “whistly” and full of background noise, but usually intelligible—although if things went wrong, there could be “a sudden crack like a rifle shot,” Turing and Bayley reported cheerfully.
</p><p>
	 But the war was winding down, and the military was not attracted to the system. Work on the Delilah project stopped not long after the war ended, when Turing was hired by the British National Physical Laboratory to design and develop an electronic computer. Delilah “had little potential for further development,” Bayley said and “was soon forgotten.” Yet it offered a very high level of <a href="https://spectrum.ieee.org/tag/security">security</a>, and was the first successful demonstration of a compact portable device for voice encryption.
</p><p>
	What’s more, Turing’s two years of immersion in electrical engineering stood him in good stead, as he moved on to designing electronic computers.
</p><h2>Turing’s Lab Notebook</h2><p>
	The two years Turing spent on Delilah produced the Bayley papers. The papers comprise a laboratory notebook, a considerable quantity of loose sheets (some organized into bundles), and—the jewel of the collection—a looseleaf ring binder bulging with pages.
</p><p>
	The greenish-gray quarto-size lab notebook, much of it in Turing’s handwriting, details months of work. The first experiment Turing recorded involved measuring a pulse emitted by a 
	<a href="https://en.wikipedia.org/wiki/Multivibrator#:~:text=A%20multivibrator%20is%20an%20electronic,Bloch%20during%20World%20War%20I.'" rel="noopener noreferrer" target="_blank">multivibrator</a>, which is a circuit that can be triggered to produce a single voltage pulse or a chain of pulses. In the experiment, the pulse was fed into an <a href="https://spectrum.ieee.org/tag/oscilloscope">oscilloscope</a> and its shape examined. Multivibrators were crucial components of Turing’s all-important key generator, and the next page of the notebook, labeled “Measurement of ‘Heaviside function,’ ” shows the voltages measured in part of the same multivibrator circuit.
</p><p><img alt="An old notebook with graph paper on the left and a table on the right " data-rm-shortcode-id="1db224d97eede4191acec2081c8d95c7" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/an-old-notebook-with-graph-paper-on-the-left-and-a-table-on-the-right.jpg?id=56152432&amp;width=980" height="2832" id="ce2ba" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/an-old-notebook-with-graph-paper-on-the-left-and-a-table-on-the-right.jpg?id=56152432&amp;width=980" width="4291"><small placeholder="Add Photo Caption...">A key item in the Bayley papers is this lab notebook, whose first 24 pages are in Turing’s handwriting. These detail Turing’s work on the Delilah project prior to Bayley’s arrival in March 1944.</small><small placeholder="Add Photo Credit...">Bonhams</small></p><p>
	 Today, there is intense interest in the use of multivibrators in <a href="https://spectrum.ieee.org/tag/cryptography">cryptography</a>. Turing’s key generator, the most original part of Delilah, contained eight multivibrator circuits, along with the five-wheel assembly mentioned previously. In effect the multivibrators were eight more very complicated “wheels,” and there was additional circuitry for enhancing the random appearance of the numbers the multivibrators produced.
</p><p>
	Subsequent experiments recorded in the lab book tested the performance of all the main parts of Delilah—the pulse <a href="https://spectrum.ieee.org/tag/modulator">modulator</a>, the harmonic analyzer, the key generator, the signal and oscillator circuits, and the radio frequency and aerial circuits. Turing worked alone for approximately the first six months of the project, before Bayley’s arrival in March 1944, and the notebook is in Turing’s handwriting up to and including the testing of the key generator. After this, the job of recording experiments passed to Bayley.
</p><h2>The Bandwidth Theorem</h2><p data-rm-resized-container="25%"><img alt="A page with math scribbled all over it." data-rm-shortcode-id="a8f1ff3b0c9a75a1d67189e466a46152" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/a-page-with-math-scribbled-all-over-it.png?id=56146136&amp;width=980" height="3838" id="b7377" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/a-page-with-math-scribbled-all-over-it.png?id=56146136&amp;width=980" width="3000"><small placeholder="Add Photo Caption...">Two loose pages, in Turing’s handwriting, explain the so-called bandwidth theorem, now known as the Nyquist-Shannon sampling theorem. This was likely written out for Bayley’s benefit. </small><small placeholder="Add Photo Credit...">Bonhams</small></p><p>
	Among the piles of loose sheets covered with Turing’s riotously untidy handwriting, one page is headed “Bandwidth Theorem.” Delilah was in effect an application of a bandwidth theorem that today is known as the Nyquist-Shannon 
	<a href="https://en.wikipedia.org/wiki/Nyquist%E2%80%93Shannon_sampling_theorem" rel="noopener noreferrer" target="_blank">sampling theorem</a>. Turing’s proof of the theorem is scrawled over two sheets. Most probably he wrote the proof out for Bayley’s benefit. The theorem—which expresses what the sampling rate needs to be if sound waves are to be reproduced accurately—governed Delilah’s conversion of sound waves into numbers, done by sampling vocal frequencies several thousand times a second.
</p><p>
	At <a href="https://en.wikipedia.org/wiki/Bell_Labs" rel="noopener noreferrer" target="_blank">Bell Labs</a>,<a href="https://en.wikipedia.org/wiki/Claude_Shannon" rel="noopener noreferrer" target="_blank"> Claude Shannon had</a> written a paper sketching previous work on the theorem and then proving his own formulation of it. Shannon wrote the paper in 1940, although it was not published until 1949. <a href="https://spectrum.ieee.org/a-man-in-a-hurry-claude-shannons-new-york-years" target="_self">Turing worked at Bell Labs</a> for a time in 1943, in connection with SIGSALY, before returning to England and embarking on Delilah. It seems likely that he and Shannon would have discussed sampling rates.
</p><h2>Turing’s “Red Form” Notes</h2><p>
	During the war, Hanslope Park housed a large radio-monitoring section. Shifts of operators continuously searched the airwaves for enemy messages. Enigma transmissions, in Morse code, were identified by their stereotypical military format, while the distinctive warble of the SZ42’s radioteletype signals was instantly recognizable. After latching onto a transmission, an operator filled out an Army-issue form (preprinted in bright red ink). The frequency, the time of interception, and the letters of ciphertext were noted down. This “red form” was then rushed to the code breakers at Bletchley Park.
</p><p><img alt="Old yellow paper with red marking. " data-rm-shortcode-id="bb5fc9ca4f7e3888204694dee9aabaa8" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/old-yellow-paper-with-red-marking.jpg?id=56152435&amp;width=980" height="2339" id="abff7" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/old-yellow-paper-with-red-marking.jpg?id=56152435&amp;width=980" width="3119"><small placeholder="Add Photo Caption...">Writing paper was in short supply in wartime Britain, and Turing used the blank reverse sides of these “red form” sheets, designed for radio operators to note down information about intercepted signals.</small><small placeholder="Add Photo Credit...">Bonhams</small></p><p>
	Writing paper was in short supply in wartime Britain. Turing evidently helped himself to large handfuls of red forms, scrawling out screeds of notes about Delilah on the blank reverse sides. In one bundle of red forms, numbered by Turing at the corners, he considered a resistance-capacitance network into which a “pulse of area A at time 0” is input. He calculated the charge as the pulse passes through the network, and then calculated the “output volts with pulse of that area.” The following sheets are covered with integral equations involving time, resistance, and charge. Then a scribbled diagram appears, in which a wavelike pulse is analyzed into discrete “steps”—a prelude to several pages of
	<a href="https://en.wikipedia.org/wiki/Fourier_analysis" rel="noopener noreferrer" target="_blank"> Fourier</a>-type analysis. Turing appended a proof of what he termed the “Fourier theorem,” evidence that these pages may have been a tutorial for Bayley.
</p><p>
	 The very appearance of these papers speaks to the character and challenging nature of the Delilah project. The normally top-secret Army red forms, the evidence of wartime shortages, the scribbled formulas, the complexity of the <a href="https://spectrum.ieee.org/tag/mathematics">mathematics</a>, the tutorials for Bayley—all contribute to the picture of the Prof and his young assistant working closely together at a secret military establishment on a device that pushed the engineering envelope.
</p><h2>Turing’s Lectures for <a href="https://spectrum.ieee.org/tag/electrical-engineers">Electrical Engineers</a></h2><p>
	The cover of the looseleaf ring binder is embossed in gilt letters “Queen Mary’s School, Walsall,” where Bayley had once been a pupil. It is crammed with handwritten notes taken by Bayley during a series of evening lectures that Turing gave at Hanslope Park. The size of Turing’s audience is unknown, but there were numerous young engineers like Bayley at Hanslope.
</p><p>
	These notes can reasonably be given the title 
	<em><em>Turing’s Lectures on Advanced Mathematics for Electrical Engineers</em></em>. Running to 180 pages, they are the most extensive noncryptographic work by Turing currently known, vying in length with his 1940 write-up about Enigma and the Bombe, affectionately known at Bletchley Park as “Prof’s Book.”
</p><p>
	 Stepping back a little helps to put this important discovery into context. The traditional picture of Turing held him to be a mathematician’s mathematician, dwelling in a realm far removed from practical engineering. In 1966, for instance, 
	<em><em>Scientific American</em></em> ran an article by the legendary computer scientist and AI pioneer John McCarthy, in which he stated that Turing’s work did not play “any direct role in the labors of the men who made the computer a reality.” It was a common view at the time.
</p><p><img alt="Old two-ring binder opened to a page of math. " data-rm-shortcode-id="dfc9f40ea8789a8b9c44c99bbb3bcee5" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/old-two-ring-binder-opened-to-a-page-of-math.jpg?id=56152445&amp;width=980" height="2887" id="efe7c" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/old-two-ring-binder-opened-to-a-page-of-math.jpg?id=56152445&amp;width=980" width="4768"><small placeholder="Add Photo Caption...">A binder filled with Bayley’s notes of Turing’s lectures is the jewel of the recently sold document collection.</small><small placeholder="Add Photo Credit...">Bonhams</small></p><p>
	As we now know, though, after the war Turing himself designed an electronic computer, called the Automatic <a href="https://spectrum.ieee.org/tag/computing">Computing</a> Engine, or ACE. What’s more, he designed the <a href="https://spectrum.ieee.org/tag/programming">programming</a> system for the Manchester University “Baby” computer, as well as the hardware for its punched-tape input/output. Baby came to life in mid-1948. Although small, it was the first truly stored-program electronic computer. Two years later, the prototype of Turing’s ACE ran its first program. The prototype was later commercialized as the English Electric DEUCE (Digital Electronic Universal Computing Engine). Dozens of DEUCEs were purchased—big sales in those days—and so Turing’s computer became a major workhorse during the first decades of the Digital Age.
</p><p>
	Yet the image has persisted of Turing as someone who made fundamental yet abstract contributions, rather than as someone whose endeavors sometimes fit onto the spectrum from bench electronics through to engineering theory. The Bayley papers bring a different Turing into focus: Turing the creative electrical engineer, with blobs of solder all over his shoes—even if his soldered joints did have a tendency to come apart, as Bayley loved to relate.
</p><p>
	Turing’s lecture notes are in effect a textbook, terse and selective, on advanced math for circuit engineers, although now very out-of-date, of course.
</p><p>
	There is little specifically about electronics in the lectures, aside from passing mentions, such as a reference to cathode followers. When talking about the Delilah project, Bayley liked to say that Turing had only recently taught himself elementary electronics, by studying an <a href="https://spectrum.ieee.org/tag/rca">RCA</a>&nbsp;<a href="https://spectrum.ieee.org/tag/vacuum-tube">vacuum tube</a> manual while he crossed the Atlantic from New York to Liverpool in March 1943. This cannot be entirely accurate, however, because in 1940 Turing’s “Prof’s Book” described the use of some electronics. He detailed an arrangement of 26 thyratron tubes powered by a 26-phase supply, with each tube controlling a double-coil relay “which only trips if the thyratron fails to fire.”
</p><p>
	Turing’s knowledge of practical electronics was probably inferior to his assistant’s, initially anyway, since Bayley had studied the subject at university and then was involved with <a href="https://spectrum.ieee.org/tag/radar">radar</a> before his transfer to Hanslope Park. When it came to the mathematical side of things, however, the situation was very different. The Bayley papers demonstrate the maturity of Turing’s knowledge of the mathematics of electrical circuit design—knowledge that was essential to the success of the Delilah project.
</p><p>
	The unusual breadth of Turing’s intellectual talents—mathematician, logician, code breaker, philosopher, computer theoretician, AI pioneer, and computational biologist—is already part and parcel of his public persona. To these must now also be added an appreciation of his idiosyncratic prowess in electrical engineering. 
	<span></span></p><p><em>
	Some of the content in this story originally appeared in Jack Copeland’s <a href="https://www.bonhams.com/auction/28322/lot/45/turing-alan-the-delilah-project-the-papers-of-alan-turing-and-donald-bayley-relating-to-the-delilah-project/" rel="noopener noreferrer" target="_blank">report</a> for the <a href="https://www.bonhams.com/" rel="noopener noreferrer" target="_blank">Bonhams</a> auction house. </em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[DeepRAG: Thinking to retrieval step by step for large language models (113 pts)]]></title>
            <link>https://arxiv.org/abs/2502.01142</link>
            <guid>42932948</guid>
            <pubDate>Tue, 04 Feb 2025 14:43:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2502.01142">https://arxiv.org/abs/2502.01142</a>, See on <a href="https://news.ycombinator.com/item?id=42932948">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2502.01142">View PDF</a>
    <a href="https://arxiv.org/html/2502.01142v1">HTML (experimental)</a></p><blockquote>
            <span>Abstract:</span>Large Language Models (LLMs) have shown remarkable potential in reasoning while they still suffer from severe factual hallucinations due to timeliness, accuracy, and coverage of parametric knowledge. Meanwhile, integrating reasoning with retrieval-augmented generation (RAG) remains challenging due to ineffective task decomposition and redundant retrieval, which can introduce noise and degrade response quality. In this paper, we propose DeepRAG, a framework that models retrieval-augmented reasoning as a Markov Decision Process (MDP), enabling strategic and adaptive retrieval. By iteratively decomposing queries, DeepRAG dynamically determines whether to retrieve external knowledge or rely on parametric reasoning at each step. Experiments show that DeepRAG improves retrieval efficiency while improving answer accuracy by 21.99%, demonstrating its effectiveness in optimizing retrieval-augmented reasoning.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Xinyan Guan [<a href="https://arxiv.org/show-email/20bb5385/2502.01142" rel="nofollow">view email</a>]      <br>    <strong>[v1]</strong>
        Mon, 3 Feb 2025 08:22:45 UTC (2,270 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Words flagged in search of current NSF awards (120 pts)]]></title>
            <link>https://mastodon.social/@Lazarou/113943275616933776</link>
            <guid>42932760</guid>
            <pubDate>Tue, 04 Feb 2025 14:29:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mastodon.social/@Lazarou/113943275616933776">https://mastodon.social/@Lazarou/113943275616933776</a>, See on <a href="https://news.ycombinator.com/item?id=42932760">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Radiant Foam: Real-Time Differentiable Ray Tracing (163 pts)]]></title>
            <link>https://radfoam.github.io</link>
            <guid>42931109</guid>
            <pubDate>Tue, 04 Feb 2025 11:39:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://radfoam.github.io">https://radfoam.github.io</a>, See on <a href="https://news.ycombinator.com/item?id=42931109">Hacker News</a></p>
Couldn't get https://radfoam.github.io: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Popular Linux orgs Freedesktop and Alpine Linux are scrambling for new webhost (234 pts)]]></title>
            <link>https://arstechnica.com/gadgets/2025/02/popular-linux-orgs-freedesktop-and-alpine-linux-are-scrambling-for-new-web-hosting/</link>
            <guid>42930974</guid>
            <pubDate>Tue, 04 Feb 2025 11:19:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/gadgets/2025/02/popular-linux-orgs-freedesktop-and-alpine-linux-are-scrambling-for-new-web-hosting/">https://arstechnica.com/gadgets/2025/02/popular-linux-orgs-freedesktop-and-alpine-linux-are-scrambling-for-new-web-hosting/</a>, See on <a href="https://news.ycombinator.com/item?id=42930974">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          
          
<p>Having worked "around the clock" to move from Google Cloud Platform after its open source credits there ran out, and now rushing to move off Equinix, Tissoires suggests a new plan: "[H]ave [freedesktop.org] pay for its own servers, and then have sponsors chip in."</p>
<h2>“Popular without most users knowing it”</h2>
<p>Alpine Linux, a small, security-minded distribution used in many containers and embedded devices, also needs a new home quickly. As <a href="https://alpinelinux.org/posts/Seeking-Support-After-Equinix-Metal-Sunsets.html">detailed in its blog</a>, Alpine Linux uses about 800TB of bandwidth each month and also needs continuous integration runners (or separate job agents), as well as a development box. Alpine states it is seeking co-location space and bare-metal servers near the Netherlands, though it will consider virtual machines if bare metal is not feasible.</p>
<p>Like X.org/Freedesktop, Alpine is using this moment as a wake-up call. Responding to Ars, Carlo Landmeter, who serves on Alpine's council, noted that Alpine Linux is a kind of open source project "that became popular without most users knowing it." Users are starting to donate, and companies are reaching out to help, but it's still "early days," Landmeter wrote.</p>
<p>Every so often, those working at the foundations of open source software experience something that highlights <a href="https://arstechnica.com/information-technology/2014/04/tech-giants-chastened-by-heartbleed-finally-agree-to-fund-openssl/">the mismatch between a project's importance and its support and funding</a>. Perhaps some people or some organizations will do the harder work of finding a sustaining future for these projects.</p>
<p>Ars has reached out to Equinix and X/Freedesktop and will update this post with responses.</p>


          
                  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Nvidia open-source nanite: continuous level of detail (LOD) mesh library (132 pts)]]></title>
            <link>https://github.com/nvpro-samples/nv_cluster_lod_builder</link>
            <guid>42930890</guid>
            <pubDate>Tue, 04 Feb 2025 11:05:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/nvpro-samples/nv_cluster_lod_builder">https://github.com/nvpro-samples/nv_cluster_lod_builder</a>, See on <a href="https://news.ycombinator.com/item?id=42930890">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">nv_cluster_lod_builder </h2><a id="user-content-nv_cluster_lod_builder-" aria-label="Permalink: nv_cluster_lod_builder " href="#nv_cluster_lod_builder-"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/doc/lod_stitch.svg"><img src="https://github.com/nvpro-samples/nv_cluster_lod_builder/raw/main/doc/lod_stitch.svg" alt=""></a></p>
<p dir="auto"><strong>nv_cluster_lod_builder</strong> is a <em>continuous</em> level of detail (LOD) mesh library.
Continuous LOD allows for fine-grained control over geometric detail within a
mesh, compared to traditional discrete LOD. Clusters of triangles are carefully
precomputed by decimating the original mesh in a way that they can be seamlessly
combined across different LOD levels. At rendering time, a subset of these
clusters is selected to adaptively provide the required amount of detail as the
camera navigates the scene.</p>
<p dir="auto">Key features of continuous LOD systems include:</p>
<ul dir="auto">
<li><strong>Fast rendering with more detail:</strong> Triangles are allocated where they are
most needed.</li>
<li><strong>Reduced memory usage with geometry streaming:</strong> Particularly beneficial for
ray tracing applications.</li>
</ul>
<p dir="auto">This library serves as a quick placeholder or learning tool, demonstrating the
basics of creating continuous LOD data. For a reference implementation of the
rendering system, see
<a href="https://github.com/nvpro-samples/vk_lod_clusters">https://github.com/nvpro-samples/vk_lod_clusters</a>.</p>
<p dir="auto"><strong>Input:</strong> a triangle mesh with millions of triangles</p>
<p dir="auto"><strong>Output:</strong></p>
<ol dir="auto">
<li><a href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/include/nvclusterlod/nvclusterlod_mesh.h">nvclusterlod/nvclusterlod_mesh.h</a> - decimated clusters of the
original mesh, with groupings and relations to other groups</li>
<li><a href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/include/nvclusterlod/nvclusterlod_hierarchy.h">nvclusterlod/nvclusterlod_hierarchy.h</a> - a spatial
hierarchy of <em>cluster groups</em> to improve performance of runtime cluster
selection for rendering</li>
</ol>
<p dir="auto">To render, select <em>cluster groups</em> where:</p>
<ul dir="auto">
<li>Detail or decimation error of the group is small enough, relative to the camera</li>
<li>Detail or decimation error of the group's decimated geometry is not small enough</li>
</ul>
<p dir="auto">This is the gist, but the library also does some massaging of the values that
feed into these checks to make sure multiple LODs do not render over the top of
each other. See below.</p>
<p dir="auto">Geometry can be streamed in when needed to save memory.</p>
<p dir="auto"><strong>Table of Contents</strong></p>
<ul dir="auto">
<li><a href="#how-it-works">How it works</a>
<ul dir="auto">
<li><a href="#building-lods">Building LODs</a></li>
<li><a href="#selecting-clusters">Selecting Clusters</a></li>
<li><a href="#spatial-hierarchy">Spatial Hierarchy</a></li>
<li><a href="#streaming">Streaming</a></li>
<li><a href="#references">References</a></li>
</ul>
</li>
<li><a href="#usage-example">Usage Example</a></li>
<li><a href="#build-integration">Build Integration</a>
<ul dir="auto">
<li><a href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li><a href="#license">License</a></li>
<li><a href="#limitations">Limitations</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">How it works</h2><a id="user-content-how-it-works" aria-label="Permalink: How it works" href="#how-it-works"></a></p>
<p dir="auto">The key to continuous LOD is a decimation strategy that allows regular
watertight LOD transitions across a mesh. Such transitions require borders that
match on both sides, and are obtained by keeping the border of the triangle
edges fixed during decimation. Since these edges do not change, successive
iterations of decimation must choose different borders and fix new edges to let
the old ones decimate.</p>
<p dir="auto">To explain why, consider forming groups of triangles and decimating triangles
within. Then grouping the decimated groups and decimating again <em>recursively</em>
until there is just one root group. In this case, some of the vertices would
remain fixed across the entire hierarchy, and would be decimated only when the
last two groups are grouped and decimated to form the coarsest LOD. To avoid
this, new groups must instead be allowed to cross any border, and in fact
encouraged to.</p>
<p dir="auto">This library makes groups of geometry and decimates within <em>groups</em>. Decimated
geometry is then re-grouped, encouraging crossing the old group's borders when
forming new groups. Groups are made from clusters of triangle rather than just
triangles for performance reasons. A group is a cluster of clusters of
triangles. Whole triangle clusters are swapped in and out at runtime for detail
transitions.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Building LODs</h3><a id="user-content-building-lods" aria-label="Permalink: Building LODs" href="#building-lods"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/doc/lod_generate.jpg"><img src="https://github.com/nvpro-samples/nv_cluster_lod_builder/raw/main/doc/lod_generate.jpg" width="600"></a></p>
<p dir="auto">The image above shows the process that is repeated to create LODs until there is
just a single cluster representing the whole mesh:</p>
<ol dir="auto">
<li>
<p dir="auto">Make clusters [, within old borders]</p>
<p dir="auto">This library uses
<a href="https://github.com/nvpro-samples/nv_cluster_builder">nv_cluster_builder</a>'
segmented API to make clusters of a fixed size from triangles within groups
of the previous iteration, or globally for the first iteration.</p>
</li>
<li>
<p dir="auto">Group clusters [, crossing old borders]</p>
<p dir="auto">This is just making clusters of clusters, but with a catch. Border edges
cannot decimate so it is important to encourage grouping clusters in a way to
keep old borders internal to the group. Then the previously locked edges are
free to decimate. This is done by adding a connection and weight between
clusters sharing many vertices (locked in particular) and optimizing for a
<em>minimum cut</em> when making cluster groups with
<a href="https://github.com/nvpro-samples/nv_cluster_builder">nv_cluster_builder</a>.</p>
<p dir="auto">If there is only one cluster in one group, the operation is complete.</p>
</li>
<li>
<p dir="auto">Decimate within groups, keep border</p>
<p dir="auto">Vertices shared between groups are computed and locked before using
<a href="https://github.com/zeux/meshoptimizer">meshoptimizer</a>'s <code>simplify</code> to
decimate each cluster group. The aim is to halve the number of triangles.
These become the input to the next iteration.</p>
</li>
</ol>
<p dir="auto">The code is documented and intended to be read too. These steps can be found in
<code>nvclusterlodMeshCreate()</code> at the bottom of
<a href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/src/nvclusterlod_mesh.cpp"><code>nvclusterlod_mesh.cpp</code></a>.</p>
<p dir="auto">When decimating, the generating group is tracked. This is the geometry each
cluster was decimated from. A cluster's group is one of many groups generated by
decimating its generating group. Similarly a group has many generating groups.
Clusters will be selected in intersections of groups and generating groups -
perhaps something to optimize the decision making with. The term <em>parent</em> is
avoided due to possible confusion between the originating geometry and the
direction to the root node.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/doc/lod_dag.svg"><img src="https://github.com/nvpro-samples/nv_cluster_lod_builder/raw/main/doc/lod_dag.svg" alt=""></a></p>
<p dir="auto">The image above shows an example 2D illustration with colored groups, their
clusterings and relationships. Notably, two groups of clusters may produce
decimated clusters that are both part of a new group. This allows group borders
to be decimated after each iteration. The relationships form a directed acyclic
graph (DAG), i.e. not a tree, with the constraint that relationships don't skip
levels - but maybe that could help with uneven detail? LOD transitions may only
happen across group borders, which places a limit on the rate of LOD change.</p>
<p dir="auto">The output data are:</p>
<ul dir="auto">
<li>Clusters of triangles, referencing vertices in the original mesh</li>
<li>Groupings of clusters and their relationships:
<ul dir="auto">
<li>Generating geometry, input to decimation</li>
<li>Generated geometry, decimation output</li>
</ul>
</li>
<li>Group bounding spheres</li>
<li>Group decimation quadric error</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">Selecting Clusters</h3><a id="user-content-selecting-clusters" aria-label="Permalink: Selecting Clusters" href="#selecting-clusters"></a></p>
<p dir="auto">The first step is to pick the goal. A couple of examples are:</p>
<ol dir="auto">
<li>Pixel-sized triangles?</li>
<li>Sub-pixel-sized geometric error?</li>
</ol>
<p dir="auto">The latter may be more efficient if for example large triangles give the same
visual result. This may be more challenging to quantify particularly if
decimation introduces error not captured by the metric. For the moment this
library uses <a href="https://www.cs.cmu.edu/~./garland/Papers/quadrics.pdf" rel="nofollow"><em>quadric
error</em></a>, an approximate
measure of the object-space distance between the decimated mesh and the original
high-resolution mesh. Inaccuracies from decimating vertex attributes such as
normals and UVs are currently ignored.</p>
<p dir="auto">A conservative maximum vertex position error is maintained for all cluster
groups. This is the farthest any vertex may be from representing the original
surface. When rendering we ask, "what is the largest possible angular error from
the camera?" for a particular group. We then want to render geometry when its
error is just less than a threshold, but not any overlapping geometry.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/doc/arcsin_angular_error.svg"><img src="https://github.com/nvpro-samples/nv_cluster_lod_builder/raw/main/doc/arcsin_angular_error.svg" alt=""></a></p>
<p dir="auto">The farthest a decimated vertex may be incorrectly representing geometry is the
quadric error. This will be bigger in screen space nearer the camera so the
nearest point on the group's bounding sphere is chosen. The largest possible
angular error from the camera is then the angular size of a sphere with quadric
error radius at that point. Convenient and simple: the arcsine of the error
divided by the distance to the closest point on the bounding sphere. A target
threshold can be chosen based on a single pixel's FOV at the center of the
projection - to keep any geometric error less than the size of a pixel. This
avoids varying the threshold across the image, which would further complicate a
problem yet to solve.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/doc/graph_cut.svg"><img src="https://github.com/nvpro-samples/nv_cluster_lod_builder/raw/main/doc/graph_cut.svg" alt=""></a></p>
<p dir="auto">We have a target goal and a way to compute it, but how can we guarantee a single
unique continuous surface? I.e. no holes and no overlaps. An ideal solution
would be to pick clusters that satisfy the angular error threshold but constrain
the rest to only making a single LOD transition per group. That would require
traversing the graph with its adjacency information, visualized above. The term
is a making graph cut and it would be challenging to do quickly and in parallel
on a GPU.</p>
<p dir="auto">We ideally want to test whether to render a cluster independently. We could
render geometry where its error is the first below the threshold, i.e. its
decimated error is greater. Just that would actually guarantee no holes, but
there would still be overlaps. E.g. two clusters that represent the same surface
being drawn at once. This can happen when the bounding sphere of a decimated
group is so far from the camera that its conservative angular error is smaller
than a group's angular error that it was decimated from.</p>
<p dir="auto">The solution implemented by this library is to artificially increase the size of
the bounding spheres such that the nearest point to the camera is always nearer
than that on a bounding sphere of its generating geometry. In short, make
bounding spheres bound generating geometry too. Once done, a single watertight
mesh can be stitched together from independent parallel decisions. In general,
the angular error, or whatever metric is compared to a threshold, must never
decrease with each level of decimation. The failure above was a decrease due to
the size distortion of a perspective projection.</p>
<p dir="auto">One derivation glossed over so far is why store bounding spheres and errors per
group. The simple answer is that for LOD transitions to work, the entire group
must change LOD at the same time, so all clusters in a group must share the same
values.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Spatial Hierarchy</h3><a id="user-content-spatial-hierarchy" aria-label="Permalink: Spatial Hierarchy" href="#spatial-hierarchy"></a></p>
<p dir="auto">This library provides a spatial hierarchy of bounding spheres to search for
cluster groups of the right LOD in the right spatial region relative to the
camera.</p>
<p dir="auto">One way to think of this is there are many high-detailed clusters and few low
detail. If an object is far away, only the low-detailed clusters should be
checked. That is, the search can exit early if it is known that all remaining
clusters are too detailed.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/doc/spatial_selection.svg"><img src="https://github.com/nvpro-samples/nv_cluster_lod_builder/raw/main/doc/spatial_selection.svg" alt=""></a></p>
<p dir="auto">Another way of thinking about this is at a certain distance range from the
camera, as shown in the image above, only clusters with certain bounding sphere
radii and quadric error ranges should be rendered. Thus, the search space can be
reduced by conservatively searching only that region. An r-tree could work well
here too.</p>
<p dir="auto">The hierarchy is actually a set of hierarchies - one for each LOD level. For
convenience, per-level roots are merged since the application would need to
search all levels anyway, or at least their roots.</p>
<p dir="auto">Leaf nodes point to cluster groups and are initialized with the group's
decimated cluster maximum quadric error (i.e. from the next level*) and the
group's bounding sphere. The hierarchy is built by recursively spatially
clustering nodes - not fast, but it works and it isn't a bottleneck yet.
Internal nodes are given the maximum quadric error and bounding sphere of their
children.</p>
<p dir="auto">*The group quadric error is the error of the generated group's clusters, i.e.
after decimation, not the error in the group's clusters. This avoids
unnecessarily storing a per-cluster error.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nvpro-samples/nv_cluster_lod_builder/blob/main/doc/hierarchy_selection.svg"><img src="https://github.com/nvpro-samples/nv_cluster_lod_builder/raw/main/doc/hierarchy_selection.svg" alt=""></a></p>
<p dir="auto">The tree can be traversed using the same angular error check as for cluster
groups, exiting when the node's error is less than the threshold. The trees for
LODs with too fine detail will exit early. The blue crosses in the above image
show an example - those nodes are already below the threshold. Since traversed
leaf nodes have already been checked to be above the threshold, and they are
initialized with cluster's generated group's error, their clusters only need to
check that they are below the threshold in order to select them for rendering.
Note that the entire group may not necessarily be drawn. For example, two of the
yellow clusters were not below the threshold (red cross). This same check is
made by the blue group's leaf node and blue clusters are drawn instead.</p>
<p dir="auto">While it is possible to exit early from a tree with too coarse detail, it may
interfere with streaming, depending on how dependencies are implemented.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Streaming</h3><a id="user-content-streaming" aria-label="Permalink: Streaming" href="#streaming"></a></p>
<p dir="auto">This is not a definitive how-to, but outlines some ideas for getting started
with streaming continuous LOD.</p>
<p dir="auto">The first feature needed for streaming is indirection - e.g. pointers to cluster
groups that are initially null and can be populated over time (outside of
cluster selection and rendering). Then, cluster groups in leaf nodes encountered
during hierarchy traversal must be marked and streamed in. Finally, minor
changes are needed for selecting clusters:</p>
<ul dir="auto">
<li>Obviously, don't traverse leaf nodes whose groups have not been loaded yet</li>
<li>Consider clusters to be below the threshold if their generating group has not been loaded</li>
</ul>
<p dir="auto">Choosing to keep lower detail geometry loaded greatly simplifies things. That
is, making sure decimated geometry is loaded first. This happens naturally due
to traversal order, but tracking dependencies host side may be needed if
streaming less than everything-at-once from traversal.</p>
<p dir="auto">Initially, streaming at the granularity of cluster groups and using the
generated group indices directly as dependencies is straight forward. Cluster
groups could also be combined for coarser streaming granularity, with a new set
of dependencies.</p>
<p dir="auto"><strong>Simple Streaming</strong></p>
<p dir="auto">Compute per-group needed flags during traversal. Emit load/unload events on
rising/falling edges. Fulfil those events in whole and set or unset the pointers
to the new data between traversal+rendering. Some filtering such as per-group
frame age may be useful to avoid frequently unloading and reloading groups.</p>
<p dir="auto"><strong>Continuous Streaming</strong></p>
<p dir="auto">The simple streaming above has less control over the amount streamed per batch.
This can be improved by adding batch size limits and queues. Note that by
partially streaming will require manually resolving dependency orders. Some
ideas are:</p>
<ol dir="auto">
<li>Limit the number of load/unload events emitted per frame</li>
<li>Add a global event queue
<ul dir="auto">
<li>Delay unloads and ignore pulses by comparing events at the front of the
queue with the most recent events inserted into the back of the queue.</li>
<li>Prioritise events by a detail metric so geometry loads evenly on screen</li>
</ul>
</li>
<li>Set a fixed memory limit (memory pool even) and/or fixed cluster/group count
<ul dir="auto">
<li>Prioritise loading until memory exhausted</li>
<li>Then only unload until memory reclaimed</li>
</ul>
</li>
<li>To maintain dependency loading in topological order, expand events after the global queue
<ul dir="auto">
<li>Recursively load generated groups first</li>
<li>Unload groups only if it is not a dependency of another group</li>
<li>The order of dependency resolution must not be changed after this step in the pipeline, but batches can still be formed</li>
</ul>
</li>
<li>Form batches during dependency loading
<ul dir="auto">
<li>The memory limit may be hit during dependency expansion</li>
<li>Must not include load/unload for same item in batch, assuming batches are
executed in parallel</li>
</ul>
</li>
</ol>
<p dir="auto"><h3 tabindex="-1" dir="auto">References</h3><a id="user-content-references" aria-label="Permalink: References" href="#references"></a></p>
<ul dir="auto">
<li><a href="https://ieeexplore.ieee.org/document/19053" rel="nofollow">(1989) A pyramidal data structure for triangle-based surface description</a></li>
<li><a href="https://citeseerx.ist.psu.edu/document?repid=rep1&amp;type=pdf&amp;doi=3fa8c74a44f02aaaa18fe2d3cfdedfc9b8dbc50a" rel="nofollow">(1995) On Levels of Detail in Terrains</a></li>
<li><a href="https://dl.acm.org/doi/10.5555/288216.288222" rel="nofollow">(1998) Efficient Implementation of Multi-Triangulations</a></li>
<li><a href="https://ieeexplore.ieee.org/document/964533" rel="nofollow">(2001) Visualization of Large Terrains Made Easy</a></li>
<li><a href="https://ieeexplore.ieee.org/document/1532797" rel="nofollow">(2005) Batched Multi Triangulation</a></li>
<li><a href="https://advances.realtimerendering.com/s2021/Karis_Nanite_SIGGRAPH_Advances_2021_final.pdf" rel="nofollow">(2021) A Deep Dive into Unreal Engine's 5 Nanite</a> (<a href="https://www.youtube.com/watch?v=eviSykqSUUw" rel="nofollow">video</a>)</li>
<li><a href="https://www.intel.com/content/www/us/en/developer/articles/technical/real-time-ray-tracing-of-micro-poly-geometry.html" rel="nofollow">(2023) Real-Time Ray Tracing of Micro-Poly Geometry with Hierarchical Level of Detail</a> (<a href="https://www.youtube.com/watch?v=Tx32yi_0ETY" rel="nofollow">video</a>)</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Usage Example</h2><a id="user-content-usage-example" aria-label="Permalink: Usage Example" href="#usage-example"></a></p>
<p dir="auto">For a complete usage example, see <a href="https://github.com/nvpro-samples/vk_lod_clusters">https://github.com/nvpro-samples/vk_lod_clusters</a>.</p>
<p dir="auto">To create LOD data with this library:</p>
<div dir="auto" data-snippet-clipboard-copy-content="#include <nvclusterlod/nvclusterlod_hierarchy.h>
#include <nvclusterlod/nvclusterlod_hierarchy_storage.hpp>
#include <nvclusterlod/nvclusterlod_mesh.h>
#include <nvclusterlod/nvclusterlod_mesh_storage.hpp>

...

// Create contexts for running operations
nvcluster::Context context;
nvcluser::ContextCreateInfo contextCreateInfo{};
nvclusterCreateContext(&amp;contextCreateInfo, &amp;context);

nvclusterlod::Context lodContext;
nvclusterlod::ContextCreateInfo lodContextCreateInfo{.clusterContext = context};
nvclusterlodCreateContext(&amp;lodContextCreateInfo, &amp;lodContext);

// Input mesh
std::vector<uint32_t> indices   = ...;
std::vector<vec3>     positions = ...;

// Create decimated clusters
const nvclusterlod::MeshInput meshInput{
    // Mesh data
    .indices      = indices.data(),
    .indexCount   = static_cast<uint32_t>(indices.size()),
    .vertices     = reinterpret_cast<const float*>(positions.data()),
    .vertexOffset = 0,
    .vertexCount  = static_cast<uint32_t>(positions.size()),
    .vertexStride = sizeof(vec3),
    // Use default configurations and decimation factor:
    .clusterConfig = {},
    .clusterGroupConfig = {},
    .decimationFactor = 0.5,
};

nvclusterlod::LocalizedLodMesh mesh;
nvclusterlod::generateLocalizedLodMesh(lodContext, meshInput, mesh);

// Build a spatial hierarchy for faster selection
const nvclusterlod::HierarchyInput hierarchyInput {
    .clusterGeneratingGroups = mesh.lodMesh.clusterGeneratingGroups.data(),
    .groupQuadricErrors      = mesh.lodMesh.groupQuadricErrors.data(),
    .groupClusterRanges      = mesh.lodMesh.groupClusterRanges.data(),
    .groupCount              = static_cast<uint32_t>(mesh.lodMesh.groupClusterRanges.size()),
    .clusterBoundingSpheres  = mesh.lodMesh.clusterBoundingSpheres.data(),
    .clusterCount            = static_cast<uint32_t>(mesh.lodMesh.clusterBoundingSpheres.size()),
    .lodLevelGroupRanges     = mesh.lodMesh.lodLevelGroupRanges.data(),
    .lodLevelCount           = static_cast<uint32_t>(mesh.lodMesh.lodLevelGroupRanges.size())
};

nvclusterlod::LodHierarchy hierarchy;
nvclusterlod::generateLodHierarchy(lodContext, hierarchyInput, hierarchy);

// Upload mesh and hierarchy to the GPU. These are both simple structures of arrays.
..."><pre>#<span>include</span> <span><span>&lt;</span>nvclusterlod/nvclusterlod_hierarchy.h<span>&gt;</span></span>
#<span>include</span> <span><span>&lt;</span>nvclusterlod/nvclusterlod_hierarchy_storage.hpp<span>&gt;</span></span>
#<span>include</span> <span><span>&lt;</span>nvclusterlod/nvclusterlod_mesh.h<span>&gt;</span></span>
#<span>include</span> <span><span>&lt;</span>nvclusterlod/nvclusterlod_mesh_storage.hpp<span>&gt;</span></span>

...

<span><span>//</span> Create contexts for running operations</span>
nvcluster::Context context;
nvcluser::ContextCreateInfo contextCreateInfo{};
<span>nvclusterCreateContext</span>(&amp;contextCreateInfo, &amp;context);

nvclusterlod::Context lodContext;
nvclusterlod::ContextCreateInfo lodContextCreateInfo{.<span>clusterContext</span> = context};
<span>nvclusterlodCreateContext</span>(&amp;lodContextCreateInfo, &amp;lodContext);

<span><span>//</span> Input mesh</span>
std::vector&lt;<span>uint32_t</span>&gt; indices   = ...;
std::vector&lt;vec3&gt;     positions = ...;

<span><span>//</span> Create decimated clusters</span>
<span>const</span> nvclusterlod::MeshInput meshInput{
    <span><span>//</span> Mesh data</span>
    .<span>indices</span>      = indices.<span>data</span>(),
    .<span>indexCount</span>   = <span>static_cast</span>&lt;<span>uint32_t</span>&gt;(indices.<span>size</span>()),
    .<span>vertices</span>     = <span>reinterpret_cast</span>&lt;<span>const</span> <span>float</span>*&gt;(positions.<span>data</span>()),
    .<span>vertexOffset</span> = <span>0</span>,
    .<span>vertexCount</span>  = <span>static_cast</span>&lt;<span>uint32_t</span>&gt;(positions.<span>size</span>()),
    .<span>vertexStride</span> = <span>sizeof</span>(vec3),
    <span><span>//</span> Use default configurations and decimation factor:</span>
    .<span>clusterConfig</span> = {},
    .<span>clusterGroupConfig</span> = {},
    .<span>decimationFactor</span> = <span>0.5</span>,
};

nvclusterlod::LocalizedLodMesh mesh;
<span>nvclusterlod::generateLocalizedLodMesh</span>(lodContext, meshInput, mesh);

<span><span>//</span> Build a spatial hierarchy for faster selection</span>
<span>const</span> nvclusterlod::HierarchyInput hierarchyInput {
    .<span>clusterGeneratingGroups</span> = mesh.<span>lodMesh</span>.<span>clusterGeneratingGroups</span>.<span>data</span>(),
    .<span>groupQuadricErrors</span>      = mesh.<span>lodMesh</span>.<span>groupQuadricErrors</span>.<span>data</span>(),
    .<span>groupClusterRanges</span>      = mesh.<span>lodMesh</span>.<span>groupClusterRanges</span>.<span>data</span>(),
    .<span>groupCount</span>              = <span>static_cast</span>&lt;<span>uint32_t</span>&gt;(mesh.<span>lodMesh</span>.<span>groupClusterRanges</span>.<span>size</span>()),
    .<span>clusterBoundingSpheres</span>  = mesh.<span>lodMesh</span>.<span>clusterBoundingSpheres</span>.<span>data</span>(),
    .<span>clusterCount</span>            = <span>static_cast</span>&lt;<span>uint32_t</span>&gt;(mesh.<span>lodMesh</span>.<span>clusterBoundingSpheres</span>.<span>size</span>()),
    .<span>lodLevelGroupRanges</span>     = mesh.<span>lodMesh</span>.<span>lodLevelGroupRanges</span>.<span>data</span>(),
    .<span>lodLevelCount</span>           = <span>static_cast</span>&lt;<span>uint32_t</span>&gt;(mesh.<span>lodMesh</span>.<span>lodLevelGroupRanges</span>.<span>size</span>())
};

nvclusterlod::LodHierarchy hierarchy;
<span>nvclusterlod::generateLodHierarchy</span>(lodContext, hierarchyInput, hierarchy);

<span><span>//</span> Upload mesh and hierarchy to the GPU. These are both simple structures of arrays.</span>
...</pre></div>
<p dir="auto"><strong>Rendering whole levels of detail</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="// For each LOD level (highest detail first)
for(size_t lod = 0; lod < mesh.lodMesh.lodLevelGroupRanges.size(); lod++)
{
    const nvcluster::Range&amp; lodLevelGroupRange = mesh.lodMesh.lodLevelGroupRanges[lod];
    glBegin(GL_TRIANGLES);  // Naive OpenGL immediate mode just for illustration

    // For each group
    for(uint32_t groupIndex = lodLevelGroupRange.offset; groupIndex < lodLevelGroupRange.offset + lodLevelGroupRange.count; groupIndex++)
    {
        const nvcluster::Range&amp; groupClusterRange = mesh.lodMesh.groupClusterRanges[groupIndex];

        // For each cluster
        for(uint32_t clusterIndex = groupClusterRange.offset; clusterIndex < groupClusterRange.offset + groupClusterRange.count; clusterIndex++)
        {
            const nvcluster::Range&amp; clusterTriangleRange = mesh.lodMesh.clusterTriangleRanges[clusterIndex];
            const nvcluster::Range&amp; clusterVertexRange   = mesh.clusterVertexRanges[clusterIndex];

            // Can use this to pre-compute a per-cluster vertex array
            const uint32_t* clusterVertexGlobalIndices = &amp;mesh.vertexGlobalIndices[clusterVertexRange.offset];

            // For each triangle
            for(uint32_t triangleIndex = clusterTriangleRange.offset; triangleIndex < clusterTriangleRange.offset + clusterTriangleRange.count; triangleIndex++)
            {
                // For each triangle vertex
                for (uint32_t vertex = 0; vertex < 3; ++vertex)
                {
                    uint32_t localVertexIndex  = mesh.lodMesh.triangleVertices[3 * triangleIndex + vertex];
                    uint32_t globalVertexIndex = clusterVertexGlobalIndices[localVertexIndex];
                    glVertex3fv(glm::value_ptr(positions[globalVertexIndex]));
                }
            }
        }
    }
    glEnd();
}"><pre><span><span>//</span> For each LOD level (highest detail first)</span>
<span>for</span>(<span>size_t</span> lod = <span>0</span>; lod &lt; mesh.lodMesh.lodLevelGroupRanges.size(); lod++)
{
    <span>const</span> nvcluster::Range&amp; lodLevelGroupRange = mesh.<span>lodMesh</span>.<span>lodLevelGroupRanges</span>[lod];
    <span>glBegin</span>(GL_TRIANGLES);  <span><span>//</span> Naive OpenGL immediate mode just for illustration</span>

    <span><span>//</span> For each group</span>
    <span>for</span>(<span>uint32_t</span> groupIndex = lodLevelGroupRange.<span>offset</span>; groupIndex &lt; lodLevelGroupRange.<span>offset</span> + lodLevelGroupRange.<span>count</span>; groupIndex++)
    {
        <span>const</span> nvcluster::Range&amp; groupClusterRange = mesh.<span>lodMesh</span>.<span>groupClusterRanges</span>[groupIndex];

        <span><span>//</span> For each cluster</span>
        <span>for</span>(<span>uint32_t</span> clusterIndex = groupClusterRange.<span>offset</span>; clusterIndex &lt; groupClusterRange.<span>offset</span> + groupClusterRange.<span>count</span>; clusterIndex++)
        {
            <span>const</span> nvcluster::Range&amp; clusterTriangleRange = mesh.<span>lodMesh</span>.<span>clusterTriangleRanges</span>[clusterIndex];
            <span>const</span> nvcluster::Range&amp; clusterVertexRange   = mesh.<span>clusterVertexRanges</span>[clusterIndex];

            <span><span>//</span> Can use this to pre-compute a per-cluster vertex array</span>
            <span>const</span> <span>uint32_t</span>* clusterVertexGlobalIndices = &amp;mesh.<span>vertexGlobalIndices</span>[clusterVertexRange.<span>offset</span>];

            <span><span>//</span> For each triangle</span>
            <span>for</span>(<span>uint32_t</span> triangleIndex = clusterTriangleRange.<span>offset</span>; triangleIndex &lt; clusterTriangleRange.<span>offset</span> + clusterTriangleRange.<span>count</span>; triangleIndex++)
            {
                <span><span>//</span> For each triangle vertex</span>
                <span>for</span> (<span>uint32_t</span> vertex = <span>0</span>; vertex &lt; <span>3</span>; ++vertex)
                {
                    <span>uint32_t</span> localVertexIndex  = mesh.<span>lodMesh</span>.<span>triangleVertices</span>[<span>3</span> * triangleIndex + vertex];
                    <span>uint32_t</span> globalVertexIndex = clusterVertexGlobalIndices[localVertexIndex];
                    <span>glVertex3fv</span>(<span>glm::value_ptr</span>(positions[globalVertexIndex]));
                }
            }
        }
    }
    <span>glEnd</span>();
}</pre></div>
<p dir="auto"><strong>Selecting clusters</strong></p>
<p dir="auto">It is intended clusters are rendered based on their quadric error, a measure of
geometric accuracy. A threshold in error over distance [to the camera] is chosen</p>
<ul dir="auto">
<li>the arcsine of which would be the angular error. This could be converted to a
screen space pixel size, but for ray tracing where there are shadows and
reflections behind the camera, a pure distance metric is a good start.</li>
</ul>
<p dir="auto">To form a single unique surface with clusters of the right LOD, render clusters
where:</p>
<div dir="auto" data-snippet-clipboard-copy-content="errorOverDistance(
        objectToEyeTransform,
        hierarchy.groupCumulativeBoundingSpheres[clusterGroup],
        hierarchy.groupCumulativeQuadricError[clusterGroup]
    ) >= threshold
&amp;&amp;
errorOverDistance(
        objectToEyeTransform,
        hierarchy.groupCumulativeBoundingSpheres[clusterGeneratingGroup],
        hierarchy.groupCumulativeQuadricError[clusterGeneratingGroup]
    ) < threshold"><pre><span>errorOverDistance</span>(
        objectToEyeTransform,
        hierarchy.groupCumulativeBoundingSpheres[clusterGroup],
        hierarchy.groupCumulativeQuadricError[clusterGroup]
    ) &gt;= threshold
&amp;&amp;
errorOverDistance(
        objectToEyeTransform,
        hierarchy.groupCumulativeBoundingSpheres[clusterGeneratingGroup],
        hierarchy.groupCumulativeQuadricError[clusterGeneratingGroup]
    ) &lt; threshold</pre></div>
<p dir="auto">The <code>clusterGeneratingGroup</code> is the group from which a cluster was generated by
decimation. E.g. decimating the "generating" group of clusters <em>generates</em>
another a new smaller set of clusters.</p>
<p dir="auto">The <code>groupCumulativeQuadricError</code> is actually the error after its geometry is
decimated, not the error of the group itself's clusters. This value doesn't
exist at the group level, which is the reason for the surprise. The above
conditions gives a band in which cluster are chosen. Their group's decimated
geometry (first check) is closest to but not exceeding the threshold. Their
geometry (second check) does exceed the threshold so they are first past the
threshold. This holds true given some massaging of the bounding spheres to
guarantee the decimated geometry will always pass the threshold before the
geometry itself.</p>
<p dir="auto">The <code>groupCumulativeBoundingSpheres</code> conservatively include their generating
group's bounding spheres. This guarantees that clusters from multiple levels
cannot be rendered at once.</p>
<p dir="auto"><strong>Spatial hierarchy</strong></p>
<p dir="auto">Performing a test per cluster would be expensive. Even only testing every unique
group--generating-group pair. This library creates a spatial hierarchy of
bounding spheres to reduce the search space.</p>
<p dir="auto"><code>hierarchy.nodes</code> contains a tree of all clusters. The first node is the root
node. Simply descend while the following condition holds and check all cluster
range nodes when found. It's actually a combination of hierarchies for each LOD
level. The way it works is described below.</p>
<div dir="auto" data-snippet-clipboard-copy-content="errorOverDistance(
        objectToEyeTransform,
        node.boundingSphere,
        node.maxClusterQuadricError
    ) >= threshold"><pre><span>errorOverDistance</span>(
        objectToEyeTransform,
        node.boundingSphere,
        node.maxClusterQuadricError
    ) &gt;= threshold</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Build Integration</h2><a id="user-content-build-integration" aria-label="Permalink: Build Integration" href="#build-integration"></a></p>
<p dir="auto">This library uses CMake and requires C++20. It is currently a static
library, designed with C compatibility in mind with data passed as a structure
of arrays and output allocated by the user. Integration has been verified by
directly including it with <code>add_subdirectory</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="add_subdirectory(nv_cluster_lod_builder)
...
target_link_libraries(my_target PUBLIC nv_cluster_lod_builder)"><pre><span>add_subdirectory</span>(nv_cluster_lod_builder)
...
<span>target_link_libraries</span>(my_target <span>PUBLIC</span> nv_cluster_lod_builder)</pre></div>
<p dir="auto">If there is interest, please reach out for CMake config files (for
<code>find_package()</code>) or any other features. GitHub issues are welcome.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Dependencies</h3><a id="user-content-dependencies" aria-label="Permalink: Dependencies" href="#dependencies"></a></p>
<p dir="auto">nv_cluster_lod_builder depends upon
<a href="https://github.com/nvpro-samples/nv_cluster_builder">nv_cluster_builder</a> and
<a href="https://github.com/zeux/meshoptimizer">meshoptimizer</a>, which are submodules. To
download them, run</p>
<div data-snippet-clipboard-copy-content="git submodule update --init --recursive"><pre><code>git submodule update --init --recursive
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">This library and
<a href="https://github.com/nvpro-samples/nv_cluster_builder">nv_cluster_builder</a> are
licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">Apache License
2.0</a>.</p>
<p dir="auto">This library uses third-party dependencies, which have their own:</p>
<ul dir="auto">
<li><a href="https://github.com/zeux/meshoptimizer">meshoptimizer</a>, licensed under the
<a href="https://github.com/zeux/meshoptimizer/blob/47aafa533b439a78b53cd2854c177db61be7e666/LICENSE.md">MIT License</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Limitations</h2><a id="user-content-limitations" aria-label="Permalink: Limitations" href="#limitations"></a></p>
<p dir="auto">This library is intended to enable a quick start to continuous LOD. It
demonstrates the basics for use as a learning tool or a placeholder.</p>
<p dir="auto">Cluster and cluster group quality includes the limitations outlined in
<a href="https://github.com/nvpro-samples/nv_cluster_builder">nv_cluster_builder</a>.</p>
<p dir="auto">The number of triangles per cluster is configurable, but the vertex count is
unconstrained. There are plans to address this, but for now it is possible that
the 256 vertex limit of <code>VK_NV_cluster_acceleration_structure</code> may be exceeded.</p>
<p dir="auto">The decimation step uses <a href="https://github.com/zeux/meshoptimizer">meshoptimizer</a>
for its lightweight convenience. This step is internal and not configurable.
Texture seams are not preserved and in general vertex attributes are yet to be
plumbed through.</p>
<p dir="auto">Performance is limited by the clustering and decimation algorithms that run on
the CPU, although there is some parallelization.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OmniHuman-1: Human Animation Models (109 pts)]]></title>
            <link>https://omnihuman-lab.github.io/</link>
            <guid>42930639</guid>
            <pubDate>Tue, 04 Feb 2025 10:29:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://omnihuman-lab.github.io/">https://omnihuman-lab.github.io/</a>, See on <a href="https://news.ycombinator.com/item?id=42930639">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="title-flex">
      
      <p><span>
        <a target="_blank" href="" onclick="return false;">Gaojie&nbsp;Lin</a><sup>*</sup>,
        <a target="_blank" href="" onclick="return false;">Jianwen&nbsp;Jiang</a><sup>*†</sup>,
        <a target="_blank" href="" onclick="return false;">Jiaqi&nbsp;Yang</a><sup>*</sup>,
        <a target="_blank" href="" onclick="return false;">Zerong&nbsp;Zheng</a><sup>*</sup>,
        <a target="_blank" href="" onclick="return false;">Chao&nbsp;Liang</a><sup></sup>
        
        <br>
      </span>
      <span>Bytedance</span>
      <span><sup>*</sup>Equal contribution,<sup>†</sup>Project lead
        <!-- ,<sup>‡</sup>Internship at Bytedance -->
      </span></p>
      <p><small><span><b>TL;DR</b>: We propose an end-to-end multimodality-conditioned human video generation framework named OmniHuman, which can generate human videos based on a single human image and motion signals (e.g., audio only, video only, or a combination of audio and video). In OmniHuman, we introduce a multimodality motion conditioning mixed training strategy, allowing the model to benefit from data scaling up of mixed conditioning. This overcomes the issue that previous end-to-end approaches faced due to the scarcity of high-quality data. OmniHuman significantly outperforms existing methods, generating extremely realistic human videos based on weak signal inputs, especially audio. It supports image inputs of any aspect ratio, whether they are portraits, half-body, or full-body images, delivering more lifelike and high-quality results across various scenarios.</span></small></p><p><img src="https://omnihuman-lab.github.io/image/overall.png" alt="">
      </p>
    </div><div id="sections">
      <h3>Generated Videos</h3>
        <p>
          OmniHuman supports various visual and audio styles. It can generate realistic human videos <strong>at any aspect ratio and body proportion (portrait, half-body, full-body all in one)</strong>, with realism stemming from comprehensive aspects including motion, lighting, and texture details.<br>
          
        </p>
        <p>
          <b>*</b> Note that to generate all results on this page, <strong>only any single image and audio are required</strong>, except for the demo showcasing video and combined driving signals. For the sake of a clean layout, we have omitted the display of reference images, which are the first frame of the generated video in most cases. If you need comparisons or further information, please do not hesitate to contact us.
        </p>
        
        
      <h3>Singing</h3>
        <p>OmniHuman can support various music styles and accommodate multiple body poses and singing forms. It can handle high-pitched songs and display different motion styles for different types of music. Please remember to select the highest video quality. The generated video quality also highly depends on the quality of the reference image.

        </p><p>
          <iframe src="https://www.youtube.com/embed/XF5vOR7Bpzs?si=8xdu-gtd9AzUd615" allowfullscreen=""></iframe>
          <iframe src="https://www.youtube.com/embed/0cwvT-J7PcQ?si=tfnipoBtxDU0gcNH" allowfullscreen=""></iframe>
          <iframe src="https://www.youtube.com/embed/4w2AeGHy31Q?si=DQaeCWRj0V9SRm52" allowfullscreen=""></iframe>
          <iframe src="https://www.youtube.com/embed/1NU8NzvAxEg?si=tu3zNPGjUtdL1ag9" allowfullscreen=""></iframe>
        </p>


        <p>
          <iframe src="https://www.youtube.com/embed/ns8kn5NGL44?si=5-uMWr431xZamSlY" allowfullscreen=""></iframe>
          <iframe src="https://www.youtube.com/embed/GGTcVOb2S9k?si=tLMOPd_1rOXXeO5x" allowfullscreen=""></iframe>
          <iframe src="https://www.youtube.com/embed/CVVNK06LVac?si=VVJTt1nHcKq_xq7n" allowfullscreen=""></iframe>
          <iframe src="https://www.youtube.com/embed/XV4E0-TVsvg?si=Q_936m0uHLW86cQk" allowfullscreen=""></iframe>
        </p>


      <h3>Talking</h3>
        <p>OmniHuman can support input of any aspect ratio in terms of speech. It significantly improves the handling of gestures, which is a challenge for existing methods, and produces highly realistic results. The audio and images for some of the test cases are sourced from <a href="https://www.youtube.com/watch?v=5Jk8qITsqdM&amp;t=127s&amp;ab_channel=TEDxTalks">link1</a>, <a href="https://www.youtube.com/watch?v=ITxWUu6UcWQ&amp;t=251s&amp;ab_channel=TEDxTalks">link2</a>, <a href="https://www.youtube.com/watch?v=oO8w6XcXJUs&amp;ab_channel=RealTimewithBillMaher">link3</a>, <a href="https://www.youtube.com/watch?v=oO8w6XcXJUs&amp;ab_channel=RealTimewithBillMaher">link4</a>.</p>
        
        




      <h3>Diversity</h3>
        <p>In terms of input diversity, OmniHuman supports cartoons, artificial objects, animals, and challenging poses, ensuring motion characteristics match each style's unique features.</p>
        
        


      <h3>More Portrait Cases</h3>
        <p>Here, we also include a section dedicated to portrait aspect ratio results, which are derived from test samples in the <a href="https://celebv-hq.github.io/">CelebV-HQ</a>datasets.</p>
        
        

      <h3>More Halfbody Cases with Hands</h3>
        <p>Here, we also provide additional examples specifically showcasing gesture movements. Some input images and audio come from TED, Pexels and AIGC.</p>
        
        

      <h3>Compatibility with Video Driving</h3>
        <p>Due to OmniHuman's mixed condition training characteristics, it can support not only audio driving but also video driving to mimic specific video actions, as well as combined audio and video driving (case is from <a href="https://www.youtube.com/watch?v=AbpNlshqtJc&amp;ab_channel=TED">link</a>) to control specific body parts like recent methods. Below, we demonstrate these capabilities.</p>
        


      <h3>Ethics Concerns</h3>
        <p>
          The images and audios used in these demos are from public sources or generated by models, and are solely used to demonstrate the capabilities of this research work. If there are any concerns, please contact us (jianwen.alan@gmail.com) and we will delete it in time. The template of this webpage is from <a href="https://www.microsoft.com/en-us/research/project/vasa-1/">VASA-1</a>,  and some test audios are from <a href="https://www.microsoft.com/en-us/research/project/vasa-1">VASA-1</a>,<a href="https://loopyavatar.github.io/">Loopy</a>,<a href="https://cyberhost.github.io/">CyberHost</a>.
        </p>
      
      <h3>BibTeX</h3>
        <p>If you find this project useful for your research, you can cite us and check out our other related works:</p>
        <pre><code>
          @article{lin2025omnihuman1,
            title={OmniHuman-1: Rethinking the Scaling-Up of One-Stage Conditioned Human Animation Models}, 
            author={Gaojie Lin and Jianwen Jiang and Jiaqi Yang and Zerong Zheng and Chao Liang},
            journal={arXiv preprint arXiv:2502.01061},
            year={2025}
          }
          
          @article{jiang2024loopy,
            title={Loopy: Taming Audio-Driven Portrait Avatar with Long-Term Motion Dependency},
            author={Jiang, Jianwen and Liang, Chao and Yang, Jiaqi and Lin, Gaojie and Zhong, Tianyun and Zheng, Yanbo},
            journal={arXiv preprint arXiv:2409.02634},
            year={2024}
          }

          @article{lin2024cyberhost,
            title={CyberHost: Taming Audio-driven Avatar Diffusion Model with Region Codebook Attention},
            author={Lin, Gaojie and Jiang, Jianwen and Liang, Chao and Zhong, Tianyun and Yang, Jiaqi and Zheng, Yanbo},
            journal={arXiv preprint arXiv:2409.01876},
            year={2024}
          }
        </code></pre> 

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OWASP Non-Human Identities Top 10 (144 pts)]]></title>
            <link>https://owasp.org/www-project-non-human-identities-top-10/2025/</link>
            <guid>42928645</guid>
            <pubDate>Tue, 04 Feb 2025 06:07:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://owasp.org/www-project-non-human-identities-top-10/2025/">https://owasp.org/www-project-non-human-identities-top-10/2025/</a>, See on <a href="https://news.ycombinator.com/item?id=42928645">Hacker News</a></p>
Couldn't get https://owasp.org/www-project-non-human-identities-top-10/2025/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Alibaba/T-HEAD's Xuantie C910 (215 pts)]]></title>
            <link>https://chipsandcheese.com/p/alibabat-heads-xuantie-c910</link>
            <guid>42928482</guid>
            <pubDate>Tue, 04 Feb 2025 05:40:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://chipsandcheese.com/p/alibabat-heads-xuantie-c910">https://chipsandcheese.com/p/alibabat-heads-xuantie-c910</a>, See on <a href="https://news.ycombinator.com/item?id=42928482">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p>T-HEAD is a wholly owned subsidiary of Alibaba, one of China's largest tech companies. Over the past few years, T-HEAD has created a line of RISC-V cores. Alibaba seems to have two motivations for pushing RISC-V. On one hand, the company stands to benefit from creating cost effective chips optimized for areas it cares about, like IoT endpoints and edge computing. On the other, Alibaba almost certainly wants to reduce its dependence on foreign imports. RISC-V is an open instruction set, and isn't controlled by US or British corporations like x86-64 or ARM. T-HEAD's RISC-V push can thus be seen more broadly as a part of China's push to create viable domestic microchips.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png" width="1456" height="815" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:815,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" title="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1d7bf8f2-eda4-43cf-b2c2-fb01be36bb36_1492x835.png 1456w" sizes="100vw" fetchpriority="high"></picture></div></a></figure></div><p>Xuantie C910 slots into the "high performance" category within T-HEAD's lineup. Besides joining a small number of out-of-order RISC-V cores that have made it into hardware, C910 is an early adopter for RISC-V's vector extension. It supports RVV 0.7.1, which features masking and variable vector length support. T-HEAD has since released the C920 core, which brings RVV support up to version 1.0, but otherwise leaves C910 unchanged.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png" width="1162" height="693" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:693,&quot;width&quot;:1162,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:902869,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F818561ec-96b1-4080-9be0-388224f7b72e_1162x693.png 1456w" sizes="100vw"></picture></div></a><figcaption>From Alibaba's paper, with descriptions added in red by Clam. PIU and PLIC appear in the dual core diagram below.</figcaption></figure></div><p><span>C910 targets "AI, Edge servers, Industrial control, [and] ADAS" as possible applications. It's also T-HEAD's first generation out-of-order design, so taking on all those applications is ambitious. C910 is implemented in clusters of up to four cores, each with a shared L2 cache. T-HEAD targets 2 to 2.5 GHz on TSMC's 12nm FinFET process, where a C910 core occupies 0.8 mm</span><sup>2</sup><span>. Core voltage is 0.8V at 2 GHz, and 1.0V at 2.5 GHz. On TSMC's 7nm process, T-HEAD managed to push core frequency to 2.8 GHz. T-HEAD's paper further claims dynamic power is around 100 microwatts/MHz, which works out to 0.2W at 2 GHz. Of course, this figure doesn't include static power or power draw outside the core. Yet all of these characteristics together make clear C910 is a low power, low area design.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png" width="631" height="489" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:489,&quot;width&quot;:631,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:521240,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e13f891-3cca-494d-83e0-ae2c6d151968_631x489.png 1456w" sizes="100vw"></picture></div></a></figure></div><p><span>This article will examine C910 in the T-HEAD TH1520, using the LicheePi single board computer. TH1520 is fabricated on TSMC’s 12nm FinFET process, and has a quad-core C910 cluster with 1 MB of L2 running at 1.85 GHz. It’s connected to 8 GB of LPDDR4X-3733. C910 has been </span><a href="https://github.com/XUANTIE-RV/openc910" rel="">open-sourced</a><span>, so I’ll be attempting to dig deeper into core details by reading some of the source code – but with some disclaimers. I’m a software engineer, not a hardware engineer. Also, some of the code is likely auto-generated from another undisclosed source, so reading that code has been a time consuming and painful experience. Expect some mistakes along the way.</span></p><p>The Xuantie C910 is a 3-wide, out-of-order core with a 12 stage pipeline.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png" width="554" height="534" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:534,&quot;width&quot;:554,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:119429,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd200284d-a30a-4892-a4d8-d098f9c6eb8c_554x534.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Like Arm’s Cortex A73, C910 can release out-of-order resources early. For microbenchmarking, I used both a dependent branch and incomplete load to block retire, just as I did on A73.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png" width="871" height="831" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:831,&quot;width&quot;:871,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:289428,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F53c49f62-f8f8-4c55-a8f2-38419c377b8a_871x831.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>C910’s frontend is tailored to handle both 16-bit and 32-bit RISC-V instructions, along with the requirements of RISC-V’s vector extension. The core has a 64 KB, 2-way set associative instruction cache with a FIFO replacement policy. Besides caching instruction data, C910 stores four bits of predecode data for each possible 16-bit instruction slot. Two bits tentatively indicate whether an instruction starts at that position, while the other two provide branch info. In total, C910 uses 83.7 KB of raw bit storage for instruction caching.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png" width="560" height="608" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4484e263-a65c-42f9-86da-3b66d614a545_560x608.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:608,&quot;width&quot;:560,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:109919,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4484e263-a65c-42f9-86da-3b66d614a545_560x608.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>An L1i access reads instruction bytes, predecode data, and tags from both ways. Thus, the instruction fetch (IF) stage brings 256 bits of instruction bytes into temporary registers alongside 64 bits of predecode data. Tags for both ways are checked to determine which way has a L1i hit, if any. Simultaneously, the IF stage checks a 16 entry, fully associative L0 BTB, which lets the core handle a small number of taken branches with effectively single cycle latency.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png" width="1320" height="834" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:834,&quot;width&quot;:1320,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:241802,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F88caa9ec-fceb-4c38-86aa-db2c89e6a4a5_1320x834.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Rough, simplified sketch of C910’s frontend</figcaption></figure></div><p><span>Instruction bytes and predecode data from both ways are passed to the next Instruction Pack (IP) stage. All of that is fed into a pair of 8-wide early decode blocks, called IP decoders in </span><a href="https://github.com/XUANTIE-RV/openc910/blob/main/C910_RTL_FACTORY/gen_rtl/ifu/rtl/ct_ifu_ipdecode.v" rel="">the source code</a><span>. Each of the 16 early decode slots handles a possible instruction start position at a 16-bit boundary, across both ways. These early decoders do simple checks to categorize instructions. For vector instructions, the IP decoders also figure out VLEN (vector length), VSEW (selected element width), and VLMAX (number of elements).</span></p><p>Although the IP stage consumes 256 bits of instruction data and 64 bits of predecode data, and process all of that with 16 early decode slots, half of that is always discarded because the L1i can only hit in one way. Output from the 8-wide decode block that processed the correct way is passed to the next stage, while output from the other 8-wide decoder is discarded.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png" width="461" height="484" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:484,&quot;width&quot;:461,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:88646,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F10582ce7-1c83-4f8b-9d57-18e9d7c20e22_461x484.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>C910’s main branch predictor mechanisms also sit at the IP stage. Conditional branches are handled with a </span><a href="https://people.eecs.berkeley.edu/~kubitron/courses/cs152-S04/handouts/papers/p4-lee.pdf" rel="">bi-mode predictor</a><span>, with a 1024 entry selection table, two 16384 entry history tables containing 2-bit counters, and a 22-bit global history register. The selection table is indexed by hashing the low bits of the branch address and global history register, while the history tables are indexed by hashing the high hits of the history register. Output from the selection table is used to pick between the two history tables, labeled “taken” and “ntaken”. Returns are handled using a 12 entry return stack, while a 256 entry indirect target array handles indirect branches. In all, the branch predictor uses approximately 17.3 KB of storage. It’s therefore a small branch predictor by today’s standards, well suited to C910’s low power and low area design goals. For perspective, a high performance core like Qualcomm’s Oryon uses 80 KB for its conditional (direction) predictor alone, and another 40 KB for the indirect predictor.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png" width="1434" height="717" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:717,&quot;width&quot;:1434,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:347631,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F638c7314-8c3e-4fae-941a-d076d168ee05_1434x717.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Testing with random patterns of various lengths shows C910 can deal with moderately long patterns. It’s in line with what I’ve seen this test do with other low power cores. Both C910 and A73 struggle when there are a lot of branches in play, though they can maintain reasonably good accuracy for a few branches without excessively long history.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png" width="1217" height="604" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:604,&quot;width&quot;:1217,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:255087,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F35651277-2b6a-4946-ae02-6d7f4331de58_1217x604.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>C910’s main BTB has 1024 entries and is 4-way set associative. Redirecting the pipeline from the IP stage creates a single pipeline bubble, or effectively 2 cycle taken branch latency. Branches that spill out of the 1024 entry BTB have 4 cycle latency, as long as code stays within the instruction cache.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png" width="1158" height="579" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:579,&quot;width&quot;:1158,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:104282,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9e513772-cc3c-4bf5-9b31-363197df8642_1158x579.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>The Instruction Pack stage feeds up to eight 16-bit instructions along with decoder output into the next Instruction Buffer (IB) stage. This stage’s job is to smooth out instruction delivery, covering any hiccups in frontend bandwidth as best as it can. To do this, the IB stage has a 32 entry instruction queue and a separate 16 entry loop buffer. Both have 16-bit entries, so 32-bit instructions will take two slots. C910’s loop buffer serves the same purpose as Pentium 4’s trace cache, seeking to fill in lost frontend slots after a taken branch. Of course, a 16 entry loop buffer can only do this for the smallest of loops.</p><p>To feed the subsequent decode stage, the IB stage can pick instructions from the loop buffer, instruction queue, or a bypass path to reduce latency if queuing isn’t needed. Each instruction and its associated early decode metadata are packed into a 73-bit format, and sent to the decode stage.</p><p>The Instruction Decode (ID) stage contains C910’s primary decoders. Three 73-bit inputs from the IP stage are fed into these decoders, which parse out register info and splits instructions into multiple micro-ops if necessary.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png" width="932" height="549" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:549,&quot;width&quot;:932,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:123565,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f38a092-19e1-400a-8534-6a0fbbfdb100_932x549.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Only the first decode slot can handle instructions that decode into four or more micro-ops. All decode slots can emit 1-2 micro-ops for simpler instructions, though the decode stage in total can’t emit more than four micro-ops per cycle. Output micro-ops are packed into a 178-bit format, and passed directly to the rename stage. C910 does not have a micro-op queue between the decoders and renamers like many other cores. Rename width and decoder output width therefore have to match, explaining why the renamer is 4-wide and why the decoders are restricted to 4 micro-ops per cycle. Any instruction that decoders into four or more micro-ops will block parallel decode.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp" width="915" height="2048" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:2048,&quot;width&quot;:915,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:113796,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7e48188e-a77c-4005-b666-c0e9840059d9_915x2048.webp 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Notes on micro-op format</figcaption></figure></div><p>C910’s instruction rename (IR) stage then checks for matches between architectural registers to find inter-instruction dependencies. It then assigns free registers out of the respective pool (integer or FP registers), or by picking newly deallocated registers coming off the retire stage. The IR stage does further decoding too. Instructions are further labeled with whether they’re a multi-cycle ALU operation, which ports they can go to, and so on. After renaming, micro-ops are 271 bits.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png" width="1417" height="666" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:666,&quot;width&quot;:1417,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:119397,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc61bac17-e4ce-4a25-a3e5-d3403fa3c9e8_1417x666.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>From software, C910’s frontend can sustain 3 instructions per cycle as long as code fits within the 64 KB instruction cache. L2 code bandwidth is low at under 1 IPC. SiFive’s P550 offers more consistent frontend bandwidth for larger code footprints, and can maintain 1 IPC even when running code from L3.</p><p><span>C910’s backend uses a physical register file (PRF) based out-of-order execution scheme, where both pending and known-good instruction results are stored in register files separate from the ROB. </span><a href="https://github.com/XUANTIE-RV/openc910/blob/main/C910_RTL_FACTORY/gen_rtl/rtu/rtl/ct_rtu_rob.v" rel="">C910’s source code (</a><code>ct_rtu_rob.v</code><a href="https://github.com/XUANTIE-RV/openc910/blob/main/C910_RTL_FACTORY/gen_rtl/rtu/rtl/ct_rtu_rob.v" rel="">)</a><span> defines 64 ROB entries, but T-HEAD’s paper says the ROB can hold up to 192 instructions. Microbenchmarking generally agrees.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png" width="563" height="334" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:334,&quot;width&quot;:563,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:46890,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F96f26b67-038b-48ff-b4ee-afceb504ae5d_563x334.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Therefore, C910 has reorder buffer capacity on par with Intel’s Haswell from 2013, theoretically letting it keep more instructions in flight than P550 or Goldmont Plus. However, other structures are not appropriately sized to make good use of that ROB capacity.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png" width="943" height="478" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:478,&quot;width&quot;:943,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:66006,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd0b02680-bf6a-4a2e-8c5e-cac02b780314_943x478.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>RISC-V has 32 integer and 32 floating point registers, so 32 entries in each register file generally have to be reserved for holding known-good results. That leaves only 64 integer and 32 floating point registers to hold results for in-flight instructions. Intel’s Haswell supports its 192 entry ROB with much larger register files on both the integer and floating point side.</p><p>C910 has eight execution ports. Two ports on the scalar integer side handle the most common ALU operations, while a third is dedicated to branches. C910’s integer register file has 10 read ports to feed five execution pipes, which includes three pipes for handling memory operations. A distributed scheduler setup feeds C910’s execution ports. Besides the opcode and register match info, each scheduler entry has a 7-bit age vector to enable age-based prioritization.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png" width="588" height="262" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:262,&quot;width&quot;:588,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:53837,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5ef93ba-7e33-43ca-9d3d-f4bc2eefd31d_588x262.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Scheduler capacity is low compared to Goldmont Plus and P550, with just 16 entries available for the most common ALU operations. P550 has 40 scheduler entries available across its three ALU ports, while Goldmont Plus has 30 entries.</p><p>C910’s FPU has a simple dual pipe design. Both ports can handle the most common floating point operations like adds, multiplies, and fused multiply. Both pipes can handle 128-bit vector operations too. Feeding each port requires up to four inputs from the FP/vector register file. A fused multiply instruction (a*b+c) requires three inputs. A fourth input provides a mask register. Unlike AVX-512 and SVE, RISC-V doesn’t define separate mask registers, so all inputs have to come from the FP/vector register file. Therefore, C910’s FP register file has almost as many read ports as the integer one, despite feeding fewer ports.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png" width="357" height="238" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:238,&quot;width&quot;:357,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:31756,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0bda4eb4-e6dd-44fa-bd55-27729b87210f_357x238.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Floating point execution latency is acceptable, and ranges from 3 to 5 cycles for the most common operations. Some recent cores like Arm’s Cortex X2, Intel’s Golden Cove, and AMD’s Zen 5 can do FP addition with 2 cycle latency. I don’t expect that from a low power core though.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png" width="867" height="220" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:220,&quot;width&quot;:867,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:23084,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50d94075-0d6c-4262-8e2b-b3da99d22c62_867x220.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Two address generation units (AGUs) on C910 calculate effective addresses for memory accesses. One AGU handles loads, while the other handles stores. C910’s load/store unit is generally split into two pipelines, and aims to handle up to one load and one store per cycle. Like many other cores, store instructions are broken into a store address and a store data micro-op.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png" width="526" height="507" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:507,&quot;width&quot;:526,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:111848,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7eaf51b5-7221-469f-8c1e-4eabe737a772_526x507.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>From Alibaba’s paper</figcaption></figure></div><p>39-bit virtual addresses are then generated into 40-bit physical addresses. C910’s L1 DTLB has 17 entries and is fully associative. A 1024 entry, 4-way L2 TLB handles L1 TLB misses for both data and instruction accesses, and adds 4 cycles latency over a L1 hit. Physically, the L2 TLB has two banks, both 256×84 SRAM instances. The tag array is a 256×196 bit SRAM instance, and a 196-bit access includes tags for all four ways along with four “FIFO” bits, possibly used to implement a FIFO replacement policy. Besides necessary info like the virtual page number and a valid bit, each tag includes an address space ID and a global bit. These can exempt an entry from certain TLB flushes, reducing TLB thrashing on context switches. In total, the L2 TLB’s tags and data require 8.96 KB of bit storage.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png" width="522" height="166" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:166,&quot;width&quot;:522,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" title="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa7ef3812-c2ae-438b-af84-1ae0c1011204_522x166.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Physical addresses are written into the load and store queues, depending on whether the address is a load or store. I’m not sure how big the load queue is. C910’s source code suggests there are 12 entries, and microbenchmarking results are confusing.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png" width="817" height="443" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:443,&quot;width&quot;:817,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:71886,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75acae07-5e1b-4b9b-ae68-30c8ddb1089d_817x443.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>In the source code, each load queue entry stores 36 bits of the load’s physical address along with 16 bits to indicate which bits are valid, and a 7-bit instruction id to ensure proper ordering. A store queue entry stores the 40-bit physical address, pending store data, 16 byte valid bits, a 7-bit instruction id, and a ton of other fields. To give some examples:</p><ul><li><p>wakeup_queue: 12 bits, possibly indicates which dependent loads should be woken up when data is ready</p></li><li><p>sdid: 4 bits, probably store data id</p></li><li><p>age_vec, age_vec_1: 12 bit age vectors, likely for tracking store order</p></li></ul><p>To check for memory dependencies, the load/store unit compares bits 11:4 of the memory address. From software testing, C910 can do store forwarding for any load completely contained within the store, regardless of alignment within the store. However, forwarding fails if a load crosses a 16B aligned boundary, or a store crosses a 8B aligned boundary. Failed store forwarding results in a 20+ cycle penalty.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp" width="1456" height="717" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:717,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1697102,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbb73fedc-d6e8-4202-a6db-732719fe0ffa_2560x1261.webp 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>C910 handles unaligned accesses well, unlike P550. If a load doesn’t cross a 16B boundary or a store doesn’t cross a 8B boundary, it’s basically free. If you do cross those alignment boundaries, you don’t face a performance penalty beyond making an extra L1D access under the hood. Overall, C910’s load/store unit and forwarding behavior is a bit short of the most recent cores from Intel and AMD. But it’s at about the same level as AMD’s Piledriver, a very advanced and high performance core in its own right. That’s a good place to be.</p><p>The 64 KB, 2-way data cache has 3 cycle latency, and is divided into 4 byte wide banks. It can handle up to one load and one store per cycle, though 128-bit stores take two cycles. L1D tags are split into two separate arrays, one for loads and one for stores.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png" width="464" height="564" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/19c31aba-3418-453e-9677-21ebe7a66821_464x564.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:564,&quot;width&quot;:464,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:82376,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F19c31aba-3418-453e-9677-21ebe7a66821_464x564.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Data cache misses are tracked by one of eight line-fill buffer entries, which store the miss address. Refill data is held in two 512-bit wide fill buffer registers. Like the instruction cache, the data cache uses a simple FIFO replacement policy.</p><p>Each C910 core interfaces with the outside world via a “PIU”, or processor interface unit. At the other end, a C910 cluster has a Consistency Interface Unit (CIU) that accepts requests from up to four PIUs and maintains cache coherency. The CIU is split into two “snb” instances, each of which has a 24 entry request queue. SNB arbitrates between requests based on age, and has a 512-bit interface to the L2 cache.</p><p>C910’s L2 cache acts as both the first stop for L1 misses and as a cluster-wide shared last level cache. On the TH1520, it has 1 MB of capacity and is 16-way set associative with a FIFO replacement policy. To service multiple accesses per cycle, the L2 is built from two banks, selected by bit 6 of the physical address. The L2 is inclusive of upper level caches, and uses ECC protection to ensure data integrity.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png" width="641" height="613" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:613,&quot;width&quot;:641,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:100495,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F50a044a6-61a0-42b6-95f7-eb40de640b9a_641x613.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>L2 latency is 60 cycles which is problematic for a core with limited reordering capacity and no mid-level cache. Even P550’s 4 MB L3 cache has better latency than C910’s L2, from both a cycle count and true latency standpoint. Intel’s Goldmont Plus also uses a shared L2 as a last level cache, and has about 28 cycles of L2 latency (counting a uTLB miss).</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png" width="1307" height="641" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:641,&quot;width&quot;:1307,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:109234,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5e718d24-c0d6-435a-aca3-353f06664951_1307x641.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>C910’s L2 bandwidth also fails to impress. A single core gets just above 10 GB/s, or 5.5 bytes per cycle. All four cores together can read from L2 at 12.6 GB/s, or just 1.7 bytes per cycle per core. Write bandwidth is better at 23.81 GB/s from all four cores, but that’s still less than 16 bytes per cycle in total, and writes are usually less common than reads.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp" width="1280" height="624" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:624,&quot;width&quot;:1280,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:11756,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb825ce6c-96a8-4337-8708-75343eaf3ef0_1280x624.webp 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Again, C910’s L2 is outperformed by both P550’s L3 and Goldmont Plus’s L2. I suspect multi-threaded applications will easily push C910’s L2 bandwidth limits.</p><p>Off-cluster requests go through a 128-bit AXI4 bus. In the Lichee Pi 4A, the TH1520 has just under 30 GB/s of theoretical DRAM bandwidth from its 64-bit LPDDR4X-3733 interface. Achieved read bandwidth is much lower. Multithreaded applications might find 4.2 GB/s a bit tight, especially when there’s only 1 MB of last level cache shared across four cores.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png" width="838" height="311" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:311,&quot;width&quot;:838,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:42586,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16fa44b3-a8ea-4473-9aa2-ce48c6b64119_838x311.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>DRAM latency is at least under control at 133.9 ns, tested using 2 MB pages and 1 GB array. It’s not on the level of a desktop CPU, but it’s better than Eswin and Intel’s low power implementations.</p><p>Sometimes, the memory subsystem has to carry out a core to core transfer to maintain cache coherency. Sites like Anandtech have used a core to core latency test to probe this behavior, and I’ve written my own version. Results should be broadly comparable with those from Anandtech.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp" width="199" height="120" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:120,&quot;width&quot;:199,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:2812,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/webp&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89c31cab-7cb2-4ee3-9261-28e22f82886e_199x120.webp 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>T-HEAD’s CIU can pass data between cores with reasonable speed. It’s much better than P550, which saw over 300 ns of latency within a quad core cluster.</p><p>C910 is T-HEAD’s first out-of-order core. Right out of the gate, C910 is more polished than P550 in some respects. Core to core latency is better, unaligned accesses are properly handled, and there’s vector support. Like P550, C910 aims to scale across a broad range of low power applications. L2 capacity can be configured up to 8 MB, and multi-cluster setups allow scaling to high core counts. I feel like there’s ambition behind C910, since Alibaba wants to use in-house RISC-V cores instead of depending on external factors.</p><blockquote><p>Alibaba has been promoting Xuantie core IP series to facilitate external customers for edge computing applications, such as AI, edge servers, industrial control and advanced driver assistance systems (ADAS)…by the end of 2022, a total volume of 15 million units is expected</p><p>Xuantie-910: A Commercial Multi-Core 12-Stage Pipeline Out-of-Order 64-bit High Performance RISC-V Processor with Vector Extension – T-Head Division, Alibaba Cloud</p></blockquote><p>Yet I also feel the things C910 does well are overshadowed by executing poorly on the basics. The core’s out-of-order engine is poorly balanced, with inadequate capacity in critical structures like the schedulers and register files in relation to its ROB capacity. CPU performance is often limited by memory access performance, and C910’s cache subsystem is exceptionally weak. The cluster’s shared L2 is both slow and small, and the C910 cores have no mid-level cache to insulate L1 misses from that L2. DRAM bandwidth is also lackluster.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg" width="688" height="632" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:632,&quot;width&quot;:688,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" title="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F883412d3-684c-49d9-86f5-62d17c21b8af_688x632.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>A TH1520 chip, seen at Hot Chips 2024 (not the one tested)</figcaption></figure></div><p>C910 is therefore caught in a position where it needs to keep a lot of instructions in flight to smooth out spikes in demand for memory bandwidth and mitigate high L2 latency, but can rarely do so in practice because its ROB capacity isn’t supported by other structures. C910’s unaligned access handling, vector support, and decent core-to-core latency are all nice to have. But tackling those edge cases is less important than building a well balanced core supported by a solid memory subsystem. Missing the subset of applications that use unaligned accesses or take advantage of vectorization is one thing. But messing up performance for everything else is another. And C910’s poor L2 and DRAM performance may even limit the usefulness of its vector capabilities, because vectorized applications tend to pull more memory bandwidth.</p><p>Hopefully T-HEAD will use experience gained from C910 to build better cores going forward. With Alibaba behind it, T-HEAD should have massive financial backing. I also hope to see more open source out-of-order cores going forward. Looking through C910 source code was very insightful. I appreciated being able to see how micro-op formats changed between pipeline stages, and how instruction decode is split across several stages that aren’t necessarily labeled “decode”.</p><p><span>If you like the content then consider heading over to the </span><a href="https://www.patreon.com/ChipsandCheese" rel="">Patreon</a><span> or </span><a href="https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ" rel="">PayPal</a><span> if you want to toss a few bucks to Chips and Cheese. Also consider joining the </span><a href="https://discord.gg/TwVnRhxgY2" rel="">Discord</a><span>.</span></p></div></div>]]></description>
        </item>
    </channel>
</rss>