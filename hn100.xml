<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 17 May 2025 07:30:02 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Moody’s strips U.S. of triple-A credit rating (230 pts)]]></title>
            <link>https://www.ft.com/content/e456ea34-c6ad-43fe-abe9-d4ce781c07b4</link>
            <guid>44009999</guid>
            <pubDate>Fri, 16 May 2025 21:39:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ft.com/content/e456ea34-c6ad-43fe-abe9-d4ce781c07b4">https://www.ft.com/content/e456ea34-c6ad-43fe-abe9-d4ce781c07b4</a>, See on <a href="https://news.ycombinator.com/item?id=44009999">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><a data-trackable="a11y-skip-to-help" href="https://www.ft.com/accessibility">Accessibility help</a><a data-trackable="a11y-skip-to-navigation" href="#site-navigation">Skip to navigation</a><a data-trackable="a11y-skip-to-content" href="#site-content">Skip to content</a><a data-trackable="a11y-skip-to-footer" href="#site-footer">Skip to footer</a></p><div id="barrier-page"><div data-component="electionsHeader" data-component-unique-name="electionsHeader"><h2>US Politics 2025</h2></div><div data-component="topicHeroOffer" data-component-unique-name="topicsHeroOffer"><div><div data-o-grid-colspan="12 XL6"><p><span></span><span></span><span></span><span>Register to unlock this article</span><span></span></p></div><div data-o-grid-colspan="12 XL5"><p><h2><span><span>Continue reading and get the indispensable White House Watch newsletter for free.</span></span></h2></p></div></div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/hero_banner_us_election_white_house_watch.png?source=next-barrier-page" alt="WhiteHouseWatch"></p></div><div data-component="electionsFeatures" data-component-unique-name="electionsFeatures"><h2>We’ve got you covered</h2><div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_countdown.png?source=next-barrier-page"></p><h3>White House Watch newsletter</h3><p>Sign up for your free, indispensable guide to what Trump’s second term means for Washington, business and the world.</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_hub_2024.png?source=next-barrier-page"></p><h3>Trump tracker: US tariffs</h3><p>As the president threatens a trade war, follow the latest on tariffs and executive orders</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_expert_opinion_analysis.png?source=next-barrier-page"></p><h3>US politics &amp; policy</h3><p>Stay on top of the latest events in US politics with the FT’s trusted and impartial coverage.</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_democracy_2024.png?source=next-barrier-page"></p><h3>Expert Opinion &amp; Analysis</h3><p>Insight and analysis on US politics from commentators such as Ed Luce and James Politi</p></div></div><div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_countdown.png?source=next-barrier-page"></p><h3>White House Watch newsletter</h3><p>Sign up for your free, indispensable guide to what Trump’s second term means for Washington, business and the world.</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_hub_2024.png?source=next-barrier-page"></p><h3>Trump tracker: US tariffs</h3><p>As the president threatens a trade war, follow the latest on tariffs and executive orders</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_expert_opinion_analysis.png?source=next-barrier-page"></p><h3>US politics &amp; policy</h3><p>Stay on top of the latest events in US politics with the FT’s trusted and impartial coverage.</p></div><div><p><img alt="" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/images/us_election_2024/feature_democracy_2024.png?source=next-barrier-page"></p><h3>Expert Opinion &amp; Analysis</h3><p>Insight and analysis on US politics from commentators such as Ed Luce and James Politi</p></div></div></div><div id="recommendedOffers-recommendedOffers" data-component="recommendedOffers" data-component-unique-name="recommendedOffers"><p><h2 data-o-grid-colspan="12">Explore more offers.</h2></p><div data-o-grid-colspan="12"><div data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/icons/primary_product_icon_digital_edition.svg?source=next-barrier-page&amp;format=svg" alt=""></p><p><h3>FT Digital Edition</h3></p></div><p><span><span>€42.99</span><span> per 3 months</span></span></p><p><span><span>The new FT Digital Edition: today’s FT, cover to cover on any device. This subscription does not include access to ft.com or the FT App.</span></span></p></div><div data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/icons/primary_product_icon_standard.svg?source=next-barrier-page&amp;format=svg" alt=""></p><p><h3>Standard Digital</h3></p></div><p><span><span>€45</span><span> per month</span></span></p><p><span><span>Essential digital access to quality FT journalism on any device. Pay a year upfront and save 20%.</span></span></p></div><div data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https://barrier-page-components.s3.eu-west-1.amazonaws.com/assets/icons/primary_product_icon_premium.svg?source=next-barrier-page&amp;format=svg" alt=""></p><p><h3>Premium Digital</h3></p></div><p><span><span>€69</span><span> per month</span></span></p><p><span><span>Complete digital access to quality FT journalism with expert analysis from industry leaders. Pay a year upfront and save 20%.</span></span></p></div></div></div><div data-component="subscriptionOptions" data-component-unique-name="subscriptionsOptions" data-o3-theme="inverse"><h2>Explore our full range of subscriptions.</h2><div><div><div><h3>For individuals</h3></div><p>Discover all the plans currently available in your country</p></div><div><div><h3> For multiple readers</h3></div><p>Digital access for organisations. Includes exclusive features and content.</p></div></div><div><p>Check whether you already have access via your <span><a data-trackable="edu-finder" href="https://find-your-subscription.ft.com/?segmentId=a0e9a794-4c6d-bb35-e4dc-8bd409e0f54f&amp;ft-content-uuid=e456ea34-c6ad-43fe-abe9-d4ce781c07b4">university</a></span> or <span><a data-trackable="licence-finder" href="https://subs.enterprise.ft.com/en-gb/licence-finder/?segmentId=9fb23d7d-afe4-12f3-3eaa-ff7a41e9d073&amp;ft-content-uuid=e456ea34-c6ad-43fe-abe9-d4ce781c07b4">organisation.</a></span></p></div></div><div data-component="whyFT" data-component-unique-name="whyFT" data-o3-theme="inverse"><div><h2>Why the FT?</h2><p>See why over a million readers pay to read the Financial Times.</p></div><p><a href="https://subs.ft.com/whytheft?ft-content-uuid=e456ea34-c6ad-43fe-abe9-d4ce781c07b4">Find out why</a></p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Getting AI to write good SQL (289 pts)]]></title>
            <link>https://cloud.google.com/blog/products/databases/techniques-for-improving-text-to-sql</link>
            <guid>44009848</guid>
            <pubDate>Fri, 16 May 2025 21:10:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cloud.google.com/blog/products/databases/techniques-for-improving-text-to-sql">https://cloud.google.com/blog/products/databases/techniques-for-improving-text-to-sql</a>, See on <a href="https://news.ycombinator.com/item?id=44009848">Hacker News</a></p>
<div id="readability-page-1" class="page"><div jsname="tx2NYc"><div jsaction="rcuQ6b:npT2md" jscontroller="M0Q3Qb"><p><span>Organizations depend on fast and accurate data-driven insights to make decisions, and SQL is at the core of how they access that data. With Gemini, Google can generate SQL directly from natural language — a.k.a. text-to-SQL. This capability increases developer and analysts’ productivity and empowers non-technical users to interact directly with the data they need.</span></p>
<p><span>Today, you can find text-to-SQL capabilities in many Google Cloud products:</span></p>
<ul>
<li>
<p><strong>BigQuery Studio</strong><span> in the </span><a href="https://cloud.google.com/bigquery/docs/write-sql-gemini#generate_sql_from_a_comment"><span>SQL Editor</span></a><span> and </span><a href="https://cloud.google.com/bigquery/docs/write-sql-gemini#use_the_sql_generation_tool"><span>SQL Generation tool</span></a><span>, and within the </span><strong>Data Canvas</strong><span> </span><a href="https://cloud.google.com/blog/products/data-analytics/using-bigquery-data-canvas-a-deep-dive?e=48754805#:~:text=powered%20by%20Gemini-,2.%20Generate%20SQL,-You%20can%20also"><span>SQL node</span></a></p>
</li>
<li>
<p><span>"Help me code" functionality in </span><a href="https://cloud.google.com/sql/docs/mysql/write-sql-gemini"><strong>Cloud SQL Studio</strong></a><strong> (</strong><span>Postgres, MySQL and SQLServer), </span><strong>AlloyDB Studio</strong><span> and </span><strong>Cloud Spanner Studio</strong></p>
</li>
<li>
<p><strong>AlloyDB AI</strong><span> with its direct natural language interface to the database, currently available as a public preview</span></p>
</li>
<li>
<p><span>Through </span><strong>Vertex AI</strong><span>, which lets you access the Gemini models that are the basis for these products directly</span></p>
</li>
</ul>
<p><span>Recently, powerful large language models (LLMs) like Gemini, with their abilities to reason and synthesize, have driven remarkable advancements in the field of text-to-SQL. In this blog post, the first entry in a series, we explore the technical internals of Google Cloud's text-to-SQL agents. We will cover state-of-the-art approaches to context building and table retrieval, how to do effective evaluation of text-to-SQL quality with LLM-as-a-judge techniques, the best approaches to LLM prompting and post-processing, and how we approach techniques that allows the system to offer virtually certified correct answers.</span></p></div><section><figure><section jscontroller="SCGBie" jsaction="rcuQ6b:npT2md"><img src="https://storage.googleapis.com/gweb-cloudblog-publish/images/1_Text-to-SQL_at_Google_Cloud.max-1800x1800.jpg" alt="https://storage.googleapis.com/gweb-cloudblog-publish/images/1_Text-to-SQL_at_Google_Cloud.max-1800x1800.jpg" jsname="P3Vluc" jsaction="click:HTIlC" loading="lazy"></section></figure><div><p>The ‘Help me code’ feature in Cloud SQL Studio generates SQL from a text prompt</p></div></section><div jsaction="rcuQ6b:npT2md" jscontroller="M0Q3Qb"><h3><strong>The challenges of text-to-SQL technology</strong></h3>
<p><span>Current state-of-the-art LLMs like Gemini 2.5 have reasoning capabilities that make them good at translating complex questions posed in natural language to functioning SQL, complete with joins, filters, aggregations and other difficult concepts.</span></p>
<p><span>To see this in action you can do a simple test in </span><a href="https://cloud.google.com/generative-ai-studio"><span>Vertex AI Studio</span></a><span>. Given the prompt </span><span>"I have a database schema that contains products and orders. Write a SQL query that shows the number of orders for shoes"</span><span>, Gemini produces SQL for a hypothetical schema:</span></p></div><div jsaction="rcuQ6b:npT2md" jscontroller="M0Q3Qb"><p><span>Great, this is a good looking query. But what happens when you move beyond this trivial example, and use Gemini for text-to-SQL against a real world database and on real-world user questions? It turns out that the problem is more difficult. The model needs to be complemented with methods to:&nbsp;</span></p>
<ol>
<li>
<p><span>provide business-specific context</span></p>
</li>
<li>
<p><span>understand user intent</span></p>
</li>
<li>
<p><span>manage differences in SQL dialects</span></p>
</li>
</ol>
<p><span>Let’s take a look at each of these challenges.&nbsp;</span></p>
<p><strong>Problem #1: Provide business-specific context</strong></p>
<p><span>Just like data analysts or engineers, LLMs need significant amounts of knowledge or "context" to generate accurate SQL. The context can be both explicit (what does the schema look like, what are the relevant columns, and what does the data itself look like?) or more implicit (what is the precise semantic meaning of a piece of data? what does it mean for the specific business case?).</span></p>
<p><span>Specialized model training, or fine tuning, is typically not a scalable solution to this problem. Training on the shape of every database or dataset, and keeping up with schema or data changes, is both difficult and cost-prohibitive. Business knowledge and semantics are often not well documented in the first place, and difficult to turn into training data.</span></p>
<p><span>For example, even the best DBA in the world would not be able to write an accurate query to track shoe sales if they didn't know that </span><code>cat_id2 = 'Footwear'</code><span> in a </span><code>pcat_extension</code><span> table means that the product in question is a kind of shoe. The same is true for&nbsp; LLMs.</span></p>
<p><strong>Problem #2: Understanding user intent</strong></p>
<p><span>Natural language is less precise than SQL. An engineer or analyst faced with an ambiguous question can detect that they need more information and go back and ask the right follow-up questions. An LLM, on the other hand, tends to try to give you an answer, and when the question is ambiguous, can be prone to hallucinating.</span></p>
<p><span>Example: Take a question like "What are the best-selling shoes?" Here, one obvious point of ambiguity is what "best selling" actually means in the context of the business or application — the most ordered shoes? The shoe brand that brought in the most money? Further, should the SQL count returned orders? And how many kinds of shoes do you want to see in the report? etc.&nbsp;</span></p>
<p><span>Further, different users need different kinds of answers. If the user is a technical analyst or a developer asking a vague question, giving them a reasonable, but perhaps not 100% correct SQL query is a good starting point. On the other hand, if the user is less technical and does not understand SQL, providing precise, correct SQL is more important. Being able to reply with follow-up questions to disambiguate, explaining the reasoning that went into an answer, and guiding the user to what they are looking for is key.</span></p>
<p><strong>Problem #3: Limits of LLM generation</strong></p>
<p><span>Out of the box, LLMs are particularly good at tasks like creative writing, summarizing or extracting information from documents. But some models can struggle with following precise instructions and getting details exactly right, particularly when it comes to more obscure SQL features. To be able to produce correct SQL, the LLM needs to adhere closely to what can often turn into complex specifications.</span></p>
<p><span>Example: Consider the differences between SQL dialects, which are more subtle than differences between programming languages like Python and Java. As a simple example, if you're using BigQuery SQL, the correct function for extracting a month from a timestamp column is </span><code>EXTRACT(MONTH FROM timestamp_column)</code><span>. But if you are using MySQL, you use </span><code>MONTH(timestamp_column)</code><span>.</span></p>
<h3><strong>Text-to-SQL techniques</strong></h3>
<p><span>At Google Cloud, we’re constantly evolving our text-to-SQL agents to improve their quality. To address the problems listed above, we apply a number of techniques.</span></p>
<div><table><colgroup><col><col></colgroup>
<tbody>
<tr>
<td>
<p><strong>Problem</strong></p>
</td>
<td>
<p><strong>Solutions</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>Understanding schema, data and business concepts</span></p>
</td>
<td>
<ul>
<li>
<p><strong>Intelligent retrieval</strong><span> and ranking of datasets, tables and columns, based on semantic similarity.</span></p>
</li>
<li>
<p><strong>In-context-learning</strong><span> with business specific examples</span></p>
</li>
<li>
<p><span>Data linking and sampling</span></p>
</li>
<li>
<p><span>Semantic layer over raw data. This provides a bridge between complex data structures and the everyday language used by the customer</span></p>
</li>
<li>
<p><span>Usage pattern analysis and query history</span></p>
</li>
</ul>
</td>
</tr>
<tr>
<td>
<p><span>Understanding user intent</span></p>
</td>
<td>
<p><strong>Disambiguation using LLMs</strong></p>
<ul>
<ul>
<li>
<p><span>Entity resolution</span></p>
</li>
</ul>
</ul>
<p><strong>SQL-aware foundation models</strong></p>
</td>
</tr>
<tr>
<td>
<p><span>Limits of LLM generation</span></p>
</td>
<td>
<p><strong>Self-consistency</strong></p>
<p><strong>Validation and rewriting</strong></p>
<ul>
<li>
<p><span>Strong foundation models</span></p>
</li>
<li>
<p><span>In-context-learning with dialect specific examples</span></p>
</li>
<li>
<p><span>Model finetuning</span></p>
</li>
</ul>
</td>
</tr>
</tbody>
</table></div></div><section><figure><section jscontroller="SCGBie" jsaction="rcuQ6b:npT2md"><img src="https://storage.googleapis.com/gweb-cloudblog-publish/images/2_Text-to-SQL_at_Google_Cloud.max-2200x2200.jpg" alt="https://storage.googleapis.com/gweb-cloudblog-publish/images/2_Text-to-SQL_at_Google_Cloud.max-2200x2200.jpg" jsname="P3Vluc" jsaction="click:HTIlC" loading="lazy"></section></figure><div><p>The text-to-SQL architecture</p></div></section><div jsaction="rcuQ6b:npT2md" jscontroller="M0Q3Qb"><p><span>Let’s take a closer look at some of these techniques.</span></p>
<p><strong>SQL-aware models<br></strong><span>Strong LLMs are the foundation of text-to-SQL solutions, and the Gemini family of models has a proven track record of high-quality code and SQL generation. Depending on the particular SQL generation task, we mix and match model versions, including some cases where we employ customized fine-tuning, for example to ensure that models provide sufficiently good SQL for certain dialects.</span></p>
<p><strong>Disambiguation using LLMs<br></strong><span>Disambiguation involves getting the system to respond with a clarifying question when faced with a question that is not clear enough (in the example above of "What is the best selling shoe?" should lead to a follow-up question like "Would you like to see the shoes ordered by order quantity or revenue?" from the text-to-SQL agent). Here we typically orchestrate LLM calls to first try to identify if a question can actually be answered given the available schema and data, and if not, to generate the necessary follow-up questions to clarify the user's intent.</span></p>
<p><strong>Retrieval and in-context-learning<br></strong><span>As mentioned above, providing models with the context they need to generate SQL is critical. We use a variety of indexing and retrieval techniques — first to identify relevant datasets, tables and columns, typically using vector search for multi-stage semantic matching, then to load additional useful context. Depending on the product, this may include things like user-provided schema annotations, examples of similar SQL or how to apply specific business rules, or samples of recent queries that a user has run against the same datasets. All of this data is organized into prompts then passed to the model. Gemini's support for long context windows unlocks new capabilities here by allowing the model to handle large schemas and other contextual information.</span></p>
<p><strong>Validation and reprompting<br></strong><span>Even with a high-quality model, there is still some level of non-determinism or unpredictability involved in LLM-driven SQL generation. To address this we have found that non-AI approaches like query parsing or doing a dry run of the generated SQL complements model-based workflows well. We can get a clear, deterministic signal if the LLM has missed something crucial, which we then pass back to the model for a second pass. When provided an example of a mistake and some guidance, models can typically address what they got wrong.</span></p>
<p><strong>Self-consistency<br></strong><span>The idea of self-consistency is to not depend on a single round of generation, but to generate multiple queries for the same user question, potentially using different prompting techniques or model variants, and picking the best one from all candidates. If several models agree that one answer looks particularly good, there is a greater chance that the final SQL query will be accurate and matches what the user is looking for.</span></p>
<h3><strong>Evaluation and measuring improvements</strong></h3>
<p><span>Improving AI-driven capabilities depends on robust evaluation. The text-to-SQL benchmarks developed in the academic community, like the popular </span><a href="https://bird-bench.github.io/" rel="noopener" target="_blank"><span>BIRD-bench</span></a><span>, have been a very useful baseline to understand model and end-to-end system performance. However, these benchmarks are often lacking when it comes to representing broad real-world schemas and workloads. To address this we have developed our own suite of synthetic benchmarks that augment the baseline in many ways.</span></p>
<p><strong>Coverage:</strong><span> We make sure to have benchmarks that cover a broad list of SQL engines and products, both dialects and engine-specific features. This includes not only queries, but also DDL, DML and other administrative needs, and questions that are representative for common usage patterns, including more complex queries and schemas.</span></p>
<p><strong>Metrics:</strong><span> We combine user metrics and offline eval metrics, and employ both human and automated evaluation, particularly using LLM-as-a-judge techniques, which reduce cost but still allow us to understand performance on ambiguous and unclear tasks.</span></p>
<p><strong>Continuous evals:</strong><span> Our engineering and research teams use evals to quickly be able to test out new models, new prompting techniques and other improvements. It can give us signals quickly to tell if an approach is showing promise and is worth pursuing.</span></p>
<p><span>Taken together, using these techniques are driving the remarkable improvements in text-to-SQL that we are witnessing in our labs, as well as in customers’ environments. As you get ready to incorporate text-to-SQL in your own environments, stay tuned for more deep dives into our text-to-SQL solutions. Try Gemini text-to-SQL in </span><a href="https://cloud.google.com/bigquery/docs/write-sql-gemini#use_the_sql_generation_tool"><span>BigQuery Studio</span></a><span>, </span><a href="https://cloud.google.com/sql/docs/mysql/write-sql-gemini"><span>CloudSQL, AlloyDB and Spanner Studio</span></a><span>, and in </span><a href="https://cloud.google.com/blog/products/databases/alloydb-ai-drives-innovation-from-the-database"><span>AlloyDB AI</span></a><span> today.</span></p></div><section><span>Posted in</span><ul><li><a href="https://cloud.google.com/blog/products/databases" track-metadata-position="body" track-metadata-eventdetail="cloud.google.com/blog/products/databases" track-metadata-module="tag list" track-metadata-module_headline="posted in">Databases</a></li><li><a href="https://cloud.google.com/blog/products/ai-machine-learning" track-metadata-position="body" track-metadata-eventdetail="cloud.google.com/blog/products/ai-machine-learning" track-metadata-module="tag list" track-metadata-module_headline="posted in">AI &amp; Machine Learning</a></li></ul></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[ClojureScript 1.12.42 (147 pts)]]></title>
            <link>https://clojurescript.org/news/2025-05-16-release</link>
            <guid>44009464</guid>
            <pubDate>Fri, 16 May 2025 20:20:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://clojurescript.org/news/2025-05-16-release">https://clojurescript.org/news/2025-05-16-release</a>, See on <a href="https://news.ycombinator.com/item?id=44009464">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
      <p><em>16 May 2025</em><br>
         <em>ClojureScript Team</em></p>

      <div id="preamble">
<p>We’re happy to announce a new release of ClojureScript. If you’re an existing
user of ClojureScript please read over the following release notes carefully.</p>
<p>This release features two significant dependency changes. First, Google Closure
Compiler has been updated to <code>v20250402</code>. This change makes Java 21 a
requirement for ClojureScript. The other significant change is that this release
now depends on the Clojure fork of Google Closure Library. Please read on for
more details about these changes.</p>
<p>For a complete list of fixes, changes, and enhancements to
ClojureScript see
<a href="https://github.com/clojure/clojurescript/blob/master/changes.md#1.12.42">here</a></p>
</div>
<div>
<h2 id="_google_closure_compiler_java_21"><a href="#_google_closure_compiler_java_21"></a>Google Closure Compiler &amp; Java 21</h2>
<div>
<p>Last year we noted that updating Google Closure Compiler would mean losing Java
8 support. Google Closure now requires Java 21. From our perspective this change
doesn’t seem strictly necessary, but Google is a large organization and this
change is likely to due to internal requirements which are hard to influence from
the outside. The general enthusiasm in the Clojure community around adopting more
recent Java releases hopefully softens the overall impact of this change.</p>
<p>So far, the burden of staying current with Google Closure has been manageable.
If for some reason that calculus changes, we could adopt the strategy we have taken
with Google Closure Library.</p>
</div>
</div>
<div>
<h2 id="_clojures_fork_of_google_closure_library"><a href="#_clojures_fork_of_google_closure_library"></a>Clojure’s Fork of Google Closure Library</h2>
<div>
<p>The incredible stability of Google Closure Library started declining around
2019. Google was both trying many things with respect to their internal
JavaScript strategy as well as becoming less concerned about the impact on outside
consumers. Finally, Google stopped contributing to Google Closure Library
last August.</p>
<p>We have forked Google Closure Library (GCL) and taken up maintenance. We backed out a
few years of needless breaking changes and aligned the codebase with the latest
Google Closure Compiler release.</p>
<p>One of the biggest benefits of GCL is that it makes ClojureScript a complete
solution for a variety of JavaScript contexts, not limited to the browser.
Taking on additional dependencies always comes with a cost. One of
ClojureScript’s original value propositions was a rock solid set of readily
available JavaScript tools as dependable as <code>clojure.core</code>.</p>
<p>We are working on restoring that original stability. With this release, you’ll
find that quite a few old ClojureScript libraries work again today as well
as they did <strong>14 years</strong> ago.</p>
<p>ClojureScript is not and never was only just for rich web applications. Even in the
post React-world, a large portion of the web is (sensibly) still using jQuery. If you need
robust DOM manipulation, internationalization, date/time handling, color
value manipulation, mathematics, programmatic animation, browser history management,
accessibility support, graphics, and much more, all without committing to a framework
and without bloating your final JavaScript artifact - ClojureScript is a one
stop shop.</p>
<p>Give it a try!</p>
</div>
</div>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: KVSplit – Run 2-3x longer contexts on Apple Silicon (236 pts)]]></title>
            <link>https://github.com/dipampaul17/KVSplit</link>
            <guid>44009321</guid>
            <pubDate>Fri, 16 May 2025 20:04:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/dipampaul17/KVSplit">https://github.com/dipampaul17/KVSplit</a>, See on <a href="https://news.ycombinator.com/item?id=44009321">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div dir="auto">
<p dir="auto"><h2 tabindex="-1" dir="auto">🚀 KVSplit</h2><a id="user-content--kvsplit" aria-label="Permalink: 🚀 KVSplit" href="#-kvsplit"></a></p>
<p dir="auto"><strong>Differentiated KV Cache Quantization for Apple Silicon</strong></p>
<p dir="auto"><a href="https://github.com/dipampaul17/KVSplit/stargazers"><img src="https://camo.githubusercontent.com/e0303260b83f266fb26524b0c11e415c6878324211d0c8edeae0fc1c0b3c9b2a/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f646970616d7061756c31372f4b5653706c69743f7374796c653d666f722d7468652d6261646765266c6f676f3d676974687562" alt="GitHub Stars" data-canonical-src="https://img.shields.io/github/stars/dipampaul17/KVSplit?style=for-the-badge&amp;logo=github"></a>
<a href="https://github.com/dipampaul17/KVSplit/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/e16a8865515749158a69c1e57a8fb9df3373386b8715b5d087517c0d3d887845/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f646970616d7061756c31372f4b5653706c69743f7374796c653d666f722d7468652d6261646765" alt="License" data-canonical-src="https://img.shields.io/github/license/dipampaul17/KVSplit?style=for-the-badge"></a>
<a href="https://github.com/dipampaul17/KVSplit/blob/main"><img src="https://camo.githubusercontent.com/8b0dd35d753ba4b14face3f93eafee56c2a5d58f05ee9eae4c8d00e55ca22e02/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f506c6174666f726d2d4170706c6525323053696c69636f6e2d626c61636b3f7374796c653d666f722d7468652d6261646765266c6f676f3d6170706c65" alt="Platform" data-canonical-src="https://img.shields.io/badge/Platform-Apple%20Silicon-black?style=for-the-badge&amp;logo=apple"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/dipampaul17/KVSplit/blob/main/plots/kv_cache_memory_usage.png"><img src="https://github.com/dipampaul17/KVSplit/raw/main/plots/kv_cache_memory_usage.png" alt="KV Cache Memory Usage" width="70%"></a>
</p></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">📌 Overview</h2><a id="user-content--overview" aria-label="Permalink: 📌 Overview" href="#-overview"></a></p>
<p dir="auto">Run <strong>larger context windows</strong> and <strong>heavier LLMs</strong> on your Mac by applying different quantization precision to keys vs values in the attention mechanism's KV cache. KVSplit enables you to:</p>
<ul dir="auto">
<li><strong>Reduce memory usage by up to 72%</strong> with minimal quality loss</li>
<li><strong>Run 2-3x longer contexts</strong> in the same memory budget</li>
<li><strong>Maintain or improve inference speed</strong> compared to FP16</li>
<li><strong>Optimize for Apple Silicon</strong> with full Metal support</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Key Findings</h2><a id="user-content-key-findings" aria-label="Permalink: Key Findings" href="#key-findings"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Configuration</th>
<th>VRAM @ 8K tokens</th>
<th>Tokens/sec</th>
<th>Perplexity Change</th>
</tr>
</thead>
<tbody>
<tr>
<td>FP16 (base)</td>
<td>176.00 MB (100%)</td>
<td>54,360</td>
<td>--</td>
</tr>
<tr>
<td>K8V8 (8-bit)</td>
<td>93.50 MB (47%)</td>
<td>51,503</td>
<td>+0.03%</td>
</tr>
<tr>
<td><strong>K8V4</strong></td>
<td><strong>71.50 MB (41%)</strong></td>
<td><strong>57,438</strong></td>
<td><strong>+0.86%</strong></td>
</tr>
<tr>
<td>K4V8</td>
<td>71.50 MB (41%)</td>
<td>58,690</td>
<td>+6.06%</td>
</tr>
<tr>
<td>K4V4 (4-bit)</td>
<td>49.50 MB (28%)</td>
<td>55,193</td>
<td>+6.15%</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h3 tabindex="-1" dir="auto">Memory Savings by Sequence Length</h3><a id="user-content-memory-savings-by-sequence-length" aria-label="Permalink: Memory Savings by Sequence Length" href="#memory-savings-by-sequence-length"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Configuration</th>
<th>128 tokens</th>
<th>2048 tokens</th>
<th>4096 tokens</th>
<th>8192 tokens</th>
</tr>
</thead>
<tbody>
<tr>
<td>FP16 (baseline)</td>
<td>5.50 MB</td>
<td>44.00 MB</td>
<td>88.00 MB</td>
<td>176.00 MB</td>
</tr>
<tr>
<td>K8V8 (8-bit)</td>
<td>2.92 MB</td>
<td>23.38 MB</td>
<td>46.75 MB</td>
<td>93.50 MB</td>
</tr>
<tr>
<td>K8V4 (mixed)</td>
<td>2.23 MB</td>
<td>17.88 MB</td>
<td>35.75 MB</td>
<td>71.50 MB</td>
</tr>
<tr>
<td>K4V8 (mixed)</td>
<td>2.23 MB</td>
<td>17.88 MB</td>
<td>35.75 MB</td>
<td>71.50 MB</td>
</tr>
<tr>
<td>K4V4 (4-bit)</td>
<td>1.55 MB</td>
<td>12.38 MB</td>
<td>24.75 MB</td>
<td>49.50 MB</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h2 tabindex="-1" dir="auto">Features</h2><a id="user-content-features" aria-label="Permalink: Features" href="#features"></a></p>
<ul dir="auto">
<li>Independent quantization of keys and values in the KV cache</li>
<li>Optimized for Apple Silicon with Metal support</li>
<li>Comprehensive benchmarking suite with perplexity measurement</li>
<li>Memory usage and performance analysis tools</li>
<li>Publication-quality visualization tools</li>
<li>Easy setup and usage</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Prerequisites</h2><a id="user-content-prerequisites" aria-label="Permalink: Prerequisites" href="#prerequisites"></a></p>
<ul dir="auto">
<li>macOS (tested on Apple Silicon)</li>
<li>Homebrew package manager</li>
<li>Xcode Command Line Tools</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">⚡ One-Command Installation</h2><a id="user-content--one-command-installation" aria-label="Permalink: ⚡ One-Command Installation" href="#-one-command-installation"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Clone the repository
git clone https://github.com/dipampaul17/KVSplit.git
cd kvsplit

# Run the installer script
chmod +x scripts/install_kvsplit.sh
./scripts/install_kvsplit.sh"><pre><span><span>#</span> Clone the repository</span>
git clone https://github.com/dipampaul17/KVSplit.git
<span>cd</span> kvsplit

<span><span>#</span> Run the installer script</span>
chmod +x scripts/install_kvsplit.sh
./scripts/install_kvsplit.sh</pre></div>
<p dir="auto">The installer will:</p>
<ul dir="auto">
<li>Set up the project structure</li>
<li>Clone and build llama.cpp with Metal support</li>
<li>Configure for differentiated KV cache quantization</li>
<li>Download a small test model (optional)</li>
<li>Set up Python environment for visualization</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">🏎️ Quick Comparison</h2><a id="user-content-️-quick-comparison" aria-label="Permalink: 🏎️ Quick Comparison" href="#️-quick-comparison"></a></p>
<p dir="auto">Want to see the benefits immediately? Run a quick comparison with your model:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Run quick comparison with different configurations
python scripts/quick_compare.py --model models/your-model.gguf"><pre><span><span>#</span> Run quick comparison with different configurations</span>
python scripts/quick_compare.py --model models/your-model.gguf</pre></div>
<p dir="auto">This will show you a side-by-side comparison of FP16, K8V8, K8V4, K4V8, and K4V4 with memory usage, speed, and quality metrics.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">📊 Impressive Results</h2><a id="user-content--impressive-results" aria-label="Permalink: 📊 Impressive Results" href="#-impressive-results"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/dipampaul17/KVSplit/blob/main/plots/memory_vs_quality.png"><img src="https://github.com/dipampaul17/KVSplit/raw/main/plots/memory_vs_quality.png" alt="Memory vs Quality" width="50%"></a>
</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">📉 Memory Reduction</h3><a id="user-content--memory-reduction" aria-label="Permalink: 📉 Memory Reduction" href="#-memory-reduction"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Configuration</th>
<th>VRAM @ 8K tokens</th>
<th>Memory Savings</th>
<th>Quality Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td>FP16 (base)</td>
<td>176.00 MB</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>K8V8 (8-bit)</td>
<td>93.50 MB</td>
<td>47%</td>
<td>+0.03%</td>
</tr>
<tr>
<td><strong>K8V4</strong></td>
<td><strong>71.50 MB</strong></td>
<td><strong>59%</strong></td>
<td><strong>+0.86%</strong></td>
</tr>
<tr>
<td>K4V8</td>
<td>71.50 MB</td>
<td>59%</td>
<td>+6.06%</td>
</tr>
<tr>
<td>K4V4 (4-bit)</td>
<td>49.50 MB</td>
<td>72%</td>
<td>+6.15%</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h3 tabindex="-1" dir="auto">📈 Performance Impact</h3><a id="user-content--performance-impact" aria-label="Permalink: 📈 Performance Impact" href="#-performance-impact"></a></p>
<p dir="auto">Using KVSplit doesn't just save memory—it often <strong>improves inference speed</strong> by 5-15%!</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Configuration</th>
<th>Tokens/sec (8K ctx)</th>
<th>Speedup vs FP16</th>
</tr>
</thead>
<tbody>
<tr>
<td>FP16</td>
<td>54,360</td>
<td>—</td>
</tr>
<tr>
<td>K8V8</td>
<td>51,503</td>
<td>-5.3%</td>
</tr>
<tr>
<td><strong>K8V4</strong></td>
<td><strong>57,438</strong></td>
<td><strong>+5.7%</strong></td>
</tr>
<tr>
<td>K4V8</td>
<td>58,690</td>
<td>+8.0%</td>
</tr>
<tr>
<td>K4V4</td>
<td>55,193</td>
<td>+1.5%</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h2 tabindex="-1" dir="auto">🧠 Project Structure</h2><a id="user-content--project-structure" aria-label="Permalink: 🧠 Project Structure" href="#-project-structure"></a></p>
<div data-snippet-clipboard-copy-content="kvsplit/
├── llama.cpp/      # Optimized llama.cpp build
├── models/         # LLM model files
├── scripts/        # Utility scripts
│   ├── benchmark_kvsplit.py    # Comprehensive benchmark tool
│   ├── install_kvsplit.sh      # One-command installer
│   ├── quick_compare.py        # Quick comparison utility
│   ├── capture_memory.sh       # GIF creation for memory visualization
│   └── visualize_results.py    # Generate publication-quality plots
├── results/        # Benchmark results (CSV/JSON)
├── plots/          # Generated visualizations
└── README.md       # This file"><pre><code>kvsplit/
├── llama.cpp/      # Optimized llama.cpp build
├── models/         # LLM model files
├── scripts/        # Utility scripts
│   ├── benchmark_kvsplit.py    # Comprehensive benchmark tool
│   ├── install_kvsplit.sh      # One-command installer
│   ├── quick_compare.py        # Quick comparison utility
│   ├── capture_memory.sh       # GIF creation for memory visualization
│   └── visualize_results.py    # Generate publication-quality plots
├── results/        # Benchmark results (CSV/JSON)
├── plots/          # Generated visualizations
└── README.md       # This file
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">🔬 Scientific Insight</h2><a id="user-content--scientific-insight" aria-label="Permalink: 🔬 Scientific Insight" href="#-scientific-insight"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/dipampaul17/KVSplit/blob/main/plots/configuration_summary.png"><img src="https://github.com/dipampaul17/KVSplit/raw/main/plots/configuration_summary.png" alt="Configuration Summary" width="80%"></a>
</p>
<p dir="auto">KV cache memory is dominated by storing key and value vectors for each token. Our research has revealed a critical insight: <strong>keys are significantly more sensitive to quantization than values</strong>.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">🔑 Key Findings</h3><a id="user-content--key-findings" aria-label="Permalink: 🔑 Key Findings" href="#-key-findings"></a></p>
<ul dir="auto">
<li><strong>Asymmetric Impact</strong>: Keys require higher precision than values for maintaining quality</li>
<li><strong>Sweet Spot</strong>: K8V4 (8-bit keys, 4-bit values) provides optimal balance
<ul dir="auto">
<li>Only 0.86% perplexity degradation vs. FP16</li>
<li>59% memory reduction</li>
<li>Faster inference than FP16</li>
</ul>
</li>
<li><strong>Confirmation</strong>: K4V8 configuration shows 7x more quality degradation than K8V4, despite using the same total bits</li>
</ul>
<p dir="auto">This asymmetry allows for more efficient memory usage without compromising model quality, enabling longer context windows and larger models on consumer hardware.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">💻 Usage Examples</h2><a id="user-content--usage-examples" aria-label="Permalink: 💻 Usage Examples" href="#-usage-examples"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Running with Different KV Cache Precisions</h3><a id="user-content-running-with-different-kv-cache-precisions" aria-label="Permalink: Running with Different KV Cache Precisions" href="#running-with-different-kv-cache-precisions"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Baseline (FP16)
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p &quot;Your prompt&quot; \
  -t 8 --flash-attn

# ⭐ RECOMMENDED: 8-bit keys, 4-bit values (K8V4) 
# Best balance of quality and memory savings
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p &quot;Your prompt&quot; \
  -t 8 --flash-attn --kvq 8

# 4-bit keys, 8-bit values (K4V8)
# Shows why key precision matters more than value precision
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p &quot;Your prompt&quot; \
  -t 8 --flash-attn --kvq-key 4 --kvq-val 8

# 4-bit keys and values (K4V4)
# Maximum memory savings (72% reduction) with acceptable quality
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p &quot;Your prompt&quot; \
  -t 8 --flash-attn --kvq 4"><pre><span><span>#</span> Baseline (FP16)</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p <span><span>"</span>Your prompt<span>"</span></span> \
  -t 8 --flash-attn

<span><span>#</span> ⭐ RECOMMENDED: 8-bit keys, 4-bit values (K8V4) </span>
<span><span>#</span> Best balance of quality and memory savings</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p <span><span>"</span>Your prompt<span>"</span></span> \
  -t 8 --flash-attn --kvq 8

<span><span>#</span> 4-bit keys, 8-bit values (K4V8)</span>
<span><span>#</span> Shows why key precision matters more than value precision</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p <span><span>"</span>Your prompt<span>"</span></span> \
  -t 8 --flash-attn --kvq-key 4 --kvq-val 8

<span><span>#</span> 4-bit keys and values (K4V4)</span>
<span><span>#</span> Maximum memory savings (72% reduction) with acceptable quality</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf -p <span><span>"</span>Your prompt<span>"</span></span> \
  -t 8 --flash-attn --kvq 4</pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Long Context Example (32K)</h3><a id="user-content-long-context-example-32k" aria-label="Permalink: Long Context Example (32K)" href="#long-context-example-32k"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Run with a 32K context (would require ~1.4GB in FP16, only ~400MB with K8V4)
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf \
  -c 32768 -n 4096 -t 8 --flash-attn --kvq 8 \
  -f your-long-document.txt"><pre><span><span>#</span> Run with a 32K context (would require ~1.4GB in FP16, only ~400MB with K8V4)</span>
./llama.cpp/build/bin/llama-cli -m models/your-model.gguf \
  -c 32768 -n 4096 -t 8 --flash-attn --kvq 8 \
  -f your-long-document.txt</pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">🚩 Command-Line Arguments</h3><a id="user-content--command-line-arguments" aria-label="Permalink: 🚩 Command-Line Arguments" href="#-command-line-arguments"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
<th>Recommendation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-t 8</code></td>
<td>Number of threads</td>
<td>8 is optimal for most Apple Silicon chips</td>
</tr>
<tr>
<td><code>--flash-attn</code></td>
<td>Enables optimized attention</td>
<td>Recommended for Apple Silicon</td>
</tr>
<tr>
<td><code>--kvq N</code></td>
<td>Sets both key and value bits to N</td>
<td>Use <code>--kvq 8</code> for K8V4 configuration</td>
</tr>
<tr>
<td><code>--kvq-key N</code></td>
<td>Sets key bits only</td>
<td>Key precision has major quality impact</td>
</tr>
<tr>
<td><code>--kvq-val N</code></td>
<td>Sets value bits only</td>
<td>Value precision has minor quality impact</td>
</tr>
<tr>
<td><code>-c N</code></td>
<td>Context size in tokens</td>
<td>Longer contexts benefit more from KVSplit</td>
</tr>
<tr>
<td><code>-n N</code></td>
<td>Number of tokens to generate</td>
<td>Adjust based on your needs</td>
</tr>
<tr>
<td><code>-f FILE</code></td>
<td>Input file</td>
<td>For processing documents</td>
</tr>
<tr>
<td><code>-m MODEL</code></td>
<td>Model path</td>
<td>Path to your .gguf model file</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h2 tabindex="-1" dir="auto">📏 Advanced Benchmarking</h2><a id="user-content--advanced-benchmarking" aria-label="Permalink: 📏 Advanced Benchmarking" href="#-advanced-benchmarking"></a></p>
<p dir="auto">For comprehensive performance analysis, use our full benchmark suite:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Run the full benchmark suite (all configurations and sequence lengths)
python scripts/benchmark_kvsplit.py

# Run a specific configuration test
python scripts/benchmark_kvsplit.py --config K8V4 --seq-len 4096

# Generate publication-quality visualizations
python scripts/visualize_results.py"><pre><span><span>#</span> Run the full benchmark suite (all configurations and sequence lengths)</span>
python scripts/benchmark_kvsplit.py

<span><span>#</span> Run a specific configuration test</span>
python scripts/benchmark_kvsplit.py --config K8V4 --seq-len 4096

<span><span>#</span> Generate publication-quality visualizations</span>
python scripts/visualize_results.py</pre></div>
<p dir="auto">The benchmarking script provides thorough measurements of:</p>
<ul dir="auto">
<li>📊 <strong>Memory Usage</strong>: VRAM and KV cache specifically</li>
<li>⚡ <strong>Performance</strong>: Tokens per second across different sequence lengths</li>
<li>🎯 <strong>Quality</strong>: Perplexity measurement using llama-perplexity</li>
<li>📈 <strong>Scaling</strong>: How memory usage and performance scale with sequence length</li>
</ul>
<p dir="auto">Results are saved in CSV/JSON formats with automatic summary statistics, and the visualization script generates publication-quality plots showing key insights.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">MIT</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🎬 Visual Memory Savings</h2><a id="user-content--visual-memory-savings" aria-label="Permalink: 🎬 Visual Memory Savings" href="#-visual-memory-savings"></a></p>
<p dir="auto">You can visualize memory savings with our capture tool:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Capture memory reduction in Activity Monitor
./scripts/capture_memory.sh"><pre><span><span>#</span> Capture memory reduction in Activity Monitor</span>
./scripts/capture_memory.sh</pre></div>

<p dir="auto"><h2 tabindex="-1" dir="auto">🍎 Apple Silicon Optimization</h2><a id="user-content--apple-silicon-optimization" aria-label="Permalink: 🍎 Apple Silicon Optimization" href="#-apple-silicon-optimization"></a></p>
<ul dir="auto">
<li><strong>Metal Performance</strong>: Fully optimized for Apple's Metal framework</li>
<li><strong>Memory Efficiency</strong>: Critical for memory-constrained M1/M2/M3 devices</li>
<li><strong>Activity Monitor</strong>: Use our <code>capture_memory.sh</code> script to visualize real-time memory reductions</li>
<li><strong>Alignment</strong>: 256B page alignment in llama.cpp means actual memory savings might differ slightly from theoretical calculations</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">⭐ Key Features</h2><a id="user-content--key-features" aria-label="Permalink: ⭐ Key Features" href="#-key-features"></a></p>
<ul dir="auto">
<li><strong>Differentiated Precision</strong>: Independent key and value bit precision (K8V4, K4V8, etc)</li>
<li><strong>Apple Silicon Optimization</strong>: Full Metal support for M1/M2/M3 chips</li>
<li><strong>Comprehensive Benchmarking</strong>: Memory, speed, and quality metrics</li>
<li><strong>Publication-Quality Visualization</strong>: Beautiful plots for analysis</li>
<li><strong>Simple User Interface</strong>: One-command install and quick comparison tools</li>
<li><strong>Memory Visualization</strong>: Tools to capture and visualize memory savings</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">🙏 Acknowledgments</h2><a id="user-content--acknowledgments" aria-label="Permalink: 🙏 Acknowledgments" href="#-acknowledgments"></a></p>
<p dir="auto">This project implements ideas from recent research including:</p>
<ul dir="auto">
<li>"More for Keys, Less for Values: Adaptive KV Cache Quantization" (2024)</li>
<li>"Unifying KV Cache Compression for Large Language Models with LeanKV" (2025)</li>
</ul>
<p dir="auto">Additional credits:</p>
<ul dir="auto">
<li><a href="https://github.com/ggerganov/llama.cpp">llama.cpp</a> - Base implementation</li>
<li><a href="https://huggingface.co/TinyLlama" rel="nofollow">TinyLlama</a> - Test model</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contributing</h2><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto">Contributions are welcome! Please open an issue or submit a pull request.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🧠 Configuration Recommendations</h2><a id="user-content--configuration-recommendations" aria-label="Permalink: 🧠 Configuration Recommendations" href="#-configuration-recommendations"></a></p>
<ul dir="auto">
<li>
<p dir="auto"><strong>Best Overall</strong>: 🌟 <strong>K8V4</strong> 🌟 (8-bit keys, 4-bit values)</p>
<ul dir="auto">
<li>59% memory reduction with only 0.86% quality loss</li>
<li>Improved inference speed (+5.7% vs FP16)</li>
<li>Great balance of quality and efficiency</li>
</ul>
</li>
<li>
<p dir="auto"><strong>Absolute Maximum Memory Savings</strong>: K4V4 (4-bit keys and values)</p>
<ul dir="auto">
<li>72% memory reduction with ~6% quality loss</li>
<li>Good for memory-constrained devices</li>
<li>Acceptable for less sensitive applications</li>
</ul>
</li>
<li>
<p dir="auto"><strong>Best for Very Long Contexts</strong>: K8V4 or K4V4</p>
<ul dir="auto">
<li>Memory savings compound with context length</li>
<li>Run 2-3x longer contexts in the same memory budget</li>
</ul>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">🔮 Future Roadmap</h2><a id="user-content--future-roadmap" aria-label="Permalink: 🔮 Future Roadmap" href="#-future-roadmap"></a></p>
<ul>
<li> <strong>Adaptive Precision</strong>: Dynamic precision based on token importance</li>
<li> <strong>Layer-Specific Quantization</strong>: Different precision for different model layers</li>
<li> <strong>Model-Specific Optimizations</strong>: Tailored for Mistral, Phi-3, etc.</li>
<li> <strong>Web Demo</strong>: Interactive testing environment</li>
<li> <strong>Mobile Support</strong>: Adapting for iOS and iPadOS</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">📜 License</h2><a id="user-content--license" aria-label="Permalink: 📜 License" href="#-license"></a></p>
<p dir="auto">MIT</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🤝 Contributing</h2><a id="user-content--contributing" aria-label="Permalink: 🤝 Contributing" href="#-contributing"></a></p>
<p dir="auto">Contributions are welcome! Please open an issue or submit a pull request.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Thoughts on thinking (402 pts)]]></title>
            <link>https://dcurt.is/thinking</link>
            <guid>44008843</guid>
            <pubDate>Fri, 16 May 2025 19:09:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dcurt.is/thinking">https://dcurt.is/thinking</a>, See on <a href="https://news.ycombinator.com/item?id=44008843">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="container">
  <article id="4txa6fWsfsW1TNkdx4esmW">
	<time datetime="2025-05-16">May 16, 2025</time>
  <h2>
    <a href="https://dcurt.is/thinking">Thoughts on thinking</a>
  </h2>
	<p>I have been stuck. Every time I sit down to write a blog post, code a feature, or start a project, I come to the same realization: in the context of AI, what I’m doing is a waste of time. It’s horrifying. The fun has been sucked out of the process of creation because nothing I make organically can compete with what AI already produces—or soon will. All of my original thoughts feel like early drafts of better, more complete thoughts that simply haven’t yet formed inside an LLM. </p>

<p>I used to write prolifically. I’d have ideas, write them down, massage them slowly and carefully into cohesive pieces of work over time, and then–when they were ready–share them with the world. I’d obsess for hours before sharing anything, working through the strengths and weaknesses of my thinking. Early in my career, that process brought a lot of external validation. And because I think when I write, and writing is how I form opinions and work through holes in my arguments, my writing would lead to more and better thoughts over time. Thinking is compounding–the more you think, the better your thoughts become. </p>

<p>But now, when my brain spontaneously forms a tiny sliver of a potentially interesting concept or idea, I can just shove a few sloppy words into a prompt and almost instantly get a fully reasoned, researched, and completed thought. Minimal organic thinking required. This has had a dramatic and profound effect on my brain. My thinking systems have atrophied, and I can feel it–I can sense my slightly diminishing intuition, cleverness, and rigor. And because AI can so easily flesh out ideas, I feel less inclined to share my thoughts–no matter how developed.</p>

<p>I thought I was using AI in an incredibly positive and healthy way, as a bicycle for my mind and a way to vastly increase my thinking capacity. But LLMs are insidious–using them to explore ideas feels like work, but it’s not real work. Developing a prompt is like scrolling Netflix, and reading the output is like watching a TV show. Intellectual rigor comes from the journey: the dead ends, the uncertainty, and the internal debate. Skip that, and you might still get the insight–but you’ll have lost the infrastructure for meaningful understanding. Learning by reading LLM output is cheap. Real exercise for your mind comes from building the output yourself. </p>

<p>The irony is that I now know more than I ever would have before AI. But I feel slightly dumber. A bit more dull. LLMs give me finished thoughts, polished and convincing, but none of the intellectual growth that comes from developing them myself. The output from AI answers questions. It teaches me facts. But it doesn’t really help me <em>know</em> anything new. </p>

<p>While using AI feels like a superhuman brain augmentation, when I look back on the past couple of years and think about how I explore new thoughts and ideas today, it looks a lot like sedation instead. </p>

<p>And I’m still stuck. But at least I’m here, writing this, and conveying my raw thoughts directly into your brain. And that means something, I think, even though an AI could probably have written this post far more quickly, eloquently, and concisely. It’s horrifying. </p>

<hr>

<p>This post was written entirely by a human, with no assistance from AI. (Other than spell- and grammar-checking.)</p>

  <figure id="kudo_4txa6fWsfsW1TNkdx4esmW">
    <a href="#kudo">
      
    </a>
    <p>399</p>
    <p>Kudos</p>
  </figure>
  <figure id="kudo_side_4txa6fWsfsW1TNkdx4esmW">
    <a href="#kudo">
      
    </a>
    <p>399</p>
    <p>Kudos</p>
  </figure>
</article>

</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[X X^t can be faster (174 pts)]]></title>
            <link>https://arxiv.org/abs/2505.09814</link>
            <guid>44006824</guid>
            <pubDate>Fri, 16 May 2025 15:45:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2505.09814">https://arxiv.org/abs/2505.09814</a>, See on <a href="https://news.ycombinator.com/item?id=44006824">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="labstabs"><p>
    <label for="tabone">Bibliographic Tools</label></p><div>
      <h2>Bibliographic and Citation Tools</h2>
      <div>
          <p><label>
              
              <span></span>
              <span>Bibliographic Explorer Toggle</span>
            </label>
          </p>
          
        </div>
        
        
        
        
    </div>


    <p>
    <label for="tabtwo">Code, Data, Media</label></p><div>
      <h2>Code, Data and Media Associated with this Article</h2>
      

      
      
      
      
      
      
      
      
    </div>


      <p>
      <label for="labstabs-demos-input" id="labstabs-demos-label">Demos</label></p><div>
        <h2>Demos</h2>
        
        
        
        
      </div>
      <p>
      <label for="tabfour">Related Papers</label></p><div>
        <h2>Recommenders and Search Tools</h2>
        
        
        
        
        
      </div>

      <p>
      <label for="tabfive">
        About arXivLabs
      </label></p><div>
            <h2>arXivLabs: experimental projects with community collaborators</h2>
            <p>arXivLabs is a framework that allows collaborators to develop and share new arXiv features directly on our website.</p>
            <p>Both individuals and organizations that work with arXivLabs have embraced and accepted our values of openness, community, excellence, and user data privacy. arXiv is committed to these values and only works with partners that adhere to them.</p>
            <p>Have an idea for a project that will add value for arXiv's community? <a href="https://info.arxiv.org/labs/index.html"><strong>Learn more about arXivLabs</strong></a>.</p>
          </div>

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[MIT asks arXiv to take down preprint of paper on AI and scientific discovery (292 pts)]]></title>
            <link>https://economics.mit.edu/news/assuring-accurate-research-record</link>
            <guid>44006426</guid>
            <pubDate>Fri, 16 May 2025 15:09:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://economics.mit.edu/news/assuring-accurate-research-record">https://economics.mit.edu/news/assuring-accurate-research-record</a>, See on <a href="https://news.ycombinator.com/item?id=44006426">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="block-economics-content">
				  <p><span>Following the posting of the preprint paper “Artificial Intelligence, Scientific Discovery, and Product Innovation” on arXiv in November 2024, concerns were raised about the integrity of the research. MIT conducted an internal, confidential review and</span><span>&nbsp;</span><span>concluded that the paper should be withdrawn from public discourse.</span></p><p><span>In an effort to correct the research record, MIT has contacted arXiv</span><span>&nbsp;</span><span>to formally request that the paper be withdrawn</span><span>&nbsp;</span><span>and</span><span>&nbsp;</span><em><span>The</span></em><span>&nbsp;</span><em><span>Quarterly Journal of Economics</span></em><span>, where it had been submitted. The letter on behalf of the Committee on Discipline</span><span>&nbsp;</span><span>to arXiv</span><span>&nbsp;</span><span>states:</span></p><p><span>"Earlier this year, the COD conducted a confidential internal review based upon allegations it received regarding certain aspects of this paper.&nbsp; While</span><span>&nbsp;</span><span>student privacy laws and MIT policy prohibit the disclosure of the outcome of this review, we are writing to inform you that MIT has no confidence in the provenance, reliability or validity of the data and has no confidence in the veracity of the research</span><span>&nbsp;</span><span>contained in the paper.&nbsp; Based upon this finding, we also believe that the inclusion of this paper in arXiv may violate arXiv’s</span><span>&nbsp;</span><a href="https://urldefense.com/v3/__https:/info.arxiv.org/help/policies/code_of_conduct.html__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMsa65jiw$" target="_blank" title="https://urldefense.com/v3/__https://info.arxiv.org/help/policies/code_of_conduct.html__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMsa65jiw$"><span>Code of Conduct</span></a><span>.</span></p><p><span>"Our understanding is that only authors of papers appearing on arXiv can submit withdrawal requests.&nbsp; We have directed the author to submit such a request, but to date, the author has not done so. Therefore, in an effort to clarify the research record, MIT respectfully request that the paper be marked as withdrawn from arXiv as soon as possible."</span></p><div><p><span>Preprints, by definition, have not yet undergone peer review. MIT took this step in light of the publication’s prominence in the research conversation and because it was a formal step it could take to mitigate the effects of misconduct. The author is no longer at MIT.</span></p><p><span><strong>Research integrity is paramount</strong></span><span><strong>&nbsp;</strong></span></p></div><p><span>Research integrity at MIT is paramount – it lies at the heart of what we do and is central to MIT’s mission. The Institute has</span><span>&nbsp;</span><a href="https://urldefense.com/v3/__https:/policies.mit.edu/policies-procedures/100-academic-and-research-misconduct-and-dishonesty/101-procedures-dealing__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMPJdF0dw$" target="_blank" title="https://urldefense.com/v3/__https://policies.mit.edu/policies-procedures/100-academic-and-research-misconduct-and-dishonesty/101-procedures-dealing__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMPJdF0dw$"><span>policies and confidential processes</span></a><span>&nbsp;</span><span>in place to assess concerns about research integrity, which can be viewed</span><span>&nbsp;</span><a href="https://urldefense.com/v3/__https:/policies.mit.edu/policies-procedures/100-academic-and-research-misconduct-and-dishonesty/101-procedures-dealing__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMPJdF0dw$" target="_blank" title="https://urldefense.com/v3/__https://policies.mit.edu/policies-procedures/100-academic-and-research-misconduct-and-dishonesty/101-procedures-dealing__;!!F0Stn7g!DGQrEVNSDea7rK4Hj38R7Udklg0R3X6CMF_HTWlw4eQkUu9l4WZQaB2XoV0EBdTOm6VIoM_UjFMPJdF0dw$"><span>online here</span></a><span>.</span><span>&nbsp;</span></p><p><span>Professor Daron Acemoglu and Professor David Autor, who are acknowledged in a footnote in the paper in question, have offered the following statement:</span><span>&nbsp;</span></p><p><span>“The paper 'Artificial Intelligence, Scientific Discovery and Product Innovation' by a former second-year PhD student in the Department of Economics at MIT, is already known and discussed extensively in the literature on AI and science, even though it has not been published in any refereed journal. Over time, we had concerns about the validity of this research, which we brought to the attention of the appropriate office at MIT. In early February, MIT followed its written policy and conducted an internal, confidential review. While student privacy laws and MIT policy prohibit the disclosure of the outcome of this review, we want to be clear that we have no confidence in the provenance, reliability or validity of the data and in the veracity of the research.</span><span>&nbsp;</span></p><p><span>“We are making this information public because we are concerned that, even in its non-published form, the paper is having an impact on discussions and projections about the effects of AI on science. Ensuring an accurate research record is important to MIT. We therefore would like to set the record straight and share our view that at this point the findings reported in this paper should not be relied on in academic or public discussions of these topics.”</span><span>&nbsp;</span></p><p><span>###</span></p>

			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: I'm Peter Roberts, immigration attorney, who does work for YC and startups. AMA (206 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=44006381</link>
            <guid>44006381</guid>
            <pubDate>Fri, 16 May 2025 15:05:32 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=44006381">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <tbody><tr id="44008469"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008469" href="https://news.ycombinator.com/vote?id=44008469&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Are there any difficulties in obtaining TN Visas related to the stage of the sponsor company?</p><p>More specifically, is it feasible for a Canadian operating startup to open a US entity and employ Canadian engineers under the TN Visa category? This would be an early stage non-VC backed company, but profitable and paying above prevailing market wage.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006665"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006665" href="https://news.ycombinator.com/vote?id=44006665&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>There has been a bunch of chatter in Canadian founders whatsapp groups about people getting detained for long periods of time coming into the states either at SFO or pre-clear in Canada. Are you advising Canadians travel with any additional documentation these days?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006947"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006947" href="https://news.ycombinator.com/vote?id=44006947&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Im a Canadian and go to the US for work fairly regularly. Something I didn’t realize is that the laws are different in preclearance areas.
<a href="https://laws-lois.justice.gc.ca/eng/acts/P-19.32/FullText.html" rel="nofollow">https://laws-lois.justice.gc.ca/eng/acts/P-19.32/FullText.ht...</a></p><p>For example, you are allowed to withdraw your application to enter the US and leave the preclearance area. Additionally you are bound by different laws for search and siezure.</p><p>At this point I am only going to the US through preclearance areas because you are still on Canadian soil and bound by Canadian laws. That doesn’t necessarily mean that USBP won’t break those laws, but the Canadian courts get to decide if laws were broken instead of the US courts.</p><p>One thing I have not found a straight answer on yet is if USBP can compel you to unlock your electronic devices in a preclearance area. My current strategy is if I am asked to do that in preclearance I will withdraw my application to enter because Im not letting anyone access to my phone.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008147"><td></td></tr>
            <tr id="44007205"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007205" href="https://news.ycombinator.com/vote?id=44007205&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>That’s only the Canada -&gt; US leg, though. They can still grab your phone on the US -&gt; Canada return trip, ne pas?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007314"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007314" href="https://news.ycombinator.com/vote?id=44007314&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Historically the US has not had much "exit control".</p><p>For example leaving the Schengen area it's obligatory to go through "exit immigration" and get your passport stamped. Leaving the US, you show your passport to the airline, but usually there is no formal immigration check at all.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008256"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44008256" href="https://news.ycombinator.com/vote?id=44008256&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>IIRC, [a long time ago?] you MUST give a piece of paper to a guy/gal near the exit, so they remember to mark your exit in the database. I don't think they check too much, just collect the pieces of papers? (I don't remember the details, but if there was a scary warning if you forget to give it and they forget to update the database.)</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007653"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44007653" href="https://news.ycombinator.com/vote?id=44007653&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>That’s because the airline updates your I-94 for you. If they don’t you risk overstaying. There is a website you can use to validate that they did everything correctly.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008022"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_44008022" href="https://news.ycombinator.com/vote?id=44008022&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yeah, once upon a time you had to return your actual I-94 stamped to your passport to the airline, but today this is done automatically on the background</p>
              </div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44007451"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007451" href="https://news.ycombinator.com/vote?id=44007451&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Sure. Or USBP could just be waiting for you as your flight lands in the US and then immediately detain you. You have no rights in a US airport.</p><p>I have not ever heard of that happening, but if I did hear about it happening to normal people (i.e. people without a criminal warrant) I would probably stop going to the US.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008306"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44008306" href="https://news.ycombinator.com/vote?id=44008306&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>nit: USBP (US Border Patrol) is not at the ports of entry. Border Patrol is for the land border _between_ ports of entry. CBP (customs and border protection) is the organization that does immigration control at the ports of entry.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44007317"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007317" href="https://news.ycombinator.com/vote?id=44007317&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>There's no question that it's tougher now to get into the U.S., whether from Canada or another country via pre-clearance or via a land crossing, and there can be significant differences among airports and land crossings. Canadians are unique because they are visa exempt and CBP feels particularly emboldened to reassess their admissibility every time they enter. The keys are to avoid bad pre-clearance offices and land crossings and even more importantly to carry the right paperwork, which varies depending on the specific status being sought. There is also a huge difference between seeking entry as a visitor versus seeking entry as a worker with a visa, with the former much more challenging now.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007414"><td></td></tr>
            <tr id="44007515"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007515" href="https://news.ycombinator.com/vote?id=44007515&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I was thinking just for folks going down regularly on a B1, do you think it's worth having a copy of your lease or rental agreement in Canada or something similar? It seems most of the stuff I was seeing is about Canadians establishing roots using a B1.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007754"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007754" href="https://news.ycombinator.com/vote?id=44007754&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The concerns on the part of CBP when someone is seeking admission as a B-1 business visitor are the appropriateness of the applicant's proposed activities and the applicant's ties to home/intent to return home (Canada). So you want to keep in your back pocket documents that address these concerns, such as a foreign lease agreement, foreign pay statement, and evidence of the purpose, such as a printout of the conference being attended or a letter of invitation. It's also really important to be prepared to provide specifics about your purpose, who, what, when, and where.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007789"><td></td></tr>
            <tr id="44007776"><td></td></tr>
                              <tr id="44008176"><td></td></tr>
                  <tr id="44006984"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006984" href="https://news.ycombinator.com/vote?id=44006984&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>If an individual is transgender, not a US citizen, and has a passport with an updated gender marker (or X), can they still get a visa? Or is submitting an official document with "wrong information" enough for a refusal?</p><p>What about existing visas?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008077"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008077" href="https://news.ycombinator.com/vote?id=44008077&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The short answer is Yes, this individual can still get a U.S. visa. But I'd still recommend that this person speak with an attorney before applying for a visa or traveling to the U.S.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007821"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007821" href="https://news.ycombinator.com/vote?id=44007821&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I'm a Canadian software developer who'd like to join an American startup so naturally I've been applying to a bunch of jobs. More specifically, I'm looking to go with TN visa.</p><p>In most job applications, I need to answer the two following questions 1) Are you legally authorized to work in the US? and 2) Will you now or in the future require sponsorship? I'm looking for advice on how I should be answering these questions.</p><p>For example, I believe I should technically be answering NO to 1) and YES to 2), but I'm slightly unsure about this.</p><p>I've heard recently that some Canadians actually recommend answering YES to 1) as getting a TN visa is very simple and not too much harder than just hiring an American. The idea is that when you answer NO to 1) that recruiters (and especially startups who are often more naive about visas) will lump you in as being hard to hire like immigrants who come to the US on the H1B and then filter out your application.</p><p>As for question 2), because the TN is a "Nonimmigrant" visa, does this technically mean I can answer NO here?</p><p>Basically in summary, how would you recommend I answer these questions? I don't want my applications to get auto filtered, but I'd also like to be as honest as possible.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008272"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008272" href="https://news.ycombinator.com/vote?id=44008272&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi, I just spent 2 months interviewing and hiring candidates for 4 open (remote) eng positions at a US startup. Answering "Yes" to 1 when you don't have a green card or US citizenship would be a way to guarantee that I would rescind your offer and make a mental note to never trust you. I don't think you should do that.</p><p>We actually hired some Canadian talent -- we just used an EOR in Canada. The EOR cost us about $600 a month per head as their cut, but it was worth it to get the excellent developers we have through that deal.</p><p>The reason why some/many firms would filter out anyone saying NO to (1) is that getting a visa sponsored requires significant work of a specialized nature and our company certainly is not equipped to do that because we don't have people who have the time and skills to deal with the insane demands of our government to obtain the necessary document (This is not a new or partisan issue btw, I remember losing a great developer in the Obama years due to the feds giving her the run-around).</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008435"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44008435" href="https://news.ycombinator.com/vote?id=44008435&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>&gt; Answering "Yes" to 1 when you don't have a green card or US citizenship would be a way to guarantee that I would rescind your offer</p><p>This might actually violate EEOC. You would discriminating on the basis on nationality. The question that was asked was "Are you legally authorized to work in the US?" and Canadian have a limited legal right to work in the US under NAFTA.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44008094"><td></td></tr>
                  <tr id="44008139"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008139" href="https://news.ycombinator.com/vote?id=44008139&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I have a US passport and am a naturalized US citizen however due to some sort of clerical error my passport says I was born here (even though you have to staple your immigration cert to the passport application). I never even noticed it until I'd been in and out of the country a few times, my passport is about to expire and I'm worried about having trouble trying to get it fixed, what course of action should I take, I'd really like to have a valid US passport.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008196"><td></td></tr>
                  <tr id="44006833"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006833" href="https://news.ycombinator.com/vote?id=44006833&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for doing the AMA!</p><p>I'm a US citizen born abroad - I got my citizenship via (I believe) INA 320 when I was a child. I have a US-born father who was not eligible to pass on his citizenship at the time of my birth. I lived in the US for most of my childhood up until ~2015 (initially as an LPR), and at some point, I obtained a US passport.</p><p>I don't have a certificate of citizenship, only a US passport. Given the way the US is going, I'm concerned that one day I'm going to apply renew my passport or otherwise have to prove my citizenship, and I'm not going to be able to sufficiently document it. Is this a real risk? Would you advise applying for a CoC in my circumstances? Am I even eligible to apply for one given that I live abroad? What other steps if any should I take to protect my status?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007354"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007354" href="https://news.ycombinator.com/vote?id=44007354&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>You still can apply for a Certificate of Citizenship but there's a cost associated with it and I really don't think it's necessary or even advisable because you are now giving the government a chance to reassess its previous approval. A U.S. passport is always considered sufficient evidence of U.S. citizenship.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007444"><td></td></tr>
                <tr id="44007997"><td></td></tr>
                        <tr id="44007811"><td></td></tr>
                <tr id="44008032"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44008032" href="https://news.ycombinator.com/vote?id=44008032&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>In order for U.S. citizens to pass on their citizenship to children born abroad, they need to have resided in the U.S. for a certain period prior to the birth of the child.</p><p>The amount of time the parent has to have lived in the U.S. varies but usually it’s 5 years with at least 2 years after the age of 14.</p><p>If they don’t automatically pass it on and they want to move back to the U.S., they need to apply for green cards for their kids.</p><p>Since 2001, anyone under 18 who has a green card and lives with a U.S. citizen parent becomes a citizen automatically by process of law, under INA 320. Unfortunately documenting this is <i>not</i> automatic. A lot of people who came before 2001 don’t even know that they’re citizens. The application for a certificate costs a lot of money, so often parents tend to skip it if they don’t feel it’s necessary.</p><p>See below for the residency criteria.</p><p><a href="https://travel.state.gov/content/travel/en/legal/travel-legal-considerations/us-citizenship/Acquisition-US-Citizenship-Child-Born-Abroad.html" rel="nofollow">https://travel.state.gov/content/travel/en/legal/travel-lega...</a></p><p>INA 320: <a href="https://www.uscis.gov/policy-manual/volume-12-part-h-chapter-4" rel="nofollow">https://www.uscis.gov/policy-manual/volume-12-part-h-chapter...</a></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44008375"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008375" href="https://news.ycombinator.com/vote?id=44008375&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Can you clarify the current status of the U4U program? Is it limited to TPS only, or are there other pathways available? Also, what do you think the government’s broader intentions are with U4U?</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008358"><td></td></tr>
            <tr id="44008177"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008177" href="https://news.ycombinator.com/vote?id=44008177&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for doing this Peter. Quick question.</p><p>I'm in the US using E-3 visa since July 2024, working as a software engineer for a smallish non-faang company. I am fully remote in the Bay area and there is no office, but technically the company is based in NYC. New hiring for SWEs is outside the US. There haven't been layoffs in the last 12 months and it doesn't seem like there will be.</p><p>What is the best way for me to pursue a green card? I am aware that E-3 is not the ideal path, but is workable with some risks. My main concern is the state of the SWE market, with so many candidates looking for work.</p><p>I expect that any labour market test will fail as there will be suitable US candidates that appear. Is there any way to navigate this situation? What are the chances of success in this market? Would joining a big-tech company help?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008278"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008278" href="https://news.ycombinator.com/vote?id=44008278&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>When it comes to Canadians working in the US on a TN, are we allowed to accept promotions (title, comp or both) without going through reapproval of our visa? Are there any nuances here like caps on how high a salary increase could be before needing a reassessment? Maybe increases in equity don’t count?</p><p>Also if the reassessment is denied does your original visa still remain valid or are you risking it all for the promotion?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006758"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006758" href="https://news.ycombinator.com/vote?id=44006758&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi Peter, thanks for doing this AMA.</p><p>I am traveling to the US soon for work from Europe. I have been reading a lot of articles about detentions at US airports and phone checks.  
My mindset has always been to never give my personal phone for an inspection, but times has changed now and it has been happening a lot more frequently.  
I am wondering what is the best course of action, prior to travel and if asked to give your phone and password. Also, what happens if you refuse to do so? Is the worst case scenario that they will send you back to where you came from?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007002"><td></td></tr>
                <tr id="44007846"><td></td></tr>
            <tr id="44007374"><td></td></tr>
                  <tr id="44006813"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006813" href="https://news.ycombinator.com/vote?id=44006813&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Not legal advice but I'm a US citizen and when I've refused to answer their intrusive questions the worst that has happened to me is they imprisoned me, stripped me naked and searched me, got a fraudulent warrant for an internal body search, and then sent me the bill after dumping me at the border when they found nothing.</p><p>Enjoy.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006884"><td></td></tr>
                <tr id="44007709"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007709" href="https://news.ycombinator.com/vote?id=44007709&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Yes.</p><p>They claimed a dog alerted on me.  An anonymous dog, handled by an unnamed officer in the affidavit, which was used as 3rd party inter-species hearsay via a HSI officer to the assistant attorney and judge.</p><p>A dog did not alert on me.  In fact it is against CBP policy to use dogs on a person, they are to be used on your articles.</p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44008325"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008325" href="https://news.ycombinator.com/vote?id=44008325&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>For what it’s worth, I recently travelled to the US from the Middle East (into Houston) and was also concerned about this.</p><p>My solution was to delete apps I didn’t want to be searched (e.g. WhatsApp) after having made a cloud backup, then enabling airplane mode.</p><p>CBP’s website [1] states:</p><p>&gt; Prior to beginning a basic or advanced search, CBP Officers will ensure all data and network connections are disabled</p><p>And no, I wasn’t searched (thankfully!)</p><p>[1] <a href="https://www.cbp.gov/travel/cbp-search-authority/border-search-electronic-devices" rel="nofollow">https://www.cbp.gov/travel/cbp-search-authority/border-searc...</a></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007367"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007367" href="https://news.ycombinator.com/vote?id=44007367&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The short answer is that CBP has the right to ask to see your electronic devices and you have the right to refuse but if you refuse (and you are not a U.S. green card holder or citizen), CBP likely will deny you admission and send you home.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007904"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007904" href="https://news.ycombinator.com/vote?id=44007904&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I had a friend who was asked to unlock her phone, and she did, and then… they did nothing. They watched her do it and moved on to the next question.</p><p>Seems like asking someone to do this is just a good test to see the kind of individual they’re dealing with. It’s not practical to thoroughly search phones at scale and plus they know people can just have burner phones anyway. If you’re cagey and combative they know you’re a problem.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007728"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007728" href="https://news.ycombinator.com/vote?id=44007728&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>&gt; My mindset has always been to never give my personal phone for an inspection</p><p>Get a burner phone! Upload your entire data to the cloud as well. Either you can store your phone in the check-in luggage or restore your data once you've arrived at your US location.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007126"><td></td></tr>
            <tr id="44007125"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007125" href="https://news.ycombinator.com/vote?id=44007125&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm wondering if anyone uses burner phones. I have an old phone, and a second phone number that I got from Tello for $5 a month, intending to use it for a business number, but then never did. It's currently completely detached from anything personal and I figure if I do need to go over the border I could just use that still for any communication and internet access, but personal details would be at a very bare minimum.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006967"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006967" href="https://news.ycombinator.com/vote?id=44006967&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Given the very real risks involved, can't your employer waive the travel requirement for the next few years?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007774"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007774" href="https://news.ycombinator.com/vote?id=44007774&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter, Im currently on H1B with I-140 approved. Im thinking of starting my own company and have other co-founders who are US citizens / GC holders. What is the path for me to have a visa while also being able to start my company.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008233"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008233" href="https://news.ycombinator.com/vote?id=44008233&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Because you have cofounders, an H-1B might work.  The other option is the O-1.  You should schedule a consultation with an immigration attorney to determine the best path.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44008352"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008352" href="https://news.ycombinator.com/vote?id=44008352&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for doing an AMA!</p><p>Should folks on H1B visas who have an ongoing green card application via PERM be concerned at all?</p><p>Would you advise not traveling until the i-495 is filed?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007994"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007994" href="https://news.ycombinator.com/vote?id=44007994&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi Peter,</p><p>My I-140 was approved in June 2013 under the EB2 category (H1B). I later downgraded to EB3 and filed my I-485 when my priority date became current back in 2021. I received my EAD in 2022 and have been working on EAD since then.</p><p>According to the current visa bulletin, my priority date is expected to become current soon. However, I have a couple of concerns:</p><p>The job title I had when I filed the I-485 is different from my current role.</p><p>I have also changed employers since then.</p><p>I understand that I may need to submit a new I-485J.</p><p>Given that I was promoted and my current title is significantly different from the one in my original petition, could this pose any challenges to my I-485 application?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008151"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008151" href="https://news.ycombinator.com/vote?id=44008151&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yes, you and your current employer need to file an I-485J if proceeding based on the approved EB3 petition but whether you will have an issue because of the change in positions will need to be analyzed (although you probably are fine). Does your employer have an immigration attorney because this is something that he or she should analyze?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008225"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44008225" href="https://news.ycombinator.com/vote?id=44008225&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yes, my employer does have an immigration attorney. I applied 485 as a Programmer Analyst. But now I work as a Director, Applications with a more diverse application suite than what I originally worked on. The labor and wage and roles/ responsibilities will not create any problems ?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008248"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44008248" href="https://news.ycombinator.com/vote?id=44008248&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Probably not but I can't advise because I don't have all the paperwork in front of me.  The company's immigration attorney should be able to advise.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44006594"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006594" href="https://news.ycombinator.com/vote?id=44006594&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>If possible, I'd like to hear about your typical day/week of work (is anything "typical" in your line of work?). Thanks!</p><p>Edit: Typo</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006687"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006687" href="https://news.ycombinator.com/vote?id=44006687&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>For me, I have about 15 30-minute calls each day with existing and potential clients during which we discuss their chances of getting temporary work visas or green cards and issues around international travel. The rest of the time, I'm reviewing applications and responding to emails from staff and clients. It sounds pretty mundane but despite the stresses of the job and the challenges associated with the new administration, I still really enjoy what I do because I have a wonderful team and I get to interact with really smart people doing super interesting things and help them realize their dream of living and working in the U.S.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006826"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44006826" href="https://news.ycombinator.com/vote?id=44006826&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I’m sure each case is unique, but there must be a lot of similar situations and repeat issues.</p><p>How often do you get a new curveball in the process? Though perhaps this is an unusual year to be asking that.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007419"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007419" href="https://news.ycombinator.com/vote?id=44007419&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Good question.  There are a lot of repeat issues but because every person's background is different and every person's circumstances are different, every case is different, which keeps our work challenging and interesting.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44006728"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006728" href="https://news.ycombinator.com/vote?id=44006728&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>As someone who is a US Citizen, what is something about the immigration process that I probably do not know about, but causes a lot of issues/could be improved.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007083"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007083" href="https://news.ycombinator.com/vote?id=44007083&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I have lots of examples:</p><p>* By law, the US can only issue 140,000 employment-based green cards per year, and no more than 7% to one country. This means people from India or China can face a 100+ year backlog, even after they have proved they qualify for a green card. There's no cap on marriage-based green cards.</p><p>* Processing times for many green cards (i.e. for people who have already qualified, but just need the physical green card), are 12-24 months.</p><p>* USCIS still expects many applications to be sent by mail. Some applications (like O-1s, EB-1s) require hundreds of pages of evidence, and it all needs to be printed out on 8.5x11" paper, for USCIS to scan it in on B+W scanners. This means that there is no error checking (e.g. on fee amounts), and if you have made a mistake, you might not know about it for weeks. Also, it means your petition cannot include working hyperlinks, webpages, or videos - the USCIS officer judges the petition by scrolling through a 400+ page PDF.</p><p>* The 'standard' post-graduate work visa is the H-1B. It's entirely lottery-based, not merit-based, and typically there are 400,000+ people competing for 85,000 visas. Many qualified people are forced to leave the US each year because they didn't get selected in the lottery.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007338"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007338" href="https://news.ycombinator.com/vote?id=44007338&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>The standard for employment-based permanent residency (green card) is extraordinarily high. As in, would likely place you in the top 1-5% of the most successful people in the country. 
That, or you have to invest $800k and create 10 jobs.</p><p>No other country in the world requires foreigners to be significantly more qualified than its own population. You can move to France with a regular paying job no problem or just a few thousand euros in savings. Impossible in the US. You have to be extraordinary (they literally call their criteria, "extraordinary abilities") or you have to make top 5% money (so if you work in tech, that would be at least $500k-1M/year in many cases).</p><p>The only other way is to get married. This means there is a massive discrepancy between the qualifications of self made immigrants, versus those simply lucky enough to fall in love. It's pretty unfair, but that's how it works. But that's also the reason so many immigrants are so successful in the US, the bar is so high, that it creates a massive motivation to succeed to become eligible for the criteria.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007731"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007731" href="https://news.ycombinator.com/vote?id=44007731&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Many countries have quite strict limitations on immigration for work. Many countries do not permit any immigration without visa sponsorship. The U.S. permits sponsored immigration with a quite reasonable bar (e.g: H1B, L-1). Many countries have similar lottery systems, quotas and minimum salary requirements. Given the demand for immigration into the U.S., it's not too surprising to see the limits (and restrictions) be more prominent.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007562"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007562" href="https://news.ycombinator.com/vote?id=44007562&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Maybe for instant <i>green card</i> you have to be extraordinary, but for regular employment-based immigration you don’t have to be.</p><p>The path is H1-B -&gt; Green Card -&gt; US citizen (I have done it), and to get H1-B your potential employer gotta post that $60-80k/year job and show that there were no qualifying US applicants for it.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008438"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44008438" href="https://news.ycombinator.com/vote?id=44008438&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Not related, but to add some woes of the american immigration system.</p><p>There is no instant green card.</p><p>If a truly extraordinary Indian-born person (say a Nobel laureate or olympic gold medalist) files for a green card today, they will be waiting for 7-10 years to get a green card. At this point, it may be worse too, because this category's priority date has not moved a single day in 8 months.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007643"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007643" href="https://news.ycombinator.com/vote?id=44007643&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>&gt; You can move to France with a regular paying job no problem or just a few thousand euros in savings</p><p>Unless something has changed dramatically in the last decade this is patently false. Getting an EU work permit was historically very hard with employers having to demonstrate that a position can't be filled by an EU citizen before a non-EU citizen candidate can be considered.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007984"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007984" href="https://news.ycombinator.com/vote?id=44007984&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Indeed those are the rules but on a practical level it seems pretty simple to get a visa if the company had an even reasonably competitive process. Though I moved to Europe 12 years ago (and went through getting work permits twice), maybe it's gotten harder.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007738"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007738" href="https://news.ycombinator.com/vote?id=44007738&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I am not a lawyer, but my understanding is the extraordinary ability does not have to germane to your employment. I am aware of the the story of Gabby Franco - who appeared on a season of Top Shot years ago. She was on the Venezuela Olympic pistol team for the 2000 Summer Olympics in Australia. This status as an Olympian got her entry into the USA and eventually citizenship. <a href="https://en.wikipedia.org/wiki/Mar%C3%ADa_Gabriela_Franco" rel="nofollow">https://en.wikipedia.org/wiki/Mar%C3%ADa_Gabriela_Franco</a></p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007484"><td></td></tr>
                        <tr id="44008227"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008227" href="https://news.ycombinator.com/vote?id=44008227&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>What do you think about Nexus... Do you think Nexus holders enjoy the best of both worlds, less hassle at the border, 2 citizenships for 1 type of thing (but not really) as long as you don't have criminal charges?</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007358"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007358" href="https://news.ycombinator.com/vote?id=44007358&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hey Peter! I'm going to pose a question that I think is tangential, but still related.</p><p>With genAI and LLMs making way into every profession, how much of an impact have you seen on the immigration law side? Have these style of tools made your job easier, or are they adding more confusion and uncertainty?</p><p>Given the rapidly changing landscape (on the immigration side; what is valid today may not be valid tomorrow, and everything seems kind of up to the best guess of the practitioner) do you see these tools (potentially) causing more harm than good (to specific individual cases)?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008267"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008267" href="https://news.ycombinator.com/vote?id=44008267&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm probably the last person to provide advice about technology but AI is helping immigration attorneys significantly, primarily in the drafting of arguments. That being said, there's still a critical role to be played by immigration attorneys to determine the best strategy, to provide advice on travel and other issues, and ultimately to review and edit anything that is "drafted" by AI.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44008260"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008260" href="https://news.ycombinator.com/vote?id=44008260&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hello! I do have concerns relating to the U.S. so I will put my questions out there.
I know somebody who is a U.S. citizen, however they are originally from Perú. They have official citizenship meaning they went through the whole process and gotten those documents.</p><p>Are they at risk of losing their citizenship and being deported with the current administration's standing on immigration?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006678"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006678" href="https://news.ycombinator.com/vote?id=44006678&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Maybe a dumb question, but... I'm a Canadian who would qualify for a TN visa if I worked in the States, but don't currently have a visa or green card. On the online submission form for job openings, it always asks "Are you legally entitled to work in the US?". Am I meant to answer yes or no to that?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006850"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006850" href="https://news.ycombinator.com/vote?id=44006850&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Not a lawyer but have been working in the US on a TN status for multiple employers and I would answer yes and discuss further with the recruiter or hiring manager.</p><p>TN status is conceivably something you could get without help from the employer (though even the smallest startup hired one to help me set up a package). What you need is basically proof that a company wants to hire you (offer letter), evidence that the company exists, and proof that you fall in one of the TN occupations.</p></div></td></tr>
        </tbody></table></td></tr>
                      <tr id="44007530"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007530" href="https://news.ycombinator.com/vote?id=44007530&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Unfortunately, the correct answer is No because until you have the TN, you are not legally entitled to work in the U.S.  Of course, this means that you will be excluded automatically for consideration of certain jobs.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007411"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007411" href="https://news.ycombinator.com/vote?id=44007411&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Also not a lawyer, but wanted to second what jsbg said.</p><p>I've been through this process <i>many</i> times, and I would always say yes and then mention with the recruiter (even if I had to explain that the process was basically "asking politely for permission at the border").</p><p>The underlying question that employers really care about is "will you be legally allowed to accept a job offer without unexpected expenses or delays". Even if you file through USCIS (and not petition at the point of entry), you can (should) have an answer in 14 days and ~2k in fees, which is 1) a drop in the bucket for any hiring budget, and 2) not impactful to a hiring timeline.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44006668"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006668" href="https://news.ycombinator.com/vote?id=44006668&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for this Peter!</p><p>I am on an L1-B and part way through the green card process via PERM Labour Cert (application was submitted in Jan)</p><p>What are my options if I was laid off/company went under/perm cert rejected?</p><p>How long are the Perm labor cert applications you are doing taking (from start till the green card being issued)?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006749"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006749" href="https://news.ycombinator.com/vote?id=44006749&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Unfortunately, if you get laid off while in L-1B status before you are able to file an I-485 application, which is the last step in the green card process, you would need get no benefit from the PERM/green card process and would need to take an action within 60 days of the end of your employment to be able to remain in the U.S., by filing some type of application with USCIS. PERM processing is still really slow, over a year, but I'm seeing some indications that this might improve.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007085"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007085" href="https://news.ycombinator.com/vote?id=44007085&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>&gt;before you are able to file an I-485 application</p><p>qq and i'm double checking what my own immigration lawyer has already told me just because i'm nervous on this point. Is filing the i-485 the point at which you can stay?</p><p>I've filed an i-485 via US spouse and waiting to hear back but the 60day period is looming and obviously nervous on this point.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008281"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44008281" href="https://news.ycombinator.com/vote?id=44008281&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The filing of your I-485 application allows you to stay and still marriage-based green card applications are being approved quickly.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44008112"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008112" href="https://news.ycombinator.com/vote?id=44008112&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi Peter!</p><p>Given YC asks founders to apply for a batch just a few weeks (or months) before each batch starts, I am wondering if you run into issues with timing. Do you see issues with visa delays etc, that can cause founders to miss their batch?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008218"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008218" href="https://news.ycombinator.com/vote?id=44008218&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Most consulates are willing to schedule expedited appointments for YC founders but still if you are an applicant for an accelerator and don't have a B-1 visa and are not from a visa waiver/ESTA country, then at a minimum, you should book a visa application appointment now.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008401"><td></td></tr>
                        <tr id="44006939"><td></td></tr>
                <tr id="44007439"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007439" href="https://news.ycombinator.com/vote?id=44007439&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>See the ACLU guidance referenced in a previous comment.  There's no right to counsel during routine admission.  The right only arises when arrested or being investigated for a crime.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007616"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007616" href="https://news.ycombinator.com/vote?id=44007616&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hey Peter,</p><p>Currently living in the US, I applied for a green card via marriage (partner is GC holder) in March 2023. I received my AP and EAD over a year ago, but there has been zero movement on the I-485..</p><p>What are the options here?</p><p>Given the current political climate, I'm not comfortable leaving the US until I have the I-485. Is this fear warranted? Would really like to travel overseas, but don't want to end up getting detained on re-entry..</p><p>I understand the above is specific to my case, but perhaps you can answer in a general sense for anyone else who finds themselves in a similar position..</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008322"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008322" href="https://news.ycombinator.com/vote?id=44008322&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Without knowing all the facts, the delay probably is simply the result in the backlog in that green card category. Is your spouse eligible to become a U.S. citizen because this could speed up the process for you. Again without knowing all the facts, regarding travel, you are fine to travel; just carry your passport, advance parole, and marriage certificate (in your back pocket).</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008458"><td></td></tr>
                        <tr id="44007822"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007822" href="https://news.ycombinator.com/vote?id=44007822&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Have a friend who quit his job and overstayed his TN visa during The Pandemic. After going back to Canada for visiting family, his next visit to the US was denied at CBP, and he was given a 10 year entry ban with option to appeal at a facility across the river from Buffalo, NY. What are his options? Is this situation fixable with a new work visa?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008297"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008297" href="https://news.ycombinator.com/vote?id=44008297&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>A work visa/status won't help.  He has to deal with the overstay issue first, which he should be able to fix since presumably his overstay happened because he was unable to travel/depart before his status expired.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007138"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007138" href="https://news.ycombinator.com/vote?id=44007138&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Are O1 visa applications getting significantly more scrutiny nowadays?</p><p>I comfortably qualify for one, based on the USCIS criteria, but my employer (big tech company, big law firm for immigration) wants to wait one more year for another H1B attempt before trying this.</p><p>Hence I am wondering if switching jobs could potentially help here.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007842"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007842" href="https://news.ycombinator.com/vote?id=44007842&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>O1 is an inferior visa, so they are right that you should be trying for H1B before going for an O1. I'm assuming that you are on OPT or some other visa category. There is likely no advantage to getting an O1 in your current situation.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008443"><td></td></tr>
                  <tr id="44007397"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007397" href="https://news.ycombinator.com/vote?id=44007397&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Big tech is risk averse and avoids pursuing O-1s unless there's no other option and the candidate/employee is highly valued. But I haven't seen any change yet in the adjudication of O-1 petitions. Nearly all our O-1 petitions still get approved and when we receive a Request for Additional Evidence (or RFE), the issues raised are the same issues that were raised before January 2025.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008444"><td></td></tr>
            <tr id="44007913"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007913" href="https://news.ycombinator.com/vote?id=44007913&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Is it true that most big tech companies and possibly the startups you work with strongly prefer H-1B transfers over candidates who might have held an H-1B in the past (with an approved I-140), but are currently on a B-2? In your experience/opinion, is such a situation disadvantageous to the candidate's competitiveness in attaining employment at these coveted companies?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44007727"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007727" href="https://news.ycombinator.com/vote?id=44007727&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hi Peter, thanks for the AMA.</p><p>I'm curious what gaps you see in firm operation software?</p><p>I work in legal tech and from what I've seen all of the software focuses on tasks and artifacts (e.g. the many AI letter drafters) as opposed to holistically understanding / optimizing business operation.</p><p>Does this fit your sense of the software landscape? Are there other opportunities here beyond case management etc?</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007579"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007579" href="https://news.ycombinator.com/vote?id=44007579&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter - I'm on H1-B and not eligible for EB-1/2 or O-1. I filed for EB-5 through an RC and just got my EAD and I want to use that to start a startup in the US. If the underlying EB-5 petition is rejected after the startup is established, do you know if there is a path to re-sponsoring my H1-B through my own startup? I'm trying to understand whether I should wait for a proper green card before going down the startup route.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008214"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008214" href="https://news.ycombinator.com/vote?id=44008214&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hello! I do have concerns relating to the U.S. so I will put my questions out there.</p><p>I know somebody who is a U.S. citizen, however they are originally from Perú.
They have official citizenship meaning they went through the whole process and gotten those documents.</p><p>Are they at risk of losing their citizenship and being deported with the current administration standing on immigration?</p><p>And a separate question<i>(You don't have to answer this, but I will ask it however)</i></p><p>Is this anything I can do about this? I'm not willing to see myself worse off in 4 years after this situation.</p><p>And I want to do something about it, I'm aware you are just an attorney; but I haven't been able to find an answer nor think of an answer to what I could do; but I really want to do something about this, so what could I do?</p><p>However, thanks again for doing this AMA.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006739"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006739" href="https://news.ycombinator.com/vote?id=44006739&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter! Thank you for this!! A while back, ~10 months, I was rejected from a B1 visa in the US. However, I have now secured admission from Stanford and would need to apply for an F1 visa.
What can I do to make my case strong and ensure that the previous visa application does not affect my current F1 process?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007509"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007509" href="https://news.ycombinator.com/vote?id=44007509&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Unless there was a finding of fraud or misrepresentation, the previous denial shouldn't impact your F-1 visa application; the requirements/standards are different. That being said, because so much is at stake for you, I would recommend that you get an attorney involved. It should just involve one or two consultations so the cost shouldn't be much.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008359"><td></td></tr>
                        <tr id="44007467"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007467" href="https://news.ycombinator.com/vote?id=44007467&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hey Peter.</p><p>I'm currently under a O-1 visa and doing my GC application. I believe I'm the final stage, waiting for my date to be current in order to get an appointment at the embassy. I also started a new business on the side and applied to YC.</p><p>If I got into YC and/or raised fund for my company. Could I use that has a way to expedite the process for the GC appointment? Or should I start a new visa and then a new GC application?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008367"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008367" href="https://news.ycombinator.com/vote?id=44008367&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The details matter (the type of green card application, the green card category, the position held then, the new position, etc.) so it's impossible for me to comment. You should schedule a consultation with an immigration attorney.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44006763"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006763" href="https://news.ycombinator.com/vote?id=44006763&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Do L1B visa holders have reasonable chance of getting compelling circumstances EAD if their visa date isn't current for EB-3? I'm wondering if I should suggest that option for HR when they file the I-140 (or after if it's approved, whatever the process is).</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007452"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007452" href="https://news.ycombinator.com/vote?id=44007452&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>USCIS rarely issues I-140 EADs based on compelling circumstances unless there are government/national interests at stake or significant humanitarian issues.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007686"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007686" href="https://news.ycombinator.com/vote?id=44007686&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Okay, thanks. I was primarily wondering due to "Significant Disruption to the Employer" seems to be one of the possible categories and it's description sounded similar to reasons why one would get L1B visa.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44006562"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006562" href="https://news.ycombinator.com/vote?id=44006562&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Are the current policies in the US making it noticeably more difficult for you to secure work visas for your clients?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006618"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006618" href="https://news.ycombinator.com/vote?id=44006618&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Not yet. The main changes that we're seeing are with CBP at the ports of entry.  CBP is being much more aggressive in questioning those seeking admission, including searching electronic devices and even detaining applicants.  But nearly all our filings are still getting approved.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007829"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007829" href="https://news.ycombinator.com/vote?id=44007829&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I've been through customs all over the world for the past forty years, and US customs are some of the worst human beings I've ever encountered.  Why is that function such a shit show?</p><p>Very familiar with the need for LEO dumping grounds, especially at the federal level, so that's been my working assumption but I've never asked.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008194"><td></td></tr>
            <tr id="44007938"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007938" href="https://news.ycombinator.com/vote?id=44007938&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Because it can be, and nearly every administration has a ‘tough on illegal immigration’ stance - because the US is so desirable to go to.</p><p>A good Great Depression economic reset + insane facist government will reset that a little - but it will still be better than a huge number of places on the globe. Even if the gov’t targets immigrants.</p><p>A huge number of places with massive populations of people who would love to come over.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008184"><td></td></tr>
                <tr id="44008292"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_44008292" href="https://news.ycombinator.com/vote?id=44008292&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>No, that the market demand (relative to supply) favors shittiness and extractive brutality over positivity.</p><p>They are quite competent at their <i>actual</i> jobs, which aren’t the jobs you think they are.</p><p>Think DMV. Or your favorite shitty cable company ISP.</p></div></td></tr>
        </tbody></table></td></tr>
                                          <tr id="44007729"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007729" href="https://news.ycombinator.com/vote?id=44007729&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hello, I'm currently on an H1B waiting on my priority date (I'm Canadian but born in China), my H1B hits the 6 year mark next year. My wife is currently on a TN which expires next year.</p><p>Should she switch to H4 EAD under my H1B instead of renewing her TN?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008387"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008387" href="https://news.ycombinator.com/vote?id=44008387&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>She has not filed a green card application so she probably won't have an issue renewing her TN but if CBP or USCIS connects her to you, questions might be raised about her intent which could undermine her ability to renew her TN.  So, yes, an H-4 EAD would be safer (unless the current administration kills this benefit).</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007875"><td></td></tr>
                <tr id="44008008"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008008" href="https://news.ycombinator.com/vote?id=44008008&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Your comment is about coming for work or study, yet you linked to a story of someone who clearly abused/misused a tourist visa and got caught.  It was an egregious enough offense that the Canadian immigration officials wouldn't even let her enter Canada under the same pretense, which is what eventually led to her arrest.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008244"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44008244" href="https://news.ycombinator.com/vote?id=44008244&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>She literally came to coach surf and house sit.</p><p>The woman is effectively a British nanny who did chores for friends. She doesn't look like a threat to anyone.</p><p>Maybe your afraid of British nannies baking pies and changing litter boxes, I'm not.</p><p>Anyway, the proper solution at most is a life time ban and the first flight home.Not indefinite detention.</p><p>To be burnt, this is a white woman who natively speaks English. If she's having a hard time, it doesn't bold well for anyone else.</p><p>Numerous other examples exist, in most of these cases people either didn't do anything wrong or it's something that could have been rectified with a quick flight home.</p><p><a href="https://www.nytimes.com/2025/03/13/world/europe/german-tourists-detained-deported.html" rel="nofollow">https://www.nytimes.com/2025/03/13/world/europe/german-touri...</a></p><p>Come to America, spend your money. And if you watch a friend's pets for a few days expect some good ole indefinite detention!</p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44006693"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006693" href="https://news.ycombinator.com/vote?id=44006693&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Thanks for the AMA.</p><p>Recent change to H1B allow organizations that conduct research "as a fundamental activity" to be eligible for cap exemption status. Can you kindly share your opinion on this?</p><p>Do the startups you work with fit this criteria?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007485"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007485" href="https://news.ycombinator.com/vote?id=44007485&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I don't think this has really expanded the organizations that qualify legally for cap exempt status (we essentially argued this before) but rather signifies a greater openness/flexibility on the part of USCIS to approve organizations as cap exempt organizations. Query, however, whether this openness/flexibility will continue.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44006863"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006863" href="https://news.ycombinator.com/vote?id=44006863&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>I am currently a dutch citizen. I'm also a founder of a startup that has raised around 2.5 million USD. The company is delaware based.</p><p>What is the best option i have? Is E2 an option?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007572"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007572" href="https://news.ycombinator.com/vote?id=44007572&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>An E-2 would require some investment ($100k+) but Dutch citizens or Dutch-owned VCs but if this investment exists, then an E-2 could be a very good option. The other option would be the O-1 and as a founder of company that has had a good round of seed funding, you might qualify.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008417"><td></td></tr>
                        <tr id="44007993"><td></td></tr>
            <tr id="44007226"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007226" href="https://news.ycombinator.com/vote?id=44007226&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Would you recommend travel for GC holders in these coming months? How likely is that travel ban.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008423"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008423" href="https://news.ycombinator.com/vote?id=44008423&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If there is a travel ban, then the specifics of the ban will matter (countries impacted, whether LPRs and citizens are exempt, etc.) but absent a travel ban, I still think it's fine to travel. Just be prepared to have your devices searched and your political views questioned.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008382"><td></td></tr>
                  <tr id="44008230"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008230" href="https://news.ycombinator.com/vote?id=44008230&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter, I was checking my I-94 recently, and noticed that my travel history is missing one trip, an arrival. Basically, it lists two departures in row, couple months apart. Does it matter? and is there any way to fix it?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008343"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008343" href="https://news.ycombinator.com/vote?id=44008343&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>It doesn't matter unless it matters, which it doesn't appear to; the issue in an I-94 history is when a timely departure isn't recorded, not an arrival.  There's also no effective way to fix this error.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007481"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007481" href="https://news.ycombinator.com/vote?id=44007481&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter, thank you for this AMA.
I've been a green card holder for 1 year as the result of working for big tech in the US, originally via getting a L1-B 3.5 years ago. I'm planning on moving back to my home country in Europe permanently. Is there any way I can keep my green card or at least keep it for longer in case I start a startup in Europe and want to also have a US presence? I'm a Portuguese citizen.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007931"><td></td></tr>
                <tr id="44008463"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008463" href="https://news.ycombinator.com/vote?id=44008463&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Education is irrelevant.  A PhD in and of itself doesn't help but it usually means that the individual has published, engaged in original research/work, etc. but someone can have published, engaged in original research/work, etc. without a PhD or any degree.  So it's about what the individual has done, not his or her education. That being said, there's no question that USCIS's view of an O-1 petition is colored by the applicant's education and there's sort of a presumption that someone with a PhD qualifies for an O-1.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44008276"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008276" href="https://news.ycombinator.com/vote?id=44008276&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>It's doable but you need a lot, and I mean a lot of documentation proving that you are indeed an alien with extraordinary ability. Any press mentions of you and your company, articles, proof that you're working with known companies in the US and more evidence like that will increase your chance.</p><p>In fact I worked with Peter on obtaining an O1 while not having a degree, I was a CTO of a startup, moving from the UK.</p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44008315"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44008315" href="https://news.ycombinator.com/vote?id=44008315&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>As a practitioner do you feel that it was a waste of time to have studied the law? As you say, it is "rapidly changing", meaning the jurisprudence may not have been as majestic as students were led to believe.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008402"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44008402" href="https://news.ycombinator.com/vote?id=44008402&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>The main thing you learn in law school is not the substantive law but how to analyze facts and issues and to understand the law and its application to specific facts.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007619"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007619" href="https://news.ycombinator.com/vote?id=44007619&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi. Practically, do I need to be an oficially employee for my employer to file H1B, or contractor is ok?</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007739"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007739" href="https://news.ycombinator.com/vote?id=44007739&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Hi Peter - why are international students on F-1 visa (not on OPT) being strongly recommended to not travel outside the US now? Is there a possible denial at the port of entry when returning? I for one am a F-1 student looking to travel to an academic conference abroad, but being advised to reconsider and stay back in the US by my DSO. I'm in the middle of my program, and my I-20 and visa are valid for another 3 years.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006949"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006949" href="https://news.ycombinator.com/vote?id=44006949&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>How common is it for pre-Series A startups to sponsor H1Bs? What's the process like for EB2 on the PERM route, and how difficult is it to be successful in that process?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007556"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007556" href="https://news.ycombinator.com/vote?id=44007556&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>No issues whatsoever with respect to H-1B sponsorship but potential issues with respect to green card applications, particularly PERM-based applications because of the ability pay requirement and because of issues related to ownership/equity held by the employee.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007654"><td></td></tr>
                        <tr id="44006662"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006662" href="https://news.ycombinator.com/vote?id=44006662&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Does being "busted" by Customs (i.e. carrying some items that should be declared, but going, and being pulled of from "Nothing to declare" lane) affects admission to the US at all?</p><p>I was let go with just a warning for my "offense", but still the customs officer took my passport and make some note in the system. Should I expect secondary inspection next time I cross the border?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006702"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006702" href="https://news.ycombinator.com/vote?id=44006702&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yes, you probably will be pulled into secondary again but you should be able to get this cleared up in connection with future travel by filing a "complaint" with DHSTRIP. But you should only submit a complaint if and when it happens again; you shouldn't submit one preemptively now.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007604"><td></td></tr>
            <tr id="44006820"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006820" href="https://news.ycombinator.com/vote?id=44006820&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Were there any changes in requirements for O visa recently? Did they remove the job offer requirement?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007599"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007599" href="https://news.ycombinator.com/vote?id=44007599&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>What was quoted below is really just codifying what existed in practice, that is, founders/owners of companies getting sponsored by their own companies. To answer your question, a job offer/employment is still a requirement and I haven't seen any major changes yet in the adjudication of O-1 petitions.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44007104"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007104" href="https://news.ycombinator.com/vote?id=44007104&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm pretty sure the job offer requirement is still in effect, and will remain in effect, since the O is an employment-based visa. What made you think it had changed?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007341"><td></td></tr>
                        <tr id="44006644"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006644" href="https://news.ycombinator.com/vote?id=44006644&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Is asking about Recurse Center on-topic? I wanted to apply, but I genuinely don't consider it safe to travel to the US. As far as I can tell there is no comparable bootcamp-style retreat in EU :(</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007423"><td></td></tr>
                <tr id="44007882"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007882" href="https://news.ycombinator.com/vote?id=44007882&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>That is helpful to me! How did it work? I imagine a lot of RC interactions are kind of spontaneous, and I never understood how that would translate over the internet.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44006853"><td></td></tr>
                <tr id="44007017"><td></td></tr>
                        <tr id="44006557"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006557" href="https://news.ycombinator.com/vote?id=44006557&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm moving to the US on a K1 visa, is it possible to expedite an EAD on the basis of a job offer in an AI field?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006587"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006587" href="https://news.ycombinator.com/vote?id=44006587&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Expedites are available for all USCIS filings and while it's worth it to request it here, your reason isn't like to meet the expedite requirements, which are listed on the USCIS website.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007372"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44007372" href="https://news.ycombinator.com/vote?id=44007372&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Is the correct term "Expedites", or "Expeditions"? Legal terminology seems to break language rules... The term for some (plural) things being expedited would be expeditions, but it seems from your response that, in legal terms, this would be expedites. This doesn't sound right. No source I could find agrees with the term "Expedites" as "plural of expedite". It generally returns something on the lines of "A third-person singular simple present indicative form of the verb "expedite.""</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007621"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007621" href="https://news.ycombinator.com/vote?id=44007621&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Expedites as a noun like invites, arguably not grammatically correct but in common use so correct from a usage standpoint.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                              <tr id="44007607"><td></td></tr>
            <tr id="44006801"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006801" href="https://news.ycombinator.com/vote?id=44006801&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>hi Peter!</p><p>how long does 221(g) administrative processing take to complete in your experience? anything one can do besides waiting (Russian citizen working in tech, almost 1yr without adjustments)?</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007692"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007692" href="https://news.ycombinator.com/vote?id=44007692&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>This really depends on the reason for the 221(g) and the applicant's country of citizenship or birth. Unfortunately, for those from certain countries, such as Iran and Russia, it has not been uncommon for such applications to go into a black hole and take 1-2 years.  For those not from such countries, the process is relatively quick, from a couple of week to a couple of months.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                  <tr id="44007878"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007878" href="https://news.ycombinator.com/vote?id=44007878&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Good afternoon Mr. Roberts. I suspect a great deal of large Silicon Valley companies are engaged in H-1B fraud - i.e. they will post a phantom job ad with a foreigner already in mind for the role.</p><p>Can you place us in touch with any resources to seek relief from the courts for these hiring practices (H-1B Fraud)? Thank you</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006725"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006725" href="https://news.ycombinator.com/vote?id=44006725&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If you were an immigrant with legal status who lives in the US, would you feel OK traveling? What precautions would you take, what information would you memorize?</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007663"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007663" href="https://news.ycombinator.com/vote?id=44007663&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Yes. I still think that those with student or work visas or green cards should travel internationally.  It's just a question of being smart and carrying the right documents.  The right documents will vary depending on the status so I can't give a list but I'd recommend having a brief consultation with an attorney.  Many like myself won't charge for a 15-minute consultation, which is all that this should take.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007749"><td></td></tr>
                        <tr id="44006635"><td></td></tr>
                <tr id="44006777"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44006777" href="https://news.ycombinator.com/vote?id=44006777&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Don’t you have to be guilty of a crime to be sent down there?</p><p>For the vast majority of people who violate their visas, they simply get sent to their home country.  If you’re willing to remain in your home country out of fear of US policies, it’s very likely your home country would take you back and not disown you.</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44006828"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44006828" href="https://news.ycombinator.com/vote?id=44006828&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>While it’s not typical to be sent to CECOT in El Salvador, you don’t need to be “guilty” by the government’s position. They assert the right to send people down there based on allegations that have not been tested in any court.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007020"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44007020" href="https://news.ycombinator.com/vote?id=44007020&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If you come here legally and don't commit a crime, they won't send you down there. If you come here legally and commit a crime, you'll get sent back to your country of origin.  People being sent down there came here illegally.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007399"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44007399" href="https://news.ycombinator.com/vote?id=44007399&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If we discard rule of law and due process for anyone, it is threatened for <i>everyone</i>. They're defying courts, they're not following the law. This does not end well for anyone, at all. It is incredibly dangerous territory.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007507"><td><table>  <tbody><tr>    <td indent="5"><img src="https://news.ycombinator.com/s.gif" height="1" width="200"></td><td>
      <center><a id="up_44007507" href="https://news.ycombinator.com/vote?id=44007507&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>If you you are illegally in just about any country, being there without authorization is basis for deportation.  No one is being denied due process. Moreover, you can be denied entry at ports of entry to any country for any reason by customs officials -even with a valid visa.  They do not need to offer "due process."</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007779"><td><table>  <tbody><tr>    <td indent="6"><img src="https://news.ycombinator.com/s.gif" height="1" width="240"></td><td>
      <center><a id="up_44007779" href="https://news.ycombinator.com/vote?id=44007779&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Mr. Abrego Garcia was declared by a court to not be deportable to El Salvador, yet he was.</p><p>That is not due process.</p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44007595"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44007595" href="https://news.ycombinator.com/vote?id=44007595&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>This is false, both in terms of some of the people who have been sent there as well as the administration's direct stance on the matter.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                        <tr id="44006832"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44006832" href="https://news.ycombinator.com/vote?id=44006832&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>You can get sent there by your affiliation. You don’t have to necessarily commit a crime. And all the administration has to do is make an accident and send you to the wrong place.</p><p>The vast majority are being sent to nearby countries as well.</p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006836"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_44006836" href="https://news.ycombinator.com/vote?id=44006836&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>Lots of people being detained for extended periods of time at the Canada/US border. I wouldn’t be so optimistic unless your situation is bullet proof.</p>
              </div></td></tr>
        </tbody></table></td></tr>
            <tr id="44006835"><td></td></tr>
                <tr id="44006914"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_44006914" href="https://news.ycombinator.com/vote?id=44006914&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>And those guys are Salvadoran… right? Like if Mexico sends back a bunch of criminal gringos, what are we supposed to do, ask Mexico to incarcerate them for us?  No we take them and put them through our system of justice and send them to the pen.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007395"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_44007395" href="https://news.ycombinator.com/vote?id=44007395&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>One was a Venezuelan soccer player (Jerce Reyes Barrios) who was accused of being a a gang member because he had a tattoo ... inspired by his favorite soccer team.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007540"><td></td></tr>
                                          <tr id="44006765"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44006765" href="https://news.ycombinator.com/vote?id=44006765&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Hey Peter,</p><p>On average, min and max - how many H1Bs do a Seed/Series A,B startups have?</p><p>From your experience.</p><p>Thank you for your time, Naren</p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="44007702"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_44007702" href="https://news.ycombinator.com/vote?id=44007702&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div>
                  <p>I'm not sure I understand what you are asking. Do you mean the average per startup or the total number?  All I can say is that startups usually can sponsor H-1Bs without issue.</p>
              </div></td></tr>
        </tbody></table></td></tr>
                <tr id="44008414"><td></td></tr>
                        <tr id="44007999"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_44007999" href="https://news.ycombinator.com/vote?id=44007999&amp;how=up&amp;goto=item%3Fid%3D44006381"></a></center>    </td><td><br><div><p>Once DJT is out of office, what are the complexities in revoking his citizenship and deporting him back to Ireland or El Salvador?</p><p>Why the US taxpayers should foot his upkeep bill? Given his disruptions, crimes, and corruption, I and many others, do not see him fit to continue living here. He's a constant drain on the resources of this beautiful country - have always taken and never given back anything!!</p></div></td></tr>
        </tbody></table></td></tr>
            </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Research Preview of Codex (420 pts)]]></title>
            <link>https://openai.com/index/introducing-codex/</link>
            <guid>44006345</guid>
            <pubDate>Fri, 16 May 2025 15:02:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://openai.com/index/introducing-codex/">https://openai.com/index/introducing-codex/</a>, See on <a href="https://news.ycombinator.com/item?id=44006345">Hacker News</a></p>
Couldn't get https://openai.com/index/introducing-codex/: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Visual flow-based programming for Erlang, inspired by Node-RED (215 pts)]]></title>
            <link>https://github.com/gorenje/erlang-red</link>
            <guid>44006231</guid>
            <pubDate>Fri, 16 May 2025 14:54:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/gorenje/erlang-red">https://github.com/gorenje/erlang-red</a>, See on <a href="https://news.ycombinator.com/item?id=44006231">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">Erlang-RED - A Node-RED backend coded in Erlang</h2><a id="user-content-erlang-red---a-node-red-backend-coded-in-erlang" aria-label="Permalink: Erlang-RED - A Node-RED backend coded in Erlang" href="#erlang-red---a-node-red-backend-coded-in-erlang"></a></p>
<p dir="auto">An experiment to replace Node-REDs existing NodeJS backend with an Erlang equivalent that is 100% compatible[1] to existing flow code.</p>
<p dir="auto">The goal is bring the advantages of low-code visual flow-based programming to a programming language that is designed for message passing and concurrency from the ground up, hence Erlang.</p>
<p dir="auto">[1] = 100% won't be possible since function nodes that are coded in Javascript aren't supported (or aren't intended to be supported - unless someone has a workaround)</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Why?</h2><a id="user-content-why" aria-label="Permalink: Why?" href="#why"></a></p>
<p dir="auto"><a href="https://nodered.org/" rel="nofollow">Node-RED</a> is a amazing[*] tool for creating flows that describe concurrent processing, it is just a shame the NodeJS is single threaded. So why not use something that is multi-process from the ground up? Concurrency is guaranteed and included.</p>
<p dir="auto">Also Erlang isn't the most understandable of programming language - unless one has fallen into in a <a href="https://en.wikipedia.org/wiki/Obelix" rel="nofollow">cauldron</a> of Prolog, spiced with Lisp.</p>
<p dir="auto">So won't it be great to have the simplicity of low-code visual flow based programming and the performance (and concurrency) of Erlang?</p>
<p dir="auto">[*] = amazing in the sense of <em>extendability</em> (Nodes can easily be added and developed by third parties), <em>understandability</em> (Node-RED <a href="https://blog.openmindmap.org/blog/pipes-wires-nodes" rel="nofollow">terminology</a> is straightforward) and <em>usability</em> (once a rectangle becomes a unit of computation and a line becomes a pathway for data flow)</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Development Strategy</h2><a id="user-content-development-strategy" aria-label="Permalink: Development Strategy" href="#development-strategy"></a></p>
<p dir="auto">My development process is best described as <a href="https://github.com/gorenje/erlang-red/blob/main/DevelopmentStrategy.md">flow driven development</a> based around a set of <a href="https://github.com/gorenje/erlang-red/blob/main/prive/testflows">test flows</a> to ensure that node functionality is implemented correctly - meaning that it matches the existing Node-RED functionality.</p>
<p dir="auto">Test flows are mirrored in a separate <a href="https://github.com/gorenje/erlang-red-flow-testsuite">repository</a> for better maintainability and also integration with existing Node-RED installations.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Architecture</h2><a id="user-content-architecture" aria-label="Permalink: Architecture" href="#architecture"></a></p>
<p dir="auto">The architecture, along with a background to Flow Based Programming and Node-RED has been <a href="https://github.com/gorenje/erlang-red/blob/main/Architecture.md">written</a>.</p>
<p dir="auto">The codebase as it stands, has many interdependence because of testing flows: <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/nodes/ered_node_assert_status.erl#L109-L131">assert nodes</a> need to know about <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/servers/ered_ws_event_exchange.erl">web-socket communication</a>, or because of the nature of nodes: the <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/nodes/ered_node_complete.erl#L74-L89">complete</a> node needs to know of <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/exchanges/ered_message_exchange.erl#L36-L39">completed messages</a>.</p>
<p dir="auto">While the <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/nodes/ered_node_catch.erl#L40">exception node</a> needs to know about exceptions when they <a href="https://github.com/gorenje/erlang-red/blob/e2bd2f324ddc1bbe611dff29216246b80151ffc0/src/exchanges/ered_message_exchange.erl#L46-L56">happen</a>.</p>
<p dir="auto">An architectural diagram of this interconnectedness would be probably be just as confusing as the code itself.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Supported Nodes &amp; Features</h2><a id="user-content-supported-nodes--features" aria-label="Permalink: Supported Nodes &amp; Features" href="#supported-nodes--features"></a></p>
<p dir="auto">This is a non-complete list of nodes that partially or completely work:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Node</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_catch.erl">catch</a></td>
<td>catches exception of selected nodes and of entire flows but not groups</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_change.erl">change</a></td>
<td>supports many operators but not all. JSONata in basic form is also supported.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_complete.erl">complete</a></td>
<td>is available and can be used on certain nodes, not all</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_debug.erl">debug</a></td>
<td>only debugs the entire message, individal msg properties aren't supported. msg count as status is supported.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_delay.erl">delay</a></td>
<td>supported static delay not dynamic delay set via <code>msg.delay</code></td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_exec.erl">exec</a></td>
<td>executing and killing commands is supported  but only for commands in spawn mode and set on the node. Appending arguments to commands isn't supported. Timeouts are supported. Kill messages are also supported.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_file_in.erl">file in</a></td>
<td>working for files located in <code>/priv</code></td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_function.erl">function</a></td>
<td>working for any Erlang. Stop and start also respected. Timeout and more than one output port isn't supported.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_http_in.erl">http in</a></td>
<td>working for GET and POST, not available for PUT,DELETE etc</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_http_request.erl">http request</a></td>
<td>basic support for doing rrequests, anything complex probably won't work</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_http_response.erl">http response</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_inject.erl">inject</a></td>
<td>working for most types except for flow, global ...</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_join.erl">join</a></td>
<td><em>manual arrays of count X</em> is working, <code>parts</code> isn't supported</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_json.erl">json</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_junction.erl">junction</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_link_call.erl">link call</a></td>
<td>working - dynamic calls also</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_link_in.erl">link in</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_link_out.erl">link out</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_markdown.erl">markdown</a></td>
<td>working and supports whatever <a href="https://github.com/pragdave/earmark">earmark</a> supports.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_mqtt_in.erl">mqtt in</a></td>
<td>should be working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_mqtt_out.erl">mqtt out</a></td>
<td>should be working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_noop.erl">noop</a></td>
<td>doing nothing is very much supported</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_split.erl">split</a></td>
<td>splitting arrays into individual messages is supported, string, buffers and objects aren't.</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_status.erl">status</a></td>
<td>working</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_switch.erl">switch</a></td>
<td>most operators work along with basic JSONata expressions</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_template.erl">template</a></td>
<td>mustache templating is working but parsing into JSON or YAML isn't supported</td>
</tr>
<tr>
<td><a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes/ered_node_trigger.erl">trigger</a></td>
<td>the default settings should work</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<ul dir="auto">
<li>
<p dir="auto">Contexts are <strong>not supported</strong>, so there is no setting things on <code>flow</code>, <code>node</code> or <code>global</code>.</p>
</li>
<li>
<p dir="auto"><a href="https://jsonata.org/" rel="nofollow">JSONata</a> has been <strong>partially implemented</strong> by the <a href="https://github.com/gorenje/erlang-red/blob/main/src/jsonata_parser.yrl">jsonata parser</a>. Most functionality isn't supported but can be <a href="https://github.com/gorenje/erlang-red/blob/main/src/jsonata/jsonata_evaluator.erl">added to the evaluator</a>.</p>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Elixir &amp; Erlang-RED</h2><a id="user-content-elixir--erlang-red" aria-label="Permalink: Elixir &amp; Erlang-RED" href="#elixir--erlang-red"></a></p>
<p dir="auto">Elixir helpers can be added to <a href="https://github.com/gorenje/erlang-red-elixir-helpers">erlang-red-elixir-helpers</a> repository.</p>
<p dir="auto">There is nothing stopping anyone from creating a complete node in Elixir provided there is a Erlang "node-wrapper", i.e., a bit of Erlang code in the <a href="https://github.com/gorenje/erlang-red/blob/main/src/nodes">src/nodes</a> directory that references the Elixir node.</p>
<p dir="auto">The initial example <a href="https://github.com/gorenje/erlang-red/blob/42f10112baac5a5f916ecd805eafc87382632dec/src/nodes/ered_node_markdown.erl#L38">markdown node</a> is an Erlang node that references Elixir code. I also wrote an Elixir wrapper function whereby I could have just as easily referenced Earmark directly from the Erlang code. That was a stylist choice.</p>
<p dir="auto">I intend to use Elixir code for importing Elixir libraries to the project and less coding nodes in Elixir. I simply prefer Erlang syntax. But each to their own :)</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Build</h2><a id="user-content-build" aria-label="Permalink: Build" href="#build"></a></p>
<div data-snippet-clipboard-copy-content="$ rebar3 get-deps &amp;&amp; rebar3 compile"><pre><code>$ rebar3 get-deps &amp;&amp; rebar3 compile
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Test</h2><a id="user-content-test" aria-label="Permalink: Test" href="#test"></a></p>

<p dir="auto"><h2 tabindex="-1" dir="auto">Development</h2><a id="user-content-development" aria-label="Permalink: Development" href="#development"></a></p>
<div data-snippet-clipboard-copy-content="$ rebar3 shell --apps erlang_red"><pre><code>$ rebar3 shell --apps erlang_red
</code></pre></div>
<p dir="auto">Open the Node-RED visual flow editor in a browser:</p>
<div data-snippet-clipboard-copy-content="$ open -a Firefox http://localhost:9090/node-red"><pre><code>$ open -a Firefox http://localhost:9090/node-red
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Docker</h2><a id="user-content-docker" aria-label="Permalink: Docker" href="#docker"></a></p>
<p dir="auto">I use docker to develop this so for me, the following works:</p>
<div data-snippet-clipboard-copy-content="prompt$ git clone git@github.com:gorenje/erlang-red.git
prompt$ cd erlang-red
prompt$ docker run -it -v $(pwd)/erlang-red:/code -p 9090:8080 -w /code --rm erlang bash
docker> rebar3 shell --apps erlang_red"><pre><code>prompt$ git clone git@github.com:gorenje/erlang-red.git
prompt$ cd erlang-red
prompt$ docker run -it -v $(pwd)/erlang-red:/code -p 9090:8080 -w /code --rm erlang bash
docker&gt; rebar3 shell --apps erlang_red
</code></pre></div>
<p dir="auto">Then from the docker host machine, open a browser:</p>
<div data-snippet-clipboard-copy-content="prompt$ open -a Firefox http://localhost:9090/node-red"><pre><code>prompt$ open -a Firefox http://localhost:9090/node-red
</code></pre></div>
<p dir="auto">That should display the Node-RED visual editor.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Release</h2><a id="user-content-release" aria-label="Permalink: Release" href="#release"></a></p>
<p dir="auto">A <a href="https://github.com/gorenje/erlang-red/blob/3cf3b6a33b59a808ffc865b008c8ee47a4437412/rebar.config#L35-L60">release</a> can be bundled together:</p>
<div data-snippet-clipboard-copy-content="$ rebar3 as prod release -n erlang_red"><pre><code>$ rebar3 as prod release -n erlang_red
</code></pre></div>
<p dir="auto">All static frontend code (for the Node-RED flow editor) and the test flow files in <code>priv/testflows</code> are bundled into the release.</p>
<p dir="auto">Cowboy server will started on port 8080 unless the <code>PORT</code> env variable is set.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Fly.io Deployment</h2><a id="user-content-flyio-deployment" aria-label="Permalink: Fly.io Deployment" href="#flyio-deployment"></a></p>
<p dir="auto">A sample Dockerfile <code>Dockerfile.fly</code> is provided to allow for easy launching of an instance as a fly application.
The provided shell script (<code>fly_er.sh</code>) sets some common expected parameters for the launch.
Advanced users may wish to examine the <code>fly launch</code> line therein and adjust for their requirements.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Heroku Deployment</h2><a id="user-content-heroku-deployment" aria-label="Permalink: Heroku Deployment" href="#heroku-deployment"></a></p>
<p dir="auto">Using the container stack at heroku, deployment becomes a <code>git push heroku</code> after the usual heroku setup:</p>
<ul dir="auto">
<li><code>heroku login</code> --&gt; <code>heroku git:remote -a &lt;app name&gt;</code> --&gt; <code>heroku stack:set container</code> --&gt; <code>git push heroku</code></li>
</ul>
<p dir="auto">However the <a href="https://github.com/gorenje/erlang-red/blob/main/Dockerfile.heroku">Dockerfile.heroku</a> does not start the flow editor, the image is designed to run a set of flows, in this case (at time of writing) a simple website with a single page.</p>
<p dir="auto">Basically this <a href="https://github.com/gorenje/erlang-red/blob/main/priv/testflows/flow.499288ab4007ac6a.json">flow</a> is the <a href="https://red-erik.org/" rel="nofollow">red-erik.org</a> site.</p>
<p dir="auto">The image does this by setting the following ENV variables:</p>
<ul dir="auto">
<li><code>COMPUTEFLOW</code>=<code>499288ab4007ac6a</code> - flow to be used. This can also be a comma separated list of flows that are all started.</li>
<li><code>DISABLE_FLOWEDITOR</code>=<code>YES</code> - any value will do, if set the flow editor is disabled.</li>
</ul>
<p dir="auto">Also be aware that Erlang-RED supports a <code>PORT</code> env variable to specifying the port upon which Cowboy will listen on for connections. The default is 8080.</p>
<p dir="auto">Heroku uses this to specify the port to connect for a docker image so that its load balancer can get it right.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Example</h2><a id="user-content-example" aria-label="Permalink: Example" href="#example"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gorenje/erlang-red/blob/main/.images/erlang-red.gif"><img src="https://github.com/gorenje/erlang-red/raw/main/.images/erlang-red.gif" alt="img" data-animated-image=""></a></p>
<p dir="auto">What the gif shows is executing a <a href="https://flowhub.org/f/ea246f68766c8630" rel="nofollow">simple flow</a> using Erlang as a backend. The flow demonstrates the difference in the switch node of 'check all' or 'stop at first match'.</p>
<p dir="auto">All nodes are are processes- that is shown on the left in the terminal window.</p>
<p dir="auto">This example is extremely trivial but it does lay the groundwork for expansion.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Testing</h2><a id="user-content-testing" aria-label="Permalink: Testing" href="#testing"></a></p>
<p dir="auto">To create unit tests for this, Node-RED frontend has been extended with a
"Create Test Case" button on the export dialog:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gorenje/erlang-red/blob/main/.images/create-test-case.png"><img src="https://github.com/gorenje/erlang-red/raw/main/.images/create-test-case.png" alt="img"></a></p>
<p dir="auto">Test flows are stored in the <a href="https://github.com/gorenje/erlang-red/blob/main/priv/testflows">testflows</a> directory and will be picked up the next time <code>make eunit-test</code> is called. In this way it is possible to create unit tests visually.</p>
<p dir="auto">Flow tests can also be tested within the flow editor, for more details see below.</p>
<p dir="auto">The flow test suite is now maintained in a <a href="https://github.com/gorenje/erlang-red-flow-testsuite">separate</a> repository but is duplicated here.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Assert Nodes</h2><a id="user-content-assert-nodes" aria-label="Permalink: Assert Nodes" href="#assert-nodes"></a></p>
<p dir="auto">To better support testing of flows, two new nodes have been created:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gorenje/erlang-red/blob/main/.images/assert-nodes.png"><img src="https://github.com/gorenje/erlang-red/raw/main/.images/assert-nodes.png" alt="img"></a></p>
<p dir="auto">"Assert Failed" node cases unit tests to fail if a message reaches it, regardless of any message values. It's basically the same as a <code>assert(false)</code> call. The intention is to ensure that specific parts of a flow aren't reached.</p>
<p dir="auto">The second node (in green) is an equivalent to a change node except it contains test on attributes of the message object. Possible tests include 'equal', 'match', 'unset' and the respective inverses. Here the intention is that a message passes through is tested for specific values else the unit test fails.</p>
<p dir="auto">These nodes are necessary since there is no other way to test whether flow is working or not.</p>
<p dir="auto">Also remember these flow tests are designed to ensure the Erlang backend is correctly implementing node functionality. The purpose of these nodes is <em>not</em> to ensure that a flow is correct, rather that the <em>functionality</em> of implemented nodes works and continues to work correctly.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Visual Unit Testing</h2><a id="user-content-visual-unit-testing" aria-label="Permalink: Visual Unit Testing" href="#visual-unit-testing"></a></p>
<p dir="auto">My plan is to create test flows that represent specific NodeRED functionality that needs to be implemented by Erlang-RED. This provides regression testing and todos for the implementation.</p>
<p dir="auto">I created a keyboard shortcut for creating and storing these test flows from the flow editor directly. However I was still use the terminal to execute tests <code>make eunit-test</code> - which  became painful. So instead I pulled this testing into Node-RED, as the gif demonstrates:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gorenje/erlang-red/blob/main/.images/unit-testing-inside-nodered.gif"><img src="https://github.com/gorenje/erlang-red/raw/main/.images/unit-testing-inside-nodered.gif" alt="img" data-animated-image=""></a></p>
<p dir="auto">What the gif shows is my list of unit tests, which at the press of a button, can all be tested. Notifications for each test shows the result. In addition, the tree list shows which tests failed/succeed (red 'x' or green check). Also tests can be executed individually so that failures can be checked individually.</p>
<p dir="auto">The best bit though is that all errors are pushed to the debug panel and from there I get directly to the node causing the error. Visual unit testing is completely integrated into Erlang-RED.</p>
<p dir="auto">My intention is to create many small flows that represent functionality that needs to be implemented by Erlang-RED. These unit tests shows the compatibility to Node-RED and less the correctness of the Erlang code.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contributing</h2><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto">Contributions very much welcome in the form of Erlang code or as Node-RED test-flows, ideally with the Erlang implementation. Elixir code is also welcome, only it has its own <a href="https://github.com/gorenje/erlang-red-elixir-helpers">home</a>.</p>
<p dir="auto">Each test flow should test exactly one feature and use the assert nodes to check correctness of expected results. Tests can also be pending to indicate that the corresponding Erlang functionality is still missing.</p>
<p dir="auto">Questions and Answers at either the <a href="https://erlangforums.com/t/erlang-red-erlang-interpreter-for-node-red-flow-code-visual-flow-based-programming/4678" rel="nofollow">Erlang Forum</a> or the <a href="https://discourse.nodered.org/t/erlang-red-erlang-backed-node-red/96458" rel="nofollow">Node-RED Forum</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Branch Technology</h2><a id="user-content-branch-technology" aria-label="Permalink: Branch Technology" href="#branch-technology"></a></p>
<p dir="auto">To branch or not to branch, that isn't really a question. I'm currently working directly on <code>main</code> but ensure that all tests succeed before pushing, so <code>main</code> branch will always work. Locally I work with branches but have no desire to make those branches public since I'm working on my own.</p>
<p dir="auto">Versioning is completely random and has little or no meaning at the moment. I prefer to use <a href="https://github.com/gorenje/erlang-red/blob/main/MILESTONES.md">Milestones</a> since these are arrived at and are not planned, I don't know when the next milestone will be reached.</p>
<p dir="auto">If this project becomes more collaborative or a "production ready piece of software", more certainty will be applied to the development process, i.e., semantic version numbers will introduced.</p>
<p dir="auto">I'm more than happy to deal with conflicts if someone developed something on a branch and it doesn't merge - I understand that multiple direct pushes to <code>main</code> everyday isn't the done thing but I don't like to have code lying around for weeks on end, not being merged because it's not on a release schedule.</p>
<p dir="auto">Coding is a creative process, creativity cannot be planned. Imagine Van Gogh working according to a release plan.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Acknowledgement</h2><a id="user-content-acknowledgement" aria-label="Permalink: Acknowledgement" href="#acknowledgement"></a></p>
<p dir="auto"><a href="https://github.com/knolleary">Nick</a> and <a href="https://github.com/dceejay">Dave</a> for bring Node-RED to live - amazing quality and flexibility and the entire <a href="https://discourse.nodered.org/" rel="nofollow">Node-RED community</a>.</p>
<p dir="auto">Much thanks to</p>
<ul dir="auto">
<li><a href="https://github.com/mwmiller">@mwmiller</a> for providing a fly server for running a <a href="https://ered.fly.dev/node-red" rel="nofollow">live version</a> of Erlang-RED,</li>
<li><a href="https://erlangforums.com/u/joaohf/summary" rel="nofollow">@joaohf</a> many tips on coding Erlang and structuring an Erlang project, and</li>
<li><a href="https://erlangforums.com/u/maria-12648430/summary" rel="nofollow">@Maria-12648430</a> for debugging my initial attempt to create a gen_server for nodes.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Disclaimer</h2><a id="user-content-disclaimer" aria-label="Permalink: Disclaimer" href="#disclaimer"></a></p>
<p dir="auto">No Artificial Intelligence was harmed in the creation of this codebase. This codebase is old skool search engine (ddg), stackoverflow, blog posts and RTFM technology.</p>
<p dir="auto">Also be aware that this project partly uses the <em>Don't do Evil</em> un-enforceable license. The point of the license is not to be enforceable but to make the reader think about what is evil. After all, Pope Leo (the new one) did say <a href="https://eu.usatoday.com/story/news/world/2025/05/08/pope-leo-xiv-first-speech-message-text/83519162007/" rel="nofollow">"evil will not prevail"</a> - what does that <em>even</em> mean?</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ed Smylie, Who Saved the Apollo 13 Crew with Duct Tape, Dies at 95 (107 pts)]]></title>
            <link>https://www.nytimes.com/2025/05/16/science/space/ed-smylie-dead.html</link>
            <guid>44005668</guid>
            <pubDate>Fri, 16 May 2025 14:03:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.nytimes.com/2025/05/16/science/space/ed-smylie-dead.html">https://www.nytimes.com/2025/05/16/science/space/ed-smylie-dead.html</a>, See on <a href="https://news.ycombinator.com/item?id=44005668">Hacker News</a></p>
Couldn't get https://www.nytimes.com/2025/05/16/science/space/ed-smylie-dead.html: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Evolution of Rust Compiler Errors (141 pts)]]></title>
            <link>https://kobzol.github.io/rust/rustc/2025/05/16/evolution-of-rustc-errors.html</link>
            <guid>44005195</guid>
            <pubDate>Fri, 16 May 2025 13:22:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://kobzol.github.io/rust/rustc/2025/05/16/evolution-of-rustc-errors.html">https://kobzol.github.io/rust/rustc/2025/05/16/evolution-of-rustc-errors.html</a>, See on <a href="https://news.ycombinator.com/item?id=44005195">Hacker News</a></p>
<div id="readability-page-1" class="page"><div aria-label="Content">
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    









<p>I recently attended <a href="https://rustweek.org/">RustWeek</a> (which was totally awesome) and the talks by Alex Crichton (on the history of Rust) and Pietro Albini (on the importance of error messages) inspired me to do a little archaeology into the way Rust compiler messages have evolved over time.</p>

<p>I wrote a script that downloaded all stable Rust releases all the way back to 1.0<sup id="fnref:rustup" role="doc-noteref"><a href="#fn:rustup" rel="footnote">1</a></sup>, executed each stable version of the compiler on a set of small programs containing an error and gathered the compiler standard (error) output.</p>

<p>The widget below visualizes how the error messages evolved over time. You can use the select box to examine different Rust programs to see their error:</p>




<p>There are a couple of interesting things to note:</p>

<ul>
  <li>First and foremost, the error messages are simply <em>great</em>. If you have used Rust previously, this probably isn’t too surprising. Even Rust <code>1.0.0</code> contained pretty solid error reporting, and it got much better over time.</li>
  <li>Rust <code>1.2.0</code> introduced numerical <a href="https://doc.rust-lang.org/error_codes/error-index.html">error codes</a>. Edit: they were actually added in <code>1.0.0</code>, just that this specific error did not have a code until <code>1.2.0</code>, as was pointed out to me by <a href="https://www.reddit.com/r/rust/comments/1knzzqa/comment/msnlx2r">Steve Klabnik</a>.</li>
  <li>Rust <code>1.26.0</code> introduced colorful error messages. It sounds like a small change, but you can see what an improvement it makes! It also added the <code>rustc --explain &lt;error-code&gt;</code> hint.</li>
  <li>The error messages sometimes went a bit back and forth in different Rust versions, which is a bit funny. For example, the <code>error: aborting due to 2 previous errors</code> has switched to <code>...previous error(s)</code> in <code>1.19.0</code> and then back to <code>...2 previous errors</code> in <code>1.20.0</code>, which seems like an unintended change in <code>1.19.0</code>. Sometimes the difference is only in a single space, which is not even visible in the visualization above.</li>
  <li>The error spans are also continuously being improved between rustc versions. My favourite example is the <code>Wrong field</code> program change in <code>1.87.0</code>.</li>
</ul>

<p>But I think that ultimately, the most interesting thing about this is the evolution process of these messages itself, which demonstrates that a lot of effort has to be put into the messages to make them <em>really good</em>. To someone, it might seem like these messages are somehow automatically derived from the compilation process, and we get them “for free”, but that couldn’t be further from the truth. It is the result of a continuous design, implementation, review and testing effort that has been performed by hundreds of individual contributors over the span of more than ten years. Thank you to everyone who has worked on the Rust compiler and contributed to these awesome error messages!</p>

<p>If you’d like to test this out on more programs than the ones I have shown here,
you can check out my script <a href="https://github.com/Kobzol/rustc-error-evolution">here</a><sup id="fnref:interactive" role="doc-noteref"><a href="#fn:interactive" rel="footnote">2</a></sup>.</p>

<p>If you have your own favourite example of a Rust compiler error message, share it with others on <a href="https://www.reddit.com/r/rust/comments/1knzzqa/evolution_of_rust_compiler_errors/">Reddit</a>!</p>


  </div>

<!---->

  
</article>



      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Java at 30: Interview with James Gosling (187 pts)]]></title>
            <link>https://thenewstack.io/java-at-30-the-genius-behind-the-code-that-changed-tech/</link>
            <guid>44005008</guid>
            <pubDate>Fri, 16 May 2025 13:05:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://thenewstack.io/java-at-30-the-genius-behind-the-code-that-changed-tech/">https://thenewstack.io/java-at-30-the-genius-behind-the-code-that-changed-tech/</a>, See on <a href="https://news.ycombinator.com/item?id=44005008">Hacker News</a></p>
Couldn't get https://thenewstack.io/java-at-30-the-genius-behind-the-code-that-changed-tech/: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Sci-Net (260 pts)]]></title>
            <link>https://sci-hub.se/sci-net</link>
            <guid>44004625</guid>
            <pubDate>Fri, 16 May 2025 12:30:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sci-hub.se/sci-net">https://sci-hub.se/sci-net</a>, See on <a href="https://news.ycombinator.com/item?id=44004625">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

                <p>
                    I regularly receive requests from Sci-Hub users to help them download some paper that cannot be opened through Sci-Hub. The number of such requests increased in the past two years, since Sci-Hub database updates were paused. The opposite also happens: users ask whether they can upload to Sci-Hub some paper that they have bought or downloaded via university subscription.
                </p>

                <p>Sci-Hub was never designed to accept uploads from users. From the very beginning, it was implemented as an autonomous system that scans and downloads research papers from various universities ‐ without human in the loop. This automatic method turned out to be quite effective, and Sci-Hub was able to reach coverage &gt; 90% in its best days. However, even then some paper remained unreachable.</p>

                <p>Now there exists a platform where users can request unavailable papers, and upload them: <a target="_blank" href="https://sci-net.xyz/">sci-net.xyz</a></p>

                

                <p>The user interface is simple: an input box where a DOI of the requested paper should be inserted. Once the user clicks the button, Sci-Net automatically checks if the requested paper is open access or already available on Sci-Hub. If the paper is found, the link to it will be displayed. If not, then user will be able to create a new request.</p>

                <p>On the index page, the list of requests is shown, that can be filtered by subjects and publisher. If you happen to have access to some paper in the list, you can click on the request and upload the PDF. There is a nice built-in functionality to remove watermarks from PDF to hide the university where paper was downloaded. That way Sci-Net protects the anonymity of the uploader.</p>

                <p>The 'Library' section will show all your requests and uploads, and in the 'Upload' section you can contribute your papers to the platform: just drop the PDF file and the system will automatically detect the DOI. If the DOI is not available yet on Sci-Net / Sci-Hub / open access, the file will get uploaded. The article then will become accessible to everyone by URL sci-net.xyz/DOI including people who are not registered on the platform.</p>

                <p>The platform is currently in the active development stage, and much more features are upcoming.</p>

                

                <p>The part that really makes Sci-Net stand out is the usage of decentralized tokens: Sci-Hub meme coins -- to reward knowledge sharing. When creating a request, you can specify the amount of tokens uploader will receive for sharing the paper. However, the tokens will not be transferred after uploading the PDF right away, but only after you check the solution and click the 'Accept' button. The tokens subtracted from your account will be added to the uploader.</p>

                <p>Sci-Net will ask for a minimum amount of 1000 Sci-Hub tokens to register. The tokens will appear on your account after registration and will be used to reward uploaders. That is the most controversial part: some people argue that Sci-Net introduces paywall similar to publisher.</p>

                <p>Even though both might appear similar at a first glance, the differences are profound. Compared to insane publisher paywalls, the entry tax on Sci-Net is symbolic and is not higher than an equivalent of a cup of coffee in most countries. The next difference is that in traditional approach, profits are made by publisher, and ordinary researcher has no control on how the money are used. On Sci-Net, you're using tokens directly to reward uploaders. Payments go to fellow researchers, not to the platform.</p>

                <p>But the most important is that publishers will charge for access to the same paper again and again. Sci-Net will only do that once when paper is uploaded and after that, it will remain free forever and for everyone -- even users who are not registered on the platform will be able to access it. That is, all Sci-Net transactions contribute directly to public domain, and the number of knowledge accessible to everyone grows with Sci-Net usage.</p>

                <p>The more people use Sci-Hub token, the more valuable it becomes. That way Sci-Net indirectly contributes to maintenance and further development of Sci-Hub.</p>

                <p>The only downside is that obtaining Sci-Hub tokens on the Solana network can be a non-trivial puzzle for a user who are new to crypto. But that only makes the process more interesting.</p>

                

                <p>Overall, Sci-Net is a platform that every researcher today must use and contribute to -- together, we can gradually make the idea of open knowledge a reality.</p>

            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ground control to Major Trial (479 pts)]]></title>
            <link>https://virtualize.sh/blog/ground-control-to-major-trial/</link>
            <guid>44004388</guid>
            <pubDate>Fri, 16 May 2025 12:03:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://virtualize.sh/blog/ground-control-to-major-trial/">https://virtualize.sh/blog/ground-control-to-major-trial/</a>, See on <a href="https://news.ycombinator.com/item?id=44004388">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <h3 id="%F0%9F%9A%80-of-trials-and-tribulations">🚀 Of trials and tribulations</h3><p>Open Source is beautiful. Messy, thankless, powerful — and occasionally just plain weird.</p><p>At <a href="https://vates.tech/?ref=virtualize.sh" rel="noreferrer">Vates</a>, we’ve already shared some of the pain points that come with maintaining open source projects (see: <a href="https://virtualize.sh/blog/the-reality-of-oss-maintainer-fatigue/" rel="noopener">OSS maintainer fatigue</a>). And more recently, the rise of AI-assisted fake contributions and “security reports” has added a whole new layer of entropy. (<a href="https://daniel.haxx.se/blog/2024/01/02/the-i-in-llm-stands-for-intelligence/?ref=virtualize.sh" rel="noopener">this blog post</a> captures it perfectly.)</p><p>But today, we’re here for something a little more… grounded.</p><h3 id="%F0%9F%A7%91%E2%80%8D%F0%9F%9A%80-the-curious-case-of-the-infinite-trial">🧑‍🚀 The curious case of the infinite trial</h3><p>Let’s set the stage. Picture a semi-governmental company. Around $130 million in annual revenue. They build and operate very expensive things — in space. Hundreds of physical hosts. Nearly 4,000 VMs. Most of their IT stack, in fact, runs on our platform.</p><div><p>🚀</p><p>You might say we’re <i><em>mission critical</em></i>. Fitting, since the <b><strong>XCP-ng logo is literally a rocket</strong></b>, and <b><strong>Xen Orchestra’s is a satellite</strong></b>. We didn’t expect someone to take that so literally.</p></div><p>Are they paying customers?</p><p>No.</p><p>Are they using the fully open-source version, from source?</p><p>Also no.</p><p>Instead, they discovered our <strong>Xen Orchestra Appliance</strong> (XOA): a turnkey virtual machine, with Xen Orchestra pre-installed, regularly tested, easy to deploy and update (and yes, still running fully on-prem). A supported and stable experience, designed for teams that don’t want to <code>git pull</code> on <code>master</code> branch in production.</p><p>But they didn’t want to pay for it. So they came up with a <em>creative</em> workaround: abusing our <strong>30-day trial </strong>(initially 15 days until recently), over and over again.</p><p>It all started back in <strong>April 2015</strong> — yes, a full decade ago. At first, they used their <strong>corporate emails</strong> to request trials. One here, one there. Nothing suspicious. But over the years, the pattern grew. More emails. More trials. Enough that, when we looked back, we realized we could chart it. Literally. Here's what the <em>"creative licensing strategy"</em> has looked like over time:</p><figure><img src="https://virtualize.sh/blog/content/images/2025/05/image-1.png" alt="" loading="lazy" width="988" height="574" srcset="https://virtualize.sh/blog/content/images/size/w600/2025/05/image-1.png 600w, https://virtualize.sh/blog/content/images/2025/05/image-1.png 988w" sizes="(min-width: 720px) 720px"><figcaption><b><strong>Number of accounts we could confidently tie to the company.</strong></b> <span>Probably not even the full picture — they were </span><i><em>very</em></i><span> committed.</span></figcaption></figure><p>As you can imagine, we ended up with what looked like the entire staff directory. Developers, sysadmins, managers… pretty sure we even had the janitor signed up for a trial at some point.</p><p>When those ran out, they switched to <strong>personal Outlook or Gmail addresses</strong>. Every time: starting with a new (real!) person with their… personal email, a new 30-day trial. And then go incrementally with it. <code>johndoe01@outlook.com</code>, then <code>johndoe02@outlook.com</code>… We're now well past <code>johndoe60</code>. Same company name, every time… which is impressive considering the field isn’t even required in order to register your account. Hard to say if it was a mistake, a flex, or just their way of making sure we didn’t miss who was milking the trials.</p><p>Yes, they’re that committed. Committed to <em>not</em> paying.</p><h3 id="%F0%9F%94%8D-a-quick-reminder-on-the-options">🔍 A quick reminder on the options</h3><p>For the record, we’re fine with free users. That’s the spirit of open source. You can follow <a href="https://docs.xen-orchestra.com/installation?ref=virtualize.sh#from-the-sources" rel="noopener">our documentation</a>, build from source, and enjoy all the features for free. No stability guarantee, no pro support, <strong>but everything is there</strong>.</p><p>The appliance version (XOA) — the one they keep trialing — is our supported, maintained, pre-packaged VM. It’s tested. It updates with a single click. It saves time and reduces risk. That’s what we sell. And that’s what they keep pirouetting around with their email dance.</p><p>To me, that’s a pretty blatant breach of the unwritten “moral contract” of Open Source. I touched on that in more detail here:</p><figure><a href="https://virtualize.sh/blog/the-moral-contract/"><div><p>The moral contract</p><p>Balancing openness and revenue: navigating the moral contract in the evolving world of free software.</p><p><img src="https://virtualize.sh/blog/content/images/icon/faviconV2-3" alt=""><span>Olivier Lambert</span></p></div><p><img src="https://virtualize.sh/blog/content/images/thumbnail/trees-gedc9162a0_1280.jpg" alt="" onerror="this.style.display = 'none'"></p></a></figure><h3 id="%F0%9F%A7%A0-the-real-puzzle">🧠 The real puzzle</h3><p>We even helped them. In good faith. Like we often do with users evaluating our solution — we don’t waste time scrutinizing who’s asking; we just try to help. That’s the spirit of trials, after all. So yes, we answered their questions, offered guidance, and even spent nearly a full day supporting them during one of their early “we’re just testing, maybe planning to buy” moments. You know the tune.</p><p>But over the years, the pattern started to stand out. Familiar questions, familiar setups… and when we finally looked into it, the pieces clicked. A quick search through our records revealed over <strong>at least 60 separate accounts</strong> tied to the same organization.</p><p>So we reached out.</p><p>They vaguely apologized and claimed they’d switch to using the source version instead.</p><p>Which — fine. Not ideal, but technically within the rules. What stung more was their complete disinterest in any kind of professional support — even when we simply brought up the idea of a volume discount (!). They shut it down immediately. <strong>Apparently, sending satellites into orbit is easier than entertaining the thought of paying for open source support.</strong></p><p>And did they actually switch to the source?</p><p>Of course not.</p><p>They just kept going — now using personal Outlook addresses and incrementing the email handles like they were running a script.</p><p>And here's the kicker: if this was a typical SaaS platform with no way to self-host, maybe you’d understand the logic of trying to game the system. But <strong>you can self-host everything</strong>. For free. No limits. Just a slightly less comfy upgrade experience.</p><p>They chose to go out of their way — repeatedly — to fake trials <strong>rather than</strong> read a short doc and type a few commands.</p><p><strong>What does that say about the value of our virtual appliance? Maybe more than any of our marketing</strong> 🤔</p><h3 id="%F0%9F%92%AD-what-now">💭 What now?</h3><p>We’re not going to waste days chasing them. But at some point, this goes beyond saving a few bucks: it becomes performance art.</p><p>Just to be sure you get it: they are using <strong>personal Outlook or Gmail accounts</strong>. Used to repeatedly request trials of a product that’s open source and free to self-host. For the last 10 years. All while voluntarily filling in their <strong>actual company name</strong> in the registration form. Was it a mistake? A subconscious cry for help? Or just an artistic commitment to trolling? We may never know.</p><p>What we do know: this kind of behavior chips away at what makes Open Source sustainable. When you're operating a satellite fleet and running 4,000 VMs on our stack, maybe (just maybe?) it’s time to stop treating the trial system like a vending machine.</p><p>We'll likely introduce smarter limits to prevent this kind of trial farming. Not to block honest users, but to make sure we can spend our energy where it actually matters: building great software, supporting real users, and keeping Open Source alive and well.</p><p>And if someone from That Company is reading this: you still have time to do the right thing. You’ve got the rocket science down. Now try ethics.</p>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Grok's white genocide fixation caused by 'unauthorized modification' (187 pts)]]></title>
            <link>https://www.theverge.com/news/668220/grok-white-genocide-south-africa-xai-unauthorized-modification-employee</link>
            <guid>44004250</guid>
            <pubDate>Fri, 16 May 2025 11:50:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/news/668220/grok-white-genocide-south-africa-xai-unauthorized-modification-employee">https://www.theverge.com/news/668220/grok-white-genocide-south-africa-xai-unauthorized-modification-employee</a>, See on <a href="https://news.ycombinator.com/item?id=44004250">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><p><img alt="Dominic Preston" data-chromatic="ignore" loading="lazy" width="36" height="36" decoding="async" data-nimg="1" srcset="https://platform.theverge.com/wp-content/uploads/sites/2/chorus/author_profile_images/197794/dominic-preston.0.jpg?quality=90&amp;strip=all&amp;crop=0%2C0%2C100%2C100&amp;w=48 1x, https://platform.theverge.com/wp-content/uploads/sites/2/chorus/author_profile_images/197794/dominic-preston.0.jpg?quality=90&amp;strip=all&amp;crop=0%2C0%2C100%2C100&amp;w=96 2x" src="https://platform.theverge.com/wp-content/uploads/sites/2/chorus/author_profile_images/197794/dominic-preston.0.jpg?quality=90&amp;strip=all&amp;crop=0%2C0%2C100%2C100&amp;w=96"></p><p><a href="https://www.theverge.com/authors/dominic-preston">Dominic Preston</a> <span>is a news editor with over a decade’s experience in journalism. He previously worked at <em>Android Police</em> and <em>Tech Advisor</em>.</span></p></div><div id="zephr-anchor"><p>After xAI’s chatbot Grok spent a few hours on Wednesday telling every X user that would listen that the claim of white genocide in South Africa is highly contentious, the company has blamed the behavior on an “unauthorized modification” to Grok’s code.</p><p>Wednesday’s <a href="https://www.theverge.com/news/667179/x-twitter-grok-ai-white-genocide-claims">hours-long outburst</a> saw Grok insert discussion of alleged white genocide in South Africa into various responses on X, no matter the topic. Grok discussed white farmers’ deaths in reply to a video of a cat drinking water, related the song “Kill the Boer” to a question about <em>Spongebob Squarepants</em>, and <a href="https://bsky.app/profile/adashtra.bsky.social/post/3lp5pjb5r722c">broke down the issue in full patois</a>. Even OpenAI CEO Sam Altman <a href="https://www.theverge.com/ai-artificial-intelligence/667885/grok-ai-white-genocide-sam-altman">got in on the action</a>, poking fun at the rival chatbot’s public breakdown.</p><p>In a <a href="https://x.com/xai/status/1923183620606619649">statement on X</a> the company said that someone had modified the AI bot’s system prompt, “which directed Grok to provide a specific response on a political topic.” That modification “violated xAI’s internal policies and core values,” and the company says it has “conducted a thorough investigation” and is implementing new measures to improve “transparency and reliability.”</p><p>Those measures include publishing Grok’s system level prompts <a href="https://github.com/xai-org/grok-prompts">publicly on GitHub</a>, launching a 24/7 monitoring team to catch issues like this more quickly, and adding “additional checks and measures to ensure that xAI employees can’t modify the prompt without review.”</p><p>xAI has had this problem before. The company <a href="https://www.theverge.com/news/618109/grok-blocked-elon-musk-trump-misinformation">blamed an unnamed ex-OpenAI employee</a> in February for pushing a change to Grok’s prompts that saw the chatbot disregard any sources that accused Elon Musk or Donald Trump of spreading misinformation. At the time xAI’s head of engineering, Igor Babuschkin, <a href="https://x.com/ibab/status/1893778039634563094">said the employee</a> had been able to make the change “without asking anyone at the company for confirmation.”</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ollama violating llama.cpp license for over a year (184 pts)]]></title>
            <link>https://github.com/ollama/ollama/issues/3185</link>
            <guid>44003741</guid>
            <pubDate>Fri, 16 May 2025 10:36:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/ollama/ollama/issues/3185">https://github.com/ollama/ollama/issues/3185</a>, See on <a href="https://news.ycombinator.com/item?id=44003741">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-testid="markdown-body" data-team-hovercards-enabled="true" data-turbolinks="false"><h3 dir="auto">What is the issue?</h3>
<p dir="auto">ollama uses projects like llama.cpp as a statically linked dependency. The terms of the MIT license require that it distribute the copyright notice in both source and binary form. Yet if I <code>grep</code> for "Georgi Gerganov" on my Linux and Windows installation folders for ollama, the copyright notices are nowhere to be found. This is a violation of the terms of the license which should be rectified.</p>
<h3 dir="auto">What did you expect to see?</h3>
<p dir="auto">I expected the copyright notices of dependent projects to be at minimum present within the binary artifacts. Some people online are of the opinion that a mention of llama.cpp should be present in places like the README as well, although the license doesn't strictly require that.</p>
<h3 dir="auto">Steps to reproduce</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">Are there any recent changes that introduced the issue?</h3>
<div data-snippet-clipboard-copy-content="grep -iR 'Georgi Gerganov' AppData/Local/Programs/Ollama/
grep -R 'Georgi Gerganov' /usr/local/bin/ollama
etc."><pre><code>grep -iR 'Georgi Gerganov' AppData/Local/Programs/Ollama/
grep -R 'Georgi Gerganov' /usr/local/bin/ollama
etc.
</code></pre></div>
<h3 dir="auto">OS</h3>
<p dir="auto">Other</p>
<h3 dir="auto">Architecture</h3>
<p dir="auto">Other</p>
<h3 dir="auto">Platform</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">Ollama version</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">GPU</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">GPU info</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">CPU</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">Other software</h3>
<p dir="auto"><em>No response</em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[After months of coding with LLMs, I'm going back to using my brain (327 pts)]]></title>
            <link>https://albertofortin.com/writing/coding-with-ai</link>
            <guid>44003700</guid>
            <pubDate>Fri, 16 May 2025 10:29:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://albertofortin.com/writing/coding-with-ai">https://albertofortin.com/writing/coding-with-ai</a>, See on <a href="https://news.ycombinator.com/item?id=44003700">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                            <p>A few months ago I needed to build a new infrastructure for my SaaS, as the current PHP+MySQL combo was not fit for purpose anymore. I was excited about the opportunity to make the most of all the new LLMs I'd been playing with, so I set aside my SWE hat and I started acting as a product manager, chatting with Claude about best practices, doing some research on my own and then coming up with a plan, after many back and forths. I ended up choosing Go+Clickhouse.</p><p>When it was time to start coding, I asked Claude to give me a big and complicated markdown file outlining my existing infrastructure, my desired new infrastructure, what I’m trying to achieve, why I'm doing it, etc.</p><p>So I put it all inside Cursor Notepads and I start prompting away. Cursor writes code, I build it and test it. I'm quite happy with how things are going, the codebase isn't the tidiest but things seems to work. I'm aiming for speed more than code cleanliness - my SaaS business customers told me they need specific data and this new infrastructure is the only way I can deliver it. I have a few more potential customers who are waiting for me to tell them this is ready so they can purchase a plan. Every day I don’t have this ready, I’m literally losing money.</p><p>But then a few weeks go by, and the cracks start to show. I start getting frustrated. Every day I feel like I’m really close to the end product, then I find another issue that sets me back for days. <br>I justify it thinking that I’ve never used Go or Clickhouse before, so it makes sense that it takes me a bit longer than I’m used to to fix those issues. The problems continue though, and I’m getting more frustrated. Cursor is not helping as much anymore. I paste in error messages, and I get a fix in response but then something breaks somewhere else. The more detailed the problem, the harder it is for the LLM to provide the actual solution. So I start actually looking at the code more closely, trying to understand it. <br>I’ve been a software engineer for 15 years, and I studied C++ and Java in school, so I do have a rough idea of what’s happening in these Go files. But I have no concept of Go or Clickhouse best practices.<br>I start educating myself a bit more about those. I read some documentation, articles, I watch a YouTube video about Clickhouse. I become more inquisitive with Claude, asking detailed questions and challenging its answers.</p><p>One morning, I decide to actually inspect closely what’s all this code that Cursor has been writing. It’s not like I was blindly prompting without looking at the end result, but I was optimizing for speed and I hadn’t actually sat down just to review the code. I was just building building building.</p><p>So I do a “coding review” session. And <strong>the horror ensues.</strong></p><p>Two service files, in the same directory, with similar names, clearly doing a very similar thing. But the method names are different. The props are not consistent. One is called "WebAPIprovider", the other one "webApi". They represent the same exact parameter. The same method is redeclared multiple times across different files. The same config file is being called in different ways and retrieved with different methods.</p><p>No consistency, no overarching plan. It’s like I'd asked 10 junior-mid developers to work on this codebase, with no Git access, locking them in a room without seeing what the other 9 were doing.</p><p>And before you ask, yes, I was feeding context to LLMs, lots of it. I was mostly using Gemini specifically for its larger context window. Every time I needed a different iteration of the same kind of file I gave specific instructions to take example from those. But it wasn’t enough.</p><p><strong>Taking a step back</strong></p><p>By now it’s clear that I need to change my approach. I’m a software engineer first and foremost, so it’s stupid not to make the most of my skills. I’ve been teaching myself more about Go and Clickhouse, and I’ve taken a step back from building at full speed. I’m going through files and rewriting code. Not everything, just the things that make me want to vomit. The language might be different but I know in my head what I want things to look like and how to organise them.</p><p>Since I’ve taken a step back, debugging has become easier. Maybe I’m not as fast but I don’t have this weird feeling of “<em>I kinda wrote this code but I actually have no idea what’s in it</em>”. I’m still using LLMs, but for dumber things: "rename all occurrences of this parameter", or "here’s some pseudo code, give me the Go equivalent".</p><p>The hardest part in all of this has been resisting the urge to use AI. I have this amazing tool available and it could write these 10 files in a minute. I’m wasting time by not using it! And that’s when it hit me. <strong>I’ve not been using my brain as much. </strong>I'm subconsciously defaulting to AI for all things coding.<br>I’ve been using pen and paper less. As soon as I need to plan a new feature, my first thought is asking o4-mini-high how to do it, instead of my neurons. I hate this. And I’m changing it.</p><p>So yes, I’m worried about the impact of AI, but I’m not worried about the jobs, I’m worried about losing my mental sharpness, my ability to plan out features and write tidy and functional code.</p><p>So I’m taking a big step back, really limiting how much AI I use. I’m defaulting to pen and paper, I’m defaulting to coding the first draft of that function on my own. And if I’m not sure I’ll use an LLM to check if that’s a good solution, if that’s a good naming convention, or how I can finish that last part.<br>But I’m not asking it to write new things from scratch, to come up with ideas or to write a whole new plan. I’m writing the plan. I’m the senior dev. The LLM is the assistant.</p><p><strong>A happy medium</strong></p><p>Now that I've changed my approach, I’m not frustrated with LLMs anymore. I have once again very low expectations, so when they do something well it’s a nice surprise. I’m trying to be smart about how I use them, they're such a great tool for learning for example. I’m leveraging them to learn Go, to upskill myself. And then I apply this new knowledge when I code.</p><p>But I feel worried for non coders. I almost feel like they’re in a worse position now with AI than they were in the no-code era. At least a no-code tool has been written by a human with common sense, and even if its features are limited, at least there’s some sort of structure.</p><p>“Vibe coding”, or whatever “coding with AI without knowing how to code” is called, is as of today a recipe for disaster, if you’re building anything that’s not a quick prototype.</p><p>I cannot imagine what coding with Cursor must feel like, for a non coder. Or maybe I can. Walls of code you don’t understand, error after error that you keep pasting into a chat box, which gives you back more code, which makes things even messier and complicated and, at some point, just wrong. And impossible to fix.</p><p><strong>A note for AI enthusiasts</strong></p><p>I can hear the horde of AI coding experts screaming at me: you should have used &lt;newest-model&gt;! You should have used Cursor rules! You should have followed this 15 step gamechanger workflow I found on Reddit the other day!</p><p>I have. I tried, I really did. There’s some things that AI cannot do just yet.</p><p>And while I haven’t tried every single combination of tools, agentic workflows, etc, I remain confident in my statement.If you don’t believe me, try being someone with no prior knowledge of Clickhouse, asking an LLM to write a complicated query involving multiple 100M+ rows tables, without triggering memory errors, on a server with limited RAM. <br>It just can’t, even if you give it the whole SQL schema, even if you link the latest Clickhouse documentation, even if you outline in granular detail your business needs and infrastructure constraints. Newest Gemini can’t, o4-mini-high can’t, o3 can’t, Sonnet 3.7 can’t.</p><p>Also, if I need hours to set up a complicated system just so the AI doesn’t build a house of cards instead of the app I needed, is it really worth it? Especially when there’s no consistency in the model's performance, so even if you find the absolutely perfect workflow, it doesn’t last for long. Or it stops working as soon as you need it for something slightly different.</p><p>Let me be clear: I'm writing this as someone super excited about new tech, someone who loves to be an early adopter, someone who is still really enthusiastic about AI. I think and hope we’ll get there eventually, but as of right now we’re in a very weird time, where the tools look amazing, everyone tells you they’re amazing, but they’re actually good-but-not-great, and they're potentially making us dumber.</p><p>It’s a confusing experience. It’s like I need to get somewhere and I can either walk, or jump on this spaceship that travels at 900mph, but its controls are half in Hungarian and half in Ancient Greek. With enough trial and error I can probably get the spaceship to take me to my destination, but that’s a lot of work in itself and at the end of the day I’m left wondering if I should have just walked.</p><p>To make it all worse, I feel like we’re constantly being gaslighted by benchmarks, by influencers who can now sell you this new magic shovel, and by a flurry of companies that are trying to convince us that it’s an “agent” and definitely not just another cron job.</p><p>Some days I feel like we’re also being gaslit by LLM providers. Just look at any AI related subreddit, and you’ll see people having completely opposite experiences, with the same exact model, with the same prompt, on the same day. If you code with AI long enough you’ll be able to relate. One day it’s amazing, the next day it’s incredibly stupid.</p><p>Are they throttling the GPUs? Are these tools just impossible to control? What the fuck is going on?</p>
                        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Apple Blocks Fortnite's Return to iOS App Store, Epic Claims (113 pts)]]></title>
            <link>https://www.macrumors.com/2025/05/16/apple-blocks-fortnite-return-to-ios-app-store/</link>
            <guid>44003590</guid>
            <pubDate>Fri, 16 May 2025 10:08:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.macrumors.com/2025/05/16/apple-blocks-fortnite-return-to-ios-app-store/">https://www.macrumors.com/2025/05/16/apple-blocks-fortnite-return-to-ios-app-store/</a>, See on <a href="https://news.ycombinator.com/item?id=44003590">Hacker News</a></p>
<div id="readability-page-1" class="page"><div role="main" id="maincontent"><article expanded="true"><div data-io-article-url="/2025/05/16/apple-blocks-fortnite-return-to-ios-app-store/"><p>Epic Games said today that Apple has blocked its attempt to bring Fortnite back to iOS devices, leaving the popular battle royale game unavailable on iPhones and iPads worldwide.</p>
<p><img src="https://images.macrumors.com/t/0Z2lgtsJlcJwBPZxorhvrxy5Io4=/400x0/article-new/2020/08/fortnite-apple-logo-2.5.jpg?lossy" srcset="https://images.macrumors.com/t/0Z2lgtsJlcJwBPZxorhvrxy5Io4=/400x0/article-new/2020/08/fortnite-apple-logo-2.5.jpg?lossy 400w,https://images.macrumors.com/t/mSK82iJmXlndDBho55ZyD5Eqwi8=/800x0/article-new/2020/08/fortnite-apple-logo-2.5.jpg?lossy 800w,https://images.macrumors.com/t/YRKBFO7_YDy3wK91S5K2ylZSGL8=/1600x0/article-new/2020/08/fortnite-apple-logo-2.5.jpg 1600w,https://images.macrumors.com/t/Y7dW-eUJWkz-syrVGiP8xG5xKOs=/2500x0/filters:no_upscale()/article-new/2020/08/fortnite-apple-logo-2.5.jpg 2500w" sizes="(max-width: 900px) 100vw, 697px" alt="fortnite apple logo 2" width="1280" height="720"><br>"Apple has blocked our Fortnite submission so we cannot release to the US App Store or to the Epic Games Store for iOS in the European Union," Epic stated via its <a href="https://x.com/Fortnite/status/1923293522234356169">Fortnite account</a> on X (Twitter). "Now, sadly, Fortnite on iOS will be offline worldwide until Apple unblocks it."</p>
<p>Apple banned the ‌Epic Games‌ developer account back in 2020 when ‌Epic Games‌ violated its ‌App Store‌ rules to add web-based purchases, kicking off a multi-year legal battle. Because the main ‌Epic Games‌ developer account continues to be banned, Epic submitted Fortnite to the U.S. ‌App Store‌ using an account from <a href="https://www.macrumors.com/2025/05/05/epic-games-fortnite-us-app-store/">Epic Games Sweden</a>, a subsidiary that Epic formed to create the ‌Epic Games‌ Store alternative app marketplace in the European Union.</p>
<p>The game was <a href="https://www.macrumors.com/2025/05/09/fortnite-submitted-to-us-app-store/">submitted for review</a> on May 9, but after waiting over 120 hours without a response, Epic was forced to pull and resubmit its application to include the latest update.</p>
<p>Epic CEO Tim Sweeney has been vocal about his frustration with the situation, claiming that Apple has not been returning the company's calls and that the review process <a href="https://www.macrumors.com/2025/05/14/epic-resubmits-fortnite-to-app-store/">typically moves much faster</a>.</p>
<p>Before submitting Fortnite to the U.S. App Store, Epic CEO Tim Sweeney said the company spoke with Apple about its plans – but never claimed Apple approved them. It remains unclear if Apple will allow Fortnite back, as the Epic v. Apple lawsuit confirmed that Apple has the right to ban Epic's account and isn't required to reinstate it.</p>
<p>It's the latest chapter in the ongoing <a href="https://www.macrumors.com/guide/epic-games-vs-apple/">legal battle</a> between the two companies, which began in 2020 when Apple removed Fortnite from the App Store after Epic implemented direct payment options that bypassed Apple's 30% commission.</p>
<p>The game had briefly returned to iOS devices in the EU via the Epic Games Store, but that version has now also gone offline.</p>
</div></article><p><h2>Popular Stories</h2></p><div><h3><a href="https://www.macrumors.com/2025/05/15/apples-carplay-ultra-now-available/">Apple's 'CarPlay Ultra' Experience Now Available</a></h3><p>Apple today announced that its next-generation CarPlay experience, now dubbed "CarPlay Ultra" begins rolling out today, starting with Aston Martin vehicles.
Subscribe to the MacRumors YouTube channel for more videos. 
CarPlay Ultra is now available with new Aston Martin vehicle orders in the U.S. and Canada. It will also be available for existing models that feature the brand's next-generation ...</p></div><div><h3><a href="https://www.macrumors.com/2025/05/15/apples-carplay-ultra-iphone-support/">Apple's CarPlay Ultra Is Here – Does Your iPhone Support It?</a></h3><p>Thursday May 15, 2025 5:17 am PDT by <a href="https://www.macrumors.com/author/tim-hardwick/" rel="author">Tim Hardwick</a></p><p>Apple's recently announced CarPlay Ultra promises a deeply integrated in-car experience, but not all iPhone users will be able to take advantage of the new feature.
According to Apple's press release, CarPlay Ultra requires an iPhone 12 or later running iOS 18.5 or later. This means if you're using an iPhone 11, iPhone XR, or any older model, you'll need to upgrade your device to access...</p></div><div><h3><a href="https://www.macrumors.com/2025/05/15/trump-tells-apple-stop-building-iphones-india/">Trump Tells Tim Cook to Stop Building iPhones in India</a></h3><p>Thursday May 15, 2025 2:21 am PDT by <a href="https://www.macrumors.com/author/tim-hardwick/" rel="author">Tim Hardwick</a></p><p>President Donald Trump has asked Apple CEO Tim Cook to halt the company's manufacturing expansion in India, in a potential disruption of Apple's plan to shift iPhone production away from China.
"I had a little problem with Tim Cook yesterday," Trump said during his state visit to Qatar, according to Bloomberg. "He is building all over India."
"They [India] have offered us a deal where...</p></div><div><h3><a href="https://www.macrumors.com/2025/05/15/carplay-ultra-committed-automakers/">Apple Says These Vehicle Brands Plan to Offer All-New CarPlay Ultra</a></h3><p>Apple today announced the launch of CarPlay Ultra, the long-awaited next-generation version of its CarPlay software system for vehicles.
CarPlay Ultra features deep integration with a vehicle's instrument cluster and systems, built-in Radio and Climate apps, customizable widgets, and more. The interface is tailored to each vehicle model and automaker's identity, and drivers can also adjust...</p></div><div><h3><a href="https://www.macrumors.com/2025/05/14/apple-music-transfer-tool/">Apple Music Gets New Transfer Tool to Make Switching From Spotify Easier</a></h3><p>Wednesday May 14, 2025 5:17 pm PDT by <a href="https://www.macrumors.com/author/juli-clover/" rel="author">Juli Clover</a></p><p>Apple this week introduced a new feature designed to allow prospective Apple Music users to import their saved music and playlists from third-party music services to Apple Music.
The feature is either in an expanded testing phase or it has started rolling out, and it is available in Australia and New Zealand according to an Apple Support document. Signs of the transfer option first surfaced...</p></div><div><h3><a href="https://www.macrumors.com/2025/05/15/first-look-at-carplay-ultra/">Here's the First Real-World Look at Apple's CarPlay Ultra</a></h3><p>The first videos of Apple's CarPlay Ultra experience are now available, providing a never-before-seen look at the long-anticipated iPhone-linked infotainment software.
British automaker Aston Martin today shared the first video of Apple's CarPlay Ultra experience in-action, followed by a detailed walk-through of the CarPlay Ultra system on Top Gear's YouTube channel, which provides the...</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The average workday increased during the pandemic’s early weeks (2020) (114 pts)]]></title>
            <link>https://www.library.hbs.edu/working-knowledge/you-re-right-you-are-working-longer-and-attending-more-meetings</link>
            <guid>44003449</guid>
            <pubDate>Fri, 16 May 2025 09:43:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.library.hbs.edu/working-knowledge/you-re-right-you-are-working-longer-and-attending-more-meetings">https://www.library.hbs.edu/working-knowledge/you-re-right-you-are-working-longer-and-attending-more-meetings</a>, See on <a href="https://news.ycombinator.com/item?id=44003449">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Work-from-home employees whose days seem longer, with more meetings and emails than ever before, may find a new Harvard Business School study validating.</p><p>An analysis of the emails and meetings of 3.1 million people in 16 global cities found that the average workday increased by 8.2 percent—or 48.5 minutes—during the pandemic’s early weeks. Employees also participated in more meetings, though for less time than they did before COVID-19 sent many workers home.</p><p>“There is a general sense that we never stop being in front of Zoom or interacting,” says Raffaella Sadun, professor of business administration in the HBS Strategy Unit. “It’s very taxing, to be honest.”</p><p>Shifting to remote work at the start of the pandemic stripped away whatever was left of the elusive 9-to-5 business day and replaced it with videoconferencing and “asynchronous work.” With at least <a href="https://hbswk.hbs.edu/item/how-much-will-remote-work-continue-after-the-pandemic" target="_self">16 percent of Americans</a> planning to keep working from home part of the time after COVID-19 abates, researchers are probing how virtual interaction might reshape organizations.</p><p>In the first large-scale analysis of digital communication early in the crisis, the team—Sadun; Jeffrey T. Polzer, the UPS Foundation Professor of Human Resource Management; HBS doctoral candidate Evan DeFilippis; New York University doctoral student Stephen Michael Impink; and former HBS research associate Madison Singell—studied aggregated, anonymous emails and meeting invitations of employees at 21,500 companies in North America, Europe, and the Middle East.</p><div><blockquote><p>There is a general sense that we never stop being in front of Zoom or interacting. It’s very taxing, to be honest.</p></blockquote></div></div><div><p>“The role of an office is to congregate and help people work together,” Sadun says. “For us, the question was, ‘What happens when you cannot have that physical space anymore?’ How do people adjust their work patterns?”</p><h2>Longer days and more check-ins</h2><p>The team compared the frequency and timing of emails sent within and outside organizations eight weeks before the start of pandemic-related lockdowns and eight weeks after. On average, they found that:</p><ul><li><p>Employees sent 5.2 percent more emails a day.</p></li><li><p>Emails had 2.9 percent more recipients.</p></li><li><p>About 8.3 percent more emails were sent after business hours.</p></li></ul><p>Sadun and Polzer also analyzed meeting invitations—the quantity, duration, and number of attendees—and observed that:</p><ul><li><p>People attended 13 percent more meetings.</p></li><li><p>Each meeting was 12 minutes—or 20 percent—shorter, reducing the number of meeting hours by 12 percent, or 19 minutes.</p></li><li><p>The number of people invited to each meeting rose by two, or 14 percent.</p></li></ul><p>Perhaps most striking: As researchers compared the time when people started sending emails and attending meetings each day and when they ended, they saw that the average workday lasted 8.2 percent longer, an extra 48.5 minutes. While it’s unlikely that employees worked continuously during that period, Sadun suspects that employees adopted more fluid schedules to accommodate interruptions from, say, a child struggling with virtual learning or a sick family member.</p><p>“Unless you really are able to create distinct boundaries between your life and your work, it's almost inevitable that we see these blurring lines,” she says.</p><p>The research team detailed their findings in the working paper <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3654470" target="_blank">Collaborating During Coronavirus: The Impact of COVID-19 on the Nature of Work</a>, released by the National Bureau of Economic Research in July.</p><h2>Probing the productivity and morale toll</h2><p>The anonymized nature of the data made it difficult to discern the quality of the meetings and email communication, and the impact on employees’ well-being. The study also didn’t include the time spent on collaboration tools, such as Slack and Microsoft Teams, which have become increasingly popular.</p><p>To tackle some of these questions, Sadun has been studying how 300 knowledge workers have been spending their time during the pandemic and how those activities affect their moods and perceived effectiveness. So far, the preliminary conclusions have been highly varied and personal.</p><p>“This is one of those things where it’s hard to make one statement for everybody,” Sadun says. “If you have a large house, life is good. If you have to combine your bedroom with your office, it’s not as good.”</p><p>It doesn’t take a detailed time log to know that videoconferencing fatigue has long set in for many employees, a likely factor in shrinking meeting times. Gathering in person doesn’t seem as draining as staring at a screen.</p><p>“The issue with Zoom is that you’re always on there. You have to show a concentrated face the whole time,” she says. “It's very unnatural to be constantly looking attentive for hours.”</p><h2>How managers can be mindful</h2><p>The pandemic workforce has created a significant challenge for managers, Sadun says. She offers three pieces of advice to leaders of remote workforces:</p><ul><li><p><strong>Empathize with workers’ unique circumstances.</strong>  Managers need to know what their employees are juggling to provide the right professional support.</p></li><li><p><strong>Focus on output, not hours.</strong>  It’s virtually impossible to track how employees are actually using their time. Instead, managers should focus on the quality of their work.</p></li><li><p><strong>Expect wide differences in productivity across employees, for now.</strong>  While some people find working from home energizing, many employees probably won’t be able to be as effective as they would be under normal conditions.</p></li></ul><p>Sadun, who spent the spring advising the Italian government about how to reopen its economy post-lockdown, hasn’t been immune to the pandemic’s disruption. But, for an academic analyzing a once-in-a-century pandemic and its economic fallout, working has been a way of coping.</p><p>“This is our way to make sense of the world,” Sadun says. “We try to make ourselves useful because we understand that there is something really big happening around us.”</p><h2>About the author</h2><p><strong><em>Danielle Kost</em></strong><em> is senior editor of Harvard Business School Working Knowledge.</em></p><p>[Image: <strong>iStock Photo</strong>]</p><h2>Related Reading</h2><ul><li><p><a href="https://hbswk.hbs.edu/item/mastering-the-team-meeting" target="_self">Master the Team Meeting</a></p></li><li><p><a href="https://hbswk.hbs.edu/item/time-to-give-team-innovation-a-rest" target="_self">'Always On' Isn't Always Best for Team Decision-Making</a></p></li><li><p><a href="https://hbswk.hbs.edu/item/from-the-plow-to-the-pill-how-technology-shapes-our-lives" target="_self">From the Plow to the Pill: How Technology Shapes Our Lives</a></p></li></ul><h2>Related reading from the Working Knowledge Archives</h2><p><a href="https://hbswk.hbs.edu/item/marissa-mayer-should-bridge-distance-gap-with-remote-workers" target="_self">Marissa Mayer Should Bridge Distance Gap with Remote Workers</a></p><h2><em>Are you working harder or longer at home?</em></h2><p>Share your insights below.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Leeks and Leaks (115 pts)]]></title>
            <link>https://daniel.haxx.se/blog/2025/05/16/leeks-and-leaks/</link>
            <guid>44003447</guid>
            <pubDate>Fri, 16 May 2025 09:42:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://daniel.haxx.se/blog/2025/05/16/leeks-and-leaks/">https://daniel.haxx.se/blog/2025/05/16/leeks-and-leaks/</a>, See on <a href="https://news.ycombinator.com/item?id=44003447">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
		
<p>On the completely impossible situation of blocking the Tor <code>.onion</code> TLD to avoid leaks, but at the same time not block it to make users able to do what they want.</p>



<h2>dot-onion leaks</h2>



<p>The onion TLD is a Tor specific domain that does not mean much to the world outside of Tor. If you try to resolve one of the domains in there with a <em>normal </em>resolver, you will get told that the domain does not exist.</p>



<p>If you ask your ISP’s resolver for such a hostname, you also advertise your intentions to speak with that domain to a sizeable portion of the Internet. DNS is inherently commonly insecure and has a habit of getting almost broadcast to lots of different actors. <em>A user on this IP address intends to interact with this .onion site.</em></p>



<p>It is thus of utter importance for Tor users to never use the <em>normal</em> DNS system for resolving .onion names.</p>



<h2>Remedy: refuse them</h2>



<p>To help preventing DNS leaks as mentioned above, Tor people engaged with the IETF and the cooperation ultimately ended up with the publication of <a href="https://datatracker.ietf.org/doc/html/rfc7686">RFC 7686</a>: <em>The “.onion” Special-Use Domain Name</em>. Published in 2015.</p>



<p>This document details how libraries and software should approach handling of this special domain. It basically says that software should to a large degree <em>refuse</em> to resolve such hostnames.</p>



<h2>curl</h2>



<p>In <a href="https://github.com/curl/curl/issues/543">November 2015 we were made aware</a> of the onion RFC and how it says we should filter these domains. At the time nobody seemed keen to work on this, and the problem was added to the <a href="https://curl.se/docs/knownbugs.html">known bugs document</a>.</p>



<p>Eight years later the issue was still lingering in that document and curl had still not done anything about it, when Matt Jolly emerged from the shadows and brought <a href="https://github.com/curl/curl/pull/10705">a PR that finally implemented the filtering</a> the RFC says we should do. Merged into curl on March 30, 2023. Shipped in the curl 8.1.0 release that shipped in May 17, 2023. Two years ago.</p>



<p>Since that release, curl users would not accidentally leak their .onion use.</p>



<p>A curl user that uses Tor would <em>obviously</em> use a SOCKS proxy to access the Tor network like they always have and then curl would let the Tor server do the name resolving as that is the entity here that knows about Tor and the dot onion domain etc.</p>



<p>That’s the thing with using a proxy like this. A network client like curl can hand the full host name to the proxy server and let that do the resolving magic instead of it being done by the client. It avoids leaking names to local name resolvers.</p>



<h2>Controversy</h2>



<p>It did not take long after curl started support the RFC that Tor themselves had pushed for, when Tor users with <em>creative</em> network setups realized and had opinions.</p>



<p>A <a href="https://github.com/curl/curl/pull/11236">proposal appeared</a> to provide an override of the filter based on an environment variable for users who have a setup where the normal name resolver is already protected somehow and is known to be okay. Environment variables make for horrible APIs and the discussion did not end up in any particular consensus for other solutions so this suggestion did not make it through into code.</p>



<p>This issue has subsequently popped up a few more times when users have had some issues, but no fix or solution has been merged. curl remains blocking this domain. Usually people realize that when using the SOCKS proxy correctly, the domain name works as expected and that has then been the end of the discussions.</p>



<h2>oniux</h2>



<p>This week the Tor project announced a new product of their: <a href="https://blog.torproject.org/introducing-oniux-tor-isolation-using-linux-namespaces/">oniux</a>: <em>a command-line utility providing Tor network isolation for third-party applications using Linux namespaces</em>.</p>



<p>On their introductory web page explaining this new tool they even show it off using a curl command line:</p>



<pre>$ oniux curl http://2gzyxa5ihm7wid.onion/index.html</pre>



<p>(I decided to shorten the hostname here for illustration purposes.)</p>



<p>Wait a second, isn’t that a .onion hostname in that URL? Now what does curl do with .onion host names since that release two years ago?</p>



<p>Correct: that illustrated command line only works with old curl versions from before we implemented support for RFC 7686. From before we tried to do in curl what Tor indirectly suggested we should do. So now, when we try to do the right thing, curl does not work with this new tool Tor themselves launched!</p>



<p>At least we can’t say we get do live a dull life.</p>



<h2>Hey this doesn’t work!</h2>



<p>No really? Tell us all about it. Of course there was immediately <a href="https://github.com/curl/curl/issues/17363">an issue submitted</a> against curl for this, quite rightfully. That tool was quite clearly made for a use case like this.</p>



<p>So how do we fix this?</p>
	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The first year of free-threaded Python (239 pts)]]></title>
            <link>https://labs.quansight.org/blog/free-threaded-one-year-recap</link>
            <guid>44003445</guid>
            <pubDate>Fri, 16 May 2025 09:42:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://labs.quansight.org/blog/free-threaded-one-year-recap">https://labs.quansight.org/blog/free-threaded-one-year-recap</a>, See on <a href="https://news.ycombinator.com/item?id=44003445">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Last week, the CPython developers rolled out CPython 3.14.0b1. This week, PyCon
2025 kicks off in Pittsburgh, PA. Both events mark a significant milestone for
the effort to ship and stabilize free-threaded Python.</p>
<p>This is the story of the first year of that effort and how our team at
Quansight played a key role in enabling experimental use of the free-threaded
build with real production workflows that depend on a complex set of
dependencies.</p>

<p>Support for free-threaded Python unlocks the full compute power of modern
hardware with multicore CPUs and GPUs now commonplace. In the GIL-enabled
build, making full use of parallel algorithms that exploit all available
compute resources in Python requires workarounds and careful tuning. The Python
<code>threading</code> module is often not used because the GIL prevents useful parallel
scaling. Instead, many reach for <code>multiprocessing</code>, but spawning processes is
expensive and communicating across processes often requires making expensive
copies of data that would not be necessary in a multithreaded program where
data is implicitly shared between threads.</p>
<p>Having said that, it is not possible for packages that ship compiled code in
their release distributions to support the free-threaded build out of the box.
Any package shipping native code (many Python packages do that) need to be
audited to ensure the package builds and does not suffer thread-safety issues
that are impossible on the GIL-enabled build.</p>
<p>Disabling the GIL required deep structural changes to the CPython
interpreter. Fully supporting the free-threaded build in existing packages
similarly requires fixing structural issues that until now were not big
problems. Things like use of global state in the implementation of a C extension
for convenience or for performance are no longer safe, since the GIL does not
protect simultaneous access from Python to the global state, allowing undefined
behavior via data races. While it is possible to trigger thread safety issues
like this using the <code>threading</code> module even with the GIL, most of the time the
GIL prevented these issues from surfacing. The free-threaded build makes fixing
these issues much more pressing.</p>
<h2 id="major-accomplishments">Major accomplishments</h2>
<p>Alongside the Python runtime team at Meta, we made significant contributions to
enable support for free-threaded Python in a long list of packages and
projects, including:</p>
<ul>
<li>Packaging and project workflow tools like meson, meson-python, the
setup-python GitHub Actions workflow, packaging, pip, and setuptools.</li>
<li>Bindings generators like Cython, pybind11, f2py, and PyO3.</li>
<li>Foundational packages in the PyData ecosystem like NumPy, SciPy, PyArrow,
Matplotlib, pandas, scikit-learn, and scikit-image.</li>
<li>Top dependencies by PyPI downloads like Pillow, PyYAML, yarl, multidict,
and frozenlist.</li>
</ul>
<p>We are also currently looking at popular packages that don't yet ship support,
including CFFI, cryptography, PyNaCl, aiohttp, SQLAlchemy, and grpcio as well
as popular libraries for machine learning workflows like safetensors and
tokenizers.</p>
<p>CPython core developers on our team also contributed several major improvements
that will ship in CPython 3.14:</p>
<ul>
<li>The Python <code>warnings</code> module is now thread-safe by default on the
free-threaded build. It can be made thread-safe on the GIL-enabled build
with a configuration option or runtime command-line flag.</li>
<li>Significant thread safety issues in <code>asyncio</code> have been fixed. Our
benchmarks indicate substantially improved parallel scaling of code using
asyncio with a thread pool runner.</li>
<li>Thread safety overhaul in the <code>ctypes</code> module.</li>
<li>Substantial performance improvements for the free-threaded garbage collector.</li>
<li>Helped implement the deferred reference counting scheme used by the
free-threaded interpreter in 3.14.</li>
<li>Implemented several specializations for the adaptive specializing
interpreter and supported shipping optimizations that bring the
single-threaded performance of free-threaded CPython 3.14 within spitting
distance of the GIL-enabled build.</li>
<li>A huge number of smaller bugfixes and thread safety improvements.</li>
</ul>
<p>We've also written a <a href="https://py-free-threading.github.io/">comprehensive guide</a>
for supporting free-threaded Python in existing apps and packages gleaned from
our experiences. Our hope is that the documentation we've written can be a
valuable resource for the "long tail" of packages that people will want to
update to support free-threaded Python in the coming years.</p>
<p>You can also read more about this effort from the team at Meta on the
<a href="https://engineering.fb.com/2025/05/05/developer-tools/enhancing-the-python-ecosystem-with-type-checking-and-free-threading/">Meta engineering blog</a>.</p>
<h2 id="what-is-the-state-of-the-free-threaded-python-ecosystem">What is the state of the free-threaded Python ecosystem?</h2>
<p>At this time last year, when Python 3.13.0b1 shipped, the wider ecosystem of
Python packages was more or less completely broken on the free-threaded build.
Trying to <code>pip install</code> anything but the simplest package with no dependencies
or only pure-Python dependencies would likely lead to build errors. Most of
these issues were not due to fundamental problems but because of unsupported
default options or minor assumptions broken on the free-threaded build.</p>
<p>Together with package maintainers and other contributors in the community,
we have fixed many of these issues and today things are much better. With the
release of Cython 3.1.0, which ships official support for the free-threaded
build, we also helped fix one of the most significant sources of build issues.</p>
<p>We are currently working on packages that ship compiled code but still do not
yet ship free-threaded wheels. You can track our progress using our manually
updated <a href="https://py-free-threading.github.io/tracking/">status tracking table</a>
or using Hugo van Kemenade's <a href="https://hugovk.github.io/free-threaded-wheels/">automatically updated
tracker</a>.</p>
<h3 id="challenges">Challenges</h3>
<p>As of today, the free-threaded Python build is ready to experiment with. We
need more reports of bad performance and bugs from people with real-world
workflows. Significant performance improvements are possible, particularly in
workflows that make use of multiprocessing and are paying the costs inherent to
that approach. However, many packages still need detailed auditing to discover
thread safety issues. Many Python libraries ship mutable data structures that
will not behave correctly under shared mutating and with no or minimal
documentation on thread safety or multithreaded performance.</p>
<p>As in any change of this magnitude that affects an entire programming language
package ecosystem, we are hitting cases where popular packages do not have the
resources needed to deal with changes needed to support free-threading. This is
particularly true of large legacy packages where few people or even no one
fully understands the code. As a community, we need to understand these issues
in our dependency trees and work towards sustainable maintenance for critical
packages.</p>
<h3 id="how-can-you-help">How can you help?</h3>
<p>Take a look at the <a href="https://py-free-threading.github.io/contributing/">contribution guide</a>
we've added to the main free-threading guide. We're tracking ecosystem-wide
issues and writing the content of the free-threaded guide in the
<a href="https://github.com/Quansight-Labs/free-threaded-compatibility">free-threaded-compatibility</a>
repository hosted on the Quansight-Labs GitHub org.</p>
<p>We also helped launch a <a href="https://discord.gg/rqgHCDqdRr">community Discord</a> to host
discussions about supporting the free-threaded build. Come join us if you're
interested in helping out!</p>
<h2 id="come-to-our-talk-at-pycon">Come to our talk at PyCon!</h2>
<p>I will be giving <a href="https://us.pycon.org/2025/schedule/presentation/42/">a talk at
PyCon</a> with my teammate
<a href="https://github.com/lysnikolaou">Lysandros Nikolaou</a>. If you'll be attending
the conference, please come and watch. We'll be sharing details from our
experiences porting packages to support the free-threaded build. We're hopeful
that the recording on YouTube will be a lasting valuable resource for the
visual learners of the world.</p>
<p>Personally, I believe the free-threaded build is the future of the language,
and am excited that I get to work full-time on enabling that. I'm also hopeful
that the work we're doing now will enable future work in the long tail of
packages used every day by millions of developers and dramatically improve the
performance of the language.</p></div></div>]]></description>
        </item>
    </channel>
</rss>