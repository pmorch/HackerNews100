<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 31 Jan 2024 19:00:06 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Y Combinator CEO Garry Tan's online rant spurs threats to supes, police reports (284 pts)]]></title>
            <link>https://missionlocal.org/2024/01/y-combinator-ceo-garry-tans-online-rant-spurs-threat-to-supe-police-reports/</link>
            <guid>39205676</guid>
            <pubDate>Wed, 31 Jan 2024 16:26:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://missionlocal.org/2024/01/y-combinator-ceo-garry-tans-online-rant-spurs-threat-to-supe-police-reports/">https://missionlocal.org/2024/01/y-combinator-ceo-garry-tans-online-rant-spurs-threat-to-supe-police-reports/</a>, See on <a href="https://news.ycombinator.com/item?id=39205676">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

		
		
<p>At least two San Francisco supervisors received a threatening letter at their homes on Tuesday and two more filed police reports after Garry Tan, the CEO of Y Combinator and a heavy campaign donor to efforts to oust progressive politicians, <a href="https://missionlocal.org/2024/01/garry-tan-death-wish-sf-supervisors/">posted online that seven supervisors should die a slow death</a>.</p>



<p>Tan wrote “Die slow motherfuckers” in reference to Supervisors Aaron Peskin, Connie Chan, Myrna Melgar, Shamann Walton, Hillary Ronen, Dean Preston and Ahsha Safaí in a <a href="https://missionlocal.org/2024/01/garry-tan-death-wish-sf-supervisors/">late-night rant Saturday</a>. During his online tirade, Tan <a href="https://missionlocal.org/2024/01/garry-tan-death-wish-sf-supervisors/">posted photos of his private liquor stash, and indicated to a fellow Twitter-user that he was inebriated</a>. </p>



<p>The “die slow, motherfucker” line was a reference to a Tupac Shakur song, and Tan later apologized. That 1996 song, “<a href="https://www.youtube.com/watch?v=41qC3w3UUkU">Hit ‘Em Up</a>,” escalated the simmering East Coast-West Coast rap rivalry into a lethal feud; Shakur was gunned down three months after its release.&nbsp;</p>




<p>The named supervisors did not take the incident lightly:<a href="https://www.sfchronicle.com/sf/article/sf-garry-tan-x-threatening-peskin-police-report-18637813.php"> Peskin and Chan</a> on Tuesday <a href="https://www.sfchronicle.com/sf/article/sf-garry-tan-x-threatening-peskin-police-report-18637813.php">filed police reports</a>, Melgar and Safaí have pledged to do the same and both Peskin and Preston today received a letter to their homes citing Tan’s diatribe and wishing death upon them and their families.</p>



<p>When asked if she felt personally threatened by Tan’s behavior, Chan responded “Seeing what my colleague[s] received in the mail? Yes, absolutely. I have a 10-year-old. I do not tell people where my child attends school.”</p>



<p><a href="https://www.sfchronicle.com/sf/article/sf-garry-tan-x-threatening-peskin-police-report-18637813.php">The <em>San Francisco Chronicle</em> first reported </a>the hate mail sent to Preston and the police reports filed by Chan and Peskin. Peskin at 8:40 p.m. confirmed to Mission Local that he, too, received a threatening letter at his home. The envelope was emblazoned with a smiling portrait of Tan.</p>



<p>“Garry Tan is right!” the letter sent to Peskin, Preston and, perhaps, others read. “I wish a slow and painful death for you and your loved ones.”</p>



<figure><img decoding="async" width="853" height="640" src="https://missionloca.s3.amazonaws.com/mission/wp-content/uploads/2024/01/IMG_0761-853x640.jpeg" alt="Gary Tan is the right poster."><figcaption>The letter received today by Supervisors Aaron Peskin and Dean Preston</figcaption></figure>



<p>Preston has in particular drawn the venom of Tan: Preston is the lone democratic socialist on the Board of Supervisors, an odious position to Tan, and Tan has donated $5,000 to Preston’s opponent and <a href="https://sfstandard.com/2023/07/31/dump-dean-preston-pac-growsf-declares-war-sf-supervisor-election/">pledged</a> another $50,000 to the effort to unseat him.</p>




<p>Bizarrely, the letter to Preston and Peskin concluded: “This mail was sent to communicate a political opinion. No threats were intended.”</p>



<p>The board’s five Jewish members —&nbsp;Peskin, Ronen, Melgar, Preston and Rafael Mandelman — <a href="https://sfstandard.com/2023/10/20/sickening-antisemitic-postcard-mailed-to-homes-of-5-san-francisco-supervisors/">in October received antisemitic postcards</a> at their homes. Peskin said multiple supervisors have received as many as four more antisemitic letters or postcards since then. </p>



<p>He noted that the exact phrase “This mail was sent to communicate a political opinion. No threats were intended” was written on one of the disturbing communiques he received earlier.&nbsp;</p>



<p>Chan says she received a letter in December at her home accusing her of “white genocide.” Chan, who is Chinese, is married to a white man and has&nbsp;a mixed-race child.&nbsp;</p>



<p>While she first thought to “brush off” Tan’s comments, Chan says she was initially unaware how tied in he is politically. She then learned that Tan has hosted numerous moderate supervisor candidates at his home, including her major challenger, Marjan Philhour.</p>




<p>Chan, in her police report, notes that she had filed a prior report last year against Philhour’s staffer, Forrest Liu, whom she accuses of twice physically threatening her — publicly and in person.</p>



<p>After realizing the association of Tan to Philhour to Liu, she said “it then dawned on me that these unhinged individuals who have wished me death online as well as physically threaten me are connected, it became alarming to me that the threats are potentially violent and imminent.” </p>



<p>Liu did not respond to requests for comment. </p>



<p>Tan has indeed hosted San Francisco moderate political figures at his Mission District home, including District Attorney Brooke Jenkins, Philhour and District 9 candidate Trevor Chandler.</p>



<p>Philhour and Chandler both criticized their backer Tan in light of his comments.</p>



<p>“Threats to one’s life or safety have no place in political discourse,” Philhour said.</p>



<p>“It is never okay to advocate violence, be it seriously or in jest,” said Chandler.&nbsp;</p>



<p>Jenkins did not respond to requests for comment.</p>



<p>Peskin today asked the City Attorney’s Office to look into requiring public disclosures from recipients of political donations from “purveyors of hate and violence.” </p>



<p>“When individuals in our society, especially and most concerning those with money,<br>power and influence, call for public servants to be tortured or killed, it is crossing a bright line — and must not be condoned by society,” Peskin said today in Board chambers. “To ignore it is dangerous and a disservice to democracy.”</p>



<p>But tying this potential legislation to the message Tan communicated to his 408,000 Twitter followers would appear to be a serious legal challenge: Half a dozen lawyers and judges told Mission Local that, however ill-advised, Tan’s comments do not rise to the legal definition of a death threat.&nbsp;</p>



<p><a href="https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?lawCode=PEN&amp;sectionNum=422.">Under Penal Code 422</a>, a person making a criminal threat must harbor “specific intent that the statement, made verbally, in writing, or by means of an electronic communication device, is to be taken as a threat…”&nbsp;</p>



<p>“It is offensive, but it is speech protected by the First Amendment,” said Berkeley School of Law dean Erwin Chemerinsky. “It does not meet the standard for incitement.”&nbsp;</p>



<p>Tan is a well-heeled donor for San Francisco’s moderate causes and candidates. He sits on the board of Grow SF, a political pressure group favoring moderate causes and candidates and targeting progressives. Tan gave more than $100,000 to the <a href="https://missionlocal.org/2022/05/explore-almost-9-million-donated-for-and-against-boudin-recall/">2022 campaign to recall then-District Attorney Chesa Boudin</a>. He gave at least $20,000 to the <a href="https://missionlocal.org/2022/01/who-is-funding-the-school-board-recall/">2021 school board recall</a>, too.</p>



<p>Tan could not be reached for comment. Neither Y Combinator nor Grow SF immediately responded to requests for comment.</p>


	<div data-posts="" data-current-post-id="581806">
							<h2>
					<span>See Also</span>
				</h2>
						
	<article data-post-id="581443">
							<figure>
								
				
							</figure><!-- .featured-image -->
		
		<!-- .entry-wrapper -->
	</article>

				</div>
		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Infinite Craft (309 pts)]]></title>
            <link>https://neal.fun/infinite-craft/</link>
            <guid>39205020</guid>
            <pubDate>Wed, 31 Jan 2024 15:34:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://neal.fun/infinite-craft/">https://neal.fun/infinite-craft/</a>, See on <a href="https://news.ycombinator.com/item?id=39205020">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-v-25c6935a="" id="__nuxt" data-server-rendered="true"><p><a href="https://neal.fun/" data-v-25c6935a=""><img src="https://neal.fun/general/logo.svg" data-v-25c6935a=""></a></p><p><img src="https://neal.fun/infinite-craft/clear.svg" data-v-25c6935a=""> <img src="https://neal.fun/infinite-craft/sound.svg" data-v-25c6935a=""></p> <canvas data-v-25c6935a=""></canvas> <div data-v-25c6935a=""><div data-v-25c6935a=""><p><span data-v-25c6935a="">💧</span>
Water
</p><p><span data-v-25c6935a="">🔥</span>
Fire
</p><p><span data-v-25c6935a="">🌬️</span>
Wind
</p><p><span data-v-25c6935a="">🌍</span>
Earth
</p> <p>Drag elements to craft</p></div> <div data-v-25c6935a=""><p><img src="https://neal.fun/infinite-craft/sort.svg" data-v-25c6935a="">
Sort by time
</p></div></div> <div data-v-25c6935a=""><p><span data-v-25c6935a="">💧</span>
Water
</p></div>  <p><img src="https://neal.fun/infinite-craft/sound.svg" data-v-25c6935a=""></p> <p><img src="https://neal.fun/infinite-craft/logo.svg" data-v-25c6935a=""></p><div data-v-25c6935a=""><div data-v-25c6935a=""><p><span data-v-25c6935a="">💧</span>
Water
</p></div><div data-v-25c6935a=""><p><span data-v-25c6935a="">🔥</span>
Fire
</p></div><div data-v-25c6935a=""><p><span data-v-25c6935a="">🌬️</span>
Wind
</p></div><div data-v-25c6935a=""><p><span data-v-25c6935a="">🌍</span>
Earth
</p></div></div> <p>
Tap two elements to craft
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Adobe gives up on web-design product to rival Figma after deal collapse (152 pts)]]></title>
            <link>https://www.bloomberg.com/news/articles/2024-01-30/adobe-gives-up-on-xd-after-figma-deal-collapse</link>
            <guid>39204955</guid>
            <pubDate>Wed, 31 Jan 2024 15:29:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bloomberg.com/news/articles/2024-01-30/adobe-gives-up-on-xd-after-figma-deal-collapse">https://www.bloomberg.com/news/articles/2024-01-30/adobe-gives-up-on-xd-after-figma-deal-collapse</a>, See on <a href="https://news.ycombinator.com/item?id=39204955">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
    <section>
        <h3>Why did this happen?</h3>
        <p>Please make sure your browser supports JavaScript and cookies and that you are not
            blocking them from loading.
            For more information you can review our <a href="https://www.bloomberg.com/notices/tos">Terms of
                Service</a> and <a href="https://www.bloomberg.com/notices/tos">Cookie Policy</a>.</p>
    </section>
    <section>
        <h3>Need Help?</h3>
        <p>For inquiries related to this message please <a href="https://www.bloomberg.com/feedback">contact
            our support team</a> and provide the reference ID below.</p>
        <p>Block reference ID:</p>
    </section>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[RavenDB 6.0.2 (A Jepsen Report) (104 pts)]]></title>
            <link>https://jepsen.io/analyses/ravendb-6.0.2</link>
            <guid>39204622</guid>
            <pubDate>Wed, 31 Jan 2024 15:04:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jepsen.io/analyses/ravendb-6.0.2">https://jepsen.io/analyses/ravendb-6.0.2</a>, See on <a href="https://news.ycombinator.com/item?id=39204622">Hacker News</a></p>
<div id="readability-page-1" class="page"><p><a href="https://ravendb.net/">RavenDB</a> is a document database which claims to offer ACID transactions, including Snapshot Isolation by default and Serializability with the strongest settings. Following the documentation’s claim that a session “represents a single business transaction,” we tested RavenDB 6.0.2 and found surprising behavior even in healthy, single-node clusters. Transactions lose updates by default. Both the optimistic concurrency and cluster-wide transaction modes allow fractured read: a serious anomaly forbidden by Snapshot Isolation and several weaker consistency models. Alternatively, RavenDB may not have interactive transactions at all. This work was performed independently without compensation, and conducted in accordance with the <a href="https://jepsen.io/ethics">Jepsen ethics policy</a>.</p><article>
  <div>
<h2 data-number="1" id="background"> Background</h2>
<p><a href="https://ravendb.net/">RavenDB</a> is a distributed document database which <a href="https://ravendb.net/why-ravendb">repeatedly advertises</a> its support for ACID transactions.<a href="#fn1" id="fnref1" role="doc-noteref"><sup>1</sup></a> It’s intended for OLTP workloads, and offers a variety of <a href="https://ravendb.net/docs/article-page/6.0/csharp/server/ongoing-tasks/etl/basics">ETL paths</a> for exporting data to other systems. Its transactional API revolves around a <a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/session/what-is-a-session-and-how-does-it-work">session</a> handle, which “represents a single business transaction on a particular database.” Users create a session, perform operations like reads and writes, and finally call <code>session.saveChanges()</code> to commit their writes as an atomic unit.</p>
<p>RavenDB can <a href="https://ravendb.net/why-ravendb/high-availability">replicate data across a set of nodes with automated failover</a>. Sharding is either a <a href="https://issues.hibernatingrhinos.com/issue/RavenDB-8115">work in progress</a> or <a href="https://ravendb.net/features/clusters/sharding">ready in 6.0</a>, depending on which part of the documentation you’re reading. RavenDB includes secondary indices wrapped with a homegrown <a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/session/querying/how-to-query">query language</a>, <a href="https://ravendb.net/docs/article-page/6.0/csharp/document-extensions/revisions/overview">multiple revisions of documents</a>, <a href="https://ravendb.net/docs/article-page/6.0/csharp/document-extensions/timeseries/overview">time series</a> datatypes, and <a href="https://crdt.tech/">CRDT</a>-based <a href="https://ravendb.net/why-ravendb/multi-model">counters</a>. In this text, we’ll focus on RavenDB’s transactional key-value operations.</p>
<h2 data-number="1.1" id="replication"> Replication</h2>
<p>Per RavenDB’s <a href="https://ravendb.net/why-ravendb/high-availability">High Availability</a> page, the database accepts writes and reads across all nodes in the cluster. It uses the <a href="https://raft.github.io/">Raft</a> consensus algorithm, which should theoretically allow RavenDB to provide consistency models up to <a href="https://jepsen.io/consistency/models/strict-serializable">Strong Serializability</a>. However, that page goes on to say operators can “easily setup a topology in which end points operate … independently in case the network is disrupted.” In a blog post, CEO Oren Eini repeats this claim:</p>
<blockquote>
<p>If a node is located in a place where the internet connectivity goes down, that node can continue to operate offline, taking in data locally. Once the connection is restored, the node will take the data it processed and replicate it throughout your cluster.</p>
</blockquote>
<p>This would make ACID transactions impossible. The “I” in ACID refers to “Isolation”: transactions must appear to execute independently, without interference from other transactions. This property is formalized as <a href="https://jepsen.io/consistency/models/serializable">Serializability</a>: equivalence to some totally ordered, non-concurrent execution of transactions. We know that totally available systems <a href="https://jepsen.io/consistency">cannot offer</a> Serializability or even <a href="https://jepsen.io/consistency/models/snapshot-isolation">Snapshot Isolation</a>. RavenDB might offer <a href="https://jepsen.io/consistency/models/causal">Causal</a> or <a href="https://jepsen.io/consistency/models/read-committed">Read Committed</a>, but the stronger consistency models are theoretically off-limits.</p>
<p>A <a href="https://ravendb.net/features/clusters/high-availability">second page on high availability</a> explains that there are two layers within RavenDB, and that Raft is used only for cluster metadata:</p>
<blockquote>
<ul>
<li><p>First, the cluster layer is managed by a consensus protocol called Raft. In CAP theorem it is CP (consistent and partition tolerant).</p></li>
<li><p>The second layer, the database layer, is AP (it is always available, even if there is a partition, and it’s eventually consistent) and is handled by a gossip protocol between the databases on different nodes, forming multi-master mesh and replicating data between each other.</p></li>
</ul>
<p>RavenDB utilizes the different layers for different purposes. At the cluster layer, the consensus protocol ensures that operators have the peace of mind of knowing that their commands are accepted and followed. At the database layer you know that RavenDB will never lose writes and will always keep your data safe.</p>
</blockquote>
<p>This is also confusing. AP systems are known for availability, not safety; lost update is a well-understood problem in AP registers. RavenDB claims to offer transactions with ACID guarantees. However, these transactions are apparently routed through an eventually-consistent, totally available replication system. There are <a href="https://docs.datomic.com/pro/getting-started/brief-overview.html">databases which couple</a> an (e.g.) Sequential transaction coordinator to an eventually-consistent datastore to provide Serializability, but it’s not clear from this documentation how RavenDB links cluster and database layers together to ensure safety.</p>
<p>The <a href="https://ravendb.net/learn/inside-ravendb-book/reader/4.0/6-ravendb-clusters">Inside RavenDB chapter on cluster design</a> confirms that Raft is used only for cluster metadata. Writes are allowed on every node, and are totally available:</p>
<blockquote>
<p>RavenDB uses multi-master replication inside a database, and it’s always able to accept writes.</p>
<p>In other words, even if the majority of the cluster is down, as long as a single node is available, we can still process reads and writes.</p>
</blockquote>
<p>On the other hand, RavenDB’s <a href="https://ravendb.net/articles/acid-transactions-in-nosql-ravendb-vs-mongodb">ACID Transactions in NoSQL</a> post claims the opposite:</p>
<blockquote>
<p>As in the single node version, RavenDB commits a transaction with just one round of Raft consensus.</p>
</blockquote>
<p>If Raft <em>is</em> involved in the transactions, RavenDB can offer up to Strong Serializability—but transactions cannot be totally available. Indeed, RavenDB’s <a href="https://ravendb.net/docs/article-page/6.0/Csharp/server/clustering/cluster-transactions">clustering documentation</a> clarifies there are actually two separate transaction paths. The default mode is called a <em>single-node</em> transaction, which allows conflicts “when two clients try to modify the same set of documents on two different database nodes.” A <em>cluster-wide transaction</em> uses Raft to prevent conflicts, allowing transactions to “favor consistency over availability.” To execute a cluster-wide transaction, one <a href="https://ravendb.net/docs/article-page/6.0/java/client-api/session/saving-changes#transaction-mode---cluster-wide">must set</a> <code>TransactionMode = CLUSTER_WIDE</code>.</p>
<p>What safety properties do these transaction paths guarantee? For this, we need to consider RavenDB’s ACID claims in detail.</p>
<h2 data-number="1.2" id="acid"> ACID</h2>
<p>RavenDB’s <a href="https://ravendb.net/why-ravendb">home page</a> prominently advertises “ACID database transactions” “across multiple documents and across your entire cluster.” Its <a href="https://ravendb.net/why-ravendb/acid-transactions">ACID Database Transactions</a> page explains that a database without transactions is “not much of a database.” It boasts that RavenDB “guarantee[s] ACID without sacrificing performance” and notes that because of its distributed ACID guarantees, “developers are exempt from handling the numerous scenarios of partial data transfers and the intricacies of data storage.”</p>
<p>RavenDB’s <a href="https://ravendb.net/articles/acid-transactions-in-nosql-ravendb-vs-mongodb">ACID Transactions in NoSQL</a> article explains that RavenDB “was capable of multi-document transactions since version 1.0”:</p>
<blockquote>
<p>Because it was optimized with this in mind, there wasn’t even a need for a non-ACID option. Any combination of database operations can be combined into an ACID transaction. As a user you never needed to implement ACID guarantees yourself, and you were free to design documents around your own requirements….</p>
<p>RavenDB was designed to make one and only one round trip to the server per transaction. RavenDB’s version of the session object tracks a series of commands, collects them as a batch, and sends them all to the server in a single round-trip when the method <code>session.saveChanges()</code> is called.</p>
</blockquote>
<p>Again, <a href="https://ravendb.net/articles/acid-cluster-distributed-nonrelational-database">RavenDB claims</a> to have been “the pioneer database to offer ACID in a nonrelational context. In 2010, RavenDB offered ACID consistency across multiple documents.” However, these guarantees held only on a single node: concurrent clients on different nodes could violate isolation. RavenDB 4.0, released in fall 2020, introduced the cluster-wide transaction path, which took transactions “from being ACID over multiple documents to being ACID over your entire cluster.”</p>
<p>The <a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/faq/transaction-support">Transaction FAQ</a> says “all actions performed on documents are fully ACID” but contradicts itself immediately, saying “in a single transaction, all operations operate under snapshot isolation.” <a href="https://dbdb.io/db/ravendb">DBDB</a> takes this to mean that RavenDB offers Snapshot Isolation by default.<a href="#fn2" id="fnref2" role="doc-noteref"><sup>2</sup></a> In a <a href="https://www.youtube.com/watch?v=5ZXBR3croMA&amp;t=39m">2020 webinar</a>, CEO Oren Eini confirmed this position: “RavenDB uses Snapshot Isolation by default, and transactions are effectively going to observe Serializable between operations that happen on the same node.”</p>
<p>There are hints that RavenDB might provide something much weaker than Snapshot Isolation. Buried in the <em>Inside RavenDB</em> book, in the chapter on document modeling, is a <a href="https://ravendb.net/learn/inside-ravendb-book/reader/4.0/3-document-modeling#concurrency-control">section on concurrency control</a>. This section explains that RavenDB (at least in version 4.0) performed no concurrency control, and instead used Last Write Wins conflict resolution by default.</p>
<blockquote>
<p>What happens if two requests are trying to modify the same document at the same time? That depends on what, exactly, you asked RavenDB to do. If you didn’t do anything, RavenDB will execute those two modifications one at a time, and the last one will win. There’s no way to control which would be last. Note that both operations will execute.</p>
</blockquote>
<p>This is the <em>opposite</em> of ACID isolation. Isolated transactions appear to execute sequentially, not concurrently. It also contradicts claims of Snapshot Isolation: Last Write Wins registers allow all kinds of anomalies which would be prohibited under Snapshot Isolation, including <a href="https://dzone.com/articles/conflict-resolution-using-last-write-wins-vs-crdts">lost update</a>. However, this book is two major releases out of date; it may not apply to 6.0.2.</p>
<p>What about cluster-wide transactions? The <a href="https://ravendb.net/docs/article-page/6.0/java/server/clustering/cluster-transactions#concurrent-cluster-wide-and-single-node-transactions">Cluster Transactions</a> page seems definitive. “Concurrent cluster-wide transactions are guaranteed to appear as if they are run one at a time (<code>serializable</code> isolation level).”<a href="#fn3" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p>From this, Jepsen infers that RavenDB’s default transaction settings should ensure Snapshot Isolation by default and Serializability in a single-node system. Cluster-wide transactions should ensure Serializability globally.</p>
<h2 data-number="2" id="test-design"> Test Design</h2>
<p>In 2020 RavenDB <a href="https://github.com/ml054/jepsen/">wrote their own Jepsen test</a> and declared in <a href="https://www.youtube.com/watch?v=5ZXBR3croMA&amp;">a webinar</a> that per that test, “everything works.” Their test checked the linearizability of individual <a href="https://github.com/ml054/jepsen/blob/08960da98ab9bf7959fce014c63b146b903cbe6c/ravendb/src/jepsen/ravendb.clj#L164-L196">reads and writes</a> against a single document. It did not evaluate multi-operation or multi-document transactions.<a href="#fn4" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>We designed a <a href="https://github.com/jepsen-io/ravendb/tree/4431310402f334ffdb18a5a7ec819316847b642b">new test harness</a> for RavenDB 6.0.2 running on a single Debian Bookworm node. Our test used RavenDB’s JVM client library at version 5.0.4. We did not evaluate multi-node clusters or any kind of faults.</p>
<p>We wrote a single list-append workload using <a href="https://github.com/jepsen-io/elle">Elle</a> to verify transactional isolation. This workload performs transactions over lists, each list identified by a unique integer ID. Each transaction consists of reads and/or appends of unique integers to those lists. Each worker thread in the test <a href="https://github.com/jepsen-io/ravendb/blob/8315d6053bf022203a24db74812d2fdfe89b56b7/src/jepsen/ravendb/client.clj#L26-L31C15">opens a single DocumentStore</a> connected to the same node. Each transaction creates a new <a href="https://github.com/jepsen-io/ravendb/blob/8315d6053bf022203a24db74812d2fdfe89b56b7/src/jepsen/ravendb/client.clj#L54-L62">session</a>, performs <a href="https://github.com/jepsen-io/ravendb/blob/8315d6053bf022203a24db74812d2fdfe89b56b7/src/jepsen/ravendb/append.clj#L25-L41">reads and/or appends</a>, then calls <a href="https://github.com/jepsen-io/ravendb/blob/8315d6053bf022203a24db74812d2fdfe89b56b7/src/jepsen/ravendb/client.clj#L90"><code>session.saveChanges()</code></a> to commit. Reads are encoded as a <a href="https://github.com/jepsen-io/ravendb/blob/8315d6053bf022203a24db74812d2fdfe89b56b7/src/jepsen/ravendb/append.clj#L26-L28">single call</a> to <code>session.load(java.util.Map, id)</code>. Appends call <code>session.load</code> to read the current value, add their integer element to the end of the list, then call <a href="https://github.com/jepsen-io/ravendb/blob/8315d6053bf022203a24db74812d2fdfe89b56b7/src/jepsen/ravendb/append.clj#L40"><code>session.store(map, key)</code></a>.</p>
<p>RavenDB offers a few knobs for tuning transaction safety: <code>transactionMode</code> and <code>optimisticConcurrency</code>. We ran our tests using the defaults (single-node transactions, no optimistic concurrency), with single-node transactions and optimistic concurrency, and finally with cluster-wide transactions. Cluster-wide transactions cannot be combined with optimistic concurrency.</p>
<h2 data-number="3" id="results"> Results</h2>
<p>We found surprising safety errors in all three transaction modes.</p>
<h2 data-number="3.1" id="lost-update-with-single-node-transactions-17927"> Lost Update with Single-Node Transactions (#17927)</h2>
<p>By default, RavenDB executes transactions with <code>transactionMode = SINGLE_NODE</code> and <code>optimisticConcurrency = false</code>. One might assume that <code>SINGLE_NODE</code> transactions are safe on single-node clusters. However, we found the default settings caused RavenDB to lose updates constantly, even in single-node clusters without faults.</p>
<p>For instance, in this <a href="https://github.com/ravendb/ravendb/files/13794868/20231229T102201.960-0600.zip">five-second test run</a> we performed 12,886 transactions over 975 keys. 81 of those keys exhibited a provable lost update. Here are two committed transactions involving key 830:</p>
<div id="cb1"><pre><code><span id="cb1-1">[[<span>:r</span> <span>830</span> [<span>1</span> <span>2</span>]]</span>
<span id="cb1-2"> [<span>:append</span> <span>824</span> <span>11</span>]</span>
<span id="cb1-3"> [<span>:append</span> <span>807</span> <span>14</span>]</span>
<span id="cb1-4"> [<span>:append</span> <span>830</span> <span>3</span>]]</span>
<span id="cb1-5"></span>
<span id="cb1-6">[[<span>:r</span> <span>830</span> [<span>1</span> <span>2</span>]]</span>
<span id="cb1-7"> [<span>:r</span> <span>831</span> <span>nil</span>]</span>
<span id="cb1-8"> [<span>:r</span> <span>831</span> <span>nil</span>]</span>
<span id="cb1-9"> [<span>:append</span> <span>830</span> <span>4</span>]]}]}</span></code></pre></div>
<p>Both of these transactions read key 830’s value as the list <code>[1, 2]</code>. Both went on to append a value to key 830: the first transaction appended <code>3</code>, and the second transaction appended <code>4</code>. Neither saw the other’s effects. In a Snapshot Isolated system, the <em>first-committer-wins</em> rule demands that one of these transactions must abort. RavenDB, however, allowed both transactions to commit. This is the definition of a lost update anomaly.</p>
<p>In an isolated transaction system which only ever appends elements to lists, every observed version of a single list must be a prefix of the longest version of that list. However, 454 of the keys in this test violated this prefix property, exhibiting <em>incompatible orders</em>. For example, here are all the reads of key 116:</p>
<table>
<thead>
<tr>
<th>Time (s)</th>
<th>Process</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>3.01</td>
<td>1</td>
<td>[1 2]</td>
</tr>
<tr>
<td>3.01</td>
<td>1</td>
<td>[1 2]</td>
</tr>
<tr>
<td>3.01</td>
<td>0</td>
<td>[1 2]</td>
</tr>
<tr>
<td>3.01</td>
<td>1</td>
<td>[1 2 3]</td>
</tr>
<tr>
<td>3.01</td>
<td>0</td>
<td>[1 2 4]</td>
</tr>
<tr>
<td>3.01</td>
<td>1</td>
<td>[1 2 4 5]</td>
</tr>
<tr>
<td>3.01</td>
<td>0</td>
<td>[1 2 4]</td>
</tr>
<tr>
<td>3.02</td>
<td>1</td>
<td>[1 2 4 6]</td>
</tr>
<tr>
<td>3.02</td>
<td>1</td>
<td>[1 2 4 6]</td>
</tr>
<tr>
<td>3.02</td>
<td>1</td>
<td>[1 2 4 6 9]</td>
</tr>
<tr>
<td>3.02</td>
<td>1</td>
<td>[1 2 4 6 9 10]</td>
</tr>
<tr>
<td>3.02</td>
<td>1</td>
<td>[1 2 4 6 9 10 11 15]</td>
</tr>
<tr>
<td>3.02</td>
<td>0</td>
<td>[1 2 4 6 9 10 11 15]</td>
</tr>
</tbody>
</table>
<p>Just over three seconds into the test, process 1 observed key 116’s state as <code>[1 2 3]</code>. However, an immediately following read by process 0 saw <code>[1 2 4]</code>, and the write of <code>3</code> never appeared again. Process 1 then observed <code>[1 2 4 5]</code>. This write of <code>5</code> was replaced by <code>6</code> and never seen again.</p>
<p>Our lost update checker is conservative: it only infers an anomaly if two transactions read the same version of some key <em>and</em> both write to it. However, our <code>append</code> operations are performed by reading the value, then writing back changes. This means these transactions contain reads which are effectively invisible to the checker. It seems likely that these cases of incompatible order also represent lost updates.</p>
<p>In total, 481 out of the 975 keys in this test exhibited lost updates or incompatible orders. These phenomena are prohibited by Serializability, Snapshot Isolation, and Repeatable Read. We’ve reported this as <a href="https://github.com/ravendb/ravendb/issues/17927">issue 17927</a> in RavenDB’s issue tracker.</p>
<h2 data-number="3.2" id="fractured-reads-with-optimistic-concurrency-17929"> Fractured Reads with Optimistic Concurrency (#17929)</h2>
<p>With the <em><a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/session/configuration/how-to-enable-optimistic-concurrency">optimistic concurrency</a></em> feature enabled, RavenDB promises to “generate a concurrency exception (and abort all modifications in the current transaction) when the document has been modified on the server side after the client received and modified it.” When running on a single node, this setting does appear to prevent lost updates. However, it allows fractured reads—as well as various flavors of G-Single, G-nonadjacent, and G2-item. Again, these anomalies occurred in a healthy single-node system.</p>
<p>For instance, consider this <a href="https://s3.amazonaws.com/jepsen.io/analyses/ravendb-6.0.2/20231229T140050.249-0600.zip">ten-second test run</a> in which every transaction enabled optimistic concurrency. Our checker found hundreds of anomalies like this:</p>

<p>In this diagram the top transaction <span><em>T</em><sub>1</sub></span> appended <code>3</code> to key 271, then appended <code>2</code> to key 279. The bottom transaction <span><em>T</em><sub>2</sub></span> read key 271 and found nothing, appended 6 to key 276, and finally read key 279’s value as <code>[2]</code>. Because <span><em>T</em><sub>2</sub></span> failed to observe <span><em>T</em><sub>1</sub></span>’s append to key 271, we have a read-write anti-dependency, denoted <code>rw</code>. Because <span><em>T</em><sub>2</sub></span> observed <span><em>T</em><sub>1</sub></span>’s append to key 279, we have a write-read dependency, denoted <code>wr</code>. In short, <span><em>T</em><sub>2</sub></span> observed some, but not all, of the effects of <span><em>T</em><sub>1</sub></span>.</p>
<p>This anomaly is called <em>fractured read</em>, and it is prohibited under Read Atomic, Update Atomic, Causal, Prefix, Parallel Snapshot Isolation, Snapshot Isolation, Repeatable Read, and Serializable. RavenDB’s <a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/faq/transaction-support">Transaction FAQ</a> promises Snapshot Isolation: “even if you access multiple documents, you’ll get all of their state as it was in the beginning of the request.” In all Snapshot Isolated databases Jepsen is familiar with, snapshots extend across multiple reads. In RavenDB, it appears each read can observe a different state. We’ve reported this as <a href="https://github.com/ravendb/ravendb/issues/17929">issue #17929</a> to RavenDB.</p>
<h2 data-number="3.3" id="fractured-read-with-cluster-wide-transactions-17928"> Fractured Read with Cluster-Wide Transactions (#17928)</h2>
<p>Cluster-wide transactions are <a href="https://ravendb.net/docs/article-page/6.0/csharp/server/clustering/cluster-transactions">supposed to be Serializable</a>. However, we found that even healthy, single-node clusters in which every transaction used <code>CLUSTER_WIDE</code> mode routinely exhibited fractured reads, as well as G-single, G-nonadjacent, G2-item, and more. Consider this <a href="https://s3.amazonaws.com/jepsen.io/analyses/ravendb-6.0.2/20231229T145350.284-0600.zip">five second test run</a>, which contained hundreds of serializability violations. Here is one of those anomalies:</p>

<p>Here, the bottom transaction <span><em>T</em><sub>2</sub></span> appended <code>6</code> to key 146 and <code>1</code> to key 149. The top transaction <span><em>T</em><sub>1</sub></span> failed to observe <span><em>T</em><sub>2</sub></span>’s append to key 149, but <em>did</em> observe its append to key 146. This is another instance of fractured read. As before, this behavior appears to be proscribed by RavenDB’s documentation, as well as all consistency models above Read Atomic.</p>
<p>We’ve reported this to RavenDB as <a href="https://github.com/ravendb/ravendb/issues/17928">issue #17928</a>.</p>
<table>
<thead>
<tr>
<th>№</th>
<th>Summary</th>
<th>Event Required</th>
<th>Fixed in</th>
</tr>
</thead>
<tbody>
<tr>
<td>17927</td>
<td>Lost update with single-node transactions</td>
<td>None</td>
<td>Unresolved</td>
</tr>
<tr>
<td>17929</td>
<td>Fractured read with optimistic concurrency</td>
<td>None</td>
<td>Unresolved</td>
</tr>
<tr>
<td>17928</td>
<td>Fractured read with cluster-wide transactions</td>
<td>None</td>
<td>Unresolved</td>
</tr>
</tbody>
</table>
<h2 data-number="4" id="discussion"> Discussion</h2>
<p>RavenDB variously claims to offer “fully ACID” transactions, Serializability, or at least Snapshot Isolation. All of these claims appear false. RavenDB 6.0.2’s default settings allowed lost updates. Even cluster-wide transactions exhibited fractured reads: a serious anomaly prohibited under Snapshot Isolation, as well as several weaker models. These behaviors occur even in healthy, single-node, single-shard systems, in which all access occurs via primary key.</p>
<p>RavenDB’s strongest safety settings violate Read Atomic. It therefore cannot satisfy Update Atomic, Causal, Prefix, Parallel Snapshot Isolation, Snapshot Isolation, Repeatable Read, or Serializable. RavenDB might offer Read Committed or Monotonic Atomic View, but without more rigorous testing, Jepsen is hesitant to make this claim.</p>
<p>RavenDB’s weak default behavior is surprising given RavenDB’s repeated emphasis on safety. As CEO Oren Eini <a href="https://www.youtube.com/watch?v=5ZXBR3croMA&amp;t=850s">remarked</a> on MongoDB’s transaction safety settings:</p>
<blockquote>
<p>[Default] values matter. They matter quite a lot. Why is that? Because if you choose the bad values, you’re absolutely going to get some great numbers in benchmark performance. But then you are going to be hitting those [safety] issues in production. And then there is this classic response: “Oh, you should have read the docs and used the proper configuration.”</p>
</blockquote>
<p>One wonders: if ACID properties are so important for RavenDB’s users, why do the default settings allow lost updates, even on single-key operations? Do users realize their updates can be silently discarded? How many are taking care to use cluster-wide transactions where lost updates would violate safety? Do they know that even cluster-wide transactions allow fractured read?</p>
<p>This report follows a cursory investigation into RavenDB’s behavior—it is by no means exhaustive. As always, we caution that Jepsen takes an experimental approach to safety verification: we can prove the presence of bugs, but not their absence. There may be other anomalies in RavenDB.</p>
<h2 data-number="4.1" id="does-ravendb-even-have-transactions"> Does RavenDB Even Have Transactions?</h2>
<p>The first sentence of RavenDB’s <a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/session/cluster-transaction/overview">cluster transaction documentation</a> appears quite clear:</p>
<blockquote>
<p>A session represents a single business transaction.</p>
</blockquote>
<p>This is echoed by the first sentence of RavenDB’s <a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/session/what-is-a-session-and-how-does-it-work">session documentation</a>:</p>
<blockquote>
<p>The Session, which is obtained from the Document Store, is a Unit of Work that represents a single business transaction on a particular database.</p>
</blockquote>
<p>… which goes on to say:</p>
<blockquote>
<p>The batched operations that are sent in the <code>SaveChanges()</code> will complete transactionally. In other words, either all changes are saved as a Single Atomic Transaction or none of them are. So once SaveChanges returns successfully, it is guaranteed that all changes are persisted to the database.</p>
</blockquote>
<p>RavenDB sessions are clearly not intended to work like sessions in typical databases, which are (roughly speaking) <a href="https://www.postgresql.org/docs/current/tutorial-arch.html">one-to-one with client connections</a>.<a href="#fn5" id="fnref5" role="doc-noteref"><sup>5</sup></a> They come with a default limit of <a href="https://ravendb.net/docs/article-page/5.4/java/client-api/session/what-is-a-session-and-how-does-it-work#remarks">30 network requests</a>; typical database sessions are unbounded. They buffer writes; Jepsen is unaware of any other database whose sessions do this. They cache reads; most sessions do not. They include concurrency control mechanisms like lost update prevention; Jepsen is unaware of any other database which does this at the session level. These are all hallmarks of what most databases would call a transaction.</p>
<p>RavenDB’s article <a href="https://ravendb.net/articles/acid-transactions-in-nosql-ravendb-vs-mongodb">ACID Transactions in NoSQL? RavenDB vs MongoDB</a> is emphatic: RavenDB has supported ACID transactions over “any combination of database operations” for over a decade. It certainly appears as if RavenDB sessions are intended for this role!</p>
<p>However, in a <a href="https://github.com/ravendb/ravendb/issues/17927#issuecomment-1872912239">response to issue 17927</a>, Eini (a.k.a. Ayende Rahien) explained that sessions are <em>not</em> in fact transactions:<a href="#fn6" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
<blockquote>
<p>Crucially, RavenDB does not attempt to provide transactional semantics over the entire session, rather it provide[s] transactions over individual requests.</p>
</blockquote>
<p>And in <a href="https://github.com/ravendb/ravendb/issues/17928#issuecomment-1872916841">response to issue #17928</a>, Eini affirms:</p>
<blockquote>
<p>A transaction in RavenDB is a request - so TX1 and TX2 above aren’t actually single transactions, instead, each of them represent 3 independent transactions.</p>
</blockquote>
<p>This is a striking viewpoint: the point of transactions is generally to provide isolation across multiple requests.<a href="#fn7" id="fnref7" role="doc-noteref"><sup>7</sup></a> Moreover, RavenDB’s optimistic concurrency and cluster-wide transaction mechanisms are clearly intended to provide transactional isolation which spans from a session’s reads to its writes. Furthermore, Eini <a href="https://www.youtube.com/watch?v=5ZXBR3croMA&amp;t=23m40s">directly compared RavenDB sessions to MongoDB transactions</a> (which offer typical interactive transaction semantics) and claimed that unlike MongoDB, RavenDB sessions actually satisfied Snapshot Isolation. Yet per Eini’s comments, RavenDB <em>does not have interactive transactions at all</em>.</p>
<p>Repeatedly advertising “ACID transactions” across “any combination of database operations,” telling users that a “session represents a single business transaction,” comparing RavenDB sessions to interactive transactions in other databases, offering concurrency control mechanisms whose scope extends across an entire session, and finally expecting users to realize that sessions are not transactions at all—that a transaction is actually limited to a single HTTP request—stretches credulity.</p>
<p>Jepsen strives to evaluate databases in the context of their marketing and documentation. Although RavenDB’s CEO <a href="https://github.com/ravendb/ravendb/issues/17928#issuecomment-1874064897">now states</a> “we don’t support a transaction over more than a single HTTP request,” RavenDB’s documentation and marketing give every appearance that a session is intended to be a transaction. Jepsen has consulted with several software engineers on their interpretation of these claims, and believes typical database users would come to the same conclusion: RavenDB sessions are transactions. We continue this interpretation throughout this report.</p>
<h2 data-number="4.2" id="recommendations"> Recommendations</h2>
<p>RavenDB users should be aware RavenDB transactions are not ACID in any meaningful sense.<a href="#fn8" id="fnref8" role="doc-noteref"><sup>8</sup></a> This holds even in single-node, single-shard deployments. The defaults allow lost updates: you should expect some of your writes to be silently discarded. The strongest safety settings allow fractured read: you might observe some, but not all, of another transaction’s effects. You could appear to write “into the middle” of another transaction. The two isolation levels RavenDB advertises—Snapshot Isolation and Serializable—appear impossible to obtain.</p>
<p>Users who designed their applications assuming RavenDB provided interactive ACID transactions—or even Snapshot Isolation—should carefully reevaluate their transactions to ensure they are safe in the presence of these anomalies. Consider writing simple tests to verify application invariants are preserved under concurrent execution: the issues in this report are easy to reproduce.</p>
<p>Jepsen recommends RavenDB remove claims of “ACID”, “Serializable”, and “Snapshot Isolation” from their marketing materials and documentation. RavenDB should instead make specific, accurate, and internally consistent claims about safety properties. For instance, RavenDB might say “transactions offer Read Committed by default, plus internal consistency within the scope of a transaction: once a transaction reads a key, subsequent reads and writes of that key observe the originally read state, plus the effects of that particular transaction’s writes. Transactions allow lost update by default. Enabling cluster-wide transactions prevents lost update, but still allows fractured read,” and so on.</p>
<p>RavenDB’s documentation is remarkably confusing. It repeatedly claims to offer <a href="https://ravendb.net/why-ravendb/acid-transactions">ACID transactions</a>, which implies Serializability. There are specific claims that RavenDB ensures either <a href="https://ravendb.net/docs/article-page/6.0/csharp/server/clustering/cluster-transactions#case-1-multiple-concurrent-cluster-transactions">Serializability</a> or <a href="https://www.youtube.com/watch?v=5ZXBR3croMA">Snapshot Isolation</a>. However, the documentation also says that RavenDB’s database layer is an <a href="https://ravendb.net/learn/inside-ravendb-book/reader/4.0/6-ravendb-clusters">AP system</a> based on Last Write Wins, and the marketing material claims isolated nodes can operate <a href="https://ravendb.net/why-ravendb/high-availability">independently</a>. This is impossible: totally available systems <a href="https://jepsen.io/consistency">cannot provide</a> Serializability or Snapshot Isolation.<a href="#fn9" id="fnref9" role="doc-noteref"><sup>9</sup></a></p>
<p>There are systems (like <a href="https://riak.com/index.html">Riak</a> &amp; <a href="https://cassandra.apache.org/_/index.html">Cassandra</a>) which allow clients to execute either totally available operations with weak consistency, or majority available operations with stronger guarantees, like Linearizability. If RavenDB intends to build a system which supports both modes, they should clearly distinguish those modes throughout marketing and documentation. They have completely different availability, latency, and safety characteristics. Repeated claims that RavenDB provides ACID “<a href="https://ravendb.net/why-ravendb/acid-transactions">without sacrificing performance</a>” are <a href="https://lamport.azurewebsites.net/pubs/lower-bound.pdf">provably impossible</a>, and should be rewritten to clearly explain the tradeoffs involved.</p>
<p>ACID transactions are clearly important to RavenDB. It is therefore alarming that RavenDB’s documentation and GitHub comments fundamentally disagree on what a transaction <em>is</em>. In one interpretation, RavenDB offers interactive transactions, represented by the session API, which provide relatively weak isolation—certainly not ACID. In another interpretation, RavenDB lacks interactive transactions altogether. Instead, it offers a sort of micro-transaction which (e.g.) writes multiple documents in a single network request. In this world, sessions offer varying, weak consistency constraints that extend <em>between</em> micro-transactions.</p>
<p>To resolve this confusion, RavenDB should pick a single definition of “transaction” and stick with it. The equivalence or difference between a transaction and session should be clearly explained, and these terms used consistently throughout marketing and documentation. RavenDB should provide guidance as to the boundaries of each unit: when are multiple calls to <code>load</code> performed in a single transaction? What about <code>store</code>? Can a single transaction encompass both a <code>load</code> and <code>store</code>? The consistency properties of both transactions and sessions should be clearly and formally defined. Are transactions Serializable? Do sessions ensure Monotonic Atomic View? When does a session preclude lost update, and when does it allow it? Above all, do not <a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/session/cluster-transaction/overview">tell</a> <a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/session/what-is-a-session-and-how-does-it-work">users</a> that sessions “represent a single business transaction” if they are, in point of fact, not transactions at all.</p>
<p>Finally, if RavenDB transactions are truly intended to cover only a single network request, consider using a different term altogether, and avoid comparisons to databases which do have interactive transactions. Some databases call these “mini-” or “micro-transactions,” which provides an obvious hint of their limited scope.</p>
<h2 data-number="4.3" id="future-work"> Future Work</h2>
<p>This work evaluated only single-node RavenDB clusters without faults. Future research could expand tests across multiple nodes, as well as introducing network, process, and disk faults. We dealt only with key-value operations, and did not evaluate RavenDB’s secondary indices. These indices are described as eventually consistent, which raises questions around the integrity of predicate reads. RavenDB also offers <a href="https://ravendb.net/docs/article-page/6.0/csharp/client-api/operations/patching/single-document">server-side transactions</a> using Javascript or a library of built-in patch operations. These might offer different safety characteristics than the interactive transactions we used in this report. Finally, cross-shard transactions are a notoriously challenging problem and deserve careful testing.</p>
<p><em>Jepsen wishes to thank <a href="https://www.irenekannyo.com/">Irene Kannyo</a> for her invaluable editorial support. Thanks as well to C. Scott Andreas, Taber Bain, Silvia Botros, Coda Hale, Ben Linsay, Kelly Shortridge, Nathan Taylor, Zach Tellman, and Leif Walsh for their comments on early versions of this manuscript. This work was performed independently without compensation, in accordance with the <a href="https://jepsen.io/ethics">Jepsen ethics policy</a>.</em></p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn1" role="doc-endnote"><p>As discussed in section 4.1, the interpretation of a “transaction” in RavenDB is complicated. In this report, we identify RavenDB’s session API as an interactive transaction.<a href="#fnref1" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>Technically, this isn’t clear from the documentation alone: Snapshot Isolation is a property of <em>histories</em> of transactions, but the docs discuss behavior only within the scope of a single transaction. RavenDB might have meant some weaker property here—for instance, Prefix Consistency. However, the CEO’s claims of Snapshot Isolation by default seem authoritative.<a href="#fnref2" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>It is tempting to believe that cluster-wide transactions are the ACID transactions RavenDB’s marketing boasts, but this cannot be the case. RavenDB says it’s offered ACID transactions since 2010, and cluster-wide transactions weren’t introduced until roughly a decade later. This may reflect confusion over what “ACID” means.<a href="#fnref3" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>RavenDB’s Jepsen test may not have measured anything at all: at least in the most recent revision, the <a href="https://github.com/ml054/jepsen/blob/08960da98ab9bf7959fce014c63b146b903cbe6c/ravendb/src/jepsen/ravendb.clj#L308-L316">generator</a> included no client operations of any kind.<a href="#fnref4" role="doc-backlink">↩︎</a></p></li>
<li id="fn5" role="doc-endnote"><p>There are scenarios in which a database multiplexes multiple sessions onto a single connection, or migrates a session across connections. It might be more apt to think of a typical database session as “a logical, single-threaded connection.”<a href="#fnref5" role="doc-backlink">↩︎</a></p></li>
<li id="fn6" role="doc-endnote"><p>In the same thread, Eini <a href="https://github.com/ravendb/ravendb/issues/17927#issuecomment-1872912239">remarks</a> that “we only consider transactions to be the calls to SaveChanges or other data mutation operations.” This is somewhat alarming: it implies that RavenDB transactions don’t encompass reads at all. On the <a href="https://github.com/ravendb/ravendb/issues/17928#issuecomment-1874064897">other hand</a>, a transaction involving a single HTTP request “applies to reads as well,” so it’s not quite clear what RavenDB’s read safety semantics are.<a href="#fnref6" role="doc-backlink">↩︎</a></p></li>
<li id="fn7" role="doc-endnote"><p>There are databases, like <a href="https://fauna.com/">FaunaDB</a>, where transactions are written as small programs and submitted to the database in a single request. RavenDB, like most databases, provides interactive sessions: clients make calls to <code>load</code> and <code>store</code> interspersed with arbitrary local computation, and call <code>saveChanges()</code> to commit their effects. In these kinds of systems, transactions typically encompass multiple read and write requests.<a href="#fnref7" role="doc-backlink">↩︎</a></p></li>
<li id="fn8" role="doc-endnote"><p>Alternatively, “RavenDB does not have interactive transactions at all.” Readers may select their favorite interpretation throughout this report.<a href="#fnref8" role="doc-backlink">↩︎</a></p></li>
<li id="fn9" role="doc-endnote"><p>At least, not in a network which can partition.<a href="#fnref9" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
  </div>
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Macaroons Escalated Quickly (142 pts)]]></title>
            <link>https://fly.io/blog/macaroons-escalated-quickly/</link>
            <guid>39204314</guid>
            <pubDate>Wed, 31 Jan 2024 14:39:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://fly.io/blog/macaroons-escalated-quickly/">https://fly.io/blog/macaroons-escalated-quickly/</a>, See on <a href="https://news.ycombinator.com/item?id=39204314">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
         <dl>
             <dt>Author</dt>
             <dd>
                 <img alt="Thomas Ptacek" src="https://fly.io/static/images/thomas.webp">
               <dl>
                 <dt>Name</dt>
                 <dd>
                   Thomas Ptacek
                 </dd>
                  <dt>@tqbf</dt>
                  <dd>
                    <a href="https://twitter.com/tqbf" target="_blank">
                      @tqbf
                    </a>
                  </dd>
               </dl>
             </dd>
         </dl>

        <section>
            <figure>
                <img src="https://fly.io/blog/macaroons-escalated-quickly/assets/evil-cookies-cover.webp" alt="Evil cookies!">
                <figcaption>
                  <span>Image by</span>
                  
<svg role="img" style="pointer-events: none; width: 17px; height: 17px;" viewBox="0 0 20 20" fill="currentColor" fill-rule="evenodd">
  <g buffered-rendering="static">
    <path fill-rule="evenodd" d="M1 8a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 018.07 3h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0016.07 6H17a2 2 0 012 2v7a2 2 0 01-2 2H3a2 2 0 01-2-2V8zm13.5 3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM10 14a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"></path>
  </g>
</svg>

                    <a href="https://annieruygtillustration.com/" target="_blank">
                      Annie Ruygt
                    </a>
                </figcaption>
            </figure>
          <p>We’re Fly.io and we transmute containers into VMs, running them on our hardware around the world. We built a new security token system, and can I tell you the good news about our lord and savior the Macaroon?</p><h2 id="1"><a href="#1" aria-label="Anchor"></a>1</h2>
<p>Let’s implement an API token together. It’s a design called “Macaroons”, but don’t get hung up on that yet.</p>

<p>First some . Then:</p>
<div id="includes" toggle-content="" aria-label="show very boring code">
  <pre><code><span>import</span> <span>sys</span>
<span>import</span> <span>os</span>
<span>import</span> <span>json</span>
<span>import</span> <span>hmac</span> <span>as</span> <span>hm</span>
<span>from</span> <span>base64</span> <span>import</span> <span>b64encode</span><span>,</span> <span>b64decode</span>
<span>from</span> <span>hashlib</span> <span>import</span> <span>sha256</span>

<span>def</span> <span>hmac</span><span>(</span><span>k</span><span>,</span> <span>v</span><span>):</span> <span>return</span> <span>hm</span><span>.</span><span>new</span><span>(</span><span>k</span><span>,</span> <span>v</span><span>,</span> <span>sha256</span><span>).</span><span>digest</span><span>()</span>
<span>def</span> <span>enc</span><span>(</span><span>x</span><span>):</span> <span>return</span> <span>b64encode</span><span>(</span><span>x</span><span>)</span>
<span>def</span> <span>dec</span><span>(</span><span>x</span><span>):</span> <span>return</span> <span>b64decode</span><span>(</span><span>x</span><span>)</span>
</code></pre>
</div><div>
  <pre><code><span>def</span> <span>blank_token</span><span>(</span><span>uid</span><span>,</span> <span>key</span><span>):</span>
  <span>nonce</span> <span>=</span> <span>enc</span><span>(</span><span>":"</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>uid</span><span>),</span> <span>os</span><span>.</span><span>urandom</span><span>(</span><span>16</span><span>)]))</span>
  <span>return</span> <span>json</span><span>.</span><span>dumps</span><span>([</span><span>nonce</span><span>,</span> <span>enc</span><span>(</span><span>hmac</span><span>(</span><span>key</span><span>,</span> <span>nonce</span><span>))])</span>
</code></pre>
</div>
<p>Bearer tokens: like cookies, blobs you attach to a request (usually in an HTTP header).</p>
<p>We’re going to build a minimally-stateful bearer token, a blob signed with HMAC. Nothing fancy so far. <a href="https://api.rubyonrails.org/classes/ActiveSupport/MessageVerifier.html">Rails has done this</a> for a decade and a half.</p>

<p>There’s a <a href="http://cryto.net/%7Ejoepie91/blog/2016/06/13/stop-using-jwt-for-sessions/">fashion in API security for stateless tokens</a>, which encode all the data you’d need to check any request accompanied by that token – without a database lookup. Stateless tokens have some nice properties, and some less-nice. Our tokens won’t be stateless: they carry a user ID, with which we’ll look up the HMAC key to verify it. But they’ll stake out a sort of middle ground.</p>
<div>
  <pre><code><span>def</span> <span>attenuate</span><span>(</span><span>macStr</span><span>,</span> <span>cav</span><span>):</span>
    <span>mac</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>macStr</span><span>)</span>
    <span>cavStr</span> <span>=</span> <span>json</span><span>.</span><span>dumps</span><span>(</span><span>cav</span><span>)</span>
    <span>oldTail</span> <span>=</span> <span>dec</span><span>(</span><span>mac</span><span>[</span><span>-</span><span>1</span><span>])</span>         
    <span>newTail</span> <span>=</span> <span>enc</span><span>(</span><span>hmac</span><span>(</span><span>oldTail</span><span>,</span> <span>cavStr</span><span>))</span>    
    <span>return</span> <span>json</span><span>.</span><span>dumps</span><span>(</span><span>mac</span><span>[</span><span>0</span><span>:</span><span>-</span><span>1</span><span>]</span> <span>+</span> <span>[</span><span>cavStr</span><span>,</span> <span>newTail</span><span>])</span>

<span>m0</span> <span>=</span> <span>blank_token</span><span>(</span><span>10</span><span>,</span> <span>keys</span><span>[</span><span>10</span><span>])</span>
<span>m1</span> <span>=</span> <span>attenuate</span><span>(</span><span>m0</span><span>,</span> <span>{</span><span>'path'</span><span>:</span> <span>'/images'</span><span>})</span>
<span>m2</span> <span>=</span> <span>attenuate</span><span>(</span><span>m1</span><span>,</span> <span>{</span><span>'op'</span><span>:</span> <span>'read'</span><span>})</span>
</code></pre>
</div>

<p>Let’s add some stuff.</p>

<p>The meat of our tokens will be a series of claims we call “caveats”. We call them that because each claim restricts further what the token authorizes. After <code>{'path': '/images'}</code>, this token only allows operations that happen underneath the <code>/images</code> directory. Then, after <code>{'op': 'read'}</code>, it allows only reads, not writes.</p>

<p>(I guess we’re building a file sharing system. Whatever.)</p>

<p>Some important things about things about this design. First: by implication from the fact that caveats further restrict tokens, a token with no caveats restricts nothing. It’s a god-mode token. Don’t honor it.</p>
<p>In other words: the ordering of caveats doesn’t matter.</p>
<p>Second: the rule of checking caveats is very simple: every single caveat must pass, evaluating <code>True</code> against the request that carries it, in isolation and without reference to any other caveat. If any caveat evaluates <code>False</code>, the request fails. In that way, we ensure that adding caveats to a token can only ever weaken it.</p>

<p>With that in mind, take a closer look at this code:</p>
<div>
  <pre><code><span>oldTail</span> <span>=</span> <span>dec</span><span>(</span><span>mac</span><span>[</span><span>-</span><span>1</span><span>])</span>         
<span>newTail</span> <span>=</span> <span>enc</span><span>(</span><span>hmac</span><span>(</span><span>oldTail</span><span>,</span> <span>cavStr</span><span>))</span>    
</code></pre>
</div>

<p>Every caveat is HMAC-signed independently, which is weird. Weirder still, the key for that HMAC is the output of the last HMAC. The caveats chain together, and the HMAC of the last caveat becomes the “tail” of the token.</p>

<p>Creating a new blank token for a particular user requires a key that the server (and probably only the server) knows. But adding a caveat doesn’t! Anybody can add a caveat. In our design, you, the user, can edit your own API token.</p>
<div>
  <pre><code><span>def</span> <span>verify</span><span>(</span><span>macStr</span><span>,</span> <span>keys</span><span>):</span>
    <span>mac</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>macStr</span><span>)</span>
    <span>nonce</span> <span>=</span> <span>dec</span><span>(</span><span>mac</span><span>[</span><span>0</span><span>]).</span><span>split</span><span>(</span><span>":"</span><span>)</span>
    <span>key</span> <span>=</span> <span>keys</span><span>[</span><span>int</span><span>(</span><span>nonce</span><span>[</span><span>0</span><span>])]</span>
    <span>tail</span> <span>=</span> <span>""</span>
    <span>for</span> <span>cav</span> <span>in</span> <span>mac</span><span>[:</span><span>-</span><span>1</span><span>]:</span>
        <span>tail</span> <span>=</span> <span>hmac</span><span>(</span><span>key</span><span>,</span> <span>cav</span><span>)</span>
        <span>key</span> <span>=</span> <span>tail</span>
    <span>return</span> <span>hm</span><span>.</span><span>compare_digest</span><span>(</span><span>tail</span><span>,</span> <span>dec</span><span>(</span><span>mac</span><span>[</span><span>-</span><span>1</span><span>]))</span>

<span>verify</span><span>(</span><span>m2</span><span>,</span> <span>keys</span><span>)</span> <span># =&gt; True
</span></code></pre>
</div>

<p>For completeness, and to make a point, there’s the verification code. Look up the original secret key from the user ID,  and then it’s chained HMAC all the way down. The point I’m making is that Macaroons are very simple.</p>
<h2 id="2"><a href="#2" aria-label="Anchor"></a>2</h2>
<p>Back in 2014, Google published <a href="https://storage.googleapis.com/pub-tools-public-publication-data/pdf/41892.pdf">a paper at NDSS</a> introducing “Macaroons”, a new kind of cookie. Since then, they’ve become a sort of hipster shibboleth. But they’re more talked about than implemented, which is a nice way to say that practically nobody uses them.</p>

<p>Until now! I dragged Fly.io into implementing them. Suckers!</p>

<p>We had a problem: our API tokens were much too powerful. We needed to scope them down and let them express roles, and I scoped up that project to replace OAuth2 tokens altogether. We now have what I think is one of the more expansive Macaroon implementations on the Internet.</p>

<p>I dragged us into using Macaroons because I wanted us to use a hipster token format. Google designed Macaroons for a bigger reason: they hoped to replace browser cookies with something much more powerful.</p>

<p>The problem with simple bearer tokens, like browser cookies or JWTs, is that they’re prone to being stolen and replayed by attackers.</p>
<p>game-over: pentest jargon for “very bad”</p>
<p>Worse, a stolen token is usually a game-over condition. In most schemes, a bearer token is an all-access pass for the associated user. For some applications this isn’t that big a deal, but then, <a href="https://neilmadden.blog/2020/09/09/macaroon-access-tokens-for-oauth-part-2-transactional-auth/">think about banking</a>. A banking app token that authorizes arbitrary transactions is a recipe for having a small heart attack on every HTTP request.</p>
<p>(Perfectly minimized API tokens: a software security holy grail)</p>
<p>Macaroons are user-editable tokens that enable JIT-generated least-privilege tokens. With minimal ceremony and no additional API requests, a banking app Macaroon lets you authorize a request with a caveat like, I don’t know, <code>{'maxAmount': '$5'}</code>. I mean, something way better than that, probably lots of caveats, not just one, but you get the idea: a token so minimized you feel safe sending it with your request. Ideally, a token that only authorizes that single, intended request.</p>
<h2 id="3"><a href="#3" aria-label="Anchor"></a>3</h2>
<p>That’s not why we like Macaroons. We already assume our tokens aren’t being stolen.</p>

<p>In most systems, the developers come up with a permissions system, and you’re stuck with it. We run a public cloud platform, and people want a lot of different things from our permissions. The dream is, we (the low-level platform developers on the team) design a single permission system, one time, and go about our jobs never thinking about this problem again.</p>

<p>Instead of thinking of all of our “roles” in advance, we just model our platform with caveats:</p>

<ol>
<li>Users belong to <code>Organizations</code>.
</li><li><code>Organizations</code> own <code>Apps</code>.
</li><li><code>Apps</code> contain <code>Machines</code> and <code>Volumes</code>.
</li><li>To any of these things, you can <code>Read</code>, <code>Write</code>, <code>Create</code>, <code>Delete</code>, and/or <code>Control</code> .
</li><li>Some administrivia, like expiration (<code>ValidityWindow</code>), locking tokens to specific Fly Machines (<code>FromMachineSource</code>), and escape hatches like <code>Mutation</code> (for our GraphQL API).
</li></ol>
<p>(this is a vibes-based notation, don’t think too hard about it)</p>
<p>Simplistic. But it expresses admin tokens: </p>
<div>
  <pre><code>Organization 4721, mask=*
</code></pre>
</div>

<p>And it expresses normal user tokens:</p>
<div>
  <pre><code>Organization 4721, mask=read,write,control
(App 123, mask=control), (App 345, mask=read, write, control)
</code></pre>
</div>

<p>And also an auditor-only token for that user:</p>
<div>
  <pre><code>Organization 4721, mask=read,write,control
(App 123, mask=control), (App 345, mask=read, write, control)
Organization 4721, mask=read
</code></pre>
</div>
<p>(our deploy tokens are more complicated than this)</p>
<p>Or a deployment-only token, for a CI/CD system:</p>
<div>
  <pre><code>Organization 4721, mask=write,control
(App 123, mask=*)
</code></pre>
</div>

<p>Those are just the roles we came up with. Users can invent others. The important thing is that they don’t have to bother me about them.</p>
<h2 id="4"><a href="#4" aria-label="Anchor"></a>4</h2>
<p>Astute readers will have noticed by now that we haven’t shown any code that actually evaluates a caveat. That’s because it’s boring, and I’m too lazy to write it out. Got an <code>Organization</code> token for <code>image-hosting</code> that allows <code>Reads</code>? Ok; check and make sure the incoming request is for an asset of <code>image-hosting</code>, and that it’s a <code>Read</code>. Whatever code you came up with, it’d be fine.</p>

<p>These straightforward restrictions are called “first party caveats”. The first party is us, the platform. We’ve got all the information we need to check them.</p>

<p>Let’s kit out our token format some more.</p>
<div>
  <pre><code><span>def</span> <span>third_party_caveat</span><span>(</span><span>ka</span><span>,</span> <span>msg</span><span>,</span> <span>url</span><span>):</span>
    <span>crk</span> <span>=</span> <span>os</span><span>.</span><span>urandom</span><span>(</span><span>16</span><span>)</span>
    <span>ticket</span> <span>=</span> <span>enc</span><span>(</span><span>encrypt</span><span>(</span><span>ka</span><span>,</span> <span>json</span><span>.</span><span>dumps</span><span>({</span>
        <span>'crk'</span><span>:</span> <span>enc</span><span>(</span><span>crk</span><span>),</span>
        <span>'msg'</span><span>:</span> <span>msg</span>
    <span>})))</span>
    <span>challenge</span> <span>=</span> <span>enc</span><span>(</span><span>encrypt</span><span>(</span><span>tag</span><span>,</span> <span>crk</span><span>))</span>
    <span>return</span> <span>{</span> <span>'url'</span><span>:</span> <span>url</span><span>,</span> <span>'ticket'</span><span>:</span> <span>ticket</span><span>,</span> <span>'challenge'</span> <span>:</span> <span>challenge</span> <span>}</span>

<span>key</span> <span>=</span> <span>bytes</span><span>(</span><span>"YELLOWSUBMARINE"</span><span>)</span>
<span>url</span> <span>=</span> <span>"https://canary.service"</span>
<span>c3</span> <span>=</span> <span>third_party_caveat</span><span>(</span><span>key</span><span>,</span> <span>url</span><span>,</span> <span>json</span><span>.</span><span>dumps</span><span>({</span><span>'user'</span><span>:</span> <span>'bobson.dugnutt'</span><span>}))</span>
<span>m3</span> <span>=</span> <span>attenuate</span><span>(</span><span>m2</span><span>,</span> <span>c3</span><span>)</span>
</code></pre>
</div>

<p>Up till now, we’ve gotten by with nothing but HMAC, which is one of the great charms of the design. Now we need to encrypt. There’s no authenticated encryption in the Python standard library, but that won’t stop us. </p>
<div id="hmac-ctr" toggle-content="" aria-label="show very silly code">
  <pre><code><span># do i really need to say that i'm not serious about this?
</span>
<span>def</span> <span>hmactr</span><span>(</span><span>k</span><span>,</span> <span>n</span><span>):</span>
     <span>ks</span> <span>=</span> <span>hm</span><span>.</span><span>new</span><span>(</span><span>k</span><span>+</span><span>n</span><span>)</span>
     <span>for</span> <span>counter</span> <span>in</span> <span>xrange</span><span>(</span><span>sys</span><span>.</span><span>maxint</span><span>):</span>
         <span>ks</span><span>.</span><span>update</span><span>(</span><span>str</span><span>(</span><span>counter</span><span>))</span>
         <span>kbs</span> <span>=</span> <span>ks</span><span>.</span><span>digest</span><span>()</span>
         <span>for</span> <span>i</span> <span>in</span> <span>xrange</span><span>(</span><span>16</span><span>):</span> <span>yield</span> <span>kbs</span><span>[</span><span>i</span><span>]</span>

<span>def</span> <span>encrypt</span><span>(</span><span>k</span><span>,</span> <span>buf</span><span>):</span>
    <span>ak</span> <span>=</span> <span>hm</span><span>.</span><span>new</span><span>(</span><span>k</span><span>,</span> <span>'auth'</span><span>).</span><span>digest</span><span>()</span>
    <span>nonce</span> <span>=</span> <span>os</span><span>.</span><span>urandom</span><span>(</span><span>16</span><span>)</span>
    <span>cipher</span> <span>=</span> <span>hmactr</span><span>(</span><span>hm</span><span>.</span><span>new</span><span>(</span><span>k</span><span>,</span> <span>'enc'</span><span>).</span><span>digest</span><span>(),</span> <span>nonce</span><span>)</span>
    <span>ctxt</span> <span>=</span> <span>bytearray</span><span>(</span><span>buf</span><span>)</span>
    <span>for</span> <span>i</span> <span>in</span> <span>xrange</span><span>(</span><span>len</span><span>(</span><span>buf</span><span>)):</span>
        <span>ctxt</span><span>[</span><span>i</span><span>]</span> <span>^=</span> <span>ord</span><span>(</span><span>cipher</span><span>.</span><span>next</span><span>())</span>
    <span>res</span> <span>=</span> <span>nonce</span> <span>+</span> <span>str</span><span>(</span><span>ctxt</span><span>)</span>
    <span>return</span> <span>res</span> <span>+</span> <span>hm</span><span>.</span><span>new</span><span>(</span><span>ak</span><span>,</span> <span>res</span><span>).</span><span>digest</span><span>()</span>

<span>def</span> <span>decrypt</span><span>(</span><span>k</span><span>,</span> <span>buf</span><span>):</span>
    <span>ak</span> <span>=</span> <span>hm</span><span>.</span><span>new</span><span>(</span><span>k</span><span>,</span> <span>'auth'</span><span>).</span><span>digest</span><span>()</span>
    <span>if</span> <span>not</span> <span>hm</span><span>.</span><span>compare_digest</span><span>(</span><span>buf</span><span>[</span><span>-</span><span>16</span><span>:],</span> <span>hm</span><span>.</span><span>new</span><span>(</span><span>ak</span><span>,</span> <span>buf</span><span>[:</span><span>-</span><span>16</span><span>]).</span><span>digest</span><span>()):</span>
        <span>return</span> <span>False</span>
    <span>nonce</span> <span>=</span> <span>buf</span><span>[:</span><span>16</span><span>]</span>
    <span>cipher</span> <span>=</span> <span>hmactr</span><span>(</span><span>hm</span><span>.</span><span>new</span><span>(</span><span>k</span><span>,</span> <span>'enc'</span><span>).</span><span>digest</span><span>(),</span> <span>nonce</span><span>)</span>
    <span>ptxt</span> <span>=</span> <span>bytearray</span><span>(</span><span>buf</span><span>[</span><span>16</span><span>:</span><span>-</span><span>16</span><span>])</span>
    <span>for</span> <span>i</span> <span>in</span> <span>xrange</span><span>(</span><span>len</span><span>(</span><span>buf</span><span>[</span><span>16</span><span>:</span><span>-</span><span>16</span><span>])):</span>
        <span>ptxt</span><span>[</span><span>i</span><span>]</span> <span>^=</span> <span>ord</span><span>(</span><span>cipher</span><span>.</span><span>next</span><span>())</span>
    <span>return</span> <span>str</span><span>(</span><span>ptxt</span><span>)</span>
</code></pre>
</div>
<p>With “third-party” caveats comes a cast of characters. We’re still the first party. You’ll play the second party. The third party is any other system in the world that you trust: an SSO system, an audit log, a revocation checker, whatever.</p>

<p>Here’s the trick of the third-party caveat: our platform doesn’t know what your caveat means, and it doesn’t have to. Instead, when you see a third-party caveat in your token, you tear a ticket off it and exchange it for a “discharge Macaroon” with that third party. You submit both Macaroons together to us.</p>

<p>Let’s attenuate our token with a third-party caveat hooking it up to a “canary” service that generates a notice approximately any time the token is used.</p>

<p><img src="https://fly.io/blog/macaroons-escalated-quickly/assets/third-party.png?1/2&amp;wrap-left"></p>

<p>To build that canary caveat, you first make a <code>ticket</code> that users of the token will hand to your canary, and then a <code>challenge</code> that Fly.io will use to verify discharges your checker spits out. The ticket and the challenge are both encrypted. The ticket is encrypted under <code>KA</code>, so your service can read it. The challenge is encrypted under the previous Macaroon tail, so only Fly.io can read it. Both hide yet another key, the random HMAC key <code>CRK</code> (“caveat root key”).</p>

<p>In addition to <code>CRK</code>, the ticket contains a message, which says whatever you want it to; Fly.io doesn’t care. Typically, the message describes some kind of additional checking you want your service to perform before spitting out a discharge token.</p>
<div>
  <pre><code><span>def</span> <span>discharge</span><span>(</span><span>ka</span><span>,</span> <span>ticket</span><span>):</span>
    <span>ptxt</span> <span>=</span> <span>decrypt</span><span>(</span><span>ka</span><span>,</span> <span>dec</span><span>(</span><span>ticket</span><span>))</span>
    <span>if</span> <span>ptxt</span> <span>==</span> <span>False</span><span>:</span> <span>return</span> <span>False</span>
    <span>tbody</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>ptxt</span><span>)</span>
    <span># not shown: do something with tbody['msg']
</span>    <span>return</span> <span>json</span><span>.</span><span>dumps</span><span>([</span><span>ticket</span><span>,</span> <span>enc</span><span>(</span><span>hmac</span><span>(</span><span>dec</span><span>(</span><span>tbody</span><span>[</span><span>'crk'</span><span>]),</span> <span>ticket</span><span>))])</span>
</code></pre>
</div>

<p>To authorize a request with a token that includes a third-party caveat for the canary service, you need to get your hands on a corresponding discharge Macaroon. Normally, you do that by <code>POST</code>ing the ticket from the caveat to the service.</p>

<p>Discharging is simple. The service, which holds <code>KA</code>, uses it to decrypt the ticket. It checks the message and makes some decisions. Finally, it mints a new macaroon, using <code>CRK</code>, recovered from the ticket, as the root key. The ticket itself is the nonce.</p>

<p>If it wants, the third-party service can slap on a bunch of first-party caveats of its own. When we verify the Macaroon, we’ll copy those caveats out and enforce them. Attenuation of a third-party discharge macaroon works like a normal macaroon.</p>
<div>
  <pre><code><span>def</span> <span>verify_third_party</span><span>(</span><span>tag</span><span>,</span> <span>cav</span><span>,</span> <span>discharges</span><span>=</span><span>[]):</span>
    <span>crk</span> <span>=</span> <span>decrypt</span><span>(</span><span>tag</span><span>,</span> <span>dec</span><span>(</span><span>cav</span><span>[</span><span>'challenge'</span><span>]))</span>
    <span>if</span> <span>crk</span> <span>==</span> <span>False</span><span>:</span> <span>return</span> <span>False</span>
    <span>discharge</span> <span>=</span> <span>None</span>
    <span>for</span> <span>dcs</span> <span>in</span> <span>discharges</span><span>:</span>
        <span>if</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>dcs</span><span>)[</span><span>0</span><span>]</span> <span>==</span> <span>cav</span><span>[</span><span>'ticket'</span><span>]:</span>
            <span>discharge</span> <span>=</span> <span>dcs</span>
            <span>break</span>
    <span>if</span> <span>not</span> <span>discharge</span><span>:</span> <span>return</span> <span>False</span>
    <span>mac</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>discharge</span><span>)</span>
    <span>key</span> <span>=</span> <span>crk</span>
    <span># boring old stuff ---------------------
</span>    <span>tag</span> <span>=</span> <span>""</span>
    <span>for</span> <span>cav</span> <span>in</span> <span>mac</span><span>[:</span><span>-</span><span>1</span><span>]:</span>
        <span>tag</span> <span>=</span> <span>hmac</span><span>(</span><span>key</span><span>,</span> <span>cav</span><span>)</span>
        <span>key</span> <span>=</span> <span>tag</span>
    <span>return</span> <span>hm</span><span>.</span><span>compare_digest</span><span>(</span><span>tag</span><span>,</span> <span>dec</span><span>(</span><span>mac</span><span>[</span><span>-</span><span>1</span><span>]))</span>
</code></pre>
</div>

<p>To verify tokens that have third-party caveats, start with the root Macaroon, walking the caveats like usual. At each third-party caveat, match the <code>ticket</code> from the caveat with the <code>nonce</code> on the discharge Macaroon. The key for root Macaroon decrypts the <code>challenge</code> in the caveat, recovering <code>CRK</code>, which cryptographically verifies the discharge.</p>

<p>(The Macaroons paper uses different terms: “caveat identifier” or <code>cId</code> for “ticket”, and “verification-key identifier” or <code>vId</code> for “challenge”. These names are self-evidently bad and our contribution to the state of the art is to replace them.)</p>

<p>There’s two big applications for third-party caveats in Popular Macaroon Thought. First, they facilitate microservice-izing your auth logic, because you can stitch arbitrary policies together out of third-party caveats. And, they seem like <a href="https://github.com/go-macaroon-bakery/macaroon-bakery">fertile ground for an ecosystem of interoperable Macaroon services</a>: Okta and Google could stand up SSO dischargers, for instance, or someone can do a really good revocation service.</p>

<p>Neither of these light us up. We’re allergic to microservices. As for public protocols, well, it’s good to want things. So we almost didn’t even implement third-party caveats.</p>
<h2 id="5"><a href="#5" aria-label="Anchor"></a>5</h2>
<p>I’m glad we did though, because they’ve been pretty great.</p>

<p>The first problem third-party caveats solved for us was hazmat tokens. To the extent possible, we want Macaroon tokens to be safe to transmit between users. Our Macaroons express permissions, but not authentication, so it’s almost safe to email them.</p>

<p>The way it works is, our Macaroons all have a third-party caveat pointing to a “login service”, either identifying the proper bearer as a particular Fly.io user or as a member of some <code>Organization</code>. To allow a request with your token, you first need to collect the discharge from the login service, which requires authentication.</p>

<p>The login discharge is very sensitive, but there isn’t much reason to pass it around. The original permissions token is where all the interesting stuff is, and it’s not scary. So that’s nice.</p>

<p><img src="https://fly.io/blog/macaroons-escalated-quickly/assets/fly-sso.png?1/3&amp;wrap-left"></p>

<p>Ben then came up with <a href="https://community.fly.io/t/organization-required-sso/17560">third-party caveats that require Google or Github SSO logins.</a> If your token has one of those caveats, when you run <code>flyctl deploy</code>, a browser will pop up to log you into your SSO IdP (if you haven’t done so recently already).</p>

<p>We’ve put a <a href="https://fly.io/blog/tokenized-tokens/#tokenizer-the-fabled-4th-way">bunch of work into getting the guts of our SSO system working</a>, but that work has mostly been invisible to customers. But Macaroon-ized SSO has a subtle benefit: you can configure <a href="http://fly.io/">Fly.io</a> to automatically add SSO requirements to specific <code>Organizations</code> (so, for instance, a dev environment might not need SSO at all, and prod might need two).</p>

<p>SSO requirements in most applications are a brittle pain in the ass. Ours are flexible and straightforward, and that happened almost by accident. Macaroons, baby!</p>

<p>Here’s a fun thing you can do with a Macaroon system: stand up a Slack bot, and give it an HTTP <code>POST</code> handler that accepts third-party tickets. Then:</p>

<p><img src="https://fly.io/blog/macaroons-escalated-quickly/assets/bot-ok.png?1/2&amp;center&amp;border"></p>

<p>So, the bot is cute, but any platform could do that. What’s cool is the way our platform <em>doesn’t</em> work with Slack; in fact, nothing on our platform knows anything about Slack, and Slack doesn’t know anything about us. We didn’t reach out to a Slack endpoint. Everything was purely cryptographic.</p>

<p>That bot could, if I sunk some time into it, enforce arbitrary rules: it could selectively add caveats for the requests it authorizes, based on lookups of the users requesting them, at specific times of day, with specific logging. Theoretically, it could add third-party caveats of its own.</p>

<p>The win for us for third-party caveats is that they create a plugin system for our security tokens. That’s an unusual place to see a plugin interface! But Macaroons are easy to understand and keep in your head, so we’re pretty confident about the security issues.</p>
<h2 id="6"><a href="#6" aria-label="Anchor"></a>6</h2>
<p>Obviously, we didn’t write our Macaroon code in Python, or with HMAC-SHA256-CTR.</p>

<p>We landed on a primary implementation Golang (Ben subsequently wrote an Elixir implementation). Our hash is SHA256, our cipher is Chapoly. We encode in MsgPack.</p>
<p>We didn’t use the pre-existing public implementation because <a href="https://securitycryptographywhatever.com/2021/08/12/what-do-we-do-about-jwt-with-jonathan-rudenberg/">we were warned not to</a>. The Macaroon idea is simple, and it exists mostly as an academic paper, not a standard. The community that formed around building open source “standard” Macaroons decided to use untyped opaque blobs to represent candidates. We need things to be as rigidly unambiguous as they can be.</p>
<p><img src="https://fly.io/blog/macaroons-escalated-quickly/assets/verifier-service.png?2/3&amp;center"></p>

<p>The big strength of Macaroons as a cryptographic design — that it’s based almost entirely on HMAC — makes it a challenge to deploy. If you can verify a Macaroon, you can generate one.  We have thousands of servers. They can’t all be allowed to generate tokens.</p>

<p>What we did instead:</p>

<ul>
<li>We split token checking into “verification” of token HMAC tags and “clearing” of token caveats.
</li><li>Verification occurs only on a physically isolated token-verification service; to verify a token’s tag, you  HTTP <code>POST</code> the token to the verifier.
</li><li>Clearing of token caveats can happen anywhere. Token caveat clearing is domain-specific and subject to change; token verification is simple cryptography and  changes rarely.
</li><li>A token verification is cacheable. The client library for the token verifier does that, which speeds things up by exploiting the locality of token submissions.
</li><li>The verification service is backed by a <a href="https://fly.io/docs/litefs/">LiteFS-distributed SQLite database</a>, so verification is fast globally — a major step forward from our legacy OAuth2 tokens, which are only fast in Ashburn, VA.
</li></ul>

<p><img src="https://fly.io/blog/macaroons-escalated-quickly/assets/service-token.png?2/3&amp;center"></p>

<p>Now buckle up, because I’m about to try to get you to care about service tokens.</p>

<p>We operate “worker servers” all over the world to host apps for our customers. To do that, those workers need access to customer secrets, like the key to decrypt a customer volume. To retrieve those secrets, the workers have to talk to secrets management servers.</p>

<p>We manage a lot of workers. We trust them. But we don’t trust them that much, if you get my drift. You don’t want to just leave it up to the servers to decide which secrets they can access. The blast radius of a problem with a single worker should be no greater than the apps that are supposed to run there.</p>

<p>The gold standard for approving access to customer information is, naturally, explicit customer authorization. We almost have that with Macaroons! The first time an app runs on a worker, <a href="https://fly.io/blog/carving-the-scheduler-out-of-our-orchestrator/">the orchestrator code</a> has a token, and it can pass that along to the secret stores.</p>

<p>The problem is, you need that token more than once; not just when the user does a deploy, but potentially any time you restart the app or migrate it to a new worker. And you can’t just store and replay user Macaroons. They have expirations.</p>

<p>So our token verification service exposes an API that transforms a user token into a “service token”, which is just the token with the authentication caveat and expiration “stripped off”.</p>

<p>What’s cool is: components that receive service tokens can attenuate them. For instance, we could lock a token to a particular worker, or even a particular Fly Machine. Then we can expose the whole <a href="https://fly.io/docs/machines/working-with-machines/">Fly Machines API</a> to customer VMs while keeping access traceable to specific customer tokens. Stealing the token from a Fly Machine doesn’t help you since it’s locked to that Fly Machine by a caveat attackers can’t strip.</p>
<h2 id="7"><a href="#7" aria-label="Anchor"></a>7</h2>
<p>If a customer loses their tokens to an attacker, we can’t just blow that off and let the attacker keep compromising the account!</p>
<p>This cancels every token derived through attenuation by that nonce.</p>
<p>Every Macaroon we issue is identified by a unique nonce, and we can revoke tokens by that nonce. This is just a basic function of the token verification service we just described.</p>

<p>We host token caches all over our fleet. Token revocation invalidates the caches. Anything with a cache checks frequently whether to invalidate. Revocation is rare, so just keeping a revocation list and invalidating caches wholesale seems fine.</p>
<h2 id="8"><a href="#8" aria-label="Anchor"></a>8</h2>
<p>I get it, it’s tough to get me to shut up about Macaroons.</p>

<p>A couple years ago, I <a href="https://fly.io/blog/api-tokens-a-tedious-survey/">wrote a long survey of API token designs</a>, from JWTs (never!) to Biscuits. I had a <a href="https://fly.io/blog/api-tokens-a-tedious-survey/#macaroons">bunch to say about Macaroons</a>, not all of it positive, and said we’d be plowing forward with them at Fly.io.</p>

<p>My plan had been to follow up soon after with a deep dive on Macaroons as we planned them for Fly.io. I’m glad I didn’t do that, not just because it would’ve been embarrassing to announce a feature that took us over 2 years to launch, but also because the process of working on this with Ben Toews changed a lot of my thinking about them.</p>

<p>I think if you asked Ben, he’d say he had mixed feelings about how much complexity we wrangled to get this launched. On the other hand: we got a lot of things out of them without trying very hard:</p>

<ul>
<li>Security tokens you can (almost) email to your users and partners without putting your account at risk.
</li><li>A flexible permission system, encoded directly into the tokens, that users can drive without talking to our servers.
</li><li>A plugin system that users can (when we clean up the tooling) use themselves, to add things like Passkeys or two-person-approval rules or audit logging, without us getting in the middle.
</li><li>An SSO system that can stack different IdPs, mandate SSO login, and do that on a per-<code>Organization</code> basis. 
</li><li><a href="https://www.latacora.com/blog/2018/06/12/a-childs-garden/">Inter-service authorization</a> that is traceable back to customer actions, so our servers can’t just make up which apps they’re allowed to look at.
</li><li>An elegant way of exposing our own APIs to customer Fly Machines with ambient authentication, but without the <a href="https://github.com/SummitRoute/imdsv2_wall_of_shame/blob/main/README.md">AWS IMDSv1 credential theft problem</a>.
</li></ul>

<p>There are downsides and warts! I’m mostly not telling you about them! Pure restrictive caveats are an awkward way to express some roles. And, blinded by my hunger to get Macaroons deployed, I spat in the face of science and used internal database IDs as our public caveat format, an act for which JP will never forgive me.</p>

<p>If i’ve piqued your interest, <a href="https://github.com/superfly/macaroon">the code for this stuff is public</a>, along with some more <a href="https://github.com/superfly/macaroon/blob/main/macaroon-thought.md">detailed technical documentation</a>.</p>

          
        </section>
        <dl>
            <dt>
              Previous post  ↓
            </dt>
            <dd>
              <a href="https://fly.io/blog/how-i-fly-yoko-li/">
                How Yoko Li makes towns, tamagoes, and tools for local AI
              </a>
            </dd>
        </dl>
      </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Don't use NameCheap for the .fr TLD (129 pts)]]></title>
            <link>https://reddit.com/r/webdev/comments/1aesrm3/dont_use_namecheap_for_the_fr_tld/</link>
            <guid>39203315</guid>
            <pubDate>Wed, 31 Jan 2024 13:10:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://reddit.com/r/webdev/comments/1aesrm3/dont_use_namecheap_for_the_fr_tld/">https://reddit.com/r/webdev/comments/1aesrm3/dont_use_namecheap_for_the_fr_tld/</a>, See on <a href="https://news.ycombinator.com/item?id=39203315">Hacker News</a></p>
<div id="readability-page-1" class="page"><p><span>
      <span>
        <faceplate-tracker source="post_credit_bar" action="click" noun="community">
          <a href="https://reddit.com/r/webdev/">
            
            <faceplate-screen-reader-content>
              Go to webdev
            </faceplate-screen-reader-content>
          </a>
        </faceplate-tracker>
      </span>

      
    </span>
    <span>
      
    <shreddit-async-loader bundlename="status_icons">
      <shreddit-status-icons thing-id="t3_1aesrm3">
        <svg rpl="" aria-label="Locked post" fill="currentColor" height="12" icon-name="lock-fill" viewBox="0 0 20 20" width="12" xmlns="http://www.w3.org/2000/svg">
      <path d="M16.375 8H15V5.312A5.17 5.17 0 0 0 10 0a5.169 5.169 0 0 0-5 5.312V8H3.625A1.629 1.629 0 0 0 2 9.63v7.74A1.629 1.629 0 0 0 3.625 19h12.75A1.629 1.629 0 0 0 18 17.37V9.63A1.629 1.629 0 0 0 16.375 8Zm-3.25 0h-6.25V5.313A3.3 3.3 0 0 1 10 1.875a3.3 3.3 0 0 1 3.125 3.438V8Z"></path>
    </svg>
        <svg rpl="" aria-label="Sticked post" fill="currentColor" height="12" icon-name="pin-fill" viewBox="0 0 20 20" width="12" xmlns="http://www.w3.org/2000/svg">
      <path d="M19.6 6.876 13.124.4a1.132 1.132 0 0 0-1.606 0l-.665.665a2.083 2.083 0 0 0-.379 2.435L6.68 7.292a2.085 2.085 0 0 0-2.432.374l-.665.665a1.14 1.14 0 0 0 0 1.612l2.53 2.53-5.82 5.82 1.414 1.414 5.82-5.82 2.53 2.53a1.132 1.132 0 0 0 1.606 0l.665-.665a2.084 2.084 0 0 0 .375-2.432L16.5 9.528a2.126 2.126 0 0 0 2.433-.375l.666-.666a1.142 1.142 0 0 0 .001-1.611Z"></path>
    </svg>
        <svg rpl="" aria-label="Archived post" fill="currentColor" height="12" icon-name="archived-fill" viewBox="0 0 20 20" width="12" xmlns="http://www.w3.org/2000/svg">
      <path d="M19 2.125v3.75A1.127 1.127 0 0 1 17.875 7H2.125A1.127 1.127 0 0 1 1 5.875v-3.75A1.127 1.127 0 0 1 2.125 1h15.75A1.127 1.127 0 0 1 19 2.125Zm-1 6.287v9.453a1.19 1.19 0 0 1-1.192 1.185H3.192A1.19 1.19 0 0 1 2 17.865V8.412c.042 0 .082.013.125.013h15.75c.043 0 .083-.011.125-.013ZM13.35 11h-6.7v1.5h6.7V11Z"></path>
    </svg>
      </shreddit-status-icons>
    </shreddit-async-loader>
  
      
      <shreddit-async-loader bundlename="shreddit_post_overflow_menu">
    <shreddit-post-overflow-menu is-desktop="" is-report-enabled="" subreddit-id="t5_2qs0q" post-permalink="/r/webdev/comments/1aesrm3/dont_use_namecheap_for_the_fr_tld/" subreddit-prefixed-name="r/webdev" can-update-commercial-communication-status="">
      
            
          
    </shreddit-post-overflow-menu>
  </shreddit-async-loader>
      
    </span>
  </p><div id="t3_1aesrm3-post-rtjson-content" data-post-click-location="text-body" slot="text-body">
    <p>
    Quick backstory,
  </p><p>
    I had i domain in .fr with them for the last 3 years. It's my main email address, very important to me. In the past, I had always renewed my domain in advance. But my main phone was broken for a bit this month and I realized my domain would be expiring in 10 day (this is important).
  </p><p>
    So I went on my NameCheap account to see that "Error Info: Renew not supported later than 12 days before expiry date for this TLD. ". So I hopped in a support chat, the agent told me to credit my account of the $18.56 for a renewal and that they would do it on their end.
  </p><p>
    Later that day, I received this email:
  </p><blockquote>
    <p>
    Hello,
  </p><p>
    We are contacting regarding your xxxxxx.fr domain name.
  </p><p>
    To our regret, your domain is now in the redemption state. In order to reinstate it in this phase, there is an redemption fee plus renewal price. The total amount, in this case, would be $98.98.
  </p>
  </blockquote><p>
    So my not yet expired domain is in redemption state ?!
  </p><p>
    After a bit a search, I found that my actual registra is 1API (WHOIS info). Let's see why they have this rule in place... <a href="https://wiki.hexonet.net/wiki/FR" rel="noopener nofollow ugc" target="_blank">https://wiki.hexonet.net/wiki/FR</a> ( note : hexonet and 1API are the same company)
  </p><p>
    And .... They don't, I start another support chat and ask the dicey question.
  </p><p>
    Me : What is the technical reason ?
  </p><p>
    Agent 1 : Allow me 5-10 minutes to contact our team in this regard.
  </p><p>
    Agent 2 : Thank you for waiting. The rule about the renewal of .FR domains are set up not by Namecheap, but by our upstream provider. The "Domain renew by" date is indicated in the Namecheap account, you should renew (have the domain auto-renewed) before that date. If not renewed. it enters the redemption period and will require a redemption fee to be paid along with the regular renewal cost. The domains that were not renewed on time will have "Alert" status and are removed from the Namecheap account the next day after the expiration. If you'd like to transfer the domain, our Concierge department will help you with this.
  </p><p>
    Me : is your upstream provider 1API ?
  </p><p>
    Agent 2 : No, it is not our upstream provider.
  </p><p>
    Agent 2 : I cannot disclose our internal information, regrettably.
  </p><p>
    Yes, a 10 million customer company use a company that use other company for one of the main TLD.
  </p><p>
    To end this story, I have transferred my domain to OVH for 6€, and they renewed it for free!
  </p><p>
    TLDR: Don't use NameCheap for <a href="https://www.namecheap.com/domains/registration/cctld/ch/" rel="noopener nofollow ugc" target="_blank">.CH</a>, <a href="https://www.namecheap.com/domains/registration/cctld/es/" rel="noopener nofollow ugc" target="_blank">.ES</a>, <a href="https://www.namecheap.com/domains/registration/cctld/fr/" rel="noopener nofollow ugc" target="_blank">.FR</a>, <a href="https://www.namecheap.com/domains/registration/cctld/li/" rel="noopener nofollow ugc" target="_blank">.LI</a>, <a href="https://www.namecheap.com/domains/registration/cctld/pe/" rel="noopener nofollow ugc" target="_blank">.PE</a>, <a href="https://www.namecheap.com/domains/registration/cctld/sg/" rel="noopener nofollow ugc" target="_blank">.SG</a>, <a href="https://www.namecheap.com/domains/registration/cctld/com-sg/" rel="noopener nofollow ugc" target="_blank">.COM.SG</a>, <a href="https://www.namecheap.com/domains/registration/cctld/com-au/" rel="noopener nofollow ugc" target="_blank">.COM.AU</a>, <a href="https://www.namecheap.com/domains/registration/cctld/org-au/" rel="noopener nofollow ugc" target="_blank">.ORG.AU</a>, <a href="https://www.namecheap.com/domains/registration/cctld/net-au/" rel="noopener nofollow ugc" target="_blank">.NET.AU</a> domains.
  </p><p>
    <a href="https://www.namecheap.com/support/knowledgebase/article.aspx/9916/2207/tlds-grace-periods/" rel="noopener nofollow ugc" target="_blank">https://www.namecheap.com/support/knowledgebase/article.aspx/9916/2207/tlds-grace-periods/</a>
  </p>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[There's More Proof That Return to Office Is Pointless (102 pts)]]></title>
            <link>https://gizmodo.com/more-proof-that-return-to-office-is-pointless-1851209231</link>
            <guid>39202992</guid>
            <pubDate>Wed, 31 Jan 2024 12:34:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gizmodo.com/more-proof-that-return-to-office-is-pointless-1851209231">https://gizmodo.com/more-proof-that-return-to-office-is-pointless-1851209231</a>, See on <a href="https://news.ycombinator.com/item?id=39202992">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><figure data-id="376aa324f0c8fc12f5436642a370b0e6" data-recommend-id="image://376aa324f0c8fc12f5436642a370b0e6" data-format="jpg" data-width="5617" data-height="3153" data-lightbox="true" data-recommended="true" data-hide="false" contenteditable="false" draggable="false"><div contenteditable="false" data-link-reference="" data-link-target="" data-syndicationrights="true" data-imagerights="shutterstock" data-hide="false" data-hidecredit="false"><p><span><div><picture><source media="(max-width: 37.31em)" type="image/jpeg" srcset="https://i.kinja-img.com/image/upload/c_fit,q_60,w_645/376aa324f0c8fc12f5436642a370b0e6.jpg"><source media="(min-width: 37.37em)" type="image/jpeg" srcset="https://i.kinja-img.com/image/upload/c_fit,q_60,w_1315/376aa324f0c8fc12f5436642a370b0e6.jpg"><img alt="Image for article titled There’s More Proof That Return to Office Is Pointless" data-chomp-id="376aa324f0c8fc12f5436642a370b0e6" data-format="jpg" data-alt="Image for article titled There’s More Proof That Return to Office Is Pointless" data-anim-src="" src="https://i.kinja-img.com/image/upload/c_fit,q_60,w_645/376aa324f0c8fc12f5436642a370b0e6.jpg"></picture></div></span></p><p><figcaption>Photo<!-- -->: <!-- -->Dean Drobot<!-- --> (<!-- -->Shutterstock<!-- -->)</figcaption></p></div><span data-id="376aa324f0c8fc12f5436642a370b0e6" data-recommend-id="image://376aa324f0c8fc12f5436642a370b0e6" data-format="jpg" data-width="5617" data-height="3153" data-lightbox="true" data-recommended="true" data-hide="false"></span></figure><div><p>Your manager may suggest that <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;Internal link&quot;,&quot;https://gizmodo.com/amazon-ceo-tells-workers-to-return-to-office-or-fired-1850783235&quot;,{&quot;metric25&quot;:1}]]" href="https://gizmodo.com/amazon-ceo-tells-workers-to-return-to-office-or-fired-1850783235">returning to the office</a></span> is imperative for the company’s success, workplace culture, and overall productivity. However, there’s a <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;Internal link&quot;,&quot;https://gizmodo.com/four-day-work-week-work-from-home-return-to-office-1849562791&quot;,{&quot;metric25&quot;:1}]]" href="https://gizmodo.com/four-day-work-week-work-from-home-return-to-office-1849562791">growing body of evidence</a></span> suggesting that’s bullshit. New <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;External link&quot;,&quot;https://deliverypdf.ssrn.com/delivery.php?ID=011106009067112120102007114118111024038039000065003034103087106087095103085122071078010118005034010099113069111020006086125114039035093009046118064127089020088111025086069046115071066088115108002030121095001081025031094123064095019127083112075017103066&amp;EXT=pdf&amp;INDEX=TRUE&quot;,{&quot;metric25&quot;:1}]]" href="https://deliverypdf.ssrn.com/delivery.php?ID=011106009067112120102007114118111024038039000065003034103087106087095103085122071078010118005034010099113069111020006086125114039035093009046118064127089020088111025086069046115071066088115108002030121095001081025031094123064095019127083112075017103066&amp;EXT=pdf&amp;INDEX=TRUE" target="_blank" rel="noopener noreferrer">research</a></span> out of the University of Pittsburgh examined 137 of America’s largest corporations and found that return-to-office mandates did not result in significant improvements to firm performance.</p><div data-video-id="196376" data-monetizable="true" data-position="sidebar" data-video-title="Alex Winter on the Most Important Modern Horror Movie " data-video-blog-id="4" data-video-network="gizmodo" data-video-duration="193" data-playlist="196376,196371,196355" data-current="196376"><div><p>Alex Winter on the Most Important Modern Horror Movie </p></div><video disablepictureinpicture="" muted="" playsinline="" width="100%" height="100%" crossorigin="anonymous" preload="none"><source data-src="https://vid.kinja.com/prod/196376/196376_240p.mp4" label="240p" type="video/mp4"><source data-src="https://vid.kinja.com/prod/196376/196376_480p.mp4" label="480p" type="video/mp4"><source data-src="https://vid.kinja.com/prod/196376/196376_720p.mp4" label="720p" type="video/mp4"><source data-src="https://vid.kinja.com/prod/196376/196376_1080p.mp4" label="1080p" type="video/mp4"><track kind="captions" label="English" src="https://kinja.com/api/videoupload/caption/21923.vtt" srclang="en"></video><div><ul><li data-label="">Off</li><li data-label="English">English</li></ul></div></div><p>“Using a sample of S&amp;P 500 firms, we examine determinants and consequences of U.S. firms’ return-to-office (RTO) mandates,” said researchers from the Katz Graduate School of Business at the University of Pittsburgh. The study found that managers use RTO mandates “to reassert control over employees and blame employees as a scapegoat,” and concluded that “we do not find significant changes in firm performance in terms of profitability and stock market valuation after the RTO mandates.”</p><p>The study analyzed all 137 firms on the S&amp;P 500 that have publicly announced RTO plans since the coronavirus pandemic introduced remote work. Researchers also looked into the motivation behind RTO mandates and found that firms led by male CEOs with greater power are more inclined to enforce an RTO policy. Power was defined as the CEO’s total compensation divided by the average compensation of the firm’s highest-paid executives. There was no correlation between a CEO’s political affiliation or percentage of stake in the company and an RTO mandate.</p><p>Unsurprisingly, employee satisfaction plummeted after RTO mandates. Employee ratings of work-life balance, senior management, and cultural values all had significant decreases in the face of return-to-office policies.</p><p>In the post-pandemic era, corporate management has become consumed with <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;Internal link&quot;,&quot;https://gizmodo.com/work-from-home-jobs-remote-work-tech-jobs-1850269974&quot;,{&quot;metric25&quot;:1}]]" href="https://gizmodo.com/work-from-home-jobs-remote-work-tech-jobs-1850269974">getting employees back in the office</a></span> making it one of the most hotly contested debates in workplace culture. Even <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;Internal link&quot;,&quot;https://gizmodo.com/zoom-ceo-return-to-office-leaked-audio-1850769660&quot;,{&quot;metric25&quot;:1}]]" href="https://gizmodo.com/zoom-ceo-return-to-office-leaked-audio-1850769660">Zoom’s CEO asked employees to get back to the office</a></span>, saying it’s hard to build trust over Zoom. This study, published Jan. 18, adds to several other studies that have shown <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;External link&quot;,&quot;https://www.zdnet.com/home-and-office/work-life/no-working-from-home-doesnt-harm-productivity-says-study/&quot;,{&quot;metric25&quot;:1}]]" href="https://www.zdnet.com/home-and-office/work-life/no-working-from-home-doesnt-harm-productivity-says-study/" target="_blank" rel="noopener noreferrer">remote work is very productive</a></span> and <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;External link&quot;,&quot;https://fortune.com/2023/02/16/return-office-real-reason-slump-productivity-data-careers-gleb-tsipursky/&quot;,{&quot;metric25&quot;:1}]]" href="https://fortune.com/2023/02/16/return-office-real-reason-slump-productivity-data-careers-gleb-tsipursky/" target="_blank" rel="noopener noreferrer">RTO mandates could be causing a productivity slump</a></span>.</p><p>Return to office mandates are still going strong. The <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;External link&quot;,&quot;https://www.wsj.com/business/earnings/ups-to-cut-12-000-jobs-as-delivery-business-slows-d832f1d2&quot;,{&quot;metric25&quot;:1}]]" href="https://www.wsj.com/business/earnings/ups-to-cut-12-000-jobs-as-delivery-business-slows-d832f1d2" target="_blank" rel="noopener noreferrer">United Parcel Service is mandating staff return to the office</a></span> five days a week, according to the Wall Street Journal on Tuesday. The package shipper hopes this change, and 12,000 layoffs, will help the company bounce back from a slowdown in shipments. IBM also delivered managers still working remotely a stern message on Monday: <span><a data-ga="[[&quot;Embedded Url&quot;,&quot;External link&quot;,&quot;https://www.bloomberg.com/news/articles/2024-01-29/ibm-to-managers-move-near-an-office-or-leave-company?sref=P6Q0mxvj&quot;,{&quot;metric25&quot;:1}]]" href="https://www.bloomberg.com/news/articles/2024-01-29/ibm-to-managers-move-near-an-office-or-leave-company?sref=P6Q0mxvj" target="_blank" rel="noopener noreferrer">move near an office or leave the company</a></span>.</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[23andMe's Fall (221 pts)]]></title>
            <link>https://www.wsj.com/health/healthcare/23andme-anne-wojcicki-healthcare-stock-913468f4</link>
            <guid>39202583</guid>
            <pubDate>Wed, 31 Jan 2024 11:36:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wsj.com/health/healthcare/23andme-anne-wojcicki-healthcare-stock-913468f4">https://www.wsj.com/health/healthcare/23andme-anne-wojcicki-healthcare-stock-913468f4</a>, See on <a href="https://news.ycombinator.com/item?id=39202583">Hacker News</a></p>
Couldn't get https://www.wsj.com/health/healthcare/23andme-anne-wojcicki-healthcare-stock-913468f4: Error: Request failed with status code 401]]></description>
        </item>
        <item>
            <title><![CDATA[Citation cartels help mathematicians-and their universities-climb the rankings (159 pts)]]></title>
            <link>https://www.science.org/content/article/citation-cartels-help-some-mathematicians-and-their-universities-climb-rankings</link>
            <guid>39202571</guid>
            <pubDate>Wed, 31 Jan 2024 11:34:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.science.org/content/article/citation-cartels-help-some-mathematicians-and-their-universities-climb-rankings">https://www.science.org/content/article/citation-cartels-help-some-mathematicians-and-their-universities-climb-rankings</a>, See on <a href="https://news.ycombinator.com/item?id=39202571">Hacker News</a></p>
Couldn't get https://www.science.org/content/article/citation-cartels-help-some-mathematicians-and-their-universities-climb-rankings: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[The Pentagon tried to hide that it bought Americans' data without a warrant (129 pts)]]></title>
            <link>https://www.wired.com/story/pentagon-data-purchases-wyden-letter/</link>
            <guid>39201660</guid>
            <pubDate>Wed, 31 Jan 2024 09:11:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wired.com/story/pentagon-data-purchases-wyden-letter/">https://www.wired.com/story/pentagon-data-purchases-wyden-letter/</a>, See on <a href="https://news.ycombinator.com/item?id=39201660">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-journey-hook="client-content" data-testid="BodyWrapper"><p>United States officials fought to conceal details of arrangements between US spy agencies and private companies tracking the whereabouts of Americans via their cell phones. Obtaining location data from US phones normally requires a warrant, but police and intelligence agencies routinely pay companies instead for the data, effectively circumventing the courts.</p><p>Ron Wyden, the US senator from Oregon, informed the nation’s intelligence chief, Avril Haines, on Thursday that the Pentagon only agreed to release details about the data purchases, which had always been unclassified, after Wyden hindered the Senate's efforts to appoint a new director of the National Security Agency. “The secrecy around data purchases was amplified,” Wyden wrote, “because intelligence agencies have sought to keep the American people in the dark."</p><p>Wyden's office says it’s been investigating sales of location data to the government for years, uncovering multiple ties between the Department of Defense and what the senator refers to as “shady companies" committing “flagrant violations” of people's privacy. The companies' practices are “not just unethical, but illegal,” he says.</p><p>Pentagon offices known to have purchased location data from these companies include the Defense Intelligence Agency and the NSA, among others. Wyden's letter, first reported by <a href="https://www.nytimes.com/2024/01/25/us/politics/nsa-internet-privacy-warrant.html?unlocked_article_code=1.QU0.YdWh.n51FMReztrOH"><em>The New York Times</em></a>, indicates that the NSA is also “buying Americans' domestic internet metadata.”</p><p>Wyden's disclosure comes amid a fight in the US House of Representatives over efforts to outlaw the purchases entirely. Last month, members of the House Judiciary Committee attached legislation doing so, known as the <em>Fourth Amendment Is Not For Sale Act</em>, to a bill reauthorizing a contentious surveillance program known as Section 702.</p><p>The bill, originally coauthored by Wyden, nearly received a vote last month during a showdown with rival legislation introduced by the House Intelligence Committee that does not seek to ban the purchases. Congressional sources tell WIRED the vote was called off at the last minute after Biden administration officials and members of the intelligence committee staged a campaign against the privacy-enhancing measures.</p><p>Intelligence officials in the House held separate meetings with members and their aides aiming to discourage support for the judiciary bill—the <em>Protect Liberty Act</em>—alleging that new warrant requirements would be overly burdensome for law enforcement, despite a slew of exemptions for cyberwarfare, terrorism, and espionage threats.</p><p>Six sources who attended the meetings told WIRED that intelligence committee members used images of Hamas militants in presentations to drive home its argument for relaxing limits on domestic surveillance. The message, Republican aides said, was, “it could happen here.” Three Democrats who attended meetings with representatives from the FBI, CIA, and NSA, among other agencies, described the presentation as a “scare tactic.”</p><p>The home surveillance debate, which has exploded in recent months, hampering the passing of routine legislation, has largely focused on Section 702, an authority under which the government monitors the calls, texts, and emails of foreign nationals. Section 702 is set to expire in under four months.</p><p>Both the <em>Protect Liberty Act</em> and its intelligence committee rival—the <em>FISA Reform and Reauthorization Act</em>—aim to reauthorize Section 702 into the future. In how that's accomplished the bills are radically different. With access by the FBI to foreign intelligence for domestic investigations being the biggest point of contention, federal lawmakers can now effectively be divided into two factions: people who support surveillance warrants and people who don't.</p><p>The pro-warrant <em>Protect Liberty Ac</em>t could receive a vote as early as next month, with its provisions banning the government from buying data as a means of evading warrant requirements. Republicans on the Hill say they can't be sure whether House Speaker Mike Johnson will allow a vote, however, due to the intense amount of pressure he faces from the intelligence system.</p><p>“There is a lot of baloney going around about surveillance reform," Wyden says. “Probably because some surveillance supporters are worried they won’t win an honest debate.”</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Gitlab's ActivityPub architecture blueprint (181 pts)]]></title>
            <link>https://docs.gitlab.com/ee/architecture/blueprints/activity_pub/</link>
            <guid>39201453</guid>
            <pubDate>Wed, 31 Jan 2024 08:37:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://docs.gitlab.com/ee/architecture/blueprints/activity_pub/">https://docs.gitlab.com/ee/architecture/blueprints/activity_pub/</a>, See on <a href="https://news.ycombinator.com/item?id=39201453">Hacker News</a></p>
<div id="readability-page-1" class="page"><div role="main" itemscope="" itemprop="mainContentOfPage">

<table>
<thead>
<tr>
<th>Status
</th><th>Authors
</th><th>Coach
</th><th>DRIs
</th><th>Owning Stage
</th><th>Created
</th></tr></thead><tbody>
<tr>
<td>
<span>
<span>proposed</span>
</span>
</td><td>
<code><a href="https://gitlab.com/oelmekki">@oelmekki</a></code>
<code><a href="https://gitlab.com/jpcyiza">@jpcyiza</a></code>
</td><td>
<code><a href="https://gitlab.com/tkuah">@tkuah</a></code>
</td><td>
<code><a href="https://gitlab.com/derekferguson">@derekferguson</a></code>
</td><td>
<span>
<span></span>
</span>
</td><td>2023-09-12
</td></tr></tbody></table>
<ul id="markdown-toc">
<li><a href="#summary" id="markdown-toc-summary">Summary</a>
</li><li>
<a href="#description-of-the-related-tech-and-terms" id="markdown-toc-description-of-the-related-tech-and-terms">Description of the related tech and terms</a> <ul>
<li><a href="#the-fediverse" id="markdown-toc-the-fediverse">The Fediverse</a>
</li><li><a href="#activitypub" id="markdown-toc-activitypub">ActivityPub</a>
</li></ul>
</li><li>
<a href="#motivation" id="markdown-toc-motivation">Motivation</a> <ul>
<li><a href="#goals" id="markdown-toc-goals">Goals</a>
</li><li><a href="#non-goals" id="markdown-toc-non-goals">Non-Goals</a>
</li></ul>
</li><li><a href="#proposal" id="markdown-toc-proposal">Proposal</a>
</li><li>
<a href="#design-and-implementation-details" id="markdown-toc-design-and-implementation-details">Design and implementation details</a> <ul>
<li><a href="#production-readiness" id="markdown-toc-production-readiness">Production readiness</a>
</li><li>
<a href="#the-social-following-part" id="markdown-toc-the-social-following-part">The social following part</a> <ul>
<li><a href="#endpoints" id="markdown-toc-endpoints">Endpoints</a>
</li><li><a href="#serializers" id="markdown-toc-serializers">Serializers</a>
</li><li><a href="#subscription" id="markdown-toc-subscription">Subscription</a>
</li><li><a href="#unfollow" id="markdown-toc-unfollow">Unfollow</a>
</li><li><a href="#sending-activities-out" id="markdown-toc-sending-activities-out">Sending activities out</a>
</li><li><a href="#webfinger" id="markdown-toc-webfinger">Webfinger</a>
</li><li><a href="#http-signatures" id="markdown-toc-http-signatures">HTTP signatures</a>
</li></ul>
</li><li><a href="#host-allowlist-and-denylist" id="markdown-toc-host-allowlist-and-denylist">Host allowlist and denylist</a>
</li><li><a href="#limits-and-rollout" id="markdown-toc-limits-and-rollout">Limits and rollout</a>
</li><li><a href="#the-cross-instance-issues-and-merge-requests-part" id="markdown-toc-the-cross-instance-issues-and-merge-requests-part">The cross-instance issues and merge requests part</a>
</li></ul>
</li></ul>

<h2 id="summary">Summary<a href="#summary" title="Permalink"></a>
</h2>
<p>The end goal of this proposal is to build interoperability features into
GitLab so that it’s possible on one instance of GitLab to open a merge
request to a project hosted on an other instance, merging all willing
instances in a global network.
</p><p>To achieve that, we propose to use ActivityPub, the w3c standard used by
the Fediverse. This will allow us to build upon a robust and battle-tested
protocol, and it will open GitLab to a wider community.
</p><p>Before starting implementing cross-instance merge requests, we want to
start with smaller steps, helping us to build up domain knowledge about
ActivityPub and creating the underlying architecture that will support the
more advanced features. For that reason, we propose to start with
implementing social features, allowing people on the Fediverse to subscribe
to activities on GitLab, for example to be notified on their social network
of choice when their favorite project hosted on GitLab makes a new release.
As a bonus, this is an opportunity to make GitLab more social and grow its
audience.
</p>
<p>Feel free to jump to <a href="#motivation">Motivation</a> if you already know what
ActivityPub and the Fediverse are.
</p><p>Among the push for <a href="https://en.wikipedia.org/wiki/Decentralized_web">decentralization of the web</a>,
several projects tried different protocols with different ideals behind their reasoning.
Some examples:
</p><ul>
<li>
<a href="https://en.wikipedia.org/wiki/Secure_Scuttlebutt">Secure Scuttlebutt</a> (or SSB for short)
</li><li><a href="https://en.wikipedia.org/wiki/Dat_%28software%29">Dat</a>
</li><li>
<a href="https://en.wikipedia.org/wiki/InterPlanetary_File_System">IPFS</a>,
</li><li><a href="https://en.wikipedia.org/wiki/Solid_%28web_decentralization_project%29">Solid</a>
</li></ul>
<p>One gained traction recently: <a href="https://en.wikipedia.org/wiki/ActivityPub">ActivityPub</a>,
better known for the colloquial <a href="https://en.wikipedia.org/wiki/Fediverse">Fediverse</a> built
on top of it, through applications like
<a href="https://en.wikipedia.org/wiki/Mastodon_%28social_network%29">Mastodon</a>
(which could be described as some sort of decentralized Facebook) or
<a href="https://en.wikipedia.org/wiki/Lemmy_%28software%29">Lemmy</a> (which could be
described as some sort of decentralized Reddit).
</p><p>ActivityPub has several advantages that makes it attractive
to implementers and could explain its current success:
</p><ul>
<li>
<strong>It’s built on top of HTTP</strong>. You don’t need to install new software or
to tinker with TCP/UDP to implement ActivityPub, if you have a webserver
or an application that provides an HTTP API (like a rails application),
you already have everything you need.
</li><li>
<strong>It’s built on top of JSON</strong>. All communications are basically JSON
objects, which web developers are already used to, which simplifies adoption.
</li><li>
<strong>It’s a W3C standard and already has multiple implementations</strong>. Being
piloted by the W3C is a guarantee of stability and quality work. They
have profusely demonstrated in the past through their work on HTML, CSS
or other web standards that we can build on top of their work without
the fear of it becoming deprecated or irrelevant after a few years.
</li></ul>
<h3 id="the-fediverse">The Fediverse<a href="#the-fediverse" title="Permalink"></a>
</h3>
<p>The core idea behind Mastodon and Lemmy is called the Fediverse. Rather
than full decentralization, those applications rely on federation, in the
sense that there still are servers and clients. It’s not P2P like SSB,
Dat and IPFS, but instead a galaxy of servers chatting with each other
instead of having central servers controlled by a single entity.
</p><p>The user signs up to one of those servers (called <strong>instances</strong>), and they
can then interact with users either on this instance, or on other ones.
From the perspective of the user, they access a global network, and not
only their instance. They see the articles posted on other instances, they
can comment on them, upvote them, etc.
</p><p>What happens behind the scenes:
their instance knows where the user they reply to is hosted. It
contacts that other instance to let them know there is a message for them -
somewhat similar to SMTP. Similarly, when a user subscribes
to a feed, their instance informs the instance where the feed is
hosted of this subscription. That target instance then posts back
messages when new activities are created. This allows for a push model, rather
than a constant poll model like RSS. Of course, what was just described is
the happy path; there is moderation, validation and fault tolerance
happening all the way.
</p><h3 id="activitypub">ActivityPub<a href="#activitypub" title="Permalink"></a>
</h3>
<p>Behind the Fediverse is the ActivityPub protocol. It’s a HTTP API
attempting to be as general a social network implementation as possible,
while giving options to be extendable.
</p><p>The basic idea is that an <code>actor</code> sends and receives <code>activities</code>. Activities
are structured JSON messages with well-defined properties, but are extensible
to cover any need. An actor is defined by four endpoints, which are
contacted with the
<code>application/ld+json; profile="https://www.w3.org/ns/activitystreams"</code> HTTP Accept header:
</p><ul>
<li>
<code>GET /inbox</code>: used by the actor to find new activities intended for them.
</li><li>
<code>POST /inbox</code>: used by instances to push new activities intended for the actor.
</li><li>
<code>GET /outbox</code>: used by anyone to read the activities created by the actor.
</li><li>
<code>POST /outbox</code>: used by the actor to publish new activities.
</li></ul>
<p>Among those, Mastodon and Lemmy only use <code>POST /inbox</code> and <code>GET /outbox</code>, which
are the minimum needed to implement federation:
</p><ul>
<li>Instances push new activities for the actor on the inbox.
</li><li>Reading the outbox allows reading the feed of an actor.
</li></ul>
<p>Additionally, Mastodon and Lemmy implement a <code>GET /</code> endpoint (with the
mentioned Accept header). This endpoint responds with general information about the
actor, like name and URL of the inbox and outbox. While not required by the
standard, it makes discovery easier.
</p><p>While a person is the main use case for an actor, an actor does not
necessarily map to a person. Anything can be an actor: a topic, a
subreddit, a group, an event. For GitLab, anything with activities (in the sense
of what GitLab means by “activity”) can be an ActivityPub actor. This includes
items like projects, groups, and releases. In those more abstract examples,
an actor can be thought of as an actionable feed.
</p><p>ActivityPub by itself does not cover everything that is needed to implement
the Fediverse. Most notably, these are left for the implementers to figure out:
</p><ul>
<li>Finding a way to deal with spam. Spam is handled by authorizing or
blocking (“defederating”) other instances.
</li><li>Discovering new instances.
</li><li>Performing network-wide searches.
</li></ul>
<h2 id="motivation">Motivation<a href="#motivation" title="Permalink"></a>
</h2>
<p>Why would a social media protocol be useful for GitLab? People want a single,
global GitLab network to interact between various projects, without having to
register on each of their hosts.
</p><p>Several very popular discussions around this have already happened:
</p><ul>
<li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/21582">Share events externally via ActivityPub</a>
</li><li><a href="https://gitlab.com/gitlab-org/gitlab/-/issues/14116">Implement cross-server (federated) merge requests</a>
</li><li>
<a href="https://gitlab.com/groups/gitlab-org/-/epics/260">Distributed merge requests</a>.
</li></ul>
<p>The ideal workflow would be:
</p><ol>
<li>Alice registers to her favorite GitLab instance, like <code>gitlab.example.org</code>.
</li><li>She looks for a project on a given topic, and sees Bob’s project, even though
Bob is on <code>gitlab.com</code>.
</li><li>Alice selects <strong>Fork</strong>, and the <code>gitlab.com/Bob/project.git</code> is
forked to <code>gitlab.example.org/Alice/project.git</code>.
</li><li>She makes her edits, and opens a merge request, which appears in Bob’s
project on <code>gitlab.com</code>.
</li><li>Alice and Bob discuss the merge request, each one from their own GitLab
instance.
</li><li>Bob can send additional commits, which are picked up by Alice’s instance.
</li><li>When Bob accepts the merge request, his instance picks up the code from
Alice’s instance.
</li></ol>
<p>In this process, ActivityPub would help in:
</p><ul>
<li>Letting Bob know a fork happened.
</li><li>Sending the merge request to Bob.
</li><li>Enabling Alice and Bob to discuss the merge request.
</li><li>Letting Alice know the code was merged.
</li></ul>
<p>It does <em>not</em> help in these cases, which need specific implementations:
</p><ul>
<li>Implementing a network-wide search.
</li><li>Implementing cross-instance forks. (Not needed, thanks to Git.)
</li></ul>
<p>Why use ActivityPub here rather than implementing cross-instance merge requests
in a custom way? Two reasons:
</p><ol>
<li>
<strong>Building on top of a standard helps reach beyond GitLab</strong>.
While the workflow presented above only mentions GitLab, building on top
of a W3C standard means other forges can follow GitLab
there, and build a massive Fediverse of code sharing.
</li><li>
<strong>An opportunity to make GitLab more social</strong>. To prepare the
architecture for the workflow above, smaller steps can be taken, allowing
people to subscribe to activity feeds from their Fediverse social
network. Anything that has a RSS feed could become an ActivityPub feed.
People on Mastodon could follow their favorite developer, project, or topic
from GitLab and see the news in their feed on Mastodon, hopefully raising
engagement with GitLab.
</li></ol>
<h3 id="goals">Goals<a href="#goals" title="Permalink"></a>
</h3>
<ul>
<li>allowing to share interesting events on ActivityPub based social media
</li><li>allowing to open an issue and discuss it from one instance to an other
</li><li>allowing to fork a project from one instance to an other
</li><li>allowing to open a merge request, discuss it and merge it from one instance to an other
</li><li>allowing to perform a network wide search?
</li></ul>
<h3 id="non-goals">Non-Goals<a href="#non-goals" title="Permalink"></a>
</h3>
<ul>
<li>federation of private resources
</li><li>allowing to perform a network wide search?
</li></ul>
<h2 id="proposal">Proposal<a href="#proposal" title="Permalink"></a>
</h2>
<p>The idea of this implementation path is not to take the fastest route to
the feature with the most value added (cross-instance merge requests), but
to go on with the smallest useful step at each iteration, making sure each step
brings something immediately useful.
</p><ol>
<li>
<strong>Implement ActivityPub for social following</strong>.
After this, the Fediverse can follow activities on GitLab instances.
<ol>
<li>ActivityPub to subscribe to project releases.
</li><li>ActivityPub to subscribe to project creation in topics.
</li><li>ActivityPub to subscribe to project activities.
</li><li>ActivityPub to subscribe to group activities.
</li><li>ActivityPub to subscribe to user activities.
</li></ol>
</li><li>
<strong>Implement cross-instance forks</strong> to enable forking a project from an other instance.
</li><li>
<strong>Implement ActivityPub for cross-instance discussions</strong> to enable discussing
issues and merge requests from another instance:
<ol>
<li>In issues.
</li><li>In merge requests.
</li></ol>
</li><li>
<strong>Implement ActivityPub to submit cross-instance merge requests</strong> to enable
submitting merge requests to other instances.
</li><li>
<strong>Implement cross-instance search</strong> to enable discovering projects on other instances.
</li></ol>
<p>It’s open to discussion if this last step should be included at all.
Currently, in most Fediverse apps, when you want to display a resource from
an instance that your instance does not know about (typically a user you
want to follow), you paste the URL of the resource in the search box of
your instance, and it fetches and displays the remote resource, now
actionable from your instance. We plan to do that at first.
</p><p>The question is : do we keep it at that? This UX has severe frictions,
especially for users not used to Fediverse UX patterns (which is probably
most GitLab users). On the other hand, distributed search is a subject
complicated enough to deserve its own blueprint (although it’s not as
complicated as it used to be, now that decentralization protocols and
applications worked on it for a while).
</p><h2 id="design-and-implementation-details">Design and implementation details<a href="#design-and-implementation-details" title="Permalink"></a>
</h2>
<p>First, it’s a good idea to get familiar with the specifications of the
three standards we’re going to use:
</p><ul>
<li>
<a href="https://www.w3.org/TR/activitypub/">ActivityPub</a> defines the HTTP
requests happening to implement federation.
</li><li>
<a href="https://www.w3.org/TR/activitystreams-core/">ActivityStreams</a> defines the
format of the JSON messages exchanged by the users of the protocol.
</li><li>
<a href="https://www.w3.org/TR/activitystreams-vocabulary/">Activity Vocabulary</a>
defines the various messages recognized by default.
</li></ul>
<p>Feel free to ping <a href="https://gitlab.com/oelmekki">@oelmekki</a> if you have questions or find the documents too
dense to follow.
</p><h3 id="production-readiness">Production readiness<a href="#production-readiness" title="Permalink"></a>
</h3>
<p>TBC
</p>
<p>This part is laying the ground work allowing to
<a href="https://docs.gitlab.com/ee/development/activitypub/actors/index.html">add new ActivityPub actors</a> to
GitLab.
</p><p>There are 5 actors we want to implement:
</p><ul>
<li>the <code>releases</code> actor, to be notified when given project makes a new
release
</li><li>the <code>topic</code> actor, to be notified when a new project is added to a topic
</li><li>the <code>project</code> actor, regarding all activities from a project
</li><li>the <code>group</code> actor, regarding all activities from a group
</li><li>the <code>user</code> actor, regarding all activities from a user
</li></ul>
<p>We’re only dealing with public resources for now. Allowing federation of
private resources is a tricky subject that will be solved later, if it’s
possible at all.
</p><h4 id="endpoints">Endpoints<a href="#endpoints" title="Permalink"></a>
</h4>
<p>Each actor needs 3 endpoints:
</p><ul>
<li>the profile endpoint, containing basic info, like name, description, but
also including links to the inbox and outbox
</li><li>the outbox endpoint, allowing to show previous activities for an actor
</li><li>the inbox endpoint, on which to post to submit follow and unfollow
requests (among other things we won’t use for now).
</li></ul>
<p>The controllers providing those endpoints are in
<code>app/controllers/activity_pub/</code>. It’s been decided to use this namespace to
avoid mixing the ActivityPub JSON responses with the ones meant for the
frontend, and also because we may need further namespacing later, as the
way we format activities may be different for one Fediverse app, for an
other, and for our later cross-instance features. Also, this namespace
allow us to easily toggle what we need on all endpoints, like making sure
no private project can be accessed.
</p><h4 id="serializers">Serializers<a href="#serializers" title="Permalink"></a>
</h4>
<p>The serializers in <code>app/serializers/activity_pub/</code> are the meat of our
implementation, are they provide the ActivityStreams objects. The abstract
class <code>ActivityPub::ActivityStreamsSerializer</code> does all the heavy lifting
of validating developer provided data, setting up the common fields and
providing pagination.
</p><p>That pagination part is done through <code>Gitlab::Serializer::Pagination</code>, which
uses offset pagination.
<a href="https://gitlab.com/gitlab-org/gitlab/-/issues/424148">We need to allow it to do keyset pagination</a>.
</p><h4 id="subscription">Subscription<a href="#subscription" title="Permalink"></a>
</h4>
<p>Subscription to a resource is done by posting a
<a href="https://www.w3.org/TR/activitystreams-vocabulary/#dfn-follow">Follow activity</a>
to the actor inbox. When receiving a Follow activity,
<a href="https://www.w3.org/TR/activitypub/#follow-activity-inbox">we should generate an Accept or Reject activity in return</a>,
sent to the subscriber’s inbox.
</p><p>The general workflow of the implementation is as following:
</p><ul>
<li>A POST request is made to the inbox endpoint, with the Follow activity
encoded as JSON
</li><li>if the activity received is not of a supported type (e.g. someone tries to
comment on the activity), we ignore it ; otherwise:
</li><li>we create an <code>ActivityPub::Subscription</code> with the profile URL of the
subscriber
</li><li>we queue a job to resolve the subscriber’s inbox URL
<ul>
<li>in which we perform a HTTP request to the subscriber profile to find
their inbox URL (and the shared inbox URL if any)
</li><li>we store that URL in the subscription record
</li></ul>
</li><li>we queue a job to accept the subscription
<ul>
<li>in which we perform a HTTP request to the subscriber inbox to post an
Accept activity
</li><li>we update the state of the subscription to <code>:accepted</code>
</li></ul>
</li></ul>
<p><code>ActivityPub::Subscription</code> is a new abstract model, from which inherit
models related to our actors, each with their own table:
</p><ul>
<li>ActivityPub::ReleasesSubscription, table <code>activity_pub_releases_subscriptions</code>
</li><li>ActivityPub::TopicSubscription, table <code>activity_pub_topic_subscriptions</code>
</li><li>ActivityPub::ProjectSubscription, table <code>activity_pub_project_subscriptions</code>
</li><li>ActivityPub::GroupSubscription, table <code>activity_pub_group_subscriptions</code>
</li><li>ActivityPub::UserSubscription, table <code>activity_pub_user_subscriptions</code>
</li></ul>
<p>The reason to go with a multiple models rather than, say, a simpler <code>actor</code>
enum in the Subscription model with a single table is because we needs
specific associations and validations for each (an
<code>ActivityPub::ProjectSubscription</code> belongs to a Project, an
<code>ActivityPub::UserSubscription</code> does not). It also gives us more room for
extensibility in the future.
</p><h4 id="unfollow">Unfollow<a href="#unfollow" title="Permalink"></a>
</h4>
<p>When receiving
<a href="https://www.w3.org/TR/activitypub/#undo-activity-inbox">an Undo activity</a>
mentioning previous Follow, we remove the subscription from our database.
</p><p>We are not required to send back any activity, so we don’t need any worker
here, we can directly remove the record from database.
</p><h4 id="sending-activities-out">Sending activities out<a href="#sending-activities-out" title="Permalink"></a>
</h4>
<p>When specific events (which ones?) happen related to our actors, we should
queue events to issue activities on the subscribers inboxes (the activities
are the same than we display in the actor’s outbox).
</p><p>We’re supposed to deduplicate the subscriber list to make sure we don’t
send an activity twice to the same person - although it’s probably better
handled by a uniqueness validation from the model when receiving the Follow
activity.
</p><p>More importantly, we should group requests for a same host : if ten users
are all on <code>https://mastodon.social/</code>, we should issue a single request on
the shared inbox provided, adding all the users as recipients, rather than
sending one request per user.
</p><h4 id="webfinger">
<a href="https://gitlab.com/gitlab-org/gitlab/-/issues/423079">Webfinger</a><a href="#webfinger" title="Permalink"></a>
</h4>
<p>Mastodon
<a href="https://docs.joinmastodon.org/spec/webfinger/">requires instance to implement the Webfinger protocol</a>.
This protocol is about adding an endpoint at a well known location which
allows to query for a resource name and have it mapped to whatever URL we
want (so basically, it’s used for discovery). Mastodon uses this to query
other fediverse apps for actor names, in order to find their profile URLs.
</p><p>Actually, GitLab already implements the Webfinger protocol endpoint through
Doorkeeper
(<a href="https://github.com/doorkeeper-gem/doorkeeper-openid_connect/blob/5987683ccc22262beb6e44c76ca4b65288d6067a/app/controllers/doorkeeper/openid_connect/discovery_controller.rb#L14-L16">this is the action that maps to its route</a>),
implemented in GitLab
<a href="https://gitlab.com/gitlab-org/gitlab/-/blob/efa76816bd0603ba3acdb8a0f92f54abfbf5cc02/app/controllers/jwks_controller.rb">in JwksController</a>.
</p><p>There is no incompatibility here, we can just extend this controller.
Although, we’ll probably have to rename it, as it won’t be related to Jwks
alone anymore.
</p><p>One difficulty we may have is that contrary to Mastodon, we don’t only deal
with users. So we need to figure something to differentiate asking for a
user from asking for a project, for example. One obvious way would be to
use a prefix, like <code>user-&lt;username&gt;</code>, <code>project-&lt;project_name&gt;</code>, etc. I’m
pondering that from afar, while we haven’t implemented much code in the
epic and I haven’t dig deep into Webfinger’s specs, this remark may be
deprecated when we reach actual implementation.
</p><h4 id="http-signatures">
<a href="https://gitlab.com/gitlab-org/gitlab/-/issues/423083">HTTP signatures</a><a href="#http-signatures" title="Permalink"></a>
</h4>
<p>Mastodon
<a href="https://docs.joinmastodon.org/spec/security/#http">requires HTTP signatures</a>,
which is yet an other standard, in order to make sure no spammer tries to
impersonate a given server.
</p><p>This is asymmetrical cryptography, with a private key and a public key,
like SSH or PGP. We will need to implement both signing requests, and
verifying them. This will be of considerable help when we’ll want to have
various GitLab instances communicate later in the epic.
</p><h3 id="host-allowlist-and-denylist">Host allowlist and denylist<a href="#host-allowlist-and-denylist" title="Permalink"></a>
</h3>
<p>To give GitLab instance owners control over potential spam, we need to
allow to maintain two mutually exclusive lists of hosts:
</p><ul>
<li>the allowlist : only hosts mentioned in this list can be federated with.
</li><li>the denylist : all hosts can be federated with but the ones mentioned in
that list.
</li></ul>
<p>A setting should allow the owner to switch between the allowlist and the denylist.
In the beginning, this can be managed in rails console, but it will
ultimately need a section in the admin interface.
</p><h3 id="limits-and-rollout">Limits and rollout<a href="#limits-and-rollout" title="Permalink"></a>
</h3>
<p>In order to control the load when releasing the feature in the first
months, we’re going to set <code>gitlab.com</code> to use the allowlist and rollout
federation to a few Fediverse servers at a time, so that we can see how it
takes the load progressively, before ultimately switching to denylist
(note: there are
<a href="https://gitlab.com/gitlab-org/gitlab/-/issues/426373#note_1584232842">some ongoing discussions</a>
regarding if federation should be activated on <code>gitlab.com</code> or not).
</p><p>We also need to implement limits to make sure the federation is not abused:
</p><ul>
<li>limit to the number of subscriptions a resource can receive.
</li><li>limit to the number of subscriptions a third party server can generate.
</li></ul>
<h3 id="the-cross-instance-issues-and-merge-requests-part">The cross-instance issues and merge requests part<a href="#the-cross-instance-issues-and-merge-requests-part" title="Permalink"></a>
</h3>
<p>We’ll wait to be done with the social following part before designing this
part, to have ground experience with ActivityPub.
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Microsoft Edge ignores user wishes, slurps tabs from Chrome without permission (312 pts)]]></title>
            <link>https://www.theregister.com/2024/01/30/microsoft_edge_tabs/</link>
            <guid>39201317</guid>
            <pubDate>Wed, 31 Jan 2024 08:12:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theregister.com/2024/01/30/microsoft_edge_tabs/">https://www.theregister.com/2024/01/30/microsoft_edge_tabs/</a>, See on <a href="https://news.ycombinator.com/item?id=39201317">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="body">
<p><span>Updated</span> Windows users, take notice: Microsoft's Edge browser is said to be actively importing open Chrome tabs and slurping other data from Google's browser without permission and even if the "feature" that makes that happen is disabled.&nbsp;</p>
<p>Buried within Edge's browser settings on Windows PCs is code that goes well beyond a one-time import of favorites and stored passwords, and has been present in some form as far back as <a href="https://www.windowslatest.com/2022/05/30/microsoft-edge-new-feature-will-constantly-pull-data-from-chrome/" rel="nofollow">mid-2022</a> at least. It gives gives Edge the ability to import <a href="https://support.microsoft.com/en-us/microsoft-edge/what-s-imported-to-microsoft-edge-ab7d9fa1-4586-23ce-8116-e46f44987ac2#:~:text=What%27s%20imported%20from%20Google%20Chrome%3F" rel="nofollow">practically</a> all browser data from Chrome each time Redmond's browser is launched.&nbsp;</p>
<p>Ostensibly a way for Microsoft to simplify the process of getting Windows users to switch to Edge, the feature has a <a href="https://www.theregister.com/2015/09/28/windows_10_data_collection/">classic</a> Microsoft problem: it's right now doing so without full permission, according to users. As the Windows maker is wont to do, it'll also <a href="https://support.microsoft.com/en-us/microsoft-edge/change-and-customize-sync-settings-in-microsoft-edge-be529080-f2e9-b642-538f-976956b8da6b" rel="nofollow">sync</a> that data to the cloud too, provided users are signed into a Microsoft account - not great if you had intended to keep your Chrome and Edge environments separated.&nbsp;</p>

    

<p><a href="https://www.theregister.com/2023/11/15/google_amazon_microsoft_mozilla/">More data</a> for Redmond; even less privacy for users, as we've covered in the past.&nbsp;</p>

        


        

<p>Windows users – even those who don't make a habit of using Edge – have been reporting problems and unexpected surprises with the import feature since last year. Other outlets have <a href="https://www.ghacks.net/2023/10/13/how-to-stop-microsoft-edge-from-importing-google-chrome-browsing-data-at-launch/" rel="nofollow">covered</a> the feature's greedy nature and suggested steps to stop it dead (for example by opening up <code>edge://settings/profiles/importBrowsingData</code> and making sure it's off), but reader responses to those stories suggest settings don't matter, and the import happens regardless.</p>
<p>The issue was most recently flagged up again this week by The Verge's Tom Warren, who <a href="https://www.theverge.com/24054329/microsoft-edge-automatic-chrome-import-data-feature" rel="nofollow">said</a> he noticed Edge opening on a system reboot in the same state that Chrome was in before the restart. Warren claimed he neither imported Chrome data to Edge nor gave it permission to import open browser tabs from Chrome, yet there it was. Warren said he never toggled the setting on, and that it was off when he checked.</p>

        

<p>Taking a quick spin around the internet, it's clear that this is happening to plenty of people – data being pulled into Edge by default, without permission – though it doesn't appear universal.</p>
<ul>

<li><a href="https://www.theregister.com/2024/01/24/microsoft_edge_bing_dma/">Microsoft's plucky challengers, Bing and Edge, might gain DMA exemptions</a></li>

<li><a href="https://www.theregister.com/2024/01/18/bing_ai_search/">Did all that AI chatbot hype boost Bing's market share? Oh, wait, never mind</a></li>

<li><a href="https://www.theregister.com/2024/01/29/microsoft_confirms_windows_server_2025/">Microsoft confirms Windows Server 2025 is on the way</a></li>

<li><a href="https://www.theregister.com/2023/11/18/google_kills_legacy_extensions/">What's really going on with Chrome's June crackdown on extensions – and why your ad blocker may or may not work</a></li>
</ul>
<p><a href="https://answers.microsoft.com/en-us/microsoftedge/forum/all/how-to-make-edge-stop-importing-from-chrome/4bcb43bb-b54a-4413-b24c-ea43b49cea54" rel="nofollow">Multiple</a> Microsoft <a href="https://answers.microsoft.com/en-us/microsoftedge/forum/all/why-edge-keep-syncing-all-data-from-chrome-even/1efde161-5c8b-411b-a59a-1bfa2b8cedcc" rel="nofollow">support</a> <a href="https://answers.microsoft.com/en-us/microsoftedge/forum/all/how-do-i-stop-edge-from-importing-bookmarks-and/22d7af7f-d111-481d-9ef3-13a703e61c18" rel="nofollow">threads</a> from the past few months allege the same issue – that Edge is importing data from Chrome unexpectedly, even when the setting is toggled off. Several posts on Reddit <a href="https://www.reddit.com/r/MicrosoftEdge/comments/17xglpc/edge_keeps_importing_chrome_bookmarks_on_startup/" rel="nofollow">allege</a> the same.</p>
<p>Responses from Microsoft staff and independent advisers suggest checking <code>ImportBrowsingData</code> settings as well as manually disabling auto import by manually adding a registry key to Group Policy settings, but responses are universal: Nothing seems to turn it off.&nbsp;</p>
<p>Reports that Edge is opening on startup populated with Chrome tabs that were open before reboot appear to have flared up following a Windows 11 update, <a href="https://support.microsoft.com/en-au/topic/january-23-2024-kb5034204-os-builds-22621-3085-and-22631-3085-preview-7652acf2-56dc-430e-b8ef-ec8f56ec1028" rel="nofollow">KB5034204</a>, released on January 23. This update seems to be heavily forcing the feature on users in one way or another.</p>
<p><a href="https://www.reddit.com/r/Windows11/comments/19e118i/january_23_2024kb5034204_os_builds_226213085_and/" rel="nofollow">Other folks</a> have reported similar issues with Edge asserting itself dressed in Chrome's data since installing the update, though security researcher Zach Edwards <a href="https://twitter.com/thezedwards/status/1750952950598672455" rel="nofollow">noted</a> on X/Twitter that Microsoft may have an excuse this time. Screens in the update installation steps mention Edge will "regularly bring in data from other browsers available on your Windows device."&nbsp;</p>

        

<p>It's all out in the open – somewhat – since Microsoft stuck a brief mention of it in splash screens with the installation of the infamous KB5034204 update.</p>
<p>Beyond the issues with Edge, KB5034204 appears to have a number of issues affecting lots of Windows 11 users, as evidenced by a <a target="_blank" rel="nofollow" href="https://www.reddit.com/r/WindowsHelp/comments/1abedvs/update_kb5034204_fails_to_install/">Reddit thread</a> posted a few days after its rollout. Users have reported failed installations and boot issues, while other sites have <a target="_blank" rel="nofollow" href="https://windowsreport.com/windows-11-kb5034204-issues/">reported</a> broken apps, file explorer and taskbar <a target="_blank" rel="nofollow" href="https://www.windowslatest.com/2024/01/28/windows-11-kb5034204-is-crashing-file-explorer-taskbar-and-wont-install-for-some/">trouble</a> and other issues. We've reached out to Microsoft again to inquire about broader problems with KB5034204, but haven't heard back about that, either.</p>
<p>Regardless of whether Microsoft asked permission for Edge to ingest data from other browsers in that update, the issue isn't new - it's well documented in forum posts and help requests. We've asked Microsoft for an explanation, and while we're told they're looking into it, we have yet to receive an actual response.</p>
<p>In the meantime, best to hold off installing the latest round of Windows 11 updates until Microsoft patches the patch. Or explains itself. Ah, who are we kidding. We've asked for comment. ®</p>
<h3>Updated to add</h3>
<p>Microsoft has so far declined to comment. A person familiar with the kerfuffle who has visibility into the Windows giant, though who did not want to be identified, told us it appears that "if a user chose continuous import in the Edge first run experience on some other device, this state may be syncing incorrectly across their devices. This is not the intended feature experience." We're assured that Microsoft is addressing it for the next Edge Stable release.</p>                                
                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Microsoft Edge now steals your data from Google Chrome after an update (145 pts)]]></title>
            <link>https://9to5google.com/2024/01/30/microsoft-edge-chrome-data-update-windows/</link>
            <guid>39201224</guid>
            <pubDate>Wed, 31 Jan 2024 07:54:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://9to5google.com/2024/01/30/microsoft-edge-chrome-data-update-windows/">https://9to5google.com/2024/01/30/microsoft-edge-chrome-data-update-windows/</a>, See on <a href="https://news.ycombinator.com/item?id=39201224">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
					
<figure>
			<img src="https://9to5google.com/wp-content/uploads/sites/4/2020/02/google_chrome_microsoft_edge_1.jpg?quality=82&amp;strip=all&amp;w=1600" srcset="https://i0.wp.com/9to5google.com/wp-content/uploads/sites/4/2020/02/google_chrome_microsoft_edge_1.jpg?w=320&amp;quality=82&amp;strip=all&amp;ssl=1 320w, https://i0.wp.com/9to5google.com/wp-content/uploads/sites/4/2020/02/google_chrome_microsoft_edge_1.jpg?w=640&amp;quality=82&amp;strip=all&amp;ssl=1 640w, https://i0.wp.com/9to5google.com/wp-content/uploads/sites/4/2020/02/google_chrome_microsoft_edge_1.jpg?w=1024&amp;quality=82&amp;strip=all&amp;ssl=1 1024w, https://i0.wp.com/9to5google.com/wp-content/uploads/sites/4/2020/02/google_chrome_microsoft_edge_1.jpg?w=1500&amp;quality=82&amp;strip=all&amp;ssl=1 1500w" width="1600" height="800" alt="google chrome microsoft edge" fetchpriority="high">
	
	</figure>

<p>Microsoft just can’t stop trying to get you to switch to Edge, with the browser more aggressively stealing your open tabs from Google Chrome.</p>



<p>Since its launch in 2020, the new Microsoft Edge has proved to be a solid browser, but Microsoft has never stopped being <em>very</em> aggressive about trying to get you to use Edge over other browsers, especially Chrome. Microsoft and Google have gone back and forth for years on this issue, with Microsoft even burying the settings for your <a href="https://9to5google.com/2022/08/15/google-chrome-windows-default-browser/">default browser on Windows 11 for a while</a>.</p>



<p>As is now getting some attention this week, another tactic Microsoft is employing is to have Edge copy all of your active tabs from Google Chrome so, if you end up in Edge, you get to pick up where you left off.</p>



<p><a href="https://www.theverge.com/24054329/microsoft-edge-automatic-chrome-import-data-feature"><em>The Verge</em> noted</a> this week that, when updating a Windows PC, Microsoft Edge automatically opened up after the reboot and came up with all of the tabs that were being used in Google Chrome on the same machine. That’s despite Edge not being used on that machine, and Edge never having asked to sync data from Chrome. On another machine following an update (and a system restore), the same thing happened. </p>



<p>As it turns out, Microsoft seems to be, in these latest Windows updates, more aggressively using an existing setting that imports data from Chrome to Edge every time you launch the browser. </p>



<p>We first reported <a href="https://9to5google.com/2022/05/30/microsoft-edge-google-chrome-data/">on this setting when it launched back in 2022</a>, with Microsoft Edge allowing users to “import browser data on each launch.” The option can be turned off through Edge’s settings (edge://settings/profiles/importBrowsingData), but what seems to be changing right now is that Microsoft is pushing this setting on users after Windows updates. </p>



<p>Zach Edwards <a href="https://twitter.com/thezedwards/status/1750952950598672455">on Twitter/X found that</a>, during post-update setup, Windows has added a new option that’s turned on by default which is described saying:</p>



<blockquote>
<p>With your confirmation, Microsoft Edge will regularly bring in data from other browsers available on your Windows device. This data includes your favorites, browsing history, cookies, autofill data, extensions, settings, and other browsing data. </p>
</blockquote>



<p>Microsoft then briefly directs users on how to disable this, and on a separate screen, pushes users to accept that behavior while also offering a “Not Now” option. </p>



<p>Beyond that, some have noticed that even with this import setting disabled, Edge still imports Chrome data every time it starts. Microsoft hasn’t commented on this behavior, but it’s been noted by quite a few users across <a href="https://twitter.com/SrishtiSisodia/status/1752396469477458362">Twitter/X</a>, <a href="https://www.reddit.com/r/microsoft/comments/17c7w4i/edge_is_secretly_importing_my_data_from_google/">Reddit</a>, and <a href="https://answers.microsoft.com/en-us/microsoftedge/forum/all/how-to-make-edge-stop-importing-from-chrome/4bcb43bb-b54a-4413-b24c-ea43b49cea54">Microsoft’s forums</a> over the past several months. </p>



<figure><div>
<blockquote data-width="500" data-dnt="true"><p lang="en" dir="ltr">this post bothered me for days so I reinstalled Windows ++ confirmed that there's an obscure setting to sync Chrome data into Edge (+ it's shared to MSFT if you're signed-in &amp; sync your browsing data) — to turn it off, open Edge then: edge://settings/profiles/importBrowsingData <a href="https://t.co/SiBmDsD8oT">pic.twitter.com/SiBmDsD8oT</a></p>— Zach Edwards 🔗infosec.exchange/@thezedwards (@thezedwards) <a href="https://twitter.com/thezedwards/status/1750952950598672455?ref_src=twsrc%5Etfw">January 26, 2024</a></blockquote>
</div></figure>



<h2 id="h-more-on-browsers">More on Browsers:</h2>



<ul>
<li><a href="https://9to5google.com/2024/01/03/microsoft-edge-ai-browser/">Microsoft Edge is now an ‘AI Browser’ (and has been for a while)</a></li>



<li><a href="https://9to5google.com/2024/01/29/google-chrome-android-web-app-homescreen/">Google Chrome prepares better way to add websites to your homescreen</a></li>



<li><a href="https://9to5google.com/2024/01/26/google-chrome-windows-arm-canary/">Chrome launches Windows on Arm support ahead of Snapdragon X Elite laptops</a></li>
</ul>



<p><em><strong>Follow Ben:</strong>&nbsp;<a href="https://twitter.com/NexusBen" target="_blank" rel="noreferrer noopener">Twitter/X</a>,&nbsp;<a href="https://www.threads.net/@nexusben" target="_blank" rel="noreferrer noopener">Threads</a>, and&nbsp;<a href="https://www.instagram.com/nexusben" target="_blank" rel="noreferrer noopener">Instagram</a></em></p>
	<p>
		<a target="_blank" rel="nofollow" href="https://news.google.com/publications/CAAqBwgKMMqA-Qow-c_gAg?hl=en-US&amp;gl=US&amp;ceid=US:en">
			<em>Add 9to5Google to your Google News feed.</em>&nbsp;
					</a>
	</p>
	<p><em>FTC: We use income earning auto affiliate links.</em> <a href="https://9to5mac.com/about/#affiliate">More.</a></p>				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: ChatGPT prompt builder – the simplest prompt builder (205 pts)]]></title>
            <link>https://mitenmit.github.io/gpt/</link>
            <guid>39201182</guid>
            <pubDate>Wed, 31 Jan 2024 07:47:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mitenmit.github.io/gpt/">https://mitenmit.github.io/gpt/</a>, See on <a href="https://news.ycombinator.com/item?id=39201182">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[XFaaS: Hyperscale and Low Cost Serverless Functions at Meta (167 pts)]]></title>
            <link>https://www.micahlerner.com/2024/01/23/xfaas-hyperscale-and-low-cost-serverless-functions-at-meta.html</link>
            <guid>39200239</guid>
            <pubDate>Wed, 31 Jan 2024 05:15:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.micahlerner.com/2024/01/23/xfaas-hyperscale-and-low-cost-serverless-functions-at-meta.html">https://www.micahlerner.com/2024/01/23/xfaas-hyperscale-and-low-cost-serverless-functions-at-meta.html</a>, See on <a href="https://news.ycombinator.com/item?id=39200239">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="post-content">
<p><em>This is one of several papers I’ll be reading from 2023’s Symposium on Operating Systems Principles (SOSP). If you’d like to receive regular updates as soon as they’re published, check out my <a href="https://newsletter.micahlerner.com/">newsletter</a> or follow me on the site formerly known as <a href="https://twitter.com/micahlerner">Twitter</a>. Enjoy!</em></p>
<p><a href="https://www.micahlerner.com/assets/papers/xfaas.pdf">“XFaaS: Hyperscale and Low Cost Serverless Functions at Meta”</a></p>
<h2 id="background">Background</h2>
<p>Function-as-a-Service systems (a.k.a. FaaS) allow engineers to run code without setting aside servers to a specific function. Instead, users of FaaS systems run their code on generalized infrastructure (like <a href="https://aws.amazon.com/lambda/">AWS Lambda</a>, <a href="https://azure.microsoft.com/en-us/products/functions">Azure Functions</a>, and <a href="https://cloud.google.com/functions">GCP’s Cloud Functions</a>), and only pay for the time that they use.</p>
<h2 id="key-takeaways">Key Takeaways</h2>
<p>This paper describes Meta’s internal system for serverless, called XFaaS, which runs “trillions of function calls per day on more than 100,000 servers”.</p>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure3.png"><figcaption></figcaption></figure>
<p>Besides characterization of this unique at-scale serverless system, the paper dives deeper on several challenges that they authors addressed before reaching the current state of the infrastructure:</p>
<ul>
<li>Handling load spikes from Meta-internal systems scheduling large numbers of function executions.</li>
<li>Ensuring fast function startup and execution, which can impact the developer experience and decrease resource utilization.</li>
<li>Global load balancing across Meta’s distributed private cloud, avoiding datacenter overload.</li>
<li>Ensuring high-utilization of resources to limit cost increases from running the system.</li>
<li>Preventing overload of downstream services, as functions often access or update data via RPC requests when performing computation.</li>
</ul>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure4.png"><figcaption></figcaption></figure>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure5.png"><figcaption></figcaption></figure>
<h2 id="how-does-the-system-work">How does the system work?</h2>
<h3 id="architecture">Architecture</h3>
<p>The multi-region infrastructure of XFaaS contains five main components: <em>Submitter</em>, <em>load balancers</em>, <em>DurableQ</em>, <em>Scheduler</em>, and <em>Worker Pool</em>.</p>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure5.png"><figcaption></figcaption></figure>
<p>Clients of the system schedule function execution by communicating with the <em>Submitter</em>. Functions can take one of three types:</p>
<blockquote>
<p>(1) queue-triggered functions, which are submitted via a queue service; (2) event-triggered functions, which are activated by data-change events in our data warehouse and data-stream systems; and (3) timer-triggered functions, which automatically fire based on a pre-set timing.</p>
</blockquote>
<figure><img src="https://www.micahlerner.com/assets/xfaas/table1.png"><figcaption></figcaption></figure>
<p>The <em>submitter</em> is an interesting design choice because it serves as an entry point to downstream parts of the system. Before the pattern was introduced, clients interfaced with downstream components of the system directly, allowing badly behaved services to overload XFaaS - now, clients receive default quota, and the system throttles those that exceed this quota (although there is a process for negotiating higher quota as needed).</p>
<p>The next stage in the request flow is forwarding the initial function execution request to a load balancer (<em>Queue Load Balancers (QueueLB)</em>) sitting in front of durable storage (called <em>DurableQ</em>) that contains metadata about the function. The QueueLB is one usage of XFaaS’ usage of load balancers, and ensures effective utilization of distributed system resources while preventing overload.</p>
<p>Once the information about a function is stored in a <em>DurableQ</em>, a <em>scheduler</em> will eventually attempt to run it - given that there are many clients of XFaaS, the scheduler, “determine(s) the order of function calls based on their criticality, execution deadline, and capacity quota”. This ordering is represented with in-memory datastructures called the <em>FuncBuffer</em> and the <em>RunQ</em> - “the inputs to the scheduler are multiple FuncBuffers (function buffers), one for each function, and the output is a single ordered RunQ (run queue) of function calls that will be dispatched for execution.”</p>
<p>To assist with load-balancing computation, a scheduler can also choose to run functions from a different region if there aren’t enough functions to run in the local-region - this decision is based on a “traffic matrix” that XFaaS computes to represent how much load a region should externally source (e.g. Region A should source functions from Regions B, C, and D because they’re under relatively higher load).</p>
<p>Once the scheduler determines that there is sufficient capacity to run more functions, it assigns the execution to a <em>WorkerPool</em> using a load-balancer approach similar to the <em>QueueLB</em> mentioned earlier.</p>
<p>Given the large numbers of different functions in the system, one challenge with reaching high worker utilization is reducing the memory and CPU resources that workers spend on loading function data and code. XFaaS addresses this constraint by implementing <em>Locality Groups</em> that limit a function’s execution to a subset of the larger pool.</p>
<h3 id="performance-optimizations">Performance Optimizations</h3>
<p>The paper mentions two other optimizations to increase worker utilization: <em>time-shifted computing</em> and <em>cooperative JIT compilation</em>.</p>
<p><em>Time-shifted computing</em> introduces flexibility to when a function executes - for example, rather than specififying “this function must execute immediately”, XFaaS can delay the computation to a time when other functions aren’t executing, smoothing resource utilization. Importantly, users of the system are incentivized to take advantage of this flexibility as functions have two different quotas, <em>reserved</em> and <em>opportunistic</em> (mapping to more or less rigid timing where <em>opportunistic</em> quota is internally treated as “cheaper”).</p>
<p>Additionally, the code in Meta’s infrastructure takes advantage of <a href="https://blog.acolyer.org/2018/08/08/hhvm-jit-a-profile-guided-region-based-compiler-for-php-and-hack/">profiling-guided optimization</a>, a technique that can dramatically improve performance. XFaaS ensures that these performance optimizations computed on one worker benefit other workers in the fleet by shipping the optimized code across the network.</p>
<h3 id="preventing-overload">Preventing Overload</h3>
<p>It is critical that accessing downstream services don’t cause or worsen overload - an idea very similar to what was discussed in a previous paper review on <a href="https://www.micahlerner.com/2022/07/11/metastable-failures-in-the-wild.html">Metastable Failures in the Wild</a>. XFaaS implements this by borrowing the idea of <a href="https://medium.com/@jayphelps/backpressure-explained-the-flow-of-data-through-software-2350b3e77ce7"><em>backpressure</em></a> from TCP (specifically <a href="https://en.wikipedia.org/wiki/Additive_increase/multiplicative_decrease">Additive increase/multiplicative decrease</a>) and other distributed systems.</p>
<h2 id="how-is-the-research-evaluated">How is the research evaluated?</h2>
<p>The paper evaluates the system’s ability to achieve high utilization, efficiently execute functions while taking advantage of performance improvements, and prevent overload of downstream services.</p>
<p>To evaluate XFaaS’s ability to maintain high utilization and smooth load, the authors compare the rate of incoming requests to the load of the system - “the peak-to-trough ratio of CPU utilization is only 1.4x, which is a significant improvement over the peak-to-trough ratio of 4.3x depicted…for the <em>Received</em> curve.”</p>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure7.png"><figcaption></figcaption></figure>
<p>One reason for consistently high load is the incentive to allow flexibility in the execution of their functions, highlighted by usage of the two quota-types described by the paper.</p>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure11.png"><figcaption></figcaption></figure>
<p>To determine the effectiveness of assigning a subset of functions to a worker using <em>Locality Groups</em>, the authors share time series data on the number of functions executed by workers and memory utiliation across the fleet, finding that both stay relatively constant.</p>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure9.png"><figcaption></figcaption></figure>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure10.png"><figcaption></figcaption></figure>
<p>Furthermore, XFaaS’ performance optimizations allow it to maintain a relatively high throughput, visible from contrasting requests per-second with and without profile-guided optimizations in place.</p>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure12.png"><figcaption></figcaption></figure>
<p>Lastly, the paper presents how XFaaS execution behaves in response to issues with downstream systems (specifically, not exacerabating outages). For example, when there were outage in Meta’s graph database (TAO, the subject of a previous paper review), or infrastructure related to it, XFaaS reduced the execution of functions accessing these services.</p>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure13.png"><figcaption></figcaption></figure>
<figure><img src="https://www.micahlerner.com/assets/xfaas/figure14.png"><figcaption></figcaption></figure>
<h2 id="conclusion">Conclusion</h2>
<p>The XFaaS paper is unique in characterizing a serverless system running at immmense scale. While previous research has touched on this topic, none have provided specific numbers of utilization, likely omitted due to privacy or business concerns (although <a href="https://www.usenix.org/conference/atc20/presentation/shahrad">Serverless in the Wild</a> comes close).</p>
<p>At the same time, the data on XFaaS comes with caveats, as the system is able to make design choices under a different set of constraints than serverless platforms from public cloud providers. For example, public clouds must guarantee isolation between customers and prioritize security considerations. While XFaaS doesn’t wholly neglect these concerns (e.g. some jobs must run on separate machines and there are some levels of isolation between jobs with these considerations), it otherwise relaxes this constraint. Furthermore, XFaaS explicitly does not handle functions and the path of a user-interaction (even though the paper discusses executing latency-sensitive functions) - this is in contrast with services like Lambda which use Serverless functions to respond to HTTP requests.</p>
<p>While XFaaS is a fascinating system, the paper left me with several questions including whether many of the functions the system executes would actually be better served with a batch job. Furthermore, the authors allude to XFaaS utilization being significantly higher based on “anecdotal knowledge” - while this might be true, it would be useful to know the source of this data to judge whether any differences are in fact meaningful.</p>

</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Satellites Are Becoming the New Cellphone Towers (115 pts)]]></title>
            <link>https://spectrum.ieee.org/satellite-cellphone-starlink</link>
            <guid>39200189</guid>
            <pubDate>Wed, 31 Jan 2024 05:06:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://spectrum.ieee.org/satellite-cellphone-starlink">https://spectrum.ieee.org/satellite-cellphone-starlink</a>, See on <a href="https://news.ycombinator.com/item?id=39200189">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-headline="Satellites Are Becoming the New Cellphone Towers" data-elid="2667089657" data-post-url="https://spectrum.ieee.org/satellite-cellphone-starlink" data-authors="Lucas Laursen" data-page-title="Satellites Are Becoming the New Cellphone Towers - IEEE Spectrum"><p>Starlink sent and received texts over a 4G/LTE connection between mobile phones via its latest generation of satellites, called v2mini, for the <a href="https://api.starlink.com/public-files/DIRECT_TO_CELL_FIRST_TEXT_UPDATE.pdf" target="_blank">first time this month</a>, following similar projects from <a href="https://spectrum.ieee.org/tag/amazon">Amazon</a>, Apple, AST SpaceMobile, Huawei, and Lynk Global. Starlink—the satellite constellation operated by SpaceX—will offer text messaging to subscribers of at least eight different mobile-network operators around the world and may offer voice and data coverage without the need for the ground terminals its customers now use in “coming years,” Starlink’s U.S. partner T-Mobile said in a <a href="https://www.t-mobile.com/news/un-carrier/first-spacex-satellites-launch-for-breakthrough-direct-to-cell-service-with-t-mobile" target="_blank">statement</a>.</p><p>The Starlink achievement is the latest example of how satellites and cellular base stations are converging. A handful of companies are exploiting cheaper satellite fabrication and launch costs, as well as adapting existing technologies such as <a href="https://spectrum.ieee.org/5g-bytes-beamforming-explained" target="_blank">beamforming</a>, to bridge the several hundred kilometers between mobile phones and orbiting satellites. Among the many new wrinkles those companies have to iron out is the fact that for the first time, the towers themselves are the mobile component of the network: Low Earth orbit (LEO) satellites move at tens of thousands of kilometers an hour, so they have little time to communicate with any one mobile phone on the Earth’s surface.</p><p>The companies competing to solve these problems have so far sent and received text messages on conventional phones via a commercial satellite (Huawei/China Telecom; Lynk Global; Apple/Globalstar) and performed voice and data calls over <a href="https://spectrum.ieee.org/tag/5g">5G</a> via an experimental satellite (AST SpaceMobile) as <em><a href="https://spectrum.ieee.org/">IEEE Spectrum</a></em><a href="https://spectrum.ieee.org/5g-satellite-2665870437" target="_self">has reported.</a> Investors have taken notice: Lynk Global is <a href="https://lynk.world/news/lynk-signs-letter-of-intent-to-become-publicly-listed-leading-satellite-to-phone-company-through-a-business-combination-with-slam-corp/" rel="noopener noreferrer" target="_blank">going public</a> in a deal that values the company at up to US $800 million while AT&amp;T, <a href="https://spectrum.ieee.org/tag/google">Google</a>, and Vodafone recently invested in AST SpaceMobile, which has a <a href="https://www.google.com/finance/quote/ASTS:NASDAQ" target="_blank">market capitalization of $674.6 million</a>.</p><p>“I recall many discussions 10 years ago where the mobile operators told the satellite people, ‘Your price points are way too high.’ This has totally changed due to more availability of the technology, more agile development, and a different approach to failure.” <strong>—Andreas Knopp, University of the Bundeswehr </strong></p><p>Until very recently, satellites could not connect to mobile phones hundreds of kilometers below. The sort of satellite phones people took on expeditions to more remote places have chunky antennas, require clear lines of sight to multiple satellites, and take a while to acquire a signal. Integrating terrestrial and satellite cellular networks isn’t as easy as moving between cell towers and handing off the signal from one to the next.</p><p>Indeed, the task is so difficult that one research group <a href="https://ieeexplore.ieee.org/document/10199206" rel="noopener noreferrer" target="_blank">built an experimental application</a> to help an Internet-connected livestock truck equipped with its own computer switch to an onboard Starlink ground station when the truck loses the cellular network signal. Achieving a seamless integration of terrestrial and nonterrestrial networks is the ultimate goal, says study coauthor <a href="https://vbn.aau.dk/en/persons/melisa-maria-lopez-lechuga" rel="noopener noreferrer" target="_blank">Melisa López</a>, a wireless communications researcher at the University of Aalborg in Denmark.</p><p>Starlink doesn’t explain many details of its 4G connection, but existing commercial constellations reveal several of the building blocks of seamless satellite cellular connections, and researchers have published at least one promising lead for future constellations.</p><h2>Three Keys to Connecting Phones to Satellites</h2><p>Instead of redesigning mobile phones to be more like satellite phones, companies are redesigning the satellite network to meet mobile phones more than halfway. They are making the antennas on the satellites much bigger in their scramble to turn satellites into cellphone towers. For example, <a href="https://spectrum.ieee.org/satellite-cellphone" target="_blank">AST SpaceMobile’s first satellites</a> had antennas with surface areas of 64 square meters, followed by second generation satellites with 128 m<sup>2</sup> antennas, with plans for going up to 400 m<sup>2</sup>. Starlink’s new v2mini satellite antennas are 6.21 m<sup>2</sup>, but Starlink plans even larger cellular-compatible satellites that it will launch when its larger Starship rocket is available.</p><p>Companies are also making their satellites more like cellphone towers by flying them lower than before. For the first few decades of the space age, communications satellites were inserted into geosynchronous orbits much higher above the Earth, where they could cover a large portion of the planet’s surface for a relatively long period of time. However, those satellites handled far fewer devices than exist today.</p><p>The advent of smaller and cheaper satellites and cheaper launch costs in the last decade or so have enabled business models that rely on many cheaper satellites flown in low Earth orbit. These new satellites won’t last as long but will be better able to detect the weak signals from mobile phones on the surface and handle their growing traffic.</p><p><img alt="black and white illustration of satellites, dots and phone" data-rm-shortcode-id="fb022def9f521b707a194b64a1fe887e" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/black-and-white-illustration-of-satellites-dots-and-phone.png?id=51212509&amp;width=980" height="1024" id="0bca6" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/black-and-white-illustration-of-satellites-dots-and-phone.png?id=51212509&amp;width=980" width="2048"><small placeholder="Add Photo Caption...">SpaceX’s Starlink network can connect directly to an off-the-shelf cellphone, potentially eliminating the need for bulky satellite phones.</small><small placeholder="Add Photo Credit...">Starlink</small></p><p>“I recall many discussions 10 years ago where the mobile operators told the satellite people, ‘Your price points are way too high.’ This has totally changed due to more availability of the technology, more agile development, and a different approach to failure,” says <a href="https://www.unibw.de/satcom/chair/team/andreas-knopp" rel="noopener noreferrer" target="_blank">Andreas Knopp</a>, a signal processing engineer at the University of the Bundeswehr in Munich.</p><p>Another contributor is improved beamforming, which is how a transmitting device calculates the best way to direct its signal to reach a particular recipient, without interfering with other recipients. That may involve bouncing a signal off a building or mountainside, from terrestrial towers, or it may involve precise targeting of a narrow, fast-moving signal, from a satellite moving tens of thousands of kilometers per hour.</p><p>More sophisticated beamforming can involve sending the same signals from multiple antennas so that the signal’s reinforce each other, a bit like when sound waves harmonize. Anyone who has tuned a home speaker system to provide the best sound at the point of a particular couch has done beamforming, probably with the help of sophisticated software in the background.</p><p>In the future, it may be worth spreading the task of beamforming across even more satellites than now, write the authors of <a href="https://ieeexplore.ieee.org/abstract/document/10355084" target="_blank">a pair</a> of <a href="https://ieeexplore.ieee.org/document/10286242" target="_blank">recent papers</a>. A scenario floated in one of the studies is the use of more than two dozen tiny satellites flying in close formation to replicate the work done today by one cellular-compatible satellite. “Each of these satellites is now independent, with its own components. The main aspect is this synchronization algorithm, which has to align frequency, phase, and the time for the signals to arrive coherently,” says <a href="https://www.unibw.de/satcom/chair/team/diego-tuzi" rel="noopener noreferrer" target="_blank">Diego Tuzi</a>, a graduate student studying signal processing at the University of the Bundeswehr who, together with Knopp, is a coauthor on one of those recent papers.</p><p>For now, what Starlink and its competitors are offering is very little, though it is a necessary step. “It’s better than nothing,” says <a href="https://www.unibw.de/space-en/members/dr-thomas-delamotte" target="_blank">Thomas Delamotte</a>, another coauthor on the recent paper and a signal processing engineer at the University of the Bundeswehr, “but if you want to have a long-term perspective we will need new approaches to make <a href="https://spectrum.ieee.org/tag/6g">6G</a> ubiquitous.”<br></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Epitaph – Fermi Paradox Simulator (185 pts)]]></title>
            <link>https://mkremins.github.io/epitaph/</link>
            <guid>39200182</guid>
            <pubDate>Wed, 31 Jan 2024 05:05:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mkremins.github.io/epitaph/">https://mkremins.github.io/epitaph/</a>, See on <a href="https://news.ycombinator.com/item?id=39200182">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Getting fitter can reduce prostate cancer risk by 35%, study finds (114 pts)]]></title>
            <link>https://www.theguardian.com/society/2024/jan/30/getting-fitter-can-reduce-prostate-cancer-risk-by-35-study-finds</link>
            <guid>39200173</guid>
            <pubDate>Wed, 31 Jan 2024 05:03:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theguardian.com/society/2024/jan/30/getting-fitter-can-reduce-prostate-cancer-risk-by-35-study-finds">https://www.theguardian.com/society/2024/jan/30/getting-fitter-can-reduce-prostate-cancer-risk-by-35-study-finds</a>, See on <a href="https://news.ycombinator.com/item?id=39200173">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent"><p>Men can reduce their risk of prostate cancer by as much as 35% by doing a little more jogging, cycling or swimming, a study suggests.</p><p>Boosting cardiorespiratory fitness by only 3% over the course of a year was linked to a much lower chance of developing the disease. The findings prompted the researchers to encourage men to boost their fitness levels to help cut their prostate cancer risk.</p><p>“The more intensive activity, the lower the requirement for duration and frequency,” said the study’s co-author Dr Kate Bolam, of the Swedish School of Sport and <a href="https://www.theguardian.com/society/health" data-link-name="in body link" data-component="auto-linked-tag">Health</a> Sciences in Stockholm. “Also, getting more muscles involved will have greater aerobic challenge on the cardiovascular system.</p><p>“Hence, activities that involve the lower body … brisk walking or jogging, hiking, activities that you are barely not able to keep up a conversation while doing … or that preferably also include both arms and legs are recommended for more significant effect.</p><p>“The trick is to challenge your cardiovascular system on a regular basis so it improves to match the requirements placed on it. It could even be line dancing if that gets your heart rate up and you have fun.”</p><p>The study did not set out how someone might accomplish a 3% increase in cardiorespiratory fitness. But Bolam said her advice would be “to think about activities that you think are enjoyable that raise your heart rate that you could add to your weekly routine”.</p><p>The Swedish study analysed data on the physical activity levels, height and body mass index (BMI) of 57,652 men, along with information on lifestyle and perceived health, and the results of at least two cardiorespiratory fitness tests.</p><p>Annual cardiorespiratory fitness measurements were expressed by the amount of oxygen the body uses while exercising as hard as possible. The men were divided into groups depending on this increasing by 3%, remaining stable, or falling by 3% each year.</p><p>During an average follow-up period of seven years, researchers found 592 men were diagnosed with prostate cancer. Those whose fitness had improved by 3% annually were 35% less likely to develop cancer compared with those whose fitness had declined.</p><p>The findings were published in the British Journal of Sports Medicine.</p><p>Simon Grieveson, assistant director of research at Prostate <a href="https://www.theguardian.com/society/cancer" data-link-name="in body link" data-component="auto-linked-tag">Cancer</a> UK, who was not involved in the study, said: “This is an interesting piece of research that adds to previous studies showing possible links between exercise and a lower likelihood of getting prostate cancer.</p><p>“Regularly keeping fit and eating a balanced diet are good for every man’s general health and wellbeing – however, we don’t know definitively whether physical activity can lower a man’s risk of getting, or dying from, prostate cancer.”</p><p>Matt Lambert, the health information and promotion manager at World Cancer Research Fund, said: “It is widely known that having a higher level of cardiorespiratory fitness is important for our health and longevity, but it can also be protective against certain diseases.</p><p>“This insightful study adds to the evidence around how risk factors such as fitness may play a role in reducing men’s risk of prostate cancer.”</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why Custom GPTs are better than plugins (161 pts)]]></title>
            <link>https://moveit.substack.com/p/why-custom-gpts-are-better-than-plugins</link>
            <guid>39200149</guid>
            <pubDate>Wed, 31 Jan 2024 05:01:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://moveit.substack.com/p/why-custom-gpts-are-better-than-plugins">https://moveit.substack.com/p/why-custom-gpts-are-better-than-plugins</a>, See on <a href="https://news.ycombinator.com/item?id=39200149">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><p><span>On November 6, 2023, </span><a href="https://openai.com/blog/introducing-gpts" rel="nofollow ugc noopener">OpenAI announced Custom GPTs</a><span>. Since then, over 3 million GPTs have been created, with over 200.000 of them made publicly available.</span></p><p>Fundamentally, Custom GPTs come with pre-configured actions and capabilities (e.g., do something in app “X”), as well as specific embedded knowledge for the task they have been built for. That also means that instead of users having to turn plugins on &amp; off manually, they can switch conversations depending on the task, which usually is way quicker and more intuitive.</p><p>Here are the five biggest reasons GPTs are significantly better than plugins for developers and users.</p><p><em><span>If you haven’t tried a Custom GPT yet, try the </span><a href="https://chat.openai.com/g/g-yRy2XuCMc-forms-checklists-workflows" rel="nofollow ugc noopener">Forms, Checklist &amp; Workflows GPT</a><span> for starters. (Full disclosure: I built that one 😉)</span></em></p><p>The biggest thing that a lot of developers waiting to get invited by OpenAI to write traditional plugins are missing is that you can not only do the same but more with GPTs, but also that in contrast to publishing plugins, GPTs can be listed on the “GPT Store” or simply by sharing a direct URL. Which ultimately results in way more GPTs being made available than plugins.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic" data-component-name="Image2ToDOM" rel="nofollow ugc noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic" width="1456" height="975" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f81a0fda-8066-4791-941a-a98e55566d94.heic&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:975,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:44832,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/heic&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff81a0fda-8066-4791-941a-a98e55566d94.heic 1456w" sizes="100vw" fetchpriority="high"></picture></div></a></figure></div><p>That’s also why there are 2000 times more GPTs than plugins publicly available already today!</p><p>Instead of cluttering your system message (or, “instructions”), adding knowledge to your GPT is as easy as uploading a file.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png" data-component-name="Image2ToDOM" rel="nofollow ugc noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png" width="1164" height="416" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:416,&quot;width&quot;:1164,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:55770,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b2bd352-9e48-49c2-a294-37e5dedfcf9b_1164x416.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>These files can be everything from PDFs, Raw Text, or Markdown (e.g., exported Notion Pages).</p><p>Depending on the context of GPT, you can enable/disable specific inbuilt capabilities from ChatGPT for the conversations.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png" data-component-name="Image2ToDOM" rel="nofollow ugc noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png" width="1156" height="252" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:252,&quot;width&quot;:1156,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:34575,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8073fd15-e50b-4d36-8dfb-7dc9961eb6fb_1156x252.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Writing a “book creator” GPT? Just enable DALL-E Image Generation to allow users to generate fitting pictures along with the story!</p><p>Previously, people had to try plugins to somehow get an idea of how to use them and what good examples to use them for. But with easy-to-add conversation starters, GPT creators can give users a couple of suggestions based on what their GPT is good at.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png" data-component-name="Image2ToDOM" rel="nofollow ugc noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png" width="1162" height="634" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:634,&quot;width&quot;:1162,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:83524,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F23e7e12c-5727-4981-a428-bb8ce5edca7e_1162x634.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>For best results, you’d still want to integrate with your product API. Especially if you aim to get more users to discover your product and services via the GPT. But the great thing is for pure “knowledge” driven GPTs, creators don’t even have to do that. Instead, all they need to do is add an “instruction” paragraph (to provide the GPT with necessary context) and upload your knowledge as files.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png" data-component-name="Image2ToDOM" rel="nofollow ugc noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png" width="1456" height="1374" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/aa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1374,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:187468,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Faa720026-9ac2-4861-8e13-6e2d100921f2_1604x1514.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Tada! No code, no databases, no servers… </p><p><span>As of this morning, OpenAI supports mentioning GPTs from within conversations of another GPT. This allows you to ask a GPT for the Top 10 games for Switch, and then mention the </span><a href="https://chat.openai.com/g/g-yRy2XuCMc-forms-checklists-workflows" rel="nofollow ugc noopener">Forms, Checklists &amp; Workflows GPT</a><span> to create a checklist for you to tick off a game you played or beat.</span></p><p>Looking past all these advantages of GPTs over Plugins, it’s often easy to forget the main benefits of creating either. Being:</p><ul><li><p>Creating something truly impactful with a small amount of work.</p></li><li><p>Bringing your existing product API and specification, rather than writing new code</p></li><li><p>Defining actions with different authentication models depending on your needs (None, API Key, OAuth 2.0).</p></li><li><p><strong>Leveraging ChatGPT as the best user acquisition channel you’ve ever had.</strong></p></li></ul><p>Are you curious about the last point in that list? Hit the button below! 😇</p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google search drops cache link from search results (409 pts)]]></title>
            <link>https://www.seroundtable.com/google-search-drops-cache-link-from-search-results-36787.html</link>
            <guid>39198329</guid>
            <pubDate>Wed, 31 Jan 2024 01:01:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.seroundtable.com/google-search-drops-cache-link-from-search-results-36787.html">https://www.seroundtable.com/google-search-drops-cache-link-from-search-results-36787.html</a>, See on <a href="https://news.ycombinator.com/item?id=39198329">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[165 m private submersible superyacht (101 pts)]]></title>
            <link>https://www.migaloo-submarines.com/m5-1-of-1/</link>
            <guid>39198281</guid>
            <pubDate>Wed, 31 Jan 2024 00:55:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.migaloo-submarines.com/m5-1-of-1/">https://www.migaloo-submarines.com/m5-1-of-1/</a>, See on <a href="https://news.ycombinator.com/item?id=39198281">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="cc-m-7384347311"><p>
    <strong>Main data:</strong>
</p>



<p>
    Length overall: 165.8 m<br>
    Beam: 23.0 m<br>
    Draft: 8.6 m<br>
    Range: approx. 15.000 km<br>
    Submerged duration: approx. 4 weeks<br>
    Depth: approx. 250 m
</p>



<p>
    &nbsp;Owner &amp; Guests: e.g. 14-20, acc. to the Owners prefernences
</p>

<p>
    Crew &amp; Staff: e.g. 32-40
</p>



<p>
    Gross Tonnage: approx. 15.000 GT
</p>

<p>
    Luxury Interior Spaces: approx. 1.000 sqm
</p>

<p>
    Owners Interior Spaces: approx. 220 sqm
</p>

<p>
    Crew Interior Spaces: approx. 900 sqm
</p>

<p>
    Spa Interior Spaces: approx. 200 sqm
</p>



<p>
    Shipyard, Construction &amp; Interior Outfitting: acc. to Owners preferences
</p>

<p>
    Owners Representative: MIGALOO
</p>

<p>
    Yacht Management: MIGALOO
</p>



<p>
    Exterior Styling &amp; Interior Design: MIGALOO or up to the Owners preferences
</p>



<p>
    Classification: e.g. DNV / GL Passenger Yacht Code or equivalent
</p>



<p>
    Safety Features (several examples - no claim to completeness):
</p>

<p>
    Design, Construction and Operation according to US SUBSAFE and according to the chosen classification society's (e.g. DNV / GL) standards
</p>

<p>
    Double Hull Construction with several Pressure Hulls
</p>

<p>
    2 Midget Submarines -&nbsp; accessible from the Main Pressure Hull
</p>

<p>
    Bow and Stern Emergency Locks
</p>

<p>
    Bow and Stern Emergency Indicator Buoy
</p>

<p>
    Redundancy of all relevant systems&nbsp;
</p>

<p>
    Personal Safety Equipment for Guests and Crew such as Submarine Escape Immersion Equipment (SEIE)
</p>



<p>
    Aft Deck Helipad (D-Value 13 m) and Helicopter Hangar in dedicated Pressure Hull
</p>

<p>
    <br>
    Propulsion: Diesel Electric &amp; AIP
</p>



<p>
    Speed: 20 knots surfaced, 12 knots submerged
</p>

<p>
    <br>
    Surface Tender:
</p>

<p>
    e.g. 12.5 m Custom Compass Enclosed Limousine Tender, e.g. 10.5 m Compass Beach Landing Craft, e.g. 6.8 m Pascoe Jet Drive RHIB Work Tender
</p>



<p>
    Submarine Tender &amp; Underwater Exploration:
</p>

<p>
    2 Custom Midget-Submarines (MIGALOO LST - Limo Sub Tender and/or Exploration Sub Tender, length: 17 m), 2 Submersibles, several ROVs and UUVs
</p>



<p>
    Air Tender:
</p>

<p>
    1x Helicopter (e.g Bell 407 or Bell 429), Drones, Hot-Air Balloon
</p>



<p>
    Land Tender:
</p>

<p>
    2x Expedition Vehicles or SUVs or Trucks/Pick-Up
</p>



<p>
    Water Sports &amp; Activities:
</p>

<p>
    3x Sea-Doo GTX LTD 300 Jet-Ski, 2x Sea-Doo GTX LTD 260 Jet-Ski, 4x F5S Seabobs, Zapata-Racing Legend Flyboard, Zapata-Racing Hoverboard, Kayaks, Stand-up Paddleboards, Selection of Kitesurfing
    Equipment, Selection of Diving Equipment, Wakesurfing Equipment, Waterskiing Equipment, Large Selection of Towing Inflatables, Wetsuits, Protective Equipment, Fishing Equipment, Exploration
    Equiment, Winter Sports Equipment, Camp Equipment (Tropical and Arctic)
</p>



<p>
    Communications (surfaced): VSAT, GSM Comprehensive Vessel Wide WIFI Network for Internet
</p>



<p>
    Entertainment: Bespoke AV/IT system, Satellite TV, Music Selection, TVs &amp; Interactive Entertainment Walls, Outdoor Cinema, Movie-, Radio Selection and Security System
</p>





<p>
    <strong>General Arrangement &amp; Features (Concept Proposal):</strong>
</p></div><div id="cc-m-7934490111"><p>
    All MIGALOO Private Submersible Superyachts are custom designed to meet the desires and preferences of the Owner.
</p>



<p>
    The preliminary design of the <span><a href="https://www.migaloo-submarines.com/m5-1-of-1/" title="M5 - 165M Submarine">165M MIGALOO M5</a></span> serves as an initial
    source of inspiration. The Owner is encouraged to modify and customize the design based on specific preferences and requirements. Therefore, the MIGALOOs Owner-centric approach begins with a
    comprehensive briefing, followed by the development of a General Arrangement (GA) plan and an initial design indication.
</p>

</div><div id="cc-m-7934380311">

<p>
    Click on the picture below and download the MIGALOO General Project Configuration
</p>



<p>
    Select preferred options and add individual wishes and requirements on a curated selection of project-related topics
</p>

<p>
    &nbsp;Feel free to submit the completed document back to us
</p>

<div data-message-author-role="assistant" data-message-id="9a8a64cf-0c12-4ec0-9695-3a9284a3d5f5">
        <p>
            Based on the unique configuration, we meticulously analyze the Owner's wishes in detail
        </p>

        <p>
            &nbsp;CEO and Designer, Christian Gumpold, would be delighted to arrange a complimentary call to discuss the project and provide recommendations for the next steps
        </p>

        
    </div></div><div id="cc-m-7465736111"><p>
    MIGALOO Private Submersible Yachts
</p>



<p>
    0043 664 53 21 400
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Intel's Humbling (486 pts)]]></title>
            <link>https://stratechery.com/2024/intels-humbling/</link>
            <guid>39197619</guid>
            <pubDate>Tue, 30 Jan 2024 23:42:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://stratechery.com/2024/intels-humbling/">https://stratechery.com/2024/intels-humbling/</a>, See on <a href="https://news.ycombinator.com/item?id=39197619">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-12243">
	<!-- .entry-header -->

	<div>
		<p>There are time when being a semiconductor CEO is rather easy. Just consider Brian Krzanich: when he took over the Intel job in 2013, I wrote in <a href="https://stratechery.com/2013/the-intel-opportunity/">The Intel Opportunity</a>:</p>
<blockquote><p>
  A new CEO has taken over Intel. Their core business, upon which the company has been built, is floundering. Does the new CEO, who is not really new at all (he’s the current COO), have the vision to ensure Intel’s continued success? I’m not talking about Brian Krzanich, who today was promoted from COO to CEO at Intel. Rather, I’m talking about Andy Grove, who took over Intel in 1987.
</p></blockquote>
<p>The crisis Grove encountered was Intel’s floundering memory business; <a href="https://stratechery.com/2016/andy-grove-and-the-iphone-se/">he exited memory and focused on logic chips</a>, and the rest was history. I thought that Krzanich should do something similar: Intel should stop focusing its efforts on being an integrated device manufacturer (IDM) — a company that both designed and manufactured its own chips exclusively — and shift to becoming a foundry that also served external customers. Back to the Article:</p>
<blockquote><p>
  Today Intel has once again promoted a COO to CEO. And today, once again, Intel is increasingly under duress. And, once again, the only way out may require a remaking of their identity. It is into a climate of doom and gloom that Krzanich is taking over as CEO. And, in what will be a highly emotional yet increasingly obvious decision, he ought to commit Intel to the chip manufacturing business, i.e. manufacturing chips according to other companies’ designs.
</p></blockquote>
<p>Krzanich did not take my advice, and this is what happened to Intel’s stock during his tenure:</p>
<p><img loading="lazy" decoding="async" src="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-1.png?resize=640%2C331&amp;ssl=1" alt="Intel's stock under Brian Krzanich" width="640" height="331" srcset="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-1.png?w=1280&amp;ssl=1 1280w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-1.png?resize=300%2C155&amp;ssl=1 300w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-1.png?resize=1024%2C529&amp;ssl=1 1024w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-1.png?resize=768%2C397&amp;ssl=1 768w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-1.png?resize=1200%2C620&amp;ssl=1 1200w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1"></p>
<p>The thing is, if you don’t invest in the future, or see fundamental changes in the market coming, then you don’t have to spend as much; if you don’t have to spend as much then you can increase margins. And, while there were some analysts that could foresee the extent to which fabs were dramatically increasing in price, and would thus need to significantly increase volume to maintain profitability in the long run, this was clearly a case where Wall Street mostly cared about the forecast for the next quarter or the next year.</p>
<p>All of this was compounded by the assumption that Intel would stay in the process lead forever; indeed, while I was right about the changing costs of foundries and the need for Intel to open up to outside customers, in 2013 I didn’t forecast Intel losing their process leadership. That happened under Krzanich too: TSMC started manufacturing 7nm in volume in early 2017, and Intel announced a delay in 10nm (which was roughly equivalent to TSMC’s 7nm) in April 2018. And yet the stock went up, faster than ever.</p>
<h3>Intel’s Struggles</h3>
<p>Later that year Krzanich was fired for having <a href="https://www.cnbc.com/2018/06/21/intel-ceo-brian-krzanich-to-step-down-bob-swan-to-step-in-as-interim-ceo.html">a relationship with an Intel employee</a>; Bob Swan stepped into the CEO role, but it was ultimately current CEO Pat Gelsinger that is paying the price for Krzanich’s lack of strategic foresight and total fumble in terms of execution. Consider the company’s earnings announcement last week; from <a href="https://www.bloomberg.com/news/articles/2024-01-25/intel-gives-bleak-forecast-in-sign-comeback-is-going-slowly">Bloomberg</a>:</p>
<blockquote><p>
  Intel Corp. tumbled the most in more than three years after delivering a disappointing forecast, a reaction that Chief Executive Officer Pat Gelsinger said Friday was overblown. The shares fell 12% to $43.65 in New York after Intel’s first-quarter projection for both sales and profit came in well short of Wall Street estimates. It was the biggest single-day decline since July 2020.</p>
<p>  The outlook sparked fears that Gelsinger’s long-promised comeback bid has gotten off track. Though the chipmaker’s personal computer business is recovering, demand is weakening in the lucrative market for data center processors. Intel also is contending with a slowdown in programmable chips and components for self-driving vehicles, and a fledgling business that makes semiconductors for other companies hasn’t yet taken off…</p>
<p>  During a conference call with analysts, Gelsinger acknowledged that the first quarter wasn’t going as well as hoped, but that he expected the rest of 2024 to improve quarter by quarter. Intel’s efforts to return to the cutting edge of manufacturing are still on track, he said. That’s crucial to improving its products and staying competitive. He also asserted that the chipmaker is no longer losing sales to competitors in PCs and data centers.
</p></blockquote>
<p>This stock price decline was just one of many under Gelsinger’s leadership:</p>
<p><img loading="lazy" decoding="async" src="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-2.png?resize=640%2C310&amp;ssl=1" alt="Intel's stock under Pat Gelsinger" width="640" height="310" srcset="https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-2.png?w=1280&amp;ssl=1 1280w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-2.png?resize=300%2C145&amp;ssl=1 300w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-2.png?resize=1024%2C496&amp;ssl=1 1024w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-2.png?resize=768%2C372&amp;ssl=1 768w, https://i0.wp.com/stratechery.com/wp-content/uploads/2024/01/intel-humbling-2.png?resize=1200%2C581&amp;ssl=1 1200w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1"></p>
<p>This past quarter continues many of the trends driving this multi-year decline: client PCs are finally making a comeback from the COVID hangover, but many of Intel’s non-CPU businesses are struggling and/or facing inventory corrections, including MobileEye, networking, and FPGAs. The biggest problem, though, continues to be the data center: AMD makes better CPUs on a better process (TSMC’s) and they continue to eat Intel’s lunch amongst the biggest cloud providers who, because they buy the most CPUs, are willing to do the work necessary to make the best performing chip work (this is why Intel’s on-premise and government business has long held up better). That direct competition is compounded by the secular pressure from ARM on one side and the diversion of spend to GPUs (primarily Nvidia, but also AMD) on the other.</p>
<h3>Intel’s Progress</h3>
<p>This is where being a semiconductor CEO is very difficult. Over the last few years Gelsinger has done exactly what needed to be done a decade earlier: he is <a href="https://stratechery.com/2021/intel-unleashed-gelsinger-on-intel-idm-2-0/">transforming Intel into a foundry</a> that serves external customers, and he is working to at least make Intel competitive again on the leading edge, and maybe even take the lead in a few years, if you believe Intel’s claims about its 18A process.</p>
<p>18A is the fifth of the fabled “five nodes in four years” that Gelsinger promised shortly after he took over, and it appears that he is pulling it off. Gelsinger summarized those five nodes in a <a href="https://stratechery.com/2023/an-interview-with-intel-ceo-pat-gelsinger-about-intels-progress-towards-process-leadership/">Stratechery Interview</a> last fall:</p>
<blockquote><p>
  So Intel 7 is the last of the pre-EUV technologies. Intel 4, the first EUV technology for us, Intel 3 refined the final FinFET, really helped us take those learnings, but largely was a common architecture of transistor and process flow — really just the refinement. Much like you say, TSMC and others have done, get the initial one working and then refine it for scale manufacturing, that’s Intel 3. And given it’s the second generation of that, we’ll be applying that to our big server products, Granite Rapids, Sierra Forest, big die. We need to get down the learning curve with Meteor Lake, our first client partner. And then now with the big server die, and that’s also what we’re introducing on Intel 4, more so on Intel 3, a lot of the advanced packaging technologies come big into the technology footprint. Then the new transistor, the new backside power begins with 20A, and for that Arrow Lake is sort of the first, get it up and running small die, something easier to design and then when we get to 18A, the journey is done.
</p></blockquote>
<p>To summarize:</p>
<table>
<thead>
<tr>
<th></th>
<th>Transistor</th>
<th>Lithography</th>
<th>Power</th>
<th>TSMC Equivalent</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intel 7</td>
<td>FinFET</td>
<td>DUV</td>
<td>Frontside</td>
<td>7nm</td>
</tr>
<tr>
<td>Intel 4</td>
<td>FinFET</td>
<td>EUV</td>
<td>Frontside</td>
<td>5nm</td>
</tr>
<tr>
<td>Intel 3</td>
<td>FinFET</td>
<td>EUV</td>
<td>Frontside</td>
<td>4nm</td>
</tr>
<tr>
<td>Intel 20A</td>
<td>FinFET</td>
<td>EUV</td>
<td>Frontside</td>
<td>3nm</td>
</tr>
<tr>
<td>Intel 18A</td>
<td>RibbonFET</td>
<td>EUV</td>
<td>Backside</td>
<td>2nm</td>
</tr>
</tbody>
</table>
<p>The TSMC equivalents are a bit fuzzy, particularly once you get into the future; TSMC CEO C.C. Wei has been adamant on the last couple of TSMC earnings calls that TSMC’s advanced 3nm process will outperform Intel’s 18A (Intel’s argument is that backside power will make chips much easier to design, since the power is separated from the communications layer, eliminating interference). What’s important, though, is that that is a question worth answering. Gelsinger said of 18A, which is the process that Intel is pushing hard to potential foundry customers, <a href="https://seekingalpha.com/article/4665168-intel-corporation-intc-q4-2023-earnings-call-transcript">on the company’s earnings call</a>:</p>
<blockquote><p>
  We are first in the industry to have incorporated both gate-all-around and backside power delivery in a single process node, the latter unexpected two years ahead of our competition. Arrow Lake, our lead Intel 20A vehicle will launch this year. Intel 18A is expected to achieve manufacturing readiness in second half ’24, completing our five nodes in four year journey and bringing us back to process leadership. I am pleased to say that Clearwater Forest, our first Intel 18A part for servers has already gone into fab and Panther Lake for clients will be heading into Fab shortly…</p>
<p>  Our success with IFS will be measured by customer commitments and revenue. We have taped out more than 75 ecosystem and customer test chips. IFS already has more than 50 test chips in the pipeline across 2024 and 2025, 75% of which are on Intel 18A. During CES, we welcomed the Valens Semiconductor to the growing list of foundry customers as they announced they would use IFS to fabricate their MIPI A-PHY chipsets using our advanced technology. In addition to the 3 Intel 18A customers we disclosed in Q3, we won a key design win with a significant high-performance computing customer. This customer was particularly motivated by our unique leading-edge manufacturing capabilities and U.S. capacity. We came into 2023 committing to one 18A foundry customer. We executed on four inclusive of a meaningful prepay and our momentum continues to grow.
</p></blockquote>
<p>The ultimate proof point for Gelsinger’s strategy will be chips designed by external customers, fabbed on Intel’s 18A process, running in devices in people’s pockets; nothing is assured until then. That, unfortunately, is the rub: there is no revenue until then either, and “then” is still a few years into the future. One wonders if Gelsinger will be there to enjoy the uplift that would only then be justified, at least from the perspective of Wall Street.</p>
<p>From my perspective — which, as exemplified by my disappointment with Krzanich despite Intel’s great stock returns during his tenure, is absolutely not stock-picking advice — he very much deserves the chance. Intel has the right strategy and seems to be executing; the challenge is that semiconductor cycles operate in something closer to decades than years, much less quarters.</p>
<h3>Intel’s New Partner</h3>
<p>So what does Intel do in the meantime? Last week also brought news of a very interesting new partnership that helps answer that question. From <a href="https://asia.nikkei.com/Business/Tech/Semiconductors/Intel-partners-with-Taiwan-s-No.-2-chipmaker-UMC-in-Arizona">Nikkei</a>:</p>
<blockquote><p>
  Intel and Taiwan’s United Microelectronics Corp. (UMC) on Thursday announced a partnership that will lead to production in the U.S. state of Arizona by 2027, part of the American semiconductor company’s push to expand its business of making chips for others. The partners will develop relatively mature 12-nanometer technology, ideal in building chips for Bluetooth, Wi-Fi, microcontrollers, sensors and a range of other connectivity applications, but not for cutting-edge central processing units or graphics processors. Intel said the long-term agreement can leverage its U.S. manufacturing capacity and UMC’s extensive foundry experience in mature chip production technologies that serve a wide range of chip developers.</p>
<p>  Based in the Taiwanese city of Hsinchu, UMC is a smaller peer of Taiwan Semiconductor Manufacturing Co., the world’s biggest contract chipmaker or foundry. UMC is the world’s third-largest contract chipmaker.
</p></blockquote>
<p><a href="https://stratechery.com/2024/tsmc-earnings-the-trailing-node-netflix-wwe-follow-up/">Last week I wrote about TSMC’s earnings</a> and explained how TSMC has been forced to increasingly adopt the old Intel model, first in pricing, and then in its equipment usage:</p>
<blockquote><p>
  The leading edge costs a lot of money to ramp up — N3 is lowering margins for now, as every new node does its first few years — but those costs are made up for by the ability to charge much higher prices. To that end N3 is already up to 15% of TSMC revenue, followed by 35% at N5, and 17% at N7.</p>
<p>  This reality is not new for TSMC, but it is different than how the company has operated historically. TSMC started out as a foundry selling trailing edge chips; the primary way of making money over the long run was to build a fab relatively cheaply using established equipment, and then run that fab for many years. Once all of the equipment was depreciated, every chip produced was almost pure profit, even if the revenue on a per-chip basis was fairly low.</p>
<p>  It was Intel, on the other hand, that charged the highest prices for the fastest chips, and all of its business was on the leading edge, selling its own chips; that meant that the company would take down old fabs and repurpose as much equipment as it could for the next node, instead of running the fab forever like a foundry would (this is one of Intel’s challenges in becoming a foundry: they simply don’t have much depreciated trailing edge capacity throwing off cash).</p>
<p>  What is interesting to note is that TSMC’s shift to a more Intel-like model in terms of its revenue drivers (leading edge) and profit drivers (high prices) is starting to impact how they manage their fabs. CFO Wendell Huang said <a href="https://investor.tsmc.com/chinese/encrypt/files/encrypt_file/reports/2024-01/77f58cc7cac9df532c274f893b1c722de15c3f85/TSMC%204Q23%20Transcript.pdf">in his prepared remarks</a>:</p>
<blockquote><p>
    In addition, we have a strategy so that some of our N3 capacity can be supported by N5 tools given the strong multiyear demand. Such a plan will enable higher capital efficiency in the mid to long term, but requires cost and effort in the near term. Most of this conversion will occur in second half of 2024, and we expect it to dilute our gross margin by about 1 to 2 percentage points in second half of 2024.
  </p></blockquote>
<p>  Notice what is happening here: TSMC, unlike its historical pattern, is not keeping (all of its) 5nm capacity to make low-cost high-margin chips in fully-depreciated fabs; rather, it is going to repurpose some amount of equipment — probably as much as it can manage — to 3nm, which will allow it to expand its capacity without a commensurate increase in capital costs. This will both increase the profitability of 3nm and also recognizes the reality that is afflicting TSMC’s 7nm node: there is an increasingly large gap between the leading edge and “good enough” nodes for the vast majority of use cases.
</p></blockquote>
<p>This Intel-UMC deal represents the inverse of what is happening at TSMC: a viable foundry business can’t just rely on selling leading-edge chips at very high margins — particularly since Intel’s claims that it will regain process leadership remain to be seen. What is critical is having fully depreciated foundries still making chips: yes, those chips cost a lot less than the leading edge, but given that the marginal costs are practically zero (at least relative to the fixed costs) they are an important source of cash flow and profits, which can be re-invested in the leading edge. This deal is about capturing that depreciated cash flow.</p>
<h3>Intel’s Needs</h3>
<p>Intel, however, as I noted, only ever needed leading edge fabs — no one wants an old Intel chip when newer and faster ones are on the market. This was a big reason, of course, why Krzanich so badly missed The Intel Opportunity: in 2012 Intel was right in the middle of the FinFET-deep ultraviolet (DUV) lithography era of chip fabrication, but the end of both was already on the horizon in the form of RibbonFET (i.e. Gate-All-Around transistors) and extreme ultraviolet (EUV) lithography. Given the astronomical costs of EUV in particular it would have been reasonable to forecast then that there might develop a sweet spot making FinFET transistors with DUV, but Intel missed out on a decade of building up the capability to serve external customers.</p>
<p>This capability — or the lack thereof — remains one of the biggest questions around Intel’s foundry efforts. In 2022, when Intel tried to buy Tower Semiconductor, I wrote <a href="https://stratechery.com/2022/pelotons-operations-intel-buys-tower-semiconductor-what-now-for-arm-plus-intel-risc-v/">in an Update</a>:</p>
<blockquote><p>
  It is not only the case that Intel primarily makes its own designs, it also makes only digital chips (i.e. everything is a 1 or a 0). However, there is also an entire universe of analog chips, which can process gradations; this is essential for processing data from the physical world like sound, power, light, etc. Tower specializes in a whole host of specialized chips in the analog space; adding Tower’s capabilities to Intel Foundry Services (IFS) will make the latter much more of a true one stop shop for chip fabrication, matching the capabilities of TSMC or GlobalFoundries.</p>
<p>  To me it is the GlobalFoundries angle that is the most interesting here: I have long been a proponent of Intel buying GlobalFoundries, despite the fact that GlobalFoundries isn’t a particularly great business, has given up on the leading edge process race, etc. My thinking has been that Intel can bring the capability (maybe) and willingness to invest in the leading edge, while GlobalFoundries can bring the breadth of capabilities and customer service orientation necessary to be a foundry. Sure, that’s expensive, but allowing IFS to be choked off by Intel’s integrated and not-invented-here culture would be even more expensive.</p>
<p>  I suspect the Tower acquisition firmly closes the door on that possibility (which to be fair, was clearly remote). Here the calculus is much more straightforward: Tower brings certain capabilities and customer relationships that Intel believes it can scale up inside its factory network at a much lower cost than GlobalFoundries (whose current market cap is $29 billion), and it will be much easier to absorb and integrate into Intel’s business. The big question is whether or not integrating into Intel’s business is in fact the entire problem that needs to be avoided.
</p></blockquote>
<p>At Intel, manufacturing has always called the shots. The design side of the company had to accommodate the fabs, whether that be using their archaic design software, working around manufacturing challenges, or figuring out how to make a faster chip on recycled equipment. This made sense for a long time, but there was a cost: Intel designs stopped being innovative and became dependent on Intel’s manufacturing for performance; when Intel’s manufacturing prowess hit a wall Intel’s designs were exposed. Gelsinger told me:</p>
<blockquote><p>
  So all of a sudden, as Warren Buffet says, “You don’t know who’s swimming naked until the tide goes out.” When the tide went out with the process technology, and hey, we were swimming naked, our designs were not competitive. So all of a sudden we realized, “Huh, the rising tide ain’t saving us. We don’t have leadership architecture anymore.” And you saw the exposure.
</p></blockquote>
<p>Indeed, we see the stock price!</p>
<p>That, though, was only part of Intel’s problem: the more fundamental issue is that a foundry is, as I wrote, a customer service organization: an entity like TSMC adapts to customers’ designs, not the other way around. They use industry standard design software. They have extensive libraries of IP that make designing a chip more akin to assembling a collection of Lego blocks. They ship when they say they will ship, and they run the fab for which a chip was designed forever.</p>
<p>Intel did <em>none</em> of these things, and had a mentality and culture that ran in the exact opposite direction: in a foundry, manufacturing is not king but a servant; customer sales is not about “take-it-or-leave-it” but “let us help you solve your problem.” I was — and frankly, remain — dubious about Intel’s ability to create that sort of culture internally, which is why I advocated for an acquisition, first of Global Foundries, and then of Tower. Thanks to its decade delay Intel didn’t have time to learn how to serve customers: it had rapidly obsoleting fabs that needed to be filled as soon as possible, if the company ever had hope of making enough cash to fund its push back to the leading edge.</p>
<p>Unfortunately China blocked the acquisition of Tower, in <a href="https://stratechery.com/2022/china-chip-ban-clarifications-nvidias-a800-china-intel-and-tower/">what I suspect was retaliation for U.S. restrictions on China</a>. Worse, from what I have heard Intel responded by starting to sell a lot of old equipment at rock-bottom prices, which usually ended up in China; the fact of the matter is that the company needs cash.</p>
<h3>Intel’s Humbling</h3>
<p>Perhaps, though, the fire-sale is coming to an end: all of this context explains why this deal exists, and why I think it is a fantastic idea:</p>
<ul>
<li>UMC, like <a href="https://stratechery.com/2018/uber-follow-up-globalfoundries-abandons-7nm-pricing-power-differentiation-and-integration/">GlobalFoundries before it</a>, has struggled to keep pace with ever more expensive fabs. The company has a 14nm offering, but has shown little evidence it can or will go further, and the EUV transition seems completely out of the question. However, UMC does have a large foundry business, which is to say that UMC is a customer service organization, with the compatibility and IP necessary to succeed.</li>
<li>Intel, meanwhile, has a ton of capacity with FinFET and DUV processes. One of the costs of the company’s failure at 10nm and 7nm was that the company built extra 14nm fabs. A huge amount of that equipment, particularly the lithography, is not useful for the leading edge, but it is fully depreciated and could be used to build <em>pretty</em> fast chips for a lot less than the leading edge.</li>
</ul>
<p>This deal —&nbsp;which is for a new, designed-for-external-customers 12nm process — brings together the two company’s core capabilities: UMC is the customer service organization, and Intel is the manufacturer. Yes, that means lower revenue and margins for both, but both have already built the capabilities necessary to make the deal succeed, which means the business should be accretive to both revenue and profits for each of them.</p>
<p>The big question is how big of a market there is for fast-but-not-the-fastest chips: Intel is talking up things like communications chips, image sensing processors, etc., but a new process will require new design wins. Moreover, TSMC is counting on the same market for its 7nm process: that process should be faster, but it is also more difficult to make (7nm requires quad-patterning, while 12nm is dual patterning; this means easier designs, higher throughput, and better yields for the latter).</p>
<p>It is also, one might say, a bit humiliating: mighty Intel, which bestrode the tech industry for 50 years, the keepers of Moore’s Law, is making a deal with a Taiwanese also-ran, because it needs the help. That, though, is no insult: Intel needed some humbling, and this deal, more than any 18A design win or lofty promise about the AI PC, gives me hope that the company is in fact turning things around.</p>

	</div><!-- .entry-content -->
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[USCIS announces strengthened integrity measures for H-1B program (117 pts)]]></title>
            <link>https://www.uscis.gov/newsroom/news-releases/uscis-announces-strengthened-integrity-measures-for-h-1b-program</link>
            <guid>39197550</guid>
            <pubDate>Tue, 30 Jan 2024 23:36:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.uscis.gov/newsroom/news-releases/uscis-announces-strengthened-integrity-measures-for-h-1b-program">https://www.uscis.gov/newsroom/news-releases/uscis-announces-strengthened-integrity-measures-for-h-1b-program</a>, See on <a href="https://news.ycombinator.com/item?id=39197550">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><em>Announces FY 2025 H-1B Cap Initial Registration Period and Online Filing of H-1B Petitions</em></p><p><strong>WASHINGTON</strong>—U.S. Citizenship and Immigration Services (USCIS) today announced a&nbsp;<a href="https://www.federalregister.gov/public-inspection/2024-01770/improving-the-h-1b-registration-selection-process-and-program-integrity">final rule</a> to&nbsp;strengthen the integrity of and reduce the potential for fraud in the H-1B&nbsp;registration process, including&nbsp;by reducing the potential for gaming the registration system and ensuring each beneficiary would have the same chance of being selected, regardless of the number of registrations submitted on their behalf.&nbsp;USCIS is also announcing the initial registration period dates for the fiscal year (FY) 2025 H-1B cap, and the launch of an&nbsp;online filing option for <a href="https://www.uscis.gov/i-129" data-entity-type="node" data-entity-uuid="5c210fe6-2270-43ff-a7e4-b26246f1ab8b" data-entity-substitution="canonical">Forms&nbsp;I-129, Petition for a Nonimmigrant Worker,</a> and&nbsp;<a href="https://www.uscis.gov/i-907" data-entity-type="node" data-entity-uuid="a12396c0-398a-42af-a1d0-4b0c5da8337d" data-entity-substitution="canonical">Form I-907, Request for Premium Processing Service</a>, for H-1B petitioners.</p><p>“We’re always looking for ways to bolster integrity and curtail the potential for fraud while improving and streamlining our application processes,”&nbsp;<strong>said USCIS Director Ur M. Jaddou.</strong>&nbsp;“The improvements in these areas should make H-1B selections&nbsp;more equitable for petitioners and beneficiaries and will allow for the H-1B process to be fully electronic from registration, if applicable, until final decision and transmission of approved petitions to the Department of State.”</p><p><strong>H-1B Registration Final Rule</strong></p><p>This final rule contains provisions that will create a beneficiary-centric selection process for registrations by employers, codify start date flexibility for certain petitions subject to the congressionally mandated H-1B cap, and add more integrity measures related to the registration process.</p><p>Under the beneficiary centric process, registrations will be selected by unique beneficiary rather than by registration. This new process is designed to reduce the potential for fraud and ensure each beneficiary would have the same chance of being selected, regardless of the number of registrations submitted on their behalf by an employer. Starting with the FY 2025 initial registration period, USCIS will require registrants to provide valid passport information or valid travel document information for each beneficiary. The passport or travel document provided must be the one the beneficiary, if or when abroad, intends to use to enter the United States if issued an H-1B visa. Each beneficiary must only be registered under one passport or travel document.</p><p>USCIS is also clarifying requirements regarding the requested employment start date on certain petitions subject to the congressionally mandated H-1B cap to permit filing with requested start dates that are after Oct. 1 of the relevant fiscal year, consistent with current policy.</p><p>Additionally, the H-1B final rule codifies USCIS’ ability to deny or revoke H-1B petitions where the underlying registration contained a false attestation or was otherwise invalid. Also under the new rule, USCIS may deny or revoke the approval of an H-1B petition if it determines that the fee associated with the registration is declined, not reconciled, disputed, or otherwise invalid after submission.</p><p>USCIS has also&nbsp;<a href="https://www.uscis.gov/newsroom/news-releases/uscis-issues-final-rule-to-adjust-certain-immigration-and-naturalization-fees" data-entity-type="node" data-entity-uuid="07b40ecd-fd9c-4035-8bf9-f8275b093660" data-entity-substitution="canonical">announced</a> the&nbsp;<a href="https://www.federalregister.gov/public-inspection/2024-01427/fee-schedule-and-changes-to-certain-other-immigration-benefit-request-requirements">Fee Schedule final rule</a>. That rule will go into effect after the initial registration period for the FY 2025 H-1B cap. Therefore, the registration fee during the registration period starting in March 2024, will remain $10.</p><p>A new edition of Form I-129 with the H-1B Registration final rule and Fee Schedule final rule changes will soon be available to preview on uscis.gov (edition date 04/01/24). On April 1, 2024, only the 04/01/24 edition of Form I-129 will be accepted.</p><p>The H-1B Registration final rule makes final some provisions proposed in the&nbsp;<a href="https://www.federalregister.gov/documents/2023/10/23/2023-23381/modernizing-h-1b-requirements-providing-flexibility-in-the-f-1-program-and-program-improvements">Oct. 23, 2023, Notice of Proposed Rulemaking (NPRM)</a>. Note that DHS intends to publish a separate final rule to address the remaining provisions contained in the NPRM.</p><p><strong>FY 2025 H-1B Cap Initial Registration Period</strong></p><p>The initial registration period for the&nbsp;FY&nbsp;2025 H-1B cap will open at noon Eastern on&nbsp;March 6, 2024, and run through noon&nbsp;Eastern on March 22, 2024. During this period, prospective petitioners and&nbsp;their representatives, if applicable, must use a&nbsp;USCIS online account to register each beneficiary electronically for&nbsp;the selection process and pay the associated registration&nbsp;fee for each&nbsp;beneficiary.&nbsp;&nbsp;&nbsp;</p><p>For more information on the H-1B Cap Season, visit&nbsp;<a href="https://www.uscis.gov/working-in-the-united-states/temporary-workers/h-1b-specialty-occupations-and-fashion-models/h-1b-cap-season" data-entity-type="node" data-entity-uuid="5dc946f3-d30f-4161-b391-dab2dc67fa99" data-entity-substitution="canonical">H-1B Cap Season</a> webpage.</p><p><strong>Organizational Accounts and Online Filing for Forms I-129 and I-907</strong></p><p>On Feb. 28, 2024, USCIS will launch the&nbsp;<a href="https://www.uscis.gov/newsroom/news-releases/uscis-to-launch-organizational-accounts-enabling-online-collaboration-and-submission-of-h-1b" data-entity-type="node" data-entity-uuid="93379f8e-86c2-458c-a9fa-e4703862c7c0" data-entity-substitution="canonical">previously announced</a> new organizational accounts in the USCIS online account that will allow multiple people within an organization and their legal representatives to collaborate on and prepare H-1B registrations, H-1B petitions, and any associated Form I-907.&nbsp;</p><p>Also on Feb. 28, USCIS will launch online filing of Form I-129 and associated Form I-907 for non-cap H-1B petitions. On April 1, USCIS will begin accepting online filing for H-1B cap petitions and associated Forms I-907 for petitioners whose registrations have been selected.</p><p>Petitioners will continue to have the option of filing a paper Form I-129 H-1B petition and any associated Form I-907 if they prefer. However, during the initial launch of organizational accounts, users will not be able to link paper-filed Forms I-129 and I-907 to their online accounts.</p><p>As a reminder,&nbsp;USCIS recently <a href="https://www.uscis.gov/newsroom/alerts/uscis-announces-inflation-adjustment-to-premium-processing-fees" data-entity-type="node" data-entity-uuid="88e169f0-78b0-44bc-9ed6-1ce517ea9bee" data-entity-substitution="canonical">announced</a> a <a href="https://www.federalregister.gov/documents/2023/12/28/2023-28529/adjustment-to-premium-processing-fees">final rule</a> that will increase the filing fee for Form I-907, to adjust for inflation, effective Feb. 26, 2024. If USCIS receives a Form I-907 postmarked on or after Feb. 26, 2024, with the incorrect filing fee, we will reject the Form I-907 and return the filing fee. For filings sent by commercial courier (such as UPS, FedEx, and DHL), the postmark date is the date reflected on the courier receipt.</p><p>For more information on USCIS and its programs, please visit <a href="http://www.uscis.gov/">uscis.gov</a>&nbsp;or follow USCIS on&nbsp;<a href="http://twitter.com/uscis">Twitter</a>,&nbsp;<a href="https://www.instagram.com/uscis">Instagram</a>,&nbsp;<a href="http://www.youtube.com/user/uscis">YouTube</a>,&nbsp;<a href="https://www.facebook.com/uscis/">Facebook</a>&nbsp;and&nbsp;<a href="https://www.linkedin.com/company/uscis">LinkedIn</a>.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The business of check cashing (188 pts)]]></title>
            <link>https://www.bitsaboutmoney.com/archive/the-business-of-check-cashing/</link>
            <guid>39197116</guid>
            <pubDate>Tue, 30 Jan 2024 22:56:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bitsaboutmoney.com/archive/the-business-of-check-cashing/">https://www.bitsaboutmoney.com/archive/the-business-of-check-cashing/</a>, See on <a href="https://news.ycombinator.com/item?id=39197116">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <p>Happy 2024! I had been hoping to have a year-in-review for 2023 ready by now, but a combination of illness and travel bushwacked me in January. So instead of that, we’ll go with regular programming for today and return to that later.</p><p>Brief housekeeping notes: one, if you like BAM, you’ll enjoy an <a href="https://conversationswithtyler.com/episodes/patrick-mckenzie/">interview I did with Tyler Cowen</a>. Two, I’m sketching out the year both for BAM and other professional commitments, and am shooting for the same 20-26 issues that I was shooting for in 2023. This year I do not plan on my family again immigrating to America, which crushed my productivity in summer and lead to not hitting that forecast in 2023. As always, if you have comments or concerns, the inbox is open.</p><h2 id="check-cashing">Check cashing</h2><p>One of the reasons I covered the <a href="https://www.bitsaboutmoney.com/archive/the-long-shadow-of-checks/">checks as a payment method</a> recently was to lay the groundwork for talking about some of the fascinating alternative financial world around them. In the main, this helps people at the socioeconomic margins turn <a href="https://www.bitsaboutmoney.com/archive/payroll-providers-power-respect/">payroll</a> and other checks into cash (or otherwise immediately spendable value) in return for a fee. This is <em>not</em> how you, reader, probably deal with checks, and the existence of this industry / product have been controversial for many years.</p><p>Hopefully you’ll soon understand why, and why it persists in existing and its customers persist in using it.</p><p>A note at the top: check cashing is distinct from payday loans, despite overlapping customer bases, overlapping retail presences, and the centrality of checks to both enterprises.</p><h2 id="an-oversimplified-explanation-of-check-presentment">An oversimplified explanation of check presentment</h2><p>In an ideal world I would have one essay already covering the nitty-gritty of check presentment but I don’t and so we will here do the handwavy version.</p><p>Pretend you are a banked individual, which in the U.S. context means that you have a checking account in your own name trivially available to you. You are handed a physical check. You would prefer to have money. What do you do?</p><p>You deposit it with your bank, naturally. This could be at the teller window, through the ATM, or (most likely if you’re reading an essay about financial infrastructure) through the “remote deposit capture” feature of your bank’s mobile app. You might not know it by that specialized name, and instead think “I use my iPhone to take a picture of the check then money shows up.”</p><p>Regardless of how you send the check to the bank, the next process is the same: the bank will make an electronic copy of the check, which is exactly the same legally as the check. This was made possible about twenty years ago by the <a href="https://www.ffiec.gov/exam/check21/check21foundationdoc.htm">Check 21 Act</a>. Your bank will then electronically communicate that copy to the bank the check is drawn on (i.e. the bank whose routing number is printed on the bottom of the check).</p><p>That bank will, generally speaking, pay your bank money on the next business day. I will be intentionally handwavy here as to how, since the miracle that is net settlement is not the focus of this essay. Just assume that money magically arrives tomorrow.</p><p>Now, if you’ve paid attention when cashing checks over your lifetime, you may notice some confusion here. It is highly likely that you’ve waited for longer than one business day to receive funds from a check before. It is also likely that many of you recall at times not waitingat all; you received either full or partial credit for the check the same day you deposited it. What is up with this discrepancy?</p><p>A full discussion of Regulation CC, the Expedited Funds Availability Act, and banks’ sliding scale of willingness to be accommodating will have to wait for another BAM. Instead, let’s focus on the most fundamental issue.</p><h2 id="depositing-a-check-requires-an-extension-of-credit">Depositing a check requires an extension of credit</h2><p>As we’ve previously discussed, all a payment ever has been is a message about the status of a debt with some level of certainty associated with it. A check is a specially formatted message. The “movement” of money tomorrow is another message. But neither of those messages encode absolute certainty that the payer is <em>certainly</em> discharging their debt to the payee.</p><p>If something goes wrong in this process—the overwhelmingly most likely one is that the payer doesn’t have the funds to cover the check (NSF, or “insufficient funds”), but the check being fraudulent or unauthorized is also possible—that wrongness may not be discovered before money “moves” to your bank. And so that payment can be recalled from your bank to the bank the check is drawn on. This will likely result in the bank attempting to recall the money from your account.</p><p>And so by presenting your check, which you <em>think</em> is substantially terminating a transaction, you are actually creating a <em>new credit extension</em> with your bank. They are extremely aware that you just asked them to advance you money, even if you are not aware that you did that. They already partially underwrote this extension of credit; that is why you were not shooed out of the building when you originally asked for a checking account.</p><p>And note that this credit relationship has two sources of risk. One is with the check <em>writer</em>: is that check going to “bounce” (be returned as NSF) after presentment? One is with the check <em>payee</em>: if the bank attempts to recover a bounced check from their customer, will that customer make the bank whole?</p><p>If you are banked in the United States, that means that a profit-maximizing institution looked at you and said “In expectation, almost all checks this person presents will be good, drawn legitimately on the accounts of individuals or firms who do not make a habit of bouncing checks. Of the tiny, tiny number of checks that this person deposits that will bounce, and honestly it will probably be zero over the lifetime of their account, we have high confidence that they will make us whole. They <em>have credit</em> here.”</p><p>There exist a variety of ways to be unbanked in the United States. One, which is socially awkward for advocates to take explicit notice of, is that a bank could look at a seeker of credit and say “Actually, in expectation, checks you present to us have a much-higher-than-baseline risk of bouncing. When they bounce, and our best estimate is you’ll bounce multiple times per year, our desired outcome is you make us whole and pay a modest penalty under our agreement. We assess that you present a material risk of not doing this. You might have gotten an A for 92% in school but if your checks are 92% likely to be good money that’s a hard no from us. We decline to extend you credit under this product. We may extend you credit in other fashions, if you ask. You’ll find that in those products credit costs a lot more than the cheap credit embedded in checking accounts, reflecting the elevated risk of doing business with you.”</p><p>Advocates at this point often call the banks racist, classist, and stupid.</p><p>Let’s pretend you asked decisionmakers in deposit franchises for their point of view here. They’d be happy to tell you. It would rhyme with this:</p><p>You know, we have been in this game for decades, and like to think we are pretty good at it. We did not <em>make up</em> that estimate of creditworthiness. We most definitely did not engage in illegal discriminatory practices, like inferring creditworthiness from zip code. We know that would be extremely probative data if we were allowed to use it, because we’re in the data and math business and good at our jobs, but egads. Can you imagine the fines we’d pay? The headlines? Compliance keeps a file to scare young analysts with. No, we paid a few dollars to get a report from ChexSystems, which said that <em>the literal same person</em> who wants us to extend credit ripped off the bank down the street for $450 a few months ago. If you were in consumer banking, and you’re not because we are having this discussion, you would recognize that as multiple years of the contribution margin of a checking account relationship. Do <em>you</em> want to extend them credit? Then <em>bon chance</em>. We decline.</p><p>That is certainly not the only pathway to being non-banked, but it is an extremely common one. Often, consumers self-select out because they try banking for a while and then repeatedly get assessed high fees which they do not feel are legitimate, such as fees for overdrafting their accounts. To bang a very old drum, the decision to move from everyone-pays-a-Netflix-subscription-for-banking to banking-is-free-except-we-assess-high-fees-if-you-screw-up created winners and losers. We called that one "<a href="https://www.bitsaboutmoney.com/archive/financial-innovation-is-happening/" rel="noreferrer">free checking</a>." Descriptively it subsidizes the middle class by using fees assessed stochastically to people in persistent economic precarity. In particular, young members of the middle class (college students and recent graduates in their least-well-off years) benefitted a lot.</p><p>So let's look at something that recent college grads very rarely encounter.</p><h2 id="how-cashing-a-check-works-if-you%E2%80%99re-not-banked">How cashing a check works if you’re not banked</h2><p>You begin with a physical check. You generally physically walk it into a local business, which in Chicago are most commonly “currency exchanges” but which can in principle be done in many businesses known by many names (much like e.g. Western Union transfers). You ask to cash it. You speak to a clerk with a high school education, who likely remembers you from previous interactions. The clerk asks you to endorse the check, a ritual we’ll return to in a moment. She swiftly pays you cash from a drawer and retains the physical check. She offers you a receipt, and you do with it exactly what you do with a receipt from McDonalds.&nbsp;</p><p>The cash does not match the value printed on the check. The fee you were charged is prominently disclosed on the receipt, on the wall, and in printed material you are passively offered but do not take, for the same reason that you’ve never walked home with a McDonalds menu.</p><p>That pricing grid looks something like <a href="https://woodstockinst.org/advocacy/new-illinois-currency-exchange-check-cashing-rates/">this</a>:</p>
<!--kg-card-begin: html-->
<table>
  <tbody><tr>
    <th>Check Type</th>
    <th>Fee Below $100</th>
    <th>Fee Above $100</th>
  </tr>
  <tr>
    <td>Public assistance</td>
    <td>1.50%</td>
    <td>1.50%</td>
  </tr>
  <tr>
    <td>Government check (e.g., EITC*)</td>
    <td>2.40% + $1</td>
    <td>2.33%</td>
  </tr>
  <tr>
    <td>Printed paycheck</td>
    <td>2.40% + $1</td>
    <td>2.33%</td>
  </tr>
  <tr>
    <td>Personal check</td>
    <td>2.45% + $1</td>
    <td>3.00%</td>
  </tr>
  <tr>
    <td>All other</td>
    <td>2.40% + $1</td>
    <td>2.40%</td>
  </tr>
</tbody></table>

<!--kg-card-end: html-->
<h2 id="a-brief-aside-about-endorsement">A brief aside about endorsement</h2><p>Apologies to non-Americans who are wondering whether they’ve wandered into Westeros, with clearly medieval payment methods plus a likelihood of being beset by monsters, but let me explain a traditional ritual of our people.</p><p>The reverse of a check contains a small area where you can “endorse” the check. This means signing it and optionally leaving the bank an instruction as to what to do with the check. This is established by a combination of law and ancient practice.</p><p>One common endorsement historically is that you can endorse a check to another person, i.e. instruct the bank to make payment to the person you nominate, not to you. This enabled many use cases back in the day. A family might have two people earning wages but only one with title to a bank account; the second could endorse their wages to the first. A business could endorse a payment made by a customer to the business’ owner or to an employee or to a supplier. A common endorsement was simply “pay to cash.” (Banks hate that one and mostly don’t offer it any more. You can probably predict why.)</p><p>The practice of why endorsing is why check cashing can exist as a business, because you can <em>endorse your check to the check casher</em>. As of that moment, by the magic that is the U.S. legal system, your payer no longer owes you money; they now owe the check casher money. The now-endorsed check instructs the check casher’s bank and the payer’s bank to cooperate to make this side agreement happen.</p><p>As long as we are on this tangent, have you ever written “For mobile deposit only at Your Bank Goes Here”? Wondered why? </p><p>This is to prevent an annoying fraud vector where someone takes a legitimate check and then deposits it roughly simultaneously at multiple banks. Each bank will come to the conclusion it is a legitimate check (because it is) paid to someone with an account with them (true as it goes). Then they will begin the process of crediting their customer. Only at some <em>later</em> point will it be discovered that the check was presented multiple times. If the  actor is good at being bad, they can use this to extract money from the victim banks. Asking you to endorse the check in the above fashion <em>spoils it for future fraudulent use</em> <em>at other banks.</em> And there, now you know why you are subjected to a minor annoyance.</p><p>This is also why the app/bank can’t do this for you. They need you to physically spoil the specimen that only you have and prove you did so (with a photo of the endorsement).</p><h2 id="many-people-hate-check-cashing-and-everything-about-it">Many people hate check cashing and everything about it</h2><p>If you are reading this, you probably are relatively wealthy, are almost certainly of high socioeconomic status, and quite plausibly have never paid one red cent for check cashing in your entire life.</p><p>But that check cashing business exists, basically entirely, to siphon a small amount of dollars off of thousands of relatively poor people. It can’t make the math work any other way. Every time you see a currency exchange when driving around town, you can be safe in the knowledge that there were thousands of poor people paying the vig last month and the owner expects most of them to pay the vig this month, too.</p><p>Most of the customers of that check business are not in a position where they can afford to be indifferent to $9. And yet the check cashing business will rake the first $9 out of their monthly public benefits payments. Or it will take their wages for the first hour of every pay period at McDonalds. Or it will insist that, when the homeowner whose lawn was mowed by an immigrant offers a $100 Christmas bonus, that Scrooge must get his $3 first.</p><p>Advocates hate this business model with a passion unmatched by ten thousand burning suns. They like to <a href="https://financialinclusionforall.org/wp-content/uploads/2016/03/Financial_Services.pdf">quote</a> statistics like “[t]he average unbanked worker in Illinois spends $574 a year to cash their payroll checks.” (I am not relaying this quote for its truth value.)</p><p>There exists a deep academic literature about the unbanked and underbanked, much of it written by scholars who are self-consciously advocates. They have the same degree of neutrality on the merits that historians of the Civil Rights movement have on Jim Crow. That is to say, their disdain oozes from the page.</p><p>Personally, I would not attempt to dissuade anyone from their aesthetic feelings with respect to this business model. That would not be a good use of anyone’s time.</p><p>Do I hate this business and everything about it? Eh, I hate <em>poverty</em>, certainly. Almost everything poverty touches will have terrible elements about it, because the definition of poverty is terribleness caused by scarcity. If you can’t find the terrible, you’ve either left poverty behind or you're not looking very hard.</p><p>And, not to put too fine a point on it, it’s really hard to expressively, passionately hate this business and not hate the young lady working in it, the decisions and life challenges of its customers, and similar. And if you hate one particular building in a poor neighborhood, and then start rigorously thinking about the liquor store, or the police station, or the supermarket, or the church, or the public school, or the home in the poor neighborhood, I think your mind will start going to some pretty dark places.</p><p>So maybe let’s move past the aesthetic revulsion, which you’re entirely welcome to, and just look at what is going on here.</p><h2 id="the-internal-logic-behind-that-pricing-grid">The internal logic behind that pricing grid</h2><p>There exist two sources of credit risk in cashing a check, as we covered earlier. The pricing grid <em>directly prices</em> credit risk for the payer of the check, via bucketing them. It is not the most discerning risk analysis ever conducted in the financial industry, because you need to be able to explain it to extremely unsophisticated customers and only barely more sophisticated staff.</p><p>The world’s financial system is predicated on the U.S. government being definitionally zero credit risk when denominated in dollars. Every other kind of debt in the world is defined in reference to a Treasury.</p><p><em>A portion</em> of the price of every cell in that pricing grid is credit risk. Just like the spread between a bond and a Treasury of the same duration is a reflection of marginal riskiness, the spread between personal checks and government checks is a reflection of “the credit risk of the types of people who most commonly write checks to poor people.”</p><p>As you can see, by simple subtraction, this spread is non-zero but low.</p><p>Now what causes the price to be so hard high for the reference risk? Well, Treasuries <em>certainly</em> pay out <em>to someone, </em>but not everyone in the world who says they own $1 million in Treasuries actually does. Government checks don't have credit risk <em>directly</em>, they have operational risk which becomes a credit risk. In the case where either the person cashing them isn't the person named on the check, or where the government later comes to the conclusion that it didn't <em>really</em> want to pay them, that money could (at some risk) be clawed back from the bank, and therefore from the check casher. </p><p>It is also useful to understand that the consumer of this service is not <em>solely</em> paying for credit risk. A consumer of hamburgers at McDonalds is not solely paying for <a href="https://youtu.be/aFSPhy2sFMM?si=53uARSA014qtYeOr&amp;t=130">processed meat product</a>. The physical storefront the transaction is conducted in pays commercial rent (in, given that this is a check cashing business, highly likely a low-rent area). The high school graduate who remembers you from last month, and who has many challenges of her own, wants a day’s wages for spending a day talking to poor people about money. Somewhere in the enterprise there exists a much more expensive professional who spent weeks of work writing up compliance procedures for a money services business, likely secured a license for the same, and then convinced a bank that it should accept the custom of one of the highest-risk legal businesses.</p><p>That bank does not cash the daily envelope of checks for free, either. It had a consequential commercial negotiation which took notice of the business’ risk profile, high operational costs associated with their custom, and the near certainty that they would be <em>very annoying</em> to work with. The bank ultimately quoted a price per check and, very likely, a minimum amount which would be assessed monthly.</p><p>How much? Eh, prices are prices. How much does a pound of potatoes cost? I don’t know. It depends on what kind of potato. It depends on where you live. It depends who you are buying the potato from. It depends an awful lot on whether you buy your potatoes by the pound or by the truckload or by the megaton. (Not an exaggeration if you are McDonald’s logistics system, right? Some check cashing businesses are owned by multi-state chains.)</p><p>But, as someone who has more professional experience with checks than with potatoes, if you twisted my arm I’d say “Indicatively, the bank charges 5 to 25 cents per check.”</p><h2 id="persistent-identities-as-a-kyc-possibility">Persistent identities as a KYC possibility</h2><p>So we mentioned that there are two types of credit risk here, and how the payer credit risk is explicitly priced. How is the <em>payee</em> credit risk priced?</p><p>It isn’t. The check casher assumes that, as a first approximation, if a check bounces, they are going to lose money. Any other result is a windfall. Absorbing these credit losses is about 20% of the total costs of their check cashing operation.</p><p>That probably strikes you as pretty surprising, but if you earn $6 gross on a $200 transaction, and one out of every 250 checks bounces, well there you go. 40 bps default rate on 230 bps of revenue of which ~200 bps goes right back out the door.</p><p>The main procedural control for this that check cashers have is persistent identities. Your bank relies on a version of this, too, except in banking it is spelled <a href="https://www.bitsaboutmoney.com/archive/kyc-and-aml-beyond-the-acronyms/">KYC</a> and is by regulation and practice excruciatingly formally documented. Many check cashing places will allow you to cash a check without having a government-issued ID, because many customers are from socioeconomic strata which routinely do not have a government-issued ID. Many check-cashing places will allow you to cash a check with a name which you are known by to the community but perhaps not what your teacher called out at roll call.</p><p>Some might take a picture of you the first time you do business with them. Some might simply rely on the social network and recollection of the young lady manning the cash register. Some will ask for and retain a copy of a government-issued ID or substitute paperwork, much like the DMV will. That could be a lease or utility bill or similar. Regardless, the purpose is the same: if you bounce a check, and you don’t pay it back, staff will be instructed that they don’t do business with this #<em>(#</em>%#($#)*$ anymore.</p><p>There are a spectrum of words that the staff and management could call you there, and none of them are phrased “defaulting customer” or appropriate for inclusion in this essay. <em>All</em> of them are, in fact, used at at least some establishments. As we’ve established, this is not a building in the part of town where people are ruthlessly socialized to not say really bad words about poor people. Compassion gets burned out of the owner and burned out of the clerk in basically the same ways that it gets burned out of everyone else in the neighborhood.</p><h2 id="a-brief-discussion-about-class-distinctions-in-america">A brief discussion about class distinctions in America</h2><p>One <em>very real</em> reason this type of business exists in the world is to be a firewall between social classes and the businesses that serve them. Check cashing establishments insulate banks, <em>which are indispensable for cashing checks</em>, from needing to talk to certain people.</p><p>A check cashing business is “alternative finance." It is alternative to the banking world of smartly dressed middle class employees, free coffee, and firm handshakes. </p><p>A check cashing clerk and a bank teller look to many to be similar jobs done by similar people and <em>crucially they are not</em>. Bank tellers <a href="https://www.bls.gov/ooh/office-and-administrative-support/tellers.htm" rel="noreferrer">do not make much money</a> but know they must present as middle class. They work in a built environment where surveillance is absolutely ubiquitous and where deviant behavior (like using certain prescribed words) will have one referred to an alternative court system for swift and certain punishment.</p><p>That is to say: bank tellers work for an American corporation with an HR department. And bank tellers, in their hearts <em>and in their actions</em>, internalize the class that they must, must, must present as. There are classes of people that the bank does not want to do business with. (Banks are, as we have frequently covered, not allowed to say this in as many words.) The tellers do not want to speak to them, either, and this disdain radiates from them as palpable waves.</p><p>The clerk at a check cashing business <em>is not</em> a bank teller. She does not disdain talking to poor people; being able to do that in such a way that <em>most</em> poor people end up liking her is her job. Don’t take my word for it; take the customers’. We have studied this industry extensively. We ran surveys. The customers keep saying things like “I like my local check cashing place because the girl behind the counter is kind and doesn’t judge me like those #%*(#%( at the bank.” You can present as being kind to almost all of your customers and be <em>obviously unemployable</em> as a bank teller.</p><p>You will deal with thousands of customers. If you use “kind girl behind the counter” language about the 0.01% most aggravating customer <em>once, </em>you will not be a bank teller tomorrow. So bank tellers basically never use those words, and instead can inflect “Can I help you, sir?” in a way which leaves <em>absolutely</em> no doubt as to how welcome the new arrival to the branch is.</p><p>Then the economists running the survey typically scratch their heads and try to squeeze that feedback into homo economicus’ model of the world.</p><p>Readers might be thinking I am unnecessarily besmirching the good name of the field of economics here here, and so I will recount a representative sentence from a <em>very good</em> journal article <em>verbatim</em>:</p><blockquote>To more effectively bring these unbanked individuals into the financial mainstream, it is essential for policymakers to recognize that these consumers have made these interdependent decisions in accordance with their marginal-cost-marginal-benefits calculations.</blockquote><p>That is a lens of looking at reality, sure, and if you share that lens, you are welcome at my poker table any time. My marginal-cost-marginal-benefits calculations suggest your confidence in inferring ground truth from partial data is misplaced.</p><p>(Now you shouldn’t expect from me the level of academic rigor associated with scholars at e.g. Harvard; on the Internet, we cite our sources. That quote was originally published by the Chicago Fed and then the Review of Economics and Statistics. Full cite <a href="http://www.jstor.org/stable/40042965">relegated</a> to JSTOR for those interested. And again, as the literature in this field goes, that is a really strong entry. A particularly interesting finding is the relationship between being married and using check cashing businesses, which surprised me.)</p><p>Classes aren’t monoliths, of course. Many people assume you’d clearly never visit a currency exchange if you have a checking account. In time, the literature actually learned to ask that question and found that, decisively, no, some banked people <em>do</em> happily pay to cash checks. This observation caused some confusion. I am confused why this fact is confusing; some people who are capable of cooking have also been known to go to McDonalds, even though McDonalds isn’t free and doesn’t taste like a burger at home. That is, of course, <em>one of the points of going to McDonalds</em>.</p><p>Anyhow, if you want to dive deeper into that topic, look how various groups/papers/etc delineate between unbanked and underbanked. It will frequently come down to “Underbanked means you’re not unbanked but you still <s>eat at McDonalds</s> consume alternative financial services.” See this <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC10623889/">representative example</a>.)</p><h2 id="check-cashing-on-phones">Check cashing on phones</h2><p>So if we’ve identified the costs associated with retail establishments as one reason why check cashing costs money, and that many unbanked or underbanked customers do not have happy human interactions with financial service providers, you might wonder if technology can successfully cash checks while being cheaper and less judgemental about one’s presentation of class.</p><p>Yes, it can.</p><p>As always, I’m not endorsing any particular provider here, but let me point you towards a couple of models.</p><p>In one, a pure-play company like Ingo Money has both a direct-to-consumer offering and some ability to whitelabel it. (A whitelabel arrangement means that some other firm does the work of attracting the customers and then uses Ingo’s technology stack, financial rails, licenses, or any subset of the above to provide the check cashing service. To the customer, this feels a lot like they're "just" using the partner the whole time.) Ingo lets you essentially do remote deposit capture but instead of the deposit being to a bank account and there being a hold period, deposit is to an alternative financial product (like e.g. a prepaid card) and the funds are released basically instantly.</p><p>Take a look at Ingo’s <a href="https://app.ingomoney.com/benefits-fees/">fees</a> and compare them to the representative fees for brick-and-mortar cash checking. For a $500 paycheck, it’s $5 versus $11.65 in favor of the app. This is the fintech dream; the delta is basically entirely “your costs are our margin.” Because the fintech nightmare is “our costs of customer acquisition explain why people still pay rent for commercial locations in high-traffic areas”, there is a loyalty program which gives steep discounts for repeated use.</p><p>And then there’s one decision which I just love aesthetically: if you’re willing to wait ten days, Ingo will discount your fee straight to zero. Why ten days? It is past the window where fraud discovery will result in the funds being clawed back plus  (ahem) a bit of annoyance tacked on as a product decision. </p><p>I expect very few of their customers take them up on that. Most McDonalds burgers are not consumed by people who can cook a burger at home. They lack that capability; understanding this is an important part of understanding their life and the role of McDonalds in it. But free check cashing being available now where it wasn’t before is a straight-up win for the customers and the world.</p><p>Another model is embedding the check cashing into a larger suite of services. Cash App is a notable standout here (and, IMHO, probably the most interesting financial product the tech industry has created for the un-/underbanked.) On the backend, Cash App has simply convinced a bank to have a wider risk envelope as part of the price for working with a client who represents a very large portfolio of customers. The most useful thing Cash App can convince those users to do, which it spends <em>substantial</em> effort on doing, is signing up for direct deposit to their Cash App. (Really, it is to the partner bank, but from the user’s perspective eh it shows up in Cash App and all their friends use Cash App and you could turn it into actual paper money so does it really matter what some bank in Nebraska thinks? Nobody there will ever talk to you or talk down to you, so no.)</p><p>This is <em>not</em>, by itself, a full solution to the headaches implicit in banking people who are above average risk. You can read <a href="https://www.theinformation.com/articles/tiny-banks-that-powered-cash-app-grew-like-crazy-then-the-feds-came-calling">elsewhere</a> about some of the implications.</p><p>There exist other models here, too, and other factors which are reducing need for this form of financial service. The <a href="https://www.bitsaboutmoney.com/archive/payroll-providers-power-respect/" rel="noreferrer">continued march</a> of direct deposit and earned wage access products keeps more of the wage pie in the pockets of workers, even those in diminished circumstances.</p><p>One useful thing the advocates (and others) accomplished over the last twenty years was convincing public benefits distributors to not solely use checks to distribute benefits. For example, "electronic benefit transfer" (EBT) replace the monthly check with a specialized variant of a pre-paid card which can be refilled. This <em>sometimes</em> results in the cost of distribution falling less on beneficiaries. <em>Sometimes</em>.</p><h2 id="what-do-you-want-me-to-write-about-next">What do you want me to write about next?</h2><p>The recent focus of checks has been a bit on the classical side of the financial industry and a bit depressing (see above). I’m eagerly accepting nominations for topics in 2024. Drop me an email or hit me up on Twitter (@patio11). As always, the writing calendar is driven by some combination of what people ask me about, what I find myself puzzling about on any given day, and what fills obvious holes in the Internet for the sort of people who’d read Bits about Money.</p>

        

        <div>
          <h2>Want more essays in your inbox?</h2>
          <p>I write about the intersection of tech and finance, approximately biweekly. It's free.</p>
                  </div>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google Announces Fourth Quarter and Fiscal Year 2023 Results [pdf] (128 pts)]]></title>
            <link>https://abc.xyz/assets/95/eb/9cef90184e09bac553796896c633/2023q4-alphabet-earnings-release.pdf</link>
            <guid>39195796</guid>
            <pubDate>Tue, 30 Jan 2024 21:04:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://abc.xyz/assets/95/eb/9cef90184e09bac553796896c633/2023q4-alphabet-earnings-release.pdf">https://abc.xyz/assets/95/eb/9cef90184e09bac553796896c633/2023q4-alphabet-earnings-release.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=39195796">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[.ai website registrations are a windfall for tiny Anguilla (290 pts)]]></title>
            <link>https://spectrum.ieee.org/ai-domains</link>
            <guid>39194477</guid>
            <pubDate>Tue, 30 Jan 2024 19:26:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://spectrum.ieee.org/ai-domains">https://spectrum.ieee.org/ai-domains</a>, See on <a href="https://news.ycombinator.com/item?id=39194477">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-headline="Why the AI Boom is a Windfall for Tiny Anguilla" data-elid="2666970260" data-post-url="https://spectrum.ieee.org/ai-domains" data-authors="Michael Koziol" data-page-title="Why the AI Boom is a Windfall for Tiny Anguilla - IEEE Spectrum"><p>The rising popularity of <a href="https://spectrum.ieee.org/topic/artificial-intelligence/">artificial intelligence</a> has impacted the entire world, including the tiny island of Anguilla. Located in the Caribbean, the country, home to about 15,000 people, has a unique and suddenly in-demand resource.</p><p>In the late 1980s, the Internet Assigned Numbers Authority (IANA) assigned countries and regions of geographic interest<a href="https://spectrum.ieee.org/the-most-remote-island-in-the-world-is-home-to-seals-seabirds-and-an-internet-toplevel-domain" target="_self"> their own two-letter domains</a>. Anguilla received .ai, a luck of the draw that is now paying dividends as the country registers website domains for AI companies. <em><a href="https://spectrum.ieee.org/">IEEE Spectrum</a></em>spoke with<a href="https://en.wikipedia.org/wiki/Vince_Cate" rel="noopener noreferrer" target="_blank"> Vince Cate</a>, who manages domain registrations for the Anguillan government, on how AI has had an impact on .ai.</p><div id="rebelltitem1" data-id="1" data-reload-ads="false" data-is-image="False" data-href="https://spectrum.ieee.org/ai-domains/vince-cate" data-basename="vince-cate" data-post-id="2666970260" data-published-at="1705436643" data-use-pagination="False"><h3 data-role="headline">
            
                Vince Cate
            
            
        </h3><p><a href="http://offshore.ai/vince/" rel="noopener noreferrer" target="_blank">Vince Cate</a> is a software developer and the founder of <a href="http://datahaven.net/" rel="noopener noreferrer" target="_blank">DataHaven.Net</a>, which handles sales of the .ai domain for the Anguillan government.</p></div><p><strong>How did you end up managing the .ai domain?</strong></p><p><strong>Vince Cate: </strong>I came to Anguilla in 1994. I started out doing an email business, because there wasn’t any email or Internet on this island. And I wanted to have a domain name<a href="http://offshore.ai/vince/" rel="noopener noreferrer" target="_blank"> that was .ai</a>. So I reached out to <a href="https://spectrum.ieee.org/computer-networking" target="_self">Jon Postel</a>—he was the one that was in charge of all these top-level domains. He said, there’s nobody running .ai, do you want to run .ai? And I said, “Okay.” That was really how it went!</p><p>At some point, I said, this shouldn’t be in my name, right? So I changed the [IANA] <a href="https://www.iana.org/domains/root/db/ai.html" rel="noopener noreferrer" target="_blank">admin contact</a> to be the government of Anguilla. Somebody else saw that and convinced the government to give it to them, so it went to this company in Taiwan. After a couple of years, they disappeared. They didn’t answer emails or phone calls or anything. And we got it back. A number of small countries got really messed up by losing their domain names, and I would say we kind of came close.</p><p><strong>How did .ai open up for use outside of Anguilla?</strong></p><p><strong>Cate: </strong>This other company came and convinced the government that they could make a lot of money on it. They had this idea, that in Chinese “ài” means love. They thought they<a href="https://en.wikipedia.org/wiki/Vanity_domain" rel="noopener noreferrer" target="_blank"> could market it</a> to [Chinese websites]. At the time, I thought that artificial intelligence was a much better market.</p><p><strong>Has the surge in AI interest been reflected in the number of .ai domains being registered?</strong></p><p><strong>Cate: </strong>November 30 [2022] is when<a href="https://spectrum.ieee.org/chatbot-chatgpt-interview" target="_self"> ChatGPT came out</a>. In the five months after that, our sales went up by almost a factor of four. Then they sort of leveled off at this new, much higher level. It’s just wild—we’re already like a third of the government’s budget.</p><p><strong>Tuvalu is perhaps the first and most well-known example of a country<a href="https://www.washingtonpost.com/video-games/2019/12/23/tuvalu-is-tiny-island-nation-people-its-cashing-thanks-twitch/" rel="noopener noreferrer" target="_blank"> opening up its top-level domain (</a>.tv). Is Anguilla approaching this opportunity differently than that situation?</strong></p><p><strong>Cate: </strong>Tuvalu gave [domain registrations] to a big foreign company, and locked themselves in for 50 years. And we’re doing it locally. So the government is getting almost all the money. And that’s not what was happening in Tuvalu, right? Most of the money was not going to the country.</p><p><em>[Editor’s note: Tuvalu has</em><a href="https://theworld.org/stories/2022-01-24/tuvalu-cashes-its-coveted-internet-domain-name-amid-rise-online-streaming" rel="noopener noreferrer" target="_blank"><em>recently renegotiated</em></a><em> and is leasing its domain name for more money, but an outside company still manages domain registrations.]</em></p><p><strong>How much money is being brought in by .ai registrations, and how is that affecting Anguilla?</strong></p><p><strong>Cate:</strong> It’s about US $3 million per month. We do the domains for two years, and so all of our money now is new domains. And if we just stay at this level of $3 million per month for new domains, when the renewals kick in a year from now, we’ll just jump to $6 million per month.</p><p>And it’s just part of the general budget—the government can use it however they want. But I’ve noticed that they’ve paid down some of their debt, which is pretty unusual. They’ve eliminated property taxes on residential buildings. So we’re doing well, I would say.</p><p><em>This article appears in the February 2024 print issue as “5 Questions for Vince Cate.”</em><br></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tear up unused parking lots, plant trees (293 pts)]]></title>
            <link>https://danrodricks.com/2024/01/29/tear-up-unused-parking-lots-plant-trees/</link>
            <guid>39194297</guid>
            <pubDate>Tue, 30 Jan 2024 19:13:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://danrodricks.com/2024/01/29/tear-up-unused-parking-lots-plant-trees/">https://danrodricks.com/2024/01/29/tear-up-unused-parking-lots-plant-trees/</a>, See on <a href="https://news.ycombinator.com/item?id=39194297">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">

		<p><img width="612" height="459" src="https://danrodrickscom.files.wordpress.com/2024/01/empty.jpg?w=612" alt="" decoding="async" srcset="https://danrodrickscom.files.wordpress.com/2024/01/empty.jpg 612w, https://danrodrickscom.files.wordpress.com/2024/01/empty.jpg?w=150 150w, https://danrodrickscom.files.wordpress.com/2024/01/empty.jpg?w=300 300w" sizes="(max-width: 612px) 100vw, 612px" data-attachment-id="11551" data-permalink="https://danrodricks.com/2024/01/29/tear-up-unused-parking-lots-plant-trees/empty/" data-orig-file="https://danrodrickscom.files.wordpress.com/2024/01/empty.jpg" data-orig-size="612,459" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;Getty Images&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;Orono, Maine, USA - September 23, 2018: Large, empty parking lot on University of Maine campus on autumn weekend&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="empty" data-image-description="" data-image-caption="<p>Orono, Maine, USA – September 23, 2018: Large, empty parking lot on University of Maine campus on autumn weekend</p>
" data-medium-file="https://danrodrickscom.files.wordpress.com/2024/01/empty.jpg?w=300" data-large-file="https://danrodrickscom.files.wordpress.com/2024/01/empty.jpg?w=612">		</p>

		<!-- .entry-meta -->

	<div id="primary">
		<main id="main" role="main">

		
<article id="post-11535">
	<div>
		
		<div>
			<div>
<figure><img data-attachment-id="11549" data-permalink="https://danrodricks.com/2024/01/29/tear-up-unused-parking-lots-plant-trees/staplesparking-1/" data-orig-file="https://danrodrickscom.files.wordpress.com/2024/01/staplesparking-1.jpg" data-orig-size="3080,2319" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="staplesparking-1" data-image-description="" data-image-caption="" data-medium-file="https://danrodrickscom.files.wordpress.com/2024/01/staplesparking-1.jpg?w=300" data-large-file="https://danrodrickscom.files.wordpress.com/2024/01/staplesparking-1.jpg?w=712" width="1024" height="770" src="https://danrodrickscom.files.wordpress.com/2024/01/staplesparking-1.jpg?w=1024" alt="" srcset="https://danrodrickscom.files.wordpress.com/2024/01/staplesparking-1.jpg?w=1024 1024w, https://danrodrickscom.files.wordpress.com/2024/01/staplesparking-1.jpg?w=2045 2045w, https://danrodrickscom.files.wordpress.com/2024/01/staplesparking-1.jpg?w=150 150w, https://danrodrickscom.files.wordpress.com/2024/01/staplesparking-1.jpg?w=300 300w, https://danrodrickscom.files.wordpress.com/2024/01/staplesparking-1.jpg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></div>


<p>The photo to the right is of the <strong>Staples parking lot behind the York Road store</strong> in Baltimore, a classic example of a place that needs to be turned back to urban forest — or developed into a much-needed something else. I can’t think of a time when, during fairly frequent trips to this store, I saw more than a dozen vehicles in the long, large lot. And, if you keep it top-of-mind as you travel, you see this sort of thing in many urban and suburban places. As I just suggested in <a href="https://www.baltimoresun.com/2024/01/26/dan-rodricks-taylor-swift/"><strong>my Sun</strong></a> <a href="https://www.baltimoresun.com/2024/01/26/dan-rodricks-taylor-swift/"><strong>column</strong></a>, Baltimore and the surrounding counties should conduct a “useless parking lot inventory” to identify all impervious surfaces, public or private, that are either no longer needed or too large for their current use. Retail shopping centers in decline, abandoned industrial buildings — remove the unnecessary asphalt and plant some trees.&nbsp;Or do something constructive with this unused, paved space — new housing, a solar energy field.</p>



<p>Part of this is a result of poor planning and ordinance-making that long ago overcompensated for the wide use of automobiles. Henry Grabar, a&nbsp;<a href="https://slate.com/author/henry-grabar">staff writer at Slate</a>, mentions this in a book published last year, <a href="https://bookshop.org/p/books/paved-paradise-how-parking-explains-the-world-henry-grabar/18727296?gclid=Cj0KCQjw3a2iBhCFARIsAD4jQB2l7xteDcNE8TNeMrWKJX3v-O9ve8ptpT35hMcnccBLCK9GKj8KJksaAgqNEALw_wcB"><em>Paved Paradise: How Parking Explains the World</em></a>. ”On a national level, certainly, there’s far more parking than we need,” Grabar said in <strong><a href="https://www.vox.com/23712664/parking-lots-urban-planning-cities-housing">an interview</a></strong>. “There are at least&nbsp;<a href="https://www.vox.com/a/new-economy-future/cars-cities-technologies">four parking spaces for every car</a>, meaning that the parking stock is no more than 25 percent full at any given time. And some of those cars are moving at any given time, so parking may be a good deal emptier than that.”</p>



<p>I don’t know that anyone besides Grabar is even thinking about this, because parking lots are so deeply embedded in the American psyche, in the environment we take for granted. But certain changes to how we live and work — the demise of malls and the decline of brick-and-mortar retail, the advance of telecommuting in the wake of the pandemic — must have diminished the need for all that asphalt. And all that asphalt effects both <strong><a href="https://www.wbur.org/news/2022/10/24/northeast-boston-asphalt-pavement-cooling-strategies">human health </a></strong>and the <strong><a href="https://www.reuters.com/graphics/CLIMATE-CHANGE/URBAN-HEAT/zgpormdkevd/">health of the planet</a></strong>.</p>
		</div><!-- .entry-content -->

			<!-- .entry-footer -->
			<div>
				<p><img alt="" src="https://2.gravatar.com/avatar/e882f330e1cd36a3e88153173a47e644f40a956a01616198b53f23c1cd6cc49f?s=60&amp;d=identicon&amp;r=G" srcset="https://2.gravatar.com/avatar/e882f330e1cd36a3e88153173a47e644f40a956a01616198b53f23c1cd6cc49f?s=60&amp;d=identicon&amp;r=G 1x, https://2.gravatar.com/avatar/e882f330e1cd36a3e88153173a47e644f40a956a01616198b53f23c1cd6cc49f?s=90&amp;d=identicon&amp;r=G 1.5x, https://2.gravatar.com/avatar/e882f330e1cd36a3e88153173a47e644f40a956a01616198b53f23c1cd6cc49f?s=120&amp;d=identicon&amp;r=G 2x, https://2.gravatar.com/avatar/e882f330e1cd36a3e88153173a47e644f40a956a01616198b53f23c1cd6cc49f?s=180&amp;d=identicon&amp;r=G 3x, https://2.gravatar.com/avatar/e882f330e1cd36a3e88153173a47e644f40a956a01616198b53f23c1cd6cc49f?s=240&amp;d=identicon&amp;r=G 4x" height="60" width="60" loading="lazy" decoding="async">		</p><!-- .author-avatar -->
		
		<p>
			<h2>
				Published by <span>Dan Rodricks</span>			</h2>
		</p><!-- .author-heading -->

		<p>
			Dan Rodricks is a long-time columnist for The Baltimore Sun, winner of numerous national and regional journalism awards, a radio and TV personality, podcaster and fly angler. His narrative memoir, "Father's Day Creek," was published in May 2019 by Apprentice House at Loyola University Maryland.			<a href="https://danrodricks.com/author/danieljohnrodricks/" rel="author">
				View all posts by Dan Rodricks			</a>
		</p><!-- .author-bio -->
	</div><!-- .entry-auhtor -->
		</div> <!-- .entry-body -->
</article><!-- #post-## -->

<!-- #comments -->

	<nav aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
		</main>
	</div>



	</div></div>]]></description>
        </item>
    </channel>
</rss>