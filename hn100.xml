<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Thu, 29 Aug 2024 17:30:02 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[New 2GB Raspberry Pi 5 has 33% smaller die, 30% idle power savings (136 pts)]]></title>
            <link>https://www.jeffgeerling.com/blog/2024/new-2gb-pi-5-has-33-smaller-die-30-idle-power-savings</link>
            <guid>41392142</guid>
            <pubDate>Thu, 29 Aug 2024 15:54:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.jeffgeerling.com/blog/2024/new-2gb-pi-5-has-33-smaller-die-30-idle-power-savings">https://www.jeffgeerling.com/blog/2024/new-2gb-pi-5-has-33-smaller-die-30-idle-power-savings</a>, See on <a href="https://news.ycombinator.com/item?id=41392142">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Raspberry Pi <a href="https://www.raspberrypi.com/news/2gb-raspberry-pi-5-on-sale-now-at-50/">launched the 2 gig Pi 5 for $50</a>, and besides half the RAM and a lower price, it has a new stepping of the main BCM2712 chip.</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi-5-C1-vs-D0-Stepping.jpg" alt="BCM2712 C1 vs D0 Stepping chips"></p>

<p>This is the BCM2712 <em>D0</em> stepping. Older Pi 5's shipped with a <em>C1</em>. In <a href="https://www.raspberrypi.com/news/2gb-raspberry-pi-5-on-sale-now-at-50/">their blog post</a>, they said:</p>

<blockquote>
  <p>The new D0 stepping strips away all that unneeded functionality, leaving only the bits we need.</p>
</blockquote>

<p>Steppings are basically chip revisions where they don't change functionality, and usually just fix bugs, or tweak the layout. But even tiny design changes could have unintended consequences. I wanted to see exactly what happens when I push one of these new chips to the limits.</p>

<p>First, I wanted a performance baseline, so I ran Geekbench with the latest Pi OS and all the defaults.</p>

<p>Except... apparently Geekbench likes more than 2 gigs of RAM. I couldn't get past the multicore Photo Filter test, since the OS kept running outta memory. A lotta software nowadays is built for an <em>absolute minimum</em> of 4 or 8 gigs. So keep that in mind when you're buying a Pi.</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi5-geekbench6-oom.jpeg" alt="Geekbench 6 kernel Linux OOM killer"></p>

<p>Without adding swap, Geekbench was out, but I still wanted to get some raw numbers, so I ran <code>sysbench</code>. It's lighter weight, it runs with limited memory, and it still gives me CPU numbers to compare.</p>

<p>Using a combination of <a href="https://amzn.to/4e2SRIv">this 10W peltier cooler</a> and the bottom heatsink from an <a href="https://www.digikey.com/en/products/detail/edatec/ED-PI5CASE-OB/21769666">EDAtec fanless case</a>, I ran through a number of overclock scenarios:</p>

<table>
<thead>
<tr>
  <th>Clock Speed (MHz)</th>
  <th>sysbench result</th>
</tr>
</thead>
<tbody>
<tr>
  <td>2400</td>
  <td>4155</td>
</tr>
<tr>
  <td>3000</td>
  <td>5175</td>
</tr>
<tr>
  <td>3100</td>
  <td>5315</td>
</tr>
<tr>
  <td>3200</td>
  <td>5505</td>
</tr>
<tr>
  <td>3300</td>
  <td>5715</td>
</tr>
<tr>
  <td>3400</td>
  <td>5804</td>
</tr>
<tr>
  <td>3500</td>
  <td>6068</td>
</tr>
</tbody>
</table>

<blockquote>
  <p>I ran the command <code>sysbench --test=cpu --cpu-max-prime=20000 --num-threads=4 run</code>.</p>
</blockquote>

<p>At 3.6 GHz the Pi wouldn't boot—there were always memory errors and it would completely freeze. At 3.5 GHz, there were still some stability issues, and I couldn't get the Pi to reboot cleanly.</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi-5-heatsink-peltier.jpeg" alt="Pi 5 heatsink - Peltier cooling"></p>

<p>For any speeds above 3.1 GHz, I also used my <a href="https://github.com/geerlingguy/pi-overvolt">pi-overvolt</a> hack, which I cover more in depth in my blog post <a href="https://www.jeffgeerling.com/blog/2024/hacking-pi-firmware-get-fastest-overclock">Hacking Pi firmware to get the fastest overclock</a>.</p>

<p>There's still a hard limit of 1.1V from the PMIC, so besides splicing in higher voltages direct into the SoC, the only other hardware-level modification I hadn't tried was delidding the Pi's processor.</p>

<p><em>Theoretically</em>, this would allow the Peltier cooler to pull heat off the silicon even faster.</p>

<h2>Delidding</h2>

<p>But there was another reason I wanted to delid a 2 gig Pi 5. Raspberry Pi mentioned in their blog post the D0 stepping was simpler and cheaper to make, since they removed 'dark silicon'. That just means there were portions of the BCM2712 that Broadcom put in but Raspberry Pi never used, <a href="https://forums.raspberrypi.com/viewtopic.php?p=2247912#p2247832">like the built-in Ethernet controller</a>. Raspberry Pi built their own Ethernet into the RP1, so they didn't use the controller in the main SoC.</p>

<p>What this means for the D0 is the actual CPU die is smaller. A smaller die fits more chips on a single wafer, meaning individual chips cost less, assuming chip production yields are the same.</p>

<p>I already have a delidded C1 chip from back <a href="https://www.jeffgeerling.com/blog/2024/die-shots-and-transistor-level-debugging-on-raspberry-pi-5">when I worked with John McMaster and Kleindiek on my Pi 5 silicon deep-dive</a>, so I just need to delid the D0 chip.</p>

<p>I placed the 2 GB Pi 5 on my workbench, and worked at the corners with a razor blade:</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi-5-heatspreader-delidding-razor-blade.jpeg" alt="Pi 5 delid heat spreader with razor knife blade"></p>

<p>The heat spreader popped off, and I took some measurements, comparing the C1 to the D0 stepping:</p>

<table>
<thead>
<tr>
  <th>Stepping</th>
  <th>Width</th>
  <th>Height</th>
  <th>Die area</th>
</tr>
</thead>
<tbody>
<tr>
  <td>BCM2712 D0</td>
  <td>6.30mm</td>
  <td>5.98mm</td>
  <td>37.674mm<sup>2</sup></td>
</tr>
<tr>
  <td>BCM2712 C1</td>
  <td>6.47mm</td>
  <td>8.63mm</td>
  <td>55.836mm<sup>2</sup></td>
</tr>
</tbody>
</table>

<p>The D0 is 32.5% smaller than the older version, which would definitely bring down the price per chip, assuming the same yield on a given silicon wafer. It seems they're still using the 16nm process node, so that's a good chunk of 'dark silicon' removed!</p>

<h2>Direct Die Cooling</h2>

<p>I powered up the Pi, with the new direct-die cooling arrangement, but still had stability issues at 3.6 GHz. Maybe even a little more at 3.5, it was hard to tell.</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/bcm2712-bare-die-cooling.jpeg" alt="BCM2712 bare die running with no cooling"></p>

<p>Just for fun, I pulled off the cooler entirely, and let the Pi run with just the die exposed to the air. It was happy running like this, even running sysbench at 2.8 GHz for 10 seconds without throttling.</p>

<p>So could you run a Pi completely naked? Sure, but the heat spreader does a good job getting more heat off the whole package, so I'd just leave it on.</p>

<p>My takeaway is the Pi's 16 nanometer chip seems to max out around 3.5 Gigahertz.</p>

<h2>Thermals and Efficiency - The Goldilocks Pi</h2>

<p>The other big question though, is whether the smaller design is any better for efficiency or thermals.</p>

<p>CNX Software did some testing and <a href="https://www.cnx-software.com/2024/08/27/comparison-of-raspberry-pi-5-with-2gb-and-8gb-ram-hardware-benchmarks-and-power-consumption/">published a chart</a>, showing a significant difference, 2.7W to 3.5W, for idle power consumption.</p>

<p>I haven't done <em>exhaustive</em> testing, but I did run through my <a href="https://gist.github.com/geerlingguy/91d4736afe9321cbfc1062165188dda4">stress benchmarks</a>, monitoring power and heat. I ran it on all the Pi 5 models, with identical test parameters. I have more <a href="https://github.com/geerlingguy/pi-overvolt/issues/4">in this GitHub issue</a>, but this chart sums it up:</p>

<table>
<thead>
<tr>
  <th></th>
  <th>Pi 5 2GB D0</th>
  <th>Pi 5 4GB C1</th>
  <th>4GB Delta</th>
  <th>Pi 5 8GB C1</th>
  <th>8GB Delta</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Idle power</td>
  <td>2.4W</td>
  <td>3.3W</td>
  <td><strong>0.9W (+32%)</strong></td>
  <td>3.2W</td>
  <td><strong>0.8W (+29%)</strong></td>
</tr>
<tr>
  <td>Idle temp</td>
  <td>30°C</td>
  <td>32°C</td>
  <td><strong>2°C (+6%)</strong></td>
  <td>32°C</td>
  <td><strong>2°C (+6%)</strong></td>
</tr>
<tr>
  <td>stress-ng power</td>
  <td>8.9W</td>
  <td>9.8W</td>
  <td><strong>0.9W (+10%)</strong></td>
  <td>9.8W</td>
  <td><strong>0.9W (+10%)</strong></td>
</tr>
<tr>
  <td>stress-ng temp</td>
  <td>59°C</td>
  <td>63°C</td>
  <td><strong>4°C (+7%)</strong></td>
  <td>64°C</td>
  <td><strong>5°C (+8%)</strong></td>
</tr>
</tbody>
</table>

<p>For idle power draw, the improvement almost mirrors the chip size reduction. The chip is 33% smaller, and the idle power draw is almost that much better.</p>

<p>And here are the thermals for my test runs, for completeness:</p>

<p><img width="700" height="auto" src="https://www.jeffgeerling.com/sites/default/files/images/pi-5-c1-vs-d0-thermals.jpg" alt="Pi 5 C1 vs D0 stepping - thermals"></p>

<p>Some of the power savings could be chalked up to less RAM, because more RAM requires more power. But that doesn't explain all the results. Thomas Kaiser <a href="https://www.cnx-software.com/2024/08/27/comparison-of-raspberry-pi-5-with-2gb-and-8gb-ram-hardware-benchmarks-and-power-consumption/#comment-620747">also found the OPP tables are different with the new chip</a>. The 2 gig model doesn't need as much voltage to hit certain clocks, like it uses 805 mV at 2.1 GHz versus 850 mV for the 8 gig model.</p>

<p>As a final efficiency test, I ran my <a href="https://github.com/geerlingguy/top500-benchmark/issues/40">top500 HPL benchmark on the 2 gig Pi 5</a>. HPL is a memory-intense benchmark, and because the 2 GB model only has 2 GB of RAM, the overall efficiency for this test was worse, coming in at <strong>2.07 Gflops/W</strong>. The 8 GB Pi 5 gets <strong>2.75 Gflops/W</strong>.</p>

<p>For now, the biggest difference between the 2, 4, and 8 GB PI 5s for <em>most</em> people would still be having more RAM. If you know you can run your apps in 2 GB, this is a great little Pi for that. If you can't, then I think Raspberry Pi set up the 4 GB Pi 5 as the 'goldilocks': Not too expensive, with just enough RAM for most uses.</p>

<h2>Conclusion</h2>

<p>So is it worth stepping down to a 2 GB Pi 5 just to get the simpler D0 chip? No. But is it cool to have a cheaper 2 gig option exist? Yes. Just make sure you have a use case for it that doesn't need a ton of RAM.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bypassing airport security via SQL injection (165 pts)]]></title>
            <link>https://ian.sh/tsa</link>
            <guid>41392128</guid>
            <pubDate>Thu, 29 Aug 2024 15:53:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ian.sh/tsa">https://ian.sh/tsa</a>, See on <a href="https://news.ycombinator.com/item?id=41392128">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="block-tsa"><span id="cb2544b620ab4adb82692781483173f2"></span><h2 id="block-cb2544b620ab4adb82692781483173f2">Introduction</h2><p id="block-5110571d9c504c6c81cc9b24098d2f01">Like many, <a href="https://twitter.com/samwcyo" target="_blank" rel="noopener noreferrer">Sam Curry</a> and I spend a lot of time waiting in airport security lines. If you do this enough, you might sometimes see a special lane at airport security called <strong>Known Crewmember</strong> (KCM). KCM is a TSA program that allows pilots and flight attendants to bypass security screening, even when flying on domestic personal trips.</p><p id="block-15290d09e5c14891aa7e5a90578f1e42">The KCM process is fairly simple: the employee uses the dedicated lane and presents their KCM barcode or provides the TSA agent their employee number and airline. <a href="https://www.apfa.org/wp-content/uploads/2019/10/KCM-Program-Changes_OCT19.pdf" target="_blank" rel="noopener noreferrer">Various forms of ID</a> need to be presented while the TSA agent’s laptop verifies the employment status with the airline. If successful, the employee can access the sterile area without any screening at all. </p><p id="block-5fb348f7f51f4b228e79509e86ed0bcd">A similar system also exists for cockpit access, called the <strong>Cockpit Access Security System</strong> (CASS). Most aircraft have at least one jumpseat inside the cockpit sitting behind the flying pilots. When pilots need to commute or travel, it is not always possible for them to occupy a revenue seat, so a jumpseat can be used instead. CASS allows the gate agent of a flight to verify that the jumpseater is an authorized pilot. The gate agent can then inform the crew of the flight that the jumpseater was authenticated by CASS.</p><p id="block-b09c8233b01f4d6992aa6c223c6c4126">The employment status check is the most critical component of these processes. If the individual doesn’t currently work for an airline, they have not had a background check and should not be permitted to bypass security screening or access the cockpit. This process is also responsible for returning the photo of the crewmember to ensure the right person is being authorized for access. So how does this work, when every airline presumably uses a different system to store their employee information? That is what we were wondering, and where it gets interesting…</p><span id="0f91f0757e014a77ba9b3e3fde656baf"></span><h2 id="block-0f91f0757e014a77ba9b3e3fde656baf">ARINC </h2><p id="block-5c8319d635fd442da648f5e6ad7d14e7"><a href="https://en.wikipedia.org/wiki/ARINC" target="_blank" rel="noopener noreferrer">ARINC</a> (a subsidiary of Collins Aerospace) appears to be contracted by the TSA to operate the Known Crewmember system. ARINC operates a few central components, including an online website for pilots and flight attendants to check their KCM status, and an API to route authorization requests between different airlines. Each airline appears to operate their own authorization system to participate in KCM and CASS, and it interacts with the “hub” of ARINC.</p><p id="block-aad1266bbba04920bafe0731766f8582">The TSA and airlines can send requests such as <code>CockpitAccessRequest</code> and <code>CrewVerificationRequest</code> to ARINC, which then routes it to the appropriate airline’s system and receives the response. There are <a href="https://www.knowncrewmember.org/airlines/" target="_blank" rel="noopener noreferrer">77 airlines</a> currently participating in KCM. While larger airlines have likely built their own system, how do smaller airlines respond to these requests to participate in KCM or CASS?</p><span id="99a6c236791b49c1b92441fbfa50ffcb"></span><h2 id="block-99a6c236791b49c1b92441fbfa50ffcb">FlyCASS.com</h2><p id="block-6a2f9ee861344bb8837f1d231dba24c6">In our search for vendors that actually run the authorization systems, we found a site called <a href="https://www.flycass.com/" target="_blank" rel="noopener noreferrer">FlyCASS</a> which pitches small airlines a web-based interface to CASS. Intrigued, we noticed every airline had its own login page, such as Air Transport International (8C) being available at <code>/ati</code>. With only a login page exposed, we thought we had hit a dead end.</p><p id="block-d01c0c07f9524aedbe9e0ef68994c32d">Just to be sure though, we tried a single quote in the username as a SQL injection test, and immediately received a MySQL error:</p><div id="block-fd86e37760634f738707b576d7576670"><p><img alt="Uh oh." loading="lazy" width="3373" height="466.00000000000006" decoding="async" data-nimg="1" sizes="(max-width: 546px) 100vw, 100vw" srcset="https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/68274892-b9e5-485b-a7d5-b05ddfb57518/Untitled/w=640,quality=90,fit=scale-down 640w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/68274892-b9e5-485b-a7d5-b05ddfb57518/Untitled/w=750,quality=90,fit=scale-down 750w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/68274892-b9e5-485b-a7d5-b05ddfb57518/Untitled/w=828,quality=90,fit=scale-down 828w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/68274892-b9e5-485b-a7d5-b05ddfb57518/Untitled/w=1080,quality=90,fit=scale-down 1080w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/68274892-b9e5-485b-a7d5-b05ddfb57518/Untitled/w=1200,quality=90,fit=scale-down 1200w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/68274892-b9e5-485b-a7d5-b05ddfb57518/Untitled/w=1920,quality=90,fit=scale-down 1920w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/68274892-b9e5-485b-a7d5-b05ddfb57518/Untitled/w=2048,quality=90,fit=scale-down 2048w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/68274892-b9e5-485b-a7d5-b05ddfb57518/Untitled/w=3840,quality=90,fit=scale-down 3840w" src="https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/68274892-b9e5-485b-a7d5-b05ddfb57518/Untitled/w=3840,quality=90,fit=scale-down"></p><figcaption>Uh oh.</figcaption></div><p id="block-b0f0b0ec3a614dd8a3bbd441f8d5decd">This was a very bad sign, as it seemed the username was directly interpolated into the login SQL query. Sure enough, we had discovered SQL injection and were able to use sqlmap to confirm the issue. Using the username of <code>' or '1'='1</code> and password of <code>') OR MD5('1')=MD5('1</code>, we were able to login to FlyCASS as an administrator of Air Transport International!</p><span id="8b86c8aaab6f4f868314459db97a6cec"></span><h2 id="block-8b86c8aaab6f4f868314459db97a6cec">KCM and CASS Admin</h2><p id="block-e00dfaf85c19481cbadc0a9c5a907f01">It turns out that FlyCASS also operates both KCM and CASS for its participating airlines. Now that we are an administrator of Air Transport International, we are able to manage the list of pilots and flight attendants associated with them. Surprisingly, there is <strong>no further check or authentication</strong> to add a new employee to the airline. As the administrator of the airline, we were able to add anyone as an authorized user for KCM and CASS.</p><div id="block-d600d9cf5df1433498ff796d27907a00"><p><img alt="image" loading="lazy" width="3620" height="1329" decoding="async" data-nimg="1" sizes="(max-width: 546px) 100vw, 100vw" srcset="https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/365eaded-0e61-4b63-ae2b-e6fbe38e6844/Untitled/w=640,quality=90,fit=scale-down 640w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/365eaded-0e61-4b63-ae2b-e6fbe38e6844/Untitled/w=750,quality=90,fit=scale-down 750w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/365eaded-0e61-4b63-ae2b-e6fbe38e6844/Untitled/w=828,quality=90,fit=scale-down 828w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/365eaded-0e61-4b63-ae2b-e6fbe38e6844/Untitled/w=1080,quality=90,fit=scale-down 1080w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/365eaded-0e61-4b63-ae2b-e6fbe38e6844/Untitled/w=1200,quality=90,fit=scale-down 1200w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/365eaded-0e61-4b63-ae2b-e6fbe38e6844/Untitled/w=1920,quality=90,fit=scale-down 1920w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/365eaded-0e61-4b63-ae2b-e6fbe38e6844/Untitled/w=2048,quality=90,fit=scale-down 2048w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/365eaded-0e61-4b63-ae2b-e6fbe38e6844/Untitled/w=3840,quality=90,fit=scale-down 3840w" src="https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/365eaded-0e61-4b63-ae2b-e6fbe38e6844/Untitled/w=3840,quality=90,fit=scale-down"></p><figcaption></figcaption></div><p id="block-942390e7aeb34afdb0601499a03dfb75">To test that it was possible to add new employees, we created an employee named <code>Test TestOnly</code> with a test photo of our choice and authorized it for KCM and CASS access. We then used the Query features to check if our new employee was authorized. Unfortunately, <strong>our test user was now approved to use both KCM and CASS</strong>:</p><div id="block-8ec8b06f285f48d696a14154d4aa6b27"><p><img alt="image" loading="lazy" width="708" height="463.8236220472441" decoding="async" data-nimg="1" sizes="(max-width: 546px) 100vw, 100vw" srcset="https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/1becd167-a35e-4816-9fda-3defebefee14/Untitled/w=640,quality=90,fit=scale-down 640w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/1becd167-a35e-4816-9fda-3defebefee14/Untitled/w=750,quality=90,fit=scale-down 750w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/1becd167-a35e-4816-9fda-3defebefee14/Untitled/w=828,quality=90,fit=scale-down 828w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/1becd167-a35e-4816-9fda-3defebefee14/Untitled/w=1080,quality=90,fit=scale-down 1080w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/1becd167-a35e-4816-9fda-3defebefee14/Untitled/w=1200,quality=90,fit=scale-down 1200w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/1becd167-a35e-4816-9fda-3defebefee14/Untitled/w=1920,quality=90,fit=scale-down 1920w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/1becd167-a35e-4816-9fda-3defebefee14/Untitled/w=2048,quality=90,fit=scale-down 2048w, https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/1becd167-a35e-4816-9fda-3defebefee14/Untitled/w=3840,quality=90,fit=scale-down 3840w" src="https://images.spr.so/cdn-cgi/imagedelivery/j42No7y-dcokJuNgXeA0ig/1becd167-a35e-4816-9fda-3defebefee14/Untitled/w=3840,quality=90,fit=scale-down"></p><figcaption></figcaption></div><p id="block-aab9f586b06847d185fda501a3699e97">At this point, we realized we had discovered a very serious problem. Anyone with basic knowledge of SQL injection could login to this site and add anyone they wanted to KCM and CASS, allowing themselves to both skip security screening and then access the cockpits of commercial airliners.</p><p id="block-48684ad8ac6a411b93aa891e2c36a03b">We ended up finding several more serious issues but began the disclosure process immediately after finding the first issue.</p><span id="cf74fb9feff54a94834c69ce7fb59f57"></span><h2 id="block-cf74fb9feff54a94834c69ce7fb59f57">Disclosure</h2><p id="block-22d867c129804deaa67fe6e71f770148">We had difficulty identifying the right disclosure contact for this issue. We did not want to contact FlyCASS first as it appeared to be operated only by one person and we did not want to alarm them. On April 23rd, we were able to disclose the issue to the Department of Homeland Security, who acknowledged the issue and confirmed that they “are taking this very seriously”. FlyCASS was subsequently disabled in KCM/CASS and later appears to have remediated the issues.</p><p id="block-0c868581924b4680964d6534e7dc6628">After the issue was fixed, we attempted to coordinate the safe disclosure of this issue. Unfortunately, instead of working with us, the Department of Homeland Security stopped responding to us, and the TSA press office issued dangerously incorrect statements about the vulnerability, denying what we had discovered.</p><p id="block-affbd9beb9084b6f83220bb36f611c61">The TSA press office said in a statement that this vulnerability could not be used to access a KCM checkpoint because the TSA initiates a vetting process before issuing a KCM barcode to a new member. However, a KCM barcode is not required to use KCM checkpoints, as the TSO can enter an airline employee ID manually. After we informed the TSA of this, <a href="https://web.archive.org/web/20221001213220/https://mykcmsupport.com/faq/" target="_blank" rel="noopener noreferrer">they deleted the section of their website that mentions manually entering an employee ID</a>, and did not respond to our correction. We have confirmed that the interface used by TSOs still allows manual input of employee IDs.</p><p id="block-83fbfcaff7214b93b11e6ba4d8378fc8">Several other attacks were also likely possible. Since our vulnerability allowed us to edit an existing KCM member, we could have changed the photo and name of an existing enrolled user, which would likely bypass any vetting process that may exist for new members. If you are able to obtain an unenrolled KCM barcode, you can also enroll it to an employee ID yourself on the KCM website.</p><span id="ca072cb33f5c45a98f2ad3e874cb6ac0"></span><h2 id="block-ca072cb33f5c45a98f2ad3e874cb6ac0">Timeline</h2><ul><li id="block-a8cef222f5014cbe9bbbbb2d4d3b8538">04/23/2024: Initial disclosure to ARINC and FAA</li><li id="block-051304e2f4264d1b97dc755c1709153f">04/24/2024: Subsequent disclosure to DHS via CISA</li><li id="block-9c58a3b8c02a45a78b42da239c8639da">04/25/2024: DHS CISO confirms they are working on a resolution</li><li id="block-fd638dcbe6004c56be550f61d7eb86b4">05/07/2024: DHS CISO confirms FlyCASS was disconnected from KCM/CASS</li><li id="block-e68dff0aa21e4ef89a0e7d901ae978b3">05/17/2024: Follow-up to DHS CISO about TSA statements (no reply)</li><li id="block-2a2ab638ed704d2faab8a4917535a984">06/04/2024: Follow-up to DHS CISO about TSA statements (no reply)</li></ul><span id="2b40219408b04b0297eb78cd9e3d13e0"></span><h2 id="block-2b40219408b04b0297eb78cd9e3d13e0">Collaborators</h2><ul><li id="block-81b57a91ad9e4d70ae3426c4ac84ad89">Ian Carroll (<a href="https://twitter.com/iangcarroll" target="_blank" rel="noopener noreferrer">https://twitter.com/iangcarroll</a>)</li><li id="block-d12eca81b7d0493ebdcbeade4bb3fde8">Sam Curry (<a href="https://twitter.com/samwcyo" target="_blank" rel="noopener noreferrer">https://twitter.com/samwcyo</a>) </li></ul></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[GNU Screen 5.0 Released (114 pts)]]></title>
            <link>https://savannah.gnu.org/news/?id=10668</link>
            <guid>41390999</guid>
            <pubDate>Thu, 29 Aug 2024 14:09:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://savannah.gnu.org/news/?id=10668">https://savannah.gnu.org/news/?id=10668</a>, See on <a href="https://news.ycombinator.com/item?id=41390999">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="top">


<!-- end pagemenu -->


<h2>GNU Screen v.5.0.0 is released</h2>
<p><i>Item posted by <a href="https://savannah.gnu.org/users/anaumov">Alexander Naumov &lt;anaumov&gt;</a> on Wed 28 Aug 2024 09:41:30 PM UTC.</i></p>
<div><p>Screen is a full-screen window manager that multiplexes a physical
<br>
terminal between several processes, typically interactive shells. 
</p><p>


The 5.0.0 release includes the following changes to the previous
<br>
release 4.9.1:
</p></div>
<ul>
<li>Rewritten authentication mechanism
</li>
<li>Add escape %T to show current tty for window
</li>
<li>Add escape %O to show number of currently open windows
</li>
<li>Use wcwdith() instead of UTF-8 hard-coded tables
</li>
<li>New commands:
</li>
</ul>
<p>&nbsp; - auth [on|off]
<br>
&nbsp;&nbsp;&nbsp; Provides password protection
<br>
&nbsp; - status [top|up|down|bottom] [left|right]
<br>
&nbsp;&nbsp;&nbsp; The status window by default is in bottom-left corner.
<br>
&nbsp;&nbsp;&nbsp; This command can move status messages to any corner of the screen.
<br>
&nbsp; - truecolor [on|off]
<br>
&nbsp; - multiinput
<br>
&nbsp;&nbsp;&nbsp; Input to multiple windows at the same time
<br>
</p>
<ul>
<li>Removed commands:
</li>
</ul>
<p>&nbsp; - time
<br>
&nbsp; - debug
<br>
&nbsp; - password
<br>
&nbsp; - maxwin
<br>
&nbsp; - nethack
<br>
</p>
<ul>
<li>Fixes:
</li>
</ul>
<div><p>&nbsp; - Screen buffers ESC keypresses indefinitely
<br>
&nbsp; - Crashes after passing through a zmodem transfer
<br>
&nbsp; - Fix double -U issue
</p><p>


Release is available for download:
<br>
<a href="https://ftp.gnu.org/gnu/screen/">https://ftp.gnu.org/gnu/screen/</a></p><p>


Please report any bugs or regressions.
<br>
Thanks to everyone who contributed to this release.
</p><p>


Cheers,
<br>
Alex</p></div>

<p>
<a href="#top"><img src="https://savannah.gnu.org/images/Savannah.theme/arrows/top.orig.png" alt="Back to the top" width="48" height="48"></a>
</p>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Firefox rolls out Total Cookie Protection by default to more users (2022) (102 pts)]]></title>
            <link>https://blog.mozilla.org/en/mozilla/firefox-rolls-out-total-cookie-protection-by-default-to-all-users-worldwide/</link>
            <guid>41390261</guid>
            <pubDate>Thu, 29 Aug 2024 12:47:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.mozilla.org/en/mozilla/firefox-rolls-out-total-cookie-protection-by-default-to-all-users-worldwide/">https://blog.mozilla.org/en/mozilla/firefox-rolls-out-total-cookie-protection-by-default-to-all-users-worldwide/</a>, See on <a href="https://news.ycombinator.com/item?id=41390261">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
  <main id="main">

    
<article id="post-69120">
  

  <div>
    
<figure><p>
<iframe title="Don’t “accept all cookies” until you’ve seen this video | #AskFirefox" width="640" height="360" src="https://www.youtube.com/embed/tAxj-7Bn8-s?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
</p></figure>



<p><em>Updated Aug. 28, 2024</em>.</p>



<h2>Take back your privacy</h2>



<p><strong>Firefox is rolling out Total Cookie Protection by default to more Firefox users worldwide, making Firefox the most private and secure major browser available across Windows, Mac, Linux and Android. </strong><a href="https://blog.mozilla.org/products/firefox/firefox-tips/internet-safety-for-families-total-cookie-protection/">Total Cookie Protection</a> is Firefox’s strongest privacy protection to date, confining cookies to the site where they were created, thus preventing tracking companies from using these cookies to track your browsing from site to site.</p>



<p>Whether it’s <a href="https://themarkup.org/pixel-hunt/2022/04/28/applied-for-student-aid-online-facebook-saw-you">applying for a student loan</a>, <a href="https://www.wired.com/story/health-site-ad-tracking/">seeking treatment or advice through a health site</a>, or <a href="https://www.wsj.com/articles/grindr-user-data-has-been-for-sale-for-years-11651492800?mod=hp_lead_pos4">browsing an online dating app</a>, massive amounts of your personal information is online — and this data is leaking all over the web. The hyper-specific-to-you ads you so often see online are made possible by cookies that are used to track your behavior across sites and build an extremely sophisticated profile of who you are.</p>



<p><a href="https://www.vox.com/recode/22587248/grindr-app-location-data-outed-priest-jeffrey-burrill-pillar-data-harvesting">Stories</a> (including an excellent <a href="https://www.youtube.com/watch?v=wqn3gR1WTcA&amp;ab_channel=LastWeekTonight">Last Week Tonight</a> episode) have shown how robust, yet under-the-radar, the data selling economy is and how easy it is for anyone to buy your data, combine it with more data about you and use it for a variety of purposes, even beyond advertising.</p>



<p>It’s an alarming reality — the possibility that your every move online is being watched, tracked and shared — and one that’s antithetical to the open web we at Mozilla have strived to build. That’s why we developed Total Cookie Protection to help keep you safe online.</p>







<p>Total Cookie Protection offers strong protections against tracking without affecting your browsing experience.</p>



<figure><img decoding="async" fetchpriority="high" width="1024" height="682" src="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/04/moz_TotalCookieProtection_1200x800@2x-1024x682.jpg" alt="The top text reads: Total Cookie Protection. On the left side, the text reads: Before TCP. An illustration below shows three cookies over a browser window that say &quot;facebook.com.&quot; Below, two text boxes read: fuzzyslippers.com and woodworks.com. On the right side, three separate browser windows contain one cookie each. The web address fields for the separate windows read: fuzzyslippers.com, facebook.com and woodworks.com." srcset="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/04/moz_TotalCookieProtection_1200x800@2x-1024x682.jpg 1024w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/04/moz_TotalCookieProtection_1200x800@2x-300x200.jpg 300w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/04/moz_TotalCookieProtection_1200x800@2x-768x512.jpg 768w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/04/moz_TotalCookieProtection_1200x800@2x-1536x1023.jpg 1536w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/04/moz_TotalCookieProtection_1200x800@2x-1000x666.jpg 1000w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/04/moz_TotalCookieProtection_1200x800@2x-1279x852.jpg 1279w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2023/04/moz_TotalCookieProtection_1200x800@2x.jpg 1600w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Total Cookie Protection stops cookies from tracking you around the web.</figcaption></figure>



<p>Total Cookie Protection works by creating a separate “cookie jar” for each website you visit. Instead of allowing trackers to link up your behavior on multiple sites, they just get to see behavior on individual sites. Any time a website, or <a href="https://support.mozilla.org/en-US/kb/third-party-cookies-firefox-tracking-protection#:~:text=Third%2Dparty%20cookies%20are%20cookies,considered%20a%20third%2Dparty%20cookie.">third-party content</a> embedded in a website, deposits a cookie in your browser, that cookie is confined to the cookie jar assigned to <em>only </em>that website. No other websites can reach into the cookie jars that don’t belong to them and find out what the other websites’ cookies know about you — giving you freedom from invasive ads and reducing the amount of information companies gather about you.&nbsp;</p>



<p>This approach strikes the balance between eliminating the worst privacy properties of third-party cookies – in particular the ability to track you – and allowing those cookies to fulfill their less invasive use cases (e.g. to provide accurate analytics). With Total Cookie Protection in Firefox, people can enjoy better privacy and<strong> </strong>have the great browsing experience they’ve come to expect.&nbsp;</p>



<p>Total Cookie Protection offers additional privacy protections beyond those provided by our existing anti-tracking features. Enhanced Tracking Protection (ETP), which we launched in 2018, works by blocking trackers based on a maintained list. If a party is on that list, they lose the ability to use third-party cookies. ETP was a huge privacy win for Firefox users, but we’ve known this approach has some shortcomings. If a tracker for some reason isn’t on that list, they can still track users and violate their privacy. And if an attacker wants to thwart ETP, they can set up a new tracking domain that isn’t on the list. Total Cookie Protection avoids these problems by restricting the functionality for <strong>all</strong> cookies, not just for those on a defined list.&nbsp;&nbsp;</p>



<h2><strong>A culmination of years of anti-tracking work</strong></h2>



<p>Total Cookie Protection is the culmination of years of work to fight the privacy catastrophe that stems from online trackers. We first began to block tracking in 2015 with the release of <a href="https://blog.mozilla.org/en/products/firefox/firefox-now-offers-a-more-private-browsing-experience/">Tracking Protection</a>, a feature people could turn on by going into Private Browsing mode. We recognized at that time that browser makers couldn’t just sit back and let their users be abused. In 2018, we introduced <a href="https://blog.mozilla.org/en/products/firefox/latest-firefox-rolls-out-enhanced-tracking-protection/">Enhanced Tracking Protection</a> and turned it on <strong>by default</strong> for all Firefox users in 2019, reflecting our commitment to actively protect our users rather than expect them to protect themselves. Since then, we have continued to make progress towards blocking trackers and ending cross-site tracking by introducing protections against <a href="https://www.mozilla.org/en-US/firefox/features/block-fingerprinting/">fingerprinting </a>and <a href="https://blog.mozilla.org/security/2021/01/26/supercookie-protections/">supercookies</a>.&nbsp;</p>



<p>The release of Total Cookie Protection is the result of experimentation and feature testing, first in <a href="https://blog.mozilla.org/security/2021/02/23/total-cookie-protection/">ETP Strict Mode</a> and <a href="https://blog.mozilla.org/security/2021/06/01/total-cookie-protection-in-private-browsing/">Private Browsing</a> windows, then in <a href="https://blog.mozilla.org/en/mozilla/new-privacy-protection-for-firefox-focus-on-android/#:~:text=Focus%20on%20Android.-,Total%20Cookie%20Protection%20works%20by%20maintaining%20a%20separate%20%E2%80%9Ccookie%20jar,jar%20assigned%20to%20that%20website.">Firefox Focus</a> earlier this year. We’re now making it a default feature for <strong>all </strong>Firefox desktop users worldwide.</p>



<p>Our long history of fighting online tracking manifests itself in our advocacy to <a href="https://blog.mozilla.org/netpolicy/2019/12/31/bringing-californias-privacy-law-to-all-firefox-users-in-2020/">policy</a> <a href="https://blog.mozilla.org/netpolicy/2017/05/09/eprivacy/">makers</a> and other <a href="https://foundation.mozilla.org/en/campaigns/open-letter-to-venmo-make-privacy-the-default/">tech</a> <a href="https://blog.mozilla.org/en/mozilla/the-bug-in-apples-latest-marketing-campaign/">companies</a> to reinforce their own privacy protections. We also push to make <a href="https://blog.mozilla.org/en/mozilla/privacy-preserving-attribution-for-advertising/">privacy an industry priority</a> through our efforts in industry <a href="https://www.w3.org/community/patcg/">standards</a> bodies when shaping the future of online advertising. Furthermore, we created <a href="https://foundation.mozilla.org/en/privacynotincluded/about/why/">the Privacy Not Included guide</a> to simplify the very complicated privacy landscape and help consumers shop smarter and safer for products that connect to the internet.</p>



<p>Over more than a decade, Mozilla has proudly been leading the fight to build a more private internet. While bringing Total Cookie Protection to more Firefox users has been one significant step in this journey, we have still kept our sights on an even safer, even better internet. And starting in 2024, all our users can look forward to <a href="https://developer.mozilla.org/en-US/blog/goodbye-third-party-cookies/" target="_blank" rel="noreferrer noopener">Firefox blocking even more third party cookies</a>. That’s right; we are taking big swings to adopt new cookie partitioning and clearing mechanisms so that users can browse with fewer cookies that won’t stick around as long and will result in an even better browsing experience. Just another step on our road towards creating a better internet where your privacy is not optional.</p>



<p>Take back your privacy by <a href="https://www.mozilla.org/en-US/firefox/new/">downloading Firefox</a> today.</p>



<a href="https://www.mozilla.org/en-US/firefox/new?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_content=inline-cta">
  <p><img width="512" height="512" src="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/12/Fx-Browser-icon-fullColor-512-512x512.png" alt="" decoding="async" srcset="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/12/Fx-Browser-icon-fullColor-512.png 512w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/12/Fx-Browser-icon-fullColor-512-300x300.png 300w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/12/Fx-Browser-icon-fullColor-512-150x150.png 150w" sizes="(max-width: 512px) 100vw, 512px">  </p>
  <div>
     <h3>Get Firefox</h3>      <p><span>Get the browser that protects what’s important</span>   </p></div>
</a>
  </div>

</article><!-- #post-69120 -->

  </main><!-- #main -->
  

<div id="related-articles">
    <h2>Related Articles</h2>
    
  </div>



</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Meta's Threads enables Fediverse replies and likes (150 pts)]]></title>
            <link>https://blog.karliner.net/posts/threads-enables-fediverse-replies/</link>
            <guid>41390219</guid>
            <pubDate>Thu, 29 Aug 2024 12:43:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.karliner.net/posts/threads-enables-fediverse-replies/">https://blog.karliner.net/posts/threads-enables-fediverse-replies/</a>, See on <a href="https://news.ycombinator.com/item?id=41390219">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><div><p>Last night Adam Mosseri, Head of Instagram, quitely announced the next step in the integration of Threads into the Fediverse.
In addition to being able to follow Threads accounts from Fediverse/Mastodon accounts, we can now reply to and like Threads posts. Threads are taking a quiet, incremental approach to Federation, but seem genuinely commited.</p><p>Why is this important?</p><p>Because I believe that Meta as a whole is moving to an open systems approach, not because Mark Zuckerberg is a nice guy, but because he is smart enough to go open before he is forced to by regulators, (or broken up).</p><p>The reaction to the announcement on Threads was a huge shower of ‘What is the Fediverse?’. I suspect a big rock has just started to move…</p><p>And it has, since I originally posted this, I spotted that Tumblr has announced that it’s moving completely over to run on Wordpress.</p><p>So, what’s this got to do with the first bit of news?</p><p>Wordpress already has very good plugins for working with the Fediverse…
Tumblr announced a move to the Fediverse over a year ago, but didn’t make good on it.
Now they are changing platforms they’ll get Federation for free.</p><p>Standby for half a billion Tumblr blogs to turn up on the Fediverse.
This also means Threads users liking Tumblr posts and probably reviving a struggling platform. The true power of open social media is about to become apparent.</p></div></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Low Cost Mini PCs (449 pts)]]></title>
            <link>https://lowcostminipcs.com/</link>
            <guid>41389931</guid>
            <pubDate>Thu, 29 Aug 2024 12:03:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lowcostminipcs.com/">https://lowcostminipcs.com/</a>, See on <a href="https://news.ycombinator.com/item?id=41389931">Hacker News</a></p>
<div id="readability-page-1" class="page">

    <p><span>Find the best deals for mini PCs on eBay. With many of them entering the used market, this tool helps find the cheapest ones based on your needs. Prices are updated a few times per hour.</span>
    </p>

    <div id="filters">

        

        

        

        

        

        

        

        <fieldset id="links">
            <ul>
                <li>This site is NOT supported by paid affiliate links.</li>
                <li><a href="https://lowcostminipcs.com/cdn-cgi/l/email-protection" data-cfemail="bbd2d5ddd4fbd7d4ccd8d4c8cfd6d2d5d2cbd8c895d8d4d6">[email&nbsp;protected]</a></li>
            </ul>
        </fieldset>
    </div>

    

    

    <p id="disclosures">
        Last updated at 2024-08-29T13:26:01.142Z UTC.
        Product prices and availability are accurate as of the date/time indicated and are subject to change.
        Any price and availability information displayed at the time of purchase will apply to the purchase of the
        product.
        CERTAIN CONTENT THAT APPEARS ON THIS SITE COMES FROM EBAY INC.
        THIS CONTENT IS PROVIDED 'AS IS' AND IS SUBJECT TO CHANGE OR REMOVAL AT ANY TIME.</p>
<!-- Cloudflare Pages Analytics --><!-- Cloudflare Pages Analytics -->

</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Farewell Pandas, and thanks for all the fish (142 pts)]]></title>
            <link>https://ibis-project.org/posts/farewell-pandas/</link>
            <guid>41389806</guid>
            <pubDate>Thu, 29 Aug 2024 11:47:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ibis-project.org/posts/farewell-pandas/">https://ibis-project.org/posts/farewell-pandas/</a>, See on <a href="https://news.ycombinator.com/item?id=41389806">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="quarto-document-content">





<p><strong>TL; DR</strong>: we are deprecating the <code>pandas</code> and <code>dask</code> backends and will be removing them in version 10.0.</p>
<p>There is no feature gap between the <code>pandas</code> backend and our default DuckDB backend, and DuckDB is <em>much</em> more performant. <code>pandas</code> DataFrames will still be available as <em>format</em> for getting data to and from Ibis, we just won’t support using <code>pandas</code> to execute queries.</p>
<p>Most of the rationale below applies to the Dask backend since it has so much in common with pandas. Dask is a great project and people should continue to use it outside the Ibis context.</p>
<section id="why-pandas-and-a-bit-of-ibis-history">
<h2 data-anchor-id="why-pandas-and-a-bit-of-ibis-history">Why <code>pandas</code>? And a bit of Ibis history</h2>
<p>Way back in the early days of Ibis, there was only one backend: Impala. Not everyone used Impala (mindblowing, we know), and so it wasn’t too long until the Postgres backend was added (by the inimitable Phillip Cloud).</p>
<p>These two backends were both featureful, but there was a big problem with adoption: Want to try out Ibis? You need to install Impala or Postgres first.</p>
<p>Not an insurmountable problem, but a LOT more work than “just <code>pip install &lt;newthing&gt;</code>” – which prompted the question, how can a prospective Ibis user take the API for a spin without requiring a DBA or extra infrastructure beyond a laptop?</p>
<p>The obvious answer (at the time) was to use the only in-memory DataFrame engine around and wire up a <code>pandas</code> backend.</p>
</section>
<section id="the-agony-and-the-agony">
<h2 data-anchor-id="the-agony-and-the-agony">The agony and the agony</h2>
<p><code>pandas</code> was the best option at the time, and it allowed new users to try out Ibis. But, it never fit well into the model of data analysis that Ibis strives for. The <code>pandas</code> backend has more specialized code than any other backend, because it is so fundamentally different than all the other systems Ibis works with.</p>
<section id="deferred-vs-eager">
<h3 data-anchor-id="deferred-vs-eager">Deferred vs Eager</h3>
<p><code>pandas</code> is inherently an eager engine – every time you hit Enter you are computing an intermediate result. Ibis uses a deferred execution model, similar to what nearly all SQL backends use, that enables query planning and optimization passes.</p>
<p>Trying to make a <code>pandas</code> interface that behaves in a deferred way is hard.</p>
<p>One of the unfortunate effects of this mismatch is that, unlike our other backends, the <code>pandas</code> backend is often <em>much</em> slower than just using <code>pandas</code> directly.</p>
<p>And to provide this suboptimal experience, we have a few thousand lines of code that are only used in the <code>pandas</code> backend.</p>
</section>
<section id="nan-vs-null">
<h3 data-anchor-id="nan-vs-null"><code>NaN</code> vs <code>NULL</code></h3>
<p>The choice was made a long time ago to accept using <code>NaN</code> as the marker for missing values in <code>pandas</code>. This is because NumPy has a notion of <code>NaN</code>, but a Python <code>None</code> would lead to an <code>object</code>-dtype and poor performance.</p>
<p>Practicality beats purity, but this is a horrible decision to have to make. Ibis <em>doesn’t</em> have to make it with any other backend, because NULL indicates a missing value, and NaN is Not a Number.</p>
<p>Those are fundamentally different ideas and it is an ongoing headache for Ibis to try to pretend that they aren’t.</p>
</section>
<section id="data-types">
<h3 data-anchor-id="data-types">Data types</h3>
<p>The new Arrow-backed types in <code>pandas</code> are a great improvement and we’ll leave it at that.</p>
</section>
</section>
<section id="misleading-new-users">
<h2 data-anchor-id="misleading-new-users">Misleading new users</h2>
<p>People reach for what is familiar. When you try Ibis for the first time, we’re asking you to both a) try Ibis and b) pick a backend. We have defaults to try to help with this, but it can be confusing at first.</p>
<p>We have many reports from new users that “Ibis is slow”. What this almost always means is that they tried the <code>pandas</code> backend (because they know <code>pandas</code>) and they are having a less-than-great time.</p>
<p>If they tried DuckDB or Polars, instead, they would have a much easier time getting things going.</p>
</section>
<section id="feature-parity">
<h2 data-anchor-id="feature-parity">Feature parity</h2>
<p>This is the one of the strongest reasons to drop the <code>pandas</code> backend – it is redundant. The DuckDB backend can seamlessly query pandas DataFrames, supports several flavors of UDF, and can read and write parquet, CSV, JSON, and other formats.</p>
<p>There is a reason DuckDB is our default backend: it’s easy to install, it runs locally, it’s blazing fast, and it interacts well with the Python ecosystem. Those are all the reasons we added <code>pandas</code> as a backend in the first place, but with the added benefit of blazing-fast results, and no type-system headaches.</p>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i></i> Back to top</a></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OpenAI is shockingly good at unminifying code (634 pts)]]></title>
            <link>https://glama.ai/blog/2024-08-29-reverse-engineering-minified-code-using-openai</link>
            <guid>41389185</guid>
            <pubDate>Thu, 29 Aug 2024 10:14:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://glama.ai/blog/2024-08-29-reverse-engineering-minified-code-using-openai">https://glama.ai/blog/2024-08-29-reverse-engineering-minified-code-using-openai</a>, See on <a href="https://news.ycombinator.com/item?id=41389185">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-sentry-component="Prose" data-sentry-source-file="Prose.tsx"><p>While browsing the Internet for inspiration, I came across an <a href="https://reactive.network/hackathon">interesting-looking component</a>.</p>
<!-- -->
<p><img src="https://glama.ai/images/reactive-VTS6R4H7.gif" alt="Reactive Network Hackathon"></p><p>I thought the block with the running ASCII art looked cool, but I couldn't quite figure out how it was implemented, so I started looking at the source code.</p>
<p>I found the code that looked like it might be doing the job, but it was minified.</p>
<pre><code>const { floor: ra, abs: KE, min: QE } = Math,
    O5 = ["reactive.network REACTIVE.NETWORK", "$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~&lt;&gt;i!lI;:,^`'. .:â–‘â–’â–“â–ˆ"],
    G7 = Date.now() % 3 ? O5[1] : O5[0],
    V5 = G7.length,
    JE = { fps: 60 };
function eT(e, t, n, r) {
    const i = t.time * 8e-5,
        s = QE(t.cols, t.rows),
        o = t.metrics.aspect * 0.2,
        l = { x: ((4 * (e.x - t.cols / 6.25)) / s) * o, y: (5 * (e.y - t.rows / 4)) / s },
        u = ra(KE(YE(l) - i) * V5 + (ra(e.x / 1) % 2) * 2) % V5;
    return G7[u];
}
const tT = () =&gt; {
    const e = j.useRef(null),
        [t, n] = j.useState({ height: null, width: null });
    return (
        j.useEffect(() =&gt; {
            function r() {
                n({ height: window.innerHeight, width: window.innerWidth });
            }
            if (typeof window &lt; "u") return n({ height: window.innerHeight, width: window.innerWidth }), window.addEventListener("resize", r), () =&gt; window.removeEventListener("resize", r);
        }, []),
        j.useEffect(() =&gt; {
            const r = e.current;
            if (!r) return;
            const i = 12,
                s = ra(t.width / i) * 1.6,
                o = ra(t.height / i),
                l = { aspect: s / o },
                u = setInterval(() =&gt; {
                    let c = "";
                    for (let d = 0; d &lt; o; d++) {
                        for (let f = 0; f &lt; s; f++) c += eT({ x: f, y: d }, { cols: s, rows: o, metrics: l, time: Date.now() });
                        c += `
`;
                    }
                    r.textContent = c;
                }, 1e3 / JE.fps);
            return () =&gt; clearInterval(u);
        }, [t]),
        a.jsx("div", { style: { position: "absolute", top: 0, left: 0, width: "100%", height: "100%" }, children: a.jsx("div", { ref: e, style: { width: "100%", height: "100%", whiteSpace: "pre", overflow: "hidden" } }) })
    );
};
function nT(e) {
    return Math.cos(e.x * e.x - e.y * e.y);
}
const { floor: ia, abs: rT, min: iT } = Math,
    D5 = ["reactive.network REACTIVE.NETWORK", "$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~&lt;&gt;i!lI;:,^`'. .:â–‘â–’â–“â–ˆ"],
    X7 = Date.now() % 3 ? D5[1] : D5[0],
    F5 = X7.length,
    sT = { fps: 60 };
function oT(e, t, n, r) {
    const i = t.time * 8e-5,
        s = iT(t.cols, t.rows),
        o = t.metrics.aspect * 0.2,
        l = { x: ((4 * (e.x - t.cols / 6.25)) / s) * o, y: (5 * (e.y - t.rows / 4)) / s },
        u = ia(rT(nT(l) - i) * F5 + (ia(e.x / 1) % 2) * 2) % F5;
    return X7[u];
}
const aT = () =&gt; {
    const e = j.useRef(null),
        [t, n] = j.useState({ height: null, width: null });
    return (
        j.useEffect(() =&gt; {
            function r() {
                n({ height: window.innerHeight, width: window.innerWidth });
            }
            if (typeof window &lt; "u") return n({ height: window.innerHeight, width: window.innerWidth }), window.addEventListener("resize", r), () =&gt; window.removeEventListener("resize", r);
        }, []),
        j.useEffect(() =&gt; {
            const r = e.current;
            if (!r) return;
            const i = 12,
                s = ia(t.width / i) * 1.6,
                o = ia(t.height / i),
                l = { aspect: s / o },
                u = setInterval(() =&gt; {
                    let c = "";
                    for (let d = 0; d &lt; o; d++) {
                        for (let f = 0; f &lt; s; f++) c += oT({ x: f, y: d }, { cols: s, rows: o, metrics: l, time: Date.now() });
                        c += `
`;
                    }
                    r.textContent = c;
                }, 1e3 / sT.fps);
            return () =&gt; clearInterval(u);
        }, [t]),
        a.jsx("div", { style: { position: "absolute", top: 0, left: 0, width: "100%", height: "100%" }, children: a.jsx("div", { ref: e, style: { width: "100%", height: "100%", whiteSpace: "pre", overflow: "hidden" } }) })
    );
},
</code></pre>
<p>Usually, I would just powerthrough reading the minimized code to understand the implementation (or look for a <code>.map</code> file to restore the original code). However, I realized that I never tried asking ChatGPT to do it for me... So I copied all of the above code and asked ChatGPT to "explain the code". Here is the response:</p>
<blockquote>
<p>The provided code is quite complex, but I'll break it down into a more understandable format, explaining its different parts and their functionalities.</p>
<h3>Overview</h3>
<p>The code defines several functions and components using JavaScript, specifically in the context of a React application. It deals with generating some dynamic text content, presumably ASCII art or some kind of visual effect using characters from a predefined set. Additionally, it includes utility functions for event handling, performance timing, and HTML content conversion.</p>
<h3>Key Components and Functions</h3>
<ol>
<li><strong>Character Set Selection:</strong>
<pre><code>const { floor: ra, abs: KE, min: QE } = Math;
const O5 = ["reactive.network REACTIVE.NETWORK", "$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~&lt;&gt;i!lI;:,^`'. .:â–‘â–’â–“â–ˆ"];
const G7 = Date.now() % 3 ? O5[1] : O5[0];
const V5 = G7.length;
</code></pre>
<ul>
<li>This part of the code imports some common Math functions (<code>floor</code>, <code>abs</code>, and <code>min</code>) and defines two sets of characters, stored in <code>O5</code>.</li>
<li>Based on the current time (<code>Date.now() % 3</code>), it selects one of these sets (<code>G7</code>) to use later.</li>
<li>The length of the selected character set is stored in <code>V5</code>.</li>
</ul>
</li>
<li><strong>Dynamic Character Selection Function:</strong>
<pre><code>function eT(e, t, n, r) {
    const i = t.time * 8e-5;
    const s = QE(t.cols, t.rows);
    const o = t.metrics.aspect * 0.2;
    const l = { x: ((4 * (e.x - t.cols / 6.25)) / s) * o, y: (5 * (e.y - t.rows / 4)) / s };
    const u = ra(KE(YE(l) - i) * V5 + (ra(e.x / 1) % 2) * 2) % V5;
    return G7[u];
}
</code></pre>
<ul>
<li>The <code>eT</code> function generates a character based on the input position (<code>e.x</code>, <code>e.y</code>) and the current time (<code>t.time</code>).</li>
<li>It adjusts the position using some aspect ratio calculations and selects a character from <code>G7</code> based on a combination of the position and time.</li>
<li>The purpose of <code>YE</code> function isn't directly clear from the code, but it seems to be a custom function used in this calculation.</li>
</ul>
</li>
<li><strong>React Component (<code>tT</code>) for Displaying Dynamic Content:</strong>
<pre><code>const tT = () =&gt; {
    const e = j.useRef(null);
    const [t, n] = j.useState({ height: null, width: null });
    j.useEffect(() =&gt; {
        function r() {
            n({ height: window.innerHeight, width: window.innerWidth });
        }
        if (typeof window &lt; "u") {
            n({ height: window.innerHeight, width: window.innerWidth });
            window.addEventListener("resize", r);
            return () =&gt; window.removeEventListener("resize", r);
        }
    }, []);

    j.useEffect(() =&gt; {
        const r = e.current;
        if (!r) return;
        const i = 12;
        const s = ra(t.width / i) * 1.6;
        const o = ra(t.height / i);
        const l = { aspect: s / o };
        const u = setInterval(() =&gt; {
            let c = "";
            for (let d = 0; d &lt; o; d++) {
                for (let f = 0; f &lt; s; f++) c += eT({ x: f, y: d }, { cols: s, rows: o, metrics: l, time: Date.now() });
                c += `
`;
            }
            r.textContent = c;
        }, 1e3 / JE.fps);
        return () =&gt; clearInterval(u);
    }, [t]);

    return a.jsx("div", { style: { position: "absolute", top: 0, left: 0, width: "100%", height: "100%" }, children: a.jsx("div", { ref: e, style: { width: "100%", height: "100%", whiteSpace: "pre", overflow: "hidden" } }) });
};
</code></pre>
<ul>
<li>This is a React component that sets up an interval to periodically update the content of a <code>div</code> element (<code>e.current</code>) with dynamically generated characters.</li>
<li>It calculates the number of columns (<code>s</code>) and rows (<code>o</code>) based on the window size and then fills the <code>div</code> with characters generated by the <code>eT</code> function.</li>
<li>The effect runs at a specified frames per second (<code>JE.fps</code>).</li>
</ul>
</li>
</ol>
</blockquote>
<p>I followed up asking to "implement equivalent code in TypeScript and make it human readable" and got the following response:</p>
<pre><code>import React, { useEffect, useRef, useState } from 'react';

const selectedCharacterSet =
  "$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/|()1{}[]?-_+~&lt;&gt;i!lI;:,^`'. .:â–‘â–’â–“â–ˆ";
const characterSetLength = selectedCharacterSet.length;

const calculateCharacter = (
  x: number,
  y: number,
  cols: number,
  rows: number,
  aspect: number,
  time: number,
): string =&gt; {
  const timeFactor = time * 0.000_08;
  const size = Math.min(cols, rows);
  const aspectRatio = aspect * 0.2;
  const position = {
    x: ((4 * (x - cols / 6.25)) / size) * aspectRatio,
    y: (5 * (y - rows / 4)) / size,
  };

  const index =
    Math.floor(
      Math.abs(
        Math.cos(position.x * position.x - position.y * position.y) -
          timeFactor,
      ) *
        characterSetLength +
        (Math.floor(x) % 2) * 2,
    ) % characterSetLength;
  return selectedCharacterSet[index];
};

type Size = {
  height: null | number;
  width: null | number;
};

const AsciiArtGenerator: React.FC = () =&gt; {
  const textRef = useRef&lt;HTMLDivElement&gt;(null);
  const [size, setSize] = useState&lt;Size&gt;({ height: null, width: null });

  useEffect(() =&gt; {
    const handleResize = () =&gt; {
      setSize({ height: window.innerHeight, width: window.innerWidth });
    };

    // Initial size setting
    handleResize();

    window.addEventListener('resize', handleResize);
    return () =&gt; {
      window.removeEventListener('resize', handleResize);
    };
  }, []);

  useEffect(() =&gt; {
    const element = textRef.current;
    if (!element || !size.width || !size.height) return undefined;

    const cols = Math.floor(size.width / 12) * 1.6;
    const rows = Math.floor(size.height / 12);
    const aspectRatio = cols / rows;

    const intervalId = setInterval(() =&gt; {
      let content = '';

      for (let y = 0; y &lt; rows; y++) {
        for (let x = 0; x &lt; cols; x++) {
          content += calculateCharacter(
            x,
            y,
            cols,
            rows,
            aspectRatio,
            Date.now(),
          );
        }

        content += '\n';
      }

      element.textContent = content;
    }, 1_000 / 60); // 60 fps

    return () =&gt; {
      clearInterval(intervalId);
    };
  }, [size]);

  return (
    &lt;div
      ref={textRef}
      style={{
        height: '100%',
        overflow: 'hidden',
        whiteSpace: 'pre',
        width: '100%',
      }}
    /&gt;
  );
};

export default () =&gt; {
  return &lt;AsciiArtGenerator /&gt;;
};
</code></pre>
<p>To my surprise, the response is not only good enough, but it is also very readable.</p>
<p>Here is the above component in action:</p>
<!-- -->

<p>Comparing the outputs, <del>it looks like LLM response overlooked a few implementation details</del>, but it is still a good enough implementation to learn from. Definitely a neat use case I've not considered before!</p>
<blockquote>
<p>Update (2024-08-29): Initially, I thought that the LLM didn't replicate the logic accurately because the output was missing a few characters visible in the original component (e.g., <code>░▒▓█</code>). However, <a href="https://news.ycombinator.com/item?id=41389791">a user on HN forum</a> pointed out that it was likely a copy-paste error.</p>
<p>Upon further investigation, I discovered that the original code contains different characters than what I pasted into ChatGPT. This appears to be an encoding issue, as I was able to get the correct characters after downloading the script. After updating the code to use the correct characters, the output is now identical to the original component.</p>
<p>I apologize, GPT-4, for mistakenly accusing you of making mistakes.</p>
</blockquote></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Homemade Automated Solar Concentrator (177 pts)]]></title>
            <link>https://github.com/remipch/solar_concentrator</link>
            <guid>41389176</guid>
            <pubDate>Thu, 29 Aug 2024 10:14:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/remipch/solar_concentrator">https://github.com/remipch/solar_concentrator</a>, See on <a href="https://news.ycombinator.com/item?id=41389176">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">Solar Concentrator ☀️</h2><a id="user-content-solar-concentrator-sunny" aria-label="Permalink: Solar Concentrator :sunny:" href="#solar-concentrator-sunny"></a></p>
<p dir="auto">This project is a homemade automated solar concentrator 🔧 ☀️ 🔎</p>
<ul dir="auto">
<li><a href="#overview">Overview</a></li>
<li><a href="#caution">Caution</a></li>
<li><a href="#key-points">Key points</a></li>
<li><a href="#technical-breakdown">Technical breakdown</a></li>
<li><a href="#next-step">Next step</a></li>
<li><a href="#license">License</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Overview</h2><a id="user-content-overview" aria-label="Permalink: Overview" href="#overview"></a></p>
<p dir="auto">It consists of:</p>
<ul dir="auto">
<li>An orientable mirror panel (currently 48 focusing mirrors, totaling 1m²)</li>
<li>A fixed target (currently a simple concrete oven with a black metal plate and a tempered glass)</li>
<li>The supervisor: an electronic control device that measures the target, computes and sends commands to the motors</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/remipch/solar_concentrator/blob/master/solar_concentrator.jpg"><img src="https://github.com/remipch/solar_concentrator/raw/master/solar_concentrator.jpg" alt="Solar Concentrator"></a></p>
<p dir="auto">On 26 june 2024, when adding some aluminium foil inside the oven to improve insulation,
the oven temperature has risen to <strong>210°C after 30 minutes</strong>.</p>
<p dir="auto">The video below shows the concentrator in action on 8 July 2024:</p>
<ul dir="auto">
<li>First half of the video is the assembly (speed x10)</li>
<li>Second half is the automatic sun tracking for about 7 hours (speed x600)</li>
</ul>
<details open="">
  <summary>
    
    <span aria-label="Video description solar_concentrator_manip_20240708.mp4">solar_concentrator_manip_20240708.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/75692116/356207274-06e3a9e1-d853-4ddd-b5d8-55cf9d6ecc89.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjQ5NDIxMDIsIm5iZiI6MTcyNDk0MTgwMiwicGF0aCI6Ii83NTY5MjExNi8zNTYyMDcyNzQtMDZlM2E5ZTEtZDg1My00ZGRkLWI1ZDgtNTVjZjlkNmVjYzg5Lm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA4MjklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwODI5VDE0MzAwMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTU1OTYwZDc3YzgwZGI3ZmFhZDM0OTBhMWRiYjI5NjA0MWEzNDEyNzM0MTgxOWRlMTAyZjRjN2Y0Zjc0ZmU2ZjEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.49c3Zz1QrMK5W8wLzkjmQz7jQP79rfYIzrJJPh03ppY" data-canonical-src="https://private-user-images.githubusercontent.com/75692116/356207274-06e3a9e1-d853-4ddd-b5d8-55cf9d6ecc89.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjQ5NDIxMDIsIm5iZiI6MTcyNDk0MTgwMiwicGF0aCI6Ii83NTY5MjExNi8zNTYyMDcyNzQtMDZlM2E5ZTEtZDg1My00ZGRkLWI1ZDgtNTVjZjlkNmVjYzg5Lm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA4MjklMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwODI5VDE0MzAwMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTU1OTYwZDc3YzgwZGI3ZmFhZDM0OTBhMWRiYjI5NjA0MWEzNDEyNzM0MTgxOWRlMTAyZjRjN2Y0Zjc0ZmU2ZjEmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.49c3Zz1QrMK5W8wLzkjmQz7jQP79rfYIzrJJPh03ppY" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><h2 tabindex="-1" dir="auto">Caution</h2><a id="user-content-caution" aria-label="Permalink: Caution" href="#caution"></a></p>
<div dir="auto"><p dir="auto">Caution</p><p dir="auto"><g-emoji alias="warning">⚠️</g-emoji><g-emoji alias="warning">⚠️</g-emoji> <strong>THIS PROJECT MAY HARM PEOPLE OR ANIMALS IN THE SURROUNDINGS</strong> <g-emoji alias="warning">⚠️</g-emoji><g-emoji alias="warning">⚠️</g-emoji></p>
<p dir="auto">It can <strong>cause permanent blindness, burn skin or ignite objects</strong>.</p>
<p dir="auto">Even when the concentrator is not powered, the sun remains concentrated 48 times in a single small area.</p>
<p dir="auto">This focal point is constantly <strong>moving along a path that is difficult to predict</strong>.</p>
<p dir="auto">In its current state, it <strong>must be continuously monitored</strong> and the mirrors must be covered quickly in the event of an anomaly.</p>
</div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Key points</h2><a id="user-content-key-points" aria-label="Permalink: Key points" href="#key-points"></a></p>
<ul dir="auto">
<li>Can produce up to about <strong>1000 watts of heat</strong> while <strong>consuming 3.8 watts</strong> of electrical power 💰</li>
<li>Uses only standard, cheap and available components and materials 🧱 🔩</li>
<li>Does not require a high precision construction, everything can be built by hand with common tools 📏 🪚</li>
<li>Easy to assemble and disassemble 🪛</li>
<li>Easy to understand and modify 🔎</li>
<li>Open source 🔓</li>
</ul>
<p dir="auto">Limitations of this version:</p>
<ul dir="auto">
<li>There is no safety layer implemented (see warning above <g-emoji alias="warning">⚠️</g-emoji>)</li>
<li>An initial manual step is required to orient the panel before it can automatically track the sun.</li>
<li>Only one panel can be controlled</li>
<li>Does not work on cloudy days (it is the user's responsibility to remove the clouds from the sky 😄)</li>
<li>Power consumption could be significantly reduced through the implementation of various low-power modes</li>
</ul>
<p dir="auto">To build this project, some products were happily "hacked" out of their original use:</p>
<ul dir="auto">
<li>The tempered glass used in the oven is from an <a href="https://www.ikea.com/fr/fr/p/komplement-tablette-en-verre-blanc-80257647/" rel="nofollow">Ikea shelf</a></li>
<li>The mirrors are <a href="https://www.bricoman.fr/lot-6-miroirs-adhesif-carre-15x15-cm-1429043.html" rel="nofollow">decorative bathroom mirrors</a></li>
<li>The motors are cheap <a href="https://www.gotronic.fr/art-motoreducteur-mfa-950d8101ln-11376.htm" rel="nofollow">model engines</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Technical breakdown</h2><a id="user-content-technical-breakdown" aria-label="Permalink: Technical breakdown" href="#technical-breakdown"></a></p>
<p dir="auto">The project structure reflects the technical breakdown.</p>
<p dir="auto">Detailed information can be found in the corresponding subfolders:</p>
<ul dir="auto">
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/mechanics/README.md">Mechanics ⚙️</a> : 3D models of the parts used in the solar panel</li>
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/electronics/README.md">Electronics 🔌</a> : schematics and layout of the custom supervisor board</li>
<li>Software 💾 :
<ul dir="auto">
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/software/simulator/README.md">Simulator</a> : evaluates the theoretical power received by the target for a given hardware configuration</li>
<li>Supervisor controller : ESP32-CAM firmware based on <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/index.html" rel="nofollow">Espressif ESP32 framework</a>
<ul dir="auto">
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/software/supervisor_controller/components/supervisor/README.md">Supervisor component</a> defines the supervisor high level logic</li>
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/software/supervisor_controller/components/sun_tracker/README.md">Sun tracker</a> computes motors commands to keep the sun light at the center of the target area</li>
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/software/supervisor_controller/components/target_detector/README.md">Target detector</a> detects the target position in image</li>
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/software/supervisor_controller/components/web_interface/README.md">Web interface</a> allows the user to interact with the supervisor</li>
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/software/supervisor_controller/components/motors/README.md">Motors component</a> controls the motors from the ESP32 application</li>
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/software/supervisor_controller/components/image/README.md">Image component</a> provides general image processing functions</li>
</ul>
</li>
<li><a href="https://github.com/remipch/solar_concentrator/blob/master/software/motors_controller/README.md">Motors controller</a> : Arduino Pro Mini firmware for controlling motors</li>
</ul>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Next step</h2><a id="user-content-next-step" aria-label="Permalink: Next step" href="#next-step"></a></p>
<p dir="auto">The next step is to control any number of panels to obtain a power output of several kilowatts.</p>
<p dir="auto">This would open up the following possibilities:</p>
<ul dir="auto">
<li>Quickly boil a large volume of liquid</li>
<li>Desalinate or sterilize a large volume of water</li>
<li>Cook or sterilize a large volume of food</li>
<li>Melt plastic, metal or glass</li>
<li>Increase the output of photovoltaic panels with <a href="https://en.wikipedia.org/wiki/Concentrator_photovoltaics" rel="nofollow">concentrated photovoltaics</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">Copyright (C) 2024 Rémi Peuchot</p>
<ul dir="auto">
<li><code>electronics</code> folder is distributed under <a href="https://github.com/remipch/solar_concentrator/blob/master/electronics/LICENSE.md">Creative Commons Attribution-NonCommercial-ShareAlike 4.0</a></li>
<li><code>mechanics</code> folder is distributed under <a href="https://github.com/remipch/solar_concentrator/blob/master/mechanics/LICENSE.md">Creative Commons Attribution-NonCommercial-ShareAlike 4.0</a></li>
<li><code>software</code> folder is distributed under <a href="https://github.com/remipch/solar_concentrator/blob/master/software/LICENSE.md">GNU GPL 3</a></li>
</ul>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[UK rail minister got engineer sacked for raising safety concerns (385 pts)]]></title>
            <link>https://www.politico.eu/article/uk-rail-minister-peter-hendy-fired-gareth-dennis-engineer-safety-concerns-trains-london-euston-station/</link>
            <guid>41388888</guid>
            <pubDate>Thu, 29 Aug 2024 09:19:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.politico.eu/article/uk-rail-minister-peter-hendy-fired-gareth-dennis-engineer-safety-concerns-trains-london-euston-station/">https://www.politico.eu/article/uk-rail-minister-peter-hendy-fired-gareth-dennis-engineer-safety-concerns-trains-london-euston-station/</a>, See on <a href="https://news.ycombinator.com/item?id=41388888">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-count="4" data-remainder="0" data-block-attributes="[]" data-page="0">
					
<div>
			<p><img src="https://www.politico.eu/cdn-cgi/image/width=380,height=253,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/27/GettyImages-2160865991-scaled.jpg" srcset="https://www.politico.eu/cdn-cgi/image/width=480,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/27/GettyImages-2160865991-scaled.jpg 480w, https://www.politico.eu/cdn-cgi/image/width=768,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/27/GettyImages-2160865991-scaled.jpg 768w, https://www.politico.eu/cdn-cgi/image/width=1024,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/27/GettyImages-2160865991-scaled.jpg 1024w, https://www.politico.eu/cdn-cgi/image/width=1280,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/27/GettyImages-2160865991-scaled.jpg 1280w, https://www.politico.eu/cdn-cgi/image/width=1440,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/27/GettyImages-2160865991-scaled.jpg 1440w, https://www.politico.eu/cdn-cgi/image/width=1920,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/27/GettyImages-2160865991-scaled.jpg 1920w, https://www.politico.eu/cdn-cgi/image/width=2640,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/27/GettyImages-2160865991-scaled.jpg 2640w" sizes="(max-width: 380px) 100vw, 380px" alt="UK snubs EU over rejoining popular Erasmus student swap scheme" width="380" height="253" role="" loading="lazy" decoding="async">

					</p>
	
	
		
		<div>

			
			
			
			
			
							<h2>
										<a href="https://www.politico.eu/article/uk-eu-erasmus-exchange-keir-starmer-brexit-security-cooperation/">
						UK snubs EU over rejoining popular Erasmus student swap scheme					</a>
				</h2>
			
			
							<p>Government spokesperson said the U.K. has “no plans” to rejoin European program.</p>
			
			<p><span>
			Aug 28		</span>
	
	
	
<span>
	<span>4 mins read</span>
</span>
</p>

			
			
			
			
					</div>

			</div>

<div>
			<p><img src="https://www.politico.eu/cdn-cgi/image/width=380,height=253,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/01/GettyImages-2164167339-scaled.jpg" srcset="https://www.politico.eu/cdn-cgi/image/width=480,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/01/GettyImages-2164167339-scaled.jpg 480w, https://www.politico.eu/cdn-cgi/image/width=768,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/01/GettyImages-2164167339-scaled.jpg 768w, https://www.politico.eu/cdn-cgi/image/width=1024,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/01/GettyImages-2164167339-scaled.jpg 1024w, https://www.politico.eu/cdn-cgi/image/width=1280,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/01/GettyImages-2164167339-scaled.jpg 1280w, https://www.politico.eu/cdn-cgi/image/width=1440,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/01/GettyImages-2164167339-scaled.jpg 1440w, https://www.politico.eu/cdn-cgi/image/width=1920,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/01/GettyImages-2164167339-scaled.jpg 1920w, https://www.politico.eu/cdn-cgi/image/width=2640,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/08/01/GettyImages-2164167339-scaled.jpg 2640w" sizes="(max-width: 380px) 100vw, 380px" alt="Brexit Britain creeps back into Brussels’ orbit under Labour" width="380" height="253" role="" loading="lazy" decoding="async">

					</p>
	
	
		
		<div>

			
			
			
			
			
							<h2>
										<a href="https://www.politico.eu/article/keir-starmer-brexit-uk-politics-borders-product-saftey-bill-brussels-eu-policy-supply-chains-backlash/">
						Brexit Britain creeps back into Brussels’ orbit under Labour					</a>
				</h2>
			
			
							<p>A bill which paves the way for closer regulatory alignment with the European Union almost slipped under the radar.</p>
			
			<p><span>
			Aug 12		</span>
	
	
	
<span>
	<span>5 mins read</span>
</span>
</p>

			
			
			
			
					</div>

			</div>

<div>
			<p><img src="https://www.politico.eu/cdn-cgi/image/width=380,height=256,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/26/GettyImages-2160888820-scaled.jpg" srcset="https://www.politico.eu/cdn-cgi/image/width=480,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/26/GettyImages-2160888820-scaled.jpg 480w, https://www.politico.eu/cdn-cgi/image/width=768,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/26/GettyImages-2160888820-scaled.jpg 768w, https://www.politico.eu/cdn-cgi/image/width=1024,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/26/GettyImages-2160888820-scaled.jpg 1024w, https://www.politico.eu/cdn-cgi/image/width=1280,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/26/GettyImages-2160888820-scaled.jpg 1280w, https://www.politico.eu/cdn-cgi/image/width=1440,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/26/GettyImages-2160888820-scaled.jpg 1440w, https://www.politico.eu/cdn-cgi/image/width=1920,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/26/GettyImages-2160888820-scaled.jpg 1920w, https://www.politico.eu/cdn-cgi/image/width=2640,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/26/GettyImages-2160888820-scaled.jpg 2640w" sizes="(max-width: 380px) 100vw, 380px" alt="Is Brexit Britain about to turn into Switzerland — without the fondue?" width="380" height="256" role="" loading="lazy" decoding="async">

					</p>
	
	
		
		<div>

			
			
			
			
			
							<h2>
										<a href="https://www.politico.eu/article/brexit-britain-switzerland-model-agreement-trade-treaty-freedom-movement/">
						Is Brexit Britain about to turn into Switzerland — without the fondue?					</a>
				</h2>
			
			
							<p>As the U.K. and the EU enter a new era, their relationship is likely to gradually become more Swiss.</p>
			
			<p><span>
			Jul 29		</span>
	
	
	
<span>
	<span>7 mins read</span>
</span>
</p>

			
			
			
			
					</div>

			</div>

<div>
			<p><img src="https://www.politico.eu/cdn-cgi/image/width=380,height=253,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/25/starmer-scholz-scaled.jpg" srcset="https://www.politico.eu/cdn-cgi/image/width=480,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/25/starmer-scholz-scaled.jpg 480w, https://www.politico.eu/cdn-cgi/image/width=768,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/25/starmer-scholz-scaled.jpg 768w, https://www.politico.eu/cdn-cgi/image/width=1024,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/25/starmer-scholz-scaled.jpg 1024w, https://www.politico.eu/cdn-cgi/image/width=1280,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/25/starmer-scholz-scaled.jpg 1280w, https://www.politico.eu/cdn-cgi/image/width=1440,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/25/starmer-scholz-scaled.jpg 1440w, https://www.politico.eu/cdn-cgi/image/width=1920,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/25/starmer-scholz-scaled.jpg 1920w, https://www.politico.eu/cdn-cgi/image/width=2640,quality=80,onerror=redirect,format=auto/wp-content/uploads/2024/07/25/starmer-scholz-scaled.jpg 2640w" sizes="(max-width: 380px) 100vw, 380px" alt="Germany wants a Brexit mega deal" width="380" height="253" role="" loading="lazy" decoding="async">

					</p>
	
	
		
		<div>

			
			
			
			
			
							<h2>
										<a href="https://www.politico.eu/article/germany-wants-a-brexit-mega-deal/">
						Germany wants a Brexit mega deal					</a>
				</h2>
			
			
							<p>Berlin wants to expand the British prime minister’s proposed security pact into a broader EU-UK “reset.”</p>
			
			<p><span>
			Jul 25		</span>
	
	
	
<span>
	<span>6 mins read</span>
</span>
</p>

			
			
			
			
					</div>

			</div>
				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Computer Scientists Prove That Heat Destroys Entanglement (141 pts)]]></title>
            <link>https://www.quantamagazine.org/computer-scientists-prove-that-heat-destroys-entanglement-20240828/</link>
            <guid>41388326</guid>
            <pubDate>Thu, 29 Aug 2024 07:41:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.quantamagazine.org/computer-scientists-prove-that-heat-destroys-entanglement-20240828/">https://www.quantamagazine.org/computer-scientists-prove-that-heat-destroys-entanglement-20240828/</a>, See on <a href="https://news.ycombinator.com/item?id=41388326">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-role="selectable">
    <p>Nearly a century ago, the physicist Erwin Schrödinger called attention to a quirk of the quantum world that has fascinated and vexed researchers ever since. When quantum particles such as atoms interact, they shed their individual identities in favor of a collective state that’s greater, and weirder, than the sum of its parts. This phenomenon is called entanglement.</p>
<p>Researchers have a firm understanding of how entanglement works in idealized systems containing just a few particles. But the real world is more complicated. In large arrays of atoms, like the ones that make up the stuff we see and touch, the laws of quantum physics compete with the laws of thermodynamics, and things get messy.</p>
<p>At very low temperatures, entanglement can spread over long distances, enveloping many atoms and giving rise to strange phenomena such as <a href="https://www.quantamagazine.org/tag/superconductivity/">superconductivity</a>. Crank up the heat, though, and atoms jitter about, disrupting the fragile links that bind entangled particles.</p>
<p>Physicists have long struggled to pin down the details of this process. Now, a team of four researchers has <a href="https://arxiv.org/abs/2403.16850">proved</a> that entanglement doesn’t just weaken as temperature increases. Rather, in mathematical models of quantum systems such as the arrays of atoms in physical materials, there’s always a specific temperature above which it vanishes completely. “It’s not just that it’s exponentially small,” said <a href="https://people.csail.mit.edu/moitra/">Ankur Moitra</a> of the Massachusetts Institute of Technology, one of the authors of the new result. “It’s zero.”</p>
<p>Researchers had previously observed hints of this behavior and dubbed it the “<a href="https://arxiv.org/abs/1510.08005">sudden death</a>” of entanglement. But their evidence has always been indirect. The new finding, by contrast, has the force of a mathematical proof. It establishes the absence of entanglement in a much more comprehensive and rigorous way.</p>
<p>Curiously, the four researchers behind the new result aren’t even physicists, and they didn’t set out to prove anything about entanglement. They’re computer scientists who stumbled on the proof accidentally while developing a new algorithm.</p>
<p>Regardless of their intent, the results have excited researchers in the area. “It’s a very, very strong statement,” said <a href="https://physics.mit.edu/faculty/soonwon-choi/">Soonwon Choi</a>, a physicist at MIT. “I was very impressed.”</p>
<h2><strong>Finding Equilibrium</strong></h2>
<p>The team made their discovery while exploring the theoretical capabilities of future <a href="https://www.quantamagazine.org/tag/quantum-computing">quantum computers</a> — machines that will exploit quantum behavior, including entanglement and superposition, to perform certain calculations far faster than the conventional computers we know today.</p>
<p>One of the most promising applications of quantum computing is in the study of quantum physics itself. Let’s say you want to understand the behavior of a quantum system. Researchers need to first develop specific procedures, or algorithms, that quantum computers can use to answer your questions.</p>
<figure>
    <p><img width="1300" height="1703" src="https://www.quantamagazine.org/wp-content/uploads/2024/08/EwinTang-crXinyuTan-V2.webp" alt="Ewin Tang in a white shirt and brown sweater stands outside" decoding="async" loading="lazy" srcset="https://www.quantamagazine.org/wp-content/uploads/2024/08/EwinTang-crXinyuTan-V2.webp 1300w, https://www.quantamagazine.org/wp-content/uploads/2024/08/EwinTang-crXinyuTan-V2-397x520.webp 397w, https://www.quantamagazine.org/wp-content/uploads/2024/08/EwinTang-crXinyuTan-V2-768x1006.webp 768w, https://www.quantamagazine.org/wp-content/uploads/2024/08/EwinTang-crXinyuTan-V2-1173x1536.webp 1173w" sizes="(max-width: 1300px) 100vw, 1300px">    </p>
            <figcaption>
                            <p>Ewin Tang helped devise a new fast algorithm for simulating how certain quantum systems behave at high temperatures.</p>
            <p>Xinyu Tan</p>
        </figcaption>
    </figure>

<p>But not all questions about quantum systems are easier to answer using quantum algorithms. Some are equally easy for classical algorithms, which run on ordinary computers, while others are hard for both classical and quantum ones.</p>
<p>To understand where quantum algorithms and the computers that can run them might offer an advantage, researchers often analyze mathematical models called spin systems, which capture the basic behavior of arrays of interacting atoms. They then might ask: What will a spin system do when you leave it alone at a given temperature? The state it settles into, called its thermal equilibrium state, determines many of its other properties, so researchers have long sought to develop algorithms for finding equilibrium states.</p>
<p>Whether those algorithms really benefit from being quantum in nature depends on the temperature of the spin system in question. At very high temperatures, known classical algorithms can do the job easily. The problem gets harder as temperature decreases and quantum phenomena grow stronger; in some systems it gets too hard for even quantum computers to solve in any reasonable amount of time. But the details of all this remain murky.</p>

<p>“When do you go to the space where you need quantum, and when do you go to the space where quantum doesn’t even help you?” said <a href="https://ewintang.com/">Ewin Tang</a>, a researcher at the University of California, Berkeley and one of the authors of the new result. “Not that much is known.”</p>
<p>In February, Tang and Moitra began thinking about the thermal equilibrium problem together with two other MIT computer scientists: a postdoctoral researcher named <a href="https://www.aineshbakshi.com/">Ainesh Bakshi</a> and Moitra’s graduate student <a href="https://aliu42.github.io/">Allen Liu</a>. In 2023, they’d all collaborated on <a href="http://arxiv.org/abs/2310.02243">a groundbreaking quantum algorithm</a> for a different task involving spin systems, and they were looking for a new challenge.</p>
<p>“When we work together, things just flow,” Bakshi said. “It’s been awesome.”</p>
<p>Before that 2023 breakthrough, the three MIT researchers had never worked on quantum algorithms. Their background was in learning theory, a subfield of computer science that focuses on algorithms for statistical analysis. But like ambitious upstarts everywhere, they viewed their relative naïveté as an advantage, a way to see a problem with fresh eyes. “One of our strengths is that we don’t know much quantum,” Moitra said. “The only quantum we know is the quantum that Ewin taught us.”</p>
<p>The team decided to focus on relatively high temperatures, where researchers suspected that fast quantum algorithms would exist, even though nobody had been able to prove it. Soon enough, they found a way to adapt an old technique from learning theory into a new fast algorithm. But as they were writing up their paper, another team came out with a <a href="http://arxiv.org/abs/2403.12691">similar result</a>: a proof that a <a href="https://arxiv.org/abs/2311.09207">promising algorithm</a> developed the previous year would work well at high temperatures. They’d been scooped.</p>
<h2><strong>Sudden Death Reborn</strong></h2>
<p>A bit bummed that they’d come in second, Tang and her collaborators began corresponding with <a href="https://www.ift.uam-csic.es/en/one-member/595">Álvaro Alhambra</a>, a physicist at the Institute for Theoretical Physics in Madrid and one of the authors of the rival paper. They wanted to work out the differences between the results they’d achieved independently. But when Alhambra read through a preliminary draft of the four researchers’ proof, he was surprised to discover that they’d proved something else in an intermediate step: In any spin system in thermal equilibrium, entanglement vanishes completely above a certain temperature. “I told them, ‘Oh, this is very, very important,’” Alhambra said.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Docusaurus – Build optimized websites quickly, focus on your content (145 pts)]]></title>
            <link>https://docusaurus.io/</link>
            <guid>41387922</guid>
            <pubDate>Thu, 29 Aug 2024 06:27:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://docusaurus.io/">https://docusaurus.io/</a>, See on <a href="https://news.ycombinator.com/item?id=41387922">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__docusaurus"><nav aria-label="Main"></nav><div id="__docusaurus_skipToContent_fallback"><main><div><div><div><div><p><img alt="Powered by MDX" width="1009" height="717" src="https://docusaurus.io/img/undraw_typewriter.svg" loading="lazy"></p><h3>Powered by MDX</h3><p>Save time and focus on text documents. Simply write docs and blog posts with MDX, and Docusaurus builds them into static HTML files ready to be served. You can even embed React components in your Markdown thanks to MDX.</p></div><div><p><img alt="Built Using React" width="1108" height="731" src="https://docusaurus.io/img/undraw_react.svg" loading="lazy"></p><h3>Built Using React</h3><p>Extend and customize your project's layout by writing React components. Leverage the pluggable architecture, and design your own site while reusing the same data created by Docusaurus plugins.</p></div><div><p><img alt="Ready for Translations" width="1137" height="776" src="https://docusaurus.io/img/undraw_around_the_world.svg" loading="lazy"></p><h3>Ready for Translations</h3><p>Localization comes out-of-the-box. Use git, Crowdin, or any other translation manager to translate your docs and deploy them individually.</p></div></div><div><div><p><img alt="Document Versioning" width="1038" height="693" src="https://docusaurus.io/img/undraw_version_control.svg" loading="lazy"></p><h3>Document Versioning</h3><p>Support users on all versions of your project. Document versioning helps you keep documentation in sync with project releases.</p></div><div><p><img alt="Content Search" width="1137" height="736" src="https://docusaurus.io/img/undraw_algolia.svg" loading="lazy"></p><h3>Content Search</h3><p>Make it easy for your community to find what they need in your documentation. We proudly support Algolia documentation search.</p></div></div></div><div><h2>Check it out in the intro video</h2></div></div><div><h2>Loved by many engineers</h2><div><div><div><p>We've been using Docusaurus for all the Redux org docs sites for the last couple years, and it's great! We've been able to focus on content, customize some presentation and features, and It Just Works.</p></div><div><p>We've been using V2 since January and it has been great - we spend less time building documentation and more time building 🛳</p><p>Thanks <b>@docusaurus</b> team 🦖</p></div><div><p>The #IOTA wiki is now part of the <b>@docusaurus</b> showcase. We even have the honor of being a favorite. We are really happy that we found this project. It helped us a lot to improve the documentation. And we still have a lot of plans with things like tutorials, versioning and i8n.</p></div></div><div><div><p>I've used Docusaurus for two websites this year, and I've been very happy about the v2. Looks good, and simple to setup.</p></div><div><p>Continue to be impressed and excited about Docusaurus v2 alpha releases. Already using the sidebar items generator to help monorepo workspace devs create their own doc pages without any configuration needed.</p></div><div><p>http://testing-library.com just got a nice update! We're now on the latest version of <b>@docusaurus</b> thanks to @matanbobi, @TensorNo, and @nickemccurdy 💙</p><p>My favorite new feature: dark mode!! 🌑/☀️</p></div></div><div><div><p>Docusaurus v2 doubles as a really nice little static site generator tool for content-focused sites, love it 👏</p></div><div><p>Been doing a lot of work with <b>@docusaurus</b> lately and I have to say it is really fun to work with. A lot of really cool features. I love that you can easily reuse content by creating a markdown file and importing it as a component. 🔥</p></div><div><p>Happy to share Temporal's first open source sponsorship — of</p><!-- --> <p><b>@docusaurus</b>!</p><p>@temporalio uses it for http://docs.temporal.io, and it has been a huge boon to our docs team. @sebastienlorber is an incredible steward of the project, support it if you can!</p></div></div></div></div><div><div><div><p>Christopher "vjeux" Chedeau</p><p><small>Lead Prettier Developer</small></p></div><p>I've helped open source many projects at Facebook and every one needed a website. They all had very similar constraints: the documentation should be written in markdown and be deployed via GitHub pages. I’m so glad that Docusaurus now exists so that I don’t have to spend a week each time spinning up a new one.</p></div><div><div><p>Hector Ramos</p><p><small>Lead React Native Advocate</small></p></div><p>Open source contributions to the React Native docs have skyrocketed after our move to Docusaurus. The docs are now hosted on a small repo in plain markdown, with none of the clutter that a typical static site generator would require. Thanks Slash!</p></div><div><div><p>Ricky Vetter</p><p><small>ReasonReact Developer</small></p></div><p>Docusaurus has been a great choice for the ReasonML family of projects. It makes our documentation consistent, i18n-friendly, easy to maintain, and friendly for new contributors.</p></div></div></main></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HDMI Forum rejects AMD's HDMI 2.1 open-source driver (280 pts)]]></title>
            <link>https://www.tomshardware.com/pc-components/gpus/hdmi-forum-rejects-amds-hdmi-21-open-source-driver</link>
            <guid>41386667</guid>
            <pubDate>Thu, 29 Aug 2024 02:28:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.tomshardware.com/pc-components/gpus/hdmi-forum-rejects-amds-hdmi-21-open-source-driver">https://www.tomshardware.com/pc-components/gpus/hdmi-forum-rejects-amds-hdmi-21-open-source-driver</a>, See on <a href="https://news.ycombinator.com/item?id=41386667">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="article-body">
<p>AMD's open-source Linux graphics driver has <a data-analytics-id="inline-link" href="https://gitlab.freedesktop.org/drm/amd/-/issues/1417#note_2303163" data-url="https://gitlab.freedesktop.org/drm/amd/-/issues/1417#note_2303163" target="_blank" referrerpolicy="no-referrer-when-downgrade" data-hl-processed="none">hit a roadblock</a> in adding HDMI 2.1+ due to the HDMI Forum's legal&nbsp;requirements. Despite lengthy attempts to find a solution, the HDMI Forum has&nbsp;rejected&nbsp;AMD's&nbsp;proposal, leaving users&nbsp;of some of the&nbsp;<a data-analytics-id="inline-link" href="https://www.tomshardware.com/reviews/best-gpus,4380.html" data-before-rewrite-localise="https://www.tomshardware.com/reviews/best-gpus,4380.html">best graphics cards</a>&nbsp;without the ability to use&nbsp;advanced&nbsp;features like 4K@120Hz and 5K@240Hz&nbsp;via&nbsp;HDMI 2.1. As a result,&nbsp;AMD recommends&nbsp;Linux users&nbsp;to&nbsp;switch to DisplayPort instead.</p><p>"The HDMI Forum has rejected our proposal unfortunately"&nbsp;<a data-analytics-id="inline-link" href="https://gitlab.freedesktop.org/drm/amd/-/issues/1417#note_2303163" data-url="https://gitlab.freedesktop.org/drm/amd/-/issues/1417#note_2303163" target="_blank" referrerpolicy="no-referrer-when-downgrade" data-hl-processed="none">said</a>&nbsp;AMD Linux engineer Alex Deucher&nbsp;in a statement published in the bug report. "At this time an open source HDMI 2.1 implementation is not possible without running afoul of the HDMI Forum requirements."&nbsp;</p><p>For three years, AMD has been grappling with a bug report indicating the absence of 4K@120Hz&nbsp;and&nbsp;5K @ 240Hz support through HDMI 2.1for Linux users.&nbsp;This occurred because&nbsp;in 2021 the HDMI Forum restricted public access to its specifications. This move was to ensure that only authorized manufacturers and developers can access the technical details required to implement HDMI features in their products (and pay royalties to developers of respective technologies). On the one hand, this move ensures the quality and consistency of HDMI experience. But on the other hand, this greatly&nbsp;hindered open-source&nbsp;driver&nbsp;support.&nbsp;</p><p>In response, AMD and the X.Org Foundation engaged with the HDMI Forum to devise a solution that would allow open-source implementations of the now-private HDMI specifications.&nbsp;AMD's Linux engineers, in collaboration with the&nbsp;company's&nbsp;legal team, dedicated months to evaluating all of the HDMI features to determine if they could be exposed in the open-source&nbsp;<a data-analytics-id="inline-link" href="https://www.tomshardware.com/tag/radeon" data-auto-tag-linker="true" data-before-rewrite-localise="https://www.tomshardware.com/tag/radeon">Radeon</a>&nbsp;driver. They have reportedly developed internal code and awaited approval from the HDMI Forum.&nbsp;</p><p>Unfortunately, the HDMI Forum ultimately denied AMD's request for open-source driver support. The rejection is especially&nbsp;frustrating&nbsp;considering the months AMD spent engineering and prototyping code for HDMI 2.1+ features within&nbsp;its&nbsp;internal open-source AMDGPU codebase, notes <a data-analytics-id="inline-link" href="https://www.phoronix.com/news/HDMI-2.1-OSS-Rejected" data-url="https://www.phoronix.com/news/HDMI-2.1-OSS-Rejected" target="_blank" referrerpolicy="no-referrer-when-downgrade" data-hl-processed="none">Phoronix</a>. This effort, aimed at showcasing HDMI 2.1+ capabilities for review by the HDMI Forum, now appears to be a largely wasted investment of significant resources.&nbsp;</p><p>In light of these challenges, AMD may need to explore alternative solutions, such as incorporating more features into&nbsp;its closed-source firmware or utilizing their PSP IP block to protect certain aspects&nbsp;of the HDMI specification. However, for the time being, the lack of HDMI 2.1+ feature support in open-source <a data-analytics-id="inline-link" href="https://www.tomshardware.com/tag/drivers" data-auto-tag-linker="true" data-before-rewrite-localise="https://www.tomshardware.com/tag/drivers">drivers</a> remains&nbsp;reality. Consequently, open-source supporters are advised to&nbsp;use&nbsp;DisplayPort for the best experience.</p><div data-hydrate="true" id="slice-container-newsletterForm-articleInbodyContent-9Rkt7f3tfTyz4hced5yH9d"><section><p>Get Tom's Hardware's best news and in-depth reviews, straight to your inbox.</p></section></div>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Air Con: $1697 for an on/off switch (1590 pts)]]></title>
            <link>https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/</link>
            <guid>41386319</guid>
            <pubDate>Thu, 29 Aug 2024 01:28:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/">https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/</a>, See on <a href="https://news.ycombinator.com/item?id=41386319">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
    
    
    <p><strong>Forcing customers to replace an entire system just because the cheapest component failed might be really profitable</strong>, I have no idea… But I do know that it annoyed me enough to make me want to fix it myself. While I understand that what I do next is beyond a large number of Advantage Air customers, in my investigation I found that there seems to be only software choices preventing modern tablets from working with older control systems.  Adding a simple “system” chooser to their software applications would give solutions to everyone, while the custom POE connector would ensure they still need their hardware.</p>
<h2 id="aircon-controller">Aircon Controller
</h2><p>My family had a new home built in 2019. As part of the build package a large ducted reverse cycle (heatpump) air conditioning system was installed.  As it was part of the entire build I am not sure on the specific price of this system but based on other quotes I have seen for a similar sized house I would guess $10k-$12k.  The system has two main parts, the actual Daikin airconditioner and an Advantage Air control box in attic that opens the vents to the various zones. This control system is operated by a cheap POE powered Android tablet on the wall of the living room.</p>
<p>The Advantage Air e-zone system is an adequate interface that does its job reasonably well, it has the ability to actively monitor temperature and adjust vent opening angles and fan speed to achieve desired temperatures across multiple zones. This combined with the ability to allow remote control via phone apps from anywhere meant <strong>I would have happily recommended this system to anyone</strong>.</p>
<h2 id="control-lost">Control Lost
</h2><p>On Sunday the 18th of August 2024 approximately 6 months past warranty this changed.  The tablet was complaining that “Sorry Google services has stopped”.  I dismissed this message and continued with the task I had intended and turned off the heater.  Later that day I returned home and went to turn the heater on again, only to find that this time the e-zone app itself had died and refused to launch.  I restarted the tablet only to be greeted with a never ending ANDROID loading screen.</p>
<p>Being a Sunday the next few hours I researched and tried everything I could find to get this tablet working again.  I entered recovery modes both English and Chinese and cleared every setting/partition I could.  There was no visible USB interface on the device so I couldn’t connect it to a computer.  Clearly there was something wrong with the operating system, a “system integrity check” returned multiple errors.</p>
<h2 id="disappointing-service">Disappointing Service
</h2><p>I called Advantage Air support the next day and waited for a call back.  Eventually a support agent called and I explained my problem.  One of the first questions I received was on the age of the system.  Once he had established it was out of warranty <strong>it was explained to me that if the tablet was dead I would need a whole new control system for $1245</strong>.  When I pushed back complaining that I only needed the cheap tablet replaced I received what sounded like a well rehearsed excuse along the lines of “Well technology keeps moving forward and systems aren’t compatible, new phones come out every year”.  I was incredulous, <strong>I’m all for smart things, but this is effectively just the on/off switch for my air conditioner</strong>.  To be clear, the Airconditioner worked fine, the control box worked fine, only the Android tablet had failed.  We ended the call with him offering to send me instructions on how to hard reset the tablet.</p>
<p><img src="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/recovery.jpeg" width="3024" height="4032" srcset="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/recovery_hu12918632069216153079.jpeg 480w, https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/recovery_hu16335612587761864593.jpeg 1024w" loading="lazy" alt="Recovery: System Check Failed" data-flex-grow="75" data-flex-basis="180px"> <img src="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/chinese.jpeg" width="3024" height="4032" srcset="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/chinese_hu16529903957547862901.jpeg 480w, https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/chinese_hu17718868437222073798.jpeg 1024w" loading="lazy" alt="Factory recovery menu" data-flex-grow="75" data-flex-basis="180px"> <img src="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/productreview.png" width="1818" height="2012" srcset="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/productreview_hu3147721685027291179.png 480w, https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/productreview_hu13397316582959955098.png 1024w" loading="lazy" alt="Very common problem" data-flex-grow="90" data-flex-basis="216px"></p>
<p>When the instructions arrived I found they were nothing I hadn’t already tried.  In the meantime I had my hopes buoyed with <a href="https://forums.whirlpool.net.au/thread/3n1jljwq?p=2#r37" target="_blank" rel="noopener">evidence of people effectively using the latest tablet models</a> with systems older than mine.  This began a series of back and forth emails between myself and support where I would get increasingly frustrated at their complete refusal to sell me a control tablet and the bullshit excuses that always came along with it.  <strong>I was angry and <a href="https://www.productreview.com.au/listings/advantage-air?sortBy=ratingLowest" target="_blank" rel="noopener">it is clear that I’m not the only one</a></strong>.</p>
<p>The straw that broke the camels back was when their official quote came through.  <strong>Apparently not only the tablet and control system would need replacing but also the wireless temperature sensors too</strong>.  This brought the price to $1697.  $1697 so I could turn my heater on again.  This is frankly outrageous and seems almost predatory.  Fortunately it was nearly spring here in Australia, but <strong>in Summer people would pay nearly anything to get the aircon on again</strong>.</p>
<h2 id="ok-ill-fix-it-myself">Ok I’ll fix it myself
</h2><p>I now had an angry fire lit.  I was not going to pay this company a cent and became determined to fix/replace their tablet or install another companies system entirely.  <strong>My first step was to rip the tablet off the wall and take it apart</strong>.  The POE connection wasn’t something I recognised as standard as it was sending 12V and 2V on the middle pins.</p>
<p>Upon opening the tablet I found a hidden USB port! Connecting this to my computer allowed me to charge the device but no matter what I did, fastboot, recovery, adb sideload mode, everything… it wouldn’t recognise it.  I initially thought this was due to me never enabling “USB Debugging” inside the android interface but I would later realise it was the POE connector.</p>
<p>After a couple of hours of frustratingly trying to load different firmwares via SDCard (I should state I am a total Android noob and was clumsily doing all of this)  I finally decided to unscrew the main board and see where the extra wires from the POE connector went.</p>
<p><img src="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/insidetablet.jpeg" width="4032" height="3024" srcset="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/insidetablet_hu14582507760185044323.jpeg 480w, https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/insidetablet_hu10318497328469925549.jpeg 1024w" loading="lazy" alt="Inside the tablet" data-flex-grow="133" data-flex-basis="320px"> <img src="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/usb.jpg" width="3019" height="2585" srcset="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/usb_hu16766451404790598658.jpg 480w, https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/usb_hu3571500084571447256.jpg 1024w" loading="lazy" alt="POE to USB connection found!" data-flex-grow="116" data-flex-basis="280px"></p>
<p>AHA 3 wires, connected to USB 5V and data lines!  The first thing I did was cut those datalines and immediately I could see the tablet when I ran <code>fastboot devices</code>This lead to another couple of hours going down the rabbit hole of trying to use <code>mtktool</code> to unlock the bootloader.  While it looked promising it would always fail on <code>stage2</code> what ever that is and did feel hardware related.</p>
<p><strong>In retrospect I wasted way too much time trying to resurrect this clearly broken tablet</strong>.  For whatever reason (I suspect some sort of storage failure) everyone’s tablets die around the same time.</p>
<p><strong>When I finally gave up on the existing tablet, everything started falling into place</strong>.  The only really unique part of this tablet, hardware wise was the POE adapter.  I could see it served two functions.  First it was wired to replace the battery to allow always on use, and secondly it was a USB device.</p>
<p>My first instinct was to go buy another cheap android tablet and wire it up exactly as this one was.  But I know next to nothing about circuit boards and my soldering of small components is atrocious.  So my second instinct was to wire this POE connector up to a USB-A plug, connect it to my computer (via a hub, I didn’t trust my wiring at all ) then see if I could detect it.</p>
<p>I couldn’t detect anything, then realised that maybe it was acting as a host and therefore could only connect to tablets/phones.  I needed an Android tablet or phone.  Fortunately I remembered that I did have an Android tablet, <a href="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/beercomp.png">I won a Samsung Galaxy Tab 4 back in 2015 in a Hahn beer competition I entered randomly</a>.  I had no idea where it was so spent another hour turning the house upside down for this forgotten relic.  My wife asked me what I was doing and when I told her she nonchalantly said “Oh the white one, yeah I saw it in the laundry cupboard a while back, does it even work?”</p>
<p>I had no idea if it worked or not, but after 5 minutes of charging I saw the lock screen and excitedly attached my terribly soldered connector.</p>
<p><img src="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/terrible-soldering.jpeg" width="3024" height="4032" srcset="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/terrible-soldering_hu5368250854703282792.jpeg 480w, https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/terrible-soldering_hu13417741372613334431.jpeg 1024w" loading="lazy" alt="POE to USB connection" data-flex-grow="75" data-flex-basis="180px"> <img src="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/first-connect.jpeg" width="3024" height="4032" srcset="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/first-connect_hu13139286892098828596.jpeg 480w, https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/first-connect_hu13758548242967598701.jpeg 1024w" loading="lazy" alt="First connection attempt" data-flex-grow="75" data-flex-basis="180px"></p>
<p>Whoa! <strong>This was a step forward and also the exact point when I knew my venture would be successful</strong>.  I am not a hardware/electronics expert, but I am <em>very comfortable</em> in software.</p>
<p>The original ezone tablet had been running Android 6.0, this Samsung was still on 5.0 but I didnt think that would cause any issues so I got started on doing what was clearly missing: The required apps.  All ezone apps are available both on the Advantage Air website and the apkpure site.  I only learned of the apkpure site from a post claiming he had been directed to it by a AA tech support person.</p>
<p>I installed two apps.  The AAService app, which I guessed was the always on “service” and the Ezone “interface” app.  I excitedly connected the poe dongle again:</p>


“Not on AA Hardware”
<p>Well duh, I didn’t expect it to be THAT easy but it was another roadblock,  I would have to learn how to patch Android apps.  I cut my teeth on Softice in DOS reversing much more complicated software for fun so I wasn’t daunted by this, but I also wasn’t expecting it to be so damn easy.</p>
<h2 id="android-app-patching">Android app patching
</h2><p>Thanks to <a href="https://yasoob.me/posts/reverse-engineering-android-apps-apktool/" target="_blank" rel="noopener">this article</a>.  I learned that you can use a tool, er… <code>apktool</code>  that allows you to not only disassemble an apk into smali ( <a href="https://payatu.com/blog/an-introduction-to-smali/" target="_blank" rel="noopener">a kind of Java runtime machine code</a> ) but <strong>you can make modifications and run the command in reverse <code>apktool b</code> and it rebuilds it into a runnable app!</strong>  No need for replacing bytes with a hex editor to stay within bounds etc… lol this seems like magic.</p>
<div><pre tabindex="0"><code data-lang="bash"><span><span>$ apktool d app-aaservice2-release-14.116
</span></span></code></pre></div><p>Cherry on the top is that <strong>you can also use a de-compiler JAXE on an apk that does its best to turn it back into Java</strong>.  This code wont compile, but it has the exact same structure as the smali code.  So you can identify what you need to modify in the pseudo-java, then make the changes in the smali. I used the <a href="http://www.javadecompilers.com/apk" target="_blank" rel="noopener">awesome hosted version here</a>.</p>
<p>So I opened the decompiled java project in VSCode, then one search for “AA Hardware” and I was here:</p>
<div><pre tabindex="0"><code data-lang="java"><span><span>    <span>/* access modifiers changed from: protected */</span>
</span></span><span><span>    <span>public</span> <span>void</span> <span>onResume</span>() {
</span></span><span><span>        <span>super</span>.<span>onResume</span>();
</span></span><span><span>        f2272e.<span>set</span>(<span>true</span>);
</span></span><span><span>        Log.<span>d</span>(f2271d, <span>"onResume"</span>);
</span></span><span><span>        <span>if</span> (ServicePleaseReboot.<span>f2283b</span>.<span>get</span>()) {
</span></span><span><span>            setContentView(R.<span>layout</span>.<span>reboot_now</span>);
</span></span><span><span>            e.<span>a</span>((Activity) <span>this</span>);
</span></span><span><span>        } <span>else</span> <span>if</span> (f.<span>a</span>()) {
</span></span><span><span>            a();
</span></span><span><span>        } <span>else</span> {
</span></span><span><span>            Log.<span>d</span>(f2271d, <span>"Not on AA Hardware"</span>);
</span></span><span><span>            Toast.<span>makeText</span>(<span>this</span>, R.<span>string</span>.<span>not_on_aa_hardware_error</span>, 1).<span>show</span>();
</span></span><span><span>            finish();
</span></span><span><span>        }
</span></span><span><span>    }
</span></span></code></pre></div><p>Excellent, so if <code>f.a()</code> is false then the “Not on AA Hardware” error will display and the app will quit.  Following the imports ( I am not a Java person so this caught me out ) I found the <code>f</code> class was this:</p>
<div><pre tabindex="0"><code data-lang="java"><span><span><span>import</span> b.a.a.a.i;
</span></span><span><span>
</span></span><span><span><span>/* compiled from: GetTabletInfo */</span>
</span></span><span><span><span>class</span> <span>f</span> {
</span></span><span><span>    <span>static</span> <span>boolean</span> <span>a</span>() {
</span></span><span><span>        <span>return</span> i.<span>c</span>() <span>||</span> i.<span>d</span>() <span>||</span> i.<span>e</span>() <span>||</span> i.<span>g</span>() <span>||</span> i.<span>f</span>() <span>||</span> i.<span>b</span>();
</span></span><span><span>    }
</span></span><span><span>}
</span></span></code></pre></div><p>Now if you now go to <code>sources/b/a/a/a/i.java</code> you will find that each one of these is a check against the device <code>Build.MODEL</code></p>
<p>for example i.c() is:</p>
<div><pre tabindex="0"><code data-lang="java"><span><span>    <span>public</span> <span>static</span> <span>boolean</span> <span>c</span>() {
</span></span><span><span>        <span>return</span> a().<span>contains</span>(<span>"eZone"</span>) <span>||</span> a().<span>contains</span>(<span>"e-zone"</span>) <span>||</span> a().<span>equals</span>(<span>"PIC7KS-EZ"</span>) <span>||</span> a().<span>equals</span>(<span>"PIC7KS6"</span>) <span>||</span> a().<span>equals</span>(<span>"PIC7KS6-EZ"</span>);
</span></span><span><span>    }
</span></span></code></pre></div><p>So each of these i.c() i.d() etc… just feature flag functions checking against the model name.  This c() function above is probably named something like <code>isEzone()</code>. Another might be something like <code>isMyAir4()</code> or <code>isZone10()</code> etc…  So I had two easy options to make this work with my e-Zone controller box.  I could make the i.c() (isEzone()) function always return true, or I could make the a() function always return my old tablet devicename.  In retrospect I think the first option would have worked fine, but at the time I didn’t know if the model name was being checked anywhere else so I chose the latter.</p>
<p>My old tablet’s model name was on a sticker on the inside of the case, but looking at the code I saw it needed the <code>-EZ</code> identifier tagged to end.  So the string I was to return was “PIC7KS6-EZ”. The original Java function looked like this:</p>
<div><pre tabindex="0"><code data-lang="java"><span><span>    <span>private</span> <span>static</span> String <span>a</span>() {
</span></span><span><span>        String str <span>=</span> Build.<span>MODEL</span>;
</span></span><span><span>        <span>if</span> (str.<span>equals</span>(<span>"SM-T113"</span>)) {
</span></span><span><span>            str <span>=</span> <span>"MyAir5"</span>;
</span></span><span><span>        }
</span></span><span><span>        .
</span></span><span><span>        . <span>// other if statements overriding Build.MODEL</span>
</span></span><span><span>        .
</span></span><span><span>        <span>if</span> (str.<span>equals</span>(<span>"PIC8GS8"</span>)) {
</span></span><span><span>            <span>return</span> <span>"MyAir5"</span>;
</span></span><span><span>        }
</span></span><span><span>        <span>return</span> str; <span>// &lt;-- I needed to change this to return "PIC7KS6-EZ"</span>
</span></span><span><span>    }
</span></span></code></pre></div><p>Jumping over to <code>sources/b/a/a/a/i.smali</code> I found the same function, but with the smali code.  I could see the same if statements and the same return str.  I just had to change the return str to return “PIC7KS6-EZ”</p>
<div><pre tabindex="0"><code data-lang="smali"><span><span>
</span></span><span><span>    :cond_4
</span></span><span><span>    const-string v1, <span>"PIC8GS8"</span>
</span></span><span><span>
</span></span><span><span>    <span>.line</span> <span>7</span>
</span></span><span><span>    invoke-virtual {v0, v1}, <span>L</span>java/lang/<span>String</span>;-&gt;<span>equals</span>(<span>L</span>java/lang/<span>Object</span>;)<span>Z</span>
</span></span><span><span>
</span></span><span><span>    move-result v1
</span></span><span><span>
</span></span><span><span>    if-eqz v1, :cond_5
</span></span><span><span>
</span></span><span><span>    goto :goto_0
</span></span><span><span>
</span></span><span><span>    :cond_5
</span></span><span><span>    <span>#move-object v2, v0 # &lt;-- this was return str;
</span></span></span><span><span><span></span>    const-string v2, <span>"PIC7KS6-EZ"</span>  <span># this returning the new string instead
</span></span></span><span><span><span></span>
</span></span><span><span>    :goto_0
</span></span><span><span>    return-object v2
</span></span><span><span><span>.end</span> <span>method</span>
</span></span></code></pre></div><p>Ok modification done time to rebuild it</p>
<div><pre tabindex="0"><code data-lang="bash"><span><span>$ apktool b app-aaservice2-release-14.116
</span></span></code></pre></div><p>Like magic you now have a new apk in the <code>dist</code> folder.  This apk is unsigned though so I needed to sign it.  I don’t do any android work so I had to google what to do, but I ended up creating a key store like this.</p>
<div><pre tabindex="0"><code data-lang="bash"><span><span>$ keytool -genkey -v -keystore my-release-key.jks -keyalg RSA -keysize <span>2048</span> -validity <span>10000</span> -alias my-android-release
</span></span></code></pre></div><p>Then I signed the apk with this command</p>
<div><pre tabindex="0"><code data-lang="bash"><span><span>jarsigner -verbose -sigalg MD5withRSA -digestalg SHA1 -keystore ../my-release-key.jks -storepass passwordiused dist/app-aaservice2-release-14.116.apk my-android-release
</span></span></code></pre></div><p>Then I connected my tablet and tried to install.  Only to be hit with <code>INSTALL_FAILED_DUPLICATE_PERMISSION</code>.  Turns out this was because I was installing the aaservice app which was requesting the same permissions as the ezone app.  This is fine <em>if they are both signed by the same key</em> but they were not.  To get things moving I just deleted the ezone app.</p>
<p>This time I fired up the aaservice app and it worked! I even got a nice notification announcing “System connected”.  OK Great! I had a working service, now only needed the UI app eZone working.  I did did the exact same <code>apktool d</code> and <code>JAXE</code> decompile as before but VSCode didn’t find any device strings or “Build.MODEL” checks. I quickly signed the eZone app with the matching key and installed, hoping that it didn’t need any other modifications.  Upon opening it seemed to be attempting to connect but ended up returning an error about an un-recognised system.</p>
<p>I went back to the decompiled java and realised that actually VSCode’s search was just taking a long time, so I restricted the search to the java files.  It didn’t take long to find the exact same device checking code.  I made the exact same change to <code>smali/com/air/advantage/w1/k.smali</code> and rebuilt the apk.  Installed it, connected to the POE and …</p>
<p><img src="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/it-works.jpeg" width="3024" height="4032" srcset="https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/it-works_hu4393131111181304838.jpeg 480w, https://blog.hopefullyuseful.com/blog/advantage-air-ezone-tablet-diy-repair/it-works_hu14442212562343589111.jpeg 1024w" loading="lazy" alt="E-Zone running on a normal Android tablet" data-flex-grow="75" data-flex-basis="180px"></p>
<p><strong>E-Zone running perfectly on an ancient Samsung Galaxy Tab 4</strong>.  I was elated.  After I gave up on repairing the original, getting this tablet working took only a few hours and was a hell of a lot of fun.  This tablet is 10+ years old and yet still is much snappier than the junk that came with the system, but if I want to upgrade to something more powerful, say to control my homeassistant etc… all I need to do is plug it into the usb.  But for turning the AC on and off it is more than enough and I am currently waiting on a nice flush connector to arrive then will mount it on the wall.</p>
<p>My aircon company (Not Advantage Air) kindly emailed me the next day to let me know that one of their installers had found an old tablet in the back of a van that I could purchase for $400.  Although still outrageously expensive for what it is, had Advantage Air offered this originally I probably would have jumped at it.  Instead I am thankful I had the opportunity to get this working on my own.</p>
<p>Hopefully this post is useful to someone else in the same situation.  None of this can be done without the original POE connector so it won’t help anyone that doesn’t already have AA hardware, but if this extremely common tablet failure is the problem you are facing then a little soldering and a new tablet is all you need.</p>

</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Judge dismisses majority of GitHub Copilot copyright claims (119 pts)]]></title>
            <link>https://lwn.net/Articles/987524/</link>
            <guid>41385637</guid>
            <pubDate>Wed, 28 Aug 2024 23:44:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lwn.net/Articles/987524/">https://lwn.net/Articles/987524/</a>, See on <a href="https://news.ycombinator.com/item?id=41385637">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>
Developer <a href="https://www.developer-tech.com/news/judge-dismisses-majority-github-copilot-copyright-claims/">reports</a>
that most (but not all) of the claims in the GitHub Copilot lawsuit have
been dismissed with prejudice by the judge.
</p><blockquote>
	Judge Jon Tigar's ruling, unsealed last week, leaves only two
	claims standing: one accusing the companies of an open-source
	license violation and another alleging breach of contract. This
	decision marks a substantial setback for the developers who argued
	that GitHub Copilot, which uses OpenAI's technology and is owned by
	Microsoft, unlawfully trained on their work.
</blockquote><br clear="all"><hr>
            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Post by Guido van Rossum Removed for Violating Python Community Guidelines (218 pts)]]></title>
            <link>https://discuss.python.org/t/should-we-consider-ranked-choice-voting-for-sc-elections/61880</link>
            <guid>41385546</guid>
            <pubDate>Wed, 28 Aug 2024 23:32:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://discuss.python.org/t/should-we-consider-ranked-choice-voting-for-sc-elections/61880">https://discuss.python.org/t/should-we-consider-ranked-choice-voting-for-sc-elections/61880</a>, See on <a href="https://news.ycombinator.com/item?id=41385546">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <meta itemprop="headline" content="Should we consider Ranked Choice voting for SC elections?">
      
      <meta itemprop="datePublished" content="2024-08-25T02:11:36Z">
        <meta itemprop="articleSection" content="Committers">
      <meta itemprop="keywords" content="governance">
      


          <div id="post_1">
            <div>
              


              <p><span>
                  <time datetime="2024-08-25T02:11:36Z">
                    August 25, 2024,  2:11am
                  </time>
                  <meta itemprop="dateModified" content="2024-08-25T02:11:36Z">
              <span itemprop="position">1</span>
              </span>
            </p></div>
            <div itemprop="text">
              <p><em>Speaking for myself:</em></p>
<h2><a name="p-186485-summary-1" href="#p-186485-summary-1"></a>Summary</h2>
<p>I propose changing our Steering Council election process from simple approval voting to a ranked choice system to better capture voter preferences and provide more meaningful feedback to candidates. I want your input to know if this is worth pursuing.</p>
<h2><a name="p-186485-background-2" href="#p-186485-background-2"></a>Background</h2>
<p>Our <a href="https://peps.python.org/pep-0013/">PEP-13</a> voting method has remained unchanged <a href="https://github.com/python/peps/pull/1197">since late 2019</a>. While functional, the simple approval voting system has limitations we should address.</p>
<h2><a name="p-186485-current-limitations-3" href="#p-186485-current-limitations-3"></a>Current Limitations</h2>
<ol>
<li>
<p><strong>No Preference Expression</strong>: Voters can’t express preferences among approved candidates.</p>
</li>
<li>
<p><strong>Encourages Strategic Voting</strong>: The current system incentivizes limiting approvals, potentially distorting true preferences. Here’s why:</p>
<ul>
<li>In simple approval voting, each approved candidate gets equal weight.</li>
<li>To give stronger support to preferred candidates, voters may withhold approval from candidates they actually find acceptable but less preferable.</li>
<li>This creates a dilemma: approve more candidates and dilute the impact of your vote, or approve fewer to strengthen support for top choices but potentially harm acceptable alternatives.</li>
<li>As a result, voters might not express their true preferences, instead engaging in strategic approval to maximize their vote’s impact.</li>
</ul>
</li>
<li>
<p><strong>Limited Feedback</strong>: Candidates receive only binary “approval” feedback, which can be discouraging and doesn’t reflect actual voter sentiment.</p>
</li>
</ol>
<h2><a name="p-186485-proposed-solution-ranked-choice-voting-4" href="#p-186485-proposed-solution-ranked-choice-voting-4"></a>Proposed Solution: Ranked Choice Voting</h2>
<p>Ranked choice voting would allow voters to rank candidates in order of preference, offering:</p>
<ol>
<li><strong>Better Preference Capture</strong>: Voters express their full range of preferences.</li>
<li><strong>Less Strategic Voting</strong>: Reduced need to “game” the system by selective approval.</li>
<li><strong>Nuanced Feedback</strong>: Candidates receive more detailed information about their support.</li>
</ol>
<h2><a name="p-186485-implementation-considerations-5" href="#p-186485-implementation-considerations-5"></a>Implementation Considerations</h2>
<ul>
<li>Voters would rank only as many candidates as they wish.</li>
<li>The PSF already handles the implementation and administration of the current SC voting process. They would likely extend this role to manage the ranked choice voting system, given sufficient notice.</li>
<li>I would not <em>assume</em> such a change is possible for this years election.</li>
</ul>
<h2><a name="p-186485-historical-context-6" href="#p-186485-historical-context-6"></a>Historical Context</h2>
<p>While we used ranked choice voting to select our governance model (<a href="https://peps.python.org/pep-8001/">PEP 8001</a>), as far as my limited searching could find, we haven’t discussed it for Steering Council elections. Please link to more context if that isn’t true.</p>
<h2><a name="p-186485-next-steps-7" href="#p-186485-next-steps-7"></a>Next Steps</h2>
<ol>
<li>Gather community feedback on this proposal. (that’s you!)</li>
<li>If there’s sufficient interest, conduct a straw poll here.</li>
<li>If <a href="https://peps.python.org/pep-0013/#changing-this-document">supported</a>, draft a formal proposal to vote to adjust PEP-13’s voting method.</li>
</ol>
<h2><a name="p-186485-questions-for-yall-8" href="#p-186485-questions-for-yall-8"></a>Questions for y’all</h2>
<ol>
<li>Is this change worth pursuing?</li>
<li>What benefits or drawbacks do you see in switching to ranked choice voting?</li>
<li>Should we consider other voting methods? If so, why?</li>
</ol>
<p>I encourage everyone to share their thoughts. I wouldn’t want to move forward with this without obviously clear support.</p>
<hr>
<p>My take: I don’t believe it is knowable if this would change the outcome of our elections or not, but if nothing else it should be a better experience for voters and candidates alike.</p>
<p>While the topic has come up in passing at times, I have not discussed this proposal with the rest of the steering council. The SC doesn’t decide this anyways - thus taking it directly to all of you.</p>
            </div>

            

          </div>
          <div id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/ncoghlan"><span itemprop="name">ncoghlan</span></a>
                (Alyssa Coghlan)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-25T05:00:28Z">
                    August 25, 2024,  5:00am
                  </time>
                  <meta itemprop="dateModified" content="2024-08-25T05:00:28Z">
              <span itemprop="position">2</span>
              </span>
            </p>
            <div itemprop="text">
              <p>For the PSF Board elections (many candidates these days, most of whom I don’t know personally), I genuinely appreciate the simplicity of Approval voting (I’m merely being asked to answer the question “Do I think this individual would serve the PSF well as a Director?” several times rather than trying to assess the candidates relative to each other). The scope of the PSF Board’s role is so broad that different candidates are likely to offer advantages in different areas that can’t readily be reduced to a linear preference order. If I had to rank them, I’d be tempted not to vote at all.</p>
<p>For the SC, deciding on a preference order amongst my approvals seems much more feasible, since the scope of the role is narrower. Being asked to supply that ranking explicitly wouldn’t harm my willingness to vote.</p>
<p>So I guess I’d be a +0? I know I sometimes skip voting “Approve” on SC candidates that I think would be fine in absolute terms, but would rank below my approved candidates in a preferential list, so I do see potential benefits in terms of election outcome clarity.</p>
<p>With optional preferential voting, those less preferred candidates would still get a ranking, with only folks that I genuinely didn’t feel were good SC candidates not getting ranked at all. (I <em>don’t</em> think compulsory preferential voting would be a good fit for that reason: without the option of letting our votes exhaust, we wouldn’t have a way to express “I don’t think these candidates are a good fit for the role”)</p>
            </div>

            

          </div>
          <div id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <div>
              <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/larry"><span itemprop="name">larry</span></a>
                (Larry Hastings)
              </span></p>

              <p><span>
                  <time itemprop="datePublished" datetime="2024-08-25T07:25:25Z">
                    August 25, 2024,  7:25am
                  </time>
                  <meta itemprop="dateModified" content="2024-08-25T07:25:25Z">
              <span itemprop="position">3</span>
              </span>
            </p></div>
            <div itemprop="text">
              <p>Standard RCV isn’t a viable choice for the Steering Council elections.  It’s a single-winner electoral system–but the Steering Council elections need to produce five winners.  We’d need a multi-winner variant of RCV, perhaps <a href="https://en.wikipedia.org/wiki/Single_transferable_vote">Single Transferrable Vote, aka STV</a>.</p>
<p>Anyway, I’m a firm -1 on this.  I think RCV is basically awful.  Voting in an RCV election is awkward, its tabulation is overly complicated, and it’s actually terrible for outsider candidates (read: third-party candidates).  I suppose it’s a small improvement over <a href="https://en.wikipedia.org/wiki/Plurality_voting">“plurality” voting (aka “first-past-the-post” voting)</a>.  But that’s faint praise indeed.  And I’d be very surprised if STV was a big improvement over RCV.</p>
<p>I’m an amateur electoral system enthusiast.  I’ve done a bunch of reading on the subject, and watched a bunch of videos too, and I’ve formed my own opinions… though I wouldn’t call myself any sort of expert.  The most illuminating thing I’ve seen on this subject is <a href="https://www.youtube.com/watch?v=-4FXLQoLDBA">this 6-minute video from Mark Frohnmayer.</a> (Warrning: Mark is wearing a shirt with a swear word on it, sigh.)  In the video, Mark uses animated visualizations to demonstrate how bad most voting methods are.  There’s a Python connection here: the visualizations are <a href="https://electowiki.org/wiki/Yee_diagram">Yee diagrams,</a> an invention of Python’s own <a href="http://pvote.org/">Kai-Ping Yee.</a>  Yee diagrams are an excellent visualization for analyzing electoral systems; animating them makes them even more revelatory.  The video makes it clear: of the four systems examined, RCV is easily the worst, collapsing into risible incoherence with only four candidates.  Again, I can’t imagine STV is any better.</p>
<p>If I understand correctly, we currently use a form of multiwinner approval voting called <a href="https://en.wikipedia.org/wiki/Block_approval_voting">Block approval voting</a> to elect the SC.  And approval voting is really pretty good!  Given the choice between “stick with our existing system” and “switch to some form of RCV” I’d definitely prefer the former.</p>
<p>If we do want to switch to an <em>even better</em> electoral system, I suggest <a href="https://www.starvoting.org/">STAR Voting,</a> specifically its official multi-winner variant <a href="https://www.starvoting.org/multi_winner">Bloc STAR.</a>  STAR Voting is a big improvement over RCV–its ballot is simpler and easier to get right, and tabulation is straightforward.  Sure, STAR Voting has its share of theoretical flaws, as do all electoral systems.  But in practice it seems to produce the best results, in terms of producing results that make the most voters happy.  I think of STAR Voting as the “practicality beats purity” electoral system.</p>
<p>The cutest argument for STAR Voting is <a href="https://www.youtube.com/watch?v=Nu4eTUafuSc">this 7-minute video</a>, in which stuffed animals experiment with different voting methods.  If you’re interested in more rigorous arguments, I suggest <a href="https://www.starvoting.org/articles">this page of articles at the STAR Voting website.</a>  It includes several articles on RCV vs STAR; I liked <a href="https://www.starvoting.org/star_rcv_pros_cons">this one</a> best.</p>
<p>As it happens, I wrote my own election tabulation library (in Python, of course!) specifically so I could play with STAR Voting:</p>

<p>My <strong>starvote</strong> library supports STAR Voting, Bloc STAR, and several proportional representation voting systems.  I wrote it for fun and to learn more about electoral systems.  I’m pretty sure it works fine, though AFAIK it’s only seen <a href="https://pyweek.org/p/41/">a teeny-tiny amount of actual use.</a></p>
<p><em>p.s.</em> If I understand correctly, the pedantically-correct term for RCV is Instant Runoff Voting, or IRV.  At least, that’s what <a href="https://en.wikipedia.org/wiki/Instant-runoff_voting">Wikipedia</a> and <a href="https://electowiki.org/wiki/Instant-runoff_voting">Electowiki</a> both call it.  But I know what you mean when you say RCV.</p>
<p><em>p.p.s.</em> Mark Fohnmayer is the father of STAR Voting.  So, sure, it’s unsurprising his video concludes STAR Voting is best.  I still find his facts compelling.</p>
            </div>

            

          </div>
          <div id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/pitrou"><span itemprop="name">pitrou</span></a>
                (Antoine Pitrou)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-25T10:57:12Z">
                    August 25, 2024, 10:57am
                  </time>
                  <meta itemprop="dateModified" content="2024-08-25T10:57:12Z">
              <span itemprop="position">4</span>
              </span>
            </p>
            <p>No strong opinion from me. As long as the voting method is reasonably democratic then I’m happy. I’ll note that known-to-be-democratic countries such as France and the US (I’m a French citizen) make with much worse election methods than we currently have here <img src="https://emoji.discourse-cdn.com/apple/slight_smile.png?v=12" title=":slight_smile:" alt=":slight_smile:" loading="lazy" width="20" height="20"></p>

            

          </div>
          <div id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/malemburg"><span itemprop="name">malemburg</span></a>
                (Marc-André Lemburg)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-25T13:10:50Z">
                    August 25, 2024,  1:10pm
                  </time>
                  <meta itemprop="dateModified" content="2024-08-26T18:09:41Z">
              <span itemprop="position">5</span>
              </span>
            </p>
            <div itemprop="text">
              <p>If you want a ranked voting system, <a href="https://en.wikipedia.org/wiki/Condorcet_method">Condorcet method - Wikipedia</a> is probably a better approach than <a href="https://en.wikipedia.org/wiki/Instant-runoff_voting">Instant-runoff voting - Wikipedia</a> (aka as RCV or IRV or Hare).</p>
<p>It shows similar (good) properties to our current <a href="https://en.wikipedia.org/wiki/Approval_voting">Approval voting - Wikipedia</a> (see Ka-Ping Yee’s resources posted by <a href="https://discuss.python.org/u/larry">@larry</a>), while allowing voters to not only approve candidates, but also provide their own ranking, if they choose to do so.</p>
<p>We’re using this for the board elections of the <a href="https://europython-society.org/">EuroPython Society</a> via the anonymous <a href="https://civs1.civs.us/">Condorcet Internet Voting Service</a>.</p>
<p>The only problem we faced was ties on the last ranked position. The Schulze method we used for completion produced such a result in our last election (this is rather rare to happen).</p>
<p>Since you can’t have more candidates elected than there are positions available on the board, you then have to come up with some sort of resolution. This method should be predefined to not cause issues.</p>
<p>The above system outputs the results under multiple completion systems, so a possible solution is to define a predefined ordered list of completion methods to then turn to in case of a tie.</p>
<p>FWIW, I don’t have strong opinions either way. Both (non-ranked) approval voting and (ranked) Condorcet voting are fine, IMO. I don’t know anything about star voting, so can’t comment. RCV can result in rather serious issues (see e.g. the Wikipedia article or the Ka-Ping Yee resources), though, so I wouldn’t be in favor of that particular method.</p>
            </div>

            

          </div>
          <div id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/Mariatta"><span itemprop="name">Mariatta</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-25T17:09:49Z">
                    August 25, 2024,  5:09pm
                  </time>
                  <meta itemprop="dateModified" content="2024-08-25T17:09:49Z">
              <span itemprop="position">7</span>
              </span>
            </p>
            <div itemprop="text">
              <p>Could we perhaps get advice about governance from the The PSF or the wider  Python community? Our group is not the only community that has held elections.</p>
<p>For example, I find it informative to learn about how the EuroPython Society handle their election, from Marc Andre’s post above. Perhaps other community leaders can share their experience and advice as well if we ask them?</p>
            </div>

            

          </div>
          <div id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/larry"><span itemprop="name">larry</span></a>
                (Larry Hastings)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-25T18:45:08Z">
                    August 25, 2024,  6:45pm
                  </time>
                  <meta itemprop="dateModified" content="2024-08-25T18:45:08Z">
              <span itemprop="position">8</span>
              </span>
            </p>
            <div itemprop="text">
              
<p>My guess is you’d also find STAR Voting to be fine.  STAR is an acronym, <strong>S</strong>core <strong>T</strong>hen <strong>A</strong>utomatic <strong>R</strong>unoff.  It runs in exactly two rounds: a round of Score voting, followed by a round of what I think of as “preference voting”.  And Approval voting is equivalent to Score voting if you restrict the choices to 0 and 1.  So STAR Voting is like a more nuanced, expressive version of the Approval voting you already like.</p>
            </div>

            

          </div>
          <div id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/dstufft"><span itemprop="name">dstufft</span></a>
                (Donald Stufft)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-25T19:12:40Z">
                    August 25, 2024,  7:12pm
                  </time>
                  <meta itemprop="dateModified" content="2024-08-25T19:12:40Z">
              <span itemprop="position">9</span>
              </span>
            </p>
            <div itemprop="text">
              <p>As someone who spent… a significant amount of energy posting about electoral systems the last time this came up… I honestly suspect the answer is that it basically doesn’t matter which system we choose.</p>
<p>The community of core devs is so small and tight knit that I suspect you could just <code>random.choice</code> between candidates and get approximately the same overall outcome. The places where I think that’s unlikely to be true are the extreme edges (someone who is unambiguously more or less desired than anyone else), and I suspect that any multi winner strategy is going to handle outsize preferences like that alright.</p>
            </div>

            

          </div>
          <div id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/brettcannon"><span itemprop="name">brettcannon</span></a>
                (Brett Cannon)
                  Split this topic 
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-26T23:34:51Z">
                    August 26, 2024, 11:34pm
                  </time>
                  <meta itemprop="dateModified" content="2024-08-26T23:34:51Z">
              <span itemprop="position">10</span>
              </span>
            </p>
            

            

          </div>
          <div id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/gpshead"><span itemprop="name">gpshead</span></a>
                (Gregory P. Smith)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-26T01:02:50Z">
                    August 26, 2024,  1:02am
                  </time>
                  <meta itemprop="dateModified" content="2024-08-26T01:02:50Z">
              <span itemprop="position">11</span>
              </span>
            </p>
            <div itemprop="text">
              
<p>Yes that is what I meant. I’d assumed w/o research that you’d just run IRV loop multiple times with the previous winner removed to pick multiple candidates out of it. Thanks for all the links (and stuffed animals)!</p>
<p>Regardless, I think your higher level point is right: I’m looking for something that helps capture preference better than our current system.</p>
<p>I don’t <em>want</em> to feel the annual need to keep suggesting that people intentionally trim their ballot to not reflect everyone they’d be happy with in order to put more weight on their top choices. If there’s no way out of that at our small scale then <img src="https://emoji.discourse-cdn.com/apple/person_shrugging.png?v=12" title=":person_shrugging:" alt=":person_shrugging:" loading="lazy" width="20" height="20"> the default is to just stick with what we’ve got.</p>
<p>I’ll read up (or watch puppet shows?) on STAR.</p>
<p>I believe Concordet was a topic I saw mentioned in the past threads with Tim running experiments on that several years ago that weren’t producing wildly different results? We’re in no rush on this - it wouldn’t be resolved this year.</p>
            </div>

            

          </div>
          <div id="post_13" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/encukou"><span itemprop="name">encukou</span></a>
                (Petr Viktorin)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-26T07:51:08Z">
                    August 26, 2024,  7:51am
                  </time>
                  <meta itemprop="dateModified" content="2024-08-26T07:51:08Z">
              <span itemprop="position">13</span>
              </span>
            </p>
            <div itemprop="text">
              <p>For context, here’s the 2018 (pre-PEP-13) thread with pages of discussion on multi-winner voting systems: <a href="https://discuss.python.org/t/python-governance-electoral-system/290/40">Python Governance Electoral System - #40 by dstufft</a></p>
            </div>

            

          </div>
          <div id="post_16" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/vstinner"><span itemprop="name">vstinner</span></a>
                (Victor Stinner)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-26T16:47:52Z">
                    August 26, 2024,  4:47pm
                  </time>
                  <meta itemprop="dateModified" content="2024-08-26T16:47:52Z">
              <span itemprop="position">16</span>
              </span>
            </p>
            <div itemprop="text">
              
<p>Condorcet was discussed a lot at the end of 2018, while the Python Language Governance (future PEP 13) was being discussed. Here are a few links, but there are more if you search for “Condorcet”.</p>
<p><a href="https://discuss.python.org/t/pep-8001-python-governance-voting-process/233">PEP 8001: Python Governance Voting Process</a> proposed to rank SC candidates. My <a href="https://discuss.python.org/t/pep-8015-organization-of-the-python-community/193">PEP 8015</a> proposed the <a href="https://en.wikipedia.org/wiki/Schulze_method">Schulze/Beatpath/CSSD variant</a> of the <a href="https://en.wikipedia.org/wiki/Condorcet_method">Condorcet method</a> to elect SC members.</p>
<p><a href="https://discuss.python.org/t/python-governance-electoral-system/290">Python Governance Electoral System</a> discuss Approval versus Condorcet. <a href="https://discuss.python.org/t/voting-system-characteristics/451">Voting system characteristics</a> discussion also discussed Condorcet.</p>
<p>PEP 13 chose Approval, it was announced in <a href="https://discuss.python.org/t/amendment-to-pep-13-to-allow-approval-voting/2428">Amendment to PEP 13 to allow approval voting</a>. LWN wrote an article about SC, PEP 13 and voting method: <a href="https://lwn.net/Articles/777997/">Python elects a steering council</a>.</p>
            </div>

            

          </div>
          <div id="post_17" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/Deb"><span itemprop="name">Deb</span></a>
                (Deb Nicholson)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-26T22:58:10Z">
                    August 26, 2024, 10:58pm
                  </time>
                  <meta itemprop="dateModified" content="2024-08-26T22:58:10Z">
              <span itemprop="position">17</span>
              </span>
            </p>
            <p>We use <a href="https://www.rcvresources.org/in-practice-cambridge-ma">Ranked Choice Voting where I live</a> to elect our city councilors. In practice, it provides voters to build consensus around who is the best choice. It also often allows for non-majority perspectives to gain a single seat at the table if enough people are moved to give a non-majority candidate their “number one vote.”  I think it could allow us to get closer to expressing the multiplicity of community sentiment than the current approval voting system does.</p>

            

          </div>
          <div id="post_18" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/ncoghlan"><span itemprop="name">ncoghlan</span></a>
                (Alyssa Coghlan)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-28T00:49:26Z">
                    August 28, 2024, 12:49am
                  </time>
                  <meta itemprop="dateModified" content="2024-08-28T00:49:26Z">
              <span itemprop="position">18</span>
              </span>
            </p>
            <div itemprop="text">
              <p><a href="https://discuss.python.org/u/clayshentrup">@ClayShentrup</a> has provided some relevant research links in: <a href="https://discuss.python.org/t/approval-voting-vs-instant-runoff-voting-condorcet-etc/62142">Approval voting vs instant runoff voting, condorcet, etc</a></p>
<p>Apparently (based on Clay’s summary) the evidence that the preferential voting systems actually capture preferences better than the simple two level “more preferred”/“less preferred” mechanism used in approval voting isn’t that strong, so it’s hard to justify their complexity when approval voting is easier to explain and resolve.</p>
<p>Maybe the fact approval voting lumps +0, -0, and -1 votes into a single “not approved” category is a feature rather than a bug to be fixed?</p>
            </div>

            

          </div>
          <div id="post_19" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://discuss.python.org/u/guido"><span itemprop="name">guido</span></a>
                (Guido van Rossum)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2024-08-28T01:13:13Z">
                    August 28, 2024,  1:13am
                  </time>
                  <meta itemprop="dateModified" content="2024-08-28T01:13:13Z">
              <span itemprop="position">19</span>
              </span>
            </p>
            <div itemprop="text">
              <p>Hm, I thought we had moved on from instant runoff to STAR.</p>
<p>My own variant would use the STAR algorithm but require voters to give 1-5 stars to each candidate. The current system would then be equivalent to giving either 1 or 5 stars (which is what is how most users tend to use on review websites :-), except the two-phase behavior of STAR encourages “honest” voting as a bonus. I find STAR super easy to explain and understand – unlike anything with “Condorcet” in its name, which to almost everybody (certainly to me) seems to invoke feelings of complexity.</p>
            </div>

            

                
          </div>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Skip – Build native iOS and Android apps from a single Swift codebase (267 pts)]]></title>
            <link>https://skip.tools/</link>
            <guid>41384144</guid>
            <pubDate>Wed, 28 Aug 2024 20:44:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://skip.tools/">https://skip.tools/</a>, See on <a href="https://news.ycombinator.com/item?id=41384144">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<!-- <h1 id="hero-title" class="hero">Create SwiftUI&nbsp;apps for&nbsp;iPhone and&nbsp;Android</h1> -->
<!-- <h1 id="hero-title" class="hero">Create apps for iPhone and Android with Skip</h1> -->
<!-- <h1 id="hero-title" class="hero">Hello iPhone, Hello Android</h1> -->
<!-- <h1 id="hero-title" class="hero">Build Apps for the Whole Wide World</h1> -->
<!-- <h1 id="hero-title" class="hero">SwiftUI everywhere, with Skip</h1> -->

<h2 id="hero-title">Build native apps for iPhone and Android with Skip</h2>
<!-- <h1 id="hero-title" class="hero">Create iPhone and Android apps with Skip</h1> -->

<p id="hero-blurb">
  Skip brings Swift app development to Android. It is a tool that enables developers to use a single modern programming language&nbsp;(Swift) and first-class development environment&nbsp;(Xcode) to build genuinely native apps for both iOS&nbsp;and&nbsp;Android.
</p>

 <!-- 
<p class="narrow-width">
Skip enables the creation of genuinely native mobile apps from a single codebase, using the vendor-supported and recommended frameworks for both iOS and Android: SwiftUI and Jetpack Compose. Build, test, and deploy beautiful apps from a single codebase.
</p>
 -->

<p>
  <a id="tourlink" href="https://skip.tools/tour"><img src="https://skip.tools/assets/icons/play.svg" alt="Watch Video play icon">Watch Video</a>
  <a id="startlink" href="https://skip.tools/docs/gettingstarted/"><img src="https://skip.tools/assets/icons/download.svg" alt="get started icon">Get Started</a>
</p>

<p>
  <video autoplay="" muted="" loop="" playsinline="" controlslist="nodownload" poster="https://skip.tools/assets/video/skip-splash-poster.png">
    <source src="https://skip.tools/assets/video/skip-splash.mov" type="video/webm">
    Your browser does not support the video tag.
  </video>
</p>

<h2>How Skip Works</h2>

<p>As you build your Swift and SwiftUI app in Xcode, the Skip Xcode plugin continuously transpiles it into the equivalent Kotlin and Jetpack Compose for Android. Develop dual-platform libraries or entire apps, with native performance and native user interfaces on both platforms.</p>

<p>Want to learn more? Take our <a href="https://skip.tools/tour/">video tour</a> or browse the <a href="https://skip.tools/docs/">documentation</a>.<br>Eager to try Skip out? <a href="https://skip.tools/docs/gettingstarted/">Install</a> Skip today!</p>

</div><div>

  
  <div>
    <p><img alt="Genuinely Native" src="https://skip.tools/assets/icons/checkmark.shield.svg">
    <img alt="Genuinely Native" src="https://skip.tools/assets/icons/checkmark.shield.fill.svg"></p><h3>Genuinely Native</h3>
    <p>Skip apps don’t just “look native”, they <i>are</i> native: Swift and SwiftUI on iOS, Kotlin and Compose on Android. You know the difference, and so do your users.</p>
  </div>
  
  <div>
    <p><img alt="Totally Transparent" src="https://skip.tools/assets/icons/command.circle.svg">
    <img alt="Totally Transparent" src="https://skip.tools/assets/icons/command.circle.fill.svg"></p><h3>Totally Transparent</h3>
    <p>When you use Skip, no part of your app is hidden from your view… or from your debugger. Skip transpiles your Swift directly into Kotlin source code that you can inspect and customize.</p>
  </div>
  
  <div>
    <p><img alt="Featherweight" src="https://skip.tools/assets/icons/leaf.svg">
    <img alt="Featherweight" src="https://skip.tools/assets/icons/leaf.fill.svg"></p><h3>Featherweight</h3>
    <p>With <em>SkipZero</em>, your iOS app has no dependencies on any Skip frameworks. And the resulting Android app only requires a few Skip open source libraries.</p>
  </div>
  
  <div>
    <p><img alt="Memory Efficient" src="https://skip.tools/assets/icons/bolt.circle.svg">
    <img alt="Memory Efficient" src="https://skip.tools/assets/icons/bolt.circle.fill.svg"></p><h3>Memory Efficient</h3>
    <p>With no additional managed runtime, Skip apps are as efficient as they can possibly be on both platforms: bare metal on iOS and ART bytecode on Android.</p>
  </div>
  
  <div>
    <p><img alt="An Idyllic IDE" src="https://skip.tools/assets/icons/curlybraces.square.svg">
    <img alt="An Idyllic IDE" src="https://skip.tools/assets/icons/curlybraces.square.fill.svg"></p><h3>An Idyllic IDE</h3>
    <p>Skip’s IDE is Xcode, the premiere app development environment for iOS. For serious Android customization, open the generated code directly in Android Studio.</p>
  </div>
  
  <div>
    <p><img alt="Perfect Integration" src="https://skip.tools/assets/icons/wrench.svg">
    <img alt="Perfect Integration" src="https://skip.tools/assets/icons/wrench.fill.svg"></p><h3>Perfect Integration</h3>
    <p>Skip generates standard Kotlin and Compose, so integrating with Android libraries is painless. Call other Kotlin and Java code directly, with no bridging required.</p>
  </div>
  
  <div>
    <p><img alt="Foundationally Open" src="https://skip.tools/assets/icons/gift.svg">
    <img alt="Foundationally Open" src="https://skip.tools/assets/icons/gift.fill.svg"></p><h3>Foundationally Open</h3>
    <p>Skip’s transpiler is only half the story. The frameworks that underpin iOS app development, such as Foundation and SwiftUI, are made available on Android through Skip’s free and open-source reimplementations.</p>
  </div>
  
  <div>
    <p><img alt="CI Friendly" src="https://skip.tools/assets/icons/arrow.triangle.2.circlepath.circle.svg">
    <img alt="CI Friendly" src="https://skip.tools/assets/icons/arrow.triangle.2.circlepath.circle.fill.svg"></p><h3>CI Friendly</h3>
    <p>Skip transpiles unit tests too! You can ensure that your logic performs identically across platforms. Run your tests headlessly either locally or remotely, making acceptance testing a breeze.</p>
  </div>
  
  <div>
    <p><img alt="Ejectable" src="https://skip.tools/assets/icons/square.and.arrow.up.svg">
    <img alt="Ejectable" src="https://skip.tools/assets/icons/square.and.arrow.up.fill.svg"></p><h3>Ejectable</h3>
    <p>Your code is your own – both the Swift inputs and Kotlin outputs – so you aren’t locked into an ongoing dependency on the Skip transpiler.</p>
  </div>
  
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Twenty Years of Valgrind (2022) (221 pts)]]></title>
            <link>https://nnethercote.github.io/2022/07/27/twenty-years-of-valgrind.html</link>
            <guid>41384118</guid>
            <pubDate>Wed, 28 Aug 2024 20:42:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nnethercote.github.io/2022/07/27/twenty-years-of-valgrind.html">https://nnethercote.github.io/2022/07/27/twenty-years-of-valgrind.html</a>, See on <a href="https://news.ycombinator.com/item?id=41384118">Hacker News</a></p>
<div id="readability-page-1" class="page"><div aria-label="Content">
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>It has been twenty years since Valgrind 1.0 was released.</p>

<p><img src="https://nnethercote.github.io/images/2022/07/27/st-george-dragon.png" alt="dragon"></p>

<p><a href="https://valgrind.org/">The Valgrind website</a> says:</p>

<blockquote>
  <p>Valgrind is an instrumentation framework for building dynamic analysis tools.
There are Valgrind tools that can automatically detect many memory management
and threading bugs, and profile your programs in detail. You can also use
Valgrind to build new tools.</p>
</blockquote>

<p>–</p>

<p>I first met Julian Seward in late 2001. I had moved from Australia to Cambridge
in the UK to pursue a PhD on the topic of “cache optimizations for functional
languages”. The Cambridge Computer Laboratory is literally next door to a
Microsoft Research office, and I was soon interacting with the people there
working on the Glasgow Haskell Compiler. Julian was one of them.</p>

<p>Shortly after that, Julian’s stint working on GHC came to a close. On his last
day he dropped by my office in the Computer Laboratory to say goodbye. I asked
what he would be doing now, and he said he was going to spend some time on a
project of his called Valgrind. “What’s Valgrind?” I asked. It was one of those
this-will-change-your-life moments.</p>

<p>–</p>

<p>In the mid-90s Julian wrote the <a href="https://en.wikipedia.org/wiki/Bzip2">bzip2 compression
utility</a>. He had spent some time
<a href="https://ieeexplore.ieee.org/document/838157">investigating</a> its cache
behaviour in order to make it faster. While doing this he created a cache
profiling tool called cacheprof. It parsed and annotated assembly code in order
to add instrumentation code, gave line-by-line annotations of cache misses in
your source code, and came with a wrapper around gcc to make its usage
straightforward. (Section 7 of the <a href="https://nnethercote.github.io/doc/cacheprof.html">cacheprof docs</a> have
more details about its origins.)</p>

<p>Julian was also a fan of <a href="https://en.wikipedia.org/wiki/PurifyPlus">Purify</a>, a
commercial tool that detected memory errors in programs at runtime and ran on
Solaris. He hoped that someone would make an open source version for x86/Linux,
but eventually decided to do it himself. He had some experience with an x86
binary interpreter called Heimdall, but knew that binary interpretation was too
slow to be practical. Perhaps JIT compilation could help?</p>

<p>After a great deal of effort he had a working memory error detector, which
ended up with the name Valgrind. It was language independent and didn’t require
any pre-instrumentation of source code. It worked pretty well, could handle
large programs, and was getting some use from KDE developers.</p>

<p>All this was an impressive achievement, because Valgrind has to do a lot of
clever and/or nasty low-level things to work. It has to intercept every
instruction executed by a client program without ever losing control, even in
the face of syscalls, signals, and longjmp. And on top of that it has to add
large amounts of instrumentation to maintain metadata about literally every bit
of data the client program manipulates.</p>

<p>–</p>

<p>When Julian showed me Valgrind I thought it was pretty cool. I got a copy of
the code and submitted a few small improvements.</p>

<p>I had been using cacheprof myself, but its assembly annotation approach was
fragile and didn’t provide any coverage for system libraries. Not long after
learning about Valgrind I realised its dynamic binary instrumentation could
provide a more robust foundation for a cache profiling tool. I wrote Cachegrind
and it was committed into the repository in April 2002.</p>

<p>In July 2002, Valgrind 1.0 was
released. The
<a href="https://developers.slashdot.org/story/02/07/28/1833225/valgrind-100-released">SlashDot post</a> said:</p>

<blockquote>
  <p>Valgrind is a C/C++ programmer’s dream come true: effortless memory
allocation checking, uninitialised memory access, leaks etc. Purify for Linux
has arrived, only better: contrary to its commercial (non-Linux) sibling,
checking is performed directly on the executable, no re-linking necessary.</p>
</blockquote>

<p>At this point Valgrind did two things. By default it would look for memory
errors, but you could invoke Cachegrind with the <code>--cachesim</code> option. The
integration between the two modes was clunky, but both were useful.</p>

<p>I then realised there was a potential clean split between the generic
instrumentation code and the tool-specific code. A few months later I made this
split, which opened up a new world of possibilities. Memcheck was born: it
became the name of the tool that did the original memory checking, and Valgrind
became the name of the entire system. (Having said that, even today “Valgrind”
and “Memcheck” are basically synonymous.) And Cachegrind was no longer bolted
on as an awkward extra piece.</p>

<p>We called this the “core/skin split”. These names were my choice, inspired by
the custom UI “skins” you could put on software MP3 players at the time. A
while later we realised “skin” was a dumb and confusing name, and we switched
to “tool”. The name “core” has stuck, although we changed the name of the
directory holding the core code from <code>core</code> to <code>coregrind</code> after learning that
some Linux systems were configured to periodically delete any file named
<code>core</code>, on the assumption that such files are core dumps!</p>

<p>Around this time we were joined by many talented folks who made important
contributions. In particular, Jeremy Fitzhardinge greatly improved the tricky
intersection point of threads, system calls, and signals, and Tom Hughes fixed
many early bugs and improved debuginfo reading.</p>

<p>More tools followed.</p>

<ul>
  <li>Julian wrote a data race detector called Helgrind.</li>
  <li>Josef Weidendorfer wrote a souped-up version of Cachegrind called Callgrind.</li>
  <li>In 2003 I wrote Massif, a heap profiler.</li>
  <li>In 2007 Bart Van Assche wrote DRD, a different kind of race detector.</li>
  <li>In 2010 Julian wrote
<a href="https://blog.mozilla.org/jseward/2010/12/05/fun-n-games-with-dhat/">DHAT</a>, a
different heap profiler. It could do some incredible stuff but the text-based
output was clunky. In 2019 I
<a href="https://blog.mozilla.org/nnethercote/2019/04/17/a-better-dhat/">overhauled</a>
it to have a much nicer UI.</li>
  <li>Various other lesser-known tools have been written, some of which were used
as the basis for <a href="https://valgrind.org/docs/pubs.html">research papers</a>.</li>
</ul>

<p>–</p>

<p>After the core/tool split I switched the topic of my PhD away from functional
programming. I finished my dissertation, entitled <a href="https://nnethercote.github.io/pubs/phd2004.pdf">Dynamic Binary Analysis and
Instrumentation</a>, in late 2004.
I wouldn’t recommend reading it today, except perhaps chapter 3 which is a
decent description of how Cachegrind works. However, it was enough for me to
graduate and forevermore tell people that, literally, “I have a PhD in
Valgrind”. (This was a three year UK PhD, rather than a brutal six-or-more year
US PhD. To any potential graduate students reading this: 10/10, would
recommend.)</p>

<p>In 2005 we published a paper at USENIX entitled <a href="https://nnethercote.github.io/pubs/memcheck2005.pdf">Using Valgrind to detect
undefined value errors with bit-precision</a>. We only
learned about the conference two days before the paper deadline, when an
organiser of the co-located FREENIX workshop suggested we submit an abstract
for a paper about Valgrind to FREENIX. We proposed submitting a paper to USENIX
instead and were told “it’s not possible to do a USENIX paper in two days”.
Forty-eight frantic hours later we did and it was accepted, hooray!</p>

<p>That paper focused Memcheck’s definedness checking. This is the part that
tracks the definedness of every bit of data that a client program touches, and
determines if the client program does anything dangerous with undefined or
partially-defined values, such as branching on a condition that uses an
undefined value, or passing an undefined value to a system call, or using an
undefined value as an address in a memory operation. It’s a very elegant system
that Julian invented, combining both speed and precision. Even today, it’s
still a unique advantage of Memcheck over similar checking tools.</p>

<p>In 2007 we published two papers. The first paper was at PLDI, entitled
<a href="https://nnethercote.github.io/pubs/valgrind2007.pdf">Valgrind: A Framework for Heavyweight Dynamic Binary
Instrumentation</a>. This one took a lot longer than two
days. It’s still the best overview of Valgrind’s internals, and the most cited
paper about Valgrind. Ten years later, it won a <a href="https://www.sigplan.org/Awards/PLDI/">most influential
paper</a> <del>weapon</del> award. I sure wasn’t
expecting that.</p>

<p><img src="https://nnethercote.github.io/images/2022/07/27/pldi-award.jpg" alt="award" width="350"></p>

<p>The second paper was at VEE, entitled <a href="https://nnethercote.github.io/pubs/shadow-memory2007.pdf">How to Shadow Every Byte of Memory Used
by a Program</a>. It gives a nice overview of how
Memcheck tracks extra state about every value in memory.</p>

<p>There were some other awards, too.</p>

<ul>
  <li>In 2004 Valgrind won a merit (bronze) Open Source Award. (This
<a href="https://www.techrepublic.com/article/open-source-awards-2004-julian-seward-for-valgrind/">interview with
Julian</a>
from the time has some good historical information.)</li>
  <li>In 2006 Julian won a <a href="https://developers.google.com/open-source/osa">Google-O’Reilly Open Source
Award</a> for “Best Toolmaker”.</li>
  <li>In 2008 Valgrind won <a href="https://linuxdevices.org/cross-platform-tools-vendor-announces-awards-earnings/">TrollTech’s inaugural Qt Open Source Development
Award</a>
for the best open source development tool.</li>
</ul>

<p>–</p>

<p>By 2010 I was fully out of academia and no longer writing research papers.
Julian and I had both ended up at Mozilla, where I worked for twelve years and
where Julian still is. Our involvement in Valgrind has gradually declined—mine
much earlier than Julian’s—and our statuses today would best be described as
“emeritus”. There have been many other
<a href="https://valgrind.org/info/developers.html">contributors</a> over the years, and
Mark Wielaard is today the lead maintainer.</p>

<p>–</p>

<p>It’s both delightful and surreal to see that Valgrind is still in wide use
today. Julian’s original goal was to raise the bar when it came to correctness
for C and C++ programs. This has clearly been a huge success. Memcheck has
found countless bugs in countless programs, and is a standard part of the
testing setup for many of them.</p>

<p>It did take a while to penetrate, though. In 2005 I did a postdoc where I
worked on a project involving novel hardware design. There were several C
programs that simulated the hardware being designed. Students would run the
programs overnight to simulate a small amount of machine time. Sometimes when
they returned in the morning the simulations would have crashed, which was a
big time waster. I suggested they try Memcheck, which found a few problems that
they fixed, and the programs stopped crashing. But the response wasn’t a “that
fixed the problem!” so much as a “huh, that problem seems to have gone away”.</p>

<p>Thankfully, with time, the value of Memcheck has become more deeply
appreciated. I’m pretty sure that ASan was directly inspired by Memcheck. ASan
uses static instrumentation, which means it is faster than Memcheck but has
incomplete coverage, e.g. for runtime generated code and system libraries. For
this reason it does what Memcheck does except the definedness checking, because
that part requires 100% instrumentation coverage to work reliably.</p>

<p>Speaking of software quality, I think it’s fitting that I now work full time on
Rust, a systems programming language that didn’t exist when Valgrind was
created, but which basically prevents all the problems that Memcheck detects.
As a result, I don’t have much use for Memcheck, but I still use Cachegrind,
Callgrind, and DHAT all the time. I’m amazed that I’m still using Cachegrind
today, given that it has hardly changed in twenty years. (I only use it for
instruction counts, though. I wouldn’t trust the icache/dcache results at all
given that they come from a best-guess simulation of an AMD Athlon circa 2002.)
And DHAT is an ongoing source of joy: I’ve never used any other profiler as
good at telling me precisely what I want to know.</p>

<p>–</p>

<p>These are some of my Valgrind stories from the past twenty years. It’s far from
a complete account, but I hope it has been interesting.</p>

<p>To finish, I’ll quote the first entry in the Valgrind
<a href="https://valgrind.org/docs/manual/faq.html">FAQ</a>, which I wrote a long time
ago:</p>

<blockquote>
  <p>1.1. How do you pronounce “Valgrind”?</p>

  <p>The “Val” as in the word “value”. The “grind” is pronounced with a short ‘i’ –
ie. “grinned” (rhymes with “tinned”) rather than “grined” (rhymes with “find”).</p>

  <p>Don’t feel bad: almost everyone gets it wrong at first.</p>
</blockquote>

<p>Happy birthday, Valgrind!</p>

  </div>
</article>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Companies Lobby Against Giving the Military the Right to Repair (208 pts)]]></title>
            <link>https://www.404media.co/appliance-and-tractor-companies-lobby-against-giving-the-military-the-right-to-repair/</link>
            <guid>41383126</guid>
            <pubDate>Wed, 28 Aug 2024 19:13:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.404media.co/appliance-and-tractor-companies-lobby-against-giving-the-military-the-right-to-repair/">https://www.404media.co/appliance-and-tractor-companies-lobby-against-giving-the-military-the-right-to-repair/</a>, See on <a href="https://news.ycombinator.com/item?id=41383126">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <article>
          <div>
              
<!--kg-card-begin: html-->

<!--kg-card-end: html-->
<p>Lobbying groups across most of the device manufacturing industry—from tractor manufacturers to companies that make fridges, consumer devices, motorcycles, and medical equipment—are lobbying against legislation that would require military contractors to make it easier for the U.S. military to fix the equipment they buy, <a href="https://www.documentcloud.org/documents/25075327-signedfy25ndaasection828letter?ref=404media.co"><u>according to a document</u></a> obtained by 404 Media.&nbsp; </p><p>The anti-repair lobbying shows that manufacturers are still doing everything they can to retain lucrative service contracts and to kill any legislation that would threaten the repair monopolies many companies have been building for years.</p><p>In a May hearing, Sen. Elizabeth Warren explained that “contractors often place restrictions on these deals [with the military] that prevent service members from maintaining or repairing the equipment, or even let them write a training manual without going back to the contractor.”</p><p>“These right to repair restrictions usually translate into much higher costs for DOD [Department of Defense], which has no choice but to shovel money out to big contractors whenever DOD needs to have something fixed,” she added. Warren gave the example of the Littoral combat ship, a U.S. Navy vessel that costs hundreds of millions of dollars per ship.&nbsp;</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/ABiT9VeGhPg?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="" title="Warren Calls for Right-to-Repair Across Military Services to Lower Costs, Bolster Readiness"></iframe></figure><p>“General Dynamics and Lockheed Martin consider much of the data on the ship to be proprietary, so the Navy had to delay missions and spend millions of dollars on travel costs just so that contractor-affiliated repairmen could fly in, rather than doing this ourselves,” she said.</p><p>To solve this problem, Warren and other lawmakers introduced something called <a href="https://www.congress.gov/bill/118th-congress/senate-bill/4638/text?ref=404media.co"><u>Section 828 of the Defense Reauthorization Act</u></a>, a must-pass bill that funds the military. Section 828 is called “Requirement for Contractors to Provide Reasonable Access to Repair Materials,” and seeks to solve an absurd situation in which the U.S. military cannot always get repair parts, tools, information, and software for everything from fighter jets to Navy battleships, because the companies want to make money by selling their customers repair contracts.&nbsp;</p><p>Section 828 states: “The head of an agency may not enter into a contract for the procurement of goods or services unless the contractor agrees in writing to provide the Department of Defense fair and reasonable access to all the repair materials, including parts, tools, and information, used by the manufacturer or provider or their authorized partners to diagnose, maintain, or repair the good or service.”</p><p>Manufacturers are not happy about this prospect, and are aggressively opposing it. But, interestingly, it’s not just major military contractors who build warships who are mad. Some of the groups opposing the legislation in the letter we obtained are things like the “Institute of Makers of Explosives” and the Aerospace Industries Association. But others opposing it include, for example, the <a href="https://irrigationtoday.org/news/ia-joins-pushback-against-section-828-of-the-national-defense-authorization-act/?ref=404media.co"><u>Irrigation Association</u></a>, whose members make irrigation equipment, the Motorcycle Industry Council, the North American Equipment Dealers Association (who represents John Deere and other tractor manufacturers), the Plumbing Manufacturers Association, AdvaMed (which represents the medical device industry), TechNet (whose members make consumer tech), various state groups like Wisconsin Manufacturers &amp; Commerce and the Arizona Manufacturers Council, and dozens of others.&nbsp;</p><p>In the letter to lawmakers, these groups and dozens of others argued that being required to sell repair parts to the military “would impose significant burdens on contractors throughout the country, including the many small and medium-sized businesses and commercial suppliers that contractors rely on to support the Department’s operational readiness and effectiveness.”&nbsp;</p><p>The letter states that the companies themselves “are critical to the Department’s ability to repair and maintain its assets,” which the military Warren has said is exactly the problem: the military is often stuck relying on the original manufacturer of a product to either do the repair or send through critical repair information, which can be expensive and cumbersome.&nbsp;</p><p>The letter argues that the legislation “would undermine the principle underpinning existing technical data rights statutes, which are designed to balance the government’s technical data needs against contractors’ need to protect sensitive proprietary and trade secret information.”&nbsp;</p><p>This idea that device repair information cannot be provided without giving away trade secrets and proprietary data is one that manufacturers have been making for years at the state level to kill right to repair legislation for consumers. State lawmakers largely have stopped buying this argument, but anti-repair lobbyists are still trying this line of attack with Congress and the military. The letter also takes issue with the idea that there would be cost controls for the military, which Warren said are necessary to prevent “price gouging.”</p><p>The fact that groups who represent companies that have nothing to do with the military have lined up to oppose this suggests that device manufacturers more broadly are worried about a national right to repair law, and that the entire sector is trying to kill repair legislation even if it would not affect them.&nbsp;</p><p>“The goal of this legislation is to ensure that the lives of our service members, and their operations, are protected from repair restrictions gumming up the works. Incredibly, most of the signers don't even make military equipment! They range from motorcycles, to farm equipment to consumer devices,” Nathan Proctor, senior director of consumer rights group US PIRG’s campaign for the right to repair, told me. “Why are appliance manufacturers against the military buying equipment they are allowed to fix? Are the profits from additional service revenue, or more frequent device replacements, more important than the safety of our military personnel?”</p>
<!--kg-card-begin: html-->

<!--kg-card-end: html-->

                    <div>
    <div>
      <p>About the author</p>
      <p>Jason is a cofounder of 404 Media. He was previously the editor-in-chief of Motherboard. He loves the Freedom of Information Act and surfing.</p>
      
    </div>
      <p><img data-src="/content/images/2023/08/404-jason-01-copy.jpeg" alt="Jason Koebler" src="https://www.404media.co/content/images/2023/08/404-jason-01-copy.jpeg">  
      </p>
  </div>
          </div>
        </article>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Future of TLA+ [pdf] (187 pts)]]></title>
            <link>https://lamport.azurewebsites.net/tla/future.pdf</link>
            <guid>41382828</guid>
            <pubDate>Wed, 28 Aug 2024 18:46:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lamport.azurewebsites.net/tla/future.pdf">https://lamport.azurewebsites.net/tla/future.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=41382828">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[The 4-chan Go programmer (271 pts)]]></title>
            <link>https://www.dolthub.com/blog/2024-08-23-the-4-chan-go-programmer/</link>
            <guid>41382699</guid>
            <pubDate>Wed, 28 Aug 2024 18:35:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.dolthub.com/blog/2024-08-23-the-4-chan-go-programmer/">https://www.dolthub.com/blog/2024-08-23-the-4-chan-go-programmer/</a>, See on <a href="https://news.ycombinator.com/item?id=41382699">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-cy="blog-post-text"><h2 id="introduction"><a href="#introduction" aria-label="introduction permalink"></a>Introduction</h2>
<p>We're using Go to write <a href="https://doltdb.com/">Dolt</a>, the world's first version-controlled SQL
database. Like most Go codebases, we use <a href="https://gobyexample.com/channels">channels</a> and
<a href="https://gobyexample.com/goroutines">goroutines</a> to implement concurrent execution. Usually we use
these constructs in the most boring and straightforward way possible, because concurrent programming
is hard enough without trying to be clever. But at one point we inherited some code from another
open source project that used channels in a very clever way: it used them to send additional
channels.</p>

<p>This is a channel that sends another channel, which then sends a struct. It's basically a way to
pass channels between different goroutines, to implement some fan-out pattern among worker
goroutines. Think of the "middle" channel as the middleman in the workflow: its job is to pass new
channels as they are produced down to workers who actually do useful work. It did work, but it's the
kind of overly clever idea that was hard to reason about and work with, especially once you consider
goroutine leaks. We rewrote it, and that <code>chan chan struct{}</code> is long gone.</p>
<p>But it did get me thinking. How far can you take this dumb idea? Behold the 4-chan:</p>
<div data-language="go"><pre><code>_4chan <span>:=</span> <span>make</span><span>(</span><span>chan</span> <span>chan</span> <span>chan</span> <span>chan</span> <span>int</span><span>)</span></code></pre></div>
<h2 id="why-are-you-doing-this"><a href="#why-are-you-doing-this" aria-label="why are you doing this permalink"></a>Why are you doing this</h2>
<p>There's an old programming joke from back in the days when C and its derivatives dominated the
landscape. A lot of people had a very hard time understanding pointers, probably because they didn't
have this meme back then.</p>
<p><span>
      <a href="https://www.dolthub.com/blog/static/375f585a6a89a468f359df8c43ef8a3c/6af66/pointers-meme.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="pointers" title="" src="https://www.dolthub.com/blog/static/375f585a6a89a468f359df8c43ef8a3c/6af66/pointers-meme.png" srcset="https://www.dolthub.com/blog/static/375f585a6a89a468f359df8c43ef8a3c/a48b3/pointers-meme.png 214w,
https://www.dolthub.com/blog/static/375f585a6a89a468f359df8c43ef8a3c/47730/pointers-meme.png 428w,
https://www.dolthub.com/blog/static/375f585a6a89a468f359df8c43ef8a3c/6af66/pointers-meme.png 640w" sizes="(max-width: 640px) 100vw, 640px" loading="lazy" decoding="async">
  </a>
    </span></p>
<p>Because pointers were necessary to do many useful things in C, and relatively hard to understand
for a lot of people, newbies would sometimes do very silly things with them, like declaring
variables like this:</p>

<p>And these novices didn't realize what a silly thing this is to do, thinking instead that getting a
working program that used this many layers of pointer indirection was actually a sign of
expertise. Such unfortunate newbies were called "4-star programmers".</p>
<p>Because Go is also largely derived from C, you can do the same thing in Go:</p>
<div data-language="go"><pre><code><span>func</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
	i <span>:=</span> <span>1</span>
	<span>setInt</span><span>(</span><span>&amp;</span>i<span>)</span>

	fmt<span>.</span><span>Printf</span><span>(</span><span>"i is now %d"</span><span>,</span> i<span>)</span>
<span>}</span>

<span>func</span> <span>setInt</span><span>(</span>i <span>*</span><span>int</span><span>)</span> <span>{</span>
	<span>setInt2</span><span>(</span><span>&amp;</span>i<span>)</span>
<span>}</span>

<span>func</span> <span>setInt2</span><span>(</span>i <span>*</span><span>*</span><span>int</span><span>)</span> <span>{</span>
	<span>setInt3</span><span>(</span><span>&amp;</span>i<span>)</span>
<span>}</span>

<span>func</span> <span>setInt3</span><span>(</span>i <span>*</span><span>*</span><span>*</span><span>int</span><span>)</span> <span>{</span>
	<span>setInt4</span><span>(</span><span>&amp;</span>i<span>)</span>
<span>}</span>

<span>func</span> <span>setInt4</span><span>(</span>i <span>*</span><span>*</span><span>*</span><span>*</span><span>int</span><span>)</span> <span>{</span>
	<span>*</span><span>*</span><span>*</span><span>*</span>i <span>=</span> <span>100</span>
<span>}</span></code></pre></div>
<p>This compiles and prints <code>i is now 100</code>. You too can be a 4-star Go programmer, it's just that easy.</p>
<p>But we can take this one step farther, and use a construct that Go has but C does not:
channels. Declared in code as <code>chan</code>.</p>
<p><span>
      <a href="https://www.dolthub.com/blog/static/445c20c53d8333439a2a6385fcfe6409/4b9ef/4chan.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="4 chan" title="" src="https://www.dolthub.com/blog/static/445c20c53d8333439a2a6385fcfe6409/4b9ef/4chan.jpg" srcset="https://www.dolthub.com/blog/static/445c20c53d8333439a2a6385fcfe6409/606a2/4chan.jpg 214w,
https://www.dolthub.com/blog/static/445c20c53d8333439a2a6385fcfe6409/65a3f/4chan.jpg 428w,
https://www.dolthub.com/blog/static/445c20c53d8333439a2a6385fcfe6409/4b9ef/4chan.jpg 641w" sizes="(max-width: 641px) 100vw, 641px" loading="lazy" decoding="async">
  </a>
    </span></p>
<p>You see where I'm going with this.</p>

<p>The basic idea is that we'll write a program that uses 4 layers of channel indirection to complete
some task. Our top-level channel has to be a 4-chan, so we declare it like this:</p>
<div data-language="go"><pre><code>_4chan <span>:=</span> <span>make</span><span>(</span><span>chan</span> <span>chan</span> <span>chan</span> <span>chan</span> <span>int</span><span>)</span></code></pre></div>
<p>(It's somewhat irritating for the purpose of this gag that Go doesn't let you begin an identifier
with a numeral, but that's life).</p>
<p>The values we send on that channel are 3-chans, like this:</p>
<div data-language="go"><pre><code>_3chan <span>:=</span> <span>make</span><span>(</span><span>chan</span> <span>chan</span> <span>chan</span> <span>int</span><span>)</span></code></pre></div>
<p>And so on, down to the lowly int channel itself.</p>
<p>At each layer of indirection, we'll spawn producers according to some constant branching factor:</p>
<div data-language="go"><pre><code><span>func</span> <span>sendChanChanChan</span><span>(</span>c <span>chan</span> <span>chan</span> <span>chan</span> <span>chan</span> <span>int</span><span>)</span> <span>{</span>
	<span>for</span> <span>range</span> factor <span>{</span>
		<span>go</span> <span>func</span><span>(</span><span>)</span> <span>{</span>
			logrus<span>.</span><span>Debug</span><span>(</span><span>"starting 3chan producer"</span><span>)</span>
			_3chan <span>:=</span> <span>make</span><span>(</span><span>chan</span> <span>chan</span> <span>chan</span> <span>int</span><span>)</span>
			<span>sendChanChan</span><span>(</span>c<span>,</span> _3chan<span>)</span>
		<span>}</span><span>(</span><span>)</span>
	<span>}</span>
<span>}</span></code></pre></div>
<p>And the same thing for consumers:</p>
<div data-language="go"><pre><code><span>func</span> <span>receiveChanChanChan</span><span>(</span>c <span>chan</span> <span>chan</span> <span>chan</span> <span>chan</span> <span>int</span><span>)</span> <span>{</span>
	<span>for</span> _3chan <span>:=</span> <span>range</span> c <span>{</span>
		logrus<span>.</span><span>Debug</span><span>(</span><span>"got message from 4chan"</span><span>)</span>
		<span>for</span> <span>range</span> factor <span>{</span>
			logrus<span>.</span><span>Debug</span><span>(</span><span>"starting 3chan consumer"</span><span>)</span>
			<span>go</span> <span>receiveChanChan</span><span>(</span>_3chan<span>)</span>
		<span>}</span>
	<span>}</span>
<span>}</span></code></pre></div>
<p>Finally we hit the bottom of the stack, where we send an actual value instead of a channel for
values.</p>
<div data-language="go"><pre><code><span>func</span> <span>send</span><span>(</span>_2chan <span>chan</span> <span>chan</span> <span>int</span><span>,</span> _1chan <span>chan</span> <span>int</span><span>)</span> <span>{</span>
	_2chan <span>&lt;-</span> _1chan
	<span>for</span> <span>range</span> factor <span>{</span>
		<span>go</span> <span>func</span><span>(</span><span>)</span> <span>{</span>
			logrus<span>.</span><span>Debug</span><span>(</span><span>"starting int producer"</span><span>)</span>
			<span>for</span> <span>range</span> factor <span>{</span>
				<span>go</span> <span>func</span><span>(</span><span>)</span> <span>{</span>
					logrus<span>.</span><span>Debug</span><span>(</span><span>"sending int"</span><span>)</span>
					_1chan <span>&lt;-</span> <span>1</span>
				<span>}</span><span>(</span><span>)</span>
			<span>}</span>
		<span>}</span><span>(</span><span>)</span>
	<span>}</span>
<span>}</span></code></pre></div>
<p>For the consumers, we have to do something with the values we receive. Let's add them together.</p>
<div data-language="go"><pre><code><span>var</span> sum <span>=</span> <span>&amp;</span>atomic<span>.</span>Int32<span>{</span><span>}</span>

<span>func</span> <span>receive</span><span>(</span>c <span>chan</span> <span>int</span><span>)</span> <span>{</span>
	<span>for</span> s <span>:=</span> <span>range</span> c <span>{</span>
		logrus<span>.</span><span>Debug</span><span>(</span><span>"received int"</span><span>)</span>
		sum<span>.</span><span>Add</span><span>(</span><span>int32</span><span>(</span>s<span>)</span><span>)</span>
	<span>}</span>
<span>}</span></code></pre></div>
<p>Now let's put it all together:</p>
<div data-language="go"><pre><code><span>const</span> factor <span>=</span> <span>3</span>

<span>var</span> sum <span>=</span> <span>&amp;</span>atomic<span>.</span>Int32<span>{</span><span>}</span>

<span>func</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
	<span>// logrus.SetLevel(logrus.DebugLevel)</span>

	_4chan <span>:=</span> <span>make</span><span>(</span><span>chan</span> <span>chan</span> <span>chan</span> <span>chan</span> <span>int</span><span>)</span>

	<span>go</span> <span>sendChanChanChan</span><span>(</span>_4chan<span>)</span>
	<span>go</span> <span>receiveChanChanChan</span><span>(</span>_4chan<span>)</span>

	time<span>.</span><span>Sleep</span><span>(</span><span>500</span> <span>*</span> time<span>.</span>Millisecond<span>)</span>

	fmt<span>.</span><span>Printf</span><span>(</span><span>"%d ^ 5: %d"</span><span>,</span> factor<span>,</span> sum<span>.</span><span>Load</span><span>(</span><span>)</span><span>)</span>
<span>}</span></code></pre></div>
<p>This prints <code>3 ^ 5: 243</code>. Which is correct! This program is a fully generalized way to compute a
number's fifth power in a maximally distributed way. You can play with it
<a href="https://go.dev/play/p/Pzf3aRnXpcE">here</a> (or view with syntax highlighting on GitHub
<a href="https://gist.github.com/zachmu/0209f3437bdda512b8c6170acb07d239">here</a>). For larger factors you may
need to increase the <code>Sleep</code> duration for it to run.</p>
<p>If you enable logging by uncommenting the first line, you'll get output like this that lets you see
the branching factor at each layer of channel production / consumption:</p>
<div data-language="bash"><pre><code><span>sort</span> 4chan.txt <span>|</span> <span>sed</span> <span>-e</span> <span>'s/.*msg=//'</span> <span>|</span> <span>uniq</span> <span>-c</span> <span>|</span> <span>sort</span> <span>-n</span>
      <span>1</span> <span>3</span> ^ <span>5</span>: <span>243</span>
      <span>3</span> <span>"starting 3chan producer"</span>
      <span>9</span> <span>"starting 2chan producer"</span>
      <span>9</span> <span>"starting 3chan consumer"</span>
     <span>27</span> <span>"starting 2chan consumer"</span>
     <span>27</span> <span>"starting chan producer"</span>
     <span>81</span> <span>"starting 1chan consumer"</span>
     <span>81</span> <span>"starting int producer"</span>
    <span>243</span> <span>"received int"</span>
    <span>243</span> <span>"sending int"</span></code></pre></div>

<p>There are a lot of reasons not to do this in real code: the difficulty of implementation and
debugging, having a little self-respect, not wanting to be clubbed to death by your peers' bulky
mechanical keyboards, etc.</p>
<p>On the other hand, it's extremely fun to do and pretty entertaining that it works at all.</p>
<p>So, trade-offs.</p>
<p>One of the best practical reasons not to send channels over channels is that it makes it really
difficult to ever close any of them, which obviously you would want to do in a real use case. At one
point I actually implemented close logic, which required adding a <code>sync.WaitGroup</code> everywhere so
that I could keep track of when all the channel sends were finished before closing anything, but it
made the gag much harder to read so I ditched it and stuck with <code>time.Sleep()</code> and massive goroutine
leaks.</p>
<h2 id="conclusion"><a href="#conclusion" aria-label="conclusion permalink"></a>Conclusion</h2>
<p>Have questions or comments about silly concurrency patterns in Go? Or maybe you are curious about
the world's first version-controlled SQL database? <a href="https://discord.gg/gqr7K4VNKe">Join us on
Discord</a> to talk to our engineering team and other Dolt users.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Scaling Rails and Postgres to millions of users at Microsoft (190 pts)]]></title>
            <link>https://stepchange.work/blog/scaling-rails-postgres-to-millions-of-users-at-microsoft-lessons-takeaways</link>
            <guid>41382687</guid>
            <pubDate>Wed, 28 Aug 2024 18:34:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://stepchange.work/blog/scaling-rails-postgres-to-millions-of-users-at-microsoft-lessons-takeaways">https://stepchange.work/blog/scaling-rails-postgres-to-millions-of-users-at-microsoft-lessons-takeaways</a>, See on <a href="https://news.ycombinator.com/item?id=41382687">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><section><article><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/kEpmQKaG43o?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="" title="Scaling Rails &amp; Postgres to Millions of Users at Microsoft: Lessons &amp; Takeaways"></iframe></figure><div><p>Do you have a Rails app built on PostgreSQL and need to scale it to millions of users? In this interview, I speak with </p><a href="https://www.linkedin.com/in/andyatkinson/?ref=stepchange-blog.ghost.io"><u>Andrew Atkinson</u></a><p>, one of </p><a href="https://stepchange.work/about?ref=stepchange-blog.ghost.io"><u>StepChange's expert consultants</u></a><p>, who brings deep expertise in optimizing Rails applications for performance and scalability.</p><p>Andrew’s expertise is backed by real-world experience—during his tenure at Microsoft, he played a key role in scaling the infrastructure for Flip (formerly Flipgrid), a video discussion and sharing app built for classrooms and beyond that </p><a href="https://www.edsurge.com/news/2018-06-18-microsoft-buys-video-discussion-platform-flipgrid?ref=stepchange-blog.ghost.io"><u>Microsoft acquired in 2018</u></a><p>, scaling it to support tens of millions of users.</p></div><p>Andrew is the author of the bestselling book <a href="https://pragprog.com/titles/aapsql/high-performance-postgresql-for-rails/?ref=stepchange-blog.ghost.io"><u>High Performance PostgreSQL for Rails</u></a>, published by <a href="https://pragprog.com/titles/aapsql/high-performance-postgresql-for-rails/?ref=stepchange-blog.ghost.io"><u>Pragmatic Programmers</u></a> in 2024. He is a frequent speaker at industry conferences, including PGDay Chicago and RailsConf, and has appeared on several technology podcasts.&nbsp;</p><p>In this interview, Andrew shares valuable tips and lessons on scaling your application to handle millions of users. We cover key topics like fine-tuning ActiveRecord queries, maximizing database efficiency, and integrating Sidekiq for high-throughput background job processing.&nbsp;</p><p>If you need help optimizing your Ruby application’s performance, our team at StepChange includes some of the world’s best experts. We specialize in <a href="https://stepchange.work/services/rails_performance_and_scalability?ref=stepchange-blog.ghost.io" rel="noreferrer">Rails performance and scalability</a>, ensuring your application can handle growth and deliver exceptional results. <a href="https://stepchange.work/contact-us?ref=stepchange-blog.ghost.io"><u>Contact us</u></a> today to start solving your performance challenges.</p><h2 id="full-transcript">Full Transcript</h2><p><strong>Harry Tormey:</strong></p>
<p>Hey everyone, my name is Harry Tormey. I'm the CTO of stepchange .work. We are a boutique consultancy with the world's best experts solving application and database performance issues. Today we're going to be talking to Andrew Atkinson, who is a Postgres expert who works with StepChange on some of our commercial engagements. And today Andrew is going to be talking to us about the world of Rails, Postgres performance and</p>
<p>all of those sort of good things. So Andrew, over to you. Why don't you introduce yourself?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Thanks for having me on Harry, excited to be here. Yeah, so I'm Andrew Atkinson. I've been a long time software engineer, more than 15 years. And the last five or six or so, I've been really focused on Postgres as a specific relational database, but really from the perspective of usage with applications, having worked at different companies and on different teams, I felt like there was</p>
<p>kind of specialization area that was often needed as companies reached a certain level of scale where, you know, it would be interesting to offer that on teams I'm part of, or now I'm offering it as a consultant as well. And it's been a pretty fulfilling process to go through and work on building these very specialized skills. And then, you know, meeting with different companies through this consultancy practice that I'm...</p>
<p>performing now for different companies. But yeah, I guess like, you know, my, my general background as a technologist is having been a application developer, mostly web applications with some of the bigger companies have been Microsoft and Groupon, and then a lot of startup companies, lot of kind of venture backed internet scale companies that are in a growth mode, and then going through that journey a couple of times at different places.</p>
<p><strong>Harry Tormey:</strong></p>
<p>That's a really awesome background, like I mean, and it's great that you've worked on Rails performance issues at Microsoft, as well as kind of early stage startups. So tell me a little bit about how you first got into database performance issues. How did you cut your teeth, Andrew?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, I've since learned the term accidental DBA from charity majors. And I was on a small team where we were running into, we were kind of looking at performance holistically as we were scaling up. That was, you know, things outside of Postgres and the application as well, but it could be other databases or, yep.</p>
<p><strong>Harry Tormey:</strong></p>
<p>And just as sorry to interrupt you, but what was the application stack that team was working on, Andrew?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yep. Yeah. That was a Ruby on rails monolithic application running on a post -gres 10 and we were deployed on AWS with elastic beanstalk and RDS. And, um, the, where I really cut my teeth was there was this opportunity. There was both a need and an opportunity to really help the team in this specific way as we were all kind of scrambling with, um, past</p>
<p>load that we had experienced and then knowing that future load was coming but in a quiet period. And the reason that that's not usually the case, know, usually you don't have that sort of up and down pattern, but in this case the reason was because it was an educational app used in K through 12 schools. So there was big load during the spring semester or the, you know, the spring time period before school was out and then almost nothing at all in the summer time. And that's when I was primarily performing this work.</p>
<p>but we knew that we were performing it because in fall we expected a huge, you know, crushing load of traffic again. So our pieces that didn't scale well, we're gonna not scale well again. And so we...</p>
<p><strong>Harry Tormey:</strong></p>
<p>Seasonality is such a huge thing with educational software. And could you tell us a little bit about the read and write characteristics or other interesting things about this educational application, just so our viewers understand and have a mental model of what the database's needs would have been?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, definitely. And, the, did actually do some product work. we didn't, we kind of had this, we were about five or six total engineers on that team. So we didn't really have divisions like an infrastructure team and a product team and that sort of thing. that point later on, as the team size grew, there were those kinds of divisions, but I was mostly working as essentially an application DBA in that summertime period,</p>
<p>I wasn't working super efficiently because I was learning a lot and I had this opportunity to learn and apply what I was learning there. But going back to the way the application worked, the reason I was mentioning all that is because later on I actually did more product development, but I kind of went back and forth a bit, which is actually how a lot of my career has gone is I've kind of gone back and forth a bit between application development and then more of an infrastructure focus. And the application was...</p>
<p>A video sharing app. So sort of like tick tock or something like that, but specifically for use in a imagine one that's designed more for kids. So it's going to have like a really fun and silly UI, you know, like a lot of stickers and effects and things like that, which I guess tick tock does too. But, and, but it's going to be, and then it's going to be used in a real specific way that more meant to be a private, somewhat private interaction between like a teacher and educator and their students. And it would augment the classroom learning. So it would be</p>
<p>creating a video about a topic, asking for video responses from the students, creating some engagement, and being able to do that using the internet and using mobile apps. And so the patterns then were, of course, writing in a lot of video and metadata types of comments, data about the video. And then a lot of, I would actually classify it more as kind of a social media style app where</p>
<p>A lot of the problematic patterns that we ran into were social media interactions. like likes and views and comments and that kind of thing. And making sure that interaction, which was coming in really fast all the time, was performing well. So it was efficient with millions of interactions. And</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>So yeah, lot of time what we, lot of the way that sort of shook out, which I can get into more is with relational databases. The challenge there is relational databases provide a lot of strong guarantees about your data and about the transactions that you're sending it. And so there's a balancing act there where the more guarantees that are provided can impact your concurrency capabilities from your client application or how you use the database. So we were looking at things</p>
<p>better understanding the impacts of multi -version concurrency control when we just update a column on a row. So like this particular video, it's relational database table row has a view count. We want to just update the view count. Turns out that's pretty hard to do when you're doing that millions of times in a short time period. And so, yeah, just learning about why that is in Postgres, what our alternatives</p>
<p>how we can optimize in place, those sorts of things were a lot of what I was focused on at that time period.</p>
<p><strong>Harry Tormey:</strong></p>
<p>So okay, to kind of read this back to you, Rails application, probably ORM is a very compelling point about this from an application developer's point of view, right? Like you get to</p>
<p>write code really quickly without thinking too deeply about the database. One of the use cases in an application like Twitter or YouTube is how many people looked at the thing. In order to keep that updated and accurate, you have to do a lot of writes to the database. That may not be apparent to the application developer. Can you talk us through maybe some features from an application developer's point of view that would be</p>
<p>problematic, right? Situations that you found yourself in when you were learning about all of this stuff where maybe you rolled out a feature and you're like, shoot, I didn't put this thing into the schema. This isn't a document -based thing. And maybe we don't have, I don't know if Postgres had their JSON thing back then, but we need to iterate in the schema. Can you walk me through a few of those scenarios that would screw up a application developer? Our application developer might not be thinking about that ahead of time when they're building their feature.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, it's a good way to think about the tension, I guess, between kind of the application developers' needs and the persistent store. Like the data store is all about, I'm making guarantees about, you know, if you send me data, like, I'm going to go through lots of hoops to make sure that it's gonna be there, you know, even if the database restarts and, you know, I can give you lots of things like the ability to replicate it to other instances and things like that.</p>
<p>But those are all, it's a different set of problems being solved than I need to build a video feature and wouldn't it be cool if like at a certain timestamp I could leave a comment or something like that. You know, that's a whole different set of problems that a product developer is looking at. And yeah, with an ORM, which is Active Record in Ruby on Rails or really any ORM, the idea is it's an abstraction layer on that interaction with the database as we send, you know, read and write queries to</p>
<p>relational database and by design so that the developer the product developer doesn't need to think about or even really know much about how that works and that actually works really well for a long time like Postgres other relational databases their general -purpose relational or they have a relational model, but their general -purpose data stores and What I've seen is And what I talk about</p>
<p>some clients that have hired me is understanding, like you said, thinking about some of the ways that certain features might play out in a non -optimal way in a relational model. And actually that's more of what your question is about, so let me go into that first. So I would say, know, there's a combination of things to look at. One is, first of all, is kind of just the instance that,</p>
<p>is serving the traffic, right? You typically, sometimes it kind of boggles my mind how we generally have one primary Postgres instances, Postgres instance that's serving all of this traffic, all of this write operations, concurrent write operations from lots of different users as they're generating activity from an application, creating objects, metadata, comments, you know, just doing things basically, that all needs to be persisted. And then simultaneously we're serving</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>the most up -to -date version of whatever's happening out to possibly, to likely many, like a multiple, sorry, what's the word I'm looking for? I was talking about, well, I wasn't saying we're serving data out, but at a order of magnitude higher typically, right? Like we commonly have something</p>
<p><strong>Harry Tormey:</strong></p>
<p>Are you talking about having multiple read instances?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>can be like a 10 to one ratio of read activity to write activity is not uncommon with a lot of web applications. So we need to serve this data back. And this is all, you know, typically one server instance, there might be read replicas and other things to split traffic out to.</p>
<p><strong>Harry Tormey:</strong></p>
<p>So from just to kind of pause you there, so from a product developer point of view, because especially with early stage startups, you know, after the thing has been built, it's easy to go back in retrospective and say, we've done all of these experiments and we now know that the product is going to look like this. But when you're actually starting to try and figure out the sausage recipe, you're iterating and doing all sorts of crazy stuff and it's total chaos and it's hard to have a sort of defined thing, especially for consumer applications, which I've worked on.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yep.</p>
<p><strong>Harry Tormey:</strong></p>
<p>To optimize. So to give people a mental model about when they're starting to enter into the danger zone, would you say typically it's things that are very read and write heavy, right? Say maybe an interactive chat app that would cause performance issues easy versus things that are maybe more read heavy. That's kind of less. Is it kind of like read and write or can you get into trouble with both? What would be from a feature point of view, canonical things like posting on a forum or just looking at like static</p>
<p>that's being rendered but maybe has to query the database because it's a DEMEMIC. Is there any patterns in product development that you could kind of just give people a mental model of like, you're starting to put out in this new feature. This might be a little bit tricky. You might want to take a step back and kind of talk with your CTO or some more senior engineers about like, is this going to be an issue? And should we do some sort of more cautionary rollout?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, it's a good question. And I guess I've been so focused on typically starting from Postgres and then kind of working back towards the application that I don't tend to think about it as much these days. But I do think, I mean, in terms of categories applications, real time applications, there certainly are examples where folks do use Postgres for, you know, capturing kind of like very high ingestion rate stream of changes, you know, like</p>
<p>you might find with a real time application, like a very heavy right pattern. But I think doing that again with Postgres being a general store, doing that without pretty significant knowledge of the ramifications of that in Postgres is not going to work very well. It's possible to do, but I think you need to really understand like essentially the operational model for heavy inserts and then, you know, maintenance and a bunch of other things. So</p>
<p>I tend to, most of my career, a lot of my career has been on like, I like the term information systems, but you know, you could call them often, or maybe it's because more recently I've worked more on multi -tenant kind of business to business apps that they don't really have these huge spiky patterns that like social media style apps or maybe real time types of apps might have, or know, flash sales or things like</p>
<p>When you are dealing with those are some of the, guess those are some of the categories where the relational data model is going to be, you're going to likely run into problems faster. And I think a lot of it is the concurrency and the contention for, shared resources. And. You know, as, as someone who has put a lot of energy into like how you can better leverage Postgres to handle those situations.</p>
<p>Where my brain goes is just like, just run two different instances, you know, like segregate your traffic. there, there's sort of like, as again, as a general store, I think the fun part about, you know, being kind of solutions focused with postgres is there's just so many things you can do with, running different instances and, configuring them differently, like different, you know, there there's another, I can talk about that more, but the way that a lot of, a lot of, client companies, I help.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>are using Postgres or a lot of teams have been part of, they don't have that kind of mindset or that sophistication level to say, certainly not to start out that way. So it's often about like, okay, well, where are things at now? We have these application patterns, heavy writes and reads to the same table, thousands of concurrent clients accessing it. We're running into...</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>You know, and then meanwhile, developers are creating new features and modifying the table in place, like with schema evolutions that are kind of rolling out and being deployed and we're a modern DevOps organization, so we run multiple releases per day. Those are usually the circumstances where I tend to get involved, I think, and trying to juggle those things and just kind of accept where things are at at the moment.</p>
<p><strong>Harry Tormey:</strong></p>
<p>Mm -hmm.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Helping clients show maybe what things could look like in the future, but really it's usually kind of addressing the current, you know, one instance serving a lot of different scenarios.</p>
<p><strong>Harry Tormey:</strong></p>
<p>So that's going to take.</p>
<p>a step back and talk about maybe one of these scenarios, because I think it's very sort of applicable to both the B2B use case that you talk about as well as maybe the more consumer one that suddenly is being featured in Hacker News or is on CNN and is getting tons of traffic coming in, which is the sudden spikes of traffic. And maybe talk through where does a Rails monolith on Postgres start to break and what are the things that you can do to sort of break</p>
<p>out into maybe read and write instances and get the most bang for your buck when RDS Talk Me True, that sort of scenario when you've gotten brought in to deal with that.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Sure, yeah, yeah, some of the categories definitely are connections from the application to the database. And then looking at the operations, like the right operations and a certain path for optimizing those, which could be moving if the tables are very large, moving to partition tables. And that's because you can have less contention because you can have different buckets. The way in Postgres with...</p>
<p>Partitioned tables you just have more tables. You just divide up a big table into a set of smaller tables And then on the read side again looking at the operations the read operations that's a there's a pretty well -known path there of Creating a read replica and in postgres you can actually do a couple of different types of replications Techniques you can do physical replication or logical replication with physical you just get a full copy of your server instance running in a read -only mode</p>
<p><strong>Harry Tormey:</strong></p>
<p>Mm -hmm.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>So as long as your application framework or another library that you use allows you to do this, can split any of the read queries to that separate instance. And then you can separate the load that would have been on that primary instance out to its own instance. So that could be, you know, if you've got a 500 gigabyte Postgres instance, like it's memory that's available, you could have a second one.</p>
<p>that's solely for the purpose of reads. And there's some caveats to that, of course, with replication. It takes a bit of time to send a lot of bytes of data over the network to another instance. But there's even some modern capabilities from different cloud providers where they've nearly removed replication lag from the equation with separating compute and storage. So I've worked on a team that used</p>
<p>those kinds of technologies where we could, we could more easily separate our read traffic from our write traffic. And then I think there's a lot of interesting performance. so as far as like, I guess, let me, let me go back a bit to your original question about the, some of the points where you run into issues. The connections when I mentioned was typically the application will have</p>
<p>database connections to Postgres are fairly costly. They have a process forking that needs some instance resources, some memories allocated to that process. because of that, there's some latency incurred whenever a query needs to run and a process is forked. And to get around that, then we can keep kind of a set of connections open and in an idle state that can be reused.</p>
<p><strong>Harry Tormey:</strong></p>
<p>going to have to jump in here and ask a question and thoughts on PG bouncer or things that should people should be thinking about when they're managing these expensive connections and maybe stuff about limitations on that that people should be mindful and aware of.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>and and that yeah go</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, for sure. Yeah. so typically the, it's, applications don't, at least with Postgres, as you're scaling up, you don't really need a connection pooling software or connection management software outside of what's provided in the framework. Cause it does its own kind of connection pooling and reuse. But as you're, as you're nudging me towards commonly, again, because these connections are costly and if you have a social media type of app, you're going</p>
<p>It's not, you know, it's likely that you could get into the thousands of concurrent connections that are actively performing work. there's a, you know, PG bouncer is one of a set of, a set of softwares that are called connection poolers and they act as kind of a proxy layer between the application and the database and they can more efficiently reuse connections by kind of pumping more transactions through them possibly, but there's a bunch of caveats. like with PG bouncer, there's several,</p>
<p>pooling modes that it makes available and there's a tension between getting more transactions processed on the same set of connections but taking away some of the features that you might need on your client application side. So things like prepared statements or advisory locks or some of the things that you might otherwise be able to use you can't use if with certain pooling modes with PG bouncer and</p>
<p>That's another piece of software you need to run as well. So that's a bit, a bit of work to set that up. And for that reason, some of the cloud providers either offer a variation of Postgres with a connection pool are built in, or they do offer a connection pooler as a service that you can add. That's of course going to be configured already for, you know, without network connectivity issues to your Postgres instance. And that's going to allow you to then reach greater numbers of concurrent connections without</p>
<p>running into issues that you might run into if you connect it directly to Pulsegres.</p>
<p><strong>Harry Tormey:</strong></p>
<p>That's a really good answer, Andrew. So before we can resume the conversation, top analytics or telemetry tools that people should configure, especially if they're thinking about bringing in an expert like you to help deal with the issues that they're having with their application and database performance.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, for sure. Yeah, there's reactive and you know, I think the, know, it's a cliche, but the crawl before you walk sort of concept. I think initially it's a reactive process from writing your application code and building your features that attracting usage, know, usually, usually clients that come to me, they are successful, which is great. Their business is growing and they have users and you know, a of new startups like</p>
<p>That's what they're fighting against initially is just no one knows about our product. Where are our customers? Like how do we sell to them efficiently and all that stuff? Like that's all, that's your first challenge to solve. But if you've reached that successful point where you have usage, then from a reactive point, the very first thing to try to get in place in my recommendation is, or my opinion is a PG stat statements, which is a well -known it's</p>
<p>Deliver it as an extension, but it's part of core Postgres, so it's called a module. But the idea is that you have all these queries running. The idea is that it provides you visibility into what are our most resource intensive queries, or queries like accessing and writing the most bytes of data, returning the most rows, that sort of thing. So it's really critical to say, like, where should we be spending our time?</p>
<p>And what you can do then is you can as use SQL to then query that you enable it, it starts to capture your query statistics. And then you can use SQL to then query your own statistics. And you can say, let's look at what our most problematic queries are. That's, that's definitely a reactive approach though. But what you're doing is you're trying to identify where to spend your optimization efforts. And then once you've identified that, another thing I recommend is there's an,</p>
<p>What's cool is there's a standard around this now, but there's a standard called SQL Commenter with support in a variety of frameworks and languages. Here we've looked at Python and Django. There's also support in Ruby and Rails. There's support in Go and some other languages and frameworks. And what that does then is as your queries arrive to Postgres, before they're sent from the application, you can kind of annotate or decorate your SQL query text with.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>information about the application. And that's going to be super helpful when you start from a reactive approach and you look at queries to know where your application code is that generated those queries.</p>
<p><strong>Harry Tormey:</strong></p>
<p>super super super important because if you're not a database person and you're used to basically dealing with users dot object that has god knows how many joins or whatever in it or other objects that are causing problematic query patterns being able to connect what you're seeing in the telemetry to the application business logic is super critical so please do continue and do that's an awesome point</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yep. Yeah. And really, really before, you know, query optimization is, I, you know, over now seven or so months of consulting, I, I have really gained a bigger appreciation for how challenging and, and in a sense, costly query optimization can be like when you actually are faced with here's the query, we can't change it. Here's the data. We can't change that. Of course.</p>
<p>It's it's not easy to do even as someone who really focuses on this a lot and that's not to say that I can't do something quickly, but it's it's hard to make as Where am I going with this where I'm going with this is sometimes it's you can make more impactful changes by going back out to the client application and saying What can we do here? Right? And so a lot of times for example, if you have a very costly</p>
<p>or a very costly operation that's reading some data, it's maybe doing a count of rows or it's just returning a huge result set or something. Before we even go down the path of what is arguably costly query optimization, can we make a trade off of read versus write and say, let's go and keep a counter cache of the counts of this particular query? It's very inexpensive to store this data.</p>
<p>It's inexpensive to compute it offline outside of a user's request. And then what we can do is when we query that, it's super fast, of course. We're just reading one column from like a table row.</p>
<p><strong>Harry Tormey:</strong></p>
<p>And just from an application point of view, do you really need to know that 1 ,523 ,600</p>
<p>and two people were actually watching the view or does it need to be roughly accurate is always kind of a question. Can you get away with not actually touching the database? I suppose a question that I have, because I'm not as familiar with you with Rails is how hard is it to change the configuration of your Rails app to take advantage of a different database setup? Like you're going from, we have one Postgres server, it lives here, to hey, we've done some analysis,</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>for sure.</p>
<p><strong>Harry Tormey:</strong></p>
<p>is going to be read replicas and this is where you go to write. How hard is it to configure and what do you do to do that?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, well, the good thing is that and part of why I think Rails has continued to stay relevant and successful despite being created about 20 years ago is it is in use at high scale organizations like GitHub, Shopify. And we've benefited as Rails developers from lots of big things that frankly aren't really needed at smaller scale, but are needed at bigger scale. So for example, a tiny one based on what we just talking about is</p>
<p>if your active record code is There's a couple of different active record methods to get the count of a set of things So you might put a sequel query together although with active record where you do, you know You read you read a particular table you join to some other tables You do some filtering on columns within those tables attributes in your object model and then you do a count of those things There's this cool If you if you're willing to change</p>
<p>or use from the beginning this size method instead of count. What that does is it lets you later on choose to use a counter cache feature that's built into Rails where you just slap another column on your table that's a cache column and the size method is counter cache aware. So if you just add that data and you populate it, then you can take advantage of no code changes to your application code and you can.</p>
<p>save yourself what would be a costly read query by making a very low cost read query, for example. A bigger one, a bigger change would be what ActiveRecord provides for both segregating your read and write traffic to different instances. As of ActiveRecord 6, which came out in around 2019 or 2020, they support multiple databases and then that's been leveraged in a few different ways. So we can set up writing and reading roles.</p>
<p>and we can configure the application models to use one of those roles, like writing and reading, depending on what it's trying to do. But even beyond that, there's automatic role switching, where if you know that you're accessing a read -only endpoint, like you want to read data and you're hitting a get HTTP endpoint, then you can automatically have</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>the application code will know to go to a reader instance if it's been configured and and there's some configurations options in there like allowing some replication lag and that sort of thing and that can that can spare you from having to make a lot of application changes but then getting that benefit of read and write segregation and then the last thing that's basically the same as that very similar to that is again with multiple databases and these are logical databases that could be on the</p>
<p>physical server instance or separate instances. ActiveRecord added sharding support and that's going to be application level sharding. But let's say you have very heavy write traffic and you want to run a couple of Postgres instances to segregate those writes. Then from the application level, you can set up configurations to map application models to those different instances and you can call them different shards.</p>
<p>It's a generic mechanism so you can kind of do different things. But one pattern there I've seen where that's really useful is again with the B2B business type apps. They might have the exact same schema design, know, so let's say it's like a time tracking software or something. You know, it's got a table to store like the hours that you've worked in and whether you've created an invoice and whether you've received a payment and whatnot. There might be the same schema design.</p>
<p>from customer one and customer two, but customer two might have much greater data volume and query volume. You can use the horizontal sharding feature in ActiveRecord then to give each of those customers their own Postgres instance. Maybe they have small instances, but they can then be scaled independently too. So you could say customer two, maybe they need a lot more CPU, a lot more IOPS and that sort of thing. that's a capability you have in the framework, which is pretty cool.</p>
<p><strong>Harry Tormey:</strong></p>
<p>That is really cool.</p>
<p>So Andrew, let's say I'm an application developer working in a Ruby shop and I've gone in and I've looked at and identified the top seven queries that are causing performance issues. And I want to go take those queries and try and figure out what in the application business logic is causing these problems and then fix them. Can you maybe walk me through some ideas or suggestions for that person that's trying to make that journey?</p>
<p>Assuming of course that they've done some of the things that you've talked about setting up PG stats this telemetry Tagging all that kind of stuff</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yep. Yeah, I think the, you know, going back to what we said before, sometimes there is more of a way to solve the problem without technology, but more with conversations with the product management or the product stakeholders. And, you know, for example, there might be a screen that is showing a bunch of things, but there's no pagination. And we can go and say, like, can we introduce pagination here?</p>
<p>we're just gonna show 10 results. The user's gonna have to click a little bit more if they need to get more data, but that's gonna allow us to deliver a much more reliable and scalable solution as data volumes grow and query volumes grow. And that sort of mindset, there's lots of ways to try to apply that. Kind of scrutinizing what is being accessed and making sure there isn't any unnecessary tables being joined.</p>
<p>there isn't any unnecessary sorting and ordering. There isn't any unnecessary fields being accessed. Like one thing I did recently was working on optimizing a query where the table had something like 75 fields and it was only being accessed in this one particular place but it was called a high volume where the data from that table was serialized into a JSON response and</p>
<p><strong>Harry Tormey:</strong></p>
<p>Mm -hmm.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>When I looked at it, was only there was fewer than half of the fields were actually needed. And so we cut it down and that we were able to first confirm with SQL that an equivalent query that wasn't using select star, but was using explicit list of fields would be much faster. And then I was like, well, why? And the reason was, is because one of the fields beyond the fields that were the ones that ultimately were accessed was a Jason field with a big amount of data in it. And</p>
<p>Postgres is flexible in that it lets you store up to a gigabyte of data in a text field. And so what can happen is if you have select star pattern in your application, then one day another developer might come along and add a gigabyte of text data in a table and now your query that was otherwise performing fine is now quite slow because you're just moving a lot of bytes of data like over the network. Yeah.</p>
<p><strong>Harry Tormey:</strong></p>
<p>and serializing them into a JSON object. I mean, that's a really cool example of something very simple, just looking at what you, what are you actually using? Because again, if you're a startup and maybe you've kind of rammed all of this stuff into an object that actually after all of the ABE tests have been resolved and all of the kind of user feedback sessions, it's actually just these couple of things that we need. And we forgot to get rid of that, but hey, loads of people are using this feature and there's this just</p>
<p>and</p>
<p><strong>Harry Tormey:</strong></p>
<p>thoughts there.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, for sure. indexes are, indexes for me remain like one of the most fascinating things about working with relational databases. They really just are meant to improve your read operations. They give you this more efficient to access data structure for your read operations compared with just reading all the rows on a table and trying to do an assort with kind of unordered data that is accessed, it is accessed sequentially, but it's</p>
<p>giving you a precise way to look up the data that you need, which is what indexes do. So the trade off there though, again, is it's a challenge to make a targeted index. So a lot of times what teams do is they do a best effort attempt at creating indexes. This is my perspective that I've seen, I guess, over the years. People try to say, they make sensible decisions, like this query</p>
<p>there's a few rules of thumb for index design. know, if the query is, if you're accessing a table, but you're accessing a portion of it, so you've got a where clause in your query, it's sensible to have index where that same column that's in the where clause is defined as a leading column in the index, for example. So sometimes with those kinds of guidelines, people might just start adding indexes. it's not through bad intentions, but I think</p>
<p>What I try to get clients to be aware of is to really have good visibility into whether their indexes are being used. And often what happens is they don't necessarily have that visibility. And I think a lot of folks on product teams as well, again, it goes back to what we've been talking about a lot in this show that product and application developers are working with an abstraction layer.</p>
<p>they're trying to make their queries faster, adding indexes that they think will be helpful. And they might actually even be, and the other reason that makes this difficult is indexes, Postgres is making a runtime decision as to whether or not to use an index. And it's often comparing what's being requested in the SQL query. It's not often, this is what it's doing. And it's</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>What I meant by often was it's often choosing between alternative plans and seeking out the lowest cost plan. And depending on your instance resources and your data distribution, so values even within a particular column, for example, can be significant. On one instance, like let's say your staging instance, your non -production instance, you might not have indexes picked or you might have indexes picked. And then you might have different behavior in your production</p>
<p>So that kind of like non -deterministic, I try to keep that in mind because I think that, and try to use that as like a source of empathy in a way that like, it is hard. Like you need to have good visibility to know that your indexes are used. And really where you care most is production. You want your queries to be efficient in your production environment. So with all that lead -in context in mind, what I try to do is,</p>
<p>get folks to know, or commonly what I see is there are a lot of unused indexes. So again, people were making their best attempt at optimizing their queries or even adding indexes they thought would be used based on some features that were coming, you know, or applications evolved over time and queries that did use indexes before no longer using those same indexes, or those indexes have been made redundant by newer variations.</p>
<p><strong>Harry Tormey:</strong></p>
<p>Mm -hmm.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>all of these sorts of reasons contribute to like, it's not unheard of for me to see like 50 % of the total indexes are just not used at all. And the impact of that with, yeah, with Postgres, the problem with that is then we're unnecessarily slowing down all of our write operations anytime those fields within that index are being touched because they need to be maintained in that index. And then we're never using those indexes. They're never being read.</p>
<p><strong>Harry Tormey:</strong></p>
<p>So just, yeah, go on, continue.</p>
<p><strong>Harry Tormey:</strong></p>
<p>So just to pause you, because I think there's an important maybe basic, maybe too basic point, but can you explain what an index is and why it makes looking up information faster? And the implications of if you have an index and you're not using it, why this slows down the database? Just so people have a bit of a clearer mental model and we're explaining from first principles.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yep. Yeah. So the way that the simple way that I try to, that I think of indexes, cause again, I'm not, yeah, I'm not, we're not going to get into the, you know, the B plus tree design and stuff like that. But I think of it as like, we're, basically lifting out, let's just say a single column index. We're filtering on the users by their email address. We have a user's table with tens of millions or more records in it. We want to look up a single email address.</p>
<p>The users table has a lot of other fields in it. It could even have 75 fields of data. So one option is we could read all of the fields of all of the rows and then we could essentially in memory work through that list and find it. And the index, primarily one of the benefits of why it's faster to access data is it's really just gonna have the email address in it in this example. It's not gonna have all these other fields.</p>
<p>So right away we have much less data that we're gonna access. And again, we're trying to, with the relational database, we're reading data off of a disk of an operating system somewhere. So at the end of the day, there is like hard disk drive or disk drive access speeds that is like one of our fundamental limiting factors. then, yep, yep. And then the other reason is because the...</p>
<p><strong>Harry Tormey:</strong></p>
<p>and paging into memory.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>the heap access or the table access isn't this sequential or isn't this ordered representation of the data we're trying to access. So with indexes, it's an ordered representation designed for access. thus, anytime we access data, want to, again, we're always trying to do that as efficiently as possible. We want to try</p>
<p>Essentially make a judgment call as to what's the most? Distinct piece of data we're trying to access commonly with index design. That's what we're trying to do is say what what is what amongst all of our table rows like What are the conditions for the smallest proportion of the data? Because then if we can put that in the index we can just laser focus in on exactly what we need and The trade -off though, of course is the index</p>
<p>at right time. So once that original user was written in, we're paying that cost of having their email address put into the index. So</p>
<p><strong>Harry Tormey:</strong></p>
<p>Well, yes, it's computing and also space, right? You have to kind of create the index that presumably takes some amount of operations and then store that index somewhere.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yep. So, so when we're, when we create indexes, we're really just creating a definition of an index. And when we do that initially, Postgres is going through and gathering up all that data for us and creating this separate data structure in its own separate file. that again could be accessed and put into memory and then it's accessed ideally from memory. But, we are creating that separate thing and there's a cost to that. So there is that right time cost. And then there's that space cost.</p>
<p>And then there's also this other subtle one where having those indexes in our memory, which is also a finite resource, means that something else can't be in there. Because it is a set of data that, like, and what I'm talking about here is the buffer cache and Postgres. And so we have a finite set of memory for our frequently, like our regularly accessed or frequently accessed data. We don't want to have content in there that is not useful content. That's not based on our read patterns.</p>
<p>And so, yep.</p>
<p><strong>Harry Tormey:</strong></p>
<p>So if you have lots and lots of unused indexes, maybe this is a function of ORAM or product development that didn't go anywhere, would it be fair to say this can create a scenario where it slows down holistically the entire database instances? Is that kind of how it manifests from an application point of view?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Well, it is tricky because I wouldn't say, think that's too broad of a stroke to paint. I would say that it's more like, you know, table by table kinds of operations, I guess. If you have a particular table that you're accessing frequently, that's also being inserted too heavily or updated or deleted from heavily. That's where unused indexes are gonna add unnecessary IO and latency to those operations.</p>
<p>And the other way that's a little less immediately a problem, but can be a big problem is it's not unheard of again, if you have, you know, 20, 30, 40, or even 50 % of your indexes and you have a large database, let's say you've got a hundreds of gigabytes or terabytes sized database. That means you also likely have hundreds of gigabytes of index content and that's going to slow down your,</p>
<p>backup and restore time and your bills, yeah.</p>
<p><strong>Harry Tormey:</strong></p>
<p>And bills. Yeah, because can you briefly maybe segue a little bit in terms of for people who are application developers or maybe not looking at the bottom line, like how can that get really expensive with, say, AWS and the way that they do billing? Is there anything that you want to call out there?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, for sure. Yeah, I guess I've learned about this as I've worked more on infrastructure teams and stuff, but typically the old, the older way of doing it anyways was you would provision your instance and you choose your storage upfront and you start paying for that. I think that's fair to say. so you might say, well, we need a terabyte of space and our database keeps growing and growing and growing and oops, now we need two terabytes of space. So now we're going to start paying for that. There are some other cloud offerings that give you,</p>
<p>price breaks up and down and that actually can be really good too to also as a reason to remove unused indexes. Let's say you can take off 300 gigabytes of space from what you actually need. know for example, I presented on this in the past but with Aurora, you pay in these 10 gigabyte increments so you can actually cut your space consumption bill down by cutting space out. so I think if you're very, for folks that work solely</p>
<p>the DB, those are some of the opportunities. There's also addressing bloat and rebuilding indexes and that sort of thing. But I think if you're more on the application side or product side, I kind of think about it more as like our infrastructure cost efficiency, you know, and we're spending money on our application servers, on our database servers, and there's a certain cost for that. Are we getting as much as we can from them?</p>
<p>You know, and if there's opportunities to perform some maintenance tasks, it might take a couple hours and then you get greater cost efficiency. We're getting more IO operations for less money or the same for less money. That to me is a win as far as your kind of your operating expenses.</p>
<p><strong>Harry Tormey:</strong></p>
<p>And just to kind of ask a follow up question, should you, before people go and just say, I'm going to kill all of these unused indexes, is there any best practices about retiring an unused index to avoid any disruption to users? Should you be doing this at off -peak hours? What are some kind of foot guns that are potential there? Could you talk a little bit about that?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, one of the main foot guns there is, is, which I've done myself is if you drop an index on a table that's actively being, written to a lot of times with postcards, we're working with locks and lock contention, whether it's the table being locked or row locks. So a drop index operation is going to take a certain lock that could then be, could block other table level operations. And you can then cause kind of like partial unavailability.</p>
<p>you know, or outages, but not, not for the whole application, but for a portion of it. Um, so post guys, uh, helpfully gives us this option since I think 14, uh, of dropping an index concurrently. So we always want to do that for anything that's like actually in use and busy is to use this concurrently keyword. And conveniently, the concurrently keyword is really like in my book, I wrote about this too, but</p>
<p>Just kind of want, think I even, there was a title or like a subtitle, like get in the habit of using concurrently as a default, you know, just like anywhere you can use it. There's several different commands that support it. And kind of as a mindset, like always think about, you know, if you have a running production application that there's going to be contention for, could be rows. And so how do we change things simultaneously with other things without, while minimizing</p>
<p>of locks and contention. So yeah, I'd say using concurrently is one. And then, yeah, typically, I'm a big fan of the PG analyze tool, which is a commercial SAS tool. But the approach that it takes is it scans each day for index usage data that Postgres gives us. So we can just do that ourselves. Anyone can access their Postgres.</p>
<p>I think it's the PG stat user indexes catalog. But you can see like are my indexes being scanned by my queries to help support read operations. And ones that aren't scanned at all are usually what we call unused indexes. What's cool about that is and what PG analyzer, you can roll this by hand yourself is if you just repeat that, then you kind of gain more confidence over time. It's, know, if across our entire application that's using this,</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>relational database whether it's user level kind of API traffic or its background jobs or its Cron jobs or things like that if we if you know 30 days past 60 days past etc There's never been one scan of an index. We can be pretty confident that it's not gonna ever be used And we can always add it back if we need it so I think kind of getting into that mindset of like a hygiene practice of saying You know periodically we're gonna look</p>
<p>unused indexes, we're going to remove those so that we know that we're efficient in terms of our write operations and our space consumption. I think it's a good practice.</p>
<p><strong>Harry Tormey:</strong></p>
<p>That's a really good, you know, some best practices and tips. I suppose we've kind of come to a point of the interview where I want to ask you a little bit more about Postgres internals, specifically thinking about the query planner or how Postgres does queries. Because I always found myself, even if I'm not a DBA or even if I'm not a back -end person, just understanding how a system works helps me reason about how I</p>
<p>my applications to leverage that system. So can you tell me, give us a little bit of an overview of how Query Planner works in Postgres and maybe some things to kind of be mindful from that perspective. Someone who's an application developer who's maybe not going to be in the weeds that you've learned.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, for sure. think the way you describe that is a great idea and a great suggestion. Even if folks, yeah, I think if you have an understanding of what Postgres is doing when your query is received by the planner and how it's gonna kind of break it down, then it can actually inform how you write your interaction types of code, whether it's writing or reading data. And so yeah, I think there's four phases.</p>
<p>But to sort of oversimplify it You know your your sequel query is generated like let's say it's generated by your ORM it's sent to postgres and then It's planned unless it's a prepared statement We'll leave that off the table for a moment, but we'll say Your your the planner or also called the optimizer and postgres land anyways is what it's gonna do is</p>
<p>you're writing a declarative SQL, you're saying I need to access these, this is what I want my result to look like. So it's gonna be this set of fields from one or more tables. And then because your data is probably normalized, you're gonna access multiple tables and multiple fields. You might have primary key, foreign key, joins, and that sort of thing. So Postgres is gonna break all that down, parse that query, and say what are the things I need to access?</p>
<p>And then it's gonna say, how can I do that at the lowest cost? So it makes a cost -based runtime decision. So I might say that, let's say you have a users table and you have a notifications table, just making these up. But it might say that for notifications, we wanna access the last notified at column and we wanna access the user ID column. I wanna find this user's notifications.</p>
<p>So then Postgres might say, well, on that table, then do I have any indexes that could support this query? Because I know I can access those at a lower cost. If I don't, I'm going to do a sequential scan on the table. So I'm going to read the whole table. And the planner creates this tree representation of what it's going to do, which is the query plan. The cool thing in Postgres is we get a lot of really rich detail that we can look at as to what any query would look like.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>how it's gonna be planned using the explain keyword.</p>
<p><strong>Harry Tormey:</strong></p>
<p>Is this in the logs or where does this detail show up, Andrew?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>This would be if you have the source SQL query, this would be using the explain keyword in front of the query, which you could do manually.</p>
<p><strong>Harry Tormey:</strong></p>
<p>so it shows you like the reason why it's executing this query. It gives you more context if you use that explain keyword.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yep, yeah, it shows you the execution plan based on everything it knows about at that moment that it plans to do. It could still take a different path, but what we can do is we can also see both prior to the actual query executing using explain, or we can then add the analyze keyword. So it's explain, analyze, then your SQL query. That's gonna show us afterwards what it actually did.</p>
<p>And what's cool about that too is that it intermixes the, or it still retains the estimated plan and the actual plan. And you can see then sometimes interesting data, like what Postgres thought the number of rows were in a table versus what the actual number of rows are. Sometimes that can be off quite a bit. And then that indicates.</p>
<p><strong>Harry Tormey:</strong></p>
<p>Mm -hmm.</p>
<p><strong>Harry Tormey:</strong></p>
<p>Why would that be off, Andrew? What would cause that to be off?</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Yeah, it's a good question. That is category of poor performing queries that are gonna be more related to sort of your database operational health. what, the first thing I would look at there if I was looking at that is the table is the statistics collection for the data within the table that Postgres does, which is a critical part of its query planning. It's really actually critical that that's as up to date and as fresh as possible.</p>
<p>and really regularly. And what can happen sometimes is that slows down and degrades. And.</p>
<p>That can again happen due to if the table is very heavily, if there's a very heavy amount of concurrent modifications to row data and content within the table, then.</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>the process that normally captures those statistics will just simply slow down. And so it could be that what you need to do in that case is give it more resources. But what you wanna do to kinda immediately rectify that problem is you wanna do a, that use the analyze command, for example, on a table, which will refresh the statistics Postgres captures about the row data.</p>
<p>because again, the row data, and this is something I talked about in the book too, this is something again that I think is pretty far removed from a typical application developers kind of brain space or mind space, but not only are we working at an abstraction layer, ultimately generating SQL queries to send to the database, the database itself is also in charge with accessing data, but it's relying on statistics about the data.</p>
<p><strong>Harry Tormey:</strong></p>
<p>So if its data source is falling behind what the actual state of the world is, its planning is going to be deficient because it's acting on faulty data. That's kind of a signal that allows you to...</p>
<p><strong>Andrew Atkinson:</strong></p>
<p>Exactly. Yeah, just like just like you or I would if we were acting on faulty data and making a selection We're at two doors. We can go down door one or door two you know, and and if our goal was to You know find some kind I'm really going off on a weird example but if we wanted to if one of those doors had the target that we were looking for but we were You know, we had misestimated information about those the contents of those rooms then we would make the wrong plan choice and</p>
<p>A lot of times that is the circumstances folks start from is why is the query planner making or just my query slow? Then they might determine, this plan selection was odd. It didn't use my index. I thought it would. And then sometimes the actual root issue could be bad planner statistics. Postgres also gives us some options to. Postgres can't keep track of every single row and every single column. Well. Like.</p>
<p>Let me rephrase that. Postgres keeps track of samples of rows in a table, and it keeps track of statistics about things like the distribution of data within a column. And it's, again, trying to make a trade -off of, you know, just like we would, too, at making any sort of decision. You can't know everything all the time, right? Like, that's kind of the way I would maybe oversimplify</p>
<p>So it's trying to collect enough information that's gonna be relevant to its decision making. And sometimes as the operators, we can feed it with a little more information. We can say, for this table, I actually want you to collect more samples. Or for this particular column, I want to express like a relationship that you might not know about between two columns.</p>
<p><strong>Harry Tormey:</strong><br>
So this kind of You know the way that you're describing the query planner has a lot of value from someone who's tuning maybe configuration variables around Postgres or you know playing around with that. Has your knowledge of the query planner and how it interacts with Postgres ever caused you to advise maybe some application level changes? Like if you're an application developer maybe not someone who's kind of going in there playing with configurations. Does this knowledge allow you to write better SQL or your sequel or figure out what's going on with the ORM. Could you maybe talk a little bit if that's the case?</p>
<p><strong>Andrew Atkinson:</strong><br>
Yeah, I think it's really just the most beneficial and maybe coarse -grained or 80 -20 sort of way I would answer that question is just understanding what is being accessed from your table data. And if you're doing a read query, making sure that you're likely making sure that there's an index supporting that read query. And the way that you would do that is you'd look at an explain plan and you'd see</p>
<p>index is not being used and then once you add the index the explain plan will show you the index was used so you'd access the same data but you do it much more efficiently with an ordered data structure and something we haven't really gotten into but Postgres shows you its own storage unit is these these something called buffers so when you can</p>
<p>imagine that your row data which lives in a data page and then those pages can be put in as buffers into your Memory and then data is accident probably getting into too much details here I'd say that yeah, the biggest thing is basically just learning to read the explain plans for the queries that you're generating and then on the application side again kind of getting into a mindset of Okay, we're writing code here where</p>
<p>filtering on rows where We have kind of unbounded access to this table We don't have any restrictions like a date range restriction or a row count limit I have this query that is joining five different tables, but There's also some denormalization in effect like maybe we have a tenant identifier column on all of them maybe we don't actually need to join five tables we just need to join two and</p>
<p>You can see each of the costs of each of those things I just described, like whether it's kind of unbounded access versus restricted access, the costs of those joins and how Postgres is choosing to merge that data together. And the other thing I mentioned, which I forgot about, you can see what those are in the query plan as you make variations. And I think that then informs having that sort of mindset on the application side of trying to write things as efficiently as possible from the outset.</p>
<p><strong>Harry Tormey:</strong><br>
These are really great debugging tips because you've given us the sort</p>
<p>mental model of like, guys, if you've really iterated on this object and you're not using a bunch of indexes, you should probably get rid of them. But then you've also sort of given another valuable tool to just have a mental model about how is Postgres using the SQL that's generated from the ORM and is it actually behaving, actually behaving the way that you expect it to. Is it using an index? And if it's not, why is that? Is the row count off? Do you need to change something about the configuration?</p>
<p>excellent pieces of advice. So Andrew, you have a shiny new Rails book out and it would be remiss and I want to be mindful of your time because we're over an hour here and this has been awesome stuff. Pitch the Rails book and tell us about what's in it and how you approach it because it sounds like just a mine of information that would be really useful for Ruby devs dealing with Postgres.</p>
<p><strong>Andrew Atkinson:</strong><br>
Thanks, yeah, the book is called High Performance Postgres for Rails. Actually, I have one right next to me, right here, so I can pull it up. Yeah, it's available and it's, they're called the Pragmatic Programmers and they, I was really excited to work with them because I personally have purchased a lot of PragProg books, you know, throughout my career</p>
<p><strong>Harry Tormey:</strong><br>
What? Live? Ooh, that looks good. And who published it?</p>
<p><strong>Andrew Atkinson:</strong><br>
Think of them as one of the publishers of the top books in the Ruby world in particular. And there's another PrideCrog book, Seek SQL Anti -Patterns that I am familiar with and was kind of somewhat of an inspiration to work with them as well for me. yeah, so the book is, the way I describe the book is it's actually like 75 % Postgres book, maybe 25 % Ruby on Rails.</p>
<p>And I have had some folks tell me that they're still finding it useful even though they don't work with Rails and never have before. But they build web applications with other similar kinds of MVC monolithic frameworks like could be PHP and Laravel or Node and Prisma or something like that. And the real purpose of the book is basically to go into more breadth and depth on some of the things we've been talking about today, which is I have an application that's working with Postgres.</p>
<p>I'm learning more about how it works and what I can exploit, what are painful areas, how to keep things healthy, maybe some re -architecture too as I move into more advanced features like table partitioning. And that's all in the book. it's written in a, it's 15 chapters. It's written like in a way you could read it from the front to the end, like with a narrative style. But.</p>
<p>At the end, also am proud of a field guide section that we added in pretty late based on some feedback from earlier readers where it's like the opposite where you can just start from problems. can say, I'm having, you know, if you have certain problems you've identified, you can look in the field guide and see if it has, you know, and if there's any hits on the problems you have. And then it'll give you references back into the book to go and read about a certain</p>
<p><strong>Harry Tormey:</strong><br>
This book sounds absolutely amazing Andrew and I just want to say thank you so much for your time. I really appreciate talking to you and I think anyone watching this will have a few handy tips to take back to their Rails or other kind of Postgres with an ORM application setup. So thank you so much. I'm going to stop the interview.</p>
</article></section><section><h2>You may also like…</h2></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[New Anti-Toxicity Features on Bluesky (101 pts)]]></title>
            <link>https://bsky.social/about/blog/08-28-2024-anti-toxicity-features</link>
            <guid>41382579</guid>
            <pubDate>Wed, 28 Aug 2024 18:24:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bsky.social/about/blog/08-28-2024-anti-toxicity-features">https://bsky.social/about/blog/08-28-2024-anti-toxicity-features</a>, See on <a href="https://news.ycombinator.com/item?id=41382579">Hacker News</a></p>
<div id="readability-page-1" class="page"><section><header><section><a href="https://bsky.social/about/blog">Blog</a><svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 10L6 6L2 2" stroke="#667999" stroke-width="2" stroke-linecap="square"></path></svg><span>New Anti-Toxicity Features on Bluesky</span></section><div><p>August 28, 2024</p><p><span>by <!-- -->Paul Frazee</span></p></div></header><div><p><em>We are publishing a series of blog posts on Trust &amp; Safety efforts at Bluesky. This is the first in the series.</em></p>
<p>Trust and Safety (T&amp;S) affects everything — from community policy and spam detection, all the way to the order that replies show up on a post. At Bluesky, the product team works hand-in-hand with T&amp;S to design features that balance safety, ease of use, and fun.</p>
<p>In this blog, we’re taking a look at specifically <em>toxicity</em> (harassment, dunking, etc.) and some steps we’re taking to mitigate it from the product perspective. Be sure to update your app to the latest version (1.90) to access many of these features!</p>
<h2>Detaching quote posts</h2>
<p>As of the latest app version, released today (version 1.90), users can view all the quote posts on a given post. Paired with that, you can detach your original post from someone’s quote post.</p>
<p>This helps you maintain control over a thread you started, ideally limiting dog-piling and other forms of harassment. On the other hand, quote posts are often used to correct misinformation too. To address this, we’re leaning into labeling services and hoping to integrate a Community Notes-like feature in the future.</p>
<p>Note: Like blocks, quote post removals are public data. The Bluesky app won’t list all the quote post removals directly on your post, but developers with knowledge of the Bluesky API will be able to access this data.</p>
<figure>
    <img src="https://bsky.social/about/images/blogposts/remove-quote-post.png" alt="Detaching a quote post" width="500">
    <figcaption>Detaching the original post from a quote post.</figcaption>
</figure>
<h2>Hiding replies</h2>
<p>In app version 1.90, you can now hide replies on your post. Only the original creator of the thread can hide replies. All hidden replies will be placed behind a <em>Hidden replies</em> screen — so they’re still accessible, but much less visible.</p>
<p>Note: Hidden replies – and which posts were hidden by the author – are still public data.</p>
<figure>
    <img src="https://bsky.social/about/images/blogposts/hide-replies.png" alt="Hiding replies" width="500">
    <figcaption>How to hide a reply.</figcaption>
</figure>
<h2>Priority notification filters</h2>
<p>If you navigate to Notifications and click the Settings cog in the top right corner, you can now manage your notifications more. With the priority notifications feature, you can filter your notifications to only receive updates from people you follow. We hope this is helpful for people with large followings who are always receiving an influx of notifications, and also for people who may not have expected that their post would get so much attention.</p>
<p>We’ll keep tuning this feature and adding additional options for notifications.</p>
<figure>
    <img src="https://bsky.social/about/images/blogposts/priority-notifications.png" alt="Priority notification settings" width="500">
    <figcaption>Find the priority notifications filter setting in the Notifications tab.</figcaption>
</figure>
<h2>Changes to how replies show in timelines</h2>
<p>Historically, in the Bluesky app, we show every reply in the Following feed. This means that every reply has the same visibility as a top-level post, which is often not a user’s intention. We’re reducing the frequency of showing replies in the Following feed to only show conversations that involve replies between at least two people you follow.</p>
<p>Additionally, this update should make it much easier for you to update older threads. Now, when you reply to an older thread of yours, it’ll get bumped to the top of your followers’ feeds. (You’ll no longer have to repost your own reply to surface it to your followers.) This update also prevents replies from being separated from the top-level post, making them easier to understand.</p>
<figure>
    <img src="https://bsky.social/about/images/blogposts/reply-format.png" alt="New reply format" width="800">
    <figcaption>How replies are now displayed.</figcaption>
</figure>
<h2>Applying blocks to lists</h2>
<p>Bluesky has three kinds of lists: <a href="https://bsky.social/about/blog/06-26-2024-starter-packs">starter packs</a>, curational user lists, and moderation lists.</p>
<p>Now, when you block the creator of a starter pack or a curational user list, you’ll be filtered out of any lists they create. (Blocks still have no effect on moderation lists, because that would defeat their purpose.)</p>
<p>Additionally, we’re updating our policies around acceptable list titles and descriptions and will be labeling lists more aggressively. We’ll share more on this in a blog post next week from the Trust &amp; Safety team.</p>
<h2>Future work</h2>
<p>Product work, especially as it relates to Trust &amp; Safety, is always a continuous effort. We’re also making some updates on our backend infrastructure to combat ban evasion, botnets, and other forms of toxicity.</p>
<p>We’ll be publishing an update next week from the Trust &amp; Safety team on some of these efforts.</p></div></section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Kotlin for Data Analysis (160 pts)]]></title>
            <link>https://kotlinlang.org/docs/data-analysis-overview.html</link>
            <guid>41382578</guid>
            <pubDate>Wed, 28 Aug 2024 18:24:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://kotlinlang.org/docs/data-analysis-overview.html">https://kotlinlang.org/docs/data-analysis-overview.html</a>, See on <a href="https://news.ycombinator.com/item?id=41382578">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><main><div><article data-shortcut-switcher="inactive">  <p id="2939ff54">Exploring and analyzing data is something you may not do every day, but it's a crucial skill you need as a software developer.</p><p id="5dd604df">Let's think about software development duties where data analysis is key: analyzing what's actually inside collections when debugging, digging into memory dumps or databases, or receiving JSON files with large amounts of data when working with REST APIs, to mention some.</p><p id="fca2daa8">With Kotlin's Exploratory Data Analysis (EDA) tools, such as <a href="#notebooks" id="b1ff52fe">Kotlin notebooks</a>, <a href="#kotlin-dataframe" id="a51fe6fc">Kotlin DataFrame</a>, and <a href="#kandy" id="c54b2072">Kandy</a>, you have at your disposal a rich set of capabilities to enhance your analytics skills and support you across different scenarios:</p><ul id="adde89cc"><li id="8d831a47"><p id="bbab6aa6"><b id="3cc12064">Load, transform, and visualize data in various formats:</b> with our Kotlin EDA tools, you can perform tasks like filtering, sorting, and aggregating data. Our tools can seamlessly read data right in the IDE from different file formats, including CSV, JSON, and TXT.</p><p id="14857dfc">Kandy, our plotting tool, allows you to create a wide range of charts to visualize and gain insights from the dataset.</p></li><li id="c7261034"><p id="7b05b500"><b id="9cf95069">Efficiently analyze data stored in relational databases:</b> Kotlin DataFrame seamlessly integrates with databases and provides capabilities similar to SQL queries. You can retrieve, manipulate, and visualize data directly from various databases.</p></li><li id="20508e83"><p id="9baadd4a"><b id="c03f7835">Fetch and analyze real-time and dynamic datasets from web APIs:</b> the EDA tools' flexibility allows integration with external APIs via protocols like OpenAPI. This feature helps you fetch data from web APIs, to then clean and transform the data to your needs.</p></li></ul><p id="e2216733">Would you like to try our Kotlin tools for data analysis?</p><figure id="3a47b7e8"><a href="https://kotlinlang.org/docs/get-started-with-kotlin-notebooks.html" id="4b1eb3b2"><img alt="Get started with Kotlin Notebook" title="Get started with Kotlin Notebook" src="https://kotlinlang.org/docs/images/kotlin-notebooks-button.svg" width="600" height="50"></a></figure><p id="2071f4b8">Our Kotlin data analysis tools let you smoothly handle your data from start to finish. Effortlessly retrieve your data with simple drag-and-drop functionality in our Kotlin Notebook. Clean, transform, and visualize it with just a few lines of code. Additionally, export your output charts in a matter of clicks.</p><figure id="441f6669"><img alt="Kotlin Notebook" title="Kotlin Notebook" src="https://kotlinlang.org/docs/images/data-analysis-notebook.gif" width="700" height="561"></figure><section><h2 id="notebooks" data-toc="notebooks">Notebooks</h2><p id="1e51d12e"><em id="64ff225e">Notebooks</em> are interactive editors that integrate code, graphics, and text in a single environment. When using a notebook, you can run code cells and immediately see the output.</p><p id="151013ce">Kotlin offers different notebook solutions, such as <a href="#kotlin-notebook" id="89955793">Kotlin Notebook</a>, <a href="#kotlin-notebooks-in-datalore" id="95b4c8b0">Datalore</a>, and <a href="#jupyter-notebook-with-kotlin-kernel" id="dd796538">Kotlin-Jupyter Notebook</a>, providing convenient features for data retrieving, transformation, exploration, modeling, and more. These Kotlin notebook solutions are based on our <a href="https://github.com/Kotlin/kotlin-jupyter" id="9f27d4d" data-external="true" rel="noopener noreferrer">Kotlin Kernel</a>.</p><p id="e99c7c82">You can seamlessly share your code among Kotlin Notebook, Datalore, and Kotlin-Jupyter Notebook. Create a project in one of our Kotlin notebooks and continue working in another notebook without compatibility issues.</p><p id="a56cf00b">Benefit from the features of our powerful Kotlin notebooks and the perks of coding with Kotlin. Kotlin integrates with these notebooks to help you manage data and share your findings with colleagues while building up your data science and machine learning skills.</p><p id="ef3e0517">Discover the features of our different Kotlin notebook solutions and choose the one that best aligns with your project requirements.</p><figure id="3b12adca"><img alt="Kotlin Notebook" title="Kotlin Notebook" src="https://kotlinlang.org/docs/images/kotlin-notebook.png" width="700" height="651"></figure><section><h3 id="kotlin-notebook" data-toc="kotlin-notebook">Kotlin Notebook</h3><p id="985f98a6">The <a href="https://kotlinlang.org/docs/kotlin-notebook-overview.html" id="d35b17d">Kotlin Notebook</a> is a plugin for IntelliJ IDEA that allows you to create notebooks in Kotlin. It provides our IDE experience with all common IDE features, offering real-time code insights and project integration.</p></section><section><h3 id="kotlin-notebooks-in-datalore" data-toc="kotlin-notebooks-in-datalore">Kotlin notebooks in Datalore</h3><p id="94dbe56a">With <a href="https://datalore.jetbrains.com/" id="d38e231a" data-external="true" rel="noopener noreferrer">Datalore</a>, you can use Kotlin in the browser straight out of the box without additional installation. You can also share your notebooks and run them remotely, collaborate with other Kotlin notebooks in real-time, receive smart coding assistance as you write code, and export results through interactive or static reports.</p></section><section><h3 id="jupyter-notebook-with-kotlin-kernel" data-toc="jupyter-notebook-with-kotlin-kernel">Jupyter Notebook with Kotlin Kernel</h3><p id="40b078da"><a href="https://jupyter.org/" id="d7a64457" data-external="true" rel="noopener noreferrer">Jupyter Notebook</a> is an open-source web application that allows you to create and share documents containing code, visualizations, and Markdown text. <a href="https://github.com/Kotlin/kotlin-jupyter" id="f105ffae" data-external="true" rel="noopener noreferrer">Kotlin-Jupyter</a> is an open-source project that brings Kotlin support to Jupyter Notebook to harness Kotlin's power within the Jupyter environment.</p></section></section><section><h2 id="kotlin-dataframe" data-toc="kotlin-dataframe">Kotlin DataFrame</h2><p id="719076a0">The <a href="https://kotlin.github.io/dataframe/overview.html" id="6ecafd58" data-external="true" rel="noopener noreferrer">Kotlin DataFrame</a> library lets you manipulate structured data in your Kotlin projects. From data creation and cleaning to in-depth analysis and feature engineering, this library has you covered.</p><p id="47f49b57">With the Kotlin DataFrame library, you can work with different file formats, including CSV, JSON, XLS, and XLSX. This library also facilitates the data retrieval process with its ability to connect with SQL databases or APIs.</p><figure id="d31bc100"><img alt="Kotlin DataFrame" title="Kotlin DataFrame" src="https://kotlinlang.org/docs/images/data-analysis-dataframe-example.png" width="700" height="570"></figure></section><section><h2 id="kandy" data-toc="kandy">Kandy</h2><p id="9203bd6e"><a href="https://kotlin.github.io/kandy/welcome.html" id="690b29fa" data-external="true" rel="noopener noreferrer">Kandy</a> is an open-source Kotlin library that provides a powerful and flexible DSL for plotting charts of various types. This library is a simple, idiomatic, readable, and type-safe tool to visualize data.</p><p id="957e82a3">Kandy has seamless integration with Kotlin Notebook, Datalore, and Kotlin-Jupyter Notebook. You can also easily combine the Kandy and Kotlin DataFrame libraries to complete different data-related tasks.</p><figure id="6ba6b39"><img alt="Kandy" title="Kandy" src="https://kotlinlang.org/docs/images/data-analysis-kandy-example.png" width="700" height="570"></figure></section><section><h2 id="what-s-next" data-toc="what-s-next">What's next</h2><ul id="7542c307"><li id="6ca03f"><p><a href="https://kotlinlang.org/docs/get-started-with-kotlin-notebooks.html" id="5c924e61">Get started with Kotlin Notebook.</a></p></li><li id="fd687932"><p><a href="https://kotlinlang.org/docs/data-analysis-work-with-data-sources.html" id="d7e3854b">Retrieve and transform data using the Kotlin DataFrame library.</a></p></li><li id="247df834"><p><a href="https://kotlinlang.org/docs/data-analysis-visualization.html" id="75951b2a">Visualize data using the Kandy library.</a></p></li><li id="41510696"><p><a href="https://kotlinlang.org/docs/data-analysis-libraries.html" id="3ac15db4">Learn more about Kotlin and Java libraries for data analysis.</a></p></li></ul></section><p> Last modified: 16 May 2024</p></article>  </div></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Window Maker: X11 window manager with the look and feel of the NeXTSTEP UI (256 pts)]]></title>
            <link>https://www.windowmaker.org/</link>
            <guid>41382335</guid>
            <pubDate>Wed, 28 Aug 2024 18:05:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.windowmaker.org/">https://www.windowmaker.org/</a>, See on <a href="https://news.ycombinator.com/item?id=41382335">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
        <h2 id="introduction">Introduction</h2>

<p><strong>Window Maker</strong> is an X11 <a href="https://en.wikipedia.org/wiki/Window_manager">window
manager</a> originally designed to
provide integration support for the <a href="http://gnustep.org/">GNUstep</a> Desktop
Environment, although it can run stand alone. In every way possible, it
reproduces the elegant look and feel of the
<a href="https://en.wikipedia.org/wiki/NeXTSTEP">NeXTSTEP</a> user interface.</p>

<p><a href="https://www.windowmaker.org/img/wmaker.png"><img src="https://www.windowmaker.org/img/wmaker_thumb.png" alt="Default Window Maker config"></a></p>

<p>Window Maker on first run</p>

<p>The key features of Window Maker are:</p>

<ul>
  <li>Stacking window manager with ability for semi-automatic tiling management</li>
  <li>Lightweight and blazing fast</li>
  <li>Easy to use</li>
  <li>Highly configurable</li>
  <li>Ability to bind keyboard shortcut to wide set of actions</li>
  <li>Dynamic menu entries</li>
  <li>Small, dockable apps (<a href="https://www.dockapps.net/">dockapps</a>)</li>
  <li>Human readable config files and GUI prefs application</li>
  <li>Free and open source</li>
  <li>Active community from all of the world</li>
</ul>

<p>See <a href="https://www.windowmaker.org/features.html">features</a> section for more. In <a href="https://www.windowmaker.org/screenshots/">screenshots</a>
section you can see examples of how users set up their desktops.</p>

<h2 id="download">Download</h2>

<p>Many distributions already have Window Maker included in their software
repositories, so it could be installed directly from there. Other sources are
listed below:</p>

<ul>
  <li>Latest source of stable version is
<a href="https://www.windowmaker.org/pub/source/release/WindowMaker-0.96.0.tar.gz">0.96.0</a>,
released on 2023-08-05. See the <a href="https://www.windowmaker.org/news">NEWS</a> section for more information.</li>
  <li>Source code is also available through the
<a href="http://repo.or.cz/w/wmaker-crm.git">git repository</a></li>
  <li>Older versions of Window Maker may be obtained from the <a href="https://github.com/window-maker/wmaker/releases">GitHub releases page</a> or directly from <a href="https://www.windowmaker.org/pub/source/release/">our website</a>.</li>
</ul>

<h2 id="bugs">Bugs</h2>

<p>Report bugs at <a href="https://github.com/window-maker/wmaker/issues">https://github.com/window-maker/wmaker/issues</a>.</p>

      </article></div>]]></description>
        </item>
    </channel>
</rss>